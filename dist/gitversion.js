/* eslint-disable */
//prettier-ignore
module.exports = {
name: "@yarnpkg/plugin-gitversion",
factory: function (require) {
var plugin = (() => {
  var __create = Object.create;
  var __defProp = Object.defineProperty;
  var __defProps = Object.defineProperties;
  var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
  var __getOwnPropDescs = Object.getOwnPropertyDescriptors;
  var __getOwnPropNames = Object.getOwnPropertyNames;
  var __getOwnPropSymbols = Object.getOwnPropertySymbols;
  var __getProtoOf = Object.getPrototypeOf;
  var __hasOwnProp = Object.prototype.hasOwnProperty;
  var __propIsEnum = Object.prototype.propertyIsEnumerable;
  var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, {enumerable: true, configurable: true, writable: true, value}) : obj[key] = value;
  var __spreadValues = (a, b) => {
    for (var prop in b || (b = {}))
      if (__hasOwnProp.call(b, prop))
        __defNormalProp(a, prop, b[prop]);
    if (__getOwnPropSymbols)
      for (var prop of __getOwnPropSymbols(b)) {
        if (__propIsEnum.call(b, prop))
          __defNormalProp(a, prop, b[prop]);
      }
    return a;
  };
  var __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));
  var __markAsModule = (target) => __defProp(target, "__esModule", {value: true});
  var __require = (x) => {
    if (typeof require !== "undefined")
      return require(x);
    throw new Error('Dynamic require of "' + x + '" is not supported');
  };
  var __commonJS = (cb, mod) => function __require2() {
    return mod || (0, cb[Object.keys(cb)[0]])((mod = {exports: {}}).exports, mod), mod.exports;
  };
  var __export = (target, all) => {
    for (var name in all)
      __defProp(target, name, {get: all[name], enumerable: true});
  };
  var __reExport = (target, module, desc) => {
    if (module && typeof module === "object" || typeof module === "function") {
      for (let key of __getOwnPropNames(module))
        if (!__hasOwnProp.call(target, key) && key !== "default")
          __defProp(target, key, {get: () => module[key], enumerable: !(desc = __getOwnPropDesc(module, key)) || desc.enumerable});
    }
    return target;
  };
  var __toModule = (module) => {
    return __reExport(__markAsModule(__defProp(module != null ? __create(__getProtoOf(module)) : {}, "default", module && module.__esModule && "default" in module ? {get: () => module.default, enumerable: true} : {value: module, enumerable: true})), module);
  };

  // pnp:/Users/lupmtu1/.yarn/berry/cache/compare-versions-npm-4.1.3-d4c4a7f412-9.zip/node_modules/compare-versions/index.js
  var require_compare_versions = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/compare-versions-npm-4.1.3-d4c4a7f412-9.zip/node_modules/compare-versions/index.js"(exports, module) {
      (function(root, factory) {
        if (typeof define === "function" && define.amd) {
          define([], factory);
        } else if (typeof exports === "object") {
          module.exports = factory();
        } else {
          root.compareVersions = factory();
        }
      })(exports, function() {
        var semver2 = /^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i;
        function indexOrEnd(str, q) {
          return str.indexOf(q) === -1 ? str.length : str.indexOf(q);
        }
        function split(v) {
          var c = v.replace(/^v/, "").replace(/\+.*$/, "");
          var patchIndex = indexOrEnd(c, "-");
          var arr = c.substring(0, patchIndex).split(".");
          arr.push(c.substring(patchIndex + 1));
          return arr;
        }
        function tryParse(v) {
          var n = parseInt(v, 10);
          return isNaN(n) ? v : n;
        }
        function validateAndParse(v) {
          if (typeof v !== "string") {
            throw new TypeError("Invalid argument expected string");
          }
          var match = v.match(semver2);
          if (!match) {
            throw new Error("Invalid argument not valid semver ('" + v + "' received)");
          }
          match.shift();
          return match;
        }
        function forceType(a, b) {
          return typeof a !== typeof b ? [String(a), String(b)] : [a, b];
        }
        function compareStrings(a, b) {
          var [ap, bp] = forceType(tryParse(a), tryParse(b));
          if (ap > bp)
            return 1;
          if (ap < bp)
            return -1;
          return 0;
        }
        function compareSegments(a, b) {
          for (var i = 0; i < Math.max(a.length, b.length); i++) {
            var r = compareStrings(a[i] || 0, b[i] || 0);
            if (r !== 0)
              return r;
          }
          return 0;
        }
        function compareVersions2(v1, v2) {
          [v1, v2].forEach(validateAndParse);
          var s1 = split(v1);
          var s2 = split(v2);
          for (var i = 0; i < Math.max(s1.length - 1, s2.length - 1); i++) {
            var n1 = parseInt(s1[i] || 0, 10);
            var n2 = parseInt(s2[i] || 0, 10);
            if (n1 > n2)
              return 1;
            if (n2 > n1)
              return -1;
          }
          var sp1 = s1[s1.length - 1];
          var sp2 = s2[s2.length - 1];
          if (sp1 && sp2) {
            var p1 = sp1.split(".").map(tryParse);
            var p2 = sp2.split(".").map(tryParse);
            for (i = 0; i < Math.max(p1.length, p2.length); i++) {
              if (p1[i] === void 0 || typeof p2[i] === "string" && typeof p1[i] === "number")
                return -1;
              if (p2[i] === void 0 || typeof p1[i] === "string" && typeof p2[i] === "number")
                return 1;
              if (p1[i] > p2[i])
                return 1;
              if (p2[i] > p1[i])
                return -1;
            }
          } else if (sp1 || sp2) {
            return sp1 ? -1 : 1;
          }
          return 0;
        }
        var allowedOperators = [">", ">=", "=", "<", "<="];
        var operatorResMap = {
          ">": [1],
          ">=": [0, 1],
          "=": [0],
          "<=": [-1, 0],
          "<": [-1]
        };
        function validateOperator(op) {
          if (typeof op !== "string") {
            throw new TypeError("Invalid operator type, expected string but got " + typeof op);
          }
          if (allowedOperators.indexOf(op) === -1) {
            throw new TypeError("Invalid operator, expected one of " + allowedOperators.join("|"));
          }
        }
        compareVersions2.validate = function(version) {
          return typeof version === "string" && semver2.test(version);
        };
        compareVersions2.compare = function(v1, v2, operator) {
          validateOperator(operator);
          var res = compareVersions2(v1, v2);
          return operatorResMap[operator].indexOf(res) > -1;
        };
        compareVersions2.satisfies = function(v, r) {
          var match = r.match(/^([<>=~^]+)/);
          var op = match ? match[1] : "=";
          if (op !== "^" && op !== "~")
            return compareVersions2.compare(v, r, op);
          var [v1, v2, v3] = validateAndParse(v);
          var [m1, m2, m3] = validateAndParse(r);
          if (compareStrings(v1, m1) !== 0)
            return false;
          if (op === "^") {
            return compareSegments([v2, v3], [m2, m3]) >= 0;
          }
          if (compareStrings(v2, m2) !== 0)
            return false;
          return compareStrings(v3, m3) >= 0;
        };
        return compareVersions2;
      });
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/readable-stream-npm-3.6.0-23a4a5eb56-9.zip/node_modules/readable-stream/lib/internal/streams/stream.js
  var require_stream = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/readable-stream-npm-3.6.0-23a4a5eb56-9.zip/node_modules/readable-stream/lib/internal/streams/stream.js"(exports, module) {
      module.exports = __require("stream");
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/readable-stream-npm-3.6.0-23a4a5eb56-9.zip/node_modules/readable-stream/lib/internal/streams/buffer_list.js
  var require_buffer_list = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/readable-stream-npm-3.6.0-23a4a5eb56-9.zip/node_modules/readable-stream/lib/internal/streams/buffer_list.js"(exports, module) {
      "use strict";
      function ownKeys(object, enumerableOnly) {
        var keys = Object.keys(object);
        if (Object.getOwnPropertySymbols) {
          var symbols = Object.getOwnPropertySymbols(object);
          if (enumerableOnly)
            symbols = symbols.filter(function(sym) {
              return Object.getOwnPropertyDescriptor(object, sym).enumerable;
            });
          keys.push.apply(keys, symbols);
        }
        return keys;
      }
      function _objectSpread(target) {
        for (var i = 1; i < arguments.length; i++) {
          var source = arguments[i] != null ? arguments[i] : {};
          if (i % 2) {
            ownKeys(Object(source), true).forEach(function(key) {
              _defineProperty(target, key, source[key]);
            });
          } else if (Object.getOwnPropertyDescriptors) {
            Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));
          } else {
            ownKeys(Object(source)).forEach(function(key) {
              Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));
            });
          }
        }
        return target;
      }
      function _defineProperty(obj, key, value) {
        if (key in obj) {
          Object.defineProperty(obj, key, {value, enumerable: true, configurable: true, writable: true});
        } else {
          obj[key] = value;
        }
        return obj;
      }
      function _classCallCheck(instance, Constructor) {
        if (!(instance instanceof Constructor)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      function _defineProperties(target, props) {
        for (var i = 0; i < props.length; i++) {
          var descriptor = props[i];
          descriptor.enumerable = descriptor.enumerable || false;
          descriptor.configurable = true;
          if ("value" in descriptor)
            descriptor.writable = true;
          Object.defineProperty(target, descriptor.key, descriptor);
        }
      }
      function _createClass(Constructor, protoProps, staticProps) {
        if (protoProps)
          _defineProperties(Constructor.prototype, protoProps);
        if (staticProps)
          _defineProperties(Constructor, staticProps);
        return Constructor;
      }
      var _require = __require("buffer");
      var Buffer2 = _require.Buffer;
      var _require2 = __require("util");
      var inspect = _require2.inspect;
      var custom = inspect && inspect.custom || "inspect";
      function copyBuffer(src, target, offset) {
        Buffer2.prototype.copy.call(src, target, offset);
      }
      module.exports = /* @__PURE__ */ function() {
        function BufferList() {
          _classCallCheck(this, BufferList);
          this.head = null;
          this.tail = null;
          this.length = 0;
        }
        _createClass(BufferList, [{
          key: "push",
          value: function push(v) {
            var entry = {
              data: v,
              next: null
            };
            if (this.length > 0)
              this.tail.next = entry;
            else
              this.head = entry;
            this.tail = entry;
            ++this.length;
          }
        }, {
          key: "unshift",
          value: function unshift(v) {
            var entry = {
              data: v,
              next: this.head
            };
            if (this.length === 0)
              this.tail = entry;
            this.head = entry;
            ++this.length;
          }
        }, {
          key: "shift",
          value: function shift() {
            if (this.length === 0)
              return;
            var ret = this.head.data;
            if (this.length === 1)
              this.head = this.tail = null;
            else
              this.head = this.head.next;
            --this.length;
            return ret;
          }
        }, {
          key: "clear",
          value: function clear() {
            this.head = this.tail = null;
            this.length = 0;
          }
        }, {
          key: "join",
          value: function join3(s) {
            if (this.length === 0)
              return "";
            var p = this.head;
            var ret = "" + p.data;
            while (p = p.next) {
              ret += s + p.data;
            }
            return ret;
          }
        }, {
          key: "concat",
          value: function concat(n) {
            if (this.length === 0)
              return Buffer2.alloc(0);
            var ret = Buffer2.allocUnsafe(n >>> 0);
            var p = this.head;
            var i = 0;
            while (p) {
              copyBuffer(p.data, ret, i);
              i += p.data.length;
              p = p.next;
            }
            return ret;
          }
        }, {
          key: "consume",
          value: function consume(n, hasStrings) {
            var ret;
            if (n < this.head.data.length) {
              ret = this.head.data.slice(0, n);
              this.head.data = this.head.data.slice(n);
            } else if (n === this.head.data.length) {
              ret = this.shift();
            } else {
              ret = hasStrings ? this._getString(n) : this._getBuffer(n);
            }
            return ret;
          }
        }, {
          key: "first",
          value: function first() {
            return this.head.data;
          }
        }, {
          key: "_getString",
          value: function _getString(n) {
            var p = this.head;
            var c = 1;
            var ret = p.data;
            n -= ret.length;
            while (p = p.next) {
              var str = p.data;
              var nb = n > str.length ? str.length : n;
              if (nb === str.length)
                ret += str;
              else
                ret += str.slice(0, n);
              n -= nb;
              if (n === 0) {
                if (nb === str.length) {
                  ++c;
                  if (p.next)
                    this.head = p.next;
                  else
                    this.head = this.tail = null;
                } else {
                  this.head = p;
                  p.data = str.slice(nb);
                }
                break;
              }
              ++c;
            }
            this.length -= c;
            return ret;
          }
        }, {
          key: "_getBuffer",
          value: function _getBuffer(n) {
            var ret = Buffer2.allocUnsafe(n);
            var p = this.head;
            var c = 1;
            p.data.copy(ret);
            n -= p.data.length;
            while (p = p.next) {
              var buf = p.data;
              var nb = n > buf.length ? buf.length : n;
              buf.copy(ret, ret.length - n, 0, nb);
              n -= nb;
              if (n === 0) {
                if (nb === buf.length) {
                  ++c;
                  if (p.next)
                    this.head = p.next;
                  else
                    this.head = this.tail = null;
                } else {
                  this.head = p;
                  p.data = buf.slice(nb);
                }
                break;
              }
              ++c;
            }
            this.length -= c;
            return ret;
          }
        }, {
          key: custom,
          value: function value(_, options) {
            return inspect(this, _objectSpread({}, options, {
              depth: 0,
              customInspect: false
            }));
          }
        }]);
        return BufferList;
      }();
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/readable-stream-npm-3.6.0-23a4a5eb56-9.zip/node_modules/readable-stream/lib/internal/streams/destroy.js
  var require_destroy = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/readable-stream-npm-3.6.0-23a4a5eb56-9.zip/node_modules/readable-stream/lib/internal/streams/destroy.js"(exports, module) {
      "use strict";
      function destroy(err, cb) {
        var _this = this;
        var readableDestroyed = this._readableState && this._readableState.destroyed;
        var writableDestroyed = this._writableState && this._writableState.destroyed;
        if (readableDestroyed || writableDestroyed) {
          if (cb) {
            cb(err);
          } else if (err) {
            if (!this._writableState) {
              process.nextTick(emitErrorNT, this, err);
            } else if (!this._writableState.errorEmitted) {
              this._writableState.errorEmitted = true;
              process.nextTick(emitErrorNT, this, err);
            }
          }
          return this;
        }
        if (this._readableState) {
          this._readableState.destroyed = true;
        }
        if (this._writableState) {
          this._writableState.destroyed = true;
        }
        this._destroy(err || null, function(err2) {
          if (!cb && err2) {
            if (!_this._writableState) {
              process.nextTick(emitErrorAndCloseNT, _this, err2);
            } else if (!_this._writableState.errorEmitted) {
              _this._writableState.errorEmitted = true;
              process.nextTick(emitErrorAndCloseNT, _this, err2);
            } else {
              process.nextTick(emitCloseNT, _this);
            }
          } else if (cb) {
            process.nextTick(emitCloseNT, _this);
            cb(err2);
          } else {
            process.nextTick(emitCloseNT, _this);
          }
        });
        return this;
      }
      function emitErrorAndCloseNT(self2, err) {
        emitErrorNT(self2, err);
        emitCloseNT(self2);
      }
      function emitCloseNT(self2) {
        if (self2._writableState && !self2._writableState.emitClose)
          return;
        if (self2._readableState && !self2._readableState.emitClose)
          return;
        self2.emit("close");
      }
      function undestroy() {
        if (this._readableState) {
          this._readableState.destroyed = false;
          this._readableState.reading = false;
          this._readableState.ended = false;
          this._readableState.endEmitted = false;
        }
        if (this._writableState) {
          this._writableState.destroyed = false;
          this._writableState.ended = false;
          this._writableState.ending = false;
          this._writableState.finalCalled = false;
          this._writableState.prefinished = false;
          this._writableState.finished = false;
          this._writableState.errorEmitted = false;
        }
      }
      function emitErrorNT(self2, err) {
        self2.emit("error", err);
      }
      function errorOrDestroy(stream, err) {
        var rState = stream._readableState;
        var wState = stream._writableState;
        if (rState && rState.autoDestroy || wState && wState.autoDestroy)
          stream.destroy(err);
        else
          stream.emit("error", err);
      }
      module.exports = {
        destroy,
        undestroy,
        errorOrDestroy
      };
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/readable-stream-npm-3.6.0-23a4a5eb56-9.zip/node_modules/readable-stream/errors.js
  var require_errors = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/readable-stream-npm-3.6.0-23a4a5eb56-9.zip/node_modules/readable-stream/errors.js"(exports, module) {
      "use strict";
      var codes = {};
      function createErrorType(code, message, Base) {
        if (!Base) {
          Base = Error;
        }
        function getMessage(arg1, arg2, arg3) {
          if (typeof message === "string") {
            return message;
          } else {
            return message(arg1, arg2, arg3);
          }
        }
        class NodeError extends Base {
          constructor(arg1, arg2, arg3) {
            super(getMessage(arg1, arg2, arg3));
          }
        }
        NodeError.prototype.name = Base.name;
        NodeError.prototype.code = code;
        codes[code] = NodeError;
      }
      function oneOf(expected, thing) {
        if (Array.isArray(expected)) {
          const len = expected.length;
          expected = expected.map((i) => String(i));
          if (len > 2) {
            return `one of ${thing} ${expected.slice(0, len - 1).join(", ")}, or ` + expected[len - 1];
          } else if (len === 2) {
            return `one of ${thing} ${expected[0]} or ${expected[1]}`;
          } else {
            return `of ${thing} ${expected[0]}`;
          }
        } else {
          return `of ${thing} ${String(expected)}`;
        }
      }
      function startsWith(str, search, pos) {
        return str.substr(!pos || pos < 0 ? 0 : +pos, search.length) === search;
      }
      function endsWith(str, search, this_len) {
        if (this_len === void 0 || this_len > str.length) {
          this_len = str.length;
        }
        return str.substring(this_len - search.length, this_len) === search;
      }
      function includes(str, search, start) {
        if (typeof start !== "number") {
          start = 0;
        }
        if (start + search.length > str.length) {
          return false;
        } else {
          return str.indexOf(search, start) !== -1;
        }
      }
      createErrorType("ERR_INVALID_OPT_VALUE", function(name, value) {
        return 'The value "' + value + '" is invalid for option "' + name + '"';
      }, TypeError);
      createErrorType("ERR_INVALID_ARG_TYPE", function(name, expected, actual) {
        let determiner;
        if (typeof expected === "string" && startsWith(expected, "not ")) {
          determiner = "must not be";
          expected = expected.replace(/^not /, "");
        } else {
          determiner = "must be";
        }
        let msg;
        if (endsWith(name, " argument")) {
          msg = `The ${name} ${determiner} ${oneOf(expected, "type")}`;
        } else {
          const type = includes(name, ".") ? "property" : "argument";
          msg = `The "${name}" ${type} ${determiner} ${oneOf(expected, "type")}`;
        }
        msg += `. Received type ${typeof actual}`;
        return msg;
      }, TypeError);
      createErrorType("ERR_STREAM_PUSH_AFTER_EOF", "stream.push() after EOF");
      createErrorType("ERR_METHOD_NOT_IMPLEMENTED", function(name) {
        return "The " + name + " method is not implemented";
      });
      createErrorType("ERR_STREAM_PREMATURE_CLOSE", "Premature close");
      createErrorType("ERR_STREAM_DESTROYED", function(name) {
        return "Cannot call " + name + " after a stream was destroyed";
      });
      createErrorType("ERR_MULTIPLE_CALLBACK", "Callback called multiple times");
      createErrorType("ERR_STREAM_CANNOT_PIPE", "Cannot pipe, not readable");
      createErrorType("ERR_STREAM_WRITE_AFTER_END", "write after end");
      createErrorType("ERR_STREAM_NULL_VALUES", "May not write null values to stream", TypeError);
      createErrorType("ERR_UNKNOWN_ENCODING", function(arg) {
        return "Unknown encoding: " + arg;
      }, TypeError);
      createErrorType("ERR_STREAM_UNSHIFT_AFTER_END_EVENT", "stream.unshift() after end event");
      module.exports.codes = codes;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/readable-stream-npm-3.6.0-23a4a5eb56-9.zip/node_modules/readable-stream/lib/internal/streams/state.js
  var require_state = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/readable-stream-npm-3.6.0-23a4a5eb56-9.zip/node_modules/readable-stream/lib/internal/streams/state.js"(exports, module) {
      "use strict";
      var ERR_INVALID_OPT_VALUE = require_errors().codes.ERR_INVALID_OPT_VALUE;
      function highWaterMarkFrom(options, isDuplex, duplexKey) {
        return options.highWaterMark != null ? options.highWaterMark : isDuplex ? options[duplexKey] : null;
      }
      function getHighWaterMark(state, options, duplexKey, isDuplex) {
        var hwm = highWaterMarkFrom(options, isDuplex, duplexKey);
        if (hwm != null) {
          if (!(isFinite(hwm) && Math.floor(hwm) === hwm) || hwm < 0) {
            var name = isDuplex ? duplexKey : "highWaterMark";
            throw new ERR_INVALID_OPT_VALUE(name, hwm);
          }
          return Math.floor(hwm);
        }
        return state.objectMode ? 16 : 16 * 1024;
      }
      module.exports = {
        getHighWaterMark
      };
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/inherits-npm-2.0.4-c66b3957a0-9.zip/node_modules/inherits/inherits_browser.js
  var require_inherits_browser = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/inherits-npm-2.0.4-c66b3957a0-9.zip/node_modules/inherits/inherits_browser.js"(exports, module) {
      if (typeof Object.create === "function") {
        module.exports = function inherits(ctor, superCtor) {
          if (superCtor) {
            ctor.super_ = superCtor;
            ctor.prototype = Object.create(superCtor.prototype, {
              constructor: {
                value: ctor,
                enumerable: false,
                writable: true,
                configurable: true
              }
            });
          }
        };
      } else {
        module.exports = function inherits(ctor, superCtor) {
          if (superCtor) {
            ctor.super_ = superCtor;
            var TempCtor = function() {
            };
            TempCtor.prototype = superCtor.prototype;
            ctor.prototype = new TempCtor();
            ctor.prototype.constructor = ctor;
          }
        };
      }
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/inherits-npm-2.0.4-c66b3957a0-9.zip/node_modules/inherits/inherits.js
  var require_inherits = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/inherits-npm-2.0.4-c66b3957a0-9.zip/node_modules/inherits/inherits.js"(exports, module) {
      try {
        util = __require("util");
        if (typeof util.inherits !== "function")
          throw "";
        module.exports = util.inherits;
      } catch (e) {
        module.exports = require_inherits_browser();
      }
      var util;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/util-deprecate-npm-1.0.2-e3fe1a219c-9.zip/node_modules/util-deprecate/node.js
  var require_node = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/util-deprecate-npm-1.0.2-e3fe1a219c-9.zip/node_modules/util-deprecate/node.js"(exports, module) {
      module.exports = __require("util").deprecate;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/readable-stream-npm-3.6.0-23a4a5eb56-9.zip/node_modules/readable-stream/lib/_stream_writable.js
  var require_stream_writable = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/readable-stream-npm-3.6.0-23a4a5eb56-9.zip/node_modules/readable-stream/lib/_stream_writable.js"(exports, module) {
      "use strict";
      module.exports = Writable;
      function CorkedRequest(state) {
        var _this = this;
        this.next = null;
        this.entry = null;
        this.finish = function() {
          onCorkedFinish(_this, state);
        };
      }
      var Duplex;
      Writable.WritableState = WritableState;
      var internalUtil = {
        deprecate: require_node()
      };
      var Stream = require_stream();
      var Buffer2 = __require("buffer").Buffer;
      var OurUint8Array = global.Uint8Array || function() {
      };
      function _uint8ArrayToBuffer(chunk) {
        return Buffer2.from(chunk);
      }
      function _isUint8Array(obj) {
        return Buffer2.isBuffer(obj) || obj instanceof OurUint8Array;
      }
      var destroyImpl = require_destroy();
      var _require = require_state();
      var getHighWaterMark = _require.getHighWaterMark;
      var _require$codes = require_errors().codes;
      var ERR_INVALID_ARG_TYPE = _require$codes.ERR_INVALID_ARG_TYPE;
      var ERR_METHOD_NOT_IMPLEMENTED = _require$codes.ERR_METHOD_NOT_IMPLEMENTED;
      var ERR_MULTIPLE_CALLBACK = _require$codes.ERR_MULTIPLE_CALLBACK;
      var ERR_STREAM_CANNOT_PIPE = _require$codes.ERR_STREAM_CANNOT_PIPE;
      var ERR_STREAM_DESTROYED = _require$codes.ERR_STREAM_DESTROYED;
      var ERR_STREAM_NULL_VALUES = _require$codes.ERR_STREAM_NULL_VALUES;
      var ERR_STREAM_WRITE_AFTER_END = _require$codes.ERR_STREAM_WRITE_AFTER_END;
      var ERR_UNKNOWN_ENCODING = _require$codes.ERR_UNKNOWN_ENCODING;
      var errorOrDestroy = destroyImpl.errorOrDestroy;
      require_inherits()(Writable, Stream);
      function nop() {
      }
      function WritableState(options, stream, isDuplex) {
        Duplex = Duplex || require_stream_duplex();
        options = options || {};
        if (typeof isDuplex !== "boolean")
          isDuplex = stream instanceof Duplex;
        this.objectMode = !!options.objectMode;
        if (isDuplex)
          this.objectMode = this.objectMode || !!options.writableObjectMode;
        this.highWaterMark = getHighWaterMark(this, options, "writableHighWaterMark", isDuplex);
        this.finalCalled = false;
        this.needDrain = false;
        this.ending = false;
        this.ended = false;
        this.finished = false;
        this.destroyed = false;
        var noDecode = options.decodeStrings === false;
        this.decodeStrings = !noDecode;
        this.defaultEncoding = options.defaultEncoding || "utf8";
        this.length = 0;
        this.writing = false;
        this.corked = 0;
        this.sync = true;
        this.bufferProcessing = false;
        this.onwrite = function(er) {
          onwrite(stream, er);
        };
        this.writecb = null;
        this.writelen = 0;
        this.bufferedRequest = null;
        this.lastBufferedRequest = null;
        this.pendingcb = 0;
        this.prefinished = false;
        this.errorEmitted = false;
        this.emitClose = options.emitClose !== false;
        this.autoDestroy = !!options.autoDestroy;
        this.bufferedRequestCount = 0;
        this.corkedRequestsFree = new CorkedRequest(this);
      }
      WritableState.prototype.getBuffer = function getBuffer() {
        var current = this.bufferedRequest;
        var out = [];
        while (current) {
          out.push(current);
          current = current.next;
        }
        return out;
      };
      (function() {
        try {
          Object.defineProperty(WritableState.prototype, "buffer", {
            get: internalUtil.deprecate(function writableStateBufferGetter() {
              return this.getBuffer();
            }, "_writableState.buffer is deprecated. Use _writableState.getBuffer instead.", "DEP0003")
          });
        } catch (_) {
        }
      })();
      var realHasInstance;
      if (typeof Symbol === "function" && Symbol.hasInstance && typeof Function.prototype[Symbol.hasInstance] === "function") {
        realHasInstance = Function.prototype[Symbol.hasInstance];
        Object.defineProperty(Writable, Symbol.hasInstance, {
          value: function value(object) {
            if (realHasInstance.call(this, object))
              return true;
            if (this !== Writable)
              return false;
            return object && object._writableState instanceof WritableState;
          }
        });
      } else {
        realHasInstance = function realHasInstance2(object) {
          return object instanceof this;
        };
      }
      function Writable(options) {
        Duplex = Duplex || require_stream_duplex();
        var isDuplex = this instanceof Duplex;
        if (!isDuplex && !realHasInstance.call(Writable, this))
          return new Writable(options);
        this._writableState = new WritableState(options, this, isDuplex);
        this.writable = true;
        if (options) {
          if (typeof options.write === "function")
            this._write = options.write;
          if (typeof options.writev === "function")
            this._writev = options.writev;
          if (typeof options.destroy === "function")
            this._destroy = options.destroy;
          if (typeof options.final === "function")
            this._final = options.final;
        }
        Stream.call(this);
      }
      Writable.prototype.pipe = function() {
        errorOrDestroy(this, new ERR_STREAM_CANNOT_PIPE());
      };
      function writeAfterEnd(stream, cb) {
        var er = new ERR_STREAM_WRITE_AFTER_END();
        errorOrDestroy(stream, er);
        process.nextTick(cb, er);
      }
      function validChunk(stream, state, chunk, cb) {
        var er;
        if (chunk === null) {
          er = new ERR_STREAM_NULL_VALUES();
        } else if (typeof chunk !== "string" && !state.objectMode) {
          er = new ERR_INVALID_ARG_TYPE("chunk", ["string", "Buffer"], chunk);
        }
        if (er) {
          errorOrDestroy(stream, er);
          process.nextTick(cb, er);
          return false;
        }
        return true;
      }
      Writable.prototype.write = function(chunk, encoding, cb) {
        var state = this._writableState;
        var ret = false;
        var isBuf = !state.objectMode && _isUint8Array(chunk);
        if (isBuf && !Buffer2.isBuffer(chunk)) {
          chunk = _uint8ArrayToBuffer(chunk);
        }
        if (typeof encoding === "function") {
          cb = encoding;
          encoding = null;
        }
        if (isBuf)
          encoding = "buffer";
        else if (!encoding)
          encoding = state.defaultEncoding;
        if (typeof cb !== "function")
          cb = nop;
        if (state.ending)
          writeAfterEnd(this, cb);
        else if (isBuf || validChunk(this, state, chunk, cb)) {
          state.pendingcb++;
          ret = writeOrBuffer(this, state, isBuf, chunk, encoding, cb);
        }
        return ret;
      };
      Writable.prototype.cork = function() {
        this._writableState.corked++;
      };
      Writable.prototype.uncork = function() {
        var state = this._writableState;
        if (state.corked) {
          state.corked--;
          if (!state.writing && !state.corked && !state.bufferProcessing && state.bufferedRequest)
            clearBuffer(this, state);
        }
      };
      Writable.prototype.setDefaultEncoding = function setDefaultEncoding(encoding) {
        if (typeof encoding === "string")
          encoding = encoding.toLowerCase();
        if (!(["hex", "utf8", "utf-8", "ascii", "binary", "base64", "ucs2", "ucs-2", "utf16le", "utf-16le", "raw"].indexOf((encoding + "").toLowerCase()) > -1))
          throw new ERR_UNKNOWN_ENCODING(encoding);
        this._writableState.defaultEncoding = encoding;
        return this;
      };
      Object.defineProperty(Writable.prototype, "writableBuffer", {
        enumerable: false,
        get: function get() {
          return this._writableState && this._writableState.getBuffer();
        }
      });
      function decodeChunk(state, chunk, encoding) {
        if (!state.objectMode && state.decodeStrings !== false && typeof chunk === "string") {
          chunk = Buffer2.from(chunk, encoding);
        }
        return chunk;
      }
      Object.defineProperty(Writable.prototype, "writableHighWaterMark", {
        enumerable: false,
        get: function get() {
          return this._writableState.highWaterMark;
        }
      });
      function writeOrBuffer(stream, state, isBuf, chunk, encoding, cb) {
        if (!isBuf) {
          var newChunk = decodeChunk(state, chunk, encoding);
          if (chunk !== newChunk) {
            isBuf = true;
            encoding = "buffer";
            chunk = newChunk;
          }
        }
        var len = state.objectMode ? 1 : chunk.length;
        state.length += len;
        var ret = state.length < state.highWaterMark;
        if (!ret)
          state.needDrain = true;
        if (state.writing || state.corked) {
          var last = state.lastBufferedRequest;
          state.lastBufferedRequest = {
            chunk,
            encoding,
            isBuf,
            callback: cb,
            next: null
          };
          if (last) {
            last.next = state.lastBufferedRequest;
          } else {
            state.bufferedRequest = state.lastBufferedRequest;
          }
          state.bufferedRequestCount += 1;
        } else {
          doWrite(stream, state, false, len, chunk, encoding, cb);
        }
        return ret;
      }
      function doWrite(stream, state, writev, len, chunk, encoding, cb) {
        state.writelen = len;
        state.writecb = cb;
        state.writing = true;
        state.sync = true;
        if (state.destroyed)
          state.onwrite(new ERR_STREAM_DESTROYED("write"));
        else if (writev)
          stream._writev(chunk, state.onwrite);
        else
          stream._write(chunk, encoding, state.onwrite);
        state.sync = false;
      }
      function onwriteError(stream, state, sync, er, cb) {
        --state.pendingcb;
        if (sync) {
          process.nextTick(cb, er);
          process.nextTick(finishMaybe, stream, state);
          stream._writableState.errorEmitted = true;
          errorOrDestroy(stream, er);
        } else {
          cb(er);
          stream._writableState.errorEmitted = true;
          errorOrDestroy(stream, er);
          finishMaybe(stream, state);
        }
      }
      function onwriteStateUpdate(state) {
        state.writing = false;
        state.writecb = null;
        state.length -= state.writelen;
        state.writelen = 0;
      }
      function onwrite(stream, er) {
        var state = stream._writableState;
        var sync = state.sync;
        var cb = state.writecb;
        if (typeof cb !== "function")
          throw new ERR_MULTIPLE_CALLBACK();
        onwriteStateUpdate(state);
        if (er)
          onwriteError(stream, state, sync, er, cb);
        else {
          var finished = needFinish(state) || stream.destroyed;
          if (!finished && !state.corked && !state.bufferProcessing && state.bufferedRequest) {
            clearBuffer(stream, state);
          }
          if (sync) {
            process.nextTick(afterWrite, stream, state, finished, cb);
          } else {
            afterWrite(stream, state, finished, cb);
          }
        }
      }
      function afterWrite(stream, state, finished, cb) {
        if (!finished)
          onwriteDrain(stream, state);
        state.pendingcb--;
        cb();
        finishMaybe(stream, state);
      }
      function onwriteDrain(stream, state) {
        if (state.length === 0 && state.needDrain) {
          state.needDrain = false;
          stream.emit("drain");
        }
      }
      function clearBuffer(stream, state) {
        state.bufferProcessing = true;
        var entry = state.bufferedRequest;
        if (stream._writev && entry && entry.next) {
          var l = state.bufferedRequestCount;
          var buffer = new Array(l);
          var holder = state.corkedRequestsFree;
          holder.entry = entry;
          var count = 0;
          var allBuffers = true;
          while (entry) {
            buffer[count] = entry;
            if (!entry.isBuf)
              allBuffers = false;
            entry = entry.next;
            count += 1;
          }
          buffer.allBuffers = allBuffers;
          doWrite(stream, state, true, state.length, buffer, "", holder.finish);
          state.pendingcb++;
          state.lastBufferedRequest = null;
          if (holder.next) {
            state.corkedRequestsFree = holder.next;
            holder.next = null;
          } else {
            state.corkedRequestsFree = new CorkedRequest(state);
          }
          state.bufferedRequestCount = 0;
        } else {
          while (entry) {
            var chunk = entry.chunk;
            var encoding = entry.encoding;
            var cb = entry.callback;
            var len = state.objectMode ? 1 : chunk.length;
            doWrite(stream, state, false, len, chunk, encoding, cb);
            entry = entry.next;
            state.bufferedRequestCount--;
            if (state.writing) {
              break;
            }
          }
          if (entry === null)
            state.lastBufferedRequest = null;
        }
        state.bufferedRequest = entry;
        state.bufferProcessing = false;
      }
      Writable.prototype._write = function(chunk, encoding, cb) {
        cb(new ERR_METHOD_NOT_IMPLEMENTED("_write()"));
      };
      Writable.prototype._writev = null;
      Writable.prototype.end = function(chunk, encoding, cb) {
        var state = this._writableState;
        if (typeof chunk === "function") {
          cb = chunk;
          chunk = null;
          encoding = null;
        } else if (typeof encoding === "function") {
          cb = encoding;
          encoding = null;
        }
        if (chunk !== null && chunk !== void 0)
          this.write(chunk, encoding);
        if (state.corked) {
          state.corked = 1;
          this.uncork();
        }
        if (!state.ending)
          endWritable(this, state, cb);
        return this;
      };
      Object.defineProperty(Writable.prototype, "writableLength", {
        enumerable: false,
        get: function get() {
          return this._writableState.length;
        }
      });
      function needFinish(state) {
        return state.ending && state.length === 0 && state.bufferedRequest === null && !state.finished && !state.writing;
      }
      function callFinal(stream, state) {
        stream._final(function(err) {
          state.pendingcb--;
          if (err) {
            errorOrDestroy(stream, err);
          }
          state.prefinished = true;
          stream.emit("prefinish");
          finishMaybe(stream, state);
        });
      }
      function prefinish(stream, state) {
        if (!state.prefinished && !state.finalCalled) {
          if (typeof stream._final === "function" && !state.destroyed) {
            state.pendingcb++;
            state.finalCalled = true;
            process.nextTick(callFinal, stream, state);
          } else {
            state.prefinished = true;
            stream.emit("prefinish");
          }
        }
      }
      function finishMaybe(stream, state) {
        var need = needFinish(state);
        if (need) {
          prefinish(stream, state);
          if (state.pendingcb === 0) {
            state.finished = true;
            stream.emit("finish");
            if (state.autoDestroy) {
              var rState = stream._readableState;
              if (!rState || rState.autoDestroy && rState.endEmitted) {
                stream.destroy();
              }
            }
          }
        }
        return need;
      }
      function endWritable(stream, state, cb) {
        state.ending = true;
        finishMaybe(stream, state);
        if (cb) {
          if (state.finished)
            process.nextTick(cb);
          else
            stream.once("finish", cb);
        }
        state.ended = true;
        stream.writable = false;
      }
      function onCorkedFinish(corkReq, state, err) {
        var entry = corkReq.entry;
        corkReq.entry = null;
        while (entry) {
          var cb = entry.callback;
          state.pendingcb--;
          cb(err);
          entry = entry.next;
        }
        state.corkedRequestsFree.next = corkReq;
      }
      Object.defineProperty(Writable.prototype, "destroyed", {
        enumerable: false,
        get: function get() {
          if (this._writableState === void 0) {
            return false;
          }
          return this._writableState.destroyed;
        },
        set: function set(value) {
          if (!this._writableState) {
            return;
          }
          this._writableState.destroyed = value;
        }
      });
      Writable.prototype.destroy = destroyImpl.destroy;
      Writable.prototype._undestroy = destroyImpl.undestroy;
      Writable.prototype._destroy = function(err, cb) {
        cb(err);
      };
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/readable-stream-npm-3.6.0-23a4a5eb56-9.zip/node_modules/readable-stream/lib/_stream_duplex.js
  var require_stream_duplex = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/readable-stream-npm-3.6.0-23a4a5eb56-9.zip/node_modules/readable-stream/lib/_stream_duplex.js"(exports, module) {
      "use strict";
      var objectKeys = Object.keys || function(obj) {
        var keys2 = [];
        for (var key in obj) {
          keys2.push(key);
        }
        return keys2;
      };
      module.exports = Duplex;
      var Readable = require_stream_readable();
      var Writable = require_stream_writable();
      require_inherits()(Duplex, Readable);
      {
        keys = objectKeys(Writable.prototype);
        for (v = 0; v < keys.length; v++) {
          method = keys[v];
          if (!Duplex.prototype[method])
            Duplex.prototype[method] = Writable.prototype[method];
        }
      }
      var keys;
      var method;
      var v;
      function Duplex(options) {
        if (!(this instanceof Duplex))
          return new Duplex(options);
        Readable.call(this, options);
        Writable.call(this, options);
        this.allowHalfOpen = true;
        if (options) {
          if (options.readable === false)
            this.readable = false;
          if (options.writable === false)
            this.writable = false;
          if (options.allowHalfOpen === false) {
            this.allowHalfOpen = false;
            this.once("end", onend);
          }
        }
      }
      Object.defineProperty(Duplex.prototype, "writableHighWaterMark", {
        enumerable: false,
        get: function get() {
          return this._writableState.highWaterMark;
        }
      });
      Object.defineProperty(Duplex.prototype, "writableBuffer", {
        enumerable: false,
        get: function get() {
          return this._writableState && this._writableState.getBuffer();
        }
      });
      Object.defineProperty(Duplex.prototype, "writableLength", {
        enumerable: false,
        get: function get() {
          return this._writableState.length;
        }
      });
      function onend() {
        if (this._writableState.ended)
          return;
        process.nextTick(onEndNT, this);
      }
      function onEndNT(self2) {
        self2.end();
      }
      Object.defineProperty(Duplex.prototype, "destroyed", {
        enumerable: false,
        get: function get() {
          if (this._readableState === void 0 || this._writableState === void 0) {
            return false;
          }
          return this._readableState.destroyed && this._writableState.destroyed;
        },
        set: function set(value) {
          if (this._readableState === void 0 || this._writableState === void 0) {
            return;
          }
          this._readableState.destroyed = value;
          this._writableState.destroyed = value;
        }
      });
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/safe-buffer-npm-5.2.1-3481c8aa9b-9.zip/node_modules/safe-buffer/index.js
  var require_safe_buffer = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/safe-buffer-npm-5.2.1-3481c8aa9b-9.zip/node_modules/safe-buffer/index.js"(exports, module) {
      var buffer = __require("buffer");
      var Buffer2 = buffer.Buffer;
      function copyProps(src, dst) {
        for (var key in src) {
          dst[key] = src[key];
        }
      }
      if (Buffer2.from && Buffer2.alloc && Buffer2.allocUnsafe && Buffer2.allocUnsafeSlow) {
        module.exports = buffer;
      } else {
        copyProps(buffer, exports);
        exports.Buffer = SafeBuffer;
      }
      function SafeBuffer(arg, encodingOrOffset, length) {
        return Buffer2(arg, encodingOrOffset, length);
      }
      SafeBuffer.prototype = Object.create(Buffer2.prototype);
      copyProps(Buffer2, SafeBuffer);
      SafeBuffer.from = function(arg, encodingOrOffset, length) {
        if (typeof arg === "number") {
          throw new TypeError("Argument must not be a number");
        }
        return Buffer2(arg, encodingOrOffset, length);
      };
      SafeBuffer.alloc = function(size, fill, encoding) {
        if (typeof size !== "number") {
          throw new TypeError("Argument must be a number");
        }
        var buf = Buffer2(size);
        if (fill !== void 0) {
          if (typeof encoding === "string") {
            buf.fill(fill, encoding);
          } else {
            buf.fill(fill);
          }
        } else {
          buf.fill(0);
        }
        return buf;
      };
      SafeBuffer.allocUnsafe = function(size) {
        if (typeof size !== "number") {
          throw new TypeError("Argument must be a number");
        }
        return Buffer2(size);
      };
      SafeBuffer.allocUnsafeSlow = function(size) {
        if (typeof size !== "number") {
          throw new TypeError("Argument must be a number");
        }
        return buffer.SlowBuffer(size);
      };
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/string_decoder-npm-1.3.0-2422117fd0-9.zip/node_modules/string_decoder/lib/string_decoder.js
  var require_string_decoder = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/string_decoder-npm-1.3.0-2422117fd0-9.zip/node_modules/string_decoder/lib/string_decoder.js"(exports) {
      "use strict";
      var Buffer2 = require_safe_buffer().Buffer;
      var isEncoding = Buffer2.isEncoding || function(encoding) {
        encoding = "" + encoding;
        switch (encoding && encoding.toLowerCase()) {
          case "hex":
          case "utf8":
          case "utf-8":
          case "ascii":
          case "binary":
          case "base64":
          case "ucs2":
          case "ucs-2":
          case "utf16le":
          case "utf-16le":
          case "raw":
            return true;
          default:
            return false;
        }
      };
      function _normalizeEncoding(enc) {
        if (!enc)
          return "utf8";
        var retried;
        while (true) {
          switch (enc) {
            case "utf8":
            case "utf-8":
              return "utf8";
            case "ucs2":
            case "ucs-2":
            case "utf16le":
            case "utf-16le":
              return "utf16le";
            case "latin1":
            case "binary":
              return "latin1";
            case "base64":
            case "ascii":
            case "hex":
              return enc;
            default:
              if (retried)
                return;
              enc = ("" + enc).toLowerCase();
              retried = true;
          }
        }
      }
      function normalizeEncoding(enc) {
        var nenc = _normalizeEncoding(enc);
        if (typeof nenc !== "string" && (Buffer2.isEncoding === isEncoding || !isEncoding(enc)))
          throw new Error("Unknown encoding: " + enc);
        return nenc || enc;
      }
      exports.StringDecoder = StringDecoder;
      function StringDecoder(encoding) {
        this.encoding = normalizeEncoding(encoding);
        var nb;
        switch (this.encoding) {
          case "utf16le":
            this.text = utf16Text;
            this.end = utf16End;
            nb = 4;
            break;
          case "utf8":
            this.fillLast = utf8FillLast;
            nb = 4;
            break;
          case "base64":
            this.text = base64Text;
            this.end = base64End;
            nb = 3;
            break;
          default:
            this.write = simpleWrite;
            this.end = simpleEnd;
            return;
        }
        this.lastNeed = 0;
        this.lastTotal = 0;
        this.lastChar = Buffer2.allocUnsafe(nb);
      }
      StringDecoder.prototype.write = function(buf) {
        if (buf.length === 0)
          return "";
        var r;
        var i;
        if (this.lastNeed) {
          r = this.fillLast(buf);
          if (r === void 0)
            return "";
          i = this.lastNeed;
          this.lastNeed = 0;
        } else {
          i = 0;
        }
        if (i < buf.length)
          return r ? r + this.text(buf, i) : this.text(buf, i);
        return r || "";
      };
      StringDecoder.prototype.end = utf8End;
      StringDecoder.prototype.text = utf8Text;
      StringDecoder.prototype.fillLast = function(buf) {
        if (this.lastNeed <= buf.length) {
          buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, this.lastNeed);
          return this.lastChar.toString(this.encoding, 0, this.lastTotal);
        }
        buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, buf.length);
        this.lastNeed -= buf.length;
      };
      function utf8CheckByte(byte) {
        if (byte <= 127)
          return 0;
        else if (byte >> 5 === 6)
          return 2;
        else if (byte >> 4 === 14)
          return 3;
        else if (byte >> 3 === 30)
          return 4;
        return byte >> 6 === 2 ? -1 : -2;
      }
      function utf8CheckIncomplete(self2, buf, i) {
        var j = buf.length - 1;
        if (j < i)
          return 0;
        var nb = utf8CheckByte(buf[j]);
        if (nb >= 0) {
          if (nb > 0)
            self2.lastNeed = nb - 1;
          return nb;
        }
        if (--j < i || nb === -2)
          return 0;
        nb = utf8CheckByte(buf[j]);
        if (nb >= 0) {
          if (nb > 0)
            self2.lastNeed = nb - 2;
          return nb;
        }
        if (--j < i || nb === -2)
          return 0;
        nb = utf8CheckByte(buf[j]);
        if (nb >= 0) {
          if (nb > 0) {
            if (nb === 2)
              nb = 0;
            else
              self2.lastNeed = nb - 3;
          }
          return nb;
        }
        return 0;
      }
      function utf8CheckExtraBytes(self2, buf, p) {
        if ((buf[0] & 192) !== 128) {
          self2.lastNeed = 0;
          return "\uFFFD";
        }
        if (self2.lastNeed > 1 && buf.length > 1) {
          if ((buf[1] & 192) !== 128) {
            self2.lastNeed = 1;
            return "\uFFFD";
          }
          if (self2.lastNeed > 2 && buf.length > 2) {
            if ((buf[2] & 192) !== 128) {
              self2.lastNeed = 2;
              return "\uFFFD";
            }
          }
        }
      }
      function utf8FillLast(buf) {
        var p = this.lastTotal - this.lastNeed;
        var r = utf8CheckExtraBytes(this, buf, p);
        if (r !== void 0)
          return r;
        if (this.lastNeed <= buf.length) {
          buf.copy(this.lastChar, p, 0, this.lastNeed);
          return this.lastChar.toString(this.encoding, 0, this.lastTotal);
        }
        buf.copy(this.lastChar, p, 0, buf.length);
        this.lastNeed -= buf.length;
      }
      function utf8Text(buf, i) {
        var total = utf8CheckIncomplete(this, buf, i);
        if (!this.lastNeed)
          return buf.toString("utf8", i);
        this.lastTotal = total;
        var end = buf.length - (total - this.lastNeed);
        buf.copy(this.lastChar, 0, end);
        return buf.toString("utf8", i, end);
      }
      function utf8End(buf) {
        var r = buf && buf.length ? this.write(buf) : "";
        if (this.lastNeed)
          return r + "\uFFFD";
        return r;
      }
      function utf16Text(buf, i) {
        if ((buf.length - i) % 2 === 0) {
          var r = buf.toString("utf16le", i);
          if (r) {
            var c = r.charCodeAt(r.length - 1);
            if (c >= 55296 && c <= 56319) {
              this.lastNeed = 2;
              this.lastTotal = 4;
              this.lastChar[0] = buf[buf.length - 2];
              this.lastChar[1] = buf[buf.length - 1];
              return r.slice(0, -1);
            }
          }
          return r;
        }
        this.lastNeed = 1;
        this.lastTotal = 2;
        this.lastChar[0] = buf[buf.length - 1];
        return buf.toString("utf16le", i, buf.length - 1);
      }
      function utf16End(buf) {
        var r = buf && buf.length ? this.write(buf) : "";
        if (this.lastNeed) {
          var end = this.lastTotal - this.lastNeed;
          return r + this.lastChar.toString("utf16le", 0, end);
        }
        return r;
      }
      function base64Text(buf, i) {
        var n = (buf.length - i) % 3;
        if (n === 0)
          return buf.toString("base64", i);
        this.lastNeed = 3 - n;
        this.lastTotal = 3;
        if (n === 1) {
          this.lastChar[0] = buf[buf.length - 1];
        } else {
          this.lastChar[0] = buf[buf.length - 2];
          this.lastChar[1] = buf[buf.length - 1];
        }
        return buf.toString("base64", i, buf.length - n);
      }
      function base64End(buf) {
        var r = buf && buf.length ? this.write(buf) : "";
        if (this.lastNeed)
          return r + this.lastChar.toString("base64", 0, 3 - this.lastNeed);
        return r;
      }
      function simpleWrite(buf) {
        return buf.toString(this.encoding);
      }
      function simpleEnd(buf) {
        return buf && buf.length ? this.write(buf) : "";
      }
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/readable-stream-npm-3.6.0-23a4a5eb56-9.zip/node_modules/readable-stream/lib/internal/streams/end-of-stream.js
  var require_end_of_stream = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/readable-stream-npm-3.6.0-23a4a5eb56-9.zip/node_modules/readable-stream/lib/internal/streams/end-of-stream.js"(exports, module) {
      "use strict";
      var ERR_STREAM_PREMATURE_CLOSE = require_errors().codes.ERR_STREAM_PREMATURE_CLOSE;
      function once(callback) {
        var called = false;
        return function() {
          if (called)
            return;
          called = true;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          callback.apply(this, args);
        };
      }
      function noop() {
      }
      function isRequest(stream) {
        return stream.setHeader && typeof stream.abort === "function";
      }
      function eos(stream, opts, callback) {
        if (typeof opts === "function")
          return eos(stream, null, opts);
        if (!opts)
          opts = {};
        callback = once(callback || noop);
        var readable = opts.readable || opts.readable !== false && stream.readable;
        var writable = opts.writable || opts.writable !== false && stream.writable;
        var onlegacyfinish = function onlegacyfinish2() {
          if (!stream.writable)
            onfinish();
        };
        var writableEnded = stream._writableState && stream._writableState.finished;
        var onfinish = function onfinish2() {
          writable = false;
          writableEnded = true;
          if (!readable)
            callback.call(stream);
        };
        var readableEnded = stream._readableState && stream._readableState.endEmitted;
        var onend = function onend2() {
          readable = false;
          readableEnded = true;
          if (!writable)
            callback.call(stream);
        };
        var onerror = function onerror2(err) {
          callback.call(stream, err);
        };
        var onclose = function onclose2() {
          var err;
          if (readable && !readableEnded) {
            if (!stream._readableState || !stream._readableState.ended)
              err = new ERR_STREAM_PREMATURE_CLOSE();
            return callback.call(stream, err);
          }
          if (writable && !writableEnded) {
            if (!stream._writableState || !stream._writableState.ended)
              err = new ERR_STREAM_PREMATURE_CLOSE();
            return callback.call(stream, err);
          }
        };
        var onrequest = function onrequest2() {
          stream.req.on("finish", onfinish);
        };
        if (isRequest(stream)) {
          stream.on("complete", onfinish);
          stream.on("abort", onclose);
          if (stream.req)
            onrequest();
          else
            stream.on("request", onrequest);
        } else if (writable && !stream._writableState) {
          stream.on("end", onlegacyfinish);
          stream.on("close", onlegacyfinish);
        }
        stream.on("end", onend);
        stream.on("finish", onfinish);
        if (opts.error !== false)
          stream.on("error", onerror);
        stream.on("close", onclose);
        return function() {
          stream.removeListener("complete", onfinish);
          stream.removeListener("abort", onclose);
          stream.removeListener("request", onrequest);
          if (stream.req)
            stream.req.removeListener("finish", onfinish);
          stream.removeListener("end", onlegacyfinish);
          stream.removeListener("close", onlegacyfinish);
          stream.removeListener("finish", onfinish);
          stream.removeListener("end", onend);
          stream.removeListener("error", onerror);
          stream.removeListener("close", onclose);
        };
      }
      module.exports = eos;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/readable-stream-npm-3.6.0-23a4a5eb56-9.zip/node_modules/readable-stream/lib/internal/streams/async_iterator.js
  var require_async_iterator = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/readable-stream-npm-3.6.0-23a4a5eb56-9.zip/node_modules/readable-stream/lib/internal/streams/async_iterator.js"(exports, module) {
      "use strict";
      var _Object$setPrototypeO;
      function _defineProperty(obj, key, value) {
        if (key in obj) {
          Object.defineProperty(obj, key, {value, enumerable: true, configurable: true, writable: true});
        } else {
          obj[key] = value;
        }
        return obj;
      }
      var finished = require_end_of_stream();
      var kLastResolve = Symbol("lastResolve");
      var kLastReject = Symbol("lastReject");
      var kError = Symbol("error");
      var kEnded = Symbol("ended");
      var kLastPromise = Symbol("lastPromise");
      var kHandlePromise = Symbol("handlePromise");
      var kStream = Symbol("stream");
      function createIterResult(value, done) {
        return {
          value,
          done
        };
      }
      function readAndResolve(iter) {
        var resolve = iter[kLastResolve];
        if (resolve !== null) {
          var data = iter[kStream].read();
          if (data !== null) {
            iter[kLastPromise] = null;
            iter[kLastResolve] = null;
            iter[kLastReject] = null;
            resolve(createIterResult(data, false));
          }
        }
      }
      function onReadable(iter) {
        process.nextTick(readAndResolve, iter);
      }
      function wrapForNext(lastPromise, iter) {
        return function(resolve, reject) {
          lastPromise.then(function() {
            if (iter[kEnded]) {
              resolve(createIterResult(void 0, true));
              return;
            }
            iter[kHandlePromise](resolve, reject);
          }, reject);
        };
      }
      var AsyncIteratorPrototype = Object.getPrototypeOf(function() {
      });
      var ReadableStreamAsyncIteratorPrototype = Object.setPrototypeOf((_Object$setPrototypeO = {
        get stream() {
          return this[kStream];
        },
        next: function next() {
          var _this = this;
          var error = this[kError];
          if (error !== null) {
            return Promise.reject(error);
          }
          if (this[kEnded]) {
            return Promise.resolve(createIterResult(void 0, true));
          }
          if (this[kStream].destroyed) {
            return new Promise(function(resolve, reject) {
              process.nextTick(function() {
                if (_this[kError]) {
                  reject(_this[kError]);
                } else {
                  resolve(createIterResult(void 0, true));
                }
              });
            });
          }
          var lastPromise = this[kLastPromise];
          var promise;
          if (lastPromise) {
            promise = new Promise(wrapForNext(lastPromise, this));
          } else {
            var data = this[kStream].read();
            if (data !== null) {
              return Promise.resolve(createIterResult(data, false));
            }
            promise = new Promise(this[kHandlePromise]);
          }
          this[kLastPromise] = promise;
          return promise;
        }
      }, _defineProperty(_Object$setPrototypeO, Symbol.asyncIterator, function() {
        return this;
      }), _defineProperty(_Object$setPrototypeO, "return", function _return() {
        var _this2 = this;
        return new Promise(function(resolve, reject) {
          _this2[kStream].destroy(null, function(err) {
            if (err) {
              reject(err);
              return;
            }
            resolve(createIterResult(void 0, true));
          });
        });
      }), _Object$setPrototypeO), AsyncIteratorPrototype);
      var createReadableStreamAsyncIterator = function createReadableStreamAsyncIterator2(stream) {
        var _Object$create;
        var iterator = Object.create(ReadableStreamAsyncIteratorPrototype, (_Object$create = {}, _defineProperty(_Object$create, kStream, {
          value: stream,
          writable: true
        }), _defineProperty(_Object$create, kLastResolve, {
          value: null,
          writable: true
        }), _defineProperty(_Object$create, kLastReject, {
          value: null,
          writable: true
        }), _defineProperty(_Object$create, kError, {
          value: null,
          writable: true
        }), _defineProperty(_Object$create, kEnded, {
          value: stream._readableState.endEmitted,
          writable: true
        }), _defineProperty(_Object$create, kHandlePromise, {
          value: function value(resolve, reject) {
            var data = iterator[kStream].read();
            if (data) {
              iterator[kLastPromise] = null;
              iterator[kLastResolve] = null;
              iterator[kLastReject] = null;
              resolve(createIterResult(data, false));
            } else {
              iterator[kLastResolve] = resolve;
              iterator[kLastReject] = reject;
            }
          },
          writable: true
        }), _Object$create));
        iterator[kLastPromise] = null;
        finished(stream, function(err) {
          if (err && err.code !== "ERR_STREAM_PREMATURE_CLOSE") {
            var reject = iterator[kLastReject];
            if (reject !== null) {
              iterator[kLastPromise] = null;
              iterator[kLastResolve] = null;
              iterator[kLastReject] = null;
              reject(err);
            }
            iterator[kError] = err;
            return;
          }
          var resolve = iterator[kLastResolve];
          if (resolve !== null) {
            iterator[kLastPromise] = null;
            iterator[kLastResolve] = null;
            iterator[kLastReject] = null;
            resolve(createIterResult(void 0, true));
          }
          iterator[kEnded] = true;
        });
        stream.on("readable", onReadable.bind(null, iterator));
        return iterator;
      };
      module.exports = createReadableStreamAsyncIterator;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/readable-stream-npm-3.6.0-23a4a5eb56-9.zip/node_modules/readable-stream/lib/internal/streams/from.js
  var require_from = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/readable-stream-npm-3.6.0-23a4a5eb56-9.zip/node_modules/readable-stream/lib/internal/streams/from.js"(exports, module) {
      "use strict";
      function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {
        try {
          var info = gen[key](arg);
          var value = info.value;
        } catch (error) {
          reject(error);
          return;
        }
        if (info.done) {
          resolve(value);
        } else {
          Promise.resolve(value).then(_next, _throw);
        }
      }
      function _asyncToGenerator(fn) {
        return function() {
          var self2 = this, args = arguments;
          return new Promise(function(resolve, reject) {
            var gen = fn.apply(self2, args);
            function _next(value) {
              asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value);
            }
            function _throw(err) {
              asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err);
            }
            _next(void 0);
          });
        };
      }
      function ownKeys(object, enumerableOnly) {
        var keys = Object.keys(object);
        if (Object.getOwnPropertySymbols) {
          var symbols = Object.getOwnPropertySymbols(object);
          if (enumerableOnly)
            symbols = symbols.filter(function(sym) {
              return Object.getOwnPropertyDescriptor(object, sym).enumerable;
            });
          keys.push.apply(keys, symbols);
        }
        return keys;
      }
      function _objectSpread(target) {
        for (var i = 1; i < arguments.length; i++) {
          var source = arguments[i] != null ? arguments[i] : {};
          if (i % 2) {
            ownKeys(Object(source), true).forEach(function(key) {
              _defineProperty(target, key, source[key]);
            });
          } else if (Object.getOwnPropertyDescriptors) {
            Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));
          } else {
            ownKeys(Object(source)).forEach(function(key) {
              Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));
            });
          }
        }
        return target;
      }
      function _defineProperty(obj, key, value) {
        if (key in obj) {
          Object.defineProperty(obj, key, {value, enumerable: true, configurable: true, writable: true});
        } else {
          obj[key] = value;
        }
        return obj;
      }
      var ERR_INVALID_ARG_TYPE = require_errors().codes.ERR_INVALID_ARG_TYPE;
      function from(Readable, iterable, opts) {
        var iterator;
        if (iterable && typeof iterable.next === "function") {
          iterator = iterable;
        } else if (iterable && iterable[Symbol.asyncIterator])
          iterator = iterable[Symbol.asyncIterator]();
        else if (iterable && iterable[Symbol.iterator])
          iterator = iterable[Symbol.iterator]();
        else
          throw new ERR_INVALID_ARG_TYPE("iterable", ["Iterable"], iterable);
        var readable = new Readable(_objectSpread({
          objectMode: true
        }, opts));
        var reading = false;
        readable._read = function() {
          if (!reading) {
            reading = true;
            next();
          }
        };
        function next() {
          return _next2.apply(this, arguments);
        }
        function _next2() {
          _next2 = _asyncToGenerator(function* () {
            try {
              var _ref = yield iterator.next(), value = _ref.value, done = _ref.done;
              if (done) {
                readable.push(null);
              } else if (readable.push(yield value)) {
                next();
              } else {
                reading = false;
              }
            } catch (err) {
              readable.destroy(err);
            }
          });
          return _next2.apply(this, arguments);
        }
        return readable;
      }
      module.exports = from;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/readable-stream-npm-3.6.0-23a4a5eb56-9.zip/node_modules/readable-stream/lib/_stream_readable.js
  var require_stream_readable = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/readable-stream-npm-3.6.0-23a4a5eb56-9.zip/node_modules/readable-stream/lib/_stream_readable.js"(exports, module) {
      "use strict";
      module.exports = Readable;
      var Duplex;
      Readable.ReadableState = ReadableState;
      var EE = __require("events").EventEmitter;
      var EElistenerCount = function EElistenerCount2(emitter, type) {
        return emitter.listeners(type).length;
      };
      var Stream = require_stream();
      var Buffer2 = __require("buffer").Buffer;
      var OurUint8Array = global.Uint8Array || function() {
      };
      function _uint8ArrayToBuffer(chunk) {
        return Buffer2.from(chunk);
      }
      function _isUint8Array(obj) {
        return Buffer2.isBuffer(obj) || obj instanceof OurUint8Array;
      }
      var debugUtil = __require("util");
      var debug;
      if (debugUtil && debugUtil.debuglog) {
        debug = debugUtil.debuglog("stream");
      } else {
        debug = function debug2() {
        };
      }
      var BufferList = require_buffer_list();
      var destroyImpl = require_destroy();
      var _require = require_state();
      var getHighWaterMark = _require.getHighWaterMark;
      var _require$codes = require_errors().codes;
      var ERR_INVALID_ARG_TYPE = _require$codes.ERR_INVALID_ARG_TYPE;
      var ERR_STREAM_PUSH_AFTER_EOF = _require$codes.ERR_STREAM_PUSH_AFTER_EOF;
      var ERR_METHOD_NOT_IMPLEMENTED = _require$codes.ERR_METHOD_NOT_IMPLEMENTED;
      var ERR_STREAM_UNSHIFT_AFTER_END_EVENT = _require$codes.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;
      var StringDecoder;
      var createReadableStreamAsyncIterator;
      var from;
      require_inherits()(Readable, Stream);
      var errorOrDestroy = destroyImpl.errorOrDestroy;
      var kProxyEvents = ["error", "close", "destroy", "pause", "resume"];
      function prependListener(emitter, event, fn) {
        if (typeof emitter.prependListener === "function")
          return emitter.prependListener(event, fn);
        if (!emitter._events || !emitter._events[event])
          emitter.on(event, fn);
        else if (Array.isArray(emitter._events[event]))
          emitter._events[event].unshift(fn);
        else
          emitter._events[event] = [fn, emitter._events[event]];
      }
      function ReadableState(options, stream, isDuplex) {
        Duplex = Duplex || require_stream_duplex();
        options = options || {};
        if (typeof isDuplex !== "boolean")
          isDuplex = stream instanceof Duplex;
        this.objectMode = !!options.objectMode;
        if (isDuplex)
          this.objectMode = this.objectMode || !!options.readableObjectMode;
        this.highWaterMark = getHighWaterMark(this, options, "readableHighWaterMark", isDuplex);
        this.buffer = new BufferList();
        this.length = 0;
        this.pipes = null;
        this.pipesCount = 0;
        this.flowing = null;
        this.ended = false;
        this.endEmitted = false;
        this.reading = false;
        this.sync = true;
        this.needReadable = false;
        this.emittedReadable = false;
        this.readableListening = false;
        this.resumeScheduled = false;
        this.paused = true;
        this.emitClose = options.emitClose !== false;
        this.autoDestroy = !!options.autoDestroy;
        this.destroyed = false;
        this.defaultEncoding = options.defaultEncoding || "utf8";
        this.awaitDrain = 0;
        this.readingMore = false;
        this.decoder = null;
        this.encoding = null;
        if (options.encoding) {
          if (!StringDecoder)
            StringDecoder = require_string_decoder().StringDecoder;
          this.decoder = new StringDecoder(options.encoding);
          this.encoding = options.encoding;
        }
      }
      function Readable(options) {
        Duplex = Duplex || require_stream_duplex();
        if (!(this instanceof Readable))
          return new Readable(options);
        var isDuplex = this instanceof Duplex;
        this._readableState = new ReadableState(options, this, isDuplex);
        this.readable = true;
        if (options) {
          if (typeof options.read === "function")
            this._read = options.read;
          if (typeof options.destroy === "function")
            this._destroy = options.destroy;
        }
        Stream.call(this);
      }
      Object.defineProperty(Readable.prototype, "destroyed", {
        enumerable: false,
        get: function get() {
          if (this._readableState === void 0) {
            return false;
          }
          return this._readableState.destroyed;
        },
        set: function set(value) {
          if (!this._readableState) {
            return;
          }
          this._readableState.destroyed = value;
        }
      });
      Readable.prototype.destroy = destroyImpl.destroy;
      Readable.prototype._undestroy = destroyImpl.undestroy;
      Readable.prototype._destroy = function(err, cb) {
        cb(err);
      };
      Readable.prototype.push = function(chunk, encoding) {
        var state = this._readableState;
        var skipChunkCheck;
        if (!state.objectMode) {
          if (typeof chunk === "string") {
            encoding = encoding || state.defaultEncoding;
            if (encoding !== state.encoding) {
              chunk = Buffer2.from(chunk, encoding);
              encoding = "";
            }
            skipChunkCheck = true;
          }
        } else {
          skipChunkCheck = true;
        }
        return readableAddChunk(this, chunk, encoding, false, skipChunkCheck);
      };
      Readable.prototype.unshift = function(chunk) {
        return readableAddChunk(this, chunk, null, true, false);
      };
      function readableAddChunk(stream, chunk, encoding, addToFront, skipChunkCheck) {
        debug("readableAddChunk", chunk);
        var state = stream._readableState;
        if (chunk === null) {
          state.reading = false;
          onEofChunk(stream, state);
        } else {
          var er;
          if (!skipChunkCheck)
            er = chunkInvalid(state, chunk);
          if (er) {
            errorOrDestroy(stream, er);
          } else if (state.objectMode || chunk && chunk.length > 0) {
            if (typeof chunk !== "string" && !state.objectMode && Object.getPrototypeOf(chunk) !== Buffer2.prototype) {
              chunk = _uint8ArrayToBuffer(chunk);
            }
            if (addToFront) {
              if (state.endEmitted)
                errorOrDestroy(stream, new ERR_STREAM_UNSHIFT_AFTER_END_EVENT());
              else
                addChunk(stream, state, chunk, true);
            } else if (state.ended) {
              errorOrDestroy(stream, new ERR_STREAM_PUSH_AFTER_EOF());
            } else if (state.destroyed) {
              return false;
            } else {
              state.reading = false;
              if (state.decoder && !encoding) {
                chunk = state.decoder.write(chunk);
                if (state.objectMode || chunk.length !== 0)
                  addChunk(stream, state, chunk, false);
                else
                  maybeReadMore(stream, state);
              } else {
                addChunk(stream, state, chunk, false);
              }
            }
          } else if (!addToFront) {
            state.reading = false;
            maybeReadMore(stream, state);
          }
        }
        return !state.ended && (state.length < state.highWaterMark || state.length === 0);
      }
      function addChunk(stream, state, chunk, addToFront) {
        if (state.flowing && state.length === 0 && !state.sync) {
          state.awaitDrain = 0;
          stream.emit("data", chunk);
        } else {
          state.length += state.objectMode ? 1 : chunk.length;
          if (addToFront)
            state.buffer.unshift(chunk);
          else
            state.buffer.push(chunk);
          if (state.needReadable)
            emitReadable(stream);
        }
        maybeReadMore(stream, state);
      }
      function chunkInvalid(state, chunk) {
        var er;
        if (!_isUint8Array(chunk) && typeof chunk !== "string" && chunk !== void 0 && !state.objectMode) {
          er = new ERR_INVALID_ARG_TYPE("chunk", ["string", "Buffer", "Uint8Array"], chunk);
        }
        return er;
      }
      Readable.prototype.isPaused = function() {
        return this._readableState.flowing === false;
      };
      Readable.prototype.setEncoding = function(enc) {
        if (!StringDecoder)
          StringDecoder = require_string_decoder().StringDecoder;
        var decoder = new StringDecoder(enc);
        this._readableState.decoder = decoder;
        this._readableState.encoding = this._readableState.decoder.encoding;
        var p = this._readableState.buffer.head;
        var content = "";
        while (p !== null) {
          content += decoder.write(p.data);
          p = p.next;
        }
        this._readableState.buffer.clear();
        if (content !== "")
          this._readableState.buffer.push(content);
        this._readableState.length = content.length;
        return this;
      };
      var MAX_HWM = 1073741824;
      function computeNewHighWaterMark(n) {
        if (n >= MAX_HWM) {
          n = MAX_HWM;
        } else {
          n--;
          n |= n >>> 1;
          n |= n >>> 2;
          n |= n >>> 4;
          n |= n >>> 8;
          n |= n >>> 16;
          n++;
        }
        return n;
      }
      function howMuchToRead(n, state) {
        if (n <= 0 || state.length === 0 && state.ended)
          return 0;
        if (state.objectMode)
          return 1;
        if (n !== n) {
          if (state.flowing && state.length)
            return state.buffer.head.data.length;
          else
            return state.length;
        }
        if (n > state.highWaterMark)
          state.highWaterMark = computeNewHighWaterMark(n);
        if (n <= state.length)
          return n;
        if (!state.ended) {
          state.needReadable = true;
          return 0;
        }
        return state.length;
      }
      Readable.prototype.read = function(n) {
        debug("read", n);
        n = parseInt(n, 10);
        var state = this._readableState;
        var nOrig = n;
        if (n !== 0)
          state.emittedReadable = false;
        if (n === 0 && state.needReadable && ((state.highWaterMark !== 0 ? state.length >= state.highWaterMark : state.length > 0) || state.ended)) {
          debug("read: emitReadable", state.length, state.ended);
          if (state.length === 0 && state.ended)
            endReadable(this);
          else
            emitReadable(this);
          return null;
        }
        n = howMuchToRead(n, state);
        if (n === 0 && state.ended) {
          if (state.length === 0)
            endReadable(this);
          return null;
        }
        var doRead = state.needReadable;
        debug("need readable", doRead);
        if (state.length === 0 || state.length - n < state.highWaterMark) {
          doRead = true;
          debug("length less than watermark", doRead);
        }
        if (state.ended || state.reading) {
          doRead = false;
          debug("reading or ended", doRead);
        } else if (doRead) {
          debug("do read");
          state.reading = true;
          state.sync = true;
          if (state.length === 0)
            state.needReadable = true;
          this._read(state.highWaterMark);
          state.sync = false;
          if (!state.reading)
            n = howMuchToRead(nOrig, state);
        }
        var ret;
        if (n > 0)
          ret = fromList(n, state);
        else
          ret = null;
        if (ret === null) {
          state.needReadable = state.length <= state.highWaterMark;
          n = 0;
        } else {
          state.length -= n;
          state.awaitDrain = 0;
        }
        if (state.length === 0) {
          if (!state.ended)
            state.needReadable = true;
          if (nOrig !== n && state.ended)
            endReadable(this);
        }
        if (ret !== null)
          this.emit("data", ret);
        return ret;
      };
      function onEofChunk(stream, state) {
        debug("onEofChunk");
        if (state.ended)
          return;
        if (state.decoder) {
          var chunk = state.decoder.end();
          if (chunk && chunk.length) {
            state.buffer.push(chunk);
            state.length += state.objectMode ? 1 : chunk.length;
          }
        }
        state.ended = true;
        if (state.sync) {
          emitReadable(stream);
        } else {
          state.needReadable = false;
          if (!state.emittedReadable) {
            state.emittedReadable = true;
            emitReadable_(stream);
          }
        }
      }
      function emitReadable(stream) {
        var state = stream._readableState;
        debug("emitReadable", state.needReadable, state.emittedReadable);
        state.needReadable = false;
        if (!state.emittedReadable) {
          debug("emitReadable", state.flowing);
          state.emittedReadable = true;
          process.nextTick(emitReadable_, stream);
        }
      }
      function emitReadable_(stream) {
        var state = stream._readableState;
        debug("emitReadable_", state.destroyed, state.length, state.ended);
        if (!state.destroyed && (state.length || state.ended)) {
          stream.emit("readable");
          state.emittedReadable = false;
        }
        state.needReadable = !state.flowing && !state.ended && state.length <= state.highWaterMark;
        flow(stream);
      }
      function maybeReadMore(stream, state) {
        if (!state.readingMore) {
          state.readingMore = true;
          process.nextTick(maybeReadMore_, stream, state);
        }
      }
      function maybeReadMore_(stream, state) {
        while (!state.reading && !state.ended && (state.length < state.highWaterMark || state.flowing && state.length === 0)) {
          var len = state.length;
          debug("maybeReadMore read 0");
          stream.read(0);
          if (len === state.length)
            break;
        }
        state.readingMore = false;
      }
      Readable.prototype._read = function(n) {
        errorOrDestroy(this, new ERR_METHOD_NOT_IMPLEMENTED("_read()"));
      };
      Readable.prototype.pipe = function(dest, pipeOpts) {
        var src = this;
        var state = this._readableState;
        switch (state.pipesCount) {
          case 0:
            state.pipes = dest;
            break;
          case 1:
            state.pipes = [state.pipes, dest];
            break;
          default:
            state.pipes.push(dest);
            break;
        }
        state.pipesCount += 1;
        debug("pipe count=%d opts=%j", state.pipesCount, pipeOpts);
        var doEnd = (!pipeOpts || pipeOpts.end !== false) && dest !== process.stdout && dest !== process.stderr;
        var endFn = doEnd ? onend : unpipe;
        if (state.endEmitted)
          process.nextTick(endFn);
        else
          src.once("end", endFn);
        dest.on("unpipe", onunpipe);
        function onunpipe(readable, unpipeInfo) {
          debug("onunpipe");
          if (readable === src) {
            if (unpipeInfo && unpipeInfo.hasUnpiped === false) {
              unpipeInfo.hasUnpiped = true;
              cleanup();
            }
          }
        }
        function onend() {
          debug("onend");
          dest.end();
        }
        var ondrain = pipeOnDrain(src);
        dest.on("drain", ondrain);
        var cleanedUp = false;
        function cleanup() {
          debug("cleanup");
          dest.removeListener("close", onclose);
          dest.removeListener("finish", onfinish);
          dest.removeListener("drain", ondrain);
          dest.removeListener("error", onerror);
          dest.removeListener("unpipe", onunpipe);
          src.removeListener("end", onend);
          src.removeListener("end", unpipe);
          src.removeListener("data", ondata);
          cleanedUp = true;
          if (state.awaitDrain && (!dest._writableState || dest._writableState.needDrain))
            ondrain();
        }
        src.on("data", ondata);
        function ondata(chunk) {
          debug("ondata");
          var ret = dest.write(chunk);
          debug("dest.write", ret);
          if (ret === false) {
            if ((state.pipesCount === 1 && state.pipes === dest || state.pipesCount > 1 && indexOf(state.pipes, dest) !== -1) && !cleanedUp) {
              debug("false write response, pause", state.awaitDrain);
              state.awaitDrain++;
            }
            src.pause();
          }
        }
        function onerror(er) {
          debug("onerror", er);
          unpipe();
          dest.removeListener("error", onerror);
          if (EElistenerCount(dest, "error") === 0)
            errorOrDestroy(dest, er);
        }
        prependListener(dest, "error", onerror);
        function onclose() {
          dest.removeListener("finish", onfinish);
          unpipe();
        }
        dest.once("close", onclose);
        function onfinish() {
          debug("onfinish");
          dest.removeListener("close", onclose);
          unpipe();
        }
        dest.once("finish", onfinish);
        function unpipe() {
          debug("unpipe");
          src.unpipe(dest);
        }
        dest.emit("pipe", src);
        if (!state.flowing) {
          debug("pipe resume");
          src.resume();
        }
        return dest;
      };
      function pipeOnDrain(src) {
        return function pipeOnDrainFunctionResult() {
          var state = src._readableState;
          debug("pipeOnDrain", state.awaitDrain);
          if (state.awaitDrain)
            state.awaitDrain--;
          if (state.awaitDrain === 0 && EElistenerCount(src, "data")) {
            state.flowing = true;
            flow(src);
          }
        };
      }
      Readable.prototype.unpipe = function(dest) {
        var state = this._readableState;
        var unpipeInfo = {
          hasUnpiped: false
        };
        if (state.pipesCount === 0)
          return this;
        if (state.pipesCount === 1) {
          if (dest && dest !== state.pipes)
            return this;
          if (!dest)
            dest = state.pipes;
          state.pipes = null;
          state.pipesCount = 0;
          state.flowing = false;
          if (dest)
            dest.emit("unpipe", this, unpipeInfo);
          return this;
        }
        if (!dest) {
          var dests = state.pipes;
          var len = state.pipesCount;
          state.pipes = null;
          state.pipesCount = 0;
          state.flowing = false;
          for (var i = 0; i < len; i++) {
            dests[i].emit("unpipe", this, {
              hasUnpiped: false
            });
          }
          return this;
        }
        var index = indexOf(state.pipes, dest);
        if (index === -1)
          return this;
        state.pipes.splice(index, 1);
        state.pipesCount -= 1;
        if (state.pipesCount === 1)
          state.pipes = state.pipes[0];
        dest.emit("unpipe", this, unpipeInfo);
        return this;
      };
      Readable.prototype.on = function(ev, fn) {
        var res = Stream.prototype.on.call(this, ev, fn);
        var state = this._readableState;
        if (ev === "data") {
          state.readableListening = this.listenerCount("readable") > 0;
          if (state.flowing !== false)
            this.resume();
        } else if (ev === "readable") {
          if (!state.endEmitted && !state.readableListening) {
            state.readableListening = state.needReadable = true;
            state.flowing = false;
            state.emittedReadable = false;
            debug("on readable", state.length, state.reading);
            if (state.length) {
              emitReadable(this);
            } else if (!state.reading) {
              process.nextTick(nReadingNextTick, this);
            }
          }
        }
        return res;
      };
      Readable.prototype.addListener = Readable.prototype.on;
      Readable.prototype.removeListener = function(ev, fn) {
        var res = Stream.prototype.removeListener.call(this, ev, fn);
        if (ev === "readable") {
          process.nextTick(updateReadableListening, this);
        }
        return res;
      };
      Readable.prototype.removeAllListeners = function(ev) {
        var res = Stream.prototype.removeAllListeners.apply(this, arguments);
        if (ev === "readable" || ev === void 0) {
          process.nextTick(updateReadableListening, this);
        }
        return res;
      };
      function updateReadableListening(self2) {
        var state = self2._readableState;
        state.readableListening = self2.listenerCount("readable") > 0;
        if (state.resumeScheduled && !state.paused) {
          state.flowing = true;
        } else if (self2.listenerCount("data") > 0) {
          self2.resume();
        }
      }
      function nReadingNextTick(self2) {
        debug("readable nexttick read 0");
        self2.read(0);
      }
      Readable.prototype.resume = function() {
        var state = this._readableState;
        if (!state.flowing) {
          debug("resume");
          state.flowing = !state.readableListening;
          resume(this, state);
        }
        state.paused = false;
        return this;
      };
      function resume(stream, state) {
        if (!state.resumeScheduled) {
          state.resumeScheduled = true;
          process.nextTick(resume_, stream, state);
        }
      }
      function resume_(stream, state) {
        debug("resume", state.reading);
        if (!state.reading) {
          stream.read(0);
        }
        state.resumeScheduled = false;
        stream.emit("resume");
        flow(stream);
        if (state.flowing && !state.reading)
          stream.read(0);
      }
      Readable.prototype.pause = function() {
        debug("call pause flowing=%j", this._readableState.flowing);
        if (this._readableState.flowing !== false) {
          debug("pause");
          this._readableState.flowing = false;
          this.emit("pause");
        }
        this._readableState.paused = true;
        return this;
      };
      function flow(stream) {
        var state = stream._readableState;
        debug("flow", state.flowing);
        while (state.flowing && stream.read() !== null) {
          ;
        }
      }
      Readable.prototype.wrap = function(stream) {
        var _this = this;
        var state = this._readableState;
        var paused = false;
        stream.on("end", function() {
          debug("wrapped end");
          if (state.decoder && !state.ended) {
            var chunk = state.decoder.end();
            if (chunk && chunk.length)
              _this.push(chunk);
          }
          _this.push(null);
        });
        stream.on("data", function(chunk) {
          debug("wrapped data");
          if (state.decoder)
            chunk = state.decoder.write(chunk);
          if (state.objectMode && (chunk === null || chunk === void 0))
            return;
          else if (!state.objectMode && (!chunk || !chunk.length))
            return;
          var ret = _this.push(chunk);
          if (!ret) {
            paused = true;
            stream.pause();
          }
        });
        for (var i in stream) {
          if (this[i] === void 0 && typeof stream[i] === "function") {
            this[i] = function methodWrap(method) {
              return function methodWrapReturnFunction() {
                return stream[method].apply(stream, arguments);
              };
            }(i);
          }
        }
        for (var n = 0; n < kProxyEvents.length; n++) {
          stream.on(kProxyEvents[n], this.emit.bind(this, kProxyEvents[n]));
        }
        this._read = function(n2) {
          debug("wrapped _read", n2);
          if (paused) {
            paused = false;
            stream.resume();
          }
        };
        return this;
      };
      if (typeof Symbol === "function") {
        Readable.prototype[Symbol.asyncIterator] = function() {
          if (createReadableStreamAsyncIterator === void 0) {
            createReadableStreamAsyncIterator = require_async_iterator();
          }
          return createReadableStreamAsyncIterator(this);
        };
      }
      Object.defineProperty(Readable.prototype, "readableHighWaterMark", {
        enumerable: false,
        get: function get() {
          return this._readableState.highWaterMark;
        }
      });
      Object.defineProperty(Readable.prototype, "readableBuffer", {
        enumerable: false,
        get: function get() {
          return this._readableState && this._readableState.buffer;
        }
      });
      Object.defineProperty(Readable.prototype, "readableFlowing", {
        enumerable: false,
        get: function get() {
          return this._readableState.flowing;
        },
        set: function set(state) {
          if (this._readableState) {
            this._readableState.flowing = state;
          }
        }
      });
      Readable._fromList = fromList;
      Object.defineProperty(Readable.prototype, "readableLength", {
        enumerable: false,
        get: function get() {
          return this._readableState.length;
        }
      });
      function fromList(n, state) {
        if (state.length === 0)
          return null;
        var ret;
        if (state.objectMode)
          ret = state.buffer.shift();
        else if (!n || n >= state.length) {
          if (state.decoder)
            ret = state.buffer.join("");
          else if (state.buffer.length === 1)
            ret = state.buffer.first();
          else
            ret = state.buffer.concat(state.length);
          state.buffer.clear();
        } else {
          ret = state.buffer.consume(n, state.decoder);
        }
        return ret;
      }
      function endReadable(stream) {
        var state = stream._readableState;
        debug("endReadable", state.endEmitted);
        if (!state.endEmitted) {
          state.ended = true;
          process.nextTick(endReadableNT, state, stream);
        }
      }
      function endReadableNT(state, stream) {
        debug("endReadableNT", state.endEmitted, state.length);
        if (!state.endEmitted && state.length === 0) {
          state.endEmitted = true;
          stream.readable = false;
          stream.emit("end");
          if (state.autoDestroy) {
            var wState = stream._writableState;
            if (!wState || wState.autoDestroy && wState.finished) {
              stream.destroy();
            }
          }
        }
      }
      if (typeof Symbol === "function") {
        Readable.from = function(iterable, opts) {
          if (from === void 0) {
            from = require_from();
          }
          return from(Readable, iterable, opts);
        };
      }
      function indexOf(xs, x) {
        for (var i = 0, l = xs.length; i < l; i++) {
          if (xs[i] === x)
            return i;
        }
        return -1;
      }
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/readable-stream-npm-3.6.0-23a4a5eb56-9.zip/node_modules/readable-stream/lib/_stream_transform.js
  var require_stream_transform = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/readable-stream-npm-3.6.0-23a4a5eb56-9.zip/node_modules/readable-stream/lib/_stream_transform.js"(exports, module) {
      "use strict";
      module.exports = Transform;
      var _require$codes = require_errors().codes;
      var ERR_METHOD_NOT_IMPLEMENTED = _require$codes.ERR_METHOD_NOT_IMPLEMENTED;
      var ERR_MULTIPLE_CALLBACK = _require$codes.ERR_MULTIPLE_CALLBACK;
      var ERR_TRANSFORM_ALREADY_TRANSFORMING = _require$codes.ERR_TRANSFORM_ALREADY_TRANSFORMING;
      var ERR_TRANSFORM_WITH_LENGTH_0 = _require$codes.ERR_TRANSFORM_WITH_LENGTH_0;
      var Duplex = require_stream_duplex();
      require_inherits()(Transform, Duplex);
      function afterTransform(er, data) {
        var ts = this._transformState;
        ts.transforming = false;
        var cb = ts.writecb;
        if (cb === null) {
          return this.emit("error", new ERR_MULTIPLE_CALLBACK());
        }
        ts.writechunk = null;
        ts.writecb = null;
        if (data != null)
          this.push(data);
        cb(er);
        var rs = this._readableState;
        rs.reading = false;
        if (rs.needReadable || rs.length < rs.highWaterMark) {
          this._read(rs.highWaterMark);
        }
      }
      function Transform(options) {
        if (!(this instanceof Transform))
          return new Transform(options);
        Duplex.call(this, options);
        this._transformState = {
          afterTransform: afterTransform.bind(this),
          needTransform: false,
          transforming: false,
          writecb: null,
          writechunk: null,
          writeencoding: null
        };
        this._readableState.needReadable = true;
        this._readableState.sync = false;
        if (options) {
          if (typeof options.transform === "function")
            this._transform = options.transform;
          if (typeof options.flush === "function")
            this._flush = options.flush;
        }
        this.on("prefinish", prefinish);
      }
      function prefinish() {
        var _this = this;
        if (typeof this._flush === "function" && !this._readableState.destroyed) {
          this._flush(function(er, data) {
            done(_this, er, data);
          });
        } else {
          done(this, null, null);
        }
      }
      Transform.prototype.push = function(chunk, encoding) {
        this._transformState.needTransform = false;
        return Duplex.prototype.push.call(this, chunk, encoding);
      };
      Transform.prototype._transform = function(chunk, encoding, cb) {
        cb(new ERR_METHOD_NOT_IMPLEMENTED("_transform()"));
      };
      Transform.prototype._write = function(chunk, encoding, cb) {
        var ts = this._transformState;
        ts.writecb = cb;
        ts.writechunk = chunk;
        ts.writeencoding = encoding;
        if (!ts.transforming) {
          var rs = this._readableState;
          if (ts.needTransform || rs.needReadable || rs.length < rs.highWaterMark)
            this._read(rs.highWaterMark);
        }
      };
      Transform.prototype._read = function(n) {
        var ts = this._transformState;
        if (ts.writechunk !== null && !ts.transforming) {
          ts.transforming = true;
          this._transform(ts.writechunk, ts.writeencoding, ts.afterTransform);
        } else {
          ts.needTransform = true;
        }
      };
      Transform.prototype._destroy = function(err, cb) {
        Duplex.prototype._destroy.call(this, err, function(err2) {
          cb(err2);
        });
      };
      function done(stream, er, data) {
        if (er)
          return stream.emit("error", er);
        if (data != null)
          stream.push(data);
        if (stream._writableState.length)
          throw new ERR_TRANSFORM_WITH_LENGTH_0();
        if (stream._transformState.transforming)
          throw new ERR_TRANSFORM_ALREADY_TRANSFORMING();
        return stream.push(null);
      }
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/readable-stream-npm-3.6.0-23a4a5eb56-9.zip/node_modules/readable-stream/lib/_stream_passthrough.js
  var require_stream_passthrough = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/readable-stream-npm-3.6.0-23a4a5eb56-9.zip/node_modules/readable-stream/lib/_stream_passthrough.js"(exports, module) {
      "use strict";
      module.exports = PassThrough;
      var Transform = require_stream_transform();
      require_inherits()(PassThrough, Transform);
      function PassThrough(options) {
        if (!(this instanceof PassThrough))
          return new PassThrough(options);
        Transform.call(this, options);
      }
      PassThrough.prototype._transform = function(chunk, encoding, cb) {
        cb(null, chunk);
      };
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/readable-stream-npm-3.6.0-23a4a5eb56-9.zip/node_modules/readable-stream/lib/internal/streams/pipeline.js
  var require_pipeline = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/readable-stream-npm-3.6.0-23a4a5eb56-9.zip/node_modules/readable-stream/lib/internal/streams/pipeline.js"(exports, module) {
      "use strict";
      var eos;
      function once(callback) {
        var called = false;
        return function() {
          if (called)
            return;
          called = true;
          callback.apply(void 0, arguments);
        };
      }
      var _require$codes = require_errors().codes;
      var ERR_MISSING_ARGS = _require$codes.ERR_MISSING_ARGS;
      var ERR_STREAM_DESTROYED = _require$codes.ERR_STREAM_DESTROYED;
      function noop(err) {
        if (err)
          throw err;
      }
      function isRequest(stream) {
        return stream.setHeader && typeof stream.abort === "function";
      }
      function destroyer(stream, reading, writing, callback) {
        callback = once(callback);
        var closed = false;
        stream.on("close", function() {
          closed = true;
        });
        if (eos === void 0)
          eos = require_end_of_stream();
        eos(stream, {
          readable: reading,
          writable: writing
        }, function(err) {
          if (err)
            return callback(err);
          closed = true;
          callback();
        });
        var destroyed = false;
        return function(err) {
          if (closed)
            return;
          if (destroyed)
            return;
          destroyed = true;
          if (isRequest(stream))
            return stream.abort();
          if (typeof stream.destroy === "function")
            return stream.destroy();
          callback(err || new ERR_STREAM_DESTROYED("pipe"));
        };
      }
      function call(fn) {
        fn();
      }
      function pipe(from, to) {
        return from.pipe(to);
      }
      function popCallback(streams) {
        if (!streams.length)
          return noop;
        if (typeof streams[streams.length - 1] !== "function")
          return noop;
        return streams.pop();
      }
      function pipeline() {
        for (var _len = arguments.length, streams = new Array(_len), _key = 0; _key < _len; _key++) {
          streams[_key] = arguments[_key];
        }
        var callback = popCallback(streams);
        if (Array.isArray(streams[0]))
          streams = streams[0];
        if (streams.length < 2) {
          throw new ERR_MISSING_ARGS("streams");
        }
        var error;
        var destroys = streams.map(function(stream, i) {
          var reading = i < streams.length - 1;
          var writing = i > 0;
          return destroyer(stream, reading, writing, function(err) {
            if (!error)
              error = err;
            if (err)
              destroys.forEach(call);
            if (reading)
              return;
            destroys.forEach(call);
            callback(error);
          });
        });
        return streams.reduce(pipe);
      }
      module.exports = pipeline;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/readable-stream-npm-3.6.0-23a4a5eb56-9.zip/node_modules/readable-stream/readable.js
  var require_readable = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/readable-stream-npm-3.6.0-23a4a5eb56-9.zip/node_modules/readable-stream/readable.js"(exports, module) {
      var Stream = __require("stream");
      if (process.env.READABLE_STREAM === "disable" && Stream) {
        module.exports = Stream.Readable;
        Object.assign(module.exports, Stream);
        module.exports.Stream = Stream;
      } else {
        exports = module.exports = require_stream_readable();
        exports.Stream = Stream || exports;
        exports.Readable = exports;
        exports.Writable = require_stream_writable();
        exports.Duplex = require_stream_duplex();
        exports.Transform = require_stream_transform();
        exports.PassThrough = require_stream_passthrough();
        exports.finished = require_end_of_stream();
        exports.pipeline = require_pipeline();
      }
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/buffer-from-npm-1.1.2-03d2f20d7e-9.zip/node_modules/buffer-from/index.js
  var require_buffer_from = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/buffer-from-npm-1.1.2-03d2f20d7e-9.zip/node_modules/buffer-from/index.js"(exports, module) {
      var toString = Object.prototype.toString;
      var isModern = typeof Buffer !== "undefined" && typeof Buffer.alloc === "function" && typeof Buffer.allocUnsafe === "function" && typeof Buffer.from === "function";
      function isArrayBuffer(input) {
        return toString.call(input).slice(8, -1) === "ArrayBuffer";
      }
      function fromArrayBuffer(obj, byteOffset, length) {
        byteOffset >>>= 0;
        var maxLength = obj.byteLength - byteOffset;
        if (maxLength < 0) {
          throw new RangeError("'offset' is out of bounds");
        }
        if (length === void 0) {
          length = maxLength;
        } else {
          length >>>= 0;
          if (length > maxLength) {
            throw new RangeError("'length' is out of bounds");
          }
        }
        return isModern ? Buffer.from(obj.slice(byteOffset, byteOffset + length)) : new Buffer(new Uint8Array(obj.slice(byteOffset, byteOffset + length)));
      }
      function fromString(string, encoding) {
        if (typeof encoding !== "string" || encoding === "") {
          encoding = "utf8";
        }
        if (!Buffer.isEncoding(encoding)) {
          throw new TypeError('"encoding" must be a valid string encoding');
        }
        return isModern ? Buffer.from(string, encoding) : new Buffer(string, encoding);
      }
      function bufferFrom(value, encodingOrOffset, length) {
        if (typeof value === "number") {
          throw new TypeError('"value" argument must not be a number');
        }
        if (isArrayBuffer(value)) {
          return fromArrayBuffer(value, encodingOrOffset, length);
        }
        if (typeof value === "string") {
          return fromString(value, encodingOrOffset);
        }
        return isModern ? Buffer.from(value) : new Buffer(value);
      }
      module.exports = bufferFrom;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/typedarray-npm-0.0.6-37638b2241-9.zip/node_modules/typedarray/index.js
  var require_typedarray = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/typedarray-npm-0.0.6-37638b2241-9.zip/node_modules/typedarray/index.js"(exports) {
      var undefined2 = void 0;
      var MAX_ARRAY_LENGTH = 1e5;
      var ECMAScript = function() {
        var opts = Object.prototype.toString, ophop = Object.prototype.hasOwnProperty;
        return {
          Class: function(v) {
            return opts.call(v).replace(/^\[object *|\]$/g, "");
          },
          HasProperty: function(o, p) {
            return p in o;
          },
          HasOwnProperty: function(o, p) {
            return ophop.call(o, p);
          },
          IsCallable: function(o) {
            return typeof o === "function";
          },
          ToInt32: function(v) {
            return v >> 0;
          },
          ToUint32: function(v) {
            return v >>> 0;
          }
        };
      }();
      var LN2 = Math.LN2;
      var abs = Math.abs;
      var floor = Math.floor;
      var log = Math.log;
      var min = Math.min;
      var pow = Math.pow;
      var round = Math.round;
      function configureProperties(obj) {
        if (getOwnPropNames && defineProp) {
          var props = getOwnPropNames(obj), i;
          for (i = 0; i < props.length; i += 1) {
            defineProp(obj, props[i], {
              value: obj[props[i]],
              writable: false,
              enumerable: false,
              configurable: false
            });
          }
        }
      }
      var defineProp;
      if (Object.defineProperty && function() {
        try {
          Object.defineProperty({}, "x", {});
          return true;
        } catch (e) {
          return false;
        }
      }()) {
        defineProp = Object.defineProperty;
      } else {
        defineProp = function(o, p, desc) {
          if (!o === Object(o))
            throw new TypeError("Object.defineProperty called on non-object");
          if (ECMAScript.HasProperty(desc, "get") && Object.prototype.__defineGetter__) {
            Object.prototype.__defineGetter__.call(o, p, desc.get);
          }
          if (ECMAScript.HasProperty(desc, "set") && Object.prototype.__defineSetter__) {
            Object.prototype.__defineSetter__.call(o, p, desc.set);
          }
          if (ECMAScript.HasProperty(desc, "value")) {
            o[p] = desc.value;
          }
          return o;
        };
      }
      var getOwnPropNames = Object.getOwnPropertyNames || function(o) {
        if (o !== Object(o))
          throw new TypeError("Object.getOwnPropertyNames called on non-object");
        var props = [], p;
        for (p in o) {
          if (ECMAScript.HasOwnProperty(o, p)) {
            props.push(p);
          }
        }
        return props;
      };
      function makeArrayAccessors(obj) {
        if (!defineProp) {
          return;
        }
        if (obj.length > MAX_ARRAY_LENGTH)
          throw new RangeError("Array too large for polyfill");
        function makeArrayAccessor(index) {
          defineProp(obj, index, {
            "get": function() {
              return obj._getter(index);
            },
            "set": function(v) {
              obj._setter(index, v);
            },
            enumerable: true,
            configurable: false
          });
        }
        var i;
        for (i = 0; i < obj.length; i += 1) {
          makeArrayAccessor(i);
        }
      }
      function as_signed(value, bits) {
        var s = 32 - bits;
        return value << s >> s;
      }
      function as_unsigned(value, bits) {
        var s = 32 - bits;
        return value << s >>> s;
      }
      function packI8(n) {
        return [n & 255];
      }
      function unpackI8(bytes) {
        return as_signed(bytes[0], 8);
      }
      function packU8(n) {
        return [n & 255];
      }
      function unpackU8(bytes) {
        return as_unsigned(bytes[0], 8);
      }
      function packU8Clamped(n) {
        n = round(Number(n));
        return [n < 0 ? 0 : n > 255 ? 255 : n & 255];
      }
      function packI16(n) {
        return [n >> 8 & 255, n & 255];
      }
      function unpackI16(bytes) {
        return as_signed(bytes[0] << 8 | bytes[1], 16);
      }
      function packU16(n) {
        return [n >> 8 & 255, n & 255];
      }
      function unpackU16(bytes) {
        return as_unsigned(bytes[0] << 8 | bytes[1], 16);
      }
      function packI32(n) {
        return [n >> 24 & 255, n >> 16 & 255, n >> 8 & 255, n & 255];
      }
      function unpackI32(bytes) {
        return as_signed(bytes[0] << 24 | bytes[1] << 16 | bytes[2] << 8 | bytes[3], 32);
      }
      function packU32(n) {
        return [n >> 24 & 255, n >> 16 & 255, n >> 8 & 255, n & 255];
      }
      function unpackU32(bytes) {
        return as_unsigned(bytes[0] << 24 | bytes[1] << 16 | bytes[2] << 8 | bytes[3], 32);
      }
      function packIEEE754(v, ebits, fbits) {
        var bias = (1 << ebits - 1) - 1, s, e, f, ln, i, bits, str, bytes;
        function roundToEven(n) {
          var w = floor(n), f2 = n - w;
          if (f2 < 0.5)
            return w;
          if (f2 > 0.5)
            return w + 1;
          return w % 2 ? w + 1 : w;
        }
        if (v !== v) {
          e = (1 << ebits) - 1;
          f = pow(2, fbits - 1);
          s = 0;
        } else if (v === Infinity || v === -Infinity) {
          e = (1 << ebits) - 1;
          f = 0;
          s = v < 0 ? 1 : 0;
        } else if (v === 0) {
          e = 0;
          f = 0;
          s = 1 / v === -Infinity ? 1 : 0;
        } else {
          s = v < 0;
          v = abs(v);
          if (v >= pow(2, 1 - bias)) {
            e = min(floor(log(v) / LN2), 1023);
            f = roundToEven(v / pow(2, e) * pow(2, fbits));
            if (f / pow(2, fbits) >= 2) {
              e = e + 1;
              f = 1;
            }
            if (e > bias) {
              e = (1 << ebits) - 1;
              f = 0;
            } else {
              e = e + bias;
              f = f - pow(2, fbits);
            }
          } else {
            e = 0;
            f = roundToEven(v / pow(2, 1 - bias - fbits));
          }
        }
        bits = [];
        for (i = fbits; i; i -= 1) {
          bits.push(f % 2 ? 1 : 0);
          f = floor(f / 2);
        }
        for (i = ebits; i; i -= 1) {
          bits.push(e % 2 ? 1 : 0);
          e = floor(e / 2);
        }
        bits.push(s ? 1 : 0);
        bits.reverse();
        str = bits.join("");
        bytes = [];
        while (str.length) {
          bytes.push(parseInt(str.substring(0, 8), 2));
          str = str.substring(8);
        }
        return bytes;
      }
      function unpackIEEE754(bytes, ebits, fbits) {
        var bits = [], i, j, b, str, bias, s, e, f;
        for (i = bytes.length; i; i -= 1) {
          b = bytes[i - 1];
          for (j = 8; j; j -= 1) {
            bits.push(b % 2 ? 1 : 0);
            b = b >> 1;
          }
        }
        bits.reverse();
        str = bits.join("");
        bias = (1 << ebits - 1) - 1;
        s = parseInt(str.substring(0, 1), 2) ? -1 : 1;
        e = parseInt(str.substring(1, 1 + ebits), 2);
        f = parseInt(str.substring(1 + ebits), 2);
        if (e === (1 << ebits) - 1) {
          return f !== 0 ? NaN : s * Infinity;
        } else if (e > 0) {
          return s * pow(2, e - bias) * (1 + f / pow(2, fbits));
        } else if (f !== 0) {
          return s * pow(2, -(bias - 1)) * (f / pow(2, fbits));
        } else {
          return s < 0 ? -0 : 0;
        }
      }
      function unpackF64(b) {
        return unpackIEEE754(b, 11, 52);
      }
      function packF64(v) {
        return packIEEE754(v, 11, 52);
      }
      function unpackF32(b) {
        return unpackIEEE754(b, 8, 23);
      }
      function packF32(v) {
        return packIEEE754(v, 8, 23);
      }
      (function() {
        var ArrayBuffer2 = function ArrayBuffer3(length) {
          length = ECMAScript.ToInt32(length);
          if (length < 0)
            throw new RangeError("ArrayBuffer size is not a small enough positive integer");
          this.byteLength = length;
          this._bytes = [];
          this._bytes.length = length;
          var i;
          for (i = 0; i < this.byteLength; i += 1) {
            this._bytes[i] = 0;
          }
          configureProperties(this);
        };
        exports.ArrayBuffer = exports.ArrayBuffer || ArrayBuffer2;
        var ArrayBufferView = function ArrayBufferView2() {
        };
        function makeConstructor(bytesPerElement, pack, unpack) {
          var ctor;
          ctor = function(buffer, byteOffset, length) {
            var array, sequence, i, s;
            if (!arguments.length || typeof arguments[0] === "number") {
              this.length = ECMAScript.ToInt32(arguments[0]);
              if (length < 0)
                throw new RangeError("ArrayBufferView size is not a small enough positive integer");
              this.byteLength = this.length * this.BYTES_PER_ELEMENT;
              this.buffer = new ArrayBuffer2(this.byteLength);
              this.byteOffset = 0;
            } else if (typeof arguments[0] === "object" && arguments[0].constructor === ctor) {
              array = arguments[0];
              this.length = array.length;
              this.byteLength = this.length * this.BYTES_PER_ELEMENT;
              this.buffer = new ArrayBuffer2(this.byteLength);
              this.byteOffset = 0;
              for (i = 0; i < this.length; i += 1) {
                this._setter(i, array._getter(i));
              }
            } else if (typeof arguments[0] === "object" && !(arguments[0] instanceof ArrayBuffer2 || ECMAScript.Class(arguments[0]) === "ArrayBuffer")) {
              sequence = arguments[0];
              this.length = ECMAScript.ToUint32(sequence.length);
              this.byteLength = this.length * this.BYTES_PER_ELEMENT;
              this.buffer = new ArrayBuffer2(this.byteLength);
              this.byteOffset = 0;
              for (i = 0; i < this.length; i += 1) {
                s = sequence[i];
                this._setter(i, Number(s));
              }
            } else if (typeof arguments[0] === "object" && (arguments[0] instanceof ArrayBuffer2 || ECMAScript.Class(arguments[0]) === "ArrayBuffer")) {
              this.buffer = buffer;
              this.byteOffset = ECMAScript.ToUint32(byteOffset);
              if (this.byteOffset > this.buffer.byteLength) {
                throw new RangeError("byteOffset out of range");
              }
              if (this.byteOffset % this.BYTES_PER_ELEMENT) {
                throw new RangeError("ArrayBuffer length minus the byteOffset is not a multiple of the element size.");
              }
              if (arguments.length < 3) {
                this.byteLength = this.buffer.byteLength - this.byteOffset;
                if (this.byteLength % this.BYTES_PER_ELEMENT) {
                  throw new RangeError("length of buffer minus byteOffset not a multiple of the element size");
                }
                this.length = this.byteLength / this.BYTES_PER_ELEMENT;
              } else {
                this.length = ECMAScript.ToUint32(length);
                this.byteLength = this.length * this.BYTES_PER_ELEMENT;
              }
              if (this.byteOffset + this.byteLength > this.buffer.byteLength) {
                throw new RangeError("byteOffset and length reference an area beyond the end of the buffer");
              }
            } else {
              throw new TypeError("Unexpected argument type(s)");
            }
            this.constructor = ctor;
            configureProperties(this);
            makeArrayAccessors(this);
          };
          ctor.prototype = new ArrayBufferView();
          ctor.prototype.BYTES_PER_ELEMENT = bytesPerElement;
          ctor.prototype._pack = pack;
          ctor.prototype._unpack = unpack;
          ctor.BYTES_PER_ELEMENT = bytesPerElement;
          ctor.prototype._getter = function(index) {
            if (arguments.length < 1)
              throw new SyntaxError("Not enough arguments");
            index = ECMAScript.ToUint32(index);
            if (index >= this.length) {
              return undefined2;
            }
            var bytes = [], i, o;
            for (i = 0, o = this.byteOffset + index * this.BYTES_PER_ELEMENT; i < this.BYTES_PER_ELEMENT; i += 1, o += 1) {
              bytes.push(this.buffer._bytes[o]);
            }
            return this._unpack(bytes);
          };
          ctor.prototype.get = ctor.prototype._getter;
          ctor.prototype._setter = function(index, value) {
            if (arguments.length < 2)
              throw new SyntaxError("Not enough arguments");
            index = ECMAScript.ToUint32(index);
            if (index >= this.length) {
              return undefined2;
            }
            var bytes = this._pack(value), i, o;
            for (i = 0, o = this.byteOffset + index * this.BYTES_PER_ELEMENT; i < this.BYTES_PER_ELEMENT; i += 1, o += 1) {
              this.buffer._bytes[o] = bytes[i];
            }
          };
          ctor.prototype.set = function(index, value) {
            if (arguments.length < 1)
              throw new SyntaxError("Not enough arguments");
            var array, sequence, offset, len, i, s, d, byteOffset, byteLength, tmp;
            if (typeof arguments[0] === "object" && arguments[0].constructor === this.constructor) {
              array = arguments[0];
              offset = ECMAScript.ToUint32(arguments[1]);
              if (offset + array.length > this.length) {
                throw new RangeError("Offset plus length of array is out of range");
              }
              byteOffset = this.byteOffset + offset * this.BYTES_PER_ELEMENT;
              byteLength = array.length * this.BYTES_PER_ELEMENT;
              if (array.buffer === this.buffer) {
                tmp = [];
                for (i = 0, s = array.byteOffset; i < byteLength; i += 1, s += 1) {
                  tmp[i] = array.buffer._bytes[s];
                }
                for (i = 0, d = byteOffset; i < byteLength; i += 1, d += 1) {
                  this.buffer._bytes[d] = tmp[i];
                }
              } else {
                for (i = 0, s = array.byteOffset, d = byteOffset; i < byteLength; i += 1, s += 1, d += 1) {
                  this.buffer._bytes[d] = array.buffer._bytes[s];
                }
              }
            } else if (typeof arguments[0] === "object" && typeof arguments[0].length !== "undefined") {
              sequence = arguments[0];
              len = ECMAScript.ToUint32(sequence.length);
              offset = ECMAScript.ToUint32(arguments[1]);
              if (offset + len > this.length) {
                throw new RangeError("Offset plus length of array is out of range");
              }
              for (i = 0; i < len; i += 1) {
                s = sequence[i];
                this._setter(offset + i, Number(s));
              }
            } else {
              throw new TypeError("Unexpected argument type(s)");
            }
          };
          ctor.prototype.subarray = function(start, end) {
            function clamp(v, min2, max) {
              return v < min2 ? min2 : v > max ? max : v;
            }
            start = ECMAScript.ToInt32(start);
            end = ECMAScript.ToInt32(end);
            if (arguments.length < 1) {
              start = 0;
            }
            if (arguments.length < 2) {
              end = this.length;
            }
            if (start < 0) {
              start = this.length + start;
            }
            if (end < 0) {
              end = this.length + end;
            }
            start = clamp(start, 0, this.length);
            end = clamp(end, 0, this.length);
            var len = end - start;
            if (len < 0) {
              len = 0;
            }
            return new this.constructor(this.buffer, this.byteOffset + start * this.BYTES_PER_ELEMENT, len);
          };
          return ctor;
        }
        var Int8Array = makeConstructor(1, packI8, unpackI8);
        var Uint8Array2 = makeConstructor(1, packU8, unpackU8);
        var Uint8ClampedArray = makeConstructor(1, packU8Clamped, unpackU8);
        var Int16Array = makeConstructor(2, packI16, unpackI16);
        var Uint16Array = makeConstructor(2, packU16, unpackU16);
        var Int32Array = makeConstructor(4, packI32, unpackI32);
        var Uint32Array = makeConstructor(4, packU32, unpackU32);
        var Float32Array = makeConstructor(4, packF32, unpackF32);
        var Float64Array = makeConstructor(8, packF64, unpackF64);
        exports.Int8Array = exports.Int8Array || Int8Array;
        exports.Uint8Array = exports.Uint8Array || Uint8Array2;
        exports.Uint8ClampedArray = exports.Uint8ClampedArray || Uint8ClampedArray;
        exports.Int16Array = exports.Int16Array || Int16Array;
        exports.Uint16Array = exports.Uint16Array || Uint16Array;
        exports.Int32Array = exports.Int32Array || Int32Array;
        exports.Uint32Array = exports.Uint32Array || Uint32Array;
        exports.Float32Array = exports.Float32Array || Float32Array;
        exports.Float64Array = exports.Float64Array || Float64Array;
      })();
      (function() {
        function r(array, index) {
          return ECMAScript.IsCallable(array.get) ? array.get(index) : array[index];
        }
        var IS_BIG_ENDIAN = function() {
          var u16array = new exports.Uint16Array([4660]), u8array = new exports.Uint8Array(u16array.buffer);
          return r(u8array, 0) === 18;
        }();
        var DataView = function DataView2(buffer, byteOffset, byteLength) {
          if (arguments.length === 0) {
            buffer = new exports.ArrayBuffer(0);
          } else if (!(buffer instanceof exports.ArrayBuffer || ECMAScript.Class(buffer) === "ArrayBuffer")) {
            throw new TypeError("TypeError");
          }
          this.buffer = buffer || new exports.ArrayBuffer(0);
          this.byteOffset = ECMAScript.ToUint32(byteOffset);
          if (this.byteOffset > this.buffer.byteLength) {
            throw new RangeError("byteOffset out of range");
          }
          if (arguments.length < 3) {
            this.byteLength = this.buffer.byteLength - this.byteOffset;
          } else {
            this.byteLength = ECMAScript.ToUint32(byteLength);
          }
          if (this.byteOffset + this.byteLength > this.buffer.byteLength) {
            throw new RangeError("byteOffset and length reference an area beyond the end of the buffer");
          }
          configureProperties(this);
        };
        function makeGetter(arrayType) {
          return function(byteOffset, littleEndian) {
            byteOffset = ECMAScript.ToUint32(byteOffset);
            if (byteOffset + arrayType.BYTES_PER_ELEMENT > this.byteLength) {
              throw new RangeError("Array index out of range");
            }
            byteOffset += this.byteOffset;
            var uint8Array = new exports.Uint8Array(this.buffer, byteOffset, arrayType.BYTES_PER_ELEMENT), bytes = [], i;
            for (i = 0; i < arrayType.BYTES_PER_ELEMENT; i += 1) {
              bytes.push(r(uint8Array, i));
            }
            if (Boolean(littleEndian) === Boolean(IS_BIG_ENDIAN)) {
              bytes.reverse();
            }
            return r(new arrayType(new exports.Uint8Array(bytes).buffer), 0);
          };
        }
        DataView.prototype.getUint8 = makeGetter(exports.Uint8Array);
        DataView.prototype.getInt8 = makeGetter(exports.Int8Array);
        DataView.prototype.getUint16 = makeGetter(exports.Uint16Array);
        DataView.prototype.getInt16 = makeGetter(exports.Int16Array);
        DataView.prototype.getUint32 = makeGetter(exports.Uint32Array);
        DataView.prototype.getInt32 = makeGetter(exports.Int32Array);
        DataView.prototype.getFloat32 = makeGetter(exports.Float32Array);
        DataView.prototype.getFloat64 = makeGetter(exports.Float64Array);
        function makeSetter(arrayType) {
          return function(byteOffset, value, littleEndian) {
            byteOffset = ECMAScript.ToUint32(byteOffset);
            if (byteOffset + arrayType.BYTES_PER_ELEMENT > this.byteLength) {
              throw new RangeError("Array index out of range");
            }
            var typeArray = new arrayType([value]), byteArray = new exports.Uint8Array(typeArray.buffer), bytes = [], i, byteView;
            for (i = 0; i < arrayType.BYTES_PER_ELEMENT; i += 1) {
              bytes.push(r(byteArray, i));
            }
            if (Boolean(littleEndian) === Boolean(IS_BIG_ENDIAN)) {
              bytes.reverse();
            }
            byteView = new exports.Uint8Array(this.buffer, byteOffset, arrayType.BYTES_PER_ELEMENT);
            byteView.set(bytes);
          };
        }
        DataView.prototype.setUint8 = makeSetter(exports.Uint8Array);
        DataView.prototype.setInt8 = makeSetter(exports.Int8Array);
        DataView.prototype.setUint16 = makeSetter(exports.Uint16Array);
        DataView.prototype.setInt16 = makeSetter(exports.Int16Array);
        DataView.prototype.setUint32 = makeSetter(exports.Uint32Array);
        DataView.prototype.setInt32 = makeSetter(exports.Int32Array);
        DataView.prototype.setFloat32 = makeSetter(exports.Float32Array);
        DataView.prototype.setFloat64 = makeSetter(exports.Float64Array);
        exports.DataView = exports.DataView || DataView;
      })();
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/concat-stream-npm-2.0.0-8bb2ad5aa0-9.zip/node_modules/concat-stream/index.js
  var require_concat_stream = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/concat-stream-npm-2.0.0-8bb2ad5aa0-9.zip/node_modules/concat-stream/index.js"(exports, module) {
      var Writable = require_readable().Writable;
      var inherits = require_inherits();
      var bufferFrom = require_buffer_from();
      if (typeof Uint8Array === "undefined") {
        U8 = require_typedarray().Uint8Array;
      } else {
        U8 = Uint8Array;
      }
      var U8;
      function ConcatStream(opts, cb) {
        if (!(this instanceof ConcatStream))
          return new ConcatStream(opts, cb);
        if (typeof opts === "function") {
          cb = opts;
          opts = {};
        }
        if (!opts)
          opts = {};
        var encoding = opts.encoding;
        var shouldInferEncoding = false;
        if (!encoding) {
          shouldInferEncoding = true;
        } else {
          encoding = String(encoding).toLowerCase();
          if (encoding === "u8" || encoding === "uint8") {
            encoding = "uint8array";
          }
        }
        Writable.call(this, {objectMode: true});
        this.encoding = encoding;
        this.shouldInferEncoding = shouldInferEncoding;
        if (cb)
          this.on("finish", function() {
            cb(this.getBody());
          });
        this.body = [];
      }
      module.exports = ConcatStream;
      inherits(ConcatStream, Writable);
      ConcatStream.prototype._write = function(chunk, enc, next) {
        this.body.push(chunk);
        next();
      };
      ConcatStream.prototype.inferEncoding = function(buff) {
        var firstBuffer = buff === void 0 ? this.body[0] : buff;
        if (Buffer.isBuffer(firstBuffer))
          return "buffer";
        if (typeof Uint8Array !== "undefined" && firstBuffer instanceof Uint8Array)
          return "uint8array";
        if (Array.isArray(firstBuffer))
          return "array";
        if (typeof firstBuffer === "string")
          return "string";
        if (Object.prototype.toString.call(firstBuffer) === "[object Object]")
          return "object";
        return "buffer";
      };
      ConcatStream.prototype.getBody = function() {
        if (!this.encoding && this.body.length === 0)
          return [];
        if (this.shouldInferEncoding)
          this.encoding = this.inferEncoding();
        if (this.encoding === "array")
          return arrayConcat(this.body);
        if (this.encoding === "string")
          return stringConcat(this.body);
        if (this.encoding === "buffer")
          return bufferConcat(this.body);
        if (this.encoding === "uint8array")
          return u8Concat(this.body);
        return this.body;
      };
      var isArray = Array.isArray || function(arr) {
        return Object.prototype.toString.call(arr) == "[object Array]";
      };
      function isArrayish(arr) {
        return /Array\]$/.test(Object.prototype.toString.call(arr));
      }
      function isBufferish(p) {
        return typeof p === "string" || isArrayish(p) || p && typeof p.subarray === "function";
      }
      function stringConcat(parts) {
        var strings = [];
        var needsToString = false;
        for (var i = 0; i < parts.length; i++) {
          var p = parts[i];
          if (typeof p === "string") {
            strings.push(p);
          } else if (Buffer.isBuffer(p)) {
            strings.push(p);
          } else if (isBufferish(p)) {
            strings.push(bufferFrom(p));
          } else {
            strings.push(bufferFrom(String(p)));
          }
        }
        if (Buffer.isBuffer(parts[0])) {
          strings = Buffer.concat(strings);
          strings = strings.toString("utf8");
        } else {
          strings = strings.join("");
        }
        return strings;
      }
      function bufferConcat(parts) {
        var bufs = [];
        for (var i = 0; i < parts.length; i++) {
          var p = parts[i];
          if (Buffer.isBuffer(p)) {
            bufs.push(p);
          } else if (isBufferish(p)) {
            bufs.push(bufferFrom(p));
          } else {
            bufs.push(bufferFrom(String(p)));
          }
        }
        return Buffer.concat(bufs);
      }
      function arrayConcat(parts) {
        var res = [];
        for (var i = 0; i < parts.length; i++) {
          res.push.apply(res, parts[i]);
        }
        return res;
      }
      function u8Concat(parts) {
        var len = 0;
        for (var i = 0; i < parts.length; i++) {
          if (typeof parts[i] === "string") {
            parts[i] = bufferFrom(parts[i]);
          }
          len += parts[i].length;
        }
        var u8 = new U8(len);
        for (var i = 0, offset = 0; i < parts.length; i++) {
          var part = parts[i];
          for (var j = 0; j < part.length; j++) {
            u8[offset++] = part[j];
          }
        }
        return u8;
      }
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/lodash.ismatch-npm-4.4.0-e538fd6c3d-9.zip/node_modules/lodash.ismatch/index.js
  var require_lodash = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/lodash.ismatch-npm-4.4.0-e538fd6c3d-9.zip/node_modules/lodash.ismatch/index.js"(exports, module) {
      var LARGE_ARRAY_SIZE = 200;
      var HASH_UNDEFINED = "__lodash_hash_undefined__";
      var UNORDERED_COMPARE_FLAG = 1;
      var PARTIAL_COMPARE_FLAG = 2;
      var MAX_SAFE_INTEGER = 9007199254740991;
      var argsTag = "[object Arguments]";
      var arrayTag = "[object Array]";
      var boolTag = "[object Boolean]";
      var dateTag = "[object Date]";
      var errorTag = "[object Error]";
      var funcTag = "[object Function]";
      var genTag = "[object GeneratorFunction]";
      var mapTag = "[object Map]";
      var numberTag = "[object Number]";
      var objectTag = "[object Object]";
      var promiseTag = "[object Promise]";
      var regexpTag = "[object RegExp]";
      var setTag = "[object Set]";
      var stringTag = "[object String]";
      var symbolTag = "[object Symbol]";
      var weakMapTag = "[object WeakMap]";
      var arrayBufferTag = "[object ArrayBuffer]";
      var dataViewTag = "[object DataView]";
      var float32Tag = "[object Float32Array]";
      var float64Tag = "[object Float64Array]";
      var int8Tag = "[object Int8Array]";
      var int16Tag = "[object Int16Array]";
      var int32Tag = "[object Int32Array]";
      var uint8Tag = "[object Uint8Array]";
      var uint8ClampedTag = "[object Uint8ClampedArray]";
      var uint16Tag = "[object Uint16Array]";
      var uint32Tag = "[object Uint32Array]";
      var reRegExpChar = /[\\^$.*+?()[\]{}|]/g;
      var reIsHostCtor = /^\[object .+?Constructor\]$/;
      var reIsUint = /^(?:0|[1-9]\d*)$/;
      var typedArrayTags = {};
      typedArrayTags[float32Tag] = typedArrayTags[float64Tag] = typedArrayTags[int8Tag] = typedArrayTags[int16Tag] = typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] = typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] = typedArrayTags[uint32Tag] = true;
      typedArrayTags[argsTag] = typedArrayTags[arrayTag] = typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] = typedArrayTags[dataViewTag] = typedArrayTags[dateTag] = typedArrayTags[errorTag] = typedArrayTags[funcTag] = typedArrayTags[mapTag] = typedArrayTags[numberTag] = typedArrayTags[objectTag] = typedArrayTags[regexpTag] = typedArrayTags[setTag] = typedArrayTags[stringTag] = typedArrayTags[weakMapTag] = false;
      var freeGlobal = typeof global == "object" && global && global.Object === Object && global;
      var freeSelf = typeof self == "object" && self && self.Object === Object && self;
      var root = freeGlobal || freeSelf || Function("return this")();
      var freeExports = typeof exports == "object" && exports && !exports.nodeType && exports;
      var freeModule = freeExports && typeof module == "object" && module && !module.nodeType && module;
      var moduleExports = freeModule && freeModule.exports === freeExports;
      var freeProcess = moduleExports && freeGlobal.process;
      var nodeUtil = function() {
        try {
          return freeProcess && freeProcess.binding("util");
        } catch (e) {
        }
      }();
      var nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;
      function arraySome(array, predicate) {
        var index = -1, length = array ? array.length : 0;
        while (++index < length) {
          if (predicate(array[index], index, array)) {
            return true;
          }
        }
        return false;
      }
      function baseTimes(n, iteratee) {
        var index = -1, result = Array(n);
        while (++index < n) {
          result[index] = iteratee(index);
        }
        return result;
      }
      function baseUnary(func) {
        return function(value) {
          return func(value);
        };
      }
      function getValue(object, key) {
        return object == null ? void 0 : object[key];
      }
      function isHostObject(value) {
        var result = false;
        if (value != null && typeof value.toString != "function") {
          try {
            result = !!(value + "");
          } catch (e) {
          }
        }
        return result;
      }
      function mapToArray(map) {
        var index = -1, result = Array(map.size);
        map.forEach(function(value, key) {
          result[++index] = [key, value];
        });
        return result;
      }
      function overArg(func, transform) {
        return function(arg) {
          return func(transform(arg));
        };
      }
      function setToArray(set) {
        var index = -1, result = Array(set.size);
        set.forEach(function(value) {
          result[++index] = value;
        });
        return result;
      }
      var arrayProto = Array.prototype;
      var funcProto = Function.prototype;
      var objectProto = Object.prototype;
      var coreJsData = root["__core-js_shared__"];
      var maskSrcKey = function() {
        var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || "");
        return uid ? "Symbol(src)_1." + uid : "";
      }();
      var funcToString = funcProto.toString;
      var hasOwnProperty = objectProto.hasOwnProperty;
      var objectToString = objectProto.toString;
      var reIsNative = RegExp("^" + funcToString.call(hasOwnProperty).replace(reRegExpChar, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$");
      var Symbol2 = root.Symbol;
      var Uint8Array2 = root.Uint8Array;
      var propertyIsEnumerable = objectProto.propertyIsEnumerable;
      var splice = arrayProto.splice;
      var nativeKeys = overArg(Object.keys, Object);
      var DataView = getNative(root, "DataView");
      var Map2 = getNative(root, "Map");
      var Promise2 = getNative(root, "Promise");
      var Set = getNative(root, "Set");
      var WeakMap = getNative(root, "WeakMap");
      var nativeCreate = getNative(Object, "create");
      var dataViewCtorString = toSource(DataView);
      var mapCtorString = toSource(Map2);
      var promiseCtorString = toSource(Promise2);
      var setCtorString = toSource(Set);
      var weakMapCtorString = toSource(WeakMap);
      var symbolProto = Symbol2 ? Symbol2.prototype : void 0;
      var symbolValueOf = symbolProto ? symbolProto.valueOf : void 0;
      function Hash(entries) {
        var index = -1, length = entries ? entries.length : 0;
        this.clear();
        while (++index < length) {
          var entry = entries[index];
          this.set(entry[0], entry[1]);
        }
      }
      function hashClear() {
        this.__data__ = nativeCreate ? nativeCreate(null) : {};
      }
      function hashDelete(key) {
        return this.has(key) && delete this.__data__[key];
      }
      function hashGet(key) {
        var data = this.__data__;
        if (nativeCreate) {
          var result = data[key];
          return result === HASH_UNDEFINED ? void 0 : result;
        }
        return hasOwnProperty.call(data, key) ? data[key] : void 0;
      }
      function hashHas(key) {
        var data = this.__data__;
        return nativeCreate ? data[key] !== void 0 : hasOwnProperty.call(data, key);
      }
      function hashSet(key, value) {
        var data = this.__data__;
        data[key] = nativeCreate && value === void 0 ? HASH_UNDEFINED : value;
        return this;
      }
      Hash.prototype.clear = hashClear;
      Hash.prototype["delete"] = hashDelete;
      Hash.prototype.get = hashGet;
      Hash.prototype.has = hashHas;
      Hash.prototype.set = hashSet;
      function ListCache(entries) {
        var index = -1, length = entries ? entries.length : 0;
        this.clear();
        while (++index < length) {
          var entry = entries[index];
          this.set(entry[0], entry[1]);
        }
      }
      function listCacheClear() {
        this.__data__ = [];
      }
      function listCacheDelete(key) {
        var data = this.__data__, index = assocIndexOf(data, key);
        if (index < 0) {
          return false;
        }
        var lastIndex = data.length - 1;
        if (index == lastIndex) {
          data.pop();
        } else {
          splice.call(data, index, 1);
        }
        return true;
      }
      function listCacheGet(key) {
        var data = this.__data__, index = assocIndexOf(data, key);
        return index < 0 ? void 0 : data[index][1];
      }
      function listCacheHas(key) {
        return assocIndexOf(this.__data__, key) > -1;
      }
      function listCacheSet(key, value) {
        var data = this.__data__, index = assocIndexOf(data, key);
        if (index < 0) {
          data.push([key, value]);
        } else {
          data[index][1] = value;
        }
        return this;
      }
      ListCache.prototype.clear = listCacheClear;
      ListCache.prototype["delete"] = listCacheDelete;
      ListCache.prototype.get = listCacheGet;
      ListCache.prototype.has = listCacheHas;
      ListCache.prototype.set = listCacheSet;
      function MapCache(entries) {
        var index = -1, length = entries ? entries.length : 0;
        this.clear();
        while (++index < length) {
          var entry = entries[index];
          this.set(entry[0], entry[1]);
        }
      }
      function mapCacheClear() {
        this.__data__ = {
          "hash": new Hash(),
          "map": new (Map2 || ListCache)(),
          "string": new Hash()
        };
      }
      function mapCacheDelete(key) {
        return getMapData(this, key)["delete"](key);
      }
      function mapCacheGet(key) {
        return getMapData(this, key).get(key);
      }
      function mapCacheHas(key) {
        return getMapData(this, key).has(key);
      }
      function mapCacheSet(key, value) {
        getMapData(this, key).set(key, value);
        return this;
      }
      MapCache.prototype.clear = mapCacheClear;
      MapCache.prototype["delete"] = mapCacheDelete;
      MapCache.prototype.get = mapCacheGet;
      MapCache.prototype.has = mapCacheHas;
      MapCache.prototype.set = mapCacheSet;
      function SetCache(values) {
        var index = -1, length = values ? values.length : 0;
        this.__data__ = new MapCache();
        while (++index < length) {
          this.add(values[index]);
        }
      }
      function setCacheAdd(value) {
        this.__data__.set(value, HASH_UNDEFINED);
        return this;
      }
      function setCacheHas(value) {
        return this.__data__.has(value);
      }
      SetCache.prototype.add = SetCache.prototype.push = setCacheAdd;
      SetCache.prototype.has = setCacheHas;
      function Stack(entries) {
        this.__data__ = new ListCache(entries);
      }
      function stackClear() {
        this.__data__ = new ListCache();
      }
      function stackDelete(key) {
        return this.__data__["delete"](key);
      }
      function stackGet(key) {
        return this.__data__.get(key);
      }
      function stackHas(key) {
        return this.__data__.has(key);
      }
      function stackSet(key, value) {
        var cache = this.__data__;
        if (cache instanceof ListCache) {
          var pairs = cache.__data__;
          if (!Map2 || pairs.length < LARGE_ARRAY_SIZE - 1) {
            pairs.push([key, value]);
            return this;
          }
          cache = this.__data__ = new MapCache(pairs);
        }
        cache.set(key, value);
        return this;
      }
      Stack.prototype.clear = stackClear;
      Stack.prototype["delete"] = stackDelete;
      Stack.prototype.get = stackGet;
      Stack.prototype.has = stackHas;
      Stack.prototype.set = stackSet;
      function arrayLikeKeys(value, inherited) {
        var result = isArray(value) || isArguments(value) ? baseTimes(value.length, String) : [];
        var length = result.length, skipIndexes = !!length;
        for (var key in value) {
          if ((inherited || hasOwnProperty.call(value, key)) && !(skipIndexes && (key == "length" || isIndex(key, length)))) {
            result.push(key);
          }
        }
        return result;
      }
      function assocIndexOf(array, key) {
        var length = array.length;
        while (length--) {
          if (eq(array[length][0], key)) {
            return length;
          }
        }
        return -1;
      }
      function baseGetTag(value) {
        return objectToString.call(value);
      }
      function baseIsEqual(value, other, customizer, bitmask, stack) {
        if (value === other) {
          return true;
        }
        if (value == null || other == null || !isObject(value) && !isObjectLike(other)) {
          return value !== value && other !== other;
        }
        return baseIsEqualDeep(value, other, baseIsEqual, customizer, bitmask, stack);
      }
      function baseIsEqualDeep(object, other, equalFunc, customizer, bitmask, stack) {
        var objIsArr = isArray(object), othIsArr = isArray(other), objTag = arrayTag, othTag = arrayTag;
        if (!objIsArr) {
          objTag = getTag(object);
          objTag = objTag == argsTag ? objectTag : objTag;
        }
        if (!othIsArr) {
          othTag = getTag(other);
          othTag = othTag == argsTag ? objectTag : othTag;
        }
        var objIsObj = objTag == objectTag && !isHostObject(object), othIsObj = othTag == objectTag && !isHostObject(other), isSameTag = objTag == othTag;
        if (isSameTag && !objIsObj) {
          stack || (stack = new Stack());
          return objIsArr || isTypedArray(object) ? equalArrays(object, other, equalFunc, customizer, bitmask, stack) : equalByTag(object, other, objTag, equalFunc, customizer, bitmask, stack);
        }
        if (!(bitmask & PARTIAL_COMPARE_FLAG)) {
          var objIsWrapped = objIsObj && hasOwnProperty.call(object, "__wrapped__"), othIsWrapped = othIsObj && hasOwnProperty.call(other, "__wrapped__");
          if (objIsWrapped || othIsWrapped) {
            var objUnwrapped = objIsWrapped ? object.value() : object, othUnwrapped = othIsWrapped ? other.value() : other;
            stack || (stack = new Stack());
            return equalFunc(objUnwrapped, othUnwrapped, customizer, bitmask, stack);
          }
        }
        if (!isSameTag) {
          return false;
        }
        stack || (stack = new Stack());
        return equalObjects(object, other, equalFunc, customizer, bitmask, stack);
      }
      function baseIsMatch(object, source, matchData, customizer) {
        var index = matchData.length, length = index, noCustomizer = !customizer;
        if (object == null) {
          return !length;
        }
        object = Object(object);
        while (index--) {
          var data = matchData[index];
          if (noCustomizer && data[2] ? data[1] !== object[data[0]] : !(data[0] in object)) {
            return false;
          }
        }
        while (++index < length) {
          data = matchData[index];
          var key = data[0], objValue = object[key], srcValue = data[1];
          if (noCustomizer && data[2]) {
            if (objValue === void 0 && !(key in object)) {
              return false;
            }
          } else {
            var stack = new Stack();
            if (customizer) {
              var result = customizer(objValue, srcValue, key, object, source, stack);
            }
            if (!(result === void 0 ? baseIsEqual(srcValue, objValue, customizer, UNORDERED_COMPARE_FLAG | PARTIAL_COMPARE_FLAG, stack) : result)) {
              return false;
            }
          }
        }
        return true;
      }
      function baseIsNative(value) {
        if (!isObject(value) || isMasked(value)) {
          return false;
        }
        var pattern = isFunction(value) || isHostObject(value) ? reIsNative : reIsHostCtor;
        return pattern.test(toSource(value));
      }
      function baseIsTypedArray(value) {
        return isObjectLike(value) && isLength(value.length) && !!typedArrayTags[objectToString.call(value)];
      }
      function baseKeys(object) {
        if (!isPrototype(object)) {
          return nativeKeys(object);
        }
        var result = [];
        for (var key in Object(object)) {
          if (hasOwnProperty.call(object, key) && key != "constructor") {
            result.push(key);
          }
        }
        return result;
      }
      function equalArrays(array, other, equalFunc, customizer, bitmask, stack) {
        var isPartial = bitmask & PARTIAL_COMPARE_FLAG, arrLength = array.length, othLength = other.length;
        if (arrLength != othLength && !(isPartial && othLength > arrLength)) {
          return false;
        }
        var stacked = stack.get(array);
        if (stacked && stack.get(other)) {
          return stacked == other;
        }
        var index = -1, result = true, seen = bitmask & UNORDERED_COMPARE_FLAG ? new SetCache() : void 0;
        stack.set(array, other);
        stack.set(other, array);
        while (++index < arrLength) {
          var arrValue = array[index], othValue = other[index];
          if (customizer) {
            var compared = isPartial ? customizer(othValue, arrValue, index, other, array, stack) : customizer(arrValue, othValue, index, array, other, stack);
          }
          if (compared !== void 0) {
            if (compared) {
              continue;
            }
            result = false;
            break;
          }
          if (seen) {
            if (!arraySome(other, function(othValue2, othIndex) {
              if (!seen.has(othIndex) && (arrValue === othValue2 || equalFunc(arrValue, othValue2, customizer, bitmask, stack))) {
                return seen.add(othIndex);
              }
            })) {
              result = false;
              break;
            }
          } else if (!(arrValue === othValue || equalFunc(arrValue, othValue, customizer, bitmask, stack))) {
            result = false;
            break;
          }
        }
        stack["delete"](array);
        stack["delete"](other);
        return result;
      }
      function equalByTag(object, other, tag3, equalFunc, customizer, bitmask, stack) {
        switch (tag3) {
          case dataViewTag:
            if (object.byteLength != other.byteLength || object.byteOffset != other.byteOffset) {
              return false;
            }
            object = object.buffer;
            other = other.buffer;
          case arrayBufferTag:
            if (object.byteLength != other.byteLength || !equalFunc(new Uint8Array2(object), new Uint8Array2(other))) {
              return false;
            }
            return true;
          case boolTag:
          case dateTag:
          case numberTag:
            return eq(+object, +other);
          case errorTag:
            return object.name == other.name && object.message == other.message;
          case regexpTag:
          case stringTag:
            return object == other + "";
          case mapTag:
            var convert = mapToArray;
          case setTag:
            var isPartial = bitmask & PARTIAL_COMPARE_FLAG;
            convert || (convert = setToArray);
            if (object.size != other.size && !isPartial) {
              return false;
            }
            var stacked = stack.get(object);
            if (stacked) {
              return stacked == other;
            }
            bitmask |= UNORDERED_COMPARE_FLAG;
            stack.set(object, other);
            var result = equalArrays(convert(object), convert(other), equalFunc, customizer, bitmask, stack);
            stack["delete"](object);
            return result;
          case symbolTag:
            if (symbolValueOf) {
              return symbolValueOf.call(object) == symbolValueOf.call(other);
            }
        }
        return false;
      }
      function equalObjects(object, other, equalFunc, customizer, bitmask, stack) {
        var isPartial = bitmask & PARTIAL_COMPARE_FLAG, objProps = keys(object), objLength = objProps.length, othProps = keys(other), othLength = othProps.length;
        if (objLength != othLength && !isPartial) {
          return false;
        }
        var index = objLength;
        while (index--) {
          var key = objProps[index];
          if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {
            return false;
          }
        }
        var stacked = stack.get(object);
        if (stacked && stack.get(other)) {
          return stacked == other;
        }
        var result = true;
        stack.set(object, other);
        stack.set(other, object);
        var skipCtor = isPartial;
        while (++index < objLength) {
          key = objProps[index];
          var objValue = object[key], othValue = other[key];
          if (customizer) {
            var compared = isPartial ? customizer(othValue, objValue, key, other, object, stack) : customizer(objValue, othValue, key, object, other, stack);
          }
          if (!(compared === void 0 ? objValue === othValue || equalFunc(objValue, othValue, customizer, bitmask, stack) : compared)) {
            result = false;
            break;
          }
          skipCtor || (skipCtor = key == "constructor");
        }
        if (result && !skipCtor) {
          var objCtor = object.constructor, othCtor = other.constructor;
          if (objCtor != othCtor && ("constructor" in object && "constructor" in other) && !(typeof objCtor == "function" && objCtor instanceof objCtor && typeof othCtor == "function" && othCtor instanceof othCtor)) {
            result = false;
          }
        }
        stack["delete"](object);
        stack["delete"](other);
        return result;
      }
      function getMapData(map, key) {
        var data = map.__data__;
        return isKeyable(key) ? data[typeof key == "string" ? "string" : "hash"] : data.map;
      }
      function getMatchData(object) {
        var result = keys(object), length = result.length;
        while (length--) {
          var key = result[length], value = object[key];
          result[length] = [key, value, isStrictComparable(value)];
        }
        return result;
      }
      function getNative(object, key) {
        var value = getValue(object, key);
        return baseIsNative(value) ? value : void 0;
      }
      var getTag = baseGetTag;
      if (DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag || Map2 && getTag(new Map2()) != mapTag || Promise2 && getTag(Promise2.resolve()) != promiseTag || Set && getTag(new Set()) != setTag || WeakMap && getTag(new WeakMap()) != weakMapTag) {
        getTag = function(value) {
          var result = objectToString.call(value), Ctor = result == objectTag ? value.constructor : void 0, ctorString = Ctor ? toSource(Ctor) : void 0;
          if (ctorString) {
            switch (ctorString) {
              case dataViewCtorString:
                return dataViewTag;
              case mapCtorString:
                return mapTag;
              case promiseCtorString:
                return promiseTag;
              case setCtorString:
                return setTag;
              case weakMapCtorString:
                return weakMapTag;
            }
          }
          return result;
        };
      }
      function isIndex(value, length) {
        length = length == null ? MAX_SAFE_INTEGER : length;
        return !!length && (typeof value == "number" || reIsUint.test(value)) && (value > -1 && value % 1 == 0 && value < length);
      }
      function isKeyable(value) {
        var type = typeof value;
        return type == "string" || type == "number" || type == "symbol" || type == "boolean" ? value !== "__proto__" : value === null;
      }
      function isMasked(func) {
        return !!maskSrcKey && maskSrcKey in func;
      }
      function isPrototype(value) {
        var Ctor = value && value.constructor, proto = typeof Ctor == "function" && Ctor.prototype || objectProto;
        return value === proto;
      }
      function isStrictComparable(value) {
        return value === value && !isObject(value);
      }
      function toSource(func) {
        if (func != null) {
          try {
            return funcToString.call(func);
          } catch (e) {
          }
          try {
            return func + "";
          } catch (e) {
          }
        }
        return "";
      }
      function eq(value, other) {
        return value === other || value !== value && other !== other;
      }
      function isArguments(value) {
        return isArrayLikeObject(value) && hasOwnProperty.call(value, "callee") && (!propertyIsEnumerable.call(value, "callee") || objectToString.call(value) == argsTag);
      }
      var isArray = Array.isArray;
      function isArrayLike(value) {
        return value != null && isLength(value.length) && !isFunction(value);
      }
      function isArrayLikeObject(value) {
        return isObjectLike(value) && isArrayLike(value);
      }
      function isFunction(value) {
        var tag3 = isObject(value) ? objectToString.call(value) : "";
        return tag3 == funcTag || tag3 == genTag;
      }
      function isLength(value) {
        return typeof value == "number" && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;
      }
      function isObject(value) {
        var type = typeof value;
        return !!value && (type == "object" || type == "function");
      }
      function isObjectLike(value) {
        return !!value && typeof value == "object";
      }
      function isMatch(object, source) {
        return object === source || baseIsMatch(object, source, getMatchData(source));
      }
      var isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;
      function keys(object) {
        return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);
      }
      module.exports = isMatch;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/modify-values-npm-1.0.1-9b2377e166-9.zip/node_modules/modify-values/index.js
  var require_modify_values = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/modify-values-npm-1.0.1-9b2377e166-9.zip/node_modules/modify-values/index.js"(exports, module) {
      "use strict";
      module.exports = function(obj, modifier) {
        var key;
        var val;
        var ret = {};
        var keys = Object.keys(Object(obj));
        for (var i = 0; i < keys.length; i++) {
          key = keys[i];
          val = obj[key];
          ret[key] = modifier(val, key);
        }
        return ret;
      };
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/conventional-commits-filter-npm-2.0.7-8762ee3bfa-9.zip/node_modules/conventional-commits-filter/index.js
  var require_conventional_commits_filter = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/conventional-commits-filter-npm-2.0.7-8762ee3bfa-9.zip/node_modules/conventional-commits-filter/index.js"(exports, module) {
      "use strict";
      var isMatch = require_lodash();
      var modifyValues = require_modify_values();
      function modifyValue(val) {
        if (typeof val === "string") {
          return val.trim();
        }
        return val;
      }
      function conventionalCommitsFilter(commits) {
        if (!Array.isArray(commits)) {
          throw new TypeError("Expected an array");
        }
        let ret = [];
        const ignores = [];
        const remove = [];
        commits.forEach(function(commit) {
          if (commit.revert) {
            ignores.push(commit);
          }
          ret.push(commit);
        });
        ret = ret.filter(function(commit) {
          let ignoreThis = false;
          commit = commit.raw ? modifyValues(commit.raw, modifyValue) : modifyValues(commit, modifyValue);
          ignores.some(function(ignoreCommit) {
            const ignore = modifyValues(ignoreCommit.revert, modifyValue);
            ignoreThis = isMatch(commit, ignore);
            if (ignoreThis) {
              remove.push(ignoreCommit.hash);
            }
            return ignoreThis;
          });
          return !ignoreThis;
        });
        ret = ret.filter(function(commit) {
          return remove.indexOf(commit.hash) !== 0;
        });
        return ret;
      }
      module.exports = conventionalCommitsFilter;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/lodash.js
  var require_lodash2 = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/lodash.js"(exports, module) {
      (function() {
        var undefined2;
        var VERSION = "4.17.21";
        var LARGE_ARRAY_SIZE = 200;
        var CORE_ERROR_TEXT = "Unsupported core-js use. Try https://npms.io/search?q=ponyfill.", FUNC_ERROR_TEXT = "Expected a function", INVALID_TEMPL_VAR_ERROR_TEXT = "Invalid `variable` option passed into `_.template`";
        var HASH_UNDEFINED = "__lodash_hash_undefined__";
        var MAX_MEMOIZE_SIZE = 500;
        var PLACEHOLDER = "__lodash_placeholder__";
        var CLONE_DEEP_FLAG = 1, CLONE_FLAT_FLAG = 2, CLONE_SYMBOLS_FLAG = 4;
        var COMPARE_PARTIAL_FLAG = 1, COMPARE_UNORDERED_FLAG = 2;
        var WRAP_BIND_FLAG = 1, WRAP_BIND_KEY_FLAG = 2, WRAP_CURRY_BOUND_FLAG = 4, WRAP_CURRY_FLAG = 8, WRAP_CURRY_RIGHT_FLAG = 16, WRAP_PARTIAL_FLAG = 32, WRAP_PARTIAL_RIGHT_FLAG = 64, WRAP_ARY_FLAG = 128, WRAP_REARG_FLAG = 256, WRAP_FLIP_FLAG = 512;
        var DEFAULT_TRUNC_LENGTH = 30, DEFAULT_TRUNC_OMISSION = "...";
        var HOT_COUNT = 800, HOT_SPAN = 16;
        var LAZY_FILTER_FLAG = 1, LAZY_MAP_FLAG = 2, LAZY_WHILE_FLAG = 3;
        var INFINITY = 1 / 0, MAX_SAFE_INTEGER = 9007199254740991, MAX_INTEGER = 17976931348623157e292, NAN = 0 / 0;
        var MAX_ARRAY_LENGTH = 4294967295, MAX_ARRAY_INDEX = MAX_ARRAY_LENGTH - 1, HALF_MAX_ARRAY_LENGTH = MAX_ARRAY_LENGTH >>> 1;
        var wrapFlags = [
          ["ary", WRAP_ARY_FLAG],
          ["bind", WRAP_BIND_FLAG],
          ["bindKey", WRAP_BIND_KEY_FLAG],
          ["curry", WRAP_CURRY_FLAG],
          ["curryRight", WRAP_CURRY_RIGHT_FLAG],
          ["flip", WRAP_FLIP_FLAG],
          ["partial", WRAP_PARTIAL_FLAG],
          ["partialRight", WRAP_PARTIAL_RIGHT_FLAG],
          ["rearg", WRAP_REARG_FLAG]
        ];
        var argsTag = "[object Arguments]", arrayTag = "[object Array]", asyncTag = "[object AsyncFunction]", boolTag = "[object Boolean]", dateTag = "[object Date]", domExcTag = "[object DOMException]", errorTag = "[object Error]", funcTag = "[object Function]", genTag = "[object GeneratorFunction]", mapTag = "[object Map]", numberTag = "[object Number]", nullTag = "[object Null]", objectTag = "[object Object]", promiseTag = "[object Promise]", proxyTag = "[object Proxy]", regexpTag = "[object RegExp]", setTag = "[object Set]", stringTag = "[object String]", symbolTag = "[object Symbol]", undefinedTag = "[object Undefined]", weakMapTag = "[object WeakMap]", weakSetTag = "[object WeakSet]";
        var arrayBufferTag = "[object ArrayBuffer]", dataViewTag = "[object DataView]", float32Tag = "[object Float32Array]", float64Tag = "[object Float64Array]", int8Tag = "[object Int8Array]", int16Tag = "[object Int16Array]", int32Tag = "[object Int32Array]", uint8Tag = "[object Uint8Array]", uint8ClampedTag = "[object Uint8ClampedArray]", uint16Tag = "[object Uint16Array]", uint32Tag = "[object Uint32Array]";
        var reEmptyStringLeading = /\b__p \+= '';/g, reEmptyStringMiddle = /\b(__p \+=) '' \+/g, reEmptyStringTrailing = /(__e\(.*?\)|\b__t\)) \+\n'';/g;
        var reEscapedHtml = /&(?:amp|lt|gt|quot|#39);/g, reUnescapedHtml = /[&<>"']/g, reHasEscapedHtml = RegExp(reEscapedHtml.source), reHasUnescapedHtml = RegExp(reUnescapedHtml.source);
        var reEscape = /<%-([\s\S]+?)%>/g, reEvaluate = /<%([\s\S]+?)%>/g, reInterpolate = /<%=([\s\S]+?)%>/g;
        var reIsDeepProp = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/, reIsPlainProp = /^\w*$/, rePropName = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;
        var reRegExpChar = /[\\^$.*+?()[\]{}|]/g, reHasRegExpChar = RegExp(reRegExpChar.source);
        var reTrimStart = /^\s+/;
        var reWhitespace = /\s/;
        var reWrapComment = /\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/, reWrapDetails = /\{\n\/\* \[wrapped with (.+)\] \*/, reSplitDetails = /,? & /;
        var reAsciiWord = /[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;
        var reForbiddenIdentifierChars = /[()=,{}\[\]\/\s]/;
        var reEscapeChar = /\\(\\)?/g;
        var reEsTemplate = /\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g;
        var reFlags = /\w*$/;
        var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;
        var reIsBinary = /^0b[01]+$/i;
        var reIsHostCtor = /^\[object .+?Constructor\]$/;
        var reIsOctal = /^0o[0-7]+$/i;
        var reIsUint = /^(?:0|[1-9]\d*)$/;
        var reLatin = /[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g;
        var reNoMatch = /($^)/;
        var reUnescapedString = /['\n\r\u2028\u2029\\]/g;
        var rsAstralRange = "\\ud800-\\udfff", rsComboMarksRange = "\\u0300-\\u036f", reComboHalfMarksRange = "\\ufe20-\\ufe2f", rsComboSymbolsRange = "\\u20d0-\\u20ff", rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange, rsDingbatRange = "\\u2700-\\u27bf", rsLowerRange = "a-z\\xdf-\\xf6\\xf8-\\xff", rsMathOpRange = "\\xac\\xb1\\xd7\\xf7", rsNonCharRange = "\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf", rsPunctuationRange = "\\u2000-\\u206f", rsSpaceRange = " \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000", rsUpperRange = "A-Z\\xc0-\\xd6\\xd8-\\xde", rsVarRange = "\\ufe0e\\ufe0f", rsBreakRange = rsMathOpRange + rsNonCharRange + rsPunctuationRange + rsSpaceRange;
        var rsApos = "['\u2019]", rsAstral = "[" + rsAstralRange + "]", rsBreak = "[" + rsBreakRange + "]", rsCombo = "[" + rsComboRange + "]", rsDigits = "\\d+", rsDingbat = "[" + rsDingbatRange + "]", rsLower = "[" + rsLowerRange + "]", rsMisc = "[^" + rsAstralRange + rsBreakRange + rsDigits + rsDingbatRange + rsLowerRange + rsUpperRange + "]", rsFitz = "\\ud83c[\\udffb-\\udfff]", rsModifier = "(?:" + rsCombo + "|" + rsFitz + ")", rsNonAstral = "[^" + rsAstralRange + "]", rsRegional = "(?:\\ud83c[\\udde6-\\uddff]){2}", rsSurrPair = "[\\ud800-\\udbff][\\udc00-\\udfff]", rsUpper = "[" + rsUpperRange + "]", rsZWJ = "\\u200d";
        var rsMiscLower = "(?:" + rsLower + "|" + rsMisc + ")", rsMiscUpper = "(?:" + rsUpper + "|" + rsMisc + ")", rsOptContrLower = "(?:" + rsApos + "(?:d|ll|m|re|s|t|ve))?", rsOptContrUpper = "(?:" + rsApos + "(?:D|LL|M|RE|S|T|VE))?", reOptMod = rsModifier + "?", rsOptVar = "[" + rsVarRange + "]?", rsOptJoin = "(?:" + rsZWJ + "(?:" + [rsNonAstral, rsRegional, rsSurrPair].join("|") + ")" + rsOptVar + reOptMod + ")*", rsOrdLower = "\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])", rsOrdUpper = "\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])", rsSeq = rsOptVar + reOptMod + rsOptJoin, rsEmoji = "(?:" + [rsDingbat, rsRegional, rsSurrPair].join("|") + ")" + rsSeq, rsSymbol = "(?:" + [rsNonAstral + rsCombo + "?", rsCombo, rsRegional, rsSurrPair, rsAstral].join("|") + ")";
        var reApos = RegExp(rsApos, "g");
        var reComboMark = RegExp(rsCombo, "g");
        var reUnicode = RegExp(rsFitz + "(?=" + rsFitz + ")|" + rsSymbol + rsSeq, "g");
        var reUnicodeWord = RegExp([
          rsUpper + "?" + rsLower + "+" + rsOptContrLower + "(?=" + [rsBreak, rsUpper, "$"].join("|") + ")",
          rsMiscUpper + "+" + rsOptContrUpper + "(?=" + [rsBreak, rsUpper + rsMiscLower, "$"].join("|") + ")",
          rsUpper + "?" + rsMiscLower + "+" + rsOptContrLower,
          rsUpper + "+" + rsOptContrUpper,
          rsOrdUpper,
          rsOrdLower,
          rsDigits,
          rsEmoji
        ].join("|"), "g");
        var reHasUnicode = RegExp("[" + rsZWJ + rsAstralRange + rsComboRange + rsVarRange + "]");
        var reHasUnicodeWord = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;
        var contextProps = [
          "Array",
          "Buffer",
          "DataView",
          "Date",
          "Error",
          "Float32Array",
          "Float64Array",
          "Function",
          "Int8Array",
          "Int16Array",
          "Int32Array",
          "Map",
          "Math",
          "Object",
          "Promise",
          "RegExp",
          "Set",
          "String",
          "Symbol",
          "TypeError",
          "Uint8Array",
          "Uint8ClampedArray",
          "Uint16Array",
          "Uint32Array",
          "WeakMap",
          "_",
          "clearTimeout",
          "isFinite",
          "parseInt",
          "setTimeout"
        ];
        var templateCounter = -1;
        var typedArrayTags = {};
        typedArrayTags[float32Tag] = typedArrayTags[float64Tag] = typedArrayTags[int8Tag] = typedArrayTags[int16Tag] = typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] = typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] = typedArrayTags[uint32Tag] = true;
        typedArrayTags[argsTag] = typedArrayTags[arrayTag] = typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] = typedArrayTags[dataViewTag] = typedArrayTags[dateTag] = typedArrayTags[errorTag] = typedArrayTags[funcTag] = typedArrayTags[mapTag] = typedArrayTags[numberTag] = typedArrayTags[objectTag] = typedArrayTags[regexpTag] = typedArrayTags[setTag] = typedArrayTags[stringTag] = typedArrayTags[weakMapTag] = false;
        var cloneableTags = {};
        cloneableTags[argsTag] = cloneableTags[arrayTag] = cloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] = cloneableTags[boolTag] = cloneableTags[dateTag] = cloneableTags[float32Tag] = cloneableTags[float64Tag] = cloneableTags[int8Tag] = cloneableTags[int16Tag] = cloneableTags[int32Tag] = cloneableTags[mapTag] = cloneableTags[numberTag] = cloneableTags[objectTag] = cloneableTags[regexpTag] = cloneableTags[setTag] = cloneableTags[stringTag] = cloneableTags[symbolTag] = cloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] = cloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;
        cloneableTags[errorTag] = cloneableTags[funcTag] = cloneableTags[weakMapTag] = false;
        var deburredLetters = {
          "\xC0": "A",
          "\xC1": "A",
          "\xC2": "A",
          "\xC3": "A",
          "\xC4": "A",
          "\xC5": "A",
          "\xE0": "a",
          "\xE1": "a",
          "\xE2": "a",
          "\xE3": "a",
          "\xE4": "a",
          "\xE5": "a",
          "\xC7": "C",
          "\xE7": "c",
          "\xD0": "D",
          "\xF0": "d",
          "\xC8": "E",
          "\xC9": "E",
          "\xCA": "E",
          "\xCB": "E",
          "\xE8": "e",
          "\xE9": "e",
          "\xEA": "e",
          "\xEB": "e",
          "\xCC": "I",
          "\xCD": "I",
          "\xCE": "I",
          "\xCF": "I",
          "\xEC": "i",
          "\xED": "i",
          "\xEE": "i",
          "\xEF": "i",
          "\xD1": "N",
          "\xF1": "n",
          "\xD2": "O",
          "\xD3": "O",
          "\xD4": "O",
          "\xD5": "O",
          "\xD6": "O",
          "\xD8": "O",
          "\xF2": "o",
          "\xF3": "o",
          "\xF4": "o",
          "\xF5": "o",
          "\xF6": "o",
          "\xF8": "o",
          "\xD9": "U",
          "\xDA": "U",
          "\xDB": "U",
          "\xDC": "U",
          "\xF9": "u",
          "\xFA": "u",
          "\xFB": "u",
          "\xFC": "u",
          "\xDD": "Y",
          "\xFD": "y",
          "\xFF": "y",
          "\xC6": "Ae",
          "\xE6": "ae",
          "\xDE": "Th",
          "\xFE": "th",
          "\xDF": "ss",
          "\u0100": "A",
          "\u0102": "A",
          "\u0104": "A",
          "\u0101": "a",
          "\u0103": "a",
          "\u0105": "a",
          "\u0106": "C",
          "\u0108": "C",
          "\u010A": "C",
          "\u010C": "C",
          "\u0107": "c",
          "\u0109": "c",
          "\u010B": "c",
          "\u010D": "c",
          "\u010E": "D",
          "\u0110": "D",
          "\u010F": "d",
          "\u0111": "d",
          "\u0112": "E",
          "\u0114": "E",
          "\u0116": "E",
          "\u0118": "E",
          "\u011A": "E",
          "\u0113": "e",
          "\u0115": "e",
          "\u0117": "e",
          "\u0119": "e",
          "\u011B": "e",
          "\u011C": "G",
          "\u011E": "G",
          "\u0120": "G",
          "\u0122": "G",
          "\u011D": "g",
          "\u011F": "g",
          "\u0121": "g",
          "\u0123": "g",
          "\u0124": "H",
          "\u0126": "H",
          "\u0125": "h",
          "\u0127": "h",
          "\u0128": "I",
          "\u012A": "I",
          "\u012C": "I",
          "\u012E": "I",
          "\u0130": "I",
          "\u0129": "i",
          "\u012B": "i",
          "\u012D": "i",
          "\u012F": "i",
          "\u0131": "i",
          "\u0134": "J",
          "\u0135": "j",
          "\u0136": "K",
          "\u0137": "k",
          "\u0138": "k",
          "\u0139": "L",
          "\u013B": "L",
          "\u013D": "L",
          "\u013F": "L",
          "\u0141": "L",
          "\u013A": "l",
          "\u013C": "l",
          "\u013E": "l",
          "\u0140": "l",
          "\u0142": "l",
          "\u0143": "N",
          "\u0145": "N",
          "\u0147": "N",
          "\u014A": "N",
          "\u0144": "n",
          "\u0146": "n",
          "\u0148": "n",
          "\u014B": "n",
          "\u014C": "O",
          "\u014E": "O",
          "\u0150": "O",
          "\u014D": "o",
          "\u014F": "o",
          "\u0151": "o",
          "\u0154": "R",
          "\u0156": "R",
          "\u0158": "R",
          "\u0155": "r",
          "\u0157": "r",
          "\u0159": "r",
          "\u015A": "S",
          "\u015C": "S",
          "\u015E": "S",
          "\u0160": "S",
          "\u015B": "s",
          "\u015D": "s",
          "\u015F": "s",
          "\u0161": "s",
          "\u0162": "T",
          "\u0164": "T",
          "\u0166": "T",
          "\u0163": "t",
          "\u0165": "t",
          "\u0167": "t",
          "\u0168": "U",
          "\u016A": "U",
          "\u016C": "U",
          "\u016E": "U",
          "\u0170": "U",
          "\u0172": "U",
          "\u0169": "u",
          "\u016B": "u",
          "\u016D": "u",
          "\u016F": "u",
          "\u0171": "u",
          "\u0173": "u",
          "\u0174": "W",
          "\u0175": "w",
          "\u0176": "Y",
          "\u0177": "y",
          "\u0178": "Y",
          "\u0179": "Z",
          "\u017B": "Z",
          "\u017D": "Z",
          "\u017A": "z",
          "\u017C": "z",
          "\u017E": "z",
          "\u0132": "IJ",
          "\u0133": "ij",
          "\u0152": "Oe",
          "\u0153": "oe",
          "\u0149": "'n",
          "\u017F": "s"
        };
        var htmlEscapes = {
          "&": "&amp;",
          "<": "&lt;",
          ">": "&gt;",
          '"': "&quot;",
          "'": "&#39;"
        };
        var htmlUnescapes = {
          "&amp;": "&",
          "&lt;": "<",
          "&gt;": ">",
          "&quot;": '"',
          "&#39;": "'"
        };
        var stringEscapes = {
          "\\": "\\",
          "'": "'",
          "\n": "n",
          "\r": "r",
          "\u2028": "u2028",
          "\u2029": "u2029"
        };
        var freeParseFloat = parseFloat, freeParseInt = parseInt;
        var freeGlobal = typeof global == "object" && global && global.Object === Object && global;
        var freeSelf = typeof self == "object" && self && self.Object === Object && self;
        var root = freeGlobal || freeSelf || Function("return this")();
        var freeExports = typeof exports == "object" && exports && !exports.nodeType && exports;
        var freeModule = freeExports && typeof module == "object" && module && !module.nodeType && module;
        var moduleExports = freeModule && freeModule.exports === freeExports;
        var freeProcess = moduleExports && freeGlobal.process;
        var nodeUtil = function() {
          try {
            var types = freeModule && freeModule.require && freeModule.require("util").types;
            if (types) {
              return types;
            }
            return freeProcess && freeProcess.binding && freeProcess.binding("util");
          } catch (e) {
          }
        }();
        var nodeIsArrayBuffer = nodeUtil && nodeUtil.isArrayBuffer, nodeIsDate = nodeUtil && nodeUtil.isDate, nodeIsMap = nodeUtil && nodeUtil.isMap, nodeIsRegExp = nodeUtil && nodeUtil.isRegExp, nodeIsSet = nodeUtil && nodeUtil.isSet, nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;
        function apply(func, thisArg, args) {
          switch (args.length) {
            case 0:
              return func.call(thisArg);
            case 1:
              return func.call(thisArg, args[0]);
            case 2:
              return func.call(thisArg, args[0], args[1]);
            case 3:
              return func.call(thisArg, args[0], args[1], args[2]);
          }
          return func.apply(thisArg, args);
        }
        function arrayAggregator(array, setter, iteratee, accumulator) {
          var index = -1, length = array == null ? 0 : array.length;
          while (++index < length) {
            var value = array[index];
            setter(accumulator, value, iteratee(value), array);
          }
          return accumulator;
        }
        function arrayEach(array, iteratee) {
          var index = -1, length = array == null ? 0 : array.length;
          while (++index < length) {
            if (iteratee(array[index], index, array) === false) {
              break;
            }
          }
          return array;
        }
        function arrayEachRight(array, iteratee) {
          var length = array == null ? 0 : array.length;
          while (length--) {
            if (iteratee(array[length], length, array) === false) {
              break;
            }
          }
          return array;
        }
        function arrayEvery(array, predicate) {
          var index = -1, length = array == null ? 0 : array.length;
          while (++index < length) {
            if (!predicate(array[index], index, array)) {
              return false;
            }
          }
          return true;
        }
        function arrayFilter(array, predicate) {
          var index = -1, length = array == null ? 0 : array.length, resIndex = 0, result = [];
          while (++index < length) {
            var value = array[index];
            if (predicate(value, index, array)) {
              result[resIndex++] = value;
            }
          }
          return result;
        }
        function arrayIncludes(array, value) {
          var length = array == null ? 0 : array.length;
          return !!length && baseIndexOf(array, value, 0) > -1;
        }
        function arrayIncludesWith(array, value, comparator) {
          var index = -1, length = array == null ? 0 : array.length;
          while (++index < length) {
            if (comparator(value, array[index])) {
              return true;
            }
          }
          return false;
        }
        function arrayMap(array, iteratee) {
          var index = -1, length = array == null ? 0 : array.length, result = Array(length);
          while (++index < length) {
            result[index] = iteratee(array[index], index, array);
          }
          return result;
        }
        function arrayPush(array, values) {
          var index = -1, length = values.length, offset = array.length;
          while (++index < length) {
            array[offset + index] = values[index];
          }
          return array;
        }
        function arrayReduce(array, iteratee, accumulator, initAccum) {
          var index = -1, length = array == null ? 0 : array.length;
          if (initAccum && length) {
            accumulator = array[++index];
          }
          while (++index < length) {
            accumulator = iteratee(accumulator, array[index], index, array);
          }
          return accumulator;
        }
        function arrayReduceRight(array, iteratee, accumulator, initAccum) {
          var length = array == null ? 0 : array.length;
          if (initAccum && length) {
            accumulator = array[--length];
          }
          while (length--) {
            accumulator = iteratee(accumulator, array[length], length, array);
          }
          return accumulator;
        }
        function arraySome(array, predicate) {
          var index = -1, length = array == null ? 0 : array.length;
          while (++index < length) {
            if (predicate(array[index], index, array)) {
              return true;
            }
          }
          return false;
        }
        var asciiSize = baseProperty("length");
        function asciiToArray(string) {
          return string.split("");
        }
        function asciiWords(string) {
          return string.match(reAsciiWord) || [];
        }
        function baseFindKey(collection, predicate, eachFunc) {
          var result;
          eachFunc(collection, function(value, key, collection2) {
            if (predicate(value, key, collection2)) {
              result = key;
              return false;
            }
          });
          return result;
        }
        function baseFindIndex(array, predicate, fromIndex, fromRight) {
          var length = array.length, index = fromIndex + (fromRight ? 1 : -1);
          while (fromRight ? index-- : ++index < length) {
            if (predicate(array[index], index, array)) {
              return index;
            }
          }
          return -1;
        }
        function baseIndexOf(array, value, fromIndex) {
          return value === value ? strictIndexOf(array, value, fromIndex) : baseFindIndex(array, baseIsNaN, fromIndex);
        }
        function baseIndexOfWith(array, value, fromIndex, comparator) {
          var index = fromIndex - 1, length = array.length;
          while (++index < length) {
            if (comparator(array[index], value)) {
              return index;
            }
          }
          return -1;
        }
        function baseIsNaN(value) {
          return value !== value;
        }
        function baseMean(array, iteratee) {
          var length = array == null ? 0 : array.length;
          return length ? baseSum(array, iteratee) / length : NAN;
        }
        function baseProperty(key) {
          return function(object) {
            return object == null ? undefined2 : object[key];
          };
        }
        function basePropertyOf(object) {
          return function(key) {
            return object == null ? undefined2 : object[key];
          };
        }
        function baseReduce(collection, iteratee, accumulator, initAccum, eachFunc) {
          eachFunc(collection, function(value, index, collection2) {
            accumulator = initAccum ? (initAccum = false, value) : iteratee(accumulator, value, index, collection2);
          });
          return accumulator;
        }
        function baseSortBy(array, comparer) {
          var length = array.length;
          array.sort(comparer);
          while (length--) {
            array[length] = array[length].value;
          }
          return array;
        }
        function baseSum(array, iteratee) {
          var result, index = -1, length = array.length;
          while (++index < length) {
            var current = iteratee(array[index]);
            if (current !== undefined2) {
              result = result === undefined2 ? current : result + current;
            }
          }
          return result;
        }
        function baseTimes(n, iteratee) {
          var index = -1, result = Array(n);
          while (++index < n) {
            result[index] = iteratee(index);
          }
          return result;
        }
        function baseToPairs(object, props) {
          return arrayMap(props, function(key) {
            return [key, object[key]];
          });
        }
        function baseTrim(string) {
          return string ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, "") : string;
        }
        function baseUnary(func) {
          return function(value) {
            return func(value);
          };
        }
        function baseValues(object, props) {
          return arrayMap(props, function(key) {
            return object[key];
          });
        }
        function cacheHas(cache, key) {
          return cache.has(key);
        }
        function charsStartIndex(strSymbols, chrSymbols) {
          var index = -1, length = strSymbols.length;
          while (++index < length && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {
          }
          return index;
        }
        function charsEndIndex(strSymbols, chrSymbols) {
          var index = strSymbols.length;
          while (index-- && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {
          }
          return index;
        }
        function countHolders(array, placeholder) {
          var length = array.length, result = 0;
          while (length--) {
            if (array[length] === placeholder) {
              ++result;
            }
          }
          return result;
        }
        var deburrLetter = basePropertyOf(deburredLetters);
        var escapeHtmlChar = basePropertyOf(htmlEscapes);
        function escapeStringChar(chr) {
          return "\\" + stringEscapes[chr];
        }
        function getValue(object, key) {
          return object == null ? undefined2 : object[key];
        }
        function hasUnicode(string) {
          return reHasUnicode.test(string);
        }
        function hasUnicodeWord(string) {
          return reHasUnicodeWord.test(string);
        }
        function iteratorToArray(iterator) {
          var data, result = [];
          while (!(data = iterator.next()).done) {
            result.push(data.value);
          }
          return result;
        }
        function mapToArray(map) {
          var index = -1, result = Array(map.size);
          map.forEach(function(value, key) {
            result[++index] = [key, value];
          });
          return result;
        }
        function overArg(func, transform) {
          return function(arg) {
            return func(transform(arg));
          };
        }
        function replaceHolders(array, placeholder) {
          var index = -1, length = array.length, resIndex = 0, result = [];
          while (++index < length) {
            var value = array[index];
            if (value === placeholder || value === PLACEHOLDER) {
              array[index] = PLACEHOLDER;
              result[resIndex++] = index;
            }
          }
          return result;
        }
        function setToArray(set) {
          var index = -1, result = Array(set.size);
          set.forEach(function(value) {
            result[++index] = value;
          });
          return result;
        }
        function setToPairs(set) {
          var index = -1, result = Array(set.size);
          set.forEach(function(value) {
            result[++index] = [value, value];
          });
          return result;
        }
        function strictIndexOf(array, value, fromIndex) {
          var index = fromIndex - 1, length = array.length;
          while (++index < length) {
            if (array[index] === value) {
              return index;
            }
          }
          return -1;
        }
        function strictLastIndexOf(array, value, fromIndex) {
          var index = fromIndex + 1;
          while (index--) {
            if (array[index] === value) {
              return index;
            }
          }
          return index;
        }
        function stringSize(string) {
          return hasUnicode(string) ? unicodeSize(string) : asciiSize(string);
        }
        function stringToArray(string) {
          return hasUnicode(string) ? unicodeToArray(string) : asciiToArray(string);
        }
        function trimmedEndIndex(string) {
          var index = string.length;
          while (index-- && reWhitespace.test(string.charAt(index))) {
          }
          return index;
        }
        var unescapeHtmlChar = basePropertyOf(htmlUnescapes);
        function unicodeSize(string) {
          var result = reUnicode.lastIndex = 0;
          while (reUnicode.test(string)) {
            ++result;
          }
          return result;
        }
        function unicodeToArray(string) {
          return string.match(reUnicode) || [];
        }
        function unicodeWords(string) {
          return string.match(reUnicodeWord) || [];
        }
        var runInContext = function runInContext2(context) {
          context = context == null ? root : _.defaults(root.Object(), context, _.pick(root, contextProps));
          var Array2 = context.Array, Date2 = context.Date, Error2 = context.Error, Function2 = context.Function, Math2 = context.Math, Object2 = context.Object, RegExp2 = context.RegExp, String2 = context.String, TypeError2 = context.TypeError;
          var arrayProto = Array2.prototype, funcProto = Function2.prototype, objectProto = Object2.prototype;
          var coreJsData = context["__core-js_shared__"];
          var funcToString = funcProto.toString;
          var hasOwnProperty = objectProto.hasOwnProperty;
          var idCounter = 0;
          var maskSrcKey = function() {
            var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || "");
            return uid ? "Symbol(src)_1." + uid : "";
          }();
          var nativeObjectToString = objectProto.toString;
          var objectCtorString = funcToString.call(Object2);
          var oldDash = root._;
          var reIsNative = RegExp2("^" + funcToString.call(hasOwnProperty).replace(reRegExpChar, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$");
          var Buffer2 = moduleExports ? context.Buffer : undefined2, Symbol2 = context.Symbol, Uint8Array2 = context.Uint8Array, allocUnsafe = Buffer2 ? Buffer2.allocUnsafe : undefined2, getPrototype = overArg(Object2.getPrototypeOf, Object2), objectCreate = Object2.create, propertyIsEnumerable = objectProto.propertyIsEnumerable, splice = arrayProto.splice, spreadableSymbol = Symbol2 ? Symbol2.isConcatSpreadable : undefined2, symIterator = Symbol2 ? Symbol2.iterator : undefined2, symToStringTag = Symbol2 ? Symbol2.toStringTag : undefined2;
          var defineProperty = function() {
            try {
              var func = getNative(Object2, "defineProperty");
              func({}, "", {});
              return func;
            } catch (e) {
            }
          }();
          var ctxClearTimeout = context.clearTimeout !== root.clearTimeout && context.clearTimeout, ctxNow = Date2 && Date2.now !== root.Date.now && Date2.now, ctxSetTimeout = context.setTimeout !== root.setTimeout && context.setTimeout;
          var nativeCeil = Math2.ceil, nativeFloor = Math2.floor, nativeGetSymbols = Object2.getOwnPropertySymbols, nativeIsBuffer = Buffer2 ? Buffer2.isBuffer : undefined2, nativeIsFinite = context.isFinite, nativeJoin = arrayProto.join, nativeKeys = overArg(Object2.keys, Object2), nativeMax = Math2.max, nativeMin = Math2.min, nativeNow = Date2.now, nativeParseInt = context.parseInt, nativeRandom = Math2.random, nativeReverse = arrayProto.reverse;
          var DataView = getNative(context, "DataView"), Map2 = getNative(context, "Map"), Promise2 = getNative(context, "Promise"), Set = getNative(context, "Set"), WeakMap = getNative(context, "WeakMap"), nativeCreate = getNative(Object2, "create");
          var metaMap = WeakMap && new WeakMap();
          var realNames = {};
          var dataViewCtorString = toSource(DataView), mapCtorString = toSource(Map2), promiseCtorString = toSource(Promise2), setCtorString = toSource(Set), weakMapCtorString = toSource(WeakMap);
          var symbolProto = Symbol2 ? Symbol2.prototype : undefined2, symbolValueOf = symbolProto ? symbolProto.valueOf : undefined2, symbolToString = symbolProto ? symbolProto.toString : undefined2;
          function lodash(value) {
            if (isObjectLike(value) && !isArray(value) && !(value instanceof LazyWrapper)) {
              if (value instanceof LodashWrapper) {
                return value;
              }
              if (hasOwnProperty.call(value, "__wrapped__")) {
                return wrapperClone(value);
              }
            }
            return new LodashWrapper(value);
          }
          var baseCreate = function() {
            function object() {
            }
            return function(proto) {
              if (!isObject(proto)) {
                return {};
              }
              if (objectCreate) {
                return objectCreate(proto);
              }
              object.prototype = proto;
              var result2 = new object();
              object.prototype = undefined2;
              return result2;
            };
          }();
          function baseLodash() {
          }
          function LodashWrapper(value, chainAll) {
            this.__wrapped__ = value;
            this.__actions__ = [];
            this.__chain__ = !!chainAll;
            this.__index__ = 0;
            this.__values__ = undefined2;
          }
          lodash.templateSettings = {
            "escape": reEscape,
            "evaluate": reEvaluate,
            "interpolate": reInterpolate,
            "variable": "",
            "imports": {
              "_": lodash
            }
          };
          lodash.prototype = baseLodash.prototype;
          lodash.prototype.constructor = lodash;
          LodashWrapper.prototype = baseCreate(baseLodash.prototype);
          LodashWrapper.prototype.constructor = LodashWrapper;
          function LazyWrapper(value) {
            this.__wrapped__ = value;
            this.__actions__ = [];
            this.__dir__ = 1;
            this.__filtered__ = false;
            this.__iteratees__ = [];
            this.__takeCount__ = MAX_ARRAY_LENGTH;
            this.__views__ = [];
          }
          function lazyClone() {
            var result2 = new LazyWrapper(this.__wrapped__);
            result2.__actions__ = copyArray(this.__actions__);
            result2.__dir__ = this.__dir__;
            result2.__filtered__ = this.__filtered__;
            result2.__iteratees__ = copyArray(this.__iteratees__);
            result2.__takeCount__ = this.__takeCount__;
            result2.__views__ = copyArray(this.__views__);
            return result2;
          }
          function lazyReverse() {
            if (this.__filtered__) {
              var result2 = new LazyWrapper(this);
              result2.__dir__ = -1;
              result2.__filtered__ = true;
            } else {
              result2 = this.clone();
              result2.__dir__ *= -1;
            }
            return result2;
          }
          function lazyValue() {
            var array = this.__wrapped__.value(), dir = this.__dir__, isArr = isArray(array), isRight = dir < 0, arrLength = isArr ? array.length : 0, view = getView(0, arrLength, this.__views__), start = view.start, end = view.end, length = end - start, index = isRight ? end : start - 1, iteratees = this.__iteratees__, iterLength = iteratees.length, resIndex = 0, takeCount = nativeMin(length, this.__takeCount__);
            if (!isArr || !isRight && arrLength == length && takeCount == length) {
              return baseWrapperValue(array, this.__actions__);
            }
            var result2 = [];
            outer:
              while (length-- && resIndex < takeCount) {
                index += dir;
                var iterIndex = -1, value = array[index];
                while (++iterIndex < iterLength) {
                  var data = iteratees[iterIndex], iteratee2 = data.iteratee, type = data.type, computed = iteratee2(value);
                  if (type == LAZY_MAP_FLAG) {
                    value = computed;
                  } else if (!computed) {
                    if (type == LAZY_FILTER_FLAG) {
                      continue outer;
                    } else {
                      break outer;
                    }
                  }
                }
                result2[resIndex++] = value;
              }
            return result2;
          }
          LazyWrapper.prototype = baseCreate(baseLodash.prototype);
          LazyWrapper.prototype.constructor = LazyWrapper;
          function Hash(entries) {
            var index = -1, length = entries == null ? 0 : entries.length;
            this.clear();
            while (++index < length) {
              var entry = entries[index];
              this.set(entry[0], entry[1]);
            }
          }
          function hashClear() {
            this.__data__ = nativeCreate ? nativeCreate(null) : {};
            this.size = 0;
          }
          function hashDelete(key) {
            var result2 = this.has(key) && delete this.__data__[key];
            this.size -= result2 ? 1 : 0;
            return result2;
          }
          function hashGet(key) {
            var data = this.__data__;
            if (nativeCreate) {
              var result2 = data[key];
              return result2 === HASH_UNDEFINED ? undefined2 : result2;
            }
            return hasOwnProperty.call(data, key) ? data[key] : undefined2;
          }
          function hashHas(key) {
            var data = this.__data__;
            return nativeCreate ? data[key] !== undefined2 : hasOwnProperty.call(data, key);
          }
          function hashSet(key, value) {
            var data = this.__data__;
            this.size += this.has(key) ? 0 : 1;
            data[key] = nativeCreate && value === undefined2 ? HASH_UNDEFINED : value;
            return this;
          }
          Hash.prototype.clear = hashClear;
          Hash.prototype["delete"] = hashDelete;
          Hash.prototype.get = hashGet;
          Hash.prototype.has = hashHas;
          Hash.prototype.set = hashSet;
          function ListCache(entries) {
            var index = -1, length = entries == null ? 0 : entries.length;
            this.clear();
            while (++index < length) {
              var entry = entries[index];
              this.set(entry[0], entry[1]);
            }
          }
          function listCacheClear() {
            this.__data__ = [];
            this.size = 0;
          }
          function listCacheDelete(key) {
            var data = this.__data__, index = assocIndexOf(data, key);
            if (index < 0) {
              return false;
            }
            var lastIndex = data.length - 1;
            if (index == lastIndex) {
              data.pop();
            } else {
              splice.call(data, index, 1);
            }
            --this.size;
            return true;
          }
          function listCacheGet(key) {
            var data = this.__data__, index = assocIndexOf(data, key);
            return index < 0 ? undefined2 : data[index][1];
          }
          function listCacheHas(key) {
            return assocIndexOf(this.__data__, key) > -1;
          }
          function listCacheSet(key, value) {
            var data = this.__data__, index = assocIndexOf(data, key);
            if (index < 0) {
              ++this.size;
              data.push([key, value]);
            } else {
              data[index][1] = value;
            }
            return this;
          }
          ListCache.prototype.clear = listCacheClear;
          ListCache.prototype["delete"] = listCacheDelete;
          ListCache.prototype.get = listCacheGet;
          ListCache.prototype.has = listCacheHas;
          ListCache.prototype.set = listCacheSet;
          function MapCache(entries) {
            var index = -1, length = entries == null ? 0 : entries.length;
            this.clear();
            while (++index < length) {
              var entry = entries[index];
              this.set(entry[0], entry[1]);
            }
          }
          function mapCacheClear() {
            this.size = 0;
            this.__data__ = {
              "hash": new Hash(),
              "map": new (Map2 || ListCache)(),
              "string": new Hash()
            };
          }
          function mapCacheDelete(key) {
            var result2 = getMapData(this, key)["delete"](key);
            this.size -= result2 ? 1 : 0;
            return result2;
          }
          function mapCacheGet(key) {
            return getMapData(this, key).get(key);
          }
          function mapCacheHas(key) {
            return getMapData(this, key).has(key);
          }
          function mapCacheSet(key, value) {
            var data = getMapData(this, key), size2 = data.size;
            data.set(key, value);
            this.size += data.size == size2 ? 0 : 1;
            return this;
          }
          MapCache.prototype.clear = mapCacheClear;
          MapCache.prototype["delete"] = mapCacheDelete;
          MapCache.prototype.get = mapCacheGet;
          MapCache.prototype.has = mapCacheHas;
          MapCache.prototype.set = mapCacheSet;
          function SetCache(values2) {
            var index = -1, length = values2 == null ? 0 : values2.length;
            this.__data__ = new MapCache();
            while (++index < length) {
              this.add(values2[index]);
            }
          }
          function setCacheAdd(value) {
            this.__data__.set(value, HASH_UNDEFINED);
            return this;
          }
          function setCacheHas(value) {
            return this.__data__.has(value);
          }
          SetCache.prototype.add = SetCache.prototype.push = setCacheAdd;
          SetCache.prototype.has = setCacheHas;
          function Stack(entries) {
            var data = this.__data__ = new ListCache(entries);
            this.size = data.size;
          }
          function stackClear() {
            this.__data__ = new ListCache();
            this.size = 0;
          }
          function stackDelete(key) {
            var data = this.__data__, result2 = data["delete"](key);
            this.size = data.size;
            return result2;
          }
          function stackGet(key) {
            return this.__data__.get(key);
          }
          function stackHas(key) {
            return this.__data__.has(key);
          }
          function stackSet(key, value) {
            var data = this.__data__;
            if (data instanceof ListCache) {
              var pairs = data.__data__;
              if (!Map2 || pairs.length < LARGE_ARRAY_SIZE - 1) {
                pairs.push([key, value]);
                this.size = ++data.size;
                return this;
              }
              data = this.__data__ = new MapCache(pairs);
            }
            data.set(key, value);
            this.size = data.size;
            return this;
          }
          Stack.prototype.clear = stackClear;
          Stack.prototype["delete"] = stackDelete;
          Stack.prototype.get = stackGet;
          Stack.prototype.has = stackHas;
          Stack.prototype.set = stackSet;
          function arrayLikeKeys(value, inherited) {
            var isArr = isArray(value), isArg = !isArr && isArguments(value), isBuff = !isArr && !isArg && isBuffer(value), isType = !isArr && !isArg && !isBuff && isTypedArray(value), skipIndexes = isArr || isArg || isBuff || isType, result2 = skipIndexes ? baseTimes(value.length, String2) : [], length = result2.length;
            for (var key in value) {
              if ((inherited || hasOwnProperty.call(value, key)) && !(skipIndexes && (key == "length" || isBuff && (key == "offset" || key == "parent") || isType && (key == "buffer" || key == "byteLength" || key == "byteOffset") || isIndex(key, length)))) {
                result2.push(key);
              }
            }
            return result2;
          }
          function arraySample(array) {
            var length = array.length;
            return length ? array[baseRandom(0, length - 1)] : undefined2;
          }
          function arraySampleSize(array, n) {
            return shuffleSelf(copyArray(array), baseClamp(n, 0, array.length));
          }
          function arrayShuffle(array) {
            return shuffleSelf(copyArray(array));
          }
          function assignMergeValue(object, key, value) {
            if (value !== undefined2 && !eq(object[key], value) || value === undefined2 && !(key in object)) {
              baseAssignValue(object, key, value);
            }
          }
          function assignValue(object, key, value) {
            var objValue = object[key];
            if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) || value === undefined2 && !(key in object)) {
              baseAssignValue(object, key, value);
            }
          }
          function assocIndexOf(array, key) {
            var length = array.length;
            while (length--) {
              if (eq(array[length][0], key)) {
                return length;
              }
            }
            return -1;
          }
          function baseAggregator(collection, setter, iteratee2, accumulator) {
            baseEach(collection, function(value, key, collection2) {
              setter(accumulator, value, iteratee2(value), collection2);
            });
            return accumulator;
          }
          function baseAssign(object, source) {
            return object && copyObject(source, keys(source), object);
          }
          function baseAssignIn(object, source) {
            return object && copyObject(source, keysIn(source), object);
          }
          function baseAssignValue(object, key, value) {
            if (key == "__proto__" && defineProperty) {
              defineProperty(object, key, {
                "configurable": true,
                "enumerable": true,
                "value": value,
                "writable": true
              });
            } else {
              object[key] = value;
            }
          }
          function baseAt(object, paths) {
            var index = -1, length = paths.length, result2 = Array2(length), skip = object == null;
            while (++index < length) {
              result2[index] = skip ? undefined2 : get(object, paths[index]);
            }
            return result2;
          }
          function baseClamp(number, lower, upper) {
            if (number === number) {
              if (upper !== undefined2) {
                number = number <= upper ? number : upper;
              }
              if (lower !== undefined2) {
                number = number >= lower ? number : lower;
              }
            }
            return number;
          }
          function baseClone(value, bitmask, customizer, key, object, stack) {
            var result2, isDeep = bitmask & CLONE_DEEP_FLAG, isFlat = bitmask & CLONE_FLAT_FLAG, isFull = bitmask & CLONE_SYMBOLS_FLAG;
            if (customizer) {
              result2 = object ? customizer(value, key, object, stack) : customizer(value);
            }
            if (result2 !== undefined2) {
              return result2;
            }
            if (!isObject(value)) {
              return value;
            }
            var isArr = isArray(value);
            if (isArr) {
              result2 = initCloneArray(value);
              if (!isDeep) {
                return copyArray(value, result2);
              }
            } else {
              var tag3 = getTag(value), isFunc = tag3 == funcTag || tag3 == genTag;
              if (isBuffer(value)) {
                return cloneBuffer(value, isDeep);
              }
              if (tag3 == objectTag || tag3 == argsTag || isFunc && !object) {
                result2 = isFlat || isFunc ? {} : initCloneObject(value);
                if (!isDeep) {
                  return isFlat ? copySymbolsIn(value, baseAssignIn(result2, value)) : copySymbols(value, baseAssign(result2, value));
                }
              } else {
                if (!cloneableTags[tag3]) {
                  return object ? value : {};
                }
                result2 = initCloneByTag(value, tag3, isDeep);
              }
            }
            stack || (stack = new Stack());
            var stacked = stack.get(value);
            if (stacked) {
              return stacked;
            }
            stack.set(value, result2);
            if (isSet(value)) {
              value.forEach(function(subValue) {
                result2.add(baseClone(subValue, bitmask, customizer, subValue, value, stack));
              });
            } else if (isMap(value)) {
              value.forEach(function(subValue, key2) {
                result2.set(key2, baseClone(subValue, bitmask, customizer, key2, value, stack));
              });
            }
            var keysFunc = isFull ? isFlat ? getAllKeysIn : getAllKeys : isFlat ? keysIn : keys;
            var props = isArr ? undefined2 : keysFunc(value);
            arrayEach(props || value, function(subValue, key2) {
              if (props) {
                key2 = subValue;
                subValue = value[key2];
              }
              assignValue(result2, key2, baseClone(subValue, bitmask, customizer, key2, value, stack));
            });
            return result2;
          }
          function baseConforms(source) {
            var props = keys(source);
            return function(object) {
              return baseConformsTo(object, source, props);
            };
          }
          function baseConformsTo(object, source, props) {
            var length = props.length;
            if (object == null) {
              return !length;
            }
            object = Object2(object);
            while (length--) {
              var key = props[length], predicate = source[key], value = object[key];
              if (value === undefined2 && !(key in object) || !predicate(value)) {
                return false;
              }
            }
            return true;
          }
          function baseDelay(func, wait, args) {
            if (typeof func != "function") {
              throw new TypeError2(FUNC_ERROR_TEXT);
            }
            return setTimeout2(function() {
              func.apply(undefined2, args);
            }, wait);
          }
          function baseDifference(array, values2, iteratee2, comparator) {
            var index = -1, includes2 = arrayIncludes, isCommon = true, length = array.length, result2 = [], valuesLength = values2.length;
            if (!length) {
              return result2;
            }
            if (iteratee2) {
              values2 = arrayMap(values2, baseUnary(iteratee2));
            }
            if (comparator) {
              includes2 = arrayIncludesWith;
              isCommon = false;
            } else if (values2.length >= LARGE_ARRAY_SIZE) {
              includes2 = cacheHas;
              isCommon = false;
              values2 = new SetCache(values2);
            }
            outer:
              while (++index < length) {
                var value = array[index], computed = iteratee2 == null ? value : iteratee2(value);
                value = comparator || value !== 0 ? value : 0;
                if (isCommon && computed === computed) {
                  var valuesIndex = valuesLength;
                  while (valuesIndex--) {
                    if (values2[valuesIndex] === computed) {
                      continue outer;
                    }
                  }
                  result2.push(value);
                } else if (!includes2(values2, computed, comparator)) {
                  result2.push(value);
                }
              }
            return result2;
          }
          var baseEach = createBaseEach(baseForOwn);
          var baseEachRight = createBaseEach(baseForOwnRight, true);
          function baseEvery(collection, predicate) {
            var result2 = true;
            baseEach(collection, function(value, index, collection2) {
              result2 = !!predicate(value, index, collection2);
              return result2;
            });
            return result2;
          }
          function baseExtremum(array, iteratee2, comparator) {
            var index = -1, length = array.length;
            while (++index < length) {
              var value = array[index], current = iteratee2(value);
              if (current != null && (computed === undefined2 ? current === current && !isSymbol(current) : comparator(current, computed))) {
                var computed = current, result2 = value;
              }
            }
            return result2;
          }
          function baseFill(array, value, start, end) {
            var length = array.length;
            start = toInteger(start);
            if (start < 0) {
              start = -start > length ? 0 : length + start;
            }
            end = end === undefined2 || end > length ? length : toInteger(end);
            if (end < 0) {
              end += length;
            }
            end = start > end ? 0 : toLength(end);
            while (start < end) {
              array[start++] = value;
            }
            return array;
          }
          function baseFilter(collection, predicate) {
            var result2 = [];
            baseEach(collection, function(value, index, collection2) {
              if (predicate(value, index, collection2)) {
                result2.push(value);
              }
            });
            return result2;
          }
          function baseFlatten(array, depth, predicate, isStrict, result2) {
            var index = -1, length = array.length;
            predicate || (predicate = isFlattenable);
            result2 || (result2 = []);
            while (++index < length) {
              var value = array[index];
              if (depth > 0 && predicate(value)) {
                if (depth > 1) {
                  baseFlatten(value, depth - 1, predicate, isStrict, result2);
                } else {
                  arrayPush(result2, value);
                }
              } else if (!isStrict) {
                result2[result2.length] = value;
              }
            }
            return result2;
          }
          var baseFor = createBaseFor();
          var baseForRight = createBaseFor(true);
          function baseForOwn(object, iteratee2) {
            return object && baseFor(object, iteratee2, keys);
          }
          function baseForOwnRight(object, iteratee2) {
            return object && baseForRight(object, iteratee2, keys);
          }
          function baseFunctions(object, props) {
            return arrayFilter(props, function(key) {
              return isFunction(object[key]);
            });
          }
          function baseGet(object, path) {
            path = castPath(path, object);
            var index = 0, length = path.length;
            while (object != null && index < length) {
              object = object[toKey(path[index++])];
            }
            return index && index == length ? object : undefined2;
          }
          function baseGetAllKeys(object, keysFunc, symbolsFunc) {
            var result2 = keysFunc(object);
            return isArray(object) ? result2 : arrayPush(result2, symbolsFunc(object));
          }
          function baseGetTag(value) {
            if (value == null) {
              return value === undefined2 ? undefinedTag : nullTag;
            }
            return symToStringTag && symToStringTag in Object2(value) ? getRawTag(value) : objectToString(value);
          }
          function baseGt(value, other) {
            return value > other;
          }
          function baseHas(object, key) {
            return object != null && hasOwnProperty.call(object, key);
          }
          function baseHasIn(object, key) {
            return object != null && key in Object2(object);
          }
          function baseInRange(number, start, end) {
            return number >= nativeMin(start, end) && number < nativeMax(start, end);
          }
          function baseIntersection(arrays, iteratee2, comparator) {
            var includes2 = comparator ? arrayIncludesWith : arrayIncludes, length = arrays[0].length, othLength = arrays.length, othIndex = othLength, caches = Array2(othLength), maxLength = Infinity, result2 = [];
            while (othIndex--) {
              var array = arrays[othIndex];
              if (othIndex && iteratee2) {
                array = arrayMap(array, baseUnary(iteratee2));
              }
              maxLength = nativeMin(array.length, maxLength);
              caches[othIndex] = !comparator && (iteratee2 || length >= 120 && array.length >= 120) ? new SetCache(othIndex && array) : undefined2;
            }
            array = arrays[0];
            var index = -1, seen = caches[0];
            outer:
              while (++index < length && result2.length < maxLength) {
                var value = array[index], computed = iteratee2 ? iteratee2(value) : value;
                value = comparator || value !== 0 ? value : 0;
                if (!(seen ? cacheHas(seen, computed) : includes2(result2, computed, comparator))) {
                  othIndex = othLength;
                  while (--othIndex) {
                    var cache = caches[othIndex];
                    if (!(cache ? cacheHas(cache, computed) : includes2(arrays[othIndex], computed, comparator))) {
                      continue outer;
                    }
                  }
                  if (seen) {
                    seen.push(computed);
                  }
                  result2.push(value);
                }
              }
            return result2;
          }
          function baseInverter(object, setter, iteratee2, accumulator) {
            baseForOwn(object, function(value, key, object2) {
              setter(accumulator, iteratee2(value), key, object2);
            });
            return accumulator;
          }
          function baseInvoke(object, path, args) {
            path = castPath(path, object);
            object = parent(object, path);
            var func = object == null ? object : object[toKey(last(path))];
            return func == null ? undefined2 : apply(func, object, args);
          }
          function baseIsArguments(value) {
            return isObjectLike(value) && baseGetTag(value) == argsTag;
          }
          function baseIsArrayBuffer(value) {
            return isObjectLike(value) && baseGetTag(value) == arrayBufferTag;
          }
          function baseIsDate(value) {
            return isObjectLike(value) && baseGetTag(value) == dateTag;
          }
          function baseIsEqual(value, other, bitmask, customizer, stack) {
            if (value === other) {
              return true;
            }
            if (value == null || other == null || !isObjectLike(value) && !isObjectLike(other)) {
              return value !== value && other !== other;
            }
            return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);
          }
          function baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {
            var objIsArr = isArray(object), othIsArr = isArray(other), objTag = objIsArr ? arrayTag : getTag(object), othTag = othIsArr ? arrayTag : getTag(other);
            objTag = objTag == argsTag ? objectTag : objTag;
            othTag = othTag == argsTag ? objectTag : othTag;
            var objIsObj = objTag == objectTag, othIsObj = othTag == objectTag, isSameTag = objTag == othTag;
            if (isSameTag && isBuffer(object)) {
              if (!isBuffer(other)) {
                return false;
              }
              objIsArr = true;
              objIsObj = false;
            }
            if (isSameTag && !objIsObj) {
              stack || (stack = new Stack());
              return objIsArr || isTypedArray(object) ? equalArrays(object, other, bitmask, customizer, equalFunc, stack) : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);
            }
            if (!(bitmask & COMPARE_PARTIAL_FLAG)) {
              var objIsWrapped = objIsObj && hasOwnProperty.call(object, "__wrapped__"), othIsWrapped = othIsObj && hasOwnProperty.call(other, "__wrapped__");
              if (objIsWrapped || othIsWrapped) {
                var objUnwrapped = objIsWrapped ? object.value() : object, othUnwrapped = othIsWrapped ? other.value() : other;
                stack || (stack = new Stack());
                return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);
              }
            }
            if (!isSameTag) {
              return false;
            }
            stack || (stack = new Stack());
            return equalObjects(object, other, bitmask, customizer, equalFunc, stack);
          }
          function baseIsMap(value) {
            return isObjectLike(value) && getTag(value) == mapTag;
          }
          function baseIsMatch(object, source, matchData, customizer) {
            var index = matchData.length, length = index, noCustomizer = !customizer;
            if (object == null) {
              return !length;
            }
            object = Object2(object);
            while (index--) {
              var data = matchData[index];
              if (noCustomizer && data[2] ? data[1] !== object[data[0]] : !(data[0] in object)) {
                return false;
              }
            }
            while (++index < length) {
              data = matchData[index];
              var key = data[0], objValue = object[key], srcValue = data[1];
              if (noCustomizer && data[2]) {
                if (objValue === undefined2 && !(key in object)) {
                  return false;
                }
              } else {
                var stack = new Stack();
                if (customizer) {
                  var result2 = customizer(objValue, srcValue, key, object, source, stack);
                }
                if (!(result2 === undefined2 ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack) : result2)) {
                  return false;
                }
              }
            }
            return true;
          }
          function baseIsNative(value) {
            if (!isObject(value) || isMasked(value)) {
              return false;
            }
            var pattern = isFunction(value) ? reIsNative : reIsHostCtor;
            return pattern.test(toSource(value));
          }
          function baseIsRegExp(value) {
            return isObjectLike(value) && baseGetTag(value) == regexpTag;
          }
          function baseIsSet(value) {
            return isObjectLike(value) && getTag(value) == setTag;
          }
          function baseIsTypedArray(value) {
            return isObjectLike(value) && isLength(value.length) && !!typedArrayTags[baseGetTag(value)];
          }
          function baseIteratee(value) {
            if (typeof value == "function") {
              return value;
            }
            if (value == null) {
              return identity;
            }
            if (typeof value == "object") {
              return isArray(value) ? baseMatchesProperty(value[0], value[1]) : baseMatches(value);
            }
            return property(value);
          }
          function baseKeys(object) {
            if (!isPrototype(object)) {
              return nativeKeys(object);
            }
            var result2 = [];
            for (var key in Object2(object)) {
              if (hasOwnProperty.call(object, key) && key != "constructor") {
                result2.push(key);
              }
            }
            return result2;
          }
          function baseKeysIn(object) {
            if (!isObject(object)) {
              return nativeKeysIn(object);
            }
            var isProto = isPrototype(object), result2 = [];
            for (var key in object) {
              if (!(key == "constructor" && (isProto || !hasOwnProperty.call(object, key)))) {
                result2.push(key);
              }
            }
            return result2;
          }
          function baseLt(value, other) {
            return value < other;
          }
          function baseMap(collection, iteratee2) {
            var index = -1, result2 = isArrayLike(collection) ? Array2(collection.length) : [];
            baseEach(collection, function(value, key, collection2) {
              result2[++index] = iteratee2(value, key, collection2);
            });
            return result2;
          }
          function baseMatches(source) {
            var matchData = getMatchData(source);
            if (matchData.length == 1 && matchData[0][2]) {
              return matchesStrictComparable(matchData[0][0], matchData[0][1]);
            }
            return function(object) {
              return object === source || baseIsMatch(object, source, matchData);
            };
          }
          function baseMatchesProperty(path, srcValue) {
            if (isKey(path) && isStrictComparable(srcValue)) {
              return matchesStrictComparable(toKey(path), srcValue);
            }
            return function(object) {
              var objValue = get(object, path);
              return objValue === undefined2 && objValue === srcValue ? hasIn(object, path) : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);
            };
          }
          function baseMerge(object, source, srcIndex, customizer, stack) {
            if (object === source) {
              return;
            }
            baseFor(source, function(srcValue, key) {
              stack || (stack = new Stack());
              if (isObject(srcValue)) {
                baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);
              } else {
                var newValue = customizer ? customizer(safeGet(object, key), srcValue, key + "", object, source, stack) : undefined2;
                if (newValue === undefined2) {
                  newValue = srcValue;
                }
                assignMergeValue(object, key, newValue);
              }
            }, keysIn);
          }
          function baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {
            var objValue = safeGet(object, key), srcValue = safeGet(source, key), stacked = stack.get(srcValue);
            if (stacked) {
              assignMergeValue(object, key, stacked);
              return;
            }
            var newValue = customizer ? customizer(objValue, srcValue, key + "", object, source, stack) : undefined2;
            var isCommon = newValue === undefined2;
            if (isCommon) {
              var isArr = isArray(srcValue), isBuff = !isArr && isBuffer(srcValue), isTyped = !isArr && !isBuff && isTypedArray(srcValue);
              newValue = srcValue;
              if (isArr || isBuff || isTyped) {
                if (isArray(objValue)) {
                  newValue = objValue;
                } else if (isArrayLikeObject(objValue)) {
                  newValue = copyArray(objValue);
                } else if (isBuff) {
                  isCommon = false;
                  newValue = cloneBuffer(srcValue, true);
                } else if (isTyped) {
                  isCommon = false;
                  newValue = cloneTypedArray(srcValue, true);
                } else {
                  newValue = [];
                }
              } else if (isPlainObject(srcValue) || isArguments(srcValue)) {
                newValue = objValue;
                if (isArguments(objValue)) {
                  newValue = toPlainObject(objValue);
                } else if (!isObject(objValue) || isFunction(objValue)) {
                  newValue = initCloneObject(srcValue);
                }
              } else {
                isCommon = false;
              }
            }
            if (isCommon) {
              stack.set(srcValue, newValue);
              mergeFunc(newValue, srcValue, srcIndex, customizer, stack);
              stack["delete"](srcValue);
            }
            assignMergeValue(object, key, newValue);
          }
          function baseNth(array, n) {
            var length = array.length;
            if (!length) {
              return;
            }
            n += n < 0 ? length : 0;
            return isIndex(n, length) ? array[n] : undefined2;
          }
          function baseOrderBy(collection, iteratees, orders) {
            if (iteratees.length) {
              iteratees = arrayMap(iteratees, function(iteratee2) {
                if (isArray(iteratee2)) {
                  return function(value) {
                    return baseGet(value, iteratee2.length === 1 ? iteratee2[0] : iteratee2);
                  };
                }
                return iteratee2;
              });
            } else {
              iteratees = [identity];
            }
            var index = -1;
            iteratees = arrayMap(iteratees, baseUnary(getIteratee()));
            var result2 = baseMap(collection, function(value, key, collection2) {
              var criteria = arrayMap(iteratees, function(iteratee2) {
                return iteratee2(value);
              });
              return {"criteria": criteria, "index": ++index, "value": value};
            });
            return baseSortBy(result2, function(object, other) {
              return compareMultiple(object, other, orders);
            });
          }
          function basePick(object, paths) {
            return basePickBy(object, paths, function(value, path) {
              return hasIn(object, path);
            });
          }
          function basePickBy(object, paths, predicate) {
            var index = -1, length = paths.length, result2 = {};
            while (++index < length) {
              var path = paths[index], value = baseGet(object, path);
              if (predicate(value, path)) {
                baseSet(result2, castPath(path, object), value);
              }
            }
            return result2;
          }
          function basePropertyDeep(path) {
            return function(object) {
              return baseGet(object, path);
            };
          }
          function basePullAll(array, values2, iteratee2, comparator) {
            var indexOf2 = comparator ? baseIndexOfWith : baseIndexOf, index = -1, length = values2.length, seen = array;
            if (array === values2) {
              values2 = copyArray(values2);
            }
            if (iteratee2) {
              seen = arrayMap(array, baseUnary(iteratee2));
            }
            while (++index < length) {
              var fromIndex = 0, value = values2[index], computed = iteratee2 ? iteratee2(value) : value;
              while ((fromIndex = indexOf2(seen, computed, fromIndex, comparator)) > -1) {
                if (seen !== array) {
                  splice.call(seen, fromIndex, 1);
                }
                splice.call(array, fromIndex, 1);
              }
            }
            return array;
          }
          function basePullAt(array, indexes) {
            var length = array ? indexes.length : 0, lastIndex = length - 1;
            while (length--) {
              var index = indexes[length];
              if (length == lastIndex || index !== previous) {
                var previous = index;
                if (isIndex(index)) {
                  splice.call(array, index, 1);
                } else {
                  baseUnset(array, index);
                }
              }
            }
            return array;
          }
          function baseRandom(lower, upper) {
            return lower + nativeFloor(nativeRandom() * (upper - lower + 1));
          }
          function baseRange(start, end, step, fromRight) {
            var index = -1, length = nativeMax(nativeCeil((end - start) / (step || 1)), 0), result2 = Array2(length);
            while (length--) {
              result2[fromRight ? length : ++index] = start;
              start += step;
            }
            return result2;
          }
          function baseRepeat(string, n) {
            var result2 = "";
            if (!string || n < 1 || n > MAX_SAFE_INTEGER) {
              return result2;
            }
            do {
              if (n % 2) {
                result2 += string;
              }
              n = nativeFloor(n / 2);
              if (n) {
                string += string;
              }
            } while (n);
            return result2;
          }
          function baseRest(func, start) {
            return setToString(overRest(func, start, identity), func + "");
          }
          function baseSample(collection) {
            return arraySample(values(collection));
          }
          function baseSampleSize(collection, n) {
            var array = values(collection);
            return shuffleSelf(array, baseClamp(n, 0, array.length));
          }
          function baseSet(object, path, value, customizer) {
            if (!isObject(object)) {
              return object;
            }
            path = castPath(path, object);
            var index = -1, length = path.length, lastIndex = length - 1, nested = object;
            while (nested != null && ++index < length) {
              var key = toKey(path[index]), newValue = value;
              if (key === "__proto__" || key === "constructor" || key === "prototype") {
                return object;
              }
              if (index != lastIndex) {
                var objValue = nested[key];
                newValue = customizer ? customizer(objValue, key, nested) : undefined2;
                if (newValue === undefined2) {
                  newValue = isObject(objValue) ? objValue : isIndex(path[index + 1]) ? [] : {};
                }
              }
              assignValue(nested, key, newValue);
              nested = nested[key];
            }
            return object;
          }
          var baseSetData = !metaMap ? identity : function(func, data) {
            metaMap.set(func, data);
            return func;
          };
          var baseSetToString = !defineProperty ? identity : function(func, string) {
            return defineProperty(func, "toString", {
              "configurable": true,
              "enumerable": false,
              "value": constant(string),
              "writable": true
            });
          };
          function baseShuffle(collection) {
            return shuffleSelf(values(collection));
          }
          function baseSlice(array, start, end) {
            var index = -1, length = array.length;
            if (start < 0) {
              start = -start > length ? 0 : length + start;
            }
            end = end > length ? length : end;
            if (end < 0) {
              end += length;
            }
            length = start > end ? 0 : end - start >>> 0;
            start >>>= 0;
            var result2 = Array2(length);
            while (++index < length) {
              result2[index] = array[index + start];
            }
            return result2;
          }
          function baseSome(collection, predicate) {
            var result2;
            baseEach(collection, function(value, index, collection2) {
              result2 = predicate(value, index, collection2);
              return !result2;
            });
            return !!result2;
          }
          function baseSortedIndex(array, value, retHighest) {
            var low = 0, high = array == null ? low : array.length;
            if (typeof value == "number" && value === value && high <= HALF_MAX_ARRAY_LENGTH) {
              while (low < high) {
                var mid = low + high >>> 1, computed = array[mid];
                if (computed !== null && !isSymbol(computed) && (retHighest ? computed <= value : computed < value)) {
                  low = mid + 1;
                } else {
                  high = mid;
                }
              }
              return high;
            }
            return baseSortedIndexBy(array, value, identity, retHighest);
          }
          function baseSortedIndexBy(array, value, iteratee2, retHighest) {
            var low = 0, high = array == null ? 0 : array.length;
            if (high === 0) {
              return 0;
            }
            value = iteratee2(value);
            var valIsNaN = value !== value, valIsNull = value === null, valIsSymbol = isSymbol(value), valIsUndefined = value === undefined2;
            while (low < high) {
              var mid = nativeFloor((low + high) / 2), computed = iteratee2(array[mid]), othIsDefined = computed !== undefined2, othIsNull = computed === null, othIsReflexive = computed === computed, othIsSymbol = isSymbol(computed);
              if (valIsNaN) {
                var setLow = retHighest || othIsReflexive;
              } else if (valIsUndefined) {
                setLow = othIsReflexive && (retHighest || othIsDefined);
              } else if (valIsNull) {
                setLow = othIsReflexive && othIsDefined && (retHighest || !othIsNull);
              } else if (valIsSymbol) {
                setLow = othIsReflexive && othIsDefined && !othIsNull && (retHighest || !othIsSymbol);
              } else if (othIsNull || othIsSymbol) {
                setLow = false;
              } else {
                setLow = retHighest ? computed <= value : computed < value;
              }
              if (setLow) {
                low = mid + 1;
              } else {
                high = mid;
              }
            }
            return nativeMin(high, MAX_ARRAY_INDEX);
          }
          function baseSortedUniq(array, iteratee2) {
            var index = -1, length = array.length, resIndex = 0, result2 = [];
            while (++index < length) {
              var value = array[index], computed = iteratee2 ? iteratee2(value) : value;
              if (!index || !eq(computed, seen)) {
                var seen = computed;
                result2[resIndex++] = value === 0 ? 0 : value;
              }
            }
            return result2;
          }
          function baseToNumber(value) {
            if (typeof value == "number") {
              return value;
            }
            if (isSymbol(value)) {
              return NAN;
            }
            return +value;
          }
          function baseToString(value) {
            if (typeof value == "string") {
              return value;
            }
            if (isArray(value)) {
              return arrayMap(value, baseToString) + "";
            }
            if (isSymbol(value)) {
              return symbolToString ? symbolToString.call(value) : "";
            }
            var result2 = value + "";
            return result2 == "0" && 1 / value == -INFINITY ? "-0" : result2;
          }
          function baseUniq(array, iteratee2, comparator) {
            var index = -1, includes2 = arrayIncludes, length = array.length, isCommon = true, result2 = [], seen = result2;
            if (comparator) {
              isCommon = false;
              includes2 = arrayIncludesWith;
            } else if (length >= LARGE_ARRAY_SIZE) {
              var set2 = iteratee2 ? null : createSet(array);
              if (set2) {
                return setToArray(set2);
              }
              isCommon = false;
              includes2 = cacheHas;
              seen = new SetCache();
            } else {
              seen = iteratee2 ? [] : result2;
            }
            outer:
              while (++index < length) {
                var value = array[index], computed = iteratee2 ? iteratee2(value) : value;
                value = comparator || value !== 0 ? value : 0;
                if (isCommon && computed === computed) {
                  var seenIndex = seen.length;
                  while (seenIndex--) {
                    if (seen[seenIndex] === computed) {
                      continue outer;
                    }
                  }
                  if (iteratee2) {
                    seen.push(computed);
                  }
                  result2.push(value);
                } else if (!includes2(seen, computed, comparator)) {
                  if (seen !== result2) {
                    seen.push(computed);
                  }
                  result2.push(value);
                }
              }
            return result2;
          }
          function baseUnset(object, path) {
            path = castPath(path, object);
            object = parent(object, path);
            return object == null || delete object[toKey(last(path))];
          }
          function baseUpdate(object, path, updater, customizer) {
            return baseSet(object, path, updater(baseGet(object, path)), customizer);
          }
          function baseWhile(array, predicate, isDrop, fromRight) {
            var length = array.length, index = fromRight ? length : -1;
            while ((fromRight ? index-- : ++index < length) && predicate(array[index], index, array)) {
            }
            return isDrop ? baseSlice(array, fromRight ? 0 : index, fromRight ? index + 1 : length) : baseSlice(array, fromRight ? index + 1 : 0, fromRight ? length : index);
          }
          function baseWrapperValue(value, actions) {
            var result2 = value;
            if (result2 instanceof LazyWrapper) {
              result2 = result2.value();
            }
            return arrayReduce(actions, function(result3, action) {
              return action.func.apply(action.thisArg, arrayPush([result3], action.args));
            }, result2);
          }
          function baseXor(arrays, iteratee2, comparator) {
            var length = arrays.length;
            if (length < 2) {
              return length ? baseUniq(arrays[0]) : [];
            }
            var index = -1, result2 = Array2(length);
            while (++index < length) {
              var array = arrays[index], othIndex = -1;
              while (++othIndex < length) {
                if (othIndex != index) {
                  result2[index] = baseDifference(result2[index] || array, arrays[othIndex], iteratee2, comparator);
                }
              }
            }
            return baseUniq(baseFlatten(result2, 1), iteratee2, comparator);
          }
          function baseZipObject(props, values2, assignFunc) {
            var index = -1, length = props.length, valsLength = values2.length, result2 = {};
            while (++index < length) {
              var value = index < valsLength ? values2[index] : undefined2;
              assignFunc(result2, props[index], value);
            }
            return result2;
          }
          function castArrayLikeObject(value) {
            return isArrayLikeObject(value) ? value : [];
          }
          function castFunction(value) {
            return typeof value == "function" ? value : identity;
          }
          function castPath(value, object) {
            if (isArray(value)) {
              return value;
            }
            return isKey(value, object) ? [value] : stringToPath(toString(value));
          }
          var castRest = baseRest;
          function castSlice(array, start, end) {
            var length = array.length;
            end = end === undefined2 ? length : end;
            return !start && end >= length ? array : baseSlice(array, start, end);
          }
          var clearTimeout2 = ctxClearTimeout || function(id) {
            return root.clearTimeout(id);
          };
          function cloneBuffer(buffer, isDeep) {
            if (isDeep) {
              return buffer.slice();
            }
            var length = buffer.length, result2 = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);
            buffer.copy(result2);
            return result2;
          }
          function cloneArrayBuffer(arrayBuffer) {
            var result2 = new arrayBuffer.constructor(arrayBuffer.byteLength);
            new Uint8Array2(result2).set(new Uint8Array2(arrayBuffer));
            return result2;
          }
          function cloneDataView(dataView, isDeep) {
            var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;
            return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);
          }
          function cloneRegExp(regexp) {
            var result2 = new regexp.constructor(regexp.source, reFlags.exec(regexp));
            result2.lastIndex = regexp.lastIndex;
            return result2;
          }
          function cloneSymbol(symbol) {
            return symbolValueOf ? Object2(symbolValueOf.call(symbol)) : {};
          }
          function cloneTypedArray(typedArray, isDeep) {
            var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;
            return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);
          }
          function compareAscending(value, other) {
            if (value !== other) {
              var valIsDefined = value !== undefined2, valIsNull = value === null, valIsReflexive = value === value, valIsSymbol = isSymbol(value);
              var othIsDefined = other !== undefined2, othIsNull = other === null, othIsReflexive = other === other, othIsSymbol = isSymbol(other);
              if (!othIsNull && !othIsSymbol && !valIsSymbol && value > other || valIsSymbol && othIsDefined && othIsReflexive && !othIsNull && !othIsSymbol || valIsNull && othIsDefined && othIsReflexive || !valIsDefined && othIsReflexive || !valIsReflexive) {
                return 1;
              }
              if (!valIsNull && !valIsSymbol && !othIsSymbol && value < other || othIsSymbol && valIsDefined && valIsReflexive && !valIsNull && !valIsSymbol || othIsNull && valIsDefined && valIsReflexive || !othIsDefined && valIsReflexive || !othIsReflexive) {
                return -1;
              }
            }
            return 0;
          }
          function compareMultiple(object, other, orders) {
            var index = -1, objCriteria = object.criteria, othCriteria = other.criteria, length = objCriteria.length, ordersLength = orders.length;
            while (++index < length) {
              var result2 = compareAscending(objCriteria[index], othCriteria[index]);
              if (result2) {
                if (index >= ordersLength) {
                  return result2;
                }
                var order = orders[index];
                return result2 * (order == "desc" ? -1 : 1);
              }
            }
            return object.index - other.index;
          }
          function composeArgs(args, partials, holders, isCurried) {
            var argsIndex = -1, argsLength = args.length, holdersLength = holders.length, leftIndex = -1, leftLength = partials.length, rangeLength = nativeMax(argsLength - holdersLength, 0), result2 = Array2(leftLength + rangeLength), isUncurried = !isCurried;
            while (++leftIndex < leftLength) {
              result2[leftIndex] = partials[leftIndex];
            }
            while (++argsIndex < holdersLength) {
              if (isUncurried || argsIndex < argsLength) {
                result2[holders[argsIndex]] = args[argsIndex];
              }
            }
            while (rangeLength--) {
              result2[leftIndex++] = args[argsIndex++];
            }
            return result2;
          }
          function composeArgsRight(args, partials, holders, isCurried) {
            var argsIndex = -1, argsLength = args.length, holdersIndex = -1, holdersLength = holders.length, rightIndex = -1, rightLength = partials.length, rangeLength = nativeMax(argsLength - holdersLength, 0), result2 = Array2(rangeLength + rightLength), isUncurried = !isCurried;
            while (++argsIndex < rangeLength) {
              result2[argsIndex] = args[argsIndex];
            }
            var offset = argsIndex;
            while (++rightIndex < rightLength) {
              result2[offset + rightIndex] = partials[rightIndex];
            }
            while (++holdersIndex < holdersLength) {
              if (isUncurried || argsIndex < argsLength) {
                result2[offset + holders[holdersIndex]] = args[argsIndex++];
              }
            }
            return result2;
          }
          function copyArray(source, array) {
            var index = -1, length = source.length;
            array || (array = Array2(length));
            while (++index < length) {
              array[index] = source[index];
            }
            return array;
          }
          function copyObject(source, props, object, customizer) {
            var isNew = !object;
            object || (object = {});
            var index = -1, length = props.length;
            while (++index < length) {
              var key = props[index];
              var newValue = customizer ? customizer(object[key], source[key], key, object, source) : undefined2;
              if (newValue === undefined2) {
                newValue = source[key];
              }
              if (isNew) {
                baseAssignValue(object, key, newValue);
              } else {
                assignValue(object, key, newValue);
              }
            }
            return object;
          }
          function copySymbols(source, object) {
            return copyObject(source, getSymbols(source), object);
          }
          function copySymbolsIn(source, object) {
            return copyObject(source, getSymbolsIn(source), object);
          }
          function createAggregator(setter, initializer) {
            return function(collection, iteratee2) {
              var func = isArray(collection) ? arrayAggregator : baseAggregator, accumulator = initializer ? initializer() : {};
              return func(collection, setter, getIteratee(iteratee2, 2), accumulator);
            };
          }
          function createAssigner(assigner) {
            return baseRest(function(object, sources) {
              var index = -1, length = sources.length, customizer = length > 1 ? sources[length - 1] : undefined2, guard = length > 2 ? sources[2] : undefined2;
              customizer = assigner.length > 3 && typeof customizer == "function" ? (length--, customizer) : undefined2;
              if (guard && isIterateeCall(sources[0], sources[1], guard)) {
                customizer = length < 3 ? undefined2 : customizer;
                length = 1;
              }
              object = Object2(object);
              while (++index < length) {
                var source = sources[index];
                if (source) {
                  assigner(object, source, index, customizer);
                }
              }
              return object;
            });
          }
          function createBaseEach(eachFunc, fromRight) {
            return function(collection, iteratee2) {
              if (collection == null) {
                return collection;
              }
              if (!isArrayLike(collection)) {
                return eachFunc(collection, iteratee2);
              }
              var length = collection.length, index = fromRight ? length : -1, iterable = Object2(collection);
              while (fromRight ? index-- : ++index < length) {
                if (iteratee2(iterable[index], index, iterable) === false) {
                  break;
                }
              }
              return collection;
            };
          }
          function createBaseFor(fromRight) {
            return function(object, iteratee2, keysFunc) {
              var index = -1, iterable = Object2(object), props = keysFunc(object), length = props.length;
              while (length--) {
                var key = props[fromRight ? length : ++index];
                if (iteratee2(iterable[key], key, iterable) === false) {
                  break;
                }
              }
              return object;
            };
          }
          function createBind(func, bitmask, thisArg) {
            var isBind = bitmask & WRAP_BIND_FLAG, Ctor = createCtor(func);
            function wrapper() {
              var fn = this && this !== root && this instanceof wrapper ? Ctor : func;
              return fn.apply(isBind ? thisArg : this, arguments);
            }
            return wrapper;
          }
          function createCaseFirst(methodName) {
            return function(string) {
              string = toString(string);
              var strSymbols = hasUnicode(string) ? stringToArray(string) : undefined2;
              var chr = strSymbols ? strSymbols[0] : string.charAt(0);
              var trailing = strSymbols ? castSlice(strSymbols, 1).join("") : string.slice(1);
              return chr[methodName]() + trailing;
            };
          }
          function createCompounder(callback) {
            return function(string) {
              return arrayReduce(words(deburr(string).replace(reApos, "")), callback, "");
            };
          }
          function createCtor(Ctor) {
            return function() {
              var args = arguments;
              switch (args.length) {
                case 0:
                  return new Ctor();
                case 1:
                  return new Ctor(args[0]);
                case 2:
                  return new Ctor(args[0], args[1]);
                case 3:
                  return new Ctor(args[0], args[1], args[2]);
                case 4:
                  return new Ctor(args[0], args[1], args[2], args[3]);
                case 5:
                  return new Ctor(args[0], args[1], args[2], args[3], args[4]);
                case 6:
                  return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5]);
                case 7:
                  return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5], args[6]);
              }
              var thisBinding = baseCreate(Ctor.prototype), result2 = Ctor.apply(thisBinding, args);
              return isObject(result2) ? result2 : thisBinding;
            };
          }
          function createCurry(func, bitmask, arity) {
            var Ctor = createCtor(func);
            function wrapper() {
              var length = arguments.length, args = Array2(length), index = length, placeholder = getHolder(wrapper);
              while (index--) {
                args[index] = arguments[index];
              }
              var holders = length < 3 && args[0] !== placeholder && args[length - 1] !== placeholder ? [] : replaceHolders(args, placeholder);
              length -= holders.length;
              if (length < arity) {
                return createRecurry(func, bitmask, createHybrid, wrapper.placeholder, undefined2, args, holders, undefined2, undefined2, arity - length);
              }
              var fn = this && this !== root && this instanceof wrapper ? Ctor : func;
              return apply(fn, this, args);
            }
            return wrapper;
          }
          function createFind(findIndexFunc) {
            return function(collection, predicate, fromIndex) {
              var iterable = Object2(collection);
              if (!isArrayLike(collection)) {
                var iteratee2 = getIteratee(predicate, 3);
                collection = keys(collection);
                predicate = function(key) {
                  return iteratee2(iterable[key], key, iterable);
                };
              }
              var index = findIndexFunc(collection, predicate, fromIndex);
              return index > -1 ? iterable[iteratee2 ? collection[index] : index] : undefined2;
            };
          }
          function createFlow(fromRight) {
            return flatRest(function(funcs) {
              var length = funcs.length, index = length, prereq = LodashWrapper.prototype.thru;
              if (fromRight) {
                funcs.reverse();
              }
              while (index--) {
                var func = funcs[index];
                if (typeof func != "function") {
                  throw new TypeError2(FUNC_ERROR_TEXT);
                }
                if (prereq && !wrapper && getFuncName(func) == "wrapper") {
                  var wrapper = new LodashWrapper([], true);
                }
              }
              index = wrapper ? index : length;
              while (++index < length) {
                func = funcs[index];
                var funcName = getFuncName(func), data = funcName == "wrapper" ? getData(func) : undefined2;
                if (data && isLaziable(data[0]) && data[1] == (WRAP_ARY_FLAG | WRAP_CURRY_FLAG | WRAP_PARTIAL_FLAG | WRAP_REARG_FLAG) && !data[4].length && data[9] == 1) {
                  wrapper = wrapper[getFuncName(data[0])].apply(wrapper, data[3]);
                } else {
                  wrapper = func.length == 1 && isLaziable(func) ? wrapper[funcName]() : wrapper.thru(func);
                }
              }
              return function() {
                var args = arguments, value = args[0];
                if (wrapper && args.length == 1 && isArray(value)) {
                  return wrapper.plant(value).value();
                }
                var index2 = 0, result2 = length ? funcs[index2].apply(this, args) : value;
                while (++index2 < length) {
                  result2 = funcs[index2].call(this, result2);
                }
                return result2;
              };
            });
          }
          function createHybrid(func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary2, arity) {
            var isAry = bitmask & WRAP_ARY_FLAG, isBind = bitmask & WRAP_BIND_FLAG, isBindKey = bitmask & WRAP_BIND_KEY_FLAG, isCurried = bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG), isFlip = bitmask & WRAP_FLIP_FLAG, Ctor = isBindKey ? undefined2 : createCtor(func);
            function wrapper() {
              var length = arguments.length, args = Array2(length), index = length;
              while (index--) {
                args[index] = arguments[index];
              }
              if (isCurried) {
                var placeholder = getHolder(wrapper), holdersCount = countHolders(args, placeholder);
              }
              if (partials) {
                args = composeArgs(args, partials, holders, isCurried);
              }
              if (partialsRight) {
                args = composeArgsRight(args, partialsRight, holdersRight, isCurried);
              }
              length -= holdersCount;
              if (isCurried && length < arity) {
                var newHolders = replaceHolders(args, placeholder);
                return createRecurry(func, bitmask, createHybrid, wrapper.placeholder, thisArg, args, newHolders, argPos, ary2, arity - length);
              }
              var thisBinding = isBind ? thisArg : this, fn = isBindKey ? thisBinding[func] : func;
              length = args.length;
              if (argPos) {
                args = reorder(args, argPos);
              } else if (isFlip && length > 1) {
                args.reverse();
              }
              if (isAry && ary2 < length) {
                args.length = ary2;
              }
              if (this && this !== root && this instanceof wrapper) {
                fn = Ctor || createCtor(fn);
              }
              return fn.apply(thisBinding, args);
            }
            return wrapper;
          }
          function createInverter(setter, toIteratee) {
            return function(object, iteratee2) {
              return baseInverter(object, setter, toIteratee(iteratee2), {});
            };
          }
          function createMathOperation(operator, defaultValue) {
            return function(value, other) {
              var result2;
              if (value === undefined2 && other === undefined2) {
                return defaultValue;
              }
              if (value !== undefined2) {
                result2 = value;
              }
              if (other !== undefined2) {
                if (result2 === undefined2) {
                  return other;
                }
                if (typeof value == "string" || typeof other == "string") {
                  value = baseToString(value);
                  other = baseToString(other);
                } else {
                  value = baseToNumber(value);
                  other = baseToNumber(other);
                }
                result2 = operator(value, other);
              }
              return result2;
            };
          }
          function createOver(arrayFunc) {
            return flatRest(function(iteratees) {
              iteratees = arrayMap(iteratees, baseUnary(getIteratee()));
              return baseRest(function(args) {
                var thisArg = this;
                return arrayFunc(iteratees, function(iteratee2) {
                  return apply(iteratee2, thisArg, args);
                });
              });
            });
          }
          function createPadding(length, chars) {
            chars = chars === undefined2 ? " " : baseToString(chars);
            var charsLength = chars.length;
            if (charsLength < 2) {
              return charsLength ? baseRepeat(chars, length) : chars;
            }
            var result2 = baseRepeat(chars, nativeCeil(length / stringSize(chars)));
            return hasUnicode(chars) ? castSlice(stringToArray(result2), 0, length).join("") : result2.slice(0, length);
          }
          function createPartial(func, bitmask, thisArg, partials) {
            var isBind = bitmask & WRAP_BIND_FLAG, Ctor = createCtor(func);
            function wrapper() {
              var argsIndex = -1, argsLength = arguments.length, leftIndex = -1, leftLength = partials.length, args = Array2(leftLength + argsLength), fn = this && this !== root && this instanceof wrapper ? Ctor : func;
              while (++leftIndex < leftLength) {
                args[leftIndex] = partials[leftIndex];
              }
              while (argsLength--) {
                args[leftIndex++] = arguments[++argsIndex];
              }
              return apply(fn, isBind ? thisArg : this, args);
            }
            return wrapper;
          }
          function createRange(fromRight) {
            return function(start, end, step) {
              if (step && typeof step != "number" && isIterateeCall(start, end, step)) {
                end = step = undefined2;
              }
              start = toFinite(start);
              if (end === undefined2) {
                end = start;
                start = 0;
              } else {
                end = toFinite(end);
              }
              step = step === undefined2 ? start < end ? 1 : -1 : toFinite(step);
              return baseRange(start, end, step, fromRight);
            };
          }
          function createRelationalOperation(operator) {
            return function(value, other) {
              if (!(typeof value == "string" && typeof other == "string")) {
                value = toNumber(value);
                other = toNumber(other);
              }
              return operator(value, other);
            };
          }
          function createRecurry(func, bitmask, wrapFunc, placeholder, thisArg, partials, holders, argPos, ary2, arity) {
            var isCurry = bitmask & WRAP_CURRY_FLAG, newHolders = isCurry ? holders : undefined2, newHoldersRight = isCurry ? undefined2 : holders, newPartials = isCurry ? partials : undefined2, newPartialsRight = isCurry ? undefined2 : partials;
            bitmask |= isCurry ? WRAP_PARTIAL_FLAG : WRAP_PARTIAL_RIGHT_FLAG;
            bitmask &= ~(isCurry ? WRAP_PARTIAL_RIGHT_FLAG : WRAP_PARTIAL_FLAG);
            if (!(bitmask & WRAP_CURRY_BOUND_FLAG)) {
              bitmask &= ~(WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG);
            }
            var newData = [
              func,
              bitmask,
              thisArg,
              newPartials,
              newHolders,
              newPartialsRight,
              newHoldersRight,
              argPos,
              ary2,
              arity
            ];
            var result2 = wrapFunc.apply(undefined2, newData);
            if (isLaziable(func)) {
              setData(result2, newData);
            }
            result2.placeholder = placeholder;
            return setWrapToString(result2, func, bitmask);
          }
          function createRound(methodName) {
            var func = Math2[methodName];
            return function(number, precision) {
              number = toNumber(number);
              precision = precision == null ? 0 : nativeMin(toInteger(precision), 292);
              if (precision && nativeIsFinite(number)) {
                var pair = (toString(number) + "e").split("e"), value = func(pair[0] + "e" + (+pair[1] + precision));
                pair = (toString(value) + "e").split("e");
                return +(pair[0] + "e" + (+pair[1] - precision));
              }
              return func(number);
            };
          }
          var createSet = !(Set && 1 / setToArray(new Set([, -0]))[1] == INFINITY) ? noop : function(values2) {
            return new Set(values2);
          };
          function createToPairs(keysFunc) {
            return function(object) {
              var tag3 = getTag(object);
              if (tag3 == mapTag) {
                return mapToArray(object);
              }
              if (tag3 == setTag) {
                return setToPairs(object);
              }
              return baseToPairs(object, keysFunc(object));
            };
          }
          function createWrap(func, bitmask, thisArg, partials, holders, argPos, ary2, arity) {
            var isBindKey = bitmask & WRAP_BIND_KEY_FLAG;
            if (!isBindKey && typeof func != "function") {
              throw new TypeError2(FUNC_ERROR_TEXT);
            }
            var length = partials ? partials.length : 0;
            if (!length) {
              bitmask &= ~(WRAP_PARTIAL_FLAG | WRAP_PARTIAL_RIGHT_FLAG);
              partials = holders = undefined2;
            }
            ary2 = ary2 === undefined2 ? ary2 : nativeMax(toInteger(ary2), 0);
            arity = arity === undefined2 ? arity : toInteger(arity);
            length -= holders ? holders.length : 0;
            if (bitmask & WRAP_PARTIAL_RIGHT_FLAG) {
              var partialsRight = partials, holdersRight = holders;
              partials = holders = undefined2;
            }
            var data = isBindKey ? undefined2 : getData(func);
            var newData = [
              func,
              bitmask,
              thisArg,
              partials,
              holders,
              partialsRight,
              holdersRight,
              argPos,
              ary2,
              arity
            ];
            if (data) {
              mergeData(newData, data);
            }
            func = newData[0];
            bitmask = newData[1];
            thisArg = newData[2];
            partials = newData[3];
            holders = newData[4];
            arity = newData[9] = newData[9] === undefined2 ? isBindKey ? 0 : func.length : nativeMax(newData[9] - length, 0);
            if (!arity && bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG)) {
              bitmask &= ~(WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG);
            }
            if (!bitmask || bitmask == WRAP_BIND_FLAG) {
              var result2 = createBind(func, bitmask, thisArg);
            } else if (bitmask == WRAP_CURRY_FLAG || bitmask == WRAP_CURRY_RIGHT_FLAG) {
              result2 = createCurry(func, bitmask, arity);
            } else if ((bitmask == WRAP_PARTIAL_FLAG || bitmask == (WRAP_BIND_FLAG | WRAP_PARTIAL_FLAG)) && !holders.length) {
              result2 = createPartial(func, bitmask, thisArg, partials);
            } else {
              result2 = createHybrid.apply(undefined2, newData);
            }
            var setter = data ? baseSetData : setData;
            return setWrapToString(setter(result2, newData), func, bitmask);
          }
          function customDefaultsAssignIn(objValue, srcValue, key, object) {
            if (objValue === undefined2 || eq(objValue, objectProto[key]) && !hasOwnProperty.call(object, key)) {
              return srcValue;
            }
            return objValue;
          }
          function customDefaultsMerge(objValue, srcValue, key, object, source, stack) {
            if (isObject(objValue) && isObject(srcValue)) {
              stack.set(srcValue, objValue);
              baseMerge(objValue, srcValue, undefined2, customDefaultsMerge, stack);
              stack["delete"](srcValue);
            }
            return objValue;
          }
          function customOmitClone(value) {
            return isPlainObject(value) ? undefined2 : value;
          }
          function equalArrays(array, other, bitmask, customizer, equalFunc, stack) {
            var isPartial = bitmask & COMPARE_PARTIAL_FLAG, arrLength = array.length, othLength = other.length;
            if (arrLength != othLength && !(isPartial && othLength > arrLength)) {
              return false;
            }
            var arrStacked = stack.get(array);
            var othStacked = stack.get(other);
            if (arrStacked && othStacked) {
              return arrStacked == other && othStacked == array;
            }
            var index = -1, result2 = true, seen = bitmask & COMPARE_UNORDERED_FLAG ? new SetCache() : undefined2;
            stack.set(array, other);
            stack.set(other, array);
            while (++index < arrLength) {
              var arrValue = array[index], othValue = other[index];
              if (customizer) {
                var compared = isPartial ? customizer(othValue, arrValue, index, other, array, stack) : customizer(arrValue, othValue, index, array, other, stack);
              }
              if (compared !== undefined2) {
                if (compared) {
                  continue;
                }
                result2 = false;
                break;
              }
              if (seen) {
                if (!arraySome(other, function(othValue2, othIndex) {
                  if (!cacheHas(seen, othIndex) && (arrValue === othValue2 || equalFunc(arrValue, othValue2, bitmask, customizer, stack))) {
                    return seen.push(othIndex);
                  }
                })) {
                  result2 = false;
                  break;
                }
              } else if (!(arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {
                result2 = false;
                break;
              }
            }
            stack["delete"](array);
            stack["delete"](other);
            return result2;
          }
          function equalByTag(object, other, tag3, bitmask, customizer, equalFunc, stack) {
            switch (tag3) {
              case dataViewTag:
                if (object.byteLength != other.byteLength || object.byteOffset != other.byteOffset) {
                  return false;
                }
                object = object.buffer;
                other = other.buffer;
              case arrayBufferTag:
                if (object.byteLength != other.byteLength || !equalFunc(new Uint8Array2(object), new Uint8Array2(other))) {
                  return false;
                }
                return true;
              case boolTag:
              case dateTag:
              case numberTag:
                return eq(+object, +other);
              case errorTag:
                return object.name == other.name && object.message == other.message;
              case regexpTag:
              case stringTag:
                return object == other + "";
              case mapTag:
                var convert = mapToArray;
              case setTag:
                var isPartial = bitmask & COMPARE_PARTIAL_FLAG;
                convert || (convert = setToArray);
                if (object.size != other.size && !isPartial) {
                  return false;
                }
                var stacked = stack.get(object);
                if (stacked) {
                  return stacked == other;
                }
                bitmask |= COMPARE_UNORDERED_FLAG;
                stack.set(object, other);
                var result2 = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);
                stack["delete"](object);
                return result2;
              case symbolTag:
                if (symbolValueOf) {
                  return symbolValueOf.call(object) == symbolValueOf.call(other);
                }
            }
            return false;
          }
          function equalObjects(object, other, bitmask, customizer, equalFunc, stack) {
            var isPartial = bitmask & COMPARE_PARTIAL_FLAG, objProps = getAllKeys(object), objLength = objProps.length, othProps = getAllKeys(other), othLength = othProps.length;
            if (objLength != othLength && !isPartial) {
              return false;
            }
            var index = objLength;
            while (index--) {
              var key = objProps[index];
              if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {
                return false;
              }
            }
            var objStacked = stack.get(object);
            var othStacked = stack.get(other);
            if (objStacked && othStacked) {
              return objStacked == other && othStacked == object;
            }
            var result2 = true;
            stack.set(object, other);
            stack.set(other, object);
            var skipCtor = isPartial;
            while (++index < objLength) {
              key = objProps[index];
              var objValue = object[key], othValue = other[key];
              if (customizer) {
                var compared = isPartial ? customizer(othValue, objValue, key, other, object, stack) : customizer(objValue, othValue, key, object, other, stack);
              }
              if (!(compared === undefined2 ? objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack) : compared)) {
                result2 = false;
                break;
              }
              skipCtor || (skipCtor = key == "constructor");
            }
            if (result2 && !skipCtor) {
              var objCtor = object.constructor, othCtor = other.constructor;
              if (objCtor != othCtor && ("constructor" in object && "constructor" in other) && !(typeof objCtor == "function" && objCtor instanceof objCtor && typeof othCtor == "function" && othCtor instanceof othCtor)) {
                result2 = false;
              }
            }
            stack["delete"](object);
            stack["delete"](other);
            return result2;
          }
          function flatRest(func) {
            return setToString(overRest(func, undefined2, flatten), func + "");
          }
          function getAllKeys(object) {
            return baseGetAllKeys(object, keys, getSymbols);
          }
          function getAllKeysIn(object) {
            return baseGetAllKeys(object, keysIn, getSymbolsIn);
          }
          var getData = !metaMap ? noop : function(func) {
            return metaMap.get(func);
          };
          function getFuncName(func) {
            var result2 = func.name + "", array = realNames[result2], length = hasOwnProperty.call(realNames, result2) ? array.length : 0;
            while (length--) {
              var data = array[length], otherFunc = data.func;
              if (otherFunc == null || otherFunc == func) {
                return data.name;
              }
            }
            return result2;
          }
          function getHolder(func) {
            var object = hasOwnProperty.call(lodash, "placeholder") ? lodash : func;
            return object.placeholder;
          }
          function getIteratee() {
            var result2 = lodash.iteratee || iteratee;
            result2 = result2 === iteratee ? baseIteratee : result2;
            return arguments.length ? result2(arguments[0], arguments[1]) : result2;
          }
          function getMapData(map2, key) {
            var data = map2.__data__;
            return isKeyable(key) ? data[typeof key == "string" ? "string" : "hash"] : data.map;
          }
          function getMatchData(object) {
            var result2 = keys(object), length = result2.length;
            while (length--) {
              var key = result2[length], value = object[key];
              result2[length] = [key, value, isStrictComparable(value)];
            }
            return result2;
          }
          function getNative(object, key) {
            var value = getValue(object, key);
            return baseIsNative(value) ? value : undefined2;
          }
          function getRawTag(value) {
            var isOwn = hasOwnProperty.call(value, symToStringTag), tag3 = value[symToStringTag];
            try {
              value[symToStringTag] = undefined2;
              var unmasked = true;
            } catch (e) {
            }
            var result2 = nativeObjectToString.call(value);
            if (unmasked) {
              if (isOwn) {
                value[symToStringTag] = tag3;
              } else {
                delete value[symToStringTag];
              }
            }
            return result2;
          }
          var getSymbols = !nativeGetSymbols ? stubArray : function(object) {
            if (object == null) {
              return [];
            }
            object = Object2(object);
            return arrayFilter(nativeGetSymbols(object), function(symbol) {
              return propertyIsEnumerable.call(object, symbol);
            });
          };
          var getSymbolsIn = !nativeGetSymbols ? stubArray : function(object) {
            var result2 = [];
            while (object) {
              arrayPush(result2, getSymbols(object));
              object = getPrototype(object);
            }
            return result2;
          };
          var getTag = baseGetTag;
          if (DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag || Map2 && getTag(new Map2()) != mapTag || Promise2 && getTag(Promise2.resolve()) != promiseTag || Set && getTag(new Set()) != setTag || WeakMap && getTag(new WeakMap()) != weakMapTag) {
            getTag = function(value) {
              var result2 = baseGetTag(value), Ctor = result2 == objectTag ? value.constructor : undefined2, ctorString = Ctor ? toSource(Ctor) : "";
              if (ctorString) {
                switch (ctorString) {
                  case dataViewCtorString:
                    return dataViewTag;
                  case mapCtorString:
                    return mapTag;
                  case promiseCtorString:
                    return promiseTag;
                  case setCtorString:
                    return setTag;
                  case weakMapCtorString:
                    return weakMapTag;
                }
              }
              return result2;
            };
          }
          function getView(start, end, transforms) {
            var index = -1, length = transforms.length;
            while (++index < length) {
              var data = transforms[index], size2 = data.size;
              switch (data.type) {
                case "drop":
                  start += size2;
                  break;
                case "dropRight":
                  end -= size2;
                  break;
                case "take":
                  end = nativeMin(end, start + size2);
                  break;
                case "takeRight":
                  start = nativeMax(start, end - size2);
                  break;
              }
            }
            return {"start": start, "end": end};
          }
          function getWrapDetails(source) {
            var match = source.match(reWrapDetails);
            return match ? match[1].split(reSplitDetails) : [];
          }
          function hasPath(object, path, hasFunc) {
            path = castPath(path, object);
            var index = -1, length = path.length, result2 = false;
            while (++index < length) {
              var key = toKey(path[index]);
              if (!(result2 = object != null && hasFunc(object, key))) {
                break;
              }
              object = object[key];
            }
            if (result2 || ++index != length) {
              return result2;
            }
            length = object == null ? 0 : object.length;
            return !!length && isLength(length) && isIndex(key, length) && (isArray(object) || isArguments(object));
          }
          function initCloneArray(array) {
            var length = array.length, result2 = new array.constructor(length);
            if (length && typeof array[0] == "string" && hasOwnProperty.call(array, "index")) {
              result2.index = array.index;
              result2.input = array.input;
            }
            return result2;
          }
          function initCloneObject(object) {
            return typeof object.constructor == "function" && !isPrototype(object) ? baseCreate(getPrototype(object)) : {};
          }
          function initCloneByTag(object, tag3, isDeep) {
            var Ctor = object.constructor;
            switch (tag3) {
              case arrayBufferTag:
                return cloneArrayBuffer(object);
              case boolTag:
              case dateTag:
                return new Ctor(+object);
              case dataViewTag:
                return cloneDataView(object, isDeep);
              case float32Tag:
              case float64Tag:
              case int8Tag:
              case int16Tag:
              case int32Tag:
              case uint8Tag:
              case uint8ClampedTag:
              case uint16Tag:
              case uint32Tag:
                return cloneTypedArray(object, isDeep);
              case mapTag:
                return new Ctor();
              case numberTag:
              case stringTag:
                return new Ctor(object);
              case regexpTag:
                return cloneRegExp(object);
              case setTag:
                return new Ctor();
              case symbolTag:
                return cloneSymbol(object);
            }
          }
          function insertWrapDetails(source, details) {
            var length = details.length;
            if (!length) {
              return source;
            }
            var lastIndex = length - 1;
            details[lastIndex] = (length > 1 ? "& " : "") + details[lastIndex];
            details = details.join(length > 2 ? ", " : " ");
            return source.replace(reWrapComment, "{\n/* [wrapped with " + details + "] */\n");
          }
          function isFlattenable(value) {
            return isArray(value) || isArguments(value) || !!(spreadableSymbol && value && value[spreadableSymbol]);
          }
          function isIndex(value, length) {
            var type = typeof value;
            length = length == null ? MAX_SAFE_INTEGER : length;
            return !!length && (type == "number" || type != "symbol" && reIsUint.test(value)) && (value > -1 && value % 1 == 0 && value < length);
          }
          function isIterateeCall(value, index, object) {
            if (!isObject(object)) {
              return false;
            }
            var type = typeof index;
            if (type == "number" ? isArrayLike(object) && isIndex(index, object.length) : type == "string" && index in object) {
              return eq(object[index], value);
            }
            return false;
          }
          function isKey(value, object) {
            if (isArray(value)) {
              return false;
            }
            var type = typeof value;
            if (type == "number" || type == "symbol" || type == "boolean" || value == null || isSymbol(value)) {
              return true;
            }
            return reIsPlainProp.test(value) || !reIsDeepProp.test(value) || object != null && value in Object2(object);
          }
          function isKeyable(value) {
            var type = typeof value;
            return type == "string" || type == "number" || type == "symbol" || type == "boolean" ? value !== "__proto__" : value === null;
          }
          function isLaziable(func) {
            var funcName = getFuncName(func), other = lodash[funcName];
            if (typeof other != "function" || !(funcName in LazyWrapper.prototype)) {
              return false;
            }
            if (func === other) {
              return true;
            }
            var data = getData(other);
            return !!data && func === data[0];
          }
          function isMasked(func) {
            return !!maskSrcKey && maskSrcKey in func;
          }
          var isMaskable = coreJsData ? isFunction : stubFalse;
          function isPrototype(value) {
            var Ctor = value && value.constructor, proto = typeof Ctor == "function" && Ctor.prototype || objectProto;
            return value === proto;
          }
          function isStrictComparable(value) {
            return value === value && !isObject(value);
          }
          function matchesStrictComparable(key, srcValue) {
            return function(object) {
              if (object == null) {
                return false;
              }
              return object[key] === srcValue && (srcValue !== undefined2 || key in Object2(object));
            };
          }
          function memoizeCapped(func) {
            var result2 = memoize(func, function(key) {
              if (cache.size === MAX_MEMOIZE_SIZE) {
                cache.clear();
              }
              return key;
            });
            var cache = result2.cache;
            return result2;
          }
          function mergeData(data, source) {
            var bitmask = data[1], srcBitmask = source[1], newBitmask = bitmask | srcBitmask, isCommon = newBitmask < (WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG | WRAP_ARY_FLAG);
            var isCombo = srcBitmask == WRAP_ARY_FLAG && bitmask == WRAP_CURRY_FLAG || srcBitmask == WRAP_ARY_FLAG && bitmask == WRAP_REARG_FLAG && data[7].length <= source[8] || srcBitmask == (WRAP_ARY_FLAG | WRAP_REARG_FLAG) && source[7].length <= source[8] && bitmask == WRAP_CURRY_FLAG;
            if (!(isCommon || isCombo)) {
              return data;
            }
            if (srcBitmask & WRAP_BIND_FLAG) {
              data[2] = source[2];
              newBitmask |= bitmask & WRAP_BIND_FLAG ? 0 : WRAP_CURRY_BOUND_FLAG;
            }
            var value = source[3];
            if (value) {
              var partials = data[3];
              data[3] = partials ? composeArgs(partials, value, source[4]) : value;
              data[4] = partials ? replaceHolders(data[3], PLACEHOLDER) : source[4];
            }
            value = source[5];
            if (value) {
              partials = data[5];
              data[5] = partials ? composeArgsRight(partials, value, source[6]) : value;
              data[6] = partials ? replaceHolders(data[5], PLACEHOLDER) : source[6];
            }
            value = source[7];
            if (value) {
              data[7] = value;
            }
            if (srcBitmask & WRAP_ARY_FLAG) {
              data[8] = data[8] == null ? source[8] : nativeMin(data[8], source[8]);
            }
            if (data[9] == null) {
              data[9] = source[9];
            }
            data[0] = source[0];
            data[1] = newBitmask;
            return data;
          }
          function nativeKeysIn(object) {
            var result2 = [];
            if (object != null) {
              for (var key in Object2(object)) {
                result2.push(key);
              }
            }
            return result2;
          }
          function objectToString(value) {
            return nativeObjectToString.call(value);
          }
          function overRest(func, start, transform2) {
            start = nativeMax(start === undefined2 ? func.length - 1 : start, 0);
            return function() {
              var args = arguments, index = -1, length = nativeMax(args.length - start, 0), array = Array2(length);
              while (++index < length) {
                array[index] = args[start + index];
              }
              index = -1;
              var otherArgs = Array2(start + 1);
              while (++index < start) {
                otherArgs[index] = args[index];
              }
              otherArgs[start] = transform2(array);
              return apply(func, this, otherArgs);
            };
          }
          function parent(object, path) {
            return path.length < 2 ? object : baseGet(object, baseSlice(path, 0, -1));
          }
          function reorder(array, indexes) {
            var arrLength = array.length, length = nativeMin(indexes.length, arrLength), oldArray = copyArray(array);
            while (length--) {
              var index = indexes[length];
              array[length] = isIndex(index, arrLength) ? oldArray[index] : undefined2;
            }
            return array;
          }
          function safeGet(object, key) {
            if (key === "constructor" && typeof object[key] === "function") {
              return;
            }
            if (key == "__proto__") {
              return;
            }
            return object[key];
          }
          var setData = shortOut(baseSetData);
          var setTimeout2 = ctxSetTimeout || function(func, wait) {
            return root.setTimeout(func, wait);
          };
          var setToString = shortOut(baseSetToString);
          function setWrapToString(wrapper, reference, bitmask) {
            var source = reference + "";
            return setToString(wrapper, insertWrapDetails(source, updateWrapDetails(getWrapDetails(source), bitmask)));
          }
          function shortOut(func) {
            var count = 0, lastCalled = 0;
            return function() {
              var stamp = nativeNow(), remaining = HOT_SPAN - (stamp - lastCalled);
              lastCalled = stamp;
              if (remaining > 0) {
                if (++count >= HOT_COUNT) {
                  return arguments[0];
                }
              } else {
                count = 0;
              }
              return func.apply(undefined2, arguments);
            };
          }
          function shuffleSelf(array, size2) {
            var index = -1, length = array.length, lastIndex = length - 1;
            size2 = size2 === undefined2 ? length : size2;
            while (++index < size2) {
              var rand = baseRandom(index, lastIndex), value = array[rand];
              array[rand] = array[index];
              array[index] = value;
            }
            array.length = size2;
            return array;
          }
          var stringToPath = memoizeCapped(function(string) {
            var result2 = [];
            if (string.charCodeAt(0) === 46) {
              result2.push("");
            }
            string.replace(rePropName, function(match, number, quote, subString) {
              result2.push(quote ? subString.replace(reEscapeChar, "$1") : number || match);
            });
            return result2;
          });
          function toKey(value) {
            if (typeof value == "string" || isSymbol(value)) {
              return value;
            }
            var result2 = value + "";
            return result2 == "0" && 1 / value == -INFINITY ? "-0" : result2;
          }
          function toSource(func) {
            if (func != null) {
              try {
                return funcToString.call(func);
              } catch (e) {
              }
              try {
                return func + "";
              } catch (e) {
              }
            }
            return "";
          }
          function updateWrapDetails(details, bitmask) {
            arrayEach(wrapFlags, function(pair) {
              var value = "_." + pair[0];
              if (bitmask & pair[1] && !arrayIncludes(details, value)) {
                details.push(value);
              }
            });
            return details.sort();
          }
          function wrapperClone(wrapper) {
            if (wrapper instanceof LazyWrapper) {
              return wrapper.clone();
            }
            var result2 = new LodashWrapper(wrapper.__wrapped__, wrapper.__chain__);
            result2.__actions__ = copyArray(wrapper.__actions__);
            result2.__index__ = wrapper.__index__;
            result2.__values__ = wrapper.__values__;
            return result2;
          }
          function chunk(array, size2, guard) {
            if (guard ? isIterateeCall(array, size2, guard) : size2 === undefined2) {
              size2 = 1;
            } else {
              size2 = nativeMax(toInteger(size2), 0);
            }
            var length = array == null ? 0 : array.length;
            if (!length || size2 < 1) {
              return [];
            }
            var index = 0, resIndex = 0, result2 = Array2(nativeCeil(length / size2));
            while (index < length) {
              result2[resIndex++] = baseSlice(array, index, index += size2);
            }
            return result2;
          }
          function compact(array) {
            var index = -1, length = array == null ? 0 : array.length, resIndex = 0, result2 = [];
            while (++index < length) {
              var value = array[index];
              if (value) {
                result2[resIndex++] = value;
              }
            }
            return result2;
          }
          function concat() {
            var length = arguments.length;
            if (!length) {
              return [];
            }
            var args = Array2(length - 1), array = arguments[0], index = length;
            while (index--) {
              args[index - 1] = arguments[index];
            }
            return arrayPush(isArray(array) ? copyArray(array) : [array], baseFlatten(args, 1));
          }
          var difference = baseRest(function(array, values2) {
            return isArrayLikeObject(array) ? baseDifference(array, baseFlatten(values2, 1, isArrayLikeObject, true)) : [];
          });
          var differenceBy = baseRest(function(array, values2) {
            var iteratee2 = last(values2);
            if (isArrayLikeObject(iteratee2)) {
              iteratee2 = undefined2;
            }
            return isArrayLikeObject(array) ? baseDifference(array, baseFlatten(values2, 1, isArrayLikeObject, true), getIteratee(iteratee2, 2)) : [];
          });
          var differenceWith = baseRest(function(array, values2) {
            var comparator = last(values2);
            if (isArrayLikeObject(comparator)) {
              comparator = undefined2;
            }
            return isArrayLikeObject(array) ? baseDifference(array, baseFlatten(values2, 1, isArrayLikeObject, true), undefined2, comparator) : [];
          });
          function drop(array, n, guard) {
            var length = array == null ? 0 : array.length;
            if (!length) {
              return [];
            }
            n = guard || n === undefined2 ? 1 : toInteger(n);
            return baseSlice(array, n < 0 ? 0 : n, length);
          }
          function dropRight(array, n, guard) {
            var length = array == null ? 0 : array.length;
            if (!length) {
              return [];
            }
            n = guard || n === undefined2 ? 1 : toInteger(n);
            n = length - n;
            return baseSlice(array, 0, n < 0 ? 0 : n);
          }
          function dropRightWhile(array, predicate) {
            return array && array.length ? baseWhile(array, getIteratee(predicate, 3), true, true) : [];
          }
          function dropWhile(array, predicate) {
            return array && array.length ? baseWhile(array, getIteratee(predicate, 3), true) : [];
          }
          function fill(array, value, start, end) {
            var length = array == null ? 0 : array.length;
            if (!length) {
              return [];
            }
            if (start && typeof start != "number" && isIterateeCall(array, value, start)) {
              start = 0;
              end = length;
            }
            return baseFill(array, value, start, end);
          }
          function findIndex(array, predicate, fromIndex) {
            var length = array == null ? 0 : array.length;
            if (!length) {
              return -1;
            }
            var index = fromIndex == null ? 0 : toInteger(fromIndex);
            if (index < 0) {
              index = nativeMax(length + index, 0);
            }
            return baseFindIndex(array, getIteratee(predicate, 3), index);
          }
          function findLastIndex(array, predicate, fromIndex) {
            var length = array == null ? 0 : array.length;
            if (!length) {
              return -1;
            }
            var index = length - 1;
            if (fromIndex !== undefined2) {
              index = toInteger(fromIndex);
              index = fromIndex < 0 ? nativeMax(length + index, 0) : nativeMin(index, length - 1);
            }
            return baseFindIndex(array, getIteratee(predicate, 3), index, true);
          }
          function flatten(array) {
            var length = array == null ? 0 : array.length;
            return length ? baseFlatten(array, 1) : [];
          }
          function flattenDeep(array) {
            var length = array == null ? 0 : array.length;
            return length ? baseFlatten(array, INFINITY) : [];
          }
          function flattenDepth(array, depth) {
            var length = array == null ? 0 : array.length;
            if (!length) {
              return [];
            }
            depth = depth === undefined2 ? 1 : toInteger(depth);
            return baseFlatten(array, depth);
          }
          function fromPairs(pairs) {
            var index = -1, length = pairs == null ? 0 : pairs.length, result2 = {};
            while (++index < length) {
              var pair = pairs[index];
              result2[pair[0]] = pair[1];
            }
            return result2;
          }
          function head(array) {
            return array && array.length ? array[0] : undefined2;
          }
          function indexOf(array, value, fromIndex) {
            var length = array == null ? 0 : array.length;
            if (!length) {
              return -1;
            }
            var index = fromIndex == null ? 0 : toInteger(fromIndex);
            if (index < 0) {
              index = nativeMax(length + index, 0);
            }
            return baseIndexOf(array, value, index);
          }
          function initial(array) {
            var length = array == null ? 0 : array.length;
            return length ? baseSlice(array, 0, -1) : [];
          }
          var intersection = baseRest(function(arrays) {
            var mapped = arrayMap(arrays, castArrayLikeObject);
            return mapped.length && mapped[0] === arrays[0] ? baseIntersection(mapped) : [];
          });
          var intersectionBy = baseRest(function(arrays) {
            var iteratee2 = last(arrays), mapped = arrayMap(arrays, castArrayLikeObject);
            if (iteratee2 === last(mapped)) {
              iteratee2 = undefined2;
            } else {
              mapped.pop();
            }
            return mapped.length && mapped[0] === arrays[0] ? baseIntersection(mapped, getIteratee(iteratee2, 2)) : [];
          });
          var intersectionWith = baseRest(function(arrays) {
            var comparator = last(arrays), mapped = arrayMap(arrays, castArrayLikeObject);
            comparator = typeof comparator == "function" ? comparator : undefined2;
            if (comparator) {
              mapped.pop();
            }
            return mapped.length && mapped[0] === arrays[0] ? baseIntersection(mapped, undefined2, comparator) : [];
          });
          function join3(array, separator) {
            return array == null ? "" : nativeJoin.call(array, separator);
          }
          function last(array) {
            var length = array == null ? 0 : array.length;
            return length ? array[length - 1] : undefined2;
          }
          function lastIndexOf(array, value, fromIndex) {
            var length = array == null ? 0 : array.length;
            if (!length) {
              return -1;
            }
            var index = length;
            if (fromIndex !== undefined2) {
              index = toInteger(fromIndex);
              index = index < 0 ? nativeMax(length + index, 0) : nativeMin(index, length - 1);
            }
            return value === value ? strictLastIndexOf(array, value, index) : baseFindIndex(array, baseIsNaN, index, true);
          }
          function nth(array, n) {
            return array && array.length ? baseNth(array, toInteger(n)) : undefined2;
          }
          var pull = baseRest(pullAll);
          function pullAll(array, values2) {
            return array && array.length && values2 && values2.length ? basePullAll(array, values2) : array;
          }
          function pullAllBy(array, values2, iteratee2) {
            return array && array.length && values2 && values2.length ? basePullAll(array, values2, getIteratee(iteratee2, 2)) : array;
          }
          function pullAllWith(array, values2, comparator) {
            return array && array.length && values2 && values2.length ? basePullAll(array, values2, undefined2, comparator) : array;
          }
          var pullAt = flatRest(function(array, indexes) {
            var length = array == null ? 0 : array.length, result2 = baseAt(array, indexes);
            basePullAt(array, arrayMap(indexes, function(index) {
              return isIndex(index, length) ? +index : index;
            }).sort(compareAscending));
            return result2;
          });
          function remove(array, predicate) {
            var result2 = [];
            if (!(array && array.length)) {
              return result2;
            }
            var index = -1, indexes = [], length = array.length;
            predicate = getIteratee(predicate, 3);
            while (++index < length) {
              var value = array[index];
              if (predicate(value, index, array)) {
                result2.push(value);
                indexes.push(index);
              }
            }
            basePullAt(array, indexes);
            return result2;
          }
          function reverse(array) {
            return array == null ? array : nativeReverse.call(array);
          }
          function slice(array, start, end) {
            var length = array == null ? 0 : array.length;
            if (!length) {
              return [];
            }
            if (end && typeof end != "number" && isIterateeCall(array, start, end)) {
              start = 0;
              end = length;
            } else {
              start = start == null ? 0 : toInteger(start);
              end = end === undefined2 ? length : toInteger(end);
            }
            return baseSlice(array, start, end);
          }
          function sortedIndex(array, value) {
            return baseSortedIndex(array, value);
          }
          function sortedIndexBy(array, value, iteratee2) {
            return baseSortedIndexBy(array, value, getIteratee(iteratee2, 2));
          }
          function sortedIndexOf(array, value) {
            var length = array == null ? 0 : array.length;
            if (length) {
              var index = baseSortedIndex(array, value);
              if (index < length && eq(array[index], value)) {
                return index;
              }
            }
            return -1;
          }
          function sortedLastIndex(array, value) {
            return baseSortedIndex(array, value, true);
          }
          function sortedLastIndexBy(array, value, iteratee2) {
            return baseSortedIndexBy(array, value, getIteratee(iteratee2, 2), true);
          }
          function sortedLastIndexOf(array, value) {
            var length = array == null ? 0 : array.length;
            if (length) {
              var index = baseSortedIndex(array, value, true) - 1;
              if (eq(array[index], value)) {
                return index;
              }
            }
            return -1;
          }
          function sortedUniq(array) {
            return array && array.length ? baseSortedUniq(array) : [];
          }
          function sortedUniqBy(array, iteratee2) {
            return array && array.length ? baseSortedUniq(array, getIteratee(iteratee2, 2)) : [];
          }
          function tail(array) {
            var length = array == null ? 0 : array.length;
            return length ? baseSlice(array, 1, length) : [];
          }
          function take(array, n, guard) {
            if (!(array && array.length)) {
              return [];
            }
            n = guard || n === undefined2 ? 1 : toInteger(n);
            return baseSlice(array, 0, n < 0 ? 0 : n);
          }
          function takeRight(array, n, guard) {
            var length = array == null ? 0 : array.length;
            if (!length) {
              return [];
            }
            n = guard || n === undefined2 ? 1 : toInteger(n);
            n = length - n;
            return baseSlice(array, n < 0 ? 0 : n, length);
          }
          function takeRightWhile(array, predicate) {
            return array && array.length ? baseWhile(array, getIteratee(predicate, 3), false, true) : [];
          }
          function takeWhile(array, predicate) {
            return array && array.length ? baseWhile(array, getIteratee(predicate, 3)) : [];
          }
          var union = baseRest(function(arrays) {
            return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true));
          });
          var unionBy = baseRest(function(arrays) {
            var iteratee2 = last(arrays);
            if (isArrayLikeObject(iteratee2)) {
              iteratee2 = undefined2;
            }
            return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true), getIteratee(iteratee2, 2));
          });
          var unionWith = baseRest(function(arrays) {
            var comparator = last(arrays);
            comparator = typeof comparator == "function" ? comparator : undefined2;
            return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true), undefined2, comparator);
          });
          function uniq(array) {
            return array && array.length ? baseUniq(array) : [];
          }
          function uniqBy(array, iteratee2) {
            return array && array.length ? baseUniq(array, getIteratee(iteratee2, 2)) : [];
          }
          function uniqWith(array, comparator) {
            comparator = typeof comparator == "function" ? comparator : undefined2;
            return array && array.length ? baseUniq(array, undefined2, comparator) : [];
          }
          function unzip(array) {
            if (!(array && array.length)) {
              return [];
            }
            var length = 0;
            array = arrayFilter(array, function(group) {
              if (isArrayLikeObject(group)) {
                length = nativeMax(group.length, length);
                return true;
              }
            });
            return baseTimes(length, function(index) {
              return arrayMap(array, baseProperty(index));
            });
          }
          function unzipWith(array, iteratee2) {
            if (!(array && array.length)) {
              return [];
            }
            var result2 = unzip(array);
            if (iteratee2 == null) {
              return result2;
            }
            return arrayMap(result2, function(group) {
              return apply(iteratee2, undefined2, group);
            });
          }
          var without = baseRest(function(array, values2) {
            return isArrayLikeObject(array) ? baseDifference(array, values2) : [];
          });
          var xor = baseRest(function(arrays) {
            return baseXor(arrayFilter(arrays, isArrayLikeObject));
          });
          var xorBy = baseRest(function(arrays) {
            var iteratee2 = last(arrays);
            if (isArrayLikeObject(iteratee2)) {
              iteratee2 = undefined2;
            }
            return baseXor(arrayFilter(arrays, isArrayLikeObject), getIteratee(iteratee2, 2));
          });
          var xorWith = baseRest(function(arrays) {
            var comparator = last(arrays);
            comparator = typeof comparator == "function" ? comparator : undefined2;
            return baseXor(arrayFilter(arrays, isArrayLikeObject), undefined2, comparator);
          });
          var zip = baseRest(unzip);
          function zipObject(props, values2) {
            return baseZipObject(props || [], values2 || [], assignValue);
          }
          function zipObjectDeep(props, values2) {
            return baseZipObject(props || [], values2 || [], baseSet);
          }
          var zipWith = baseRest(function(arrays) {
            var length = arrays.length, iteratee2 = length > 1 ? arrays[length - 1] : undefined2;
            iteratee2 = typeof iteratee2 == "function" ? (arrays.pop(), iteratee2) : undefined2;
            return unzipWith(arrays, iteratee2);
          });
          function chain(value) {
            var result2 = lodash(value);
            result2.__chain__ = true;
            return result2;
          }
          function tap(value, interceptor) {
            interceptor(value);
            return value;
          }
          function thru(value, interceptor) {
            return interceptor(value);
          }
          var wrapperAt = flatRest(function(paths) {
            var length = paths.length, start = length ? paths[0] : 0, value = this.__wrapped__, interceptor = function(object) {
              return baseAt(object, paths);
            };
            if (length > 1 || this.__actions__.length || !(value instanceof LazyWrapper) || !isIndex(start)) {
              return this.thru(interceptor);
            }
            value = value.slice(start, +start + (length ? 1 : 0));
            value.__actions__.push({
              "func": thru,
              "args": [interceptor],
              "thisArg": undefined2
            });
            return new LodashWrapper(value, this.__chain__).thru(function(array) {
              if (length && !array.length) {
                array.push(undefined2);
              }
              return array;
            });
          });
          function wrapperChain() {
            return chain(this);
          }
          function wrapperCommit() {
            return new LodashWrapper(this.value(), this.__chain__);
          }
          function wrapperNext() {
            if (this.__values__ === undefined2) {
              this.__values__ = toArray(this.value());
            }
            var done = this.__index__ >= this.__values__.length, value = done ? undefined2 : this.__values__[this.__index__++];
            return {"done": done, "value": value};
          }
          function wrapperToIterator() {
            return this;
          }
          function wrapperPlant(value) {
            var result2, parent2 = this;
            while (parent2 instanceof baseLodash) {
              var clone2 = wrapperClone(parent2);
              clone2.__index__ = 0;
              clone2.__values__ = undefined2;
              if (result2) {
                previous.__wrapped__ = clone2;
              } else {
                result2 = clone2;
              }
              var previous = clone2;
              parent2 = parent2.__wrapped__;
            }
            previous.__wrapped__ = value;
            return result2;
          }
          function wrapperReverse() {
            var value = this.__wrapped__;
            if (value instanceof LazyWrapper) {
              var wrapped = value;
              if (this.__actions__.length) {
                wrapped = new LazyWrapper(this);
              }
              wrapped = wrapped.reverse();
              wrapped.__actions__.push({
                "func": thru,
                "args": [reverse],
                "thisArg": undefined2
              });
              return new LodashWrapper(wrapped, this.__chain__);
            }
            return this.thru(reverse);
          }
          function wrapperValue() {
            return baseWrapperValue(this.__wrapped__, this.__actions__);
          }
          var countBy = createAggregator(function(result2, value, key) {
            if (hasOwnProperty.call(result2, key)) {
              ++result2[key];
            } else {
              baseAssignValue(result2, key, 1);
            }
          });
          function every(collection, predicate, guard) {
            var func = isArray(collection) ? arrayEvery : baseEvery;
            if (guard && isIterateeCall(collection, predicate, guard)) {
              predicate = undefined2;
            }
            return func(collection, getIteratee(predicate, 3));
          }
          function filter(collection, predicate) {
            var func = isArray(collection) ? arrayFilter : baseFilter;
            return func(collection, getIteratee(predicate, 3));
          }
          var find = createFind(findIndex);
          var findLast = createFind(findLastIndex);
          function flatMap(collection, iteratee2) {
            return baseFlatten(map(collection, iteratee2), 1);
          }
          function flatMapDeep(collection, iteratee2) {
            return baseFlatten(map(collection, iteratee2), INFINITY);
          }
          function flatMapDepth(collection, iteratee2, depth) {
            depth = depth === undefined2 ? 1 : toInteger(depth);
            return baseFlatten(map(collection, iteratee2), depth);
          }
          function forEach(collection, iteratee2) {
            var func = isArray(collection) ? arrayEach : baseEach;
            return func(collection, getIteratee(iteratee2, 3));
          }
          function forEachRight(collection, iteratee2) {
            var func = isArray(collection) ? arrayEachRight : baseEachRight;
            return func(collection, getIteratee(iteratee2, 3));
          }
          var groupBy = createAggregator(function(result2, value, key) {
            if (hasOwnProperty.call(result2, key)) {
              result2[key].push(value);
            } else {
              baseAssignValue(result2, key, [value]);
            }
          });
          function includes(collection, value, fromIndex, guard) {
            collection = isArrayLike(collection) ? collection : values(collection);
            fromIndex = fromIndex && !guard ? toInteger(fromIndex) : 0;
            var length = collection.length;
            if (fromIndex < 0) {
              fromIndex = nativeMax(length + fromIndex, 0);
            }
            return isString(collection) ? fromIndex <= length && collection.indexOf(value, fromIndex) > -1 : !!length && baseIndexOf(collection, value, fromIndex) > -1;
          }
          var invokeMap = baseRest(function(collection, path, args) {
            var index = -1, isFunc = typeof path == "function", result2 = isArrayLike(collection) ? Array2(collection.length) : [];
            baseEach(collection, function(value) {
              result2[++index] = isFunc ? apply(path, value, args) : baseInvoke(value, path, args);
            });
            return result2;
          });
          var keyBy = createAggregator(function(result2, value, key) {
            baseAssignValue(result2, key, value);
          });
          function map(collection, iteratee2) {
            var func = isArray(collection) ? arrayMap : baseMap;
            return func(collection, getIteratee(iteratee2, 3));
          }
          function orderBy(collection, iteratees, orders, guard) {
            if (collection == null) {
              return [];
            }
            if (!isArray(iteratees)) {
              iteratees = iteratees == null ? [] : [iteratees];
            }
            orders = guard ? undefined2 : orders;
            if (!isArray(orders)) {
              orders = orders == null ? [] : [orders];
            }
            return baseOrderBy(collection, iteratees, orders);
          }
          var partition = createAggregator(function(result2, value, key) {
            result2[key ? 0 : 1].push(value);
          }, function() {
            return [[], []];
          });
          function reduce(collection, iteratee2, accumulator) {
            var func = isArray(collection) ? arrayReduce : baseReduce, initAccum = arguments.length < 3;
            return func(collection, getIteratee(iteratee2, 4), accumulator, initAccum, baseEach);
          }
          function reduceRight(collection, iteratee2, accumulator) {
            var func = isArray(collection) ? arrayReduceRight : baseReduce, initAccum = arguments.length < 3;
            return func(collection, getIteratee(iteratee2, 4), accumulator, initAccum, baseEachRight);
          }
          function reject(collection, predicate) {
            var func = isArray(collection) ? arrayFilter : baseFilter;
            return func(collection, negate(getIteratee(predicate, 3)));
          }
          function sample(collection) {
            var func = isArray(collection) ? arraySample : baseSample;
            return func(collection);
          }
          function sampleSize(collection, n, guard) {
            if (guard ? isIterateeCall(collection, n, guard) : n === undefined2) {
              n = 1;
            } else {
              n = toInteger(n);
            }
            var func = isArray(collection) ? arraySampleSize : baseSampleSize;
            return func(collection, n);
          }
          function shuffle(collection) {
            var func = isArray(collection) ? arrayShuffle : baseShuffle;
            return func(collection);
          }
          function size(collection) {
            if (collection == null) {
              return 0;
            }
            if (isArrayLike(collection)) {
              return isString(collection) ? stringSize(collection) : collection.length;
            }
            var tag3 = getTag(collection);
            if (tag3 == mapTag || tag3 == setTag) {
              return collection.size;
            }
            return baseKeys(collection).length;
          }
          function some(collection, predicate, guard) {
            var func = isArray(collection) ? arraySome : baseSome;
            if (guard && isIterateeCall(collection, predicate, guard)) {
              predicate = undefined2;
            }
            return func(collection, getIteratee(predicate, 3));
          }
          var sortBy = baseRest(function(collection, iteratees) {
            if (collection == null) {
              return [];
            }
            var length = iteratees.length;
            if (length > 1 && isIterateeCall(collection, iteratees[0], iteratees[1])) {
              iteratees = [];
            } else if (length > 2 && isIterateeCall(iteratees[0], iteratees[1], iteratees[2])) {
              iteratees = [iteratees[0]];
            }
            return baseOrderBy(collection, baseFlatten(iteratees, 1), []);
          });
          var now = ctxNow || function() {
            return root.Date.now();
          };
          function after(n, func) {
            if (typeof func != "function") {
              throw new TypeError2(FUNC_ERROR_TEXT);
            }
            n = toInteger(n);
            return function() {
              if (--n < 1) {
                return func.apply(this, arguments);
              }
            };
          }
          function ary(func, n, guard) {
            n = guard ? undefined2 : n;
            n = func && n == null ? func.length : n;
            return createWrap(func, WRAP_ARY_FLAG, undefined2, undefined2, undefined2, undefined2, n);
          }
          function before(n, func) {
            var result2;
            if (typeof func != "function") {
              throw new TypeError2(FUNC_ERROR_TEXT);
            }
            n = toInteger(n);
            return function() {
              if (--n > 0) {
                result2 = func.apply(this, arguments);
              }
              if (n <= 1) {
                func = undefined2;
              }
              return result2;
            };
          }
          var bind = baseRest(function(func, thisArg, partials) {
            var bitmask = WRAP_BIND_FLAG;
            if (partials.length) {
              var holders = replaceHolders(partials, getHolder(bind));
              bitmask |= WRAP_PARTIAL_FLAG;
            }
            return createWrap(func, bitmask, thisArg, partials, holders);
          });
          var bindKey = baseRest(function(object, key, partials) {
            var bitmask = WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG;
            if (partials.length) {
              var holders = replaceHolders(partials, getHolder(bindKey));
              bitmask |= WRAP_PARTIAL_FLAG;
            }
            return createWrap(key, bitmask, object, partials, holders);
          });
          function curry(func, arity, guard) {
            arity = guard ? undefined2 : arity;
            var result2 = createWrap(func, WRAP_CURRY_FLAG, undefined2, undefined2, undefined2, undefined2, undefined2, arity);
            result2.placeholder = curry.placeholder;
            return result2;
          }
          function curryRight(func, arity, guard) {
            arity = guard ? undefined2 : arity;
            var result2 = createWrap(func, WRAP_CURRY_RIGHT_FLAG, undefined2, undefined2, undefined2, undefined2, undefined2, arity);
            result2.placeholder = curryRight.placeholder;
            return result2;
          }
          function debounce(func, wait, options) {
            var lastArgs, lastThis, maxWait, result2, timerId, lastCallTime, lastInvokeTime = 0, leading = false, maxing = false, trailing = true;
            if (typeof func != "function") {
              throw new TypeError2(FUNC_ERROR_TEXT);
            }
            wait = toNumber(wait) || 0;
            if (isObject(options)) {
              leading = !!options.leading;
              maxing = "maxWait" in options;
              maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;
              trailing = "trailing" in options ? !!options.trailing : trailing;
            }
            function invokeFunc(time) {
              var args = lastArgs, thisArg = lastThis;
              lastArgs = lastThis = undefined2;
              lastInvokeTime = time;
              result2 = func.apply(thisArg, args);
              return result2;
            }
            function leadingEdge(time) {
              lastInvokeTime = time;
              timerId = setTimeout2(timerExpired, wait);
              return leading ? invokeFunc(time) : result2;
            }
            function remainingWait(time) {
              var timeSinceLastCall = time - lastCallTime, timeSinceLastInvoke = time - lastInvokeTime, timeWaiting = wait - timeSinceLastCall;
              return maxing ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke) : timeWaiting;
            }
            function shouldInvoke(time) {
              var timeSinceLastCall = time - lastCallTime, timeSinceLastInvoke = time - lastInvokeTime;
              return lastCallTime === undefined2 || timeSinceLastCall >= wait || timeSinceLastCall < 0 || maxing && timeSinceLastInvoke >= maxWait;
            }
            function timerExpired() {
              var time = now();
              if (shouldInvoke(time)) {
                return trailingEdge(time);
              }
              timerId = setTimeout2(timerExpired, remainingWait(time));
            }
            function trailingEdge(time) {
              timerId = undefined2;
              if (trailing && lastArgs) {
                return invokeFunc(time);
              }
              lastArgs = lastThis = undefined2;
              return result2;
            }
            function cancel() {
              if (timerId !== undefined2) {
                clearTimeout2(timerId);
              }
              lastInvokeTime = 0;
              lastArgs = lastCallTime = lastThis = timerId = undefined2;
            }
            function flush() {
              return timerId === undefined2 ? result2 : trailingEdge(now());
            }
            function debounced() {
              var time = now(), isInvoking = shouldInvoke(time);
              lastArgs = arguments;
              lastThis = this;
              lastCallTime = time;
              if (isInvoking) {
                if (timerId === undefined2) {
                  return leadingEdge(lastCallTime);
                }
                if (maxing) {
                  clearTimeout2(timerId);
                  timerId = setTimeout2(timerExpired, wait);
                  return invokeFunc(lastCallTime);
                }
              }
              if (timerId === undefined2) {
                timerId = setTimeout2(timerExpired, wait);
              }
              return result2;
            }
            debounced.cancel = cancel;
            debounced.flush = flush;
            return debounced;
          }
          var defer = baseRest(function(func, args) {
            return baseDelay(func, 1, args);
          });
          var delay = baseRest(function(func, wait, args) {
            return baseDelay(func, toNumber(wait) || 0, args);
          });
          function flip(func) {
            return createWrap(func, WRAP_FLIP_FLAG);
          }
          function memoize(func, resolver) {
            if (typeof func != "function" || resolver != null && typeof resolver != "function") {
              throw new TypeError2(FUNC_ERROR_TEXT);
            }
            var memoized = function() {
              var args = arguments, key = resolver ? resolver.apply(this, args) : args[0], cache = memoized.cache;
              if (cache.has(key)) {
                return cache.get(key);
              }
              var result2 = func.apply(this, args);
              memoized.cache = cache.set(key, result2) || cache;
              return result2;
            };
            memoized.cache = new (memoize.Cache || MapCache)();
            return memoized;
          }
          memoize.Cache = MapCache;
          function negate(predicate) {
            if (typeof predicate != "function") {
              throw new TypeError2(FUNC_ERROR_TEXT);
            }
            return function() {
              var args = arguments;
              switch (args.length) {
                case 0:
                  return !predicate.call(this);
                case 1:
                  return !predicate.call(this, args[0]);
                case 2:
                  return !predicate.call(this, args[0], args[1]);
                case 3:
                  return !predicate.call(this, args[0], args[1], args[2]);
              }
              return !predicate.apply(this, args);
            };
          }
          function once(func) {
            return before(2, func);
          }
          var overArgs = castRest(function(func, transforms) {
            transforms = transforms.length == 1 && isArray(transforms[0]) ? arrayMap(transforms[0], baseUnary(getIteratee())) : arrayMap(baseFlatten(transforms, 1), baseUnary(getIteratee()));
            var funcsLength = transforms.length;
            return baseRest(function(args) {
              var index = -1, length = nativeMin(args.length, funcsLength);
              while (++index < length) {
                args[index] = transforms[index].call(this, args[index]);
              }
              return apply(func, this, args);
            });
          });
          var partial = baseRest(function(func, partials) {
            var holders = replaceHolders(partials, getHolder(partial));
            return createWrap(func, WRAP_PARTIAL_FLAG, undefined2, partials, holders);
          });
          var partialRight = baseRest(function(func, partials) {
            var holders = replaceHolders(partials, getHolder(partialRight));
            return createWrap(func, WRAP_PARTIAL_RIGHT_FLAG, undefined2, partials, holders);
          });
          var rearg = flatRest(function(func, indexes) {
            return createWrap(func, WRAP_REARG_FLAG, undefined2, undefined2, undefined2, indexes);
          });
          function rest(func, start) {
            if (typeof func != "function") {
              throw new TypeError2(FUNC_ERROR_TEXT);
            }
            start = start === undefined2 ? start : toInteger(start);
            return baseRest(func, start);
          }
          function spread(func, start) {
            if (typeof func != "function") {
              throw new TypeError2(FUNC_ERROR_TEXT);
            }
            start = start == null ? 0 : nativeMax(toInteger(start), 0);
            return baseRest(function(args) {
              var array = args[start], otherArgs = castSlice(args, 0, start);
              if (array) {
                arrayPush(otherArgs, array);
              }
              return apply(func, this, otherArgs);
            });
          }
          function throttle(func, wait, options) {
            var leading = true, trailing = true;
            if (typeof func != "function") {
              throw new TypeError2(FUNC_ERROR_TEXT);
            }
            if (isObject(options)) {
              leading = "leading" in options ? !!options.leading : leading;
              trailing = "trailing" in options ? !!options.trailing : trailing;
            }
            return debounce(func, wait, {
              "leading": leading,
              "maxWait": wait,
              "trailing": trailing
            });
          }
          function unary(func) {
            return ary(func, 1);
          }
          function wrap(value, wrapper) {
            return partial(castFunction(wrapper), value);
          }
          function castArray() {
            if (!arguments.length) {
              return [];
            }
            var value = arguments[0];
            return isArray(value) ? value : [value];
          }
          function clone(value) {
            return baseClone(value, CLONE_SYMBOLS_FLAG);
          }
          function cloneWith(value, customizer) {
            customizer = typeof customizer == "function" ? customizer : undefined2;
            return baseClone(value, CLONE_SYMBOLS_FLAG, customizer);
          }
          function cloneDeep(value) {
            return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG);
          }
          function cloneDeepWith(value, customizer) {
            customizer = typeof customizer == "function" ? customizer : undefined2;
            return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG, customizer);
          }
          function conformsTo(object, source) {
            return source == null || baseConformsTo(object, source, keys(source));
          }
          function eq(value, other) {
            return value === other || value !== value && other !== other;
          }
          var gt = createRelationalOperation(baseGt);
          var gte = createRelationalOperation(function(value, other) {
            return value >= other;
          });
          var isArguments = baseIsArguments(function() {
            return arguments;
          }()) ? baseIsArguments : function(value) {
            return isObjectLike(value) && hasOwnProperty.call(value, "callee") && !propertyIsEnumerable.call(value, "callee");
          };
          var isArray = Array2.isArray;
          var isArrayBuffer = nodeIsArrayBuffer ? baseUnary(nodeIsArrayBuffer) : baseIsArrayBuffer;
          function isArrayLike(value) {
            return value != null && isLength(value.length) && !isFunction(value);
          }
          function isArrayLikeObject(value) {
            return isObjectLike(value) && isArrayLike(value);
          }
          function isBoolean(value) {
            return value === true || value === false || isObjectLike(value) && baseGetTag(value) == boolTag;
          }
          var isBuffer = nativeIsBuffer || stubFalse;
          var isDate = nodeIsDate ? baseUnary(nodeIsDate) : baseIsDate;
          function isElement(value) {
            return isObjectLike(value) && value.nodeType === 1 && !isPlainObject(value);
          }
          function isEmpty(value) {
            if (value == null) {
              return true;
            }
            if (isArrayLike(value) && (isArray(value) || typeof value == "string" || typeof value.splice == "function" || isBuffer(value) || isTypedArray(value) || isArguments(value))) {
              return !value.length;
            }
            var tag3 = getTag(value);
            if (tag3 == mapTag || tag3 == setTag) {
              return !value.size;
            }
            if (isPrototype(value)) {
              return !baseKeys(value).length;
            }
            for (var key in value) {
              if (hasOwnProperty.call(value, key)) {
                return false;
              }
            }
            return true;
          }
          function isEqual(value, other) {
            return baseIsEqual(value, other);
          }
          function isEqualWith(value, other, customizer) {
            customizer = typeof customizer == "function" ? customizer : undefined2;
            var result2 = customizer ? customizer(value, other) : undefined2;
            return result2 === undefined2 ? baseIsEqual(value, other, undefined2, customizer) : !!result2;
          }
          function isError(value) {
            if (!isObjectLike(value)) {
              return false;
            }
            var tag3 = baseGetTag(value);
            return tag3 == errorTag || tag3 == domExcTag || typeof value.message == "string" && typeof value.name == "string" && !isPlainObject(value);
          }
          function isFinite2(value) {
            return typeof value == "number" && nativeIsFinite(value);
          }
          function isFunction(value) {
            if (!isObject(value)) {
              return false;
            }
            var tag3 = baseGetTag(value);
            return tag3 == funcTag || tag3 == genTag || tag3 == asyncTag || tag3 == proxyTag;
          }
          function isInteger(value) {
            return typeof value == "number" && value == toInteger(value);
          }
          function isLength(value) {
            return typeof value == "number" && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;
          }
          function isObject(value) {
            var type = typeof value;
            return value != null && (type == "object" || type == "function");
          }
          function isObjectLike(value) {
            return value != null && typeof value == "object";
          }
          var isMap = nodeIsMap ? baseUnary(nodeIsMap) : baseIsMap;
          function isMatch(object, source) {
            return object === source || baseIsMatch(object, source, getMatchData(source));
          }
          function isMatchWith(object, source, customizer) {
            customizer = typeof customizer == "function" ? customizer : undefined2;
            return baseIsMatch(object, source, getMatchData(source), customizer);
          }
          function isNaN2(value) {
            return isNumber(value) && value != +value;
          }
          function isNative(value) {
            if (isMaskable(value)) {
              throw new Error2(CORE_ERROR_TEXT);
            }
            return baseIsNative(value);
          }
          function isNull(value) {
            return value === null;
          }
          function isNil(value) {
            return value == null;
          }
          function isNumber(value) {
            return typeof value == "number" || isObjectLike(value) && baseGetTag(value) == numberTag;
          }
          function isPlainObject(value) {
            if (!isObjectLike(value) || baseGetTag(value) != objectTag) {
              return false;
            }
            var proto = getPrototype(value);
            if (proto === null) {
              return true;
            }
            var Ctor = hasOwnProperty.call(proto, "constructor") && proto.constructor;
            return typeof Ctor == "function" && Ctor instanceof Ctor && funcToString.call(Ctor) == objectCtorString;
          }
          var isRegExp = nodeIsRegExp ? baseUnary(nodeIsRegExp) : baseIsRegExp;
          function isSafeInteger(value) {
            return isInteger(value) && value >= -MAX_SAFE_INTEGER && value <= MAX_SAFE_INTEGER;
          }
          var isSet = nodeIsSet ? baseUnary(nodeIsSet) : baseIsSet;
          function isString(value) {
            return typeof value == "string" || !isArray(value) && isObjectLike(value) && baseGetTag(value) == stringTag;
          }
          function isSymbol(value) {
            return typeof value == "symbol" || isObjectLike(value) && baseGetTag(value) == symbolTag;
          }
          var isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;
          function isUndefined(value) {
            return value === undefined2;
          }
          function isWeakMap(value) {
            return isObjectLike(value) && getTag(value) == weakMapTag;
          }
          function isWeakSet(value) {
            return isObjectLike(value) && baseGetTag(value) == weakSetTag;
          }
          var lt = createRelationalOperation(baseLt);
          var lte = createRelationalOperation(function(value, other) {
            return value <= other;
          });
          function toArray(value) {
            if (!value) {
              return [];
            }
            if (isArrayLike(value)) {
              return isString(value) ? stringToArray(value) : copyArray(value);
            }
            if (symIterator && value[symIterator]) {
              return iteratorToArray(value[symIterator]());
            }
            var tag3 = getTag(value), func = tag3 == mapTag ? mapToArray : tag3 == setTag ? setToArray : values;
            return func(value);
          }
          function toFinite(value) {
            if (!value) {
              return value === 0 ? value : 0;
            }
            value = toNumber(value);
            if (value === INFINITY || value === -INFINITY) {
              var sign = value < 0 ? -1 : 1;
              return sign * MAX_INTEGER;
            }
            return value === value ? value : 0;
          }
          function toInteger(value) {
            var result2 = toFinite(value), remainder = result2 % 1;
            return result2 === result2 ? remainder ? result2 - remainder : result2 : 0;
          }
          function toLength(value) {
            return value ? baseClamp(toInteger(value), 0, MAX_ARRAY_LENGTH) : 0;
          }
          function toNumber(value) {
            if (typeof value == "number") {
              return value;
            }
            if (isSymbol(value)) {
              return NAN;
            }
            if (isObject(value)) {
              var other = typeof value.valueOf == "function" ? value.valueOf() : value;
              value = isObject(other) ? other + "" : other;
            }
            if (typeof value != "string") {
              return value === 0 ? value : +value;
            }
            value = baseTrim(value);
            var isBinary = reIsBinary.test(value);
            return isBinary || reIsOctal.test(value) ? freeParseInt(value.slice(2), isBinary ? 2 : 8) : reIsBadHex.test(value) ? NAN : +value;
          }
          function toPlainObject(value) {
            return copyObject(value, keysIn(value));
          }
          function toSafeInteger(value) {
            return value ? baseClamp(toInteger(value), -MAX_SAFE_INTEGER, MAX_SAFE_INTEGER) : value === 0 ? value : 0;
          }
          function toString(value) {
            return value == null ? "" : baseToString(value);
          }
          var assign = createAssigner(function(object, source) {
            if (isPrototype(source) || isArrayLike(source)) {
              copyObject(source, keys(source), object);
              return;
            }
            for (var key in source) {
              if (hasOwnProperty.call(source, key)) {
                assignValue(object, key, source[key]);
              }
            }
          });
          var assignIn = createAssigner(function(object, source) {
            copyObject(source, keysIn(source), object);
          });
          var assignInWith = createAssigner(function(object, source, srcIndex, customizer) {
            copyObject(source, keysIn(source), object, customizer);
          });
          var assignWith = createAssigner(function(object, source, srcIndex, customizer) {
            copyObject(source, keys(source), object, customizer);
          });
          var at = flatRest(baseAt);
          function create(prototype, properties) {
            var result2 = baseCreate(prototype);
            return properties == null ? result2 : baseAssign(result2, properties);
          }
          var defaults = baseRest(function(object, sources) {
            object = Object2(object);
            var index = -1;
            var length = sources.length;
            var guard = length > 2 ? sources[2] : undefined2;
            if (guard && isIterateeCall(sources[0], sources[1], guard)) {
              length = 1;
            }
            while (++index < length) {
              var source = sources[index];
              var props = keysIn(source);
              var propsIndex = -1;
              var propsLength = props.length;
              while (++propsIndex < propsLength) {
                var key = props[propsIndex];
                var value = object[key];
                if (value === undefined2 || eq(value, objectProto[key]) && !hasOwnProperty.call(object, key)) {
                  object[key] = source[key];
                }
              }
            }
            return object;
          });
          var defaultsDeep = baseRest(function(args) {
            args.push(undefined2, customDefaultsMerge);
            return apply(mergeWith, undefined2, args);
          });
          function findKey(object, predicate) {
            return baseFindKey(object, getIteratee(predicate, 3), baseForOwn);
          }
          function findLastKey(object, predicate) {
            return baseFindKey(object, getIteratee(predicate, 3), baseForOwnRight);
          }
          function forIn(object, iteratee2) {
            return object == null ? object : baseFor(object, getIteratee(iteratee2, 3), keysIn);
          }
          function forInRight(object, iteratee2) {
            return object == null ? object : baseForRight(object, getIteratee(iteratee2, 3), keysIn);
          }
          function forOwn(object, iteratee2) {
            return object && baseForOwn(object, getIteratee(iteratee2, 3));
          }
          function forOwnRight(object, iteratee2) {
            return object && baseForOwnRight(object, getIteratee(iteratee2, 3));
          }
          function functions(object) {
            return object == null ? [] : baseFunctions(object, keys(object));
          }
          function functionsIn(object) {
            return object == null ? [] : baseFunctions(object, keysIn(object));
          }
          function get(object, path, defaultValue) {
            var result2 = object == null ? undefined2 : baseGet(object, path);
            return result2 === undefined2 ? defaultValue : result2;
          }
          function has(object, path) {
            return object != null && hasPath(object, path, baseHas);
          }
          function hasIn(object, path) {
            return object != null && hasPath(object, path, baseHasIn);
          }
          var invert = createInverter(function(result2, value, key) {
            if (value != null && typeof value.toString != "function") {
              value = nativeObjectToString.call(value);
            }
            result2[value] = key;
          }, constant(identity));
          var invertBy = createInverter(function(result2, value, key) {
            if (value != null && typeof value.toString != "function") {
              value = nativeObjectToString.call(value);
            }
            if (hasOwnProperty.call(result2, value)) {
              result2[value].push(key);
            } else {
              result2[value] = [key];
            }
          }, getIteratee);
          var invoke = baseRest(baseInvoke);
          function keys(object) {
            return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);
          }
          function keysIn(object) {
            return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);
          }
          function mapKeys(object, iteratee2) {
            var result2 = {};
            iteratee2 = getIteratee(iteratee2, 3);
            baseForOwn(object, function(value, key, object2) {
              baseAssignValue(result2, iteratee2(value, key, object2), value);
            });
            return result2;
          }
          function mapValues(object, iteratee2) {
            var result2 = {};
            iteratee2 = getIteratee(iteratee2, 3);
            baseForOwn(object, function(value, key, object2) {
              baseAssignValue(result2, key, iteratee2(value, key, object2));
            });
            return result2;
          }
          var merge = createAssigner(function(object, source, srcIndex) {
            baseMerge(object, source, srcIndex);
          });
          var mergeWith = createAssigner(function(object, source, srcIndex, customizer) {
            baseMerge(object, source, srcIndex, customizer);
          });
          var omit = flatRest(function(object, paths) {
            var result2 = {};
            if (object == null) {
              return result2;
            }
            var isDeep = false;
            paths = arrayMap(paths, function(path) {
              path = castPath(path, object);
              isDeep || (isDeep = path.length > 1);
              return path;
            });
            copyObject(object, getAllKeysIn(object), result2);
            if (isDeep) {
              result2 = baseClone(result2, CLONE_DEEP_FLAG | CLONE_FLAT_FLAG | CLONE_SYMBOLS_FLAG, customOmitClone);
            }
            var length = paths.length;
            while (length--) {
              baseUnset(result2, paths[length]);
            }
            return result2;
          });
          function omitBy(object, predicate) {
            return pickBy(object, negate(getIteratee(predicate)));
          }
          var pick = flatRest(function(object, paths) {
            return object == null ? {} : basePick(object, paths);
          });
          function pickBy(object, predicate) {
            if (object == null) {
              return {};
            }
            var props = arrayMap(getAllKeysIn(object), function(prop) {
              return [prop];
            });
            predicate = getIteratee(predicate);
            return basePickBy(object, props, function(value, path) {
              return predicate(value, path[0]);
            });
          }
          function result(object, path, defaultValue) {
            path = castPath(path, object);
            var index = -1, length = path.length;
            if (!length) {
              length = 1;
              object = undefined2;
            }
            while (++index < length) {
              var value = object == null ? undefined2 : object[toKey(path[index])];
              if (value === undefined2) {
                index = length;
                value = defaultValue;
              }
              object = isFunction(value) ? value.call(object) : value;
            }
            return object;
          }
          function set(object, path, value) {
            return object == null ? object : baseSet(object, path, value);
          }
          function setWith(object, path, value, customizer) {
            customizer = typeof customizer == "function" ? customizer : undefined2;
            return object == null ? object : baseSet(object, path, value, customizer);
          }
          var toPairs = createToPairs(keys);
          var toPairsIn = createToPairs(keysIn);
          function transform(object, iteratee2, accumulator) {
            var isArr = isArray(object), isArrLike = isArr || isBuffer(object) || isTypedArray(object);
            iteratee2 = getIteratee(iteratee2, 4);
            if (accumulator == null) {
              var Ctor = object && object.constructor;
              if (isArrLike) {
                accumulator = isArr ? new Ctor() : [];
              } else if (isObject(object)) {
                accumulator = isFunction(Ctor) ? baseCreate(getPrototype(object)) : {};
              } else {
                accumulator = {};
              }
            }
            (isArrLike ? arrayEach : baseForOwn)(object, function(value, index, object2) {
              return iteratee2(accumulator, value, index, object2);
            });
            return accumulator;
          }
          function unset(object, path) {
            return object == null ? true : baseUnset(object, path);
          }
          function update(object, path, updater) {
            return object == null ? object : baseUpdate(object, path, castFunction(updater));
          }
          function updateWith(object, path, updater, customizer) {
            customizer = typeof customizer == "function" ? customizer : undefined2;
            return object == null ? object : baseUpdate(object, path, castFunction(updater), customizer);
          }
          function values(object) {
            return object == null ? [] : baseValues(object, keys(object));
          }
          function valuesIn(object) {
            return object == null ? [] : baseValues(object, keysIn(object));
          }
          function clamp(number, lower, upper) {
            if (upper === undefined2) {
              upper = lower;
              lower = undefined2;
            }
            if (upper !== undefined2) {
              upper = toNumber(upper);
              upper = upper === upper ? upper : 0;
            }
            if (lower !== undefined2) {
              lower = toNumber(lower);
              lower = lower === lower ? lower : 0;
            }
            return baseClamp(toNumber(number), lower, upper);
          }
          function inRange(number, start, end) {
            start = toFinite(start);
            if (end === undefined2) {
              end = start;
              start = 0;
            } else {
              end = toFinite(end);
            }
            number = toNumber(number);
            return baseInRange(number, start, end);
          }
          function random(lower, upper, floating) {
            if (floating && typeof floating != "boolean" && isIterateeCall(lower, upper, floating)) {
              upper = floating = undefined2;
            }
            if (floating === undefined2) {
              if (typeof upper == "boolean") {
                floating = upper;
                upper = undefined2;
              } else if (typeof lower == "boolean") {
                floating = lower;
                lower = undefined2;
              }
            }
            if (lower === undefined2 && upper === undefined2) {
              lower = 0;
              upper = 1;
            } else {
              lower = toFinite(lower);
              if (upper === undefined2) {
                upper = lower;
                lower = 0;
              } else {
                upper = toFinite(upper);
              }
            }
            if (lower > upper) {
              var temp = lower;
              lower = upper;
              upper = temp;
            }
            if (floating || lower % 1 || upper % 1) {
              var rand = nativeRandom();
              return nativeMin(lower + rand * (upper - lower + freeParseFloat("1e-" + ((rand + "").length - 1))), upper);
            }
            return baseRandom(lower, upper);
          }
          var camelCase = createCompounder(function(result2, word, index) {
            word = word.toLowerCase();
            return result2 + (index ? capitalize(word) : word);
          });
          function capitalize(string) {
            return upperFirst(toString(string).toLowerCase());
          }
          function deburr(string) {
            string = toString(string);
            return string && string.replace(reLatin, deburrLetter).replace(reComboMark, "");
          }
          function endsWith(string, target, position) {
            string = toString(string);
            target = baseToString(target);
            var length = string.length;
            position = position === undefined2 ? length : baseClamp(toInteger(position), 0, length);
            var end = position;
            position -= target.length;
            return position >= 0 && string.slice(position, end) == target;
          }
          function escape(string) {
            string = toString(string);
            return string && reHasUnescapedHtml.test(string) ? string.replace(reUnescapedHtml, escapeHtmlChar) : string;
          }
          function escapeRegExp(string) {
            string = toString(string);
            return string && reHasRegExpChar.test(string) ? string.replace(reRegExpChar, "\\$&") : string;
          }
          var kebabCase = createCompounder(function(result2, word, index) {
            return result2 + (index ? "-" : "") + word.toLowerCase();
          });
          var lowerCase = createCompounder(function(result2, word, index) {
            return result2 + (index ? " " : "") + word.toLowerCase();
          });
          var lowerFirst = createCaseFirst("toLowerCase");
          function pad(string, length, chars) {
            string = toString(string);
            length = toInteger(length);
            var strLength = length ? stringSize(string) : 0;
            if (!length || strLength >= length) {
              return string;
            }
            var mid = (length - strLength) / 2;
            return createPadding(nativeFloor(mid), chars) + string + createPadding(nativeCeil(mid), chars);
          }
          function padEnd(string, length, chars) {
            string = toString(string);
            length = toInteger(length);
            var strLength = length ? stringSize(string) : 0;
            return length && strLength < length ? string + createPadding(length - strLength, chars) : string;
          }
          function padStart(string, length, chars) {
            string = toString(string);
            length = toInteger(length);
            var strLength = length ? stringSize(string) : 0;
            return length && strLength < length ? createPadding(length - strLength, chars) + string : string;
          }
          function parseInt2(string, radix, guard) {
            if (guard || radix == null) {
              radix = 0;
            } else if (radix) {
              radix = +radix;
            }
            return nativeParseInt(toString(string).replace(reTrimStart, ""), radix || 0);
          }
          function repeat(string, n, guard) {
            if (guard ? isIterateeCall(string, n, guard) : n === undefined2) {
              n = 1;
            } else {
              n = toInteger(n);
            }
            return baseRepeat(toString(string), n);
          }
          function replace() {
            var args = arguments, string = toString(args[0]);
            return args.length < 3 ? string : string.replace(args[1], args[2]);
          }
          var snakeCase = createCompounder(function(result2, word, index) {
            return result2 + (index ? "_" : "") + word.toLowerCase();
          });
          function split(string, separator, limit) {
            if (limit && typeof limit != "number" && isIterateeCall(string, separator, limit)) {
              separator = limit = undefined2;
            }
            limit = limit === undefined2 ? MAX_ARRAY_LENGTH : limit >>> 0;
            if (!limit) {
              return [];
            }
            string = toString(string);
            if (string && (typeof separator == "string" || separator != null && !isRegExp(separator))) {
              separator = baseToString(separator);
              if (!separator && hasUnicode(string)) {
                return castSlice(stringToArray(string), 0, limit);
              }
            }
            return string.split(separator, limit);
          }
          var startCase = createCompounder(function(result2, word, index) {
            return result2 + (index ? " " : "") + upperFirst(word);
          });
          function startsWith(string, target, position) {
            string = toString(string);
            position = position == null ? 0 : baseClamp(toInteger(position), 0, string.length);
            target = baseToString(target);
            return string.slice(position, position + target.length) == target;
          }
          function template(string, options, guard) {
            var settings = lodash.templateSettings;
            if (guard && isIterateeCall(string, options, guard)) {
              options = undefined2;
            }
            string = toString(string);
            options = assignInWith({}, options, settings, customDefaultsAssignIn);
            var imports = assignInWith({}, options.imports, settings.imports, customDefaultsAssignIn), importsKeys = keys(imports), importsValues = baseValues(imports, importsKeys);
            var isEscaping, isEvaluating, index = 0, interpolate = options.interpolate || reNoMatch, source = "__p += '";
            var reDelimiters = RegExp2((options.escape || reNoMatch).source + "|" + interpolate.source + "|" + (interpolate === reInterpolate ? reEsTemplate : reNoMatch).source + "|" + (options.evaluate || reNoMatch).source + "|$", "g");
            var sourceURL = "//# sourceURL=" + (hasOwnProperty.call(options, "sourceURL") ? (options.sourceURL + "").replace(/\s/g, " ") : "lodash.templateSources[" + ++templateCounter + "]") + "\n";
            string.replace(reDelimiters, function(match, escapeValue, interpolateValue, esTemplateValue, evaluateValue, offset) {
              interpolateValue || (interpolateValue = esTemplateValue);
              source += string.slice(index, offset).replace(reUnescapedString, escapeStringChar);
              if (escapeValue) {
                isEscaping = true;
                source += "' +\n__e(" + escapeValue + ") +\n'";
              }
              if (evaluateValue) {
                isEvaluating = true;
                source += "';\n" + evaluateValue + ";\n__p += '";
              }
              if (interpolateValue) {
                source += "' +\n((__t = (" + interpolateValue + ")) == null ? '' : __t) +\n'";
              }
              index = offset + match.length;
              return match;
            });
            source += "';\n";
            var variable = hasOwnProperty.call(options, "variable") && options.variable;
            if (!variable) {
              source = "with (obj) {\n" + source + "\n}\n";
            } else if (reForbiddenIdentifierChars.test(variable)) {
              throw new Error2(INVALID_TEMPL_VAR_ERROR_TEXT);
            }
            source = (isEvaluating ? source.replace(reEmptyStringLeading, "") : source).replace(reEmptyStringMiddle, "$1").replace(reEmptyStringTrailing, "$1;");
            source = "function(" + (variable || "obj") + ") {\n" + (variable ? "" : "obj || (obj = {});\n") + "var __t, __p = ''" + (isEscaping ? ", __e = _.escape" : "") + (isEvaluating ? ", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n" : ";\n") + source + "return __p\n}";
            var result2 = attempt(function() {
              return Function2(importsKeys, sourceURL + "return " + source).apply(undefined2, importsValues);
            });
            result2.source = source;
            if (isError(result2)) {
              throw result2;
            }
            return result2;
          }
          function toLower(value) {
            return toString(value).toLowerCase();
          }
          function toUpper(value) {
            return toString(value).toUpperCase();
          }
          function trim(string, chars, guard) {
            string = toString(string);
            if (string && (guard || chars === undefined2)) {
              return baseTrim(string);
            }
            if (!string || !(chars = baseToString(chars))) {
              return string;
            }
            var strSymbols = stringToArray(string), chrSymbols = stringToArray(chars), start = charsStartIndex(strSymbols, chrSymbols), end = charsEndIndex(strSymbols, chrSymbols) + 1;
            return castSlice(strSymbols, start, end).join("");
          }
          function trimEnd(string, chars, guard) {
            string = toString(string);
            if (string && (guard || chars === undefined2)) {
              return string.slice(0, trimmedEndIndex(string) + 1);
            }
            if (!string || !(chars = baseToString(chars))) {
              return string;
            }
            var strSymbols = stringToArray(string), end = charsEndIndex(strSymbols, stringToArray(chars)) + 1;
            return castSlice(strSymbols, 0, end).join("");
          }
          function trimStart(string, chars, guard) {
            string = toString(string);
            if (string && (guard || chars === undefined2)) {
              return string.replace(reTrimStart, "");
            }
            if (!string || !(chars = baseToString(chars))) {
              return string;
            }
            var strSymbols = stringToArray(string), start = charsStartIndex(strSymbols, stringToArray(chars));
            return castSlice(strSymbols, start).join("");
          }
          function truncate(string, options) {
            var length = DEFAULT_TRUNC_LENGTH, omission = DEFAULT_TRUNC_OMISSION;
            if (isObject(options)) {
              var separator = "separator" in options ? options.separator : separator;
              length = "length" in options ? toInteger(options.length) : length;
              omission = "omission" in options ? baseToString(options.omission) : omission;
            }
            string = toString(string);
            var strLength = string.length;
            if (hasUnicode(string)) {
              var strSymbols = stringToArray(string);
              strLength = strSymbols.length;
            }
            if (length >= strLength) {
              return string;
            }
            var end = length - stringSize(omission);
            if (end < 1) {
              return omission;
            }
            var result2 = strSymbols ? castSlice(strSymbols, 0, end).join("") : string.slice(0, end);
            if (separator === undefined2) {
              return result2 + omission;
            }
            if (strSymbols) {
              end += result2.length - end;
            }
            if (isRegExp(separator)) {
              if (string.slice(end).search(separator)) {
                var match, substring = result2;
                if (!separator.global) {
                  separator = RegExp2(separator.source, toString(reFlags.exec(separator)) + "g");
                }
                separator.lastIndex = 0;
                while (match = separator.exec(substring)) {
                  var newEnd = match.index;
                }
                result2 = result2.slice(0, newEnd === undefined2 ? end : newEnd);
              }
            } else if (string.indexOf(baseToString(separator), end) != end) {
              var index = result2.lastIndexOf(separator);
              if (index > -1) {
                result2 = result2.slice(0, index);
              }
            }
            return result2 + omission;
          }
          function unescape(string) {
            string = toString(string);
            return string && reHasEscapedHtml.test(string) ? string.replace(reEscapedHtml, unescapeHtmlChar) : string;
          }
          var upperCase = createCompounder(function(result2, word, index) {
            return result2 + (index ? " " : "") + word.toUpperCase();
          });
          var upperFirst = createCaseFirst("toUpperCase");
          function words(string, pattern, guard) {
            string = toString(string);
            pattern = guard ? undefined2 : pattern;
            if (pattern === undefined2) {
              return hasUnicodeWord(string) ? unicodeWords(string) : asciiWords(string);
            }
            return string.match(pattern) || [];
          }
          var attempt = baseRest(function(func, args) {
            try {
              return apply(func, undefined2, args);
            } catch (e) {
              return isError(e) ? e : new Error2(e);
            }
          });
          var bindAll = flatRest(function(object, methodNames) {
            arrayEach(methodNames, function(key) {
              key = toKey(key);
              baseAssignValue(object, key, bind(object[key], object));
            });
            return object;
          });
          function cond(pairs) {
            var length = pairs == null ? 0 : pairs.length, toIteratee = getIteratee();
            pairs = !length ? [] : arrayMap(pairs, function(pair) {
              if (typeof pair[1] != "function") {
                throw new TypeError2(FUNC_ERROR_TEXT);
              }
              return [toIteratee(pair[0]), pair[1]];
            });
            return baseRest(function(args) {
              var index = -1;
              while (++index < length) {
                var pair = pairs[index];
                if (apply(pair[0], this, args)) {
                  return apply(pair[1], this, args);
                }
              }
            });
          }
          function conforms(source) {
            return baseConforms(baseClone(source, CLONE_DEEP_FLAG));
          }
          function constant(value) {
            return function() {
              return value;
            };
          }
          function defaultTo(value, defaultValue) {
            return value == null || value !== value ? defaultValue : value;
          }
          var flow = createFlow();
          var flowRight = createFlow(true);
          function identity(value) {
            return value;
          }
          function iteratee(func) {
            return baseIteratee(typeof func == "function" ? func : baseClone(func, CLONE_DEEP_FLAG));
          }
          function matches(source) {
            return baseMatches(baseClone(source, CLONE_DEEP_FLAG));
          }
          function matchesProperty(path, srcValue) {
            return baseMatchesProperty(path, baseClone(srcValue, CLONE_DEEP_FLAG));
          }
          var method = baseRest(function(path, args) {
            return function(object) {
              return baseInvoke(object, path, args);
            };
          });
          var methodOf = baseRest(function(object, args) {
            return function(path) {
              return baseInvoke(object, path, args);
            };
          });
          function mixin(object, source, options) {
            var props = keys(source), methodNames = baseFunctions(source, props);
            if (options == null && !(isObject(source) && (methodNames.length || !props.length))) {
              options = source;
              source = object;
              object = this;
              methodNames = baseFunctions(source, keys(source));
            }
            var chain2 = !(isObject(options) && "chain" in options) || !!options.chain, isFunc = isFunction(object);
            arrayEach(methodNames, function(methodName) {
              var func = source[methodName];
              object[methodName] = func;
              if (isFunc) {
                object.prototype[methodName] = function() {
                  var chainAll = this.__chain__;
                  if (chain2 || chainAll) {
                    var result2 = object(this.__wrapped__), actions = result2.__actions__ = copyArray(this.__actions__);
                    actions.push({"func": func, "args": arguments, "thisArg": object});
                    result2.__chain__ = chainAll;
                    return result2;
                  }
                  return func.apply(object, arrayPush([this.value()], arguments));
                };
              }
            });
            return object;
          }
          function noConflict() {
            if (root._ === this) {
              root._ = oldDash;
            }
            return this;
          }
          function noop() {
          }
          function nthArg(n) {
            n = toInteger(n);
            return baseRest(function(args) {
              return baseNth(args, n);
            });
          }
          var over = createOver(arrayMap);
          var overEvery = createOver(arrayEvery);
          var overSome = createOver(arraySome);
          function property(path) {
            return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);
          }
          function propertyOf(object) {
            return function(path) {
              return object == null ? undefined2 : baseGet(object, path);
            };
          }
          var range = createRange();
          var rangeRight = createRange(true);
          function stubArray() {
            return [];
          }
          function stubFalse() {
            return false;
          }
          function stubObject() {
            return {};
          }
          function stubString() {
            return "";
          }
          function stubTrue() {
            return true;
          }
          function times(n, iteratee2) {
            n = toInteger(n);
            if (n < 1 || n > MAX_SAFE_INTEGER) {
              return [];
            }
            var index = MAX_ARRAY_LENGTH, length = nativeMin(n, MAX_ARRAY_LENGTH);
            iteratee2 = getIteratee(iteratee2);
            n -= MAX_ARRAY_LENGTH;
            var result2 = baseTimes(length, iteratee2);
            while (++index < n) {
              iteratee2(index);
            }
            return result2;
          }
          function toPath(value) {
            if (isArray(value)) {
              return arrayMap(value, toKey);
            }
            return isSymbol(value) ? [value] : copyArray(stringToPath(toString(value)));
          }
          function uniqueId(prefix) {
            var id = ++idCounter;
            return toString(prefix) + id;
          }
          var add = createMathOperation(function(augend, addend) {
            return augend + addend;
          }, 0);
          var ceil = createRound("ceil");
          var divide = createMathOperation(function(dividend, divisor) {
            return dividend / divisor;
          }, 1);
          var floor = createRound("floor");
          function max(array) {
            return array && array.length ? baseExtremum(array, identity, baseGt) : undefined2;
          }
          function maxBy(array, iteratee2) {
            return array && array.length ? baseExtremum(array, getIteratee(iteratee2, 2), baseGt) : undefined2;
          }
          function mean(array) {
            return baseMean(array, identity);
          }
          function meanBy(array, iteratee2) {
            return baseMean(array, getIteratee(iteratee2, 2));
          }
          function min(array) {
            return array && array.length ? baseExtremum(array, identity, baseLt) : undefined2;
          }
          function minBy(array, iteratee2) {
            return array && array.length ? baseExtremum(array, getIteratee(iteratee2, 2), baseLt) : undefined2;
          }
          var multiply = createMathOperation(function(multiplier, multiplicand) {
            return multiplier * multiplicand;
          }, 1);
          var round = createRound("round");
          var subtract = createMathOperation(function(minuend, subtrahend) {
            return minuend - subtrahend;
          }, 0);
          function sum(array) {
            return array && array.length ? baseSum(array, identity) : 0;
          }
          function sumBy(array, iteratee2) {
            return array && array.length ? baseSum(array, getIteratee(iteratee2, 2)) : 0;
          }
          lodash.after = after;
          lodash.ary = ary;
          lodash.assign = assign;
          lodash.assignIn = assignIn;
          lodash.assignInWith = assignInWith;
          lodash.assignWith = assignWith;
          lodash.at = at;
          lodash.before = before;
          lodash.bind = bind;
          lodash.bindAll = bindAll;
          lodash.bindKey = bindKey;
          lodash.castArray = castArray;
          lodash.chain = chain;
          lodash.chunk = chunk;
          lodash.compact = compact;
          lodash.concat = concat;
          lodash.cond = cond;
          lodash.conforms = conforms;
          lodash.constant = constant;
          lodash.countBy = countBy;
          lodash.create = create;
          lodash.curry = curry;
          lodash.curryRight = curryRight;
          lodash.debounce = debounce;
          lodash.defaults = defaults;
          lodash.defaultsDeep = defaultsDeep;
          lodash.defer = defer;
          lodash.delay = delay;
          lodash.difference = difference;
          lodash.differenceBy = differenceBy;
          lodash.differenceWith = differenceWith;
          lodash.drop = drop;
          lodash.dropRight = dropRight;
          lodash.dropRightWhile = dropRightWhile;
          lodash.dropWhile = dropWhile;
          lodash.fill = fill;
          lodash.filter = filter;
          lodash.flatMap = flatMap;
          lodash.flatMapDeep = flatMapDeep;
          lodash.flatMapDepth = flatMapDepth;
          lodash.flatten = flatten;
          lodash.flattenDeep = flattenDeep;
          lodash.flattenDepth = flattenDepth;
          lodash.flip = flip;
          lodash.flow = flow;
          lodash.flowRight = flowRight;
          lodash.fromPairs = fromPairs;
          lodash.functions = functions;
          lodash.functionsIn = functionsIn;
          lodash.groupBy = groupBy;
          lodash.initial = initial;
          lodash.intersection = intersection;
          lodash.intersectionBy = intersectionBy;
          lodash.intersectionWith = intersectionWith;
          lodash.invert = invert;
          lodash.invertBy = invertBy;
          lodash.invokeMap = invokeMap;
          lodash.iteratee = iteratee;
          lodash.keyBy = keyBy;
          lodash.keys = keys;
          lodash.keysIn = keysIn;
          lodash.map = map;
          lodash.mapKeys = mapKeys;
          lodash.mapValues = mapValues;
          lodash.matches = matches;
          lodash.matchesProperty = matchesProperty;
          lodash.memoize = memoize;
          lodash.merge = merge;
          lodash.mergeWith = mergeWith;
          lodash.method = method;
          lodash.methodOf = methodOf;
          lodash.mixin = mixin;
          lodash.negate = negate;
          lodash.nthArg = nthArg;
          lodash.omit = omit;
          lodash.omitBy = omitBy;
          lodash.once = once;
          lodash.orderBy = orderBy;
          lodash.over = over;
          lodash.overArgs = overArgs;
          lodash.overEvery = overEvery;
          lodash.overSome = overSome;
          lodash.partial = partial;
          lodash.partialRight = partialRight;
          lodash.partition = partition;
          lodash.pick = pick;
          lodash.pickBy = pickBy;
          lodash.property = property;
          lodash.propertyOf = propertyOf;
          lodash.pull = pull;
          lodash.pullAll = pullAll;
          lodash.pullAllBy = pullAllBy;
          lodash.pullAllWith = pullAllWith;
          lodash.pullAt = pullAt;
          lodash.range = range;
          lodash.rangeRight = rangeRight;
          lodash.rearg = rearg;
          lodash.reject = reject;
          lodash.remove = remove;
          lodash.rest = rest;
          lodash.reverse = reverse;
          lodash.sampleSize = sampleSize;
          lodash.set = set;
          lodash.setWith = setWith;
          lodash.shuffle = shuffle;
          lodash.slice = slice;
          lodash.sortBy = sortBy;
          lodash.sortedUniq = sortedUniq;
          lodash.sortedUniqBy = sortedUniqBy;
          lodash.split = split;
          lodash.spread = spread;
          lodash.tail = tail;
          lodash.take = take;
          lodash.takeRight = takeRight;
          lodash.takeRightWhile = takeRightWhile;
          lodash.takeWhile = takeWhile;
          lodash.tap = tap;
          lodash.throttle = throttle;
          lodash.thru = thru;
          lodash.toArray = toArray;
          lodash.toPairs = toPairs;
          lodash.toPairsIn = toPairsIn;
          lodash.toPath = toPath;
          lodash.toPlainObject = toPlainObject;
          lodash.transform = transform;
          lodash.unary = unary;
          lodash.union = union;
          lodash.unionBy = unionBy;
          lodash.unionWith = unionWith;
          lodash.uniq = uniq;
          lodash.uniqBy = uniqBy;
          lodash.uniqWith = uniqWith;
          lodash.unset = unset;
          lodash.unzip = unzip;
          lodash.unzipWith = unzipWith;
          lodash.update = update;
          lodash.updateWith = updateWith;
          lodash.values = values;
          lodash.valuesIn = valuesIn;
          lodash.without = without;
          lodash.words = words;
          lodash.wrap = wrap;
          lodash.xor = xor;
          lodash.xorBy = xorBy;
          lodash.xorWith = xorWith;
          lodash.zip = zip;
          lodash.zipObject = zipObject;
          lodash.zipObjectDeep = zipObjectDeep;
          lodash.zipWith = zipWith;
          lodash.entries = toPairs;
          lodash.entriesIn = toPairsIn;
          lodash.extend = assignIn;
          lodash.extendWith = assignInWith;
          mixin(lodash, lodash);
          lodash.add = add;
          lodash.attempt = attempt;
          lodash.camelCase = camelCase;
          lodash.capitalize = capitalize;
          lodash.ceil = ceil;
          lodash.clamp = clamp;
          lodash.clone = clone;
          lodash.cloneDeep = cloneDeep;
          lodash.cloneDeepWith = cloneDeepWith;
          lodash.cloneWith = cloneWith;
          lodash.conformsTo = conformsTo;
          lodash.deburr = deburr;
          lodash.defaultTo = defaultTo;
          lodash.divide = divide;
          lodash.endsWith = endsWith;
          lodash.eq = eq;
          lodash.escape = escape;
          lodash.escapeRegExp = escapeRegExp;
          lodash.every = every;
          lodash.find = find;
          lodash.findIndex = findIndex;
          lodash.findKey = findKey;
          lodash.findLast = findLast;
          lodash.findLastIndex = findLastIndex;
          lodash.findLastKey = findLastKey;
          lodash.floor = floor;
          lodash.forEach = forEach;
          lodash.forEachRight = forEachRight;
          lodash.forIn = forIn;
          lodash.forInRight = forInRight;
          lodash.forOwn = forOwn;
          lodash.forOwnRight = forOwnRight;
          lodash.get = get;
          lodash.gt = gt;
          lodash.gte = gte;
          lodash.has = has;
          lodash.hasIn = hasIn;
          lodash.head = head;
          lodash.identity = identity;
          lodash.includes = includes;
          lodash.indexOf = indexOf;
          lodash.inRange = inRange;
          lodash.invoke = invoke;
          lodash.isArguments = isArguments;
          lodash.isArray = isArray;
          lodash.isArrayBuffer = isArrayBuffer;
          lodash.isArrayLike = isArrayLike;
          lodash.isArrayLikeObject = isArrayLikeObject;
          lodash.isBoolean = isBoolean;
          lodash.isBuffer = isBuffer;
          lodash.isDate = isDate;
          lodash.isElement = isElement;
          lodash.isEmpty = isEmpty;
          lodash.isEqual = isEqual;
          lodash.isEqualWith = isEqualWith;
          lodash.isError = isError;
          lodash.isFinite = isFinite2;
          lodash.isFunction = isFunction;
          lodash.isInteger = isInteger;
          lodash.isLength = isLength;
          lodash.isMap = isMap;
          lodash.isMatch = isMatch;
          lodash.isMatchWith = isMatchWith;
          lodash.isNaN = isNaN2;
          lodash.isNative = isNative;
          lodash.isNil = isNil;
          lodash.isNull = isNull;
          lodash.isNumber = isNumber;
          lodash.isObject = isObject;
          lodash.isObjectLike = isObjectLike;
          lodash.isPlainObject = isPlainObject;
          lodash.isRegExp = isRegExp;
          lodash.isSafeInteger = isSafeInteger;
          lodash.isSet = isSet;
          lodash.isString = isString;
          lodash.isSymbol = isSymbol;
          lodash.isTypedArray = isTypedArray;
          lodash.isUndefined = isUndefined;
          lodash.isWeakMap = isWeakMap;
          lodash.isWeakSet = isWeakSet;
          lodash.join = join3;
          lodash.kebabCase = kebabCase;
          lodash.last = last;
          lodash.lastIndexOf = lastIndexOf;
          lodash.lowerCase = lowerCase;
          lodash.lowerFirst = lowerFirst;
          lodash.lt = lt;
          lodash.lte = lte;
          lodash.max = max;
          lodash.maxBy = maxBy;
          lodash.mean = mean;
          lodash.meanBy = meanBy;
          lodash.min = min;
          lodash.minBy = minBy;
          lodash.stubArray = stubArray;
          lodash.stubFalse = stubFalse;
          lodash.stubObject = stubObject;
          lodash.stubString = stubString;
          lodash.stubTrue = stubTrue;
          lodash.multiply = multiply;
          lodash.nth = nth;
          lodash.noConflict = noConflict;
          lodash.noop = noop;
          lodash.now = now;
          lodash.pad = pad;
          lodash.padEnd = padEnd;
          lodash.padStart = padStart;
          lodash.parseInt = parseInt2;
          lodash.random = random;
          lodash.reduce = reduce;
          lodash.reduceRight = reduceRight;
          lodash.repeat = repeat;
          lodash.replace = replace;
          lodash.result = result;
          lodash.round = round;
          lodash.runInContext = runInContext2;
          lodash.sample = sample;
          lodash.size = size;
          lodash.snakeCase = snakeCase;
          lodash.some = some;
          lodash.sortedIndex = sortedIndex;
          lodash.sortedIndexBy = sortedIndexBy;
          lodash.sortedIndexOf = sortedIndexOf;
          lodash.sortedLastIndex = sortedLastIndex;
          lodash.sortedLastIndexBy = sortedLastIndexBy;
          lodash.sortedLastIndexOf = sortedLastIndexOf;
          lodash.startCase = startCase;
          lodash.startsWith = startsWith;
          lodash.subtract = subtract;
          lodash.sum = sum;
          lodash.sumBy = sumBy;
          lodash.template = template;
          lodash.times = times;
          lodash.toFinite = toFinite;
          lodash.toInteger = toInteger;
          lodash.toLength = toLength;
          lodash.toLower = toLower;
          lodash.toNumber = toNumber;
          lodash.toSafeInteger = toSafeInteger;
          lodash.toString = toString;
          lodash.toUpper = toUpper;
          lodash.trim = trim;
          lodash.trimEnd = trimEnd;
          lodash.trimStart = trimStart;
          lodash.truncate = truncate;
          lodash.unescape = unescape;
          lodash.uniqueId = uniqueId;
          lodash.upperCase = upperCase;
          lodash.upperFirst = upperFirst;
          lodash.each = forEach;
          lodash.eachRight = forEachRight;
          lodash.first = head;
          mixin(lodash, function() {
            var source = {};
            baseForOwn(lodash, function(func, methodName) {
              if (!hasOwnProperty.call(lodash.prototype, methodName)) {
                source[methodName] = func;
              }
            });
            return source;
          }(), {"chain": false});
          lodash.VERSION = VERSION;
          arrayEach(["bind", "bindKey", "curry", "curryRight", "partial", "partialRight"], function(methodName) {
            lodash[methodName].placeholder = lodash;
          });
          arrayEach(["drop", "take"], function(methodName, index) {
            LazyWrapper.prototype[methodName] = function(n) {
              n = n === undefined2 ? 1 : nativeMax(toInteger(n), 0);
              var result2 = this.__filtered__ && !index ? new LazyWrapper(this) : this.clone();
              if (result2.__filtered__) {
                result2.__takeCount__ = nativeMin(n, result2.__takeCount__);
              } else {
                result2.__views__.push({
                  "size": nativeMin(n, MAX_ARRAY_LENGTH),
                  "type": methodName + (result2.__dir__ < 0 ? "Right" : "")
                });
              }
              return result2;
            };
            LazyWrapper.prototype[methodName + "Right"] = function(n) {
              return this.reverse()[methodName](n).reverse();
            };
          });
          arrayEach(["filter", "map", "takeWhile"], function(methodName, index) {
            var type = index + 1, isFilter = type == LAZY_FILTER_FLAG || type == LAZY_WHILE_FLAG;
            LazyWrapper.prototype[methodName] = function(iteratee2) {
              var result2 = this.clone();
              result2.__iteratees__.push({
                "iteratee": getIteratee(iteratee2, 3),
                "type": type
              });
              result2.__filtered__ = result2.__filtered__ || isFilter;
              return result2;
            };
          });
          arrayEach(["head", "last"], function(methodName, index) {
            var takeName = "take" + (index ? "Right" : "");
            LazyWrapper.prototype[methodName] = function() {
              return this[takeName](1).value()[0];
            };
          });
          arrayEach(["initial", "tail"], function(methodName, index) {
            var dropName = "drop" + (index ? "" : "Right");
            LazyWrapper.prototype[methodName] = function() {
              return this.__filtered__ ? new LazyWrapper(this) : this[dropName](1);
            };
          });
          LazyWrapper.prototype.compact = function() {
            return this.filter(identity);
          };
          LazyWrapper.prototype.find = function(predicate) {
            return this.filter(predicate).head();
          };
          LazyWrapper.prototype.findLast = function(predicate) {
            return this.reverse().find(predicate);
          };
          LazyWrapper.prototype.invokeMap = baseRest(function(path, args) {
            if (typeof path == "function") {
              return new LazyWrapper(this);
            }
            return this.map(function(value) {
              return baseInvoke(value, path, args);
            });
          });
          LazyWrapper.prototype.reject = function(predicate) {
            return this.filter(negate(getIteratee(predicate)));
          };
          LazyWrapper.prototype.slice = function(start, end) {
            start = toInteger(start);
            var result2 = this;
            if (result2.__filtered__ && (start > 0 || end < 0)) {
              return new LazyWrapper(result2);
            }
            if (start < 0) {
              result2 = result2.takeRight(-start);
            } else if (start) {
              result2 = result2.drop(start);
            }
            if (end !== undefined2) {
              end = toInteger(end);
              result2 = end < 0 ? result2.dropRight(-end) : result2.take(end - start);
            }
            return result2;
          };
          LazyWrapper.prototype.takeRightWhile = function(predicate) {
            return this.reverse().takeWhile(predicate).reverse();
          };
          LazyWrapper.prototype.toArray = function() {
            return this.take(MAX_ARRAY_LENGTH);
          };
          baseForOwn(LazyWrapper.prototype, function(func, methodName) {
            var checkIteratee = /^(?:filter|find|map|reject)|While$/.test(methodName), isTaker = /^(?:head|last)$/.test(methodName), lodashFunc = lodash[isTaker ? "take" + (methodName == "last" ? "Right" : "") : methodName], retUnwrapped = isTaker || /^find/.test(methodName);
            if (!lodashFunc) {
              return;
            }
            lodash.prototype[methodName] = function() {
              var value = this.__wrapped__, args = isTaker ? [1] : arguments, isLazy = value instanceof LazyWrapper, iteratee2 = args[0], useLazy = isLazy || isArray(value);
              var interceptor = function(value2) {
                var result3 = lodashFunc.apply(lodash, arrayPush([value2], args));
                return isTaker && chainAll ? result3[0] : result3;
              };
              if (useLazy && checkIteratee && typeof iteratee2 == "function" && iteratee2.length != 1) {
                isLazy = useLazy = false;
              }
              var chainAll = this.__chain__, isHybrid = !!this.__actions__.length, isUnwrapped = retUnwrapped && !chainAll, onlyLazy = isLazy && !isHybrid;
              if (!retUnwrapped && useLazy) {
                value = onlyLazy ? value : new LazyWrapper(this);
                var result2 = func.apply(value, args);
                result2.__actions__.push({"func": thru, "args": [interceptor], "thisArg": undefined2});
                return new LodashWrapper(result2, chainAll);
              }
              if (isUnwrapped && onlyLazy) {
                return func.apply(this, args);
              }
              result2 = this.thru(interceptor);
              return isUnwrapped ? isTaker ? result2.value()[0] : result2.value() : result2;
            };
          });
          arrayEach(["pop", "push", "shift", "sort", "splice", "unshift"], function(methodName) {
            var func = arrayProto[methodName], chainName = /^(?:push|sort|unshift)$/.test(methodName) ? "tap" : "thru", retUnwrapped = /^(?:pop|shift)$/.test(methodName);
            lodash.prototype[methodName] = function() {
              var args = arguments;
              if (retUnwrapped && !this.__chain__) {
                var value = this.value();
                return func.apply(isArray(value) ? value : [], args);
              }
              return this[chainName](function(value2) {
                return func.apply(isArray(value2) ? value2 : [], args);
              });
            };
          });
          baseForOwn(LazyWrapper.prototype, function(func, methodName) {
            var lodashFunc = lodash[methodName];
            if (lodashFunc) {
              var key = lodashFunc.name + "";
              if (!hasOwnProperty.call(realNames, key)) {
                realNames[key] = [];
              }
              realNames[key].push({"name": methodName, "func": lodashFunc});
            }
          });
          realNames[createHybrid(undefined2, WRAP_BIND_KEY_FLAG).name] = [{
            "name": "wrapper",
            "func": undefined2
          }];
          LazyWrapper.prototype.clone = lazyClone;
          LazyWrapper.prototype.reverse = lazyReverse;
          LazyWrapper.prototype.value = lazyValue;
          lodash.prototype.at = wrapperAt;
          lodash.prototype.chain = wrapperChain;
          lodash.prototype.commit = wrapperCommit;
          lodash.prototype.next = wrapperNext;
          lodash.prototype.plant = wrapperPlant;
          lodash.prototype.reverse = wrapperReverse;
          lodash.prototype.toJSON = lodash.prototype.valueOf = lodash.prototype.value = wrapperValue;
          lodash.prototype.first = lodash.prototype.head;
          if (symIterator) {
            lodash.prototype[symIterator] = wrapperToIterator;
          }
          return lodash;
        };
        var _ = runInContext();
        if (typeof define == "function" && typeof define.amd == "object" && define.amd) {
          root._ = _;
          define(function() {
            return _;
          });
        } else if (freeModule) {
          (freeModule.exports = _)._ = _;
          freeExports._ = _;
        } else {
          root._ = _;
        }
      }).call(exports);
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/conventional-commits-parser-npm-3.2.4-d1ebb48cf6-9.zip/node_modules/conventional-commits-parser/lib/parser.js
  var require_parser = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/conventional-commits-parser-npm-3.2.4-d1ebb48cf6-9.zip/node_modules/conventional-commits-parser/lib/parser.js"(exports, module) {
      "use strict";
      var _ = require_lodash2();
      var CATCH_ALL = /()(.+)/gi;
      var SCISSOR = "# ------------------------ >8 ------------------------";
      function trimOffNewlines(input) {
        const result = input.match(/[^\r\n]/);
        if (!result) {
          return "";
        }
        const firstIndex = result.index;
        let lastIndex = input.length - 1;
        while (input[lastIndex] === "\r" || input[lastIndex] === "\n") {
          lastIndex--;
        }
        return input.substring(firstIndex, lastIndex + 1);
      }
      function append(src, line) {
        if (src) {
          src += "\n" + line;
        } else {
          src = line;
        }
        return src;
      }
      function getCommentFilter(char) {
        return function(line) {
          return line.charAt(0) !== char;
        };
      }
      function truncateToScissor(lines) {
        const scissorIndex = lines.indexOf(SCISSOR);
        if (scissorIndex === -1) {
          return lines;
        }
        return lines.slice(0, scissorIndex);
      }
      function getReferences(input, regex) {
        const references = [];
        let referenceSentences;
        let referenceMatch;
        const reApplicable = input.match(regex.references) !== null ? regex.references : CATCH_ALL;
        while (referenceSentences = reApplicable.exec(input)) {
          const action = referenceSentences[1] || null;
          const sentence = referenceSentences[2];
          while (referenceMatch = regex.referenceParts.exec(sentence)) {
            let owner = null;
            let repository = referenceMatch[1] || "";
            const ownerRepo = repository.split("/");
            if (ownerRepo.length > 1) {
              owner = ownerRepo.shift();
              repository = ownerRepo.join("/");
            }
            const reference = {
              action,
              owner,
              repository: repository || null,
              issue: referenceMatch[3],
              raw: referenceMatch[0],
              prefix: referenceMatch[2]
            };
            references.push(reference);
          }
        }
        return references;
      }
      function passTrough() {
        return true;
      }
      function parser(raw, options, regex) {
        if (!raw || !raw.trim()) {
          throw new TypeError("Expected a raw commit");
        }
        if (_.isEmpty(options)) {
          throw new TypeError("Expected options");
        }
        if (_.isEmpty(regex)) {
          throw new TypeError("Expected regex");
        }
        let currentProcessedField;
        let mentionsMatch;
        const otherFields = {};
        const commentFilter = typeof options.commentChar === "string" ? getCommentFilter(options.commentChar) : passTrough;
        const gpgFilter = (line) => !line.match(/^\s*gpg:/);
        const rawLines = trimOffNewlines(raw).split(/\r?\n/);
        const lines = truncateToScissor(rawLines).filter(commentFilter).filter(gpgFilter);
        let continueNote = false;
        let isBody = true;
        const headerCorrespondence = _.map(options.headerCorrespondence, function(part) {
          return part.trim();
        });
        const revertCorrespondence = _.map(options.revertCorrespondence, function(field) {
          return field.trim();
        });
        const mergeCorrespondence = _.map(options.mergeCorrespondence, function(field) {
          return field.trim();
        });
        let body = null;
        let footer = null;
        let header = null;
        const mentions = [];
        let merge = null;
        const notes = [];
        const references = [];
        let revert = null;
        if (lines.length === 0) {
          return {
            body,
            footer,
            header,
            mentions,
            merge,
            notes,
            references,
            revert,
            scope: null,
            subject: null,
            type: null
          };
        }
        merge = lines.shift();
        const mergeParts = {};
        const headerParts = {};
        body = "";
        footer = "";
        const mergeMatch = merge.match(options.mergePattern);
        if (mergeMatch && options.mergePattern) {
          merge = mergeMatch[0];
          header = lines.shift();
          while (header !== void 0 && !header.trim()) {
            header = lines.shift();
          }
          if (!header) {
            header = "";
          }
          _.forEach(mergeCorrespondence, function(partName, index) {
            const partValue = mergeMatch[index + 1] || null;
            mergeParts[partName] = partValue;
          });
        } else {
          header = merge;
          merge = null;
          _.forEach(mergeCorrespondence, function(partName) {
            mergeParts[partName] = null;
          });
        }
        const headerMatch = header.match(options.headerPattern);
        if (headerMatch) {
          _.forEach(headerCorrespondence, function(partName, index) {
            const partValue = headerMatch[index + 1] || null;
            headerParts[partName] = partValue;
          });
        } else {
          _.forEach(headerCorrespondence, function(partName) {
            headerParts[partName] = null;
          });
        }
        Array.prototype.push.apply(references, getReferences(header, {
          references: regex.references,
          referenceParts: regex.referenceParts
        }));
        _.forEach(lines, function(line) {
          if (options.fieldPattern) {
            const fieldMatch = options.fieldPattern.exec(line);
            if (fieldMatch) {
              currentProcessedField = fieldMatch[1];
              return;
            }
            if (currentProcessedField) {
              otherFields[currentProcessedField] = append(otherFields[currentProcessedField], line);
              return;
            }
          }
          let referenceMatched;
          const notesMatch = line.match(regex.notes);
          if (notesMatch) {
            continueNote = true;
            isBody = false;
            footer = append(footer, line);
            const note = {
              title: notesMatch[1],
              text: notesMatch[2]
            };
            notes.push(note);
            return;
          }
          const lineReferences = getReferences(line, {
            references: regex.references,
            referenceParts: regex.referenceParts
          });
          if (lineReferences.length > 0) {
            isBody = false;
            referenceMatched = true;
            continueNote = false;
          }
          Array.prototype.push.apply(references, lineReferences);
          if (referenceMatched) {
            footer = append(footer, line);
            return;
          }
          if (continueNote) {
            notes[notes.length - 1].text = append(notes[notes.length - 1].text, line);
            footer = append(footer, line);
            return;
          }
          if (isBody) {
            body = append(body, line);
          } else {
            footer = append(footer, line);
          }
        });
        if (options.breakingHeaderPattern && notes.length === 0) {
          const breakingHeader = header.match(options.breakingHeaderPattern);
          if (breakingHeader) {
            const noteText = breakingHeader[3];
            notes.push({
              title: "BREAKING CHANGE",
              text: noteText
            });
          }
        }
        while (mentionsMatch = regex.mentions.exec(raw)) {
          mentions.push(mentionsMatch[1]);
        }
        const revertMatch = raw.match(options.revertPattern);
        if (revertMatch) {
          revert = {};
          _.forEach(revertCorrespondence, function(partName, index) {
            const partValue = revertMatch[index + 1] || null;
            revert[partName] = partValue;
          });
        } else {
          revert = null;
        }
        _.map(notes, function(note) {
          note.text = trimOffNewlines(note.text);
          return note;
        });
        const msg = _.merge(headerParts, mergeParts, {
          merge,
          header,
          body: body ? trimOffNewlines(body) : null,
          footer: footer ? trimOffNewlines(footer) : null,
          notes,
          references,
          mentions,
          revert
        }, otherFields);
        return msg;
      }
      module.exports = parser;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/conventional-commits-parser-npm-3.2.4-d1ebb48cf6-9.zip/node_modules/conventional-commits-parser/lib/regex.js
  var require_regex = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/conventional-commits-parser-npm-3.2.4-d1ebb48cf6-9.zip/node_modules/conventional-commits-parser/lib/regex.js"(exports, module) {
      "use strict";
      var reNomatch = /(?!.*)/;
      function join3(array, joiner) {
        return array.map(function(val) {
          return val.trim();
        }).filter(function(val) {
          return val.length;
        }).join(joiner);
      }
      function getNotesRegex(noteKeywords, notesPattern) {
        if (!noteKeywords) {
          return reNomatch;
        }
        const noteKeywordsSelection = join3(noteKeywords, "|");
        if (!notesPattern) {
          return new RegExp("^[\\s|*]*(" + noteKeywordsSelection + ")[:\\s]+(.*)", "i");
        }
        return notesPattern(noteKeywordsSelection);
      }
      function getReferencePartsRegex(issuePrefixes, issuePrefixesCaseSensitive) {
        if (!issuePrefixes) {
          return reNomatch;
        }
        const flags = issuePrefixesCaseSensitive ? "g" : "gi";
        return new RegExp("(?:.*?)??\\s*([\\w-\\.\\/]*?)??(" + join3(issuePrefixes, "|") + ")([\\w-]*\\d+)", flags);
      }
      function getReferencesRegex(referenceActions) {
        if (!referenceActions) {
          return /()(.+)/gi;
        }
        const joinedKeywords = join3(referenceActions, "|");
        return new RegExp("(" + joinedKeywords + ")(?:\\s+(.*?))(?=(?:" + joinedKeywords + ")|$)", "gi");
      }
      module.exports = function(options) {
        options = options || {};
        const reNotes = getNotesRegex(options.noteKeywords, options.notesPattern);
        const reReferenceParts = getReferencePartsRegex(options.issuePrefixes, options.issuePrefixesCaseSensitive);
        const reReferences = getReferencesRegex(options.referenceActions);
        return {
          notes: reNotes,
          referenceParts: reReferenceParts,
          references: reReferences,
          mentions: /@([\w-]+)/g
        };
      };
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/through2-npm-4.0.2-da7b2da443-9.zip/node_modules/through2/through2.js
  var require_through2 = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/through2-npm-4.0.2-da7b2da443-9.zip/node_modules/through2/through2.js"(exports, module) {
      var {Transform} = require_readable();
      function inherits(fn, sup) {
        fn.super_ = sup;
        fn.prototype = Object.create(sup.prototype, {
          constructor: {value: fn, enumerable: false, writable: true, configurable: true}
        });
      }
      function through2(construct) {
        return (options, transform, flush) => {
          if (typeof options === "function") {
            flush = transform;
            transform = options;
            options = {};
          }
          if (typeof transform !== "function") {
            transform = (chunk, enc, cb) => cb(null, chunk);
          }
          if (typeof flush !== "function") {
            flush = null;
          }
          return construct(options, transform, flush);
        };
      }
      var make = through2((options, transform, flush) => {
        const t2 = new Transform(options);
        t2._transform = transform;
        if (flush) {
          t2._flush = flush;
        }
        return t2;
      });
      var ctor = through2((options, transform, flush) => {
        function Through2(override) {
          if (!(this instanceof Through2)) {
            return new Through2(override);
          }
          this.options = Object.assign({}, options, override);
          Transform.call(this, this.options);
          this._transform = transform;
          if (flush) {
            this._flush = flush;
          }
        }
        inherits(Through2, Transform);
        return Through2;
      });
      var obj = through2(function(options, transform, flush) {
        const t2 = new Transform(Object.assign({objectMode: true, highWaterMark: 16}, options));
        t2._transform = transform;
        if (flush) {
          t2._flush = flush;
        }
        return t2;
      });
      module.exports = make;
      module.exports.ctor = ctor;
      module.exports.obj = obj;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/conventional-commits-parser-npm-3.2.4-d1ebb48cf6-9.zip/node_modules/conventional-commits-parser/index.js
  var require_conventional_commits_parser = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/conventional-commits-parser-npm-3.2.4-d1ebb48cf6-9.zip/node_modules/conventional-commits-parser/index.js"(exports, module) {
      "use strict";
      var parser = require_parser();
      var regex = require_regex();
      var through = require_through2();
      var _ = require_lodash2();
      function assignOpts(options) {
        options = _.extend({
          headerPattern: /^(\w*)(?:\(([\w$.\-*/ ]*)\))?: (.*)$/,
          headerCorrespondence: ["type", "scope", "subject"],
          referenceActions: [
            "close",
            "closes",
            "closed",
            "fix",
            "fixes",
            "fixed",
            "resolve",
            "resolves",
            "resolved"
          ],
          issuePrefixes: ["#"],
          noteKeywords: ["BREAKING CHANGE", "BREAKING-CHANGE"],
          fieldPattern: /^-(.*?)-$/,
          revertPattern: /^Revert\s"([\s\S]*)"\s*This reverts commit (\w*)\./,
          revertCorrespondence: ["header", "hash"],
          warn: function() {
          },
          mergePattern: null,
          mergeCorrespondence: null
        }, options);
        if (typeof options.headerPattern === "string") {
          options.headerPattern = new RegExp(options.headerPattern);
        }
        if (typeof options.headerCorrespondence === "string") {
          options.headerCorrespondence = options.headerCorrespondence.split(",");
        }
        if (typeof options.referenceActions === "string") {
          options.referenceActions = options.referenceActions.split(",");
        }
        if (typeof options.issuePrefixes === "string") {
          options.issuePrefixes = options.issuePrefixes.split(",");
        }
        if (typeof options.noteKeywords === "string") {
          options.noteKeywords = options.noteKeywords.split(",");
        }
        if (typeof options.fieldPattern === "string") {
          options.fieldPattern = new RegExp(options.fieldPattern);
        }
        if (typeof options.revertPattern === "string") {
          options.revertPattern = new RegExp(options.revertPattern);
        }
        if (typeof options.revertCorrespondence === "string") {
          options.revertCorrespondence = options.revertCorrespondence.split(",");
        }
        if (typeof options.mergePattern === "string") {
          options.mergePattern = new RegExp(options.mergePattern);
        }
        return options;
      }
      function conventionalCommitsParser(options) {
        options = assignOpts(options);
        const reg = regex(options);
        return through.obj(function(data, enc, cb) {
          let commit;
          try {
            commit = parser(data.toString(), options, reg);
            cb(null, commit);
          } catch (err) {
            if (options.warn === true) {
              cb(err);
            } else {
              options.warn(err.toString());
              cb(null, "");
            }
          }
        });
      }
      function sync(commit, options) {
        options = assignOpts(options);
        const reg = regex(options);
        return parser(commit, options, reg);
      }
      module.exports = conventionalCommitsParser;
      module.exports.sync = sync;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/conventional-changelog-preset-loader-npm-2.3.4-a907f2e49a-9.zip/node_modules/conventional-changelog-preset-loader/index.js
  var require_conventional_changelog_preset_loader = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/conventional-changelog-preset-loader-npm-2.3.4-a907f2e49a-9.zip/node_modules/conventional-changelog-preset-loader/index.js"(exports, module) {
      "use strict";
      var nodePath = __require("path");
      module.exports = presetLoader(__require);
      module.exports.presetLoader = presetLoader;
      function presetLoader(requireMethod) {
        return (path) => {
          let name = "";
          let scope = "";
          let absolutePath = "";
          if (typeof path === "string") {
            name = path.toLowerCase();
            if (nodePath.isAbsolute(path)) {
              absolutePath = path;
            }
          } else if (typeof path === "object" && path.name) {
            name = path.name.toLowerCase();
            if (nodePath.isAbsolute(path.name)) {
              absolutePath = path.name;
            }
          } else {
            throw Error("preset must be string or object with key name");
          }
          if (!absolutePath) {
            if (name[0] === "@") {
              const parts = name.split("/");
              scope = parts.shift() + "/";
              name = parts.join("/");
            }
            if (!name.startsWith("conventional-changelog-")) {
              name = `conventional-changelog-${name}`;
            }
          }
          try {
            const config = requireMethod(absolutePath || `${scope}${name}`);
            if (config && !config.then && typeof path === "object") {
              return config(path);
            } else {
              return config;
            }
          } catch (_) {
            throw Error("does not exist");
          }
        };
      }
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/git-semver-tags-npm-4.1.1-93b9747811-9.zip/node_modules/git-semver-tags/index.js
  var require_git_semver_tags = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/git-semver-tags-npm-4.1.1-93b9747811-9.zip/node_modules/git-semver-tags/index.js"(exports, module) {
      "use strict";
      var proc = __require("process");
      var exec = __require("child_process").exec;
      var semverValid = __require("semver").valid;
      var regex = /tag:\s*(.+?)[,)]/gi;
      var cmd = "git log --decorate --no-color";
      var unstableTagTest = /.+-\w+\.\d+$/;
      function lernaTag(tag3, pkg) {
        if (pkg && !new RegExp("^" + pkg + "@").test(tag3)) {
          return false;
        } else {
          return /^.+@[0-9]+\.[0-9]+\.[0-9]+(-.+)?$/.test(tag3);
        }
      }
      module.exports = function gitSemverTags(opts, callback) {
        if (typeof opts === "function") {
          callback = opts;
          opts = {};
        }
        const options = Object.assign({maxBuffer: Infinity, cwd: proc.cwd()}, opts);
        if (options.package && !options.lernaTags) {
          callback(new Error("opts.package should only be used when running in lerna mode"));
          return;
        }
        exec(cmd, options, function(err, data) {
          if (err) {
            callback(err);
            return;
          }
          const tags = [];
          let tagPrefixRegexp;
          if (options.tagPrefix) {
            tagPrefixRegexp = new RegExp("^" + options.tagPrefix + "(.*)");
          }
          data.split("\n").forEach(function(decorations) {
            let match;
            while (match = regex.exec(decorations)) {
              const tag3 = match[1];
              if (options.skipUnstable && unstableTagTest.test(tag3)) {
                continue;
              }
              if (options.lernaTags) {
                if (lernaTag(tag3, options.package)) {
                  tags.push(tag3);
                }
              } else if (options.tagPrefix) {
                const matches = tag3.match(tagPrefixRegexp);
                if (matches && semverValid(matches[1])) {
                  tags.push(tag3);
                }
              } else if (semverValid(tag3)) {
                tags.push(tag3);
              }
            }
          });
          callback(null, tags);
        });
      };
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/dargs-npm-7.0.0-62701e0c7a-9.zip/node_modules/dargs/index.js
  var require_dargs = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/dargs-npm-7.0.0-62701e0c7a-9.zip/node_modules/dargs/index.js"(exports, module) {
      "use strict";
      var match = (array, value) => array.some((x) => x instanceof RegExp ? x.test(value) : x === value);
      var dargs = (object, options) => {
        const arguments_ = [];
        let extraArguments = [];
        let separatedArguments = [];
        options = __spreadValues({
          useEquals: true,
          shortFlag: true
        }, options);
        const makeArguments = (key, value) => {
          const prefix = options.shortFlag && key.length === 1 ? "-" : "--";
          const theKey = options.allowCamelCase ? key : key.replace(/[A-Z]/g, "-$&").toLowerCase();
          key = prefix + theKey;
          if (options.useEquals) {
            arguments_.push(key + (value ? `=${value}` : ""));
          } else {
            arguments_.push(key);
            if (value) {
              arguments_.push(value);
            }
          }
        };
        const makeAliasArg = (key, value) => {
          arguments_.push(`-${key}`);
          if (value) {
            arguments_.push(value);
          }
        };
        for (let [key, value] of Object.entries(object)) {
          let pushArguments = makeArguments;
          if (Array.isArray(options.excludes) && match(options.excludes, key)) {
            continue;
          }
          if (Array.isArray(options.includes) && !match(options.includes, key)) {
            continue;
          }
          if (typeof options.aliases === "object" && options.aliases[key]) {
            key = options.aliases[key];
            pushArguments = makeAliasArg;
          }
          if (key === "--") {
            if (!Array.isArray(value)) {
              throw new TypeError(`Expected key \`--\` to be Array, got ${typeof value}`);
            }
            separatedArguments = value;
            continue;
          }
          if (key === "_") {
            if (!Array.isArray(value)) {
              throw new TypeError(`Expected key \`_\` to be Array, got ${typeof value}`);
            }
            extraArguments = value;
            continue;
          }
          if (value === true) {
            pushArguments(key, "");
          }
          if (value === false && !options.ignoreFalse) {
            pushArguments(`no-${key}`);
          }
          if (typeof value === "string") {
            pushArguments(key, value);
          }
          if (typeof value === "number" && !Number.isNaN(value)) {
            pushArguments(key, String(value));
          }
          if (Array.isArray(value)) {
            for (const arrayValue of value) {
              pushArguments(key, arrayValue);
            }
          }
        }
        for (const argument of extraArguments) {
          arguments_.push(String(argument));
        }
        if (separatedArguments.length > 0) {
          arguments_.push("--");
        }
        for (const argument of separatedArguments) {
          arguments_.push(String(argument));
        }
        return arguments_;
      };
      module.exports = dargs;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/split2-npm-3.2.2-4ccd21b4f7-9.zip/node_modules/split2/index.js
  var require_split2 = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/split2-npm-3.2.2-4ccd21b4f7-9.zip/node_modules/split2/index.js"(exports, module) {
      "use strict";
      var {Transform} = require_readable();
      var {StringDecoder} = __require("string_decoder");
      var kLast = Symbol("last");
      var kDecoder = Symbol("decoder");
      function transform(chunk, enc, cb) {
        var list;
        if (this.overflow) {
          var buf = this[kDecoder].write(chunk);
          list = buf.split(this.matcher);
          if (list.length === 1)
            return cb();
          list.shift();
          this.overflow = false;
        } else {
          this[kLast] += this[kDecoder].write(chunk);
          list = this[kLast].split(this.matcher);
        }
        this[kLast] = list.pop();
        for (var i = 0; i < list.length; i++) {
          try {
            push(this, this.mapper(list[i]));
          } catch (error) {
            return cb(error);
          }
        }
        this.overflow = this[kLast].length > this.maxLength;
        if (this.overflow && !this.skipOverflow)
          return cb(new Error("maximum buffer reached"));
        cb();
      }
      function flush(cb) {
        this[kLast] += this[kDecoder].end();
        if (this[kLast]) {
          try {
            push(this, this.mapper(this[kLast]));
          } catch (error) {
            return cb(error);
          }
        }
        cb();
      }
      function push(self2, val) {
        if (val !== void 0) {
          self2.push(val);
        }
      }
      function noop(incoming) {
        return incoming;
      }
      function split(matcher, mapper, options) {
        matcher = matcher || /\r?\n/;
        mapper = mapper || noop;
        options = options || {};
        switch (arguments.length) {
          case 1:
            if (typeof matcher === "function") {
              mapper = matcher;
              matcher = /\r?\n/;
            } else if (typeof matcher === "object" && !(matcher instanceof RegExp)) {
              options = matcher;
              matcher = /\r?\n/;
            }
            break;
          case 2:
            if (typeof matcher === "function") {
              options = mapper;
              mapper = matcher;
              matcher = /\r?\n/;
            } else if (typeof mapper === "object") {
              options = mapper;
              mapper = noop;
            }
        }
        options = Object.assign({}, options);
        options.transform = transform;
        options.flush = flush;
        options.readableObjectMode = true;
        const stream = new Transform(options);
        stream[kLast] = "";
        stream[kDecoder] = new StringDecoder("utf8");
        stream.matcher = matcher;
        stream.mapper = mapper;
        stream.maxLength = options.maxLength;
        stream.skipOverflow = options.skipOverflow;
        stream.overflow = false;
        return stream;
      }
      module.exports = split;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_freeGlobal.js
  var require_freeGlobal = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_freeGlobal.js"(exports, module) {
      var freeGlobal = typeof global == "object" && global && global.Object === Object && global;
      module.exports = freeGlobal;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_root.js
  var require_root = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_root.js"(exports, module) {
      var freeGlobal = require_freeGlobal();
      var freeSelf = typeof self == "object" && self && self.Object === Object && self;
      var root = freeGlobal || freeSelf || Function("return this")();
      module.exports = root;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_Symbol.js
  var require_Symbol = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_Symbol.js"(exports, module) {
      var root = require_root();
      var Symbol2 = root.Symbol;
      module.exports = Symbol2;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_getRawTag.js
  var require_getRawTag = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_getRawTag.js"(exports, module) {
      var Symbol2 = require_Symbol();
      var objectProto = Object.prototype;
      var hasOwnProperty = objectProto.hasOwnProperty;
      var nativeObjectToString = objectProto.toString;
      var symToStringTag = Symbol2 ? Symbol2.toStringTag : void 0;
      function getRawTag(value) {
        var isOwn = hasOwnProperty.call(value, symToStringTag), tag3 = value[symToStringTag];
        try {
          value[symToStringTag] = void 0;
          var unmasked = true;
        } catch (e) {
        }
        var result = nativeObjectToString.call(value);
        if (unmasked) {
          if (isOwn) {
            value[symToStringTag] = tag3;
          } else {
            delete value[symToStringTag];
          }
        }
        return result;
      }
      module.exports = getRawTag;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_objectToString.js
  var require_objectToString = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_objectToString.js"(exports, module) {
      var objectProto = Object.prototype;
      var nativeObjectToString = objectProto.toString;
      function objectToString(value) {
        return nativeObjectToString.call(value);
      }
      module.exports = objectToString;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_baseGetTag.js
  var require_baseGetTag = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_baseGetTag.js"(exports, module) {
      var Symbol2 = require_Symbol();
      var getRawTag = require_getRawTag();
      var objectToString = require_objectToString();
      var nullTag = "[object Null]";
      var undefinedTag = "[object Undefined]";
      var symToStringTag = Symbol2 ? Symbol2.toStringTag : void 0;
      function baseGetTag(value) {
        if (value == null) {
          return value === void 0 ? undefinedTag : nullTag;
        }
        return symToStringTag && symToStringTag in Object(value) ? getRawTag(value) : objectToString(value);
      }
      module.exports = baseGetTag;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/isObject.js
  var require_isObject = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/isObject.js"(exports, module) {
      function isObject(value) {
        var type = typeof value;
        return value != null && (type == "object" || type == "function");
      }
      module.exports = isObject;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/isFunction.js
  var require_isFunction = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/isFunction.js"(exports, module) {
      var baseGetTag = require_baseGetTag();
      var isObject = require_isObject();
      var asyncTag = "[object AsyncFunction]";
      var funcTag = "[object Function]";
      var genTag = "[object GeneratorFunction]";
      var proxyTag = "[object Proxy]";
      function isFunction(value) {
        if (!isObject(value)) {
          return false;
        }
        var tag3 = baseGetTag(value);
        return tag3 == funcTag || tag3 == genTag || tag3 == asyncTag || tag3 == proxyTag;
      }
      module.exports = isFunction;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_coreJsData.js
  var require_coreJsData = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_coreJsData.js"(exports, module) {
      var root = require_root();
      var coreJsData = root["__core-js_shared__"];
      module.exports = coreJsData;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_isMasked.js
  var require_isMasked = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_isMasked.js"(exports, module) {
      var coreJsData = require_coreJsData();
      var maskSrcKey = function() {
        var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || "");
        return uid ? "Symbol(src)_1." + uid : "";
      }();
      function isMasked(func) {
        return !!maskSrcKey && maskSrcKey in func;
      }
      module.exports = isMasked;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_toSource.js
  var require_toSource = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_toSource.js"(exports, module) {
      var funcProto = Function.prototype;
      var funcToString = funcProto.toString;
      function toSource(func) {
        if (func != null) {
          try {
            return funcToString.call(func);
          } catch (e) {
          }
          try {
            return func + "";
          } catch (e) {
          }
        }
        return "";
      }
      module.exports = toSource;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_baseIsNative.js
  var require_baseIsNative = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_baseIsNative.js"(exports, module) {
      var isFunction = require_isFunction();
      var isMasked = require_isMasked();
      var isObject = require_isObject();
      var toSource = require_toSource();
      var reRegExpChar = /[\\^$.*+?()[\]{}|]/g;
      var reIsHostCtor = /^\[object .+?Constructor\]$/;
      var funcProto = Function.prototype;
      var objectProto = Object.prototype;
      var funcToString = funcProto.toString;
      var hasOwnProperty = objectProto.hasOwnProperty;
      var reIsNative = RegExp("^" + funcToString.call(hasOwnProperty).replace(reRegExpChar, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$");
      function baseIsNative(value) {
        if (!isObject(value) || isMasked(value)) {
          return false;
        }
        var pattern = isFunction(value) ? reIsNative : reIsHostCtor;
        return pattern.test(toSource(value));
      }
      module.exports = baseIsNative;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_getValue.js
  var require_getValue = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_getValue.js"(exports, module) {
      function getValue(object, key) {
        return object == null ? void 0 : object[key];
      }
      module.exports = getValue;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_getNative.js
  var require_getNative = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_getNative.js"(exports, module) {
      var baseIsNative = require_baseIsNative();
      var getValue = require_getValue();
      function getNative(object, key) {
        var value = getValue(object, key);
        return baseIsNative(value) ? value : void 0;
      }
      module.exports = getNative;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_defineProperty.js
  var require_defineProperty = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_defineProperty.js"(exports, module) {
      var getNative = require_getNative();
      var defineProperty = function() {
        try {
          var func = getNative(Object, "defineProperty");
          func({}, "", {});
          return func;
        } catch (e) {
        }
      }();
      module.exports = defineProperty;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_baseAssignValue.js
  var require_baseAssignValue = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_baseAssignValue.js"(exports, module) {
      var defineProperty = require_defineProperty();
      function baseAssignValue(object, key, value) {
        if (key == "__proto__" && defineProperty) {
          defineProperty(object, key, {
            "configurable": true,
            "enumerable": true,
            "value": value,
            "writable": true
          });
        } else {
          object[key] = value;
        }
      }
      module.exports = baseAssignValue;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/eq.js
  var require_eq = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/eq.js"(exports, module) {
      function eq(value, other) {
        return value === other || value !== value && other !== other;
      }
      module.exports = eq;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_assignValue.js
  var require_assignValue = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_assignValue.js"(exports, module) {
      var baseAssignValue = require_baseAssignValue();
      var eq = require_eq();
      var objectProto = Object.prototype;
      var hasOwnProperty = objectProto.hasOwnProperty;
      function assignValue(object, key, value) {
        var objValue = object[key];
        if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) || value === void 0 && !(key in object)) {
          baseAssignValue(object, key, value);
        }
      }
      module.exports = assignValue;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_copyObject.js
  var require_copyObject = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_copyObject.js"(exports, module) {
      var assignValue = require_assignValue();
      var baseAssignValue = require_baseAssignValue();
      function copyObject(source, props, object, customizer) {
        var isNew = !object;
        object || (object = {});
        var index = -1, length = props.length;
        while (++index < length) {
          var key = props[index];
          var newValue = customizer ? customizer(object[key], source[key], key, object, source) : void 0;
          if (newValue === void 0) {
            newValue = source[key];
          }
          if (isNew) {
            baseAssignValue(object, key, newValue);
          } else {
            assignValue(object, key, newValue);
          }
        }
        return object;
      }
      module.exports = copyObject;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/identity.js
  var require_identity = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/identity.js"(exports, module) {
      function identity(value) {
        return value;
      }
      module.exports = identity;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_apply.js
  var require_apply = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_apply.js"(exports, module) {
      function apply(func, thisArg, args) {
        switch (args.length) {
          case 0:
            return func.call(thisArg);
          case 1:
            return func.call(thisArg, args[0]);
          case 2:
            return func.call(thisArg, args[0], args[1]);
          case 3:
            return func.call(thisArg, args[0], args[1], args[2]);
        }
        return func.apply(thisArg, args);
      }
      module.exports = apply;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_overRest.js
  var require_overRest = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_overRest.js"(exports, module) {
      var apply = require_apply();
      var nativeMax = Math.max;
      function overRest(func, start, transform) {
        start = nativeMax(start === void 0 ? func.length - 1 : start, 0);
        return function() {
          var args = arguments, index = -1, length = nativeMax(args.length - start, 0), array = Array(length);
          while (++index < length) {
            array[index] = args[start + index];
          }
          index = -1;
          var otherArgs = Array(start + 1);
          while (++index < start) {
            otherArgs[index] = args[index];
          }
          otherArgs[start] = transform(array);
          return apply(func, this, otherArgs);
        };
      }
      module.exports = overRest;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/constant.js
  var require_constant = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/constant.js"(exports, module) {
      function constant(value) {
        return function() {
          return value;
        };
      }
      module.exports = constant;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_baseSetToString.js
  var require_baseSetToString = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_baseSetToString.js"(exports, module) {
      var constant = require_constant();
      var defineProperty = require_defineProperty();
      var identity = require_identity();
      var baseSetToString = !defineProperty ? identity : function(func, string) {
        return defineProperty(func, "toString", {
          "configurable": true,
          "enumerable": false,
          "value": constant(string),
          "writable": true
        });
      };
      module.exports = baseSetToString;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_shortOut.js
  var require_shortOut = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_shortOut.js"(exports, module) {
      var HOT_COUNT = 800;
      var HOT_SPAN = 16;
      var nativeNow = Date.now;
      function shortOut(func) {
        var count = 0, lastCalled = 0;
        return function() {
          var stamp = nativeNow(), remaining = HOT_SPAN - (stamp - lastCalled);
          lastCalled = stamp;
          if (remaining > 0) {
            if (++count >= HOT_COUNT) {
              return arguments[0];
            }
          } else {
            count = 0;
          }
          return func.apply(void 0, arguments);
        };
      }
      module.exports = shortOut;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_setToString.js
  var require_setToString = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_setToString.js"(exports, module) {
      var baseSetToString = require_baseSetToString();
      var shortOut = require_shortOut();
      var setToString = shortOut(baseSetToString);
      module.exports = setToString;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_baseRest.js
  var require_baseRest = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_baseRest.js"(exports, module) {
      var identity = require_identity();
      var overRest = require_overRest();
      var setToString = require_setToString();
      function baseRest(func, start) {
        return setToString(overRest(func, start, identity), func + "");
      }
      module.exports = baseRest;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/isLength.js
  var require_isLength = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/isLength.js"(exports, module) {
      var MAX_SAFE_INTEGER = 9007199254740991;
      function isLength(value) {
        return typeof value == "number" && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;
      }
      module.exports = isLength;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/isArrayLike.js
  var require_isArrayLike = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/isArrayLike.js"(exports, module) {
      var isFunction = require_isFunction();
      var isLength = require_isLength();
      function isArrayLike(value) {
        return value != null && isLength(value.length) && !isFunction(value);
      }
      module.exports = isArrayLike;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_isIndex.js
  var require_isIndex = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_isIndex.js"(exports, module) {
      var MAX_SAFE_INTEGER = 9007199254740991;
      var reIsUint = /^(?:0|[1-9]\d*)$/;
      function isIndex(value, length) {
        var type = typeof value;
        length = length == null ? MAX_SAFE_INTEGER : length;
        return !!length && (type == "number" || type != "symbol" && reIsUint.test(value)) && (value > -1 && value % 1 == 0 && value < length);
      }
      module.exports = isIndex;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_isIterateeCall.js
  var require_isIterateeCall = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_isIterateeCall.js"(exports, module) {
      var eq = require_eq();
      var isArrayLike = require_isArrayLike();
      var isIndex = require_isIndex();
      var isObject = require_isObject();
      function isIterateeCall(value, index, object) {
        if (!isObject(object)) {
          return false;
        }
        var type = typeof index;
        if (type == "number" ? isArrayLike(object) && isIndex(index, object.length) : type == "string" && index in object) {
          return eq(object[index], value);
        }
        return false;
      }
      module.exports = isIterateeCall;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_createAssigner.js
  var require_createAssigner = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_createAssigner.js"(exports, module) {
      var baseRest = require_baseRest();
      var isIterateeCall = require_isIterateeCall();
      function createAssigner(assigner) {
        return baseRest(function(object, sources) {
          var index = -1, length = sources.length, customizer = length > 1 ? sources[length - 1] : void 0, guard = length > 2 ? sources[2] : void 0;
          customizer = assigner.length > 3 && typeof customizer == "function" ? (length--, customizer) : void 0;
          if (guard && isIterateeCall(sources[0], sources[1], guard)) {
            customizer = length < 3 ? void 0 : customizer;
            length = 1;
          }
          object = Object(object);
          while (++index < length) {
            var source = sources[index];
            if (source) {
              assigner(object, source, index, customizer);
            }
          }
          return object;
        });
      }
      module.exports = createAssigner;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_baseTimes.js
  var require_baseTimes = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_baseTimes.js"(exports, module) {
      function baseTimes(n, iteratee) {
        var index = -1, result = Array(n);
        while (++index < n) {
          result[index] = iteratee(index);
        }
        return result;
      }
      module.exports = baseTimes;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/isObjectLike.js
  var require_isObjectLike = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/isObjectLike.js"(exports, module) {
      function isObjectLike(value) {
        return value != null && typeof value == "object";
      }
      module.exports = isObjectLike;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_baseIsArguments.js
  var require_baseIsArguments = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_baseIsArguments.js"(exports, module) {
      var baseGetTag = require_baseGetTag();
      var isObjectLike = require_isObjectLike();
      var argsTag = "[object Arguments]";
      function baseIsArguments(value) {
        return isObjectLike(value) && baseGetTag(value) == argsTag;
      }
      module.exports = baseIsArguments;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/isArguments.js
  var require_isArguments = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/isArguments.js"(exports, module) {
      var baseIsArguments = require_baseIsArguments();
      var isObjectLike = require_isObjectLike();
      var objectProto = Object.prototype;
      var hasOwnProperty = objectProto.hasOwnProperty;
      var propertyIsEnumerable = objectProto.propertyIsEnumerable;
      var isArguments = baseIsArguments(function() {
        return arguments;
      }()) ? baseIsArguments : function(value) {
        return isObjectLike(value) && hasOwnProperty.call(value, "callee") && !propertyIsEnumerable.call(value, "callee");
      };
      module.exports = isArguments;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/isArray.js
  var require_isArray = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/isArray.js"(exports, module) {
      var isArray = Array.isArray;
      module.exports = isArray;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/stubFalse.js
  var require_stubFalse = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/stubFalse.js"(exports, module) {
      function stubFalse() {
        return false;
      }
      module.exports = stubFalse;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/isBuffer.js
  var require_isBuffer = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/isBuffer.js"(exports, module) {
      var root = require_root();
      var stubFalse = require_stubFalse();
      var freeExports = typeof exports == "object" && exports && !exports.nodeType && exports;
      var freeModule = freeExports && typeof module == "object" && module && !module.nodeType && module;
      var moduleExports = freeModule && freeModule.exports === freeExports;
      var Buffer2 = moduleExports ? root.Buffer : void 0;
      var nativeIsBuffer = Buffer2 ? Buffer2.isBuffer : void 0;
      var isBuffer = nativeIsBuffer || stubFalse;
      module.exports = isBuffer;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_baseIsTypedArray.js
  var require_baseIsTypedArray = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_baseIsTypedArray.js"(exports, module) {
      var baseGetTag = require_baseGetTag();
      var isLength = require_isLength();
      var isObjectLike = require_isObjectLike();
      var argsTag = "[object Arguments]";
      var arrayTag = "[object Array]";
      var boolTag = "[object Boolean]";
      var dateTag = "[object Date]";
      var errorTag = "[object Error]";
      var funcTag = "[object Function]";
      var mapTag = "[object Map]";
      var numberTag = "[object Number]";
      var objectTag = "[object Object]";
      var regexpTag = "[object RegExp]";
      var setTag = "[object Set]";
      var stringTag = "[object String]";
      var weakMapTag = "[object WeakMap]";
      var arrayBufferTag = "[object ArrayBuffer]";
      var dataViewTag = "[object DataView]";
      var float32Tag = "[object Float32Array]";
      var float64Tag = "[object Float64Array]";
      var int8Tag = "[object Int8Array]";
      var int16Tag = "[object Int16Array]";
      var int32Tag = "[object Int32Array]";
      var uint8Tag = "[object Uint8Array]";
      var uint8ClampedTag = "[object Uint8ClampedArray]";
      var uint16Tag = "[object Uint16Array]";
      var uint32Tag = "[object Uint32Array]";
      var typedArrayTags = {};
      typedArrayTags[float32Tag] = typedArrayTags[float64Tag] = typedArrayTags[int8Tag] = typedArrayTags[int16Tag] = typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] = typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] = typedArrayTags[uint32Tag] = true;
      typedArrayTags[argsTag] = typedArrayTags[arrayTag] = typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] = typedArrayTags[dataViewTag] = typedArrayTags[dateTag] = typedArrayTags[errorTag] = typedArrayTags[funcTag] = typedArrayTags[mapTag] = typedArrayTags[numberTag] = typedArrayTags[objectTag] = typedArrayTags[regexpTag] = typedArrayTags[setTag] = typedArrayTags[stringTag] = typedArrayTags[weakMapTag] = false;
      function baseIsTypedArray(value) {
        return isObjectLike(value) && isLength(value.length) && !!typedArrayTags[baseGetTag(value)];
      }
      module.exports = baseIsTypedArray;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_baseUnary.js
  var require_baseUnary = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_baseUnary.js"(exports, module) {
      function baseUnary(func) {
        return function(value) {
          return func(value);
        };
      }
      module.exports = baseUnary;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_nodeUtil.js
  var require_nodeUtil = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_nodeUtil.js"(exports, module) {
      var freeGlobal = require_freeGlobal();
      var freeExports = typeof exports == "object" && exports && !exports.nodeType && exports;
      var freeModule = freeExports && typeof module == "object" && module && !module.nodeType && module;
      var moduleExports = freeModule && freeModule.exports === freeExports;
      var freeProcess = moduleExports && freeGlobal.process;
      var nodeUtil = function() {
        try {
          var types = freeModule && freeModule.require && freeModule.require("util").types;
          if (types) {
            return types;
          }
          return freeProcess && freeProcess.binding && freeProcess.binding("util");
        } catch (e) {
        }
      }();
      module.exports = nodeUtil;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/isTypedArray.js
  var require_isTypedArray = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/isTypedArray.js"(exports, module) {
      var baseIsTypedArray = require_baseIsTypedArray();
      var baseUnary = require_baseUnary();
      var nodeUtil = require_nodeUtil();
      var nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;
      var isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;
      module.exports = isTypedArray;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_arrayLikeKeys.js
  var require_arrayLikeKeys = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_arrayLikeKeys.js"(exports, module) {
      var baseTimes = require_baseTimes();
      var isArguments = require_isArguments();
      var isArray = require_isArray();
      var isBuffer = require_isBuffer();
      var isIndex = require_isIndex();
      var isTypedArray = require_isTypedArray();
      var objectProto = Object.prototype;
      var hasOwnProperty = objectProto.hasOwnProperty;
      function arrayLikeKeys(value, inherited) {
        var isArr = isArray(value), isArg = !isArr && isArguments(value), isBuff = !isArr && !isArg && isBuffer(value), isType = !isArr && !isArg && !isBuff && isTypedArray(value), skipIndexes = isArr || isArg || isBuff || isType, result = skipIndexes ? baseTimes(value.length, String) : [], length = result.length;
        for (var key in value) {
          if ((inherited || hasOwnProperty.call(value, key)) && !(skipIndexes && (key == "length" || isBuff && (key == "offset" || key == "parent") || isType && (key == "buffer" || key == "byteLength" || key == "byteOffset") || isIndex(key, length)))) {
            result.push(key);
          }
        }
        return result;
      }
      module.exports = arrayLikeKeys;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_isPrototype.js
  var require_isPrototype = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_isPrototype.js"(exports, module) {
      var objectProto = Object.prototype;
      function isPrototype(value) {
        var Ctor = value && value.constructor, proto = typeof Ctor == "function" && Ctor.prototype || objectProto;
        return value === proto;
      }
      module.exports = isPrototype;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_nativeKeysIn.js
  var require_nativeKeysIn = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_nativeKeysIn.js"(exports, module) {
      function nativeKeysIn(object) {
        var result = [];
        if (object != null) {
          for (var key in Object(object)) {
            result.push(key);
          }
        }
        return result;
      }
      module.exports = nativeKeysIn;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_baseKeysIn.js
  var require_baseKeysIn = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_baseKeysIn.js"(exports, module) {
      var isObject = require_isObject();
      var isPrototype = require_isPrototype();
      var nativeKeysIn = require_nativeKeysIn();
      var objectProto = Object.prototype;
      var hasOwnProperty = objectProto.hasOwnProperty;
      function baseKeysIn(object) {
        if (!isObject(object)) {
          return nativeKeysIn(object);
        }
        var isProto = isPrototype(object), result = [];
        for (var key in object) {
          if (!(key == "constructor" && (isProto || !hasOwnProperty.call(object, key)))) {
            result.push(key);
          }
        }
        return result;
      }
      module.exports = baseKeysIn;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/keysIn.js
  var require_keysIn = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/keysIn.js"(exports, module) {
      var arrayLikeKeys = require_arrayLikeKeys();
      var baseKeysIn = require_baseKeysIn();
      var isArrayLike = require_isArrayLike();
      function keysIn(object) {
        return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);
      }
      module.exports = keysIn;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/assignInWith.js
  var require_assignInWith = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/assignInWith.js"(exports, module) {
      var copyObject = require_copyObject();
      var createAssigner = require_createAssigner();
      var keysIn = require_keysIn();
      var assignInWith = createAssigner(function(object, source, srcIndex, customizer) {
        copyObject(source, keysIn(source), object, customizer);
      });
      module.exports = assignInWith;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_overArg.js
  var require_overArg = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_overArg.js"(exports, module) {
      function overArg(func, transform) {
        return function(arg) {
          return func(transform(arg));
        };
      }
      module.exports = overArg;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_getPrototype.js
  var require_getPrototype = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_getPrototype.js"(exports, module) {
      var overArg = require_overArg();
      var getPrototype = overArg(Object.getPrototypeOf, Object);
      module.exports = getPrototype;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/isPlainObject.js
  var require_isPlainObject = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/isPlainObject.js"(exports, module) {
      var baseGetTag = require_baseGetTag();
      var getPrototype = require_getPrototype();
      var isObjectLike = require_isObjectLike();
      var objectTag = "[object Object]";
      var funcProto = Function.prototype;
      var objectProto = Object.prototype;
      var funcToString = funcProto.toString;
      var hasOwnProperty = objectProto.hasOwnProperty;
      var objectCtorString = funcToString.call(Object);
      function isPlainObject(value) {
        if (!isObjectLike(value) || baseGetTag(value) != objectTag) {
          return false;
        }
        var proto = getPrototype(value);
        if (proto === null) {
          return true;
        }
        var Ctor = hasOwnProperty.call(proto, "constructor") && proto.constructor;
        return typeof Ctor == "function" && Ctor instanceof Ctor && funcToString.call(Ctor) == objectCtorString;
      }
      module.exports = isPlainObject;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/isError.js
  var require_isError = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/isError.js"(exports, module) {
      var baseGetTag = require_baseGetTag();
      var isObjectLike = require_isObjectLike();
      var isPlainObject = require_isPlainObject();
      var domExcTag = "[object DOMException]";
      var errorTag = "[object Error]";
      function isError(value) {
        if (!isObjectLike(value)) {
          return false;
        }
        var tag3 = baseGetTag(value);
        return tag3 == errorTag || tag3 == domExcTag || typeof value.message == "string" && typeof value.name == "string" && !isPlainObject(value);
      }
      module.exports = isError;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/attempt.js
  var require_attempt = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/attempt.js"(exports, module) {
      var apply = require_apply();
      var baseRest = require_baseRest();
      var isError = require_isError();
      var attempt = baseRest(function(func, args) {
        try {
          return apply(func, void 0, args);
        } catch (e) {
          return isError(e) ? e : new Error(e);
        }
      });
      module.exports = attempt;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_arrayMap.js
  var require_arrayMap = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_arrayMap.js"(exports, module) {
      function arrayMap(array, iteratee) {
        var index = -1, length = array == null ? 0 : array.length, result = Array(length);
        while (++index < length) {
          result[index] = iteratee(array[index], index, array);
        }
        return result;
      }
      module.exports = arrayMap;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_baseValues.js
  var require_baseValues = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_baseValues.js"(exports, module) {
      var arrayMap = require_arrayMap();
      function baseValues(object, props) {
        return arrayMap(props, function(key) {
          return object[key];
        });
      }
      module.exports = baseValues;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_customDefaultsAssignIn.js
  var require_customDefaultsAssignIn = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_customDefaultsAssignIn.js"(exports, module) {
      var eq = require_eq();
      var objectProto = Object.prototype;
      var hasOwnProperty = objectProto.hasOwnProperty;
      function customDefaultsAssignIn(objValue, srcValue, key, object) {
        if (objValue === void 0 || eq(objValue, objectProto[key]) && !hasOwnProperty.call(object, key)) {
          return srcValue;
        }
        return objValue;
      }
      module.exports = customDefaultsAssignIn;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_escapeStringChar.js
  var require_escapeStringChar = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_escapeStringChar.js"(exports, module) {
      var stringEscapes = {
        "\\": "\\",
        "'": "'",
        "\n": "n",
        "\r": "r",
        "\u2028": "u2028",
        "\u2029": "u2029"
      };
      function escapeStringChar(chr) {
        return "\\" + stringEscapes[chr];
      }
      module.exports = escapeStringChar;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_nativeKeys.js
  var require_nativeKeys = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_nativeKeys.js"(exports, module) {
      var overArg = require_overArg();
      var nativeKeys = overArg(Object.keys, Object);
      module.exports = nativeKeys;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_baseKeys.js
  var require_baseKeys = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_baseKeys.js"(exports, module) {
      var isPrototype = require_isPrototype();
      var nativeKeys = require_nativeKeys();
      var objectProto = Object.prototype;
      var hasOwnProperty = objectProto.hasOwnProperty;
      function baseKeys(object) {
        if (!isPrototype(object)) {
          return nativeKeys(object);
        }
        var result = [];
        for (var key in Object(object)) {
          if (hasOwnProperty.call(object, key) && key != "constructor") {
            result.push(key);
          }
        }
        return result;
      }
      module.exports = baseKeys;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/keys.js
  var require_keys = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/keys.js"(exports, module) {
      var arrayLikeKeys = require_arrayLikeKeys();
      var baseKeys = require_baseKeys();
      var isArrayLike = require_isArrayLike();
      function keys(object) {
        return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);
      }
      module.exports = keys;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_reInterpolate.js
  var require_reInterpolate = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_reInterpolate.js"(exports, module) {
      var reInterpolate = /<%=([\s\S]+?)%>/g;
      module.exports = reInterpolate;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_basePropertyOf.js
  var require_basePropertyOf = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_basePropertyOf.js"(exports, module) {
      function basePropertyOf(object) {
        return function(key) {
          return object == null ? void 0 : object[key];
        };
      }
      module.exports = basePropertyOf;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_escapeHtmlChar.js
  var require_escapeHtmlChar = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_escapeHtmlChar.js"(exports, module) {
      var basePropertyOf = require_basePropertyOf();
      var htmlEscapes = {
        "&": "&amp;",
        "<": "&lt;",
        ">": "&gt;",
        '"': "&quot;",
        "'": "&#39;"
      };
      var escapeHtmlChar = basePropertyOf(htmlEscapes);
      module.exports = escapeHtmlChar;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/isSymbol.js
  var require_isSymbol = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/isSymbol.js"(exports, module) {
      var baseGetTag = require_baseGetTag();
      var isObjectLike = require_isObjectLike();
      var symbolTag = "[object Symbol]";
      function isSymbol(value) {
        return typeof value == "symbol" || isObjectLike(value) && baseGetTag(value) == symbolTag;
      }
      module.exports = isSymbol;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_baseToString.js
  var require_baseToString = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_baseToString.js"(exports, module) {
      var Symbol2 = require_Symbol();
      var arrayMap = require_arrayMap();
      var isArray = require_isArray();
      var isSymbol = require_isSymbol();
      var INFINITY = 1 / 0;
      var symbolProto = Symbol2 ? Symbol2.prototype : void 0;
      var symbolToString = symbolProto ? symbolProto.toString : void 0;
      function baseToString(value) {
        if (typeof value == "string") {
          return value;
        }
        if (isArray(value)) {
          return arrayMap(value, baseToString) + "";
        }
        if (isSymbol(value)) {
          return symbolToString ? symbolToString.call(value) : "";
        }
        var result = value + "";
        return result == "0" && 1 / value == -INFINITY ? "-0" : result;
      }
      module.exports = baseToString;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/toString.js
  var require_toString = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/toString.js"(exports, module) {
      var baseToString = require_baseToString();
      function toString(value) {
        return value == null ? "" : baseToString(value);
      }
      module.exports = toString;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/escape.js
  var require_escape = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/escape.js"(exports, module) {
      var escapeHtmlChar = require_escapeHtmlChar();
      var toString = require_toString();
      var reUnescapedHtml = /[&<>"']/g;
      var reHasUnescapedHtml = RegExp(reUnescapedHtml.source);
      function escape(string) {
        string = toString(string);
        return string && reHasUnescapedHtml.test(string) ? string.replace(reUnescapedHtml, escapeHtmlChar) : string;
      }
      module.exports = escape;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_reEscape.js
  var require_reEscape = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_reEscape.js"(exports, module) {
      var reEscape = /<%-([\s\S]+?)%>/g;
      module.exports = reEscape;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_reEvaluate.js
  var require_reEvaluate = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/_reEvaluate.js"(exports, module) {
      var reEvaluate = /<%([\s\S]+?)%>/g;
      module.exports = reEvaluate;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/templateSettings.js
  var require_templateSettings = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/templateSettings.js"(exports, module) {
      var escape = require_escape();
      var reEscape = require_reEscape();
      var reEvaluate = require_reEvaluate();
      var reInterpolate = require_reInterpolate();
      var templateSettings = {
        "escape": reEscape,
        "evaluate": reEvaluate,
        "interpolate": reInterpolate,
        "variable": "",
        "imports": {
          "_": {"escape": escape}
        }
      };
      module.exports = templateSettings;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/template.js
  var require_template = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/lodash-npm-4.17.21-6382451519-9.zip/node_modules/lodash/template.js"(exports, module) {
      var assignInWith = require_assignInWith();
      var attempt = require_attempt();
      var baseValues = require_baseValues();
      var customDefaultsAssignIn = require_customDefaultsAssignIn();
      var escapeStringChar = require_escapeStringChar();
      var isError = require_isError();
      var isIterateeCall = require_isIterateeCall();
      var keys = require_keys();
      var reInterpolate = require_reInterpolate();
      var templateSettings = require_templateSettings();
      var toString = require_toString();
      var INVALID_TEMPL_VAR_ERROR_TEXT = "Invalid `variable` option passed into `_.template`";
      var reEmptyStringLeading = /\b__p \+= '';/g;
      var reEmptyStringMiddle = /\b(__p \+=) '' \+/g;
      var reEmptyStringTrailing = /(__e\(.*?\)|\b__t\)) \+\n'';/g;
      var reForbiddenIdentifierChars = /[()=,{}\[\]\/\s]/;
      var reEsTemplate = /\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g;
      var reNoMatch = /($^)/;
      var reUnescapedString = /['\n\r\u2028\u2029\\]/g;
      var objectProto = Object.prototype;
      var hasOwnProperty = objectProto.hasOwnProperty;
      function template(string, options, guard) {
        var settings = templateSettings.imports._.templateSettings || templateSettings;
        if (guard && isIterateeCall(string, options, guard)) {
          options = void 0;
        }
        string = toString(string);
        options = assignInWith({}, options, settings, customDefaultsAssignIn);
        var imports = assignInWith({}, options.imports, settings.imports, customDefaultsAssignIn), importsKeys = keys(imports), importsValues = baseValues(imports, importsKeys);
        var isEscaping, isEvaluating, index = 0, interpolate = options.interpolate || reNoMatch, source = "__p += '";
        var reDelimiters = RegExp((options.escape || reNoMatch).source + "|" + interpolate.source + "|" + (interpolate === reInterpolate ? reEsTemplate : reNoMatch).source + "|" + (options.evaluate || reNoMatch).source + "|$", "g");
        var sourceURL = hasOwnProperty.call(options, "sourceURL") ? "//# sourceURL=" + (options.sourceURL + "").replace(/\s/g, " ") + "\n" : "";
        string.replace(reDelimiters, function(match, escapeValue, interpolateValue, esTemplateValue, evaluateValue, offset) {
          interpolateValue || (interpolateValue = esTemplateValue);
          source += string.slice(index, offset).replace(reUnescapedString, escapeStringChar);
          if (escapeValue) {
            isEscaping = true;
            source += "' +\n__e(" + escapeValue + ") +\n'";
          }
          if (evaluateValue) {
            isEvaluating = true;
            source += "';\n" + evaluateValue + ";\n__p += '";
          }
          if (interpolateValue) {
            source += "' +\n((__t = (" + interpolateValue + ")) == null ? '' : __t) +\n'";
          }
          index = offset + match.length;
          return match;
        });
        source += "';\n";
        var variable = hasOwnProperty.call(options, "variable") && options.variable;
        if (!variable) {
          source = "with (obj) {\n" + source + "\n}\n";
        } else if (reForbiddenIdentifierChars.test(variable)) {
          throw new Error(INVALID_TEMPL_VAR_ERROR_TEXT);
        }
        source = (isEvaluating ? source.replace(reEmptyStringLeading, "") : source).replace(reEmptyStringMiddle, "$1").replace(reEmptyStringTrailing, "$1;");
        source = "function(" + (variable || "obj") + ") {\n" + (variable ? "" : "obj || (obj = {});\n") + "var __t, __p = ''" + (isEscaping ? ", __e = _.escape" : "") + (isEvaluating ? ", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n" : ";\n") + source + "return __p\n}";
        var result = attempt(function() {
          return Function(importsKeys, sourceURL + "return " + source).apply(void 0, importsValues);
        });
        result.source = source;
        if (isError(result)) {
          throw result;
        }
        return result;
      }
      module.exports = template;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/git-raw-commits-npm-2.0.11-b090f2f684-9.zip/node_modules/git-raw-commits/index.js
  var require_git_raw_commits = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/git-raw-commits-npm-2.0.11-b090f2f684-9.zip/node_modules/git-raw-commits/index.js"(exports, module) {
      "use strict";
      var dargs = require_dargs();
      var execFile = __require("child_process").execFile;
      var split = require_split2();
      var stream = __require("stream");
      var template = require_template();
      var through = require_through2();
      var DELIMITER = "------------------------ >8 ------------------------";
      function normalizeExecOpts(execOpts) {
        execOpts = execOpts || {};
        execOpts.cwd = execOpts.cwd || process.cwd();
        return execOpts;
      }
      function normalizeGitOpts(gitOpts) {
        gitOpts = gitOpts || {};
        gitOpts.format = gitOpts.format || "%B";
        gitOpts.from = gitOpts.from || "";
        gitOpts.to = gitOpts.to || "HEAD";
        return gitOpts;
      }
      function getGitArgs(gitOpts) {
        const gitFormat = template("--format=<%= format %>%n" + DELIMITER)(gitOpts);
        const gitFromTo = [gitOpts.from, gitOpts.to].filter(Boolean).join("..");
        const gitArgs = ["log", gitFormat, gitFromTo].concat(dargs(gitOpts, {
          excludes: ["debug", "from", "to", "format", "path"]
        }));
        if (gitOpts.path) {
          gitArgs.push("--", gitOpts.path);
        }
        return gitArgs;
      }
      function gitRawCommits(rawGitOpts, rawExecOpts) {
        const readable = new stream.Readable();
        readable._read = function() {
        };
        const gitOpts = normalizeGitOpts(rawGitOpts);
        const execOpts = normalizeExecOpts(rawExecOpts);
        const args = getGitArgs(gitOpts);
        if (gitOpts.debug) {
          gitOpts.debug("Your git-log command is:\ngit " + args.join(" "));
        }
        let isError = false;
        const child = execFile("git", args, {
          cwd: execOpts.cwd,
          maxBuffer: Infinity
        });
        child.stdout.pipe(split(DELIMITER + "\n")).pipe(through(function(chunk, enc, cb) {
          readable.push(chunk);
          isError = false;
          cb();
        }, function(cb) {
          setImmediate(function() {
            if (!isError) {
              readable.push(null);
              readable.emit("close");
            }
            cb();
          });
        }));
        child.stderr.pipe(through.obj(function(chunk) {
          isError = true;
          readable.emit("error", new Error(chunk));
          readable.emit("close");
        }));
        return readable;
      }
      module.exports = gitRawCommits;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/q-npm-1.5.1-a28b3cfeaf-9.zip/node_modules/q/q.js
  var require_q = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/q-npm-1.5.1-a28b3cfeaf-9.zip/node_modules/q/q.js"(exports, module) {
      (function(definition) {
        "use strict";
        if (typeof bootstrap === "function") {
          bootstrap("promise", definition);
        } else if (typeof exports === "object" && typeof module === "object") {
          module.exports = definition();
        } else if (typeof define === "function" && define.amd) {
          define(definition);
        } else if (typeof ses !== "undefined") {
          if (!ses.ok()) {
            return;
          } else {
            ses.makeQ = definition;
          }
        } else if (typeof window !== "undefined" || typeof self !== "undefined") {
          var global2 = typeof window !== "undefined" ? window : self;
          var previousQ = global2.Q;
          global2.Q = definition();
          global2.Q.noConflict = function() {
            global2.Q = previousQ;
            return this;
          };
        } else {
          throw new Error("This environment was not anticipated by Q. Please file a bug.");
        }
      })(function() {
        "use strict";
        var hasStacks = false;
        try {
          throw new Error();
        } catch (e) {
          hasStacks = !!e.stack;
        }
        var qStartingLine = captureLine();
        var qFileName;
        var noop = function() {
        };
        var nextTick = function() {
          var head = {task: void 0, next: null};
          var tail = head;
          var flushing = false;
          var requestTick = void 0;
          var isNodeJS = false;
          var laterQueue = [];
          function flush() {
            var task, domain;
            while (head.next) {
              head = head.next;
              task = head.task;
              head.task = void 0;
              domain = head.domain;
              if (domain) {
                head.domain = void 0;
                domain.enter();
              }
              runSingle(task, domain);
            }
            while (laterQueue.length) {
              task = laterQueue.pop();
              runSingle(task);
            }
            flushing = false;
          }
          function runSingle(task, domain) {
            try {
              task();
            } catch (e) {
              if (isNodeJS) {
                if (domain) {
                  domain.exit();
                }
                setTimeout(flush, 0);
                if (domain) {
                  domain.enter();
                }
                throw e;
              } else {
                setTimeout(function() {
                  throw e;
                }, 0);
              }
            }
            if (domain) {
              domain.exit();
            }
          }
          nextTick = function(task) {
            tail = tail.next = {
              task,
              domain: isNodeJS && process.domain,
              next: null
            };
            if (!flushing) {
              flushing = true;
              requestTick();
            }
          };
          if (typeof process === "object" && process.toString() === "[object process]" && process.nextTick) {
            isNodeJS = true;
            requestTick = function() {
              process.nextTick(flush);
            };
          } else if (typeof setImmediate === "function") {
            if (typeof window !== "undefined") {
              requestTick = setImmediate.bind(window, flush);
            } else {
              requestTick = function() {
                setImmediate(flush);
              };
            }
          } else if (typeof MessageChannel !== "undefined") {
            var channel = new MessageChannel();
            channel.port1.onmessage = function() {
              requestTick = requestPortTick;
              channel.port1.onmessage = flush;
              flush();
            };
            var requestPortTick = function() {
              channel.port2.postMessage(0);
            };
            requestTick = function() {
              setTimeout(flush, 0);
              requestPortTick();
            };
          } else {
            requestTick = function() {
              setTimeout(flush, 0);
            };
          }
          nextTick.runAfter = function(task) {
            laterQueue.push(task);
            if (!flushing) {
              flushing = true;
              requestTick();
            }
          };
          return nextTick;
        }();
        var call = Function.call;
        function uncurryThis(f) {
          return function() {
            return call.apply(f, arguments);
          };
        }
        var array_slice = uncurryThis(Array.prototype.slice);
        var array_reduce = uncurryThis(Array.prototype.reduce || function(callback, basis) {
          var index = 0, length = this.length;
          if (arguments.length === 1) {
            do {
              if (index in this) {
                basis = this[index++];
                break;
              }
              if (++index >= length) {
                throw new TypeError();
              }
            } while (1);
          }
          for (; index < length; index++) {
            if (index in this) {
              basis = callback(basis, this[index], index);
            }
          }
          return basis;
        });
        var array_indexOf = uncurryThis(Array.prototype.indexOf || function(value) {
          for (var i = 0; i < this.length; i++) {
            if (this[i] === value) {
              return i;
            }
          }
          return -1;
        });
        var array_map = uncurryThis(Array.prototype.map || function(callback, thisp) {
          var self2 = this;
          var collect = [];
          array_reduce(self2, function(undefined2, value, index) {
            collect.push(callback.call(thisp, value, index, self2));
          }, void 0);
          return collect;
        });
        var object_create = Object.create || function(prototype) {
          function Type() {
          }
          Type.prototype = prototype;
          return new Type();
        };
        var object_defineProperty = Object.defineProperty || function(obj, prop, descriptor) {
          obj[prop] = descriptor.value;
          return obj;
        };
        var object_hasOwnProperty = uncurryThis(Object.prototype.hasOwnProperty);
        var object_keys = Object.keys || function(object) {
          var keys = [];
          for (var key in object) {
            if (object_hasOwnProperty(object, key)) {
              keys.push(key);
            }
          }
          return keys;
        };
        var object_toString = uncurryThis(Object.prototype.toString);
        function isObject(value) {
          return value === Object(value);
        }
        function isStopIteration(exception) {
          return object_toString(exception) === "[object StopIteration]" || exception instanceof QReturnValue;
        }
        var QReturnValue;
        if (typeof ReturnValue !== "undefined") {
          QReturnValue = ReturnValue;
        } else {
          QReturnValue = function(value) {
            this.value = value;
          };
        }
        var STACK_JUMP_SEPARATOR = "From previous event:";
        function makeStackTraceLong(error, promise2) {
          if (hasStacks && promise2.stack && typeof error === "object" && error !== null && error.stack) {
            var stacks = [];
            for (var p = promise2; !!p; p = p.source) {
              if (p.stack && (!error.__minimumStackCounter__ || error.__minimumStackCounter__ > p.stackCounter)) {
                object_defineProperty(error, "__minimumStackCounter__", {value: p.stackCounter, configurable: true});
                stacks.unshift(p.stack);
              }
            }
            stacks.unshift(error.stack);
            var concatedStacks = stacks.join("\n" + STACK_JUMP_SEPARATOR + "\n");
            var stack = filterStackString(concatedStacks);
            object_defineProperty(error, "stack", {value: stack, configurable: true});
          }
        }
        function filterStackString(stackString) {
          var lines = stackString.split("\n");
          var desiredLines = [];
          for (var i = 0; i < lines.length; ++i) {
            var line = lines[i];
            if (!isInternalFrame(line) && !isNodeFrame(line) && line) {
              desiredLines.push(line);
            }
          }
          return desiredLines.join("\n");
        }
        function isNodeFrame(stackLine) {
          return stackLine.indexOf("(module.js:") !== -1 || stackLine.indexOf("(node.js:") !== -1;
        }
        function getFileNameAndLineNumber(stackLine) {
          var attempt1 = /at .+ \((.+):(\d+):(?:\d+)\)$/.exec(stackLine);
          if (attempt1) {
            return [attempt1[1], Number(attempt1[2])];
          }
          var attempt2 = /at ([^ ]+):(\d+):(?:\d+)$/.exec(stackLine);
          if (attempt2) {
            return [attempt2[1], Number(attempt2[2])];
          }
          var attempt3 = /.*@(.+):(\d+)$/.exec(stackLine);
          if (attempt3) {
            return [attempt3[1], Number(attempt3[2])];
          }
        }
        function isInternalFrame(stackLine) {
          var fileNameAndLineNumber = getFileNameAndLineNumber(stackLine);
          if (!fileNameAndLineNumber) {
            return false;
          }
          var fileName = fileNameAndLineNumber[0];
          var lineNumber = fileNameAndLineNumber[1];
          return fileName === qFileName && lineNumber >= qStartingLine && lineNumber <= qEndingLine;
        }
        function captureLine() {
          if (!hasStacks) {
            return;
          }
          try {
            throw new Error();
          } catch (e) {
            var lines = e.stack.split("\n");
            var firstLine = lines[0].indexOf("@") > 0 ? lines[1] : lines[2];
            var fileNameAndLineNumber = getFileNameAndLineNumber(firstLine);
            if (!fileNameAndLineNumber) {
              return;
            }
            qFileName = fileNameAndLineNumber[0];
            return fileNameAndLineNumber[1];
          }
        }
        function deprecate(callback, name, alternative) {
          return function() {
            if (typeof console !== "undefined" && typeof console.warn === "function") {
              console.warn(name + " is deprecated, use " + alternative + " instead.", new Error("").stack);
            }
            return callback.apply(callback, arguments);
          };
        }
        function Q(value) {
          if (value instanceof Promise2) {
            return value;
          }
          if (isPromiseAlike(value)) {
            return coerce(value);
          } else {
            return fulfill(value);
          }
        }
        Q.resolve = Q;
        Q.nextTick = nextTick;
        Q.longStackSupport = false;
        var longStackCounter = 1;
        if (typeof process === "object" && process && process.env && process.env.Q_DEBUG) {
          Q.longStackSupport = true;
        }
        Q.defer = defer;
        function defer() {
          var messages = [], progressListeners = [], resolvedPromise;
          var deferred = object_create(defer.prototype);
          var promise2 = object_create(Promise2.prototype);
          promise2.promiseDispatch = function(resolve, op, operands) {
            var args = array_slice(arguments);
            if (messages) {
              messages.push(args);
              if (op === "when" && operands[1]) {
                progressListeners.push(operands[1]);
              }
            } else {
              Q.nextTick(function() {
                resolvedPromise.promiseDispatch.apply(resolvedPromise, args);
              });
            }
          };
          promise2.valueOf = function() {
            if (messages) {
              return promise2;
            }
            var nearerValue = nearer(resolvedPromise);
            if (isPromise(nearerValue)) {
              resolvedPromise = nearerValue;
            }
            return nearerValue;
          };
          promise2.inspect = function() {
            if (!resolvedPromise) {
              return {state: "pending"};
            }
            return resolvedPromise.inspect();
          };
          if (Q.longStackSupport && hasStacks) {
            try {
              throw new Error();
            } catch (e) {
              promise2.stack = e.stack.substring(e.stack.indexOf("\n") + 1);
              promise2.stackCounter = longStackCounter++;
            }
          }
          function become(newPromise) {
            resolvedPromise = newPromise;
            if (Q.longStackSupport && hasStacks) {
              promise2.source = newPromise;
            }
            array_reduce(messages, function(undefined2, message) {
              Q.nextTick(function() {
                newPromise.promiseDispatch.apply(newPromise, message);
              });
            }, void 0);
            messages = void 0;
            progressListeners = void 0;
          }
          deferred.promise = promise2;
          deferred.resolve = function(value) {
            if (resolvedPromise) {
              return;
            }
            become(Q(value));
          };
          deferred.fulfill = function(value) {
            if (resolvedPromise) {
              return;
            }
            become(fulfill(value));
          };
          deferred.reject = function(reason) {
            if (resolvedPromise) {
              return;
            }
            become(reject(reason));
          };
          deferred.notify = function(progress2) {
            if (resolvedPromise) {
              return;
            }
            array_reduce(progressListeners, function(undefined2, progressListener) {
              Q.nextTick(function() {
                progressListener(progress2);
              });
            }, void 0);
          };
          return deferred;
        }
        defer.prototype.makeNodeResolver = function() {
          var self2 = this;
          return function(error, value) {
            if (error) {
              self2.reject(error);
            } else if (arguments.length > 2) {
              self2.resolve(array_slice(arguments, 1));
            } else {
              self2.resolve(value);
            }
          };
        };
        Q.Promise = promise;
        Q.promise = promise;
        function promise(resolver) {
          if (typeof resolver !== "function") {
            throw new TypeError("resolver must be a function.");
          }
          var deferred = defer();
          try {
            resolver(deferred.resolve, deferred.reject, deferred.notify);
          } catch (reason) {
            deferred.reject(reason);
          }
          return deferred.promise;
        }
        promise.race = race;
        promise.all = all;
        promise.reject = reject;
        promise.resolve = Q;
        Q.passByCopy = function(object) {
          return object;
        };
        Promise2.prototype.passByCopy = function() {
          return this;
        };
        Q.join = function(x, y) {
          return Q(x).join(y);
        };
        Promise2.prototype.join = function(that) {
          return Q([this, that]).spread(function(x, y) {
            if (x === y) {
              return x;
            } else {
              throw new Error("Q can't join: not the same: " + x + " " + y);
            }
          });
        };
        Q.race = race;
        function race(answerPs) {
          return promise(function(resolve, reject2) {
            for (var i = 0, len = answerPs.length; i < len; i++) {
              Q(answerPs[i]).then(resolve, reject2);
            }
          });
        }
        Promise2.prototype.race = function() {
          return this.then(Q.race);
        };
        Q.makePromise = Promise2;
        function Promise2(descriptor, fallback, inspect) {
          if (fallback === void 0) {
            fallback = function(op) {
              return reject(new Error("Promise does not support operation: " + op));
            };
          }
          if (inspect === void 0) {
            inspect = function() {
              return {state: "unknown"};
            };
          }
          var promise2 = object_create(Promise2.prototype);
          promise2.promiseDispatch = function(resolve, op, args) {
            var result;
            try {
              if (descriptor[op]) {
                result = descriptor[op].apply(promise2, args);
              } else {
                result = fallback.call(promise2, op, args);
              }
            } catch (exception) {
              result = reject(exception);
            }
            if (resolve) {
              resolve(result);
            }
          };
          promise2.inspect = inspect;
          if (inspect) {
            var inspected = inspect();
            if (inspected.state === "rejected") {
              promise2.exception = inspected.reason;
            }
            promise2.valueOf = function() {
              var inspected2 = inspect();
              if (inspected2.state === "pending" || inspected2.state === "rejected") {
                return promise2;
              }
              return inspected2.value;
            };
          }
          return promise2;
        }
        Promise2.prototype.toString = function() {
          return "[object Promise]";
        };
        Promise2.prototype.then = function(fulfilled, rejected, progressed) {
          var self2 = this;
          var deferred = defer();
          var done = false;
          function _fulfilled(value) {
            try {
              return typeof fulfilled === "function" ? fulfilled(value) : value;
            } catch (exception) {
              return reject(exception);
            }
          }
          function _rejected(exception) {
            if (typeof rejected === "function") {
              makeStackTraceLong(exception, self2);
              try {
                return rejected(exception);
              } catch (newException) {
                return reject(newException);
              }
            }
            return reject(exception);
          }
          function _progressed(value) {
            return typeof progressed === "function" ? progressed(value) : value;
          }
          Q.nextTick(function() {
            self2.promiseDispatch(function(value) {
              if (done) {
                return;
              }
              done = true;
              deferred.resolve(_fulfilled(value));
            }, "when", [function(exception) {
              if (done) {
                return;
              }
              done = true;
              deferred.resolve(_rejected(exception));
            }]);
          });
          self2.promiseDispatch(void 0, "when", [void 0, function(value) {
            var newValue;
            var threw = false;
            try {
              newValue = _progressed(value);
            } catch (e) {
              threw = true;
              if (Q.onerror) {
                Q.onerror(e);
              } else {
                throw e;
              }
            }
            if (!threw) {
              deferred.notify(newValue);
            }
          }]);
          return deferred.promise;
        };
        Q.tap = function(promise2, callback) {
          return Q(promise2).tap(callback);
        };
        Promise2.prototype.tap = function(callback) {
          callback = Q(callback);
          return this.then(function(value) {
            return callback.fcall(value).thenResolve(value);
          });
        };
        Q.when = when;
        function when(value, fulfilled, rejected, progressed) {
          return Q(value).then(fulfilled, rejected, progressed);
        }
        Promise2.prototype.thenResolve = function(value) {
          return this.then(function() {
            return value;
          });
        };
        Q.thenResolve = function(promise2, value) {
          return Q(promise2).thenResolve(value);
        };
        Promise2.prototype.thenReject = function(reason) {
          return this.then(function() {
            throw reason;
          });
        };
        Q.thenReject = function(promise2, reason) {
          return Q(promise2).thenReject(reason);
        };
        Q.nearer = nearer;
        function nearer(value) {
          if (isPromise(value)) {
            var inspected = value.inspect();
            if (inspected.state === "fulfilled") {
              return inspected.value;
            }
          }
          return value;
        }
        Q.isPromise = isPromise;
        function isPromise(object) {
          return object instanceof Promise2;
        }
        Q.isPromiseAlike = isPromiseAlike;
        function isPromiseAlike(object) {
          return isObject(object) && typeof object.then === "function";
        }
        Q.isPending = isPending;
        function isPending(object) {
          return isPromise(object) && object.inspect().state === "pending";
        }
        Promise2.prototype.isPending = function() {
          return this.inspect().state === "pending";
        };
        Q.isFulfilled = isFulfilled;
        function isFulfilled(object) {
          return !isPromise(object) || object.inspect().state === "fulfilled";
        }
        Promise2.prototype.isFulfilled = function() {
          return this.inspect().state === "fulfilled";
        };
        Q.isRejected = isRejected;
        function isRejected(object) {
          return isPromise(object) && object.inspect().state === "rejected";
        }
        Promise2.prototype.isRejected = function() {
          return this.inspect().state === "rejected";
        };
        var unhandledReasons = [];
        var unhandledRejections = [];
        var reportedUnhandledRejections = [];
        var trackUnhandledRejections = true;
        function resetUnhandledRejections() {
          unhandledReasons.length = 0;
          unhandledRejections.length = 0;
          if (!trackUnhandledRejections) {
            trackUnhandledRejections = true;
          }
        }
        function trackRejection(promise2, reason) {
          if (!trackUnhandledRejections) {
            return;
          }
          if (typeof process === "object" && typeof process.emit === "function") {
            Q.nextTick.runAfter(function() {
              if (array_indexOf(unhandledRejections, promise2) !== -1) {
                process.emit("unhandledRejection", reason, promise2);
                reportedUnhandledRejections.push(promise2);
              }
            });
          }
          unhandledRejections.push(promise2);
          if (reason && typeof reason.stack !== "undefined") {
            unhandledReasons.push(reason.stack);
          } else {
            unhandledReasons.push("(no stack) " + reason);
          }
        }
        function untrackRejection(promise2) {
          if (!trackUnhandledRejections) {
            return;
          }
          var at = array_indexOf(unhandledRejections, promise2);
          if (at !== -1) {
            if (typeof process === "object" && typeof process.emit === "function") {
              Q.nextTick.runAfter(function() {
                var atReport = array_indexOf(reportedUnhandledRejections, promise2);
                if (atReport !== -1) {
                  process.emit("rejectionHandled", unhandledReasons[at], promise2);
                  reportedUnhandledRejections.splice(atReport, 1);
                }
              });
            }
            unhandledRejections.splice(at, 1);
            unhandledReasons.splice(at, 1);
          }
        }
        Q.resetUnhandledRejections = resetUnhandledRejections;
        Q.getUnhandledReasons = function() {
          return unhandledReasons.slice();
        };
        Q.stopUnhandledRejectionTracking = function() {
          resetUnhandledRejections();
          trackUnhandledRejections = false;
        };
        resetUnhandledRejections();
        Q.reject = reject;
        function reject(reason) {
          var rejection = Promise2({
            "when": function(rejected) {
              if (rejected) {
                untrackRejection(this);
              }
              return rejected ? rejected(reason) : this;
            }
          }, function fallback() {
            return this;
          }, function inspect() {
            return {state: "rejected", reason};
          });
          trackRejection(rejection, reason);
          return rejection;
        }
        Q.fulfill = fulfill;
        function fulfill(value) {
          return Promise2({
            "when": function() {
              return value;
            },
            "get": function(name) {
              return value[name];
            },
            "set": function(name, rhs) {
              value[name] = rhs;
            },
            "delete": function(name) {
              delete value[name];
            },
            "post": function(name, args) {
              if (name === null || name === void 0) {
                return value.apply(void 0, args);
              } else {
                return value[name].apply(value, args);
              }
            },
            "apply": function(thisp, args) {
              return value.apply(thisp, args);
            },
            "keys": function() {
              return object_keys(value);
            }
          }, void 0, function inspect() {
            return {state: "fulfilled", value};
          });
        }
        function coerce(promise2) {
          var deferred = defer();
          Q.nextTick(function() {
            try {
              promise2.then(deferred.resolve, deferred.reject, deferred.notify);
            } catch (exception) {
              deferred.reject(exception);
            }
          });
          return deferred.promise;
        }
        Q.master = master;
        function master(object) {
          return Promise2({
            "isDef": function() {
            }
          }, function fallback(op, args) {
            return dispatch(object, op, args);
          }, function() {
            return Q(object).inspect();
          });
        }
        Q.spread = spread;
        function spread(value, fulfilled, rejected) {
          return Q(value).spread(fulfilled, rejected);
        }
        Promise2.prototype.spread = function(fulfilled, rejected) {
          return this.all().then(function(array) {
            return fulfilled.apply(void 0, array);
          }, rejected);
        };
        Q.async = async;
        function async(makeGenerator) {
          return function() {
            function continuer(verb, arg) {
              var result;
              if (typeof StopIteration === "undefined") {
                try {
                  result = generator[verb](arg);
                } catch (exception) {
                  return reject(exception);
                }
                if (result.done) {
                  return Q(result.value);
                } else {
                  return when(result.value, callback, errback);
                }
              } else {
                try {
                  result = generator[verb](arg);
                } catch (exception) {
                  if (isStopIteration(exception)) {
                    return Q(exception.value);
                  } else {
                    return reject(exception);
                  }
                }
                return when(result, callback, errback);
              }
            }
            var generator = makeGenerator.apply(this, arguments);
            var callback = continuer.bind(continuer, "next");
            var errback = continuer.bind(continuer, "throw");
            return callback();
          };
        }
        Q.spawn = spawn2;
        function spawn2(makeGenerator) {
          Q.done(Q.async(makeGenerator)());
        }
        Q["return"] = _return;
        function _return(value) {
          throw new QReturnValue(value);
        }
        Q.promised = promised;
        function promised(callback) {
          return function() {
            return spread([this, all(arguments)], function(self2, args) {
              return callback.apply(self2, args);
            });
          };
        }
        Q.dispatch = dispatch;
        function dispatch(object, op, args) {
          return Q(object).dispatch(op, args);
        }
        Promise2.prototype.dispatch = function(op, args) {
          var self2 = this;
          var deferred = defer();
          Q.nextTick(function() {
            self2.promiseDispatch(deferred.resolve, op, args);
          });
          return deferred.promise;
        };
        Q.get = function(object, key) {
          return Q(object).dispatch("get", [key]);
        };
        Promise2.prototype.get = function(key) {
          return this.dispatch("get", [key]);
        };
        Q.set = function(object, key, value) {
          return Q(object).dispatch("set", [key, value]);
        };
        Promise2.prototype.set = function(key, value) {
          return this.dispatch("set", [key, value]);
        };
        Q.del = Q["delete"] = function(object, key) {
          return Q(object).dispatch("delete", [key]);
        };
        Promise2.prototype.del = Promise2.prototype["delete"] = function(key) {
          return this.dispatch("delete", [key]);
        };
        Q.mapply = Q.post = function(object, name, args) {
          return Q(object).dispatch("post", [name, args]);
        };
        Promise2.prototype.mapply = Promise2.prototype.post = function(name, args) {
          return this.dispatch("post", [name, args]);
        };
        Q.send = Q.mcall = Q.invoke = function(object, name) {
          return Q(object).dispatch("post", [name, array_slice(arguments, 2)]);
        };
        Promise2.prototype.send = Promise2.prototype.mcall = Promise2.prototype.invoke = function(name) {
          return this.dispatch("post", [name, array_slice(arguments, 1)]);
        };
        Q.fapply = function(object, args) {
          return Q(object).dispatch("apply", [void 0, args]);
        };
        Promise2.prototype.fapply = function(args) {
          return this.dispatch("apply", [void 0, args]);
        };
        Q["try"] = Q.fcall = function(object) {
          return Q(object).dispatch("apply", [void 0, array_slice(arguments, 1)]);
        };
        Promise2.prototype.fcall = function() {
          return this.dispatch("apply", [void 0, array_slice(arguments)]);
        };
        Q.fbind = function(object) {
          var promise2 = Q(object);
          var args = array_slice(arguments, 1);
          return function fbound() {
            return promise2.dispatch("apply", [
              this,
              args.concat(array_slice(arguments))
            ]);
          };
        };
        Promise2.prototype.fbind = function() {
          var promise2 = this;
          var args = array_slice(arguments);
          return function fbound() {
            return promise2.dispatch("apply", [
              this,
              args.concat(array_slice(arguments))
            ]);
          };
        };
        Q.keys = function(object) {
          return Q(object).dispatch("keys", []);
        };
        Promise2.prototype.keys = function() {
          return this.dispatch("keys", []);
        };
        Q.all = all;
        function all(promises) {
          return when(promises, function(promises2) {
            var pendingCount = 0;
            var deferred = defer();
            array_reduce(promises2, function(undefined2, promise2, index) {
              var snapshot;
              if (isPromise(promise2) && (snapshot = promise2.inspect()).state === "fulfilled") {
                promises2[index] = snapshot.value;
              } else {
                ++pendingCount;
                when(promise2, function(value) {
                  promises2[index] = value;
                  if (--pendingCount === 0) {
                    deferred.resolve(promises2);
                  }
                }, deferred.reject, function(progress2) {
                  deferred.notify({index, value: progress2});
                });
              }
            }, void 0);
            if (pendingCount === 0) {
              deferred.resolve(promises2);
            }
            return deferred.promise;
          });
        }
        Promise2.prototype.all = function() {
          return all(this);
        };
        Q.any = any;
        function any(promises) {
          if (promises.length === 0) {
            return Q.resolve();
          }
          var deferred = Q.defer();
          var pendingCount = 0;
          array_reduce(promises, function(prev, current, index) {
            var promise2 = promises[index];
            pendingCount++;
            when(promise2, onFulfilled, onRejected, onProgress);
            function onFulfilled(result) {
              deferred.resolve(result);
            }
            function onRejected(err) {
              pendingCount--;
              if (pendingCount === 0) {
                var rejection = err || new Error("" + err);
                rejection.message = "Q can't get fulfillment value from any promise, all promises were rejected. Last error message: " + rejection.message;
                deferred.reject(rejection);
              }
            }
            function onProgress(progress2) {
              deferred.notify({
                index,
                value: progress2
              });
            }
          }, void 0);
          return deferred.promise;
        }
        Promise2.prototype.any = function() {
          return any(this);
        };
        Q.allResolved = deprecate(allResolved, "allResolved", "allSettled");
        function allResolved(promises) {
          return when(promises, function(promises2) {
            promises2 = array_map(promises2, Q);
            return when(all(array_map(promises2, function(promise2) {
              return when(promise2, noop, noop);
            })), function() {
              return promises2;
            });
          });
        }
        Promise2.prototype.allResolved = function() {
          return allResolved(this);
        };
        Q.allSettled = allSettled;
        function allSettled(promises) {
          return Q(promises).allSettled();
        }
        Promise2.prototype.allSettled = function() {
          return this.then(function(promises) {
            return all(array_map(promises, function(promise2) {
              promise2 = Q(promise2);
              function regardless() {
                return promise2.inspect();
              }
              return promise2.then(regardless, regardless);
            }));
          });
        };
        Q.fail = Q["catch"] = function(object, rejected) {
          return Q(object).then(void 0, rejected);
        };
        Promise2.prototype.fail = Promise2.prototype["catch"] = function(rejected) {
          return this.then(void 0, rejected);
        };
        Q.progress = progress;
        function progress(object, progressed) {
          return Q(object).then(void 0, void 0, progressed);
        }
        Promise2.prototype.progress = function(progressed) {
          return this.then(void 0, void 0, progressed);
        };
        Q.fin = Q["finally"] = function(object, callback) {
          return Q(object)["finally"](callback);
        };
        Promise2.prototype.fin = Promise2.prototype["finally"] = function(callback) {
          if (!callback || typeof callback.apply !== "function") {
            throw new Error("Q can't apply finally callback");
          }
          callback = Q(callback);
          return this.then(function(value) {
            return callback.fcall().then(function() {
              return value;
            });
          }, function(reason) {
            return callback.fcall().then(function() {
              throw reason;
            });
          });
        };
        Q.done = function(object, fulfilled, rejected, progress2) {
          return Q(object).done(fulfilled, rejected, progress2);
        };
        Promise2.prototype.done = function(fulfilled, rejected, progress2) {
          var onUnhandledError = function(error) {
            Q.nextTick(function() {
              makeStackTraceLong(error, promise2);
              if (Q.onerror) {
                Q.onerror(error);
              } else {
                throw error;
              }
            });
          };
          var promise2 = fulfilled || rejected || progress2 ? this.then(fulfilled, rejected, progress2) : this;
          if (typeof process === "object" && process && process.domain) {
            onUnhandledError = process.domain.bind(onUnhandledError);
          }
          promise2.then(void 0, onUnhandledError);
        };
        Q.timeout = function(object, ms, error) {
          return Q(object).timeout(ms, error);
        };
        Promise2.prototype.timeout = function(ms, error) {
          var deferred = defer();
          var timeoutId = setTimeout(function() {
            if (!error || typeof error === "string") {
              error = new Error(error || "Timed out after " + ms + " ms");
              error.code = "ETIMEDOUT";
            }
            deferred.reject(error);
          }, ms);
          this.then(function(value) {
            clearTimeout(timeoutId);
            deferred.resolve(value);
          }, function(exception) {
            clearTimeout(timeoutId);
            deferred.reject(exception);
          }, deferred.notify);
          return deferred.promise;
        };
        Q.delay = function(object, timeout) {
          if (timeout === void 0) {
            timeout = object;
            object = void 0;
          }
          return Q(object).delay(timeout);
        };
        Promise2.prototype.delay = function(timeout) {
          return this.then(function(value) {
            var deferred = defer();
            setTimeout(function() {
              deferred.resolve(value);
            }, timeout);
            return deferred.promise;
          });
        };
        Q.nfapply = function(callback, args) {
          return Q(callback).nfapply(args);
        };
        Promise2.prototype.nfapply = function(args) {
          var deferred = defer();
          var nodeArgs = array_slice(args);
          nodeArgs.push(deferred.makeNodeResolver());
          this.fapply(nodeArgs).fail(deferred.reject);
          return deferred.promise;
        };
        Q.nfcall = function(callback) {
          var args = array_slice(arguments, 1);
          return Q(callback).nfapply(args);
        };
        Promise2.prototype.nfcall = function() {
          var nodeArgs = array_slice(arguments);
          var deferred = defer();
          nodeArgs.push(deferred.makeNodeResolver());
          this.fapply(nodeArgs).fail(deferred.reject);
          return deferred.promise;
        };
        Q.nfbind = Q.denodeify = function(callback) {
          if (callback === void 0) {
            throw new Error("Q can't wrap an undefined function");
          }
          var baseArgs = array_slice(arguments, 1);
          return function() {
            var nodeArgs = baseArgs.concat(array_slice(arguments));
            var deferred = defer();
            nodeArgs.push(deferred.makeNodeResolver());
            Q(callback).fapply(nodeArgs).fail(deferred.reject);
            return deferred.promise;
          };
        };
        Promise2.prototype.nfbind = Promise2.prototype.denodeify = function() {
          var args = array_slice(arguments);
          args.unshift(this);
          return Q.denodeify.apply(void 0, args);
        };
        Q.nbind = function(callback, thisp) {
          var baseArgs = array_slice(arguments, 2);
          return function() {
            var nodeArgs = baseArgs.concat(array_slice(arguments));
            var deferred = defer();
            nodeArgs.push(deferred.makeNodeResolver());
            function bound() {
              return callback.apply(thisp, arguments);
            }
            Q(bound).fapply(nodeArgs).fail(deferred.reject);
            return deferred.promise;
          };
        };
        Promise2.prototype.nbind = function() {
          var args = array_slice(arguments, 0);
          args.unshift(this);
          return Q.nbind.apply(void 0, args);
        };
        Q.nmapply = Q.npost = function(object, name, args) {
          return Q(object).npost(name, args);
        };
        Promise2.prototype.nmapply = Promise2.prototype.npost = function(name, args) {
          var nodeArgs = array_slice(args || []);
          var deferred = defer();
          nodeArgs.push(deferred.makeNodeResolver());
          this.dispatch("post", [name, nodeArgs]).fail(deferred.reject);
          return deferred.promise;
        };
        Q.nsend = Q.nmcall = Q.ninvoke = function(object, name) {
          var nodeArgs = array_slice(arguments, 2);
          var deferred = defer();
          nodeArgs.push(deferred.makeNodeResolver());
          Q(object).dispatch("post", [name, nodeArgs]).fail(deferred.reject);
          return deferred.promise;
        };
        Promise2.prototype.nsend = Promise2.prototype.nmcall = Promise2.prototype.ninvoke = function(name) {
          var nodeArgs = array_slice(arguments, 1);
          var deferred = defer();
          nodeArgs.push(deferred.makeNodeResolver());
          this.dispatch("post", [name, nodeArgs]).fail(deferred.reject);
          return deferred.promise;
        };
        Q.nodeify = nodeify;
        function nodeify(object, nodeback) {
          return Q(object).nodeify(nodeback);
        }
        Promise2.prototype.nodeify = function(nodeback) {
          if (nodeback) {
            this.then(function(value) {
              Q.nextTick(function() {
                nodeback(null, value);
              });
            }, function(error) {
              Q.nextTick(function() {
                nodeback(error);
              });
            });
          } else {
            return this;
          }
        };
        Q.noConflict = function() {
          throw new Error("Q.noConflict only works when Q is used as a global");
        };
        var qEndingLine = captureLine();
        return Q;
      });
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/conventional-recommended-bump-npm-6.1.0-18a6db0ce9-9.zip/node_modules/conventional-recommended-bump/preset-resolver.js
  var require_preset_resolver = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/conventional-recommended-bump-npm-6.1.0-18a6db0ce9-9.zip/node_modules/conventional-recommended-bump/preset-resolver.js"(exports, module) {
      "use strict";
      var Q = require_q();
      module.exports = presetResolver;
      function presetResolver(presetPackage) {
        return Q.resolve().then(() => {
          if (typeof presetPackage === "function") {
            return Q.nfcall(presetPackage);
          }
          if (typeof presetPackage === "object") {
            return Q(presetPackage);
          }
          throw new Error("preset package must be a promise, function, or object");
        });
      }
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/conventional-recommended-bump-npm-6.1.0-18a6db0ce9-9.zip/node_modules/conventional-recommended-bump/index.js
  var require_conventional_recommended_bump = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/conventional-recommended-bump-npm-6.1.0-18a6db0ce9-9.zip/node_modules/conventional-recommended-bump/index.js"(exports, module) {
      "use strict";
      var concat = require_concat_stream();
      var conventionalCommitsFilter = require_conventional_commits_filter();
      var conventionalCommitsParser = require_conventional_commits_parser();
      var conventionalChangelogPresetLoader = require_conventional_changelog_preset_loader();
      var gitSemverTags = require_git_semver_tags();
      var gitRawCommits = require_git_raw_commits();
      var presetResolver = require_preset_resolver();
      var VERSIONS = ["major", "minor", "patch"];
      module.exports = conventionalRecommendedBump2;
      function conventionalRecommendedBump2(optionsArgument, parserOptsArgument, cbArgument) {
        if (typeof optionsArgument !== "object") {
          throw new Error("The 'options' argument must be an object.");
        }
        const options = Object.assign({ignoreReverted: true}, optionsArgument);
        const cb = typeof parserOptsArgument === "function" ? parserOptsArgument : cbArgument;
        if (typeof cb !== "function") {
          throw new Error("You must provide a callback function.");
        }
        let presetPackage = options.config || {};
        if (options.preset) {
          try {
            presetPackage = conventionalChangelogPresetLoader(options.preset);
          } catch (err) {
            if (err.message === "does not exist") {
              const preset = typeof options.preset === "object" ? options.preset.name : options.preset;
              return cb(new Error(`Unable to load the "${preset}" preset package. Please make sure it's installed.`));
            } else {
              return cb(err);
            }
          }
        }
        presetResolver(presetPackage).then((config) => {
          const whatBump = options.whatBump || (config.recommendedBumpOpts && config.recommendedBumpOpts.whatBump ? config.recommendedBumpOpts.whatBump : noop);
          if (typeof whatBump !== "function") {
            throw Error("whatBump must be a function");
          }
          const parserOpts = Object.assign({}, config.recommendedBumpOpts && config.recommendedBumpOpts.parserOpts ? config.recommendedBumpOpts.parserOpts : config.parserOpts, parserOptsArgument);
          const warn = typeof parserOpts.warn === "function" ? parserOpts.warn : noop;
          gitSemverTags({
            lernaTags: !!options.lernaPackage,
            package: options.lernaPackage,
            tagPrefix: options.tagPrefix,
            skipUnstable: options.skipUnstable
          }, (err, tags) => {
            if (err) {
              return cb(err);
            }
            gitRawCommits({
              format: "%B%n-hash-%n%H",
              from: tags[0] || "",
              path: options.path
            }).pipe(conventionalCommitsParser(parserOpts)).pipe(concat((data) => {
              const commits = options.ignoreReverted ? conventionalCommitsFilter(data) : data;
              if (!commits || !commits.length) {
                warn("No commits since last release");
              }
              let result = whatBump(commits, options);
              if (result && result.level != null) {
                result.releaseType = VERSIONS[result.level];
              } else if (result == null) {
                result = {};
              }
              cb(null, result);
            }));
          });
        }).catch((err) => cb(err));
      }
      function noop() {
      }
    }
  });

  // pnp:/Users/lupmtu1/github/yarn-plugins/.yarn/unplugged/conventional-changelog-conventionalcommits-npm-5.0.0-a270202fe8/node_modules/conventional-changelog-conventionalcommits/parser-opts.js
  var require_parser_opts = __commonJS({
    "pnp:/Users/lupmtu1/github/yarn-plugins/.yarn/unplugged/conventional-changelog-conventionalcommits-npm-5.0.0-a270202fe8/node_modules/conventional-changelog-conventionalcommits/parser-opts.js"(exports, module) {
      "use strict";
      module.exports = function(config) {
        config = defaultConfig(config);
        return {
          headerPattern: /^(\w*)(?:\((.*)\))?!?: (.*)$/,
          breakingHeaderPattern: /^(\w*)(?:\((.*)\))?!: (.*)$/,
          headerCorrespondence: [
            "type",
            "scope",
            "subject"
          ],
          noteKeywords: ["BREAKING CHANGE", "BREAKING-CHANGE"],
          revertPattern: /^(?:Revert|revert:)\s"?([\s\S]+?)"?\s*This reverts commit (\w*)\./i,
          revertCorrespondence: ["header", "hash"],
          issuePrefixes: config.issuePrefixes
        };
      };
      function defaultConfig(config) {
        config = config || {};
        config.issuePrefixes = config.issuePrefixes || ["#"];
        return config;
      }
    }
  });

  // pnp:/Users/lupmtu1/github/yarn-plugins/.yarn/unplugged/conventional-changelog-conventionalcommits-npm-5.0.0-a270202fe8/node_modules/conventional-changelog-conventionalcommits/add-bang-notes.js
  var require_add_bang_notes = __commonJS({
    "pnp:/Users/lupmtu1/github/yarn-plugins/.yarn/unplugged/conventional-changelog-conventionalcommits-npm-5.0.0-a270202fe8/node_modules/conventional-changelog-conventionalcommits/add-bang-notes.js"(exports, module) {
      var {breakingHeaderPattern} = require_parser_opts()();
      module.exports = (commit) => {
        const match = commit.header.match(breakingHeaderPattern);
        if (match && commit.notes.length === 0) {
          const noteText = match[3];
          commit.notes.push({
            text: noteText
          });
        }
      };
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/array-ify-npm-1.0.0-e09a371977-9.zip/node_modules/array-ify/index.js
  var require_array_ify = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/array-ify-npm-1.0.0-e09a371977-9.zip/node_modules/array-ify/index.js"(exports, module) {
      "use strict";
      module.exports = function(val) {
        return Array.isArray(val) ? val : [val];
      };
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/is-obj-npm-2.0.0-3d95e053f4-9.zip/node_modules/is-obj/index.js
  var require_is_obj = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/is-obj-npm-2.0.0-3d95e053f4-9.zip/node_modules/is-obj/index.js"(exports, module) {
      "use strict";
      module.exports = (value) => {
        const type = typeof value;
        return value !== null && (type === "object" || type === "function");
      };
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/dot-prop-npm-5.3.0-7bf6ee1eb8-9.zip/node_modules/dot-prop/index.js
  var require_dot_prop = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/dot-prop-npm-5.3.0-7bf6ee1eb8-9.zip/node_modules/dot-prop/index.js"(exports, module) {
      "use strict";
      var isObj = require_is_obj();
      var disallowedKeys = [
        "__proto__",
        "prototype",
        "constructor"
      ];
      var isValidPath = (pathSegments) => !pathSegments.some((segment) => disallowedKeys.includes(segment));
      function getPathSegments(path) {
        const pathArray = path.split(".");
        const parts = [];
        for (let i = 0; i < pathArray.length; i++) {
          let p = pathArray[i];
          while (p[p.length - 1] === "\\" && pathArray[i + 1] !== void 0) {
            p = p.slice(0, -1) + ".";
            p += pathArray[++i];
          }
          parts.push(p);
        }
        if (!isValidPath(parts)) {
          return [];
        }
        return parts;
      }
      module.exports = {
        get(object, path, value) {
          if (!isObj(object) || typeof path !== "string") {
            return value === void 0 ? object : value;
          }
          const pathArray = getPathSegments(path);
          if (pathArray.length === 0) {
            return;
          }
          for (let i = 0; i < pathArray.length; i++) {
            if (!Object.prototype.propertyIsEnumerable.call(object, pathArray[i])) {
              return value;
            }
            object = object[pathArray[i]];
            if (object === void 0 || object === null) {
              if (i !== pathArray.length - 1) {
                return value;
              }
              break;
            }
          }
          return object;
        },
        set(object, path, value) {
          if (!isObj(object) || typeof path !== "string") {
            return object;
          }
          const root = object;
          const pathArray = getPathSegments(path);
          for (let i = 0; i < pathArray.length; i++) {
            const p = pathArray[i];
            if (!isObj(object[p])) {
              object[p] = {};
            }
            if (i === pathArray.length - 1) {
              object[p] = value;
            }
            object = object[p];
          }
          return root;
        },
        delete(object, path) {
          if (!isObj(object) || typeof path !== "string") {
            return false;
          }
          const pathArray = getPathSegments(path);
          for (let i = 0; i < pathArray.length; i++) {
            const p = pathArray[i];
            if (i === pathArray.length - 1) {
              delete object[p];
              return true;
            }
            object = object[p];
            if (!isObj(object)) {
              return false;
            }
          }
        },
        has(object, path) {
          if (!isObj(object) || typeof path !== "string") {
            return false;
          }
          const pathArray = getPathSegments(path);
          if (pathArray.length === 0) {
            return false;
          }
          for (let i = 0; i < pathArray.length; i++) {
            if (isObj(object)) {
              if (!(pathArray[i] in object)) {
                return false;
              }
              object = object[pathArray[i]];
            } else {
              return false;
            }
          }
          return true;
        }
      };
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/compare-func-npm-2.0.0-9cd7852f23-9.zip/node_modules/compare-func/index.js
  var require_compare_func = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/compare-func-npm-2.0.0-9cd7852f23-9.zip/node_modules/compare-func/index.js"(exports, module) {
      "use strict";
      var arrayify = require_array_ify();
      var dotPropGet = require_dot_prop().get;
      function compareFunc(prop) {
        return function(a, b) {
          var ret = 0;
          arrayify(prop).some(function(el) {
            var x;
            var y;
            if (typeof el === "function") {
              x = el(a);
              y = el(b);
            } else if (typeof el === "string") {
              x = dotPropGet(a, el);
              y = dotPropGet(b, el);
            } else {
              x = a;
              y = b;
            }
            if (x === y) {
              ret = 0;
              return;
            }
            if (typeof x === "string" && typeof y === "string") {
              ret = x.localeCompare(y);
              return ret !== 0;
            }
            ret = x < y ? -1 : 1;
            return true;
          });
          return ret;
        };
      }
      module.exports = compareFunc;
    }
  });

  // pnp:/Users/lupmtu1/github/yarn-plugins/.yarn/unplugged/conventional-changelog-conventionalcommits-npm-5.0.0-a270202fe8/node_modules/conventional-changelog-conventionalcommits/writer-opts.js
  var require_writer_opts = __commonJS({
    "pnp:/Users/lupmtu1/github/yarn-plugins/.yarn/unplugged/conventional-changelog-conventionalcommits-npm-5.0.0-a270202fe8/node_modules/conventional-changelog-conventionalcommits/writer-opts.js"(exports, module) {
      "use strict";
      var addBangNotes = require_add_bang_notes();
      var compareFunc = require_compare_func();
      var Q = require_q();
      var readFile = Q.denodeify(__require("fs").readFile);
      var resolve = __require("path").resolve;
      var releaseAsRe = /release-as:\s*\w*@?([0-9]+\.[0-9]+\.[0-9a-z]+(-[0-9a-z.]+)?)\s*/i;
      var owner = "{{#if this.owner}}{{~this.owner}}{{else}}{{~@root.owner}}{{/if}}";
      var host = "{{~@root.host}}";
      var repository = "{{#if this.repository}}{{~this.repository}}{{else}}{{~@root.repository}}{{/if}}";
      module.exports = function(config) {
        config = defaultConfig(config);
        const commitUrlFormat = expandTemplate(config.commitUrlFormat, {
          host,
          owner,
          repository
        });
        const compareUrlFormat = expandTemplate(config.compareUrlFormat, {
          host,
          owner,
          repository
        });
        const issueUrlFormat = expandTemplate(config.issueUrlFormat, {
          host,
          owner,
          repository,
          id: "{{this.issue}}",
          prefix: "{{this.prefix}}"
        });
        return Q.all([
          readFile(resolve(__dirname, "./templates/template.hbs"), "utf-8"),
          readFile(resolve(__dirname, "./templates/header.hbs"), "utf-8"),
          readFile(resolve(__dirname, "./templates/commit.hbs"), "utf-8"),
          readFile(resolve(__dirname, "./templates/footer.hbs"), "utf-8")
        ]).spread((template, header, commit, footer) => {
          const writerOpts = getWriterOpts(config);
          writerOpts.mainTemplate = template;
          writerOpts.headerPartial = header.replace(/{{compareUrlFormat}}/g, compareUrlFormat);
          writerOpts.commitPartial = commit.replace(/{{commitUrlFormat}}/g, commitUrlFormat).replace(/{{issueUrlFormat}}/g, issueUrlFormat);
          writerOpts.footerPartial = footer;
          return writerOpts;
        });
      };
      function findTypeEntry(types, commit) {
        const typeKey = (commit.revert ? "revert" : commit.type || "").toLowerCase();
        return types.find((entry) => {
          if (entry.type !== typeKey) {
            return false;
          }
          if (entry.scope && entry.scope !== commit.scope) {
            return false;
          }
          return true;
        });
      }
      function getWriterOpts(config) {
        config = defaultConfig(config);
        return {
          transform: (commit, context) => {
            let discard = true;
            const issues = [];
            const entry = findTypeEntry(config.types, commit);
            addBangNotes(commit);
            if (commit.footer && releaseAsRe.test(commit.footer) || commit.body && releaseAsRe.test(commit.body)) {
              discard = false;
            }
            commit.notes.forEach((note) => {
              note.title = "BREAKING CHANGES";
              discard = false;
            });
            if (discard && (entry === void 0 || entry.hidden))
              return;
            if (entry)
              commit.type = entry.section;
            if (commit.scope === "*") {
              commit.scope = "";
            }
            if (typeof commit.hash === "string") {
              commit.shortHash = commit.hash.substring(0, 7);
            }
            if (typeof commit.subject === "string") {
              config.issuePrefixes.join("|");
              const issueRegEx = "(" + config.issuePrefixes.join("|") + ")([0-9]+)";
              const re = new RegExp(issueRegEx, "g");
              commit.subject = commit.subject.replace(re, (_, prefix, issue) => {
                issues.push(prefix + issue);
                const url = expandTemplate(config.issueUrlFormat, {
                  host: context.host,
                  owner: context.owner,
                  repository: context.repository,
                  id: issue,
                  prefix
                });
                return `[${prefix}${issue}](${url})`;
              });
              commit.subject = commit.subject.replace(/\B@([a-z0-9](?:-?[a-z0-9/]){0,38})/g, (_, user) => {
                if (user.includes("/")) {
                  return `@${user}`;
                }
                const usernameUrl = expandTemplate(config.userUrlFormat, {
                  host: context.host,
                  owner: context.owner,
                  repository: context.repository,
                  user
                });
                return `[@${user}](${usernameUrl})`;
              });
            }
            commit.references = commit.references.filter((reference) => {
              if (issues.indexOf(reference.prefix + reference.issue) === -1) {
                return true;
              }
              return false;
            });
            return commit;
          },
          groupBy: "type",
          commitGroupsSort: (a, b) => {
            const commitGroupOrder = ["Reverts", "Performance Improvements", "Bug Fixes", "Features"];
            const gRankA = commitGroupOrder.indexOf(a.title);
            const gRankB = commitGroupOrder.indexOf(b.title);
            if (gRankA >= gRankB) {
              return -1;
            } else {
              return 1;
            }
          },
          commitsSort: ["scope", "subject"],
          noteGroupsSort: "title",
          notesSort: compareFunc
        };
      }
      function defaultConfig(config) {
        config = config || {};
        config.types = config.types || [
          {type: "feat", section: "Features"},
          {type: "feature", section: "Features"},
          {type: "fix", section: "Bug Fixes"},
          {type: "perf", section: "Performance Improvements"},
          {type: "revert", section: "Reverts"},
          {type: "docs", section: "Documentation", hidden: true},
          {type: "style", section: "Styles", hidden: true},
          {type: "chore", section: "Miscellaneous Chores", hidden: true},
          {type: "refactor", section: "Code Refactoring", hidden: true},
          {type: "test", section: "Tests", hidden: true},
          {type: "build", section: "Build System", hidden: true},
          {type: "ci", section: "Continuous Integration", hidden: true}
        ];
        config.issueUrlFormat = config.issueUrlFormat || "{{host}}/{{owner}}/{{repository}}/issues/{{id}}";
        config.commitUrlFormat = config.commitUrlFormat || "{{host}}/{{owner}}/{{repository}}/commit/{{hash}}";
        config.compareUrlFormat = config.compareUrlFormat || "{{host}}/{{owner}}/{{repository}}/compare/{{previousTag}}...{{currentTag}}";
        config.userUrlFormat = config.userUrlFormat || "{{host}}/{{user}}";
        config.issuePrefixes = config.issuePrefixes || ["#"];
        return config;
      }
      function expandTemplate(template, context) {
        let expanded = template;
        Object.keys(context).forEach((key) => {
          expanded = expanded.replace(new RegExp(`{{${key}}}`, "g"), context[key]);
        });
        return expanded;
      }
    }
  });

  // pnp:/Users/lupmtu1/github/yarn-plugins/.yarn/unplugged/conventional-changelog-conventionalcommits-npm-5.0.0-a270202fe8/node_modules/conventional-changelog-conventionalcommits/conventional-changelog.js
  var require_conventional_changelog = __commonJS({
    "pnp:/Users/lupmtu1/github/yarn-plugins/.yarn/unplugged/conventional-changelog-conventionalcommits-npm-5.0.0-a270202fe8/node_modules/conventional-changelog-conventionalcommits/conventional-changelog.js"(exports, module) {
      "use strict";
      var Q = require_q();
      var parserOpts = require_parser_opts();
      var writerOpts = require_writer_opts();
      module.exports = function(config) {
        return Q.all([parserOpts(config), writerOpts(config)]).spread((parserOpts2, writerOpts2) => {
          return {parserOpts: parserOpts2, writerOpts: writerOpts2};
        });
      };
    }
  });

  // pnp:/Users/lupmtu1/github/yarn-plugins/.yarn/unplugged/conventional-changelog-conventionalcommits-npm-5.0.0-a270202fe8/node_modules/conventional-changelog-conventionalcommits/conventional-recommended-bump.js
  var require_conventional_recommended_bump2 = __commonJS({
    "pnp:/Users/lupmtu1/github/yarn-plugins/.yarn/unplugged/conventional-changelog-conventionalcommits-npm-5.0.0-a270202fe8/node_modules/conventional-changelog-conventionalcommits/conventional-recommended-bump.js"(exports, module) {
      "use strict";
      var addBangNotes = require_add_bang_notes();
      var parserOpts = require_parser_opts();
      module.exports = function(config) {
        return {
          parserOpts: parserOpts(config),
          whatBump: (commits) => {
            let level = 2;
            let breakings = 0;
            let features = 0;
            commits.forEach((commit) => {
              addBangNotes(commit);
              if (commit.notes.length > 0) {
                breakings += commit.notes.length;
                level = 0;
              } else if (commit.type === "feat" || commit.type === "feature") {
                features += 1;
                if (level === 2) {
                  level = 1;
                }
              }
            });
            if (config.preMajor && level < 2) {
              level++;
            }
            return {
              level,
              reason: breakings === 1 ? `There is ${breakings} BREAKING CHANGE and ${features} features` : `There are ${breakings} BREAKING CHANGES and ${features} features`
            };
          }
        };
      };
    }
  });

  // pnp:/Users/lupmtu1/github/yarn-plugins/.yarn/unplugged/conventional-changelog-conventionalcommits-npm-5.0.0-a270202fe8/node_modules/conventional-changelog-conventionalcommits/index.js
  var require_conventional_changelog_conventionalcommits = __commonJS({
    "pnp:/Users/lupmtu1/github/yarn-plugins/.yarn/unplugged/conventional-changelog-conventionalcommits-npm-5.0.0-a270202fe8/node_modules/conventional-changelog-conventionalcommits/index.js"(exports, module) {
      "use strict";
      var Q = require_q();
      var _ = require_lodash2();
      var conventionalChangelog2 = require_conventional_changelog();
      var parserOpts = require_parser_opts();
      var recommendedBumpOpts = require_conventional_recommended_bump2();
      var writerOpts = require_writer_opts();
      module.exports = function(parameter) {
        if (_.isFunction(parameter)) {
          const config = {};
          Q.all([
            conventionalChangelog2(config),
            parserOpts(config),
            recommendedBumpOpts(config),
            writerOpts(config)
          ]).spread((conventionalChangelog3, parserOpts2, recommendedBumpOpts2, writerOpts2) => {
            parameter(null, {gitRawCommitsOpts: {noMerges: null}, conventionalChangelog: conventionalChangelog3, parserOpts: parserOpts2, recommendedBumpOpts: recommendedBumpOpts2, writerOpts: writerOpts2});
          });
        } else {
          const config = parameter || {};
          return presetOpts(config);
        }
      };
      function presetOpts(config) {
        return Q.all([
          conventionalChangelog2(config),
          parserOpts(config),
          recommendedBumpOpts(config),
          writerOpts(config)
        ]).spread((conventionalChangelog3, parserOpts2, recommendedBumpOpts2, writerOpts2) => {
          return {conventionalChangelog: conventionalChangelog3, parserOpts: parserOpts2, recommendedBumpOpts: recommendedBumpOpts2, writerOpts: writerOpts2};
        });
      }
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/add-stream-npm-1.0.0-a5a0c0498c-9.zip/node_modules/add-stream/index.js
  var require_add_stream = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/add-stream-npm-1.0.0-a5a0c0498c-9.zip/node_modules/add-stream/index.js"(exports, module) {
      "use strict";
      var PassThrough = __require("stream").PassThrough;
      var Writable = __require("stream").Writable;
      var util = __require("util");
      util.inherits(Appendee, PassThrough);
      util.inherits(Appender, Writable);
      function Appendee(factory, opts) {
        PassThrough.call(this, opts);
        this.factory = factory;
        this.opts = opts;
      }
      Appendee.prototype._flush = function(end) {
        var stream = this.factory();
        stream.pipe(new Appender(this, this.opts)).on("finish", end);
        stream.resume();
      };
      function Appender(target, opts) {
        Writable.call(this, opts);
        this.target = target;
      }
      Appender.prototype._write = function(chunk, enc, cb) {
        this.target.push(chunk);
        cb();
      };
      function addStream(stream, opts) {
        opts = opts || {};
        var factory;
        if (typeof stream === "function") {
          factory = stream;
        } else {
          stream.pause();
          factory = function() {
            return stream;
          };
        }
        return new Appendee(factory, opts);
      }
      addStream.obj = function(stream, opts) {
        opts = opts || {};
        opts.objectMode = true;
        return addStream(stream, opts);
      };
      module.exports = addStream;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/dateformat-npm-3.0.3-ed02e5ddbd-9.zip/node_modules/dateformat/lib/dateformat.js
  var require_dateformat = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/dateformat-npm-3.0.3-ed02e5ddbd-9.zip/node_modules/dateformat/lib/dateformat.js"(exports, module) {
      (function(global2) {
        "use strict";
        var dateFormat = function() {
          var token = /d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|"[^"]*"|'[^']*'/g;
          var timezone = /\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g;
          var timezoneClip = /[^-+\dA-Z]/g;
          return function(date, mask, utc, gmt) {
            if (arguments.length === 1 && kindOf(date) === "string" && !/\d/.test(date)) {
              mask = date;
              date = void 0;
            }
            date = date || new Date();
            if (!(date instanceof Date)) {
              date = new Date(date);
            }
            if (isNaN(date)) {
              throw TypeError("Invalid date");
            }
            mask = String(dateFormat.masks[mask] || mask || dateFormat.masks["default"]);
            var maskSlice = mask.slice(0, 4);
            if (maskSlice === "UTC:" || maskSlice === "GMT:") {
              mask = mask.slice(4);
              utc = true;
              if (maskSlice === "GMT:") {
                gmt = true;
              }
            }
            var _ = utc ? "getUTC" : "get";
            var d = date[_ + "Date"]();
            var D = date[_ + "Day"]();
            var m = date[_ + "Month"]();
            var y = date[_ + "FullYear"]();
            var H = date[_ + "Hours"]();
            var M = date[_ + "Minutes"]();
            var s = date[_ + "Seconds"]();
            var L = date[_ + "Milliseconds"]();
            var o = utc ? 0 : date.getTimezoneOffset();
            var W = getWeek(date);
            var N = getDayOfWeek(date);
            var flags = {
              d,
              dd: pad(d),
              ddd: dateFormat.i18n.dayNames[D],
              dddd: dateFormat.i18n.dayNames[D + 7],
              m: m + 1,
              mm: pad(m + 1),
              mmm: dateFormat.i18n.monthNames[m],
              mmmm: dateFormat.i18n.monthNames[m + 12],
              yy: String(y).slice(2),
              yyyy: y,
              h: H % 12 || 12,
              hh: pad(H % 12 || 12),
              H,
              HH: pad(H),
              M,
              MM: pad(M),
              s,
              ss: pad(s),
              l: pad(L, 3),
              L: pad(Math.round(L / 10)),
              t: H < 12 ? dateFormat.i18n.timeNames[0] : dateFormat.i18n.timeNames[1],
              tt: H < 12 ? dateFormat.i18n.timeNames[2] : dateFormat.i18n.timeNames[3],
              T: H < 12 ? dateFormat.i18n.timeNames[4] : dateFormat.i18n.timeNames[5],
              TT: H < 12 ? dateFormat.i18n.timeNames[6] : dateFormat.i18n.timeNames[7],
              Z: gmt ? "GMT" : utc ? "UTC" : (String(date).match(timezone) || [""]).pop().replace(timezoneClip, ""),
              o: (o > 0 ? "-" : "+") + pad(Math.floor(Math.abs(o) / 60) * 100 + Math.abs(o) % 60, 4),
              S: ["th", "st", "nd", "rd"][d % 10 > 3 ? 0 : (d % 100 - d % 10 != 10) * d % 10],
              W,
              N
            };
            return mask.replace(token, function(match) {
              if (match in flags) {
                return flags[match];
              }
              return match.slice(1, match.length - 1);
            });
          };
        }();
        dateFormat.masks = {
          "default": "ddd mmm dd yyyy HH:MM:ss",
          "shortDate": "m/d/yy",
          "mediumDate": "mmm d, yyyy",
          "longDate": "mmmm d, yyyy",
          "fullDate": "dddd, mmmm d, yyyy",
          "shortTime": "h:MM TT",
          "mediumTime": "h:MM:ss TT",
          "longTime": "h:MM:ss TT Z",
          "isoDate": "yyyy-mm-dd",
          "isoTime": "HH:MM:ss",
          "isoDateTime": "yyyy-mm-dd'T'HH:MM:sso",
          "isoUtcDateTime": "UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",
          "expiresHeaderFormat": "ddd, dd mmm yyyy HH:MM:ss Z"
        };
        dateFormat.i18n = {
          dayNames: [
            "Sun",
            "Mon",
            "Tue",
            "Wed",
            "Thu",
            "Fri",
            "Sat",
            "Sunday",
            "Monday",
            "Tuesday",
            "Wednesday",
            "Thursday",
            "Friday",
            "Saturday"
          ],
          monthNames: [
            "Jan",
            "Feb",
            "Mar",
            "Apr",
            "May",
            "Jun",
            "Jul",
            "Aug",
            "Sep",
            "Oct",
            "Nov",
            "Dec",
            "January",
            "February",
            "March",
            "April",
            "May",
            "June",
            "July",
            "August",
            "September",
            "October",
            "November",
            "December"
          ],
          timeNames: [
            "a",
            "p",
            "am",
            "pm",
            "A",
            "P",
            "AM",
            "PM"
          ]
        };
        function pad(val, len) {
          val = String(val);
          len = len || 2;
          while (val.length < len) {
            val = "0" + val;
          }
          return val;
        }
        function getWeek(date) {
          var targetThursday = new Date(date.getFullYear(), date.getMonth(), date.getDate());
          targetThursday.setDate(targetThursday.getDate() - (targetThursday.getDay() + 6) % 7 + 3);
          var firstThursday = new Date(targetThursday.getFullYear(), 0, 4);
          firstThursday.setDate(firstThursday.getDate() - (firstThursday.getDay() + 6) % 7 + 3);
          var ds = targetThursday.getTimezoneOffset() - firstThursday.getTimezoneOffset();
          targetThursday.setHours(targetThursday.getHours() - ds);
          var weekDiff = (targetThursday - firstThursday) / (864e5 * 7);
          return 1 + Math.floor(weekDiff);
        }
        function getDayOfWeek(date) {
          var dow = date.getDay();
          if (dow === 0) {
            dow = 7;
          }
          return dow;
        }
        function kindOf(val) {
          if (val === null) {
            return "null";
          }
          if (val === void 0) {
            return "undefined";
          }
          if (typeof val !== "object") {
            return typeof val;
          }
          if (Array.isArray(val)) {
            return "array";
          }
          return {}.toString.call(val).slice(8, -1).toLowerCase();
        }
        ;
        if (typeof define === "function" && define.amd) {
          define(function() {
            return dateFormat;
          });
        } else if (typeof exports === "object") {
          module.exports = dateFormat;
        } else {
          global2.dateFormat = dateFormat;
        }
      })(exports);
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/handlebars-npm-4.7.7-a9ccfabf80-9.zip/node_modules/handlebars/dist/cjs/handlebars/utils.js
  var require_utils = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/handlebars-npm-4.7.7-a9ccfabf80-9.zip/node_modules/handlebars/dist/cjs/handlebars/utils.js"(exports) {
      "use strict";
      exports.__esModule = true;
      exports.extend = extend;
      exports.indexOf = indexOf;
      exports.escapeExpression = escapeExpression;
      exports.isEmpty = isEmpty;
      exports.createFrame = createFrame;
      exports.blockParams = blockParams;
      exports.appendContextPath = appendContextPath;
      var escape = {
        "&": "&amp;",
        "<": "&lt;",
        ">": "&gt;",
        '"': "&quot;",
        "'": "&#x27;",
        "`": "&#x60;",
        "=": "&#x3D;"
      };
      var badChars = /[&<>"'`=]/g;
      var possible = /[&<>"'`=]/;
      function escapeChar(chr) {
        return escape[chr];
      }
      function extend(obj) {
        for (var i = 1; i < arguments.length; i++) {
          for (var key in arguments[i]) {
            if (Object.prototype.hasOwnProperty.call(arguments[i], key)) {
              obj[key] = arguments[i][key];
            }
          }
        }
        return obj;
      }
      var toString = Object.prototype.toString;
      exports.toString = toString;
      var isFunction = function isFunction2(value) {
        return typeof value === "function";
      };
      if (isFunction(/x/)) {
        exports.isFunction = isFunction = function(value) {
          return typeof value === "function" && toString.call(value) === "[object Function]";
        };
      }
      exports.isFunction = isFunction;
      var isArray = Array.isArray || function(value) {
        return value && typeof value === "object" ? toString.call(value) === "[object Array]" : false;
      };
      exports.isArray = isArray;
      function indexOf(array, value) {
        for (var i = 0, len = array.length; i < len; i++) {
          if (array[i] === value) {
            return i;
          }
        }
        return -1;
      }
      function escapeExpression(string) {
        if (typeof string !== "string") {
          if (string && string.toHTML) {
            return string.toHTML();
          } else if (string == null) {
            return "";
          } else if (!string) {
            return string + "";
          }
          string = "" + string;
        }
        if (!possible.test(string)) {
          return string;
        }
        return string.replace(badChars, escapeChar);
      }
      function isEmpty(value) {
        if (!value && value !== 0) {
          return true;
        } else if (isArray(value) && value.length === 0) {
          return true;
        } else {
          return false;
        }
      }
      function createFrame(object) {
        var frame = extend({}, object);
        frame._parent = object;
        return frame;
      }
      function blockParams(params, ids) {
        params.path = ids;
        return params;
      }
      function appendContextPath(contextPath, id) {
        return (contextPath ? contextPath + "." : "") + id;
      }
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/handlebars-npm-4.7.7-a9ccfabf80-9.zip/node_modules/handlebars/dist/cjs/handlebars/exception.js
  var require_exception = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/handlebars-npm-4.7.7-a9ccfabf80-9.zip/node_modules/handlebars/dist/cjs/handlebars/exception.js"(exports, module) {
      "use strict";
      exports.__esModule = true;
      var errorProps = ["description", "fileName", "lineNumber", "endLineNumber", "message", "name", "number", "stack"];
      function Exception(message, node) {
        var loc = node && node.loc, line = void 0, endLineNumber = void 0, column = void 0, endColumn = void 0;
        if (loc) {
          line = loc.start.line;
          endLineNumber = loc.end.line;
          column = loc.start.column;
          endColumn = loc.end.column;
          message += " - " + line + ":" + column;
        }
        var tmp = Error.prototype.constructor.call(this, message);
        for (var idx = 0; idx < errorProps.length; idx++) {
          this[errorProps[idx]] = tmp[errorProps[idx]];
        }
        if (Error.captureStackTrace) {
          Error.captureStackTrace(this, Exception);
        }
        try {
          if (loc) {
            this.lineNumber = line;
            this.endLineNumber = endLineNumber;
            if (Object.defineProperty) {
              Object.defineProperty(this, "column", {
                value: column,
                enumerable: true
              });
              Object.defineProperty(this, "endColumn", {
                value: endColumn,
                enumerable: true
              });
            } else {
              this.column = column;
              this.endColumn = endColumn;
            }
          }
        } catch (nop) {
        }
      }
      Exception.prototype = new Error();
      exports["default"] = Exception;
      module.exports = exports["default"];
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/handlebars-npm-4.7.7-a9ccfabf80-9.zip/node_modules/handlebars/dist/cjs/handlebars/helpers/block-helper-missing.js
  var require_block_helper_missing = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/handlebars-npm-4.7.7-a9ccfabf80-9.zip/node_modules/handlebars/dist/cjs/handlebars/helpers/block-helper-missing.js"(exports, module) {
      "use strict";
      exports.__esModule = true;
      var _utils = require_utils();
      exports["default"] = function(instance) {
        instance.registerHelper("blockHelperMissing", function(context, options) {
          var inverse = options.inverse, fn = options.fn;
          if (context === true) {
            return fn(this);
          } else if (context === false || context == null) {
            return inverse(this);
          } else if (_utils.isArray(context)) {
            if (context.length > 0) {
              if (options.ids) {
                options.ids = [options.name];
              }
              return instance.helpers.each(context, options);
            } else {
              return inverse(this);
            }
          } else {
            if (options.data && options.ids) {
              var data = _utils.createFrame(options.data);
              data.contextPath = _utils.appendContextPath(options.data.contextPath, options.name);
              options = {data};
            }
            return fn(context, options);
          }
        });
      };
      module.exports = exports["default"];
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/handlebars-npm-4.7.7-a9ccfabf80-9.zip/node_modules/handlebars/dist/cjs/handlebars/helpers/each.js
  var require_each = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/handlebars-npm-4.7.7-a9ccfabf80-9.zip/node_modules/handlebars/dist/cjs/handlebars/helpers/each.js"(exports, module) {
      "use strict";
      exports.__esModule = true;
      function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {"default": obj};
      }
      var _utils = require_utils();
      var _exception = require_exception();
      var _exception2 = _interopRequireDefault(_exception);
      exports["default"] = function(instance) {
        instance.registerHelper("each", function(context, options) {
          if (!options) {
            throw new _exception2["default"]("Must pass iterator to #each");
          }
          var fn = options.fn, inverse = options.inverse, i = 0, ret = "", data = void 0, contextPath = void 0;
          if (options.data && options.ids) {
            contextPath = _utils.appendContextPath(options.data.contextPath, options.ids[0]) + ".";
          }
          if (_utils.isFunction(context)) {
            context = context.call(this);
          }
          if (options.data) {
            data = _utils.createFrame(options.data);
          }
          function execIteration(field, index, last) {
            if (data) {
              data.key = field;
              data.index = index;
              data.first = index === 0;
              data.last = !!last;
              if (contextPath) {
                data.contextPath = contextPath + field;
              }
            }
            ret = ret + fn(context[field], {
              data,
              blockParams: _utils.blockParams([context[field], field], [contextPath + field, null])
            });
          }
          if (context && typeof context === "object") {
            if (_utils.isArray(context)) {
              for (var j = context.length; i < j; i++) {
                if (i in context) {
                  execIteration(i, i, i === context.length - 1);
                }
              }
            } else if (global.Symbol && context[global.Symbol.iterator]) {
              var newContext = [];
              var iterator = context[global.Symbol.iterator]();
              for (var it = iterator.next(); !it.done; it = iterator.next()) {
                newContext.push(it.value);
              }
              context = newContext;
              for (var j = context.length; i < j; i++) {
                execIteration(i, i, i === context.length - 1);
              }
            } else {
              (function() {
                var priorKey = void 0;
                Object.keys(context).forEach(function(key) {
                  if (priorKey !== void 0) {
                    execIteration(priorKey, i - 1);
                  }
                  priorKey = key;
                  i++;
                });
                if (priorKey !== void 0) {
                  execIteration(priorKey, i - 1, true);
                }
              })();
            }
          }
          if (i === 0) {
            ret = inverse(this);
          }
          return ret;
        });
      };
      module.exports = exports["default"];
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/handlebars-npm-4.7.7-a9ccfabf80-9.zip/node_modules/handlebars/dist/cjs/handlebars/helpers/helper-missing.js
  var require_helper_missing = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/handlebars-npm-4.7.7-a9ccfabf80-9.zip/node_modules/handlebars/dist/cjs/handlebars/helpers/helper-missing.js"(exports, module) {
      "use strict";
      exports.__esModule = true;
      function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {"default": obj};
      }
      var _exception = require_exception();
      var _exception2 = _interopRequireDefault(_exception);
      exports["default"] = function(instance) {
        instance.registerHelper("helperMissing", function() {
          if (arguments.length === 1) {
            return void 0;
          } else {
            throw new _exception2["default"]('Missing helper: "' + arguments[arguments.length - 1].name + '"');
          }
        });
      };
      module.exports = exports["default"];
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/handlebars-npm-4.7.7-a9ccfabf80-9.zip/node_modules/handlebars/dist/cjs/handlebars/helpers/if.js
  var require_if = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/handlebars-npm-4.7.7-a9ccfabf80-9.zip/node_modules/handlebars/dist/cjs/handlebars/helpers/if.js"(exports, module) {
      "use strict";
      exports.__esModule = true;
      function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {"default": obj};
      }
      var _utils = require_utils();
      var _exception = require_exception();
      var _exception2 = _interopRequireDefault(_exception);
      exports["default"] = function(instance) {
        instance.registerHelper("if", function(conditional, options) {
          if (arguments.length != 2) {
            throw new _exception2["default"]("#if requires exactly one argument");
          }
          if (_utils.isFunction(conditional)) {
            conditional = conditional.call(this);
          }
          if (!options.hash.includeZero && !conditional || _utils.isEmpty(conditional)) {
            return options.inverse(this);
          } else {
            return options.fn(this);
          }
        });
        instance.registerHelper("unless", function(conditional, options) {
          if (arguments.length != 2) {
            throw new _exception2["default"]("#unless requires exactly one argument");
          }
          return instance.helpers["if"].call(this, conditional, {
            fn: options.inverse,
            inverse: options.fn,
            hash: options.hash
          });
        });
      };
      module.exports = exports["default"];
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/handlebars-npm-4.7.7-a9ccfabf80-9.zip/node_modules/handlebars/dist/cjs/handlebars/helpers/log.js
  var require_log = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/handlebars-npm-4.7.7-a9ccfabf80-9.zip/node_modules/handlebars/dist/cjs/handlebars/helpers/log.js"(exports, module) {
      "use strict";
      exports.__esModule = true;
      exports["default"] = function(instance) {
        instance.registerHelper("log", function() {
          var args = [void 0], options = arguments[arguments.length - 1];
          for (var i = 0; i < arguments.length - 1; i++) {
            args.push(arguments[i]);
          }
          var level = 1;
          if (options.hash.level != null) {
            level = options.hash.level;
          } else if (options.data && options.data.level != null) {
            level = options.data.level;
          }
          args[0] = level;
          instance.log.apply(instance, args);
        });
      };
      module.exports = exports["default"];
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/handlebars-npm-4.7.7-a9ccfabf80-9.zip/node_modules/handlebars/dist/cjs/handlebars/helpers/lookup.js
  var require_lookup = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/handlebars-npm-4.7.7-a9ccfabf80-9.zip/node_modules/handlebars/dist/cjs/handlebars/helpers/lookup.js"(exports, module) {
      "use strict";
      exports.__esModule = true;
      exports["default"] = function(instance) {
        instance.registerHelper("lookup", function(obj, field, options) {
          if (!obj) {
            return obj;
          }
          return options.lookupProperty(obj, field);
        });
      };
      module.exports = exports["default"];
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/handlebars-npm-4.7.7-a9ccfabf80-9.zip/node_modules/handlebars/dist/cjs/handlebars/helpers/with.js
  var require_with = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/handlebars-npm-4.7.7-a9ccfabf80-9.zip/node_modules/handlebars/dist/cjs/handlebars/helpers/with.js"(exports, module) {
      "use strict";
      exports.__esModule = true;
      function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {"default": obj};
      }
      var _utils = require_utils();
      var _exception = require_exception();
      var _exception2 = _interopRequireDefault(_exception);
      exports["default"] = function(instance) {
        instance.registerHelper("with", function(context, options) {
          if (arguments.length != 2) {
            throw new _exception2["default"]("#with requires exactly one argument");
          }
          if (_utils.isFunction(context)) {
            context = context.call(this);
          }
          var fn = options.fn;
          if (!_utils.isEmpty(context)) {
            var data = options.data;
            if (options.data && options.ids) {
              data = _utils.createFrame(options.data);
              data.contextPath = _utils.appendContextPath(options.data.contextPath, options.ids[0]);
            }
            return fn(context, {
              data,
              blockParams: _utils.blockParams([context], [data && data.contextPath])
            });
          } else {
            return options.inverse(this);
          }
        });
      };
      module.exports = exports["default"];
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/handlebars-npm-4.7.7-a9ccfabf80-9.zip/node_modules/handlebars/dist/cjs/handlebars/helpers.js
  var require_helpers = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/handlebars-npm-4.7.7-a9ccfabf80-9.zip/node_modules/handlebars/dist/cjs/handlebars/helpers.js"(exports) {
      "use strict";
      exports.__esModule = true;
      exports.registerDefaultHelpers = registerDefaultHelpers;
      exports.moveHelperToHooks = moveHelperToHooks;
      function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {"default": obj};
      }
      var _helpersBlockHelperMissing = require_block_helper_missing();
      var _helpersBlockHelperMissing2 = _interopRequireDefault(_helpersBlockHelperMissing);
      var _helpersEach = require_each();
      var _helpersEach2 = _interopRequireDefault(_helpersEach);
      var _helpersHelperMissing = require_helper_missing();
      var _helpersHelperMissing2 = _interopRequireDefault(_helpersHelperMissing);
      var _helpersIf = require_if();
      var _helpersIf2 = _interopRequireDefault(_helpersIf);
      var _helpersLog = require_log();
      var _helpersLog2 = _interopRequireDefault(_helpersLog);
      var _helpersLookup = require_lookup();
      var _helpersLookup2 = _interopRequireDefault(_helpersLookup);
      var _helpersWith = require_with();
      var _helpersWith2 = _interopRequireDefault(_helpersWith);
      function registerDefaultHelpers(instance) {
        _helpersBlockHelperMissing2["default"](instance);
        _helpersEach2["default"](instance);
        _helpersHelperMissing2["default"](instance);
        _helpersIf2["default"](instance);
        _helpersLog2["default"](instance);
        _helpersLookup2["default"](instance);
        _helpersWith2["default"](instance);
      }
      function moveHelperToHooks(instance, helperName, keepHelper) {
        if (instance.helpers[helperName]) {
          instance.hooks[helperName] = instance.helpers[helperName];
          if (!keepHelper) {
            delete instance.helpers[helperName];
          }
        }
      }
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/handlebars-npm-4.7.7-a9ccfabf80-9.zip/node_modules/handlebars/dist/cjs/handlebars/decorators/inline.js
  var require_inline = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/handlebars-npm-4.7.7-a9ccfabf80-9.zip/node_modules/handlebars/dist/cjs/handlebars/decorators/inline.js"(exports, module) {
      "use strict";
      exports.__esModule = true;
      var _utils = require_utils();
      exports["default"] = function(instance) {
        instance.registerDecorator("inline", function(fn, props, container, options) {
          var ret = fn;
          if (!props.partials) {
            props.partials = {};
            ret = function(context, options2) {
              var original = container.partials;
              container.partials = _utils.extend({}, original, props.partials);
              var ret2 = fn(context, options2);
              container.partials = original;
              return ret2;
            };
          }
          props.partials[options.args[0]] = options.fn;
          return ret;
        });
      };
      module.exports = exports["default"];
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/handlebars-npm-4.7.7-a9ccfabf80-9.zip/node_modules/handlebars/dist/cjs/handlebars/decorators.js
  var require_decorators = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/handlebars-npm-4.7.7-a9ccfabf80-9.zip/node_modules/handlebars/dist/cjs/handlebars/decorators.js"(exports) {
      "use strict";
      exports.__esModule = true;
      exports.registerDefaultDecorators = registerDefaultDecorators;
      function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {"default": obj};
      }
      var _decoratorsInline = require_inline();
      var _decoratorsInline2 = _interopRequireDefault(_decoratorsInline);
      function registerDefaultDecorators(instance) {
        _decoratorsInline2["default"](instance);
      }
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/handlebars-npm-4.7.7-a9ccfabf80-9.zip/node_modules/handlebars/dist/cjs/handlebars/logger.js
  var require_logger = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/handlebars-npm-4.7.7-a9ccfabf80-9.zip/node_modules/handlebars/dist/cjs/handlebars/logger.js"(exports, module) {
      "use strict";
      exports.__esModule = true;
      var _utils = require_utils();
      var logger = {
        methodMap: ["debug", "info", "warn", "error"],
        level: "info",
        lookupLevel: function lookupLevel(level) {
          if (typeof level === "string") {
            var levelMap = _utils.indexOf(logger.methodMap, level.toLowerCase());
            if (levelMap >= 0) {
              level = levelMap;
            } else {
              level = parseInt(level, 10);
            }
          }
          return level;
        },
        log: function log(level) {
          level = logger.lookupLevel(level);
          if (typeof console !== "undefined" && logger.lookupLevel(logger.level) <= level) {
            var method = logger.methodMap[level];
            if (!console[method]) {
              method = "log";
            }
            for (var _len = arguments.length, message = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
              message[_key - 1] = arguments[_key];
            }
            console[method].apply(console, message);
          }
        }
      };
      exports["default"] = logger;
      module.exports = exports["default"];
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/handlebars-npm-4.7.7-a9ccfabf80-9.zip/node_modules/handlebars/dist/cjs/handlebars/internal/create-new-lookup-object.js
  var require_create_new_lookup_object = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/handlebars-npm-4.7.7-a9ccfabf80-9.zip/node_modules/handlebars/dist/cjs/handlebars/internal/create-new-lookup-object.js"(exports) {
      "use strict";
      exports.__esModule = true;
      exports.createNewLookupObject = createNewLookupObject;
      var _utils = require_utils();
      function createNewLookupObject() {
        for (var _len = arguments.length, sources = Array(_len), _key = 0; _key < _len; _key++) {
          sources[_key] = arguments[_key];
        }
        return _utils.extend.apply(void 0, [Object.create(null)].concat(sources));
      }
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/handlebars-npm-4.7.7-a9ccfabf80-9.zip/node_modules/handlebars/dist/cjs/handlebars/internal/proto-access.js
  var require_proto_access = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/handlebars-npm-4.7.7-a9ccfabf80-9.zip/node_modules/handlebars/dist/cjs/handlebars/internal/proto-access.js"(exports) {
      "use strict";
      exports.__esModule = true;
      exports.createProtoAccessControl = createProtoAccessControl;
      exports.resultIsAllowed = resultIsAllowed;
      exports.resetLoggedProperties = resetLoggedProperties;
      function _interopRequireWildcard(obj) {
        if (obj && obj.__esModule) {
          return obj;
        } else {
          var newObj = {};
          if (obj != null) {
            for (var key in obj) {
              if (Object.prototype.hasOwnProperty.call(obj, key))
                newObj[key] = obj[key];
            }
          }
          newObj["default"] = obj;
          return newObj;
        }
      }
      var _createNewLookupObject = require_create_new_lookup_object();
      var _logger = require_logger();
      var logger = _interopRequireWildcard(_logger);
      var loggedProperties = Object.create(null);
      function createProtoAccessControl(runtimeOptions) {
        var defaultMethodWhiteList = Object.create(null);
        defaultMethodWhiteList["constructor"] = false;
        defaultMethodWhiteList["__defineGetter__"] = false;
        defaultMethodWhiteList["__defineSetter__"] = false;
        defaultMethodWhiteList["__lookupGetter__"] = false;
        var defaultPropertyWhiteList = Object.create(null);
        defaultPropertyWhiteList["__proto__"] = false;
        return {
          properties: {
            whitelist: _createNewLookupObject.createNewLookupObject(defaultPropertyWhiteList, runtimeOptions.allowedProtoProperties),
            defaultValue: runtimeOptions.allowProtoPropertiesByDefault
          },
          methods: {
            whitelist: _createNewLookupObject.createNewLookupObject(defaultMethodWhiteList, runtimeOptions.allowedProtoMethods),
            defaultValue: runtimeOptions.allowProtoMethodsByDefault
          }
        };
      }
      function resultIsAllowed(result, protoAccessControl, propertyName) {
        if (typeof result === "function") {
          return checkWhiteList(protoAccessControl.methods, propertyName);
        } else {
          return checkWhiteList(protoAccessControl.properties, propertyName);
        }
      }
      function checkWhiteList(protoAccessControlForType, propertyName) {
        if (protoAccessControlForType.whitelist[propertyName] !== void 0) {
          return protoAccessControlForType.whitelist[propertyName] === true;
        }
        if (protoAccessControlForType.defaultValue !== void 0) {
          return protoAccessControlForType.defaultValue;
        }
        logUnexpecedPropertyAccessOnce(propertyName);
        return false;
      }
      function logUnexpecedPropertyAccessOnce(propertyName) {
        if (loggedProperties[propertyName] !== true) {
          loggedProperties[propertyName] = true;
          logger.log("error", 'Handlebars: Access has been denied to resolve the property "' + propertyName + '" because it is not an "own property" of its parent.\nYou can add a runtime option to disable the check or this warning:\nSee https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details');
        }
      }
      function resetLoggedProperties() {
        Object.keys(loggedProperties).forEach(function(propertyName) {
          delete loggedProperties[propertyName];
        });
      }
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/handlebars-npm-4.7.7-a9ccfabf80-9.zip/node_modules/handlebars/dist/cjs/handlebars/base.js
  var require_base = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/handlebars-npm-4.7.7-a9ccfabf80-9.zip/node_modules/handlebars/dist/cjs/handlebars/base.js"(exports) {
      "use strict";
      exports.__esModule = true;
      exports.HandlebarsEnvironment = HandlebarsEnvironment;
      function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {"default": obj};
      }
      var _utils = require_utils();
      var _exception = require_exception();
      var _exception2 = _interopRequireDefault(_exception);
      var _helpers = require_helpers();
      var _decorators = require_decorators();
      var _logger = require_logger();
      var _logger2 = _interopRequireDefault(_logger);
      var _internalProtoAccess = require_proto_access();
      var VERSION = "4.7.7";
      exports.VERSION = VERSION;
      var COMPILER_REVISION = 8;
      exports.COMPILER_REVISION = COMPILER_REVISION;
      var LAST_COMPATIBLE_COMPILER_REVISION = 7;
      exports.LAST_COMPATIBLE_COMPILER_REVISION = LAST_COMPATIBLE_COMPILER_REVISION;
      var REVISION_CHANGES = {
        1: "<= 1.0.rc.2",
        2: "== 1.0.0-rc.3",
        3: "== 1.0.0-rc.4",
        4: "== 1.x.x",
        5: "== 2.0.0-alpha.x",
        6: ">= 2.0.0-beta.1",
        7: ">= 4.0.0 <4.3.0",
        8: ">= 4.3.0"
      };
      exports.REVISION_CHANGES = REVISION_CHANGES;
      var objectType = "[object Object]";
      function HandlebarsEnvironment(helpers, partials, decorators) {
        this.helpers = helpers || {};
        this.partials = partials || {};
        this.decorators = decorators || {};
        _helpers.registerDefaultHelpers(this);
        _decorators.registerDefaultDecorators(this);
      }
      HandlebarsEnvironment.prototype = {
        constructor: HandlebarsEnvironment,
        logger: _logger2["default"],
        log: _logger2["default"].log,
        registerHelper: function registerHelper(name, fn) {
          if (_utils.toString.call(name) === objectType) {
            if (fn) {
              throw new _exception2["default"]("Arg not supported with multiple helpers");
            }
            _utils.extend(this.helpers, name);
          } else {
            this.helpers[name] = fn;
          }
        },
        unregisterHelper: function unregisterHelper(name) {
          delete this.helpers[name];
        },
        registerPartial: function registerPartial(name, partial) {
          if (_utils.toString.call(name) === objectType) {
            _utils.extend(this.partials, name);
          } else {
            if (typeof partial === "undefined") {
              throw new _exception2["default"]('Attempting to register a partial called "' + name + '" as undefined');
            }
            this.partials[name] = partial;
          }
        },
        unregisterPartial: function unregisterPartial(name) {
          delete this.partials[name];
        },
        registerDecorator: function registerDecorator(name, fn) {
          if (_utils.toString.call(name) === objectType) {
            if (fn) {
              throw new _exception2["default"]("Arg not supported with multiple decorators");
            }
            _utils.extend(this.decorators, name);
          } else {
            this.decorators[name] = fn;
          }
        },
        unregisterDecorator: function unregisterDecorator(name) {
          delete this.decorators[name];
        },
        resetLoggedPropertyAccesses: function resetLoggedPropertyAccesses() {
          _internalProtoAccess.resetLoggedProperties();
        }
      };
      var log = _logger2["default"].log;
      exports.log = log;
      exports.createFrame = _utils.createFrame;
      exports.logger = _logger2["default"];
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/handlebars-npm-4.7.7-a9ccfabf80-9.zip/node_modules/handlebars/dist/cjs/handlebars/safe-string.js
  var require_safe_string = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/handlebars-npm-4.7.7-a9ccfabf80-9.zip/node_modules/handlebars/dist/cjs/handlebars/safe-string.js"(exports, module) {
      "use strict";
      exports.__esModule = true;
      function SafeString(string) {
        this.string = string;
      }
      SafeString.prototype.toString = SafeString.prototype.toHTML = function() {
        return "" + this.string;
      };
      exports["default"] = SafeString;
      module.exports = exports["default"];
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/handlebars-npm-4.7.7-a9ccfabf80-9.zip/node_modules/handlebars/dist/cjs/handlebars/internal/wrapHelper.js
  var require_wrapHelper = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/handlebars-npm-4.7.7-a9ccfabf80-9.zip/node_modules/handlebars/dist/cjs/handlebars/internal/wrapHelper.js"(exports) {
      "use strict";
      exports.__esModule = true;
      exports.wrapHelper = wrapHelper;
      function wrapHelper(helper, transformOptionsFn) {
        if (typeof helper !== "function") {
          return helper;
        }
        var wrapper = function wrapper2() {
          var options = arguments[arguments.length - 1];
          arguments[arguments.length - 1] = transformOptionsFn(options);
          return helper.apply(this, arguments);
        };
        return wrapper;
      }
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/handlebars-npm-4.7.7-a9ccfabf80-9.zip/node_modules/handlebars/dist/cjs/handlebars/runtime.js
  var require_runtime = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/handlebars-npm-4.7.7-a9ccfabf80-9.zip/node_modules/handlebars/dist/cjs/handlebars/runtime.js"(exports) {
      "use strict";
      exports.__esModule = true;
      exports.checkRevision = checkRevision;
      exports.template = template;
      exports.wrapProgram = wrapProgram;
      exports.resolvePartial = resolvePartial;
      exports.invokePartial = invokePartial;
      exports.noop = noop;
      function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {"default": obj};
      }
      function _interopRequireWildcard(obj) {
        if (obj && obj.__esModule) {
          return obj;
        } else {
          var newObj = {};
          if (obj != null) {
            for (var key in obj) {
              if (Object.prototype.hasOwnProperty.call(obj, key))
                newObj[key] = obj[key];
            }
          }
          newObj["default"] = obj;
          return newObj;
        }
      }
      var _utils = require_utils();
      var Utils = _interopRequireWildcard(_utils);
      var _exception = require_exception();
      var _exception2 = _interopRequireDefault(_exception);
      var _base = require_base();
      var _helpers = require_helpers();
      var _internalWrapHelper = require_wrapHelper();
      var _internalProtoAccess = require_proto_access();
      function checkRevision(compilerInfo) {
        var compilerRevision = compilerInfo && compilerInfo[0] || 1, currentRevision = _base.COMPILER_REVISION;
        if (compilerRevision >= _base.LAST_COMPATIBLE_COMPILER_REVISION && compilerRevision <= _base.COMPILER_REVISION) {
          return;
        }
        if (compilerRevision < _base.LAST_COMPATIBLE_COMPILER_REVISION) {
          var runtimeVersions = _base.REVISION_CHANGES[currentRevision], compilerVersions = _base.REVISION_CHANGES[compilerRevision];
          throw new _exception2["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version (" + runtimeVersions + ") or downgrade your runtime to an older version (" + compilerVersions + ").");
        } else {
          throw new _exception2["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version (" + compilerInfo[1] + ").");
        }
      }
      function template(templateSpec, env) {
        if (!env) {
          throw new _exception2["default"]("No environment passed to template");
        }
        if (!templateSpec || !templateSpec.main) {
          throw new _exception2["default"]("Unknown template object: " + typeof templateSpec);
        }
        templateSpec.main.decorator = templateSpec.main_d;
        env.VM.checkRevision(templateSpec.compiler);
        var templateWasPrecompiledWithCompilerV7 = templateSpec.compiler && templateSpec.compiler[0] === 7;
        function invokePartialWrapper(partial, context, options) {
          if (options.hash) {
            context = Utils.extend({}, context, options.hash);
            if (options.ids) {
              options.ids[0] = true;
            }
          }
          partial = env.VM.resolvePartial.call(this, partial, context, options);
          var extendedOptions = Utils.extend({}, options, {
            hooks: this.hooks,
            protoAccessControl: this.protoAccessControl
          });
          var result = env.VM.invokePartial.call(this, partial, context, extendedOptions);
          if (result == null && env.compile) {
            options.partials[options.name] = env.compile(partial, templateSpec.compilerOptions, env);
            result = options.partials[options.name](context, extendedOptions);
          }
          if (result != null) {
            if (options.indent) {
              var lines = result.split("\n");
              for (var i = 0, l = lines.length; i < l; i++) {
                if (!lines[i] && i + 1 === l) {
                  break;
                }
                lines[i] = options.indent + lines[i];
              }
              result = lines.join("\n");
            }
            return result;
          } else {
            throw new _exception2["default"]("The partial " + options.name + " could not be compiled when running in runtime-only mode");
          }
        }
        var container = {
          strict: function strict(obj, name, loc) {
            if (!obj || !(name in obj)) {
              throw new _exception2["default"]('"' + name + '" not defined in ' + obj, {
                loc
              });
            }
            return container.lookupProperty(obj, name);
          },
          lookupProperty: function lookupProperty(parent, propertyName) {
            var result = parent[propertyName];
            if (result == null) {
              return result;
            }
            if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {
              return result;
            }
            if (_internalProtoAccess.resultIsAllowed(result, container.protoAccessControl, propertyName)) {
              return result;
            }
            return void 0;
          },
          lookup: function lookup(depths, name) {
            var len = depths.length;
            for (var i = 0; i < len; i++) {
              var result = depths[i] && container.lookupProperty(depths[i], name);
              if (result != null) {
                return depths[i][name];
              }
            }
          },
          lambda: function lambda(current, context) {
            return typeof current === "function" ? current.call(context) : current;
          },
          escapeExpression: Utils.escapeExpression,
          invokePartial: invokePartialWrapper,
          fn: function fn(i) {
            var ret2 = templateSpec[i];
            ret2.decorator = templateSpec[i + "_d"];
            return ret2;
          },
          programs: [],
          program: function program(i, data, declaredBlockParams, blockParams, depths) {
            var programWrapper = this.programs[i], fn = this.fn(i);
            if (data || depths || blockParams || declaredBlockParams) {
              programWrapper = wrapProgram(this, i, fn, data, declaredBlockParams, blockParams, depths);
            } else if (!programWrapper) {
              programWrapper = this.programs[i] = wrapProgram(this, i, fn);
            }
            return programWrapper;
          },
          data: function data(value, depth) {
            while (value && depth--) {
              value = value._parent;
            }
            return value;
          },
          mergeIfNeeded: function mergeIfNeeded(param, common) {
            var obj = param || common;
            if (param && common && param !== common) {
              obj = Utils.extend({}, common, param);
            }
            return obj;
          },
          nullContext: Object.seal({}),
          noop: env.VM.noop,
          compilerInfo: templateSpec.compiler
        };
        function ret(context) {
          var options = arguments.length <= 1 || arguments[1] === void 0 ? {} : arguments[1];
          var data = options.data;
          ret._setup(options);
          if (!options.partial && templateSpec.useData) {
            data = initData(context, data);
          }
          var depths = void 0, blockParams = templateSpec.useBlockParams ? [] : void 0;
          if (templateSpec.useDepths) {
            if (options.depths) {
              depths = context != options.depths[0] ? [context].concat(options.depths) : options.depths;
            } else {
              depths = [context];
            }
          }
          function main(context2) {
            return "" + templateSpec.main(container, context2, container.helpers, container.partials, data, blockParams, depths);
          }
          main = executeDecorators(templateSpec.main, main, container, options.depths || [], data, blockParams);
          return main(context, options);
        }
        ret.isTop = true;
        ret._setup = function(options) {
          if (!options.partial) {
            var mergedHelpers = Utils.extend({}, env.helpers, options.helpers);
            wrapHelpersToPassLookupProperty(mergedHelpers, container);
            container.helpers = mergedHelpers;
            if (templateSpec.usePartial) {
              container.partials = container.mergeIfNeeded(options.partials, env.partials);
            }
            if (templateSpec.usePartial || templateSpec.useDecorators) {
              container.decorators = Utils.extend({}, env.decorators, options.decorators);
            }
            container.hooks = {};
            container.protoAccessControl = _internalProtoAccess.createProtoAccessControl(options);
            var keepHelperInHelpers = options.allowCallsToHelperMissing || templateWasPrecompiledWithCompilerV7;
            _helpers.moveHelperToHooks(container, "helperMissing", keepHelperInHelpers);
            _helpers.moveHelperToHooks(container, "blockHelperMissing", keepHelperInHelpers);
          } else {
            container.protoAccessControl = options.protoAccessControl;
            container.helpers = options.helpers;
            container.partials = options.partials;
            container.decorators = options.decorators;
            container.hooks = options.hooks;
          }
        };
        ret._child = function(i, data, blockParams, depths) {
          if (templateSpec.useBlockParams && !blockParams) {
            throw new _exception2["default"]("must pass block params");
          }
          if (templateSpec.useDepths && !depths) {
            throw new _exception2["default"]("must pass parent depths");
          }
          return wrapProgram(container, i, templateSpec[i], data, 0, blockParams, depths);
        };
        return ret;
      }
      function wrapProgram(container, i, fn, data, declaredBlockParams, blockParams, depths) {
        function prog(context) {
          var options = arguments.length <= 1 || arguments[1] === void 0 ? {} : arguments[1];
          var currentDepths = depths;
          if (depths && context != depths[0] && !(context === container.nullContext && depths[0] === null)) {
            currentDepths = [context].concat(depths);
          }
          return fn(container, context, container.helpers, container.partials, options.data || data, blockParams && [options.blockParams].concat(blockParams), currentDepths);
        }
        prog = executeDecorators(fn, prog, container, depths, data, blockParams);
        prog.program = i;
        prog.depth = depths ? depths.length : 0;
        prog.blockParams = declaredBlockParams || 0;
        return prog;
      }
      function resolvePartial(partial, context, options) {
        if (!partial) {
          if (options.name === "@partial-block") {
            partial = options.data["partial-block"];
          } else {
            partial = options.partials[options.name];
          }
        } else if (!partial.call && !options.name) {
          options.name = partial;
          partial = options.partials[partial];
        }
        return partial;
      }
      function invokePartial(partial, context, options) {
        var currentPartialBlock = options.data && options.data["partial-block"];
        options.partial = true;
        if (options.ids) {
          options.data.contextPath = options.ids[0] || options.data.contextPath;
        }
        var partialBlock = void 0;
        if (options.fn && options.fn !== noop) {
          (function() {
            options.data = _base.createFrame(options.data);
            var fn = options.fn;
            partialBlock = options.data["partial-block"] = function partialBlockWrapper(context2) {
              var options2 = arguments.length <= 1 || arguments[1] === void 0 ? {} : arguments[1];
              options2.data = _base.createFrame(options2.data);
              options2.data["partial-block"] = currentPartialBlock;
              return fn(context2, options2);
            };
            if (fn.partials) {
              options.partials = Utils.extend({}, options.partials, fn.partials);
            }
          })();
        }
        if (partial === void 0 && partialBlock) {
          partial = partialBlock;
        }
        if (partial === void 0) {
          throw new _exception2["default"]("The partial " + options.name + " could not be found");
        } else if (partial instanceof Function) {
          return partial(context, options);
        }
      }
      function noop() {
        return "";
      }
      function initData(context, data) {
        if (!data || !("root" in data)) {
          data = data ? _base.createFrame(data) : {};
          data.root = context;
        }
        return data;
      }
      function executeDecorators(fn, prog, container, depths, data, blockParams) {
        if (fn.decorator) {
          var props = {};
          prog = fn.decorator(prog, props, container, depths && depths[0], data, blockParams, depths);
          Utils.extend(prog, props);
        }
        return prog;
      }
      function wrapHelpersToPassLookupProperty(mergedHelpers, container) {
        Object.keys(mergedHelpers).forEach(function(helperName) {
          var helper = mergedHelpers[helperName];
          mergedHelpers[helperName] = passLookupPropertyOption(helper, container);
        });
      }
      function passLookupPropertyOption(helper, container) {
        var lookupProperty = container.lookupProperty;
        return _internalWrapHelper.wrapHelper(helper, function(options) {
          return Utils.extend({lookupProperty}, options);
        });
      }
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/handlebars-npm-4.7.7-a9ccfabf80-9.zip/node_modules/handlebars/dist/cjs/handlebars/no-conflict.js
  var require_no_conflict = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/handlebars-npm-4.7.7-a9ccfabf80-9.zip/node_modules/handlebars/dist/cjs/handlebars/no-conflict.js"(exports, module) {
      "use strict";
      exports.__esModule = true;
      exports["default"] = function(Handlebars) {
        var root = typeof global !== "undefined" ? global : window, $Handlebars = root.Handlebars;
        Handlebars.noConflict = function() {
          if (root.Handlebars === Handlebars) {
            root.Handlebars = $Handlebars;
          }
          return Handlebars;
        };
      };
      module.exports = exports["default"];
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/handlebars-npm-4.7.7-a9ccfabf80-9.zip/node_modules/handlebars/dist/cjs/handlebars.runtime.js
  var require_handlebars_runtime = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/handlebars-npm-4.7.7-a9ccfabf80-9.zip/node_modules/handlebars/dist/cjs/handlebars.runtime.js"(exports, module) {
      "use strict";
      exports.__esModule = true;
      function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {"default": obj};
      }
      function _interopRequireWildcard(obj) {
        if (obj && obj.__esModule) {
          return obj;
        } else {
          var newObj = {};
          if (obj != null) {
            for (var key in obj) {
              if (Object.prototype.hasOwnProperty.call(obj, key))
                newObj[key] = obj[key];
            }
          }
          newObj["default"] = obj;
          return newObj;
        }
      }
      var _handlebarsBase = require_base();
      var base = _interopRequireWildcard(_handlebarsBase);
      var _handlebarsSafeString = require_safe_string();
      var _handlebarsSafeString2 = _interopRequireDefault(_handlebarsSafeString);
      var _handlebarsException = require_exception();
      var _handlebarsException2 = _interopRequireDefault(_handlebarsException);
      var _handlebarsUtils = require_utils();
      var Utils = _interopRequireWildcard(_handlebarsUtils);
      var _handlebarsRuntime = require_runtime();
      var runtime = _interopRequireWildcard(_handlebarsRuntime);
      var _handlebarsNoConflict = require_no_conflict();
      var _handlebarsNoConflict2 = _interopRequireDefault(_handlebarsNoConflict);
      function create() {
        var hb = new base.HandlebarsEnvironment();
        Utils.extend(hb, base);
        hb.SafeString = _handlebarsSafeString2["default"];
        hb.Exception = _handlebarsException2["default"];
        hb.Utils = Utils;
        hb.escapeExpression = Utils.escapeExpression;
        hb.VM = runtime;
        hb.template = function(spec) {
          return runtime.template(spec, hb);
        };
        return hb;
      }
      var inst = create();
      inst.create = create;
      _handlebarsNoConflict2["default"](inst);
      inst["default"] = inst;
      exports["default"] = inst;
      module.exports = exports["default"];
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/handlebars-npm-4.7.7-a9ccfabf80-9.zip/node_modules/handlebars/dist/cjs/handlebars/compiler/ast.js
  var require_ast = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/handlebars-npm-4.7.7-a9ccfabf80-9.zip/node_modules/handlebars/dist/cjs/handlebars/compiler/ast.js"(exports, module) {
      "use strict";
      exports.__esModule = true;
      var AST = {
        helpers: {
          helperExpression: function helperExpression(node) {
            return node.type === "SubExpression" || (node.type === "MustacheStatement" || node.type === "BlockStatement") && !!(node.params && node.params.length || node.hash);
          },
          scopedId: function scopedId(path) {
            return /^\.|this\b/.test(path.original);
          },
          simpleId: function simpleId(path) {
            return path.parts.length === 1 && !AST.helpers.scopedId(path) && !path.depth;
          }
        }
      };
      exports["default"] = AST;
      module.exports = exports["default"];
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/handlebars-npm-4.7.7-a9ccfabf80-9.zip/node_modules/handlebars/dist/cjs/handlebars/compiler/parser.js
  var require_parser2 = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/handlebars-npm-4.7.7-a9ccfabf80-9.zip/node_modules/handlebars/dist/cjs/handlebars/compiler/parser.js"(exports, module) {
      "use strict";
      exports.__esModule = true;
      var handlebars = function() {
        var parser = {
          trace: function trace() {
          },
          yy: {},
          symbols_: {"error": 2, "root": 3, "program": 4, "EOF": 5, "program_repetition0": 6, "statement": 7, "mustache": 8, "block": 9, "rawBlock": 10, "partial": 11, "partialBlock": 12, "content": 13, "COMMENT": 14, "CONTENT": 15, "openRawBlock": 16, "rawBlock_repetition0": 17, "END_RAW_BLOCK": 18, "OPEN_RAW_BLOCK": 19, "helperName": 20, "openRawBlock_repetition0": 21, "openRawBlock_option0": 22, "CLOSE_RAW_BLOCK": 23, "openBlock": 24, "block_option0": 25, "closeBlock": 26, "openInverse": 27, "block_option1": 28, "OPEN_BLOCK": 29, "openBlock_repetition0": 30, "openBlock_option0": 31, "openBlock_option1": 32, "CLOSE": 33, "OPEN_INVERSE": 34, "openInverse_repetition0": 35, "openInverse_option0": 36, "openInverse_option1": 37, "openInverseChain": 38, "OPEN_INVERSE_CHAIN": 39, "openInverseChain_repetition0": 40, "openInverseChain_option0": 41, "openInverseChain_option1": 42, "inverseAndProgram": 43, "INVERSE": 44, "inverseChain": 45, "inverseChain_option0": 46, "OPEN_ENDBLOCK": 47, "OPEN": 48, "mustache_repetition0": 49, "mustache_option0": 50, "OPEN_UNESCAPED": 51, "mustache_repetition1": 52, "mustache_option1": 53, "CLOSE_UNESCAPED": 54, "OPEN_PARTIAL": 55, "partialName": 56, "partial_repetition0": 57, "partial_option0": 58, "openPartialBlock": 59, "OPEN_PARTIAL_BLOCK": 60, "openPartialBlock_repetition0": 61, "openPartialBlock_option0": 62, "param": 63, "sexpr": 64, "OPEN_SEXPR": 65, "sexpr_repetition0": 66, "sexpr_option0": 67, "CLOSE_SEXPR": 68, "hash": 69, "hash_repetition_plus0": 70, "hashSegment": 71, "ID": 72, "EQUALS": 73, "blockParams": 74, "OPEN_BLOCK_PARAMS": 75, "blockParams_repetition_plus0": 76, "CLOSE_BLOCK_PARAMS": 77, "path": 78, "dataName": 79, "STRING": 80, "NUMBER": 81, "BOOLEAN": 82, "UNDEFINED": 83, "NULL": 84, "DATA": 85, "pathSegments": 86, "SEP": 87, "$accept": 0, "$end": 1},
          terminals_: {2: "error", 5: "EOF", 14: "COMMENT", 15: "CONTENT", 18: "END_RAW_BLOCK", 19: "OPEN_RAW_BLOCK", 23: "CLOSE_RAW_BLOCK", 29: "OPEN_BLOCK", 33: "CLOSE", 34: "OPEN_INVERSE", 39: "OPEN_INVERSE_CHAIN", 44: "INVERSE", 47: "OPEN_ENDBLOCK", 48: "OPEN", 51: "OPEN_UNESCAPED", 54: "CLOSE_UNESCAPED", 55: "OPEN_PARTIAL", 60: "OPEN_PARTIAL_BLOCK", 65: "OPEN_SEXPR", 68: "CLOSE_SEXPR", 72: "ID", 73: "EQUALS", 75: "OPEN_BLOCK_PARAMS", 77: "CLOSE_BLOCK_PARAMS", 80: "STRING", 81: "NUMBER", 82: "BOOLEAN", 83: "UNDEFINED", 84: "NULL", 85: "DATA", 87: "SEP"},
          productions_: [0, [3, 2], [4, 1], [7, 1], [7, 1], [7, 1], [7, 1], [7, 1], [7, 1], [7, 1], [13, 1], [10, 3], [16, 5], [9, 4], [9, 4], [24, 6], [27, 6], [38, 6], [43, 2], [45, 3], [45, 1], [26, 3], [8, 5], [8, 5], [11, 5], [12, 3], [59, 5], [63, 1], [63, 1], [64, 5], [69, 1], [71, 3], [74, 3], [20, 1], [20, 1], [20, 1], [20, 1], [20, 1], [20, 1], [20, 1], [56, 1], [56, 1], [79, 2], [78, 1], [86, 3], [86, 1], [6, 0], [6, 2], [17, 0], [17, 2], [21, 0], [21, 2], [22, 0], [22, 1], [25, 0], [25, 1], [28, 0], [28, 1], [30, 0], [30, 2], [31, 0], [31, 1], [32, 0], [32, 1], [35, 0], [35, 2], [36, 0], [36, 1], [37, 0], [37, 1], [40, 0], [40, 2], [41, 0], [41, 1], [42, 0], [42, 1], [46, 0], [46, 1], [49, 0], [49, 2], [50, 0], [50, 1], [52, 0], [52, 2], [53, 0], [53, 1], [57, 0], [57, 2], [58, 0], [58, 1], [61, 0], [61, 2], [62, 0], [62, 1], [66, 0], [66, 2], [67, 0], [67, 1], [70, 1], [70, 2], [76, 1], [76, 2]],
          performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$) {
            var $0 = $$.length - 1;
            switch (yystate) {
              case 1:
                return $$[$0 - 1];
                break;
              case 2:
                this.$ = yy.prepareProgram($$[$0]);
                break;
              case 3:
                this.$ = $$[$0];
                break;
              case 4:
                this.$ = $$[$0];
                break;
              case 5:
                this.$ = $$[$0];
                break;
              case 6:
                this.$ = $$[$0];
                break;
              case 7:
                this.$ = $$[$0];
                break;
              case 8:
                this.$ = $$[$0];
                break;
              case 9:
                this.$ = {
                  type: "CommentStatement",
                  value: yy.stripComment($$[$0]),
                  strip: yy.stripFlags($$[$0], $$[$0]),
                  loc: yy.locInfo(this._$)
                };
                break;
              case 10:
                this.$ = {
                  type: "ContentStatement",
                  original: $$[$0],
                  value: $$[$0],
                  loc: yy.locInfo(this._$)
                };
                break;
              case 11:
                this.$ = yy.prepareRawBlock($$[$0 - 2], $$[$0 - 1], $$[$0], this._$);
                break;
              case 12:
                this.$ = {path: $$[$0 - 3], params: $$[$0 - 2], hash: $$[$0 - 1]};
                break;
              case 13:
                this.$ = yy.prepareBlock($$[$0 - 3], $$[$0 - 2], $$[$0 - 1], $$[$0], false, this._$);
                break;
              case 14:
                this.$ = yy.prepareBlock($$[$0 - 3], $$[$0 - 2], $$[$0 - 1], $$[$0], true, this._$);
                break;
              case 15:
                this.$ = {open: $$[$0 - 5], path: $$[$0 - 4], params: $$[$0 - 3], hash: $$[$0 - 2], blockParams: $$[$0 - 1], strip: yy.stripFlags($$[$0 - 5], $$[$0])};
                break;
              case 16:
                this.$ = {path: $$[$0 - 4], params: $$[$0 - 3], hash: $$[$0 - 2], blockParams: $$[$0 - 1], strip: yy.stripFlags($$[$0 - 5], $$[$0])};
                break;
              case 17:
                this.$ = {path: $$[$0 - 4], params: $$[$0 - 3], hash: $$[$0 - 2], blockParams: $$[$0 - 1], strip: yy.stripFlags($$[$0 - 5], $$[$0])};
                break;
              case 18:
                this.$ = {strip: yy.stripFlags($$[$0 - 1], $$[$0 - 1]), program: $$[$0]};
                break;
              case 19:
                var inverse = yy.prepareBlock($$[$0 - 2], $$[$0 - 1], $$[$0], $$[$0], false, this._$), program = yy.prepareProgram([inverse], $$[$0 - 1].loc);
                program.chained = true;
                this.$ = {strip: $$[$0 - 2].strip, program, chain: true};
                break;
              case 20:
                this.$ = $$[$0];
                break;
              case 21:
                this.$ = {path: $$[$0 - 1], strip: yy.stripFlags($$[$0 - 2], $$[$0])};
                break;
              case 22:
                this.$ = yy.prepareMustache($$[$0 - 3], $$[$0 - 2], $$[$0 - 1], $$[$0 - 4], yy.stripFlags($$[$0 - 4], $$[$0]), this._$);
                break;
              case 23:
                this.$ = yy.prepareMustache($$[$0 - 3], $$[$0 - 2], $$[$0 - 1], $$[$0 - 4], yy.stripFlags($$[$0 - 4], $$[$0]), this._$);
                break;
              case 24:
                this.$ = {
                  type: "PartialStatement",
                  name: $$[$0 - 3],
                  params: $$[$0 - 2],
                  hash: $$[$0 - 1],
                  indent: "",
                  strip: yy.stripFlags($$[$0 - 4], $$[$0]),
                  loc: yy.locInfo(this._$)
                };
                break;
              case 25:
                this.$ = yy.preparePartialBlock($$[$0 - 2], $$[$0 - 1], $$[$0], this._$);
                break;
              case 26:
                this.$ = {path: $$[$0 - 3], params: $$[$0 - 2], hash: $$[$0 - 1], strip: yy.stripFlags($$[$0 - 4], $$[$0])};
                break;
              case 27:
                this.$ = $$[$0];
                break;
              case 28:
                this.$ = $$[$0];
                break;
              case 29:
                this.$ = {
                  type: "SubExpression",
                  path: $$[$0 - 3],
                  params: $$[$0 - 2],
                  hash: $$[$0 - 1],
                  loc: yy.locInfo(this._$)
                };
                break;
              case 30:
                this.$ = {type: "Hash", pairs: $$[$0], loc: yy.locInfo(this._$)};
                break;
              case 31:
                this.$ = {type: "HashPair", key: yy.id($$[$0 - 2]), value: $$[$0], loc: yy.locInfo(this._$)};
                break;
              case 32:
                this.$ = yy.id($$[$0 - 1]);
                break;
              case 33:
                this.$ = $$[$0];
                break;
              case 34:
                this.$ = $$[$0];
                break;
              case 35:
                this.$ = {type: "StringLiteral", value: $$[$0], original: $$[$0], loc: yy.locInfo(this._$)};
                break;
              case 36:
                this.$ = {type: "NumberLiteral", value: Number($$[$0]), original: Number($$[$0]), loc: yy.locInfo(this._$)};
                break;
              case 37:
                this.$ = {type: "BooleanLiteral", value: $$[$0] === "true", original: $$[$0] === "true", loc: yy.locInfo(this._$)};
                break;
              case 38:
                this.$ = {type: "UndefinedLiteral", original: void 0, value: void 0, loc: yy.locInfo(this._$)};
                break;
              case 39:
                this.$ = {type: "NullLiteral", original: null, value: null, loc: yy.locInfo(this._$)};
                break;
              case 40:
                this.$ = $$[$0];
                break;
              case 41:
                this.$ = $$[$0];
                break;
              case 42:
                this.$ = yy.preparePath(true, $$[$0], this._$);
                break;
              case 43:
                this.$ = yy.preparePath(false, $$[$0], this._$);
                break;
              case 44:
                $$[$0 - 2].push({part: yy.id($$[$0]), original: $$[$0], separator: $$[$0 - 1]});
                this.$ = $$[$0 - 2];
                break;
              case 45:
                this.$ = [{part: yy.id($$[$0]), original: $$[$0]}];
                break;
              case 46:
                this.$ = [];
                break;
              case 47:
                $$[$0 - 1].push($$[$0]);
                break;
              case 48:
                this.$ = [];
                break;
              case 49:
                $$[$0 - 1].push($$[$0]);
                break;
              case 50:
                this.$ = [];
                break;
              case 51:
                $$[$0 - 1].push($$[$0]);
                break;
              case 58:
                this.$ = [];
                break;
              case 59:
                $$[$0 - 1].push($$[$0]);
                break;
              case 64:
                this.$ = [];
                break;
              case 65:
                $$[$0 - 1].push($$[$0]);
                break;
              case 70:
                this.$ = [];
                break;
              case 71:
                $$[$0 - 1].push($$[$0]);
                break;
              case 78:
                this.$ = [];
                break;
              case 79:
                $$[$0 - 1].push($$[$0]);
                break;
              case 82:
                this.$ = [];
                break;
              case 83:
                $$[$0 - 1].push($$[$0]);
                break;
              case 86:
                this.$ = [];
                break;
              case 87:
                $$[$0 - 1].push($$[$0]);
                break;
              case 90:
                this.$ = [];
                break;
              case 91:
                $$[$0 - 1].push($$[$0]);
                break;
              case 94:
                this.$ = [];
                break;
              case 95:
                $$[$0 - 1].push($$[$0]);
                break;
              case 98:
                this.$ = [$$[$0]];
                break;
              case 99:
                $$[$0 - 1].push($$[$0]);
                break;
              case 100:
                this.$ = [$$[$0]];
                break;
              case 101:
                $$[$0 - 1].push($$[$0]);
                break;
            }
          },
          table: [{3: 1, 4: 2, 5: [2, 46], 6: 3, 14: [2, 46], 15: [2, 46], 19: [2, 46], 29: [2, 46], 34: [2, 46], 48: [2, 46], 51: [2, 46], 55: [2, 46], 60: [2, 46]}, {1: [3]}, {5: [1, 4]}, {5: [2, 2], 7: 5, 8: 6, 9: 7, 10: 8, 11: 9, 12: 10, 13: 11, 14: [1, 12], 15: [1, 20], 16: 17, 19: [1, 23], 24: 15, 27: 16, 29: [1, 21], 34: [1, 22], 39: [2, 2], 44: [2, 2], 47: [2, 2], 48: [1, 13], 51: [1, 14], 55: [1, 18], 59: 19, 60: [1, 24]}, {1: [2, 1]}, {5: [2, 47], 14: [2, 47], 15: [2, 47], 19: [2, 47], 29: [2, 47], 34: [2, 47], 39: [2, 47], 44: [2, 47], 47: [2, 47], 48: [2, 47], 51: [2, 47], 55: [2, 47], 60: [2, 47]}, {5: [2, 3], 14: [2, 3], 15: [2, 3], 19: [2, 3], 29: [2, 3], 34: [2, 3], 39: [2, 3], 44: [2, 3], 47: [2, 3], 48: [2, 3], 51: [2, 3], 55: [2, 3], 60: [2, 3]}, {5: [2, 4], 14: [2, 4], 15: [2, 4], 19: [2, 4], 29: [2, 4], 34: [2, 4], 39: [2, 4], 44: [2, 4], 47: [2, 4], 48: [2, 4], 51: [2, 4], 55: [2, 4], 60: [2, 4]}, {5: [2, 5], 14: [2, 5], 15: [2, 5], 19: [2, 5], 29: [2, 5], 34: [2, 5], 39: [2, 5], 44: [2, 5], 47: [2, 5], 48: [2, 5], 51: [2, 5], 55: [2, 5], 60: [2, 5]}, {5: [2, 6], 14: [2, 6], 15: [2, 6], 19: [2, 6], 29: [2, 6], 34: [2, 6], 39: [2, 6], 44: [2, 6], 47: [2, 6], 48: [2, 6], 51: [2, 6], 55: [2, 6], 60: [2, 6]}, {5: [2, 7], 14: [2, 7], 15: [2, 7], 19: [2, 7], 29: [2, 7], 34: [2, 7], 39: [2, 7], 44: [2, 7], 47: [2, 7], 48: [2, 7], 51: [2, 7], 55: [2, 7], 60: [2, 7]}, {5: [2, 8], 14: [2, 8], 15: [2, 8], 19: [2, 8], 29: [2, 8], 34: [2, 8], 39: [2, 8], 44: [2, 8], 47: [2, 8], 48: [2, 8], 51: [2, 8], 55: [2, 8], 60: [2, 8]}, {5: [2, 9], 14: [2, 9], 15: [2, 9], 19: [2, 9], 29: [2, 9], 34: [2, 9], 39: [2, 9], 44: [2, 9], 47: [2, 9], 48: [2, 9], 51: [2, 9], 55: [2, 9], 60: [2, 9]}, {20: 25, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33}, {20: 36, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33}, {4: 37, 6: 3, 14: [2, 46], 15: [2, 46], 19: [2, 46], 29: [2, 46], 34: [2, 46], 39: [2, 46], 44: [2, 46], 47: [2, 46], 48: [2, 46], 51: [2, 46], 55: [2, 46], 60: [2, 46]}, {4: 38, 6: 3, 14: [2, 46], 15: [2, 46], 19: [2, 46], 29: [2, 46], 34: [2, 46], 44: [2, 46], 47: [2, 46], 48: [2, 46], 51: [2, 46], 55: [2, 46], 60: [2, 46]}, {15: [2, 48], 17: 39, 18: [2, 48]}, {20: 41, 56: 40, 64: 42, 65: [1, 43], 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33}, {4: 44, 6: 3, 14: [2, 46], 15: [2, 46], 19: [2, 46], 29: [2, 46], 34: [2, 46], 47: [2, 46], 48: [2, 46], 51: [2, 46], 55: [2, 46], 60: [2, 46]}, {5: [2, 10], 14: [2, 10], 15: [2, 10], 18: [2, 10], 19: [2, 10], 29: [2, 10], 34: [2, 10], 39: [2, 10], 44: [2, 10], 47: [2, 10], 48: [2, 10], 51: [2, 10], 55: [2, 10], 60: [2, 10]}, {20: 45, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33}, {20: 46, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33}, {20: 47, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33}, {20: 41, 56: 48, 64: 42, 65: [1, 43], 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33}, {33: [2, 78], 49: 49, 65: [2, 78], 72: [2, 78], 80: [2, 78], 81: [2, 78], 82: [2, 78], 83: [2, 78], 84: [2, 78], 85: [2, 78]}, {23: [2, 33], 33: [2, 33], 54: [2, 33], 65: [2, 33], 68: [2, 33], 72: [2, 33], 75: [2, 33], 80: [2, 33], 81: [2, 33], 82: [2, 33], 83: [2, 33], 84: [2, 33], 85: [2, 33]}, {23: [2, 34], 33: [2, 34], 54: [2, 34], 65: [2, 34], 68: [2, 34], 72: [2, 34], 75: [2, 34], 80: [2, 34], 81: [2, 34], 82: [2, 34], 83: [2, 34], 84: [2, 34], 85: [2, 34]}, {23: [2, 35], 33: [2, 35], 54: [2, 35], 65: [2, 35], 68: [2, 35], 72: [2, 35], 75: [2, 35], 80: [2, 35], 81: [2, 35], 82: [2, 35], 83: [2, 35], 84: [2, 35], 85: [2, 35]}, {23: [2, 36], 33: [2, 36], 54: [2, 36], 65: [2, 36], 68: [2, 36], 72: [2, 36], 75: [2, 36], 80: [2, 36], 81: [2, 36], 82: [2, 36], 83: [2, 36], 84: [2, 36], 85: [2, 36]}, {23: [2, 37], 33: [2, 37], 54: [2, 37], 65: [2, 37], 68: [2, 37], 72: [2, 37], 75: [2, 37], 80: [2, 37], 81: [2, 37], 82: [2, 37], 83: [2, 37], 84: [2, 37], 85: [2, 37]}, {23: [2, 38], 33: [2, 38], 54: [2, 38], 65: [2, 38], 68: [2, 38], 72: [2, 38], 75: [2, 38], 80: [2, 38], 81: [2, 38], 82: [2, 38], 83: [2, 38], 84: [2, 38], 85: [2, 38]}, {23: [2, 39], 33: [2, 39], 54: [2, 39], 65: [2, 39], 68: [2, 39], 72: [2, 39], 75: [2, 39], 80: [2, 39], 81: [2, 39], 82: [2, 39], 83: [2, 39], 84: [2, 39], 85: [2, 39]}, {23: [2, 43], 33: [2, 43], 54: [2, 43], 65: [2, 43], 68: [2, 43], 72: [2, 43], 75: [2, 43], 80: [2, 43], 81: [2, 43], 82: [2, 43], 83: [2, 43], 84: [2, 43], 85: [2, 43], 87: [1, 50]}, {72: [1, 35], 86: 51}, {23: [2, 45], 33: [2, 45], 54: [2, 45], 65: [2, 45], 68: [2, 45], 72: [2, 45], 75: [2, 45], 80: [2, 45], 81: [2, 45], 82: [2, 45], 83: [2, 45], 84: [2, 45], 85: [2, 45], 87: [2, 45]}, {52: 52, 54: [2, 82], 65: [2, 82], 72: [2, 82], 80: [2, 82], 81: [2, 82], 82: [2, 82], 83: [2, 82], 84: [2, 82], 85: [2, 82]}, {25: 53, 38: 55, 39: [1, 57], 43: 56, 44: [1, 58], 45: 54, 47: [2, 54]}, {28: 59, 43: 60, 44: [1, 58], 47: [2, 56]}, {13: 62, 15: [1, 20], 18: [1, 61]}, {33: [2, 86], 57: 63, 65: [2, 86], 72: [2, 86], 80: [2, 86], 81: [2, 86], 82: [2, 86], 83: [2, 86], 84: [2, 86], 85: [2, 86]}, {33: [2, 40], 65: [2, 40], 72: [2, 40], 80: [2, 40], 81: [2, 40], 82: [2, 40], 83: [2, 40], 84: [2, 40], 85: [2, 40]}, {33: [2, 41], 65: [2, 41], 72: [2, 41], 80: [2, 41], 81: [2, 41], 82: [2, 41], 83: [2, 41], 84: [2, 41], 85: [2, 41]}, {20: 64, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33}, {26: 65, 47: [1, 66]}, {30: 67, 33: [2, 58], 65: [2, 58], 72: [2, 58], 75: [2, 58], 80: [2, 58], 81: [2, 58], 82: [2, 58], 83: [2, 58], 84: [2, 58], 85: [2, 58]}, {33: [2, 64], 35: 68, 65: [2, 64], 72: [2, 64], 75: [2, 64], 80: [2, 64], 81: [2, 64], 82: [2, 64], 83: [2, 64], 84: [2, 64], 85: [2, 64]}, {21: 69, 23: [2, 50], 65: [2, 50], 72: [2, 50], 80: [2, 50], 81: [2, 50], 82: [2, 50], 83: [2, 50], 84: [2, 50], 85: [2, 50]}, {33: [2, 90], 61: 70, 65: [2, 90], 72: [2, 90], 80: [2, 90], 81: [2, 90], 82: [2, 90], 83: [2, 90], 84: [2, 90], 85: [2, 90]}, {20: 74, 33: [2, 80], 50: 71, 63: 72, 64: 75, 65: [1, 43], 69: 73, 70: 76, 71: 77, 72: [1, 78], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33}, {72: [1, 79]}, {23: [2, 42], 33: [2, 42], 54: [2, 42], 65: [2, 42], 68: [2, 42], 72: [2, 42], 75: [2, 42], 80: [2, 42], 81: [2, 42], 82: [2, 42], 83: [2, 42], 84: [2, 42], 85: [2, 42], 87: [1, 50]}, {20: 74, 53: 80, 54: [2, 84], 63: 81, 64: 75, 65: [1, 43], 69: 82, 70: 76, 71: 77, 72: [1, 78], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33}, {26: 83, 47: [1, 66]}, {47: [2, 55]}, {4: 84, 6: 3, 14: [2, 46], 15: [2, 46], 19: [2, 46], 29: [2, 46], 34: [2, 46], 39: [2, 46], 44: [2, 46], 47: [2, 46], 48: [2, 46], 51: [2, 46], 55: [2, 46], 60: [2, 46]}, {47: [2, 20]}, {20: 85, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33}, {4: 86, 6: 3, 14: [2, 46], 15: [2, 46], 19: [2, 46], 29: [2, 46], 34: [2, 46], 47: [2, 46], 48: [2, 46], 51: [2, 46], 55: [2, 46], 60: [2, 46]}, {26: 87, 47: [1, 66]}, {47: [2, 57]}, {5: [2, 11], 14: [2, 11], 15: [2, 11], 19: [2, 11], 29: [2, 11], 34: [2, 11], 39: [2, 11], 44: [2, 11], 47: [2, 11], 48: [2, 11], 51: [2, 11], 55: [2, 11], 60: [2, 11]}, {15: [2, 49], 18: [2, 49]}, {20: 74, 33: [2, 88], 58: 88, 63: 89, 64: 75, 65: [1, 43], 69: 90, 70: 76, 71: 77, 72: [1, 78], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33}, {65: [2, 94], 66: 91, 68: [2, 94], 72: [2, 94], 80: [2, 94], 81: [2, 94], 82: [2, 94], 83: [2, 94], 84: [2, 94], 85: [2, 94]}, {5: [2, 25], 14: [2, 25], 15: [2, 25], 19: [2, 25], 29: [2, 25], 34: [2, 25], 39: [2, 25], 44: [2, 25], 47: [2, 25], 48: [2, 25], 51: [2, 25], 55: [2, 25], 60: [2, 25]}, {20: 92, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33}, {20: 74, 31: 93, 33: [2, 60], 63: 94, 64: 75, 65: [1, 43], 69: 95, 70: 76, 71: 77, 72: [1, 78], 75: [2, 60], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33}, {20: 74, 33: [2, 66], 36: 96, 63: 97, 64: 75, 65: [1, 43], 69: 98, 70: 76, 71: 77, 72: [1, 78], 75: [2, 66], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33}, {20: 74, 22: 99, 23: [2, 52], 63: 100, 64: 75, 65: [1, 43], 69: 101, 70: 76, 71: 77, 72: [1, 78], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33}, {20: 74, 33: [2, 92], 62: 102, 63: 103, 64: 75, 65: [1, 43], 69: 104, 70: 76, 71: 77, 72: [1, 78], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33}, {33: [1, 105]}, {33: [2, 79], 65: [2, 79], 72: [2, 79], 80: [2, 79], 81: [2, 79], 82: [2, 79], 83: [2, 79], 84: [2, 79], 85: [2, 79]}, {33: [2, 81]}, {23: [2, 27], 33: [2, 27], 54: [2, 27], 65: [2, 27], 68: [2, 27], 72: [2, 27], 75: [2, 27], 80: [2, 27], 81: [2, 27], 82: [2, 27], 83: [2, 27], 84: [2, 27], 85: [2, 27]}, {23: [2, 28], 33: [2, 28], 54: [2, 28], 65: [2, 28], 68: [2, 28], 72: [2, 28], 75: [2, 28], 80: [2, 28], 81: [2, 28], 82: [2, 28], 83: [2, 28], 84: [2, 28], 85: [2, 28]}, {23: [2, 30], 33: [2, 30], 54: [2, 30], 68: [2, 30], 71: 106, 72: [1, 107], 75: [2, 30]}, {23: [2, 98], 33: [2, 98], 54: [2, 98], 68: [2, 98], 72: [2, 98], 75: [2, 98]}, {23: [2, 45], 33: [2, 45], 54: [2, 45], 65: [2, 45], 68: [2, 45], 72: [2, 45], 73: [1, 108], 75: [2, 45], 80: [2, 45], 81: [2, 45], 82: [2, 45], 83: [2, 45], 84: [2, 45], 85: [2, 45], 87: [2, 45]}, {23: [2, 44], 33: [2, 44], 54: [2, 44], 65: [2, 44], 68: [2, 44], 72: [2, 44], 75: [2, 44], 80: [2, 44], 81: [2, 44], 82: [2, 44], 83: [2, 44], 84: [2, 44], 85: [2, 44], 87: [2, 44]}, {54: [1, 109]}, {54: [2, 83], 65: [2, 83], 72: [2, 83], 80: [2, 83], 81: [2, 83], 82: [2, 83], 83: [2, 83], 84: [2, 83], 85: [2, 83]}, {54: [2, 85]}, {5: [2, 13], 14: [2, 13], 15: [2, 13], 19: [2, 13], 29: [2, 13], 34: [2, 13], 39: [2, 13], 44: [2, 13], 47: [2, 13], 48: [2, 13], 51: [2, 13], 55: [2, 13], 60: [2, 13]}, {38: 55, 39: [1, 57], 43: 56, 44: [1, 58], 45: 111, 46: 110, 47: [2, 76]}, {33: [2, 70], 40: 112, 65: [2, 70], 72: [2, 70], 75: [2, 70], 80: [2, 70], 81: [2, 70], 82: [2, 70], 83: [2, 70], 84: [2, 70], 85: [2, 70]}, {47: [2, 18]}, {5: [2, 14], 14: [2, 14], 15: [2, 14], 19: [2, 14], 29: [2, 14], 34: [2, 14], 39: [2, 14], 44: [2, 14], 47: [2, 14], 48: [2, 14], 51: [2, 14], 55: [2, 14], 60: [2, 14]}, {33: [1, 113]}, {33: [2, 87], 65: [2, 87], 72: [2, 87], 80: [2, 87], 81: [2, 87], 82: [2, 87], 83: [2, 87], 84: [2, 87], 85: [2, 87]}, {33: [2, 89]}, {20: 74, 63: 115, 64: 75, 65: [1, 43], 67: 114, 68: [2, 96], 69: 116, 70: 76, 71: 77, 72: [1, 78], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33}, {33: [1, 117]}, {32: 118, 33: [2, 62], 74: 119, 75: [1, 120]}, {33: [2, 59], 65: [2, 59], 72: [2, 59], 75: [2, 59], 80: [2, 59], 81: [2, 59], 82: [2, 59], 83: [2, 59], 84: [2, 59], 85: [2, 59]}, {33: [2, 61], 75: [2, 61]}, {33: [2, 68], 37: 121, 74: 122, 75: [1, 120]}, {33: [2, 65], 65: [2, 65], 72: [2, 65], 75: [2, 65], 80: [2, 65], 81: [2, 65], 82: [2, 65], 83: [2, 65], 84: [2, 65], 85: [2, 65]}, {33: [2, 67], 75: [2, 67]}, {23: [1, 123]}, {23: [2, 51], 65: [2, 51], 72: [2, 51], 80: [2, 51], 81: [2, 51], 82: [2, 51], 83: [2, 51], 84: [2, 51], 85: [2, 51]}, {23: [2, 53]}, {33: [1, 124]}, {33: [2, 91], 65: [2, 91], 72: [2, 91], 80: [2, 91], 81: [2, 91], 82: [2, 91], 83: [2, 91], 84: [2, 91], 85: [2, 91]}, {33: [2, 93]}, {5: [2, 22], 14: [2, 22], 15: [2, 22], 19: [2, 22], 29: [2, 22], 34: [2, 22], 39: [2, 22], 44: [2, 22], 47: [2, 22], 48: [2, 22], 51: [2, 22], 55: [2, 22], 60: [2, 22]}, {23: [2, 99], 33: [2, 99], 54: [2, 99], 68: [2, 99], 72: [2, 99], 75: [2, 99]}, {73: [1, 108]}, {20: 74, 63: 125, 64: 75, 65: [1, 43], 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33}, {5: [2, 23], 14: [2, 23], 15: [2, 23], 19: [2, 23], 29: [2, 23], 34: [2, 23], 39: [2, 23], 44: [2, 23], 47: [2, 23], 48: [2, 23], 51: [2, 23], 55: [2, 23], 60: [2, 23]}, {47: [2, 19]}, {47: [2, 77]}, {20: 74, 33: [2, 72], 41: 126, 63: 127, 64: 75, 65: [1, 43], 69: 128, 70: 76, 71: 77, 72: [1, 78], 75: [2, 72], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33}, {5: [2, 24], 14: [2, 24], 15: [2, 24], 19: [2, 24], 29: [2, 24], 34: [2, 24], 39: [2, 24], 44: [2, 24], 47: [2, 24], 48: [2, 24], 51: [2, 24], 55: [2, 24], 60: [2, 24]}, {68: [1, 129]}, {65: [2, 95], 68: [2, 95], 72: [2, 95], 80: [2, 95], 81: [2, 95], 82: [2, 95], 83: [2, 95], 84: [2, 95], 85: [2, 95]}, {68: [2, 97]}, {5: [2, 21], 14: [2, 21], 15: [2, 21], 19: [2, 21], 29: [2, 21], 34: [2, 21], 39: [2, 21], 44: [2, 21], 47: [2, 21], 48: [2, 21], 51: [2, 21], 55: [2, 21], 60: [2, 21]}, {33: [1, 130]}, {33: [2, 63]}, {72: [1, 132], 76: 131}, {33: [1, 133]}, {33: [2, 69]}, {15: [2, 12], 18: [2, 12]}, {14: [2, 26], 15: [2, 26], 19: [2, 26], 29: [2, 26], 34: [2, 26], 47: [2, 26], 48: [2, 26], 51: [2, 26], 55: [2, 26], 60: [2, 26]}, {23: [2, 31], 33: [2, 31], 54: [2, 31], 68: [2, 31], 72: [2, 31], 75: [2, 31]}, {33: [2, 74], 42: 134, 74: 135, 75: [1, 120]}, {33: [2, 71], 65: [2, 71], 72: [2, 71], 75: [2, 71], 80: [2, 71], 81: [2, 71], 82: [2, 71], 83: [2, 71], 84: [2, 71], 85: [2, 71]}, {33: [2, 73], 75: [2, 73]}, {23: [2, 29], 33: [2, 29], 54: [2, 29], 65: [2, 29], 68: [2, 29], 72: [2, 29], 75: [2, 29], 80: [2, 29], 81: [2, 29], 82: [2, 29], 83: [2, 29], 84: [2, 29], 85: [2, 29]}, {14: [2, 15], 15: [2, 15], 19: [2, 15], 29: [2, 15], 34: [2, 15], 39: [2, 15], 44: [2, 15], 47: [2, 15], 48: [2, 15], 51: [2, 15], 55: [2, 15], 60: [2, 15]}, {72: [1, 137], 77: [1, 136]}, {72: [2, 100], 77: [2, 100]}, {14: [2, 16], 15: [2, 16], 19: [2, 16], 29: [2, 16], 34: [2, 16], 44: [2, 16], 47: [2, 16], 48: [2, 16], 51: [2, 16], 55: [2, 16], 60: [2, 16]}, {33: [1, 138]}, {33: [2, 75]}, {33: [2, 32]}, {72: [2, 101], 77: [2, 101]}, {14: [2, 17], 15: [2, 17], 19: [2, 17], 29: [2, 17], 34: [2, 17], 39: [2, 17], 44: [2, 17], 47: [2, 17], 48: [2, 17], 51: [2, 17], 55: [2, 17], 60: [2, 17]}],
          defaultActions: {4: [2, 1], 54: [2, 55], 56: [2, 20], 60: [2, 57], 73: [2, 81], 82: [2, 85], 86: [2, 18], 90: [2, 89], 101: [2, 53], 104: [2, 93], 110: [2, 19], 111: [2, 77], 116: [2, 97], 119: [2, 63], 122: [2, 69], 135: [2, 75], 136: [2, 32]},
          parseError: function parseError(str, hash) {
            throw new Error(str);
          },
          parse: function parse(input) {
            var self2 = this, stack = [0], vstack = [null], lstack = [], table = this.table, yytext = "", yylineno = 0, yyleng = 0, recovering = 0, TERROR = 2, EOF = 1;
            this.lexer.setInput(input);
            this.lexer.yy = this.yy;
            this.yy.lexer = this.lexer;
            this.yy.parser = this;
            if (typeof this.lexer.yylloc == "undefined")
              this.lexer.yylloc = {};
            var yyloc = this.lexer.yylloc;
            lstack.push(yyloc);
            var ranges = this.lexer.options && this.lexer.options.ranges;
            if (typeof this.yy.parseError === "function")
              this.parseError = this.yy.parseError;
            function popStack(n) {
              stack.length = stack.length - 2 * n;
              vstack.length = vstack.length - n;
              lstack.length = lstack.length - n;
            }
            function lex() {
              var token;
              token = self2.lexer.lex() || 1;
              if (typeof token !== "number") {
                token = self2.symbols_[token] || token;
              }
              return token;
            }
            var symbol, preErrorSymbol, state, action, a, r, yyval = {}, p, len, newState, expected;
            while (true) {
              state = stack[stack.length - 1];
              if (this.defaultActions[state]) {
                action = this.defaultActions[state];
              } else {
                if (symbol === null || typeof symbol == "undefined") {
                  symbol = lex();
                }
                action = table[state] && table[state][symbol];
              }
              if (typeof action === "undefined" || !action.length || !action[0]) {
                var errStr = "";
                if (!recovering) {
                  expected = [];
                  for (p in table[state])
                    if (this.terminals_[p] && p > 2) {
                      expected.push("'" + this.terminals_[p] + "'");
                    }
                  if (this.lexer.showPosition) {
                    errStr = "Parse error on line " + (yylineno + 1) + ":\n" + this.lexer.showPosition() + "\nExpecting " + expected.join(", ") + ", got '" + (this.terminals_[symbol] || symbol) + "'";
                  } else {
                    errStr = "Parse error on line " + (yylineno + 1) + ": Unexpected " + (symbol == 1 ? "end of input" : "'" + (this.terminals_[symbol] || symbol) + "'");
                  }
                  this.parseError(errStr, {text: this.lexer.match, token: this.terminals_[symbol] || symbol, line: this.lexer.yylineno, loc: yyloc, expected});
                }
              }
              if (action[0] instanceof Array && action.length > 1) {
                throw new Error("Parse Error: multiple actions possible at state: " + state + ", token: " + symbol);
              }
              switch (action[0]) {
                case 1:
                  stack.push(symbol);
                  vstack.push(this.lexer.yytext);
                  lstack.push(this.lexer.yylloc);
                  stack.push(action[1]);
                  symbol = null;
                  if (!preErrorSymbol) {
                    yyleng = this.lexer.yyleng;
                    yytext = this.lexer.yytext;
                    yylineno = this.lexer.yylineno;
                    yyloc = this.lexer.yylloc;
                    if (recovering > 0)
                      recovering--;
                  } else {
                    symbol = preErrorSymbol;
                    preErrorSymbol = null;
                  }
                  break;
                case 2:
                  len = this.productions_[action[1]][1];
                  yyval.$ = vstack[vstack.length - len];
                  yyval._$ = {first_line: lstack[lstack.length - (len || 1)].first_line, last_line: lstack[lstack.length - 1].last_line, first_column: lstack[lstack.length - (len || 1)].first_column, last_column: lstack[lstack.length - 1].last_column};
                  if (ranges) {
                    yyval._$.range = [lstack[lstack.length - (len || 1)].range[0], lstack[lstack.length - 1].range[1]];
                  }
                  r = this.performAction.call(yyval, yytext, yyleng, yylineno, this.yy, action[1], vstack, lstack);
                  if (typeof r !== "undefined") {
                    return r;
                  }
                  if (len) {
                    stack = stack.slice(0, -1 * len * 2);
                    vstack = vstack.slice(0, -1 * len);
                    lstack = lstack.slice(0, -1 * len);
                  }
                  stack.push(this.productions_[action[1]][0]);
                  vstack.push(yyval.$);
                  lstack.push(yyval._$);
                  newState = table[stack[stack.length - 2]][stack[stack.length - 1]];
                  stack.push(newState);
                  break;
                case 3:
                  return true;
              }
            }
            return true;
          }
        };
        var lexer = function() {
          var lexer2 = {
            EOF: 1,
            parseError: function parseError(str, hash) {
              if (this.yy.parser) {
                this.yy.parser.parseError(str, hash);
              } else {
                throw new Error(str);
              }
            },
            setInput: function setInput(input) {
              this._input = input;
              this._more = this._less = this.done = false;
              this.yylineno = this.yyleng = 0;
              this.yytext = this.matched = this.match = "";
              this.conditionStack = ["INITIAL"];
              this.yylloc = {first_line: 1, first_column: 0, last_line: 1, last_column: 0};
              if (this.options.ranges)
                this.yylloc.range = [0, 0];
              this.offset = 0;
              return this;
            },
            input: function input() {
              var ch = this._input[0];
              this.yytext += ch;
              this.yyleng++;
              this.offset++;
              this.match += ch;
              this.matched += ch;
              var lines = ch.match(/(?:\r\n?|\n).*/g);
              if (lines) {
                this.yylineno++;
                this.yylloc.last_line++;
              } else {
                this.yylloc.last_column++;
              }
              if (this.options.ranges)
                this.yylloc.range[1]++;
              this._input = this._input.slice(1);
              return ch;
            },
            unput: function unput(ch) {
              var len = ch.length;
              var lines = ch.split(/(?:\r\n?|\n)/g);
              this._input = ch + this._input;
              this.yytext = this.yytext.substr(0, this.yytext.length - len - 1);
              this.offset -= len;
              var oldLines = this.match.split(/(?:\r\n?|\n)/g);
              this.match = this.match.substr(0, this.match.length - 1);
              this.matched = this.matched.substr(0, this.matched.length - 1);
              if (lines.length - 1)
                this.yylineno -= lines.length - 1;
              var r = this.yylloc.range;
              this.yylloc = {
                first_line: this.yylloc.first_line,
                last_line: this.yylineno + 1,
                first_column: this.yylloc.first_column,
                last_column: lines ? (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length : this.yylloc.first_column - len
              };
              if (this.options.ranges) {
                this.yylloc.range = [r[0], r[0] + this.yyleng - len];
              }
              return this;
            },
            more: function more() {
              this._more = true;
              return this;
            },
            less: function less(n) {
              this.unput(this.match.slice(n));
            },
            pastInput: function pastInput() {
              var past = this.matched.substr(0, this.matched.length - this.match.length);
              return (past.length > 20 ? "..." : "") + past.substr(-20).replace(/\n/g, "");
            },
            upcomingInput: function upcomingInput() {
              var next = this.match;
              if (next.length < 20) {
                next += this._input.substr(0, 20 - next.length);
              }
              return (next.substr(0, 20) + (next.length > 20 ? "..." : "")).replace(/\n/g, "");
            },
            showPosition: function showPosition() {
              var pre = this.pastInput();
              var c = new Array(pre.length + 1).join("-");
              return pre + this.upcomingInput() + "\n" + c + "^";
            },
            next: function next() {
              if (this.done) {
                return this.EOF;
              }
              if (!this._input)
                this.done = true;
              var token, match, tempMatch, index, col, lines;
              if (!this._more) {
                this.yytext = "";
                this.match = "";
              }
              var rules = this._currentRules();
              for (var i = 0; i < rules.length; i++) {
                tempMatch = this._input.match(this.rules[rules[i]]);
                if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {
                  match = tempMatch;
                  index = i;
                  if (!this.options.flex)
                    break;
                }
              }
              if (match) {
                lines = match[0].match(/(?:\r\n?|\n).*/g);
                if (lines)
                  this.yylineno += lines.length;
                this.yylloc = {
                  first_line: this.yylloc.last_line,
                  last_line: this.yylineno + 1,
                  first_column: this.yylloc.last_column,
                  last_column: lines ? lines[lines.length - 1].length - lines[lines.length - 1].match(/\r?\n?/)[0].length : this.yylloc.last_column + match[0].length
                };
                this.yytext += match[0];
                this.match += match[0];
                this.matches = match;
                this.yyleng = this.yytext.length;
                if (this.options.ranges) {
                  this.yylloc.range = [this.offset, this.offset += this.yyleng];
                }
                this._more = false;
                this._input = this._input.slice(match[0].length);
                this.matched += match[0];
                token = this.performAction.call(this, this.yy, this, rules[index], this.conditionStack[this.conditionStack.length - 1]);
                if (this.done && this._input)
                  this.done = false;
                if (token)
                  return token;
                else
                  return;
              }
              if (this._input === "") {
                return this.EOF;
              } else {
                return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\n" + this.showPosition(), {text: "", token: null, line: this.yylineno});
              }
            },
            lex: function lex() {
              var r = this.next();
              if (typeof r !== "undefined") {
                return r;
              } else {
                return this.lex();
              }
            },
            begin: function begin(condition) {
              this.conditionStack.push(condition);
            },
            popState: function popState() {
              return this.conditionStack.pop();
            },
            _currentRules: function _currentRules() {
              return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;
            },
            topState: function topState() {
              return this.conditionStack[this.conditionStack.length - 2];
            },
            pushState: function begin(condition) {
              this.begin(condition);
            }
          };
          lexer2.options = {};
          lexer2.performAction = function anonymous(yy, yy_, $avoiding_name_collisions, YY_START) {
            function strip(start, end) {
              return yy_.yytext = yy_.yytext.substring(start, yy_.yyleng - end + start);
            }
            var YYSTATE = YY_START;
            switch ($avoiding_name_collisions) {
              case 0:
                if (yy_.yytext.slice(-2) === "\\\\") {
                  strip(0, 1);
                  this.begin("mu");
                } else if (yy_.yytext.slice(-1) === "\\") {
                  strip(0, 1);
                  this.begin("emu");
                } else {
                  this.begin("mu");
                }
                if (yy_.yytext)
                  return 15;
                break;
              case 1:
                return 15;
                break;
              case 2:
                this.popState();
                return 15;
                break;
              case 3:
                this.begin("raw");
                return 15;
                break;
              case 4:
                this.popState();
                if (this.conditionStack[this.conditionStack.length - 1] === "raw") {
                  return 15;
                } else {
                  strip(5, 9);
                  return "END_RAW_BLOCK";
                }
                break;
              case 5:
                return 15;
                break;
              case 6:
                this.popState();
                return 14;
                break;
              case 7:
                return 65;
                break;
              case 8:
                return 68;
                break;
              case 9:
                return 19;
                break;
              case 10:
                this.popState();
                this.begin("raw");
                return 23;
                break;
              case 11:
                return 55;
                break;
              case 12:
                return 60;
                break;
              case 13:
                return 29;
                break;
              case 14:
                return 47;
                break;
              case 15:
                this.popState();
                return 44;
                break;
              case 16:
                this.popState();
                return 44;
                break;
              case 17:
                return 34;
                break;
              case 18:
                return 39;
                break;
              case 19:
                return 51;
                break;
              case 20:
                return 48;
                break;
              case 21:
                this.unput(yy_.yytext);
                this.popState();
                this.begin("com");
                break;
              case 22:
                this.popState();
                return 14;
                break;
              case 23:
                return 48;
                break;
              case 24:
                return 73;
                break;
              case 25:
                return 72;
                break;
              case 26:
                return 72;
                break;
              case 27:
                return 87;
                break;
              case 28:
                break;
              case 29:
                this.popState();
                return 54;
                break;
              case 30:
                this.popState();
                return 33;
                break;
              case 31:
                yy_.yytext = strip(1, 2).replace(/\\"/g, '"');
                return 80;
                break;
              case 32:
                yy_.yytext = strip(1, 2).replace(/\\'/g, "'");
                return 80;
                break;
              case 33:
                return 85;
                break;
              case 34:
                return 82;
                break;
              case 35:
                return 82;
                break;
              case 36:
                return 83;
                break;
              case 37:
                return 84;
                break;
              case 38:
                return 81;
                break;
              case 39:
                return 75;
                break;
              case 40:
                return 77;
                break;
              case 41:
                return 72;
                break;
              case 42:
                yy_.yytext = yy_.yytext.replace(/\\([\\\]])/g, "$1");
                return 72;
                break;
              case 43:
                return "INVALID";
                break;
              case 44:
                return 5;
                break;
            }
          };
          lexer2.rules = [/^(?:[^\x00]*?(?=(\{\{)))/, /^(?:[^\x00]+)/, /^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/, /^(?:\{\{\{\{(?=[^\/]))/, /^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/, /^(?:[^\x00]+?(?=(\{\{\{\{)))/, /^(?:[\s\S]*?--(~)?\}\})/, /^(?:\()/, /^(?:\))/, /^(?:\{\{\{\{)/, /^(?:\}\}\}\})/, /^(?:\{\{(~)?>)/, /^(?:\{\{(~)?#>)/, /^(?:\{\{(~)?#\*?)/, /^(?:\{\{(~)?\/)/, /^(?:\{\{(~)?\^\s*(~)?\}\})/, /^(?:\{\{(~)?\s*else\s*(~)?\}\})/, /^(?:\{\{(~)?\^)/, /^(?:\{\{(~)?\s*else\b)/, /^(?:\{\{(~)?\{)/, /^(?:\{\{(~)?&)/, /^(?:\{\{(~)?!--)/, /^(?:\{\{(~)?![\s\S]*?\}\})/, /^(?:\{\{(~)?\*?)/, /^(?:=)/, /^(?:\.\.)/, /^(?:\.(?=([=~}\s\/.)|])))/, /^(?:[\/.])/, /^(?:\s+)/, /^(?:\}(~)?\}\})/, /^(?:(~)?\}\})/, /^(?:"(\\["]|[^"])*")/, /^(?:'(\\[']|[^'])*')/, /^(?:@)/, /^(?:true(?=([~}\s)])))/, /^(?:false(?=([~}\s)])))/, /^(?:undefined(?=([~}\s)])))/, /^(?:null(?=([~}\s)])))/, /^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/, /^(?:as\s+\|)/, /^(?:\|)/, /^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/, /^(?:\[(\\\]|[^\]])*\])/, /^(?:.)/, /^(?:$)/];
          lexer2.conditions = {"mu": {"rules": [7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44], "inclusive": false}, "emu": {"rules": [2], "inclusive": false}, "com": {"rules": [6], "inclusive": false}, "raw": {"rules": [3, 4, 5], "inclusive": false}, "INITIAL": {"rules": [0, 1, 44], "inclusive": true}};
          return lexer2;
        }();
        parser.lexer = lexer;
        function Parser() {
          this.yy = {};
        }
        Parser.prototype = parser;
        parser.Parser = Parser;
        return new Parser();
      }();
      exports["default"] = handlebars;
      module.exports = exports["default"];
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/handlebars-npm-4.7.7-a9ccfabf80-9.zip/node_modules/handlebars/dist/cjs/handlebars/compiler/visitor.js
  var require_visitor = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/handlebars-npm-4.7.7-a9ccfabf80-9.zip/node_modules/handlebars/dist/cjs/handlebars/compiler/visitor.js"(exports, module) {
      "use strict";
      exports.__esModule = true;
      function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {"default": obj};
      }
      var _exception = require_exception();
      var _exception2 = _interopRequireDefault(_exception);
      function Visitor() {
        this.parents = [];
      }
      Visitor.prototype = {
        constructor: Visitor,
        mutating: false,
        acceptKey: function acceptKey(node, name) {
          var value = this.accept(node[name]);
          if (this.mutating) {
            if (value && !Visitor.prototype[value.type]) {
              throw new _exception2["default"]('Unexpected node type "' + value.type + '" found when accepting ' + name + " on " + node.type);
            }
            node[name] = value;
          }
        },
        acceptRequired: function acceptRequired(node, name) {
          this.acceptKey(node, name);
          if (!node[name]) {
            throw new _exception2["default"](node.type + " requires " + name);
          }
        },
        acceptArray: function acceptArray(array) {
          for (var i = 0, l = array.length; i < l; i++) {
            this.acceptKey(array, i);
            if (!array[i]) {
              array.splice(i, 1);
              i--;
              l--;
            }
          }
        },
        accept: function accept(object) {
          if (!object) {
            return;
          }
          if (!this[object.type]) {
            throw new _exception2["default"]("Unknown type: " + object.type, object);
          }
          if (this.current) {
            this.parents.unshift(this.current);
          }
          this.current = object;
          var ret = this[object.type](object);
          this.current = this.parents.shift();
          if (!this.mutating || ret) {
            return ret;
          } else if (ret !== false) {
            return object;
          }
        },
        Program: function Program(program) {
          this.acceptArray(program.body);
        },
        MustacheStatement: visitSubExpression,
        Decorator: visitSubExpression,
        BlockStatement: visitBlock,
        DecoratorBlock: visitBlock,
        PartialStatement: visitPartial,
        PartialBlockStatement: function PartialBlockStatement(partial) {
          visitPartial.call(this, partial);
          this.acceptKey(partial, "program");
        },
        ContentStatement: function ContentStatement() {
        },
        CommentStatement: function CommentStatement() {
        },
        SubExpression: visitSubExpression,
        PathExpression: function PathExpression() {
        },
        StringLiteral: function StringLiteral() {
        },
        NumberLiteral: function NumberLiteral() {
        },
        BooleanLiteral: function BooleanLiteral() {
        },
        UndefinedLiteral: function UndefinedLiteral() {
        },
        NullLiteral: function NullLiteral() {
        },
        Hash: function Hash(hash) {
          this.acceptArray(hash.pairs);
        },
        HashPair: function HashPair(pair) {
          this.acceptRequired(pair, "value");
        }
      };
      function visitSubExpression(mustache) {
        this.acceptRequired(mustache, "path");
        this.acceptArray(mustache.params);
        this.acceptKey(mustache, "hash");
      }
      function visitBlock(block) {
        visitSubExpression.call(this, block);
        this.acceptKey(block, "program");
        this.acceptKey(block, "inverse");
      }
      function visitPartial(partial) {
        this.acceptRequired(partial, "name");
        this.acceptArray(partial.params);
        this.acceptKey(partial, "hash");
      }
      exports["default"] = Visitor;
      module.exports = exports["default"];
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/handlebars-npm-4.7.7-a9ccfabf80-9.zip/node_modules/handlebars/dist/cjs/handlebars/compiler/whitespace-control.js
  var require_whitespace_control = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/handlebars-npm-4.7.7-a9ccfabf80-9.zip/node_modules/handlebars/dist/cjs/handlebars/compiler/whitespace-control.js"(exports, module) {
      "use strict";
      exports.__esModule = true;
      function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {"default": obj};
      }
      var _visitor = require_visitor();
      var _visitor2 = _interopRequireDefault(_visitor);
      function WhitespaceControl() {
        var options = arguments.length <= 0 || arguments[0] === void 0 ? {} : arguments[0];
        this.options = options;
      }
      WhitespaceControl.prototype = new _visitor2["default"]();
      WhitespaceControl.prototype.Program = function(program) {
        var doStandalone = !this.options.ignoreStandalone;
        var isRoot = !this.isRootSeen;
        this.isRootSeen = true;
        var body = program.body;
        for (var i = 0, l = body.length; i < l; i++) {
          var current = body[i], strip = this.accept(current);
          if (!strip) {
            continue;
          }
          var _isPrevWhitespace = isPrevWhitespace(body, i, isRoot), _isNextWhitespace = isNextWhitespace(body, i, isRoot), openStandalone = strip.openStandalone && _isPrevWhitespace, closeStandalone = strip.closeStandalone && _isNextWhitespace, inlineStandalone = strip.inlineStandalone && _isPrevWhitespace && _isNextWhitespace;
          if (strip.close) {
            omitRight(body, i, true);
          }
          if (strip.open) {
            omitLeft(body, i, true);
          }
          if (doStandalone && inlineStandalone) {
            omitRight(body, i);
            if (omitLeft(body, i)) {
              if (current.type === "PartialStatement") {
                current.indent = /([ \t]+$)/.exec(body[i - 1].original)[1];
              }
            }
          }
          if (doStandalone && openStandalone) {
            omitRight((current.program || current.inverse).body);
            omitLeft(body, i);
          }
          if (doStandalone && closeStandalone) {
            omitRight(body, i);
            omitLeft((current.inverse || current.program).body);
          }
        }
        return program;
      };
      WhitespaceControl.prototype.BlockStatement = WhitespaceControl.prototype.DecoratorBlock = WhitespaceControl.prototype.PartialBlockStatement = function(block) {
        this.accept(block.program);
        this.accept(block.inverse);
        var program = block.program || block.inverse, inverse = block.program && block.inverse, firstInverse = inverse, lastInverse = inverse;
        if (inverse && inverse.chained) {
          firstInverse = inverse.body[0].program;
          while (lastInverse.chained) {
            lastInverse = lastInverse.body[lastInverse.body.length - 1].program;
          }
        }
        var strip = {
          open: block.openStrip.open,
          close: block.closeStrip.close,
          openStandalone: isNextWhitespace(program.body),
          closeStandalone: isPrevWhitespace((firstInverse || program).body)
        };
        if (block.openStrip.close) {
          omitRight(program.body, null, true);
        }
        if (inverse) {
          var inverseStrip = block.inverseStrip;
          if (inverseStrip.open) {
            omitLeft(program.body, null, true);
          }
          if (inverseStrip.close) {
            omitRight(firstInverse.body, null, true);
          }
          if (block.closeStrip.open) {
            omitLeft(lastInverse.body, null, true);
          }
          if (!this.options.ignoreStandalone && isPrevWhitespace(program.body) && isNextWhitespace(firstInverse.body)) {
            omitLeft(program.body);
            omitRight(firstInverse.body);
          }
        } else if (block.closeStrip.open) {
          omitLeft(program.body, null, true);
        }
        return strip;
      };
      WhitespaceControl.prototype.Decorator = WhitespaceControl.prototype.MustacheStatement = function(mustache) {
        return mustache.strip;
      };
      WhitespaceControl.prototype.PartialStatement = WhitespaceControl.prototype.CommentStatement = function(node) {
        var strip = node.strip || {};
        return {
          inlineStandalone: true,
          open: strip.open,
          close: strip.close
        };
      };
      function isPrevWhitespace(body, i, isRoot) {
        if (i === void 0) {
          i = body.length;
        }
        var prev = body[i - 1], sibling = body[i - 2];
        if (!prev) {
          return isRoot;
        }
        if (prev.type === "ContentStatement") {
          return (sibling || !isRoot ? /\r?\n\s*?$/ : /(^|\r?\n)\s*?$/).test(prev.original);
        }
      }
      function isNextWhitespace(body, i, isRoot) {
        if (i === void 0) {
          i = -1;
        }
        var next = body[i + 1], sibling = body[i + 2];
        if (!next) {
          return isRoot;
        }
        if (next.type === "ContentStatement") {
          return (sibling || !isRoot ? /^\s*?\r?\n/ : /^\s*?(\r?\n|$)/).test(next.original);
        }
      }
      function omitRight(body, i, multiple) {
        var current = body[i == null ? 0 : i + 1];
        if (!current || current.type !== "ContentStatement" || !multiple && current.rightStripped) {
          return;
        }
        var original = current.value;
        current.value = current.value.replace(multiple ? /^\s+/ : /^[ \t]*\r?\n?/, "");
        current.rightStripped = current.value !== original;
      }
      function omitLeft(body, i, multiple) {
        var current = body[i == null ? body.length - 1 : i - 1];
        if (!current || current.type !== "ContentStatement" || !multiple && current.leftStripped) {
          return;
        }
        var original = current.value;
        current.value = current.value.replace(multiple ? /\s+$/ : /[ \t]+$/, "");
        current.leftStripped = current.value !== original;
        return current.leftStripped;
      }
      exports["default"] = WhitespaceControl;
      module.exports = exports["default"];
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/handlebars-npm-4.7.7-a9ccfabf80-9.zip/node_modules/handlebars/dist/cjs/handlebars/compiler/helpers.js
  var require_helpers2 = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/handlebars-npm-4.7.7-a9ccfabf80-9.zip/node_modules/handlebars/dist/cjs/handlebars/compiler/helpers.js"(exports) {
      "use strict";
      exports.__esModule = true;
      exports.SourceLocation = SourceLocation;
      exports.id = id;
      exports.stripFlags = stripFlags;
      exports.stripComment = stripComment;
      exports.preparePath = preparePath;
      exports.prepareMustache = prepareMustache;
      exports.prepareRawBlock = prepareRawBlock;
      exports.prepareBlock = prepareBlock;
      exports.prepareProgram = prepareProgram;
      exports.preparePartialBlock = preparePartialBlock;
      function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {"default": obj};
      }
      var _exception = require_exception();
      var _exception2 = _interopRequireDefault(_exception);
      function validateClose(open, close) {
        close = close.path ? close.path.original : close;
        if (open.path.original !== close) {
          var errorNode = {loc: open.path.loc};
          throw new _exception2["default"](open.path.original + " doesn't match " + close, errorNode);
        }
      }
      function SourceLocation(source, locInfo) {
        this.source = source;
        this.start = {
          line: locInfo.first_line,
          column: locInfo.first_column
        };
        this.end = {
          line: locInfo.last_line,
          column: locInfo.last_column
        };
      }
      function id(token) {
        if (/^\[.*\]$/.test(token)) {
          return token.substring(1, token.length - 1);
        } else {
          return token;
        }
      }
      function stripFlags(open, close) {
        return {
          open: open.charAt(2) === "~",
          close: close.charAt(close.length - 3) === "~"
        };
      }
      function stripComment(comment) {
        return comment.replace(/^\{\{~?!-?-?/, "").replace(/-?-?~?\}\}$/, "");
      }
      function preparePath(data, parts, loc) {
        loc = this.locInfo(loc);
        var original = data ? "@" : "", dig = [], depth = 0;
        for (var i = 0, l = parts.length; i < l; i++) {
          var part = parts[i].part, isLiteral = parts[i].original !== part;
          original += (parts[i].separator || "") + part;
          if (!isLiteral && (part === ".." || part === "." || part === "this")) {
            if (dig.length > 0) {
              throw new _exception2["default"]("Invalid path: " + original, {loc});
            } else if (part === "..") {
              depth++;
            }
          } else {
            dig.push(part);
          }
        }
        return {
          type: "PathExpression",
          data,
          depth,
          parts: dig,
          original,
          loc
        };
      }
      function prepareMustache(path, params, hash, open, strip, locInfo) {
        var escapeFlag = open.charAt(3) || open.charAt(2), escaped = escapeFlag !== "{" && escapeFlag !== "&";
        var decorator = /\*/.test(open);
        return {
          type: decorator ? "Decorator" : "MustacheStatement",
          path,
          params,
          hash,
          escaped,
          strip,
          loc: this.locInfo(locInfo)
        };
      }
      function prepareRawBlock(openRawBlock, contents, close, locInfo) {
        validateClose(openRawBlock, close);
        locInfo = this.locInfo(locInfo);
        var program = {
          type: "Program",
          body: contents,
          strip: {},
          loc: locInfo
        };
        return {
          type: "BlockStatement",
          path: openRawBlock.path,
          params: openRawBlock.params,
          hash: openRawBlock.hash,
          program,
          openStrip: {},
          inverseStrip: {},
          closeStrip: {},
          loc: locInfo
        };
      }
      function prepareBlock(openBlock, program, inverseAndProgram, close, inverted, locInfo) {
        if (close && close.path) {
          validateClose(openBlock, close);
        }
        var decorator = /\*/.test(openBlock.open);
        program.blockParams = openBlock.blockParams;
        var inverse = void 0, inverseStrip = void 0;
        if (inverseAndProgram) {
          if (decorator) {
            throw new _exception2["default"]("Unexpected inverse block on decorator", inverseAndProgram);
          }
          if (inverseAndProgram.chain) {
            inverseAndProgram.program.body[0].closeStrip = close.strip;
          }
          inverseStrip = inverseAndProgram.strip;
          inverse = inverseAndProgram.program;
        }
        if (inverted) {
          inverted = inverse;
          inverse = program;
          program = inverted;
        }
        return {
          type: decorator ? "DecoratorBlock" : "BlockStatement",
          path: openBlock.path,
          params: openBlock.params,
          hash: openBlock.hash,
          program,
          inverse,
          openStrip: openBlock.strip,
          inverseStrip,
          closeStrip: close && close.strip,
          loc: this.locInfo(locInfo)
        };
      }
      function prepareProgram(statements, loc) {
        if (!loc && statements.length) {
          var firstLoc = statements[0].loc, lastLoc = statements[statements.length - 1].loc;
          if (firstLoc && lastLoc) {
            loc = {
              source: firstLoc.source,
              start: {
                line: firstLoc.start.line,
                column: firstLoc.start.column
              },
              end: {
                line: lastLoc.end.line,
                column: lastLoc.end.column
              }
            };
          }
        }
        return {
          type: "Program",
          body: statements,
          strip: {},
          loc
        };
      }
      function preparePartialBlock(open, program, close, locInfo) {
        validateClose(open, close);
        return {
          type: "PartialBlockStatement",
          name: open.path,
          params: open.params,
          hash: open.hash,
          program,
          openStrip: open.strip,
          closeStrip: close && close.strip,
          loc: this.locInfo(locInfo)
        };
      }
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/handlebars-npm-4.7.7-a9ccfabf80-9.zip/node_modules/handlebars/dist/cjs/handlebars/compiler/base.js
  var require_base2 = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/handlebars-npm-4.7.7-a9ccfabf80-9.zip/node_modules/handlebars/dist/cjs/handlebars/compiler/base.js"(exports) {
      "use strict";
      exports.__esModule = true;
      exports.parseWithoutProcessing = parseWithoutProcessing;
      exports.parse = parse;
      function _interopRequireWildcard(obj) {
        if (obj && obj.__esModule) {
          return obj;
        } else {
          var newObj = {};
          if (obj != null) {
            for (var key in obj) {
              if (Object.prototype.hasOwnProperty.call(obj, key))
                newObj[key] = obj[key];
            }
          }
          newObj["default"] = obj;
          return newObj;
        }
      }
      function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {"default": obj};
      }
      var _parser = require_parser2();
      var _parser2 = _interopRequireDefault(_parser);
      var _whitespaceControl = require_whitespace_control();
      var _whitespaceControl2 = _interopRequireDefault(_whitespaceControl);
      var _helpers = require_helpers2();
      var Helpers = _interopRequireWildcard(_helpers);
      var _utils = require_utils();
      exports.parser = _parser2["default"];
      var yy = {};
      _utils.extend(yy, Helpers);
      function parseWithoutProcessing(input, options) {
        if (input.type === "Program") {
          return input;
        }
        _parser2["default"].yy = yy;
        yy.locInfo = function(locInfo) {
          return new yy.SourceLocation(options && options.srcName, locInfo);
        };
        var ast = _parser2["default"].parse(input);
        return ast;
      }
      function parse(input, options) {
        var ast = parseWithoutProcessing(input, options);
        var strip = new _whitespaceControl2["default"](options);
        return strip.accept(ast);
      }
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/handlebars-npm-4.7.7-a9ccfabf80-9.zip/node_modules/handlebars/dist/cjs/handlebars/compiler/compiler.js
  var require_compiler = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/handlebars-npm-4.7.7-a9ccfabf80-9.zip/node_modules/handlebars/dist/cjs/handlebars/compiler/compiler.js"(exports) {
      "use strict";
      exports.__esModule = true;
      exports.Compiler = Compiler;
      exports.precompile = precompile;
      exports.compile = compile;
      function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {"default": obj};
      }
      var _exception = require_exception();
      var _exception2 = _interopRequireDefault(_exception);
      var _utils = require_utils();
      var _ast = require_ast();
      var _ast2 = _interopRequireDefault(_ast);
      var slice = [].slice;
      function Compiler() {
      }
      Compiler.prototype = {
        compiler: Compiler,
        equals: function equals(other) {
          var len = this.opcodes.length;
          if (other.opcodes.length !== len) {
            return false;
          }
          for (var i = 0; i < len; i++) {
            var opcode = this.opcodes[i], otherOpcode = other.opcodes[i];
            if (opcode.opcode !== otherOpcode.opcode || !argEquals(opcode.args, otherOpcode.args)) {
              return false;
            }
          }
          len = this.children.length;
          for (var i = 0; i < len; i++) {
            if (!this.children[i].equals(other.children[i])) {
              return false;
            }
          }
          return true;
        },
        guid: 0,
        compile: function compile2(program, options) {
          this.sourceNode = [];
          this.opcodes = [];
          this.children = [];
          this.options = options;
          this.stringParams = options.stringParams;
          this.trackIds = options.trackIds;
          options.blockParams = options.blockParams || [];
          options.knownHelpers = _utils.extend(Object.create(null), {
            helperMissing: true,
            blockHelperMissing: true,
            each: true,
            "if": true,
            unless: true,
            "with": true,
            log: true,
            lookup: true
          }, options.knownHelpers);
          return this.accept(program);
        },
        compileProgram: function compileProgram(program) {
          var childCompiler = new this.compiler(), result = childCompiler.compile(program, this.options), guid = this.guid++;
          this.usePartial = this.usePartial || result.usePartial;
          this.children[guid] = result;
          this.useDepths = this.useDepths || result.useDepths;
          return guid;
        },
        accept: function accept(node) {
          if (!this[node.type]) {
            throw new _exception2["default"]("Unknown type: " + node.type, node);
          }
          this.sourceNode.unshift(node);
          var ret = this[node.type](node);
          this.sourceNode.shift();
          return ret;
        },
        Program: function Program(program) {
          this.options.blockParams.unshift(program.blockParams);
          var body = program.body, bodyLength = body.length;
          for (var i = 0; i < bodyLength; i++) {
            this.accept(body[i]);
          }
          this.options.blockParams.shift();
          this.isSimple = bodyLength === 1;
          this.blockParams = program.blockParams ? program.blockParams.length : 0;
          return this;
        },
        BlockStatement: function BlockStatement(block) {
          transformLiteralToPath(block);
          var program = block.program, inverse = block.inverse;
          program = program && this.compileProgram(program);
          inverse = inverse && this.compileProgram(inverse);
          var type = this.classifySexpr(block);
          if (type === "helper") {
            this.helperSexpr(block, program, inverse);
          } else if (type === "simple") {
            this.simpleSexpr(block);
            this.opcode("pushProgram", program);
            this.opcode("pushProgram", inverse);
            this.opcode("emptyHash");
            this.opcode("blockValue", block.path.original);
          } else {
            this.ambiguousSexpr(block, program, inverse);
            this.opcode("pushProgram", program);
            this.opcode("pushProgram", inverse);
            this.opcode("emptyHash");
            this.opcode("ambiguousBlockValue");
          }
          this.opcode("append");
        },
        DecoratorBlock: function DecoratorBlock(decorator) {
          var program = decorator.program && this.compileProgram(decorator.program);
          var params = this.setupFullMustacheParams(decorator, program, void 0), path = decorator.path;
          this.useDecorators = true;
          this.opcode("registerDecorator", params.length, path.original);
        },
        PartialStatement: function PartialStatement(partial) {
          this.usePartial = true;
          var program = partial.program;
          if (program) {
            program = this.compileProgram(partial.program);
          }
          var params = partial.params;
          if (params.length > 1) {
            throw new _exception2["default"]("Unsupported number of partial arguments: " + params.length, partial);
          } else if (!params.length) {
            if (this.options.explicitPartialContext) {
              this.opcode("pushLiteral", "undefined");
            } else {
              params.push({type: "PathExpression", parts: [], depth: 0});
            }
          }
          var partialName = partial.name.original, isDynamic = partial.name.type === "SubExpression";
          if (isDynamic) {
            this.accept(partial.name);
          }
          this.setupFullMustacheParams(partial, program, void 0, true);
          var indent = partial.indent || "";
          if (this.options.preventIndent && indent) {
            this.opcode("appendContent", indent);
            indent = "";
          }
          this.opcode("invokePartial", isDynamic, partialName, indent);
          this.opcode("append");
        },
        PartialBlockStatement: function PartialBlockStatement(partialBlock) {
          this.PartialStatement(partialBlock);
        },
        MustacheStatement: function MustacheStatement(mustache) {
          this.SubExpression(mustache);
          if (mustache.escaped && !this.options.noEscape) {
            this.opcode("appendEscaped");
          } else {
            this.opcode("append");
          }
        },
        Decorator: function Decorator(decorator) {
          this.DecoratorBlock(decorator);
        },
        ContentStatement: function ContentStatement(content) {
          if (content.value) {
            this.opcode("appendContent", content.value);
          }
        },
        CommentStatement: function CommentStatement() {
        },
        SubExpression: function SubExpression(sexpr) {
          transformLiteralToPath(sexpr);
          var type = this.classifySexpr(sexpr);
          if (type === "simple") {
            this.simpleSexpr(sexpr);
          } else if (type === "helper") {
            this.helperSexpr(sexpr);
          } else {
            this.ambiguousSexpr(sexpr);
          }
        },
        ambiguousSexpr: function ambiguousSexpr(sexpr, program, inverse) {
          var path = sexpr.path, name = path.parts[0], isBlock = program != null || inverse != null;
          this.opcode("getContext", path.depth);
          this.opcode("pushProgram", program);
          this.opcode("pushProgram", inverse);
          path.strict = true;
          this.accept(path);
          this.opcode("invokeAmbiguous", name, isBlock);
        },
        simpleSexpr: function simpleSexpr(sexpr) {
          var path = sexpr.path;
          path.strict = true;
          this.accept(path);
          this.opcode("resolvePossibleLambda");
        },
        helperSexpr: function helperSexpr(sexpr, program, inverse) {
          var params = this.setupFullMustacheParams(sexpr, program, inverse), path = sexpr.path, name = path.parts[0];
          if (this.options.knownHelpers[name]) {
            this.opcode("invokeKnownHelper", params.length, name);
          } else if (this.options.knownHelpersOnly) {
            throw new _exception2["default"]("You specified knownHelpersOnly, but used the unknown helper " + name, sexpr);
          } else {
            path.strict = true;
            path.falsy = true;
            this.accept(path);
            this.opcode("invokeHelper", params.length, path.original, _ast2["default"].helpers.simpleId(path));
          }
        },
        PathExpression: function PathExpression(path) {
          this.addDepth(path.depth);
          this.opcode("getContext", path.depth);
          var name = path.parts[0], scoped = _ast2["default"].helpers.scopedId(path), blockParamId = !path.depth && !scoped && this.blockParamIndex(name);
          if (blockParamId) {
            this.opcode("lookupBlockParam", blockParamId, path.parts);
          } else if (!name) {
            this.opcode("pushContext");
          } else if (path.data) {
            this.options.data = true;
            this.opcode("lookupData", path.depth, path.parts, path.strict);
          } else {
            this.opcode("lookupOnContext", path.parts, path.falsy, path.strict, scoped);
          }
        },
        StringLiteral: function StringLiteral(string) {
          this.opcode("pushString", string.value);
        },
        NumberLiteral: function NumberLiteral(number) {
          this.opcode("pushLiteral", number.value);
        },
        BooleanLiteral: function BooleanLiteral(bool) {
          this.opcode("pushLiteral", bool.value);
        },
        UndefinedLiteral: function UndefinedLiteral() {
          this.opcode("pushLiteral", "undefined");
        },
        NullLiteral: function NullLiteral() {
          this.opcode("pushLiteral", "null");
        },
        Hash: function Hash(hash) {
          var pairs = hash.pairs, i = 0, l = pairs.length;
          this.opcode("pushHash");
          for (; i < l; i++) {
            this.pushParam(pairs[i].value);
          }
          while (i--) {
            this.opcode("assignToHash", pairs[i].key);
          }
          this.opcode("popHash");
        },
        opcode: function opcode(name) {
          this.opcodes.push({
            opcode: name,
            args: slice.call(arguments, 1),
            loc: this.sourceNode[0].loc
          });
        },
        addDepth: function addDepth(depth) {
          if (!depth) {
            return;
          }
          this.useDepths = true;
        },
        classifySexpr: function classifySexpr(sexpr) {
          var isSimple = _ast2["default"].helpers.simpleId(sexpr.path);
          var isBlockParam = isSimple && !!this.blockParamIndex(sexpr.path.parts[0]);
          var isHelper = !isBlockParam && _ast2["default"].helpers.helperExpression(sexpr);
          var isEligible = !isBlockParam && (isHelper || isSimple);
          if (isEligible && !isHelper) {
            var _name = sexpr.path.parts[0], options = this.options;
            if (options.knownHelpers[_name]) {
              isHelper = true;
            } else if (options.knownHelpersOnly) {
              isEligible = false;
            }
          }
          if (isHelper) {
            return "helper";
          } else if (isEligible) {
            return "ambiguous";
          } else {
            return "simple";
          }
        },
        pushParams: function pushParams(params) {
          for (var i = 0, l = params.length; i < l; i++) {
            this.pushParam(params[i]);
          }
        },
        pushParam: function pushParam(val) {
          var value = val.value != null ? val.value : val.original || "";
          if (this.stringParams) {
            if (value.replace) {
              value = value.replace(/^(\.?\.\/)*/g, "").replace(/\//g, ".");
            }
            if (val.depth) {
              this.addDepth(val.depth);
            }
            this.opcode("getContext", val.depth || 0);
            this.opcode("pushStringParam", value, val.type);
            if (val.type === "SubExpression") {
              this.accept(val);
            }
          } else {
            if (this.trackIds) {
              var blockParamIndex = void 0;
              if (val.parts && !_ast2["default"].helpers.scopedId(val) && !val.depth) {
                blockParamIndex = this.blockParamIndex(val.parts[0]);
              }
              if (blockParamIndex) {
                var blockParamChild = val.parts.slice(1).join(".");
                this.opcode("pushId", "BlockParam", blockParamIndex, blockParamChild);
              } else {
                value = val.original || value;
                if (value.replace) {
                  value = value.replace(/^this(?:\.|$)/, "").replace(/^\.\//, "").replace(/^\.$/, "");
                }
                this.opcode("pushId", val.type, value);
              }
            }
            this.accept(val);
          }
        },
        setupFullMustacheParams: function setupFullMustacheParams(sexpr, program, inverse, omitEmpty) {
          var params = sexpr.params;
          this.pushParams(params);
          this.opcode("pushProgram", program);
          this.opcode("pushProgram", inverse);
          if (sexpr.hash) {
            this.accept(sexpr.hash);
          } else {
            this.opcode("emptyHash", omitEmpty);
          }
          return params;
        },
        blockParamIndex: function blockParamIndex(name) {
          for (var depth = 0, len = this.options.blockParams.length; depth < len; depth++) {
            var blockParams = this.options.blockParams[depth], param = blockParams && _utils.indexOf(blockParams, name);
            if (blockParams && param >= 0) {
              return [depth, param];
            }
          }
        }
      };
      function precompile(input, options, env) {
        if (input == null || typeof input !== "string" && input.type !== "Program") {
          throw new _exception2["default"]("You must pass a string or Handlebars AST to Handlebars.precompile. You passed " + input);
        }
        options = options || {};
        if (!("data" in options)) {
          options.data = true;
        }
        if (options.compat) {
          options.useDepths = true;
        }
        var ast = env.parse(input, options), environment = new env.Compiler().compile(ast, options);
        return new env.JavaScriptCompiler().compile(environment, options);
      }
      function compile(input, options, env) {
        if (options === void 0)
          options = {};
        if (input == null || typeof input !== "string" && input.type !== "Program") {
          throw new _exception2["default"]("You must pass a string or Handlebars AST to Handlebars.compile. You passed " + input);
        }
        options = _utils.extend({}, options);
        if (!("data" in options)) {
          options.data = true;
        }
        if (options.compat) {
          options.useDepths = true;
        }
        var compiled = void 0;
        function compileInput() {
          var ast = env.parse(input, options), environment = new env.Compiler().compile(ast, options), templateSpec = new env.JavaScriptCompiler().compile(environment, options, void 0, true);
          return env.template(templateSpec);
        }
        function ret(context, execOptions) {
          if (!compiled) {
            compiled = compileInput();
          }
          return compiled.call(this, context, execOptions);
        }
        ret._setup = function(setupOptions) {
          if (!compiled) {
            compiled = compileInput();
          }
          return compiled._setup(setupOptions);
        };
        ret._child = function(i, data, blockParams, depths) {
          if (!compiled) {
            compiled = compileInput();
          }
          return compiled._child(i, data, blockParams, depths);
        };
        return ret;
      }
      function argEquals(a, b) {
        if (a === b) {
          return true;
        }
        if (_utils.isArray(a) && _utils.isArray(b) && a.length === b.length) {
          for (var i = 0; i < a.length; i++) {
            if (!argEquals(a[i], b[i])) {
              return false;
            }
          }
          return true;
        }
      }
      function transformLiteralToPath(sexpr) {
        if (!sexpr.path.parts) {
          var literal = sexpr.path;
          sexpr.path = {
            type: "PathExpression",
            data: false,
            depth: 0,
            parts: [literal.original + ""],
            original: literal.original + "",
            loc: literal.loc
          };
        }
      }
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/source-map-npm-0.6.1-1a3621db16-9.zip/node_modules/source-map/lib/base64.js
  var require_base64 = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/source-map-npm-0.6.1-1a3621db16-9.zip/node_modules/source-map/lib/base64.js"(exports) {
      var intToCharMap = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");
      exports.encode = function(number) {
        if (0 <= number && number < intToCharMap.length) {
          return intToCharMap[number];
        }
        throw new TypeError("Must be between 0 and 63: " + number);
      };
      exports.decode = function(charCode) {
        var bigA = 65;
        var bigZ = 90;
        var littleA = 97;
        var littleZ = 122;
        var zero = 48;
        var nine = 57;
        var plus = 43;
        var slash = 47;
        var littleOffset = 26;
        var numberOffset = 52;
        if (bigA <= charCode && charCode <= bigZ) {
          return charCode - bigA;
        }
        if (littleA <= charCode && charCode <= littleZ) {
          return charCode - littleA + littleOffset;
        }
        if (zero <= charCode && charCode <= nine) {
          return charCode - zero + numberOffset;
        }
        if (charCode == plus) {
          return 62;
        }
        if (charCode == slash) {
          return 63;
        }
        return -1;
      };
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/source-map-npm-0.6.1-1a3621db16-9.zip/node_modules/source-map/lib/base64-vlq.js
  var require_base64_vlq = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/source-map-npm-0.6.1-1a3621db16-9.zip/node_modules/source-map/lib/base64-vlq.js"(exports) {
      var base64 = require_base64();
      var VLQ_BASE_SHIFT = 5;
      var VLQ_BASE = 1 << VLQ_BASE_SHIFT;
      var VLQ_BASE_MASK = VLQ_BASE - 1;
      var VLQ_CONTINUATION_BIT = VLQ_BASE;
      function toVLQSigned(aValue) {
        return aValue < 0 ? (-aValue << 1) + 1 : (aValue << 1) + 0;
      }
      function fromVLQSigned(aValue) {
        var isNegative = (aValue & 1) === 1;
        var shifted = aValue >> 1;
        return isNegative ? -shifted : shifted;
      }
      exports.encode = function base64VLQ_encode(aValue) {
        var encoded = "";
        var digit;
        var vlq = toVLQSigned(aValue);
        do {
          digit = vlq & VLQ_BASE_MASK;
          vlq >>>= VLQ_BASE_SHIFT;
          if (vlq > 0) {
            digit |= VLQ_CONTINUATION_BIT;
          }
          encoded += base64.encode(digit);
        } while (vlq > 0);
        return encoded;
      };
      exports.decode = function base64VLQ_decode(aStr, aIndex, aOutParam) {
        var strLen = aStr.length;
        var result = 0;
        var shift = 0;
        var continuation, digit;
        do {
          if (aIndex >= strLen) {
            throw new Error("Expected more digits in base 64 VLQ value.");
          }
          digit = base64.decode(aStr.charCodeAt(aIndex++));
          if (digit === -1) {
            throw new Error("Invalid base64 digit: " + aStr.charAt(aIndex - 1));
          }
          continuation = !!(digit & VLQ_CONTINUATION_BIT);
          digit &= VLQ_BASE_MASK;
          result = result + (digit << shift);
          shift += VLQ_BASE_SHIFT;
        } while (continuation);
        aOutParam.value = fromVLQSigned(result);
        aOutParam.rest = aIndex;
      };
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/source-map-npm-0.6.1-1a3621db16-9.zip/node_modules/source-map/lib/util.js
  var require_util = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/source-map-npm-0.6.1-1a3621db16-9.zip/node_modules/source-map/lib/util.js"(exports) {
      function getArg(aArgs, aName, aDefaultValue) {
        if (aName in aArgs) {
          return aArgs[aName];
        } else if (arguments.length === 3) {
          return aDefaultValue;
        } else {
          throw new Error('"' + aName + '" is a required argument.');
        }
      }
      exports.getArg = getArg;
      var urlRegexp = /^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/;
      var dataUrlRegexp = /^data:.+\,.+$/;
      function urlParse(aUrl) {
        var match = aUrl.match(urlRegexp);
        if (!match) {
          return null;
        }
        return {
          scheme: match[1],
          auth: match[2],
          host: match[3],
          port: match[4],
          path: match[5]
        };
      }
      exports.urlParse = urlParse;
      function urlGenerate(aParsedUrl) {
        var url = "";
        if (aParsedUrl.scheme) {
          url += aParsedUrl.scheme + ":";
        }
        url += "//";
        if (aParsedUrl.auth) {
          url += aParsedUrl.auth + "@";
        }
        if (aParsedUrl.host) {
          url += aParsedUrl.host;
        }
        if (aParsedUrl.port) {
          url += ":" + aParsedUrl.port;
        }
        if (aParsedUrl.path) {
          url += aParsedUrl.path;
        }
        return url;
      }
      exports.urlGenerate = urlGenerate;
      function normalize(aPath) {
        var path = aPath;
        var url = urlParse(aPath);
        if (url) {
          if (!url.path) {
            return aPath;
          }
          path = url.path;
        }
        var isAbsolute = exports.isAbsolute(path);
        var parts = path.split(/\/+/);
        for (var part, up = 0, i = parts.length - 1; i >= 0; i--) {
          part = parts[i];
          if (part === ".") {
            parts.splice(i, 1);
          } else if (part === "..") {
            up++;
          } else if (up > 0) {
            if (part === "") {
              parts.splice(i + 1, up);
              up = 0;
            } else {
              parts.splice(i, 2);
              up--;
            }
          }
        }
        path = parts.join("/");
        if (path === "") {
          path = isAbsolute ? "/" : ".";
        }
        if (url) {
          url.path = path;
          return urlGenerate(url);
        }
        return path;
      }
      exports.normalize = normalize;
      function join3(aRoot, aPath) {
        if (aRoot === "") {
          aRoot = ".";
        }
        if (aPath === "") {
          aPath = ".";
        }
        var aPathUrl = urlParse(aPath);
        var aRootUrl = urlParse(aRoot);
        if (aRootUrl) {
          aRoot = aRootUrl.path || "/";
        }
        if (aPathUrl && !aPathUrl.scheme) {
          if (aRootUrl) {
            aPathUrl.scheme = aRootUrl.scheme;
          }
          return urlGenerate(aPathUrl);
        }
        if (aPathUrl || aPath.match(dataUrlRegexp)) {
          return aPath;
        }
        if (aRootUrl && !aRootUrl.host && !aRootUrl.path) {
          aRootUrl.host = aPath;
          return urlGenerate(aRootUrl);
        }
        var joined = aPath.charAt(0) === "/" ? aPath : normalize(aRoot.replace(/\/+$/, "") + "/" + aPath);
        if (aRootUrl) {
          aRootUrl.path = joined;
          return urlGenerate(aRootUrl);
        }
        return joined;
      }
      exports.join = join3;
      exports.isAbsolute = function(aPath) {
        return aPath.charAt(0) === "/" || urlRegexp.test(aPath);
      };
      function relative(aRoot, aPath) {
        if (aRoot === "") {
          aRoot = ".";
        }
        aRoot = aRoot.replace(/\/$/, "");
        var level = 0;
        while (aPath.indexOf(aRoot + "/") !== 0) {
          var index = aRoot.lastIndexOf("/");
          if (index < 0) {
            return aPath;
          }
          aRoot = aRoot.slice(0, index);
          if (aRoot.match(/^([^\/]+:\/)?\/*$/)) {
            return aPath;
          }
          ++level;
        }
        return Array(level + 1).join("../") + aPath.substr(aRoot.length + 1);
      }
      exports.relative = relative;
      var supportsNullProto = function() {
        var obj = Object.create(null);
        return !("__proto__" in obj);
      }();
      function identity(s) {
        return s;
      }
      function toSetString(aStr) {
        if (isProtoString(aStr)) {
          return "$" + aStr;
        }
        return aStr;
      }
      exports.toSetString = supportsNullProto ? identity : toSetString;
      function fromSetString(aStr) {
        if (isProtoString(aStr)) {
          return aStr.slice(1);
        }
        return aStr;
      }
      exports.fromSetString = supportsNullProto ? identity : fromSetString;
      function isProtoString(s) {
        if (!s) {
          return false;
        }
        var length = s.length;
        if (length < 9) {
          return false;
        }
        if (s.charCodeAt(length - 1) !== 95 || s.charCodeAt(length - 2) !== 95 || s.charCodeAt(length - 3) !== 111 || s.charCodeAt(length - 4) !== 116 || s.charCodeAt(length - 5) !== 111 || s.charCodeAt(length - 6) !== 114 || s.charCodeAt(length - 7) !== 112 || s.charCodeAt(length - 8) !== 95 || s.charCodeAt(length - 9) !== 95) {
          return false;
        }
        for (var i = length - 10; i >= 0; i--) {
          if (s.charCodeAt(i) !== 36) {
            return false;
          }
        }
        return true;
      }
      function compareByOriginalPositions(mappingA, mappingB, onlyCompareOriginal) {
        var cmp = strcmp(mappingA.source, mappingB.source);
        if (cmp !== 0) {
          return cmp;
        }
        cmp = mappingA.originalLine - mappingB.originalLine;
        if (cmp !== 0) {
          return cmp;
        }
        cmp = mappingA.originalColumn - mappingB.originalColumn;
        if (cmp !== 0 || onlyCompareOriginal) {
          return cmp;
        }
        cmp = mappingA.generatedColumn - mappingB.generatedColumn;
        if (cmp !== 0) {
          return cmp;
        }
        cmp = mappingA.generatedLine - mappingB.generatedLine;
        if (cmp !== 0) {
          return cmp;
        }
        return strcmp(mappingA.name, mappingB.name);
      }
      exports.compareByOriginalPositions = compareByOriginalPositions;
      function compareByGeneratedPositionsDeflated(mappingA, mappingB, onlyCompareGenerated) {
        var cmp = mappingA.generatedLine - mappingB.generatedLine;
        if (cmp !== 0) {
          return cmp;
        }
        cmp = mappingA.generatedColumn - mappingB.generatedColumn;
        if (cmp !== 0 || onlyCompareGenerated) {
          return cmp;
        }
        cmp = strcmp(mappingA.source, mappingB.source);
        if (cmp !== 0) {
          return cmp;
        }
        cmp = mappingA.originalLine - mappingB.originalLine;
        if (cmp !== 0) {
          return cmp;
        }
        cmp = mappingA.originalColumn - mappingB.originalColumn;
        if (cmp !== 0) {
          return cmp;
        }
        return strcmp(mappingA.name, mappingB.name);
      }
      exports.compareByGeneratedPositionsDeflated = compareByGeneratedPositionsDeflated;
      function strcmp(aStr1, aStr2) {
        if (aStr1 === aStr2) {
          return 0;
        }
        if (aStr1 === null) {
          return 1;
        }
        if (aStr2 === null) {
          return -1;
        }
        if (aStr1 > aStr2) {
          return 1;
        }
        return -1;
      }
      function compareByGeneratedPositionsInflated(mappingA, mappingB) {
        var cmp = mappingA.generatedLine - mappingB.generatedLine;
        if (cmp !== 0) {
          return cmp;
        }
        cmp = mappingA.generatedColumn - mappingB.generatedColumn;
        if (cmp !== 0) {
          return cmp;
        }
        cmp = strcmp(mappingA.source, mappingB.source);
        if (cmp !== 0) {
          return cmp;
        }
        cmp = mappingA.originalLine - mappingB.originalLine;
        if (cmp !== 0) {
          return cmp;
        }
        cmp = mappingA.originalColumn - mappingB.originalColumn;
        if (cmp !== 0) {
          return cmp;
        }
        return strcmp(mappingA.name, mappingB.name);
      }
      exports.compareByGeneratedPositionsInflated = compareByGeneratedPositionsInflated;
      function parseSourceMapInput(str) {
        return JSON.parse(str.replace(/^\)]}'[^\n]*\n/, ""));
      }
      exports.parseSourceMapInput = parseSourceMapInput;
      function computeSourceURL(sourceRoot, sourceURL, sourceMapURL) {
        sourceURL = sourceURL || "";
        if (sourceRoot) {
          if (sourceRoot[sourceRoot.length - 1] !== "/" && sourceURL[0] !== "/") {
            sourceRoot += "/";
          }
          sourceURL = sourceRoot + sourceURL;
        }
        if (sourceMapURL) {
          var parsed = urlParse(sourceMapURL);
          if (!parsed) {
            throw new Error("sourceMapURL could not be parsed");
          }
          if (parsed.path) {
            var index = parsed.path.lastIndexOf("/");
            if (index >= 0) {
              parsed.path = parsed.path.substring(0, index + 1);
            }
          }
          sourceURL = join3(urlGenerate(parsed), sourceURL);
        }
        return normalize(sourceURL);
      }
      exports.computeSourceURL = computeSourceURL;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/source-map-npm-0.6.1-1a3621db16-9.zip/node_modules/source-map/lib/array-set.js
  var require_array_set = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/source-map-npm-0.6.1-1a3621db16-9.zip/node_modules/source-map/lib/array-set.js"(exports) {
      var util = require_util();
      var has = Object.prototype.hasOwnProperty;
      var hasNativeMap = typeof Map !== "undefined";
      function ArraySet() {
        this._array = [];
        this._set = hasNativeMap ? new Map() : Object.create(null);
      }
      ArraySet.fromArray = function ArraySet_fromArray(aArray, aAllowDuplicates) {
        var set = new ArraySet();
        for (var i = 0, len = aArray.length; i < len; i++) {
          set.add(aArray[i], aAllowDuplicates);
        }
        return set;
      };
      ArraySet.prototype.size = function ArraySet_size() {
        return hasNativeMap ? this._set.size : Object.getOwnPropertyNames(this._set).length;
      };
      ArraySet.prototype.add = function ArraySet_add(aStr, aAllowDuplicates) {
        var sStr = hasNativeMap ? aStr : util.toSetString(aStr);
        var isDuplicate = hasNativeMap ? this.has(aStr) : has.call(this._set, sStr);
        var idx = this._array.length;
        if (!isDuplicate || aAllowDuplicates) {
          this._array.push(aStr);
        }
        if (!isDuplicate) {
          if (hasNativeMap) {
            this._set.set(aStr, idx);
          } else {
            this._set[sStr] = idx;
          }
        }
      };
      ArraySet.prototype.has = function ArraySet_has(aStr) {
        if (hasNativeMap) {
          return this._set.has(aStr);
        } else {
          var sStr = util.toSetString(aStr);
          return has.call(this._set, sStr);
        }
      };
      ArraySet.prototype.indexOf = function ArraySet_indexOf(aStr) {
        if (hasNativeMap) {
          var idx = this._set.get(aStr);
          if (idx >= 0) {
            return idx;
          }
        } else {
          var sStr = util.toSetString(aStr);
          if (has.call(this._set, sStr)) {
            return this._set[sStr];
          }
        }
        throw new Error('"' + aStr + '" is not in the set.');
      };
      ArraySet.prototype.at = function ArraySet_at(aIdx) {
        if (aIdx >= 0 && aIdx < this._array.length) {
          return this._array[aIdx];
        }
        throw new Error("No element indexed by " + aIdx);
      };
      ArraySet.prototype.toArray = function ArraySet_toArray() {
        return this._array.slice();
      };
      exports.ArraySet = ArraySet;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/source-map-npm-0.6.1-1a3621db16-9.zip/node_modules/source-map/lib/mapping-list.js
  var require_mapping_list = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/source-map-npm-0.6.1-1a3621db16-9.zip/node_modules/source-map/lib/mapping-list.js"(exports) {
      var util = require_util();
      function generatedPositionAfter(mappingA, mappingB) {
        var lineA = mappingA.generatedLine;
        var lineB = mappingB.generatedLine;
        var columnA = mappingA.generatedColumn;
        var columnB = mappingB.generatedColumn;
        return lineB > lineA || lineB == lineA && columnB >= columnA || util.compareByGeneratedPositionsInflated(mappingA, mappingB) <= 0;
      }
      function MappingList() {
        this._array = [];
        this._sorted = true;
        this._last = {generatedLine: -1, generatedColumn: 0};
      }
      MappingList.prototype.unsortedForEach = function MappingList_forEach(aCallback, aThisArg) {
        this._array.forEach(aCallback, aThisArg);
      };
      MappingList.prototype.add = function MappingList_add(aMapping) {
        if (generatedPositionAfter(this._last, aMapping)) {
          this._last = aMapping;
          this._array.push(aMapping);
        } else {
          this._sorted = false;
          this._array.push(aMapping);
        }
      };
      MappingList.prototype.toArray = function MappingList_toArray() {
        if (!this._sorted) {
          this._array.sort(util.compareByGeneratedPositionsInflated);
          this._sorted = true;
        }
        return this._array;
      };
      exports.MappingList = MappingList;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/source-map-npm-0.6.1-1a3621db16-9.zip/node_modules/source-map/lib/source-map-generator.js
  var require_source_map_generator = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/source-map-npm-0.6.1-1a3621db16-9.zip/node_modules/source-map/lib/source-map-generator.js"(exports) {
      var base64VLQ = require_base64_vlq();
      var util = require_util();
      var ArraySet = require_array_set().ArraySet;
      var MappingList = require_mapping_list().MappingList;
      function SourceMapGenerator(aArgs) {
        if (!aArgs) {
          aArgs = {};
        }
        this._file = util.getArg(aArgs, "file", null);
        this._sourceRoot = util.getArg(aArgs, "sourceRoot", null);
        this._skipValidation = util.getArg(aArgs, "skipValidation", false);
        this._sources = new ArraySet();
        this._names = new ArraySet();
        this._mappings = new MappingList();
        this._sourcesContents = null;
      }
      SourceMapGenerator.prototype._version = 3;
      SourceMapGenerator.fromSourceMap = function SourceMapGenerator_fromSourceMap(aSourceMapConsumer) {
        var sourceRoot = aSourceMapConsumer.sourceRoot;
        var generator = new SourceMapGenerator({
          file: aSourceMapConsumer.file,
          sourceRoot
        });
        aSourceMapConsumer.eachMapping(function(mapping) {
          var newMapping = {
            generated: {
              line: mapping.generatedLine,
              column: mapping.generatedColumn
            }
          };
          if (mapping.source != null) {
            newMapping.source = mapping.source;
            if (sourceRoot != null) {
              newMapping.source = util.relative(sourceRoot, newMapping.source);
            }
            newMapping.original = {
              line: mapping.originalLine,
              column: mapping.originalColumn
            };
            if (mapping.name != null) {
              newMapping.name = mapping.name;
            }
          }
          generator.addMapping(newMapping);
        });
        aSourceMapConsumer.sources.forEach(function(sourceFile) {
          var sourceRelative = sourceFile;
          if (sourceRoot !== null) {
            sourceRelative = util.relative(sourceRoot, sourceFile);
          }
          if (!generator._sources.has(sourceRelative)) {
            generator._sources.add(sourceRelative);
          }
          var content = aSourceMapConsumer.sourceContentFor(sourceFile);
          if (content != null) {
            generator.setSourceContent(sourceFile, content);
          }
        });
        return generator;
      };
      SourceMapGenerator.prototype.addMapping = function SourceMapGenerator_addMapping(aArgs) {
        var generated = util.getArg(aArgs, "generated");
        var original = util.getArg(aArgs, "original", null);
        var source = util.getArg(aArgs, "source", null);
        var name = util.getArg(aArgs, "name", null);
        if (!this._skipValidation) {
          this._validateMapping(generated, original, source, name);
        }
        if (source != null) {
          source = String(source);
          if (!this._sources.has(source)) {
            this._sources.add(source);
          }
        }
        if (name != null) {
          name = String(name);
          if (!this._names.has(name)) {
            this._names.add(name);
          }
        }
        this._mappings.add({
          generatedLine: generated.line,
          generatedColumn: generated.column,
          originalLine: original != null && original.line,
          originalColumn: original != null && original.column,
          source,
          name
        });
      };
      SourceMapGenerator.prototype.setSourceContent = function SourceMapGenerator_setSourceContent(aSourceFile, aSourceContent) {
        var source = aSourceFile;
        if (this._sourceRoot != null) {
          source = util.relative(this._sourceRoot, source);
        }
        if (aSourceContent != null) {
          if (!this._sourcesContents) {
            this._sourcesContents = Object.create(null);
          }
          this._sourcesContents[util.toSetString(source)] = aSourceContent;
        } else if (this._sourcesContents) {
          delete this._sourcesContents[util.toSetString(source)];
          if (Object.keys(this._sourcesContents).length === 0) {
            this._sourcesContents = null;
          }
        }
      };
      SourceMapGenerator.prototype.applySourceMap = function SourceMapGenerator_applySourceMap(aSourceMapConsumer, aSourceFile, aSourceMapPath) {
        var sourceFile = aSourceFile;
        if (aSourceFile == null) {
          if (aSourceMapConsumer.file == null) {
            throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);
          }
          sourceFile = aSourceMapConsumer.file;
        }
        var sourceRoot = this._sourceRoot;
        if (sourceRoot != null) {
          sourceFile = util.relative(sourceRoot, sourceFile);
        }
        var newSources = new ArraySet();
        var newNames = new ArraySet();
        this._mappings.unsortedForEach(function(mapping) {
          if (mapping.source === sourceFile && mapping.originalLine != null) {
            var original = aSourceMapConsumer.originalPositionFor({
              line: mapping.originalLine,
              column: mapping.originalColumn
            });
            if (original.source != null) {
              mapping.source = original.source;
              if (aSourceMapPath != null) {
                mapping.source = util.join(aSourceMapPath, mapping.source);
              }
              if (sourceRoot != null) {
                mapping.source = util.relative(sourceRoot, mapping.source);
              }
              mapping.originalLine = original.line;
              mapping.originalColumn = original.column;
              if (original.name != null) {
                mapping.name = original.name;
              }
            }
          }
          var source = mapping.source;
          if (source != null && !newSources.has(source)) {
            newSources.add(source);
          }
          var name = mapping.name;
          if (name != null && !newNames.has(name)) {
            newNames.add(name);
          }
        }, this);
        this._sources = newSources;
        this._names = newNames;
        aSourceMapConsumer.sources.forEach(function(sourceFile2) {
          var content = aSourceMapConsumer.sourceContentFor(sourceFile2);
          if (content != null) {
            if (aSourceMapPath != null) {
              sourceFile2 = util.join(aSourceMapPath, sourceFile2);
            }
            if (sourceRoot != null) {
              sourceFile2 = util.relative(sourceRoot, sourceFile2);
            }
            this.setSourceContent(sourceFile2, content);
          }
        }, this);
      };
      SourceMapGenerator.prototype._validateMapping = function SourceMapGenerator_validateMapping(aGenerated, aOriginal, aSource, aName) {
        if (aOriginal && typeof aOriginal.line !== "number" && typeof aOriginal.column !== "number") {
          throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");
        }
        if (aGenerated && "line" in aGenerated && "column" in aGenerated && aGenerated.line > 0 && aGenerated.column >= 0 && !aOriginal && !aSource && !aName) {
          return;
        } else if (aGenerated && "line" in aGenerated && "column" in aGenerated && aOriginal && "line" in aOriginal && "column" in aOriginal && aGenerated.line > 0 && aGenerated.column >= 0 && aOriginal.line > 0 && aOriginal.column >= 0 && aSource) {
          return;
        } else {
          throw new Error("Invalid mapping: " + JSON.stringify({
            generated: aGenerated,
            source: aSource,
            original: aOriginal,
            name: aName
          }));
        }
      };
      SourceMapGenerator.prototype._serializeMappings = function SourceMapGenerator_serializeMappings() {
        var previousGeneratedColumn = 0;
        var previousGeneratedLine = 1;
        var previousOriginalColumn = 0;
        var previousOriginalLine = 0;
        var previousName = 0;
        var previousSource = 0;
        var result = "";
        var next;
        var mapping;
        var nameIdx;
        var sourceIdx;
        var mappings = this._mappings.toArray();
        for (var i = 0, len = mappings.length; i < len; i++) {
          mapping = mappings[i];
          next = "";
          if (mapping.generatedLine !== previousGeneratedLine) {
            previousGeneratedColumn = 0;
            while (mapping.generatedLine !== previousGeneratedLine) {
              next += ";";
              previousGeneratedLine++;
            }
          } else {
            if (i > 0) {
              if (!util.compareByGeneratedPositionsInflated(mapping, mappings[i - 1])) {
                continue;
              }
              next += ",";
            }
          }
          next += base64VLQ.encode(mapping.generatedColumn - previousGeneratedColumn);
          previousGeneratedColumn = mapping.generatedColumn;
          if (mapping.source != null) {
            sourceIdx = this._sources.indexOf(mapping.source);
            next += base64VLQ.encode(sourceIdx - previousSource);
            previousSource = sourceIdx;
            next += base64VLQ.encode(mapping.originalLine - 1 - previousOriginalLine);
            previousOriginalLine = mapping.originalLine - 1;
            next += base64VLQ.encode(mapping.originalColumn - previousOriginalColumn);
            previousOriginalColumn = mapping.originalColumn;
            if (mapping.name != null) {
              nameIdx = this._names.indexOf(mapping.name);
              next += base64VLQ.encode(nameIdx - previousName);
              previousName = nameIdx;
            }
          }
          result += next;
        }
        return result;
      };
      SourceMapGenerator.prototype._generateSourcesContent = function SourceMapGenerator_generateSourcesContent(aSources, aSourceRoot) {
        return aSources.map(function(source) {
          if (!this._sourcesContents) {
            return null;
          }
          if (aSourceRoot != null) {
            source = util.relative(aSourceRoot, source);
          }
          var key = util.toSetString(source);
          return Object.prototype.hasOwnProperty.call(this._sourcesContents, key) ? this._sourcesContents[key] : null;
        }, this);
      };
      SourceMapGenerator.prototype.toJSON = function SourceMapGenerator_toJSON() {
        var map = {
          version: this._version,
          sources: this._sources.toArray(),
          names: this._names.toArray(),
          mappings: this._serializeMappings()
        };
        if (this._file != null) {
          map.file = this._file;
        }
        if (this._sourceRoot != null) {
          map.sourceRoot = this._sourceRoot;
        }
        if (this._sourcesContents) {
          map.sourcesContent = this._generateSourcesContent(map.sources, map.sourceRoot);
        }
        return map;
      };
      SourceMapGenerator.prototype.toString = function SourceMapGenerator_toString() {
        return JSON.stringify(this.toJSON());
      };
      exports.SourceMapGenerator = SourceMapGenerator;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/source-map-npm-0.6.1-1a3621db16-9.zip/node_modules/source-map/lib/binary-search.js
  var require_binary_search = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/source-map-npm-0.6.1-1a3621db16-9.zip/node_modules/source-map/lib/binary-search.js"(exports) {
      exports.GREATEST_LOWER_BOUND = 1;
      exports.LEAST_UPPER_BOUND = 2;
      function recursiveSearch(aLow, aHigh, aNeedle, aHaystack, aCompare, aBias) {
        var mid = Math.floor((aHigh - aLow) / 2) + aLow;
        var cmp = aCompare(aNeedle, aHaystack[mid], true);
        if (cmp === 0) {
          return mid;
        } else if (cmp > 0) {
          if (aHigh - mid > 1) {
            return recursiveSearch(mid, aHigh, aNeedle, aHaystack, aCompare, aBias);
          }
          if (aBias == exports.LEAST_UPPER_BOUND) {
            return aHigh < aHaystack.length ? aHigh : -1;
          } else {
            return mid;
          }
        } else {
          if (mid - aLow > 1) {
            return recursiveSearch(aLow, mid, aNeedle, aHaystack, aCompare, aBias);
          }
          if (aBias == exports.LEAST_UPPER_BOUND) {
            return mid;
          } else {
            return aLow < 0 ? -1 : aLow;
          }
        }
      }
      exports.search = function search(aNeedle, aHaystack, aCompare, aBias) {
        if (aHaystack.length === 0) {
          return -1;
        }
        var index = recursiveSearch(-1, aHaystack.length, aNeedle, aHaystack, aCompare, aBias || exports.GREATEST_LOWER_BOUND);
        if (index < 0) {
          return -1;
        }
        while (index - 1 >= 0) {
          if (aCompare(aHaystack[index], aHaystack[index - 1], true) !== 0) {
            break;
          }
          --index;
        }
        return index;
      };
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/source-map-npm-0.6.1-1a3621db16-9.zip/node_modules/source-map/lib/quick-sort.js
  var require_quick_sort = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/source-map-npm-0.6.1-1a3621db16-9.zip/node_modules/source-map/lib/quick-sort.js"(exports) {
      function swap(ary, x, y) {
        var temp = ary[x];
        ary[x] = ary[y];
        ary[y] = temp;
      }
      function randomIntInRange(low, high) {
        return Math.round(low + Math.random() * (high - low));
      }
      function doQuickSort(ary, comparator, p, r) {
        if (p < r) {
          var pivotIndex = randomIntInRange(p, r);
          var i = p - 1;
          swap(ary, pivotIndex, r);
          var pivot = ary[r];
          for (var j = p; j < r; j++) {
            if (comparator(ary[j], pivot) <= 0) {
              i += 1;
              swap(ary, i, j);
            }
          }
          swap(ary, i + 1, j);
          var q = i + 1;
          doQuickSort(ary, comparator, p, q - 1);
          doQuickSort(ary, comparator, q + 1, r);
        }
      }
      exports.quickSort = function(ary, comparator) {
        doQuickSort(ary, comparator, 0, ary.length - 1);
      };
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/source-map-npm-0.6.1-1a3621db16-9.zip/node_modules/source-map/lib/source-map-consumer.js
  var require_source_map_consumer = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/source-map-npm-0.6.1-1a3621db16-9.zip/node_modules/source-map/lib/source-map-consumer.js"(exports) {
      var util = require_util();
      var binarySearch = require_binary_search();
      var ArraySet = require_array_set().ArraySet;
      var base64VLQ = require_base64_vlq();
      var quickSort = require_quick_sort().quickSort;
      function SourceMapConsumer(aSourceMap, aSourceMapURL) {
        var sourceMap = aSourceMap;
        if (typeof aSourceMap === "string") {
          sourceMap = util.parseSourceMapInput(aSourceMap);
        }
        return sourceMap.sections != null ? new IndexedSourceMapConsumer(sourceMap, aSourceMapURL) : new BasicSourceMapConsumer(sourceMap, aSourceMapURL);
      }
      SourceMapConsumer.fromSourceMap = function(aSourceMap, aSourceMapURL) {
        return BasicSourceMapConsumer.fromSourceMap(aSourceMap, aSourceMapURL);
      };
      SourceMapConsumer.prototype._version = 3;
      SourceMapConsumer.prototype.__generatedMappings = null;
      Object.defineProperty(SourceMapConsumer.prototype, "_generatedMappings", {
        configurable: true,
        enumerable: true,
        get: function() {
          if (!this.__generatedMappings) {
            this._parseMappings(this._mappings, this.sourceRoot);
          }
          return this.__generatedMappings;
        }
      });
      SourceMapConsumer.prototype.__originalMappings = null;
      Object.defineProperty(SourceMapConsumer.prototype, "_originalMappings", {
        configurable: true,
        enumerable: true,
        get: function() {
          if (!this.__originalMappings) {
            this._parseMappings(this._mappings, this.sourceRoot);
          }
          return this.__originalMappings;
        }
      });
      SourceMapConsumer.prototype._charIsMappingSeparator = function SourceMapConsumer_charIsMappingSeparator(aStr, index) {
        var c = aStr.charAt(index);
        return c === ";" || c === ",";
      };
      SourceMapConsumer.prototype._parseMappings = function SourceMapConsumer_parseMappings(aStr, aSourceRoot) {
        throw new Error("Subclasses must implement _parseMappings");
      };
      SourceMapConsumer.GENERATED_ORDER = 1;
      SourceMapConsumer.ORIGINAL_ORDER = 2;
      SourceMapConsumer.GREATEST_LOWER_BOUND = 1;
      SourceMapConsumer.LEAST_UPPER_BOUND = 2;
      SourceMapConsumer.prototype.eachMapping = function SourceMapConsumer_eachMapping(aCallback, aContext, aOrder) {
        var context = aContext || null;
        var order = aOrder || SourceMapConsumer.GENERATED_ORDER;
        var mappings;
        switch (order) {
          case SourceMapConsumer.GENERATED_ORDER:
            mappings = this._generatedMappings;
            break;
          case SourceMapConsumer.ORIGINAL_ORDER:
            mappings = this._originalMappings;
            break;
          default:
            throw new Error("Unknown order of iteration.");
        }
        var sourceRoot = this.sourceRoot;
        mappings.map(function(mapping) {
          var source = mapping.source === null ? null : this._sources.at(mapping.source);
          source = util.computeSourceURL(sourceRoot, source, this._sourceMapURL);
          return {
            source,
            generatedLine: mapping.generatedLine,
            generatedColumn: mapping.generatedColumn,
            originalLine: mapping.originalLine,
            originalColumn: mapping.originalColumn,
            name: mapping.name === null ? null : this._names.at(mapping.name)
          };
        }, this).forEach(aCallback, context);
      };
      SourceMapConsumer.prototype.allGeneratedPositionsFor = function SourceMapConsumer_allGeneratedPositionsFor(aArgs) {
        var line = util.getArg(aArgs, "line");
        var needle = {
          source: util.getArg(aArgs, "source"),
          originalLine: line,
          originalColumn: util.getArg(aArgs, "column", 0)
        };
        needle.source = this._findSourceIndex(needle.source);
        if (needle.source < 0) {
          return [];
        }
        var mappings = [];
        var index = this._findMapping(needle, this._originalMappings, "originalLine", "originalColumn", util.compareByOriginalPositions, binarySearch.LEAST_UPPER_BOUND);
        if (index >= 0) {
          var mapping = this._originalMappings[index];
          if (aArgs.column === void 0) {
            var originalLine = mapping.originalLine;
            while (mapping && mapping.originalLine === originalLine) {
              mappings.push({
                line: util.getArg(mapping, "generatedLine", null),
                column: util.getArg(mapping, "generatedColumn", null),
                lastColumn: util.getArg(mapping, "lastGeneratedColumn", null)
              });
              mapping = this._originalMappings[++index];
            }
          } else {
            var originalColumn = mapping.originalColumn;
            while (mapping && mapping.originalLine === line && mapping.originalColumn == originalColumn) {
              mappings.push({
                line: util.getArg(mapping, "generatedLine", null),
                column: util.getArg(mapping, "generatedColumn", null),
                lastColumn: util.getArg(mapping, "lastGeneratedColumn", null)
              });
              mapping = this._originalMappings[++index];
            }
          }
        }
        return mappings;
      };
      exports.SourceMapConsumer = SourceMapConsumer;
      function BasicSourceMapConsumer(aSourceMap, aSourceMapURL) {
        var sourceMap = aSourceMap;
        if (typeof aSourceMap === "string") {
          sourceMap = util.parseSourceMapInput(aSourceMap);
        }
        var version = util.getArg(sourceMap, "version");
        var sources = util.getArg(sourceMap, "sources");
        var names = util.getArg(sourceMap, "names", []);
        var sourceRoot = util.getArg(sourceMap, "sourceRoot", null);
        var sourcesContent = util.getArg(sourceMap, "sourcesContent", null);
        var mappings = util.getArg(sourceMap, "mappings");
        var file = util.getArg(sourceMap, "file", null);
        if (version != this._version) {
          throw new Error("Unsupported version: " + version);
        }
        if (sourceRoot) {
          sourceRoot = util.normalize(sourceRoot);
        }
        sources = sources.map(String).map(util.normalize).map(function(source) {
          return sourceRoot && util.isAbsolute(sourceRoot) && util.isAbsolute(source) ? util.relative(sourceRoot, source) : source;
        });
        this._names = ArraySet.fromArray(names.map(String), true);
        this._sources = ArraySet.fromArray(sources, true);
        this._absoluteSources = this._sources.toArray().map(function(s) {
          return util.computeSourceURL(sourceRoot, s, aSourceMapURL);
        });
        this.sourceRoot = sourceRoot;
        this.sourcesContent = sourcesContent;
        this._mappings = mappings;
        this._sourceMapURL = aSourceMapURL;
        this.file = file;
      }
      BasicSourceMapConsumer.prototype = Object.create(SourceMapConsumer.prototype);
      BasicSourceMapConsumer.prototype.consumer = SourceMapConsumer;
      BasicSourceMapConsumer.prototype._findSourceIndex = function(aSource) {
        var relativeSource = aSource;
        if (this.sourceRoot != null) {
          relativeSource = util.relative(this.sourceRoot, relativeSource);
        }
        if (this._sources.has(relativeSource)) {
          return this._sources.indexOf(relativeSource);
        }
        var i;
        for (i = 0; i < this._absoluteSources.length; ++i) {
          if (this._absoluteSources[i] == aSource) {
            return i;
          }
        }
        return -1;
      };
      BasicSourceMapConsumer.fromSourceMap = function SourceMapConsumer_fromSourceMap(aSourceMap, aSourceMapURL) {
        var smc = Object.create(BasicSourceMapConsumer.prototype);
        var names = smc._names = ArraySet.fromArray(aSourceMap._names.toArray(), true);
        var sources = smc._sources = ArraySet.fromArray(aSourceMap._sources.toArray(), true);
        smc.sourceRoot = aSourceMap._sourceRoot;
        smc.sourcesContent = aSourceMap._generateSourcesContent(smc._sources.toArray(), smc.sourceRoot);
        smc.file = aSourceMap._file;
        smc._sourceMapURL = aSourceMapURL;
        smc._absoluteSources = smc._sources.toArray().map(function(s) {
          return util.computeSourceURL(smc.sourceRoot, s, aSourceMapURL);
        });
        var generatedMappings = aSourceMap._mappings.toArray().slice();
        var destGeneratedMappings = smc.__generatedMappings = [];
        var destOriginalMappings = smc.__originalMappings = [];
        for (var i = 0, length = generatedMappings.length; i < length; i++) {
          var srcMapping = generatedMappings[i];
          var destMapping = new Mapping();
          destMapping.generatedLine = srcMapping.generatedLine;
          destMapping.generatedColumn = srcMapping.generatedColumn;
          if (srcMapping.source) {
            destMapping.source = sources.indexOf(srcMapping.source);
            destMapping.originalLine = srcMapping.originalLine;
            destMapping.originalColumn = srcMapping.originalColumn;
            if (srcMapping.name) {
              destMapping.name = names.indexOf(srcMapping.name);
            }
            destOriginalMappings.push(destMapping);
          }
          destGeneratedMappings.push(destMapping);
        }
        quickSort(smc.__originalMappings, util.compareByOriginalPositions);
        return smc;
      };
      BasicSourceMapConsumer.prototype._version = 3;
      Object.defineProperty(BasicSourceMapConsumer.prototype, "sources", {
        get: function() {
          return this._absoluteSources.slice();
        }
      });
      function Mapping() {
        this.generatedLine = 0;
        this.generatedColumn = 0;
        this.source = null;
        this.originalLine = null;
        this.originalColumn = null;
        this.name = null;
      }
      BasicSourceMapConsumer.prototype._parseMappings = function SourceMapConsumer_parseMappings(aStr, aSourceRoot) {
        var generatedLine = 1;
        var previousGeneratedColumn = 0;
        var previousOriginalLine = 0;
        var previousOriginalColumn = 0;
        var previousSource = 0;
        var previousName = 0;
        var length = aStr.length;
        var index = 0;
        var cachedSegments = {};
        var temp = {};
        var originalMappings = [];
        var generatedMappings = [];
        var mapping, str, segment, end, value;
        while (index < length) {
          if (aStr.charAt(index) === ";") {
            generatedLine++;
            index++;
            previousGeneratedColumn = 0;
          } else if (aStr.charAt(index) === ",") {
            index++;
          } else {
            mapping = new Mapping();
            mapping.generatedLine = generatedLine;
            for (end = index; end < length; end++) {
              if (this._charIsMappingSeparator(aStr, end)) {
                break;
              }
            }
            str = aStr.slice(index, end);
            segment = cachedSegments[str];
            if (segment) {
              index += str.length;
            } else {
              segment = [];
              while (index < end) {
                base64VLQ.decode(aStr, index, temp);
                value = temp.value;
                index = temp.rest;
                segment.push(value);
              }
              if (segment.length === 2) {
                throw new Error("Found a source, but no line and column");
              }
              if (segment.length === 3) {
                throw new Error("Found a source and line, but no column");
              }
              cachedSegments[str] = segment;
            }
            mapping.generatedColumn = previousGeneratedColumn + segment[0];
            previousGeneratedColumn = mapping.generatedColumn;
            if (segment.length > 1) {
              mapping.source = previousSource + segment[1];
              previousSource += segment[1];
              mapping.originalLine = previousOriginalLine + segment[2];
              previousOriginalLine = mapping.originalLine;
              mapping.originalLine += 1;
              mapping.originalColumn = previousOriginalColumn + segment[3];
              previousOriginalColumn = mapping.originalColumn;
              if (segment.length > 4) {
                mapping.name = previousName + segment[4];
                previousName += segment[4];
              }
            }
            generatedMappings.push(mapping);
            if (typeof mapping.originalLine === "number") {
              originalMappings.push(mapping);
            }
          }
        }
        quickSort(generatedMappings, util.compareByGeneratedPositionsDeflated);
        this.__generatedMappings = generatedMappings;
        quickSort(originalMappings, util.compareByOriginalPositions);
        this.__originalMappings = originalMappings;
      };
      BasicSourceMapConsumer.prototype._findMapping = function SourceMapConsumer_findMapping(aNeedle, aMappings, aLineName, aColumnName, aComparator, aBias) {
        if (aNeedle[aLineName] <= 0) {
          throw new TypeError("Line must be greater than or equal to 1, got " + aNeedle[aLineName]);
        }
        if (aNeedle[aColumnName] < 0) {
          throw new TypeError("Column must be greater than or equal to 0, got " + aNeedle[aColumnName]);
        }
        return binarySearch.search(aNeedle, aMappings, aComparator, aBias);
      };
      BasicSourceMapConsumer.prototype.computeColumnSpans = function SourceMapConsumer_computeColumnSpans() {
        for (var index = 0; index < this._generatedMappings.length; ++index) {
          var mapping = this._generatedMappings[index];
          if (index + 1 < this._generatedMappings.length) {
            var nextMapping = this._generatedMappings[index + 1];
            if (mapping.generatedLine === nextMapping.generatedLine) {
              mapping.lastGeneratedColumn = nextMapping.generatedColumn - 1;
              continue;
            }
          }
          mapping.lastGeneratedColumn = Infinity;
        }
      };
      BasicSourceMapConsumer.prototype.originalPositionFor = function SourceMapConsumer_originalPositionFor(aArgs) {
        var needle = {
          generatedLine: util.getArg(aArgs, "line"),
          generatedColumn: util.getArg(aArgs, "column")
        };
        var index = this._findMapping(needle, this._generatedMappings, "generatedLine", "generatedColumn", util.compareByGeneratedPositionsDeflated, util.getArg(aArgs, "bias", SourceMapConsumer.GREATEST_LOWER_BOUND));
        if (index >= 0) {
          var mapping = this._generatedMappings[index];
          if (mapping.generatedLine === needle.generatedLine) {
            var source = util.getArg(mapping, "source", null);
            if (source !== null) {
              source = this._sources.at(source);
              source = util.computeSourceURL(this.sourceRoot, source, this._sourceMapURL);
            }
            var name = util.getArg(mapping, "name", null);
            if (name !== null) {
              name = this._names.at(name);
            }
            return {
              source,
              line: util.getArg(mapping, "originalLine", null),
              column: util.getArg(mapping, "originalColumn", null),
              name
            };
          }
        }
        return {
          source: null,
          line: null,
          column: null,
          name: null
        };
      };
      BasicSourceMapConsumer.prototype.hasContentsOfAllSources = function BasicSourceMapConsumer_hasContentsOfAllSources() {
        if (!this.sourcesContent) {
          return false;
        }
        return this.sourcesContent.length >= this._sources.size() && !this.sourcesContent.some(function(sc) {
          return sc == null;
        });
      };
      BasicSourceMapConsumer.prototype.sourceContentFor = function SourceMapConsumer_sourceContentFor(aSource, nullOnMissing) {
        if (!this.sourcesContent) {
          return null;
        }
        var index = this._findSourceIndex(aSource);
        if (index >= 0) {
          return this.sourcesContent[index];
        }
        var relativeSource = aSource;
        if (this.sourceRoot != null) {
          relativeSource = util.relative(this.sourceRoot, relativeSource);
        }
        var url;
        if (this.sourceRoot != null && (url = util.urlParse(this.sourceRoot))) {
          var fileUriAbsPath = relativeSource.replace(/^file:\/\//, "");
          if (url.scheme == "file" && this._sources.has(fileUriAbsPath)) {
            return this.sourcesContent[this._sources.indexOf(fileUriAbsPath)];
          }
          if ((!url.path || url.path == "/") && this._sources.has("/" + relativeSource)) {
            return this.sourcesContent[this._sources.indexOf("/" + relativeSource)];
          }
        }
        if (nullOnMissing) {
          return null;
        } else {
          throw new Error('"' + relativeSource + '" is not in the SourceMap.');
        }
      };
      BasicSourceMapConsumer.prototype.generatedPositionFor = function SourceMapConsumer_generatedPositionFor(aArgs) {
        var source = util.getArg(aArgs, "source");
        source = this._findSourceIndex(source);
        if (source < 0) {
          return {
            line: null,
            column: null,
            lastColumn: null
          };
        }
        var needle = {
          source,
          originalLine: util.getArg(aArgs, "line"),
          originalColumn: util.getArg(aArgs, "column")
        };
        var index = this._findMapping(needle, this._originalMappings, "originalLine", "originalColumn", util.compareByOriginalPositions, util.getArg(aArgs, "bias", SourceMapConsumer.GREATEST_LOWER_BOUND));
        if (index >= 0) {
          var mapping = this._originalMappings[index];
          if (mapping.source === needle.source) {
            return {
              line: util.getArg(mapping, "generatedLine", null),
              column: util.getArg(mapping, "generatedColumn", null),
              lastColumn: util.getArg(mapping, "lastGeneratedColumn", null)
            };
          }
        }
        return {
          line: null,
          column: null,
          lastColumn: null
        };
      };
      exports.BasicSourceMapConsumer = BasicSourceMapConsumer;
      function IndexedSourceMapConsumer(aSourceMap, aSourceMapURL) {
        var sourceMap = aSourceMap;
        if (typeof aSourceMap === "string") {
          sourceMap = util.parseSourceMapInput(aSourceMap);
        }
        var version = util.getArg(sourceMap, "version");
        var sections = util.getArg(sourceMap, "sections");
        if (version != this._version) {
          throw new Error("Unsupported version: " + version);
        }
        this._sources = new ArraySet();
        this._names = new ArraySet();
        var lastOffset = {
          line: -1,
          column: 0
        };
        this._sections = sections.map(function(s) {
          if (s.url) {
            throw new Error("Support for url field in sections not implemented.");
          }
          var offset = util.getArg(s, "offset");
          var offsetLine = util.getArg(offset, "line");
          var offsetColumn = util.getArg(offset, "column");
          if (offsetLine < lastOffset.line || offsetLine === lastOffset.line && offsetColumn < lastOffset.column) {
            throw new Error("Section offsets must be ordered and non-overlapping.");
          }
          lastOffset = offset;
          return {
            generatedOffset: {
              generatedLine: offsetLine + 1,
              generatedColumn: offsetColumn + 1
            },
            consumer: new SourceMapConsumer(util.getArg(s, "map"), aSourceMapURL)
          };
        });
      }
      IndexedSourceMapConsumer.prototype = Object.create(SourceMapConsumer.prototype);
      IndexedSourceMapConsumer.prototype.constructor = SourceMapConsumer;
      IndexedSourceMapConsumer.prototype._version = 3;
      Object.defineProperty(IndexedSourceMapConsumer.prototype, "sources", {
        get: function() {
          var sources = [];
          for (var i = 0; i < this._sections.length; i++) {
            for (var j = 0; j < this._sections[i].consumer.sources.length; j++) {
              sources.push(this._sections[i].consumer.sources[j]);
            }
          }
          return sources;
        }
      });
      IndexedSourceMapConsumer.prototype.originalPositionFor = function IndexedSourceMapConsumer_originalPositionFor(aArgs) {
        var needle = {
          generatedLine: util.getArg(aArgs, "line"),
          generatedColumn: util.getArg(aArgs, "column")
        };
        var sectionIndex = binarySearch.search(needle, this._sections, function(needle2, section2) {
          var cmp = needle2.generatedLine - section2.generatedOffset.generatedLine;
          if (cmp) {
            return cmp;
          }
          return needle2.generatedColumn - section2.generatedOffset.generatedColumn;
        });
        var section = this._sections[sectionIndex];
        if (!section) {
          return {
            source: null,
            line: null,
            column: null,
            name: null
          };
        }
        return section.consumer.originalPositionFor({
          line: needle.generatedLine - (section.generatedOffset.generatedLine - 1),
          column: needle.generatedColumn - (section.generatedOffset.generatedLine === needle.generatedLine ? section.generatedOffset.generatedColumn - 1 : 0),
          bias: aArgs.bias
        });
      };
      IndexedSourceMapConsumer.prototype.hasContentsOfAllSources = function IndexedSourceMapConsumer_hasContentsOfAllSources() {
        return this._sections.every(function(s) {
          return s.consumer.hasContentsOfAllSources();
        });
      };
      IndexedSourceMapConsumer.prototype.sourceContentFor = function IndexedSourceMapConsumer_sourceContentFor(aSource, nullOnMissing) {
        for (var i = 0; i < this._sections.length; i++) {
          var section = this._sections[i];
          var content = section.consumer.sourceContentFor(aSource, true);
          if (content) {
            return content;
          }
        }
        if (nullOnMissing) {
          return null;
        } else {
          throw new Error('"' + aSource + '" is not in the SourceMap.');
        }
      };
      IndexedSourceMapConsumer.prototype.generatedPositionFor = function IndexedSourceMapConsumer_generatedPositionFor(aArgs) {
        for (var i = 0; i < this._sections.length; i++) {
          var section = this._sections[i];
          if (section.consumer._findSourceIndex(util.getArg(aArgs, "source")) === -1) {
            continue;
          }
          var generatedPosition = section.consumer.generatedPositionFor(aArgs);
          if (generatedPosition) {
            var ret = {
              line: generatedPosition.line + (section.generatedOffset.generatedLine - 1),
              column: generatedPosition.column + (section.generatedOffset.generatedLine === generatedPosition.line ? section.generatedOffset.generatedColumn - 1 : 0)
            };
            return ret;
          }
        }
        return {
          line: null,
          column: null
        };
      };
      IndexedSourceMapConsumer.prototype._parseMappings = function IndexedSourceMapConsumer_parseMappings(aStr, aSourceRoot) {
        this.__generatedMappings = [];
        this.__originalMappings = [];
        for (var i = 0; i < this._sections.length; i++) {
          var section = this._sections[i];
          var sectionMappings = section.consumer._generatedMappings;
          for (var j = 0; j < sectionMappings.length; j++) {
            var mapping = sectionMappings[j];
            var source = section.consumer._sources.at(mapping.source);
            source = util.computeSourceURL(section.consumer.sourceRoot, source, this._sourceMapURL);
            this._sources.add(source);
            source = this._sources.indexOf(source);
            var name = null;
            if (mapping.name) {
              name = section.consumer._names.at(mapping.name);
              this._names.add(name);
              name = this._names.indexOf(name);
            }
            var adjustedMapping = {
              source,
              generatedLine: mapping.generatedLine + (section.generatedOffset.generatedLine - 1),
              generatedColumn: mapping.generatedColumn + (section.generatedOffset.generatedLine === mapping.generatedLine ? section.generatedOffset.generatedColumn - 1 : 0),
              originalLine: mapping.originalLine,
              originalColumn: mapping.originalColumn,
              name
            };
            this.__generatedMappings.push(adjustedMapping);
            if (typeof adjustedMapping.originalLine === "number") {
              this.__originalMappings.push(adjustedMapping);
            }
          }
        }
        quickSort(this.__generatedMappings, util.compareByGeneratedPositionsDeflated);
        quickSort(this.__originalMappings, util.compareByOriginalPositions);
      };
      exports.IndexedSourceMapConsumer = IndexedSourceMapConsumer;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/source-map-npm-0.6.1-1a3621db16-9.zip/node_modules/source-map/lib/source-node.js
  var require_source_node = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/source-map-npm-0.6.1-1a3621db16-9.zip/node_modules/source-map/lib/source-node.js"(exports) {
      var SourceMapGenerator = require_source_map_generator().SourceMapGenerator;
      var util = require_util();
      var REGEX_NEWLINE = /(\r?\n)/;
      var NEWLINE_CODE = 10;
      var isSourceNode = "$$$isSourceNode$$$";
      function SourceNode(aLine, aColumn, aSource, aChunks, aName) {
        this.children = [];
        this.sourceContents = {};
        this.line = aLine == null ? null : aLine;
        this.column = aColumn == null ? null : aColumn;
        this.source = aSource == null ? null : aSource;
        this.name = aName == null ? null : aName;
        this[isSourceNode] = true;
        if (aChunks != null)
          this.add(aChunks);
      }
      SourceNode.fromStringWithSourceMap = function SourceNode_fromStringWithSourceMap(aGeneratedCode, aSourceMapConsumer, aRelativePath) {
        var node = new SourceNode();
        var remainingLines = aGeneratedCode.split(REGEX_NEWLINE);
        var remainingLinesIndex = 0;
        var shiftNextLine = function() {
          var lineContents = getNextLine();
          var newLine = getNextLine() || "";
          return lineContents + newLine;
          function getNextLine() {
            return remainingLinesIndex < remainingLines.length ? remainingLines[remainingLinesIndex++] : void 0;
          }
        };
        var lastGeneratedLine = 1, lastGeneratedColumn = 0;
        var lastMapping = null;
        aSourceMapConsumer.eachMapping(function(mapping) {
          if (lastMapping !== null) {
            if (lastGeneratedLine < mapping.generatedLine) {
              addMappingWithCode(lastMapping, shiftNextLine());
              lastGeneratedLine++;
              lastGeneratedColumn = 0;
            } else {
              var nextLine = remainingLines[remainingLinesIndex] || "";
              var code = nextLine.substr(0, mapping.generatedColumn - lastGeneratedColumn);
              remainingLines[remainingLinesIndex] = nextLine.substr(mapping.generatedColumn - lastGeneratedColumn);
              lastGeneratedColumn = mapping.generatedColumn;
              addMappingWithCode(lastMapping, code);
              lastMapping = mapping;
              return;
            }
          }
          while (lastGeneratedLine < mapping.generatedLine) {
            node.add(shiftNextLine());
            lastGeneratedLine++;
          }
          if (lastGeneratedColumn < mapping.generatedColumn) {
            var nextLine = remainingLines[remainingLinesIndex] || "";
            node.add(nextLine.substr(0, mapping.generatedColumn));
            remainingLines[remainingLinesIndex] = nextLine.substr(mapping.generatedColumn);
            lastGeneratedColumn = mapping.generatedColumn;
          }
          lastMapping = mapping;
        }, this);
        if (remainingLinesIndex < remainingLines.length) {
          if (lastMapping) {
            addMappingWithCode(lastMapping, shiftNextLine());
          }
          node.add(remainingLines.splice(remainingLinesIndex).join(""));
        }
        aSourceMapConsumer.sources.forEach(function(sourceFile) {
          var content = aSourceMapConsumer.sourceContentFor(sourceFile);
          if (content != null) {
            if (aRelativePath != null) {
              sourceFile = util.join(aRelativePath, sourceFile);
            }
            node.setSourceContent(sourceFile, content);
          }
        });
        return node;
        function addMappingWithCode(mapping, code) {
          if (mapping === null || mapping.source === void 0) {
            node.add(code);
          } else {
            var source = aRelativePath ? util.join(aRelativePath, mapping.source) : mapping.source;
            node.add(new SourceNode(mapping.originalLine, mapping.originalColumn, source, code, mapping.name));
          }
        }
      };
      SourceNode.prototype.add = function SourceNode_add(aChunk) {
        if (Array.isArray(aChunk)) {
          aChunk.forEach(function(chunk) {
            this.add(chunk);
          }, this);
        } else if (aChunk[isSourceNode] || typeof aChunk === "string") {
          if (aChunk) {
            this.children.push(aChunk);
          }
        } else {
          throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got " + aChunk);
        }
        return this;
      };
      SourceNode.prototype.prepend = function SourceNode_prepend(aChunk) {
        if (Array.isArray(aChunk)) {
          for (var i = aChunk.length - 1; i >= 0; i--) {
            this.prepend(aChunk[i]);
          }
        } else if (aChunk[isSourceNode] || typeof aChunk === "string") {
          this.children.unshift(aChunk);
        } else {
          throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got " + aChunk);
        }
        return this;
      };
      SourceNode.prototype.walk = function SourceNode_walk(aFn) {
        var chunk;
        for (var i = 0, len = this.children.length; i < len; i++) {
          chunk = this.children[i];
          if (chunk[isSourceNode]) {
            chunk.walk(aFn);
          } else {
            if (chunk !== "") {
              aFn(chunk, {
                source: this.source,
                line: this.line,
                column: this.column,
                name: this.name
              });
            }
          }
        }
      };
      SourceNode.prototype.join = function SourceNode_join(aSep) {
        var newChildren;
        var i;
        var len = this.children.length;
        if (len > 0) {
          newChildren = [];
          for (i = 0; i < len - 1; i++) {
            newChildren.push(this.children[i]);
            newChildren.push(aSep);
          }
          newChildren.push(this.children[i]);
          this.children = newChildren;
        }
        return this;
      };
      SourceNode.prototype.replaceRight = function SourceNode_replaceRight(aPattern, aReplacement) {
        var lastChild = this.children[this.children.length - 1];
        if (lastChild[isSourceNode]) {
          lastChild.replaceRight(aPattern, aReplacement);
        } else if (typeof lastChild === "string") {
          this.children[this.children.length - 1] = lastChild.replace(aPattern, aReplacement);
        } else {
          this.children.push("".replace(aPattern, aReplacement));
        }
        return this;
      };
      SourceNode.prototype.setSourceContent = function SourceNode_setSourceContent(aSourceFile, aSourceContent) {
        this.sourceContents[util.toSetString(aSourceFile)] = aSourceContent;
      };
      SourceNode.prototype.walkSourceContents = function SourceNode_walkSourceContents(aFn) {
        for (var i = 0, len = this.children.length; i < len; i++) {
          if (this.children[i][isSourceNode]) {
            this.children[i].walkSourceContents(aFn);
          }
        }
        var sources = Object.keys(this.sourceContents);
        for (var i = 0, len = sources.length; i < len; i++) {
          aFn(util.fromSetString(sources[i]), this.sourceContents[sources[i]]);
        }
      };
      SourceNode.prototype.toString = function SourceNode_toString() {
        var str = "";
        this.walk(function(chunk) {
          str += chunk;
        });
        return str;
      };
      SourceNode.prototype.toStringWithSourceMap = function SourceNode_toStringWithSourceMap(aArgs) {
        var generated = {
          code: "",
          line: 1,
          column: 0
        };
        var map = new SourceMapGenerator(aArgs);
        var sourceMappingActive = false;
        var lastOriginalSource = null;
        var lastOriginalLine = null;
        var lastOriginalColumn = null;
        var lastOriginalName = null;
        this.walk(function(chunk, original) {
          generated.code += chunk;
          if (original.source !== null && original.line !== null && original.column !== null) {
            if (lastOriginalSource !== original.source || lastOriginalLine !== original.line || lastOriginalColumn !== original.column || lastOriginalName !== original.name) {
              map.addMapping({
                source: original.source,
                original: {
                  line: original.line,
                  column: original.column
                },
                generated: {
                  line: generated.line,
                  column: generated.column
                },
                name: original.name
              });
            }
            lastOriginalSource = original.source;
            lastOriginalLine = original.line;
            lastOriginalColumn = original.column;
            lastOriginalName = original.name;
            sourceMappingActive = true;
          } else if (sourceMappingActive) {
            map.addMapping({
              generated: {
                line: generated.line,
                column: generated.column
              }
            });
            lastOriginalSource = null;
            sourceMappingActive = false;
          }
          for (var idx = 0, length = chunk.length; idx < length; idx++) {
            if (chunk.charCodeAt(idx) === NEWLINE_CODE) {
              generated.line++;
              generated.column = 0;
              if (idx + 1 === length) {
                lastOriginalSource = null;
                sourceMappingActive = false;
              } else if (sourceMappingActive) {
                map.addMapping({
                  source: original.source,
                  original: {
                    line: original.line,
                    column: original.column
                  },
                  generated: {
                    line: generated.line,
                    column: generated.column
                  },
                  name: original.name
                });
              }
            } else {
              generated.column++;
            }
          }
        });
        this.walkSourceContents(function(sourceFile, sourceContent) {
          map.setSourceContent(sourceFile, sourceContent);
        });
        return {code: generated.code, map};
      };
      exports.SourceNode = SourceNode;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/source-map-npm-0.6.1-1a3621db16-9.zip/node_modules/source-map/source-map.js
  var require_source_map = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/source-map-npm-0.6.1-1a3621db16-9.zip/node_modules/source-map/source-map.js"(exports) {
      exports.SourceMapGenerator = require_source_map_generator().SourceMapGenerator;
      exports.SourceMapConsumer = require_source_map_consumer().SourceMapConsumer;
      exports.SourceNode = require_source_node().SourceNode;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/handlebars-npm-4.7.7-a9ccfabf80-9.zip/node_modules/handlebars/dist/cjs/handlebars/compiler/code-gen.js
  var require_code_gen = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/handlebars-npm-4.7.7-a9ccfabf80-9.zip/node_modules/handlebars/dist/cjs/handlebars/compiler/code-gen.js"(exports, module) {
      "use strict";
      exports.__esModule = true;
      var _utils = require_utils();
      var SourceNode = void 0;
      try {
        if (typeof define !== "function" || !define.amd) {
          SourceMap = require_source_map();
          SourceNode = SourceMap.SourceNode;
        }
      } catch (err) {
      }
      var SourceMap;
      if (!SourceNode) {
        SourceNode = function(line, column, srcFile, chunks) {
          this.src = "";
          if (chunks) {
            this.add(chunks);
          }
        };
        SourceNode.prototype = {
          add: function add(chunks) {
            if (_utils.isArray(chunks)) {
              chunks = chunks.join("");
            }
            this.src += chunks;
          },
          prepend: function prepend(chunks) {
            if (_utils.isArray(chunks)) {
              chunks = chunks.join("");
            }
            this.src = chunks + this.src;
          },
          toStringWithSourceMap: function toStringWithSourceMap() {
            return {code: this.toString()};
          },
          toString: function toString() {
            return this.src;
          }
        };
      }
      function castChunk(chunk, codeGen, loc) {
        if (_utils.isArray(chunk)) {
          var ret = [];
          for (var i = 0, len = chunk.length; i < len; i++) {
            ret.push(codeGen.wrap(chunk[i], loc));
          }
          return ret;
        } else if (typeof chunk === "boolean" || typeof chunk === "number") {
          return chunk + "";
        }
        return chunk;
      }
      function CodeGen(srcFile) {
        this.srcFile = srcFile;
        this.source = [];
      }
      CodeGen.prototype = {
        isEmpty: function isEmpty() {
          return !this.source.length;
        },
        prepend: function prepend(source, loc) {
          this.source.unshift(this.wrap(source, loc));
        },
        push: function push(source, loc) {
          this.source.push(this.wrap(source, loc));
        },
        merge: function merge() {
          var source = this.empty();
          this.each(function(line) {
            source.add(["  ", line, "\n"]);
          });
          return source;
        },
        each: function each(iter) {
          for (var i = 0, len = this.source.length; i < len; i++) {
            iter(this.source[i]);
          }
        },
        empty: function empty() {
          var loc = this.currentLocation || {start: {}};
          return new SourceNode(loc.start.line, loc.start.column, this.srcFile);
        },
        wrap: function wrap(chunk) {
          var loc = arguments.length <= 1 || arguments[1] === void 0 ? this.currentLocation || {start: {}} : arguments[1];
          if (chunk instanceof SourceNode) {
            return chunk;
          }
          chunk = castChunk(chunk, this, loc);
          return new SourceNode(loc.start.line, loc.start.column, this.srcFile, chunk);
        },
        functionCall: function functionCall(fn, type, params) {
          params = this.generateList(params);
          return this.wrap([fn, type ? "." + type + "(" : "(", params, ")"]);
        },
        quotedString: function quotedString(str) {
          return '"' + (str + "").replace(/\\/g, "\\\\").replace(/"/g, '\\"').replace(/\n/g, "\\n").replace(/\r/g, "\\r").replace(/\u2028/g, "\\u2028").replace(/\u2029/g, "\\u2029") + '"';
        },
        objectLiteral: function objectLiteral(obj) {
          var _this = this;
          var pairs = [];
          Object.keys(obj).forEach(function(key) {
            var value = castChunk(obj[key], _this);
            if (value !== "undefined") {
              pairs.push([_this.quotedString(key), ":", value]);
            }
          });
          var ret = this.generateList(pairs);
          ret.prepend("{");
          ret.add("}");
          return ret;
        },
        generateList: function generateList(entries) {
          var ret = this.empty();
          for (var i = 0, len = entries.length; i < len; i++) {
            if (i) {
              ret.add(",");
            }
            ret.add(castChunk(entries[i], this));
          }
          return ret;
        },
        generateArray: function generateArray(entries) {
          var ret = this.generateList(entries);
          ret.prepend("[");
          ret.add("]");
          return ret;
        }
      };
      exports["default"] = CodeGen;
      module.exports = exports["default"];
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/handlebars-npm-4.7.7-a9ccfabf80-9.zip/node_modules/handlebars/dist/cjs/handlebars/compiler/javascript-compiler.js
  var require_javascript_compiler = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/handlebars-npm-4.7.7-a9ccfabf80-9.zip/node_modules/handlebars/dist/cjs/handlebars/compiler/javascript-compiler.js"(exports, module) {
      "use strict";
      exports.__esModule = true;
      function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {"default": obj};
      }
      var _base = require_base();
      var _exception = require_exception();
      var _exception2 = _interopRequireDefault(_exception);
      var _utils = require_utils();
      var _codeGen = require_code_gen();
      var _codeGen2 = _interopRequireDefault(_codeGen);
      function Literal(value) {
        this.value = value;
      }
      function JavaScriptCompiler() {
      }
      JavaScriptCompiler.prototype = {
        nameLookup: function nameLookup(parent, name) {
          return this.internalNameLookup(parent, name);
        },
        depthedLookup: function depthedLookup(name) {
          return [this.aliasable("container.lookup"), "(depths, ", JSON.stringify(name), ")"];
        },
        compilerInfo: function compilerInfo() {
          var revision = _base.COMPILER_REVISION, versions = _base.REVISION_CHANGES[revision];
          return [revision, versions];
        },
        appendToBuffer: function appendToBuffer(source, location, explicit) {
          if (!_utils.isArray(source)) {
            source = [source];
          }
          source = this.source.wrap(source, location);
          if (this.environment.isSimple) {
            return ["return ", source, ";"];
          } else if (explicit) {
            return ["buffer += ", source, ";"];
          } else {
            source.appendToBuffer = true;
            return source;
          }
        },
        initializeBuffer: function initializeBuffer() {
          return this.quotedString("");
        },
        internalNameLookup: function internalNameLookup(parent, name) {
          this.lookupPropertyFunctionIsUsed = true;
          return ["lookupProperty(", parent, ",", JSON.stringify(name), ")"];
        },
        lookupPropertyFunctionIsUsed: false,
        compile: function compile(environment, options, context, asObject) {
          this.environment = environment;
          this.options = options;
          this.stringParams = this.options.stringParams;
          this.trackIds = this.options.trackIds;
          this.precompile = !asObject;
          this.name = this.environment.name;
          this.isChild = !!context;
          this.context = context || {
            decorators: [],
            programs: [],
            environments: []
          };
          this.preamble();
          this.stackSlot = 0;
          this.stackVars = [];
          this.aliases = {};
          this.registers = {list: []};
          this.hashes = [];
          this.compileStack = [];
          this.inlineStack = [];
          this.blockParams = [];
          this.compileChildren(environment, options);
          this.useDepths = this.useDepths || environment.useDepths || environment.useDecorators || this.options.compat;
          this.useBlockParams = this.useBlockParams || environment.useBlockParams;
          var opcodes = environment.opcodes, opcode = void 0, firstLoc = void 0, i = void 0, l = void 0;
          for (i = 0, l = opcodes.length; i < l; i++) {
            opcode = opcodes[i];
            this.source.currentLocation = opcode.loc;
            firstLoc = firstLoc || opcode.loc;
            this[opcode.opcode].apply(this, opcode.args);
          }
          this.source.currentLocation = firstLoc;
          this.pushSource("");
          if (this.stackSlot || this.inlineStack.length || this.compileStack.length) {
            throw new _exception2["default"]("Compile completed with content left on stack");
          }
          if (!this.decorators.isEmpty()) {
            this.useDecorators = true;
            this.decorators.prepend(["var decorators = container.decorators, ", this.lookupPropertyFunctionVarDeclaration(), ";\n"]);
            this.decorators.push("return fn;");
            if (asObject) {
              this.decorators = Function.apply(this, ["fn", "props", "container", "depth0", "data", "blockParams", "depths", this.decorators.merge()]);
            } else {
              this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n");
              this.decorators.push("}\n");
              this.decorators = this.decorators.merge();
            }
          } else {
            this.decorators = void 0;
          }
          var fn = this.createFunctionContext(asObject);
          if (!this.isChild) {
            var ret = {
              compiler: this.compilerInfo(),
              main: fn
            };
            if (this.decorators) {
              ret.main_d = this.decorators;
              ret.useDecorators = true;
            }
            var _context = this.context;
            var programs = _context.programs;
            var decorators = _context.decorators;
            for (i = 0, l = programs.length; i < l; i++) {
              if (programs[i]) {
                ret[i] = programs[i];
                if (decorators[i]) {
                  ret[i + "_d"] = decorators[i];
                  ret.useDecorators = true;
                }
              }
            }
            if (this.environment.usePartial) {
              ret.usePartial = true;
            }
            if (this.options.data) {
              ret.useData = true;
            }
            if (this.useDepths) {
              ret.useDepths = true;
            }
            if (this.useBlockParams) {
              ret.useBlockParams = true;
            }
            if (this.options.compat) {
              ret.compat = true;
            }
            if (!asObject) {
              ret.compiler = JSON.stringify(ret.compiler);
              this.source.currentLocation = {start: {line: 1, column: 0}};
              ret = this.objectLiteral(ret);
              if (options.srcName) {
                ret = ret.toStringWithSourceMap({file: options.destName});
                ret.map = ret.map && ret.map.toString();
              } else {
                ret = ret.toString();
              }
            } else {
              ret.compilerOptions = this.options;
            }
            return ret;
          } else {
            return fn;
          }
        },
        preamble: function preamble() {
          this.lastContext = 0;
          this.source = new _codeGen2["default"](this.options.srcName);
          this.decorators = new _codeGen2["default"](this.options.srcName);
        },
        createFunctionContext: function createFunctionContext(asObject) {
          var _this = this;
          var varDeclarations = "";
          var locals = this.stackVars.concat(this.registers.list);
          if (locals.length > 0) {
            varDeclarations += ", " + locals.join(", ");
          }
          var aliasCount = 0;
          Object.keys(this.aliases).forEach(function(alias) {
            var node = _this.aliases[alias];
            if (node.children && node.referenceCount > 1) {
              varDeclarations += ", alias" + ++aliasCount + "=" + alias;
              node.children[0] = "alias" + aliasCount;
            }
          });
          if (this.lookupPropertyFunctionIsUsed) {
            varDeclarations += ", " + this.lookupPropertyFunctionVarDeclaration();
          }
          var params = ["container", "depth0", "helpers", "partials", "data"];
          if (this.useBlockParams || this.useDepths) {
            params.push("blockParams");
          }
          if (this.useDepths) {
            params.push("depths");
          }
          var source = this.mergeSource(varDeclarations);
          if (asObject) {
            params.push(source);
            return Function.apply(this, params);
          } else {
            return this.source.wrap(["function(", params.join(","), ") {\n  ", source, "}"]);
          }
        },
        mergeSource: function mergeSource(varDeclarations) {
          var isSimple = this.environment.isSimple, appendOnly = !this.forceBuffer, appendFirst = void 0, sourceSeen = void 0, bufferStart = void 0, bufferEnd = void 0;
          this.source.each(function(line) {
            if (line.appendToBuffer) {
              if (bufferStart) {
                line.prepend("  + ");
              } else {
                bufferStart = line;
              }
              bufferEnd = line;
            } else {
              if (bufferStart) {
                if (!sourceSeen) {
                  appendFirst = true;
                } else {
                  bufferStart.prepend("buffer += ");
                }
                bufferEnd.add(";");
                bufferStart = bufferEnd = void 0;
              }
              sourceSeen = true;
              if (!isSimple) {
                appendOnly = false;
              }
            }
          });
          if (appendOnly) {
            if (bufferStart) {
              bufferStart.prepend("return ");
              bufferEnd.add(";");
            } else if (!sourceSeen) {
              this.source.push('return "";');
            }
          } else {
            varDeclarations += ", buffer = " + (appendFirst ? "" : this.initializeBuffer());
            if (bufferStart) {
              bufferStart.prepend("return buffer + ");
              bufferEnd.add(";");
            } else {
              this.source.push("return buffer;");
            }
          }
          if (varDeclarations) {
            this.source.prepend("var " + varDeclarations.substring(2) + (appendFirst ? "" : ";\n"));
          }
          return this.source.merge();
        },
        lookupPropertyFunctionVarDeclaration: function lookupPropertyFunctionVarDeclaration() {
          return "\n      lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    }\n    ".trim();
        },
        blockValue: function blockValue(name) {
          var blockHelperMissing = this.aliasable("container.hooks.blockHelperMissing"), params = [this.contextName(0)];
          this.setupHelperArgs(name, 0, params);
          var blockName = this.popStack();
          params.splice(1, 0, blockName);
          this.push(this.source.functionCall(blockHelperMissing, "call", params));
        },
        ambiguousBlockValue: function ambiguousBlockValue() {
          var blockHelperMissing = this.aliasable("container.hooks.blockHelperMissing"), params = [this.contextName(0)];
          this.setupHelperArgs("", 0, params, true);
          this.flushInline();
          var current = this.topStack();
          params.splice(1, 0, current);
          this.pushSource(["if (!", this.lastHelper, ") { ", current, " = ", this.source.functionCall(blockHelperMissing, "call", params), "}"]);
        },
        appendContent: function appendContent(content) {
          if (this.pendingContent) {
            content = this.pendingContent + content;
          } else {
            this.pendingLocation = this.source.currentLocation;
          }
          this.pendingContent = content;
        },
        append: function append() {
          if (this.isInline()) {
            this.replaceStack(function(current) {
              return [" != null ? ", current, ' : ""'];
            });
            this.pushSource(this.appendToBuffer(this.popStack()));
          } else {
            var local = this.popStack();
            this.pushSource(["if (", local, " != null) { ", this.appendToBuffer(local, void 0, true), " }"]);
            if (this.environment.isSimple) {
              this.pushSource(["else { ", this.appendToBuffer("''", void 0, true), " }"]);
            }
          }
        },
        appendEscaped: function appendEscaped() {
          this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"), "(", this.popStack(), ")"]));
        },
        getContext: function getContext(depth) {
          this.lastContext = depth;
        },
        pushContext: function pushContext() {
          this.pushStackLiteral(this.contextName(this.lastContext));
        },
        lookupOnContext: function lookupOnContext(parts, falsy, strict, scoped) {
          var i = 0;
          if (!scoped && this.options.compat && !this.lastContext) {
            this.push(this.depthedLookup(parts[i++]));
          } else {
            this.pushContext();
          }
          this.resolvePath("context", parts, i, falsy, strict);
        },
        lookupBlockParam: function lookupBlockParam(blockParamId, parts) {
          this.useBlockParams = true;
          this.push(["blockParams[", blockParamId[0], "][", blockParamId[1], "]"]);
          this.resolvePath("context", parts, 1);
        },
        lookupData: function lookupData(depth, parts, strict) {
          if (!depth) {
            this.pushStackLiteral("data");
          } else {
            this.pushStackLiteral("container.data(data, " + depth + ")");
          }
          this.resolvePath("data", parts, 0, true, strict);
        },
        resolvePath: function resolvePath(type, parts, i, falsy, strict) {
          var _this2 = this;
          if (this.options.strict || this.options.assumeObjects) {
            this.push(strictLookup(this.options.strict && strict, this, parts, type));
            return;
          }
          var len = parts.length;
          for (; i < len; i++) {
            this.replaceStack(function(current) {
              var lookup = _this2.nameLookup(current, parts[i], type);
              if (!falsy) {
                return [" != null ? ", lookup, " : ", current];
              } else {
                return [" && ", lookup];
              }
            });
          }
        },
        resolvePossibleLambda: function resolvePossibleLambda() {
          this.push([this.aliasable("container.lambda"), "(", this.popStack(), ", ", this.contextName(0), ")"]);
        },
        pushStringParam: function pushStringParam(string, type) {
          this.pushContext();
          this.pushString(type);
          if (type !== "SubExpression") {
            if (typeof string === "string") {
              this.pushString(string);
            } else {
              this.pushStackLiteral(string);
            }
          }
        },
        emptyHash: function emptyHash(omitEmpty) {
          if (this.trackIds) {
            this.push("{}");
          }
          if (this.stringParams) {
            this.push("{}");
            this.push("{}");
          }
          this.pushStackLiteral(omitEmpty ? "undefined" : "{}");
        },
        pushHash: function pushHash() {
          if (this.hash) {
            this.hashes.push(this.hash);
          }
          this.hash = {values: {}, types: [], contexts: [], ids: []};
        },
        popHash: function popHash() {
          var hash = this.hash;
          this.hash = this.hashes.pop();
          if (this.trackIds) {
            this.push(this.objectLiteral(hash.ids));
          }
          if (this.stringParams) {
            this.push(this.objectLiteral(hash.contexts));
            this.push(this.objectLiteral(hash.types));
          }
          this.push(this.objectLiteral(hash.values));
        },
        pushString: function pushString(string) {
          this.pushStackLiteral(this.quotedString(string));
        },
        pushLiteral: function pushLiteral(value) {
          this.pushStackLiteral(value);
        },
        pushProgram: function pushProgram(guid) {
          if (guid != null) {
            this.pushStackLiteral(this.programExpression(guid));
          } else {
            this.pushStackLiteral(null);
          }
        },
        registerDecorator: function registerDecorator(paramSize, name) {
          var foundDecorator = this.nameLookup("decorators", name, "decorator"), options = this.setupHelperArgs(name, paramSize);
          this.decorators.push(["fn = ", this.decorators.functionCall(foundDecorator, "", ["fn", "props", "container", options]), " || fn;"]);
        },
        invokeHelper: function invokeHelper(paramSize, name, isSimple) {
          var nonHelper = this.popStack(), helper = this.setupHelper(paramSize, name);
          var possibleFunctionCalls = [];
          if (isSimple) {
            possibleFunctionCalls.push(helper.name);
          }
          possibleFunctionCalls.push(nonHelper);
          if (!this.options.strict) {
            possibleFunctionCalls.push(this.aliasable("container.hooks.helperMissing"));
          }
          var functionLookupCode = ["(", this.itemsSeparatedBy(possibleFunctionCalls, "||"), ")"];
          var functionCall = this.source.functionCall(functionLookupCode, "call", helper.callParams);
          this.push(functionCall);
        },
        itemsSeparatedBy: function itemsSeparatedBy(items, separator) {
          var result = [];
          result.push(items[0]);
          for (var i = 1; i < items.length; i++) {
            result.push(separator, items[i]);
          }
          return result;
        },
        invokeKnownHelper: function invokeKnownHelper(paramSize, name) {
          var helper = this.setupHelper(paramSize, name);
          this.push(this.source.functionCall(helper.name, "call", helper.callParams));
        },
        invokeAmbiguous: function invokeAmbiguous(name, helperCall) {
          this.useRegister("helper");
          var nonHelper = this.popStack();
          this.emptyHash();
          var helper = this.setupHelper(0, name, helperCall);
          var helperName = this.lastHelper = this.nameLookup("helpers", name, "helper");
          var lookup = ["(", "(helper = ", helperName, " || ", nonHelper, ")"];
          if (!this.options.strict) {
            lookup[0] = "(helper = ";
            lookup.push(" != null ? helper : ", this.aliasable("container.hooks.helperMissing"));
          }
          this.push(["(", lookup, helper.paramsInit ? ["),(", helper.paramsInit] : [], "),", "(typeof helper === ", this.aliasable('"function"'), " ? ", this.source.functionCall("helper", "call", helper.callParams), " : helper))"]);
        },
        invokePartial: function invokePartial(isDynamic, name, indent) {
          var params = [], options = this.setupParams(name, 1, params);
          if (isDynamic) {
            name = this.popStack();
            delete options.name;
          }
          if (indent) {
            options.indent = JSON.stringify(indent);
          }
          options.helpers = "helpers";
          options.partials = "partials";
          options.decorators = "container.decorators";
          if (!isDynamic) {
            params.unshift(this.nameLookup("partials", name, "partial"));
          } else {
            params.unshift(name);
          }
          if (this.options.compat) {
            options.depths = "depths";
          }
          options = this.objectLiteral(options);
          params.push(options);
          this.push(this.source.functionCall("container.invokePartial", "", params));
        },
        assignToHash: function assignToHash(key) {
          var value = this.popStack(), context = void 0, type = void 0, id = void 0;
          if (this.trackIds) {
            id = this.popStack();
          }
          if (this.stringParams) {
            type = this.popStack();
            context = this.popStack();
          }
          var hash = this.hash;
          if (context) {
            hash.contexts[key] = context;
          }
          if (type) {
            hash.types[key] = type;
          }
          if (id) {
            hash.ids[key] = id;
          }
          hash.values[key] = value;
        },
        pushId: function pushId(type, name, child) {
          if (type === "BlockParam") {
            this.pushStackLiteral("blockParams[" + name[0] + "].path[" + name[1] + "]" + (child ? " + " + JSON.stringify("." + child) : ""));
          } else if (type === "PathExpression") {
            this.pushString(name);
          } else if (type === "SubExpression") {
            this.pushStackLiteral("true");
          } else {
            this.pushStackLiteral("null");
          }
        },
        compiler: JavaScriptCompiler,
        compileChildren: function compileChildren(environment, options) {
          var children = environment.children, child = void 0, compiler = void 0;
          for (var i = 0, l = children.length; i < l; i++) {
            child = children[i];
            compiler = new this.compiler();
            var existing = this.matchExistingProgram(child);
            if (existing == null) {
              this.context.programs.push("");
              var index = this.context.programs.length;
              child.index = index;
              child.name = "program" + index;
              this.context.programs[index] = compiler.compile(child, options, this.context, !this.precompile);
              this.context.decorators[index] = compiler.decorators;
              this.context.environments[index] = child;
              this.useDepths = this.useDepths || compiler.useDepths;
              this.useBlockParams = this.useBlockParams || compiler.useBlockParams;
              child.useDepths = this.useDepths;
              child.useBlockParams = this.useBlockParams;
            } else {
              child.index = existing.index;
              child.name = "program" + existing.index;
              this.useDepths = this.useDepths || existing.useDepths;
              this.useBlockParams = this.useBlockParams || existing.useBlockParams;
            }
          }
        },
        matchExistingProgram: function matchExistingProgram(child) {
          for (var i = 0, len = this.context.environments.length; i < len; i++) {
            var environment = this.context.environments[i];
            if (environment && environment.equals(child)) {
              return environment;
            }
          }
        },
        programExpression: function programExpression(guid) {
          var child = this.environment.children[guid], programParams = [child.index, "data", child.blockParams];
          if (this.useBlockParams || this.useDepths) {
            programParams.push("blockParams");
          }
          if (this.useDepths) {
            programParams.push("depths");
          }
          return "container.program(" + programParams.join(", ") + ")";
        },
        useRegister: function useRegister(name) {
          if (!this.registers[name]) {
            this.registers[name] = true;
            this.registers.list.push(name);
          }
        },
        push: function push(expr) {
          if (!(expr instanceof Literal)) {
            expr = this.source.wrap(expr);
          }
          this.inlineStack.push(expr);
          return expr;
        },
        pushStackLiteral: function pushStackLiteral(item) {
          this.push(new Literal(item));
        },
        pushSource: function pushSource(source) {
          if (this.pendingContent) {
            this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent), this.pendingLocation));
            this.pendingContent = void 0;
          }
          if (source) {
            this.source.push(source);
          }
        },
        replaceStack: function replaceStack(callback) {
          var prefix = ["("], stack = void 0, createdStack = void 0, usedLiteral = void 0;
          if (!this.isInline()) {
            throw new _exception2["default"]("replaceStack on non-inline");
          }
          var top = this.popStack(true);
          if (top instanceof Literal) {
            stack = [top.value];
            prefix = ["(", stack];
            usedLiteral = true;
          } else {
            createdStack = true;
            var _name = this.incrStack();
            prefix = ["((", this.push(_name), " = ", top, ")"];
            stack = this.topStack();
          }
          var item = callback.call(this, stack);
          if (!usedLiteral) {
            this.popStack();
          }
          if (createdStack) {
            this.stackSlot--;
          }
          this.push(prefix.concat(item, ")"));
        },
        incrStack: function incrStack() {
          this.stackSlot++;
          if (this.stackSlot > this.stackVars.length) {
            this.stackVars.push("stack" + this.stackSlot);
          }
          return this.topStackName();
        },
        topStackName: function topStackName() {
          return "stack" + this.stackSlot;
        },
        flushInline: function flushInline() {
          var inlineStack = this.inlineStack;
          this.inlineStack = [];
          for (var i = 0, len = inlineStack.length; i < len; i++) {
            var entry = inlineStack[i];
            if (entry instanceof Literal) {
              this.compileStack.push(entry);
            } else {
              var stack = this.incrStack();
              this.pushSource([stack, " = ", entry, ";"]);
              this.compileStack.push(stack);
            }
          }
        },
        isInline: function isInline() {
          return this.inlineStack.length;
        },
        popStack: function popStack(wrapped) {
          var inline = this.isInline(), item = (inline ? this.inlineStack : this.compileStack).pop();
          if (!wrapped && item instanceof Literal) {
            return item.value;
          } else {
            if (!inline) {
              if (!this.stackSlot) {
                throw new _exception2["default"]("Invalid stack pop");
              }
              this.stackSlot--;
            }
            return item;
          }
        },
        topStack: function topStack() {
          var stack = this.isInline() ? this.inlineStack : this.compileStack, item = stack[stack.length - 1];
          if (item instanceof Literal) {
            return item.value;
          } else {
            return item;
          }
        },
        contextName: function contextName(context) {
          if (this.useDepths && context) {
            return "depths[" + context + "]";
          } else {
            return "depth" + context;
          }
        },
        quotedString: function quotedString(str) {
          return this.source.quotedString(str);
        },
        objectLiteral: function objectLiteral(obj) {
          return this.source.objectLiteral(obj);
        },
        aliasable: function aliasable(name) {
          var ret = this.aliases[name];
          if (ret) {
            ret.referenceCount++;
            return ret;
          }
          ret = this.aliases[name] = this.source.wrap(name);
          ret.aliasable = true;
          ret.referenceCount = 1;
          return ret;
        },
        setupHelper: function setupHelper(paramSize, name, blockHelper) {
          var params = [], paramsInit = this.setupHelperArgs(name, paramSize, params, blockHelper);
          var foundHelper = this.nameLookup("helpers", name, "helper"), callContext = this.aliasable(this.contextName(0) + " != null ? " + this.contextName(0) + " : (container.nullContext || {})");
          return {
            params,
            paramsInit,
            name: foundHelper,
            callParams: [callContext].concat(params)
          };
        },
        setupParams: function setupParams(helper, paramSize, params) {
          var options = {}, contexts = [], types = [], ids = [], objectArgs = !params, param = void 0;
          if (objectArgs) {
            params = [];
          }
          options.name = this.quotedString(helper);
          options.hash = this.popStack();
          if (this.trackIds) {
            options.hashIds = this.popStack();
          }
          if (this.stringParams) {
            options.hashTypes = this.popStack();
            options.hashContexts = this.popStack();
          }
          var inverse = this.popStack(), program = this.popStack();
          if (program || inverse) {
            options.fn = program || "container.noop";
            options.inverse = inverse || "container.noop";
          }
          var i = paramSize;
          while (i--) {
            param = this.popStack();
            params[i] = param;
            if (this.trackIds) {
              ids[i] = this.popStack();
            }
            if (this.stringParams) {
              types[i] = this.popStack();
              contexts[i] = this.popStack();
            }
          }
          if (objectArgs) {
            options.args = this.source.generateArray(params);
          }
          if (this.trackIds) {
            options.ids = this.source.generateArray(ids);
          }
          if (this.stringParams) {
            options.types = this.source.generateArray(types);
            options.contexts = this.source.generateArray(contexts);
          }
          if (this.options.data) {
            options.data = "data";
          }
          if (this.useBlockParams) {
            options.blockParams = "blockParams";
          }
          return options;
        },
        setupHelperArgs: function setupHelperArgs(helper, paramSize, params, useRegister) {
          var options = this.setupParams(helper, paramSize, params);
          options.loc = JSON.stringify(this.source.currentLocation);
          options = this.objectLiteral(options);
          if (useRegister) {
            this.useRegister("options");
            params.push("options");
            return ["options=", options];
          } else if (params) {
            params.push(options);
            return "";
          } else {
            return options;
          }
        }
      };
      (function() {
        var reservedWords = "break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" ");
        var compilerWords = JavaScriptCompiler.RESERVED_WORDS = {};
        for (var i = 0, l = reservedWords.length; i < l; i++) {
          compilerWords[reservedWords[i]] = true;
        }
      })();
      JavaScriptCompiler.isValidJavaScriptVariableName = function(name) {
        return !JavaScriptCompiler.RESERVED_WORDS[name] && /^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(name);
      };
      function strictLookup(requireTerminal, compiler, parts, type) {
        var stack = compiler.popStack(), i = 0, len = parts.length;
        if (requireTerminal) {
          len--;
        }
        for (; i < len; i++) {
          stack = compiler.nameLookup(stack, parts[i], type);
        }
        if (requireTerminal) {
          return [compiler.aliasable("container.strict"), "(", stack, ", ", compiler.quotedString(parts[i]), ", ", JSON.stringify(compiler.source.currentLocation), " )"];
        } else {
          return stack;
        }
      }
      exports["default"] = JavaScriptCompiler;
      module.exports = exports["default"];
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/handlebars-npm-4.7.7-a9ccfabf80-9.zip/node_modules/handlebars/dist/cjs/handlebars.js
  var require_handlebars = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/handlebars-npm-4.7.7-a9ccfabf80-9.zip/node_modules/handlebars/dist/cjs/handlebars.js"(exports, module) {
      "use strict";
      exports.__esModule = true;
      function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {"default": obj};
      }
      var _handlebarsRuntime = require_handlebars_runtime();
      var _handlebarsRuntime2 = _interopRequireDefault(_handlebarsRuntime);
      var _handlebarsCompilerAst = require_ast();
      var _handlebarsCompilerAst2 = _interopRequireDefault(_handlebarsCompilerAst);
      var _handlebarsCompilerBase = require_base2();
      var _handlebarsCompilerCompiler = require_compiler();
      var _handlebarsCompilerJavascriptCompiler = require_javascript_compiler();
      var _handlebarsCompilerJavascriptCompiler2 = _interopRequireDefault(_handlebarsCompilerJavascriptCompiler);
      var _handlebarsCompilerVisitor = require_visitor();
      var _handlebarsCompilerVisitor2 = _interopRequireDefault(_handlebarsCompilerVisitor);
      var _handlebarsNoConflict = require_no_conflict();
      var _handlebarsNoConflict2 = _interopRequireDefault(_handlebarsNoConflict);
      var _create = _handlebarsRuntime2["default"].create;
      function create() {
        var hb = _create();
        hb.compile = function(input, options) {
          return _handlebarsCompilerCompiler.compile(input, options, hb);
        };
        hb.precompile = function(input, options) {
          return _handlebarsCompilerCompiler.precompile(input, options, hb);
        };
        hb.AST = _handlebarsCompilerAst2["default"];
        hb.Compiler = _handlebarsCompilerCompiler.Compiler;
        hb.JavaScriptCompiler = _handlebarsCompilerJavascriptCompiler2["default"];
        hb.Parser = _handlebarsCompilerBase.parser;
        hb.parse = _handlebarsCompilerBase.parse;
        hb.parseWithoutProcessing = _handlebarsCompilerBase.parseWithoutProcessing;
        return hb;
      }
      var inst = create();
      inst.create = create;
      _handlebarsNoConflict2["default"](inst);
      inst.Visitor = _handlebarsCompilerVisitor2["default"];
      inst["default"] = inst;
      exports["default"] = inst;
      module.exports = exports["default"];
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/handlebars-npm-4.7.7-a9ccfabf80-9.zip/node_modules/handlebars/dist/cjs/handlebars/compiler/printer.js
  var require_printer = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/handlebars-npm-4.7.7-a9ccfabf80-9.zip/node_modules/handlebars/dist/cjs/handlebars/compiler/printer.js"(exports) {
      "use strict";
      exports.__esModule = true;
      exports.print = print;
      exports.PrintVisitor = PrintVisitor;
      function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {"default": obj};
      }
      var _visitor = require_visitor();
      var _visitor2 = _interopRequireDefault(_visitor);
      function print(ast) {
        return new PrintVisitor().accept(ast);
      }
      function PrintVisitor() {
        this.padding = 0;
      }
      PrintVisitor.prototype = new _visitor2["default"]();
      PrintVisitor.prototype.pad = function(string) {
        var out = "";
        for (var i = 0, l = this.padding; i < l; i++) {
          out += "  ";
        }
        out += string + "\n";
        return out;
      };
      PrintVisitor.prototype.Program = function(program) {
        var out = "", body = program.body, i = void 0, l = void 0;
        if (program.blockParams) {
          var blockParams = "BLOCK PARAMS: [";
          for (i = 0, l = program.blockParams.length; i < l; i++) {
            blockParams += " " + program.blockParams[i];
          }
          blockParams += " ]";
          out += this.pad(blockParams);
        }
        for (i = 0, l = body.length; i < l; i++) {
          out += this.accept(body[i]);
        }
        this.padding--;
        return out;
      };
      PrintVisitor.prototype.MustacheStatement = function(mustache) {
        return this.pad("{{ " + this.SubExpression(mustache) + " }}");
      };
      PrintVisitor.prototype.Decorator = function(mustache) {
        return this.pad("{{ DIRECTIVE " + this.SubExpression(mustache) + " }}");
      };
      PrintVisitor.prototype.BlockStatement = PrintVisitor.prototype.DecoratorBlock = function(block) {
        var out = "";
        out += this.pad((block.type === "DecoratorBlock" ? "DIRECTIVE " : "") + "BLOCK:");
        this.padding++;
        out += this.pad(this.SubExpression(block));
        if (block.program) {
          out += this.pad("PROGRAM:");
          this.padding++;
          out += this.accept(block.program);
          this.padding--;
        }
        if (block.inverse) {
          if (block.program) {
            this.padding++;
          }
          out += this.pad("{{^}}");
          this.padding++;
          out += this.accept(block.inverse);
          this.padding--;
          if (block.program) {
            this.padding--;
          }
        }
        this.padding--;
        return out;
      };
      PrintVisitor.prototype.PartialStatement = function(partial) {
        var content = "PARTIAL:" + partial.name.original;
        if (partial.params[0]) {
          content += " " + this.accept(partial.params[0]);
        }
        if (partial.hash) {
          content += " " + this.accept(partial.hash);
        }
        return this.pad("{{> " + content + " }}");
      };
      PrintVisitor.prototype.PartialBlockStatement = function(partial) {
        var content = "PARTIAL BLOCK:" + partial.name.original;
        if (partial.params[0]) {
          content += " " + this.accept(partial.params[0]);
        }
        if (partial.hash) {
          content += " " + this.accept(partial.hash);
        }
        content += " " + this.pad("PROGRAM:");
        this.padding++;
        content += this.accept(partial.program);
        this.padding--;
        return this.pad("{{> " + content + " }}");
      };
      PrintVisitor.prototype.ContentStatement = function(content) {
        return this.pad("CONTENT[ '" + content.value + "' ]");
      };
      PrintVisitor.prototype.CommentStatement = function(comment) {
        return this.pad("{{! '" + comment.value + "' }}");
      };
      PrintVisitor.prototype.SubExpression = function(sexpr) {
        var params = sexpr.params, paramStrings = [], hash = void 0;
        for (var i = 0, l = params.length; i < l; i++) {
          paramStrings.push(this.accept(params[i]));
        }
        params = "[" + paramStrings.join(", ") + "]";
        hash = sexpr.hash ? " " + this.accept(sexpr.hash) : "";
        return this.accept(sexpr.path) + " " + params + hash;
      };
      PrintVisitor.prototype.PathExpression = function(id) {
        var path = id.parts.join("/");
        return (id.data ? "@" : "") + "PATH:" + path;
      };
      PrintVisitor.prototype.StringLiteral = function(string) {
        return '"' + string.value + '"';
      };
      PrintVisitor.prototype.NumberLiteral = function(number) {
        return "NUMBER{" + number.value + "}";
      };
      PrintVisitor.prototype.BooleanLiteral = function(bool) {
        return "BOOLEAN{" + bool.value + "}";
      };
      PrintVisitor.prototype.UndefinedLiteral = function() {
        return "UNDEFINED";
      };
      PrintVisitor.prototype.NullLiteral = function() {
        return "NULL";
      };
      PrintVisitor.prototype.Hash = function(hash) {
        var pairs = hash.pairs, joinedPairs = [];
        for (var i = 0, l = pairs.length; i < l; i++) {
          joinedPairs.push(this.accept(pairs[i]));
        }
        return "HASH{" + joinedPairs.join(", ") + "}";
      };
      PrintVisitor.prototype.HashPair = function(pair) {
        return pair.key + "=" + this.accept(pair.value);
      };
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/handlebars-npm-4.7.7-a9ccfabf80-9.zip/node_modules/handlebars/lib/index.js
  var require_lib = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/handlebars-npm-4.7.7-a9ccfabf80-9.zip/node_modules/handlebars/lib/index.js"(exports, module) {
      var handlebars = require_handlebars()["default"];
      var printer = require_printer();
      handlebars.PrintVisitor = printer.PrintVisitor;
      handlebars.print = printer.print;
      module.exports = handlebars;
      function extension(module2, filename) {
        var fs2 = __require("fs");
        var templateString = fs2.readFileSync(filename, "utf8");
        module2.exports = handlebars.compile(templateString);
      }
      if (typeof __require !== "undefined" && __require.extensions) {
        __require.extensions[".handlebars"] = extension;
        __require.extensions[".hbs"] = extension;
      }
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/json-stringify-safe-npm-5.0.1-064ddd6ab4-9.zip/node_modules/json-stringify-safe/stringify.js
  var require_stringify = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/json-stringify-safe-npm-5.0.1-064ddd6ab4-9.zip/node_modules/json-stringify-safe/stringify.js"(exports, module) {
      exports = module.exports = stringify;
      exports.getSerialize = serializer;
      function stringify(obj, replacer, spaces, cycleReplacer) {
        return JSON.stringify(obj, serializer(replacer, cycleReplacer), spaces);
      }
      function serializer(replacer, cycleReplacer) {
        var stack = [], keys = [];
        if (cycleReplacer == null)
          cycleReplacer = function(key, value) {
            if (stack[0] === value)
              return "[Circular ~]";
            return "[Circular ~." + keys.slice(0, stack.indexOf(value)).join(".") + "]";
          };
        return function(key, value) {
          if (stack.length > 0) {
            var thisPos = stack.indexOf(this);
            ~thisPos ? stack.splice(thisPos + 1) : stack.push(this);
            ~thisPos ? keys.splice(thisPos, Infinity, key) : keys.push(key);
            if (~stack.indexOf(value))
              value = cycleReplacer.call(this, key, value);
          } else
            stack.push(value);
          return replacer == null ? value : replacer.call(this, key, value);
        };
      }
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/conventional-changelog-writer-npm-5.0.1-c7d8f4132f-9.zip/node_modules/conventional-changelog-writer/lib/util.js
  var require_util2 = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/conventional-changelog-writer-npm-5.0.1-c7d8f4132f-9.zip/node_modules/conventional-changelog-writer/lib/util.js"(exports, module) {
      "use strict";
      var conventionalCommitsFilter = require_conventional_commits_filter();
      var Handlebars = require_lib();
      var semver2 = __require("semver");
      var _ = require_lodash2();
      var stringify = require_stringify();
      function compileTemplates(templates) {
        const main = templates.mainTemplate;
        const headerPartial = templates.headerPartial;
        const commitPartial = templates.commitPartial;
        const footerPartial = templates.footerPartial;
        const partials = templates.partials;
        if (_.isString(headerPartial)) {
          Handlebars.registerPartial("header", headerPartial);
        }
        if (_.isString(commitPartial)) {
          Handlebars.registerPartial("commit", commitPartial);
        }
        if (_.isString(footerPartial)) {
          Handlebars.registerPartial("footer", footerPartial);
        }
        _.forEach(partials, function(partial, name) {
          if (_.isString(partial)) {
            Handlebars.registerPartial(name, partial);
          }
        });
        return Handlebars.compile(main, {
          noEscape: true
        });
      }
      function functionify(strOrArr) {
        if (strOrArr && !_.isFunction(strOrArr)) {
          return (a, b) => {
            let str1 = "";
            let str2 = "";
            if (Array.isArray(strOrArr)) {
              for (const key of strOrArr) {
                str1 += a[key] || "";
                str2 += b[key] || "";
              }
            } else {
              str1 += a[strOrArr];
              str2 += b[strOrArr];
            }
            return str1.localeCompare(str2);
          };
        } else {
          return strOrArr;
        }
      }
      function getCommitGroups(groupBy, commits, groupsSort, commitsSort) {
        const commitGroups = [];
        const commitGroupsObj = _.groupBy(commits, function(commit) {
          return commit[groupBy] || "";
        });
        _.forEach(commitGroupsObj, function(commits2, title) {
          if (title === "") {
            title = false;
          }
          if (commitsSort) {
            commits2.sort(commitsSort);
          }
          commitGroups.push({
            title,
            commits: commits2
          });
        });
        if (groupsSort) {
          commitGroups.sort(groupsSort);
        }
        return commitGroups;
      }
      function getNoteGroups(notes, noteGroupsSort, notesSort) {
        const retGroups = [];
        _.forEach(notes, function(note) {
          const title = note.title;
          let titleExists = false;
          _.forEach(retGroups, function(group) {
            if (group.title === title) {
              titleExists = true;
              group.notes.push(note);
              return false;
            }
          });
          if (!titleExists) {
            retGroups.push({
              title,
              notes: [note]
            });
          }
        });
        if (noteGroupsSort) {
          retGroups.sort(noteGroupsSort);
        }
        if (notesSort) {
          _.forEach(retGroups, function(group) {
            group.notes.sort(notesSort);
          });
        }
        return retGroups;
      }
      function processCommit(chunk, transform, context) {
        let commit;
        try {
          chunk = JSON.parse(chunk);
        } catch (e) {
        }
        commit = _.cloneDeep(chunk);
        if (_.isFunction(transform)) {
          commit = transform(commit, context);
          if (commit) {
            commit.raw = chunk;
          }
          return commit;
        }
        _.forEach(transform, function(el, path) {
          let value = _.get(commit, path);
          if (_.isFunction(el)) {
            value = el(value, path);
          } else {
            value = el;
          }
          _.set(commit, path, value);
        });
        commit.raw = chunk;
        return commit;
      }
      function getExtraContext(commits, notes, options) {
        const context = {};
        context.commitGroups = getCommitGroups(options.groupBy, commits, options.commitGroupsSort, options.commitsSort);
        context.noteGroups = getNoteGroups(notes, options.noteGroupsSort, options.notesSort);
        return context;
      }
      function generate(options, commits, context, keyCommit) {
        let notes = [];
        let filteredCommits;
        const compiled = compileTemplates(options);
        if (options.ignoreReverted) {
          filteredCommits = conventionalCommitsFilter(commits);
        } else {
          filteredCommits = _.clone(commits);
        }
        _.forEach(filteredCommits, function(commit) {
          _.map(commit.notes, function(note) {
            note.commit = commit;
            return note;
          });
          notes = notes.concat(commit.notes);
        });
        context = _.merge({}, context, keyCommit, getExtraContext(filteredCommits, notes, options));
        if (keyCommit && keyCommit.committerDate) {
          context.date = keyCommit.committerDate;
        }
        if (context.version && semver2.valid(context.version)) {
          context.isPatch = context.isPatch || semver2.patch(context.version) !== 0;
        }
        context = options.finalizeContext(context, options, filteredCommits, keyCommit, commits);
        options.debug("Your final context is:\n" + stringify(context, null, 2));
        return compiled(context);
      }
      module.exports = {
        compileTemplates,
        functionify,
        getCommitGroups,
        getNoteGroups,
        processCommit,
        getExtraContext,
        generate
      };
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/conventional-changelog-writer-npm-5.0.1-c7d8f4132f-9.zip/node_modules/conventional-changelog-writer/index.js
  var require_conventional_changelog_writer = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/conventional-changelog-writer-npm-5.0.1-c7d8f4132f-9.zip/node_modules/conventional-changelog-writer/index.js"(exports, module) {
      "use strict";
      var dateFormat = require_dateformat();
      var join3 = __require("path").join;
      var readFileSync2 = __require("fs").readFileSync;
      var semverValid = __require("semver").valid;
      var through = require_through2();
      var util = require_util2();
      var _ = require_lodash2();
      function conventionalChangelogWriterInit(context, options) {
        context = _.extend({
          commit: "commits",
          issue: "issues",
          date: dateFormat(new Date(), "yyyy-mm-dd", true)
        }, context);
        if (!_.isBoolean(context.linkReferences) && (context.repository || context.repoUrl) && context.commit && context.issue) {
          context.linkReferences = true;
        }
        options = _.assign({
          groupBy: "type",
          commitsSort: "header",
          noteGroupsSort: "title",
          notesSort: "text",
          generateOn: function(commit) {
            return semverValid(commit.version);
          },
          finalizeContext: function(context2) {
            return context2;
          },
          debug: function() {
          },
          reverse: false,
          includeDetails: false,
          ignoreReverted: true,
          doFlush: true,
          mainTemplate: readFileSync2(join3(__dirname, "templates/template.hbs"), "utf-8"),
          headerPartial: readFileSync2(join3(__dirname, "templates/header.hbs"), "utf-8"),
          commitPartial: readFileSync2(join3(__dirname, "templates/commit.hbs"), "utf-8"),
          footerPartial: readFileSync2(join3(__dirname, "templates/footer.hbs"), "utf-8")
        }, options);
        if (!_.isFunction(options.transform) && _.isObject(options.transform) || _.isUndefined(options.transform)) {
          options.transform = _.assign({
            hash: function(hash) {
              if (_.isString(hash)) {
                return hash.substring(0, 7);
              }
            },
            header: function(header) {
              return header.substring(0, 100);
            },
            committerDate: function(date) {
              if (!date) {
                return;
              }
              return dateFormat(date, "yyyy-mm-dd", true);
            }
          }, options.transform);
        }
        let generateOn = options.generateOn;
        if (_.isString(generateOn)) {
          generateOn = function(commit) {
            return !_.isUndefined(commit[options.generateOn]);
          };
        } else if (!_.isFunction(generateOn)) {
          generateOn = function() {
            return false;
          };
        }
        options.commitGroupsSort = util.functionify(options.commitGroupsSort);
        options.commitsSort = util.functionify(options.commitsSort);
        options.noteGroupsSort = util.functionify(options.noteGroupsSort);
        options.notesSort = util.functionify(options.notesSort);
        return {context, options, generateOn};
      }
      function conventionalChangelogWriterParseStream(context, options) {
        let generateOn;
        ({context, options, generateOn} = conventionalChangelogWriterInit(context, options));
        let commits = [];
        let neverGenerated = true;
        let savedKeyCommit;
        let firstRelease = true;
        return through.obj(function(chunk, _enc, cb) {
          try {
            let result;
            const commit = util.processCommit(chunk, options.transform, context);
            const keyCommit = commit || chunk;
            if (options.reverse) {
              if (commit) {
                commits.push(commit);
              }
              if (generateOn(keyCommit, commits, context, options)) {
                neverGenerated = false;
                result = util.generate(options, commits, context, keyCommit);
                if (options.includeDetails) {
                  this.push({
                    log: result,
                    keyCommit
                  });
                } else {
                  this.push(result);
                }
                commits = [];
              }
            } else {
              if (generateOn(keyCommit, commits, context, options)) {
                neverGenerated = false;
                result = util.generate(options, commits, context, savedKeyCommit);
                if (!firstRelease || options.doFlush) {
                  if (options.includeDetails) {
                    this.push({
                      log: result,
                      keyCommit: savedKeyCommit
                    });
                  } else {
                    this.push(result);
                  }
                }
                firstRelease = false;
                commits = [];
                savedKeyCommit = keyCommit;
              }
              if (commit) {
                commits.push(commit);
              }
            }
            cb();
          } catch (err) {
            cb(err);
          }
        }, function(cb) {
          if (!options.doFlush && (options.reverse || neverGenerated)) {
            cb(null);
            return;
          }
          try {
            const result = util.generate(options, commits, context, savedKeyCommit);
            if (options.includeDetails) {
              this.push({
                log: result,
                keyCommit: savedKeyCommit
              });
            } else {
              this.push(result);
            }
            cb();
          } catch (err) {
            cb(err);
          }
        });
      }
      conventionalChangelogWriterParseStream.parseArray = (rawCommits, context, options) => {
        let generateOn;
        rawCommits = [...rawCommits];
        ({context, options, generateOn} = conventionalChangelogWriterInit(context, options));
        let commits = [];
        let savedKeyCommit;
        if (options.reverse) {
          rawCommits.reverse();
        }
        const entries = [];
        for (const rawCommit of rawCommits) {
          const commit = util.processCommit(rawCommit, options.transform, context);
          const keyCommit = commit || rawCommit;
          if (generateOn(keyCommit, commits, context, options)) {
            entries.push(util.generate(options, commits, context, savedKeyCommit));
            savedKeyCommit = keyCommit;
            commits = [];
          }
          if (commit) {
            commits.push(commit);
          }
        }
        if (options.reverse) {
          entries.reverse();
          return util.generate(options, commits, context, savedKeyCommit) + entries.join("");
        } else {
          return entries.join("") + util.generate(options, commits, context, savedKeyCommit);
        }
      };
      module.exports = conventionalChangelogWriterParseStream;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/hosted-git-info-npm-4.1.0-4efcdf8fd3-9.zip/node_modules/hosted-git-info/git-host-info.js
  var require_git_host_info = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/hosted-git-info-npm-4.1.0-4efcdf8fd3-9.zip/node_modules/hosted-git-info/git-host-info.js"(exports, module) {
      "use strict";
      var maybeJoin = (...args) => args.every((arg) => arg) ? args.join("") : "";
      var maybeEncode = (arg) => arg ? encodeURIComponent(arg) : "";
      var defaults = {
        sshtemplate: ({domain, user, project, committish}) => `git@${domain}:${user}/${project}.git${maybeJoin("#", committish)}`,
        sshurltemplate: ({domain, user, project, committish}) => `git+ssh://git@${domain}/${user}/${project}.git${maybeJoin("#", committish)}`,
        browsetemplate: ({domain, user, project, committish, treepath}) => `https://${domain}/${user}/${project}${maybeJoin("/", treepath, "/", maybeEncode(committish))}`,
        browsefiletemplate: ({domain, user, project, committish, treepath, path, fragment, hashformat}) => `https://${domain}/${user}/${project}/${treepath}/${maybeEncode(committish || "master")}/${path}${maybeJoin("#", hashformat(fragment || ""))}`,
        docstemplate: ({domain, user, project, treepath, committish}) => `https://${domain}/${user}/${project}${maybeJoin("/", treepath, "/", maybeEncode(committish))}#readme`,
        httpstemplate: ({auth, domain, user, project, committish}) => `git+https://${maybeJoin(auth, "@")}${domain}/${user}/${project}.git${maybeJoin("#", committish)}`,
        filetemplate: ({domain, user, project, committish, path}) => `https://${domain}/${user}/${project}/raw/${maybeEncode(committish) || "master"}/${path}`,
        shortcuttemplate: ({type, user, project, committish}) => `${type}:${user}/${project}${maybeJoin("#", committish)}`,
        pathtemplate: ({user, project, committish}) => `${user}/${project}${maybeJoin("#", committish)}`,
        bugstemplate: ({domain, user, project}) => `https://${domain}/${user}/${project}/issues`,
        hashformat: formatHashFragment
      };
      var gitHosts = {};
      gitHosts.github = Object.assign({}, defaults, {
        protocols: ["git:", "http:", "git+ssh:", "git+https:", "ssh:", "https:"],
        domain: "github.com",
        treepath: "tree",
        filetemplate: ({auth, user, project, committish, path}) => `https://${maybeJoin(auth, "@")}raw.githubusercontent.com/${user}/${project}/${maybeEncode(committish) || "master"}/${path}`,
        gittemplate: ({auth, domain, user, project, committish}) => `git://${maybeJoin(auth, "@")}${domain}/${user}/${project}.git${maybeJoin("#", committish)}`,
        tarballtemplate: ({domain, user, project, committish}) => `https://codeload.${domain}/${user}/${project}/tar.gz/${maybeEncode(committish) || "master"}`,
        extract: (url) => {
          let [, user, project, type, committish] = url.pathname.split("/", 5);
          if (type && type !== "tree") {
            return;
          }
          if (!type) {
            committish = url.hash.slice(1);
          }
          if (project && project.endsWith(".git")) {
            project = project.slice(0, -4);
          }
          if (!user || !project) {
            return;
          }
          return {user, project, committish};
        }
      });
      gitHosts.bitbucket = Object.assign({}, defaults, {
        protocols: ["git+ssh:", "git+https:", "ssh:", "https:"],
        domain: "bitbucket.org",
        treepath: "src",
        tarballtemplate: ({domain, user, project, committish}) => `https://${domain}/${user}/${project}/get/${maybeEncode(committish) || "master"}.tar.gz`,
        extract: (url) => {
          let [, user, project, aux] = url.pathname.split("/", 4);
          if (["get"].includes(aux)) {
            return;
          }
          if (project && project.endsWith(".git")) {
            project = project.slice(0, -4);
          }
          if (!user || !project) {
            return;
          }
          return {user, project, committish: url.hash.slice(1)};
        }
      });
      gitHosts.gitlab = Object.assign({}, defaults, {
        protocols: ["git+ssh:", "git+https:", "ssh:", "https:"],
        domain: "gitlab.com",
        treepath: "tree",
        httpstemplate: ({auth, domain, user, project, committish}) => `git+https://${maybeJoin(auth, "@")}${domain}/${user}/${project}.git${maybeJoin("#", committish)}`,
        tarballtemplate: ({domain, user, project, committish}) => `https://${domain}/${user}/${project}/repository/archive.tar.gz?ref=${maybeEncode(committish) || "master"}`,
        extract: (url) => {
          const path = url.pathname.slice(1);
          if (path.includes("/-/") || path.includes("/archive.tar.gz")) {
            return;
          }
          const segments = path.split("/");
          let project = segments.pop();
          if (project.endsWith(".git")) {
            project = project.slice(0, -4);
          }
          const user = segments.join("/");
          if (!user || !project) {
            return;
          }
          return {user, project, committish: url.hash.slice(1)};
        }
      });
      gitHosts.gist = Object.assign({}, defaults, {
        protocols: ["git:", "git+ssh:", "git+https:", "ssh:", "https:"],
        domain: "gist.github.com",
        sshtemplate: ({domain, project, committish}) => `git@${domain}:${project}.git${maybeJoin("#", committish)}`,
        sshurltemplate: ({domain, project, committish}) => `git+ssh://git@${domain}/${project}.git${maybeJoin("#", committish)}`,
        browsetemplate: ({domain, project, committish}) => `https://${domain}/${project}${maybeJoin("/", maybeEncode(committish))}`,
        browsefiletemplate: ({domain, project, committish, path, hashformat}) => `https://${domain}/${project}${maybeJoin("/", maybeEncode(committish))}${maybeJoin("#", hashformat(path))}`,
        docstemplate: ({domain, project, committish}) => `https://${domain}/${project}${maybeJoin("/", maybeEncode(committish))}`,
        httpstemplate: ({domain, project, committish}) => `git+https://${domain}/${project}.git${maybeJoin("#", committish)}`,
        filetemplate: ({user, project, committish, path}) => `https://gist.githubusercontent.com/${user}/${project}/raw${maybeJoin("/", maybeEncode(committish))}/${path}`,
        shortcuttemplate: ({type, project, committish}) => `${type}:${project}${maybeJoin("#", committish)}`,
        pathtemplate: ({project, committish}) => `${project}${maybeJoin("#", committish)}`,
        bugstemplate: ({domain, project}) => `https://${domain}/${project}`,
        gittemplate: ({domain, project, committish}) => `git://${domain}/${project}.git${maybeJoin("#", committish)}`,
        tarballtemplate: ({project, committish}) => `https://codeload.github.com/gist/${project}/tar.gz/${maybeEncode(committish) || "master"}`,
        extract: (url) => {
          let [, user, project, aux] = url.pathname.split("/", 4);
          if (aux === "raw") {
            return;
          }
          if (!project) {
            if (!user) {
              return;
            }
            project = user;
            user = null;
          }
          if (project.endsWith(".git")) {
            project = project.slice(0, -4);
          }
          return {user, project, committish: url.hash.slice(1)};
        },
        hashformat: function(fragment) {
          return fragment && "file-" + formatHashFragment(fragment);
        }
      });
      gitHosts.sourcehut = Object.assign({}, defaults, {
        protocols: ["git+ssh:", "https:"],
        domain: "git.sr.ht",
        treepath: "tree",
        browsefiletemplate: ({domain, user, project, committish, treepath, path, fragment, hashformat}) => `https://${domain}/${user}/${project}/${treepath}/${maybeEncode(committish || "main")}/${path}${maybeJoin("#", hashformat(fragment || ""))}`,
        filetemplate: ({domain, user, project, committish, path}) => `https://${domain}/${user}/${project}/blob/${maybeEncode(committish) || "main"}/${path}`,
        httpstemplate: ({domain, user, project, committish}) => `https://${domain}/${user}/${project}.git${maybeJoin("#", committish)}`,
        tarballtemplate: ({domain, user, project, committish}) => `https://${domain}/${user}/${project}/archive/${maybeEncode(committish) || "main"}.tar.gz`,
        bugstemplate: ({domain, user, project}) => `https://todo.sr.ht/${user}/${project}`,
        docstemplate: ({domain, user, project, treepath, committish}) => `https://${domain}/${user}/${project}${maybeJoin("/", treepath, "/", maybeEncode(committish))}#readme`,
        extract: (url) => {
          let [, user, project, aux] = url.pathname.split("/", 4);
          if (["archive"].includes(aux)) {
            return;
          }
          if (project && project.endsWith(".git")) {
            project = project.slice(0, -4);
          }
          if (!user || !project) {
            return;
          }
          return {user, project, committish: url.hash.slice(1)};
        }
      });
      var names = Object.keys(gitHosts);
      gitHosts.byShortcut = {};
      gitHosts.byDomain = {};
      for (const name of names) {
        gitHosts.byShortcut[`${name}:`] = name;
        gitHosts.byDomain[gitHosts[name].domain] = name;
      }
      function formatHashFragment(fragment) {
        return fragment.toLowerCase().replace(/^\W+|\/|\W+$/g, "").replace(/\W+/g, "-");
      }
      module.exports = gitHosts;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/hosted-git-info-npm-4.1.0-4efcdf8fd3-9.zip/node_modules/hosted-git-info/git-host.js
  var require_git_host = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/hosted-git-info-npm-4.1.0-4efcdf8fd3-9.zip/node_modules/hosted-git-info/git-host.js"(exports, module) {
      "use strict";
      var gitHosts = require_git_host_info();
      var GitHost = class {
        constructor(type, user, auth, project, committish, defaultRepresentation, opts = {}) {
          Object.assign(this, gitHosts[type]);
          this.type = type;
          this.user = user;
          this.auth = auth;
          this.project = project;
          this.committish = committish;
          this.default = defaultRepresentation;
          this.opts = opts;
        }
        hash() {
          return this.committish ? `#${this.committish}` : "";
        }
        ssh(opts) {
          return this._fill(this.sshtemplate, opts);
        }
        _fill(template, opts) {
          if (typeof template === "function") {
            const options = __spreadValues(__spreadValues(__spreadValues({}, this), this.opts), opts);
            if (!options.path) {
              options.path = "";
            }
            if (options.path.startsWith("/")) {
              options.path = options.path.slice(1);
            }
            if (options.noCommittish) {
              options.committish = null;
            }
            const result = template(options);
            return options.noGitPlus && result.startsWith("git+") ? result.slice(4) : result;
          }
          return null;
        }
        sshurl(opts) {
          return this._fill(this.sshurltemplate, opts);
        }
        browse(path, fragment, opts) {
          if (typeof path !== "string") {
            return this._fill(this.browsetemplate, path);
          }
          if (typeof fragment !== "string") {
            opts = fragment;
            fragment = null;
          }
          return this._fill(this.browsefiletemplate, __spreadProps(__spreadValues({}, opts), {fragment, path}));
        }
        docs(opts) {
          return this._fill(this.docstemplate, opts);
        }
        bugs(opts) {
          return this._fill(this.bugstemplate, opts);
        }
        https(opts) {
          return this._fill(this.httpstemplate, opts);
        }
        git(opts) {
          return this._fill(this.gittemplate, opts);
        }
        shortcut(opts) {
          return this._fill(this.shortcuttemplate, opts);
        }
        path(opts) {
          return this._fill(this.pathtemplate, opts);
        }
        tarball(opts) {
          return this._fill(this.tarballtemplate, __spreadProps(__spreadValues({}, opts), {noCommittish: false}));
        }
        file(path, opts) {
          return this._fill(this.filetemplate, __spreadProps(__spreadValues({}, opts), {path}));
        }
        getDefaultRepresentation() {
          return this.default;
        }
        toString(opts) {
          if (this.default && typeof this[this.default] === "function") {
            return this[this.default](opts);
          }
          return this.sshurl(opts);
        }
      };
      module.exports = GitHost;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/yallist-npm-4.0.0-b493d9e907-9.zip/node_modules/yallist/iterator.js
  var require_iterator = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/yallist-npm-4.0.0-b493d9e907-9.zip/node_modules/yallist/iterator.js"(exports, module) {
      "use strict";
      module.exports = function(Yallist) {
        Yallist.prototype[Symbol.iterator] = function* () {
          for (let walker = this.head; walker; walker = walker.next) {
            yield walker.value;
          }
        };
      };
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/yallist-npm-4.0.0-b493d9e907-9.zip/node_modules/yallist/yallist.js
  var require_yallist = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/yallist-npm-4.0.0-b493d9e907-9.zip/node_modules/yallist/yallist.js"(exports, module) {
      "use strict";
      module.exports = Yallist;
      Yallist.Node = Node;
      Yallist.create = Yallist;
      function Yallist(list) {
        var self2 = this;
        if (!(self2 instanceof Yallist)) {
          self2 = new Yallist();
        }
        self2.tail = null;
        self2.head = null;
        self2.length = 0;
        if (list && typeof list.forEach === "function") {
          list.forEach(function(item) {
            self2.push(item);
          });
        } else if (arguments.length > 0) {
          for (var i = 0, l = arguments.length; i < l; i++) {
            self2.push(arguments[i]);
          }
        }
        return self2;
      }
      Yallist.prototype.removeNode = function(node) {
        if (node.list !== this) {
          throw new Error("removing node which does not belong to this list");
        }
        var next = node.next;
        var prev = node.prev;
        if (next) {
          next.prev = prev;
        }
        if (prev) {
          prev.next = next;
        }
        if (node === this.head) {
          this.head = next;
        }
        if (node === this.tail) {
          this.tail = prev;
        }
        node.list.length--;
        node.next = null;
        node.prev = null;
        node.list = null;
        return next;
      };
      Yallist.prototype.unshiftNode = function(node) {
        if (node === this.head) {
          return;
        }
        if (node.list) {
          node.list.removeNode(node);
        }
        var head = this.head;
        node.list = this;
        node.next = head;
        if (head) {
          head.prev = node;
        }
        this.head = node;
        if (!this.tail) {
          this.tail = node;
        }
        this.length++;
      };
      Yallist.prototype.pushNode = function(node) {
        if (node === this.tail) {
          return;
        }
        if (node.list) {
          node.list.removeNode(node);
        }
        var tail = this.tail;
        node.list = this;
        node.prev = tail;
        if (tail) {
          tail.next = node;
        }
        this.tail = node;
        if (!this.head) {
          this.head = node;
        }
        this.length++;
      };
      Yallist.prototype.push = function() {
        for (var i = 0, l = arguments.length; i < l; i++) {
          push(this, arguments[i]);
        }
        return this.length;
      };
      Yallist.prototype.unshift = function() {
        for (var i = 0, l = arguments.length; i < l; i++) {
          unshift(this, arguments[i]);
        }
        return this.length;
      };
      Yallist.prototype.pop = function() {
        if (!this.tail) {
          return void 0;
        }
        var res = this.tail.value;
        this.tail = this.tail.prev;
        if (this.tail) {
          this.tail.next = null;
        } else {
          this.head = null;
        }
        this.length--;
        return res;
      };
      Yallist.prototype.shift = function() {
        if (!this.head) {
          return void 0;
        }
        var res = this.head.value;
        this.head = this.head.next;
        if (this.head) {
          this.head.prev = null;
        } else {
          this.tail = null;
        }
        this.length--;
        return res;
      };
      Yallist.prototype.forEach = function(fn, thisp) {
        thisp = thisp || this;
        for (var walker = this.head, i = 0; walker !== null; i++) {
          fn.call(thisp, walker.value, i, this);
          walker = walker.next;
        }
      };
      Yallist.prototype.forEachReverse = function(fn, thisp) {
        thisp = thisp || this;
        for (var walker = this.tail, i = this.length - 1; walker !== null; i--) {
          fn.call(thisp, walker.value, i, this);
          walker = walker.prev;
        }
      };
      Yallist.prototype.get = function(n) {
        for (var i = 0, walker = this.head; walker !== null && i < n; i++) {
          walker = walker.next;
        }
        if (i === n && walker !== null) {
          return walker.value;
        }
      };
      Yallist.prototype.getReverse = function(n) {
        for (var i = 0, walker = this.tail; walker !== null && i < n; i++) {
          walker = walker.prev;
        }
        if (i === n && walker !== null) {
          return walker.value;
        }
      };
      Yallist.prototype.map = function(fn, thisp) {
        thisp = thisp || this;
        var res = new Yallist();
        for (var walker = this.head; walker !== null; ) {
          res.push(fn.call(thisp, walker.value, this));
          walker = walker.next;
        }
        return res;
      };
      Yallist.prototype.mapReverse = function(fn, thisp) {
        thisp = thisp || this;
        var res = new Yallist();
        for (var walker = this.tail; walker !== null; ) {
          res.push(fn.call(thisp, walker.value, this));
          walker = walker.prev;
        }
        return res;
      };
      Yallist.prototype.reduce = function(fn, initial) {
        var acc;
        var walker = this.head;
        if (arguments.length > 1) {
          acc = initial;
        } else if (this.head) {
          walker = this.head.next;
          acc = this.head.value;
        } else {
          throw new TypeError("Reduce of empty list with no initial value");
        }
        for (var i = 0; walker !== null; i++) {
          acc = fn(acc, walker.value, i);
          walker = walker.next;
        }
        return acc;
      };
      Yallist.prototype.reduceReverse = function(fn, initial) {
        var acc;
        var walker = this.tail;
        if (arguments.length > 1) {
          acc = initial;
        } else if (this.tail) {
          walker = this.tail.prev;
          acc = this.tail.value;
        } else {
          throw new TypeError("Reduce of empty list with no initial value");
        }
        for (var i = this.length - 1; walker !== null; i--) {
          acc = fn(acc, walker.value, i);
          walker = walker.prev;
        }
        return acc;
      };
      Yallist.prototype.toArray = function() {
        var arr = new Array(this.length);
        for (var i = 0, walker = this.head; walker !== null; i++) {
          arr[i] = walker.value;
          walker = walker.next;
        }
        return arr;
      };
      Yallist.prototype.toArrayReverse = function() {
        var arr = new Array(this.length);
        for (var i = 0, walker = this.tail; walker !== null; i++) {
          arr[i] = walker.value;
          walker = walker.prev;
        }
        return arr;
      };
      Yallist.prototype.slice = function(from, to) {
        to = to || this.length;
        if (to < 0) {
          to += this.length;
        }
        from = from || 0;
        if (from < 0) {
          from += this.length;
        }
        var ret = new Yallist();
        if (to < from || to < 0) {
          return ret;
        }
        if (from < 0) {
          from = 0;
        }
        if (to > this.length) {
          to = this.length;
        }
        for (var i = 0, walker = this.head; walker !== null && i < from; i++) {
          walker = walker.next;
        }
        for (; walker !== null && i < to; i++, walker = walker.next) {
          ret.push(walker.value);
        }
        return ret;
      };
      Yallist.prototype.sliceReverse = function(from, to) {
        to = to || this.length;
        if (to < 0) {
          to += this.length;
        }
        from = from || 0;
        if (from < 0) {
          from += this.length;
        }
        var ret = new Yallist();
        if (to < from || to < 0) {
          return ret;
        }
        if (from < 0) {
          from = 0;
        }
        if (to > this.length) {
          to = this.length;
        }
        for (var i = this.length, walker = this.tail; walker !== null && i > to; i--) {
          walker = walker.prev;
        }
        for (; walker !== null && i > from; i--, walker = walker.prev) {
          ret.push(walker.value);
        }
        return ret;
      };
      Yallist.prototype.splice = function(start, deleteCount, ...nodes) {
        if (start > this.length) {
          start = this.length - 1;
        }
        if (start < 0) {
          start = this.length + start;
        }
        for (var i = 0, walker = this.head; walker !== null && i < start; i++) {
          walker = walker.next;
        }
        var ret = [];
        for (var i = 0; walker && i < deleteCount; i++) {
          ret.push(walker.value);
          walker = this.removeNode(walker);
        }
        if (walker === null) {
          walker = this.tail;
        }
        if (walker !== this.head && walker !== this.tail) {
          walker = walker.prev;
        }
        for (var i = 0; i < nodes.length; i++) {
          walker = insert(this, walker, nodes[i]);
        }
        return ret;
      };
      Yallist.prototype.reverse = function() {
        var head = this.head;
        var tail = this.tail;
        for (var walker = head; walker !== null; walker = walker.prev) {
          var p = walker.prev;
          walker.prev = walker.next;
          walker.next = p;
        }
        this.head = tail;
        this.tail = head;
        return this;
      };
      function insert(self2, node, value) {
        var inserted = node === self2.head ? new Node(value, null, node, self2) : new Node(value, node, node.next, self2);
        if (inserted.next === null) {
          self2.tail = inserted;
        }
        if (inserted.prev === null) {
          self2.head = inserted;
        }
        self2.length++;
        return inserted;
      }
      function push(self2, item) {
        self2.tail = new Node(item, self2.tail, null, self2);
        if (!self2.head) {
          self2.head = self2.tail;
        }
        self2.length++;
      }
      function unshift(self2, item) {
        self2.head = new Node(item, null, self2.head, self2);
        if (!self2.tail) {
          self2.tail = self2.head;
        }
        self2.length++;
      }
      function Node(value, prev, next, list) {
        if (!(this instanceof Node)) {
          return new Node(value, prev, next, list);
        }
        this.list = list;
        this.value = value;
        if (prev) {
          prev.next = this;
          this.prev = prev;
        } else {
          this.prev = null;
        }
        if (next) {
          next.prev = this;
          this.next = next;
        } else {
          this.next = null;
        }
      }
      try {
        require_iterator()(Yallist);
      } catch (er) {
      }
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/lru-cache-npm-6.0.0-b4c8668fe1-9.zip/node_modules/lru-cache/index.js
  var require_lru_cache = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/lru-cache-npm-6.0.0-b4c8668fe1-9.zip/node_modules/lru-cache/index.js"(exports, module) {
      "use strict";
      var Yallist = require_yallist();
      var MAX = Symbol("max");
      var LENGTH = Symbol("length");
      var LENGTH_CALCULATOR = Symbol("lengthCalculator");
      var ALLOW_STALE = Symbol("allowStale");
      var MAX_AGE = Symbol("maxAge");
      var DISPOSE = Symbol("dispose");
      var NO_DISPOSE_ON_SET = Symbol("noDisposeOnSet");
      var LRU_LIST = Symbol("lruList");
      var CACHE = Symbol("cache");
      var UPDATE_AGE_ON_GET = Symbol("updateAgeOnGet");
      var naiveLength = () => 1;
      var LRUCache = class {
        constructor(options) {
          if (typeof options === "number")
            options = {max: options};
          if (!options)
            options = {};
          if (options.max && (typeof options.max !== "number" || options.max < 0))
            throw new TypeError("max must be a non-negative number");
          const max = this[MAX] = options.max || Infinity;
          const lc = options.length || naiveLength;
          this[LENGTH_CALCULATOR] = typeof lc !== "function" ? naiveLength : lc;
          this[ALLOW_STALE] = options.stale || false;
          if (options.maxAge && typeof options.maxAge !== "number")
            throw new TypeError("maxAge must be a number");
          this[MAX_AGE] = options.maxAge || 0;
          this[DISPOSE] = options.dispose;
          this[NO_DISPOSE_ON_SET] = options.noDisposeOnSet || false;
          this[UPDATE_AGE_ON_GET] = options.updateAgeOnGet || false;
          this.reset();
        }
        set max(mL) {
          if (typeof mL !== "number" || mL < 0)
            throw new TypeError("max must be a non-negative number");
          this[MAX] = mL || Infinity;
          trim(this);
        }
        get max() {
          return this[MAX];
        }
        set allowStale(allowStale) {
          this[ALLOW_STALE] = !!allowStale;
        }
        get allowStale() {
          return this[ALLOW_STALE];
        }
        set maxAge(mA) {
          if (typeof mA !== "number")
            throw new TypeError("maxAge must be a non-negative number");
          this[MAX_AGE] = mA;
          trim(this);
        }
        get maxAge() {
          return this[MAX_AGE];
        }
        set lengthCalculator(lC) {
          if (typeof lC !== "function")
            lC = naiveLength;
          if (lC !== this[LENGTH_CALCULATOR]) {
            this[LENGTH_CALCULATOR] = lC;
            this[LENGTH] = 0;
            this[LRU_LIST].forEach((hit) => {
              hit.length = this[LENGTH_CALCULATOR](hit.value, hit.key);
              this[LENGTH] += hit.length;
            });
          }
          trim(this);
        }
        get lengthCalculator() {
          return this[LENGTH_CALCULATOR];
        }
        get length() {
          return this[LENGTH];
        }
        get itemCount() {
          return this[LRU_LIST].length;
        }
        rforEach(fn, thisp) {
          thisp = thisp || this;
          for (let walker = this[LRU_LIST].tail; walker !== null; ) {
            const prev = walker.prev;
            forEachStep(this, fn, walker, thisp);
            walker = prev;
          }
        }
        forEach(fn, thisp) {
          thisp = thisp || this;
          for (let walker = this[LRU_LIST].head; walker !== null; ) {
            const next = walker.next;
            forEachStep(this, fn, walker, thisp);
            walker = next;
          }
        }
        keys() {
          return this[LRU_LIST].toArray().map((k) => k.key);
        }
        values() {
          return this[LRU_LIST].toArray().map((k) => k.value);
        }
        reset() {
          if (this[DISPOSE] && this[LRU_LIST] && this[LRU_LIST].length) {
            this[LRU_LIST].forEach((hit) => this[DISPOSE](hit.key, hit.value));
          }
          this[CACHE] = new Map();
          this[LRU_LIST] = new Yallist();
          this[LENGTH] = 0;
        }
        dump() {
          return this[LRU_LIST].map((hit) => isStale(this, hit) ? false : {
            k: hit.key,
            v: hit.value,
            e: hit.now + (hit.maxAge || 0)
          }).toArray().filter((h) => h);
        }
        dumpLru() {
          return this[LRU_LIST];
        }
        set(key, value, maxAge) {
          maxAge = maxAge || this[MAX_AGE];
          if (maxAge && typeof maxAge !== "number")
            throw new TypeError("maxAge must be a number");
          const now = maxAge ? Date.now() : 0;
          const len = this[LENGTH_CALCULATOR](value, key);
          if (this[CACHE].has(key)) {
            if (len > this[MAX]) {
              del(this, this[CACHE].get(key));
              return false;
            }
            const node = this[CACHE].get(key);
            const item = node.value;
            if (this[DISPOSE]) {
              if (!this[NO_DISPOSE_ON_SET])
                this[DISPOSE](key, item.value);
            }
            item.now = now;
            item.maxAge = maxAge;
            item.value = value;
            this[LENGTH] += len - item.length;
            item.length = len;
            this.get(key);
            trim(this);
            return true;
          }
          const hit = new Entry(key, value, len, now, maxAge);
          if (hit.length > this[MAX]) {
            if (this[DISPOSE])
              this[DISPOSE](key, value);
            return false;
          }
          this[LENGTH] += hit.length;
          this[LRU_LIST].unshift(hit);
          this[CACHE].set(key, this[LRU_LIST].head);
          trim(this);
          return true;
        }
        has(key) {
          if (!this[CACHE].has(key))
            return false;
          const hit = this[CACHE].get(key).value;
          return !isStale(this, hit);
        }
        get(key) {
          return get(this, key, true);
        }
        peek(key) {
          return get(this, key, false);
        }
        pop() {
          const node = this[LRU_LIST].tail;
          if (!node)
            return null;
          del(this, node);
          return node.value;
        }
        del(key) {
          del(this, this[CACHE].get(key));
        }
        load(arr) {
          this.reset();
          const now = Date.now();
          for (let l = arr.length - 1; l >= 0; l--) {
            const hit = arr[l];
            const expiresAt = hit.e || 0;
            if (expiresAt === 0)
              this.set(hit.k, hit.v);
            else {
              const maxAge = expiresAt - now;
              if (maxAge > 0) {
                this.set(hit.k, hit.v, maxAge);
              }
            }
          }
        }
        prune() {
          this[CACHE].forEach((value, key) => get(this, key, false));
        }
      };
      var get = (self2, key, doUse) => {
        const node = self2[CACHE].get(key);
        if (node) {
          const hit = node.value;
          if (isStale(self2, hit)) {
            del(self2, node);
            if (!self2[ALLOW_STALE])
              return void 0;
          } else {
            if (doUse) {
              if (self2[UPDATE_AGE_ON_GET])
                node.value.now = Date.now();
              self2[LRU_LIST].unshiftNode(node);
            }
          }
          return hit.value;
        }
      };
      var isStale = (self2, hit) => {
        if (!hit || !hit.maxAge && !self2[MAX_AGE])
          return false;
        const diff = Date.now() - hit.now;
        return hit.maxAge ? diff > hit.maxAge : self2[MAX_AGE] && diff > self2[MAX_AGE];
      };
      var trim = (self2) => {
        if (self2[LENGTH] > self2[MAX]) {
          for (let walker = self2[LRU_LIST].tail; self2[LENGTH] > self2[MAX] && walker !== null; ) {
            const prev = walker.prev;
            del(self2, walker);
            walker = prev;
          }
        }
      };
      var del = (self2, node) => {
        if (node) {
          const hit = node.value;
          if (self2[DISPOSE])
            self2[DISPOSE](hit.key, hit.value);
          self2[LENGTH] -= hit.length;
          self2[CACHE].delete(hit.key);
          self2[LRU_LIST].removeNode(node);
        }
      };
      var Entry = class {
        constructor(key, value, length, now, maxAge) {
          this.key = key;
          this.value = value;
          this.length = length;
          this.now = now;
          this.maxAge = maxAge || 0;
        }
      };
      var forEachStep = (self2, fn, node, thisp) => {
        let hit = node.value;
        if (isStale(self2, hit)) {
          del(self2, node);
          if (!self2[ALLOW_STALE])
            hit = void 0;
        }
        if (hit)
          fn.call(thisp, hit.value, hit.key, self2);
      };
      module.exports = LRUCache;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/hosted-git-info-npm-4.1.0-4efcdf8fd3-9.zip/node_modules/hosted-git-info/index.js
  var require_hosted_git_info = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/hosted-git-info-npm-4.1.0-4efcdf8fd3-9.zip/node_modules/hosted-git-info/index.js"(exports, module) {
      "use strict";
      var url = __require("url");
      var gitHosts = require_git_host_info();
      var GitHost = module.exports = require_git_host();
      var LRU = require_lru_cache();
      var cache = new LRU({max: 1e3});
      var protocolToRepresentationMap = {
        "git+ssh:": "sshurl",
        "git+https:": "https",
        "ssh:": "sshurl",
        "git:": "git"
      };
      function protocolToRepresentation(protocol) {
        return protocolToRepresentationMap[protocol] || protocol.slice(0, -1);
      }
      var authProtocols = {
        "git:": true,
        "https:": true,
        "git+https:": true,
        "http:": true,
        "git+http:": true
      };
      var knownProtocols = Object.keys(gitHosts.byShortcut).concat(["http:", "https:", "git:", "git+ssh:", "git+https:", "ssh:"]);
      module.exports.fromUrl = function(giturl, opts) {
        if (typeof giturl !== "string") {
          return;
        }
        const key = giturl + JSON.stringify(opts || {});
        if (!cache.has(key)) {
          cache.set(key, fromUrl(giturl, opts));
        }
        return cache.get(key);
      };
      function fromUrl(giturl, opts) {
        if (!giturl) {
          return;
        }
        const url2 = isGitHubShorthand(giturl) ? "github:" + giturl : correctProtocol(giturl);
        const parsed = parseGitUrl(url2);
        if (!parsed) {
          return parsed;
        }
        const gitHostShortcut = gitHosts.byShortcut[parsed.protocol];
        const gitHostDomain = gitHosts.byDomain[parsed.hostname.startsWith("www.") ? parsed.hostname.slice(4) : parsed.hostname];
        const gitHostName = gitHostShortcut || gitHostDomain;
        if (!gitHostName) {
          return;
        }
        const gitHostInfo = gitHosts[gitHostShortcut || gitHostDomain];
        let auth = null;
        if (authProtocols[parsed.protocol] && (parsed.username || parsed.password)) {
          auth = `${parsed.username}${parsed.password ? ":" + parsed.password : ""}`;
        }
        let committish = null;
        let user = null;
        let project = null;
        let defaultRepresentation = null;
        try {
          if (gitHostShortcut) {
            let pathname = parsed.pathname.startsWith("/") ? parsed.pathname.slice(1) : parsed.pathname;
            const firstAt = pathname.indexOf("@");
            if (firstAt > -1) {
              pathname = pathname.slice(firstAt + 1);
            }
            const lastSlash = pathname.lastIndexOf("/");
            if (lastSlash > -1) {
              user = decodeURIComponent(pathname.slice(0, lastSlash));
              if (!user) {
                user = null;
              }
              project = decodeURIComponent(pathname.slice(lastSlash + 1));
            } else {
              project = decodeURIComponent(pathname);
            }
            if (project.endsWith(".git")) {
              project = project.slice(0, -4);
            }
            if (parsed.hash) {
              committish = decodeURIComponent(parsed.hash.slice(1));
            }
            defaultRepresentation = "shortcut";
          } else {
            if (!gitHostInfo.protocols.includes(parsed.protocol)) {
              return;
            }
            const segments = gitHostInfo.extract(parsed);
            if (!segments) {
              return;
            }
            user = segments.user && decodeURIComponent(segments.user);
            project = decodeURIComponent(segments.project);
            committish = decodeURIComponent(segments.committish);
            defaultRepresentation = protocolToRepresentation(parsed.protocol);
          }
        } catch (err) {
          if (err instanceof URIError) {
            return;
          } else {
            throw err;
          }
        }
        return new GitHost(gitHostName, user, auth, project, committish, defaultRepresentation, opts);
      }
      var correctProtocol = (arg) => {
        const firstColon = arg.indexOf(":");
        const proto = arg.slice(0, firstColon + 1);
        if (knownProtocols.includes(proto)) {
          return arg;
        }
        const firstAt = arg.indexOf("@");
        if (firstAt > -1) {
          if (firstAt > firstColon) {
            return `git+ssh://${arg}`;
          } else {
            return arg;
          }
        }
        const doubleSlash = arg.indexOf("//");
        if (doubleSlash === firstColon + 1) {
          return arg;
        }
        return arg.slice(0, firstColon + 1) + "//" + arg.slice(firstColon + 1);
      };
      var isGitHubShorthand = (arg) => {
        const firstHash = arg.indexOf("#");
        const firstSlash = arg.indexOf("/");
        const secondSlash = arg.indexOf("/", firstSlash + 1);
        const firstColon = arg.indexOf(":");
        const firstSpace = /\s/.exec(arg);
        const firstAt = arg.indexOf("@");
        const spaceOnlyAfterHash = !firstSpace || firstHash > -1 && firstSpace.index > firstHash;
        const atOnlyAfterHash = firstAt === -1 || firstHash > -1 && firstAt > firstHash;
        const colonOnlyAfterHash = firstColon === -1 || firstHash > -1 && firstColon > firstHash;
        const secondSlashOnlyAfterHash = secondSlash === -1 || firstHash > -1 && secondSlash > firstHash;
        const hasSlash = firstSlash > 0;
        const doesNotEndWithSlash = firstHash > -1 ? arg[firstHash - 1] !== "/" : !arg.endsWith("/");
        const doesNotStartWithDot = !arg.startsWith(".");
        return spaceOnlyAfterHash && hasSlash && doesNotEndWithSlash && doesNotStartWithDot && atOnlyAfterHash && colonOnlyAfterHash && secondSlashOnlyAfterHash;
      };
      var correctUrl = (giturl) => {
        const firstAt = giturl.indexOf("@");
        const lastHash = giturl.lastIndexOf("#");
        let firstColon = giturl.indexOf(":");
        let lastColon = giturl.lastIndexOf(":", lastHash > -1 ? lastHash : Infinity);
        let corrected;
        if (lastColon > firstAt) {
          corrected = giturl.slice(0, lastColon) + "/" + giturl.slice(lastColon + 1);
          firstColon = corrected.indexOf(":");
          lastColon = corrected.lastIndexOf(":");
        }
        if (firstColon === -1 && giturl.indexOf("//") === -1) {
          corrected = `git+ssh://${corrected}`;
        }
        return corrected;
      };
      var parseGitUrl = (giturl) => {
        let result;
        try {
          result = new url.URL(giturl);
        } catch (err) {
        }
        if (result) {
          return result;
        }
        const correctedUrl = correctUrl(giturl);
        try {
          result = new url.URL(correctedUrl);
        } catch (err) {
        }
        return result;
      };
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/@hutson-parse-repository-url-npm-3.0.2-ae5ef1b671-9.zip/node_modules/@hutson/parse-repository-url/src/index.js
  var require_src = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/@hutson-parse-repository-url-npm-3.0.2-ae5ef1b671-9.zip/node_modules/@hutson/parse-repository-url/src/index.js"(exports, module) {
      "use strict";
      var {parse} = __require("url");
      var URL_PATTERNS = new RegExp(/^\/?:?([/\w-.]+)\/([\w-.]+)\/?$/);
      var GITHUB_API = new RegExp(/^\/repos\/([\w-.]+)\/([\w-.]+)\/(?:tarball|zipball)(?:\/.+)?$/);
      var GITHUB_CODELOAD = new RegExp(/^\/([\w-.]+)\/([\w-.]+)\/(?:legacy\.(?:zip|tar\.gz))(?:\/.+)?$/);
      module.exports = (url) => {
        const modifiedURL = url.replace(/^git@/, `https://git@`).replace(/\.git$/, ``);
        const parsedURL = parse(modifiedURL);
        const format = (matches) => {
          return {browse: createBrowseURL(parsedURL, matches), domain: parsedURL.host, project: matches[2] || null, type: getType(parsedURL), user: matches[1] || null};
        };
        if (parsedURL.host) {
          if (parsedURL.host.includes(`api.github.com`)) {
            const matches = GITHUB_API.exec(parsedURL.pathname) || [];
            return format(matches);
          }
          if (parsedURL.host.includes(`codeload.github.com`)) {
            const matches = GITHUB_CODELOAD.exec(parsedURL.pathname) || [];
            return format(matches);
          }
        }
        return format(URL_PATTERNS.exec(parsedURL.pathname) || []);
      };
      function getType(parsedURL) {
        if (typeof parsedURL.host !== `string`) {
          return null;
        }
        if (parsedURL.host.indexOf(`github`) !== -1) {
          return "github";
        }
        if (parsedURL.host.indexOf(`gitlab`) !== -1) {
          return "gitlab";
        }
        return null;
      }
      function createBrowseURL(parsedURL, matches) {
        const protocol = parsedURL.protocol === `http:` ? `http:` : `https:`;
        const browseURL = `${protocol}//${parsedURL.host}/${matches[1]}/${matches[2]}`;
        return () => {
          return browseURL;
        };
      }
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/get-pkg-repo-npm-4.2.1-b1cd052cb4-9.zip/node_modules/get-pkg-repo/src/index.js
  var require_src2 = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/get-pkg-repo-npm-4.2.1-b1cd052cb4-9.zip/node_modules/get-pkg-repo/src/index.js"(exports, module) {
      "use strict";
      var hostedGitInfo = require_hosted_git_info();
      var parseRepositoryURL = require_src();
      module.exports = (packageData) => {
        if (!packageData || !packageData.repository || typeof packageData.repository !== "string" && !packageData.repository.url) {
          throw new Error(`No valid "repository" data found in package metadata. Please see https://docs.npmjs.com/files/package.json#repository for proper syntax.`);
        }
        const repositoryURL = typeof packageData.repository === "string" ? packageData.repository : packageData.repository.url;
        return hostedGitInfo.fromUrl(repositoryURL) || parseRepositoryURL(repositoryURL);
      };
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/semver-npm-7.3.7-3bfe704194-9.zip/node_modules/semver/internal/constants.js
  var require_constants = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/semver-npm-7.3.7-3bfe704194-9.zip/node_modules/semver/internal/constants.js"(exports, module) {
      var SEMVER_SPEC_VERSION = "2.0.0";
      var MAX_LENGTH = 256;
      var MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER || 9007199254740991;
      var MAX_SAFE_COMPONENT_LENGTH = 16;
      module.exports = {
        SEMVER_SPEC_VERSION,
        MAX_LENGTH,
        MAX_SAFE_INTEGER,
        MAX_SAFE_COMPONENT_LENGTH
      };
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/semver-npm-7.3.7-3bfe704194-9.zip/node_modules/semver/internal/debug.js
  var require_debug = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/semver-npm-7.3.7-3bfe704194-9.zip/node_modules/semver/internal/debug.js"(exports, module) {
      var debug = typeof process === "object" && process.env && process.env.NODE_DEBUG && /\bsemver\b/i.test(process.env.NODE_DEBUG) ? (...args) => console.error("SEMVER", ...args) : () => {
      };
      module.exports = debug;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/semver-npm-7.3.7-3bfe704194-9.zip/node_modules/semver/internal/re.js
  var require_re = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/semver-npm-7.3.7-3bfe704194-9.zip/node_modules/semver/internal/re.js"(exports, module) {
      var {MAX_SAFE_COMPONENT_LENGTH} = require_constants();
      var debug = require_debug();
      exports = module.exports = {};
      var re = exports.re = [];
      var src = exports.src = [];
      var t = exports.t = {};
      var R = 0;
      var createToken = (name, value, isGlobal) => {
        const index = R++;
        debug(name, index, value);
        t[name] = index;
        src[index] = value;
        re[index] = new RegExp(value, isGlobal ? "g" : void 0);
      };
      createToken("NUMERICIDENTIFIER", "0|[1-9]\\d*");
      createToken("NUMERICIDENTIFIERLOOSE", "[0-9]+");
      createToken("NONNUMERICIDENTIFIER", "\\d*[a-zA-Z-][a-zA-Z0-9-]*");
      createToken("MAINVERSION", `(${src[t.NUMERICIDENTIFIER]})\\.(${src[t.NUMERICIDENTIFIER]})\\.(${src[t.NUMERICIDENTIFIER]})`);
      createToken("MAINVERSIONLOOSE", `(${src[t.NUMERICIDENTIFIERLOOSE]})\\.(${src[t.NUMERICIDENTIFIERLOOSE]})\\.(${src[t.NUMERICIDENTIFIERLOOSE]})`);
      createToken("PRERELEASEIDENTIFIER", `(?:${src[t.NUMERICIDENTIFIER]}|${src[t.NONNUMERICIDENTIFIER]})`);
      createToken("PRERELEASEIDENTIFIERLOOSE", `(?:${src[t.NUMERICIDENTIFIERLOOSE]}|${src[t.NONNUMERICIDENTIFIER]})`);
      createToken("PRERELEASE", `(?:-(${src[t.PRERELEASEIDENTIFIER]}(?:\\.${src[t.PRERELEASEIDENTIFIER]})*))`);
      createToken("PRERELEASELOOSE", `(?:-?(${src[t.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${src[t.PRERELEASEIDENTIFIERLOOSE]})*))`);
      createToken("BUILDIDENTIFIER", "[0-9A-Za-z-]+");
      createToken("BUILD", `(?:\\+(${src[t.BUILDIDENTIFIER]}(?:\\.${src[t.BUILDIDENTIFIER]})*))`);
      createToken("FULLPLAIN", `v?${src[t.MAINVERSION]}${src[t.PRERELEASE]}?${src[t.BUILD]}?`);
      createToken("FULL", `^${src[t.FULLPLAIN]}$`);
      createToken("LOOSEPLAIN", `[v=\\s]*${src[t.MAINVERSIONLOOSE]}${src[t.PRERELEASELOOSE]}?${src[t.BUILD]}?`);
      createToken("LOOSE", `^${src[t.LOOSEPLAIN]}$`);
      createToken("GTLT", "((?:<|>)?=?)");
      createToken("XRANGEIDENTIFIERLOOSE", `${src[t.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);
      createToken("XRANGEIDENTIFIER", `${src[t.NUMERICIDENTIFIER]}|x|X|\\*`);
      createToken("XRANGEPLAIN", `[v=\\s]*(${src[t.XRANGEIDENTIFIER]})(?:\\.(${src[t.XRANGEIDENTIFIER]})(?:\\.(${src[t.XRANGEIDENTIFIER]})(?:${src[t.PRERELEASE]})?${src[t.BUILD]}?)?)?`);
      createToken("XRANGEPLAINLOOSE", `[v=\\s]*(${src[t.XRANGEIDENTIFIERLOOSE]})(?:\\.(${src[t.XRANGEIDENTIFIERLOOSE]})(?:\\.(${src[t.XRANGEIDENTIFIERLOOSE]})(?:${src[t.PRERELEASELOOSE]})?${src[t.BUILD]}?)?)?`);
      createToken("XRANGE", `^${src[t.GTLT]}\\s*${src[t.XRANGEPLAIN]}$`);
      createToken("XRANGELOOSE", `^${src[t.GTLT]}\\s*${src[t.XRANGEPLAINLOOSE]}$`);
      createToken("COERCE", `${"(^|[^\\d])(\\d{1,"}${MAX_SAFE_COMPONENT_LENGTH}})(?:\\.(\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?(?:\\.(\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?(?:$|[^\\d])`);
      createToken("COERCERTL", src[t.COERCE], true);
      createToken("LONETILDE", "(?:~>?)");
      createToken("TILDETRIM", `(\\s*)${src[t.LONETILDE]}\\s+`, true);
      exports.tildeTrimReplace = "$1~";
      createToken("TILDE", `^${src[t.LONETILDE]}${src[t.XRANGEPLAIN]}$`);
      createToken("TILDELOOSE", `^${src[t.LONETILDE]}${src[t.XRANGEPLAINLOOSE]}$`);
      createToken("LONECARET", "(?:\\^)");
      createToken("CARETTRIM", `(\\s*)${src[t.LONECARET]}\\s+`, true);
      exports.caretTrimReplace = "$1^";
      createToken("CARET", `^${src[t.LONECARET]}${src[t.XRANGEPLAIN]}$`);
      createToken("CARETLOOSE", `^${src[t.LONECARET]}${src[t.XRANGEPLAINLOOSE]}$`);
      createToken("COMPARATORLOOSE", `^${src[t.GTLT]}\\s*(${src[t.LOOSEPLAIN]})$|^$`);
      createToken("COMPARATOR", `^${src[t.GTLT]}\\s*(${src[t.FULLPLAIN]})$|^$`);
      createToken("COMPARATORTRIM", `(\\s*)${src[t.GTLT]}\\s*(${src[t.LOOSEPLAIN]}|${src[t.XRANGEPLAIN]})`, true);
      exports.comparatorTrimReplace = "$1$2$3";
      createToken("HYPHENRANGE", `^\\s*(${src[t.XRANGEPLAIN]})\\s+-\\s+(${src[t.XRANGEPLAIN]})\\s*$`);
      createToken("HYPHENRANGELOOSE", `^\\s*(${src[t.XRANGEPLAINLOOSE]})\\s+-\\s+(${src[t.XRANGEPLAINLOOSE]})\\s*$`);
      createToken("STAR", "(<|>)?=?\\s*\\*");
      createToken("GTE0", "^\\s*>=\\s*0\\.0\\.0\\s*$");
      createToken("GTE0PRE", "^\\s*>=\\s*0\\.0\\.0-0\\s*$");
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/semver-npm-7.3.7-3bfe704194-9.zip/node_modules/semver/internal/parse-options.js
  var require_parse_options = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/semver-npm-7.3.7-3bfe704194-9.zip/node_modules/semver/internal/parse-options.js"(exports, module) {
      var opts = ["includePrerelease", "loose", "rtl"];
      var parseOptions = (options) => !options ? {} : typeof options !== "object" ? {loose: true} : opts.filter((k) => options[k]).reduce((o, k) => {
        o[k] = true;
        return o;
      }, {});
      module.exports = parseOptions;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/semver-npm-7.3.7-3bfe704194-9.zip/node_modules/semver/internal/identifiers.js
  var require_identifiers = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/semver-npm-7.3.7-3bfe704194-9.zip/node_modules/semver/internal/identifiers.js"(exports, module) {
      var numeric = /^[0-9]+$/;
      var compareIdentifiers = (a, b) => {
        const anum = numeric.test(a);
        const bnum = numeric.test(b);
        if (anum && bnum) {
          a = +a;
          b = +b;
        }
        return a === b ? 0 : anum && !bnum ? -1 : bnum && !anum ? 1 : a < b ? -1 : 1;
      };
      var rcompareIdentifiers = (a, b) => compareIdentifiers(b, a);
      module.exports = {
        compareIdentifiers,
        rcompareIdentifiers
      };
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/semver-npm-7.3.7-3bfe704194-9.zip/node_modules/semver/classes/semver.js
  var require_semver = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/semver-npm-7.3.7-3bfe704194-9.zip/node_modules/semver/classes/semver.js"(exports, module) {
      var debug = require_debug();
      var {MAX_LENGTH, MAX_SAFE_INTEGER} = require_constants();
      var {re, t} = require_re();
      var parseOptions = require_parse_options();
      var {compareIdentifiers} = require_identifiers();
      var SemVer = class {
        constructor(version, options) {
          options = parseOptions(options);
          if (version instanceof SemVer) {
            if (version.loose === !!options.loose && version.includePrerelease === !!options.includePrerelease) {
              return version;
            } else {
              version = version.version;
            }
          } else if (typeof version !== "string") {
            throw new TypeError(`Invalid Version: ${version}`);
          }
          if (version.length > MAX_LENGTH) {
            throw new TypeError(`version is longer than ${MAX_LENGTH} characters`);
          }
          debug("SemVer", version, options);
          this.options = options;
          this.loose = !!options.loose;
          this.includePrerelease = !!options.includePrerelease;
          const m = version.trim().match(options.loose ? re[t.LOOSE] : re[t.FULL]);
          if (!m) {
            throw new TypeError(`Invalid Version: ${version}`);
          }
          this.raw = version;
          this.major = +m[1];
          this.minor = +m[2];
          this.patch = +m[3];
          if (this.major > MAX_SAFE_INTEGER || this.major < 0) {
            throw new TypeError("Invalid major version");
          }
          if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {
            throw new TypeError("Invalid minor version");
          }
          if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {
            throw new TypeError("Invalid patch version");
          }
          if (!m[4]) {
            this.prerelease = [];
          } else {
            this.prerelease = m[4].split(".").map((id) => {
              if (/^[0-9]+$/.test(id)) {
                const num = +id;
                if (num >= 0 && num < MAX_SAFE_INTEGER) {
                  return num;
                }
              }
              return id;
            });
          }
          this.build = m[5] ? m[5].split(".") : [];
          this.format();
        }
        format() {
          this.version = `${this.major}.${this.minor}.${this.patch}`;
          if (this.prerelease.length) {
            this.version += `-${this.prerelease.join(".")}`;
          }
          return this.version;
        }
        toString() {
          return this.version;
        }
        compare(other) {
          debug("SemVer.compare", this.version, this.options, other);
          if (!(other instanceof SemVer)) {
            if (typeof other === "string" && other === this.version) {
              return 0;
            }
            other = new SemVer(other, this.options);
          }
          if (other.version === this.version) {
            return 0;
          }
          return this.compareMain(other) || this.comparePre(other);
        }
        compareMain(other) {
          if (!(other instanceof SemVer)) {
            other = new SemVer(other, this.options);
          }
          return compareIdentifiers(this.major, other.major) || compareIdentifiers(this.minor, other.minor) || compareIdentifiers(this.patch, other.patch);
        }
        comparePre(other) {
          if (!(other instanceof SemVer)) {
            other = new SemVer(other, this.options);
          }
          if (this.prerelease.length && !other.prerelease.length) {
            return -1;
          } else if (!this.prerelease.length && other.prerelease.length) {
            return 1;
          } else if (!this.prerelease.length && !other.prerelease.length) {
            return 0;
          }
          let i = 0;
          do {
            const a = this.prerelease[i];
            const b = other.prerelease[i];
            debug("prerelease compare", i, a, b);
            if (a === void 0 && b === void 0) {
              return 0;
            } else if (b === void 0) {
              return 1;
            } else if (a === void 0) {
              return -1;
            } else if (a === b) {
              continue;
            } else {
              return compareIdentifiers(a, b);
            }
          } while (++i);
        }
        compareBuild(other) {
          if (!(other instanceof SemVer)) {
            other = new SemVer(other, this.options);
          }
          let i = 0;
          do {
            const a = this.build[i];
            const b = other.build[i];
            debug("prerelease compare", i, a, b);
            if (a === void 0 && b === void 0) {
              return 0;
            } else if (b === void 0) {
              return 1;
            } else if (a === void 0) {
              return -1;
            } else if (a === b) {
              continue;
            } else {
              return compareIdentifiers(a, b);
            }
          } while (++i);
        }
        inc(release, identifier) {
          switch (release) {
            case "premajor":
              this.prerelease.length = 0;
              this.patch = 0;
              this.minor = 0;
              this.major++;
              this.inc("pre", identifier);
              break;
            case "preminor":
              this.prerelease.length = 0;
              this.patch = 0;
              this.minor++;
              this.inc("pre", identifier);
              break;
            case "prepatch":
              this.prerelease.length = 0;
              this.inc("patch", identifier);
              this.inc("pre", identifier);
              break;
            case "prerelease":
              if (this.prerelease.length === 0) {
                this.inc("patch", identifier);
              }
              this.inc("pre", identifier);
              break;
            case "major":
              if (this.minor !== 0 || this.patch !== 0 || this.prerelease.length === 0) {
                this.major++;
              }
              this.minor = 0;
              this.patch = 0;
              this.prerelease = [];
              break;
            case "minor":
              if (this.patch !== 0 || this.prerelease.length === 0) {
                this.minor++;
              }
              this.patch = 0;
              this.prerelease = [];
              break;
            case "patch":
              if (this.prerelease.length === 0) {
                this.patch++;
              }
              this.prerelease = [];
              break;
            case "pre":
              if (this.prerelease.length === 0) {
                this.prerelease = [0];
              } else {
                let i = this.prerelease.length;
                while (--i >= 0) {
                  if (typeof this.prerelease[i] === "number") {
                    this.prerelease[i]++;
                    i = -2;
                  }
                }
                if (i === -1) {
                  this.prerelease.push(0);
                }
              }
              if (identifier) {
                if (compareIdentifiers(this.prerelease[0], identifier) === 0) {
                  if (isNaN(this.prerelease[1])) {
                    this.prerelease = [identifier, 0];
                  }
                } else {
                  this.prerelease = [identifier, 0];
                }
              }
              break;
            default:
              throw new Error(`invalid increment argument: ${release}`);
          }
          this.format();
          this.raw = this.version;
          return this;
        }
      };
      module.exports = SemVer;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/semver-npm-7.3.7-3bfe704194-9.zip/node_modules/semver/functions/parse.js
  var require_parse = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/semver-npm-7.3.7-3bfe704194-9.zip/node_modules/semver/functions/parse.js"(exports, module) {
      var {MAX_LENGTH} = require_constants();
      var {re, t} = require_re();
      var SemVer = require_semver();
      var parseOptions = require_parse_options();
      var parse = (version, options) => {
        options = parseOptions(options);
        if (version instanceof SemVer) {
          return version;
        }
        if (typeof version !== "string") {
          return null;
        }
        if (version.length > MAX_LENGTH) {
          return null;
        }
        const r = options.loose ? re[t.LOOSE] : re[t.FULL];
        if (!r.test(version)) {
          return null;
        }
        try {
          return new SemVer(version, options);
        } catch (er) {
          return null;
        }
      };
      module.exports = parse;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/semver-npm-7.3.7-3bfe704194-9.zip/node_modules/semver/functions/valid.js
  var require_valid = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/semver-npm-7.3.7-3bfe704194-9.zip/node_modules/semver/functions/valid.js"(exports, module) {
      var parse = require_parse();
      var valid = (version, options) => {
        const v = parse(version, options);
        return v ? v.version : null;
      };
      module.exports = valid;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/semver-npm-7.3.7-3bfe704194-9.zip/node_modules/semver/functions/clean.js
  var require_clean = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/semver-npm-7.3.7-3bfe704194-9.zip/node_modules/semver/functions/clean.js"(exports, module) {
      var parse = require_parse();
      var clean = (version, options) => {
        const s = parse(version.trim().replace(/^[=v]+/, ""), options);
        return s ? s.version : null;
      };
      module.exports = clean;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/spdx-license-ids-npm-3.0.11-a8d9a5ff74-9.zip/node_modules/spdx-license-ids/index.json
  var require_spdx_license_ids = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/spdx-license-ids-npm-3.0.11-a8d9a5ff74-9.zip/node_modules/spdx-license-ids/index.json"(exports, module) {
      module.exports = [
        "0BSD",
        "AAL",
        "ADSL",
        "AFL-1.1",
        "AFL-1.2",
        "AFL-2.0",
        "AFL-2.1",
        "AFL-3.0",
        "AGPL-1.0-only",
        "AGPL-1.0-or-later",
        "AGPL-3.0-only",
        "AGPL-3.0-or-later",
        "AMDPLPA",
        "AML",
        "AMPAS",
        "ANTLR-PD",
        "ANTLR-PD-fallback",
        "APAFML",
        "APL-1.0",
        "APSL-1.0",
        "APSL-1.1",
        "APSL-1.2",
        "APSL-2.0",
        "Abstyles",
        "Adobe-2006",
        "Adobe-Glyph",
        "Afmparse",
        "Aladdin",
        "Apache-1.0",
        "Apache-1.1",
        "Apache-2.0",
        "Artistic-1.0",
        "Artistic-1.0-Perl",
        "Artistic-1.0-cl8",
        "Artistic-2.0",
        "BSD-1-Clause",
        "BSD-2-Clause",
        "BSD-2-Clause-Patent",
        "BSD-2-Clause-Views",
        "BSD-3-Clause",
        "BSD-3-Clause-Attribution",
        "BSD-3-Clause-Clear",
        "BSD-3-Clause-LBNL",
        "BSD-3-Clause-Modification",
        "BSD-3-Clause-No-Military-License",
        "BSD-3-Clause-No-Nuclear-License",
        "BSD-3-Clause-No-Nuclear-License-2014",
        "BSD-3-Clause-No-Nuclear-Warranty",
        "BSD-3-Clause-Open-MPI",
        "BSD-4-Clause",
        "BSD-4-Clause-Shortened",
        "BSD-4-Clause-UC",
        "BSD-Protection",
        "BSD-Source-Code",
        "BSL-1.0",
        "BUSL-1.1",
        "Bahyph",
        "Barr",
        "Beerware",
        "BitTorrent-1.0",
        "BitTorrent-1.1",
        "BlueOak-1.0.0",
        "Borceux",
        "C-UDA-1.0",
        "CAL-1.0",
        "CAL-1.0-Combined-Work-Exception",
        "CATOSL-1.1",
        "CC-BY-1.0",
        "CC-BY-2.0",
        "CC-BY-2.5",
        "CC-BY-2.5-AU",
        "CC-BY-3.0",
        "CC-BY-3.0-AT",
        "CC-BY-3.0-DE",
        "CC-BY-3.0-NL",
        "CC-BY-3.0-US",
        "CC-BY-4.0",
        "CC-BY-NC-1.0",
        "CC-BY-NC-2.0",
        "CC-BY-NC-2.5",
        "CC-BY-NC-3.0",
        "CC-BY-NC-3.0-DE",
        "CC-BY-NC-4.0",
        "CC-BY-NC-ND-1.0",
        "CC-BY-NC-ND-2.0",
        "CC-BY-NC-ND-2.5",
        "CC-BY-NC-ND-3.0",
        "CC-BY-NC-ND-3.0-DE",
        "CC-BY-NC-ND-3.0-IGO",
        "CC-BY-NC-ND-4.0",
        "CC-BY-NC-SA-1.0",
        "CC-BY-NC-SA-2.0",
        "CC-BY-NC-SA-2.0-FR",
        "CC-BY-NC-SA-2.0-UK",
        "CC-BY-NC-SA-2.5",
        "CC-BY-NC-SA-3.0",
        "CC-BY-NC-SA-3.0-DE",
        "CC-BY-NC-SA-3.0-IGO",
        "CC-BY-NC-SA-4.0",
        "CC-BY-ND-1.0",
        "CC-BY-ND-2.0",
        "CC-BY-ND-2.5",
        "CC-BY-ND-3.0",
        "CC-BY-ND-3.0-DE",
        "CC-BY-ND-4.0",
        "CC-BY-SA-1.0",
        "CC-BY-SA-2.0",
        "CC-BY-SA-2.0-UK",
        "CC-BY-SA-2.1-JP",
        "CC-BY-SA-2.5",
        "CC-BY-SA-3.0",
        "CC-BY-SA-3.0-AT",
        "CC-BY-SA-3.0-DE",
        "CC-BY-SA-4.0",
        "CC-PDDC",
        "CC0-1.0",
        "CDDL-1.0",
        "CDDL-1.1",
        "CDL-1.0",
        "CDLA-Permissive-1.0",
        "CDLA-Permissive-2.0",
        "CDLA-Sharing-1.0",
        "CECILL-1.0",
        "CECILL-1.1",
        "CECILL-2.0",
        "CECILL-2.1",
        "CECILL-B",
        "CECILL-C",
        "CERN-OHL-1.1",
        "CERN-OHL-1.2",
        "CERN-OHL-P-2.0",
        "CERN-OHL-S-2.0",
        "CERN-OHL-W-2.0",
        "CNRI-Jython",
        "CNRI-Python",
        "CNRI-Python-GPL-Compatible",
        "COIL-1.0",
        "CPAL-1.0",
        "CPL-1.0",
        "CPOL-1.02",
        "CUA-OPL-1.0",
        "Caldera",
        "ClArtistic",
        "Community-Spec-1.0",
        "Condor-1.1",
        "Crossword",
        "CrystalStacker",
        "Cube",
        "D-FSL-1.0",
        "DOC",
        "DRL-1.0",
        "DSDP",
        "Dotseqn",
        "ECL-1.0",
        "ECL-2.0",
        "EFL-1.0",
        "EFL-2.0",
        "EPICS",
        "EPL-1.0",
        "EPL-2.0",
        "EUDatagrid",
        "EUPL-1.0",
        "EUPL-1.1",
        "EUPL-1.2",
        "Entessa",
        "ErlPL-1.1",
        "Eurosym",
        "FDK-AAC",
        "FSFAP",
        "FSFUL",
        "FSFULLR",
        "FTL",
        "Fair",
        "Frameworx-1.0",
        "FreeBSD-DOC",
        "FreeImage",
        "GD",
        "GFDL-1.1-invariants-only",
        "GFDL-1.1-invariants-or-later",
        "GFDL-1.1-no-invariants-only",
        "GFDL-1.1-no-invariants-or-later",
        "GFDL-1.1-only",
        "GFDL-1.1-or-later",
        "GFDL-1.2-invariants-only",
        "GFDL-1.2-invariants-or-later",
        "GFDL-1.2-no-invariants-only",
        "GFDL-1.2-no-invariants-or-later",
        "GFDL-1.2-only",
        "GFDL-1.2-or-later",
        "GFDL-1.3-invariants-only",
        "GFDL-1.3-invariants-or-later",
        "GFDL-1.3-no-invariants-only",
        "GFDL-1.3-no-invariants-or-later",
        "GFDL-1.3-only",
        "GFDL-1.3-or-later",
        "GL2PS",
        "GLWTPL",
        "GPL-1.0-only",
        "GPL-1.0-or-later",
        "GPL-2.0-only",
        "GPL-2.0-or-later",
        "GPL-3.0-only",
        "GPL-3.0-or-later",
        "Giftware",
        "Glide",
        "Glulxe",
        "HPND",
        "HPND-sell-variant",
        "HTMLTIDY",
        "HaskellReport",
        "Hippocratic-2.1",
        "IBM-pibs",
        "ICU",
        "IJG",
        "IPA",
        "IPL-1.0",
        "ISC",
        "ImageMagick",
        "Imlib2",
        "Info-ZIP",
        "Intel",
        "Intel-ACPI",
        "Interbase-1.0",
        "JPNIC",
        "JSON",
        "JasPer-2.0",
        "LAL-1.2",
        "LAL-1.3",
        "LGPL-2.0-only",
        "LGPL-2.0-or-later",
        "LGPL-2.1-only",
        "LGPL-2.1-or-later",
        "LGPL-3.0-only",
        "LGPL-3.0-or-later",
        "LGPLLR",
        "LPL-1.0",
        "LPL-1.02",
        "LPPL-1.0",
        "LPPL-1.1",
        "LPPL-1.2",
        "LPPL-1.3a",
        "LPPL-1.3c",
        "Latex2e",
        "Leptonica",
        "LiLiQ-P-1.1",
        "LiLiQ-R-1.1",
        "LiLiQ-Rplus-1.1",
        "Libpng",
        "Linux-OpenIB",
        "Linux-man-pages-copyleft",
        "MIT",
        "MIT-0",
        "MIT-CMU",
        "MIT-Modern-Variant",
        "MIT-advertising",
        "MIT-enna",
        "MIT-feh",
        "MIT-open-group",
        "MITNFA",
        "MPL-1.0",
        "MPL-1.1",
        "MPL-2.0",
        "MPL-2.0-no-copyleft-exception",
        "MS-PL",
        "MS-RL",
        "MTLL",
        "MakeIndex",
        "MirOS",
        "Motosoto",
        "MulanPSL-1.0",
        "MulanPSL-2.0",
        "Multics",
        "Mup",
        "NAIST-2003",
        "NASA-1.3",
        "NBPL-1.0",
        "NCGL-UK-2.0",
        "NCSA",
        "NGPL",
        "NIST-PD",
        "NIST-PD-fallback",
        "NLOD-1.0",
        "NLOD-2.0",
        "NLPL",
        "NOSL",
        "NPL-1.0",
        "NPL-1.1",
        "NPOSL-3.0",
        "NRL",
        "NTP",
        "NTP-0",
        "Naumen",
        "Net-SNMP",
        "NetCDF",
        "Newsletr",
        "Nokia",
        "Noweb",
        "O-UDA-1.0",
        "OCCT-PL",
        "OCLC-2.0",
        "ODC-By-1.0",
        "ODbL-1.0",
        "OFL-1.0",
        "OFL-1.0-RFN",
        "OFL-1.0-no-RFN",
        "OFL-1.1",
        "OFL-1.1-RFN",
        "OFL-1.1-no-RFN",
        "OGC-1.0",
        "OGDL-Taiwan-1.0",
        "OGL-Canada-2.0",
        "OGL-UK-1.0",
        "OGL-UK-2.0",
        "OGL-UK-3.0",
        "OGTSL",
        "OLDAP-1.1",
        "OLDAP-1.2",
        "OLDAP-1.3",
        "OLDAP-1.4",
        "OLDAP-2.0",
        "OLDAP-2.0.1",
        "OLDAP-2.1",
        "OLDAP-2.2",
        "OLDAP-2.2.1",
        "OLDAP-2.2.2",
        "OLDAP-2.3",
        "OLDAP-2.4",
        "OLDAP-2.5",
        "OLDAP-2.6",
        "OLDAP-2.7",
        "OLDAP-2.8",
        "OML",
        "OPL-1.0",
        "OPUBL-1.0",
        "OSET-PL-2.1",
        "OSL-1.0",
        "OSL-1.1",
        "OSL-2.0",
        "OSL-2.1",
        "OSL-3.0",
        "OpenSSL",
        "PDDL-1.0",
        "PHP-3.0",
        "PHP-3.01",
        "PSF-2.0",
        "Parity-6.0.0",
        "Parity-7.0.0",
        "Plexus",
        "PolyForm-Noncommercial-1.0.0",
        "PolyForm-Small-Business-1.0.0",
        "PostgreSQL",
        "Python-2.0",
        "QPL-1.0",
        "Qhull",
        "RHeCos-1.1",
        "RPL-1.1",
        "RPL-1.5",
        "RPSL-1.0",
        "RSA-MD",
        "RSCPL",
        "Rdisc",
        "Ruby",
        "SAX-PD",
        "SCEA",
        "SGI-B-1.0",
        "SGI-B-1.1",
        "SGI-B-2.0",
        "SHL-0.5",
        "SHL-0.51",
        "SISSL",
        "SISSL-1.2",
        "SMLNJ",
        "SMPPL",
        "SNIA",
        "SPL-1.0",
        "SSH-OpenSSH",
        "SSH-short",
        "SSPL-1.0",
        "SWL",
        "Saxpath",
        "Sendmail",
        "Sendmail-8.23",
        "SimPL-2.0",
        "Sleepycat",
        "Spencer-86",
        "Spencer-94",
        "Spencer-99",
        "SugarCRM-1.1.3",
        "TAPR-OHL-1.0",
        "TCL",
        "TCP-wrappers",
        "TMate",
        "TORQUE-1.1",
        "TOSL",
        "TU-Berlin-1.0",
        "TU-Berlin-2.0",
        "UCL-1.0",
        "UPL-1.0",
        "Unicode-DFS-2015",
        "Unicode-DFS-2016",
        "Unicode-TOU",
        "Unlicense",
        "VOSTROM",
        "VSL-1.0",
        "Vim",
        "W3C",
        "W3C-19980720",
        "W3C-20150513",
        "WTFPL",
        "Watcom-1.0",
        "Wsuipa",
        "X11",
        "XFree86-1.1",
        "XSkat",
        "Xerox",
        "Xnet",
        "YPL-1.0",
        "YPL-1.1",
        "ZPL-1.1",
        "ZPL-2.0",
        "ZPL-2.1",
        "Zed",
        "Zend-2.0",
        "Zimbra-1.3",
        "Zimbra-1.4",
        "Zlib",
        "blessing",
        "bzip2-1.0.5",
        "bzip2-1.0.6",
        "copyleft-next-0.3.0",
        "copyleft-next-0.3.1",
        "curl",
        "diffmark",
        "dvipdfm",
        "eGenix",
        "etalab-2.0",
        "gSOAP-1.3b",
        "gnuplot",
        "iMatix",
        "libpng-2.0",
        "libselinux-1.0",
        "libtiff",
        "mpich2",
        "psfrag",
        "psutils",
        "xinetd",
        "xpp",
        "zlib-acknowledgement"
      ];
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/spdx-license-ids-npm-3.0.11-a8d9a5ff74-9.zip/node_modules/spdx-license-ids/deprecated.json
  var require_deprecated = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/spdx-license-ids-npm-3.0.11-a8d9a5ff74-9.zip/node_modules/spdx-license-ids/deprecated.json"(exports, module) {
      module.exports = [
        "AGPL-1.0",
        "AGPL-3.0",
        "BSD-2-Clause-FreeBSD",
        "BSD-2-Clause-NetBSD",
        "GFDL-1.1",
        "GFDL-1.2",
        "GFDL-1.3",
        "GPL-1.0",
        "GPL-2.0",
        "GPL-2.0-with-GCC-exception",
        "GPL-2.0-with-autoconf-exception",
        "GPL-2.0-with-bison-exception",
        "GPL-2.0-with-classpath-exception",
        "GPL-2.0-with-font-exception",
        "GPL-3.0",
        "GPL-3.0-with-GCC-exception",
        "GPL-3.0-with-autoconf-exception",
        "LGPL-2.0",
        "LGPL-2.1",
        "LGPL-3.0",
        "Nunit",
        "StandardML-NJ",
        "eCos-2.0",
        "wxWindows"
      ];
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/spdx-exceptions-npm-2.3.0-2b68dad75a-9.zip/node_modules/spdx-exceptions/index.json
  var require_spdx_exceptions = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/spdx-exceptions-npm-2.3.0-2b68dad75a-9.zip/node_modules/spdx-exceptions/index.json"(exports, module) {
      module.exports = [
        "389-exception",
        "Autoconf-exception-2.0",
        "Autoconf-exception-3.0",
        "Bison-exception-2.2",
        "Bootloader-exception",
        "Classpath-exception-2.0",
        "CLISP-exception-2.0",
        "DigiRule-FOSS-exception",
        "eCos-exception-2.0",
        "Fawkes-Runtime-exception",
        "FLTK-exception",
        "Font-exception-2.0",
        "freertos-exception-2.0",
        "GCC-exception-2.0",
        "GCC-exception-3.1",
        "gnu-javamail-exception",
        "GPL-3.0-linking-exception",
        "GPL-3.0-linking-source-exception",
        "GPL-CC-1.0",
        "i2p-gpl-java-exception",
        "Libtool-exception",
        "Linux-syscall-note",
        "LLVM-exception",
        "LZMA-exception",
        "mif-exception",
        "Nokia-Qt-exception-1.1",
        "OCaml-LGPL-linking-exception",
        "OCCT-exception-1.0",
        "OpenJDK-assembly-exception-1.0",
        "openvpn-openssl-exception",
        "PS-or-PDF-font-exception-20170817",
        "Qt-GPL-exception-1.0",
        "Qt-LGPL-exception-1.1",
        "Qwt-exception-1.0",
        "Swift-exception",
        "u-boot-exception-2.0",
        "Universal-FOSS-exception-1.0",
        "WxWindows-exception-3.1"
      ];
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/spdx-expression-parse-npm-3.0.1-b718cbb35a-9.zip/node_modules/spdx-expression-parse/scan.js
  var require_scan = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/spdx-expression-parse-npm-3.0.1-b718cbb35a-9.zip/node_modules/spdx-expression-parse/scan.js"(exports, module) {
      "use strict";
      var licenses = [].concat(require_spdx_license_ids()).concat(require_deprecated());
      var exceptions = require_spdx_exceptions();
      module.exports = function(source) {
        var index = 0;
        function hasMore() {
          return index < source.length;
        }
        function read(value) {
          if (value instanceof RegExp) {
            var chars = source.slice(index);
            var match = chars.match(value);
            if (match) {
              index += match[0].length;
              return match[0];
            }
          } else {
            if (source.indexOf(value, index) === index) {
              index += value.length;
              return value;
            }
          }
        }
        function skipWhitespace() {
          read(/[ ]*/);
        }
        function operator() {
          var string;
          var possibilities = ["WITH", "AND", "OR", "(", ")", ":", "+"];
          for (var i = 0; i < possibilities.length; i++) {
            string = read(possibilities[i]);
            if (string) {
              break;
            }
          }
          if (string === "+" && index > 1 && source[index - 2] === " ") {
            throw new Error("Space before `+`");
          }
          return string && {
            type: "OPERATOR",
            string
          };
        }
        function idstring() {
          return read(/[A-Za-z0-9-.]+/);
        }
        function expectIdstring() {
          var string = idstring();
          if (!string) {
            throw new Error("Expected idstring at offset " + index);
          }
          return string;
        }
        function documentRef() {
          if (read("DocumentRef-")) {
            var string = expectIdstring();
            return {type: "DOCUMENTREF", string};
          }
        }
        function licenseRef() {
          if (read("LicenseRef-")) {
            var string = expectIdstring();
            return {type: "LICENSEREF", string};
          }
        }
        function identifier() {
          var begin = index;
          var string = idstring();
          if (licenses.indexOf(string) !== -1) {
            return {
              type: "LICENSE",
              string
            };
          } else if (exceptions.indexOf(string) !== -1) {
            return {
              type: "EXCEPTION",
              string
            };
          }
          index = begin;
        }
        function parseToken() {
          return operator() || documentRef() || licenseRef() || identifier();
        }
        var tokens = [];
        while (hasMore()) {
          skipWhitespace();
          if (!hasMore()) {
            break;
          }
          var token = parseToken();
          if (!token) {
            throw new Error("Unexpected `" + source[index] + "` at offset " + index);
          }
          tokens.push(token);
        }
        return tokens;
      };
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/spdx-expression-parse-npm-3.0.1-b718cbb35a-9.zip/node_modules/spdx-expression-parse/parse.js
  var require_parse2 = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/spdx-expression-parse-npm-3.0.1-b718cbb35a-9.zip/node_modules/spdx-expression-parse/parse.js"(exports, module) {
      "use strict";
      module.exports = function(tokens) {
        var index = 0;
        function hasMore() {
          return index < tokens.length;
        }
        function token() {
          return hasMore() ? tokens[index] : null;
        }
        function next() {
          if (!hasMore()) {
            throw new Error();
          }
          index++;
        }
        function parseOperator(operator) {
          var t = token();
          if (t && t.type === "OPERATOR" && operator === t.string) {
            next();
            return t.string;
          }
        }
        function parseWith() {
          if (parseOperator("WITH")) {
            var t = token();
            if (t && t.type === "EXCEPTION") {
              next();
              return t.string;
            }
            throw new Error("Expected exception after `WITH`");
          }
        }
        function parseLicenseRef() {
          var begin = index;
          var string = "";
          var t = token();
          if (t.type === "DOCUMENTREF") {
            next();
            string += "DocumentRef-" + t.string + ":";
            if (!parseOperator(":")) {
              throw new Error("Expected `:` after `DocumentRef-...`");
            }
          }
          t = token();
          if (t.type === "LICENSEREF") {
            next();
            string += "LicenseRef-" + t.string;
            return {license: string};
          }
          index = begin;
        }
        function parseLicense() {
          var t = token();
          if (t && t.type === "LICENSE") {
            next();
            var node2 = {license: t.string};
            if (parseOperator("+")) {
              node2.plus = true;
            }
            var exception = parseWith();
            if (exception) {
              node2.exception = exception;
            }
            return node2;
          }
        }
        function parseParenthesizedExpression() {
          var left = parseOperator("(");
          if (!left) {
            return;
          }
          var expr = parseExpression();
          if (!parseOperator(")")) {
            throw new Error("Expected `)`");
          }
          return expr;
        }
        function parseAtom() {
          return parseParenthesizedExpression() || parseLicenseRef() || parseLicense();
        }
        function makeBinaryOpParser(operator, nextParser) {
          return function parseBinaryOp() {
            var left = nextParser();
            if (!left) {
              return;
            }
            if (!parseOperator(operator)) {
              return left;
            }
            var right = parseBinaryOp();
            if (!right) {
              throw new Error("Expected expression");
            }
            return {
              left,
              conjunction: operator.toLowerCase(),
              right
            };
          };
        }
        var parseAnd = makeBinaryOpParser("AND", parseAtom);
        var parseExpression = makeBinaryOpParser("OR", parseAnd);
        var node = parseExpression();
        if (!node || hasMore()) {
          throw new Error("Syntax error");
        }
        return node;
      };
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/spdx-expression-parse-npm-3.0.1-b718cbb35a-9.zip/node_modules/spdx-expression-parse/index.js
  var require_spdx_expression_parse = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/spdx-expression-parse-npm-3.0.1-b718cbb35a-9.zip/node_modules/spdx-expression-parse/index.js"(exports, module) {
      "use strict";
      var scan = require_scan();
      var parse = require_parse2();
      module.exports = function(source) {
        return parse(scan(source));
      };
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/spdx-correct-npm-3.1.1-47f574c27a-9.zip/node_modules/spdx-correct/index.js
  var require_spdx_correct = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/spdx-correct-npm-3.1.1-47f574c27a-9.zip/node_modules/spdx-correct/index.js"(exports, module) {
      var parse = require_spdx_expression_parse();
      var spdxLicenseIds = require_spdx_license_ids();
      function valid(string) {
        try {
          parse(string);
          return true;
        } catch (error) {
          return false;
        }
      }
      var transpositions = [
        ["APGL", "AGPL"],
        ["Gpl", "GPL"],
        ["GLP", "GPL"],
        ["APL", "Apache"],
        ["ISD", "ISC"],
        ["GLP", "GPL"],
        ["IST", "ISC"],
        ["Claude", "Clause"],
        [" or later", "+"],
        [" International", ""],
        ["GNU", "GPL"],
        ["GUN", "GPL"],
        ["+", ""],
        ["GNU GPL", "GPL"],
        ["GNU/GPL", "GPL"],
        ["GNU GLP", "GPL"],
        ["GNU General Public License", "GPL"],
        ["Gnu public license", "GPL"],
        ["GNU Public License", "GPL"],
        ["GNU GENERAL PUBLIC LICENSE", "GPL"],
        ["MTI", "MIT"],
        ["Mozilla Public License", "MPL"],
        ["Universal Permissive License", "UPL"],
        ["WTH", "WTF"],
        ["-License", ""]
      ];
      var TRANSPOSED = 0;
      var CORRECT = 1;
      var transforms = [
        function(argument) {
          return argument.toUpperCase();
        },
        function(argument) {
          return argument.trim();
        },
        function(argument) {
          return argument.replace(/\./g, "");
        },
        function(argument) {
          return argument.replace(/\s+/g, "");
        },
        function(argument) {
          return argument.replace(/\s+/g, "-");
        },
        function(argument) {
          return argument.replace("v", "-");
        },
        function(argument) {
          return argument.replace(/,?\s*(\d)/, "-$1");
        },
        function(argument) {
          return argument.replace(/,?\s*(\d)/, "-$1.0");
        },
        function(argument) {
          return argument.replace(/,?\s*(V\.|v\.|V|v|Version|version)\s*(\d)/, "-$2");
        },
        function(argument) {
          return argument.replace(/,?\s*(V\.|v\.|V|v|Version|version)\s*(\d)/, "-$2.0");
        },
        function(argument) {
          return argument[0].toUpperCase() + argument.slice(1);
        },
        function(argument) {
          return argument.replace("/", "-");
        },
        function(argument) {
          return argument.replace(/\s*V\s*(\d)/, "-$1").replace(/(\d)$/, "$1.0");
        },
        function(argument) {
          if (argument.indexOf("3.0") !== -1) {
            return argument + "-or-later";
          } else {
            return argument + "-only";
          }
        },
        function(argument) {
          return argument + "only";
        },
        function(argument) {
          return argument.replace(/(\d)$/, "-$1.0");
        },
        function(argument) {
          return argument.replace(/(-| )?(\d)$/, "-$2-Clause");
        },
        function(argument) {
          return argument.replace(/(-| )clause(-| )(\d)/, "-$3-Clause");
        },
        function(argument) {
          return argument.replace(/\b(Modified|New|Revised)(-| )?BSD((-| )License)?/i, "BSD-3-Clause");
        },
        function(argument) {
          return argument.replace(/\bSimplified(-| )?BSD((-| )License)?/i, "BSD-2-Clause");
        },
        function(argument) {
          return argument.replace(/\b(Free|Net)(-| )?BSD((-| )License)?/i, "BSD-2-Clause-$1BSD");
        },
        function(argument) {
          return argument.replace(/\bClear(-| )?BSD((-| )License)?/i, "BSD-3-Clause-Clear");
        },
        function(argument) {
          return argument.replace(/\b(Old|Original)(-| )?BSD((-| )License)?/i, "BSD-4-Clause");
        },
        function(argument) {
          return "CC-" + argument;
        },
        function(argument) {
          return "CC-" + argument + "-4.0";
        },
        function(argument) {
          return argument.replace("Attribution", "BY").replace("NonCommercial", "NC").replace("NoDerivatives", "ND").replace(/ (\d)/, "-$1").replace(/ ?International/, "");
        },
        function(argument) {
          return "CC-" + argument.replace("Attribution", "BY").replace("NonCommercial", "NC").replace("NoDerivatives", "ND").replace(/ (\d)/, "-$1").replace(/ ?International/, "") + "-4.0";
        }
      ];
      var licensesWithVersions = spdxLicenseIds.map(function(id) {
        var match = /^(.*)-\d+\.\d+$/.exec(id);
        return match ? [match[0], match[1]] : [id, null];
      }).reduce(function(objectMap, item) {
        var key = item[1];
        objectMap[key] = objectMap[key] || [];
        objectMap[key].push(item[0]);
        return objectMap;
      }, {});
      var licensesWithOneVersion = Object.keys(licensesWithVersions).map(function makeEntries(key) {
        return [key, licensesWithVersions[key]];
      }).filter(function identifySoleVersions(item) {
        return item[1].length === 1 && item[0] !== null && item[0] !== "APL";
      }).map(function createLastResorts(item) {
        return [item[0], item[1][0]];
      });
      licensesWithVersions = void 0;
      var lastResorts = [
        ["UNLI", "Unlicense"],
        ["WTF", "WTFPL"],
        ["2 CLAUSE", "BSD-2-Clause"],
        ["2-CLAUSE", "BSD-2-Clause"],
        ["3 CLAUSE", "BSD-3-Clause"],
        ["3-CLAUSE", "BSD-3-Clause"],
        ["AFFERO", "AGPL-3.0-or-later"],
        ["AGPL", "AGPL-3.0-or-later"],
        ["APACHE", "Apache-2.0"],
        ["ARTISTIC", "Artistic-2.0"],
        ["Affero", "AGPL-3.0-or-later"],
        ["BEER", "Beerware"],
        ["BOOST", "BSL-1.0"],
        ["BSD", "BSD-2-Clause"],
        ["CDDL", "CDDL-1.1"],
        ["ECLIPSE", "EPL-1.0"],
        ["FUCK", "WTFPL"],
        ["GNU", "GPL-3.0-or-later"],
        ["LGPL", "LGPL-3.0-or-later"],
        ["GPLV1", "GPL-1.0-only"],
        ["GPL-1", "GPL-1.0-only"],
        ["GPLV2", "GPL-2.0-only"],
        ["GPL-2", "GPL-2.0-only"],
        ["GPL", "GPL-3.0-or-later"],
        ["MIT +NO-FALSE-ATTRIBS", "MITNFA"],
        ["MIT", "MIT"],
        ["MPL", "MPL-2.0"],
        ["X11", "X11"],
        ["ZLIB", "Zlib"]
      ].concat(licensesWithOneVersion);
      var SUBSTRING = 0;
      var IDENTIFIER = 1;
      var validTransformation = function(identifier) {
        for (var i = 0; i < transforms.length; i++) {
          var transformed = transforms[i](identifier).trim();
          if (transformed !== identifier && valid(transformed)) {
            return transformed;
          }
        }
        return null;
      };
      var validLastResort = function(identifier) {
        var upperCased = identifier.toUpperCase();
        for (var i = 0; i < lastResorts.length; i++) {
          var lastResort = lastResorts[i];
          if (upperCased.indexOf(lastResort[SUBSTRING]) > -1) {
            return lastResort[IDENTIFIER];
          }
        }
        return null;
      };
      var anyCorrection = function(identifier, check) {
        for (var i = 0; i < transpositions.length; i++) {
          var transposition = transpositions[i];
          var transposed = transposition[TRANSPOSED];
          if (identifier.indexOf(transposed) > -1) {
            var corrected = identifier.replace(transposed, transposition[CORRECT]);
            var checked = check(corrected);
            if (checked !== null) {
              return checked;
            }
          }
        }
        return null;
      };
      module.exports = function(identifier, options) {
        options = options || {};
        var upgrade = options.upgrade === void 0 ? true : !!options.upgrade;
        function postprocess(value) {
          return upgrade ? upgradeGPLs(value) : value;
        }
        var validArugment = typeof identifier === "string" && identifier.trim().length !== 0;
        if (!validArugment) {
          throw Error("Invalid argument. Expected non-empty string.");
        }
        identifier = identifier.trim();
        if (valid(identifier)) {
          return postprocess(identifier);
        }
        var noPlus = identifier.replace(/\+$/, "").trim();
        if (valid(noPlus)) {
          return postprocess(noPlus);
        }
        var transformed = validTransformation(identifier);
        if (transformed !== null) {
          return postprocess(transformed);
        }
        transformed = anyCorrection(identifier, function(argument) {
          if (valid(argument)) {
            return argument;
          }
          return validTransformation(argument);
        });
        if (transformed !== null) {
          return postprocess(transformed);
        }
        transformed = validLastResort(identifier);
        if (transformed !== null) {
          return postprocess(transformed);
        }
        transformed = anyCorrection(identifier, validLastResort);
        if (transformed !== null) {
          return postprocess(transformed);
        }
        return null;
      };
      function upgradeGPLs(value) {
        if ([
          "GPL-1.0",
          "LGPL-1.0",
          "AGPL-1.0",
          "GPL-2.0",
          "LGPL-2.0",
          "AGPL-2.0",
          "LGPL-2.1"
        ].indexOf(value) !== -1) {
          return value + "-only";
        } else if ([
          "GPL-1.0+",
          "GPL-2.0+",
          "GPL-3.0+",
          "LGPL-2.0+",
          "LGPL-2.1+",
          "LGPL-3.0+",
          "AGPL-1.0+",
          "AGPL-3.0+"
        ].indexOf(value) !== -1) {
          return value.replace(/\+$/, "-or-later");
        } else if (["GPL-3.0", "LGPL-3.0", "AGPL-3.0"].indexOf(value) !== -1) {
          return value + "-or-later";
        } else {
          return value;
        }
      }
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/validate-npm-package-license-npm-3.0.4-7af8adc7a8-9.zip/node_modules/validate-npm-package-license/index.js
  var require_validate_npm_package_license = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/validate-npm-package-license-npm-3.0.4-7af8adc7a8-9.zip/node_modules/validate-npm-package-license/index.js"(exports, module) {
      var parse = require_spdx_expression_parse();
      var correct = require_spdx_correct();
      var genericWarning = 'license should be a valid SPDX license expression (without "LicenseRef"), "UNLICENSED", or "SEE LICENSE IN <filename>"';
      var fileReferenceRE = /^SEE LICEN[CS]E IN (.+)$/;
      function startsWith(prefix, string) {
        return string.slice(0, prefix.length) === prefix;
      }
      function usesLicenseRef(ast) {
        if (ast.hasOwnProperty("license")) {
          var license = ast.license;
          return startsWith("LicenseRef", license) || startsWith("DocumentRef", license);
        } else {
          return usesLicenseRef(ast.left) || usesLicenseRef(ast.right);
        }
      }
      module.exports = function(argument) {
        var ast;
        try {
          ast = parse(argument);
        } catch (e) {
          var match;
          if (argument === "UNLICENSED" || argument === "UNLICENCED") {
            return {
              validForOldPackages: true,
              validForNewPackages: true,
              unlicensed: true
            };
          } else if (match = fileReferenceRE.exec(argument)) {
            return {
              validForOldPackages: true,
              validForNewPackages: true,
              inFile: match[1]
            };
          } else {
            var result = {
              validForOldPackages: false,
              validForNewPackages: false,
              warnings: [genericWarning]
            };
            if (argument.trim().length !== 0) {
              var corrected = correct(argument);
              if (corrected) {
                result.warnings.push('license is similar to the valid expression "' + corrected + '"');
              }
            }
            return result;
          }
        }
        if (usesLicenseRef(ast)) {
          return {
            validForNewPackages: false,
            validForOldPackages: false,
            spdx: true,
            warnings: [genericWarning]
          };
        } else {
          return {
            validForNewPackages: true,
            validForOldPackages: true,
            spdx: true
          };
        }
      };
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/function-bind-npm-1.1.1-b56b322ae9-9.zip/node_modules/function-bind/implementation.js
  var require_implementation = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/function-bind-npm-1.1.1-b56b322ae9-9.zip/node_modules/function-bind/implementation.js"(exports, module) {
      "use strict";
      var ERROR_MESSAGE = "Function.prototype.bind called on incompatible ";
      var slice = Array.prototype.slice;
      var toStr = Object.prototype.toString;
      var funcType = "[object Function]";
      module.exports = function bind(that) {
        var target = this;
        if (typeof target !== "function" || toStr.call(target) !== funcType) {
          throw new TypeError(ERROR_MESSAGE + target);
        }
        var args = slice.call(arguments, 1);
        var bound;
        var binder = function() {
          if (this instanceof bound) {
            var result = target.apply(this, args.concat(slice.call(arguments)));
            if (Object(result) === result) {
              return result;
            }
            return this;
          } else {
            return target.apply(that, args.concat(slice.call(arguments)));
          }
        };
        var boundLength = Math.max(0, target.length - args.length);
        var boundArgs = [];
        for (var i = 0; i < boundLength; i++) {
          boundArgs.push("$" + i);
        }
        bound = Function("binder", "return function (" + boundArgs.join(",") + "){ return binder.apply(this,arguments); }")(binder);
        if (target.prototype) {
          var Empty = function Empty2() {
          };
          Empty.prototype = target.prototype;
          bound.prototype = new Empty();
          Empty.prototype = null;
        }
        return bound;
      };
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/function-bind-npm-1.1.1-b56b322ae9-9.zip/node_modules/function-bind/index.js
  var require_function_bind = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/function-bind-npm-1.1.1-b56b322ae9-9.zip/node_modules/function-bind/index.js"(exports, module) {
      "use strict";
      var implementation = require_implementation();
      module.exports = Function.prototype.bind || implementation;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/has-npm-1.0.3-b7f00631c1-9.zip/node_modules/has/src/index.js
  var require_src3 = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/has-npm-1.0.3-b7f00631c1-9.zip/node_modules/has/src/index.js"(exports, module) {
      "use strict";
      var bind = require_function_bind();
      module.exports = bind.call(Function.call, Object.prototype.hasOwnProperty);
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/is-core-module-npm-2.9.0-5ba77c35ae-9.zip/node_modules/is-core-module/core.json
  var require_core = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/is-core-module-npm-2.9.0-5ba77c35ae-9.zip/node_modules/is-core-module/core.json"(exports, module) {
      module.exports = {
        assert: true,
        "node:assert": [">= 14.18 && < 15", ">= 16"],
        "assert/strict": ">= 15",
        "node:assert/strict": ">= 16",
        async_hooks: ">= 8",
        "node:async_hooks": [">= 14.18 && < 15", ">= 16"],
        buffer_ieee754: ">= 0.5 && < 0.9.7",
        buffer: true,
        "node:buffer": [">= 14.18 && < 15", ">= 16"],
        child_process: true,
        "node:child_process": [">= 14.18 && < 15", ">= 16"],
        cluster: ">= 0.5",
        "node:cluster": [">= 14.18 && < 15", ">= 16"],
        console: true,
        "node:console": [">= 14.18 && < 15", ">= 16"],
        constants: true,
        "node:constants": [">= 14.18 && < 15", ">= 16"],
        crypto: true,
        "node:crypto": [">= 14.18 && < 15", ">= 16"],
        _debug_agent: ">= 1 && < 8",
        _debugger: "< 8",
        dgram: true,
        "node:dgram": [">= 14.18 && < 15", ">= 16"],
        diagnostics_channel: [">= 14.17 && < 15", ">= 15.1"],
        "node:diagnostics_channel": [">= 14.18 && < 15", ">= 16"],
        dns: true,
        "node:dns": [">= 14.18 && < 15", ">= 16"],
        "dns/promises": ">= 15",
        "node:dns/promises": ">= 16",
        domain: ">= 0.7.12",
        "node:domain": [">= 14.18 && < 15", ">= 16"],
        events: true,
        "node:events": [">= 14.18 && < 15", ">= 16"],
        freelist: "< 6",
        fs: true,
        "node:fs": [">= 14.18 && < 15", ">= 16"],
        "fs/promises": [">= 10 && < 10.1", ">= 14"],
        "node:fs/promises": [">= 14.18 && < 15", ">= 16"],
        _http_agent: ">= 0.11.1",
        "node:_http_agent": [">= 14.18 && < 15", ">= 16"],
        _http_client: ">= 0.11.1",
        "node:_http_client": [">= 14.18 && < 15", ">= 16"],
        _http_common: ">= 0.11.1",
        "node:_http_common": [">= 14.18 && < 15", ">= 16"],
        _http_incoming: ">= 0.11.1",
        "node:_http_incoming": [">= 14.18 && < 15", ">= 16"],
        _http_outgoing: ">= 0.11.1",
        "node:_http_outgoing": [">= 14.18 && < 15", ">= 16"],
        _http_server: ">= 0.11.1",
        "node:_http_server": [">= 14.18 && < 15", ">= 16"],
        http: true,
        "node:http": [">= 14.18 && < 15", ">= 16"],
        http2: ">= 8.8",
        "node:http2": [">= 14.18 && < 15", ">= 16"],
        https: true,
        "node:https": [">= 14.18 && < 15", ">= 16"],
        inspector: ">= 8",
        "node:inspector": [">= 14.18 && < 15", ">= 16"],
        _linklist: "< 8",
        module: true,
        "node:module": [">= 14.18 && < 15", ">= 16"],
        net: true,
        "node:net": [">= 14.18 && < 15", ">= 16"],
        "node-inspect/lib/_inspect": ">= 7.6 && < 12",
        "node-inspect/lib/internal/inspect_client": ">= 7.6 && < 12",
        "node-inspect/lib/internal/inspect_repl": ">= 7.6 && < 12",
        os: true,
        "node:os": [">= 14.18 && < 15", ">= 16"],
        path: true,
        "node:path": [">= 14.18 && < 15", ">= 16"],
        "path/posix": ">= 15.3",
        "node:path/posix": ">= 16",
        "path/win32": ">= 15.3",
        "node:path/win32": ">= 16",
        perf_hooks: ">= 8.5",
        "node:perf_hooks": [">= 14.18 && < 15", ">= 16"],
        process: ">= 1",
        "node:process": [">= 14.18 && < 15", ">= 16"],
        punycode: ">= 0.5",
        "node:punycode": [">= 14.18 && < 15", ">= 16"],
        querystring: true,
        "node:querystring": [">= 14.18 && < 15", ">= 16"],
        readline: true,
        "node:readline": [">= 14.18 && < 15", ">= 16"],
        "readline/promises": ">= 17",
        "node:readline/promises": ">= 17",
        repl: true,
        "node:repl": [">= 14.18 && < 15", ">= 16"],
        smalloc: ">= 0.11.5 && < 3",
        _stream_duplex: ">= 0.9.4",
        "node:_stream_duplex": [">= 14.18 && < 15", ">= 16"],
        _stream_transform: ">= 0.9.4",
        "node:_stream_transform": [">= 14.18 && < 15", ">= 16"],
        _stream_wrap: ">= 1.4.1",
        "node:_stream_wrap": [">= 14.18 && < 15", ">= 16"],
        _stream_passthrough: ">= 0.9.4",
        "node:_stream_passthrough": [">= 14.18 && < 15", ">= 16"],
        _stream_readable: ">= 0.9.4",
        "node:_stream_readable": [">= 14.18 && < 15", ">= 16"],
        _stream_writable: ">= 0.9.4",
        "node:_stream_writable": [">= 14.18 && < 15", ">= 16"],
        stream: true,
        "node:stream": [">= 14.18 && < 15", ">= 16"],
        "stream/consumers": ">= 16.7",
        "node:stream/consumers": ">= 16.7",
        "stream/promises": ">= 15",
        "node:stream/promises": ">= 16",
        "stream/web": ">= 16.5",
        "node:stream/web": ">= 16.5",
        string_decoder: true,
        "node:string_decoder": [">= 14.18 && < 15", ">= 16"],
        sys: [">= 0.4 && < 0.7", ">= 0.8"],
        "node:sys": [">= 14.18 && < 15", ">= 16"],
        "node:test": ">= 18",
        timers: true,
        "node:timers": [">= 14.18 && < 15", ">= 16"],
        "timers/promises": ">= 15",
        "node:timers/promises": ">= 16",
        _tls_common: ">= 0.11.13",
        "node:_tls_common": [">= 14.18 && < 15", ">= 16"],
        _tls_legacy: ">= 0.11.3 && < 10",
        _tls_wrap: ">= 0.11.3",
        "node:_tls_wrap": [">= 14.18 && < 15", ">= 16"],
        tls: true,
        "node:tls": [">= 14.18 && < 15", ">= 16"],
        trace_events: ">= 10",
        "node:trace_events": [">= 14.18 && < 15", ">= 16"],
        tty: true,
        "node:tty": [">= 14.18 && < 15", ">= 16"],
        url: true,
        "node:url": [">= 14.18 && < 15", ">= 16"],
        util: true,
        "node:util": [">= 14.18 && < 15", ">= 16"],
        "util/types": ">= 15.3",
        "node:util/types": ">= 16",
        "v8/tools/arguments": ">= 10 && < 12",
        "v8/tools/codemap": [">= 4.4 && < 5", ">= 5.2 && < 12"],
        "v8/tools/consarray": [">= 4.4 && < 5", ">= 5.2 && < 12"],
        "v8/tools/csvparser": [">= 4.4 && < 5", ">= 5.2 && < 12"],
        "v8/tools/logreader": [">= 4.4 && < 5", ">= 5.2 && < 12"],
        "v8/tools/profile_view": [">= 4.4 && < 5", ">= 5.2 && < 12"],
        "v8/tools/splaytree": [">= 4.4 && < 5", ">= 5.2 && < 12"],
        v8: ">= 1",
        "node:v8": [">= 14.18 && < 15", ">= 16"],
        vm: true,
        "node:vm": [">= 14.18 && < 15", ">= 16"],
        wasi: ">= 13.4 && < 13.5",
        worker_threads: ">= 11.7",
        "node:worker_threads": [">= 14.18 && < 15", ">= 16"],
        zlib: ">= 0.5",
        "node:zlib": [">= 14.18 && < 15", ">= 16"]
      };
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/is-core-module-npm-2.9.0-5ba77c35ae-9.zip/node_modules/is-core-module/index.js
  var require_is_core_module = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/is-core-module-npm-2.9.0-5ba77c35ae-9.zip/node_modules/is-core-module/index.js"(exports, module) {
      "use strict";
      var has = require_src3();
      function specifierIncluded(current, specifier) {
        var nodeParts = current.split(".");
        var parts = specifier.split(" ");
        var op = parts.length > 1 ? parts[0] : "=";
        var versionParts = (parts.length > 1 ? parts[1] : parts[0]).split(".");
        for (var i = 0; i < 3; ++i) {
          var cur = parseInt(nodeParts[i] || 0, 10);
          var ver = parseInt(versionParts[i] || 0, 10);
          if (cur === ver) {
            continue;
          }
          if (op === "<") {
            return cur < ver;
          }
          if (op === ">=") {
            return cur >= ver;
          }
          return false;
        }
        return op === ">=";
      }
      function matchesRange(current, range) {
        var specifiers = range.split(/ ?&& ?/);
        if (specifiers.length === 0) {
          return false;
        }
        for (var i = 0; i < specifiers.length; ++i) {
          if (!specifierIncluded(current, specifiers[i])) {
            return false;
          }
        }
        return true;
      }
      function versionIncluded(nodeVersion, specifierValue) {
        if (typeof specifierValue === "boolean") {
          return specifierValue;
        }
        var current = typeof nodeVersion === "undefined" ? process.versions && process.versions.node : nodeVersion;
        if (typeof current !== "string") {
          throw new TypeError(typeof nodeVersion === "undefined" ? "Unable to determine current node version" : "If provided, a valid node version is required");
        }
        if (specifierValue && typeof specifierValue === "object") {
          for (var i = 0; i < specifierValue.length; ++i) {
            if (matchesRange(current, specifierValue[i])) {
              return true;
            }
          }
          return false;
        }
        return matchesRange(current, specifierValue);
      }
      var data = require_core();
      module.exports = function isCore(x, nodeVersion) {
        return has(data, x) && versionIncluded(nodeVersion, data[x]);
      };
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/normalize-package-data-npm-3.0.3-1a49056685-9.zip/node_modules/normalize-package-data/lib/extract_description.js
  var require_extract_description = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/normalize-package-data-npm-3.0.3-1a49056685-9.zip/node_modules/normalize-package-data/lib/extract_description.js"(exports, module) {
      module.exports = extractDescription;
      function extractDescription(d) {
        if (!d) {
          return;
        }
        if (d === "ERROR: No README data found!") {
          return;
        }
        d = d.trim().split("\n");
        for (var s = 0; d[s] && d[s].trim().match(/^(#|$)/); s++) {
          ;
        }
        var l = d.length;
        for (var e = s + 1; e < l && d[e].trim(); e++) {
          ;
        }
        return d.slice(s, e).join(" ").trim();
      }
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/normalize-package-data-npm-3.0.3-1a49056685-9.zip/node_modules/normalize-package-data/lib/typos.json
  var require_typos = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/normalize-package-data-npm-3.0.3-1a49056685-9.zip/node_modules/normalize-package-data/lib/typos.json"(exports, module) {
      module.exports = {
        topLevel: {
          dependancies: "dependencies",
          dependecies: "dependencies",
          depdenencies: "dependencies",
          devEependencies: "devDependencies",
          depends: "dependencies",
          "dev-dependencies": "devDependencies",
          devDependences: "devDependencies",
          devDepenencies: "devDependencies",
          devdependencies: "devDependencies",
          repostitory: "repository",
          repo: "repository",
          prefereGlobal: "preferGlobal",
          hompage: "homepage",
          hampage: "homepage",
          autohr: "author",
          autor: "author",
          contributers: "contributors",
          publicationConfig: "publishConfig",
          script: "scripts"
        },
        bugs: {web: "url", name: "url"},
        script: {server: "start", tests: "test"}
      };
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/normalize-package-data-npm-3.0.3-1a49056685-9.zip/node_modules/normalize-package-data/lib/fixer.js
  var require_fixer = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/normalize-package-data-npm-3.0.3-1a49056685-9.zip/node_modules/normalize-package-data/lib/fixer.js"(exports, module) {
      var isValidSemver = require_valid();
      var cleanSemver = require_clean();
      var validateLicense = require_validate_npm_package_license();
      var hostedGitInfo = require_hosted_git_info();
      var isBuiltinModule = require_is_core_module();
      var depTypes = ["dependencies", "devDependencies", "optionalDependencies"];
      var extractDescription = require_extract_description();
      var url = __require("url");
      var typos = require_typos();
      module.exports = {
        warn: function() {
        },
        fixRepositoryField: function(data) {
          if (data.repositories) {
            this.warn("repositories");
            data.repository = data.repositories[0];
          }
          if (!data.repository) {
            return this.warn("missingRepository");
          }
          if (typeof data.repository === "string") {
            data.repository = {
              type: "git",
              url: data.repository
            };
          }
          var r = data.repository.url || "";
          if (r) {
            var hosted = hostedGitInfo.fromUrl(r);
            if (hosted) {
              r = data.repository.url = hosted.getDefaultRepresentation() === "shortcut" ? hosted.https() : hosted.toString();
            }
          }
          if (r.match(/github.com\/[^/]+\/[^/]+\.git\.git$/)) {
            this.warn("brokenGitUrl", r);
          }
        },
        fixTypos: function(data) {
          Object.keys(typos.topLevel).forEach(function(d) {
            if (Object.prototype.hasOwnProperty.call(data, d)) {
              this.warn("typo", d, typos.topLevel[d]);
            }
          }, this);
        },
        fixScriptsField: function(data) {
          if (!data.scripts) {
            return;
          }
          if (typeof data.scripts !== "object") {
            this.warn("nonObjectScripts");
            delete data.scripts;
            return;
          }
          Object.keys(data.scripts).forEach(function(k) {
            if (typeof data.scripts[k] !== "string") {
              this.warn("nonStringScript");
              delete data.scripts[k];
            } else if (typos.script[k] && !data.scripts[typos.script[k]]) {
              this.warn("typo", k, typos.script[k], "scripts");
            }
          }, this);
        },
        fixFilesField: function(data) {
          var files = data.files;
          if (files && !Array.isArray(files)) {
            this.warn("nonArrayFiles");
            delete data.files;
          } else if (data.files) {
            data.files = data.files.filter(function(file) {
              if (!file || typeof file !== "string") {
                this.warn("invalidFilename", file);
                return false;
              } else {
                return true;
              }
            }, this);
          }
        },
        fixBinField: function(data) {
          if (!data.bin) {
            return;
          }
          if (typeof data.bin === "string") {
            var b = {};
            var match;
            if (match = data.name.match(/^@[^/]+[/](.*)$/)) {
              b[match[1]] = data.bin;
            } else {
              b[data.name] = data.bin;
            }
            data.bin = b;
          }
        },
        fixManField: function(data) {
          if (!data.man) {
            return;
          }
          if (typeof data.man === "string") {
            data.man = [data.man];
          }
        },
        fixBundleDependenciesField: function(data) {
          var bdd = "bundledDependencies";
          var bd = "bundleDependencies";
          if (data[bdd] && !data[bd]) {
            data[bd] = data[bdd];
            delete data[bdd];
          }
          if (data[bd] && !Array.isArray(data[bd])) {
            this.warn("nonArrayBundleDependencies");
            delete data[bd];
          } else if (data[bd]) {
            data[bd] = data[bd].filter(function(bd2) {
              if (!bd2 || typeof bd2 !== "string") {
                this.warn("nonStringBundleDependency", bd2);
                return false;
              } else {
                if (!data.dependencies) {
                  data.dependencies = {};
                }
                if (Object.prototype.hasOwnProperty.call(data.dependencies, bd2)) {
                  this.warn("nonDependencyBundleDependency", bd2);
                  data.dependencies[bd2] = "*";
                }
                return true;
              }
            }, this);
          }
        },
        fixDependencies: function(data, strict) {
          objectifyDeps(data, this.warn);
          addOptionalDepsToDeps(data, this.warn);
          this.fixBundleDependenciesField(data);
          ["dependencies", "devDependencies"].forEach(function(deps) {
            if (!(deps in data)) {
              return;
            }
            if (!data[deps] || typeof data[deps] !== "object") {
              this.warn("nonObjectDependencies", deps);
              delete data[deps];
              return;
            }
            Object.keys(data[deps]).forEach(function(d) {
              var r = data[deps][d];
              if (typeof r !== "string") {
                this.warn("nonStringDependency", d, JSON.stringify(r));
                delete data[deps][d];
              }
              var hosted = hostedGitInfo.fromUrl(data[deps][d]);
              if (hosted) {
                data[deps][d] = hosted.toString();
              }
            }, this);
          }, this);
        },
        fixModulesField: function(data) {
          if (data.modules) {
            this.warn("deprecatedModules");
            delete data.modules;
          }
        },
        fixKeywordsField: function(data) {
          if (typeof data.keywords === "string") {
            data.keywords = data.keywords.split(/,\s+/);
          }
          if (data.keywords && !Array.isArray(data.keywords)) {
            delete data.keywords;
            this.warn("nonArrayKeywords");
          } else if (data.keywords) {
            data.keywords = data.keywords.filter(function(kw) {
              if (typeof kw !== "string" || !kw) {
                this.warn("nonStringKeyword");
                return false;
              } else {
                return true;
              }
            }, this);
          }
        },
        fixVersionField: function(data, strict) {
          var loose = !strict;
          if (!data.version) {
            data.version = "";
            return true;
          }
          if (!isValidSemver(data.version, loose)) {
            throw new Error('Invalid version: "' + data.version + '"');
          }
          data.version = cleanSemver(data.version, loose);
          return true;
        },
        fixPeople: function(data) {
          modifyPeople(data, unParsePerson);
          modifyPeople(data, parsePerson);
        },
        fixNameField: function(data, options) {
          if (typeof options === "boolean") {
            options = {strict: options};
          } else if (typeof options === "undefined") {
            options = {};
          }
          var strict = options.strict;
          if (!data.name && !strict) {
            data.name = "";
            return;
          }
          if (typeof data.name !== "string") {
            throw new Error("name field must be a string.");
          }
          if (!strict) {
            data.name = data.name.trim();
          }
          ensureValidName(data.name, strict, options.allowLegacyCase);
          if (isBuiltinModule(data.name)) {
            this.warn("conflictingName", data.name);
          }
        },
        fixDescriptionField: function(data) {
          if (data.description && typeof data.description !== "string") {
            this.warn("nonStringDescription");
            delete data.description;
          }
          if (data.readme && !data.description) {
            data.description = extractDescription(data.readme);
          }
          if (data.description === void 0) {
            delete data.description;
          }
          if (!data.description) {
            this.warn("missingDescription");
          }
        },
        fixReadmeField: function(data) {
          if (!data.readme) {
            this.warn("missingReadme");
            data.readme = "ERROR: No README data found!";
          }
        },
        fixBugsField: function(data) {
          if (!data.bugs && data.repository && data.repository.url) {
            var hosted = hostedGitInfo.fromUrl(data.repository.url);
            if (hosted && hosted.bugs()) {
              data.bugs = {url: hosted.bugs()};
            }
          } else if (data.bugs) {
            var emailRe = /^.+@.*\..+$/;
            if (typeof data.bugs === "string") {
              if (emailRe.test(data.bugs)) {
                data.bugs = {email: data.bugs};
              } else if (url.parse(data.bugs).protocol) {
                data.bugs = {url: data.bugs};
              } else {
                this.warn("nonEmailUrlBugsString");
              }
            } else {
              bugsTypos(data.bugs, this.warn);
              var oldBugs = data.bugs;
              data.bugs = {};
              if (oldBugs.url) {
                if (typeof oldBugs.url === "string" && url.parse(oldBugs.url).protocol) {
                  data.bugs.url = oldBugs.url;
                } else {
                  this.warn("nonUrlBugsUrlField");
                }
              }
              if (oldBugs.email) {
                if (typeof oldBugs.email === "string" && emailRe.test(oldBugs.email)) {
                  data.bugs.email = oldBugs.email;
                } else {
                  this.warn("nonEmailBugsEmailField");
                }
              }
            }
            if (!data.bugs.email && !data.bugs.url) {
              delete data.bugs;
              this.warn("emptyNormalizedBugs");
            }
          }
        },
        fixHomepageField: function(data) {
          if (!data.homepage && data.repository && data.repository.url) {
            var hosted = hostedGitInfo.fromUrl(data.repository.url);
            if (hosted && hosted.docs()) {
              data.homepage = hosted.docs();
            }
          }
          if (!data.homepage) {
            return;
          }
          if (typeof data.homepage !== "string") {
            this.warn("nonUrlHomepage");
            return delete data.homepage;
          }
          if (!url.parse(data.homepage).protocol) {
            data.homepage = "http://" + data.homepage;
          }
        },
        fixLicenseField: function(data) {
          const license = data.license || data.licence;
          if (!license) {
            return this.warn("missingLicense");
          }
          if (typeof license !== "string" || license.length < 1 || license.trim() === "") {
            return this.warn("invalidLicense");
          }
          if (!validateLicense(license).validForNewPackages) {
            return this.warn("invalidLicense");
          }
        }
      };
      function isValidScopedPackageName(spec) {
        if (spec.charAt(0) !== "@") {
          return false;
        }
        var rest = spec.slice(1).split("/");
        if (rest.length !== 2) {
          return false;
        }
        return rest[0] && rest[1] && rest[0] === encodeURIComponent(rest[0]) && rest[1] === encodeURIComponent(rest[1]);
      }
      function isCorrectlyEncodedName(spec) {
        return !spec.match(/[/@\s+%:]/) && spec === encodeURIComponent(spec);
      }
      function ensureValidName(name, strict, allowLegacyCase) {
        if (name.charAt(0) === "." || !(isValidScopedPackageName(name) || isCorrectlyEncodedName(name)) || strict && !allowLegacyCase && name !== name.toLowerCase() || name.toLowerCase() === "node_modules" || name.toLowerCase() === "favicon.ico") {
          throw new Error("Invalid name: " + JSON.stringify(name));
        }
      }
      function modifyPeople(data, fn) {
        if (data.author) {
          data.author = fn(data.author);
        }
        ["maintainers", "contributors"].forEach(function(set) {
          if (!Array.isArray(data[set])) {
            return;
          }
          data[set] = data[set].map(fn);
        });
        return data;
      }
      function unParsePerson(person) {
        if (typeof person === "string") {
          return person;
        }
        var name = person.name || "";
        var u = person.url || person.web;
        var url2 = u ? " (" + u + ")" : "";
        var e = person.email || person.mail;
        var email = e ? " <" + e + ">" : "";
        return name + email + url2;
      }
      function parsePerson(person) {
        if (typeof person !== "string") {
          return person;
        }
        var name = person.match(/^([^(<]+)/);
        var url2 = person.match(/\(([^)]+)\)/);
        var email = person.match(/<([^>]+)>/);
        var obj = {};
        if (name && name[0].trim()) {
          obj.name = name[0].trim();
        }
        if (email) {
          obj.email = email[1];
        }
        if (url2) {
          obj.url = url2[1];
        }
        return obj;
      }
      function addOptionalDepsToDeps(data, warn) {
        var o = data.optionalDependencies;
        if (!o) {
          return;
        }
        var d = data.dependencies || {};
        Object.keys(o).forEach(function(k) {
          d[k] = o[k];
        });
        data.dependencies = d;
      }
      function depObjectify(deps, type, warn) {
        if (!deps) {
          return {};
        }
        if (typeof deps === "string") {
          deps = deps.trim().split(/[\n\r\s\t ,]+/);
        }
        if (!Array.isArray(deps)) {
          return deps;
        }
        warn("deprecatedArrayDependencies", type);
        var o = {};
        deps.filter(function(d) {
          return typeof d === "string";
        }).forEach(function(d) {
          d = d.trim().split(/(:?[@\s><=])/);
          var dn = d.shift();
          var dv = d.join("");
          dv = dv.trim();
          dv = dv.replace(/^@/, "");
          o[dn] = dv;
        });
        return o;
      }
      function objectifyDeps(data, warn) {
        depTypes.forEach(function(type) {
          if (!data[type]) {
            return;
          }
          data[type] = depObjectify(data[type], type, warn);
        });
      }
      function bugsTypos(bugs, warn) {
        if (!bugs) {
          return;
        }
        Object.keys(bugs).forEach(function(k) {
          if (typos.bugs[k]) {
            warn("typo", k, typos.bugs[k], "bugs");
            bugs[typos.bugs[k]] = bugs[k];
            delete bugs[k];
          }
        });
      }
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/normalize-package-data-npm-3.0.3-1a49056685-9.zip/node_modules/normalize-package-data/lib/warning_messages.json
  var require_warning_messages = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/normalize-package-data-npm-3.0.3-1a49056685-9.zip/node_modules/normalize-package-data/lib/warning_messages.json"(exports, module) {
      module.exports = {
        repositories: "'repositories' (plural) Not supported. Please pick one as the 'repository' field",
        missingRepository: "No repository field.",
        brokenGitUrl: "Probably broken git url: %s",
        nonObjectScripts: "scripts must be an object",
        nonStringScript: "script values must be string commands",
        nonArrayFiles: "Invalid 'files' member",
        invalidFilename: "Invalid filename in 'files' list: %s",
        nonArrayBundleDependencies: "Invalid 'bundleDependencies' list. Must be array of package names",
        nonStringBundleDependency: "Invalid bundleDependencies member: %s",
        nonDependencyBundleDependency: "Non-dependency in bundleDependencies: %s",
        nonObjectDependencies: "%s field must be an object",
        nonStringDependency: "Invalid dependency: %s %s",
        deprecatedArrayDependencies: "specifying %s as array is deprecated",
        deprecatedModules: "modules field is deprecated",
        nonArrayKeywords: "keywords should be an array of strings",
        nonStringKeyword: "keywords should be an array of strings",
        conflictingName: "%s is also the name of a node core module.",
        nonStringDescription: "'description' field should be a string",
        missingDescription: "No description",
        missingReadme: "No README data",
        missingLicense: "No license field.",
        nonEmailUrlBugsString: "Bug string field must be url, email, or {email,url}",
        nonUrlBugsUrlField: "bugs.url field must be a string url. Deleted.",
        nonEmailBugsEmailField: "bugs.email field must be a string email. Deleted.",
        emptyNormalizedBugs: "Normalized value of bugs field is an empty object. Deleted.",
        nonUrlHomepage: "homepage field must be a string url. Deleted.",
        invalidLicense: "license should be a valid SPDX license expression",
        typo: "%s should probably be %s."
      };
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/normalize-package-data-npm-3.0.3-1a49056685-9.zip/node_modules/normalize-package-data/lib/make_warning.js
  var require_make_warning = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/normalize-package-data-npm-3.0.3-1a49056685-9.zip/node_modules/normalize-package-data/lib/make_warning.js"(exports, module) {
      var util = __require("util");
      var messages = require_warning_messages();
      module.exports = function() {
        var args = Array.prototype.slice.call(arguments, 0);
        var warningName = args.shift();
        if (warningName === "typo") {
          return makeTypoWarning.apply(null, args);
        } else {
          var msgTemplate = messages[warningName] ? messages[warningName] : warningName + ": '%s'";
          args.unshift(msgTemplate);
          return util.format.apply(null, args);
        }
      };
      function makeTypoWarning(providedName, probableName, field) {
        if (field) {
          providedName = field + "['" + providedName + "']";
          probableName = field + "['" + probableName + "']";
        }
        return util.format(messages.typo, providedName, probableName);
      }
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/normalize-package-data-npm-3.0.3-1a49056685-9.zip/node_modules/normalize-package-data/lib/normalize.js
  var require_normalize = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/normalize-package-data-npm-3.0.3-1a49056685-9.zip/node_modules/normalize-package-data/lib/normalize.js"(exports, module) {
      module.exports = normalize;
      var fixer = require_fixer();
      normalize.fixer = fixer;
      var makeWarning = require_make_warning();
      var fieldsToFix = [
        "name",
        "version",
        "description",
        "repository",
        "modules",
        "scripts",
        "files",
        "bin",
        "man",
        "bugs",
        "keywords",
        "readme",
        "homepage",
        "license"
      ];
      var otherThingsToFix = ["dependencies", "people", "typos"];
      var thingsToFix = fieldsToFix.map(function(fieldName) {
        return ucFirst(fieldName) + "Field";
      });
      thingsToFix = thingsToFix.concat(otherThingsToFix);
      function normalize(data, warn, strict) {
        if (warn === true) {
          warn = null;
          strict = true;
        }
        if (!strict) {
          strict = false;
        }
        if (!warn || data.private) {
          warn = function(msg) {
          };
        }
        if (data.scripts && data.scripts.install === "node-gyp rebuild" && !data.scripts.preinstall) {
          data.gypfile = true;
        }
        fixer.warn = function() {
          warn(makeWarning.apply(null, arguments));
        };
        thingsToFix.forEach(function(thingName) {
          fixer["fix" + ucFirst(thingName)](data, strict);
        });
        data._id = data.name + "@" + data.version;
      }
      function ucFirst(string) {
        return string.charAt(0).toUpperCase() + string.slice(1);
      }
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/ini-npm-1.3.8-fb5040b4c0-9.zip/node_modules/ini/ini.js
  var require_ini = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/ini-npm-1.3.8-fb5040b4c0-9.zip/node_modules/ini/ini.js"(exports) {
      exports.parse = exports.decode = decode;
      exports.stringify = exports.encode = encode;
      exports.safe = safe;
      exports.unsafe = unsafe;
      var eol = typeof process !== "undefined" && process.platform === "win32" ? "\r\n" : "\n";
      function encode(obj, opt) {
        var children = [];
        var out = "";
        if (typeof opt === "string") {
          opt = {
            section: opt,
            whitespace: false
          };
        } else {
          opt = opt || {};
          opt.whitespace = opt.whitespace === true;
        }
        var separator = opt.whitespace ? " = " : "=";
        Object.keys(obj).forEach(function(k, _, __) {
          var val = obj[k];
          if (val && Array.isArray(val)) {
            val.forEach(function(item) {
              out += safe(k + "[]") + separator + safe(item) + "\n";
            });
          } else if (val && typeof val === "object")
            children.push(k);
          else
            out += safe(k) + separator + safe(val) + eol;
        });
        if (opt.section && out.length)
          out = "[" + safe(opt.section) + "]" + eol + out;
        children.forEach(function(k, _, __) {
          var nk = dotSplit(k).join("\\.");
          var section = (opt.section ? opt.section + "." : "") + nk;
          var child = encode(obj[k], {
            section,
            whitespace: opt.whitespace
          });
          if (out.length && child.length)
            out += eol;
          out += child;
        });
        return out;
      }
      function dotSplit(str) {
        return str.replace(/\1/g, "LITERAL\\1LITERAL").replace(/\\\./g, "").split(/\./).map(function(part) {
          return part.replace(/\1/g, "\\.").replace(/\2LITERAL\\1LITERAL\2/g, "");
        });
      }
      function decode(str) {
        var out = {};
        var p = out;
        var section = null;
        var re = /^\[([^\]]*)\]$|^([^=]+)(=(.*))?$/i;
        var lines = str.split(/[\r\n]+/g);
        lines.forEach(function(line, _, __) {
          if (!line || line.match(/^\s*[;#]/))
            return;
          var match = line.match(re);
          if (!match)
            return;
          if (match[1] !== void 0) {
            section = unsafe(match[1]);
            if (section === "__proto__") {
              p = {};
              return;
            }
            p = out[section] = out[section] || {};
            return;
          }
          var key = unsafe(match[2]);
          if (key === "__proto__")
            return;
          var value = match[3] ? unsafe(match[4]) : true;
          switch (value) {
            case "true":
            case "false":
            case "null":
              value = JSON.parse(value);
          }
          if (key.length > 2 && key.slice(-2) === "[]") {
            key = key.substring(0, key.length - 2);
            if (key === "__proto__")
              return;
            if (!p[key])
              p[key] = [];
            else if (!Array.isArray(p[key]))
              p[key] = [p[key]];
          }
          if (Array.isArray(p[key]))
            p[key].push(value);
          else
            p[key] = value;
        });
        Object.keys(out).filter(function(k, _, __) {
          if (!out[k] || typeof out[k] !== "object" || Array.isArray(out[k]))
            return false;
          var parts = dotSplit(k);
          var p2 = out;
          var l = parts.pop();
          var nl = l.replace(/\\\./g, ".");
          parts.forEach(function(part, _2, __2) {
            if (part === "__proto__")
              return;
            if (!p2[part] || typeof p2[part] !== "object")
              p2[part] = {};
            p2 = p2[part];
          });
          if (p2 === out && nl === l)
            return false;
          p2[nl] = out[k];
          return true;
        }).forEach(function(del, _, __) {
          delete out[del];
        });
        return out;
      }
      function isQuoted(val) {
        return val.charAt(0) === '"' && val.slice(-1) === '"' || val.charAt(0) === "'" && val.slice(-1) === "'";
      }
      function safe(val) {
        return typeof val !== "string" || val.match(/[=\r\n]/) || val.match(/^\[/) || val.length > 1 && isQuoted(val) || val !== val.trim() ? JSON.stringify(val) : val.replace(/;/g, "\\;").replace(/#/g, "\\#");
      }
      function unsafe(val, doUnesc) {
        val = (val || "").trim();
        if (isQuoted(val)) {
          if (val.charAt(0) === "'")
            val = val.substr(1, val.length - 2);
          try {
            val = JSON.parse(val);
          } catch (_) {
          }
        } else {
          var esc = false;
          var unesc = "";
          for (var i = 0, l = val.length; i < l; i++) {
            var c = val.charAt(i);
            if (esc) {
              if ("\\;#".indexOf(c) !== -1)
                unesc += c;
              else
                unesc += "\\" + c;
              esc = false;
            } else if (";#".indexOf(c) !== -1)
              break;
            else if (c === "\\")
              esc = true;
            else
              unesc += c;
          }
          if (esc)
            unesc += "\\";
          return unesc.trim();
        }
        return val;
      }
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/gitconfiglocal-npm-1.0.0-905970379d-9.zip/node_modules/gitconfiglocal/index.js
  var require_gitconfiglocal = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/gitconfiglocal-npm-1.0.0-905970379d-9.zip/node_modules/gitconfiglocal/index.js"(exports, module) {
      var fs2 = __require("fs");
      var ini = require_ini();
      var path = __require("path");
      module.exports = function(dir, cb) {
        findGit(dir, function(config) {
          if (!config)
            return cb(new Error("no gitconfig to be found at " + dir));
          fs2.readFile(config, function(err, data) {
            if (err)
              return cb(err);
            try {
              var formatted = format(ini.parse(data.toString()));
            } catch (e) {
              return cb(e);
            }
            cb(false, formatted);
          });
        });
      };
      function format(data) {
        var out = {};
        Object.keys(data).forEach(function(k) {
          if (k.indexOf('"') > -1) {
            var parts = k.split('"');
            var parentKey = parts.shift().trim();
            var childKey = parts.shift().trim();
            if (!out[parentKey])
              out[parentKey] = {};
            out[parentKey][childKey] = data[k];
          } else {
            out[k] = data[k];
          }
        });
        return out;
      }
      function findGit(dir, cb) {
        var folder = path.join(dir, ".git/config");
        fs2.exists(folder, function(exists) {
          if (exists)
            return cb(folder);
          if (dir === path.resolve(dir, ".."))
            return cb(false);
          findGit(path.resolve(dir, ".."), cb);
        });
      }
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/pify-npm-2.3.0-8b63310934-9.zip/node_modules/pify/index.js
  var require_pify = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/pify-npm-2.3.0-8b63310934-9.zip/node_modules/pify/index.js"(exports, module) {
      "use strict";
      var processFn = function(fn, P, opts) {
        return function() {
          var that = this;
          var args = new Array(arguments.length);
          for (var i = 0; i < arguments.length; i++) {
            args[i] = arguments[i];
          }
          return new P(function(resolve, reject) {
            args.push(function(err, result) {
              if (err) {
                reject(err);
              } else if (opts.multiArgs) {
                var results = new Array(arguments.length - 1);
                for (var i2 = 1; i2 < arguments.length; i2++) {
                  results[i2 - 1] = arguments[i2];
                }
                resolve(results);
              } else {
                resolve(result);
              }
            });
            fn.apply(that, args);
          });
        };
      };
      var pify = module.exports = function(obj, P, opts) {
        if (typeof P !== "function") {
          opts = P;
          P = Promise;
        }
        opts = opts || {};
        opts.exclude = opts.exclude || [/.+Sync$/];
        var filter = function(key) {
          var match = function(pattern) {
            return typeof pattern === "string" ? key === pattern : pattern.test(key);
          };
          return opts.include ? opts.include.some(match) : !opts.exclude.some(match);
        };
        var ret = typeof obj === "function" ? function() {
          if (opts.excludeMain) {
            return obj.apply(this, arguments);
          }
          return processFn(obj, P, opts).apply(this, arguments);
        } : {};
        return Object.keys(obj).reduce(function(ret2, key) {
          var x = obj[key];
          ret2[key] = typeof x === "function" && filter(key) ? processFn(x, P, opts) : x;
          return ret2;
        }, ret);
      };
      pify.all = pify;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/git-remote-origin-url-npm-2.0.0-319debe0d1-9.zip/node_modules/git-remote-origin-url/index.js
  var require_git_remote_origin_url = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/git-remote-origin-url-npm-2.0.0-319debe0d1-9.zip/node_modules/git-remote-origin-url/index.js"(exports, module) {
      "use strict";
      var gitconfig = require_gitconfiglocal();
      var pify = require_pify();
      module.exports = (dir) => {
        return pify(gitconfig)(dir || process.cwd()).then((config) => {
          var url = config.remote && config.remote.origin && config.remote.origin.url;
          if (!url) {
            throw new Error("Couldn't find origin url");
          }
          return url;
        });
      };
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/graceful-fs-npm-4.2.10-79c70989ca-9.zip/node_modules/graceful-fs/polyfills.js
  var require_polyfills = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/graceful-fs-npm-4.2.10-79c70989ca-9.zip/node_modules/graceful-fs/polyfills.js"(exports, module) {
      var constants = __require("constants");
      var origCwd = process.cwd;
      var cwd = null;
      var platform = process.env.GRACEFUL_FS_PLATFORM || process.platform;
      process.cwd = function() {
        if (!cwd)
          cwd = origCwd.call(process);
        return cwd;
      };
      try {
        process.cwd();
      } catch (er) {
      }
      if (typeof process.chdir === "function") {
        chdir = process.chdir;
        process.chdir = function(d) {
          cwd = null;
          chdir.call(process, d);
        };
        if (Object.setPrototypeOf)
          Object.setPrototypeOf(process.chdir, chdir);
      }
      var chdir;
      module.exports = patch;
      function patch(fs2) {
        if (constants.hasOwnProperty("O_SYMLINK") && process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)) {
          patchLchmod(fs2);
        }
        if (!fs2.lutimes) {
          patchLutimes(fs2);
        }
        fs2.chown = chownFix(fs2.chown);
        fs2.fchown = chownFix(fs2.fchown);
        fs2.lchown = chownFix(fs2.lchown);
        fs2.chmod = chmodFix(fs2.chmod);
        fs2.fchmod = chmodFix(fs2.fchmod);
        fs2.lchmod = chmodFix(fs2.lchmod);
        fs2.chownSync = chownFixSync(fs2.chownSync);
        fs2.fchownSync = chownFixSync(fs2.fchownSync);
        fs2.lchownSync = chownFixSync(fs2.lchownSync);
        fs2.chmodSync = chmodFixSync(fs2.chmodSync);
        fs2.fchmodSync = chmodFixSync(fs2.fchmodSync);
        fs2.lchmodSync = chmodFixSync(fs2.lchmodSync);
        fs2.stat = statFix(fs2.stat);
        fs2.fstat = statFix(fs2.fstat);
        fs2.lstat = statFix(fs2.lstat);
        fs2.statSync = statFixSync(fs2.statSync);
        fs2.fstatSync = statFixSync(fs2.fstatSync);
        fs2.lstatSync = statFixSync(fs2.lstatSync);
        if (fs2.chmod && !fs2.lchmod) {
          fs2.lchmod = function(path, mode, cb) {
            if (cb)
              process.nextTick(cb);
          };
          fs2.lchmodSync = function() {
          };
        }
        if (fs2.chown && !fs2.lchown) {
          fs2.lchown = function(path, uid, gid, cb) {
            if (cb)
              process.nextTick(cb);
          };
          fs2.lchownSync = function() {
          };
        }
        if (platform === "win32") {
          fs2.rename = typeof fs2.rename !== "function" ? fs2.rename : function(fs$rename) {
            function rename(from, to, cb) {
              var start = Date.now();
              var backoff = 0;
              fs$rename(from, to, function CB(er) {
                if (er && (er.code === "EACCES" || er.code === "EPERM") && Date.now() - start < 6e4) {
                  setTimeout(function() {
                    fs2.stat(to, function(stater, st) {
                      if (stater && stater.code === "ENOENT")
                        fs$rename(from, to, CB);
                      else
                        cb(er);
                    });
                  }, backoff);
                  if (backoff < 100)
                    backoff += 10;
                  return;
                }
                if (cb)
                  cb(er);
              });
            }
            if (Object.setPrototypeOf)
              Object.setPrototypeOf(rename, fs$rename);
            return rename;
          }(fs2.rename);
        }
        fs2.read = typeof fs2.read !== "function" ? fs2.read : function(fs$read) {
          function read(fd, buffer, offset, length, position, callback_) {
            var callback;
            if (callback_ && typeof callback_ === "function") {
              var eagCounter = 0;
              callback = function(er, _, __) {
                if (er && er.code === "EAGAIN" && eagCounter < 10) {
                  eagCounter++;
                  return fs$read.call(fs2, fd, buffer, offset, length, position, callback);
                }
                callback_.apply(this, arguments);
              };
            }
            return fs$read.call(fs2, fd, buffer, offset, length, position, callback);
          }
          if (Object.setPrototypeOf)
            Object.setPrototypeOf(read, fs$read);
          return read;
        }(fs2.read);
        fs2.readSync = typeof fs2.readSync !== "function" ? fs2.readSync : function(fs$readSync) {
          return function(fd, buffer, offset, length, position) {
            var eagCounter = 0;
            while (true) {
              try {
                return fs$readSync.call(fs2, fd, buffer, offset, length, position);
              } catch (er) {
                if (er.code === "EAGAIN" && eagCounter < 10) {
                  eagCounter++;
                  continue;
                }
                throw er;
              }
            }
          };
        }(fs2.readSync);
        function patchLchmod(fs3) {
          fs3.lchmod = function(path, mode, callback) {
            fs3.open(path, constants.O_WRONLY | constants.O_SYMLINK, mode, function(err, fd) {
              if (err) {
                if (callback)
                  callback(err);
                return;
              }
              fs3.fchmod(fd, mode, function(err2) {
                fs3.close(fd, function(err22) {
                  if (callback)
                    callback(err2 || err22);
                });
              });
            });
          };
          fs3.lchmodSync = function(path, mode) {
            var fd = fs3.openSync(path, constants.O_WRONLY | constants.O_SYMLINK, mode);
            var threw = true;
            var ret;
            try {
              ret = fs3.fchmodSync(fd, mode);
              threw = false;
            } finally {
              if (threw) {
                try {
                  fs3.closeSync(fd);
                } catch (er) {
                }
              } else {
                fs3.closeSync(fd);
              }
            }
            return ret;
          };
        }
        function patchLutimes(fs3) {
          if (constants.hasOwnProperty("O_SYMLINK") && fs3.futimes) {
            fs3.lutimes = function(path, at, mt, cb) {
              fs3.open(path, constants.O_SYMLINK, function(er, fd) {
                if (er) {
                  if (cb)
                    cb(er);
                  return;
                }
                fs3.futimes(fd, at, mt, function(er2) {
                  fs3.close(fd, function(er22) {
                    if (cb)
                      cb(er2 || er22);
                  });
                });
              });
            };
            fs3.lutimesSync = function(path, at, mt) {
              var fd = fs3.openSync(path, constants.O_SYMLINK);
              var ret;
              var threw = true;
              try {
                ret = fs3.futimesSync(fd, at, mt);
                threw = false;
              } finally {
                if (threw) {
                  try {
                    fs3.closeSync(fd);
                  } catch (er) {
                  }
                } else {
                  fs3.closeSync(fd);
                }
              }
              return ret;
            };
          } else if (fs3.futimes) {
            fs3.lutimes = function(_a, _b, _c, cb) {
              if (cb)
                process.nextTick(cb);
            };
            fs3.lutimesSync = function() {
            };
          }
        }
        function chmodFix(orig) {
          if (!orig)
            return orig;
          return function(target, mode, cb) {
            return orig.call(fs2, target, mode, function(er) {
              if (chownErOk(er))
                er = null;
              if (cb)
                cb.apply(this, arguments);
            });
          };
        }
        function chmodFixSync(orig) {
          if (!orig)
            return orig;
          return function(target, mode) {
            try {
              return orig.call(fs2, target, mode);
            } catch (er) {
              if (!chownErOk(er))
                throw er;
            }
          };
        }
        function chownFix(orig) {
          if (!orig)
            return orig;
          return function(target, uid, gid, cb) {
            return orig.call(fs2, target, uid, gid, function(er) {
              if (chownErOk(er))
                er = null;
              if (cb)
                cb.apply(this, arguments);
            });
          };
        }
        function chownFixSync(orig) {
          if (!orig)
            return orig;
          return function(target, uid, gid) {
            try {
              return orig.call(fs2, target, uid, gid);
            } catch (er) {
              if (!chownErOk(er))
                throw er;
            }
          };
        }
        function statFix(orig) {
          if (!orig)
            return orig;
          return function(target, options, cb) {
            if (typeof options === "function") {
              cb = options;
              options = null;
            }
            function callback(er, stats) {
              if (stats) {
                if (stats.uid < 0)
                  stats.uid += 4294967296;
                if (stats.gid < 0)
                  stats.gid += 4294967296;
              }
              if (cb)
                cb.apply(this, arguments);
            }
            return options ? orig.call(fs2, target, options, callback) : orig.call(fs2, target, callback);
          };
        }
        function statFixSync(orig) {
          if (!orig)
            return orig;
          return function(target, options) {
            var stats = options ? orig.call(fs2, target, options) : orig.call(fs2, target);
            if (stats) {
              if (stats.uid < 0)
                stats.uid += 4294967296;
              if (stats.gid < 0)
                stats.gid += 4294967296;
            }
            return stats;
          };
        }
        function chownErOk(er) {
          if (!er)
            return true;
          if (er.code === "ENOSYS")
            return true;
          var nonroot = !process.getuid || process.getuid() !== 0;
          if (nonroot) {
            if (er.code === "EINVAL" || er.code === "EPERM")
              return true;
          }
          return false;
        }
      }
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/graceful-fs-npm-4.2.10-79c70989ca-9.zip/node_modules/graceful-fs/legacy-streams.js
  var require_legacy_streams = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/graceful-fs-npm-4.2.10-79c70989ca-9.zip/node_modules/graceful-fs/legacy-streams.js"(exports, module) {
      var Stream = __require("stream").Stream;
      module.exports = legacy;
      function legacy(fs2) {
        return {
          ReadStream,
          WriteStream
        };
        function ReadStream(path, options) {
          if (!(this instanceof ReadStream))
            return new ReadStream(path, options);
          Stream.call(this);
          var self2 = this;
          this.path = path;
          this.fd = null;
          this.readable = true;
          this.paused = false;
          this.flags = "r";
          this.mode = 438;
          this.bufferSize = 64 * 1024;
          options = options || {};
          var keys = Object.keys(options);
          for (var index = 0, length = keys.length; index < length; index++) {
            var key = keys[index];
            this[key] = options[key];
          }
          if (this.encoding)
            this.setEncoding(this.encoding);
          if (this.start !== void 0) {
            if (typeof this.start !== "number") {
              throw TypeError("start must be a Number");
            }
            if (this.end === void 0) {
              this.end = Infinity;
            } else if (typeof this.end !== "number") {
              throw TypeError("end must be a Number");
            }
            if (this.start > this.end) {
              throw new Error("start must be <= end");
            }
            this.pos = this.start;
          }
          if (this.fd !== null) {
            process.nextTick(function() {
              self2._read();
            });
            return;
          }
          fs2.open(this.path, this.flags, this.mode, function(err, fd) {
            if (err) {
              self2.emit("error", err);
              self2.readable = false;
              return;
            }
            self2.fd = fd;
            self2.emit("open", fd);
            self2._read();
          });
        }
        function WriteStream(path, options) {
          if (!(this instanceof WriteStream))
            return new WriteStream(path, options);
          Stream.call(this);
          this.path = path;
          this.fd = null;
          this.writable = true;
          this.flags = "w";
          this.encoding = "binary";
          this.mode = 438;
          this.bytesWritten = 0;
          options = options || {};
          var keys = Object.keys(options);
          for (var index = 0, length = keys.length; index < length; index++) {
            var key = keys[index];
            this[key] = options[key];
          }
          if (this.start !== void 0) {
            if (typeof this.start !== "number") {
              throw TypeError("start must be a Number");
            }
            if (this.start < 0) {
              throw new Error("start must be >= zero");
            }
            this.pos = this.start;
          }
          this.busy = false;
          this._queue = [];
          if (this.fd === null) {
            this._open = fs2.open;
            this._queue.push([this._open, this.path, this.flags, this.mode, void 0]);
            this.flush();
          }
        }
      }
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/graceful-fs-npm-4.2.10-79c70989ca-9.zip/node_modules/graceful-fs/clone.js
  var require_clone = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/graceful-fs-npm-4.2.10-79c70989ca-9.zip/node_modules/graceful-fs/clone.js"(exports, module) {
      "use strict";
      module.exports = clone;
      var getPrototypeOf = Object.getPrototypeOf || function(obj) {
        return obj.__proto__;
      };
      function clone(obj) {
        if (obj === null || typeof obj !== "object")
          return obj;
        if (obj instanceof Object)
          var copy = {__proto__: getPrototypeOf(obj)};
        else
          var copy = Object.create(null);
        Object.getOwnPropertyNames(obj).forEach(function(key) {
          Object.defineProperty(copy, key, Object.getOwnPropertyDescriptor(obj, key));
        });
        return copy;
      }
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/graceful-fs-npm-4.2.10-79c70989ca-9.zip/node_modules/graceful-fs/graceful-fs.js
  var require_graceful_fs = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/graceful-fs-npm-4.2.10-79c70989ca-9.zip/node_modules/graceful-fs/graceful-fs.js"(exports, module) {
      var fs2 = __require("fs");
      var polyfills = require_polyfills();
      var legacy = require_legacy_streams();
      var clone = require_clone();
      var util = __require("util");
      var gracefulQueue;
      var previousSymbol;
      if (typeof Symbol === "function" && typeof Symbol.for === "function") {
        gracefulQueue = Symbol.for("graceful-fs.queue");
        previousSymbol = Symbol.for("graceful-fs.previous");
      } else {
        gracefulQueue = "___graceful-fs.queue";
        previousSymbol = "___graceful-fs.previous";
      }
      function noop() {
      }
      function publishQueue(context, queue2) {
        Object.defineProperty(context, gracefulQueue, {
          get: function() {
            return queue2;
          }
        });
      }
      var debug = noop;
      if (util.debuglog)
        debug = util.debuglog("gfs4");
      else if (/\bgfs4\b/i.test(process.env.NODE_DEBUG || ""))
        debug = function() {
          var m = util.format.apply(util, arguments);
          m = "GFS4: " + m.split(/\n/).join("\nGFS4: ");
          console.error(m);
        };
      if (!fs2[gracefulQueue]) {
        queue = global[gracefulQueue] || [];
        publishQueue(fs2, queue);
        fs2.close = function(fs$close) {
          function close(fd, cb) {
            return fs$close.call(fs2, fd, function(err) {
              if (!err) {
                resetQueue();
              }
              if (typeof cb === "function")
                cb.apply(this, arguments);
            });
          }
          Object.defineProperty(close, previousSymbol, {
            value: fs$close
          });
          return close;
        }(fs2.close);
        fs2.closeSync = function(fs$closeSync) {
          function closeSync(fd) {
            fs$closeSync.apply(fs2, arguments);
            resetQueue();
          }
          Object.defineProperty(closeSync, previousSymbol, {
            value: fs$closeSync
          });
          return closeSync;
        }(fs2.closeSync);
        if (/\bgfs4\b/i.test(process.env.NODE_DEBUG || "")) {
          process.on("exit", function() {
            debug(fs2[gracefulQueue]);
            __require("assert").equal(fs2[gracefulQueue].length, 0);
          });
        }
      }
      var queue;
      if (!global[gracefulQueue]) {
        publishQueue(global, fs2[gracefulQueue]);
      }
      module.exports = patch(clone(fs2));
      if (process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH && !fs2.__patched) {
        module.exports = patch(fs2);
        fs2.__patched = true;
      }
      function patch(fs3) {
        polyfills(fs3);
        fs3.gracefulify = patch;
        fs3.createReadStream = createReadStream;
        fs3.createWriteStream = createWriteStream;
        var fs$readFile = fs3.readFile;
        fs3.readFile = readFile;
        function readFile(path, options, cb) {
          if (typeof options === "function")
            cb = options, options = null;
          return go$readFile(path, options, cb);
          function go$readFile(path2, options2, cb2, startTime) {
            return fs$readFile(path2, options2, function(err) {
              if (err && (err.code === "EMFILE" || err.code === "ENFILE"))
                enqueue([go$readFile, [path2, options2, cb2], err, startTime || Date.now(), Date.now()]);
              else {
                if (typeof cb2 === "function")
                  cb2.apply(this, arguments);
              }
            });
          }
        }
        var fs$writeFile = fs3.writeFile;
        fs3.writeFile = writeFile2;
        function writeFile2(path, data, options, cb) {
          if (typeof options === "function")
            cb = options, options = null;
          return go$writeFile(path, data, options, cb);
          function go$writeFile(path2, data2, options2, cb2, startTime) {
            return fs$writeFile(path2, data2, options2, function(err) {
              if (err && (err.code === "EMFILE" || err.code === "ENFILE"))
                enqueue([go$writeFile, [path2, data2, options2, cb2], err, startTime || Date.now(), Date.now()]);
              else {
                if (typeof cb2 === "function")
                  cb2.apply(this, arguments);
              }
            });
          }
        }
        var fs$appendFile = fs3.appendFile;
        if (fs$appendFile)
          fs3.appendFile = appendFile;
        function appendFile(path, data, options, cb) {
          if (typeof options === "function")
            cb = options, options = null;
          return go$appendFile(path, data, options, cb);
          function go$appendFile(path2, data2, options2, cb2, startTime) {
            return fs$appendFile(path2, data2, options2, function(err) {
              if (err && (err.code === "EMFILE" || err.code === "ENFILE"))
                enqueue([go$appendFile, [path2, data2, options2, cb2], err, startTime || Date.now(), Date.now()]);
              else {
                if (typeof cb2 === "function")
                  cb2.apply(this, arguments);
              }
            });
          }
        }
        var fs$copyFile = fs3.copyFile;
        if (fs$copyFile)
          fs3.copyFile = copyFile;
        function copyFile(src, dest, flags, cb) {
          if (typeof flags === "function") {
            cb = flags;
            flags = 0;
          }
          return go$copyFile(src, dest, flags, cb);
          function go$copyFile(src2, dest2, flags2, cb2, startTime) {
            return fs$copyFile(src2, dest2, flags2, function(err) {
              if (err && (err.code === "EMFILE" || err.code === "ENFILE"))
                enqueue([go$copyFile, [src2, dest2, flags2, cb2], err, startTime || Date.now(), Date.now()]);
              else {
                if (typeof cb2 === "function")
                  cb2.apply(this, arguments);
              }
            });
          }
        }
        var fs$readdir = fs3.readdir;
        fs3.readdir = readdir;
        var noReaddirOptionVersions = /^v[0-5]\./;
        function readdir(path, options, cb) {
          if (typeof options === "function")
            cb = options, options = null;
          var go$readdir = noReaddirOptionVersions.test(process.version) ? function go$readdir2(path2, options2, cb2, startTime) {
            return fs$readdir(path2, fs$readdirCallback(path2, options2, cb2, startTime));
          } : function go$readdir2(path2, options2, cb2, startTime) {
            return fs$readdir(path2, options2, fs$readdirCallback(path2, options2, cb2, startTime));
          };
          return go$readdir(path, options, cb);
          function fs$readdirCallback(path2, options2, cb2, startTime) {
            return function(err, files) {
              if (err && (err.code === "EMFILE" || err.code === "ENFILE"))
                enqueue([
                  go$readdir,
                  [path2, options2, cb2],
                  err,
                  startTime || Date.now(),
                  Date.now()
                ]);
              else {
                if (files && files.sort)
                  files.sort();
                if (typeof cb2 === "function")
                  cb2.call(this, err, files);
              }
            };
          }
        }
        if (process.version.substr(0, 4) === "v0.8") {
          var legStreams = legacy(fs3);
          ReadStream = legStreams.ReadStream;
          WriteStream = legStreams.WriteStream;
        }
        var fs$ReadStream = fs3.ReadStream;
        if (fs$ReadStream) {
          ReadStream.prototype = Object.create(fs$ReadStream.prototype);
          ReadStream.prototype.open = ReadStream$open;
        }
        var fs$WriteStream = fs3.WriteStream;
        if (fs$WriteStream) {
          WriteStream.prototype = Object.create(fs$WriteStream.prototype);
          WriteStream.prototype.open = WriteStream$open;
        }
        Object.defineProperty(fs3, "ReadStream", {
          get: function() {
            return ReadStream;
          },
          set: function(val) {
            ReadStream = val;
          },
          enumerable: true,
          configurable: true
        });
        Object.defineProperty(fs3, "WriteStream", {
          get: function() {
            return WriteStream;
          },
          set: function(val) {
            WriteStream = val;
          },
          enumerable: true,
          configurable: true
        });
        var FileReadStream = ReadStream;
        Object.defineProperty(fs3, "FileReadStream", {
          get: function() {
            return FileReadStream;
          },
          set: function(val) {
            FileReadStream = val;
          },
          enumerable: true,
          configurable: true
        });
        var FileWriteStream = WriteStream;
        Object.defineProperty(fs3, "FileWriteStream", {
          get: function() {
            return FileWriteStream;
          },
          set: function(val) {
            FileWriteStream = val;
          },
          enumerable: true,
          configurable: true
        });
        function ReadStream(path, options) {
          if (this instanceof ReadStream)
            return fs$ReadStream.apply(this, arguments), this;
          else
            return ReadStream.apply(Object.create(ReadStream.prototype), arguments);
        }
        function ReadStream$open() {
          var that = this;
          open(that.path, that.flags, that.mode, function(err, fd) {
            if (err) {
              if (that.autoClose)
                that.destroy();
              that.emit("error", err);
            } else {
              that.fd = fd;
              that.emit("open", fd);
              that.read();
            }
          });
        }
        function WriteStream(path, options) {
          if (this instanceof WriteStream)
            return fs$WriteStream.apply(this, arguments), this;
          else
            return WriteStream.apply(Object.create(WriteStream.prototype), arguments);
        }
        function WriteStream$open() {
          var that = this;
          open(that.path, that.flags, that.mode, function(err, fd) {
            if (err) {
              that.destroy();
              that.emit("error", err);
            } else {
              that.fd = fd;
              that.emit("open", fd);
            }
          });
        }
        function createReadStream(path, options) {
          return new fs3.ReadStream(path, options);
        }
        function createWriteStream(path, options) {
          return new fs3.WriteStream(path, options);
        }
        var fs$open = fs3.open;
        fs3.open = open;
        function open(path, flags, mode, cb) {
          if (typeof mode === "function")
            cb = mode, mode = null;
          return go$open(path, flags, mode, cb);
          function go$open(path2, flags2, mode2, cb2, startTime) {
            return fs$open(path2, flags2, mode2, function(err, fd) {
              if (err && (err.code === "EMFILE" || err.code === "ENFILE"))
                enqueue([go$open, [path2, flags2, mode2, cb2], err, startTime || Date.now(), Date.now()]);
              else {
                if (typeof cb2 === "function")
                  cb2.apply(this, arguments);
              }
            });
          }
        }
        return fs3;
      }
      function enqueue(elem) {
        debug("ENQUEUE", elem[0].name, elem[1]);
        fs2[gracefulQueue].push(elem);
        retry();
      }
      var retryTimer;
      function resetQueue() {
        var now = Date.now();
        for (var i = 0; i < fs2[gracefulQueue].length; ++i) {
          if (fs2[gracefulQueue][i].length > 2) {
            fs2[gracefulQueue][i][3] = now;
            fs2[gracefulQueue][i][4] = now;
          }
        }
        retry();
      }
      function retry() {
        clearTimeout(retryTimer);
        retryTimer = void 0;
        if (fs2[gracefulQueue].length === 0)
          return;
        var elem = fs2[gracefulQueue].shift();
        var fn = elem[0];
        var args = elem[1];
        var err = elem[2];
        var startTime = elem[3];
        var lastTime = elem[4];
        if (startTime === void 0) {
          debug("RETRY", fn.name, args);
          fn.apply(null, args);
        } else if (Date.now() - startTime >= 6e4) {
          debug("TIMEOUT", fn.name, args);
          var cb = args.pop();
          if (typeof cb === "function")
            cb.call(null, err);
        } else {
          var sinceAttempt = Date.now() - lastTime;
          var sinceStart = Math.max(lastTime - startTime, 1);
          var desiredDelay = Math.min(sinceStart * 1.2, 100);
          if (sinceAttempt >= desiredDelay) {
            debug("RETRY", fn.name, args);
            fn.apply(null, args.concat([startTime]));
          } else {
            fs2[gracefulQueue].push(elem);
          }
        }
        if (retryTimer === void 0) {
          retryTimer = setTimeout(retry, 0);
        }
      }
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/strip-bom-npm-3.0.0-71e8f81ff9-9.zip/node_modules/strip-bom/index.js
  var require_strip_bom = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/strip-bom-npm-3.0.0-71e8f81ff9-9.zip/node_modules/strip-bom/index.js"(exports, module) {
      "use strict";
      module.exports = (x) => {
        if (typeof x !== "string") {
          throw new TypeError("Expected a string, got " + typeof x);
        }
        if (x.charCodeAt(0) === 65279) {
          return x.slice(1);
        }
        return x;
      };
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/is-arrayish-npm-0.2.1-23927dfb15-9.zip/node_modules/is-arrayish/index.js
  var require_is_arrayish = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/is-arrayish-npm-0.2.1-23927dfb15-9.zip/node_modules/is-arrayish/index.js"(exports, module) {
      "use strict";
      module.exports = function isArrayish(obj) {
        if (!obj) {
          return false;
        }
        return obj instanceof Array || Array.isArray(obj) || obj.length >= 0 && obj.splice instanceof Function;
      };
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/error-ex-npm-1.3.2-5654f80c0f-9.zip/node_modules/error-ex/index.js
  var require_error_ex = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/error-ex-npm-1.3.2-5654f80c0f-9.zip/node_modules/error-ex/index.js"(exports, module) {
      "use strict";
      var util = __require("util");
      var isArrayish = require_is_arrayish();
      var errorEx = function errorEx2(name, properties) {
        if (!name || name.constructor !== String) {
          properties = name || {};
          name = Error.name;
        }
        var errorExError = function ErrorEXError(message) {
          if (!this) {
            return new ErrorEXError(message);
          }
          message = message instanceof Error ? message.message : message || this.message;
          Error.call(this, message);
          Error.captureStackTrace(this, errorExError);
          this.name = name;
          Object.defineProperty(this, "message", {
            configurable: true,
            enumerable: false,
            get: function() {
              var newMessage = message.split(/\r?\n/g);
              for (var key in properties) {
                if (!properties.hasOwnProperty(key)) {
                  continue;
                }
                var modifier = properties[key];
                if ("message" in modifier) {
                  newMessage = modifier.message(this[key], newMessage) || newMessage;
                  if (!isArrayish(newMessage)) {
                    newMessage = [newMessage];
                  }
                }
              }
              return newMessage.join("\n");
            },
            set: function(v) {
              message = v;
            }
          });
          var overwrittenStack = null;
          var stackDescriptor = Object.getOwnPropertyDescriptor(this, "stack");
          var stackGetter = stackDescriptor.get;
          var stackValue = stackDescriptor.value;
          delete stackDescriptor.value;
          delete stackDescriptor.writable;
          stackDescriptor.set = function(newstack) {
            overwrittenStack = newstack;
          };
          stackDescriptor.get = function() {
            var stack = (overwrittenStack || (stackGetter ? stackGetter.call(this) : stackValue)).split(/\r?\n+/g);
            if (!overwrittenStack) {
              stack[0] = this.name + ": " + this.message;
            }
            var lineCount = 1;
            for (var key in properties) {
              if (!properties.hasOwnProperty(key)) {
                continue;
              }
              var modifier = properties[key];
              if ("line" in modifier) {
                var line = modifier.line(this[key]);
                if (line) {
                  stack.splice(lineCount++, 0, "    " + line);
                }
              }
              if ("stack" in modifier) {
                modifier.stack(this[key], stack);
              }
            }
            return stack.join("\n");
          };
          Object.defineProperty(this, "stack", stackDescriptor);
        };
        if (Object.setPrototypeOf) {
          Object.setPrototypeOf(errorExError.prototype, Error.prototype);
          Object.setPrototypeOf(errorExError, Error);
        } else {
          util.inherits(errorExError, Error);
        }
        return errorExError;
      };
      errorEx.append = function(str, def) {
        return {
          message: function(v, message) {
            v = v || def;
            if (v) {
              message[0] += " " + str.replace("%s", v.toString());
            }
            return message;
          }
        };
      };
      errorEx.line = function(str, def) {
        return {
          line: function(v) {
            v = v || def;
            if (v) {
              return str.replace("%s", v.toString());
            }
            return null;
          }
        };
      };
      module.exports = errorEx;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/json-parse-better-errors-npm-1.0.2-7f37637d19-9.zip/node_modules/json-parse-better-errors/index.js
  var require_json_parse_better_errors = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/json-parse-better-errors-npm-1.0.2-7f37637d19-9.zip/node_modules/json-parse-better-errors/index.js"(exports, module) {
      "use strict";
      module.exports = parseJson;
      function parseJson(txt, reviver, context) {
        context = context || 20;
        try {
          return JSON.parse(txt, reviver);
        } catch (e) {
          if (typeof txt !== "string") {
            const isEmptyArray = Array.isArray(txt) && txt.length === 0;
            const errorMessage = "Cannot parse " + (isEmptyArray ? "an empty array" : String(txt));
            throw new TypeError(errorMessage);
          }
          const syntaxErr = e.message.match(/^Unexpected token.*position\s+(\d+)/i);
          const errIdx = syntaxErr ? +syntaxErr[1] : e.message.match(/^Unexpected end of JSON.*/i) ? txt.length - 1 : null;
          if (errIdx != null) {
            const start = errIdx <= context ? 0 : errIdx - context;
            const end = errIdx + context >= txt.length ? txt.length : errIdx + context;
            e.message += ` while parsing near '${start === 0 ? "" : "..."}${txt.slice(start, end)}${end === txt.length ? "" : "..."}'`;
          } else {
            e.message += ` while parsing '${txt.slice(0, context * 2)}'`;
          }
          throw e;
        }
      }
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/parse-json-npm-4.0.0-a6f7771010-9.zip/node_modules/parse-json/index.js
  var require_parse_json = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/parse-json-npm-4.0.0-a6f7771010-9.zip/node_modules/parse-json/index.js"(exports, module) {
      "use strict";
      var errorEx = require_error_ex();
      var fallback = require_json_parse_better_errors();
      var JSONError = errorEx("JSONError", {
        fileName: errorEx.append("in %s")
      });
      module.exports = (input, reviver, filename) => {
        if (typeof reviver === "string") {
          filename = reviver;
          reviver = null;
        }
        try {
          try {
            return JSON.parse(input, reviver);
          } catch (err) {
            fallback(input, reviver);
            throw err;
          }
        } catch (err) {
          err.message = err.message.replace(/\n/g, "");
          const jsonErr = new JSONError(err);
          if (filename) {
            jsonErr.fileName = filename;
          }
          throw jsonErr;
        }
      };
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/pify-npm-3.0.0-679ee405c8-9.zip/node_modules/pify/index.js
  var require_pify2 = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/pify-npm-3.0.0-679ee405c8-9.zip/node_modules/pify/index.js"(exports, module) {
      "use strict";
      var processFn = (fn, opts) => function() {
        const P = opts.promiseModule;
        const args = new Array(arguments.length);
        for (let i = 0; i < arguments.length; i++) {
          args[i] = arguments[i];
        }
        return new P((resolve, reject) => {
          if (opts.errorFirst) {
            args.push(function(err, result) {
              if (opts.multiArgs) {
                const results = new Array(arguments.length - 1);
                for (let i = 1; i < arguments.length; i++) {
                  results[i - 1] = arguments[i];
                }
                if (err) {
                  results.unshift(err);
                  reject(results);
                } else {
                  resolve(results);
                }
              } else if (err) {
                reject(err);
              } else {
                resolve(result);
              }
            });
          } else {
            args.push(function(result) {
              if (opts.multiArgs) {
                const results = new Array(arguments.length - 1);
                for (let i = 0; i < arguments.length; i++) {
                  results[i] = arguments[i];
                }
                resolve(results);
              } else {
                resolve(result);
              }
            });
          }
          fn.apply(this, args);
        });
      };
      module.exports = (obj, opts) => {
        opts = Object.assign({
          exclude: [/.+(Sync|Stream)$/],
          errorFirst: true,
          promiseModule: Promise
        }, opts);
        const filter = (key) => {
          const match = (pattern) => typeof pattern === "string" ? key === pattern : pattern.test(key);
          return opts.include ? opts.include.some(match) : !opts.exclude.some(match);
        };
        let ret;
        if (typeof obj === "function") {
          ret = function() {
            if (opts.excludeMain) {
              return obj.apply(this, arguments);
            }
            return processFn(obj, opts).apply(this, arguments);
          };
        } else {
          ret = Object.create(Object.getPrototypeOf(obj));
        }
        for (const key in obj) {
          const x = obj[key];
          ret[key] = typeof x === "function" && filter(key) ? processFn(x, opts) : x;
        }
        return ret;
      };
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/load-json-file-npm-4.0.0-c9f09d85eb-9.zip/node_modules/load-json-file/index.js
  var require_load_json_file = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/load-json-file-npm-4.0.0-c9f09d85eb-9.zip/node_modules/load-json-file/index.js"(exports, module) {
      "use strict";
      var path = __require("path");
      var fs2 = require_graceful_fs();
      var stripBom = require_strip_bom();
      var parseJson = require_parse_json();
      var pify = require_pify2();
      var parse = (data, fp) => parseJson(stripBom(data), path.relative(".", fp));
      module.exports = (fp) => pify(fs2.readFile)(fp, "utf8").then((data) => parse(data, fp));
      module.exports.sync = (fp) => parse(fs2.readFileSync(fp, "utf8"), fp);
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/path-type-npm-3.0.0-252361a0eb-9.zip/node_modules/path-type/index.js
  var require_path_type = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/path-type-npm-3.0.0-252361a0eb-9.zip/node_modules/path-type/index.js"(exports) {
      "use strict";
      var fs2 = __require("fs");
      var pify = require_pify2();
      function type(fn, fn2, fp) {
        if (typeof fp !== "string") {
          return Promise.reject(new TypeError(`Expected a string, got ${typeof fp}`));
        }
        return pify(fs2[fn])(fp).then((stats) => stats[fn2]()).catch((err) => {
          if (err.code === "ENOENT") {
            return false;
          }
          throw err;
        });
      }
      function typeSync(fn, fn2, fp) {
        if (typeof fp !== "string") {
          throw new TypeError(`Expected a string, got ${typeof fp}`);
        }
        try {
          return fs2[fn](fp)[fn2]();
        } catch (err) {
          if (err.code === "ENOENT") {
            return false;
          }
          throw err;
        }
      }
      exports.file = type.bind(null, "stat", "isFile");
      exports.dir = type.bind(null, "stat", "isDirectory");
      exports.symlink = type.bind(null, "lstat", "isSymbolicLink");
      exports.fileSync = typeSync.bind(null, "statSync", "isFile");
      exports.dirSync = typeSync.bind(null, "statSync", "isDirectory");
      exports.symlinkSync = typeSync.bind(null, "lstatSync", "isSymbolicLink");
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/hosted-git-info-npm-2.8.9-62c44fa93f-9.zip/node_modules/hosted-git-info/git-host-info.js
  var require_git_host_info2 = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/hosted-git-info-npm-2.8.9-62c44fa93f-9.zip/node_modules/hosted-git-info/git-host-info.js"(exports, module) {
      "use strict";
      var gitHosts = module.exports = {
        github: {
          "protocols": ["git", "http", "git+ssh", "git+https", "ssh", "https"],
          "domain": "github.com",
          "treepath": "tree",
          "filetemplate": "https://{auth@}raw.githubusercontent.com/{user}/{project}/{committish}/{path}",
          "bugstemplate": "https://{domain}/{user}/{project}/issues",
          "gittemplate": "git://{auth@}{domain}/{user}/{project}.git{#committish}",
          "tarballtemplate": "https://codeload.{domain}/{user}/{project}/tar.gz/{committish}"
        },
        bitbucket: {
          "protocols": ["git+ssh", "git+https", "ssh", "https"],
          "domain": "bitbucket.org",
          "treepath": "src",
          "tarballtemplate": "https://{domain}/{user}/{project}/get/{committish}.tar.gz"
        },
        gitlab: {
          "protocols": ["git+ssh", "git+https", "ssh", "https"],
          "domain": "gitlab.com",
          "treepath": "tree",
          "bugstemplate": "https://{domain}/{user}/{project}/issues",
          "httpstemplate": "git+https://{auth@}{domain}/{user}/{projectPath}.git{#committish}",
          "tarballtemplate": "https://{domain}/{user}/{project}/repository/archive.tar.gz?ref={committish}",
          "pathmatch": /^[/]([^/]+)[/]((?!.*(\/-\/|\/repository\/archive\.tar\.gz\?=.*|\/repository\/[^/]+\/archive.tar.gz$)).*?)(?:[.]git|[/])?$/
        },
        gist: {
          "protocols": ["git", "git+ssh", "git+https", "ssh", "https"],
          "domain": "gist.github.com",
          "pathmatch": /^[/](?:([^/]+)[/])?([a-z0-9]{32,})(?:[.]git)?$/,
          "filetemplate": "https://gist.githubusercontent.com/{user}/{project}/raw{/committish}/{path}",
          "bugstemplate": "https://{domain}/{project}",
          "gittemplate": "git://{domain}/{project}.git{#committish}",
          "sshtemplate": "git@{domain}:/{project}.git{#committish}",
          "sshurltemplate": "git+ssh://git@{domain}/{project}.git{#committish}",
          "browsetemplate": "https://{domain}/{project}{/committish}",
          "browsefiletemplate": "https://{domain}/{project}{/committish}{#path}",
          "docstemplate": "https://{domain}/{project}{/committish}",
          "httpstemplate": "git+https://{domain}/{project}.git{#committish}",
          "shortcuttemplate": "{type}:{project}{#committish}",
          "pathtemplate": "{project}{#committish}",
          "tarballtemplate": "https://codeload.github.com/gist/{project}/tar.gz/{committish}",
          "hashformat": function(fragment) {
            return "file-" + formatHashFragment(fragment);
          }
        }
      };
      var gitHostDefaults = {
        "sshtemplate": "git@{domain}:{user}/{project}.git{#committish}",
        "sshurltemplate": "git+ssh://git@{domain}/{user}/{project}.git{#committish}",
        "browsetemplate": "https://{domain}/{user}/{project}{/tree/committish}",
        "browsefiletemplate": "https://{domain}/{user}/{project}/{treepath}/{committish}/{path}{#fragment}",
        "docstemplate": "https://{domain}/{user}/{project}{/tree/committish}#readme",
        "httpstemplate": "git+https://{auth@}{domain}/{user}/{project}.git{#committish}",
        "filetemplate": "https://{domain}/{user}/{project}/raw/{committish}/{path}",
        "shortcuttemplate": "{type}:{user}/{project}{#committish}",
        "pathtemplate": "{user}/{project}{#committish}",
        "pathmatch": /^[/]([^/]+)[/]([^/]+?)(?:[.]git|[/])?$/,
        "hashformat": formatHashFragment
      };
      Object.keys(gitHosts).forEach(function(name) {
        Object.keys(gitHostDefaults).forEach(function(key) {
          if (gitHosts[name][key])
            return;
          gitHosts[name][key] = gitHostDefaults[key];
        });
        gitHosts[name].protocols_re = RegExp("^(" + gitHosts[name].protocols.map(function(protocol) {
          return protocol.replace(/([\\+*{}()[\]$^|])/g, "\\$1");
        }).join("|") + "):$");
      });
      function formatHashFragment(fragment) {
        return fragment.toLowerCase().replace(/^\W+|\/|\W+$/g, "").replace(/\W+/g, "-");
      }
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/hosted-git-info-npm-2.8.9-62c44fa93f-9.zip/node_modules/hosted-git-info/git-host.js
  var require_git_host2 = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/hosted-git-info-npm-2.8.9-62c44fa93f-9.zip/node_modules/hosted-git-info/git-host.js"(exports, module) {
      "use strict";
      var gitHosts = require_git_host_info2();
      var extend = Object.assign || function _extend(target, source) {
        if (source === null || typeof source !== "object")
          return target;
        var keys = Object.keys(source);
        var i = keys.length;
        while (i--) {
          target[keys[i]] = source[keys[i]];
        }
        return target;
      };
      module.exports = GitHost;
      function GitHost(type, user, auth, project, committish, defaultRepresentation, opts) {
        var gitHostInfo = this;
        gitHostInfo.type = type;
        Object.keys(gitHosts[type]).forEach(function(key) {
          gitHostInfo[key] = gitHosts[type][key];
        });
        gitHostInfo.user = user;
        gitHostInfo.auth = auth;
        gitHostInfo.project = project;
        gitHostInfo.committish = committish;
        gitHostInfo.default = defaultRepresentation;
        gitHostInfo.opts = opts || {};
      }
      GitHost.prototype.hash = function() {
        return this.committish ? "#" + this.committish : "";
      };
      GitHost.prototype._fill = function(template, opts) {
        if (!template)
          return;
        var vars = extend({}, opts);
        vars.path = vars.path ? vars.path.replace(/^[/]+/g, "") : "";
        opts = extend(extend({}, this.opts), opts);
        var self2 = this;
        Object.keys(this).forEach(function(key) {
          if (self2[key] != null && vars[key] == null)
            vars[key] = self2[key];
        });
        var rawAuth = vars.auth;
        var rawcommittish = vars.committish;
        var rawFragment = vars.fragment;
        var rawPath = vars.path;
        var rawProject = vars.project;
        Object.keys(vars).forEach(function(key) {
          var value = vars[key];
          if ((key === "path" || key === "project") && typeof value === "string") {
            vars[key] = value.split("/").map(function(pathComponent) {
              return encodeURIComponent(pathComponent);
            }).join("/");
          } else {
            vars[key] = encodeURIComponent(value);
          }
        });
        vars["auth@"] = rawAuth ? rawAuth + "@" : "";
        vars["#fragment"] = rawFragment ? "#" + this.hashformat(rawFragment) : "";
        vars.fragment = vars.fragment ? vars.fragment : "";
        vars["#path"] = rawPath ? "#" + this.hashformat(rawPath) : "";
        vars["/path"] = vars.path ? "/" + vars.path : "";
        vars.projectPath = rawProject.split("/").map(encodeURIComponent).join("/");
        if (opts.noCommittish) {
          vars["#committish"] = "";
          vars["/tree/committish"] = "";
          vars["/committish"] = "";
          vars.committish = "";
        } else {
          vars["#committish"] = rawcommittish ? "#" + rawcommittish : "";
          vars["/tree/committish"] = vars.committish ? "/" + vars.treepath + "/" + vars.committish : "";
          vars["/committish"] = vars.committish ? "/" + vars.committish : "";
          vars.committish = vars.committish || "master";
        }
        var res = template;
        Object.keys(vars).forEach(function(key) {
          res = res.replace(new RegExp("[{]" + key + "[}]", "g"), vars[key]);
        });
        if (opts.noGitPlus) {
          return res.replace(/^git[+]/, "");
        } else {
          return res;
        }
      };
      GitHost.prototype.ssh = function(opts) {
        return this._fill(this.sshtemplate, opts);
      };
      GitHost.prototype.sshurl = function(opts) {
        return this._fill(this.sshurltemplate, opts);
      };
      GitHost.prototype.browse = function(P, F, opts) {
        if (typeof P === "string") {
          if (typeof F !== "string") {
            opts = F;
            F = null;
          }
          return this._fill(this.browsefiletemplate, extend({
            fragment: F,
            path: P
          }, opts));
        } else {
          return this._fill(this.browsetemplate, P);
        }
      };
      GitHost.prototype.docs = function(opts) {
        return this._fill(this.docstemplate, opts);
      };
      GitHost.prototype.bugs = function(opts) {
        return this._fill(this.bugstemplate, opts);
      };
      GitHost.prototype.https = function(opts) {
        return this._fill(this.httpstemplate, opts);
      };
      GitHost.prototype.git = function(opts) {
        return this._fill(this.gittemplate, opts);
      };
      GitHost.prototype.shortcut = function(opts) {
        return this._fill(this.shortcuttemplate, opts);
      };
      GitHost.prototype.path = function(opts) {
        return this._fill(this.pathtemplate, opts);
      };
      GitHost.prototype.tarball = function(opts_) {
        var opts = extend({}, opts_, {noCommittish: false});
        return this._fill(this.tarballtemplate, opts);
      };
      GitHost.prototype.file = function(P, opts) {
        return this._fill(this.filetemplate, extend({path: P}, opts));
      };
      GitHost.prototype.getDefaultRepresentation = function() {
        return this.default;
      };
      GitHost.prototype.toString = function(opts) {
        if (this.default && typeof this[this.default] === "function")
          return this[this.default](opts);
        return this.sshurl(opts);
      };
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/hosted-git-info-npm-2.8.9-62c44fa93f-9.zip/node_modules/hosted-git-info/index.js
  var require_hosted_git_info2 = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/hosted-git-info-npm-2.8.9-62c44fa93f-9.zip/node_modules/hosted-git-info/index.js"(exports, module) {
      "use strict";
      var url = __require("url");
      var gitHosts = require_git_host_info2();
      var GitHost = module.exports = require_git_host2();
      var protocolToRepresentationMap = {
        "git+ssh:": "sshurl",
        "git+https:": "https",
        "ssh:": "sshurl",
        "git:": "git"
      };
      function protocolToRepresentation(protocol) {
        return protocolToRepresentationMap[protocol] || protocol.slice(0, -1);
      }
      var authProtocols = {
        "git:": true,
        "https:": true,
        "git+https:": true,
        "http:": true,
        "git+http:": true
      };
      var cache = {};
      module.exports.fromUrl = function(giturl, opts) {
        if (typeof giturl !== "string")
          return;
        var key = giturl + JSON.stringify(opts || {});
        if (!(key in cache)) {
          cache[key] = fromUrl(giturl, opts);
        }
        return cache[key];
      };
      function fromUrl(giturl, opts) {
        if (giturl == null || giturl === "")
          return;
        var url2 = fixupUnqualifiedGist(isGitHubShorthand(giturl) ? "github:" + giturl : giturl);
        var parsed = parseGitUrl(url2);
        var shortcutMatch = url2.match(/^([^:]+):(?:[^@]+@)?(?:([^/]*)\/)?([^#]+)/);
        var matches = Object.keys(gitHosts).map(function(gitHostName) {
          try {
            var gitHostInfo = gitHosts[gitHostName];
            var auth = null;
            if (parsed.auth && authProtocols[parsed.protocol]) {
              auth = parsed.auth;
            }
            var committish = parsed.hash ? decodeURIComponent(parsed.hash.substr(1)) : null;
            var user = null;
            var project = null;
            var defaultRepresentation = null;
            if (shortcutMatch && shortcutMatch[1] === gitHostName) {
              user = shortcutMatch[2] && decodeURIComponent(shortcutMatch[2]);
              project = decodeURIComponent(shortcutMatch[3].replace(/\.git$/, ""));
              defaultRepresentation = "shortcut";
            } else {
              if (parsed.host && parsed.host !== gitHostInfo.domain && parsed.host.replace(/^www[.]/, "") !== gitHostInfo.domain)
                return;
              if (!gitHostInfo.protocols_re.test(parsed.protocol))
                return;
              if (!parsed.path)
                return;
              var pathmatch = gitHostInfo.pathmatch;
              var matched = parsed.path.match(pathmatch);
              if (!matched)
                return;
              if (matched[1] !== null && matched[1] !== void 0) {
                user = decodeURIComponent(matched[1].replace(/^:/, ""));
              }
              project = decodeURIComponent(matched[2]);
              defaultRepresentation = protocolToRepresentation(parsed.protocol);
            }
            return new GitHost(gitHostName, user, auth, project, committish, defaultRepresentation, opts);
          } catch (ex) {
            if (ex instanceof URIError) {
            } else
              throw ex;
          }
        }).filter(function(gitHostInfo) {
          return gitHostInfo;
        });
        if (matches.length !== 1)
          return;
        return matches[0];
      }
      function isGitHubShorthand(arg) {
        return /^[^:@%/\s.-][^:@%/\s]*[/][^:@\s/%]+(?:#.*)?$/.test(arg);
      }
      function fixupUnqualifiedGist(giturl) {
        var parsed = url.parse(giturl);
        if (parsed.protocol === "gist:" && parsed.host && !parsed.path) {
          return parsed.protocol + "/" + parsed.host;
        } else {
          return giturl;
        }
      }
      function parseGitUrl(giturl) {
        var matched = giturl.match(/^([^@]+)@([^:/]+):[/]?((?:[^/]+[/])?[^/]+?)(?:[.]git)?(#.*)?$/);
        if (!matched) {
          var legacy = url.parse(giturl);
          if (legacy.auth && typeof url.URL === "function") {
            var authmatch = giturl.match(/[^@]+@[^:/]+/);
            if (authmatch) {
              var whatwg = new url.URL(authmatch[0]);
              legacy.auth = whatwg.username || "";
              if (whatwg.password)
                legacy.auth += ":" + whatwg.password;
            }
          }
          return legacy;
        }
        return {
          protocol: "git+ssh:",
          slashes: true,
          auth: matched[1],
          host: matched[2],
          port: null,
          hostname: matched[2],
          hash: matched[4],
          search: null,
          query: null,
          pathname: "/" + matched[3],
          path: "/" + matched[3],
          href: "git+ssh://" + matched[1] + "@" + matched[2] + "/" + matched[3] + (matched[4] || "")
        };
      }
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/resolve-patch-bc26c25fbb-9.zip/node_modules/resolve/lib/homedir.js
  var require_homedir = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/resolve-patch-bc26c25fbb-9.zip/node_modules/resolve/lib/homedir.js"(exports, module) {
      "use strict";
      var os = __require("os");
      module.exports = os.homedir || function homedir() {
        var home = process.env.HOME;
        var user = process.env.LOGNAME || process.env.USER || process.env.LNAME || process.env.USERNAME;
        if (process.platform === "win32") {
          return process.env.USERPROFILE || process.env.HOMEDRIVE + process.env.HOMEPATH || home || null;
        }
        if (process.platform === "darwin") {
          return home || (user ? "/Users/" + user : null);
        }
        if (process.platform === "linux") {
          return home || (process.getuid() === 0 ? "/root" : user ? "/home/" + user : null);
        }
        return home || null;
      };
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/resolve-patch-bc26c25fbb-9.zip/node_modules/resolve/lib/caller.js
  var require_caller = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/resolve-patch-bc26c25fbb-9.zip/node_modules/resolve/lib/caller.js"(exports, module) {
      module.exports = function() {
        var origPrepareStackTrace = Error.prepareStackTrace;
        Error.prepareStackTrace = function(_, stack2) {
          return stack2;
        };
        var stack = new Error().stack;
        Error.prepareStackTrace = origPrepareStackTrace;
        return stack[2].getFileName();
      };
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/path-parse-npm-1.0.7-09564527b7-9.zip/node_modules/path-parse/index.js
  var require_path_parse = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/path-parse-npm-1.0.7-09564527b7-9.zip/node_modules/path-parse/index.js"(exports, module) {
      "use strict";
      var isWindows = process.platform === "win32";
      var splitWindowsRe = /^(((?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?[\\\/]?)(?:[^\\\/]*[\\\/])*)((\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))[\\\/]*$/;
      var win32 = {};
      function win32SplitPath(filename) {
        return splitWindowsRe.exec(filename).slice(1);
      }
      win32.parse = function(pathString) {
        if (typeof pathString !== "string") {
          throw new TypeError("Parameter 'pathString' must be a string, not " + typeof pathString);
        }
        var allParts = win32SplitPath(pathString);
        if (!allParts || allParts.length !== 5) {
          throw new TypeError("Invalid path '" + pathString + "'");
        }
        return {
          root: allParts[1],
          dir: allParts[0] === allParts[1] ? allParts[0] : allParts[0].slice(0, -1),
          base: allParts[2],
          ext: allParts[4],
          name: allParts[3]
        };
      };
      var splitPathRe = /^((\/?)(?:[^\/]*\/)*)((\.{1,2}|[^\/]+?|)(\.[^.\/]*|))[\/]*$/;
      var posix = {};
      function posixSplitPath(filename) {
        return splitPathRe.exec(filename).slice(1);
      }
      posix.parse = function(pathString) {
        if (typeof pathString !== "string") {
          throw new TypeError("Parameter 'pathString' must be a string, not " + typeof pathString);
        }
        var allParts = posixSplitPath(pathString);
        if (!allParts || allParts.length !== 5) {
          throw new TypeError("Invalid path '" + pathString + "'");
        }
        return {
          root: allParts[1],
          dir: allParts[0].slice(0, -1),
          base: allParts[2],
          ext: allParts[4],
          name: allParts[3]
        };
      };
      if (isWindows)
        module.exports = win32.parse;
      else
        module.exports = posix.parse;
      module.exports.posix = posix.parse;
      module.exports.win32 = win32.parse;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/resolve-patch-bc26c25fbb-9.zip/node_modules/resolve/lib/node-modules-paths.js
  var require_node_modules_paths = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/resolve-patch-bc26c25fbb-9.zip/node_modules/resolve/lib/node-modules-paths.js"(exports, module) {
      var path = __require("path");
      var parse = path.parse || require_path_parse();
      var getNodeModulesDirs = function getNodeModulesDirs2(absoluteStart, modules) {
        var prefix = "/";
        if (/^([A-Za-z]:)/.test(absoluteStart)) {
          prefix = "";
        } else if (/^\\\\/.test(absoluteStart)) {
          prefix = "\\\\";
        }
        var paths = [absoluteStart];
        var parsed = parse(absoluteStart);
        while (parsed.dir !== paths[paths.length - 1]) {
          paths.push(parsed.dir);
          parsed = parse(parsed.dir);
        }
        return paths.reduce(function(dirs, aPath) {
          return dirs.concat(modules.map(function(moduleDir) {
            return path.resolve(prefix, aPath, moduleDir);
          }));
        }, []);
      };
      module.exports = function nodeModulesPaths(start, opts, request) {
        var modules = opts && opts.moduleDirectory ? [].concat(opts.moduleDirectory) : ["node_modules"];
        if (opts && typeof opts.paths === "function") {
          return opts.paths(request, start, function() {
            return getNodeModulesDirs(start, modules);
          }, opts);
        }
        var dirs = getNodeModulesDirs(start, modules);
        return opts && opts.paths ? dirs.concat(opts.paths) : dirs;
      };
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/resolve-patch-bc26c25fbb-9.zip/node_modules/resolve/lib/normalize-options.js
  var require_normalize_options = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/resolve-patch-bc26c25fbb-9.zip/node_modules/resolve/lib/normalize-options.js"(exports, module) {
      var path = __require("path");
      module.exports = function(_, opts) {
        opts = opts || {};
        if (opts.forceNodeResolution || !process.versions.pnp)
          return opts;
        const {findPnpApi} = __require("module");
        const runPnpResolution = (request, basedir) => {
          const parts = request.match(/^((?:@[^/]+\/)?[^/]+)(\/.*)?/);
          if (!parts)
            throw new Error(`Assertion failed: Expected the "resolve" package to call the "paths" callback with package names only (got "${request}")`);
          if (basedir.charAt(basedir.length - 1) !== `/`)
            basedir = path.join(basedir, `/`);
          const api = findPnpApi(basedir);
          if (api === null)
            return void 0;
          let manifestPath;
          try {
            manifestPath = api.resolveToUnqualified(`${parts[1]}/package.json`, basedir, {considerBuiltins: false});
          } catch (err) {
            return null;
          }
          if (manifestPath === null)
            throw new Error(`Assertion failed: The resolution thinks that "${parts[1]}" is a Node builtin`);
          const packagePath = path.dirname(manifestPath);
          const unqualifiedPath = typeof parts[2] !== `undefined` ? path.join(packagePath, parts[2]) : packagePath;
          return {packagePath, unqualifiedPath};
        };
        const runPnpResolutionOnArray = (request, paths2) => {
          for (let i = 0; i < paths2.length; i++) {
            const resolution = runPnpResolution(request, paths2[i]);
            if (resolution || i === paths2.length - 1) {
              return resolution;
            }
          }
          return null;
        };
        const originalPaths = Array.isArray(opts.paths) ? opts.paths : [];
        const packageIterator = (request, basedir, getCandidates, opts2) => {
          const pathsToTest = [basedir].concat(originalPaths);
          const resolution = runPnpResolutionOnArray(request, pathsToTest);
          if (resolution == null)
            return getCandidates();
          return [resolution.unqualifiedPath];
        };
        const paths = (request, basedir, getNodeModulePaths, opts2) => {
          const pathsToTest = [basedir].concat(originalPaths);
          const resolution = runPnpResolutionOnArray(request, pathsToTest);
          if (resolution == null)
            return getNodeModulePaths().concat(originalPaths);
          let nodeModules = path.dirname(resolution.packagePath);
          if (request.match(/^@[^/]+\//))
            nodeModules = path.dirname(nodeModules);
          return [nodeModules];
        };
        let isInsideIterator = false;
        if (!opts.__skipPackageIterator) {
          opts.packageIterator = function(request, basedir, getCandidates, opts2) {
            isInsideIterator = true;
            try {
              return packageIterator(request, basedir, getCandidates, opts2);
            } finally {
              isInsideIterator = false;
            }
          };
        }
        opts.paths = function(request, basedir, getNodeModulePaths, opts2) {
          if (isInsideIterator)
            return getNodeModulePaths().concat(originalPaths);
          return paths(request, basedir, getNodeModulePaths, opts2);
        };
        return opts;
      };
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/resolve-patch-bc26c25fbb-9.zip/node_modules/resolve/lib/async.js
  var require_async = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/resolve-patch-bc26c25fbb-9.zip/node_modules/resolve/lib/async.js"(exports, module) {
      var fs2 = __require("fs");
      var getHomedir = require_homedir();
      var path = __require("path");
      var caller = require_caller();
      var nodeModulesPaths = require_node_modules_paths();
      var normalizeOptions = require_normalize_options();
      var isCore = require_is_core_module();
      var realpathFS = process.platform !== "win32" && fs2.realpath && typeof fs2.realpath.native === "function" ? fs2.realpath.native : fs2.realpath;
      var homedir = getHomedir();
      var defaultPaths = function() {
        return [
          path.join(homedir, ".node_modules"),
          path.join(homedir, ".node_libraries")
        ];
      };
      var defaultIsFile = function isFile(file, cb) {
        fs2.stat(file, function(err, stat) {
          if (!err) {
            return cb(null, stat.isFile() || stat.isFIFO());
          }
          if (err.code === "ENOENT" || err.code === "ENOTDIR")
            return cb(null, false);
          return cb(err);
        });
      };
      var defaultIsDir = function isDirectory(dir, cb) {
        fs2.stat(dir, function(err, stat) {
          if (!err) {
            return cb(null, stat.isDirectory());
          }
          if (err.code === "ENOENT" || err.code === "ENOTDIR")
            return cb(null, false);
          return cb(err);
        });
      };
      var defaultRealpath = function realpath(x, cb) {
        realpathFS(x, function(realpathErr, realPath) {
          if (realpathErr && realpathErr.code !== "ENOENT")
            cb(realpathErr);
          else
            cb(null, realpathErr ? x : realPath);
        });
      };
      var maybeRealpath = function maybeRealpath2(realpath, x, opts, cb) {
        if (opts && opts.preserveSymlinks === false) {
          realpath(x, cb);
        } else {
          cb(null, x);
        }
      };
      var defaultReadPackage = function defaultReadPackage2(readFile, pkgfile, cb) {
        readFile(pkgfile, function(readFileErr, body) {
          if (readFileErr)
            cb(readFileErr);
          else {
            try {
              var pkg = JSON.parse(body);
              cb(null, pkg);
            } catch (jsonErr) {
              cb(null);
            }
          }
        });
      };
      var getPackageCandidates = function getPackageCandidates2(x, start, opts) {
        var dirs = nodeModulesPaths(start, opts, x);
        for (var i = 0; i < dirs.length; i++) {
          dirs[i] = path.join(dirs[i], x);
        }
        return dirs;
      };
      module.exports = function resolve(x, options, callback) {
        var cb = callback;
        var opts = options;
        if (typeof options === "function") {
          cb = opts;
          opts = {};
        }
        if (typeof x !== "string") {
          var err = new TypeError("Path must be a string.");
          return process.nextTick(function() {
            cb(err);
          });
        }
        opts = normalizeOptions(x, opts);
        var isFile = opts.isFile || defaultIsFile;
        var isDirectory = opts.isDirectory || defaultIsDir;
        var readFile = opts.readFile || fs2.readFile;
        var realpath = opts.realpath || defaultRealpath;
        var readPackage = opts.readPackage || defaultReadPackage;
        if (opts.readFile && opts.readPackage) {
          var conflictErr = new TypeError("`readFile` and `readPackage` are mutually exclusive.");
          return process.nextTick(function() {
            cb(conflictErr);
          });
        }
        var packageIterator = opts.packageIterator;
        var extensions = opts.extensions || [".js"];
        var includeCoreModules = opts.includeCoreModules !== false;
        var basedir = opts.basedir || path.dirname(caller());
        var parent = opts.filename || basedir;
        opts.paths = opts.paths || defaultPaths();
        var absoluteStart = path.resolve(basedir);
        maybeRealpath(realpath, absoluteStart, opts, function(err2, realStart) {
          if (err2)
            cb(err2);
          else
            init(realStart);
        });
        var res;
        function init(basedir2) {
          if (/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[/\\])/.test(x)) {
            res = path.resolve(basedir2, x);
            if (x === "." || x === ".." || x.slice(-1) === "/")
              res += "/";
            if (/\/$/.test(x) && res === basedir2) {
              loadAsDirectory(res, opts.package, onfile);
            } else
              loadAsFile(res, opts.package, onfile);
          } else if (includeCoreModules && isCore(x)) {
            return cb(null, x);
          } else
            loadNodeModules(x, basedir2, function(err2, n, pkg) {
              if (err2)
                cb(err2);
              else if (n) {
                return maybeRealpath(realpath, n, opts, function(err3, realN) {
                  if (err3) {
                    cb(err3);
                  } else {
                    cb(null, realN, pkg);
                  }
                });
              } else {
                var moduleError = new Error("Cannot find module '" + x + "' from '" + parent + "'");
                moduleError.code = "MODULE_NOT_FOUND";
                cb(moduleError);
              }
            });
        }
        function onfile(err2, m, pkg) {
          if (err2)
            cb(err2);
          else if (m)
            cb(null, m, pkg);
          else
            loadAsDirectory(res, function(err3, d, pkg2) {
              if (err3)
                cb(err3);
              else if (d) {
                maybeRealpath(realpath, d, opts, function(err4, realD) {
                  if (err4) {
                    cb(err4);
                  } else {
                    cb(null, realD, pkg2);
                  }
                });
              } else {
                var moduleError = new Error("Cannot find module '" + x + "' from '" + parent + "'");
                moduleError.code = "MODULE_NOT_FOUND";
                cb(moduleError);
              }
            });
        }
        function loadAsFile(x2, thePackage, callback2) {
          var loadAsFilePackage = thePackage;
          var cb2 = callback2;
          if (typeof loadAsFilePackage === "function") {
            cb2 = loadAsFilePackage;
            loadAsFilePackage = void 0;
          }
          var exts = [""].concat(extensions);
          load(exts, x2, loadAsFilePackage);
          function load(exts2, x3, loadPackage) {
            if (exts2.length === 0)
              return cb2(null, void 0, loadPackage);
            var file = x3 + exts2[0];
            var pkg = loadPackage;
            if (pkg)
              onpkg(null, pkg);
            else
              loadpkg(path.dirname(file), onpkg);
            function onpkg(err2, pkg_, dir) {
              pkg = pkg_;
              if (err2)
                return cb2(err2);
              if (dir && pkg && opts.pathFilter) {
                var rfile = path.relative(dir, file);
                var rel = rfile.slice(0, rfile.length - exts2[0].length);
                var r = opts.pathFilter(pkg, x3, rel);
                if (r)
                  return load([""].concat(extensions.slice()), path.resolve(dir, r), pkg);
              }
              isFile(file, onex);
            }
            function onex(err2, ex) {
              if (err2)
                return cb2(err2);
              if (ex)
                return cb2(null, file, pkg);
              load(exts2.slice(1), x3, pkg);
            }
          }
        }
        function loadpkg(dir, cb2) {
          if (dir === "" || dir === "/")
            return cb2(null);
          if (process.platform === "win32" && /^\w:[/\\]*$/.test(dir)) {
            return cb2(null);
          }
          if (/[/\\]node_modules[/\\]*$/.test(dir))
            return cb2(null);
          maybeRealpath(realpath, dir, opts, function(unwrapErr, pkgdir) {
            if (unwrapErr)
              return loadpkg(path.dirname(dir), cb2);
            var pkgfile = path.join(pkgdir, "package.json");
            isFile(pkgfile, function(err2, ex) {
              if (!ex)
                return loadpkg(path.dirname(dir), cb2);
              readPackage(readFile, pkgfile, function(err3, pkgParam) {
                if (err3)
                  cb2(err3);
                var pkg = pkgParam;
                if (pkg && opts.packageFilter) {
                  pkg = opts.packageFilter(pkg, pkgfile);
                }
                cb2(null, pkg, dir);
              });
            });
          });
        }
        function loadAsDirectory(x2, loadAsDirectoryPackage, callback2) {
          var cb2 = callback2;
          var fpkg = loadAsDirectoryPackage;
          if (typeof fpkg === "function") {
            cb2 = fpkg;
            fpkg = opts.package;
          }
          maybeRealpath(realpath, x2, opts, function(unwrapErr, pkgdir) {
            if (unwrapErr)
              return cb2(unwrapErr);
            var pkgfile = path.join(pkgdir, "package.json");
            isFile(pkgfile, function(err2, ex) {
              if (err2)
                return cb2(err2);
              if (!ex)
                return loadAsFile(path.join(x2, "index"), fpkg, cb2);
              readPackage(readFile, pkgfile, function(err3, pkgParam) {
                if (err3)
                  return cb2(err3);
                var pkg = pkgParam;
                if (pkg && opts.packageFilter) {
                  pkg = opts.packageFilter(pkg, pkgfile);
                }
                if (pkg && pkg.main) {
                  if (typeof pkg.main !== "string") {
                    var mainError = new TypeError("package \u201C" + pkg.name + "\u201D `main` must be a string");
                    mainError.code = "INVALID_PACKAGE_MAIN";
                    return cb2(mainError);
                  }
                  if (pkg.main === "." || pkg.main === "./") {
                    pkg.main = "index";
                  }
                  loadAsFile(path.resolve(x2, pkg.main), pkg, function(err4, m, pkg2) {
                    if (err4)
                      return cb2(err4);
                    if (m)
                      return cb2(null, m, pkg2);
                    if (!pkg2)
                      return loadAsFile(path.join(x2, "index"), pkg2, cb2);
                    var dir = path.resolve(x2, pkg2.main);
                    loadAsDirectory(dir, pkg2, function(err5, n, pkg3) {
                      if (err5)
                        return cb2(err5);
                      if (n)
                        return cb2(null, n, pkg3);
                      loadAsFile(path.join(x2, "index"), pkg3, cb2);
                    });
                  });
                  return;
                }
                loadAsFile(path.join(x2, "/index"), pkg, cb2);
              });
            });
          });
        }
        function processDirs(cb2, dirs) {
          if (dirs.length === 0)
            return cb2(null, void 0);
          var dir = dirs[0];
          isDirectory(path.dirname(dir), isdir);
          function isdir(err2, isdir2) {
            if (err2)
              return cb2(err2);
            if (!isdir2)
              return processDirs(cb2, dirs.slice(1));
            loadAsFile(dir, opts.package, onfile2);
          }
          function onfile2(err2, m, pkg) {
            if (err2)
              return cb2(err2);
            if (m)
              return cb2(null, m, pkg);
            loadAsDirectory(dir, opts.package, ondir);
          }
          function ondir(err2, n, pkg) {
            if (err2)
              return cb2(err2);
            if (n)
              return cb2(null, n, pkg);
            processDirs(cb2, dirs.slice(1));
          }
        }
        function loadNodeModules(x2, start, cb2) {
          var thunk = function() {
            return getPackageCandidates(x2, start, opts);
          };
          processDirs(cb2, packageIterator ? packageIterator(x2, start, thunk, opts) : thunk());
        }
      };
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/resolve-patch-bc26c25fbb-9.zip/node_modules/resolve/lib/core.json
  var require_core2 = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/resolve-patch-bc26c25fbb-9.zip/node_modules/resolve/lib/core.json"(exports, module) {
      module.exports = {
        assert: true,
        "node:assert": [">= 14.18 && < 15", ">= 16"],
        "assert/strict": ">= 15",
        "node:assert/strict": ">= 16",
        async_hooks: ">= 8",
        "node:async_hooks": [">= 14.18 && < 15", ">= 16"],
        buffer_ieee754: ">= 0.5 && < 0.9.7",
        buffer: true,
        "node:buffer": [">= 14.18 && < 15", ">= 16"],
        child_process: true,
        "node:child_process": [">= 14.18 && < 15", ">= 16"],
        cluster: ">= 0.5",
        "node:cluster": [">= 14.18 && < 15", ">= 16"],
        console: true,
        "node:console": [">= 14.18 && < 15", ">= 16"],
        constants: true,
        "node:constants": [">= 14.18 && < 15", ">= 16"],
        crypto: true,
        "node:crypto": [">= 14.18 && < 15", ">= 16"],
        _debug_agent: ">= 1 && < 8",
        _debugger: "< 8",
        dgram: true,
        "node:dgram": [">= 14.18 && < 15", ">= 16"],
        diagnostics_channel: [">= 14.17 && < 15", ">= 15.1"],
        "node:diagnostics_channel": [">= 14.18 && < 15", ">= 16"],
        dns: true,
        "node:dns": [">= 14.18 && < 15", ">= 16"],
        "dns/promises": ">= 15",
        "node:dns/promises": ">= 16",
        domain: ">= 0.7.12",
        "node:domain": [">= 14.18 && < 15", ">= 16"],
        events: true,
        "node:events": [">= 14.18 && < 15", ">= 16"],
        freelist: "< 6",
        fs: true,
        "node:fs": [">= 14.18 && < 15", ">= 16"],
        "fs/promises": [">= 10 && < 10.1", ">= 14"],
        "node:fs/promises": [">= 14.18 && < 15", ">= 16"],
        _http_agent: ">= 0.11.1",
        "node:_http_agent": [">= 14.18 && < 15", ">= 16"],
        _http_client: ">= 0.11.1",
        "node:_http_client": [">= 14.18 && < 15", ">= 16"],
        _http_common: ">= 0.11.1",
        "node:_http_common": [">= 14.18 && < 15", ">= 16"],
        _http_incoming: ">= 0.11.1",
        "node:_http_incoming": [">= 14.18 && < 15", ">= 16"],
        _http_outgoing: ">= 0.11.1",
        "node:_http_outgoing": [">= 14.18 && < 15", ">= 16"],
        _http_server: ">= 0.11.1",
        "node:_http_server": [">= 14.18 && < 15", ">= 16"],
        http: true,
        "node:http": [">= 14.18 && < 15", ">= 16"],
        http2: ">= 8.8",
        "node:http2": [">= 14.18 && < 15", ">= 16"],
        https: true,
        "node:https": [">= 14.18 && < 15", ">= 16"],
        inspector: ">= 8",
        "node:inspector": [">= 14.18 && < 15", ">= 16"],
        _linklist: "< 8",
        module: true,
        "node:module": [">= 14.18 && < 15", ">= 16"],
        net: true,
        "node:net": [">= 14.18 && < 15", ">= 16"],
        "node-inspect/lib/_inspect": ">= 7.6 && < 12",
        "node-inspect/lib/internal/inspect_client": ">= 7.6 && < 12",
        "node-inspect/lib/internal/inspect_repl": ">= 7.6 && < 12",
        os: true,
        "node:os": [">= 14.18 && < 15", ">= 16"],
        path: true,
        "node:path": [">= 14.18 && < 15", ">= 16"],
        "path/posix": ">= 15.3",
        "node:path/posix": ">= 16",
        "path/win32": ">= 15.3",
        "node:path/win32": ">= 16",
        perf_hooks: ">= 8.5",
        "node:perf_hooks": [">= 14.18 && < 15", ">= 16"],
        process: ">= 1",
        "node:process": [">= 14.18 && < 15", ">= 16"],
        punycode: ">= 0.5",
        "node:punycode": [">= 14.18 && < 15", ">= 16"],
        querystring: true,
        "node:querystring": [">= 14.18 && < 15", ">= 16"],
        readline: true,
        "node:readline": [">= 14.18 && < 15", ">= 16"],
        "readline/promises": ">= 17",
        "node:readline/promises": ">= 17",
        repl: true,
        "node:repl": [">= 14.18 && < 15", ">= 16"],
        smalloc: ">= 0.11.5 && < 3",
        _stream_duplex: ">= 0.9.4",
        "node:_stream_duplex": [">= 14.18 && < 15", ">= 16"],
        _stream_transform: ">= 0.9.4",
        "node:_stream_transform": [">= 14.18 && < 15", ">= 16"],
        _stream_wrap: ">= 1.4.1",
        "node:_stream_wrap": [">= 14.18 && < 15", ">= 16"],
        _stream_passthrough: ">= 0.9.4",
        "node:_stream_passthrough": [">= 14.18 && < 15", ">= 16"],
        _stream_readable: ">= 0.9.4",
        "node:_stream_readable": [">= 14.18 && < 15", ">= 16"],
        _stream_writable: ">= 0.9.4",
        "node:_stream_writable": [">= 14.18 && < 15", ">= 16"],
        stream: true,
        "node:stream": [">= 14.18 && < 15", ">= 16"],
        "stream/consumers": ">= 16.7",
        "node:stream/consumers": ">= 16.7",
        "stream/promises": ">= 15",
        "node:stream/promises": ">= 16",
        "stream/web": ">= 16.5",
        "node:stream/web": ">= 16.5",
        string_decoder: true,
        "node:string_decoder": [">= 14.18 && < 15", ">= 16"],
        sys: [">= 0.4 && < 0.7", ">= 0.8"],
        "node:sys": [">= 14.18 && < 15", ">= 16"],
        "node:test": ">= 18",
        timers: true,
        "node:timers": [">= 14.18 && < 15", ">= 16"],
        "timers/promises": ">= 15",
        "node:timers/promises": ">= 16",
        _tls_common: ">= 0.11.13",
        "node:_tls_common": [">= 14.18 && < 15", ">= 16"],
        _tls_legacy: ">= 0.11.3 && < 10",
        _tls_wrap: ">= 0.11.3",
        "node:_tls_wrap": [">= 14.18 && < 15", ">= 16"],
        tls: true,
        "node:tls": [">= 14.18 && < 15", ">= 16"],
        trace_events: ">= 10",
        "node:trace_events": [">= 14.18 && < 15", ">= 16"],
        tty: true,
        "node:tty": [">= 14.18 && < 15", ">= 16"],
        url: true,
        "node:url": [">= 14.18 && < 15", ">= 16"],
        util: true,
        "node:util": [">= 14.18 && < 15", ">= 16"],
        "util/types": ">= 15.3",
        "node:util/types": ">= 16",
        "v8/tools/arguments": ">= 10 && < 12",
        "v8/tools/codemap": [">= 4.4 && < 5", ">= 5.2 && < 12"],
        "v8/tools/consarray": [">= 4.4 && < 5", ">= 5.2 && < 12"],
        "v8/tools/csvparser": [">= 4.4 && < 5", ">= 5.2 && < 12"],
        "v8/tools/logreader": [">= 4.4 && < 5", ">= 5.2 && < 12"],
        "v8/tools/profile_view": [">= 4.4 && < 5", ">= 5.2 && < 12"],
        "v8/tools/splaytree": [">= 4.4 && < 5", ">= 5.2 && < 12"],
        v8: ">= 1",
        "node:v8": [">= 14.18 && < 15", ">= 16"],
        vm: true,
        "node:vm": [">= 14.18 && < 15", ">= 16"],
        wasi: ">= 13.4 && < 13.5",
        worker_threads: ">= 11.7",
        "node:worker_threads": [">= 14.18 && < 15", ">= 16"],
        zlib: ">= 0.5",
        "node:zlib": [">= 14.18 && < 15", ">= 16"]
      };
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/resolve-patch-bc26c25fbb-9.zip/node_modules/resolve/lib/core.js
  var require_core3 = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/resolve-patch-bc26c25fbb-9.zip/node_modules/resolve/lib/core.js"(exports, module) {
      var current = process.versions && process.versions.node && process.versions.node.split(".") || [];
      function specifierIncluded(specifier) {
        var parts = specifier.split(" ");
        var op = parts.length > 1 ? parts[0] : "=";
        var versionParts = (parts.length > 1 ? parts[1] : parts[0]).split(".");
        for (var i = 0; i < 3; ++i) {
          var cur = parseInt(current[i] || 0, 10);
          var ver = parseInt(versionParts[i] || 0, 10);
          if (cur === ver) {
            continue;
          }
          if (op === "<") {
            return cur < ver;
          } else if (op === ">=") {
            return cur >= ver;
          }
          return false;
        }
        return op === ">=";
      }
      function matchesRange(range) {
        var specifiers = range.split(/ ?&& ?/);
        if (specifiers.length === 0) {
          return false;
        }
        for (var i = 0; i < specifiers.length; ++i) {
          if (!specifierIncluded(specifiers[i])) {
            return false;
          }
        }
        return true;
      }
      function versionIncluded(specifierValue) {
        if (typeof specifierValue === "boolean") {
          return specifierValue;
        }
        if (specifierValue && typeof specifierValue === "object") {
          for (var i = 0; i < specifierValue.length; ++i) {
            if (matchesRange(specifierValue[i])) {
              return true;
            }
          }
          return false;
        }
        return matchesRange(specifierValue);
      }
      var data = require_core2();
      var core = {};
      for (var mod in data) {
        if (Object.prototype.hasOwnProperty.call(data, mod)) {
          core[mod] = versionIncluded(data[mod]);
        }
      }
      module.exports = core;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/resolve-patch-bc26c25fbb-9.zip/node_modules/resolve/lib/is-core.js
  var require_is_core = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/resolve-patch-bc26c25fbb-9.zip/node_modules/resolve/lib/is-core.js"(exports, module) {
      var isCoreModule = require_is_core_module();
      module.exports = function isCore(x) {
        return isCoreModule(x);
      };
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/resolve-patch-bc26c25fbb-9.zip/node_modules/resolve/lib/sync.js
  var require_sync = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/resolve-patch-bc26c25fbb-9.zip/node_modules/resolve/lib/sync.js"(exports, module) {
      var isCore = require_is_core_module();
      var fs2 = __require("fs");
      var path = __require("path");
      var getHomedir = require_homedir();
      var caller = require_caller();
      var nodeModulesPaths = require_node_modules_paths();
      var normalizeOptions = require_normalize_options();
      var realpathFS = process.platform !== "win32" && fs2.realpathSync && typeof fs2.realpathSync.native === "function" ? fs2.realpathSync.native : fs2.realpathSync;
      var homedir = getHomedir();
      var defaultPaths = function() {
        return [
          path.join(homedir, ".node_modules"),
          path.join(homedir, ".node_libraries")
        ];
      };
      var defaultIsFile = function isFile(file) {
        try {
          var stat = fs2.statSync(file, {throwIfNoEntry: false});
        } catch (e) {
          if (e && (e.code === "ENOENT" || e.code === "ENOTDIR"))
            return false;
          throw e;
        }
        return !!stat && (stat.isFile() || stat.isFIFO());
      };
      var defaultIsDir = function isDirectory(dir) {
        try {
          var stat = fs2.statSync(dir, {throwIfNoEntry: false});
        } catch (e) {
          if (e && (e.code === "ENOENT" || e.code === "ENOTDIR"))
            return false;
          throw e;
        }
        return !!stat && stat.isDirectory();
      };
      var defaultRealpathSync = function realpathSync(x) {
        try {
          return realpathFS(x);
        } catch (realpathErr) {
          if (realpathErr.code !== "ENOENT") {
            throw realpathErr;
          }
        }
        return x;
      };
      var maybeRealpathSync = function maybeRealpathSync2(realpathSync, x, opts) {
        if (opts && opts.preserveSymlinks === false) {
          return realpathSync(x);
        }
        return x;
      };
      var defaultReadPackageSync = function defaultReadPackageSync2(readFileSync2, pkgfile) {
        var body = readFileSync2(pkgfile);
        try {
          var pkg = JSON.parse(body);
          return pkg;
        } catch (jsonErr) {
        }
      };
      var getPackageCandidates = function getPackageCandidates2(x, start, opts) {
        var dirs = nodeModulesPaths(start, opts, x);
        for (var i = 0; i < dirs.length; i++) {
          dirs[i] = path.join(dirs[i], x);
        }
        return dirs;
      };
      module.exports = function resolveSync(x, options) {
        if (typeof x !== "string") {
          throw new TypeError("Path must be a string.");
        }
        var opts = normalizeOptions(x, options);
        var isFile = opts.isFile || defaultIsFile;
        var readFileSync2 = opts.readFileSync || fs2.readFileSync;
        var isDirectory = opts.isDirectory || defaultIsDir;
        var realpathSync = opts.realpathSync || defaultRealpathSync;
        var readPackageSync = opts.readPackageSync || defaultReadPackageSync;
        if (opts.readFileSync && opts.readPackageSync) {
          throw new TypeError("`readFileSync` and `readPackageSync` are mutually exclusive.");
        }
        var packageIterator = opts.packageIterator;
        var extensions = opts.extensions || [".js"];
        var includeCoreModules = opts.includeCoreModules !== false;
        var basedir = opts.basedir || path.dirname(caller());
        var parent = opts.filename || basedir;
        opts.paths = opts.paths || defaultPaths();
        var absoluteStart = maybeRealpathSync(realpathSync, path.resolve(basedir), opts);
        if (/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[/\\])/.test(x)) {
          var res = path.resolve(absoluteStart, x);
          if (x === "." || x === ".." || x.slice(-1) === "/")
            res += "/";
          var m = loadAsFileSync(res) || loadAsDirectorySync(res);
          if (m)
            return maybeRealpathSync(realpathSync, m, opts);
        } else if (includeCoreModules && isCore(x)) {
          return x;
        } else {
          var n = loadNodeModulesSync(x, absoluteStart);
          if (n)
            return maybeRealpathSync(realpathSync, n, opts);
        }
        var err = new Error("Cannot find module '" + x + "' from '" + parent + "'");
        err.code = "MODULE_NOT_FOUND";
        throw err;
        function loadAsFileSync(x2) {
          var pkg = loadpkg(path.dirname(x2));
          if (pkg && pkg.dir && pkg.pkg && opts.pathFilter) {
            var rfile = path.relative(pkg.dir, x2);
            var r = opts.pathFilter(pkg.pkg, x2, rfile);
            if (r) {
              x2 = path.resolve(pkg.dir, r);
            }
          }
          if (isFile(x2)) {
            return x2;
          }
          for (var i = 0; i < extensions.length; i++) {
            var file = x2 + extensions[i];
            if (isFile(file)) {
              return file;
            }
          }
        }
        function loadpkg(dir) {
          if (dir === "" || dir === "/")
            return;
          if (process.platform === "win32" && /^\w:[/\\]*$/.test(dir)) {
            return;
          }
          if (/[/\\]node_modules[/\\]*$/.test(dir))
            return;
          var pkgfile = path.join(maybeRealpathSync(realpathSync, dir, opts), "package.json");
          if (!isFile(pkgfile)) {
            return loadpkg(path.dirname(dir));
          }
          var pkg = readPackageSync(readFileSync2, pkgfile);
          if (pkg && opts.packageFilter) {
            pkg = opts.packageFilter(pkg, dir);
          }
          return {pkg, dir};
        }
        function loadAsDirectorySync(x2) {
          var pkgfile = path.join(maybeRealpathSync(realpathSync, x2, opts), "/package.json");
          if (isFile(pkgfile)) {
            try {
              var pkg = readPackageSync(readFileSync2, pkgfile);
            } catch (e) {
            }
            if (pkg && opts.packageFilter) {
              pkg = opts.packageFilter(pkg, x2);
            }
            if (pkg && pkg.main) {
              if (typeof pkg.main !== "string") {
                var mainError = new TypeError("package \u201C" + pkg.name + "\u201D `main` must be a string");
                mainError.code = "INVALID_PACKAGE_MAIN";
                throw mainError;
              }
              if (pkg.main === "." || pkg.main === "./") {
                pkg.main = "index";
              }
              try {
                var m2 = loadAsFileSync(path.resolve(x2, pkg.main));
                if (m2)
                  return m2;
                var n2 = loadAsDirectorySync(path.resolve(x2, pkg.main));
                if (n2)
                  return n2;
              } catch (e) {
              }
            }
          }
          return loadAsFileSync(path.join(x2, "/index"));
        }
        function loadNodeModulesSync(x2, start) {
          var thunk = function() {
            return getPackageCandidates(x2, start, opts);
          };
          var dirs = packageIterator ? packageIterator(x2, start, thunk, opts) : thunk();
          for (var i = 0; i < dirs.length; i++) {
            var dir = dirs[i];
            if (isDirectory(path.dirname(dir))) {
              var m2 = loadAsFileSync(dir);
              if (m2)
                return m2;
              var n2 = loadAsDirectorySync(dir);
              if (n2)
                return n2;
            }
          }
        }
      };
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/resolve-patch-bc26c25fbb-9.zip/node_modules/resolve/index.js
  var require_resolve = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/resolve-patch-bc26c25fbb-9.zip/node_modules/resolve/index.js"(exports, module) {
      var async = require_async();
      async.core = require_core3();
      async.isCore = require_is_core();
      async.sync = require_sync();
      module.exports = async;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/normalize-package-data-npm-2.5.0-af0345deed-9.zip/node_modules/normalize-package-data/lib/extract_description.js
  var require_extract_description2 = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/normalize-package-data-npm-2.5.0-af0345deed-9.zip/node_modules/normalize-package-data/lib/extract_description.js"(exports, module) {
      module.exports = extractDescription;
      function extractDescription(d) {
        if (!d)
          return;
        if (d === "ERROR: No README data found!")
          return;
        d = d.trim().split("\n");
        for (var s = 0; d[s] && d[s].trim().match(/^(#|$)/); s++)
          ;
        var l = d.length;
        for (var e = s + 1; e < l && d[e].trim(); e++)
          ;
        return d.slice(s, e).join(" ").trim();
      }
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/normalize-package-data-npm-2.5.0-af0345deed-9.zip/node_modules/normalize-package-data/lib/typos.json
  var require_typos2 = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/normalize-package-data-npm-2.5.0-af0345deed-9.zip/node_modules/normalize-package-data/lib/typos.json"(exports, module) {
      module.exports = {
        topLevel: {
          dependancies: "dependencies",
          dependecies: "dependencies",
          depdenencies: "dependencies",
          devEependencies: "devDependencies",
          depends: "dependencies",
          "dev-dependencies": "devDependencies",
          devDependences: "devDependencies",
          devDepenencies: "devDependencies",
          devdependencies: "devDependencies",
          repostitory: "repository",
          repo: "repository",
          prefereGlobal: "preferGlobal",
          hompage: "homepage",
          hampage: "homepage",
          autohr: "author",
          autor: "author",
          contributers: "contributors",
          publicationConfig: "publishConfig",
          script: "scripts"
        },
        bugs: {web: "url", name: "url"},
        script: {server: "start", tests: "test"}
      };
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/normalize-package-data-npm-2.5.0-af0345deed-9.zip/node_modules/normalize-package-data/lib/fixer.js
  var require_fixer2 = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/normalize-package-data-npm-2.5.0-af0345deed-9.zip/node_modules/normalize-package-data/lib/fixer.js"(exports, module) {
      var semver2 = __require("semver");
      var validateLicense = require_validate_npm_package_license();
      var hostedGitInfo = require_hosted_git_info2();
      var isBuiltinModule = require_resolve().isCore;
      var depTypes = ["dependencies", "devDependencies", "optionalDependencies"];
      var extractDescription = require_extract_description2();
      var url = __require("url");
      var typos = require_typos2();
      var fixer = module.exports = {
        warn: function() {
        },
        fixRepositoryField: function(data) {
          if (data.repositories) {
            this.warn("repositories");
            data.repository = data.repositories[0];
          }
          if (!data.repository)
            return this.warn("missingRepository");
          if (typeof data.repository === "string") {
            data.repository = {
              type: "git",
              url: data.repository
            };
          }
          var r = data.repository.url || "";
          if (r) {
            var hosted = hostedGitInfo.fromUrl(r);
            if (hosted) {
              r = data.repository.url = hosted.getDefaultRepresentation() == "shortcut" ? hosted.https() : hosted.toString();
            }
          }
          if (r.match(/github.com\/[^\/]+\/[^\/]+\.git\.git$/)) {
            this.warn("brokenGitUrl", r);
          }
        },
        fixTypos: function(data) {
          Object.keys(typos.topLevel).forEach(function(d) {
            if (data.hasOwnProperty(d)) {
              this.warn("typo", d, typos.topLevel[d]);
            }
          }, this);
        },
        fixScriptsField: function(data) {
          if (!data.scripts)
            return;
          if (typeof data.scripts !== "object") {
            this.warn("nonObjectScripts");
            delete data.scripts;
            return;
          }
          Object.keys(data.scripts).forEach(function(k) {
            if (typeof data.scripts[k] !== "string") {
              this.warn("nonStringScript");
              delete data.scripts[k];
            } else if (typos.script[k] && !data.scripts[typos.script[k]]) {
              this.warn("typo", k, typos.script[k], "scripts");
            }
          }, this);
        },
        fixFilesField: function(data) {
          var files = data.files;
          if (files && !Array.isArray(files)) {
            this.warn("nonArrayFiles");
            delete data.files;
          } else if (data.files) {
            data.files = data.files.filter(function(file) {
              if (!file || typeof file !== "string") {
                this.warn("invalidFilename", file);
                return false;
              } else {
                return true;
              }
            }, this);
          }
        },
        fixBinField: function(data) {
          if (!data.bin)
            return;
          if (typeof data.bin === "string") {
            var b = {};
            var match;
            if (match = data.name.match(/^@[^/]+[/](.*)$/)) {
              b[match[1]] = data.bin;
            } else {
              b[data.name] = data.bin;
            }
            data.bin = b;
          }
        },
        fixManField: function(data) {
          if (!data.man)
            return;
          if (typeof data.man === "string") {
            data.man = [data.man];
          }
        },
        fixBundleDependenciesField: function(data) {
          var bdd = "bundledDependencies";
          var bd = "bundleDependencies";
          if (data[bdd] && !data[bd]) {
            data[bd] = data[bdd];
            delete data[bdd];
          }
          if (data[bd] && !Array.isArray(data[bd])) {
            this.warn("nonArrayBundleDependencies");
            delete data[bd];
          } else if (data[bd]) {
            data[bd] = data[bd].filter(function(bd2) {
              if (!bd2 || typeof bd2 !== "string") {
                this.warn("nonStringBundleDependency", bd2);
                return false;
              } else {
                if (!data.dependencies) {
                  data.dependencies = {};
                }
                if (!data.dependencies.hasOwnProperty(bd2)) {
                  this.warn("nonDependencyBundleDependency", bd2);
                  data.dependencies[bd2] = "*";
                }
                return true;
              }
            }, this);
          }
        },
        fixDependencies: function(data, strict) {
          var loose = !strict;
          objectifyDeps(data, this.warn);
          addOptionalDepsToDeps(data, this.warn);
          this.fixBundleDependenciesField(data);
          ["dependencies", "devDependencies"].forEach(function(deps) {
            if (!(deps in data))
              return;
            if (!data[deps] || typeof data[deps] !== "object") {
              this.warn("nonObjectDependencies", deps);
              delete data[deps];
              return;
            }
            Object.keys(data[deps]).forEach(function(d) {
              var r = data[deps][d];
              if (typeof r !== "string") {
                this.warn("nonStringDependency", d, JSON.stringify(r));
                delete data[deps][d];
              }
              var hosted = hostedGitInfo.fromUrl(data[deps][d]);
              if (hosted)
                data[deps][d] = hosted.toString();
            }, this);
          }, this);
        },
        fixModulesField: function(data) {
          if (data.modules) {
            this.warn("deprecatedModules");
            delete data.modules;
          }
        },
        fixKeywordsField: function(data) {
          if (typeof data.keywords === "string") {
            data.keywords = data.keywords.split(/,\s+/);
          }
          if (data.keywords && !Array.isArray(data.keywords)) {
            delete data.keywords;
            this.warn("nonArrayKeywords");
          } else if (data.keywords) {
            data.keywords = data.keywords.filter(function(kw) {
              if (typeof kw !== "string" || !kw) {
                this.warn("nonStringKeyword");
                return false;
              } else {
                return true;
              }
            }, this);
          }
        },
        fixVersionField: function(data, strict) {
          var loose = !strict;
          if (!data.version) {
            data.version = "";
            return true;
          }
          if (!semver2.valid(data.version, loose)) {
            throw new Error('Invalid version: "' + data.version + '"');
          }
          data.version = semver2.clean(data.version, loose);
          return true;
        },
        fixPeople: function(data) {
          modifyPeople(data, unParsePerson);
          modifyPeople(data, parsePerson);
        },
        fixNameField: function(data, options) {
          if (typeof options === "boolean")
            options = {strict: options};
          else if (typeof options === "undefined")
            options = {};
          var strict = options.strict;
          if (!data.name && !strict) {
            data.name = "";
            return;
          }
          if (typeof data.name !== "string") {
            throw new Error("name field must be a string.");
          }
          if (!strict)
            data.name = data.name.trim();
          ensureValidName(data.name, strict, options.allowLegacyCase);
          if (isBuiltinModule(data.name))
            this.warn("conflictingName", data.name);
        },
        fixDescriptionField: function(data) {
          if (data.description && typeof data.description !== "string") {
            this.warn("nonStringDescription");
            delete data.description;
          }
          if (data.readme && !data.description)
            data.description = extractDescription(data.readme);
          if (data.description === void 0)
            delete data.description;
          if (!data.description)
            this.warn("missingDescription");
        },
        fixReadmeField: function(data) {
          if (!data.readme) {
            this.warn("missingReadme");
            data.readme = "ERROR: No README data found!";
          }
        },
        fixBugsField: function(data) {
          if (!data.bugs && data.repository && data.repository.url) {
            var hosted = hostedGitInfo.fromUrl(data.repository.url);
            if (hosted && hosted.bugs()) {
              data.bugs = {url: hosted.bugs()};
            }
          } else if (data.bugs) {
            var emailRe = /^.+@.*\..+$/;
            if (typeof data.bugs == "string") {
              if (emailRe.test(data.bugs))
                data.bugs = {email: data.bugs};
              else if (url.parse(data.bugs).protocol)
                data.bugs = {url: data.bugs};
              else
                this.warn("nonEmailUrlBugsString");
            } else {
              bugsTypos(data.bugs, this.warn);
              var oldBugs = data.bugs;
              data.bugs = {};
              if (oldBugs.url) {
                if (typeof oldBugs.url == "string" && url.parse(oldBugs.url).protocol)
                  data.bugs.url = oldBugs.url;
                else
                  this.warn("nonUrlBugsUrlField");
              }
              if (oldBugs.email) {
                if (typeof oldBugs.email == "string" && emailRe.test(oldBugs.email))
                  data.bugs.email = oldBugs.email;
                else
                  this.warn("nonEmailBugsEmailField");
              }
            }
            if (!data.bugs.email && !data.bugs.url) {
              delete data.bugs;
              this.warn("emptyNormalizedBugs");
            }
          }
        },
        fixHomepageField: function(data) {
          if (!data.homepage && data.repository && data.repository.url) {
            var hosted = hostedGitInfo.fromUrl(data.repository.url);
            if (hosted && hosted.docs())
              data.homepage = hosted.docs();
          }
          if (!data.homepage)
            return;
          if (typeof data.homepage !== "string") {
            this.warn("nonUrlHomepage");
            return delete data.homepage;
          }
          if (!url.parse(data.homepage).protocol) {
            data.homepage = "http://" + data.homepage;
          }
        },
        fixLicenseField: function(data) {
          if (!data.license) {
            return this.warn("missingLicense");
          } else {
            if (typeof data.license !== "string" || data.license.length < 1 || data.license.trim() === "") {
              this.warn("invalidLicense");
            } else {
              if (!validateLicense(data.license).validForNewPackages)
                this.warn("invalidLicense");
            }
          }
        }
      };
      function isValidScopedPackageName(spec) {
        if (spec.charAt(0) !== "@")
          return false;
        var rest = spec.slice(1).split("/");
        if (rest.length !== 2)
          return false;
        return rest[0] && rest[1] && rest[0] === encodeURIComponent(rest[0]) && rest[1] === encodeURIComponent(rest[1]);
      }
      function isCorrectlyEncodedName(spec) {
        return !spec.match(/[\/@\s\+%:]/) && spec === encodeURIComponent(spec);
      }
      function ensureValidName(name, strict, allowLegacyCase) {
        if (name.charAt(0) === "." || !(isValidScopedPackageName(name) || isCorrectlyEncodedName(name)) || strict && !allowLegacyCase && name !== name.toLowerCase() || name.toLowerCase() === "node_modules" || name.toLowerCase() === "favicon.ico") {
          throw new Error("Invalid name: " + JSON.stringify(name));
        }
      }
      function modifyPeople(data, fn) {
        if (data.author)
          data.author = fn(data.author);
        ["maintainers", "contributors"].forEach(function(set) {
          if (!Array.isArray(data[set]))
            return;
          data[set] = data[set].map(fn);
        });
        return data;
      }
      function unParsePerson(person) {
        if (typeof person === "string")
          return person;
        var name = person.name || "";
        var u = person.url || person.web;
        var url2 = u ? " (" + u + ")" : "";
        var e = person.email || person.mail;
        var email = e ? " <" + e + ">" : "";
        return name + email + url2;
      }
      function parsePerson(person) {
        if (typeof person !== "string")
          return person;
        var name = person.match(/^([^\(<]+)/);
        var url2 = person.match(/\(([^\)]+)\)/);
        var email = person.match(/<([^>]+)>/);
        var obj = {};
        if (name && name[0].trim())
          obj.name = name[0].trim();
        if (email)
          obj.email = email[1];
        if (url2)
          obj.url = url2[1];
        return obj;
      }
      function addOptionalDepsToDeps(data, warn) {
        var o = data.optionalDependencies;
        if (!o)
          return;
        var d = data.dependencies || {};
        Object.keys(o).forEach(function(k) {
          d[k] = o[k];
        });
        data.dependencies = d;
      }
      function depObjectify(deps, type, warn) {
        if (!deps)
          return {};
        if (typeof deps === "string") {
          deps = deps.trim().split(/[\n\r\s\t ,]+/);
        }
        if (!Array.isArray(deps))
          return deps;
        warn("deprecatedArrayDependencies", type);
        var o = {};
        deps.filter(function(d) {
          return typeof d === "string";
        }).forEach(function(d) {
          d = d.trim().split(/(:?[@\s><=])/);
          var dn = d.shift();
          var dv = d.join("");
          dv = dv.trim();
          dv = dv.replace(/^@/, "");
          o[dn] = dv;
        });
        return o;
      }
      function objectifyDeps(data, warn) {
        depTypes.forEach(function(type) {
          if (!data[type])
            return;
          data[type] = depObjectify(data[type], type, warn);
        });
      }
      function bugsTypos(bugs, warn) {
        if (!bugs)
          return;
        Object.keys(bugs).forEach(function(k) {
          if (typos.bugs[k]) {
            warn("typo", k, typos.bugs[k], "bugs");
            bugs[typos.bugs[k]] = bugs[k];
            delete bugs[k];
          }
        });
      }
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/normalize-package-data-npm-2.5.0-af0345deed-9.zip/node_modules/normalize-package-data/lib/warning_messages.json
  var require_warning_messages2 = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/normalize-package-data-npm-2.5.0-af0345deed-9.zip/node_modules/normalize-package-data/lib/warning_messages.json"(exports, module) {
      module.exports = {
        repositories: "'repositories' (plural) Not supported. Please pick one as the 'repository' field",
        missingRepository: "No repository field.",
        brokenGitUrl: "Probably broken git url: %s",
        nonObjectScripts: "scripts must be an object",
        nonStringScript: "script values must be string commands",
        nonArrayFiles: "Invalid 'files' member",
        invalidFilename: "Invalid filename in 'files' list: %s",
        nonArrayBundleDependencies: "Invalid 'bundleDependencies' list. Must be array of package names",
        nonStringBundleDependency: "Invalid bundleDependencies member: %s",
        nonDependencyBundleDependency: "Non-dependency in bundleDependencies: %s",
        nonObjectDependencies: "%s field must be an object",
        nonStringDependency: "Invalid dependency: %s %s",
        deprecatedArrayDependencies: "specifying %s as array is deprecated",
        deprecatedModules: "modules field is deprecated",
        nonArrayKeywords: "keywords should be an array of strings",
        nonStringKeyword: "keywords should be an array of strings",
        conflictingName: "%s is also the name of a node core module.",
        nonStringDescription: "'description' field should be a string",
        missingDescription: "No description",
        missingReadme: "No README data",
        missingLicense: "No license field.",
        nonEmailUrlBugsString: "Bug string field must be url, email, or {email,url}",
        nonUrlBugsUrlField: "bugs.url field must be a string url. Deleted.",
        nonEmailBugsEmailField: "bugs.email field must be a string email. Deleted.",
        emptyNormalizedBugs: "Normalized value of bugs field is an empty object. Deleted.",
        nonUrlHomepage: "homepage field must be a string url. Deleted.",
        invalidLicense: "license should be a valid SPDX license expression",
        typo: "%s should probably be %s."
      };
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/normalize-package-data-npm-2.5.0-af0345deed-9.zip/node_modules/normalize-package-data/lib/make_warning.js
  var require_make_warning2 = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/normalize-package-data-npm-2.5.0-af0345deed-9.zip/node_modules/normalize-package-data/lib/make_warning.js"(exports, module) {
      var util = __require("util");
      var messages = require_warning_messages2();
      module.exports = function() {
        var args = Array.prototype.slice.call(arguments, 0);
        var warningName = args.shift();
        if (warningName == "typo") {
          return makeTypoWarning.apply(null, args);
        } else {
          var msgTemplate = messages[warningName] ? messages[warningName] : warningName + ": '%s'";
          args.unshift(msgTemplate);
          return util.format.apply(null, args);
        }
      };
      function makeTypoWarning(providedName, probableName, field) {
        if (field) {
          providedName = field + "['" + providedName + "']";
          probableName = field + "['" + probableName + "']";
        }
        return util.format(messages.typo, providedName, probableName);
      }
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/normalize-package-data-npm-2.5.0-af0345deed-9.zip/node_modules/normalize-package-data/lib/normalize.js
  var require_normalize2 = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/normalize-package-data-npm-2.5.0-af0345deed-9.zip/node_modules/normalize-package-data/lib/normalize.js"(exports, module) {
      module.exports = normalize;
      var fixer = require_fixer2();
      normalize.fixer = fixer;
      var makeWarning = require_make_warning2();
      var fieldsToFix = [
        "name",
        "version",
        "description",
        "repository",
        "modules",
        "scripts",
        "files",
        "bin",
        "man",
        "bugs",
        "keywords",
        "readme",
        "homepage",
        "license"
      ];
      var otherThingsToFix = ["dependencies", "people", "typos"];
      var thingsToFix = fieldsToFix.map(function(fieldName) {
        return ucFirst(fieldName) + "Field";
      });
      thingsToFix = thingsToFix.concat(otherThingsToFix);
      function normalize(data, warn, strict) {
        if (warn === true)
          warn = null, strict = true;
        if (!strict)
          strict = false;
        if (!warn || data.private)
          warn = function(msg) {
          };
        if (data.scripts && data.scripts.install === "node-gyp rebuild" && !data.scripts.preinstall) {
          data.gypfile = true;
        }
        fixer.warn = function() {
          warn(makeWarning.apply(null, arguments));
        };
        thingsToFix.forEach(function(thingName) {
          fixer["fix" + ucFirst(thingName)](data, strict);
        });
        data._id = data.name + "@" + data.version;
      }
      function ucFirst(string) {
        return string.charAt(0).toUpperCase() + string.slice(1);
      }
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/read-pkg-npm-3.0.0-41471436cb-9.zip/node_modules/read-pkg/index.js
  var require_read_pkg = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/read-pkg-npm-3.0.0-41471436cb-9.zip/node_modules/read-pkg/index.js"(exports, module) {
      "use strict";
      var path = __require("path");
      var loadJsonFile = require_load_json_file();
      var pathType = require_path_type();
      module.exports = (fp, opts) => {
        if (typeof fp !== "string") {
          opts = fp;
          fp = ".";
        }
        opts = opts || {};
        return pathType.dir(fp).then((isDir) => {
          if (isDir) {
            fp = path.join(fp, "package.json");
          }
          return loadJsonFile(fp);
        }).then((x) => {
          if (opts.normalize !== false) {
            require_normalize2()(x);
          }
          return x;
        });
      };
      module.exports.sync = (fp, opts) => {
        if (typeof fp !== "string") {
          opts = fp;
          fp = ".";
        }
        opts = opts || {};
        fp = pathType.dirSync(fp) ? path.join(fp, "package.json") : fp;
        const x = loadJsonFile.sync(fp);
        if (opts.normalize !== false) {
          require_normalize2()(x);
        }
        return x;
      };
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/path-exists-npm-3.0.0-e80371aa68-9.zip/node_modules/path-exists/index.js
  var require_path_exists = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/path-exists-npm-3.0.0-e80371aa68-9.zip/node_modules/path-exists/index.js"(exports, module) {
      "use strict";
      var fs2 = __require("fs");
      module.exports = (fp) => new Promise((resolve) => {
        fs2.access(fp, (err) => {
          resolve(!err);
        });
      });
      module.exports.sync = (fp) => {
        try {
          fs2.accessSync(fp);
          return true;
        } catch (err) {
          return false;
        }
      };
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/p-try-npm-1.0.0-7373139e40-9.zip/node_modules/p-try/index.js
  var require_p_try = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/p-try-npm-1.0.0-7373139e40-9.zip/node_modules/p-try/index.js"(exports, module) {
      "use strict";
      module.exports = (cb) => new Promise((resolve) => {
        resolve(cb());
      });
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/p-limit-npm-1.3.0-fdb471d864-9.zip/node_modules/p-limit/index.js
  var require_p_limit = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/p-limit-npm-1.3.0-fdb471d864-9.zip/node_modules/p-limit/index.js"(exports, module) {
      "use strict";
      var pTry = require_p_try();
      module.exports = (concurrency) => {
        if (concurrency < 1) {
          throw new TypeError("Expected `concurrency` to be a number from 1 and up");
        }
        const queue = [];
        let activeCount = 0;
        const next = () => {
          activeCount--;
          if (queue.length > 0) {
            queue.shift()();
          }
        };
        return (fn) => new Promise((resolve, reject) => {
          const run = () => {
            activeCount++;
            pTry(fn).then((val) => {
              resolve(val);
              next();
            }, (err) => {
              reject(err);
              next();
            });
          };
          if (activeCount < concurrency) {
            run();
          } else {
            queue.push(run);
          }
        });
      };
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/p-locate-npm-2.0.0-3a2ee263dd-9.zip/node_modules/p-locate/index.js
  var require_p_locate = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/p-locate-npm-2.0.0-3a2ee263dd-9.zip/node_modules/p-locate/index.js"(exports, module) {
      "use strict";
      var pLimit = require_p_limit();
      var EndError = class extends Error {
        constructor(value) {
          super();
          this.value = value;
        }
      };
      var finder = (el) => Promise.all(el).then((val) => val[1] === true && Promise.reject(new EndError(val[0])));
      module.exports = (iterable, tester, opts) => {
        opts = Object.assign({
          concurrency: Infinity,
          preserveOrder: true
        }, opts);
        const limit = pLimit(opts.concurrency);
        const items = Array.from(iterable).map((el) => [el, limit(() => Promise.resolve(el).then(tester))]);
        const checkLimit = pLimit(opts.preserveOrder ? 1 : Infinity);
        return Promise.all(items.map((el) => checkLimit(() => finder(el)))).then(() => {
        }).catch((err) => err instanceof EndError ? err.value : Promise.reject(err));
      };
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/locate-path-npm-2.0.0-673d28b0ea-9.zip/node_modules/locate-path/index.js
  var require_locate_path = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/locate-path-npm-2.0.0-673d28b0ea-9.zip/node_modules/locate-path/index.js"(exports, module) {
      "use strict";
      var path = __require("path");
      var pathExists = require_path_exists();
      var pLocate = require_p_locate();
      module.exports = (iterable, opts) => {
        opts = Object.assign({
          cwd: process.cwd()
        }, opts);
        return pLocate(iterable, (el) => pathExists(path.resolve(opts.cwd, el)), opts);
      };
      module.exports.sync = (iterable, opts) => {
        opts = Object.assign({
          cwd: process.cwd()
        }, opts);
        for (const el of iterable) {
          if (pathExists.sync(path.resolve(opts.cwd, el))) {
            return el;
          }
        }
      };
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/find-up-npm-2.1.0-9f6cb1765c-9.zip/node_modules/find-up/index.js
  var require_find_up = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/find-up-npm-2.1.0-9f6cb1765c-9.zip/node_modules/find-up/index.js"(exports, module) {
      "use strict";
      var path = __require("path");
      var locatePath = require_locate_path();
      module.exports = (filename, opts) => {
        opts = opts || {};
        const startDir = path.resolve(opts.cwd || "");
        const root = path.parse(startDir).root;
        const filenames = [].concat(filename);
        return new Promise((resolve) => {
          (function find(dir) {
            locatePath(filenames, {cwd: dir}).then((file) => {
              if (file) {
                resolve(path.join(dir, file));
              } else if (dir === root) {
                resolve(null);
              } else {
                find(path.dirname(dir));
              }
            });
          })(startDir);
        });
      };
      module.exports.sync = (filename, opts) => {
        opts = opts || {};
        let dir = path.resolve(opts.cwd || "");
        const root = path.parse(dir).root;
        const filenames = [].concat(filename);
        while (true) {
          const file = locatePath.sync(filenames, {cwd: dir});
          if (file) {
            return path.join(dir, file);
          } else if (dir === root) {
            return null;
          }
          dir = path.dirname(dir);
        }
      };
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/read-pkg-up-npm-3.0.0-3d7faf047f-9.zip/node_modules/read-pkg-up/index.js
  var require_read_pkg_up = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/read-pkg-up-npm-3.0.0-3d7faf047f-9.zip/node_modules/read-pkg-up/index.js"(exports, module) {
      "use strict";
      var findUp = require_find_up();
      var readPkg = require_read_pkg();
      module.exports = (opts) => {
        return findUp("package.json", opts).then((fp) => {
          if (!fp) {
            return {};
          }
          return readPkg(fp, opts).then((pkg) => ({pkg, path: fp}));
        });
      };
      module.exports.sync = (opts) => {
        const fp = findUp.sync("package.json", opts);
        if (!fp) {
          return {};
        }
        return {
          pkg: readPkg.sync(fp, opts),
          path: fp
        };
      };
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/conventional-changelog-core-npm-4.2.4-3507358941-9.zip/node_modules/conventional-changelog-core/lib/merge-config.js
  var require_merge_config = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/conventional-changelog-core-npm-4.2.4-3507358941-9.zip/node_modules/conventional-changelog-core/lib/merge-config.js"(exports, module) {
      "use strict";
      var dateFormat = require_dateformat();
      var getPkgRepo = require_src2();
      var gitSemverTags = require_git_semver_tags();
      var normalizePackageData = require_normalize();
      var Q = require_q();
      var gitRemoteOriginUrl;
      try {
        gitRemoteOriginUrl = require_git_remote_origin_url();
      } catch (err) {
        gitRemoteOriginUrl = function() {
          return Q.reject(err);
        };
      }
      var readPkg = require_read_pkg();
      var readPkgUp = require_read_pkg_up();
      var URL = __require("url").URL;
      var _ = require_lodash2();
      var rhosts = /github|bitbucket|gitlab/i;
      function semverTagsPromise(options) {
        return Q.Promise(function(resolve, reject) {
          gitSemverTags({lernaTags: !!options.lernaPackage, package: options.lernaPackage, tagPrefix: options.tagPrefix, skipUnstable: options.skipUnstable}, function(err, result) {
            if (err) {
              reject(err);
            } else {
              resolve(result);
            }
          });
        });
      }
      function guessNextTag(previousTag, version) {
        if (previousTag) {
          if (previousTag[0] === "v" && version[0] !== "v") {
            return "v" + version;
          }
          if (previousTag[0] !== "v" && version[0] === "v") {
            return version.replace(/^v/, "");
          }
          return version;
        }
        if (version[0] !== "v") {
          return "v" + version;
        }
        return version;
      }
      function mergeConfig(options, context, gitRawCommitsOpts, parserOpts, writerOpts, gitRawExecOpts) {
        let configPromise;
        let pkgPromise;
        context = context || {};
        gitRawCommitsOpts = gitRawCommitsOpts || {};
        gitRawExecOpts = gitRawExecOpts || {};
        const rtag = options && options.tagPrefix ? new RegExp(`tag:\\s*[=]?${options.tagPrefix}(.+?)[,)]`, "gi") : /tag:\s*[v=]?(.+?)[,)]/gi;
        options = _.merge({
          pkg: {
            transform: function(pkg) {
              return pkg;
            }
          },
          append: false,
          releaseCount: 1,
          skipUnstable: false,
          debug: function() {
          },
          transform: function(commit, cb) {
            if (_.isString(commit.gitTags)) {
              const match = rtag.exec(commit.gitTags);
              rtag.lastIndex = 0;
              if (match) {
                commit.version = match[1];
              }
            }
            if (commit.committerDate) {
              commit.committerDate = dateFormat(commit.committerDate, "yyyy-mm-dd", true);
            }
            cb(null, commit);
          },
          lernaPackage: null
        }, options);
        options.warn = options.warn || options.debug;
        if (options.config) {
          if (_.isFunction(options.config)) {
            configPromise = Q.nfcall(options.config);
          } else {
            configPromise = Q(options.config);
          }
        }
        if (options.pkg) {
          if (options.pkg.path) {
            pkgPromise = Q(readPkg(options.pkg.path));
          } else {
            pkgPromise = Q(readPkgUp());
          }
        }
        const gitRemoteOriginUrlPromise = Q(gitRemoteOriginUrl());
        return Q.allSettled([configPromise, pkgPromise, semverTagsPromise(options), gitRemoteOriginUrlPromise]).spread(function(configObj, pkgObj, tagsObj, gitRemoteOriginUrlObj) {
          let config;
          let pkg;
          let fromTag;
          let repo;
          let hostOpts;
          let gitSemverTags2 = [];
          if (configPromise) {
            if (configObj.state === "fulfilled") {
              config = configObj.value;
            } else {
              options.warn("Error in config" + configObj.reason.toString());
              config = {};
            }
          } else {
            config = {};
          }
          context = _.assign(context, config.context);
          if (options.pkg) {
            if (pkgObj.state === "fulfilled") {
              if (options.pkg.path) {
                pkg = pkgObj.value;
              } else {
                pkg = pkgObj.value.pkg || {};
              }
              pkg = options.pkg.transform(pkg);
            } else if (options.pkg.path) {
              options.warn(pkgObj.reason.toString());
            }
          }
          if ((!pkg || !pkg.repository || !pkg.repository.url) && gitRemoteOriginUrlObj.state === "fulfilled") {
            pkg = pkg || {};
            pkg.repository = pkg.repository || {};
            pkg.repository.url = gitRemoteOriginUrlObj.value;
            normalizePackageData(pkg);
          }
          if (pkg) {
            context.version = context.version || pkg.version;
            try {
              repo = getPkgRepo(pkg);
            } catch (err) {
              repo = {};
            }
            if (repo.browse) {
              const browse = repo.browse();
              if (!context.host) {
                if (repo.domain) {
                  const parsedBrowse = new URL(browse);
                  if (parsedBrowse.origin.indexOf("//") !== -1) {
                    context.host = parsedBrowse.protocol + "//" + repo.domain;
                  } else {
                    context.host = parsedBrowse.protocol + repo.domain;
                  }
                } else {
                  context.host = null;
                }
              }
              context.owner = context.owner || repo.user || "";
              context.repository = context.repository || repo.project;
              if (repo.host && repo.project && repo.user) {
                context.repoUrl = browse;
              } else {
                context.repoUrl = context.host;
              }
            }
            context.packageData = pkg;
          }
          context.version = context.version || "";
          if (tagsObj.state === "fulfilled") {
            gitSemverTags2 = context.gitSemverTags = tagsObj.value;
            fromTag = gitSemverTags2[options.releaseCount - 1];
            const lastTag = gitSemverTags2[0];
            if (lastTag === context.version || lastTag === "v" + context.version) {
              if (options.outputUnreleased) {
                context.version = "Unreleased";
              } else {
                options.outputUnreleased = false;
              }
            }
          }
          if (!_.isBoolean(options.outputUnreleased)) {
            options.outputUnreleased = true;
          }
          if (context.host && (!context.issue || !context.commit || !parserOpts || !parserOpts.referenceActions)) {
            let type;
            if (context.host) {
              const match = context.host.match(rhosts);
              if (match) {
                type = match[0];
              }
            } else if (repo && repo.type) {
              type = repo.type;
            }
            if (type) {
              hostOpts = __require("../hosts/" + type);
              context = _.assign({
                issue: hostOpts.issue,
                commit: hostOpts.commit
              }, context);
            } else {
              options.warn('Host: "' + context.host + '" does not exist');
              hostOpts = {};
            }
          } else {
            hostOpts = {};
          }
          if (context.resetChangelog) {
            fromTag = null;
          }
          gitRawCommitsOpts = _.assign({
            format: "%B%n-hash-%n%H%n-gitTags-%n%d%n-committerDate-%n%ci",
            from: fromTag,
            merges: false,
            debug: options.debug
          }, config.gitRawCommitsOpts, gitRawCommitsOpts);
          if (options.append) {
            gitRawCommitsOpts.reverse = gitRawCommitsOpts.reverse || true;
          }
          parserOpts = _.assign({}, config.parserOpts, {
            warn: options.warn
          }, parserOpts);
          if (hostOpts.referenceActions && parserOpts) {
            parserOpts.referenceActions = hostOpts.referenceActions;
          }
          if (_.isEmpty(parserOpts.issuePrefixes) && hostOpts.issuePrefixes) {
            parserOpts.issuePrefixes = hostOpts.issuePrefixes;
          }
          writerOpts = _.assign({
            finalizeContext: function(context2, writerOpts2, filteredCommits, keyCommit, originalCommits) {
              const firstCommit = originalCommits[0];
              const lastCommit = originalCommits[originalCommits.length - 1];
              const firstCommitHash = firstCommit ? firstCommit.hash : null;
              const lastCommitHash = lastCommit ? lastCommit.hash : null;
              if ((!context2.currentTag || !context2.previousTag) && keyCommit) {
                const match = /tag:\s*(.+?)[,)]/gi.exec(keyCommit.gitTags);
                const currentTag = context2.currentTag;
                context2.currentTag = currentTag || match ? match[1] : null;
                const index = gitSemverTags2.indexOf(context2.currentTag);
                if (index === -1) {
                  context2.currentTag = currentTag || null;
                } else {
                  const previousTag = context2.previousTag = gitSemverTags2[index + 1];
                  if (!previousTag) {
                    if (options.append) {
                      context2.previousTag = context2.previousTag || firstCommitHash;
                    } else {
                      context2.previousTag = context2.previousTag || lastCommitHash;
                    }
                  }
                }
              } else {
                context2.previousTag = context2.previousTag || gitSemverTags2[0];
                if (context2.version === "Unreleased") {
                  if (options.append) {
                    context2.currentTag = context2.currentTag || lastCommitHash;
                  } else {
                    context2.currentTag = context2.currentTag || firstCommitHash;
                  }
                } else if (!context2.currentTag) {
                  if (options.lernaPackage) {
                    context2.currentTag = options.lernaPackage + "@" + context2.version;
                  } else if (options.tagPrefix) {
                    context2.currentTag = options.tagPrefix + context2.version;
                  } else {
                    context2.currentTag = guessNextTag(gitSemverTags2[0], context2.version);
                  }
                }
              }
              if (!_.isBoolean(context2.linkCompare) && context2.previousTag && context2.currentTag) {
                context2.linkCompare = true;
              }
              return context2;
            },
            debug: options.debug
          }, config.writerOpts, {
            reverse: options.append,
            doFlush: options.outputUnreleased
          }, writerOpts);
          return {
            options,
            context,
            gitRawCommitsOpts,
            parserOpts,
            writerOpts,
            gitRawExecOpts
          };
        });
      }
      module.exports = mergeConfig;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/conventional-changelog-core-npm-4.2.4-3507358941-9.zip/node_modules/conventional-changelog-core/index.js
  var require_conventional_changelog_core = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/conventional-changelog-core-npm-4.2.4-3507358941-9.zip/node_modules/conventional-changelog-core/index.js"(exports, module) {
      "use strict";
      var addStream = require_add_stream();
      var gitRawCommits = require_git_raw_commits();
      var conventionalCommitsParser = require_conventional_commits_parser();
      var conventionalChangelogWriter = require_conventional_changelog_writer();
      var _ = require_lodash2();
      var stream = __require("stream");
      var through = require_through2();
      var execFileSync = __require("child_process").execFileSync;
      var mergeConfig = require_merge_config();
      function conventionalChangelog2(options, context, gitRawCommitsOpts, parserOpts, writerOpts, gitRawExecOpts) {
        writerOpts = writerOpts || {};
        const readable = new stream.Readable({
          objectMode: writerOpts.includeDetails
        });
        readable._read = function() {
        };
        let commitsErrorThrown = false;
        let commitsStream = new stream.Readable({
          objectMode: true
        });
        commitsStream._read = function() {
        };
        function commitsRange(from, to) {
          return gitRawCommits(_.merge({}, gitRawCommitsOpts, {
            from,
            to
          })).on("error", function(err) {
            if (!commitsErrorThrown) {
              setImmediate(commitsStream.emit.bind(commitsStream), "error", err);
              commitsErrorThrown = true;
            }
          });
        }
        mergeConfig(options, context, gitRawCommitsOpts, parserOpts, writerOpts, gitRawExecOpts).then(function(data) {
          options = data.options;
          context = data.context;
          gitRawCommitsOpts = data.gitRawCommitsOpts;
          parserOpts = data.parserOpts;
          writerOpts = data.writerOpts;
          gitRawExecOpts = data.gitRawExecOpts;
          try {
            execFileSync("git", ["rev-parse", "--verify", "HEAD"], {
              stdio: "ignore"
            });
            let reverseTags = context.gitSemverTags.slice(0).reverse();
            reverseTags.push("HEAD");
            if (gitRawCommitsOpts.from) {
              if (reverseTags.indexOf(gitRawCommitsOpts.from) !== -1) {
                reverseTags = reverseTags.slice(reverseTags.indexOf(gitRawCommitsOpts.from));
              } else {
                reverseTags = [gitRawCommitsOpts.from, "HEAD"];
              }
            }
            let streams = reverseTags.map((to, i) => {
              const from = i > 0 ? reverseTags[i - 1] : "";
              return commitsRange(from, to);
            });
            if (gitRawCommitsOpts.from) {
              streams = streams.splice(1);
            }
            if (gitRawCommitsOpts.reverse) {
              streams.reverse();
            }
            streams.reduce((prev, next) => next.pipe(addStream(prev))).on("data", function(data2) {
              setImmediate(commitsStream.emit.bind(commitsStream), "data", data2);
            }).on("end", function() {
              setImmediate(commitsStream.emit.bind(commitsStream), "end");
            });
          } catch (_e) {
            commitsStream = gitRawCommits(gitRawCommitsOpts, gitRawExecOpts);
          }
          commitsStream.on("error", function(err) {
            err.message = "Error in git-raw-commits: " + err.message;
            setImmediate(readable.emit.bind(readable), "error", err);
          }).pipe(conventionalCommitsParser(parserOpts)).on("error", function(err) {
            err.message = "Error in conventional-commits-parser: " + err.message;
            setImmediate(readable.emit.bind(readable), "error", err);
          }).pipe(through.obj(function(chunk, enc, cb) {
            try {
              options.transform.call(this, chunk, cb);
            } catch (err) {
              cb(err);
            }
          })).on("error", function(err) {
            err.message = "Error in options.transform: " + err.message;
            setImmediate(readable.emit.bind(readable), "error", err);
          }).pipe(conventionalChangelogWriter(context, writerOpts)).on("error", function(err) {
            err.message = "Error in conventional-changelog-writer: " + err.message;
            setImmediate(readable.emit.bind(readable), "error", err);
          }).pipe(through({
            objectMode: writerOpts.includeDetails
          }, function(chunk, enc, cb) {
            try {
              readable.push(chunk);
            } catch (err) {
              setImmediate(function() {
                throw err;
              });
            }
            cb();
          }, function(cb) {
            readable.push(null);
            cb();
          }));
        }).catch(function(err) {
          setImmediate(readable.emit.bind(readable), "error", err);
        });
        return readable;
      }
      module.exports = conventionalChangelog2;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/conventional-changelog-npm-3.1.25-dfc69e696b-9.zip/node_modules/conventional-changelog/index.js
  var require_conventional_changelog2 = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/conventional-changelog-npm-3.1.25-dfc69e696b-9.zip/node_modules/conventional-changelog/index.js"(exports, module) {
      "use strict";
      var conventionalChangelogCore = require_conventional_changelog_core();
      var conventionalChangelogPresetLoader = require_conventional_changelog_preset_loader();
      function conventionalChangelog2(options, context, gitRawCommitsOpts, parserOpts, writerOpts) {
        options.warn = options.warn || function() {
        };
        if (options.preset) {
          try {
            options.config = conventionalChangelogPresetLoader(options.preset);
          } catch (err) {
            if (typeof options.preset === "object") {
              options.warn(`Preset: "${options.preset.name}" ${err.message}`);
            } else if (typeof options.preset === "string") {
              options.warn(`Preset: "${options.preset}" ${err.message}`);
            } else {
              options.warn(`Preset: ${err.message}`);
            }
          }
        }
        return conventionalChangelogCore(options, context, gitRawCommitsOpts, parserOpts, writerOpts);
      }
      module.exports = conventionalChangelog2;
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/line-reader-npm-0.2.4-c477dde8b9-9.zip/node_modules/line-reader/lib/line_reader.js
  var require_line_reader = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/line-reader-npm-0.2.4-c477dde8b9-9.zip/node_modules/line-reader/lib/line_reader.js"(exports, module) {
      (function() {
        "use strict";
        var fs2 = __require("fs"), StringDecoder = __require("string_decoder").StringDecoder;
        function LineReader(fd, cb, separator, encoding, bufferSize) {
          var filePosition = 0, encoding = encoding || "utf8", separator = separator || "\n", bufferSize = bufferSize || 1024, buffer = new Buffer(bufferSize), bufferStr = "", decoder = new StringDecoder(encoding), closed = false, eof = false, separatorIndex = -1;
          function close() {
            if (!closed) {
              fs2.close(fd, function(err) {
                if (err) {
                  throw err;
                }
              });
              closed = true;
            }
          }
          function readToSeparator(cb2) {
            function readChunk() {
              fs2.read(fd, buffer, 0, bufferSize, filePosition, function(err, bytesRead) {
                var separatorAtEnd;
                if (err) {
                  throw err;
                }
                if (bytesRead < bufferSize) {
                  eof = true;
                  close();
                }
                filePosition += bytesRead;
                bufferStr += decoder.write(buffer.slice(0, bytesRead));
                if (separatorIndex < 0) {
                  separatorIndex = bufferStr.indexOf(separator);
                }
                separatorAtEnd = separatorIndex === bufferStr.length - 1;
                if (bytesRead && (separatorIndex === -1 || separatorAtEnd) && !eof) {
                  readChunk();
                } else {
                  cb2();
                }
              });
            }
            readChunk();
          }
          function hasNextLine() {
            return bufferStr.length > 0 || !eof;
          }
          function nextLine(cb2) {
            function getLine() {
              var ret = bufferStr.substring(0, separatorIndex);
              bufferStr = bufferStr.substring(separatorIndex + separator.length);
              separatorIndex = -1;
              cb2(ret);
            }
            if (separatorIndex < 0) {
              separatorIndex = bufferStr.indexOf(separator);
            }
            if (separatorIndex < 0) {
              if (eof) {
                if (hasNextLine()) {
                  separatorIndex = bufferStr.length;
                  getLine();
                } else {
                  throw new Error("No more lines to read.");
                }
              } else {
                readToSeparator(getLine);
              }
            } else {
              getLine();
            }
          }
          this.hasNextLine = hasNextLine;
          this.nextLine = nextLine;
          this.close = close;
          readToSeparator(cb);
        }
        function open(filename, cb, separator, encoding, bufferSize) {
          fs2.open(filename, "r", parseInt("666", 8), function(err, fd) {
            var reader;
            if (err) {
              throw err;
            }
            reader = new LineReader(fd, function() {
              cb(reader);
            }, separator, encoding, bufferSize);
          });
        }
        function eachLine(filename, cb, separator, encoding, bufferSize) {
          var finalFn, asyncCb = cb.length == 3;
          function finish() {
            if (finalFn && typeof finalFn === "function") {
              finalFn();
            }
          }
          open(filename, function(reader) {
            function newRead() {
              if (reader.hasNextLine()) {
                setImmediate(readNext);
              } else {
                finish();
              }
            }
            function continueCb(continueReading) {
              if (continueReading !== false) {
                newRead();
              } else {
                finish();
                reader.close();
              }
            }
            function readNext() {
              reader.nextLine(function(line) {
                var last = !reader.hasNextLine();
                if (asyncCb) {
                  cb(line, last, continueCb);
                } else {
                  if (cb(line, last) !== false) {
                    newRead();
                  } else {
                    finish();
                    reader.close();
                  }
                }
              });
            }
            newRead();
          }, separator, encoding, bufferSize);
          return {
            then: function(cb2) {
              finalFn = cb2;
            }
          };
        }
        module.exports.open = open;
        module.exports.eachLine = eachLine;
      })();
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/remove-markdown-npm-0.2.2-eb8f462ff9-9.zip/node_modules/remove-markdown/index.js
  var require_remove_markdown = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/remove-markdown-npm-0.2.2-eb8f462ff9-9.zip/node_modules/remove-markdown/index.js"(exports, module) {
      module.exports = function(md, options) {
        options = options || {};
        options.listUnicodeChar = options.hasOwnProperty("listUnicodeChar") ? options.listUnicodeChar : false;
        options.stripListLeaders = options.hasOwnProperty("stripListLeaders") ? options.stripListLeaders : true;
        options.gfm = options.hasOwnProperty("gfm") ? options.gfm : true;
        var output = md || "";
        output = output.replace(/^(-\s*?|\*\s*?|_\s*?){3,}\s*$/gm, "");
        try {
          if (options.stripListLeaders) {
            if (options.listUnicodeChar)
              output = output.replace(/^([\s\t]*)([\*\-\+]|\d+\.)\s+/gm, options.listUnicodeChar + " $1");
            else
              output = output.replace(/^([\s\t]*)([\*\-\+]|\d+\.)\s+/gm, "$1");
          }
          if (options.gfm) {
            output = output.replace(/\n={2,}/g, "\n").replace(/~~/g, "").replace(/`{3}.*\n/g, "");
          }
          output = output.replace(/<[^>]*>/g, "").replace(/^[=\-]{2,}\s*$/g, "").replace(/\[\^.+?\](\: .*?$)?/g, "").replace(/\s{0,2}\[.*?\]: .*?$/g, "").replace(/\!\[.*?\][\[\(].*?[\]\)]/g, "").replace(/\[(.*?)\][\[\(].*?[\]\)]/g, "$1").replace(/^\s{0,3}>\s?/g, "").replace(/^\s{1,2}\[(.*?)\]: (\S+)( ".*?")?\s*$/g, "").replace(/^(\n)?\s{0,}#{1,6}\s+| {0,}(\n)?\s{0,}#{0,} {0,}(\n)?\s{0,}$/gm, "$1$2$3").replace(/([\*_]{1,3})(\S.*?\S{0,1})\1/g, "$2").replace(/([\*_]{1,3})(\S.*?\S{0,1})\1/g, "$2").replace(/(`{3,})(.*?)\1/gm, "$2").replace(/`(.+?)`/g, "$1").replace(/\n{2,}/g, "\n\n");
        } catch (e) {
          console.error(e);
          return md;
        }
        return output;
      };
    }
  });

  // pnp:/Users/lupmtu1/.yarn/berry/cache/changelog-parser-npm-2.8.1-d401bef657-9.zip/node_modules/changelog-parser/index.js
  var require_changelog_parser = __commonJS({
    "pnp:/Users/lupmtu1/.yarn/berry/cache/changelog-parser-npm-2.8.1-d401bef657-9.zip/node_modules/changelog-parser/index.js"(exports, module) {
      var EOL = __require("os").EOL;
      var lineReader = require_line_reader();
      var removeMarkdown = require_remove_markdown();
      var semver2 = /\[?v?([\w\d.-]+\.[\w\d.-]+[a-zA-Z0-9])\]?/;
      var date = /.*[ ](\d\d?\d?\d?[-/.]\d\d?[-/.]\d\d?\d?\d?).*/;
      var subhead = /^###/;
      var listitem = /^[*-]/;
      var defaultOptions = {removeMarkdown: true};
      function parseChangelog3(options, callback) {
        if (typeof options === "undefined")
          throw new Error("missing options argument");
        if (typeof options === "string")
          options = {filePath: options};
        if (typeof options === "object") {
          const hasFilePath = typeof options.filePath !== "undefined";
          const hasText = typeof options.text !== "undefined";
          const invalidFilePath = typeof options.filePath !== "string";
          const invalidText = typeof options.text !== "string";
          if (!hasFilePath && !hasText) {
            throw new Error("must provide filePath or text");
          }
          if (hasFilePath && invalidFilePath) {
            throw new Error("invalid filePath, expected string");
          }
          if (hasText && invalidText) {
            throw new Error("invalid text, expected string");
          }
        }
        const opts = Object.assign({}, defaultOptions, options);
        const changelog2 = parse(opts);
        if (typeof callback === "function") {
          changelog2.then(function(log) {
            callback(null, log);
          }).catch(function(err) {
            callback(err);
          });
        }
        return changelog2;
      }
      function parse(options) {
        const filePath = options.filePath;
        const text = options.text;
        const data = {
          log: {versions: []},
          current: null
        };
        const cb = handleLine.bind(data, options);
        return new Promise(function(resolve, reject) {
          function done() {
            if (data.current) {
              pushCurrent(data);
            }
            data.log.description = clean(data.log.description);
            if (data.log.description === "")
              delete data.log.description;
            resolve(data.log);
          }
          if (text) {
            text.split(/\r\n?|\n/mg).forEach(cb);
            done();
          } else {
            lineReader.eachLine(filePath, cb, EOL).then(done);
          }
        });
      }
      function handleLine(options, line) {
        if (line.match(/^\[[^[\]]*\] *?:/))
          return;
        if (!this.log.title && line.match(/^# ?[^#]/)) {
          this.log.title = line.substring(1).trim();
          return;
        }
        if (line.match(/^##? ?[^#]/)) {
          if (this.current && this.current.title)
            pushCurrent(this);
          this.current = versionFactory();
          if (semver2.exec(line))
            this.current.version = semver2.exec(line)[1];
          this.current.title = line.substring(2).trim();
          if (this.current.title && date.exec(this.current.title))
            this.current.date = date.exec(this.current.title)[1];
          return;
        }
        if (this.current) {
          this.current.body += line + EOL;
          if (subhead.exec(line)) {
            const key = line.replace("###", "").trim();
            if (!this.current.parsed[key]) {
              this.current.parsed[key] = [];
              this.current._private.activeSubhead = key;
            }
          }
          if (listitem.exec(line)) {
            const log = options.removeMarkdown ? removeMarkdown(line) : line;
            this.current.parsed._.push(log);
            if (this.current._private.activeSubhead) {
              this.current.parsed[this.current._private.activeSubhead].push(log);
            }
          }
        } else {
          this.log.description = (this.log.description || "") + line + EOL;
        }
      }
      function versionFactory() {
        return {
          version: null,
          title: null,
          date: null,
          body: "",
          parsed: {
            _: []
          },
          _private: {
            activeSubhead: null
          }
        };
      }
      function pushCurrent(data) {
        delete data.current._private;
        data.current.body = clean(data.current.body);
        data.log.versions.push(data.current);
      }
      function clean(str) {
        if (!str)
          return "";
        str = str.trim();
        str = str.replace(new RegExp("[" + EOL + "]*"), "");
        str = str.replace(new RegExp("[" + EOL + "]*$"), "");
        return str;
      }
      module.exports = parseChangelog3;
    }
  });

  // pnp:/Users/lupmtu1/github/yarn-plugins/workspaces/plugins/gitversion/src/index.ts
  var src_exports = {};
  __export(src_exports, {
    BranchType: () => BranchType,
    DEFAULT_REPO_VERSION: () => DEFAULT_REPO_VERSION,
    GitVersionBumpCommand: () => GitVersionBumpCommand,
    GitVersionCheckCommand: () => GitVersionCheckCommand,
    GitVersionCommitCommand: () => GitVersionCommitCommand,
    GitVersionConfiguration: () => GitVersionConfiguration,
    GitVersionPublishCommand: () => GitVersionPublishCommand,
    GitVersionResetCommand: () => GitVersionResetCommand,
    GitVersionRestoreCommand: () => GitVersionRestoreCommand,
    GitVersionTagCommand: () => GitVersionTagCommand,
    addAndCommit: () => addAndCommit,
    bump: () => bump,
    checkGit: () => checkGit,
    currentBranch: () => currentBranch,
    default: () => src_default,
    execCapture: () => execCapture,
    tag: () => tag,
    tagPrefix: () => tagPrefix,
    updateWorkspaceWithVersion: () => updateWorkspaceWithVersion,
    updateWorkspacesWithVersion: () => updateWorkspacesWithVersion
  });

  // pnp:/Users/lupmtu1/github/yarn-plugins/workspaces/plugins/gitversion/src/utils/configuration.ts
  var import_core = __toModule(__require("@yarnpkg/core"));
  var import_clipanion = __toModule(__require("clipanion"));

  // pnp:/Users/lupmtu1/github/yarn-plugins/workspaces/plugins/gitversion/src/types.ts
  var BranchType;
  (function(BranchType2) {
    BranchType2["MAIN"] = "main";
    BranchType2["PRERELEASE"] = "prerelease";
    BranchType2["RELEASE"] = "release";
    BranchType2["FEATURE"] = "feature";
    BranchType2["UNKNOWN"] = "unknown";
  })(BranchType || (BranchType = {}));

  // pnp:/Users/lupmtu1/github/yarn-plugins/workspaces/plugins/gitversion/src/utils/exec.ts
  var import_child_process = __toModule(__require("child_process"));
  async function execCapture(command, args, cwd) {
    return new Promise((resolve, reject) => {
      const child = (0, import_child_process.spawn)(command, args, {
        cwd
      });
      let stdOut = "";
      let stdErr = "";
      child.stdout.on("data", (data) => {
        stdOut += data.toString();
      });
      child.stderr.on("data", (data) => {
        stdErr += data.toString();
      });
      child.on("close", (code) => {
        if (code === 0) {
          resolve({code, result: stdOut});
        } else {
          reject(new Error(stdOut + stdErr));
        }
      });
    });
  }

  // pnp:/Users/lupmtu1/github/yarn-plugins/workspaces/plugins/gitversion/src/utils/git.ts
  async function checkGit() {
    return execCapture("git", ["--version"]);
  }
  async function currentBranch() {
    if (process.env.BUILD_SOURCEBRANCHNAME) {
      return process.env.BUILD_SOURCEBRANCHNAME;
    }
    return (await execCapture("git", ["rev-parse", "--abbrev-ref", "HEAD"])).result.replace(/\n*$/, "");
  }
  async function tag(tagName, push) {
    await execCapture("git", ["tag", tagName]);
    if (push) {
      return execCapture("git", ["push", "--no-verify", "origin", tagName]);
    }
  }
  async function addAndCommit(files, message) {
    const addResponse = await execCapture("git", ["add", ...files]);
    console.log(addResponse.result);
    const commitResponse = await execCapture("git", ["commit", ...files, "-m", message]);
    console.log(commitResponse.result);
  }

  // pnp:/Users/lupmtu1/github/yarn-plugins/workspaces/plugins/gitversion/src/utils/configuration.ts
  var DEFAULT_REPO_VERSION = "0.0.0";
  var _GitVersionConfiguration = class {
    static async fromContext(yarnConfig, report) {
      const branch = await currentBranch();
      return new _GitVersionConfiguration(branch, yarnConfig, report);
    }
    constructor(branchName, yarnConfig, report) {
      this.yarnConfig = yarnConfig;
      const featurePattenStrings = yarnConfig.get("featureBranchPatterns");
      const releaseBranchPatternsStrings = yarnConfig.get("releaseBranchPatterns");
      this.featureBranchPatterns = featurePattenStrings.map((pattern) => new RegExp(pattern));
      this.releaseBranchPatterns = releaseBranchPatternsStrings.map((pattern) => new RegExp(pattern));
      this.mainBranch = yarnConfig.get("mainBranch");
      this.independentVersioning = yarnConfig.get("independentVersioning");
      this.versionTagPrefix = yarnConfig.get("versionTagPrefix");
      this.versionBranch = this.parse(branchName);
      report.reportInfoOnce(import_core.MessageName.UNNAMED, `Running on branch: '${branchName}'`);
      report.reportInfoOnce(import_core.MessageName.UNNAMED, `Detected branch type: '${this.versionBranch.branchType}'`);
    }
    parse(branchName) {
      if (this.mainBranch === branchName) {
        return {
          branchType: BranchType.MAIN,
          name: branchName
        };
      }
      for (let branchPattern of this.featureBranchPatterns) {
        if (branchPattern.test(branchName)) {
          const matches = branchPattern.exec(branchName);
          if (matches && matches.length === 2) {
            return {
              name: matches[1],
              branchType: BranchType.FEATURE
            };
          } else {
            throw new import_clipanion.UsageError(`The feature pattern '${branchPattern.source}' matched the current branch but it should result in exact 1 group match`);
          }
        }
      }
      for (let branchPattern of this.releaseBranchPatterns) {
        if (branchPattern.test(branchName)) {
          const matches = branchPattern.exec(branchName);
          if (matches && matches.length === 2) {
            return {
              name: matches[1],
              branchType: BranchType.RELEASE
            };
          } else {
            throw new import_clipanion.UsageError(`The release pattern '${branchPattern.source}' matched the current branch but it should result in exact 1 group match`);
          }
        }
      }
      return {
        name: "unknown",
        branchType: BranchType.UNKNOWN
      };
    }
  };
  var GitVersionConfiguration = _GitVersionConfiguration;
  GitVersionConfiguration.definition = {
    featureBranchPatterns: {
      description: `Feature branches. This will apply the following rules to bumps:
  - version pattern: 'x.x.x-<<feature>>.<<increment>>'
  - always increment on each commit
  - no checking for conventional commits in git history
  - publish on npm channel '<<feature>>'`,
      isArray: true,
      type: import_core.SettingsType.STRING,
      default: [
        "^feature/(.*)$"
      ]
    },
    releaseBranchPatterns: {
      description: `Release branches. This will apply the following rules to bumps:
  - Official release channels
  - Conventional commits enabled
  - publish on npm channel '<<release>>'`,
      isArray: true,
      type: import_core.SettingsType.STRING,
      default: [
        "^release/(.*)$"
      ]
    },
    mainBranch: {
      description: `The main branch. This is the official channel and will produce npm packages with the lates npm disttag`,
      type: import_core.SettingsType.STRING,
      default: "main"
    },
    independentVersioning: {
      description: "When independent versioning is enabled each package will have a different version based on the commits in the package folder",
      type: import_core.SettingsType.BOOLEAN,
      default: false
    },
    versionTagPrefix: {
      description: 'The prefix used for git tags. Defaults to "v"',
      type: import_core.SettingsType.STRING,
      default: "v"
    }
  };

  // pnp:/Users/lupmtu1/github/yarn-plugins/workspaces/plugins/gitversion/src/commands/restore.ts
  var import_cli = __toModule(__require("@yarnpkg/cli"));
  var import_core4 = __toModule(__require("@yarnpkg/core"));

  // pnp:/Users/lupmtu1/github/yarn-plugins/workspaces/plugins/gitversion/src/utils/tags.ts
  function tagPrefix(globalTagPrefix, locator) {
    let result = globalTagPrefix;
    if (locator) {
      if (locator.scope) {
        result += `@${locator.scope}/`;
      }
      result += locator.name;
      result += "-";
    }
    return result;
  }

  // pnp:/Users/lupmtu1/github/yarn-plugins/workspaces/plugins/gitversion/src/utils/workspace.ts
  var import_core2 = __toModule(__require("@yarnpkg/core"));
  async function updateWorkspacesWithVersion(workspaces, version, report) {
    return Promise.all(workspaces.map((workspace) => updateWorkspaceWithVersion(workspace, version, report)));
  }
  async function updateWorkspaceWithVersion(workspace, version, report) {
    if (workspace.manifest.version !== version) {
      report.reportInfo(import_core2.MessageName.UNNAMED, `${import_core2.structUtils.stringifyLocator(workspace.locator)} => ${version}`);
      workspace.manifest.version = version;
      return workspace.persistManifest();
    }
  }

  // pnp:/Users/lupmtu1/github/yarn-plugins/workspaces/plugins/gitversion/src/utils/report.ts
  var import_core3 = __toModule(__require("@yarnpkg/core"));
  async function runStep(name, context, cb) {
    const yarnConfig = await import_core3.Configuration.find(context.cwd, context.plugins);
    const resporter = await import_core3.StreamReport.start({
      configuration: yarnConfig,
      stdout: context.stdout
    }, async (report) => {
      await report.startTimerPromise(name, async () => {
        const configuration = await GitVersionConfiguration.fromContext(yarnConfig, report);
        await cb(report, configuration);
      });
    });
    resporter.exitCode();
  }

  // pnp:/Users/lupmtu1/github/yarn-plugins/workspaces/plugins/gitversion/src/commands/restore.ts
  var compareVersions = require_compare_versions();
  var GitVersionRestoreCommand = class extends import_cli.BaseCommand {
    async execute() {
      await runStep("Restore versions from git tags", this.context, async (report, configuration) => {
        if (configuration.versionBranch.branchType === BranchType.UNKNOWN) {
          report.reportError(import_core4.MessageName.UNNAMED, "Running on unknown branch type. Breaking off");
          return;
        }
        const {project} = await import_core4.Project.find(configuration.yarnConfig, this.context.cwd);
        if (configuration.independentVersioning) {
          const promises = project.workspaces.map((workspace) => this.updateWorkspaceFromGit(configuration.versionTagPrefix, configuration.versionBranch, workspace, report));
          Promise.all(promises);
        } else {
          const versionPromises = [
            this.determineCurrentGitVersion(configuration.versionTagPrefix, configuration.versionBranch),
            ...project.workspaces.map((workspace) => this.determineCurrentGitVersion(configuration.versionTagPrefix, configuration.versionBranch, workspace.locator))
          ];
          const versions = (await Promise.all(versionPromises)).sort(compareVersions).reverse();
          await updateWorkspacesWithVersion(project.workspaces, versions[0], report);
        }
      });
    }
    async updateWorkspaceFromGit(tagPrefix2, versionBranch, workspace, report) {
      const currentGitVersion = await this.determineCurrentGitVersion(tagPrefix2, versionBranch, workspace.locator);
      return updateWorkspaceWithVersion(workspace, currentGitVersion, report);
    }
    async determineCurrentGitVersion(defaultTagPrefix, versionBranch, childLocator) {
      const fullTagPrefix = tagPrefix(defaultTagPrefix, childLocator);
      const prefixFilter = `${fullTagPrefix}*`;
      const listGitTags = [
        "-c",
        "versionsort.suffix=-",
        "tag",
        "--sort=-version:refname",
        "--list",
        prefixFilter
      ];
      const stdout = (await execCapture("git", listGitTags)).result;
      let tags = stdout.split("\n");
      const officialTags = tags.filter((x) => new RegExp(`^${this.escapeRegExp(fullTagPrefix)}[0-9]+.[0-9]+.[0-9]+$`).test(x));
      if (versionBranch.branchType !== BranchType.MAIN) {
        const preReleaseTags = tags.filter((x) => new RegExp(`${fullTagPrefix}[0-9]+.[0-9]+.[0-9]+-${this.escapeRegExp(versionBranch.name)}.[0-9]+$`).test(x));
        if (preReleaseTags.length > 0) {
          tags = preReleaseTags;
        } else {
          tags = officialTags;
        }
      } else {
        tags = officialTags;
      }
      tags = tags.filter((x) => x);
      let latestTag;
      if (tags.length > 0) {
        latestTag = tags[0];
      } else {
        latestTag = "0.0.0";
      }
      let latestVersion = latestTag;
      const regexReplace = new RegExp(`^${this.escapeRegExp(fullTagPrefix)}`);
      latestVersion = latestVersion.replace(regexReplace, "");
      return latestVersion;
    }
    escapeRegExp(text) {
      return text.replace(/[.*+?^${}()|[\]\\]/g, "\\$&");
    }
  };
  GitVersionRestoreCommand.paths = [
    [`gitversion`, `restore`]
  ];

  // pnp:/Users/lupmtu1/github/yarn-plugins/workspaces/plugins/gitversion/src/commands/reset.ts
  var import_cli2 = __toModule(__require("@yarnpkg/cli"));
  var import_core5 = __toModule(__require("@yarnpkg/core"));
  var GitVersionResetCommand = class extends import_cli2.BaseCommand {
    async execute() {
      await runStep("Resetting file versions", this.context, async (report, configuration) => {
        const {project} = await import_core5.Project.find(configuration.yarnConfig, this.context.cwd);
        await updateWorkspacesWithVersion(project.workspaces, DEFAULT_REPO_VERSION, report);
      });
    }
  };
  GitVersionResetCommand.paths = [
    [`gitversion`, `reset`]
  ];

  // pnp:/Users/lupmtu1/github/yarn-plugins/workspaces/plugins/gitversion/src/commands/bump.ts
  var import_cli3 = __toModule(__require("@yarnpkg/cli"));
  var import_core8 = __toModule(__require("@yarnpkg/core"));

  // pnp:/Users/lupmtu1/github/yarn-plugins/workspaces/plugins/gitversion/src/utils/standard-version.ts
  var DEFAULT_FLAGS = [
    "--no-sign",
    "--skip.commit",
    "--skip.tag"
  ];
  async function bump(versionBranch, tagPrefix2, cwd, execCwd, explicitVersion) {
    const flags = [...DEFAULT_FLAGS];
    flags.push(`--path='${cwd}'`), flags.push(`--tag-prefix='${tagPrefix2}'`);
    flags.push(`--infile='${cwd}/CHANGELOG.md'`);
    if (explicitVersion) {
      flags.push(`--release-as='${explicitVersion}'`);
      flags.push(`--skip.bump`);
    }
    if (versionBranch.branchType === BranchType.FEATURE) {
      flags.push(`--prerelease=${versionBranch.name}`, "--skip.changelog");
      if (!explicitVersion) {
        flags.push("--release-as=patch");
      }
    } else if (versionBranch.branchType === BranchType.PRERELEASE || versionBranch.branchType === BranchType.RELEASE) {
      flags.push(`--prerelease=${versionBranch.name}`);
    } else if (versionBranch.branchType === BranchType.UNKNOWN) {
      return;
    }
    const result = await execCapture("yarn", ["standard-version", ...flags], execCwd);
    console.log(result.result);
    return;
  }

  // pnp:/Users/lupmtu1/github/yarn-plugins/workspaces/plugins/gitversion/src/utils/bump.ts
  var import_conventional_recommended_bump = __toModule(require_conventional_recommended_bump());
  var import_core6 = __toModule(__require("@yarnpkg/core"));
  var import_semver = __toModule(__require("semver"));

  // pnp:/Users/lupmtu1/github/yarn-plugins/workspaces/plugins/gitversion/src/utils/conventionalcommit.ts
  var import_conventional_changelog_conventionalcommits = __toModule(require_conventional_changelog_conventionalcommits());
  async function loadConfig(project) {
    return import_conventional_changelog_conventionalcommits.default;
  }

  // pnp:/Users/lupmtu1/github/yarn-plugins/workspaces/plugins/gitversion/src/utils/bump.ts
  async function bump2(versionBranch, tagPrefix2, project, workspace, report) {
    const currentVersion = workspace.manifest.version;
    if (!currentVersion) {
      report.reportWarning(import_core6.MessageName.UNNAMED, "No version in manifest. Breaking off");
      return;
    }
    return new Promise(async (resolve, reject) => {
      try {
        const config = await loadConfig(project);
        (0, import_conventional_recommended_bump.default)({
          config,
          tagPrefix: tagPrefix2,
          path: workspace.relativeCwd
        }, {
          headerPattern: /^(?:Merged PR \d+: )?(\w*)(?:\((.*)\))?!?: (.*)$/,
          breakingHeaderPattern: /^(?:Merged PR \d+: )?(\w*)(?:\((.*)\))?!: (.*)$/,
          revertPattern: /^(?:Merged PR \d+: )?(?:Revert|revert:)\s"?([\s\S]+?)"?\s*This reverts commit (\w*)\./i,
          warn: (msg) => report.reportWarning(import_core6.MessageName.UNNAMED, msg)
        }, (error, recommendation) => {
          var _a, _b, _c;
          if (recommendation.releaseType) {
            if (recommendation.reason) {
              report.reportInfo(import_core6.MessageName.UNNAMED, `${recommendation.reason} => ${recommendation.releaseType}`);
            }
            if (versionBranch.branchType == BranchType.MAIN) {
              report.reportInfo(import_core6.MessageName.UNNAMED, "Bumping official release");
              resolve((_a = import_semver.default.inc(currentVersion, recommendation.releaseType)) != null ? _a : void 0);
            } else {
              report.reportInfo(import_core6.MessageName.UNNAMED, `Bumping on prerelease ${versionBranch.name}`);
              if (import_semver.default.prerelease(currentVersion)) {
                resolve((_b = import_semver.default.inc(currentVersion, `prerelease`)) != null ? _b : void 0);
              } else {
                resolve((_c = import_semver.default.inc(currentVersion, `pre${recommendation.releaseType}`, versionBranch.name)) != null ? _c : void 0);
              }
            }
          }
        });
      } catch (error) {
        reject(error);
      }
    });
  }

  // pnp:/Users/lupmtu1/github/yarn-plugins/workspaces/plugins/gitversion/src/utils/changelog.ts
  var import_core7 = __toModule(__require("@yarnpkg/core"));
  var import_conventional_changelog = __toModule(require_conventional_changelog2());
  var fs = __toModule(__require("fs"));
  var import_path = __toModule(__require("path"));
  var START_OF_LAST_RELEASE_PATTERN = /(^#+ \[?[0-9]+\.[0-9]+\.[0-9]+|<a name=)/m;
  var CHANGELOG_FILE = "CHANGELOG.md";
  var LAST_RELEASE_PATTERN = /^#+ \[(.*)\]/m;
  async function changelog(versionBranch, newVersion, tagPrefix2, project, workspace, report) {
    return new Promise(async (resolve, reject) => {
      if (versionBranch.branchType === BranchType.FEATURE) {
        report.reportInfo(import_core7.MessageName.UNNAMED, "[CHANGELOG] Skipping changelog due to feature branch");
        return resolve(null);
      }
      try {
        const config = await loadConfig(project);
        const filename = (0, import_path.join)(workspace.cwd, CHANGELOG_FILE);
        const header = "# Changelog\n\nAll notable changes to this project will be documented in this file\n";
        let oldContent = fs.readFileSync(filename, "utf-8");
        const lastReleaseMatch = oldContent.match(LAST_RELEASE_PATTERN);
        if (lastReleaseMatch && lastReleaseMatch.length > 1) {
          if (lastReleaseMatch[1] === newVersion) {
            report.reportInfo(import_core7.MessageName.UNNAMED, "Release already in CHANGELOG.md. Skipping new update");
            return resolve(null);
          }
        }
        const oldContentStart = oldContent.search(START_OF_LAST_RELEASE_PATTERN);
        if (oldContentStart !== -1) {
          oldContent = oldContent.substring(oldContentStart);
        }
        let content = "";
        const changelogStream = (0, import_conventional_changelog.default)({
          config,
          tagPrefix: tagPrefix2,
          path: workspace.cwd
        }, {
          version: newVersion,
          host: "unknown"
        }, {
          merges: null,
          path: workspace.relativeCwd
        }, {
          headerPattern: /^(?:Merged PR \d+: )?(\w*)(?:\((.*)\))?!?: (.*)$/,
          breakingHeaderPattern: /^(?:Merged PR \d+: )?(\w*)(?:\((.*)\))?!: (.*)$/,
          revertPattern: /^(?:Merged PR \d+: )?(?:Revert|revert:)\s"?([\s\S]+?)"?\s*This reverts commit (\w*)\./i
        });
        changelogStream.on("data", function(buffer) {
          content += buffer.toString();
        });
        changelogStream.on("end", function() {
          report.reportInfo(import_core7.MessageName.UNNAMED, `[CHANGELOG] Outputting changes to ${import_core7.structUtils.stringifyLocator(workspace.locator)}/${CHANGELOG_FILE}`);
          fs.writeFileSync(filename, header + "\n" + (content + oldContent).replace(/\n+$/, "\n"), "utf-8");
        });
      } catch (error) {
        return reject(error);
      }
      resolve(null);
    });
  }

  // pnp:/Users/lupmtu1/github/yarn-plugins/workspaces/plugins/gitversion/src/commands/bump.ts
  var GitVersionBumpCommand = class extends import_cli3.BaseCommand {
    async execute() {
      const restoreCommand = new GitVersionRestoreCommand();
      restoreCommand.context = this.context;
      restoreCommand.cli = this.cli;
      await restoreCommand.execute();
      await runStep("Bump versions", this.context, async (report, configuration) => {
        if (configuration.versionBranch.branchType === BranchType.UNKNOWN) {
          report.reportError(import_core8.MessageName.UNNAMED, "Running on unknown branch type. Breaking off");
          return;
        }
        const {project} = await import_core8.Project.find(configuration.yarnConfig, this.context.cwd);
        if (configuration.independentVersioning) {
          report.reportError(import_core8.MessageName.UNNAMED, "IndependentVersioning is not implemented");
        } else {
          const version = await bump2(configuration.versionBranch, tagPrefix(configuration.versionTagPrefix), project, project.topLevelWorkspace, report);
          if (version) {
            await updateWorkspaceWithVersion(project.topLevelWorkspace, version, report);
            await updateWorkspacesWithVersion(project.topLevelWorkspace.getRecursiveWorkspaceChildren(), version, report);
            await changelog(configuration.versionBranch, version, tagPrefix(configuration.versionTagPrefix), project, project.topLevelWorkspace, report);
          }
        }
      });
    }
  };
  GitVersionBumpCommand.paths = [
    [`gitversion`, `bump`]
  ];

  // pnp:/Users/lupmtu1/github/yarn-plugins/workspaces/plugins/gitversion/src/commands/publish.ts
  var import_cli6 = __toModule(__require("@yarnpkg/cli"));
  var import_core11 = __toModule(__require("@yarnpkg/core"));
  var import_path2 = __toModule(__require("path"));

  // pnp:/Users/lupmtu1/github/yarn-plugins/workspaces/plugins/gitversion/src/commands/tag.ts
  var import_cli4 = __toModule(__require("@yarnpkg/cli"));
  var import_core9 = __toModule(__require("@yarnpkg/core"));
  var import_clipanion2 = __toModule(__require("clipanion"));
  var GitVersionTagCommand = class extends import_cli4.BaseCommand {
    constructor() {
      super(...arguments);
      this.push = import_clipanion2.Option.Boolean("Push the tags to git", true);
    }
    async execute() {
      await runStep("Resetting file versions", this.context, async (report, configuration) => {
        if (configuration.versionBranch.branchType === BranchType.UNKNOWN) {
          report.reportError(import_core9.MessageName.UNNAMED, "Running on unknown branch type. Breaking off");
          return;
        }
        const {project} = await import_core9.Project.find(configuration.yarnConfig, this.context.cwd);
        if (configuration.independentVersioning) {
          report.reportError(import_core9.MessageName.UNNAMED, "IndependentVersioning is not implemented");
        } else {
          const topVersion = project.topLevelWorkspace.manifest.version;
          if (!topVersion || topVersion === DEFAULT_REPO_VERSION) {
            report.reportInfo(import_core9.MessageName.UNNAMED, `No active bump detected. Skipping tag step`);
            return;
          }
          await tag(`${configuration.versionTagPrefix}${topVersion}`, this.push);
        }
      });
    }
  };
  GitVersionTagCommand.paths = [
    [`gitversion`, `tag`]
  ];

  // pnp:/Users/lupmtu1/github/yarn-plugins/workspaces/plugins/gitversion/src/commands/commit.ts
  var import_cli5 = __toModule(__require("@yarnpkg/cli"));
  var import_core10 = __toModule(__require("@yarnpkg/core"));
  var import_fs = __toModule(__require("fs"));
  var GitVersionCommitCommand = class extends import_cli5.BaseCommand {
    async execute() {
      await runStep("Commit changelogs", this.context, async (report, configuration) => {
        if (configuration.versionBranch.branchType === BranchType.UNKNOWN) {
          report.reportError(import_core10.MessageName.UNNAMED, "Running on unknown branch type. Breaking off");
          return;
        }
        const {project} = await import_core10.Project.find(configuration.yarnConfig, this.context.cwd);
        if (configuration.independentVersioning) {
          report.reportError(import_core10.MessageName.UNNAMED, "IndependentVersioning is not implemented");
        } else {
          const topVersion = project.topLevelWorkspace.manifest.version;
          const changelogFiles = project.workspaces.map((workspace) => `${workspace.cwd}/CHANGELOG.md`).filter((file) => (0, import_fs.existsSync)(file));
          if (changelogFiles.length === 0) {
            report.reportInfo(import_core10.MessageName.UNNAMED, "No changelog files to commit. Skipping commit step");
            return;
          }
          if (!topVersion || topVersion === DEFAULT_REPO_VERSION) {
            report.reportInfo(import_core10.MessageName.UNNAMED, `No active bump detected. Skipping commit step`);
            return;
          }
          await addAndCommit(changelogFiles, `chore(release): ${topVersion}`);
        }
      });
    }
  };
  GitVersionCommitCommand.paths = [
    [`gitversion`, `commit`]
  ];

  // pnp:/Users/lupmtu1/github/yarn-plugins/workspaces/plugins/gitversion/src/commands/publish.ts
  var import_fs2 = __toModule(__require("fs"));
  var import_clipanion3 = __toModule(__require("clipanion"));
  var parseChangelog = require_changelog_parser();
  var GitVersionPublishCommand = class extends import_cli6.BaseCommand {
    constructor() {
      super(...arguments);
      this.dryRun = import_clipanion3.Option.Boolean("--dryRun", false);
      this.skipTag = import_clipanion3.Option.Boolean("--skipTag", false);
      this.skipCommit = import_clipanion3.Option.Boolean("--skipCommit", false);
    }
    async execute() {
      const doSkipTag = this.dryRun || this.skipTag;
      if (!doSkipTag) {
        const tagCommand = new GitVersionTagCommand();
        tagCommand.context = this.context;
        tagCommand.cli = this.cli;
        await tagCommand.execute();
      } else {
        console.log("Skipping tag");
      }
      const doSkipCommit = this.dryRun || this.skipCommit;
      if (!doSkipCommit) {
        const commitCommand = new GitVersionCommitCommand();
        commitCommand.context = this.context;
        commitCommand.cli = this.cli;
        await commitCommand.execute();
      } else {
        console.log("Skipping commit");
      }
      await runStep("Pubishing packages", this.context, async (report, configuration) => {
        if (configuration.versionBranch.branchType === BranchType.UNKNOWN) {
          report.reportError(import_core11.MessageName.UNNAMED, "Running on unknown branch type. Breaking off");
          return;
        }
        const {project} = await import_core11.Project.find(configuration.yarnConfig, this.context.cwd);
        if (configuration.independentVersioning) {
          report.reportError(import_core11.MessageName.UNNAMED, "IndependentVersioning is not implemented");
        } else {
          const publicWorkspaces = project.workspaces.filter(this.filterPublicWorkspace);
          for (const workspace of publicWorkspaces) {
            let releaseTagPostfix = [];
            if (configuration.versionBranch.branchType === BranchType.FEATURE || configuration.versionBranch.branchType === BranchType.PRERELEASE) {
              releaseTagPostfix = ["--tag", configuration.versionBranch.name];
            }
            report.reportInfo(import_core11.MessageName.UNNAMED, `Publishing ${import_core11.structUtils.stringifyIdent(workspace.locator)}`);
            if (!this.dryRun) {
              await execCapture("yarn", ["npm", "publish", ...releaseTagPostfix], workspace.cwd);
            } else {
              report.reportInfo(import_core11.MessageName.UNNAMED, "skipping publish due to dryRun. Would run command:");
              report.reportInfo(import_core11.MessageName.UNNAMED, ["yarn", "npm", "publish", ...releaseTagPostfix].join(" "));
              report.reportInfo(import_core11.MessageName.UNNAMED, `In folder: ${workspace.cwd}`);
            }
          }
          const publishedVersion = __spreadProps(__spreadValues({}, await this.readChangeLog(project.topLevelWorkspace)), {
            packages: await Promise.all(publicWorkspaces.map((workspace) => this.readChangeLog(workspace)))
          });
          await project.configuration.triggerHook((hooks) => {
            return hooks.afterPublish;
          }, project, configuration.versionBranch, publishedVersion);
        }
      });
    }
    async readChangeLog(workspace) {
      var _a;
      const filePath = (0, import_path2.join)(workspace.cwd, "CHANGELOG.md");
      const releasedVersion = workspace.manifest.version;
      let currentReleaseChangelog;
      if ((0, import_fs2.existsSync)(filePath)) {
        const changeLog = await parseChangelog({
          filePath: (0, import_path2.join)(workspace.cwd, "CHANGELOG.md"),
          removeMarkdown: false
        });
        currentReleaseChangelog = (_a = changeLog.versions.find((versionEntry) => versionEntry.version === releasedVersion)) == null ? void 0 : _a.body;
      }
      return {
        version: releasedVersion || "0.0.0",
        changelog: currentReleaseChangelog,
        packageName: import_core11.structUtils.stringifyIdent(workspace.locator)
      };
    }
    filterPublicWorkspace(workspace) {
      return workspace.manifest.private === false;
    }
  };
  GitVersionPublishCommand.paths = [
    [`gitversion`, `publish`]
  ];

  // pnp:/Users/lupmtu1/github/yarn-plugins/workspaces/plugins/gitversion/src/commands/check.ts
  var import_cli7 = __toModule(__require("@yarnpkg/cli"));
  var import_core12 = __toModule(__require("@yarnpkg/core"));
  var GitVersionCheckCommand = class extends import_cli7.BaseCommand {
    async execute() {
      await runStep("Check gitversion plugin", this.context, async (report, configuration) => {
        report.reportInfo(import_core12.MessageName.UNNAMED, `Branch type: ${configuration.versionBranch.branchType}`);
        report.reportInfo(import_core12.MessageName.UNNAMED, `Branch name: ${configuration.versionBranch.name}`);
        const {project} = await import_core12.Project.find(configuration.yarnConfig, this.context.cwd);
        project.workspaces.forEach((child) => {
          report.reportInfo(import_core12.MessageName.UNNAMED, `${import_core12.structUtils.stringifyLocator(child.locator)} Private: ${child.manifest.private}`);
        });
      });
    }
  };
  GitVersionCheckCommand.paths = [
    [`gitversion`, `check`]
  ];

  // pnp:/Users/lupmtu1/github/yarn-plugins/workspaces/plugins/gitversion/src/commands/pack.ts
  var import_cli8 = __toModule(__require("@yarnpkg/cli"));
  var import_core13 = __toModule(__require("@yarnpkg/core"));
  var import_path3 = __toModule(__require("path"));
  var import_fs3 = __toModule(__require("fs"));
  var import_clipanion4 = __toModule(__require("clipanion"));
  var import_promises = __toModule(__require("fs/promises"));
  var parseChangelog2 = require_changelog_parser();
  var GitVersionPackCommand = class extends import_cli8.BaseCommand {
    constructor() {
      super(...arguments);
      this.outputFolder = import_clipanion4.Option.String("Output folder", "gitversion-package");
    }
    async execute() {
      await runStep("Packaging packages", this.context, async (report, configuration) => {
        if (configuration.versionBranch.branchType === BranchType.UNKNOWN) {
          report.reportError(import_core13.MessageName.UNNAMED, "Running on unknown branch type. Breaking off");
          return;
        }
        const {project} = await import_core13.Project.find(configuration.yarnConfig, this.context.cwd);
        if (configuration.independentVersioning) {
          report.reportError(import_core13.MessageName.UNNAMED, "IndependentVersioning is not implemented");
        } else {
          const publicWorkspaces = project.workspaces.filter(this.filterPublicWorkspace);
          const packFolder = (0, import_path3.join)(project.cwd, this.outputFolder);
          await (0, import_promises.mkdir)(packFolder, {
            recursive: true
          });
          for (const workspace of publicWorkspaces) {
            let releaseTagPostfix = [];
            if (configuration.versionBranch.branchType === BranchType.FEATURE || configuration.versionBranch.branchType === BranchType.PRERELEASE) {
              releaseTagPostfix = ["--tag", configuration.versionBranch.name];
            }
            report.reportInfo(import_core13.MessageName.UNNAMED, `Packing ${import_core13.structUtils.stringifyIdent(workspace.locator)}`);
            await execCapture("yarn", ["pack", "-o", (0, import_path3.join)(packFolder, `${workspace.locator.scope ? workspace.locator.scope + "-" : ""}${workspace.locator.name}-${workspace.manifest.version}.tgz`)], workspace.cwd);
          }
          const diff = await execCapture("git", ["diff", "--", "*CHANGELOG.md"], project.cwd);
          await (0, import_promises.writeFile)((0, import_path3.join)(packFolder, "changelog.diff.patch"), diff.result);
          const configContent = JSON.stringify({
            versionTag: configuration.versionBranch.name,
            version: project.topLevelWorkspace.manifest.version
          });
          await (0, import_promises.writeFile)((0, import_path3.join)(packFolder, "gitversion.config.json"), configContent, "utf-8");
        }
      });
    }
    async readChangeLog(workspace) {
      var _a;
      const filePath = (0, import_path3.join)(workspace.cwd, "CHANGELOG.md");
      const releasedVersion = workspace.manifest.version;
      let currentReleaseChangelog;
      if ((0, import_fs3.existsSync)(filePath)) {
        const changeLog = await parseChangelog2({
          filePath: (0, import_path3.join)(workspace.cwd, "CHANGELOG.md"),
          removeMarkdown: false
        });
        currentReleaseChangelog = (_a = changeLog.versions.find((versionEntry) => versionEntry.version === releasedVersion)) == null ? void 0 : _a.body;
      }
      return {
        version: releasedVersion || "0.0.0",
        changelog: currentReleaseChangelog,
        packageName: import_core13.structUtils.stringifyIdent(workspace.locator)
      };
    }
    filterPublicWorkspace(workspace) {
      return workspace.manifest.private === false;
    }
  };
  GitVersionPackCommand.paths = [
    [`gitversion`, `pack`]
  ];

  // pnp:/Users/lupmtu1/github/yarn-plugins/workspaces/plugins/gitversion/src/plugin.ts
  var plugin = {
    configuration: GitVersionConfiguration.definition,
    commands: [
      GitVersionCheckCommand,
      GitVersionRestoreCommand,
      GitVersionResetCommand,
      GitVersionBumpCommand,
      GitVersionTagCommand,
      GitVersionCommitCommand,
      GitVersionPublishCommand,
      GitVersionPackCommand
    ],
    hooks: {
      async wrapNetworkRequest(_executor, extra) {
        return _executor;
      }
    }
  };

  // pnp:/Users/lupmtu1/github/yarn-plugins/workspaces/plugins/gitversion/src/index.ts
  var src_default = plugin;
  return src_exports;
})();
/*!
 *
 * Copyright 2009-2017 Kris Kowal under the terms of the MIT
 * license found at https://github.com/kriskowal/q/blob/v1/LICENSE
 *
 * With parts by Tyler Close
 * Copyright 2007-2009 Tyler Close under the terms of the MIT X license found
 * at http://www.opensource.org/licenses/mit-license.html
 * Forked at ref_send.js version: 2009-05-11
 *
 * With parts by Mark Miller
 * Copyright (C) 2011 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */
return plugin;
}
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL2NvbXBhcmUtdmVyc2lvbnMtbnBtLTQuMS4zLWQ0YzRhN2Y0MTItOS56aXAvbm9kZV9tb2R1bGVzL2NvbXBhcmUtdmVyc2lvbnMvaW5kZXguanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL3JlYWRhYmxlLXN0cmVhbS1ucG0tMy42LjAtMjNhNGE1ZWI1Ni05LnppcC9ub2RlX21vZHVsZXMvcmVhZGFibGUtc3RyZWFtL2xpYi9pbnRlcm5hbC9zdHJlYW1zL3N0cmVhbS5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvcmVhZGFibGUtc3RyZWFtLW5wbS0zLjYuMC0yM2E0YTVlYjU2LTkuemlwL25vZGVfbW9kdWxlcy9yZWFkYWJsZS1zdHJlYW0vbGliL2ludGVybmFsL3N0cmVhbXMvYnVmZmVyX2xpc3QuanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL3JlYWRhYmxlLXN0cmVhbS1ucG0tMy42LjAtMjNhNGE1ZWI1Ni05LnppcC9ub2RlX21vZHVsZXMvcmVhZGFibGUtc3RyZWFtL2xpYi9pbnRlcm5hbC9zdHJlYW1zL2Rlc3Ryb3kuanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL3JlYWRhYmxlLXN0cmVhbS1ucG0tMy42LjAtMjNhNGE1ZWI1Ni05LnppcC9ub2RlX21vZHVsZXMvcmVhZGFibGUtc3RyZWFtL2Vycm9ycy5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvcmVhZGFibGUtc3RyZWFtLW5wbS0zLjYuMC0yM2E0YTVlYjU2LTkuemlwL25vZGVfbW9kdWxlcy9yZWFkYWJsZS1zdHJlYW0vbGliL2ludGVybmFsL3N0cmVhbXMvc3RhdGUuanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL2luaGVyaXRzLW5wbS0yLjAuNC1jNjZiMzk1N2EwLTkuemlwL25vZGVfbW9kdWxlcy9pbmhlcml0cy9pbmhlcml0c19icm93c2VyLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9pbmhlcml0cy1ucG0tMi4wLjQtYzY2YjM5NTdhMC05LnppcC9ub2RlX21vZHVsZXMvaW5oZXJpdHMvaW5oZXJpdHMuanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL3V0aWwtZGVwcmVjYXRlLW5wbS0xLjAuMi1lM2ZlMWEyMTljLTkuemlwL25vZGVfbW9kdWxlcy91dGlsLWRlcHJlY2F0ZS9ub2RlLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9yZWFkYWJsZS1zdHJlYW0tbnBtLTMuNi4wLTIzYTRhNWViNTYtOS56aXAvbm9kZV9tb2R1bGVzL3JlYWRhYmxlLXN0cmVhbS9saWIvX3N0cmVhbV93cml0YWJsZS5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvcmVhZGFibGUtc3RyZWFtLW5wbS0zLjYuMC0yM2E0YTVlYjU2LTkuemlwL25vZGVfbW9kdWxlcy9yZWFkYWJsZS1zdHJlYW0vbGliL19zdHJlYW1fZHVwbGV4LmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9zYWZlLWJ1ZmZlci1ucG0tNS4yLjEtMzQ4MWM4YWE5Yi05LnppcC9ub2RlX21vZHVsZXMvc2FmZS1idWZmZXIvaW5kZXguanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL3N0cmluZ19kZWNvZGVyLW5wbS0xLjMuMC0yNDIyMTE3ZmQwLTkuemlwL25vZGVfbW9kdWxlcy9zdHJpbmdfZGVjb2Rlci9saWIvc3RyaW5nX2RlY29kZXIuanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL3JlYWRhYmxlLXN0cmVhbS1ucG0tMy42LjAtMjNhNGE1ZWI1Ni05LnppcC9ub2RlX21vZHVsZXMvcmVhZGFibGUtc3RyZWFtL2xpYi9pbnRlcm5hbC9zdHJlYW1zL2VuZC1vZi1zdHJlYW0uanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL3JlYWRhYmxlLXN0cmVhbS1ucG0tMy42LjAtMjNhNGE1ZWI1Ni05LnppcC9ub2RlX21vZHVsZXMvcmVhZGFibGUtc3RyZWFtL2xpYi9pbnRlcm5hbC9zdHJlYW1zL2FzeW5jX2l0ZXJhdG9yLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9yZWFkYWJsZS1zdHJlYW0tbnBtLTMuNi4wLTIzYTRhNWViNTYtOS56aXAvbm9kZV9tb2R1bGVzL3JlYWRhYmxlLXN0cmVhbS9saWIvaW50ZXJuYWwvc3RyZWFtcy9mcm9tLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9yZWFkYWJsZS1zdHJlYW0tbnBtLTMuNi4wLTIzYTRhNWViNTYtOS56aXAvbm9kZV9tb2R1bGVzL3JlYWRhYmxlLXN0cmVhbS9saWIvX3N0cmVhbV9yZWFkYWJsZS5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvcmVhZGFibGUtc3RyZWFtLW5wbS0zLjYuMC0yM2E0YTVlYjU2LTkuemlwL25vZGVfbW9kdWxlcy9yZWFkYWJsZS1zdHJlYW0vbGliL19zdHJlYW1fdHJhbnNmb3JtLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9yZWFkYWJsZS1zdHJlYW0tbnBtLTMuNi4wLTIzYTRhNWViNTYtOS56aXAvbm9kZV9tb2R1bGVzL3JlYWRhYmxlLXN0cmVhbS9saWIvX3N0cmVhbV9wYXNzdGhyb3VnaC5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvcmVhZGFibGUtc3RyZWFtLW5wbS0zLjYuMC0yM2E0YTVlYjU2LTkuemlwL25vZGVfbW9kdWxlcy9yZWFkYWJsZS1zdHJlYW0vbGliL2ludGVybmFsL3N0cmVhbXMvcGlwZWxpbmUuanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL3JlYWRhYmxlLXN0cmVhbS1ucG0tMy42LjAtMjNhNGE1ZWI1Ni05LnppcC9ub2RlX21vZHVsZXMvcmVhZGFibGUtc3RyZWFtL3JlYWRhYmxlLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9idWZmZXItZnJvbS1ucG0tMS4xLjItMDNkMmYyMGQ3ZS05LnppcC9ub2RlX21vZHVsZXMvYnVmZmVyLWZyb20vaW5kZXguanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL3R5cGVkYXJyYXktbnBtLTAuMC42LTM3NjM4YjIyNDEtOS56aXAvbm9kZV9tb2R1bGVzL3R5cGVkYXJyYXkvaW5kZXguanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL2NvbmNhdC1zdHJlYW0tbnBtLTIuMC4wLThiYjJhZDVhYTAtOS56aXAvbm9kZV9tb2R1bGVzL2NvbmNhdC1zdHJlYW0vaW5kZXguanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL2xvZGFzaC5pc21hdGNoLW5wbS00LjQuMC1lNTM4ZmQ2YzNkLTkuemlwL25vZGVfbW9kdWxlcy9sb2Rhc2guaXNtYXRjaC9pbmRleC5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvbW9kaWZ5LXZhbHVlcy1ucG0tMS4wLjEtOWIyMzc3ZTE2Ni05LnppcC9ub2RlX21vZHVsZXMvbW9kaWZ5LXZhbHVlcy9pbmRleC5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvY29udmVudGlvbmFsLWNvbW1pdHMtZmlsdGVyLW5wbS0yLjAuNy04NzYyZWUzYmZhLTkuemlwL25vZGVfbW9kdWxlcy9jb252ZW50aW9uYWwtY29tbWl0cy1maWx0ZXIvaW5kZXguanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL2xvZGFzaC1ucG0tNC4xNy4yMS02MzgyNDUxNTE5LTkuemlwL25vZGVfbW9kdWxlcy9sb2Rhc2gvbG9kYXNoLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9jb252ZW50aW9uYWwtY29tbWl0cy1wYXJzZXItbnBtLTMuMi40LWQxZWJiNDhjZjYtOS56aXAvbm9kZV9tb2R1bGVzL2NvbnZlbnRpb25hbC1jb21taXRzLXBhcnNlci9saWIvcGFyc2VyLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9jb252ZW50aW9uYWwtY29tbWl0cy1wYXJzZXItbnBtLTMuMi40LWQxZWJiNDhjZjYtOS56aXAvbm9kZV9tb2R1bGVzL2NvbnZlbnRpb25hbC1jb21taXRzLXBhcnNlci9saWIvcmVnZXguanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL3Rocm91Z2gyLW5wbS00LjAuMi1kYTdiMmRhNDQzLTkuemlwL25vZGVfbW9kdWxlcy90aHJvdWdoMi90aHJvdWdoMi5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvY29udmVudGlvbmFsLWNvbW1pdHMtcGFyc2VyLW5wbS0zLjIuNC1kMWViYjQ4Y2Y2LTkuemlwL25vZGVfbW9kdWxlcy9jb252ZW50aW9uYWwtY29tbWl0cy1wYXJzZXIvaW5kZXguanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL2NvbnZlbnRpb25hbC1jaGFuZ2Vsb2ctcHJlc2V0LWxvYWRlci1ucG0tMi4zLjQtYTkwN2YyZTQ5YS05LnppcC9ub2RlX21vZHVsZXMvY29udmVudGlvbmFsLWNoYW5nZWxvZy1wcmVzZXQtbG9hZGVyL2luZGV4LmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9naXQtc2VtdmVyLXRhZ3MtbnBtLTQuMS4xLTkzYjk3NDc4MTEtOS56aXAvbm9kZV9tb2R1bGVzL2dpdC1zZW12ZXItdGFncy9pbmRleC5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvZGFyZ3MtbnBtLTcuMC4wLTYyNzAxZTBjN2EtOS56aXAvbm9kZV9tb2R1bGVzL2RhcmdzL2luZGV4LmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9zcGxpdDItbnBtLTMuMi4yLTRjY2QyMWI0ZjctOS56aXAvbm9kZV9tb2R1bGVzL3NwbGl0Mi9pbmRleC5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvbG9kYXNoLW5wbS00LjE3LjIxLTYzODI0NTE1MTktOS56aXAvbm9kZV9tb2R1bGVzL2xvZGFzaC9fZnJlZUdsb2JhbC5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvbG9kYXNoLW5wbS00LjE3LjIxLTYzODI0NTE1MTktOS56aXAvbm9kZV9tb2R1bGVzL2xvZGFzaC9fcm9vdC5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvbG9kYXNoLW5wbS00LjE3LjIxLTYzODI0NTE1MTktOS56aXAvbm9kZV9tb2R1bGVzL2xvZGFzaC9fU3ltYm9sLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9sb2Rhc2gtbnBtLTQuMTcuMjEtNjM4MjQ1MTUxOS05LnppcC9ub2RlX21vZHVsZXMvbG9kYXNoL19nZXRSYXdUYWcuanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL2xvZGFzaC1ucG0tNC4xNy4yMS02MzgyNDUxNTE5LTkuemlwL25vZGVfbW9kdWxlcy9sb2Rhc2gvX29iamVjdFRvU3RyaW5nLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9sb2Rhc2gtbnBtLTQuMTcuMjEtNjM4MjQ1MTUxOS05LnppcC9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlR2V0VGFnLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9sb2Rhc2gtbnBtLTQuMTcuMjEtNjM4MjQ1MTUxOS05LnppcC9ub2RlX21vZHVsZXMvbG9kYXNoL2lzT2JqZWN0LmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9sb2Rhc2gtbnBtLTQuMTcuMjEtNjM4MjQ1MTUxOS05LnppcC9ub2RlX21vZHVsZXMvbG9kYXNoL2lzRnVuY3Rpb24uanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL2xvZGFzaC1ucG0tNC4xNy4yMS02MzgyNDUxNTE5LTkuemlwL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2NvcmVKc0RhdGEuanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL2xvZGFzaC1ucG0tNC4xNy4yMS02MzgyNDUxNTE5LTkuemlwL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2lzTWFza2VkLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9sb2Rhc2gtbnBtLTQuMTcuMjEtNjM4MjQ1MTUxOS05LnppcC9ub2RlX21vZHVsZXMvbG9kYXNoL190b1NvdXJjZS5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvbG9kYXNoLW5wbS00LjE3LjIxLTYzODI0NTE1MTktOS56aXAvbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZUlzTmF0aXZlLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9sb2Rhc2gtbnBtLTQuMTcuMjEtNjM4MjQ1MTUxOS05LnppcC9ub2RlX21vZHVsZXMvbG9kYXNoL19nZXRWYWx1ZS5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvbG9kYXNoLW5wbS00LjE3LjIxLTYzODI0NTE1MTktOS56aXAvbm9kZV9tb2R1bGVzL2xvZGFzaC9fZ2V0TmF0aXZlLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9sb2Rhc2gtbnBtLTQuMTcuMjEtNjM4MjQ1MTUxOS05LnppcC9ub2RlX21vZHVsZXMvbG9kYXNoL19kZWZpbmVQcm9wZXJ0eS5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvbG9kYXNoLW5wbS00LjE3LjIxLTYzODI0NTE1MTktOS56aXAvbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZUFzc2lnblZhbHVlLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9sb2Rhc2gtbnBtLTQuMTcuMjEtNjM4MjQ1MTUxOS05LnppcC9ub2RlX21vZHVsZXMvbG9kYXNoL2VxLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9sb2Rhc2gtbnBtLTQuMTcuMjEtNjM4MjQ1MTUxOS05LnppcC9ub2RlX21vZHVsZXMvbG9kYXNoL19hc3NpZ25WYWx1ZS5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvbG9kYXNoLW5wbS00LjE3LjIxLTYzODI0NTE1MTktOS56aXAvbm9kZV9tb2R1bGVzL2xvZGFzaC9fY29weU9iamVjdC5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvbG9kYXNoLW5wbS00LjE3LjIxLTYzODI0NTE1MTktOS56aXAvbm9kZV9tb2R1bGVzL2xvZGFzaC9pZGVudGl0eS5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvbG9kYXNoLW5wbS00LjE3LjIxLTYzODI0NTE1MTktOS56aXAvbm9kZV9tb2R1bGVzL2xvZGFzaC9fYXBwbHkuanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL2xvZGFzaC1ucG0tNC4xNy4yMS02MzgyNDUxNTE5LTkuemlwL25vZGVfbW9kdWxlcy9sb2Rhc2gvX292ZXJSZXN0LmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9sb2Rhc2gtbnBtLTQuMTcuMjEtNjM4MjQ1MTUxOS05LnppcC9ub2RlX21vZHVsZXMvbG9kYXNoL2NvbnN0YW50LmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9sb2Rhc2gtbnBtLTQuMTcuMjEtNjM4MjQ1MTUxOS05LnppcC9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlU2V0VG9TdHJpbmcuanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL2xvZGFzaC1ucG0tNC4xNy4yMS02MzgyNDUxNTE5LTkuemlwL25vZGVfbW9kdWxlcy9sb2Rhc2gvX3Nob3J0T3V0LmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9sb2Rhc2gtbnBtLTQuMTcuMjEtNjM4MjQ1MTUxOS05LnppcC9ub2RlX21vZHVsZXMvbG9kYXNoL19zZXRUb1N0cmluZy5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvbG9kYXNoLW5wbS00LjE3LjIxLTYzODI0NTE1MTktOS56aXAvbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZVJlc3QuanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL2xvZGFzaC1ucG0tNC4xNy4yMS02MzgyNDUxNTE5LTkuemlwL25vZGVfbW9kdWxlcy9sb2Rhc2gvaXNMZW5ndGguanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL2xvZGFzaC1ucG0tNC4xNy4yMS02MzgyNDUxNTE5LTkuemlwL25vZGVfbW9kdWxlcy9sb2Rhc2gvaXNBcnJheUxpa2UuanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL2xvZGFzaC1ucG0tNC4xNy4yMS02MzgyNDUxNTE5LTkuemlwL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2lzSW5kZXguanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL2xvZGFzaC1ucG0tNC4xNy4yMS02MzgyNDUxNTE5LTkuemlwL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2lzSXRlcmF0ZWVDYWxsLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9sb2Rhc2gtbnBtLTQuMTcuMjEtNjM4MjQ1MTUxOS05LnppcC9ub2RlX21vZHVsZXMvbG9kYXNoL19jcmVhdGVBc3NpZ25lci5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvbG9kYXNoLW5wbS00LjE3LjIxLTYzODI0NTE1MTktOS56aXAvbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZVRpbWVzLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9sb2Rhc2gtbnBtLTQuMTcuMjEtNjM4MjQ1MTUxOS05LnppcC9ub2RlX21vZHVsZXMvbG9kYXNoL2lzT2JqZWN0TGlrZS5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvbG9kYXNoLW5wbS00LjE3LjIxLTYzODI0NTE1MTktOS56aXAvbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZUlzQXJndW1lbnRzLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9sb2Rhc2gtbnBtLTQuMTcuMjEtNjM4MjQ1MTUxOS05LnppcC9ub2RlX21vZHVsZXMvbG9kYXNoL2lzQXJndW1lbnRzLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9sb2Rhc2gtbnBtLTQuMTcuMjEtNjM4MjQ1MTUxOS05LnppcC9ub2RlX21vZHVsZXMvbG9kYXNoL2lzQXJyYXkuanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL2xvZGFzaC1ucG0tNC4xNy4yMS02MzgyNDUxNTE5LTkuemlwL25vZGVfbW9kdWxlcy9sb2Rhc2gvc3R1YkZhbHNlLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9sb2Rhc2gtbnBtLTQuMTcuMjEtNjM4MjQ1MTUxOS05LnppcC9ub2RlX21vZHVsZXMvbG9kYXNoL2lzQnVmZmVyLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9sb2Rhc2gtbnBtLTQuMTcuMjEtNjM4MjQ1MTUxOS05LnppcC9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlSXNUeXBlZEFycmF5LmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9sb2Rhc2gtbnBtLTQuMTcuMjEtNjM4MjQ1MTUxOS05LnppcC9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlVW5hcnkuanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL2xvZGFzaC1ucG0tNC4xNy4yMS02MzgyNDUxNTE5LTkuemlwL25vZGVfbW9kdWxlcy9sb2Rhc2gvX25vZGVVdGlsLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9sb2Rhc2gtbnBtLTQuMTcuMjEtNjM4MjQ1MTUxOS05LnppcC9ub2RlX21vZHVsZXMvbG9kYXNoL2lzVHlwZWRBcnJheS5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvbG9kYXNoLW5wbS00LjE3LjIxLTYzODI0NTE1MTktOS56aXAvbm9kZV9tb2R1bGVzL2xvZGFzaC9fYXJyYXlMaWtlS2V5cy5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvbG9kYXNoLW5wbS00LjE3LjIxLTYzODI0NTE1MTktOS56aXAvbm9kZV9tb2R1bGVzL2xvZGFzaC9faXNQcm90b3R5cGUuanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL2xvZGFzaC1ucG0tNC4xNy4yMS02MzgyNDUxNTE5LTkuemlwL25vZGVfbW9kdWxlcy9sb2Rhc2gvX25hdGl2ZUtleXNJbi5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvbG9kYXNoLW5wbS00LjE3LjIxLTYzODI0NTE1MTktOS56aXAvbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZUtleXNJbi5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvbG9kYXNoLW5wbS00LjE3LjIxLTYzODI0NTE1MTktOS56aXAvbm9kZV9tb2R1bGVzL2xvZGFzaC9rZXlzSW4uanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL2xvZGFzaC1ucG0tNC4xNy4yMS02MzgyNDUxNTE5LTkuemlwL25vZGVfbW9kdWxlcy9sb2Rhc2gvYXNzaWduSW5XaXRoLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9sb2Rhc2gtbnBtLTQuMTcuMjEtNjM4MjQ1MTUxOS05LnppcC9ub2RlX21vZHVsZXMvbG9kYXNoL19vdmVyQXJnLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9sb2Rhc2gtbnBtLTQuMTcuMjEtNjM4MjQ1MTUxOS05LnppcC9ub2RlX21vZHVsZXMvbG9kYXNoL19nZXRQcm90b3R5cGUuanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL2xvZGFzaC1ucG0tNC4xNy4yMS02MzgyNDUxNTE5LTkuemlwL25vZGVfbW9kdWxlcy9sb2Rhc2gvaXNQbGFpbk9iamVjdC5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvbG9kYXNoLW5wbS00LjE3LjIxLTYzODI0NTE1MTktOS56aXAvbm9kZV9tb2R1bGVzL2xvZGFzaC9pc0Vycm9yLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9sb2Rhc2gtbnBtLTQuMTcuMjEtNjM4MjQ1MTUxOS05LnppcC9ub2RlX21vZHVsZXMvbG9kYXNoL2F0dGVtcHQuanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL2xvZGFzaC1ucG0tNC4xNy4yMS02MzgyNDUxNTE5LTkuemlwL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2FycmF5TWFwLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9sb2Rhc2gtbnBtLTQuMTcuMjEtNjM4MjQ1MTUxOS05LnppcC9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlVmFsdWVzLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9sb2Rhc2gtbnBtLTQuMTcuMjEtNjM4MjQ1MTUxOS05LnppcC9ub2RlX21vZHVsZXMvbG9kYXNoL19jdXN0b21EZWZhdWx0c0Fzc2lnbkluLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9sb2Rhc2gtbnBtLTQuMTcuMjEtNjM4MjQ1MTUxOS05LnppcC9ub2RlX21vZHVsZXMvbG9kYXNoL19lc2NhcGVTdHJpbmdDaGFyLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9sb2Rhc2gtbnBtLTQuMTcuMjEtNjM4MjQ1MTUxOS05LnppcC9ub2RlX21vZHVsZXMvbG9kYXNoL19uYXRpdmVLZXlzLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9sb2Rhc2gtbnBtLTQuMTcuMjEtNjM4MjQ1MTUxOS05LnppcC9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlS2V5cy5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvbG9kYXNoLW5wbS00LjE3LjIxLTYzODI0NTE1MTktOS56aXAvbm9kZV9tb2R1bGVzL2xvZGFzaC9rZXlzLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9sb2Rhc2gtbnBtLTQuMTcuMjEtNjM4MjQ1MTUxOS05LnppcC9ub2RlX21vZHVsZXMvbG9kYXNoL19yZUludGVycG9sYXRlLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9sb2Rhc2gtbnBtLTQuMTcuMjEtNjM4MjQ1MTUxOS05LnppcC9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlUHJvcGVydHlPZi5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvbG9kYXNoLW5wbS00LjE3LjIxLTYzODI0NTE1MTktOS56aXAvbm9kZV9tb2R1bGVzL2xvZGFzaC9fZXNjYXBlSHRtbENoYXIuanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL2xvZGFzaC1ucG0tNC4xNy4yMS02MzgyNDUxNTE5LTkuemlwL25vZGVfbW9kdWxlcy9sb2Rhc2gvaXNTeW1ib2wuanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL2xvZGFzaC1ucG0tNC4xNy4yMS02MzgyNDUxNTE5LTkuemlwL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VUb1N0cmluZy5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvbG9kYXNoLW5wbS00LjE3LjIxLTYzODI0NTE1MTktOS56aXAvbm9kZV9tb2R1bGVzL2xvZGFzaC90b1N0cmluZy5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvbG9kYXNoLW5wbS00LjE3LjIxLTYzODI0NTE1MTktOS56aXAvbm9kZV9tb2R1bGVzL2xvZGFzaC9lc2NhcGUuanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL2xvZGFzaC1ucG0tNC4xNy4yMS02MzgyNDUxNTE5LTkuemlwL25vZGVfbW9kdWxlcy9sb2Rhc2gvX3JlRXNjYXBlLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9sb2Rhc2gtbnBtLTQuMTcuMjEtNjM4MjQ1MTUxOS05LnppcC9ub2RlX21vZHVsZXMvbG9kYXNoL19yZUV2YWx1YXRlLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9sb2Rhc2gtbnBtLTQuMTcuMjEtNjM4MjQ1MTUxOS05LnppcC9ub2RlX21vZHVsZXMvbG9kYXNoL3RlbXBsYXRlU2V0dGluZ3MuanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL2xvZGFzaC1ucG0tNC4xNy4yMS02MzgyNDUxNTE5LTkuemlwL25vZGVfbW9kdWxlcy9sb2Rhc2gvdGVtcGxhdGUuanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL2dpdC1yYXctY29tbWl0cy1ucG0tMi4wLjExLWIwOTBmMmY2ODQtOS56aXAvbm9kZV9tb2R1bGVzL2dpdC1yYXctY29tbWl0cy9pbmRleC5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvcS1ucG0tMS41LjEtYTI4YjNjZmVhZi05LnppcC9ub2RlX21vZHVsZXMvcS9xLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9jb252ZW50aW9uYWwtcmVjb21tZW5kZWQtYnVtcC1ucG0tNi4xLjAtMThhNmRiMGNlOS05LnppcC9ub2RlX21vZHVsZXMvY29udmVudGlvbmFsLXJlY29tbWVuZGVkLWJ1bXAvcHJlc2V0LXJlc29sdmVyLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9jb252ZW50aW9uYWwtcmVjb21tZW5kZWQtYnVtcC1ucG0tNi4xLjAtMThhNmRiMGNlOS05LnppcC9ub2RlX21vZHVsZXMvY29udmVudGlvbmFsLXJlY29tbWVuZGVkLWJ1bXAvaW5kZXguanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxL2dpdGh1Yi95YXJuLXBsdWdpbnMvLnlhcm4vdW5wbHVnZ2VkL2NvbnZlbnRpb25hbC1jaGFuZ2Vsb2ctY29udmVudGlvbmFsY29tbWl0cy1ucG0tNS4wLjAtYTI3MDIwMmZlOC9ub2RlX21vZHVsZXMvY29udmVudGlvbmFsLWNoYW5nZWxvZy1jb252ZW50aW9uYWxjb21taXRzL3BhcnNlci1vcHRzLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS9naXRodWIveWFybi1wbHVnaW5zLy55YXJuL3VucGx1Z2dlZC9jb252ZW50aW9uYWwtY2hhbmdlbG9nLWNvbnZlbnRpb25hbGNvbW1pdHMtbnBtLTUuMC4wLWEyNzAyMDJmZTgvbm9kZV9tb2R1bGVzL2NvbnZlbnRpb25hbC1jaGFuZ2Vsb2ctY29udmVudGlvbmFsY29tbWl0cy9hZGQtYmFuZy1ub3Rlcy5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvYXJyYXktaWZ5LW5wbS0xLjAuMC1lMDlhMzcxOTc3LTkuemlwL25vZGVfbW9kdWxlcy9hcnJheS1pZnkvaW5kZXguanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL2lzLW9iai1ucG0tMi4wLjAtM2Q5NWUwNTNmNC05LnppcC9ub2RlX21vZHVsZXMvaXMtb2JqL2luZGV4LmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9kb3QtcHJvcC1ucG0tNS4zLjAtN2JmNmVlMWViOC05LnppcC9ub2RlX21vZHVsZXMvZG90LXByb3AvaW5kZXguanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL2NvbXBhcmUtZnVuYy1ucG0tMi4wLjAtOWNkNzg1MmYyMy05LnppcC9ub2RlX21vZHVsZXMvY29tcGFyZS1mdW5jL2luZGV4LmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS9naXRodWIveWFybi1wbHVnaW5zLy55YXJuL3VucGx1Z2dlZC9jb252ZW50aW9uYWwtY2hhbmdlbG9nLWNvbnZlbnRpb25hbGNvbW1pdHMtbnBtLTUuMC4wLWEyNzAyMDJmZTgvbm9kZV9tb2R1bGVzL2NvbnZlbnRpb25hbC1jaGFuZ2Vsb2ctY29udmVudGlvbmFsY29tbWl0cy93cml0ZXItb3B0cy5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvZ2l0aHViL3lhcm4tcGx1Z2lucy8ueWFybi91bnBsdWdnZWQvY29udmVudGlvbmFsLWNoYW5nZWxvZy1jb252ZW50aW9uYWxjb21taXRzLW5wbS01LjAuMC1hMjcwMjAyZmU4L25vZGVfbW9kdWxlcy9jb252ZW50aW9uYWwtY2hhbmdlbG9nLWNvbnZlbnRpb25hbGNvbW1pdHMvY29udmVudGlvbmFsLWNoYW5nZWxvZy5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvZ2l0aHViL3lhcm4tcGx1Z2lucy8ueWFybi91bnBsdWdnZWQvY29udmVudGlvbmFsLWNoYW5nZWxvZy1jb252ZW50aW9uYWxjb21taXRzLW5wbS01LjAuMC1hMjcwMjAyZmU4L25vZGVfbW9kdWxlcy9jb252ZW50aW9uYWwtY2hhbmdlbG9nLWNvbnZlbnRpb25hbGNvbW1pdHMvY29udmVudGlvbmFsLXJlY29tbWVuZGVkLWJ1bXAuanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxL2dpdGh1Yi95YXJuLXBsdWdpbnMvLnlhcm4vdW5wbHVnZ2VkL2NvbnZlbnRpb25hbC1jaGFuZ2Vsb2ctY29udmVudGlvbmFsY29tbWl0cy1ucG0tNS4wLjAtYTI3MDIwMmZlOC9ub2RlX21vZHVsZXMvY29udmVudGlvbmFsLWNoYW5nZWxvZy1jb252ZW50aW9uYWxjb21taXRzL2luZGV4LmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9hZGQtc3RyZWFtLW5wbS0xLjAuMC1hNWEwYzA0OThjLTkuemlwL25vZGVfbW9kdWxlcy9hZGQtc3RyZWFtL2luZGV4LmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9kYXRlZm9ybWF0LW5wbS0zLjAuMy1lZDAyZTVkZGJkLTkuemlwL25vZGVfbW9kdWxlcy9kYXRlZm9ybWF0L2xpYi9kYXRlZm9ybWF0LmpzIiwgIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL3V0aWxzLmpzIiwgIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2V4Y2VwdGlvbi5qcyIsICIuLi8uLi8uLi8uLi9saWIvaGFuZGxlYmFycy9oZWxwZXJzL2Jsb2NrLWhlbHBlci1taXNzaW5nLmpzIiwgIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2hlbHBlcnMvZWFjaC5qcyIsICIuLi8uLi8uLi8uLi9saWIvaGFuZGxlYmFycy9oZWxwZXJzL2hlbHBlci1taXNzaW5nLmpzIiwgIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2hlbHBlcnMvaWYuanMiLCAiLi4vLi4vLi4vLi4vbGliL2hhbmRsZWJhcnMvaGVscGVycy9sb2cuanMiLCAiLi4vLi4vLi4vLi4vbGliL2hhbmRsZWJhcnMvaGVscGVycy9sb29rdXAuanMiLCAiLi4vLi4vLi4vLi4vbGliL2hhbmRsZWJhcnMvaGVscGVycy93aXRoLmpzIiwgIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2hlbHBlcnMuanMiLCAiLi4vLi4vLi4vLi4vbGliL2hhbmRsZWJhcnMvZGVjb3JhdG9ycy9pbmxpbmUuanMiLCAiLi4vLi4vLi4vbGliL2hhbmRsZWJhcnMvZGVjb3JhdG9ycy5qcyIsICIuLi8uLi8uLi9saWIvaGFuZGxlYmFycy9sb2dnZXIuanMiLCAiLi4vLi4vLi4vLi4vbGliL2hhbmRsZWJhcnMvaW50ZXJuYWwvY3JlYXRlLW5ldy1sb29rdXAtb2JqZWN0LmpzIiwgIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2ludGVybmFsL3Byb3RvLWFjY2Vzcy5qcyIsICIuLi8uLi8uLi9saWIvaGFuZGxlYmFycy9iYXNlLmpzIiwgIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL3NhZmUtc3RyaW5nLmpzIiwgIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2ludGVybmFsL3dyYXBIZWxwZXIuanMiLCAiLi4vLi4vLi4vbGliL2hhbmRsZWJhcnMvcnVudGltZS5qcyIsICIuLi8uLi8uLi9saWIvaGFuZGxlYmFycy9uby1jb25mbGljdC5qcyIsICIuLi8uLi9saWIvaGFuZGxlYmFycy5ydW50aW1lLmpzIiwgIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2NvbXBpbGVyL2FzdC5qcyIsICIuLi8uLi8uLi8uLi9saWIvaGFuZGxlYmFycy9jb21waWxlci9wYXJzZXIuanMiLCAiLi4vLi4vLi4vLi4vbGliL2hhbmRsZWJhcnMvY29tcGlsZXIvdmlzaXRvci5qcyIsICIuLi8uLi8uLi8uLi9saWIvaGFuZGxlYmFycy9jb21waWxlci93aGl0ZXNwYWNlLWNvbnRyb2wuanMiLCAiLi4vLi4vLi4vLi4vbGliL2hhbmRsZWJhcnMvY29tcGlsZXIvaGVscGVycy5qcyIsICIuLi8uLi8uLi8uLi9saWIvaGFuZGxlYmFycy9jb21waWxlci9iYXNlLmpzIiwgIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2NvbXBpbGVyL2NvbXBpbGVyLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9zb3VyY2UtbWFwLW5wbS0wLjYuMS0xYTM2MjFkYjE2LTkuemlwL25vZGVfbW9kdWxlcy9zb3VyY2UtbWFwL2xpYi9iYXNlNjQuanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL3NvdXJjZS1tYXAtbnBtLTAuNi4xLTFhMzYyMWRiMTYtOS56aXAvbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAvbGliL2Jhc2U2NC12bHEuanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL3NvdXJjZS1tYXAtbnBtLTAuNi4xLTFhMzYyMWRiMTYtOS56aXAvbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAvbGliL3V0aWwuanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL3NvdXJjZS1tYXAtbnBtLTAuNi4xLTFhMzYyMWRiMTYtOS56aXAvbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAvbGliL2FycmF5LXNldC5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvc291cmNlLW1hcC1ucG0tMC42LjEtMWEzNjIxZGIxNi05LnppcC9ub2RlX21vZHVsZXMvc291cmNlLW1hcC9saWIvbWFwcGluZy1saXN0LmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9zb3VyY2UtbWFwLW5wbS0wLjYuMS0xYTM2MjFkYjE2LTkuemlwL25vZGVfbW9kdWxlcy9zb3VyY2UtbWFwL2xpYi9zb3VyY2UtbWFwLWdlbmVyYXRvci5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvc291cmNlLW1hcC1ucG0tMC42LjEtMWEzNjIxZGIxNi05LnppcC9ub2RlX21vZHVsZXMvc291cmNlLW1hcC9saWIvYmluYXJ5LXNlYXJjaC5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvc291cmNlLW1hcC1ucG0tMC42LjEtMWEzNjIxZGIxNi05LnppcC9ub2RlX21vZHVsZXMvc291cmNlLW1hcC9saWIvcXVpY2stc29ydC5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvc291cmNlLW1hcC1ucG0tMC42LjEtMWEzNjIxZGIxNi05LnppcC9ub2RlX21vZHVsZXMvc291cmNlLW1hcC9saWIvc291cmNlLW1hcC1jb25zdW1lci5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvc291cmNlLW1hcC1ucG0tMC42LjEtMWEzNjIxZGIxNi05LnppcC9ub2RlX21vZHVsZXMvc291cmNlLW1hcC9saWIvc291cmNlLW5vZGUuanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL3NvdXJjZS1tYXAtbnBtLTAuNi4xLTFhMzYyMWRiMTYtOS56aXAvbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAvc291cmNlLW1hcC5qcyIsICIuLi8uLi8uLi8uLi9saWIvaGFuZGxlYmFycy9jb21waWxlci9jb2RlLWdlbi5qcyIsICIuLi8uLi8uLi8uLi9saWIvaGFuZGxlYmFycy9jb21waWxlci9qYXZhc2NyaXB0LWNvbXBpbGVyLmpzIiwgIi4uLy4uL2xpYi9oYW5kbGViYXJzLmpzIiwgIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2NvbXBpbGVyL3ByaW50ZXIuanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL2hhbmRsZWJhcnMtbnBtLTQuNy43LWE5Y2NmYWJmODAtOS56aXAvbm9kZV9tb2R1bGVzL2hhbmRsZWJhcnMvbGliL2luZGV4LmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9qc29uLXN0cmluZ2lmeS1zYWZlLW5wbS01LjAuMS0wNjRkZGQ2YWI0LTkuemlwL25vZGVfbW9kdWxlcy9qc29uLXN0cmluZ2lmeS1zYWZlL3N0cmluZ2lmeS5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvY29udmVudGlvbmFsLWNoYW5nZWxvZy13cml0ZXItbnBtLTUuMC4xLWM3ZDhmNDEzMmYtOS56aXAvbm9kZV9tb2R1bGVzL2NvbnZlbnRpb25hbC1jaGFuZ2Vsb2ctd3JpdGVyL2xpYi91dGlsLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9jb252ZW50aW9uYWwtY2hhbmdlbG9nLXdyaXRlci1ucG0tNS4wLjEtYzdkOGY0MTMyZi05LnppcC9ub2RlX21vZHVsZXMvY29udmVudGlvbmFsLWNoYW5nZWxvZy13cml0ZXIvaW5kZXguanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL2hvc3RlZC1naXQtaW5mby1ucG0tNC4xLjAtNGVmY2RmOGZkMy05LnppcC9ub2RlX21vZHVsZXMvaG9zdGVkLWdpdC1pbmZvL2dpdC1ob3N0LWluZm8uanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL2hvc3RlZC1naXQtaW5mby1ucG0tNC4xLjAtNGVmY2RmOGZkMy05LnppcC9ub2RlX21vZHVsZXMvaG9zdGVkLWdpdC1pbmZvL2dpdC1ob3N0LmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS95YWxsaXN0LW5wbS00LjAuMC1iNDkzZDllOTA3LTkuemlwL25vZGVfbW9kdWxlcy95YWxsaXN0L2l0ZXJhdG9yLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS95YWxsaXN0LW5wbS00LjAuMC1iNDkzZDllOTA3LTkuemlwL25vZGVfbW9kdWxlcy95YWxsaXN0L3lhbGxpc3QuanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL2xydS1jYWNoZS1ucG0tNi4wLjAtYjRjODY2OGZlMS05LnppcC9ub2RlX21vZHVsZXMvbHJ1LWNhY2hlL2luZGV4LmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9ob3N0ZWQtZ2l0LWluZm8tbnBtLTQuMS4wLTRlZmNkZjhmZDMtOS56aXAvbm9kZV9tb2R1bGVzL2hvc3RlZC1naXQtaW5mby9pbmRleC5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvQGh1dHNvbi1wYXJzZS1yZXBvc2l0b3J5LXVybC1ucG0tMy4wLjItYWU1ZWYxYjY3MS05LnppcC9ub2RlX21vZHVsZXMvQGh1dHNvbi9wYXJzZS1yZXBvc2l0b3J5LXVybC9zcmMvaW5kZXguanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL2dldC1wa2ctcmVwby1ucG0tNC4yLjEtYjFjZDA1MmNiNC05LnppcC9ub2RlX21vZHVsZXMvZ2V0LXBrZy1yZXBvL3NyYy9pbmRleC5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvc2VtdmVyLW5wbS03LjMuNy0zYmZlNzA0MTk0LTkuemlwL25vZGVfbW9kdWxlcy9zZW12ZXIvaW50ZXJuYWwvY29uc3RhbnRzLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9zZW12ZXItbnBtLTcuMy43LTNiZmU3MDQxOTQtOS56aXAvbm9kZV9tb2R1bGVzL3NlbXZlci9pbnRlcm5hbC9kZWJ1Zy5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvc2VtdmVyLW5wbS03LjMuNy0zYmZlNzA0MTk0LTkuemlwL25vZGVfbW9kdWxlcy9zZW12ZXIvaW50ZXJuYWwvcmUuanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL3NlbXZlci1ucG0tNy4zLjctM2JmZTcwNDE5NC05LnppcC9ub2RlX21vZHVsZXMvc2VtdmVyL2ludGVybmFsL3BhcnNlLW9wdGlvbnMuanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL3NlbXZlci1ucG0tNy4zLjctM2JmZTcwNDE5NC05LnppcC9ub2RlX21vZHVsZXMvc2VtdmVyL2ludGVybmFsL2lkZW50aWZpZXJzLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9zZW12ZXItbnBtLTcuMy43LTNiZmU3MDQxOTQtOS56aXAvbm9kZV9tb2R1bGVzL3NlbXZlci9jbGFzc2VzL3NlbXZlci5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvc2VtdmVyLW5wbS03LjMuNy0zYmZlNzA0MTk0LTkuemlwL25vZGVfbW9kdWxlcy9zZW12ZXIvZnVuY3Rpb25zL3BhcnNlLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9zZW12ZXItbnBtLTcuMy43LTNiZmU3MDQxOTQtOS56aXAvbm9kZV9tb2R1bGVzL3NlbXZlci9mdW5jdGlvbnMvdmFsaWQuanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL3NlbXZlci1ucG0tNy4zLjctM2JmZTcwNDE5NC05LnppcC9ub2RlX21vZHVsZXMvc2VtdmVyL2Z1bmN0aW9ucy9jbGVhbi5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvc3BkeC1leHByZXNzaW9uLXBhcnNlLW5wbS0zLjAuMS1iNzE4Y2JiMzVhLTkuemlwL25vZGVfbW9kdWxlcy9zcGR4LWV4cHJlc3Npb24tcGFyc2Uvc2Nhbi5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvc3BkeC1leHByZXNzaW9uLXBhcnNlLW5wbS0zLjAuMS1iNzE4Y2JiMzVhLTkuemlwL25vZGVfbW9kdWxlcy9zcGR4LWV4cHJlc3Npb24tcGFyc2UvcGFyc2UuanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL3NwZHgtZXhwcmVzc2lvbi1wYXJzZS1ucG0tMy4wLjEtYjcxOGNiYjM1YS05LnppcC9ub2RlX21vZHVsZXMvc3BkeC1leHByZXNzaW9uLXBhcnNlL2luZGV4LmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9zcGR4LWNvcnJlY3QtbnBtLTMuMS4xLTQ3ZjU3NGMyN2EtOS56aXAvbm9kZV9tb2R1bGVzL3NwZHgtY29ycmVjdC9pbmRleC5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvdmFsaWRhdGUtbnBtLXBhY2thZ2UtbGljZW5zZS1ucG0tMy4wLjQtN2FmOGFkYzdhOC05LnppcC9ub2RlX21vZHVsZXMvdmFsaWRhdGUtbnBtLXBhY2thZ2UtbGljZW5zZS9pbmRleC5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvZnVuY3Rpb24tYmluZC1ucG0tMS4xLjEtYjU2YjMyMmFlOS05LnppcC9ub2RlX21vZHVsZXMvZnVuY3Rpb24tYmluZC9pbXBsZW1lbnRhdGlvbi5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvZnVuY3Rpb24tYmluZC1ucG0tMS4xLjEtYjU2YjMyMmFlOS05LnppcC9ub2RlX21vZHVsZXMvZnVuY3Rpb24tYmluZC9pbmRleC5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvaGFzLW5wbS0xLjAuMy1iN2YwMDYzMWMxLTkuemlwL25vZGVfbW9kdWxlcy9oYXMvc3JjL2luZGV4LmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9pcy1jb3JlLW1vZHVsZS1ucG0tMi45LjAtNWJhNzdjMzVhZS05LnppcC9ub2RlX21vZHVsZXMvaXMtY29yZS1tb2R1bGUvaW5kZXguanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL25vcm1hbGl6ZS1wYWNrYWdlLWRhdGEtbnBtLTMuMC4zLTFhNDkwNTY2ODUtOS56aXAvbm9kZV9tb2R1bGVzL25vcm1hbGl6ZS1wYWNrYWdlLWRhdGEvbGliL2V4dHJhY3RfZGVzY3JpcHRpb24uanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL25vcm1hbGl6ZS1wYWNrYWdlLWRhdGEtbnBtLTMuMC4zLTFhNDkwNTY2ODUtOS56aXAvbm9kZV9tb2R1bGVzL25vcm1hbGl6ZS1wYWNrYWdlLWRhdGEvbGliL2ZpeGVyLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9ub3JtYWxpemUtcGFja2FnZS1kYXRhLW5wbS0zLjAuMy0xYTQ5MDU2Njg1LTkuemlwL25vZGVfbW9kdWxlcy9ub3JtYWxpemUtcGFja2FnZS1kYXRhL2xpYi9tYWtlX3dhcm5pbmcuanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL25vcm1hbGl6ZS1wYWNrYWdlLWRhdGEtbnBtLTMuMC4zLTFhNDkwNTY2ODUtOS56aXAvbm9kZV9tb2R1bGVzL25vcm1hbGl6ZS1wYWNrYWdlLWRhdGEvbGliL25vcm1hbGl6ZS5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvaW5pLW5wbS0xLjMuOC1mYjUwNDBiNGMwLTkuemlwL25vZGVfbW9kdWxlcy9pbmkvaW5pLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9naXRjb25maWdsb2NhbC1ucG0tMS4wLjAtOTA1OTcwMzc5ZC05LnppcC9ub2RlX21vZHVsZXMvZ2l0Y29uZmlnbG9jYWwvaW5kZXguanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL3BpZnktbnBtLTIuMy4wLThiNjMzMTA5MzQtOS56aXAvbm9kZV9tb2R1bGVzL3BpZnkvaW5kZXguanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL2dpdC1yZW1vdGUtb3JpZ2luLXVybC1ucG0tMi4wLjAtMzE5ZGViZTBkMS05LnppcC9ub2RlX21vZHVsZXMvZ2l0LXJlbW90ZS1vcmlnaW4tdXJsL2luZGV4LmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9ncmFjZWZ1bC1mcy1ucG0tNC4yLjEwLTc5YzcwOTg5Y2EtOS56aXAvbm9kZV9tb2R1bGVzL2dyYWNlZnVsLWZzL3BvbHlmaWxscy5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvZ3JhY2VmdWwtZnMtbnBtLTQuMi4xMC03OWM3MDk4OWNhLTkuemlwL25vZGVfbW9kdWxlcy9ncmFjZWZ1bC1mcy9sZWdhY3ktc3RyZWFtcy5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvZ3JhY2VmdWwtZnMtbnBtLTQuMi4xMC03OWM3MDk4OWNhLTkuemlwL25vZGVfbW9kdWxlcy9ncmFjZWZ1bC1mcy9jbG9uZS5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvZ3JhY2VmdWwtZnMtbnBtLTQuMi4xMC03OWM3MDk4OWNhLTkuemlwL25vZGVfbW9kdWxlcy9ncmFjZWZ1bC1mcy9ncmFjZWZ1bC1mcy5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvc3RyaXAtYm9tLW5wbS0zLjAuMC03MWU4ZjgxZmY5LTkuemlwL25vZGVfbW9kdWxlcy9zdHJpcC1ib20vaW5kZXguanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL2lzLWFycmF5aXNoLW5wbS0wLjIuMS0yMzkyN2RmYjE1LTkuemlwL25vZGVfbW9kdWxlcy9pcy1hcnJheWlzaC9pbmRleC5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvZXJyb3ItZXgtbnBtLTEuMy4yLTU2NTRmODBjMGYtOS56aXAvbm9kZV9tb2R1bGVzL2Vycm9yLWV4L2luZGV4LmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9qc29uLXBhcnNlLWJldHRlci1lcnJvcnMtbnBtLTEuMC4yLTdmMzc2MzdkMTktOS56aXAvbm9kZV9tb2R1bGVzL2pzb24tcGFyc2UtYmV0dGVyLWVycm9ycy9pbmRleC5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvcGFyc2UtanNvbi1ucG0tNC4wLjAtYTZmNzc3MTAxMC05LnppcC9ub2RlX21vZHVsZXMvcGFyc2UtanNvbi9pbmRleC5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvcGlmeS1ucG0tMy4wLjAtNjc5ZWU0MDVjOC05LnppcC9ub2RlX21vZHVsZXMvcGlmeS9pbmRleC5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvbG9hZC1qc29uLWZpbGUtbnBtLTQuMC4wLWM5ZjA5ZDg1ZWItOS56aXAvbm9kZV9tb2R1bGVzL2xvYWQtanNvbi1maWxlL2luZGV4LmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9wYXRoLXR5cGUtbnBtLTMuMC4wLTI1MjM2MWEwZWItOS56aXAvbm9kZV9tb2R1bGVzL3BhdGgtdHlwZS9pbmRleC5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvaG9zdGVkLWdpdC1pbmZvLW5wbS0yLjguOS02MmM0NGZhOTNmLTkuemlwL25vZGVfbW9kdWxlcy9ob3N0ZWQtZ2l0LWluZm8vZ2l0LWhvc3QtaW5mby5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvaG9zdGVkLWdpdC1pbmZvLW5wbS0yLjguOS02MmM0NGZhOTNmLTkuemlwL25vZGVfbW9kdWxlcy9ob3N0ZWQtZ2l0LWluZm8vZ2l0LWhvc3QuanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL2hvc3RlZC1naXQtaW5mby1ucG0tMi44LjktNjJjNDRmYTkzZi05LnppcC9ub2RlX21vZHVsZXMvaG9zdGVkLWdpdC1pbmZvL2luZGV4LmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9yZXNvbHZlLXBhdGNoLWJjMjZjMjVmYmItOS56aXAvbm9kZV9tb2R1bGVzL3Jlc29sdmUvbGliL2hvbWVkaXIuanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL3Jlc29sdmUtcGF0Y2gtYmMyNmMyNWZiYi05LnppcC9ub2RlX21vZHVsZXMvcmVzb2x2ZS9saWIvY2FsbGVyLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9wYXRoLXBhcnNlLW5wbS0xLjAuNy0wOTU2NDUyN2I3LTkuemlwL25vZGVfbW9kdWxlcy9wYXRoLXBhcnNlL2luZGV4LmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9yZXNvbHZlLXBhdGNoLWJjMjZjMjVmYmItOS56aXAvbm9kZV9tb2R1bGVzL3Jlc29sdmUvbGliL25vZGUtbW9kdWxlcy1wYXRocy5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvcmVzb2x2ZS1wYXRjaC1iYzI2YzI1ZmJiLTkuemlwL25vZGVfbW9kdWxlcy9yZXNvbHZlL2xpYi9ub3JtYWxpemUtb3B0aW9ucy5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvcmVzb2x2ZS1wYXRjaC1iYzI2YzI1ZmJiLTkuemlwL25vZGVfbW9kdWxlcy9yZXNvbHZlL2xpYi9hc3luYy5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvcmVzb2x2ZS1wYXRjaC1iYzI2YzI1ZmJiLTkuemlwL25vZGVfbW9kdWxlcy9yZXNvbHZlL2xpYi9jb3JlLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9yZXNvbHZlLXBhdGNoLWJjMjZjMjVmYmItOS56aXAvbm9kZV9tb2R1bGVzL3Jlc29sdmUvbGliL2lzLWNvcmUuanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL3Jlc29sdmUtcGF0Y2gtYmMyNmMyNWZiYi05LnppcC9ub2RlX21vZHVsZXMvcmVzb2x2ZS9saWIvc3luYy5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvcmVzb2x2ZS1wYXRjaC1iYzI2YzI1ZmJiLTkuemlwL25vZGVfbW9kdWxlcy9yZXNvbHZlL2luZGV4LmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9ub3JtYWxpemUtcGFja2FnZS1kYXRhLW5wbS0yLjUuMC1hZjAzNDVkZWVkLTkuemlwL25vZGVfbW9kdWxlcy9ub3JtYWxpemUtcGFja2FnZS1kYXRhL2xpYi9leHRyYWN0X2Rlc2NyaXB0aW9uLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9ub3JtYWxpemUtcGFja2FnZS1kYXRhLW5wbS0yLjUuMC1hZjAzNDVkZWVkLTkuemlwL25vZGVfbW9kdWxlcy9ub3JtYWxpemUtcGFja2FnZS1kYXRhL2xpYi9maXhlci5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvbm9ybWFsaXplLXBhY2thZ2UtZGF0YS1ucG0tMi41LjAtYWYwMzQ1ZGVlZC05LnppcC9ub2RlX21vZHVsZXMvbm9ybWFsaXplLXBhY2thZ2UtZGF0YS9saWIvbWFrZV93YXJuaW5nLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9ub3JtYWxpemUtcGFja2FnZS1kYXRhLW5wbS0yLjUuMC1hZjAzNDVkZWVkLTkuemlwL25vZGVfbW9kdWxlcy9ub3JtYWxpemUtcGFja2FnZS1kYXRhL2xpYi9ub3JtYWxpemUuanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL3JlYWQtcGtnLW5wbS0zLjAuMC00MTQ3MTQzNmNiLTkuemlwL25vZGVfbW9kdWxlcy9yZWFkLXBrZy9pbmRleC5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvcGF0aC1leGlzdHMtbnBtLTMuMC4wLWU4MDM3MWFhNjgtOS56aXAvbm9kZV9tb2R1bGVzL3BhdGgtZXhpc3RzL2luZGV4LmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9wLXRyeS1ucG0tMS4wLjAtNzM3MzEzOWU0MC05LnppcC9ub2RlX21vZHVsZXMvcC10cnkvaW5kZXguanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL3AtbGltaXQtbnBtLTEuMy4wLWZkYjQ3MWQ4NjQtOS56aXAvbm9kZV9tb2R1bGVzL3AtbGltaXQvaW5kZXguanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL3AtbG9jYXRlLW5wbS0yLjAuMC0zYTJlZTI2M2RkLTkuemlwL25vZGVfbW9kdWxlcy9wLWxvY2F0ZS9pbmRleC5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvbG9jYXRlLXBhdGgtbnBtLTIuMC4wLTY3M2QyOGIwZWEtOS56aXAvbm9kZV9tb2R1bGVzL2xvY2F0ZS1wYXRoL2luZGV4LmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9maW5kLXVwLW5wbS0yLjEuMC05ZjZjYjE3NjVjLTkuemlwL25vZGVfbW9kdWxlcy9maW5kLXVwL2luZGV4LmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9yZWFkLXBrZy11cC1ucG0tMy4wLjAtM2Q3ZmFmMDQ3Zi05LnppcC9ub2RlX21vZHVsZXMvcmVhZC1wa2ctdXAvaW5kZXguanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL2NvbnZlbnRpb25hbC1jaGFuZ2Vsb2ctY29yZS1ucG0tNC4yLjQtMzUwNzM1ODk0MS05LnppcC9ub2RlX21vZHVsZXMvY29udmVudGlvbmFsLWNoYW5nZWxvZy1jb3JlL2xpYi9tZXJnZS1jb25maWcuanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL2NvbnZlbnRpb25hbC1jaGFuZ2Vsb2ctY29yZS1ucG0tNC4yLjQtMzUwNzM1ODk0MS05LnppcC9ub2RlX21vZHVsZXMvY29udmVudGlvbmFsLWNoYW5nZWxvZy1jb3JlL2luZGV4LmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9jb252ZW50aW9uYWwtY2hhbmdlbG9nLW5wbS0zLjEuMjUtZGZjNjllNjk2Yi05LnppcC9ub2RlX21vZHVsZXMvY29udmVudGlvbmFsLWNoYW5nZWxvZy9pbmRleC5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvbGluZS1yZWFkZXItbnBtLTAuMi40LWM0NzdkZGU4YjktOS56aXAvbm9kZV9tb2R1bGVzL2xpbmUtcmVhZGVyL2xpYi9saW5lX3JlYWRlci5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvcmVtb3ZlLW1hcmtkb3duLW5wbS0wLjIuMi1lYjhmNDYyZmY5LTkuemlwL25vZGVfbW9kdWxlcy9yZW1vdmUtbWFya2Rvd24vaW5kZXguanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL2NoYW5nZWxvZy1wYXJzZXItbnBtLTIuOC4xLWQ0MDFiZWY2NTctOS56aXAvbm9kZV9tb2R1bGVzL2NoYW5nZWxvZy1wYXJzZXIvaW5kZXguanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxL2dpdGh1Yi95YXJuLXBsdWdpbnMvd29ya3NwYWNlcy9wbHVnaW5zL2dpdHZlcnNpb24vc3JjL2luZGV4LnRzIiwgInBucDovVXNlcnMvbHVwbXR1MS9naXRodWIveWFybi1wbHVnaW5zL3dvcmtzcGFjZXMvcGx1Z2lucy9naXR2ZXJzaW9uL3NyYy91dGlscy9jb25maWd1cmF0aW9uLnRzIiwgInBucDovVXNlcnMvbHVwbXR1MS9naXRodWIveWFybi1wbHVnaW5zL3dvcmtzcGFjZXMvcGx1Z2lucy9naXR2ZXJzaW9uL3NyYy90eXBlcy50cyIsICJwbnA6L1VzZXJzL2x1cG10dTEvZ2l0aHViL3lhcm4tcGx1Z2lucy93b3Jrc3BhY2VzL3BsdWdpbnMvZ2l0dmVyc2lvbi9zcmMvdXRpbHMvZXhlYy50cyIsICJwbnA6L1VzZXJzL2x1cG10dTEvZ2l0aHViL3lhcm4tcGx1Z2lucy93b3Jrc3BhY2VzL3BsdWdpbnMvZ2l0dmVyc2lvbi9zcmMvdXRpbHMvZ2l0LnRzIiwgInBucDovVXNlcnMvbHVwbXR1MS9naXRodWIveWFybi1wbHVnaW5zL3dvcmtzcGFjZXMvcGx1Z2lucy9naXR2ZXJzaW9uL3NyYy9jb21tYW5kcy9yZXN0b3JlLnRzIiwgInBucDovVXNlcnMvbHVwbXR1MS9naXRodWIveWFybi1wbHVnaW5zL3dvcmtzcGFjZXMvcGx1Z2lucy9naXR2ZXJzaW9uL3NyYy91dGlscy90YWdzLnRzIiwgInBucDovVXNlcnMvbHVwbXR1MS9naXRodWIveWFybi1wbHVnaW5zL3dvcmtzcGFjZXMvcGx1Z2lucy9naXR2ZXJzaW9uL3NyYy91dGlscy93b3Jrc3BhY2UudHMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxL2dpdGh1Yi95YXJuLXBsdWdpbnMvd29ya3NwYWNlcy9wbHVnaW5zL2dpdHZlcnNpb24vc3JjL3V0aWxzL3JlcG9ydC50cyIsICJwbnA6L1VzZXJzL2x1cG10dTEvZ2l0aHViL3lhcm4tcGx1Z2lucy93b3Jrc3BhY2VzL3BsdWdpbnMvZ2l0dmVyc2lvbi9zcmMvY29tbWFuZHMvcmVzZXQudHMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxL2dpdGh1Yi95YXJuLXBsdWdpbnMvd29ya3NwYWNlcy9wbHVnaW5zL2dpdHZlcnNpb24vc3JjL2NvbW1hbmRzL2J1bXAudHMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxL2dpdGh1Yi95YXJuLXBsdWdpbnMvd29ya3NwYWNlcy9wbHVnaW5zL2dpdHZlcnNpb24vc3JjL3V0aWxzL3N0YW5kYXJkLXZlcnNpb24udHMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxL2dpdGh1Yi95YXJuLXBsdWdpbnMvd29ya3NwYWNlcy9wbHVnaW5zL2dpdHZlcnNpb24vc3JjL3V0aWxzL2J1bXAudHMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxL2dpdGh1Yi95YXJuLXBsdWdpbnMvd29ya3NwYWNlcy9wbHVnaW5zL2dpdHZlcnNpb24vc3JjL3V0aWxzL2NvbnZlbnRpb25hbGNvbW1pdC50cyIsICJwbnA6L1VzZXJzL2x1cG10dTEvZ2l0aHViL3lhcm4tcGx1Z2lucy93b3Jrc3BhY2VzL3BsdWdpbnMvZ2l0dmVyc2lvbi9zcmMvdXRpbHMvY2hhbmdlbG9nLnRzIiwgInBucDovVXNlcnMvbHVwbXR1MS9naXRodWIveWFybi1wbHVnaW5zL3dvcmtzcGFjZXMvcGx1Z2lucy9naXR2ZXJzaW9uL3NyYy9jb21tYW5kcy9wdWJsaXNoLnRzIiwgInBucDovVXNlcnMvbHVwbXR1MS9naXRodWIveWFybi1wbHVnaW5zL3dvcmtzcGFjZXMvcGx1Z2lucy9naXR2ZXJzaW9uL3NyYy9jb21tYW5kcy90YWcudHMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxL2dpdGh1Yi95YXJuLXBsdWdpbnMvd29ya3NwYWNlcy9wbHVnaW5zL2dpdHZlcnNpb24vc3JjL2NvbW1hbmRzL2NvbW1pdC50cyIsICJwbnA6L1VzZXJzL2x1cG10dTEvZ2l0aHViL3lhcm4tcGx1Z2lucy93b3Jrc3BhY2VzL3BsdWdpbnMvZ2l0dmVyc2lvbi9zcmMvY29tbWFuZHMvY2hlY2sudHMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxL2dpdGh1Yi95YXJuLXBsdWdpbnMvd29ya3NwYWNlcy9wbHVnaW5zL2dpdHZlcnNpb24vc3JjL2NvbW1hbmRzL3BhY2sudHMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxL2dpdGh1Yi95YXJuLXBsdWdpbnMvd29ya3NwYWNlcy9wbHVnaW5zL2dpdHZlcnNpb24vc3JjL3BsdWdpbi50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiLyogZ2xvYmFsIGRlZmluZSAqL1xuKGZ1bmN0aW9uIChyb290LCBmYWN0b3J5KSB7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICBkZWZpbmUoW10sIGZhY3RvcnkpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jykge1xuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuICB9IGVsc2Uge1xuICAgIHJvb3QuY29tcGFyZVZlcnNpb25zID0gZmFjdG9yeSgpO1xuICB9XG59KSh0aGlzLCBmdW5jdGlvbiAoKSB7XG4gIHZhciBzZW12ZXIgPVxuICAgIC9eW3Zefjw+PV0qPyhcXGQrKSg/OlxcLihbeCpdfFxcZCspKD86XFwuKFt4Kl18XFxkKykoPzpcXC4oW3gqXXxcXGQrKSk/KD86LShbXFxkYS16XFwtXSsoPzpcXC5bXFxkYS16XFwtXSspKikpPyg/OlxcK1tcXGRhLXpcXC1dKyg/OlxcLltcXGRhLXpcXC1dKykqKT8pPyk/JC9pO1xuXG4gIGZ1bmN0aW9uIGluZGV4T3JFbmQoc3RyLCBxKSB7XG4gICAgcmV0dXJuIHN0ci5pbmRleE9mKHEpID09PSAtMSA/IHN0ci5sZW5ndGggOiBzdHIuaW5kZXhPZihxKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNwbGl0KHYpIHtcbiAgICB2YXIgYyA9IHYucmVwbGFjZSgvXnYvLCAnJykucmVwbGFjZSgvXFwrLiokLywgJycpO1xuICAgIHZhciBwYXRjaEluZGV4ID0gaW5kZXhPckVuZChjLCAnLScpO1xuICAgIHZhciBhcnIgPSBjLnN1YnN0cmluZygwLCBwYXRjaEluZGV4KS5zcGxpdCgnLicpO1xuICAgIGFyci5wdXNoKGMuc3Vic3RyaW5nKHBhdGNoSW5kZXggKyAxKSk7XG4gICAgcmV0dXJuIGFycjtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRyeVBhcnNlKHYpIHtcbiAgICB2YXIgbiA9IHBhcnNlSW50KHYsIDEwKTtcbiAgICByZXR1cm4gaXNOYU4obikgPyB2IDogbjtcbiAgfVxuXG4gIGZ1bmN0aW9uIHZhbGlkYXRlQW5kUGFyc2Uodikge1xuICAgIGlmICh0eXBlb2YgdiAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgYXJndW1lbnQgZXhwZWN0ZWQgc3RyaW5nJyk7XG4gICAgfVxuICAgIHZhciBtYXRjaCA9IHYubWF0Y2goc2VtdmVyKTtcbiAgICBpZiAoIW1hdGNoKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwiSW52YWxpZCBhcmd1bWVudCBub3QgdmFsaWQgc2VtdmVyICgnXCIgKyB2ICsgXCInIHJlY2VpdmVkKVwiXG4gICAgICApO1xuICAgIH1cbiAgICBtYXRjaC5zaGlmdCgpO1xuICAgIHJldHVybiBtYXRjaDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZvcmNlVHlwZShhLCBiKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBhICE9PSB0eXBlb2YgYiA/IFtTdHJpbmcoYSksIFN0cmluZyhiKV0gOiBbYSwgYl07XG4gIH1cblxuICBmdW5jdGlvbiBjb21wYXJlU3RyaW5ncyhhLCBiKSB7XG4gICAgdmFyIFthcCwgYnBdID0gZm9yY2VUeXBlKHRyeVBhcnNlKGEpLCB0cnlQYXJzZShiKSk7XG4gICAgaWYgKGFwID4gYnApIHJldHVybiAxO1xuICAgIGlmIChhcCA8IGJwKSByZXR1cm4gLTE7XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICBmdW5jdGlvbiBjb21wYXJlU2VnbWVudHMoYSwgYikge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgTWF0aC5tYXgoYS5sZW5ndGgsIGIubGVuZ3RoKTsgaSsrKSB7XG4gICAgICB2YXIgciA9IGNvbXBhcmVTdHJpbmdzKGFbaV0gfHwgMCwgYltpXSB8fCAwKTtcbiAgICAgIGlmIChyICE9PSAwKSByZXR1cm4gcjtcbiAgICB9XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICBmdW5jdGlvbiBjb21wYXJlVmVyc2lvbnModjEsIHYyKSB7XG4gICAgW3YxLCB2Ml0uZm9yRWFjaCh2YWxpZGF0ZUFuZFBhcnNlKTtcblxuICAgIHZhciBzMSA9IHNwbGl0KHYxKTtcbiAgICB2YXIgczIgPSBzcGxpdCh2Mik7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IE1hdGgubWF4KHMxLmxlbmd0aCAtIDEsIHMyLmxlbmd0aCAtIDEpOyBpKyspIHtcbiAgICAgIHZhciBuMSA9IHBhcnNlSW50KHMxW2ldIHx8IDAsIDEwKTtcbiAgICAgIHZhciBuMiA9IHBhcnNlSW50KHMyW2ldIHx8IDAsIDEwKTtcblxuICAgICAgaWYgKG4xID4gbjIpIHJldHVybiAxO1xuICAgICAgaWYgKG4yID4gbjEpIHJldHVybiAtMTtcbiAgICB9XG5cbiAgICB2YXIgc3AxID0gczFbczEubGVuZ3RoIC0gMV07XG4gICAgdmFyIHNwMiA9IHMyW3MyLmxlbmd0aCAtIDFdO1xuXG4gICAgaWYgKHNwMSAmJiBzcDIpIHtcbiAgICAgIHZhciBwMSA9IHNwMS5zcGxpdCgnLicpLm1hcCh0cnlQYXJzZSk7XG4gICAgICB2YXIgcDIgPSBzcDIuc3BsaXQoJy4nKS5tYXAodHJ5UGFyc2UpO1xuXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgTWF0aC5tYXgocDEubGVuZ3RoLCBwMi5sZW5ndGgpOyBpKyspIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHAxW2ldID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAodHlwZW9mIHAyW2ldID09PSAnc3RyaW5nJyAmJiB0eXBlb2YgcDFbaV0gPT09ICdudW1iZXInKVxuICAgICAgICApXG4gICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgcDJbaV0gPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICh0eXBlb2YgcDFbaV0gPT09ICdzdHJpbmcnICYmIHR5cGVvZiBwMltpXSA9PT0gJ251bWJlcicpXG4gICAgICAgIClcbiAgICAgICAgICByZXR1cm4gMTtcblxuICAgICAgICBpZiAocDFbaV0gPiBwMltpXSkgcmV0dXJuIDE7XG4gICAgICAgIGlmIChwMltpXSA+IHAxW2ldKSByZXR1cm4gLTE7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChzcDEgfHwgc3AyKSB7XG4gICAgICByZXR1cm4gc3AxID8gLTEgOiAxO1xuICAgIH1cblxuICAgIHJldHVybiAwO1xuICB9XG5cbiAgdmFyIGFsbG93ZWRPcGVyYXRvcnMgPSBbJz4nLCAnPj0nLCAnPScsICc8JywgJzw9J107XG5cbiAgdmFyIG9wZXJhdG9yUmVzTWFwID0ge1xuICAgICc+JzogWzFdLFxuICAgICc+PSc6IFswLCAxXSxcbiAgICAnPSc6IFswXSxcbiAgICAnPD0nOiBbLTEsIDBdLFxuICAgICc8JzogWy0xXSxcbiAgfTtcblxuICBmdW5jdGlvbiB2YWxpZGF0ZU9wZXJhdG9yKG9wKSB7XG4gICAgaWYgKHR5cGVvZiBvcCAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgICdJbnZhbGlkIG9wZXJhdG9yIHR5cGUsIGV4cGVjdGVkIHN0cmluZyBidXQgZ290ICcgKyB0eXBlb2Ygb3BcbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChhbGxvd2VkT3BlcmF0b3JzLmluZGV4T2Yob3ApID09PSAtMSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICAgJ0ludmFsaWQgb3BlcmF0b3IsIGV4cGVjdGVkIG9uZSBvZiAnICsgYWxsb3dlZE9wZXJhdG9ycy5qb2luKCd8JylcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgY29tcGFyZVZlcnNpb25zLnZhbGlkYXRlID0gZnVuY3Rpb24gKHZlcnNpb24pIHtcbiAgICByZXR1cm4gdHlwZW9mIHZlcnNpb24gPT09ICdzdHJpbmcnICYmIHNlbXZlci50ZXN0KHZlcnNpb24pO1xuICB9O1xuXG4gIGNvbXBhcmVWZXJzaW9ucy5jb21wYXJlID0gZnVuY3Rpb24gKHYxLCB2Miwgb3BlcmF0b3IpIHtcbiAgICAvLyBWYWxpZGF0ZSBvcGVyYXRvclxuICAgIHZhbGlkYXRlT3BlcmF0b3Iob3BlcmF0b3IpO1xuXG4gICAgLy8gc2luY2UgcmVzdWx0IG9mIGNvbXBhcmVWZXJzaW9ucyBjYW4gb25seSBiZSAtMSBvciAwIG9yIDFcbiAgICAvLyBhIHNpbXBsZSBtYXAgY2FuIGJlIHVzZWQgdG8gcmVwbGFjZSBzd2l0Y2hcbiAgICB2YXIgcmVzID0gY29tcGFyZVZlcnNpb25zKHYxLCB2Mik7XG4gICAgcmV0dXJuIG9wZXJhdG9yUmVzTWFwW29wZXJhdG9yXS5pbmRleE9mKHJlcykgPiAtMTtcbiAgfTtcblxuICBjb21wYXJlVmVyc2lvbnMuc2F0aXNmaWVzID0gZnVuY3Rpb24gKHYsIHIpIHtcbiAgICAvLyBpZiBubyByYW5nZSBvcGVyYXRvciB0aGVuIFwiPVwiXG4gICAgdmFyIG1hdGNoID0gci5tYXRjaCgvXihbPD49fl5dKykvKTtcbiAgICB2YXIgb3AgPSBtYXRjaCA/IG1hdGNoWzFdIDogJz0nO1xuXG4gICAgLy8gaWYgZ3QvbHQvZXEgdGhlbiBvcGVyYXRvciBjb21wYXJlXG4gICAgaWYgKG9wICE9PSAnXicgJiYgb3AgIT09ICd+JykgcmV0dXJuIGNvbXBhcmVWZXJzaW9ucy5jb21wYXJlKHYsIHIsIG9wKTtcblxuICAgIC8vIGVsc2UgcmFuZ2Ugb2YgZWl0aGVyIFwiflwiIG9yIFwiXlwiIGlzIGFzc3VtZWRcbiAgICB2YXIgW3YxLCB2MiwgdjNdID0gdmFsaWRhdGVBbmRQYXJzZSh2KTtcbiAgICB2YXIgW20xLCBtMiwgbTNdID0gdmFsaWRhdGVBbmRQYXJzZShyKTtcbiAgICBpZiAoY29tcGFyZVN0cmluZ3ModjEsIG0xKSAhPT0gMCkgcmV0dXJuIGZhbHNlO1xuICAgIGlmIChvcCA9PT0gJ14nKSB7XG4gICAgICByZXR1cm4gY29tcGFyZVNlZ21lbnRzKFt2MiwgdjNdLCBbbTIsIG0zXSkgPj0gMDtcbiAgICB9XG4gICAgaWYgKGNvbXBhcmVTdHJpbmdzKHYyLCBtMikgIT09IDApIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gY29tcGFyZVN0cmluZ3ModjMsIG0zKSA+PSAwO1xuICB9O1xuXG4gIHJldHVybiBjb21wYXJlVmVyc2lvbnM7XG59KTtcbiIsICJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJ3N0cmVhbScpO1xuIiwgIid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxudmFyIF9yZXF1aXJlID0gcmVxdWlyZSgnYnVmZmVyJyksXG4gICAgQnVmZmVyID0gX3JlcXVpcmUuQnVmZmVyO1xuXG52YXIgX3JlcXVpcmUyID0gcmVxdWlyZSgndXRpbCcpLFxuICAgIGluc3BlY3QgPSBfcmVxdWlyZTIuaW5zcGVjdDtcblxudmFyIGN1c3RvbSA9IGluc3BlY3QgJiYgaW5zcGVjdC5jdXN0b20gfHwgJ2luc3BlY3QnO1xuXG5mdW5jdGlvbiBjb3B5QnVmZmVyKHNyYywgdGFyZ2V0LCBvZmZzZXQpIHtcbiAgQnVmZmVyLnByb3RvdHlwZS5jb3B5LmNhbGwoc3JjLCB0YXJnZXQsIG9mZnNldCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gQnVmZmVyTGlzdCgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQnVmZmVyTGlzdCk7XG5cbiAgICB0aGlzLmhlYWQgPSBudWxsO1xuICAgIHRoaXMudGFpbCA9IG51bGw7XG4gICAgdGhpcy5sZW5ndGggPSAwO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKEJ1ZmZlckxpc3QsIFt7XG4gICAga2V5OiBcInB1c2hcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcHVzaCh2KSB7XG4gICAgICB2YXIgZW50cnkgPSB7XG4gICAgICAgIGRhdGE6IHYsXG4gICAgICAgIG5leHQ6IG51bGxcbiAgICAgIH07XG4gICAgICBpZiAodGhpcy5sZW5ndGggPiAwKSB0aGlzLnRhaWwubmV4dCA9IGVudHJ5O2Vsc2UgdGhpcy5oZWFkID0gZW50cnk7XG4gICAgICB0aGlzLnRhaWwgPSBlbnRyeTtcbiAgICAgICsrdGhpcy5sZW5ndGg7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInVuc2hpZnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdW5zaGlmdCh2KSB7XG4gICAgICB2YXIgZW50cnkgPSB7XG4gICAgICAgIGRhdGE6IHYsXG4gICAgICAgIG5leHQ6IHRoaXMuaGVhZFxuICAgICAgfTtcbiAgICAgIGlmICh0aGlzLmxlbmd0aCA9PT0gMCkgdGhpcy50YWlsID0gZW50cnk7XG4gICAgICB0aGlzLmhlYWQgPSBlbnRyeTtcbiAgICAgICsrdGhpcy5sZW5ndGg7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNoaWZ0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNoaWZ0KCkge1xuICAgICAgaWYgKHRoaXMubGVuZ3RoID09PSAwKSByZXR1cm47XG4gICAgICB2YXIgcmV0ID0gdGhpcy5oZWFkLmRhdGE7XG4gICAgICBpZiAodGhpcy5sZW5ndGggPT09IDEpIHRoaXMuaGVhZCA9IHRoaXMudGFpbCA9IG51bGw7ZWxzZSB0aGlzLmhlYWQgPSB0aGlzLmhlYWQubmV4dDtcbiAgICAgIC0tdGhpcy5sZW5ndGg7XG4gICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjbGVhclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjbGVhcigpIHtcbiAgICAgIHRoaXMuaGVhZCA9IHRoaXMudGFpbCA9IG51bGw7XG4gICAgICB0aGlzLmxlbmd0aCA9IDA7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImpvaW5cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gam9pbihzKSB7XG4gICAgICBpZiAodGhpcy5sZW5ndGggPT09IDApIHJldHVybiAnJztcbiAgICAgIHZhciBwID0gdGhpcy5oZWFkO1xuICAgICAgdmFyIHJldCA9ICcnICsgcC5kYXRhO1xuXG4gICAgICB3aGlsZSAocCA9IHAubmV4dCkge1xuICAgICAgICByZXQgKz0gcyArIHAuZGF0YTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY29uY2F0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbmNhdChuKSB7XG4gICAgICBpZiAodGhpcy5sZW5ndGggPT09IDApIHJldHVybiBCdWZmZXIuYWxsb2MoMCk7XG4gICAgICB2YXIgcmV0ID0gQnVmZmVyLmFsbG9jVW5zYWZlKG4gPj4+IDApO1xuICAgICAgdmFyIHAgPSB0aGlzLmhlYWQ7XG4gICAgICB2YXIgaSA9IDA7XG5cbiAgICAgIHdoaWxlIChwKSB7XG4gICAgICAgIGNvcHlCdWZmZXIocC5kYXRhLCByZXQsIGkpO1xuICAgICAgICBpICs9IHAuZGF0YS5sZW5ndGg7XG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXQ7XG4gICAgfSAvLyBDb25zdW1lcyBhIHNwZWNpZmllZCBhbW91bnQgb2YgYnl0ZXMgb3IgY2hhcmFjdGVycyBmcm9tIHRoZSBidWZmZXJlZCBkYXRhLlxuXG4gIH0sIHtcbiAgICBrZXk6IFwiY29uc3VtZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb25zdW1lKG4sIGhhc1N0cmluZ3MpIHtcbiAgICAgIHZhciByZXQ7XG5cbiAgICAgIGlmIChuIDwgdGhpcy5oZWFkLmRhdGEubGVuZ3RoKSB7XG4gICAgICAgIC8vIGBzbGljZWAgaXMgdGhlIHNhbWUgZm9yIGJ1ZmZlcnMgYW5kIHN0cmluZ3MuXG4gICAgICAgIHJldCA9IHRoaXMuaGVhZC5kYXRhLnNsaWNlKDAsIG4pO1xuICAgICAgICB0aGlzLmhlYWQuZGF0YSA9IHRoaXMuaGVhZC5kYXRhLnNsaWNlKG4pO1xuICAgICAgfSBlbHNlIGlmIChuID09PSB0aGlzLmhlYWQuZGF0YS5sZW5ndGgpIHtcbiAgICAgICAgLy8gRmlyc3QgY2h1bmsgaXMgYSBwZXJmZWN0IG1hdGNoLlxuICAgICAgICByZXQgPSB0aGlzLnNoaWZ0KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBSZXN1bHQgc3BhbnMgbW9yZSB0aGFuIG9uZSBidWZmZXIuXG4gICAgICAgIHJldCA9IGhhc1N0cmluZ3MgPyB0aGlzLl9nZXRTdHJpbmcobikgOiB0aGlzLl9nZXRCdWZmZXIobik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImZpcnN0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZpcnN0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuaGVhZC5kYXRhO1xuICAgIH0gLy8gQ29uc3VtZXMgYSBzcGVjaWZpZWQgYW1vdW50IG9mIGNoYXJhY3RlcnMgZnJvbSB0aGUgYnVmZmVyZWQgZGF0YS5cblxuICB9LCB7XG4gICAga2V5OiBcIl9nZXRTdHJpbmdcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2dldFN0cmluZyhuKSB7XG4gICAgICB2YXIgcCA9IHRoaXMuaGVhZDtcbiAgICAgIHZhciBjID0gMTtcbiAgICAgIHZhciByZXQgPSBwLmRhdGE7XG4gICAgICBuIC09IHJldC5sZW5ndGg7XG5cbiAgICAgIHdoaWxlIChwID0gcC5uZXh0KSB7XG4gICAgICAgIHZhciBzdHIgPSBwLmRhdGE7XG4gICAgICAgIHZhciBuYiA9IG4gPiBzdHIubGVuZ3RoID8gc3RyLmxlbmd0aCA6IG47XG4gICAgICAgIGlmIChuYiA9PT0gc3RyLmxlbmd0aCkgcmV0ICs9IHN0cjtlbHNlIHJldCArPSBzdHIuc2xpY2UoMCwgbik7XG4gICAgICAgIG4gLT0gbmI7XG5cbiAgICAgICAgaWYgKG4gPT09IDApIHtcbiAgICAgICAgICBpZiAobmIgPT09IHN0ci5sZW5ndGgpIHtcbiAgICAgICAgICAgICsrYztcbiAgICAgICAgICAgIGlmIChwLm5leHQpIHRoaXMuaGVhZCA9IHAubmV4dDtlbHNlIHRoaXMuaGVhZCA9IHRoaXMudGFpbCA9IG51bGw7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuaGVhZCA9IHA7XG4gICAgICAgICAgICBwLmRhdGEgPSBzdHIuc2xpY2UobmIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgKytjO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmxlbmd0aCAtPSBjO1xuICAgICAgcmV0dXJuIHJldDtcbiAgICB9IC8vIENvbnN1bWVzIGEgc3BlY2lmaWVkIGFtb3VudCBvZiBieXRlcyBmcm9tIHRoZSBidWZmZXJlZCBkYXRhLlxuXG4gIH0sIHtcbiAgICBrZXk6IFwiX2dldEJ1ZmZlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0QnVmZmVyKG4pIHtcbiAgICAgIHZhciByZXQgPSBCdWZmZXIuYWxsb2NVbnNhZmUobik7XG4gICAgICB2YXIgcCA9IHRoaXMuaGVhZDtcbiAgICAgIHZhciBjID0gMTtcbiAgICAgIHAuZGF0YS5jb3B5KHJldCk7XG4gICAgICBuIC09IHAuZGF0YS5sZW5ndGg7XG5cbiAgICAgIHdoaWxlIChwID0gcC5uZXh0KSB7XG4gICAgICAgIHZhciBidWYgPSBwLmRhdGE7XG4gICAgICAgIHZhciBuYiA9IG4gPiBidWYubGVuZ3RoID8gYnVmLmxlbmd0aCA6IG47XG4gICAgICAgIGJ1Zi5jb3B5KHJldCwgcmV0Lmxlbmd0aCAtIG4sIDAsIG5iKTtcbiAgICAgICAgbiAtPSBuYjtcblxuICAgICAgICBpZiAobiA9PT0gMCkge1xuICAgICAgICAgIGlmIChuYiA9PT0gYnVmLmxlbmd0aCkge1xuICAgICAgICAgICAgKytjO1xuICAgICAgICAgICAgaWYgKHAubmV4dCkgdGhpcy5oZWFkID0gcC5uZXh0O2Vsc2UgdGhpcy5oZWFkID0gdGhpcy50YWlsID0gbnVsbDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5oZWFkID0gcDtcbiAgICAgICAgICAgIHAuZGF0YSA9IGJ1Zi5zbGljZShuYik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICArK2M7XG4gICAgICB9XG5cbiAgICAgIHRoaXMubGVuZ3RoIC09IGM7XG4gICAgICByZXR1cm4gcmV0O1xuICAgIH0gLy8gTWFrZSBzdXJlIHRoZSBsaW5rZWQgbGlzdCBvbmx5IHNob3dzIHRoZSBtaW5pbWFsIG5lY2Vzc2FyeSBpbmZvcm1hdGlvbi5cblxuICB9LCB7XG4gICAga2V5OiBjdXN0b20sXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKF8sIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiBpbnNwZWN0KHRoaXMsIF9vYmplY3RTcHJlYWQoe30sIG9wdGlvbnMsIHtcbiAgICAgICAgLy8gT25seSBpbnNwZWN0IG9uZSBsZXZlbC5cbiAgICAgICAgZGVwdGg6IDAsXG4gICAgICAgIC8vIEl0IHNob3VsZCBub3QgcmVjdXJzZS5cbiAgICAgICAgY3VzdG9tSW5zcGVjdDogZmFsc2VcbiAgICAgIH0pKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQnVmZmVyTGlzdDtcbn0oKTsiLCAiJ3VzZSBzdHJpY3QnOyAvLyB1bmRvY3VtZW50ZWQgY2IoKSBBUEksIG5lZWRlZCBmb3IgY29yZSwgbm90IGZvciBwdWJsaWMgQVBJXG5cbmZ1bmN0aW9uIGRlc3Ryb3koZXJyLCBjYikge1xuICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gIHZhciByZWFkYWJsZURlc3Ryb3llZCA9IHRoaXMuX3JlYWRhYmxlU3RhdGUgJiYgdGhpcy5fcmVhZGFibGVTdGF0ZS5kZXN0cm95ZWQ7XG4gIHZhciB3cml0YWJsZURlc3Ryb3llZCA9IHRoaXMuX3dyaXRhYmxlU3RhdGUgJiYgdGhpcy5fd3JpdGFibGVTdGF0ZS5kZXN0cm95ZWQ7XG5cbiAgaWYgKHJlYWRhYmxlRGVzdHJveWVkIHx8IHdyaXRhYmxlRGVzdHJveWVkKSB7XG4gICAgaWYgKGNiKSB7XG4gICAgICBjYihlcnIpO1xuICAgIH0gZWxzZSBpZiAoZXJyKSB7XG4gICAgICBpZiAoIXRoaXMuX3dyaXRhYmxlU3RhdGUpIHtcbiAgICAgICAgcHJvY2Vzcy5uZXh0VGljayhlbWl0RXJyb3JOVCwgdGhpcywgZXJyKTtcbiAgICAgIH0gZWxzZSBpZiAoIXRoaXMuX3dyaXRhYmxlU3RhdGUuZXJyb3JFbWl0dGVkKSB7XG4gICAgICAgIHRoaXMuX3dyaXRhYmxlU3RhdGUuZXJyb3JFbWl0dGVkID0gdHJ1ZTtcbiAgICAgICAgcHJvY2Vzcy5uZXh0VGljayhlbWl0RXJyb3JOVCwgdGhpcywgZXJyKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfSAvLyB3ZSBzZXQgZGVzdHJveWVkIHRvIHRydWUgYmVmb3JlIGZpcmluZyBlcnJvciBjYWxsYmFja3MgaW4gb3JkZXJcbiAgLy8gdG8gbWFrZSBpdCByZS1lbnRyYW5jZSBzYWZlIGluIGNhc2UgZGVzdHJveSgpIGlzIGNhbGxlZCB3aXRoaW4gY2FsbGJhY2tzXG5cblxuICBpZiAodGhpcy5fcmVhZGFibGVTdGF0ZSkge1xuICAgIHRoaXMuX3JlYWRhYmxlU3RhdGUuZGVzdHJveWVkID0gdHJ1ZTtcbiAgfSAvLyBpZiB0aGlzIGlzIGEgZHVwbGV4IHN0cmVhbSBtYXJrIHRoZSB3cml0YWJsZSBwYXJ0IGFzIGRlc3Ryb3llZCBhcyB3ZWxsXG5cblxuICBpZiAodGhpcy5fd3JpdGFibGVTdGF0ZSkge1xuICAgIHRoaXMuX3dyaXRhYmxlU3RhdGUuZGVzdHJveWVkID0gdHJ1ZTtcbiAgfVxuXG4gIHRoaXMuX2Rlc3Ryb3koZXJyIHx8IG51bGwsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICBpZiAoIWNiICYmIGVycikge1xuICAgICAgaWYgKCFfdGhpcy5fd3JpdGFibGVTdGF0ZSkge1xuICAgICAgICBwcm9jZXNzLm5leHRUaWNrKGVtaXRFcnJvckFuZENsb3NlTlQsIF90aGlzLCBlcnIpO1xuICAgICAgfSBlbHNlIGlmICghX3RoaXMuX3dyaXRhYmxlU3RhdGUuZXJyb3JFbWl0dGVkKSB7XG4gICAgICAgIF90aGlzLl93cml0YWJsZVN0YXRlLmVycm9yRW1pdHRlZCA9IHRydWU7XG4gICAgICAgIHByb2Nlc3MubmV4dFRpY2soZW1pdEVycm9yQW5kQ2xvc2VOVCwgX3RoaXMsIGVycik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcm9jZXNzLm5leHRUaWNrKGVtaXRDbG9zZU5ULCBfdGhpcyk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChjYikge1xuICAgICAgcHJvY2Vzcy5uZXh0VGljayhlbWl0Q2xvc2VOVCwgX3RoaXMpO1xuICAgICAgY2IoZXJyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcHJvY2Vzcy5uZXh0VGljayhlbWl0Q2xvc2VOVCwgX3RoaXMpO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHRoaXM7XG59XG5cbmZ1bmN0aW9uIGVtaXRFcnJvckFuZENsb3NlTlQoc2VsZiwgZXJyKSB7XG4gIGVtaXRFcnJvck5UKHNlbGYsIGVycik7XG4gIGVtaXRDbG9zZU5UKHNlbGYpO1xufVxuXG5mdW5jdGlvbiBlbWl0Q2xvc2VOVChzZWxmKSB7XG4gIGlmIChzZWxmLl93cml0YWJsZVN0YXRlICYmICFzZWxmLl93cml0YWJsZVN0YXRlLmVtaXRDbG9zZSkgcmV0dXJuO1xuICBpZiAoc2VsZi5fcmVhZGFibGVTdGF0ZSAmJiAhc2VsZi5fcmVhZGFibGVTdGF0ZS5lbWl0Q2xvc2UpIHJldHVybjtcbiAgc2VsZi5lbWl0KCdjbG9zZScpO1xufVxuXG5mdW5jdGlvbiB1bmRlc3Ryb3koKSB7XG4gIGlmICh0aGlzLl9yZWFkYWJsZVN0YXRlKSB7XG4gICAgdGhpcy5fcmVhZGFibGVTdGF0ZS5kZXN0cm95ZWQgPSBmYWxzZTtcbiAgICB0aGlzLl9yZWFkYWJsZVN0YXRlLnJlYWRpbmcgPSBmYWxzZTtcbiAgICB0aGlzLl9yZWFkYWJsZVN0YXRlLmVuZGVkID0gZmFsc2U7XG4gICAgdGhpcy5fcmVhZGFibGVTdGF0ZS5lbmRFbWl0dGVkID0gZmFsc2U7XG4gIH1cblxuICBpZiAodGhpcy5fd3JpdGFibGVTdGF0ZSkge1xuICAgIHRoaXMuX3dyaXRhYmxlU3RhdGUuZGVzdHJveWVkID0gZmFsc2U7XG4gICAgdGhpcy5fd3JpdGFibGVTdGF0ZS5lbmRlZCA9IGZhbHNlO1xuICAgIHRoaXMuX3dyaXRhYmxlU3RhdGUuZW5kaW5nID0gZmFsc2U7XG4gICAgdGhpcy5fd3JpdGFibGVTdGF0ZS5maW5hbENhbGxlZCA9IGZhbHNlO1xuICAgIHRoaXMuX3dyaXRhYmxlU3RhdGUucHJlZmluaXNoZWQgPSBmYWxzZTtcbiAgICB0aGlzLl93cml0YWJsZVN0YXRlLmZpbmlzaGVkID0gZmFsc2U7XG4gICAgdGhpcy5fd3JpdGFibGVTdGF0ZS5lcnJvckVtaXR0ZWQgPSBmYWxzZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBlbWl0RXJyb3JOVChzZWxmLCBlcnIpIHtcbiAgc2VsZi5lbWl0KCdlcnJvcicsIGVycik7XG59XG5cbmZ1bmN0aW9uIGVycm9yT3JEZXN0cm95KHN0cmVhbSwgZXJyKSB7XG4gIC8vIFdlIGhhdmUgdGVzdHMgdGhhdCByZWx5IG9uIGVycm9ycyBiZWluZyBlbWl0dGVkXG4gIC8vIGluIHRoZSBzYW1lIHRpY2ssIHNvIGNoYW5naW5nIHRoaXMgaXMgc2VtdmVyIG1ham9yLlxuICAvLyBGb3Igbm93IHdoZW4geW91IG9wdC1pbiB0byBhdXRvRGVzdHJveSB3ZSBhbGxvd1xuICAvLyB0aGUgZXJyb3IgdG8gYmUgZW1pdHRlZCBuZXh0VGljay4gSW4gYSBmdXR1cmVcbiAgLy8gc2VtdmVyIG1ham9yIHVwZGF0ZSB3ZSBzaG91bGQgY2hhbmdlIHRoZSBkZWZhdWx0IHRvIHRoaXMuXG4gIHZhciByU3RhdGUgPSBzdHJlYW0uX3JlYWRhYmxlU3RhdGU7XG4gIHZhciB3U3RhdGUgPSBzdHJlYW0uX3dyaXRhYmxlU3RhdGU7XG4gIGlmIChyU3RhdGUgJiYgclN0YXRlLmF1dG9EZXN0cm95IHx8IHdTdGF0ZSAmJiB3U3RhdGUuYXV0b0Rlc3Ryb3kpIHN0cmVhbS5kZXN0cm95KGVycik7ZWxzZSBzdHJlYW0uZW1pdCgnZXJyb3InLCBlcnIpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgZGVzdHJveTogZGVzdHJveSxcbiAgdW5kZXN0cm95OiB1bmRlc3Ryb3ksXG4gIGVycm9yT3JEZXN0cm95OiBlcnJvck9yRGVzdHJveVxufTsiLCAiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBjb2RlcyA9IHt9O1xuXG5mdW5jdGlvbiBjcmVhdGVFcnJvclR5cGUoY29kZSwgbWVzc2FnZSwgQmFzZSkge1xuICBpZiAoIUJhc2UpIHtcbiAgICBCYXNlID0gRXJyb3JcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldE1lc3NhZ2UgKGFyZzEsIGFyZzIsIGFyZzMpIHtcbiAgICBpZiAodHlwZW9mIG1lc3NhZ2UgPT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gbWVzc2FnZVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbWVzc2FnZShhcmcxLCBhcmcyLCBhcmczKVxuICAgIH1cbiAgfVxuXG4gIGNsYXNzIE5vZGVFcnJvciBleHRlbmRzIEJhc2Uge1xuICAgIGNvbnN0cnVjdG9yIChhcmcxLCBhcmcyLCBhcmczKSB7XG4gICAgICBzdXBlcihnZXRNZXNzYWdlKGFyZzEsIGFyZzIsIGFyZzMpKTtcbiAgICB9XG4gIH1cblxuICBOb2RlRXJyb3IucHJvdG90eXBlLm5hbWUgPSBCYXNlLm5hbWU7XG4gIE5vZGVFcnJvci5wcm90b3R5cGUuY29kZSA9IGNvZGU7XG5cbiAgY29kZXNbY29kZV0gPSBOb2RlRXJyb3I7XG59XG5cbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9ub2RlanMvbm9kZS9ibG9iL3YxMC44LjAvbGliL2ludGVybmFsL2Vycm9ycy5qc1xuZnVuY3Rpb24gb25lT2YoZXhwZWN0ZWQsIHRoaW5nKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGV4cGVjdGVkKSkge1xuICAgIGNvbnN0IGxlbiA9IGV4cGVjdGVkLmxlbmd0aDtcbiAgICBleHBlY3RlZCA9IGV4cGVjdGVkLm1hcCgoaSkgPT4gU3RyaW5nKGkpKTtcbiAgICBpZiAobGVuID4gMikge1xuICAgICAgcmV0dXJuIGBvbmUgb2YgJHt0aGluZ30gJHtleHBlY3RlZC5zbGljZSgwLCBsZW4gLSAxKS5qb2luKCcsICcpfSwgb3IgYCArXG4gICAgICAgICAgICAgZXhwZWN0ZWRbbGVuIC0gMV07XG4gICAgfSBlbHNlIGlmIChsZW4gPT09IDIpIHtcbiAgICAgIHJldHVybiBgb25lIG9mICR7dGhpbmd9ICR7ZXhwZWN0ZWRbMF19IG9yICR7ZXhwZWN0ZWRbMV19YDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGBvZiAke3RoaW5nfSAke2V4cGVjdGVkWzBdfWA7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBgb2YgJHt0aGluZ30gJHtTdHJpbmcoZXhwZWN0ZWQpfWA7XG4gIH1cbn1cblxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvU3RyaW5nL3N0YXJ0c1dpdGhcbmZ1bmN0aW9uIHN0YXJ0c1dpdGgoc3RyLCBzZWFyY2gsIHBvcykge1xuXHRyZXR1cm4gc3RyLnN1YnN0cighcG9zIHx8IHBvcyA8IDAgPyAwIDogK3Bvcywgc2VhcmNoLmxlbmd0aCkgPT09IHNlYXJjaDtcbn1cblxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvU3RyaW5nL2VuZHNXaXRoXG5mdW5jdGlvbiBlbmRzV2l0aChzdHIsIHNlYXJjaCwgdGhpc19sZW4pIHtcblx0aWYgKHRoaXNfbGVuID09PSB1bmRlZmluZWQgfHwgdGhpc19sZW4gPiBzdHIubGVuZ3RoKSB7XG5cdFx0dGhpc19sZW4gPSBzdHIubGVuZ3RoO1xuXHR9XG5cdHJldHVybiBzdHIuc3Vic3RyaW5nKHRoaXNfbGVuIC0gc2VhcmNoLmxlbmd0aCwgdGhpc19sZW4pID09PSBzZWFyY2g7XG59XG5cbi8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy9pbmNsdWRlc1xuZnVuY3Rpb24gaW5jbHVkZXMoc3RyLCBzZWFyY2gsIHN0YXJ0KSB7XG4gIGlmICh0eXBlb2Ygc3RhcnQgIT09ICdudW1iZXInKSB7XG4gICAgc3RhcnQgPSAwO1xuICB9XG5cbiAgaWYgKHN0YXJ0ICsgc2VhcmNoLmxlbmd0aCA+IHN0ci5sZW5ndGgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHN0ci5pbmRleE9mKHNlYXJjaCwgc3RhcnQpICE9PSAtMTtcbiAgfVxufVxuXG5jcmVhdGVFcnJvclR5cGUoJ0VSUl9JTlZBTElEX09QVF9WQUxVRScsIGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkge1xuICByZXR1cm4gJ1RoZSB2YWx1ZSBcIicgKyB2YWx1ZSArICdcIiBpcyBpbnZhbGlkIGZvciBvcHRpb24gXCInICsgbmFtZSArICdcIidcbn0sIFR5cGVFcnJvcik7XG5jcmVhdGVFcnJvclR5cGUoJ0VSUl9JTlZBTElEX0FSR19UWVBFJywgZnVuY3Rpb24gKG5hbWUsIGV4cGVjdGVkLCBhY3R1YWwpIHtcbiAgLy8gZGV0ZXJtaW5lcjogJ211c3QgYmUnIG9yICdtdXN0IG5vdCBiZSdcbiAgbGV0IGRldGVybWluZXI7XG4gIGlmICh0eXBlb2YgZXhwZWN0ZWQgPT09ICdzdHJpbmcnICYmIHN0YXJ0c1dpdGgoZXhwZWN0ZWQsICdub3QgJykpIHtcbiAgICBkZXRlcm1pbmVyID0gJ211c3Qgbm90IGJlJztcbiAgICBleHBlY3RlZCA9IGV4cGVjdGVkLnJlcGxhY2UoL15ub3QgLywgJycpO1xuICB9IGVsc2Uge1xuICAgIGRldGVybWluZXIgPSAnbXVzdCBiZSc7XG4gIH1cblxuICBsZXQgbXNnO1xuICBpZiAoZW5kc1dpdGgobmFtZSwgJyBhcmd1bWVudCcpKSB7XG4gICAgLy8gRm9yIGNhc2VzIGxpa2UgJ2ZpcnN0IGFyZ3VtZW50J1xuICAgIG1zZyA9IGBUaGUgJHtuYW1lfSAke2RldGVybWluZXJ9ICR7b25lT2YoZXhwZWN0ZWQsICd0eXBlJyl9YDtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCB0eXBlID0gaW5jbHVkZXMobmFtZSwgJy4nKSA/ICdwcm9wZXJ0eScgOiAnYXJndW1lbnQnO1xuICAgIG1zZyA9IGBUaGUgXCIke25hbWV9XCIgJHt0eXBlfSAke2RldGVybWluZXJ9ICR7b25lT2YoZXhwZWN0ZWQsICd0eXBlJyl9YDtcbiAgfVxuXG4gIG1zZyArPSBgLiBSZWNlaXZlZCB0eXBlICR7dHlwZW9mIGFjdHVhbH1gO1xuICByZXR1cm4gbXNnO1xufSwgVHlwZUVycm9yKTtcbmNyZWF0ZUVycm9yVHlwZSgnRVJSX1NUUkVBTV9QVVNIX0FGVEVSX0VPRicsICdzdHJlYW0ucHVzaCgpIGFmdGVyIEVPRicpO1xuY3JlYXRlRXJyb3JUeXBlKCdFUlJfTUVUSE9EX05PVF9JTVBMRU1FTlRFRCcsIGZ1bmN0aW9uIChuYW1lKSB7XG4gIHJldHVybiAnVGhlICcgKyBuYW1lICsgJyBtZXRob2QgaXMgbm90IGltcGxlbWVudGVkJ1xufSk7XG5jcmVhdGVFcnJvclR5cGUoJ0VSUl9TVFJFQU1fUFJFTUFUVVJFX0NMT1NFJywgJ1ByZW1hdHVyZSBjbG9zZScpO1xuY3JlYXRlRXJyb3JUeXBlKCdFUlJfU1RSRUFNX0RFU1RST1lFRCcsIGZ1bmN0aW9uIChuYW1lKSB7XG4gIHJldHVybiAnQ2Fubm90IGNhbGwgJyArIG5hbWUgKyAnIGFmdGVyIGEgc3RyZWFtIHdhcyBkZXN0cm95ZWQnO1xufSk7XG5jcmVhdGVFcnJvclR5cGUoJ0VSUl9NVUxUSVBMRV9DQUxMQkFDSycsICdDYWxsYmFjayBjYWxsZWQgbXVsdGlwbGUgdGltZXMnKTtcbmNyZWF0ZUVycm9yVHlwZSgnRVJSX1NUUkVBTV9DQU5OT1RfUElQRScsICdDYW5ub3QgcGlwZSwgbm90IHJlYWRhYmxlJyk7XG5jcmVhdGVFcnJvclR5cGUoJ0VSUl9TVFJFQU1fV1JJVEVfQUZURVJfRU5EJywgJ3dyaXRlIGFmdGVyIGVuZCcpO1xuY3JlYXRlRXJyb3JUeXBlKCdFUlJfU1RSRUFNX05VTExfVkFMVUVTJywgJ01heSBub3Qgd3JpdGUgbnVsbCB2YWx1ZXMgdG8gc3RyZWFtJywgVHlwZUVycm9yKTtcbmNyZWF0ZUVycm9yVHlwZSgnRVJSX1VOS05PV05fRU5DT0RJTkcnLCBmdW5jdGlvbiAoYXJnKSB7XG4gIHJldHVybiAnVW5rbm93biBlbmNvZGluZzogJyArIGFyZ1xufSwgVHlwZUVycm9yKTtcbmNyZWF0ZUVycm9yVHlwZSgnRVJSX1NUUkVBTV9VTlNISUZUX0FGVEVSX0VORF9FVkVOVCcsICdzdHJlYW0udW5zaGlmdCgpIGFmdGVyIGVuZCBldmVudCcpO1xuXG5tb2R1bGUuZXhwb3J0cy5jb2RlcyA9IGNvZGVzO1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIEVSUl9JTlZBTElEX09QVF9WQUxVRSA9IHJlcXVpcmUoJy4uLy4uLy4uL2Vycm9ycycpLmNvZGVzLkVSUl9JTlZBTElEX09QVF9WQUxVRTtcblxuZnVuY3Rpb24gaGlnaFdhdGVyTWFya0Zyb20ob3B0aW9ucywgaXNEdXBsZXgsIGR1cGxleEtleSkge1xuICByZXR1cm4gb3B0aW9ucy5oaWdoV2F0ZXJNYXJrICE9IG51bGwgPyBvcHRpb25zLmhpZ2hXYXRlck1hcmsgOiBpc0R1cGxleCA/IG9wdGlvbnNbZHVwbGV4S2V5XSA6IG51bGw7XG59XG5cbmZ1bmN0aW9uIGdldEhpZ2hXYXRlck1hcmsoc3RhdGUsIG9wdGlvbnMsIGR1cGxleEtleSwgaXNEdXBsZXgpIHtcbiAgdmFyIGh3bSA9IGhpZ2hXYXRlck1hcmtGcm9tKG9wdGlvbnMsIGlzRHVwbGV4LCBkdXBsZXhLZXkpO1xuXG4gIGlmIChod20gIT0gbnVsbCkge1xuICAgIGlmICghKGlzRmluaXRlKGh3bSkgJiYgTWF0aC5mbG9vcihod20pID09PSBod20pIHx8IGh3bSA8IDApIHtcbiAgICAgIHZhciBuYW1lID0gaXNEdXBsZXggPyBkdXBsZXhLZXkgOiAnaGlnaFdhdGVyTWFyayc7XG4gICAgICB0aHJvdyBuZXcgRVJSX0lOVkFMSURfT1BUX1ZBTFVFKG5hbWUsIGh3bSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIE1hdGguZmxvb3IoaHdtKTtcbiAgfSAvLyBEZWZhdWx0IHZhbHVlXG5cblxuICByZXR1cm4gc3RhdGUub2JqZWN0TW9kZSA/IDE2IDogMTYgKiAxMDI0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgZ2V0SGlnaFdhdGVyTWFyazogZ2V0SGlnaFdhdGVyTWFya1xufTsiLCAiaWYgKHR5cGVvZiBPYmplY3QuY3JlYXRlID09PSAnZnVuY3Rpb24nKSB7XG4gIC8vIGltcGxlbWVudGF0aW9uIGZyb20gc3RhbmRhcmQgbm9kZS5qcyAndXRpbCcgbW9kdWxlXG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaW5oZXJpdHMoY3Rvciwgc3VwZXJDdG9yKSB7XG4gICAgaWYgKHN1cGVyQ3Rvcikge1xuICAgICAgY3Rvci5zdXBlcl8gPSBzdXBlckN0b3JcbiAgICAgIGN0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckN0b3IucHJvdG90eXBlLCB7XG4gICAgICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICAgICAgdmFsdWU6IGN0b3IsXG4gICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuICB9O1xufSBlbHNlIHtcbiAgLy8gb2xkIHNjaG9vbCBzaGltIGZvciBvbGQgYnJvd3NlcnNcbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpbmhlcml0cyhjdG9yLCBzdXBlckN0b3IpIHtcbiAgICBpZiAoc3VwZXJDdG9yKSB7XG4gICAgICBjdG9yLnN1cGVyXyA9IHN1cGVyQ3RvclxuICAgICAgdmFyIFRlbXBDdG9yID0gZnVuY3Rpb24gKCkge31cbiAgICAgIFRlbXBDdG9yLnByb3RvdHlwZSA9IHN1cGVyQ3Rvci5wcm90b3R5cGVcbiAgICAgIGN0b3IucHJvdG90eXBlID0gbmV3IFRlbXBDdG9yKClcbiAgICAgIGN0b3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gY3RvclxuICAgIH1cbiAgfVxufVxuIiwgInRyeSB7XG4gIHZhciB1dGlsID0gcmVxdWlyZSgndXRpbCcpO1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICBpZiAodHlwZW9mIHV0aWwuaW5oZXJpdHMgIT09ICdmdW5jdGlvbicpIHRocm93ICcnO1xuICBtb2R1bGUuZXhwb3J0cyA9IHV0aWwuaW5oZXJpdHM7XG59IGNhdGNoIChlKSB7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9pbmhlcml0c19icm93c2VyLmpzJyk7XG59XG4iLCAiXG4vKipcbiAqIEZvciBOb2RlLmpzLCBzaW1wbHkgcmUtZXhwb3J0IHRoZSBjb3JlIGB1dGlsLmRlcHJlY2F0ZWAgZnVuY3Rpb24uXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCd1dGlsJykuZGVwcmVjYXRlO1xuIiwgIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuLy8gQSBiaXQgc2ltcGxlciB0aGFuIHJlYWRhYmxlIHN0cmVhbXMuXG4vLyBJbXBsZW1lbnQgYW4gYXN5bmMgLl93cml0ZShjaHVuaywgZW5jb2RpbmcsIGNiKSwgYW5kIGl0J2xsIGhhbmRsZSBhbGxcbi8vIHRoZSBkcmFpbiBldmVudCBlbWlzc2lvbiBhbmQgYnVmZmVyaW5nLlxuJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFdyaXRhYmxlO1xuLyogPHJlcGxhY2VtZW50PiAqL1xuXG5mdW5jdGlvbiBXcml0ZVJlcShjaHVuaywgZW5jb2RpbmcsIGNiKSB7XG4gIHRoaXMuY2h1bmsgPSBjaHVuaztcbiAgdGhpcy5lbmNvZGluZyA9IGVuY29kaW5nO1xuICB0aGlzLmNhbGxiYWNrID0gY2I7XG4gIHRoaXMubmV4dCA9IG51bGw7XG59IC8vIEl0IHNlZW1zIGEgbGlua2VkIGxpc3QgYnV0IGl0IGlzIG5vdFxuLy8gdGhlcmUgd2lsbCBiZSBvbmx5IDIgb2YgdGhlc2UgZm9yIGVhY2ggc3RyZWFtXG5cblxuZnVuY3Rpb24gQ29ya2VkUmVxdWVzdChzdGF0ZSkge1xuICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gIHRoaXMubmV4dCA9IG51bGw7XG4gIHRoaXMuZW50cnkgPSBudWxsO1xuXG4gIHRoaXMuZmluaXNoID0gZnVuY3Rpb24gKCkge1xuICAgIG9uQ29ya2VkRmluaXNoKF90aGlzLCBzdGF0ZSk7XG4gIH07XG59XG4vKiA8L3JlcGxhY2VtZW50PiAqL1xuXG4vKjxyZXBsYWNlbWVudD4qL1xuXG5cbnZhciBEdXBsZXg7XG4vKjwvcmVwbGFjZW1lbnQ+Ki9cblxuV3JpdGFibGUuV3JpdGFibGVTdGF0ZSA9IFdyaXRhYmxlU3RhdGU7XG4vKjxyZXBsYWNlbWVudD4qL1xuXG52YXIgaW50ZXJuYWxVdGlsID0ge1xuICBkZXByZWNhdGU6IHJlcXVpcmUoJ3V0aWwtZGVwcmVjYXRlJylcbn07XG4vKjwvcmVwbGFjZW1lbnQ+Ki9cblxuLyo8cmVwbGFjZW1lbnQ+Ki9cblxudmFyIFN0cmVhbSA9IHJlcXVpcmUoJy4vaW50ZXJuYWwvc3RyZWFtcy9zdHJlYW0nKTtcbi8qPC9yZXBsYWNlbWVudD4qL1xuXG5cbnZhciBCdWZmZXIgPSByZXF1aXJlKCdidWZmZXInKS5CdWZmZXI7XG5cbnZhciBPdXJVaW50OEFycmF5ID0gZ2xvYmFsLlVpbnQ4QXJyYXkgfHwgZnVuY3Rpb24gKCkge307XG5cbmZ1bmN0aW9uIF91aW50OEFycmF5VG9CdWZmZXIoY2h1bmspIHtcbiAgcmV0dXJuIEJ1ZmZlci5mcm9tKGNodW5rKTtcbn1cblxuZnVuY3Rpb24gX2lzVWludDhBcnJheShvYmopIHtcbiAgcmV0dXJuIEJ1ZmZlci5pc0J1ZmZlcihvYmopIHx8IG9iaiBpbnN0YW5jZW9mIE91clVpbnQ4QXJyYXk7XG59XG5cbnZhciBkZXN0cm95SW1wbCA9IHJlcXVpcmUoJy4vaW50ZXJuYWwvc3RyZWFtcy9kZXN0cm95Jyk7XG5cbnZhciBfcmVxdWlyZSA9IHJlcXVpcmUoJy4vaW50ZXJuYWwvc3RyZWFtcy9zdGF0ZScpLFxuICAgIGdldEhpZ2hXYXRlck1hcmsgPSBfcmVxdWlyZS5nZXRIaWdoV2F0ZXJNYXJrO1xuXG52YXIgX3JlcXVpcmUkY29kZXMgPSByZXF1aXJlKCcuLi9lcnJvcnMnKS5jb2RlcyxcbiAgICBFUlJfSU5WQUxJRF9BUkdfVFlQRSA9IF9yZXF1aXJlJGNvZGVzLkVSUl9JTlZBTElEX0FSR19UWVBFLFxuICAgIEVSUl9NRVRIT0RfTk9UX0lNUExFTUVOVEVEID0gX3JlcXVpcmUkY29kZXMuRVJSX01FVEhPRF9OT1RfSU1QTEVNRU5URUQsXG4gICAgRVJSX01VTFRJUExFX0NBTExCQUNLID0gX3JlcXVpcmUkY29kZXMuRVJSX01VTFRJUExFX0NBTExCQUNLLFxuICAgIEVSUl9TVFJFQU1fQ0FOTk9UX1BJUEUgPSBfcmVxdWlyZSRjb2Rlcy5FUlJfU1RSRUFNX0NBTk5PVF9QSVBFLFxuICAgIEVSUl9TVFJFQU1fREVTVFJPWUVEID0gX3JlcXVpcmUkY29kZXMuRVJSX1NUUkVBTV9ERVNUUk9ZRUQsXG4gICAgRVJSX1NUUkVBTV9OVUxMX1ZBTFVFUyA9IF9yZXF1aXJlJGNvZGVzLkVSUl9TVFJFQU1fTlVMTF9WQUxVRVMsXG4gICAgRVJSX1NUUkVBTV9XUklURV9BRlRFUl9FTkQgPSBfcmVxdWlyZSRjb2Rlcy5FUlJfU1RSRUFNX1dSSVRFX0FGVEVSX0VORCxcbiAgICBFUlJfVU5LTk9XTl9FTkNPRElORyA9IF9yZXF1aXJlJGNvZGVzLkVSUl9VTktOT1dOX0VOQ09ESU5HO1xuXG52YXIgZXJyb3JPckRlc3Ryb3kgPSBkZXN0cm95SW1wbC5lcnJvck9yRGVzdHJveTtcblxucmVxdWlyZSgnaW5oZXJpdHMnKShXcml0YWJsZSwgU3RyZWFtKTtcblxuZnVuY3Rpb24gbm9wKCkge31cblxuZnVuY3Rpb24gV3JpdGFibGVTdGF0ZShvcHRpb25zLCBzdHJlYW0sIGlzRHVwbGV4KSB7XG4gIER1cGxleCA9IER1cGxleCB8fCByZXF1aXJlKCcuL19zdHJlYW1fZHVwbGV4Jyk7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9OyAvLyBEdXBsZXggc3RyZWFtcyBhcmUgYm90aCByZWFkYWJsZSBhbmQgd3JpdGFibGUsIGJ1dCBzaGFyZVxuICAvLyB0aGUgc2FtZSBvcHRpb25zIG9iamVjdC5cbiAgLy8gSG93ZXZlciwgc29tZSBjYXNlcyByZXF1aXJlIHNldHRpbmcgb3B0aW9ucyB0byBkaWZmZXJlbnRcbiAgLy8gdmFsdWVzIGZvciB0aGUgcmVhZGFibGUgYW5kIHRoZSB3cml0YWJsZSBzaWRlcyBvZiB0aGUgZHVwbGV4IHN0cmVhbSxcbiAgLy8gZS5nLiBvcHRpb25zLnJlYWRhYmxlT2JqZWN0TW9kZSB2cy4gb3B0aW9ucy53cml0YWJsZU9iamVjdE1vZGUsIGV0Yy5cblxuICBpZiAodHlwZW9mIGlzRHVwbGV4ICE9PSAnYm9vbGVhbicpIGlzRHVwbGV4ID0gc3RyZWFtIGluc3RhbmNlb2YgRHVwbGV4OyAvLyBvYmplY3Qgc3RyZWFtIGZsYWcgdG8gaW5kaWNhdGUgd2hldGhlciBvciBub3QgdGhpcyBzdHJlYW1cbiAgLy8gY29udGFpbnMgYnVmZmVycyBvciBvYmplY3RzLlxuXG4gIHRoaXMub2JqZWN0TW9kZSA9ICEhb3B0aW9ucy5vYmplY3RNb2RlO1xuICBpZiAoaXNEdXBsZXgpIHRoaXMub2JqZWN0TW9kZSA9IHRoaXMub2JqZWN0TW9kZSB8fCAhIW9wdGlvbnMud3JpdGFibGVPYmplY3RNb2RlOyAvLyB0aGUgcG9pbnQgYXQgd2hpY2ggd3JpdGUoKSBzdGFydHMgcmV0dXJuaW5nIGZhbHNlXG4gIC8vIE5vdGU6IDAgaXMgYSB2YWxpZCB2YWx1ZSwgbWVhbnMgdGhhdCB3ZSBhbHdheXMgcmV0dXJuIGZhbHNlIGlmXG4gIC8vIHRoZSBlbnRpcmUgYnVmZmVyIGlzIG5vdCBmbHVzaGVkIGltbWVkaWF0ZWx5IG9uIHdyaXRlKClcblxuICB0aGlzLmhpZ2hXYXRlck1hcmsgPSBnZXRIaWdoV2F0ZXJNYXJrKHRoaXMsIG9wdGlvbnMsICd3cml0YWJsZUhpZ2hXYXRlck1hcmsnLCBpc0R1cGxleCk7IC8vIGlmIF9maW5hbCBoYXMgYmVlbiBjYWxsZWRcblxuICB0aGlzLmZpbmFsQ2FsbGVkID0gZmFsc2U7IC8vIGRyYWluIGV2ZW50IGZsYWcuXG5cbiAgdGhpcy5uZWVkRHJhaW4gPSBmYWxzZTsgLy8gYXQgdGhlIHN0YXJ0IG9mIGNhbGxpbmcgZW5kKClcblxuICB0aGlzLmVuZGluZyA9IGZhbHNlOyAvLyB3aGVuIGVuZCgpIGhhcyBiZWVuIGNhbGxlZCwgYW5kIHJldHVybmVkXG5cbiAgdGhpcy5lbmRlZCA9IGZhbHNlOyAvLyB3aGVuICdmaW5pc2gnIGlzIGVtaXR0ZWRcblxuICB0aGlzLmZpbmlzaGVkID0gZmFsc2U7IC8vIGhhcyBpdCBiZWVuIGRlc3Ryb3llZFxuXG4gIHRoaXMuZGVzdHJveWVkID0gZmFsc2U7IC8vIHNob3VsZCB3ZSBkZWNvZGUgc3RyaW5ncyBpbnRvIGJ1ZmZlcnMgYmVmb3JlIHBhc3NpbmcgdG8gX3dyaXRlP1xuICAvLyB0aGlzIGlzIGhlcmUgc28gdGhhdCBzb21lIG5vZGUtY29yZSBzdHJlYW1zIGNhbiBvcHRpbWl6ZSBzdHJpbmdcbiAgLy8gaGFuZGxpbmcgYXQgYSBsb3dlciBsZXZlbC5cblxuICB2YXIgbm9EZWNvZGUgPSBvcHRpb25zLmRlY29kZVN0cmluZ3MgPT09IGZhbHNlO1xuICB0aGlzLmRlY29kZVN0cmluZ3MgPSAhbm9EZWNvZGU7IC8vIENyeXB0byBpcyBraW5kIG9mIG9sZCBhbmQgY3J1c3R5LiAgSGlzdG9yaWNhbGx5LCBpdHMgZGVmYXVsdCBzdHJpbmdcbiAgLy8gZW5jb2RpbmcgaXMgJ2JpbmFyeScgc28gd2UgaGF2ZSB0byBtYWtlIHRoaXMgY29uZmlndXJhYmxlLlxuICAvLyBFdmVyeXRoaW5nIGVsc2UgaW4gdGhlIHVuaXZlcnNlIHVzZXMgJ3V0ZjgnLCB0aG91Z2guXG5cbiAgdGhpcy5kZWZhdWx0RW5jb2RpbmcgPSBvcHRpb25zLmRlZmF1bHRFbmNvZGluZyB8fCAndXRmOCc7IC8vIG5vdCBhbiBhY3R1YWwgYnVmZmVyIHdlIGtlZXAgdHJhY2sgb2YsIGJ1dCBhIG1lYXN1cmVtZW50XG4gIC8vIG9mIGhvdyBtdWNoIHdlJ3JlIHdhaXRpbmcgdG8gZ2V0IHB1c2hlZCB0byBzb21lIHVuZGVybHlpbmdcbiAgLy8gc29ja2V0IG9yIGZpbGUuXG5cbiAgdGhpcy5sZW5ndGggPSAwOyAvLyBhIGZsYWcgdG8gc2VlIHdoZW4gd2UncmUgaW4gdGhlIG1pZGRsZSBvZiBhIHdyaXRlLlxuXG4gIHRoaXMud3JpdGluZyA9IGZhbHNlOyAvLyB3aGVuIHRydWUgYWxsIHdyaXRlcyB3aWxsIGJlIGJ1ZmZlcmVkIHVudGlsIC51bmNvcmsoKSBjYWxsXG5cbiAgdGhpcy5jb3JrZWQgPSAwOyAvLyBhIGZsYWcgdG8gYmUgYWJsZSB0byB0ZWxsIGlmIHRoZSBvbndyaXRlIGNiIGlzIGNhbGxlZCBpbW1lZGlhdGVseSxcbiAgLy8gb3Igb24gYSBsYXRlciB0aWNrLiAgV2Ugc2V0IHRoaXMgdG8gdHJ1ZSBhdCBmaXJzdCwgYmVjYXVzZSBhbnlcbiAgLy8gYWN0aW9ucyB0aGF0IHNob3VsZG4ndCBoYXBwZW4gdW50aWwgXCJsYXRlclwiIHNob3VsZCBnZW5lcmFsbHkgYWxzb1xuICAvLyBub3QgaGFwcGVuIGJlZm9yZSB0aGUgZmlyc3Qgd3JpdGUgY2FsbC5cblxuICB0aGlzLnN5bmMgPSB0cnVlOyAvLyBhIGZsYWcgdG8ga25vdyBpZiB3ZSdyZSBwcm9jZXNzaW5nIHByZXZpb3VzbHkgYnVmZmVyZWQgaXRlbXMsIHdoaWNoXG4gIC8vIG1heSBjYWxsIHRoZSBfd3JpdGUoKSBjYWxsYmFjayBpbiB0aGUgc2FtZSB0aWNrLCBzbyB0aGF0IHdlIGRvbid0XG4gIC8vIGVuZCB1cCBpbiBhbiBvdmVybGFwcGVkIG9ud3JpdGUgc2l0dWF0aW9uLlxuXG4gIHRoaXMuYnVmZmVyUHJvY2Vzc2luZyA9IGZhbHNlOyAvLyB0aGUgY2FsbGJhY2sgdGhhdCdzIHBhc3NlZCB0byBfd3JpdGUoY2h1bmssY2IpXG5cbiAgdGhpcy5vbndyaXRlID0gZnVuY3Rpb24gKGVyKSB7XG4gICAgb253cml0ZShzdHJlYW0sIGVyKTtcbiAgfTsgLy8gdGhlIGNhbGxiYWNrIHRoYXQgdGhlIHVzZXIgc3VwcGxpZXMgdG8gd3JpdGUoY2h1bmssZW5jb2RpbmcsY2IpXG5cblxuICB0aGlzLndyaXRlY2IgPSBudWxsOyAvLyB0aGUgYW1vdW50IHRoYXQgaXMgYmVpbmcgd3JpdHRlbiB3aGVuIF93cml0ZSBpcyBjYWxsZWQuXG5cbiAgdGhpcy53cml0ZWxlbiA9IDA7XG4gIHRoaXMuYnVmZmVyZWRSZXF1ZXN0ID0gbnVsbDtcbiAgdGhpcy5sYXN0QnVmZmVyZWRSZXF1ZXN0ID0gbnVsbDsgLy8gbnVtYmVyIG9mIHBlbmRpbmcgdXNlci1zdXBwbGllZCB3cml0ZSBjYWxsYmFja3NcbiAgLy8gdGhpcyBtdXN0IGJlIDAgYmVmb3JlICdmaW5pc2gnIGNhbiBiZSBlbWl0dGVkXG5cbiAgdGhpcy5wZW5kaW5nY2IgPSAwOyAvLyBlbWl0IHByZWZpbmlzaCBpZiB0aGUgb25seSB0aGluZyB3ZSdyZSB3YWl0aW5nIGZvciBpcyBfd3JpdGUgY2JzXG4gIC8vIFRoaXMgaXMgcmVsZXZhbnQgZm9yIHN5bmNocm9ub3VzIFRyYW5zZm9ybSBzdHJlYW1zXG5cbiAgdGhpcy5wcmVmaW5pc2hlZCA9IGZhbHNlOyAvLyBUcnVlIGlmIHRoZSBlcnJvciB3YXMgYWxyZWFkeSBlbWl0dGVkIGFuZCBzaG91bGQgbm90IGJlIHRocm93biBhZ2FpblxuXG4gIHRoaXMuZXJyb3JFbWl0dGVkID0gZmFsc2U7IC8vIFNob3VsZCBjbG9zZSBiZSBlbWl0dGVkIG9uIGRlc3Ryb3kuIERlZmF1bHRzIHRvIHRydWUuXG5cbiAgdGhpcy5lbWl0Q2xvc2UgPSBvcHRpb25zLmVtaXRDbG9zZSAhPT0gZmFsc2U7IC8vIFNob3VsZCAuZGVzdHJveSgpIGJlIGNhbGxlZCBhZnRlciAnZmluaXNoJyAoYW5kIHBvdGVudGlhbGx5ICdlbmQnKVxuXG4gIHRoaXMuYXV0b0Rlc3Ryb3kgPSAhIW9wdGlvbnMuYXV0b0Rlc3Ryb3k7IC8vIGNvdW50IGJ1ZmZlcmVkIHJlcXVlc3RzXG5cbiAgdGhpcy5idWZmZXJlZFJlcXVlc3RDb3VudCA9IDA7IC8vIGFsbG9jYXRlIHRoZSBmaXJzdCBDb3JrZWRSZXF1ZXN0LCB0aGVyZSBpcyBhbHdheXNcbiAgLy8gb25lIGFsbG9jYXRlZCBhbmQgZnJlZSB0byB1c2UsIGFuZCB3ZSBtYWludGFpbiBhdCBtb3N0IHR3b1xuXG4gIHRoaXMuY29ya2VkUmVxdWVzdHNGcmVlID0gbmV3IENvcmtlZFJlcXVlc3QodGhpcyk7XG59XG5cbldyaXRhYmxlU3RhdGUucHJvdG90eXBlLmdldEJ1ZmZlciA9IGZ1bmN0aW9uIGdldEJ1ZmZlcigpIHtcbiAgdmFyIGN1cnJlbnQgPSB0aGlzLmJ1ZmZlcmVkUmVxdWVzdDtcbiAgdmFyIG91dCA9IFtdO1xuXG4gIHdoaWxlIChjdXJyZW50KSB7XG4gICAgb3V0LnB1c2goY3VycmVudCk7XG4gICAgY3VycmVudCA9IGN1cnJlbnQubmV4dDtcbiAgfVxuXG4gIHJldHVybiBvdXQ7XG59O1xuXG4oZnVuY3Rpb24gKCkge1xuICB0cnkge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShXcml0YWJsZVN0YXRlLnByb3RvdHlwZSwgJ2J1ZmZlcicsIHtcbiAgICAgIGdldDogaW50ZXJuYWxVdGlsLmRlcHJlY2F0ZShmdW5jdGlvbiB3cml0YWJsZVN0YXRlQnVmZmVyR2V0dGVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRCdWZmZXIoKTtcbiAgICAgIH0sICdfd3JpdGFibGVTdGF0ZS5idWZmZXIgaXMgZGVwcmVjYXRlZC4gVXNlIF93cml0YWJsZVN0YXRlLmdldEJ1ZmZlciAnICsgJ2luc3RlYWQuJywgJ0RFUDAwMDMnKVxuICAgIH0pO1xuICB9IGNhdGNoIChfKSB7fVxufSkoKTsgLy8gVGVzdCBfd3JpdGFibGVTdGF0ZSBmb3IgaW5oZXJpdGFuY2UgdG8gYWNjb3VudCBmb3IgRHVwbGV4IHN0cmVhbXMsXG4vLyB3aG9zZSBwcm90b3R5cGUgY2hhaW4gb25seSBwb2ludHMgdG8gUmVhZGFibGUuXG5cblxudmFyIHJlYWxIYXNJbnN0YW5jZTtcblxuaWYgKHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgU3ltYm9sLmhhc0luc3RhbmNlICYmIHR5cGVvZiBGdW5jdGlvbi5wcm90b3R5cGVbU3ltYm9sLmhhc0luc3RhbmNlXSA9PT0gJ2Z1bmN0aW9uJykge1xuICByZWFsSGFzSW5zdGFuY2UgPSBGdW5jdGlvbi5wcm90b3R5cGVbU3ltYm9sLmhhc0luc3RhbmNlXTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFdyaXRhYmxlLCBTeW1ib2wuaGFzSW5zdGFuY2UsIHtcbiAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUob2JqZWN0KSB7XG4gICAgICBpZiAocmVhbEhhc0luc3RhbmNlLmNhbGwodGhpcywgb2JqZWN0KSkgcmV0dXJuIHRydWU7XG4gICAgICBpZiAodGhpcyAhPT0gV3JpdGFibGUpIHJldHVybiBmYWxzZTtcbiAgICAgIHJldHVybiBvYmplY3QgJiYgb2JqZWN0Ll93cml0YWJsZVN0YXRlIGluc3RhbmNlb2YgV3JpdGFibGVTdGF0ZTtcbiAgICB9XG4gIH0pO1xufSBlbHNlIHtcbiAgcmVhbEhhc0luc3RhbmNlID0gZnVuY3Rpb24gcmVhbEhhc0luc3RhbmNlKG9iamVjdCkge1xuICAgIHJldHVybiBvYmplY3QgaW5zdGFuY2VvZiB0aGlzO1xuICB9O1xufVxuXG5mdW5jdGlvbiBXcml0YWJsZShvcHRpb25zKSB7XG4gIER1cGxleCA9IER1cGxleCB8fCByZXF1aXJlKCcuL19zdHJlYW1fZHVwbGV4Jyk7IC8vIFdyaXRhYmxlIGN0b3IgaXMgYXBwbGllZCB0byBEdXBsZXhlcywgdG9vLlxuICAvLyBgcmVhbEhhc0luc3RhbmNlYCBpcyBuZWNlc3NhcnkgYmVjYXVzZSB1c2luZyBwbGFpbiBgaW5zdGFuY2VvZmBcbiAgLy8gd291bGQgcmV0dXJuIGZhbHNlLCBhcyBubyBgX3dyaXRhYmxlU3RhdGVgIHByb3BlcnR5IGlzIGF0dGFjaGVkLlxuICAvLyBUcnlpbmcgdG8gdXNlIHRoZSBjdXN0b20gYGluc3RhbmNlb2ZgIGZvciBXcml0YWJsZSBoZXJlIHdpbGwgYWxzbyBicmVhayB0aGVcbiAgLy8gTm9kZS5qcyBMYXp5VHJhbnNmb3JtIGltcGxlbWVudGF0aW9uLCB3aGljaCBoYXMgYSBub24tdHJpdmlhbCBnZXR0ZXIgZm9yXG4gIC8vIGBfd3JpdGFibGVTdGF0ZWAgdGhhdCB3b3VsZCBsZWFkIHRvIGluZmluaXRlIHJlY3Vyc2lvbi5cbiAgLy8gQ2hlY2tpbmcgZm9yIGEgU3RyZWFtLkR1cGxleCBpbnN0YW5jZSBpcyBmYXN0ZXIgaGVyZSBpbnN0ZWFkIG9mIGluc2lkZVxuICAvLyB0aGUgV3JpdGFibGVTdGF0ZSBjb25zdHJ1Y3RvciwgYXQgbGVhc3Qgd2l0aCBWOCA2LjVcblxuICB2YXIgaXNEdXBsZXggPSB0aGlzIGluc3RhbmNlb2YgRHVwbGV4O1xuICBpZiAoIWlzRHVwbGV4ICYmICFyZWFsSGFzSW5zdGFuY2UuY2FsbChXcml0YWJsZSwgdGhpcykpIHJldHVybiBuZXcgV3JpdGFibGUob3B0aW9ucyk7XG4gIHRoaXMuX3dyaXRhYmxlU3RhdGUgPSBuZXcgV3JpdGFibGVTdGF0ZShvcHRpb25zLCB0aGlzLCBpc0R1cGxleCk7IC8vIGxlZ2FjeS5cblxuICB0aGlzLndyaXRhYmxlID0gdHJ1ZTtcblxuICBpZiAob3B0aW9ucykge1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy53cml0ZSA9PT0gJ2Z1bmN0aW9uJykgdGhpcy5fd3JpdGUgPSBvcHRpb25zLndyaXRlO1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy53cml0ZXYgPT09ICdmdW5jdGlvbicpIHRoaXMuX3dyaXRldiA9IG9wdGlvbnMud3JpdGV2O1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5kZXN0cm95ID09PSAnZnVuY3Rpb24nKSB0aGlzLl9kZXN0cm95ID0gb3B0aW9ucy5kZXN0cm95O1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5maW5hbCA9PT0gJ2Z1bmN0aW9uJykgdGhpcy5fZmluYWwgPSBvcHRpb25zLmZpbmFsO1xuICB9XG5cbiAgU3RyZWFtLmNhbGwodGhpcyk7XG59IC8vIE90aGVyd2lzZSBwZW9wbGUgY2FuIHBpcGUgV3JpdGFibGUgc3RyZWFtcywgd2hpY2ggaXMganVzdCB3cm9uZy5cblxuXG5Xcml0YWJsZS5wcm90b3R5cGUucGlwZSA9IGZ1bmN0aW9uICgpIHtcbiAgZXJyb3JPckRlc3Ryb3kodGhpcywgbmV3IEVSUl9TVFJFQU1fQ0FOTk9UX1BJUEUoKSk7XG59O1xuXG5mdW5jdGlvbiB3cml0ZUFmdGVyRW5kKHN0cmVhbSwgY2IpIHtcbiAgdmFyIGVyID0gbmV3IEVSUl9TVFJFQU1fV1JJVEVfQUZURVJfRU5EKCk7IC8vIFRPRE86IGRlZmVyIGVycm9yIGV2ZW50cyBjb25zaXN0ZW50bHkgZXZlcnl3aGVyZSwgbm90IGp1c3QgdGhlIGNiXG5cbiAgZXJyb3JPckRlc3Ryb3koc3RyZWFtLCBlcik7XG4gIHByb2Nlc3MubmV4dFRpY2soY2IsIGVyKTtcbn0gLy8gQ2hlY2tzIHRoYXQgYSB1c2VyLXN1cHBsaWVkIGNodW5rIGlzIHZhbGlkLCBlc3BlY2lhbGx5IGZvciB0aGUgcGFydGljdWxhclxuLy8gbW9kZSB0aGUgc3RyZWFtIGlzIGluLiBDdXJyZW50bHkgdGhpcyBtZWFucyB0aGF0IGBudWxsYCBpcyBuZXZlciBhY2NlcHRlZFxuLy8gYW5kIHVuZGVmaW5lZC9ub24tc3RyaW5nIHZhbHVlcyBhcmUgb25seSBhbGxvd2VkIGluIG9iamVjdCBtb2RlLlxuXG5cbmZ1bmN0aW9uIHZhbGlkQ2h1bmsoc3RyZWFtLCBzdGF0ZSwgY2h1bmssIGNiKSB7XG4gIHZhciBlcjtcblxuICBpZiAoY2h1bmsgPT09IG51bGwpIHtcbiAgICBlciA9IG5ldyBFUlJfU1RSRUFNX05VTExfVkFMVUVTKCk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGNodW5rICE9PSAnc3RyaW5nJyAmJiAhc3RhdGUub2JqZWN0TW9kZSkge1xuICAgIGVyID0gbmV3IEVSUl9JTlZBTElEX0FSR19UWVBFKCdjaHVuaycsIFsnc3RyaW5nJywgJ0J1ZmZlciddLCBjaHVuayk7XG4gIH1cblxuICBpZiAoZXIpIHtcbiAgICBlcnJvck9yRGVzdHJveShzdHJlYW0sIGVyKTtcbiAgICBwcm9jZXNzLm5leHRUaWNrKGNiLCBlcik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbldyaXRhYmxlLnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uIChjaHVuaywgZW5jb2RpbmcsIGNiKSB7XG4gIHZhciBzdGF0ZSA9IHRoaXMuX3dyaXRhYmxlU3RhdGU7XG4gIHZhciByZXQgPSBmYWxzZTtcblxuICB2YXIgaXNCdWYgPSAhc3RhdGUub2JqZWN0TW9kZSAmJiBfaXNVaW50OEFycmF5KGNodW5rKTtcblxuICBpZiAoaXNCdWYgJiYgIUJ1ZmZlci5pc0J1ZmZlcihjaHVuaykpIHtcbiAgICBjaHVuayA9IF91aW50OEFycmF5VG9CdWZmZXIoY2h1bmspO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBlbmNvZGluZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNiID0gZW5jb2Rpbmc7XG4gICAgZW5jb2RpbmcgPSBudWxsO1xuICB9XG5cbiAgaWYgKGlzQnVmKSBlbmNvZGluZyA9ICdidWZmZXInO2Vsc2UgaWYgKCFlbmNvZGluZykgZW5jb2RpbmcgPSBzdGF0ZS5kZWZhdWx0RW5jb2Rpbmc7XG4gIGlmICh0eXBlb2YgY2IgIT09ICdmdW5jdGlvbicpIGNiID0gbm9wO1xuICBpZiAoc3RhdGUuZW5kaW5nKSB3cml0ZUFmdGVyRW5kKHRoaXMsIGNiKTtlbHNlIGlmIChpc0J1ZiB8fCB2YWxpZENodW5rKHRoaXMsIHN0YXRlLCBjaHVuaywgY2IpKSB7XG4gICAgc3RhdGUucGVuZGluZ2NiKys7XG4gICAgcmV0ID0gd3JpdGVPckJ1ZmZlcih0aGlzLCBzdGF0ZSwgaXNCdWYsIGNodW5rLCBlbmNvZGluZywgY2IpO1xuICB9XG4gIHJldHVybiByZXQ7XG59O1xuXG5Xcml0YWJsZS5wcm90b3R5cGUuY29yayA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5fd3JpdGFibGVTdGF0ZS5jb3JrZWQrKztcbn07XG5cbldyaXRhYmxlLnByb3RvdHlwZS51bmNvcmsgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBzdGF0ZSA9IHRoaXMuX3dyaXRhYmxlU3RhdGU7XG5cbiAgaWYgKHN0YXRlLmNvcmtlZCkge1xuICAgIHN0YXRlLmNvcmtlZC0tO1xuICAgIGlmICghc3RhdGUud3JpdGluZyAmJiAhc3RhdGUuY29ya2VkICYmICFzdGF0ZS5idWZmZXJQcm9jZXNzaW5nICYmIHN0YXRlLmJ1ZmZlcmVkUmVxdWVzdCkgY2xlYXJCdWZmZXIodGhpcywgc3RhdGUpO1xuICB9XG59O1xuXG5Xcml0YWJsZS5wcm90b3R5cGUuc2V0RGVmYXVsdEVuY29kaW5nID0gZnVuY3Rpb24gc2V0RGVmYXVsdEVuY29kaW5nKGVuY29kaW5nKSB7XG4gIC8vIG5vZGU6OlBhcnNlRW5jb2RpbmcoKSByZXF1aXJlcyBsb3dlciBjYXNlLlxuICBpZiAodHlwZW9mIGVuY29kaW5nID09PSAnc3RyaW5nJykgZW5jb2RpbmcgPSBlbmNvZGluZy50b0xvd2VyQ2FzZSgpO1xuICBpZiAoIShbJ2hleCcsICd1dGY4JywgJ3V0Zi04JywgJ2FzY2lpJywgJ2JpbmFyeScsICdiYXNlNjQnLCAndWNzMicsICd1Y3MtMicsICd1dGYxNmxlJywgJ3V0Zi0xNmxlJywgJ3JhdyddLmluZGV4T2YoKGVuY29kaW5nICsgJycpLnRvTG93ZXJDYXNlKCkpID4gLTEpKSB0aHJvdyBuZXcgRVJSX1VOS05PV05fRU5DT0RJTkcoZW5jb2RpbmcpO1xuICB0aGlzLl93cml0YWJsZVN0YXRlLmRlZmF1bHRFbmNvZGluZyA9IGVuY29kaW5nO1xuICByZXR1cm4gdGhpcztcbn07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShXcml0YWJsZS5wcm90b3R5cGUsICd3cml0YWJsZUJ1ZmZlcicsIHtcbiAgLy8gbWFraW5nIGl0IGV4cGxpY2l0IHRoaXMgcHJvcGVydHkgaXMgbm90IGVudW1lcmFibGVcbiAgLy8gYmVjYXVzZSBvdGhlcndpc2Ugc29tZSBwcm90b3R5cGUgbWFuaXB1bGF0aW9uIGluXG4gIC8vIHVzZXJsYW5kIHdpbGwgZmFpbFxuICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3dyaXRhYmxlU3RhdGUgJiYgdGhpcy5fd3JpdGFibGVTdGF0ZS5nZXRCdWZmZXIoKTtcbiAgfVxufSk7XG5cbmZ1bmN0aW9uIGRlY29kZUNodW5rKHN0YXRlLCBjaHVuaywgZW5jb2RpbmcpIHtcbiAgaWYgKCFzdGF0ZS5vYmplY3RNb2RlICYmIHN0YXRlLmRlY29kZVN0cmluZ3MgIT09IGZhbHNlICYmIHR5cGVvZiBjaHVuayA9PT0gJ3N0cmluZycpIHtcbiAgICBjaHVuayA9IEJ1ZmZlci5mcm9tKGNodW5rLCBlbmNvZGluZyk7XG4gIH1cblxuICByZXR1cm4gY2h1bms7XG59XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShXcml0YWJsZS5wcm90b3R5cGUsICd3cml0YWJsZUhpZ2hXYXRlck1hcmsnLCB7XG4gIC8vIG1ha2luZyBpdCBleHBsaWNpdCB0aGlzIHByb3BlcnR5IGlzIG5vdCBlbnVtZXJhYmxlXG4gIC8vIGJlY2F1c2Ugb3RoZXJ3aXNlIHNvbWUgcHJvdG90eXBlIG1hbmlwdWxhdGlvbiBpblxuICAvLyB1c2VybGFuZCB3aWxsIGZhaWxcbiAgZW51bWVyYWJsZTogZmFsc2UsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiB0aGlzLl93cml0YWJsZVN0YXRlLmhpZ2hXYXRlck1hcms7XG4gIH1cbn0pOyAvLyBpZiB3ZSdyZSBhbHJlYWR5IHdyaXRpbmcgc29tZXRoaW5nLCB0aGVuIGp1c3QgcHV0IHRoaXNcbi8vIGluIHRoZSBxdWV1ZSwgYW5kIHdhaXQgb3VyIHR1cm4uICBPdGhlcndpc2UsIGNhbGwgX3dyaXRlXG4vLyBJZiB3ZSByZXR1cm4gZmFsc2UsIHRoZW4gd2UgbmVlZCBhIGRyYWluIGV2ZW50LCBzbyBzZXQgdGhhdCBmbGFnLlxuXG5mdW5jdGlvbiB3cml0ZU9yQnVmZmVyKHN0cmVhbSwgc3RhdGUsIGlzQnVmLCBjaHVuaywgZW5jb2RpbmcsIGNiKSB7XG4gIGlmICghaXNCdWYpIHtcbiAgICB2YXIgbmV3Q2h1bmsgPSBkZWNvZGVDaHVuayhzdGF0ZSwgY2h1bmssIGVuY29kaW5nKTtcblxuICAgIGlmIChjaHVuayAhPT0gbmV3Q2h1bmspIHtcbiAgICAgIGlzQnVmID0gdHJ1ZTtcbiAgICAgIGVuY29kaW5nID0gJ2J1ZmZlcic7XG4gICAgICBjaHVuayA9IG5ld0NodW5rO1xuICAgIH1cbiAgfVxuXG4gIHZhciBsZW4gPSBzdGF0ZS5vYmplY3RNb2RlID8gMSA6IGNodW5rLmxlbmd0aDtcbiAgc3RhdGUubGVuZ3RoICs9IGxlbjtcbiAgdmFyIHJldCA9IHN0YXRlLmxlbmd0aCA8IHN0YXRlLmhpZ2hXYXRlck1hcms7IC8vIHdlIG11c3QgZW5zdXJlIHRoYXQgcHJldmlvdXMgbmVlZERyYWluIHdpbGwgbm90IGJlIHJlc2V0IHRvIGZhbHNlLlxuXG4gIGlmICghcmV0KSBzdGF0ZS5uZWVkRHJhaW4gPSB0cnVlO1xuXG4gIGlmIChzdGF0ZS53cml0aW5nIHx8IHN0YXRlLmNvcmtlZCkge1xuICAgIHZhciBsYXN0ID0gc3RhdGUubGFzdEJ1ZmZlcmVkUmVxdWVzdDtcbiAgICBzdGF0ZS5sYXN0QnVmZmVyZWRSZXF1ZXN0ID0ge1xuICAgICAgY2h1bms6IGNodW5rLFxuICAgICAgZW5jb2Rpbmc6IGVuY29kaW5nLFxuICAgICAgaXNCdWY6IGlzQnVmLFxuICAgICAgY2FsbGJhY2s6IGNiLFxuICAgICAgbmV4dDogbnVsbFxuICAgIH07XG5cbiAgICBpZiAobGFzdCkge1xuICAgICAgbGFzdC5uZXh0ID0gc3RhdGUubGFzdEJ1ZmZlcmVkUmVxdWVzdDtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RhdGUuYnVmZmVyZWRSZXF1ZXN0ID0gc3RhdGUubGFzdEJ1ZmZlcmVkUmVxdWVzdDtcbiAgICB9XG5cbiAgICBzdGF0ZS5idWZmZXJlZFJlcXVlc3RDb3VudCArPSAxO1xuICB9IGVsc2Uge1xuICAgIGRvV3JpdGUoc3RyZWFtLCBzdGF0ZSwgZmFsc2UsIGxlbiwgY2h1bmssIGVuY29kaW5nLCBjYik7XG4gIH1cblxuICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBkb1dyaXRlKHN0cmVhbSwgc3RhdGUsIHdyaXRldiwgbGVuLCBjaHVuaywgZW5jb2RpbmcsIGNiKSB7XG4gIHN0YXRlLndyaXRlbGVuID0gbGVuO1xuICBzdGF0ZS53cml0ZWNiID0gY2I7XG4gIHN0YXRlLndyaXRpbmcgPSB0cnVlO1xuICBzdGF0ZS5zeW5jID0gdHJ1ZTtcbiAgaWYgKHN0YXRlLmRlc3Ryb3llZCkgc3RhdGUub253cml0ZShuZXcgRVJSX1NUUkVBTV9ERVNUUk9ZRUQoJ3dyaXRlJykpO2Vsc2UgaWYgKHdyaXRldikgc3RyZWFtLl93cml0ZXYoY2h1bmssIHN0YXRlLm9ud3JpdGUpO2Vsc2Ugc3RyZWFtLl93cml0ZShjaHVuaywgZW5jb2RpbmcsIHN0YXRlLm9ud3JpdGUpO1xuICBzdGF0ZS5zeW5jID0gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIG9ud3JpdGVFcnJvcihzdHJlYW0sIHN0YXRlLCBzeW5jLCBlciwgY2IpIHtcbiAgLS1zdGF0ZS5wZW5kaW5nY2I7XG5cbiAgaWYgKHN5bmMpIHtcbiAgICAvLyBkZWZlciB0aGUgY2FsbGJhY2sgaWYgd2UgYXJlIGJlaW5nIGNhbGxlZCBzeW5jaHJvbm91c2x5XG4gICAgLy8gdG8gYXZvaWQgcGlsaW5nIHVwIHRoaW5ncyBvbiB0aGUgc3RhY2tcbiAgICBwcm9jZXNzLm5leHRUaWNrKGNiLCBlcik7IC8vIHRoaXMgY2FuIGVtaXQgZmluaXNoLCBhbmQgaXQgd2lsbCBhbHdheXMgaGFwcGVuXG4gICAgLy8gYWZ0ZXIgZXJyb3JcblxuICAgIHByb2Nlc3MubmV4dFRpY2soZmluaXNoTWF5YmUsIHN0cmVhbSwgc3RhdGUpO1xuICAgIHN0cmVhbS5fd3JpdGFibGVTdGF0ZS5lcnJvckVtaXR0ZWQgPSB0cnVlO1xuICAgIGVycm9yT3JEZXN0cm95KHN0cmVhbSwgZXIpO1xuICB9IGVsc2Uge1xuICAgIC8vIHRoZSBjYWxsZXIgZXhwZWN0IHRoaXMgdG8gaGFwcGVuIGJlZm9yZSBpZlxuICAgIC8vIGl0IGlzIGFzeW5jXG4gICAgY2IoZXIpO1xuICAgIHN0cmVhbS5fd3JpdGFibGVTdGF0ZS5lcnJvckVtaXR0ZWQgPSB0cnVlO1xuICAgIGVycm9yT3JEZXN0cm95KHN0cmVhbSwgZXIpOyAvLyB0aGlzIGNhbiBlbWl0IGZpbmlzaCwgYnV0IGZpbmlzaCBtdXN0XG4gICAgLy8gYWx3YXlzIGZvbGxvdyBlcnJvclxuXG4gICAgZmluaXNoTWF5YmUoc3RyZWFtLCBzdGF0ZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gb253cml0ZVN0YXRlVXBkYXRlKHN0YXRlKSB7XG4gIHN0YXRlLndyaXRpbmcgPSBmYWxzZTtcbiAgc3RhdGUud3JpdGVjYiA9IG51bGw7XG4gIHN0YXRlLmxlbmd0aCAtPSBzdGF0ZS53cml0ZWxlbjtcbiAgc3RhdGUud3JpdGVsZW4gPSAwO1xufVxuXG5mdW5jdGlvbiBvbndyaXRlKHN0cmVhbSwgZXIpIHtcbiAgdmFyIHN0YXRlID0gc3RyZWFtLl93cml0YWJsZVN0YXRlO1xuICB2YXIgc3luYyA9IHN0YXRlLnN5bmM7XG4gIHZhciBjYiA9IHN0YXRlLndyaXRlY2I7XG4gIGlmICh0eXBlb2YgY2IgIT09ICdmdW5jdGlvbicpIHRocm93IG5ldyBFUlJfTVVMVElQTEVfQ0FMTEJBQ0soKTtcbiAgb253cml0ZVN0YXRlVXBkYXRlKHN0YXRlKTtcbiAgaWYgKGVyKSBvbndyaXRlRXJyb3Ioc3RyZWFtLCBzdGF0ZSwgc3luYywgZXIsIGNiKTtlbHNlIHtcbiAgICAvLyBDaGVjayBpZiB3ZSdyZSBhY3R1YWxseSByZWFkeSB0byBmaW5pc2gsIGJ1dCBkb24ndCBlbWl0IHlldFxuICAgIHZhciBmaW5pc2hlZCA9IG5lZWRGaW5pc2goc3RhdGUpIHx8IHN0cmVhbS5kZXN0cm95ZWQ7XG5cbiAgICBpZiAoIWZpbmlzaGVkICYmICFzdGF0ZS5jb3JrZWQgJiYgIXN0YXRlLmJ1ZmZlclByb2Nlc3NpbmcgJiYgc3RhdGUuYnVmZmVyZWRSZXF1ZXN0KSB7XG4gICAgICBjbGVhckJ1ZmZlcihzdHJlYW0sIHN0YXRlKTtcbiAgICB9XG5cbiAgICBpZiAoc3luYykge1xuICAgICAgcHJvY2Vzcy5uZXh0VGljayhhZnRlcldyaXRlLCBzdHJlYW0sIHN0YXRlLCBmaW5pc2hlZCwgY2IpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhZnRlcldyaXRlKHN0cmVhbSwgc3RhdGUsIGZpbmlzaGVkLCBjYik7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGFmdGVyV3JpdGUoc3RyZWFtLCBzdGF0ZSwgZmluaXNoZWQsIGNiKSB7XG4gIGlmICghZmluaXNoZWQpIG9ud3JpdGVEcmFpbihzdHJlYW0sIHN0YXRlKTtcbiAgc3RhdGUucGVuZGluZ2NiLS07XG4gIGNiKCk7XG4gIGZpbmlzaE1heWJlKHN0cmVhbSwgc3RhdGUpO1xufSAvLyBNdXN0IGZvcmNlIGNhbGxiYWNrIHRvIGJlIGNhbGxlZCBvbiBuZXh0VGljaywgc28gdGhhdCB3ZSBkb24ndFxuLy8gZW1pdCAnZHJhaW4nIGJlZm9yZSB0aGUgd3JpdGUoKSBjb25zdW1lciBnZXRzIHRoZSAnZmFsc2UnIHJldHVyblxuLy8gdmFsdWUsIGFuZCBoYXMgYSBjaGFuY2UgdG8gYXR0YWNoIGEgJ2RyYWluJyBsaXN0ZW5lci5cblxuXG5mdW5jdGlvbiBvbndyaXRlRHJhaW4oc3RyZWFtLCBzdGF0ZSkge1xuICBpZiAoc3RhdGUubGVuZ3RoID09PSAwICYmIHN0YXRlLm5lZWREcmFpbikge1xuICAgIHN0YXRlLm5lZWREcmFpbiA9IGZhbHNlO1xuICAgIHN0cmVhbS5lbWl0KCdkcmFpbicpO1xuICB9XG59IC8vIGlmIHRoZXJlJ3Mgc29tZXRoaW5nIGluIHRoZSBidWZmZXIgd2FpdGluZywgdGhlbiBwcm9jZXNzIGl0XG5cblxuZnVuY3Rpb24gY2xlYXJCdWZmZXIoc3RyZWFtLCBzdGF0ZSkge1xuICBzdGF0ZS5idWZmZXJQcm9jZXNzaW5nID0gdHJ1ZTtcbiAgdmFyIGVudHJ5ID0gc3RhdGUuYnVmZmVyZWRSZXF1ZXN0O1xuXG4gIGlmIChzdHJlYW0uX3dyaXRldiAmJiBlbnRyeSAmJiBlbnRyeS5uZXh0KSB7XG4gICAgLy8gRmFzdCBjYXNlLCB3cml0ZSBldmVyeXRoaW5nIHVzaW5nIF93cml0ZXYoKVxuICAgIHZhciBsID0gc3RhdGUuYnVmZmVyZWRSZXF1ZXN0Q291bnQ7XG4gICAgdmFyIGJ1ZmZlciA9IG5ldyBBcnJheShsKTtcbiAgICB2YXIgaG9sZGVyID0gc3RhdGUuY29ya2VkUmVxdWVzdHNGcmVlO1xuICAgIGhvbGRlci5lbnRyeSA9IGVudHJ5O1xuICAgIHZhciBjb3VudCA9IDA7XG4gICAgdmFyIGFsbEJ1ZmZlcnMgPSB0cnVlO1xuXG4gICAgd2hpbGUgKGVudHJ5KSB7XG4gICAgICBidWZmZXJbY291bnRdID0gZW50cnk7XG4gICAgICBpZiAoIWVudHJ5LmlzQnVmKSBhbGxCdWZmZXJzID0gZmFsc2U7XG4gICAgICBlbnRyeSA9IGVudHJ5Lm5leHQ7XG4gICAgICBjb3VudCArPSAxO1xuICAgIH1cblxuICAgIGJ1ZmZlci5hbGxCdWZmZXJzID0gYWxsQnVmZmVycztcbiAgICBkb1dyaXRlKHN0cmVhbSwgc3RhdGUsIHRydWUsIHN0YXRlLmxlbmd0aCwgYnVmZmVyLCAnJywgaG9sZGVyLmZpbmlzaCk7IC8vIGRvV3JpdGUgaXMgYWxtb3N0IGFsd2F5cyBhc3luYywgZGVmZXIgdGhlc2UgdG8gc2F2ZSBhIGJpdCBvZiB0aW1lXG4gICAgLy8gYXMgdGhlIGhvdCBwYXRoIGVuZHMgd2l0aCBkb1dyaXRlXG5cbiAgICBzdGF0ZS5wZW5kaW5nY2IrKztcbiAgICBzdGF0ZS5sYXN0QnVmZmVyZWRSZXF1ZXN0ID0gbnVsbDtcblxuICAgIGlmIChob2xkZXIubmV4dCkge1xuICAgICAgc3RhdGUuY29ya2VkUmVxdWVzdHNGcmVlID0gaG9sZGVyLm5leHQ7XG4gICAgICBob2xkZXIubmV4dCA9IG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXRlLmNvcmtlZFJlcXVlc3RzRnJlZSA9IG5ldyBDb3JrZWRSZXF1ZXN0KHN0YXRlKTtcbiAgICB9XG5cbiAgICBzdGF0ZS5idWZmZXJlZFJlcXVlc3RDb3VudCA9IDA7XG4gIH0gZWxzZSB7XG4gICAgLy8gU2xvdyBjYXNlLCB3cml0ZSBjaHVua3Mgb25lLWJ5LW9uZVxuICAgIHdoaWxlIChlbnRyeSkge1xuICAgICAgdmFyIGNodW5rID0gZW50cnkuY2h1bms7XG4gICAgICB2YXIgZW5jb2RpbmcgPSBlbnRyeS5lbmNvZGluZztcbiAgICAgIHZhciBjYiA9IGVudHJ5LmNhbGxiYWNrO1xuICAgICAgdmFyIGxlbiA9IHN0YXRlLm9iamVjdE1vZGUgPyAxIDogY2h1bmsubGVuZ3RoO1xuICAgICAgZG9Xcml0ZShzdHJlYW0sIHN0YXRlLCBmYWxzZSwgbGVuLCBjaHVuaywgZW5jb2RpbmcsIGNiKTtcbiAgICAgIGVudHJ5ID0gZW50cnkubmV4dDtcbiAgICAgIHN0YXRlLmJ1ZmZlcmVkUmVxdWVzdENvdW50LS07IC8vIGlmIHdlIGRpZG4ndCBjYWxsIHRoZSBvbndyaXRlIGltbWVkaWF0ZWx5LCB0aGVuXG4gICAgICAvLyBpdCBtZWFucyB0aGF0IHdlIG5lZWQgdG8gd2FpdCB1bnRpbCBpdCBkb2VzLlxuICAgICAgLy8gYWxzbywgdGhhdCBtZWFucyB0aGF0IHRoZSBjaHVuayBhbmQgY2IgYXJlIGN1cnJlbnRseVxuICAgICAgLy8gYmVpbmcgcHJvY2Vzc2VkLCBzbyBtb3ZlIHRoZSBidWZmZXIgY291bnRlciBwYXN0IHRoZW0uXG5cbiAgICAgIGlmIChzdGF0ZS53cml0aW5nKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChlbnRyeSA9PT0gbnVsbCkgc3RhdGUubGFzdEJ1ZmZlcmVkUmVxdWVzdCA9IG51bGw7XG4gIH1cblxuICBzdGF0ZS5idWZmZXJlZFJlcXVlc3QgPSBlbnRyeTtcbiAgc3RhdGUuYnVmZmVyUHJvY2Vzc2luZyA9IGZhbHNlO1xufVxuXG5Xcml0YWJsZS5wcm90b3R5cGUuX3dyaXRlID0gZnVuY3Rpb24gKGNodW5rLCBlbmNvZGluZywgY2IpIHtcbiAgY2IobmV3IEVSUl9NRVRIT0RfTk9UX0lNUExFTUVOVEVEKCdfd3JpdGUoKScpKTtcbn07XG5cbldyaXRhYmxlLnByb3RvdHlwZS5fd3JpdGV2ID0gbnVsbDtcblxuV3JpdGFibGUucHJvdG90eXBlLmVuZCA9IGZ1bmN0aW9uIChjaHVuaywgZW5jb2RpbmcsIGNiKSB7XG4gIHZhciBzdGF0ZSA9IHRoaXMuX3dyaXRhYmxlU3RhdGU7XG5cbiAgaWYgKHR5cGVvZiBjaHVuayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNiID0gY2h1bms7XG4gICAgY2h1bmsgPSBudWxsO1xuICAgIGVuY29kaW5nID0gbnVsbDtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZW5jb2RpbmcgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjYiA9IGVuY29kaW5nO1xuICAgIGVuY29kaW5nID0gbnVsbDtcbiAgfVxuXG4gIGlmIChjaHVuayAhPT0gbnVsbCAmJiBjaHVuayAhPT0gdW5kZWZpbmVkKSB0aGlzLndyaXRlKGNodW5rLCBlbmNvZGluZyk7IC8vIC5lbmQoKSBmdWxseSB1bmNvcmtzXG5cbiAgaWYgKHN0YXRlLmNvcmtlZCkge1xuICAgIHN0YXRlLmNvcmtlZCA9IDE7XG4gICAgdGhpcy51bmNvcmsoKTtcbiAgfSAvLyBpZ25vcmUgdW5uZWNlc3NhcnkgZW5kKCkgY2FsbHMuXG5cblxuICBpZiAoIXN0YXRlLmVuZGluZykgZW5kV3JpdGFibGUodGhpcywgc3RhdGUsIGNiKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoV3JpdGFibGUucHJvdG90eXBlLCAnd3JpdGFibGVMZW5ndGgnLCB7XG4gIC8vIG1ha2luZyBpdCBleHBsaWNpdCB0aGlzIHByb3BlcnR5IGlzIG5vdCBlbnVtZXJhYmxlXG4gIC8vIGJlY2F1c2Ugb3RoZXJ3aXNlIHNvbWUgcHJvdG90eXBlIG1hbmlwdWxhdGlvbiBpblxuICAvLyB1c2VybGFuZCB3aWxsIGZhaWxcbiAgZW51bWVyYWJsZTogZmFsc2UsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiB0aGlzLl93cml0YWJsZVN0YXRlLmxlbmd0aDtcbiAgfVxufSk7XG5cbmZ1bmN0aW9uIG5lZWRGaW5pc2goc3RhdGUpIHtcbiAgcmV0dXJuIHN0YXRlLmVuZGluZyAmJiBzdGF0ZS5sZW5ndGggPT09IDAgJiYgc3RhdGUuYnVmZmVyZWRSZXF1ZXN0ID09PSBudWxsICYmICFzdGF0ZS5maW5pc2hlZCAmJiAhc3RhdGUud3JpdGluZztcbn1cblxuZnVuY3Rpb24gY2FsbEZpbmFsKHN0cmVhbSwgc3RhdGUpIHtcbiAgc3RyZWFtLl9maW5hbChmdW5jdGlvbiAoZXJyKSB7XG4gICAgc3RhdGUucGVuZGluZ2NiLS07XG5cbiAgICBpZiAoZXJyKSB7XG4gICAgICBlcnJvck9yRGVzdHJveShzdHJlYW0sIGVycik7XG4gICAgfVxuXG4gICAgc3RhdGUucHJlZmluaXNoZWQgPSB0cnVlO1xuICAgIHN0cmVhbS5lbWl0KCdwcmVmaW5pc2gnKTtcbiAgICBmaW5pc2hNYXliZShzdHJlYW0sIHN0YXRlKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHByZWZpbmlzaChzdHJlYW0sIHN0YXRlKSB7XG4gIGlmICghc3RhdGUucHJlZmluaXNoZWQgJiYgIXN0YXRlLmZpbmFsQ2FsbGVkKSB7XG4gICAgaWYgKHR5cGVvZiBzdHJlYW0uX2ZpbmFsID09PSAnZnVuY3Rpb24nICYmICFzdGF0ZS5kZXN0cm95ZWQpIHtcbiAgICAgIHN0YXRlLnBlbmRpbmdjYisrO1xuICAgICAgc3RhdGUuZmluYWxDYWxsZWQgPSB0cnVlO1xuICAgICAgcHJvY2Vzcy5uZXh0VGljayhjYWxsRmluYWwsIHN0cmVhbSwgc3RhdGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGF0ZS5wcmVmaW5pc2hlZCA9IHRydWU7XG4gICAgICBzdHJlYW0uZW1pdCgncHJlZmluaXNoJyk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGZpbmlzaE1heWJlKHN0cmVhbSwgc3RhdGUpIHtcbiAgdmFyIG5lZWQgPSBuZWVkRmluaXNoKHN0YXRlKTtcblxuICBpZiAobmVlZCkge1xuICAgIHByZWZpbmlzaChzdHJlYW0sIHN0YXRlKTtcblxuICAgIGlmIChzdGF0ZS5wZW5kaW5nY2IgPT09IDApIHtcbiAgICAgIHN0YXRlLmZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgIHN0cmVhbS5lbWl0KCdmaW5pc2gnKTtcblxuICAgICAgaWYgKHN0YXRlLmF1dG9EZXN0cm95KSB7XG4gICAgICAgIC8vIEluIGNhc2Ugb2YgZHVwbGV4IHN0cmVhbXMgd2UgbmVlZCBhIHdheSB0byBkZXRlY3RcbiAgICAgICAgLy8gaWYgdGhlIHJlYWRhYmxlIHNpZGUgaXMgcmVhZHkgZm9yIGF1dG9EZXN0cm95IGFzIHdlbGxcbiAgICAgICAgdmFyIHJTdGF0ZSA9IHN0cmVhbS5fcmVhZGFibGVTdGF0ZTtcblxuICAgICAgICBpZiAoIXJTdGF0ZSB8fCByU3RhdGUuYXV0b0Rlc3Ryb3kgJiYgclN0YXRlLmVuZEVtaXR0ZWQpIHtcbiAgICAgICAgICBzdHJlYW0uZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5lZWQ7XG59XG5cbmZ1bmN0aW9uIGVuZFdyaXRhYmxlKHN0cmVhbSwgc3RhdGUsIGNiKSB7XG4gIHN0YXRlLmVuZGluZyA9IHRydWU7XG4gIGZpbmlzaE1heWJlKHN0cmVhbSwgc3RhdGUpO1xuXG4gIGlmIChjYikge1xuICAgIGlmIChzdGF0ZS5maW5pc2hlZCkgcHJvY2Vzcy5uZXh0VGljayhjYik7ZWxzZSBzdHJlYW0ub25jZSgnZmluaXNoJywgY2IpO1xuICB9XG5cbiAgc3RhdGUuZW5kZWQgPSB0cnVlO1xuICBzdHJlYW0ud3JpdGFibGUgPSBmYWxzZTtcbn1cblxuZnVuY3Rpb24gb25Db3JrZWRGaW5pc2goY29ya1JlcSwgc3RhdGUsIGVycikge1xuICB2YXIgZW50cnkgPSBjb3JrUmVxLmVudHJ5O1xuICBjb3JrUmVxLmVudHJ5ID0gbnVsbDtcblxuICB3aGlsZSAoZW50cnkpIHtcbiAgICB2YXIgY2IgPSBlbnRyeS5jYWxsYmFjaztcbiAgICBzdGF0ZS5wZW5kaW5nY2ItLTtcbiAgICBjYihlcnIpO1xuICAgIGVudHJ5ID0gZW50cnkubmV4dDtcbiAgfSAvLyByZXVzZSB0aGUgZnJlZSBjb3JrUmVxLlxuXG5cbiAgc3RhdGUuY29ya2VkUmVxdWVzdHNGcmVlLm5leHQgPSBjb3JrUmVxO1xufVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoV3JpdGFibGUucHJvdG90eXBlLCAnZGVzdHJveWVkJywge1xuICAvLyBtYWtpbmcgaXQgZXhwbGljaXQgdGhpcyBwcm9wZXJ0eSBpcyBub3QgZW51bWVyYWJsZVxuICAvLyBiZWNhdXNlIG90aGVyd2lzZSBzb21lIHByb3RvdHlwZSBtYW5pcHVsYXRpb24gaW5cbiAgLy8gdXNlcmxhbmQgd2lsbCBmYWlsXG4gIGVudW1lcmFibGU6IGZhbHNlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICBpZiAodGhpcy5fd3JpdGFibGVTdGF0ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX3dyaXRhYmxlU3RhdGUuZGVzdHJveWVkO1xuICB9LFxuICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgIC8vIHdlIGlnbm9yZSB0aGUgdmFsdWUgaWYgdGhlIHN0cmVhbVxuICAgIC8vIGhhcyBub3QgYmVlbiBpbml0aWFsaXplZCB5ZXRcbiAgICBpZiAoIXRoaXMuX3dyaXRhYmxlU3RhdGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9IC8vIGJhY2t3YXJkIGNvbXBhdGliaWxpdHksIHRoZSB1c2VyIGlzIGV4cGxpY2l0bHlcbiAgICAvLyBtYW5hZ2luZyBkZXN0cm95ZWRcblxuXG4gICAgdGhpcy5fd3JpdGFibGVTdGF0ZS5kZXN0cm95ZWQgPSB2YWx1ZTtcbiAgfVxufSk7XG5Xcml0YWJsZS5wcm90b3R5cGUuZGVzdHJveSA9IGRlc3Ryb3lJbXBsLmRlc3Ryb3k7XG5Xcml0YWJsZS5wcm90b3R5cGUuX3VuZGVzdHJveSA9IGRlc3Ryb3lJbXBsLnVuZGVzdHJveTtcblxuV3JpdGFibGUucHJvdG90eXBlLl9kZXN0cm95ID0gZnVuY3Rpb24gKGVyciwgY2IpIHtcbiAgY2IoZXJyKTtcbn07IiwgIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuLy8gYSBkdXBsZXggc3RyZWFtIGlzIGp1c3QgYSBzdHJlYW0gdGhhdCBpcyBib3RoIHJlYWRhYmxlIGFuZCB3cml0YWJsZS5cbi8vIFNpbmNlIEpTIGRvZXNuJ3QgaGF2ZSBtdWx0aXBsZSBwcm90b3R5cGFsIGluaGVyaXRhbmNlLCB0aGlzIGNsYXNzXG4vLyBwcm90b3R5cGFsbHkgaW5oZXJpdHMgZnJvbSBSZWFkYWJsZSwgYW5kIHRoZW4gcGFyYXNpdGljYWxseSBmcm9tXG4vLyBXcml0YWJsZS5cbid1c2Ugc3RyaWN0Jztcbi8qPHJlcGxhY2VtZW50PiovXG5cbnZhciBvYmplY3RLZXlzID0gT2JqZWN0LmtleXMgfHwgZnVuY3Rpb24gKG9iaikge1xuICB2YXIga2V5cyA9IFtdO1xuXG4gIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICBrZXlzLnB1c2goa2V5KTtcbiAgfVxuXG4gIHJldHVybiBrZXlzO1xufTtcbi8qPC9yZXBsYWNlbWVudD4qL1xuXG5cbm1vZHVsZS5leHBvcnRzID0gRHVwbGV4O1xuXG52YXIgUmVhZGFibGUgPSByZXF1aXJlKCcuL19zdHJlYW1fcmVhZGFibGUnKTtcblxudmFyIFdyaXRhYmxlID0gcmVxdWlyZSgnLi9fc3RyZWFtX3dyaXRhYmxlJyk7XG5cbnJlcXVpcmUoJ2luaGVyaXRzJykoRHVwbGV4LCBSZWFkYWJsZSk7XG5cbntcbiAgLy8gQWxsb3cgdGhlIGtleXMgYXJyYXkgdG8gYmUgR0MnZWQuXG4gIHZhciBrZXlzID0gb2JqZWN0S2V5cyhXcml0YWJsZS5wcm90b3R5cGUpO1xuXG4gIGZvciAodmFyIHYgPSAwOyB2IDwga2V5cy5sZW5ndGg7IHYrKykge1xuICAgIHZhciBtZXRob2QgPSBrZXlzW3ZdO1xuICAgIGlmICghRHVwbGV4LnByb3RvdHlwZVttZXRob2RdKSBEdXBsZXgucHJvdG90eXBlW21ldGhvZF0gPSBXcml0YWJsZS5wcm90b3R5cGVbbWV0aG9kXTtcbiAgfVxufVxuXG5mdW5jdGlvbiBEdXBsZXgob3B0aW9ucykge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgRHVwbGV4KSkgcmV0dXJuIG5ldyBEdXBsZXgob3B0aW9ucyk7XG4gIFJlYWRhYmxlLmNhbGwodGhpcywgb3B0aW9ucyk7XG4gIFdyaXRhYmxlLmNhbGwodGhpcywgb3B0aW9ucyk7XG4gIHRoaXMuYWxsb3dIYWxmT3BlbiA9IHRydWU7XG5cbiAgaWYgKG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucy5yZWFkYWJsZSA9PT0gZmFsc2UpIHRoaXMucmVhZGFibGUgPSBmYWxzZTtcbiAgICBpZiAob3B0aW9ucy53cml0YWJsZSA9PT0gZmFsc2UpIHRoaXMud3JpdGFibGUgPSBmYWxzZTtcblxuICAgIGlmIChvcHRpb25zLmFsbG93SGFsZk9wZW4gPT09IGZhbHNlKSB7XG4gICAgICB0aGlzLmFsbG93SGFsZk9wZW4gPSBmYWxzZTtcbiAgICAgIHRoaXMub25jZSgnZW5kJywgb25lbmQpO1xuICAgIH1cbiAgfVxufVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoRHVwbGV4LnByb3RvdHlwZSwgJ3dyaXRhYmxlSGlnaFdhdGVyTWFyaycsIHtcbiAgLy8gbWFraW5nIGl0IGV4cGxpY2l0IHRoaXMgcHJvcGVydHkgaXMgbm90IGVudW1lcmFibGVcbiAgLy8gYmVjYXVzZSBvdGhlcndpc2Ugc29tZSBwcm90b3R5cGUgbWFuaXB1bGF0aW9uIGluXG4gIC8vIHVzZXJsYW5kIHdpbGwgZmFpbFxuICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3dyaXRhYmxlU3RhdGUuaGlnaFdhdGVyTWFyaztcbiAgfVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoRHVwbGV4LnByb3RvdHlwZSwgJ3dyaXRhYmxlQnVmZmVyJywge1xuICAvLyBtYWtpbmcgaXQgZXhwbGljaXQgdGhpcyBwcm9wZXJ0eSBpcyBub3QgZW51bWVyYWJsZVxuICAvLyBiZWNhdXNlIG90aGVyd2lzZSBzb21lIHByb3RvdHlwZSBtYW5pcHVsYXRpb24gaW5cbiAgLy8gdXNlcmxhbmQgd2lsbCBmYWlsXG4gIGVudW1lcmFibGU6IGZhbHNlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gdGhpcy5fd3JpdGFibGVTdGF0ZSAmJiB0aGlzLl93cml0YWJsZVN0YXRlLmdldEJ1ZmZlcigpO1xuICB9XG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShEdXBsZXgucHJvdG90eXBlLCAnd3JpdGFibGVMZW5ndGgnLCB7XG4gIC8vIG1ha2luZyBpdCBleHBsaWNpdCB0aGlzIHByb3BlcnR5IGlzIG5vdCBlbnVtZXJhYmxlXG4gIC8vIGJlY2F1c2Ugb3RoZXJ3aXNlIHNvbWUgcHJvdG90eXBlIG1hbmlwdWxhdGlvbiBpblxuICAvLyB1c2VybGFuZCB3aWxsIGZhaWxcbiAgZW51bWVyYWJsZTogZmFsc2UsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiB0aGlzLl93cml0YWJsZVN0YXRlLmxlbmd0aDtcbiAgfVxufSk7IC8vIHRoZSBuby1oYWxmLW9wZW4gZW5mb3JjZXJcblxuZnVuY3Rpb24gb25lbmQoKSB7XG4gIC8vIElmIHRoZSB3cml0YWJsZSBzaWRlIGVuZGVkLCB0aGVuIHdlJ3JlIG9rLlxuICBpZiAodGhpcy5fd3JpdGFibGVTdGF0ZS5lbmRlZCkgcmV0dXJuOyAvLyBubyBtb3JlIGRhdGEgY2FuIGJlIHdyaXR0ZW4uXG4gIC8vIEJ1dCBhbGxvdyBtb3JlIHdyaXRlcyB0byBoYXBwZW4gaW4gdGhpcyB0aWNrLlxuXG4gIHByb2Nlc3MubmV4dFRpY2sob25FbmROVCwgdGhpcyk7XG59XG5cbmZ1bmN0aW9uIG9uRW5kTlQoc2VsZikge1xuICBzZWxmLmVuZCgpO1xufVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoRHVwbGV4LnByb3RvdHlwZSwgJ2Rlc3Ryb3llZCcsIHtcbiAgLy8gbWFraW5nIGl0IGV4cGxpY2l0IHRoaXMgcHJvcGVydHkgaXMgbm90IGVudW1lcmFibGVcbiAgLy8gYmVjYXVzZSBvdGhlcndpc2Ugc29tZSBwcm90b3R5cGUgbWFuaXB1bGF0aW9uIGluXG4gIC8vIHVzZXJsYW5kIHdpbGwgZmFpbFxuICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgaWYgKHRoaXMuX3JlYWRhYmxlU3RhdGUgPT09IHVuZGVmaW5lZCB8fCB0aGlzLl93cml0YWJsZVN0YXRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5fcmVhZGFibGVTdGF0ZS5kZXN0cm95ZWQgJiYgdGhpcy5fd3JpdGFibGVTdGF0ZS5kZXN0cm95ZWQ7XG4gIH0sXG4gIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgLy8gd2UgaWdub3JlIHRoZSB2YWx1ZSBpZiB0aGUgc3RyZWFtXG4gICAgLy8gaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkIHlldFxuICAgIGlmICh0aGlzLl9yZWFkYWJsZVN0YXRlID09PSB1bmRlZmluZWQgfHwgdGhpcy5fd3JpdGFibGVTdGF0ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfSAvLyBiYWNrd2FyZCBjb21wYXRpYmlsaXR5LCB0aGUgdXNlciBpcyBleHBsaWNpdGx5XG4gICAgLy8gbWFuYWdpbmcgZGVzdHJveWVkXG5cblxuICAgIHRoaXMuX3JlYWRhYmxlU3RhdGUuZGVzdHJveWVkID0gdmFsdWU7XG4gICAgdGhpcy5fd3JpdGFibGVTdGF0ZS5kZXN0cm95ZWQgPSB2YWx1ZTtcbiAgfVxufSk7IiwgIi8qISBzYWZlLWJ1ZmZlci4gTUlUIExpY2Vuc2UuIEZlcm9zcyBBYm91a2hhZGlqZWggPGh0dHBzOi8vZmVyb3NzLm9yZy9vcGVuc291cmNlPiAqL1xuLyogZXNsaW50LWRpc2FibGUgbm9kZS9uby1kZXByZWNhdGVkLWFwaSAqL1xudmFyIGJ1ZmZlciA9IHJlcXVpcmUoJ2J1ZmZlcicpXG52YXIgQnVmZmVyID0gYnVmZmVyLkJ1ZmZlclxuXG4vLyBhbHRlcm5hdGl2ZSB0byB1c2luZyBPYmplY3Qua2V5cyBmb3Igb2xkIGJyb3dzZXJzXG5mdW5jdGlvbiBjb3B5UHJvcHMgKHNyYywgZHN0KSB7XG4gIGZvciAodmFyIGtleSBpbiBzcmMpIHtcbiAgICBkc3Rba2V5XSA9IHNyY1trZXldXG4gIH1cbn1cbmlmIChCdWZmZXIuZnJvbSAmJiBCdWZmZXIuYWxsb2MgJiYgQnVmZmVyLmFsbG9jVW5zYWZlICYmIEJ1ZmZlci5hbGxvY1Vuc2FmZVNsb3cpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSBidWZmZXJcbn0gZWxzZSB7XG4gIC8vIENvcHkgcHJvcGVydGllcyBmcm9tIHJlcXVpcmUoJ2J1ZmZlcicpXG4gIGNvcHlQcm9wcyhidWZmZXIsIGV4cG9ydHMpXG4gIGV4cG9ydHMuQnVmZmVyID0gU2FmZUJ1ZmZlclxufVxuXG5mdW5jdGlvbiBTYWZlQnVmZmVyIChhcmcsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gQnVmZmVyKGFyZywgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKVxufVxuXG5TYWZlQnVmZmVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQnVmZmVyLnByb3RvdHlwZSlcblxuLy8gQ29weSBzdGF0aWMgbWV0aG9kcyBmcm9tIEJ1ZmZlclxuY29weVByb3BzKEJ1ZmZlciwgU2FmZUJ1ZmZlcilcblxuU2FmZUJ1ZmZlci5mcm9tID0gZnVuY3Rpb24gKGFyZywgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKSB7XG4gIGlmICh0eXBlb2YgYXJnID09PSAnbnVtYmVyJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50IG11c3Qgbm90IGJlIGEgbnVtYmVyJylcbiAgfVxuICByZXR1cm4gQnVmZmVyKGFyZywgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKVxufVxuXG5TYWZlQnVmZmVyLmFsbG9jID0gZnVuY3Rpb24gKHNpemUsIGZpbGwsIGVuY29kaW5nKSB7XG4gIGlmICh0eXBlb2Ygc2l6ZSAhPT0gJ251bWJlcicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudCBtdXN0IGJlIGEgbnVtYmVyJylcbiAgfVxuICB2YXIgYnVmID0gQnVmZmVyKHNpemUpXG4gIGlmIChmaWxsICE9PSB1bmRlZmluZWQpIHtcbiAgICBpZiAodHlwZW9mIGVuY29kaW5nID09PSAnc3RyaW5nJykge1xuICAgICAgYnVmLmZpbGwoZmlsbCwgZW5jb2RpbmcpXG4gICAgfSBlbHNlIHtcbiAgICAgIGJ1Zi5maWxsKGZpbGwpXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGJ1Zi5maWxsKDApXG4gIH1cbiAgcmV0dXJuIGJ1ZlxufVxuXG5TYWZlQnVmZmVyLmFsbG9jVW5zYWZlID0gZnVuY3Rpb24gKHNpemUpIHtcbiAgaWYgKHR5cGVvZiBzaXplICE9PSAnbnVtYmVyJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50IG11c3QgYmUgYSBudW1iZXInKVxuICB9XG4gIHJldHVybiBCdWZmZXIoc2l6ZSlcbn1cblxuU2FmZUJ1ZmZlci5hbGxvY1Vuc2FmZVNsb3cgPSBmdW5jdGlvbiAoc2l6ZSkge1xuICBpZiAodHlwZW9mIHNpemUgIT09ICdudW1iZXInKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnQgbXVzdCBiZSBhIG51bWJlcicpXG4gIH1cbiAgcmV0dXJuIGJ1ZmZlci5TbG93QnVmZmVyKHNpemUpXG59XG4iLCAiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbid1c2Ugc3RyaWN0JztcblxuLyo8cmVwbGFjZW1lbnQ+Ki9cblxudmFyIEJ1ZmZlciA9IHJlcXVpcmUoJ3NhZmUtYnVmZmVyJykuQnVmZmVyO1xuLyo8L3JlcGxhY2VtZW50PiovXG5cbnZhciBpc0VuY29kaW5nID0gQnVmZmVyLmlzRW5jb2RpbmcgfHwgZnVuY3Rpb24gKGVuY29kaW5nKSB7XG4gIGVuY29kaW5nID0gJycgKyBlbmNvZGluZztcbiAgc3dpdGNoIChlbmNvZGluZyAmJiBlbmNvZGluZy50b0xvd2VyQ2FzZSgpKSB7XG4gICAgY2FzZSAnaGV4JzpjYXNlICd1dGY4JzpjYXNlICd1dGYtOCc6Y2FzZSAnYXNjaWknOmNhc2UgJ2JpbmFyeSc6Y2FzZSAnYmFzZTY0JzpjYXNlICd1Y3MyJzpjYXNlICd1Y3MtMic6Y2FzZSAndXRmMTZsZSc6Y2FzZSAndXRmLTE2bGUnOmNhc2UgJ3Jhdyc6XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG59O1xuXG5mdW5jdGlvbiBfbm9ybWFsaXplRW5jb2RpbmcoZW5jKSB7XG4gIGlmICghZW5jKSByZXR1cm4gJ3V0ZjgnO1xuICB2YXIgcmV0cmllZDtcbiAgd2hpbGUgKHRydWUpIHtcbiAgICBzd2l0Y2ggKGVuYykge1xuICAgICAgY2FzZSAndXRmOCc6XG4gICAgICBjYXNlICd1dGYtOCc6XG4gICAgICAgIHJldHVybiAndXRmOCc7XG4gICAgICBjYXNlICd1Y3MyJzpcbiAgICAgIGNhc2UgJ3Vjcy0yJzpcbiAgICAgIGNhc2UgJ3V0ZjE2bGUnOlxuICAgICAgY2FzZSAndXRmLTE2bGUnOlxuICAgICAgICByZXR1cm4gJ3V0ZjE2bGUnO1xuICAgICAgY2FzZSAnbGF0aW4xJzpcbiAgICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgICAgIHJldHVybiAnbGF0aW4xJztcbiAgICAgIGNhc2UgJ2Jhc2U2NCc6XG4gICAgICBjYXNlICdhc2NpaSc6XG4gICAgICBjYXNlICdoZXgnOlxuICAgICAgICByZXR1cm4gZW5jO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKHJldHJpZWQpIHJldHVybjsgLy8gdW5kZWZpbmVkXG4gICAgICAgIGVuYyA9ICgnJyArIGVuYykudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgcmV0cmllZCA9IHRydWU7XG4gICAgfVxuICB9XG59O1xuXG4vLyBEbyBub3QgY2FjaGUgYEJ1ZmZlci5pc0VuY29kaW5nYCB3aGVuIGNoZWNraW5nIGVuY29kaW5nIG5hbWVzIGFzIHNvbWVcbi8vIG1vZHVsZXMgbW9ua2V5LXBhdGNoIGl0IHRvIHN1cHBvcnQgYWRkaXRpb25hbCBlbmNvZGluZ3NcbmZ1bmN0aW9uIG5vcm1hbGl6ZUVuY29kaW5nKGVuYykge1xuICB2YXIgbmVuYyA9IF9ub3JtYWxpemVFbmNvZGluZyhlbmMpO1xuICBpZiAodHlwZW9mIG5lbmMgIT09ICdzdHJpbmcnICYmIChCdWZmZXIuaXNFbmNvZGluZyA9PT0gaXNFbmNvZGluZyB8fCAhaXNFbmNvZGluZyhlbmMpKSkgdGhyb3cgbmV3IEVycm9yKCdVbmtub3duIGVuY29kaW5nOiAnICsgZW5jKTtcbiAgcmV0dXJuIG5lbmMgfHwgZW5jO1xufVxuXG4vLyBTdHJpbmdEZWNvZGVyIHByb3ZpZGVzIGFuIGludGVyZmFjZSBmb3IgZWZmaWNpZW50bHkgc3BsaXR0aW5nIGEgc2VyaWVzIG9mXG4vLyBidWZmZXJzIGludG8gYSBzZXJpZXMgb2YgSlMgc3RyaW5ncyB3aXRob3V0IGJyZWFraW5nIGFwYXJ0IG11bHRpLWJ5dGVcbi8vIGNoYXJhY3RlcnMuXG5leHBvcnRzLlN0cmluZ0RlY29kZXIgPSBTdHJpbmdEZWNvZGVyO1xuZnVuY3Rpb24gU3RyaW5nRGVjb2RlcihlbmNvZGluZykge1xuICB0aGlzLmVuY29kaW5nID0gbm9ybWFsaXplRW5jb2RpbmcoZW5jb2RpbmcpO1xuICB2YXIgbmI7XG4gIHN3aXRjaCAodGhpcy5lbmNvZGluZykge1xuICAgIGNhc2UgJ3V0ZjE2bGUnOlxuICAgICAgdGhpcy50ZXh0ID0gdXRmMTZUZXh0O1xuICAgICAgdGhpcy5lbmQgPSB1dGYxNkVuZDtcbiAgICAgIG5iID0gNDtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3V0ZjgnOlxuICAgICAgdGhpcy5maWxsTGFzdCA9IHV0ZjhGaWxsTGFzdDtcbiAgICAgIG5iID0gNDtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2Jhc2U2NCc6XG4gICAgICB0aGlzLnRleHQgPSBiYXNlNjRUZXh0O1xuICAgICAgdGhpcy5lbmQgPSBiYXNlNjRFbmQ7XG4gICAgICBuYiA9IDM7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgdGhpcy53cml0ZSA9IHNpbXBsZVdyaXRlO1xuICAgICAgdGhpcy5lbmQgPSBzaW1wbGVFbmQ7XG4gICAgICByZXR1cm47XG4gIH1cbiAgdGhpcy5sYXN0TmVlZCA9IDA7XG4gIHRoaXMubGFzdFRvdGFsID0gMDtcbiAgdGhpcy5sYXN0Q2hhciA9IEJ1ZmZlci5hbGxvY1Vuc2FmZShuYik7XG59XG5cblN0cmluZ0RlY29kZXIucHJvdG90eXBlLndyaXRlID0gZnVuY3Rpb24gKGJ1Zikge1xuICBpZiAoYnVmLmxlbmd0aCA9PT0gMCkgcmV0dXJuICcnO1xuICB2YXIgcjtcbiAgdmFyIGk7XG4gIGlmICh0aGlzLmxhc3ROZWVkKSB7XG4gICAgciA9IHRoaXMuZmlsbExhc3QoYnVmKTtcbiAgICBpZiAociA9PT0gdW5kZWZpbmVkKSByZXR1cm4gJyc7XG4gICAgaSA9IHRoaXMubGFzdE5lZWQ7XG4gICAgdGhpcy5sYXN0TmVlZCA9IDA7XG4gIH0gZWxzZSB7XG4gICAgaSA9IDA7XG4gIH1cbiAgaWYgKGkgPCBidWYubGVuZ3RoKSByZXR1cm4gciA/IHIgKyB0aGlzLnRleHQoYnVmLCBpKSA6IHRoaXMudGV4dChidWYsIGkpO1xuICByZXR1cm4gciB8fCAnJztcbn07XG5cblN0cmluZ0RlY29kZXIucHJvdG90eXBlLmVuZCA9IHV0ZjhFbmQ7XG5cbi8vIFJldHVybnMgb25seSBjb21wbGV0ZSBjaGFyYWN0ZXJzIGluIGEgQnVmZmVyXG5TdHJpbmdEZWNvZGVyLnByb3RvdHlwZS50ZXh0ID0gdXRmOFRleHQ7XG5cbi8vIEF0dGVtcHRzIHRvIGNvbXBsZXRlIGEgcGFydGlhbCBub24tVVRGLTggY2hhcmFjdGVyIHVzaW5nIGJ5dGVzIGZyb20gYSBCdWZmZXJcblN0cmluZ0RlY29kZXIucHJvdG90eXBlLmZpbGxMYXN0ID0gZnVuY3Rpb24gKGJ1Zikge1xuICBpZiAodGhpcy5sYXN0TmVlZCA8PSBidWYubGVuZ3RoKSB7XG4gICAgYnVmLmNvcHkodGhpcy5sYXN0Q2hhciwgdGhpcy5sYXN0VG90YWwgLSB0aGlzLmxhc3ROZWVkLCAwLCB0aGlzLmxhc3ROZWVkKTtcbiAgICByZXR1cm4gdGhpcy5sYXN0Q2hhci50b1N0cmluZyh0aGlzLmVuY29kaW5nLCAwLCB0aGlzLmxhc3RUb3RhbCk7XG4gIH1cbiAgYnVmLmNvcHkodGhpcy5sYXN0Q2hhciwgdGhpcy5sYXN0VG90YWwgLSB0aGlzLmxhc3ROZWVkLCAwLCBidWYubGVuZ3RoKTtcbiAgdGhpcy5sYXN0TmVlZCAtPSBidWYubGVuZ3RoO1xufTtcblxuLy8gQ2hlY2tzIHRoZSB0eXBlIG9mIGEgVVRGLTggYnl0ZSwgd2hldGhlciBpdCdzIEFTQ0lJLCBhIGxlYWRpbmcgYnl0ZSwgb3IgYVxuLy8gY29udGludWF0aW9uIGJ5dGUuIElmIGFuIGludmFsaWQgYnl0ZSBpcyBkZXRlY3RlZCwgLTIgaXMgcmV0dXJuZWQuXG5mdW5jdGlvbiB1dGY4Q2hlY2tCeXRlKGJ5dGUpIHtcbiAgaWYgKGJ5dGUgPD0gMHg3RikgcmV0dXJuIDA7ZWxzZSBpZiAoYnl0ZSA+PiA1ID09PSAweDA2KSByZXR1cm4gMjtlbHNlIGlmIChieXRlID4+IDQgPT09IDB4MEUpIHJldHVybiAzO2Vsc2UgaWYgKGJ5dGUgPj4gMyA9PT0gMHgxRSkgcmV0dXJuIDQ7XG4gIHJldHVybiBieXRlID4+IDYgPT09IDB4MDIgPyAtMSA6IC0yO1xufVxuXG4vLyBDaGVja3MgYXQgbW9zdCAzIGJ5dGVzIGF0IHRoZSBlbmQgb2YgYSBCdWZmZXIgaW4gb3JkZXIgdG8gZGV0ZWN0IGFuXG4vLyBpbmNvbXBsZXRlIG11bHRpLWJ5dGUgVVRGLTggY2hhcmFjdGVyLiBUaGUgdG90YWwgbnVtYmVyIG9mIGJ5dGVzICgyLCAzLCBvciA0KVxuLy8gbmVlZGVkIHRvIGNvbXBsZXRlIHRoZSBVVEYtOCBjaGFyYWN0ZXIgKGlmIGFwcGxpY2FibGUpIGFyZSByZXR1cm5lZC5cbmZ1bmN0aW9uIHV0ZjhDaGVja0luY29tcGxldGUoc2VsZiwgYnVmLCBpKSB7XG4gIHZhciBqID0gYnVmLmxlbmd0aCAtIDE7XG4gIGlmIChqIDwgaSkgcmV0dXJuIDA7XG4gIHZhciBuYiA9IHV0ZjhDaGVja0J5dGUoYnVmW2pdKTtcbiAgaWYgKG5iID49IDApIHtcbiAgICBpZiAobmIgPiAwKSBzZWxmLmxhc3ROZWVkID0gbmIgLSAxO1xuICAgIHJldHVybiBuYjtcbiAgfVxuICBpZiAoLS1qIDwgaSB8fCBuYiA9PT0gLTIpIHJldHVybiAwO1xuICBuYiA9IHV0ZjhDaGVja0J5dGUoYnVmW2pdKTtcbiAgaWYgKG5iID49IDApIHtcbiAgICBpZiAobmIgPiAwKSBzZWxmLmxhc3ROZWVkID0gbmIgLSAyO1xuICAgIHJldHVybiBuYjtcbiAgfVxuICBpZiAoLS1qIDwgaSB8fCBuYiA9PT0gLTIpIHJldHVybiAwO1xuICBuYiA9IHV0ZjhDaGVja0J5dGUoYnVmW2pdKTtcbiAgaWYgKG5iID49IDApIHtcbiAgICBpZiAobmIgPiAwKSB7XG4gICAgICBpZiAobmIgPT09IDIpIG5iID0gMDtlbHNlIHNlbGYubGFzdE5lZWQgPSBuYiAtIDM7XG4gICAgfVxuICAgIHJldHVybiBuYjtcbiAgfVxuICByZXR1cm4gMDtcbn1cblxuLy8gVmFsaWRhdGVzIGFzIG1hbnkgY29udGludWF0aW9uIGJ5dGVzIGZvciBhIG11bHRpLWJ5dGUgVVRGLTggY2hhcmFjdGVyIGFzXG4vLyBuZWVkZWQgb3IgYXJlIGF2YWlsYWJsZS4gSWYgd2Ugc2VlIGEgbm9uLWNvbnRpbnVhdGlvbiBieXRlIHdoZXJlIHdlIGV4cGVjdFxuLy8gb25lLCB3ZSBcInJlcGxhY2VcIiB0aGUgdmFsaWRhdGVkIGNvbnRpbnVhdGlvbiBieXRlcyB3ZSd2ZSBzZWVuIHNvIGZhciB3aXRoXG4vLyBhIHNpbmdsZSBVVEYtOCByZXBsYWNlbWVudCBjaGFyYWN0ZXIgKCdcXHVmZmZkJyksIHRvIG1hdGNoIHY4J3MgVVRGLTggZGVjb2Rpbmdcbi8vIGJlaGF2aW9yLiBUaGUgY29udGludWF0aW9uIGJ5dGUgY2hlY2sgaXMgaW5jbHVkZWQgdGhyZWUgdGltZXMgaW4gdGhlIGNhc2Vcbi8vIHdoZXJlIGFsbCBvZiB0aGUgY29udGludWF0aW9uIGJ5dGVzIGZvciBhIGNoYXJhY3RlciBleGlzdCBpbiB0aGUgc2FtZSBidWZmZXIuXG4vLyBJdCBpcyBhbHNvIGRvbmUgdGhpcyB3YXkgYXMgYSBzbGlnaHQgcGVyZm9ybWFuY2UgaW5jcmVhc2UgaW5zdGVhZCBvZiB1c2luZyBhXG4vLyBsb29wLlxuZnVuY3Rpb24gdXRmOENoZWNrRXh0cmFCeXRlcyhzZWxmLCBidWYsIHApIHtcbiAgaWYgKChidWZbMF0gJiAweEMwKSAhPT0gMHg4MCkge1xuICAgIHNlbGYubGFzdE5lZWQgPSAwO1xuICAgIHJldHVybiAnXFx1ZmZmZCc7XG4gIH1cbiAgaWYgKHNlbGYubGFzdE5lZWQgPiAxICYmIGJ1Zi5sZW5ndGggPiAxKSB7XG4gICAgaWYgKChidWZbMV0gJiAweEMwKSAhPT0gMHg4MCkge1xuICAgICAgc2VsZi5sYXN0TmVlZCA9IDE7XG4gICAgICByZXR1cm4gJ1xcdWZmZmQnO1xuICAgIH1cbiAgICBpZiAoc2VsZi5sYXN0TmVlZCA+IDIgJiYgYnVmLmxlbmd0aCA+IDIpIHtcbiAgICAgIGlmICgoYnVmWzJdICYgMHhDMCkgIT09IDB4ODApIHtcbiAgICAgICAgc2VsZi5sYXN0TmVlZCA9IDI7XG4gICAgICAgIHJldHVybiAnXFx1ZmZmZCc7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8vIEF0dGVtcHRzIHRvIGNvbXBsZXRlIGEgbXVsdGktYnl0ZSBVVEYtOCBjaGFyYWN0ZXIgdXNpbmcgYnl0ZXMgZnJvbSBhIEJ1ZmZlci5cbmZ1bmN0aW9uIHV0ZjhGaWxsTGFzdChidWYpIHtcbiAgdmFyIHAgPSB0aGlzLmxhc3RUb3RhbCAtIHRoaXMubGFzdE5lZWQ7XG4gIHZhciByID0gdXRmOENoZWNrRXh0cmFCeXRlcyh0aGlzLCBidWYsIHApO1xuICBpZiAociAhPT0gdW5kZWZpbmVkKSByZXR1cm4gcjtcbiAgaWYgKHRoaXMubGFzdE5lZWQgPD0gYnVmLmxlbmd0aCkge1xuICAgIGJ1Zi5jb3B5KHRoaXMubGFzdENoYXIsIHAsIDAsIHRoaXMubGFzdE5lZWQpO1xuICAgIHJldHVybiB0aGlzLmxhc3RDaGFyLnRvU3RyaW5nKHRoaXMuZW5jb2RpbmcsIDAsIHRoaXMubGFzdFRvdGFsKTtcbiAgfVxuICBidWYuY29weSh0aGlzLmxhc3RDaGFyLCBwLCAwLCBidWYubGVuZ3RoKTtcbiAgdGhpcy5sYXN0TmVlZCAtPSBidWYubGVuZ3RoO1xufVxuXG4vLyBSZXR1cm5zIGFsbCBjb21wbGV0ZSBVVEYtOCBjaGFyYWN0ZXJzIGluIGEgQnVmZmVyLiBJZiB0aGUgQnVmZmVyIGVuZGVkIG9uIGFcbi8vIHBhcnRpYWwgY2hhcmFjdGVyLCB0aGUgY2hhcmFjdGVyJ3MgYnl0ZXMgYXJlIGJ1ZmZlcmVkIHVudGlsIHRoZSByZXF1aXJlZFxuLy8gbnVtYmVyIG9mIGJ5dGVzIGFyZSBhdmFpbGFibGUuXG5mdW5jdGlvbiB1dGY4VGV4dChidWYsIGkpIHtcbiAgdmFyIHRvdGFsID0gdXRmOENoZWNrSW5jb21wbGV0ZSh0aGlzLCBidWYsIGkpO1xuICBpZiAoIXRoaXMubGFzdE5lZWQpIHJldHVybiBidWYudG9TdHJpbmcoJ3V0ZjgnLCBpKTtcbiAgdGhpcy5sYXN0VG90YWwgPSB0b3RhbDtcbiAgdmFyIGVuZCA9IGJ1Zi5sZW5ndGggLSAodG90YWwgLSB0aGlzLmxhc3ROZWVkKTtcbiAgYnVmLmNvcHkodGhpcy5sYXN0Q2hhciwgMCwgZW5kKTtcbiAgcmV0dXJuIGJ1Zi50b1N0cmluZygndXRmOCcsIGksIGVuZCk7XG59XG5cbi8vIEZvciBVVEYtOCwgYSByZXBsYWNlbWVudCBjaGFyYWN0ZXIgaXMgYWRkZWQgd2hlbiBlbmRpbmcgb24gYSBwYXJ0aWFsXG4vLyBjaGFyYWN0ZXIuXG5mdW5jdGlvbiB1dGY4RW5kKGJ1Zikge1xuICB2YXIgciA9IGJ1ZiAmJiBidWYubGVuZ3RoID8gdGhpcy53cml0ZShidWYpIDogJyc7XG4gIGlmICh0aGlzLmxhc3ROZWVkKSByZXR1cm4gciArICdcXHVmZmZkJztcbiAgcmV0dXJuIHI7XG59XG5cbi8vIFVURi0xNkxFIHR5cGljYWxseSBuZWVkcyB0d28gYnl0ZXMgcGVyIGNoYXJhY3RlciwgYnV0IGV2ZW4gaWYgd2UgaGF2ZSBhbiBldmVuXG4vLyBudW1iZXIgb2YgYnl0ZXMgYXZhaWxhYmxlLCB3ZSBuZWVkIHRvIGNoZWNrIGlmIHdlIGVuZCBvbiBhIGxlYWRpbmcvaGlnaFxuLy8gc3Vycm9nYXRlLiBJbiB0aGF0IGNhc2UsIHdlIG5lZWQgdG8gd2FpdCBmb3IgdGhlIG5leHQgdHdvIGJ5dGVzIGluIG9yZGVyIHRvXG4vLyBkZWNvZGUgdGhlIGxhc3QgY2hhcmFjdGVyIHByb3Blcmx5LlxuZnVuY3Rpb24gdXRmMTZUZXh0KGJ1ZiwgaSkge1xuICBpZiAoKGJ1Zi5sZW5ndGggLSBpKSAlIDIgPT09IDApIHtcbiAgICB2YXIgciA9IGJ1Zi50b1N0cmluZygndXRmMTZsZScsIGkpO1xuICAgIGlmIChyKSB7XG4gICAgICB2YXIgYyA9IHIuY2hhckNvZGVBdChyLmxlbmd0aCAtIDEpO1xuICAgICAgaWYgKGMgPj0gMHhEODAwICYmIGMgPD0gMHhEQkZGKSB7XG4gICAgICAgIHRoaXMubGFzdE5lZWQgPSAyO1xuICAgICAgICB0aGlzLmxhc3RUb3RhbCA9IDQ7XG4gICAgICAgIHRoaXMubGFzdENoYXJbMF0gPSBidWZbYnVmLmxlbmd0aCAtIDJdO1xuICAgICAgICB0aGlzLmxhc3RDaGFyWzFdID0gYnVmW2J1Zi5sZW5ndGggLSAxXTtcbiAgICAgICAgcmV0dXJuIHIuc2xpY2UoMCwgLTEpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcjtcbiAgfVxuICB0aGlzLmxhc3ROZWVkID0gMTtcbiAgdGhpcy5sYXN0VG90YWwgPSAyO1xuICB0aGlzLmxhc3RDaGFyWzBdID0gYnVmW2J1Zi5sZW5ndGggLSAxXTtcbiAgcmV0dXJuIGJ1Zi50b1N0cmluZygndXRmMTZsZScsIGksIGJ1Zi5sZW5ndGggLSAxKTtcbn1cblxuLy8gRm9yIFVURi0xNkxFIHdlIGRvIG5vdCBleHBsaWNpdGx5IGFwcGVuZCBzcGVjaWFsIHJlcGxhY2VtZW50IGNoYXJhY3RlcnMgaWYgd2Vcbi8vIGVuZCBvbiBhIHBhcnRpYWwgY2hhcmFjdGVyLCB3ZSBzaW1wbHkgbGV0IHY4IGhhbmRsZSB0aGF0LlxuZnVuY3Rpb24gdXRmMTZFbmQoYnVmKSB7XG4gIHZhciByID0gYnVmICYmIGJ1Zi5sZW5ndGggPyB0aGlzLndyaXRlKGJ1ZikgOiAnJztcbiAgaWYgKHRoaXMubGFzdE5lZWQpIHtcbiAgICB2YXIgZW5kID0gdGhpcy5sYXN0VG90YWwgLSB0aGlzLmxhc3ROZWVkO1xuICAgIHJldHVybiByICsgdGhpcy5sYXN0Q2hhci50b1N0cmluZygndXRmMTZsZScsIDAsIGVuZCk7XG4gIH1cbiAgcmV0dXJuIHI7XG59XG5cbmZ1bmN0aW9uIGJhc2U2NFRleHQoYnVmLCBpKSB7XG4gIHZhciBuID0gKGJ1Zi5sZW5ndGggLSBpKSAlIDM7XG4gIGlmIChuID09PSAwKSByZXR1cm4gYnVmLnRvU3RyaW5nKCdiYXNlNjQnLCBpKTtcbiAgdGhpcy5sYXN0TmVlZCA9IDMgLSBuO1xuICB0aGlzLmxhc3RUb3RhbCA9IDM7XG4gIGlmIChuID09PSAxKSB7XG4gICAgdGhpcy5sYXN0Q2hhclswXSA9IGJ1ZltidWYubGVuZ3RoIC0gMV07XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5sYXN0Q2hhclswXSA9IGJ1ZltidWYubGVuZ3RoIC0gMl07XG4gICAgdGhpcy5sYXN0Q2hhclsxXSA9IGJ1ZltidWYubGVuZ3RoIC0gMV07XG4gIH1cbiAgcmV0dXJuIGJ1Zi50b1N0cmluZygnYmFzZTY0JywgaSwgYnVmLmxlbmd0aCAtIG4pO1xufVxuXG5mdW5jdGlvbiBiYXNlNjRFbmQoYnVmKSB7XG4gIHZhciByID0gYnVmICYmIGJ1Zi5sZW5ndGggPyB0aGlzLndyaXRlKGJ1ZikgOiAnJztcbiAgaWYgKHRoaXMubGFzdE5lZWQpIHJldHVybiByICsgdGhpcy5sYXN0Q2hhci50b1N0cmluZygnYmFzZTY0JywgMCwgMyAtIHRoaXMubGFzdE5lZWQpO1xuICByZXR1cm4gcjtcbn1cblxuLy8gUGFzcyBieXRlcyBvbiB0aHJvdWdoIGZvciBzaW5nbGUtYnl0ZSBlbmNvZGluZ3MgKGUuZy4gYXNjaWksIGxhdGluMSwgaGV4KVxuZnVuY3Rpb24gc2ltcGxlV3JpdGUoYnVmKSB7XG4gIHJldHVybiBidWYudG9TdHJpbmcodGhpcy5lbmNvZGluZyk7XG59XG5cbmZ1bmN0aW9uIHNpbXBsZUVuZChidWYpIHtcbiAgcmV0dXJuIGJ1ZiAmJiBidWYubGVuZ3RoID8gdGhpcy53cml0ZShidWYpIDogJyc7XG59IiwgIi8vIFBvcnRlZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9tYWZpbnRvc2gvZW5kLW9mLXN0cmVhbSB3aXRoXG4vLyBwZXJtaXNzaW9uIGZyb20gdGhlIGF1dGhvciwgTWF0aGlhcyBCdXVzIChAbWFmaW50b3NoKS5cbid1c2Ugc3RyaWN0JztcblxudmFyIEVSUl9TVFJFQU1fUFJFTUFUVVJFX0NMT1NFID0gcmVxdWlyZSgnLi4vLi4vLi4vZXJyb3JzJykuY29kZXMuRVJSX1NUUkVBTV9QUkVNQVRVUkVfQ0xPU0U7XG5cbmZ1bmN0aW9uIG9uY2UoY2FsbGJhY2spIHtcbiAgdmFyIGNhbGxlZCA9IGZhbHNlO1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIGlmIChjYWxsZWQpIHJldHVybjtcbiAgICBjYWxsZWQgPSB0cnVlO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIGNhbGxiYWNrLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBub29wKCkge31cblxuZnVuY3Rpb24gaXNSZXF1ZXN0KHN0cmVhbSkge1xuICByZXR1cm4gc3RyZWFtLnNldEhlYWRlciAmJiB0eXBlb2Ygc3RyZWFtLmFib3J0ID09PSAnZnVuY3Rpb24nO1xufVxuXG5mdW5jdGlvbiBlb3Moc3RyZWFtLCBvcHRzLCBjYWxsYmFjaykge1xuICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHJldHVybiBlb3Moc3RyZWFtLCBudWxsLCBvcHRzKTtcbiAgaWYgKCFvcHRzKSBvcHRzID0ge307XG4gIGNhbGxiYWNrID0gb25jZShjYWxsYmFjayB8fCBub29wKTtcbiAgdmFyIHJlYWRhYmxlID0gb3B0cy5yZWFkYWJsZSB8fCBvcHRzLnJlYWRhYmxlICE9PSBmYWxzZSAmJiBzdHJlYW0ucmVhZGFibGU7XG4gIHZhciB3cml0YWJsZSA9IG9wdHMud3JpdGFibGUgfHwgb3B0cy53cml0YWJsZSAhPT0gZmFsc2UgJiYgc3RyZWFtLndyaXRhYmxlO1xuXG4gIHZhciBvbmxlZ2FjeWZpbmlzaCA9IGZ1bmN0aW9uIG9ubGVnYWN5ZmluaXNoKCkge1xuICAgIGlmICghc3RyZWFtLndyaXRhYmxlKSBvbmZpbmlzaCgpO1xuICB9O1xuXG4gIHZhciB3cml0YWJsZUVuZGVkID0gc3RyZWFtLl93cml0YWJsZVN0YXRlICYmIHN0cmVhbS5fd3JpdGFibGVTdGF0ZS5maW5pc2hlZDtcblxuICB2YXIgb25maW5pc2ggPSBmdW5jdGlvbiBvbmZpbmlzaCgpIHtcbiAgICB3cml0YWJsZSA9IGZhbHNlO1xuICAgIHdyaXRhYmxlRW5kZWQgPSB0cnVlO1xuICAgIGlmICghcmVhZGFibGUpIGNhbGxiYWNrLmNhbGwoc3RyZWFtKTtcbiAgfTtcblxuICB2YXIgcmVhZGFibGVFbmRlZCA9IHN0cmVhbS5fcmVhZGFibGVTdGF0ZSAmJiBzdHJlYW0uX3JlYWRhYmxlU3RhdGUuZW5kRW1pdHRlZDtcblxuICB2YXIgb25lbmQgPSBmdW5jdGlvbiBvbmVuZCgpIHtcbiAgICByZWFkYWJsZSA9IGZhbHNlO1xuICAgIHJlYWRhYmxlRW5kZWQgPSB0cnVlO1xuICAgIGlmICghd3JpdGFibGUpIGNhbGxiYWNrLmNhbGwoc3RyZWFtKTtcbiAgfTtcblxuICB2YXIgb25lcnJvciA9IGZ1bmN0aW9uIG9uZXJyb3IoZXJyKSB7XG4gICAgY2FsbGJhY2suY2FsbChzdHJlYW0sIGVycik7XG4gIH07XG5cbiAgdmFyIG9uY2xvc2UgPSBmdW5jdGlvbiBvbmNsb3NlKCkge1xuICAgIHZhciBlcnI7XG5cbiAgICBpZiAocmVhZGFibGUgJiYgIXJlYWRhYmxlRW5kZWQpIHtcbiAgICAgIGlmICghc3RyZWFtLl9yZWFkYWJsZVN0YXRlIHx8ICFzdHJlYW0uX3JlYWRhYmxlU3RhdGUuZW5kZWQpIGVyciA9IG5ldyBFUlJfU1RSRUFNX1BSRU1BVFVSRV9DTE9TRSgpO1xuICAgICAgcmV0dXJuIGNhbGxiYWNrLmNhbGwoc3RyZWFtLCBlcnIpO1xuICAgIH1cblxuICAgIGlmICh3cml0YWJsZSAmJiAhd3JpdGFibGVFbmRlZCkge1xuICAgICAgaWYgKCFzdHJlYW0uX3dyaXRhYmxlU3RhdGUgfHwgIXN0cmVhbS5fd3JpdGFibGVTdGF0ZS5lbmRlZCkgZXJyID0gbmV3IEVSUl9TVFJFQU1fUFJFTUFUVVJFX0NMT1NFKCk7XG4gICAgICByZXR1cm4gY2FsbGJhY2suY2FsbChzdHJlYW0sIGVycik7XG4gICAgfVxuICB9O1xuXG4gIHZhciBvbnJlcXVlc3QgPSBmdW5jdGlvbiBvbnJlcXVlc3QoKSB7XG4gICAgc3RyZWFtLnJlcS5vbignZmluaXNoJywgb25maW5pc2gpO1xuICB9O1xuXG4gIGlmIChpc1JlcXVlc3Qoc3RyZWFtKSkge1xuICAgIHN0cmVhbS5vbignY29tcGxldGUnLCBvbmZpbmlzaCk7XG4gICAgc3RyZWFtLm9uKCdhYm9ydCcsIG9uY2xvc2UpO1xuICAgIGlmIChzdHJlYW0ucmVxKSBvbnJlcXVlc3QoKTtlbHNlIHN0cmVhbS5vbigncmVxdWVzdCcsIG9ucmVxdWVzdCk7XG4gIH0gZWxzZSBpZiAod3JpdGFibGUgJiYgIXN0cmVhbS5fd3JpdGFibGVTdGF0ZSkge1xuICAgIC8vIGxlZ2FjeSBzdHJlYW1zXG4gICAgc3RyZWFtLm9uKCdlbmQnLCBvbmxlZ2FjeWZpbmlzaCk7XG4gICAgc3RyZWFtLm9uKCdjbG9zZScsIG9ubGVnYWN5ZmluaXNoKTtcbiAgfVxuXG4gIHN0cmVhbS5vbignZW5kJywgb25lbmQpO1xuICBzdHJlYW0ub24oJ2ZpbmlzaCcsIG9uZmluaXNoKTtcbiAgaWYgKG9wdHMuZXJyb3IgIT09IGZhbHNlKSBzdHJlYW0ub24oJ2Vycm9yJywgb25lcnJvcik7XG4gIHN0cmVhbS5vbignY2xvc2UnLCBvbmNsb3NlKTtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBzdHJlYW0ucmVtb3ZlTGlzdGVuZXIoJ2NvbXBsZXRlJywgb25maW5pc2gpO1xuICAgIHN0cmVhbS5yZW1vdmVMaXN0ZW5lcignYWJvcnQnLCBvbmNsb3NlKTtcbiAgICBzdHJlYW0ucmVtb3ZlTGlzdGVuZXIoJ3JlcXVlc3QnLCBvbnJlcXVlc3QpO1xuICAgIGlmIChzdHJlYW0ucmVxKSBzdHJlYW0ucmVxLnJlbW92ZUxpc3RlbmVyKCdmaW5pc2gnLCBvbmZpbmlzaCk7XG4gICAgc3RyZWFtLnJlbW92ZUxpc3RlbmVyKCdlbmQnLCBvbmxlZ2FjeWZpbmlzaCk7XG4gICAgc3RyZWFtLnJlbW92ZUxpc3RlbmVyKCdjbG9zZScsIG9ubGVnYWN5ZmluaXNoKTtcbiAgICBzdHJlYW0ucmVtb3ZlTGlzdGVuZXIoJ2ZpbmlzaCcsIG9uZmluaXNoKTtcbiAgICBzdHJlYW0ucmVtb3ZlTGlzdGVuZXIoJ2VuZCcsIG9uZW5kKTtcbiAgICBzdHJlYW0ucmVtb3ZlTGlzdGVuZXIoJ2Vycm9yJywgb25lcnJvcik7XG4gICAgc3RyZWFtLnJlbW92ZUxpc3RlbmVyKCdjbG9zZScsIG9uY2xvc2UpO1xuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGVvczsiLCAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgX09iamVjdCRzZXRQcm90b3R5cGVPO1xuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG52YXIgZmluaXNoZWQgPSByZXF1aXJlKCcuL2VuZC1vZi1zdHJlYW0nKTtcblxudmFyIGtMYXN0UmVzb2x2ZSA9IFN5bWJvbCgnbGFzdFJlc29sdmUnKTtcbnZhciBrTGFzdFJlamVjdCA9IFN5bWJvbCgnbGFzdFJlamVjdCcpO1xudmFyIGtFcnJvciA9IFN5bWJvbCgnZXJyb3InKTtcbnZhciBrRW5kZWQgPSBTeW1ib2woJ2VuZGVkJyk7XG52YXIga0xhc3RQcm9taXNlID0gU3ltYm9sKCdsYXN0UHJvbWlzZScpO1xudmFyIGtIYW5kbGVQcm9taXNlID0gU3ltYm9sKCdoYW5kbGVQcm9taXNlJyk7XG52YXIga1N0cmVhbSA9IFN5bWJvbCgnc3RyZWFtJyk7XG5cbmZ1bmN0aW9uIGNyZWF0ZUl0ZXJSZXN1bHQodmFsdWUsIGRvbmUpIHtcbiAgcmV0dXJuIHtcbiAgICB2YWx1ZTogdmFsdWUsXG4gICAgZG9uZTogZG9uZVxuICB9O1xufVxuXG5mdW5jdGlvbiByZWFkQW5kUmVzb2x2ZShpdGVyKSB7XG4gIHZhciByZXNvbHZlID0gaXRlcltrTGFzdFJlc29sdmVdO1xuXG4gIGlmIChyZXNvbHZlICE9PSBudWxsKSB7XG4gICAgdmFyIGRhdGEgPSBpdGVyW2tTdHJlYW1dLnJlYWQoKTsgLy8gd2UgZGVmZXIgaWYgZGF0YSBpcyBudWxsXG4gICAgLy8gd2UgY2FuIGJlIGV4cGVjdGluZyBlaXRoZXIgJ2VuZCcgb3JcbiAgICAvLyAnZXJyb3InXG5cbiAgICBpZiAoZGF0YSAhPT0gbnVsbCkge1xuICAgICAgaXRlcltrTGFzdFByb21pc2VdID0gbnVsbDtcbiAgICAgIGl0ZXJba0xhc3RSZXNvbHZlXSA9IG51bGw7XG4gICAgICBpdGVyW2tMYXN0UmVqZWN0XSA9IG51bGw7XG4gICAgICByZXNvbHZlKGNyZWF0ZUl0ZXJSZXN1bHQoZGF0YSwgZmFsc2UpKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gb25SZWFkYWJsZShpdGVyKSB7XG4gIC8vIHdlIHdhaXQgZm9yIHRoZSBuZXh0IHRpY2ssIGJlY2F1c2UgaXQgbWlnaHRcbiAgLy8gZW1pdCBhbiBlcnJvciB3aXRoIHByb2Nlc3MubmV4dFRpY2tcbiAgcHJvY2Vzcy5uZXh0VGljayhyZWFkQW5kUmVzb2x2ZSwgaXRlcik7XG59XG5cbmZ1bmN0aW9uIHdyYXBGb3JOZXh0KGxhc3RQcm9taXNlLCBpdGVyKSB7XG4gIHJldHVybiBmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgbGFzdFByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoaXRlcltrRW5kZWRdKSB7XG4gICAgICAgIHJlc29sdmUoY3JlYXRlSXRlclJlc3VsdCh1bmRlZmluZWQsIHRydWUpKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpdGVyW2tIYW5kbGVQcm9taXNlXShyZXNvbHZlLCByZWplY3QpO1xuICAgIH0sIHJlamVjdCk7XG4gIH07XG59XG5cbnZhciBBc3luY0l0ZXJhdG9yUHJvdG90eXBlID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKGZ1bmN0aW9uICgpIHt9KTtcbnZhciBSZWFkYWJsZVN0cmVhbUFzeW5jSXRlcmF0b3JQcm90b3R5cGUgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YoKF9PYmplY3Qkc2V0UHJvdG90eXBlTyA9IHtcbiAgZ2V0IHN0cmVhbSgpIHtcbiAgICByZXR1cm4gdGhpc1trU3RyZWFtXTtcbiAgfSxcblxuICBuZXh0OiBmdW5jdGlvbiBuZXh0KCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAvLyBpZiB3ZSBoYXZlIGRldGVjdGVkIGFuIGVycm9yIGluIHRoZSBtZWFud2hpbGVcbiAgICAvLyByZWplY3Qgc3RyYWlnaHQgYXdheVxuICAgIHZhciBlcnJvciA9IHRoaXNba0Vycm9yXTtcblxuICAgIGlmIChlcnJvciAhPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgICB9XG5cbiAgICBpZiAodGhpc1trRW5kZWRdKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGNyZWF0ZUl0ZXJSZXN1bHQodW5kZWZpbmVkLCB0cnVlKSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXNba1N0cmVhbV0uZGVzdHJveWVkKSB7XG4gICAgICAvLyBXZSBuZWVkIHRvIGRlZmVyIHZpYSBuZXh0VGljayBiZWNhdXNlIGlmIC5kZXN0cm95KGVycikgaXNcbiAgICAgIC8vIGNhbGxlZCwgdGhlIGVycm9yIHdpbGwgYmUgZW1pdHRlZCB2aWEgbmV4dFRpY2ssIGFuZFxuICAgICAgLy8gd2UgY2Fubm90IGd1YXJhbnRlZSB0aGF0IHRoZXJlIGlzIG5vIGVycm9yIGxpbmdlcmluZyBhcm91bmRcbiAgICAgIC8vIHdhaXRpbmcgdG8gYmUgZW1pdHRlZC5cbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIHByb2Nlc3MubmV4dFRpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmIChfdGhpc1trRXJyb3JdKSB7XG4gICAgICAgICAgICByZWplY3QoX3RoaXNba0Vycm9yXSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc29sdmUoY3JlYXRlSXRlclJlc3VsdCh1bmRlZmluZWQsIHRydWUpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSAvLyBpZiB3ZSBoYXZlIG11bHRpcGxlIG5leHQoKSBjYWxsc1xuICAgIC8vIHdlIHdpbGwgd2FpdCBmb3IgdGhlIHByZXZpb3VzIFByb21pc2UgdG8gZmluaXNoXG4gICAgLy8gdGhpcyBsb2dpYyBpcyBvcHRpbWl6ZWQgdG8gc3VwcG9ydCBmb3IgYXdhaXQgbG9vcHMsXG4gICAgLy8gd2hlcmUgbmV4dCgpIGlzIG9ubHkgY2FsbGVkIG9uY2UgYXQgYSB0aW1lXG5cblxuICAgIHZhciBsYXN0UHJvbWlzZSA9IHRoaXNba0xhc3RQcm9taXNlXTtcbiAgICB2YXIgcHJvbWlzZTtcblxuICAgIGlmIChsYXN0UHJvbWlzZSkge1xuICAgICAgcHJvbWlzZSA9IG5ldyBQcm9taXNlKHdyYXBGb3JOZXh0KGxhc3RQcm9taXNlLCB0aGlzKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGZhc3QgcGF0aCBuZWVkZWQgdG8gc3VwcG9ydCBtdWx0aXBsZSB0aGlzLnB1c2goKVxuICAgICAgLy8gd2l0aG91dCB0cmlnZ2VyaW5nIHRoZSBuZXh0KCkgcXVldWVcbiAgICAgIHZhciBkYXRhID0gdGhpc1trU3RyZWFtXS5yZWFkKCk7XG5cbiAgICAgIGlmIChkYXRhICE9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoY3JlYXRlSXRlclJlc3VsdChkYXRhLCBmYWxzZSkpO1xuICAgICAgfVxuXG4gICAgICBwcm9taXNlID0gbmV3IFByb21pc2UodGhpc1trSGFuZGxlUHJvbWlzZV0pO1xuICAgIH1cblxuICAgIHRoaXNba0xhc3RQcm9taXNlXSA9IHByb21pc2U7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cbn0sIF9kZWZpbmVQcm9wZXJ0eShfT2JqZWN0JHNldFByb3RvdHlwZU8sIFN5bWJvbC5hc3luY0l0ZXJhdG9yLCBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzO1xufSksIF9kZWZpbmVQcm9wZXJ0eShfT2JqZWN0JHNldFByb3RvdHlwZU8sIFwicmV0dXJuXCIsIGZ1bmN0aW9uIF9yZXR1cm4oKSB7XG4gIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gIC8vIGRlc3Ryb3koZXJyLCBjYikgaXMgYSBwcml2YXRlIEFQSVxuICAvLyB3ZSBjYW4gZ3VhcmFudGVlIHdlIGhhdmUgdGhhdCBoZXJlLCBiZWNhdXNlIHdlIGNvbnRyb2wgdGhlXG4gIC8vIFJlYWRhYmxlIGNsYXNzIHRoaXMgaXMgYXR0YWNoZWQgdG9cbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBfdGhpczJba1N0cmVhbV0uZGVzdHJveShudWxsLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHJlc29sdmUoY3JlYXRlSXRlclJlc3VsdCh1bmRlZmluZWQsIHRydWUpKTtcbiAgICB9KTtcbiAgfSk7XG59KSwgX09iamVjdCRzZXRQcm90b3R5cGVPKSwgQXN5bmNJdGVyYXRvclByb3RvdHlwZSk7XG5cbnZhciBjcmVhdGVSZWFkYWJsZVN0cmVhbUFzeW5jSXRlcmF0b3IgPSBmdW5jdGlvbiBjcmVhdGVSZWFkYWJsZVN0cmVhbUFzeW5jSXRlcmF0b3Ioc3RyZWFtKSB7XG4gIHZhciBfT2JqZWN0JGNyZWF0ZTtcblxuICB2YXIgaXRlcmF0b3IgPSBPYmplY3QuY3JlYXRlKFJlYWRhYmxlU3RyZWFtQXN5bmNJdGVyYXRvclByb3RvdHlwZSwgKF9PYmplY3QkY3JlYXRlID0ge30sIF9kZWZpbmVQcm9wZXJ0eShfT2JqZWN0JGNyZWF0ZSwga1N0cmVhbSwge1xuICAgIHZhbHVlOiBzdHJlYW0sXG4gICAgd3JpdGFibGU6IHRydWVcbiAgfSksIF9kZWZpbmVQcm9wZXJ0eShfT2JqZWN0JGNyZWF0ZSwga0xhc3RSZXNvbHZlLCB7XG4gICAgdmFsdWU6IG51bGwsXG4gICAgd3JpdGFibGU6IHRydWVcbiAgfSksIF9kZWZpbmVQcm9wZXJ0eShfT2JqZWN0JGNyZWF0ZSwga0xhc3RSZWplY3QsIHtcbiAgICB2YWx1ZTogbnVsbCxcbiAgICB3cml0YWJsZTogdHJ1ZVxuICB9KSwgX2RlZmluZVByb3BlcnR5KF9PYmplY3QkY3JlYXRlLCBrRXJyb3IsIHtcbiAgICB2YWx1ZTogbnVsbCxcbiAgICB3cml0YWJsZTogdHJ1ZVxuICB9KSwgX2RlZmluZVByb3BlcnR5KF9PYmplY3QkY3JlYXRlLCBrRW5kZWQsIHtcbiAgICB2YWx1ZTogc3RyZWFtLl9yZWFkYWJsZVN0YXRlLmVuZEVtaXR0ZWQsXG4gICAgd3JpdGFibGU6IHRydWVcbiAgfSksIF9kZWZpbmVQcm9wZXJ0eShfT2JqZWN0JGNyZWF0ZSwga0hhbmRsZVByb21pc2UsIHtcbiAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB2YXIgZGF0YSA9IGl0ZXJhdG9yW2tTdHJlYW1dLnJlYWQoKTtcblxuICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgaXRlcmF0b3Jba0xhc3RQcm9taXNlXSA9IG51bGw7XG4gICAgICAgIGl0ZXJhdG9yW2tMYXN0UmVzb2x2ZV0gPSBudWxsO1xuICAgICAgICBpdGVyYXRvcltrTGFzdFJlamVjdF0gPSBudWxsO1xuICAgICAgICByZXNvbHZlKGNyZWF0ZUl0ZXJSZXN1bHQoZGF0YSwgZmFsc2UpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGl0ZXJhdG9yW2tMYXN0UmVzb2x2ZV0gPSByZXNvbHZlO1xuICAgICAgICBpdGVyYXRvcltrTGFzdFJlamVjdF0gPSByZWplY3Q7XG4gICAgICB9XG4gICAgfSxcbiAgICB3cml0YWJsZTogdHJ1ZVxuICB9KSwgX09iamVjdCRjcmVhdGUpKTtcbiAgaXRlcmF0b3Jba0xhc3RQcm9taXNlXSA9IG51bGw7XG4gIGZpbmlzaGVkKHN0cmVhbSwgZnVuY3Rpb24gKGVycikge1xuICAgIGlmIChlcnIgJiYgZXJyLmNvZGUgIT09ICdFUlJfU1RSRUFNX1BSRU1BVFVSRV9DTE9TRScpIHtcbiAgICAgIHZhciByZWplY3QgPSBpdGVyYXRvcltrTGFzdFJlamVjdF07IC8vIHJlamVjdCBpZiB3ZSBhcmUgd2FpdGluZyBmb3IgZGF0YSBpbiB0aGUgUHJvbWlzZVxuICAgICAgLy8gcmV0dXJuZWQgYnkgbmV4dCgpIGFuZCBzdG9yZSB0aGUgZXJyb3JcblxuICAgICAgaWYgKHJlamVjdCAhPT0gbnVsbCkge1xuICAgICAgICBpdGVyYXRvcltrTGFzdFByb21pc2VdID0gbnVsbDtcbiAgICAgICAgaXRlcmF0b3Jba0xhc3RSZXNvbHZlXSA9IG51bGw7XG4gICAgICAgIGl0ZXJhdG9yW2tMYXN0UmVqZWN0XSA9IG51bGw7XG4gICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgfVxuXG4gICAgICBpdGVyYXRvcltrRXJyb3JdID0gZXJyO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciByZXNvbHZlID0gaXRlcmF0b3Jba0xhc3RSZXNvbHZlXTtcblxuICAgIGlmIChyZXNvbHZlICE9PSBudWxsKSB7XG4gICAgICBpdGVyYXRvcltrTGFzdFByb21pc2VdID0gbnVsbDtcbiAgICAgIGl0ZXJhdG9yW2tMYXN0UmVzb2x2ZV0gPSBudWxsO1xuICAgICAgaXRlcmF0b3Jba0xhc3RSZWplY3RdID0gbnVsbDtcbiAgICAgIHJlc29sdmUoY3JlYXRlSXRlclJlc3VsdCh1bmRlZmluZWQsIHRydWUpKTtcbiAgICB9XG5cbiAgICBpdGVyYXRvcltrRW5kZWRdID0gdHJ1ZTtcbiAgfSk7XG4gIHN0cmVhbS5vbigncmVhZGFibGUnLCBvblJlYWRhYmxlLmJpbmQobnVsbCwgaXRlcmF0b3IpKTtcbiAgcmV0dXJuIGl0ZXJhdG9yO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBjcmVhdGVSZWFkYWJsZVN0cmVhbUFzeW5jSXRlcmF0b3I7IiwgIid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBrZXksIGFyZykgeyB0cnkgeyB2YXIgaW5mbyA9IGdlbltrZXldKGFyZyk7IHZhciB2YWx1ZSA9IGluZm8udmFsdWU7IH0gY2F0Y2ggKGVycm9yKSB7IHJlamVjdChlcnJvcik7IHJldHVybjsgfSBpZiAoaW5mby5kb25lKSB7IHJlc29sdmUodmFsdWUpOyB9IGVsc2UgeyBQcm9taXNlLnJlc29sdmUodmFsdWUpLnRoZW4oX25leHQsIF90aHJvdyk7IH0gfVxuXG5mdW5jdGlvbiBfYXN5bmNUb0dlbmVyYXRvcihmbikgeyByZXR1cm4gZnVuY3Rpb24gKCkgeyB2YXIgc2VsZiA9IHRoaXMsIGFyZ3MgPSBhcmd1bWVudHM7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHZhciBnZW4gPSBmbi5hcHBseShzZWxmLCBhcmdzKTsgZnVuY3Rpb24gX25leHQodmFsdWUpIHsgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBcIm5leHRcIiwgdmFsdWUpOyB9IGZ1bmN0aW9uIF90aHJvdyhlcnIpIHsgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBcInRocm93XCIsIGVycik7IH0gX25leHQodW5kZWZpbmVkKTsgfSk7IH07IH1cblxuZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbnZhciBFUlJfSU5WQUxJRF9BUkdfVFlQRSA9IHJlcXVpcmUoJy4uLy4uLy4uL2Vycm9ycycpLmNvZGVzLkVSUl9JTlZBTElEX0FSR19UWVBFO1xuXG5mdW5jdGlvbiBmcm9tKFJlYWRhYmxlLCBpdGVyYWJsZSwgb3B0cykge1xuICB2YXIgaXRlcmF0b3I7XG5cbiAgaWYgKGl0ZXJhYmxlICYmIHR5cGVvZiBpdGVyYWJsZS5uZXh0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgaXRlcmF0b3IgPSBpdGVyYWJsZTtcbiAgfSBlbHNlIGlmIChpdGVyYWJsZSAmJiBpdGVyYWJsZVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0pIGl0ZXJhdG9yID0gaXRlcmFibGVbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCk7ZWxzZSBpZiAoaXRlcmFibGUgJiYgaXRlcmFibGVbU3ltYm9sLml0ZXJhdG9yXSkgaXRlcmF0b3IgPSBpdGVyYWJsZVtTeW1ib2wuaXRlcmF0b3JdKCk7ZWxzZSB0aHJvdyBuZXcgRVJSX0lOVkFMSURfQVJHX1RZUEUoJ2l0ZXJhYmxlJywgWydJdGVyYWJsZSddLCBpdGVyYWJsZSk7XG5cbiAgdmFyIHJlYWRhYmxlID0gbmV3IFJlYWRhYmxlKF9vYmplY3RTcHJlYWQoe1xuICAgIG9iamVjdE1vZGU6IHRydWVcbiAgfSwgb3B0cykpOyAvLyBSZWFkaW5nIGJvb2xlYW4gdG8gcHJvdGVjdCBhZ2FpbnN0IF9yZWFkXG4gIC8vIGJlaW5nIGNhbGxlZCBiZWZvcmUgbGFzdCBpdGVyYXRpb24gY29tcGxldGlvbi5cblxuICB2YXIgcmVhZGluZyA9IGZhbHNlO1xuXG4gIHJlYWRhYmxlLl9yZWFkID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICghcmVhZGluZykge1xuICAgICAgcmVhZGluZyA9IHRydWU7XG4gICAgICBuZXh0KCk7XG4gICAgfVxuICB9O1xuXG4gIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgcmV0dXJuIF9uZXh0Mi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgZnVuY3Rpb24gX25leHQyKCkge1xuICAgIF9uZXh0MiA9IF9hc3luY1RvR2VuZXJhdG9yKGZ1bmN0aW9uKiAoKSB7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgX3JlZiA9IHlpZWxkIGl0ZXJhdG9yLm5leHQoKSxcbiAgICAgICAgICAgIHZhbHVlID0gX3JlZi52YWx1ZSxcbiAgICAgICAgICAgIGRvbmUgPSBfcmVmLmRvbmU7XG5cbiAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICByZWFkYWJsZS5wdXNoKG51bGwpO1xuICAgICAgICB9IGVsc2UgaWYgKHJlYWRhYmxlLnB1c2goKHlpZWxkIHZhbHVlKSkpIHtcbiAgICAgICAgICBuZXh0KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVhZGluZyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgcmVhZGFibGUuZGVzdHJveShlcnIpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBfbmV4dDIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIHJldHVybiByZWFkYWJsZTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmcm9tOyIsICIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cbid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFkYWJsZTtcbi8qPHJlcGxhY2VtZW50PiovXG5cbnZhciBEdXBsZXg7XG4vKjwvcmVwbGFjZW1lbnQ+Ki9cblxuUmVhZGFibGUuUmVhZGFibGVTdGF0ZSA9IFJlYWRhYmxlU3RhdGU7XG4vKjxyZXBsYWNlbWVudD4qL1xuXG52YXIgRUUgPSByZXF1aXJlKCdldmVudHMnKS5FdmVudEVtaXR0ZXI7XG5cbnZhciBFRWxpc3RlbmVyQ291bnQgPSBmdW5jdGlvbiBFRWxpc3RlbmVyQ291bnQoZW1pdHRlciwgdHlwZSkge1xuICByZXR1cm4gZW1pdHRlci5saXN0ZW5lcnModHlwZSkubGVuZ3RoO1xufTtcbi8qPC9yZXBsYWNlbWVudD4qL1xuXG4vKjxyZXBsYWNlbWVudD4qL1xuXG5cbnZhciBTdHJlYW0gPSByZXF1aXJlKCcuL2ludGVybmFsL3N0cmVhbXMvc3RyZWFtJyk7XG4vKjwvcmVwbGFjZW1lbnQ+Ki9cblxuXG52YXIgQnVmZmVyID0gcmVxdWlyZSgnYnVmZmVyJykuQnVmZmVyO1xuXG52YXIgT3VyVWludDhBcnJheSA9IGdsb2JhbC5VaW50OEFycmF5IHx8IGZ1bmN0aW9uICgpIHt9O1xuXG5mdW5jdGlvbiBfdWludDhBcnJheVRvQnVmZmVyKGNodW5rKSB7XG4gIHJldHVybiBCdWZmZXIuZnJvbShjaHVuayk7XG59XG5cbmZ1bmN0aW9uIF9pc1VpbnQ4QXJyYXkob2JqKSB7XG4gIHJldHVybiBCdWZmZXIuaXNCdWZmZXIob2JqKSB8fCBvYmogaW5zdGFuY2VvZiBPdXJVaW50OEFycmF5O1xufVxuLyo8cmVwbGFjZW1lbnQ+Ki9cblxuXG52YXIgZGVidWdVdGlsID0gcmVxdWlyZSgndXRpbCcpO1xuXG52YXIgZGVidWc7XG5cbmlmIChkZWJ1Z1V0aWwgJiYgZGVidWdVdGlsLmRlYnVnbG9nKSB7XG4gIGRlYnVnID0gZGVidWdVdGlsLmRlYnVnbG9nKCdzdHJlYW0nKTtcbn0gZWxzZSB7XG4gIGRlYnVnID0gZnVuY3Rpb24gZGVidWcoKSB7fTtcbn1cbi8qPC9yZXBsYWNlbWVudD4qL1xuXG5cbnZhciBCdWZmZXJMaXN0ID0gcmVxdWlyZSgnLi9pbnRlcm5hbC9zdHJlYW1zL2J1ZmZlcl9saXN0Jyk7XG5cbnZhciBkZXN0cm95SW1wbCA9IHJlcXVpcmUoJy4vaW50ZXJuYWwvc3RyZWFtcy9kZXN0cm95Jyk7XG5cbnZhciBfcmVxdWlyZSA9IHJlcXVpcmUoJy4vaW50ZXJuYWwvc3RyZWFtcy9zdGF0ZScpLFxuICAgIGdldEhpZ2hXYXRlck1hcmsgPSBfcmVxdWlyZS5nZXRIaWdoV2F0ZXJNYXJrO1xuXG52YXIgX3JlcXVpcmUkY29kZXMgPSByZXF1aXJlKCcuLi9lcnJvcnMnKS5jb2RlcyxcbiAgICBFUlJfSU5WQUxJRF9BUkdfVFlQRSA9IF9yZXF1aXJlJGNvZGVzLkVSUl9JTlZBTElEX0FSR19UWVBFLFxuICAgIEVSUl9TVFJFQU1fUFVTSF9BRlRFUl9FT0YgPSBfcmVxdWlyZSRjb2Rlcy5FUlJfU1RSRUFNX1BVU0hfQUZURVJfRU9GLFxuICAgIEVSUl9NRVRIT0RfTk9UX0lNUExFTUVOVEVEID0gX3JlcXVpcmUkY29kZXMuRVJSX01FVEhPRF9OT1RfSU1QTEVNRU5URUQsXG4gICAgRVJSX1NUUkVBTV9VTlNISUZUX0FGVEVSX0VORF9FVkVOVCA9IF9yZXF1aXJlJGNvZGVzLkVSUl9TVFJFQU1fVU5TSElGVF9BRlRFUl9FTkRfRVZFTlQ7IC8vIExhenkgbG9hZGVkIHRvIGltcHJvdmUgdGhlIHN0YXJ0dXAgcGVyZm9ybWFuY2UuXG5cblxudmFyIFN0cmluZ0RlY29kZXI7XG52YXIgY3JlYXRlUmVhZGFibGVTdHJlYW1Bc3luY0l0ZXJhdG9yO1xudmFyIGZyb207XG5cbnJlcXVpcmUoJ2luaGVyaXRzJykoUmVhZGFibGUsIFN0cmVhbSk7XG5cbnZhciBlcnJvck9yRGVzdHJveSA9IGRlc3Ryb3lJbXBsLmVycm9yT3JEZXN0cm95O1xudmFyIGtQcm94eUV2ZW50cyA9IFsnZXJyb3InLCAnY2xvc2UnLCAnZGVzdHJveScsICdwYXVzZScsICdyZXN1bWUnXTtcblxuZnVuY3Rpb24gcHJlcGVuZExpc3RlbmVyKGVtaXR0ZXIsIGV2ZW50LCBmbikge1xuICAvLyBTYWRseSB0aGlzIGlzIG5vdCBjYWNoZWFibGUgYXMgc29tZSBsaWJyYXJpZXMgYnVuZGxlIHRoZWlyIG93blxuICAvLyBldmVudCBlbWl0dGVyIGltcGxlbWVudGF0aW9uIHdpdGggdGhlbS5cbiAgaWYgKHR5cGVvZiBlbWl0dGVyLnByZXBlbmRMaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJykgcmV0dXJuIGVtaXR0ZXIucHJlcGVuZExpc3RlbmVyKGV2ZW50LCBmbik7IC8vIFRoaXMgaXMgYSBoYWNrIHRvIG1ha2Ugc3VyZSB0aGF0IG91ciBlcnJvciBoYW5kbGVyIGlzIGF0dGFjaGVkIGJlZm9yZSBhbnlcbiAgLy8gdXNlcmxhbmQgb25lcy4gIE5FVkVSIERPIFRISVMuIFRoaXMgaXMgaGVyZSBvbmx5IGJlY2F1c2UgdGhpcyBjb2RlIG5lZWRzXG4gIC8vIHRvIGNvbnRpbnVlIHRvIHdvcmsgd2l0aCBvbGRlciB2ZXJzaW9ucyBvZiBOb2RlLmpzIHRoYXQgZG8gbm90IGluY2x1ZGVcbiAgLy8gdGhlIHByZXBlbmRMaXN0ZW5lcigpIG1ldGhvZC4gVGhlIGdvYWwgaXMgdG8gZXZlbnR1YWxseSByZW1vdmUgdGhpcyBoYWNrLlxuXG4gIGlmICghZW1pdHRlci5fZXZlbnRzIHx8ICFlbWl0dGVyLl9ldmVudHNbZXZlbnRdKSBlbWl0dGVyLm9uKGV2ZW50LCBmbik7ZWxzZSBpZiAoQXJyYXkuaXNBcnJheShlbWl0dGVyLl9ldmVudHNbZXZlbnRdKSkgZW1pdHRlci5fZXZlbnRzW2V2ZW50XS51bnNoaWZ0KGZuKTtlbHNlIGVtaXR0ZXIuX2V2ZW50c1tldmVudF0gPSBbZm4sIGVtaXR0ZXIuX2V2ZW50c1tldmVudF1dO1xufVxuXG5mdW5jdGlvbiBSZWFkYWJsZVN0YXRlKG9wdGlvbnMsIHN0cmVhbSwgaXNEdXBsZXgpIHtcbiAgRHVwbGV4ID0gRHVwbGV4IHx8IHJlcXVpcmUoJy4vX3N0cmVhbV9kdXBsZXgnKTtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307IC8vIER1cGxleCBzdHJlYW1zIGFyZSBib3RoIHJlYWRhYmxlIGFuZCB3cml0YWJsZSwgYnV0IHNoYXJlXG4gIC8vIHRoZSBzYW1lIG9wdGlvbnMgb2JqZWN0LlxuICAvLyBIb3dldmVyLCBzb21lIGNhc2VzIHJlcXVpcmUgc2V0dGluZyBvcHRpb25zIHRvIGRpZmZlcmVudFxuICAvLyB2YWx1ZXMgZm9yIHRoZSByZWFkYWJsZSBhbmQgdGhlIHdyaXRhYmxlIHNpZGVzIG9mIHRoZSBkdXBsZXggc3RyZWFtLlxuICAvLyBUaGVzZSBvcHRpb25zIGNhbiBiZSBwcm92aWRlZCBzZXBhcmF0ZWx5IGFzIHJlYWRhYmxlWFhYIGFuZCB3cml0YWJsZVhYWC5cblxuICBpZiAodHlwZW9mIGlzRHVwbGV4ICE9PSAnYm9vbGVhbicpIGlzRHVwbGV4ID0gc3RyZWFtIGluc3RhbmNlb2YgRHVwbGV4OyAvLyBvYmplY3Qgc3RyZWFtIGZsYWcuIFVzZWQgdG8gbWFrZSByZWFkKG4pIGlnbm9yZSBuIGFuZCB0b1xuICAvLyBtYWtlIGFsbCB0aGUgYnVmZmVyIG1lcmdpbmcgYW5kIGxlbmd0aCBjaGVja3MgZ28gYXdheVxuXG4gIHRoaXMub2JqZWN0TW9kZSA9ICEhb3B0aW9ucy5vYmplY3RNb2RlO1xuICBpZiAoaXNEdXBsZXgpIHRoaXMub2JqZWN0TW9kZSA9IHRoaXMub2JqZWN0TW9kZSB8fCAhIW9wdGlvbnMucmVhZGFibGVPYmplY3RNb2RlOyAvLyB0aGUgcG9pbnQgYXQgd2hpY2ggaXQgc3RvcHMgY2FsbGluZyBfcmVhZCgpIHRvIGZpbGwgdGhlIGJ1ZmZlclxuICAvLyBOb3RlOiAwIGlzIGEgdmFsaWQgdmFsdWUsIG1lYW5zIFwiZG9uJ3QgY2FsbCBfcmVhZCBwcmVlbXB0aXZlbHkgZXZlclwiXG5cbiAgdGhpcy5oaWdoV2F0ZXJNYXJrID0gZ2V0SGlnaFdhdGVyTWFyayh0aGlzLCBvcHRpb25zLCAncmVhZGFibGVIaWdoV2F0ZXJNYXJrJywgaXNEdXBsZXgpOyAvLyBBIGxpbmtlZCBsaXN0IGlzIHVzZWQgdG8gc3RvcmUgZGF0YSBjaHVua3MgaW5zdGVhZCBvZiBhbiBhcnJheSBiZWNhdXNlIHRoZVxuICAvLyBsaW5rZWQgbGlzdCBjYW4gcmVtb3ZlIGVsZW1lbnRzIGZyb20gdGhlIGJlZ2lubmluZyBmYXN0ZXIgdGhhblxuICAvLyBhcnJheS5zaGlmdCgpXG5cbiAgdGhpcy5idWZmZXIgPSBuZXcgQnVmZmVyTGlzdCgpO1xuICB0aGlzLmxlbmd0aCA9IDA7XG4gIHRoaXMucGlwZXMgPSBudWxsO1xuICB0aGlzLnBpcGVzQ291bnQgPSAwO1xuICB0aGlzLmZsb3dpbmcgPSBudWxsO1xuICB0aGlzLmVuZGVkID0gZmFsc2U7XG4gIHRoaXMuZW5kRW1pdHRlZCA9IGZhbHNlO1xuICB0aGlzLnJlYWRpbmcgPSBmYWxzZTsgLy8gYSBmbGFnIHRvIGJlIGFibGUgdG8gdGVsbCBpZiB0aGUgZXZlbnQgJ3JlYWRhYmxlJy8nZGF0YScgaXMgZW1pdHRlZFxuICAvLyBpbW1lZGlhdGVseSwgb3Igb24gYSBsYXRlciB0aWNrLiAgV2Ugc2V0IHRoaXMgdG8gdHJ1ZSBhdCBmaXJzdCwgYmVjYXVzZVxuICAvLyBhbnkgYWN0aW9ucyB0aGF0IHNob3VsZG4ndCBoYXBwZW4gdW50aWwgXCJsYXRlclwiIHNob3VsZCBnZW5lcmFsbHkgYWxzb1xuICAvLyBub3QgaGFwcGVuIGJlZm9yZSB0aGUgZmlyc3QgcmVhZCBjYWxsLlxuXG4gIHRoaXMuc3luYyA9IHRydWU7IC8vIHdoZW5ldmVyIHdlIHJldHVybiBudWxsLCB0aGVuIHdlIHNldCBhIGZsYWcgdG8gc2F5XG4gIC8vIHRoYXQgd2UncmUgYXdhaXRpbmcgYSAncmVhZGFibGUnIGV2ZW50IGVtaXNzaW9uLlxuXG4gIHRoaXMubmVlZFJlYWRhYmxlID0gZmFsc2U7XG4gIHRoaXMuZW1pdHRlZFJlYWRhYmxlID0gZmFsc2U7XG4gIHRoaXMucmVhZGFibGVMaXN0ZW5pbmcgPSBmYWxzZTtcbiAgdGhpcy5yZXN1bWVTY2hlZHVsZWQgPSBmYWxzZTtcbiAgdGhpcy5wYXVzZWQgPSB0cnVlOyAvLyBTaG91bGQgY2xvc2UgYmUgZW1pdHRlZCBvbiBkZXN0cm95LiBEZWZhdWx0cyB0byB0cnVlLlxuXG4gIHRoaXMuZW1pdENsb3NlID0gb3B0aW9ucy5lbWl0Q2xvc2UgIT09IGZhbHNlOyAvLyBTaG91bGQgLmRlc3Ryb3koKSBiZSBjYWxsZWQgYWZ0ZXIgJ2VuZCcgKGFuZCBwb3RlbnRpYWxseSAnZmluaXNoJylcblxuICB0aGlzLmF1dG9EZXN0cm95ID0gISFvcHRpb25zLmF1dG9EZXN0cm95OyAvLyBoYXMgaXQgYmVlbiBkZXN0cm95ZWRcblxuICB0aGlzLmRlc3Ryb3llZCA9IGZhbHNlOyAvLyBDcnlwdG8gaXMga2luZCBvZiBvbGQgYW5kIGNydXN0eS4gIEhpc3RvcmljYWxseSwgaXRzIGRlZmF1bHQgc3RyaW5nXG4gIC8vIGVuY29kaW5nIGlzICdiaW5hcnknIHNvIHdlIGhhdmUgdG8gbWFrZSB0aGlzIGNvbmZpZ3VyYWJsZS5cbiAgLy8gRXZlcnl0aGluZyBlbHNlIGluIHRoZSB1bml2ZXJzZSB1c2VzICd1dGY4JywgdGhvdWdoLlxuXG4gIHRoaXMuZGVmYXVsdEVuY29kaW5nID0gb3B0aW9ucy5kZWZhdWx0RW5jb2RpbmcgfHwgJ3V0ZjgnOyAvLyB0aGUgbnVtYmVyIG9mIHdyaXRlcnMgdGhhdCBhcmUgYXdhaXRpbmcgYSBkcmFpbiBldmVudCBpbiAucGlwZSgpc1xuXG4gIHRoaXMuYXdhaXREcmFpbiA9IDA7IC8vIGlmIHRydWUsIGEgbWF5YmVSZWFkTW9yZSBoYXMgYmVlbiBzY2hlZHVsZWRcblxuICB0aGlzLnJlYWRpbmdNb3JlID0gZmFsc2U7XG4gIHRoaXMuZGVjb2RlciA9IG51bGw7XG4gIHRoaXMuZW5jb2RpbmcgPSBudWxsO1xuXG4gIGlmIChvcHRpb25zLmVuY29kaW5nKSB7XG4gICAgaWYgKCFTdHJpbmdEZWNvZGVyKSBTdHJpbmdEZWNvZGVyID0gcmVxdWlyZSgnc3RyaW5nX2RlY29kZXIvJykuU3RyaW5nRGVjb2RlcjtcbiAgICB0aGlzLmRlY29kZXIgPSBuZXcgU3RyaW5nRGVjb2RlcihvcHRpb25zLmVuY29kaW5nKTtcbiAgICB0aGlzLmVuY29kaW5nID0gb3B0aW9ucy5lbmNvZGluZztcbiAgfVxufVxuXG5mdW5jdGlvbiBSZWFkYWJsZShvcHRpb25zKSB7XG4gIER1cGxleCA9IER1cGxleCB8fCByZXF1aXJlKCcuL19zdHJlYW1fZHVwbGV4Jyk7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBSZWFkYWJsZSkpIHJldHVybiBuZXcgUmVhZGFibGUob3B0aW9ucyk7IC8vIENoZWNraW5nIGZvciBhIFN0cmVhbS5EdXBsZXggaW5zdGFuY2UgaXMgZmFzdGVyIGhlcmUgaW5zdGVhZCBvZiBpbnNpZGVcbiAgLy8gdGhlIFJlYWRhYmxlU3RhdGUgY29uc3RydWN0b3IsIGF0IGxlYXN0IHdpdGggVjggNi41XG5cbiAgdmFyIGlzRHVwbGV4ID0gdGhpcyBpbnN0YW5jZW9mIER1cGxleDtcbiAgdGhpcy5fcmVhZGFibGVTdGF0ZSA9IG5ldyBSZWFkYWJsZVN0YXRlKG9wdGlvbnMsIHRoaXMsIGlzRHVwbGV4KTsgLy8gbGVnYWN5XG5cbiAgdGhpcy5yZWFkYWJsZSA9IHRydWU7XG5cbiAgaWYgKG9wdGlvbnMpIHtcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMucmVhZCA9PT0gJ2Z1bmN0aW9uJykgdGhpcy5fcmVhZCA9IG9wdGlvbnMucmVhZDtcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMuZGVzdHJveSA9PT0gJ2Z1bmN0aW9uJykgdGhpcy5fZGVzdHJveSA9IG9wdGlvbnMuZGVzdHJveTtcbiAgfVxuXG4gIFN0cmVhbS5jYWxsKHRoaXMpO1xufVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoUmVhZGFibGUucHJvdG90eXBlLCAnZGVzdHJveWVkJywge1xuICAvLyBtYWtpbmcgaXQgZXhwbGljaXQgdGhpcyBwcm9wZXJ0eSBpcyBub3QgZW51bWVyYWJsZVxuICAvLyBiZWNhdXNlIG90aGVyd2lzZSBzb21lIHByb3RvdHlwZSBtYW5pcHVsYXRpb24gaW5cbiAgLy8gdXNlcmxhbmQgd2lsbCBmYWlsXG4gIGVudW1lcmFibGU6IGZhbHNlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICBpZiAodGhpcy5fcmVhZGFibGVTdGF0ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX3JlYWRhYmxlU3RhdGUuZGVzdHJveWVkO1xuICB9LFxuICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgIC8vIHdlIGlnbm9yZSB0aGUgdmFsdWUgaWYgdGhlIHN0cmVhbVxuICAgIC8vIGhhcyBub3QgYmVlbiBpbml0aWFsaXplZCB5ZXRcbiAgICBpZiAoIXRoaXMuX3JlYWRhYmxlU3RhdGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9IC8vIGJhY2t3YXJkIGNvbXBhdGliaWxpdHksIHRoZSB1c2VyIGlzIGV4cGxpY2l0bHlcbiAgICAvLyBtYW5hZ2luZyBkZXN0cm95ZWRcblxuXG4gICAgdGhpcy5fcmVhZGFibGVTdGF0ZS5kZXN0cm95ZWQgPSB2YWx1ZTtcbiAgfVxufSk7XG5SZWFkYWJsZS5wcm90b3R5cGUuZGVzdHJveSA9IGRlc3Ryb3lJbXBsLmRlc3Ryb3k7XG5SZWFkYWJsZS5wcm90b3R5cGUuX3VuZGVzdHJveSA9IGRlc3Ryb3lJbXBsLnVuZGVzdHJveTtcblxuUmVhZGFibGUucHJvdG90eXBlLl9kZXN0cm95ID0gZnVuY3Rpb24gKGVyciwgY2IpIHtcbiAgY2IoZXJyKTtcbn07IC8vIE1hbnVhbGx5IHNob3ZlIHNvbWV0aGluZyBpbnRvIHRoZSByZWFkKCkgYnVmZmVyLlxuLy8gVGhpcyByZXR1cm5zIHRydWUgaWYgdGhlIGhpZ2hXYXRlck1hcmsgaGFzIG5vdCBiZWVuIGhpdCB5ZXQsXG4vLyBzaW1pbGFyIHRvIGhvdyBXcml0YWJsZS53cml0ZSgpIHJldHVybnMgdHJ1ZSBpZiB5b3Ugc2hvdWxkXG4vLyB3cml0ZSgpIHNvbWUgbW9yZS5cblxuXG5SZWFkYWJsZS5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uIChjaHVuaywgZW5jb2RpbmcpIHtcbiAgdmFyIHN0YXRlID0gdGhpcy5fcmVhZGFibGVTdGF0ZTtcbiAgdmFyIHNraXBDaHVua0NoZWNrO1xuXG4gIGlmICghc3RhdGUub2JqZWN0TW9kZSkge1xuICAgIGlmICh0eXBlb2YgY2h1bmsgPT09ICdzdHJpbmcnKSB7XG4gICAgICBlbmNvZGluZyA9IGVuY29kaW5nIHx8IHN0YXRlLmRlZmF1bHRFbmNvZGluZztcblxuICAgICAgaWYgKGVuY29kaW5nICE9PSBzdGF0ZS5lbmNvZGluZykge1xuICAgICAgICBjaHVuayA9IEJ1ZmZlci5mcm9tKGNodW5rLCBlbmNvZGluZyk7XG4gICAgICAgIGVuY29kaW5nID0gJyc7XG4gICAgICB9XG5cbiAgICAgIHNraXBDaHVua0NoZWNrID0gdHJ1ZTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgc2tpcENodW5rQ2hlY2sgPSB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIHJlYWRhYmxlQWRkQ2h1bmsodGhpcywgY2h1bmssIGVuY29kaW5nLCBmYWxzZSwgc2tpcENodW5rQ2hlY2spO1xufTsgLy8gVW5zaGlmdCBzaG91bGQgKmFsd2F5cyogYmUgc29tZXRoaW5nIGRpcmVjdGx5IG91dCBvZiByZWFkKClcblxuXG5SZWFkYWJsZS5wcm90b3R5cGUudW5zaGlmdCA9IGZ1bmN0aW9uIChjaHVuaykge1xuICByZXR1cm4gcmVhZGFibGVBZGRDaHVuayh0aGlzLCBjaHVuaywgbnVsbCwgdHJ1ZSwgZmFsc2UpO1xufTtcblxuZnVuY3Rpb24gcmVhZGFibGVBZGRDaHVuayhzdHJlYW0sIGNodW5rLCBlbmNvZGluZywgYWRkVG9Gcm9udCwgc2tpcENodW5rQ2hlY2spIHtcbiAgZGVidWcoJ3JlYWRhYmxlQWRkQ2h1bmsnLCBjaHVuayk7XG4gIHZhciBzdGF0ZSA9IHN0cmVhbS5fcmVhZGFibGVTdGF0ZTtcblxuICBpZiAoY2h1bmsgPT09IG51bGwpIHtcbiAgICBzdGF0ZS5yZWFkaW5nID0gZmFsc2U7XG4gICAgb25Fb2ZDaHVuayhzdHJlYW0sIHN0YXRlKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgZXI7XG4gICAgaWYgKCFza2lwQ2h1bmtDaGVjaykgZXIgPSBjaHVua0ludmFsaWQoc3RhdGUsIGNodW5rKTtcblxuICAgIGlmIChlcikge1xuICAgICAgZXJyb3JPckRlc3Ryb3koc3RyZWFtLCBlcik7XG4gICAgfSBlbHNlIGlmIChzdGF0ZS5vYmplY3RNb2RlIHx8IGNodW5rICYmIGNodW5rLmxlbmd0aCA+IDApIHtcbiAgICAgIGlmICh0eXBlb2YgY2h1bmsgIT09ICdzdHJpbmcnICYmICFzdGF0ZS5vYmplY3RNb2RlICYmIE9iamVjdC5nZXRQcm90b3R5cGVPZihjaHVuaykgIT09IEJ1ZmZlci5wcm90b3R5cGUpIHtcbiAgICAgICAgY2h1bmsgPSBfdWludDhBcnJheVRvQnVmZmVyKGNodW5rKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGFkZFRvRnJvbnQpIHtcbiAgICAgICAgaWYgKHN0YXRlLmVuZEVtaXR0ZWQpIGVycm9yT3JEZXN0cm95KHN0cmVhbSwgbmV3IEVSUl9TVFJFQU1fVU5TSElGVF9BRlRFUl9FTkRfRVZFTlQoKSk7ZWxzZSBhZGRDaHVuayhzdHJlYW0sIHN0YXRlLCBjaHVuaywgdHJ1ZSk7XG4gICAgICB9IGVsc2UgaWYgKHN0YXRlLmVuZGVkKSB7XG4gICAgICAgIGVycm9yT3JEZXN0cm95KHN0cmVhbSwgbmV3IEVSUl9TVFJFQU1fUFVTSF9BRlRFUl9FT0YoKSk7XG4gICAgICB9IGVsc2UgaWYgKHN0YXRlLmRlc3Ryb3llZCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdGF0ZS5yZWFkaW5nID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKHN0YXRlLmRlY29kZXIgJiYgIWVuY29kaW5nKSB7XG4gICAgICAgICAgY2h1bmsgPSBzdGF0ZS5kZWNvZGVyLndyaXRlKGNodW5rKTtcbiAgICAgICAgICBpZiAoc3RhdGUub2JqZWN0TW9kZSB8fCBjaHVuay5sZW5ndGggIT09IDApIGFkZENodW5rKHN0cmVhbSwgc3RhdGUsIGNodW5rLCBmYWxzZSk7ZWxzZSBtYXliZVJlYWRNb3JlKHN0cmVhbSwgc3RhdGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFkZENodW5rKHN0cmVhbSwgc3RhdGUsIGNodW5rLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCFhZGRUb0Zyb250KSB7XG4gICAgICBzdGF0ZS5yZWFkaW5nID0gZmFsc2U7XG4gICAgICBtYXliZVJlYWRNb3JlKHN0cmVhbSwgc3RhdGUpO1xuICAgIH1cbiAgfSAvLyBXZSBjYW4gcHVzaCBtb3JlIGRhdGEgaWYgd2UgYXJlIGJlbG93IHRoZSBoaWdoV2F0ZXJNYXJrLlxuICAvLyBBbHNvLCBpZiB3ZSBoYXZlIG5vIGRhdGEgeWV0LCB3ZSBjYW4gc3RhbmQgc29tZSBtb3JlIGJ5dGVzLlxuICAvLyBUaGlzIGlzIHRvIHdvcmsgYXJvdW5kIGNhc2VzIHdoZXJlIGh3bT0wLCBzdWNoIGFzIHRoZSByZXBsLlxuXG5cbiAgcmV0dXJuICFzdGF0ZS5lbmRlZCAmJiAoc3RhdGUubGVuZ3RoIDwgc3RhdGUuaGlnaFdhdGVyTWFyayB8fCBzdGF0ZS5sZW5ndGggPT09IDApO1xufVxuXG5mdW5jdGlvbiBhZGRDaHVuayhzdHJlYW0sIHN0YXRlLCBjaHVuaywgYWRkVG9Gcm9udCkge1xuICBpZiAoc3RhdGUuZmxvd2luZyAmJiBzdGF0ZS5sZW5ndGggPT09IDAgJiYgIXN0YXRlLnN5bmMpIHtcbiAgICBzdGF0ZS5hd2FpdERyYWluID0gMDtcbiAgICBzdHJlYW0uZW1pdCgnZGF0YScsIGNodW5rKTtcbiAgfSBlbHNlIHtcbiAgICAvLyB1cGRhdGUgdGhlIGJ1ZmZlciBpbmZvLlxuICAgIHN0YXRlLmxlbmd0aCArPSBzdGF0ZS5vYmplY3RNb2RlID8gMSA6IGNodW5rLmxlbmd0aDtcbiAgICBpZiAoYWRkVG9Gcm9udCkgc3RhdGUuYnVmZmVyLnVuc2hpZnQoY2h1bmspO2Vsc2Ugc3RhdGUuYnVmZmVyLnB1c2goY2h1bmspO1xuICAgIGlmIChzdGF0ZS5uZWVkUmVhZGFibGUpIGVtaXRSZWFkYWJsZShzdHJlYW0pO1xuICB9XG5cbiAgbWF5YmVSZWFkTW9yZShzdHJlYW0sIHN0YXRlKTtcbn1cblxuZnVuY3Rpb24gY2h1bmtJbnZhbGlkKHN0YXRlLCBjaHVuaykge1xuICB2YXIgZXI7XG5cbiAgaWYgKCFfaXNVaW50OEFycmF5KGNodW5rKSAmJiB0eXBlb2YgY2h1bmsgIT09ICdzdHJpbmcnICYmIGNodW5rICE9PSB1bmRlZmluZWQgJiYgIXN0YXRlLm9iamVjdE1vZGUpIHtcbiAgICBlciA9IG5ldyBFUlJfSU5WQUxJRF9BUkdfVFlQRSgnY2h1bmsnLCBbJ3N0cmluZycsICdCdWZmZXInLCAnVWludDhBcnJheSddLCBjaHVuayk7XG4gIH1cblxuICByZXR1cm4gZXI7XG59XG5cblJlYWRhYmxlLnByb3RvdHlwZS5pc1BhdXNlZCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMuX3JlYWRhYmxlU3RhdGUuZmxvd2luZyA9PT0gZmFsc2U7XG59OyAvLyBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eS5cblxuXG5SZWFkYWJsZS5wcm90b3R5cGUuc2V0RW5jb2RpbmcgPSBmdW5jdGlvbiAoZW5jKSB7XG4gIGlmICghU3RyaW5nRGVjb2RlcikgU3RyaW5nRGVjb2RlciA9IHJlcXVpcmUoJ3N0cmluZ19kZWNvZGVyLycpLlN0cmluZ0RlY29kZXI7XG4gIHZhciBkZWNvZGVyID0gbmV3IFN0cmluZ0RlY29kZXIoZW5jKTtcbiAgdGhpcy5fcmVhZGFibGVTdGF0ZS5kZWNvZGVyID0gZGVjb2RlcjsgLy8gSWYgc2V0RW5jb2RpbmcobnVsbCksIGRlY29kZXIuZW5jb2RpbmcgZXF1YWxzIHV0ZjhcblxuICB0aGlzLl9yZWFkYWJsZVN0YXRlLmVuY29kaW5nID0gdGhpcy5fcmVhZGFibGVTdGF0ZS5kZWNvZGVyLmVuY29kaW5nOyAvLyBJdGVyYXRlIG92ZXIgY3VycmVudCBidWZmZXIgdG8gY29udmVydCBhbHJlYWR5IHN0b3JlZCBCdWZmZXJzOlxuXG4gIHZhciBwID0gdGhpcy5fcmVhZGFibGVTdGF0ZS5idWZmZXIuaGVhZDtcbiAgdmFyIGNvbnRlbnQgPSAnJztcblxuICB3aGlsZSAocCAhPT0gbnVsbCkge1xuICAgIGNvbnRlbnQgKz0gZGVjb2Rlci53cml0ZShwLmRhdGEpO1xuICAgIHAgPSBwLm5leHQ7XG4gIH1cblxuICB0aGlzLl9yZWFkYWJsZVN0YXRlLmJ1ZmZlci5jbGVhcigpO1xuXG4gIGlmIChjb250ZW50ICE9PSAnJykgdGhpcy5fcmVhZGFibGVTdGF0ZS5idWZmZXIucHVzaChjb250ZW50KTtcbiAgdGhpcy5fcmVhZGFibGVTdGF0ZS5sZW5ndGggPSBjb250ZW50Lmxlbmd0aDtcbiAgcmV0dXJuIHRoaXM7XG59OyAvLyBEb24ndCByYWlzZSB0aGUgaHdtID4gMUdCXG5cblxudmFyIE1BWF9IV00gPSAweDQwMDAwMDAwO1xuXG5mdW5jdGlvbiBjb21wdXRlTmV3SGlnaFdhdGVyTWFyayhuKSB7XG4gIGlmIChuID49IE1BWF9IV00pIHtcbiAgICAvLyBUT0RPKHJvbmFnKTogVGhyb3cgRVJSX1ZBTFVFX09VVF9PRl9SQU5HRS5cbiAgICBuID0gTUFYX0hXTTtcbiAgfSBlbHNlIHtcbiAgICAvLyBHZXQgdGhlIG5leHQgaGlnaGVzdCBwb3dlciBvZiAyIHRvIHByZXZlbnQgaW5jcmVhc2luZyBod20gZXhjZXNzaXZlbHkgaW5cbiAgICAvLyB0aW55IGFtb3VudHNcbiAgICBuLS07XG4gICAgbiB8PSBuID4+PiAxO1xuICAgIG4gfD0gbiA+Pj4gMjtcbiAgICBuIHw9IG4gPj4+IDQ7XG4gICAgbiB8PSBuID4+PiA4O1xuICAgIG4gfD0gbiA+Pj4gMTY7XG4gICAgbisrO1xuICB9XG5cbiAgcmV0dXJuIG47XG59IC8vIFRoaXMgZnVuY3Rpb24gaXMgZGVzaWduZWQgdG8gYmUgaW5saW5hYmxlLCBzbyBwbGVhc2UgdGFrZSBjYXJlIHdoZW4gbWFraW5nXG4vLyBjaGFuZ2VzIHRvIHRoZSBmdW5jdGlvbiBib2R5LlxuXG5cbmZ1bmN0aW9uIGhvd011Y2hUb1JlYWQobiwgc3RhdGUpIHtcbiAgaWYgKG4gPD0gMCB8fCBzdGF0ZS5sZW5ndGggPT09IDAgJiYgc3RhdGUuZW5kZWQpIHJldHVybiAwO1xuICBpZiAoc3RhdGUub2JqZWN0TW9kZSkgcmV0dXJuIDE7XG5cbiAgaWYgKG4gIT09IG4pIHtcbiAgICAvLyBPbmx5IGZsb3cgb25lIGJ1ZmZlciBhdCBhIHRpbWVcbiAgICBpZiAoc3RhdGUuZmxvd2luZyAmJiBzdGF0ZS5sZW5ndGgpIHJldHVybiBzdGF0ZS5idWZmZXIuaGVhZC5kYXRhLmxlbmd0aDtlbHNlIHJldHVybiBzdGF0ZS5sZW5ndGg7XG4gIH0gLy8gSWYgd2UncmUgYXNraW5nIGZvciBtb3JlIHRoYW4gdGhlIGN1cnJlbnQgaHdtLCB0aGVuIHJhaXNlIHRoZSBod20uXG5cblxuICBpZiAobiA+IHN0YXRlLmhpZ2hXYXRlck1hcmspIHN0YXRlLmhpZ2hXYXRlck1hcmsgPSBjb21wdXRlTmV3SGlnaFdhdGVyTWFyayhuKTtcbiAgaWYgKG4gPD0gc3RhdGUubGVuZ3RoKSByZXR1cm4gbjsgLy8gRG9uJ3QgaGF2ZSBlbm91Z2hcblxuICBpZiAoIXN0YXRlLmVuZGVkKSB7XG4gICAgc3RhdGUubmVlZFJlYWRhYmxlID0gdHJ1ZTtcbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIHJldHVybiBzdGF0ZS5sZW5ndGg7XG59IC8vIHlvdSBjYW4gb3ZlcnJpZGUgZWl0aGVyIHRoaXMgbWV0aG9kLCBvciB0aGUgYXN5bmMgX3JlYWQobikgYmVsb3cuXG5cblxuUmVhZGFibGUucHJvdG90eXBlLnJlYWQgPSBmdW5jdGlvbiAobikge1xuICBkZWJ1ZygncmVhZCcsIG4pO1xuICBuID0gcGFyc2VJbnQobiwgMTApO1xuICB2YXIgc3RhdGUgPSB0aGlzLl9yZWFkYWJsZVN0YXRlO1xuICB2YXIgbk9yaWcgPSBuO1xuICBpZiAobiAhPT0gMCkgc3RhdGUuZW1pdHRlZFJlYWRhYmxlID0gZmFsc2U7IC8vIGlmIHdlJ3JlIGRvaW5nIHJlYWQoMCkgdG8gdHJpZ2dlciBhIHJlYWRhYmxlIGV2ZW50LCBidXQgd2VcbiAgLy8gYWxyZWFkeSBoYXZlIGEgYnVuY2ggb2YgZGF0YSBpbiB0aGUgYnVmZmVyLCB0aGVuIGp1c3QgdHJpZ2dlclxuICAvLyB0aGUgJ3JlYWRhYmxlJyBldmVudCBhbmQgbW92ZSBvbi5cblxuICBpZiAobiA9PT0gMCAmJiBzdGF0ZS5uZWVkUmVhZGFibGUgJiYgKChzdGF0ZS5oaWdoV2F0ZXJNYXJrICE9PSAwID8gc3RhdGUubGVuZ3RoID49IHN0YXRlLmhpZ2hXYXRlck1hcmsgOiBzdGF0ZS5sZW5ndGggPiAwKSB8fCBzdGF0ZS5lbmRlZCkpIHtcbiAgICBkZWJ1ZygncmVhZDogZW1pdFJlYWRhYmxlJywgc3RhdGUubGVuZ3RoLCBzdGF0ZS5lbmRlZCk7XG4gICAgaWYgKHN0YXRlLmxlbmd0aCA9PT0gMCAmJiBzdGF0ZS5lbmRlZCkgZW5kUmVhZGFibGUodGhpcyk7ZWxzZSBlbWl0UmVhZGFibGUodGhpcyk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBuID0gaG93TXVjaFRvUmVhZChuLCBzdGF0ZSk7IC8vIGlmIHdlJ3ZlIGVuZGVkLCBhbmQgd2UncmUgbm93IGNsZWFyLCB0aGVuIGZpbmlzaCBpdCB1cC5cblxuICBpZiAobiA9PT0gMCAmJiBzdGF0ZS5lbmRlZCkge1xuICAgIGlmIChzdGF0ZS5sZW5ndGggPT09IDApIGVuZFJlYWRhYmxlKHRoaXMpO1xuICAgIHJldHVybiBudWxsO1xuICB9IC8vIEFsbCB0aGUgYWN0dWFsIGNodW5rIGdlbmVyYXRpb24gbG9naWMgbmVlZHMgdG8gYmVcbiAgLy8gKmJlbG93KiB0aGUgY2FsbCB0byBfcmVhZC4gIFRoZSByZWFzb24gaXMgdGhhdCBpbiBjZXJ0YWluXG4gIC8vIHN5bnRoZXRpYyBzdHJlYW0gY2FzZXMsIHN1Y2ggYXMgcGFzc3Rocm91Z2ggc3RyZWFtcywgX3JlYWRcbiAgLy8gbWF5IGJlIGEgY29tcGxldGVseSBzeW5jaHJvbm91cyBvcGVyYXRpb24gd2hpY2ggbWF5IGNoYW5nZVxuICAvLyB0aGUgc3RhdGUgb2YgdGhlIHJlYWQgYnVmZmVyLCBwcm92aWRpbmcgZW5vdWdoIGRhdGEgd2hlblxuICAvLyBiZWZvcmUgdGhlcmUgd2FzICpub3QqIGVub3VnaC5cbiAgLy9cbiAgLy8gU28sIHRoZSBzdGVwcyBhcmU6XG4gIC8vIDEuIEZpZ3VyZSBvdXQgd2hhdCB0aGUgc3RhdGUgb2YgdGhpbmdzIHdpbGwgYmUgYWZ0ZXIgd2UgZG9cbiAgLy8gYSByZWFkIGZyb20gdGhlIGJ1ZmZlci5cbiAgLy9cbiAgLy8gMi4gSWYgdGhhdCByZXN1bHRpbmcgc3RhdGUgd2lsbCB0cmlnZ2VyIGEgX3JlYWQsIHRoZW4gY2FsbCBfcmVhZC5cbiAgLy8gTm90ZSB0aGF0IHRoaXMgbWF5IGJlIGFzeW5jaHJvbm91cywgb3Igc3luY2hyb25vdXMuICBZZXMsIGl0IGlzXG4gIC8vIGRlZXBseSB1Z2x5IHRvIHdyaXRlIEFQSXMgdGhpcyB3YXksIGJ1dCB0aGF0IHN0aWxsIGRvZXNuJ3QgbWVhblxuICAvLyB0aGF0IHRoZSBSZWFkYWJsZSBjbGFzcyBzaG91bGQgYmVoYXZlIGltcHJvcGVybHksIGFzIHN0cmVhbXMgYXJlXG4gIC8vIGRlc2lnbmVkIHRvIGJlIHN5bmMvYXN5bmMgYWdub3N0aWMuXG4gIC8vIFRha2Ugbm90ZSBpZiB0aGUgX3JlYWQgY2FsbCBpcyBzeW5jIG9yIGFzeW5jIChpZSwgaWYgdGhlIHJlYWQgY2FsbFxuICAvLyBoYXMgcmV0dXJuZWQgeWV0KSwgc28gdGhhdCB3ZSBrbm93IHdoZXRoZXIgb3Igbm90IGl0J3Mgc2FmZSB0byBlbWl0XG4gIC8vICdyZWFkYWJsZScgZXRjLlxuICAvL1xuICAvLyAzLiBBY3R1YWxseSBwdWxsIHRoZSByZXF1ZXN0ZWQgY2h1bmtzIG91dCBvZiB0aGUgYnVmZmVyIGFuZCByZXR1cm4uXG4gIC8vIGlmIHdlIG5lZWQgYSByZWFkYWJsZSBldmVudCwgdGhlbiB3ZSBuZWVkIHRvIGRvIHNvbWUgcmVhZGluZy5cblxuXG4gIHZhciBkb1JlYWQgPSBzdGF0ZS5uZWVkUmVhZGFibGU7XG4gIGRlYnVnKCduZWVkIHJlYWRhYmxlJywgZG9SZWFkKTsgLy8gaWYgd2UgY3VycmVudGx5IGhhdmUgbGVzcyB0aGFuIHRoZSBoaWdoV2F0ZXJNYXJrLCB0aGVuIGFsc28gcmVhZCBzb21lXG5cbiAgaWYgKHN0YXRlLmxlbmd0aCA9PT0gMCB8fCBzdGF0ZS5sZW5ndGggLSBuIDwgc3RhdGUuaGlnaFdhdGVyTWFyaykge1xuICAgIGRvUmVhZCA9IHRydWU7XG4gICAgZGVidWcoJ2xlbmd0aCBsZXNzIHRoYW4gd2F0ZXJtYXJrJywgZG9SZWFkKTtcbiAgfSAvLyBob3dldmVyLCBpZiB3ZSd2ZSBlbmRlZCwgdGhlbiB0aGVyZSdzIG5vIHBvaW50LCBhbmQgaWYgd2UncmUgYWxyZWFkeVxuICAvLyByZWFkaW5nLCB0aGVuIGl0J3MgdW5uZWNlc3NhcnkuXG5cblxuICBpZiAoc3RhdGUuZW5kZWQgfHwgc3RhdGUucmVhZGluZykge1xuICAgIGRvUmVhZCA9IGZhbHNlO1xuICAgIGRlYnVnKCdyZWFkaW5nIG9yIGVuZGVkJywgZG9SZWFkKTtcbiAgfSBlbHNlIGlmIChkb1JlYWQpIHtcbiAgICBkZWJ1ZygnZG8gcmVhZCcpO1xuICAgIHN0YXRlLnJlYWRpbmcgPSB0cnVlO1xuICAgIHN0YXRlLnN5bmMgPSB0cnVlOyAvLyBpZiB0aGUgbGVuZ3RoIGlzIGN1cnJlbnRseSB6ZXJvLCB0aGVuIHdlICpuZWVkKiBhIHJlYWRhYmxlIGV2ZW50LlxuXG4gICAgaWYgKHN0YXRlLmxlbmd0aCA9PT0gMCkgc3RhdGUubmVlZFJlYWRhYmxlID0gdHJ1ZTsgLy8gY2FsbCBpbnRlcm5hbCByZWFkIG1ldGhvZFxuXG4gICAgdGhpcy5fcmVhZChzdGF0ZS5oaWdoV2F0ZXJNYXJrKTtcblxuICAgIHN0YXRlLnN5bmMgPSBmYWxzZTsgLy8gSWYgX3JlYWQgcHVzaGVkIGRhdGEgc3luY2hyb25vdXNseSwgdGhlbiBgcmVhZGluZ2Agd2lsbCBiZSBmYWxzZSxcbiAgICAvLyBhbmQgd2UgbmVlZCB0byByZS1ldmFsdWF0ZSBob3cgbXVjaCBkYXRhIHdlIGNhbiByZXR1cm4gdG8gdGhlIHVzZXIuXG5cbiAgICBpZiAoIXN0YXRlLnJlYWRpbmcpIG4gPSBob3dNdWNoVG9SZWFkKG5PcmlnLCBzdGF0ZSk7XG4gIH1cblxuICB2YXIgcmV0O1xuICBpZiAobiA+IDApIHJldCA9IGZyb21MaXN0KG4sIHN0YXRlKTtlbHNlIHJldCA9IG51bGw7XG5cbiAgaWYgKHJldCA9PT0gbnVsbCkge1xuICAgIHN0YXRlLm5lZWRSZWFkYWJsZSA9IHN0YXRlLmxlbmd0aCA8PSBzdGF0ZS5oaWdoV2F0ZXJNYXJrO1xuICAgIG4gPSAwO1xuICB9IGVsc2Uge1xuICAgIHN0YXRlLmxlbmd0aCAtPSBuO1xuICAgIHN0YXRlLmF3YWl0RHJhaW4gPSAwO1xuICB9XG5cbiAgaWYgKHN0YXRlLmxlbmd0aCA9PT0gMCkge1xuICAgIC8vIElmIHdlIGhhdmUgbm90aGluZyBpbiB0aGUgYnVmZmVyLCB0aGVuIHdlIHdhbnQgdG8ga25vd1xuICAgIC8vIGFzIHNvb24gYXMgd2UgKmRvKiBnZXQgc29tZXRoaW5nIGludG8gdGhlIGJ1ZmZlci5cbiAgICBpZiAoIXN0YXRlLmVuZGVkKSBzdGF0ZS5uZWVkUmVhZGFibGUgPSB0cnVlOyAvLyBJZiB3ZSB0cmllZCB0byByZWFkKCkgcGFzdCB0aGUgRU9GLCB0aGVuIGVtaXQgZW5kIG9uIHRoZSBuZXh0IHRpY2suXG5cbiAgICBpZiAobk9yaWcgIT09IG4gJiYgc3RhdGUuZW5kZWQpIGVuZFJlYWRhYmxlKHRoaXMpO1xuICB9XG5cbiAgaWYgKHJldCAhPT0gbnVsbCkgdGhpcy5lbWl0KCdkYXRhJywgcmV0KTtcbiAgcmV0dXJuIHJldDtcbn07XG5cbmZ1bmN0aW9uIG9uRW9mQ2h1bmsoc3RyZWFtLCBzdGF0ZSkge1xuICBkZWJ1Zygnb25Fb2ZDaHVuaycpO1xuICBpZiAoc3RhdGUuZW5kZWQpIHJldHVybjtcblxuICBpZiAoc3RhdGUuZGVjb2Rlcikge1xuICAgIHZhciBjaHVuayA9IHN0YXRlLmRlY29kZXIuZW5kKCk7XG5cbiAgICBpZiAoY2h1bmsgJiYgY2h1bmsubGVuZ3RoKSB7XG4gICAgICBzdGF0ZS5idWZmZXIucHVzaChjaHVuayk7XG4gICAgICBzdGF0ZS5sZW5ndGggKz0gc3RhdGUub2JqZWN0TW9kZSA/IDEgOiBjaHVuay5sZW5ndGg7XG4gICAgfVxuICB9XG5cbiAgc3RhdGUuZW5kZWQgPSB0cnVlO1xuXG4gIGlmIChzdGF0ZS5zeW5jKSB7XG4gICAgLy8gaWYgd2UgYXJlIHN5bmMsIHdhaXQgdW50aWwgbmV4dCB0aWNrIHRvIGVtaXQgdGhlIGRhdGEuXG4gICAgLy8gT3RoZXJ3aXNlIHdlIHJpc2sgZW1pdHRpbmcgZGF0YSBpbiB0aGUgZmxvdygpXG4gICAgLy8gdGhlIHJlYWRhYmxlIGNvZGUgdHJpZ2dlcnMgZHVyaW5nIGEgcmVhZCgpIGNhbGxcbiAgICBlbWl0UmVhZGFibGUoc3RyZWFtKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBlbWl0ICdyZWFkYWJsZScgbm93IHRvIG1ha2Ugc3VyZSBpdCBnZXRzIHBpY2tlZCB1cC5cbiAgICBzdGF0ZS5uZWVkUmVhZGFibGUgPSBmYWxzZTtcblxuICAgIGlmICghc3RhdGUuZW1pdHRlZFJlYWRhYmxlKSB7XG4gICAgICBzdGF0ZS5lbWl0dGVkUmVhZGFibGUgPSB0cnVlO1xuICAgICAgZW1pdFJlYWRhYmxlXyhzdHJlYW0pO1xuICAgIH1cbiAgfVxufSAvLyBEb24ndCBlbWl0IHJlYWRhYmxlIHJpZ2h0IGF3YXkgaW4gc3luYyBtb2RlLCBiZWNhdXNlIHRoaXMgY2FuIHRyaWdnZXJcbi8vIGFub3RoZXIgcmVhZCgpIGNhbGwgPT4gc3RhY2sgb3ZlcmZsb3cuICBUaGlzIHdheSwgaXQgbWlnaHQgdHJpZ2dlclxuLy8gYSBuZXh0VGljayByZWN1cnNpb24gd2FybmluZywgYnV0IHRoYXQncyBub3Qgc28gYmFkLlxuXG5cbmZ1bmN0aW9uIGVtaXRSZWFkYWJsZShzdHJlYW0pIHtcbiAgdmFyIHN0YXRlID0gc3RyZWFtLl9yZWFkYWJsZVN0YXRlO1xuICBkZWJ1ZygnZW1pdFJlYWRhYmxlJywgc3RhdGUubmVlZFJlYWRhYmxlLCBzdGF0ZS5lbWl0dGVkUmVhZGFibGUpO1xuICBzdGF0ZS5uZWVkUmVhZGFibGUgPSBmYWxzZTtcblxuICBpZiAoIXN0YXRlLmVtaXR0ZWRSZWFkYWJsZSkge1xuICAgIGRlYnVnKCdlbWl0UmVhZGFibGUnLCBzdGF0ZS5mbG93aW5nKTtcbiAgICBzdGF0ZS5lbWl0dGVkUmVhZGFibGUgPSB0cnVlO1xuICAgIHByb2Nlc3MubmV4dFRpY2soZW1pdFJlYWRhYmxlXywgc3RyZWFtKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBlbWl0UmVhZGFibGVfKHN0cmVhbSkge1xuICB2YXIgc3RhdGUgPSBzdHJlYW0uX3JlYWRhYmxlU3RhdGU7XG4gIGRlYnVnKCdlbWl0UmVhZGFibGVfJywgc3RhdGUuZGVzdHJveWVkLCBzdGF0ZS5sZW5ndGgsIHN0YXRlLmVuZGVkKTtcblxuICBpZiAoIXN0YXRlLmRlc3Ryb3llZCAmJiAoc3RhdGUubGVuZ3RoIHx8IHN0YXRlLmVuZGVkKSkge1xuICAgIHN0cmVhbS5lbWl0KCdyZWFkYWJsZScpO1xuICAgIHN0YXRlLmVtaXR0ZWRSZWFkYWJsZSA9IGZhbHNlO1xuICB9IC8vIFRoZSBzdHJlYW0gbmVlZHMgYW5vdGhlciByZWFkYWJsZSBldmVudCBpZlxuICAvLyAxLiBJdCBpcyBub3QgZmxvd2luZywgYXMgdGhlIGZsb3cgbWVjaGFuaXNtIHdpbGwgdGFrZVxuICAvLyAgICBjYXJlIG9mIGl0LlxuICAvLyAyLiBJdCBpcyBub3QgZW5kZWQuXG4gIC8vIDMuIEl0IGlzIGJlbG93IHRoZSBoaWdoV2F0ZXJNYXJrLCBzbyB3ZSBjYW4gc2NoZWR1bGVcbiAgLy8gICAgYW5vdGhlciByZWFkYWJsZSBsYXRlci5cblxuXG4gIHN0YXRlLm5lZWRSZWFkYWJsZSA9ICFzdGF0ZS5mbG93aW5nICYmICFzdGF0ZS5lbmRlZCAmJiBzdGF0ZS5sZW5ndGggPD0gc3RhdGUuaGlnaFdhdGVyTWFyaztcbiAgZmxvdyhzdHJlYW0pO1xufSAvLyBhdCB0aGlzIHBvaW50LCB0aGUgdXNlciBoYXMgcHJlc3VtYWJseSBzZWVuIHRoZSAncmVhZGFibGUnIGV2ZW50LFxuLy8gYW5kIGNhbGxlZCByZWFkKCkgdG8gY29uc3VtZSBzb21lIGRhdGEuICB0aGF0IG1heSBoYXZlIHRyaWdnZXJlZFxuLy8gaW4gdHVybiBhbm90aGVyIF9yZWFkKG4pIGNhbGwsIGluIHdoaWNoIGNhc2UgcmVhZGluZyA9IHRydWUgaWZcbi8vIGl0J3MgaW4gcHJvZ3Jlc3MuXG4vLyBIb3dldmVyLCBpZiB3ZSdyZSBub3QgZW5kZWQsIG9yIHJlYWRpbmcsIGFuZCB0aGUgbGVuZ3RoIDwgaHdtLFxuLy8gdGhlbiBnbyBhaGVhZCBhbmQgdHJ5IHRvIHJlYWQgc29tZSBtb3JlIHByZWVtcHRpdmVseS5cblxuXG5mdW5jdGlvbiBtYXliZVJlYWRNb3JlKHN0cmVhbSwgc3RhdGUpIHtcbiAgaWYgKCFzdGF0ZS5yZWFkaW5nTW9yZSkge1xuICAgIHN0YXRlLnJlYWRpbmdNb3JlID0gdHJ1ZTtcbiAgICBwcm9jZXNzLm5leHRUaWNrKG1heWJlUmVhZE1vcmVfLCBzdHJlYW0sIHN0YXRlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBtYXliZVJlYWRNb3JlXyhzdHJlYW0sIHN0YXRlKSB7XG4gIC8vIEF0dGVtcHQgdG8gcmVhZCBtb3JlIGRhdGEgaWYgd2Ugc2hvdWxkLlxuICAvL1xuICAvLyBUaGUgY29uZGl0aW9ucyBmb3IgcmVhZGluZyBtb3JlIGRhdGEgYXJlIChvbmUgb2YpOlxuICAvLyAtIE5vdCBlbm91Z2ggZGF0YSBidWZmZXJlZCAoc3RhdGUubGVuZ3RoIDwgc3RhdGUuaGlnaFdhdGVyTWFyaykuIFRoZSBsb29wXG4gIC8vICAgaXMgcmVzcG9uc2libGUgZm9yIGZpbGxpbmcgdGhlIGJ1ZmZlciB3aXRoIGVub3VnaCBkYXRhIGlmIHN1Y2ggZGF0YVxuICAvLyAgIGlzIGF2YWlsYWJsZS4gSWYgaGlnaFdhdGVyTWFyayBpcyAwIGFuZCB3ZSBhcmUgbm90IGluIHRoZSBmbG93aW5nIG1vZGVcbiAgLy8gICB3ZSBzaG91bGQgX25vdF8gYXR0ZW1wdCB0byBidWZmZXIgYW55IGV4dHJhIGRhdGEuIFdlJ2xsIGdldCBtb3JlIGRhdGFcbiAgLy8gICB3aGVuIHRoZSBzdHJlYW0gY29uc3VtZXIgY2FsbHMgcmVhZCgpIGluc3RlYWQuXG4gIC8vIC0gTm8gZGF0YSBpbiB0aGUgYnVmZmVyLCBhbmQgdGhlIHN0cmVhbSBpcyBpbiBmbG93aW5nIG1vZGUuIEluIHRoaXMgbW9kZVxuICAvLyAgIHRoZSBsb29wIGJlbG93IGlzIHJlc3BvbnNpYmxlIGZvciBlbnN1cmluZyByZWFkKCkgaXMgY2FsbGVkLiBGYWlsaW5nIHRvXG4gIC8vICAgY2FsbCByZWFkIGhlcmUgd291bGQgYWJvcnQgdGhlIGZsb3cgYW5kIHRoZXJlJ3Mgbm8gb3RoZXIgbWVjaGFuaXNtIGZvclxuICAvLyAgIGNvbnRpbnVpbmcgdGhlIGZsb3cgaWYgdGhlIHN0cmVhbSBjb25zdW1lciBoYXMganVzdCBzdWJzY3JpYmVkIHRvIHRoZVxuICAvLyAgICdkYXRhJyBldmVudC5cbiAgLy9cbiAgLy8gSW4gYWRkaXRpb24gdG8gdGhlIGFib3ZlIGNvbmRpdGlvbnMgdG8ga2VlcCByZWFkaW5nIGRhdGEsIHRoZSBmb2xsb3dpbmdcbiAgLy8gY29uZGl0aW9ucyBwcmV2ZW50IHRoZSBkYXRhIGZyb20gYmVpbmcgcmVhZDpcbiAgLy8gLSBUaGUgc3RyZWFtIGhhcyBlbmRlZCAoc3RhdGUuZW5kZWQpLlxuICAvLyAtIFRoZXJlIGlzIGFscmVhZHkgYSBwZW5kaW5nICdyZWFkJyBvcGVyYXRpb24gKHN0YXRlLnJlYWRpbmcpLiBUaGlzIGlzIGFcbiAgLy8gICBjYXNlIHdoZXJlIHRoZSB0aGUgc3RyZWFtIGhhcyBjYWxsZWQgdGhlIGltcGxlbWVudGF0aW9uIGRlZmluZWQgX3JlYWQoKVxuICAvLyAgIG1ldGhvZCwgYnV0IHRoZXkgYXJlIHByb2Nlc3NpbmcgdGhlIGNhbGwgYXN5bmNocm9ub3VzbHkgYW5kIGhhdmUgX25vdF9cbiAgLy8gICBjYWxsZWQgcHVzaCgpIHdpdGggbmV3IGRhdGEuIEluIHRoaXMgY2FzZSB3ZSBza2lwIHBlcmZvcm1pbmcgbW9yZVxuICAvLyAgIHJlYWQoKXMuIFRoZSBleGVjdXRpb24gZW5kcyBpbiB0aGlzIG1ldGhvZCBhZ2FpbiBhZnRlciB0aGUgX3JlYWQoKSBlbmRzXG4gIC8vICAgdXAgY2FsbGluZyBwdXNoKCkgd2l0aCBtb3JlIGRhdGEuXG4gIHdoaWxlICghc3RhdGUucmVhZGluZyAmJiAhc3RhdGUuZW5kZWQgJiYgKHN0YXRlLmxlbmd0aCA8IHN0YXRlLmhpZ2hXYXRlck1hcmsgfHwgc3RhdGUuZmxvd2luZyAmJiBzdGF0ZS5sZW5ndGggPT09IDApKSB7XG4gICAgdmFyIGxlbiA9IHN0YXRlLmxlbmd0aDtcbiAgICBkZWJ1ZygnbWF5YmVSZWFkTW9yZSByZWFkIDAnKTtcbiAgICBzdHJlYW0ucmVhZCgwKTtcbiAgICBpZiAobGVuID09PSBzdGF0ZS5sZW5ndGgpIC8vIGRpZG4ndCBnZXQgYW55IGRhdGEsIHN0b3Agc3Bpbm5pbmcuXG4gICAgICBicmVhaztcbiAgfVxuXG4gIHN0YXRlLnJlYWRpbmdNb3JlID0gZmFsc2U7XG59IC8vIGFic3RyYWN0IG1ldGhvZC4gIHRvIGJlIG92ZXJyaWRkZW4gaW4gc3BlY2lmaWMgaW1wbGVtZW50YXRpb24gY2xhc3Nlcy5cbi8vIGNhbGwgY2IoZXIsIGRhdGEpIHdoZXJlIGRhdGEgaXMgPD0gbiBpbiBsZW5ndGguXG4vLyBmb3IgdmlydHVhbCAobm9uLXN0cmluZywgbm9uLWJ1ZmZlcikgc3RyZWFtcywgXCJsZW5ndGhcIiBpcyBzb21ld2hhdFxuLy8gYXJiaXRyYXJ5LCBhbmQgcGVyaGFwcyBub3QgdmVyeSBtZWFuaW5nZnVsLlxuXG5cblJlYWRhYmxlLnByb3RvdHlwZS5fcmVhZCA9IGZ1bmN0aW9uIChuKSB7XG4gIGVycm9yT3JEZXN0cm95KHRoaXMsIG5ldyBFUlJfTUVUSE9EX05PVF9JTVBMRU1FTlRFRCgnX3JlYWQoKScpKTtcbn07XG5cblJlYWRhYmxlLnByb3RvdHlwZS5waXBlID0gZnVuY3Rpb24gKGRlc3QsIHBpcGVPcHRzKSB7XG4gIHZhciBzcmMgPSB0aGlzO1xuICB2YXIgc3RhdGUgPSB0aGlzLl9yZWFkYWJsZVN0YXRlO1xuXG4gIHN3aXRjaCAoc3RhdGUucGlwZXNDb3VudCkge1xuICAgIGNhc2UgMDpcbiAgICAgIHN0YXRlLnBpcGVzID0gZGVzdDtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAxOlxuICAgICAgc3RhdGUucGlwZXMgPSBbc3RhdGUucGlwZXMsIGRlc3RdO1xuICAgICAgYnJlYWs7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgc3RhdGUucGlwZXMucHVzaChkZXN0KTtcbiAgICAgIGJyZWFrO1xuICB9XG5cbiAgc3RhdGUucGlwZXNDb3VudCArPSAxO1xuICBkZWJ1ZygncGlwZSBjb3VudD0lZCBvcHRzPSVqJywgc3RhdGUucGlwZXNDb3VudCwgcGlwZU9wdHMpO1xuICB2YXIgZG9FbmQgPSAoIXBpcGVPcHRzIHx8IHBpcGVPcHRzLmVuZCAhPT0gZmFsc2UpICYmIGRlc3QgIT09IHByb2Nlc3Muc3Rkb3V0ICYmIGRlc3QgIT09IHByb2Nlc3Muc3RkZXJyO1xuICB2YXIgZW5kRm4gPSBkb0VuZCA/IG9uZW5kIDogdW5waXBlO1xuICBpZiAoc3RhdGUuZW5kRW1pdHRlZCkgcHJvY2Vzcy5uZXh0VGljayhlbmRGbik7ZWxzZSBzcmMub25jZSgnZW5kJywgZW5kRm4pO1xuICBkZXN0Lm9uKCd1bnBpcGUnLCBvbnVucGlwZSk7XG5cbiAgZnVuY3Rpb24gb251bnBpcGUocmVhZGFibGUsIHVucGlwZUluZm8pIHtcbiAgICBkZWJ1Zygnb251bnBpcGUnKTtcblxuICAgIGlmIChyZWFkYWJsZSA9PT0gc3JjKSB7XG4gICAgICBpZiAodW5waXBlSW5mbyAmJiB1bnBpcGVJbmZvLmhhc1VucGlwZWQgPT09IGZhbHNlKSB7XG4gICAgICAgIHVucGlwZUluZm8uaGFzVW5waXBlZCA9IHRydWU7XG4gICAgICAgIGNsZWFudXAoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBvbmVuZCgpIHtcbiAgICBkZWJ1Zygnb25lbmQnKTtcbiAgICBkZXN0LmVuZCgpO1xuICB9IC8vIHdoZW4gdGhlIGRlc3QgZHJhaW5zLCBpdCByZWR1Y2VzIHRoZSBhd2FpdERyYWluIGNvdW50ZXJcbiAgLy8gb24gdGhlIHNvdXJjZS4gIFRoaXMgd291bGQgYmUgbW9yZSBlbGVnYW50IHdpdGggYSAub25jZSgpXG4gIC8vIGhhbmRsZXIgaW4gZmxvdygpLCBidXQgYWRkaW5nIGFuZCByZW1vdmluZyByZXBlYXRlZGx5IGlzXG4gIC8vIHRvbyBzbG93LlxuXG5cbiAgdmFyIG9uZHJhaW4gPSBwaXBlT25EcmFpbihzcmMpO1xuICBkZXN0Lm9uKCdkcmFpbicsIG9uZHJhaW4pO1xuICB2YXIgY2xlYW5lZFVwID0gZmFsc2U7XG5cbiAgZnVuY3Rpb24gY2xlYW51cCgpIHtcbiAgICBkZWJ1ZygnY2xlYW51cCcpOyAvLyBjbGVhbnVwIGV2ZW50IGhhbmRsZXJzIG9uY2UgdGhlIHBpcGUgaXMgYnJva2VuXG5cbiAgICBkZXN0LnJlbW92ZUxpc3RlbmVyKCdjbG9zZScsIG9uY2xvc2UpO1xuICAgIGRlc3QucmVtb3ZlTGlzdGVuZXIoJ2ZpbmlzaCcsIG9uZmluaXNoKTtcbiAgICBkZXN0LnJlbW92ZUxpc3RlbmVyKCdkcmFpbicsIG9uZHJhaW4pO1xuICAgIGRlc3QucmVtb3ZlTGlzdGVuZXIoJ2Vycm9yJywgb25lcnJvcik7XG4gICAgZGVzdC5yZW1vdmVMaXN0ZW5lcigndW5waXBlJywgb251bnBpcGUpO1xuICAgIHNyYy5yZW1vdmVMaXN0ZW5lcignZW5kJywgb25lbmQpO1xuICAgIHNyYy5yZW1vdmVMaXN0ZW5lcignZW5kJywgdW5waXBlKTtcbiAgICBzcmMucmVtb3ZlTGlzdGVuZXIoJ2RhdGEnLCBvbmRhdGEpO1xuICAgIGNsZWFuZWRVcCA9IHRydWU7IC8vIGlmIHRoZSByZWFkZXIgaXMgd2FpdGluZyBmb3IgYSBkcmFpbiBldmVudCBmcm9tIHRoaXNcbiAgICAvLyBzcGVjaWZpYyB3cml0ZXIsIHRoZW4gaXQgd291bGQgY2F1c2UgaXQgdG8gbmV2ZXIgc3RhcnRcbiAgICAvLyBmbG93aW5nIGFnYWluLlxuICAgIC8vIFNvLCBpZiB0aGlzIGlzIGF3YWl0aW5nIGEgZHJhaW4sIHRoZW4gd2UganVzdCBjYWxsIGl0IG5vdy5cbiAgICAvLyBJZiB3ZSBkb24ndCBrbm93LCB0aGVuIGFzc3VtZSB0aGF0IHdlIGFyZSB3YWl0aW5nIGZvciBvbmUuXG5cbiAgICBpZiAoc3RhdGUuYXdhaXREcmFpbiAmJiAoIWRlc3QuX3dyaXRhYmxlU3RhdGUgfHwgZGVzdC5fd3JpdGFibGVTdGF0ZS5uZWVkRHJhaW4pKSBvbmRyYWluKCk7XG4gIH1cblxuICBzcmMub24oJ2RhdGEnLCBvbmRhdGEpO1xuXG4gIGZ1bmN0aW9uIG9uZGF0YShjaHVuaykge1xuICAgIGRlYnVnKCdvbmRhdGEnKTtcbiAgICB2YXIgcmV0ID0gZGVzdC53cml0ZShjaHVuayk7XG4gICAgZGVidWcoJ2Rlc3Qud3JpdGUnLCByZXQpO1xuXG4gICAgaWYgKHJldCA9PT0gZmFsc2UpIHtcbiAgICAgIC8vIElmIHRoZSB1c2VyIHVucGlwZWQgZHVyaW5nIGBkZXN0LndyaXRlKClgLCBpdCBpcyBwb3NzaWJsZVxuICAgICAgLy8gdG8gZ2V0IHN0dWNrIGluIGEgcGVybWFuZW50bHkgcGF1c2VkIHN0YXRlIGlmIHRoYXQgd3JpdGVcbiAgICAgIC8vIGFsc28gcmV0dXJuZWQgZmFsc2UuXG4gICAgICAvLyA9PiBDaGVjayB3aGV0aGVyIGBkZXN0YCBpcyBzdGlsbCBhIHBpcGluZyBkZXN0aW5hdGlvbi5cbiAgICAgIGlmICgoc3RhdGUucGlwZXNDb3VudCA9PT0gMSAmJiBzdGF0ZS5waXBlcyA9PT0gZGVzdCB8fCBzdGF0ZS5waXBlc0NvdW50ID4gMSAmJiBpbmRleE9mKHN0YXRlLnBpcGVzLCBkZXN0KSAhPT0gLTEpICYmICFjbGVhbmVkVXApIHtcbiAgICAgICAgZGVidWcoJ2ZhbHNlIHdyaXRlIHJlc3BvbnNlLCBwYXVzZScsIHN0YXRlLmF3YWl0RHJhaW4pO1xuICAgICAgICBzdGF0ZS5hd2FpdERyYWluKys7XG4gICAgICB9XG5cbiAgICAgIHNyYy5wYXVzZSgpO1xuICAgIH1cbiAgfSAvLyBpZiB0aGUgZGVzdCBoYXMgYW4gZXJyb3IsIHRoZW4gc3RvcCBwaXBpbmcgaW50byBpdC5cbiAgLy8gaG93ZXZlciwgZG9uJ3Qgc3VwcHJlc3MgdGhlIHRocm93aW5nIGJlaGF2aW9yIGZvciB0aGlzLlxuXG5cbiAgZnVuY3Rpb24gb25lcnJvcihlcikge1xuICAgIGRlYnVnKCdvbmVycm9yJywgZXIpO1xuICAgIHVucGlwZSgpO1xuICAgIGRlc3QucmVtb3ZlTGlzdGVuZXIoJ2Vycm9yJywgb25lcnJvcik7XG4gICAgaWYgKEVFbGlzdGVuZXJDb3VudChkZXN0LCAnZXJyb3InKSA9PT0gMCkgZXJyb3JPckRlc3Ryb3koZGVzdCwgZXIpO1xuICB9IC8vIE1ha2Ugc3VyZSBvdXIgZXJyb3IgaGFuZGxlciBpcyBhdHRhY2hlZCBiZWZvcmUgdXNlcmxhbmQgb25lcy5cblxuXG4gIHByZXBlbmRMaXN0ZW5lcihkZXN0LCAnZXJyb3InLCBvbmVycm9yKTsgLy8gQm90aCBjbG9zZSBhbmQgZmluaXNoIHNob3VsZCB0cmlnZ2VyIHVucGlwZSwgYnV0IG9ubHkgb25jZS5cblxuICBmdW5jdGlvbiBvbmNsb3NlKCkge1xuICAgIGRlc3QucmVtb3ZlTGlzdGVuZXIoJ2ZpbmlzaCcsIG9uZmluaXNoKTtcbiAgICB1bnBpcGUoKTtcbiAgfVxuXG4gIGRlc3Qub25jZSgnY2xvc2UnLCBvbmNsb3NlKTtcblxuICBmdW5jdGlvbiBvbmZpbmlzaCgpIHtcbiAgICBkZWJ1Zygnb25maW5pc2gnKTtcbiAgICBkZXN0LnJlbW92ZUxpc3RlbmVyKCdjbG9zZScsIG9uY2xvc2UpO1xuICAgIHVucGlwZSgpO1xuICB9XG5cbiAgZGVzdC5vbmNlKCdmaW5pc2gnLCBvbmZpbmlzaCk7XG5cbiAgZnVuY3Rpb24gdW5waXBlKCkge1xuICAgIGRlYnVnKCd1bnBpcGUnKTtcbiAgICBzcmMudW5waXBlKGRlc3QpO1xuICB9IC8vIHRlbGwgdGhlIGRlc3QgdGhhdCBpdCdzIGJlaW5nIHBpcGVkIHRvXG5cblxuICBkZXN0LmVtaXQoJ3BpcGUnLCBzcmMpOyAvLyBzdGFydCB0aGUgZmxvdyBpZiBpdCBoYXNuJ3QgYmVlbiBzdGFydGVkIGFscmVhZHkuXG5cbiAgaWYgKCFzdGF0ZS5mbG93aW5nKSB7XG4gICAgZGVidWcoJ3BpcGUgcmVzdW1lJyk7XG4gICAgc3JjLnJlc3VtZSgpO1xuICB9XG5cbiAgcmV0dXJuIGRlc3Q7XG59O1xuXG5mdW5jdGlvbiBwaXBlT25EcmFpbihzcmMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIHBpcGVPbkRyYWluRnVuY3Rpb25SZXN1bHQoKSB7XG4gICAgdmFyIHN0YXRlID0gc3JjLl9yZWFkYWJsZVN0YXRlO1xuICAgIGRlYnVnKCdwaXBlT25EcmFpbicsIHN0YXRlLmF3YWl0RHJhaW4pO1xuICAgIGlmIChzdGF0ZS5hd2FpdERyYWluKSBzdGF0ZS5hd2FpdERyYWluLS07XG5cbiAgICBpZiAoc3RhdGUuYXdhaXREcmFpbiA9PT0gMCAmJiBFRWxpc3RlbmVyQ291bnQoc3JjLCAnZGF0YScpKSB7XG4gICAgICBzdGF0ZS5mbG93aW5nID0gdHJ1ZTtcbiAgICAgIGZsb3coc3JjKTtcbiAgICB9XG4gIH07XG59XG5cblJlYWRhYmxlLnByb3RvdHlwZS51bnBpcGUgPSBmdW5jdGlvbiAoZGVzdCkge1xuICB2YXIgc3RhdGUgPSB0aGlzLl9yZWFkYWJsZVN0YXRlO1xuICB2YXIgdW5waXBlSW5mbyA9IHtcbiAgICBoYXNVbnBpcGVkOiBmYWxzZVxuICB9OyAvLyBpZiB3ZSdyZSBub3QgcGlwaW5nIGFueXdoZXJlLCB0aGVuIGRvIG5vdGhpbmcuXG5cbiAgaWYgKHN0YXRlLnBpcGVzQ291bnQgPT09IDApIHJldHVybiB0aGlzOyAvLyBqdXN0IG9uZSBkZXN0aW5hdGlvbi4gIG1vc3QgY29tbW9uIGNhc2UuXG5cbiAgaWYgKHN0YXRlLnBpcGVzQ291bnQgPT09IDEpIHtcbiAgICAvLyBwYXNzZWQgaW4gb25lLCBidXQgaXQncyBub3QgdGhlIHJpZ2h0IG9uZS5cbiAgICBpZiAoZGVzdCAmJiBkZXN0ICE9PSBzdGF0ZS5waXBlcykgcmV0dXJuIHRoaXM7XG4gICAgaWYgKCFkZXN0KSBkZXN0ID0gc3RhdGUucGlwZXM7IC8vIGdvdCBhIG1hdGNoLlxuXG4gICAgc3RhdGUucGlwZXMgPSBudWxsO1xuICAgIHN0YXRlLnBpcGVzQ291bnQgPSAwO1xuICAgIHN0YXRlLmZsb3dpbmcgPSBmYWxzZTtcbiAgICBpZiAoZGVzdCkgZGVzdC5lbWl0KCd1bnBpcGUnLCB0aGlzLCB1bnBpcGVJbmZvKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfSAvLyBzbG93IGNhc2UuIG11bHRpcGxlIHBpcGUgZGVzdGluYXRpb25zLlxuXG5cbiAgaWYgKCFkZXN0KSB7XG4gICAgLy8gcmVtb3ZlIGFsbC5cbiAgICB2YXIgZGVzdHMgPSBzdGF0ZS5waXBlcztcbiAgICB2YXIgbGVuID0gc3RhdGUucGlwZXNDb3VudDtcbiAgICBzdGF0ZS5waXBlcyA9IG51bGw7XG4gICAgc3RhdGUucGlwZXNDb3VudCA9IDA7XG4gICAgc3RhdGUuZmxvd2luZyA9IGZhbHNlO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgZGVzdHNbaV0uZW1pdCgndW5waXBlJywgdGhpcywge1xuICAgICAgICBoYXNVbnBpcGVkOiBmYWxzZVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH0gLy8gdHJ5IHRvIGZpbmQgdGhlIHJpZ2h0IG9uZS5cblxuXG4gIHZhciBpbmRleCA9IGluZGV4T2Yoc3RhdGUucGlwZXMsIGRlc3QpO1xuICBpZiAoaW5kZXggPT09IC0xKSByZXR1cm4gdGhpcztcbiAgc3RhdGUucGlwZXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgc3RhdGUucGlwZXNDb3VudCAtPSAxO1xuICBpZiAoc3RhdGUucGlwZXNDb3VudCA9PT0gMSkgc3RhdGUucGlwZXMgPSBzdGF0ZS5waXBlc1swXTtcbiAgZGVzdC5lbWl0KCd1bnBpcGUnLCB0aGlzLCB1bnBpcGVJbmZvKTtcbiAgcmV0dXJuIHRoaXM7XG59OyAvLyBzZXQgdXAgZGF0YSBldmVudHMgaWYgdGhleSBhcmUgYXNrZWQgZm9yXG4vLyBFbnN1cmUgcmVhZGFibGUgbGlzdGVuZXJzIGV2ZW50dWFsbHkgZ2V0IHNvbWV0aGluZ1xuXG5cblJlYWRhYmxlLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uIChldiwgZm4pIHtcbiAgdmFyIHJlcyA9IFN0cmVhbS5wcm90b3R5cGUub24uY2FsbCh0aGlzLCBldiwgZm4pO1xuICB2YXIgc3RhdGUgPSB0aGlzLl9yZWFkYWJsZVN0YXRlO1xuXG4gIGlmIChldiA9PT0gJ2RhdGEnKSB7XG4gICAgLy8gdXBkYXRlIHJlYWRhYmxlTGlzdGVuaW5nIHNvIHRoYXQgcmVzdW1lKCkgbWF5IGJlIGEgbm8tb3BcbiAgICAvLyBhIGZldyBsaW5lcyBkb3duLiBUaGlzIGlzIG5lZWRlZCB0byBzdXBwb3J0IG9uY2UoJ3JlYWRhYmxlJykuXG4gICAgc3RhdGUucmVhZGFibGVMaXN0ZW5pbmcgPSB0aGlzLmxpc3RlbmVyQ291bnQoJ3JlYWRhYmxlJykgPiAwOyAvLyBUcnkgc3RhcnQgZmxvd2luZyBvbiBuZXh0IHRpY2sgaWYgc3RyZWFtIGlzbid0IGV4cGxpY2l0bHkgcGF1c2VkXG5cbiAgICBpZiAoc3RhdGUuZmxvd2luZyAhPT0gZmFsc2UpIHRoaXMucmVzdW1lKCk7XG4gIH0gZWxzZSBpZiAoZXYgPT09ICdyZWFkYWJsZScpIHtcbiAgICBpZiAoIXN0YXRlLmVuZEVtaXR0ZWQgJiYgIXN0YXRlLnJlYWRhYmxlTGlzdGVuaW5nKSB7XG4gICAgICBzdGF0ZS5yZWFkYWJsZUxpc3RlbmluZyA9IHN0YXRlLm5lZWRSZWFkYWJsZSA9IHRydWU7XG4gICAgICBzdGF0ZS5mbG93aW5nID0gZmFsc2U7XG4gICAgICBzdGF0ZS5lbWl0dGVkUmVhZGFibGUgPSBmYWxzZTtcbiAgICAgIGRlYnVnKCdvbiByZWFkYWJsZScsIHN0YXRlLmxlbmd0aCwgc3RhdGUucmVhZGluZyk7XG5cbiAgICAgIGlmIChzdGF0ZS5sZW5ndGgpIHtcbiAgICAgICAgZW1pdFJlYWRhYmxlKHRoaXMpO1xuICAgICAgfSBlbHNlIGlmICghc3RhdGUucmVhZGluZykge1xuICAgICAgICBwcm9jZXNzLm5leHRUaWNrKG5SZWFkaW5nTmV4dFRpY2ssIHRoaXMpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXM7XG59O1xuXG5SZWFkYWJsZS5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBSZWFkYWJsZS5wcm90b3R5cGUub247XG5cblJlYWRhYmxlLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9IGZ1bmN0aW9uIChldiwgZm4pIHtcbiAgdmFyIHJlcyA9IFN0cmVhbS5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIuY2FsbCh0aGlzLCBldiwgZm4pO1xuXG4gIGlmIChldiA9PT0gJ3JlYWRhYmxlJykge1xuICAgIC8vIFdlIG5lZWQgdG8gY2hlY2sgaWYgdGhlcmUgaXMgc29tZW9uZSBzdGlsbCBsaXN0ZW5pbmcgdG9cbiAgICAvLyByZWFkYWJsZSBhbmQgcmVzZXQgdGhlIHN0YXRlLiBIb3dldmVyIHRoaXMgbmVlZHMgdG8gaGFwcGVuXG4gICAgLy8gYWZ0ZXIgcmVhZGFibGUgaGFzIGJlZW4gZW1pdHRlZCBidXQgYmVmb3JlIEkvTyAobmV4dFRpY2spIHRvXG4gICAgLy8gc3VwcG9ydCBvbmNlKCdyZWFkYWJsZScsIGZuKSBjeWNsZXMuIFRoaXMgbWVhbnMgdGhhdCBjYWxsaW5nXG4gICAgLy8gcmVzdW1lIHdpdGhpbiB0aGUgc2FtZSB0aWNrIHdpbGwgaGF2ZSBub1xuICAgIC8vIGVmZmVjdC5cbiAgICBwcm9jZXNzLm5leHRUaWNrKHVwZGF0ZVJlYWRhYmxlTGlzdGVuaW5nLCB0aGlzKTtcbiAgfVxuXG4gIHJldHVybiByZXM7XG59O1xuXG5SZWFkYWJsZS5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID0gZnVuY3Rpb24gKGV2KSB7XG4gIHZhciByZXMgPSBTdHJlYW0ucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXG4gIGlmIChldiA9PT0gJ3JlYWRhYmxlJyB8fCBldiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gV2UgbmVlZCB0byBjaGVjayBpZiB0aGVyZSBpcyBzb21lb25lIHN0aWxsIGxpc3RlbmluZyB0b1xuICAgIC8vIHJlYWRhYmxlIGFuZCByZXNldCB0aGUgc3RhdGUuIEhvd2V2ZXIgdGhpcyBuZWVkcyB0byBoYXBwZW5cbiAgICAvLyBhZnRlciByZWFkYWJsZSBoYXMgYmVlbiBlbWl0dGVkIGJ1dCBiZWZvcmUgSS9PIChuZXh0VGljaykgdG9cbiAgICAvLyBzdXBwb3J0IG9uY2UoJ3JlYWRhYmxlJywgZm4pIGN5Y2xlcy4gVGhpcyBtZWFucyB0aGF0IGNhbGxpbmdcbiAgICAvLyByZXN1bWUgd2l0aGluIHRoZSBzYW1lIHRpY2sgd2lsbCBoYXZlIG5vXG4gICAgLy8gZWZmZWN0LlxuICAgIHByb2Nlc3MubmV4dFRpY2sodXBkYXRlUmVhZGFibGVMaXN0ZW5pbmcsIHRoaXMpO1xuICB9XG5cbiAgcmV0dXJuIHJlcztcbn07XG5cbmZ1bmN0aW9uIHVwZGF0ZVJlYWRhYmxlTGlzdGVuaW5nKHNlbGYpIHtcbiAgdmFyIHN0YXRlID0gc2VsZi5fcmVhZGFibGVTdGF0ZTtcbiAgc3RhdGUucmVhZGFibGVMaXN0ZW5pbmcgPSBzZWxmLmxpc3RlbmVyQ291bnQoJ3JlYWRhYmxlJykgPiAwO1xuXG4gIGlmIChzdGF0ZS5yZXN1bWVTY2hlZHVsZWQgJiYgIXN0YXRlLnBhdXNlZCkge1xuICAgIC8vIGZsb3dpbmcgbmVlZHMgdG8gYmUgc2V0IHRvIHRydWUgbm93LCBvdGhlcndpc2VcbiAgICAvLyB0aGUgdXBjb21pbmcgcmVzdW1lIHdpbGwgbm90IGZsb3cuXG4gICAgc3RhdGUuZmxvd2luZyA9IHRydWU7IC8vIGNydWRlIHdheSB0byBjaGVjayBpZiB3ZSBzaG91bGQgcmVzdW1lXG4gIH0gZWxzZSBpZiAoc2VsZi5saXN0ZW5lckNvdW50KCdkYXRhJykgPiAwKSB7XG4gICAgc2VsZi5yZXN1bWUoKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBuUmVhZGluZ05leHRUaWNrKHNlbGYpIHtcbiAgZGVidWcoJ3JlYWRhYmxlIG5leHR0aWNrIHJlYWQgMCcpO1xuICBzZWxmLnJlYWQoMCk7XG59IC8vIHBhdXNlKCkgYW5kIHJlc3VtZSgpIGFyZSByZW1uYW50cyBvZiB0aGUgbGVnYWN5IHJlYWRhYmxlIHN0cmVhbSBBUElcbi8vIElmIHRoZSB1c2VyIHVzZXMgdGhlbSwgdGhlbiBzd2l0Y2ggaW50byBvbGQgbW9kZS5cblxuXG5SZWFkYWJsZS5wcm90b3R5cGUucmVzdW1lID0gZnVuY3Rpb24gKCkge1xuICB2YXIgc3RhdGUgPSB0aGlzLl9yZWFkYWJsZVN0YXRlO1xuXG4gIGlmICghc3RhdGUuZmxvd2luZykge1xuICAgIGRlYnVnKCdyZXN1bWUnKTsgLy8gd2UgZmxvdyBvbmx5IGlmIHRoZXJlIGlzIG5vIG9uZSBsaXN0ZW5pbmdcbiAgICAvLyBmb3IgcmVhZGFibGUsIGJ1dCB3ZSBzdGlsbCBoYXZlIHRvIGNhbGxcbiAgICAvLyByZXN1bWUoKVxuXG4gICAgc3RhdGUuZmxvd2luZyA9ICFzdGF0ZS5yZWFkYWJsZUxpc3RlbmluZztcbiAgICByZXN1bWUodGhpcywgc3RhdGUpO1xuICB9XG5cbiAgc3RhdGUucGF1c2VkID0gZmFsc2U7XG4gIHJldHVybiB0aGlzO1xufTtcblxuZnVuY3Rpb24gcmVzdW1lKHN0cmVhbSwgc3RhdGUpIHtcbiAgaWYgKCFzdGF0ZS5yZXN1bWVTY2hlZHVsZWQpIHtcbiAgICBzdGF0ZS5yZXN1bWVTY2hlZHVsZWQgPSB0cnVlO1xuICAgIHByb2Nlc3MubmV4dFRpY2socmVzdW1lXywgc3RyZWFtLCBzdGF0ZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVzdW1lXyhzdHJlYW0sIHN0YXRlKSB7XG4gIGRlYnVnKCdyZXN1bWUnLCBzdGF0ZS5yZWFkaW5nKTtcblxuICBpZiAoIXN0YXRlLnJlYWRpbmcpIHtcbiAgICBzdHJlYW0ucmVhZCgwKTtcbiAgfVxuXG4gIHN0YXRlLnJlc3VtZVNjaGVkdWxlZCA9IGZhbHNlO1xuICBzdHJlYW0uZW1pdCgncmVzdW1lJyk7XG4gIGZsb3coc3RyZWFtKTtcbiAgaWYgKHN0YXRlLmZsb3dpbmcgJiYgIXN0YXRlLnJlYWRpbmcpIHN0cmVhbS5yZWFkKDApO1xufVxuXG5SZWFkYWJsZS5wcm90b3R5cGUucGF1c2UgPSBmdW5jdGlvbiAoKSB7XG4gIGRlYnVnKCdjYWxsIHBhdXNlIGZsb3dpbmc9JWonLCB0aGlzLl9yZWFkYWJsZVN0YXRlLmZsb3dpbmcpO1xuXG4gIGlmICh0aGlzLl9yZWFkYWJsZVN0YXRlLmZsb3dpbmcgIT09IGZhbHNlKSB7XG4gICAgZGVidWcoJ3BhdXNlJyk7XG4gICAgdGhpcy5fcmVhZGFibGVTdGF0ZS5mbG93aW5nID0gZmFsc2U7XG4gICAgdGhpcy5lbWl0KCdwYXVzZScpO1xuICB9XG5cbiAgdGhpcy5fcmVhZGFibGVTdGF0ZS5wYXVzZWQgPSB0cnVlO1xuICByZXR1cm4gdGhpcztcbn07XG5cbmZ1bmN0aW9uIGZsb3coc3RyZWFtKSB7XG4gIHZhciBzdGF0ZSA9IHN0cmVhbS5fcmVhZGFibGVTdGF0ZTtcbiAgZGVidWcoJ2Zsb3cnLCBzdGF0ZS5mbG93aW5nKTtcblxuICB3aGlsZSAoc3RhdGUuZmxvd2luZyAmJiBzdHJlYW0ucmVhZCgpICE9PSBudWxsKSB7XG4gICAgO1xuICB9XG59IC8vIHdyYXAgYW4gb2xkLXN0eWxlIHN0cmVhbSBhcyB0aGUgYXN5bmMgZGF0YSBzb3VyY2UuXG4vLyBUaGlzIGlzICpub3QqIHBhcnQgb2YgdGhlIHJlYWRhYmxlIHN0cmVhbSBpbnRlcmZhY2UuXG4vLyBJdCBpcyBhbiB1Z2x5IHVuZm9ydHVuYXRlIG1lc3Mgb2YgaGlzdG9yeS5cblxuXG5SZWFkYWJsZS5wcm90b3R5cGUud3JhcCA9IGZ1bmN0aW9uIChzdHJlYW0pIHtcbiAgdmFyIF90aGlzID0gdGhpcztcblxuICB2YXIgc3RhdGUgPSB0aGlzLl9yZWFkYWJsZVN0YXRlO1xuICB2YXIgcGF1c2VkID0gZmFsc2U7XG4gIHN0cmVhbS5vbignZW5kJywgZnVuY3Rpb24gKCkge1xuICAgIGRlYnVnKCd3cmFwcGVkIGVuZCcpO1xuXG4gICAgaWYgKHN0YXRlLmRlY29kZXIgJiYgIXN0YXRlLmVuZGVkKSB7XG4gICAgICB2YXIgY2h1bmsgPSBzdGF0ZS5kZWNvZGVyLmVuZCgpO1xuICAgICAgaWYgKGNodW5rICYmIGNodW5rLmxlbmd0aCkgX3RoaXMucHVzaChjaHVuayk7XG4gICAgfVxuXG4gICAgX3RoaXMucHVzaChudWxsKTtcbiAgfSk7XG4gIHN0cmVhbS5vbignZGF0YScsIGZ1bmN0aW9uIChjaHVuaykge1xuICAgIGRlYnVnKCd3cmFwcGVkIGRhdGEnKTtcbiAgICBpZiAoc3RhdGUuZGVjb2RlcikgY2h1bmsgPSBzdGF0ZS5kZWNvZGVyLndyaXRlKGNodW5rKTsgLy8gZG9uJ3Qgc2tpcCBvdmVyIGZhbHN5IHZhbHVlcyBpbiBvYmplY3RNb2RlXG5cbiAgICBpZiAoc3RhdGUub2JqZWN0TW9kZSAmJiAoY2h1bmsgPT09IG51bGwgfHwgY2h1bmsgPT09IHVuZGVmaW5lZCkpIHJldHVybjtlbHNlIGlmICghc3RhdGUub2JqZWN0TW9kZSAmJiAoIWNodW5rIHx8ICFjaHVuay5sZW5ndGgpKSByZXR1cm47XG5cbiAgICB2YXIgcmV0ID0gX3RoaXMucHVzaChjaHVuayk7XG5cbiAgICBpZiAoIXJldCkge1xuICAgICAgcGF1c2VkID0gdHJ1ZTtcbiAgICAgIHN0cmVhbS5wYXVzZSgpO1xuICAgIH1cbiAgfSk7IC8vIHByb3h5IGFsbCB0aGUgb3RoZXIgbWV0aG9kcy5cbiAgLy8gaW1wb3J0YW50IHdoZW4gd3JhcHBpbmcgZmlsdGVycyBhbmQgZHVwbGV4ZXMuXG5cbiAgZm9yICh2YXIgaSBpbiBzdHJlYW0pIHtcbiAgICBpZiAodGhpc1tpXSA9PT0gdW5kZWZpbmVkICYmIHR5cGVvZiBzdHJlYW1baV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRoaXNbaV0gPSBmdW5jdGlvbiBtZXRob2RXcmFwKG1ldGhvZCkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gbWV0aG9kV3JhcFJldHVybkZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBzdHJlYW1bbWV0aG9kXS5hcHBseShzdHJlYW0sIGFyZ3VtZW50cyk7XG4gICAgICAgIH07XG4gICAgICB9KGkpO1xuICAgIH1cbiAgfSAvLyBwcm94eSBjZXJ0YWluIGltcG9ydGFudCBldmVudHMuXG5cblxuICBmb3IgKHZhciBuID0gMDsgbiA8IGtQcm94eUV2ZW50cy5sZW5ndGg7IG4rKykge1xuICAgIHN0cmVhbS5vbihrUHJveHlFdmVudHNbbl0sIHRoaXMuZW1pdC5iaW5kKHRoaXMsIGtQcm94eUV2ZW50c1tuXSkpO1xuICB9IC8vIHdoZW4gd2UgdHJ5IHRvIGNvbnN1bWUgc29tZSBtb3JlIGJ5dGVzLCBzaW1wbHkgdW5wYXVzZSB0aGVcbiAgLy8gdW5kZXJseWluZyBzdHJlYW0uXG5cblxuICB0aGlzLl9yZWFkID0gZnVuY3Rpb24gKG4pIHtcbiAgICBkZWJ1Zygnd3JhcHBlZCBfcmVhZCcsIG4pO1xuXG4gICAgaWYgKHBhdXNlZCkge1xuICAgICAgcGF1c2VkID0gZmFsc2U7XG4gICAgICBzdHJlYW0ucmVzdW1lKCk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiB0aGlzO1xufTtcblxuaWYgKHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicpIHtcbiAgUmVhZGFibGUucHJvdG90eXBlW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoY3JlYXRlUmVhZGFibGVTdHJlYW1Bc3luY0l0ZXJhdG9yID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGNyZWF0ZVJlYWRhYmxlU3RyZWFtQXN5bmNJdGVyYXRvciA9IHJlcXVpcmUoJy4vaW50ZXJuYWwvc3RyZWFtcy9hc3luY19pdGVyYXRvcicpO1xuICAgIH1cblxuICAgIHJldHVybiBjcmVhdGVSZWFkYWJsZVN0cmVhbUFzeW5jSXRlcmF0b3IodGhpcyk7XG4gIH07XG59XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZWFkYWJsZS5wcm90b3R5cGUsICdyZWFkYWJsZUhpZ2hXYXRlck1hcmsnLCB7XG4gIC8vIG1ha2luZyBpdCBleHBsaWNpdCB0aGlzIHByb3BlcnR5IGlzIG5vdCBlbnVtZXJhYmxlXG4gIC8vIGJlY2F1c2Ugb3RoZXJ3aXNlIHNvbWUgcHJvdG90eXBlIG1hbmlwdWxhdGlvbiBpblxuICAvLyB1c2VybGFuZCB3aWxsIGZhaWxcbiAgZW51bWVyYWJsZTogZmFsc2UsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiB0aGlzLl9yZWFkYWJsZVN0YXRlLmhpZ2hXYXRlck1hcms7XG4gIH1cbn0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlYWRhYmxlLnByb3RvdHlwZSwgJ3JlYWRhYmxlQnVmZmVyJywge1xuICAvLyBtYWtpbmcgaXQgZXhwbGljaXQgdGhpcyBwcm9wZXJ0eSBpcyBub3QgZW51bWVyYWJsZVxuICAvLyBiZWNhdXNlIG90aGVyd2lzZSBzb21lIHByb3RvdHlwZSBtYW5pcHVsYXRpb24gaW5cbiAgLy8gdXNlcmxhbmQgd2lsbCBmYWlsXG4gIGVudW1lcmFibGU6IGZhbHNlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gdGhpcy5fcmVhZGFibGVTdGF0ZSAmJiB0aGlzLl9yZWFkYWJsZVN0YXRlLmJ1ZmZlcjtcbiAgfVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoUmVhZGFibGUucHJvdG90eXBlLCAncmVhZGFibGVGbG93aW5nJywge1xuICAvLyBtYWtpbmcgaXQgZXhwbGljaXQgdGhpcyBwcm9wZXJ0eSBpcyBub3QgZW51bWVyYWJsZVxuICAvLyBiZWNhdXNlIG90aGVyd2lzZSBzb21lIHByb3RvdHlwZSBtYW5pcHVsYXRpb24gaW5cbiAgLy8gdXNlcmxhbmQgd2lsbCBmYWlsXG4gIGVudW1lcmFibGU6IGZhbHNlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gdGhpcy5fcmVhZGFibGVTdGF0ZS5mbG93aW5nO1xuICB9LFxuICBzZXQ6IGZ1bmN0aW9uIHNldChzdGF0ZSkge1xuICAgIGlmICh0aGlzLl9yZWFkYWJsZVN0YXRlKSB7XG4gICAgICB0aGlzLl9yZWFkYWJsZVN0YXRlLmZsb3dpbmcgPSBzdGF0ZTtcbiAgICB9XG4gIH1cbn0pOyAvLyBleHBvc2VkIGZvciB0ZXN0aW5nIHB1cnBvc2VzIG9ubHkuXG5cblJlYWRhYmxlLl9mcm9tTGlzdCA9IGZyb21MaXN0O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlYWRhYmxlLnByb3RvdHlwZSwgJ3JlYWRhYmxlTGVuZ3RoJywge1xuICAvLyBtYWtpbmcgaXQgZXhwbGljaXQgdGhpcyBwcm9wZXJ0eSBpcyBub3QgZW51bWVyYWJsZVxuICAvLyBiZWNhdXNlIG90aGVyd2lzZSBzb21lIHByb3RvdHlwZSBtYW5pcHVsYXRpb24gaW5cbiAgLy8gdXNlcmxhbmQgd2lsbCBmYWlsXG4gIGVudW1lcmFibGU6IGZhbHNlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gdGhpcy5fcmVhZGFibGVTdGF0ZS5sZW5ndGg7XG4gIH1cbn0pOyAvLyBQbHVjayBvZmYgbiBieXRlcyBmcm9tIGFuIGFycmF5IG9mIGJ1ZmZlcnMuXG4vLyBMZW5ndGggaXMgdGhlIGNvbWJpbmVkIGxlbmd0aHMgb2YgYWxsIHRoZSBidWZmZXJzIGluIHRoZSBsaXN0LlxuLy8gVGhpcyBmdW5jdGlvbiBpcyBkZXNpZ25lZCB0byBiZSBpbmxpbmFibGUsIHNvIHBsZWFzZSB0YWtlIGNhcmUgd2hlbiBtYWtpbmdcbi8vIGNoYW5nZXMgdG8gdGhlIGZ1bmN0aW9uIGJvZHkuXG5cbmZ1bmN0aW9uIGZyb21MaXN0KG4sIHN0YXRlKSB7XG4gIC8vIG5vdGhpbmcgYnVmZmVyZWRcbiAgaWYgKHN0YXRlLmxlbmd0aCA9PT0gMCkgcmV0dXJuIG51bGw7XG4gIHZhciByZXQ7XG4gIGlmIChzdGF0ZS5vYmplY3RNb2RlKSByZXQgPSBzdGF0ZS5idWZmZXIuc2hpZnQoKTtlbHNlIGlmICghbiB8fCBuID49IHN0YXRlLmxlbmd0aCkge1xuICAgIC8vIHJlYWQgaXQgYWxsLCB0cnVuY2F0ZSB0aGUgbGlzdFxuICAgIGlmIChzdGF0ZS5kZWNvZGVyKSByZXQgPSBzdGF0ZS5idWZmZXIuam9pbignJyk7ZWxzZSBpZiAoc3RhdGUuYnVmZmVyLmxlbmd0aCA9PT0gMSkgcmV0ID0gc3RhdGUuYnVmZmVyLmZpcnN0KCk7ZWxzZSByZXQgPSBzdGF0ZS5idWZmZXIuY29uY2F0KHN0YXRlLmxlbmd0aCk7XG4gICAgc3RhdGUuYnVmZmVyLmNsZWFyKCk7XG4gIH0gZWxzZSB7XG4gICAgLy8gcmVhZCBwYXJ0IG9mIGxpc3RcbiAgICByZXQgPSBzdGF0ZS5idWZmZXIuY29uc3VtZShuLCBzdGF0ZS5kZWNvZGVyKTtcbiAgfVxuICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBlbmRSZWFkYWJsZShzdHJlYW0pIHtcbiAgdmFyIHN0YXRlID0gc3RyZWFtLl9yZWFkYWJsZVN0YXRlO1xuICBkZWJ1ZygnZW5kUmVhZGFibGUnLCBzdGF0ZS5lbmRFbWl0dGVkKTtcblxuICBpZiAoIXN0YXRlLmVuZEVtaXR0ZWQpIHtcbiAgICBzdGF0ZS5lbmRlZCA9IHRydWU7XG4gICAgcHJvY2Vzcy5uZXh0VGljayhlbmRSZWFkYWJsZU5ULCBzdGF0ZSwgc3RyZWFtKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBlbmRSZWFkYWJsZU5UKHN0YXRlLCBzdHJlYW0pIHtcbiAgZGVidWcoJ2VuZFJlYWRhYmxlTlQnLCBzdGF0ZS5lbmRFbWl0dGVkLCBzdGF0ZS5sZW5ndGgpOyAvLyBDaGVjayB0aGF0IHdlIGRpZG4ndCBnZXQgb25lIGxhc3QgdW5zaGlmdC5cblxuICBpZiAoIXN0YXRlLmVuZEVtaXR0ZWQgJiYgc3RhdGUubGVuZ3RoID09PSAwKSB7XG4gICAgc3RhdGUuZW5kRW1pdHRlZCA9IHRydWU7XG4gICAgc3RyZWFtLnJlYWRhYmxlID0gZmFsc2U7XG4gICAgc3RyZWFtLmVtaXQoJ2VuZCcpO1xuXG4gICAgaWYgKHN0YXRlLmF1dG9EZXN0cm95KSB7XG4gICAgICAvLyBJbiBjYXNlIG9mIGR1cGxleCBzdHJlYW1zIHdlIG5lZWQgYSB3YXkgdG8gZGV0ZWN0XG4gICAgICAvLyBpZiB0aGUgd3JpdGFibGUgc2lkZSBpcyByZWFkeSBmb3IgYXV0b0Rlc3Ryb3kgYXMgd2VsbFxuICAgICAgdmFyIHdTdGF0ZSA9IHN0cmVhbS5fd3JpdGFibGVTdGF0ZTtcblxuICAgICAgaWYgKCF3U3RhdGUgfHwgd1N0YXRlLmF1dG9EZXN0cm95ICYmIHdTdGF0ZS5maW5pc2hlZCkge1xuICAgICAgICBzdHJlYW0uZGVzdHJveSgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5pZiAodHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJykge1xuICBSZWFkYWJsZS5mcm9tID0gZnVuY3Rpb24gKGl0ZXJhYmxlLCBvcHRzKSB7XG4gICAgaWYgKGZyb20gPT09IHVuZGVmaW5lZCkge1xuICAgICAgZnJvbSA9IHJlcXVpcmUoJy4vaW50ZXJuYWwvc3RyZWFtcy9mcm9tJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZyb20oUmVhZGFibGUsIGl0ZXJhYmxlLCBvcHRzKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gaW5kZXhPZih4cywgeCkge1xuICBmb3IgKHZhciBpID0gMCwgbCA9IHhzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGlmICh4c1tpXSA9PT0geCkgcmV0dXJuIGk7XG4gIH1cblxuICByZXR1cm4gLTE7XG59IiwgIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuLy8gYSB0cmFuc2Zvcm0gc3RyZWFtIGlzIGEgcmVhZGFibGUvd3JpdGFibGUgc3RyZWFtIHdoZXJlIHlvdSBkb1xuLy8gc29tZXRoaW5nIHdpdGggdGhlIGRhdGEuICBTb21ldGltZXMgaXQncyBjYWxsZWQgYSBcImZpbHRlclwiLFxuLy8gYnV0IHRoYXQncyBub3QgYSBncmVhdCBuYW1lIGZvciBpdCwgc2luY2UgdGhhdCBpbXBsaWVzIGEgdGhpbmcgd2hlcmVcbi8vIHNvbWUgYml0cyBwYXNzIHRocm91Z2gsIGFuZCBvdGhlcnMgYXJlIHNpbXBseSBpZ25vcmVkLiAgKFRoYXQgd291bGRcbi8vIGJlIGEgdmFsaWQgZXhhbXBsZSBvZiBhIHRyYW5zZm9ybSwgb2YgY291cnNlLilcbi8vXG4vLyBXaGlsZSB0aGUgb3V0cHV0IGlzIGNhdXNhbGx5IHJlbGF0ZWQgdG8gdGhlIGlucHV0LCBpdCdzIG5vdCBhXG4vLyBuZWNlc3NhcmlseSBzeW1tZXRyaWMgb3Igc3luY2hyb25vdXMgdHJhbnNmb3JtYXRpb24uICBGb3IgZXhhbXBsZSxcbi8vIGEgemxpYiBzdHJlYW0gbWlnaHQgdGFrZSBtdWx0aXBsZSBwbGFpbi10ZXh0IHdyaXRlcygpLCBhbmQgdGhlblxuLy8gZW1pdCBhIHNpbmdsZSBjb21wcmVzc2VkIGNodW5rIHNvbWUgdGltZSBpbiB0aGUgZnV0dXJlLlxuLy9cbi8vIEhlcmUncyBob3cgdGhpcyB3b3Jrczpcbi8vXG4vLyBUaGUgVHJhbnNmb3JtIHN0cmVhbSBoYXMgYWxsIHRoZSBhc3BlY3RzIG9mIHRoZSByZWFkYWJsZSBhbmQgd3JpdGFibGVcbi8vIHN0cmVhbSBjbGFzc2VzLiAgV2hlbiB5b3Ugd3JpdGUoY2h1bmspLCB0aGF0IGNhbGxzIF93cml0ZShjaHVuayxjYilcbi8vIGludGVybmFsbHksIGFuZCByZXR1cm5zIGZhbHNlIGlmIHRoZXJlJ3MgYSBsb3Qgb2YgcGVuZGluZyB3cml0ZXNcbi8vIGJ1ZmZlcmVkIHVwLiAgV2hlbiB5b3UgY2FsbCByZWFkKCksIHRoYXQgY2FsbHMgX3JlYWQobikgdW50aWxcbi8vIHRoZXJlJ3MgZW5vdWdoIHBlbmRpbmcgcmVhZGFibGUgZGF0YSBidWZmZXJlZCB1cC5cbi8vXG4vLyBJbiBhIHRyYW5zZm9ybSBzdHJlYW0sIHRoZSB3cml0dGVuIGRhdGEgaXMgcGxhY2VkIGluIGEgYnVmZmVyLiAgV2hlblxuLy8gX3JlYWQobikgaXMgY2FsbGVkLCBpdCB0cmFuc2Zvcm1zIHRoZSBxdWV1ZWQgdXAgZGF0YSwgY2FsbGluZyB0aGVcbi8vIGJ1ZmZlcmVkIF93cml0ZSBjYidzIGFzIGl0IGNvbnN1bWVzIGNodW5rcy4gIElmIGNvbnN1bWluZyBhIHNpbmdsZVxuLy8gd3JpdHRlbiBjaHVuayB3b3VsZCByZXN1bHQgaW4gbXVsdGlwbGUgb3V0cHV0IGNodW5rcywgdGhlbiB0aGUgZmlyc3Rcbi8vIG91dHB1dHRlZCBiaXQgY2FsbHMgdGhlIHJlYWRjYiwgYW5kIHN1YnNlcXVlbnQgY2h1bmtzIGp1c3QgZ28gaW50b1xuLy8gdGhlIHJlYWQgYnVmZmVyLCBhbmQgd2lsbCBjYXVzZSBpdCB0byBlbWl0ICdyZWFkYWJsZScgaWYgbmVjZXNzYXJ5LlxuLy9cbi8vIFRoaXMgd2F5LCBiYWNrLXByZXNzdXJlIGlzIGFjdHVhbGx5IGRldGVybWluZWQgYnkgdGhlIHJlYWRpbmcgc2lkZSxcbi8vIHNpbmNlIF9yZWFkIGhhcyB0byBiZSBjYWxsZWQgdG8gc3RhcnQgcHJvY2Vzc2luZyBhIG5ldyBjaHVuay4gIEhvd2V2ZXIsXG4vLyBhIHBhdGhvbG9naWNhbCBpbmZsYXRlIHR5cGUgb2YgdHJhbnNmb3JtIGNhbiBjYXVzZSBleGNlc3NpdmUgYnVmZmVyaW5nXG4vLyBoZXJlLiAgRm9yIGV4YW1wbGUsIGltYWdpbmUgYSBzdHJlYW0gd2hlcmUgZXZlcnkgYnl0ZSBvZiBpbnB1dCBpc1xuLy8gaW50ZXJwcmV0ZWQgYXMgYW4gaW50ZWdlciBmcm9tIDAtMjU1LCBhbmQgdGhlbiByZXN1bHRzIGluIHRoYXQgbWFueVxuLy8gYnl0ZXMgb2Ygb3V0cHV0LiAgV3JpdGluZyB0aGUgNCBieXRlcyB7ZmYsZmYsZmYsZmZ9IHdvdWxkIHJlc3VsdCBpblxuLy8gMWtiIG9mIGRhdGEgYmVpbmcgb3V0cHV0LiAgSW4gdGhpcyBjYXNlLCB5b3UgY291bGQgd3JpdGUgYSB2ZXJ5IHNtYWxsXG4vLyBhbW91bnQgb2YgaW5wdXQsIGFuZCBlbmQgdXAgd2l0aCBhIHZlcnkgbGFyZ2UgYW1vdW50IG9mIG91dHB1dC4gIEluXG4vLyBzdWNoIGEgcGF0aG9sb2dpY2FsIGluZmxhdGluZyBtZWNoYW5pc20sIHRoZXJlJ2QgYmUgbm8gd2F5IHRvIHRlbGxcbi8vIHRoZSBzeXN0ZW0gdG8gc3RvcCBkb2luZyB0aGUgdHJhbnNmb3JtLiAgQSBzaW5nbGUgNE1CIHdyaXRlIGNvdWxkXG4vLyBjYXVzZSB0aGUgc3lzdGVtIHRvIHJ1biBvdXQgb2YgbWVtb3J5LlxuLy9cbi8vIEhvd2V2ZXIsIGV2ZW4gaW4gc3VjaCBhIHBhdGhvbG9naWNhbCBjYXNlLCBvbmx5IGEgc2luZ2xlIHdyaXR0ZW4gY2h1bmtcbi8vIHdvdWxkIGJlIGNvbnN1bWVkLCBhbmQgdGhlbiB0aGUgcmVzdCB3b3VsZCB3YWl0ICh1bi10cmFuc2Zvcm1lZCkgdW50aWxcbi8vIHRoZSByZXN1bHRzIG9mIHRoZSBwcmV2aW91cyB0cmFuc2Zvcm1lZCBjaHVuayB3ZXJlIGNvbnN1bWVkLlxuJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFRyYW5zZm9ybTtcblxudmFyIF9yZXF1aXJlJGNvZGVzID0gcmVxdWlyZSgnLi4vZXJyb3JzJykuY29kZXMsXG4gICAgRVJSX01FVEhPRF9OT1RfSU1QTEVNRU5URUQgPSBfcmVxdWlyZSRjb2Rlcy5FUlJfTUVUSE9EX05PVF9JTVBMRU1FTlRFRCxcbiAgICBFUlJfTVVMVElQTEVfQ0FMTEJBQ0sgPSBfcmVxdWlyZSRjb2Rlcy5FUlJfTVVMVElQTEVfQ0FMTEJBQ0ssXG4gICAgRVJSX1RSQU5TRk9STV9BTFJFQURZX1RSQU5TRk9STUlORyA9IF9yZXF1aXJlJGNvZGVzLkVSUl9UUkFOU0ZPUk1fQUxSRUFEWV9UUkFOU0ZPUk1JTkcsXG4gICAgRVJSX1RSQU5TRk9STV9XSVRIX0xFTkdUSF8wID0gX3JlcXVpcmUkY29kZXMuRVJSX1RSQU5TRk9STV9XSVRIX0xFTkdUSF8wO1xuXG52YXIgRHVwbGV4ID0gcmVxdWlyZSgnLi9fc3RyZWFtX2R1cGxleCcpO1xuXG5yZXF1aXJlKCdpbmhlcml0cycpKFRyYW5zZm9ybSwgRHVwbGV4KTtcblxuZnVuY3Rpb24gYWZ0ZXJUcmFuc2Zvcm0oZXIsIGRhdGEpIHtcbiAgdmFyIHRzID0gdGhpcy5fdHJhbnNmb3JtU3RhdGU7XG4gIHRzLnRyYW5zZm9ybWluZyA9IGZhbHNlO1xuICB2YXIgY2IgPSB0cy53cml0ZWNiO1xuXG4gIGlmIChjYiA9PT0gbnVsbCkge1xuICAgIHJldHVybiB0aGlzLmVtaXQoJ2Vycm9yJywgbmV3IEVSUl9NVUxUSVBMRV9DQUxMQkFDSygpKTtcbiAgfVxuXG4gIHRzLndyaXRlY2h1bmsgPSBudWxsO1xuICB0cy53cml0ZWNiID0gbnVsbDtcbiAgaWYgKGRhdGEgIT0gbnVsbCkgLy8gc2luZ2xlIGVxdWFscyBjaGVjayBmb3IgYm90aCBgbnVsbGAgYW5kIGB1bmRlZmluZWRgXG4gICAgdGhpcy5wdXNoKGRhdGEpO1xuICBjYihlcik7XG4gIHZhciBycyA9IHRoaXMuX3JlYWRhYmxlU3RhdGU7XG4gIHJzLnJlYWRpbmcgPSBmYWxzZTtcblxuICBpZiAocnMubmVlZFJlYWRhYmxlIHx8IHJzLmxlbmd0aCA8IHJzLmhpZ2hXYXRlck1hcmspIHtcbiAgICB0aGlzLl9yZWFkKHJzLmhpZ2hXYXRlck1hcmspO1xuICB9XG59XG5cbmZ1bmN0aW9uIFRyYW5zZm9ybShvcHRpb25zKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBUcmFuc2Zvcm0pKSByZXR1cm4gbmV3IFRyYW5zZm9ybShvcHRpb25zKTtcbiAgRHVwbGV4LmNhbGwodGhpcywgb3B0aW9ucyk7XG4gIHRoaXMuX3RyYW5zZm9ybVN0YXRlID0ge1xuICAgIGFmdGVyVHJhbnNmb3JtOiBhZnRlclRyYW5zZm9ybS5iaW5kKHRoaXMpLFxuICAgIG5lZWRUcmFuc2Zvcm06IGZhbHNlLFxuICAgIHRyYW5zZm9ybWluZzogZmFsc2UsXG4gICAgd3JpdGVjYjogbnVsbCxcbiAgICB3cml0ZWNodW5rOiBudWxsLFxuICAgIHdyaXRlZW5jb2Rpbmc6IG51bGxcbiAgfTsgLy8gc3RhcnQgb3V0IGFza2luZyBmb3IgYSByZWFkYWJsZSBldmVudCBvbmNlIGRhdGEgaXMgdHJhbnNmb3JtZWQuXG5cbiAgdGhpcy5fcmVhZGFibGVTdGF0ZS5uZWVkUmVhZGFibGUgPSB0cnVlOyAvLyB3ZSBoYXZlIGltcGxlbWVudGVkIHRoZSBfcmVhZCBtZXRob2QsIGFuZCBkb25lIHRoZSBvdGhlciB0aGluZ3NcbiAgLy8gdGhhdCBSZWFkYWJsZSB3YW50cyBiZWZvcmUgdGhlIGZpcnN0IF9yZWFkIGNhbGwsIHNvIHVuc2V0IHRoZVxuICAvLyBzeW5jIGd1YXJkIGZsYWcuXG5cbiAgdGhpcy5fcmVhZGFibGVTdGF0ZS5zeW5jID0gZmFsc2U7XG5cbiAgaWYgKG9wdGlvbnMpIHtcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMudHJhbnNmb3JtID09PSAnZnVuY3Rpb24nKSB0aGlzLl90cmFuc2Zvcm0gPSBvcHRpb25zLnRyYW5zZm9ybTtcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMuZmx1c2ggPT09ICdmdW5jdGlvbicpIHRoaXMuX2ZsdXNoID0gb3B0aW9ucy5mbHVzaDtcbiAgfSAvLyBXaGVuIHRoZSB3cml0YWJsZSBzaWRlIGZpbmlzaGVzLCB0aGVuIGZsdXNoIG91dCBhbnl0aGluZyByZW1haW5pbmcuXG5cblxuICB0aGlzLm9uKCdwcmVmaW5pc2gnLCBwcmVmaW5pc2gpO1xufVxuXG5mdW5jdGlvbiBwcmVmaW5pc2goKSB7XG4gIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgaWYgKHR5cGVvZiB0aGlzLl9mbHVzaCA9PT0gJ2Z1bmN0aW9uJyAmJiAhdGhpcy5fcmVhZGFibGVTdGF0ZS5kZXN0cm95ZWQpIHtcbiAgICB0aGlzLl9mbHVzaChmdW5jdGlvbiAoZXIsIGRhdGEpIHtcbiAgICAgIGRvbmUoX3RoaXMsIGVyLCBkYXRhKTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBkb25lKHRoaXMsIG51bGwsIG51bGwpO1xuICB9XG59XG5cblRyYW5zZm9ybS5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uIChjaHVuaywgZW5jb2RpbmcpIHtcbiAgdGhpcy5fdHJhbnNmb3JtU3RhdGUubmVlZFRyYW5zZm9ybSA9IGZhbHNlO1xuICByZXR1cm4gRHVwbGV4LnByb3RvdHlwZS5wdXNoLmNhbGwodGhpcywgY2h1bmssIGVuY29kaW5nKTtcbn07IC8vIFRoaXMgaXMgdGhlIHBhcnQgd2hlcmUgeW91IGRvIHN0dWZmIVxuLy8gb3ZlcnJpZGUgdGhpcyBmdW5jdGlvbiBpbiBpbXBsZW1lbnRhdGlvbiBjbGFzc2VzLlxuLy8gJ2NodW5rJyBpcyBhbiBpbnB1dCBjaHVuay5cbi8vXG4vLyBDYWxsIGBwdXNoKG5ld0NodW5rKWAgdG8gcGFzcyBhbG9uZyB0cmFuc2Zvcm1lZCBvdXRwdXRcbi8vIHRvIHRoZSByZWFkYWJsZSBzaWRlLiAgWW91IG1heSBjYWxsICdwdXNoJyB6ZXJvIG9yIG1vcmUgdGltZXMuXG4vL1xuLy8gQ2FsbCBgY2IoZXJyKWAgd2hlbiB5b3UgYXJlIGRvbmUgd2l0aCB0aGlzIGNodW5rLiAgSWYgeW91IHBhc3Ncbi8vIGFuIGVycm9yLCB0aGVuIHRoYXQnbGwgcHV0IHRoZSBodXJ0IG9uIHRoZSB3aG9sZSBvcGVyYXRpb24uICBJZiB5b3Vcbi8vIG5ldmVyIGNhbGwgY2IoKSwgdGhlbiB5b3UnbGwgbmV2ZXIgZ2V0IGFub3RoZXIgY2h1bmsuXG5cblxuVHJhbnNmb3JtLnByb3RvdHlwZS5fdHJhbnNmb3JtID0gZnVuY3Rpb24gKGNodW5rLCBlbmNvZGluZywgY2IpIHtcbiAgY2IobmV3IEVSUl9NRVRIT0RfTk9UX0lNUExFTUVOVEVEKCdfdHJhbnNmb3JtKCknKSk7XG59O1xuXG5UcmFuc2Zvcm0ucHJvdG90eXBlLl93cml0ZSA9IGZ1bmN0aW9uIChjaHVuaywgZW5jb2RpbmcsIGNiKSB7XG4gIHZhciB0cyA9IHRoaXMuX3RyYW5zZm9ybVN0YXRlO1xuICB0cy53cml0ZWNiID0gY2I7XG4gIHRzLndyaXRlY2h1bmsgPSBjaHVuaztcbiAgdHMud3JpdGVlbmNvZGluZyA9IGVuY29kaW5nO1xuXG4gIGlmICghdHMudHJhbnNmb3JtaW5nKSB7XG4gICAgdmFyIHJzID0gdGhpcy5fcmVhZGFibGVTdGF0ZTtcbiAgICBpZiAodHMubmVlZFRyYW5zZm9ybSB8fCBycy5uZWVkUmVhZGFibGUgfHwgcnMubGVuZ3RoIDwgcnMuaGlnaFdhdGVyTWFyaykgdGhpcy5fcmVhZChycy5oaWdoV2F0ZXJNYXJrKTtcbiAgfVxufTsgLy8gRG9lc24ndCBtYXR0ZXIgd2hhdCB0aGUgYXJncyBhcmUgaGVyZS5cbi8vIF90cmFuc2Zvcm0gZG9lcyBhbGwgdGhlIHdvcmsuXG4vLyBUaGF0IHdlIGdvdCBoZXJlIG1lYW5zIHRoYXQgdGhlIHJlYWRhYmxlIHNpZGUgd2FudHMgbW9yZSBkYXRhLlxuXG5cblRyYW5zZm9ybS5wcm90b3R5cGUuX3JlYWQgPSBmdW5jdGlvbiAobikge1xuICB2YXIgdHMgPSB0aGlzLl90cmFuc2Zvcm1TdGF0ZTtcblxuICBpZiAodHMud3JpdGVjaHVuayAhPT0gbnVsbCAmJiAhdHMudHJhbnNmb3JtaW5nKSB7XG4gICAgdHMudHJhbnNmb3JtaW5nID0gdHJ1ZTtcblxuICAgIHRoaXMuX3RyYW5zZm9ybSh0cy53cml0ZWNodW5rLCB0cy53cml0ZWVuY29kaW5nLCB0cy5hZnRlclRyYW5zZm9ybSk7XG4gIH0gZWxzZSB7XG4gICAgLy8gbWFyayB0aGF0IHdlIG5lZWQgYSB0cmFuc2Zvcm0sIHNvIHRoYXQgYW55IGRhdGEgdGhhdCBjb21lcyBpblxuICAgIC8vIHdpbGwgZ2V0IHByb2Nlc3NlZCwgbm93IHRoYXQgd2UndmUgYXNrZWQgZm9yIGl0LlxuICAgIHRzLm5lZWRUcmFuc2Zvcm0gPSB0cnVlO1xuICB9XG59O1xuXG5UcmFuc2Zvcm0ucHJvdG90eXBlLl9kZXN0cm95ID0gZnVuY3Rpb24gKGVyciwgY2IpIHtcbiAgRHVwbGV4LnByb3RvdHlwZS5fZGVzdHJveS5jYWxsKHRoaXMsIGVyciwgZnVuY3Rpb24gKGVycjIpIHtcbiAgICBjYihlcnIyKTtcbiAgfSk7XG59O1xuXG5mdW5jdGlvbiBkb25lKHN0cmVhbSwgZXIsIGRhdGEpIHtcbiAgaWYgKGVyKSByZXR1cm4gc3RyZWFtLmVtaXQoJ2Vycm9yJywgZXIpO1xuICBpZiAoZGF0YSAhPSBudWxsKSAvLyBzaW5nbGUgZXF1YWxzIGNoZWNrIGZvciBib3RoIGBudWxsYCBhbmQgYHVuZGVmaW5lZGBcbiAgICBzdHJlYW0ucHVzaChkYXRhKTsgLy8gVE9ETyhCcmlkZ2VBUik6IFdyaXRlIGEgdGVzdCBmb3IgdGhlc2UgdHdvIGVycm9yIGNhc2VzXG4gIC8vIGlmIHRoZXJlJ3Mgbm90aGluZyBpbiB0aGUgd3JpdGUgYnVmZmVyLCB0aGVuIHRoYXQgbWVhbnNcbiAgLy8gdGhhdCBub3RoaW5nIG1vcmUgd2lsbCBldmVyIGJlIHByb3ZpZGVkXG5cbiAgaWYgKHN0cmVhbS5fd3JpdGFibGVTdGF0ZS5sZW5ndGgpIHRocm93IG5ldyBFUlJfVFJBTlNGT1JNX1dJVEhfTEVOR1RIXzAoKTtcbiAgaWYgKHN0cmVhbS5fdHJhbnNmb3JtU3RhdGUudHJhbnNmb3JtaW5nKSB0aHJvdyBuZXcgRVJSX1RSQU5TRk9STV9BTFJFQURZX1RSQU5TRk9STUlORygpO1xuICByZXR1cm4gc3RyZWFtLnB1c2gobnVsbCk7XG59IiwgIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuLy8gYSBwYXNzdGhyb3VnaCBzdHJlYW0uXG4vLyBiYXNpY2FsbHkganVzdCB0aGUgbW9zdCBtaW5pbWFsIHNvcnQgb2YgVHJhbnNmb3JtIHN0cmVhbS5cbi8vIEV2ZXJ5IHdyaXR0ZW4gY2h1bmsgZ2V0cyBvdXRwdXQgYXMtaXMuXG4ndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gUGFzc1Rocm91Z2g7XG5cbnZhciBUcmFuc2Zvcm0gPSByZXF1aXJlKCcuL19zdHJlYW1fdHJhbnNmb3JtJyk7XG5cbnJlcXVpcmUoJ2luaGVyaXRzJykoUGFzc1Rocm91Z2gsIFRyYW5zZm9ybSk7XG5cbmZ1bmN0aW9uIFBhc3NUaHJvdWdoKG9wdGlvbnMpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFBhc3NUaHJvdWdoKSkgcmV0dXJuIG5ldyBQYXNzVGhyb3VnaChvcHRpb25zKTtcbiAgVHJhbnNmb3JtLmNhbGwodGhpcywgb3B0aW9ucyk7XG59XG5cblBhc3NUaHJvdWdoLnByb3RvdHlwZS5fdHJhbnNmb3JtID0gZnVuY3Rpb24gKGNodW5rLCBlbmNvZGluZywgY2IpIHtcbiAgY2IobnVsbCwgY2h1bmspO1xufTsiLCAiLy8gUG9ydGVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL21hZmludG9zaC9wdW1wIHdpdGhcbi8vIHBlcm1pc3Npb24gZnJvbSB0aGUgYXV0aG9yLCBNYXRoaWFzIEJ1dXMgKEBtYWZpbnRvc2gpLlxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgZW9zO1xuXG5mdW5jdGlvbiBvbmNlKGNhbGxiYWNrKSB7XG4gIHZhciBjYWxsZWQgPSBmYWxzZTtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoY2FsbGVkKSByZXR1cm47XG4gICAgY2FsbGVkID0gdHJ1ZTtcbiAgICBjYWxsYmFjay5hcHBseSh2b2lkIDAsIGFyZ3VtZW50cyk7XG4gIH07XG59XG5cbnZhciBfcmVxdWlyZSRjb2RlcyA9IHJlcXVpcmUoJy4uLy4uLy4uL2Vycm9ycycpLmNvZGVzLFxuICAgIEVSUl9NSVNTSU5HX0FSR1MgPSBfcmVxdWlyZSRjb2Rlcy5FUlJfTUlTU0lOR19BUkdTLFxuICAgIEVSUl9TVFJFQU1fREVTVFJPWUVEID0gX3JlcXVpcmUkY29kZXMuRVJSX1NUUkVBTV9ERVNUUk9ZRUQ7XG5cbmZ1bmN0aW9uIG5vb3AoZXJyKSB7XG4gIC8vIFJldGhyb3cgdGhlIGVycm9yIGlmIGl0IGV4aXN0cyB0byBhdm9pZCBzd2FsbG93aW5nIGl0XG4gIGlmIChlcnIpIHRocm93IGVycjtcbn1cblxuZnVuY3Rpb24gaXNSZXF1ZXN0KHN0cmVhbSkge1xuICByZXR1cm4gc3RyZWFtLnNldEhlYWRlciAmJiB0eXBlb2Ygc3RyZWFtLmFib3J0ID09PSAnZnVuY3Rpb24nO1xufVxuXG5mdW5jdGlvbiBkZXN0cm95ZXIoc3RyZWFtLCByZWFkaW5nLCB3cml0aW5nLCBjYWxsYmFjaykge1xuICBjYWxsYmFjayA9IG9uY2UoY2FsbGJhY2spO1xuICB2YXIgY2xvc2VkID0gZmFsc2U7XG4gIHN0cmVhbS5vbignY2xvc2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgY2xvc2VkID0gdHJ1ZTtcbiAgfSk7XG4gIGlmIChlb3MgPT09IHVuZGVmaW5lZCkgZW9zID0gcmVxdWlyZSgnLi9lbmQtb2Ytc3RyZWFtJyk7XG4gIGVvcyhzdHJlYW0sIHtcbiAgICByZWFkYWJsZTogcmVhZGluZyxcbiAgICB3cml0YWJsZTogd3JpdGluZ1xuICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgaWYgKGVycikgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgY2xvc2VkID0gdHJ1ZTtcbiAgICBjYWxsYmFjaygpO1xuICB9KTtcbiAgdmFyIGRlc3Ryb3llZCA9IGZhbHNlO1xuICByZXR1cm4gZnVuY3Rpb24gKGVycikge1xuICAgIGlmIChjbG9zZWQpIHJldHVybjtcbiAgICBpZiAoZGVzdHJveWVkKSByZXR1cm47XG4gICAgZGVzdHJveWVkID0gdHJ1ZTsgLy8gcmVxdWVzdC5kZXN0cm95IGp1c3QgZG8gLmVuZCAtIC5hYm9ydCBpcyB3aGF0IHdlIHdhbnRcblxuICAgIGlmIChpc1JlcXVlc3Qoc3RyZWFtKSkgcmV0dXJuIHN0cmVhbS5hYm9ydCgpO1xuICAgIGlmICh0eXBlb2Ygc3RyZWFtLmRlc3Ryb3kgPT09ICdmdW5jdGlvbicpIHJldHVybiBzdHJlYW0uZGVzdHJveSgpO1xuICAgIGNhbGxiYWNrKGVyciB8fCBuZXcgRVJSX1NUUkVBTV9ERVNUUk9ZRUQoJ3BpcGUnKSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGNhbGwoZm4pIHtcbiAgZm4oKTtcbn1cblxuZnVuY3Rpb24gcGlwZShmcm9tLCB0bykge1xuICByZXR1cm4gZnJvbS5waXBlKHRvKTtcbn1cblxuZnVuY3Rpb24gcG9wQ2FsbGJhY2soc3RyZWFtcykge1xuICBpZiAoIXN0cmVhbXMubGVuZ3RoKSByZXR1cm4gbm9vcDtcbiAgaWYgKHR5cGVvZiBzdHJlYW1zW3N0cmVhbXMubGVuZ3RoIC0gMV0gIT09ICdmdW5jdGlvbicpIHJldHVybiBub29wO1xuICByZXR1cm4gc3RyZWFtcy5wb3AoKTtcbn1cblxuZnVuY3Rpb24gcGlwZWxpbmUoKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBzdHJlYW1zID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIHN0cmVhbXNbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICB2YXIgY2FsbGJhY2sgPSBwb3BDYWxsYmFjayhzdHJlYW1zKTtcbiAgaWYgKEFycmF5LmlzQXJyYXkoc3RyZWFtc1swXSkpIHN0cmVhbXMgPSBzdHJlYW1zWzBdO1xuXG4gIGlmIChzdHJlYW1zLmxlbmd0aCA8IDIpIHtcbiAgICB0aHJvdyBuZXcgRVJSX01JU1NJTkdfQVJHUygnc3RyZWFtcycpO1xuICB9XG5cbiAgdmFyIGVycm9yO1xuICB2YXIgZGVzdHJveXMgPSBzdHJlYW1zLm1hcChmdW5jdGlvbiAoc3RyZWFtLCBpKSB7XG4gICAgdmFyIHJlYWRpbmcgPSBpIDwgc3RyZWFtcy5sZW5ndGggLSAxO1xuICAgIHZhciB3cml0aW5nID0gaSA+IDA7XG4gICAgcmV0dXJuIGRlc3Ryb3llcihzdHJlYW0sIHJlYWRpbmcsIHdyaXRpbmcsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIGlmICghZXJyb3IpIGVycm9yID0gZXJyO1xuICAgICAgaWYgKGVycikgZGVzdHJveXMuZm9yRWFjaChjYWxsKTtcbiAgICAgIGlmIChyZWFkaW5nKSByZXR1cm47XG4gICAgICBkZXN0cm95cy5mb3JFYWNoKGNhbGwpO1xuICAgICAgY2FsbGJhY2soZXJyb3IpO1xuICAgIH0pO1xuICB9KTtcbiAgcmV0dXJuIHN0cmVhbXMucmVkdWNlKHBpcGUpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHBpcGVsaW5lOyIsICJ2YXIgU3RyZWFtID0gcmVxdWlyZSgnc3RyZWFtJyk7XG5pZiAocHJvY2Vzcy5lbnYuUkVBREFCTEVfU1RSRUFNID09PSAnZGlzYWJsZScgJiYgU3RyZWFtKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gU3RyZWFtLlJlYWRhYmxlO1xuICBPYmplY3QuYXNzaWduKG1vZHVsZS5leHBvcnRzLCBTdHJlYW0pO1xuICBtb2R1bGUuZXhwb3J0cy5TdHJlYW0gPSBTdHJlYW07XG59IGVsc2Uge1xuICBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2xpYi9fc3RyZWFtX3JlYWRhYmxlLmpzJyk7XG4gIGV4cG9ydHMuU3RyZWFtID0gU3RyZWFtIHx8IGV4cG9ydHM7XG4gIGV4cG9ydHMuUmVhZGFibGUgPSBleHBvcnRzO1xuICBleHBvcnRzLldyaXRhYmxlID0gcmVxdWlyZSgnLi9saWIvX3N0cmVhbV93cml0YWJsZS5qcycpO1xuICBleHBvcnRzLkR1cGxleCA9IHJlcXVpcmUoJy4vbGliL19zdHJlYW1fZHVwbGV4LmpzJyk7XG4gIGV4cG9ydHMuVHJhbnNmb3JtID0gcmVxdWlyZSgnLi9saWIvX3N0cmVhbV90cmFuc2Zvcm0uanMnKTtcbiAgZXhwb3J0cy5QYXNzVGhyb3VnaCA9IHJlcXVpcmUoJy4vbGliL19zdHJlYW1fcGFzc3Rocm91Z2guanMnKTtcbiAgZXhwb3J0cy5maW5pc2hlZCA9IHJlcXVpcmUoJy4vbGliL2ludGVybmFsL3N0cmVhbXMvZW5kLW9mLXN0cmVhbS5qcycpO1xuICBleHBvcnRzLnBpcGVsaW5lID0gcmVxdWlyZSgnLi9saWIvaW50ZXJuYWwvc3RyZWFtcy9waXBlbGluZS5qcycpO1xufVxuIiwgIi8qIGVzbGludC1kaXNhYmxlIG5vZGUvbm8tZGVwcmVjYXRlZC1hcGkgKi9cblxudmFyIHRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZ1xuXG52YXIgaXNNb2Rlcm4gPSAoXG4gIHR5cGVvZiBCdWZmZXIgIT09ICd1bmRlZmluZWQnICYmXG4gIHR5cGVvZiBCdWZmZXIuYWxsb2MgPT09ICdmdW5jdGlvbicgJiZcbiAgdHlwZW9mIEJ1ZmZlci5hbGxvY1Vuc2FmZSA9PT0gJ2Z1bmN0aW9uJyAmJlxuICB0eXBlb2YgQnVmZmVyLmZyb20gPT09ICdmdW5jdGlvbidcbilcblxuZnVuY3Rpb24gaXNBcnJheUJ1ZmZlciAoaW5wdXQpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwoaW5wdXQpLnNsaWNlKDgsIC0xKSA9PT0gJ0FycmF5QnVmZmVyJ1xufVxuXG5mdW5jdGlvbiBmcm9tQXJyYXlCdWZmZXIgKG9iaiwgYnl0ZU9mZnNldCwgbGVuZ3RoKSB7XG4gIGJ5dGVPZmZzZXQgPj4+PSAwXG5cbiAgdmFyIG1heExlbmd0aCA9IG9iai5ieXRlTGVuZ3RoIC0gYnl0ZU9mZnNldFxuXG4gIGlmIChtYXhMZW5ndGggPCAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCInb2Zmc2V0JyBpcyBvdXQgb2YgYm91bmRzXCIpXG4gIH1cblxuICBpZiAobGVuZ3RoID09PSB1bmRlZmluZWQpIHtcbiAgICBsZW5ndGggPSBtYXhMZW5ndGhcbiAgfSBlbHNlIHtcbiAgICBsZW5ndGggPj4+PSAwXG5cbiAgICBpZiAobGVuZ3RoID4gbWF4TGVuZ3RoKSB7XG4gICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIidsZW5ndGgnIGlzIG91dCBvZiBib3VuZHNcIilcbiAgICB9XG4gIH1cblxuICByZXR1cm4gaXNNb2Rlcm5cbiAgICA/IEJ1ZmZlci5mcm9tKG9iai5zbGljZShieXRlT2Zmc2V0LCBieXRlT2Zmc2V0ICsgbGVuZ3RoKSlcbiAgICA6IG5ldyBCdWZmZXIobmV3IFVpbnQ4QXJyYXkob2JqLnNsaWNlKGJ5dGVPZmZzZXQsIGJ5dGVPZmZzZXQgKyBsZW5ndGgpKSlcbn1cblxuZnVuY3Rpb24gZnJvbVN0cmluZyAoc3RyaW5nLCBlbmNvZGluZykge1xuICBpZiAodHlwZW9mIGVuY29kaW5nICE9PSAnc3RyaW5nJyB8fCBlbmNvZGluZyA9PT0gJycpIHtcbiAgICBlbmNvZGluZyA9ICd1dGY4J1xuICB9XG5cbiAgaWYgKCFCdWZmZXIuaXNFbmNvZGluZyhlbmNvZGluZykpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImVuY29kaW5nXCIgbXVzdCBiZSBhIHZhbGlkIHN0cmluZyBlbmNvZGluZycpXG4gIH1cblxuICByZXR1cm4gaXNNb2Rlcm5cbiAgICA/IEJ1ZmZlci5mcm9tKHN0cmluZywgZW5jb2RpbmcpXG4gICAgOiBuZXcgQnVmZmVyKHN0cmluZywgZW5jb2RpbmcpXG59XG5cbmZ1bmN0aW9uIGJ1ZmZlckZyb20gKHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcInZhbHVlXCIgYXJndW1lbnQgbXVzdCBub3QgYmUgYSBudW1iZXInKVxuICB9XG5cbiAgaWYgKGlzQXJyYXlCdWZmZXIodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZyb21BcnJheUJ1ZmZlcih2YWx1ZSwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKVxuICB9XG5cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gZnJvbVN0cmluZyh2YWx1ZSwgZW5jb2RpbmdPck9mZnNldClcbiAgfVxuXG4gIHJldHVybiBpc01vZGVyblxuICAgID8gQnVmZmVyLmZyb20odmFsdWUpXG4gICAgOiBuZXcgQnVmZmVyKHZhbHVlKVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJ1ZmZlckZyb21cbiIsICJ2YXIgdW5kZWZpbmVkID0gKHZvaWQgMCk7IC8vIFBhcmFub2lhXG5cbi8vIEJleW9uZCB0aGlzIHZhbHVlLCBpbmRleCBnZXR0ZXJzL3NldHRlcnMgKGkuZS4gYXJyYXlbMF0sIGFycmF5WzFdKSBhcmUgc28gc2xvdyB0b1xuLy8gY3JlYXRlLCBhbmQgY29uc3VtZSBzbyBtdWNoIG1lbW9yeSwgdGhhdCB0aGUgYnJvd3NlciBhcHBlYXJzIGZyb3plbi5cbnZhciBNQVhfQVJSQVlfTEVOR1RIID0gMWU1O1xuXG4vLyBBcHByb3hpbWF0aW9ucyBvZiBpbnRlcm5hbCBFQ01BU2NyaXB0IGNvbnZlcnNpb24gZnVuY3Rpb25zXG52YXIgRUNNQVNjcmlwdCA9IChmdW5jdGlvbigpIHtcbiAgLy8gU3Rhc2ggYSBjb3B5IGluIGNhc2Ugb3RoZXIgc2NyaXB0cyBtb2RpZnkgdGhlc2VcbiAgdmFyIG9wdHMgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLFxuICAgICAgb3Bob3AgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuXG4gIHJldHVybiB7XG4gICAgLy8gQ2xhc3MgcmV0dXJucyBpbnRlcm5hbCBbW0NsYXNzXV0gcHJvcGVydHksIHVzZWQgdG8gYXZvaWQgY3Jvc3MtZnJhbWUgaW5zdGFuY2VvZiBpc3N1ZXM6XG4gICAgQ2xhc3M6IGZ1bmN0aW9uKHYpIHsgcmV0dXJuIG9wdHMuY2FsbCh2KS5yZXBsYWNlKC9eXFxbb2JqZWN0ICp8XFxdJC9nLCAnJyk7IH0sXG4gICAgSGFzUHJvcGVydHk6IGZ1bmN0aW9uKG8sIHApIHsgcmV0dXJuIHAgaW4gbzsgfSxcbiAgICBIYXNPd25Qcm9wZXJ0eTogZnVuY3Rpb24obywgcCkgeyByZXR1cm4gb3Bob3AuY2FsbChvLCBwKTsgfSxcbiAgICBJc0NhbGxhYmxlOiBmdW5jdGlvbihvKSB7IHJldHVybiB0eXBlb2YgbyA9PT0gJ2Z1bmN0aW9uJzsgfSxcbiAgICBUb0ludDMyOiBmdW5jdGlvbih2KSB7IHJldHVybiB2ID4+IDA7IH0sXG4gICAgVG9VaW50MzI6IGZ1bmN0aW9uKHYpIHsgcmV0dXJuIHYgPj4+IDA7IH1cbiAgfTtcbn0oKSk7XG5cbi8vIFNuYXBzaG90IGludHJpbnNpY3NcbnZhciBMTjIgPSBNYXRoLkxOMixcbiAgICBhYnMgPSBNYXRoLmFicyxcbiAgICBmbG9vciA9IE1hdGguZmxvb3IsXG4gICAgbG9nID0gTWF0aC5sb2csXG4gICAgbWluID0gTWF0aC5taW4sXG4gICAgcG93ID0gTWF0aC5wb3csXG4gICAgcm91bmQgPSBNYXRoLnJvdW5kO1xuXG4vLyBFUzU6IGxvY2sgZG93biBvYmplY3QgcHJvcGVydGllc1xuZnVuY3Rpb24gY29uZmlndXJlUHJvcGVydGllcyhvYmopIHtcbiAgaWYgKGdldE93blByb3BOYW1lcyAmJiBkZWZpbmVQcm9wKSB7XG4gICAgdmFyIHByb3BzID0gZ2V0T3duUHJvcE5hbWVzKG9iaiksIGk7XG4gICAgZm9yIChpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBkZWZpbmVQcm9wKG9iaiwgcHJvcHNbaV0sIHtcbiAgICAgICAgdmFsdWU6IG9ialtwcm9wc1tpXV0sXG4gICAgICAgIHdyaXRhYmxlOiBmYWxzZSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2VcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufVxuXG4vLyBlbXVsYXRlIEVTNSBnZXR0ZXIvc2V0dGVyIEFQSSB1c2luZyBsZWdhY3kgQVBJc1xuLy8gaHR0cDovL2Jsb2dzLm1zZG4uY29tL2IvaWUvYXJjaGl2ZS8yMDEwLzA5LzA3L3RyYW5zaXRpb25pbmctZXhpc3RpbmctY29kZS10by10aGUtZXM1LWdldHRlci1zZXR0ZXItYXBpcy5hc3B4XG4vLyAoc2Vjb25kIGNsYXVzZSB0ZXN0cyBmb3IgT2JqZWN0LmRlZmluZVByb3BlcnR5KCkgaW4gSUU8OSB0aGF0IG9ubHkgc3VwcG9ydHMgZXh0ZW5kaW5nIERPTSBwcm90b3R5cGVzLCBidXRcbi8vIG5vdGUgdGhhdCBJRTw5IGRvZXMgbm90IHN1cHBvcnQgX19kZWZpbmVHZXR0ZXJfXyBvciBfX2RlZmluZVNldHRlcl9fIHNvIGl0IGp1c3QgcmVuZGVycyB0aGUgbWV0aG9kIGhhcm1sZXNzKVxudmFyIGRlZmluZVByb3BcbmlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkgJiYgKGZ1bmN0aW9uKCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCAneCcsIHt9KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9KSgpKSB7XG4gIGRlZmluZVByb3AgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG59IGVsc2Uge1xuICBkZWZpbmVQcm9wID0gZnVuY3Rpb24obywgcCwgZGVzYykge1xuICAgIGlmICghbyA9PT0gT2JqZWN0KG8pKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiT2JqZWN0LmRlZmluZVByb3BlcnR5IGNhbGxlZCBvbiBub24tb2JqZWN0XCIpO1xuICAgIGlmIChFQ01BU2NyaXB0Lkhhc1Byb3BlcnR5KGRlc2MsICdnZXQnKSAmJiBPYmplY3QucHJvdG90eXBlLl9fZGVmaW5lR2V0dGVyX18pIHsgT2JqZWN0LnByb3RvdHlwZS5fX2RlZmluZUdldHRlcl9fLmNhbGwobywgcCwgZGVzYy5nZXQpOyB9XG4gICAgaWYgKEVDTUFTY3JpcHQuSGFzUHJvcGVydHkoZGVzYywgJ3NldCcpICYmIE9iamVjdC5wcm90b3R5cGUuX19kZWZpbmVTZXR0ZXJfXykgeyBPYmplY3QucHJvdG90eXBlLl9fZGVmaW5lU2V0dGVyX18uY2FsbChvLCBwLCBkZXNjLnNldCk7IH1cbiAgICBpZiAoRUNNQVNjcmlwdC5IYXNQcm9wZXJ0eShkZXNjLCAndmFsdWUnKSkgeyBvW3BdID0gZGVzYy52YWx1ZTsgfVxuICAgIHJldHVybiBvO1xuICB9O1xufVxuXG52YXIgZ2V0T3duUHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMgfHwgZnVuY3Rpb24gKG8pIHtcbiAgaWYgKG8gIT09IE9iamVjdChvKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzIGNhbGxlZCBvbiBub24tb2JqZWN0XCIpO1xuICB2YXIgcHJvcHMgPSBbXSwgcDtcbiAgZm9yIChwIGluIG8pIHtcbiAgICBpZiAoRUNNQVNjcmlwdC5IYXNPd25Qcm9wZXJ0eShvLCBwKSkge1xuICAgICAgcHJvcHMucHVzaChwKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHByb3BzO1xufTtcblxuLy8gRVM1OiBNYWtlIG9ialtpbmRleF0gYW4gYWxpYXMgZm9yIG9iai5fZ2V0dGVyKGluZGV4KS9vYmouX3NldHRlcihpbmRleCwgdmFsdWUpXG4vLyBmb3IgaW5kZXggaW4gMCAuLi4gb2JqLmxlbmd0aFxuZnVuY3Rpb24gbWFrZUFycmF5QWNjZXNzb3JzKG9iaikge1xuICBpZiAoIWRlZmluZVByb3ApIHsgcmV0dXJuOyB9XG5cbiAgaWYgKG9iai5sZW5ndGggPiBNQVhfQVJSQVlfTEVOR1RIKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkFycmF5IHRvbyBsYXJnZSBmb3IgcG9seWZpbGxcIik7XG5cbiAgZnVuY3Rpb24gbWFrZUFycmF5QWNjZXNzb3IoaW5kZXgpIHtcbiAgICBkZWZpbmVQcm9wKG9iaiwgaW5kZXgsIHtcbiAgICAgICdnZXQnOiBmdW5jdGlvbigpIHsgcmV0dXJuIG9iai5fZ2V0dGVyKGluZGV4KTsgfSxcbiAgICAgICdzZXQnOiBmdW5jdGlvbih2KSB7IG9iai5fc2V0dGVyKGluZGV4LCB2KTsgfSxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IGZhbHNlXG4gICAgfSk7XG4gIH1cblxuICB2YXIgaTtcbiAgZm9yIChpID0gMDsgaSA8IG9iai5sZW5ndGg7IGkgKz0gMSkge1xuICAgIG1ha2VBcnJheUFjY2Vzc29yKGkpO1xuICB9XG59XG5cbi8vIEludGVybmFsIGNvbnZlcnNpb24gZnVuY3Rpb25zOlxuLy8gICAgcGFjazxUeXBlPigpICAgLSB0YWtlIGEgbnVtYmVyIChpbnRlcnByZXRlZCBhcyBUeXBlKSwgb3V0cHV0IGEgYnl0ZSBhcnJheVxuLy8gICAgdW5wYWNrPFR5cGU+KCkgLSB0YWtlIGEgYnl0ZSBhcnJheSwgb3V0cHV0IGEgVHlwZS1saWtlIG51bWJlclxuXG5mdW5jdGlvbiBhc19zaWduZWQodmFsdWUsIGJpdHMpIHsgdmFyIHMgPSAzMiAtIGJpdHM7IHJldHVybiAodmFsdWUgPDwgcykgPj4gczsgfVxuZnVuY3Rpb24gYXNfdW5zaWduZWQodmFsdWUsIGJpdHMpIHsgdmFyIHMgPSAzMiAtIGJpdHM7IHJldHVybiAodmFsdWUgPDwgcykgPj4+IHM7IH1cblxuZnVuY3Rpb24gcGFja0k4KG4pIHsgcmV0dXJuIFtuICYgMHhmZl07IH1cbmZ1bmN0aW9uIHVucGFja0k4KGJ5dGVzKSB7IHJldHVybiBhc19zaWduZWQoYnl0ZXNbMF0sIDgpOyB9XG5cbmZ1bmN0aW9uIHBhY2tVOChuKSB7IHJldHVybiBbbiAmIDB4ZmZdOyB9XG5mdW5jdGlvbiB1bnBhY2tVOChieXRlcykgeyByZXR1cm4gYXNfdW5zaWduZWQoYnl0ZXNbMF0sIDgpOyB9XG5cbmZ1bmN0aW9uIHBhY2tVOENsYW1wZWQobikgeyBuID0gcm91bmQoTnVtYmVyKG4pKTsgcmV0dXJuIFtuIDwgMCA/IDAgOiBuID4gMHhmZiA/IDB4ZmYgOiBuICYgMHhmZl07IH1cblxuZnVuY3Rpb24gcGFja0kxNihuKSB7IHJldHVybiBbKG4gPj4gOCkgJiAweGZmLCBuICYgMHhmZl07IH1cbmZ1bmN0aW9uIHVucGFja0kxNihieXRlcykgeyByZXR1cm4gYXNfc2lnbmVkKGJ5dGVzWzBdIDw8IDggfCBieXRlc1sxXSwgMTYpOyB9XG5cbmZ1bmN0aW9uIHBhY2tVMTYobikgeyByZXR1cm4gWyhuID4+IDgpICYgMHhmZiwgbiAmIDB4ZmZdOyB9XG5mdW5jdGlvbiB1bnBhY2tVMTYoYnl0ZXMpIHsgcmV0dXJuIGFzX3Vuc2lnbmVkKGJ5dGVzWzBdIDw8IDggfCBieXRlc1sxXSwgMTYpOyB9XG5cbmZ1bmN0aW9uIHBhY2tJMzIobikgeyByZXR1cm4gWyhuID4+IDI0KSAmIDB4ZmYsIChuID4+IDE2KSAmIDB4ZmYsIChuID4+IDgpICYgMHhmZiwgbiAmIDB4ZmZdOyB9XG5mdW5jdGlvbiB1bnBhY2tJMzIoYnl0ZXMpIHsgcmV0dXJuIGFzX3NpZ25lZChieXRlc1swXSA8PCAyNCB8IGJ5dGVzWzFdIDw8IDE2IHwgYnl0ZXNbMl0gPDwgOCB8IGJ5dGVzWzNdLCAzMik7IH1cblxuZnVuY3Rpb24gcGFja1UzMihuKSB7IHJldHVybiBbKG4gPj4gMjQpICYgMHhmZiwgKG4gPj4gMTYpICYgMHhmZiwgKG4gPj4gOCkgJiAweGZmLCBuICYgMHhmZl07IH1cbmZ1bmN0aW9uIHVucGFja1UzMihieXRlcykgeyByZXR1cm4gYXNfdW5zaWduZWQoYnl0ZXNbMF0gPDwgMjQgfCBieXRlc1sxXSA8PCAxNiB8IGJ5dGVzWzJdIDw8IDggfCBieXRlc1szXSwgMzIpOyB9XG5cbmZ1bmN0aW9uIHBhY2tJRUVFNzU0KHYsIGViaXRzLCBmYml0cykge1xuXG4gIHZhciBiaWFzID0gKDEgPDwgKGViaXRzIC0gMSkpIC0gMSxcbiAgICAgIHMsIGUsIGYsIGxuLFxuICAgICAgaSwgYml0cywgc3RyLCBieXRlcztcblxuICBmdW5jdGlvbiByb3VuZFRvRXZlbihuKSB7XG4gICAgdmFyIHcgPSBmbG9vcihuKSwgZiA9IG4gLSB3O1xuICAgIGlmIChmIDwgMC41KVxuICAgICAgcmV0dXJuIHc7XG4gICAgaWYgKGYgPiAwLjUpXG4gICAgICByZXR1cm4gdyArIDE7XG4gICAgcmV0dXJuIHcgJSAyID8gdyArIDEgOiB3O1xuICB9XG5cbiAgLy8gQ29tcHV0ZSBzaWduLCBleHBvbmVudCwgZnJhY3Rpb25cbiAgaWYgKHYgIT09IHYpIHtcbiAgICAvLyBOYU5cbiAgICAvLyBodHRwOi8vZGV2LnczLm9yZy8yMDA2L3dlYmFwaS9XZWJJREwvI2VzLXR5cGUtbWFwcGluZ1xuICAgIGUgPSAoMSA8PCBlYml0cykgLSAxOyBmID0gcG93KDIsIGZiaXRzIC0gMSk7IHMgPSAwO1xuICB9IGVsc2UgaWYgKHYgPT09IEluZmluaXR5IHx8IHYgPT09IC1JbmZpbml0eSkge1xuICAgIGUgPSAoMSA8PCBlYml0cykgLSAxOyBmID0gMDsgcyA9ICh2IDwgMCkgPyAxIDogMDtcbiAgfSBlbHNlIGlmICh2ID09PSAwKSB7XG4gICAgZSA9IDA7IGYgPSAwOyBzID0gKDEgLyB2ID09PSAtSW5maW5pdHkpID8gMSA6IDA7XG4gIH0gZWxzZSB7XG4gICAgcyA9IHYgPCAwO1xuICAgIHYgPSBhYnModik7XG5cbiAgICBpZiAodiA+PSBwb3coMiwgMSAtIGJpYXMpKSB7XG4gICAgICBlID0gbWluKGZsb29yKGxvZyh2KSAvIExOMiksIDEwMjMpO1xuICAgICAgZiA9IHJvdW5kVG9FdmVuKHYgLyBwb3coMiwgZSkgKiBwb3coMiwgZmJpdHMpKTtcbiAgICAgIGlmIChmIC8gcG93KDIsIGZiaXRzKSA+PSAyKSB7XG4gICAgICAgIGUgPSBlICsgMTtcbiAgICAgICAgZiA9IDE7XG4gICAgICB9XG4gICAgICBpZiAoZSA+IGJpYXMpIHtcbiAgICAgICAgLy8gT3ZlcmZsb3dcbiAgICAgICAgZSA9ICgxIDw8IGViaXRzKSAtIDE7XG4gICAgICAgIGYgPSAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gTm9ybWFsaXplZFxuICAgICAgICBlID0gZSArIGJpYXM7XG4gICAgICAgIGYgPSBmIC0gcG93KDIsIGZiaXRzKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gRGVub3JtYWxpemVkXG4gICAgICBlID0gMDtcbiAgICAgIGYgPSByb3VuZFRvRXZlbih2IC8gcG93KDIsIDEgLSBiaWFzIC0gZmJpdHMpKTtcbiAgICB9XG4gIH1cblxuICAvLyBQYWNrIHNpZ24sIGV4cG9uZW50LCBmcmFjdGlvblxuICBiaXRzID0gW107XG4gIGZvciAoaSA9IGZiaXRzOyBpOyBpIC09IDEpIHsgYml0cy5wdXNoKGYgJSAyID8gMSA6IDApOyBmID0gZmxvb3IoZiAvIDIpOyB9XG4gIGZvciAoaSA9IGViaXRzOyBpOyBpIC09IDEpIHsgYml0cy5wdXNoKGUgJSAyID8gMSA6IDApOyBlID0gZmxvb3IoZSAvIDIpOyB9XG4gIGJpdHMucHVzaChzID8gMSA6IDApO1xuICBiaXRzLnJldmVyc2UoKTtcbiAgc3RyID0gYml0cy5qb2luKCcnKTtcblxuICAvLyBCaXRzIHRvIGJ5dGVzXG4gIGJ5dGVzID0gW107XG4gIHdoaWxlIChzdHIubGVuZ3RoKSB7XG4gICAgYnl0ZXMucHVzaChwYXJzZUludChzdHIuc3Vic3RyaW5nKDAsIDgpLCAyKSk7XG4gICAgc3RyID0gc3RyLnN1YnN0cmluZyg4KTtcbiAgfVxuICByZXR1cm4gYnl0ZXM7XG59XG5cbmZ1bmN0aW9uIHVucGFja0lFRUU3NTQoYnl0ZXMsIGViaXRzLCBmYml0cykge1xuXG4gIC8vIEJ5dGVzIHRvIGJpdHNcbiAgdmFyIGJpdHMgPSBbXSwgaSwgaiwgYiwgc3RyLFxuICAgICAgYmlhcywgcywgZSwgZjtcblxuICBmb3IgKGkgPSBieXRlcy5sZW5ndGg7IGk7IGkgLT0gMSkge1xuICAgIGIgPSBieXRlc1tpIC0gMV07XG4gICAgZm9yIChqID0gODsgajsgaiAtPSAxKSB7XG4gICAgICBiaXRzLnB1c2goYiAlIDIgPyAxIDogMCk7IGIgPSBiID4+IDE7XG4gICAgfVxuICB9XG4gIGJpdHMucmV2ZXJzZSgpO1xuICBzdHIgPSBiaXRzLmpvaW4oJycpO1xuXG4gIC8vIFVucGFjayBzaWduLCBleHBvbmVudCwgZnJhY3Rpb25cbiAgYmlhcyA9ICgxIDw8IChlYml0cyAtIDEpKSAtIDE7XG4gIHMgPSBwYXJzZUludChzdHIuc3Vic3RyaW5nKDAsIDEpLCAyKSA/IC0xIDogMTtcbiAgZSA9IHBhcnNlSW50KHN0ci5zdWJzdHJpbmcoMSwgMSArIGViaXRzKSwgMik7XG4gIGYgPSBwYXJzZUludChzdHIuc3Vic3RyaW5nKDEgKyBlYml0cyksIDIpO1xuXG4gIC8vIFByb2R1Y2UgbnVtYmVyXG4gIGlmIChlID09PSAoMSA8PCBlYml0cykgLSAxKSB7XG4gICAgcmV0dXJuIGYgIT09IDAgPyBOYU4gOiBzICogSW5maW5pdHk7XG4gIH0gZWxzZSBpZiAoZSA+IDApIHtcbiAgICAvLyBOb3JtYWxpemVkXG4gICAgcmV0dXJuIHMgKiBwb3coMiwgZSAtIGJpYXMpICogKDEgKyBmIC8gcG93KDIsIGZiaXRzKSk7XG4gIH0gZWxzZSBpZiAoZiAhPT0gMCkge1xuICAgIC8vIERlbm9ybWFsaXplZFxuICAgIHJldHVybiBzICogcG93KDIsIC0oYmlhcyAtIDEpKSAqIChmIC8gcG93KDIsIGZiaXRzKSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHMgPCAwID8gLTAgOiAwO1xuICB9XG59XG5cbmZ1bmN0aW9uIHVucGFja0Y2NChiKSB7IHJldHVybiB1bnBhY2tJRUVFNzU0KGIsIDExLCA1Mik7IH1cbmZ1bmN0aW9uIHBhY2tGNjQodikgeyByZXR1cm4gcGFja0lFRUU3NTQodiwgMTEsIDUyKTsgfVxuZnVuY3Rpb24gdW5wYWNrRjMyKGIpIHsgcmV0dXJuIHVucGFja0lFRUU3NTQoYiwgOCwgMjMpOyB9XG5mdW5jdGlvbiBwYWNrRjMyKHYpIHsgcmV0dXJuIHBhY2tJRUVFNzU0KHYsIDgsIDIzKTsgfVxuXG5cbi8vXG4vLyAzIFRoZSBBcnJheUJ1ZmZlciBUeXBlXG4vL1xuXG4oZnVuY3Rpb24oKSB7XG5cbiAgLyoqIEBjb25zdHJ1Y3RvciAqL1xuICB2YXIgQXJyYXlCdWZmZXIgPSBmdW5jdGlvbiBBcnJheUJ1ZmZlcihsZW5ndGgpIHtcbiAgICBsZW5ndGggPSBFQ01BU2NyaXB0LlRvSW50MzIobGVuZ3RoKTtcbiAgICBpZiAobGVuZ3RoIDwgMCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0FycmF5QnVmZmVyIHNpemUgaXMgbm90IGEgc21hbGwgZW5vdWdoIHBvc2l0aXZlIGludGVnZXInKTtcblxuICAgIHRoaXMuYnl0ZUxlbmd0aCA9IGxlbmd0aDtcbiAgICB0aGlzLl9ieXRlcyA9IFtdO1xuICAgIHRoaXMuX2J5dGVzLmxlbmd0aCA9IGxlbmd0aDtcblxuICAgIHZhciBpO1xuICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLmJ5dGVMZW5ndGg7IGkgKz0gMSkge1xuICAgICAgdGhpcy5fYnl0ZXNbaV0gPSAwO1xuICAgIH1cblxuICAgIGNvbmZpZ3VyZVByb3BlcnRpZXModGhpcyk7XG4gIH07XG5cbiAgZXhwb3J0cy5BcnJheUJ1ZmZlciA9IGV4cG9ydHMuQXJyYXlCdWZmZXIgfHwgQXJyYXlCdWZmZXI7XG5cbiAgLy9cbiAgLy8gNCBUaGUgQXJyYXlCdWZmZXJWaWV3IFR5cGVcbiAgLy9cblxuICAvLyBOT1RFOiB0aGlzIGNvbnN0cnVjdG9yIGlzIG5vdCBleHBvcnRlZFxuICAvKiogQGNvbnN0cnVjdG9yICovXG4gIHZhciBBcnJheUJ1ZmZlclZpZXcgPSBmdW5jdGlvbiBBcnJheUJ1ZmZlclZpZXcoKSB7XG4gICAgLy90aGlzLmJ1ZmZlciA9IG51bGw7XG4gICAgLy90aGlzLmJ5dGVPZmZzZXQgPSAwO1xuICAgIC8vdGhpcy5ieXRlTGVuZ3RoID0gMDtcbiAgfTtcblxuICAvL1xuICAvLyA1IFRoZSBUeXBlZCBBcnJheSBWaWV3IFR5cGVzXG4gIC8vXG5cbiAgZnVuY3Rpb24gbWFrZUNvbnN0cnVjdG9yKGJ5dGVzUGVyRWxlbWVudCwgcGFjaywgdW5wYWNrKSB7XG4gICAgLy8gRWFjaCBUeXBlZEFycmF5IHR5cGUgcmVxdWlyZXMgYSBkaXN0aW5jdCBjb25zdHJ1Y3RvciBpbnN0YW5jZSB3aXRoXG4gICAgLy8gaWRlbnRpY2FsIGxvZ2ljLCB3aGljaCB0aGlzIHByb2R1Y2VzLlxuXG4gICAgdmFyIGN0b3I7XG4gICAgY3RvciA9IGZ1bmN0aW9uKGJ1ZmZlciwgYnl0ZU9mZnNldCwgbGVuZ3RoKSB7XG4gICAgICB2YXIgYXJyYXksIHNlcXVlbmNlLCBpLCBzO1xuXG4gICAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGggfHwgdHlwZW9mIGFyZ3VtZW50c1swXSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgLy8gQ29uc3RydWN0b3IodW5zaWduZWQgbG9uZyBsZW5ndGgpXG4gICAgICAgIHRoaXMubGVuZ3RoID0gRUNNQVNjcmlwdC5Ub0ludDMyKGFyZ3VtZW50c1swXSk7XG4gICAgICAgIGlmIChsZW5ndGggPCAwKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQXJyYXlCdWZmZXJWaWV3IHNpemUgaXMgbm90IGEgc21hbGwgZW5vdWdoIHBvc2l0aXZlIGludGVnZXInKTtcblxuICAgICAgICB0aGlzLmJ5dGVMZW5ndGggPSB0aGlzLmxlbmd0aCAqIHRoaXMuQllURVNfUEVSX0VMRU1FTlQ7XG4gICAgICAgIHRoaXMuYnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKHRoaXMuYnl0ZUxlbmd0aCk7XG4gICAgICAgIHRoaXMuYnl0ZU9mZnNldCA9IDA7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBhcmd1bWVudHNbMF0gPT09ICdvYmplY3QnICYmIGFyZ3VtZW50c1swXS5jb25zdHJ1Y3RvciA9PT0gY3Rvcikge1xuICAgICAgICAvLyBDb25zdHJ1Y3RvcihUeXBlZEFycmF5IGFycmF5KVxuICAgICAgICBhcnJheSA9IGFyZ3VtZW50c1swXTtcblxuICAgICAgICB0aGlzLmxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgICAgICAgdGhpcy5ieXRlTGVuZ3RoID0gdGhpcy5sZW5ndGggKiB0aGlzLkJZVEVTX1BFUl9FTEVNRU5UO1xuICAgICAgICB0aGlzLmJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcih0aGlzLmJ5dGVMZW5ndGgpO1xuICAgICAgICB0aGlzLmJ5dGVPZmZzZXQgPSAwO1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgdGhpcy5fc2V0dGVyKGksIGFycmF5Ll9nZXR0ZXIoaSkpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBhcmd1bWVudHNbMF0gPT09ICdvYmplY3QnICYmXG4gICAgICAgICAgICAgICAgICEoYXJndW1lbnRzWzBdIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIgfHwgRUNNQVNjcmlwdC5DbGFzcyhhcmd1bWVudHNbMF0pID09PSAnQXJyYXlCdWZmZXInKSkge1xuICAgICAgICAvLyBDb25zdHJ1Y3RvcihzZXF1ZW5jZTx0eXBlPiBhcnJheSlcbiAgICAgICAgc2VxdWVuY2UgPSBhcmd1bWVudHNbMF07XG5cbiAgICAgICAgdGhpcy5sZW5ndGggPSBFQ01BU2NyaXB0LlRvVWludDMyKHNlcXVlbmNlLmxlbmd0aCk7XG4gICAgICAgIHRoaXMuYnl0ZUxlbmd0aCA9IHRoaXMubGVuZ3RoICogdGhpcy5CWVRFU19QRVJfRUxFTUVOVDtcbiAgICAgICAgdGhpcy5idWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIodGhpcy5ieXRlTGVuZ3RoKTtcbiAgICAgICAgdGhpcy5ieXRlT2Zmc2V0ID0gMDtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgIHMgPSBzZXF1ZW5jZVtpXTtcbiAgICAgICAgICB0aGlzLl9zZXR0ZXIoaSwgTnVtYmVyKHMpKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgYXJndW1lbnRzWzBdID09PSAnb2JqZWN0JyAmJlxuICAgICAgICAgICAgICAgICAoYXJndW1lbnRzWzBdIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIgfHwgRUNNQVNjcmlwdC5DbGFzcyhhcmd1bWVudHNbMF0pID09PSAnQXJyYXlCdWZmZXInKSkge1xuICAgICAgICAvLyBDb25zdHJ1Y3RvcihBcnJheUJ1ZmZlciBidWZmZXIsXG4gICAgICAgIC8vICAgICAgICAgICAgIG9wdGlvbmFsIHVuc2lnbmVkIGxvbmcgYnl0ZU9mZnNldCwgb3B0aW9uYWwgdW5zaWduZWQgbG9uZyBsZW5ndGgpXG4gICAgICAgIHRoaXMuYnVmZmVyID0gYnVmZmVyO1xuXG4gICAgICAgIHRoaXMuYnl0ZU9mZnNldCA9IEVDTUFTY3JpcHQuVG9VaW50MzIoYnl0ZU9mZnNldCk7XG4gICAgICAgIGlmICh0aGlzLmJ5dGVPZmZzZXQgPiB0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJieXRlT2Zmc2V0IG91dCBvZiByYW5nZVwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmJ5dGVPZmZzZXQgJSB0aGlzLkJZVEVTX1BFUl9FTEVNRU5UKSB7XG4gICAgICAgICAgLy8gVGhlIGdpdmVuIGJ5dGVPZmZzZXQgbXVzdCBiZSBhIG11bHRpcGxlIG9mIHRoZSBlbGVtZW50XG4gICAgICAgICAgLy8gc2l6ZSBvZiB0aGUgc3BlY2lmaWMgdHlwZSwgb3RoZXJ3aXNlIGFuIGV4Y2VwdGlvbiBpcyByYWlzZWQuXG4gICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJBcnJheUJ1ZmZlciBsZW5ndGggbWludXMgdGhlIGJ5dGVPZmZzZXQgaXMgbm90IGEgbXVsdGlwbGUgb2YgdGhlIGVsZW1lbnQgc2l6ZS5cIik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDMpIHtcbiAgICAgICAgICB0aGlzLmJ5dGVMZW5ndGggPSB0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoIC0gdGhpcy5ieXRlT2Zmc2V0O1xuXG4gICAgICAgICAgaWYgKHRoaXMuYnl0ZUxlbmd0aCAlIHRoaXMuQllURVNfUEVSX0VMRU1FTlQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwibGVuZ3RoIG9mIGJ1ZmZlciBtaW51cyBieXRlT2Zmc2V0IG5vdCBhIG11bHRpcGxlIG9mIHRoZSBlbGVtZW50IHNpemVcIik7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMubGVuZ3RoID0gdGhpcy5ieXRlTGVuZ3RoIC8gdGhpcy5CWVRFU19QRVJfRUxFTUVOVDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmxlbmd0aCA9IEVDTUFTY3JpcHQuVG9VaW50MzIobGVuZ3RoKTtcbiAgICAgICAgICB0aGlzLmJ5dGVMZW5ndGggPSB0aGlzLmxlbmd0aCAqIHRoaXMuQllURVNfUEVSX0VMRU1FTlQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoKHRoaXMuYnl0ZU9mZnNldCArIHRoaXMuYnl0ZUxlbmd0aCkgPiB0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJieXRlT2Zmc2V0IGFuZCBsZW5ndGggcmVmZXJlbmNlIGFuIGFyZWEgYmV5b25kIHRoZSBlbmQgb2YgdGhlIGJ1ZmZlclwiKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlVuZXhwZWN0ZWQgYXJndW1lbnQgdHlwZShzKVwiKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5jb25zdHJ1Y3RvciA9IGN0b3I7XG5cbiAgICAgIGNvbmZpZ3VyZVByb3BlcnRpZXModGhpcyk7XG4gICAgICBtYWtlQXJyYXlBY2Nlc3NvcnModGhpcyk7XG4gICAgfTtcblxuICAgIGN0b3IucHJvdG90eXBlID0gbmV3IEFycmF5QnVmZmVyVmlldygpO1xuICAgIGN0b3IucHJvdG90eXBlLkJZVEVTX1BFUl9FTEVNRU5UID0gYnl0ZXNQZXJFbGVtZW50O1xuICAgIGN0b3IucHJvdG90eXBlLl9wYWNrID0gcGFjaztcbiAgICBjdG9yLnByb3RvdHlwZS5fdW5wYWNrID0gdW5wYWNrO1xuICAgIGN0b3IuQllURVNfUEVSX0VMRU1FTlQgPSBieXRlc1BlckVsZW1lbnQ7XG5cbiAgICAvLyBnZXR0ZXIgdHlwZSAodW5zaWduZWQgbG9uZyBpbmRleCk7XG4gICAgY3Rvci5wcm90b3R5cGUuX2dldHRlciA9IGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDEpIHRocm93IG5ldyBTeW50YXhFcnJvcihcIk5vdCBlbm91Z2ggYXJndW1lbnRzXCIpO1xuXG4gICAgICBpbmRleCA9IEVDTUFTY3JpcHQuVG9VaW50MzIoaW5kZXgpO1xuICAgICAgaWYgKGluZGV4ID49IHRoaXMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIHZhciBieXRlcyA9IFtdLCBpLCBvO1xuICAgICAgZm9yIChpID0gMCwgbyA9IHRoaXMuYnl0ZU9mZnNldCArIGluZGV4ICogdGhpcy5CWVRFU19QRVJfRUxFTUVOVDtcbiAgICAgICAgICAgaSA8IHRoaXMuQllURVNfUEVSX0VMRU1FTlQ7XG4gICAgICAgICAgIGkgKz0gMSwgbyArPSAxKSB7XG4gICAgICAgIGJ5dGVzLnB1c2godGhpcy5idWZmZXIuX2J5dGVzW29dKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLl91bnBhY2soYnl0ZXMpO1xuICAgIH07XG5cbiAgICAvLyBOT05TVEFOREFSRDogY29udmVuaWVuY2UgYWxpYXMgZm9yIGdldHRlcjogdHlwZSBnZXQodW5zaWduZWQgbG9uZyBpbmRleCk7XG4gICAgY3Rvci5wcm90b3R5cGUuZ2V0ID0gY3Rvci5wcm90b3R5cGUuX2dldHRlcjtcblxuICAgIC8vIHNldHRlciB2b2lkICh1bnNpZ25lZCBsb25nIGluZGV4LCB0eXBlIHZhbHVlKTtcbiAgICBjdG9yLnByb3RvdHlwZS5fc2V0dGVyID0gZnVuY3Rpb24oaW5kZXgsIHZhbHVlKSB7XG4gICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDIpIHRocm93IG5ldyBTeW50YXhFcnJvcihcIk5vdCBlbm91Z2ggYXJndW1lbnRzXCIpO1xuXG4gICAgICBpbmRleCA9IEVDTUFTY3JpcHQuVG9VaW50MzIoaW5kZXgpO1xuICAgICAgaWYgKGluZGV4ID49IHRoaXMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIHZhciBieXRlcyA9IHRoaXMuX3BhY2sodmFsdWUpLCBpLCBvO1xuICAgICAgZm9yIChpID0gMCwgbyA9IHRoaXMuYnl0ZU9mZnNldCArIGluZGV4ICogdGhpcy5CWVRFU19QRVJfRUxFTUVOVDtcbiAgICAgICAgICAgaSA8IHRoaXMuQllURVNfUEVSX0VMRU1FTlQ7XG4gICAgICAgICAgIGkgKz0gMSwgbyArPSAxKSB7XG4gICAgICAgIHRoaXMuYnVmZmVyLl9ieXRlc1tvXSA9IGJ5dGVzW2ldO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyB2b2lkIHNldChUeXBlZEFycmF5IGFycmF5LCBvcHRpb25hbCB1bnNpZ25lZCBsb25nIG9mZnNldCk7XG4gICAgLy8gdm9pZCBzZXQoc2VxdWVuY2U8dHlwZT4gYXJyYXksIG9wdGlvbmFsIHVuc2lnbmVkIGxvbmcgb2Zmc2V0KTtcbiAgICBjdG9yLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbihpbmRleCwgdmFsdWUpIHtcbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMSkgdGhyb3cgbmV3IFN5bnRheEVycm9yKFwiTm90IGVub3VnaCBhcmd1bWVudHNcIik7XG4gICAgICB2YXIgYXJyYXksIHNlcXVlbmNlLCBvZmZzZXQsIGxlbixcbiAgICAgICAgICBpLCBzLCBkLFxuICAgICAgICAgIGJ5dGVPZmZzZXQsIGJ5dGVMZW5ndGgsIHRtcDtcblxuICAgICAgaWYgKHR5cGVvZiBhcmd1bWVudHNbMF0gPT09ICdvYmplY3QnICYmIGFyZ3VtZW50c1swXS5jb25zdHJ1Y3RvciA9PT0gdGhpcy5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAvLyB2b2lkIHNldChUeXBlZEFycmF5IGFycmF5LCBvcHRpb25hbCB1bnNpZ25lZCBsb25nIG9mZnNldCk7XG4gICAgICAgIGFycmF5ID0gYXJndW1lbnRzWzBdO1xuICAgICAgICBvZmZzZXQgPSBFQ01BU2NyaXB0LlRvVWludDMyKGFyZ3VtZW50c1sxXSk7XG5cbiAgICAgICAgaWYgKG9mZnNldCArIGFycmF5Lmxlbmd0aCA+IHRoaXMubGVuZ3RoKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJPZmZzZXQgcGx1cyBsZW5ndGggb2YgYXJyYXkgaXMgb3V0IG9mIHJhbmdlXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgYnl0ZU9mZnNldCA9IHRoaXMuYnl0ZU9mZnNldCArIG9mZnNldCAqIHRoaXMuQllURVNfUEVSX0VMRU1FTlQ7XG4gICAgICAgIGJ5dGVMZW5ndGggPSBhcnJheS5sZW5ndGggKiB0aGlzLkJZVEVTX1BFUl9FTEVNRU5UO1xuXG4gICAgICAgIGlmIChhcnJheS5idWZmZXIgPT09IHRoaXMuYnVmZmVyKSB7XG4gICAgICAgICAgdG1wID0gW107XG4gICAgICAgICAgZm9yIChpID0gMCwgcyA9IGFycmF5LmJ5dGVPZmZzZXQ7IGkgPCBieXRlTGVuZ3RoOyBpICs9IDEsIHMgKz0gMSkge1xuICAgICAgICAgICAgdG1wW2ldID0gYXJyYXkuYnVmZmVyLl9ieXRlc1tzXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZm9yIChpID0gMCwgZCA9IGJ5dGVPZmZzZXQ7IGkgPCBieXRlTGVuZ3RoOyBpICs9IDEsIGQgKz0gMSkge1xuICAgICAgICAgICAgdGhpcy5idWZmZXIuX2J5dGVzW2RdID0gdG1wW2ldO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBmb3IgKGkgPSAwLCBzID0gYXJyYXkuYnl0ZU9mZnNldCwgZCA9IGJ5dGVPZmZzZXQ7XG4gICAgICAgICAgICAgICBpIDwgYnl0ZUxlbmd0aDsgaSArPSAxLCBzICs9IDEsIGQgKz0gMSkge1xuICAgICAgICAgICAgdGhpcy5idWZmZXIuX2J5dGVzW2RdID0gYXJyYXkuYnVmZmVyLl9ieXRlc1tzXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGFyZ3VtZW50c1swXSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIGFyZ3VtZW50c1swXS5sZW5ndGggIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIC8vIHZvaWQgc2V0KHNlcXVlbmNlPHR5cGU+IGFycmF5LCBvcHRpb25hbCB1bnNpZ25lZCBsb25nIG9mZnNldCk7XG4gICAgICAgIHNlcXVlbmNlID0gYXJndW1lbnRzWzBdO1xuICAgICAgICBsZW4gPSBFQ01BU2NyaXB0LlRvVWludDMyKHNlcXVlbmNlLmxlbmd0aCk7XG4gICAgICAgIG9mZnNldCA9IEVDTUFTY3JpcHQuVG9VaW50MzIoYXJndW1lbnRzWzFdKTtcblxuICAgICAgICBpZiAob2Zmc2V0ICsgbGVuID4gdGhpcy5sZW5ndGgpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIk9mZnNldCBwbHVzIGxlbmd0aCBvZiBhcnJheSBpcyBvdXQgb2YgcmFuZ2VcIik7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpICs9IDEpIHtcbiAgICAgICAgICBzID0gc2VxdWVuY2VbaV07XG4gICAgICAgICAgdGhpcy5fc2V0dGVyKG9mZnNldCArIGksIE51bWJlcihzKSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJVbmV4cGVjdGVkIGFyZ3VtZW50IHR5cGUocylcIik7XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIFR5cGVkQXJyYXkgc3ViYXJyYXkobG9uZyBiZWdpbiwgb3B0aW9uYWwgbG9uZyBlbmQpO1xuICAgIGN0b3IucHJvdG90eXBlLnN1YmFycmF5ID0gZnVuY3Rpb24oc3RhcnQsIGVuZCkge1xuICAgICAgZnVuY3Rpb24gY2xhbXAodiwgbWluLCBtYXgpIHsgcmV0dXJuIHYgPCBtaW4gPyBtaW4gOiB2ID4gbWF4ID8gbWF4IDogdjsgfVxuXG4gICAgICBzdGFydCA9IEVDTUFTY3JpcHQuVG9JbnQzMihzdGFydCk7XG4gICAgICBlbmQgPSBFQ01BU2NyaXB0LlRvSW50MzIoZW5kKTtcblxuICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAxKSB7IHN0YXJ0ID0gMDsgfVxuICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyKSB7IGVuZCA9IHRoaXMubGVuZ3RoOyB9XG5cbiAgICAgIGlmIChzdGFydCA8IDApIHsgc3RhcnQgPSB0aGlzLmxlbmd0aCArIHN0YXJ0OyB9XG4gICAgICBpZiAoZW5kIDwgMCkgeyBlbmQgPSB0aGlzLmxlbmd0aCArIGVuZDsgfVxuXG4gICAgICBzdGFydCA9IGNsYW1wKHN0YXJ0LCAwLCB0aGlzLmxlbmd0aCk7XG4gICAgICBlbmQgPSBjbGFtcChlbmQsIDAsIHRoaXMubGVuZ3RoKTtcblxuICAgICAgdmFyIGxlbiA9IGVuZCAtIHN0YXJ0O1xuICAgICAgaWYgKGxlbiA8IDApIHtcbiAgICAgICAgbGVuID0gMDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKFxuICAgICAgICB0aGlzLmJ1ZmZlciwgdGhpcy5ieXRlT2Zmc2V0ICsgc3RhcnQgKiB0aGlzLkJZVEVTX1BFUl9FTEVNRU5ULCBsZW4pO1xuICAgIH07XG5cbiAgICByZXR1cm4gY3RvcjtcbiAgfVxuXG4gIHZhciBJbnQ4QXJyYXkgPSBtYWtlQ29uc3RydWN0b3IoMSwgcGFja0k4LCB1bnBhY2tJOCk7XG4gIHZhciBVaW50OEFycmF5ID0gbWFrZUNvbnN0cnVjdG9yKDEsIHBhY2tVOCwgdW5wYWNrVTgpO1xuICB2YXIgVWludDhDbGFtcGVkQXJyYXkgPSBtYWtlQ29uc3RydWN0b3IoMSwgcGFja1U4Q2xhbXBlZCwgdW5wYWNrVTgpO1xuICB2YXIgSW50MTZBcnJheSA9IG1ha2VDb25zdHJ1Y3RvcigyLCBwYWNrSTE2LCB1bnBhY2tJMTYpO1xuICB2YXIgVWludDE2QXJyYXkgPSBtYWtlQ29uc3RydWN0b3IoMiwgcGFja1UxNiwgdW5wYWNrVTE2KTtcbiAgdmFyIEludDMyQXJyYXkgPSBtYWtlQ29uc3RydWN0b3IoNCwgcGFja0kzMiwgdW5wYWNrSTMyKTtcbiAgdmFyIFVpbnQzMkFycmF5ID0gbWFrZUNvbnN0cnVjdG9yKDQsIHBhY2tVMzIsIHVucGFja1UzMik7XG4gIHZhciBGbG9hdDMyQXJyYXkgPSBtYWtlQ29uc3RydWN0b3IoNCwgcGFja0YzMiwgdW5wYWNrRjMyKTtcbiAgdmFyIEZsb2F0NjRBcnJheSA9IG1ha2VDb25zdHJ1Y3Rvcig4LCBwYWNrRjY0LCB1bnBhY2tGNjQpO1xuXG4gIGV4cG9ydHMuSW50OEFycmF5ID0gZXhwb3J0cy5JbnQ4QXJyYXkgfHwgSW50OEFycmF5O1xuICBleHBvcnRzLlVpbnQ4QXJyYXkgPSBleHBvcnRzLlVpbnQ4QXJyYXkgfHwgVWludDhBcnJheTtcbiAgZXhwb3J0cy5VaW50OENsYW1wZWRBcnJheSA9IGV4cG9ydHMuVWludDhDbGFtcGVkQXJyYXkgfHwgVWludDhDbGFtcGVkQXJyYXk7XG4gIGV4cG9ydHMuSW50MTZBcnJheSA9IGV4cG9ydHMuSW50MTZBcnJheSB8fCBJbnQxNkFycmF5O1xuICBleHBvcnRzLlVpbnQxNkFycmF5ID0gZXhwb3J0cy5VaW50MTZBcnJheSB8fCBVaW50MTZBcnJheTtcbiAgZXhwb3J0cy5JbnQzMkFycmF5ID0gZXhwb3J0cy5JbnQzMkFycmF5IHx8IEludDMyQXJyYXk7XG4gIGV4cG9ydHMuVWludDMyQXJyYXkgPSBleHBvcnRzLlVpbnQzMkFycmF5IHx8IFVpbnQzMkFycmF5O1xuICBleHBvcnRzLkZsb2F0MzJBcnJheSA9IGV4cG9ydHMuRmxvYXQzMkFycmF5IHx8IEZsb2F0MzJBcnJheTtcbiAgZXhwb3J0cy5GbG9hdDY0QXJyYXkgPSBleHBvcnRzLkZsb2F0NjRBcnJheSB8fCBGbG9hdDY0QXJyYXk7XG59KCkpO1xuXG4vL1xuLy8gNiBUaGUgRGF0YVZpZXcgVmlldyBUeXBlXG4vL1xuXG4oZnVuY3Rpb24oKSB7XG4gIGZ1bmN0aW9uIHIoYXJyYXksIGluZGV4KSB7XG4gICAgcmV0dXJuIEVDTUFTY3JpcHQuSXNDYWxsYWJsZShhcnJheS5nZXQpID8gYXJyYXkuZ2V0KGluZGV4KSA6IGFycmF5W2luZGV4XTtcbiAgfVxuXG4gIHZhciBJU19CSUdfRU5ESUFOID0gKGZ1bmN0aW9uKCkge1xuICAgIHZhciB1MTZhcnJheSA9IG5ldyhleHBvcnRzLlVpbnQxNkFycmF5KShbMHgxMjM0XSksXG4gICAgICAgIHU4YXJyYXkgPSBuZXcoZXhwb3J0cy5VaW50OEFycmF5KSh1MTZhcnJheS5idWZmZXIpO1xuICAgIHJldHVybiByKHU4YXJyYXksIDApID09PSAweDEyO1xuICB9KCkpO1xuXG4gIC8vIENvbnN0cnVjdG9yKEFycmF5QnVmZmVyIGJ1ZmZlcixcbiAgLy8gICAgICAgICAgICAgb3B0aW9uYWwgdW5zaWduZWQgbG9uZyBieXRlT2Zmc2V0LFxuICAvLyAgICAgICAgICAgICBvcHRpb25hbCB1bnNpZ25lZCBsb25nIGJ5dGVMZW5ndGgpXG4gIC8qKiBAY29uc3RydWN0b3IgKi9cbiAgdmFyIERhdGFWaWV3ID0gZnVuY3Rpb24gRGF0YVZpZXcoYnVmZmVyLCBieXRlT2Zmc2V0LCBieXRlTGVuZ3RoKSB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgIGJ1ZmZlciA9IG5ldyBleHBvcnRzLkFycmF5QnVmZmVyKDApO1xuICAgIH0gZWxzZSBpZiAoIShidWZmZXIgaW5zdGFuY2VvZiBleHBvcnRzLkFycmF5QnVmZmVyIHx8IEVDTUFTY3JpcHQuQ2xhc3MoYnVmZmVyKSA9PT0gJ0FycmF5QnVmZmVyJykpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJUeXBlRXJyb3JcIik7XG4gICAgfVxuXG4gICAgdGhpcy5idWZmZXIgPSBidWZmZXIgfHwgbmV3IGV4cG9ydHMuQXJyYXlCdWZmZXIoMCk7XG5cbiAgICB0aGlzLmJ5dGVPZmZzZXQgPSBFQ01BU2NyaXB0LlRvVWludDMyKGJ5dGVPZmZzZXQpO1xuICAgIGlmICh0aGlzLmJ5dGVPZmZzZXQgPiB0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKSB7XG4gICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcImJ5dGVPZmZzZXQgb3V0IG9mIHJhbmdlXCIpO1xuICAgIH1cblxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMykge1xuICAgICAgdGhpcy5ieXRlTGVuZ3RoID0gdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCAtIHRoaXMuYnl0ZU9mZnNldDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5ieXRlTGVuZ3RoID0gRUNNQVNjcmlwdC5Ub1VpbnQzMihieXRlTGVuZ3RoKTtcbiAgICB9XG5cbiAgICBpZiAoKHRoaXMuYnl0ZU9mZnNldCArIHRoaXMuYnl0ZUxlbmd0aCkgPiB0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKSB7XG4gICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcImJ5dGVPZmZzZXQgYW5kIGxlbmd0aCByZWZlcmVuY2UgYW4gYXJlYSBiZXlvbmQgdGhlIGVuZCBvZiB0aGUgYnVmZmVyXCIpO1xuICAgIH1cblxuICAgIGNvbmZpZ3VyZVByb3BlcnRpZXModGhpcyk7XG4gIH07XG5cbiAgZnVuY3Rpb24gbWFrZUdldHRlcihhcnJheVR5cGUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oYnl0ZU9mZnNldCwgbGl0dGxlRW5kaWFuKSB7XG5cbiAgICAgIGJ5dGVPZmZzZXQgPSBFQ01BU2NyaXB0LlRvVWludDMyKGJ5dGVPZmZzZXQpO1xuXG4gICAgICBpZiAoYnl0ZU9mZnNldCArIGFycmF5VHlwZS5CWVRFU19QRVJfRUxFTUVOVCA+IHRoaXMuYnl0ZUxlbmd0aCkge1xuICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkFycmF5IGluZGV4IG91dCBvZiByYW5nZVwiKTtcbiAgICAgIH1cbiAgICAgIGJ5dGVPZmZzZXQgKz0gdGhpcy5ieXRlT2Zmc2V0O1xuXG4gICAgICB2YXIgdWludDhBcnJheSA9IG5ldyBleHBvcnRzLlVpbnQ4QXJyYXkodGhpcy5idWZmZXIsIGJ5dGVPZmZzZXQsIGFycmF5VHlwZS5CWVRFU19QRVJfRUxFTUVOVCksXG4gICAgICAgICAgYnl0ZXMgPSBbXSwgaTtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBhcnJheVR5cGUuQllURVNfUEVSX0VMRU1FTlQ7IGkgKz0gMSkge1xuICAgICAgICBieXRlcy5wdXNoKHIodWludDhBcnJheSwgaSkpO1xuICAgICAgfVxuXG4gICAgICBpZiAoQm9vbGVhbihsaXR0bGVFbmRpYW4pID09PSBCb29sZWFuKElTX0JJR19FTkRJQU4pKSB7XG4gICAgICAgIGJ5dGVzLnJldmVyc2UoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHIobmV3IGFycmF5VHlwZShuZXcgZXhwb3J0cy5VaW50OEFycmF5KGJ5dGVzKS5idWZmZXIpLCAwKTtcbiAgICB9O1xuICB9XG5cbiAgRGF0YVZpZXcucHJvdG90eXBlLmdldFVpbnQ4ID0gbWFrZUdldHRlcihleHBvcnRzLlVpbnQ4QXJyYXkpO1xuICBEYXRhVmlldy5wcm90b3R5cGUuZ2V0SW50OCA9IG1ha2VHZXR0ZXIoZXhwb3J0cy5JbnQ4QXJyYXkpO1xuICBEYXRhVmlldy5wcm90b3R5cGUuZ2V0VWludDE2ID0gbWFrZUdldHRlcihleHBvcnRzLlVpbnQxNkFycmF5KTtcbiAgRGF0YVZpZXcucHJvdG90eXBlLmdldEludDE2ID0gbWFrZUdldHRlcihleHBvcnRzLkludDE2QXJyYXkpO1xuICBEYXRhVmlldy5wcm90b3R5cGUuZ2V0VWludDMyID0gbWFrZUdldHRlcihleHBvcnRzLlVpbnQzMkFycmF5KTtcbiAgRGF0YVZpZXcucHJvdG90eXBlLmdldEludDMyID0gbWFrZUdldHRlcihleHBvcnRzLkludDMyQXJyYXkpO1xuICBEYXRhVmlldy5wcm90b3R5cGUuZ2V0RmxvYXQzMiA9IG1ha2VHZXR0ZXIoZXhwb3J0cy5GbG9hdDMyQXJyYXkpO1xuICBEYXRhVmlldy5wcm90b3R5cGUuZ2V0RmxvYXQ2NCA9IG1ha2VHZXR0ZXIoZXhwb3J0cy5GbG9hdDY0QXJyYXkpO1xuXG4gIGZ1bmN0aW9uIG1ha2VTZXR0ZXIoYXJyYXlUeXBlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGJ5dGVPZmZzZXQsIHZhbHVlLCBsaXR0bGVFbmRpYW4pIHtcblxuICAgICAgYnl0ZU9mZnNldCA9IEVDTUFTY3JpcHQuVG9VaW50MzIoYnl0ZU9mZnNldCk7XG4gICAgICBpZiAoYnl0ZU9mZnNldCArIGFycmF5VHlwZS5CWVRFU19QRVJfRUxFTUVOVCA+IHRoaXMuYnl0ZUxlbmd0aCkge1xuICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkFycmF5IGluZGV4IG91dCBvZiByYW5nZVwiKTtcbiAgICAgIH1cblxuICAgICAgLy8gR2V0IGJ5dGVzXG4gICAgICB2YXIgdHlwZUFycmF5ID0gbmV3IGFycmF5VHlwZShbdmFsdWVdKSxcbiAgICAgICAgICBieXRlQXJyYXkgPSBuZXcgZXhwb3J0cy5VaW50OEFycmF5KHR5cGVBcnJheS5idWZmZXIpLFxuICAgICAgICAgIGJ5dGVzID0gW10sIGksIGJ5dGVWaWV3O1xuXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgYXJyYXlUeXBlLkJZVEVTX1BFUl9FTEVNRU5UOyBpICs9IDEpIHtcbiAgICAgICAgYnl0ZXMucHVzaChyKGJ5dGVBcnJheSwgaSkpO1xuICAgICAgfVxuXG4gICAgICAvLyBGbGlwIGlmIG5lY2Vzc2FyeVxuICAgICAgaWYgKEJvb2xlYW4obGl0dGxlRW5kaWFuKSA9PT0gQm9vbGVhbihJU19CSUdfRU5ESUFOKSkge1xuICAgICAgICBieXRlcy5yZXZlcnNlKCk7XG4gICAgICB9XG5cbiAgICAgIC8vIFdyaXRlIHRoZW1cbiAgICAgIGJ5dGVWaWV3ID0gbmV3IGV4cG9ydHMuVWludDhBcnJheSh0aGlzLmJ1ZmZlciwgYnl0ZU9mZnNldCwgYXJyYXlUeXBlLkJZVEVTX1BFUl9FTEVNRU5UKTtcbiAgICAgIGJ5dGVWaWV3LnNldChieXRlcyk7XG4gICAgfTtcbiAgfVxuXG4gIERhdGFWaWV3LnByb3RvdHlwZS5zZXRVaW50OCA9IG1ha2VTZXR0ZXIoZXhwb3J0cy5VaW50OEFycmF5KTtcbiAgRGF0YVZpZXcucHJvdG90eXBlLnNldEludDggPSBtYWtlU2V0dGVyKGV4cG9ydHMuSW50OEFycmF5KTtcbiAgRGF0YVZpZXcucHJvdG90eXBlLnNldFVpbnQxNiA9IG1ha2VTZXR0ZXIoZXhwb3J0cy5VaW50MTZBcnJheSk7XG4gIERhdGFWaWV3LnByb3RvdHlwZS5zZXRJbnQxNiA9IG1ha2VTZXR0ZXIoZXhwb3J0cy5JbnQxNkFycmF5KTtcbiAgRGF0YVZpZXcucHJvdG90eXBlLnNldFVpbnQzMiA9IG1ha2VTZXR0ZXIoZXhwb3J0cy5VaW50MzJBcnJheSk7XG4gIERhdGFWaWV3LnByb3RvdHlwZS5zZXRJbnQzMiA9IG1ha2VTZXR0ZXIoZXhwb3J0cy5JbnQzMkFycmF5KTtcbiAgRGF0YVZpZXcucHJvdG90eXBlLnNldEZsb2F0MzIgPSBtYWtlU2V0dGVyKGV4cG9ydHMuRmxvYXQzMkFycmF5KTtcbiAgRGF0YVZpZXcucHJvdG90eXBlLnNldEZsb2F0NjQgPSBtYWtlU2V0dGVyKGV4cG9ydHMuRmxvYXQ2NEFycmF5KTtcblxuICBleHBvcnRzLkRhdGFWaWV3ID0gZXhwb3J0cy5EYXRhVmlldyB8fCBEYXRhVmlldztcblxufSgpKTtcbiIsICJ2YXIgV3JpdGFibGUgPSByZXF1aXJlKCdyZWFkYWJsZS1zdHJlYW0nKS5Xcml0YWJsZVxudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKVxudmFyIGJ1ZmZlckZyb20gPSByZXF1aXJlKCdidWZmZXItZnJvbScpXG5cbmlmICh0eXBlb2YgVWludDhBcnJheSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgdmFyIFU4ID0gcmVxdWlyZSgndHlwZWRhcnJheScpLlVpbnQ4QXJyYXlcbn0gZWxzZSB7XG4gIHZhciBVOCA9IFVpbnQ4QXJyYXlcbn1cblxuZnVuY3Rpb24gQ29uY2F0U3RyZWFtKG9wdHMsIGNiKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBDb25jYXRTdHJlYW0pKSByZXR1cm4gbmV3IENvbmNhdFN0cmVhbShvcHRzLCBjYilcblxuICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjYiA9IG9wdHNcbiAgICBvcHRzID0ge31cbiAgfVxuICBpZiAoIW9wdHMpIG9wdHMgPSB7fVxuXG4gIHZhciBlbmNvZGluZyA9IG9wdHMuZW5jb2RpbmdcbiAgdmFyIHNob3VsZEluZmVyRW5jb2RpbmcgPSBmYWxzZVxuXG4gIGlmICghZW5jb2RpbmcpIHtcbiAgICBzaG91bGRJbmZlckVuY29kaW5nID0gdHJ1ZVxuICB9IGVsc2Uge1xuICAgIGVuY29kaW5nID0gIFN0cmluZyhlbmNvZGluZykudG9Mb3dlckNhc2UoKVxuICAgIGlmIChlbmNvZGluZyA9PT0gJ3U4JyB8fCBlbmNvZGluZyA9PT0gJ3VpbnQ4Jykge1xuICAgICAgZW5jb2RpbmcgPSAndWludDhhcnJheSdcbiAgICB9XG4gIH1cblxuICBXcml0YWJsZS5jYWxsKHRoaXMsIHsgb2JqZWN0TW9kZTogdHJ1ZSB9KVxuXG4gIHRoaXMuZW5jb2RpbmcgPSBlbmNvZGluZ1xuICB0aGlzLnNob3VsZEluZmVyRW5jb2RpbmcgPSBzaG91bGRJbmZlckVuY29kaW5nXG5cbiAgaWYgKGNiKSB0aGlzLm9uKCdmaW5pc2gnLCBmdW5jdGlvbiAoKSB7IGNiKHRoaXMuZ2V0Qm9keSgpKSB9KVxuICB0aGlzLmJvZHkgPSBbXVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IENvbmNhdFN0cmVhbVxuaW5oZXJpdHMoQ29uY2F0U3RyZWFtLCBXcml0YWJsZSlcblxuQ29uY2F0U3RyZWFtLnByb3RvdHlwZS5fd3JpdGUgPSBmdW5jdGlvbihjaHVuaywgZW5jLCBuZXh0KSB7XG4gIHRoaXMuYm9keS5wdXNoKGNodW5rKVxuICBuZXh0KClcbn1cblxuQ29uY2F0U3RyZWFtLnByb3RvdHlwZS5pbmZlckVuY29kaW5nID0gZnVuY3Rpb24gKGJ1ZmYpIHtcbiAgdmFyIGZpcnN0QnVmZmVyID0gYnVmZiA9PT0gdW5kZWZpbmVkID8gdGhpcy5ib2R5WzBdIDogYnVmZjtcbiAgaWYgKEJ1ZmZlci5pc0J1ZmZlcihmaXJzdEJ1ZmZlcikpIHJldHVybiAnYnVmZmVyJ1xuICBpZiAodHlwZW9mIFVpbnQ4QXJyYXkgIT09ICd1bmRlZmluZWQnICYmIGZpcnN0QnVmZmVyIGluc3RhbmNlb2YgVWludDhBcnJheSkgcmV0dXJuICd1aW50OGFycmF5J1xuICBpZiAoQXJyYXkuaXNBcnJheShmaXJzdEJ1ZmZlcikpIHJldHVybiAnYXJyYXknXG4gIGlmICh0eXBlb2YgZmlyc3RCdWZmZXIgPT09ICdzdHJpbmcnKSByZXR1cm4gJ3N0cmluZydcbiAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChmaXJzdEJ1ZmZlcikgPT09IFwiW29iamVjdCBPYmplY3RdXCIpIHJldHVybiAnb2JqZWN0J1xuICByZXR1cm4gJ2J1ZmZlcidcbn1cblxuQ29uY2F0U3RyZWFtLnByb3RvdHlwZS5nZXRCb2R5ID0gZnVuY3Rpb24gKCkge1xuICBpZiAoIXRoaXMuZW5jb2RpbmcgJiYgdGhpcy5ib2R5Lmxlbmd0aCA9PT0gMCkgcmV0dXJuIFtdXG4gIGlmICh0aGlzLnNob3VsZEluZmVyRW5jb2RpbmcpIHRoaXMuZW5jb2RpbmcgPSB0aGlzLmluZmVyRW5jb2RpbmcoKVxuICBpZiAodGhpcy5lbmNvZGluZyA9PT0gJ2FycmF5JykgcmV0dXJuIGFycmF5Q29uY2F0KHRoaXMuYm9keSlcbiAgaWYgKHRoaXMuZW5jb2RpbmcgPT09ICdzdHJpbmcnKSByZXR1cm4gc3RyaW5nQ29uY2F0KHRoaXMuYm9keSlcbiAgaWYgKHRoaXMuZW5jb2RpbmcgPT09ICdidWZmZXInKSByZXR1cm4gYnVmZmVyQ29uY2F0KHRoaXMuYm9keSlcbiAgaWYgKHRoaXMuZW5jb2RpbmcgPT09ICd1aW50OGFycmF5JykgcmV0dXJuIHU4Q29uY2F0KHRoaXMuYm9keSlcbiAgcmV0dXJuIHRoaXMuYm9keVxufVxuXG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gKGFycikge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGFycikgPT0gJ1tvYmplY3QgQXJyYXldJ1xufVxuXG5mdW5jdGlvbiBpc0FycmF5aXNoIChhcnIpIHtcbiAgcmV0dXJuIC9BcnJheVxcXSQvLnRlc3QoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGFycikpXG59XG5cbmZ1bmN0aW9uIGlzQnVmZmVyaXNoIChwKSB7XG4gIHJldHVybiB0eXBlb2YgcCA9PT0gJ3N0cmluZycgfHwgaXNBcnJheWlzaChwKSB8fCAocCAmJiB0eXBlb2YgcC5zdWJhcnJheSA9PT0gJ2Z1bmN0aW9uJylcbn1cblxuZnVuY3Rpb24gc3RyaW5nQ29uY2F0IChwYXJ0cykge1xuICB2YXIgc3RyaW5ncyA9IFtdXG4gIHZhciBuZWVkc1RvU3RyaW5nID0gZmFsc2VcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBwID0gcGFydHNbaV1cbiAgICBpZiAodHlwZW9mIHAgPT09ICdzdHJpbmcnKSB7XG4gICAgICBzdHJpbmdzLnB1c2gocClcbiAgICB9IGVsc2UgaWYgKEJ1ZmZlci5pc0J1ZmZlcihwKSkge1xuICAgICAgc3RyaW5ncy5wdXNoKHApXG4gICAgfSBlbHNlIGlmIChpc0J1ZmZlcmlzaChwKSkge1xuICAgICAgc3RyaW5ncy5wdXNoKGJ1ZmZlckZyb20ocCkpXG4gICAgfSBlbHNlIHtcbiAgICAgIHN0cmluZ3MucHVzaChidWZmZXJGcm9tKFN0cmluZyhwKSkpXG4gICAgfVxuICB9XG4gIGlmIChCdWZmZXIuaXNCdWZmZXIocGFydHNbMF0pKSB7XG4gICAgc3RyaW5ncyA9IEJ1ZmZlci5jb25jYXQoc3RyaW5ncylcbiAgICBzdHJpbmdzID0gc3RyaW5ncy50b1N0cmluZygndXRmOCcpXG4gIH0gZWxzZSB7XG4gICAgc3RyaW5ncyA9IHN0cmluZ3Muam9pbignJylcbiAgfVxuICByZXR1cm4gc3RyaW5nc1xufVxuXG5mdW5jdGlvbiBidWZmZXJDb25jYXQgKHBhcnRzKSB7XG4gIHZhciBidWZzID0gW11cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBwID0gcGFydHNbaV1cbiAgICBpZiAoQnVmZmVyLmlzQnVmZmVyKHApKSB7XG4gICAgICBidWZzLnB1c2gocClcbiAgICB9IGVsc2UgaWYgKGlzQnVmZmVyaXNoKHApKSB7XG4gICAgICBidWZzLnB1c2goYnVmZmVyRnJvbShwKSlcbiAgICB9IGVsc2Uge1xuICAgICAgYnVmcy5wdXNoKGJ1ZmZlckZyb20oU3RyaW5nKHApKSlcbiAgICB9XG4gIH1cbiAgcmV0dXJuIEJ1ZmZlci5jb25jYXQoYnVmcylcbn1cblxuZnVuY3Rpb24gYXJyYXlDb25jYXQgKHBhcnRzKSB7XG4gIHZhciByZXMgPSBbXVxuICBmb3IgKHZhciBpID0gMDsgaSA8IHBhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgcmVzLnB1c2guYXBwbHkocmVzLCBwYXJ0c1tpXSlcbiAgfVxuICByZXR1cm4gcmVzXG59XG5cbmZ1bmN0aW9uIHU4Q29uY2F0IChwYXJ0cykge1xuICB2YXIgbGVuID0gMFxuICBmb3IgKHZhciBpID0gMDsgaSA8IHBhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHR5cGVvZiBwYXJ0c1tpXSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHBhcnRzW2ldID0gYnVmZmVyRnJvbShwYXJ0c1tpXSlcbiAgICB9XG4gICAgbGVuICs9IHBhcnRzW2ldLmxlbmd0aFxuICB9XG4gIHZhciB1OCA9IG5ldyBVOChsZW4pXG4gIGZvciAodmFyIGkgPSAwLCBvZmZzZXQgPSAwOyBpIDwgcGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgcGFydCA9IHBhcnRzW2ldXG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCBwYXJ0Lmxlbmd0aDsgaisrKSB7XG4gICAgICB1OFtvZmZzZXQrK10gPSBwYXJ0W2pdXG4gICAgfVxuICB9XG4gIHJldHVybiB1OFxufVxuIiwgIi8qKlxuICogbG9kYXNoIChDdXN0b20gQnVpbGQpIDxodHRwczovL2xvZGFzaC5jb20vPlxuICogQnVpbGQ6IGBsb2Rhc2ggbW9kdWxhcml6ZSBleHBvcnRzPVwibnBtXCIgLW8gLi9gXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyA8aHR0cHM6Ly9qcXVlcnkub3JnLz5cbiAqIFJlbGVhc2VkIHVuZGVyIE1JVCBsaWNlbnNlIDxodHRwczovL2xvZGFzaC5jb20vbGljZW5zZT5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS44LjMgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcbiAqL1xuXG4vKiogVXNlZCBhcyB0aGUgc2l6ZSB0byBlbmFibGUgbGFyZ2UgYXJyYXkgb3B0aW1pemF0aW9ucy4gKi9cbnZhciBMQVJHRV9BUlJBWV9TSVpFID0gMjAwO1xuXG4vKiogVXNlZCB0byBzdGFuZC1pbiBmb3IgYHVuZGVmaW5lZGAgaGFzaCB2YWx1ZXMuICovXG52YXIgSEFTSF9VTkRFRklORUQgPSAnX19sb2Rhc2hfaGFzaF91bmRlZmluZWRfXyc7XG5cbi8qKiBVc2VkIHRvIGNvbXBvc2UgYml0bWFza3MgZm9yIGNvbXBhcmlzb24gc3R5bGVzLiAqL1xudmFyIFVOT1JERVJFRF9DT01QQVJFX0ZMQUcgPSAxLFxuICAgIFBBUlRJQUxfQ09NUEFSRV9GTEFHID0gMjtcblxuLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG52YXIgTUFYX1NBRkVfSU5URUdFUiA9IDkwMDcxOTkyNTQ3NDA5OTE7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBhcmdzVGFnID0gJ1tvYmplY3QgQXJndW1lbnRzXScsXG4gICAgYXJyYXlUYWcgPSAnW29iamVjdCBBcnJheV0nLFxuICAgIGJvb2xUYWcgPSAnW29iamVjdCBCb29sZWFuXScsXG4gICAgZGF0ZVRhZyA9ICdbb2JqZWN0IERhdGVdJyxcbiAgICBlcnJvclRhZyA9ICdbb2JqZWN0IEVycm9yXScsXG4gICAgZnVuY1RhZyA9ICdbb2JqZWN0IEZ1bmN0aW9uXScsXG4gICAgZ2VuVGFnID0gJ1tvYmplY3QgR2VuZXJhdG9yRnVuY3Rpb25dJyxcbiAgICBtYXBUYWcgPSAnW29iamVjdCBNYXBdJyxcbiAgICBudW1iZXJUYWcgPSAnW29iamVjdCBOdW1iZXJdJyxcbiAgICBvYmplY3RUYWcgPSAnW29iamVjdCBPYmplY3RdJyxcbiAgICBwcm9taXNlVGFnID0gJ1tvYmplY3QgUHJvbWlzZV0nLFxuICAgIHJlZ2V4cFRhZyA9ICdbb2JqZWN0IFJlZ0V4cF0nLFxuICAgIHNldFRhZyA9ICdbb2JqZWN0IFNldF0nLFxuICAgIHN0cmluZ1RhZyA9ICdbb2JqZWN0IFN0cmluZ10nLFxuICAgIHN5bWJvbFRhZyA9ICdbb2JqZWN0IFN5bWJvbF0nLFxuICAgIHdlYWtNYXBUYWcgPSAnW29iamVjdCBXZWFrTWFwXSc7XG5cbnZhciBhcnJheUJ1ZmZlclRhZyA9ICdbb2JqZWN0IEFycmF5QnVmZmVyXScsXG4gICAgZGF0YVZpZXdUYWcgPSAnW29iamVjdCBEYXRhVmlld10nLFxuICAgIGZsb2F0MzJUYWcgPSAnW29iamVjdCBGbG9hdDMyQXJyYXldJyxcbiAgICBmbG9hdDY0VGFnID0gJ1tvYmplY3QgRmxvYXQ2NEFycmF5XScsXG4gICAgaW50OFRhZyA9ICdbb2JqZWN0IEludDhBcnJheV0nLFxuICAgIGludDE2VGFnID0gJ1tvYmplY3QgSW50MTZBcnJheV0nLFxuICAgIGludDMyVGFnID0gJ1tvYmplY3QgSW50MzJBcnJheV0nLFxuICAgIHVpbnQ4VGFnID0gJ1tvYmplY3QgVWludDhBcnJheV0nLFxuICAgIHVpbnQ4Q2xhbXBlZFRhZyA9ICdbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XScsXG4gICAgdWludDE2VGFnID0gJ1tvYmplY3QgVWludDE2QXJyYXldJyxcbiAgICB1aW50MzJUYWcgPSAnW29iamVjdCBVaW50MzJBcnJheV0nO1xuXG4vKipcbiAqIFVzZWQgdG8gbWF0Y2ggYFJlZ0V4cGBcbiAqIFtzeW50YXggY2hhcmFjdGVyc10oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtcGF0dGVybnMpLlxuICovXG52YXIgcmVSZWdFeHBDaGFyID0gL1tcXFxcXiQuKis/KClbXFxde318XS9nO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgaG9zdCBjb25zdHJ1Y3RvcnMgKFNhZmFyaSkuICovXG52YXIgcmVJc0hvc3RDdG9yID0gL15cXFtvYmplY3QgLis/Q29uc3RydWN0b3JcXF0kLztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IHVuc2lnbmVkIGludGVnZXIgdmFsdWVzLiAqL1xudmFyIHJlSXNVaW50ID0gL14oPzowfFsxLTldXFxkKikkLztcblxuLyoqIFVzZWQgdG8gaWRlbnRpZnkgYHRvU3RyaW5nVGFnYCB2YWx1ZXMgb2YgdHlwZWQgYXJyYXlzLiAqL1xudmFyIHR5cGVkQXJyYXlUYWdzID0ge307XG50eXBlZEFycmF5VGFnc1tmbG9hdDMyVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2Zsb2F0NjRUYWddID1cbnR5cGVkQXJyYXlUYWdzW2ludDhUYWddID0gdHlwZWRBcnJheVRhZ3NbaW50MTZUYWddID1cbnR5cGVkQXJyYXlUYWdzW2ludDMyVGFnXSA9IHR5cGVkQXJyYXlUYWdzW3VpbnQ4VGFnXSA9XG50eXBlZEFycmF5VGFnc1t1aW50OENsYW1wZWRUYWddID0gdHlwZWRBcnJheVRhZ3NbdWludDE2VGFnXSA9XG50eXBlZEFycmF5VGFnc1t1aW50MzJUYWddID0gdHJ1ZTtcbnR5cGVkQXJyYXlUYWdzW2FyZ3NUYWddID0gdHlwZWRBcnJheVRhZ3NbYXJyYXlUYWddID1cbnR5cGVkQXJyYXlUYWdzW2FycmF5QnVmZmVyVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2Jvb2xUYWddID1cbnR5cGVkQXJyYXlUYWdzW2RhdGFWaWV3VGFnXSA9IHR5cGVkQXJyYXlUYWdzW2RhdGVUYWddID1cbnR5cGVkQXJyYXlUYWdzW2Vycm9yVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2Z1bmNUYWddID1cbnR5cGVkQXJyYXlUYWdzW21hcFRhZ10gPSB0eXBlZEFycmF5VGFnc1tudW1iZXJUYWddID1cbnR5cGVkQXJyYXlUYWdzW29iamVjdFRhZ10gPSB0eXBlZEFycmF5VGFnc1tyZWdleHBUYWddID1cbnR5cGVkQXJyYXlUYWdzW3NldFRhZ10gPSB0eXBlZEFycmF5VGFnc1tzdHJpbmdUYWddID1cbnR5cGVkQXJyYXlUYWdzW3dlYWtNYXBUYWddID0gZmFsc2U7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZ2xvYmFsYCBmcm9tIE5vZGUuanMuICovXG52YXIgZnJlZUdsb2JhbCA9IHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgZ2xvYmFsICYmIGdsb2JhbC5PYmplY3QgPT09IE9iamVjdCAmJiBnbG9iYWw7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgc2VsZmAuICovXG52YXIgZnJlZVNlbGYgPSB0eXBlb2Ygc2VsZiA9PSAnb2JqZWN0JyAmJiBzZWxmICYmIHNlbGYuT2JqZWN0ID09PSBPYmplY3QgJiYgc2VsZjtcblxuLyoqIFVzZWQgYXMgYSByZWZlcmVuY2UgdG8gdGhlIGdsb2JhbCBvYmplY3QuICovXG52YXIgcm9vdCA9IGZyZWVHbG9iYWwgfHwgZnJlZVNlbGYgfHwgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBleHBvcnRzYC4gKi9cbnZhciBmcmVlRXhwb3J0cyA9IHR5cGVvZiBleHBvcnRzID09ICdvYmplY3QnICYmIGV4cG9ydHMgJiYgIWV4cG9ydHMubm9kZVR5cGUgJiYgZXhwb3J0cztcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBtb2R1bGVgLiAqL1xudmFyIGZyZWVNb2R1bGUgPSBmcmVlRXhwb3J0cyAmJiB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZSAmJiAhbW9kdWxlLm5vZGVUeXBlICYmIG1vZHVsZTtcblxuLyoqIERldGVjdCB0aGUgcG9wdWxhciBDb21tb25KUyBleHRlbnNpb24gYG1vZHVsZS5leHBvcnRzYC4gKi9cbnZhciBtb2R1bGVFeHBvcnRzID0gZnJlZU1vZHVsZSAmJiBmcmVlTW9kdWxlLmV4cG9ydHMgPT09IGZyZWVFeHBvcnRzO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHByb2Nlc3NgIGZyb20gTm9kZS5qcy4gKi9cbnZhciBmcmVlUHJvY2VzcyA9IG1vZHVsZUV4cG9ydHMgJiYgZnJlZUdsb2JhbC5wcm9jZXNzO1xuXG4vKiogVXNlZCB0byBhY2Nlc3MgZmFzdGVyIE5vZGUuanMgaGVscGVycy4gKi9cbnZhciBub2RlVXRpbCA9IChmdW5jdGlvbigpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gZnJlZVByb2Nlc3MgJiYgZnJlZVByb2Nlc3MuYmluZGluZygndXRpbCcpO1xuICB9IGNhdGNoIChlKSB7fVxufSgpKTtcblxuLyogTm9kZS5qcyBoZWxwZXIgcmVmZXJlbmNlcy4gKi9cbnZhciBub2RlSXNUeXBlZEFycmF5ID0gbm9kZVV0aWwgJiYgbm9kZVV0aWwuaXNUeXBlZEFycmF5O1xuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5zb21lYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWVcbiAqIHNob3J0aGFuZHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFueSBlbGVtZW50IHBhc3NlcyB0aGUgcHJlZGljYXRlIGNoZWNrLFxuICogIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gYXJyYXlTb21lKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBhcnJheSA/IGFycmF5Lmxlbmd0aCA6IDA7XG5cbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICBpZiAocHJlZGljYXRlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50aW1lc2Agd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzXG4gKiBvciBtYXggYXJyYXkgbGVuZ3RoIGNoZWNrcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiB0aW1lcyB0byBpbnZva2UgYGl0ZXJhdGVlYC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHJlc3VsdHMuXG4gKi9cbmZ1bmN0aW9uIGJhc2VUaW1lcyhuLCBpdGVyYXRlZSkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIHJlc3VsdCA9IEFycmF5KG4pO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbikge1xuICAgIHJlc3VsdFtpbmRleF0gPSBpdGVyYXRlZShpbmRleCk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy51bmFyeWAgd2l0aG91dCBzdXBwb3J0IGZvciBzdG9yaW5nIG1ldGFkYXRhLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjYXAgYXJndW1lbnRzIGZvci5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNhcHBlZCBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gYmFzZVVuYXJ5KGZ1bmMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIGZ1bmModmFsdWUpO1xuICB9O1xufVxuXG4vKipcbiAqIEdldHMgdGhlIHZhbHVlIGF0IGBrZXlgIG9mIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHByb3BlcnR5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBnZXRWYWx1ZShvYmplY3QsIGtleSkge1xuICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBvYmplY3Rba2V5XTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIGhvc3Qgb2JqZWN0IGluIElFIDwgOS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGhvc3Qgb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzSG9zdE9iamVjdCh2YWx1ZSkge1xuICAvLyBNYW55IGhvc3Qgb2JqZWN0cyBhcmUgYE9iamVjdGAgb2JqZWN0cyB0aGF0IGNhbiBjb2VyY2UgdG8gc3RyaW5nc1xuICAvLyBkZXNwaXRlIGhhdmluZyBpbXByb3Blcmx5IGRlZmluZWQgYHRvU3RyaW5nYCBtZXRob2RzLlxuICB2YXIgcmVzdWx0ID0gZmFsc2U7XG4gIGlmICh2YWx1ZSAhPSBudWxsICYmIHR5cGVvZiB2YWx1ZS50b1N0cmluZyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJlc3VsdCA9ICEhKHZhbHVlICsgJycpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBgbWFwYCB0byBpdHMga2V5LXZhbHVlIHBhaXJzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gbWFwIFRoZSBtYXAgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUga2V5LXZhbHVlIHBhaXJzLlxuICovXG5mdW5jdGlvbiBtYXBUb0FycmF5KG1hcCkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIHJlc3VsdCA9IEFycmF5KG1hcC5zaXplKTtcblxuICBtYXAuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgcmVzdWx0WysraW5kZXhdID0gW2tleSwgdmFsdWVdO1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgdW5hcnkgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIGl0cyBhcmd1bWVudCB0cmFuc2Zvcm1lZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHRyYW5zZm9ybSBUaGUgYXJndW1lbnQgdHJhbnNmb3JtLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIG92ZXJBcmcoZnVuYywgdHJhbnNmb3JtKSB7XG4gIHJldHVybiBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gZnVuYyh0cmFuc2Zvcm0oYXJnKSk7XG4gIH07XG59XG5cbi8qKlxuICogQ29udmVydHMgYHNldGAgdG8gYW4gYXJyYXkgb2YgaXRzIHZhbHVlcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IHNldCBUaGUgc2V0IHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHZhbHVlcy5cbiAqL1xuZnVuY3Rpb24gc2V0VG9BcnJheShzZXQpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICByZXN1bHQgPSBBcnJheShzZXQuc2l6ZSk7XG5cbiAgc2V0LmZvckVhY2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXN1bHRbKytpbmRleF0gPSB2YWx1ZTtcbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBhcnJheVByb3RvID0gQXJyYXkucHJvdG90eXBlLFxuICAgIGZ1bmNQcm90byA9IEZ1bmN0aW9uLnByb3RvdHlwZSxcbiAgICBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBvdmVycmVhY2hpbmcgY29yZS1qcyBzaGltcy4gKi9cbnZhciBjb3JlSnNEYXRhID0gcm9vdFsnX19jb3JlLWpzX3NoYXJlZF9fJ107XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBtZXRob2RzIG1hc3F1ZXJhZGluZyBhcyBuYXRpdmUuICovXG52YXIgbWFza1NyY0tleSA9IChmdW5jdGlvbigpIHtcbiAgdmFyIHVpZCA9IC9bXi5dKyQvLmV4ZWMoY29yZUpzRGF0YSAmJiBjb3JlSnNEYXRhLmtleXMgJiYgY29yZUpzRGF0YS5rZXlzLklFX1BST1RPIHx8ICcnKTtcbiAgcmV0dXJuIHVpZCA/ICgnU3ltYm9sKHNyYylfMS4nICsgdWlkKSA6ICcnO1xufSgpKTtcblxuLyoqIFVzZWQgdG8gcmVzb2x2ZSB0aGUgZGVjb21waWxlZCBzb3VyY2Ugb2YgZnVuY3Rpb25zLiAqL1xudmFyIGZ1bmNUb1N0cmluZyA9IGZ1bmNQcm90by50b1N0cmluZztcblxuLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG52YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqXG4gKiBVc2VkIHRvIHJlc29sdmUgdGhlXG4gKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcbiAqIG9mIHZhbHVlcy5cbiAqL1xudmFyIG9iamVjdFRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBpZiBhIG1ldGhvZCBpcyBuYXRpdmUuICovXG52YXIgcmVJc05hdGl2ZSA9IFJlZ0V4cCgnXicgK1xuICBmdW5jVG9TdHJpbmcuY2FsbChoYXNPd25Qcm9wZXJ0eSkucmVwbGFjZShyZVJlZ0V4cENoYXIsICdcXFxcJCYnKVxuICAucmVwbGFjZSgvaGFzT3duUHJvcGVydHl8KGZ1bmN0aW9uKS4qPyg/PVxcXFxcXCgpfCBmb3IgLis/KD89XFxcXFxcXSkvZywgJyQxLio/JykgKyAnJCdcbik7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIFN5bWJvbCA9IHJvb3QuU3ltYm9sLFxuICAgIFVpbnQ4QXJyYXkgPSByb290LlVpbnQ4QXJyYXksXG4gICAgcHJvcGVydHlJc0VudW1lcmFibGUgPSBvYmplY3RQcm90by5wcm9wZXJ0eUlzRW51bWVyYWJsZSxcbiAgICBzcGxpY2UgPSBhcnJheVByb3RvLnNwbGljZTtcblxuLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgZm9yIHRob3NlIHdpdGggdGhlIHNhbWUgbmFtZSBhcyBvdGhlciBgbG9kYXNoYCBtZXRob2RzLiAqL1xudmFyIG5hdGl2ZUtleXMgPSBvdmVyQXJnKE9iamVjdC5rZXlzLCBPYmplY3QpO1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyB0aGF0IGFyZSB2ZXJpZmllZCB0byBiZSBuYXRpdmUuICovXG52YXIgRGF0YVZpZXcgPSBnZXROYXRpdmUocm9vdCwgJ0RhdGFWaWV3JyksXG4gICAgTWFwID0gZ2V0TmF0aXZlKHJvb3QsICdNYXAnKSxcbiAgICBQcm9taXNlID0gZ2V0TmF0aXZlKHJvb3QsICdQcm9taXNlJyksXG4gICAgU2V0ID0gZ2V0TmF0aXZlKHJvb3QsICdTZXQnKSxcbiAgICBXZWFrTWFwID0gZ2V0TmF0aXZlKHJvb3QsICdXZWFrTWFwJyksXG4gICAgbmF0aXZlQ3JlYXRlID0gZ2V0TmF0aXZlKE9iamVjdCwgJ2NyZWF0ZScpO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgbWFwcywgc2V0cywgYW5kIHdlYWttYXBzLiAqL1xudmFyIGRhdGFWaWV3Q3RvclN0cmluZyA9IHRvU291cmNlKERhdGFWaWV3KSxcbiAgICBtYXBDdG9yU3RyaW5nID0gdG9Tb3VyY2UoTWFwKSxcbiAgICBwcm9taXNlQ3RvclN0cmluZyA9IHRvU291cmNlKFByb21pc2UpLFxuICAgIHNldEN0b3JTdHJpbmcgPSB0b1NvdXJjZShTZXQpLFxuICAgIHdlYWtNYXBDdG9yU3RyaW5nID0gdG9Tb3VyY2UoV2Vha01hcCk7XG5cbi8qKiBVc2VkIHRvIGNvbnZlcnQgc3ltYm9scyB0byBwcmltaXRpdmVzIGFuZCBzdHJpbmdzLiAqL1xudmFyIHN5bWJvbFByb3RvID0gU3ltYm9sID8gU3ltYm9sLnByb3RvdHlwZSA6IHVuZGVmaW5lZCxcbiAgICBzeW1ib2xWYWx1ZU9mID0gc3ltYm9sUHJvdG8gPyBzeW1ib2xQcm90by52YWx1ZU9mIDogdW5kZWZpbmVkO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBoYXNoIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gSGFzaChlbnRyaWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gZW50cmllcyA/IGVudHJpZXMubGVuZ3RoIDogMDtcblxuICB0aGlzLmNsZWFyKCk7XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgfVxufVxuXG4vKipcbiAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIGhhc2guXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGNsZWFyXG4gKiBAbWVtYmVyT2YgSGFzaFxuICovXG5mdW5jdGlvbiBoYXNoQ2xlYXIoKSB7XG4gIHRoaXMuX19kYXRhX18gPSBuYXRpdmVDcmVhdGUgPyBuYXRpdmVDcmVhdGUobnVsbCkgOiB7fTtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgaGFzaC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZGVsZXRlXG4gKiBAbWVtYmVyT2YgSGFzaFxuICogQHBhcmFtIHtPYmplY3R9IGhhc2ggVGhlIGhhc2ggdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGhhc2hEZWxldGUoa2V5KSB7XG4gIHJldHVybiB0aGlzLmhhcyhrZXkpICYmIGRlbGV0ZSB0aGlzLl9fZGF0YV9fW2tleV07XG59XG5cbi8qKlxuICogR2V0cyB0aGUgaGFzaCB2YWx1ZSBmb3IgYGtleWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGdldFxuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBoYXNoR2V0KGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gIGlmIChuYXRpdmVDcmVhdGUpIHtcbiAgICB2YXIgcmVzdWx0ID0gZGF0YVtrZXldO1xuICAgIHJldHVybiByZXN1bHQgPT09IEhBU0hfVU5ERUZJTkVEID8gdW5kZWZpbmVkIDogcmVzdWx0O1xuICB9XG4gIHJldHVybiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSkgPyBkYXRhW2tleV0gOiB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgaGFzaCB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaGFzaEhhcyhrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICByZXR1cm4gbmF0aXZlQ3JlYXRlID8gZGF0YVtrZXldICE9PSB1bmRlZmluZWQgOiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSk7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgaGFzaCBga2V5YCB0byBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBzZXRcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGhhc2ggaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIGhhc2hTZXQoa2V5LCB2YWx1ZSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gIGRhdGFba2V5XSA9IChuYXRpdmVDcmVhdGUgJiYgdmFsdWUgPT09IHVuZGVmaW5lZCkgPyBIQVNIX1VOREVGSU5FRCA6IHZhbHVlO1xuICByZXR1cm4gdGhpcztcbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYEhhc2hgLlxuSGFzaC5wcm90b3R5cGUuY2xlYXIgPSBoYXNoQ2xlYXI7XG5IYXNoLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBoYXNoRGVsZXRlO1xuSGFzaC5wcm90b3R5cGUuZ2V0ID0gaGFzaEdldDtcbkhhc2gucHJvdG90eXBlLmhhcyA9IGhhc2hIYXM7XG5IYXNoLnByb3RvdHlwZS5zZXQgPSBoYXNoU2V0O1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gbGlzdCBjYWNoZSBvYmplY3QuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gKi9cbmZ1bmN0aW9uIExpc3RDYWNoZShlbnRyaWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gZW50cmllcyA/IGVudHJpZXMubGVuZ3RoIDogMDtcblxuICB0aGlzLmNsZWFyKCk7XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgfVxufVxuXG4vKipcbiAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIGxpc3QgY2FjaGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGNsZWFyXG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZUNsZWFyKCkge1xuICB0aGlzLl9fZGF0YV9fID0gW107XG59XG5cbi8qKlxuICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIGxpc3QgY2FjaGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGRlbGV0ZVxuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZURlbGV0ZShrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICBpZiAoaW5kZXggPCAwKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBsYXN0SW5kZXggPSBkYXRhLmxlbmd0aCAtIDE7XG4gIGlmIChpbmRleCA9PSBsYXN0SW5kZXgpIHtcbiAgICBkYXRhLnBvcCgpO1xuICB9IGVsc2Uge1xuICAgIHNwbGljZS5jYWxsKGRhdGEsIGluZGV4LCAxKTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBsaXN0IGNhY2hlIHZhbHVlIGZvciBga2V5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZ2V0XG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlR2V0KGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gIHJldHVybiBpbmRleCA8IDAgPyB1bmRlZmluZWQgOiBkYXRhW2luZGV4XVsxXTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBsaXN0IGNhY2hlIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZUhhcyhrZXkpIHtcbiAgcmV0dXJuIGFzc29jSW5kZXhPZih0aGlzLl9fZGF0YV9fLCBrZXkpID4gLTE7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgbGlzdCBjYWNoZSBga2V5YCB0byBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBzZXRcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbGlzdCBjYWNoZSBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlU2V0KGtleSwgdmFsdWUpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICBpZiAoaW5kZXggPCAwKSB7XG4gICAgZGF0YS5wdXNoKFtrZXksIHZhbHVlXSk7XG4gIH0gZWxzZSB7XG4gICAgZGF0YVtpbmRleF1bMV0gPSB2YWx1ZTtcbiAgfVxuICByZXR1cm4gdGhpcztcbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYExpc3RDYWNoZWAuXG5MaXN0Q2FjaGUucHJvdG90eXBlLmNsZWFyID0gbGlzdENhY2hlQ2xlYXI7XG5MaXN0Q2FjaGUucHJvdG90eXBlWydkZWxldGUnXSA9IGxpc3RDYWNoZURlbGV0ZTtcbkxpc3RDYWNoZS5wcm90b3R5cGUuZ2V0ID0gbGlzdENhY2hlR2V0O1xuTGlzdENhY2hlLnByb3RvdHlwZS5oYXMgPSBsaXN0Q2FjaGVIYXM7XG5MaXN0Q2FjaGUucHJvdG90eXBlLnNldCA9IGxpc3RDYWNoZVNldDtcblxuLyoqXG4gKiBDcmVhdGVzIGEgbWFwIGNhY2hlIG9iamVjdCB0byBzdG9yZSBrZXktdmFsdWUgcGFpcnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gKi9cbmZ1bmN0aW9uIE1hcENhY2hlKGVudHJpZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBlbnRyaWVzID8gZW50cmllcy5sZW5ndGggOiAwO1xuXG4gIHRoaXMuY2xlYXIoKTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICB9XG59XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgbWFwLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBjbGVhclxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlQ2xlYXIoKSB7XG4gIHRoaXMuX19kYXRhX18gPSB7XG4gICAgJ2hhc2gnOiBuZXcgSGFzaCxcbiAgICAnbWFwJzogbmV3IChNYXAgfHwgTGlzdENhY2hlKSxcbiAgICAnc3RyaW5nJzogbmV3IEhhc2hcbiAgfTtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgbWFwLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBkZWxldGVcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlRGVsZXRlKGtleSkge1xuICByZXR1cm4gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpWydkZWxldGUnXShrZXkpO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIG1hcCB2YWx1ZSBmb3IgYGtleWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGdldFxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVHZXQoa2V5KSB7XG4gIHJldHVybiBnZXRNYXBEYXRhKHRoaXMsIGtleSkuZ2V0KGtleSk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgbWFwIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVIYXMoa2V5KSB7XG4gIHJldHVybiBnZXRNYXBEYXRhKHRoaXMsIGtleSkuaGFzKGtleSk7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgbWFwIGBrZXlgIHRvIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIHNldFxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG1hcCBjYWNoZSBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVTZXQoa2V5LCB2YWx1ZSkge1xuICBnZXRNYXBEYXRhKHRoaXMsIGtleSkuc2V0KGtleSwgdmFsdWUpO1xuICByZXR1cm4gdGhpcztcbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYE1hcENhY2hlYC5cbk1hcENhY2hlLnByb3RvdHlwZS5jbGVhciA9IG1hcENhY2hlQ2xlYXI7XG5NYXBDYWNoZS5wcm90b3R5cGVbJ2RlbGV0ZSddID0gbWFwQ2FjaGVEZWxldGU7XG5NYXBDYWNoZS5wcm90b3R5cGUuZ2V0ID0gbWFwQ2FjaGVHZXQ7XG5NYXBDYWNoZS5wcm90b3R5cGUuaGFzID0gbWFwQ2FjaGVIYXM7XG5NYXBDYWNoZS5wcm90b3R5cGUuc2V0ID0gbWFwQ2FjaGVTZXQ7XG5cbi8qKlxuICpcbiAqIENyZWF0ZXMgYW4gYXJyYXkgY2FjaGUgb2JqZWN0IHRvIHN0b3JlIHVuaXF1ZSB2YWx1ZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gU2V0Q2FjaGUodmFsdWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gdmFsdWVzID8gdmFsdWVzLmxlbmd0aCA6IDA7XG5cbiAgdGhpcy5fX2RhdGFfXyA9IG5ldyBNYXBDYWNoZTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB0aGlzLmFkZCh2YWx1ZXNbaW5kZXhdKTtcbiAgfVxufVxuXG4vKipcbiAqIEFkZHMgYHZhbHVlYCB0byB0aGUgYXJyYXkgY2FjaGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGFkZFxuICogQG1lbWJlck9mIFNldENhY2hlXG4gKiBAYWxpYXMgcHVzaFxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2FjaGUuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjYWNoZSBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gc2V0Q2FjaGVBZGQodmFsdWUpIHtcbiAgdGhpcy5fX2RhdGFfXy5zZXQodmFsdWUsIEhBU0hfVU5ERUZJTkVEKTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgaW4gdGhlIGFycmF5IGNhY2hlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBTZXRDYWNoZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZm91bmQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gc2V0Q2FjaGVIYXModmFsdWUpIHtcbiAgcmV0dXJuIHRoaXMuX19kYXRhX18uaGFzKHZhbHVlKTtcbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYFNldENhY2hlYC5cblNldENhY2hlLnByb3RvdHlwZS5hZGQgPSBTZXRDYWNoZS5wcm90b3R5cGUucHVzaCA9IHNldENhY2hlQWRkO1xuU2V0Q2FjaGUucHJvdG90eXBlLmhhcyA9IHNldENhY2hlSGFzO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBzdGFjayBjYWNoZSBvYmplY3QgdG8gc3RvcmUga2V5LXZhbHVlIHBhaXJzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICovXG5mdW5jdGlvbiBTdGFjayhlbnRyaWVzKSB7XG4gIHRoaXMuX19kYXRhX18gPSBuZXcgTGlzdENhY2hlKGVudHJpZXMpO1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIHN0YWNrLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBjbGVhclxuICogQG1lbWJlck9mIFN0YWNrXG4gKi9cbmZ1bmN0aW9uIHN0YWNrQ2xlYXIoKSB7XG4gIHRoaXMuX19kYXRhX18gPSBuZXcgTGlzdENhY2hlO1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBzdGFjay5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZGVsZXRlXG4gKiBAbWVtYmVyT2YgU3RhY2tcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBzdGFja0RlbGV0ZShrZXkpIHtcbiAgcmV0dXJuIHRoaXMuX19kYXRhX19bJ2RlbGV0ZSddKGtleSk7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgc3RhY2sgdmFsdWUgZm9yIGBrZXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBnZXRcbiAqIEBtZW1iZXJPZiBTdGFja1xuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIHN0YWNrR2V0KGtleSkge1xuICByZXR1cm4gdGhpcy5fX2RhdGFfXy5nZXQoa2V5KTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBzdGFjayB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBTdGFja1xuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIHN0YWNrSGFzKGtleSkge1xuICByZXR1cm4gdGhpcy5fX2RhdGFfXy5oYXMoa2V5KTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBzdGFjayBga2V5YCB0byBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBzZXRcbiAqIEBtZW1iZXJPZiBTdGFja1xuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBzdGFjayBjYWNoZSBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gc3RhY2tTZXQoa2V5LCB2YWx1ZSkge1xuICB2YXIgY2FjaGUgPSB0aGlzLl9fZGF0YV9fO1xuICBpZiAoY2FjaGUgaW5zdGFuY2VvZiBMaXN0Q2FjaGUpIHtcbiAgICB2YXIgcGFpcnMgPSBjYWNoZS5fX2RhdGFfXztcbiAgICBpZiAoIU1hcCB8fCAocGFpcnMubGVuZ3RoIDwgTEFSR0VfQVJSQVlfU0laRSAtIDEpKSB7XG4gICAgICBwYWlycy5wdXNoKFtrZXksIHZhbHVlXSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgY2FjaGUgPSB0aGlzLl9fZGF0YV9fID0gbmV3IE1hcENhY2hlKHBhaXJzKTtcbiAgfVxuICBjYWNoZS5zZXQoa2V5LCB2YWx1ZSk7XG4gIHJldHVybiB0aGlzO1xufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgU3RhY2tgLlxuU3RhY2sucHJvdG90eXBlLmNsZWFyID0gc3RhY2tDbGVhcjtcblN0YWNrLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBzdGFja0RlbGV0ZTtcblN0YWNrLnByb3RvdHlwZS5nZXQgPSBzdGFja0dldDtcblN0YWNrLnByb3RvdHlwZS5oYXMgPSBzdGFja0hhcztcblN0YWNrLnByb3RvdHlwZS5zZXQgPSBzdGFja1NldDtcblxuLyoqXG4gKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIG9mIHRoZSBhcnJheS1saWtlIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtib29sZWFufSBpbmhlcml0ZWQgU3BlY2lmeSByZXR1cm5pbmcgaW5oZXJpdGVkIHByb3BlcnR5IG5hbWVzLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAqL1xuZnVuY3Rpb24gYXJyYXlMaWtlS2V5cyh2YWx1ZSwgaW5oZXJpdGVkKSB7XG4gIC8vIFNhZmFyaSA4LjEgbWFrZXMgYGFyZ3VtZW50cy5jYWxsZWVgIGVudW1lcmFibGUgaW4gc3RyaWN0IG1vZGUuXG4gIC8vIFNhZmFyaSA5IG1ha2VzIGBhcmd1bWVudHMubGVuZ3RoYCBlbnVtZXJhYmxlIGluIHN0cmljdCBtb2RlLlxuICB2YXIgcmVzdWx0ID0gKGlzQXJyYXkodmFsdWUpIHx8IGlzQXJndW1lbnRzKHZhbHVlKSlcbiAgICA/IGJhc2VUaW1lcyh2YWx1ZS5sZW5ndGgsIFN0cmluZylcbiAgICA6IFtdO1xuXG4gIHZhciBsZW5ndGggPSByZXN1bHQubGVuZ3RoLFxuICAgICAgc2tpcEluZGV4ZXMgPSAhIWxlbmd0aDtcblxuICBmb3IgKHZhciBrZXkgaW4gdmFsdWUpIHtcbiAgICBpZiAoKGluaGVyaXRlZCB8fCBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBrZXkpKSAmJlxuICAgICAgICAhKHNraXBJbmRleGVzICYmIChrZXkgPT0gJ2xlbmd0aCcgfHwgaXNJbmRleChrZXksIGxlbmd0aCkpKSkge1xuICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBpbmRleCBhdCB3aGljaCB0aGUgYGtleWAgaXMgZm91bmQgaW4gYGFycmF5YCBvZiBrZXktdmFsdWUgcGFpcnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICogQHBhcmFtIHsqfSBrZXkgVGhlIGtleSB0byBzZWFyY2ggZm9yLlxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAqL1xuZnVuY3Rpb24gYXNzb2NJbmRleE9mKGFycmF5LCBrZXkpIHtcbiAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgaWYgKGVxKGFycmF5W2xlbmd0aF1bMF0sIGtleSkpIHtcbiAgICAgIHJldHVybiBsZW5ndGg7XG4gICAgfVxuICB9XG4gIHJldHVybiAtMTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgZ2V0VGFnYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBgdG9TdHJpbmdUYWdgLlxuICovXG5mdW5jdGlvbiBiYXNlR2V0VGFnKHZhbHVlKSB7XG4gIHJldHVybiBvYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc0VxdWFsYCB3aGljaCBzdXBwb3J0cyBwYXJ0aWFsIGNvbXBhcmlzb25zXG4gKiBhbmQgdHJhY2tzIHRyYXZlcnNlZCBvYmplY3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICogQHBhcmFtIHtib29sZWFufSBbYml0bWFza10gVGhlIGJpdG1hc2sgb2YgY29tcGFyaXNvbiBmbGFncy5cbiAqICBUaGUgYml0bWFzayBtYXkgYmUgY29tcG9zZWQgb2YgdGhlIGZvbGxvd2luZyBmbGFnczpcbiAqICAgICAxIC0gVW5vcmRlcmVkIGNvbXBhcmlzb25cbiAqICAgICAyIC0gUGFydGlhbCBjb21wYXJpc29uXG4gKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIGB2YWx1ZWAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VJc0VxdWFsKHZhbHVlLCBvdGhlciwgY3VzdG9taXplciwgYml0bWFzaywgc3RhY2spIHtcbiAgaWYgKHZhbHVlID09PSBvdGhlcikge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmICh2YWx1ZSA9PSBudWxsIHx8IG90aGVyID09IG51bGwgfHwgKCFpc09iamVjdCh2YWx1ZSkgJiYgIWlzT2JqZWN0TGlrZShvdGhlcikpKSB7XG4gICAgcmV0dXJuIHZhbHVlICE9PSB2YWx1ZSAmJiBvdGhlciAhPT0gb3RoZXI7XG4gIH1cbiAgcmV0dXJuIGJhc2VJc0VxdWFsRGVlcCh2YWx1ZSwgb3RoZXIsIGJhc2VJc0VxdWFsLCBjdXN0b21pemVyLCBiaXRtYXNrLCBzdGFjayk7XG59XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlSXNFcXVhbGAgZm9yIGFycmF5cyBhbmQgb2JqZWN0cyB3aGljaCBwZXJmb3Jtc1xuICogZGVlcCBjb21wYXJpc29ucyBhbmQgdHJhY2tzIHRyYXZlcnNlZCBvYmplY3RzIGVuYWJsaW5nIG9iamVjdHMgd2l0aCBjaXJjdWxhclxuICogcmVmZXJlbmNlcyB0byBiZSBjb21wYXJlZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge09iamVjdH0gb3RoZXIgVGhlIG90aGVyIG9iamVjdCB0byBjb21wYXJlLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZXF1YWxGdW5jIFRoZSBmdW5jdGlvbiB0byBkZXRlcm1pbmUgZXF1aXZhbGVudHMgb2YgdmFsdWVzLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gKiBAcGFyYW0ge251bWJlcn0gW2JpdG1hc2tdIFRoZSBiaXRtYXNrIG9mIGNvbXBhcmlzb24gZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgXG4gKiAgZm9yIG1vcmUgZGV0YWlscy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgYG9iamVjdGAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgb2JqZWN0cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBiYXNlSXNFcXVhbERlZXAob2JqZWN0LCBvdGhlciwgZXF1YWxGdW5jLCBjdXN0b21pemVyLCBiaXRtYXNrLCBzdGFjaykge1xuICB2YXIgb2JqSXNBcnIgPSBpc0FycmF5KG9iamVjdCksXG4gICAgICBvdGhJc0FyciA9IGlzQXJyYXkob3RoZXIpLFxuICAgICAgb2JqVGFnID0gYXJyYXlUYWcsXG4gICAgICBvdGhUYWcgPSBhcnJheVRhZztcblxuICBpZiAoIW9iaklzQXJyKSB7XG4gICAgb2JqVGFnID0gZ2V0VGFnKG9iamVjdCk7XG4gICAgb2JqVGFnID0gb2JqVGFnID09IGFyZ3NUYWcgPyBvYmplY3RUYWcgOiBvYmpUYWc7XG4gIH1cbiAgaWYgKCFvdGhJc0Fycikge1xuICAgIG90aFRhZyA9IGdldFRhZyhvdGhlcik7XG4gICAgb3RoVGFnID0gb3RoVGFnID09IGFyZ3NUYWcgPyBvYmplY3RUYWcgOiBvdGhUYWc7XG4gIH1cbiAgdmFyIG9iaklzT2JqID0gb2JqVGFnID09IG9iamVjdFRhZyAmJiAhaXNIb3N0T2JqZWN0KG9iamVjdCksXG4gICAgICBvdGhJc09iaiA9IG90aFRhZyA9PSBvYmplY3RUYWcgJiYgIWlzSG9zdE9iamVjdChvdGhlciksXG4gICAgICBpc1NhbWVUYWcgPSBvYmpUYWcgPT0gb3RoVGFnO1xuXG4gIGlmIChpc1NhbWVUYWcgJiYgIW9iaklzT2JqKSB7XG4gICAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgICByZXR1cm4gKG9iaklzQXJyIHx8IGlzVHlwZWRBcnJheShvYmplY3QpKVxuICAgICAgPyBlcXVhbEFycmF5cyhvYmplY3QsIG90aGVyLCBlcXVhbEZ1bmMsIGN1c3RvbWl6ZXIsIGJpdG1hc2ssIHN0YWNrKVxuICAgICAgOiBlcXVhbEJ5VGFnKG9iamVjdCwgb3RoZXIsIG9ialRhZywgZXF1YWxGdW5jLCBjdXN0b21pemVyLCBiaXRtYXNrLCBzdGFjayk7XG4gIH1cbiAgaWYgKCEoYml0bWFzayAmIFBBUlRJQUxfQ09NUEFSRV9GTEFHKSkge1xuICAgIHZhciBvYmpJc1dyYXBwZWQgPSBvYmpJc09iaiAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgJ19fd3JhcHBlZF9fJyksXG4gICAgICAgIG90aElzV3JhcHBlZCA9IG90aElzT2JqICYmIGhhc093blByb3BlcnR5LmNhbGwob3RoZXIsICdfX3dyYXBwZWRfXycpO1xuXG4gICAgaWYgKG9iaklzV3JhcHBlZCB8fCBvdGhJc1dyYXBwZWQpIHtcbiAgICAgIHZhciBvYmpVbndyYXBwZWQgPSBvYmpJc1dyYXBwZWQgPyBvYmplY3QudmFsdWUoKSA6IG9iamVjdCxcbiAgICAgICAgICBvdGhVbndyYXBwZWQgPSBvdGhJc1dyYXBwZWQgPyBvdGhlci52YWx1ZSgpIDogb3RoZXI7XG5cbiAgICAgIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG4gICAgICByZXR1cm4gZXF1YWxGdW5jKG9ialVud3JhcHBlZCwgb3RoVW53cmFwcGVkLCBjdXN0b21pemVyLCBiaXRtYXNrLCBzdGFjayk7XG4gICAgfVxuICB9XG4gIGlmICghaXNTYW1lVGFnKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG4gIHJldHVybiBlcXVhbE9iamVjdHMob2JqZWN0LCBvdGhlciwgZXF1YWxGdW5jLCBjdXN0b21pemVyLCBiaXRtYXNrLCBzdGFjayk7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNNYXRjaGAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSB2YWx1ZXMgdG8gbWF0Y2guXG4gKiBAcGFyYW0ge0FycmF5fSBtYXRjaERhdGEgVGhlIHByb3BlcnR5IG5hbWVzLCB2YWx1ZXMsIGFuZCBjb21wYXJlIGZsYWdzIHRvIG1hdGNoLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYG9iamVjdGAgaXMgYSBtYXRjaCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBiYXNlSXNNYXRjaChvYmplY3QsIHNvdXJjZSwgbWF0Y2hEYXRhLCBjdXN0b21pemVyKSB7XG4gIHZhciBpbmRleCA9IG1hdGNoRGF0YS5sZW5ndGgsXG4gICAgICBsZW5ndGggPSBpbmRleCxcbiAgICAgIG5vQ3VzdG9taXplciA9ICFjdXN0b21pemVyO1xuXG4gIGlmIChvYmplY3QgPT0gbnVsbCkge1xuICAgIHJldHVybiAhbGVuZ3RoO1xuICB9XG4gIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuICB3aGlsZSAoaW5kZXgtLSkge1xuICAgIHZhciBkYXRhID0gbWF0Y2hEYXRhW2luZGV4XTtcbiAgICBpZiAoKG5vQ3VzdG9taXplciAmJiBkYXRhWzJdKVxuICAgICAgICAgID8gZGF0YVsxXSAhPT0gb2JqZWN0W2RhdGFbMF1dXG4gICAgICAgICAgOiAhKGRhdGFbMF0gaW4gb2JqZWN0KVxuICAgICAgICApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICBkYXRhID0gbWF0Y2hEYXRhW2luZGV4XTtcbiAgICB2YXIga2V5ID0gZGF0YVswXSxcbiAgICAgICAgb2JqVmFsdWUgPSBvYmplY3Rba2V5XSxcbiAgICAgICAgc3JjVmFsdWUgPSBkYXRhWzFdO1xuXG4gICAgaWYgKG5vQ3VzdG9taXplciAmJiBkYXRhWzJdKSB7XG4gICAgICBpZiAob2JqVmFsdWUgPT09IHVuZGVmaW5lZCAmJiAhKGtleSBpbiBvYmplY3QpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHN0YWNrID0gbmV3IFN0YWNrO1xuICAgICAgaWYgKGN1c3RvbWl6ZXIpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGN1c3RvbWl6ZXIob2JqVmFsdWUsIHNyY1ZhbHVlLCBrZXksIG9iamVjdCwgc291cmNlLCBzdGFjayk7XG4gICAgICB9XG4gICAgICBpZiAoIShyZXN1bHQgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyBiYXNlSXNFcXVhbChzcmNWYWx1ZSwgb2JqVmFsdWUsIGN1c3RvbWl6ZXIsIFVOT1JERVJFRF9DT01QQVJFX0ZMQUcgfCBQQVJUSUFMX0NPTVBBUkVfRkxBRywgc3RhY2spXG4gICAgICAgICAgICA6IHJlc3VsdFxuICAgICAgICAgICkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc05hdGl2ZWAgd2l0aG91dCBiYWQgc2hpbSBjaGVja3MuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBuYXRpdmUgZnVuY3Rpb24sXG4gKiAgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBiYXNlSXNOYXRpdmUodmFsdWUpIHtcbiAgaWYgKCFpc09iamVjdCh2YWx1ZSkgfHwgaXNNYXNrZWQodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBwYXR0ZXJuID0gKGlzRnVuY3Rpb24odmFsdWUpIHx8IGlzSG9zdE9iamVjdCh2YWx1ZSkpID8gcmVJc05hdGl2ZSA6IHJlSXNIb3N0Q3RvcjtcbiAgcmV0dXJuIHBhdHRlcm4udGVzdCh0b1NvdXJjZSh2YWx1ZSkpO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzVHlwZWRBcnJheWAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB0eXBlZCBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBiYXNlSXNUeXBlZEFycmF5KHZhbHVlKSB7XG4gIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmXG4gICAgaXNMZW5ndGgodmFsdWUubGVuZ3RoKSAmJiAhIXR5cGVkQXJyYXlUYWdzW29iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpXTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5rZXlzYCB3aGljaCBkb2Vzbid0IHRyZWF0IHNwYXJzZSBhcnJheXMgYXMgZGVuc2UuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gKi9cbmZ1bmN0aW9uIGJhc2VLZXlzKG9iamVjdCkge1xuICBpZiAoIWlzUHJvdG90eXBlKG9iamVjdCkpIHtcbiAgICByZXR1cm4gbmF0aXZlS2V5cyhvYmplY3QpO1xuICB9XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgZm9yICh2YXIga2V5IGluIE9iamVjdChvYmplY3QpKSB7XG4gICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpICYmIGtleSAhPSAnY29uc3RydWN0b3InKSB7XG4gICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxEZWVwYCBmb3IgYXJyYXlzIHdpdGggc3VwcG9ydCBmb3JcbiAqIHBhcnRpYWwgZGVlcCBjb21wYXJpc29ucy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge0FycmF5fSBvdGhlciBUaGUgb3RoZXIgYXJyYXkgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIG9mIGNvbXBhcmlzb24gZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgXG4gKiAgZm9yIG1vcmUgZGV0YWlscy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBzdGFjayBUcmFja3MgdHJhdmVyc2VkIGBhcnJheWAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYXJyYXlzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGVxdWFsQXJyYXlzKGFycmF5LCBvdGhlciwgZXF1YWxGdW5jLCBjdXN0b21pemVyLCBiaXRtYXNrLCBzdGFjaykge1xuICB2YXIgaXNQYXJ0aWFsID0gYml0bWFzayAmIFBBUlRJQUxfQ09NUEFSRV9GTEFHLFxuICAgICAgYXJyTGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgb3RoTGVuZ3RoID0gb3RoZXIubGVuZ3RoO1xuXG4gIGlmIChhcnJMZW5ndGggIT0gb3RoTGVuZ3RoICYmICEoaXNQYXJ0aWFsICYmIG90aExlbmd0aCA+IGFyckxlbmd0aCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgLy8gQXNzdW1lIGN5Y2xpYyB2YWx1ZXMgYXJlIGVxdWFsLlxuICB2YXIgc3RhY2tlZCA9IHN0YWNrLmdldChhcnJheSk7XG4gIGlmIChzdGFja2VkICYmIHN0YWNrLmdldChvdGhlcikpIHtcbiAgICByZXR1cm4gc3RhY2tlZCA9PSBvdGhlcjtcbiAgfVxuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIHJlc3VsdCA9IHRydWUsXG4gICAgICBzZWVuID0gKGJpdG1hc2sgJiBVTk9SREVSRURfQ09NUEFSRV9GTEFHKSA/IG5ldyBTZXRDYWNoZSA6IHVuZGVmaW5lZDtcblxuICBzdGFjay5zZXQoYXJyYXksIG90aGVyKTtcbiAgc3RhY2suc2V0KG90aGVyLCBhcnJheSk7XG5cbiAgLy8gSWdub3JlIG5vbi1pbmRleCBwcm9wZXJ0aWVzLlxuICB3aGlsZSAoKytpbmRleCA8IGFyckxlbmd0aCkge1xuICAgIHZhciBhcnJWYWx1ZSA9IGFycmF5W2luZGV4XSxcbiAgICAgICAgb3RoVmFsdWUgPSBvdGhlcltpbmRleF07XG5cbiAgICBpZiAoY3VzdG9taXplcikge1xuICAgICAgdmFyIGNvbXBhcmVkID0gaXNQYXJ0aWFsXG4gICAgICAgID8gY3VzdG9taXplcihvdGhWYWx1ZSwgYXJyVmFsdWUsIGluZGV4LCBvdGhlciwgYXJyYXksIHN0YWNrKVxuICAgICAgICA6IGN1c3RvbWl6ZXIoYXJyVmFsdWUsIG90aFZhbHVlLCBpbmRleCwgYXJyYXksIG90aGVyLCBzdGFjayk7XG4gICAgfVxuICAgIGlmIChjb21wYXJlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBpZiAoY29tcGFyZWQpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICAvLyBSZWN1cnNpdmVseSBjb21wYXJlIGFycmF5cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgIGlmIChzZWVuKSB7XG4gICAgICBpZiAoIWFycmF5U29tZShvdGhlciwgZnVuY3Rpb24ob3RoVmFsdWUsIG90aEluZGV4KSB7XG4gICAgICAgICAgICBpZiAoIXNlZW4uaGFzKG90aEluZGV4KSAmJlxuICAgICAgICAgICAgICAgIChhcnJWYWx1ZSA9PT0gb3RoVmFsdWUgfHwgZXF1YWxGdW5jKGFyclZhbHVlLCBvdGhWYWx1ZSwgY3VzdG9taXplciwgYml0bWFzaywgc3RhY2spKSkge1xuICAgICAgICAgICAgICByZXR1cm4gc2Vlbi5hZGQob3RoSW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pKSB7XG4gICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCEoXG4gICAgICAgICAgYXJyVmFsdWUgPT09IG90aFZhbHVlIHx8XG4gICAgICAgICAgICBlcXVhbEZ1bmMoYXJyVmFsdWUsIG90aFZhbHVlLCBjdXN0b21pemVyLCBiaXRtYXNrLCBzdGFjaylcbiAgICAgICAgKSkge1xuICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgc3RhY2tbJ2RlbGV0ZSddKGFycmF5KTtcbiAgc3RhY2tbJ2RlbGV0ZSddKG90aGVyKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VJc0VxdWFsRGVlcGAgZm9yIGNvbXBhcmluZyBvYmplY3RzIG9mXG4gKiB0aGUgc2FtZSBgdG9TdHJpbmdUYWdgLlxuICpcbiAqICoqTm90ZToqKiBUaGlzIGZ1bmN0aW9uIG9ubHkgc3VwcG9ydHMgY29tcGFyaW5nIHZhbHVlcyB3aXRoIHRhZ3Mgb2ZcbiAqIGBCb29sZWFuYCwgYERhdGVgLCBgRXJyb3JgLCBgTnVtYmVyYCwgYFJlZ0V4cGAsIG9yIGBTdHJpbmdgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvdGhlciBUaGUgb3RoZXIgb2JqZWN0IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGFnIFRoZSBgdG9TdHJpbmdUYWdgIG9mIHRoZSBvYmplY3RzIHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcXVhbEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRldGVybWluZSBlcXVpdmFsZW50cyBvZiB2YWx1ZXMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBvZiBjb21wYXJpc29uIGZsYWdzLiBTZWUgYGJhc2VJc0VxdWFsYFxuICogIGZvciBtb3JlIGRldGFpbHMuXG4gKiBAcGFyYW0ge09iamVjdH0gc3RhY2sgVHJhY2tzIHRyYXZlcnNlZCBgb2JqZWN0YCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBvYmplY3RzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGVxdWFsQnlUYWcob2JqZWN0LCBvdGhlciwgdGFnLCBlcXVhbEZ1bmMsIGN1c3RvbWl6ZXIsIGJpdG1hc2ssIHN0YWNrKSB7XG4gIHN3aXRjaCAodGFnKSB7XG4gICAgY2FzZSBkYXRhVmlld1RhZzpcbiAgICAgIGlmICgob2JqZWN0LmJ5dGVMZW5ndGggIT0gb3RoZXIuYnl0ZUxlbmd0aCkgfHxcbiAgICAgICAgICAob2JqZWN0LmJ5dGVPZmZzZXQgIT0gb3RoZXIuYnl0ZU9mZnNldCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgb2JqZWN0ID0gb2JqZWN0LmJ1ZmZlcjtcbiAgICAgIG90aGVyID0gb3RoZXIuYnVmZmVyO1xuXG4gICAgY2FzZSBhcnJheUJ1ZmZlclRhZzpcbiAgICAgIGlmICgob2JqZWN0LmJ5dGVMZW5ndGggIT0gb3RoZXIuYnl0ZUxlbmd0aCkgfHxcbiAgICAgICAgICAhZXF1YWxGdW5jKG5ldyBVaW50OEFycmF5KG9iamVjdCksIG5ldyBVaW50OEFycmF5KG90aGVyKSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICBjYXNlIGJvb2xUYWc6XG4gICAgY2FzZSBkYXRlVGFnOlxuICAgIGNhc2UgbnVtYmVyVGFnOlxuICAgICAgLy8gQ29lcmNlIGJvb2xlYW5zIHRvIGAxYCBvciBgMGAgYW5kIGRhdGVzIHRvIG1pbGxpc2Vjb25kcy5cbiAgICAgIC8vIEludmFsaWQgZGF0ZXMgYXJlIGNvZXJjZWQgdG8gYE5hTmAuXG4gICAgICByZXR1cm4gZXEoK29iamVjdCwgK290aGVyKTtcblxuICAgIGNhc2UgZXJyb3JUYWc6XG4gICAgICByZXR1cm4gb2JqZWN0Lm5hbWUgPT0gb3RoZXIubmFtZSAmJiBvYmplY3QubWVzc2FnZSA9PSBvdGhlci5tZXNzYWdlO1xuXG4gICAgY2FzZSByZWdleHBUYWc6XG4gICAgY2FzZSBzdHJpbmdUYWc6XG4gICAgICAvLyBDb2VyY2UgcmVnZXhlcyB0byBzdHJpbmdzIGFuZCB0cmVhdCBzdHJpbmdzLCBwcmltaXRpdmVzIGFuZCBvYmplY3RzLFxuICAgICAgLy8gYXMgZXF1YWwuIFNlZSBodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtcmVnZXhwLnByb3RvdHlwZS50b3N0cmluZ1xuICAgICAgLy8gZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgIHJldHVybiBvYmplY3QgPT0gKG90aGVyICsgJycpO1xuXG4gICAgY2FzZSBtYXBUYWc6XG4gICAgICB2YXIgY29udmVydCA9IG1hcFRvQXJyYXk7XG5cbiAgICBjYXNlIHNldFRhZzpcbiAgICAgIHZhciBpc1BhcnRpYWwgPSBiaXRtYXNrICYgUEFSVElBTF9DT01QQVJFX0ZMQUc7XG4gICAgICBjb252ZXJ0IHx8IChjb252ZXJ0ID0gc2V0VG9BcnJheSk7XG5cbiAgICAgIGlmIChvYmplY3Quc2l6ZSAhPSBvdGhlci5zaXplICYmICFpc1BhcnRpYWwpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgLy8gQXNzdW1lIGN5Y2xpYyB2YWx1ZXMgYXJlIGVxdWFsLlxuICAgICAgdmFyIHN0YWNrZWQgPSBzdGFjay5nZXQob2JqZWN0KTtcbiAgICAgIGlmIChzdGFja2VkKSB7XG4gICAgICAgIHJldHVybiBzdGFja2VkID09IG90aGVyO1xuICAgICAgfVxuICAgICAgYml0bWFzayB8PSBVTk9SREVSRURfQ09NUEFSRV9GTEFHO1xuXG4gICAgICAvLyBSZWN1cnNpdmVseSBjb21wYXJlIG9iamVjdHMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgIHN0YWNrLnNldChvYmplY3QsIG90aGVyKTtcbiAgICAgIHZhciByZXN1bHQgPSBlcXVhbEFycmF5cyhjb252ZXJ0KG9iamVjdCksIGNvbnZlcnQob3RoZXIpLCBlcXVhbEZ1bmMsIGN1c3RvbWl6ZXIsIGJpdG1hc2ssIHN0YWNrKTtcbiAgICAgIHN0YWNrWydkZWxldGUnXShvYmplY3QpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcblxuICAgIGNhc2Ugc3ltYm9sVGFnOlxuICAgICAgaWYgKHN5bWJvbFZhbHVlT2YpIHtcbiAgICAgICAgcmV0dXJuIHN5bWJvbFZhbHVlT2YuY2FsbChvYmplY3QpID09IHN5bWJvbFZhbHVlT2YuY2FsbChvdGhlcik7XG4gICAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxEZWVwYCBmb3Igb2JqZWN0cyB3aXRoIHN1cHBvcnQgZm9yXG4gKiBwYXJ0aWFsIGRlZXAgY29tcGFyaXNvbnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjb21wYXJlLlxuICogQHBhcmFtIHtPYmplY3R9IG90aGVyIFRoZSBvdGhlciBvYmplY3QgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIG9mIGNvbXBhcmlzb24gZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgXG4gKiAgZm9yIG1vcmUgZGV0YWlscy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBzdGFjayBUcmFja3MgdHJhdmVyc2VkIGBvYmplY3RgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG9iamVjdHMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gZXF1YWxPYmplY3RzKG9iamVjdCwgb3RoZXIsIGVxdWFsRnVuYywgY3VzdG9taXplciwgYml0bWFzaywgc3RhY2spIHtcbiAgdmFyIGlzUGFydGlhbCA9IGJpdG1hc2sgJiBQQVJUSUFMX0NPTVBBUkVfRkxBRyxcbiAgICAgIG9ialByb3BzID0ga2V5cyhvYmplY3QpLFxuICAgICAgb2JqTGVuZ3RoID0gb2JqUHJvcHMubGVuZ3RoLFxuICAgICAgb3RoUHJvcHMgPSBrZXlzKG90aGVyKSxcbiAgICAgIG90aExlbmd0aCA9IG90aFByb3BzLmxlbmd0aDtcblxuICBpZiAob2JqTGVuZ3RoICE9IG90aExlbmd0aCAmJiAhaXNQYXJ0aWFsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBpbmRleCA9IG9iakxlbmd0aDtcbiAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICB2YXIga2V5ID0gb2JqUHJvcHNbaW5kZXhdO1xuICAgIGlmICghKGlzUGFydGlhbCA/IGtleSBpbiBvdGhlciA6IGhhc093blByb3BlcnR5LmNhbGwob3RoZXIsIGtleSkpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIC8vIEFzc3VtZSBjeWNsaWMgdmFsdWVzIGFyZSBlcXVhbC5cbiAgdmFyIHN0YWNrZWQgPSBzdGFjay5nZXQob2JqZWN0KTtcbiAgaWYgKHN0YWNrZWQgJiYgc3RhY2suZ2V0KG90aGVyKSkge1xuICAgIHJldHVybiBzdGFja2VkID09IG90aGVyO1xuICB9XG4gIHZhciByZXN1bHQgPSB0cnVlO1xuICBzdGFjay5zZXQob2JqZWN0LCBvdGhlcik7XG4gIHN0YWNrLnNldChvdGhlciwgb2JqZWN0KTtcblxuICB2YXIgc2tpcEN0b3IgPSBpc1BhcnRpYWw7XG4gIHdoaWxlICgrK2luZGV4IDwgb2JqTGVuZ3RoKSB7XG4gICAga2V5ID0gb2JqUHJvcHNbaW5kZXhdO1xuICAgIHZhciBvYmpWYWx1ZSA9IG9iamVjdFtrZXldLFxuICAgICAgICBvdGhWYWx1ZSA9IG90aGVyW2tleV07XG5cbiAgICBpZiAoY3VzdG9taXplcikge1xuICAgICAgdmFyIGNvbXBhcmVkID0gaXNQYXJ0aWFsXG4gICAgICAgID8gY3VzdG9taXplcihvdGhWYWx1ZSwgb2JqVmFsdWUsIGtleSwgb3RoZXIsIG9iamVjdCwgc3RhY2spXG4gICAgICAgIDogY3VzdG9taXplcihvYmpWYWx1ZSwgb3RoVmFsdWUsIGtleSwgb2JqZWN0LCBvdGhlciwgc3RhY2spO1xuICAgIH1cbiAgICAvLyBSZWN1cnNpdmVseSBjb21wYXJlIG9iamVjdHMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICBpZiAoIShjb21wYXJlZCA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgPyAob2JqVmFsdWUgPT09IG90aFZhbHVlIHx8IGVxdWFsRnVuYyhvYmpWYWx1ZSwgb3RoVmFsdWUsIGN1c3RvbWl6ZXIsIGJpdG1hc2ssIHN0YWNrKSlcbiAgICAgICAgICA6IGNvbXBhcmVkXG4gICAgICAgICkpIHtcbiAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHNraXBDdG9yIHx8IChza2lwQ3RvciA9IGtleSA9PSAnY29uc3RydWN0b3InKTtcbiAgfVxuICBpZiAocmVzdWx0ICYmICFza2lwQ3Rvcikge1xuICAgIHZhciBvYmpDdG9yID0gb2JqZWN0LmNvbnN0cnVjdG9yLFxuICAgICAgICBvdGhDdG9yID0gb3RoZXIuY29uc3RydWN0b3I7XG5cbiAgICAvLyBOb24gYE9iamVjdGAgb2JqZWN0IGluc3RhbmNlcyB3aXRoIGRpZmZlcmVudCBjb25zdHJ1Y3RvcnMgYXJlIG5vdCBlcXVhbC5cbiAgICBpZiAob2JqQ3RvciAhPSBvdGhDdG9yICYmXG4gICAgICAgICgnY29uc3RydWN0b3InIGluIG9iamVjdCAmJiAnY29uc3RydWN0b3InIGluIG90aGVyKSAmJlxuICAgICAgICAhKHR5cGVvZiBvYmpDdG9yID09ICdmdW5jdGlvbicgJiYgb2JqQ3RvciBpbnN0YW5jZW9mIG9iakN0b3IgJiZcbiAgICAgICAgICB0eXBlb2Ygb3RoQ3RvciA9PSAnZnVuY3Rpb24nICYmIG90aEN0b3IgaW5zdGFuY2VvZiBvdGhDdG9yKSkge1xuICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgfVxuICB9XG4gIHN0YWNrWydkZWxldGUnXShvYmplY3QpO1xuICBzdGFja1snZGVsZXRlJ10ob3RoZXIpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEdldHMgdGhlIGRhdGEgZm9yIGBtYXBgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gbWFwIFRoZSBtYXAgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSByZWZlcmVuY2Uga2V5LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1hcCBkYXRhLlxuICovXG5mdW5jdGlvbiBnZXRNYXBEYXRhKG1hcCwga2V5KSB7XG4gIHZhciBkYXRhID0gbWFwLl9fZGF0YV9fO1xuICByZXR1cm4gaXNLZXlhYmxlKGtleSlcbiAgICA/IGRhdGFbdHlwZW9mIGtleSA9PSAnc3RyaW5nJyA/ICdzdHJpbmcnIDogJ2hhc2gnXVxuICAgIDogZGF0YS5tYXA7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgcHJvcGVydHkgbmFtZXMsIHZhbHVlcywgYW5kIGNvbXBhcmUgZmxhZ3Mgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbWF0Y2ggZGF0YSBvZiBgb2JqZWN0YC5cbiAqL1xuZnVuY3Rpb24gZ2V0TWF0Y2hEYXRhKG9iamVjdCkge1xuICB2YXIgcmVzdWx0ID0ga2V5cyhvYmplY3QpLFxuICAgICAgbGVuZ3RoID0gcmVzdWx0Lmxlbmd0aDtcblxuICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICB2YXIga2V5ID0gcmVzdWx0W2xlbmd0aF0sXG4gICAgICAgIHZhbHVlID0gb2JqZWN0W2tleV07XG5cbiAgICByZXN1bHRbbGVuZ3RoXSA9IFtrZXksIHZhbHVlLCBpc1N0cmljdENvbXBhcmFibGUodmFsdWUpXTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEdldHMgdGhlIG5hdGl2ZSBmdW5jdGlvbiBhdCBga2V5YCBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBtZXRob2QgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGZ1bmN0aW9uIGlmIGl0J3MgbmF0aXZlLCBlbHNlIGB1bmRlZmluZWRgLlxuICovXG5mdW5jdGlvbiBnZXROYXRpdmUob2JqZWN0LCBrZXkpIHtcbiAgdmFyIHZhbHVlID0gZ2V0VmFsdWUob2JqZWN0LCBrZXkpO1xuICByZXR1cm4gYmFzZUlzTmF0aXZlKHZhbHVlKSA/IHZhbHVlIDogdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIGB0b1N0cmluZ1RhZ2Agb2YgYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBgdG9TdHJpbmdUYWdgLlxuICovXG52YXIgZ2V0VGFnID0gYmFzZUdldFRhZztcblxuLy8gRmFsbGJhY2sgZm9yIGRhdGEgdmlld3MsIG1hcHMsIHNldHMsIGFuZCB3ZWFrIG1hcHMgaW4gSUUgMTEsXG4vLyBmb3IgZGF0YSB2aWV3cyBpbiBFZGdlIDwgMTQsIGFuZCBwcm9taXNlcyBpbiBOb2RlLmpzLlxuaWYgKChEYXRhVmlldyAmJiBnZXRUYWcobmV3IERhdGFWaWV3KG5ldyBBcnJheUJ1ZmZlcigxKSkpICE9IGRhdGFWaWV3VGFnKSB8fFxuICAgIChNYXAgJiYgZ2V0VGFnKG5ldyBNYXApICE9IG1hcFRhZykgfHxcbiAgICAoUHJvbWlzZSAmJiBnZXRUYWcoUHJvbWlzZS5yZXNvbHZlKCkpICE9IHByb21pc2VUYWcpIHx8XG4gICAgKFNldCAmJiBnZXRUYWcobmV3IFNldCkgIT0gc2V0VGFnKSB8fFxuICAgIChXZWFrTWFwICYmIGdldFRhZyhuZXcgV2Vha01hcCkgIT0gd2Vha01hcFRhZykpIHtcbiAgZ2V0VGFnID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICB2YXIgcmVzdWx0ID0gb2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSksXG4gICAgICAgIEN0b3IgPSByZXN1bHQgPT0gb2JqZWN0VGFnID8gdmFsdWUuY29uc3RydWN0b3IgOiB1bmRlZmluZWQsXG4gICAgICAgIGN0b3JTdHJpbmcgPSBDdG9yID8gdG9Tb3VyY2UoQ3RvcikgOiB1bmRlZmluZWQ7XG5cbiAgICBpZiAoY3RvclN0cmluZykge1xuICAgICAgc3dpdGNoIChjdG9yU3RyaW5nKSB7XG4gICAgICAgIGNhc2UgZGF0YVZpZXdDdG9yU3RyaW5nOiByZXR1cm4gZGF0YVZpZXdUYWc7XG4gICAgICAgIGNhc2UgbWFwQ3RvclN0cmluZzogcmV0dXJuIG1hcFRhZztcbiAgICAgICAgY2FzZSBwcm9taXNlQ3RvclN0cmluZzogcmV0dXJuIHByb21pc2VUYWc7XG4gICAgICAgIGNhc2Ugc2V0Q3RvclN0cmluZzogcmV0dXJuIHNldFRhZztcbiAgICAgICAgY2FzZSB3ZWFrTWFwQ3RvclN0cmluZzogcmV0dXJuIHdlYWtNYXBUYWc7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBhcnJheS1saWtlIGluZGV4LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoPU1BWF9TQUZFX0lOVEVHRVJdIFRoZSB1cHBlciBib3VuZHMgb2YgYSB2YWxpZCBpbmRleC5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgaW5kZXgsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNJbmRleCh2YWx1ZSwgbGVuZ3RoKSB7XG4gIGxlbmd0aCA9IGxlbmd0aCA9PSBudWxsID8gTUFYX1NBRkVfSU5URUdFUiA6IGxlbmd0aDtcbiAgcmV0dXJuICEhbGVuZ3RoICYmXG4gICAgKHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyB8fCByZUlzVWludC50ZXN0KHZhbHVlKSkgJiZcbiAgICAodmFsdWUgPiAtMSAmJiB2YWx1ZSAlIDEgPT0gMCAmJiB2YWx1ZSA8IGxlbmd0aCk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgc3VpdGFibGUgZm9yIHVzZSBhcyB1bmlxdWUgb2JqZWN0IGtleS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBzdWl0YWJsZSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0tleWFibGUodmFsdWUpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIHJldHVybiAodHlwZSA9PSAnc3RyaW5nJyB8fCB0eXBlID09ICdudW1iZXInIHx8IHR5cGUgPT0gJ3N5bWJvbCcgfHwgdHlwZSA9PSAnYm9vbGVhbicpXG4gICAgPyAodmFsdWUgIT09ICdfX3Byb3RvX18nKVxuICAgIDogKHZhbHVlID09PSBudWxsKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYGZ1bmNgIGhhcyBpdHMgc291cmNlIG1hc2tlZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGZ1bmNgIGlzIG1hc2tlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc01hc2tlZChmdW5jKSB7XG4gIHJldHVybiAhIW1hc2tTcmNLZXkgJiYgKG1hc2tTcmNLZXkgaW4gZnVuYyk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGlrZWx5IGEgcHJvdG90eXBlIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHByb3RvdHlwZSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc1Byb3RvdHlwZSh2YWx1ZSkge1xuICB2YXIgQ3RvciA9IHZhbHVlICYmIHZhbHVlLmNvbnN0cnVjdG9yLFxuICAgICAgcHJvdG8gPSAodHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBDdG9yLnByb3RvdHlwZSkgfHwgb2JqZWN0UHJvdG87XG5cbiAgcmV0dXJuIHZhbHVlID09PSBwcm90bztcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBzdWl0YWJsZSBmb3Igc3RyaWN0IGVxdWFsaXR5IGNvbXBhcmlzb25zLCBpLmUuIGA9PT1gLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlmIHN1aXRhYmxlIGZvciBzdHJpY3RcbiAqICBlcXVhbGl0eSBjb21wYXJpc29ucywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc1N0cmljdENvbXBhcmFibGUodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlID09PSB2YWx1ZSAmJiAhaXNPYmplY3QodmFsdWUpO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGBmdW5jYCB0byBpdHMgc291cmNlIGNvZGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHByb2Nlc3MuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzb3VyY2UgY29kZS5cbiAqL1xuZnVuY3Rpb24gdG9Tb3VyY2UoZnVuYykge1xuICBpZiAoZnVuYyAhPSBudWxsKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBmdW5jVG9TdHJpbmcuY2FsbChmdW5jKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICAgIHRyeSB7XG4gICAgICByZXR1cm4gKGZ1bmMgKyAnJyk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgfVxuICByZXR1cm4gJyc7XG59XG5cbi8qKlxuICogUGVyZm9ybXMgYVxuICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAqIGNvbXBhcmlzb24gYmV0d2VlbiB0d28gdmFsdWVzIHRvIGRldGVybWluZSBpZiB0aGV5IGFyZSBlcXVpdmFsZW50LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3QgPSB7ICdhJzogMSB9O1xuICogdmFyIG90aGVyID0geyAnYSc6IDEgfTtcbiAqXG4gKiBfLmVxKG9iamVjdCwgb2JqZWN0KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmVxKG9iamVjdCwgb3RoZXIpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmVxKCdhJywgJ2EnKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmVxKCdhJywgT2JqZWN0KCdhJykpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmVxKE5hTiwgTmFOKTtcbiAqIC8vID0+IHRydWVcbiAqL1xuZnVuY3Rpb24gZXEodmFsdWUsIG90aGVyKSB7XG4gIHJldHVybiB2YWx1ZSA9PT0gb3RoZXIgfHwgKHZhbHVlICE9PSB2YWx1ZSAmJiBvdGhlciAhPT0gb3RoZXIpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxpa2VseSBhbiBgYXJndW1lbnRzYCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LFxuICogIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FyZ3VtZW50cyhmdW5jdGlvbigpIHsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJndW1lbnRzKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FyZ3VtZW50cyh2YWx1ZSkge1xuICAvLyBTYWZhcmkgOC4xIG1ha2VzIGBhcmd1bWVudHMuY2FsbGVlYCBlbnVtZXJhYmxlIGluIHN0cmljdCBtb2RlLlxuICByZXR1cm4gaXNBcnJheUxpa2VPYmplY3QodmFsdWUpICYmIGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsICdjYWxsZWUnKSAmJlxuICAgICghcHJvcGVydHlJc0VudW1lcmFibGUuY2FsbCh2YWx1ZSwgJ2NhbGxlZScpIHx8IG9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpID09IGFyZ3NUYWcpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYW4gYEFycmF5YCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FycmF5KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5KGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzQXJyYXkoJ2FiYycpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzQXJyYXkoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhcnJheS1saWtlLiBBIHZhbHVlIGlzIGNvbnNpZGVyZWQgYXJyYXktbGlrZSBpZiBpdCdzXG4gKiBub3QgYSBmdW5jdGlvbiBhbmQgaGFzIGEgYHZhbHVlLmxlbmd0aGAgdGhhdCdzIGFuIGludGVnZXIgZ3JlYXRlciB0aGFuIG9yXG4gKiBlcXVhbCB0byBgMGAgYW5kIGxlc3MgdGhhbiBvciBlcXVhbCB0byBgTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVJgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFycmF5LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FycmF5TGlrZShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZSgnYWJjJyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNBcnJheUxpa2UodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgaXNMZW5ndGgodmFsdWUubGVuZ3RoKSAmJiAhaXNGdW5jdGlvbih2YWx1ZSk7XG59XG5cbi8qKlxuICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pc0FycmF5TGlrZWAgZXhjZXB0IHRoYXQgaXQgYWxzbyBjaGVja3MgaWYgYHZhbHVlYFxuICogaXMgYW4gb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5LWxpa2Ugb2JqZWN0LFxuICogIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FycmF5TGlrZU9iamVjdChbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2VPYmplY3QoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZU9iamVjdCgnYWJjJyk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNBcnJheUxpa2VPYmplY3QoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXlMaWtlT2JqZWN0KHZhbHVlKSB7XG4gIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGlzQXJyYXlMaWtlKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYEZ1bmN0aW9uYCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBmdW5jdGlvbiwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzRnVuY3Rpb24oXyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0Z1bmN0aW9uKC9hYmMvKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHtcbiAgLy8gVGhlIHVzZSBvZiBgT2JqZWN0I3RvU3RyaW5nYCBhdm9pZHMgaXNzdWVzIHdpdGggdGhlIGB0eXBlb2ZgIG9wZXJhdG9yXG4gIC8vIGluIFNhZmFyaSA4LTkgd2hpY2ggcmV0dXJucyAnb2JqZWN0JyBmb3IgdHlwZWQgYXJyYXkgYW5kIG90aGVyIGNvbnN0cnVjdG9ycy5cbiAgdmFyIHRhZyA9IGlzT2JqZWN0KHZhbHVlKSA/IG9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpIDogJyc7XG4gIHJldHVybiB0YWcgPT0gZnVuY1RhZyB8fCB0YWcgPT0gZ2VuVGFnO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBsZW5ndGguXG4gKlxuICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGxvb3NlbHkgYmFzZWQgb25cbiAqIFtgVG9MZW5ndGhgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy10b2xlbmd0aCkuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBsZW5ndGgsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0xlbmd0aCgzKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzTGVuZ3RoKE51bWJlci5NSU5fVkFMVUUpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzTGVuZ3RoKEluZmluaXR5KTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0xlbmd0aCgnMycpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNMZW5ndGgodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyAmJlxuICAgIHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPD0gTUFYX1NBRkVfSU5URUdFUjtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyB0aGVcbiAqIFtsYW5ndWFnZSB0eXBlXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtZWNtYXNjcmlwdC1sYW5ndWFnZS10eXBlcylcbiAqIG9mIGBPYmplY3RgLiAoZS5nLiBhcnJheXMsIGZ1bmN0aW9ucywgb2JqZWN0cywgcmVnZXhlcywgYG5ldyBOdW1iZXIoMClgLCBhbmQgYG5ldyBTdHJpbmcoJycpYClcbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdCh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoXy5ub29wKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIHJldHVybiAhIXZhbHVlICYmICh0eXBlID09ICdvYmplY3QnIHx8IHR5cGUgPT0gJ2Z1bmN0aW9uJyk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UuIEEgdmFsdWUgaXMgb2JqZWN0LWxpa2UgaWYgaXQncyBub3QgYG51bGxgXG4gKiBhbmQgaGFzIGEgYHR5cGVvZmAgcmVzdWx0IG9mIFwib2JqZWN0XCIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdExpa2Uoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc09iamVjdExpa2UobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdExpa2UodmFsdWUpIHtcbiAgcmV0dXJuICEhdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnO1xufVxuXG4vKipcbiAqIFBlcmZvcm1zIGEgcGFydGlhbCBkZWVwIGNvbXBhcmlzb24gYmV0d2VlbiBgb2JqZWN0YCBhbmQgYHNvdXJjZWAgdG9cbiAqIGRldGVybWluZSBpZiBgb2JqZWN0YCBjb250YWlucyBlcXVpdmFsZW50IHByb3BlcnR5IHZhbHVlcy5cbiAqXG4gKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgZXF1aXZhbGVudCB0byBgXy5tYXRjaGVzYCB3aGVuIGBzb3VyY2VgIGlzXG4gKiBwYXJ0aWFsbHkgYXBwbGllZC5cbiAqXG4gKiBQYXJ0aWFsIGNvbXBhcmlzb25zIHdpbGwgbWF0Y2ggZW1wdHkgYXJyYXkgYW5kIGVtcHR5IG9iamVjdCBgc291cmNlYFxuICogdmFsdWVzIGFnYWluc3QgYW55IGFycmF5IG9yIG9iamVjdCB2YWx1ZSwgcmVzcGVjdGl2ZWx5LiBTZWUgYF8uaXNFcXVhbGBcbiAqIGZvciBhIGxpc3Qgb2Ygc3VwcG9ydGVkIHZhbHVlIGNvbXBhcmlzb25zLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMy4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSB2YWx1ZXMgdG8gbWF0Y2guXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYG9iamVjdGAgaXMgYSBtYXRjaCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogMiB9O1xuICpcbiAqIF8uaXNNYXRjaChvYmplY3QsIHsgJ2InOiAyIH0pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNNYXRjaChvYmplY3QsIHsgJ2InOiAxIH0pO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNNYXRjaChvYmplY3QsIHNvdXJjZSkge1xuICByZXR1cm4gb2JqZWN0ID09PSBzb3VyY2UgfHwgYmFzZUlzTWF0Y2gob2JqZWN0LCBzb3VyY2UsIGdldE1hdGNoRGF0YShzb3VyY2UpKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgdHlwZWQgYXJyYXkuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAzLjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB0eXBlZCBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzVHlwZWRBcnJheShuZXcgVWludDhBcnJheSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc1R5cGVkQXJyYXkoW10pO1xuICogLy8gPT4gZmFsc2VcbiAqL1xudmFyIGlzVHlwZWRBcnJheSA9IG5vZGVJc1R5cGVkQXJyYXkgPyBiYXNlVW5hcnkobm9kZUlzVHlwZWRBcnJheSkgOiBiYXNlSXNUeXBlZEFycmF5O1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIG9mIGBvYmplY3RgLlxuICpcbiAqICoqTm90ZToqKiBOb24tb2JqZWN0IHZhbHVlcyBhcmUgY29lcmNlZCB0byBvYmplY3RzLiBTZWUgdGhlXG4gKiBbRVMgc3BlY10oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LmtleXMpXG4gKiBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBzaW5jZSAwLjEuMFxuICogQG1lbWJlck9mIF9cbiAqIEBjYXRlZ29yeSBPYmplY3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gKiBAZXhhbXBsZVxuICpcbiAqIGZ1bmN0aW9uIEZvbygpIHtcbiAqICAgdGhpcy5hID0gMTtcbiAqICAgdGhpcy5iID0gMjtcbiAqIH1cbiAqXG4gKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICpcbiAqIF8ua2V5cyhuZXcgRm9vKTtcbiAqIC8vID0+IFsnYScsICdiJ10gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAqXG4gKiBfLmtleXMoJ2hpJyk7XG4gKiAvLyA9PiBbJzAnLCAnMSddXG4gKi9cbmZ1bmN0aW9uIGtleXMob2JqZWN0KSB7XG4gIHJldHVybiBpc0FycmF5TGlrZShvYmplY3QpID8gYXJyYXlMaWtlS2V5cyhvYmplY3QpIDogYmFzZUtleXMob2JqZWN0KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc01hdGNoO1xuIiwgIid1c2Ugc3RyaWN0Jztcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG9iaiwgbW9kaWZpZXIpIHtcblx0dmFyIGtleTtcblx0dmFyIHZhbDtcblx0dmFyIHJldCA9IHt9O1xuXHR2YXIga2V5cyA9IE9iamVjdC5rZXlzKE9iamVjdChvYmopKTtcblxuXHRmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcblx0XHRrZXkgPSBrZXlzW2ldO1xuXHRcdHZhbCA9IG9ialtrZXldO1xuXHRcdHJldFtrZXldID0gbW9kaWZpZXIodmFsLCBrZXkpO1xuXHR9XG5cblx0cmV0dXJuIHJldDtcbn07XG4iLCAiJ3VzZSBzdHJpY3QnXG5cbmNvbnN0IGlzTWF0Y2ggPSByZXF1aXJlKCdsb2Rhc2guaXNtYXRjaCcpXG5jb25zdCBtb2RpZnlWYWx1ZXMgPSByZXF1aXJlKCdtb2RpZnktdmFsdWVzJylcblxuZnVuY3Rpb24gbW9kaWZ5VmFsdWUgKHZhbCkge1xuICBpZiAodHlwZW9mIHZhbCA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gdmFsLnRyaW0oKVxuICB9XG5cbiAgcmV0dXJuIHZhbFxufVxuXG5mdW5jdGlvbiBjb252ZW50aW9uYWxDb21taXRzRmlsdGVyIChjb21taXRzKSB7XG4gIGlmICghQXJyYXkuaXNBcnJheShjb21taXRzKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0V4cGVjdGVkIGFuIGFycmF5JylcbiAgfVxuXG4gIGxldCByZXQgPSBbXVxuICBjb25zdCBpZ25vcmVzID0gW11cbiAgY29uc3QgcmVtb3ZlID0gW11cbiAgY29tbWl0cy5mb3JFYWNoKGZ1bmN0aW9uIChjb21taXQpIHtcbiAgICBpZiAoY29tbWl0LnJldmVydCkge1xuICAgICAgaWdub3Jlcy5wdXNoKGNvbW1pdClcbiAgICB9XG5cbiAgICByZXQucHVzaChjb21taXQpXG4gIH0pXG5cbiAgLy8gRmlsdGVyIG91dCByZXZlcnRlZCBjb21taXRzXG4gIHJldCA9IHJldC5maWx0ZXIoZnVuY3Rpb24gKGNvbW1pdCkge1xuICAgIGxldCBpZ25vcmVUaGlzID0gZmFsc2VcblxuICAgIGNvbW1pdCA9IGNvbW1pdC5yYXcgPyBtb2RpZnlWYWx1ZXMoY29tbWl0LnJhdywgbW9kaWZ5VmFsdWUpIDogbW9kaWZ5VmFsdWVzKGNvbW1pdCwgbW9kaWZ5VmFsdWUpXG5cbiAgICBpZ25vcmVzLnNvbWUoZnVuY3Rpb24gKGlnbm9yZUNvbW1pdCkge1xuICAgICAgY29uc3QgaWdub3JlID0gbW9kaWZ5VmFsdWVzKGlnbm9yZUNvbW1pdC5yZXZlcnQsIG1vZGlmeVZhbHVlKVxuXG4gICAgICBpZ25vcmVUaGlzID0gaXNNYXRjaChjb21taXQsIGlnbm9yZSlcblxuICAgICAgaWYgKGlnbm9yZVRoaXMpIHtcbiAgICAgICAgcmVtb3ZlLnB1c2goaWdub3JlQ29tbWl0Lmhhc2gpXG4gICAgICB9XG5cbiAgICAgIHJldHVybiBpZ25vcmVUaGlzXG4gICAgfSlcblxuICAgIHJldHVybiAhaWdub3JlVGhpc1xuICB9KVxuXG4gIC8vIEZpbHRlciBvdXQgdGhlIGNvbW1pdHMgdGhhdCByZXZlcnRlZCBzb21ldGhpbmcgb3RoZXJ3aXNlIGtlZXAgdGhlIHJldmVydCBjb21taXRzXG4gIHJldCA9IHJldC5maWx0ZXIoZnVuY3Rpb24gKGNvbW1pdCkge1xuICAgIHJldHVybiByZW1vdmUuaW5kZXhPZihjb21taXQuaGFzaCkgIT09IDBcbiAgfSlcblxuICByZXR1cm4gcmV0XG59XG5cbm1vZHVsZS5leHBvcnRzID0gY29udmVudGlvbmFsQ29tbWl0c0ZpbHRlclxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIExvZGFzaCA8aHR0cHM6Ly9sb2Rhc2guY29tLz5cbiAqIENvcHlyaWdodCBPcGVuSlMgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzIDxodHRwczovL29wZW5qc2Yub3JnLz5cbiAqIFJlbGVhc2VkIHVuZGVyIE1JVCBsaWNlbnNlIDxodHRwczovL2xvZGFzaC5jb20vbGljZW5zZT5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS44LjMgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcbiAqL1xuOyhmdW5jdGlvbigpIHtcblxuICAvKiogVXNlZCBhcyBhIHNhZmUgcmVmZXJlbmNlIGZvciBgdW5kZWZpbmVkYCBpbiBwcmUtRVM1IGVudmlyb25tZW50cy4gKi9cbiAgdmFyIHVuZGVmaW5lZDtcblxuICAvKiogVXNlZCBhcyB0aGUgc2VtYW50aWMgdmVyc2lvbiBudW1iZXIuICovXG4gIHZhciBWRVJTSU9OID0gJzQuMTcuMjEnO1xuXG4gIC8qKiBVc2VkIGFzIHRoZSBzaXplIHRvIGVuYWJsZSBsYXJnZSBhcnJheSBvcHRpbWl6YXRpb25zLiAqL1xuICB2YXIgTEFSR0VfQVJSQVlfU0laRSA9IDIwMDtcblxuICAvKiogRXJyb3IgbWVzc2FnZSBjb25zdGFudHMuICovXG4gIHZhciBDT1JFX0VSUk9SX1RFWFQgPSAnVW5zdXBwb3J0ZWQgY29yZS1qcyB1c2UuIFRyeSBodHRwczovL25wbXMuaW8vc2VhcmNoP3E9cG9ueWZpbGwuJyxcbiAgICAgIEZVTkNfRVJST1JfVEVYVCA9ICdFeHBlY3RlZCBhIGZ1bmN0aW9uJyxcbiAgICAgIElOVkFMSURfVEVNUExfVkFSX0VSUk9SX1RFWFQgPSAnSW52YWxpZCBgdmFyaWFibGVgIG9wdGlvbiBwYXNzZWQgaW50byBgXy50ZW1wbGF0ZWAnO1xuXG4gIC8qKiBVc2VkIHRvIHN0YW5kLWluIGZvciBgdW5kZWZpbmVkYCBoYXNoIHZhbHVlcy4gKi9cbiAgdmFyIEhBU0hfVU5ERUZJTkVEID0gJ19fbG9kYXNoX2hhc2hfdW5kZWZpbmVkX18nO1xuXG4gIC8qKiBVc2VkIGFzIHRoZSBtYXhpbXVtIG1lbW9pemUgY2FjaGUgc2l6ZS4gKi9cbiAgdmFyIE1BWF9NRU1PSVpFX1NJWkUgPSA1MDA7XG5cbiAgLyoqIFVzZWQgYXMgdGhlIGludGVybmFsIGFyZ3VtZW50IHBsYWNlaG9sZGVyLiAqL1xuICB2YXIgUExBQ0VIT0xERVIgPSAnX19sb2Rhc2hfcGxhY2Vob2xkZXJfXyc7XG5cbiAgLyoqIFVzZWQgdG8gY29tcG9zZSBiaXRtYXNrcyBmb3IgY2xvbmluZy4gKi9cbiAgdmFyIENMT05FX0RFRVBfRkxBRyA9IDEsXG4gICAgICBDTE9ORV9GTEFUX0ZMQUcgPSAyLFxuICAgICAgQ0xPTkVfU1lNQk9MU19GTEFHID0gNDtcblxuICAvKiogVXNlZCB0byBjb21wb3NlIGJpdG1hc2tzIGZvciB2YWx1ZSBjb21wYXJpc29ucy4gKi9cbiAgdmFyIENPTVBBUkVfUEFSVElBTF9GTEFHID0gMSxcbiAgICAgIENPTVBBUkVfVU5PUkRFUkVEX0ZMQUcgPSAyO1xuXG4gIC8qKiBVc2VkIHRvIGNvbXBvc2UgYml0bWFza3MgZm9yIGZ1bmN0aW9uIG1ldGFkYXRhLiAqL1xuICB2YXIgV1JBUF9CSU5EX0ZMQUcgPSAxLFxuICAgICAgV1JBUF9CSU5EX0tFWV9GTEFHID0gMixcbiAgICAgIFdSQVBfQ1VSUllfQk9VTkRfRkxBRyA9IDQsXG4gICAgICBXUkFQX0NVUlJZX0ZMQUcgPSA4LFxuICAgICAgV1JBUF9DVVJSWV9SSUdIVF9GTEFHID0gMTYsXG4gICAgICBXUkFQX1BBUlRJQUxfRkxBRyA9IDMyLFxuICAgICAgV1JBUF9QQVJUSUFMX1JJR0hUX0ZMQUcgPSA2NCxcbiAgICAgIFdSQVBfQVJZX0ZMQUcgPSAxMjgsXG4gICAgICBXUkFQX1JFQVJHX0ZMQUcgPSAyNTYsXG4gICAgICBXUkFQX0ZMSVBfRkxBRyA9IDUxMjtcblxuICAvKiogVXNlZCBhcyBkZWZhdWx0IG9wdGlvbnMgZm9yIGBfLnRydW5jYXRlYC4gKi9cbiAgdmFyIERFRkFVTFRfVFJVTkNfTEVOR1RIID0gMzAsXG4gICAgICBERUZBVUxUX1RSVU5DX09NSVNTSU9OID0gJy4uLic7XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IGhvdCBmdW5jdGlvbnMgYnkgbnVtYmVyIG9mIGNhbGxzIHdpdGhpbiBhIHNwYW4gb2YgbWlsbGlzZWNvbmRzLiAqL1xuICB2YXIgSE9UX0NPVU5UID0gODAwLFxuICAgICAgSE9UX1NQQU4gPSAxNjtcblxuICAvKiogVXNlZCB0byBpbmRpY2F0ZSB0aGUgdHlwZSBvZiBsYXp5IGl0ZXJhdGVlcy4gKi9cbiAgdmFyIExBWllfRklMVEVSX0ZMQUcgPSAxLFxuICAgICAgTEFaWV9NQVBfRkxBRyA9IDIsXG4gICAgICBMQVpZX1dISUxFX0ZMQUcgPSAzO1xuXG4gIC8qKiBVc2VkIGFzIHJlZmVyZW5jZXMgZm9yIHZhcmlvdXMgYE51bWJlcmAgY29uc3RhbnRzLiAqL1xuICB2YXIgSU5GSU5JVFkgPSAxIC8gMCxcbiAgICAgIE1BWF9TQUZFX0lOVEVHRVIgPSA5MDA3MTk5MjU0NzQwOTkxLFxuICAgICAgTUFYX0lOVEVHRVIgPSAxLjc5NzY5MzEzNDg2MjMxNTdlKzMwOCxcbiAgICAgIE5BTiA9IDAgLyAwO1xuXG4gIC8qKiBVc2VkIGFzIHJlZmVyZW5jZXMgZm9yIHRoZSBtYXhpbXVtIGxlbmd0aCBhbmQgaW5kZXggb2YgYW4gYXJyYXkuICovXG4gIHZhciBNQVhfQVJSQVlfTEVOR1RIID0gNDI5NDk2NzI5NSxcbiAgICAgIE1BWF9BUlJBWV9JTkRFWCA9IE1BWF9BUlJBWV9MRU5HVEggLSAxLFxuICAgICAgSEFMRl9NQVhfQVJSQVlfTEVOR1RIID0gTUFYX0FSUkFZX0xFTkdUSCA+Pj4gMTtcblxuICAvKiogVXNlZCB0byBhc3NvY2lhdGUgd3JhcCBtZXRob2RzIHdpdGggdGhlaXIgYml0IGZsYWdzLiAqL1xuICB2YXIgd3JhcEZsYWdzID0gW1xuICAgIFsnYXJ5JywgV1JBUF9BUllfRkxBR10sXG4gICAgWydiaW5kJywgV1JBUF9CSU5EX0ZMQUddLFxuICAgIFsnYmluZEtleScsIFdSQVBfQklORF9LRVlfRkxBR10sXG4gICAgWydjdXJyeScsIFdSQVBfQ1VSUllfRkxBR10sXG4gICAgWydjdXJyeVJpZ2h0JywgV1JBUF9DVVJSWV9SSUdIVF9GTEFHXSxcbiAgICBbJ2ZsaXAnLCBXUkFQX0ZMSVBfRkxBR10sXG4gICAgWydwYXJ0aWFsJywgV1JBUF9QQVJUSUFMX0ZMQUddLFxuICAgIFsncGFydGlhbFJpZ2h0JywgV1JBUF9QQVJUSUFMX1JJR0hUX0ZMQUddLFxuICAgIFsncmVhcmcnLCBXUkFQX1JFQVJHX0ZMQUddXG4gIF07XG5cbiAgLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xuICB2YXIgYXJnc1RhZyA9ICdbb2JqZWN0IEFyZ3VtZW50c10nLFxuICAgICAgYXJyYXlUYWcgPSAnW29iamVjdCBBcnJheV0nLFxuICAgICAgYXN5bmNUYWcgPSAnW29iamVjdCBBc3luY0Z1bmN0aW9uXScsXG4gICAgICBib29sVGFnID0gJ1tvYmplY3QgQm9vbGVhbl0nLFxuICAgICAgZGF0ZVRhZyA9ICdbb2JqZWN0IERhdGVdJyxcbiAgICAgIGRvbUV4Y1RhZyA9ICdbb2JqZWN0IERPTUV4Y2VwdGlvbl0nLFxuICAgICAgZXJyb3JUYWcgPSAnW29iamVjdCBFcnJvcl0nLFxuICAgICAgZnVuY1RhZyA9ICdbb2JqZWN0IEZ1bmN0aW9uXScsXG4gICAgICBnZW5UYWcgPSAnW29iamVjdCBHZW5lcmF0b3JGdW5jdGlvbl0nLFxuICAgICAgbWFwVGFnID0gJ1tvYmplY3QgTWFwXScsXG4gICAgICBudW1iZXJUYWcgPSAnW29iamVjdCBOdW1iZXJdJyxcbiAgICAgIG51bGxUYWcgPSAnW29iamVjdCBOdWxsXScsXG4gICAgICBvYmplY3RUYWcgPSAnW29iamVjdCBPYmplY3RdJyxcbiAgICAgIHByb21pc2VUYWcgPSAnW29iamVjdCBQcm9taXNlXScsXG4gICAgICBwcm94eVRhZyA9ICdbb2JqZWN0IFByb3h5XScsXG4gICAgICByZWdleHBUYWcgPSAnW29iamVjdCBSZWdFeHBdJyxcbiAgICAgIHNldFRhZyA9ICdbb2JqZWN0IFNldF0nLFxuICAgICAgc3RyaW5nVGFnID0gJ1tvYmplY3QgU3RyaW5nXScsXG4gICAgICBzeW1ib2xUYWcgPSAnW29iamVjdCBTeW1ib2xdJyxcbiAgICAgIHVuZGVmaW5lZFRhZyA9ICdbb2JqZWN0IFVuZGVmaW5lZF0nLFxuICAgICAgd2Vha01hcFRhZyA9ICdbb2JqZWN0IFdlYWtNYXBdJyxcbiAgICAgIHdlYWtTZXRUYWcgPSAnW29iamVjdCBXZWFrU2V0XSc7XG5cbiAgdmFyIGFycmF5QnVmZmVyVGFnID0gJ1tvYmplY3QgQXJyYXlCdWZmZXJdJyxcbiAgICAgIGRhdGFWaWV3VGFnID0gJ1tvYmplY3QgRGF0YVZpZXddJyxcbiAgICAgIGZsb2F0MzJUYWcgPSAnW29iamVjdCBGbG9hdDMyQXJyYXldJyxcbiAgICAgIGZsb2F0NjRUYWcgPSAnW29iamVjdCBGbG9hdDY0QXJyYXldJyxcbiAgICAgIGludDhUYWcgPSAnW29iamVjdCBJbnQ4QXJyYXldJyxcbiAgICAgIGludDE2VGFnID0gJ1tvYmplY3QgSW50MTZBcnJheV0nLFxuICAgICAgaW50MzJUYWcgPSAnW29iamVjdCBJbnQzMkFycmF5XScsXG4gICAgICB1aW50OFRhZyA9ICdbb2JqZWN0IFVpbnQ4QXJyYXldJyxcbiAgICAgIHVpbnQ4Q2xhbXBlZFRhZyA9ICdbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XScsXG4gICAgICB1aW50MTZUYWcgPSAnW29iamVjdCBVaW50MTZBcnJheV0nLFxuICAgICAgdWludDMyVGFnID0gJ1tvYmplY3QgVWludDMyQXJyYXldJztcblxuICAvKiogVXNlZCB0byBtYXRjaCBlbXB0eSBzdHJpbmcgbGl0ZXJhbHMgaW4gY29tcGlsZWQgdGVtcGxhdGUgc291cmNlLiAqL1xuICB2YXIgcmVFbXB0eVN0cmluZ0xlYWRpbmcgPSAvXFxiX19wIFxcKz0gJyc7L2csXG4gICAgICByZUVtcHR5U3RyaW5nTWlkZGxlID0gL1xcYihfX3AgXFwrPSkgJycgXFwrL2csXG4gICAgICByZUVtcHR5U3RyaW5nVHJhaWxpbmcgPSAvKF9fZVxcKC4qP1xcKXxcXGJfX3RcXCkpIFxcK1xcbicnOy9nO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIEhUTUwgZW50aXRpZXMgYW5kIEhUTUwgY2hhcmFjdGVycy4gKi9cbiAgdmFyIHJlRXNjYXBlZEh0bWwgPSAvJig/OmFtcHxsdHxndHxxdW90fCMzOSk7L2csXG4gICAgICByZVVuZXNjYXBlZEh0bWwgPSAvWyY8PlwiJ10vZyxcbiAgICAgIHJlSGFzRXNjYXBlZEh0bWwgPSBSZWdFeHAocmVFc2NhcGVkSHRtbC5zb3VyY2UpLFxuICAgICAgcmVIYXNVbmVzY2FwZWRIdG1sID0gUmVnRXhwKHJlVW5lc2NhcGVkSHRtbC5zb3VyY2UpO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIHRlbXBsYXRlIGRlbGltaXRlcnMuICovXG4gIHZhciByZUVzY2FwZSA9IC88JS0oW1xcc1xcU10rPyklPi9nLFxuICAgICAgcmVFdmFsdWF0ZSA9IC88JShbXFxzXFxTXSs/KSU+L2csXG4gICAgICByZUludGVycG9sYXRlID0gLzwlPShbXFxzXFxTXSs/KSU+L2c7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggcHJvcGVydHkgbmFtZXMgd2l0aGluIHByb3BlcnR5IHBhdGhzLiAqL1xuICB2YXIgcmVJc0RlZXBQcm9wID0gL1xcLnxcXFsoPzpbXltcXF1dKnwoW1wiJ10pKD86KD8hXFwxKVteXFxcXF18XFxcXC4pKj9cXDEpXFxdLyxcbiAgICAgIHJlSXNQbGFpblByb3AgPSAvXlxcdyokLyxcbiAgICAgIHJlUHJvcE5hbWUgPSAvW14uW1xcXV0rfFxcWyg/OigtP1xcZCsoPzpcXC5cXGQrKT8pfChbXCInXSkoKD86KD8hXFwyKVteXFxcXF18XFxcXC4pKj8pXFwyKVxcXXwoPz0oPzpcXC58XFxbXFxdKSg/OlxcLnxcXFtcXF18JCkpL2c7XG5cbiAgLyoqXG4gICAqIFVzZWQgdG8gbWF0Y2ggYFJlZ0V4cGBcbiAgICogW3N5bnRheCBjaGFyYWN0ZXJzXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1wYXR0ZXJucykuXG4gICAqL1xuICB2YXIgcmVSZWdFeHBDaGFyID0gL1tcXFxcXiQuKis/KClbXFxde318XS9nLFxuICAgICAgcmVIYXNSZWdFeHBDaGFyID0gUmVnRXhwKHJlUmVnRXhwQ2hhci5zb3VyY2UpO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIGxlYWRpbmcgd2hpdGVzcGFjZS4gKi9cbiAgdmFyIHJlVHJpbVN0YXJ0ID0gL15cXHMrLztcblxuICAvKiogVXNlZCB0byBtYXRjaCBhIHNpbmdsZSB3aGl0ZXNwYWNlIGNoYXJhY3Rlci4gKi9cbiAgdmFyIHJlV2hpdGVzcGFjZSA9IC9cXHMvO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIHdyYXAgZGV0YWlsIGNvbW1lbnRzLiAqL1xuICB2YXIgcmVXcmFwQ29tbWVudCA9IC9cXHsoPzpcXG5cXC9cXCogXFxbd3JhcHBlZCB3aXRoIC4rXFxdIFxcKlxcLyk/XFxuPy8sXG4gICAgICByZVdyYXBEZXRhaWxzID0gL1xce1xcblxcL1xcKiBcXFt3cmFwcGVkIHdpdGggKC4rKVxcXSBcXCovLFxuICAgICAgcmVTcGxpdERldGFpbHMgPSAvLD8gJiAvO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIHdvcmRzIGNvbXBvc2VkIG9mIGFscGhhbnVtZXJpYyBjaGFyYWN0ZXJzLiAqL1xuICB2YXIgcmVBc2NpaVdvcmQgPSAvW15cXHgwMC1cXHgyZlxceDNhLVxceDQwXFx4NWItXFx4NjBcXHg3Yi1cXHg3Zl0rL2c7XG5cbiAgLyoqXG4gICAqIFVzZWQgdG8gdmFsaWRhdGUgdGhlIGB2YWxpZGF0ZWAgb3B0aW9uIGluIGBfLnRlbXBsYXRlYCB2YXJpYWJsZS5cbiAgICpcbiAgICogRm9yYmlkcyBjaGFyYWN0ZXJzIHdoaWNoIGNvdWxkIHBvdGVudGlhbGx5IGNoYW5nZSB0aGUgbWVhbmluZyBvZiB0aGUgZnVuY3Rpb24gYXJndW1lbnQgZGVmaW5pdGlvbjpcbiAgICogLSBcIigpLFwiIChtb2RpZmljYXRpb24gb2YgZnVuY3Rpb24gcGFyYW1ldGVycylcbiAgICogLSBcIj1cIiAoZGVmYXVsdCB2YWx1ZSlcbiAgICogLSBcIltde31cIiAoZGVzdHJ1Y3R1cmluZyBvZiBmdW5jdGlvbiBwYXJhbWV0ZXJzKVxuICAgKiAtIFwiL1wiIChiZWdpbm5pbmcgb2YgYSBjb21tZW50KVxuICAgKiAtIHdoaXRlc3BhY2VcbiAgICovXG4gIHZhciByZUZvcmJpZGRlbklkZW50aWZpZXJDaGFycyA9IC9bKCk9LHt9XFxbXFxdXFwvXFxzXS87XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggYmFja3NsYXNoZXMgaW4gcHJvcGVydHkgcGF0aHMuICovXG4gIHZhciByZUVzY2FwZUNoYXIgPSAvXFxcXChcXFxcKT8vZztcblxuICAvKipcbiAgICogVXNlZCB0byBtYXRjaFxuICAgKiBbRVMgdGVtcGxhdGUgZGVsaW1pdGVyc10oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtdGVtcGxhdGUtbGl0ZXJhbC1sZXhpY2FsLWNvbXBvbmVudHMpLlxuICAgKi9cbiAgdmFyIHJlRXNUZW1wbGF0ZSA9IC9cXCRcXHsoW15cXFxcfV0qKD86XFxcXC5bXlxcXFx9XSopKilcXH0vZztcblxuICAvKiogVXNlZCB0byBtYXRjaCBgUmVnRXhwYCBmbGFncyBmcm9tIHRoZWlyIGNvZXJjZWQgc3RyaW5nIHZhbHVlcy4gKi9cbiAgdmFyIHJlRmxhZ3MgPSAvXFx3KiQvO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCBiYWQgc2lnbmVkIGhleGFkZWNpbWFsIHN0cmluZyB2YWx1ZXMuICovXG4gIHZhciByZUlzQmFkSGV4ID0gL15bLStdMHhbMC05YS1mXSskL2k7XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IGJpbmFyeSBzdHJpbmcgdmFsdWVzLiAqL1xuICB2YXIgcmVJc0JpbmFyeSA9IC9eMGJbMDFdKyQvaTtcblxuICAvKiogVXNlZCB0byBkZXRlY3QgaG9zdCBjb25zdHJ1Y3RvcnMgKFNhZmFyaSkuICovXG4gIHZhciByZUlzSG9zdEN0b3IgPSAvXlxcW29iamVjdCAuKz9Db25zdHJ1Y3RvclxcXSQvO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCBvY3RhbCBzdHJpbmcgdmFsdWVzLiAqL1xuICB2YXIgcmVJc09jdGFsID0gL14wb1swLTddKyQvaTtcblxuICAvKiogVXNlZCB0byBkZXRlY3QgdW5zaWduZWQgaW50ZWdlciB2YWx1ZXMuICovXG4gIHZhciByZUlzVWludCA9IC9eKD86MHxbMS05XVxcZCopJC87XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggTGF0aW4gVW5pY29kZSBsZXR0ZXJzIChleGNsdWRpbmcgbWF0aGVtYXRpY2FsIG9wZXJhdG9ycykuICovXG4gIHZhciByZUxhdGluID0gL1tcXHhjMC1cXHhkNlxceGQ4LVxceGY2XFx4ZjgtXFx4ZmZcXHUwMTAwLVxcdTAxN2ZdL2c7XG5cbiAgLyoqIFVzZWQgdG8gZW5zdXJlIGNhcHR1cmluZyBvcmRlciBvZiB0ZW1wbGF0ZSBkZWxpbWl0ZXJzLiAqL1xuICB2YXIgcmVOb01hdGNoID0gLygkXikvO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIHVuZXNjYXBlZCBjaGFyYWN0ZXJzIGluIGNvbXBpbGVkIHN0cmluZyBsaXRlcmFscy4gKi9cbiAgdmFyIHJlVW5lc2NhcGVkU3RyaW5nID0gL1snXFxuXFxyXFx1MjAyOFxcdTIwMjlcXFxcXS9nO1xuXG4gIC8qKiBVc2VkIHRvIGNvbXBvc2UgdW5pY29kZSBjaGFyYWN0ZXIgY2xhc3Nlcy4gKi9cbiAgdmFyIHJzQXN0cmFsUmFuZ2UgPSAnXFxcXHVkODAwLVxcXFx1ZGZmZicsXG4gICAgICByc0NvbWJvTWFya3NSYW5nZSA9ICdcXFxcdTAzMDAtXFxcXHUwMzZmJyxcbiAgICAgIHJlQ29tYm9IYWxmTWFya3NSYW5nZSA9ICdcXFxcdWZlMjAtXFxcXHVmZTJmJyxcbiAgICAgIHJzQ29tYm9TeW1ib2xzUmFuZ2UgPSAnXFxcXHUyMGQwLVxcXFx1MjBmZicsXG4gICAgICByc0NvbWJvUmFuZ2UgPSByc0NvbWJvTWFya3NSYW5nZSArIHJlQ29tYm9IYWxmTWFya3NSYW5nZSArIHJzQ29tYm9TeW1ib2xzUmFuZ2UsXG4gICAgICByc0RpbmdiYXRSYW5nZSA9ICdcXFxcdTI3MDAtXFxcXHUyN2JmJyxcbiAgICAgIHJzTG93ZXJSYW5nZSA9ICdhLXpcXFxceGRmLVxcXFx4ZjZcXFxceGY4LVxcXFx4ZmYnLFxuICAgICAgcnNNYXRoT3BSYW5nZSA9ICdcXFxceGFjXFxcXHhiMVxcXFx4ZDdcXFxceGY3JyxcbiAgICAgIHJzTm9uQ2hhclJhbmdlID0gJ1xcXFx4MDAtXFxcXHgyZlxcXFx4M2EtXFxcXHg0MFxcXFx4NWItXFxcXHg2MFxcXFx4N2ItXFxcXHhiZicsXG4gICAgICByc1B1bmN0dWF0aW9uUmFuZ2UgPSAnXFxcXHUyMDAwLVxcXFx1MjA2ZicsXG4gICAgICByc1NwYWNlUmFuZ2UgPSAnIFxcXFx0XFxcXHgwYlxcXFxmXFxcXHhhMFxcXFx1ZmVmZlxcXFxuXFxcXHJcXFxcdTIwMjhcXFxcdTIwMjlcXFxcdTE2ODBcXFxcdTE4MGVcXFxcdTIwMDBcXFxcdTIwMDFcXFxcdTIwMDJcXFxcdTIwMDNcXFxcdTIwMDRcXFxcdTIwMDVcXFxcdTIwMDZcXFxcdTIwMDdcXFxcdTIwMDhcXFxcdTIwMDlcXFxcdTIwMGFcXFxcdTIwMmZcXFxcdTIwNWZcXFxcdTMwMDAnLFxuICAgICAgcnNVcHBlclJhbmdlID0gJ0EtWlxcXFx4YzAtXFxcXHhkNlxcXFx4ZDgtXFxcXHhkZScsXG4gICAgICByc1ZhclJhbmdlID0gJ1xcXFx1ZmUwZVxcXFx1ZmUwZicsXG4gICAgICByc0JyZWFrUmFuZ2UgPSByc01hdGhPcFJhbmdlICsgcnNOb25DaGFyUmFuZ2UgKyByc1B1bmN0dWF0aW9uUmFuZ2UgKyByc1NwYWNlUmFuZ2U7XG5cbiAgLyoqIFVzZWQgdG8gY29tcG9zZSB1bmljb2RlIGNhcHR1cmUgZ3JvdXBzLiAqL1xuICB2YXIgcnNBcG9zID0gXCJbJ1xcdTIwMTldXCIsXG4gICAgICByc0FzdHJhbCA9ICdbJyArIHJzQXN0cmFsUmFuZ2UgKyAnXScsXG4gICAgICByc0JyZWFrID0gJ1snICsgcnNCcmVha1JhbmdlICsgJ10nLFxuICAgICAgcnNDb21ibyA9ICdbJyArIHJzQ29tYm9SYW5nZSArICddJyxcbiAgICAgIHJzRGlnaXRzID0gJ1xcXFxkKycsXG4gICAgICByc0RpbmdiYXQgPSAnWycgKyByc0RpbmdiYXRSYW5nZSArICddJyxcbiAgICAgIHJzTG93ZXIgPSAnWycgKyByc0xvd2VyUmFuZ2UgKyAnXScsXG4gICAgICByc01pc2MgPSAnW14nICsgcnNBc3RyYWxSYW5nZSArIHJzQnJlYWtSYW5nZSArIHJzRGlnaXRzICsgcnNEaW5nYmF0UmFuZ2UgKyByc0xvd2VyUmFuZ2UgKyByc1VwcGVyUmFuZ2UgKyAnXScsXG4gICAgICByc0ZpdHogPSAnXFxcXHVkODNjW1xcXFx1ZGZmYi1cXFxcdWRmZmZdJyxcbiAgICAgIHJzTW9kaWZpZXIgPSAnKD86JyArIHJzQ29tYm8gKyAnfCcgKyByc0ZpdHogKyAnKScsXG4gICAgICByc05vbkFzdHJhbCA9ICdbXicgKyByc0FzdHJhbFJhbmdlICsgJ10nLFxuICAgICAgcnNSZWdpb25hbCA9ICcoPzpcXFxcdWQ4M2NbXFxcXHVkZGU2LVxcXFx1ZGRmZl0pezJ9JyxcbiAgICAgIHJzU3VyclBhaXIgPSAnW1xcXFx1ZDgwMC1cXFxcdWRiZmZdW1xcXFx1ZGMwMC1cXFxcdWRmZmZdJyxcbiAgICAgIHJzVXBwZXIgPSAnWycgKyByc1VwcGVyUmFuZ2UgKyAnXScsXG4gICAgICByc1pXSiA9ICdcXFxcdTIwMGQnO1xuXG4gIC8qKiBVc2VkIHRvIGNvbXBvc2UgdW5pY29kZSByZWdleGVzLiAqL1xuICB2YXIgcnNNaXNjTG93ZXIgPSAnKD86JyArIHJzTG93ZXIgKyAnfCcgKyByc01pc2MgKyAnKScsXG4gICAgICByc01pc2NVcHBlciA9ICcoPzonICsgcnNVcHBlciArICd8JyArIHJzTWlzYyArICcpJyxcbiAgICAgIHJzT3B0Q29udHJMb3dlciA9ICcoPzonICsgcnNBcG9zICsgJyg/OmR8bGx8bXxyZXxzfHR8dmUpKT8nLFxuICAgICAgcnNPcHRDb250clVwcGVyID0gJyg/OicgKyByc0Fwb3MgKyAnKD86RHxMTHxNfFJFfFN8VHxWRSkpPycsXG4gICAgICByZU9wdE1vZCA9IHJzTW9kaWZpZXIgKyAnPycsXG4gICAgICByc09wdFZhciA9ICdbJyArIHJzVmFyUmFuZ2UgKyAnXT8nLFxuICAgICAgcnNPcHRKb2luID0gJyg/OicgKyByc1pXSiArICcoPzonICsgW3JzTm9uQXN0cmFsLCByc1JlZ2lvbmFsLCByc1N1cnJQYWlyXS5qb2luKCd8JykgKyAnKScgKyByc09wdFZhciArIHJlT3B0TW9kICsgJykqJyxcbiAgICAgIHJzT3JkTG93ZXIgPSAnXFxcXGQqKD86MXN0fDJuZHwzcmR8KD8hWzEyM10pXFxcXGR0aCkoPz1cXFxcYnxbQS1aX10pJyxcbiAgICAgIHJzT3JkVXBwZXIgPSAnXFxcXGQqKD86MVNUfDJORHwzUkR8KD8hWzEyM10pXFxcXGRUSCkoPz1cXFxcYnxbYS16X10pJyxcbiAgICAgIHJzU2VxID0gcnNPcHRWYXIgKyByZU9wdE1vZCArIHJzT3B0Sm9pbixcbiAgICAgIHJzRW1vamkgPSAnKD86JyArIFtyc0RpbmdiYXQsIHJzUmVnaW9uYWwsIHJzU3VyclBhaXJdLmpvaW4oJ3wnKSArICcpJyArIHJzU2VxLFxuICAgICAgcnNTeW1ib2wgPSAnKD86JyArIFtyc05vbkFzdHJhbCArIHJzQ29tYm8gKyAnPycsIHJzQ29tYm8sIHJzUmVnaW9uYWwsIHJzU3VyclBhaXIsIHJzQXN0cmFsXS5qb2luKCd8JykgKyAnKSc7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggYXBvc3Ryb3BoZXMuICovXG4gIHZhciByZUFwb3MgPSBSZWdFeHAocnNBcG9zLCAnZycpO1xuXG4gIC8qKlxuICAgKiBVc2VkIHRvIG1hdGNoIFtjb21iaW5pbmcgZGlhY3JpdGljYWwgbWFya3NdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NvbWJpbmluZ19EaWFjcml0aWNhbF9NYXJrcykgYW5kXG4gICAqIFtjb21iaW5pbmcgZGlhY3JpdGljYWwgbWFya3MgZm9yIHN5bWJvbHNdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NvbWJpbmluZ19EaWFjcml0aWNhbF9NYXJrc19mb3JfU3ltYm9scykuXG4gICAqL1xuICB2YXIgcmVDb21ib01hcmsgPSBSZWdFeHAocnNDb21ibywgJ2cnKTtcblxuICAvKiogVXNlZCB0byBtYXRjaCBbc3RyaW5nIHN5bWJvbHNdKGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9qYXZhc2NyaXB0LXVuaWNvZGUpLiAqL1xuICB2YXIgcmVVbmljb2RlID0gUmVnRXhwKHJzRml0eiArICcoPz0nICsgcnNGaXR6ICsgJyl8JyArIHJzU3ltYm9sICsgcnNTZXEsICdnJyk7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggY29tcGxleCBvciBjb21wb3VuZCB3b3Jkcy4gKi9cbiAgdmFyIHJlVW5pY29kZVdvcmQgPSBSZWdFeHAoW1xuICAgIHJzVXBwZXIgKyAnPycgKyByc0xvd2VyICsgJysnICsgcnNPcHRDb250ckxvd2VyICsgJyg/PScgKyBbcnNCcmVhaywgcnNVcHBlciwgJyQnXS5qb2luKCd8JykgKyAnKScsXG4gICAgcnNNaXNjVXBwZXIgKyAnKycgKyByc09wdENvbnRyVXBwZXIgKyAnKD89JyArIFtyc0JyZWFrLCByc1VwcGVyICsgcnNNaXNjTG93ZXIsICckJ10uam9pbignfCcpICsgJyknLFxuICAgIHJzVXBwZXIgKyAnPycgKyByc01pc2NMb3dlciArICcrJyArIHJzT3B0Q29udHJMb3dlcixcbiAgICByc1VwcGVyICsgJysnICsgcnNPcHRDb250clVwcGVyLFxuICAgIHJzT3JkVXBwZXIsXG4gICAgcnNPcmRMb3dlcixcbiAgICByc0RpZ2l0cyxcbiAgICByc0Vtb2ppXG4gIF0uam9pbignfCcpLCAnZycpO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCBzdHJpbmdzIHdpdGggW3plcm8td2lkdGggam9pbmVycyBvciBjb2RlIHBvaW50cyBmcm9tIHRoZSBhc3RyYWwgcGxhbmVzXShodHRwOi8vZWV2LmVlL2Jsb2cvMjAxNS8wOS8xMi9kYXJrLWNvcm5lcnMtb2YtdW5pY29kZS8pLiAqL1xuICB2YXIgcmVIYXNVbmljb2RlID0gUmVnRXhwKCdbJyArIHJzWldKICsgcnNBc3RyYWxSYW5nZSAgKyByc0NvbWJvUmFuZ2UgKyByc1ZhclJhbmdlICsgJ10nKTtcblxuICAvKiogVXNlZCB0byBkZXRlY3Qgc3RyaW5ncyB0aGF0IG5lZWQgYSBtb3JlIHJvYnVzdCByZWdleHAgdG8gbWF0Y2ggd29yZHMuICovXG4gIHZhciByZUhhc1VuaWNvZGVXb3JkID0gL1thLXpdW0EtWl18W0EtWl17Mn1bYS16XXxbMC05XVthLXpBLVpdfFthLXpBLVpdWzAtOV18W15hLXpBLVowLTkgXS87XG5cbiAgLyoqIFVzZWQgdG8gYXNzaWduIGRlZmF1bHQgYGNvbnRleHRgIG9iamVjdCBwcm9wZXJ0aWVzLiAqL1xuICB2YXIgY29udGV4dFByb3BzID0gW1xuICAgICdBcnJheScsICdCdWZmZXInLCAnRGF0YVZpZXcnLCAnRGF0ZScsICdFcnJvcicsICdGbG9hdDMyQXJyYXknLCAnRmxvYXQ2NEFycmF5JyxcbiAgICAnRnVuY3Rpb24nLCAnSW50OEFycmF5JywgJ0ludDE2QXJyYXknLCAnSW50MzJBcnJheScsICdNYXAnLCAnTWF0aCcsICdPYmplY3QnLFxuICAgICdQcm9taXNlJywgJ1JlZ0V4cCcsICdTZXQnLCAnU3RyaW5nJywgJ1N5bWJvbCcsICdUeXBlRXJyb3InLCAnVWludDhBcnJheScsXG4gICAgJ1VpbnQ4Q2xhbXBlZEFycmF5JywgJ1VpbnQxNkFycmF5JywgJ1VpbnQzMkFycmF5JywgJ1dlYWtNYXAnLFxuICAgICdfJywgJ2NsZWFyVGltZW91dCcsICdpc0Zpbml0ZScsICdwYXJzZUludCcsICdzZXRUaW1lb3V0J1xuICBdO1xuXG4gIC8qKiBVc2VkIHRvIG1ha2UgdGVtcGxhdGUgc291cmNlVVJMcyBlYXNpZXIgdG8gaWRlbnRpZnkuICovXG4gIHZhciB0ZW1wbGF0ZUNvdW50ZXIgPSAtMTtcblxuICAvKiogVXNlZCB0byBpZGVudGlmeSBgdG9TdHJpbmdUYWdgIHZhbHVlcyBvZiB0eXBlZCBhcnJheXMuICovXG4gIHZhciB0eXBlZEFycmF5VGFncyA9IHt9O1xuICB0eXBlZEFycmF5VGFnc1tmbG9hdDMyVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2Zsb2F0NjRUYWddID1cbiAgdHlwZWRBcnJheVRhZ3NbaW50OFRhZ10gPSB0eXBlZEFycmF5VGFnc1tpbnQxNlRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1tpbnQzMlRhZ10gPSB0eXBlZEFycmF5VGFnc1t1aW50OFRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1t1aW50OENsYW1wZWRUYWddID0gdHlwZWRBcnJheVRhZ3NbdWludDE2VGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW3VpbnQzMlRhZ10gPSB0cnVlO1xuICB0eXBlZEFycmF5VGFnc1thcmdzVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2FycmF5VGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW2FycmF5QnVmZmVyVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2Jvb2xUYWddID1cbiAgdHlwZWRBcnJheVRhZ3NbZGF0YVZpZXdUYWddID0gdHlwZWRBcnJheVRhZ3NbZGF0ZVRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1tlcnJvclRhZ10gPSB0eXBlZEFycmF5VGFnc1tmdW5jVGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW21hcFRhZ10gPSB0eXBlZEFycmF5VGFnc1tudW1iZXJUYWddID1cbiAgdHlwZWRBcnJheVRhZ3Nbb2JqZWN0VGFnXSA9IHR5cGVkQXJyYXlUYWdzW3JlZ2V4cFRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1tzZXRUYWddID0gdHlwZWRBcnJheVRhZ3Nbc3RyaW5nVGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW3dlYWtNYXBUYWddID0gZmFsc2U7XG5cbiAgLyoqIFVzZWQgdG8gaWRlbnRpZnkgYHRvU3RyaW5nVGFnYCB2YWx1ZXMgc3VwcG9ydGVkIGJ5IGBfLmNsb25lYC4gKi9cbiAgdmFyIGNsb25lYWJsZVRhZ3MgPSB7fTtcbiAgY2xvbmVhYmxlVGFnc1thcmdzVGFnXSA9IGNsb25lYWJsZVRhZ3NbYXJyYXlUYWddID1cbiAgY2xvbmVhYmxlVGFnc1thcnJheUJ1ZmZlclRhZ10gPSBjbG9uZWFibGVUYWdzW2RhdGFWaWV3VGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbYm9vbFRhZ10gPSBjbG9uZWFibGVUYWdzW2RhdGVUYWddID1cbiAgY2xvbmVhYmxlVGFnc1tmbG9hdDMyVGFnXSA9IGNsb25lYWJsZVRhZ3NbZmxvYXQ2NFRhZ10gPVxuICBjbG9uZWFibGVUYWdzW2ludDhUYWddID0gY2xvbmVhYmxlVGFnc1tpbnQxNlRhZ10gPVxuICBjbG9uZWFibGVUYWdzW2ludDMyVGFnXSA9IGNsb25lYWJsZVRhZ3NbbWFwVGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbbnVtYmVyVGFnXSA9IGNsb25lYWJsZVRhZ3Nbb2JqZWN0VGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbcmVnZXhwVGFnXSA9IGNsb25lYWJsZVRhZ3Nbc2V0VGFnXSA9XG4gIGNsb25lYWJsZVRhZ3Nbc3RyaW5nVGFnXSA9IGNsb25lYWJsZVRhZ3Nbc3ltYm9sVGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbdWludDhUYWddID0gY2xvbmVhYmxlVGFnc1t1aW50OENsYW1wZWRUYWddID1cbiAgY2xvbmVhYmxlVGFnc1t1aW50MTZUYWddID0gY2xvbmVhYmxlVGFnc1t1aW50MzJUYWddID0gdHJ1ZTtcbiAgY2xvbmVhYmxlVGFnc1tlcnJvclRhZ10gPSBjbG9uZWFibGVUYWdzW2Z1bmNUYWddID1cbiAgY2xvbmVhYmxlVGFnc1t3ZWFrTWFwVGFnXSA9IGZhbHNlO1xuXG4gIC8qKiBVc2VkIHRvIG1hcCBMYXRpbiBVbmljb2RlIGxldHRlcnMgdG8gYmFzaWMgTGF0aW4gbGV0dGVycy4gKi9cbiAgdmFyIGRlYnVycmVkTGV0dGVycyA9IHtcbiAgICAvLyBMYXRpbi0xIFN1cHBsZW1lbnQgYmxvY2suXG4gICAgJ1xceGMwJzogJ0EnLCAgJ1xceGMxJzogJ0EnLCAnXFx4YzInOiAnQScsICdcXHhjMyc6ICdBJywgJ1xceGM0JzogJ0EnLCAnXFx4YzUnOiAnQScsXG4gICAgJ1xceGUwJzogJ2EnLCAgJ1xceGUxJzogJ2EnLCAnXFx4ZTInOiAnYScsICdcXHhlMyc6ICdhJywgJ1xceGU0JzogJ2EnLCAnXFx4ZTUnOiAnYScsXG4gICAgJ1xceGM3JzogJ0MnLCAgJ1xceGU3JzogJ2MnLFxuICAgICdcXHhkMCc6ICdEJywgICdcXHhmMCc6ICdkJyxcbiAgICAnXFx4YzgnOiAnRScsICAnXFx4YzknOiAnRScsICdcXHhjYSc6ICdFJywgJ1xceGNiJzogJ0UnLFxuICAgICdcXHhlOCc6ICdlJywgICdcXHhlOSc6ICdlJywgJ1xceGVhJzogJ2UnLCAnXFx4ZWInOiAnZScsXG4gICAgJ1xceGNjJzogJ0knLCAgJ1xceGNkJzogJ0knLCAnXFx4Y2UnOiAnSScsICdcXHhjZic6ICdJJyxcbiAgICAnXFx4ZWMnOiAnaScsICAnXFx4ZWQnOiAnaScsICdcXHhlZSc6ICdpJywgJ1xceGVmJzogJ2knLFxuICAgICdcXHhkMSc6ICdOJywgICdcXHhmMSc6ICduJyxcbiAgICAnXFx4ZDInOiAnTycsICAnXFx4ZDMnOiAnTycsICdcXHhkNCc6ICdPJywgJ1xceGQ1JzogJ08nLCAnXFx4ZDYnOiAnTycsICdcXHhkOCc6ICdPJyxcbiAgICAnXFx4ZjInOiAnbycsICAnXFx4ZjMnOiAnbycsICdcXHhmNCc6ICdvJywgJ1xceGY1JzogJ28nLCAnXFx4ZjYnOiAnbycsICdcXHhmOCc6ICdvJyxcbiAgICAnXFx4ZDknOiAnVScsICAnXFx4ZGEnOiAnVScsICdcXHhkYic6ICdVJywgJ1xceGRjJzogJ1UnLFxuICAgICdcXHhmOSc6ICd1JywgICdcXHhmYSc6ICd1JywgJ1xceGZiJzogJ3UnLCAnXFx4ZmMnOiAndScsXG4gICAgJ1xceGRkJzogJ1knLCAgJ1xceGZkJzogJ3knLCAnXFx4ZmYnOiAneScsXG4gICAgJ1xceGM2JzogJ0FlJywgJ1xceGU2JzogJ2FlJyxcbiAgICAnXFx4ZGUnOiAnVGgnLCAnXFx4ZmUnOiAndGgnLFxuICAgICdcXHhkZic6ICdzcycsXG4gICAgLy8gTGF0aW4gRXh0ZW5kZWQtQSBibG9jay5cbiAgICAnXFx1MDEwMCc6ICdBJywgICdcXHUwMTAyJzogJ0EnLCAnXFx1MDEwNCc6ICdBJyxcbiAgICAnXFx1MDEwMSc6ICdhJywgICdcXHUwMTAzJzogJ2EnLCAnXFx1MDEwNSc6ICdhJyxcbiAgICAnXFx1MDEwNic6ICdDJywgICdcXHUwMTA4JzogJ0MnLCAnXFx1MDEwYSc6ICdDJywgJ1xcdTAxMGMnOiAnQycsXG4gICAgJ1xcdTAxMDcnOiAnYycsICAnXFx1MDEwOSc6ICdjJywgJ1xcdTAxMGInOiAnYycsICdcXHUwMTBkJzogJ2MnLFxuICAgICdcXHUwMTBlJzogJ0QnLCAgJ1xcdTAxMTAnOiAnRCcsICdcXHUwMTBmJzogJ2QnLCAnXFx1MDExMSc6ICdkJyxcbiAgICAnXFx1MDExMic6ICdFJywgICdcXHUwMTE0JzogJ0UnLCAnXFx1MDExNic6ICdFJywgJ1xcdTAxMTgnOiAnRScsICdcXHUwMTFhJzogJ0UnLFxuICAgICdcXHUwMTEzJzogJ2UnLCAgJ1xcdTAxMTUnOiAnZScsICdcXHUwMTE3JzogJ2UnLCAnXFx1MDExOSc6ICdlJywgJ1xcdTAxMWInOiAnZScsXG4gICAgJ1xcdTAxMWMnOiAnRycsICAnXFx1MDExZSc6ICdHJywgJ1xcdTAxMjAnOiAnRycsICdcXHUwMTIyJzogJ0cnLFxuICAgICdcXHUwMTFkJzogJ2cnLCAgJ1xcdTAxMWYnOiAnZycsICdcXHUwMTIxJzogJ2cnLCAnXFx1MDEyMyc6ICdnJyxcbiAgICAnXFx1MDEyNCc6ICdIJywgICdcXHUwMTI2JzogJ0gnLCAnXFx1MDEyNSc6ICdoJywgJ1xcdTAxMjcnOiAnaCcsXG4gICAgJ1xcdTAxMjgnOiAnSScsICAnXFx1MDEyYSc6ICdJJywgJ1xcdTAxMmMnOiAnSScsICdcXHUwMTJlJzogJ0knLCAnXFx1MDEzMCc6ICdJJyxcbiAgICAnXFx1MDEyOSc6ICdpJywgICdcXHUwMTJiJzogJ2knLCAnXFx1MDEyZCc6ICdpJywgJ1xcdTAxMmYnOiAnaScsICdcXHUwMTMxJzogJ2knLFxuICAgICdcXHUwMTM0JzogJ0onLCAgJ1xcdTAxMzUnOiAnaicsXG4gICAgJ1xcdTAxMzYnOiAnSycsICAnXFx1MDEzNyc6ICdrJywgJ1xcdTAxMzgnOiAnaycsXG4gICAgJ1xcdTAxMzknOiAnTCcsICAnXFx1MDEzYic6ICdMJywgJ1xcdTAxM2QnOiAnTCcsICdcXHUwMTNmJzogJ0wnLCAnXFx1MDE0MSc6ICdMJyxcbiAgICAnXFx1MDEzYSc6ICdsJywgICdcXHUwMTNjJzogJ2wnLCAnXFx1MDEzZSc6ICdsJywgJ1xcdTAxNDAnOiAnbCcsICdcXHUwMTQyJzogJ2wnLFxuICAgICdcXHUwMTQzJzogJ04nLCAgJ1xcdTAxNDUnOiAnTicsICdcXHUwMTQ3JzogJ04nLCAnXFx1MDE0YSc6ICdOJyxcbiAgICAnXFx1MDE0NCc6ICduJywgICdcXHUwMTQ2JzogJ24nLCAnXFx1MDE0OCc6ICduJywgJ1xcdTAxNGInOiAnbicsXG4gICAgJ1xcdTAxNGMnOiAnTycsICAnXFx1MDE0ZSc6ICdPJywgJ1xcdTAxNTAnOiAnTycsXG4gICAgJ1xcdTAxNGQnOiAnbycsICAnXFx1MDE0Zic6ICdvJywgJ1xcdTAxNTEnOiAnbycsXG4gICAgJ1xcdTAxNTQnOiAnUicsICAnXFx1MDE1Nic6ICdSJywgJ1xcdTAxNTgnOiAnUicsXG4gICAgJ1xcdTAxNTUnOiAncicsICAnXFx1MDE1Nyc6ICdyJywgJ1xcdTAxNTknOiAncicsXG4gICAgJ1xcdTAxNWEnOiAnUycsICAnXFx1MDE1Yyc6ICdTJywgJ1xcdTAxNWUnOiAnUycsICdcXHUwMTYwJzogJ1MnLFxuICAgICdcXHUwMTViJzogJ3MnLCAgJ1xcdTAxNWQnOiAncycsICdcXHUwMTVmJzogJ3MnLCAnXFx1MDE2MSc6ICdzJyxcbiAgICAnXFx1MDE2Mic6ICdUJywgICdcXHUwMTY0JzogJ1QnLCAnXFx1MDE2Nic6ICdUJyxcbiAgICAnXFx1MDE2Myc6ICd0JywgICdcXHUwMTY1JzogJ3QnLCAnXFx1MDE2Nyc6ICd0JyxcbiAgICAnXFx1MDE2OCc6ICdVJywgICdcXHUwMTZhJzogJ1UnLCAnXFx1MDE2Yyc6ICdVJywgJ1xcdTAxNmUnOiAnVScsICdcXHUwMTcwJzogJ1UnLCAnXFx1MDE3Mic6ICdVJyxcbiAgICAnXFx1MDE2OSc6ICd1JywgICdcXHUwMTZiJzogJ3UnLCAnXFx1MDE2ZCc6ICd1JywgJ1xcdTAxNmYnOiAndScsICdcXHUwMTcxJzogJ3UnLCAnXFx1MDE3Myc6ICd1JyxcbiAgICAnXFx1MDE3NCc6ICdXJywgICdcXHUwMTc1JzogJ3cnLFxuICAgICdcXHUwMTc2JzogJ1knLCAgJ1xcdTAxNzcnOiAneScsICdcXHUwMTc4JzogJ1knLFxuICAgICdcXHUwMTc5JzogJ1onLCAgJ1xcdTAxN2InOiAnWicsICdcXHUwMTdkJzogJ1onLFxuICAgICdcXHUwMTdhJzogJ3onLCAgJ1xcdTAxN2MnOiAneicsICdcXHUwMTdlJzogJ3onLFxuICAgICdcXHUwMTMyJzogJ0lKJywgJ1xcdTAxMzMnOiAnaWonLFxuICAgICdcXHUwMTUyJzogJ09lJywgJ1xcdTAxNTMnOiAnb2UnLFxuICAgICdcXHUwMTQ5JzogXCInblwiLCAnXFx1MDE3Zic6ICdzJ1xuICB9O1xuXG4gIC8qKiBVc2VkIHRvIG1hcCBjaGFyYWN0ZXJzIHRvIEhUTUwgZW50aXRpZXMuICovXG4gIHZhciBodG1sRXNjYXBlcyA9IHtcbiAgICAnJic6ICcmYW1wOycsXG4gICAgJzwnOiAnJmx0OycsXG4gICAgJz4nOiAnJmd0OycsXG4gICAgJ1wiJzogJyZxdW90OycsXG4gICAgXCInXCI6ICcmIzM5OydcbiAgfTtcblxuICAvKiogVXNlZCB0byBtYXAgSFRNTCBlbnRpdGllcyB0byBjaGFyYWN0ZXJzLiAqL1xuICB2YXIgaHRtbFVuZXNjYXBlcyA9IHtcbiAgICAnJmFtcDsnOiAnJicsXG4gICAgJyZsdDsnOiAnPCcsXG4gICAgJyZndDsnOiAnPicsXG4gICAgJyZxdW90Oyc6ICdcIicsXG4gICAgJyYjMzk7JzogXCInXCJcbiAgfTtcblxuICAvKiogVXNlZCB0byBlc2NhcGUgY2hhcmFjdGVycyBmb3IgaW5jbHVzaW9uIGluIGNvbXBpbGVkIHN0cmluZyBsaXRlcmFscy4gKi9cbiAgdmFyIHN0cmluZ0VzY2FwZXMgPSB7XG4gICAgJ1xcXFwnOiAnXFxcXCcsXG4gICAgXCInXCI6IFwiJ1wiLFxuICAgICdcXG4nOiAnbicsXG4gICAgJ1xccic6ICdyJyxcbiAgICAnXFx1MjAyOCc6ICd1MjAyOCcsXG4gICAgJ1xcdTIwMjknOiAndTIwMjknXG4gIH07XG5cbiAgLyoqIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIHdpdGhvdXQgYSBkZXBlbmRlbmN5IG9uIGByb290YC4gKi9cbiAgdmFyIGZyZWVQYXJzZUZsb2F0ID0gcGFyc2VGbG9hdCxcbiAgICAgIGZyZWVQYXJzZUludCA9IHBhcnNlSW50O1xuXG4gIC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZ2xvYmFsYCBmcm9tIE5vZGUuanMuICovXG4gIHZhciBmcmVlR2xvYmFsID0gdHlwZW9mIGdsb2JhbCA9PSAnb2JqZWN0JyAmJiBnbG9iYWwgJiYgZ2xvYmFsLk9iamVjdCA9PT0gT2JqZWN0ICYmIGdsb2JhbDtcblxuICAvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHNlbGZgLiAqL1xuICB2YXIgZnJlZVNlbGYgPSB0eXBlb2Ygc2VsZiA9PSAnb2JqZWN0JyAmJiBzZWxmICYmIHNlbGYuT2JqZWN0ID09PSBPYmplY3QgJiYgc2VsZjtcblxuICAvKiogVXNlZCBhcyBhIHJlZmVyZW5jZSB0byB0aGUgZ2xvYmFsIG9iamVjdC4gKi9cbiAgdmFyIHJvb3QgPSBmcmVlR2xvYmFsIHx8IGZyZWVTZWxmIHx8IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cbiAgLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBleHBvcnRzYC4gKi9cbiAgdmFyIGZyZWVFeHBvcnRzID0gdHlwZW9mIGV4cG9ydHMgPT0gJ29iamVjdCcgJiYgZXhwb3J0cyAmJiAhZXhwb3J0cy5ub2RlVHlwZSAmJiBleHBvcnRzO1xuXG4gIC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgbW9kdWxlYC4gKi9cbiAgdmFyIGZyZWVNb2R1bGUgPSBmcmVlRXhwb3J0cyAmJiB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZSAmJiAhbW9kdWxlLm5vZGVUeXBlICYmIG1vZHVsZTtcblxuICAvKiogRGV0ZWN0IHRoZSBwb3B1bGFyIENvbW1vbkpTIGV4dGVuc2lvbiBgbW9kdWxlLmV4cG9ydHNgLiAqL1xuICB2YXIgbW9kdWxlRXhwb3J0cyA9IGZyZWVNb2R1bGUgJiYgZnJlZU1vZHVsZS5leHBvcnRzID09PSBmcmVlRXhwb3J0cztcblxuICAvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHByb2Nlc3NgIGZyb20gTm9kZS5qcy4gKi9cbiAgdmFyIGZyZWVQcm9jZXNzID0gbW9kdWxlRXhwb3J0cyAmJiBmcmVlR2xvYmFsLnByb2Nlc3M7XG5cbiAgLyoqIFVzZWQgdG8gYWNjZXNzIGZhc3RlciBOb2RlLmpzIGhlbHBlcnMuICovXG4gIHZhciBub2RlVXRpbCA9IChmdW5jdGlvbigpIHtcbiAgICB0cnkge1xuICAgICAgLy8gVXNlIGB1dGlsLnR5cGVzYCBmb3IgTm9kZS5qcyAxMCsuXG4gICAgICB2YXIgdHlwZXMgPSBmcmVlTW9kdWxlICYmIGZyZWVNb2R1bGUucmVxdWlyZSAmJiBmcmVlTW9kdWxlLnJlcXVpcmUoJ3V0aWwnKS50eXBlcztcblxuICAgICAgaWYgKHR5cGVzKSB7XG4gICAgICAgIHJldHVybiB0eXBlcztcbiAgICAgIH1cblxuICAgICAgLy8gTGVnYWN5IGBwcm9jZXNzLmJpbmRpbmcoJ3V0aWwnKWAgZm9yIE5vZGUuanMgPCAxMC5cbiAgICAgIHJldHVybiBmcmVlUHJvY2VzcyAmJiBmcmVlUHJvY2Vzcy5iaW5kaW5nICYmIGZyZWVQcm9jZXNzLmJpbmRpbmcoJ3V0aWwnKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICB9KCkpO1xuXG4gIC8qIE5vZGUuanMgaGVscGVyIHJlZmVyZW5jZXMuICovXG4gIHZhciBub2RlSXNBcnJheUJ1ZmZlciA9IG5vZGVVdGlsICYmIG5vZGVVdGlsLmlzQXJyYXlCdWZmZXIsXG4gICAgICBub2RlSXNEYXRlID0gbm9kZVV0aWwgJiYgbm9kZVV0aWwuaXNEYXRlLFxuICAgICAgbm9kZUlzTWFwID0gbm9kZVV0aWwgJiYgbm9kZVV0aWwuaXNNYXAsXG4gICAgICBub2RlSXNSZWdFeHAgPSBub2RlVXRpbCAmJiBub2RlVXRpbC5pc1JlZ0V4cCxcbiAgICAgIG5vZGVJc1NldCA9IG5vZGVVdGlsICYmIG5vZGVVdGlsLmlzU2V0LFxuICAgICAgbm9kZUlzVHlwZWRBcnJheSA9IG5vZGVVdGlsICYmIG5vZGVVdGlsLmlzVHlwZWRBcnJheTtcblxuICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAvKipcbiAgICogQSBmYXN0ZXIgYWx0ZXJuYXRpdmUgdG8gYEZ1bmN0aW9uI2FwcGx5YCwgdGhpcyBmdW5jdGlvbiBpbnZva2VzIGBmdW5jYFxuICAgKiB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiBgdGhpc0FyZ2AgYW5kIHRoZSBhcmd1bWVudHMgb2YgYGFyZ3NgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBpbnZva2UuXG4gICAqIEBwYXJhbSB7Kn0gdGhpc0FyZyBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICAgKiBAcGFyYW0ge0FycmF5fSBhcmdzIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIGBmdW5jYCB3aXRoLlxuICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzdWx0IG9mIGBmdW5jYC5cbiAgICovXG4gIGZ1bmN0aW9uIGFwcGx5KGZ1bmMsIHRoaXNBcmcsIGFyZ3MpIHtcbiAgICBzd2l0Y2ggKGFyZ3MubGVuZ3RoKSB7XG4gICAgICBjYXNlIDA6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZyk7XG4gICAgICBjYXNlIDE6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgYXJnc1swXSk7XG4gICAgICBjYXNlIDI6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgYXJnc1swXSwgYXJnc1sxXSk7XG4gICAgICBjYXNlIDM6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gICAgfVxuICAgIHJldHVybiBmdW5jLmFwcGx5KHRoaXNBcmcsIGFyZ3MpO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUFnZ3JlZ2F0b3JgIGZvciBhcnJheXMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gc2V0dGVyIFRoZSBmdW5jdGlvbiB0byBzZXQgYGFjY3VtdWxhdG9yYCB2YWx1ZXMuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBpdGVyYXRlZSB0byB0cmFuc2Zvcm0ga2V5cy5cbiAgICogQHBhcmFtIHtPYmplY3R9IGFjY3VtdWxhdG9yIFRoZSBpbml0aWFsIGFnZ3JlZ2F0ZWQgb2JqZWN0LlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGFjY3VtdWxhdG9yYC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5QWdncmVnYXRvcihhcnJheSwgc2V0dGVyLCBpdGVyYXRlZSwgYWNjdW11bGF0b3IpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuICAgICAgc2V0dGVyKGFjY3VtdWxhdG9yLCB2YWx1ZSwgaXRlcmF0ZWUodmFsdWUpLCBhcnJheSk7XG4gICAgfVxuICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uZm9yRWFjaGAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheUVhY2goYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGlmIChpdGVyYXRlZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSkgPT09IGZhbHNlKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYXJyYXk7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmZvckVhY2hSaWdodGAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheUVhY2hSaWdodChhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgIGlmIChpdGVyYXRlZShhcnJheVtsZW5ndGhdLCBsZW5ndGgsIGFycmF5KSA9PT0gZmFsc2UpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhcnJheTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uZXZlcnlgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYWxsIGVsZW1lbnRzIHBhc3MgdGhlIHByZWRpY2F0ZSBjaGVjayxcbiAgICogIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5RXZlcnkoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBpZiAoIXByZWRpY2F0ZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uZmlsdGVyYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmlsdGVyZWQgYXJyYXkuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheUZpbHRlcihhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoLFxuICAgICAgICByZXNJbmRleCA9IDAsXG4gICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XTtcbiAgICAgIGlmIChwcmVkaWNhdGUodmFsdWUsIGluZGV4LCBhcnJheSkpIHtcbiAgICAgICAgcmVzdWx0W3Jlc0luZGV4KytdID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmluY2x1ZGVzYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogc3BlY2lmeWluZyBhbiBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHsqfSB0YXJnZXQgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdGFyZ2V0YCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlJbmNsdWRlcyhhcnJheSwgdmFsdWUpIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgcmV0dXJuICEhbGVuZ3RoICYmIGJhc2VJbmRleE9mKGFycmF5LCB2YWx1ZSwgMCkgPiAtMTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGxpa2UgYGFycmF5SW5jbHVkZXNgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYSBjb21wYXJhdG9yLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0geyp9IHRhcmdldCBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY29tcGFyYXRvciBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHRhcmdldGAgaXMgZm91bmQsIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5SW5jbHVkZXNXaXRoKGFycmF5LCB2YWx1ZSwgY29tcGFyYXRvcikge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBpZiAoY29tcGFyYXRvcih2YWx1ZSwgYXJyYXlbaW5kZXhdKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5tYXBgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZVxuICAgKiBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IG1hcHBlZCBhcnJheS5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5TWFwKGFycmF5LCBpdGVyYXRlZSkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgcmVzdWx0ID0gQXJyYXkobGVuZ3RoKTtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICByZXN1bHRbaW5kZXhdID0gaXRlcmF0ZWUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIEFwcGVuZHMgdGhlIGVsZW1lbnRzIG9mIGB2YWx1ZXNgIHRvIGBhcnJheWAuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgdmFsdWVzIHRvIGFwcGVuZC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheVB1c2goYXJyYXksIHZhbHVlcykge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSB2YWx1ZXMubGVuZ3RoLFxuICAgICAgICBvZmZzZXQgPSBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgYXJyYXlbb2Zmc2V0ICsgaW5kZXhdID0gdmFsdWVzW2luZGV4XTtcbiAgICB9XG4gICAgcmV0dXJuIGFycmF5O1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5yZWR1Y2VgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEBwYXJhbSB7Kn0gW2FjY3VtdWxhdG9yXSBUaGUgaW5pdGlhbCB2YWx1ZS5cbiAgICogQHBhcmFtIHtib29sZWFufSBbaW5pdEFjY3VtXSBTcGVjaWZ5IHVzaW5nIHRoZSBmaXJzdCBlbGVtZW50IG9mIGBhcnJheWAgYXNcbiAgICogIHRoZSBpbml0aWFsIHZhbHVlLlxuICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYWNjdW11bGF0ZWQgdmFsdWUuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheVJlZHVjZShhcnJheSwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yLCBpbml0QWNjdW0pIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cbiAgICBpZiAoaW5pdEFjY3VtICYmIGxlbmd0aCkge1xuICAgICAgYWNjdW11bGF0b3IgPSBhcnJheVsrK2luZGV4XTtcbiAgICB9XG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGFjY3VtdWxhdG9yID0gaXRlcmF0ZWUoYWNjdW11bGF0b3IsIGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KTtcbiAgICB9XG4gICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5yZWR1Y2VSaWdodGAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHBhcmFtIHsqfSBbYWNjdW11bGF0b3JdIFRoZSBpbml0aWFsIHZhbHVlLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpbml0QWNjdW1dIFNwZWNpZnkgdXNpbmcgdGhlIGxhc3QgZWxlbWVudCBvZiBgYXJyYXlgIGFzXG4gICAqICB0aGUgaW5pdGlhbCB2YWx1ZS5cbiAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGFjY3VtdWxhdGVkIHZhbHVlLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlSZWR1Y2VSaWdodChhcnJheSwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yLCBpbml0QWNjdW0pIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgaWYgKGluaXRBY2N1bSAmJiBsZW5ndGgpIHtcbiAgICAgIGFjY3VtdWxhdG9yID0gYXJyYXlbLS1sZW5ndGhdO1xuICAgIH1cbiAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgIGFjY3VtdWxhdG9yID0gaXRlcmF0ZWUoYWNjdW11bGF0b3IsIGFycmF5W2xlbmd0aF0sIGxlbmd0aCwgYXJyYXkpO1xuICAgIH1cbiAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnNvbWVgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZVxuICAgKiBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW55IGVsZW1lbnQgcGFzc2VzIHRoZSBwcmVkaWNhdGUgY2hlY2ssXG4gICAqICBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheVNvbWUoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBpZiAocHJlZGljYXRlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIHNpemUgb2YgYW4gQVNDSUkgYHN0cmluZ2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzdHJpbmcgc2l6ZS5cbiAgICovXG4gIHZhciBhc2NpaVNpemUgPSBiYXNlUHJvcGVydHkoJ2xlbmd0aCcpO1xuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBhbiBBU0NJSSBgc3RyaW5nYCB0byBhbiBhcnJheS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY29udmVydGVkIGFycmF5LlxuICAgKi9cbiAgZnVuY3Rpb24gYXNjaWlUb0FycmF5KHN0cmluZykge1xuICAgIHJldHVybiBzdHJpbmcuc3BsaXQoJycpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNwbGl0cyBhbiBBU0NJSSBgc3RyaW5nYCBpbnRvIGFuIGFycmF5IG9mIGl0cyB3b3Jkcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSB3b3JkcyBvZiBgc3RyaW5nYC5cbiAgICovXG4gIGZ1bmN0aW9uIGFzY2lpV29yZHMoc3RyaW5nKSB7XG4gICAgcmV0dXJuIHN0cmluZy5tYXRjaChyZUFzY2lpV29yZCkgfHwgW107XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgbWV0aG9kcyBsaWtlIGBfLmZpbmRLZXlgIGFuZCBgXy5maW5kTGFzdEtleWAsXG4gICAqIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcywgd2hpY2ggaXRlcmF0ZXMgb3ZlciBgY29sbGVjdGlvbmBcbiAgICogdXNpbmcgYGVhY2hGdW5jYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGVhY2hGdW5jIFRoZSBmdW5jdGlvbiB0byBpdGVyYXRlIG92ZXIgYGNvbGxlY3Rpb25gLlxuICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZm91bmQgZWxlbWVudCBvciBpdHMga2V5LCBlbHNlIGB1bmRlZmluZWRgLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZUZpbmRLZXkoY29sbGVjdGlvbiwgcHJlZGljYXRlLCBlYWNoRnVuYykge1xuICAgIHZhciByZXN1bHQ7XG4gICAgZWFjaEZ1bmMoY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGtleSwgY29sbGVjdGlvbikge1xuICAgICAgaWYgKHByZWRpY2F0ZSh2YWx1ZSwga2V5LCBjb2xsZWN0aW9uKSkge1xuICAgICAgICByZXN1bHQgPSBrZXk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZpbmRJbmRleGAgYW5kIGBfLmZpbmRMYXN0SW5kZXhgIHdpdGhvdXRcbiAgICogc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbUluZGV4IFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICogQHBhcmFtIHtib29sZWFufSBbZnJvbVJpZ2h0XSBTcGVjaWZ5IGl0ZXJhdGluZyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlRmluZEluZGV4KGFycmF5LCBwcmVkaWNhdGUsIGZyb21JbmRleCwgZnJvbVJpZ2h0KSB7XG4gICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgaW5kZXggPSBmcm9tSW5kZXggKyAoZnJvbVJpZ2h0ID8gMSA6IC0xKTtcblxuICAgIHdoaWxlICgoZnJvbVJpZ2h0ID8gaW5kZXgtLSA6ICsraW5kZXggPCBsZW5ndGgpKSB7XG4gICAgICBpZiAocHJlZGljYXRlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAtMTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pbmRleE9mYCB3aXRob3V0IGBmcm9tSW5kZXhgIGJvdW5kcyBjaGVja3MuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbUluZGV4IFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VJbmRleE9mKGFycmF5LCB2YWx1ZSwgZnJvbUluZGV4KSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSB2YWx1ZVxuICAgICAgPyBzdHJpY3RJbmRleE9mKGFycmF5LCB2YWx1ZSwgZnJvbUluZGV4KVxuICAgICAgOiBiYXNlRmluZEluZGV4KGFycmF5LCBiYXNlSXNOYU4sIGZyb21JbmRleCk7XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBmdW5jdGlvbiBpcyBsaWtlIGBiYXNlSW5kZXhPZmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBhIGNvbXBhcmF0b3IuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbUluZGV4IFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY29tcGFyYXRvciBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZUluZGV4T2ZXaXRoKGFycmF5LCB2YWx1ZSwgZnJvbUluZGV4LCBjb21wYXJhdG9yKSB7XG4gICAgdmFyIGluZGV4ID0gZnJvbUluZGV4IC0gMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGlmIChjb21wYXJhdG9yKGFycmF5W2luZGV4XSwgdmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIC0xO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzTmFOYCB3aXRob3V0IHN1cHBvcnQgZm9yIG51bWJlciBvYmplY3RzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYE5hTmAsIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VJc05hTih2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSAhPT0gdmFsdWU7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubWVhbmAgYW5kIGBfLm1lYW5CeWAgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBtZWFuLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZU1lYW4oYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgIHJldHVybiBsZW5ndGggPyAoYmFzZVN1bShhcnJheSwgaXRlcmF0ZWUpIC8gbGVuZ3RoKSA6IE5BTjtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5wcm9wZXJ0eWAgd2l0aG91dCBzdXBwb3J0IGZvciBkZWVwIHBhdGhzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWNjZXNzb3IgZnVuY3Rpb24uXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlUHJvcGVydHkoa2V5KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W2tleV07XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5wcm9wZXJ0eU9mYCB3aXRob3V0IHN1cHBvcnQgZm9yIGRlZXAgcGF0aHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWNjZXNzb3IgZnVuY3Rpb24uXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlUHJvcGVydHlPZihvYmplY3QpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oa2V5KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBvYmplY3Rba2V5XTtcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnJlZHVjZWAgYW5kIGBfLnJlZHVjZVJpZ2h0YCwgd2l0aG91dCBzdXBwb3J0XG4gICAqIGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLCB3aGljaCBpdGVyYXRlcyBvdmVyIGBjb2xsZWN0aW9uYCB1c2luZyBgZWFjaEZ1bmNgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEBwYXJhbSB7Kn0gYWNjdW11bGF0b3IgVGhlIGluaXRpYWwgdmFsdWUuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gaW5pdEFjY3VtIFNwZWNpZnkgdXNpbmcgdGhlIGZpcnN0IG9yIGxhc3QgZWxlbWVudCBvZlxuICAgKiAgYGNvbGxlY3Rpb25gIGFzIHRoZSBpbml0aWFsIHZhbHVlLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBlYWNoRnVuYyBUaGUgZnVuY3Rpb24gdG8gaXRlcmF0ZSBvdmVyIGBjb2xsZWN0aW9uYC5cbiAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGFjY3VtdWxhdGVkIHZhbHVlLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVJlZHVjZShjb2xsZWN0aW9uLCBpdGVyYXRlZSwgYWNjdW11bGF0b3IsIGluaXRBY2N1bSwgZWFjaEZ1bmMpIHtcbiAgICBlYWNoRnVuYyhjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pIHtcbiAgICAgIGFjY3VtdWxhdG9yID0gaW5pdEFjY3VtXG4gICAgICAgID8gKGluaXRBY2N1bSA9IGZhbHNlLCB2YWx1ZSlcbiAgICAgICAgOiBpdGVyYXRlZShhY2N1bXVsYXRvciwgdmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKTtcbiAgICB9KTtcbiAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc29ydEJ5YCB3aGljaCB1c2VzIGBjb21wYXJlcmAgdG8gZGVmaW5lIHRoZVxuICAgKiBzb3J0IG9yZGVyIG9mIGBhcnJheWAgYW5kIHJlcGxhY2VzIGNyaXRlcmlhIG9iamVjdHMgd2l0aCB0aGVpciBjb3JyZXNwb25kaW5nXG4gICAqIHZhbHVlcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNvcnQuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbXBhcmVyIFRoZSBmdW5jdGlvbiB0byBkZWZpbmUgc29ydCBvcmRlci5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlU29ydEJ5KGFycmF5LCBjb21wYXJlcikge1xuICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICBhcnJheS5zb3J0KGNvbXBhcmVyKTtcbiAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgIGFycmF5W2xlbmd0aF0gPSBhcnJheVtsZW5ndGhdLnZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gYXJyYXk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc3VtYCBhbmQgYF8uc3VtQnlgIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc3VtLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVN1bShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICB2YXIgcmVzdWx0LFxuICAgICAgICBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgdmFyIGN1cnJlbnQgPSBpdGVyYXRlZShhcnJheVtpbmRleF0pO1xuICAgICAgaWYgKGN1cnJlbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXN1bHQgPSByZXN1bHQgPT09IHVuZGVmaW5lZCA/IGN1cnJlbnQgOiAocmVzdWx0ICsgY3VycmVudCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udGltZXNgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kc1xuICAgKiBvciBtYXggYXJyYXkgbGVuZ3RoIGNoZWNrcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiB0aW1lcyB0byBpbnZva2UgYGl0ZXJhdGVlYC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiByZXN1bHRzLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVRpbWVzKG4sIGl0ZXJhdGVlKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIHJlc3VsdCA9IEFycmF5KG4pO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBuKSB7XG4gICAgICByZXN1bHRbaW5kZXhdID0gaXRlcmF0ZWUoaW5kZXgpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnRvUGFpcnNgIGFuZCBgXy50b1BhaXJzSW5gIHdoaWNoIGNyZWF0ZXMgYW4gYXJyYXlcbiAgICogb2Yga2V5LXZhbHVlIHBhaXJzIGZvciBgb2JqZWN0YCBjb3JyZXNwb25kaW5nIHRvIHRoZSBwcm9wZXJ0eSBuYW1lcyBvZiBgcHJvcHNgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAqIEBwYXJhbSB7QXJyYXl9IHByb3BzIFRoZSBwcm9wZXJ0eSBuYW1lcyB0byBnZXQgdmFsdWVzIGZvci5cbiAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUga2V5LXZhbHVlIHBhaXJzLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVRvUGFpcnMob2JqZWN0LCBwcm9wcykge1xuICAgIHJldHVybiBhcnJheU1hcChwcm9wcywgZnVuY3Rpb24oa2V5KSB7XG4gICAgICByZXR1cm4gW2tleSwgb2JqZWN0W2tleV1dO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnRyaW1gLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gdHJpbS5cbiAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdHJpbW1lZCBzdHJpbmcuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlVHJpbShzdHJpbmcpIHtcbiAgICByZXR1cm4gc3RyaW5nXG4gICAgICA/IHN0cmluZy5zbGljZSgwLCB0cmltbWVkRW5kSW5kZXgoc3RyaW5nKSArIDEpLnJlcGxhY2UocmVUcmltU3RhcnQsICcnKVxuICAgICAgOiBzdHJpbmc7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udW5hcnlgIHdpdGhvdXQgc3VwcG9ydCBmb3Igc3RvcmluZyBtZXRhZGF0YS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2FwIGFyZ3VtZW50cyBmb3IuXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNhcHBlZCBmdW5jdGlvbi5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VVbmFyeShmdW5jKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gZnVuYyh2YWx1ZSk7XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy52YWx1ZXNgIGFuZCBgXy52YWx1ZXNJbmAgd2hpY2ggY3JlYXRlcyBhblxuICAgKiBhcnJheSBvZiBgb2JqZWN0YCBwcm9wZXJ0eSB2YWx1ZXMgY29ycmVzcG9uZGluZyB0byB0aGUgcHJvcGVydHkgbmFtZXNcbiAgICogb2YgYHByb3BzYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgKiBAcGFyYW0ge0FycmF5fSBwcm9wcyBUaGUgcHJvcGVydHkgbmFtZXMgdG8gZ2V0IHZhbHVlcyBmb3IuXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IHZhbHVlcy5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VWYWx1ZXMob2JqZWN0LCBwcm9wcykge1xuICAgIHJldHVybiBhcnJheU1hcChwcm9wcywgZnVuY3Rpb24oa2V5KSB7XG4gICAgICByZXR1cm4gb2JqZWN0W2tleV07XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIGEgYGNhY2hlYCB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gY2FjaGUgVGhlIGNhY2hlIHRvIHF1ZXJ5LlxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gY2FjaGVIYXMoY2FjaGUsIGtleSkge1xuICAgIHJldHVybiBjYWNoZS5oYXMoa2V5KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2VkIGJ5IGBfLnRyaW1gIGFuZCBgXy50cmltU3RhcnRgIHRvIGdldCB0aGUgaW5kZXggb2YgdGhlIGZpcnN0IHN0cmluZyBzeW1ib2xcbiAgICogdGhhdCBpcyBub3QgZm91bmQgaW4gdGhlIGNoYXJhY3RlciBzeW1ib2xzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBzdHJTeW1ib2xzIFRoZSBzdHJpbmcgc3ltYm9scyB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0ge0FycmF5fSBjaHJTeW1ib2xzIFRoZSBjaGFyYWN0ZXIgc3ltYm9scyB0byBmaW5kLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgZmlyc3QgdW5tYXRjaGVkIHN0cmluZyBzeW1ib2wuXG4gICAqL1xuICBmdW5jdGlvbiBjaGFyc1N0YXJ0SW5kZXgoc3RyU3ltYm9scywgY2hyU3ltYm9scykge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBzdHJTeW1ib2xzLmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoICYmIGJhc2VJbmRleE9mKGNoclN5bWJvbHMsIHN0clN5bWJvbHNbaW5kZXhdLCAwKSA+IC0xKSB7fVxuICAgIHJldHVybiBpbmRleDtcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2VkIGJ5IGBfLnRyaW1gIGFuZCBgXy50cmltRW5kYCB0byBnZXQgdGhlIGluZGV4IG9mIHRoZSBsYXN0IHN0cmluZyBzeW1ib2xcbiAgICogdGhhdCBpcyBub3QgZm91bmQgaW4gdGhlIGNoYXJhY3RlciBzeW1ib2xzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBzdHJTeW1ib2xzIFRoZSBzdHJpbmcgc3ltYm9scyB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0ge0FycmF5fSBjaHJTeW1ib2xzIFRoZSBjaGFyYWN0ZXIgc3ltYm9scyB0byBmaW5kLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbGFzdCB1bm1hdGNoZWQgc3RyaW5nIHN5bWJvbC5cbiAgICovXG4gIGZ1bmN0aW9uIGNoYXJzRW5kSW5kZXgoc3RyU3ltYm9scywgY2hyU3ltYm9scykge1xuICAgIHZhciBpbmRleCA9IHN0clN5bWJvbHMubGVuZ3RoO1xuXG4gICAgd2hpbGUgKGluZGV4LS0gJiYgYmFzZUluZGV4T2YoY2hyU3ltYm9scywgc3RyU3ltYm9sc1tpbmRleF0sIDApID4gLTEpIHt9XG4gICAgcmV0dXJuIGluZGV4O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIG51bWJlciBvZiBgcGxhY2Vob2xkZXJgIG9jY3VycmVuY2VzIGluIGBhcnJheWAuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0geyp9IHBsYWNlaG9sZGVyIFRoZSBwbGFjZWhvbGRlciB0byBzZWFyY2ggZm9yLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBwbGFjZWhvbGRlciBjb3VudC5cbiAgICovXG4gIGZ1bmN0aW9uIGNvdW50SG9sZGVycyhhcnJheSwgcGxhY2Vob2xkZXIpIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICByZXN1bHQgPSAwO1xuXG4gICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICBpZiAoYXJyYXlbbGVuZ3RoXSA9PT0gcGxhY2Vob2xkZXIpIHtcbiAgICAgICAgKytyZXN1bHQ7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogVXNlZCBieSBgXy5kZWJ1cnJgIHRvIGNvbnZlcnQgTGF0aW4tMSBTdXBwbGVtZW50IGFuZCBMYXRpbiBFeHRlbmRlZC1BXG4gICAqIGxldHRlcnMgdG8gYmFzaWMgTGF0aW4gbGV0dGVycy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IGxldHRlciBUaGUgbWF0Y2hlZCBsZXR0ZXIgdG8gZGVidXJyLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBkZWJ1cnJlZCBsZXR0ZXIuXG4gICAqL1xuICB2YXIgZGVidXJyTGV0dGVyID0gYmFzZVByb3BlcnR5T2YoZGVidXJyZWRMZXR0ZXJzKTtcblxuICAvKipcbiAgICogVXNlZCBieSBgXy5lc2NhcGVgIHRvIGNvbnZlcnQgY2hhcmFjdGVycyB0byBIVE1MIGVudGl0aWVzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gY2hyIFRoZSBtYXRjaGVkIGNoYXJhY3RlciB0byBlc2NhcGUuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGVzY2FwZWQgY2hhcmFjdGVyLlxuICAgKi9cbiAgdmFyIGVzY2FwZUh0bWxDaGFyID0gYmFzZVByb3BlcnR5T2YoaHRtbEVzY2FwZXMpO1xuXG4gIC8qKlxuICAgKiBVc2VkIGJ5IGBfLnRlbXBsYXRlYCB0byBlc2NhcGUgY2hhcmFjdGVycyBmb3IgaW5jbHVzaW9uIGluIGNvbXBpbGVkIHN0cmluZyBsaXRlcmFscy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNociBUaGUgbWF0Y2hlZCBjaGFyYWN0ZXIgdG8gZXNjYXBlLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBlc2NhcGVkIGNoYXJhY3Rlci5cbiAgICovXG4gIGZ1bmN0aW9uIGVzY2FwZVN0cmluZ0NoYXIoY2hyKSB7XG4gICAgcmV0dXJuICdcXFxcJyArIHN0cmluZ0VzY2FwZXNbY2hyXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSB2YWx1ZSBhdCBga2V5YCBvZiBgb2JqZWN0YC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcHJvcGVydHkgdmFsdWUuXG4gICAqL1xuICBmdW5jdGlvbiBnZXRWYWx1ZShvYmplY3QsIGtleSkge1xuICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG9iamVjdFtrZXldO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBgc3RyaW5nYCBjb250YWlucyBVbmljb2RlIHN5bWJvbHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYSBzeW1ib2wgaXMgZm91bmQsIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGhhc1VuaWNvZGUoc3RyaW5nKSB7XG4gICAgcmV0dXJuIHJlSGFzVW5pY29kZS50ZXN0KHN0cmluZyk7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIGBzdHJpbmdgIGNvbnRhaW5zIGEgd29yZCBjb21wb3NlZCBvZiBVbmljb2RlIHN5bWJvbHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYSB3b3JkIGlzIGZvdW5kLCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBoYXNVbmljb2RlV29yZChzdHJpbmcpIHtcbiAgICByZXR1cm4gcmVIYXNVbmljb2RlV29yZC50ZXN0KHN0cmluZyk7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgYGl0ZXJhdG9yYCB0byBhbiBhcnJheS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IGl0ZXJhdG9yIFRoZSBpdGVyYXRvciB0byBjb252ZXJ0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBhcnJheS5cbiAgICovXG4gIGZ1bmN0aW9uIGl0ZXJhdG9yVG9BcnJheShpdGVyYXRvcikge1xuICAgIHZhciBkYXRhLFxuICAgICAgICByZXN1bHQgPSBbXTtcblxuICAgIHdoaWxlICghKGRhdGEgPSBpdGVyYXRvci5uZXh0KCkpLmRvbmUpIHtcbiAgICAgIHJlc3VsdC5wdXNoKGRhdGEudmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIGBtYXBgIHRvIGl0cyBrZXktdmFsdWUgcGFpcnMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBtYXAgVGhlIG1hcCB0byBjb252ZXJ0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGtleS12YWx1ZSBwYWlycy5cbiAgICovXG4gIGZ1bmN0aW9uIG1hcFRvQXJyYXkobWFwKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIHJlc3VsdCA9IEFycmF5KG1hcC5zaXplKTtcblxuICAgIG1hcC5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgIHJlc3VsdFsrK2luZGV4XSA9IFtrZXksIHZhbHVlXTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSB1bmFyeSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggaXRzIGFyZ3VtZW50IHRyYW5zZm9ybWVkLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB0cmFuc2Zvcm0gVGhlIGFyZ3VtZW50IHRyYW5zZm9ybS5cbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAqL1xuICBmdW5jdGlvbiBvdmVyQXJnKGZ1bmMsIHRyYW5zZm9ybSkge1xuICAgIHJldHVybiBmdW5jdGlvbihhcmcpIHtcbiAgICAgIHJldHVybiBmdW5jKHRyYW5zZm9ybShhcmcpKTtcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFJlcGxhY2VzIGFsbCBgcGxhY2Vob2xkZXJgIGVsZW1lbnRzIGluIGBhcnJheWAgd2l0aCBhbiBpbnRlcm5hbCBwbGFjZWhvbGRlclxuICAgKiBhbmQgcmV0dXJucyBhbiBhcnJheSBvZiB0aGVpciBpbmRleGVzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgKiBAcGFyYW0geyp9IHBsYWNlaG9sZGVyIFRoZSBwbGFjZWhvbGRlciB0byByZXBsYWNlLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBwbGFjZWhvbGRlciBpbmRleGVzLlxuICAgKi9cbiAgZnVuY3Rpb24gcmVwbGFjZUhvbGRlcnMoYXJyYXksIHBsYWNlaG9sZGVyKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgcmVzSW5kZXggPSAwLFxuICAgICAgICByZXN1bHQgPSBbXTtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG4gICAgICBpZiAodmFsdWUgPT09IHBsYWNlaG9sZGVyIHx8IHZhbHVlID09PSBQTEFDRUhPTERFUikge1xuICAgICAgICBhcnJheVtpbmRleF0gPSBQTEFDRUhPTERFUjtcbiAgICAgICAgcmVzdWx0W3Jlc0luZGV4KytdID0gaW5kZXg7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgYHNldGAgdG8gYW4gYXJyYXkgb2YgaXRzIHZhbHVlcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IHNldCBUaGUgc2V0IHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgdmFsdWVzLlxuICAgKi9cbiAgZnVuY3Rpb24gc2V0VG9BcnJheShzZXQpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgcmVzdWx0ID0gQXJyYXkoc2V0LnNpemUpO1xuXG4gICAgc2V0LmZvckVhY2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJlc3VsdFsrK2luZGV4XSA9IHZhbHVlO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgYHNldGAgdG8gaXRzIHZhbHVlLXZhbHVlIHBhaXJzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gc2V0IFRoZSBzZXQgdG8gY29udmVydC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSB2YWx1ZS12YWx1ZSBwYWlycy5cbiAgICovXG4gIGZ1bmN0aW9uIHNldFRvUGFpcnMoc2V0KSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIHJlc3VsdCA9IEFycmF5KHNldC5zaXplKTtcblxuICAgIHNldC5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXN1bHRbKytpbmRleF0gPSBbdmFsdWUsIHZhbHVlXTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5pbmRleE9mYCB3aGljaCBwZXJmb3JtcyBzdHJpY3QgZXF1YWxpdHlcbiAgICogY29tcGFyaXNvbnMgb2YgdmFsdWVzLCBpLmUuIGA9PT1gLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGZyb21JbmRleCBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAqL1xuICBmdW5jdGlvbiBzdHJpY3RJbmRleE9mKGFycmF5LCB2YWx1ZSwgZnJvbUluZGV4KSB7XG4gICAgdmFyIGluZGV4ID0gZnJvbUluZGV4IC0gMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGlmIChhcnJheVtpbmRleF0gPT09IHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIC0xO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5sYXN0SW5kZXhPZmAgd2hpY2ggcGVyZm9ybXMgc3RyaWN0IGVxdWFsaXR5XG4gICAqIGNvbXBhcmlzb25zIG9mIHZhbHVlcywgaS5lLiBgPT09YC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tSW5kZXggVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgKi9cbiAgZnVuY3Rpb24gc3RyaWN0TGFzdEluZGV4T2YoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgpIHtcbiAgICB2YXIgaW5kZXggPSBmcm9tSW5kZXggKyAxO1xuICAgIHdoaWxlIChpbmRleC0tKSB7XG4gICAgICBpZiAoYXJyYXlbaW5kZXhdID09PSB2YWx1ZSkge1xuICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBpbmRleDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBudW1iZXIgb2Ygc3ltYm9scyBpbiBgc3RyaW5nYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHN0cmluZyBzaXplLlxuICAgKi9cbiAgZnVuY3Rpb24gc3RyaW5nU2l6ZShzdHJpbmcpIHtcbiAgICByZXR1cm4gaGFzVW5pY29kZShzdHJpbmcpXG4gICAgICA/IHVuaWNvZGVTaXplKHN0cmluZylcbiAgICAgIDogYXNjaWlTaXplKHN0cmluZyk7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgYHN0cmluZ2AgdG8gYW4gYXJyYXkuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBhcnJheS5cbiAgICovXG4gIGZ1bmN0aW9uIHN0cmluZ1RvQXJyYXkoc3RyaW5nKSB7XG4gICAgcmV0dXJuIGhhc1VuaWNvZGUoc3RyaW5nKVxuICAgICAgPyB1bmljb2RlVG9BcnJheShzdHJpbmcpXG4gICAgICA6IGFzY2lpVG9BcnJheShzdHJpbmcpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVzZWQgYnkgYF8udHJpbWAgYW5kIGBfLnRyaW1FbmRgIHRvIGdldCB0aGUgaW5kZXggb2YgdGhlIGxhc3Qgbm9uLXdoaXRlc3BhY2VcbiAgICogY2hhcmFjdGVyIG9mIGBzdHJpbmdgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGxhc3Qgbm9uLXdoaXRlc3BhY2UgY2hhcmFjdGVyLlxuICAgKi9cbiAgZnVuY3Rpb24gdHJpbW1lZEVuZEluZGV4KHN0cmluZykge1xuICAgIHZhciBpbmRleCA9IHN0cmluZy5sZW5ndGg7XG5cbiAgICB3aGlsZSAoaW5kZXgtLSAmJiByZVdoaXRlc3BhY2UudGVzdChzdHJpbmcuY2hhckF0KGluZGV4KSkpIHt9XG4gICAgcmV0dXJuIGluZGV4O1xuICB9XG5cbiAgLyoqXG4gICAqIFVzZWQgYnkgYF8udW5lc2NhcGVgIHRvIGNvbnZlcnQgSFRNTCBlbnRpdGllcyB0byBjaGFyYWN0ZXJzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gY2hyIFRoZSBtYXRjaGVkIGNoYXJhY3RlciB0byB1bmVzY2FwZS5cbiAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdW5lc2NhcGVkIGNoYXJhY3Rlci5cbiAgICovXG4gIHZhciB1bmVzY2FwZUh0bWxDaGFyID0gYmFzZVByb3BlcnR5T2YoaHRtbFVuZXNjYXBlcyk7XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIHNpemUgb2YgYSBVbmljb2RlIGBzdHJpbmdgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgaW5zcGVjdC5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc3RyaW5nIHNpemUuXG4gICAqL1xuICBmdW5jdGlvbiB1bmljb2RlU2l6ZShzdHJpbmcpIHtcbiAgICB2YXIgcmVzdWx0ID0gcmVVbmljb2RlLmxhc3RJbmRleCA9IDA7XG4gICAgd2hpbGUgKHJlVW5pY29kZS50ZXN0KHN0cmluZykpIHtcbiAgICAgICsrcmVzdWx0O1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIGEgVW5pY29kZSBgc3RyaW5nYCB0byBhbiBhcnJheS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY29udmVydGVkIGFycmF5LlxuICAgKi9cbiAgZnVuY3Rpb24gdW5pY29kZVRvQXJyYXkoc3RyaW5nKSB7XG4gICAgcmV0dXJuIHN0cmluZy5tYXRjaChyZVVuaWNvZGUpIHx8IFtdO1xuICB9XG5cbiAgLyoqXG4gICAqIFNwbGl0cyBhIFVuaWNvZGUgYHN0cmluZ2AgaW50byBhbiBhcnJheSBvZiBpdHMgd29yZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgd29yZHMgb2YgYHN0cmluZ2AuXG4gICAqL1xuICBmdW5jdGlvbiB1bmljb2RlV29yZHMoc3RyaW5nKSB7XG4gICAgcmV0dXJuIHN0cmluZy5tYXRjaChyZVVuaWNvZGVXb3JkKSB8fCBbXTtcbiAgfVxuXG4gIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgcHJpc3RpbmUgYGxvZGFzaGAgZnVuY3Rpb24gdXNpbmcgdGhlIGBjb250ZXh0YCBvYmplY3QuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIF9cbiAgICogQHNpbmNlIDEuMS4wXG4gICAqIEBjYXRlZ29yeSBVdGlsXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbY29udGV4dD1yb290XSBUaGUgY29udGV4dCBvYmplY3QuXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBhIG5ldyBgbG9kYXNoYCBmdW5jdGlvbi5cbiAgICogQGV4YW1wbGVcbiAgICpcbiAgICogXy5taXhpbih7ICdmb28nOiBfLmNvbnN0YW50KCdmb28nKSB9KTtcbiAgICpcbiAgICogdmFyIGxvZGFzaCA9IF8ucnVuSW5Db250ZXh0KCk7XG4gICAqIGxvZGFzaC5taXhpbih7ICdiYXInOiBsb2Rhc2guY29uc3RhbnQoJ2JhcicpIH0pO1xuICAgKlxuICAgKiBfLmlzRnVuY3Rpb24oXy5mb28pO1xuICAgKiAvLyA9PiB0cnVlXG4gICAqIF8uaXNGdW5jdGlvbihfLmJhcik7XG4gICAqIC8vID0+IGZhbHNlXG4gICAqXG4gICAqIGxvZGFzaC5pc0Z1bmN0aW9uKGxvZGFzaC5mb28pO1xuICAgKiAvLyA9PiBmYWxzZVxuICAgKiBsb2Rhc2guaXNGdW5jdGlvbihsb2Rhc2guYmFyKTtcbiAgICogLy8gPT4gdHJ1ZVxuICAgKlxuICAgKiAvLyBDcmVhdGUgYSBzdXBlZC11cCBgZGVmZXJgIGluIE5vZGUuanMuXG4gICAqIHZhciBkZWZlciA9IF8ucnVuSW5Db250ZXh0KHsgJ3NldFRpbWVvdXQnOiBzZXRJbW1lZGlhdGUgfSkuZGVmZXI7XG4gICAqL1xuICB2YXIgcnVuSW5Db250ZXh0ID0gKGZ1bmN0aW9uIHJ1bkluQ29udGV4dChjb250ZXh0KSB7XG4gICAgY29udGV4dCA9IGNvbnRleHQgPT0gbnVsbCA/IHJvb3QgOiBfLmRlZmF1bHRzKHJvb3QuT2JqZWN0KCksIGNvbnRleHQsIF8ucGljayhyb290LCBjb250ZXh0UHJvcHMpKTtcblxuICAgIC8qKiBCdWlsdC1pbiBjb25zdHJ1Y3RvciByZWZlcmVuY2VzLiAqL1xuICAgIHZhciBBcnJheSA9IGNvbnRleHQuQXJyYXksXG4gICAgICAgIERhdGUgPSBjb250ZXh0LkRhdGUsXG4gICAgICAgIEVycm9yID0gY29udGV4dC5FcnJvcixcbiAgICAgICAgRnVuY3Rpb24gPSBjb250ZXh0LkZ1bmN0aW9uLFxuICAgICAgICBNYXRoID0gY29udGV4dC5NYXRoLFxuICAgICAgICBPYmplY3QgPSBjb250ZXh0Lk9iamVjdCxcbiAgICAgICAgUmVnRXhwID0gY29udGV4dC5SZWdFeHAsXG4gICAgICAgIFN0cmluZyA9IGNvbnRleHQuU3RyaW5nLFxuICAgICAgICBUeXBlRXJyb3IgPSBjb250ZXh0LlR5cGVFcnJvcjtcblxuICAgIC8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbiAgICB2YXIgYXJyYXlQcm90byA9IEFycmF5LnByb3RvdHlwZSxcbiAgICAgICAgZnVuY1Byb3RvID0gRnVuY3Rpb24ucHJvdG90eXBlLFxuICAgICAgICBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbiAgICAvKiogVXNlZCB0byBkZXRlY3Qgb3ZlcnJlYWNoaW5nIGNvcmUtanMgc2hpbXMuICovXG4gICAgdmFyIGNvcmVKc0RhdGEgPSBjb250ZXh0WydfX2NvcmUtanNfc2hhcmVkX18nXTtcblxuICAgIC8qKiBVc2VkIHRvIHJlc29sdmUgdGhlIGRlY29tcGlsZWQgc291cmNlIG9mIGZ1bmN0aW9ucy4gKi9cbiAgICB2YXIgZnVuY1RvU3RyaW5nID0gZnVuY1Byb3RvLnRvU3RyaW5nO1xuXG4gICAgLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG4gICAgdmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbiAgICAvKiogVXNlZCB0byBnZW5lcmF0ZSB1bmlxdWUgSURzLiAqL1xuICAgIHZhciBpZENvdW50ZXIgPSAwO1xuXG4gICAgLyoqIFVzZWQgdG8gZGV0ZWN0IG1ldGhvZHMgbWFzcXVlcmFkaW5nIGFzIG5hdGl2ZS4gKi9cbiAgICB2YXIgbWFza1NyY0tleSA9IChmdW5jdGlvbigpIHtcbiAgICAgIHZhciB1aWQgPSAvW14uXSskLy5leGVjKGNvcmVKc0RhdGEgJiYgY29yZUpzRGF0YS5rZXlzICYmIGNvcmVKc0RhdGEua2V5cy5JRV9QUk9UTyB8fCAnJyk7XG4gICAgICByZXR1cm4gdWlkID8gKCdTeW1ib2woc3JjKV8xLicgKyB1aWQpIDogJyc7XG4gICAgfSgpKTtcblxuICAgIC8qKlxuICAgICAqIFVzZWQgdG8gcmVzb2x2ZSB0aGVcbiAgICAgKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcbiAgICAgKiBvZiB2YWx1ZXMuXG4gICAgICovXG4gICAgdmFyIG5hdGl2ZU9iamVjdFRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cbiAgICAvKiogVXNlZCB0byBpbmZlciB0aGUgYE9iamVjdGAgY29uc3RydWN0b3IuICovXG4gICAgdmFyIG9iamVjdEN0b3JTdHJpbmcgPSBmdW5jVG9TdHJpbmcuY2FsbChPYmplY3QpO1xuXG4gICAgLyoqIFVzZWQgdG8gcmVzdG9yZSB0aGUgb3JpZ2luYWwgYF9gIHJlZmVyZW5jZSBpbiBgXy5ub0NvbmZsaWN0YC4gKi9cbiAgICB2YXIgb2xkRGFzaCA9IHJvb3QuXztcblxuICAgIC8qKiBVc2VkIHRvIGRldGVjdCBpZiBhIG1ldGhvZCBpcyBuYXRpdmUuICovXG4gICAgdmFyIHJlSXNOYXRpdmUgPSBSZWdFeHAoJ14nICtcbiAgICAgIGZ1bmNUb1N0cmluZy5jYWxsKGhhc093blByb3BlcnR5KS5yZXBsYWNlKHJlUmVnRXhwQ2hhciwgJ1xcXFwkJicpXG4gICAgICAucmVwbGFjZSgvaGFzT3duUHJvcGVydHl8KGZ1bmN0aW9uKS4qPyg/PVxcXFxcXCgpfCBmb3IgLis/KD89XFxcXFxcXSkvZywgJyQxLio/JykgKyAnJCdcbiAgICApO1xuXG4gICAgLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG4gICAgdmFyIEJ1ZmZlciA9IG1vZHVsZUV4cG9ydHMgPyBjb250ZXh0LkJ1ZmZlciA6IHVuZGVmaW5lZCxcbiAgICAgICAgU3ltYm9sID0gY29udGV4dC5TeW1ib2wsXG4gICAgICAgIFVpbnQ4QXJyYXkgPSBjb250ZXh0LlVpbnQ4QXJyYXksXG4gICAgICAgIGFsbG9jVW5zYWZlID0gQnVmZmVyID8gQnVmZmVyLmFsbG9jVW5zYWZlIDogdW5kZWZpbmVkLFxuICAgICAgICBnZXRQcm90b3R5cGUgPSBvdmVyQXJnKE9iamVjdC5nZXRQcm90b3R5cGVPZiwgT2JqZWN0KSxcbiAgICAgICAgb2JqZWN0Q3JlYXRlID0gT2JqZWN0LmNyZWF0ZSxcbiAgICAgICAgcHJvcGVydHlJc0VudW1lcmFibGUgPSBvYmplY3RQcm90by5wcm9wZXJ0eUlzRW51bWVyYWJsZSxcbiAgICAgICAgc3BsaWNlID0gYXJyYXlQcm90by5zcGxpY2UsXG4gICAgICAgIHNwcmVhZGFibGVTeW1ib2wgPSBTeW1ib2wgPyBTeW1ib2wuaXNDb25jYXRTcHJlYWRhYmxlIDogdW5kZWZpbmVkLFxuICAgICAgICBzeW1JdGVyYXRvciA9IFN5bWJvbCA/IFN5bWJvbC5pdGVyYXRvciA6IHVuZGVmaW5lZCxcbiAgICAgICAgc3ltVG9TdHJpbmdUYWcgPSBTeW1ib2wgPyBTeW1ib2wudG9TdHJpbmdUYWcgOiB1bmRlZmluZWQ7XG5cbiAgICB2YXIgZGVmaW5lUHJvcGVydHkgPSAoZnVuY3Rpb24oKSB7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgZnVuYyA9IGdldE5hdGl2ZShPYmplY3QsICdkZWZpbmVQcm9wZXJ0eScpO1xuICAgICAgICBmdW5jKHt9LCAnJywge30pO1xuICAgICAgICByZXR1cm4gZnVuYztcbiAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgfSgpKTtcblxuICAgIC8qKiBNb2NrZWQgYnVpbHQtaW5zLiAqL1xuICAgIHZhciBjdHhDbGVhclRpbWVvdXQgPSBjb250ZXh0LmNsZWFyVGltZW91dCAhPT0gcm9vdC5jbGVhclRpbWVvdXQgJiYgY29udGV4dC5jbGVhclRpbWVvdXQsXG4gICAgICAgIGN0eE5vdyA9IERhdGUgJiYgRGF0ZS5ub3cgIT09IHJvb3QuRGF0ZS5ub3cgJiYgRGF0ZS5ub3csXG4gICAgICAgIGN0eFNldFRpbWVvdXQgPSBjb250ZXh0LnNldFRpbWVvdXQgIT09IHJvb3Quc2V0VGltZW91dCAmJiBjb250ZXh0LnNldFRpbWVvdXQ7XG5cbiAgICAvKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyBmb3IgdGhvc2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMuICovXG4gICAgdmFyIG5hdGl2ZUNlaWwgPSBNYXRoLmNlaWwsXG4gICAgICAgIG5hdGl2ZUZsb29yID0gTWF0aC5mbG9vcixcbiAgICAgICAgbmF0aXZlR2V0U3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsXG4gICAgICAgIG5hdGl2ZUlzQnVmZmVyID0gQnVmZmVyID8gQnVmZmVyLmlzQnVmZmVyIDogdW5kZWZpbmVkLFxuICAgICAgICBuYXRpdmVJc0Zpbml0ZSA9IGNvbnRleHQuaXNGaW5pdGUsXG4gICAgICAgIG5hdGl2ZUpvaW4gPSBhcnJheVByb3RvLmpvaW4sXG4gICAgICAgIG5hdGl2ZUtleXMgPSBvdmVyQXJnKE9iamVjdC5rZXlzLCBPYmplY3QpLFxuICAgICAgICBuYXRpdmVNYXggPSBNYXRoLm1heCxcbiAgICAgICAgbmF0aXZlTWluID0gTWF0aC5taW4sXG4gICAgICAgIG5hdGl2ZU5vdyA9IERhdGUubm93LFxuICAgICAgICBuYXRpdmVQYXJzZUludCA9IGNvbnRleHQucGFyc2VJbnQsXG4gICAgICAgIG5hdGl2ZVJhbmRvbSA9IE1hdGgucmFuZG9tLFxuICAgICAgICBuYXRpdmVSZXZlcnNlID0gYXJyYXlQcm90by5yZXZlcnNlO1xuXG4gICAgLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgdGhhdCBhcmUgdmVyaWZpZWQgdG8gYmUgbmF0aXZlLiAqL1xuICAgIHZhciBEYXRhVmlldyA9IGdldE5hdGl2ZShjb250ZXh0LCAnRGF0YVZpZXcnKSxcbiAgICAgICAgTWFwID0gZ2V0TmF0aXZlKGNvbnRleHQsICdNYXAnKSxcbiAgICAgICAgUHJvbWlzZSA9IGdldE5hdGl2ZShjb250ZXh0LCAnUHJvbWlzZScpLFxuICAgICAgICBTZXQgPSBnZXROYXRpdmUoY29udGV4dCwgJ1NldCcpLFxuICAgICAgICBXZWFrTWFwID0gZ2V0TmF0aXZlKGNvbnRleHQsICdXZWFrTWFwJyksXG4gICAgICAgIG5hdGl2ZUNyZWF0ZSA9IGdldE5hdGl2ZShPYmplY3QsICdjcmVhdGUnKTtcblxuICAgIC8qKiBVc2VkIHRvIHN0b3JlIGZ1bmN0aW9uIG1ldGFkYXRhLiAqL1xuICAgIHZhciBtZXRhTWFwID0gV2Vha01hcCAmJiBuZXcgV2Vha01hcDtcblxuICAgIC8qKiBVc2VkIHRvIGxvb2t1cCB1bm1pbmlmaWVkIGZ1bmN0aW9uIG5hbWVzLiAqL1xuICAgIHZhciByZWFsTmFtZXMgPSB7fTtcblxuICAgIC8qKiBVc2VkIHRvIGRldGVjdCBtYXBzLCBzZXRzLCBhbmQgd2Vha21hcHMuICovXG4gICAgdmFyIGRhdGFWaWV3Q3RvclN0cmluZyA9IHRvU291cmNlKERhdGFWaWV3KSxcbiAgICAgICAgbWFwQ3RvclN0cmluZyA9IHRvU291cmNlKE1hcCksXG4gICAgICAgIHByb21pc2VDdG9yU3RyaW5nID0gdG9Tb3VyY2UoUHJvbWlzZSksXG4gICAgICAgIHNldEN0b3JTdHJpbmcgPSB0b1NvdXJjZShTZXQpLFxuICAgICAgICB3ZWFrTWFwQ3RvclN0cmluZyA9IHRvU291cmNlKFdlYWtNYXApO1xuXG4gICAgLyoqIFVzZWQgdG8gY29udmVydCBzeW1ib2xzIHRvIHByaW1pdGl2ZXMgYW5kIHN0cmluZ3MuICovXG4gICAgdmFyIHN5bWJvbFByb3RvID0gU3ltYm9sID8gU3ltYm9sLnByb3RvdHlwZSA6IHVuZGVmaW5lZCxcbiAgICAgICAgc3ltYm9sVmFsdWVPZiA9IHN5bWJvbFByb3RvID8gc3ltYm9sUHJvdG8udmFsdWVPZiA6IHVuZGVmaW5lZCxcbiAgICAgICAgc3ltYm9sVG9TdHJpbmcgPSBzeW1ib2xQcm90byA/IHN5bWJvbFByb3RvLnRvU3RyaW5nIDogdW5kZWZpbmVkO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBsb2Rhc2hgIG9iamVjdCB3aGljaCB3cmFwcyBgdmFsdWVgIHRvIGVuYWJsZSBpbXBsaWNpdCBtZXRob2RcbiAgICAgKiBjaGFpbiBzZXF1ZW5jZXMuIE1ldGhvZHMgdGhhdCBvcGVyYXRlIG9uIGFuZCByZXR1cm4gYXJyYXlzLCBjb2xsZWN0aW9ucyxcbiAgICAgKiBhbmQgZnVuY3Rpb25zIGNhbiBiZSBjaGFpbmVkIHRvZ2V0aGVyLiBNZXRob2RzIHRoYXQgcmV0cmlldmUgYSBzaW5nbGUgdmFsdWVcbiAgICAgKiBvciBtYXkgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlIHdpbGwgYXV0b21hdGljYWxseSBlbmQgdGhlIGNoYWluIHNlcXVlbmNlXG4gICAgICogYW5kIHJldHVybiB0aGUgdW53cmFwcGVkIHZhbHVlLiBPdGhlcndpc2UsIHRoZSB2YWx1ZSBtdXN0IGJlIHVud3JhcHBlZFxuICAgICAqIHdpdGggYF8jdmFsdWVgLlxuICAgICAqXG4gICAgICogRXhwbGljaXQgY2hhaW4gc2VxdWVuY2VzLCB3aGljaCBtdXN0IGJlIHVud3JhcHBlZCB3aXRoIGBfI3ZhbHVlYCwgbWF5IGJlXG4gICAgICogZW5hYmxlZCB1c2luZyBgXy5jaGFpbmAuXG4gICAgICpcbiAgICAgKiBUaGUgZXhlY3V0aW9uIG9mIGNoYWluZWQgbWV0aG9kcyBpcyBsYXp5LCB0aGF0IGlzLCBpdCdzIGRlZmVycmVkIHVudGlsXG4gICAgICogYF8jdmFsdWVgIGlzIGltcGxpY2l0bHkgb3IgZXhwbGljaXRseSBjYWxsZWQuXG4gICAgICpcbiAgICAgKiBMYXp5IGV2YWx1YXRpb24gYWxsb3dzIHNldmVyYWwgbWV0aG9kcyB0byBzdXBwb3J0IHNob3J0Y3V0IGZ1c2lvbi5cbiAgICAgKiBTaG9ydGN1dCBmdXNpb24gaXMgYW4gb3B0aW1pemF0aW9uIHRvIG1lcmdlIGl0ZXJhdGVlIGNhbGxzOyB0aGlzIGF2b2lkc1xuICAgICAqIHRoZSBjcmVhdGlvbiBvZiBpbnRlcm1lZGlhdGUgYXJyYXlzIGFuZCBjYW4gZ3JlYXRseSByZWR1Y2UgdGhlIG51bWJlciBvZlxuICAgICAqIGl0ZXJhdGVlIGV4ZWN1dGlvbnMuIFNlY3Rpb25zIG9mIGEgY2hhaW4gc2VxdWVuY2UgcXVhbGlmeSBmb3Igc2hvcnRjdXRcbiAgICAgKiBmdXNpb24gaWYgdGhlIHNlY3Rpb24gaXMgYXBwbGllZCB0byBhbiBhcnJheSBhbmQgaXRlcmF0ZWVzIGFjY2VwdCBvbmx5XG4gICAgICogb25lIGFyZ3VtZW50LiBUaGUgaGV1cmlzdGljIGZvciB3aGV0aGVyIGEgc2VjdGlvbiBxdWFsaWZpZXMgZm9yIHNob3J0Y3V0XG4gICAgICogZnVzaW9uIGlzIHN1YmplY3QgdG8gY2hhbmdlLlxuICAgICAqXG4gICAgICogQ2hhaW5pbmcgaXMgc3VwcG9ydGVkIGluIGN1c3RvbSBidWlsZHMgYXMgbG9uZyBhcyB0aGUgYF8jdmFsdWVgIG1ldGhvZCBpc1xuICAgICAqIGRpcmVjdGx5IG9yIGluZGlyZWN0bHkgaW5jbHVkZWQgaW4gdGhlIGJ1aWxkLlxuICAgICAqXG4gICAgICogSW4gYWRkaXRpb24gdG8gbG9kYXNoIG1ldGhvZHMsIHdyYXBwZXJzIGhhdmUgYEFycmF5YCBhbmQgYFN0cmluZ2AgbWV0aG9kcy5cbiAgICAgKlxuICAgICAqIFRoZSB3cmFwcGVyIGBBcnJheWAgbWV0aG9kcyBhcmU6XG4gICAgICogYGNvbmNhdGAsIGBqb2luYCwgYHBvcGAsIGBwdXNoYCwgYHNoaWZ0YCwgYHNvcnRgLCBgc3BsaWNlYCwgYW5kIGB1bnNoaWZ0YFxuICAgICAqXG4gICAgICogVGhlIHdyYXBwZXIgYFN0cmluZ2AgbWV0aG9kcyBhcmU6XG4gICAgICogYHJlcGxhY2VgIGFuZCBgc3BsaXRgXG4gICAgICpcbiAgICAgKiBUaGUgd3JhcHBlciBtZXRob2RzIHRoYXQgc3VwcG9ydCBzaG9ydGN1dCBmdXNpb24gYXJlOlxuICAgICAqIGBhdGAsIGBjb21wYWN0YCwgYGRyb3BgLCBgZHJvcFJpZ2h0YCwgYGRyb3BXaGlsZWAsIGBmaWx0ZXJgLCBgZmluZGAsXG4gICAgICogYGZpbmRMYXN0YCwgYGhlYWRgLCBgaW5pdGlhbGAsIGBsYXN0YCwgYG1hcGAsIGByZWplY3RgLCBgcmV2ZXJzZWAsIGBzbGljZWAsXG4gICAgICogYHRhaWxgLCBgdGFrZWAsIGB0YWtlUmlnaHRgLCBgdGFrZVJpZ2h0V2hpbGVgLCBgdGFrZVdoaWxlYCwgYW5kIGB0b0FycmF5YFxuICAgICAqXG4gICAgICogVGhlIGNoYWluYWJsZSB3cmFwcGVyIG1ldGhvZHMgYXJlOlxuICAgICAqIGBhZnRlcmAsIGBhcnlgLCBgYXNzaWduYCwgYGFzc2lnbkluYCwgYGFzc2lnbkluV2l0aGAsIGBhc3NpZ25XaXRoYCwgYGF0YCxcbiAgICAgKiBgYmVmb3JlYCwgYGJpbmRgLCBgYmluZEFsbGAsIGBiaW5kS2V5YCwgYGNhc3RBcnJheWAsIGBjaGFpbmAsIGBjaHVua2AsXG4gICAgICogYGNvbW1pdGAsIGBjb21wYWN0YCwgYGNvbmNhdGAsIGBjb25mb3Jtc2AsIGBjb25zdGFudGAsIGBjb3VudEJ5YCwgYGNyZWF0ZWAsXG4gICAgICogYGN1cnJ5YCwgYGRlYm91bmNlYCwgYGRlZmF1bHRzYCwgYGRlZmF1bHRzRGVlcGAsIGBkZWZlcmAsIGBkZWxheWAsXG4gICAgICogYGRpZmZlcmVuY2VgLCBgZGlmZmVyZW5jZUJ5YCwgYGRpZmZlcmVuY2VXaXRoYCwgYGRyb3BgLCBgZHJvcFJpZ2h0YCxcbiAgICAgKiBgZHJvcFJpZ2h0V2hpbGVgLCBgZHJvcFdoaWxlYCwgYGV4dGVuZGAsIGBleHRlbmRXaXRoYCwgYGZpbGxgLCBgZmlsdGVyYCxcbiAgICAgKiBgZmxhdE1hcGAsIGBmbGF0TWFwRGVlcGAsIGBmbGF0TWFwRGVwdGhgLCBgZmxhdHRlbmAsIGBmbGF0dGVuRGVlcGAsXG4gICAgICogYGZsYXR0ZW5EZXB0aGAsIGBmbGlwYCwgYGZsb3dgLCBgZmxvd1JpZ2h0YCwgYGZyb21QYWlyc2AsIGBmdW5jdGlvbnNgLFxuICAgICAqIGBmdW5jdGlvbnNJbmAsIGBncm91cEJ5YCwgYGluaXRpYWxgLCBgaW50ZXJzZWN0aW9uYCwgYGludGVyc2VjdGlvbkJ5YCxcbiAgICAgKiBgaW50ZXJzZWN0aW9uV2l0aGAsIGBpbnZlcnRgLCBgaW52ZXJ0QnlgLCBgaW52b2tlTWFwYCwgYGl0ZXJhdGVlYCwgYGtleUJ5YCxcbiAgICAgKiBga2V5c2AsIGBrZXlzSW5gLCBgbWFwYCwgYG1hcEtleXNgLCBgbWFwVmFsdWVzYCwgYG1hdGNoZXNgLCBgbWF0Y2hlc1Byb3BlcnR5YCxcbiAgICAgKiBgbWVtb2l6ZWAsIGBtZXJnZWAsIGBtZXJnZVdpdGhgLCBgbWV0aG9kYCwgYG1ldGhvZE9mYCwgYG1peGluYCwgYG5lZ2F0ZWAsXG4gICAgICogYG50aEFyZ2AsIGBvbWl0YCwgYG9taXRCeWAsIGBvbmNlYCwgYG9yZGVyQnlgLCBgb3ZlcmAsIGBvdmVyQXJnc2AsXG4gICAgICogYG92ZXJFdmVyeWAsIGBvdmVyU29tZWAsIGBwYXJ0aWFsYCwgYHBhcnRpYWxSaWdodGAsIGBwYXJ0aXRpb25gLCBgcGlja2AsXG4gICAgICogYHBpY2tCeWAsIGBwbGFudGAsIGBwcm9wZXJ0eWAsIGBwcm9wZXJ0eU9mYCwgYHB1bGxgLCBgcHVsbEFsbGAsIGBwdWxsQWxsQnlgLFxuICAgICAqIGBwdWxsQWxsV2l0aGAsIGBwdWxsQXRgLCBgcHVzaGAsIGByYW5nZWAsIGByYW5nZVJpZ2h0YCwgYHJlYXJnYCwgYHJlamVjdGAsXG4gICAgICogYHJlbW92ZWAsIGByZXN0YCwgYHJldmVyc2VgLCBgc2FtcGxlU2l6ZWAsIGBzZXRgLCBgc2V0V2l0aGAsIGBzaHVmZmxlYCxcbiAgICAgKiBgc2xpY2VgLCBgc29ydGAsIGBzb3J0QnlgLCBgc3BsaWNlYCwgYHNwcmVhZGAsIGB0YWlsYCwgYHRha2VgLCBgdGFrZVJpZ2h0YCxcbiAgICAgKiBgdGFrZVJpZ2h0V2hpbGVgLCBgdGFrZVdoaWxlYCwgYHRhcGAsIGB0aHJvdHRsZWAsIGB0aHJ1YCwgYHRvQXJyYXlgLFxuICAgICAqIGB0b1BhaXJzYCwgYHRvUGFpcnNJbmAsIGB0b1BhdGhgLCBgdG9QbGFpbk9iamVjdGAsIGB0cmFuc2Zvcm1gLCBgdW5hcnlgLFxuICAgICAqIGB1bmlvbmAsIGB1bmlvbkJ5YCwgYHVuaW9uV2l0aGAsIGB1bmlxYCwgYHVuaXFCeWAsIGB1bmlxV2l0aGAsIGB1bnNldGAsXG4gICAgICogYHVuc2hpZnRgLCBgdW56aXBgLCBgdW56aXBXaXRoYCwgYHVwZGF0ZWAsIGB1cGRhdGVXaXRoYCwgYHZhbHVlc2AsXG4gICAgICogYHZhbHVlc0luYCwgYHdpdGhvdXRgLCBgd3JhcGAsIGB4b3JgLCBgeG9yQnlgLCBgeG9yV2l0aGAsIGB6aXBgLFxuICAgICAqIGB6aXBPYmplY3RgLCBgemlwT2JqZWN0RGVlcGAsIGFuZCBgemlwV2l0aGBcbiAgICAgKlxuICAgICAqIFRoZSB3cmFwcGVyIG1ldGhvZHMgdGhhdCBhcmUgKipub3QqKiBjaGFpbmFibGUgYnkgZGVmYXVsdCBhcmU6XG4gICAgICogYGFkZGAsIGBhdHRlbXB0YCwgYGNhbWVsQ2FzZWAsIGBjYXBpdGFsaXplYCwgYGNlaWxgLCBgY2xhbXBgLCBgY2xvbmVgLFxuICAgICAqIGBjbG9uZURlZXBgLCBgY2xvbmVEZWVwV2l0aGAsIGBjbG9uZVdpdGhgLCBgY29uZm9ybXNUb2AsIGBkZWJ1cnJgLFxuICAgICAqIGBkZWZhdWx0VG9gLCBgZGl2aWRlYCwgYGVhY2hgLCBgZWFjaFJpZ2h0YCwgYGVuZHNXaXRoYCwgYGVxYCwgYGVzY2FwZWAsXG4gICAgICogYGVzY2FwZVJlZ0V4cGAsIGBldmVyeWAsIGBmaW5kYCwgYGZpbmRJbmRleGAsIGBmaW5kS2V5YCwgYGZpbmRMYXN0YCxcbiAgICAgKiBgZmluZExhc3RJbmRleGAsIGBmaW5kTGFzdEtleWAsIGBmaXJzdGAsIGBmbG9vcmAsIGBmb3JFYWNoYCwgYGZvckVhY2hSaWdodGAsXG4gICAgICogYGZvckluYCwgYGZvckluUmlnaHRgLCBgZm9yT3duYCwgYGZvck93blJpZ2h0YCwgYGdldGAsIGBndGAsIGBndGVgLCBgaGFzYCxcbiAgICAgKiBgaGFzSW5gLCBgaGVhZGAsIGBpZGVudGl0eWAsIGBpbmNsdWRlc2AsIGBpbmRleE9mYCwgYGluUmFuZ2VgLCBgaW52b2tlYCxcbiAgICAgKiBgaXNBcmd1bWVudHNgLCBgaXNBcnJheWAsIGBpc0FycmF5QnVmZmVyYCwgYGlzQXJyYXlMaWtlYCwgYGlzQXJyYXlMaWtlT2JqZWN0YCxcbiAgICAgKiBgaXNCb29sZWFuYCwgYGlzQnVmZmVyYCwgYGlzRGF0ZWAsIGBpc0VsZW1lbnRgLCBgaXNFbXB0eWAsIGBpc0VxdWFsYCxcbiAgICAgKiBgaXNFcXVhbFdpdGhgLCBgaXNFcnJvcmAsIGBpc0Zpbml0ZWAsIGBpc0Z1bmN0aW9uYCwgYGlzSW50ZWdlcmAsIGBpc0xlbmd0aGAsXG4gICAgICogYGlzTWFwYCwgYGlzTWF0Y2hgLCBgaXNNYXRjaFdpdGhgLCBgaXNOYU5gLCBgaXNOYXRpdmVgLCBgaXNOaWxgLCBgaXNOdWxsYCxcbiAgICAgKiBgaXNOdW1iZXJgLCBgaXNPYmplY3RgLCBgaXNPYmplY3RMaWtlYCwgYGlzUGxhaW5PYmplY3RgLCBgaXNSZWdFeHBgLFxuICAgICAqIGBpc1NhZmVJbnRlZ2VyYCwgYGlzU2V0YCwgYGlzU3RyaW5nYCwgYGlzVW5kZWZpbmVkYCwgYGlzVHlwZWRBcnJheWAsXG4gICAgICogYGlzV2Vha01hcGAsIGBpc1dlYWtTZXRgLCBgam9pbmAsIGBrZWJhYkNhc2VgLCBgbGFzdGAsIGBsYXN0SW5kZXhPZmAsXG4gICAgICogYGxvd2VyQ2FzZWAsIGBsb3dlckZpcnN0YCwgYGx0YCwgYGx0ZWAsIGBtYXhgLCBgbWF4QnlgLCBgbWVhbmAsIGBtZWFuQnlgLFxuICAgICAqIGBtaW5gLCBgbWluQnlgLCBgbXVsdGlwbHlgLCBgbm9Db25mbGljdGAsIGBub29wYCwgYG5vd2AsIGBudGhgLCBgcGFkYCxcbiAgICAgKiBgcGFkRW5kYCwgYHBhZFN0YXJ0YCwgYHBhcnNlSW50YCwgYHBvcGAsIGByYW5kb21gLCBgcmVkdWNlYCwgYHJlZHVjZVJpZ2h0YCxcbiAgICAgKiBgcmVwZWF0YCwgYHJlc3VsdGAsIGByb3VuZGAsIGBydW5JbkNvbnRleHRgLCBgc2FtcGxlYCwgYHNoaWZ0YCwgYHNpemVgLFxuICAgICAqIGBzbmFrZUNhc2VgLCBgc29tZWAsIGBzb3J0ZWRJbmRleGAsIGBzb3J0ZWRJbmRleEJ5YCwgYHNvcnRlZExhc3RJbmRleGAsXG4gICAgICogYHNvcnRlZExhc3RJbmRleEJ5YCwgYHN0YXJ0Q2FzZWAsIGBzdGFydHNXaXRoYCwgYHN0dWJBcnJheWAsIGBzdHViRmFsc2VgLFxuICAgICAqIGBzdHViT2JqZWN0YCwgYHN0dWJTdHJpbmdgLCBgc3R1YlRydWVgLCBgc3VidHJhY3RgLCBgc3VtYCwgYHN1bUJ5YCxcbiAgICAgKiBgdGVtcGxhdGVgLCBgdGltZXNgLCBgdG9GaW5pdGVgLCBgdG9JbnRlZ2VyYCwgYHRvSlNPTmAsIGB0b0xlbmd0aGAsXG4gICAgICogYHRvTG93ZXJgLCBgdG9OdW1iZXJgLCBgdG9TYWZlSW50ZWdlcmAsIGB0b1N0cmluZ2AsIGB0b1VwcGVyYCwgYHRyaW1gLFxuICAgICAqIGB0cmltRW5kYCwgYHRyaW1TdGFydGAsIGB0cnVuY2F0ZWAsIGB1bmVzY2FwZWAsIGB1bmlxdWVJZGAsIGB1cHBlckNhc2VgLFxuICAgICAqIGB1cHBlckZpcnN0YCwgYHZhbHVlYCwgYW5kIGB3b3Jkc2BcbiAgICAgKlxuICAgICAqIEBuYW1lIF9cbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gd3JhcCBpbiBhIGBsb2Rhc2hgIGluc3RhbmNlLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBzcXVhcmUobikge1xuICAgICAqICAgcmV0dXJuIG4gKiBuO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciB3cmFwcGVkID0gXyhbMSwgMiwgM10pO1xuICAgICAqXG4gICAgICogLy8gUmV0dXJucyBhbiB1bndyYXBwZWQgdmFsdWUuXG4gICAgICogd3JhcHBlZC5yZWR1Y2UoXy5hZGQpO1xuICAgICAqIC8vID0+IDZcbiAgICAgKlxuICAgICAqIC8vIFJldHVybnMgYSB3cmFwcGVkIHZhbHVlLlxuICAgICAqIHZhciBzcXVhcmVzID0gd3JhcHBlZC5tYXAoc3F1YXJlKTtcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheShzcXVhcmVzKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5KHNxdWFyZXMudmFsdWUoKSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxvZGFzaCh2YWx1ZSkge1xuICAgICAgaWYgKGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgIWlzQXJyYXkodmFsdWUpICYmICEodmFsdWUgaW5zdGFuY2VvZiBMYXp5V3JhcHBlcikpIHtcbiAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgTG9kYXNoV3JhcHBlcikge1xuICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgJ19fd3JhcHBlZF9fJykpIHtcbiAgICAgICAgICByZXR1cm4gd3JhcHBlckNsb25lKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyBMb2Rhc2hXcmFwcGVyKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5jcmVhdGVgIHdpdGhvdXQgc3VwcG9ydCBmb3IgYXNzaWduaW5nXG4gICAgICogcHJvcGVydGllcyB0byB0aGUgY3JlYXRlZCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwcm90byBUaGUgb2JqZWN0IHRvIGluaGVyaXQgZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqL1xuICAgIHZhciBiYXNlQ3JlYXRlID0gKGZ1bmN0aW9uKCkge1xuICAgICAgZnVuY3Rpb24gb2JqZWN0KCkge31cbiAgICAgIHJldHVybiBmdW5jdGlvbihwcm90bykge1xuICAgICAgICBpZiAoIWlzT2JqZWN0KHByb3RvKSkge1xuICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob2JqZWN0Q3JlYXRlKSB7XG4gICAgICAgICAgcmV0dXJuIG9iamVjdENyZWF0ZShwcm90byk7XG4gICAgICAgIH1cbiAgICAgICAgb2JqZWN0LnByb3RvdHlwZSA9IHByb3RvO1xuICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IG9iamVjdDtcbiAgICAgICAgb2JqZWN0LnByb3RvdHlwZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH07XG4gICAgfSgpKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBmdW5jdGlvbiB3aG9zZSBwcm90b3R5cGUgY2hhaW4gc2VxdWVuY2Ugd3JhcHBlcnMgaW5oZXJpdCBmcm9tLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTG9kYXNoKCkge1xuICAgICAgLy8gTm8gb3BlcmF0aW9uIHBlcmZvcm1lZC5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBjb25zdHJ1Y3RvciBmb3IgY3JlYXRpbmcgYGxvZGFzaGAgd3JhcHBlciBvYmplY3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2NoYWluQWxsXSBFbmFibGUgZXhwbGljaXQgbWV0aG9kIGNoYWluIHNlcXVlbmNlcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBMb2Rhc2hXcmFwcGVyKHZhbHVlLCBjaGFpbkFsbCkge1xuICAgICAgdGhpcy5fX3dyYXBwZWRfXyA9IHZhbHVlO1xuICAgICAgdGhpcy5fX2FjdGlvbnNfXyA9IFtdO1xuICAgICAgdGhpcy5fX2NoYWluX18gPSAhIWNoYWluQWxsO1xuICAgICAgdGhpcy5fX2luZGV4X18gPSAwO1xuICAgICAgdGhpcy5fX3ZhbHVlc19fID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEJ5IGRlZmF1bHQsIHRoZSB0ZW1wbGF0ZSBkZWxpbWl0ZXJzIHVzZWQgYnkgbG9kYXNoIGFyZSBsaWtlIHRob3NlIGluXG4gICAgICogZW1iZWRkZWQgUnVieSAoRVJCKSBhcyB3ZWxsIGFzIEVTMjAxNSB0ZW1wbGF0ZSBzdHJpbmdzLiBDaGFuZ2UgdGhlXG4gICAgICogZm9sbG93aW5nIHRlbXBsYXRlIHNldHRpbmdzIHRvIHVzZSBhbHRlcm5hdGl2ZSBkZWxpbWl0ZXJzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKi9cbiAgICBsb2Rhc2gudGVtcGxhdGVTZXR0aW5ncyA9IHtcblxuICAgICAgLyoqXG4gICAgICAgKiBVc2VkIHRvIGRldGVjdCBgZGF0YWAgcHJvcGVydHkgdmFsdWVzIHRvIGJlIEhUTUwtZXNjYXBlZC5cbiAgICAgICAqXG4gICAgICAgKiBAbWVtYmVyT2YgXy50ZW1wbGF0ZVNldHRpbmdzXG4gICAgICAgKiBAdHlwZSB7UmVnRXhwfVxuICAgICAgICovXG4gICAgICAnZXNjYXBlJzogcmVFc2NhcGUsXG5cbiAgICAgIC8qKlxuICAgICAgICogVXNlZCB0byBkZXRlY3QgY29kZSB0byBiZSBldmFsdWF0ZWQuXG4gICAgICAgKlxuICAgICAgICogQG1lbWJlck9mIF8udGVtcGxhdGVTZXR0aW5nc1xuICAgICAgICogQHR5cGUge1JlZ0V4cH1cbiAgICAgICAqL1xuICAgICAgJ2V2YWx1YXRlJzogcmVFdmFsdWF0ZSxcblxuICAgICAgLyoqXG4gICAgICAgKiBVc2VkIHRvIGRldGVjdCBgZGF0YWAgcHJvcGVydHkgdmFsdWVzIHRvIGluamVjdC5cbiAgICAgICAqXG4gICAgICAgKiBAbWVtYmVyT2YgXy50ZW1wbGF0ZVNldHRpbmdzXG4gICAgICAgKiBAdHlwZSB7UmVnRXhwfVxuICAgICAgICovXG4gICAgICAnaW50ZXJwb2xhdGUnOiByZUludGVycG9sYXRlLFxuXG4gICAgICAvKipcbiAgICAgICAqIFVzZWQgdG8gcmVmZXJlbmNlIHRoZSBkYXRhIG9iamVjdCBpbiB0aGUgdGVtcGxhdGUgdGV4dC5cbiAgICAgICAqXG4gICAgICAgKiBAbWVtYmVyT2YgXy50ZW1wbGF0ZVNldHRpbmdzXG4gICAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAgICovXG4gICAgICAndmFyaWFibGUnOiAnJyxcblxuICAgICAgLyoqXG4gICAgICAgKiBVc2VkIHRvIGltcG9ydCB2YXJpYWJsZXMgaW50byB0aGUgY29tcGlsZWQgdGVtcGxhdGUuXG4gICAgICAgKlxuICAgICAgICogQG1lbWJlck9mIF8udGVtcGxhdGVTZXR0aW5nc1xuICAgICAgICogQHR5cGUge09iamVjdH1cbiAgICAgICAqL1xuICAgICAgJ2ltcG9ydHMnOiB7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgcmVmZXJlbmNlIHRvIHRoZSBgbG9kYXNoYCBmdW5jdGlvbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlck9mIF8udGVtcGxhdGVTZXR0aW5ncy5pbXBvcnRzXG4gICAgICAgICAqIEB0eXBlIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgICdfJzogbG9kYXNoXG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIEVuc3VyZSB3cmFwcGVycyBhcmUgaW5zdGFuY2VzIG9mIGBiYXNlTG9kYXNoYC5cbiAgICBsb2Rhc2gucHJvdG90eXBlID0gYmFzZUxvZGFzaC5wcm90b3R5cGU7XG4gICAgbG9kYXNoLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGxvZGFzaDtcblxuICAgIExvZGFzaFdyYXBwZXIucHJvdG90eXBlID0gYmFzZUNyZWF0ZShiYXNlTG9kYXNoLnByb3RvdHlwZSk7XG4gICAgTG9kYXNoV3JhcHBlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBMb2Rhc2hXcmFwcGVyO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGxhenkgd3JhcHBlciBvYmplY3Qgd2hpY2ggd3JhcHMgYHZhbHVlYCB0byBlbmFibGUgbGF6eSBldmFsdWF0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byB3cmFwLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIExhenlXcmFwcGVyKHZhbHVlKSB7XG4gICAgICB0aGlzLl9fd3JhcHBlZF9fID0gdmFsdWU7XG4gICAgICB0aGlzLl9fYWN0aW9uc19fID0gW107XG4gICAgICB0aGlzLl9fZGlyX18gPSAxO1xuICAgICAgdGhpcy5fX2ZpbHRlcmVkX18gPSBmYWxzZTtcbiAgICAgIHRoaXMuX19pdGVyYXRlZXNfXyA9IFtdO1xuICAgICAgdGhpcy5fX3Rha2VDb3VudF9fID0gTUFYX0FSUkFZX0xFTkdUSDtcbiAgICAgIHRoaXMuX192aWV3c19fID0gW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoZSBsYXp5IHdyYXBwZXIgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBjbG9uZVxuICAgICAqIEBtZW1iZXJPZiBMYXp5V3JhcHBlclxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNsb25lZCBgTGF6eVdyYXBwZXJgIG9iamVjdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsYXp5Q2xvbmUoKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gbmV3IExhenlXcmFwcGVyKHRoaXMuX193cmFwcGVkX18pO1xuICAgICAgcmVzdWx0Ll9fYWN0aW9uc19fID0gY29weUFycmF5KHRoaXMuX19hY3Rpb25zX18pO1xuICAgICAgcmVzdWx0Ll9fZGlyX18gPSB0aGlzLl9fZGlyX187XG4gICAgICByZXN1bHQuX19maWx0ZXJlZF9fID0gdGhpcy5fX2ZpbHRlcmVkX187XG4gICAgICByZXN1bHQuX19pdGVyYXRlZXNfXyA9IGNvcHlBcnJheSh0aGlzLl9faXRlcmF0ZWVzX18pO1xuICAgICAgcmVzdWx0Ll9fdGFrZUNvdW50X18gPSB0aGlzLl9fdGFrZUNvdW50X187XG4gICAgICByZXN1bHQuX192aWV3c19fID0gY29weUFycmF5KHRoaXMuX192aWV3c19fKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV2ZXJzZXMgdGhlIGRpcmVjdGlvbiBvZiBsYXp5IGl0ZXJhdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgcmV2ZXJzZVxuICAgICAqIEBtZW1iZXJPZiBMYXp5V3JhcHBlclxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyByZXZlcnNlZCBgTGF6eVdyYXBwZXJgIG9iamVjdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsYXp5UmV2ZXJzZSgpIHtcbiAgICAgIGlmICh0aGlzLl9fZmlsdGVyZWRfXykge1xuICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IExhenlXcmFwcGVyKHRoaXMpO1xuICAgICAgICByZXN1bHQuX19kaXJfXyA9IC0xO1xuICAgICAgICByZXN1bHQuX19maWx0ZXJlZF9fID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdCA9IHRoaXMuY2xvbmUoKTtcbiAgICAgICAgcmVzdWx0Ll9fZGlyX18gKj0gLTE7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4dHJhY3RzIHRoZSB1bndyYXBwZWQgdmFsdWUgZnJvbSBpdHMgbGF6eSB3cmFwcGVyLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSB2YWx1ZVxuICAgICAqIEBtZW1iZXJPZiBMYXp5V3JhcHBlclxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSB1bndyYXBwZWQgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGF6eVZhbHVlKCkge1xuICAgICAgdmFyIGFycmF5ID0gdGhpcy5fX3dyYXBwZWRfXy52YWx1ZSgpLFxuICAgICAgICAgIGRpciA9IHRoaXMuX19kaXJfXyxcbiAgICAgICAgICBpc0FyciA9IGlzQXJyYXkoYXJyYXkpLFxuICAgICAgICAgIGlzUmlnaHQgPSBkaXIgPCAwLFxuICAgICAgICAgIGFyckxlbmd0aCA9IGlzQXJyID8gYXJyYXkubGVuZ3RoIDogMCxcbiAgICAgICAgICB2aWV3ID0gZ2V0VmlldygwLCBhcnJMZW5ndGgsIHRoaXMuX192aWV3c19fKSxcbiAgICAgICAgICBzdGFydCA9IHZpZXcuc3RhcnQsXG4gICAgICAgICAgZW5kID0gdmlldy5lbmQsXG4gICAgICAgICAgbGVuZ3RoID0gZW5kIC0gc3RhcnQsXG4gICAgICAgICAgaW5kZXggPSBpc1JpZ2h0ID8gZW5kIDogKHN0YXJ0IC0gMSksXG4gICAgICAgICAgaXRlcmF0ZWVzID0gdGhpcy5fX2l0ZXJhdGVlc19fLFxuICAgICAgICAgIGl0ZXJMZW5ndGggPSBpdGVyYXRlZXMubGVuZ3RoLFxuICAgICAgICAgIHJlc0luZGV4ID0gMCxcbiAgICAgICAgICB0YWtlQ291bnQgPSBuYXRpdmVNaW4obGVuZ3RoLCB0aGlzLl9fdGFrZUNvdW50X18pO1xuXG4gICAgICBpZiAoIWlzQXJyIHx8ICghaXNSaWdodCAmJiBhcnJMZW5ndGggPT0gbGVuZ3RoICYmIHRha2VDb3VudCA9PSBsZW5ndGgpKSB7XG4gICAgICAgIHJldHVybiBiYXNlV3JhcHBlclZhbHVlKGFycmF5LCB0aGlzLl9fYWN0aW9uc19fKTtcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSBbXTtcblxuICAgICAgb3V0ZXI6XG4gICAgICB3aGlsZSAobGVuZ3RoLS0gJiYgcmVzSW5kZXggPCB0YWtlQ291bnQpIHtcbiAgICAgICAgaW5kZXggKz0gZGlyO1xuXG4gICAgICAgIHZhciBpdGVySW5kZXggPSAtMSxcbiAgICAgICAgICAgIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuXG4gICAgICAgIHdoaWxlICgrK2l0ZXJJbmRleCA8IGl0ZXJMZW5ndGgpIHtcbiAgICAgICAgICB2YXIgZGF0YSA9IGl0ZXJhdGVlc1tpdGVySW5kZXhdLFxuICAgICAgICAgICAgICBpdGVyYXRlZSA9IGRhdGEuaXRlcmF0ZWUsXG4gICAgICAgICAgICAgIHR5cGUgPSBkYXRhLnR5cGUsXG4gICAgICAgICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUodmFsdWUpO1xuXG4gICAgICAgICAgaWYgKHR5cGUgPT0gTEFaWV9NQVBfRkxBRykge1xuICAgICAgICAgICAgdmFsdWUgPSBjb21wdXRlZDtcbiAgICAgICAgICB9IGVsc2UgaWYgKCFjb21wdXRlZCkge1xuICAgICAgICAgICAgaWYgKHR5cGUgPT0gTEFaWV9GSUxURVJfRkxBRykge1xuICAgICAgICAgICAgICBjb250aW51ZSBvdXRlcjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGJyZWFrIG91dGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXN1bHRbcmVzSW5kZXgrK10gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLy8gRW5zdXJlIGBMYXp5V3JhcHBlcmAgaXMgYW4gaW5zdGFuY2Ugb2YgYGJhc2VMb2Rhc2hgLlxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZSA9IGJhc2VDcmVhdGUoYmFzZUxvZGFzaC5wcm90b3R5cGUpO1xuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IExhenlXcmFwcGVyO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGhhc2ggb2JqZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBIYXNoKGVudHJpZXMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGVudHJpZXMgPT0gbnVsbCA/IDAgOiBlbnRyaWVzLmxlbmd0aDtcblxuICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgaGFzaC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgY2xlYXJcbiAgICAgKiBAbWVtYmVyT2YgSGFzaFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhc2hDbGVhcigpIHtcbiAgICAgIHRoaXMuX19kYXRhX18gPSBuYXRpdmVDcmVhdGUgPyBuYXRpdmVDcmVhdGUobnVsbCkgOiB7fTtcbiAgICAgIHRoaXMuc2l6ZSA9IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIGhhc2guXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGRlbGV0ZVxuICAgICAqIEBtZW1iZXJPZiBIYXNoXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGhhc2ggVGhlIGhhc2ggdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYXNoRGVsZXRlKGtleSkge1xuICAgICAgdmFyIHJlc3VsdCA9IHRoaXMuaGFzKGtleSkgJiYgZGVsZXRlIHRoaXMuX19kYXRhX19ba2V5XTtcbiAgICAgIHRoaXMuc2l6ZSAtPSByZXN1bHQgPyAxIDogMDtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgaGFzaCB2YWx1ZSBmb3IgYGtleWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGdldFxuICAgICAqIEBtZW1iZXJPZiBIYXNoXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhc2hHZXQoa2V5KSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gICAgICBpZiAobmF0aXZlQ3JlYXRlKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBkYXRhW2tleV07XG4gICAgICAgIHJldHVybiByZXN1bHQgPT09IEhBU0hfVU5ERUZJTkVEID8gdW5kZWZpbmVkIDogcmVzdWx0O1xuICAgICAgfVxuICAgICAgcmV0dXJuIGhhc093blByb3BlcnR5LmNhbGwoZGF0YSwga2V5KSA/IGRhdGFba2V5XSA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYSBoYXNoIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGhhc1xuICAgICAqIEBtZW1iZXJPZiBIYXNoXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhc2hIYXMoa2V5KSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gICAgICByZXR1cm4gbmF0aXZlQ3JlYXRlID8gKGRhdGFba2V5XSAhPT0gdW5kZWZpbmVkKSA6IGhhc093blByb3BlcnR5LmNhbGwoZGF0YSwga2V5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBoYXNoIGBrZXlgIHRvIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIHNldFxuICAgICAqIEBtZW1iZXJPZiBIYXNoXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGhhc2ggaW5zdGFuY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzaFNldChrZXksIHZhbHVlKSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gICAgICB0aGlzLnNpemUgKz0gdGhpcy5oYXMoa2V5KSA/IDAgOiAxO1xuICAgICAgZGF0YVtrZXldID0gKG5hdGl2ZUNyZWF0ZSAmJiB2YWx1ZSA9PT0gdW5kZWZpbmVkKSA/IEhBU0hfVU5ERUZJTkVEIDogdmFsdWU7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0byBgSGFzaGAuXG4gICAgSGFzaC5wcm90b3R5cGUuY2xlYXIgPSBoYXNoQ2xlYXI7XG4gICAgSGFzaC5wcm90b3R5cGVbJ2RlbGV0ZSddID0gaGFzaERlbGV0ZTtcbiAgICBIYXNoLnByb3RvdHlwZS5nZXQgPSBoYXNoR2V0O1xuICAgIEhhc2gucHJvdG90eXBlLmhhcyA9IGhhc2hIYXM7XG4gICAgSGFzaC5wcm90b3R5cGUuc2V0ID0gaGFzaFNldDtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gbGlzdCBjYWNoZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIExpc3RDYWNoZShlbnRyaWVzKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBlbnRyaWVzID09IG51bGwgPyAwIDogZW50cmllcy5sZW5ndGg7XG5cbiAgICAgIHRoaXMuY2xlYXIoKTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgICAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIGxpc3QgY2FjaGUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGNsZWFyXG4gICAgICogQG1lbWJlck9mIExpc3RDYWNoZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxpc3RDYWNoZUNsZWFyKCkge1xuICAgICAgdGhpcy5fX2RhdGFfXyA9IFtdO1xuICAgICAgdGhpcy5zaXplID0gMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgbGlzdCBjYWNoZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgZGVsZXRlXG4gICAgICogQG1lbWJlck9mIExpc3RDYWNoZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsaXN0Q2FjaGVEZWxldGUoa2V5KSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgbGFzdEluZGV4ID0gZGF0YS5sZW5ndGggLSAxO1xuICAgICAgaWYgKGluZGV4ID09IGxhc3RJbmRleCkge1xuICAgICAgICBkYXRhLnBvcCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3BsaWNlLmNhbGwoZGF0YSwgaW5kZXgsIDEpO1xuICAgICAgfVxuICAgICAgLS10aGlzLnNpemU7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBsaXN0IGNhY2hlIHZhbHVlIGZvciBga2V5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgZ2V0XG4gICAgICogQG1lbWJlck9mIExpc3RDYWNoZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsaXN0Q2FjaGVHZXQoa2V5KSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICAgICAgcmV0dXJuIGluZGV4IDwgMCA/IHVuZGVmaW5lZCA6IGRhdGFbaW5kZXhdWzFdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBhIGxpc3QgY2FjaGUgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgaGFzXG4gICAgICogQG1lbWJlck9mIExpc3RDYWNoZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsaXN0Q2FjaGVIYXMoa2V5KSB7XG4gICAgICByZXR1cm4gYXNzb2NJbmRleE9mKHRoaXMuX19kYXRhX18sIGtleSkgPiAtMTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBsaXN0IGNhY2hlIGBrZXlgIHRvIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIHNldFxuICAgICAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbGlzdCBjYWNoZSBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsaXN0Q2FjaGVTZXQoa2V5LCB2YWx1ZSkge1xuICAgICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgKyt0aGlzLnNpemU7XG4gICAgICAgIGRhdGEucHVzaChba2V5LCB2YWx1ZV0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGF0YVtpbmRleF1bMV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8vIEFkZCBtZXRob2RzIHRvIGBMaXN0Q2FjaGVgLlxuICAgIExpc3RDYWNoZS5wcm90b3R5cGUuY2xlYXIgPSBsaXN0Q2FjaGVDbGVhcjtcbiAgICBMaXN0Q2FjaGUucHJvdG90eXBlWydkZWxldGUnXSA9IGxpc3RDYWNoZURlbGV0ZTtcbiAgICBMaXN0Q2FjaGUucHJvdG90eXBlLmdldCA9IGxpc3RDYWNoZUdldDtcbiAgICBMaXN0Q2FjaGUucHJvdG90eXBlLmhhcyA9IGxpc3RDYWNoZUhhcztcbiAgICBMaXN0Q2FjaGUucHJvdG90eXBlLnNldCA9IGxpc3RDYWNoZVNldDtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBtYXAgY2FjaGUgb2JqZWN0IHRvIHN0b3JlIGtleS12YWx1ZSBwYWlycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gTWFwQ2FjaGUoZW50cmllcykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gZW50cmllcyA9PSBudWxsID8gMCA6IGVudHJpZXMubGVuZ3RoO1xuXG4gICAgICB0aGlzLmNsZWFyKCk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICAgICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBtYXAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGNsZWFyXG4gICAgICogQG1lbWJlck9mIE1hcENhY2hlXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWFwQ2FjaGVDbGVhcigpIHtcbiAgICAgIHRoaXMuc2l6ZSA9IDA7XG4gICAgICB0aGlzLl9fZGF0YV9fID0ge1xuICAgICAgICAnaGFzaCc6IG5ldyBIYXNoLFxuICAgICAgICAnbWFwJzogbmV3IChNYXAgfHwgTGlzdENhY2hlKSxcbiAgICAgICAgJ3N0cmluZyc6IG5ldyBIYXNoXG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBtYXAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGRlbGV0ZVxuICAgICAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXBDYWNoZURlbGV0ZShrZXkpIHtcbiAgICAgIHZhciByZXN1bHQgPSBnZXRNYXBEYXRhKHRoaXMsIGtleSlbJ2RlbGV0ZSddKGtleSk7XG4gICAgICB0aGlzLnNpemUgLT0gcmVzdWx0ID8gMSA6IDA7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIG1hcCB2YWx1ZSBmb3IgYGtleWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGdldFxuICAgICAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXBDYWNoZUdldChrZXkpIHtcbiAgICAgIHJldHVybiBnZXRNYXBEYXRhKHRoaXMsIGtleSkuZ2V0KGtleSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGEgbWFwIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGhhc1xuICAgICAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXBDYWNoZUhhcyhrZXkpIHtcbiAgICAgIHJldHVybiBnZXRNYXBEYXRhKHRoaXMsIGtleSkuaGFzKGtleSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbWFwIGBrZXlgIHRvIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIHNldFxuICAgICAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBtYXAgY2FjaGUgaW5zdGFuY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWFwQ2FjaGVTZXQoa2V5LCB2YWx1ZSkge1xuICAgICAgdmFyIGRhdGEgPSBnZXRNYXBEYXRhKHRoaXMsIGtleSksXG4gICAgICAgICAgc2l6ZSA9IGRhdGEuc2l6ZTtcblxuICAgICAgZGF0YS5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgICB0aGlzLnNpemUgKz0gZGF0YS5zaXplID09IHNpemUgPyAwIDogMTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8vIEFkZCBtZXRob2RzIHRvIGBNYXBDYWNoZWAuXG4gICAgTWFwQ2FjaGUucHJvdG90eXBlLmNsZWFyID0gbWFwQ2FjaGVDbGVhcjtcbiAgICBNYXBDYWNoZS5wcm90b3R5cGVbJ2RlbGV0ZSddID0gbWFwQ2FjaGVEZWxldGU7XG4gICAgTWFwQ2FjaGUucHJvdG90eXBlLmdldCA9IG1hcENhY2hlR2V0O1xuICAgIE1hcENhY2hlLnByb3RvdHlwZS5oYXMgPSBtYXBDYWNoZUhhcztcbiAgICBNYXBDYWNoZS5wcm90b3R5cGUuc2V0ID0gbWFwQ2FjaGVTZXQ7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgY2FjaGUgb2JqZWN0IHRvIHN0b3JlIHVuaXF1ZSB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFt2YWx1ZXNdIFRoZSB2YWx1ZXMgdG8gY2FjaGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gU2V0Q2FjaGUodmFsdWVzKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSB2YWx1ZXMgPT0gbnVsbCA/IDAgOiB2YWx1ZXMubGVuZ3RoO1xuXG4gICAgICB0aGlzLl9fZGF0YV9fID0gbmV3IE1hcENhY2hlO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdGhpcy5hZGQodmFsdWVzW2luZGV4XSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkcyBgdmFsdWVgIHRvIHRoZSBhcnJheSBjYWNoZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgYWRkXG4gICAgICogQG1lbWJlck9mIFNldENhY2hlXG4gICAgICogQGFsaWFzIHB1c2hcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjYWNoZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjYWNoZSBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzZXRDYWNoZUFkZCh2YWx1ZSkge1xuICAgICAgdGhpcy5fX2RhdGFfXy5zZXQodmFsdWUsIEhBU0hfVU5ERUZJTkVEKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGluIHRoZSBhcnJheSBjYWNoZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgaGFzXG4gICAgICogQG1lbWJlck9mIFNldENhY2hlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGZvdW5kLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0Q2FjaGVIYXModmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fZGF0YV9fLmhhcyh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLy8gQWRkIG1ldGhvZHMgdG8gYFNldENhY2hlYC5cbiAgICBTZXRDYWNoZS5wcm90b3R5cGUuYWRkID0gU2V0Q2FjaGUucHJvdG90eXBlLnB1c2ggPSBzZXRDYWNoZUFkZDtcbiAgICBTZXRDYWNoZS5wcm90b3R5cGUuaGFzID0gc2V0Q2FjaGVIYXM7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc3RhY2sgY2FjaGUgb2JqZWN0IHRvIHN0b3JlIGtleS12YWx1ZSBwYWlycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gU3RhY2soZW50cmllcykge1xuICAgICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fID0gbmV3IExpc3RDYWNoZShlbnRyaWVzKTtcbiAgICAgIHRoaXMuc2l6ZSA9IGRhdGEuc2l6ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBzdGFjay5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgY2xlYXJcbiAgICAgKiBAbWVtYmVyT2YgU3RhY2tcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdGFja0NsZWFyKCkge1xuICAgICAgdGhpcy5fX2RhdGFfXyA9IG5ldyBMaXN0Q2FjaGU7XG4gICAgICB0aGlzLnNpemUgPSAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBzdGFjay5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgZGVsZXRlXG4gICAgICogQG1lbWJlck9mIFN0YWNrXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0YWNrRGVsZXRlKGtleSkge1xuICAgICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgICAgIHJlc3VsdCA9IGRhdGFbJ2RlbGV0ZSddKGtleSk7XG5cbiAgICAgIHRoaXMuc2l6ZSA9IGRhdGEuc2l6ZTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgc3RhY2sgdmFsdWUgZm9yIGBrZXlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBnZXRcbiAgICAgKiBAbWVtYmVyT2YgU3RhY2tcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3RhY2tHZXQoa2V5KSB7XG4gICAgICByZXR1cm4gdGhpcy5fX2RhdGFfXy5nZXQoa2V5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYSBzdGFjayB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBoYXNcbiAgICAgKiBAbWVtYmVyT2YgU3RhY2tcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3RhY2tIYXMoa2V5KSB7XG4gICAgICByZXR1cm4gdGhpcy5fX2RhdGFfXy5oYXMoa2V5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBzdGFjayBga2V5YCB0byBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBzZXRcbiAgICAgKiBAbWVtYmVyT2YgU3RhY2tcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgc3RhY2sgY2FjaGUgaW5zdGFuY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3RhY2tTZXQoa2V5LCB2YWx1ZSkge1xuICAgICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICAgICAgaWYgKGRhdGEgaW5zdGFuY2VvZiBMaXN0Q2FjaGUpIHtcbiAgICAgICAgdmFyIHBhaXJzID0gZGF0YS5fX2RhdGFfXztcbiAgICAgICAgaWYgKCFNYXAgfHwgKHBhaXJzLmxlbmd0aCA8IExBUkdFX0FSUkFZX1NJWkUgLSAxKSkge1xuICAgICAgICAgIHBhaXJzLnB1c2goW2tleSwgdmFsdWVdKTtcbiAgICAgICAgICB0aGlzLnNpemUgPSArK2RhdGEuc2l6ZTtcbiAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICBkYXRhID0gdGhpcy5fX2RhdGFfXyA9IG5ldyBNYXBDYWNoZShwYWlycyk7XG4gICAgICB9XG4gICAgICBkYXRhLnNldChrZXksIHZhbHVlKTtcbiAgICAgIHRoaXMuc2l6ZSA9IGRhdGEuc2l6ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8vIEFkZCBtZXRob2RzIHRvIGBTdGFja2AuXG4gICAgU3RhY2sucHJvdG90eXBlLmNsZWFyID0gc3RhY2tDbGVhcjtcbiAgICBTdGFjay5wcm90b3R5cGVbJ2RlbGV0ZSddID0gc3RhY2tEZWxldGU7XG4gICAgU3RhY2sucHJvdG90eXBlLmdldCA9IHN0YWNrR2V0O1xuICAgIFN0YWNrLnByb3RvdHlwZS5oYXMgPSBzdGFja0hhcztcbiAgICBTdGFjay5wcm90b3R5cGUuc2V0ID0gc3RhY2tTZXQ7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIG9mIHRoZSBhcnJheS1saWtlIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaW5oZXJpdGVkIFNwZWNpZnkgcmV0dXJuaW5nIGluaGVyaXRlZCBwcm9wZXJ0eSBuYW1lcy5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFycmF5TGlrZUtleXModmFsdWUsIGluaGVyaXRlZCkge1xuICAgICAgdmFyIGlzQXJyID0gaXNBcnJheSh2YWx1ZSksXG4gICAgICAgICAgaXNBcmcgPSAhaXNBcnIgJiYgaXNBcmd1bWVudHModmFsdWUpLFxuICAgICAgICAgIGlzQnVmZiA9ICFpc0FyciAmJiAhaXNBcmcgJiYgaXNCdWZmZXIodmFsdWUpLFxuICAgICAgICAgIGlzVHlwZSA9ICFpc0FyciAmJiAhaXNBcmcgJiYgIWlzQnVmZiAmJiBpc1R5cGVkQXJyYXkodmFsdWUpLFxuICAgICAgICAgIHNraXBJbmRleGVzID0gaXNBcnIgfHwgaXNBcmcgfHwgaXNCdWZmIHx8IGlzVHlwZSxcbiAgICAgICAgICByZXN1bHQgPSBza2lwSW5kZXhlcyA/IGJhc2VUaW1lcyh2YWx1ZS5sZW5ndGgsIFN0cmluZykgOiBbXSxcbiAgICAgICAgICBsZW5ndGggPSByZXN1bHQubGVuZ3RoO1xuXG4gICAgICBmb3IgKHZhciBrZXkgaW4gdmFsdWUpIHtcbiAgICAgICAgaWYgKChpbmhlcml0ZWQgfHwgaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwga2V5KSkgJiZcbiAgICAgICAgICAgICEoc2tpcEluZGV4ZXMgJiYgKFxuICAgICAgICAgICAgICAgLy8gU2FmYXJpIDkgaGFzIGVudW1lcmFibGUgYGFyZ3VtZW50cy5sZW5ndGhgIGluIHN0cmljdCBtb2RlLlxuICAgICAgICAgICAgICAga2V5ID09ICdsZW5ndGgnIHx8XG4gICAgICAgICAgICAgICAvLyBOb2RlLmpzIDAuMTAgaGFzIGVudW1lcmFibGUgbm9uLWluZGV4IHByb3BlcnRpZXMgb24gYnVmZmVycy5cbiAgICAgICAgICAgICAgIChpc0J1ZmYgJiYgKGtleSA9PSAnb2Zmc2V0JyB8fCBrZXkgPT0gJ3BhcmVudCcpKSB8fFxuICAgICAgICAgICAgICAgLy8gUGhhbnRvbUpTIDIgaGFzIGVudW1lcmFibGUgbm9uLWluZGV4IHByb3BlcnRpZXMgb24gdHlwZWQgYXJyYXlzLlxuICAgICAgICAgICAgICAgKGlzVHlwZSAmJiAoa2V5ID09ICdidWZmZXInIHx8IGtleSA9PSAnYnl0ZUxlbmd0aCcgfHwga2V5ID09ICdieXRlT2Zmc2V0JykpIHx8XG4gICAgICAgICAgICAgICAvLyBTa2lwIGluZGV4IHByb3BlcnRpZXMuXG4gICAgICAgICAgICAgICBpc0luZGV4KGtleSwgbGVuZ3RoKVxuICAgICAgICAgICAgKSkpIHtcbiAgICAgICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5zYW1wbGVgIGZvciBhcnJheXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBzYW1wbGUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJhbmRvbSBlbGVtZW50LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFycmF5U2FtcGxlKGFycmF5KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICAgICAgcmV0dXJuIGxlbmd0aCA/IGFycmF5W2Jhc2VSYW5kb20oMCwgbGVuZ3RoIC0gMSldIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5zYW1wbGVTaXplYCBmb3IgYXJyYXlzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2FtcGxlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gc2FtcGxlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcmFuZG9tIGVsZW1lbnRzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFycmF5U2FtcGxlU2l6ZShhcnJheSwgbikge1xuICAgICAgcmV0dXJuIHNodWZmbGVTZWxmKGNvcHlBcnJheShhcnJheSksIGJhc2VDbGFtcChuLCAwLCBhcnJheS5sZW5ndGgpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uc2h1ZmZsZWAgZm9yIGFycmF5cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNodWZmbGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgc2h1ZmZsZWQgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXJyYXlTaHVmZmxlKGFycmF5KSB7XG4gICAgICByZXR1cm4gc2h1ZmZsZVNlbGYoY29weUFycmF5KGFycmF5KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiBpcyBsaWtlIGBhc3NpZ25WYWx1ZWAgZXhjZXB0IHRoYXQgaXQgZG9lc24ndCBhc3NpZ25cbiAgICAgKiBgdW5kZWZpbmVkYCB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBhc3NpZ24uXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gYXNzaWduLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFzc2lnbk1lcmdlVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gICAgICBpZiAoKHZhbHVlICE9PSB1bmRlZmluZWQgJiYgIWVxKG9iamVjdFtrZXldLCB2YWx1ZSkpIHx8XG4gICAgICAgICAgKHZhbHVlID09PSB1bmRlZmluZWQgJiYgIShrZXkgaW4gb2JqZWN0KSkpIHtcbiAgICAgICAgYmFzZUFzc2lnblZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXNzaWducyBgdmFsdWVgIHRvIGBrZXlgIG9mIGBvYmplY3RgIGlmIHRoZSBleGlzdGluZyB2YWx1ZSBpcyBub3QgZXF1aXZhbGVudFxuICAgICAqIHVzaW5nIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gYXNzaWduLlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGFzc2lnbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgICAgIHZhciBvYmpWYWx1ZSA9IG9iamVjdFtrZXldO1xuICAgICAgaWYgKCEoaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkgJiYgZXEob2JqVmFsdWUsIHZhbHVlKSkgfHxcbiAgICAgICAgICAodmFsdWUgPT09IHVuZGVmaW5lZCAmJiAhKGtleSBpbiBvYmplY3QpKSkge1xuICAgICAgICBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBpbmRleCBhdCB3aGljaCB0aGUgYGtleWAgaXMgZm91bmQgaW4gYGFycmF5YCBvZiBrZXktdmFsdWUgcGFpcnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0ga2V5IFRoZSBrZXkgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFzc29jSW5kZXhPZihhcnJheSwga2V5KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIGlmIChlcShhcnJheVtsZW5ndGhdWzBdLCBrZXkpKSB7XG4gICAgICAgICAgcmV0dXJuIGxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIC0xO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFnZ3JlZ2F0ZXMgZWxlbWVudHMgb2YgYGNvbGxlY3Rpb25gIG9uIGBhY2N1bXVsYXRvcmAgd2l0aCBrZXlzIHRyYW5zZm9ybWVkXG4gICAgICogYnkgYGl0ZXJhdGVlYCBhbmQgdmFsdWVzIHNldCBieSBgc2V0dGVyYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHNldHRlciBUaGUgZnVuY3Rpb24gdG8gc2V0IGBhY2N1bXVsYXRvcmAgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBpdGVyYXRlZSB0byB0cmFuc2Zvcm0ga2V5cy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gYWNjdW11bGF0b3IgVGhlIGluaXRpYWwgYWdncmVnYXRlZCBvYmplY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBhY2N1bXVsYXRvcmAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUFnZ3JlZ2F0b3IoY29sbGVjdGlvbiwgc2V0dGVyLCBpdGVyYXRlZSwgYWNjdW11bGF0b3IpIHtcbiAgICAgIGJhc2VFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBrZXksIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgc2V0dGVyKGFjY3VtdWxhdG9yLCB2YWx1ZSwgaXRlcmF0ZWUodmFsdWUpLCBjb2xsZWN0aW9uKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmFzc2lnbmAgd2l0aG91dCBzdXBwb3J0IGZvciBtdWx0aXBsZSBzb3VyY2VzXG4gICAgICogb3IgYGN1c3RvbWl6ZXJgIGZ1bmN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQXNzaWduKG9iamVjdCwgc291cmNlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICYmIGNvcHlPYmplY3Qoc291cmNlLCBrZXlzKHNvdXJjZSksIG9iamVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uYXNzaWduSW5gIHdpdGhvdXQgc3VwcG9ydCBmb3IgbXVsdGlwbGUgc291cmNlc1xuICAgICAqIG9yIGBjdXN0b21pemVyYCBmdW5jdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUFzc2lnbkluKG9iamVjdCwgc291cmNlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICYmIGNvcHlPYmplY3Qoc291cmNlLCBrZXlzSW4oc291cmNlKSwgb2JqZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgYXNzaWduVmFsdWVgIGFuZCBgYXNzaWduTWVyZ2VWYWx1ZWAgd2l0aG91dFxuICAgICAqIHZhbHVlIGNoZWNrcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGFzc2lnbi5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBhc3NpZ24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUFzc2lnblZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICAgICAgaWYgKGtleSA9PSAnX19wcm90b19fJyAmJiBkZWZpbmVQcm9wZXJ0eSkge1xuICAgICAgICBkZWZpbmVQcm9wZXJ0eShvYmplY3QsIGtleSwge1xuICAgICAgICAgICdjb25maWd1cmFibGUnOiB0cnVlLFxuICAgICAgICAgICdlbnVtZXJhYmxlJzogdHJ1ZSxcbiAgICAgICAgICAndmFsdWUnOiB2YWx1ZSxcbiAgICAgICAgICAnd3JpdGFibGUnOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5hdGAgd2l0aG91dCBzdXBwb3J0IGZvciBpbmRpdmlkdWFsIHBhdGhzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IHBhdGhzIFRoZSBwcm9wZXJ0eSBwYXRocyB0byBwaWNrLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcGlja2VkIGVsZW1lbnRzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VBdChvYmplY3QsIHBhdGhzKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBwYXRocy5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0gQXJyYXkobGVuZ3RoKSxcbiAgICAgICAgICBza2lwID0gb2JqZWN0ID09IG51bGw7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHJlc3VsdFtpbmRleF0gPSBza2lwID8gdW5kZWZpbmVkIDogZ2V0KG9iamVjdCwgcGF0aHNbaW5kZXhdKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uY2xhbXBgIHdoaWNoIGRvZXNuJ3QgY29lcmNlIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIGNsYW1wLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbG93ZXJdIFRoZSBsb3dlciBib3VuZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdXBwZXIgVGhlIHVwcGVyIGJvdW5kLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNsYW1wZWQgbnVtYmVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VDbGFtcChudW1iZXIsIGxvd2VyLCB1cHBlcikge1xuICAgICAgaWYgKG51bWJlciA9PT0gbnVtYmVyKSB7XG4gICAgICAgIGlmICh1cHBlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgbnVtYmVyID0gbnVtYmVyIDw9IHVwcGVyID8gbnVtYmVyIDogdXBwZXI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxvd2VyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBudW1iZXIgPSBudW1iZXIgPj0gbG93ZXIgPyBudW1iZXIgOiBsb3dlcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG51bWJlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5jbG9uZWAgYW5kIGBfLmNsb25lRGVlcGAgd2hpY2ggdHJhY2tzXG4gICAgICogdHJhdmVyc2VkIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNsb25lLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy5cbiAgICAgKiAgMSAtIERlZXAgY2xvbmVcbiAgICAgKiAgMiAtIEZsYXR0ZW4gaW5oZXJpdGVkIHByb3BlcnRpZXNcbiAgICAgKiAgNCAtIENsb25lIHN5bWJvbHNcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjbG9uaW5nLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBba2V5XSBUaGUga2V5IG9mIGB2YWx1ZWAuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBwYXJlbnQgb2JqZWN0IG9mIGB2YWx1ZWAuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtzdGFja10gVHJhY2tzIHRyYXZlcnNlZCBvYmplY3RzIGFuZCB0aGVpciBjbG9uZSBjb3VudGVycGFydHMuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGNsb25lZCB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQ2xvbmUodmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGtleSwgb2JqZWN0LCBzdGFjaykge1xuICAgICAgdmFyIHJlc3VsdCxcbiAgICAgICAgICBpc0RlZXAgPSBiaXRtYXNrICYgQ0xPTkVfREVFUF9GTEFHLFxuICAgICAgICAgIGlzRmxhdCA9IGJpdG1hc2sgJiBDTE9ORV9GTEFUX0ZMQUcsXG4gICAgICAgICAgaXNGdWxsID0gYml0bWFzayAmIENMT05FX1NZTUJPTFNfRkxBRztcblxuICAgICAgaWYgKGN1c3RvbWl6ZXIpIHtcbiAgICAgICAgcmVzdWx0ID0gb2JqZWN0ID8gY3VzdG9taXplcih2YWx1ZSwga2V5LCBvYmplY3QsIHN0YWNrKSA6IGN1c3RvbWl6ZXIodmFsdWUpO1xuICAgICAgfVxuICAgICAgaWYgKHJlc3VsdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICBpZiAoIWlzT2JqZWN0KHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICB2YXIgaXNBcnIgPSBpc0FycmF5KHZhbHVlKTtcbiAgICAgIGlmIChpc0Fycikge1xuICAgICAgICByZXN1bHQgPSBpbml0Q2xvbmVBcnJheSh2YWx1ZSk7XG4gICAgICAgIGlmICghaXNEZWVwKSB7XG4gICAgICAgICAgcmV0dXJuIGNvcHlBcnJheSh2YWx1ZSwgcmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHRhZyA9IGdldFRhZyh2YWx1ZSksXG4gICAgICAgICAgICBpc0Z1bmMgPSB0YWcgPT0gZnVuY1RhZyB8fCB0YWcgPT0gZ2VuVGFnO1xuXG4gICAgICAgIGlmIChpc0J1ZmZlcih2YWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm4gY2xvbmVCdWZmZXIodmFsdWUsIGlzRGVlcCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRhZyA9PSBvYmplY3RUYWcgfHwgdGFnID09IGFyZ3NUYWcgfHwgKGlzRnVuYyAmJiAhb2JqZWN0KSkge1xuICAgICAgICAgIHJlc3VsdCA9IChpc0ZsYXQgfHwgaXNGdW5jKSA/IHt9IDogaW5pdENsb25lT2JqZWN0KHZhbHVlKTtcbiAgICAgICAgICBpZiAoIWlzRGVlcCkge1xuICAgICAgICAgICAgcmV0dXJuIGlzRmxhdFxuICAgICAgICAgICAgICA/IGNvcHlTeW1ib2xzSW4odmFsdWUsIGJhc2VBc3NpZ25JbihyZXN1bHQsIHZhbHVlKSlcbiAgICAgICAgICAgICAgOiBjb3B5U3ltYm9scyh2YWx1ZSwgYmFzZUFzc2lnbihyZXN1bHQsIHZhbHVlKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmICghY2xvbmVhYmxlVGFnc1t0YWddKSB7XG4gICAgICAgICAgICByZXR1cm4gb2JqZWN0ID8gdmFsdWUgOiB7fTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0ID0gaW5pdENsb25lQnlUYWcodmFsdWUsIHRhZywgaXNEZWVwKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gQ2hlY2sgZm9yIGNpcmN1bGFyIHJlZmVyZW5jZXMgYW5kIHJldHVybiBpdHMgY29ycmVzcG9uZGluZyBjbG9uZS5cbiAgICAgIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG4gICAgICB2YXIgc3RhY2tlZCA9IHN0YWNrLmdldCh2YWx1ZSk7XG4gICAgICBpZiAoc3RhY2tlZCkge1xuICAgICAgICByZXR1cm4gc3RhY2tlZDtcbiAgICAgIH1cbiAgICAgIHN0YWNrLnNldCh2YWx1ZSwgcmVzdWx0KTtcblxuICAgICAgaWYgKGlzU2V0KHZhbHVlKSkge1xuICAgICAgICB2YWx1ZS5mb3JFYWNoKGZ1bmN0aW9uKHN1YlZhbHVlKSB7XG4gICAgICAgICAgcmVzdWx0LmFkZChiYXNlQ2xvbmUoc3ViVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN1YlZhbHVlLCB2YWx1ZSwgc3RhY2spKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKGlzTWFwKHZhbHVlKSkge1xuICAgICAgICB2YWx1ZS5mb3JFYWNoKGZ1bmN0aW9uKHN1YlZhbHVlLCBrZXkpIHtcbiAgICAgICAgICByZXN1bHQuc2V0KGtleSwgYmFzZUNsb25lKHN1YlZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBrZXksIHZhbHVlLCBzdGFjaykpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgdmFyIGtleXNGdW5jID0gaXNGdWxsXG4gICAgICAgID8gKGlzRmxhdCA/IGdldEFsbEtleXNJbiA6IGdldEFsbEtleXMpXG4gICAgICAgIDogKGlzRmxhdCA/IGtleXNJbiA6IGtleXMpO1xuXG4gICAgICB2YXIgcHJvcHMgPSBpc0FyciA/IHVuZGVmaW5lZCA6IGtleXNGdW5jKHZhbHVlKTtcbiAgICAgIGFycmF5RWFjaChwcm9wcyB8fCB2YWx1ZSwgZnVuY3Rpb24oc3ViVmFsdWUsIGtleSkge1xuICAgICAgICBpZiAocHJvcHMpIHtcbiAgICAgICAgICBrZXkgPSBzdWJWYWx1ZTtcbiAgICAgICAgICBzdWJWYWx1ZSA9IHZhbHVlW2tleV07XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVjdXJzaXZlbHkgcG9wdWxhdGUgY2xvbmUgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgICAgYXNzaWduVmFsdWUocmVzdWx0LCBrZXksIGJhc2VDbG9uZShzdWJWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwga2V5LCB2YWx1ZSwgc3RhY2spKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5jb25mb3Jtc2Agd2hpY2ggZG9lc24ndCBjbG9uZSBgc291cmNlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHByZWRpY2F0ZXMgdG8gY29uZm9ybSB0by5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzcGVjIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VDb25mb3Jtcyhzb3VyY2UpIHtcbiAgICAgIHZhciBwcm9wcyA9IGtleXMoc291cmNlKTtcbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VDb25mb3Jtc1RvKG9iamVjdCwgc291cmNlLCBwcm9wcyk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmNvbmZvcm1zVG9gIHdoaWNoIGFjY2VwdHMgYHByb3BzYCB0byBjaGVjay5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHByZWRpY2F0ZXMgdG8gY29uZm9ybSB0by5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYG9iamVjdGAgY29uZm9ybXMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQ29uZm9ybXNUbyhvYmplY3QsIHNvdXJjZSwgcHJvcHMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBwcm9wcy5sZW5ndGg7XG4gICAgICBpZiAob2JqZWN0ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuICFsZW5ndGg7XG4gICAgICB9XG4gICAgICBvYmplY3QgPSBPYmplY3Qob2JqZWN0KTtcbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICB2YXIga2V5ID0gcHJvcHNbbGVuZ3RoXSxcbiAgICAgICAgICAgIHByZWRpY2F0ZSA9IHNvdXJjZVtrZXldLFxuICAgICAgICAgICAgdmFsdWUgPSBvYmplY3Rba2V5XTtcblxuICAgICAgICBpZiAoKHZhbHVlID09PSB1bmRlZmluZWQgJiYgIShrZXkgaW4gb2JqZWN0KSkgfHwgIXByZWRpY2F0ZSh2YWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmRlbGF5YCBhbmQgYF8uZGVmZXJgIHdoaWNoIGFjY2VwdHMgYGFyZ3NgXG4gICAgICogdG8gcHJvdmlkZSB0byBgZnVuY2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRlbGF5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3YWl0IFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIGRlbGF5IGludm9jYXRpb24uXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJncyBUaGUgYXJndW1lbnRzIHRvIHByb3ZpZGUgdG8gYGZ1bmNgLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ8T2JqZWN0fSBSZXR1cm5zIHRoZSB0aW1lciBpZCBvciB0aW1lb3V0IG9iamVjdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRGVsYXkoZnVuYywgd2FpdCwgYXJncykge1xuICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7IGZ1bmMuYXBwbHkodW5kZWZpbmVkLCBhcmdzKTsgfSwgd2FpdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgbWV0aG9kcyBsaWtlIGBfLmRpZmZlcmVuY2VgIHdpdGhvdXQgc3VwcG9ydFxuICAgICAqIGZvciBleGNsdWRpbmcgbXVsdGlwbGUgYXJyYXlzIG9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgdmFsdWVzIHRvIGV4Y2x1ZGUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlXSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZURpZmZlcmVuY2UoYXJyYXksIHZhbHVlcywgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGluY2x1ZGVzID0gYXJyYXlJbmNsdWRlcyxcbiAgICAgICAgICBpc0NvbW1vbiA9IHRydWUsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IFtdLFxuICAgICAgICAgIHZhbHVlc0xlbmd0aCA9IHZhbHVlcy5sZW5ndGg7XG5cbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICBpZiAoaXRlcmF0ZWUpIHtcbiAgICAgICAgdmFsdWVzID0gYXJyYXlNYXAodmFsdWVzLCBiYXNlVW5hcnkoaXRlcmF0ZWUpKTtcbiAgICAgIH1cbiAgICAgIGlmIChjb21wYXJhdG9yKSB7XG4gICAgICAgIGluY2x1ZGVzID0gYXJyYXlJbmNsdWRlc1dpdGg7XG4gICAgICAgIGlzQ29tbW9uID0gZmFsc2U7XG4gICAgICB9XG4gICAgICBlbHNlIGlmICh2YWx1ZXMubGVuZ3RoID49IExBUkdFX0FSUkFZX1NJWkUpIHtcbiAgICAgICAgaW5jbHVkZXMgPSBjYWNoZUhhcztcbiAgICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICAgICAgdmFsdWVzID0gbmV3IFNldENhY2hlKHZhbHVlcyk7XG4gICAgICB9XG4gICAgICBvdXRlcjpcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XSxcbiAgICAgICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUgPT0gbnVsbCA/IHZhbHVlIDogaXRlcmF0ZWUodmFsdWUpO1xuXG4gICAgICAgIHZhbHVlID0gKGNvbXBhcmF0b3IgfHwgdmFsdWUgIT09IDApID8gdmFsdWUgOiAwO1xuICAgICAgICBpZiAoaXNDb21tb24gJiYgY29tcHV0ZWQgPT09IGNvbXB1dGVkKSB7XG4gICAgICAgICAgdmFyIHZhbHVlc0luZGV4ID0gdmFsdWVzTGVuZ3RoO1xuICAgICAgICAgIHdoaWxlICh2YWx1ZXNJbmRleC0tKSB7XG4gICAgICAgICAgICBpZiAodmFsdWVzW3ZhbHVlc0luZGV4XSA9PT0gY29tcHV0ZWQpIHtcbiAgICAgICAgICAgICAgY29udGludWUgb3V0ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghaW5jbHVkZXModmFsdWVzLCBjb21wdXRlZCwgY29tcGFyYXRvcikpIHtcbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZm9yRWFjaGAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl8T2JqZWN0fSBSZXR1cm5zIGBjb2xsZWN0aW9uYC5cbiAgICAgKi9cbiAgICB2YXIgYmFzZUVhY2ggPSBjcmVhdGVCYXNlRWFjaChiYXNlRm9yT3duKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZvckVhY2hSaWdodGAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl8T2JqZWN0fSBSZXR1cm5zIGBjb2xsZWN0aW9uYC5cbiAgICAgKi9cbiAgICB2YXIgYmFzZUVhY2hSaWdodCA9IGNyZWF0ZUJhc2VFYWNoKGJhc2VGb3JPd25SaWdodCwgdHJ1ZSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5ldmVyeWAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFsbCBlbGVtZW50cyBwYXNzIHRoZSBwcmVkaWNhdGUgY2hlY2ssXG4gICAgICogIGVsc2UgYGZhbHNlYFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VFdmVyeShjb2xsZWN0aW9uLCBwcmVkaWNhdGUpIHtcbiAgICAgIHZhciByZXN1bHQgPSB0cnVlO1xuICAgICAgYmFzZUVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIHJlc3VsdCA9ICEhcHJlZGljYXRlKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbik7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgbWV0aG9kcyBsaWtlIGBfLm1heGAgYW5kIGBfLm1pbmAgd2hpY2ggYWNjZXB0cyBhXG4gICAgICogYGNvbXBhcmF0b3JgIHRvIGRldGVybWluZSB0aGUgZXh0cmVtdW0gdmFsdWUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb21wYXJhdG9yIFRoZSBjb21wYXJhdG9yIHVzZWQgdG8gY29tcGFyZSB2YWx1ZXMuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGV4dHJlbXVtIHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VFeHRyZW11bShhcnJheSwgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdLFxuICAgICAgICAgICAgY3VycmVudCA9IGl0ZXJhdGVlKHZhbHVlKTtcblxuICAgICAgICBpZiAoY3VycmVudCAhPSBudWxsICYmIChjb21wdXRlZCA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgID8gKGN1cnJlbnQgPT09IGN1cnJlbnQgJiYgIWlzU3ltYm9sKGN1cnJlbnQpKVxuICAgICAgICAgICAgICA6IGNvbXBhcmF0b3IoY3VycmVudCwgY29tcHV0ZWQpXG4gICAgICAgICAgICApKSB7XG4gICAgICAgICAgdmFyIGNvbXB1dGVkID0gY3VycmVudCxcbiAgICAgICAgICAgICAgcmVzdWx0ID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZmlsbGAgd2l0aG91dCBhbiBpdGVyYXRlZSBjYWxsIGd1YXJkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gZmlsbC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBmaWxsIGBhcnJheWAgd2l0aC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBwb3NpdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2VuZD1hcnJheS5sZW5ndGhdIFRoZSBlbmQgcG9zaXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUZpbGwoYXJyYXksIHZhbHVlLCBzdGFydCwgZW5kKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgICBzdGFydCA9IHRvSW50ZWdlcihzdGFydCk7XG4gICAgICBpZiAoc3RhcnQgPCAwKSB7XG4gICAgICAgIHN0YXJ0ID0gLXN0YXJ0ID4gbGVuZ3RoID8gMCA6IChsZW5ndGggKyBzdGFydCk7XG4gICAgICB9XG4gICAgICBlbmQgPSAoZW5kID09PSB1bmRlZmluZWQgfHwgZW5kID4gbGVuZ3RoKSA/IGxlbmd0aCA6IHRvSW50ZWdlcihlbmQpO1xuICAgICAgaWYgKGVuZCA8IDApIHtcbiAgICAgICAgZW5kICs9IGxlbmd0aDtcbiAgICAgIH1cbiAgICAgIGVuZCA9IHN0YXJ0ID4gZW5kID8gMCA6IHRvTGVuZ3RoKGVuZCk7XG4gICAgICB3aGlsZSAoc3RhcnQgPCBlbmQpIHtcbiAgICAgICAgYXJyYXlbc3RhcnQrK10gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5maWx0ZXJgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZpbHRlcmVkIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VGaWx0ZXIoY29sbGVjdGlvbiwgcHJlZGljYXRlKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICBiYXNlRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgaWYgKHByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZmxhdHRlbmAgd2l0aCBzdXBwb3J0IGZvciByZXN0cmljdGluZyBmbGF0dGVuaW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gZmxhdHRlbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGVwdGggVGhlIG1heGltdW0gcmVjdXJzaW9uIGRlcHRoLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3ByZWRpY2F0ZT1pc0ZsYXR0ZW5hYmxlXSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzU3RyaWN0XSBSZXN0cmljdCB0byB2YWx1ZXMgdGhhdCBwYXNzIGBwcmVkaWNhdGVgIGNoZWNrcy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcmVzdWx0PVtdXSBUaGUgaW5pdGlhbCByZXN1bHQgdmFsdWUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VGbGF0dGVuKGFycmF5LCBkZXB0aCwgcHJlZGljYXRlLCBpc1N0cmljdCwgcmVzdWx0KSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICAgIHByZWRpY2F0ZSB8fCAocHJlZGljYXRlID0gaXNGbGF0dGVuYWJsZSk7XG4gICAgICByZXN1bHQgfHwgKHJlc3VsdCA9IFtdKTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuICAgICAgICBpZiAoZGVwdGggPiAwICYmIHByZWRpY2F0ZSh2YWx1ZSkpIHtcbiAgICAgICAgICBpZiAoZGVwdGggPiAxKSB7XG4gICAgICAgICAgICAvLyBSZWN1cnNpdmVseSBmbGF0dGVuIGFycmF5cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgICAgICAgICAgYmFzZUZsYXR0ZW4odmFsdWUsIGRlcHRoIC0gMSwgcHJlZGljYXRlLCBpc1N0cmljdCwgcmVzdWx0KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXJyYXlQdXNoKHJlc3VsdCwgdmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICghaXNTdHJpY3QpIHtcbiAgICAgICAgICByZXN1bHRbcmVzdWx0Lmxlbmd0aF0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgYmFzZUZvck93bmAgd2hpY2ggaXRlcmF0ZXMgb3ZlciBgb2JqZWN0YFxuICAgICAqIHByb3BlcnRpZXMgcmV0dXJuZWQgYnkgYGtleXNGdW5jYCBhbmQgaW52b2tlcyBgaXRlcmF0ZWVgIGZvciBlYWNoIHByb3BlcnR5LlxuICAgICAqIEl0ZXJhdGVlIGZ1bmN0aW9ucyBtYXkgZXhpdCBpdGVyYXRpb24gZWFybHkgYnkgZXhwbGljaXRseSByZXR1cm5pbmcgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGtleXNGdW5jIFRoZSBmdW5jdGlvbiB0byBnZXQgdGhlIGtleXMgb2YgYG9iamVjdGAuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICB2YXIgYmFzZUZvciA9IGNyZWF0ZUJhc2VGb3IoKTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgbGlrZSBgYmFzZUZvcmAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBwcm9wZXJ0aWVzXG4gICAgICogaW4gdGhlIG9wcG9zaXRlIG9yZGVyLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0ga2V5c0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUga2V5cyBvZiBgb2JqZWN0YC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIHZhciBiYXNlRm9yUmlnaHQgPSBjcmVhdGVCYXNlRm9yKHRydWUpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZm9yT3duYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VGb3JPd24ob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCAmJiBiYXNlRm9yKG9iamVjdCwgaXRlcmF0ZWUsIGtleXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZvck93blJpZ2h0YCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VGb3JPd25SaWdodChvYmplY3QsIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICYmIGJhc2VGb3JSaWdodChvYmplY3QsIGl0ZXJhdGVlLCBrZXlzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5mdW5jdGlvbnNgIHdoaWNoIGNyZWF0ZXMgYW4gYXJyYXkgb2ZcbiAgICAgKiBgb2JqZWN0YCBmdW5jdGlvbiBwcm9wZXJ0eSBuYW1lcyBmaWx0ZXJlZCBmcm9tIGBwcm9wc2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHByb3BzIFRoZSBwcm9wZXJ0eSBuYW1lcyB0byBmaWx0ZXIuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBmdW5jdGlvbiBuYW1lcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRnVuY3Rpb25zKG9iamVjdCwgcHJvcHMpIHtcbiAgICAgIHJldHVybiBhcnJheUZpbHRlcihwcm9wcywgZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgIHJldHVybiBpc0Z1bmN0aW9uKG9iamVjdFtrZXldKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmdldGAgd2l0aG91dCBzdXBwb3J0IGZvciBkZWZhdWx0IHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc29sdmVkIHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VHZXQob2JqZWN0LCBwYXRoKSB7XG4gICAgICBwYXRoID0gY2FzdFBhdGgocGF0aCwgb2JqZWN0KTtcblxuICAgICAgdmFyIGluZGV4ID0gMCxcbiAgICAgICAgICBsZW5ndGggPSBwYXRoLmxlbmd0aDtcblxuICAgICAgd2hpbGUgKG9iamVjdCAhPSBudWxsICYmIGluZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIG9iamVjdCA9IG9iamVjdFt0b0tleShwYXRoW2luZGV4KytdKV07XG4gICAgICB9XG4gICAgICByZXR1cm4gKGluZGV4ICYmIGluZGV4ID09IGxlbmd0aCkgPyBvYmplY3QgOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGdldEFsbEtleXNgIGFuZCBgZ2V0QWxsS2V5c0luYCB3aGljaCB1c2VzXG4gICAgICogYGtleXNGdW5jYCBhbmQgYHN5bWJvbHNGdW5jYCB0byBnZXQgdGhlIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgYW5kXG4gICAgICogc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGtleXNGdW5jIFRoZSBmdW5jdGlvbiB0byBnZXQgdGhlIGtleXMgb2YgYG9iamVjdGAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc3ltYm9sc0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUgc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzIGFuZCBzeW1ib2xzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VHZXRBbGxLZXlzKG9iamVjdCwga2V5c0Z1bmMsIHN5bWJvbHNGdW5jKSB7XG4gICAgICB2YXIgcmVzdWx0ID0ga2V5c0Z1bmMob2JqZWN0KTtcbiAgICAgIHJldHVybiBpc0FycmF5KG9iamVjdCkgPyByZXN1bHQgOiBhcnJheVB1c2gocmVzdWx0LCBzeW1ib2xzRnVuYyhvYmplY3QpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgZ2V0VGFnYCB3aXRob3V0IGZhbGxiYWNrcyBmb3IgYnVnZ3kgZW52aXJvbm1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBgdG9TdHJpbmdUYWdgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VHZXRUYWcodmFsdWUpIHtcbiAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gdW5kZWZpbmVkVGFnIDogbnVsbFRhZztcbiAgICAgIH1cbiAgICAgIHJldHVybiAoc3ltVG9TdHJpbmdUYWcgJiYgc3ltVG9TdHJpbmdUYWcgaW4gT2JqZWN0KHZhbHVlKSlcbiAgICAgICAgPyBnZXRSYXdUYWcodmFsdWUpXG4gICAgICAgIDogb2JqZWN0VG9TdHJpbmcodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmd0YCB3aGljaCBkb2Vzbid0IGNvZXJjZSBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBncmVhdGVyIHRoYW4gYG90aGVyYCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VHdCh2YWx1ZSwgb3RoZXIpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA+IG90aGVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmhhc2Agd2l0aG91dCBzdXBwb3J0IGZvciBkZWVwIHBhdGhzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30ga2V5IFRoZSBrZXkgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VIYXMob2JqZWN0LCBrZXkpIHtcbiAgICAgIHJldHVybiBvYmplY3QgIT0gbnVsbCAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5oYXNJbmAgd2l0aG91dCBzdXBwb3J0IGZvciBkZWVwIHBhdGhzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30ga2V5IFRoZSBrZXkgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VIYXNJbihvYmplY3QsIGtleSkge1xuICAgICAgcmV0dXJuIG9iamVjdCAhPSBudWxsICYmIGtleSBpbiBPYmplY3Qob2JqZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pblJhbmdlYCB3aGljaCBkb2Vzbid0IGNvZXJjZSBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBudW1iZXIgVGhlIG51bWJlciB0byBjaGVjay5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnQgVGhlIHN0YXJ0IG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIFRoZSBlbmQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgbnVtYmVyYCBpcyBpbiB0aGUgcmFuZ2UsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSW5SYW5nZShudW1iZXIsIHN0YXJ0LCBlbmQpIHtcbiAgICAgIHJldHVybiBudW1iZXIgPj0gbmF0aXZlTWluKHN0YXJ0LCBlbmQpICYmIG51bWJlciA8IG5hdGl2ZU1heChzdGFydCwgZW5kKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBtZXRob2RzIGxpa2UgYF8uaW50ZXJzZWN0aW9uYCwgd2l0aG91dCBzdXBwb3J0XG4gICAgICogZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMsIHRoYXQgYWNjZXB0cyBhbiBhcnJheSBvZiBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXlzIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWVdIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIHNoYXJlZCB2YWx1ZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUludGVyc2VjdGlvbihhcnJheXMsIGl0ZXJhdGVlLCBjb21wYXJhdG9yKSB7XG4gICAgICB2YXIgaW5jbHVkZXMgPSBjb21wYXJhdG9yID8gYXJyYXlJbmNsdWRlc1dpdGggOiBhcnJheUluY2x1ZGVzLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5c1swXS5sZW5ndGgsXG4gICAgICAgICAgb3RoTGVuZ3RoID0gYXJyYXlzLmxlbmd0aCxcbiAgICAgICAgICBvdGhJbmRleCA9IG90aExlbmd0aCxcbiAgICAgICAgICBjYWNoZXMgPSBBcnJheShvdGhMZW5ndGgpLFxuICAgICAgICAgIG1heExlbmd0aCA9IEluZmluaXR5LFxuICAgICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgICB3aGlsZSAob3RoSW5kZXgtLSkge1xuICAgICAgICB2YXIgYXJyYXkgPSBhcnJheXNbb3RoSW5kZXhdO1xuICAgICAgICBpZiAob3RoSW5kZXggJiYgaXRlcmF0ZWUpIHtcbiAgICAgICAgICBhcnJheSA9IGFycmF5TWFwKGFycmF5LCBiYXNlVW5hcnkoaXRlcmF0ZWUpKTtcbiAgICAgICAgfVxuICAgICAgICBtYXhMZW5ndGggPSBuYXRpdmVNaW4oYXJyYXkubGVuZ3RoLCBtYXhMZW5ndGgpO1xuICAgICAgICBjYWNoZXNbb3RoSW5kZXhdID0gIWNvbXBhcmF0b3IgJiYgKGl0ZXJhdGVlIHx8IChsZW5ndGggPj0gMTIwICYmIGFycmF5Lmxlbmd0aCA+PSAxMjApKVxuICAgICAgICAgID8gbmV3IFNldENhY2hlKG90aEluZGV4ICYmIGFycmF5KVxuICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgYXJyYXkgPSBhcnJheXNbMF07XG5cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIHNlZW4gPSBjYWNoZXNbMF07XG5cbiAgICAgIG91dGVyOlxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGggJiYgcmVzdWx0Lmxlbmd0aCA8IG1heExlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF0sXG4gICAgICAgICAgICBjb21wdXRlZCA9IGl0ZXJhdGVlID8gaXRlcmF0ZWUodmFsdWUpIDogdmFsdWU7XG5cbiAgICAgICAgdmFsdWUgPSAoY29tcGFyYXRvciB8fCB2YWx1ZSAhPT0gMCkgPyB2YWx1ZSA6IDA7XG4gICAgICAgIGlmICghKHNlZW5cbiAgICAgICAgICAgICAgPyBjYWNoZUhhcyhzZWVuLCBjb21wdXRlZClcbiAgICAgICAgICAgICAgOiBpbmNsdWRlcyhyZXN1bHQsIGNvbXB1dGVkLCBjb21wYXJhdG9yKVxuICAgICAgICAgICAgKSkge1xuICAgICAgICAgIG90aEluZGV4ID0gb3RoTGVuZ3RoO1xuICAgICAgICAgIHdoaWxlICgtLW90aEluZGV4KSB7XG4gICAgICAgICAgICB2YXIgY2FjaGUgPSBjYWNoZXNbb3RoSW5kZXhdO1xuICAgICAgICAgICAgaWYgKCEoY2FjaGVcbiAgICAgICAgICAgICAgICAgID8gY2FjaGVIYXMoY2FjaGUsIGNvbXB1dGVkKVxuICAgICAgICAgICAgICAgICAgOiBpbmNsdWRlcyhhcnJheXNbb3RoSW5kZXhdLCBjb21wdXRlZCwgY29tcGFyYXRvcikpXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIGNvbnRpbnVlIG91dGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoc2Vlbikge1xuICAgICAgICAgICAgc2Vlbi5wdXNoKGNvbXB1dGVkKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmludmVydGAgYW5kIGBfLmludmVydEJ5YCB3aGljaCBpbnZlcnRzXG4gICAgICogYG9iamVjdGAgd2l0aCB2YWx1ZXMgdHJhbnNmb3JtZWQgYnkgYGl0ZXJhdGVlYCBhbmQgc2V0IGJ5IGBzZXR0ZXJgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHNldHRlciBUaGUgZnVuY3Rpb24gdG8gc2V0IGBhY2N1bXVsYXRvcmAgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBpdGVyYXRlZSB0byB0cmFuc2Zvcm0gdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBhY2N1bXVsYXRvciBUaGUgaW5pdGlhbCBpbnZlcnRlZCBvYmplY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBhY2N1bXVsYXRvcmAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUludmVydGVyKG9iamVjdCwgc2V0dGVyLCBpdGVyYXRlZSwgYWNjdW11bGF0b3IpIHtcbiAgICAgIGJhc2VGb3JPd24ob2JqZWN0LCBmdW5jdGlvbih2YWx1ZSwga2V5LCBvYmplY3QpIHtcbiAgICAgICAgc2V0dGVyKGFjY3VtdWxhdG9yLCBpdGVyYXRlZSh2YWx1ZSksIGtleSwgb2JqZWN0KTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmludm9rZWAgd2l0aG91dCBzdXBwb3J0IGZvciBpbmRpdmlkdWFsXG4gICAgICogbWV0aG9kIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBtZXRob2QgdG8gaW52b2tlLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFyZ3MgVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgdGhlIG1ldGhvZCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXN1bHQgb2YgdGhlIGludm9rZWQgbWV0aG9kLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJbnZva2Uob2JqZWN0LCBwYXRoLCBhcmdzKSB7XG4gICAgICBwYXRoID0gY2FzdFBhdGgocGF0aCwgb2JqZWN0KTtcbiAgICAgIG9iamVjdCA9IHBhcmVudChvYmplY3QsIHBhdGgpO1xuICAgICAgdmFyIGZ1bmMgPSBvYmplY3QgPT0gbnVsbCA/IG9iamVjdCA6IG9iamVjdFt0b0tleShsYXN0KHBhdGgpKV07XG4gICAgICByZXR1cm4gZnVuYyA9PSBudWxsID8gdW5kZWZpbmVkIDogYXBwbHkoZnVuYywgb2JqZWN0LCBhcmdzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc0FyZ3VtZW50c2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGBhcmd1bWVudHNgIG9iamVjdCxcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNBcmd1bWVudHModmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IGFyZ3NUYWc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNBcnJheUJ1ZmZlcmAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5IGJ1ZmZlciwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc0FycmF5QnVmZmVyKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBhcnJheUJ1ZmZlclRhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc0RhdGVgIHdpdGhvdXQgTm9kZS5qcyBvcHRpbWl6YXRpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGRhdGUgb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzRGF0ZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gZGF0ZVRhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc0VxdWFsYCB3aGljaCBzdXBwb3J0cyBwYXJ0aWFsIGNvbXBhcmlzb25zXG4gICAgICogYW5kIHRyYWNrcyB0cmF2ZXJzZWQgb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy5cbiAgICAgKiAgMSAtIFVub3JkZXJlZCBjb21wYXJpc29uXG4gICAgICogIDIgLSBQYXJ0aWFsIGNvbXBhcmlzb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIGB2YWx1ZWAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc0VxdWFsKHZhbHVlLCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spIHtcbiAgICAgIGlmICh2YWx1ZSA9PT0gb3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBpZiAodmFsdWUgPT0gbnVsbCB8fCBvdGhlciA9PSBudWxsIHx8ICghaXNPYmplY3RMaWtlKHZhbHVlKSAmJiAhaXNPYmplY3RMaWtlKG90aGVyKSkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlICE9PSB2YWx1ZSAmJiBvdGhlciAhPT0gb3RoZXI7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZUlzRXF1YWxEZWVwKHZhbHVlLCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgYmFzZUlzRXF1YWwsIHN0YWNrKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VJc0VxdWFsYCBmb3IgYXJyYXlzIGFuZCBvYmplY3RzIHdoaWNoIHBlcmZvcm1zXG4gICAgICogZGVlcCBjb21wYXJpc29ucyBhbmQgdHJhY2tzIHRyYXZlcnNlZCBvYmplY3RzIGVuYWJsaW5nIG9iamVjdHMgd2l0aCBjaXJjdWxhclxuICAgICAqIHJlZmVyZW5jZXMgdG8gYmUgY29tcGFyZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvdGhlciBUaGUgb3RoZXIgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIGBvYmplY3RgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBvYmplY3RzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzRXF1YWxEZWVwKG9iamVjdCwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spIHtcbiAgICAgIHZhciBvYmpJc0FyciA9IGlzQXJyYXkob2JqZWN0KSxcbiAgICAgICAgICBvdGhJc0FyciA9IGlzQXJyYXkob3RoZXIpLFxuICAgICAgICAgIG9ialRhZyA9IG9iaklzQXJyID8gYXJyYXlUYWcgOiBnZXRUYWcob2JqZWN0KSxcbiAgICAgICAgICBvdGhUYWcgPSBvdGhJc0FyciA/IGFycmF5VGFnIDogZ2V0VGFnKG90aGVyKTtcblxuICAgICAgb2JqVGFnID0gb2JqVGFnID09IGFyZ3NUYWcgPyBvYmplY3RUYWcgOiBvYmpUYWc7XG4gICAgICBvdGhUYWcgPSBvdGhUYWcgPT0gYXJnc1RhZyA/IG9iamVjdFRhZyA6IG90aFRhZztcblxuICAgICAgdmFyIG9iaklzT2JqID0gb2JqVGFnID09IG9iamVjdFRhZyxcbiAgICAgICAgICBvdGhJc09iaiA9IG90aFRhZyA9PSBvYmplY3RUYWcsXG4gICAgICAgICAgaXNTYW1lVGFnID0gb2JqVGFnID09IG90aFRhZztcblxuICAgICAgaWYgKGlzU2FtZVRhZyAmJiBpc0J1ZmZlcihvYmplY3QpKSB7XG4gICAgICAgIGlmICghaXNCdWZmZXIob3RoZXIpKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIG9iaklzQXJyID0gdHJ1ZTtcbiAgICAgICAgb2JqSXNPYmogPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmIChpc1NhbWVUYWcgJiYgIW9iaklzT2JqKSB7XG4gICAgICAgIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG4gICAgICAgIHJldHVybiAob2JqSXNBcnIgfHwgaXNUeXBlZEFycmF5KG9iamVjdCkpXG4gICAgICAgICAgPyBlcXVhbEFycmF5cyhvYmplY3QsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKVxuICAgICAgICAgIDogZXF1YWxCeVRhZyhvYmplY3QsIG90aGVyLCBvYmpUYWcsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spO1xuICAgICAgfVxuICAgICAgaWYgKCEoYml0bWFzayAmIENPTVBBUkVfUEFSVElBTF9GTEFHKSkge1xuICAgICAgICB2YXIgb2JqSXNXcmFwcGVkID0gb2JqSXNPYmogJiYgaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsICdfX3dyYXBwZWRfXycpLFxuICAgICAgICAgICAgb3RoSXNXcmFwcGVkID0gb3RoSXNPYmogJiYgaGFzT3duUHJvcGVydHkuY2FsbChvdGhlciwgJ19fd3JhcHBlZF9fJyk7XG5cbiAgICAgICAgaWYgKG9iaklzV3JhcHBlZCB8fCBvdGhJc1dyYXBwZWQpIHtcbiAgICAgICAgICB2YXIgb2JqVW53cmFwcGVkID0gb2JqSXNXcmFwcGVkID8gb2JqZWN0LnZhbHVlKCkgOiBvYmplY3QsXG4gICAgICAgICAgICAgIG90aFVud3JhcHBlZCA9IG90aElzV3JhcHBlZCA/IG90aGVyLnZhbHVlKCkgOiBvdGhlcjtcblxuICAgICAgICAgIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG4gICAgICAgICAgcmV0dXJuIGVxdWFsRnVuYyhvYmpVbndyYXBwZWQsIG90aFVud3JhcHBlZCwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoIWlzU2FtZVRhZykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICAgICAgcmV0dXJuIGVxdWFsT2JqZWN0cyhvYmplY3QsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc01hcGAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgbWFwLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzTWFwKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBnZXRUYWcodmFsdWUpID09IG1hcFRhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc01hdGNoYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSB2YWx1ZXMgdG8gbWF0Y2guXG4gICAgICogQHBhcmFtIHtBcnJheX0gbWF0Y2hEYXRhIFRoZSBwcm9wZXJ0eSBuYW1lcywgdmFsdWVzLCBhbmQgY29tcGFyZSBmbGFncyB0byBtYXRjaC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYG9iamVjdGAgaXMgYSBtYXRjaCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc01hdGNoKG9iamVjdCwgc291cmNlLCBtYXRjaERhdGEsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIHZhciBpbmRleCA9IG1hdGNoRGF0YS5sZW5ndGgsXG4gICAgICAgICAgbGVuZ3RoID0gaW5kZXgsXG4gICAgICAgICAgbm9DdXN0b21pemVyID0gIWN1c3RvbWl6ZXI7XG5cbiAgICAgIGlmIChvYmplY3QgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gIWxlbmd0aDtcbiAgICAgIH1cbiAgICAgIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuICAgICAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICAgICAgdmFyIGRhdGEgPSBtYXRjaERhdGFbaW5kZXhdO1xuICAgICAgICBpZiAoKG5vQ3VzdG9taXplciAmJiBkYXRhWzJdKVxuICAgICAgICAgICAgICA/IGRhdGFbMV0gIT09IG9iamVjdFtkYXRhWzBdXVxuICAgICAgICAgICAgICA6ICEoZGF0YVswXSBpbiBvYmplY3QpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIGRhdGEgPSBtYXRjaERhdGFbaW5kZXhdO1xuICAgICAgICB2YXIga2V5ID0gZGF0YVswXSxcbiAgICAgICAgICAgIG9ialZhbHVlID0gb2JqZWN0W2tleV0sXG4gICAgICAgICAgICBzcmNWYWx1ZSA9IGRhdGFbMV07XG5cbiAgICAgICAgaWYgKG5vQ3VzdG9taXplciAmJiBkYXRhWzJdKSB7XG4gICAgICAgICAgaWYgKG9ialZhbHVlID09PSB1bmRlZmluZWQgJiYgIShrZXkgaW4gb2JqZWN0KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgc3RhY2sgPSBuZXcgU3RhY2s7XG4gICAgICAgICAgaWYgKGN1c3RvbWl6ZXIpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBjdXN0b21pemVyKG9ialZhbHVlLCBzcmNWYWx1ZSwga2V5LCBvYmplY3QsIHNvdXJjZSwgc3RhY2spO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIShyZXN1bHQgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgID8gYmFzZUlzRXF1YWwoc3JjVmFsdWUsIG9ialZhbHVlLCBDT01QQVJFX1BBUlRJQUxfRkxBRyB8IENPTVBBUkVfVU5PUkRFUkVEX0ZMQUcsIGN1c3RvbWl6ZXIsIHN0YWNrKVxuICAgICAgICAgICAgICAgIDogcmVzdWx0XG4gICAgICAgICAgICAgICkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzTmF0aXZlYCB3aXRob3V0IGJhZCBzaGltIGNoZWNrcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBuYXRpdmUgZnVuY3Rpb24sXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNOYXRpdmUodmFsdWUpIHtcbiAgICAgIGlmICghaXNPYmplY3QodmFsdWUpIHx8IGlzTWFza2VkKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgcGF0dGVybiA9IGlzRnVuY3Rpb24odmFsdWUpID8gcmVJc05hdGl2ZSA6IHJlSXNIb3N0Q3RvcjtcbiAgICAgIHJldHVybiBwYXR0ZXJuLnRlc3QodG9Tb3VyY2UodmFsdWUpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc1JlZ0V4cGAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcmVnZXhwLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzUmVnRXhwKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSByZWdleHBUYWc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNTZXRgIHdpdGhvdXQgTm9kZS5qcyBvcHRpbWl6YXRpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHNldCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc1NldCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgZ2V0VGFnKHZhbHVlKSA9PSBzZXRUYWc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNUeXBlZEFycmF5YCB3aXRob3V0IE5vZGUuanMgb3B0aW1pemF0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB0eXBlZCBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc1R5cGVkQXJyYXkodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmXG4gICAgICAgIGlzTGVuZ3RoKHZhbHVlLmxlbmd0aCkgJiYgISF0eXBlZEFycmF5VGFnc1tiYXNlR2V0VGFnKHZhbHVlKV07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXRlcmF0ZWVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IFt2YWx1ZT1fLmlkZW50aXR5XSBUaGUgdmFsdWUgdG8gY29udmVydCB0byBhbiBpdGVyYXRlZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIGl0ZXJhdGVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJdGVyYXRlZSh2YWx1ZSkge1xuICAgICAgLy8gRG9uJ3Qgc3RvcmUgdGhlIGB0eXBlb2ZgIHJlc3VsdCBpbiBhIHZhcmlhYmxlIHRvIGF2b2lkIGEgSklUIGJ1ZyBpbiBTYWZhcmkgOS5cbiAgICAgIC8vIFNlZSBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTU2MDM0IGZvciBtb3JlIGRldGFpbHMuXG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGlkZW50aXR5O1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0Jykge1xuICAgICAgICByZXR1cm4gaXNBcnJheSh2YWx1ZSlcbiAgICAgICAgICA/IGJhc2VNYXRjaGVzUHJvcGVydHkodmFsdWVbMF0sIHZhbHVlWzFdKVxuICAgICAgICAgIDogYmFzZU1hdGNoZXModmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHByb3BlcnR5KHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5rZXlzYCB3aGljaCBkb2Vzbid0IHRyZWF0IHNwYXJzZSBhcnJheXMgYXMgZGVuc2UuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VLZXlzKG9iamVjdCkge1xuICAgICAgaWYgKCFpc1Byb3RvdHlwZShvYmplY3QpKSB7XG4gICAgICAgIHJldHVybiBuYXRpdmVLZXlzKG9iamVjdCk7XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICBmb3IgKHZhciBrZXkgaW4gT2JqZWN0KG9iamVjdCkpIHtcbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpICYmIGtleSAhPSAnY29uc3RydWN0b3InKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5rZXlzSW5gIHdoaWNoIGRvZXNuJ3QgdHJlYXQgc3BhcnNlIGFycmF5cyBhcyBkZW5zZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUtleXNJbihvYmplY3QpIHtcbiAgICAgIGlmICghaXNPYmplY3Qob2JqZWN0KSkge1xuICAgICAgICByZXR1cm4gbmF0aXZlS2V5c0luKG9iamVjdCk7XG4gICAgICB9XG4gICAgICB2YXIgaXNQcm90byA9IGlzUHJvdG90eXBlKG9iamVjdCksXG4gICAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICAgIGZvciAodmFyIGtleSBpbiBvYmplY3QpIHtcbiAgICAgICAgaWYgKCEoa2V5ID09ICdjb25zdHJ1Y3RvcicgJiYgKGlzUHJvdG8gfHwgIWhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpKSkpIHtcbiAgICAgICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmx0YCB3aGljaCBkb2Vzbid0IGNvZXJjZSBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBsZXNzIHRoYW4gYG90aGVyYCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VMdCh2YWx1ZSwgb3RoZXIpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA8IG90aGVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm1hcGAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBtYXBwZWQgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZU1hcChjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgcmVzdWx0ID0gaXNBcnJheUxpa2UoY29sbGVjdGlvbikgPyBBcnJheShjb2xsZWN0aW9uLmxlbmd0aCkgOiBbXTtcblxuICAgICAgYmFzZUVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGtleSwgY29sbGVjdGlvbikge1xuICAgICAgICByZXN1bHRbKytpbmRleF0gPSBpdGVyYXRlZSh2YWx1ZSwga2V5LCBjb2xsZWN0aW9uKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5tYXRjaGVzYCB3aGljaCBkb2Vzbid0IGNsb25lIGBzb3VyY2VgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgdmFsdWVzIHRvIG1hdGNoLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNwZWMgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZU1hdGNoZXMoc291cmNlKSB7XG4gICAgICB2YXIgbWF0Y2hEYXRhID0gZ2V0TWF0Y2hEYXRhKHNvdXJjZSk7XG4gICAgICBpZiAobWF0Y2hEYXRhLmxlbmd0aCA9PSAxICYmIG1hdGNoRGF0YVswXVsyXSkge1xuICAgICAgICByZXR1cm4gbWF0Y2hlc1N0cmljdENvbXBhcmFibGUobWF0Y2hEYXRhWzBdWzBdLCBtYXRjaERhdGFbMF1bMV0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICByZXR1cm4gb2JqZWN0ID09PSBzb3VyY2UgfHwgYmFzZUlzTWF0Y2gob2JqZWN0LCBzb3VyY2UsIG1hdGNoRGF0YSk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm1hdGNoZXNQcm9wZXJ0eWAgd2hpY2ggZG9lc24ndCBjbG9uZSBgc3JjVmFsdWVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gc3JjVmFsdWUgVGhlIHZhbHVlIHRvIG1hdGNoLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNwZWMgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZU1hdGNoZXNQcm9wZXJ0eShwYXRoLCBzcmNWYWx1ZSkge1xuICAgICAgaWYgKGlzS2V5KHBhdGgpICYmIGlzU3RyaWN0Q29tcGFyYWJsZShzcmNWYWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIG1hdGNoZXNTdHJpY3RDb21wYXJhYmxlKHRvS2V5KHBhdGgpLCBzcmNWYWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIHZhciBvYmpWYWx1ZSA9IGdldChvYmplY3QsIHBhdGgpO1xuICAgICAgICByZXR1cm4gKG9ialZhbHVlID09PSB1bmRlZmluZWQgJiYgb2JqVmFsdWUgPT09IHNyY1ZhbHVlKVxuICAgICAgICAgID8gaGFzSW4ob2JqZWN0LCBwYXRoKVxuICAgICAgICAgIDogYmFzZUlzRXF1YWwoc3JjVmFsdWUsIG9ialZhbHVlLCBDT01QQVJFX1BBUlRJQUxfRkxBRyB8IENPTVBBUkVfVU5PUkRFUkVEX0ZMQUcpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5tZXJnZWAgd2l0aG91dCBzdXBwb3J0IGZvciBtdWx0aXBsZSBzb3VyY2VzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3JjSW5kZXggVGhlIGluZGV4IG9mIGBzb3VyY2VgLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIG1lcmdlZCB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtzdGFja10gVHJhY2tzIHRyYXZlcnNlZCBzb3VyY2UgdmFsdWVzIGFuZCB0aGVpciBtZXJnZWRcbiAgICAgKiAgY291bnRlcnBhcnRzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VNZXJnZShvYmplY3QsIHNvdXJjZSwgc3JjSW5kZXgsIGN1c3RvbWl6ZXIsIHN0YWNrKSB7XG4gICAgICBpZiAob2JqZWN0ID09PSBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYmFzZUZvcihzb3VyY2UsIGZ1bmN0aW9uKHNyY1ZhbHVlLCBrZXkpIHtcbiAgICAgICAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgICAgICAgaWYgKGlzT2JqZWN0KHNyY1ZhbHVlKSkge1xuICAgICAgICAgIGJhc2VNZXJnZURlZXAob2JqZWN0LCBzb3VyY2UsIGtleSwgc3JjSW5kZXgsIGJhc2VNZXJnZSwgY3VzdG9taXplciwgc3RhY2spO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHZhciBuZXdWYWx1ZSA9IGN1c3RvbWl6ZXJcbiAgICAgICAgICAgID8gY3VzdG9taXplcihzYWZlR2V0KG9iamVjdCwga2V5KSwgc3JjVmFsdWUsIChrZXkgKyAnJyksIG9iamVjdCwgc291cmNlLCBzdGFjaylcbiAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgICAgICAgaWYgKG5ld1ZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gc3JjVmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGFzc2lnbk1lcmdlVmFsdWUob2JqZWN0LCBrZXksIG5ld1ZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSwga2V5c0luKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VNZXJnZWAgZm9yIGFycmF5cyBhbmQgb2JqZWN0cyB3aGljaCBwZXJmb3Jtc1xuICAgICAqIGRlZXAgbWVyZ2VzIGFuZCB0cmFja3MgdHJhdmVyc2VkIG9iamVjdHMgZW5hYmxpbmcgb2JqZWN0cyB3aXRoIGNpcmN1bGFyXG4gICAgICogcmVmZXJlbmNlcyB0byBiZSBtZXJnZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gbWVyZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNyY0luZGV4IFRoZSBpbmRleCBvZiBgc291cmNlYC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBtZXJnZUZ1bmMgVGhlIGZ1bmN0aW9uIHRvIG1lcmdlIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBhc3NpZ25lZCB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtzdGFja10gVHJhY2tzIHRyYXZlcnNlZCBzb3VyY2UgdmFsdWVzIGFuZCB0aGVpciBtZXJnZWRcbiAgICAgKiAgY291bnRlcnBhcnRzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VNZXJnZURlZXAob2JqZWN0LCBzb3VyY2UsIGtleSwgc3JjSW5kZXgsIG1lcmdlRnVuYywgY3VzdG9taXplciwgc3RhY2spIHtcbiAgICAgIHZhciBvYmpWYWx1ZSA9IHNhZmVHZXQob2JqZWN0LCBrZXkpLFxuICAgICAgICAgIHNyY1ZhbHVlID0gc2FmZUdldChzb3VyY2UsIGtleSksXG4gICAgICAgICAgc3RhY2tlZCA9IHN0YWNrLmdldChzcmNWYWx1ZSk7XG5cbiAgICAgIGlmIChzdGFja2VkKSB7XG4gICAgICAgIGFzc2lnbk1lcmdlVmFsdWUob2JqZWN0LCBrZXksIHN0YWNrZWQpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgbmV3VmFsdWUgPSBjdXN0b21pemVyXG4gICAgICAgID8gY3VzdG9taXplcihvYmpWYWx1ZSwgc3JjVmFsdWUsIChrZXkgKyAnJyksIG9iamVjdCwgc291cmNlLCBzdGFjaylcbiAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgIHZhciBpc0NvbW1vbiA9IG5ld1ZhbHVlID09PSB1bmRlZmluZWQ7XG5cbiAgICAgIGlmIChpc0NvbW1vbikge1xuICAgICAgICB2YXIgaXNBcnIgPSBpc0FycmF5KHNyY1ZhbHVlKSxcbiAgICAgICAgICAgIGlzQnVmZiA9ICFpc0FyciAmJiBpc0J1ZmZlcihzcmNWYWx1ZSksXG4gICAgICAgICAgICBpc1R5cGVkID0gIWlzQXJyICYmICFpc0J1ZmYgJiYgaXNUeXBlZEFycmF5KHNyY1ZhbHVlKTtcblxuICAgICAgICBuZXdWYWx1ZSA9IHNyY1ZhbHVlO1xuICAgICAgICBpZiAoaXNBcnIgfHwgaXNCdWZmIHx8IGlzVHlwZWQpIHtcbiAgICAgICAgICBpZiAoaXNBcnJheShvYmpWYWx1ZSkpIHtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gb2JqVmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYgKGlzQXJyYXlMaWtlT2JqZWN0KG9ialZhbHVlKSkge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBjb3B5QXJyYXkob2JqVmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmIChpc0J1ZmYpIHtcbiAgICAgICAgICAgIGlzQ29tbW9uID0gZmFsc2U7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IGNsb25lQnVmZmVyKHNyY1ZhbHVlLCB0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZiAoaXNUeXBlZCkge1xuICAgICAgICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gY2xvbmVUeXBlZEFycmF5KHNyY1ZhbHVlLCB0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IFtdO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc1BsYWluT2JqZWN0KHNyY1ZhbHVlKSB8fCBpc0FyZ3VtZW50cyhzcmNWYWx1ZSkpIHtcbiAgICAgICAgICBuZXdWYWx1ZSA9IG9ialZhbHVlO1xuICAgICAgICAgIGlmIChpc0FyZ3VtZW50cyhvYmpWYWx1ZSkpIHtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gdG9QbGFpbk9iamVjdChvYmpWYWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYgKCFpc09iamVjdChvYmpWYWx1ZSkgfHwgaXNGdW5jdGlvbihvYmpWYWx1ZSkpIHtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gaW5pdENsb25lT2JqZWN0KHNyY1ZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGlzQ29tbW9uKSB7XG4gICAgICAgIC8vIFJlY3Vyc2l2ZWx5IG1lcmdlIG9iamVjdHMgYW5kIGFycmF5cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgICAgICBzdGFjay5zZXQoc3JjVmFsdWUsIG5ld1ZhbHVlKTtcbiAgICAgICAgbWVyZ2VGdW5jKG5ld1ZhbHVlLCBzcmNWYWx1ZSwgc3JjSW5kZXgsIGN1c3RvbWl6ZXIsIHN0YWNrKTtcbiAgICAgICAgc3RhY2tbJ2RlbGV0ZSddKHNyY1ZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGFzc2lnbk1lcmdlVmFsdWUob2JqZWN0LCBrZXksIG5ld1ZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5udGhgIHdoaWNoIGRvZXNuJ3QgY29lcmNlIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBpbmRleCBvZiB0aGUgZWxlbWVudCB0byByZXR1cm4uXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG50aCBlbGVtZW50IG9mIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZU50aChhcnJheSwgbikge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIG4gKz0gbiA8IDAgPyBsZW5ndGggOiAwO1xuICAgICAgcmV0dXJuIGlzSW5kZXgobiwgbGVuZ3RoKSA/IGFycmF5W25dIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm9yZGVyQnlgIHdpdGhvdXQgcGFyYW0gZ3VhcmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbltdfE9iamVjdFtdfHN0cmluZ1tdfSBpdGVyYXRlZXMgVGhlIGl0ZXJhdGVlcyB0byBzb3J0IGJ5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IG9yZGVycyBUaGUgc29ydCBvcmRlcnMgb2YgYGl0ZXJhdGVlc2AuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgc29ydGVkIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VPcmRlckJ5KGNvbGxlY3Rpb24sIGl0ZXJhdGVlcywgb3JkZXJzKSB7XG4gICAgICBpZiAoaXRlcmF0ZWVzLmxlbmd0aCkge1xuICAgICAgICBpdGVyYXRlZXMgPSBhcnJheU1hcChpdGVyYXRlZXMsIGZ1bmN0aW9uKGl0ZXJhdGVlKSB7XG4gICAgICAgICAgaWYgKGlzQXJyYXkoaXRlcmF0ZWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGJhc2VHZXQodmFsdWUsIGl0ZXJhdGVlLmxlbmd0aCA9PT0gMSA/IGl0ZXJhdGVlWzBdIDogaXRlcmF0ZWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gaXRlcmF0ZWU7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaXRlcmF0ZWVzID0gW2lkZW50aXR5XTtcbiAgICAgIH1cblxuICAgICAgdmFyIGluZGV4ID0gLTE7XG4gICAgICBpdGVyYXRlZXMgPSBhcnJheU1hcChpdGVyYXRlZXMsIGJhc2VVbmFyeShnZXRJdGVyYXRlZSgpKSk7XG5cbiAgICAgIHZhciByZXN1bHQgPSBiYXNlTWFwKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBrZXksIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgdmFyIGNyaXRlcmlhID0gYXJyYXlNYXAoaXRlcmF0ZWVzLCBmdW5jdGlvbihpdGVyYXRlZSkge1xuICAgICAgICAgIHJldHVybiBpdGVyYXRlZSh2YWx1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4geyAnY3JpdGVyaWEnOiBjcml0ZXJpYSwgJ2luZGV4JzogKytpbmRleCwgJ3ZhbHVlJzogdmFsdWUgfTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gYmFzZVNvcnRCeShyZXN1bHQsIGZ1bmN0aW9uKG9iamVjdCwgb3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIGNvbXBhcmVNdWx0aXBsZShvYmplY3QsIG90aGVyLCBvcmRlcnMpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucGlja2Agd2l0aG91dCBzdXBwb3J0IGZvciBpbmRpdmlkdWFsXG4gICAgICogcHJvcGVydHkgaWRlbnRpZmllcnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gcGF0aHMgVGhlIHByb3BlcnR5IHBhdGhzIHRvIHBpY2suXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUGljayhvYmplY3QsIHBhdGhzKSB7XG4gICAgICByZXR1cm4gYmFzZVBpY2tCeShvYmplY3QsIHBhdGhzLCBmdW5jdGlvbih2YWx1ZSwgcGF0aCkge1xuICAgICAgICByZXR1cm4gaGFzSW4ob2JqZWN0LCBwYXRoKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mICBgXy5waWNrQnlgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBwYXRocyBUaGUgcHJvcGVydHkgcGF0aHMgdG8gcGljay5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIHByb3BlcnR5LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVBpY2tCeShvYmplY3QsIHBhdGhzLCBwcmVkaWNhdGUpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHBhdGhzLmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSB7fTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHBhdGggPSBwYXRoc1tpbmRleF0sXG4gICAgICAgICAgICB2YWx1ZSA9IGJhc2VHZXQob2JqZWN0LCBwYXRoKTtcblxuICAgICAgICBpZiAocHJlZGljYXRlKHZhbHVlLCBwYXRoKSkge1xuICAgICAgICAgIGJhc2VTZXQocmVzdWx0LCBjYXN0UGF0aChwYXRoLCBvYmplY3QpLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlUHJvcGVydHlgIHdoaWNoIHN1cHBvcnRzIGRlZXAgcGF0aHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWNjZXNzb3IgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVByb3BlcnR5RGVlcChwYXRoKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiBiYXNlR2V0KG9iamVjdCwgcGF0aCk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnB1bGxBbGxCeWAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZVxuICAgICAqIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gcmVtb3ZlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVB1bGxBbGwoYXJyYXksIHZhbHVlcywgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpIHtcbiAgICAgIHZhciBpbmRleE9mID0gY29tcGFyYXRvciA/IGJhc2VJbmRleE9mV2l0aCA6IGJhc2VJbmRleE9mLFxuICAgICAgICAgIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gdmFsdWVzLmxlbmd0aCxcbiAgICAgICAgICBzZWVuID0gYXJyYXk7XG5cbiAgICAgIGlmIChhcnJheSA9PT0gdmFsdWVzKSB7XG4gICAgICAgIHZhbHVlcyA9IGNvcHlBcnJheSh2YWx1ZXMpO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZXJhdGVlKSB7XG4gICAgICAgIHNlZW4gPSBhcnJheU1hcChhcnJheSwgYmFzZVVuYXJ5KGl0ZXJhdGVlKSk7XG4gICAgICB9XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgZnJvbUluZGV4ID0gMCxcbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWVzW2luZGV4XSxcbiAgICAgICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUgPyBpdGVyYXRlZSh2YWx1ZSkgOiB2YWx1ZTtcblxuICAgICAgICB3aGlsZSAoKGZyb21JbmRleCA9IGluZGV4T2Yoc2VlbiwgY29tcHV0ZWQsIGZyb21JbmRleCwgY29tcGFyYXRvcikpID4gLTEpIHtcbiAgICAgICAgICBpZiAoc2VlbiAhPT0gYXJyYXkpIHtcbiAgICAgICAgICAgIHNwbGljZS5jYWxsKHNlZW4sIGZyb21JbmRleCwgMSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNwbGljZS5jYWxsKGFycmF5LCBmcm9tSW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucHVsbEF0YCB3aXRob3V0IHN1cHBvcnQgZm9yIGluZGl2aWR1YWxcbiAgICAgKiBpbmRleGVzIG9yIGNhcHR1cmluZyB0aGUgcmVtb3ZlZCBlbGVtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBpbmRleGVzIFRoZSBpbmRleGVzIG9mIGVsZW1lbnRzIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUHVsbEF0KGFycmF5LCBpbmRleGVzKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPyBpbmRleGVzLmxlbmd0aCA6IDAsXG4gICAgICAgICAgbGFzdEluZGV4ID0gbGVuZ3RoIC0gMTtcblxuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIHZhciBpbmRleCA9IGluZGV4ZXNbbGVuZ3RoXTtcbiAgICAgICAgaWYgKGxlbmd0aCA9PSBsYXN0SW5kZXggfHwgaW5kZXggIT09IHByZXZpb3VzKSB7XG4gICAgICAgICAgdmFyIHByZXZpb3VzID0gaW5kZXg7XG4gICAgICAgICAgaWYgKGlzSW5kZXgoaW5kZXgpKSB7XG4gICAgICAgICAgICBzcGxpY2UuY2FsbChhcnJheSwgaW5kZXgsIDEpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBiYXNlVW5zZXQoYXJyYXksIGluZGV4KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5yYW5kb21gIHdpdGhvdXQgc3VwcG9ydCBmb3IgcmV0dXJuaW5nXG4gICAgICogZmxvYXRpbmctcG9pbnQgbnVtYmVycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGxvd2VyIFRoZSBsb3dlciBib3VuZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdXBwZXIgVGhlIHVwcGVyIGJvdW5kLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHJhbmRvbSBudW1iZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVJhbmRvbShsb3dlciwgdXBwZXIpIHtcbiAgICAgIHJldHVybiBsb3dlciArIG5hdGl2ZUZsb29yKG5hdGl2ZVJhbmRvbSgpICogKHVwcGVyIC0gbG93ZXIgKyAxKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucmFuZ2VgIGFuZCBgXy5yYW5nZVJpZ2h0YCB3aGljaCBkb2Vzbid0XG4gICAgICogY29lcmNlIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0IFRoZSBzdGFydCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBUaGUgZW5kIG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RlcCBUaGUgdmFsdWUgdG8gaW5jcmVtZW50IG9yIGRlY3JlbWVudCBieS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHJhbmdlIG9mIG51bWJlcnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVJhbmdlKHN0YXJ0LCBlbmQsIHN0ZXAsIGZyb21SaWdodCkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWF4KG5hdGl2ZUNlaWwoKGVuZCAtIHN0YXJ0KSAvIChzdGVwIHx8IDEpKSwgMCksXG4gICAgICAgICAgcmVzdWx0ID0gQXJyYXkobGVuZ3RoKTtcblxuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIHJlc3VsdFtmcm9tUmlnaHQgPyBsZW5ndGggOiArK2luZGV4XSA9IHN0YXJ0O1xuICAgICAgICBzdGFydCArPSBzdGVwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5yZXBlYXRgIHdoaWNoIGRvZXNuJ3QgY29lcmNlIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIHJlcGVhdC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIHRpbWVzIHRvIHJlcGVhdCB0aGUgc3RyaW5nLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHJlcGVhdGVkIHN0cmluZy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUmVwZWF0KHN0cmluZywgbikge1xuICAgICAgdmFyIHJlc3VsdCA9ICcnO1xuICAgICAgaWYgKCFzdHJpbmcgfHwgbiA8IDEgfHwgbiA+IE1BWF9TQUZFX0lOVEVHRVIpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIC8vIExldmVyYWdlIHRoZSBleHBvbmVudGlhdGlvbiBieSBzcXVhcmluZyBhbGdvcml0aG0gZm9yIGEgZmFzdGVyIHJlcGVhdC5cbiAgICAgIC8vIFNlZSBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9FeHBvbmVudGlhdGlvbl9ieV9zcXVhcmluZyBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgZG8ge1xuICAgICAgICBpZiAobiAlIDIpIHtcbiAgICAgICAgICByZXN1bHQgKz0gc3RyaW5nO1xuICAgICAgICB9XG4gICAgICAgIG4gPSBuYXRpdmVGbG9vcihuIC8gMik7XG4gICAgICAgIGlmIChuKSB7XG4gICAgICAgICAgc3RyaW5nICs9IHN0cmluZztcbiAgICAgICAgfVxuICAgICAgfSB3aGlsZSAobik7XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucmVzdGAgd2hpY2ggZG9lc24ndCB2YWxpZGF0ZSBvciBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhcHBseSBhIHJlc3QgcGFyYW1ldGVyIHRvLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9ZnVuYy5sZW5ndGgtMV0gVGhlIHN0YXJ0IHBvc2l0aW9uIG9mIHRoZSByZXN0IHBhcmFtZXRlci5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUmVzdChmdW5jLCBzdGFydCkge1xuICAgICAgcmV0dXJuIHNldFRvU3RyaW5nKG92ZXJSZXN0KGZ1bmMsIHN0YXJ0LCBpZGVudGl0eSksIGZ1bmMgKyAnJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc2FtcGxlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gc2FtcGxlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByYW5kb20gZWxlbWVudC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU2FtcGxlKGNvbGxlY3Rpb24pIHtcbiAgICAgIHJldHVybiBhcnJheVNhbXBsZSh2YWx1ZXMoY29sbGVjdGlvbikpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNhbXBsZVNpemVgIHdpdGhvdXQgcGFyYW0gZ3VhcmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBzYW1wbGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiBlbGVtZW50cyB0byBzYW1wbGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSByYW5kb20gZWxlbWVudHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVNhbXBsZVNpemUoY29sbGVjdGlvbiwgbikge1xuICAgICAgdmFyIGFycmF5ID0gdmFsdWVzKGNvbGxlY3Rpb24pO1xuICAgICAgcmV0dXJuIHNodWZmbGVTZWxmKGFycmF5LCBiYXNlQ2xhbXAobiwgMCwgYXJyYXkubGVuZ3RoKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc2V0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBwYXRoIGNyZWF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVNldChvYmplY3QsIHBhdGgsIHZhbHVlLCBjdXN0b21pemVyKSB7XG4gICAgICBpZiAoIWlzT2JqZWN0KG9iamVjdCkpIHtcbiAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgIH1cbiAgICAgIHBhdGggPSBjYXN0UGF0aChwYXRoLCBvYmplY3QpO1xuXG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBwYXRoLmxlbmd0aCxcbiAgICAgICAgICBsYXN0SW5kZXggPSBsZW5ndGggLSAxLFxuICAgICAgICAgIG5lc3RlZCA9IG9iamVjdDtcblxuICAgICAgd2hpbGUgKG5lc3RlZCAhPSBudWxsICYmICsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGtleSA9IHRvS2V5KHBhdGhbaW5kZXhdKSxcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gdmFsdWU7XG5cbiAgICAgICAgaWYgKGtleSA9PT0gJ19fcHJvdG9fXycgfHwga2V5ID09PSAnY29uc3RydWN0b3InIHx8IGtleSA9PT0gJ3Byb3RvdHlwZScpIHtcbiAgICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGluZGV4ICE9IGxhc3RJbmRleCkge1xuICAgICAgICAgIHZhciBvYmpWYWx1ZSA9IG5lc3RlZFtrZXldO1xuICAgICAgICAgIG5ld1ZhbHVlID0gY3VzdG9taXplciA/IGN1c3RvbWl6ZXIob2JqVmFsdWUsIGtleSwgbmVzdGVkKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICBpZiAobmV3VmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBpc09iamVjdChvYmpWYWx1ZSlcbiAgICAgICAgICAgICAgPyBvYmpWYWx1ZVxuICAgICAgICAgICAgICA6IChpc0luZGV4KHBhdGhbaW5kZXggKyAxXSkgPyBbXSA6IHt9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYXNzaWduVmFsdWUobmVzdGVkLCBrZXksIG5ld1ZhbHVlKTtcbiAgICAgICAgbmVzdGVkID0gbmVzdGVkW2tleV07XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBzZXREYXRhYCB3aXRob3V0IHN1cHBvcnQgZm9yIGhvdCBsb29wIHNob3J0aW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhc3NvY2lhdGUgbWV0YWRhdGEgd2l0aC5cbiAgICAgKiBAcGFyYW0geyp9IGRhdGEgVGhlIG1ldGFkYXRhLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgZnVuY2AuXG4gICAgICovXG4gICAgdmFyIGJhc2VTZXREYXRhID0gIW1ldGFNYXAgPyBpZGVudGl0eSA6IGZ1bmN0aW9uKGZ1bmMsIGRhdGEpIHtcbiAgICAgIG1ldGFNYXAuc2V0KGZ1bmMsIGRhdGEpO1xuICAgICAgcmV0dXJuIGZ1bmM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBzZXRUb1N0cmluZ2Agd2l0aG91dCBzdXBwb3J0IGZvciBob3QgbG9vcCBzaG9ydGluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHN0cmluZyBUaGUgYHRvU3RyaW5nYCByZXN1bHQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBmdW5jYC5cbiAgICAgKi9cbiAgICB2YXIgYmFzZVNldFRvU3RyaW5nID0gIWRlZmluZVByb3BlcnR5ID8gaWRlbnRpdHkgOiBmdW5jdGlvbihmdW5jLCBzdHJpbmcpIHtcbiAgICAgIHJldHVybiBkZWZpbmVQcm9wZXJ0eShmdW5jLCAndG9TdHJpbmcnLCB7XG4gICAgICAgICdjb25maWd1cmFibGUnOiB0cnVlLFxuICAgICAgICAnZW51bWVyYWJsZSc6IGZhbHNlLFxuICAgICAgICAndmFsdWUnOiBjb25zdGFudChzdHJpbmcpLFxuICAgICAgICAnd3JpdGFibGUnOiB0cnVlXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc2h1ZmZsZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIHNodWZmbGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgc2h1ZmZsZWQgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVNodWZmbGUoY29sbGVjdGlvbikge1xuICAgICAgcmV0dXJuIHNodWZmbGVTZWxmKHZhbHVlcyhjb2xsZWN0aW9uKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc2xpY2VgIHdpdGhvdXQgYW4gaXRlcmF0ZWUgY2FsbCBndWFyZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNsaWNlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kPWFycmF5Lmxlbmd0aF0gVGhlIGVuZCBwb3NpdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVNsaWNlKGFycmF5LCBzdGFydCwgZW5kKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICAgIGlmIChzdGFydCA8IDApIHtcbiAgICAgICAgc3RhcnQgPSAtc3RhcnQgPiBsZW5ndGggPyAwIDogKGxlbmd0aCArIHN0YXJ0KTtcbiAgICAgIH1cbiAgICAgIGVuZCA9IGVuZCA+IGxlbmd0aCA/IGxlbmd0aCA6IGVuZDtcbiAgICAgIGlmIChlbmQgPCAwKSB7XG4gICAgICAgIGVuZCArPSBsZW5ndGg7XG4gICAgICB9XG4gICAgICBsZW5ndGggPSBzdGFydCA+IGVuZCA/IDAgOiAoKGVuZCAtIHN0YXJ0KSA+Pj4gMCk7XG4gICAgICBzdGFydCA+Pj49IDA7XG5cbiAgICAgIHZhciByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0W2luZGV4XSA9IGFycmF5W2luZGV4ICsgc3RhcnRdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zb21lYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW55IGVsZW1lbnQgcGFzc2VzIHRoZSBwcmVkaWNhdGUgY2hlY2ssXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU29tZShjb2xsZWN0aW9uLCBwcmVkaWNhdGUpIHtcbiAgICAgIHZhciByZXN1bHQ7XG5cbiAgICAgIGJhc2VFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgICByZXN1bHQgPSBwcmVkaWNhdGUodmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKTtcbiAgICAgICAgcmV0dXJuICFyZXN1bHQ7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiAhIXJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zb3J0ZWRJbmRleGAgYW5kIGBfLnNvcnRlZExhc3RJbmRleGAgd2hpY2hcbiAgICAgKiBwZXJmb3JtcyBhIGJpbmFyeSBzZWFyY2ggb2YgYGFycmF5YCB0byBkZXRlcm1pbmUgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWBcbiAgICAgKiBzaG91bGQgYmUgaW5zZXJ0ZWQgaW50byBgYXJyYXlgIGluIG9yZGVyIHRvIG1haW50YWluIGl0cyBzb3J0IG9yZGVyLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgc29ydGVkIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZXZhbHVhdGUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcmV0SGlnaGVzdF0gU3BlY2lmeSByZXR1cm5pbmcgdGhlIGhpZ2hlc3QgcXVhbGlmaWVkIGluZGV4LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWAgc2hvdWxkIGJlIGluc2VydGVkXG4gICAgICogIGludG8gYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU29ydGVkSW5kZXgoYXJyYXksIHZhbHVlLCByZXRIaWdoZXN0KSB7XG4gICAgICB2YXIgbG93ID0gMCxcbiAgICAgICAgICBoaWdoID0gYXJyYXkgPT0gbnVsbCA/IGxvdyA6IGFycmF5Lmxlbmd0aDtcblxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyAmJiB2YWx1ZSA9PT0gdmFsdWUgJiYgaGlnaCA8PSBIQUxGX01BWF9BUlJBWV9MRU5HVEgpIHtcbiAgICAgICAgd2hpbGUgKGxvdyA8IGhpZ2gpIHtcbiAgICAgICAgICB2YXIgbWlkID0gKGxvdyArIGhpZ2gpID4+PiAxLFxuICAgICAgICAgICAgICBjb21wdXRlZCA9IGFycmF5W21pZF07XG5cbiAgICAgICAgICBpZiAoY29tcHV0ZWQgIT09IG51bGwgJiYgIWlzU3ltYm9sKGNvbXB1dGVkKSAmJlxuICAgICAgICAgICAgICAocmV0SGlnaGVzdCA/IChjb21wdXRlZCA8PSB2YWx1ZSkgOiAoY29tcHV0ZWQgPCB2YWx1ZSkpKSB7XG4gICAgICAgICAgICBsb3cgPSBtaWQgKyAxO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBoaWdoID0gbWlkO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGlnaDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlU29ydGVkSW5kZXhCeShhcnJheSwgdmFsdWUsIGlkZW50aXR5LCByZXRIaWdoZXN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zb3J0ZWRJbmRleEJ5YCBhbmQgYF8uc29ydGVkTGFzdEluZGV4QnlgXG4gICAgICogd2hpY2ggaW52b2tlcyBgaXRlcmF0ZWVgIGZvciBgdmFsdWVgIGFuZCBlYWNoIGVsZW1lbnQgb2YgYGFycmF5YCB0byBjb21wdXRlXG4gICAgICogdGhlaXIgc29ydCByYW5raW5nLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDsgKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIHNvcnRlZCBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGV2YWx1YXRlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3JldEhpZ2hlc3RdIFNwZWNpZnkgcmV0dXJuaW5nIHRoZSBoaWdoZXN0IHF1YWxpZmllZCBpbmRleC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBhdCB3aGljaCBgdmFsdWVgIHNob3VsZCBiZSBpbnNlcnRlZFxuICAgICAqICBpbnRvIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVNvcnRlZEluZGV4QnkoYXJyYXksIHZhbHVlLCBpdGVyYXRlZSwgcmV0SGlnaGVzdCkge1xuICAgICAgdmFyIGxvdyA9IDAsXG4gICAgICAgICAgaGlnaCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKGhpZ2ggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgICB9XG5cbiAgICAgIHZhbHVlID0gaXRlcmF0ZWUodmFsdWUpO1xuICAgICAgdmFyIHZhbElzTmFOID0gdmFsdWUgIT09IHZhbHVlLFxuICAgICAgICAgIHZhbElzTnVsbCA9IHZhbHVlID09PSBudWxsLFxuICAgICAgICAgIHZhbElzU3ltYm9sID0gaXNTeW1ib2wodmFsdWUpLFxuICAgICAgICAgIHZhbElzVW5kZWZpbmVkID0gdmFsdWUgPT09IHVuZGVmaW5lZDtcblxuICAgICAgd2hpbGUgKGxvdyA8IGhpZ2gpIHtcbiAgICAgICAgdmFyIG1pZCA9IG5hdGl2ZUZsb29yKChsb3cgKyBoaWdoKSAvIDIpLFxuICAgICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZShhcnJheVttaWRdKSxcbiAgICAgICAgICAgIG90aElzRGVmaW5lZCA9IGNvbXB1dGVkICE9PSB1bmRlZmluZWQsXG4gICAgICAgICAgICBvdGhJc051bGwgPSBjb21wdXRlZCA9PT0gbnVsbCxcbiAgICAgICAgICAgIG90aElzUmVmbGV4aXZlID0gY29tcHV0ZWQgPT09IGNvbXB1dGVkLFxuICAgICAgICAgICAgb3RoSXNTeW1ib2wgPSBpc1N5bWJvbChjb21wdXRlZCk7XG5cbiAgICAgICAgaWYgKHZhbElzTmFOKSB7XG4gICAgICAgICAgdmFyIHNldExvdyA9IHJldEhpZ2hlc3QgfHwgb3RoSXNSZWZsZXhpdmU7XG4gICAgICAgIH0gZWxzZSBpZiAodmFsSXNVbmRlZmluZWQpIHtcbiAgICAgICAgICBzZXRMb3cgPSBvdGhJc1JlZmxleGl2ZSAmJiAocmV0SGlnaGVzdCB8fCBvdGhJc0RlZmluZWQpO1xuICAgICAgICB9IGVsc2UgaWYgKHZhbElzTnVsbCkge1xuICAgICAgICAgIHNldExvdyA9IG90aElzUmVmbGV4aXZlICYmIG90aElzRGVmaW5lZCAmJiAocmV0SGlnaGVzdCB8fCAhb3RoSXNOdWxsKTtcbiAgICAgICAgfSBlbHNlIGlmICh2YWxJc1N5bWJvbCkge1xuICAgICAgICAgIHNldExvdyA9IG90aElzUmVmbGV4aXZlICYmIG90aElzRGVmaW5lZCAmJiAhb3RoSXNOdWxsICYmIChyZXRIaWdoZXN0IHx8ICFvdGhJc1N5bWJvbCk7XG4gICAgICAgIH0gZWxzZSBpZiAob3RoSXNOdWxsIHx8IG90aElzU3ltYm9sKSB7XG4gICAgICAgICAgc2V0TG93ID0gZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2V0TG93ID0gcmV0SGlnaGVzdCA/IChjb21wdXRlZCA8PSB2YWx1ZSkgOiAoY29tcHV0ZWQgPCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNldExvdykge1xuICAgICAgICAgIGxvdyA9IG1pZCArIDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaGlnaCA9IG1pZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG5hdGl2ZU1pbihoaWdoLCBNQVhfQVJSQVlfSU5ERVgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNvcnRlZFVuaXFgIGFuZCBgXy5zb3J0ZWRVbmlxQnlgIHdpdGhvdXRcbiAgICAgKiBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWVdIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGR1cGxpY2F0ZSBmcmVlIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VTb3J0ZWRVbmlxKGFycmF5LCBpdGVyYXRlZSkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIHJlc0luZGV4ID0gMCxcbiAgICAgICAgICByZXN1bHQgPSBbXTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdLFxuICAgICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSA/IGl0ZXJhdGVlKHZhbHVlKSA6IHZhbHVlO1xuXG4gICAgICAgIGlmICghaW5kZXggfHwgIWVxKGNvbXB1dGVkLCBzZWVuKSkge1xuICAgICAgICAgIHZhciBzZWVuID0gY29tcHV0ZWQ7XG4gICAgICAgICAgcmVzdWx0W3Jlc0luZGV4KytdID0gdmFsdWUgPT09IDAgPyAwIDogdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udG9OdW1iZXJgIHdoaWNoIGRvZXNuJ3QgZW5zdXJlIGNvcnJlY3RcbiAgICAgKiBjb252ZXJzaW9ucyBvZiBiaW5hcnksIGhleGFkZWNpbWFsLCBvciBvY3RhbCBzdHJpbmcgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm9jZXNzLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIG51bWJlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlVG9OdW1iZXIodmFsdWUpIHtcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgaWYgKGlzU3ltYm9sKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gTkFOO1xuICAgICAgfVxuICAgICAgcmV0dXJuICt2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50b1N0cmluZ2Agd2hpY2ggZG9lc24ndCBjb252ZXJ0IG51bGxpc2hcbiAgICAgKiB2YWx1ZXMgdG8gZW1wdHkgc3RyaW5ncy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzdHJpbmcuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVRvU3RyaW5nKHZhbHVlKSB7XG4gICAgICAvLyBFeGl0IGVhcmx5IGZvciBzdHJpbmdzIHRvIGF2b2lkIGEgcGVyZm9ybWFuY2UgaGl0IGluIHNvbWUgZW52aXJvbm1lbnRzLlxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgLy8gUmVjdXJzaXZlbHkgY29udmVydCB2YWx1ZXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgICAgcmV0dXJuIGFycmF5TWFwKHZhbHVlLCBiYXNlVG9TdHJpbmcpICsgJyc7XG4gICAgICB9XG4gICAgICBpZiAoaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBzeW1ib2xUb1N0cmluZyA/IHN5bWJvbFRvU3RyaW5nLmNhbGwodmFsdWUpIDogJyc7XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gKHZhbHVlICsgJycpO1xuICAgICAgcmV0dXJuIChyZXN1bHQgPT0gJzAnICYmICgxIC8gdmFsdWUpID09IC1JTkZJTklUWSkgPyAnLTAnIDogcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnVuaXFCeWAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWVdIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGR1cGxpY2F0ZSBmcmVlIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VVbmlxKGFycmF5LCBpdGVyYXRlZSwgY29tcGFyYXRvcikge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgaW5jbHVkZXMgPSBhcnJheUluY2x1ZGVzLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICBpc0NvbW1vbiA9IHRydWUsXG4gICAgICAgICAgcmVzdWx0ID0gW10sXG4gICAgICAgICAgc2VlbiA9IHJlc3VsdDtcblxuICAgICAgaWYgKGNvbXBhcmF0b3IpIHtcbiAgICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICAgICAgaW5jbHVkZXMgPSBhcnJheUluY2x1ZGVzV2l0aDtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGxlbmd0aCA+PSBMQVJHRV9BUlJBWV9TSVpFKSB7XG4gICAgICAgIHZhciBzZXQgPSBpdGVyYXRlZSA/IG51bGwgOiBjcmVhdGVTZXQoYXJyYXkpO1xuICAgICAgICBpZiAoc2V0KSB7XG4gICAgICAgICAgcmV0dXJuIHNldFRvQXJyYXkoc2V0KTtcbiAgICAgICAgfVxuICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICBpbmNsdWRlcyA9IGNhY2hlSGFzO1xuICAgICAgICBzZWVuID0gbmV3IFNldENhY2hlO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHNlZW4gPSBpdGVyYXRlZSA/IFtdIDogcmVzdWx0O1xuICAgICAgfVxuICAgICAgb3V0ZXI6XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF0sXG4gICAgICAgICAgICBjb21wdXRlZCA9IGl0ZXJhdGVlID8gaXRlcmF0ZWUodmFsdWUpIDogdmFsdWU7XG5cbiAgICAgICAgdmFsdWUgPSAoY29tcGFyYXRvciB8fCB2YWx1ZSAhPT0gMCkgPyB2YWx1ZSA6IDA7XG4gICAgICAgIGlmIChpc0NvbW1vbiAmJiBjb21wdXRlZCA9PT0gY29tcHV0ZWQpIHtcbiAgICAgICAgICB2YXIgc2VlbkluZGV4ID0gc2Vlbi5sZW5ndGg7XG4gICAgICAgICAgd2hpbGUgKHNlZW5JbmRleC0tKSB7XG4gICAgICAgICAgICBpZiAoc2VlbltzZWVuSW5kZXhdID09PSBjb21wdXRlZCkge1xuICAgICAgICAgICAgICBjb250aW51ZSBvdXRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGl0ZXJhdGVlKSB7XG4gICAgICAgICAgICBzZWVuLnB1c2goY29tcHV0ZWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIWluY2x1ZGVzKHNlZW4sIGNvbXB1dGVkLCBjb21wYXJhdG9yKSkge1xuICAgICAgICAgIGlmIChzZWVuICE9PSByZXN1bHQpIHtcbiAgICAgICAgICAgIHNlZW4ucHVzaChjb21wdXRlZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy51bnNldGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHByb3BlcnR5IHBhdGggdG8gdW5zZXQuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBwcm9wZXJ0eSBpcyBkZWxldGVkLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVVuc2V0KG9iamVjdCwgcGF0aCkge1xuICAgICAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG4gICAgICBvYmplY3QgPSBwYXJlbnQob2JqZWN0LCBwYXRoKTtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCB8fCBkZWxldGUgb2JqZWN0W3RvS2V5KGxhc3QocGF0aCkpXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy51cGRhdGVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byB1cGRhdGUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gdXBkYXRlciBUaGUgZnVuY3Rpb24gdG8gcHJvZHVjZSB0aGUgdXBkYXRlZCB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBwYXRoIGNyZWF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVVwZGF0ZShvYmplY3QsIHBhdGgsIHVwZGF0ZXIsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIHJldHVybiBiYXNlU2V0KG9iamVjdCwgcGF0aCwgdXBkYXRlcihiYXNlR2V0KG9iamVjdCwgcGF0aCkpLCBjdXN0b21pemVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBtZXRob2RzIGxpa2UgYF8uZHJvcFdoaWxlYCBhbmQgYF8udGFrZVdoaWxlYFxuICAgICAqIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzRHJvcF0gU3BlY2lmeSBkcm9wcGluZyBlbGVtZW50cyBpbnN0ZWFkIG9mIHRha2luZyB0aGVtLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlV2hpbGUoYXJyYXksIHByZWRpY2F0ZSwgaXNEcm9wLCBmcm9tUmlnaHQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgaW5kZXggPSBmcm9tUmlnaHQgPyBsZW5ndGggOiAtMTtcblxuICAgICAgd2hpbGUgKChmcm9tUmlnaHQgPyBpbmRleC0tIDogKytpbmRleCA8IGxlbmd0aCkgJiZcbiAgICAgICAgcHJlZGljYXRlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSkge31cblxuICAgICAgcmV0dXJuIGlzRHJvcFxuICAgICAgICA/IGJhc2VTbGljZShhcnJheSwgKGZyb21SaWdodCA/IDAgOiBpbmRleCksIChmcm9tUmlnaHQgPyBpbmRleCArIDEgOiBsZW5ndGgpKVxuICAgICAgICA6IGJhc2VTbGljZShhcnJheSwgKGZyb21SaWdodCA/IGluZGV4ICsgMSA6IDApLCAoZnJvbVJpZ2h0ID8gbGVuZ3RoIDogaW5kZXgpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgd3JhcHBlclZhbHVlYCB3aGljaCByZXR1cm5zIHRoZSByZXN1bHQgb2ZcbiAgICAgKiBwZXJmb3JtaW5nIGEgc2VxdWVuY2Ugb2YgYWN0aW9ucyBvbiB0aGUgdW53cmFwcGVkIGB2YWx1ZWAsIHdoZXJlIGVhY2hcbiAgICAgKiBzdWNjZXNzaXZlIGFjdGlvbiBpcyBzdXBwbGllZCB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBwcmV2aW91cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdW53cmFwcGVkIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFjdGlvbnMgQWN0aW9ucyB0byBwZXJmb3JtIHRvIHJlc29sdmUgdGhlIHVud3JhcHBlZCB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVdyYXBwZXJWYWx1ZSh2YWx1ZSwgYWN0aW9ucykge1xuICAgICAgdmFyIHJlc3VsdCA9IHZhbHVlO1xuICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIExhenlXcmFwcGVyKSB7XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdC52YWx1ZSgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5UmVkdWNlKGFjdGlvbnMsIGZ1bmN0aW9uKHJlc3VsdCwgYWN0aW9uKSB7XG4gICAgICAgIHJldHVybiBhY3Rpb24uZnVuYy5hcHBseShhY3Rpb24udGhpc0FyZywgYXJyYXlQdXNoKFtyZXN1bHRdLCBhY3Rpb24uYXJncykpO1xuICAgICAgfSwgcmVzdWx0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBtZXRob2RzIGxpa2UgYF8ueG9yYCwgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMsIHRoYXQgYWNjZXB0cyBhbiBhcnJheSBvZiBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXlzIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWVdIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIHZhbHVlcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlWG9yKGFycmF5cywgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheXMubGVuZ3RoO1xuICAgICAgaWYgKGxlbmd0aCA8IDIpIHtcbiAgICAgICAgcmV0dXJuIGxlbmd0aCA/IGJhc2VVbmlxKGFycmF5c1swXSkgOiBbXTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIHJlc3VsdCA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBhcnJheSA9IGFycmF5c1tpbmRleF0sXG4gICAgICAgICAgICBvdGhJbmRleCA9IC0xO1xuXG4gICAgICAgIHdoaWxlICgrK290aEluZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgaWYgKG90aEluZGV4ICE9IGluZGV4KSB7XG4gICAgICAgICAgICByZXN1bHRbaW5kZXhdID0gYmFzZURpZmZlcmVuY2UocmVzdWx0W2luZGV4XSB8fCBhcnJheSwgYXJyYXlzW290aEluZGV4XSwgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VVbmlxKGJhc2VGbGF0dGVuKHJlc3VsdCwgMSksIGl0ZXJhdGVlLCBjb21wYXJhdG9yKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uemlwT2JqZWN0YCB3aGljaCBhc3NpZ25zIHZhbHVlcyB1c2luZyBgYXNzaWduRnVuY2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHByb3BzIFRoZSBwcm9wZXJ0eSBpZGVudGlmaWVycy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHByb3BlcnR5IHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBhc3NpZ25GdW5jIFRoZSBmdW5jdGlvbiB0byBhc3NpZ24gdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVppcE9iamVjdChwcm9wcywgdmFsdWVzLCBhc3NpZ25GdW5jKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBwcm9wcy5sZW5ndGgsXG4gICAgICAgICAgdmFsc0xlbmd0aCA9IHZhbHVlcy5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0ge307XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGluZGV4IDwgdmFsc0xlbmd0aCA/IHZhbHVlc1tpbmRleF0gOiB1bmRlZmluZWQ7XG4gICAgICAgIGFzc2lnbkZ1bmMocmVzdWx0LCBwcm9wc1tpbmRleF0sIHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FzdHMgYHZhbHVlYCB0byBhbiBlbXB0eSBhcnJheSBpZiBpdCdzIG5vdCBhbiBhcnJheSBsaWtlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl8T2JqZWN0fSBSZXR1cm5zIHRoZSBjYXN0IGFycmF5LWxpa2Ugb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNhc3RBcnJheUxpa2VPYmplY3QodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc0FycmF5TGlrZU9iamVjdCh2YWx1ZSkgPyB2YWx1ZSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhc3RzIGB2YWx1ZWAgdG8gYGlkZW50aXR5YCBpZiBpdCdzIG5vdCBhIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBjYXN0IGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNhc3RGdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnZnVuY3Rpb24nID8gdmFsdWUgOiBpZGVudGl0eTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYXN0cyBgdmFsdWVgIHRvIGEgcGF0aCBhcnJheSBpZiBpdCdzIG5vdCBvbmUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkga2V5cyBvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNhc3QgcHJvcGVydHkgcGF0aCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjYXN0UGF0aCh2YWx1ZSwgb2JqZWN0KSB7XG4gICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGlzS2V5KHZhbHVlLCBvYmplY3QpID8gW3ZhbHVlXSA6IHN0cmluZ1RvUGF0aCh0b1N0cmluZyh2YWx1ZSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgYGJhc2VSZXN0YCBhbGlhcyB3aGljaCBjYW4gYmUgcmVwbGFjZWQgd2l0aCBgaWRlbnRpdHlgIGJ5IG1vZHVsZVxuICAgICAqIHJlcGxhY2VtZW50IHBsdWdpbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtGdW5jdGlvbn1cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhcHBseSBhIHJlc3QgcGFyYW1ldGVyIHRvLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIHZhciBjYXN0UmVzdCA9IGJhc2VSZXN0O1xuXG4gICAgLyoqXG4gICAgICogQ2FzdHMgYGFycmF5YCB0byBhIHNsaWNlIGlmIGl0J3MgbmVlZGVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnQgVGhlIHN0YXJ0IHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kPWFycmF5Lmxlbmd0aF0gVGhlIGVuZCBwb3NpdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNhc3Qgc2xpY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2FzdFNsaWNlKGFycmF5LCBzdGFydCwgZW5kKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICAgICAgZW5kID0gZW5kID09PSB1bmRlZmluZWQgPyBsZW5ndGggOiBlbmQ7XG4gICAgICByZXR1cm4gKCFzdGFydCAmJiBlbmQgPj0gbGVuZ3RoKSA/IGFycmF5IDogYmFzZVNsaWNlKGFycmF5LCBzdGFydCwgZW5kKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNpbXBsZSB3cmFwcGVyIGFyb3VuZCB0aGUgZ2xvYmFsIFtgY2xlYXJUaW1lb3V0YF0oaHR0cHM6Ly9tZG4uaW8vY2xlYXJUaW1lb3V0KS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ8T2JqZWN0fSBpZCBUaGUgdGltZXIgaWQgb3IgdGltZW91dCBvYmplY3Qgb2YgdGhlIHRpbWVyIHRvIGNsZWFyLlxuICAgICAqL1xuICAgIHZhciBjbGVhclRpbWVvdXQgPSBjdHhDbGVhclRpbWVvdXQgfHwgZnVuY3Rpb24oaWQpIHtcbiAgICAgIHJldHVybiByb290LmNsZWFyVGltZW91dChpZCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiAgYGJ1ZmZlcmAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QnVmZmVyfSBidWZmZXIgVGhlIGJ1ZmZlciB0byBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0RlZXBdIFNwZWNpZnkgYSBkZWVwIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtCdWZmZXJ9IFJldHVybnMgdGhlIGNsb25lZCBidWZmZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVCdWZmZXIoYnVmZmVyLCBpc0RlZXApIHtcbiAgICAgIGlmIChpc0RlZXApIHtcbiAgICAgICAgcmV0dXJuIGJ1ZmZlci5zbGljZSgpO1xuICAgICAgfVxuICAgICAgdmFyIGxlbmd0aCA9IGJ1ZmZlci5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0gYWxsb2NVbnNhZmUgPyBhbGxvY1Vuc2FmZShsZW5ndGgpIDogbmV3IGJ1ZmZlci5jb25zdHJ1Y3RvcihsZW5ndGgpO1xuXG4gICAgICBidWZmZXIuY29weShyZXN1bHQpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgYGFycmF5QnVmZmVyYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheUJ1ZmZlcn0gYXJyYXlCdWZmZXIgVGhlIGFycmF5IGJ1ZmZlciB0byBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXlCdWZmZXJ9IFJldHVybnMgdGhlIGNsb25lZCBhcnJheSBidWZmZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVBcnJheUJ1ZmZlcihhcnJheUJ1ZmZlcikge1xuICAgICAgdmFyIHJlc3VsdCA9IG5ldyBhcnJheUJ1ZmZlci5jb25zdHJ1Y3RvcihhcnJheUJ1ZmZlci5ieXRlTGVuZ3RoKTtcbiAgICAgIG5ldyBVaW50OEFycmF5KHJlc3VsdCkuc2V0KG5ldyBVaW50OEFycmF5KGFycmF5QnVmZmVyKSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiBgZGF0YVZpZXdgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YVZpZXcgVGhlIGRhdGEgdmlldyB0byBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0RlZXBdIFNwZWNpZnkgYSBkZWVwIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNsb25lZCBkYXRhIHZpZXcuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVEYXRhVmlldyhkYXRhVmlldywgaXNEZWVwKSB7XG4gICAgICB2YXIgYnVmZmVyID0gaXNEZWVwID8gY2xvbmVBcnJheUJ1ZmZlcihkYXRhVmlldy5idWZmZXIpIDogZGF0YVZpZXcuYnVmZmVyO1xuICAgICAgcmV0dXJuIG5ldyBkYXRhVmlldy5jb25zdHJ1Y3RvcihidWZmZXIsIGRhdGFWaWV3LmJ5dGVPZmZzZXQsIGRhdGFWaWV3LmJ5dGVMZW5ndGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiBgcmVnZXhwYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHJlZ2V4cCBUaGUgcmVnZXhwIHRvIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNsb25lZCByZWdleHAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVSZWdFeHAocmVnZXhwKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gbmV3IHJlZ2V4cC5jb25zdHJ1Y3RvcihyZWdleHAuc291cmNlLCByZUZsYWdzLmV4ZWMocmVnZXhwKSk7XG4gICAgICByZXN1bHQubGFzdEluZGV4ID0gcmVnZXhwLmxhc3RJbmRleDtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoZSBgc3ltYm9sYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzeW1ib2wgVGhlIHN5bWJvbCBvYmplY3QgdG8gY2xvbmUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2xvbmVkIHN5bWJvbCBvYmplY3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVTeW1ib2woc3ltYm9sKSB7XG4gICAgICByZXR1cm4gc3ltYm9sVmFsdWVPZiA/IE9iamVjdChzeW1ib2xWYWx1ZU9mLmNhbGwoc3ltYm9sKSkgOiB7fTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgYHR5cGVkQXJyYXlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdHlwZWRBcnJheSBUaGUgdHlwZWQgYXJyYXkgdG8gY2xvbmUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNEZWVwXSBTcGVjaWZ5IGEgZGVlcCBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjbG9uZWQgdHlwZWQgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVUeXBlZEFycmF5KHR5cGVkQXJyYXksIGlzRGVlcCkge1xuICAgICAgdmFyIGJ1ZmZlciA9IGlzRGVlcCA/IGNsb25lQXJyYXlCdWZmZXIodHlwZWRBcnJheS5idWZmZXIpIDogdHlwZWRBcnJheS5idWZmZXI7XG4gICAgICByZXR1cm4gbmV3IHR5cGVkQXJyYXkuY29uc3RydWN0b3IoYnVmZmVyLCB0eXBlZEFycmF5LmJ5dGVPZmZzZXQsIHR5cGVkQXJyYXkubGVuZ3RoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb21wYXJlcyB2YWx1ZXMgdG8gc29ydCB0aGVtIGluIGFzY2VuZGluZyBvcmRlci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHNvcnQgb3JkZXIgaW5kaWNhdG9yIGZvciBgdmFsdWVgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbXBhcmVBc2NlbmRpbmcodmFsdWUsIG90aGVyKSB7XG4gICAgICBpZiAodmFsdWUgIT09IG90aGVyKSB7XG4gICAgICAgIHZhciB2YWxJc0RlZmluZWQgPSB2YWx1ZSAhPT0gdW5kZWZpbmVkLFxuICAgICAgICAgICAgdmFsSXNOdWxsID0gdmFsdWUgPT09IG51bGwsXG4gICAgICAgICAgICB2YWxJc1JlZmxleGl2ZSA9IHZhbHVlID09PSB2YWx1ZSxcbiAgICAgICAgICAgIHZhbElzU3ltYm9sID0gaXNTeW1ib2wodmFsdWUpO1xuXG4gICAgICAgIHZhciBvdGhJc0RlZmluZWQgPSBvdGhlciAhPT0gdW5kZWZpbmVkLFxuICAgICAgICAgICAgb3RoSXNOdWxsID0gb3RoZXIgPT09IG51bGwsXG4gICAgICAgICAgICBvdGhJc1JlZmxleGl2ZSA9IG90aGVyID09PSBvdGhlcixcbiAgICAgICAgICAgIG90aElzU3ltYm9sID0gaXNTeW1ib2wob3RoZXIpO1xuXG4gICAgICAgIGlmICgoIW90aElzTnVsbCAmJiAhb3RoSXNTeW1ib2wgJiYgIXZhbElzU3ltYm9sICYmIHZhbHVlID4gb3RoZXIpIHx8XG4gICAgICAgICAgICAodmFsSXNTeW1ib2wgJiYgb3RoSXNEZWZpbmVkICYmIG90aElzUmVmbGV4aXZlICYmICFvdGhJc051bGwgJiYgIW90aElzU3ltYm9sKSB8fFxuICAgICAgICAgICAgKHZhbElzTnVsbCAmJiBvdGhJc0RlZmluZWQgJiYgb3RoSXNSZWZsZXhpdmUpIHx8XG4gICAgICAgICAgICAoIXZhbElzRGVmaW5lZCAmJiBvdGhJc1JlZmxleGl2ZSkgfHxcbiAgICAgICAgICAgICF2YWxJc1JlZmxleGl2ZSkge1xuICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICB9XG4gICAgICAgIGlmICgoIXZhbElzTnVsbCAmJiAhdmFsSXNTeW1ib2wgJiYgIW90aElzU3ltYm9sICYmIHZhbHVlIDwgb3RoZXIpIHx8XG4gICAgICAgICAgICAob3RoSXNTeW1ib2wgJiYgdmFsSXNEZWZpbmVkICYmIHZhbElzUmVmbGV4aXZlICYmICF2YWxJc051bGwgJiYgIXZhbElzU3ltYm9sKSB8fFxuICAgICAgICAgICAgKG90aElzTnVsbCAmJiB2YWxJc0RlZmluZWQgJiYgdmFsSXNSZWZsZXhpdmUpIHx8XG4gICAgICAgICAgICAoIW90aElzRGVmaW5lZCAmJiB2YWxJc1JlZmxleGl2ZSkgfHxcbiAgICAgICAgICAgICFvdGhJc1JlZmxleGl2ZSkge1xuICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXNlZCBieSBgXy5vcmRlckJ5YCB0byBjb21wYXJlIG11bHRpcGxlIHByb3BlcnRpZXMgb2YgYSB2YWx1ZSB0byBhbm90aGVyXG4gICAgICogYW5kIHN0YWJsZSBzb3J0IHRoZW0uXG4gICAgICpcbiAgICAgKiBJZiBgb3JkZXJzYCBpcyB1bnNwZWNpZmllZCwgYWxsIHZhbHVlcyBhcmUgc29ydGVkIGluIGFzY2VuZGluZyBvcmRlci4gT3RoZXJ3aXNlLFxuICAgICAqIHNwZWNpZnkgYW4gb3JkZXIgb2YgXCJkZXNjXCIgZm9yIGRlc2NlbmRpbmcgb3IgXCJhc2NcIiBmb3IgYXNjZW5kaW5nIHNvcnQgb3JkZXJcbiAgICAgKiBvZiBjb3JyZXNwb25kaW5nIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG90aGVyIFRoZSBvdGhlciBvYmplY3QgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW5bXXxzdHJpbmdbXX0gb3JkZXJzIFRoZSBvcmRlciB0byBzb3J0IGJ5IGZvciBlYWNoIHByb3BlcnR5LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHNvcnQgb3JkZXIgaW5kaWNhdG9yIGZvciBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb21wYXJlTXVsdGlwbGUob2JqZWN0LCBvdGhlciwgb3JkZXJzKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBvYmpDcml0ZXJpYSA9IG9iamVjdC5jcml0ZXJpYSxcbiAgICAgICAgICBvdGhDcml0ZXJpYSA9IG90aGVyLmNyaXRlcmlhLFxuICAgICAgICAgIGxlbmd0aCA9IG9iakNyaXRlcmlhLmxlbmd0aCxcbiAgICAgICAgICBvcmRlcnNMZW5ndGggPSBvcmRlcnMubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gY29tcGFyZUFzY2VuZGluZyhvYmpDcml0ZXJpYVtpbmRleF0sIG90aENyaXRlcmlhW2luZGV4XSk7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICBpZiAoaW5kZXggPj0gb3JkZXJzTGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgb3JkZXIgPSBvcmRlcnNbaW5kZXhdO1xuICAgICAgICAgIHJldHVybiByZXN1bHQgKiAob3JkZXIgPT0gJ2Rlc2MnID8gLTEgOiAxKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gRml4ZXMgYW4gYEFycmF5I3NvcnRgIGJ1ZyBpbiB0aGUgSlMgZW5naW5lIGVtYmVkZGVkIGluIEFkb2JlIGFwcGxpY2F0aW9uc1xuICAgICAgLy8gdGhhdCBjYXVzZXMgaXQsIHVuZGVyIGNlcnRhaW4gY2lyY3Vtc3RhbmNlcywgdG8gcHJvdmlkZSB0aGUgc2FtZSB2YWx1ZSBmb3JcbiAgICAgIC8vIGBvYmplY3RgIGFuZCBgb3RoZXJgLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2phc2hrZW5hcy91bmRlcnNjb3JlL3B1bGwvMTI0N1xuICAgICAgLy8gZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgIC8vXG4gICAgICAvLyBUaGlzIGFsc28gZW5zdXJlcyBhIHN0YWJsZSBzb3J0IGluIFY4IGFuZCBvdGhlciBlbmdpbmVzLlxuICAgICAgLy8gU2VlIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTkwIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICByZXR1cm4gb2JqZWN0LmluZGV4IC0gb3RoZXIuaW5kZXg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSB0aGF0IGlzIHRoZSBjb21wb3NpdGlvbiBvZiBwYXJ0aWFsbHkgYXBwbGllZCBhcmd1bWVudHMsXG4gICAgICogcGxhY2Vob2xkZXJzLCBhbmQgcHJvdmlkZWQgYXJndW1lbnRzIGludG8gYSBzaW5nbGUgYXJyYXkgb2YgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcmdzIFRoZSBwcm92aWRlZCBhcmd1bWVudHMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gcGFydGlhbHMgVGhlIGFyZ3VtZW50cyB0byBwcmVwZW5kIHRvIHRob3NlIHByb3ZpZGVkLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGhvbGRlcnMgVGhlIGBwYXJ0aWFsc2AgcGxhY2Vob2xkZXIgaW5kZXhlcy5cbiAgICAgKiBAcGFyYW1zIHtib29sZWFufSBbaXNDdXJyaWVkXSBTcGVjaWZ5IGNvbXBvc2luZyBmb3IgYSBjdXJyaWVkIGZ1bmN0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGNvbXBvc2VkIGFyZ3VtZW50cy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb21wb3NlQXJncyhhcmdzLCBwYXJ0aWFscywgaG9sZGVycywgaXNDdXJyaWVkKSB7XG4gICAgICB2YXIgYXJnc0luZGV4ID0gLTEsXG4gICAgICAgICAgYXJnc0xlbmd0aCA9IGFyZ3MubGVuZ3RoLFxuICAgICAgICAgIGhvbGRlcnNMZW5ndGggPSBob2xkZXJzLmxlbmd0aCxcbiAgICAgICAgICBsZWZ0SW5kZXggPSAtMSxcbiAgICAgICAgICBsZWZ0TGVuZ3RoID0gcGFydGlhbHMubGVuZ3RoLFxuICAgICAgICAgIHJhbmdlTGVuZ3RoID0gbmF0aXZlTWF4KGFyZ3NMZW5ndGggLSBob2xkZXJzTGVuZ3RoLCAwKSxcbiAgICAgICAgICByZXN1bHQgPSBBcnJheShsZWZ0TGVuZ3RoICsgcmFuZ2VMZW5ndGgpLFxuICAgICAgICAgIGlzVW5jdXJyaWVkID0gIWlzQ3VycmllZDtcblxuICAgICAgd2hpbGUgKCsrbGVmdEluZGV4IDwgbGVmdExlbmd0aCkge1xuICAgICAgICByZXN1bHRbbGVmdEluZGV4XSA9IHBhcnRpYWxzW2xlZnRJbmRleF07XG4gICAgICB9XG4gICAgICB3aGlsZSAoKythcmdzSW5kZXggPCBob2xkZXJzTGVuZ3RoKSB7XG4gICAgICAgIGlmIChpc1VuY3VycmllZCB8fCBhcmdzSW5kZXggPCBhcmdzTGVuZ3RoKSB7XG4gICAgICAgICAgcmVzdWx0W2hvbGRlcnNbYXJnc0luZGV4XV0gPSBhcmdzW2FyZ3NJbmRleF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHdoaWxlIChyYW5nZUxlbmd0aC0tKSB7XG4gICAgICAgIHJlc3VsdFtsZWZ0SW5kZXgrK10gPSBhcmdzW2FyZ3NJbmRleCsrXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiBpcyBsaWtlIGBjb21wb3NlQXJnc2AgZXhjZXB0IHRoYXQgdGhlIGFyZ3VtZW50cyBjb21wb3NpdGlvblxuICAgICAqIGlzIHRhaWxvcmVkIGZvciBgXy5wYXJ0aWFsUmlnaHRgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcmdzIFRoZSBwcm92aWRlZCBhcmd1bWVudHMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gcGFydGlhbHMgVGhlIGFyZ3VtZW50cyB0byBhcHBlbmQgdG8gdGhvc2UgcHJvdmlkZWQuXG4gICAgICogQHBhcmFtIHtBcnJheX0gaG9sZGVycyBUaGUgYHBhcnRpYWxzYCBwbGFjZWhvbGRlciBpbmRleGVzLlxuICAgICAqIEBwYXJhbXMge2Jvb2xlYW59IFtpc0N1cnJpZWRdIFNwZWNpZnkgY29tcG9zaW5nIGZvciBhIGN1cnJpZWQgZnVuY3Rpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgY29tcG9zZWQgYXJndW1lbnRzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbXBvc2VBcmdzUmlnaHQoYXJncywgcGFydGlhbHMsIGhvbGRlcnMsIGlzQ3VycmllZCkge1xuICAgICAgdmFyIGFyZ3NJbmRleCA9IC0xLFxuICAgICAgICAgIGFyZ3NMZW5ndGggPSBhcmdzLmxlbmd0aCxcbiAgICAgICAgICBob2xkZXJzSW5kZXggPSAtMSxcbiAgICAgICAgICBob2xkZXJzTGVuZ3RoID0gaG9sZGVycy5sZW5ndGgsXG4gICAgICAgICAgcmlnaHRJbmRleCA9IC0xLFxuICAgICAgICAgIHJpZ2h0TGVuZ3RoID0gcGFydGlhbHMubGVuZ3RoLFxuICAgICAgICAgIHJhbmdlTGVuZ3RoID0gbmF0aXZlTWF4KGFyZ3NMZW5ndGggLSBob2xkZXJzTGVuZ3RoLCAwKSxcbiAgICAgICAgICByZXN1bHQgPSBBcnJheShyYW5nZUxlbmd0aCArIHJpZ2h0TGVuZ3RoKSxcbiAgICAgICAgICBpc1VuY3VycmllZCA9ICFpc0N1cnJpZWQ7XG5cbiAgICAgIHdoaWxlICgrK2FyZ3NJbmRleCA8IHJhbmdlTGVuZ3RoKSB7XG4gICAgICAgIHJlc3VsdFthcmdzSW5kZXhdID0gYXJnc1thcmdzSW5kZXhdO1xuICAgICAgfVxuICAgICAgdmFyIG9mZnNldCA9IGFyZ3NJbmRleDtcbiAgICAgIHdoaWxlICgrK3JpZ2h0SW5kZXggPCByaWdodExlbmd0aCkge1xuICAgICAgICByZXN1bHRbb2Zmc2V0ICsgcmlnaHRJbmRleF0gPSBwYXJ0aWFsc1tyaWdodEluZGV4XTtcbiAgICAgIH1cbiAgICAgIHdoaWxlICgrK2hvbGRlcnNJbmRleCA8IGhvbGRlcnNMZW5ndGgpIHtcbiAgICAgICAgaWYgKGlzVW5jdXJyaWVkIHx8IGFyZ3NJbmRleCA8IGFyZ3NMZW5ndGgpIHtcbiAgICAgICAgICByZXN1bHRbb2Zmc2V0ICsgaG9sZGVyc1tob2xkZXJzSW5kZXhdXSA9IGFyZ3NbYXJnc0luZGV4KytdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvcGllcyB0aGUgdmFsdWVzIG9mIGBzb3VyY2VgIHRvIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHNvdXJjZSBUaGUgYXJyYXkgdG8gY29weSB2YWx1ZXMgZnJvbS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXk9W11dIFRoZSBhcnJheSB0byBjb3B5IHZhbHVlcyB0by5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb3B5QXJyYXkoc291cmNlLCBhcnJheSkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gc291cmNlLmxlbmd0aDtcblxuICAgICAgYXJyYXkgfHwgKGFycmF5ID0gQXJyYXkobGVuZ3RoKSk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICBhcnJheVtpbmRleF0gPSBzb3VyY2VbaW5kZXhdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvcGllcyBwcm9wZXJ0aWVzIG9mIGBzb3VyY2VgIHRvIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3QgdG8gY29weSBwcm9wZXJ0aWVzIGZyb20uXG4gICAgICogQHBhcmFtIHtBcnJheX0gcHJvcHMgVGhlIHByb3BlcnR5IGlkZW50aWZpZXJzIHRvIGNvcHkuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3Q9e31dIFRoZSBvYmplY3QgdG8gY29weSBwcm9wZXJ0aWVzIHRvLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvcGllZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb3B5T2JqZWN0KHNvdXJjZSwgcHJvcHMsIG9iamVjdCwgY3VzdG9taXplcikge1xuICAgICAgdmFyIGlzTmV3ID0gIW9iamVjdDtcbiAgICAgIG9iamVjdCB8fCAob2JqZWN0ID0ge30pO1xuXG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBwcm9wcy5sZW5ndGg7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBrZXkgPSBwcm9wc1tpbmRleF07XG5cbiAgICAgICAgdmFyIG5ld1ZhbHVlID0gY3VzdG9taXplclxuICAgICAgICAgID8gY3VzdG9taXplcihvYmplY3Rba2V5XSwgc291cmNlW2tleV0sIGtleSwgb2JqZWN0LCBzb3VyY2UpXG4gICAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgaWYgKG5ld1ZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBuZXdWYWx1ZSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc05ldykge1xuICAgICAgICAgIGJhc2VBc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgbmV3VmFsdWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFzc2lnblZhbHVlKG9iamVjdCwga2V5LCBuZXdWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29waWVzIG93biBzeW1ib2xzIG9mIGBzb3VyY2VgIHRvIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3QgdG8gY29weSBzeW1ib2xzIGZyb20uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3Q9e31dIFRoZSBvYmplY3QgdG8gY29weSBzeW1ib2xzIHRvLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29weVN5bWJvbHMoc291cmNlLCBvYmplY3QpIHtcbiAgICAgIHJldHVybiBjb3B5T2JqZWN0KHNvdXJjZSwgZ2V0U3ltYm9scyhzb3VyY2UpLCBvYmplY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvcGllcyBvd24gYW5kIGluaGVyaXRlZCBzeW1ib2xzIG9mIGBzb3VyY2VgIHRvIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3QgdG8gY29weSBzeW1ib2xzIGZyb20uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3Q9e31dIFRoZSBvYmplY3QgdG8gY29weSBzeW1ib2xzIHRvLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29weVN5bWJvbHNJbihzb3VyY2UsIG9iamVjdCkge1xuICAgICAgcmV0dXJuIGNvcHlPYmplY3Qoc291cmNlLCBnZXRTeW1ib2xzSW4oc291cmNlKSwgb2JqZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5ncm91cEJ5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc2V0dGVyIFRoZSBmdW5jdGlvbiB0byBzZXQgYWNjdW11bGF0b3IgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpbml0aWFsaXplcl0gVGhlIGFjY3VtdWxhdG9yIG9iamVjdCBpbml0aWFsaXplci5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhZ2dyZWdhdG9yIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUFnZ3JlZ2F0b3Ioc2V0dGVyLCBpbml0aWFsaXplcikge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gICAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5QWdncmVnYXRvciA6IGJhc2VBZ2dyZWdhdG9yLFxuICAgICAgICAgICAgYWNjdW11bGF0b3IgPSBpbml0aWFsaXplciA/IGluaXRpYWxpemVyKCkgOiB7fTtcblxuICAgICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBzZXR0ZXIsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSwgYWNjdW11bGF0b3IpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5hc3NpZ25gLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBhc3NpZ25lciBUaGUgZnVuY3Rpb24gdG8gYXNzaWduIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhc3NpZ25lciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVBc3NpZ25lcihhc3NpZ25lcikge1xuICAgICAgcmV0dXJuIGJhc2VSZXN0KGZ1bmN0aW9uKG9iamVjdCwgc291cmNlcykge1xuICAgICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICAgIGxlbmd0aCA9IHNvdXJjZXMubGVuZ3RoLFxuICAgICAgICAgICAgY3VzdG9taXplciA9IGxlbmd0aCA+IDEgPyBzb3VyY2VzW2xlbmd0aCAtIDFdIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgZ3VhcmQgPSBsZW5ndGggPiAyID8gc291cmNlc1syXSA6IHVuZGVmaW5lZDtcblxuICAgICAgICBjdXN0b21pemVyID0gKGFzc2lnbmVyLmxlbmd0aCA+IDMgJiYgdHlwZW9mIGN1c3RvbWl6ZXIgPT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgICA/IChsZW5ndGgtLSwgY3VzdG9taXplcilcbiAgICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgICBpZiAoZ3VhcmQgJiYgaXNJdGVyYXRlZUNhbGwoc291cmNlc1swXSwgc291cmNlc1sxXSwgZ3VhcmQpKSB7XG4gICAgICAgICAgY3VzdG9taXplciA9IGxlbmd0aCA8IDMgPyB1bmRlZmluZWQgOiBjdXN0b21pemVyO1xuICAgICAgICAgIGxlbmd0aCA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgb2JqZWN0ID0gT2JqZWN0KG9iamVjdCk7XG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIHNvdXJjZSA9IHNvdXJjZXNbaW5kZXhdO1xuICAgICAgICAgIGlmIChzb3VyY2UpIHtcbiAgICAgICAgICAgIGFzc2lnbmVyKG9iamVjdCwgc291cmNlLCBpbmRleCwgY3VzdG9taXplcik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYGJhc2VFYWNoYCBvciBgYmFzZUVhY2hSaWdodGAgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGVhY2hGdW5jIFRoZSBmdW5jdGlvbiB0byBpdGVyYXRlIG92ZXIgYSBjb2xsZWN0aW9uLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGJhc2UgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQmFzZUVhY2goZWFjaEZ1bmMsIGZyb21SaWdodCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gICAgICAgIGlmIChjb2xsZWN0aW9uID09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gY29sbGVjdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzQXJyYXlMaWtlKGNvbGxlY3Rpb24pKSB7XG4gICAgICAgICAgcmV0dXJuIGVhY2hGdW5jKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbGVuZ3RoID0gY29sbGVjdGlvbi5sZW5ndGgsXG4gICAgICAgICAgICBpbmRleCA9IGZyb21SaWdodCA/IGxlbmd0aCA6IC0xLFxuICAgICAgICAgICAgaXRlcmFibGUgPSBPYmplY3QoY29sbGVjdGlvbik7XG5cbiAgICAgICAgd2hpbGUgKChmcm9tUmlnaHQgPyBpbmRleC0tIDogKytpbmRleCA8IGxlbmd0aCkpIHtcbiAgICAgICAgICBpZiAoaXRlcmF0ZWUoaXRlcmFibGVbaW5kZXhdLCBpbmRleCwgaXRlcmFibGUpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb2xsZWN0aW9uO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYmFzZSBmdW5jdGlvbiBmb3IgbWV0aG9kcyBsaWtlIGBfLmZvckluYCBhbmQgYF8uZm9yT3duYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZnJvbVJpZ2h0XSBTcGVjaWZ5IGl0ZXJhdGluZyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYmFzZSBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVCYXNlRm9yKGZyb21SaWdodCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCwgaXRlcmF0ZWUsIGtleXNGdW5jKSB7XG4gICAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgICAgaXRlcmFibGUgPSBPYmplY3Qob2JqZWN0KSxcbiAgICAgICAgICAgIHByb3BzID0ga2V5c0Z1bmMob2JqZWN0KSxcbiAgICAgICAgICAgIGxlbmd0aCA9IHByb3BzLmxlbmd0aDtcblxuICAgICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgICB2YXIga2V5ID0gcHJvcHNbZnJvbVJpZ2h0ID8gbGVuZ3RoIDogKytpbmRleF07XG4gICAgICAgICAgaWYgKGl0ZXJhdGVlKGl0ZXJhYmxlW2tleV0sIGtleSwgaXRlcmFibGUpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHdyYXBzIGBmdW5jYCB0byBpbnZva2UgaXQgd2l0aCB0aGUgb3B0aW9uYWwgYHRoaXNgXG4gICAgICogYmluZGluZyBvZiBgdGhpc0FyZ2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgY3JlYXRlV3JhcGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHdyYXBwZWQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQmluZChmdW5jLCBiaXRtYXNrLCB0aGlzQXJnKSB7XG4gICAgICB2YXIgaXNCaW5kID0gYml0bWFzayAmIFdSQVBfQklORF9GTEFHLFxuICAgICAgICAgIEN0b3IgPSBjcmVhdGVDdG9yKGZ1bmMpO1xuXG4gICAgICBmdW5jdGlvbiB3cmFwcGVyKCkge1xuICAgICAgICB2YXIgZm4gPSAodGhpcyAmJiB0aGlzICE9PSByb290ICYmIHRoaXMgaW5zdGFuY2VvZiB3cmFwcGVyKSA/IEN0b3IgOiBmdW5jO1xuICAgICAgICByZXR1cm4gZm4uYXBwbHkoaXNCaW5kID8gdGhpc0FyZyA6IHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gd3JhcHBlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5sb3dlckZpcnN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZE5hbWUgVGhlIG5hbWUgb2YgdGhlIGBTdHJpbmdgIGNhc2UgbWV0aG9kIHRvIHVzZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjYXNlIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUNhc2VGaXJzdChtZXRob2ROYW1lKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oc3RyaW5nKSB7XG4gICAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG5cbiAgICAgICAgdmFyIHN0clN5bWJvbHMgPSBoYXNVbmljb2RlKHN0cmluZylcbiAgICAgICAgICA/IHN0cmluZ1RvQXJyYXkoc3RyaW5nKVxuICAgICAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgICAgIHZhciBjaHIgPSBzdHJTeW1ib2xzXG4gICAgICAgICAgPyBzdHJTeW1ib2xzWzBdXG4gICAgICAgICAgOiBzdHJpbmcuY2hhckF0KDApO1xuXG4gICAgICAgIHZhciB0cmFpbGluZyA9IHN0clN5bWJvbHNcbiAgICAgICAgICA/IGNhc3RTbGljZShzdHJTeW1ib2xzLCAxKS5qb2luKCcnKVxuICAgICAgICAgIDogc3RyaW5nLnNsaWNlKDEpO1xuXG4gICAgICAgIHJldHVybiBjaHJbbWV0aG9kTmFtZV0oKSArIHRyYWlsaW5nO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5jYW1lbENhc2VgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gdG8gY29tYmluZSBlYWNoIHdvcmQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY29tcG91bmRlciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVDb21wb3VuZGVyKGNhbGxiYWNrKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oc3RyaW5nKSB7XG4gICAgICAgIHJldHVybiBhcnJheVJlZHVjZSh3b3JkcyhkZWJ1cnIoc3RyaW5nKS5yZXBsYWNlKHJlQXBvcywgJycpKSwgY2FsbGJhY2ssICcnKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcHJvZHVjZXMgYW4gaW5zdGFuY2Ugb2YgYEN0b3JgIHJlZ2FyZGxlc3Mgb2ZcbiAgICAgKiB3aGV0aGVyIGl0IHdhcyBpbnZva2VkIGFzIHBhcnQgb2YgYSBgbmV3YCBleHByZXNzaW9uIG9yIGJ5IGBjYWxsYCBvciBgYXBwbHlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBDdG9yIFRoZSBjb25zdHJ1Y3RvciB0byB3cmFwLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHdyYXBwZWQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQ3RvcihDdG9yKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIFVzZSBhIGBzd2l0Y2hgIHN0YXRlbWVudCB0byB3b3JrIHdpdGggY2xhc3MgY29uc3RydWN0b3JzLiBTZWVcbiAgICAgICAgLy8gaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtZWNtYXNjcmlwdC1mdW5jdGlvbi1vYmplY3RzLWNhbGwtdGhpc2FyZ3VtZW50LWFyZ3VtZW50c2xpc3RcbiAgICAgICAgLy8gZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAgIHN3aXRjaCAoYXJncy5sZW5ndGgpIHtcbiAgICAgICAgICBjYXNlIDA6IHJldHVybiBuZXcgQ3RvcjtcbiAgICAgICAgICBjYXNlIDE6IHJldHVybiBuZXcgQ3RvcihhcmdzWzBdKTtcbiAgICAgICAgICBjYXNlIDI6IHJldHVybiBuZXcgQ3RvcihhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICAgICAgICBjYXNlIDM6IHJldHVybiBuZXcgQ3RvcihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICAgICAgICBjYXNlIDQ6IHJldHVybiBuZXcgQ3RvcihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdLCBhcmdzWzNdKTtcbiAgICAgICAgICBjYXNlIDU6IHJldHVybiBuZXcgQ3RvcihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdLCBhcmdzWzNdLCBhcmdzWzRdKTtcbiAgICAgICAgICBjYXNlIDY6IHJldHVybiBuZXcgQ3RvcihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdLCBhcmdzWzNdLCBhcmdzWzRdLCBhcmdzWzVdKTtcbiAgICAgICAgICBjYXNlIDc6IHJldHVybiBuZXcgQ3RvcihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdLCBhcmdzWzNdLCBhcmdzWzRdLCBhcmdzWzVdLCBhcmdzWzZdKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdGhpc0JpbmRpbmcgPSBiYXNlQ3JlYXRlKEN0b3IucHJvdG90eXBlKSxcbiAgICAgICAgICAgIHJlc3VsdCA9IEN0b3IuYXBwbHkodGhpc0JpbmRpbmcsIGFyZ3MpO1xuXG4gICAgICAgIC8vIE1pbWljIHRoZSBjb25zdHJ1Y3RvcidzIGByZXR1cm5gIGJlaGF2aW9yLlxuICAgICAgICAvLyBTZWUgaHR0cHM6Ly9lczUuZ2l0aHViLmlvLyN4MTMuMi4yIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICAgIHJldHVybiBpc09iamVjdChyZXN1bHQpID8gcmVzdWx0IDogdGhpc0JpbmRpbmc7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHdyYXBzIGBmdW5jYCB0byBlbmFibGUgY3VycnlpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgY3JlYXRlV3JhcGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYXJpdHkgVGhlIGFyaXR5IG9mIGBmdW5jYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB3cmFwcGVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUN1cnJ5KGZ1bmMsIGJpdG1hc2ssIGFyaXR5KSB7XG4gICAgICB2YXIgQ3RvciA9IGNyZWF0ZUN0b3IoZnVuYyk7XG5cbiAgICAgIGZ1bmN0aW9uIHdyYXBwZXIoKSB7XG4gICAgICAgIHZhciBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoLFxuICAgICAgICAgICAgYXJncyA9IEFycmF5KGxlbmd0aCksXG4gICAgICAgICAgICBpbmRleCA9IGxlbmd0aCxcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyID0gZ2V0SG9sZGVyKHdyYXBwZXIpO1xuXG4gICAgICAgIHdoaWxlIChpbmRleC0tKSB7XG4gICAgICAgICAgYXJnc1tpbmRleF0gPSBhcmd1bWVudHNbaW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIHZhciBob2xkZXJzID0gKGxlbmd0aCA8IDMgJiYgYXJnc1swXSAhPT0gcGxhY2Vob2xkZXIgJiYgYXJnc1tsZW5ndGggLSAxXSAhPT0gcGxhY2Vob2xkZXIpXG4gICAgICAgICAgPyBbXVxuICAgICAgICAgIDogcmVwbGFjZUhvbGRlcnMoYXJncywgcGxhY2Vob2xkZXIpO1xuXG4gICAgICAgIGxlbmd0aCAtPSBob2xkZXJzLmxlbmd0aDtcbiAgICAgICAgaWYgKGxlbmd0aCA8IGFyaXR5KSB7XG4gICAgICAgICAgcmV0dXJuIGNyZWF0ZVJlY3VycnkoXG4gICAgICAgICAgICBmdW5jLCBiaXRtYXNrLCBjcmVhdGVIeWJyaWQsIHdyYXBwZXIucGxhY2Vob2xkZXIsIHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGFyZ3MsIGhvbGRlcnMsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBhcml0eSAtIGxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZuID0gKHRoaXMgJiYgdGhpcyAhPT0gcm9vdCAmJiB0aGlzIGluc3RhbmNlb2Ygd3JhcHBlcikgPyBDdG9yIDogZnVuYztcbiAgICAgICAgcmV0dXJuIGFwcGx5KGZuLCB0aGlzLCBhcmdzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB3cmFwcGVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBgXy5maW5kYCBvciBgXy5maW5kTGFzdGAgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZpbmRJbmRleEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGZpbmQgdGhlIGNvbGxlY3Rpb24gaW5kZXguXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZmluZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVGaW5kKGZpbmRJbmRleEZ1bmMpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihjb2xsZWN0aW9uLCBwcmVkaWNhdGUsIGZyb21JbmRleCkge1xuICAgICAgICB2YXIgaXRlcmFibGUgPSBPYmplY3QoY29sbGVjdGlvbik7XG4gICAgICAgIGlmICghaXNBcnJheUxpa2UoY29sbGVjdGlvbikpIHtcbiAgICAgICAgICB2YXIgaXRlcmF0ZWUgPSBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpO1xuICAgICAgICAgIGNvbGxlY3Rpb24gPSBrZXlzKGNvbGxlY3Rpb24pO1xuICAgICAgICAgIHByZWRpY2F0ZSA9IGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gaXRlcmF0ZWUoaXRlcmFibGVba2V5XSwga2V5LCBpdGVyYWJsZSk7IH07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGluZGV4ID0gZmluZEluZGV4RnVuYyhjb2xsZWN0aW9uLCBwcmVkaWNhdGUsIGZyb21JbmRleCk7XG4gICAgICAgIHJldHVybiBpbmRleCA+IC0xID8gaXRlcmFibGVbaXRlcmF0ZWUgPyBjb2xsZWN0aW9uW2luZGV4XSA6IGluZGV4XSA6IHVuZGVmaW5lZDtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBfLmZsb3dgIG9yIGBfLmZsb3dSaWdodGAgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZsb3cgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlRmxvdyhmcm9tUmlnaHQpIHtcbiAgICAgIHJldHVybiBmbGF0UmVzdChmdW5jdGlvbihmdW5jcykge1xuICAgICAgICB2YXIgbGVuZ3RoID0gZnVuY3MubGVuZ3RoLFxuICAgICAgICAgICAgaW5kZXggPSBsZW5ndGgsXG4gICAgICAgICAgICBwcmVyZXEgPSBMb2Rhc2hXcmFwcGVyLnByb3RvdHlwZS50aHJ1O1xuXG4gICAgICAgIGlmIChmcm9tUmlnaHQpIHtcbiAgICAgICAgICBmdW5jcy5yZXZlcnNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICAgICAgICB2YXIgZnVuYyA9IGZ1bmNzW2luZGV4XTtcbiAgICAgICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocHJlcmVxICYmICF3cmFwcGVyICYmIGdldEZ1bmNOYW1lKGZ1bmMpID09ICd3cmFwcGVyJykge1xuICAgICAgICAgICAgdmFyIHdyYXBwZXIgPSBuZXcgTG9kYXNoV3JhcHBlcihbXSwgdHJ1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGluZGV4ID0gd3JhcHBlciA/IGluZGV4IDogbGVuZ3RoO1xuICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIGZ1bmMgPSBmdW5jc1tpbmRleF07XG5cbiAgICAgICAgICB2YXIgZnVuY05hbWUgPSBnZXRGdW5jTmFtZShmdW5jKSxcbiAgICAgICAgICAgICAgZGF0YSA9IGZ1bmNOYW1lID09ICd3cmFwcGVyJyA/IGdldERhdGEoZnVuYykgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgICBpZiAoZGF0YSAmJiBpc0xhemlhYmxlKGRhdGFbMF0pICYmXG4gICAgICAgICAgICAgICAgZGF0YVsxXSA9PSAoV1JBUF9BUllfRkxBRyB8IFdSQVBfQ1VSUllfRkxBRyB8IFdSQVBfUEFSVElBTF9GTEFHIHwgV1JBUF9SRUFSR19GTEFHKSAmJlxuICAgICAgICAgICAgICAgICFkYXRhWzRdLmxlbmd0aCAmJiBkYXRhWzldID09IDFcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICB3cmFwcGVyID0gd3JhcHBlcltnZXRGdW5jTmFtZShkYXRhWzBdKV0uYXBwbHkod3JhcHBlciwgZGF0YVszXSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHdyYXBwZXIgPSAoZnVuYy5sZW5ndGggPT0gMSAmJiBpc0xhemlhYmxlKGZ1bmMpKVxuICAgICAgICAgICAgICA/IHdyYXBwZXJbZnVuY05hbWVdKClcbiAgICAgICAgICAgICAgOiB3cmFwcGVyLnRocnUoZnVuYyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgICAgICAgdmFsdWUgPSBhcmdzWzBdO1xuXG4gICAgICAgICAgaWYgKHdyYXBwZXIgJiYgYXJncy5sZW5ndGggPT0gMSAmJiBpc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHdyYXBwZXIucGxhbnQodmFsdWUpLnZhbHVlKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBpbmRleCA9IDAsXG4gICAgICAgICAgICAgIHJlc3VsdCA9IGxlbmd0aCA/IGZ1bmNzW2luZGV4XS5hcHBseSh0aGlzLCBhcmdzKSA6IHZhbHVlO1xuXG4gICAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGZ1bmNzW2luZGV4XS5jYWxsKHRoaXMsIHJlc3VsdCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCB3cmFwcyBgZnVuY2AgdG8gaW52b2tlIGl0IHdpdGggb3B0aW9uYWwgYHRoaXNgXG4gICAgICogYmluZGluZyBvZiBgdGhpc0FyZ2AsIHBhcnRpYWwgYXBwbGljYXRpb24sIGFuZCBjdXJyeWluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxzdHJpbmd9IGZ1bmMgVGhlIGZ1bmN0aW9uIG9yIG1ldGhvZCBuYW1lIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgY3JlYXRlV3JhcGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwYXJ0aWFsc10gVGhlIGFyZ3VtZW50cyB0byBwcmVwZW5kIHRvIHRob3NlIHByb3ZpZGVkIHRvXG4gICAgICogIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2hvbGRlcnNdIFRoZSBgcGFydGlhbHNgIHBsYWNlaG9sZGVyIGluZGV4ZXMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3BhcnRpYWxzUmlnaHRdIFRoZSBhcmd1bWVudHMgdG8gYXBwZW5kIHRvIHRob3NlIHByb3ZpZGVkXG4gICAgICogIHRvIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2hvbGRlcnNSaWdodF0gVGhlIGBwYXJ0aWFsc1JpZ2h0YCBwbGFjZWhvbGRlciBpbmRleGVzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFthcmdQb3NdIFRoZSBhcmd1bWVudCBwb3NpdGlvbnMgb2YgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyeV0gVGhlIGFyaXR5IGNhcCBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcml0eV0gVGhlIGFyaXR5IG9mIGBmdW5jYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB3cmFwcGVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUh5YnJpZChmdW5jLCBiaXRtYXNrLCB0aGlzQXJnLCBwYXJ0aWFscywgaG9sZGVycywgcGFydGlhbHNSaWdodCwgaG9sZGVyc1JpZ2h0LCBhcmdQb3MsIGFyeSwgYXJpdHkpIHtcbiAgICAgIHZhciBpc0FyeSA9IGJpdG1hc2sgJiBXUkFQX0FSWV9GTEFHLFxuICAgICAgICAgIGlzQmluZCA9IGJpdG1hc2sgJiBXUkFQX0JJTkRfRkxBRyxcbiAgICAgICAgICBpc0JpbmRLZXkgPSBiaXRtYXNrICYgV1JBUF9CSU5EX0tFWV9GTEFHLFxuICAgICAgICAgIGlzQ3VycmllZCA9IGJpdG1hc2sgJiAoV1JBUF9DVVJSWV9GTEFHIHwgV1JBUF9DVVJSWV9SSUdIVF9GTEFHKSxcbiAgICAgICAgICBpc0ZsaXAgPSBiaXRtYXNrICYgV1JBUF9GTElQX0ZMQUcsXG4gICAgICAgICAgQ3RvciA9IGlzQmluZEtleSA/IHVuZGVmaW5lZCA6IGNyZWF0ZUN0b3IoZnVuYyk7XG5cbiAgICAgIGZ1bmN0aW9uIHdyYXBwZXIoKSB7XG4gICAgICAgIHZhciBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoLFxuICAgICAgICAgICAgYXJncyA9IEFycmF5KGxlbmd0aCksXG4gICAgICAgICAgICBpbmRleCA9IGxlbmd0aDtcblxuICAgICAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgICAgIGFyZ3NbaW5kZXhdID0gYXJndW1lbnRzW2luZGV4XTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNDdXJyaWVkKSB7XG4gICAgICAgICAgdmFyIHBsYWNlaG9sZGVyID0gZ2V0SG9sZGVyKHdyYXBwZXIpLFxuICAgICAgICAgICAgICBob2xkZXJzQ291bnQgPSBjb3VudEhvbGRlcnMoYXJncywgcGxhY2Vob2xkZXIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJ0aWFscykge1xuICAgICAgICAgIGFyZ3MgPSBjb21wb3NlQXJncyhhcmdzLCBwYXJ0aWFscywgaG9sZGVycywgaXNDdXJyaWVkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFydGlhbHNSaWdodCkge1xuICAgICAgICAgIGFyZ3MgPSBjb21wb3NlQXJnc1JpZ2h0KGFyZ3MsIHBhcnRpYWxzUmlnaHQsIGhvbGRlcnNSaWdodCwgaXNDdXJyaWVkKTtcbiAgICAgICAgfVxuICAgICAgICBsZW5ndGggLT0gaG9sZGVyc0NvdW50O1xuICAgICAgICBpZiAoaXNDdXJyaWVkICYmIGxlbmd0aCA8IGFyaXR5KSB7XG4gICAgICAgICAgdmFyIG5ld0hvbGRlcnMgPSByZXBsYWNlSG9sZGVycyhhcmdzLCBwbGFjZWhvbGRlcik7XG4gICAgICAgICAgcmV0dXJuIGNyZWF0ZVJlY3VycnkoXG4gICAgICAgICAgICBmdW5jLCBiaXRtYXNrLCBjcmVhdGVIeWJyaWQsIHdyYXBwZXIucGxhY2Vob2xkZXIsIHRoaXNBcmcsXG4gICAgICAgICAgICBhcmdzLCBuZXdIb2xkZXJzLCBhcmdQb3MsIGFyeSwgYXJpdHkgLSBsZW5ndGhcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0aGlzQmluZGluZyA9IGlzQmluZCA/IHRoaXNBcmcgOiB0aGlzLFxuICAgICAgICAgICAgZm4gPSBpc0JpbmRLZXkgPyB0aGlzQmluZGluZ1tmdW5jXSA6IGZ1bmM7XG5cbiAgICAgICAgbGVuZ3RoID0gYXJncy5sZW5ndGg7XG4gICAgICAgIGlmIChhcmdQb3MpIHtcbiAgICAgICAgICBhcmdzID0gcmVvcmRlcihhcmdzLCBhcmdQb3MpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzRmxpcCAmJiBsZW5ndGggPiAxKSB7XG4gICAgICAgICAgYXJncy5yZXZlcnNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQXJ5ICYmIGFyeSA8IGxlbmd0aCkge1xuICAgICAgICAgIGFyZ3MubGVuZ3RoID0gYXJ5O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzICYmIHRoaXMgIT09IHJvb3QgJiYgdGhpcyBpbnN0YW5jZW9mIHdyYXBwZXIpIHtcbiAgICAgICAgICBmbiA9IEN0b3IgfHwgY3JlYXRlQ3Rvcihmbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZuLmFwcGx5KHRoaXNCaW5kaW5nLCBhcmdzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB3cmFwcGVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLmludmVydEJ5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc2V0dGVyIFRoZSBmdW5jdGlvbiB0byBzZXQgYWNjdW11bGF0b3IgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHRvSXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIHRvIHJlc29sdmUgaXRlcmF0ZWVzLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGludmVydGVyIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUludmVydGVyKHNldHRlciwgdG9JdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VJbnZlcnRlcihvYmplY3QsIHNldHRlciwgdG9JdGVyYXRlZShpdGVyYXRlZSksIHt9KTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcGVyZm9ybXMgYSBtYXRoZW1hdGljYWwgb3BlcmF0aW9uIG9uIHR3byB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IG9wZXJhdG9yIFRoZSBmdW5jdGlvbiB0byBwZXJmb3JtIHRoZSBvcGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtkZWZhdWx0VmFsdWVdIFRoZSB2YWx1ZSB1c2VkIGZvciBgdW5kZWZpbmVkYCBhcmd1bWVudHMuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgbWF0aGVtYXRpY2FsIG9wZXJhdGlvbiBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVNYXRoT3BlcmF0aW9uKG9wZXJhdG9yLCBkZWZhdWx0VmFsdWUpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbih2YWx1ZSwgb3RoZXIpIHtcbiAgICAgICAgdmFyIHJlc3VsdDtcbiAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQgJiYgb3RoZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICByZXN1bHQgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3RoZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGlmIChyZXN1bHQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIG90aGVyO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnIHx8IHR5cGVvZiBvdGhlciA9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdmFsdWUgPSBiYXNlVG9TdHJpbmcodmFsdWUpO1xuICAgICAgICAgICAgb3RoZXIgPSBiYXNlVG9TdHJpbmcob3RoZXIpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YWx1ZSA9IGJhc2VUb051bWJlcih2YWx1ZSk7XG4gICAgICAgICAgICBvdGhlciA9IGJhc2VUb051bWJlcihvdGhlcik7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdCA9IG9wZXJhdG9yKHZhbHVlLCBvdGhlcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGxpa2UgYF8ub3ZlcmAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGFycmF5RnVuYyBUaGUgZnVuY3Rpb24gdG8gaXRlcmF0ZSBvdmVyIGl0ZXJhdGVlcy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBvdmVyIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZU92ZXIoYXJyYXlGdW5jKSB7XG4gICAgICByZXR1cm4gZmxhdFJlc3QoZnVuY3Rpb24oaXRlcmF0ZWVzKSB7XG4gICAgICAgIGl0ZXJhdGVlcyA9IGFycmF5TWFwKGl0ZXJhdGVlcywgYmFzZVVuYXJ5KGdldEl0ZXJhdGVlKCkpKTtcbiAgICAgICAgcmV0dXJuIGJhc2VSZXN0KGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgICB2YXIgdGhpc0FyZyA9IHRoaXM7XG4gICAgICAgICAgcmV0dXJuIGFycmF5RnVuYyhpdGVyYXRlZXMsIGZ1bmN0aW9uKGl0ZXJhdGVlKSB7XG4gICAgICAgICAgICByZXR1cm4gYXBwbHkoaXRlcmF0ZWUsIHRoaXNBcmcsIGFyZ3MpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgdGhlIHBhZGRpbmcgZm9yIGBzdHJpbmdgIGJhc2VkIG9uIGBsZW5ndGhgLiBUaGUgYGNoYXJzYCBzdHJpbmdcbiAgICAgKiBpcyB0cnVuY2F0ZWQgaWYgdGhlIG51bWJlciBvZiBjaGFyYWN0ZXJzIGV4Y2VlZHMgYGxlbmd0aGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBsZW5ndGggVGhlIHBhZGRpbmcgbGVuZ3RoLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcnM9JyAnXSBUaGUgc3RyaW5nIHVzZWQgYXMgcGFkZGluZy5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBwYWRkaW5nIGZvciBgc3RyaW5nYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVQYWRkaW5nKGxlbmd0aCwgY2hhcnMpIHtcbiAgICAgIGNoYXJzID0gY2hhcnMgPT09IHVuZGVmaW5lZCA/ICcgJyA6IGJhc2VUb1N0cmluZyhjaGFycyk7XG5cbiAgICAgIHZhciBjaGFyc0xlbmd0aCA9IGNoYXJzLmxlbmd0aDtcbiAgICAgIGlmIChjaGFyc0xlbmd0aCA8IDIpIHtcbiAgICAgICAgcmV0dXJuIGNoYXJzTGVuZ3RoID8gYmFzZVJlcGVhdChjaGFycywgbGVuZ3RoKSA6IGNoYXJzO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IGJhc2VSZXBlYXQoY2hhcnMsIG5hdGl2ZUNlaWwobGVuZ3RoIC8gc3RyaW5nU2l6ZShjaGFycykpKTtcbiAgICAgIHJldHVybiBoYXNVbmljb2RlKGNoYXJzKVxuICAgICAgICA/IGNhc3RTbGljZShzdHJpbmdUb0FycmF5KHJlc3VsdCksIDAsIGxlbmd0aCkuam9pbignJylcbiAgICAgICAgOiByZXN1bHQuc2xpY2UoMCwgbGVuZ3RoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCB3cmFwcyBgZnVuY2AgdG8gaW52b2tlIGl0IHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nXG4gICAgICogb2YgYHRoaXNBcmdgIGFuZCBgcGFydGlhbHNgIHByZXBlbmRlZCB0byB0aGUgYXJndW1lbnRzIGl0IHJlY2VpdmVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGNyZWF0ZVdyYXBgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHsqfSB0aGlzQXJnIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHtBcnJheX0gcGFydGlhbHMgVGhlIGFyZ3VtZW50cyB0byBwcmVwZW5kIHRvIHRob3NlIHByb3ZpZGVkIHRvXG4gICAgICogIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgd3JhcHBlZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVQYXJ0aWFsKGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcsIHBhcnRpYWxzKSB7XG4gICAgICB2YXIgaXNCaW5kID0gYml0bWFzayAmIFdSQVBfQklORF9GTEFHLFxuICAgICAgICAgIEN0b3IgPSBjcmVhdGVDdG9yKGZ1bmMpO1xuXG4gICAgICBmdW5jdGlvbiB3cmFwcGVyKCkge1xuICAgICAgICB2YXIgYXJnc0luZGV4ID0gLTEsXG4gICAgICAgICAgICBhcmdzTGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCxcbiAgICAgICAgICAgIGxlZnRJbmRleCA9IC0xLFxuICAgICAgICAgICAgbGVmdExlbmd0aCA9IHBhcnRpYWxzLmxlbmd0aCxcbiAgICAgICAgICAgIGFyZ3MgPSBBcnJheShsZWZ0TGVuZ3RoICsgYXJnc0xlbmd0aCksXG4gICAgICAgICAgICBmbiA9ICh0aGlzICYmIHRoaXMgIT09IHJvb3QgJiYgdGhpcyBpbnN0YW5jZW9mIHdyYXBwZXIpID8gQ3RvciA6IGZ1bmM7XG5cbiAgICAgICAgd2hpbGUgKCsrbGVmdEluZGV4IDwgbGVmdExlbmd0aCkge1xuICAgICAgICAgIGFyZ3NbbGVmdEluZGV4XSA9IHBhcnRpYWxzW2xlZnRJbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKGFyZ3NMZW5ndGgtLSkge1xuICAgICAgICAgIGFyZ3NbbGVmdEluZGV4KytdID0gYXJndW1lbnRzWysrYXJnc0luZGV4XTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXBwbHkoZm4sIGlzQmluZCA/IHRoaXNBcmcgOiB0aGlzLCBhcmdzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB3cmFwcGVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBgXy5yYW5nZWAgb3IgYF8ucmFuZ2VSaWdodGAgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHJhbmdlIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVJhbmdlKGZyb21SaWdodCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHN0YXJ0LCBlbmQsIHN0ZXApIHtcbiAgICAgICAgaWYgKHN0ZXAgJiYgdHlwZW9mIHN0ZXAgIT0gJ251bWJlcicgJiYgaXNJdGVyYXRlZUNhbGwoc3RhcnQsIGVuZCwgc3RlcCkpIHtcbiAgICAgICAgICBlbmQgPSBzdGVwID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIC8vIEVuc3VyZSB0aGUgc2lnbiBvZiBgLTBgIGlzIHByZXNlcnZlZC5cbiAgICAgICAgc3RhcnQgPSB0b0Zpbml0ZShzdGFydCk7XG4gICAgICAgIGlmIChlbmQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGVuZCA9IHN0YXJ0O1xuICAgICAgICAgIHN0YXJ0ID0gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlbmQgPSB0b0Zpbml0ZShlbmQpO1xuICAgICAgICB9XG4gICAgICAgIHN0ZXAgPSBzdGVwID09PSB1bmRlZmluZWQgPyAoc3RhcnQgPCBlbmQgPyAxIDogLTEpIDogdG9GaW5pdGUoc3RlcCk7XG4gICAgICAgIHJldHVybiBiYXNlUmFuZ2Uoc3RhcnQsIGVuZCwgc3RlcCwgZnJvbVJpZ2h0KTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcGVyZm9ybXMgYSByZWxhdGlvbmFsIG9wZXJhdGlvbiBvbiB0d28gdmFsdWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvcGVyYXRvciBUaGUgZnVuY3Rpb24gdG8gcGVyZm9ybSB0aGUgb3BlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHJlbGF0aW9uYWwgb3BlcmF0aW9uIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVJlbGF0aW9uYWxPcGVyYXRpb24ob3BlcmF0b3IpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbih2YWx1ZSwgb3RoZXIpIHtcbiAgICAgICAgaWYgKCEodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnICYmIHR5cGVvZiBvdGhlciA9PSAnc3RyaW5nJykpIHtcbiAgICAgICAgICB2YWx1ZSA9IHRvTnVtYmVyKHZhbHVlKTtcbiAgICAgICAgICBvdGhlciA9IHRvTnVtYmVyKG90aGVyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3BlcmF0b3IodmFsdWUsIG90aGVyKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgd3JhcHMgYGZ1bmNgIHRvIGNvbnRpbnVlIGN1cnJ5aW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGNyZWF0ZVdyYXBgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gd3JhcEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNyZWF0ZSB0aGUgYGZ1bmNgIHdyYXBwZXIuXG4gICAgICogQHBhcmFtIHsqfSBwbGFjZWhvbGRlciBUaGUgcGxhY2Vob2xkZXIgdmFsdWUuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcGFydGlhbHNdIFRoZSBhcmd1bWVudHMgdG8gcHJlcGVuZCB0byB0aG9zZSBwcm92aWRlZCB0b1xuICAgICAqICB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtob2xkZXJzXSBUaGUgYHBhcnRpYWxzYCBwbGFjZWhvbGRlciBpbmRleGVzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFthcmdQb3NdIFRoZSBhcmd1bWVudCBwb3NpdGlvbnMgb2YgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyeV0gVGhlIGFyaXR5IGNhcCBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcml0eV0gVGhlIGFyaXR5IG9mIGBmdW5jYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB3cmFwcGVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVJlY3VycnkoZnVuYywgYml0bWFzaywgd3JhcEZ1bmMsIHBsYWNlaG9sZGVyLCB0aGlzQXJnLCBwYXJ0aWFscywgaG9sZGVycywgYXJnUG9zLCBhcnksIGFyaXR5KSB7XG4gICAgICB2YXIgaXNDdXJyeSA9IGJpdG1hc2sgJiBXUkFQX0NVUlJZX0ZMQUcsXG4gICAgICAgICAgbmV3SG9sZGVycyA9IGlzQ3VycnkgPyBob2xkZXJzIDogdW5kZWZpbmVkLFxuICAgICAgICAgIG5ld0hvbGRlcnNSaWdodCA9IGlzQ3VycnkgPyB1bmRlZmluZWQgOiBob2xkZXJzLFxuICAgICAgICAgIG5ld1BhcnRpYWxzID0gaXNDdXJyeSA/IHBhcnRpYWxzIDogdW5kZWZpbmVkLFxuICAgICAgICAgIG5ld1BhcnRpYWxzUmlnaHQgPSBpc0N1cnJ5ID8gdW5kZWZpbmVkIDogcGFydGlhbHM7XG5cbiAgICAgIGJpdG1hc2sgfD0gKGlzQ3VycnkgPyBXUkFQX1BBUlRJQUxfRkxBRyA6IFdSQVBfUEFSVElBTF9SSUdIVF9GTEFHKTtcbiAgICAgIGJpdG1hc2sgJj0gfihpc0N1cnJ5ID8gV1JBUF9QQVJUSUFMX1JJR0hUX0ZMQUcgOiBXUkFQX1BBUlRJQUxfRkxBRyk7XG5cbiAgICAgIGlmICghKGJpdG1hc2sgJiBXUkFQX0NVUlJZX0JPVU5EX0ZMQUcpKSB7XG4gICAgICAgIGJpdG1hc2sgJj0gfihXUkFQX0JJTkRfRkxBRyB8IFdSQVBfQklORF9LRVlfRkxBRyk7XG4gICAgICB9XG4gICAgICB2YXIgbmV3RGF0YSA9IFtcbiAgICAgICAgZnVuYywgYml0bWFzaywgdGhpc0FyZywgbmV3UGFydGlhbHMsIG5ld0hvbGRlcnMsIG5ld1BhcnRpYWxzUmlnaHQsXG4gICAgICAgIG5ld0hvbGRlcnNSaWdodCwgYXJnUG9zLCBhcnksIGFyaXR5XG4gICAgICBdO1xuXG4gICAgICB2YXIgcmVzdWx0ID0gd3JhcEZ1bmMuYXBwbHkodW5kZWZpbmVkLCBuZXdEYXRhKTtcbiAgICAgIGlmIChpc0xhemlhYmxlKGZ1bmMpKSB7XG4gICAgICAgIHNldERhdGEocmVzdWx0LCBuZXdEYXRhKTtcbiAgICAgIH1cbiAgICAgIHJlc3VsdC5wbGFjZWhvbGRlciA9IHBsYWNlaG9sZGVyO1xuICAgICAgcmV0dXJuIHNldFdyYXBUb1N0cmluZyhyZXN1bHQsIGZ1bmMsIGJpdG1hc2spO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLnJvdW5kYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZE5hbWUgVGhlIG5hbWUgb2YgdGhlIGBNYXRoYCBtZXRob2QgdG8gdXNlIHdoZW4gcm91bmRpbmcuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcm91bmQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlUm91bmQobWV0aG9kTmFtZSkge1xuICAgICAgdmFyIGZ1bmMgPSBNYXRoW21ldGhvZE5hbWVdO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG51bWJlciwgcHJlY2lzaW9uKSB7XG4gICAgICAgIG51bWJlciA9IHRvTnVtYmVyKG51bWJlcik7XG4gICAgICAgIHByZWNpc2lvbiA9IHByZWNpc2lvbiA9PSBudWxsID8gMCA6IG5hdGl2ZU1pbih0b0ludGVnZXIocHJlY2lzaW9uKSwgMjkyKTtcbiAgICAgICAgaWYgKHByZWNpc2lvbiAmJiBuYXRpdmVJc0Zpbml0ZShudW1iZXIpKSB7XG4gICAgICAgICAgLy8gU2hpZnQgd2l0aCBleHBvbmVudGlhbCBub3RhdGlvbiB0byBhdm9pZCBmbG9hdGluZy1wb2ludCBpc3N1ZXMuXG4gICAgICAgICAgLy8gU2VlIFtNRE5dKGh0dHBzOi8vbWRuLmlvL3JvdW5kI0V4YW1wbGVzKSBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgICAgIHZhciBwYWlyID0gKHRvU3RyaW5nKG51bWJlcikgKyAnZScpLnNwbGl0KCdlJyksXG4gICAgICAgICAgICAgIHZhbHVlID0gZnVuYyhwYWlyWzBdICsgJ2UnICsgKCtwYWlyWzFdICsgcHJlY2lzaW9uKSk7XG5cbiAgICAgICAgICBwYWlyID0gKHRvU3RyaW5nKHZhbHVlKSArICdlJykuc3BsaXQoJ2UnKTtcbiAgICAgICAgICByZXR1cm4gKyhwYWlyWzBdICsgJ2UnICsgKCtwYWlyWzFdIC0gcHJlY2lzaW9uKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZ1bmMobnVtYmVyKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNldCBvYmplY3Qgb2YgYHZhbHVlc2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgdmFsdWVzIHRvIGFkZCB0byB0aGUgc2V0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBzZXQuXG4gICAgICovXG4gICAgdmFyIGNyZWF0ZVNldCA9ICEoU2V0ICYmICgxIC8gc2V0VG9BcnJheShuZXcgU2V0KFssLTBdKSlbMV0pID09IElORklOSVRZKSA/IG5vb3AgOiBmdW5jdGlvbih2YWx1ZXMpIHtcbiAgICAgIHJldHVybiBuZXcgU2V0KHZhbHVlcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBgXy50b1BhaXJzYCBvciBgXy50b1BhaXJzSW5gIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBrZXlzRnVuYyBUaGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBrZXlzIG9mIGEgZ2l2ZW4gb2JqZWN0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHBhaXJzIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVRvUGFpcnMoa2V5c0Z1bmMpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgdmFyIHRhZyA9IGdldFRhZyhvYmplY3QpO1xuICAgICAgICBpZiAodGFnID09IG1hcFRhZykge1xuICAgICAgICAgIHJldHVybiBtYXBUb0FycmF5KG9iamVjdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRhZyA9PSBzZXRUYWcpIHtcbiAgICAgICAgICByZXR1cm4gc2V0VG9QYWlycyhvYmplY3QpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBiYXNlVG9QYWlycyhvYmplY3QsIGtleXNGdW5jKG9iamVjdCkpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBlaXRoZXIgY3VycmllcyBvciBpbnZva2VzIGBmdW5jYCB3aXRoIG9wdGlvbmFsXG4gICAgICogYHRoaXNgIGJpbmRpbmcgYW5kIHBhcnRpYWxseSBhcHBsaWVkIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxzdHJpbmd9IGZ1bmMgVGhlIGZ1bmN0aW9uIG9yIG1ldGhvZCBuYW1lIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuXG4gICAgICogICAgMSAtIGBfLmJpbmRgXG4gICAgICogICAgMiAtIGBfLmJpbmRLZXlgXG4gICAgICogICAgNCAtIGBfLmN1cnJ5YCBvciBgXy5jdXJyeVJpZ2h0YCBvZiBhIGJvdW5kIGZ1bmN0aW9uXG4gICAgICogICAgOCAtIGBfLmN1cnJ5YFxuICAgICAqICAgMTYgLSBgXy5jdXJyeVJpZ2h0YFxuICAgICAqICAgMzIgLSBgXy5wYXJ0aWFsYFxuICAgICAqICAgNjQgLSBgXy5wYXJ0aWFsUmlnaHRgXG4gICAgICogIDEyOCAtIGBfLnJlYXJnYFxuICAgICAqICAyNTYgLSBgXy5hcnlgXG4gICAgICogIDUxMiAtIGBfLmZsaXBgXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcGFydGlhbHNdIFRoZSBhcmd1bWVudHMgdG8gYmUgcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2hvbGRlcnNdIFRoZSBgcGFydGlhbHNgIHBsYWNlaG9sZGVyIGluZGV4ZXMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2FyZ1Bvc10gVGhlIGFyZ3VtZW50IHBvc2l0aW9ucyBvZiB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJ5XSBUaGUgYXJpdHkgY2FwIG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyaXR5XSBUaGUgYXJpdHkgb2YgYGZ1bmNgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHdyYXBwZWQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlV3JhcChmdW5jLCBiaXRtYXNrLCB0aGlzQXJnLCBwYXJ0aWFscywgaG9sZGVycywgYXJnUG9zLCBhcnksIGFyaXR5KSB7XG4gICAgICB2YXIgaXNCaW5kS2V5ID0gYml0bWFzayAmIFdSQVBfQklORF9LRVlfRkxBRztcbiAgICAgIGlmICghaXNCaW5kS2V5ICYmIHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgdmFyIGxlbmd0aCA9IHBhcnRpYWxzID8gcGFydGlhbHMubGVuZ3RoIDogMDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIGJpdG1hc2sgJj0gfihXUkFQX1BBUlRJQUxfRkxBRyB8IFdSQVBfUEFSVElBTF9SSUdIVF9GTEFHKTtcbiAgICAgICAgcGFydGlhbHMgPSBob2xkZXJzID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgYXJ5ID0gYXJ5ID09PSB1bmRlZmluZWQgPyBhcnkgOiBuYXRpdmVNYXgodG9JbnRlZ2VyKGFyeSksIDApO1xuICAgICAgYXJpdHkgPSBhcml0eSA9PT0gdW5kZWZpbmVkID8gYXJpdHkgOiB0b0ludGVnZXIoYXJpdHkpO1xuICAgICAgbGVuZ3RoIC09IGhvbGRlcnMgPyBob2xkZXJzLmxlbmd0aCA6IDA7XG5cbiAgICAgIGlmIChiaXRtYXNrICYgV1JBUF9QQVJUSUFMX1JJR0hUX0ZMQUcpIHtcbiAgICAgICAgdmFyIHBhcnRpYWxzUmlnaHQgPSBwYXJ0aWFscyxcbiAgICAgICAgICAgIGhvbGRlcnNSaWdodCA9IGhvbGRlcnM7XG5cbiAgICAgICAgcGFydGlhbHMgPSBob2xkZXJzID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgdmFyIGRhdGEgPSBpc0JpbmRLZXkgPyB1bmRlZmluZWQgOiBnZXREYXRhKGZ1bmMpO1xuXG4gICAgICB2YXIgbmV3RGF0YSA9IFtcbiAgICAgICAgZnVuYywgYml0bWFzaywgdGhpc0FyZywgcGFydGlhbHMsIGhvbGRlcnMsIHBhcnRpYWxzUmlnaHQsIGhvbGRlcnNSaWdodCxcbiAgICAgICAgYXJnUG9zLCBhcnksIGFyaXR5XG4gICAgICBdO1xuXG4gICAgICBpZiAoZGF0YSkge1xuICAgICAgICBtZXJnZURhdGEobmV3RGF0YSwgZGF0YSk7XG4gICAgICB9XG4gICAgICBmdW5jID0gbmV3RGF0YVswXTtcbiAgICAgIGJpdG1hc2sgPSBuZXdEYXRhWzFdO1xuICAgICAgdGhpc0FyZyA9IG5ld0RhdGFbMl07XG4gICAgICBwYXJ0aWFscyA9IG5ld0RhdGFbM107XG4gICAgICBob2xkZXJzID0gbmV3RGF0YVs0XTtcbiAgICAgIGFyaXR5ID0gbmV3RGF0YVs5XSA9IG5ld0RhdGFbOV0gPT09IHVuZGVmaW5lZFxuICAgICAgICA/IChpc0JpbmRLZXkgPyAwIDogZnVuYy5sZW5ndGgpXG4gICAgICAgIDogbmF0aXZlTWF4KG5ld0RhdGFbOV0gLSBsZW5ndGgsIDApO1xuXG4gICAgICBpZiAoIWFyaXR5ICYmIGJpdG1hc2sgJiAoV1JBUF9DVVJSWV9GTEFHIHwgV1JBUF9DVVJSWV9SSUdIVF9GTEFHKSkge1xuICAgICAgICBiaXRtYXNrICY9IH4oV1JBUF9DVVJSWV9GTEFHIHwgV1JBUF9DVVJSWV9SSUdIVF9GTEFHKTtcbiAgICAgIH1cbiAgICAgIGlmICghYml0bWFzayB8fCBiaXRtYXNrID09IFdSQVBfQklORF9GTEFHKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBjcmVhdGVCaW5kKGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcpO1xuICAgICAgfSBlbHNlIGlmIChiaXRtYXNrID09IFdSQVBfQ1VSUllfRkxBRyB8fCBiaXRtYXNrID09IFdSQVBfQ1VSUllfUklHSFRfRkxBRykge1xuICAgICAgICByZXN1bHQgPSBjcmVhdGVDdXJyeShmdW5jLCBiaXRtYXNrLCBhcml0eSk7XG4gICAgICB9IGVsc2UgaWYgKChiaXRtYXNrID09IFdSQVBfUEFSVElBTF9GTEFHIHx8IGJpdG1hc2sgPT0gKFdSQVBfQklORF9GTEFHIHwgV1JBUF9QQVJUSUFMX0ZMQUcpKSAmJiAhaG9sZGVycy5sZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0ID0gY3JlYXRlUGFydGlhbChmdW5jLCBiaXRtYXNrLCB0aGlzQXJnLCBwYXJ0aWFscyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHQgPSBjcmVhdGVIeWJyaWQuYXBwbHkodW5kZWZpbmVkLCBuZXdEYXRhKTtcbiAgICAgIH1cbiAgICAgIHZhciBzZXR0ZXIgPSBkYXRhID8gYmFzZVNldERhdGEgOiBzZXREYXRhO1xuICAgICAgcmV0dXJuIHNldFdyYXBUb1N0cmluZyhzZXR0ZXIocmVzdWx0LCBuZXdEYXRhKSwgZnVuYywgYml0bWFzayk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXNlZCBieSBgXy5kZWZhdWx0c2AgdG8gY3VzdG9taXplIGl0cyBgXy5hc3NpZ25JbmAgdXNlIHRvIGFzc2lnbiBwcm9wZXJ0aWVzXG4gICAgICogb2Ygc291cmNlIG9iamVjdHMgdG8gdGhlIGRlc3RpbmF0aW9uIG9iamVjdCBmb3IgYWxsIGRlc3RpbmF0aW9uIHByb3BlcnRpZXNcbiAgICAgKiB0aGF0IHJlc29sdmUgdG8gYHVuZGVmaW5lZGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gb2JqVmFsdWUgVGhlIGRlc3RpbmF0aW9uIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7Kn0gc3JjVmFsdWUgVGhlIHNvdXJjZSB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGFzc2lnbi5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBwYXJlbnQgb2JqZWN0IG9mIGBvYmpWYWx1ZWAuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHZhbHVlIHRvIGFzc2lnbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjdXN0b21EZWZhdWx0c0Fzc2lnbkluKG9ialZhbHVlLCBzcmNWYWx1ZSwga2V5LCBvYmplY3QpIHtcbiAgICAgIGlmIChvYmpWYWx1ZSA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgKGVxKG9ialZhbHVlLCBvYmplY3RQcm90b1trZXldKSAmJiAhaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkpKSB7XG4gICAgICAgIHJldHVybiBzcmNWYWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmpWYWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVc2VkIGJ5IGBfLmRlZmF1bHRzRGVlcGAgdG8gY3VzdG9taXplIGl0cyBgXy5tZXJnZWAgdXNlIHRvIG1lcmdlIHNvdXJjZVxuICAgICAqIG9iamVjdHMgaW50byBkZXN0aW5hdGlvbiBvYmplY3RzIHRoYXQgYXJlIHBhc3NlZCB0aHJ1LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IG9ialZhbHVlIFRoZSBkZXN0aW5hdGlvbiB2YWx1ZS5cbiAgICAgKiBAcGFyYW0geyp9IHNyY1ZhbHVlIFRoZSBzb3VyY2UgdmFsdWUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBtZXJnZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBwYXJlbnQgb2JqZWN0IG9mIGBvYmpWYWx1ZWAuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgcGFyZW50IG9iamVjdCBvZiBgc3JjVmFsdWVgLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgc291cmNlIHZhbHVlcyBhbmQgdGhlaXIgbWVyZ2VkXG4gICAgICogIGNvdW50ZXJwYXJ0cy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgdmFsdWUgdG8gYXNzaWduLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGN1c3RvbURlZmF1bHRzTWVyZ2Uob2JqVmFsdWUsIHNyY1ZhbHVlLCBrZXksIG9iamVjdCwgc291cmNlLCBzdGFjaykge1xuICAgICAgaWYgKGlzT2JqZWN0KG9ialZhbHVlKSAmJiBpc09iamVjdChzcmNWYWx1ZSkpIHtcbiAgICAgICAgLy8gUmVjdXJzaXZlbHkgbWVyZ2Ugb2JqZWN0cyBhbmQgYXJyYXlzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgIHN0YWNrLnNldChzcmNWYWx1ZSwgb2JqVmFsdWUpO1xuICAgICAgICBiYXNlTWVyZ2Uob2JqVmFsdWUsIHNyY1ZhbHVlLCB1bmRlZmluZWQsIGN1c3RvbURlZmF1bHRzTWVyZ2UsIHN0YWNrKTtcbiAgICAgICAgc3RhY2tbJ2RlbGV0ZSddKHNyY1ZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmpWYWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVc2VkIGJ5IGBfLm9taXRgIHRvIGN1c3RvbWl6ZSBpdHMgYF8uY2xvbmVEZWVwYCB1c2UgdG8gb25seSBjbG9uZSBwbGFpblxuICAgICAqIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSB1bmNsb25lZCB2YWx1ZSBvciBgdW5kZWZpbmVkYCB0byBkZWZlciBjbG9uaW5nIHRvIGBfLmNsb25lRGVlcGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3VzdG9tT21pdENsb25lKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNQbGFpbk9iamVjdCh2YWx1ZSkgPyB1bmRlZmluZWQgOiB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VJc0VxdWFsRGVlcGAgZm9yIGFycmF5cyB3aXRoIHN1cHBvcnQgZm9yXG4gICAgICogcGFydGlhbCBkZWVwIGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBvdGhlciBUaGUgb3RoZXIgYXJyYXkgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBiYXNlSXNFcXVhbGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZXF1YWxGdW5jIFRoZSBmdW5jdGlvbiB0byBkZXRlcm1pbmUgZXF1aXZhbGVudHMgb2YgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzdGFjayBUcmFja3MgdHJhdmVyc2VkIGBhcnJheWAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGFycmF5cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVxdWFsQXJyYXlzKGFycmF5LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaykge1xuICAgICAgdmFyIGlzUGFydGlhbCA9IGJpdG1hc2sgJiBDT01QQVJFX1BBUlRJQUxfRkxBRyxcbiAgICAgICAgICBhcnJMZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgb3RoTGVuZ3RoID0gb3RoZXIubGVuZ3RoO1xuXG4gICAgICBpZiAoYXJyTGVuZ3RoICE9IG90aExlbmd0aCAmJiAhKGlzUGFydGlhbCAmJiBvdGhMZW5ndGggPiBhcnJMZW5ndGgpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIC8vIENoZWNrIHRoYXQgY3ljbGljIHZhbHVlcyBhcmUgZXF1YWwuXG4gICAgICB2YXIgYXJyU3RhY2tlZCA9IHN0YWNrLmdldChhcnJheSk7XG4gICAgICB2YXIgb3RoU3RhY2tlZCA9IHN0YWNrLmdldChvdGhlcik7XG4gICAgICBpZiAoYXJyU3RhY2tlZCAmJiBvdGhTdGFja2VkKSB7XG4gICAgICAgIHJldHVybiBhcnJTdGFja2VkID09IG90aGVyICYmIG90aFN0YWNrZWQgPT0gYXJyYXk7XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICByZXN1bHQgPSB0cnVlLFxuICAgICAgICAgIHNlZW4gPSAoYml0bWFzayAmIENPTVBBUkVfVU5PUkRFUkVEX0ZMQUcpID8gbmV3IFNldENhY2hlIDogdW5kZWZpbmVkO1xuXG4gICAgICBzdGFjay5zZXQoYXJyYXksIG90aGVyKTtcbiAgICAgIHN0YWNrLnNldChvdGhlciwgYXJyYXkpO1xuXG4gICAgICAvLyBJZ25vcmUgbm9uLWluZGV4IHByb3BlcnRpZXMuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGFyckxlbmd0aCkge1xuICAgICAgICB2YXIgYXJyVmFsdWUgPSBhcnJheVtpbmRleF0sXG4gICAgICAgICAgICBvdGhWYWx1ZSA9IG90aGVyW2luZGV4XTtcblxuICAgICAgICBpZiAoY3VzdG9taXplcikge1xuICAgICAgICAgIHZhciBjb21wYXJlZCA9IGlzUGFydGlhbFxuICAgICAgICAgICAgPyBjdXN0b21pemVyKG90aFZhbHVlLCBhcnJWYWx1ZSwgaW5kZXgsIG90aGVyLCBhcnJheSwgc3RhY2spXG4gICAgICAgICAgICA6IGN1c3RvbWl6ZXIoYXJyVmFsdWUsIG90aFZhbHVlLCBpbmRleCwgYXJyYXksIG90aGVyLCBzdGFjayk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbXBhcmVkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBpZiAoY29tcGFyZWQpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICAvLyBSZWN1cnNpdmVseSBjb21wYXJlIGFycmF5cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgICAgICBpZiAoc2Vlbikge1xuICAgICAgICAgIGlmICghYXJyYXlTb21lKG90aGVyLCBmdW5jdGlvbihvdGhWYWx1ZSwgb3RoSW5kZXgpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWNhY2hlSGFzKHNlZW4sIG90aEluZGV4KSAmJlxuICAgICAgICAgICAgICAgICAgICAoYXJyVmFsdWUgPT09IG90aFZhbHVlIHx8IGVxdWFsRnVuYyhhcnJWYWx1ZSwgb3RoVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKSkpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBzZWVuLnB1c2gob3RoSW5kZXgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSkpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKCEoXG4gICAgICAgICAgICAgIGFyclZhbHVlID09PSBvdGhWYWx1ZSB8fFxuICAgICAgICAgICAgICAgIGVxdWFsRnVuYyhhcnJWYWx1ZSwgb3RoVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKVxuICAgICAgICAgICAgKSkge1xuICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBzdGFja1snZGVsZXRlJ10oYXJyYXkpO1xuICAgICAgc3RhY2tbJ2RlbGV0ZSddKG90aGVyKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlSXNFcXVhbERlZXBgIGZvciBjb21wYXJpbmcgb2JqZWN0cyBvZlxuICAgICAqIHRoZSBzYW1lIGB0b1N0cmluZ1RhZ2AuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBmdW5jdGlvbiBvbmx5IHN1cHBvcnRzIGNvbXBhcmluZyB2YWx1ZXMgd2l0aCB0YWdzIG9mXG4gICAgICogYEJvb2xlYW5gLCBgRGF0ZWAsIGBFcnJvcmAsIGBOdW1iZXJgLCBgUmVnRXhwYCwgb3IgYFN0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvdGhlciBUaGUgb3RoZXIgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRhZyBUaGUgYHRvU3RyaW5nVGFnYCBvZiB0aGUgb2JqZWN0cyB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGJhc2VJc0VxdWFsYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcXVhbEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRldGVybWluZSBlcXVpdmFsZW50cyBvZiB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHN0YWNrIFRyYWNrcyB0cmF2ZXJzZWQgYG9iamVjdGAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG9iamVjdHMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlcXVhbEJ5VGFnKG9iamVjdCwgb3RoZXIsIHRhZywgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaykge1xuICAgICAgc3dpdGNoICh0YWcpIHtcbiAgICAgICAgY2FzZSBkYXRhVmlld1RhZzpcbiAgICAgICAgICBpZiAoKG9iamVjdC5ieXRlTGVuZ3RoICE9IG90aGVyLmJ5dGVMZW5ndGgpIHx8XG4gICAgICAgICAgICAgIChvYmplY3QuYnl0ZU9mZnNldCAhPSBvdGhlci5ieXRlT2Zmc2V0KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvYmplY3QgPSBvYmplY3QuYnVmZmVyO1xuICAgICAgICAgIG90aGVyID0gb3RoZXIuYnVmZmVyO1xuXG4gICAgICAgIGNhc2UgYXJyYXlCdWZmZXJUYWc6XG4gICAgICAgICAgaWYgKChvYmplY3QuYnl0ZUxlbmd0aCAhPSBvdGhlci5ieXRlTGVuZ3RoKSB8fFxuICAgICAgICAgICAgICAhZXF1YWxGdW5jKG5ldyBVaW50OEFycmF5KG9iamVjdCksIG5ldyBVaW50OEFycmF5KG90aGVyKSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICAgICAgY2FzZSBib29sVGFnOlxuICAgICAgICBjYXNlIGRhdGVUYWc6XG4gICAgICAgIGNhc2UgbnVtYmVyVGFnOlxuICAgICAgICAgIC8vIENvZXJjZSBib29sZWFucyB0byBgMWAgb3IgYDBgIGFuZCBkYXRlcyB0byBtaWxsaXNlY29uZHMuXG4gICAgICAgICAgLy8gSW52YWxpZCBkYXRlcyBhcmUgY29lcmNlZCB0byBgTmFOYC5cbiAgICAgICAgICByZXR1cm4gZXEoK29iamVjdCwgK290aGVyKTtcblxuICAgICAgICBjYXNlIGVycm9yVGFnOlxuICAgICAgICAgIHJldHVybiBvYmplY3QubmFtZSA9PSBvdGhlci5uYW1lICYmIG9iamVjdC5tZXNzYWdlID09IG90aGVyLm1lc3NhZ2U7XG5cbiAgICAgICAgY2FzZSByZWdleHBUYWc6XG4gICAgICAgIGNhc2Ugc3RyaW5nVGFnOlxuICAgICAgICAgIC8vIENvZXJjZSByZWdleGVzIHRvIHN0cmluZ3MgYW5kIHRyZWF0IHN0cmluZ3MsIHByaW1pdGl2ZXMgYW5kIG9iamVjdHMsXG4gICAgICAgICAgLy8gYXMgZXF1YWwuIFNlZSBodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtcmVnZXhwLnByb3RvdHlwZS50b3N0cmluZ1xuICAgICAgICAgIC8vIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICAgICAgcmV0dXJuIG9iamVjdCA9PSAob3RoZXIgKyAnJyk7XG5cbiAgICAgICAgY2FzZSBtYXBUYWc6XG4gICAgICAgICAgdmFyIGNvbnZlcnQgPSBtYXBUb0FycmF5O1xuXG4gICAgICAgIGNhc2Ugc2V0VGFnOlxuICAgICAgICAgIHZhciBpc1BhcnRpYWwgPSBiaXRtYXNrICYgQ09NUEFSRV9QQVJUSUFMX0ZMQUc7XG4gICAgICAgICAgY29udmVydCB8fCAoY29udmVydCA9IHNldFRvQXJyYXkpO1xuXG4gICAgICAgICAgaWYgKG9iamVjdC5zaXplICE9IG90aGVyLnNpemUgJiYgIWlzUGFydGlhbCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBBc3N1bWUgY3ljbGljIHZhbHVlcyBhcmUgZXF1YWwuXG4gICAgICAgICAgdmFyIHN0YWNrZWQgPSBzdGFjay5nZXQob2JqZWN0KTtcbiAgICAgICAgICBpZiAoc3RhY2tlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHN0YWNrZWQgPT0gb3RoZXI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJpdG1hc2sgfD0gQ09NUEFSRV9VTk9SREVSRURfRkxBRztcblxuICAgICAgICAgIC8vIFJlY3Vyc2l2ZWx5IGNvbXBhcmUgb2JqZWN0cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgICAgICAgIHN0YWNrLnNldChvYmplY3QsIG90aGVyKTtcbiAgICAgICAgICB2YXIgcmVzdWx0ID0gZXF1YWxBcnJheXMoY29udmVydChvYmplY3QpLCBjb252ZXJ0KG90aGVyKSwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjayk7XG4gICAgICAgICAgc3RhY2tbJ2RlbGV0ZSddKG9iamVjdCk7XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdDtcblxuICAgICAgICBjYXNlIHN5bWJvbFRhZzpcbiAgICAgICAgICBpZiAoc3ltYm9sVmFsdWVPZikge1xuICAgICAgICAgICAgcmV0dXJuIHN5bWJvbFZhbHVlT2YuY2FsbChvYmplY3QpID09IHN5bWJvbFZhbHVlT2YuY2FsbChvdGhlcik7XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxEZWVwYCBmb3Igb2JqZWN0cyB3aXRoIHN1cHBvcnQgZm9yXG4gICAgICogcGFydGlhbCBkZWVwIGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3RoZXIgVGhlIG90aGVyIG9iamVjdCB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGJhc2VJc0VxdWFsYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcXVhbEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRldGVybWluZSBlcXVpdmFsZW50cyBvZiB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHN0YWNrIFRyYWNrcyB0cmF2ZXJzZWQgYG9iamVjdGAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG9iamVjdHMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlcXVhbE9iamVjdHMob2JqZWN0LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaykge1xuICAgICAgdmFyIGlzUGFydGlhbCA9IGJpdG1hc2sgJiBDT01QQVJFX1BBUlRJQUxfRkxBRyxcbiAgICAgICAgICBvYmpQcm9wcyA9IGdldEFsbEtleXMob2JqZWN0KSxcbiAgICAgICAgICBvYmpMZW5ndGggPSBvYmpQcm9wcy5sZW5ndGgsXG4gICAgICAgICAgb3RoUHJvcHMgPSBnZXRBbGxLZXlzKG90aGVyKSxcbiAgICAgICAgICBvdGhMZW5ndGggPSBvdGhQcm9wcy5sZW5ndGg7XG5cbiAgICAgIGlmIChvYmpMZW5ndGggIT0gb3RoTGVuZ3RoICYmICFpc1BhcnRpYWwpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gb2JqTGVuZ3RoO1xuICAgICAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICAgICAgdmFyIGtleSA9IG9ialByb3BzW2luZGV4XTtcbiAgICAgICAgaWYgKCEoaXNQYXJ0aWFsID8ga2V5IGluIG90aGVyIDogaGFzT3duUHJvcGVydHkuY2FsbChvdGhlciwga2V5KSkpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIENoZWNrIHRoYXQgY3ljbGljIHZhbHVlcyBhcmUgZXF1YWwuXG4gICAgICB2YXIgb2JqU3RhY2tlZCA9IHN0YWNrLmdldChvYmplY3QpO1xuICAgICAgdmFyIG90aFN0YWNrZWQgPSBzdGFjay5nZXQob3RoZXIpO1xuICAgICAgaWYgKG9ialN0YWNrZWQgJiYgb3RoU3RhY2tlZCkge1xuICAgICAgICByZXR1cm4gb2JqU3RhY2tlZCA9PSBvdGhlciAmJiBvdGhTdGFja2VkID09IG9iamVjdDtcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSB0cnVlO1xuICAgICAgc3RhY2suc2V0KG9iamVjdCwgb3RoZXIpO1xuICAgICAgc3RhY2suc2V0KG90aGVyLCBvYmplY3QpO1xuXG4gICAgICB2YXIgc2tpcEN0b3IgPSBpc1BhcnRpYWw7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IG9iakxlbmd0aCkge1xuICAgICAgICBrZXkgPSBvYmpQcm9wc1tpbmRleF07XG4gICAgICAgIHZhciBvYmpWYWx1ZSA9IG9iamVjdFtrZXldLFxuICAgICAgICAgICAgb3RoVmFsdWUgPSBvdGhlcltrZXldO1xuXG4gICAgICAgIGlmIChjdXN0b21pemVyKSB7XG4gICAgICAgICAgdmFyIGNvbXBhcmVkID0gaXNQYXJ0aWFsXG4gICAgICAgICAgICA/IGN1c3RvbWl6ZXIob3RoVmFsdWUsIG9ialZhbHVlLCBrZXksIG90aGVyLCBvYmplY3QsIHN0YWNrKVxuICAgICAgICAgICAgOiBjdXN0b21pemVyKG9ialZhbHVlLCBvdGhWYWx1ZSwga2V5LCBvYmplY3QsIG90aGVyLCBzdGFjayk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVjdXJzaXZlbHkgY29tcGFyZSBvYmplY3RzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgIGlmICghKGNvbXBhcmVkID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgPyAob2JqVmFsdWUgPT09IG90aFZhbHVlIHx8IGVxdWFsRnVuYyhvYmpWYWx1ZSwgb3RoVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKSlcbiAgICAgICAgICAgICAgOiBjb21wYXJlZFxuICAgICAgICAgICAgKSkge1xuICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHNraXBDdG9yIHx8IChza2lwQ3RvciA9IGtleSA9PSAnY29uc3RydWN0b3InKTtcbiAgICAgIH1cbiAgICAgIGlmIChyZXN1bHQgJiYgIXNraXBDdG9yKSB7XG4gICAgICAgIHZhciBvYmpDdG9yID0gb2JqZWN0LmNvbnN0cnVjdG9yLFxuICAgICAgICAgICAgb3RoQ3RvciA9IG90aGVyLmNvbnN0cnVjdG9yO1xuXG4gICAgICAgIC8vIE5vbiBgT2JqZWN0YCBvYmplY3QgaW5zdGFuY2VzIHdpdGggZGlmZmVyZW50IGNvbnN0cnVjdG9ycyBhcmUgbm90IGVxdWFsLlxuICAgICAgICBpZiAob2JqQ3RvciAhPSBvdGhDdG9yICYmXG4gICAgICAgICAgICAoJ2NvbnN0cnVjdG9yJyBpbiBvYmplY3QgJiYgJ2NvbnN0cnVjdG9yJyBpbiBvdGhlcikgJiZcbiAgICAgICAgICAgICEodHlwZW9mIG9iakN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBvYmpDdG9yIGluc3RhbmNlb2Ygb2JqQ3RvciAmJlxuICAgICAgICAgICAgICB0eXBlb2Ygb3RoQ3RvciA9PSAnZnVuY3Rpb24nICYmIG90aEN0b3IgaW5zdGFuY2VvZiBvdGhDdG9yKSkge1xuICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBzdGFja1snZGVsZXRlJ10ob2JqZWN0KTtcbiAgICAgIHN0YWNrWydkZWxldGUnXShvdGhlcik7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZVJlc3RgIHdoaWNoIGZsYXR0ZW5zIHRoZSByZXN0IGFycmF5LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhcHBseSBhIHJlc3QgcGFyYW1ldGVyIHRvLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsYXRSZXN0KGZ1bmMpIHtcbiAgICAgIHJldHVybiBzZXRUb1N0cmluZyhvdmVyUmVzdChmdW5jLCB1bmRlZmluZWQsIGZsYXR0ZW4pLCBmdW5jICsgJycpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2Ygb3duIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgYW5kIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzIGFuZCBzeW1ib2xzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldEFsbEtleXMob2JqZWN0KSB7XG4gICAgICByZXR1cm4gYmFzZUdldEFsbEtleXMob2JqZWN0LCBrZXlzLCBnZXRTeW1ib2xzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgYW5kXG4gICAgICogc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMgYW5kIHN5bWJvbHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0QWxsS2V5c0luKG9iamVjdCkge1xuICAgICAgcmV0dXJuIGJhc2VHZXRBbGxLZXlzKG9iamVjdCwga2V5c0luLCBnZXRTeW1ib2xzSW4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgbWV0YWRhdGEgZm9yIGBmdW5jYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1ldGFkYXRhIGZvciBgZnVuY2AuXG4gICAgICovXG4gICAgdmFyIGdldERhdGEgPSAhbWV0YU1hcCA/IG5vb3AgOiBmdW5jdGlvbihmdW5jKSB7XG4gICAgICByZXR1cm4gbWV0YU1hcC5nZXQoZnVuYyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIG5hbWUgb2YgYGZ1bmNgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBmdW5jdGlvbiBuYW1lLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldEZ1bmNOYW1lKGZ1bmMpIHtcbiAgICAgIHZhciByZXN1bHQgPSAoZnVuYy5uYW1lICsgJycpLFxuICAgICAgICAgIGFycmF5ID0gcmVhbE5hbWVzW3Jlc3VsdF0sXG4gICAgICAgICAgbGVuZ3RoID0gaGFzT3duUHJvcGVydHkuY2FsbChyZWFsTmFtZXMsIHJlc3VsdCkgPyBhcnJheS5sZW5ndGggOiAwO1xuXG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgdmFyIGRhdGEgPSBhcnJheVtsZW5ndGhdLFxuICAgICAgICAgICAgb3RoZXJGdW5jID0gZGF0YS5mdW5jO1xuICAgICAgICBpZiAob3RoZXJGdW5jID09IG51bGwgfHwgb3RoZXJGdW5jID09IGZ1bmMpIHtcbiAgICAgICAgICByZXR1cm4gZGF0YS5uYW1lO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGFyZ3VtZW50IHBsYWNlaG9sZGVyIHZhbHVlIGZvciBgZnVuY2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHBsYWNlaG9sZGVyIHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldEhvbGRlcihmdW5jKSB7XG4gICAgICB2YXIgb2JqZWN0ID0gaGFzT3duUHJvcGVydHkuY2FsbChsb2Rhc2gsICdwbGFjZWhvbGRlcicpID8gbG9kYXNoIDogZnVuYztcbiAgICAgIHJldHVybiBvYmplY3QucGxhY2Vob2xkZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgYXBwcm9wcmlhdGUgXCJpdGVyYXRlZVwiIGZ1bmN0aW9uLiBJZiBgXy5pdGVyYXRlZWAgaXMgY3VzdG9taXplZCxcbiAgICAgKiB0aGlzIGZ1bmN0aW9uIHJldHVybnMgdGhlIGN1c3RvbSBtZXRob2QsIG90aGVyd2lzZSBpdCByZXR1cm5zIGBiYXNlSXRlcmF0ZWVgLlxuICAgICAqIElmIGFyZ3VtZW50cyBhcmUgcHJvdmlkZWQsIHRoZSBjaG9zZW4gZnVuY3Rpb24gaXMgaW52b2tlZCB3aXRoIHRoZW0gYW5kXG4gICAgICogaXRzIHJlc3VsdCBpcyByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSBbdmFsdWVdIFRoZSB2YWx1ZSB0byBjb252ZXJ0IHRvIGFuIGl0ZXJhdGVlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJpdHldIFRoZSBhcml0eSBvZiB0aGUgY3JlYXRlZCBpdGVyYXRlZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIGNob3NlbiBmdW5jdGlvbiBvciBpdHMgcmVzdWx0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldEl0ZXJhdGVlKCkge1xuICAgICAgdmFyIHJlc3VsdCA9IGxvZGFzaC5pdGVyYXRlZSB8fCBpdGVyYXRlZTtcbiAgICAgIHJlc3VsdCA9IHJlc3VsdCA9PT0gaXRlcmF0ZWUgPyBiYXNlSXRlcmF0ZWUgOiByZXN1bHQ7XG4gICAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IHJlc3VsdChhcmd1bWVudHNbMF0sIGFyZ3VtZW50c1sxXSkgOiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgZGF0YSBmb3IgYG1hcGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBtYXAgVGhlIG1hcCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSByZWZlcmVuY2Uga2V5LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBtYXAgZGF0YS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRNYXBEYXRhKG1hcCwga2V5KSB7XG4gICAgICB2YXIgZGF0YSA9IG1hcC5fX2RhdGFfXztcbiAgICAgIHJldHVybiBpc0tleWFibGUoa2V5KVxuICAgICAgICA/IGRhdGFbdHlwZW9mIGtleSA9PSAnc3RyaW5nJyA/ICdzdHJpbmcnIDogJ2hhc2gnXVxuICAgICAgICA6IGRhdGEubWFwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHByb3BlcnR5IG5hbWVzLCB2YWx1ZXMsIGFuZCBjb21wYXJlIGZsYWdzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBtYXRjaCBkYXRhIG9mIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldE1hdGNoRGF0YShvYmplY3QpIHtcbiAgICAgIHZhciByZXN1bHQgPSBrZXlzKG9iamVjdCksXG4gICAgICAgICAgbGVuZ3RoID0gcmVzdWx0Lmxlbmd0aDtcblxuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIHZhciBrZXkgPSByZXN1bHRbbGVuZ3RoXSxcbiAgICAgICAgICAgIHZhbHVlID0gb2JqZWN0W2tleV07XG5cbiAgICAgICAgcmVzdWx0W2xlbmd0aF0gPSBba2V5LCB2YWx1ZSwgaXNTdHJpY3RDb21wYXJhYmxlKHZhbHVlKV07XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIG5hdGl2ZSBmdW5jdGlvbiBhdCBga2V5YCBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgbWV0aG9kIHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZnVuY3Rpb24gaWYgaXQncyBuYXRpdmUsIGVsc2UgYHVuZGVmaW5lZGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0TmF0aXZlKG9iamVjdCwga2V5KSB7XG4gICAgICB2YXIgdmFsdWUgPSBnZXRWYWx1ZShvYmplY3QsIGtleSk7XG4gICAgICByZXR1cm4gYmFzZUlzTmF0aXZlKHZhbHVlKSA/IHZhbHVlIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUdldFRhZ2Agd2hpY2ggaWdub3JlcyBgU3ltYm9sLnRvU3RyaW5nVGFnYCB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHJhdyBgdG9TdHJpbmdUYWdgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldFJhd1RhZyh2YWx1ZSkge1xuICAgICAgdmFyIGlzT3duID0gaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgc3ltVG9TdHJpbmdUYWcpLFxuICAgICAgICAgIHRhZyA9IHZhbHVlW3N5bVRvU3RyaW5nVGFnXTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgdmFsdWVbc3ltVG9TdHJpbmdUYWddID0gdW5kZWZpbmVkO1xuICAgICAgICB2YXIgdW5tYXNrZWQgPSB0cnVlO1xuICAgICAgfSBjYXRjaCAoZSkge31cblxuICAgICAgdmFyIHJlc3VsdCA9IG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICAgICAgaWYgKHVubWFza2VkKSB7XG4gICAgICAgIGlmIChpc093bikge1xuICAgICAgICAgIHZhbHVlW3N5bVRvU3RyaW5nVGFnXSA9IHRhZztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkZWxldGUgdmFsdWVbc3ltVG9TdHJpbmdUYWddO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBlbnVtZXJhYmxlIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHN5bWJvbHMuXG4gICAgICovXG4gICAgdmFyIGdldFN5bWJvbHMgPSAhbmF0aXZlR2V0U3ltYm9scyA/IHN0dWJBcnJheSA6IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgaWYgKG9iamVjdCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuICAgICAgcmV0dXJuIGFycmF5RmlsdGVyKG5hdGl2ZUdldFN5bWJvbHMob2JqZWN0KSwgZnVuY3Rpb24oc3ltYm9sKSB7XG4gICAgICAgIHJldHVybiBwcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKG9iamVjdCwgc3ltYm9sKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHN5bWJvbHMuXG4gICAgICovXG4gICAgdmFyIGdldFN5bWJvbHNJbiA9ICFuYXRpdmVHZXRTeW1ib2xzID8gc3R1YkFycmF5IDogZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICB3aGlsZSAob2JqZWN0KSB7XG4gICAgICAgIGFycmF5UHVzaChyZXN1bHQsIGdldFN5bWJvbHMob2JqZWN0KSk7XG4gICAgICAgIG9iamVjdCA9IGdldFByb3RvdHlwZShvYmplY3QpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgYHRvU3RyaW5nVGFnYCBvZiBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBgdG9TdHJpbmdUYWdgLlxuICAgICAqL1xuICAgIHZhciBnZXRUYWcgPSBiYXNlR2V0VGFnO1xuXG4gICAgLy8gRmFsbGJhY2sgZm9yIGRhdGEgdmlld3MsIG1hcHMsIHNldHMsIGFuZCB3ZWFrIG1hcHMgaW4gSUUgMTEgYW5kIHByb21pc2VzIGluIE5vZGUuanMgPCA2LlxuICAgIGlmICgoRGF0YVZpZXcgJiYgZ2V0VGFnKG5ldyBEYXRhVmlldyhuZXcgQXJyYXlCdWZmZXIoMSkpKSAhPSBkYXRhVmlld1RhZykgfHxcbiAgICAgICAgKE1hcCAmJiBnZXRUYWcobmV3IE1hcCkgIT0gbWFwVGFnKSB8fFxuICAgICAgICAoUHJvbWlzZSAmJiBnZXRUYWcoUHJvbWlzZS5yZXNvbHZlKCkpICE9IHByb21pc2VUYWcpIHx8XG4gICAgICAgIChTZXQgJiYgZ2V0VGFnKG5ldyBTZXQpICE9IHNldFRhZykgfHxcbiAgICAgICAgKFdlYWtNYXAgJiYgZ2V0VGFnKG5ldyBXZWFrTWFwKSAhPSB3ZWFrTWFwVGFnKSkge1xuICAgICAgZ2V0VGFnID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGJhc2VHZXRUYWcodmFsdWUpLFxuICAgICAgICAgICAgQ3RvciA9IHJlc3VsdCA9PSBvYmplY3RUYWcgPyB2YWx1ZS5jb25zdHJ1Y3RvciA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGN0b3JTdHJpbmcgPSBDdG9yID8gdG9Tb3VyY2UoQ3RvcikgOiAnJztcblxuICAgICAgICBpZiAoY3RvclN0cmluZykge1xuICAgICAgICAgIHN3aXRjaCAoY3RvclN0cmluZykge1xuICAgICAgICAgICAgY2FzZSBkYXRhVmlld0N0b3JTdHJpbmc6IHJldHVybiBkYXRhVmlld1RhZztcbiAgICAgICAgICAgIGNhc2UgbWFwQ3RvclN0cmluZzogcmV0dXJuIG1hcFRhZztcbiAgICAgICAgICAgIGNhc2UgcHJvbWlzZUN0b3JTdHJpbmc6IHJldHVybiBwcm9taXNlVGFnO1xuICAgICAgICAgICAgY2FzZSBzZXRDdG9yU3RyaW5nOiByZXR1cm4gc2V0VGFnO1xuICAgICAgICAgICAgY2FzZSB3ZWFrTWFwQ3RvclN0cmluZzogcmV0dXJuIHdlYWtNYXBUYWc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHZpZXcsIGFwcGx5aW5nIGFueSBgdHJhbnNmb3Jtc2AgdG8gdGhlIGBzdGFydGAgYW5kIGBlbmRgIHBvc2l0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0IFRoZSBzdGFydCBvZiB0aGUgdmlldy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIFRoZSBlbmQgb2YgdGhlIHZpZXcuXG4gICAgICogQHBhcmFtIHtBcnJheX0gdHJhbnNmb3JtcyBUaGUgdHJhbnNmb3JtYXRpb25zIHRvIGFwcGx5IHRvIHRoZSB2aWV3LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIGBzdGFydGAgYW5kIGBlbmRgXG4gICAgICogIHBvc2l0aW9ucyBvZiB0aGUgdmlldy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRWaWV3KHN0YXJ0LCBlbmQsIHRyYW5zZm9ybXMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHRyYW5zZm9ybXMubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgZGF0YSA9IHRyYW5zZm9ybXNbaW5kZXhdLFxuICAgICAgICAgICAgc2l6ZSA9IGRhdGEuc2l6ZTtcblxuICAgICAgICBzd2l0Y2ggKGRhdGEudHlwZSkge1xuICAgICAgICAgIGNhc2UgJ2Ryb3AnOiAgICAgIHN0YXJ0ICs9IHNpemU7IGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ2Ryb3BSaWdodCc6IGVuZCAtPSBzaXplOyBicmVhaztcbiAgICAgICAgICBjYXNlICd0YWtlJzogICAgICBlbmQgPSBuYXRpdmVNaW4oZW5kLCBzdGFydCArIHNpemUpOyBicmVhaztcbiAgICAgICAgICBjYXNlICd0YWtlUmlnaHQnOiBzdGFydCA9IG5hdGl2ZU1heChzdGFydCwgZW5kIC0gc2l6ZSk7IGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4geyAnc3RhcnQnOiBzdGFydCwgJ2VuZCc6IGVuZCB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4dHJhY3RzIHdyYXBwZXIgZGV0YWlscyBmcm9tIHRoZSBgc291cmNlYCBib2R5IGNvbW1lbnQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzb3VyY2UgVGhlIHNvdXJjZSB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgd3JhcHBlciBkZXRhaWxzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldFdyYXBEZXRhaWxzKHNvdXJjZSkge1xuICAgICAgdmFyIG1hdGNoID0gc291cmNlLm1hdGNoKHJlV3JhcERldGFpbHMpO1xuICAgICAgcmV0dXJuIG1hdGNoID8gbWF0Y2hbMV0uc3BsaXQocmVTcGxpdERldGFpbHMpIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBwYXRoYCBleGlzdHMgb24gYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCB0byBjaGVjay5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYXNGdW5jIFRoZSBmdW5jdGlvbiB0byBjaGVjayBwcm9wZXJ0aWVzLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgcGF0aGAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzUGF0aChvYmplY3QsIHBhdGgsIGhhc0Z1bmMpIHtcbiAgICAgIHBhdGggPSBjYXN0UGF0aChwYXRoLCBvYmplY3QpO1xuXG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBwYXRoLmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGtleSA9IHRvS2V5KHBhdGhbaW5kZXhdKTtcbiAgICAgICAgaWYgKCEocmVzdWx0ID0gb2JqZWN0ICE9IG51bGwgJiYgaGFzRnVuYyhvYmplY3QsIGtleSkpKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgb2JqZWN0ID0gb2JqZWN0W2tleV07XG4gICAgICB9XG4gICAgICBpZiAocmVzdWx0IHx8ICsraW5kZXggIT0gbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICBsZW5ndGggPSBvYmplY3QgPT0gbnVsbCA/IDAgOiBvYmplY3QubGVuZ3RoO1xuICAgICAgcmV0dXJuICEhbGVuZ3RoICYmIGlzTGVuZ3RoKGxlbmd0aCkgJiYgaXNJbmRleChrZXksIGxlbmd0aCkgJiZcbiAgICAgICAgKGlzQXJyYXkob2JqZWN0KSB8fCBpc0FyZ3VtZW50cyhvYmplY3QpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyBhbiBhcnJheSBjbG9uZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgaW5pdGlhbGl6ZWQgY2xvbmUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5pdENsb25lQXJyYXkoYXJyYXkpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0gbmV3IGFycmF5LmNvbnN0cnVjdG9yKGxlbmd0aCk7XG5cbiAgICAgIC8vIEFkZCBwcm9wZXJ0aWVzIGFzc2lnbmVkIGJ5IGBSZWdFeHAjZXhlY2AuXG4gICAgICBpZiAobGVuZ3RoICYmIHR5cGVvZiBhcnJheVswXSA9PSAnc3RyaW5nJyAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGFycmF5LCAnaW5kZXgnKSkge1xuICAgICAgICByZXN1bHQuaW5kZXggPSBhcnJheS5pbmRleDtcbiAgICAgICAgcmVzdWx0LmlucHV0ID0gYXJyYXkuaW5wdXQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIGFuIG9iamVjdCBjbG9uZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGluaXRpYWxpemVkIGNsb25lLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluaXRDbG9uZU9iamVjdChvYmplY3QpIHtcbiAgICAgIHJldHVybiAodHlwZW9mIG9iamVjdC5jb25zdHJ1Y3RvciA9PSAnZnVuY3Rpb24nICYmICFpc1Byb3RvdHlwZShvYmplY3QpKVxuICAgICAgICA/IGJhc2VDcmVhdGUoZ2V0UHJvdG90eXBlKG9iamVjdCkpXG4gICAgICAgIDoge307XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgYW4gb2JqZWN0IGNsb25lIGJhc2VkIG9uIGl0cyBgdG9TdHJpbmdUYWdgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgZnVuY3Rpb24gb25seSBzdXBwb3J0cyBjbG9uaW5nIHZhbHVlcyB3aXRoIHRhZ3Mgb2ZcbiAgICAgKiBgQm9vbGVhbmAsIGBEYXRlYCwgYEVycm9yYCwgYE1hcGAsIGBOdW1iZXJgLCBgUmVnRXhwYCwgYFNldGAsIG9yIGBTdHJpbmdgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY2xvbmUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRhZyBUaGUgYHRvU3RyaW5nVGFnYCBvZiB0aGUgb2JqZWN0IHRvIGNsb25lLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzRGVlcF0gU3BlY2lmeSBhIGRlZXAgY2xvbmUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgaW5pdGlhbGl6ZWQgY2xvbmUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5pdENsb25lQnlUYWcob2JqZWN0LCB0YWcsIGlzRGVlcCkge1xuICAgICAgdmFyIEN0b3IgPSBvYmplY3QuY29uc3RydWN0b3I7XG4gICAgICBzd2l0Y2ggKHRhZykge1xuICAgICAgICBjYXNlIGFycmF5QnVmZmVyVGFnOlxuICAgICAgICAgIHJldHVybiBjbG9uZUFycmF5QnVmZmVyKG9iamVjdCk7XG5cbiAgICAgICAgY2FzZSBib29sVGFnOlxuICAgICAgICBjYXNlIGRhdGVUYWc6XG4gICAgICAgICAgcmV0dXJuIG5ldyBDdG9yKCtvYmplY3QpO1xuXG4gICAgICAgIGNhc2UgZGF0YVZpZXdUYWc6XG4gICAgICAgICAgcmV0dXJuIGNsb25lRGF0YVZpZXcob2JqZWN0LCBpc0RlZXApO1xuXG4gICAgICAgIGNhc2UgZmxvYXQzMlRhZzogY2FzZSBmbG9hdDY0VGFnOlxuICAgICAgICBjYXNlIGludDhUYWc6IGNhc2UgaW50MTZUYWc6IGNhc2UgaW50MzJUYWc6XG4gICAgICAgIGNhc2UgdWludDhUYWc6IGNhc2UgdWludDhDbGFtcGVkVGFnOiBjYXNlIHVpbnQxNlRhZzogY2FzZSB1aW50MzJUYWc6XG4gICAgICAgICAgcmV0dXJuIGNsb25lVHlwZWRBcnJheShvYmplY3QsIGlzRGVlcCk7XG5cbiAgICAgICAgY2FzZSBtYXBUYWc6XG4gICAgICAgICAgcmV0dXJuIG5ldyBDdG9yO1xuXG4gICAgICAgIGNhc2UgbnVtYmVyVGFnOlxuICAgICAgICBjYXNlIHN0cmluZ1RhZzpcbiAgICAgICAgICByZXR1cm4gbmV3IEN0b3Iob2JqZWN0KTtcblxuICAgICAgICBjYXNlIHJlZ2V4cFRhZzpcbiAgICAgICAgICByZXR1cm4gY2xvbmVSZWdFeHAob2JqZWN0KTtcblxuICAgICAgICBjYXNlIHNldFRhZzpcbiAgICAgICAgICByZXR1cm4gbmV3IEN0b3I7XG5cbiAgICAgICAgY2FzZSBzeW1ib2xUYWc6XG4gICAgICAgICAgcmV0dXJuIGNsb25lU3ltYm9sKG9iamVjdCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5zZXJ0cyB3cmFwcGVyIGBkZXRhaWxzYCBpbiBhIGNvbW1lbnQgYXQgdGhlIHRvcCBvZiB0aGUgYHNvdXJjZWAgYm9keS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNvdXJjZSBUaGUgc291cmNlIHRvIG1vZGlmeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IGRldGFpbHMgVGhlIGRldGFpbHMgdG8gaW5zZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIG1vZGlmaWVkIHNvdXJjZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbnNlcnRXcmFwRGV0YWlscyhzb3VyY2UsIGRldGFpbHMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBkZXRhaWxzLmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2U7XG4gICAgICB9XG4gICAgICB2YXIgbGFzdEluZGV4ID0gbGVuZ3RoIC0gMTtcbiAgICAgIGRldGFpbHNbbGFzdEluZGV4XSA9IChsZW5ndGggPiAxID8gJyYgJyA6ICcnKSArIGRldGFpbHNbbGFzdEluZGV4XTtcbiAgICAgIGRldGFpbHMgPSBkZXRhaWxzLmpvaW4obGVuZ3RoID4gMiA/ICcsICcgOiAnICcpO1xuICAgICAgcmV0dXJuIHNvdXJjZS5yZXBsYWNlKHJlV3JhcENvbW1lbnQsICd7XFxuLyogW3dyYXBwZWQgd2l0aCAnICsgZGV0YWlscyArICddICovXFxuJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBmbGF0dGVuYWJsZSBgYXJndW1lbnRzYCBvYmplY3Qgb3IgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGZsYXR0ZW5hYmxlLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNGbGF0dGVuYWJsZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzQXJyYXkodmFsdWUpIHx8IGlzQXJndW1lbnRzKHZhbHVlKSB8fFxuICAgICAgICAhIShzcHJlYWRhYmxlU3ltYm9sICYmIHZhbHVlICYmIHZhbHVlW3NwcmVhZGFibGVTeW1ib2xdKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGFycmF5LWxpa2UgaW5kZXguXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoPU1BWF9TQUZFX0lOVEVHRVJdIFRoZSB1cHBlciBib3VuZHMgb2YgYSB2YWxpZCBpbmRleC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGluZGV4LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNJbmRleCh2YWx1ZSwgbGVuZ3RoKSB7XG4gICAgICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgICAgIGxlbmd0aCA9IGxlbmd0aCA9PSBudWxsID8gTUFYX1NBRkVfSU5URUdFUiA6IGxlbmd0aDtcblxuICAgICAgcmV0dXJuICEhbGVuZ3RoICYmXG4gICAgICAgICh0eXBlID09ICdudW1iZXInIHx8XG4gICAgICAgICAgKHR5cGUgIT0gJ3N5bWJvbCcgJiYgcmVJc1VpbnQudGVzdCh2YWx1ZSkpKSAmJlxuICAgICAgICAgICAgKHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPCBsZW5ndGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiB0aGUgZ2l2ZW4gYXJndW1lbnRzIGFyZSBmcm9tIGFuIGl0ZXJhdGVlIGNhbGwuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHBvdGVudGlhbCBpdGVyYXRlZSB2YWx1ZSBhcmd1bWVudC5cbiAgICAgKiBAcGFyYW0geyp9IGluZGV4IFRoZSBwb3RlbnRpYWwgaXRlcmF0ZWUgaW5kZXggb3Iga2V5IGFyZ3VtZW50LlxuICAgICAqIEBwYXJhbSB7Kn0gb2JqZWN0IFRoZSBwb3RlbnRpYWwgaXRlcmF0ZWUgb2JqZWN0IGFyZ3VtZW50LlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYXJndW1lbnRzIGFyZSBmcm9tIGFuIGl0ZXJhdGVlIGNhbGwsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0l0ZXJhdGVlQ2FsbCh2YWx1ZSwgaW5kZXgsIG9iamVjdCkge1xuICAgICAgaWYgKCFpc09iamVjdChvYmplY3QpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciB0eXBlID0gdHlwZW9mIGluZGV4O1xuICAgICAgaWYgKHR5cGUgPT0gJ251bWJlcidcbiAgICAgICAgICAgID8gKGlzQXJyYXlMaWtlKG9iamVjdCkgJiYgaXNJbmRleChpbmRleCwgb2JqZWN0Lmxlbmd0aCkpXG4gICAgICAgICAgICA6ICh0eXBlID09ICdzdHJpbmcnICYmIGluZGV4IGluIG9iamVjdClcbiAgICAgICAgICApIHtcbiAgICAgICAgcmV0dXJuIGVxKG9iamVjdFtpbmRleF0sIHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHByb3BlcnR5IG5hbWUgYW5kIG5vdCBhIHByb3BlcnR5IHBhdGguXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5IGtleXMgb24uXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwcm9wZXJ0eSBuYW1lLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNLZXkodmFsdWUsIG9iamVjdCkge1xuICAgICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICAgICAgaWYgKHR5cGUgPT0gJ251bWJlcicgfHwgdHlwZSA9PSAnc3ltYm9sJyB8fCB0eXBlID09ICdib29sZWFuJyB8fFxuICAgICAgICAgIHZhbHVlID09IG51bGwgfHwgaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlSXNQbGFpblByb3AudGVzdCh2YWx1ZSkgfHwgIXJlSXNEZWVwUHJvcC50ZXN0KHZhbHVlKSB8fFxuICAgICAgICAob2JqZWN0ICE9IG51bGwgJiYgdmFsdWUgaW4gT2JqZWN0KG9iamVjdCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHN1aXRhYmxlIGZvciB1c2UgYXMgdW5pcXVlIG9iamVjdCBrZXkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIHN1aXRhYmxlLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNLZXlhYmxlKHZhbHVlKSB7XG4gICAgICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgICAgIHJldHVybiAodHlwZSA9PSAnc3RyaW5nJyB8fCB0eXBlID09ICdudW1iZXInIHx8IHR5cGUgPT0gJ3N5bWJvbCcgfHwgdHlwZSA9PSAnYm9vbGVhbicpXG4gICAgICAgID8gKHZhbHVlICE9PSAnX19wcm90b19fJylcbiAgICAgICAgOiAodmFsdWUgPT09IG51bGwpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgZnVuY2AgaGFzIGEgbGF6eSBjb3VudGVycGFydC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBmdW5jYCBoYXMgYSBsYXp5IGNvdW50ZXJwYXJ0LFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNMYXppYWJsZShmdW5jKSB7XG4gICAgICB2YXIgZnVuY05hbWUgPSBnZXRGdW5jTmFtZShmdW5jKSxcbiAgICAgICAgICBvdGhlciA9IGxvZGFzaFtmdW5jTmFtZV07XG5cbiAgICAgIGlmICh0eXBlb2Ygb3RoZXIgIT0gJ2Z1bmN0aW9uJyB8fCAhKGZ1bmNOYW1lIGluIExhenlXcmFwcGVyLnByb3RvdHlwZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKGZ1bmMgPT09IG90aGVyKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgdmFyIGRhdGEgPSBnZXREYXRhKG90aGVyKTtcbiAgICAgIHJldHVybiAhIWRhdGEgJiYgZnVuYyA9PT0gZGF0YVswXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYGZ1bmNgIGhhcyBpdHMgc291cmNlIG1hc2tlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBmdW5jYCBpcyBtYXNrZWQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc01hc2tlZChmdW5jKSB7XG4gICAgICByZXR1cm4gISFtYXNrU3JjS2V5ICYmIChtYXNrU3JjS2V5IGluIGZ1bmMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgZnVuY2AgaXMgY2FwYWJsZSBvZiBiZWluZyBtYXNrZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgZnVuY2AgaXMgbWFza2FibGUsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICB2YXIgaXNNYXNrYWJsZSA9IGNvcmVKc0RhdGEgPyBpc0Z1bmN0aW9uIDogc3R1YkZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGlrZWx5IGEgcHJvdG90eXBlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwcm90b3R5cGUsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1Byb3RvdHlwZSh2YWx1ZSkge1xuICAgICAgdmFyIEN0b3IgPSB2YWx1ZSAmJiB2YWx1ZS5jb25zdHJ1Y3RvcixcbiAgICAgICAgICBwcm90byA9ICh0eXBlb2YgQ3RvciA9PSAnZnVuY3Rpb24nICYmIEN0b3IucHJvdG90eXBlKSB8fCBvYmplY3RQcm90bztcblxuICAgICAgcmV0dXJuIHZhbHVlID09PSBwcm90bztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBzdWl0YWJsZSBmb3Igc3RyaWN0IGVxdWFsaXR5IGNvbXBhcmlzb25zLCBpLmUuIGA9PT1gLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpZiBzdWl0YWJsZSBmb3Igc3RyaWN0XG4gICAgICogIGVxdWFsaXR5IGNvbXBhcmlzb25zLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNTdHJpY3RDb21wYXJhYmxlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT09IHZhbHVlICYmICFpc09iamVjdCh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBtYXRjaGVzUHJvcGVydHlgIGZvciBzb3VyY2UgdmFsdWVzIHN1aXRhYmxlXG4gICAgICogZm9yIHN0cmljdCBlcXVhbGl0eSBjb21wYXJpc29ucywgaS5lLiBgPT09YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHBhcmFtIHsqfSBzcmNWYWx1ZSBUaGUgdmFsdWUgdG8gbWF0Y2guXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXRjaGVzU3RyaWN0Q29tcGFyYWJsZShrZXksIHNyY1ZhbHVlKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIGlmIChvYmplY3QgPT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JqZWN0W2tleV0gPT09IHNyY1ZhbHVlICYmXG4gICAgICAgICAgKHNyY1ZhbHVlICE9PSB1bmRlZmluZWQgfHwgKGtleSBpbiBPYmplY3Qob2JqZWN0KSkpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8ubWVtb2l6ZWAgd2hpY2ggY2xlYXJzIHRoZSBtZW1vaXplZCBmdW5jdGlvbidzXG4gICAgICogY2FjaGUgd2hlbiBpdCBleGNlZWRzIGBNQVhfTUVNT0laRV9TSVpFYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gaGF2ZSBpdHMgb3V0cHV0IG1lbW9pemVkLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IG1lbW9pemVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1lbW9pemVDYXBwZWQoZnVuYykge1xuICAgICAgdmFyIHJlc3VsdCA9IG1lbW9pemUoZnVuYywgZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgIGlmIChjYWNoZS5zaXplID09PSBNQVhfTUVNT0laRV9TSVpFKSB7XG4gICAgICAgICAgY2FjaGUuY2xlYXIoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ga2V5O1xuICAgICAgfSk7XG5cbiAgICAgIHZhciBjYWNoZSA9IHJlc3VsdC5jYWNoZTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTWVyZ2VzIHRoZSBmdW5jdGlvbiBtZXRhZGF0YSBvZiBgc291cmNlYCBpbnRvIGBkYXRhYC5cbiAgICAgKlxuICAgICAqIE1lcmdpbmcgbWV0YWRhdGEgcmVkdWNlcyB0aGUgbnVtYmVyIG9mIHdyYXBwZXJzIHVzZWQgdG8gaW52b2tlIGEgZnVuY3Rpb24uXG4gICAgICogVGhpcyBpcyBwb3NzaWJsZSBiZWNhdXNlIG1ldGhvZHMgbGlrZSBgXy5iaW5kYCwgYF8uY3VycnlgLCBhbmQgYF8ucGFydGlhbGBcbiAgICAgKiBtYXkgYmUgYXBwbGllZCByZWdhcmRsZXNzIG9mIGV4ZWN1dGlvbiBvcmRlci4gTWV0aG9kcyBsaWtlIGBfLmFyeWAgYW5kXG4gICAgICogYF8ucmVhcmdgIG1vZGlmeSBmdW5jdGlvbiBhcmd1bWVudHMsIG1ha2luZyB0aGUgb3JkZXIgaW4gd2hpY2ggdGhleSBhcmVcbiAgICAgKiBleGVjdXRlZCBpbXBvcnRhbnQsIHByZXZlbnRpbmcgdGhlIG1lcmdpbmcgb2YgbWV0YWRhdGEuIEhvd2V2ZXIsIHdlIG1ha2VcbiAgICAgKiBhbiBleGNlcHRpb24gZm9yIGEgc2FmZSBjb21iaW5lZCBjYXNlIHdoZXJlIGN1cnJpZWQgZnVuY3Rpb25zIGhhdmUgYF8uYXJ5YFxuICAgICAqIGFuZCBvciBgXy5yZWFyZ2AgYXBwbGllZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gZGF0YSBUaGUgZGVzdGluYXRpb24gbWV0YWRhdGEuXG4gICAgICogQHBhcmFtIHtBcnJheX0gc291cmNlIFRoZSBzb3VyY2UgbWV0YWRhdGEuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBkYXRhYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtZXJnZURhdGEoZGF0YSwgc291cmNlKSB7XG4gICAgICB2YXIgYml0bWFzayA9IGRhdGFbMV0sXG4gICAgICAgICAgc3JjQml0bWFzayA9IHNvdXJjZVsxXSxcbiAgICAgICAgICBuZXdCaXRtYXNrID0gYml0bWFzayB8IHNyY0JpdG1hc2ssXG4gICAgICAgICAgaXNDb21tb24gPSBuZXdCaXRtYXNrIDwgKFdSQVBfQklORF9GTEFHIHwgV1JBUF9CSU5EX0tFWV9GTEFHIHwgV1JBUF9BUllfRkxBRyk7XG5cbiAgICAgIHZhciBpc0NvbWJvID1cbiAgICAgICAgKChzcmNCaXRtYXNrID09IFdSQVBfQVJZX0ZMQUcpICYmIChiaXRtYXNrID09IFdSQVBfQ1VSUllfRkxBRykpIHx8XG4gICAgICAgICgoc3JjQml0bWFzayA9PSBXUkFQX0FSWV9GTEFHKSAmJiAoYml0bWFzayA9PSBXUkFQX1JFQVJHX0ZMQUcpICYmIChkYXRhWzddLmxlbmd0aCA8PSBzb3VyY2VbOF0pKSB8fFxuICAgICAgICAoKHNyY0JpdG1hc2sgPT0gKFdSQVBfQVJZX0ZMQUcgfCBXUkFQX1JFQVJHX0ZMQUcpKSAmJiAoc291cmNlWzddLmxlbmd0aCA8PSBzb3VyY2VbOF0pICYmIChiaXRtYXNrID09IFdSQVBfQ1VSUllfRkxBRykpO1xuXG4gICAgICAvLyBFeGl0IGVhcmx5IGlmIG1ldGFkYXRhIGNhbid0IGJlIG1lcmdlZC5cbiAgICAgIGlmICghKGlzQ29tbW9uIHx8IGlzQ29tYm8pKSB7XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgfVxuICAgICAgLy8gVXNlIHNvdXJjZSBgdGhpc0FyZ2AgaWYgYXZhaWxhYmxlLlxuICAgICAgaWYgKHNyY0JpdG1hc2sgJiBXUkFQX0JJTkRfRkxBRykge1xuICAgICAgICBkYXRhWzJdID0gc291cmNlWzJdO1xuICAgICAgICAvLyBTZXQgd2hlbiBjdXJyeWluZyBhIGJvdW5kIGZ1bmN0aW9uLlxuICAgICAgICBuZXdCaXRtYXNrIHw9IGJpdG1hc2sgJiBXUkFQX0JJTkRfRkxBRyA/IDAgOiBXUkFQX0NVUlJZX0JPVU5EX0ZMQUc7XG4gICAgICB9XG4gICAgICAvLyBDb21wb3NlIHBhcnRpYWwgYXJndW1lbnRzLlxuICAgICAgdmFyIHZhbHVlID0gc291cmNlWzNdO1xuICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIHZhciBwYXJ0aWFscyA9IGRhdGFbM107XG4gICAgICAgIGRhdGFbM10gPSBwYXJ0aWFscyA/IGNvbXBvc2VBcmdzKHBhcnRpYWxzLCB2YWx1ZSwgc291cmNlWzRdKSA6IHZhbHVlO1xuICAgICAgICBkYXRhWzRdID0gcGFydGlhbHMgPyByZXBsYWNlSG9sZGVycyhkYXRhWzNdLCBQTEFDRUhPTERFUikgOiBzb3VyY2VbNF07XG4gICAgICB9XG4gICAgICAvLyBDb21wb3NlIHBhcnRpYWwgcmlnaHQgYXJndW1lbnRzLlxuICAgICAgdmFsdWUgPSBzb3VyY2VbNV07XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgcGFydGlhbHMgPSBkYXRhWzVdO1xuICAgICAgICBkYXRhWzVdID0gcGFydGlhbHMgPyBjb21wb3NlQXJnc1JpZ2h0KHBhcnRpYWxzLCB2YWx1ZSwgc291cmNlWzZdKSA6IHZhbHVlO1xuICAgICAgICBkYXRhWzZdID0gcGFydGlhbHMgPyByZXBsYWNlSG9sZGVycyhkYXRhWzVdLCBQTEFDRUhPTERFUikgOiBzb3VyY2VbNl07XG4gICAgICB9XG4gICAgICAvLyBVc2Ugc291cmNlIGBhcmdQb3NgIGlmIGF2YWlsYWJsZS5cbiAgICAgIHZhbHVlID0gc291cmNlWzddO1xuICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIGRhdGFbN10gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIC8vIFVzZSBzb3VyY2UgYGFyeWAgaWYgaXQncyBzbWFsbGVyLlxuICAgICAgaWYgKHNyY0JpdG1hc2sgJiBXUkFQX0FSWV9GTEFHKSB7XG4gICAgICAgIGRhdGFbOF0gPSBkYXRhWzhdID09IG51bGwgPyBzb3VyY2VbOF0gOiBuYXRpdmVNaW4oZGF0YVs4XSwgc291cmNlWzhdKTtcbiAgICAgIH1cbiAgICAgIC8vIFVzZSBzb3VyY2UgYGFyaXR5YCBpZiBvbmUgaXMgbm90IHByb3ZpZGVkLlxuICAgICAgaWYgKGRhdGFbOV0gPT0gbnVsbCkge1xuICAgICAgICBkYXRhWzldID0gc291cmNlWzldO1xuICAgICAgfVxuICAgICAgLy8gVXNlIHNvdXJjZSBgZnVuY2AgYW5kIG1lcmdlIGJpdG1hc2tzLlxuICAgICAgZGF0YVswXSA9IHNvdXJjZVswXTtcbiAgICAgIGRhdGFbMV0gPSBuZXdCaXRtYXNrO1xuXG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGxpa2VcbiAgICAgKiBbYE9iamVjdC5rZXlzYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LmtleXMpXG4gICAgICogZXhjZXB0IHRoYXQgaXQgaW5jbHVkZXMgaW5oZXJpdGVkIGVudW1lcmFibGUgcHJvcGVydGllcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbmF0aXZlS2V5c0luKG9iamVjdCkge1xuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgaWYgKG9iamVjdCAhPSBudWxsKSB7XG4gICAgICAgIGZvciAodmFyIGtleSBpbiBPYmplY3Qob2JqZWN0KSkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZyB1c2luZyBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY29udmVydGVkIHN0cmluZy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvYmplY3RUb1N0cmluZyh2YWx1ZSkge1xuICAgICAgcmV0dXJuIG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZVJlc3RgIHdoaWNoIHRyYW5zZm9ybXMgdGhlIHJlc3QgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IGEgcmVzdCBwYXJhbWV0ZXIgdG8uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD1mdW5jLmxlbmd0aC0xXSBUaGUgc3RhcnQgcG9zaXRpb24gb2YgdGhlIHJlc3QgcGFyYW1ldGVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHRyYW5zZm9ybSBUaGUgcmVzdCBhcnJheSB0cmFuc2Zvcm0uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gb3ZlclJlc3QoZnVuYywgc3RhcnQsIHRyYW5zZm9ybSkge1xuICAgICAgc3RhcnQgPSBuYXRpdmVNYXgoc3RhcnQgPT09IHVuZGVmaW5lZCA/IChmdW5jLmxlbmd0aCAtIDEpIDogc3RhcnQsIDApO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgICAgIGluZGV4ID0gLTEsXG4gICAgICAgICAgICBsZW5ndGggPSBuYXRpdmVNYXgoYXJncy5sZW5ndGggLSBzdGFydCwgMCksXG4gICAgICAgICAgICBhcnJheSA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICBhcnJheVtpbmRleF0gPSBhcmdzW3N0YXJ0ICsgaW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIGluZGV4ID0gLTE7XG4gICAgICAgIHZhciBvdGhlckFyZ3MgPSBBcnJheShzdGFydCArIDEpO1xuICAgICAgICB3aGlsZSAoKytpbmRleCA8IHN0YXJ0KSB7XG4gICAgICAgICAgb3RoZXJBcmdzW2luZGV4XSA9IGFyZ3NbaW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIG90aGVyQXJnc1tzdGFydF0gPSB0cmFuc2Zvcm0oYXJyYXkpO1xuICAgICAgICByZXR1cm4gYXBwbHkoZnVuYywgdGhpcywgb3RoZXJBcmdzKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgcGFyZW50IHZhbHVlIGF0IGBwYXRoYCBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHBhdGggVGhlIHBhdGggdG8gZ2V0IHRoZSBwYXJlbnQgdmFsdWUgb2YuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHBhcmVudCB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwYXJlbnQob2JqZWN0LCBwYXRoKSB7XG4gICAgICByZXR1cm4gcGF0aC5sZW5ndGggPCAyID8gb2JqZWN0IDogYmFzZUdldChvYmplY3QsIGJhc2VTbGljZShwYXRoLCAwLCAtMSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlb3JkZXIgYGFycmF5YCBhY2NvcmRpbmcgdG8gdGhlIHNwZWNpZmllZCBpbmRleGVzIHdoZXJlIHRoZSBlbGVtZW50IGF0XG4gICAgICogdGhlIGZpcnN0IGluZGV4IGlzIGFzc2lnbmVkIGFzIHRoZSBmaXJzdCBlbGVtZW50LCB0aGUgZWxlbWVudCBhdFxuICAgICAqIHRoZSBzZWNvbmQgaW5kZXggaXMgYXNzaWduZWQgYXMgdGhlIHNlY29uZCBlbGVtZW50LCBhbmQgc28gb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byByZW9yZGVyLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGluZGV4ZXMgVGhlIGFycmFuZ2VkIGFycmF5IGluZGV4ZXMuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVvcmRlcihhcnJheSwgaW5kZXhlcykge1xuICAgICAgdmFyIGFyckxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICBsZW5ndGggPSBuYXRpdmVNaW4oaW5kZXhlcy5sZW5ndGgsIGFyckxlbmd0aCksXG4gICAgICAgICAgb2xkQXJyYXkgPSBjb3B5QXJyYXkoYXJyYXkpO1xuXG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgdmFyIGluZGV4ID0gaW5kZXhlc1tsZW5ndGhdO1xuICAgICAgICBhcnJheVtsZW5ndGhdID0gaXNJbmRleChpbmRleCwgYXJyTGVuZ3RoKSA/IG9sZEFycmF5W2luZGV4XSA6IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSB2YWx1ZSBhdCBga2V5YCwgdW5sZXNzIGBrZXlgIGlzIFwiX19wcm90b19fXCIgb3IgXCJjb25zdHJ1Y3RvclwiLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHByb3BlcnR5IHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNhZmVHZXQob2JqZWN0LCBrZXkpIHtcbiAgICAgIGlmIChrZXkgPT09ICdjb25zdHJ1Y3RvcicgJiYgdHlwZW9mIG9iamVjdFtrZXldID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGtleSA9PSAnX19wcm90b19fJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBvYmplY3Rba2V5XTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIG1ldGFkYXRhIGZvciBgZnVuY2AuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogSWYgdGhpcyBmdW5jdGlvbiBiZWNvbWVzIGhvdCwgaS5lLiBpcyBpbnZva2VkIGEgbG90IGluIGEgc2hvcnRcbiAgICAgKiBwZXJpb2Qgb2YgdGltZSwgaXQgd2lsbCB0cmlwIGl0cyBicmVha2VyIGFuZCB0cmFuc2l0aW9uIHRvIGFuIGlkZW50aXR5XG4gICAgICogZnVuY3Rpb24gdG8gYXZvaWQgZ2FyYmFnZSBjb2xsZWN0aW9uIHBhdXNlcyBpbiBWOC4gU2VlXG4gICAgICogW1Y4IGlzc3VlIDIwNzBdKGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTIwNzApXG4gICAgICogZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXNzb2NpYXRlIG1ldGFkYXRhIHdpdGguXG4gICAgICogQHBhcmFtIHsqfSBkYXRhIFRoZSBtZXRhZGF0YS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGZ1bmNgLlxuICAgICAqL1xuICAgIHZhciBzZXREYXRhID0gc2hvcnRPdXQoYmFzZVNldERhdGEpO1xuXG4gICAgLyoqXG4gICAgICogQSBzaW1wbGUgd3JhcHBlciBhcm91bmQgdGhlIGdsb2JhbCBbYHNldFRpbWVvdXRgXShodHRwczovL21kbi5pby9zZXRUaW1lb3V0KS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gZGVsYXkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdhaXQgVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gZGVsYXkgaW52b2NhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfE9iamVjdH0gUmV0dXJucyB0aGUgdGltZXIgaWQgb3IgdGltZW91dCBvYmplY3QuXG4gICAgICovXG4gICAgdmFyIHNldFRpbWVvdXQgPSBjdHhTZXRUaW1lb3V0IHx8IGZ1bmN0aW9uKGZ1bmMsIHdhaXQpIHtcbiAgICAgIHJldHVybiByb290LnNldFRpbWVvdXQoZnVuYywgd2FpdCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGB0b1N0cmluZ2AgbWV0aG9kIG9mIGBmdW5jYCB0byByZXR1cm4gYHN0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzdHJpbmcgVGhlIGB0b1N0cmluZ2AgcmVzdWx0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgZnVuY2AuXG4gICAgICovXG4gICAgdmFyIHNldFRvU3RyaW5nID0gc2hvcnRPdXQoYmFzZVNldFRvU3RyaW5nKTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGB0b1N0cmluZ2AgbWV0aG9kIG9mIGB3cmFwcGVyYCB0byBtaW1pYyB0aGUgc291cmNlIG9mIGByZWZlcmVuY2VgXG4gICAgICogd2l0aCB3cmFwcGVyIGRldGFpbHMgaW4gYSBjb21tZW50IGF0IHRoZSB0b3Agb2YgdGhlIHNvdXJjZSBib2R5LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB3cmFwcGVyIFRoZSBmdW5jdGlvbiB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcmVmZXJlbmNlIFRoZSByZWZlcmVuY2UgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgY3JlYXRlV3JhcGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYHdyYXBwZXJgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNldFdyYXBUb1N0cmluZyh3cmFwcGVyLCByZWZlcmVuY2UsIGJpdG1hc2spIHtcbiAgICAgIHZhciBzb3VyY2UgPSAocmVmZXJlbmNlICsgJycpO1xuICAgICAgcmV0dXJuIHNldFRvU3RyaW5nKHdyYXBwZXIsIGluc2VydFdyYXBEZXRhaWxzKHNvdXJjZSwgdXBkYXRlV3JhcERldGFpbHMoZ2V0V3JhcERldGFpbHMoc291cmNlKSwgYml0bWFzaykpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCdsbCBzaG9ydCBvdXQgYW5kIGludm9rZSBgaWRlbnRpdHlgIGluc3RlYWRcbiAgICAgKiBvZiBgZnVuY2Agd2hlbiBpdCdzIGNhbGxlZCBgSE9UX0NPVU5UYCBvciBtb3JlIHRpbWVzIGluIGBIT1RfU1BBTmBcbiAgICAgKiBtaWxsaXNlY29uZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHJlc3RyaWN0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNob3J0YWJsZSBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzaG9ydE91dChmdW5jKSB7XG4gICAgICB2YXIgY291bnQgPSAwLFxuICAgICAgICAgIGxhc3RDYWxsZWQgPSAwO1xuXG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBzdGFtcCA9IG5hdGl2ZU5vdygpLFxuICAgICAgICAgICAgcmVtYWluaW5nID0gSE9UX1NQQU4gLSAoc3RhbXAgLSBsYXN0Q2FsbGVkKTtcblxuICAgICAgICBsYXN0Q2FsbGVkID0gc3RhbXA7XG4gICAgICAgIGlmIChyZW1haW5pbmcgPiAwKSB7XG4gICAgICAgICAgaWYgKCsrY291bnQgPj0gSE9UX0NPVU5UKSB7XG4gICAgICAgICAgICByZXR1cm4gYXJndW1lbnRzWzBdO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb3VudCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkodW5kZWZpbmVkLCBhcmd1bWVudHMpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uc2h1ZmZsZWAgd2hpY2ggbXV0YXRlcyBhbmQgc2V0cyB0aGUgc2l6ZSBvZiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2h1ZmZsZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NpemU9YXJyYXkubGVuZ3RoXSBUaGUgc2l6ZSBvZiBgYXJyYXlgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNodWZmbGVTZWxmKGFycmF5LCBzaXplKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgbGFzdEluZGV4ID0gbGVuZ3RoIC0gMTtcblxuICAgICAgc2l6ZSA9IHNpemUgPT09IHVuZGVmaW5lZCA/IGxlbmd0aCA6IHNpemU7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IHNpemUpIHtcbiAgICAgICAgdmFyIHJhbmQgPSBiYXNlUmFuZG9tKGluZGV4LCBsYXN0SW5kZXgpLFxuICAgICAgICAgICAgdmFsdWUgPSBhcnJheVtyYW5kXTtcblxuICAgICAgICBhcnJheVtyYW5kXSA9IGFycmF5W2luZGV4XTtcbiAgICAgICAgYXJyYXlbaW5kZXhdID0gdmFsdWU7XG4gICAgICB9XG4gICAgICBhcnJheS5sZW5ndGggPSBzaXplO1xuICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgIHRvIGEgcHJvcGVydHkgcGF0aCBhcnJheS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICAgICAqL1xuICAgIHZhciBzdHJpbmdUb1BhdGggPSBtZW1vaXplQ2FwcGVkKGZ1bmN0aW9uKHN0cmluZykge1xuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgaWYgKHN0cmluZy5jaGFyQ29kZUF0KDApID09PSA0NiAvKiAuICovKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKCcnKTtcbiAgICAgIH1cbiAgICAgIHN0cmluZy5yZXBsYWNlKHJlUHJvcE5hbWUsIGZ1bmN0aW9uKG1hdGNoLCBudW1iZXIsIHF1b3RlLCBzdWJTdHJpbmcpIHtcbiAgICAgICAgcmVzdWx0LnB1c2gocXVvdGUgPyBzdWJTdHJpbmcucmVwbGFjZShyZUVzY2FwZUNoYXIsICckMScpIDogKG51bWJlciB8fCBtYXRjaCkpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZyBrZXkgaWYgaXQncyBub3QgYSBzdHJpbmcgb3Igc3ltYm9sLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd8c3ltYm9sfSBSZXR1cm5zIHRoZSBrZXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9LZXkodmFsdWUpIHtcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycgfHwgaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSAodmFsdWUgKyAnJyk7XG4gICAgICByZXR1cm4gKHJlc3VsdCA9PSAnMCcgJiYgKDEgLyB2YWx1ZSkgPT0gLUlORklOSVRZKSA/ICctMCcgOiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYGZ1bmNgIHRvIGl0cyBzb3VyY2UgY29kZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzb3VyY2UgY29kZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b1NvdXJjZShmdW5jKSB7XG4gICAgICBpZiAoZnVuYyAhPSBudWxsKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmNUb1N0cmluZy5jYWxsKGZ1bmMpO1xuICAgICAgICB9IGNhdGNoIChlKSB7fVxuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiAoZnVuYyArICcnKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgIH1cbiAgICAgIHJldHVybiAnJztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHdyYXBwZXIgYGRldGFpbHNgIGJhc2VkIG9uIGBiaXRtYXNrYCBmbGFncy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybnMge0FycmF5fSBkZXRhaWxzIFRoZSBkZXRhaWxzIHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBjcmVhdGVXcmFwYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgZGV0YWlsc2AuXG4gICAgICovXG4gICAgZnVuY3Rpb24gdXBkYXRlV3JhcERldGFpbHMoZGV0YWlscywgYml0bWFzaykge1xuICAgICAgYXJyYXlFYWNoKHdyYXBGbGFncywgZnVuY3Rpb24ocGFpcikge1xuICAgICAgICB2YXIgdmFsdWUgPSAnXy4nICsgcGFpclswXTtcbiAgICAgICAgaWYgKChiaXRtYXNrICYgcGFpclsxXSkgJiYgIWFycmF5SW5jbHVkZXMoZGV0YWlscywgdmFsdWUpKSB7XG4gICAgICAgICAgZGV0YWlscy5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gZGV0YWlscy5zb3J0KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIGB3cmFwcGVyYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHdyYXBwZXIgVGhlIHdyYXBwZXIgdG8gY2xvbmUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2xvbmVkIHdyYXBwZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlckNsb25lKHdyYXBwZXIpIHtcbiAgICAgIGlmICh3cmFwcGVyIGluc3RhbmNlb2YgTGF6eVdyYXBwZXIpIHtcbiAgICAgICAgcmV0dXJuIHdyYXBwZXIuY2xvbmUoKTtcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSBuZXcgTG9kYXNoV3JhcHBlcih3cmFwcGVyLl9fd3JhcHBlZF9fLCB3cmFwcGVyLl9fY2hhaW5fXyk7XG4gICAgICByZXN1bHQuX19hY3Rpb25zX18gPSBjb3B5QXJyYXkod3JhcHBlci5fX2FjdGlvbnNfXyk7XG4gICAgICByZXN1bHQuX19pbmRleF9fICA9IHdyYXBwZXIuX19pbmRleF9fO1xuICAgICAgcmVzdWx0Ll9fdmFsdWVzX18gPSB3cmFwcGVyLl9fdmFsdWVzX187XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgZWxlbWVudHMgc3BsaXQgaW50byBncm91cHMgdGhlIGxlbmd0aCBvZiBgc2l6ZWAuXG4gICAgICogSWYgYGFycmF5YCBjYW4ndCBiZSBzcGxpdCBldmVubHksIHRoZSBmaW5hbCBjaHVuayB3aWxsIGJlIHRoZSByZW1haW5pbmdcbiAgICAgKiBlbGVtZW50cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBwcm9jZXNzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2l6ZT0xXSBUaGUgbGVuZ3RoIG9mIGVhY2ggY2h1bmtcbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGNodW5rcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5jaHVuayhbJ2EnLCAnYicsICdjJywgJ2QnXSwgMik7XG4gICAgICogLy8gPT4gW1snYScsICdiJ10sIFsnYycsICdkJ11dXG4gICAgICpcbiAgICAgKiBfLmNodW5rKFsnYScsICdiJywgJ2MnLCAnZCddLCAzKTtcbiAgICAgKiAvLyA9PiBbWydhJywgJ2InLCAnYyddLCBbJ2QnXV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjaHVuayhhcnJheSwgc2l6ZSwgZ3VhcmQpIHtcbiAgICAgIGlmICgoZ3VhcmQgPyBpc0l0ZXJhdGVlQ2FsbChhcnJheSwgc2l6ZSwgZ3VhcmQpIDogc2l6ZSA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICBzaXplID0gMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNpemUgPSBuYXRpdmVNYXgodG9JbnRlZ2VyKHNpemUpLCAwKTtcbiAgICAgIH1cbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoIHx8IHNpemUgPCAxKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IDAsXG4gICAgICAgICAgcmVzSW5kZXggPSAwLFxuICAgICAgICAgIHJlc3VsdCA9IEFycmF5KG5hdGl2ZUNlaWwobGVuZ3RoIC8gc2l6ZSkpO1xuXG4gICAgICB3aGlsZSAoaW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0W3Jlc0luZGV4KytdID0gYmFzZVNsaWNlKGFycmF5LCBpbmRleCwgKGluZGV4ICs9IHNpemUpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSB3aXRoIGFsbCBmYWxzZXkgdmFsdWVzIHJlbW92ZWQuIFRoZSB2YWx1ZXMgYGZhbHNlYCwgYG51bGxgLFxuICAgICAqIGAwYCwgYFwiXCJgLCBgdW5kZWZpbmVkYCwgYW5kIGBOYU5gIGFyZSBmYWxzZXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gY29tcGFjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY29tcGFjdChbMCwgMSwgZmFsc2UsIDIsICcnLCAzXSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29tcGFjdChhcnJheSkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgcmVzSW5kZXggPSAwLFxuICAgICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgIHJlc3VsdFtyZXNJbmRleCsrXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgYXJyYXkgY29uY2F0ZW5hdGluZyBgYXJyYXlgIHdpdGggYW55IGFkZGl0aW9uYWwgYXJyYXlzXG4gICAgICogYW5kL29yIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBjb25jYXRlbmF0ZS5cbiAgICAgKiBAcGFyYW0gey4uLip9IFt2YWx1ZXNdIFRoZSB2YWx1ZXMgdG8gY29uY2F0ZW5hdGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgY29uY2F0ZW5hdGVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMV07XG4gICAgICogdmFyIG90aGVyID0gXy5jb25jYXQoYXJyYXksIDIsIFszXSwgW1s0XV0pO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2cob3RoZXIpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzLCBbNF1dXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWzFdXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29uY2F0KCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICB2YXIgYXJncyA9IEFycmF5KGxlbmd0aCAtIDEpLFxuICAgICAgICAgIGFycmF5ID0gYXJndW1lbnRzWzBdLFxuICAgICAgICAgIGluZGV4ID0gbGVuZ3RoO1xuXG4gICAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgICBhcmdzW2luZGV4IC0gMV0gPSBhcmd1bWVudHNbaW5kZXhdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5UHVzaChpc0FycmF5KGFycmF5KSA/IGNvcHlBcnJheShhcnJheSkgOiBbYXJyYXldLCBiYXNlRmxhdHRlbihhcmdzLCAxKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBgYXJyYXlgIHZhbHVlcyBub3QgaW5jbHVkZWQgaW4gdGhlIG90aGVyIGdpdmVuIGFycmF5c1xuICAgICAqIHVzaW5nIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLiBUaGUgb3JkZXIgYW5kIHJlZmVyZW5jZXMgb2YgcmVzdWx0IHZhbHVlcyBhcmVcbiAgICAgKiBkZXRlcm1pbmVkIGJ5IHRoZSBmaXJzdCBhcnJheS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8ucHVsbEFsbGAsIHRoaXMgbWV0aG9kIHJldHVybnMgYSBuZXcgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbdmFsdWVzXSBUaGUgdmFsdWVzIHRvIGV4Y2x1ZGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBzZWUgXy53aXRob3V0LCBfLnhvclxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRpZmZlcmVuY2UoWzIsIDFdLCBbMiwgM10pO1xuICAgICAqIC8vID0+IFsxXVxuICAgICAqL1xuICAgIHZhciBkaWZmZXJlbmNlID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXksIHZhbHVlcykge1xuICAgICAgcmV0dXJuIGlzQXJyYXlMaWtlT2JqZWN0KGFycmF5KVxuICAgICAgICA/IGJhc2VEaWZmZXJlbmNlKGFycmF5LCBiYXNlRmxhdHRlbih2YWx1ZXMsIDEsIGlzQXJyYXlMaWtlT2JqZWN0LCB0cnVlKSlcbiAgICAgICAgOiBbXTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZGlmZmVyZW5jZWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IG9mIGBhcnJheWAgYW5kIGB2YWx1ZXNgIHRvIGdlbmVyYXRlIHRoZSBjcml0ZXJpb25cbiAgICAgKiBieSB3aGljaCB0aGV5J3JlIGNvbXBhcmVkLiBUaGUgb3JkZXIgYW5kIHJlZmVyZW5jZXMgb2YgcmVzdWx0IHZhbHVlcyBhcmVcbiAgICAgKiBkZXRlcm1pbmVkIGJ5IHRoZSBmaXJzdCBhcnJheS4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6XG4gICAgICogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8ucHVsbEFsbEJ5YCwgdGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFt2YWx1ZXNdIFRoZSB2YWx1ZXMgdG8gZXhjbHVkZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRpZmZlcmVuY2VCeShbMi4xLCAxLjJdLCBbMi4zLCAzLjRdLCBNYXRoLmZsb29yKTtcbiAgICAgKiAvLyA9PiBbMS4yXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5kaWZmZXJlbmNlQnkoW3sgJ3gnOiAyIH0sIHsgJ3gnOiAxIH1dLCBbeyAneCc6IDEgfV0sICd4Jyk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAyIH1dXG4gICAgICovXG4gICAgdmFyIGRpZmZlcmVuY2VCeSA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5LCB2YWx1ZXMpIHtcbiAgICAgIHZhciBpdGVyYXRlZSA9IGxhc3QodmFsdWVzKTtcbiAgICAgIGlmIChpc0FycmF5TGlrZU9iamVjdChpdGVyYXRlZSkpIHtcbiAgICAgICAgaXRlcmF0ZWUgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXNBcnJheUxpa2VPYmplY3QoYXJyYXkpXG4gICAgICAgID8gYmFzZURpZmZlcmVuY2UoYXJyYXksIGJhc2VGbGF0dGVuKHZhbHVlcywgMSwgaXNBcnJheUxpa2VPYmplY3QsIHRydWUpLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpXG4gICAgICAgIDogW107XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmRpZmZlcmVuY2VgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGNvbXBhcmF0b3JgXG4gICAgICogd2hpY2ggaXMgaW52b2tlZCB0byBjb21wYXJlIGVsZW1lbnRzIG9mIGBhcnJheWAgdG8gYHZhbHVlc2AuIFRoZSBvcmRlciBhbmRcbiAgICAgKiByZWZlcmVuY2VzIG9mIHJlc3VsdCB2YWx1ZXMgYXJlIGRldGVybWluZWQgYnkgdGhlIGZpcnN0IGFycmF5LiBUaGUgY29tcGFyYXRvclxuICAgICAqIGlzIGludm9rZWQgd2l0aCB0d28gYXJndW1lbnRzOiAoYXJyVmFsLCBvdGhWYWwpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5wdWxsQWxsV2l0aGAsIHRoaXMgbWV0aG9kIHJldHVybnMgYSBuZXcgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbdmFsdWVzXSBUaGUgdmFsdWVzIHRvIGV4Y2x1ZGUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiAyLCAneSc6IDEgfV07XG4gICAgICpcbiAgICAgKiBfLmRpZmZlcmVuY2VXaXRoKG9iamVjdHMsIFt7ICd4JzogMSwgJ3knOiAyIH1dLCBfLmlzRXF1YWwpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMiwgJ3knOiAxIH1dXG4gICAgICovXG4gICAgdmFyIGRpZmZlcmVuY2VXaXRoID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXksIHZhbHVlcykge1xuICAgICAgdmFyIGNvbXBhcmF0b3IgPSBsYXN0KHZhbHVlcyk7XG4gICAgICBpZiAoaXNBcnJheUxpa2VPYmplY3QoY29tcGFyYXRvcikpIHtcbiAgICAgICAgY29tcGFyYXRvciA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpc0FycmF5TGlrZU9iamVjdChhcnJheSlcbiAgICAgICAgPyBiYXNlRGlmZmVyZW5jZShhcnJheSwgYmFzZUZsYXR0ZW4odmFsdWVzLCAxLCBpc0FycmF5TGlrZU9iamVjdCwgdHJ1ZSksIHVuZGVmaW5lZCwgY29tcGFyYXRvcilcbiAgICAgICAgOiBbXTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIHdpdGggYG5gIGVsZW1lbnRzIGRyb3BwZWQgZnJvbSB0aGUgYmVnaW5uaW5nLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuNS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj0xXSBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIGRyb3AuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZHJvcChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IFsyLCAzXVxuICAgICAqXG4gICAgICogXy5kcm9wKFsxLCAyLCAzXSwgMik7XG4gICAgICogLy8gPT4gWzNdXG4gICAgICpcbiAgICAgKiBfLmRyb3AoWzEsIDIsIDNdLCA1KTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqXG4gICAgICogXy5kcm9wKFsxLCAyLCAzXSwgMCk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gZHJvcChhcnJheSwgbiwgZ3VhcmQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIG4gPSAoZ3VhcmQgfHwgbiA9PT0gdW5kZWZpbmVkKSA/IDEgOiB0b0ludGVnZXIobik7XG4gICAgICByZXR1cm4gYmFzZVNsaWNlKGFycmF5LCBuIDwgMCA/IDAgOiBuLCBsZW5ndGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIHdpdGggYG5gIGVsZW1lbnRzIGRyb3BwZWQgZnJvbSB0aGUgZW5kLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj0xXSBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIGRyb3AuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZHJvcFJpZ2h0KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICpcbiAgICAgKiBfLmRyb3BSaWdodChbMSwgMiwgM10sIDIpO1xuICAgICAqIC8vID0+IFsxXVxuICAgICAqXG4gICAgICogXy5kcm9wUmlnaHQoWzEsIDIsIDNdLCA1KTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqXG4gICAgICogXy5kcm9wUmlnaHQoWzEsIDIsIDNdLCAwKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkcm9wUmlnaHQoYXJyYXksIG4sIGd1YXJkKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBuID0gKGd1YXJkIHx8IG4gPT09IHVuZGVmaW5lZCkgPyAxIDogdG9JbnRlZ2VyKG4pO1xuICAgICAgbiA9IGxlbmd0aCAtIG47XG4gICAgICByZXR1cm4gYmFzZVNsaWNlKGFycmF5LCAwLCBuIDwgMCA/IDAgOiBuKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCBleGNsdWRpbmcgZWxlbWVudHMgZHJvcHBlZCBmcm9tIHRoZSBlbmQuXG4gICAgICogRWxlbWVudHMgYXJlIGRyb3BwZWQgdW50aWwgYHByZWRpY2F0ZWAgcmV0dXJucyBmYWxzZXkuIFRoZSBwcmVkaWNhdGUgaXNcbiAgICAgKiBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4LCBhcnJheSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IGZhbHNlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5kcm9wUmlnaHRXaGlsZSh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gIW8uYWN0aXZlOyB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leSddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZHJvcFJpZ2h0V2hpbGUodXNlcnMsIHsgJ3VzZXInOiAncGViYmxlcycsICdhY3RpdmUnOiBmYWxzZSB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leScsICdmcmVkJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmRyb3BSaWdodFdoaWxlKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5kcm9wUmlnaHRXaGlsZSh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5JywgJ2ZyZWQnLCAncGViYmxlcyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gZHJvcFJpZ2h0V2hpbGUoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZVdoaWxlKGFycmF5LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpLCB0cnVlLCB0cnVlKVxuICAgICAgICA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIGV4Y2x1ZGluZyBlbGVtZW50cyBkcm9wcGVkIGZyb20gdGhlIGJlZ2lubmluZy5cbiAgICAgKiBFbGVtZW50cyBhcmUgZHJvcHBlZCB1bnRpbCBgcHJlZGljYXRlYCByZXR1cm5zIGZhbHNleS4gVGhlIHByZWRpY2F0ZSBpc1xuICAgICAqIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXgsIGFycmF5KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IHRydWUgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmRyb3BXaGlsZSh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gIW8uYWN0aXZlOyB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ3BlYmJsZXMnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmRyb3BXaGlsZSh1c2VycywgeyAndXNlcic6ICdiYXJuZXknLCAnYWN0aXZlJzogZmFsc2UgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydmcmVkJywgJ3BlYmJsZXMnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZHJvcFdoaWxlKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydwZWJibGVzJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZHJvcFdoaWxlKHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknLCAnZnJlZCcsICdwZWJibGVzJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkcm9wV2hpbGUoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZVdoaWxlKGFycmF5LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpLCB0cnVlKVxuICAgICAgICA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZpbGxzIGVsZW1lbnRzIG9mIGBhcnJheWAgd2l0aCBgdmFsdWVgIGZyb20gYHN0YXJ0YCB1cCB0bywgYnV0IG5vdFxuICAgICAqIGluY2x1ZGluZywgYGVuZGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMi4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGZpbGwuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZmlsbCBgYXJyYXlgIHdpdGguXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtlbmQ9YXJyYXkubGVuZ3RoXSBUaGUgZW5kIHBvc2l0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMSwgMiwgM107XG4gICAgICpcbiAgICAgKiBfLmZpbGwoYXJyYXksICdhJyk7XG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsnYScsICdhJywgJ2EnXVxuICAgICAqXG4gICAgICogXy5maWxsKEFycmF5KDMpLCAyKTtcbiAgICAgKiAvLyA9PiBbMiwgMiwgMl1cbiAgICAgKlxuICAgICAqIF8uZmlsbChbNCwgNiwgOCwgMTBdLCAnKicsIDEsIDMpO1xuICAgICAqIC8vID0+IFs0LCAnKicsICcqJywgMTBdXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmlsbChhcnJheSwgdmFsdWUsIHN0YXJ0LCBlbmQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIGlmIChzdGFydCAmJiB0eXBlb2Ygc3RhcnQgIT0gJ251bWJlcicgJiYgaXNJdGVyYXRlZUNhbGwoYXJyYXksIHZhbHVlLCBzdGFydCkpIHtcbiAgICAgICAgc3RhcnQgPSAwO1xuICAgICAgICBlbmQgPSBsZW5ndGg7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZUZpbGwoYXJyYXksIHZhbHVlLCBzdGFydCwgZW5kKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZpbmRgIGV4Y2VwdCB0aGF0IGl0IHJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBmaXJzdFxuICAgICAqIGVsZW1lbnQgYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yIGluc3RlYWQgb2YgdGhlIGVsZW1lbnQgaXRzZWxmLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZnJvbUluZGV4PTBdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgZm91bmQgZWxlbWVudCwgZWxzZSBgLTFgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IHRydWUgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbmRJbmRleCh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gby51c2VyID09ICdiYXJuZXknOyB9KTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZEluZGV4KHVzZXJzLCB7ICd1c2VyJzogJ2ZyZWQnLCAnYWN0aXZlJzogZmFsc2UgfSk7XG4gICAgICogLy8gPT4gMVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZEluZGV4KHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gMFxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kSW5kZXgodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmluZEluZGV4KGFycmF5LCBwcmVkaWNhdGUsIGZyb21JbmRleCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gZnJvbUluZGV4ID09IG51bGwgPyAwIDogdG9JbnRlZ2VyKGZyb21JbmRleCk7XG4gICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgIGluZGV4ID0gbmF0aXZlTWF4KGxlbmd0aCArIGluZGV4LCAwKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlRmluZEluZGV4KGFycmF5LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpLCBpbmRleCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5maW5kSW5kZXhgIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgZWxlbWVudHNcbiAgICAgKiBvZiBgY29sbGVjdGlvbmAgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZnJvbUluZGV4PWFycmF5Lmxlbmd0aC0xXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGZvdW5kIGVsZW1lbnQsIGVsc2UgYC0xYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IGZhbHNlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5maW5kTGFzdEluZGV4KHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLnVzZXIgPT0gJ3BlYmJsZXMnOyB9KTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZExhc3RJbmRleCh1c2VycywgeyAndXNlcic6ICdiYXJuZXknLCAnYWN0aXZlJzogdHJ1ZSB9KTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kTGFzdEluZGV4KHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gMlxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kTGFzdEluZGV4KHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbmRMYXN0SW5kZXgoYXJyYXksIHByZWRpY2F0ZSwgZnJvbUluZGV4KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSBsZW5ndGggLSAxO1xuICAgICAgaWYgKGZyb21JbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGluZGV4ID0gdG9JbnRlZ2VyKGZyb21JbmRleCk7XG4gICAgICAgIGluZGV4ID0gZnJvbUluZGV4IDwgMFxuICAgICAgICAgID8gbmF0aXZlTWF4KGxlbmd0aCArIGluZGV4LCAwKVxuICAgICAgICAgIDogbmF0aXZlTWluKGluZGV4LCBsZW5ndGggLSAxKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlRmluZEluZGV4KGFycmF5LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpLCBpbmRleCwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmxhdHRlbnMgYGFycmF5YCBhIHNpbmdsZSBsZXZlbCBkZWVwLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGZsYXR0ZW4uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmZsYXR0ZW4oWzEsIFsyLCBbMywgWzRdXSwgNV1dKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgWzMsIFs0XV0sIDVdXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxhdHRlbihhcnJheSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgcmV0dXJuIGxlbmd0aCA/IGJhc2VGbGF0dGVuKGFycmF5LCAxKSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlY3Vyc2l2ZWx5IGZsYXR0ZW5zIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gZmxhdHRlbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmbGF0dGVuZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZmxhdHRlbkRlZXAoWzEsIFsyLCBbMywgWzRdXSwgNV1dKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgMywgNCwgNV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmbGF0dGVuRGVlcChhcnJheSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgcmV0dXJuIGxlbmd0aCA/IGJhc2VGbGF0dGVuKGFycmF5LCBJTkZJTklUWSkgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWN1cnNpdmVseSBmbGF0dGVuIGBhcnJheWAgdXAgdG8gYGRlcHRoYCB0aW1lcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjQuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBmbGF0dGVuLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZGVwdGg9MV0gVGhlIG1heGltdW0gcmVjdXJzaW9uIGRlcHRoLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZsYXR0ZW5lZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzEsIFsyLCBbMywgWzRdXSwgNV1dO1xuICAgICAqXG4gICAgICogXy5mbGF0dGVuRGVwdGgoYXJyYXksIDEpO1xuICAgICAqIC8vID0+IFsxLCAyLCBbMywgWzRdXSwgNV1cbiAgICAgKlxuICAgICAqIF8uZmxhdHRlbkRlcHRoKGFycmF5LCAyKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgMywgWzRdLCA1XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsYXR0ZW5EZXB0aChhcnJheSwgZGVwdGgpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIGRlcHRoID0gZGVwdGggPT09IHVuZGVmaW5lZCA/IDEgOiB0b0ludGVnZXIoZGVwdGgpO1xuICAgICAgcmV0dXJuIGJhc2VGbGF0dGVuKGFycmF5LCBkZXB0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGludmVyc2Ugb2YgYF8udG9QYWlyc2A7IHRoaXMgbWV0aG9kIHJldHVybnMgYW4gb2JqZWN0IGNvbXBvc2VkXG4gICAgICogZnJvbSBrZXktdmFsdWUgYHBhaXJzYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHBhaXJzIFRoZSBrZXktdmFsdWUgcGFpcnMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5mcm9tUGFpcnMoW1snYScsIDFdLCBbJ2InLCAyXV0pO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZyb21QYWlycyhwYWlycykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gcGFpcnMgPT0gbnVsbCA/IDAgOiBwYWlycy5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0ge307XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBwYWlyID0gcGFpcnNbaW5kZXhdO1xuICAgICAgICByZXN1bHRbcGFpclswXV0gPSBwYWlyWzFdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBmaXJzdCBlbGVtZW50IG9mIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAYWxpYXMgZmlyc3RcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGZpcnN0IGVsZW1lbnQgb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5oZWFkKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gMVxuICAgICAqXG4gICAgICogXy5oZWFkKFtdKTtcbiAgICAgKiAvLyA9PiB1bmRlZmluZWRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoZWFkKGFycmF5KSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkgPyBhcnJheVswXSA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBpbmRleCBhdCB3aGljaCB0aGUgZmlyc3Qgb2NjdXJyZW5jZSBvZiBgdmFsdWVgIGlzIGZvdW5kIGluIGBhcnJheWBcbiAgICAgKiB1c2luZyBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy4gSWYgYGZyb21JbmRleGAgaXMgbmVnYXRpdmUsIGl0J3MgdXNlZCBhcyB0aGVcbiAgICAgKiBvZmZzZXQgZnJvbSB0aGUgZW5kIG9mIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZnJvbUluZGV4PTBdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmluZGV4T2YoWzEsIDIsIDEsIDJdLCAyKTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICpcbiAgICAgKiAvLyBTZWFyY2ggZnJvbSB0aGUgYGZyb21JbmRleGAuXG4gICAgICogXy5pbmRleE9mKFsxLCAyLCAxLCAyXSwgMiwgMik7XG4gICAgICogLy8gPT4gM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluZGV4T2YoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IGZyb21JbmRleCA9PSBudWxsID8gMCA6IHRvSW50ZWdlcihmcm9tSW5kZXgpO1xuICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICBpbmRleCA9IG5hdGl2ZU1heChsZW5ndGggKyBpbmRleCwgMCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZUluZGV4T2YoYXJyYXksIHZhbHVlLCBpbmRleCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBhbGwgYnV0IHRoZSBsYXN0IGVsZW1lbnQgb2YgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaW5pdGlhbChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluaXRpYWwoYXJyYXkpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIHJldHVybiBsZW5ndGggPyBiYXNlU2xpY2UoYXJyYXksIDAsIC0xKSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdW5pcXVlIHZhbHVlcyB0aGF0IGFyZSBpbmNsdWRlZCBpbiBhbGwgZ2l2ZW4gYXJyYXlzXG4gICAgICogdXNpbmcgW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuIFRoZSBvcmRlciBhbmQgcmVmZXJlbmNlcyBvZiByZXN1bHQgdmFsdWVzIGFyZVxuICAgICAqIGRldGVybWluZWQgYnkgdGhlIGZpcnN0IGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGludGVyc2VjdGluZyB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaW50ZXJzZWN0aW9uKFsyLCAxXSwgWzIsIDNdKTtcbiAgICAgKiAvLyA9PiBbMl1cbiAgICAgKi9cbiAgICB2YXIgaW50ZXJzZWN0aW9uID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICB2YXIgbWFwcGVkID0gYXJyYXlNYXAoYXJyYXlzLCBjYXN0QXJyYXlMaWtlT2JqZWN0KTtcbiAgICAgIHJldHVybiAobWFwcGVkLmxlbmd0aCAmJiBtYXBwZWRbMF0gPT09IGFycmF5c1swXSlcbiAgICAgICAgPyBiYXNlSW50ZXJzZWN0aW9uKG1hcHBlZClcbiAgICAgICAgOiBbXTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaW50ZXJzZWN0aW9uYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWBcbiAgICAgKiB3aGljaCBpcyBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgb2YgZWFjaCBgYXJyYXlzYCB0byBnZW5lcmF0ZSB0aGUgY3JpdGVyaW9uXG4gICAgICogYnkgd2hpY2ggdGhleSdyZSBjb21wYXJlZC4gVGhlIG9yZGVyIGFuZCByZWZlcmVuY2VzIG9mIHJlc3VsdCB2YWx1ZXMgYXJlXG4gICAgICogZGV0ZXJtaW5lZCBieSB0aGUgZmlyc3QgYXJyYXkuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OlxuICAgICAqICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGludGVyc2VjdGluZyB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaW50ZXJzZWN0aW9uQnkoWzIuMSwgMS4yXSwgWzIuMywgMy40XSwgTWF0aC5mbG9vcik7XG4gICAgICogLy8gPT4gWzIuMV1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uaW50ZXJzZWN0aW9uQnkoW3sgJ3gnOiAxIH1dLCBbeyAneCc6IDIgfSwgeyAneCc6IDEgfV0sICd4Jyk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAxIH1dXG4gICAgICovXG4gICAgdmFyIGludGVyc2VjdGlvbkJ5ID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICB2YXIgaXRlcmF0ZWUgPSBsYXN0KGFycmF5cyksXG4gICAgICAgICAgbWFwcGVkID0gYXJyYXlNYXAoYXJyYXlzLCBjYXN0QXJyYXlMaWtlT2JqZWN0KTtcblxuICAgICAgaWYgKGl0ZXJhdGVlID09PSBsYXN0KG1hcHBlZCkpIHtcbiAgICAgICAgaXRlcmF0ZWUgPSB1bmRlZmluZWQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtYXBwZWQucG9wKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gKG1hcHBlZC5sZW5ndGggJiYgbWFwcGVkWzBdID09PSBhcnJheXNbMF0pXG4gICAgICAgID8gYmFzZUludGVyc2VjdGlvbihtYXBwZWQsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSlcbiAgICAgICAgOiBbXTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaW50ZXJzZWN0aW9uYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjb21wYXJhdG9yYFxuICAgICAqIHdoaWNoIGlzIGludm9rZWQgdG8gY29tcGFyZSBlbGVtZW50cyBvZiBgYXJyYXlzYC4gVGhlIG9yZGVyIGFuZCByZWZlcmVuY2VzXG4gICAgICogb2YgcmVzdWx0IHZhbHVlcyBhcmUgZGV0ZXJtaW5lZCBieSB0aGUgZmlyc3QgYXJyYXkuIFRoZSBjb21wYXJhdG9yIGlzXG4gICAgICogaW52b2tlZCB3aXRoIHR3byBhcmd1bWVudHM6IChhcnJWYWwsIG90aFZhbCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgaW50ZXJzZWN0aW5nIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogMiwgJ3knOiAxIH1dO1xuICAgICAqIHZhciBvdGhlcnMgPSBbeyAneCc6IDEsICd5JzogMSB9LCB7ICd4JzogMSwgJ3knOiAyIH1dO1xuICAgICAqXG4gICAgICogXy5pbnRlcnNlY3Rpb25XaXRoKG9iamVjdHMsIG90aGVycywgXy5pc0VxdWFsKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDEsICd5JzogMiB9XVxuICAgICAqL1xuICAgIHZhciBpbnRlcnNlY3Rpb25XaXRoID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICB2YXIgY29tcGFyYXRvciA9IGxhc3QoYXJyYXlzKSxcbiAgICAgICAgICBtYXBwZWQgPSBhcnJheU1hcChhcnJheXMsIGNhc3RBcnJheUxpa2VPYmplY3QpO1xuXG4gICAgICBjb21wYXJhdG9yID0gdHlwZW9mIGNvbXBhcmF0b3IgPT0gJ2Z1bmN0aW9uJyA/IGNvbXBhcmF0b3IgOiB1bmRlZmluZWQ7XG4gICAgICBpZiAoY29tcGFyYXRvcikge1xuICAgICAgICBtYXBwZWQucG9wKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gKG1hcHBlZC5sZW5ndGggJiYgbWFwcGVkWzBdID09PSBhcnJheXNbMF0pXG4gICAgICAgID8gYmFzZUludGVyc2VjdGlvbihtYXBwZWQsIHVuZGVmaW5lZCwgY29tcGFyYXRvcilcbiAgICAgICAgOiBbXTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGFsbCBlbGVtZW50cyBpbiBgYXJyYXlgIGludG8gYSBzdHJpbmcgc2VwYXJhdGVkIGJ5IGBzZXBhcmF0b3JgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGNvbnZlcnQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzZXBhcmF0b3I9JywnXSBUaGUgZWxlbWVudCBzZXBhcmF0b3IuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgam9pbmVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5qb2luKFsnYScsICdiJywgJ2MnXSwgJ34nKTtcbiAgICAgKiAvLyA9PiAnYX5ifmMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gam9pbihhcnJheSwgc2VwYXJhdG9yKSB7XG4gICAgICByZXR1cm4gYXJyYXkgPT0gbnVsbCA/ICcnIDogbmF0aXZlSm9pbi5jYWxsKGFycmF5LCBzZXBhcmF0b3IpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGxhc3QgZWxlbWVudCBvZiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBsYXN0IGVsZW1lbnQgb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5sYXN0KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxhc3QoYXJyYXkpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIHJldHVybiBsZW5ndGggPyBhcnJheVtsZW5ndGggLSAxXSA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmluZGV4T2ZgIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2ZcbiAgICAgKiBgYXJyYXlgIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9YXJyYXkubGVuZ3RoLTFdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmxhc3RJbmRleE9mKFsxLCAyLCAxLCAyXSwgMik7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogLy8gU2VhcmNoIGZyb20gdGhlIGBmcm9tSW5kZXhgLlxuICAgICAqIF8ubGFzdEluZGV4T2YoWzEsIDIsIDEsIDJdLCAyLCAyKTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGFzdEluZGV4T2YoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IGxlbmd0aDtcbiAgICAgIGlmIChmcm9tSW5kZXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpbmRleCA9IHRvSW50ZWdlcihmcm9tSW5kZXgpO1xuICAgICAgICBpbmRleCA9IGluZGV4IDwgMCA/IG5hdGl2ZU1heChsZW5ndGggKyBpbmRleCwgMCkgOiBuYXRpdmVNaW4oaW5kZXgsIGxlbmd0aCAtIDEpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlID09PSB2YWx1ZVxuICAgICAgICA/IHN0cmljdExhc3RJbmRleE9mKGFycmF5LCB2YWx1ZSwgaW5kZXgpXG4gICAgICAgIDogYmFzZUZpbmRJbmRleChhcnJheSwgYmFzZUlzTmFOLCBpbmRleCwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgZWxlbWVudCBhdCBpbmRleCBgbmAgb2YgYGFycmF5YC4gSWYgYG5gIGlzIG5lZ2F0aXZlLCB0aGUgbnRoXG4gICAgICogZWxlbWVudCBmcm9tIHRoZSBlbmQgaXMgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj0wXSBUaGUgaW5kZXggb2YgdGhlIGVsZW1lbnQgdG8gcmV0dXJuLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBudGggZWxlbWVudCBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbJ2EnLCAnYicsICdjJywgJ2QnXTtcbiAgICAgKlxuICAgICAqIF8ubnRoKGFycmF5LCAxKTtcbiAgICAgKiAvLyA9PiAnYidcbiAgICAgKlxuICAgICAqIF8ubnRoKGFycmF5LCAtMik7XG4gICAgICogLy8gPT4gJ2MnO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIG50aChhcnJheSwgbikge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpID8gYmFzZU50aChhcnJheSwgdG9JbnRlZ2VyKG4pKSA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBnaXZlbiB2YWx1ZXMgZnJvbSBgYXJyYXlgIHVzaW5nXG4gICAgICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLndpdGhvdXRgLCB0aGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAuIFVzZSBgXy5yZW1vdmVgXG4gICAgICogdG8gcmVtb3ZlIGVsZW1lbnRzIGZyb20gYW4gYXJyYXkgYnkgcHJlZGljYXRlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0gey4uLip9IFt2YWx1ZXNdIFRoZSB2YWx1ZXMgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbJ2EnLCAnYicsICdjJywgJ2EnLCAnYicsICdjJ107XG4gICAgICpcbiAgICAgKiBfLnB1bGwoYXJyYXksICdhJywgJ2MnKTtcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWydiJywgJ2InXVxuICAgICAqL1xuICAgIHZhciBwdWxsID0gYmFzZVJlc3QocHVsbEFsbCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnB1bGxgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYW4gYXJyYXkgb2YgdmFsdWVzIHRvIHJlbW92ZS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8uZGlmZmVyZW5jZWAsIHRoaXMgbWV0aG9kIG11dGF0ZXMgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbJ2EnLCAnYicsICdjJywgJ2EnLCAnYicsICdjJ107XG4gICAgICpcbiAgICAgKiBfLnB1bGxBbGwoYXJyYXksIFsnYScsICdjJ10pO1xuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbJ2InLCAnYiddXG4gICAgICovXG4gICAgZnVuY3Rpb24gcHVsbEFsbChhcnJheSwgdmFsdWVzKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aCAmJiB2YWx1ZXMgJiYgdmFsdWVzLmxlbmd0aClcbiAgICAgICAgPyBiYXNlUHVsbEFsbChhcnJheSwgdmFsdWVzKVxuICAgICAgICA6IGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ucHVsbEFsbGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IG9mIGBhcnJheWAgYW5kIGB2YWx1ZXNgIHRvIGdlbmVyYXRlIHRoZSBjcml0ZXJpb25cbiAgICAgKiBieSB3aGljaCB0aGV5J3JlIGNvbXBhcmVkLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8uZGlmZmVyZW5jZUJ5YCwgdGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byByZW1vdmUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbeyAneCc6IDEgfSwgeyAneCc6IDIgfSwgeyAneCc6IDMgfSwgeyAneCc6IDEgfV07XG4gICAgICpcbiAgICAgKiBfLnB1bGxBbGxCeShhcnJheSwgW3sgJ3gnOiAxIH0sIHsgJ3gnOiAzIH1dLCAneCcpO1xuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDIgfV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwdWxsQWxsQnkoYXJyYXksIHZhbHVlcywgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoICYmIHZhbHVlcyAmJiB2YWx1ZXMubGVuZ3RoKVxuICAgICAgICA/IGJhc2VQdWxsQWxsKGFycmF5LCB2YWx1ZXMsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSlcbiAgICAgICAgOiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnB1bGxBbGxgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGNvbXBhcmF0b3JgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCB0byBjb21wYXJlIGVsZW1lbnRzIG9mIGBhcnJheWAgdG8gYHZhbHVlc2AuIFRoZSBjb21wYXJhdG9yIGlzXG4gICAgICogaW52b2tlZCB3aXRoIHR3byBhcmd1bWVudHM6IChhcnJWYWwsIG90aFZhbCkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLmRpZmZlcmVuY2VXaXRoYCwgdGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNi4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byByZW1vdmUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiAzLCAneSc6IDQgfSwgeyAneCc6IDUsICd5JzogNiB9XTtcbiAgICAgKlxuICAgICAqIF8ucHVsbEFsbFdpdGgoYXJyYXksIFt7ICd4JzogMywgJ3knOiA0IH1dLCBfLmlzRXF1YWwpO1xuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogNSwgJ3knOiA2IH1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gcHVsbEFsbFdpdGgoYXJyYXksIHZhbHVlcywgY29tcGFyYXRvcikge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGggJiYgdmFsdWVzICYmIHZhbHVlcy5sZW5ndGgpXG4gICAgICAgID8gYmFzZVB1bGxBbGwoYXJyYXksIHZhbHVlcywgdW5kZWZpbmVkLCBjb21wYXJhdG9yKVxuICAgICAgICA6IGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgZWxlbWVudHMgZnJvbSBgYXJyYXlgIGNvcnJlc3BvbmRpbmcgdG8gYGluZGV4ZXNgIGFuZCByZXR1cm5zIGFuXG4gICAgICogYXJyYXkgb2YgcmVtb3ZlZCBlbGVtZW50cy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8uYXRgLCB0aGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7Li4uKG51bWJlcnxudW1iZXJbXSl9IFtpbmRleGVzXSBUaGUgaW5kZXhlcyBvZiBlbGVtZW50cyB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgcmVtb3ZlZCBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWydhJywgJ2InLCAnYycsICdkJ107XG4gICAgICogdmFyIHB1bGxlZCA9IF8ucHVsbEF0KGFycmF5LCBbMSwgM10pO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsnYScsICdjJ11cbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKHB1bGxlZCk7XG4gICAgICogLy8gPT4gWydiJywgJ2QnXVxuICAgICAqL1xuICAgIHZhciBwdWxsQXQgPSBmbGF0UmVzdChmdW5jdGlvbihhcnJheSwgaW5kZXhlcykge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IGJhc2VBdChhcnJheSwgaW5kZXhlcyk7XG5cbiAgICAgIGJhc2VQdWxsQXQoYXJyYXksIGFycmF5TWFwKGluZGV4ZXMsIGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgICAgIHJldHVybiBpc0luZGV4KGluZGV4LCBsZW5ndGgpID8gK2luZGV4IDogaW5kZXg7XG4gICAgICB9KS5zb3J0KGNvbXBhcmVBc2NlbmRpbmcpKTtcblxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGVsZW1lbnRzIGZyb20gYGFycmF5YCB0aGF0IGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5IGZvclxuICAgICAqIGFuZCByZXR1cm5zIGFuIGFycmF5IG9mIHRoZSByZW1vdmVkIGVsZW1lbnRzLiBUaGUgcHJlZGljYXRlIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleCwgYXJyYXkpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5maWx0ZXJgLCB0aGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAuIFVzZSBgXy5wdWxsYFxuICAgICAqIHRvIHB1bGwgZWxlbWVudHMgZnJvbSBhbiBhcnJheSBieSB2YWx1ZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIHJlbW92ZWQgZWxlbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsxLCAyLCAzLCA0XTtcbiAgICAgKiB2YXIgZXZlbnMgPSBfLnJlbW92ZShhcnJheSwgZnVuY3Rpb24obikge1xuICAgICAqICAgcmV0dXJuIG4gJSAyID09IDA7XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWzEsIDNdXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhldmVucyk7XG4gICAgICogLy8gPT4gWzIsIDRdXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVtb3ZlKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgIGlmICghKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGluZGV4ZXMgPSBbXSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICAgIHByZWRpY2F0ZSA9IGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG4gICAgICAgIGlmIChwcmVkaWNhdGUodmFsdWUsIGluZGV4LCBhcnJheSkpIHtcbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgaW5kZXhlcy5wdXNoKGluZGV4KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgYmFzZVB1bGxBdChhcnJheSwgaW5kZXhlcyk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldmVyc2VzIGBhcnJheWAgc28gdGhhdCB0aGUgZmlyc3QgZWxlbWVudCBiZWNvbWVzIHRoZSBsYXN0LCB0aGUgc2Vjb25kXG4gICAgICogZWxlbWVudCBiZWNvbWVzIHRoZSBzZWNvbmQgdG8gbGFzdCwgYW5kIHNvIG9uLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYGFycmF5YCBhbmQgaXMgYmFzZWQgb25cbiAgICAgKiBbYEFycmF5I3JldmVyc2VgXShodHRwczovL21kbi5pby9BcnJheS9yZXZlcnNlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsxLCAyLCAzXTtcbiAgICAgKlxuICAgICAqIF8ucmV2ZXJzZShhcnJheSk7XG4gICAgICogLy8gPT4gWzMsIDIsIDFdXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWzMsIDIsIDFdXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmV2ZXJzZShhcnJheSkge1xuICAgICAgcmV0dXJuIGFycmF5ID09IG51bGwgPyBhcnJheSA6IG5hdGl2ZVJldmVyc2UuY2FsbChhcnJheSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgZnJvbSBgc3RhcnRgIHVwIHRvLCBidXQgbm90IGluY2x1ZGluZywgYGVuZGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgdXNlZCBpbnN0ZWFkIG9mXG4gICAgICogW2BBcnJheSNzbGljZWBdKGh0dHBzOi8vbWRuLmlvL0FycmF5L3NsaWNlKSB0byBlbnN1cmUgZGVuc2UgYXJyYXlzIGFyZVxuICAgICAqIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNsaWNlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kPWFycmF5Lmxlbmd0aF0gVGhlIGVuZCBwb3NpdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2xpY2UoYXJyYXksIHN0YXJ0LCBlbmQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIGlmIChlbmQgJiYgdHlwZW9mIGVuZCAhPSAnbnVtYmVyJyAmJiBpc0l0ZXJhdGVlQ2FsbChhcnJheSwgc3RhcnQsIGVuZCkpIHtcbiAgICAgICAgc3RhcnQgPSAwO1xuICAgICAgICBlbmQgPSBsZW5ndGg7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgc3RhcnQgPSBzdGFydCA9PSBudWxsID8gMCA6IHRvSW50ZWdlcihzdGFydCk7XG4gICAgICAgIGVuZCA9IGVuZCA9PT0gdW5kZWZpbmVkID8gbGVuZ3RoIDogdG9JbnRlZ2VyKGVuZCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZVNsaWNlKGFycmF5LCBzdGFydCwgZW5kKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVc2VzIGEgYmluYXJ5IHNlYXJjaCB0byBkZXRlcm1pbmUgdGhlIGxvd2VzdCBpbmRleCBhdCB3aGljaCBgdmFsdWVgXG4gICAgICogc2hvdWxkIGJlIGluc2VydGVkIGludG8gYGFycmF5YCBpbiBvcmRlciB0byBtYWludGFpbiBpdHMgc29ydCBvcmRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBzb3J0ZWQgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBldmFsdWF0ZS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBhdCB3aGljaCBgdmFsdWVgIHNob3VsZCBiZSBpbnNlcnRlZFxuICAgICAqICBpbnRvIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc29ydGVkSW5kZXgoWzMwLCA1MF0sIDQwKTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydGVkSW5kZXgoYXJyYXksIHZhbHVlKSB7XG4gICAgICByZXR1cm4gYmFzZVNvcnRlZEluZGV4KGFycmF5LCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5zb3J0ZWRJbmRleGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgXG4gICAgICogd2hpY2ggaXMgaW52b2tlZCBmb3IgYHZhbHVlYCBhbmQgZWFjaCBlbGVtZW50IG9mIGBhcnJheWAgdG8gY29tcHV0ZSB0aGVpclxuICAgICAqIHNvcnQgcmFua2luZy4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgc29ydGVkIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZXZhbHVhdGUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWAgc2hvdWxkIGJlIGluc2VydGVkXG4gICAgICogIGludG8gYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAneCc6IDQgfSwgeyAneCc6IDUgfV07XG4gICAgICpcbiAgICAgKiBfLnNvcnRlZEluZGV4Qnkob2JqZWN0cywgeyAneCc6IDQgfSwgZnVuY3Rpb24obykgeyByZXR1cm4gby54OyB9KTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnNvcnRlZEluZGV4Qnkob2JqZWN0cywgeyAneCc6IDQgfSwgJ3gnKTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydGVkSW5kZXhCeShhcnJheSwgdmFsdWUsIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gYmFzZVNvcnRlZEluZGV4QnkoYXJyYXksIHZhbHVlLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaW5kZXhPZmAgZXhjZXB0IHRoYXQgaXQgcGVyZm9ybXMgYSBiaW5hcnlcbiAgICAgKiBzZWFyY2ggb24gYSBzb3J0ZWQgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zb3J0ZWRJbmRleE9mKFs0LCA1LCA1LCA1LCA2XSwgNSk7XG4gICAgICogLy8gPT4gMVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvcnRlZEluZGV4T2YoYXJyYXksIHZhbHVlKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAobGVuZ3RoKSB7XG4gICAgICAgIHZhciBpbmRleCA9IGJhc2VTb3J0ZWRJbmRleChhcnJheSwgdmFsdWUpO1xuICAgICAgICBpZiAoaW5kZXggPCBsZW5ndGggJiYgZXEoYXJyYXlbaW5kZXhdLCB2YWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiAtMTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnNvcnRlZEluZGV4YCBleGNlcHQgdGhhdCBpdCByZXR1cm5zIHRoZSBoaWdoZXN0XG4gICAgICogaW5kZXggYXQgd2hpY2ggYHZhbHVlYCBzaG91bGQgYmUgaW5zZXJ0ZWQgaW50byBgYXJyYXlgIGluIG9yZGVyIHRvXG4gICAgICogbWFpbnRhaW4gaXRzIHNvcnQgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgc29ydGVkIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZXZhbHVhdGUuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggYXQgd2hpY2ggYHZhbHVlYCBzaG91bGQgYmUgaW5zZXJ0ZWRcbiAgICAgKiAgaW50byBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNvcnRlZExhc3RJbmRleChbNCwgNSwgNSwgNSwgNl0sIDUpO1xuICAgICAqIC8vID0+IDRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb3J0ZWRMYXN0SW5kZXgoYXJyYXksIHZhbHVlKSB7XG4gICAgICByZXR1cm4gYmFzZVNvcnRlZEluZGV4KGFycmF5LCB2YWx1ZSwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5zb3J0ZWRMYXN0SW5kZXhgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYFxuICAgICAqIHdoaWNoIGlzIGludm9rZWQgZm9yIGB2YWx1ZWAgYW5kIGVhY2ggZWxlbWVudCBvZiBgYXJyYXlgIHRvIGNvbXB1dGUgdGhlaXJcbiAgICAgKiBzb3J0IHJhbmtpbmcuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIHNvcnRlZCBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGV2YWx1YXRlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBhdCB3aGljaCBgdmFsdWVgIHNob3VsZCBiZSBpbnNlcnRlZFxuICAgICAqICBpbnRvIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ3gnOiA0IH0sIHsgJ3gnOiA1IH1dO1xuICAgICAqXG4gICAgICogXy5zb3J0ZWRMYXN0SW5kZXhCeShvYmplY3RzLCB7ICd4JzogNCB9LCBmdW5jdGlvbihvKSB7IHJldHVybiBvLng7IH0pO1xuICAgICAqIC8vID0+IDFcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uc29ydGVkTGFzdEluZGV4Qnkob2JqZWN0cywgeyAneCc6IDQgfSwgJ3gnKTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydGVkTGFzdEluZGV4QnkoYXJyYXksIHZhbHVlLCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIGJhc2VTb3J0ZWRJbmRleEJ5KGFycmF5LCB2YWx1ZSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpLCB0cnVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmxhc3RJbmRleE9mYCBleGNlcHQgdGhhdCBpdCBwZXJmb3JtcyBhIGJpbmFyeVxuICAgICAqIHNlYXJjaCBvbiBhIHNvcnRlZCBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNvcnRlZExhc3RJbmRleE9mKFs0LCA1LCA1LCA1LCA2XSwgNSk7XG4gICAgICogLy8gPT4gM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvcnRlZExhc3RJbmRleE9mKGFycmF5LCB2YWx1ZSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKGxlbmd0aCkge1xuICAgICAgICB2YXIgaW5kZXggPSBiYXNlU29ydGVkSW5kZXgoYXJyYXksIHZhbHVlLCB0cnVlKSAtIDE7XG4gICAgICAgIGlmIChlcShhcnJheVtpbmRleF0sIHZhbHVlKSkge1xuICAgICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIC0xO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udW5pcWAgZXhjZXB0IHRoYXQgaXQncyBkZXNpZ25lZCBhbmQgb3B0aW1pemVkXG4gICAgICogZm9yIHNvcnRlZCBhcnJheXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBkdXBsaWNhdGUgZnJlZSBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zb3J0ZWRVbmlxKFsxLCAxLCAyXSk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydGVkVW5pcShhcnJheSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZVNvcnRlZFVuaXEoYXJyYXkpXG4gICAgICAgIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy51bmlxQnlgIGV4Y2VwdCB0aGF0IGl0J3MgZGVzaWduZWQgYW5kIG9wdGltaXplZFxuICAgICAqIGZvciBzb3J0ZWQgYXJyYXlzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlXSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBkdXBsaWNhdGUgZnJlZSBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zb3J0ZWRVbmlxQnkoWzEuMSwgMS4yLCAyLjMsIDIuNF0sIE1hdGguZmxvb3IpO1xuICAgICAqIC8vID0+IFsxLjEsIDIuM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb3J0ZWRVbmlxQnkoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlU29ydGVkVW5pcShhcnJheSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKVxuICAgICAgICA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgYWxsIGJ1dCB0aGUgZmlyc3QgZWxlbWVudCBvZiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50YWlsKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gWzIsIDNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdGFpbChhcnJheSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgcmV0dXJuIGxlbmd0aCA/IGJhc2VTbGljZShhcnJheSwgMSwgbGVuZ3RoKSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIHdpdGggYG5gIGVsZW1lbnRzIHRha2VuIGZyb20gdGhlIGJlZ2lubmluZy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW249MV0gVGhlIG51bWJlciBvZiBlbGVtZW50cyB0byB0YWtlLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRha2UoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBbMV1cbiAgICAgKlxuICAgICAqIF8udGFrZShbMSwgMiwgM10sIDIpO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqXG4gICAgICogXy50YWtlKFsxLCAyLCAzXSwgNSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiBfLnRha2UoWzEsIDIsIDNdLCAwKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRha2UoYXJyYXksIG4sIGd1YXJkKSB7XG4gICAgICBpZiAoIShhcnJheSAmJiBhcnJheS5sZW5ndGgpKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIG4gPSAoZ3VhcmQgfHwgbiA9PT0gdW5kZWZpbmVkKSA/IDEgOiB0b0ludGVnZXIobik7XG4gICAgICByZXR1cm4gYmFzZVNsaWNlKGFycmF5LCAwLCBuIDwgMCA/IDAgOiBuKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCB3aXRoIGBuYCBlbGVtZW50cyB0YWtlbiBmcm9tIHRoZSBlbmQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTFdIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gdGFrZS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50YWtlUmlnaHQoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBbM11cbiAgICAgKlxuICAgICAqIF8udGFrZVJpZ2h0KFsxLCAyLCAzXSwgMik7XG4gICAgICogLy8gPT4gWzIsIDNdXG4gICAgICpcbiAgICAgKiBfLnRha2VSaWdodChbMSwgMiwgM10sIDUpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogXy50YWtlUmlnaHQoWzEsIDIsIDNdLCAwKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRha2VSaWdodChhcnJheSwgbiwgZ3VhcmQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIG4gPSAoZ3VhcmQgfHwgbiA9PT0gdW5kZWZpbmVkKSA/IDEgOiB0b0ludGVnZXIobik7XG4gICAgICBuID0gbGVuZ3RoIC0gbjtcbiAgICAgIHJldHVybiBiYXNlU2xpY2UoYXJyYXksIG4gPCAwID8gMCA6IG4sIGxlbmd0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgd2l0aCBlbGVtZW50cyB0YWtlbiBmcm9tIHRoZSBlbmQuIEVsZW1lbnRzIGFyZVxuICAgICAqIHRha2VuIHVudGlsIGBwcmVkaWNhdGVgIHJldHVybnMgZmFsc2V5LiBUaGUgcHJlZGljYXRlIGlzIGludm9rZWQgd2l0aFxuICAgICAqIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleCwgYXJyYXkpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhY3RpdmUnOiB0cnVlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhY3RpdmUnOiBmYWxzZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8udGFrZVJpZ2h0V2hpbGUodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuICFvLmFjdGl2ZTsgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydmcmVkJywgJ3BlYmJsZXMnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnRha2VSaWdodFdoaWxlKHVzZXJzLCB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWN0aXZlJzogZmFsc2UgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydwZWJibGVzJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnRha2VSaWdodFdoaWxlKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydmcmVkJywgJ3BlYmJsZXMnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy50YWtlUmlnaHRXaGlsZSh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IFtdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdGFrZVJpZ2h0V2hpbGUoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZVdoaWxlKGFycmF5LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpLCBmYWxzZSwgdHJ1ZSlcbiAgICAgICAgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCB3aXRoIGVsZW1lbnRzIHRha2VuIGZyb20gdGhlIGJlZ2lubmluZy4gRWxlbWVudHNcbiAgICAgKiBhcmUgdGFrZW4gdW50aWwgYHByZWRpY2F0ZWAgcmV0dXJucyBmYWxzZXkuIFRoZSBwcmVkaWNhdGUgaXMgaW52b2tlZCB3aXRoXG4gICAgICogdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4LCBhcnJheSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhY3RpdmUnOiB0cnVlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy50YWtlV2hpbGUodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuICFvLmFjdGl2ZTsgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknLCAnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8udGFrZVdoaWxlKHVzZXJzLCB7ICd1c2VyJzogJ2Jhcm5leScsICdhY3RpdmUnOiBmYWxzZSB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leSddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy50YWtlV2hpbGUodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leScsICdmcmVkJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8udGFrZVdoaWxlKHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0YWtlV2hpbGUoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZVdoaWxlKGFycmF5LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpKVxuICAgICAgICA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdW5pcXVlIHZhbHVlcywgaW4gb3JkZXIsIGZyb20gYWxsIGdpdmVuIGFycmF5cyB1c2luZ1xuICAgICAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGNvbWJpbmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51bmlvbihbMl0sIFsxLCAyXSk7XG4gICAgICogLy8gPT4gWzIsIDFdXG4gICAgICovXG4gICAgdmFyIHVuaW9uID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICByZXR1cm4gYmFzZVVuaXEoYmFzZUZsYXR0ZW4oYXJyYXlzLCAxLCBpc0FycmF5TGlrZU9iamVjdCwgdHJ1ZSkpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy51bmlvbmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IG9mIGVhY2ggYGFycmF5c2AgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvbiBieVxuICAgICAqIHdoaWNoIHVuaXF1ZW5lc3MgaXMgY29tcHV0ZWQuIFJlc3VsdCB2YWx1ZXMgYXJlIGNob3NlbiBmcm9tIHRoZSBmaXJzdFxuICAgICAqIGFycmF5IGluIHdoaWNoIHRoZSB2YWx1ZSBvY2N1cnMuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OlxuICAgICAqICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGNvbWJpbmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51bmlvbkJ5KFsyLjFdLCBbMS4yLCAyLjNdLCBNYXRoLmZsb29yKTtcbiAgICAgKiAvLyA9PiBbMi4xLCAxLjJdXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnVuaW9uQnkoW3sgJ3gnOiAxIH1dLCBbeyAneCc6IDIgfSwgeyAneCc6IDEgfV0sICd4Jyk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAxIH0sIHsgJ3gnOiAyIH1dXG4gICAgICovXG4gICAgdmFyIHVuaW9uQnkgPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHZhciBpdGVyYXRlZSA9IGxhc3QoYXJyYXlzKTtcbiAgICAgIGlmIChpc0FycmF5TGlrZU9iamVjdChpdGVyYXRlZSkpIHtcbiAgICAgICAgaXRlcmF0ZWUgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZVVuaXEoYmFzZUZsYXR0ZW4oYXJyYXlzLCAxLCBpc0FycmF5TGlrZU9iamVjdCwgdHJ1ZSksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnVuaW9uYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjb21wYXJhdG9yYCB3aGljaFxuICAgICAqIGlzIGludm9rZWQgdG8gY29tcGFyZSBlbGVtZW50cyBvZiBgYXJyYXlzYC4gUmVzdWx0IHZhbHVlcyBhcmUgY2hvc2VuIGZyb21cbiAgICAgKiB0aGUgZmlyc3QgYXJyYXkgaW4gd2hpY2ggdGhlIHZhbHVlIG9jY3Vycy4gVGhlIGNvbXBhcmF0b3IgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdHdvIGFyZ3VtZW50czogKGFyclZhbCwgb3RoVmFsKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBjb21iaW5lZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDIsICd5JzogMSB9XTtcbiAgICAgKiB2YXIgb3RoZXJzID0gW3sgJ3gnOiAxLCAneSc6IDEgfSwgeyAneCc6IDEsICd5JzogMiB9XTtcbiAgICAgKlxuICAgICAqIF8udW5pb25XaXRoKG9iamVjdHMsIG90aGVycywgXy5pc0VxdWFsKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogMiwgJ3knOiAxIH0sIHsgJ3gnOiAxLCAneSc6IDEgfV1cbiAgICAgKi9cbiAgICB2YXIgdW5pb25XaXRoID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICB2YXIgY29tcGFyYXRvciA9IGxhc3QoYXJyYXlzKTtcbiAgICAgIGNvbXBhcmF0b3IgPSB0eXBlb2YgY29tcGFyYXRvciA9PSAnZnVuY3Rpb24nID8gY29tcGFyYXRvciA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiBiYXNlVW5pcShiYXNlRmxhdHRlbihhcnJheXMsIDEsIGlzQXJyYXlMaWtlT2JqZWN0LCB0cnVlKSwgdW5kZWZpbmVkLCBjb21wYXJhdG9yKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBkdXBsaWNhdGUtZnJlZSB2ZXJzaW9uIG9mIGFuIGFycmF5LCB1c2luZ1xuICAgICAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLCBpbiB3aGljaCBvbmx5IHRoZSBmaXJzdCBvY2N1cnJlbmNlIG9mIGVhY2ggZWxlbWVudFxuICAgICAqIGlzIGtlcHQuIFRoZSBvcmRlciBvZiByZXN1bHQgdmFsdWVzIGlzIGRldGVybWluZWQgYnkgdGhlIG9yZGVyIHRoZXkgb2NjdXJcbiAgICAgKiBpbiB0aGUgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBkdXBsaWNhdGUgZnJlZSBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51bmlxKFsyLCAxLCAyXSk7XG4gICAgICogLy8gPT4gWzIsIDFdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5pcShhcnJheSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpID8gYmFzZVVuaXEoYXJyYXkpIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy51bmlxYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgaW4gYGFycmF5YCB0byBnZW5lcmF0ZSB0aGUgY3JpdGVyaW9uIGJ5IHdoaWNoXG4gICAgICogdW5pcXVlbmVzcyBpcyBjb21wdXRlZC4gVGhlIG9yZGVyIG9mIHJlc3VsdCB2YWx1ZXMgaXMgZGV0ZXJtaW5lZCBieSB0aGVcbiAgICAgKiBvcmRlciB0aGV5IG9jY3VyIGluIHRoZSBhcnJheS4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6XG4gICAgICogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBkdXBsaWNhdGUgZnJlZSBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51bmlxQnkoWzIuMSwgMS4yLCAyLjNdLCBNYXRoLmZsb29yKTtcbiAgICAgKiAvLyA9PiBbMi4xLCAxLjJdXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnVuaXFCeShbeyAneCc6IDEgfSwgeyAneCc6IDIgfSwgeyAneCc6IDEgfV0sICd4Jyk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAxIH0sIHsgJ3gnOiAyIH1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5pcUJ5KGFycmF5LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpID8gYmFzZVVuaXEoYXJyYXksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSkgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnVuaXFgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGNvbXBhcmF0b3JgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCB0byBjb21wYXJlIGVsZW1lbnRzIG9mIGBhcnJheWAuIFRoZSBvcmRlciBvZiByZXN1bHQgdmFsdWVzIGlzXG4gICAgICogZGV0ZXJtaW5lZCBieSB0aGUgb3JkZXIgdGhleSBvY2N1ciBpbiB0aGUgYXJyYXkuVGhlIGNvbXBhcmF0b3IgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdHdvIGFyZ3VtZW50czogKGFyclZhbCwgb3RoVmFsKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGR1cGxpY2F0ZSBmcmVlIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiAyLCAneSc6IDEgfSwgeyAneCc6IDEsICd5JzogMiB9XTtcbiAgICAgKlxuICAgICAqIF8udW5pcVdpdGgob2JqZWN0cywgXy5pc0VxdWFsKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogMiwgJ3knOiAxIH1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5pcVdpdGgoYXJyYXksIGNvbXBhcmF0b3IpIHtcbiAgICAgIGNvbXBhcmF0b3IgPSB0eXBlb2YgY29tcGFyYXRvciA9PSAnZnVuY3Rpb24nID8gY29tcGFyYXRvciA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSA/IGJhc2VVbmlxKGFycmF5LCB1bmRlZmluZWQsIGNvbXBhcmF0b3IpIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy56aXBgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYW4gYXJyYXkgb2YgZ3JvdXBlZFxuICAgICAqIGVsZW1lbnRzIGFuZCBjcmVhdGVzIGFuIGFycmF5IHJlZ3JvdXBpbmcgdGhlIGVsZW1lbnRzIHRvIHRoZWlyIHByZS16aXBcbiAgICAgKiBjb25maWd1cmF0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMi4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IG9mIGdyb3VwZWQgZWxlbWVudHMgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiByZWdyb3VwZWQgZWxlbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB6aXBwZWQgPSBfLnppcChbJ2EnLCAnYiddLCBbMSwgMl0sIFt0cnVlLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IFtbJ2EnLCAxLCB0cnVlXSwgWydiJywgMiwgZmFsc2VdXVxuICAgICAqXG4gICAgICogXy51bnppcCh6aXBwZWQpO1xuICAgICAqIC8vID0+IFtbJ2EnLCAnYiddLCBbMSwgMl0sIFt0cnVlLCBmYWxzZV1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW56aXAoYXJyYXkpIHtcbiAgICAgIGlmICghKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgdmFyIGxlbmd0aCA9IDA7XG4gICAgICBhcnJheSA9IGFycmF5RmlsdGVyKGFycmF5LCBmdW5jdGlvbihncm91cCkge1xuICAgICAgICBpZiAoaXNBcnJheUxpa2VPYmplY3QoZ3JvdXApKSB7XG4gICAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWF4KGdyb3VwLmxlbmd0aCwgbGVuZ3RoKTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gYmFzZVRpbWVzKGxlbmd0aCwgZnVuY3Rpb24oaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIGFycmF5TWFwKGFycmF5LCBiYXNlUHJvcGVydHkoaW5kZXgpKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udW56aXBgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB0byBzcGVjaWZ5XG4gICAgICogaG93IHJlZ3JvdXBlZCB2YWx1ZXMgc2hvdWxkIGJlIGNvbWJpbmVkLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIHRoZVxuICAgICAqIGVsZW1lbnRzIG9mIGVhY2ggZ3JvdXA6ICguLi5ncm91cCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy44LjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgb2YgZ3JvdXBlZCBlbGVtZW50cyB0byBwcm9jZXNzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gdG8gY29tYmluZVxuICAgICAqICByZWdyb3VwZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIHJlZ3JvdXBlZCBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHppcHBlZCA9IF8uemlwKFsxLCAyXSwgWzEwLCAyMF0sIFsxMDAsIDIwMF0pO1xuICAgICAqIC8vID0+IFtbMSwgMTAsIDEwMF0sIFsyLCAyMCwgMjAwXV1cbiAgICAgKlxuICAgICAqIF8udW56aXBXaXRoKHppcHBlZCwgXy5hZGQpO1xuICAgICAqIC8vID0+IFszLCAzMCwgMzAwXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuemlwV2l0aChhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIGlmICghKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IHVuemlwKGFycmF5KTtcbiAgICAgIGlmIChpdGVyYXRlZSA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyYXlNYXAocmVzdWx0LCBmdW5jdGlvbihncm91cCkge1xuICAgICAgICByZXR1cm4gYXBwbHkoaXRlcmF0ZWUsIHVuZGVmaW5lZCwgZ3JvdXApO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBleGNsdWRpbmcgYWxsIGdpdmVuIHZhbHVlcyB1c2luZ1xuICAgICAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5wdWxsYCwgdGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byBleGNsdWRlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKiBAc2VlIF8uZGlmZmVyZW5jZSwgXy54b3JcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy53aXRob3V0KFsyLCAxLCAyLCAzXSwgMSwgMik7XG4gICAgICogLy8gPT4gWzNdXG4gICAgICovXG4gICAgdmFyIHdpdGhvdXQgPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheSwgdmFsdWVzKSB7XG4gICAgICByZXR1cm4gaXNBcnJheUxpa2VPYmplY3QoYXJyYXkpXG4gICAgICAgID8gYmFzZURpZmZlcmVuY2UoYXJyYXksIHZhbHVlcylcbiAgICAgICAgOiBbXTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdW5pcXVlIHZhbHVlcyB0aGF0IGlzIHRoZVxuICAgICAqIFtzeW1tZXRyaWMgZGlmZmVyZW5jZV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvU3ltbWV0cmljX2RpZmZlcmVuY2UpXG4gICAgICogb2YgdGhlIGdpdmVuIGFycmF5cy4gVGhlIG9yZGVyIG9mIHJlc3VsdCB2YWx1ZXMgaXMgZGV0ZXJtaW5lZCBieSB0aGUgb3JkZXJcbiAgICAgKiB0aGV5IG9jY3VyIGluIHRoZSBhcnJheXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi40LjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBzZWUgXy5kaWZmZXJlbmNlLCBfLndpdGhvdXRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy54b3IoWzIsIDFdLCBbMiwgM10pO1xuICAgICAqIC8vID0+IFsxLCAzXVxuICAgICAqL1xuICAgIHZhciB4b3IgPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHJldHVybiBiYXNlWG9yKGFycmF5RmlsdGVyKGFycmF5cywgaXNBcnJheUxpa2VPYmplY3QpKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ueG9yYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgb2YgZWFjaCBgYXJyYXlzYCB0byBnZW5lcmF0ZSB0aGUgY3JpdGVyaW9uIGJ5XG4gICAgICogd2hpY2ggYnkgd2hpY2ggdGhleSdyZSBjb21wYXJlZC4gVGhlIG9yZGVyIG9mIHJlc3VsdCB2YWx1ZXMgaXMgZGV0ZXJtaW5lZFxuICAgICAqIGJ5IHRoZSBvcmRlciB0aGV5IG9jY3VyIGluIHRoZSBhcnJheXMuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lXG4gICAgICogYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy54b3JCeShbMi4xLCAxLjJdLCBbMi4zLCAzLjRdLCBNYXRoLmZsb29yKTtcbiAgICAgKiAvLyA9PiBbMS4yLCAzLjRdXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnhvckJ5KFt7ICd4JzogMSB9XSwgW3sgJ3gnOiAyIH0sIHsgJ3gnOiAxIH1dLCAneCcpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMiB9XVxuICAgICAqL1xuICAgIHZhciB4b3JCeSA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgdmFyIGl0ZXJhdGVlID0gbGFzdChhcnJheXMpO1xuICAgICAgaWYgKGlzQXJyYXlMaWtlT2JqZWN0KGl0ZXJhdGVlKSkge1xuICAgICAgICBpdGVyYXRlZSA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlWG9yKGFycmF5RmlsdGVyKGFycmF5cywgaXNBcnJheUxpa2VPYmplY3QpLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy54b3JgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGNvbXBhcmF0b3JgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCB0byBjb21wYXJlIGVsZW1lbnRzIG9mIGBhcnJheXNgLiBUaGUgb3JkZXIgb2YgcmVzdWx0IHZhbHVlcyBpc1xuICAgICAqIGRldGVybWluZWQgYnkgdGhlIG9yZGVyIHRoZXkgb2NjdXIgaW4gdGhlIGFycmF5cy4gVGhlIGNvbXBhcmF0b3IgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdHdvIGFyZ3VtZW50czogKGFyclZhbCwgb3RoVmFsKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDIsICd5JzogMSB9XTtcbiAgICAgKiB2YXIgb3RoZXJzID0gW3sgJ3gnOiAxLCAneSc6IDEgfSwgeyAneCc6IDEsICd5JzogMiB9XTtcbiAgICAgKlxuICAgICAqIF8ueG9yV2l0aChvYmplY3RzLCBvdGhlcnMsIF8uaXNFcXVhbCk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAyLCAneSc6IDEgfSwgeyAneCc6IDEsICd5JzogMSB9XVxuICAgICAqL1xuICAgIHZhciB4b3JXaXRoID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICB2YXIgY29tcGFyYXRvciA9IGxhc3QoYXJyYXlzKTtcbiAgICAgIGNvbXBhcmF0b3IgPSB0eXBlb2YgY29tcGFyYXRvciA9PSAnZnVuY3Rpb24nID8gY29tcGFyYXRvciA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiBiYXNlWG9yKGFycmF5RmlsdGVyKGFycmF5cywgaXNBcnJheUxpa2VPYmplY3QpLCB1bmRlZmluZWQsIGNvbXBhcmF0b3IpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBncm91cGVkIGVsZW1lbnRzLCB0aGUgZmlyc3Qgb2Ygd2hpY2ggY29udGFpbnMgdGhlXG4gICAgICogZmlyc3QgZWxlbWVudHMgb2YgdGhlIGdpdmVuIGFycmF5cywgdGhlIHNlY29uZCBvZiB3aGljaCBjb250YWlucyB0aGVcbiAgICAgKiBzZWNvbmQgZWxlbWVudHMgb2YgdGhlIGdpdmVuIGFycmF5cywgYW5kIHNvIG9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBwcm9jZXNzLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGdyb3VwZWQgZWxlbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uemlwKFsnYScsICdiJ10sIFsxLCAyXSwgW3RydWUsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gW1snYScsIDEsIHRydWVdLCBbJ2InLCAyLCBmYWxzZV1dXG4gICAgICovXG4gICAgdmFyIHppcCA9IGJhc2VSZXN0KHVuemlwKTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZnJvbVBhaXJzYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIHR3byBhcnJheXMsXG4gICAgICogb25lIG9mIHByb3BlcnR5IGlkZW50aWZpZXJzIGFuZCBvbmUgb2YgY29ycmVzcG9uZGluZyB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC40LjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcHJvcHM9W11dIFRoZSBwcm9wZXJ0eSBpZGVudGlmaWVycy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbdmFsdWVzPVtdXSBUaGUgcHJvcGVydHkgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uemlwT2JqZWN0KFsnYScsICdiJ10sIFsxLCAyXSk7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdiJzogMiB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gemlwT2JqZWN0KHByb3BzLCB2YWx1ZXMpIHtcbiAgICAgIHJldHVybiBiYXNlWmlwT2JqZWN0KHByb3BzIHx8IFtdLCB2YWx1ZXMgfHwgW10sIGFzc2lnblZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnppcE9iamVjdGAgZXhjZXB0IHRoYXQgaXQgc3VwcG9ydHMgcHJvcGVydHkgcGF0aHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcHJvcHM9W11dIFRoZSBwcm9wZXJ0eSBpZGVudGlmaWVycy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbdmFsdWVzPVtdXSBUaGUgcHJvcGVydHkgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uemlwT2JqZWN0RGVlcChbJ2EuYlswXS5jJywgJ2EuYlsxXS5kJ10sIFsxLCAyXSk7XG4gICAgICogLy8gPT4geyAnYSc6IHsgJ2InOiBbeyAnYyc6IDEgfSwgeyAnZCc6IDIgfV0gfSB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gemlwT2JqZWN0RGVlcChwcm9wcywgdmFsdWVzKSB7XG4gICAgICByZXR1cm4gYmFzZVppcE9iamVjdChwcm9wcyB8fCBbXSwgdmFsdWVzIHx8IFtdLCBiYXNlU2V0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnppcGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHRvIHNwZWNpZnlcbiAgICAgKiBob3cgZ3JvdXBlZCB2YWx1ZXMgc2hvdWxkIGJlIGNvbWJpbmVkLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIHRoZVxuICAgICAqIGVsZW1lbnRzIG9mIGVhY2ggZ3JvdXA6ICguLi5ncm91cCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy44LjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIHByb2Nlc3MuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiB0byBjb21iaW5lXG4gICAgICogIGdyb3VwZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGdyb3VwZWQgZWxlbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uemlwV2l0aChbMSwgMl0sIFsxMCwgMjBdLCBbMTAwLCAyMDBdLCBmdW5jdGlvbihhLCBiLCBjKSB7XG4gICAgICogICByZXR1cm4gYSArIGIgKyBjO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IFsxMTEsIDIyMl1cbiAgICAgKi9cbiAgICB2YXIgemlwV2l0aCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5cy5sZW5ndGgsXG4gICAgICAgICAgaXRlcmF0ZWUgPSBsZW5ndGggPiAxID8gYXJyYXlzW2xlbmd0aCAtIDFdIDogdW5kZWZpbmVkO1xuXG4gICAgICBpdGVyYXRlZSA9IHR5cGVvZiBpdGVyYXRlZSA9PSAnZnVuY3Rpb24nID8gKGFycmF5cy5wb3AoKSwgaXRlcmF0ZWUpIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIHVuemlwV2l0aChhcnJheXMsIGl0ZXJhdGVlKTtcbiAgICB9KTtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlIHRoYXQgd3JhcHMgYHZhbHVlYCB3aXRoIGV4cGxpY2l0IG1ldGhvZFxuICAgICAqIGNoYWluIHNlcXVlbmNlcyBlbmFibGVkLiBUaGUgcmVzdWx0IG9mIHN1Y2ggc2VxdWVuY2VzIG11c3QgYmUgdW53cmFwcGVkXG4gICAgICogd2l0aCBgXyN2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gd3JhcC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FnZSc6IDM2IH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWdlJzogNDAgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhZ2UnOiAxIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogdmFyIHlvdW5nZXN0ID0gX1xuICAgICAqICAgLmNoYWluKHVzZXJzKVxuICAgICAqICAgLnNvcnRCeSgnYWdlJylcbiAgICAgKiAgIC5tYXAoZnVuY3Rpb24obykge1xuICAgICAqICAgICByZXR1cm4gby51c2VyICsgJyBpcyAnICsgby5hZ2U7XG4gICAgICogICB9KVxuICAgICAqICAgLmhlYWQoKVxuICAgICAqICAgLnZhbHVlKCk7XG4gICAgICogLy8gPT4gJ3BlYmJsZXMgaXMgMSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjaGFpbih2YWx1ZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IGxvZGFzaCh2YWx1ZSk7XG4gICAgICByZXN1bHQuX19jaGFpbl9fID0gdHJ1ZTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaW52b2tlcyBgaW50ZXJjZXB0b3JgIGFuZCByZXR1cm5zIGB2YWx1ZWAuIFRoZSBpbnRlcmNlcHRvclxuICAgICAqIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ7ICh2YWx1ZSkuIFRoZSBwdXJwb3NlIG9mIHRoaXMgbWV0aG9kIGlzIHRvXG4gICAgICogXCJ0YXAgaW50b1wiIGEgbWV0aG9kIGNoYWluIHNlcXVlbmNlIGluIG9yZGVyIHRvIG1vZGlmeSBpbnRlcm1lZGlhdGUgcmVzdWx0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm92aWRlIHRvIGBpbnRlcmNlcHRvcmAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaW50ZXJjZXB0b3IgVGhlIGZ1bmN0aW9uIHRvIGludm9rZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyBgdmFsdWVgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfKFsxLCAyLCAzXSlcbiAgICAgKiAgLnRhcChmdW5jdGlvbihhcnJheSkge1xuICAgICAqICAgIC8vIE11dGF0ZSBpbnB1dCBhcnJheS5cbiAgICAgKiAgICBhcnJheS5wb3AoKTtcbiAgICAgKiAgfSlcbiAgICAgKiAgLnJldmVyc2UoKVxuICAgICAqICAudmFsdWUoKTtcbiAgICAgKiAvLyA9PiBbMiwgMV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0YXAodmFsdWUsIGludGVyY2VwdG9yKSB7XG4gICAgICBpbnRlcmNlcHRvcih2YWx1ZSk7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy50YXBgIGV4Y2VwdCB0aGF0IGl0IHJldHVybnMgdGhlIHJlc3VsdCBvZiBgaW50ZXJjZXB0b3JgLlxuICAgICAqIFRoZSBwdXJwb3NlIG9mIHRoaXMgbWV0aG9kIGlzIHRvIFwicGFzcyB0aHJ1XCIgdmFsdWVzIHJlcGxhY2luZyBpbnRlcm1lZGlhdGVcbiAgICAgKiByZXN1bHRzIGluIGEgbWV0aG9kIGNoYWluIHNlcXVlbmNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb3ZpZGUgdG8gYGludGVyY2VwdG9yYC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpbnRlcmNlcHRvciBUaGUgZnVuY3Rpb24gdG8gaW52b2tlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXN1bHQgb2YgYGludGVyY2VwdG9yYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXygnICBhYmMgICcpXG4gICAgICogIC5jaGFpbigpXG4gICAgICogIC50cmltKClcbiAgICAgKiAgLnRocnUoZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgKiAgICByZXR1cm4gW3ZhbHVlXTtcbiAgICAgKiAgfSlcbiAgICAgKiAgLnZhbHVlKCk7XG4gICAgICogLy8gPT4gWydhYmMnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRocnUodmFsdWUsIGludGVyY2VwdG9yKSB7XG4gICAgICByZXR1cm4gaW50ZXJjZXB0b3IodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIHRoZSB3cmFwcGVyIHZlcnNpb24gb2YgYF8uYXRgLlxuICAgICAqXG4gICAgICogQG5hbWUgYXRcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcGFyYW0gey4uLihzdHJpbmd8c3RyaW5nW10pfSBbcGF0aHNdIFRoZSBwcm9wZXJ0eSBwYXRocyB0byBwaWNrLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYyc6IDMgfSB9LCA0XSB9O1xuICAgICAqXG4gICAgICogXyhvYmplY3QpLmF0KFsnYVswXS5iLmMnLCAnYVsxXSddKS52YWx1ZSgpO1xuICAgICAqIC8vID0+IFszLCA0XVxuICAgICAqL1xuICAgIHZhciB3cmFwcGVyQXQgPSBmbGF0UmVzdChmdW5jdGlvbihwYXRocykge1xuICAgICAgdmFyIGxlbmd0aCA9IHBhdGhzLmxlbmd0aCxcbiAgICAgICAgICBzdGFydCA9IGxlbmd0aCA/IHBhdGhzWzBdIDogMCxcbiAgICAgICAgICB2YWx1ZSA9IHRoaXMuX193cmFwcGVkX18sXG4gICAgICAgICAgaW50ZXJjZXB0b3IgPSBmdW5jdGlvbihvYmplY3QpIHsgcmV0dXJuIGJhc2VBdChvYmplY3QsIHBhdGhzKTsgfTtcblxuICAgICAgaWYgKGxlbmd0aCA+IDEgfHwgdGhpcy5fX2FjdGlvbnNfXy5sZW5ndGggfHxcbiAgICAgICAgICAhKHZhbHVlIGluc3RhbmNlb2YgTGF6eVdyYXBwZXIpIHx8ICFpc0luZGV4KHN0YXJ0KSkge1xuICAgICAgICByZXR1cm4gdGhpcy50aHJ1KGludGVyY2VwdG9yKTtcbiAgICAgIH1cbiAgICAgIHZhbHVlID0gdmFsdWUuc2xpY2Uoc3RhcnQsICtzdGFydCArIChsZW5ndGggPyAxIDogMCkpO1xuICAgICAgdmFsdWUuX19hY3Rpb25zX18ucHVzaCh7XG4gICAgICAgICdmdW5jJzogdGhydSxcbiAgICAgICAgJ2FyZ3MnOiBbaW50ZXJjZXB0b3JdLFxuICAgICAgICAndGhpc0FyZyc6IHVuZGVmaW5lZFxuICAgICAgfSk7XG4gICAgICByZXR1cm4gbmV3IExvZGFzaFdyYXBwZXIodmFsdWUsIHRoaXMuX19jaGFpbl9fKS50aHJ1KGZ1bmN0aW9uKGFycmF5KSB7XG4gICAgICAgIGlmIChsZW5ndGggJiYgIWFycmF5Lmxlbmd0aCkge1xuICAgICAgICAgIGFycmF5LnB1c2godW5kZWZpbmVkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXJyYXk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlIHdpdGggZXhwbGljaXQgbWV0aG9kIGNoYWluIHNlcXVlbmNlcyBlbmFibGVkLlxuICAgICAqXG4gICAgICogQG5hbWUgY2hhaW5cbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzYgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQwIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gQSBzZXF1ZW5jZSB3aXRob3V0IGV4cGxpY2l0IGNoYWluaW5nLlxuICAgICAqIF8odXNlcnMpLmhlYWQoKTtcbiAgICAgKiAvLyA9PiB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiB9XG4gICAgICpcbiAgICAgKiAvLyBBIHNlcXVlbmNlIHdpdGggZXhwbGljaXQgY2hhaW5pbmcuXG4gICAgICogXyh1c2VycylcbiAgICAgKiAgIC5jaGFpbigpXG4gICAgICogICAuaGVhZCgpXG4gICAgICogICAucGljaygndXNlcicpXG4gICAgICogICAudmFsdWUoKTtcbiAgICAgKiAvLyA9PiB7ICd1c2VyJzogJ2Jhcm5leScgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJDaGFpbigpIHtcbiAgICAgIHJldHVybiBjaGFpbih0aGlzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeGVjdXRlcyB0aGUgY2hhaW4gc2VxdWVuY2UgYW5kIHJldHVybnMgdGhlIHdyYXBwZWQgcmVzdWx0LlxuICAgICAqXG4gICAgICogQG5hbWUgY29tbWl0XG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4yLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsxLCAyXTtcbiAgICAgKiB2YXIgd3JhcHBlZCA9IF8oYXJyYXkpLnB1c2goMyk7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICpcbiAgICAgKiB3cmFwcGVkID0gd3JhcHBlZC5jb21taXQoKTtcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiB3cmFwcGVkLmxhc3QoKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlckNvbW1pdCgpIHtcbiAgICAgIHJldHVybiBuZXcgTG9kYXNoV3JhcHBlcih0aGlzLnZhbHVlKCksIHRoaXMuX19jaGFpbl9fKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBuZXh0IHZhbHVlIG9uIGEgd3JhcHBlZCBvYmplY3QgZm9sbG93aW5nIHRoZVxuICAgICAqIFtpdGVyYXRvciBwcm90b2NvbF0oaHR0cHM6Ly9tZG4uaW8vaXRlcmF0aW9uX3Byb3RvY29scyNpdGVyYXRvcikuXG4gICAgICpcbiAgICAgKiBAbmFtZSBuZXh0XG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV4dCBpdGVyYXRvciB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHdyYXBwZWQgPSBfKFsxLCAyXSk7XG4gICAgICpcbiAgICAgKiB3cmFwcGVkLm5leHQoKTtcbiAgICAgKiAvLyA9PiB7ICdkb25lJzogZmFsc2UsICd2YWx1ZSc6IDEgfVxuICAgICAqXG4gICAgICogd3JhcHBlZC5uZXh0KCk7XG4gICAgICogLy8gPT4geyAnZG9uZSc6IGZhbHNlLCAndmFsdWUnOiAyIH1cbiAgICAgKlxuICAgICAqIHdyYXBwZWQubmV4dCgpO1xuICAgICAqIC8vID0+IHsgJ2RvbmUnOiB0cnVlLCAndmFsdWUnOiB1bmRlZmluZWQgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJOZXh0KCkge1xuICAgICAgaWYgKHRoaXMuX192YWx1ZXNfXyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMuX192YWx1ZXNfXyA9IHRvQXJyYXkodGhpcy52YWx1ZSgpKTtcbiAgICAgIH1cbiAgICAgIHZhciBkb25lID0gdGhpcy5fX2luZGV4X18gPj0gdGhpcy5fX3ZhbHVlc19fLmxlbmd0aCxcbiAgICAgICAgICB2YWx1ZSA9IGRvbmUgPyB1bmRlZmluZWQgOiB0aGlzLl9fdmFsdWVzX19bdGhpcy5fX2luZGV4X18rK107XG5cbiAgICAgIHJldHVybiB7ICdkb25lJzogZG9uZSwgJ3ZhbHVlJzogdmFsdWUgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbmFibGVzIHRoZSB3cmFwcGVyIHRvIGJlIGl0ZXJhYmxlLlxuICAgICAqXG4gICAgICogQG5hbWUgU3ltYm9sLml0ZXJhdG9yXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgd3JhcHBlciBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB3cmFwcGVkID0gXyhbMSwgMl0pO1xuICAgICAqXG4gICAgICogd3JhcHBlZFtTeW1ib2wuaXRlcmF0b3JdKCkgPT09IHdyYXBwZWQ7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogQXJyYXkuZnJvbSh3cmFwcGVkKTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwcGVyVG9JdGVyYXRvcigpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGUgY2hhaW4gc2VxdWVuY2UgcGxhbnRpbmcgYHZhbHVlYCBhcyB0aGUgd3JhcHBlZCB2YWx1ZS5cbiAgICAgKlxuICAgICAqIEBuYW1lIHBsYW50XG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4yLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcGxhbnQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIHNxdWFyZShuKSB7XG4gICAgICogICByZXR1cm4gbiAqIG47XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIHdyYXBwZWQgPSBfKFsxLCAyXSkubWFwKHNxdWFyZSk7XG4gICAgICogdmFyIG90aGVyID0gd3JhcHBlZC5wbGFudChbMywgNF0pO1xuICAgICAqXG4gICAgICogb3RoZXIudmFsdWUoKTtcbiAgICAgKiAvLyA9PiBbOSwgMTZdXG4gICAgICpcbiAgICAgKiB3cmFwcGVkLnZhbHVlKCk7XG4gICAgICogLy8gPT4gWzEsIDRdXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlclBsYW50KHZhbHVlKSB7XG4gICAgICB2YXIgcmVzdWx0LFxuICAgICAgICAgIHBhcmVudCA9IHRoaXM7XG5cbiAgICAgIHdoaWxlIChwYXJlbnQgaW5zdGFuY2VvZiBiYXNlTG9kYXNoKSB7XG4gICAgICAgIHZhciBjbG9uZSA9IHdyYXBwZXJDbG9uZShwYXJlbnQpO1xuICAgICAgICBjbG9uZS5fX2luZGV4X18gPSAwO1xuICAgICAgICBjbG9uZS5fX3ZhbHVlc19fID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgcHJldmlvdXMuX193cmFwcGVkX18gPSBjbG9uZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXN1bHQgPSBjbG9uZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcHJldmlvdXMgPSBjbG9uZTtcbiAgICAgICAgcGFyZW50ID0gcGFyZW50Ll9fd3JhcHBlZF9fO1xuICAgICAgfVxuICAgICAgcHJldmlvdXMuX193cmFwcGVkX18gPSB2YWx1ZTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgdGhlIHdyYXBwZXIgdmVyc2lvbiBvZiBgXy5yZXZlcnNlYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIHRoZSB3cmFwcGVkIGFycmF5LlxuICAgICAqXG4gICAgICogQG5hbWUgcmV2ZXJzZVxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMSwgMiwgM107XG4gICAgICpcbiAgICAgKiBfKGFycmF5KS5yZXZlcnNlKCkudmFsdWUoKVxuICAgICAqIC8vID0+IFszLCAyLCAxXVxuICAgICAqXG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFszLCAyLCAxXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJSZXZlcnNlKCkge1xuICAgICAgdmFyIHZhbHVlID0gdGhpcy5fX3dyYXBwZWRfXztcbiAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIExhenlXcmFwcGVyKSB7XG4gICAgICAgIHZhciB3cmFwcGVkID0gdmFsdWU7XG4gICAgICAgIGlmICh0aGlzLl9fYWN0aW9uc19fLmxlbmd0aCkge1xuICAgICAgICAgIHdyYXBwZWQgPSBuZXcgTGF6eVdyYXBwZXIodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgd3JhcHBlZCA9IHdyYXBwZWQucmV2ZXJzZSgpO1xuICAgICAgICB3cmFwcGVkLl9fYWN0aW9uc19fLnB1c2goe1xuICAgICAgICAgICdmdW5jJzogdGhydSxcbiAgICAgICAgICAnYXJncyc6IFtyZXZlcnNlXSxcbiAgICAgICAgICAndGhpc0FyZyc6IHVuZGVmaW5lZFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG5ldyBMb2Rhc2hXcmFwcGVyKHdyYXBwZWQsIHRoaXMuX19jaGFpbl9fKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLnRocnUocmV2ZXJzZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXhlY3V0ZXMgdGhlIGNoYWluIHNlcXVlbmNlIHRvIHJlc29sdmUgdGhlIHVud3JhcHBlZCB2YWx1ZS5cbiAgICAgKlxuICAgICAqIEBuYW1lIHZhbHVlXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAYWxpYXMgdG9KU09OLCB2YWx1ZU9mXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXNvbHZlZCB1bndyYXBwZWQgdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8oWzEsIDIsIDNdKS52YWx1ZSgpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJWYWx1ZSgpIHtcbiAgICAgIHJldHVybiBiYXNlV3JhcHBlclZhbHVlKHRoaXMuX193cmFwcGVkX18sIHRoaXMuX19hY3Rpb25zX18pO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIGtleXMgZ2VuZXJhdGVkIGZyb20gdGhlIHJlc3VsdHMgb2YgcnVubmluZ1xuICAgICAqIGVhY2ggZWxlbWVudCBvZiBgY29sbGVjdGlvbmAgdGhydSBgaXRlcmF0ZWVgLiBUaGUgY29ycmVzcG9uZGluZyB2YWx1ZSBvZlxuICAgICAqIGVhY2gga2V5IGlzIHRoZSBudW1iZXIgb2YgdGltZXMgdGhlIGtleSB3YXMgcmV0dXJuZWQgYnkgYGl0ZXJhdGVlYC4gVGhlXG4gICAgICogaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjUuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgdG8gdHJhbnNmb3JtIGtleXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY29tcG9zZWQgYWdncmVnYXRlIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5jb3VudEJ5KFs2LjEsIDQuMiwgNi4zXSwgTWF0aC5mbG9vcik7XG4gICAgICogLy8gPT4geyAnNCc6IDEsICc2JzogMiB9XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmNvdW50QnkoWydvbmUnLCAndHdvJywgJ3RocmVlJ10sICdsZW5ndGgnKTtcbiAgICAgKiAvLyA9PiB7ICczJzogMiwgJzUnOiAxIH1cbiAgICAgKi9cbiAgICB2YXIgY291bnRCeSA9IGNyZWF0ZUFnZ3JlZ2F0b3IoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChyZXN1bHQsIGtleSkpIHtcbiAgICAgICAgKytyZXN1bHRba2V5XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJhc2VBc3NpZ25WYWx1ZShyZXN1bHQsIGtleSwgMSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yICoqYWxsKiogZWxlbWVudHMgb2YgYGNvbGxlY3Rpb25gLlxuICAgICAqIEl0ZXJhdGlvbiBpcyBzdG9wcGVkIG9uY2UgYHByZWRpY2F0ZWAgcmV0dXJucyBmYWxzZXkuIFRoZSBwcmVkaWNhdGUgaXNcbiAgICAgKiBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgcmV0dXJucyBgdHJ1ZWAgZm9yXG4gICAgICogW2VtcHR5IGNvbGxlY3Rpb25zXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9FbXB0eV9zZXQpIGJlY2F1c2VcbiAgICAgKiBbZXZlcnl0aGluZyBpcyB0cnVlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9WYWN1b3VzX3RydXRoKSBvZlxuICAgICAqIGVsZW1lbnRzIG9mIGVtcHR5IGNvbGxlY3Rpb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFsbCBlbGVtZW50cyBwYXNzIHRoZSBwcmVkaWNhdGUgY2hlY2ssXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5ldmVyeShbdHJ1ZSwgMSwgbnVsbCwgJ3llcyddLCBCb29sZWFuKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzYsICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDAsICdhY3RpdmUnOiBmYWxzZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5ldmVyeSh1c2VycywgeyAndXNlcic6ICdiYXJuZXknLCAnYWN0aXZlJzogZmFsc2UgfSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmV2ZXJ5KHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5ldmVyeSh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gZXZlcnkoY29sbGVjdGlvbiwgcHJlZGljYXRlLCBndWFyZCkge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlFdmVyeSA6IGJhc2VFdmVyeTtcbiAgICAgIGlmIChndWFyZCAmJiBpc0l0ZXJhdGVlQ2FsbChjb2xsZWN0aW9uLCBwcmVkaWNhdGUsIGd1YXJkKSkge1xuICAgICAgICBwcmVkaWNhdGUgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mIGBjb2xsZWN0aW9uYCwgcmV0dXJuaW5nIGFuIGFycmF5IG9mIGFsbCBlbGVtZW50c1xuICAgICAqIGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5IGZvci4gVGhlIHByZWRpY2F0ZSBpcyBpbnZva2VkIHdpdGggdGhyZWVcbiAgICAgKiBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8ucmVtb3ZlYCwgdGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmaWx0ZXJlZCBhcnJheS5cbiAgICAgKiBAc2VlIF8ucmVqZWN0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDAsICdhY3RpdmUnOiBmYWxzZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZmlsdGVyKHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiAhby5hY3RpdmU7IH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmlsdGVyKHVzZXJzLCB7ICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmlsdGVyKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydmcmVkJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmlsdGVyKHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknXVxuICAgICAqXG4gICAgICogLy8gQ29tYmluaW5nIHNldmVyYWwgcHJlZGljYXRlcyB1c2luZyBgXy5vdmVyRXZlcnlgIG9yIGBfLm92ZXJTb21lYC5cbiAgICAgKiBfLmZpbHRlcih1c2VycywgXy5vdmVyU29tZShbeyAnYWdlJzogMzYgfSwgWydhZ2UnLCA0MF1dKSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydmcmVkJywgJ2Jhcm5leSddXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmlsdGVyKGNvbGxlY3Rpb24sIHByZWRpY2F0ZSkge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlGaWx0ZXIgOiBiYXNlRmlsdGVyO1xuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZiBgY29sbGVjdGlvbmAsIHJldHVybmluZyB0aGUgZmlyc3QgZWxlbWVudFxuICAgICAqIGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5IGZvci4gVGhlIHByZWRpY2F0ZSBpcyBpbnZva2VkIHdpdGggdGhyZWVcbiAgICAgKiBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9MF0gVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBtYXRjaGVkIGVsZW1lbnQsIGVsc2UgYHVuZGVmaW5lZGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWdlJzogMSwgICdhY3RpdmUnOiB0cnVlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5maW5kKHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLmFnZSA8IDQwOyB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3QgZm9yICdiYXJuZXknXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZCh1c2VycywgeyAnYWdlJzogMSwgJ2FjdGl2ZSc6IHRydWUgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0IGZvciAncGViYmxlcydcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmQodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBvYmplY3QgZm9yICdmcmVkJ1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kKHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gb2JqZWN0IGZvciAnYmFybmV5J1xuICAgICAqL1xuICAgIHZhciBmaW5kID0gY3JlYXRlRmluZChmaW5kSW5kZXgpO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5maW5kYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mXG4gICAgICogYGNvbGxlY3Rpb25gIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9Y29sbGVjdGlvbi5sZW5ndGgtMV0gVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBtYXRjaGVkIGVsZW1lbnQsIGVsc2UgYHVuZGVmaW5lZGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZmluZExhc3QoWzEsIDIsIDMsIDRdLCBmdW5jdGlvbihuKSB7XG4gICAgICogICByZXR1cm4gbiAlIDIgPT0gMTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICovXG4gICAgdmFyIGZpbmRMYXN0ID0gY3JlYXRlRmluZChmaW5kTGFzdEluZGV4KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmbGF0dGVuZWQgYXJyYXkgb2YgdmFsdWVzIGJ5IHJ1bm5pbmcgZWFjaCBlbGVtZW50IGluIGBjb2xsZWN0aW9uYFxuICAgICAqIHRocnUgYGl0ZXJhdGVlYCBhbmQgZmxhdHRlbmluZyB0aGUgbWFwcGVkIHJlc3VsdHMuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZsYXR0ZW5lZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gZHVwbGljYXRlKG4pIHtcbiAgICAgKiAgIHJldHVybiBbbiwgbl07XG4gICAgICogfVxuICAgICAqXG4gICAgICogXy5mbGF0TWFwKFsxLCAyXSwgZHVwbGljYXRlKTtcbiAgICAgKiAvLyA9PiBbMSwgMSwgMiwgMl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmbGF0TWFwKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gYmFzZUZsYXR0ZW4obWFwKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSwgMSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mbGF0TWFwYCBleGNlcHQgdGhhdCBpdCByZWN1cnNpdmVseSBmbGF0dGVucyB0aGVcbiAgICAgKiBtYXBwZWQgcmVzdWx0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjcuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZsYXR0ZW5lZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gZHVwbGljYXRlKG4pIHtcbiAgICAgKiAgIHJldHVybiBbW1tuLCBuXV1dO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIF8uZmxhdE1hcERlZXAoWzEsIDJdLCBkdXBsaWNhdGUpO1xuICAgICAqIC8vID0+IFsxLCAxLCAyLCAyXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsYXRNYXBEZWVwKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gYmFzZUZsYXR0ZW4obWFwKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSwgSU5GSU5JVFkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZmxhdE1hcGAgZXhjZXB0IHRoYXQgaXQgcmVjdXJzaXZlbHkgZmxhdHRlbnMgdGhlXG4gICAgICogbWFwcGVkIHJlc3VsdHMgdXAgdG8gYGRlcHRoYCB0aW1lcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjcuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZGVwdGg9MV0gVGhlIG1heGltdW0gcmVjdXJzaW9uIGRlcHRoLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZsYXR0ZW5lZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gZHVwbGljYXRlKG4pIHtcbiAgICAgKiAgIHJldHVybiBbW1tuLCBuXV1dO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIF8uZmxhdE1hcERlcHRoKFsxLCAyXSwgZHVwbGljYXRlLCAyKTtcbiAgICAgKiAvLyA9PiBbWzEsIDFdLCBbMiwgMl1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxhdE1hcERlcHRoKGNvbGxlY3Rpb24sIGl0ZXJhdGVlLCBkZXB0aCkge1xuICAgICAgZGVwdGggPSBkZXB0aCA9PT0gdW5kZWZpbmVkID8gMSA6IHRvSW50ZWdlcihkZXB0aCk7XG4gICAgICByZXR1cm4gYmFzZUZsYXR0ZW4obWFwKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSwgZGVwdGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2YgYGNvbGxlY3Rpb25gIGFuZCBpbnZva2VzIGBpdGVyYXRlZWAgZm9yIGVhY2ggZWxlbWVudC5cbiAgICAgKiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqIEl0ZXJhdGVlIGZ1bmN0aW9ucyBtYXkgZXhpdCBpdGVyYXRpb24gZWFybHkgYnkgZXhwbGljaXRseSByZXR1cm5pbmcgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBBcyB3aXRoIG90aGVyIFwiQ29sbGVjdGlvbnNcIiBtZXRob2RzLCBvYmplY3RzIHdpdGggYSBcImxlbmd0aFwiXG4gICAgICogcHJvcGVydHkgYXJlIGl0ZXJhdGVkIGxpa2UgYXJyYXlzLiBUbyBhdm9pZCB0aGlzIGJlaGF2aW9yIHVzZSBgXy5mb3JJbmBcbiAgICAgKiBvciBgXy5mb3JPd25gIGZvciBvYmplY3QgaXRlcmF0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGFsaWFzIGVhY2hcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl8T2JqZWN0fSBSZXR1cm5zIGBjb2xsZWN0aW9uYC5cbiAgICAgKiBAc2VlIF8uZm9yRWFjaFJpZ2h0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZm9yRWFjaChbMSwgMl0sIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICogICBjb25zb2xlLmxvZyh2YWx1ZSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyBgMWAgdGhlbiBgMmAuXG4gICAgICpcbiAgICAgKiBfLmZvckVhY2goeyAnYSc6IDEsICdiJzogMiB9LCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICogICBjb25zb2xlLmxvZyhrZXkpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgJ2EnIHRoZW4gJ2InIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZvckVhY2goY29sbGVjdGlvbiwgaXRlcmF0ZWUpIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5RWFjaCA6IGJhc2VFYWNoO1xuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZvckVhY2hgIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2ZcbiAgICAgKiBgY29sbGVjdGlvbmAgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGFsaWFzIGVhY2hSaWdodFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheXxPYmplY3R9IFJldHVybnMgYGNvbGxlY3Rpb25gLlxuICAgICAqIEBzZWUgXy5mb3JFYWNoXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZm9yRWFjaFJpZ2h0KFsxLCAyXSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKHZhbHVlKTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBMb2dzIGAyYCB0aGVuIGAxYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmb3JFYWNoUmlnaHQoY29sbGVjdGlvbiwgaXRlcmF0ZWUpIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5RWFjaFJpZ2h0IDogYmFzZUVhY2hSaWdodDtcbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2Yga2V5cyBnZW5lcmF0ZWQgZnJvbSB0aGUgcmVzdWx0cyBvZiBydW5uaW5nXG4gICAgICogZWFjaCBlbGVtZW50IG9mIGBjb2xsZWN0aW9uYCB0aHJ1IGBpdGVyYXRlZWAuIFRoZSBvcmRlciBvZiBncm91cGVkIHZhbHVlc1xuICAgICAqIGlzIGRldGVybWluZWQgYnkgdGhlIG9yZGVyIHRoZXkgb2NjdXIgaW4gYGNvbGxlY3Rpb25gLiBUaGUgY29ycmVzcG9uZGluZ1xuICAgICAqIHZhbHVlIG9mIGVhY2gga2V5IGlzIGFuIGFycmF5IG9mIGVsZW1lbnRzIHJlc3BvbnNpYmxlIGZvciBnZW5lcmF0aW5nIHRoZVxuICAgICAqIGtleS4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIHRvIHRyYW5zZm9ybSBrZXlzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNvbXBvc2VkIGFnZ3JlZ2F0ZSBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZ3JvdXBCeShbNi4xLCA0LjIsIDYuM10sIE1hdGguZmxvb3IpO1xuICAgICAqIC8vID0+IHsgJzQnOiBbNC4yXSwgJzYnOiBbNi4xLCA2LjNdIH1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZ3JvdXBCeShbJ29uZScsICd0d28nLCAndGhyZWUnXSwgJ2xlbmd0aCcpO1xuICAgICAqIC8vID0+IHsgJzMnOiBbJ29uZScsICd0d28nXSwgJzUnOiBbJ3RocmVlJ10gfVxuICAgICAqL1xuICAgIHZhciBncm91cEJ5ID0gY3JlYXRlQWdncmVnYXRvcihmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHJlc3VsdCwga2V5KSkge1xuICAgICAgICByZXN1bHRba2V5XS5wdXNoKHZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJhc2VBc3NpZ25WYWx1ZShyZXN1bHQsIGtleSwgW3ZhbHVlXSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBpbiBgY29sbGVjdGlvbmAuIElmIGBjb2xsZWN0aW9uYCBpcyBhIHN0cmluZywgaXQnc1xuICAgICAqIGNoZWNrZWQgZm9yIGEgc3Vic3RyaW5nIG9mIGB2YWx1ZWAsIG90aGVyd2lzZVxuICAgICAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogaXMgdXNlZCBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuIElmIGBmcm9tSW5kZXhgIGlzIG5lZ2F0aXZlLCBpdCdzIHVzZWQgYXNcbiAgICAgKiB0aGUgb2Zmc2V0IGZyb20gdGhlIGVuZCBvZiBgY29sbGVjdGlvbmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fHN0cmluZ30gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9MF0gVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLnJlZHVjZWAuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZm91bmQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pbmNsdWRlcyhbMSwgMiwgM10sIDEpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaW5jbHVkZXMoWzEsIDIsIDNdLCAxLCAyKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pbmNsdWRlcyh7ICdhJzogMSwgJ2InOiAyIH0sIDEpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaW5jbHVkZXMoJ2FiY2QnLCAnYmMnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5jbHVkZXMoY29sbGVjdGlvbiwgdmFsdWUsIGZyb21JbmRleCwgZ3VhcmQpIHtcbiAgICAgIGNvbGxlY3Rpb24gPSBpc0FycmF5TGlrZShjb2xsZWN0aW9uKSA/IGNvbGxlY3Rpb24gOiB2YWx1ZXMoY29sbGVjdGlvbik7XG4gICAgICBmcm9tSW5kZXggPSAoZnJvbUluZGV4ICYmICFndWFyZCkgPyB0b0ludGVnZXIoZnJvbUluZGV4KSA6IDA7XG5cbiAgICAgIHZhciBsZW5ndGggPSBjb2xsZWN0aW9uLmxlbmd0aDtcbiAgICAgIGlmIChmcm9tSW5kZXggPCAwKSB7XG4gICAgICAgIGZyb21JbmRleCA9IG5hdGl2ZU1heChsZW5ndGggKyBmcm9tSW5kZXgsIDApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGlzU3RyaW5nKGNvbGxlY3Rpb24pXG4gICAgICAgID8gKGZyb21JbmRleCA8PSBsZW5ndGggJiYgY29sbGVjdGlvbi5pbmRleE9mKHZhbHVlLCBmcm9tSW5kZXgpID4gLTEpXG4gICAgICAgIDogKCEhbGVuZ3RoICYmIGJhc2VJbmRleE9mKGNvbGxlY3Rpb24sIHZhbHVlLCBmcm9tSW5kZXgpID4gLTEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEludm9rZXMgdGhlIG1ldGhvZCBhdCBgcGF0aGAgb2YgZWFjaCBlbGVtZW50IGluIGBjb2xsZWN0aW9uYCwgcmV0dXJuaW5nXG4gICAgICogYW4gYXJyYXkgb2YgdGhlIHJlc3VsdHMgb2YgZWFjaCBpbnZva2VkIG1ldGhvZC4gQW55IGFkZGl0aW9uYWwgYXJndW1lbnRzXG4gICAgICogYXJlIHByb3ZpZGVkIHRvIGVhY2ggaW52b2tlZCBtZXRob2QuIElmIGBwYXRoYCBpcyBhIGZ1bmN0aW9uLCBpdCdzIGludm9rZWRcbiAgICAgKiBmb3IsIGFuZCBgdGhpc2AgYm91bmQgdG8sIGVhY2ggZWxlbWVudCBpbiBgY29sbGVjdGlvbmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0FycmF5fEZ1bmN0aW9ufHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgbWV0aG9kIHRvIGludm9rZSBvclxuICAgICAqICB0aGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ3NdIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIGVhY2ggbWV0aG9kIHdpdGguXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiByZXN1bHRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmludm9rZU1hcChbWzUsIDEsIDddLCBbMywgMiwgMV1dLCAnc29ydCcpO1xuICAgICAqIC8vID0+IFtbMSwgNSwgN10sIFsxLCAyLCAzXV1cbiAgICAgKlxuICAgICAqIF8uaW52b2tlTWFwKFsxMjMsIDQ1Nl0sIFN0cmluZy5wcm90b3R5cGUuc3BsaXQsICcnKTtcbiAgICAgKiAvLyA9PiBbWycxJywgJzInLCAnMyddLCBbJzQnLCAnNScsICc2J11dXG4gICAgICovXG4gICAgdmFyIGludm9rZU1hcCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGNvbGxlY3Rpb24sIHBhdGgsIGFyZ3MpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGlzRnVuYyA9IHR5cGVvZiBwYXRoID09ICdmdW5jdGlvbicsXG4gICAgICAgICAgcmVzdWx0ID0gaXNBcnJheUxpa2UoY29sbGVjdGlvbikgPyBBcnJheShjb2xsZWN0aW9uLmxlbmd0aCkgOiBbXTtcblxuICAgICAgYmFzZUVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmVzdWx0WysraW5kZXhdID0gaXNGdW5jID8gYXBwbHkocGF0aCwgdmFsdWUsIGFyZ3MpIDogYmFzZUludm9rZSh2YWx1ZSwgcGF0aCwgYXJncyk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCBjb21wb3NlZCBvZiBrZXlzIGdlbmVyYXRlZCBmcm9tIHRoZSByZXN1bHRzIG9mIHJ1bm5pbmdcbiAgICAgKiBlYWNoIGVsZW1lbnQgb2YgYGNvbGxlY3Rpb25gIHRocnUgYGl0ZXJhdGVlYC4gVGhlIGNvcnJlc3BvbmRpbmcgdmFsdWUgb2ZcbiAgICAgKiBlYWNoIGtleSBpcyB0aGUgbGFzdCBlbGVtZW50IHJlc3BvbnNpYmxlIGZvciBnZW5lcmF0aW5nIHRoZSBrZXkuIFRoZVxuICAgICAqIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIHRvIHRyYW5zZm9ybSBrZXlzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNvbXBvc2VkIGFnZ3JlZ2F0ZSBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFtcbiAgICAgKiAgIHsgJ2Rpcic6ICdsZWZ0JywgJ2NvZGUnOiA5NyB9LFxuICAgICAqICAgeyAnZGlyJzogJ3JpZ2h0JywgJ2NvZGUnOiAxMDAgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmtleUJ5KGFycmF5LCBmdW5jdGlvbihvKSB7XG4gICAgICogICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShvLmNvZGUpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IHsgJ2EnOiB7ICdkaXInOiAnbGVmdCcsICdjb2RlJzogOTcgfSwgJ2QnOiB7ICdkaXInOiAncmlnaHQnLCAnY29kZSc6IDEwMCB9IH1cbiAgICAgKlxuICAgICAqIF8ua2V5QnkoYXJyYXksICdkaXInKTtcbiAgICAgKiAvLyA9PiB7ICdsZWZ0JzogeyAnZGlyJzogJ2xlZnQnLCAnY29kZSc6IDk3IH0sICdyaWdodCc6IHsgJ2Rpcic6ICdyaWdodCcsICdjb2RlJzogMTAwIH0gfVxuICAgICAqL1xuICAgIHZhciBrZXlCeSA9IGNyZWF0ZUFnZ3JlZ2F0b3IoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgICBiYXNlQXNzaWduVmFsdWUocmVzdWx0LCBrZXksIHZhbHVlKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdmFsdWVzIGJ5IHJ1bm5pbmcgZWFjaCBlbGVtZW50IGluIGBjb2xsZWN0aW9uYCB0aHJ1XG4gICAgICogYGl0ZXJhdGVlYC4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM6XG4gICAgICogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogTWFueSBsb2Rhc2ggbWV0aG9kcyBhcmUgZ3VhcmRlZCB0byB3b3JrIGFzIGl0ZXJhdGVlcyBmb3IgbWV0aG9kcyBsaWtlXG4gICAgICogYF8uZXZlcnlgLCBgXy5maWx0ZXJgLCBgXy5tYXBgLCBgXy5tYXBWYWx1ZXNgLCBgXy5yZWplY3RgLCBhbmQgYF8uc29tZWAuXG4gICAgICpcbiAgICAgKiBUaGUgZ3VhcmRlZCBtZXRob2RzIGFyZTpcbiAgICAgKiBgYXJ5YCwgYGNodW5rYCwgYGN1cnJ5YCwgYGN1cnJ5UmlnaHRgLCBgZHJvcGAsIGBkcm9wUmlnaHRgLCBgZXZlcnlgLFxuICAgICAqIGBmaWxsYCwgYGludmVydGAsIGBwYXJzZUludGAsIGByYW5kb21gLCBgcmFuZ2VgLCBgcmFuZ2VSaWdodGAsIGByZXBlYXRgLFxuICAgICAqIGBzYW1wbGVTaXplYCwgYHNsaWNlYCwgYHNvbWVgLCBgc29ydEJ5YCwgYHNwbGl0YCwgYHRha2VgLCBgdGFrZVJpZ2h0YCxcbiAgICAgKiBgdGVtcGxhdGVgLCBgdHJpbWAsIGB0cmltRW5kYCwgYHRyaW1TdGFydGAsIGFuZCBgd29yZHNgXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBtYXBwZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIHNxdWFyZShuKSB7XG4gICAgICogICByZXR1cm4gbiAqIG47XG4gICAgICogfVxuICAgICAqXG4gICAgICogXy5tYXAoWzQsIDhdLCBzcXVhcmUpO1xuICAgICAqIC8vID0+IFsxNiwgNjRdXG4gICAgICpcbiAgICAgKiBfLm1hcCh7ICdhJzogNCwgJ2InOiA4IH0sIHNxdWFyZSk7XG4gICAgICogLy8gPT4gWzE2LCA2NF0gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JyB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJyB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ubWFwKHVzZXJzLCAndXNlcicpO1xuICAgICAqIC8vID0+IFsnYmFybmV5JywgJ2ZyZWQnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcChjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlNYXAgOiBiYXNlTWFwO1xuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnNvcnRCeWAgZXhjZXB0IHRoYXQgaXQgYWxsb3dzIHNwZWNpZnlpbmcgdGhlIHNvcnRcbiAgICAgKiBvcmRlcnMgb2YgdGhlIGl0ZXJhdGVlcyB0byBzb3J0IGJ5LiBJZiBgb3JkZXJzYCBpcyB1bnNwZWNpZmllZCwgYWxsIHZhbHVlc1xuICAgICAqIGFyZSBzb3J0ZWQgaW4gYXNjZW5kaW5nIG9yZGVyLiBPdGhlcndpc2UsIHNwZWNpZnkgYW4gb3JkZXIgb2YgXCJkZXNjXCIgZm9yXG4gICAgICogZGVzY2VuZGluZyBvciBcImFzY1wiIGZvciBhc2NlbmRpbmcgc29ydCBvcmRlciBvZiBjb3JyZXNwb25kaW5nIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7QXJyYXlbXXxGdW5jdGlvbltdfE9iamVjdFtdfHN0cmluZ1tdfSBbaXRlcmF0ZWVzPVtfLmlkZW50aXR5XV1cbiAgICAgKiAgVGhlIGl0ZXJhdGVlcyB0byBzb3J0IGJ5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IFtvcmRlcnNdIFRoZSBzb3J0IG9yZGVycyBvZiBgaXRlcmF0ZWVzYC5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5yZWR1Y2VgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IHNvcnRlZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDggfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM0IH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCB9LFxuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzYgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyBTb3J0IGJ5IGB1c2VyYCBpbiBhc2NlbmRpbmcgb3JkZXIgYW5kIGJ5IGBhZ2VgIGluIGRlc2NlbmRpbmcgb3JkZXIuXG4gICAgICogXy5vcmRlckJ5KHVzZXJzLCBbJ3VzZXInLCAnYWdlJ10sIFsnYXNjJywgJ2Rlc2MnXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgW1snYmFybmV5JywgMzZdLCBbJ2Jhcm5leScsIDM0XSwgWydmcmVkJywgNDhdLCBbJ2ZyZWQnLCA0MF1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gb3JkZXJCeShjb2xsZWN0aW9uLCBpdGVyYXRlZXMsIG9yZGVycywgZ3VhcmQpIHtcbiAgICAgIGlmIChjb2xsZWN0aW9uID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgaWYgKCFpc0FycmF5KGl0ZXJhdGVlcykpIHtcbiAgICAgICAgaXRlcmF0ZWVzID0gaXRlcmF0ZWVzID09IG51bGwgPyBbXSA6IFtpdGVyYXRlZXNdO1xuICAgICAgfVxuICAgICAgb3JkZXJzID0gZ3VhcmQgPyB1bmRlZmluZWQgOiBvcmRlcnM7XG4gICAgICBpZiAoIWlzQXJyYXkob3JkZXJzKSkge1xuICAgICAgICBvcmRlcnMgPSBvcmRlcnMgPT0gbnVsbCA/IFtdIDogW29yZGVyc107XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZU9yZGVyQnkoY29sbGVjdGlvbiwgaXRlcmF0ZWVzLCBvcmRlcnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgZWxlbWVudHMgc3BsaXQgaW50byB0d28gZ3JvdXBzLCB0aGUgZmlyc3Qgb2Ygd2hpY2hcbiAgICAgKiBjb250YWlucyBlbGVtZW50cyBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeSBmb3IsIHRoZSBzZWNvbmQgb2Ygd2hpY2hcbiAgICAgKiBjb250YWlucyBlbGVtZW50cyBgcHJlZGljYXRlYCByZXR1cm5zIGZhbHNleSBmb3IuIFRoZSBwcmVkaWNhdGUgaXNcbiAgICAgKiBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgZ3JvdXBlZCBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FnZSc6IDM2LCAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhZ2UnOiAxLCAgJ2FjdGl2ZSc6IGZhbHNlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5wYXJ0aXRpb24odXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8uYWN0aXZlOyB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbWydmcmVkJ10sIFsnYmFybmV5JywgJ3BlYmJsZXMnXV1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5wYXJ0aXRpb24odXNlcnMsIHsgJ2FnZSc6IDEsICdhY3RpdmUnOiBmYWxzZSB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbWydwZWJibGVzJ10sIFsnYmFybmV5JywgJ2ZyZWQnXV1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnBhcnRpdGlvbih1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFtbJ2Jhcm5leScsICdwZWJibGVzJ10sIFsnZnJlZCddXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5wYXJ0aXRpb24odXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbWydmcmVkJ10sIFsnYmFybmV5JywgJ3BlYmJsZXMnXV1cbiAgICAgKi9cbiAgICB2YXIgcGFydGl0aW9uID0gY3JlYXRlQWdncmVnYXRvcihmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICAgIHJlc3VsdFtrZXkgPyAwIDogMV0ucHVzaCh2YWx1ZSk7XG4gICAgfSwgZnVuY3Rpb24oKSB7IHJldHVybiBbW10sIFtdXTsgfSk7XG5cbiAgICAvKipcbiAgICAgKiBSZWR1Y2VzIGBjb2xsZWN0aW9uYCB0byBhIHZhbHVlIHdoaWNoIGlzIHRoZSBhY2N1bXVsYXRlZCByZXN1bHQgb2YgcnVubmluZ1xuICAgICAqIGVhY2ggZWxlbWVudCBpbiBgY29sbGVjdGlvbmAgdGhydSBgaXRlcmF0ZWVgLCB3aGVyZSBlYWNoIHN1Y2Nlc3NpdmVcbiAgICAgKiBpbnZvY2F0aW9uIGlzIHN1cHBsaWVkIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIHByZXZpb3VzLiBJZiBgYWNjdW11bGF0b3JgXG4gICAgICogaXMgbm90IGdpdmVuLCB0aGUgZmlyc3QgZWxlbWVudCBvZiBgY29sbGVjdGlvbmAgaXMgdXNlZCBhcyB0aGUgaW5pdGlhbFxuICAgICAqIHZhbHVlLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIGZvdXIgYXJndW1lbnRzOlxuICAgICAqIChhY2N1bXVsYXRvciwgdmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiBNYW55IGxvZGFzaCBtZXRob2RzIGFyZSBndWFyZGVkIHRvIHdvcmsgYXMgaXRlcmF0ZWVzIGZvciBtZXRob2RzIGxpa2VcbiAgICAgKiBgXy5yZWR1Y2VgLCBgXy5yZWR1Y2VSaWdodGAsIGFuZCBgXy50cmFuc2Zvcm1gLlxuICAgICAqXG4gICAgICogVGhlIGd1YXJkZWQgbWV0aG9kcyBhcmU6XG4gICAgICogYGFzc2lnbmAsIGBkZWZhdWx0c2AsIGBkZWZhdWx0c0RlZXBgLCBgaW5jbHVkZXNgLCBgbWVyZ2VgLCBgb3JkZXJCeWAsXG4gICAgICogYW5kIGBzb3J0QnlgXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0geyp9IFthY2N1bXVsYXRvcl0gVGhlIGluaXRpYWwgdmFsdWUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGFjY3VtdWxhdGVkIHZhbHVlLlxuICAgICAqIEBzZWUgXy5yZWR1Y2VSaWdodFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnJlZHVjZShbMSwgMl0sIGZ1bmN0aW9uKHN1bSwgbikge1xuICAgICAqICAgcmV0dXJuIHN1bSArIG47XG4gICAgICogfSwgMCk7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy5yZWR1Y2UoeyAnYSc6IDEsICdiJzogMiwgJ2MnOiAxIH0sIGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAqICAgKHJlc3VsdFt2YWx1ZV0gfHwgKHJlc3VsdFt2YWx1ZV0gPSBbXSkpLnB1c2goa2V5KTtcbiAgICAgKiAgIHJldHVybiByZXN1bHQ7XG4gICAgICogfSwge30pO1xuICAgICAqIC8vID0+IHsgJzEnOiBbJ2EnLCAnYyddLCAnMic6IFsnYiddIH0gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZWR1Y2UoY29sbGVjdGlvbiwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheVJlZHVjZSA6IGJhc2VSZWR1Y2UsXG4gICAgICAgICAgaW5pdEFjY3VtID0gYXJndW1lbnRzLmxlbmd0aCA8IDM7XG5cbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCA0KSwgYWNjdW11bGF0b3IsIGluaXRBY2N1bSwgYmFzZUVhY2gpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ucmVkdWNlYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mXG4gICAgICogYGNvbGxlY3Rpb25gIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7Kn0gW2FjY3VtdWxhdG9yXSBUaGUgaW5pdGlhbCB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYWNjdW11bGF0ZWQgdmFsdWUuXG4gICAgICogQHNlZSBfLnJlZHVjZVxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbWzAsIDFdLCBbMiwgM10sIFs0LCA1XV07XG4gICAgICpcbiAgICAgKiBfLnJlZHVjZVJpZ2h0KGFycmF5LCBmdW5jdGlvbihmbGF0dGVuZWQsIG90aGVyKSB7XG4gICAgICogICByZXR1cm4gZmxhdHRlbmVkLmNvbmNhdChvdGhlcik7XG4gICAgICogfSwgW10pO1xuICAgICAqIC8vID0+IFs0LCA1LCAyLCAzLCAwLCAxXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlZHVjZVJpZ2h0KGNvbGxlY3Rpb24sIGl0ZXJhdGVlLCBhY2N1bXVsYXRvcikge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlSZWR1Y2VSaWdodCA6IGJhc2VSZWR1Y2UsXG4gICAgICAgICAgaW5pdEFjY3VtID0gYXJndW1lbnRzLmxlbmd0aCA8IDM7XG5cbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCA0KSwgYWNjdW11bGF0b3IsIGluaXRBY2N1bSwgYmFzZUVhY2hSaWdodCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIG9wcG9zaXRlIG9mIGBfLmZpbHRlcmA7IHRoaXMgbWV0aG9kIHJldHVybnMgdGhlIGVsZW1lbnRzIG9mIGBjb2xsZWN0aW9uYFxuICAgICAqIHRoYXQgYHByZWRpY2F0ZWAgZG9lcyAqKm5vdCoqIHJldHVybiB0cnV0aHkgZm9yLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZpbHRlcmVkIGFycmF5LlxuICAgICAqIEBzZWUgXy5maWx0ZXJcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzYsICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDAsICdhY3RpdmUnOiB0cnVlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5yZWplY3QodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuICFvLmFjdGl2ZTsgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydmcmVkJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5yZWplY3QodXNlcnMsIHsgJ2FnZSc6IDQwLCAnYWN0aXZlJzogdHJ1ZSB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leSddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5yZWplY3QodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2ZyZWQnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5yZWplY3QodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leSddXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVqZWN0KGNvbGxlY3Rpb24sIHByZWRpY2F0ZSkge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlGaWx0ZXIgOiBiYXNlRmlsdGVyO1xuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgbmVnYXRlKGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMykpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGEgcmFuZG9tIGVsZW1lbnQgZnJvbSBgY29sbGVjdGlvbmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIHNhbXBsZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmFuZG9tIGVsZW1lbnQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc2FtcGxlKFsxLCAyLCAzLCA0XSk7XG4gICAgICogLy8gPT4gMlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNhbXBsZShjb2xsZWN0aW9uKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheVNhbXBsZSA6IGJhc2VTYW1wbGU7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGBuYCByYW5kb20gZWxlbWVudHMgYXQgdW5pcXVlIGtleXMgZnJvbSBgY29sbGVjdGlvbmAgdXAgdG8gdGhlXG4gICAgICogc2l6ZSBvZiBgY29sbGVjdGlvbmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIHNhbXBsZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW249MV0gVGhlIG51bWJlciBvZiBlbGVtZW50cyB0byBzYW1wbGUuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHJhbmRvbSBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zYW1wbGVTaXplKFsxLCAyLCAzXSwgMik7XG4gICAgICogLy8gPT4gWzMsIDFdXG4gICAgICpcbiAgICAgKiBfLnNhbXBsZVNpemUoWzEsIDIsIDNdLCA0KTtcbiAgICAgKiAvLyA9PiBbMiwgMywgMV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzYW1wbGVTaXplKGNvbGxlY3Rpb24sIG4sIGd1YXJkKSB7XG4gICAgICBpZiAoKGd1YXJkID8gaXNJdGVyYXRlZUNhbGwoY29sbGVjdGlvbiwgbiwgZ3VhcmQpIDogbiA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICBuID0gMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG4gPSB0b0ludGVnZXIobik7XG4gICAgICB9XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheVNhbXBsZVNpemUgOiBiYXNlU2FtcGxlU2l6ZTtcbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIG4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2Ygc2h1ZmZsZWQgdmFsdWVzLCB1c2luZyBhIHZlcnNpb24gb2YgdGhlXG4gICAgICogW0Zpc2hlci1ZYXRlcyBzaHVmZmxlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9GaXNoZXItWWF0ZXNfc2h1ZmZsZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIHNodWZmbGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgc2h1ZmZsZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc2h1ZmZsZShbMSwgMiwgMywgNF0pO1xuICAgICAqIC8vID0+IFs0LCAxLCAzLCAyXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNodWZmbGUoY29sbGVjdGlvbikge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlTaHVmZmxlIDogYmFzZVNodWZmbGU7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBzaXplIG9mIGBjb2xsZWN0aW9uYCBieSByZXR1cm5pbmcgaXRzIGxlbmd0aCBmb3IgYXJyYXktbGlrZVxuICAgICAqIHZhbHVlcyBvciB0aGUgbnVtYmVyIG9mIG93biBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzIGZvciBvYmplY3RzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdHxzdHJpbmd9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjb2xsZWN0aW9uIHNpemUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc2l6ZShbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIF8uc2l6ZSh7ICdhJzogMSwgJ2InOiAyIH0pO1xuICAgICAqIC8vID0+IDJcbiAgICAgKlxuICAgICAqIF8uc2l6ZSgncGViYmxlcycpO1xuICAgICAqIC8vID0+IDdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzaXplKGNvbGxlY3Rpb24pIHtcbiAgICAgIGlmIChjb2xsZWN0aW9uID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgICB9XG4gICAgICBpZiAoaXNBcnJheUxpa2UoY29sbGVjdGlvbikpIHtcbiAgICAgICAgcmV0dXJuIGlzU3RyaW5nKGNvbGxlY3Rpb24pID8gc3RyaW5nU2l6ZShjb2xsZWN0aW9uKSA6IGNvbGxlY3Rpb24ubGVuZ3RoO1xuICAgICAgfVxuICAgICAgdmFyIHRhZyA9IGdldFRhZyhjb2xsZWN0aW9uKTtcbiAgICAgIGlmICh0YWcgPT0gbWFwVGFnIHx8IHRhZyA9PSBzZXRUYWcpIHtcbiAgICAgICAgcmV0dXJuIGNvbGxlY3Rpb24uc2l6ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlS2V5cyhjb2xsZWN0aW9uKS5sZW5ndGg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5IGZvciAqKmFueSoqIGVsZW1lbnQgb2YgYGNvbGxlY3Rpb25gLlxuICAgICAqIEl0ZXJhdGlvbiBpcyBzdG9wcGVkIG9uY2UgYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkuIFRoZSBwcmVkaWNhdGUgaXNcbiAgICAgKiBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW55IGVsZW1lbnQgcGFzc2VzIHRoZSBwcmVkaWNhdGUgY2hlY2ssXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zb21lKFtudWxsLCAwLCAneWVzJywgZmFsc2VdLCBCb29sZWFuKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhY3RpdmUnOiB0cnVlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhY3RpdmUnOiBmYWxzZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5zb21lKHVzZXJzLCB7ICd1c2VyJzogJ2Jhcm5leScsICdhY3RpdmUnOiBmYWxzZSB9KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uc29tZSh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uc29tZSh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb21lKGNvbGxlY3Rpb24sIHByZWRpY2F0ZSwgZ3VhcmQpIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5U29tZSA6IGJhc2VTb21lO1xuICAgICAgaWYgKGd1YXJkICYmIGlzSXRlcmF0ZWVDYWxsKGNvbGxlY3Rpb24sIHByZWRpY2F0ZSwgZ3VhcmQpKSB7XG4gICAgICAgIHByZWRpY2F0ZSA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgZWxlbWVudHMsIHNvcnRlZCBpbiBhc2NlbmRpbmcgb3JkZXIgYnkgdGhlIHJlc3VsdHMgb2ZcbiAgICAgKiBydW5uaW5nIGVhY2ggZWxlbWVudCBpbiBhIGNvbGxlY3Rpb24gdGhydSBlYWNoIGl0ZXJhdGVlLiBUaGlzIG1ldGhvZFxuICAgICAqIHBlcmZvcm1zIGEgc3RhYmxlIHNvcnQsIHRoYXQgaXMsIGl0IHByZXNlcnZlcyB0aGUgb3JpZ2luYWwgc29ydCBvcmRlciBvZlxuICAgICAqIGVxdWFsIGVsZW1lbnRzLiBUaGUgaXRlcmF0ZWVzIGFyZSBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHsuLi4oRnVuY3Rpb258RnVuY3Rpb25bXSl9IFtpdGVyYXRlZXM9W18uaWRlbnRpdHldXVxuICAgICAqICBUaGUgaXRlcmF0ZWVzIHRvIHNvcnQgYnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgc29ydGVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0OCB9LFxuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzYgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDMwIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNCB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uc29ydEJ5KHVzZXJzLCBbZnVuY3Rpb24obykgeyByZXR1cm4gby51c2VyOyB9XSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgW1snYmFybmV5JywgMzZdLCBbJ2Jhcm5leScsIDM0XSwgWydmcmVkJywgNDhdLCBbJ2ZyZWQnLCAzMF1dXG4gICAgICpcbiAgICAgKiBfLnNvcnRCeSh1c2VycywgWyd1c2VyJywgJ2FnZSddKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbWydiYXJuZXknLCAzNF0sIFsnYmFybmV5JywgMzZdLCBbJ2ZyZWQnLCAzMF0sIFsnZnJlZCcsIDQ4XV1cbiAgICAgKi9cbiAgICB2YXIgc29ydEJ5ID0gYmFzZVJlc3QoZnVuY3Rpb24oY29sbGVjdGlvbiwgaXRlcmF0ZWVzKSB7XG4gICAgICBpZiAoY29sbGVjdGlvbiA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIHZhciBsZW5ndGggPSBpdGVyYXRlZXMubGVuZ3RoO1xuICAgICAgaWYgKGxlbmd0aCA+IDEgJiYgaXNJdGVyYXRlZUNhbGwoY29sbGVjdGlvbiwgaXRlcmF0ZWVzWzBdLCBpdGVyYXRlZXNbMV0pKSB7XG4gICAgICAgIGl0ZXJhdGVlcyA9IFtdO1xuICAgICAgfSBlbHNlIGlmIChsZW5ndGggPiAyICYmIGlzSXRlcmF0ZWVDYWxsKGl0ZXJhdGVlc1swXSwgaXRlcmF0ZWVzWzFdLCBpdGVyYXRlZXNbMl0pKSB7XG4gICAgICAgIGl0ZXJhdGVlcyA9IFtpdGVyYXRlZXNbMF1dO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VPcmRlckJ5KGNvbGxlY3Rpb24sIGJhc2VGbGF0dGVuKGl0ZXJhdGVlcywgMSksIFtdKTtcbiAgICB9KTtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHRpbWVzdGFtcCBvZiB0aGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0aGF0IGhhdmUgZWxhcHNlZCBzaW5jZVxuICAgICAqIHRoZSBVbml4IGVwb2NoICgxIEphbnVhcnkgMTk3MCAwMDowMDowMCBVVEMpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuNC4wXG4gICAgICogQGNhdGVnb3J5IERhdGVcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSB0aW1lc3RhbXAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGVmZXIoZnVuY3Rpb24oc3RhbXApIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKF8ubm93KCkgLSBzdGFtcCk7XG4gICAgICogfSwgXy5ub3coKSk7XG4gICAgICogLy8gPT4gTG9ncyB0aGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBpdCB0b29rIGZvciB0aGUgZGVmZXJyZWQgaW52b2NhdGlvbi5cbiAgICAgKi9cbiAgICB2YXIgbm93ID0gY3R4Tm93IHx8IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHJvb3QuRGF0ZS5ub3coKTtcbiAgICB9O1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogVGhlIG9wcG9zaXRlIG9mIGBfLmJlZm9yZWA7IHRoaXMgbWV0aG9kIGNyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXNcbiAgICAgKiBgZnVuY2Agb25jZSBpdCdzIGNhbGxlZCBgbmAgb3IgbW9yZSB0aW1lcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgY2FsbHMgYmVmb3JlIGBmdW5jYCBpcyBpbnZva2VkLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHJlc3RyaWN0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHJlc3RyaWN0ZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBzYXZlcyA9IFsncHJvZmlsZScsICdzZXR0aW5ncyddO1xuICAgICAqXG4gICAgICogdmFyIGRvbmUgPSBfLmFmdGVyKHNhdmVzLmxlbmd0aCwgZnVuY3Rpb24oKSB7XG4gICAgICogICBjb25zb2xlLmxvZygnZG9uZSBzYXZpbmchJyk7XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBfLmZvckVhY2goc2F2ZXMsIGZ1bmN0aW9uKHR5cGUpIHtcbiAgICAgKiAgIGFzeW5jU2F2ZSh7ICd0eXBlJzogdHlwZSwgJ2NvbXBsZXRlJzogZG9uZSB9KTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBMb2dzICdkb25lIHNhdmluZyEnIGFmdGVyIHRoZSB0d28gYXN5bmMgc2F2ZXMgaGF2ZSBjb21wbGV0ZWQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYWZ0ZXIobiwgZnVuYykge1xuICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgbiA9IHRvSW50ZWdlcihuKTtcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKC0tbiA8IDEpIHtcbiAgICAgICAgICByZXR1cm4gZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgLCB3aXRoIHVwIHRvIGBuYCBhcmd1bWVudHMsXG4gICAgICogaWdub3JpbmcgYW55IGFkZGl0aW9uYWwgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2FwIGFyZ3VtZW50cyBmb3IuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPWZ1bmMubGVuZ3RoXSBUaGUgYXJpdHkgY2FwLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY2FwcGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLm1hcChbJzYnLCAnOCcsICcxMCddLCBfLmFyeShwYXJzZUludCwgMSkpO1xuICAgICAqIC8vID0+IFs2LCA4LCAxMF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhcnkoZnVuYywgbiwgZ3VhcmQpIHtcbiAgICAgIG4gPSBndWFyZCA/IHVuZGVmaW5lZCA6IG47XG4gICAgICBuID0gKGZ1bmMgJiYgbiA9PSBudWxsKSA/IGZ1bmMubGVuZ3RoIDogbjtcbiAgICAgIHJldHVybiBjcmVhdGVXcmFwKGZ1bmMsIFdSQVBfQVJZX0ZMQUcsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2AsIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIGFuZCBhcmd1bWVudHNcbiAgICAgKiBvZiB0aGUgY3JlYXRlZCBmdW5jdGlvbiwgd2hpbGUgaXQncyBjYWxsZWQgbGVzcyB0aGFuIGBuYCB0aW1lcy4gU3Vic2VxdWVudFxuICAgICAqIGNhbGxzIHRvIHRoZSBjcmVhdGVkIGZ1bmN0aW9uIHJldHVybiB0aGUgcmVzdWx0IG9mIHRoZSBsYXN0IGBmdW5jYCBpbnZvY2F0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiBjYWxscyBhdCB3aGljaCBgZnVuY2AgaXMgbm8gbG9uZ2VyIGludm9rZWQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcmVzdHJpY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcmVzdHJpY3RlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogalF1ZXJ5KGVsZW1lbnQpLm9uKCdjbGljaycsIF8uYmVmb3JlKDUsIGFkZENvbnRhY3RUb0xpc3QpKTtcbiAgICAgKiAvLyA9PiBBbGxvd3MgYWRkaW5nIHVwIHRvIDQgY29udGFjdHMgdG8gdGhlIGxpc3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmVmb3JlKG4sIGZ1bmMpIHtcbiAgICAgIHZhciByZXN1bHQ7XG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICBuID0gdG9JbnRlZ2VyKG4pO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoLS1uID4gMCkge1xuICAgICAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobiA8PSAxKSB7XG4gICAgICAgICAgZnVuYyA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiBgdGhpc0FyZ2BcbiAgICAgKiBhbmQgYHBhcnRpYWxzYCBwcmVwZW5kZWQgdG8gdGhlIGFyZ3VtZW50cyBpdCByZWNlaXZlcy5cbiAgICAgKlxuICAgICAqIFRoZSBgXy5iaW5kLnBsYWNlaG9sZGVyYCB2YWx1ZSwgd2hpY2ggZGVmYXVsdHMgdG8gYF9gIGluIG1vbm9saXRoaWMgYnVpbGRzLFxuICAgICAqIG1heSBiZSB1c2VkIGFzIGEgcGxhY2Vob2xkZXIgZm9yIHBhcnRpYWxseSBhcHBsaWVkIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgbmF0aXZlIGBGdW5jdGlvbiNiaW5kYCwgdGhpcyBtZXRob2QgZG9lc24ndCBzZXQgdGhlIFwibGVuZ3RoXCJcbiAgICAgKiBwcm9wZXJ0eSBvZiBib3VuZCBmdW5jdGlvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBiaW5kLlxuICAgICAqIEBwYXJhbSB7Kn0gdGhpc0FyZyBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW3BhcnRpYWxzXSBUaGUgYXJndW1lbnRzIHRvIGJlIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGJvdW5kIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBncmVldChncmVldGluZywgcHVuY3R1YXRpb24pIHtcbiAgICAgKiAgIHJldHVybiBncmVldGluZyArICcgJyArIHRoaXMudXNlciArIHB1bmN0dWF0aW9uO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICd1c2VyJzogJ2ZyZWQnIH07XG4gICAgICpcbiAgICAgKiB2YXIgYm91bmQgPSBfLmJpbmQoZ3JlZXQsIG9iamVjdCwgJ2hpJyk7XG4gICAgICogYm91bmQoJyEnKTtcbiAgICAgKiAvLyA9PiAnaGkgZnJlZCEnXG4gICAgICpcbiAgICAgKiAvLyBCb3VuZCB3aXRoIHBsYWNlaG9sZGVycy5cbiAgICAgKiB2YXIgYm91bmQgPSBfLmJpbmQoZ3JlZXQsIG9iamVjdCwgXywgJyEnKTtcbiAgICAgKiBib3VuZCgnaGknKTtcbiAgICAgKiAvLyA9PiAnaGkgZnJlZCEnXG4gICAgICovXG4gICAgdmFyIGJpbmQgPSBiYXNlUmVzdChmdW5jdGlvbihmdW5jLCB0aGlzQXJnLCBwYXJ0aWFscykge1xuICAgICAgdmFyIGJpdG1hc2sgPSBXUkFQX0JJTkRfRkxBRztcbiAgICAgIGlmIChwYXJ0aWFscy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGhvbGRlcnMgPSByZXBsYWNlSG9sZGVycyhwYXJ0aWFscywgZ2V0SG9sZGVyKGJpbmQpKTtcbiAgICAgICAgYml0bWFzayB8PSBXUkFQX1BBUlRJQUxfRkxBRztcbiAgICAgIH1cbiAgICAgIHJldHVybiBjcmVhdGVXcmFwKGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcsIHBhcnRpYWxzLCBob2xkZXJzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgdGhlIG1ldGhvZCBhdCBgb2JqZWN0W2tleV1gIHdpdGggYHBhcnRpYWxzYFxuICAgICAqIHByZXBlbmRlZCB0byB0aGUgYXJndW1lbnRzIGl0IHJlY2VpdmVzLlxuICAgICAqXG4gICAgICogVGhpcyBtZXRob2QgZGlmZmVycyBmcm9tIGBfLmJpbmRgIGJ5IGFsbG93aW5nIGJvdW5kIGZ1bmN0aW9ucyB0byByZWZlcmVuY2VcbiAgICAgKiBtZXRob2RzIHRoYXQgbWF5IGJlIHJlZGVmaW5lZCBvciBkb24ndCB5ZXQgZXhpc3QuIFNlZVxuICAgICAqIFtQZXRlciBNaWNoYXV4J3MgYXJ0aWNsZV0oaHR0cDovL3BldGVyLm1pY2hhdXguY2EvYXJ0aWNsZXMvbGF6eS1mdW5jdGlvbi1kZWZpbml0aW9uLXBhdHRlcm4pXG4gICAgICogZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKlxuICAgICAqIFRoZSBgXy5iaW5kS2V5LnBsYWNlaG9sZGVyYCB2YWx1ZSwgd2hpY2ggZGVmYXVsdHMgdG8gYF9gIGluIG1vbm9saXRoaWNcbiAgICAgKiBidWlsZHMsIG1heSBiZSB1c2VkIGFzIGEgcGxhY2Vob2xkZXIgZm9yIHBhcnRpYWxseSBhcHBsaWVkIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEwLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW52b2tlIHRoZSBtZXRob2Qgb24uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBtZXRob2QuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbcGFydGlhbHNdIFRoZSBhcmd1bWVudHMgdG8gYmUgcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYm91bmQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7XG4gICAgICogICAndXNlcic6ICdmcmVkJyxcbiAgICAgKiAgICdncmVldCc6IGZ1bmN0aW9uKGdyZWV0aW5nLCBwdW5jdHVhdGlvbikge1xuICAgICAqICAgICByZXR1cm4gZ3JlZXRpbmcgKyAnICcgKyB0aGlzLnVzZXIgKyBwdW5jdHVhdGlvbjtcbiAgICAgKiAgIH1cbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogdmFyIGJvdW5kID0gXy5iaW5kS2V5KG9iamVjdCwgJ2dyZWV0JywgJ2hpJyk7XG4gICAgICogYm91bmQoJyEnKTtcbiAgICAgKiAvLyA9PiAnaGkgZnJlZCEnXG4gICAgICpcbiAgICAgKiBvYmplY3QuZ3JlZXQgPSBmdW5jdGlvbihncmVldGluZywgcHVuY3R1YXRpb24pIHtcbiAgICAgKiAgIHJldHVybiBncmVldGluZyArICd5YSAnICsgdGhpcy51c2VyICsgcHVuY3R1YXRpb247XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIGJvdW5kKCchJyk7XG4gICAgICogLy8gPT4gJ2hpeWEgZnJlZCEnXG4gICAgICpcbiAgICAgKiAvLyBCb3VuZCB3aXRoIHBsYWNlaG9sZGVycy5cbiAgICAgKiB2YXIgYm91bmQgPSBfLmJpbmRLZXkob2JqZWN0LCAnZ3JlZXQnLCBfLCAnIScpO1xuICAgICAqIGJvdW5kKCdoaScpO1xuICAgICAqIC8vID0+ICdoaXlhIGZyZWQhJ1xuICAgICAqL1xuICAgIHZhciBiaW5kS2V5ID0gYmFzZVJlc3QoZnVuY3Rpb24ob2JqZWN0LCBrZXksIHBhcnRpYWxzKSB7XG4gICAgICB2YXIgYml0bWFzayA9IFdSQVBfQklORF9GTEFHIHwgV1JBUF9CSU5EX0tFWV9GTEFHO1xuICAgICAgaWYgKHBhcnRpYWxzLmxlbmd0aCkge1xuICAgICAgICB2YXIgaG9sZGVycyA9IHJlcGxhY2VIb2xkZXJzKHBhcnRpYWxzLCBnZXRIb2xkZXIoYmluZEtleSkpO1xuICAgICAgICBiaXRtYXNrIHw9IFdSQVBfUEFSVElBTF9GTEFHO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNyZWF0ZVdyYXAoa2V5LCBiaXRtYXNrLCBvYmplY3QsIHBhcnRpYWxzLCBob2xkZXJzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGFjY2VwdHMgYXJndW1lbnRzIG9mIGBmdW5jYCBhbmQgZWl0aGVyIGludm9rZXNcbiAgICAgKiBgZnVuY2AgcmV0dXJuaW5nIGl0cyByZXN1bHQsIGlmIGF0IGxlYXN0IGBhcml0eWAgbnVtYmVyIG9mIGFyZ3VtZW50cyBoYXZlXG4gICAgICogYmVlbiBwcm92aWRlZCwgb3IgcmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgYWNjZXB0cyB0aGUgcmVtYWluaW5nIGBmdW5jYFxuICAgICAqIGFyZ3VtZW50cywgYW5kIHNvIG9uLiBUaGUgYXJpdHkgb2YgYGZ1bmNgIG1heSBiZSBzcGVjaWZpZWQgaWYgYGZ1bmMubGVuZ3RoYFxuICAgICAqIGlzIG5vdCBzdWZmaWNpZW50LlxuICAgICAqXG4gICAgICogVGhlIGBfLmN1cnJ5LnBsYWNlaG9sZGVyYCB2YWx1ZSwgd2hpY2ggZGVmYXVsdHMgdG8gYF9gIGluIG1vbm9saXRoaWMgYnVpbGRzLFxuICAgICAqIG1heSBiZSB1c2VkIGFzIGEgcGxhY2Vob2xkZXIgZm9yIHByb3ZpZGVkIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBkb2Vzbid0IHNldCB0aGUgXCJsZW5ndGhcIiBwcm9wZXJ0eSBvZiBjdXJyaWVkIGZ1bmN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGN1cnJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJpdHk9ZnVuYy5sZW5ndGhdIFRoZSBhcml0eSBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjdXJyaWVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYWJjID0gZnVuY3Rpb24oYSwgYiwgYykge1xuICAgICAqICAgcmV0dXJuIFthLCBiLCBjXTtcbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogdmFyIGN1cnJpZWQgPSBfLmN1cnJ5KGFiYyk7XG4gICAgICpcbiAgICAgKiBjdXJyaWVkKDEpKDIpKDMpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogY3VycmllZCgxLCAyKSgzKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIGN1cnJpZWQoMSwgMiwgMyk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiAvLyBDdXJyaWVkIHdpdGggcGxhY2Vob2xkZXJzLlxuICAgICAqIGN1cnJpZWQoMSkoXywgMykoMik7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3VycnkoZnVuYywgYXJpdHksIGd1YXJkKSB7XG4gICAgICBhcml0eSA9IGd1YXJkID8gdW5kZWZpbmVkIDogYXJpdHk7XG4gICAgICB2YXIgcmVzdWx0ID0gY3JlYXRlV3JhcChmdW5jLCBXUkFQX0NVUlJZX0ZMQUcsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBhcml0eSk7XG4gICAgICByZXN1bHQucGxhY2Vob2xkZXIgPSBjdXJyeS5wbGFjZWhvbGRlcjtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5jdXJyeWAgZXhjZXB0IHRoYXQgYXJndW1lbnRzIGFyZSBhcHBsaWVkIHRvIGBmdW5jYFxuICAgICAqIGluIHRoZSBtYW5uZXIgb2YgYF8ucGFydGlhbFJpZ2h0YCBpbnN0ZWFkIG9mIGBfLnBhcnRpYWxgLlxuICAgICAqXG4gICAgICogVGhlIGBfLmN1cnJ5UmlnaHQucGxhY2Vob2xkZXJgIHZhbHVlLCB3aGljaCBkZWZhdWx0cyB0byBgX2AgaW4gbW9ub2xpdGhpY1xuICAgICAqIGJ1aWxkcywgbWF5IGJlIHVzZWQgYXMgYSBwbGFjZWhvbGRlciBmb3IgcHJvdmlkZWQgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGRvZXNuJ3Qgc2V0IHRoZSBcImxlbmd0aFwiIHByb3BlcnR5IG9mIGN1cnJpZWQgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY3VycnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcml0eT1mdW5jLmxlbmd0aF0gVGhlIGFyaXR5IG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGN1cnJpZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhYmMgPSBmdW5jdGlvbihhLCBiLCBjKSB7XG4gICAgICogICByZXR1cm4gW2EsIGIsIGNdO1xuICAgICAqIH07XG4gICAgICpcbiAgICAgKiB2YXIgY3VycmllZCA9IF8uY3VycnlSaWdodChhYmMpO1xuICAgICAqXG4gICAgICogY3VycmllZCgzKSgyKSgxKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIGN1cnJpZWQoMiwgMykoMSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiBjdXJyaWVkKDEsIDIsIDMpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogLy8gQ3VycmllZCB3aXRoIHBsYWNlaG9sZGVycy5cbiAgICAgKiBjdXJyaWVkKDMpKDEsIF8pKDIpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGN1cnJ5UmlnaHQoZnVuYywgYXJpdHksIGd1YXJkKSB7XG4gICAgICBhcml0eSA9IGd1YXJkID8gdW5kZWZpbmVkIDogYXJpdHk7XG4gICAgICB2YXIgcmVzdWx0ID0gY3JlYXRlV3JhcChmdW5jLCBXUkFQX0NVUlJZX1JJR0hUX0ZMQUcsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBhcml0eSk7XG4gICAgICByZXN1bHQucGxhY2Vob2xkZXIgPSBjdXJyeVJpZ2h0LnBsYWNlaG9sZGVyO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZGVib3VuY2VkIGZ1bmN0aW9uIHRoYXQgZGVsYXlzIGludm9raW5nIGBmdW5jYCB1bnRpbCBhZnRlciBgd2FpdGBcbiAgICAgKiBtaWxsaXNlY29uZHMgaGF2ZSBlbGFwc2VkIHNpbmNlIHRoZSBsYXN0IHRpbWUgdGhlIGRlYm91bmNlZCBmdW5jdGlvbiB3YXNcbiAgICAgKiBpbnZva2VkLiBUaGUgZGVib3VuY2VkIGZ1bmN0aW9uIGNvbWVzIHdpdGggYSBgY2FuY2VsYCBtZXRob2QgdG8gY2FuY2VsXG4gICAgICogZGVsYXllZCBgZnVuY2AgaW52b2NhdGlvbnMgYW5kIGEgYGZsdXNoYCBtZXRob2QgdG8gaW1tZWRpYXRlbHkgaW52b2tlIHRoZW0uXG4gICAgICogUHJvdmlkZSBgb3B0aW9uc2AgdG8gaW5kaWNhdGUgd2hldGhlciBgZnVuY2Agc2hvdWxkIGJlIGludm9rZWQgb24gdGhlXG4gICAgICogbGVhZGluZyBhbmQvb3IgdHJhaWxpbmcgZWRnZSBvZiB0aGUgYHdhaXRgIHRpbWVvdXQuIFRoZSBgZnVuY2AgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdGhlIGxhc3QgYXJndW1lbnRzIHByb3ZpZGVkIHRvIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb24uIFN1YnNlcXVlbnRcbiAgICAgKiBjYWxscyB0byB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uIHJldHVybiB0aGUgcmVzdWx0IG9mIHRoZSBsYXN0IGBmdW5jYFxuICAgICAqIGludm9jYXRpb24uXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogSWYgYGxlYWRpbmdgIGFuZCBgdHJhaWxpbmdgIG9wdGlvbnMgYXJlIGB0cnVlYCwgYGZ1bmNgIGlzXG4gICAgICogaW52b2tlZCBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dCBvbmx5IGlmIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb25cbiAgICAgKiBpcyBpbnZva2VkIG1vcmUgdGhhbiBvbmNlIGR1cmluZyB0aGUgYHdhaXRgIHRpbWVvdXQuXG4gICAgICpcbiAgICAgKiBJZiBgd2FpdGAgaXMgYDBgIGFuZCBgbGVhZGluZ2AgaXMgYGZhbHNlYCwgYGZ1bmNgIGludm9jYXRpb24gaXMgZGVmZXJyZWRcbiAgICAgKiB1bnRpbCB0byB0aGUgbmV4dCB0aWNrLCBzaW1pbGFyIHRvIGBzZXRUaW1lb3V0YCB3aXRoIGEgdGltZW91dCBvZiBgMGAuXG4gICAgICpcbiAgICAgKiBTZWUgW0RhdmlkIENvcmJhY2hvJ3MgYXJ0aWNsZV0oaHR0cHM6Ly9jc3MtdHJpY2tzLmNvbS9kZWJvdW5jaW5nLXRocm90dGxpbmctZXhwbGFpbmVkLWV4YW1wbGVzLylcbiAgICAgKiBmb3IgZGV0YWlscyBvdmVyIHRoZSBkaWZmZXJlbmNlcyBiZXR3ZWVuIGBfLmRlYm91bmNlYCBhbmQgYF8udGhyb3R0bGVgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gZGVib3VuY2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt3YWl0PTBdIFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIGRlbGF5LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMubGVhZGluZz1mYWxzZV1cbiAgICAgKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgbGVhZGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5tYXhXYWl0XVxuICAgICAqICBUaGUgbWF4aW11bSB0aW1lIGBmdW5jYCBpcyBhbGxvd2VkIHRvIGJlIGRlbGF5ZWQgYmVmb3JlIGl0J3MgaW52b2tlZC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRyYWlsaW5nPXRydWVdXG4gICAgICogIFNwZWNpZnkgaW52b2tpbmcgb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZGVib3VuY2VkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAvLyBBdm9pZCBjb3N0bHkgY2FsY3VsYXRpb25zIHdoaWxlIHRoZSB3aW5kb3cgc2l6ZSBpcyBpbiBmbHV4LlxuICAgICAqIGpRdWVyeSh3aW5kb3cpLm9uKCdyZXNpemUnLCBfLmRlYm91bmNlKGNhbGN1bGF0ZUxheW91dCwgMTUwKSk7XG4gICAgICpcbiAgICAgKiAvLyBJbnZva2UgYHNlbmRNYWlsYCB3aGVuIGNsaWNrZWQsIGRlYm91bmNpbmcgc3Vic2VxdWVudCBjYWxscy5cbiAgICAgKiBqUXVlcnkoZWxlbWVudCkub24oJ2NsaWNrJywgXy5kZWJvdW5jZShzZW5kTWFpbCwgMzAwLCB7XG4gICAgICogICAnbGVhZGluZyc6IHRydWUsXG4gICAgICogICAndHJhaWxpbmcnOiBmYWxzZVxuICAgICAqIH0pKTtcbiAgICAgKlxuICAgICAqIC8vIEVuc3VyZSBgYmF0Y2hMb2dgIGlzIGludm9rZWQgb25jZSBhZnRlciAxIHNlY29uZCBvZiBkZWJvdW5jZWQgY2FsbHMuXG4gICAgICogdmFyIGRlYm91bmNlZCA9IF8uZGVib3VuY2UoYmF0Y2hMb2csIDI1MCwgeyAnbWF4V2FpdCc6IDEwMDAgfSk7XG4gICAgICogdmFyIHNvdXJjZSA9IG5ldyBFdmVudFNvdXJjZSgnL3N0cmVhbScpO1xuICAgICAqIGpRdWVyeShzb3VyY2UpLm9uKCdtZXNzYWdlJywgZGVib3VuY2VkKTtcbiAgICAgKlxuICAgICAqIC8vIENhbmNlbCB0aGUgdHJhaWxpbmcgZGVib3VuY2VkIGludm9jYXRpb24uXG4gICAgICogalF1ZXJ5KHdpbmRvdykub24oJ3BvcHN0YXRlJywgZGVib3VuY2VkLmNhbmNlbCk7XG4gICAgICovXG4gICAgZnVuY3Rpb24gZGVib3VuY2UoZnVuYywgd2FpdCwgb3B0aW9ucykge1xuICAgICAgdmFyIGxhc3RBcmdzLFxuICAgICAgICAgIGxhc3RUaGlzLFxuICAgICAgICAgIG1heFdhaXQsXG4gICAgICAgICAgcmVzdWx0LFxuICAgICAgICAgIHRpbWVySWQsXG4gICAgICAgICAgbGFzdENhbGxUaW1lLFxuICAgICAgICAgIGxhc3RJbnZva2VUaW1lID0gMCxcbiAgICAgICAgICBsZWFkaW5nID0gZmFsc2UsXG4gICAgICAgICAgbWF4aW5nID0gZmFsc2UsXG4gICAgICAgICAgdHJhaWxpbmcgPSB0cnVlO1xuXG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICB3YWl0ID0gdG9OdW1iZXIod2FpdCkgfHwgMDtcbiAgICAgIGlmIChpc09iamVjdChvcHRpb25zKSkge1xuICAgICAgICBsZWFkaW5nID0gISFvcHRpb25zLmxlYWRpbmc7XG4gICAgICAgIG1heGluZyA9ICdtYXhXYWl0JyBpbiBvcHRpb25zO1xuICAgICAgICBtYXhXYWl0ID0gbWF4aW5nID8gbmF0aXZlTWF4KHRvTnVtYmVyKG9wdGlvbnMubWF4V2FpdCkgfHwgMCwgd2FpdCkgOiBtYXhXYWl0O1xuICAgICAgICB0cmFpbGluZyA9ICd0cmFpbGluZycgaW4gb3B0aW9ucyA/ICEhb3B0aW9ucy50cmFpbGluZyA6IHRyYWlsaW5nO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBpbnZva2VGdW5jKHRpbWUpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBsYXN0QXJncyxcbiAgICAgICAgICAgIHRoaXNBcmcgPSBsYXN0VGhpcztcblxuICAgICAgICBsYXN0QXJncyA9IGxhc3RUaGlzID0gdW5kZWZpbmVkO1xuICAgICAgICBsYXN0SW52b2tlVGltZSA9IHRpbWU7XG4gICAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpc0FyZywgYXJncyk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGxlYWRpbmdFZGdlKHRpbWUpIHtcbiAgICAgICAgLy8gUmVzZXQgYW55IGBtYXhXYWl0YCB0aW1lci5cbiAgICAgICAgbGFzdEludm9rZVRpbWUgPSB0aW1lO1xuICAgICAgICAvLyBTdGFydCB0aGUgdGltZXIgZm9yIHRoZSB0cmFpbGluZyBlZGdlLlxuICAgICAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHdhaXQpO1xuICAgICAgICAvLyBJbnZva2UgdGhlIGxlYWRpbmcgZWRnZS5cbiAgICAgICAgcmV0dXJuIGxlYWRpbmcgPyBpbnZva2VGdW5jKHRpbWUpIDogcmVzdWx0O1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiByZW1haW5pbmdXYWl0KHRpbWUpIHtcbiAgICAgICAgdmFyIHRpbWVTaW5jZUxhc3RDYWxsID0gdGltZSAtIGxhc3RDYWxsVGltZSxcbiAgICAgICAgICAgIHRpbWVTaW5jZUxhc3RJbnZva2UgPSB0aW1lIC0gbGFzdEludm9rZVRpbWUsXG4gICAgICAgICAgICB0aW1lV2FpdGluZyA9IHdhaXQgLSB0aW1lU2luY2VMYXN0Q2FsbDtcblxuICAgICAgICByZXR1cm4gbWF4aW5nXG4gICAgICAgICAgPyBuYXRpdmVNaW4odGltZVdhaXRpbmcsIG1heFdhaXQgLSB0aW1lU2luY2VMYXN0SW52b2tlKVxuICAgICAgICAgIDogdGltZVdhaXRpbmc7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHNob3VsZEludm9rZSh0aW1lKSB7XG4gICAgICAgIHZhciB0aW1lU2luY2VMYXN0Q2FsbCA9IHRpbWUgLSBsYXN0Q2FsbFRpbWUsXG4gICAgICAgICAgICB0aW1lU2luY2VMYXN0SW52b2tlID0gdGltZSAtIGxhc3RJbnZva2VUaW1lO1xuXG4gICAgICAgIC8vIEVpdGhlciB0aGlzIGlzIHRoZSBmaXJzdCBjYWxsLCBhY3Rpdml0eSBoYXMgc3RvcHBlZCBhbmQgd2UncmUgYXQgdGhlXG4gICAgICAgIC8vIHRyYWlsaW5nIGVkZ2UsIHRoZSBzeXN0ZW0gdGltZSBoYXMgZ29uZSBiYWNrd2FyZHMgYW5kIHdlJ3JlIHRyZWF0aW5nXG4gICAgICAgIC8vIGl0IGFzIHRoZSB0cmFpbGluZyBlZGdlLCBvciB3ZSd2ZSBoaXQgdGhlIGBtYXhXYWl0YCBsaW1pdC5cbiAgICAgICAgcmV0dXJuIChsYXN0Q2FsbFRpbWUgPT09IHVuZGVmaW5lZCB8fCAodGltZVNpbmNlTGFzdENhbGwgPj0gd2FpdCkgfHxcbiAgICAgICAgICAodGltZVNpbmNlTGFzdENhbGwgPCAwKSB8fCAobWF4aW5nICYmIHRpbWVTaW5jZUxhc3RJbnZva2UgPj0gbWF4V2FpdCkpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiB0aW1lckV4cGlyZWQoKSB7XG4gICAgICAgIHZhciB0aW1lID0gbm93KCk7XG4gICAgICAgIGlmIChzaG91bGRJbnZva2UodGltZSkpIHtcbiAgICAgICAgICByZXR1cm4gdHJhaWxpbmdFZGdlKHRpbWUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlc3RhcnQgdGhlIHRpbWVyLlxuICAgICAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHJlbWFpbmluZ1dhaXQodGltZSkpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiB0cmFpbGluZ0VkZ2UodGltZSkge1xuICAgICAgICB0aW1lcklkID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIC8vIE9ubHkgaW52b2tlIGlmIHdlIGhhdmUgYGxhc3RBcmdzYCB3aGljaCBtZWFucyBgZnVuY2AgaGFzIGJlZW5cbiAgICAgICAgLy8gZGVib3VuY2VkIGF0IGxlYXN0IG9uY2UuXG4gICAgICAgIGlmICh0cmFpbGluZyAmJiBsYXN0QXJncykge1xuICAgICAgICAgIHJldHVybiBpbnZva2VGdW5jKHRpbWUpO1xuICAgICAgICB9XG4gICAgICAgIGxhc3RBcmdzID0gbGFzdFRoaXMgPSB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGNhbmNlbCgpIHtcbiAgICAgICAgaWYgKHRpbWVySWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lcklkKTtcbiAgICAgICAgfVxuICAgICAgICBsYXN0SW52b2tlVGltZSA9IDA7XG4gICAgICAgIGxhc3RBcmdzID0gbGFzdENhbGxUaW1lID0gbGFzdFRoaXMgPSB0aW1lcklkID0gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBmbHVzaCgpIHtcbiAgICAgICAgcmV0dXJuIHRpbWVySWQgPT09IHVuZGVmaW5lZCA/IHJlc3VsdCA6IHRyYWlsaW5nRWRnZShub3coKSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGRlYm91bmNlZCgpIHtcbiAgICAgICAgdmFyIHRpbWUgPSBub3coKSxcbiAgICAgICAgICAgIGlzSW52b2tpbmcgPSBzaG91bGRJbnZva2UodGltZSk7XG5cbiAgICAgICAgbGFzdEFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAgIGxhc3RUaGlzID0gdGhpcztcbiAgICAgICAgbGFzdENhbGxUaW1lID0gdGltZTtcblxuICAgICAgICBpZiAoaXNJbnZva2luZykge1xuICAgICAgICAgIGlmICh0aW1lcklkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBsZWFkaW5nRWRnZShsYXN0Q2FsbFRpbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAobWF4aW5nKSB7XG4gICAgICAgICAgICAvLyBIYW5kbGUgaW52b2NhdGlvbnMgaW4gYSB0aWdodCBsb29wLlxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVySWQpO1xuICAgICAgICAgICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCB3YWl0KTtcbiAgICAgICAgICAgIHJldHVybiBpbnZva2VGdW5jKGxhc3RDYWxsVGltZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aW1lcklkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHdhaXQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICBkZWJvdW5jZWQuY2FuY2VsID0gY2FuY2VsO1xuICAgICAgZGVib3VuY2VkLmZsdXNoID0gZmx1c2g7XG4gICAgICByZXR1cm4gZGVib3VuY2VkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlZmVycyBpbnZva2luZyB0aGUgYGZ1bmNgIHVudGlsIHRoZSBjdXJyZW50IGNhbGwgc3RhY2sgaGFzIGNsZWFyZWQuIEFueVxuICAgICAqIGFkZGl0aW9uYWwgYXJndW1lbnRzIGFyZSBwcm92aWRlZCB0byBgZnVuY2Agd2hlbiBpdCdzIGludm9rZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBkZWZlci5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmdzXSBUaGUgYXJndW1lbnRzIHRvIGludm9rZSBgZnVuY2Agd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSB0aW1lciBpZC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kZWZlcihmdW5jdGlvbih0ZXh0KSB7XG4gICAgICogICBjb25zb2xlLmxvZyh0ZXh0KTtcbiAgICAgKiB9LCAnZGVmZXJyZWQnKTtcbiAgICAgKiAvLyA9PiBMb2dzICdkZWZlcnJlZCcgYWZ0ZXIgb25lIG1pbGxpc2Vjb25kLlxuICAgICAqL1xuICAgIHZhciBkZWZlciA9IGJhc2VSZXN0KGZ1bmN0aW9uKGZ1bmMsIGFyZ3MpIHtcbiAgICAgIHJldHVybiBiYXNlRGVsYXkoZnVuYywgMSwgYXJncyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBJbnZva2VzIGBmdW5jYCBhZnRlciBgd2FpdGAgbWlsbGlzZWNvbmRzLiBBbnkgYWRkaXRpb25hbCBhcmd1bWVudHMgYXJlXG4gICAgICogcHJvdmlkZWQgdG8gYGZ1bmNgIHdoZW4gaXQncyBpbnZva2VkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gZGVsYXkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdhaXQgVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gZGVsYXkgaW52b2NhdGlvbi5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmdzXSBUaGUgYXJndW1lbnRzIHRvIGludm9rZSBgZnVuY2Agd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSB0aW1lciBpZC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kZWxheShmdW5jdGlvbih0ZXh0KSB7XG4gICAgICogICBjb25zb2xlLmxvZyh0ZXh0KTtcbiAgICAgKiB9LCAxMDAwLCAnbGF0ZXInKTtcbiAgICAgKiAvLyA9PiBMb2dzICdsYXRlcicgYWZ0ZXIgb25lIHNlY29uZC5cbiAgICAgKi9cbiAgICB2YXIgZGVsYXkgPSBiYXNlUmVzdChmdW5jdGlvbihmdW5jLCB3YWl0LCBhcmdzKSB7XG4gICAgICByZXR1cm4gYmFzZURlbGF5KGZ1bmMsIHRvTnVtYmVyKHdhaXQpIHx8IDAsIGFyZ3MpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCBhcmd1bWVudHMgcmV2ZXJzZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBmbGlwIGFyZ3VtZW50cyBmb3IuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZmxpcHBlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGZsaXBwZWQgPSBfLmZsaXAoZnVuY3Rpb24oKSB7XG4gICAgICogICByZXR1cm4gXy50b0FycmF5KGFyZ3VtZW50cyk7XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBmbGlwcGVkKCdhJywgJ2InLCAnYycsICdkJyk7XG4gICAgICogLy8gPT4gWydkJywgJ2MnLCAnYicsICdhJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmbGlwKGZ1bmMpIHtcbiAgICAgIHJldHVybiBjcmVhdGVXcmFwKGZ1bmMsIFdSQVBfRkxJUF9GTEFHKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBtZW1vaXplcyB0aGUgcmVzdWx0IG9mIGBmdW5jYC4gSWYgYHJlc29sdmVyYCBpc1xuICAgICAqIHByb3ZpZGVkLCBpdCBkZXRlcm1pbmVzIHRoZSBjYWNoZSBrZXkgZm9yIHN0b3JpbmcgdGhlIHJlc3VsdCBiYXNlZCBvbiB0aGVcbiAgICAgKiBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlIG1lbW9pemVkIGZ1bmN0aW9uLiBCeSBkZWZhdWx0LCB0aGUgZmlyc3QgYXJndW1lbnRcbiAgICAgKiBwcm92aWRlZCB0byB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24gaXMgdXNlZCBhcyB0aGUgbWFwIGNhY2hlIGtleS4gVGhlIGBmdW5jYFxuICAgICAqIGlzIGludm9rZWQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgdGhlIG1lbW9pemVkIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoZSBjYWNoZSBpcyBleHBvc2VkIGFzIHRoZSBgY2FjaGVgIHByb3BlcnR5IG9uIHRoZSBtZW1vaXplZFxuICAgICAqIGZ1bmN0aW9uLiBJdHMgY3JlYXRpb24gbWF5IGJlIGN1c3RvbWl6ZWQgYnkgcmVwbGFjaW5nIHRoZSBgXy5tZW1vaXplLkNhY2hlYFxuICAgICAqIGNvbnN0cnVjdG9yIHdpdGggb25lIHdob3NlIGluc3RhbmNlcyBpbXBsZW1lbnQgdGhlXG4gICAgICogW2BNYXBgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1wcm9wZXJ0aWVzLW9mLXRoZS1tYXAtcHJvdG90eXBlLW9iamVjdClcbiAgICAgKiBtZXRob2QgaW50ZXJmYWNlIG9mIGBjbGVhcmAsIGBkZWxldGVgLCBgZ2V0YCwgYGhhc2AsIGFuZCBgc2V0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGhhdmUgaXRzIG91dHB1dCBtZW1vaXplZC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcmVzb2x2ZXJdIFRoZSBmdW5jdGlvbiB0byByZXNvbHZlIHRoZSBjYWNoZSBrZXkuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgbWVtb2l6ZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAyIH07XG4gICAgICogdmFyIG90aGVyID0geyAnYyc6IDMsICdkJzogNCB9O1xuICAgICAqXG4gICAgICogdmFyIHZhbHVlcyA9IF8ubWVtb2l6ZShfLnZhbHVlcyk7XG4gICAgICogdmFsdWVzKG9iamVjdCk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICpcbiAgICAgKiB2YWx1ZXMob3RoZXIpO1xuICAgICAqIC8vID0+IFszLCA0XVxuICAgICAqXG4gICAgICogb2JqZWN0LmEgPSAyO1xuICAgICAqIHZhbHVlcyhvYmplY3QpO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqXG4gICAgICogLy8gTW9kaWZ5IHRoZSByZXN1bHQgY2FjaGUuXG4gICAgICogdmFsdWVzLmNhY2hlLnNldChvYmplY3QsIFsnYScsICdiJ10pO1xuICAgICAqIHZhbHVlcyhvYmplY3QpO1xuICAgICAqIC8vID0+IFsnYScsICdiJ11cbiAgICAgKlxuICAgICAqIC8vIFJlcGxhY2UgYF8ubWVtb2l6ZS5DYWNoZWAuXG4gICAgICogXy5tZW1vaXplLkNhY2hlID0gV2Vha01hcDtcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtZW1vaXplKGZ1bmMsIHJlc29sdmVyKSB7XG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJyB8fCAocmVzb2x2ZXIgIT0gbnVsbCAmJiB0eXBlb2YgcmVzb2x2ZXIgIT0gJ2Z1bmN0aW9uJykpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgdmFyIG1lbW9pemVkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzLFxuICAgICAgICAgICAga2V5ID0gcmVzb2x2ZXIgPyByZXNvbHZlci5hcHBseSh0aGlzLCBhcmdzKSA6IGFyZ3NbMF0sXG4gICAgICAgICAgICBjYWNoZSA9IG1lbW9pemVkLmNhY2hlO1xuXG4gICAgICAgIGlmIChjYWNoZS5oYXMoa2V5KSkge1xuICAgICAgICAgIHJldHVybiBjYWNoZS5nZXQoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVzdWx0ID0gZnVuYy5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgbWVtb2l6ZWQuY2FjaGUgPSBjYWNoZS5zZXQoa2V5LCByZXN1bHQpIHx8IGNhY2hlO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcbiAgICAgIG1lbW9pemVkLmNhY2hlID0gbmV3IChtZW1vaXplLkNhY2hlIHx8IE1hcENhY2hlKTtcbiAgICAgIHJldHVybiBtZW1vaXplZDtcbiAgICB9XG5cbiAgICAvLyBFeHBvc2UgYE1hcENhY2hlYC5cbiAgICBtZW1vaXplLkNhY2hlID0gTWFwQ2FjaGU7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBuZWdhdGVzIHRoZSByZXN1bHQgb2YgdGhlIHByZWRpY2F0ZSBgZnVuY2AuIFRoZVxuICAgICAqIGBmdW5jYCBwcmVkaWNhdGUgaXMgaW52b2tlZCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBhbmQgYXJndW1lbnRzIG9mIHRoZVxuICAgICAqIGNyZWF0ZWQgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIHByZWRpY2F0ZSB0byBuZWdhdGUuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgbmVnYXRlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gaXNFdmVuKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICUgMiA9PSAwO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIF8uZmlsdGVyKFsxLCAyLCAzLCA0LCA1LCA2XSwgXy5uZWdhdGUoaXNFdmVuKSk7XG4gICAgICogLy8gPT4gWzEsIDMsIDVdXG4gICAgICovXG4gICAgZnVuY3Rpb24gbmVnYXRlKHByZWRpY2F0ZSkge1xuICAgICAgaWYgKHR5cGVvZiBwcmVkaWNhdGUgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgICBzd2l0Y2ggKGFyZ3MubGVuZ3RoKSB7XG4gICAgICAgICAgY2FzZSAwOiByZXR1cm4gIXByZWRpY2F0ZS5jYWxsKHRoaXMpO1xuICAgICAgICAgIGNhc2UgMTogcmV0dXJuICFwcmVkaWNhdGUuY2FsbCh0aGlzLCBhcmdzWzBdKTtcbiAgICAgICAgICBjYXNlIDI6IHJldHVybiAhcHJlZGljYXRlLmNhbGwodGhpcywgYXJnc1swXSwgYXJnc1sxXSk7XG4gICAgICAgICAgY2FzZSAzOiByZXR1cm4gIXByZWRpY2F0ZS5jYWxsKHRoaXMsIGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAhcHJlZGljYXRlLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpcyByZXN0cmljdGVkIHRvIGludm9raW5nIGBmdW5jYCBvbmNlLiBSZXBlYXQgY2FsbHNcbiAgICAgKiB0byB0aGUgZnVuY3Rpb24gcmV0dXJuIHRoZSB2YWx1ZSBvZiB0aGUgZmlyc3QgaW52b2NhdGlvbi4gVGhlIGBmdW5jYCBpc1xuICAgICAqIGludm9rZWQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgYW5kIGFyZ3VtZW50cyBvZiB0aGUgY3JlYXRlZCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHJlc3RyaWN0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHJlc3RyaWN0ZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBpbml0aWFsaXplID0gXy5vbmNlKGNyZWF0ZUFwcGxpY2F0aW9uKTtcbiAgICAgKiBpbml0aWFsaXplKCk7XG4gICAgICogaW5pdGlhbGl6ZSgpO1xuICAgICAqIC8vID0+IGBjcmVhdGVBcHBsaWNhdGlvbmAgaXMgaW52b2tlZCBvbmNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gb25jZShmdW5jKSB7XG4gICAgICByZXR1cm4gYmVmb3JlKDIsIGZ1bmMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggaXRzIGFyZ3VtZW50cyB0cmFuc2Zvcm1lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHsuLi4oRnVuY3Rpb258RnVuY3Rpb25bXSl9IFt0cmFuc2Zvcm1zPVtfLmlkZW50aXR5XV1cbiAgICAgKiAgVGhlIGFyZ3VtZW50IHRyYW5zZm9ybXMuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGRvdWJsZWQobikge1xuICAgICAqICAgcmV0dXJuIG4gKiAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIHNxdWFyZShuKSB7XG4gICAgICogICByZXR1cm4gbiAqIG47XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGZ1bmMgPSBfLm92ZXJBcmdzKGZ1bmN0aW9uKHgsIHkpIHtcbiAgICAgKiAgIHJldHVybiBbeCwgeV07XG4gICAgICogfSwgW3NxdWFyZSwgZG91YmxlZF0pO1xuICAgICAqXG4gICAgICogZnVuYyg5LCAzKTtcbiAgICAgKiAvLyA9PiBbODEsIDZdXG4gICAgICpcbiAgICAgKiBmdW5jKDEwLCA1KTtcbiAgICAgKiAvLyA9PiBbMTAwLCAxMF1cbiAgICAgKi9cbiAgICB2YXIgb3ZlckFyZ3MgPSBjYXN0UmVzdChmdW5jdGlvbihmdW5jLCB0cmFuc2Zvcm1zKSB7XG4gICAgICB0cmFuc2Zvcm1zID0gKHRyYW5zZm9ybXMubGVuZ3RoID09IDEgJiYgaXNBcnJheSh0cmFuc2Zvcm1zWzBdKSlcbiAgICAgICAgPyBhcnJheU1hcCh0cmFuc2Zvcm1zWzBdLCBiYXNlVW5hcnkoZ2V0SXRlcmF0ZWUoKSkpXG4gICAgICAgIDogYXJyYXlNYXAoYmFzZUZsYXR0ZW4odHJhbnNmb3JtcywgMSksIGJhc2VVbmFyeShnZXRJdGVyYXRlZSgpKSk7XG5cbiAgICAgIHZhciBmdW5jc0xlbmd0aCA9IHRyYW5zZm9ybXMubGVuZ3RoO1xuICAgICAgcmV0dXJuIGJhc2VSZXN0KGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgICBsZW5ndGggPSBuYXRpdmVNaW4oYXJncy5sZW5ndGgsIGZ1bmNzTGVuZ3RoKTtcblxuICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIGFyZ3NbaW5kZXhdID0gdHJhbnNmb3Jtc1tpbmRleF0uY2FsbCh0aGlzLCBhcmdzW2luZGV4XSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFwcGx5KGZ1bmMsIHRoaXMsIGFyZ3MpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIGBwYXJ0aWFsc2AgcHJlcGVuZGVkIHRvIHRoZVxuICAgICAqIGFyZ3VtZW50cyBpdCByZWNlaXZlcy4gVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5iaW5kYCBleGNlcHQgaXQgZG9lcyAqKm5vdCoqXG4gICAgICogYWx0ZXIgdGhlIGB0aGlzYCBiaW5kaW5nLlxuICAgICAqXG4gICAgICogVGhlIGBfLnBhcnRpYWwucGxhY2Vob2xkZXJgIHZhbHVlLCB3aGljaCBkZWZhdWx0cyB0byBgX2AgaW4gbW9ub2xpdGhpY1xuICAgICAqIGJ1aWxkcywgbWF5IGJlIHVzZWQgYXMgYSBwbGFjZWhvbGRlciBmb3IgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGRvZXNuJ3Qgc2V0IHRoZSBcImxlbmd0aFwiIHByb3BlcnR5IG9mIHBhcnRpYWxseVxuICAgICAqIGFwcGxpZWQgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMi4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcGFydGlhbGx5IGFwcGx5IGFyZ3VtZW50cyB0by5cbiAgICAgKiBAcGFyYW0gey4uLip9IFtwYXJ0aWFsc10gVGhlIGFyZ3VtZW50cyB0byBiZSBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBwYXJ0aWFsbHkgYXBwbGllZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gZ3JlZXQoZ3JlZXRpbmcsIG5hbWUpIHtcbiAgICAgKiAgIHJldHVybiBncmVldGluZyArICcgJyArIG5hbWU7XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIHNheUhlbGxvVG8gPSBfLnBhcnRpYWwoZ3JlZXQsICdoZWxsbycpO1xuICAgICAqIHNheUhlbGxvVG8oJ2ZyZWQnKTtcbiAgICAgKiAvLyA9PiAnaGVsbG8gZnJlZCdcbiAgICAgKlxuICAgICAqIC8vIFBhcnRpYWxseSBhcHBsaWVkIHdpdGggcGxhY2Vob2xkZXJzLlxuICAgICAqIHZhciBncmVldEZyZWQgPSBfLnBhcnRpYWwoZ3JlZXQsIF8sICdmcmVkJyk7XG4gICAgICogZ3JlZXRGcmVkKCdoaScpO1xuICAgICAqIC8vID0+ICdoaSBmcmVkJ1xuICAgICAqL1xuICAgIHZhciBwYXJ0aWFsID0gYmFzZVJlc3QoZnVuY3Rpb24oZnVuYywgcGFydGlhbHMpIHtcbiAgICAgIHZhciBob2xkZXJzID0gcmVwbGFjZUhvbGRlcnMocGFydGlhbHMsIGdldEhvbGRlcihwYXJ0aWFsKSk7XG4gICAgICByZXR1cm4gY3JlYXRlV3JhcChmdW5jLCBXUkFQX1BBUlRJQUxfRkxBRywgdW5kZWZpbmVkLCBwYXJ0aWFscywgaG9sZGVycyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnBhcnRpYWxgIGV4Y2VwdCB0aGF0IHBhcnRpYWxseSBhcHBsaWVkIGFyZ3VtZW50c1xuICAgICAqIGFyZSBhcHBlbmRlZCB0byB0aGUgYXJndW1lbnRzIGl0IHJlY2VpdmVzLlxuICAgICAqXG4gICAgICogVGhlIGBfLnBhcnRpYWxSaWdodC5wbGFjZWhvbGRlcmAgdmFsdWUsIHdoaWNoIGRlZmF1bHRzIHRvIGBfYCBpbiBtb25vbGl0aGljXG4gICAgICogYnVpbGRzLCBtYXkgYmUgdXNlZCBhcyBhIHBsYWNlaG9sZGVyIGZvciBwYXJ0aWFsbHkgYXBwbGllZCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgZG9lc24ndCBzZXQgdGhlIFwibGVuZ3RoXCIgcHJvcGVydHkgb2YgcGFydGlhbGx5XG4gICAgICogYXBwbGllZCBmdW5jdGlvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBwYXJ0aWFsbHkgYXBwbHkgYXJndW1lbnRzIHRvLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW3BhcnRpYWxzXSBUaGUgYXJndW1lbnRzIHRvIGJlIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHBhcnRpYWxseSBhcHBsaWVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBncmVldChncmVldGluZywgbmFtZSkge1xuICAgICAqICAgcmV0dXJuIGdyZWV0aW5nICsgJyAnICsgbmFtZTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgZ3JlZXRGcmVkID0gXy5wYXJ0aWFsUmlnaHQoZ3JlZXQsICdmcmVkJyk7XG4gICAgICogZ3JlZXRGcmVkKCdoaScpO1xuICAgICAqIC8vID0+ICdoaSBmcmVkJ1xuICAgICAqXG4gICAgICogLy8gUGFydGlhbGx5IGFwcGxpZWQgd2l0aCBwbGFjZWhvbGRlcnMuXG4gICAgICogdmFyIHNheUhlbGxvVG8gPSBfLnBhcnRpYWxSaWdodChncmVldCwgJ2hlbGxvJywgXyk7XG4gICAgICogc2F5SGVsbG9UbygnZnJlZCcpO1xuICAgICAqIC8vID0+ICdoZWxsbyBmcmVkJ1xuICAgICAqL1xuICAgIHZhciBwYXJ0aWFsUmlnaHQgPSBiYXNlUmVzdChmdW5jdGlvbihmdW5jLCBwYXJ0aWFscykge1xuICAgICAgdmFyIGhvbGRlcnMgPSByZXBsYWNlSG9sZGVycyhwYXJ0aWFscywgZ2V0SG9sZGVyKHBhcnRpYWxSaWdodCkpO1xuICAgICAgcmV0dXJuIGNyZWF0ZVdyYXAoZnVuYywgV1JBUF9QQVJUSUFMX1JJR0hUX0ZMQUcsIHVuZGVmaW5lZCwgcGFydGlhbHMsIGhvbGRlcnMpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCBhcmd1bWVudHMgYXJyYW5nZWQgYWNjb3JkaW5nXG4gICAgICogdG8gdGhlIHNwZWNpZmllZCBgaW5kZXhlc2Agd2hlcmUgdGhlIGFyZ3VtZW50IHZhbHVlIGF0IHRoZSBmaXJzdCBpbmRleCBpc1xuICAgICAqIHByb3ZpZGVkIGFzIHRoZSBmaXJzdCBhcmd1bWVudCwgdGhlIGFyZ3VtZW50IHZhbHVlIGF0IHRoZSBzZWNvbmQgaW5kZXggaXNcbiAgICAgKiBwcm92aWRlZCBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50LCBhbmQgc28gb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byByZWFycmFuZ2UgYXJndW1lbnRzIGZvci5cbiAgICAgKiBAcGFyYW0gey4uLihudW1iZXJ8bnVtYmVyW10pfSBpbmRleGVzIFRoZSBhcnJhbmdlZCBhcmd1bWVudCBpbmRleGVzLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgcmVhcmdlZCA9IF8ucmVhcmcoZnVuY3Rpb24oYSwgYiwgYykge1xuICAgICAqICAgcmV0dXJuIFthLCBiLCBjXTtcbiAgICAgKiB9LCBbMiwgMCwgMV0pO1xuICAgICAqXG4gICAgICogcmVhcmdlZCgnYicsICdjJywgJ2EnKVxuICAgICAqIC8vID0+IFsnYScsICdiJywgJ2MnXVxuICAgICAqL1xuICAgIHZhciByZWFyZyA9IGZsYXRSZXN0KGZ1bmN0aW9uKGZ1bmMsIGluZGV4ZXMpIHtcbiAgICAgIHJldHVybiBjcmVhdGVXcmFwKGZ1bmMsIFdSQVBfUkVBUkdfRkxBRywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgaW5kZXhlcyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiB0aGVcbiAgICAgKiBjcmVhdGVkIGZ1bmN0aW9uIGFuZCBhcmd1bWVudHMgZnJvbSBgc3RhcnRgIGFuZCBiZXlvbmQgcHJvdmlkZWQgYXNcbiAgICAgKiBhbiBhcnJheS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvbiB0aGVcbiAgICAgKiBbcmVzdCBwYXJhbWV0ZXJdKGh0dHBzOi8vbWRuLmlvL3Jlc3RfcGFyYW1ldGVycykuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhcHBseSBhIHJlc3QgcGFyYW1ldGVyIHRvLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9ZnVuYy5sZW5ndGgtMV0gVGhlIHN0YXJ0IHBvc2l0aW9uIG9mIHRoZSByZXN0IHBhcmFtZXRlci5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHNheSA9IF8ucmVzdChmdW5jdGlvbih3aGF0LCBuYW1lcykge1xuICAgICAqICAgcmV0dXJuIHdoYXQgKyAnICcgKyBfLmluaXRpYWwobmFtZXMpLmpvaW4oJywgJykgK1xuICAgICAqICAgICAoXy5zaXplKG5hbWVzKSA+IDEgPyAnLCAmICcgOiAnJykgKyBfLmxhc3QobmFtZXMpO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogc2F5KCdoZWxsbycsICdmcmVkJywgJ2Jhcm5leScsICdwZWJibGVzJyk7XG4gICAgICogLy8gPT4gJ2hlbGxvIGZyZWQsIGJhcm5leSwgJiBwZWJibGVzJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlc3QoZnVuYywgc3RhcnQpIHtcbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHN0YXJ0ID0gc3RhcnQgPT09IHVuZGVmaW5lZCA/IHN0YXJ0IDogdG9JbnRlZ2VyKHN0YXJ0KTtcbiAgICAgIHJldHVybiBiYXNlUmVzdChmdW5jLCBzdGFydCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgdGhlXG4gICAgICogY3JlYXRlIGZ1bmN0aW9uIGFuZCBhbiBhcnJheSBvZiBhcmd1bWVudHMgbXVjaCBsaWtlXG4gICAgICogW2BGdW5jdGlvbiNhcHBseWBdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1mdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uIHRoZVxuICAgICAqIFtzcHJlYWQgb3BlcmF0b3JdKGh0dHBzOi8vbWRuLmlvL3NwcmVhZF9vcGVyYXRvcikuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4yLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBzcHJlYWQgYXJndW1lbnRzIG92ZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgcG9zaXRpb24gb2YgdGhlIHNwcmVhZC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHNheSA9IF8uc3ByZWFkKGZ1bmN0aW9uKHdobywgd2hhdCkge1xuICAgICAqICAgcmV0dXJuIHdobyArICcgc2F5cyAnICsgd2hhdDtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIHNheShbJ2ZyZWQnLCAnaGVsbG8nXSk7XG4gICAgICogLy8gPT4gJ2ZyZWQgc2F5cyBoZWxsbydcbiAgICAgKlxuICAgICAqIHZhciBudW1iZXJzID0gUHJvbWlzZS5hbGwoW1xuICAgICAqICAgUHJvbWlzZS5yZXNvbHZlKDQwKSxcbiAgICAgKiAgIFByb21pc2UucmVzb2x2ZSgzNilcbiAgICAgKiBdKTtcbiAgICAgKlxuICAgICAqIG51bWJlcnMudGhlbihfLnNwcmVhZChmdW5jdGlvbih4LCB5KSB7XG4gICAgICogICByZXR1cm4geCArIHk7XG4gICAgICogfSkpO1xuICAgICAqIC8vID0+IGEgUHJvbWlzZSBvZiA3NlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNwcmVhZChmdW5jLCBzdGFydCkge1xuICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgc3RhcnQgPSBzdGFydCA9PSBudWxsID8gMCA6IG5hdGl2ZU1heCh0b0ludGVnZXIoc3RhcnQpLCAwKTtcbiAgICAgIHJldHVybiBiYXNlUmVzdChmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgIHZhciBhcnJheSA9IGFyZ3Nbc3RhcnRdLFxuICAgICAgICAgICAgb3RoZXJBcmdzID0gY2FzdFNsaWNlKGFyZ3MsIDAsIHN0YXJ0KTtcblxuICAgICAgICBpZiAoYXJyYXkpIHtcbiAgICAgICAgICBhcnJheVB1c2gob3RoZXJBcmdzLCBhcnJheSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFwcGx5KGZ1bmMsIHRoaXMsIG90aGVyQXJncyk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgdGhyb3R0bGVkIGZ1bmN0aW9uIHRoYXQgb25seSBpbnZva2VzIGBmdW5jYCBhdCBtb3N0IG9uY2UgcGVyXG4gICAgICogZXZlcnkgYHdhaXRgIG1pbGxpc2Vjb25kcy4gVGhlIHRocm90dGxlZCBmdW5jdGlvbiBjb21lcyB3aXRoIGEgYGNhbmNlbGBcbiAgICAgKiBtZXRob2QgdG8gY2FuY2VsIGRlbGF5ZWQgYGZ1bmNgIGludm9jYXRpb25zIGFuZCBhIGBmbHVzaGAgbWV0aG9kIHRvXG4gICAgICogaW1tZWRpYXRlbHkgaW52b2tlIHRoZW0uIFByb3ZpZGUgYG9wdGlvbnNgIHRvIGluZGljYXRlIHdoZXRoZXIgYGZ1bmNgXG4gICAgICogc2hvdWxkIGJlIGludm9rZWQgb24gdGhlIGxlYWRpbmcgYW5kL29yIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIGB3YWl0YFxuICAgICAqIHRpbWVvdXQuIFRoZSBgZnVuY2AgaXMgaW52b2tlZCB3aXRoIHRoZSBsYXN0IGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGVcbiAgICAgKiB0aHJvdHRsZWQgZnVuY3Rpb24uIFN1YnNlcXVlbnQgY2FsbHMgdG8gdGhlIHRocm90dGxlZCBmdW5jdGlvbiByZXR1cm4gdGhlXG4gICAgICogcmVzdWx0IG9mIHRoZSBsYXN0IGBmdW5jYCBpbnZvY2F0aW9uLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIElmIGBsZWFkaW5nYCBhbmQgYHRyYWlsaW5nYCBvcHRpb25zIGFyZSBgdHJ1ZWAsIGBmdW5jYCBpc1xuICAgICAqIGludm9rZWQgb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQgb25seSBpZiB0aGUgdGhyb3R0bGVkIGZ1bmN0aW9uXG4gICAgICogaXMgaW52b2tlZCBtb3JlIHRoYW4gb25jZSBkdXJpbmcgdGhlIGB3YWl0YCB0aW1lb3V0LlxuICAgICAqXG4gICAgICogSWYgYHdhaXRgIGlzIGAwYCBhbmQgYGxlYWRpbmdgIGlzIGBmYWxzZWAsIGBmdW5jYCBpbnZvY2F0aW9uIGlzIGRlZmVycmVkXG4gICAgICogdW50aWwgdG8gdGhlIG5leHQgdGljaywgc2ltaWxhciB0byBgc2V0VGltZW91dGAgd2l0aCBhIHRpbWVvdXQgb2YgYDBgLlxuICAgICAqXG4gICAgICogU2VlIFtEYXZpZCBDb3JiYWNobydzIGFydGljbGVdKGh0dHBzOi8vY3NzLXRyaWNrcy5jb20vZGVib3VuY2luZy10aHJvdHRsaW5nLWV4cGxhaW5lZC1leGFtcGxlcy8pXG4gICAgICogZm9yIGRldGFpbHMgb3ZlciB0aGUgZGlmZmVyZW5jZXMgYmV0d2VlbiBgXy50aHJvdHRsZWAgYW5kIGBfLmRlYm91bmNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHRocm90dGxlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbd2FpdD0wXSBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byB0aHJvdHRsZSBpbnZvY2F0aW9ucyB0by5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmxlYWRpbmc9dHJ1ZV1cbiAgICAgKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgbGVhZGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudHJhaWxpbmc9dHJ1ZV1cbiAgICAgKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB0aHJvdHRsZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIC8vIEF2b2lkIGV4Y2Vzc2l2ZWx5IHVwZGF0aW5nIHRoZSBwb3NpdGlvbiB3aGlsZSBzY3JvbGxpbmcuXG4gICAgICogalF1ZXJ5KHdpbmRvdykub24oJ3Njcm9sbCcsIF8udGhyb3R0bGUodXBkYXRlUG9zaXRpb24sIDEwMCkpO1xuICAgICAqXG4gICAgICogLy8gSW52b2tlIGByZW5ld1Rva2VuYCB3aGVuIHRoZSBjbGljayBldmVudCBpcyBmaXJlZCwgYnV0IG5vdCBtb3JlIHRoYW4gb25jZSBldmVyeSA1IG1pbnV0ZXMuXG4gICAgICogdmFyIHRocm90dGxlZCA9IF8udGhyb3R0bGUocmVuZXdUb2tlbiwgMzAwMDAwLCB7ICd0cmFpbGluZyc6IGZhbHNlIH0pO1xuICAgICAqIGpRdWVyeShlbGVtZW50KS5vbignY2xpY2snLCB0aHJvdHRsZWQpO1xuICAgICAqXG4gICAgICogLy8gQ2FuY2VsIHRoZSB0cmFpbGluZyB0aHJvdHRsZWQgaW52b2NhdGlvbi5cbiAgICAgKiBqUXVlcnkod2luZG93KS5vbigncG9wc3RhdGUnLCB0aHJvdHRsZWQuY2FuY2VsKTtcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0aHJvdHRsZShmdW5jLCB3YWl0LCBvcHRpb25zKSB7XG4gICAgICB2YXIgbGVhZGluZyA9IHRydWUsXG4gICAgICAgICAgdHJhaWxpbmcgPSB0cnVlO1xuXG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICBpZiAoaXNPYmplY3Qob3B0aW9ucykpIHtcbiAgICAgICAgbGVhZGluZyA9ICdsZWFkaW5nJyBpbiBvcHRpb25zID8gISFvcHRpb25zLmxlYWRpbmcgOiBsZWFkaW5nO1xuICAgICAgICB0cmFpbGluZyA9ICd0cmFpbGluZycgaW4gb3B0aW9ucyA/ICEhb3B0aW9ucy50cmFpbGluZyA6IHRyYWlsaW5nO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGRlYm91bmNlKGZ1bmMsIHdhaXQsIHtcbiAgICAgICAgJ2xlYWRpbmcnOiBsZWFkaW5nLFxuICAgICAgICAnbWF4V2FpdCc6IHdhaXQsXG4gICAgICAgICd0cmFpbGluZyc6IHRyYWlsaW5nXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBhY2NlcHRzIHVwIHRvIG9uZSBhcmd1bWVudCwgaWdub3JpbmcgYW55XG4gICAgICogYWRkaXRpb25hbCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjYXAgYXJndW1lbnRzIGZvci5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjYXBwZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubWFwKFsnNicsICc4JywgJzEwJ10sIF8udW5hcnkocGFyc2VJbnQpKTtcbiAgICAgKiAvLyA9PiBbNiwgOCwgMTBdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5hcnkoZnVuYykge1xuICAgICAgcmV0dXJuIGFyeShmdW5jLCAxKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBwcm92aWRlcyBgdmFsdWVgIHRvIGB3cmFwcGVyYCBhcyBpdHMgZmlyc3RcbiAgICAgKiBhcmd1bWVudC4gQW55IGFkZGl0aW9uYWwgYXJndW1lbnRzIHByb3ZpZGVkIHRvIHRoZSBmdW5jdGlvbiBhcmUgYXBwZW5kZWRcbiAgICAgKiB0byB0aG9zZSBwcm92aWRlZCB0byB0aGUgYHdyYXBwZXJgLiBUaGUgd3JhcHBlciBpcyBpbnZva2VkIHdpdGggdGhlIGB0aGlzYFxuICAgICAqIGJpbmRpbmcgb2YgdGhlIGNyZWF0ZWQgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFt3cmFwcGVyPWlkZW50aXR5XSBUaGUgd3JhcHBlciBmdW5jdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHAgPSBfLndyYXAoXy5lc2NhcGUsIGZ1bmN0aW9uKGZ1bmMsIHRleHQpIHtcbiAgICAgKiAgIHJldHVybiAnPHA+JyArIGZ1bmModGV4dCkgKyAnPC9wPic7XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBwKCdmcmVkLCBiYXJuZXksICYgcGViYmxlcycpO1xuICAgICAqIC8vID0+ICc8cD5mcmVkLCBiYXJuZXksICZhbXA7IHBlYmJsZXM8L3A+J1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXAodmFsdWUsIHdyYXBwZXIpIHtcbiAgICAgIHJldHVybiBwYXJ0aWFsKGNhc3RGdW5jdGlvbih3cmFwcGVyKSwgdmFsdWUpO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENhc3RzIGB2YWx1ZWAgYXMgYW4gYXJyYXkgaWYgaXQncyBub3Qgb25lLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY2FzdCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5jYXN0QXJyYXkoMSk7XG4gICAgICogLy8gPT4gWzFdXG4gICAgICpcbiAgICAgKiBfLmNhc3RBcnJheSh7ICdhJzogMSB9KTtcbiAgICAgKiAvLyA9PiBbeyAnYSc6IDEgfV1cbiAgICAgKlxuICAgICAqIF8uY2FzdEFycmF5KCdhYmMnKTtcbiAgICAgKiAvLyA9PiBbJ2FiYyddXG4gICAgICpcbiAgICAgKiBfLmNhc3RBcnJheShudWxsKTtcbiAgICAgKiAvLyA9PiBbbnVsbF1cbiAgICAgKlxuICAgICAqIF8uY2FzdEFycmF5KHVuZGVmaW5lZCk7XG4gICAgICogLy8gPT4gW3VuZGVmaW5lZF1cbiAgICAgKlxuICAgICAqIF8uY2FzdEFycmF5KCk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsxLCAyLCAzXTtcbiAgICAgKiBjb25zb2xlLmxvZyhfLmNhc3RBcnJheShhcnJheSkgPT09IGFycmF5KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2FzdEFycmF5KCkge1xuICAgICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIHZhciB2YWx1ZSA9IGFyZ3VtZW50c1swXTtcbiAgICAgIHJldHVybiBpc0FycmF5KHZhbHVlKSA/IHZhbHVlIDogW3ZhbHVlXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2hhbGxvdyBjbG9uZSBvZiBgdmFsdWVgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGxvb3NlbHkgYmFzZWQgb24gdGhlXG4gICAgICogW3N0cnVjdHVyZWQgY2xvbmUgYWxnb3JpdGhtXShodHRwczovL21kbi5pby9TdHJ1Y3R1cmVkX2Nsb25lX2FsZ29yaXRobSlcbiAgICAgKiBhbmQgc3VwcG9ydHMgY2xvbmluZyBhcnJheXMsIGFycmF5IGJ1ZmZlcnMsIGJvb2xlYW5zLCBkYXRlIG9iamVjdHMsIG1hcHMsXG4gICAgICogbnVtYmVycywgYE9iamVjdGAgb2JqZWN0cywgcmVnZXhlcywgc2V0cywgc3RyaW5ncywgc3ltYm9scywgYW5kIHR5cGVkXG4gICAgICogYXJyYXlzLiBUaGUgb3duIGVudW1lcmFibGUgcHJvcGVydGllcyBvZiBgYXJndW1lbnRzYCBvYmplY3RzIGFyZSBjbG9uZWRcbiAgICAgKiBhcyBwbGFpbiBvYmplY3RzLiBBbiBlbXB0eSBvYmplY3QgaXMgcmV0dXJuZWQgZm9yIHVuY2xvbmVhYmxlIHZhbHVlcyBzdWNoXG4gICAgICogYXMgZXJyb3Igb2JqZWN0cywgZnVuY3Rpb25zLCBET00gbm9kZXMsIGFuZCBXZWFrTWFwcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2xvbmUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGNsb25lZCB2YWx1ZS5cbiAgICAgKiBAc2VlIF8uY2xvbmVEZWVwXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ2EnOiAxIH0sIHsgJ2InOiAyIH1dO1xuICAgICAqXG4gICAgICogdmFyIHNoYWxsb3cgPSBfLmNsb25lKG9iamVjdHMpO1xuICAgICAqIGNvbnNvbGUubG9nKHNoYWxsb3dbMF0gPT09IG9iamVjdHNbMF0pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGJhc2VDbG9uZSh2YWx1ZSwgQ0xPTkVfU1lNQk9MU19GTEFHKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmNsb25lYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjdXN0b21pemVyYCB3aGljaFxuICAgICAqIGlzIGludm9rZWQgdG8gcHJvZHVjZSB0aGUgY2xvbmVkIHZhbHVlLiBJZiBgY3VzdG9taXplcmAgcmV0dXJucyBgdW5kZWZpbmVkYCxcbiAgICAgKiBjbG9uaW5nIGlzIGhhbmRsZWQgYnkgdGhlIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgIGlzIGludm9rZWQgd2l0aFxuICAgICAqIHVwIHRvIGZvdXIgYXJndW1lbnRzOyAodmFsdWUgWywgaW5kZXh8a2V5LCBvYmplY3QsIHN0YWNrXSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNsb25lLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNsb25pbmcuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGNsb25lZCB2YWx1ZS5cbiAgICAgKiBAc2VlIF8uY2xvbmVEZWVwV2l0aFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBjdXN0b21pemVyKHZhbHVlKSB7XG4gICAgICogICBpZiAoXy5pc0VsZW1lbnQodmFsdWUpKSB7XG4gICAgICogICAgIHJldHVybiB2YWx1ZS5jbG9uZU5vZGUoZmFsc2UpO1xuICAgICAqICAgfVxuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBlbCA9IF8uY2xvbmVXaXRoKGRvY3VtZW50LmJvZHksIGN1c3RvbWl6ZXIpO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2coZWwgPT09IGRvY3VtZW50LmJvZHkpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICogY29uc29sZS5sb2coZWwubm9kZU5hbWUpO1xuICAgICAqIC8vID0+ICdCT0RZJ1xuICAgICAqIGNvbnNvbGUubG9nKGVsLmNoaWxkTm9kZXMubGVuZ3RoKTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVXaXRoKHZhbHVlLCBjdXN0b21pemVyKSB7XG4gICAgICBjdXN0b21pemVyID0gdHlwZW9mIGN1c3RvbWl6ZXIgPT0gJ2Z1bmN0aW9uJyA/IGN1c3RvbWl6ZXIgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gYmFzZUNsb25lKHZhbHVlLCBDTE9ORV9TWU1CT0xTX0ZMQUcsIGN1c3RvbWl6ZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uY2xvbmVgIGV4Y2VwdCB0aGF0IGl0IHJlY3Vyc2l2ZWx5IGNsb25lcyBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byByZWN1cnNpdmVseSBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZGVlcCBjbG9uZWQgdmFsdWUuXG4gICAgICogQHNlZSBfLmNsb25lXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ2EnOiAxIH0sIHsgJ2InOiAyIH1dO1xuICAgICAqXG4gICAgICogdmFyIGRlZXAgPSBfLmNsb25lRGVlcChvYmplY3RzKTtcbiAgICAgKiBjb25zb2xlLmxvZyhkZWVwWzBdID09PSBvYmplY3RzWzBdKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lRGVlcCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGJhc2VDbG9uZSh2YWx1ZSwgQ0xPTkVfREVFUF9GTEFHIHwgQ0xPTkVfU1lNQk9MU19GTEFHKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmNsb25lV2l0aGAgZXhjZXB0IHRoYXQgaXQgcmVjdXJzaXZlbHkgY2xvbmVzIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHJlY3Vyc2l2ZWx5IGNsb25lLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNsb25pbmcuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGRlZXAgY2xvbmVkIHZhbHVlLlxuICAgICAqIEBzZWUgXy5jbG9uZVdpdGhcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gY3VzdG9taXplcih2YWx1ZSkge1xuICAgICAqICAgaWYgKF8uaXNFbGVtZW50KHZhbHVlKSkge1xuICAgICAqICAgICByZXR1cm4gdmFsdWUuY2xvbmVOb2RlKHRydWUpO1xuICAgICAqICAgfVxuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBlbCA9IF8uY2xvbmVEZWVwV2l0aChkb2N1bWVudC5ib2R5LCBjdXN0b21pemVyKTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGVsID09PSBkb2N1bWVudC5ib2R5KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqIGNvbnNvbGUubG9nKGVsLm5vZGVOYW1lKTtcbiAgICAgKiAvLyA9PiAnQk9EWSdcbiAgICAgKiBjb25zb2xlLmxvZyhlbC5jaGlsZE5vZGVzLmxlbmd0aCk7XG4gICAgICogLy8gPT4gMjBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZURlZXBXaXRoKHZhbHVlLCBjdXN0b21pemVyKSB7XG4gICAgICBjdXN0b21pemVyID0gdHlwZW9mIGN1c3RvbWl6ZXIgPT0gJ2Z1bmN0aW9uJyA/IGN1c3RvbWl6ZXIgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gYmFzZUNsb25lKHZhbHVlLCBDTE9ORV9ERUVQX0ZMQUcgfCBDTE9ORV9TWU1CT0xTX0ZMQUcsIGN1c3RvbWl6ZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgb2JqZWN0YCBjb25mb3JtcyB0byBgc291cmNlYCBieSBpbnZva2luZyB0aGUgcHJlZGljYXRlXG4gICAgICogcHJvcGVydGllcyBvZiBgc291cmNlYCB3aXRoIHRoZSBjb3JyZXNwb25kaW5nIHByb3BlcnR5IHZhbHVlcyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBlcXVpdmFsZW50IHRvIGBfLmNvbmZvcm1zYCB3aGVuIGBzb3VyY2VgIGlzXG4gICAgICogcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xNC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgcHJlZGljYXRlcyB0byBjb25mb3JtIHRvLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgb2JqZWN0YCBjb25mb3JtcywgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogMiB9O1xuICAgICAqXG4gICAgICogXy5jb25mb3Jtc1RvKG9iamVjdCwgeyAnYic6IGZ1bmN0aW9uKG4pIHsgcmV0dXJuIG4gPiAxOyB9IH0pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uY29uZm9ybXNUbyhvYmplY3QsIHsgJ2InOiBmdW5jdGlvbihuKSB7IHJldHVybiBuID4gMjsgfSB9KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbmZvcm1zVG8ob2JqZWN0LCBzb3VyY2UpIHtcbiAgICAgIHJldHVybiBzb3VyY2UgPT0gbnVsbCB8fCBiYXNlQ29uZm9ybXNUbyhvYmplY3QsIHNvdXJjZSwga2V5cyhzb3VyY2UpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyBhXG4gICAgICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBjb21wYXJpc29uIGJldHdlZW4gdHdvIHZhbHVlcyB0byBkZXRlcm1pbmUgaWYgdGhleSBhcmUgZXF1aXZhbGVudC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSB9O1xuICAgICAqIHZhciBvdGhlciA9IHsgJ2EnOiAxIH07XG4gICAgICpcbiAgICAgKiBfLmVxKG9iamVjdCwgb2JqZWN0KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmVxKG9iamVjdCwgb3RoZXIpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmVxKCdhJywgJ2EnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmVxKCdhJywgT2JqZWN0KCdhJykpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmVxKE5hTiwgTmFOKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gZXEodmFsdWUsIG90aGVyKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT09IG90aGVyIHx8ICh2YWx1ZSAhPT0gdmFsdWUgJiYgb3RoZXIgIT09IG90aGVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBncmVhdGVyIHRoYW4gYG90aGVyYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjkuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGdyZWF0ZXIgdGhhbiBgb3RoZXJgLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQHNlZSBfLmx0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZ3QoMywgMSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5ndCgzLCAzKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5ndCgxLCAzKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBndCA9IGNyZWF0ZVJlbGF0aW9uYWxPcGVyYXRpb24oYmFzZUd0KTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byBgb3RoZXJgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuOS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvXG4gICAgICogIGBvdGhlcmAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAc2VlIF8ubHRlXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZ3RlKDMsIDEpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uZ3RlKDMsIDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uZ3RlKDEsIDMpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGd0ZSA9IGNyZWF0ZVJlbGF0aW9uYWxPcGVyYXRpb24oZnVuY3Rpb24odmFsdWUsIG90aGVyKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPj0gb3RoZXI7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsaWtlbHkgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBgYXJndW1lbnRzYCBvYmplY3QsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0FyZ3VtZW50cyhmdW5jdGlvbigpIHsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQXJndW1lbnRzKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNBcmd1bWVudHMgPSBiYXNlSXNBcmd1bWVudHMoZnVuY3Rpb24oKSB7IHJldHVybiBhcmd1bWVudHM7IH0oKSkgPyBiYXNlSXNBcmd1bWVudHMgOiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgJ2NhbGxlZScpICYmXG4gICAgICAgICFwcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHZhbHVlLCAnY2FsbGVlJyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYW4gYEFycmF5YCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheShbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheShkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5KCdhYmMnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5KF8ubm9vcCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGFuIGBBcnJheUJ1ZmZlcmAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMy4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBhcnJheSBidWZmZXIsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5QnVmZmVyKG5ldyBBcnJheUJ1ZmZlcigyKSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5QnVmZmVyKG5ldyBBcnJheSgyKSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNBcnJheUJ1ZmZlciA9IG5vZGVJc0FycmF5QnVmZmVyID8gYmFzZVVuYXJ5KG5vZGVJc0FycmF5QnVmZmVyKSA6IGJhc2VJc0FycmF5QnVmZmVyO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYXJyYXktbGlrZS4gQSB2YWx1ZSBpcyBjb25zaWRlcmVkIGFycmF5LWxpa2UgaWYgaXQnc1xuICAgICAqIG5vdCBhIGZ1bmN0aW9uIGFuZCBoYXMgYSBgdmFsdWUubGVuZ3RoYCB0aGF0J3MgYW4gaW50ZWdlciBncmVhdGVyIHRoYW4gb3JcbiAgICAgKiBlcXVhbCB0byBgMGAgYW5kIGxlc3MgdGhhbiBvciBlcXVhbCB0byBgTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVJgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhcnJheS1saWtlLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUxpa2UoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlMaWtlKGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUxpa2UoJ2FiYycpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUxpa2UoXy5ub29wKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzQXJyYXlMaWtlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiBpc0xlbmd0aCh2YWx1ZS5sZW5ndGgpICYmICFpc0Z1bmN0aW9uKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmlzQXJyYXlMaWtlYCBleGNlcHQgdGhhdCBpdCBhbHNvIGNoZWNrcyBpZiBgdmFsdWVgXG4gICAgICogaXMgYW4gb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBhcnJheS1saWtlIG9iamVjdCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlMaWtlT2JqZWN0KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5TGlrZU9iamVjdChkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlMaWtlT2JqZWN0KCdhYmMnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5TGlrZU9iamVjdChfLm5vb3ApO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNBcnJheUxpa2VPYmplY3QodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGlzQXJyYXlMaWtlKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYm9vbGVhbiBwcmltaXRpdmUgb3Igb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGJvb2xlYW4sIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0Jvb2xlYW4oZmFsc2UpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNCb29sZWFuKG51bGwpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNCb29sZWFuKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT09IHRydWUgfHwgdmFsdWUgPT09IGZhbHNlIHx8XG4gICAgICAgIChpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IGJvb2xUYWcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgYnVmZmVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMy4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGJ1ZmZlciwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzQnVmZmVyKG5ldyBCdWZmZXIoMikpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNCdWZmZXIobmV3IFVpbnQ4QXJyYXkoMikpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzQnVmZmVyID0gbmF0aXZlSXNCdWZmZXIgfHwgc3R1YkZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBEYXRlYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgZGF0ZSBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0RhdGUobmV3IERhdGUpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNEYXRlKCdNb24gQXByaWwgMjMgMjAxMicpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzRGF0ZSA9IG5vZGVJc0RhdGUgPyBiYXNlVW5hcnkobm9kZUlzRGF0ZSkgOiBiYXNlSXNEYXRlO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGlrZWx5IGEgRE9NIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgRE9NIGVsZW1lbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0VsZW1lbnQoZG9jdW1lbnQuYm9keSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0VsZW1lbnQoJzxib2R5PicpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNFbGVtZW50KHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiB2YWx1ZS5ub2RlVHlwZSA9PT0gMSAmJiAhaXNQbGFpbk9iamVjdCh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYW4gZW1wdHkgb2JqZWN0LCBjb2xsZWN0aW9uLCBtYXAsIG9yIHNldC5cbiAgICAgKlxuICAgICAqIE9iamVjdHMgYXJlIGNvbnNpZGVyZWQgZW1wdHkgaWYgdGhleSBoYXZlIG5vIG93biBlbnVtZXJhYmxlIHN0cmluZyBrZXllZFxuICAgICAqIHByb3BlcnRpZXMuXG4gICAgICpcbiAgICAgKiBBcnJheS1saWtlIHZhbHVlcyBzdWNoIGFzIGBhcmd1bWVudHNgIG9iamVjdHMsIGFycmF5cywgYnVmZmVycywgc3RyaW5ncywgb3JcbiAgICAgKiBqUXVlcnktbGlrZSBjb2xsZWN0aW9ucyBhcmUgY29uc2lkZXJlZCBlbXB0eSBpZiB0aGV5IGhhdmUgYSBgbGVuZ3RoYCBvZiBgMGAuXG4gICAgICogU2ltaWxhcmx5LCBtYXBzIGFuZCBzZXRzIGFyZSBjb25zaWRlcmVkIGVtcHR5IGlmIHRoZXkgaGF2ZSBhIGBzaXplYCBvZiBgMGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGVtcHR5LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNFbXB0eShudWxsKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRW1wdHkodHJ1ZSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0VtcHR5KDEpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNFbXB0eShbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzRW1wdHkoeyAnYSc6IDEgfSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0VtcHR5KHZhbHVlKSB7XG4gICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChpc0FycmF5TGlrZSh2YWx1ZSkgJiZcbiAgICAgICAgICAoaXNBcnJheSh2YWx1ZSkgfHwgdHlwZW9mIHZhbHVlID09ICdzdHJpbmcnIHx8IHR5cGVvZiB2YWx1ZS5zcGxpY2UgPT0gJ2Z1bmN0aW9uJyB8fFxuICAgICAgICAgICAgaXNCdWZmZXIodmFsdWUpIHx8IGlzVHlwZWRBcnJheSh2YWx1ZSkgfHwgaXNBcmd1bWVudHModmFsdWUpKSkge1xuICAgICAgICByZXR1cm4gIXZhbHVlLmxlbmd0aDtcbiAgICAgIH1cbiAgICAgIHZhciB0YWcgPSBnZXRUYWcodmFsdWUpO1xuICAgICAgaWYgKHRhZyA9PSBtYXBUYWcgfHwgdGFnID09IHNldFRhZykge1xuICAgICAgICByZXR1cm4gIXZhbHVlLnNpemU7XG4gICAgICB9XG4gICAgICBpZiAoaXNQcm90b3R5cGUodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiAhYmFzZUtleXModmFsdWUpLmxlbmd0aDtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIGtleSBpbiB2YWx1ZSkge1xuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwga2V5KSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgYSBkZWVwIGNvbXBhcmlzb24gYmV0d2VlbiB0d28gdmFsdWVzIHRvIGRldGVybWluZSBpZiB0aGV5IGFyZVxuICAgICAqIGVxdWl2YWxlbnQuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2Qgc3VwcG9ydHMgY29tcGFyaW5nIGFycmF5cywgYXJyYXkgYnVmZmVycywgYm9vbGVhbnMsXG4gICAgICogZGF0ZSBvYmplY3RzLCBlcnJvciBvYmplY3RzLCBtYXBzLCBudW1iZXJzLCBgT2JqZWN0YCBvYmplY3RzLCByZWdleGVzLFxuICAgICAqIHNldHMsIHN0cmluZ3MsIHN5bWJvbHMsIGFuZCB0eXBlZCBhcnJheXMuIGBPYmplY3RgIG9iamVjdHMgYXJlIGNvbXBhcmVkXG4gICAgICogYnkgdGhlaXIgb3duLCBub3QgaW5oZXJpdGVkLCBlbnVtZXJhYmxlIHByb3BlcnRpZXMuIEZ1bmN0aW9ucyBhbmQgRE9NXG4gICAgICogbm9kZXMgYXJlIGNvbXBhcmVkIGJ5IHN0cmljdCBlcXVhbGl0eSwgaS5lLiBgPT09YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSB9O1xuICAgICAqIHZhciBvdGhlciA9IHsgJ2EnOiAxIH07XG4gICAgICpcbiAgICAgKiBfLmlzRXF1YWwob2JqZWN0LCBvdGhlcik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogb2JqZWN0ID09PSBvdGhlcjtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRXF1YWwodmFsdWUsIG90aGVyKSB7XG4gICAgICByZXR1cm4gYmFzZUlzRXF1YWwodmFsdWUsIG90aGVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmlzRXF1YWxgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGN1c3RvbWl6ZXJgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCB0byBjb21wYXJlIHZhbHVlcy4gSWYgYGN1c3RvbWl6ZXJgIHJldHVybnMgYHVuZGVmaW5lZGAsIGNvbXBhcmlzb25zXG4gICAgICogYXJlIGhhbmRsZWQgYnkgdGhlIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgIGlzIGludm9rZWQgd2l0aCB1cCB0b1xuICAgICAqIHNpeCBhcmd1bWVudHM6IChvYmpWYWx1ZSwgb3RoVmFsdWUgWywgaW5kZXh8a2V5LCBvYmplY3QsIG90aGVyLCBzdGFja10pLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gaXNHcmVldGluZyh2YWx1ZSkge1xuICAgICAqICAgcmV0dXJuIC9eaCg/Oml8ZWxsbykkLy50ZXN0KHZhbHVlKTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBjdXN0b21pemVyKG9ialZhbHVlLCBvdGhWYWx1ZSkge1xuICAgICAqICAgaWYgKGlzR3JlZXRpbmcob2JqVmFsdWUpICYmIGlzR3JlZXRpbmcob3RoVmFsdWUpKSB7XG4gICAgICogICAgIHJldHVybiB0cnVlO1xuICAgICAqICAgfVxuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsnaGVsbG8nLCAnZ29vZGJ5ZSddO1xuICAgICAqIHZhciBvdGhlciA9IFsnaGknLCAnZ29vZGJ5ZSddO1xuICAgICAqXG4gICAgICogXy5pc0VxdWFsV2l0aChhcnJheSwgb3RoZXIsIGN1c3RvbWl6ZXIpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0VxdWFsV2l0aCh2YWx1ZSwgb3RoZXIsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGN1c3RvbWl6ZXIgPSB0eXBlb2YgY3VzdG9taXplciA9PSAnZnVuY3Rpb24nID8gY3VzdG9taXplciA6IHVuZGVmaW5lZDtcbiAgICAgIHZhciByZXN1bHQgPSBjdXN0b21pemVyID8gY3VzdG9taXplcih2YWx1ZSwgb3RoZXIpIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIHJlc3VsdCA9PT0gdW5kZWZpbmVkID8gYmFzZUlzRXF1YWwodmFsdWUsIG90aGVyLCB1bmRlZmluZWQsIGN1c3RvbWl6ZXIpIDogISFyZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYW4gYEVycm9yYCwgYEV2YWxFcnJvcmAsIGBSYW5nZUVycm9yYCwgYFJlZmVyZW5jZUVycm9yYCxcbiAgICAgKiBgU3ludGF4RXJyb3JgLCBgVHlwZUVycm9yYCwgb3IgYFVSSUVycm9yYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGVycm9yIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzRXJyb3IobmV3IEVycm9yKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRXJyb3IoRXJyb3IpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNFcnJvcih2YWx1ZSkge1xuICAgICAgaWYgKCFpc09iamVjdExpa2UodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciB0YWcgPSBiYXNlR2V0VGFnKHZhbHVlKTtcbiAgICAgIHJldHVybiB0YWcgPT0gZXJyb3JUYWcgfHwgdGFnID09IGRvbUV4Y1RhZyB8fFxuICAgICAgICAodHlwZW9mIHZhbHVlLm1lc3NhZ2UgPT0gJ3N0cmluZycgJiYgdHlwZW9mIHZhbHVlLm5hbWUgPT0gJ3N0cmluZycgJiYgIWlzUGxhaW5PYmplY3QodmFsdWUpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIGZpbml0ZSBwcmltaXRpdmUgbnVtYmVyLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uXG4gICAgICogW2BOdW1iZXIuaXNGaW5pdGVgXShodHRwczovL21kbi5pby9OdW1iZXIvaXNGaW5pdGUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGZpbml0ZSBudW1iZXIsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0Zpbml0ZSgzKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRmluaXRlKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNGaW5pdGUoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzRmluaXRlKCczJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0Zpbml0ZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyAmJiBuYXRpdmVJc0Zpbml0ZSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBGdW5jdGlvbmAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGZ1bmN0aW9uLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNGdW5jdGlvbihfKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRnVuY3Rpb24oL2FiYy8pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNGdW5jdGlvbih2YWx1ZSkge1xuICAgICAgaWYgKCFpc09iamVjdCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgLy8gVGhlIHVzZSBvZiBgT2JqZWN0I3RvU3RyaW5nYCBhdm9pZHMgaXNzdWVzIHdpdGggdGhlIGB0eXBlb2ZgIG9wZXJhdG9yXG4gICAgICAvLyBpbiBTYWZhcmkgOSB3aGljaCByZXR1cm5zICdvYmplY3QnIGZvciB0eXBlZCBhcnJheXMgYW5kIG90aGVyIGNvbnN0cnVjdG9ycy5cbiAgICAgIHZhciB0YWcgPSBiYXNlR2V0VGFnKHZhbHVlKTtcbiAgICAgIHJldHVybiB0YWcgPT0gZnVuY1RhZyB8fCB0YWcgPT0gZ2VuVGFnIHx8IHRhZyA9PSBhc3luY1RhZyB8fCB0YWcgPT0gcHJveHlUYWc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYW4gaW50ZWdlci5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvblxuICAgICAqIFtgTnVtYmVyLmlzSW50ZWdlcmBdKGh0dHBzOi8vbWRuLmlvL051bWJlci9pc0ludGVnZXIpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBpbnRlZ2VyLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNJbnRlZ2VyKDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNJbnRlZ2VyKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzSW50ZWdlcihJbmZpbml0eSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNJbnRlZ2VyKCczJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0ludGVnZXIodmFsdWUpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgJiYgdmFsdWUgPT0gdG9JbnRlZ2VyKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGFycmF5LWxpa2UgbGVuZ3RoLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGxvb3NlbHkgYmFzZWQgb25cbiAgICAgKiBbYFRvTGVuZ3RoYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtdG9sZW5ndGgpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGxlbmd0aCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzTGVuZ3RoKDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNMZW5ndGgoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNMZW5ndGgoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzTGVuZ3RoKCczJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0xlbmd0aCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyAmJlxuICAgICAgICB2YWx1ZSA+IC0xICYmIHZhbHVlICUgMSA9PSAwICYmIHZhbHVlIDw9IE1BWF9TQUZFX0lOVEVHRVI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgdGhlXG4gICAgICogW2xhbmd1YWdlIHR5cGVdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1lY21hc2NyaXB0LWxhbmd1YWdlLXR5cGVzKVxuICAgICAqIG9mIGBPYmplY3RgLiAoZS5nLiBhcnJheXMsIGZ1bmN0aW9ucywgb2JqZWN0cywgcmVnZXhlcywgYG5ldyBOdW1iZXIoMClgLCBhbmQgYG5ldyBTdHJpbmcoJycpYClcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3Qoe30pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3QoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzT2JqZWN0KF8ubm9vcCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdChudWxsKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gICAgICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgICAgIHJldHVybiB2YWx1ZSAhPSBudWxsICYmICh0eXBlID09ICdvYmplY3QnIHx8IHR5cGUgPT0gJ2Z1bmN0aW9uJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UuIEEgdmFsdWUgaXMgb2JqZWN0LWxpa2UgaWYgaXQncyBub3QgYG51bGxgXG4gICAgICogYW5kIGhhcyBhIGB0eXBlb2ZgIHJlc3VsdCBvZiBcIm9iamVjdFwiLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzT2JqZWN0TGlrZSh7fSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdExpa2UoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzT2JqZWN0TGlrZShfLm5vb3ApO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzT2JqZWN0TGlrZShudWxsKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgTWFwYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgbWFwLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNNYXAobmV3IE1hcCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc01hcChuZXcgV2Vha01hcCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNNYXAgPSBub2RlSXNNYXAgPyBiYXNlVW5hcnkobm9kZUlzTWFwKSA6IGJhc2VJc01hcDtcblxuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIGEgcGFydGlhbCBkZWVwIGNvbXBhcmlzb24gYmV0d2VlbiBgb2JqZWN0YCBhbmQgYHNvdXJjZWAgdG9cbiAgICAgKiBkZXRlcm1pbmUgaWYgYG9iamVjdGAgY29udGFpbnMgZXF1aXZhbGVudCBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgZXF1aXZhbGVudCB0byBgXy5tYXRjaGVzYCB3aGVuIGBzb3VyY2VgIGlzXG4gICAgICogcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICpcbiAgICAgKiBQYXJ0aWFsIGNvbXBhcmlzb25zIHdpbGwgbWF0Y2ggZW1wdHkgYXJyYXkgYW5kIGVtcHR5IG9iamVjdCBgc291cmNlYFxuICAgICAqIHZhbHVlcyBhZ2FpbnN0IGFueSBhcnJheSBvciBvYmplY3QgdmFsdWUsIHJlc3BlY3RpdmVseS4gU2VlIGBfLmlzRXF1YWxgXG4gICAgICogZm9yIGEgbGlzdCBvZiBzdXBwb3J0ZWQgdmFsdWUgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSB2YWx1ZXMgdG8gbWF0Y2guXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBvYmplY3RgIGlzIGEgbWF0Y2gsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6IDIgfTtcbiAgICAgKlxuICAgICAqIF8uaXNNYXRjaChvYmplY3QsIHsgJ2InOiAyIH0pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNNYXRjaChvYmplY3QsIHsgJ2InOiAxIH0pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNNYXRjaChvYmplY3QsIHNvdXJjZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PT0gc291cmNlIHx8IGJhc2VJc01hdGNoKG9iamVjdCwgc291cmNlLCBnZXRNYXRjaERhdGEoc291cmNlKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pc01hdGNoYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjdXN0b21pemVyYCB3aGljaFxuICAgICAqIGlzIGludm9rZWQgdG8gY29tcGFyZSB2YWx1ZXMuIElmIGBjdXN0b21pemVyYCByZXR1cm5zIGB1bmRlZmluZWRgLCBjb21wYXJpc29uc1xuICAgICAqIGFyZSBoYW5kbGVkIGJ5IHRoZSBtZXRob2QgaW5zdGVhZC4gVGhlIGBjdXN0b21pemVyYCBpcyBpbnZva2VkIHdpdGggZml2ZVxuICAgICAqIGFyZ3VtZW50czogKG9ialZhbHVlLCBzcmNWYWx1ZSwgaW5kZXh8a2V5LCBvYmplY3QsIHNvdXJjZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSB2YWx1ZXMgdG8gbWF0Y2guXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBvYmplY3RgIGlzIGEgbWF0Y2gsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gaXNHcmVldGluZyh2YWx1ZSkge1xuICAgICAqICAgcmV0dXJuIC9eaCg/Oml8ZWxsbykkLy50ZXN0KHZhbHVlKTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBjdXN0b21pemVyKG9ialZhbHVlLCBzcmNWYWx1ZSkge1xuICAgICAqICAgaWYgKGlzR3JlZXRpbmcob2JqVmFsdWUpICYmIGlzR3JlZXRpbmcoc3JjVmFsdWUpKSB7XG4gICAgICogICAgIHJldHVybiB0cnVlO1xuICAgICAqICAgfVxuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdncmVldGluZyc6ICdoZWxsbycgfTtcbiAgICAgKiB2YXIgc291cmNlID0geyAnZ3JlZXRpbmcnOiAnaGknIH07XG4gICAgICpcbiAgICAgKiBfLmlzTWF0Y2hXaXRoKG9iamVjdCwgc291cmNlLCBjdXN0b21pemVyKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNNYXRjaFdpdGgob2JqZWN0LCBzb3VyY2UsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGN1c3RvbWl6ZXIgPSB0eXBlb2YgY3VzdG9taXplciA9PSAnZnVuY3Rpb24nID8gY3VzdG9taXplciA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiBiYXNlSXNNYXRjaChvYmplY3QsIHNvdXJjZSwgZ2V0TWF0Y2hEYXRhKHNvdXJjZSksIGN1c3RvbWl6ZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGBOYU5gLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uXG4gICAgICogW2BOdW1iZXIuaXNOYU5gXShodHRwczovL21kbi5pby9OdW1iZXIvaXNOYU4pIGFuZCBpcyBub3QgdGhlIHNhbWUgYXNcbiAgICAgKiBnbG9iYWwgW2Bpc05hTmBdKGh0dHBzOi8vbWRuLmlvL2lzTmFOKSB3aGljaCByZXR1cm5zIGB0cnVlYCBmb3JcbiAgICAgKiBgdW5kZWZpbmVkYCBhbmQgb3RoZXIgbm9uLW51bWJlciB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGBOYU5gLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNOYU4oTmFOKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTmFOKG5ldyBOdW1iZXIoTmFOKSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogaXNOYU4odW5kZWZpbmVkKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTmFOKHVuZGVmaW5lZCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc05hTih2YWx1ZSkge1xuICAgICAgLy8gQW4gYE5hTmAgcHJpbWl0aXZlIGlzIHRoZSBvbmx5IHZhbHVlIHRoYXQgaXMgbm90IGVxdWFsIHRvIGl0c2VsZi5cbiAgICAgIC8vIFBlcmZvcm0gdGhlIGB0b1N0cmluZ1RhZ2AgY2hlY2sgZmlyc3QgdG8gYXZvaWQgZXJyb3JzIHdpdGggc29tZVxuICAgICAgLy8gQWN0aXZlWCBvYmplY3RzIGluIElFLlxuICAgICAgcmV0dXJuIGlzTnVtYmVyKHZhbHVlKSAmJiB2YWx1ZSAhPSArdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBwcmlzdGluZSBuYXRpdmUgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgY2FuJ3QgcmVsaWFibHkgZGV0ZWN0IG5hdGl2ZSBmdW5jdGlvbnMgaW4gdGhlIHByZXNlbmNlXG4gICAgICogb2YgdGhlIGNvcmUtanMgcGFja2FnZSBiZWNhdXNlIGNvcmUtanMgY2lyY3VtdmVudHMgdGhpcyBraW5kIG9mIGRldGVjdGlvbi5cbiAgICAgKiBEZXNwaXRlIG11bHRpcGxlIHJlcXVlc3RzLCB0aGUgY29yZS1qcyBtYWludGFpbmVyIGhhcyBtYWRlIGl0IGNsZWFyOiBhbnlcbiAgICAgKiBhdHRlbXB0IHRvIGZpeCB0aGUgZGV0ZWN0aW9uIHdpbGwgYmUgb2JzdHJ1Y3RlZC4gQXMgYSByZXN1bHQsIHdlJ3JlIGxlZnRcbiAgICAgKiB3aXRoIGxpdHRsZSBjaG9pY2UgYnV0IHRvIHRocm93IGFuIGVycm9yLiBVbmZvcnR1bmF0ZWx5LCB0aGlzIGFsc28gYWZmZWN0c1xuICAgICAqIHBhY2thZ2VzLCBsaWtlIFtiYWJlbC1wb2x5ZmlsbF0oaHR0cHM6Ly93d3cubnBtanMuY29tL3BhY2thZ2UvYmFiZWwtcG9seWZpbGwpLFxuICAgICAqIHdoaWNoIHJlbHkgb24gY29yZS1qcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBuYXRpdmUgZnVuY3Rpb24sXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc05hdGl2ZShBcnJheS5wcm90b3R5cGUucHVzaCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc05hdGl2ZShfKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTmF0aXZlKHZhbHVlKSB7XG4gICAgICBpZiAoaXNNYXNrYWJsZSh2YWx1ZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKENPUkVfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZUlzTmF0aXZlKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBgbnVsbGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGBudWxsYCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzTnVsbChudWxsKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTnVsbCh2b2lkIDApO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNOdWxsKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT09IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYG51bGxgIG9yIGB1bmRlZmluZWRgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBudWxsaXNoLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNOaWwobnVsbCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc05pbCh2b2lkIDApO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOaWwoTmFOKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTmlsKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYE51bWJlcmAgcHJpbWl0aXZlIG9yIG9iamVjdC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUbyBleGNsdWRlIGBJbmZpbml0eWAsIGAtSW5maW5pdHlgLCBhbmQgYE5hTmAsIHdoaWNoIGFyZVxuICAgICAqIGNsYXNzaWZpZWQgYXMgbnVtYmVycywgdXNlIHRoZSBgXy5pc0Zpbml0ZWAgbWV0aG9kLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG51bWJlciwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzTnVtYmVyKDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOdW1iZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc051bWJlcihJbmZpbml0eSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc051bWJlcignMycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNOdW1iZXIodmFsdWUpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgfHxcbiAgICAgICAgKGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gbnVtYmVyVGFnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHBsYWluIG9iamVjdCwgdGhhdCBpcywgYW4gb2JqZWN0IGNyZWF0ZWQgYnkgdGhlXG4gICAgICogYE9iamVjdGAgY29uc3RydWN0b3Igb3Igb25lIHdpdGggYSBgW1tQcm90b3R5cGVdXWAgb2YgYG51bGxgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuOC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHBsYWluIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIF8uaXNQbGFpbk9iamVjdChuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc1BsYWluT2JqZWN0KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNQbGFpbk9iamVjdCh7ICd4JzogMCwgJ3knOiAwIH0pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNQbGFpbk9iamVjdChPYmplY3QuY3JlYXRlKG51bGwpKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNQbGFpbk9iamVjdCh2YWx1ZSkge1xuICAgICAgaWYgKCFpc09iamVjdExpa2UodmFsdWUpIHx8IGJhc2VHZXRUYWcodmFsdWUpICE9IG9iamVjdFRhZykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgcHJvdG8gPSBnZXRQcm90b3R5cGUodmFsdWUpO1xuICAgICAgaWYgKHByb3RvID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgdmFyIEN0b3IgPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKHByb3RvLCAnY29uc3RydWN0b3InKSAmJiBwcm90by5jb25zdHJ1Y3RvcjtcbiAgICAgIHJldHVybiB0eXBlb2YgQ3RvciA9PSAnZnVuY3Rpb24nICYmIEN0b3IgaW5zdGFuY2VvZiBDdG9yICYmXG4gICAgICAgIGZ1bmNUb1N0cmluZy5jYWxsKEN0b3IpID09IG9iamVjdEN0b3JTdHJpbmc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBSZWdFeHBgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSByZWdleHAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1JlZ0V4cCgvYWJjLyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1JlZ0V4cCgnL2FiYy8nKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc1JlZ0V4cCA9IG5vZGVJc1JlZ0V4cCA/IGJhc2VVbmFyeShub2RlSXNSZWdFeHApIDogYmFzZUlzUmVnRXhwO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBzYWZlIGludGVnZXIuIEFuIGludGVnZXIgaXMgc2FmZSBpZiBpdCdzIGFuIElFRUUtNzU0XG4gICAgICogZG91YmxlIHByZWNpc2lvbiBudW1iZXIgd2hpY2ggaXNuJ3QgdGhlIHJlc3VsdCBvZiBhIHJvdW5kZWQgdW5zYWZlIGludGVnZXIuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb25cbiAgICAgKiBbYE51bWJlci5pc1NhZmVJbnRlZ2VyYF0oaHR0cHM6Ly9tZG4uaW8vTnVtYmVyL2lzU2FmZUludGVnZXIpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHNhZmUgaW50ZWdlciwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzU2FmZUludGVnZXIoMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1NhZmVJbnRlZ2VyKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzU2FmZUludGVnZXIoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzU2FmZUludGVnZXIoJzMnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzU2FmZUludGVnZXIodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc0ludGVnZXIodmFsdWUpICYmIHZhbHVlID49IC1NQVhfU0FGRV9JTlRFR0VSICYmIHZhbHVlIDw9IE1BWF9TQUZFX0lOVEVHRVI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBTZXRgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjMuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzZXQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1NldChuZXcgU2V0KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzU2V0KG5ldyBXZWFrU2V0KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc1NldCA9IG5vZGVJc1NldCA/IGJhc2VVbmFyeShub2RlSXNTZXQpIDogYmFzZUlzU2V0O1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBTdHJpbmdgIHByaW1pdGl2ZSBvciBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc3RyaW5nLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNTdHJpbmcoJ2FiYycpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNTdHJpbmcoMSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1N0cmluZyh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJyB8fFxuICAgICAgICAoIWlzQXJyYXkodmFsdWUpICYmIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gc3RyaW5nVGFnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFN5bWJvbGAgcHJpbWl0aXZlIG9yIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzeW1ib2wsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1N5bWJvbChTeW1ib2wuaXRlcmF0b3IpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNTeW1ib2woJ2FiYycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNTeW1ib2wodmFsdWUpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ3N5bWJvbCcgfHxcbiAgICAgICAgKGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gc3ltYm9sVGFnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgdHlwZWQgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdHlwZWQgYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1R5cGVkQXJyYXkobmV3IFVpbnQ4QXJyYXkpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNUeXBlZEFycmF5KFtdKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc1R5cGVkQXJyYXkgPSBub2RlSXNUeXBlZEFycmF5ID8gYmFzZVVuYXJ5KG5vZGVJc1R5cGVkQXJyYXkpIDogYmFzZUlzVHlwZWRBcnJheTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGB1bmRlZmluZWRgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBgdW5kZWZpbmVkYCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzVW5kZWZpbmVkKHZvaWQgMCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1VuZGVmaW5lZChudWxsKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzVW5kZWZpbmVkKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFdlYWtNYXBgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjMuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB3ZWFrIG1hcCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzV2Vha01hcChuZXcgV2Vha01hcCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1dlYWtNYXAobmV3IE1hcCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1dlYWtNYXAodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGdldFRhZyh2YWx1ZSkgPT0gd2Vha01hcFRhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFdlYWtTZXRgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjMuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB3ZWFrIHNldCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzV2Vha1NldChuZXcgV2Vha1NldCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1dlYWtTZXQobmV3IFNldCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1dlYWtTZXQodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IHdlYWtTZXRUYWc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGVzcyB0aGFuIGBvdGhlcmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy45LjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBsZXNzIHRoYW4gYG90aGVyYCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBzZWUgXy5ndFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmx0KDEsIDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8ubHQoMywgMyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8ubHQoMywgMSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgbHQgPSBjcmVhdGVSZWxhdGlvbmFsT3BlcmF0aW9uKGJhc2VMdCk7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gYG90aGVyYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjkuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGxlc3MgdGhhbiBvciBlcXVhbCB0b1xuICAgICAqICBgb3RoZXJgLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQHNlZSBfLmd0ZVxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmx0ZSgxLCAzKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmx0ZSgzLCAzKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmx0ZSgzLCAxKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBsdGUgPSBjcmVhdGVSZWxhdGlvbmFsT3BlcmF0aW9uKGZ1bmN0aW9uKHZhbHVlLCBvdGhlcikge1xuICAgICAgcmV0dXJuIHZhbHVlIDw9IG90aGVyO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhbiBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b0FycmF5KHsgJ2EnOiAxLCAnYic6IDIgfSk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICpcbiAgICAgKiBfLnRvQXJyYXkoJ2FiYycpO1xuICAgICAqIC8vID0+IFsnYScsICdiJywgJ2MnXVxuICAgICAqXG4gICAgICogXy50b0FycmF5KDEpO1xuICAgICAqIC8vID0+IFtdXG4gICAgICpcbiAgICAgKiBfLnRvQXJyYXkobnVsbCk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0FycmF5KHZhbHVlKSB7XG4gICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIGlmIChpc0FycmF5TGlrZSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGlzU3RyaW5nKHZhbHVlKSA/IHN0cmluZ1RvQXJyYXkodmFsdWUpIDogY29weUFycmF5KHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGlmIChzeW1JdGVyYXRvciAmJiB2YWx1ZVtzeW1JdGVyYXRvcl0pIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhdG9yVG9BcnJheSh2YWx1ZVtzeW1JdGVyYXRvcl0oKSk7XG4gICAgICB9XG4gICAgICB2YXIgdGFnID0gZ2V0VGFnKHZhbHVlKSxcbiAgICAgICAgICBmdW5jID0gdGFnID09IG1hcFRhZyA/IG1hcFRvQXJyYXkgOiAodGFnID09IHNldFRhZyA/IHNldFRvQXJyYXkgOiB2YWx1ZXMpO1xuXG4gICAgICByZXR1cm4gZnVuYyh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhIGZpbml0ZSBudW1iZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xMi4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBudW1iZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9GaW5pdGUoMy4yKTtcbiAgICAgKiAvLyA9PiAzLjJcbiAgICAgKlxuICAgICAqIF8udG9GaW5pdGUoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gNWUtMzI0XG4gICAgICpcbiAgICAgKiBfLnRvRmluaXRlKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiAxLjc5NzY5MzEzNDg2MjMxNTdlKzMwOFxuICAgICAqXG4gICAgICogXy50b0Zpbml0ZSgnMy4yJyk7XG4gICAgICogLy8gPT4gMy4yXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9GaW5pdGUodmFsdWUpIHtcbiAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlID09PSAwID8gdmFsdWUgOiAwO1xuICAgICAgfVxuICAgICAgdmFsdWUgPSB0b051bWJlcih2YWx1ZSk7XG4gICAgICBpZiAodmFsdWUgPT09IElORklOSVRZIHx8IHZhbHVlID09PSAtSU5GSU5JVFkpIHtcbiAgICAgICAgdmFyIHNpZ24gPSAodmFsdWUgPCAwID8gLTEgOiAxKTtcbiAgICAgICAgcmV0dXJuIHNpZ24gKiBNQVhfSU5URUdFUjtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gdmFsdWUgPyB2YWx1ZSA6IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhbiBpbnRlZ2VyLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGxvb3NlbHkgYmFzZWQgb25cbiAgICAgKiBbYFRvSW50ZWdlcmBdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy10b2ludGVnZXIpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBpbnRlZ2VyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvSW50ZWdlcigzLjIpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIF8udG9JbnRlZ2VyKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IDBcbiAgICAgKlxuICAgICAqIF8udG9JbnRlZ2VyKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiAxLjc5NzY5MzEzNDg2MjMxNTdlKzMwOFxuICAgICAqXG4gICAgICogXy50b0ludGVnZXIoJzMuMicpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0ludGVnZXIodmFsdWUpIHtcbiAgICAgIHZhciByZXN1bHQgPSB0b0Zpbml0ZSh2YWx1ZSksXG4gICAgICAgICAgcmVtYWluZGVyID0gcmVzdWx0ICUgMTtcblxuICAgICAgcmV0dXJuIHJlc3VsdCA9PT0gcmVzdWx0ID8gKHJlbWFpbmRlciA/IHJlc3VsdCAtIHJlbWFpbmRlciA6IHJlc3VsdCkgOiAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYW4gaW50ZWdlciBzdWl0YWJsZSBmb3IgdXNlIGFzIHRoZSBsZW5ndGggb2YgYW5cbiAgICAgKiBhcnJheS1saWtlIG9iamVjdC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvblxuICAgICAqIFtgVG9MZW5ndGhgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy10b2xlbmd0aCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY29udmVydGVkIGludGVnZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9MZW5ndGgoMy4yKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBfLnRvTGVuZ3RoKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IDBcbiAgICAgKlxuICAgICAqIF8udG9MZW5ndGgoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IDQyOTQ5NjcyOTVcbiAgICAgKlxuICAgICAqIF8udG9MZW5ndGgoJzMuMicpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0xlbmd0aCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlID8gYmFzZUNsYW1wKHRvSW50ZWdlcih2YWx1ZSksIDAsIE1BWF9BUlJBWV9MRU5HVEgpIDogMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgbnVtYmVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm9jZXNzLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIG51bWJlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b051bWJlcigzLjIpO1xuICAgICAqIC8vID0+IDMuMlxuICAgICAqXG4gICAgICogXy50b051bWJlcihOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiA1ZS0zMjRcbiAgICAgKlxuICAgICAqIF8udG9OdW1iZXIoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IEluZmluaXR5XG4gICAgICpcbiAgICAgKiBfLnRvTnVtYmVyKCczLjInKTtcbiAgICAgKiAvLyA9PiAzLjJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b051bWJlcih2YWx1ZSkge1xuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJykge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICBpZiAoaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBOQU47XG4gICAgICB9XG4gICAgICBpZiAoaXNPYmplY3QodmFsdWUpKSB7XG4gICAgICAgIHZhciBvdGhlciA9IHR5cGVvZiB2YWx1ZS52YWx1ZU9mID09ICdmdW5jdGlvbicgPyB2YWx1ZS52YWx1ZU9mKCkgOiB2YWx1ZTtcbiAgICAgICAgdmFsdWUgPSBpc09iamVjdChvdGhlcikgPyAob3RoZXIgKyAnJykgOiBvdGhlcjtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlID09PSAwID8gdmFsdWUgOiArdmFsdWU7XG4gICAgICB9XG4gICAgICB2YWx1ZSA9IGJhc2VUcmltKHZhbHVlKTtcbiAgICAgIHZhciBpc0JpbmFyeSA9IHJlSXNCaW5hcnkudGVzdCh2YWx1ZSk7XG4gICAgICByZXR1cm4gKGlzQmluYXJ5IHx8IHJlSXNPY3RhbC50ZXN0KHZhbHVlKSlcbiAgICAgICAgPyBmcmVlUGFyc2VJbnQodmFsdWUuc2xpY2UoMiksIGlzQmluYXJ5ID8gMiA6IDgpXG4gICAgICAgIDogKHJlSXNCYWRIZXgudGVzdCh2YWx1ZSkgPyBOQU4gOiArdmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBwbGFpbiBvYmplY3QgZmxhdHRlbmluZyBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmdcbiAgICAgKiBrZXllZCBwcm9wZXJ0aWVzIG9mIGB2YWx1ZWAgdG8gb3duIHByb3BlcnRpZXMgb2YgdGhlIHBsYWluIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgcGxhaW4gb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLmFzc2lnbih7ICdhJzogMSB9LCBuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyIH1cbiAgICAgKlxuICAgICAqIF8uYXNzaWduKHsgJ2EnOiAxIH0sIF8udG9QbGFpbk9iamVjdChuZXcgRm9vKSk7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdiJzogMiwgJ2MnOiAzIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b1BsYWluT2JqZWN0KHZhbHVlKSB7XG4gICAgICByZXR1cm4gY29weU9iamVjdCh2YWx1ZSwga2V5c0luKHZhbHVlKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhIHNhZmUgaW50ZWdlci4gQSBzYWZlIGludGVnZXIgY2FuIGJlIGNvbXBhcmVkIGFuZFxuICAgICAqIHJlcHJlc2VudGVkIGNvcnJlY3RseS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgaW50ZWdlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b1NhZmVJbnRlZ2VyKDMuMik7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy50b1NhZmVJbnRlZ2VyKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IDBcbiAgICAgKlxuICAgICAqIF8udG9TYWZlSW50ZWdlcihJbmZpbml0eSk7XG4gICAgICogLy8gPT4gOTAwNzE5OTI1NDc0MDk5MVxuICAgICAqXG4gICAgICogXy50b1NhZmVJbnRlZ2VyKCczLjInKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9TYWZlSW50ZWdlcih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlXG4gICAgICAgID8gYmFzZUNsYW1wKHRvSW50ZWdlcih2YWx1ZSksIC1NQVhfU0FGRV9JTlRFR0VSLCBNQVhfU0FGRV9JTlRFR0VSKVxuICAgICAgICA6ICh2YWx1ZSA9PT0gMCA/IHZhbHVlIDogMCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZy4gQW4gZW1wdHkgc3RyaW5nIGlzIHJldHVybmVkIGZvciBgbnVsbGBcbiAgICAgKiBhbmQgYHVuZGVmaW5lZGAgdmFsdWVzLiBUaGUgc2lnbiBvZiBgLTBgIGlzIHByZXNlcnZlZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvU3RyaW5nKG51bGwpO1xuICAgICAqIC8vID0+ICcnXG4gICAgICpcbiAgICAgKiBfLnRvU3RyaW5nKC0wKTtcbiAgICAgKiAvLyA9PiAnLTAnXG4gICAgICpcbiAgICAgKiBfLnRvU3RyaW5nKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gJzEsMiwzJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvU3RyaW5nKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT0gbnVsbCA/ICcnIDogYmFzZVRvU3RyaW5nKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBBc3NpZ25zIG93biBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzIG9mIHNvdXJjZSBvYmplY3RzIHRvIHRoZVxuICAgICAqIGRlc3RpbmF0aW9uIG9iamVjdC4gU291cmNlIG9iamVjdHMgYXJlIGFwcGxpZWQgZnJvbSBsZWZ0IHRvIHJpZ2h0LlxuICAgICAqIFN1YnNlcXVlbnQgc291cmNlcyBvdmVyd3JpdGUgcHJvcGVydHkgYXNzaWdubWVudHMgb2YgcHJldmlvdXMgc291cmNlcy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgIGFuZCBpcyBsb29zZWx5IGJhc2VkIG9uXG4gICAgICogW2BPYmplY3QuYXNzaWduYF0oaHR0cHM6Ly9tZG4uaW8vT2JqZWN0L2Fzc2lnbikuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gW3NvdXJjZXNdIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5hc3NpZ25JblxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEJhcigpIHtcbiAgICAgKiAgIHRoaXMuYyA9IDM7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5iID0gMjtcbiAgICAgKiBCYXIucHJvdG90eXBlLmQgPSA0O1xuICAgICAqXG4gICAgICogXy5hc3NpZ24oeyAnYSc6IDAgfSwgbmV3IEZvbywgbmV3IEJhcik7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdjJzogMyB9XG4gICAgICovXG4gICAgdmFyIGFzc2lnbiA9IGNyZWF0ZUFzc2lnbmVyKGZ1bmN0aW9uKG9iamVjdCwgc291cmNlKSB7XG4gICAgICBpZiAoaXNQcm90b3R5cGUoc291cmNlKSB8fCBpc0FycmF5TGlrZShzb3VyY2UpKSB7XG4gICAgICAgIGNvcHlPYmplY3Qoc291cmNlLCBrZXlzKHNvdXJjZSksIG9iamVjdCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgYXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHNvdXJjZVtrZXldKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5hc3NpZ25gIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgb3duIGFuZFxuICAgICAqIGluaGVyaXRlZCBzb3VyY2UgcHJvcGVydGllcy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGFsaWFzIGV4dGVuZFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi5PYmplY3R9IFtzb3VyY2VzXSBUaGUgc291cmNlIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uYXNzaWduXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogfVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gQmFyKCkge1xuICAgICAqICAgdGhpcy5jID0gMztcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmIgPSAyO1xuICAgICAqIEJhci5wcm90b3R5cGUuZCA9IDQ7XG4gICAgICpcbiAgICAgKiBfLmFzc2lnbkluKHsgJ2EnOiAwIH0sIG5ldyBGb28sIG5ldyBCYXIpO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMywgJ2QnOiA0IH1cbiAgICAgKi9cbiAgICB2YXIgYXNzaWduSW4gPSBjcmVhdGVBc3NpZ25lcihmdW5jdGlvbihvYmplY3QsIHNvdXJjZSkge1xuICAgICAgY29weU9iamVjdChzb3VyY2UsIGtleXNJbihzb3VyY2UpLCBvYmplY3QpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5hc3NpZ25JbmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmBcbiAgICAgKiB3aGljaCBpcyBpbnZva2VkIHRvIHByb2R1Y2UgdGhlIGFzc2lnbmVkIHZhbHVlcy4gSWYgYGN1c3RvbWl6ZXJgIHJldHVybnNcbiAgICAgKiBgdW5kZWZpbmVkYCwgYXNzaWdubWVudCBpcyBoYW5kbGVkIGJ5IHRoZSBtZXRob2QgaW5zdGVhZC4gVGhlIGBjdXN0b21pemVyYFxuICAgICAqIGlzIGludm9rZWQgd2l0aCBmaXZlIGFyZ3VtZW50czogKG9ialZhbHVlLCBzcmNWYWx1ZSwga2V5LCBvYmplY3QsIHNvdXJjZSkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBhbGlhcyBleHRlbmRXaXRoXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gc291cmNlcyBUaGUgc291cmNlIG9iamVjdHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgYXNzaWduZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmFzc2lnbldpdGhcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gY3VzdG9taXplcihvYmpWYWx1ZSwgc3JjVmFsdWUpIHtcbiAgICAgKiAgIHJldHVybiBfLmlzVW5kZWZpbmVkKG9ialZhbHVlKSA/IHNyY1ZhbHVlIDogb2JqVmFsdWU7XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGRlZmF1bHRzID0gXy5wYXJ0aWFsUmlnaHQoXy5hc3NpZ25JbldpdGgsIGN1c3RvbWl6ZXIpO1xuICAgICAqXG4gICAgICogZGVmYXVsdHMoeyAnYSc6IDEgfSwgeyAnYic6IDIgfSwgeyAnYSc6IDMgfSk7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdiJzogMiB9XG4gICAgICovXG4gICAgdmFyIGFzc2lnbkluV2l0aCA9IGNyZWF0ZUFzc2lnbmVyKGZ1bmN0aW9uKG9iamVjdCwgc291cmNlLCBzcmNJbmRleCwgY3VzdG9taXplcikge1xuICAgICAgY29weU9iamVjdChzb3VyY2UsIGtleXNJbihzb3VyY2UpLCBvYmplY3QsIGN1c3RvbWl6ZXIpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5hc3NpZ25gIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGN1c3RvbWl6ZXJgXG4gICAgICogd2hpY2ggaXMgaW52b2tlZCB0byBwcm9kdWNlIHRoZSBhc3NpZ25lZCB2YWx1ZXMuIElmIGBjdXN0b21pemVyYCByZXR1cm5zXG4gICAgICogYHVuZGVmaW5lZGAsIGFzc2lnbm1lbnQgaXMgaGFuZGxlZCBieSB0aGUgbWV0aG9kIGluc3RlYWQuIFRoZSBgY3VzdG9taXplcmBcbiAgICAgKiBpcyBpbnZva2VkIHdpdGggZml2ZSBhcmd1bWVudHM6IChvYmpWYWx1ZSwgc3JjVmFsdWUsIGtleSwgb2JqZWN0LCBzb3VyY2UpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBzb3VyY2VzIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBhc3NpZ25lZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uYXNzaWduSW5XaXRoXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGN1c3RvbWl6ZXIob2JqVmFsdWUsIHNyY1ZhbHVlKSB7XG4gICAgICogICByZXR1cm4gXy5pc1VuZGVmaW5lZChvYmpWYWx1ZSkgPyBzcmNWYWx1ZSA6IG9ialZhbHVlO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBkZWZhdWx0cyA9IF8ucGFydGlhbFJpZ2h0KF8uYXNzaWduV2l0aCwgY3VzdG9taXplcik7XG4gICAgICpcbiAgICAgKiBkZWZhdWx0cyh7ICdhJzogMSB9LCB7ICdiJzogMiB9LCB7ICdhJzogMyB9KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyIH1cbiAgICAgKi9cbiAgICB2YXIgYXNzaWduV2l0aCA9IGNyZWF0ZUFzc2lnbmVyKGZ1bmN0aW9uKG9iamVjdCwgc291cmNlLCBzcmNJbmRleCwgY3VzdG9taXplcikge1xuICAgICAgY29weU9iamVjdChzb3VyY2UsIGtleXMoc291cmNlKSwgb2JqZWN0LCBjdXN0b21pemVyKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdmFsdWVzIGNvcnJlc3BvbmRpbmcgdG8gYHBhdGhzYCBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7Li4uKHN0cmluZ3xzdHJpbmdbXSl9IFtwYXRoc10gVGhlIHByb3BlcnR5IHBhdGhzIHRvIHBpY2suXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBwaWNrZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYyc6IDMgfSB9LCA0XSB9O1xuICAgICAqXG4gICAgICogXy5hdChvYmplY3QsIFsnYVswXS5iLmMnLCAnYVsxXSddKTtcbiAgICAgKiAvLyA9PiBbMywgNF1cbiAgICAgKi9cbiAgICB2YXIgYXQgPSBmbGF0UmVzdChiYXNlQXQpO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgdGhhdCBpbmhlcml0cyBmcm9tIHRoZSBgcHJvdG90eXBlYCBvYmplY3QuIElmIGFcbiAgICAgKiBgcHJvcGVydGllc2Agb2JqZWN0IGlzIGdpdmVuLCBpdHMgb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXNcbiAgICAgKiBhcmUgYXNzaWduZWQgdG8gdGhlIGNyZWF0ZWQgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMy4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwcm90b3R5cGUgVGhlIG9iamVjdCB0byBpbmhlcml0IGZyb20uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtwcm9wZXJ0aWVzXSBUaGUgcHJvcGVydGllcyB0byBhc3NpZ24gdG8gdGhlIG9iamVjdC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBTaGFwZSgpIHtcbiAgICAgKiAgIHRoaXMueCA9IDA7XG4gICAgICogICB0aGlzLnkgPSAwO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIENpcmNsZSgpIHtcbiAgICAgKiAgIFNoYXBlLmNhbGwodGhpcyk7XG4gICAgICogfVxuICAgICAqXG4gICAgICogQ2lyY2xlLnByb3RvdHlwZSA9IF8uY3JlYXRlKFNoYXBlLnByb3RvdHlwZSwge1xuICAgICAqICAgJ2NvbnN0cnVjdG9yJzogQ2lyY2xlXG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiB2YXIgY2lyY2xlID0gbmV3IENpcmNsZTtcbiAgICAgKiBjaXJjbGUgaW5zdGFuY2VvZiBDaXJjbGU7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogY2lyY2xlIGluc3RhbmNlb2YgU2hhcGU7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZShwcm90b3R5cGUsIHByb3BlcnRpZXMpIHtcbiAgICAgIHZhciByZXN1bHQgPSBiYXNlQ3JlYXRlKHByb3RvdHlwZSk7XG4gICAgICByZXR1cm4gcHJvcGVydGllcyA9PSBudWxsID8gcmVzdWx0IDogYmFzZUFzc2lnbihyZXN1bHQsIHByb3BlcnRpZXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFzc2lnbnMgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyBvZiBzb3VyY2VcbiAgICAgKiBvYmplY3RzIHRvIHRoZSBkZXN0aW5hdGlvbiBvYmplY3QgZm9yIGFsbCBkZXN0aW5hdGlvbiBwcm9wZXJ0aWVzIHRoYXRcbiAgICAgKiByZXNvbHZlIHRvIGB1bmRlZmluZWRgLiBTb3VyY2Ugb2JqZWN0cyBhcmUgYXBwbGllZCBmcm9tIGxlZnQgdG8gcmlnaHQuXG4gICAgICogT25jZSBhIHByb3BlcnR5IGlzIHNldCwgYWRkaXRpb25hbCB2YWx1ZXMgb2YgdGhlIHNhbWUgcHJvcGVydHkgYXJlIGlnbm9yZWQuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi5PYmplY3R9IFtzb3VyY2VzXSBUaGUgc291cmNlIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uZGVmYXVsdHNEZWVwXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGVmYXVsdHMoeyAnYSc6IDEgfSwgeyAnYic6IDIgfSwgeyAnYSc6IDMgfSk7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdiJzogMiB9XG4gICAgICovXG4gICAgdmFyIGRlZmF1bHRzID0gYmFzZVJlc3QoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2VzKSB7XG4gICAgICBvYmplY3QgPSBPYmplY3Qob2JqZWN0KTtcblxuICAgICAgdmFyIGluZGV4ID0gLTE7XG4gICAgICB2YXIgbGVuZ3RoID0gc291cmNlcy5sZW5ndGg7XG4gICAgICB2YXIgZ3VhcmQgPSBsZW5ndGggPiAyID8gc291cmNlc1syXSA6IHVuZGVmaW5lZDtcblxuICAgICAgaWYgKGd1YXJkICYmIGlzSXRlcmF0ZWVDYWxsKHNvdXJjZXNbMF0sIHNvdXJjZXNbMV0sIGd1YXJkKSkge1xuICAgICAgICBsZW5ndGggPSAxO1xuICAgICAgfVxuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgc291cmNlID0gc291cmNlc1tpbmRleF07XG4gICAgICAgIHZhciBwcm9wcyA9IGtleXNJbihzb3VyY2UpO1xuICAgICAgICB2YXIgcHJvcHNJbmRleCA9IC0xO1xuICAgICAgICB2YXIgcHJvcHNMZW5ndGggPSBwcm9wcy5sZW5ndGg7XG5cbiAgICAgICAgd2hpbGUgKCsrcHJvcHNJbmRleCA8IHByb3BzTGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIGtleSA9IHByb3BzW3Byb3BzSW5kZXhdO1xuICAgICAgICAgIHZhciB2YWx1ZSA9IG9iamVjdFtrZXldO1xuXG4gICAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgICAgKGVxKHZhbHVlLCBvYmplY3RQcm90b1trZXldKSAmJiAhaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkpKSB7XG4gICAgICAgICAgICBvYmplY3Rba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5kZWZhdWx0c2AgZXhjZXB0IHRoYXQgaXQgcmVjdXJzaXZlbHkgYXNzaWduc1xuICAgICAqIGRlZmF1bHQgcHJvcGVydGllcy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMTAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi5PYmplY3R9IFtzb3VyY2VzXSBUaGUgc291cmNlIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uZGVmYXVsdHNcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kZWZhdWx0c0RlZXAoeyAnYSc6IHsgJ2InOiAyIH0gfSwgeyAnYSc6IHsgJ2InOiAxLCAnYyc6IDMgfSB9KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogeyAnYic6IDIsICdjJzogMyB9IH1cbiAgICAgKi9cbiAgICB2YXIgZGVmYXVsdHNEZWVwID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJncykge1xuICAgICAgYXJncy5wdXNoKHVuZGVmaW5lZCwgY3VzdG9tRGVmYXVsdHNNZXJnZSk7XG4gICAgICByZXR1cm4gYXBwbHkobWVyZ2VXaXRoLCB1bmRlZmluZWQsIGFyZ3MpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5maW5kYCBleGNlcHQgdGhhdCBpdCByZXR1cm5zIHRoZSBrZXkgb2YgdGhlIGZpcnN0XG4gICAgICogZWxlbWVudCBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeSBmb3IgaW5zdGVhZCBvZiB0aGUgZWxlbWVudCBpdHNlbGYuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd8dW5kZWZpbmVkfSBSZXR1cm5zIHRoZSBrZXkgb2YgdGhlIG1hdGNoZWQgZWxlbWVudCxcbiAgICAgKiAgZWxzZSBgdW5kZWZpbmVkYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0ge1xuICAgICAqICAgJ2Jhcm5leSc6ICB7ICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgICdmcmVkJzogICAgeyAnYWdlJzogNDAsICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgJ3BlYmJsZXMnOiB7ICdhZ2UnOiAxLCAgJ2FjdGl2ZSc6IHRydWUgfVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBfLmZpbmRLZXkodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8uYWdlIDwgNDA7IH0pO1xuICAgICAqIC8vID0+ICdiYXJuZXknIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZEtleSh1c2VycywgeyAnYWdlJzogMSwgJ2FjdGl2ZSc6IHRydWUgfSk7XG4gICAgICogLy8gPT4gJ3BlYmJsZXMnXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kS2V5KHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gJ2ZyZWQnXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRLZXkodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiAnYmFybmV5J1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbmRLZXkob2JqZWN0LCBwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiBiYXNlRmluZEtleShvYmplY3QsIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyksIGJhc2VGb3JPd24pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZmluZEtleWAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZlxuICAgICAqIGEgY29sbGVjdGlvbiBpbiB0aGUgb3Bwb3NpdGUgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd8dW5kZWZpbmVkfSBSZXR1cm5zIHRoZSBrZXkgb2YgdGhlIG1hdGNoZWQgZWxlbWVudCxcbiAgICAgKiAgZWxzZSBgdW5kZWZpbmVkYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0ge1xuICAgICAqICAgJ2Jhcm5leSc6ICB7ICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgICdmcmVkJzogICAgeyAnYWdlJzogNDAsICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgJ3BlYmJsZXMnOiB7ICdhZ2UnOiAxLCAgJ2FjdGl2ZSc6IHRydWUgfVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBfLmZpbmRMYXN0S2V5KHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLmFnZSA8IDQwOyB9KTtcbiAgICAgKiAvLyA9PiByZXR1cm5zICdwZWJibGVzJyBhc3N1bWluZyBgXy5maW5kS2V5YCByZXR1cm5zICdiYXJuZXknXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZExhc3RLZXkodXNlcnMsIHsgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9KTtcbiAgICAgKiAvLyA9PiAnYmFybmV5J1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZExhc3RLZXkodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiAnZnJlZCdcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZExhc3RLZXkodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiAncGViYmxlcydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaW5kTGFzdEtleShvYmplY3QsIHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIGJhc2VGaW5kS2V5KG9iamVjdCwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSwgYmFzZUZvck93blJpZ2h0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJdGVyYXRlcyBvdmVyIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgb2YgYW5cbiAgICAgKiBvYmplY3QgYW5kIGludm9rZXMgYGl0ZXJhdGVlYCBmb3IgZWFjaCBwcm9wZXJ0eS4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBrZXksIG9iamVjdCkuIEl0ZXJhdGVlIGZ1bmN0aW9ucyBtYXkgZXhpdFxuICAgICAqIGl0ZXJhdGlvbiBlYXJseSBieSBleHBsaWNpdGx5IHJldHVybmluZyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMy4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uZm9ySW5SaWdodFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy5mb3JJbihuZXcgRm9vLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICogICBjb25zb2xlLmxvZyhrZXkpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgJ2EnLCAnYicsIHRoZW4gJ2MnIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZvckluKG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbFxuICAgICAgICA/IG9iamVjdFxuICAgICAgICA6IGJhc2VGb3Iob2JqZWN0LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMyksIGtleXNJbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mb3JJbmAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBwcm9wZXJ0aWVzIG9mXG4gICAgICogYG9iamVjdGAgaW4gdGhlIG9wcG9zaXRlIG9yZGVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uZm9ySW5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8uZm9ySW5SaWdodChuZXcgRm9vLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICogICBjb25zb2xlLmxvZyhrZXkpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgJ2MnLCAnYicsIHRoZW4gJ2EnIGFzc3VtaW5nIGBfLmZvckluYCBsb2dzICdhJywgJ2InLCB0aGVuICdjJy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmb3JJblJpZ2h0KG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbFxuICAgICAgICA/IG9iamVjdFxuICAgICAgICA6IGJhc2VGb3JSaWdodChvYmplY3QsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSwga2V5c0luKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJdGVyYXRlcyBvdmVyIG93biBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzIG9mIGFuIG9iamVjdCBhbmRcbiAgICAgKiBpbnZva2VzIGBpdGVyYXRlZWAgZm9yIGVhY2ggcHJvcGVydHkuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggdGhyZWVcbiAgICAgKiBhcmd1bWVudHM6ICh2YWx1ZSwga2V5LCBvYmplY3QpLiBJdGVyYXRlZSBmdW5jdGlvbnMgbWF5IGV4aXQgaXRlcmF0aW9uXG4gICAgICogZWFybHkgYnkgZXhwbGljaXRseSByZXR1cm5pbmcgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjMuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmZvck93blJpZ2h0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLmZvck93bihuZXcgRm9vLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICogICBjb25zb2xlLmxvZyhrZXkpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgJ2EnIHRoZW4gJ2InIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZvck93bihvYmplY3QsIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICYmIGJhc2VGb3JPd24ob2JqZWN0LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZm9yT3duYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIHByb3BlcnRpZXMgb2ZcbiAgICAgKiBgb2JqZWN0YCBpbiB0aGUgb3Bwb3NpdGUgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5mb3JPd25cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8uZm9yT3duUmlnaHQobmV3IEZvbywgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAqICAgY29uc29sZS5sb2coa2V5KTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBMb2dzICdiJyB0aGVuICdhJyBhc3N1bWluZyBgXy5mb3JPd25gIGxvZ3MgJ2EnIHRoZW4gJ2InLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZvck93blJpZ2h0KG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBvYmplY3QgJiYgYmFzZUZvck93blJpZ2h0KG9iamVjdCwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIGZ1bmN0aW9uIHByb3BlcnR5IG5hbWVzIGZyb20gb3duIGVudW1lcmFibGUgcHJvcGVydGllc1xuICAgICAqIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgZnVuY3Rpb24gbmFtZXMuXG4gICAgICogQHNlZSBfLmZ1bmN0aW9uc0luXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IF8uY29uc3RhbnQoJ2EnKTtcbiAgICAgKiAgIHRoaXMuYiA9IF8uY29uc3RhbnQoJ2InKTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSBfLmNvbnN0YW50KCdjJyk7XG4gICAgICpcbiAgICAgKiBfLmZ1bmN0aW9ucyhuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYiddXG4gICAgICovXG4gICAgZnVuY3Rpb24gZnVuY3Rpb25zKG9iamVjdCkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gW10gOiBiYXNlRnVuY3Rpb25zKG9iamVjdCwga2V5cyhvYmplY3QpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIGZ1bmN0aW9uIHByb3BlcnR5IG5hbWVzIGZyb20gb3duIGFuZCBpbmhlcml0ZWRcbiAgICAgKiBlbnVtZXJhYmxlIHByb3BlcnRpZXMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBmdW5jdGlvbiBuYW1lcy5cbiAgICAgKiBAc2VlIF8uZnVuY3Rpb25zXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IF8uY29uc3RhbnQoJ2EnKTtcbiAgICAgKiAgIHRoaXMuYiA9IF8uY29uc3RhbnQoJ2InKTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSBfLmNvbnN0YW50KCdjJyk7XG4gICAgICpcbiAgICAgKiBfLmZ1bmN0aW9uc0luKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFsnYScsICdiJywgJ2MnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZ1bmN0aW9uc0luKG9iamVjdCkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gW10gOiBiYXNlRnVuY3Rpb25zKG9iamVjdCwga2V5c0luKG9iamVjdCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHZhbHVlIGF0IGBwYXRoYCBvZiBgb2JqZWN0YC4gSWYgdGhlIHJlc29sdmVkIHZhbHVlIGlzXG4gICAgICogYHVuZGVmaW5lZGAsIHRoZSBgZGVmYXVsdFZhbHVlYCBpcyByZXR1cm5lZCBpbiBpdHMgcGxhY2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy43LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHBhcmFtIHsqfSBbZGVmYXVsdFZhbHVlXSBUaGUgdmFsdWUgcmV0dXJuZWQgZm9yIGB1bmRlZmluZWRgIHJlc29sdmVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogMyB9IH1dIH07XG4gICAgICpcbiAgICAgKiBfLmdldChvYmplY3QsICdhWzBdLmIuYycpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIF8uZ2V0KG9iamVjdCwgWydhJywgJzAnLCAnYicsICdjJ10pO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIF8uZ2V0KG9iamVjdCwgJ2EuYi5jJywgJ2RlZmF1bHQnKTtcbiAgICAgKiAvLyA9PiAnZGVmYXVsdCdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXQob2JqZWN0LCBwYXRoLCBkZWZhdWx0VmFsdWUpIHtcbiAgICAgIHZhciByZXN1bHQgPSBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IGJhc2VHZXQob2JqZWN0LCBwYXRoKTtcbiAgICAgIHJldHVybiByZXN1bHQgPT09IHVuZGVmaW5lZCA/IGRlZmF1bHRWYWx1ZSA6IHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHBhdGhgIGlzIGEgZGlyZWN0IHByb3BlcnR5IG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHBhdGhgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IHsgJ2InOiAyIH0gfTtcbiAgICAgKiB2YXIgb3RoZXIgPSBfLmNyZWF0ZSh7ICdhJzogXy5jcmVhdGUoeyAnYic6IDIgfSkgfSk7XG4gICAgICpcbiAgICAgKiBfLmhhcyhvYmplY3QsICdhJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5oYXMob2JqZWN0LCAnYS5iJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5oYXMob2JqZWN0LCBbJ2EnLCAnYiddKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmhhcyhvdGhlciwgJ2EnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhcyhvYmplY3QsIHBhdGgpIHtcbiAgICAgIHJldHVybiBvYmplY3QgIT0gbnVsbCAmJiBoYXNQYXRoKG9iamVjdCwgcGF0aCwgYmFzZUhhcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBwYXRoYCBpcyBhIGRpcmVjdCBvciBpbmhlcml0ZWQgcHJvcGVydHkgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgcGF0aGAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSBfLmNyZWF0ZSh7ICdhJzogXy5jcmVhdGUoeyAnYic6IDIgfSkgfSk7XG4gICAgICpcbiAgICAgKiBfLmhhc0luKG9iamVjdCwgJ2EnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmhhc0luKG9iamVjdCwgJ2EuYicpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaGFzSW4ob2JqZWN0LCBbJ2EnLCAnYiddKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmhhc0luKG9iamVjdCwgJ2InKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhc0luKG9iamVjdCwgcGF0aCkge1xuICAgICAgcmV0dXJuIG9iamVjdCAhPSBudWxsICYmIGhhc1BhdGgob2JqZWN0LCBwYXRoLCBiYXNlSGFzSW4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIHRoZSBpbnZlcnRlZCBrZXlzIGFuZCB2YWx1ZXMgb2YgYG9iamVjdGAuXG4gICAgICogSWYgYG9iamVjdGAgY29udGFpbnMgZHVwbGljYXRlIHZhbHVlcywgc3Vic2VxdWVudCB2YWx1ZXMgb3ZlcndyaXRlXG4gICAgICogcHJvcGVydHkgYXNzaWdubWVudHMgb2YgcHJldmlvdXMgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuNy4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnZlcnQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGludmVydGVkIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMSB9O1xuICAgICAqXG4gICAgICogXy5pbnZlcnQob2JqZWN0KTtcbiAgICAgKiAvLyA9PiB7ICcxJzogJ2MnLCAnMic6ICdiJyB9XG4gICAgICovXG4gICAgdmFyIGludmVydCA9IGNyZWF0ZUludmVydGVyKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAgaWYgKHZhbHVlICE9IG51bGwgJiZcbiAgICAgICAgICB0eXBlb2YgdmFsdWUudG9TdHJpbmcgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB2YWx1ZSA9IG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICAgICAgfVxuXG4gICAgICByZXN1bHRbdmFsdWVdID0ga2V5O1xuICAgIH0sIGNvbnN0YW50KGlkZW50aXR5KSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmludmVydGAgZXhjZXB0IHRoYXQgdGhlIGludmVydGVkIG9iamVjdCBpcyBnZW5lcmF0ZWRcbiAgICAgKiBmcm9tIHRoZSByZXN1bHRzIG9mIHJ1bm5pbmcgZWFjaCBlbGVtZW50IG9mIGBvYmplY3RgIHRocnUgYGl0ZXJhdGVlYC4gVGhlXG4gICAgICogY29ycmVzcG9uZGluZyBpbnZlcnRlZCB2YWx1ZSBvZiBlYWNoIGludmVydGVkIGtleSBpcyBhbiBhcnJheSBvZiBrZXlzXG4gICAgICogcmVzcG9uc2libGUgZm9yIGdlbmVyYXRpbmcgdGhlIGludmVydGVkIHZhbHVlLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZFxuICAgICAqIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMS4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnZlcnQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBpbnZlcnRlZCBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDEgfTtcbiAgICAgKlxuICAgICAqIF8uaW52ZXJ0Qnkob2JqZWN0KTtcbiAgICAgKiAvLyA9PiB7ICcxJzogWydhJywgJ2MnXSwgJzInOiBbJ2InXSB9XG4gICAgICpcbiAgICAgKiBfLmludmVydEJ5KG9iamVjdCwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgKiAgIHJldHVybiAnZ3JvdXAnICsgdmFsdWU7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4geyAnZ3JvdXAxJzogWydhJywgJ2MnXSwgJ2dyb3VwMic6IFsnYiddIH1cbiAgICAgKi9cbiAgICB2YXIgaW52ZXJ0QnkgPSBjcmVhdGVJbnZlcnRlcihmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICAgIGlmICh2YWx1ZSAhPSBudWxsICYmXG4gICAgICAgICAgdHlwZW9mIHZhbHVlLnRvU3RyaW5nICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdmFsdWUgPSBuYXRpdmVPYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwocmVzdWx0LCB2YWx1ZSkpIHtcbiAgICAgICAgcmVzdWx0W3ZhbHVlXS5wdXNoKGtleSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHRbdmFsdWVdID0gW2tleV07XG4gICAgICB9XG4gICAgfSwgZ2V0SXRlcmF0ZWUpO1xuXG4gICAgLyoqXG4gICAgICogSW52b2tlcyB0aGUgbWV0aG9kIGF0IGBwYXRoYCBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIG1ldGhvZCB0byBpbnZva2UuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbYXJnc10gVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgdGhlIG1ldGhvZCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXN1bHQgb2YgdGhlIGludm9rZWQgbWV0aG9kLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYyc6IFsxLCAyLCAzLCA0XSB9IH1dIH07XG4gICAgICpcbiAgICAgKiBfLmludm9rZShvYmplY3QsICdhWzBdLmIuYy5zbGljZScsIDEsIDMpO1xuICAgICAqIC8vID0+IFsyLCAzXVxuICAgICAqL1xuICAgIHZhciBpbnZva2UgPSBiYXNlUmVzdChiYXNlSW52b2tlKTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIE5vbi1vYmplY3QgdmFsdWVzIGFyZSBjb2VyY2VkIHRvIG9iamVjdHMuIFNlZSB0aGVcbiAgICAgKiBbRVMgc3BlY10oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LmtleXMpXG4gICAgICogZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8ua2V5cyhuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYiddIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICpcbiAgICAgKiBfLmtleXMoJ2hpJyk7XG4gICAgICogLy8gPT4gWycwJywgJzEnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGtleXMob2JqZWN0KSB7XG4gICAgICByZXR1cm4gaXNBcnJheUxpa2Uob2JqZWN0KSA/IGFycmF5TGlrZUtleXMob2JqZWN0KSA6IGJhc2VLZXlzKG9iamVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBOb24tb2JqZWN0IHZhbHVlcyBhcmUgY29lcmNlZCB0byBvYmplY3RzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy5rZXlzSW4obmV3IEZvbyk7XG4gICAgICogLy8gPT4gWydhJywgJ2InLCAnYyddIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICovXG4gICAgZnVuY3Rpb24ga2V5c0luKG9iamVjdCkge1xuICAgICAgcmV0dXJuIGlzQXJyYXlMaWtlKG9iamVjdCkgPyBhcnJheUxpa2VLZXlzKG9iamVjdCwgdHJ1ZSkgOiBiYXNlS2V5c0luKG9iamVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIG9wcG9zaXRlIG9mIGBfLm1hcFZhbHVlc2A7IHRoaXMgbWV0aG9kIGNyZWF0ZXMgYW4gb2JqZWN0IHdpdGggdGhlXG4gICAgICogc2FtZSB2YWx1ZXMgYXMgYG9iamVjdGAgYW5kIGtleXMgZ2VuZXJhdGVkIGJ5IHJ1bm5pbmcgZWFjaCBvd24gZW51bWVyYWJsZVxuICAgICAqIHN0cmluZyBrZXllZCBwcm9wZXJ0eSBvZiBgb2JqZWN0YCB0aHJ1IGBpdGVyYXRlZWAuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwga2V5LCBvYmplY3QpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuOC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG1hcHBlZCBvYmplY3QuXG4gICAgICogQHNlZSBfLm1hcFZhbHVlc1xuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLm1hcEtleXMoeyAnYSc6IDEsICdiJzogMiB9LCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICogICByZXR1cm4ga2V5ICsgdmFsdWU7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4geyAnYTEnOiAxLCAnYjInOiAyIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXBLZXlzKG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICAgIGl0ZXJhdGVlID0gZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpO1xuXG4gICAgICBiYXNlRm9yT3duKG9iamVjdCwgZnVuY3Rpb24odmFsdWUsIGtleSwgb2JqZWN0KSB7XG4gICAgICAgIGJhc2VBc3NpZ25WYWx1ZShyZXN1bHQsIGl0ZXJhdGVlKHZhbHVlLCBrZXksIG9iamVjdCksIHZhbHVlKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCB3aXRoIHRoZSBzYW1lIGtleXMgYXMgYG9iamVjdGAgYW5kIHZhbHVlcyBnZW5lcmF0ZWRcbiAgICAgKiBieSBydW5uaW5nIGVhY2ggb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnR5IG9mIGBvYmplY3RgIHRocnVcbiAgICAgKiBgaXRlcmF0ZWVgLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czpcbiAgICAgKiAodmFsdWUsIGtleSwgb2JqZWN0KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjQuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBtYXBwZWQgb2JqZWN0LlxuICAgICAqIEBzZWUgXy5tYXBLZXlzXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IHtcbiAgICAgKiAgICdmcmVkJzogICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FnZSc6IDQwIH0sXG4gICAgICogICAncGViYmxlcyc6IHsgJ3VzZXInOiAncGViYmxlcycsICdhZ2UnOiAxIH1cbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogXy5tYXBWYWx1ZXModXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8uYWdlOyB9KTtcbiAgICAgKiAvLyA9PiB7ICdmcmVkJzogNDAsICdwZWJibGVzJzogMSB9IChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLm1hcFZhbHVlcyh1c2VycywgJ2FnZScpO1xuICAgICAqIC8vID0+IHsgJ2ZyZWQnOiA0MCwgJ3BlYmJsZXMnOiAxIH0gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXBWYWx1ZXMob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgICAgaXRlcmF0ZWUgPSBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMyk7XG5cbiAgICAgIGJhc2VGb3JPd24ob2JqZWN0LCBmdW5jdGlvbih2YWx1ZSwga2V5LCBvYmplY3QpIHtcbiAgICAgICAgYmFzZUFzc2lnblZhbHVlKHJlc3VsdCwga2V5LCBpdGVyYXRlZSh2YWx1ZSwga2V5LCBvYmplY3QpKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmFzc2lnbmAgZXhjZXB0IHRoYXQgaXQgcmVjdXJzaXZlbHkgbWVyZ2VzIG93biBhbmRcbiAgICAgKiBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyBvZiBzb3VyY2Ugb2JqZWN0cyBpbnRvIHRoZVxuICAgICAqIGRlc3RpbmF0aW9uIG9iamVjdC4gU291cmNlIHByb3BlcnRpZXMgdGhhdCByZXNvbHZlIHRvIGB1bmRlZmluZWRgIGFyZVxuICAgICAqIHNraXBwZWQgaWYgYSBkZXN0aW5hdGlvbiB2YWx1ZSBleGlzdHMuIEFycmF5IGFuZCBwbGFpbiBvYmplY3QgcHJvcGVydGllc1xuICAgICAqIGFyZSBtZXJnZWQgcmVjdXJzaXZlbHkuIE90aGVyIG9iamVjdHMgYW5kIHZhbHVlIHR5cGVzIGFyZSBvdmVycmlkZGVuIGJ5XG4gICAgICogYXNzaWdubWVudC4gU291cmNlIG9iamVjdHMgYXJlIGFwcGxpZWQgZnJvbSBsZWZ0IHRvIHJpZ2h0LiBTdWJzZXF1ZW50XG4gICAgICogc291cmNlcyBvdmVyd3JpdGUgcHJvcGVydHkgYXNzaWdubWVudHMgb2YgcHJldmlvdXMgc291cmNlcy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuNS4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gW3NvdXJjZXNdIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0ge1xuICAgICAqICAgJ2EnOiBbeyAnYic6IDIgfSwgeyAnZCc6IDQgfV1cbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogdmFyIG90aGVyID0ge1xuICAgICAqICAgJ2EnOiBbeyAnYyc6IDMgfSwgeyAnZSc6IDUgfV1cbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogXy5tZXJnZShvYmplY3QsIG90aGVyKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogW3sgJ2InOiAyLCAnYyc6IDMgfSwgeyAnZCc6IDQsICdlJzogNSB9XSB9XG4gICAgICovXG4gICAgdmFyIG1lcmdlID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4KSB7XG4gICAgICBiYXNlTWVyZ2Uob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4KTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ubWVyZ2VgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGN1c3RvbWl6ZXJgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCB0byBwcm9kdWNlIHRoZSBtZXJnZWQgdmFsdWVzIG9mIHRoZSBkZXN0aW5hdGlvbiBhbmQgc291cmNlXG4gICAgICogcHJvcGVydGllcy4gSWYgYGN1c3RvbWl6ZXJgIHJldHVybnMgYHVuZGVmaW5lZGAsIG1lcmdpbmcgaXMgaGFuZGxlZCBieSB0aGVcbiAgICAgKiBtZXRob2QgaW5zdGVhZC4gVGhlIGBjdXN0b21pemVyYCBpcyBpbnZva2VkIHdpdGggc2l4IGFyZ3VtZW50czpcbiAgICAgKiAob2JqVmFsdWUsIHNyY1ZhbHVlLCBrZXksIG9iamVjdCwgc291cmNlLCBzdGFjaykuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi5PYmplY3R9IHNvdXJjZXMgVGhlIHNvdXJjZSBvYmplY3RzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBhc3NpZ25lZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gY3VzdG9taXplcihvYmpWYWx1ZSwgc3JjVmFsdWUpIHtcbiAgICAgKiAgIGlmIChfLmlzQXJyYXkob2JqVmFsdWUpKSB7XG4gICAgICogICAgIHJldHVybiBvYmpWYWx1ZS5jb25jYXQoc3JjVmFsdWUpO1xuICAgICAqICAgfVxuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogWzFdLCAnYic6IFsyXSB9O1xuICAgICAqIHZhciBvdGhlciA9IHsgJ2EnOiBbM10sICdiJzogWzRdIH07XG4gICAgICpcbiAgICAgKiBfLm1lcmdlV2l0aChvYmplY3QsIG90aGVyLCBjdXN0b21pemVyKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogWzEsIDNdLCAnYic6IFsyLCA0XSB9XG4gICAgICovXG4gICAgdmFyIG1lcmdlV2l0aCA9IGNyZWF0ZUFzc2lnbmVyKGZ1bmN0aW9uKG9iamVjdCwgc291cmNlLCBzcmNJbmRleCwgY3VzdG9taXplcikge1xuICAgICAgYmFzZU1lcmdlKG9iamVjdCwgc291cmNlLCBzcmNJbmRleCwgY3VzdG9taXplcik7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8ucGlja2A7IHRoaXMgbWV0aG9kIGNyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIHRoZVxuICAgICAqIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgcHJvcGVydHkgcGF0aHMgb2YgYG9iamVjdGAgdGhhdCBhcmUgbm90IG9taXR0ZWQuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgY29uc2lkZXJhYmx5IHNsb3dlciB0aGFuIGBfLnBpY2tgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi4oc3RyaW5nfHN0cmluZ1tdKX0gW3BhdGhzXSBUaGUgcHJvcGVydHkgcGF0aHMgdG8gb21pdC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogJzInLCAnYyc6IDMgfTtcbiAgICAgKlxuICAgICAqIF8ub21pdChvYmplY3QsIFsnYScsICdjJ10pO1xuICAgICAqIC8vID0+IHsgJ2InOiAnMicgfVxuICAgICAqL1xuICAgIHZhciBvbWl0ID0gZmxhdFJlc3QoZnVuY3Rpb24ob2JqZWN0LCBwYXRocykge1xuICAgICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgICAgaWYgKG9iamVjdCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICB2YXIgaXNEZWVwID0gZmFsc2U7XG4gICAgICBwYXRocyA9IGFycmF5TWFwKHBhdGhzLCBmdW5jdGlvbihwYXRoKSB7XG4gICAgICAgIHBhdGggPSBjYXN0UGF0aChwYXRoLCBvYmplY3QpO1xuICAgICAgICBpc0RlZXAgfHwgKGlzRGVlcCA9IHBhdGgubGVuZ3RoID4gMSk7XG4gICAgICAgIHJldHVybiBwYXRoO1xuICAgICAgfSk7XG4gICAgICBjb3B5T2JqZWN0KG9iamVjdCwgZ2V0QWxsS2V5c0luKG9iamVjdCksIHJlc3VsdCk7XG4gICAgICBpZiAoaXNEZWVwKSB7XG4gICAgICAgIHJlc3VsdCA9IGJhc2VDbG9uZShyZXN1bHQsIENMT05FX0RFRVBfRkxBRyB8IENMT05FX0ZMQVRfRkxBRyB8IENMT05FX1NZTUJPTFNfRkxBRywgY3VzdG9tT21pdENsb25lKTtcbiAgICAgIH1cbiAgICAgIHZhciBsZW5ndGggPSBwYXRocy5sZW5ndGg7XG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgYmFzZVVuc2V0KHJlc3VsdCwgcGF0aHNbbGVuZ3RoXSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG9wcG9zaXRlIG9mIGBfLnBpY2tCeWA7IHRoaXMgbWV0aG9kIGNyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mXG4gICAgICogdGhlIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgb2YgYG9iamVjdGAgdGhhdFxuICAgICAqIGBwcmVkaWNhdGVgIGRvZXNuJ3QgcmV0dXJuIHRydXRoeSBmb3IuIFRoZSBwcmVkaWNhdGUgaXMgaW52b2tlZCB3aXRoIHR3b1xuICAgICAqIGFyZ3VtZW50czogKHZhbHVlLCBrZXkpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgcHJvcGVydHkuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6ICcyJywgJ2MnOiAzIH07XG4gICAgICpcbiAgICAgKiBfLm9taXRCeShvYmplY3QsIF8uaXNOdW1iZXIpO1xuICAgICAqIC8vID0+IHsgJ2InOiAnMicgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG9taXRCeShvYmplY3QsIHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIHBpY2tCeShvYmplY3QsIG5lZ2F0ZShnZXRJdGVyYXRlZShwcmVkaWNhdGUpKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2YgdGhlIHBpY2tlZCBgb2JqZWN0YCBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi4oc3RyaW5nfHN0cmluZ1tdKX0gW3BhdGhzXSBUaGUgcHJvcGVydHkgcGF0aHMgdG8gcGljay5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogJzInLCAnYyc6IDMgfTtcbiAgICAgKlxuICAgICAqIF8ucGljayhvYmplY3QsIFsnYScsICdjJ10pO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYyc6IDMgfVxuICAgICAqL1xuICAgIHZhciBwaWNrID0gZmxhdFJlc3QoZnVuY3Rpb24ob2JqZWN0LCBwYXRocykge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8ge30gOiBiYXNlUGljayhvYmplY3QsIHBhdGhzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIHRoZSBgb2JqZWN0YCBwcm9wZXJ0aWVzIGBwcmVkaWNhdGVgIHJldHVybnNcbiAgICAgKiB0cnV0aHkgZm9yLiBUaGUgcHJlZGljYXRlIGlzIGludm9rZWQgd2l0aCB0d28gYXJndW1lbnRzOiAodmFsdWUsIGtleSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBwcm9wZXJ0eS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogJzInLCAnYyc6IDMgfTtcbiAgICAgKlxuICAgICAqIF8ucGlja0J5KG9iamVjdCwgXy5pc051bWJlcik7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdjJzogMyB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gcGlja0J5KG9iamVjdCwgcHJlZGljYXRlKSB7XG4gICAgICBpZiAob2JqZWN0ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgfVxuICAgICAgdmFyIHByb3BzID0gYXJyYXlNYXAoZ2V0QWxsS2V5c0luKG9iamVjdCksIGZ1bmN0aW9uKHByb3ApIHtcbiAgICAgICAgcmV0dXJuIFtwcm9wXTtcbiAgICAgIH0pO1xuICAgICAgcHJlZGljYXRlID0gZ2V0SXRlcmF0ZWUocHJlZGljYXRlKTtcbiAgICAgIHJldHVybiBiYXNlUGlja0J5KG9iamVjdCwgcHJvcHMsIGZ1bmN0aW9uKHZhbHVlLCBwYXRoKSB7XG4gICAgICAgIHJldHVybiBwcmVkaWNhdGUodmFsdWUsIHBhdGhbMF0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5nZXRgIGV4Y2VwdCB0aGF0IGlmIHRoZSByZXNvbHZlZCB2YWx1ZSBpcyBhXG4gICAgICogZnVuY3Rpb24gaXQncyBpbnZva2VkIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIGl0cyBwYXJlbnQgb2JqZWN0IGFuZFxuICAgICAqIGl0cyByZXN1bHQgaXMgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byByZXNvbHZlLlxuICAgICAqIEBwYXJhbSB7Kn0gW2RlZmF1bHRWYWx1ZV0gVGhlIHZhbHVlIHJldHVybmVkIGZvciBgdW5kZWZpbmVkYCByZXNvbHZlZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc29sdmVkIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYzEnOiAzLCAnYzInOiBfLmNvbnN0YW50KDQpIH0gfV0gfTtcbiAgICAgKlxuICAgICAqIF8ucmVzdWx0KG9iamVjdCwgJ2FbMF0uYi5jMScpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIF8ucmVzdWx0KG9iamVjdCwgJ2FbMF0uYi5jMicpO1xuICAgICAqIC8vID0+IDRcbiAgICAgKlxuICAgICAqIF8ucmVzdWx0KG9iamVjdCwgJ2FbMF0uYi5jMycsICdkZWZhdWx0Jyk7XG4gICAgICogLy8gPT4gJ2RlZmF1bHQnXG4gICAgICpcbiAgICAgKiBfLnJlc3VsdChvYmplY3QsICdhWzBdLmIuYzMnLCBfLmNvbnN0YW50KCdkZWZhdWx0JykpO1xuICAgICAqIC8vID0+ICdkZWZhdWx0J1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlc3VsdChvYmplY3QsIHBhdGgsIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG5cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHBhdGgubGVuZ3RoO1xuXG4gICAgICAvLyBFbnN1cmUgdGhlIGxvb3AgaXMgZW50ZXJlZCB3aGVuIHBhdGggaXMgZW1wdHkuXG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICBsZW5ndGggPSAxO1xuICAgICAgICBvYmplY3QgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG9iamVjdFt0b0tleShwYXRoW2luZGV4XSldO1xuICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGluZGV4ID0gbGVuZ3RoO1xuICAgICAgICAgIHZhbHVlID0gZGVmYXVsdFZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIG9iamVjdCA9IGlzRnVuY3Rpb24odmFsdWUpID8gdmFsdWUuY2FsbChvYmplY3QpIDogdmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHZhbHVlIGF0IGBwYXRoYCBvZiBgb2JqZWN0YC4gSWYgYSBwb3J0aW9uIG9mIGBwYXRoYCBkb2Vzbid0IGV4aXN0LFxuICAgICAqIGl0J3MgY3JlYXRlZC4gQXJyYXlzIGFyZSBjcmVhdGVkIGZvciBtaXNzaW5nIGluZGV4IHByb3BlcnRpZXMgd2hpbGUgb2JqZWN0c1xuICAgICAqIGFyZSBjcmVhdGVkIGZvciBhbGwgb3RoZXIgbWlzc2luZyBwcm9wZXJ0aWVzLiBVc2UgYF8uc2V0V2l0aGAgdG8gY3VzdG9taXplXG4gICAgICogYHBhdGhgIGNyZWF0aW9uLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy43LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYyc6IDMgfSB9XSB9O1xuICAgICAqXG4gICAgICogXy5zZXQob2JqZWN0LCAnYVswXS5iLmMnLCA0KTtcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3QuYVswXS5iLmMpO1xuICAgICAqIC8vID0+IDRcbiAgICAgKlxuICAgICAqIF8uc2V0KG9iamVjdCwgWyd4JywgJzAnLCAneScsICd6J10sIDUpO1xuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdC54WzBdLnkueik7XG4gICAgICogLy8gPT4gNVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNldChvYmplY3QsIHBhdGgsIHZhbHVlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBvYmplY3QgOiBiYXNlU2V0KG9iamVjdCwgcGF0aCwgdmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uc2V0YCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjdXN0b21pemVyYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgdG8gcHJvZHVjZSB0aGUgb2JqZWN0cyBvZiBgcGF0aGAuICBJZiBgY3VzdG9taXplcmAgcmV0dXJucyBgdW5kZWZpbmVkYFxuICAgICAqIHBhdGggY3JlYXRpb24gaXMgaGFuZGxlZCBieSB0aGUgbWV0aG9kIGluc3RlYWQuIFRoZSBgY3VzdG9taXplcmAgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdGhyZWUgYXJndW1lbnRzOiAobnNWYWx1ZSwga2V5LCBuc09iamVjdCkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBzZXQuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGFzc2lnbmVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0ge307XG4gICAgICpcbiAgICAgKiBfLnNldFdpdGgob2JqZWN0LCAnWzBdWzFdJywgJ2EnLCBPYmplY3QpO1xuICAgICAqIC8vID0+IHsgJzAnOiB7ICcxJzogJ2EnIH0gfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNldFdpdGgob2JqZWN0LCBwYXRoLCB2YWx1ZSwgY3VzdG9taXplcikge1xuICAgICAgY3VzdG9taXplciA9IHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicgPyBjdXN0b21pemVyIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gb2JqZWN0IDogYmFzZVNldChvYmplY3QsIHBhdGgsIHZhbHVlLCBjdXN0b21pemVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIG93biBlbnVtZXJhYmxlIHN0cmluZyBrZXllZC12YWx1ZSBwYWlycyBmb3IgYG9iamVjdGBcbiAgICAgKiB3aGljaCBjYW4gYmUgY29uc3VtZWQgYnkgYF8uZnJvbVBhaXJzYC4gSWYgYG9iamVjdGAgaXMgYSBtYXAgb3Igc2V0LCBpdHNcbiAgICAgKiBlbnRyaWVzIGFyZSByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBhbGlhcyBlbnRyaWVzXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGtleS12YWx1ZSBwYWlycy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8udG9QYWlycyhuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiBbWydhJywgMV0sIFsnYicsIDJdXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqL1xuICAgIHZhciB0b1BhaXJzID0gY3JlYXRlVG9QYWlycyhrZXlzKTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2Ygb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQtdmFsdWUgcGFpcnNcbiAgICAgKiBmb3IgYG9iamVjdGAgd2hpY2ggY2FuIGJlIGNvbnN1bWVkIGJ5IGBfLmZyb21QYWlyc2AuIElmIGBvYmplY3RgIGlzIGEgbWFwXG4gICAgICogb3Igc2V0LCBpdHMgZW50cmllcyBhcmUgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAYWxpYXMgZW50cmllc0luXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGtleS12YWx1ZSBwYWlycy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8udG9QYWlyc0luKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFtbJ2EnLCAxXSwgWydiJywgMl0sIFsnYycsIDNdXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqL1xuICAgIHZhciB0b1BhaXJzSW4gPSBjcmVhdGVUb1BhaXJzKGtleXNJbik7XG5cbiAgICAvKipcbiAgICAgKiBBbiBhbHRlcm5hdGl2ZSB0byBgXy5yZWR1Y2VgOyB0aGlzIG1ldGhvZCB0cmFuc2Zvcm1zIGBvYmplY3RgIHRvIGEgbmV3XG4gICAgICogYGFjY3VtdWxhdG9yYCBvYmplY3Qgd2hpY2ggaXMgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGVhY2ggb2YgaXRzIG93blxuICAgICAqIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgdGhydSBgaXRlcmF0ZWVgLCB3aXRoIGVhY2ggaW52b2NhdGlvblxuICAgICAqIHBvdGVudGlhbGx5IG11dGF0aW5nIHRoZSBgYWNjdW11bGF0b3JgIG9iamVjdC4gSWYgYGFjY3VtdWxhdG9yYCBpcyBub3RcbiAgICAgKiBwcm92aWRlZCwgYSBuZXcgb2JqZWN0IHdpdGggdGhlIHNhbWUgYFtbUHJvdG90eXBlXV1gIHdpbGwgYmUgdXNlZC4gVGhlXG4gICAgICogaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIGZvdXIgYXJndW1lbnRzOiAoYWNjdW11bGF0b3IsIHZhbHVlLCBrZXksIG9iamVjdCkuXG4gICAgICogSXRlcmF0ZWUgZnVuY3Rpb25zIG1heSBleGl0IGl0ZXJhdGlvbiBlYXJseSBieSBleHBsaWNpdGx5IHJldHVybmluZyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMy4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHsqfSBbYWNjdW11bGF0b3JdIFRoZSBjdXN0b20gYWNjdW11bGF0b3IgdmFsdWUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGFjY3VtdWxhdGVkIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRyYW5zZm9ybShbMiwgMywgNF0sIGZ1bmN0aW9uKHJlc3VsdCwgbikge1xuICAgICAqICAgcmVzdWx0LnB1c2gobiAqPSBuKTtcbiAgICAgKiAgIHJldHVybiBuICUgMiA9PSAwO1xuICAgICAqIH0sIFtdKTtcbiAgICAgKiAvLyA9PiBbNCwgOV1cbiAgICAgKlxuICAgICAqIF8udHJhbnNmb3JtKHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMSB9LCBmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIChyZXN1bHRbdmFsdWVdIHx8IChyZXN1bHRbdmFsdWVdID0gW10pKS5wdXNoKGtleSk7XG4gICAgICogfSwge30pO1xuICAgICAqIC8vID0+IHsgJzEnOiBbJ2EnLCAnYyddLCAnMic6IFsnYiddIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0cmFuc2Zvcm0ob2JqZWN0LCBpdGVyYXRlZSwgYWNjdW11bGF0b3IpIHtcbiAgICAgIHZhciBpc0FyciA9IGlzQXJyYXkob2JqZWN0KSxcbiAgICAgICAgICBpc0Fyckxpa2UgPSBpc0FyciB8fCBpc0J1ZmZlcihvYmplY3QpIHx8IGlzVHlwZWRBcnJheShvYmplY3QpO1xuXG4gICAgICBpdGVyYXRlZSA9IGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCA0KTtcbiAgICAgIGlmIChhY2N1bXVsYXRvciA9PSBudWxsKSB7XG4gICAgICAgIHZhciBDdG9yID0gb2JqZWN0ICYmIG9iamVjdC5jb25zdHJ1Y3RvcjtcbiAgICAgICAgaWYgKGlzQXJyTGlrZSkge1xuICAgICAgICAgIGFjY3VtdWxhdG9yID0gaXNBcnIgPyBuZXcgQ3RvciA6IFtdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzT2JqZWN0KG9iamVjdCkpIHtcbiAgICAgICAgICBhY2N1bXVsYXRvciA9IGlzRnVuY3Rpb24oQ3RvcikgPyBiYXNlQ3JlYXRlKGdldFByb3RvdHlwZShvYmplY3QpKSA6IHt9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGFjY3VtdWxhdG9yID0ge307XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIChpc0Fyckxpa2UgPyBhcnJheUVhY2ggOiBiYXNlRm9yT3duKShvYmplY3QsIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgb2JqZWN0KSB7XG4gICAgICAgIHJldHVybiBpdGVyYXRlZShhY2N1bXVsYXRvciwgdmFsdWUsIGluZGV4LCBvYmplY3QpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgcHJvcGVydHkgYXQgYHBhdGhgIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gdW5zZXQuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBwcm9wZXJ0eSBpcyBkZWxldGVkLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogNyB9IH1dIH07XG4gICAgICogXy51bnNldChvYmplY3QsICdhWzBdLmIuYycpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdCk7XG4gICAgICogLy8gPT4geyAnYSc6IFt7ICdiJzoge30gfV0gfTtcbiAgICAgKlxuICAgICAqIF8udW5zZXQob2JqZWN0LCBbJ2EnLCAnMCcsICdiJywgJ2MnXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogY29uc29sZS5sb2cob2JqZWN0KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogW3sgJ2InOiB7fSB9XSB9O1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuc2V0KG9iamVjdCwgcGF0aCkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdHJ1ZSA6IGJhc2VVbnNldChvYmplY3QsIHBhdGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uc2V0YCBleGNlcHQgdGhhdCBhY2NlcHRzIGB1cGRhdGVyYCB0byBwcm9kdWNlIHRoZVxuICAgICAqIHZhbHVlIHRvIHNldC4gVXNlIGBfLnVwZGF0ZVdpdGhgIHRvIGN1c3RvbWl6ZSBgcGF0aGAgY3JlYXRpb24uIFRoZSBgdXBkYXRlcmBcbiAgICAgKiBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC42LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHVwZGF0ZXIgVGhlIGZ1bmN0aW9uIHRvIHByb2R1Y2UgdGhlIHVwZGF0ZWQgdmFsdWUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbeyAnYic6IHsgJ2MnOiAzIH0gfV0gfTtcbiAgICAgKlxuICAgICAqIF8udXBkYXRlKG9iamVjdCwgJ2FbMF0uYi5jJywgZnVuY3Rpb24obikgeyByZXR1cm4gbiAqIG47IH0pO1xuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdC5hWzBdLmIuYyk7XG4gICAgICogLy8gPT4gOVxuICAgICAqXG4gICAgICogXy51cGRhdGUob2JqZWN0LCAneFswXS55LnonLCBmdW5jdGlvbihuKSB7IHJldHVybiBuID8gbiArIDEgOiAwOyB9KTtcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3QueFswXS55LnopO1xuICAgICAqIC8vID0+IDBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1cGRhdGUob2JqZWN0LCBwYXRoLCB1cGRhdGVyKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBvYmplY3QgOiBiYXNlVXBkYXRlKG9iamVjdCwgcGF0aCwgY2FzdEZ1bmN0aW9uKHVwZGF0ZXIpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnVwZGF0ZWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIHRvIHByb2R1Y2UgdGhlIG9iamVjdHMgb2YgYHBhdGhgLiAgSWYgYGN1c3RvbWl6ZXJgIHJldHVybnMgYHVuZGVmaW5lZGBcbiAgICAgKiBwYXRoIGNyZWF0aW9uIGlzIGhhbmRsZWQgYnkgdGhlIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHRocmVlIGFyZ3VtZW50czogKG5zVmFsdWUsIGtleSwgbnNPYmplY3QpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC42LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHVwZGF0ZXIgVGhlIGZ1bmN0aW9uIHRvIHByb2R1Y2UgdGhlIHVwZGF0ZWQgdmFsdWUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgYXNzaWduZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7fTtcbiAgICAgKlxuICAgICAqIF8udXBkYXRlV2l0aChvYmplY3QsICdbMF1bMV0nLCBfLmNvbnN0YW50KCdhJyksIE9iamVjdCk7XG4gICAgICogLy8gPT4geyAnMCc6IHsgJzEnOiAnYScgfSB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gdXBkYXRlV2l0aChvYmplY3QsIHBhdGgsIHVwZGF0ZXIsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGN1c3RvbWl6ZXIgPSB0eXBlb2YgY3VzdG9taXplciA9PSAnZnVuY3Rpb24nID8gY3VzdG9taXplciA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IG9iamVjdCA6IGJhc2VVcGRhdGUob2JqZWN0LCBwYXRoLCBjYXN0RnVuY3Rpb24odXBkYXRlciksIGN1c3RvbWl6ZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0eSB2YWx1ZXMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogTm9uLW9iamVjdCB2YWx1ZXMgYXJlIGNvZXJjZWQgdG8gb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLnZhbHVlcyhuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiBbMSwgMl0gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKlxuICAgICAqIF8udmFsdWVzKCdoaScpO1xuICAgICAqIC8vID0+IFsnaCcsICdpJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB2YWx1ZXMob2JqZWN0KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBbXSA6IGJhc2VWYWx1ZXMob2JqZWN0LCBrZXlzKG9iamVjdCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnR5XG4gICAgICogdmFsdWVzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIE5vbi1vYmplY3QgdmFsdWVzIGFyZSBjb2VyY2VkIHRvIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy52YWx1ZXNJbihuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM10gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB2YWx1ZXNJbihvYmplY3QpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IFtdIDogYmFzZVZhbHVlcyhvYmplY3QsIGtleXNJbihvYmplY3QpKTtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDbGFtcHMgYG51bWJlcmAgd2l0aGluIHRoZSBpbmNsdXNpdmUgYGxvd2VyYCBhbmQgYHVwcGVyYCBib3VuZHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTnVtYmVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIGNsYW1wLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbG93ZXJdIFRoZSBsb3dlciBib3VuZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdXBwZXIgVGhlIHVwcGVyIGJvdW5kLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNsYW1wZWQgbnVtYmVyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNsYW1wKC0xMCwgLTUsIDUpO1xuICAgICAqIC8vID0+IC01XG4gICAgICpcbiAgICAgKiBfLmNsYW1wKDEwLCAtNSwgNSk7XG4gICAgICogLy8gPT4gNVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsYW1wKG51bWJlciwgbG93ZXIsIHVwcGVyKSB7XG4gICAgICBpZiAodXBwZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB1cHBlciA9IGxvd2VyO1xuICAgICAgICBsb3dlciA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIGlmICh1cHBlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHVwcGVyID0gdG9OdW1iZXIodXBwZXIpO1xuICAgICAgICB1cHBlciA9IHVwcGVyID09PSB1cHBlciA/IHVwcGVyIDogMDtcbiAgICAgIH1cbiAgICAgIGlmIChsb3dlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGxvd2VyID0gdG9OdW1iZXIobG93ZXIpO1xuICAgICAgICBsb3dlciA9IGxvd2VyID09PSBsb3dlciA/IGxvd2VyIDogMDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlQ2xhbXAodG9OdW1iZXIobnVtYmVyKSwgbG93ZXIsIHVwcGVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYG5gIGlzIGJldHdlZW4gYHN0YXJ0YCBhbmQgdXAgdG8sIGJ1dCBub3QgaW5jbHVkaW5nLCBgZW5kYC4gSWZcbiAgICAgKiBgZW5kYCBpcyBub3Qgc3BlY2lmaWVkLCBpdCdzIHNldCB0byBgc3RhcnRgIHdpdGggYHN0YXJ0YCB0aGVuIHNldCB0byBgMGAuXG4gICAgICogSWYgYHN0YXJ0YCBpcyBncmVhdGVyIHRoYW4gYGVuZGAgdGhlIHBhcmFtcyBhcmUgc3dhcHBlZCB0byBzdXBwb3J0XG4gICAgICogbmVnYXRpdmUgcmFuZ2VzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMy4wXG4gICAgICogQGNhdGVnb3J5IE51bWJlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBudW1iZXIgVGhlIG51bWJlciB0byBjaGVjay5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBUaGUgZW5kIG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYG51bWJlcmAgaXMgaW4gdGhlIHJhbmdlLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQHNlZSBfLnJhbmdlLCBfLnJhbmdlUmlnaHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pblJhbmdlKDMsIDIsIDQpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaW5SYW5nZSg0LCA4KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmluUmFuZ2UoNCwgMik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaW5SYW5nZSgyLCAyKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pblJhbmdlKDEuMiwgMik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pblJhbmdlKDUuMiwgNCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaW5SYW5nZSgtMywgLTIsIC02KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5SYW5nZShudW1iZXIsIHN0YXJ0LCBlbmQpIHtcbiAgICAgIHN0YXJ0ID0gdG9GaW5pdGUoc3RhcnQpO1xuICAgICAgaWYgKGVuZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGVuZCA9IHN0YXJ0O1xuICAgICAgICBzdGFydCA9IDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbmQgPSB0b0Zpbml0ZShlbmQpO1xuICAgICAgfVxuICAgICAgbnVtYmVyID0gdG9OdW1iZXIobnVtYmVyKTtcbiAgICAgIHJldHVybiBiYXNlSW5SYW5nZShudW1iZXIsIHN0YXJ0LCBlbmQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFByb2R1Y2VzIGEgcmFuZG9tIG51bWJlciBiZXR3ZWVuIHRoZSBpbmNsdXNpdmUgYGxvd2VyYCBhbmQgYHVwcGVyYCBib3VuZHMuXG4gICAgICogSWYgb25seSBvbmUgYXJndW1lbnQgaXMgcHJvdmlkZWQgYSBudW1iZXIgYmV0d2VlbiBgMGAgYW5kIHRoZSBnaXZlbiBudW1iZXJcbiAgICAgKiBpcyByZXR1cm5lZC4gSWYgYGZsb2F0aW5nYCBpcyBgdHJ1ZWAsIG9yIGVpdGhlciBgbG93ZXJgIG9yIGB1cHBlcmAgYXJlXG4gICAgICogZmxvYXRzLCBhIGZsb2F0aW5nLXBvaW50IG51bWJlciBpcyByZXR1cm5lZCBpbnN0ZWFkIG9mIGFuIGludGVnZXIuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogSmF2YVNjcmlwdCBmb2xsb3dzIHRoZSBJRUVFLTc1NCBzdGFuZGFyZCBmb3IgcmVzb2x2aW5nXG4gICAgICogZmxvYXRpbmctcG9pbnQgdmFsdWVzIHdoaWNoIGNhbiBwcm9kdWNlIHVuZXhwZWN0ZWQgcmVzdWx0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjcuMFxuICAgICAqIEBjYXRlZ29yeSBOdW1iZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xvd2VyPTBdIFRoZSBsb3dlciBib3VuZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3VwcGVyPTFdIFRoZSB1cHBlciBib3VuZC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmbG9hdGluZ10gU3BlY2lmeSByZXR1cm5pbmcgYSBmbG9hdGluZy1wb2ludCBudW1iZXIuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcmFuZG9tIG51bWJlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5yYW5kb20oMCwgNSk7XG4gICAgICogLy8gPT4gYW4gaW50ZWdlciBiZXR3ZWVuIDAgYW5kIDVcbiAgICAgKlxuICAgICAqIF8ucmFuZG9tKDUpO1xuICAgICAqIC8vID0+IGFsc28gYW4gaW50ZWdlciBiZXR3ZWVuIDAgYW5kIDVcbiAgICAgKlxuICAgICAqIF8ucmFuZG9tKDUsIHRydWUpO1xuICAgICAqIC8vID0+IGEgZmxvYXRpbmctcG9pbnQgbnVtYmVyIGJldHdlZW4gMCBhbmQgNVxuICAgICAqXG4gICAgICogXy5yYW5kb20oMS4yLCA1LjIpO1xuICAgICAqIC8vID0+IGEgZmxvYXRpbmctcG9pbnQgbnVtYmVyIGJldHdlZW4gMS4yIGFuZCA1LjJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByYW5kb20obG93ZXIsIHVwcGVyLCBmbG9hdGluZykge1xuICAgICAgaWYgKGZsb2F0aW5nICYmIHR5cGVvZiBmbG9hdGluZyAhPSAnYm9vbGVhbicgJiYgaXNJdGVyYXRlZUNhbGwobG93ZXIsIHVwcGVyLCBmbG9hdGluZykpIHtcbiAgICAgICAgdXBwZXIgPSBmbG9hdGluZyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIGlmIChmbG9hdGluZyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdXBwZXIgPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgZmxvYXRpbmcgPSB1cHBlcjtcbiAgICAgICAgICB1cHBlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgbG93ZXIgPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgZmxvYXRpbmcgPSBsb3dlcjtcbiAgICAgICAgICBsb3dlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGxvd2VyID09PSB1bmRlZmluZWQgJiYgdXBwZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBsb3dlciA9IDA7XG4gICAgICAgIHVwcGVyID0gMTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBsb3dlciA9IHRvRmluaXRlKGxvd2VyKTtcbiAgICAgICAgaWYgKHVwcGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB1cHBlciA9IGxvd2VyO1xuICAgICAgICAgIGxvd2VyID0gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB1cHBlciA9IHRvRmluaXRlKHVwcGVyKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGxvd2VyID4gdXBwZXIpIHtcbiAgICAgICAgdmFyIHRlbXAgPSBsb3dlcjtcbiAgICAgICAgbG93ZXIgPSB1cHBlcjtcbiAgICAgICAgdXBwZXIgPSB0ZW1wO1xuICAgICAgfVxuICAgICAgaWYgKGZsb2F0aW5nIHx8IGxvd2VyICUgMSB8fCB1cHBlciAlIDEpIHtcbiAgICAgICAgdmFyIHJhbmQgPSBuYXRpdmVSYW5kb20oKTtcbiAgICAgICAgcmV0dXJuIG5hdGl2ZU1pbihsb3dlciArIChyYW5kICogKHVwcGVyIC0gbG93ZXIgKyBmcmVlUGFyc2VGbG9hdCgnMWUtJyArICgocmFuZCArICcnKS5sZW5ndGggLSAxKSkpKSwgdXBwZXIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VSYW5kb20obG93ZXIsIHVwcGVyKTtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0byBbY2FtZWwgY2FzZV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ2FtZWxDYXNlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNhbWVsIGNhc2VkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5jYW1lbENhc2UoJ0ZvbyBCYXInKTtcbiAgICAgKiAvLyA9PiAnZm9vQmFyJ1xuICAgICAqXG4gICAgICogXy5jYW1lbENhc2UoJy0tZm9vLWJhci0tJyk7XG4gICAgICogLy8gPT4gJ2Zvb0JhcidcbiAgICAgKlxuICAgICAqIF8uY2FtZWxDYXNlKCdfX0ZPT19CQVJfXycpO1xuICAgICAqIC8vID0+ICdmb29CYXInXG4gICAgICovXG4gICAgdmFyIGNhbWVsQ2FzZSA9IGNyZWF0ZUNvbXBvdW5kZXIoZnVuY3Rpb24ocmVzdWx0LCB3b3JkLCBpbmRleCkge1xuICAgICAgd29yZCA9IHdvcmQudG9Mb3dlckNhc2UoKTtcbiAgICAgIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyBjYXBpdGFsaXplKHdvcmQpIDogd29yZCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0aGUgZmlyc3QgY2hhcmFjdGVyIG9mIGBzdHJpbmdgIHRvIHVwcGVyIGNhc2UgYW5kIHRoZSByZW1haW5pbmdcbiAgICAgKiB0byBsb3dlciBjYXNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNhcGl0YWxpemUuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY2FwaXRhbGl6ZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNhcGl0YWxpemUoJ0ZSRUQnKTtcbiAgICAgKiAvLyA9PiAnRnJlZCdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjYXBpdGFsaXplKHN0cmluZykge1xuICAgICAgcmV0dXJuIHVwcGVyRmlyc3QodG9TdHJpbmcoc3RyaW5nKS50b0xvd2VyQ2FzZSgpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZWJ1cnJzIGBzdHJpbmdgIGJ5IGNvbnZlcnRpbmdcbiAgICAgKiBbTGF0aW4tMSBTdXBwbGVtZW50XShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MYXRpbi0xX1N1cHBsZW1lbnRfKFVuaWNvZGVfYmxvY2spI0NoYXJhY3Rlcl90YWJsZSlcbiAgICAgKiBhbmQgW0xhdGluIEV4dGVuZGVkLUFdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xhdGluX0V4dGVuZGVkLUEpXG4gICAgICogbGV0dGVycyB0byBiYXNpYyBMYXRpbiBsZXR0ZXJzIGFuZCByZW1vdmluZ1xuICAgICAqIFtjb21iaW5pbmcgZGlhY3JpdGljYWwgbWFya3NdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NvbWJpbmluZ19EaWFjcml0aWNhbF9NYXJrcykuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gZGVidXJyLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGRlYnVycmVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kZWJ1cnIoJ2RcdTAwRTlqXHUwMEUwIHZ1Jyk7XG4gICAgICogLy8gPT4gJ2RlamEgdnUnXG4gICAgICovXG4gICAgZnVuY3Rpb24gZGVidXJyKHN0cmluZykge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIHJldHVybiBzdHJpbmcgJiYgc3RyaW5nLnJlcGxhY2UocmVMYXRpbiwgZGVidXJyTGV0dGVyKS5yZXBsYWNlKHJlQ29tYm9NYXJrLCAnJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBzdHJpbmdgIGVuZHMgd2l0aCB0aGUgZ2l2ZW4gdGFyZ2V0IHN0cmluZy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbdGFyZ2V0XSBUaGUgc3RyaW5nIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwb3NpdGlvbj1zdHJpbmcubGVuZ3RoXSBUaGUgcG9zaXRpb24gdG8gc2VhcmNoIHVwIHRvLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgc3RyaW5nYCBlbmRzIHdpdGggYHRhcmdldGAsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5lbmRzV2l0aCgnYWJjJywgJ2MnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmVuZHNXaXRoKCdhYmMnLCAnYicpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmVuZHNXaXRoKCdhYmMnLCAnYicsIDIpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlbmRzV2l0aChzdHJpbmcsIHRhcmdldCwgcG9zaXRpb24pIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICB0YXJnZXQgPSBiYXNlVG9TdHJpbmcodGFyZ2V0KTtcblxuICAgICAgdmFyIGxlbmd0aCA9IHN0cmluZy5sZW5ndGg7XG4gICAgICBwb3NpdGlvbiA9IHBvc2l0aW9uID09PSB1bmRlZmluZWRcbiAgICAgICAgPyBsZW5ndGhcbiAgICAgICAgOiBiYXNlQ2xhbXAodG9JbnRlZ2VyKHBvc2l0aW9uKSwgMCwgbGVuZ3RoKTtcblxuICAgICAgdmFyIGVuZCA9IHBvc2l0aW9uO1xuICAgICAgcG9zaXRpb24gLT0gdGFyZ2V0Lmxlbmd0aDtcbiAgICAgIHJldHVybiBwb3NpdGlvbiA+PSAwICYmIHN0cmluZy5zbGljZShwb3NpdGlvbiwgZW5kKSA9PSB0YXJnZXQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgdGhlIGNoYXJhY3RlcnMgXCImXCIsIFwiPFwiLCBcIj5cIiwgJ1wiJywgYW5kIFwiJ1wiIGluIGBzdHJpbmdgIHRvIHRoZWlyXG4gICAgICogY29ycmVzcG9uZGluZyBIVE1MIGVudGl0aWVzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIE5vIG90aGVyIGNoYXJhY3RlcnMgYXJlIGVzY2FwZWQuIFRvIGVzY2FwZSBhZGRpdGlvbmFsXG4gICAgICogY2hhcmFjdGVycyB1c2UgYSB0aGlyZC1wYXJ0eSBsaWJyYXJ5IGxpa2UgW19oZV9dKGh0dHBzOi8vbXRocy5iZS9oZSkuXG4gICAgICpcbiAgICAgKiBUaG91Z2ggdGhlIFwiPlwiIGNoYXJhY3RlciBpcyBlc2NhcGVkIGZvciBzeW1tZXRyeSwgY2hhcmFjdGVycyBsaWtlXG4gICAgICogXCI+XCIgYW5kIFwiL1wiIGRvbid0IG5lZWQgZXNjYXBpbmcgaW4gSFRNTCBhbmQgaGF2ZSBubyBzcGVjaWFsIG1lYW5pbmdcbiAgICAgKiB1bmxlc3MgdGhleSdyZSBwYXJ0IG9mIGEgdGFnIG9yIHVucXVvdGVkIGF0dHJpYnV0ZSB2YWx1ZS4gU2VlXG4gICAgICogW01hdGhpYXMgQnluZW5zJ3MgYXJ0aWNsZV0oaHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2FtYmlndW91cy1hbXBlcnNhbmRzKVxuICAgICAqICh1bmRlciBcInNlbWktcmVsYXRlZCBmdW4gZmFjdFwiKSBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqXG4gICAgICogV2hlbiB3b3JraW5nIHdpdGggSFRNTCB5b3Ugc2hvdWxkIGFsd2F5c1xuICAgICAqIFtxdW90ZSBhdHRyaWJ1dGUgdmFsdWVzXShodHRwOi8vd29ua28uY29tL3Bvc3QvaHRtbC1lc2NhcGluZykgdG8gcmVkdWNlXG4gICAgICogWFNTIHZlY3RvcnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gZXNjYXBlLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGVzY2FwZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmVzY2FwZSgnZnJlZCwgYmFybmV5LCAmIHBlYmJsZXMnKTtcbiAgICAgKiAvLyA9PiAnZnJlZCwgYmFybmV5LCAmYW1wOyBwZWJibGVzJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVzY2FwZShzdHJpbmcpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICByZXR1cm4gKHN0cmluZyAmJiByZUhhc1VuZXNjYXBlZEh0bWwudGVzdChzdHJpbmcpKVxuICAgICAgICA/IHN0cmluZy5yZXBsYWNlKHJlVW5lc2NhcGVkSHRtbCwgZXNjYXBlSHRtbENoYXIpXG4gICAgICAgIDogc3RyaW5nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVzY2FwZXMgdGhlIGBSZWdFeHBgIHNwZWNpYWwgY2hhcmFjdGVycyBcIl5cIiwgXCIkXCIsIFwiXFxcIiwgXCIuXCIsIFwiKlwiLCBcIitcIixcbiAgICAgKiBcIj9cIiwgXCIoXCIsIFwiKVwiLCBcIltcIiwgXCJdXCIsIFwie1wiLCBcIn1cIiwgYW5kIFwifFwiIGluIGBzdHJpbmdgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGVzY2FwZS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBlc2NhcGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5lc2NhcGVSZWdFeHAoJ1tsb2Rhc2hdKGh0dHBzOi8vbG9kYXNoLmNvbS8pJyk7XG4gICAgICogLy8gPT4gJ1xcW2xvZGFzaFxcXVxcKGh0dHBzOi8vbG9kYXNoXFwuY29tL1xcKSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlc2NhcGVSZWdFeHAoc3RyaW5nKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgcmV0dXJuIChzdHJpbmcgJiYgcmVIYXNSZWdFeHBDaGFyLnRlc3Qoc3RyaW5nKSlcbiAgICAgICAgPyBzdHJpbmcucmVwbGFjZShyZVJlZ0V4cENoYXIsICdcXFxcJCYnKVxuICAgICAgICA6IHN0cmluZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0b1xuICAgICAqIFtrZWJhYiBjYXNlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MZXR0ZXJfY2FzZSNTcGVjaWFsX2Nhc2Vfc3R5bGVzKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGtlYmFiIGNhc2VkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5rZWJhYkNhc2UoJ0ZvbyBCYXInKTtcbiAgICAgKiAvLyA9PiAnZm9vLWJhcidcbiAgICAgKlxuICAgICAqIF8ua2ViYWJDYXNlKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnZm9vLWJhcidcbiAgICAgKlxuICAgICAqIF8ua2ViYWJDYXNlKCdfX0ZPT19CQVJfXycpO1xuICAgICAqIC8vID0+ICdmb28tYmFyJ1xuICAgICAqL1xuICAgIHZhciBrZWJhYkNhc2UgPSBjcmVhdGVDb21wb3VuZGVyKGZ1bmN0aW9uKHJlc3VsdCwgd29yZCwgaW5kZXgpIHtcbiAgICAgIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyAnLScgOiAnJykgKyB3b3JkLnRvTG93ZXJDYXNlKCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCwgYXMgc3BhY2Ugc2VwYXJhdGVkIHdvcmRzLCB0byBsb3dlciBjYXNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgbG93ZXIgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmxvd2VyQ2FzZSgnLS1Gb28tQmFyLS0nKTtcbiAgICAgKiAvLyA9PiAnZm9vIGJhcidcbiAgICAgKlxuICAgICAqIF8ubG93ZXJDYXNlKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnZm9vIGJhcidcbiAgICAgKlxuICAgICAqIF8ubG93ZXJDYXNlKCdfX0ZPT19CQVJfXycpO1xuICAgICAqIC8vID0+ICdmb28gYmFyJ1xuICAgICAqL1xuICAgIHZhciBsb3dlckNhc2UgPSBjcmVhdGVDb21wb3VuZGVyKGZ1bmN0aW9uKHJlc3VsdCwgd29yZCwgaW5kZXgpIHtcbiAgICAgIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyAnICcgOiAnJykgKyB3b3JkLnRvTG93ZXJDYXNlKCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0aGUgZmlyc3QgY2hhcmFjdGVyIG9mIGBzdHJpbmdgIHRvIGxvd2VyIGNhc2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmxvd2VyRmlyc3QoJ0ZyZWQnKTtcbiAgICAgKiAvLyA9PiAnZnJlZCdcbiAgICAgKlxuICAgICAqIF8ubG93ZXJGaXJzdCgnRlJFRCcpO1xuICAgICAqIC8vID0+ICdmUkVEJ1xuICAgICAqL1xuICAgIHZhciBsb3dlckZpcnN0ID0gY3JlYXRlQ2FzZUZpcnN0KCd0b0xvd2VyQ2FzZScpO1xuXG4gICAgLyoqXG4gICAgICogUGFkcyBgc3RyaW5nYCBvbiB0aGUgbGVmdCBhbmQgcmlnaHQgc2lkZXMgaWYgaXQncyBzaG9ydGVyIHRoYW4gYGxlbmd0aGAuXG4gICAgICogUGFkZGluZyBjaGFyYWN0ZXJzIGFyZSB0cnVuY2F0ZWQgaWYgdGhleSBjYW4ndCBiZSBldmVubHkgZGl2aWRlZCBieSBgbGVuZ3RoYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBwYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGg9MF0gVGhlIHBhZGRpbmcgbGVuZ3RoLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcnM9JyAnXSBUaGUgc3RyaW5nIHVzZWQgYXMgcGFkZGluZy5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBwYWRkZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnBhZCgnYWJjJywgOCk7XG4gICAgICogLy8gPT4gJyAgYWJjICAgJ1xuICAgICAqXG4gICAgICogXy5wYWQoJ2FiYycsIDgsICdfLScpO1xuICAgICAqIC8vID0+ICdfLWFiY18tXydcbiAgICAgKlxuICAgICAqIF8ucGFkKCdhYmMnLCAzKTtcbiAgICAgKiAvLyA9PiAnYWJjJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBhZChzdHJpbmcsIGxlbmd0aCwgY2hhcnMpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBsZW5ndGggPSB0b0ludGVnZXIobGVuZ3RoKTtcblxuICAgICAgdmFyIHN0ckxlbmd0aCA9IGxlbmd0aCA/IHN0cmluZ1NpemUoc3RyaW5nKSA6IDA7XG4gICAgICBpZiAoIWxlbmd0aCB8fCBzdHJMZW5ndGggPj0gbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmc7XG4gICAgICB9XG4gICAgICB2YXIgbWlkID0gKGxlbmd0aCAtIHN0ckxlbmd0aCkgLyAyO1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgY3JlYXRlUGFkZGluZyhuYXRpdmVGbG9vcihtaWQpLCBjaGFycykgK1xuICAgICAgICBzdHJpbmcgK1xuICAgICAgICBjcmVhdGVQYWRkaW5nKG5hdGl2ZUNlaWwobWlkKSwgY2hhcnMpXG4gICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBhZHMgYHN0cmluZ2Agb24gdGhlIHJpZ2h0IHNpZGUgaWYgaXQncyBzaG9ydGVyIHRoYW4gYGxlbmd0aGAuIFBhZGRpbmdcbiAgICAgKiBjaGFyYWN0ZXJzIGFyZSB0cnVuY2F0ZWQgaWYgdGhleSBleGNlZWQgYGxlbmd0aGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gcGFkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoPTBdIFRoZSBwYWRkaW5nIGxlbmd0aC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPScgJ10gVGhlIHN0cmluZyB1c2VkIGFzIHBhZGRpbmcuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcGFkZGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5wYWRFbmQoJ2FiYycsIDYpO1xuICAgICAqIC8vID0+ICdhYmMgICAnXG4gICAgICpcbiAgICAgKiBfLnBhZEVuZCgnYWJjJywgNiwgJ18tJyk7XG4gICAgICogLy8gPT4gJ2FiY18tXydcbiAgICAgKlxuICAgICAqIF8ucGFkRW5kKCdhYmMnLCAzKTtcbiAgICAgKiAvLyA9PiAnYWJjJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBhZEVuZChzdHJpbmcsIGxlbmd0aCwgY2hhcnMpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBsZW5ndGggPSB0b0ludGVnZXIobGVuZ3RoKTtcblxuICAgICAgdmFyIHN0ckxlbmd0aCA9IGxlbmd0aCA/IHN0cmluZ1NpemUoc3RyaW5nKSA6IDA7XG4gICAgICByZXR1cm4gKGxlbmd0aCAmJiBzdHJMZW5ndGggPCBsZW5ndGgpXG4gICAgICAgID8gKHN0cmluZyArIGNyZWF0ZVBhZGRpbmcobGVuZ3RoIC0gc3RyTGVuZ3RoLCBjaGFycykpXG4gICAgICAgIDogc3RyaW5nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBhZHMgYHN0cmluZ2Agb24gdGhlIGxlZnQgc2lkZSBpZiBpdCdzIHNob3J0ZXIgdGhhbiBgbGVuZ3RoYC4gUGFkZGluZ1xuICAgICAqIGNoYXJhY3RlcnMgYXJlIHRydW5jYXRlZCBpZiB0aGV5IGV4Y2VlZCBgbGVuZ3RoYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBwYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGg9MF0gVGhlIHBhZGRpbmcgbGVuZ3RoLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcnM9JyAnXSBUaGUgc3RyaW5nIHVzZWQgYXMgcGFkZGluZy5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBwYWRkZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnBhZFN0YXJ0KCdhYmMnLCA2KTtcbiAgICAgKiAvLyA9PiAnICAgYWJjJ1xuICAgICAqXG4gICAgICogXy5wYWRTdGFydCgnYWJjJywgNiwgJ18tJyk7XG4gICAgICogLy8gPT4gJ18tX2FiYydcbiAgICAgKlxuICAgICAqIF8ucGFkU3RhcnQoJ2FiYycsIDMpO1xuICAgICAqIC8vID0+ICdhYmMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gcGFkU3RhcnQoc3RyaW5nLCBsZW5ndGgsIGNoYXJzKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgbGVuZ3RoID0gdG9JbnRlZ2VyKGxlbmd0aCk7XG5cbiAgICAgIHZhciBzdHJMZW5ndGggPSBsZW5ndGggPyBzdHJpbmdTaXplKHN0cmluZykgOiAwO1xuICAgICAgcmV0dXJuIChsZW5ndGggJiYgc3RyTGVuZ3RoIDwgbGVuZ3RoKVxuICAgICAgICA/IChjcmVhdGVQYWRkaW5nKGxlbmd0aCAtIHN0ckxlbmd0aCwgY2hhcnMpICsgc3RyaW5nKVxuICAgICAgICA6IHN0cmluZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0byBhbiBpbnRlZ2VyIG9mIHRoZSBzcGVjaWZpZWQgcmFkaXguIElmIGByYWRpeGAgaXNcbiAgICAgKiBgdW5kZWZpbmVkYCBvciBgMGAsIGEgYHJhZGl4YCBvZiBgMTBgIGlzIHVzZWQgdW5sZXNzIGB2YWx1ZWAgaXMgYVxuICAgICAqIGhleGFkZWNpbWFsLCBpbiB3aGljaCBjYXNlIGEgYHJhZGl4YCBvZiBgMTZgIGlzIHVzZWQuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgYWxpZ25zIHdpdGggdGhlXG4gICAgICogW0VTNSBpbXBsZW1lbnRhdGlvbl0oaHR0cHM6Ly9lczUuZ2l0aHViLmlvLyN4MTUuMS4yLjIpIG9mIGBwYXJzZUludGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyYWRpeD0xMF0gVGhlIHJhZGl4IHRvIGludGVycHJldCBgdmFsdWVgIGJ5LlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY29udmVydGVkIGludGVnZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucGFyc2VJbnQoJzA4Jyk7XG4gICAgICogLy8gPT4gOFxuICAgICAqXG4gICAgICogXy5tYXAoWyc2JywgJzA4JywgJzEwJ10sIF8ucGFyc2VJbnQpO1xuICAgICAqIC8vID0+IFs2LCA4LCAxMF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwYXJzZUludChzdHJpbmcsIHJhZGl4LCBndWFyZCkge1xuICAgICAgaWYgKGd1YXJkIHx8IHJhZGl4ID09IG51bGwpIHtcbiAgICAgICAgcmFkaXggPSAwO1xuICAgICAgfSBlbHNlIGlmIChyYWRpeCkge1xuICAgICAgICByYWRpeCA9ICtyYWRpeDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuYXRpdmVQYXJzZUludCh0b1N0cmluZyhzdHJpbmcpLnJlcGxhY2UocmVUcmltU3RhcnQsICcnKSwgcmFkaXggfHwgMCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVwZWF0cyB0aGUgZ2l2ZW4gc3RyaW5nIGBuYCB0aW1lcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byByZXBlYXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTFdIFRoZSBudW1iZXIgb2YgdGltZXMgdG8gcmVwZWF0IHRoZSBzdHJpbmcuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSByZXBlYXRlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucmVwZWF0KCcqJywgMyk7XG4gICAgICogLy8gPT4gJyoqKidcbiAgICAgKlxuICAgICAqIF8ucmVwZWF0KCdhYmMnLCAyKTtcbiAgICAgKiAvLyA9PiAnYWJjYWJjJ1xuICAgICAqXG4gICAgICogXy5yZXBlYXQoJ2FiYycsIDApO1xuICAgICAqIC8vID0+ICcnXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVwZWF0KHN0cmluZywgbiwgZ3VhcmQpIHtcbiAgICAgIGlmICgoZ3VhcmQgPyBpc0l0ZXJhdGVlQ2FsbChzdHJpbmcsIG4sIGd1YXJkKSA6IG4gPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgbiA9IDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuID0gdG9JbnRlZ2VyKG4pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VSZXBlYXQodG9TdHJpbmcoc3RyaW5nKSwgbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVwbGFjZXMgbWF0Y2hlcyBmb3IgYHBhdHRlcm5gIGluIGBzdHJpbmdgIHdpdGggYHJlcGxhY2VtZW50YC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvblxuICAgICAqIFtgU3RyaW5nI3JlcGxhY2VgXShodHRwczovL21kbi5pby9TdHJpbmcvcmVwbGFjZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7UmVnRXhwfHN0cmluZ30gcGF0dGVybiBUaGUgcGF0dGVybiB0byByZXBsYWNlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258c3RyaW5nfSByZXBsYWNlbWVudCBUaGUgbWF0Y2ggcmVwbGFjZW1lbnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgbW9kaWZpZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnJlcGxhY2UoJ0hpIEZyZWQnLCAnRnJlZCcsICdCYXJuZXknKTtcbiAgICAgKiAvLyA9PiAnSGkgQmFybmV5J1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlcGxhY2UoKSB7XG4gICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgICBzdHJpbmcgPSB0b1N0cmluZyhhcmdzWzBdKTtcblxuICAgICAgcmV0dXJuIGFyZ3MubGVuZ3RoIDwgMyA/IHN0cmluZyA6IHN0cmluZy5yZXBsYWNlKGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgIHRvXG4gICAgICogW3NuYWtlIGNhc2VdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1NuYWtlX2Nhc2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc25ha2UgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNuYWtlQ2FzZSgnRm9vIEJhcicpO1xuICAgICAqIC8vID0+ICdmb29fYmFyJ1xuICAgICAqXG4gICAgICogXy5zbmFrZUNhc2UoJ2Zvb0JhcicpO1xuICAgICAqIC8vID0+ICdmb29fYmFyJ1xuICAgICAqXG4gICAgICogXy5zbmFrZUNhc2UoJy0tRk9PLUJBUi0tJyk7XG4gICAgICogLy8gPT4gJ2Zvb19iYXInXG4gICAgICovXG4gICAgdmFyIHNuYWtlQ2FzZSA9IGNyZWF0ZUNvbXBvdW5kZXIoZnVuY3Rpb24ocmVzdWx0LCB3b3JkLCBpbmRleCkge1xuICAgICAgcmV0dXJuIHJlc3VsdCArIChpbmRleCA/ICdfJyA6ICcnKSArIHdvcmQudG9Mb3dlckNhc2UoKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFNwbGl0cyBgc3RyaW5nYCBieSBgc2VwYXJhdG9yYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvblxuICAgICAqIFtgU3RyaW5nI3NwbGl0YF0oaHR0cHM6Ly9tZG4uaW8vU3RyaW5nL3NwbGl0KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBzcGxpdC5cbiAgICAgKiBAcGFyYW0ge1JlZ0V4cHxzdHJpbmd9IHNlcGFyYXRvciBUaGUgc2VwYXJhdG9yIHBhdHRlcm4gdG8gc3BsaXQgYnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsaW1pdF0gVGhlIGxlbmd0aCB0byB0cnVuY2F0ZSByZXN1bHRzIHRvLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc3RyaW5nIHNlZ21lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNwbGl0KCdhLWItYycsICctJywgMik7XG4gICAgICogLy8gPT4gWydhJywgJ2InXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNwbGl0KHN0cmluZywgc2VwYXJhdG9yLCBsaW1pdCkge1xuICAgICAgaWYgKGxpbWl0ICYmIHR5cGVvZiBsaW1pdCAhPSAnbnVtYmVyJyAmJiBpc0l0ZXJhdGVlQ2FsbChzdHJpbmcsIHNlcGFyYXRvciwgbGltaXQpKSB7XG4gICAgICAgIHNlcGFyYXRvciA9IGxpbWl0ID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgbGltaXQgPSBsaW1pdCA9PT0gdW5kZWZpbmVkID8gTUFYX0FSUkFZX0xFTkdUSCA6IGxpbWl0ID4+PiAwO1xuICAgICAgaWYgKCFsaW1pdCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgaWYgKHN0cmluZyAmJiAoXG4gICAgICAgICAgICB0eXBlb2Ygc2VwYXJhdG9yID09ICdzdHJpbmcnIHx8XG4gICAgICAgICAgICAoc2VwYXJhdG9yICE9IG51bGwgJiYgIWlzUmVnRXhwKHNlcGFyYXRvcikpXG4gICAgICAgICAgKSkge1xuICAgICAgICBzZXBhcmF0b3IgPSBiYXNlVG9TdHJpbmcoc2VwYXJhdG9yKTtcbiAgICAgICAgaWYgKCFzZXBhcmF0b3IgJiYgaGFzVW5pY29kZShzdHJpbmcpKSB7XG4gICAgICAgICAgcmV0dXJuIGNhc3RTbGljZShzdHJpbmdUb0FycmF5KHN0cmluZyksIDAsIGxpbWl0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHN0cmluZy5zcGxpdChzZXBhcmF0b3IsIGxpbWl0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0b1xuICAgICAqIFtzdGFydCBjYXNlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MZXR0ZXJfY2FzZSNTdHlsaXN0aWNfb3Jfc3BlY2lhbGlzZWRfdXNhZ2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMS4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc3RhcnQgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnN0YXJ0Q2FzZSgnLS1mb28tYmFyLS0nKTtcbiAgICAgKiAvLyA9PiAnRm9vIEJhcidcbiAgICAgKlxuICAgICAqIF8uc3RhcnRDYXNlKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnRm9vIEJhcidcbiAgICAgKlxuICAgICAqIF8uc3RhcnRDYXNlKCdfX0ZPT19CQVJfXycpO1xuICAgICAqIC8vID0+ICdGT08gQkFSJ1xuICAgICAqL1xuICAgIHZhciBzdGFydENhc2UgPSBjcmVhdGVDb21wb3VuZGVyKGZ1bmN0aW9uKHJlc3VsdCwgd29yZCwgaW5kZXgpIHtcbiAgICAgIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyAnICcgOiAnJykgKyB1cHBlckZpcnN0KHdvcmQpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBzdHJpbmdgIHN0YXJ0cyB3aXRoIHRoZSBnaXZlbiB0YXJnZXQgc3RyaW5nLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFt0YXJnZXRdIFRoZSBzdHJpbmcgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Bvc2l0aW9uPTBdIFRoZSBwb3NpdGlvbiB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHN0cmluZ2Agc3RhcnRzIHdpdGggYHRhcmdldGAsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zdGFydHNXaXRoKCdhYmMnLCAnYScpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uc3RhcnRzV2l0aCgnYWJjJywgJ2InKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5zdGFydHNXaXRoKCdhYmMnLCAnYicsIDEpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdGFydHNXaXRoKHN0cmluZywgdGFyZ2V0LCBwb3NpdGlvbikge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIHBvc2l0aW9uID0gcG9zaXRpb24gPT0gbnVsbFxuICAgICAgICA/IDBcbiAgICAgICAgOiBiYXNlQ2xhbXAodG9JbnRlZ2VyKHBvc2l0aW9uKSwgMCwgc3RyaW5nLmxlbmd0aCk7XG5cbiAgICAgIHRhcmdldCA9IGJhc2VUb1N0cmluZyh0YXJnZXQpO1xuICAgICAgcmV0dXJuIHN0cmluZy5zbGljZShwb3NpdGlvbiwgcG9zaXRpb24gKyB0YXJnZXQubGVuZ3RoKSA9PSB0YXJnZXQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNvbXBpbGVkIHRlbXBsYXRlIGZ1bmN0aW9uIHRoYXQgY2FuIGludGVycG9sYXRlIGRhdGEgcHJvcGVydGllc1xuICAgICAqIGluIFwiaW50ZXJwb2xhdGVcIiBkZWxpbWl0ZXJzLCBIVE1MLWVzY2FwZSBpbnRlcnBvbGF0ZWQgZGF0YSBwcm9wZXJ0aWVzIGluXG4gICAgICogXCJlc2NhcGVcIiBkZWxpbWl0ZXJzLCBhbmQgZXhlY3V0ZSBKYXZhU2NyaXB0IGluIFwiZXZhbHVhdGVcIiBkZWxpbWl0ZXJzLiBEYXRhXG4gICAgICogcHJvcGVydGllcyBtYXkgYmUgYWNjZXNzZWQgYXMgZnJlZSB2YXJpYWJsZXMgaW4gdGhlIHRlbXBsYXRlLiBJZiBhIHNldHRpbmdcbiAgICAgKiBvYmplY3QgaXMgZ2l2ZW4sIGl0IHRha2VzIHByZWNlZGVuY2Ugb3ZlciBgXy50ZW1wbGF0ZVNldHRpbmdzYCB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogSW4gdGhlIGRldmVsb3BtZW50IGJ1aWxkIGBfLnRlbXBsYXRlYCB1dGlsaXplc1xuICAgICAqIFtzb3VyY2VVUkxzXShodHRwOi8vd3d3Lmh0bWw1cm9ja3MuY29tL2VuL3R1dG9yaWFscy9kZXZlbG9wZXJ0b29scy9zb3VyY2VtYXBzLyN0b2Mtc291cmNldXJsKVxuICAgICAqIGZvciBlYXNpZXIgZGVidWdnaW5nLlxuICAgICAqXG4gICAgICogRm9yIG1vcmUgaW5mb3JtYXRpb24gb24gcHJlY29tcGlsaW5nIHRlbXBsYXRlcyBzZWVcbiAgICAgKiBbbG9kYXNoJ3MgY3VzdG9tIGJ1aWxkcyBkb2N1bWVudGF0aW9uXShodHRwczovL2xvZGFzaC5jb20vY3VzdG9tLWJ1aWxkcykuXG4gICAgICpcbiAgICAgKiBGb3IgbW9yZSBpbmZvcm1hdGlvbiBvbiBDaHJvbWUgZXh0ZW5zaW9uIHNhbmRib3hlcyBzZWVcbiAgICAgKiBbQ2hyb21lJ3MgZXh0ZW5zaW9ucyBkb2N1bWVudGF0aW9uXShodHRwczovL2RldmVsb3Blci5jaHJvbWUuY29tL2V4dGVuc2lvbnMvc2FuZGJveGluZ0V2YWwpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgdGVtcGxhdGUgc3RyaW5nLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7UmVnRXhwfSBbb3B0aW9ucy5lc2NhcGU9Xy50ZW1wbGF0ZVNldHRpbmdzLmVzY2FwZV1cbiAgICAgKiAgVGhlIEhUTUwgXCJlc2NhcGVcIiBkZWxpbWl0ZXIuXG4gICAgICogQHBhcmFtIHtSZWdFeHB9IFtvcHRpb25zLmV2YWx1YXRlPV8udGVtcGxhdGVTZXR0aW5ncy5ldmFsdWF0ZV1cbiAgICAgKiAgVGhlIFwiZXZhbHVhdGVcIiBkZWxpbWl0ZXIuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLmltcG9ydHM9Xy50ZW1wbGF0ZVNldHRpbmdzLmltcG9ydHNdXG4gICAgICogIEFuIG9iamVjdCB0byBpbXBvcnQgaW50byB0aGUgdGVtcGxhdGUgYXMgZnJlZSB2YXJpYWJsZXMuXG4gICAgICogQHBhcmFtIHtSZWdFeHB9IFtvcHRpb25zLmludGVycG9sYXRlPV8udGVtcGxhdGVTZXR0aW5ncy5pbnRlcnBvbGF0ZV1cbiAgICAgKiAgVGhlIFwiaW50ZXJwb2xhdGVcIiBkZWxpbWl0ZXIuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnNvdXJjZVVSTD0nbG9kYXNoLnRlbXBsYXRlU291cmNlc1tuXSddXG4gICAgICogIFRoZSBzb3VyY2VVUkwgb2YgdGhlIGNvbXBpbGVkIHRlbXBsYXRlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy52YXJpYWJsZT0nb2JqJ11cbiAgICAgKiAgVGhlIGRhdGEgb2JqZWN0IHZhcmlhYmxlIG5hbWUuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIGNvbXBpbGVkIHRlbXBsYXRlIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIFwiaW50ZXJwb2xhdGVcIiBkZWxpbWl0ZXIgdG8gY3JlYXRlIGEgY29tcGlsZWQgdGVtcGxhdGUuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnaGVsbG8gPCU9IHVzZXIgJT4hJyk7XG4gICAgICogY29tcGlsZWQoeyAndXNlcic6ICdmcmVkJyB9KTtcbiAgICAgKiAvLyA9PiAnaGVsbG8gZnJlZCEnXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIEhUTUwgXCJlc2NhcGVcIiBkZWxpbWl0ZXIgdG8gZXNjYXBlIGRhdGEgcHJvcGVydHkgdmFsdWVzLlxuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJzxiPjwlLSB2YWx1ZSAlPjwvYj4nKTtcbiAgICAgKiBjb21waWxlZCh7ICd2YWx1ZSc6ICc8c2NyaXB0PicgfSk7XG4gICAgICogLy8gPT4gJzxiPiZsdDtzY3JpcHQmZ3Q7PC9iPidcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgXCJldmFsdWF0ZVwiIGRlbGltaXRlciB0byBleGVjdXRlIEphdmFTY3JpcHQgYW5kIGdlbmVyYXRlIEhUTUwuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnPCUgXy5mb3JFYWNoKHVzZXJzLCBmdW5jdGlvbih1c2VyKSB7ICU+PGxpPjwlLSB1c2VyICU+PC9saT48JSB9KTsgJT4nKTtcbiAgICAgKiBjb21waWxlZCh7ICd1c2Vycyc6IFsnZnJlZCcsICdiYXJuZXknXSB9KTtcbiAgICAgKiAvLyA9PiAnPGxpPmZyZWQ8L2xpPjxsaT5iYXJuZXk8L2xpPidcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgaW50ZXJuYWwgYHByaW50YCBmdW5jdGlvbiBpbiBcImV2YWx1YXRlXCIgZGVsaW1pdGVycy5cbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCc8JSBwcmludChcImhlbGxvIFwiICsgdXNlcik7ICU+IScpO1xuICAgICAqIGNvbXBpbGVkKHsgJ3VzZXInOiAnYmFybmV5JyB9KTtcbiAgICAgKiAvLyA9PiAnaGVsbG8gYmFybmV5ISdcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgRVMgdGVtcGxhdGUgbGl0ZXJhbCBkZWxpbWl0ZXIgYXMgYW4gXCJpbnRlcnBvbGF0ZVwiIGRlbGltaXRlci5cbiAgICAgKiAvLyBEaXNhYmxlIHN1cHBvcnQgYnkgcmVwbGFjaW5nIHRoZSBcImludGVycG9sYXRlXCIgZGVsaW1pdGVyLlxuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJ2hlbGxvICR7IHVzZXIgfSEnKTtcbiAgICAgKiBjb21waWxlZCh7ICd1c2VyJzogJ3BlYmJsZXMnIH0pO1xuICAgICAqIC8vID0+ICdoZWxsbyBwZWJibGVzISdcbiAgICAgKlxuICAgICAqIC8vIFVzZSBiYWNrc2xhc2hlcyB0byB0cmVhdCBkZWxpbWl0ZXJzIGFzIHBsYWluIHRleHQuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnPCU9IFwiXFxcXDwlLSB2YWx1ZSAlXFxcXD5cIiAlPicpO1xuICAgICAqIGNvbXBpbGVkKHsgJ3ZhbHVlJzogJ2lnbm9yZWQnIH0pO1xuICAgICAqIC8vID0+ICc8JS0gdmFsdWUgJT4nXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIGBpbXBvcnRzYCBvcHRpb24gdG8gaW1wb3J0IGBqUXVlcnlgIGFzIGBqcWAuXG4gICAgICogdmFyIHRleHQgPSAnPCUganEuZWFjaCh1c2VycywgZnVuY3Rpb24odXNlcikgeyAlPjxsaT48JS0gdXNlciAlPjwvbGk+PCUgfSk7ICU+JztcbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKHRleHQsIHsgJ2ltcG9ydHMnOiB7ICdqcSc6IGpRdWVyeSB9IH0pO1xuICAgICAqIGNvbXBpbGVkKHsgJ3VzZXJzJzogWydmcmVkJywgJ2Jhcm5leSddIH0pO1xuICAgICAqIC8vID0+ICc8bGk+ZnJlZDwvbGk+PGxpPmJhcm5leTwvbGk+J1xuICAgICAqXG4gICAgICogLy8gVXNlIHRoZSBgc291cmNlVVJMYCBvcHRpb24gdG8gc3BlY2lmeSBhIGN1c3RvbSBzb3VyY2VVUkwgZm9yIHRoZSB0ZW1wbGF0ZS5cbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCdoZWxsbyA8JT0gdXNlciAlPiEnLCB7ICdzb3VyY2VVUkwnOiAnL2Jhc2ljL2dyZWV0aW5nLmpzdCcgfSk7XG4gICAgICogY29tcGlsZWQoZGF0YSk7XG4gICAgICogLy8gPT4gRmluZCB0aGUgc291cmNlIG9mIFwiZ3JlZXRpbmcuanN0XCIgdW5kZXIgdGhlIFNvdXJjZXMgdGFiIG9yIFJlc291cmNlcyBwYW5lbCBvZiB0aGUgd2ViIGluc3BlY3Rvci5cbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgYHZhcmlhYmxlYCBvcHRpb24gdG8gZW5zdXJlIGEgd2l0aC1zdGF0ZW1lbnQgaXNuJ3QgdXNlZCBpbiB0aGUgY29tcGlsZWQgdGVtcGxhdGUuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnaGkgPCU9IGRhdGEudXNlciAlPiEnLCB7ICd2YXJpYWJsZSc6ICdkYXRhJyB9KTtcbiAgICAgKiBjb21waWxlZC5zb3VyY2U7XG4gICAgICogLy8gPT4gZnVuY3Rpb24oZGF0YSkge1xuICAgICAqIC8vICAgdmFyIF9fdCwgX19wID0gJyc7XG4gICAgICogLy8gICBfX3AgKz0gJ2hpICcgKyAoKF9fdCA9ICggZGF0YS51c2VyICkpID09IG51bGwgPyAnJyA6IF9fdCkgKyAnISc7XG4gICAgICogLy8gICByZXR1cm4gX19wO1xuICAgICAqIC8vIH1cbiAgICAgKlxuICAgICAqIC8vIFVzZSBjdXN0b20gdGVtcGxhdGUgZGVsaW1pdGVycy5cbiAgICAgKiBfLnRlbXBsYXRlU2V0dGluZ3MuaW50ZXJwb2xhdGUgPSAve3soW1xcc1xcU10rPyl9fS9nO1xuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJ2hlbGxvIHt7IHVzZXIgfX0hJyk7XG4gICAgICogY29tcGlsZWQoeyAndXNlcic6ICdtdXN0YWNoZScgfSk7XG4gICAgICogLy8gPT4gJ2hlbGxvIG11c3RhY2hlISdcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgYHNvdXJjZWAgcHJvcGVydHkgdG8gaW5saW5lIGNvbXBpbGVkIHRlbXBsYXRlcyBmb3IgbWVhbmluZ2Z1bFxuICAgICAqIC8vIGxpbmUgbnVtYmVycyBpbiBlcnJvciBtZXNzYWdlcyBhbmQgc3RhY2sgdHJhY2VzLlxuICAgICAqIGZzLndyaXRlRmlsZVN5bmMocGF0aC5qb2luKHByb2Nlc3MuY3dkKCksICdqc3QuanMnKSwgJ1xcXG4gICAgICogICB2YXIgSlNUID0ge1xcXG4gICAgICogICAgIFwibWFpblwiOiAnICsgXy50ZW1wbGF0ZShtYWluVGV4dCkuc291cmNlICsgJ1xcXG4gICAgICogICB9O1xcXG4gICAgICogJyk7XG4gICAgICovXG4gICAgZnVuY3Rpb24gdGVtcGxhdGUoc3RyaW5nLCBvcHRpb25zLCBndWFyZCkge1xuICAgICAgLy8gQmFzZWQgb24gSm9obiBSZXNpZydzIGB0bXBsYCBpbXBsZW1lbnRhdGlvblxuICAgICAgLy8gKGh0dHA6Ly9lam9obi5vcmcvYmxvZy9qYXZhc2NyaXB0LW1pY3JvLXRlbXBsYXRpbmcvKVxuICAgICAgLy8gYW5kIExhdXJhIERva3Rvcm92YSdzIGRvVC5qcyAoaHR0cHM6Ly9naXRodWIuY29tL29sYWRvL2RvVCkuXG4gICAgICB2YXIgc2V0dGluZ3MgPSBsb2Rhc2gudGVtcGxhdGVTZXR0aW5ncztcblxuICAgICAgaWYgKGd1YXJkICYmIGlzSXRlcmF0ZWVDYWxsKHN0cmluZywgb3B0aW9ucywgZ3VhcmQpKSB7XG4gICAgICAgIG9wdGlvbnMgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgb3B0aW9ucyA9IGFzc2lnbkluV2l0aCh7fSwgb3B0aW9ucywgc2V0dGluZ3MsIGN1c3RvbURlZmF1bHRzQXNzaWduSW4pO1xuXG4gICAgICB2YXIgaW1wb3J0cyA9IGFzc2lnbkluV2l0aCh7fSwgb3B0aW9ucy5pbXBvcnRzLCBzZXR0aW5ncy5pbXBvcnRzLCBjdXN0b21EZWZhdWx0c0Fzc2lnbkluKSxcbiAgICAgICAgICBpbXBvcnRzS2V5cyA9IGtleXMoaW1wb3J0cyksXG4gICAgICAgICAgaW1wb3J0c1ZhbHVlcyA9IGJhc2VWYWx1ZXMoaW1wb3J0cywgaW1wb3J0c0tleXMpO1xuXG4gICAgICB2YXIgaXNFc2NhcGluZyxcbiAgICAgICAgICBpc0V2YWx1YXRpbmcsXG4gICAgICAgICAgaW5kZXggPSAwLFxuICAgICAgICAgIGludGVycG9sYXRlID0gb3B0aW9ucy5pbnRlcnBvbGF0ZSB8fCByZU5vTWF0Y2gsXG4gICAgICAgICAgc291cmNlID0gXCJfX3AgKz0gJ1wiO1xuXG4gICAgICAvLyBDb21waWxlIHRoZSByZWdleHAgdG8gbWF0Y2ggZWFjaCBkZWxpbWl0ZXIuXG4gICAgICB2YXIgcmVEZWxpbWl0ZXJzID0gUmVnRXhwKFxuICAgICAgICAob3B0aW9ucy5lc2NhcGUgfHwgcmVOb01hdGNoKS5zb3VyY2UgKyAnfCcgK1xuICAgICAgICBpbnRlcnBvbGF0ZS5zb3VyY2UgKyAnfCcgK1xuICAgICAgICAoaW50ZXJwb2xhdGUgPT09IHJlSW50ZXJwb2xhdGUgPyByZUVzVGVtcGxhdGUgOiByZU5vTWF0Y2gpLnNvdXJjZSArICd8JyArXG4gICAgICAgIChvcHRpb25zLmV2YWx1YXRlIHx8IHJlTm9NYXRjaCkuc291cmNlICsgJ3wkJ1xuICAgICAgLCAnZycpO1xuXG4gICAgICAvLyBVc2UgYSBzb3VyY2VVUkwgZm9yIGVhc2llciBkZWJ1Z2dpbmcuXG4gICAgICAvLyBUaGUgc291cmNlVVJMIGdldHMgaW5qZWN0ZWQgaW50byB0aGUgc291cmNlIHRoYXQncyBldmFsLWVkLCBzbyBiZSBjYXJlZnVsXG4gICAgICAvLyB0byBub3JtYWxpemUgYWxsIGtpbmRzIG9mIHdoaXRlc3BhY2UsIHNvIGUuZy4gbmV3bGluZXMgKGFuZCB1bmljb2RlIHZlcnNpb25zIG9mIGl0KSBjYW4ndCBzbmVhayBpblxuICAgICAgLy8gYW5kIGVzY2FwZSB0aGUgY29tbWVudCwgdGh1cyBpbmplY3RpbmcgY29kZSB0aGF0IGdldHMgZXZhbGVkLlxuICAgICAgdmFyIHNvdXJjZVVSTCA9ICcvLyMgc291cmNlVVJMPScgK1xuICAgICAgICAoaGFzT3duUHJvcGVydHkuY2FsbChvcHRpb25zLCAnc291cmNlVVJMJylcbiAgICAgICAgICA/IChvcHRpb25zLnNvdXJjZVVSTCArICcnKS5yZXBsYWNlKC9cXHMvZywgJyAnKVxuICAgICAgICAgIDogKCdsb2Rhc2gudGVtcGxhdGVTb3VyY2VzWycgKyAoKyt0ZW1wbGF0ZUNvdW50ZXIpICsgJ10nKVxuICAgICAgICApICsgJ1xcbic7XG5cbiAgICAgIHN0cmluZy5yZXBsYWNlKHJlRGVsaW1pdGVycywgZnVuY3Rpb24obWF0Y2gsIGVzY2FwZVZhbHVlLCBpbnRlcnBvbGF0ZVZhbHVlLCBlc1RlbXBsYXRlVmFsdWUsIGV2YWx1YXRlVmFsdWUsIG9mZnNldCkge1xuICAgICAgICBpbnRlcnBvbGF0ZVZhbHVlIHx8IChpbnRlcnBvbGF0ZVZhbHVlID0gZXNUZW1wbGF0ZVZhbHVlKTtcblxuICAgICAgICAvLyBFc2NhcGUgY2hhcmFjdGVycyB0aGF0IGNhbid0IGJlIGluY2x1ZGVkIGluIHN0cmluZyBsaXRlcmFscy5cbiAgICAgICAgc291cmNlICs9IHN0cmluZy5zbGljZShpbmRleCwgb2Zmc2V0KS5yZXBsYWNlKHJlVW5lc2NhcGVkU3RyaW5nLCBlc2NhcGVTdHJpbmdDaGFyKTtcblxuICAgICAgICAvLyBSZXBsYWNlIGRlbGltaXRlcnMgd2l0aCBzbmlwcGV0cy5cbiAgICAgICAgaWYgKGVzY2FwZVZhbHVlKSB7XG4gICAgICAgICAgaXNFc2NhcGluZyA9IHRydWU7XG4gICAgICAgICAgc291cmNlICs9IFwiJyArXFxuX19lKFwiICsgZXNjYXBlVmFsdWUgKyBcIikgK1xcbidcIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXZhbHVhdGVWYWx1ZSkge1xuICAgICAgICAgIGlzRXZhbHVhdGluZyA9IHRydWU7XG4gICAgICAgICAgc291cmNlICs9IFwiJztcXG5cIiArIGV2YWx1YXRlVmFsdWUgKyBcIjtcXG5fX3AgKz0gJ1wiO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbnRlcnBvbGF0ZVZhbHVlKSB7XG4gICAgICAgICAgc291cmNlICs9IFwiJyArXFxuKChfX3QgPSAoXCIgKyBpbnRlcnBvbGF0ZVZhbHVlICsgXCIpKSA9PSBudWxsID8gJycgOiBfX3QpICtcXG4nXCI7XG4gICAgICAgIH1cbiAgICAgICAgaW5kZXggPSBvZmZzZXQgKyBtYXRjaC5sZW5ndGg7XG5cbiAgICAgICAgLy8gVGhlIEpTIGVuZ2luZSBlbWJlZGRlZCBpbiBBZG9iZSBwcm9kdWN0cyBuZWVkcyBgbWF0Y2hgIHJldHVybmVkIGluXG4gICAgICAgIC8vIG9yZGVyIHRvIHByb2R1Y2UgdGhlIGNvcnJlY3QgYG9mZnNldGAgdmFsdWUuXG4gICAgICAgIHJldHVybiBtYXRjaDtcbiAgICAgIH0pO1xuXG4gICAgICBzb3VyY2UgKz0gXCInO1xcblwiO1xuXG4gICAgICAvLyBJZiBgdmFyaWFibGVgIGlzIG5vdCBzcGVjaWZpZWQgd3JhcCBhIHdpdGgtc3RhdGVtZW50IGFyb3VuZCB0aGUgZ2VuZXJhdGVkXG4gICAgICAvLyBjb2RlIHRvIGFkZCB0aGUgZGF0YSBvYmplY3QgdG8gdGhlIHRvcCBvZiB0aGUgc2NvcGUgY2hhaW4uXG4gICAgICB2YXIgdmFyaWFibGUgPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKG9wdGlvbnMsICd2YXJpYWJsZScpICYmIG9wdGlvbnMudmFyaWFibGU7XG4gICAgICBpZiAoIXZhcmlhYmxlKSB7XG4gICAgICAgIHNvdXJjZSA9ICd3aXRoIChvYmopIHtcXG4nICsgc291cmNlICsgJ1xcbn1cXG4nO1xuICAgICAgfVxuICAgICAgLy8gVGhyb3cgYW4gZXJyb3IgaWYgYSBmb3JiaWRkZW4gY2hhcmFjdGVyIHdhcyBmb3VuZCBpbiBgdmFyaWFibGVgLCB0byBwcmV2ZW50XG4gICAgICAvLyBwb3RlbnRpYWwgY29tbWFuZCBpbmplY3Rpb24gYXR0YWNrcy5cbiAgICAgIGVsc2UgaWYgKHJlRm9yYmlkZGVuSWRlbnRpZmllckNoYXJzLnRlc3QodmFyaWFibGUpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihJTlZBTElEX1RFTVBMX1ZBUl9FUlJPUl9URVhUKTtcbiAgICAgIH1cblxuICAgICAgLy8gQ2xlYW51cCBjb2RlIGJ5IHN0cmlwcGluZyBlbXB0eSBzdHJpbmdzLlxuICAgICAgc291cmNlID0gKGlzRXZhbHVhdGluZyA/IHNvdXJjZS5yZXBsYWNlKHJlRW1wdHlTdHJpbmdMZWFkaW5nLCAnJykgOiBzb3VyY2UpXG4gICAgICAgIC5yZXBsYWNlKHJlRW1wdHlTdHJpbmdNaWRkbGUsICckMScpXG4gICAgICAgIC5yZXBsYWNlKHJlRW1wdHlTdHJpbmdUcmFpbGluZywgJyQxOycpO1xuXG4gICAgICAvLyBGcmFtZSBjb2RlIGFzIHRoZSBmdW5jdGlvbiBib2R5LlxuICAgICAgc291cmNlID0gJ2Z1bmN0aW9uKCcgKyAodmFyaWFibGUgfHwgJ29iaicpICsgJykge1xcbicgK1xuICAgICAgICAodmFyaWFibGVcbiAgICAgICAgICA/ICcnXG4gICAgICAgICAgOiAnb2JqIHx8IChvYmogPSB7fSk7XFxuJ1xuICAgICAgICApICtcbiAgICAgICAgXCJ2YXIgX190LCBfX3AgPSAnJ1wiICtcbiAgICAgICAgKGlzRXNjYXBpbmdcbiAgICAgICAgICAgPyAnLCBfX2UgPSBfLmVzY2FwZSdcbiAgICAgICAgICAgOiAnJ1xuICAgICAgICApICtcbiAgICAgICAgKGlzRXZhbHVhdGluZ1xuICAgICAgICAgID8gJywgX19qID0gQXJyYXkucHJvdG90eXBlLmpvaW47XFxuJyArXG4gICAgICAgICAgICBcImZ1bmN0aW9uIHByaW50KCkgeyBfX3AgKz0gX19qLmNhbGwoYXJndW1lbnRzLCAnJykgfVxcblwiXG4gICAgICAgICAgOiAnO1xcbidcbiAgICAgICAgKSArXG4gICAgICAgIHNvdXJjZSArXG4gICAgICAgICdyZXR1cm4gX19wXFxufSc7XG5cbiAgICAgIHZhciByZXN1bHQgPSBhdHRlbXB0KGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gRnVuY3Rpb24oaW1wb3J0c0tleXMsIHNvdXJjZVVSTCArICdyZXR1cm4gJyArIHNvdXJjZSlcbiAgICAgICAgICAuYXBwbHkodW5kZWZpbmVkLCBpbXBvcnRzVmFsdWVzKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBQcm92aWRlIHRoZSBjb21waWxlZCBmdW5jdGlvbidzIHNvdXJjZSBieSBpdHMgYHRvU3RyaW5nYCBtZXRob2Qgb3JcbiAgICAgIC8vIHRoZSBgc291cmNlYCBwcm9wZXJ0eSBhcyBhIGNvbnZlbmllbmNlIGZvciBpbmxpbmluZyBjb21waWxlZCB0ZW1wbGF0ZXMuXG4gICAgICByZXN1bHQuc291cmNlID0gc291cmNlO1xuICAgICAgaWYgKGlzRXJyb3IocmVzdWx0KSkge1xuICAgICAgICB0aHJvdyByZXN1bHQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgLCBhcyBhIHdob2xlLCB0byBsb3dlciBjYXNlIGp1c3QgbGlrZVxuICAgICAqIFtTdHJpbmcjdG9Mb3dlckNhc2VdKGh0dHBzOi8vbWRuLmlvL3RvTG93ZXJDYXNlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGxvd2VyIGNhc2VkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b0xvd2VyKCctLUZvby1CYXItLScpO1xuICAgICAqIC8vID0+ICctLWZvby1iYXItLSdcbiAgICAgKlxuICAgICAqIF8udG9Mb3dlcignZm9vQmFyJyk7XG4gICAgICogLy8gPT4gJ2Zvb2JhcidcbiAgICAgKlxuICAgICAqIF8udG9Mb3dlcignX19GT09fQkFSX18nKTtcbiAgICAgKiAvLyA9PiAnX19mb29fYmFyX18nXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9Mb3dlcih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRvU3RyaW5nKHZhbHVlKS50b0xvd2VyQ2FzZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgLCBhcyBhIHdob2xlLCB0byB1cHBlciBjYXNlIGp1c3QgbGlrZVxuICAgICAqIFtTdHJpbmcjdG9VcHBlckNhc2VdKGh0dHBzOi8vbWRuLmlvL3RvVXBwZXJDYXNlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHVwcGVyIGNhc2VkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b1VwcGVyKCctLWZvby1iYXItLScpO1xuICAgICAqIC8vID0+ICctLUZPTy1CQVItLSdcbiAgICAgKlxuICAgICAqIF8udG9VcHBlcignZm9vQmFyJyk7XG4gICAgICogLy8gPT4gJ0ZPT0JBUidcbiAgICAgKlxuICAgICAqIF8udG9VcHBlcignX19mb29fYmFyX18nKTtcbiAgICAgKiAvLyA9PiAnX19GT09fQkFSX18nXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9VcHBlcih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRvU3RyaW5nKHZhbHVlKS50b1VwcGVyQ2FzZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgbGVhZGluZyBhbmQgdHJhaWxpbmcgd2hpdGVzcGFjZSBvciBzcGVjaWZpZWQgY2hhcmFjdGVycyBmcm9tIGBzdHJpbmdgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIHRyaW0uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtjaGFycz13aGl0ZXNwYWNlXSBUaGUgY2hhcmFjdGVycyB0byB0cmltLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdHJpbW1lZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udHJpbSgnICBhYmMgICcpO1xuICAgICAqIC8vID0+ICdhYmMnXG4gICAgICpcbiAgICAgKiBfLnRyaW0oJy1fLWFiYy1fLScsICdfLScpO1xuICAgICAqIC8vID0+ICdhYmMnXG4gICAgICpcbiAgICAgKiBfLm1hcChbJyAgZm9vICAnLCAnICBiYXIgICddLCBfLnRyaW0pO1xuICAgICAqIC8vID0+IFsnZm9vJywgJ2JhciddXG4gICAgICovXG4gICAgZnVuY3Rpb24gdHJpbShzdHJpbmcsIGNoYXJzLCBndWFyZCkge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIGlmIChzdHJpbmcgJiYgKGd1YXJkIHx8IGNoYXJzID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgIHJldHVybiBiYXNlVHJpbShzdHJpbmcpO1xuICAgICAgfVxuICAgICAgaWYgKCFzdHJpbmcgfHwgIShjaGFycyA9IGJhc2VUb1N0cmluZyhjaGFycykpKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmc7XG4gICAgICB9XG4gICAgICB2YXIgc3RyU3ltYm9scyA9IHN0cmluZ1RvQXJyYXkoc3RyaW5nKSxcbiAgICAgICAgICBjaHJTeW1ib2xzID0gc3RyaW5nVG9BcnJheShjaGFycyksXG4gICAgICAgICAgc3RhcnQgPSBjaGFyc1N0YXJ0SW5kZXgoc3RyU3ltYm9scywgY2hyU3ltYm9scyksXG4gICAgICAgICAgZW5kID0gY2hhcnNFbmRJbmRleChzdHJTeW1ib2xzLCBjaHJTeW1ib2xzKSArIDE7XG5cbiAgICAgIHJldHVybiBjYXN0U2xpY2Uoc3RyU3ltYm9scywgc3RhcnQsIGVuZCkuam9pbignJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0cmFpbGluZyB3aGl0ZXNwYWNlIG9yIHNwZWNpZmllZCBjaGFyYWN0ZXJzIGZyb20gYHN0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gdHJpbS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPXdoaXRlc3BhY2VdIFRoZSBjaGFyYWN0ZXJzIHRvIHRyaW0uXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB0cmltbWVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50cmltRW5kKCcgIGFiYyAgJyk7XG4gICAgICogLy8gPT4gJyAgYWJjJ1xuICAgICAqXG4gICAgICogXy50cmltRW5kKCctXy1hYmMtXy0nLCAnXy0nKTtcbiAgICAgKiAvLyA9PiAnLV8tYWJjJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRyaW1FbmQoc3RyaW5nLCBjaGFycywgZ3VhcmQpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBpZiAoc3RyaW5nICYmIChndWFyZCB8fCBjaGFycyA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICByZXR1cm4gc3RyaW5nLnNsaWNlKDAsIHRyaW1tZWRFbmRJbmRleChzdHJpbmcpICsgMSk7XG4gICAgICB9XG4gICAgICBpZiAoIXN0cmluZyB8fCAhKGNoYXJzID0gYmFzZVRvU3RyaW5nKGNoYXJzKSkpIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZztcbiAgICAgIH1cbiAgICAgIHZhciBzdHJTeW1ib2xzID0gc3RyaW5nVG9BcnJheShzdHJpbmcpLFxuICAgICAgICAgIGVuZCA9IGNoYXJzRW5kSW5kZXgoc3RyU3ltYm9scywgc3RyaW5nVG9BcnJheShjaGFycykpICsgMTtcblxuICAgICAgcmV0dXJuIGNhc3RTbGljZShzdHJTeW1ib2xzLCAwLCBlbmQpLmpvaW4oJycpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgbGVhZGluZyB3aGl0ZXNwYWNlIG9yIHNwZWNpZmllZCBjaGFyYWN0ZXJzIGZyb20gYHN0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gdHJpbS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPXdoaXRlc3BhY2VdIFRoZSBjaGFyYWN0ZXJzIHRvIHRyaW0uXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB0cmltbWVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50cmltU3RhcnQoJyAgYWJjICAnKTtcbiAgICAgKiAvLyA9PiAnYWJjICAnXG4gICAgICpcbiAgICAgKiBfLnRyaW1TdGFydCgnLV8tYWJjLV8tJywgJ18tJyk7XG4gICAgICogLy8gPT4gJ2FiYy1fLSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0cmltU3RhcnQoc3RyaW5nLCBjaGFycywgZ3VhcmQpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBpZiAoc3RyaW5nICYmIChndWFyZCB8fCBjaGFycyA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2UocmVUcmltU3RhcnQsICcnKTtcbiAgICAgIH1cbiAgICAgIGlmICghc3RyaW5nIHx8ICEoY2hhcnMgPSBiYXNlVG9TdHJpbmcoY2hhcnMpKSkge1xuICAgICAgICByZXR1cm4gc3RyaW5nO1xuICAgICAgfVxuICAgICAgdmFyIHN0clN5bWJvbHMgPSBzdHJpbmdUb0FycmF5KHN0cmluZyksXG4gICAgICAgICAgc3RhcnQgPSBjaGFyc1N0YXJ0SW5kZXgoc3RyU3ltYm9scywgc3RyaW5nVG9BcnJheShjaGFycykpO1xuXG4gICAgICByZXR1cm4gY2FzdFNsaWNlKHN0clN5bWJvbHMsIHN0YXJ0KS5qb2luKCcnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUcnVuY2F0ZXMgYHN0cmluZ2AgaWYgaXQncyBsb25nZXIgdGhhbiB0aGUgZ2l2ZW4gbWF4aW11bSBzdHJpbmcgbGVuZ3RoLlxuICAgICAqIFRoZSBsYXN0IGNoYXJhY3RlcnMgb2YgdGhlIHRydW5jYXRlZCBzdHJpbmcgYXJlIHJlcGxhY2VkIHdpdGggdGhlIG9taXNzaW9uXG4gICAgICogc3RyaW5nIHdoaWNoIGRlZmF1bHRzIHRvIFwiLi4uXCIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gdHJ1bmNhdGUuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmxlbmd0aD0zMF0gVGhlIG1heGltdW0gc3RyaW5nIGxlbmd0aC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMub21pc3Npb249Jy4uLiddIFRoZSBzdHJpbmcgdG8gaW5kaWNhdGUgdGV4dCBpcyBvbWl0dGVkLlxuICAgICAqIEBwYXJhbSB7UmVnRXhwfHN0cmluZ30gW29wdGlvbnMuc2VwYXJhdG9yXSBUaGUgc2VwYXJhdG9yIHBhdHRlcm4gdG8gdHJ1bmNhdGUgdG8uXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdHJ1bmNhdGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50cnVuY2F0ZSgnaGktZGlkZGx5LWhvIHRoZXJlLCBuZWlnaGJvcmlubycpO1xuICAgICAqIC8vID0+ICdoaS1kaWRkbHktaG8gdGhlcmUsIG5laWdoYm8uLi4nXG4gICAgICpcbiAgICAgKiBfLnRydW5jYXRlKCdoaS1kaWRkbHktaG8gdGhlcmUsIG5laWdoYm9yaW5vJywge1xuICAgICAqICAgJ2xlbmd0aCc6IDI0LFxuICAgICAqICAgJ3NlcGFyYXRvcic6ICcgJ1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+ICdoaS1kaWRkbHktaG8gdGhlcmUsLi4uJ1xuICAgICAqXG4gICAgICogXy50cnVuY2F0ZSgnaGktZGlkZGx5LWhvIHRoZXJlLCBuZWlnaGJvcmlubycsIHtcbiAgICAgKiAgICdsZW5ndGgnOiAyNCxcbiAgICAgKiAgICdzZXBhcmF0b3InOiAvLD8gKy9cbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiAnaGktZGlkZGx5LWhvIHRoZXJlLi4uJ1xuICAgICAqXG4gICAgICogXy50cnVuY2F0ZSgnaGktZGlkZGx5LWhvIHRoZXJlLCBuZWlnaGJvcmlubycsIHtcbiAgICAgKiAgICdvbWlzc2lvbic6ICcgWy4uLl0nXG4gICAgICogfSk7XG4gICAgICogLy8gPT4gJ2hpLWRpZGRseS1obyB0aGVyZSwgbmVpZyBbLi4uXSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0cnVuY2F0ZShzdHJpbmcsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBERUZBVUxUX1RSVU5DX0xFTkdUSCxcbiAgICAgICAgICBvbWlzc2lvbiA9IERFRkFVTFRfVFJVTkNfT01JU1NJT047XG5cbiAgICAgIGlmIChpc09iamVjdChvcHRpb25zKSkge1xuICAgICAgICB2YXIgc2VwYXJhdG9yID0gJ3NlcGFyYXRvcicgaW4gb3B0aW9ucyA/IG9wdGlvbnMuc2VwYXJhdG9yIDogc2VwYXJhdG9yO1xuICAgICAgICBsZW5ndGggPSAnbGVuZ3RoJyBpbiBvcHRpb25zID8gdG9JbnRlZ2VyKG9wdGlvbnMubGVuZ3RoKSA6IGxlbmd0aDtcbiAgICAgICAgb21pc3Npb24gPSAnb21pc3Npb24nIGluIG9wdGlvbnMgPyBiYXNlVG9TdHJpbmcob3B0aW9ucy5vbWlzc2lvbikgOiBvbWlzc2lvbjtcbiAgICAgIH1cbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG5cbiAgICAgIHZhciBzdHJMZW5ndGggPSBzdHJpbmcubGVuZ3RoO1xuICAgICAgaWYgKGhhc1VuaWNvZGUoc3RyaW5nKSkge1xuICAgICAgICB2YXIgc3RyU3ltYm9scyA9IHN0cmluZ1RvQXJyYXkoc3RyaW5nKTtcbiAgICAgICAgc3RyTGVuZ3RoID0gc3RyU3ltYm9scy5sZW5ndGg7XG4gICAgICB9XG4gICAgICBpZiAobGVuZ3RoID49IHN0ckxlbmd0aCkge1xuICAgICAgICByZXR1cm4gc3RyaW5nO1xuICAgICAgfVxuICAgICAgdmFyIGVuZCA9IGxlbmd0aCAtIHN0cmluZ1NpemUob21pc3Npb24pO1xuICAgICAgaWYgKGVuZCA8IDEpIHtcbiAgICAgICAgcmV0dXJuIG9taXNzaW9uO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IHN0clN5bWJvbHNcbiAgICAgICAgPyBjYXN0U2xpY2Uoc3RyU3ltYm9scywgMCwgZW5kKS5qb2luKCcnKVxuICAgICAgICA6IHN0cmluZy5zbGljZSgwLCBlbmQpO1xuXG4gICAgICBpZiAoc2VwYXJhdG9yID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdCArIG9taXNzaW9uO1xuICAgICAgfVxuICAgICAgaWYgKHN0clN5bWJvbHMpIHtcbiAgICAgICAgZW5kICs9IChyZXN1bHQubGVuZ3RoIC0gZW5kKTtcbiAgICAgIH1cbiAgICAgIGlmIChpc1JlZ0V4cChzZXBhcmF0b3IpKSB7XG4gICAgICAgIGlmIChzdHJpbmcuc2xpY2UoZW5kKS5zZWFyY2goc2VwYXJhdG9yKSkge1xuICAgICAgICAgIHZhciBtYXRjaCxcbiAgICAgICAgICAgICAgc3Vic3RyaW5nID0gcmVzdWx0O1xuXG4gICAgICAgICAgaWYgKCFzZXBhcmF0b3IuZ2xvYmFsKSB7XG4gICAgICAgICAgICBzZXBhcmF0b3IgPSBSZWdFeHAoc2VwYXJhdG9yLnNvdXJjZSwgdG9TdHJpbmcocmVGbGFncy5leGVjKHNlcGFyYXRvcikpICsgJ2cnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2VwYXJhdG9yLmxhc3RJbmRleCA9IDA7XG4gICAgICAgICAgd2hpbGUgKChtYXRjaCA9IHNlcGFyYXRvci5leGVjKHN1YnN0cmluZykpKSB7XG4gICAgICAgICAgICB2YXIgbmV3RW5kID0gbWF0Y2guaW5kZXg7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5zbGljZSgwLCBuZXdFbmQgPT09IHVuZGVmaW5lZCA/IGVuZCA6IG5ld0VuZCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoc3RyaW5nLmluZGV4T2YoYmFzZVRvU3RyaW5nKHNlcGFyYXRvciksIGVuZCkgIT0gZW5kKSB7XG4gICAgICAgIHZhciBpbmRleCA9IHJlc3VsdC5sYXN0SW5kZXhPZihzZXBhcmF0b3IpO1xuICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5zbGljZSgwLCBpbmRleCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQgKyBvbWlzc2lvbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaW52ZXJzZSBvZiBgXy5lc2NhcGVgOyB0aGlzIG1ldGhvZCBjb252ZXJ0cyB0aGUgSFRNTCBlbnRpdGllc1xuICAgICAqIGAmYW1wO2AsIGAmbHQ7YCwgYCZndDtgLCBgJnF1b3Q7YCwgYW5kIGAmIzM5O2AgaW4gYHN0cmluZ2AgdG9cbiAgICAgKiB0aGVpciBjb3JyZXNwb25kaW5nIGNoYXJhY3RlcnMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogTm8gb3RoZXIgSFRNTCBlbnRpdGllcyBhcmUgdW5lc2NhcGVkLiBUbyB1bmVzY2FwZSBhZGRpdGlvbmFsXG4gICAgICogSFRNTCBlbnRpdGllcyB1c2UgYSB0aGlyZC1wYXJ0eSBsaWJyYXJ5IGxpa2UgW19oZV9dKGh0dHBzOi8vbXRocy5iZS9oZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC42LjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gdW5lc2NhcGUuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdW5lc2NhcGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51bmVzY2FwZSgnZnJlZCwgYmFybmV5LCAmYW1wOyBwZWJibGVzJyk7XG4gICAgICogLy8gPT4gJ2ZyZWQsIGJhcm5leSwgJiBwZWJibGVzJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuZXNjYXBlKHN0cmluZykge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIHJldHVybiAoc3RyaW5nICYmIHJlSGFzRXNjYXBlZEh0bWwudGVzdChzdHJpbmcpKVxuICAgICAgICA/IHN0cmluZy5yZXBsYWNlKHJlRXNjYXBlZEh0bWwsIHVuZXNjYXBlSHRtbENoYXIpXG4gICAgICAgIDogc3RyaW5nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgLCBhcyBzcGFjZSBzZXBhcmF0ZWQgd29yZHMsIHRvIHVwcGVyIGNhc2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB1cHBlciBjYXNlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udXBwZXJDYXNlKCctLWZvby1iYXInKTtcbiAgICAgKiAvLyA9PiAnRk9PIEJBUidcbiAgICAgKlxuICAgICAqIF8udXBwZXJDYXNlKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnRk9PIEJBUidcbiAgICAgKlxuICAgICAqIF8udXBwZXJDYXNlKCdfX2Zvb19iYXJfXycpO1xuICAgICAqIC8vID0+ICdGT08gQkFSJ1xuICAgICAqL1xuICAgIHZhciB1cHBlckNhc2UgPSBjcmVhdGVDb21wb3VuZGVyKGZ1bmN0aW9uKHJlc3VsdCwgd29yZCwgaW5kZXgpIHtcbiAgICAgIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyAnICcgOiAnJykgKyB3b3JkLnRvVXBwZXJDYXNlKCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0aGUgZmlyc3QgY2hhcmFjdGVyIG9mIGBzdHJpbmdgIHRvIHVwcGVyIGNhc2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnVwcGVyRmlyc3QoJ2ZyZWQnKTtcbiAgICAgKiAvLyA9PiAnRnJlZCdcbiAgICAgKlxuICAgICAqIF8udXBwZXJGaXJzdCgnRlJFRCcpO1xuICAgICAqIC8vID0+ICdGUkVEJ1xuICAgICAqL1xuICAgIHZhciB1cHBlckZpcnN0ID0gY3JlYXRlQ2FzZUZpcnN0KCd0b1VwcGVyQ2FzZScpO1xuXG4gICAgLyoqXG4gICAgICogU3BsaXRzIGBzdHJpbmdgIGludG8gYW4gYXJyYXkgb2YgaXRzIHdvcmRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtSZWdFeHB8c3RyaW5nfSBbcGF0dGVybl0gVGhlIHBhdHRlcm4gdG8gbWF0Y2ggd29yZHMuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHdvcmRzIG9mIGBzdHJpbmdgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLndvcmRzKCdmcmVkLCBiYXJuZXksICYgcGViYmxlcycpO1xuICAgICAqIC8vID0+IFsnZnJlZCcsICdiYXJuZXknLCAncGViYmxlcyddXG4gICAgICpcbiAgICAgKiBfLndvcmRzKCdmcmVkLCBiYXJuZXksICYgcGViYmxlcycsIC9bXiwgXSsvZyk7XG4gICAgICogLy8gPT4gWydmcmVkJywgJ2Jhcm5leScsICcmJywgJ3BlYmJsZXMnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdvcmRzKHN0cmluZywgcGF0dGVybiwgZ3VhcmQpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBwYXR0ZXJuID0gZ3VhcmQgPyB1bmRlZmluZWQgOiBwYXR0ZXJuO1xuXG4gICAgICBpZiAocGF0dGVybiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBoYXNVbmljb2RlV29yZChzdHJpbmcpID8gdW5pY29kZVdvcmRzKHN0cmluZykgOiBhc2NpaVdvcmRzKHN0cmluZyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gc3RyaW5nLm1hdGNoKHBhdHRlcm4pIHx8IFtdO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIEF0dGVtcHRzIHRvIGludm9rZSBgZnVuY2AsIHJldHVybmluZyBlaXRoZXIgdGhlIHJlc3VsdCBvciB0aGUgY2F1Z2h0IGVycm9yXG4gICAgICogb2JqZWN0LiBBbnkgYWRkaXRpb25hbCBhcmd1bWVudHMgYXJlIHByb3ZpZGVkIHRvIGBmdW5jYCB3aGVuIGl0J3MgaW52b2tlZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXR0ZW1wdC5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmdzXSBUaGUgYXJndW1lbnRzIHRvIGludm9rZSBgZnVuY2Agd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYGZ1bmNgIHJlc3VsdCBvciBlcnJvciBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIC8vIEF2b2lkIHRocm93aW5nIGVycm9ycyBmb3IgaW52YWxpZCBzZWxlY3RvcnMuXG4gICAgICogdmFyIGVsZW1lbnRzID0gXy5hdHRlbXB0KGZ1bmN0aW9uKHNlbGVjdG9yKSB7XG4gICAgICogICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XG4gICAgICogfSwgJz5fPicpO1xuICAgICAqXG4gICAgICogaWYgKF8uaXNFcnJvcihlbGVtZW50cykpIHtcbiAgICAgKiAgIGVsZW1lbnRzID0gW107XG4gICAgICogfVxuICAgICAqL1xuICAgIHZhciBhdHRlbXB0ID0gYmFzZVJlc3QoZnVuY3Rpb24oZnVuYywgYXJncykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGFwcGx5KGZ1bmMsIHVuZGVmaW5lZCwgYXJncyk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBpc0Vycm9yKGUpID8gZSA6IG5ldyBFcnJvcihlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEJpbmRzIG1ldGhvZHMgb2YgYW4gb2JqZWN0IHRvIHRoZSBvYmplY3QgaXRzZWxmLCBvdmVyd3JpdGluZyB0aGUgZXhpc3RpbmdcbiAgICAgKiBtZXRob2QuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgZG9lc24ndCBzZXQgdGhlIFwibGVuZ3RoXCIgcHJvcGVydHkgb2YgYm91bmQgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gYmluZCBhbmQgYXNzaWduIHRoZSBib3VuZCBtZXRob2RzIHRvLlxuICAgICAqIEBwYXJhbSB7Li4uKHN0cmluZ3xzdHJpbmdbXSl9IG1ldGhvZE5hbWVzIFRoZSBvYmplY3QgbWV0aG9kIG5hbWVzIHRvIGJpbmQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHZpZXcgPSB7XG4gICAgICogICAnbGFiZWwnOiAnZG9jcycsXG4gICAgICogICAnY2xpY2snOiBmdW5jdGlvbigpIHtcbiAgICAgKiAgICAgY29uc29sZS5sb2coJ2NsaWNrZWQgJyArIHRoaXMubGFiZWwpO1xuICAgICAqICAgfVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBfLmJpbmRBbGwodmlldywgWydjbGljayddKTtcbiAgICAgKiBqUXVlcnkoZWxlbWVudCkub24oJ2NsaWNrJywgdmlldy5jbGljayk7XG4gICAgICogLy8gPT4gTG9ncyAnY2xpY2tlZCBkb2NzJyB3aGVuIGNsaWNrZWQuXG4gICAgICovXG4gICAgdmFyIGJpbmRBbGwgPSBmbGF0UmVzdChmdW5jdGlvbihvYmplY3QsIG1ldGhvZE5hbWVzKSB7XG4gICAgICBhcnJheUVhY2gobWV0aG9kTmFtZXMsIGZ1bmN0aW9uKGtleSkge1xuICAgICAgICBrZXkgPSB0b0tleShrZXkpO1xuICAgICAgICBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIGJpbmQob2JqZWN0W2tleV0sIG9iamVjdCkpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaXRlcmF0ZXMgb3ZlciBgcGFpcnNgIGFuZCBpbnZva2VzIHRoZSBjb3JyZXNwb25kaW5nXG4gICAgICogZnVuY3Rpb24gb2YgdGhlIGZpcnN0IHByZWRpY2F0ZSB0byByZXR1cm4gdHJ1dGh5LiBUaGUgcHJlZGljYXRlLWZ1bmN0aW9uXG4gICAgICogcGFpcnMgYXJlIGludm9rZWQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgYW5kIGFyZ3VtZW50cyBvZiB0aGUgY3JlYXRlZFxuICAgICAqIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwYWlycyBUaGUgcHJlZGljYXRlLWZ1bmN0aW9uIHBhaXJzLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNvbXBvc2l0ZSBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGZ1bmMgPSBfLmNvbmQoW1xuICAgICAqICAgW18ubWF0Y2hlcyh7ICdhJzogMSB9KSwgICAgICAgICAgIF8uY29uc3RhbnQoJ21hdGNoZXMgQScpXSxcbiAgICAgKiAgIFtfLmNvbmZvcm1zKHsgJ2InOiBfLmlzTnVtYmVyIH0pLCBfLmNvbnN0YW50KCdtYXRjaGVzIEInKV0sXG4gICAgICogICBbXy5zdHViVHJ1ZSwgICAgICAgICAgICAgICAgICAgICAgXy5jb25zdGFudCgnbm8gbWF0Y2gnKV1cbiAgICAgKiBdKTtcbiAgICAgKlxuICAgICAqIGZ1bmMoeyAnYSc6IDEsICdiJzogMiB9KTtcbiAgICAgKiAvLyA9PiAnbWF0Y2hlcyBBJ1xuICAgICAqXG4gICAgICogZnVuYyh7ICdhJzogMCwgJ2InOiAxIH0pO1xuICAgICAqIC8vID0+ICdtYXRjaGVzIEInXG4gICAgICpcbiAgICAgKiBmdW5jKHsgJ2EnOiAnMScsICdiJzogJzInIH0pO1xuICAgICAqIC8vID0+ICdubyBtYXRjaCdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb25kKHBhaXJzKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gcGFpcnMgPT0gbnVsbCA/IDAgOiBwYWlycy5sZW5ndGgsXG4gICAgICAgICAgdG9JdGVyYXRlZSA9IGdldEl0ZXJhdGVlKCk7XG5cbiAgICAgIHBhaXJzID0gIWxlbmd0aCA/IFtdIDogYXJyYXlNYXAocGFpcnMsIGZ1bmN0aW9uKHBhaXIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBwYWlyWzFdICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFt0b0l0ZXJhdGVlKHBhaXJbMF0pLCBwYWlyWzFdXTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gYmFzZVJlc3QoZnVuY3Rpb24oYXJncykge1xuICAgICAgICB2YXIgaW5kZXggPSAtMTtcbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICB2YXIgcGFpciA9IHBhaXJzW2luZGV4XTtcbiAgICAgICAgICBpZiAoYXBwbHkocGFpclswXSwgdGhpcywgYXJncykpIHtcbiAgICAgICAgICAgIHJldHVybiBhcHBseShwYWlyWzFdLCB0aGlzLCBhcmdzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgdGhlIHByZWRpY2F0ZSBwcm9wZXJ0aWVzIG9mIGBzb3VyY2VgIHdpdGhcbiAgICAgKiB0aGUgY29ycmVzcG9uZGluZyBwcm9wZXJ0eSB2YWx1ZXMgb2YgYSBnaXZlbiBvYmplY3QsIHJldHVybmluZyBgdHJ1ZWAgaWZcbiAgICAgKiBhbGwgcHJlZGljYXRlcyByZXR1cm4gdHJ1dGh5LCBlbHNlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhlIGNyZWF0ZWQgZnVuY3Rpb24gaXMgZXF1aXZhbGVudCB0byBgXy5jb25mb3Jtc1RvYCB3aXRoXG4gICAgICogYHNvdXJjZWAgcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSBwcmVkaWNhdGVzIHRvIGNvbmZvcm0gdG8uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbXG4gICAgICogICB7ICdhJzogMiwgJ2InOiAxIH0sXG4gICAgICogICB7ICdhJzogMSwgJ2InOiAyIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5maWx0ZXIob2JqZWN0cywgXy5jb25mb3Jtcyh7ICdiJzogZnVuY3Rpb24obikgeyByZXR1cm4gbiA+IDE7IH0gfSkpO1xuICAgICAqIC8vID0+IFt7ICdhJzogMSwgJ2InOiAyIH1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29uZm9ybXMoc291cmNlKSB7XG4gICAgICByZXR1cm4gYmFzZUNvbmZvcm1zKGJhc2VDbG9uZShzb3VyY2UsIENMT05FX0RFRVBfRkxBRykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjQuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcmV0dXJuIGZyb20gdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjb25zdGFudCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBfLnRpbWVzKDIsIF8uY29uc3RhbnQoeyAnYSc6IDEgfSkpO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2cob2JqZWN0cyk7XG4gICAgICogLy8gPT4gW3sgJ2EnOiAxIH0sIHsgJ2EnOiAxIH1dXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3RzWzBdID09PSBvYmplY3RzWzFdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29uc3RhbnQodmFsdWUpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgYHZhbHVlYCB0byBkZXRlcm1pbmUgd2hldGhlciBhIGRlZmF1bHQgdmFsdWUgc2hvdWxkIGJlIHJldHVybmVkIGluXG4gICAgICogaXRzIHBsYWNlLiBUaGUgYGRlZmF1bHRWYWx1ZWAgaXMgcmV0dXJuZWQgaWYgYHZhbHVlYCBpcyBgTmFOYCwgYG51bGxgLFxuICAgICAqIG9yIGB1bmRlZmluZWRgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMTQuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHBhcmFtIHsqfSBkZWZhdWx0VmFsdWUgVGhlIGRlZmF1bHQgdmFsdWUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc29sdmVkIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlZmF1bHRUbygxLCAxMCk7XG4gICAgICogLy8gPT4gMVxuICAgICAqXG4gICAgICogXy5kZWZhdWx0VG8odW5kZWZpbmVkLCAxMCk7XG4gICAgICogLy8gPT4gMTBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkZWZhdWx0VG8odmFsdWUsIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgcmV0dXJuICh2YWx1ZSA9PSBudWxsIHx8IHZhbHVlICE9PSB2YWx1ZSkgPyBkZWZhdWx0VmFsdWUgOiB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSByZXN1bHQgb2YgaW52b2tpbmcgdGhlIGdpdmVuIGZ1bmN0aW9uc1xuICAgICAqIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIHRoZSBjcmVhdGVkIGZ1bmN0aW9uLCB3aGVyZSBlYWNoIHN1Y2Nlc3NpdmVcbiAgICAgKiBpbnZvY2F0aW9uIGlzIHN1cHBsaWVkIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIHByZXZpb3VzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0gey4uLihGdW5jdGlvbnxGdW5jdGlvbltdKX0gW2Z1bmNzXSBUaGUgZnVuY3Rpb25zIHRvIGludm9rZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjb21wb3NpdGUgZnVuY3Rpb24uXG4gICAgICogQHNlZSBfLmZsb3dSaWdodFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBzcXVhcmUobikge1xuICAgICAqICAgcmV0dXJuIG4gKiBuO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBhZGRTcXVhcmUgPSBfLmZsb3coW18uYWRkLCBzcXVhcmVdKTtcbiAgICAgKiBhZGRTcXVhcmUoMSwgMik7XG4gICAgICogLy8gPT4gOVxuICAgICAqL1xuICAgIHZhciBmbG93ID0gY3JlYXRlRmxvdygpO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mbG93YCBleGNlcHQgdGhhdCBpdCBjcmVhdGVzIGEgZnVuY3Rpb24gdGhhdFxuICAgICAqIGludm9rZXMgdGhlIGdpdmVuIGZ1bmN0aW9ucyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbZnVuY3NdIFRoZSBmdW5jdGlvbnMgdG8gaW52b2tlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNvbXBvc2l0ZSBmdW5jdGlvbi5cbiAgICAgKiBAc2VlIF8uZmxvd1xuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBzcXVhcmUobikge1xuICAgICAqICAgcmV0dXJuIG4gKiBuO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBhZGRTcXVhcmUgPSBfLmZsb3dSaWdodChbc3F1YXJlLCBfLmFkZF0pO1xuICAgICAqIGFkZFNxdWFyZSgxLCAyKTtcbiAgICAgKiAvLyA9PiA5XG4gICAgICovXG4gICAgdmFyIGZsb3dSaWdodCA9IGNyZWF0ZUZsb3codHJ1ZSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIHRoZSBmaXJzdCBhcmd1bWVudCBpdCByZWNlaXZlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBBbnkgdmFsdWUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgYHZhbHVlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhfLmlkZW50aXR5KG9iamVjdCkgPT09IG9iamVjdCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlkZW50aXR5KHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCB0aGUgYXJndW1lbnRzIG9mIHRoZSBjcmVhdGVkXG4gICAgICogZnVuY3Rpb24uIElmIGBmdW5jYCBpcyBhIHByb3BlcnR5IG5hbWUsIHRoZSBjcmVhdGVkIGZ1bmN0aW9uIHJldHVybnMgdGhlXG4gICAgICogcHJvcGVydHkgdmFsdWUgZm9yIGEgZ2l2ZW4gZWxlbWVudC4gSWYgYGZ1bmNgIGlzIGFuIGFycmF5IG9yIG9iamVjdCwgdGhlXG4gICAgICogY3JlYXRlZCBmdW5jdGlvbiByZXR1cm5zIGB0cnVlYCBmb3IgZWxlbWVudHMgdGhhdCBjb250YWluIHRoZSBlcXVpdmFsZW50XG4gICAgICogc291cmNlIHByb3BlcnRpZXMsIG90aGVyd2lzZSBpdCByZXR1cm5zIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Kn0gW2Z1bmM9Xy5pZGVudGl0eV0gVGhlIHZhbHVlIHRvIGNvbnZlcnQgdG8gYSBjYWxsYmFjay5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIGNhbGxiYWNrLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQwLCAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmlsdGVyKHVzZXJzLCBfLml0ZXJhdGVlKHsgJ3VzZXInOiAnYmFybmV5JywgJ2FjdGl2ZSc6IHRydWUgfSkpO1xuICAgICAqIC8vID0+IFt7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfV1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbHRlcih1c2VycywgXy5pdGVyYXRlZShbJ3VzZXInLCAnZnJlZCddKSk7XG4gICAgICogLy8gPT4gW3sgJ3VzZXInOiAnZnJlZCcsICdhZ2UnOiA0MCB9XVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5tYXAodXNlcnMsIF8uaXRlcmF0ZWUoJ3VzZXInKSk7XG4gICAgICogLy8gPT4gWydiYXJuZXknLCAnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBDcmVhdGUgY3VzdG9tIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICogXy5pdGVyYXRlZSA9IF8ud3JhcChfLml0ZXJhdGVlLCBmdW5jdGlvbihpdGVyYXRlZSwgZnVuYykge1xuICAgICAqICAgcmV0dXJuICFfLmlzUmVnRXhwKGZ1bmMpID8gaXRlcmF0ZWUoZnVuYykgOiBmdW5jdGlvbihzdHJpbmcpIHtcbiAgICAgKiAgICAgcmV0dXJuIGZ1bmMudGVzdChzdHJpbmcpO1xuICAgICAqICAgfTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIF8uZmlsdGVyKFsnYWJjJywgJ2RlZiddLCAvZWYvKTtcbiAgICAgKiAvLyA9PiBbJ2RlZiddXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXRlcmF0ZWUoZnVuYykge1xuICAgICAgcmV0dXJuIGJhc2VJdGVyYXRlZSh0eXBlb2YgZnVuYyA9PSAnZnVuY3Rpb24nID8gZnVuYyA6IGJhc2VDbG9uZShmdW5jLCBDTE9ORV9ERUVQX0ZMQUcpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBwZXJmb3JtcyBhIHBhcnRpYWwgZGVlcCBjb21wYXJpc29uIGJldHdlZW4gYSBnaXZlblxuICAgICAqIG9iamVjdCBhbmQgYHNvdXJjZWAsIHJldHVybmluZyBgdHJ1ZWAgaWYgdGhlIGdpdmVuIG9iamVjdCBoYXMgZXF1aXZhbGVudFxuICAgICAqIHByb3BlcnR5IHZhbHVlcywgZWxzZSBgZmFsc2VgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoZSBjcmVhdGVkIGZ1bmN0aW9uIGlzIGVxdWl2YWxlbnQgdG8gYF8uaXNNYXRjaGAgd2l0aCBgc291cmNlYFxuICAgICAqIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqXG4gICAgICogUGFydGlhbCBjb21wYXJpc29ucyB3aWxsIG1hdGNoIGVtcHR5IGFycmF5IGFuZCBlbXB0eSBvYmplY3QgYHNvdXJjZWBcbiAgICAgKiB2YWx1ZXMgYWdhaW5zdCBhbnkgYXJyYXkgb3Igb2JqZWN0IHZhbHVlLCByZXNwZWN0aXZlbHkuIFNlZSBgXy5pc0VxdWFsYFxuICAgICAqIGZvciBhIGxpc3Qgb2Ygc3VwcG9ydGVkIHZhbHVlIGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIE11bHRpcGxlIHZhbHVlcyBjYW4gYmUgY2hlY2tlZCBieSBjb21iaW5pbmcgc2V2ZXJhbCBtYXRjaGVyc1xuICAgICAqIHVzaW5nIGBfLm92ZXJTb21lYFxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgdmFsdWVzIHRvIG1hdGNoLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNwZWMgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW1xuICAgICAqICAgeyAnYSc6IDEsICdiJzogMiwgJ2MnOiAzIH0sXG4gICAgICogICB7ICdhJzogNCwgJ2InOiA1LCAnYyc6IDYgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbHRlcihvYmplY3RzLCBfLm1hdGNoZXMoeyAnYSc6IDQsICdjJzogNiB9KSk7XG4gICAgICogLy8gPT4gW3sgJ2EnOiA0LCAnYic6IDUsICdjJzogNiB9XVxuICAgICAqXG4gICAgICogLy8gQ2hlY2tpbmcgZm9yIHNldmVyYWwgcG9zc2libGUgdmFsdWVzXG4gICAgICogXy5maWx0ZXIob2JqZWN0cywgXy5vdmVyU29tZShbXy5tYXRjaGVzKHsgJ2EnOiAxIH0pLCBfLm1hdGNoZXMoeyAnYSc6IDQgfSldKSk7XG4gICAgICogLy8gPT4gW3sgJ2EnOiAxLCAnYic6IDIsICdjJzogMyB9LCB7ICdhJzogNCwgJ2InOiA1LCAnYyc6IDYgfV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXRjaGVzKHNvdXJjZSkge1xuICAgICAgcmV0dXJuIGJhc2VNYXRjaGVzKGJhc2VDbG9uZShzb3VyY2UsIENMT05FX0RFRVBfRkxBRykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHBlcmZvcm1zIGEgcGFydGlhbCBkZWVwIGNvbXBhcmlzb24gYmV0d2VlbiB0aGVcbiAgICAgKiB2YWx1ZSBhdCBgcGF0aGAgb2YgYSBnaXZlbiBvYmplY3QgdG8gYHNyY1ZhbHVlYCwgcmV0dXJuaW5nIGB0cnVlYCBpZiB0aGVcbiAgICAgKiBvYmplY3QgdmFsdWUgaXMgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFBhcnRpYWwgY29tcGFyaXNvbnMgd2lsbCBtYXRjaCBlbXB0eSBhcnJheSBhbmQgZW1wdHkgb2JqZWN0XG4gICAgICogYHNyY1ZhbHVlYCB2YWx1ZXMgYWdhaW5zdCBhbnkgYXJyYXkgb3Igb2JqZWN0IHZhbHVlLCByZXNwZWN0aXZlbHkuIFNlZVxuICAgICAqIGBfLmlzRXF1YWxgIGZvciBhIGxpc3Qgb2Ygc3VwcG9ydGVkIHZhbHVlIGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIE11bHRpcGxlIHZhbHVlcyBjYW4gYmUgY2hlY2tlZCBieSBjb21iaW5pbmcgc2V2ZXJhbCBtYXRjaGVyc1xuICAgICAqIHVzaW5nIGBfLm92ZXJTb21lYFxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMi4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gc3JjVmFsdWUgVGhlIHZhbHVlIHRvIG1hdGNoLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNwZWMgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW1xuICAgICAqICAgeyAnYSc6IDEsICdiJzogMiwgJ2MnOiAzIH0sXG4gICAgICogICB7ICdhJzogNCwgJ2InOiA1LCAnYyc6IDYgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbmQob2JqZWN0cywgXy5tYXRjaGVzUHJvcGVydHkoJ2EnLCA0KSk7XG4gICAgICogLy8gPT4geyAnYSc6IDQsICdiJzogNSwgJ2MnOiA2IH1cbiAgICAgKlxuICAgICAqIC8vIENoZWNraW5nIGZvciBzZXZlcmFsIHBvc3NpYmxlIHZhbHVlc1xuICAgICAqIF8uZmlsdGVyKG9iamVjdHMsIF8ub3ZlclNvbWUoW18ubWF0Y2hlc1Byb3BlcnR5KCdhJywgMSksIF8ubWF0Y2hlc1Byb3BlcnR5KCdhJywgNCldKSk7XG4gICAgICogLy8gPT4gW3sgJ2EnOiAxLCAnYic6IDIsICdjJzogMyB9LCB7ICdhJzogNCwgJ2InOiA1LCAnYyc6IDYgfV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXRjaGVzUHJvcGVydHkocGF0aCwgc3JjVmFsdWUpIHtcbiAgICAgIHJldHVybiBiYXNlTWF0Y2hlc1Byb3BlcnR5KHBhdGgsIGJhc2VDbG9uZShzcmNWYWx1ZSwgQ0xPTkVfREVFUF9GTEFHKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyB0aGUgbWV0aG9kIGF0IGBwYXRoYCBvZiBhIGdpdmVuIG9iamVjdC5cbiAgICAgKiBBbnkgYWRkaXRpb25hbCBhcmd1bWVudHMgYXJlIHByb3ZpZGVkIHRvIHRoZSBpbnZva2VkIG1ldGhvZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjcuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIG1ldGhvZCB0byBpbnZva2UuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbYXJnc10gVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgdGhlIG1ldGhvZCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGludm9rZXIgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW1xuICAgICAqICAgeyAnYSc6IHsgJ2InOiBfLmNvbnN0YW50KDIpIH0gfSxcbiAgICAgKiAgIHsgJ2EnOiB7ICdiJzogXy5jb25zdGFudCgxKSB9IH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5tYXAob2JqZWN0cywgXy5tZXRob2QoJ2EuYicpKTtcbiAgICAgKiAvLyA9PiBbMiwgMV1cbiAgICAgKlxuICAgICAqIF8ubWFwKG9iamVjdHMsIF8ubWV0aG9kKFsnYScsICdiJ10pKTtcbiAgICAgKiAvLyA9PiBbMiwgMV1cbiAgICAgKi9cbiAgICB2YXIgbWV0aG9kID0gYmFzZVJlc3QoZnVuY3Rpb24ocGF0aCwgYXJncykge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICByZXR1cm4gYmFzZUludm9rZShvYmplY3QsIHBhdGgsIGFyZ3MpO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBvcHBvc2l0ZSBvZiBgXy5tZXRob2RgOyB0aGlzIG1ldGhvZCBjcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzXG4gICAgICogdGhlIG1ldGhvZCBhdCBhIGdpdmVuIHBhdGggb2YgYG9iamVjdGAuIEFueSBhZGRpdGlvbmFsIGFyZ3VtZW50cyBhcmVcbiAgICAgKiBwcm92aWRlZCB0byB0aGUgaW52b2tlZCBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy43LjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmdzXSBUaGUgYXJndW1lbnRzIHRvIGludm9rZSB0aGUgbWV0aG9kIHdpdGguXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgaW52b2tlciBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gXy50aW1lcygzLCBfLmNvbnN0YW50KSxcbiAgICAgKiAgICAgb2JqZWN0ID0geyAnYSc6IGFycmF5LCAnYic6IGFycmF5LCAnYyc6IGFycmF5IH07XG4gICAgICpcbiAgICAgKiBfLm1hcChbJ2FbMl0nLCAnY1swXSddLCBfLm1ldGhvZE9mKG9iamVjdCkpO1xuICAgICAqIC8vID0+IFsyLCAwXVxuICAgICAqXG4gICAgICogXy5tYXAoW1snYScsICcyJ10sIFsnYycsICcwJ11dLCBfLm1ldGhvZE9mKG9iamVjdCkpO1xuICAgICAqIC8vID0+IFsyLCAwXVxuICAgICAqL1xuICAgIHZhciBtZXRob2RPZiA9IGJhc2VSZXN0KGZ1bmN0aW9uKG9iamVjdCwgYXJncykge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHBhdGgpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VJbnZva2Uob2JqZWN0LCBwYXRoLCBhcmdzKTtcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGFsbCBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgZnVuY3Rpb24gcHJvcGVydGllcyBvZiBhIHNvdXJjZVxuICAgICAqIG9iamVjdCB0byB0aGUgZGVzdGluYXRpb24gb2JqZWN0LiBJZiBgb2JqZWN0YCBpcyBhIGZ1bmN0aW9uLCB0aGVuIG1ldGhvZHNcbiAgICAgKiBhcmUgYWRkZWQgdG8gaXRzIHByb3RvdHlwZSBhcyB3ZWxsLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVzZSBgXy5ydW5JbkNvbnRleHRgIHRvIGNyZWF0ZSBhIHByaXN0aW5lIGBsb2Rhc2hgIGZ1bmN0aW9uIHRvXG4gICAgICogYXZvaWQgY29uZmxpY3RzIGNhdXNlZCBieSBtb2RpZnlpbmcgdGhlIG9yaWdpbmFsLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufE9iamVjdH0gW29iamVjdD1sb2Rhc2hdIFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIGZ1bmN0aW9ucyB0byBhZGQuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGFpbj10cnVlXSBTcGVjaWZ5IHdoZXRoZXIgbWl4aW5zIGFyZSBjaGFpbmFibGUuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufE9iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gdm93ZWxzKHN0cmluZykge1xuICAgICAqICAgcmV0dXJuIF8uZmlsdGVyKHN0cmluZywgZnVuY3Rpb24odikge1xuICAgICAqICAgICByZXR1cm4gL1thZWlvdV0vaS50ZXN0KHYpO1xuICAgICAqICAgfSk7XG4gICAgICogfVxuICAgICAqXG4gICAgICogXy5taXhpbih7ICd2b3dlbHMnOiB2b3dlbHMgfSk7XG4gICAgICogXy52b3dlbHMoJ2ZyZWQnKTtcbiAgICAgKiAvLyA9PiBbJ2UnXVxuICAgICAqXG4gICAgICogXygnZnJlZCcpLnZvd2VscygpLnZhbHVlKCk7XG4gICAgICogLy8gPT4gWydlJ11cbiAgICAgKlxuICAgICAqIF8ubWl4aW4oeyAndm93ZWxzJzogdm93ZWxzIH0sIHsgJ2NoYWluJzogZmFsc2UgfSk7XG4gICAgICogXygnZnJlZCcpLnZvd2VscygpO1xuICAgICAqIC8vID0+IFsnZSddXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWl4aW4ob2JqZWN0LCBzb3VyY2UsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBwcm9wcyA9IGtleXMoc291cmNlKSxcbiAgICAgICAgICBtZXRob2ROYW1lcyA9IGJhc2VGdW5jdGlvbnMoc291cmNlLCBwcm9wcyk7XG5cbiAgICAgIGlmIChvcHRpb25zID09IG51bGwgJiZcbiAgICAgICAgICAhKGlzT2JqZWN0KHNvdXJjZSkgJiYgKG1ldGhvZE5hbWVzLmxlbmd0aCB8fCAhcHJvcHMubGVuZ3RoKSkpIHtcbiAgICAgICAgb3B0aW9ucyA9IHNvdXJjZTtcbiAgICAgICAgc291cmNlID0gb2JqZWN0O1xuICAgICAgICBvYmplY3QgPSB0aGlzO1xuICAgICAgICBtZXRob2ROYW1lcyA9IGJhc2VGdW5jdGlvbnMoc291cmNlLCBrZXlzKHNvdXJjZSkpO1xuICAgICAgfVxuICAgICAgdmFyIGNoYWluID0gIShpc09iamVjdChvcHRpb25zKSAmJiAnY2hhaW4nIGluIG9wdGlvbnMpIHx8ICEhb3B0aW9ucy5jaGFpbixcbiAgICAgICAgICBpc0Z1bmMgPSBpc0Z1bmN0aW9uKG9iamVjdCk7XG5cbiAgICAgIGFycmF5RWFjaChtZXRob2ROYW1lcywgZnVuY3Rpb24obWV0aG9kTmFtZSkge1xuICAgICAgICB2YXIgZnVuYyA9IHNvdXJjZVttZXRob2ROYW1lXTtcbiAgICAgICAgb2JqZWN0W21ldGhvZE5hbWVdID0gZnVuYztcbiAgICAgICAgaWYgKGlzRnVuYykge1xuICAgICAgICAgIG9iamVjdC5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBjaGFpbkFsbCA9IHRoaXMuX19jaGFpbl9fO1xuICAgICAgICAgICAgaWYgKGNoYWluIHx8IGNoYWluQWxsKSB7XG4gICAgICAgICAgICAgIHZhciByZXN1bHQgPSBvYmplY3QodGhpcy5fX3dyYXBwZWRfXyksXG4gICAgICAgICAgICAgICAgICBhY3Rpb25zID0gcmVzdWx0Ll9fYWN0aW9uc19fID0gY29weUFycmF5KHRoaXMuX19hY3Rpb25zX18pO1xuXG4gICAgICAgICAgICAgIGFjdGlvbnMucHVzaCh7ICdmdW5jJzogZnVuYywgJ2FyZ3MnOiBhcmd1bWVudHMsICd0aGlzQXJnJzogb2JqZWN0IH0pO1xuICAgICAgICAgICAgICByZXN1bHQuX19jaGFpbl9fID0gY2hhaW5BbGw7XG4gICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZnVuYy5hcHBseShvYmplY3QsIGFycmF5UHVzaChbdGhpcy52YWx1ZSgpXSwgYXJndW1lbnRzKSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV2ZXJ0cyB0aGUgYF9gIHZhcmlhYmxlIHRvIGl0cyBwcmV2aW91cyB2YWx1ZSBhbmQgcmV0dXJucyBhIHJlZmVyZW5jZSB0b1xuICAgICAqIHRoZSBgbG9kYXNoYCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBgbG9kYXNoYCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGxvZGFzaCA9IF8ubm9Db25mbGljdCgpO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIG5vQ29uZmxpY3QoKSB7XG4gICAgICBpZiAocm9vdC5fID09PSB0aGlzKSB7XG4gICAgICAgIHJvb3QuXyA9IG9sZERhc2g7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIGB1bmRlZmluZWRgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50aW1lcygyLCBfLm5vb3ApO1xuICAgICAqIC8vID0+IFt1bmRlZmluZWQsIHVuZGVmaW5lZF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBub29wKCkge1xuICAgICAgLy8gTm8gb3BlcmF0aW9uIHBlcmZvcm1lZC5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBnZXRzIHRoZSBhcmd1bWVudCBhdCBpbmRleCBgbmAuIElmIGBuYCBpcyBuZWdhdGl2ZSxcbiAgICAgKiB0aGUgbnRoIGFyZ3VtZW50IGZyb20gdGhlIGVuZCBpcyByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTBdIFRoZSBpbmRleCBvZiB0aGUgYXJndW1lbnQgdG8gcmV0dXJuLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHBhc3MtdGhydSBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGZ1bmMgPSBfLm50aEFyZygxKTtcbiAgICAgKiBmdW5jKCdhJywgJ2InLCAnYycsICdkJyk7XG4gICAgICogLy8gPT4gJ2InXG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8ubnRoQXJnKC0yKTtcbiAgICAgKiBmdW5jKCdhJywgJ2InLCAnYycsICdkJyk7XG4gICAgICogLy8gPT4gJ2MnXG4gICAgICovXG4gICAgZnVuY3Rpb24gbnRoQXJnKG4pIHtcbiAgICAgIG4gPSB0b0ludGVnZXIobik7XG4gICAgICByZXR1cm4gYmFzZVJlc3QoZnVuY3Rpb24oYXJncykge1xuICAgICAgICByZXR1cm4gYmFzZU50aChhcmdzLCBuKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGl0ZXJhdGVlc2Agd2l0aCB0aGUgYXJndW1lbnRzIGl0IHJlY2VpdmVzXG4gICAgICogYW5kIHJldHVybnMgdGhlaXIgcmVzdWx0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsuLi4oRnVuY3Rpb258RnVuY3Rpb25bXSl9IFtpdGVyYXRlZXM9W18uaWRlbnRpdHldXVxuICAgICAqICBUaGUgaXRlcmF0ZWVzIHRvIGludm9rZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGZ1bmMgPSBfLm92ZXIoW01hdGgubWF4LCBNYXRoLm1pbl0pO1xuICAgICAqXG4gICAgICogZnVuYygxLCAyLCAzLCA0KTtcbiAgICAgKiAvLyA9PiBbNCwgMV1cbiAgICAgKi9cbiAgICB2YXIgb3ZlciA9IGNyZWF0ZU92ZXIoYXJyYXlNYXApO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgY2hlY2tzIGlmICoqYWxsKiogb2YgdGhlIGBwcmVkaWNhdGVzYCByZXR1cm5cbiAgICAgKiB0cnV0aHkgd2hlbiBpbnZva2VkIHdpdGggdGhlIGFyZ3VtZW50cyBpdCByZWNlaXZlcy5cbiAgICAgKlxuICAgICAqIEZvbGxvd2luZyBzaG9ydGhhbmRzIGFyZSBwb3NzaWJsZSBmb3IgcHJvdmlkaW5nIHByZWRpY2F0ZXMuXG4gICAgICogUGFzcyBhbiBgT2JqZWN0YCBhbmQgaXQgd2lsbCBiZSB1c2VkIGFzIGFuIHBhcmFtZXRlciBmb3IgYF8ubWF0Y2hlc2AgdG8gY3JlYXRlIHRoZSBwcmVkaWNhdGUuXG4gICAgICogUGFzcyBhbiBgQXJyYXlgIG9mIHBhcmFtZXRlcnMgZm9yIGBfLm1hdGNoZXNQcm9wZXJ0eWAgYW5kIHRoZSBwcmVkaWNhdGUgd2lsbCBiZSBjcmVhdGVkIHVzaW5nIHRoZW0uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbcHJlZGljYXRlcz1bXy5pZGVudGl0eV1dXG4gICAgICogIFRoZSBwcmVkaWNhdGVzIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8ub3ZlckV2ZXJ5KFtCb29sZWFuLCBpc0Zpbml0ZV0pO1xuICAgICAqXG4gICAgICogZnVuYygnMScpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIGZ1bmMobnVsbCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIGZ1bmMoTmFOKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBvdmVyRXZlcnkgPSBjcmVhdGVPdmVyKGFycmF5RXZlcnkpO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgY2hlY2tzIGlmICoqYW55Kiogb2YgdGhlIGBwcmVkaWNhdGVzYCByZXR1cm5cbiAgICAgKiB0cnV0aHkgd2hlbiBpbnZva2VkIHdpdGggdGhlIGFyZ3VtZW50cyBpdCByZWNlaXZlcy5cbiAgICAgKlxuICAgICAqIEZvbGxvd2luZyBzaG9ydGhhbmRzIGFyZSBwb3NzaWJsZSBmb3IgcHJvdmlkaW5nIHByZWRpY2F0ZXMuXG4gICAgICogUGFzcyBhbiBgT2JqZWN0YCBhbmQgaXQgd2lsbCBiZSB1c2VkIGFzIGFuIHBhcmFtZXRlciBmb3IgYF8ubWF0Y2hlc2AgdG8gY3JlYXRlIHRoZSBwcmVkaWNhdGUuXG4gICAgICogUGFzcyBhbiBgQXJyYXlgIG9mIHBhcmFtZXRlcnMgZm9yIGBfLm1hdGNoZXNQcm9wZXJ0eWAgYW5kIHRoZSBwcmVkaWNhdGUgd2lsbCBiZSBjcmVhdGVkIHVzaW5nIHRoZW0uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbcHJlZGljYXRlcz1bXy5pZGVudGl0eV1dXG4gICAgICogIFRoZSBwcmVkaWNhdGVzIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8ub3ZlclNvbWUoW0Jvb2xlYW4sIGlzRmluaXRlXSk7XG4gICAgICpcbiAgICAgKiBmdW5jKCcxJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogZnVuYyhudWxsKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBmdW5jKE5hTik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIHZhciBtYXRjaGVzRnVuYyA9IF8ub3ZlclNvbWUoW3sgJ2EnOiAxIH0sIHsgJ2EnOiAyIH1dKVxuICAgICAqIHZhciBtYXRjaGVzUHJvcGVydHlGdW5jID0gXy5vdmVyU29tZShbWydhJywgMV0sIFsnYScsIDJdXSlcbiAgICAgKi9cbiAgICB2YXIgb3ZlclNvbWUgPSBjcmVhdGVPdmVyKGFycmF5U29tZSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSB2YWx1ZSBhdCBgcGF0aGAgb2YgYSBnaXZlbiBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi40LjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWNjZXNzb3IgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW1xuICAgICAqICAgeyAnYSc6IHsgJ2InOiAyIH0gfSxcbiAgICAgKiAgIHsgJ2EnOiB7ICdiJzogMSB9IH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5tYXAob2JqZWN0cywgXy5wcm9wZXJ0eSgnYS5iJykpO1xuICAgICAqIC8vID0+IFsyLCAxXVxuICAgICAqXG4gICAgICogXy5tYXAoXy5zb3J0Qnkob2JqZWN0cywgXy5wcm9wZXJ0eShbJ2EnLCAnYiddKSksICdhLmInKTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwcm9wZXJ0eShwYXRoKSB7XG4gICAgICByZXR1cm4gaXNLZXkocGF0aCkgPyBiYXNlUHJvcGVydHkodG9LZXkocGF0aCkpIDogYmFzZVByb3BlcnR5RGVlcChwYXRoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8ucHJvcGVydHlgOyB0aGlzIG1ldGhvZCBjcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zXG4gICAgICogdGhlIHZhbHVlIGF0IGEgZ2l2ZW4gcGF0aCBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFjY2Vzc29yIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMCwgMSwgMl0sXG4gICAgICogICAgIG9iamVjdCA9IHsgJ2EnOiBhcnJheSwgJ2InOiBhcnJheSwgJ2MnOiBhcnJheSB9O1xuICAgICAqXG4gICAgICogXy5tYXAoWydhWzJdJywgJ2NbMF0nXSwgXy5wcm9wZXJ0eU9mKG9iamVjdCkpO1xuICAgICAqIC8vID0+IFsyLCAwXVxuICAgICAqXG4gICAgICogXy5tYXAoW1snYScsICcyJ10sIFsnYycsICcwJ11dLCBfLnByb3BlcnR5T2Yob2JqZWN0KSk7XG4gICAgICogLy8gPT4gWzIsIDBdXG4gICAgICovXG4gICAgZnVuY3Rpb24gcHJvcGVydHlPZihvYmplY3QpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihwYXRoKSB7XG4gICAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IGJhc2VHZXQob2JqZWN0LCBwYXRoKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBudW1iZXJzIChwb3NpdGl2ZSBhbmQvb3IgbmVnYXRpdmUpIHByb2dyZXNzaW5nIGZyb21cbiAgICAgKiBgc3RhcnRgIHVwIHRvLCBidXQgbm90IGluY2x1ZGluZywgYGVuZGAuIEEgc3RlcCBvZiBgLTFgIGlzIHVzZWQgaWYgYSBuZWdhdGl2ZVxuICAgICAqIGBzdGFydGAgaXMgc3BlY2lmaWVkIHdpdGhvdXQgYW4gYGVuZGAgb3IgYHN0ZXBgLiBJZiBgZW5kYCBpcyBub3Qgc3BlY2lmaWVkLFxuICAgICAqIGl0J3Mgc2V0IHRvIGBzdGFydGAgd2l0aCBgc3RhcnRgIHRoZW4gc2V0IHRvIGAwYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBKYXZhU2NyaXB0IGZvbGxvd3MgdGhlIElFRUUtNzU0IHN0YW5kYXJkIGZvciByZXNvbHZpbmdcbiAgICAgKiBmbG9hdGluZy1wb2ludCB2YWx1ZXMgd2hpY2ggY2FuIHByb2R1Y2UgdW5leHBlY3RlZCByZXN1bHRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBUaGUgZW5kIG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0ZXA9MV0gVGhlIHZhbHVlIHRvIGluY3JlbWVudCBvciBkZWNyZW1lbnQgYnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSByYW5nZSBvZiBudW1iZXJzLlxuICAgICAqIEBzZWUgXy5pblJhbmdlLCBfLnJhbmdlUmlnaHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5yYW5nZSg0KTtcbiAgICAgKiAvLyA9PiBbMCwgMSwgMiwgM11cbiAgICAgKlxuICAgICAqIF8ucmFuZ2UoLTQpO1xuICAgICAqIC8vID0+IFswLCAtMSwgLTIsIC0zXVxuICAgICAqXG4gICAgICogXy5yYW5nZSgxLCA1KTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgMywgNF1cbiAgICAgKlxuICAgICAqIF8ucmFuZ2UoMCwgMjAsIDUpO1xuICAgICAqIC8vID0+IFswLCA1LCAxMCwgMTVdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlKDAsIC00LCAtMSk7XG4gICAgICogLy8gPT4gWzAsIC0xLCAtMiwgLTNdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlKDEsIDQsIDApO1xuICAgICAqIC8vID0+IFsxLCAxLCAxXVxuICAgICAqXG4gICAgICogXy5yYW5nZSgwKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqL1xuICAgIHZhciByYW5nZSA9IGNyZWF0ZVJhbmdlKCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnJhbmdlYCBleGNlcHQgdGhhdCBpdCBwb3B1bGF0ZXMgdmFsdWVzIGluXG4gICAgICogZGVzY2VuZGluZyBvcmRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgVGhlIGVuZCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGVwPTFdIFRoZSB2YWx1ZSB0byBpbmNyZW1lbnQgb3IgZGVjcmVtZW50IGJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcmFuZ2Ugb2YgbnVtYmVycy5cbiAgICAgKiBAc2VlIF8uaW5SYW5nZSwgXy5yYW5nZVxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoNCk7XG4gICAgICogLy8gPT4gWzMsIDIsIDEsIDBdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoLTQpO1xuICAgICAqIC8vID0+IFstMywgLTIsIC0xLCAwXVxuICAgICAqXG4gICAgICogXy5yYW5nZVJpZ2h0KDEsIDUpO1xuICAgICAqIC8vID0+IFs0LCAzLCAyLCAxXVxuICAgICAqXG4gICAgICogXy5yYW5nZVJpZ2h0KDAsIDIwLCA1KTtcbiAgICAgKiAvLyA9PiBbMTUsIDEwLCA1LCAwXVxuICAgICAqXG4gICAgICogXy5yYW5nZVJpZ2h0KDAsIC00LCAtMSk7XG4gICAgICogLy8gPT4gWy0zLCAtMiwgLTEsIDBdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoMSwgNCwgMCk7XG4gICAgICogLy8gPT4gWzEsIDEsIDFdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoMCk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKi9cbiAgICB2YXIgcmFuZ2VSaWdodCA9IGNyZWF0ZVJhbmdlKHRydWUpO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBlbXB0eSBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjEzLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGVtcHR5IGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXlzID0gXy50aW1lcygyLCBfLnN0dWJBcnJheSk7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheXMpO1xuICAgICAqIC8vID0+IFtbXSwgW11dXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheXNbMF0gPT09IGFycmF5c1sxXSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdHViQXJyYXkoKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMTMuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50aW1lcygyLCBfLnN0dWJGYWxzZSk7XG4gICAgICogLy8gPT4gW2ZhbHNlLCBmYWxzZV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdHViRmFsc2UoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBlbXB0eSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xMy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgZW1wdHkgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IF8udGltZXMoMiwgXy5zdHViT2JqZWN0KTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdHMpO1xuICAgICAqIC8vID0+IFt7fSwge31dXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3RzWzBdID09PSBvYmplY3RzWzFdKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0dWJPYmplY3QoKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBhbiBlbXB0eSBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xMy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBlbXB0eSBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udGltZXMoMiwgXy5zdHViU3RyaW5nKTtcbiAgICAgKiAvLyA9PiBbJycsICcnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0dWJTdHJpbmcoKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBgdHJ1ZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xMy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udGltZXMoMiwgXy5zdHViVHJ1ZSk7XG4gICAgICogLy8gPT4gW3RydWUsIHRydWVdXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3R1YlRydWUoKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbnZva2VzIHRoZSBpdGVyYXRlZSBgbmAgdGltZXMsIHJldHVybmluZyBhbiBhcnJheSBvZiB0aGUgcmVzdWx0cyBvZlxuICAgICAqIGVhY2ggaW52b2NhdGlvbi4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ7IChpbmRleCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgdGltZXMgdG8gaW52b2tlIGBpdGVyYXRlZWAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiByZXN1bHRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRpbWVzKDMsIFN0cmluZyk7XG4gICAgICogLy8gPT4gWycwJywgJzEnLCAnMiddXG4gICAgICpcbiAgICAgKiAgXy50aW1lcyg0LCBfLmNvbnN0YW50KDApKTtcbiAgICAgKiAvLyA9PiBbMCwgMCwgMCwgMF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0aW1lcyhuLCBpdGVyYXRlZSkge1xuICAgICAgbiA9IHRvSW50ZWdlcihuKTtcbiAgICAgIGlmIChuIDwgMSB8fCBuID4gTUFYX1NBRkVfSU5URUdFUikge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSBNQVhfQVJSQVlfTEVOR1RILFxuICAgICAgICAgIGxlbmd0aCA9IG5hdGl2ZU1pbihuLCBNQVhfQVJSQVlfTEVOR1RIKTtcblxuICAgICAgaXRlcmF0ZWUgPSBnZXRJdGVyYXRlZShpdGVyYXRlZSk7XG4gICAgICBuIC09IE1BWF9BUlJBWV9MRU5HVEg7XG5cbiAgICAgIHZhciByZXN1bHQgPSBiYXNlVGltZXMobGVuZ3RoLCBpdGVyYXRlZSk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IG4pIHtcbiAgICAgICAgaXRlcmF0ZWUoaW5kZXgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgcHJvcGVydHkgcGF0aCBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvUGF0aCgnYS5iLmMnKTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYicsICdjJ11cbiAgICAgKlxuICAgICAqIF8udG9QYXRoKCdhWzBdLmIuYycpO1xuICAgICAqIC8vID0+IFsnYScsICcwJywgJ2InLCAnYyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9QYXRoKHZhbHVlKSB7XG4gICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGFycmF5TWFwKHZhbHVlLCB0b0tleSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXNTeW1ib2wodmFsdWUpID8gW3ZhbHVlXSA6IGNvcHlBcnJheShzdHJpbmdUb1BhdGgodG9TdHJpbmcodmFsdWUpKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIGEgdW5pcXVlIElELiBJZiBgcHJlZml4YCBpcyBnaXZlbiwgdGhlIElEIGlzIGFwcGVuZGVkIHRvIGl0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3ByZWZpeD0nJ10gVGhlIHZhbHVlIHRvIHByZWZpeCB0aGUgSUQgd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB1bmlxdWUgSUQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udW5pcXVlSWQoJ2NvbnRhY3RfJyk7XG4gICAgICogLy8gPT4gJ2NvbnRhY3RfMTA0J1xuICAgICAqXG4gICAgICogXy51bmlxdWVJZCgpO1xuICAgICAqIC8vID0+ICcxMDUnXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5pcXVlSWQocHJlZml4KSB7XG4gICAgICB2YXIgaWQgPSArK2lkQ291bnRlcjtcbiAgICAgIHJldHVybiB0b1N0cmluZyhwcmVmaXgpICsgaWQ7XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQWRkcyB0d28gbnVtYmVycy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjQuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGF1Z2VuZCBUaGUgZmlyc3QgbnVtYmVyIGluIGFuIGFkZGl0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhZGRlbmQgVGhlIHNlY29uZCBudW1iZXIgaW4gYW4gYWRkaXRpb24uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgdG90YWwuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uYWRkKDYsIDQpO1xuICAgICAqIC8vID0+IDEwXG4gICAgICovXG4gICAgdmFyIGFkZCA9IGNyZWF0ZU1hdGhPcGVyYXRpb24oZnVuY3Rpb24oYXVnZW5kLCBhZGRlbmQpIHtcbiAgICAgIHJldHVybiBhdWdlbmQgKyBhZGRlbmQ7XG4gICAgfSwgMCk7XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyBgbnVtYmVyYCByb3VuZGVkIHVwIHRvIGBwcmVjaXNpb25gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMTAuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIHJvdW5kIHVwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcHJlY2lzaW9uPTBdIFRoZSBwcmVjaXNpb24gdG8gcm91bmQgdXAgdG8uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcm91bmRlZCB1cCBudW1iZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY2VpbCg0LjAwNik7XG4gICAgICogLy8gPT4gNVxuICAgICAqXG4gICAgICogXy5jZWlsKDYuMDA0LCAyKTtcbiAgICAgKiAvLyA9PiA2LjAxXG4gICAgICpcbiAgICAgKiBfLmNlaWwoNjA0MCwgLTIpO1xuICAgICAqIC8vID0+IDYxMDBcbiAgICAgKi9cbiAgICB2YXIgY2VpbCA9IGNyZWF0ZVJvdW5kKCdjZWlsJyk7XG5cbiAgICAvKipcbiAgICAgKiBEaXZpZGUgdHdvIG51bWJlcnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkaXZpZGVuZCBUaGUgZmlyc3QgbnVtYmVyIGluIGEgZGl2aXNpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRpdmlzb3IgVGhlIHNlY29uZCBudW1iZXIgaW4gYSBkaXZpc2lvbi5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBxdW90aWVudC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kaXZpZGUoNiwgNCk7XG4gICAgICogLy8gPT4gMS41XG4gICAgICovXG4gICAgdmFyIGRpdmlkZSA9IGNyZWF0ZU1hdGhPcGVyYXRpb24oZnVuY3Rpb24oZGl2aWRlbmQsIGRpdmlzb3IpIHtcbiAgICAgIHJldHVybiBkaXZpZGVuZCAvIGRpdmlzb3I7XG4gICAgfSwgMSk7XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyBgbnVtYmVyYCByb3VuZGVkIGRvd24gdG8gYHByZWNpc2lvbmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4xMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgdG8gcm91bmQgZG93bi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3ByZWNpc2lvbj0wXSBUaGUgcHJlY2lzaW9uIHRvIHJvdW5kIGRvd24gdG8uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcm91bmRlZCBkb3duIG51bWJlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5mbG9vcig0LjAwNik7XG4gICAgICogLy8gPT4gNFxuICAgICAqXG4gICAgICogXy5mbG9vcigwLjA0NiwgMik7XG4gICAgICogLy8gPT4gMC4wNFxuICAgICAqXG4gICAgICogXy5mbG9vcig0MDYwLCAtMik7XG4gICAgICogLy8gPT4gNDAwMFxuICAgICAqL1xuICAgIHZhciBmbG9vciA9IGNyZWF0ZVJvdW5kKCdmbG9vcicpO1xuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgdGhlIG1heGltdW0gdmFsdWUgb2YgYGFycmF5YC4gSWYgYGFycmF5YCBpcyBlbXB0eSBvciBmYWxzZXksXG4gICAgICogYHVuZGVmaW5lZGAgaXMgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1heGltdW0gdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubWF4KFs0LCAyLCA4LCA2XSk7XG4gICAgICogLy8gPT4gOFxuICAgICAqXG4gICAgICogXy5tYXgoW10pO1xuICAgICAqIC8vID0+IHVuZGVmaW5lZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1heChhcnJheSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZUV4dHJlbXVtKGFycmF5LCBpZGVudGl0eSwgYmFzZUd0KVxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLm1heGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IGluIGBhcnJheWAgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvbiBieSB3aGljaFxuICAgICAqIHRoZSB2YWx1ZSBpcyByYW5rZWQuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWF4aW11bSB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAnbic6IDEgfSwgeyAnbic6IDIgfV07XG4gICAgICpcbiAgICAgKiBfLm1heEJ5KG9iamVjdHMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8ubjsgfSk7XG4gICAgICogLy8gPT4geyAnbic6IDIgfVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5tYXhCeShvYmplY3RzLCAnbicpO1xuICAgICAqIC8vID0+IHsgJ24nOiAyIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXhCeShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VFeHRyZW11bShhcnJheSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpLCBiYXNlR3QpXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIHRoZSBtZWFuIG9mIHRoZSB2YWx1ZXMgaW4gYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBtZWFuLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLm1lYW4oWzQsIDIsIDgsIDZdKTtcbiAgICAgKiAvLyA9PiA1XG4gICAgICovXG4gICAgZnVuY3Rpb24gbWVhbihhcnJheSkge1xuICAgICAgcmV0dXJuIGJhc2VNZWFuKGFycmF5LCBpZGVudGl0eSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5tZWFuYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgaW4gYGFycmF5YCB0byBnZW5lcmF0ZSB0aGUgdmFsdWUgdG8gYmUgYXZlcmFnZWQuXG4gICAgICogVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIG1lYW4uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ24nOiA0IH0sIHsgJ24nOiAyIH0sIHsgJ24nOiA4IH0sIHsgJ24nOiA2IH1dO1xuICAgICAqXG4gICAgICogXy5tZWFuQnkob2JqZWN0cywgZnVuY3Rpb24obykgeyByZXR1cm4gby5uOyB9KTtcbiAgICAgKiAvLyA9PiA1XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLm1lYW5CeShvYmplY3RzLCAnbicpO1xuICAgICAqIC8vID0+IDVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtZWFuQnkoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gYmFzZU1lYW4oYXJyYXksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgdGhlIG1pbmltdW0gdmFsdWUgb2YgYGFycmF5YC4gSWYgYGFycmF5YCBpcyBlbXB0eSBvciBmYWxzZXksXG4gICAgICogYHVuZGVmaW5lZGAgaXMgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1pbmltdW0gdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubWluKFs0LCAyLCA4LCA2XSk7XG4gICAgICogLy8gPT4gMlxuICAgICAqXG4gICAgICogXy5taW4oW10pO1xuICAgICAqIC8vID0+IHVuZGVmaW5lZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1pbihhcnJheSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZUV4dHJlbXVtKGFycmF5LCBpZGVudGl0eSwgYmFzZUx0KVxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLm1pbmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IGluIGBhcnJheWAgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvbiBieSB3aGljaFxuICAgICAqIHRoZSB2YWx1ZSBpcyByYW5rZWQuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWluaW11bSB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAnbic6IDEgfSwgeyAnbic6IDIgfV07XG4gICAgICpcbiAgICAgKiBfLm1pbkJ5KG9iamVjdHMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8ubjsgfSk7XG4gICAgICogLy8gPT4geyAnbic6IDEgfVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5taW5CeShvYmplY3RzLCAnbicpO1xuICAgICAqIC8vID0+IHsgJ24nOiAxIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtaW5CeShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VFeHRyZW11bShhcnJheSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpLCBiYXNlTHQpXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE11bHRpcGx5IHR3byBudW1iZXJzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNy4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbXVsdGlwbGllciBUaGUgZmlyc3QgbnVtYmVyIGluIGEgbXVsdGlwbGljYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG11bHRpcGxpY2FuZCBUaGUgc2Vjb25kIG51bWJlciBpbiBhIG11bHRpcGxpY2F0aW9uLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHByb2R1Y3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubXVsdGlwbHkoNiwgNCk7XG4gICAgICogLy8gPT4gMjRcbiAgICAgKi9cbiAgICB2YXIgbXVsdGlwbHkgPSBjcmVhdGVNYXRoT3BlcmF0aW9uKGZ1bmN0aW9uKG11bHRpcGxpZXIsIG11bHRpcGxpY2FuZCkge1xuICAgICAgcmV0dXJuIG11bHRpcGxpZXIgKiBtdWx0aXBsaWNhbmQ7XG4gICAgfSwgMSk7XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyBgbnVtYmVyYCByb3VuZGVkIHRvIGBwcmVjaXNpb25gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMTAuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIHJvdW5kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcHJlY2lzaW9uPTBdIFRoZSBwcmVjaXNpb24gdG8gcm91bmQgdG8uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcm91bmRlZCBudW1iZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucm91bmQoNC4wMDYpO1xuICAgICAqIC8vID0+IDRcbiAgICAgKlxuICAgICAqIF8ucm91bmQoNC4wMDYsIDIpO1xuICAgICAqIC8vID0+IDQuMDFcbiAgICAgKlxuICAgICAqIF8ucm91bmQoNDA2MCwgLTIpO1xuICAgICAqIC8vID0+IDQxMDBcbiAgICAgKi9cbiAgICB2YXIgcm91bmQgPSBjcmVhdGVSb3VuZCgncm91bmQnKTtcblxuICAgIC8qKlxuICAgICAqIFN1YnRyYWN0IHR3byBudW1iZXJzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWludWVuZCBUaGUgZmlyc3QgbnVtYmVyIGluIGEgc3VidHJhY3Rpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN1YnRyYWhlbmQgVGhlIHNlY29uZCBudW1iZXIgaW4gYSBzdWJ0cmFjdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBkaWZmZXJlbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnN1YnRyYWN0KDYsIDQpO1xuICAgICAqIC8vID0+IDJcbiAgICAgKi9cbiAgICB2YXIgc3VidHJhY3QgPSBjcmVhdGVNYXRoT3BlcmF0aW9uKGZ1bmN0aW9uKG1pbnVlbmQsIHN1YnRyYWhlbmQpIHtcbiAgICAgIHJldHVybiBtaW51ZW5kIC0gc3VidHJhaGVuZDtcbiAgICB9LCAwKTtcblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIHRoZSBzdW0gb2YgdGhlIHZhbHVlcyBpbiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuNC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHN1bS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zdW0oWzQsIDIsIDgsIDZdKTtcbiAgICAgKiAvLyA9PiAyMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN1bShhcnJheSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZVN1bShhcnJheSwgaWRlbnRpdHkpXG4gICAgICAgIDogMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnN1bWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IGluIGBhcnJheWAgdG8gZ2VuZXJhdGUgdGhlIHZhbHVlIHRvIGJlIHN1bW1lZC5cbiAgICAgKiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc3VtLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICduJzogNCB9LCB7ICduJzogMiB9LCB7ICduJzogOCB9LCB7ICduJzogNiB9XTtcbiAgICAgKlxuICAgICAqIF8uc3VtQnkob2JqZWN0cywgZnVuY3Rpb24obykgeyByZXR1cm4gby5uOyB9KTtcbiAgICAgKiAvLyA9PiAyMFxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5zdW1CeShvYmplY3RzLCAnbicpO1xuICAgICAqIC8vID0+IDIwXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3VtQnkoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlU3VtKGFycmF5LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpXG4gICAgICAgIDogMDtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0aGF0IHJldHVybiB3cmFwcGVkIHZhbHVlcyBpbiBjaGFpbiBzZXF1ZW5jZXMuXG4gICAgbG9kYXNoLmFmdGVyID0gYWZ0ZXI7XG4gICAgbG9kYXNoLmFyeSA9IGFyeTtcbiAgICBsb2Rhc2guYXNzaWduID0gYXNzaWduO1xuICAgIGxvZGFzaC5hc3NpZ25JbiA9IGFzc2lnbkluO1xuICAgIGxvZGFzaC5hc3NpZ25JbldpdGggPSBhc3NpZ25JbldpdGg7XG4gICAgbG9kYXNoLmFzc2lnbldpdGggPSBhc3NpZ25XaXRoO1xuICAgIGxvZGFzaC5hdCA9IGF0O1xuICAgIGxvZGFzaC5iZWZvcmUgPSBiZWZvcmU7XG4gICAgbG9kYXNoLmJpbmQgPSBiaW5kO1xuICAgIGxvZGFzaC5iaW5kQWxsID0gYmluZEFsbDtcbiAgICBsb2Rhc2guYmluZEtleSA9IGJpbmRLZXk7XG4gICAgbG9kYXNoLmNhc3RBcnJheSA9IGNhc3RBcnJheTtcbiAgICBsb2Rhc2guY2hhaW4gPSBjaGFpbjtcbiAgICBsb2Rhc2guY2h1bmsgPSBjaHVuaztcbiAgICBsb2Rhc2guY29tcGFjdCA9IGNvbXBhY3Q7XG4gICAgbG9kYXNoLmNvbmNhdCA9IGNvbmNhdDtcbiAgICBsb2Rhc2guY29uZCA9IGNvbmQ7XG4gICAgbG9kYXNoLmNvbmZvcm1zID0gY29uZm9ybXM7XG4gICAgbG9kYXNoLmNvbnN0YW50ID0gY29uc3RhbnQ7XG4gICAgbG9kYXNoLmNvdW50QnkgPSBjb3VudEJ5O1xuICAgIGxvZGFzaC5jcmVhdGUgPSBjcmVhdGU7XG4gICAgbG9kYXNoLmN1cnJ5ID0gY3Vycnk7XG4gICAgbG9kYXNoLmN1cnJ5UmlnaHQgPSBjdXJyeVJpZ2h0O1xuICAgIGxvZGFzaC5kZWJvdW5jZSA9IGRlYm91bmNlO1xuICAgIGxvZGFzaC5kZWZhdWx0cyA9IGRlZmF1bHRzO1xuICAgIGxvZGFzaC5kZWZhdWx0c0RlZXAgPSBkZWZhdWx0c0RlZXA7XG4gICAgbG9kYXNoLmRlZmVyID0gZGVmZXI7XG4gICAgbG9kYXNoLmRlbGF5ID0gZGVsYXk7XG4gICAgbG9kYXNoLmRpZmZlcmVuY2UgPSBkaWZmZXJlbmNlO1xuICAgIGxvZGFzaC5kaWZmZXJlbmNlQnkgPSBkaWZmZXJlbmNlQnk7XG4gICAgbG9kYXNoLmRpZmZlcmVuY2VXaXRoID0gZGlmZmVyZW5jZVdpdGg7XG4gICAgbG9kYXNoLmRyb3AgPSBkcm9wO1xuICAgIGxvZGFzaC5kcm9wUmlnaHQgPSBkcm9wUmlnaHQ7XG4gICAgbG9kYXNoLmRyb3BSaWdodFdoaWxlID0gZHJvcFJpZ2h0V2hpbGU7XG4gICAgbG9kYXNoLmRyb3BXaGlsZSA9IGRyb3BXaGlsZTtcbiAgICBsb2Rhc2guZmlsbCA9IGZpbGw7XG4gICAgbG9kYXNoLmZpbHRlciA9IGZpbHRlcjtcbiAgICBsb2Rhc2guZmxhdE1hcCA9IGZsYXRNYXA7XG4gICAgbG9kYXNoLmZsYXRNYXBEZWVwID0gZmxhdE1hcERlZXA7XG4gICAgbG9kYXNoLmZsYXRNYXBEZXB0aCA9IGZsYXRNYXBEZXB0aDtcbiAgICBsb2Rhc2guZmxhdHRlbiA9IGZsYXR0ZW47XG4gICAgbG9kYXNoLmZsYXR0ZW5EZWVwID0gZmxhdHRlbkRlZXA7XG4gICAgbG9kYXNoLmZsYXR0ZW5EZXB0aCA9IGZsYXR0ZW5EZXB0aDtcbiAgICBsb2Rhc2guZmxpcCA9IGZsaXA7XG4gICAgbG9kYXNoLmZsb3cgPSBmbG93O1xuICAgIGxvZGFzaC5mbG93UmlnaHQgPSBmbG93UmlnaHQ7XG4gICAgbG9kYXNoLmZyb21QYWlycyA9IGZyb21QYWlycztcbiAgICBsb2Rhc2guZnVuY3Rpb25zID0gZnVuY3Rpb25zO1xuICAgIGxvZGFzaC5mdW5jdGlvbnNJbiA9IGZ1bmN0aW9uc0luO1xuICAgIGxvZGFzaC5ncm91cEJ5ID0gZ3JvdXBCeTtcbiAgICBsb2Rhc2guaW5pdGlhbCA9IGluaXRpYWw7XG4gICAgbG9kYXNoLmludGVyc2VjdGlvbiA9IGludGVyc2VjdGlvbjtcbiAgICBsb2Rhc2guaW50ZXJzZWN0aW9uQnkgPSBpbnRlcnNlY3Rpb25CeTtcbiAgICBsb2Rhc2guaW50ZXJzZWN0aW9uV2l0aCA9IGludGVyc2VjdGlvbldpdGg7XG4gICAgbG9kYXNoLmludmVydCA9IGludmVydDtcbiAgICBsb2Rhc2guaW52ZXJ0QnkgPSBpbnZlcnRCeTtcbiAgICBsb2Rhc2guaW52b2tlTWFwID0gaW52b2tlTWFwO1xuICAgIGxvZGFzaC5pdGVyYXRlZSA9IGl0ZXJhdGVlO1xuICAgIGxvZGFzaC5rZXlCeSA9IGtleUJ5O1xuICAgIGxvZGFzaC5rZXlzID0ga2V5cztcbiAgICBsb2Rhc2gua2V5c0luID0ga2V5c0luO1xuICAgIGxvZGFzaC5tYXAgPSBtYXA7XG4gICAgbG9kYXNoLm1hcEtleXMgPSBtYXBLZXlzO1xuICAgIGxvZGFzaC5tYXBWYWx1ZXMgPSBtYXBWYWx1ZXM7XG4gICAgbG9kYXNoLm1hdGNoZXMgPSBtYXRjaGVzO1xuICAgIGxvZGFzaC5tYXRjaGVzUHJvcGVydHkgPSBtYXRjaGVzUHJvcGVydHk7XG4gICAgbG9kYXNoLm1lbW9pemUgPSBtZW1vaXplO1xuICAgIGxvZGFzaC5tZXJnZSA9IG1lcmdlO1xuICAgIGxvZGFzaC5tZXJnZVdpdGggPSBtZXJnZVdpdGg7XG4gICAgbG9kYXNoLm1ldGhvZCA9IG1ldGhvZDtcbiAgICBsb2Rhc2gubWV0aG9kT2YgPSBtZXRob2RPZjtcbiAgICBsb2Rhc2gubWl4aW4gPSBtaXhpbjtcbiAgICBsb2Rhc2gubmVnYXRlID0gbmVnYXRlO1xuICAgIGxvZGFzaC5udGhBcmcgPSBudGhBcmc7XG4gICAgbG9kYXNoLm9taXQgPSBvbWl0O1xuICAgIGxvZGFzaC5vbWl0QnkgPSBvbWl0Qnk7XG4gICAgbG9kYXNoLm9uY2UgPSBvbmNlO1xuICAgIGxvZGFzaC5vcmRlckJ5ID0gb3JkZXJCeTtcbiAgICBsb2Rhc2gub3ZlciA9IG92ZXI7XG4gICAgbG9kYXNoLm92ZXJBcmdzID0gb3ZlckFyZ3M7XG4gICAgbG9kYXNoLm92ZXJFdmVyeSA9IG92ZXJFdmVyeTtcbiAgICBsb2Rhc2gub3ZlclNvbWUgPSBvdmVyU29tZTtcbiAgICBsb2Rhc2gucGFydGlhbCA9IHBhcnRpYWw7XG4gICAgbG9kYXNoLnBhcnRpYWxSaWdodCA9IHBhcnRpYWxSaWdodDtcbiAgICBsb2Rhc2gucGFydGl0aW9uID0gcGFydGl0aW9uO1xuICAgIGxvZGFzaC5waWNrID0gcGljaztcbiAgICBsb2Rhc2gucGlja0J5ID0gcGlja0J5O1xuICAgIGxvZGFzaC5wcm9wZXJ0eSA9IHByb3BlcnR5O1xuICAgIGxvZGFzaC5wcm9wZXJ0eU9mID0gcHJvcGVydHlPZjtcbiAgICBsb2Rhc2gucHVsbCA9IHB1bGw7XG4gICAgbG9kYXNoLnB1bGxBbGwgPSBwdWxsQWxsO1xuICAgIGxvZGFzaC5wdWxsQWxsQnkgPSBwdWxsQWxsQnk7XG4gICAgbG9kYXNoLnB1bGxBbGxXaXRoID0gcHVsbEFsbFdpdGg7XG4gICAgbG9kYXNoLnB1bGxBdCA9IHB1bGxBdDtcbiAgICBsb2Rhc2gucmFuZ2UgPSByYW5nZTtcbiAgICBsb2Rhc2gucmFuZ2VSaWdodCA9IHJhbmdlUmlnaHQ7XG4gICAgbG9kYXNoLnJlYXJnID0gcmVhcmc7XG4gICAgbG9kYXNoLnJlamVjdCA9IHJlamVjdDtcbiAgICBsb2Rhc2gucmVtb3ZlID0gcmVtb3ZlO1xuICAgIGxvZGFzaC5yZXN0ID0gcmVzdDtcbiAgICBsb2Rhc2gucmV2ZXJzZSA9IHJldmVyc2U7XG4gICAgbG9kYXNoLnNhbXBsZVNpemUgPSBzYW1wbGVTaXplO1xuICAgIGxvZGFzaC5zZXQgPSBzZXQ7XG4gICAgbG9kYXNoLnNldFdpdGggPSBzZXRXaXRoO1xuICAgIGxvZGFzaC5zaHVmZmxlID0gc2h1ZmZsZTtcbiAgICBsb2Rhc2guc2xpY2UgPSBzbGljZTtcbiAgICBsb2Rhc2guc29ydEJ5ID0gc29ydEJ5O1xuICAgIGxvZGFzaC5zb3J0ZWRVbmlxID0gc29ydGVkVW5pcTtcbiAgICBsb2Rhc2guc29ydGVkVW5pcUJ5ID0gc29ydGVkVW5pcUJ5O1xuICAgIGxvZGFzaC5zcGxpdCA9IHNwbGl0O1xuICAgIGxvZGFzaC5zcHJlYWQgPSBzcHJlYWQ7XG4gICAgbG9kYXNoLnRhaWwgPSB0YWlsO1xuICAgIGxvZGFzaC50YWtlID0gdGFrZTtcbiAgICBsb2Rhc2gudGFrZVJpZ2h0ID0gdGFrZVJpZ2h0O1xuICAgIGxvZGFzaC50YWtlUmlnaHRXaGlsZSA9IHRha2VSaWdodFdoaWxlO1xuICAgIGxvZGFzaC50YWtlV2hpbGUgPSB0YWtlV2hpbGU7XG4gICAgbG9kYXNoLnRhcCA9IHRhcDtcbiAgICBsb2Rhc2gudGhyb3R0bGUgPSB0aHJvdHRsZTtcbiAgICBsb2Rhc2gudGhydSA9IHRocnU7XG4gICAgbG9kYXNoLnRvQXJyYXkgPSB0b0FycmF5O1xuICAgIGxvZGFzaC50b1BhaXJzID0gdG9QYWlycztcbiAgICBsb2Rhc2gudG9QYWlyc0luID0gdG9QYWlyc0luO1xuICAgIGxvZGFzaC50b1BhdGggPSB0b1BhdGg7XG4gICAgbG9kYXNoLnRvUGxhaW5PYmplY3QgPSB0b1BsYWluT2JqZWN0O1xuICAgIGxvZGFzaC50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gICAgbG9kYXNoLnVuYXJ5ID0gdW5hcnk7XG4gICAgbG9kYXNoLnVuaW9uID0gdW5pb247XG4gICAgbG9kYXNoLnVuaW9uQnkgPSB1bmlvbkJ5O1xuICAgIGxvZGFzaC51bmlvbldpdGggPSB1bmlvbldpdGg7XG4gICAgbG9kYXNoLnVuaXEgPSB1bmlxO1xuICAgIGxvZGFzaC51bmlxQnkgPSB1bmlxQnk7XG4gICAgbG9kYXNoLnVuaXFXaXRoID0gdW5pcVdpdGg7XG4gICAgbG9kYXNoLnVuc2V0ID0gdW5zZXQ7XG4gICAgbG9kYXNoLnVuemlwID0gdW56aXA7XG4gICAgbG9kYXNoLnVuemlwV2l0aCA9IHVuemlwV2l0aDtcbiAgICBsb2Rhc2gudXBkYXRlID0gdXBkYXRlO1xuICAgIGxvZGFzaC51cGRhdGVXaXRoID0gdXBkYXRlV2l0aDtcbiAgICBsb2Rhc2gudmFsdWVzID0gdmFsdWVzO1xuICAgIGxvZGFzaC52YWx1ZXNJbiA9IHZhbHVlc0luO1xuICAgIGxvZGFzaC53aXRob3V0ID0gd2l0aG91dDtcbiAgICBsb2Rhc2gud29yZHMgPSB3b3JkcztcbiAgICBsb2Rhc2gud3JhcCA9IHdyYXA7XG4gICAgbG9kYXNoLnhvciA9IHhvcjtcbiAgICBsb2Rhc2gueG9yQnkgPSB4b3JCeTtcbiAgICBsb2Rhc2gueG9yV2l0aCA9IHhvcldpdGg7XG4gICAgbG9kYXNoLnppcCA9IHppcDtcbiAgICBsb2Rhc2guemlwT2JqZWN0ID0gemlwT2JqZWN0O1xuICAgIGxvZGFzaC56aXBPYmplY3REZWVwID0gemlwT2JqZWN0RGVlcDtcbiAgICBsb2Rhc2guemlwV2l0aCA9IHppcFdpdGg7XG5cbiAgICAvLyBBZGQgYWxpYXNlcy5cbiAgICBsb2Rhc2guZW50cmllcyA9IHRvUGFpcnM7XG4gICAgbG9kYXNoLmVudHJpZXNJbiA9IHRvUGFpcnNJbjtcbiAgICBsb2Rhc2guZXh0ZW5kID0gYXNzaWduSW47XG4gICAgbG9kYXNoLmV4dGVuZFdpdGggPSBhc3NpZ25JbldpdGg7XG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0byBgbG9kYXNoLnByb3RvdHlwZWAuXG4gICAgbWl4aW4obG9kYXNoLCBsb2Rhc2gpO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLy8gQWRkIG1ldGhvZHMgdGhhdCByZXR1cm4gdW53cmFwcGVkIHZhbHVlcyBpbiBjaGFpbiBzZXF1ZW5jZXMuXG4gICAgbG9kYXNoLmFkZCA9IGFkZDtcbiAgICBsb2Rhc2guYXR0ZW1wdCA9IGF0dGVtcHQ7XG4gICAgbG9kYXNoLmNhbWVsQ2FzZSA9IGNhbWVsQ2FzZTtcbiAgICBsb2Rhc2guY2FwaXRhbGl6ZSA9IGNhcGl0YWxpemU7XG4gICAgbG9kYXNoLmNlaWwgPSBjZWlsO1xuICAgIGxvZGFzaC5jbGFtcCA9IGNsYW1wO1xuICAgIGxvZGFzaC5jbG9uZSA9IGNsb25lO1xuICAgIGxvZGFzaC5jbG9uZURlZXAgPSBjbG9uZURlZXA7XG4gICAgbG9kYXNoLmNsb25lRGVlcFdpdGggPSBjbG9uZURlZXBXaXRoO1xuICAgIGxvZGFzaC5jbG9uZVdpdGggPSBjbG9uZVdpdGg7XG4gICAgbG9kYXNoLmNvbmZvcm1zVG8gPSBjb25mb3Jtc1RvO1xuICAgIGxvZGFzaC5kZWJ1cnIgPSBkZWJ1cnI7XG4gICAgbG9kYXNoLmRlZmF1bHRUbyA9IGRlZmF1bHRUbztcbiAgICBsb2Rhc2guZGl2aWRlID0gZGl2aWRlO1xuICAgIGxvZGFzaC5lbmRzV2l0aCA9IGVuZHNXaXRoO1xuICAgIGxvZGFzaC5lcSA9IGVxO1xuICAgIGxvZGFzaC5lc2NhcGUgPSBlc2NhcGU7XG4gICAgbG9kYXNoLmVzY2FwZVJlZ0V4cCA9IGVzY2FwZVJlZ0V4cDtcbiAgICBsb2Rhc2guZXZlcnkgPSBldmVyeTtcbiAgICBsb2Rhc2guZmluZCA9IGZpbmQ7XG4gICAgbG9kYXNoLmZpbmRJbmRleCA9IGZpbmRJbmRleDtcbiAgICBsb2Rhc2guZmluZEtleSA9IGZpbmRLZXk7XG4gICAgbG9kYXNoLmZpbmRMYXN0ID0gZmluZExhc3Q7XG4gICAgbG9kYXNoLmZpbmRMYXN0SW5kZXggPSBmaW5kTGFzdEluZGV4O1xuICAgIGxvZGFzaC5maW5kTGFzdEtleSA9IGZpbmRMYXN0S2V5O1xuICAgIGxvZGFzaC5mbG9vciA9IGZsb29yO1xuICAgIGxvZGFzaC5mb3JFYWNoID0gZm9yRWFjaDtcbiAgICBsb2Rhc2guZm9yRWFjaFJpZ2h0ID0gZm9yRWFjaFJpZ2h0O1xuICAgIGxvZGFzaC5mb3JJbiA9IGZvckluO1xuICAgIGxvZGFzaC5mb3JJblJpZ2h0ID0gZm9ySW5SaWdodDtcbiAgICBsb2Rhc2guZm9yT3duID0gZm9yT3duO1xuICAgIGxvZGFzaC5mb3JPd25SaWdodCA9IGZvck93blJpZ2h0O1xuICAgIGxvZGFzaC5nZXQgPSBnZXQ7XG4gICAgbG9kYXNoLmd0ID0gZ3Q7XG4gICAgbG9kYXNoLmd0ZSA9IGd0ZTtcbiAgICBsb2Rhc2guaGFzID0gaGFzO1xuICAgIGxvZGFzaC5oYXNJbiA9IGhhc0luO1xuICAgIGxvZGFzaC5oZWFkID0gaGVhZDtcbiAgICBsb2Rhc2guaWRlbnRpdHkgPSBpZGVudGl0eTtcbiAgICBsb2Rhc2guaW5jbHVkZXMgPSBpbmNsdWRlcztcbiAgICBsb2Rhc2guaW5kZXhPZiA9IGluZGV4T2Y7XG4gICAgbG9kYXNoLmluUmFuZ2UgPSBpblJhbmdlO1xuICAgIGxvZGFzaC5pbnZva2UgPSBpbnZva2U7XG4gICAgbG9kYXNoLmlzQXJndW1lbnRzID0gaXNBcmd1bWVudHM7XG4gICAgbG9kYXNoLmlzQXJyYXkgPSBpc0FycmF5O1xuICAgIGxvZGFzaC5pc0FycmF5QnVmZmVyID0gaXNBcnJheUJ1ZmZlcjtcbiAgICBsb2Rhc2guaXNBcnJheUxpa2UgPSBpc0FycmF5TGlrZTtcbiAgICBsb2Rhc2guaXNBcnJheUxpa2VPYmplY3QgPSBpc0FycmF5TGlrZU9iamVjdDtcbiAgICBsb2Rhc2guaXNCb29sZWFuID0gaXNCb29sZWFuO1xuICAgIGxvZGFzaC5pc0J1ZmZlciA9IGlzQnVmZmVyO1xuICAgIGxvZGFzaC5pc0RhdGUgPSBpc0RhdGU7XG4gICAgbG9kYXNoLmlzRWxlbWVudCA9IGlzRWxlbWVudDtcbiAgICBsb2Rhc2guaXNFbXB0eSA9IGlzRW1wdHk7XG4gICAgbG9kYXNoLmlzRXF1YWwgPSBpc0VxdWFsO1xuICAgIGxvZGFzaC5pc0VxdWFsV2l0aCA9IGlzRXF1YWxXaXRoO1xuICAgIGxvZGFzaC5pc0Vycm9yID0gaXNFcnJvcjtcbiAgICBsb2Rhc2guaXNGaW5pdGUgPSBpc0Zpbml0ZTtcbiAgICBsb2Rhc2guaXNGdW5jdGlvbiA9IGlzRnVuY3Rpb247XG4gICAgbG9kYXNoLmlzSW50ZWdlciA9IGlzSW50ZWdlcjtcbiAgICBsb2Rhc2guaXNMZW5ndGggPSBpc0xlbmd0aDtcbiAgICBsb2Rhc2guaXNNYXAgPSBpc01hcDtcbiAgICBsb2Rhc2guaXNNYXRjaCA9IGlzTWF0Y2g7XG4gICAgbG9kYXNoLmlzTWF0Y2hXaXRoID0gaXNNYXRjaFdpdGg7XG4gICAgbG9kYXNoLmlzTmFOID0gaXNOYU47XG4gICAgbG9kYXNoLmlzTmF0aXZlID0gaXNOYXRpdmU7XG4gICAgbG9kYXNoLmlzTmlsID0gaXNOaWw7XG4gICAgbG9kYXNoLmlzTnVsbCA9IGlzTnVsbDtcbiAgICBsb2Rhc2guaXNOdW1iZXIgPSBpc051bWJlcjtcbiAgICBsb2Rhc2guaXNPYmplY3QgPSBpc09iamVjdDtcbiAgICBsb2Rhc2guaXNPYmplY3RMaWtlID0gaXNPYmplY3RMaWtlO1xuICAgIGxvZGFzaC5pc1BsYWluT2JqZWN0ID0gaXNQbGFpbk9iamVjdDtcbiAgICBsb2Rhc2guaXNSZWdFeHAgPSBpc1JlZ0V4cDtcbiAgICBsb2Rhc2guaXNTYWZlSW50ZWdlciA9IGlzU2FmZUludGVnZXI7XG4gICAgbG9kYXNoLmlzU2V0ID0gaXNTZXQ7XG4gICAgbG9kYXNoLmlzU3RyaW5nID0gaXNTdHJpbmc7XG4gICAgbG9kYXNoLmlzU3ltYm9sID0gaXNTeW1ib2w7XG4gICAgbG9kYXNoLmlzVHlwZWRBcnJheSA9IGlzVHlwZWRBcnJheTtcbiAgICBsb2Rhc2guaXNVbmRlZmluZWQgPSBpc1VuZGVmaW5lZDtcbiAgICBsb2Rhc2guaXNXZWFrTWFwID0gaXNXZWFrTWFwO1xuICAgIGxvZGFzaC5pc1dlYWtTZXQgPSBpc1dlYWtTZXQ7XG4gICAgbG9kYXNoLmpvaW4gPSBqb2luO1xuICAgIGxvZGFzaC5rZWJhYkNhc2UgPSBrZWJhYkNhc2U7XG4gICAgbG9kYXNoLmxhc3QgPSBsYXN0O1xuICAgIGxvZGFzaC5sYXN0SW5kZXhPZiA9IGxhc3RJbmRleE9mO1xuICAgIGxvZGFzaC5sb3dlckNhc2UgPSBsb3dlckNhc2U7XG4gICAgbG9kYXNoLmxvd2VyRmlyc3QgPSBsb3dlckZpcnN0O1xuICAgIGxvZGFzaC5sdCA9IGx0O1xuICAgIGxvZGFzaC5sdGUgPSBsdGU7XG4gICAgbG9kYXNoLm1heCA9IG1heDtcbiAgICBsb2Rhc2gubWF4QnkgPSBtYXhCeTtcbiAgICBsb2Rhc2gubWVhbiA9IG1lYW47XG4gICAgbG9kYXNoLm1lYW5CeSA9IG1lYW5CeTtcbiAgICBsb2Rhc2gubWluID0gbWluO1xuICAgIGxvZGFzaC5taW5CeSA9IG1pbkJ5O1xuICAgIGxvZGFzaC5zdHViQXJyYXkgPSBzdHViQXJyYXk7XG4gICAgbG9kYXNoLnN0dWJGYWxzZSA9IHN0dWJGYWxzZTtcbiAgICBsb2Rhc2guc3R1Yk9iamVjdCA9IHN0dWJPYmplY3Q7XG4gICAgbG9kYXNoLnN0dWJTdHJpbmcgPSBzdHViU3RyaW5nO1xuICAgIGxvZGFzaC5zdHViVHJ1ZSA9IHN0dWJUcnVlO1xuICAgIGxvZGFzaC5tdWx0aXBseSA9IG11bHRpcGx5O1xuICAgIGxvZGFzaC5udGggPSBudGg7XG4gICAgbG9kYXNoLm5vQ29uZmxpY3QgPSBub0NvbmZsaWN0O1xuICAgIGxvZGFzaC5ub29wID0gbm9vcDtcbiAgICBsb2Rhc2gubm93ID0gbm93O1xuICAgIGxvZGFzaC5wYWQgPSBwYWQ7XG4gICAgbG9kYXNoLnBhZEVuZCA9IHBhZEVuZDtcbiAgICBsb2Rhc2gucGFkU3RhcnQgPSBwYWRTdGFydDtcbiAgICBsb2Rhc2gucGFyc2VJbnQgPSBwYXJzZUludDtcbiAgICBsb2Rhc2gucmFuZG9tID0gcmFuZG9tO1xuICAgIGxvZGFzaC5yZWR1Y2UgPSByZWR1Y2U7XG4gICAgbG9kYXNoLnJlZHVjZVJpZ2h0ID0gcmVkdWNlUmlnaHQ7XG4gICAgbG9kYXNoLnJlcGVhdCA9IHJlcGVhdDtcbiAgICBsb2Rhc2gucmVwbGFjZSA9IHJlcGxhY2U7XG4gICAgbG9kYXNoLnJlc3VsdCA9IHJlc3VsdDtcbiAgICBsb2Rhc2gucm91bmQgPSByb3VuZDtcbiAgICBsb2Rhc2gucnVuSW5Db250ZXh0ID0gcnVuSW5Db250ZXh0O1xuICAgIGxvZGFzaC5zYW1wbGUgPSBzYW1wbGU7XG4gICAgbG9kYXNoLnNpemUgPSBzaXplO1xuICAgIGxvZGFzaC5zbmFrZUNhc2UgPSBzbmFrZUNhc2U7XG4gICAgbG9kYXNoLnNvbWUgPSBzb21lO1xuICAgIGxvZGFzaC5zb3J0ZWRJbmRleCA9IHNvcnRlZEluZGV4O1xuICAgIGxvZGFzaC5zb3J0ZWRJbmRleEJ5ID0gc29ydGVkSW5kZXhCeTtcbiAgICBsb2Rhc2guc29ydGVkSW5kZXhPZiA9IHNvcnRlZEluZGV4T2Y7XG4gICAgbG9kYXNoLnNvcnRlZExhc3RJbmRleCA9IHNvcnRlZExhc3RJbmRleDtcbiAgICBsb2Rhc2guc29ydGVkTGFzdEluZGV4QnkgPSBzb3J0ZWRMYXN0SW5kZXhCeTtcbiAgICBsb2Rhc2guc29ydGVkTGFzdEluZGV4T2YgPSBzb3J0ZWRMYXN0SW5kZXhPZjtcbiAgICBsb2Rhc2guc3RhcnRDYXNlID0gc3RhcnRDYXNlO1xuICAgIGxvZGFzaC5zdGFydHNXaXRoID0gc3RhcnRzV2l0aDtcbiAgICBsb2Rhc2guc3VidHJhY3QgPSBzdWJ0cmFjdDtcbiAgICBsb2Rhc2guc3VtID0gc3VtO1xuICAgIGxvZGFzaC5zdW1CeSA9IHN1bUJ5O1xuICAgIGxvZGFzaC50ZW1wbGF0ZSA9IHRlbXBsYXRlO1xuICAgIGxvZGFzaC50aW1lcyA9IHRpbWVzO1xuICAgIGxvZGFzaC50b0Zpbml0ZSA9IHRvRmluaXRlO1xuICAgIGxvZGFzaC50b0ludGVnZXIgPSB0b0ludGVnZXI7XG4gICAgbG9kYXNoLnRvTGVuZ3RoID0gdG9MZW5ndGg7XG4gICAgbG9kYXNoLnRvTG93ZXIgPSB0b0xvd2VyO1xuICAgIGxvZGFzaC50b051bWJlciA9IHRvTnVtYmVyO1xuICAgIGxvZGFzaC50b1NhZmVJbnRlZ2VyID0gdG9TYWZlSW50ZWdlcjtcbiAgICBsb2Rhc2gudG9TdHJpbmcgPSB0b1N0cmluZztcbiAgICBsb2Rhc2gudG9VcHBlciA9IHRvVXBwZXI7XG4gICAgbG9kYXNoLnRyaW0gPSB0cmltO1xuICAgIGxvZGFzaC50cmltRW5kID0gdHJpbUVuZDtcbiAgICBsb2Rhc2gudHJpbVN0YXJ0ID0gdHJpbVN0YXJ0O1xuICAgIGxvZGFzaC50cnVuY2F0ZSA9IHRydW5jYXRlO1xuICAgIGxvZGFzaC51bmVzY2FwZSA9IHVuZXNjYXBlO1xuICAgIGxvZGFzaC51bmlxdWVJZCA9IHVuaXF1ZUlkO1xuICAgIGxvZGFzaC51cHBlckNhc2UgPSB1cHBlckNhc2U7XG4gICAgbG9kYXNoLnVwcGVyRmlyc3QgPSB1cHBlckZpcnN0O1xuXG4gICAgLy8gQWRkIGFsaWFzZXMuXG4gICAgbG9kYXNoLmVhY2ggPSBmb3JFYWNoO1xuICAgIGxvZGFzaC5lYWNoUmlnaHQgPSBmb3JFYWNoUmlnaHQ7XG4gICAgbG9kYXNoLmZpcnN0ID0gaGVhZDtcblxuICAgIG1peGluKGxvZGFzaCwgKGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNvdXJjZSA9IHt9O1xuICAgICAgYmFzZUZvck93bihsb2Rhc2gsIGZ1bmN0aW9uKGZ1bmMsIG1ldGhvZE5hbWUpIHtcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wZXJ0eS5jYWxsKGxvZGFzaC5wcm90b3R5cGUsIG1ldGhvZE5hbWUpKSB7XG4gICAgICAgICAgc291cmNlW21ldGhvZE5hbWVdID0gZnVuYztcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gc291cmNlO1xuICAgIH0oKSksIHsgJ2NoYWluJzogZmFsc2UgfSk7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2VtYW50aWMgdmVyc2lvbiBudW1iZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgIGxvZGFzaC5WRVJTSU9OID0gVkVSU0lPTjtcblxuICAgIC8vIEFzc2lnbiBkZWZhdWx0IHBsYWNlaG9sZGVycy5cbiAgICBhcnJheUVhY2goWydiaW5kJywgJ2JpbmRLZXknLCAnY3VycnknLCAnY3VycnlSaWdodCcsICdwYXJ0aWFsJywgJ3BhcnRpYWxSaWdodCddLCBmdW5jdGlvbihtZXRob2ROYW1lKSB7XG4gICAgICBsb2Rhc2hbbWV0aG9kTmFtZV0ucGxhY2Vob2xkZXIgPSBsb2Rhc2g7XG4gICAgfSk7XG5cbiAgICAvLyBBZGQgYExhenlXcmFwcGVyYCBtZXRob2RzIGZvciBgXy5kcm9wYCBhbmQgYF8udGFrZWAgdmFyaWFudHMuXG4gICAgYXJyYXlFYWNoKFsnZHJvcCcsICd0YWtlJ10sIGZ1bmN0aW9uKG1ldGhvZE5hbWUsIGluZGV4KSB7XG4gICAgICBMYXp5V3JhcHBlci5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbihuKSB7XG4gICAgICAgIG4gPSBuID09PSB1bmRlZmluZWQgPyAxIDogbmF0aXZlTWF4KHRvSW50ZWdlcihuKSwgMCk7XG5cbiAgICAgICAgdmFyIHJlc3VsdCA9ICh0aGlzLl9fZmlsdGVyZWRfXyAmJiAhaW5kZXgpXG4gICAgICAgICAgPyBuZXcgTGF6eVdyYXBwZXIodGhpcylcbiAgICAgICAgICA6IHRoaXMuY2xvbmUoKTtcblxuICAgICAgICBpZiAocmVzdWx0Ll9fZmlsdGVyZWRfXykge1xuICAgICAgICAgIHJlc3VsdC5fX3Rha2VDb3VudF9fID0gbmF0aXZlTWluKG4sIHJlc3VsdC5fX3Rha2VDb3VudF9fKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXN1bHQuX192aWV3c19fLnB1c2goe1xuICAgICAgICAgICAgJ3NpemUnOiBuYXRpdmVNaW4obiwgTUFYX0FSUkFZX0xFTkdUSCksXG4gICAgICAgICAgICAndHlwZSc6IG1ldGhvZE5hbWUgKyAocmVzdWx0Ll9fZGlyX18gPCAwID8gJ1JpZ2h0JyA6ICcnKVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuXG4gICAgICBMYXp5V3JhcHBlci5wcm90b3R5cGVbbWV0aG9kTmFtZSArICdSaWdodCddID0gZnVuY3Rpb24obikge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXZlcnNlKClbbWV0aG9kTmFtZV0obikucmV2ZXJzZSgpO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIEFkZCBgTGF6eVdyYXBwZXJgIG1ldGhvZHMgdGhhdCBhY2NlcHQgYW4gYGl0ZXJhdGVlYCB2YWx1ZS5cbiAgICBhcnJheUVhY2goWydmaWx0ZXInLCAnbWFwJywgJ3Rha2VXaGlsZSddLCBmdW5jdGlvbihtZXRob2ROYW1lLCBpbmRleCkge1xuICAgICAgdmFyIHR5cGUgPSBpbmRleCArIDEsXG4gICAgICAgICAgaXNGaWx0ZXIgPSB0eXBlID09IExBWllfRklMVEVSX0ZMQUcgfHwgdHlwZSA9PSBMQVpZX1dISUxFX0ZMQUc7XG5cbiAgICAgIExhenlXcmFwcGVyLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKGl0ZXJhdGVlKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSB0aGlzLmNsb25lKCk7XG4gICAgICAgIHJlc3VsdC5fX2l0ZXJhdGVlc19fLnB1c2goe1xuICAgICAgICAgICdpdGVyYXRlZSc6IGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSxcbiAgICAgICAgICAndHlwZSc6IHR5cGVcbiAgICAgICAgfSk7XG4gICAgICAgIHJlc3VsdC5fX2ZpbHRlcmVkX18gPSByZXN1bHQuX19maWx0ZXJlZF9fIHx8IGlzRmlsdGVyO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIEFkZCBgTGF6eVdyYXBwZXJgIG1ldGhvZHMgZm9yIGBfLmhlYWRgIGFuZCBgXy5sYXN0YC5cbiAgICBhcnJheUVhY2goWydoZWFkJywgJ2xhc3QnXSwgZnVuY3Rpb24obWV0aG9kTmFtZSwgaW5kZXgpIHtcbiAgICAgIHZhciB0YWtlTmFtZSA9ICd0YWtlJyArIChpbmRleCA/ICdSaWdodCcgOiAnJyk7XG5cbiAgICAgIExhenlXcmFwcGVyLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpc1t0YWtlTmFtZV0oMSkudmFsdWUoKVswXTtcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICAvLyBBZGQgYExhenlXcmFwcGVyYCBtZXRob2RzIGZvciBgXy5pbml0aWFsYCBhbmQgYF8udGFpbGAuXG4gICAgYXJyYXlFYWNoKFsnaW5pdGlhbCcsICd0YWlsJ10sIGZ1bmN0aW9uKG1ldGhvZE5hbWUsIGluZGV4KSB7XG4gICAgICB2YXIgZHJvcE5hbWUgPSAnZHJvcCcgKyAoaW5kZXggPyAnJyA6ICdSaWdodCcpO1xuXG4gICAgICBMYXp5V3JhcHBlci5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX19maWx0ZXJlZF9fID8gbmV3IExhenlXcmFwcGVyKHRoaXMpIDogdGhpc1tkcm9wTmFtZV0oMSk7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLmNvbXBhY3QgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLmZpbHRlcihpZGVudGl0eSk7XG4gICAgfTtcblxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5maW5kID0gZnVuY3Rpb24ocHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gdGhpcy5maWx0ZXIocHJlZGljYXRlKS5oZWFkKCk7XG4gICAgfTtcblxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5maW5kTGFzdCA9IGZ1bmN0aW9uKHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIHRoaXMucmV2ZXJzZSgpLmZpbmQocHJlZGljYXRlKTtcbiAgICB9O1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLmludm9rZU1hcCA9IGJhc2VSZXN0KGZ1bmN0aW9uKHBhdGgsIGFyZ3MpIHtcbiAgICAgIGlmICh0eXBlb2YgcGF0aCA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBuZXcgTGF6eVdyYXBwZXIodGhpcyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VJbnZva2UodmFsdWUsIHBhdGgsIGFyZ3MpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUucmVqZWN0ID0gZnVuY3Rpb24ocHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gdGhpcy5maWx0ZXIobmVnYXRlKGdldEl0ZXJhdGVlKHByZWRpY2F0ZSkpKTtcbiAgICB9O1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLnNsaWNlID0gZnVuY3Rpb24oc3RhcnQsIGVuZCkge1xuICAgICAgc3RhcnQgPSB0b0ludGVnZXIoc3RhcnQpO1xuXG4gICAgICB2YXIgcmVzdWx0ID0gdGhpcztcbiAgICAgIGlmIChyZXN1bHQuX19maWx0ZXJlZF9fICYmIChzdGFydCA+IDAgfHwgZW5kIDwgMCkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBMYXp5V3JhcHBlcihyZXN1bHQpO1xuICAgICAgfVxuICAgICAgaWYgKHN0YXJ0IDwgMCkge1xuICAgICAgICByZXN1bHQgPSByZXN1bHQudGFrZVJpZ2h0KC1zdGFydCk7XG4gICAgICB9IGVsc2UgaWYgKHN0YXJ0KSB7XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdC5kcm9wKHN0YXJ0KTtcbiAgICAgIH1cbiAgICAgIGlmIChlbmQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBlbmQgPSB0b0ludGVnZXIoZW5kKTtcbiAgICAgICAgcmVzdWx0ID0gZW5kIDwgMCA/IHJlc3VsdC5kcm9wUmlnaHQoLWVuZCkgOiByZXN1bHQudGFrZShlbmQgLSBzdGFydCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUudGFrZVJpZ2h0V2hpbGUgPSBmdW5jdGlvbihwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiB0aGlzLnJldmVyc2UoKS50YWtlV2hpbGUocHJlZGljYXRlKS5yZXZlcnNlKCk7XG4gICAgfTtcblxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS50b0FycmF5ID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy50YWtlKE1BWF9BUlJBWV9MRU5HVEgpO1xuICAgIH07XG5cbiAgICAvLyBBZGQgYExhenlXcmFwcGVyYCBtZXRob2RzIHRvIGBsb2Rhc2gucHJvdG90eXBlYC5cbiAgICBiYXNlRm9yT3duKExhenlXcmFwcGVyLnByb3RvdHlwZSwgZnVuY3Rpb24oZnVuYywgbWV0aG9kTmFtZSkge1xuICAgICAgdmFyIGNoZWNrSXRlcmF0ZWUgPSAvXig/OmZpbHRlcnxmaW5kfG1hcHxyZWplY3QpfFdoaWxlJC8udGVzdChtZXRob2ROYW1lKSxcbiAgICAgICAgICBpc1Rha2VyID0gL14oPzpoZWFkfGxhc3QpJC8udGVzdChtZXRob2ROYW1lKSxcbiAgICAgICAgICBsb2Rhc2hGdW5jID0gbG9kYXNoW2lzVGFrZXIgPyAoJ3Rha2UnICsgKG1ldGhvZE5hbWUgPT0gJ2xhc3QnID8gJ1JpZ2h0JyA6ICcnKSkgOiBtZXRob2ROYW1lXSxcbiAgICAgICAgICByZXRVbndyYXBwZWQgPSBpc1Rha2VyIHx8IC9eZmluZC8udGVzdChtZXRob2ROYW1lKTtcblxuICAgICAgaWYgKCFsb2Rhc2hGdW5jKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGxvZGFzaC5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gdGhpcy5fX3dyYXBwZWRfXyxcbiAgICAgICAgICAgIGFyZ3MgPSBpc1Rha2VyID8gWzFdIDogYXJndW1lbnRzLFxuICAgICAgICAgICAgaXNMYXp5ID0gdmFsdWUgaW5zdGFuY2VvZiBMYXp5V3JhcHBlcixcbiAgICAgICAgICAgIGl0ZXJhdGVlID0gYXJnc1swXSxcbiAgICAgICAgICAgIHVzZUxhenkgPSBpc0xhenkgfHwgaXNBcnJheSh2YWx1ZSk7XG5cbiAgICAgICAgdmFyIGludGVyY2VwdG9yID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICB2YXIgcmVzdWx0ID0gbG9kYXNoRnVuYy5hcHBseShsb2Rhc2gsIGFycmF5UHVzaChbdmFsdWVdLCBhcmdzKSk7XG4gICAgICAgICAgcmV0dXJuIChpc1Rha2VyICYmIGNoYWluQWxsKSA/IHJlc3VsdFswXSA6IHJlc3VsdDtcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAodXNlTGF6eSAmJiBjaGVja0l0ZXJhdGVlICYmIHR5cGVvZiBpdGVyYXRlZSA9PSAnZnVuY3Rpb24nICYmIGl0ZXJhdGVlLmxlbmd0aCAhPSAxKSB7XG4gICAgICAgICAgLy8gQXZvaWQgbGF6eSB1c2UgaWYgdGhlIGl0ZXJhdGVlIGhhcyBhIFwibGVuZ3RoXCIgdmFsdWUgb3RoZXIgdGhhbiBgMWAuXG4gICAgICAgICAgaXNMYXp5ID0gdXNlTGF6eSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjaGFpbkFsbCA9IHRoaXMuX19jaGFpbl9fLFxuICAgICAgICAgICAgaXNIeWJyaWQgPSAhIXRoaXMuX19hY3Rpb25zX18ubGVuZ3RoLFxuICAgICAgICAgICAgaXNVbndyYXBwZWQgPSByZXRVbndyYXBwZWQgJiYgIWNoYWluQWxsLFxuICAgICAgICAgICAgb25seUxhenkgPSBpc0xhenkgJiYgIWlzSHlicmlkO1xuXG4gICAgICAgIGlmICghcmV0VW53cmFwcGVkICYmIHVzZUxhenkpIHtcbiAgICAgICAgICB2YWx1ZSA9IG9ubHlMYXp5ID8gdmFsdWUgOiBuZXcgTGF6eVdyYXBwZXIodGhpcyk7XG4gICAgICAgICAgdmFyIHJlc3VsdCA9IGZ1bmMuYXBwbHkodmFsdWUsIGFyZ3MpO1xuICAgICAgICAgIHJlc3VsdC5fX2FjdGlvbnNfXy5wdXNoKHsgJ2Z1bmMnOiB0aHJ1LCAnYXJncyc6IFtpbnRlcmNlcHRvcl0sICd0aGlzQXJnJzogdW5kZWZpbmVkIH0pO1xuICAgICAgICAgIHJldHVybiBuZXcgTG9kYXNoV3JhcHBlcihyZXN1bHQsIGNoYWluQWxsKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNVbndyYXBwZWQgJiYgb25seUxhenkpIHtcbiAgICAgICAgICByZXR1cm4gZnVuYy5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHQgPSB0aGlzLnRocnUoaW50ZXJjZXB0b3IpO1xuICAgICAgICByZXR1cm4gaXNVbndyYXBwZWQgPyAoaXNUYWtlciA/IHJlc3VsdC52YWx1ZSgpWzBdIDogcmVzdWx0LnZhbHVlKCkpIDogcmVzdWx0O1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIEFkZCBgQXJyYXlgIG1ldGhvZHMgdG8gYGxvZGFzaC5wcm90b3R5cGVgLlxuICAgIGFycmF5RWFjaChbJ3BvcCcsICdwdXNoJywgJ3NoaWZ0JywgJ3NvcnQnLCAnc3BsaWNlJywgJ3Vuc2hpZnQnXSwgZnVuY3Rpb24obWV0aG9kTmFtZSkge1xuICAgICAgdmFyIGZ1bmMgPSBhcnJheVByb3RvW21ldGhvZE5hbWVdLFxuICAgICAgICAgIGNoYWluTmFtZSA9IC9eKD86cHVzaHxzb3J0fHVuc2hpZnQpJC8udGVzdChtZXRob2ROYW1lKSA/ICd0YXAnIDogJ3RocnUnLFxuICAgICAgICAgIHJldFVud3JhcHBlZCA9IC9eKD86cG9wfHNoaWZ0KSQvLnRlc3QobWV0aG9kTmFtZSk7XG5cbiAgICAgIGxvZGFzaC5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAgIGlmIChyZXRVbndyYXBwZWQgJiYgIXRoaXMuX19jaGFpbl9fKSB7XG4gICAgICAgICAgdmFyIHZhbHVlID0gdGhpcy52YWx1ZSgpO1xuICAgICAgICAgIHJldHVybiBmdW5jLmFwcGx5KGlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBbXSwgYXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXNbY2hhaW5OYW1lXShmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIHJldHVybiBmdW5jLmFwcGx5KGlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBbXSwgYXJncyk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIE1hcCBtaW5pZmllZCBtZXRob2QgbmFtZXMgdG8gdGhlaXIgcmVhbCBuYW1lcy5cbiAgICBiYXNlRm9yT3duKExhenlXcmFwcGVyLnByb3RvdHlwZSwgZnVuY3Rpb24oZnVuYywgbWV0aG9kTmFtZSkge1xuICAgICAgdmFyIGxvZGFzaEZ1bmMgPSBsb2Rhc2hbbWV0aG9kTmFtZV07XG4gICAgICBpZiAobG9kYXNoRnVuYykge1xuICAgICAgICB2YXIga2V5ID0gbG9kYXNoRnVuYy5uYW1lICsgJyc7XG4gICAgICAgIGlmICghaGFzT3duUHJvcGVydHkuY2FsbChyZWFsTmFtZXMsIGtleSkpIHtcbiAgICAgICAgICByZWFsTmFtZXNba2V5XSA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHJlYWxOYW1lc1trZXldLnB1c2goeyAnbmFtZSc6IG1ldGhvZE5hbWUsICdmdW5jJzogbG9kYXNoRnVuYyB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJlYWxOYW1lc1tjcmVhdGVIeWJyaWQodW5kZWZpbmVkLCBXUkFQX0JJTkRfS0VZX0ZMQUcpLm5hbWVdID0gW3tcbiAgICAgICduYW1lJzogJ3dyYXBwZXInLFxuICAgICAgJ2Z1bmMnOiB1bmRlZmluZWRcbiAgICB9XTtcblxuICAgIC8vIEFkZCBtZXRob2RzIHRvIGBMYXp5V3JhcHBlcmAuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLmNsb25lID0gbGF6eUNsb25lO1xuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5yZXZlcnNlID0gbGF6eVJldmVyc2U7XG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLnZhbHVlID0gbGF6eVZhbHVlO1xuXG4gICAgLy8gQWRkIGNoYWluIHNlcXVlbmNlIG1ldGhvZHMgdG8gdGhlIGBsb2Rhc2hgIHdyYXBwZXIuXG4gICAgbG9kYXNoLnByb3RvdHlwZS5hdCA9IHdyYXBwZXJBdDtcbiAgICBsb2Rhc2gucHJvdG90eXBlLmNoYWluID0gd3JhcHBlckNoYWluO1xuICAgIGxvZGFzaC5wcm90b3R5cGUuY29tbWl0ID0gd3JhcHBlckNvbW1pdDtcbiAgICBsb2Rhc2gucHJvdG90eXBlLm5leHQgPSB3cmFwcGVyTmV4dDtcbiAgICBsb2Rhc2gucHJvdG90eXBlLnBsYW50ID0gd3JhcHBlclBsYW50O1xuICAgIGxvZGFzaC5wcm90b3R5cGUucmV2ZXJzZSA9IHdyYXBwZXJSZXZlcnNlO1xuICAgIGxvZGFzaC5wcm90b3R5cGUudG9KU09OID0gbG9kYXNoLnByb3RvdHlwZS52YWx1ZU9mID0gbG9kYXNoLnByb3RvdHlwZS52YWx1ZSA9IHdyYXBwZXJWYWx1ZTtcblxuICAgIC8vIEFkZCBsYXp5IGFsaWFzZXMuXG4gICAgbG9kYXNoLnByb3RvdHlwZS5maXJzdCA9IGxvZGFzaC5wcm90b3R5cGUuaGVhZDtcblxuICAgIGlmIChzeW1JdGVyYXRvcikge1xuICAgICAgbG9kYXNoLnByb3RvdHlwZVtzeW1JdGVyYXRvcl0gPSB3cmFwcGVyVG9JdGVyYXRvcjtcbiAgICB9XG4gICAgcmV0dXJuIGxvZGFzaDtcbiAgfSk7XG5cbiAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgLy8gRXhwb3J0IGxvZGFzaC5cbiAgdmFyIF8gPSBydW5JbkNvbnRleHQoKTtcblxuICAvLyBTb21lIEFNRCBidWlsZCBvcHRpbWl6ZXJzLCBsaWtlIHIuanMsIGNoZWNrIGZvciBjb25kaXRpb24gcGF0dGVybnMgbGlrZTpcbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZGVmaW5lLmFtZCA9PSAnb2JqZWN0JyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgLy8gRXhwb3NlIExvZGFzaCBvbiB0aGUgZ2xvYmFsIG9iamVjdCB0byBwcmV2ZW50IGVycm9ycyB3aGVuIExvZGFzaCBpc1xuICAgIC8vIGxvYWRlZCBieSBhIHNjcmlwdCB0YWcgaW4gdGhlIHByZXNlbmNlIG9mIGFuIEFNRCBsb2FkZXIuXG4gICAgLy8gU2VlIGh0dHA6Ly9yZXF1aXJlanMub3JnL2RvY3MvZXJyb3JzLmh0bWwjbWlzbWF0Y2ggZm9yIG1vcmUgZGV0YWlscy5cbiAgICAvLyBVc2UgYF8ubm9Db25mbGljdGAgdG8gcmVtb3ZlIExvZGFzaCBmcm9tIHRoZSBnbG9iYWwgb2JqZWN0LlxuICAgIHJvb3QuXyA9IF87XG5cbiAgICAvLyBEZWZpbmUgYXMgYW4gYW5vbnltb3VzIG1vZHVsZSBzbywgdGhyb3VnaCBwYXRoIG1hcHBpbmcsIGl0IGNhbiBiZVxuICAgIC8vIHJlZmVyZW5jZWQgYXMgdGhlIFwidW5kZXJzY29yZVwiIG1vZHVsZS5cbiAgICBkZWZpbmUoZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gXztcbiAgICB9KTtcbiAgfVxuICAvLyBDaGVjayBmb3IgYGV4cG9ydHNgIGFmdGVyIGBkZWZpbmVgIGluIGNhc2UgYSBidWlsZCBvcHRpbWl6ZXIgYWRkcyBpdC5cbiAgZWxzZSBpZiAoZnJlZU1vZHVsZSkge1xuICAgIC8vIEV4cG9ydCBmb3IgTm9kZS5qcy5cbiAgICAoZnJlZU1vZHVsZS5leHBvcnRzID0gXykuXyA9IF87XG4gICAgLy8gRXhwb3J0IGZvciBDb21tb25KUyBzdXBwb3J0LlxuICAgIGZyZWVFeHBvcnRzLl8gPSBfO1xuICB9XG4gIGVsc2Uge1xuICAgIC8vIEV4cG9ydCB0byB0aGUgZ2xvYmFsIG9iamVjdC5cbiAgICByb290Ll8gPSBfO1xuICB9XG59LmNhbGwodGhpcykpO1xuIiwgIid1c2Ugc3RyaWN0J1xuY29uc3QgXyA9IHJlcXVpcmUoJ2xvZGFzaCcpXG5cbmNvbnN0IENBVENIX0FMTCA9IC8oKSguKykvZ2lcbmNvbnN0IFNDSVNTT1IgPSAnIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gPjggLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tJ1xuXG5mdW5jdGlvbiB0cmltT2ZmTmV3bGluZXMgKGlucHV0KSB7XG4gIGNvbnN0IHJlc3VsdCA9IGlucHV0Lm1hdGNoKC9bXlxcclxcbl0vKVxuICBpZiAoIXJlc3VsdCkge1xuICAgIHJldHVybiAnJ1xuICB9XG4gIGNvbnN0IGZpcnN0SW5kZXggPSByZXN1bHQuaW5kZXhcbiAgbGV0IGxhc3RJbmRleCA9IGlucHV0Lmxlbmd0aCAtIDFcbiAgd2hpbGUgKGlucHV0W2xhc3RJbmRleF0gPT09ICdcXHInIHx8IGlucHV0W2xhc3RJbmRleF0gPT09ICdcXG4nKSB7XG4gICAgbGFzdEluZGV4LS1cbiAgfVxuICByZXR1cm4gaW5wdXQuc3Vic3RyaW5nKGZpcnN0SW5kZXgsIGxhc3RJbmRleCArIDEpXG59XG5cbmZ1bmN0aW9uIGFwcGVuZCAoc3JjLCBsaW5lKSB7XG4gIGlmIChzcmMpIHtcbiAgICBzcmMgKz0gJ1xcbicgKyBsaW5lXG4gIH0gZWxzZSB7XG4gICAgc3JjID0gbGluZVxuICB9XG5cbiAgcmV0dXJuIHNyY1xufVxuXG5mdW5jdGlvbiBnZXRDb21tZW50RmlsdGVyIChjaGFyKSB7XG4gIHJldHVybiBmdW5jdGlvbiAobGluZSkge1xuICAgIHJldHVybiBsaW5lLmNoYXJBdCgwKSAhPT0gY2hhclxuICB9XG59XG5cbmZ1bmN0aW9uIHRydW5jYXRlVG9TY2lzc29yIChsaW5lcykge1xuICBjb25zdCBzY2lzc29ySW5kZXggPSBsaW5lcy5pbmRleE9mKFNDSVNTT1IpXG5cbiAgaWYgKHNjaXNzb3JJbmRleCA9PT0gLTEpIHtcbiAgICByZXR1cm4gbGluZXNcbiAgfVxuXG4gIHJldHVybiBsaW5lcy5zbGljZSgwLCBzY2lzc29ySW5kZXgpXG59XG5cbmZ1bmN0aW9uIGdldFJlZmVyZW5jZXMgKGlucHV0LCByZWdleCkge1xuICBjb25zdCByZWZlcmVuY2VzID0gW11cbiAgbGV0IHJlZmVyZW5jZVNlbnRlbmNlc1xuICBsZXQgcmVmZXJlbmNlTWF0Y2hcblxuICBjb25zdCByZUFwcGxpY2FibGUgPSBpbnB1dC5tYXRjaChyZWdleC5yZWZlcmVuY2VzKSAhPT0gbnVsbFxuICAgID8gcmVnZXgucmVmZXJlbmNlc1xuICAgIDogQ0FUQ0hfQUxMXG5cbiAgd2hpbGUgKChyZWZlcmVuY2VTZW50ZW5jZXMgPSByZUFwcGxpY2FibGUuZXhlYyhpbnB1dCkpKSB7XG4gICAgY29uc3QgYWN0aW9uID0gcmVmZXJlbmNlU2VudGVuY2VzWzFdIHx8IG51bGxcbiAgICBjb25zdCBzZW50ZW5jZSA9IHJlZmVyZW5jZVNlbnRlbmNlc1syXVxuXG4gICAgd2hpbGUgKChyZWZlcmVuY2VNYXRjaCA9IHJlZ2V4LnJlZmVyZW5jZVBhcnRzLmV4ZWMoc2VudGVuY2UpKSkge1xuICAgICAgbGV0IG93bmVyID0gbnVsbFxuICAgICAgbGV0IHJlcG9zaXRvcnkgPSByZWZlcmVuY2VNYXRjaFsxXSB8fCAnJ1xuICAgICAgY29uc3Qgb3duZXJSZXBvID0gcmVwb3NpdG9yeS5zcGxpdCgnLycpXG5cbiAgICAgIGlmIChvd25lclJlcG8ubGVuZ3RoID4gMSkge1xuICAgICAgICBvd25lciA9IG93bmVyUmVwby5zaGlmdCgpXG4gICAgICAgIHJlcG9zaXRvcnkgPSBvd25lclJlcG8uam9pbignLycpXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHJlZmVyZW5jZSA9IHtcbiAgICAgICAgYWN0aW9uOiBhY3Rpb24sXG4gICAgICAgIG93bmVyOiBvd25lcixcbiAgICAgICAgcmVwb3NpdG9yeTogcmVwb3NpdG9yeSB8fCBudWxsLFxuICAgICAgICBpc3N1ZTogcmVmZXJlbmNlTWF0Y2hbM10sXG4gICAgICAgIHJhdzogcmVmZXJlbmNlTWF0Y2hbMF0sXG4gICAgICAgIHByZWZpeDogcmVmZXJlbmNlTWF0Y2hbMl1cbiAgICAgIH1cblxuICAgICAgcmVmZXJlbmNlcy5wdXNoKHJlZmVyZW5jZSlcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVmZXJlbmNlc1xufVxuXG5mdW5jdGlvbiBwYXNzVHJvdWdoICgpIHtcbiAgcmV0dXJuIHRydWVcbn1cblxuZnVuY3Rpb24gcGFyc2VyIChyYXcsIG9wdGlvbnMsIHJlZ2V4KSB7XG4gIGlmICghcmF3IHx8ICFyYXcudHJpbSgpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRXhwZWN0ZWQgYSByYXcgY29tbWl0JylcbiAgfVxuXG4gIGlmIChfLmlzRW1wdHkob3B0aW9ucykpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdFeHBlY3RlZCBvcHRpb25zJylcbiAgfVxuXG4gIGlmIChfLmlzRW1wdHkocmVnZXgpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRXhwZWN0ZWQgcmVnZXgnKVxuICB9XG5cbiAgbGV0IGN1cnJlbnRQcm9jZXNzZWRGaWVsZFxuICBsZXQgbWVudGlvbnNNYXRjaFxuICBjb25zdCBvdGhlckZpZWxkcyA9IHt9XG4gIGNvbnN0IGNvbW1lbnRGaWx0ZXIgPSB0eXBlb2Ygb3B0aW9ucy5jb21tZW50Q2hhciA9PT0gJ3N0cmluZydcbiAgICA/IGdldENvbW1lbnRGaWx0ZXIob3B0aW9ucy5jb21tZW50Q2hhcilcbiAgICA6IHBhc3NUcm91Z2hcbiAgY29uc3QgZ3BnRmlsdGVyID0gbGluZSA9PiAhbGluZS5tYXRjaCgvXlxccypncGc6LylcblxuICBjb25zdCByYXdMaW5lcyA9IHRyaW1PZmZOZXdsaW5lcyhyYXcpLnNwbGl0KC9cXHI/XFxuLylcbiAgY29uc3QgbGluZXMgPSB0cnVuY2F0ZVRvU2Npc3NvcihyYXdMaW5lcykuZmlsdGVyKGNvbW1lbnRGaWx0ZXIpLmZpbHRlcihncGdGaWx0ZXIpXG5cbiAgbGV0IGNvbnRpbnVlTm90ZSA9IGZhbHNlXG4gIGxldCBpc0JvZHkgPSB0cnVlXG4gIGNvbnN0IGhlYWRlckNvcnJlc3BvbmRlbmNlID0gXy5tYXAob3B0aW9ucy5oZWFkZXJDb3JyZXNwb25kZW5jZSwgZnVuY3Rpb24gKHBhcnQpIHtcbiAgICByZXR1cm4gcGFydC50cmltKClcbiAgfSlcbiAgY29uc3QgcmV2ZXJ0Q29ycmVzcG9uZGVuY2UgPSBfLm1hcChvcHRpb25zLnJldmVydENvcnJlc3BvbmRlbmNlLCBmdW5jdGlvbiAoZmllbGQpIHtcbiAgICByZXR1cm4gZmllbGQudHJpbSgpXG4gIH0pXG4gIGNvbnN0IG1lcmdlQ29ycmVzcG9uZGVuY2UgPSBfLm1hcChvcHRpb25zLm1lcmdlQ29ycmVzcG9uZGVuY2UsIGZ1bmN0aW9uIChmaWVsZCkge1xuICAgIHJldHVybiBmaWVsZC50cmltKClcbiAgfSlcblxuICBsZXQgYm9keSA9IG51bGxcbiAgbGV0IGZvb3RlciA9IG51bGxcbiAgbGV0IGhlYWRlciA9IG51bGxcbiAgY29uc3QgbWVudGlvbnMgPSBbXVxuICBsZXQgbWVyZ2UgPSBudWxsXG4gIGNvbnN0IG5vdGVzID0gW11cbiAgY29uc3QgcmVmZXJlbmNlcyA9IFtdXG4gIGxldCByZXZlcnQgPSBudWxsXG5cbiAgaWYgKGxpbmVzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiB7XG4gICAgICBib2R5OiBib2R5LFxuICAgICAgZm9vdGVyOiBmb290ZXIsXG4gICAgICBoZWFkZXI6IGhlYWRlcixcbiAgICAgIG1lbnRpb25zOiBtZW50aW9ucyxcbiAgICAgIG1lcmdlOiBtZXJnZSxcbiAgICAgIG5vdGVzOiBub3RlcyxcbiAgICAgIHJlZmVyZW5jZXM6IHJlZmVyZW5jZXMsXG4gICAgICByZXZlcnQ6IHJldmVydCxcbiAgICAgIHNjb3BlOiBudWxsLFxuICAgICAgc3ViamVjdDogbnVsbCxcbiAgICAgIHR5cGU6IG51bGxcbiAgICB9XG4gIH1cblxuICAvLyBtc2cgcGFydHNcbiAgbWVyZ2UgPSBsaW5lcy5zaGlmdCgpXG4gIGNvbnN0IG1lcmdlUGFydHMgPSB7fVxuICBjb25zdCBoZWFkZXJQYXJ0cyA9IHt9XG4gIGJvZHkgPSAnJ1xuICBmb290ZXIgPSAnJ1xuXG4gIGNvbnN0IG1lcmdlTWF0Y2ggPSBtZXJnZS5tYXRjaChvcHRpb25zLm1lcmdlUGF0dGVybilcbiAgaWYgKG1lcmdlTWF0Y2ggJiYgb3B0aW9ucy5tZXJnZVBhdHRlcm4pIHtcbiAgICBtZXJnZSA9IG1lcmdlTWF0Y2hbMF1cblxuICAgIGhlYWRlciA9IGxpbmVzLnNoaWZ0KClcbiAgICB3aGlsZSAoaGVhZGVyICE9PSB1bmRlZmluZWQgJiYgIWhlYWRlci50cmltKCkpIHtcbiAgICAgIGhlYWRlciA9IGxpbmVzLnNoaWZ0KClcbiAgICB9XG4gICAgaWYgKCFoZWFkZXIpIHtcbiAgICAgIGhlYWRlciA9ICcnXG4gICAgfVxuXG4gICAgXy5mb3JFYWNoKG1lcmdlQ29ycmVzcG9uZGVuY2UsIGZ1bmN0aW9uIChwYXJ0TmFtZSwgaW5kZXgpIHtcbiAgICAgIGNvbnN0IHBhcnRWYWx1ZSA9IG1lcmdlTWF0Y2hbaW5kZXggKyAxXSB8fCBudWxsXG4gICAgICBtZXJnZVBhcnRzW3BhcnROYW1lXSA9IHBhcnRWYWx1ZVxuICAgIH0pXG4gIH0gZWxzZSB7XG4gICAgaGVhZGVyID0gbWVyZ2VcbiAgICBtZXJnZSA9IG51bGxcblxuICAgIF8uZm9yRWFjaChtZXJnZUNvcnJlc3BvbmRlbmNlLCBmdW5jdGlvbiAocGFydE5hbWUpIHtcbiAgICAgIG1lcmdlUGFydHNbcGFydE5hbWVdID0gbnVsbFxuICAgIH0pXG4gIH1cblxuICBjb25zdCBoZWFkZXJNYXRjaCA9IGhlYWRlci5tYXRjaChvcHRpb25zLmhlYWRlclBhdHRlcm4pXG4gIGlmIChoZWFkZXJNYXRjaCkge1xuICAgIF8uZm9yRWFjaChoZWFkZXJDb3JyZXNwb25kZW5jZSwgZnVuY3Rpb24gKHBhcnROYW1lLCBpbmRleCkge1xuICAgICAgY29uc3QgcGFydFZhbHVlID0gaGVhZGVyTWF0Y2hbaW5kZXggKyAxXSB8fCBudWxsXG4gICAgICBoZWFkZXJQYXJ0c1twYXJ0TmFtZV0gPSBwYXJ0VmFsdWVcbiAgICB9KVxuICB9IGVsc2Uge1xuICAgIF8uZm9yRWFjaChoZWFkZXJDb3JyZXNwb25kZW5jZSwgZnVuY3Rpb24gKHBhcnROYW1lKSB7XG4gICAgICBoZWFkZXJQYXJ0c1twYXJ0TmFtZV0gPSBudWxsXG4gICAgfSlcbiAgfVxuXG4gIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KHJlZmVyZW5jZXMsIGdldFJlZmVyZW5jZXMoaGVhZGVyLCB7XG4gICAgcmVmZXJlbmNlczogcmVnZXgucmVmZXJlbmNlcyxcbiAgICByZWZlcmVuY2VQYXJ0czogcmVnZXgucmVmZXJlbmNlUGFydHNcbiAgfSkpXG5cbiAgLy8gYm9keSBvciBmb290ZXJcbiAgXy5mb3JFYWNoKGxpbmVzLCBmdW5jdGlvbiAobGluZSkge1xuICAgIGlmIChvcHRpb25zLmZpZWxkUGF0dGVybikge1xuICAgICAgY29uc3QgZmllbGRNYXRjaCA9IG9wdGlvbnMuZmllbGRQYXR0ZXJuLmV4ZWMobGluZSlcblxuICAgICAgaWYgKGZpZWxkTWF0Y2gpIHtcbiAgICAgICAgY3VycmVudFByb2Nlc3NlZEZpZWxkID0gZmllbGRNYXRjaFsxXVxuXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICBpZiAoY3VycmVudFByb2Nlc3NlZEZpZWxkKSB7XG4gICAgICAgIG90aGVyRmllbGRzW2N1cnJlbnRQcm9jZXNzZWRGaWVsZF0gPSBhcHBlbmQob3RoZXJGaWVsZHNbY3VycmVudFByb2Nlc3NlZEZpZWxkXSwgbGluZSlcblxuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICB9XG5cbiAgICBsZXQgcmVmZXJlbmNlTWF0Y2hlZFxuXG4gICAgLy8gdGhpcyBpcyBhIG5ldyBpbXBvcnRhbnQgbm90ZVxuICAgIGNvbnN0IG5vdGVzTWF0Y2ggPSBsaW5lLm1hdGNoKHJlZ2V4Lm5vdGVzKVxuICAgIGlmIChub3Rlc01hdGNoKSB7XG4gICAgICBjb250aW51ZU5vdGUgPSB0cnVlXG4gICAgICBpc0JvZHkgPSBmYWxzZVxuICAgICAgZm9vdGVyID0gYXBwZW5kKGZvb3RlciwgbGluZSlcblxuICAgICAgY29uc3Qgbm90ZSA9IHtcbiAgICAgICAgdGl0bGU6IG5vdGVzTWF0Y2hbMV0sXG4gICAgICAgIHRleHQ6IG5vdGVzTWF0Y2hbMl1cbiAgICAgIH1cblxuICAgICAgbm90ZXMucHVzaChub3RlKVxuXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBjb25zdCBsaW5lUmVmZXJlbmNlcyA9IGdldFJlZmVyZW5jZXMobGluZSwge1xuICAgICAgcmVmZXJlbmNlczogcmVnZXgucmVmZXJlbmNlcyxcbiAgICAgIHJlZmVyZW5jZVBhcnRzOiByZWdleC5yZWZlcmVuY2VQYXJ0c1xuICAgIH0pXG5cbiAgICBpZiAobGluZVJlZmVyZW5jZXMubGVuZ3RoID4gMCkge1xuICAgICAgaXNCb2R5ID0gZmFsc2VcbiAgICAgIHJlZmVyZW5jZU1hdGNoZWQgPSB0cnVlXG4gICAgICBjb250aW51ZU5vdGUgPSBmYWxzZVxuICAgIH1cblxuICAgIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KHJlZmVyZW5jZXMsIGxpbmVSZWZlcmVuY2VzKVxuXG4gICAgaWYgKHJlZmVyZW5jZU1hdGNoZWQpIHtcbiAgICAgIGZvb3RlciA9IGFwcGVuZChmb290ZXIsIGxpbmUpXG5cbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGlmIChjb250aW51ZU5vdGUpIHtcbiAgICAgIG5vdGVzW25vdGVzLmxlbmd0aCAtIDFdLnRleHQgPSBhcHBlbmQobm90ZXNbbm90ZXMubGVuZ3RoIC0gMV0udGV4dCwgbGluZSlcbiAgICAgIGZvb3RlciA9IGFwcGVuZChmb290ZXIsIGxpbmUpXG5cbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGlmIChpc0JvZHkpIHtcbiAgICAgIGJvZHkgPSBhcHBlbmQoYm9keSwgbGluZSlcbiAgICB9IGVsc2Uge1xuICAgICAgZm9vdGVyID0gYXBwZW5kKGZvb3RlciwgbGluZSlcbiAgICB9XG4gIH0pXG5cbiAgaWYgKG9wdGlvbnMuYnJlYWtpbmdIZWFkZXJQYXR0ZXJuICYmIG5vdGVzLmxlbmd0aCA9PT0gMCkge1xuICAgIGNvbnN0IGJyZWFraW5nSGVhZGVyID0gaGVhZGVyLm1hdGNoKG9wdGlvbnMuYnJlYWtpbmdIZWFkZXJQYXR0ZXJuKVxuICAgIGlmIChicmVha2luZ0hlYWRlcikge1xuICAgICAgY29uc3Qgbm90ZVRleHQgPSBicmVha2luZ0hlYWRlclszXSAvLyB0aGUgZGVzY3JpcHRpb24gb2YgdGhlIGNoYW5nZS5cbiAgICAgIG5vdGVzLnB1c2goe1xuICAgICAgICB0aXRsZTogJ0JSRUFLSU5HIENIQU5HRScsXG4gICAgICAgIHRleHQ6IG5vdGVUZXh0XG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIHdoaWxlICgobWVudGlvbnNNYXRjaCA9IHJlZ2V4Lm1lbnRpb25zLmV4ZWMocmF3KSkpIHtcbiAgICBtZW50aW9ucy5wdXNoKG1lbnRpb25zTWF0Y2hbMV0pXG4gIH1cblxuICAvLyBkb2VzIHRoaXMgY29tbWl0IHJldmVydCBhbnkgb3RoZXIgY29tbWl0P1xuICBjb25zdCByZXZlcnRNYXRjaCA9IHJhdy5tYXRjaChvcHRpb25zLnJldmVydFBhdHRlcm4pXG4gIGlmIChyZXZlcnRNYXRjaCkge1xuICAgIHJldmVydCA9IHt9XG4gICAgXy5mb3JFYWNoKHJldmVydENvcnJlc3BvbmRlbmNlLCBmdW5jdGlvbiAocGFydE5hbWUsIGluZGV4KSB7XG4gICAgICBjb25zdCBwYXJ0VmFsdWUgPSByZXZlcnRNYXRjaFtpbmRleCArIDFdIHx8IG51bGxcbiAgICAgIHJldmVydFtwYXJ0TmFtZV0gPSBwYXJ0VmFsdWVcbiAgICB9KVxuICB9IGVsc2Uge1xuICAgIHJldmVydCA9IG51bGxcbiAgfVxuXG4gIF8ubWFwKG5vdGVzLCBmdW5jdGlvbiAobm90ZSkge1xuICAgIG5vdGUudGV4dCA9IHRyaW1PZmZOZXdsaW5lcyhub3RlLnRleHQpXG5cbiAgICByZXR1cm4gbm90ZVxuICB9KVxuXG4gIGNvbnN0IG1zZyA9IF8ubWVyZ2UoaGVhZGVyUGFydHMsIG1lcmdlUGFydHMsIHtcbiAgICBtZXJnZTogbWVyZ2UsXG4gICAgaGVhZGVyOiBoZWFkZXIsXG4gICAgYm9keTogYm9keSA/IHRyaW1PZmZOZXdsaW5lcyhib2R5KSA6IG51bGwsXG4gICAgZm9vdGVyOiBmb290ZXIgPyB0cmltT2ZmTmV3bGluZXMoZm9vdGVyKSA6IG51bGwsXG4gICAgbm90ZXM6IG5vdGVzLFxuICAgIHJlZmVyZW5jZXM6IHJlZmVyZW5jZXMsXG4gICAgbWVudGlvbnM6IG1lbnRpb25zLFxuICAgIHJldmVydDogcmV2ZXJ0XG4gIH0sIG90aGVyRmllbGRzKVxuXG4gIHJldHVybiBtc2dcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBwYXJzZXJcbiIsICIndXNlIHN0cmljdCdcblxuY29uc3QgcmVOb21hdGNoID0gLyg/IS4qKS9cblxuZnVuY3Rpb24gam9pbiAoYXJyYXksIGpvaW5lcikge1xuICByZXR1cm4gYXJyYXlcbiAgICAubWFwKGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgIHJldHVybiB2YWwudHJpbSgpXG4gICAgfSlcbiAgICAuZmlsdGVyKGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgIHJldHVybiB2YWwubGVuZ3RoXG4gICAgfSlcbiAgICAuam9pbihqb2luZXIpXG59XG5cbmZ1bmN0aW9uIGdldE5vdGVzUmVnZXggKG5vdGVLZXl3b3Jkcywgbm90ZXNQYXR0ZXJuKSB7XG4gIGlmICghbm90ZUtleXdvcmRzKSB7XG4gICAgcmV0dXJuIHJlTm9tYXRjaFxuICB9XG5cbiAgY29uc3Qgbm90ZUtleXdvcmRzU2VsZWN0aW9uID0gam9pbihub3RlS2V5d29yZHMsICd8JylcblxuICBpZiAoIW5vdGVzUGF0dGVybikge1xuICAgIHJldHVybiBuZXcgUmVnRXhwKCdeW1xcXFxzfCpdKignICsgbm90ZUtleXdvcmRzU2VsZWN0aW9uICsgJylbOlxcXFxzXSsoLiopJywgJ2knKVxuICB9XG5cbiAgcmV0dXJuIG5vdGVzUGF0dGVybihub3RlS2V5d29yZHNTZWxlY3Rpb24pXG59XG5cbmZ1bmN0aW9uIGdldFJlZmVyZW5jZVBhcnRzUmVnZXggKGlzc3VlUHJlZml4ZXMsIGlzc3VlUHJlZml4ZXNDYXNlU2Vuc2l0aXZlKSB7XG4gIGlmICghaXNzdWVQcmVmaXhlcykge1xuICAgIHJldHVybiByZU5vbWF0Y2hcbiAgfVxuXG4gIGNvbnN0IGZsYWdzID0gaXNzdWVQcmVmaXhlc0Nhc2VTZW5zaXRpdmUgPyAnZycgOiAnZ2knXG4gIHJldHVybiBuZXcgUmVnRXhwKCcoPzouKj8pPz9cXFxccyooW1xcXFx3LVxcXFwuXFxcXC9dKj8pPz8oJyArIGpvaW4oaXNzdWVQcmVmaXhlcywgJ3wnKSArICcpKFtcXFxcdy1dKlxcXFxkKyknLCBmbGFncylcbn1cblxuZnVuY3Rpb24gZ2V0UmVmZXJlbmNlc1JlZ2V4IChyZWZlcmVuY2VBY3Rpb25zKSB7XG4gIGlmICghcmVmZXJlbmNlQWN0aW9ucykge1xuICAgIC8vIG1hdGNoZXMgZXZlcnl0aGluZ1xuICAgIHJldHVybiAvKCkoLispL2dpXG4gIH1cblxuICBjb25zdCBqb2luZWRLZXl3b3JkcyA9IGpvaW4ocmVmZXJlbmNlQWN0aW9ucywgJ3wnKVxuICByZXR1cm4gbmV3IFJlZ0V4cCgnKCcgKyBqb2luZWRLZXl3b3JkcyArICcpKD86XFxcXHMrKC4qPykpKD89KD86JyArIGpvaW5lZEtleXdvcmRzICsgJyl8JCknLCAnZ2knKVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9XG4gIGNvbnN0IHJlTm90ZXMgPSBnZXROb3Rlc1JlZ2V4KG9wdGlvbnMubm90ZUtleXdvcmRzLCBvcHRpb25zLm5vdGVzUGF0dGVybilcbiAgY29uc3QgcmVSZWZlcmVuY2VQYXJ0cyA9IGdldFJlZmVyZW5jZVBhcnRzUmVnZXgob3B0aW9ucy5pc3N1ZVByZWZpeGVzLCBvcHRpb25zLmlzc3VlUHJlZml4ZXNDYXNlU2Vuc2l0aXZlKVxuICBjb25zdCByZVJlZmVyZW5jZXMgPSBnZXRSZWZlcmVuY2VzUmVnZXgob3B0aW9ucy5yZWZlcmVuY2VBY3Rpb25zKVxuXG4gIHJldHVybiB7XG4gICAgbm90ZXM6IHJlTm90ZXMsXG4gICAgcmVmZXJlbmNlUGFydHM6IHJlUmVmZXJlbmNlUGFydHMsXG4gICAgcmVmZXJlbmNlczogcmVSZWZlcmVuY2VzLFxuICAgIG1lbnRpb25zOiAvQChbXFx3LV0rKS9nXG4gIH1cbn1cbiIsICJjb25zdCB7IFRyYW5zZm9ybSB9ID0gcmVxdWlyZSgncmVhZGFibGUtc3RyZWFtJylcblxuZnVuY3Rpb24gaW5oZXJpdHMgKGZuLCBzdXApIHtcbiAgZm4uc3VwZXJfID0gc3VwXG4gIGZuLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwLnByb3RvdHlwZSwge1xuICAgIGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBmbiwgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfVxuICB9KVxufVxuXG4vLyBjcmVhdGUgYSBuZXcgZXhwb3J0IGZ1bmN0aW9uLCB1c2VkIGJ5IGJvdGggdGhlIG1haW4gZXhwb3J0IGFuZFxuLy8gdGhlIC5jdG9yIGV4cG9ydCwgY29udGFpbnMgY29tbW9uIGxvZ2ljIGZvciBkZWFsaW5nIHdpdGggYXJndW1lbnRzXG5mdW5jdGlvbiB0aHJvdWdoMiAoY29uc3RydWN0KSB7XG4gIHJldHVybiAob3B0aW9ucywgdHJhbnNmb3JtLCBmbHVzaCkgPT4ge1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgZmx1c2ggPSB0cmFuc2Zvcm1cbiAgICAgIHRyYW5zZm9ybSA9IG9wdGlvbnNcbiAgICAgIG9wdGlvbnMgPSB7fVxuICAgIH1cblxuICAgIGlmICh0eXBlb2YgdHJhbnNmb3JtICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAvLyBub29wXG4gICAgICB0cmFuc2Zvcm0gPSAoY2h1bmssIGVuYywgY2IpID0+IGNiKG51bGwsIGNodW5rKVxuICAgIH1cblxuICAgIGlmICh0eXBlb2YgZmx1c2ggIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGZsdXNoID0gbnVsbFxuICAgIH1cblxuICAgIHJldHVybiBjb25zdHJ1Y3Qob3B0aW9ucywgdHJhbnNmb3JtLCBmbHVzaClcbiAgfVxufVxuXG4vLyBtYWluIGV4cG9ydCwganVzdCBtYWtlIG1lIGEgdHJhbnNmb3JtIHN0cmVhbSFcbmNvbnN0IG1ha2UgPSB0aHJvdWdoMigob3B0aW9ucywgdHJhbnNmb3JtLCBmbHVzaCkgPT4ge1xuICBjb25zdCB0MiA9IG5ldyBUcmFuc2Zvcm0ob3B0aW9ucylcblxuICB0Mi5fdHJhbnNmb3JtID0gdHJhbnNmb3JtXG5cbiAgaWYgKGZsdXNoKSB7XG4gICAgdDIuX2ZsdXNoID0gZmx1c2hcbiAgfVxuXG4gIHJldHVybiB0MlxufSlcblxuLy8gbWFrZSBtZSBhIHJldXNhYmxlIHByb3RvdHlwZSB0aGF0IEkgY2FuIGBuZXdgLCBvciBpbXBsaWNpdGx5IGBuZXdgXG4vLyB3aXRoIGEgY29uc3RydWN0b3IgY2FsbFxuY29uc3QgY3RvciA9IHRocm91Z2gyKChvcHRpb25zLCB0cmFuc2Zvcm0sIGZsdXNoKSA9PiB7XG4gIGZ1bmN0aW9uIFRocm91Z2gyIChvdmVycmlkZSkge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBUaHJvdWdoMikpIHtcbiAgICAgIHJldHVybiBuZXcgVGhyb3VnaDIob3ZlcnJpZGUpXG4gICAgfVxuXG4gICAgdGhpcy5vcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucywgb3ZlcnJpZGUpXG5cbiAgICBUcmFuc2Zvcm0uY2FsbCh0aGlzLCB0aGlzLm9wdGlvbnMpXG5cbiAgICB0aGlzLl90cmFuc2Zvcm0gPSB0cmFuc2Zvcm1cbiAgICBpZiAoZmx1c2gpIHtcbiAgICAgIHRoaXMuX2ZsdXNoID0gZmx1c2hcbiAgICB9XG4gIH1cblxuICBpbmhlcml0cyhUaHJvdWdoMiwgVHJhbnNmb3JtKVxuXG4gIHJldHVybiBUaHJvdWdoMlxufSlcblxuY29uc3Qgb2JqID0gdGhyb3VnaDIoZnVuY3Rpb24gKG9wdGlvbnMsIHRyYW5zZm9ybSwgZmx1c2gpIHtcbiAgY29uc3QgdDIgPSBuZXcgVHJhbnNmb3JtKE9iamVjdC5hc3NpZ24oeyBvYmplY3RNb2RlOiB0cnVlLCBoaWdoV2F0ZXJNYXJrOiAxNiB9LCBvcHRpb25zKSlcblxuICB0Mi5fdHJhbnNmb3JtID0gdHJhbnNmb3JtXG5cbiAgaWYgKGZsdXNoKSB7XG4gICAgdDIuX2ZsdXNoID0gZmx1c2hcbiAgfVxuXG4gIHJldHVybiB0MlxufSlcblxubW9kdWxlLmV4cG9ydHMgPSBtYWtlXG5tb2R1bGUuZXhwb3J0cy5jdG9yID0gY3RvclxubW9kdWxlLmV4cG9ydHMub2JqID0gb2JqXG4iLCAiJ3VzZSBzdHJpY3QnXG5cbmNvbnN0IHBhcnNlciA9IHJlcXVpcmUoJy4vbGliL3BhcnNlcicpXG5jb25zdCByZWdleCA9IHJlcXVpcmUoJy4vbGliL3JlZ2V4JylcbmNvbnN0IHRocm91Z2ggPSByZXF1aXJlKCd0aHJvdWdoMicpXG5jb25zdCBfID0gcmVxdWlyZSgnbG9kYXNoJylcblxuZnVuY3Rpb24gYXNzaWduT3B0cyAob3B0aW9ucykge1xuICBvcHRpb25zID0gXy5leHRlbmQoe1xuICAgIGhlYWRlclBhdHRlcm46IC9eKFxcdyopKD86XFwoKFtcXHckLlxcLSovIF0qKVxcKSk/OiAoLiopJC8sXG4gICAgaGVhZGVyQ29ycmVzcG9uZGVuY2U6IFsndHlwZScsICdzY29wZScsICdzdWJqZWN0J10sXG4gICAgcmVmZXJlbmNlQWN0aW9uczogW1xuICAgICAgJ2Nsb3NlJyxcbiAgICAgICdjbG9zZXMnLFxuICAgICAgJ2Nsb3NlZCcsXG4gICAgICAnZml4JyxcbiAgICAgICdmaXhlcycsXG4gICAgICAnZml4ZWQnLFxuICAgICAgJ3Jlc29sdmUnLFxuICAgICAgJ3Jlc29sdmVzJyxcbiAgICAgICdyZXNvbHZlZCdcbiAgICBdLFxuICAgIGlzc3VlUHJlZml4ZXM6IFsnIyddLFxuICAgIG5vdGVLZXl3b3JkczogWydCUkVBS0lORyBDSEFOR0UnLCAnQlJFQUtJTkctQ0hBTkdFJ10sXG4gICAgZmllbGRQYXR0ZXJuOiAvXi0oLio/KS0kLyxcbiAgICByZXZlcnRQYXR0ZXJuOiAvXlJldmVydFxcc1wiKFtcXHNcXFNdKilcIlxccypUaGlzIHJldmVydHMgY29tbWl0IChcXHcqKVxcLi8sXG4gICAgcmV2ZXJ0Q29ycmVzcG9uZGVuY2U6IFsnaGVhZGVyJywgJ2hhc2gnXSxcbiAgICB3YXJuOiBmdW5jdGlvbiAoKSB7fSxcbiAgICBtZXJnZVBhdHRlcm46IG51bGwsXG4gICAgbWVyZ2VDb3JyZXNwb25kZW5jZTogbnVsbFxuICB9LCBvcHRpb25zKVxuXG4gIGlmICh0eXBlb2Ygb3B0aW9ucy5oZWFkZXJQYXR0ZXJuID09PSAnc3RyaW5nJykge1xuICAgIG9wdGlvbnMuaGVhZGVyUGF0dGVybiA9IG5ldyBSZWdFeHAob3B0aW9ucy5oZWFkZXJQYXR0ZXJuKVxuICB9XG5cbiAgaWYgKHR5cGVvZiBvcHRpb25zLmhlYWRlckNvcnJlc3BvbmRlbmNlID09PSAnc3RyaW5nJykge1xuICAgIG9wdGlvbnMuaGVhZGVyQ29ycmVzcG9uZGVuY2UgPSBvcHRpb25zLmhlYWRlckNvcnJlc3BvbmRlbmNlLnNwbGl0KCcsJylcbiAgfVxuXG4gIGlmICh0eXBlb2Ygb3B0aW9ucy5yZWZlcmVuY2VBY3Rpb25zID09PSAnc3RyaW5nJykge1xuICAgIG9wdGlvbnMucmVmZXJlbmNlQWN0aW9ucyA9IG9wdGlvbnMucmVmZXJlbmNlQWN0aW9ucy5zcGxpdCgnLCcpXG4gIH1cblxuICBpZiAodHlwZW9mIG9wdGlvbnMuaXNzdWVQcmVmaXhlcyA9PT0gJ3N0cmluZycpIHtcbiAgICBvcHRpb25zLmlzc3VlUHJlZml4ZXMgPSBvcHRpb25zLmlzc3VlUHJlZml4ZXMuc3BsaXQoJywnKVxuICB9XG5cbiAgaWYgKHR5cGVvZiBvcHRpb25zLm5vdGVLZXl3b3JkcyA9PT0gJ3N0cmluZycpIHtcbiAgICBvcHRpb25zLm5vdGVLZXl3b3JkcyA9IG9wdGlvbnMubm90ZUtleXdvcmRzLnNwbGl0KCcsJylcbiAgfVxuXG4gIGlmICh0eXBlb2Ygb3B0aW9ucy5maWVsZFBhdHRlcm4gPT09ICdzdHJpbmcnKSB7XG4gICAgb3B0aW9ucy5maWVsZFBhdHRlcm4gPSBuZXcgUmVnRXhwKG9wdGlvbnMuZmllbGRQYXR0ZXJuKVxuICB9XG5cbiAgaWYgKHR5cGVvZiBvcHRpb25zLnJldmVydFBhdHRlcm4gPT09ICdzdHJpbmcnKSB7XG4gICAgb3B0aW9ucy5yZXZlcnRQYXR0ZXJuID0gbmV3IFJlZ0V4cChvcHRpb25zLnJldmVydFBhdHRlcm4pXG4gIH1cblxuICBpZiAodHlwZW9mIG9wdGlvbnMucmV2ZXJ0Q29ycmVzcG9uZGVuY2UgPT09ICdzdHJpbmcnKSB7XG4gICAgb3B0aW9ucy5yZXZlcnRDb3JyZXNwb25kZW5jZSA9IG9wdGlvbnMucmV2ZXJ0Q29ycmVzcG9uZGVuY2Uuc3BsaXQoJywnKVxuICB9XG5cbiAgaWYgKHR5cGVvZiBvcHRpb25zLm1lcmdlUGF0dGVybiA9PT0gJ3N0cmluZycpIHtcbiAgICBvcHRpb25zLm1lcmdlUGF0dGVybiA9IG5ldyBSZWdFeHAob3B0aW9ucy5tZXJnZVBhdHRlcm4pXG4gIH1cblxuICByZXR1cm4gb3B0aW9uc1xufVxuXG5mdW5jdGlvbiBjb252ZW50aW9uYWxDb21taXRzUGFyc2VyIChvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBhc3NpZ25PcHRzKG9wdGlvbnMpXG4gIGNvbnN0IHJlZyA9IHJlZ2V4KG9wdGlvbnMpXG5cbiAgcmV0dXJuIHRocm91Z2gub2JqKGZ1bmN0aW9uIChkYXRhLCBlbmMsIGNiKSB7XG4gICAgbGV0IGNvbW1pdFxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbW1pdCA9IHBhcnNlcihkYXRhLnRvU3RyaW5nKCksIG9wdGlvbnMsIHJlZylcbiAgICAgIGNiKG51bGwsIGNvbW1pdClcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGlmIChvcHRpb25zLndhcm4gPT09IHRydWUpIHtcbiAgICAgICAgY2IoZXJyKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3B0aW9ucy53YXJuKGVyci50b1N0cmluZygpKVxuICAgICAgICBjYihudWxsLCAnJylcbiAgICAgIH1cbiAgICB9XG4gIH0pXG59XG5cbmZ1bmN0aW9uIHN5bmMgKGNvbW1pdCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gYXNzaWduT3B0cyhvcHRpb25zKVxuICBjb25zdCByZWcgPSByZWdleChvcHRpb25zKVxuXG4gIHJldHVybiBwYXJzZXIoY29tbWl0LCBvcHRpb25zLCByZWcpXG59XG5cbm1vZHVsZS5leHBvcnRzID0gY29udmVudGlvbmFsQ29tbWl0c1BhcnNlclxubW9kdWxlLmV4cG9ydHMuc3luYyA9IHN5bmNcbiIsICIndXNlIHN0cmljdCdcblxuY29uc3Qgbm9kZVBhdGggPSByZXF1aXJlKCdwYXRoJylcblxubW9kdWxlLmV4cG9ydHMgPSBwcmVzZXRMb2FkZXIocmVxdWlyZSlcbm1vZHVsZS5leHBvcnRzLnByZXNldExvYWRlciA9IHByZXNldExvYWRlclxuXG5mdW5jdGlvbiBwcmVzZXRMb2FkZXIgKHJlcXVpcmVNZXRob2QpIHtcbiAgcmV0dXJuIHBhdGggPT4ge1xuICAgIGxldCBuYW1lID0gJydcbiAgICBsZXQgc2NvcGUgPSAnJ1xuICAgIGxldCBhYnNvbHV0ZVBhdGggPSAnJ1xuXG4gICAgaWYgKHR5cGVvZiBwYXRoID09PSAnc3RyaW5nJykge1xuICAgICAgbmFtZSA9IHBhdGgudG9Mb3dlckNhc2UoKVxuICAgICAgaWYgKG5vZGVQYXRoLmlzQWJzb2x1dGUocGF0aCkpIHtcbiAgICAgICAgYWJzb2x1dGVQYXRoID0gcGF0aFxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodHlwZW9mIHBhdGggPT09ICdvYmplY3QnICYmIHBhdGgubmFtZSkge1xuICAgICAgLy8gUmF0aGVyIHRoYW4gYSBzdHJpbmcgcHJlc2V0IG5hbWUsIG9wdGlvbnMucHJlc2V0IGNhbiBiZSBhbiBvYmplY3RcbiAgICAgIC8vIHdpdGggYSBcIm5hbWVcIiBrZXkgaW5kaWNhdGluZyB0aGUgcHJlc2V0IHRvIGxvYWQ7IGFkZGl0aW5vYWwga2V5L3ZhbHVlXG4gICAgICAvLyBwYWlycyBhcmUgYXNzdW1lZCB0byBiZSBjb25maWd1cmF0aW9uIGZvciB0aGUgcHJlc2V0LiBTZWUgdGhlIGRvY3VtZW50YXRpb25cbiAgICAgIC8vIGZvciBhIGdpdmVuIHByZXNldCBmb3IgY29uZmlndXJhdGlvbiBhdmFpbGFibGUuXG4gICAgICBuYW1lID0gcGF0aC5uYW1lLnRvTG93ZXJDYXNlKClcbiAgICAgIGlmIChub2RlUGF0aC5pc0Fic29sdXRlKHBhdGgubmFtZSkpIHtcbiAgICAgICAgYWJzb2x1dGVQYXRoID0gcGF0aC5uYW1lXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IEVycm9yKCdwcmVzZXQgbXVzdCBiZSBzdHJpbmcgb3Igb2JqZWN0IHdpdGgga2V5IG5hbWUnKVxuICAgIH1cblxuICAgIGlmICghYWJzb2x1dGVQYXRoKSB7XG4gICAgICBpZiAobmFtZVswXSA9PT0gJ0AnKSB7XG4gICAgICAgIGNvbnN0IHBhcnRzID0gbmFtZS5zcGxpdCgnLycpXG4gICAgICAgIHNjb3BlID0gcGFydHMuc2hpZnQoKSArICcvJ1xuICAgICAgICBuYW1lID0gcGFydHMuam9pbignLycpXG4gICAgICB9XG5cbiAgICAgIGlmICghbmFtZS5zdGFydHNXaXRoKCdjb252ZW50aW9uYWwtY2hhbmdlbG9nLScpKSB7XG4gICAgICAgIG5hbWUgPSBgY29udmVudGlvbmFsLWNoYW5nZWxvZy0ke25hbWV9YFxuICAgICAgfVxuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBjb25maWcgPSByZXF1aXJlTWV0aG9kKGFic29sdXRlUGF0aCB8fCBgJHtzY29wZX0ke25hbWV9YClcbiAgICAgIC8vIHJhdGhlciB0aGFuIHJldHVybmluZyBhIHByb21pc2UsIHByZXNldHMgY2FuIHJldHVybiBhIGJ1aWxkZXIgZnVuY3Rpb25cbiAgICAgIC8vIHdoaWNoIGFjY2VwdHMgYSBjb25maWcgb2JqZWN0IChhbGxvd2luZyBmb3IgY3VzdG9taXphdGlvbikgYW5kIHJldHVybnNcbiAgICAgIC8vIGEgcHJvbWlzZS5cbiAgICAgIGlmIChjb25maWcgJiYgIWNvbmZpZy50aGVuICYmIHR5cGVvZiBwYXRoID09PSAnb2JqZWN0Jykge1xuICAgICAgICByZXR1cm4gY29uZmlnKHBhdGgpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyByZXF1aXJlIHJldHVybmVkIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIGEgY29uZmlnIG9iamVjdC5cbiAgICAgICAgcmV0dXJuIGNvbmZpZ1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKF8pIHtcbiAgICAgIHRocm93IEVycm9yKCdkb2VzIG5vdCBleGlzdCcpXG4gICAgfVxuICB9XG59XG4iLCAiJ3VzZSBzdHJpY3QnXG5cbmNvbnN0IHByb2MgPSByZXF1aXJlKCdwcm9jZXNzJylcbmNvbnN0IGV4ZWMgPSByZXF1aXJlKCdjaGlsZF9wcm9jZXNzJykuZXhlY1xuY29uc3Qgc2VtdmVyVmFsaWQgPSByZXF1aXJlKCdzZW12ZXInKS52YWxpZFxuY29uc3QgcmVnZXggPSAvdGFnOlxccyooLis/KVssKV0vZ2lcbmNvbnN0IGNtZCA9ICdnaXQgbG9nIC0tZGVjb3JhdGUgLS1uby1jb2xvcidcbmNvbnN0IHVuc3RhYmxlVGFnVGVzdCA9IC8uKy1cXHcrXFwuXFxkKyQvXG5cbmZ1bmN0aW9uIGxlcm5hVGFnICh0YWcsIHBrZykge1xuICBpZiAocGtnICYmICEobmV3IFJlZ0V4cCgnXicgKyBwa2cgKyAnQCcpKS50ZXN0KHRhZykpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gL14uK0BbMC05XStcXC5bMC05XStcXC5bMC05XSsoLS4rKT8kLy50ZXN0KHRhZylcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGdpdFNlbXZlclRhZ3MgKG9wdHMsIGNhbGxiYWNrKSB7XG4gIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNhbGxiYWNrID0gb3B0c1xuICAgIG9wdHMgPSB7fVxuICB9XG4gIGNvbnN0IG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHsgbWF4QnVmZmVyOiBJbmZpbml0eSwgY3dkOiBwcm9jLmN3ZCgpIH0sIG9wdHMpXG5cbiAgaWYgKG9wdGlvbnMucGFja2FnZSAmJiAhb3B0aW9ucy5sZXJuYVRhZ3MpIHtcbiAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ29wdHMucGFja2FnZSBzaG91bGQgb25seSBiZSB1c2VkIHdoZW4gcnVubmluZyBpbiBsZXJuYSBtb2RlJykpXG4gICAgcmV0dXJuXG4gIH1cblxuICBleGVjKGNtZCwgb3B0aW9ucywgZnVuY3Rpb24gKGVyciwgZGF0YSkge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIGNhbGxiYWNrKGVycilcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGNvbnN0IHRhZ3MgPSBbXVxuICAgIGxldCB0YWdQcmVmaXhSZWdleHBcbiAgICBpZiAob3B0aW9ucy50YWdQcmVmaXgpIHtcbiAgICAgIHRhZ1ByZWZpeFJlZ2V4cCA9IG5ldyBSZWdFeHAoJ14nICsgb3B0aW9ucy50YWdQcmVmaXggKyAnKC4qKScpXG4gICAgfVxuICAgIGRhdGEuc3BsaXQoJ1xcbicpLmZvckVhY2goZnVuY3Rpb24gKGRlY29yYXRpb25zKSB7XG4gICAgICBsZXQgbWF0Y2hcbiAgICAgIHdoaWxlICgobWF0Y2ggPSByZWdleC5leGVjKGRlY29yYXRpb25zKSkpIHtcbiAgICAgICAgY29uc3QgdGFnID0gbWF0Y2hbMV1cblxuICAgICAgICBpZiAob3B0aW9ucy5za2lwVW5zdGFibGUgJiYgdW5zdGFibGVUYWdUZXN0LnRlc3QodGFnKSkge1xuICAgICAgICAgIC8vIHNraXAgdW5zdGFibGUgdGFnXG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRpb25zLmxlcm5hVGFncykge1xuICAgICAgICAgIGlmIChsZXJuYVRhZyh0YWcsIG9wdGlvbnMucGFja2FnZSkpIHtcbiAgICAgICAgICAgIHRhZ3MucHVzaCh0YWcpXG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbnMudGFnUHJlZml4KSB7XG4gICAgICAgICAgY29uc3QgbWF0Y2hlcyA9IHRhZy5tYXRjaCh0YWdQcmVmaXhSZWdleHApXG4gICAgICAgICAgaWYgKG1hdGNoZXMgJiYgc2VtdmVyVmFsaWQobWF0Y2hlc1sxXSkpIHtcbiAgICAgICAgICAgIHRhZ3MucHVzaCh0YWcpXG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHNlbXZlclZhbGlkKHRhZykpIHtcbiAgICAgICAgICB0YWdzLnB1c2godGFnKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSlcblxuICAgIGNhbGxiYWNrKG51bGwsIHRhZ3MpXG4gIH0pXG59XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBtYXRjaCA9IChhcnJheSwgdmFsdWUpID0+XG5cdGFycmF5LnNvbWUoeCA9PiAoeCBpbnN0YW5jZW9mIFJlZ0V4cCA/IHgudGVzdCh2YWx1ZSkgOiB4ID09PSB2YWx1ZSkpO1xuXG5jb25zdCBkYXJncyA9IChvYmplY3QsIG9wdGlvbnMpID0+IHtcblx0Y29uc3QgYXJndW1lbnRzXyA9IFtdO1xuXHRsZXQgZXh0cmFBcmd1bWVudHMgPSBbXTtcblx0bGV0IHNlcGFyYXRlZEFyZ3VtZW50cyA9IFtdO1xuXG5cdG9wdGlvbnMgPSB7XG5cdFx0dXNlRXF1YWxzOiB0cnVlLFxuXHRcdHNob3J0RmxhZzogdHJ1ZSxcblx0XHQuLi5vcHRpb25zXG5cdH07XG5cblx0Y29uc3QgbWFrZUFyZ3VtZW50cyA9IChrZXksIHZhbHVlKSA9PiB7XG5cdFx0Y29uc3QgcHJlZml4ID0gb3B0aW9ucy5zaG9ydEZsYWcgJiYga2V5Lmxlbmd0aCA9PT0gMSA/ICctJyA6ICctLSc7XG5cdFx0Y29uc3QgdGhlS2V5ID0gKG9wdGlvbnMuYWxsb3dDYW1lbENhc2UgP1xuXHRcdFx0a2V5IDpcblx0XHRcdGtleS5yZXBsYWNlKC9bQS1aXS9nLCAnLSQmJykudG9Mb3dlckNhc2UoKSk7XG5cblx0XHRrZXkgPSBwcmVmaXggKyB0aGVLZXk7XG5cblx0XHRpZiAob3B0aW9ucy51c2VFcXVhbHMpIHtcblx0XHRcdGFyZ3VtZW50c18ucHVzaChrZXkgKyAodmFsdWUgPyBgPSR7dmFsdWV9YCA6ICcnKSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGFyZ3VtZW50c18ucHVzaChrZXkpO1xuXG5cdFx0XHRpZiAodmFsdWUpIHtcblx0XHRcdFx0YXJndW1lbnRzXy5wdXNoKHZhbHVlKTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG5cblx0Y29uc3QgbWFrZUFsaWFzQXJnID0gKGtleSwgdmFsdWUpID0+IHtcblx0XHRhcmd1bWVudHNfLnB1c2goYC0ke2tleX1gKTtcblxuXHRcdGlmICh2YWx1ZSkge1xuXHRcdFx0YXJndW1lbnRzXy5wdXNoKHZhbHVlKTtcblx0XHR9XG5cdH07XG5cblx0Zm9yIChsZXQgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKG9iamVjdCkpIHtcblx0XHRsZXQgcHVzaEFyZ3VtZW50cyA9IG1ha2VBcmd1bWVudHM7XG5cblx0XHRpZiAoQXJyYXkuaXNBcnJheShvcHRpb25zLmV4Y2x1ZGVzKSAmJiBtYXRjaChvcHRpb25zLmV4Y2x1ZGVzLCBrZXkpKSB7XG5cdFx0XHRjb250aW51ZTtcblx0XHR9XG5cblx0XHRpZiAoQXJyYXkuaXNBcnJheShvcHRpb25zLmluY2x1ZGVzKSAmJiAhbWF0Y2gob3B0aW9ucy5pbmNsdWRlcywga2V5KSkge1xuXHRcdFx0Y29udGludWU7XG5cdFx0fVxuXG5cdFx0aWYgKHR5cGVvZiBvcHRpb25zLmFsaWFzZXMgPT09ICdvYmplY3QnICYmIG9wdGlvbnMuYWxpYXNlc1trZXldKSB7XG5cdFx0XHRrZXkgPSBvcHRpb25zLmFsaWFzZXNba2V5XTtcblx0XHRcdHB1c2hBcmd1bWVudHMgPSBtYWtlQWxpYXNBcmc7XG5cdFx0fVxuXG5cdFx0aWYgKGtleSA9PT0gJy0tJykge1xuXHRcdFx0aWYgKCFBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuXHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKFxuXHRcdFx0XHRcdGBFeHBlY3RlZCBrZXkgXFxgLS1cXGAgdG8gYmUgQXJyYXksIGdvdCAke3R5cGVvZiB2YWx1ZX1gXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cblx0XHRcdHNlcGFyYXRlZEFyZ3VtZW50cyA9IHZhbHVlO1xuXHRcdFx0Y29udGludWU7XG5cdFx0fVxuXG5cdFx0aWYgKGtleSA9PT0gJ18nKSB7XG5cdFx0XHRpZiAoIUFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG5cdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoXG5cdFx0XHRcdFx0YEV4cGVjdGVkIGtleSBcXGBfXFxgIHRvIGJlIEFycmF5LCBnb3QgJHt0eXBlb2YgdmFsdWV9YFxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXG5cdFx0XHRleHRyYUFyZ3VtZW50cyA9IHZhbHVlO1xuXHRcdFx0Y29udGludWU7XG5cdFx0fVxuXG5cdFx0aWYgKHZhbHVlID09PSB0cnVlKSB7XG5cdFx0XHRwdXNoQXJndW1lbnRzKGtleSwgJycpO1xuXHRcdH1cblxuXHRcdGlmICh2YWx1ZSA9PT0gZmFsc2UgJiYgIW9wdGlvbnMuaWdub3JlRmFsc2UpIHtcblx0XHRcdHB1c2hBcmd1bWVudHMoYG5vLSR7a2V5fWApO1xuXHRcdH1cblxuXHRcdGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG5cdFx0XHRwdXNoQXJndW1lbnRzKGtleSwgdmFsdWUpO1xuXHRcdH1cblxuXHRcdGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInICYmICFOdW1iZXIuaXNOYU4odmFsdWUpKSB7XG5cdFx0XHRwdXNoQXJndW1lbnRzKGtleSwgU3RyaW5nKHZhbHVlKSk7XG5cdFx0fVxuXG5cdFx0aWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG5cdFx0XHRmb3IgKGNvbnN0IGFycmF5VmFsdWUgb2YgdmFsdWUpIHtcblx0XHRcdFx0cHVzaEFyZ3VtZW50cyhrZXksIGFycmF5VmFsdWUpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGZvciAoY29uc3QgYXJndW1lbnQgb2YgZXh0cmFBcmd1bWVudHMpIHtcblx0XHRhcmd1bWVudHNfLnB1c2goU3RyaW5nKGFyZ3VtZW50KSk7XG5cdH1cblxuXHRpZiAoc2VwYXJhdGVkQXJndW1lbnRzLmxlbmd0aCA+IDApIHtcblx0XHRhcmd1bWVudHNfLnB1c2goJy0tJyk7XG5cdH1cblxuXHRmb3IgKGNvbnN0IGFyZ3VtZW50IG9mIHNlcGFyYXRlZEFyZ3VtZW50cykge1xuXHRcdGFyZ3VtZW50c18ucHVzaChTdHJpbmcoYXJndW1lbnQpKTtcblx0fVxuXG5cdHJldHVybiBhcmd1bWVudHNfO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBkYXJncztcbiIsICIvKlxuQ29weXJpZ2h0IChjKSAyMDE0LTIwMTgsIE1hdHRlbyBDb2xsaW5hIDxoZWxsb0BtYXR0ZW9jb2xsaW5hLmNvbT5cblxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQsIHByb3ZpZGVkIHRoYXQgdGhlIGFib3ZlXG5jb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIGFwcGVhciBpbiBhbGwgY29waWVzLlxuXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFU1xuV0lUSCBSRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRlxuTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1JcbkFOWSBTUEVDSUFMLCBESVJFQ1QsIElORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVNcbldIQVRTT0VWRVIgUkVTVUxUSU5HIEZST00gTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTlxuQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SIE9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1JcbklOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SIFBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXG4qL1xuXG4ndXNlIHN0cmljdCdcblxuY29uc3QgeyBUcmFuc2Zvcm0gfSA9IHJlcXVpcmUoJ3JlYWRhYmxlLXN0cmVhbScpXG5jb25zdCB7IFN0cmluZ0RlY29kZXIgfSA9IHJlcXVpcmUoJ3N0cmluZ19kZWNvZGVyJylcbmNvbnN0IGtMYXN0ID0gU3ltYm9sKCdsYXN0JylcbmNvbnN0IGtEZWNvZGVyID0gU3ltYm9sKCdkZWNvZGVyJylcblxuZnVuY3Rpb24gdHJhbnNmb3JtIChjaHVuaywgZW5jLCBjYikge1xuICB2YXIgbGlzdFxuICBpZiAodGhpcy5vdmVyZmxvdykgeyAvLyBMaW5lIGJ1ZmZlciBpcyBmdWxsLiBTa2lwIHRvIHN0YXJ0IG9mIG5leHQgbGluZS5cbiAgICB2YXIgYnVmID0gdGhpc1trRGVjb2Rlcl0ud3JpdGUoY2h1bmspXG4gICAgbGlzdCA9IGJ1Zi5zcGxpdCh0aGlzLm1hdGNoZXIpXG5cbiAgICBpZiAobGlzdC5sZW5ndGggPT09IDEpIHJldHVybiBjYigpIC8vIExpbmUgZW5kaW5nIG5vdCBmb3VuZC4gRGlzY2FyZCBlbnRpcmUgY2h1bmsuXG5cbiAgICAvLyBMaW5lIGVuZGluZyBmb3VuZC4gRGlzY2FyZCB0cmFpbGluZyBmcmFnbWVudCBvZiBwcmV2aW91cyBsaW5lIGFuZCByZXNldCBvdmVyZmxvdyBzdGF0ZS5cbiAgICBsaXN0LnNoaWZ0KClcbiAgICB0aGlzLm92ZXJmbG93ID0gZmFsc2VcbiAgfSBlbHNlIHtcbiAgICB0aGlzW2tMYXN0XSArPSB0aGlzW2tEZWNvZGVyXS53cml0ZShjaHVuaylcbiAgICBsaXN0ID0gdGhpc1trTGFzdF0uc3BsaXQodGhpcy5tYXRjaGVyKVxuICB9XG5cbiAgdGhpc1trTGFzdF0gPSBsaXN0LnBvcCgpXG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdHJ5IHtcbiAgICAgIHB1c2godGhpcywgdGhpcy5tYXBwZXIobGlzdFtpXSkpXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJldHVybiBjYihlcnJvcilcbiAgICB9XG4gIH1cblxuICB0aGlzLm92ZXJmbG93ID0gdGhpc1trTGFzdF0ubGVuZ3RoID4gdGhpcy5tYXhMZW5ndGhcbiAgaWYgKHRoaXMub3ZlcmZsb3cgJiYgIXRoaXMuc2tpcE92ZXJmbG93KSByZXR1cm4gY2IobmV3IEVycm9yKCdtYXhpbXVtIGJ1ZmZlciByZWFjaGVkJykpXG5cbiAgY2IoKVxufVxuXG5mdW5jdGlvbiBmbHVzaCAoY2IpIHtcbiAgLy8gZm9yd2FyZCBhbnkgZ2liYmVyaXNoIGxlZnQgaW4gdGhlcmVcbiAgdGhpc1trTGFzdF0gKz0gdGhpc1trRGVjb2Rlcl0uZW5kKClcblxuICBpZiAodGhpc1trTGFzdF0pIHtcbiAgICB0cnkge1xuICAgICAgcHVzaCh0aGlzLCB0aGlzLm1hcHBlcih0aGlzW2tMYXN0XSkpXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJldHVybiBjYihlcnJvcilcbiAgICB9XG4gIH1cblxuICBjYigpXG59XG5cbmZ1bmN0aW9uIHB1c2ggKHNlbGYsIHZhbCkge1xuICBpZiAodmFsICE9PSB1bmRlZmluZWQpIHtcbiAgICBzZWxmLnB1c2godmFsKVxuICB9XG59XG5cbmZ1bmN0aW9uIG5vb3AgKGluY29taW5nKSB7XG4gIHJldHVybiBpbmNvbWluZ1xufVxuXG5mdW5jdGlvbiBzcGxpdCAobWF0Y2hlciwgbWFwcGVyLCBvcHRpb25zKSB7XG4gIC8vIFNldCBkZWZhdWx0cyBmb3IgYW55IGFyZ3VtZW50cyBub3Qgc3VwcGxpZWQuXG4gIG1hdGNoZXIgPSBtYXRjaGVyIHx8IC9cXHI/XFxuL1xuICBtYXBwZXIgPSBtYXBwZXIgfHwgbm9vcFxuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fVxuXG4gIC8vIFRlc3QgYXJndW1lbnRzIGV4cGxpY2l0bHkuXG4gIHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgIGNhc2UgMTpcbiAgICAgIC8vIElmIG1hcHBlciBpcyBvbmx5IGFyZ3VtZW50LlxuICAgICAgaWYgKHR5cGVvZiBtYXRjaGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIG1hcHBlciA9IG1hdGNoZXJcbiAgICAgICAgbWF0Y2hlciA9IC9cXHI/XFxuL1xuICAgICAgLy8gSWYgb3B0aW9ucyBpcyBvbmx5IGFyZ3VtZW50LlxuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgbWF0Y2hlciA9PT0gJ29iamVjdCcgJiYgIShtYXRjaGVyIGluc3RhbmNlb2YgUmVnRXhwKSkge1xuICAgICAgICBvcHRpb25zID0gbWF0Y2hlclxuICAgICAgICBtYXRjaGVyID0gL1xccj9cXG4vXG4gICAgICB9XG4gICAgICBicmVha1xuXG4gICAgY2FzZSAyOlxuICAgICAgLy8gSWYgbWFwcGVyIGFuZCBvcHRpb25zIGFyZSBhcmd1bWVudHMuXG4gICAgICBpZiAodHlwZW9mIG1hdGNoZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgb3B0aW9ucyA9IG1hcHBlclxuICAgICAgICBtYXBwZXIgPSBtYXRjaGVyXG4gICAgICAgIG1hdGNoZXIgPSAvXFxyP1xcbi9cbiAgICAgIC8vIElmIG1hdGNoZXIgYW5kIG9wdGlvbnMgYXJlIGFyZ3VtZW50cy5cbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG1hcHBlciA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgb3B0aW9ucyA9IG1hcHBlclxuICAgICAgICBtYXBwZXIgPSBub29wXG4gICAgICB9XG4gIH1cblxuICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucylcbiAgb3B0aW9ucy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm1cbiAgb3B0aW9ucy5mbHVzaCA9IGZsdXNoXG4gIG9wdGlvbnMucmVhZGFibGVPYmplY3RNb2RlID0gdHJ1ZVxuXG4gIGNvbnN0IHN0cmVhbSA9IG5ldyBUcmFuc2Zvcm0ob3B0aW9ucylcblxuICBzdHJlYW1ba0xhc3RdID0gJydcbiAgc3RyZWFtW2tEZWNvZGVyXSA9IG5ldyBTdHJpbmdEZWNvZGVyKCd1dGY4JylcbiAgc3RyZWFtLm1hdGNoZXIgPSBtYXRjaGVyXG4gIHN0cmVhbS5tYXBwZXIgPSBtYXBwZXJcbiAgc3RyZWFtLm1heExlbmd0aCA9IG9wdGlvbnMubWF4TGVuZ3RoXG4gIHN0cmVhbS5za2lwT3ZlcmZsb3cgPSBvcHRpb25zLnNraXBPdmVyZmxvd1xuICBzdHJlYW0ub3ZlcmZsb3cgPSBmYWxzZVxuXG4gIHJldHVybiBzdHJlYW1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzcGxpdFxuIiwgIi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZ2xvYmFsYCBmcm9tIE5vZGUuanMuICovXG52YXIgZnJlZUdsb2JhbCA9IHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgZ2xvYmFsICYmIGdsb2JhbC5PYmplY3QgPT09IE9iamVjdCAmJiBnbG9iYWw7XG5cbm1vZHVsZS5leHBvcnRzID0gZnJlZUdsb2JhbDtcbiIsICJ2YXIgZnJlZUdsb2JhbCA9IHJlcXVpcmUoJy4vX2ZyZWVHbG9iYWwnKTtcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBzZWxmYC4gKi9cbnZhciBmcmVlU2VsZiA9IHR5cGVvZiBzZWxmID09ICdvYmplY3QnICYmIHNlbGYgJiYgc2VsZi5PYmplY3QgPT09IE9iamVjdCAmJiBzZWxmO1xuXG4vKiogVXNlZCBhcyBhIHJlZmVyZW5jZSB0byB0aGUgZ2xvYmFsIG9iamVjdC4gKi9cbnZhciByb290ID0gZnJlZUdsb2JhbCB8fCBmcmVlU2VsZiB8fCBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJvb3Q7XG4iLCAidmFyIHJvb3QgPSByZXF1aXJlKCcuL19yb290Jyk7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIFN5bWJvbCA9IHJvb3QuU3ltYm9sO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFN5bWJvbDtcbiIsICJ2YXIgU3ltYm9sID0gcmVxdWlyZSgnLi9fU3ltYm9sJyk7XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKlxuICogVXNlZCB0byByZXNvbHZlIHRoZVxuICogW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG4gKiBvZiB2YWx1ZXMuXG4gKi9cbnZhciBuYXRpdmVPYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBzeW1Ub1N0cmluZ1RhZyA9IFN5bWJvbCA/IFN5bWJvbC50b1N0cmluZ1RhZyA6IHVuZGVmaW5lZDtcblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VHZXRUYWdgIHdoaWNoIGlnbm9yZXMgYFN5bWJvbC50b1N0cmluZ1RhZ2AgdmFsdWVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHJhdyBgdG9TdHJpbmdUYWdgLlxuICovXG5mdW5jdGlvbiBnZXRSYXdUYWcodmFsdWUpIHtcbiAgdmFyIGlzT3duID0gaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgc3ltVG9TdHJpbmdUYWcpLFxuICAgICAgdGFnID0gdmFsdWVbc3ltVG9TdHJpbmdUYWddO1xuXG4gIHRyeSB7XG4gICAgdmFsdWVbc3ltVG9TdHJpbmdUYWddID0gdW5kZWZpbmVkO1xuICAgIHZhciB1bm1hc2tlZCA9IHRydWU7XG4gIH0gY2F0Y2ggKGUpIHt9XG5cbiAgdmFyIHJlc3VsdCA9IG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICBpZiAodW5tYXNrZWQpIHtcbiAgICBpZiAoaXNPd24pIHtcbiAgICAgIHZhbHVlW3N5bVRvU3RyaW5nVGFnXSA9IHRhZztcbiAgICB9IGVsc2Uge1xuICAgICAgZGVsZXRlIHZhbHVlW3N5bVRvU3RyaW5nVGFnXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBnZXRSYXdUYWc7XG4iLCAiLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqXG4gKiBVc2VkIHRvIHJlc29sdmUgdGhlXG4gKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcbiAqIG9mIHZhbHVlcy5cbiAqL1xudmFyIG5hdGl2ZU9iamVjdFRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZyB1c2luZyBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZ2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBvYmplY3RUb1N0cmluZyh2YWx1ZSkge1xuICByZXR1cm4gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gb2JqZWN0VG9TdHJpbmc7XG4iLCAidmFyIFN5bWJvbCA9IHJlcXVpcmUoJy4vX1N5bWJvbCcpLFxuICAgIGdldFJhd1RhZyA9IHJlcXVpcmUoJy4vX2dldFJhd1RhZycpLFxuICAgIG9iamVjdFRvU3RyaW5nID0gcmVxdWlyZSgnLi9fb2JqZWN0VG9TdHJpbmcnKTtcblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIG51bGxUYWcgPSAnW29iamVjdCBOdWxsXScsXG4gICAgdW5kZWZpbmVkVGFnID0gJ1tvYmplY3QgVW5kZWZpbmVkXSc7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIHN5bVRvU3RyaW5nVGFnID0gU3ltYm9sID8gU3ltYm9sLnRvU3RyaW5nVGFnIDogdW5kZWZpbmVkO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBnZXRUYWdgIHdpdGhvdXQgZmFsbGJhY2tzIGZvciBidWdneSBlbnZpcm9ubWVudHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgYHRvU3RyaW5nVGFnYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUdldFRhZyh2YWx1ZSkge1xuICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gdW5kZWZpbmVkVGFnIDogbnVsbFRhZztcbiAgfVxuICByZXR1cm4gKHN5bVRvU3RyaW5nVGFnICYmIHN5bVRvU3RyaW5nVGFnIGluIE9iamVjdCh2YWx1ZSkpXG4gICAgPyBnZXRSYXdUYWcodmFsdWUpXG4gICAgOiBvYmplY3RUb1N0cmluZyh2YWx1ZSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZUdldFRhZztcbiIsICIvKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHRoZVxuICogW2xhbmd1YWdlIHR5cGVdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1lY21hc2NyaXB0LWxhbmd1YWdlLXR5cGVzKVxuICogb2YgYE9iamVjdGAuIChlLmcuIGFycmF5cywgZnVuY3Rpb25zLCBvYmplY3RzLCByZWdleGVzLCBgbmV3IE51bWJlcigwKWAsIGFuZCBgbmV3IFN0cmluZygnJylgKVxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0KHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChfLm5vb3ApO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgKHR5cGUgPT0gJ29iamVjdCcgfHwgdHlwZSA9PSAnZnVuY3Rpb24nKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc09iamVjdDtcbiIsICJ2YXIgYmFzZUdldFRhZyA9IHJlcXVpcmUoJy4vX2Jhc2VHZXRUYWcnKSxcbiAgICBpc09iamVjdCA9IHJlcXVpcmUoJy4vaXNPYmplY3QnKTtcblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIGFzeW5jVGFnID0gJ1tvYmplY3QgQXN5bmNGdW5jdGlvbl0nLFxuICAgIGZ1bmNUYWcgPSAnW29iamVjdCBGdW5jdGlvbl0nLFxuICAgIGdlblRhZyA9ICdbb2JqZWN0IEdlbmVyYXRvckZ1bmN0aW9uXScsXG4gICAgcHJveHlUYWcgPSAnW29iamVjdCBQcm94eV0nO1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgRnVuY3Rpb25gIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGZ1bmN0aW9uLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNGdW5jdGlvbihfKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzRnVuY3Rpb24oL2FiYy8pO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNGdW5jdGlvbih2YWx1ZSkge1xuICBpZiAoIWlzT2JqZWN0KHZhbHVlKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICAvLyBUaGUgdXNlIG9mIGBPYmplY3QjdG9TdHJpbmdgIGF2b2lkcyBpc3N1ZXMgd2l0aCB0aGUgYHR5cGVvZmAgb3BlcmF0b3JcbiAgLy8gaW4gU2FmYXJpIDkgd2hpY2ggcmV0dXJucyAnb2JqZWN0JyBmb3IgdHlwZWQgYXJyYXlzIGFuZCBvdGhlciBjb25zdHJ1Y3RvcnMuXG4gIHZhciB0YWcgPSBiYXNlR2V0VGFnKHZhbHVlKTtcbiAgcmV0dXJuIHRhZyA9PSBmdW5jVGFnIHx8IHRhZyA9PSBnZW5UYWcgfHwgdGFnID09IGFzeW5jVGFnIHx8IHRhZyA9PSBwcm94eVRhZztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc0Z1bmN0aW9uO1xuIiwgInZhciByb290ID0gcmVxdWlyZSgnLi9fcm9vdCcpO1xuXG4vKiogVXNlZCB0byBkZXRlY3Qgb3ZlcnJlYWNoaW5nIGNvcmUtanMgc2hpbXMuICovXG52YXIgY29yZUpzRGF0YSA9IHJvb3RbJ19fY29yZS1qc19zaGFyZWRfXyddO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGNvcmVKc0RhdGE7XG4iLCAidmFyIGNvcmVKc0RhdGEgPSByZXF1aXJlKCcuL19jb3JlSnNEYXRhJyk7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBtZXRob2RzIG1hc3F1ZXJhZGluZyBhcyBuYXRpdmUuICovXG52YXIgbWFza1NyY0tleSA9IChmdW5jdGlvbigpIHtcbiAgdmFyIHVpZCA9IC9bXi5dKyQvLmV4ZWMoY29yZUpzRGF0YSAmJiBjb3JlSnNEYXRhLmtleXMgJiYgY29yZUpzRGF0YS5rZXlzLklFX1BST1RPIHx8ICcnKTtcbiAgcmV0dXJuIHVpZCA/ICgnU3ltYm9sKHNyYylfMS4nICsgdWlkKSA6ICcnO1xufSgpKTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYGZ1bmNgIGhhcyBpdHMgc291cmNlIG1hc2tlZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGZ1bmNgIGlzIG1hc2tlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc01hc2tlZChmdW5jKSB7XG4gIHJldHVybiAhIW1hc2tTcmNLZXkgJiYgKG1hc2tTcmNLZXkgaW4gZnVuYyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNNYXNrZWQ7XG4iLCAiLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIGZ1bmNQcm90byA9IEZ1bmN0aW9uLnByb3RvdHlwZTtcblxuLyoqIFVzZWQgdG8gcmVzb2x2ZSB0aGUgZGVjb21waWxlZCBzb3VyY2Ugb2YgZnVuY3Rpb25zLiAqL1xudmFyIGZ1bmNUb1N0cmluZyA9IGZ1bmNQcm90by50b1N0cmluZztcblxuLyoqXG4gKiBDb252ZXJ0cyBgZnVuY2AgdG8gaXRzIHNvdXJjZSBjb2RlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjb252ZXJ0LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc291cmNlIGNvZGUuXG4gKi9cbmZ1bmN0aW9uIHRvU291cmNlKGZ1bmMpIHtcbiAgaWYgKGZ1bmMgIT0gbnVsbCkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gZnVuY1RvU3RyaW5nLmNhbGwoZnVuYyk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgICB0cnkge1xuICAgICAgcmV0dXJuIChmdW5jICsgJycpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gIH1cbiAgcmV0dXJuICcnO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHRvU291cmNlO1xuIiwgInZhciBpc0Z1bmN0aW9uID0gcmVxdWlyZSgnLi9pc0Z1bmN0aW9uJyksXG4gICAgaXNNYXNrZWQgPSByZXF1aXJlKCcuL19pc01hc2tlZCcpLFxuICAgIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9pc09iamVjdCcpLFxuICAgIHRvU291cmNlID0gcmVxdWlyZSgnLi9fdG9Tb3VyY2UnKTtcblxuLyoqXG4gKiBVc2VkIHRvIG1hdGNoIGBSZWdFeHBgXG4gKiBbc3ludGF4IGNoYXJhY3RlcnNdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXBhdHRlcm5zKS5cbiAqL1xudmFyIHJlUmVnRXhwQ2hhciA9IC9bXFxcXF4kLiorPygpW1xcXXt9fF0vZztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGhvc3QgY29uc3RydWN0b3JzIChTYWZhcmkpLiAqL1xudmFyIHJlSXNIb3N0Q3RvciA9IC9eXFxbb2JqZWN0IC4rP0NvbnN0cnVjdG9yXFxdJC87XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBmdW5jUHJvdG8gPSBGdW5jdGlvbi5wcm90b3R5cGUsXG4gICAgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKiogVXNlZCB0byByZXNvbHZlIHRoZSBkZWNvbXBpbGVkIHNvdXJjZSBvZiBmdW5jdGlvbnMuICovXG52YXIgZnVuY1RvU3RyaW5nID0gZnVuY1Byb3RvLnRvU3RyaW5nO1xuXG4vKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4vKiogVXNlZCB0byBkZXRlY3QgaWYgYSBtZXRob2QgaXMgbmF0aXZlLiAqL1xudmFyIHJlSXNOYXRpdmUgPSBSZWdFeHAoJ14nICtcbiAgZnVuY1RvU3RyaW5nLmNhbGwoaGFzT3duUHJvcGVydHkpLnJlcGxhY2UocmVSZWdFeHBDaGFyLCAnXFxcXCQmJylcbiAgLnJlcGxhY2UoL2hhc093blByb3BlcnR5fChmdW5jdGlvbikuKj8oPz1cXFxcXFwoKXwgZm9yIC4rPyg/PVxcXFxcXF0pL2csICckMS4qPycpICsgJyQnXG4pO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzTmF0aXZlYCB3aXRob3V0IGJhZCBzaGltIGNoZWNrcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG5hdGl2ZSBmdW5jdGlvbixcbiAqICBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VJc05hdGl2ZSh2YWx1ZSkge1xuICBpZiAoIWlzT2JqZWN0KHZhbHVlKSB8fCBpc01hc2tlZCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIHBhdHRlcm4gPSBpc0Z1bmN0aW9uKHZhbHVlKSA/IHJlSXNOYXRpdmUgOiByZUlzSG9zdEN0b3I7XG4gIHJldHVybiBwYXR0ZXJuLnRlc3QodG9Tb3VyY2UodmFsdWUpKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlSXNOYXRpdmU7XG4iLCAiLyoqXG4gKiBHZXRzIHRoZSB2YWx1ZSBhdCBga2V5YCBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gZ2V0VmFsdWUob2JqZWN0LCBrZXkpIHtcbiAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W2tleV07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZ2V0VmFsdWU7XG4iLCAidmFyIGJhc2VJc05hdGl2ZSA9IHJlcXVpcmUoJy4vX2Jhc2VJc05hdGl2ZScpLFxuICAgIGdldFZhbHVlID0gcmVxdWlyZSgnLi9fZ2V0VmFsdWUnKTtcblxuLyoqXG4gKiBHZXRzIHRoZSBuYXRpdmUgZnVuY3Rpb24gYXQgYGtleWAgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgbWV0aG9kIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBmdW5jdGlvbiBpZiBpdCdzIG5hdGl2ZSwgZWxzZSBgdW5kZWZpbmVkYC5cbiAqL1xuZnVuY3Rpb24gZ2V0TmF0aXZlKG9iamVjdCwga2V5KSB7XG4gIHZhciB2YWx1ZSA9IGdldFZhbHVlKG9iamVjdCwga2V5KTtcbiAgcmV0dXJuIGJhc2VJc05hdGl2ZSh2YWx1ZSkgPyB2YWx1ZSA6IHVuZGVmaW5lZDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBnZXROYXRpdmU7XG4iLCAidmFyIGdldE5hdGl2ZSA9IHJlcXVpcmUoJy4vX2dldE5hdGl2ZScpO1xuXG52YXIgZGVmaW5lUHJvcGVydHkgPSAoZnVuY3Rpb24oKSB7XG4gIHRyeSB7XG4gICAgdmFyIGZ1bmMgPSBnZXROYXRpdmUoT2JqZWN0LCAnZGVmaW5lUHJvcGVydHknKTtcbiAgICBmdW5jKHt9LCAnJywge30pO1xuICAgIHJldHVybiBmdW5jO1xuICB9IGNhdGNoIChlKSB7fVxufSgpKTtcblxubW9kdWxlLmV4cG9ydHMgPSBkZWZpbmVQcm9wZXJ0eTtcbiIsICJ2YXIgZGVmaW5lUHJvcGVydHkgPSByZXF1aXJlKCcuL19kZWZpbmVQcm9wZXJ0eScpO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBhc3NpZ25WYWx1ZWAgYW5kIGBhc3NpZ25NZXJnZVZhbHVlYCB3aXRob3V0XG4gKiB2YWx1ZSBjaGVja3MuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGFzc2lnbi5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGFzc2lnbi5cbiAqL1xuZnVuY3Rpb24gYmFzZUFzc2lnblZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICBpZiAoa2V5ID09ICdfX3Byb3RvX18nICYmIGRlZmluZVByb3BlcnR5KSB7XG4gICAgZGVmaW5lUHJvcGVydHkob2JqZWN0LCBrZXksIHtcbiAgICAgICdjb25maWd1cmFibGUnOiB0cnVlLFxuICAgICAgJ2VudW1lcmFibGUnOiB0cnVlLFxuICAgICAgJ3ZhbHVlJzogdmFsdWUsXG4gICAgICAnd3JpdGFibGUnOiB0cnVlXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VBc3NpZ25WYWx1ZTtcbiIsICIvKipcbiAqIFBlcmZvcm1zIGFcbiAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gKiBjb21wYXJpc29uIGJldHdlZW4gdHdvIHZhbHVlcyB0byBkZXRlcm1pbmUgaWYgdGhleSBhcmUgZXF1aXZhbGVudC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEgfTtcbiAqIHZhciBvdGhlciA9IHsgJ2EnOiAxIH07XG4gKlxuICogXy5lcShvYmplY3QsIG9iamVjdCk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5lcShvYmplY3QsIG90aGVyKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5lcSgnYScsICdhJyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5lcSgnYScsIE9iamVjdCgnYScpKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5lcShOYU4sIE5hTik7XG4gKiAvLyA9PiB0cnVlXG4gKi9cbmZ1bmN0aW9uIGVxKHZhbHVlLCBvdGhlcikge1xuICByZXR1cm4gdmFsdWUgPT09IG90aGVyIHx8ICh2YWx1ZSAhPT0gdmFsdWUgJiYgb3RoZXIgIT09IG90aGVyKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBlcTtcbiIsICJ2YXIgYmFzZUFzc2lnblZhbHVlID0gcmVxdWlyZSgnLi9fYmFzZUFzc2lnblZhbHVlJyksXG4gICAgZXEgPSByZXF1aXJlKCcuL2VxJyk7XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKlxuICogQXNzaWducyBgdmFsdWVgIHRvIGBrZXlgIG9mIGBvYmplY3RgIGlmIHRoZSBleGlzdGluZyB2YWx1ZSBpcyBub3QgZXF1aXZhbGVudFxuICogdXNpbmcgW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gYXNzaWduLlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gYXNzaWduLlxuICovXG5mdW5jdGlvbiBhc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgdmFyIG9ialZhbHVlID0gb2JqZWN0W2tleV07XG4gIGlmICghKGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpICYmIGVxKG9ialZhbHVlLCB2YWx1ZSkpIHx8XG4gICAgICAodmFsdWUgPT09IHVuZGVmaW5lZCAmJiAhKGtleSBpbiBvYmplY3QpKSkge1xuICAgIGJhc2VBc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYXNzaWduVmFsdWU7XG4iLCAidmFyIGFzc2lnblZhbHVlID0gcmVxdWlyZSgnLi9fYXNzaWduVmFsdWUnKSxcbiAgICBiYXNlQXNzaWduVmFsdWUgPSByZXF1aXJlKCcuL19iYXNlQXNzaWduVmFsdWUnKTtcblxuLyoqXG4gKiBDb3BpZXMgcHJvcGVydGllcyBvZiBgc291cmNlYCB0byBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyBmcm9tLlxuICogQHBhcmFtIHtBcnJheX0gcHJvcHMgVGhlIHByb3BlcnR5IGlkZW50aWZpZXJzIHRvIGNvcHkuXG4gKiBAcGFyYW0ge09iamVjdH0gW29iamVjdD17fV0gVGhlIG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgdG8uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb3BpZWQgdmFsdWVzLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAqL1xuZnVuY3Rpb24gY29weU9iamVjdChzb3VyY2UsIHByb3BzLCBvYmplY3QsIGN1c3RvbWl6ZXIpIHtcbiAgdmFyIGlzTmV3ID0gIW9iamVjdDtcbiAgb2JqZWN0IHx8IChvYmplY3QgPSB7fSk7XG5cbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBwcm9wcy5sZW5ndGg7XG5cbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIga2V5ID0gcHJvcHNbaW5kZXhdO1xuXG4gICAgdmFyIG5ld1ZhbHVlID0gY3VzdG9taXplclxuICAgICAgPyBjdXN0b21pemVyKG9iamVjdFtrZXldLCBzb3VyY2Vba2V5XSwga2V5LCBvYmplY3QsIHNvdXJjZSlcbiAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgaWYgKG5ld1ZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIG5ld1ZhbHVlID0gc291cmNlW2tleV07XG4gICAgfVxuICAgIGlmIChpc05ldykge1xuICAgICAgYmFzZUFzc2lnblZhbHVlKG9iamVjdCwga2V5LCBuZXdWYWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFzc2lnblZhbHVlKG9iamVjdCwga2V5LCBuZXdWYWx1ZSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBvYmplY3Q7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gY29weU9iamVjdDtcbiIsICIvKipcbiAqIFRoaXMgbWV0aG9kIHJldHVybnMgdGhlIGZpcnN0IGFyZ3VtZW50IGl0IHJlY2VpdmVzLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBzaW5jZSAwLjEuMFxuICogQG1lbWJlck9mIF9cbiAqIEBjYXRlZ29yeSBVdGlsXG4gKiBAcGFyYW0geyp9IHZhbHVlIEFueSB2YWx1ZS5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIGB2YWx1ZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3QgPSB7ICdhJzogMSB9O1xuICpcbiAqIGNvbnNvbGUubG9nKF8uaWRlbnRpdHkob2JqZWN0KSA9PT0gb2JqZWN0KTtcbiAqIC8vID0+IHRydWVcbiAqL1xuZnVuY3Rpb24gaWRlbnRpdHkodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlkZW50aXR5O1xuIiwgIi8qKlxuICogQSBmYXN0ZXIgYWx0ZXJuYXRpdmUgdG8gYEZ1bmN0aW9uI2FwcGx5YCwgdGhpcyBmdW5jdGlvbiBpbnZva2VzIGBmdW5jYFxuICogd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgYHRoaXNBcmdgIGFuZCB0aGUgYXJndW1lbnRzIG9mIGBhcmdzYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gaW52b2tlLlxuICogQHBhcmFtIHsqfSB0aGlzQXJnIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gKiBAcGFyYW0ge0FycmF5fSBhcmdzIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIGBmdW5jYCB3aXRoLlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc3VsdCBvZiBgZnVuY2AuXG4gKi9cbmZ1bmN0aW9uIGFwcGx5KGZ1bmMsIHRoaXNBcmcsIGFyZ3MpIHtcbiAgc3dpdGNoIChhcmdzLmxlbmd0aCkge1xuICAgIGNhc2UgMDogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnKTtcbiAgICBjYXNlIDE6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgYXJnc1swXSk7XG4gICAgY2FzZSAyOiByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsIGFyZ3NbMF0sIGFyZ3NbMV0pO1xuICAgIGNhc2UgMzogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLCBhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgfVxuICByZXR1cm4gZnVuYy5hcHBseSh0aGlzQXJnLCBhcmdzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBhcHBseTtcbiIsICJ2YXIgYXBwbHkgPSByZXF1aXJlKCcuL19hcHBseScpO1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyBmb3IgdGhvc2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMuICovXG52YXIgbmF0aXZlTWF4ID0gTWF0aC5tYXg7XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlUmVzdGAgd2hpY2ggdHJhbnNmb3JtcyB0aGUgcmVzdCBhcnJheS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXBwbHkgYSByZXN0IHBhcmFtZXRlciB0by5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9ZnVuYy5sZW5ndGgtMV0gVGhlIHN0YXJ0IHBvc2l0aW9uIG9mIHRoZSByZXN0IHBhcmFtZXRlci5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHRyYW5zZm9ybSBUaGUgcmVzdCBhcnJheSB0cmFuc2Zvcm0uXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gb3ZlclJlc3QoZnVuYywgc3RhcnQsIHRyYW5zZm9ybSkge1xuICBzdGFydCA9IG5hdGl2ZU1heChzdGFydCA9PT0gdW5kZWZpbmVkID8gKGZ1bmMubGVuZ3RoIC0gMSkgOiBzdGFydCwgMCk7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWF4KGFyZ3MubGVuZ3RoIC0gc3RhcnQsIDApLFxuICAgICAgICBhcnJheSA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgYXJyYXlbaW5kZXhdID0gYXJnc1tzdGFydCArIGluZGV4XTtcbiAgICB9XG4gICAgaW5kZXggPSAtMTtcbiAgICB2YXIgb3RoZXJBcmdzID0gQXJyYXkoc3RhcnQgKyAxKTtcbiAgICB3aGlsZSAoKytpbmRleCA8IHN0YXJ0KSB7XG4gICAgICBvdGhlckFyZ3NbaW5kZXhdID0gYXJnc1tpbmRleF07XG4gICAgfVxuICAgIG90aGVyQXJnc1tzdGFydF0gPSB0cmFuc2Zvcm0oYXJyYXkpO1xuICAgIHJldHVybiBhcHBseShmdW5jLCB0aGlzLCBvdGhlckFyZ3MpO1xuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG92ZXJSZXN0O1xuIiwgIi8qKlxuICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBgdmFsdWVgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMi40LjBcbiAqIEBjYXRlZ29yeSBVdGlsXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byByZXR1cm4gZnJvbSB0aGUgbmV3IGZ1bmN0aW9uLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY29uc3RhbnQgZnVuY3Rpb24uXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3RzID0gXy50aW1lcygyLCBfLmNvbnN0YW50KHsgJ2EnOiAxIH0pKTtcbiAqXG4gKiBjb25zb2xlLmxvZyhvYmplY3RzKTtcbiAqIC8vID0+IFt7ICdhJzogMSB9LCB7ICdhJzogMSB9XVxuICpcbiAqIGNvbnNvbGUubG9nKG9iamVjdHNbMF0gPT09IG9iamVjdHNbMV0pO1xuICogLy8gPT4gdHJ1ZVxuICovXG5mdW5jdGlvbiBjb25zdGFudCh2YWx1ZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNvbnN0YW50O1xuIiwgInZhciBjb25zdGFudCA9IHJlcXVpcmUoJy4vY29uc3RhbnQnKSxcbiAgICBkZWZpbmVQcm9wZXJ0eSA9IHJlcXVpcmUoJy4vX2RlZmluZVByb3BlcnR5JyksXG4gICAgaWRlbnRpdHkgPSByZXF1aXJlKCcuL2lkZW50aXR5Jyk7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYHNldFRvU3RyaW5nYCB3aXRob3V0IHN1cHBvcnQgZm9yIGhvdCBsb29wIHNob3J0aW5nLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBzdHJpbmcgVGhlIGB0b1N0cmluZ2AgcmVzdWx0LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBmdW5jYC5cbiAqL1xudmFyIGJhc2VTZXRUb1N0cmluZyA9ICFkZWZpbmVQcm9wZXJ0eSA/IGlkZW50aXR5IDogZnVuY3Rpb24oZnVuYywgc3RyaW5nKSB7XG4gIHJldHVybiBkZWZpbmVQcm9wZXJ0eShmdW5jLCAndG9TdHJpbmcnLCB7XG4gICAgJ2NvbmZpZ3VyYWJsZSc6IHRydWUsXG4gICAgJ2VudW1lcmFibGUnOiBmYWxzZSxcbiAgICAndmFsdWUnOiBjb25zdGFudChzdHJpbmcpLFxuICAgICd3cml0YWJsZSc6IHRydWVcbiAgfSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VTZXRUb1N0cmluZztcbiIsICIvKiogVXNlZCB0byBkZXRlY3QgaG90IGZ1bmN0aW9ucyBieSBudW1iZXIgb2YgY2FsbHMgd2l0aGluIGEgc3BhbiBvZiBtaWxsaXNlY29uZHMuICovXG52YXIgSE9UX0NPVU5UID0gODAwLFxuICAgIEhPVF9TUEFOID0gMTY7XG5cbi8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIGZvciB0aG9zZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgb3RoZXIgYGxvZGFzaGAgbWV0aG9kcy4gKi9cbnZhciBuYXRpdmVOb3cgPSBEYXRlLm5vdztcblxuLyoqXG4gKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCdsbCBzaG9ydCBvdXQgYW5kIGludm9rZSBgaWRlbnRpdHlgIGluc3RlYWRcbiAqIG9mIGBmdW5jYCB3aGVuIGl0J3MgY2FsbGVkIGBIT1RfQ09VTlRgIG9yIG1vcmUgdGltZXMgaW4gYEhPVF9TUEFOYFxuICogbWlsbGlzZWNvbmRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byByZXN0cmljdC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNob3J0YWJsZSBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gc2hvcnRPdXQoZnVuYykge1xuICB2YXIgY291bnQgPSAwLFxuICAgICAgbGFzdENhbGxlZCA9IDA7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBzdGFtcCA9IG5hdGl2ZU5vdygpLFxuICAgICAgICByZW1haW5pbmcgPSBIT1RfU1BBTiAtIChzdGFtcCAtIGxhc3RDYWxsZWQpO1xuXG4gICAgbGFzdENhbGxlZCA9IHN0YW1wO1xuICAgIGlmIChyZW1haW5pbmcgPiAwKSB7XG4gICAgICBpZiAoKytjb3VudCA+PSBIT1RfQ09VTlQpIHtcbiAgICAgICAgcmV0dXJuIGFyZ3VtZW50c1swXTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY291bnQgPSAwO1xuICAgIH1cbiAgICByZXR1cm4gZnVuYy5hcHBseSh1bmRlZmluZWQsIGFyZ3VtZW50cyk7XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2hvcnRPdXQ7XG4iLCAidmFyIGJhc2VTZXRUb1N0cmluZyA9IHJlcXVpcmUoJy4vX2Jhc2VTZXRUb1N0cmluZycpLFxuICAgIHNob3J0T3V0ID0gcmVxdWlyZSgnLi9fc2hvcnRPdXQnKTtcblxuLyoqXG4gKiBTZXRzIHRoZSBgdG9TdHJpbmdgIG1ldGhvZCBvZiBgZnVuY2AgdG8gcmV0dXJuIGBzdHJpbmdgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBzdHJpbmcgVGhlIGB0b1N0cmluZ2AgcmVzdWx0LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBmdW5jYC5cbiAqL1xudmFyIHNldFRvU3RyaW5nID0gc2hvcnRPdXQoYmFzZVNldFRvU3RyaW5nKTtcblxubW9kdWxlLmV4cG9ydHMgPSBzZXRUb1N0cmluZztcbiIsICJ2YXIgaWRlbnRpdHkgPSByZXF1aXJlKCcuL2lkZW50aXR5JyksXG4gICAgb3ZlclJlc3QgPSByZXF1aXJlKCcuL19vdmVyUmVzdCcpLFxuICAgIHNldFRvU3RyaW5nID0gcmVxdWlyZSgnLi9fc2V0VG9TdHJpbmcnKTtcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5yZXN0YCB3aGljaCBkb2Vzbid0IHZhbGlkYXRlIG9yIGNvZXJjZSBhcmd1bWVudHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IGEgcmVzdCBwYXJhbWV0ZXIgdG8uXG4gKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PWZ1bmMubGVuZ3RoLTFdIFRoZSBzdGFydCBwb3NpdGlvbiBvZiB0aGUgcmVzdCBwYXJhbWV0ZXIuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gYmFzZVJlc3QoZnVuYywgc3RhcnQpIHtcbiAgcmV0dXJuIHNldFRvU3RyaW5nKG92ZXJSZXN0KGZ1bmMsIHN0YXJ0LCBpZGVudGl0eSksIGZ1bmMgKyAnJyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZVJlc3Q7XG4iLCAiLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG52YXIgTUFYX1NBRkVfSU5URUdFUiA9IDkwMDcxOTkyNTQ3NDA5OTE7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBhcnJheS1saWtlIGxlbmd0aC5cbiAqXG4gKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgbG9vc2VseSBiYXNlZCBvblxuICogW2BUb0xlbmd0aGBdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXRvbGVuZ3RoKS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGxlbmd0aCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzTGVuZ3RoKDMpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNMZW5ndGgoTnVtYmVyLk1JTl9WQUxVRSk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNMZW5ndGgoSW5maW5pdHkpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzTGVuZ3RoKCczJyk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0xlbmd0aCh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdudW1iZXInICYmXG4gICAgdmFsdWUgPiAtMSAmJiB2YWx1ZSAlIDEgPT0gMCAmJiB2YWx1ZSA8PSBNQVhfU0FGRV9JTlRFR0VSO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzTGVuZ3RoO1xuIiwgInZhciBpc0Z1bmN0aW9uID0gcmVxdWlyZSgnLi9pc0Z1bmN0aW9uJyksXG4gICAgaXNMZW5ndGggPSByZXF1aXJlKCcuL2lzTGVuZ3RoJyk7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYXJyYXktbGlrZS4gQSB2YWx1ZSBpcyBjb25zaWRlcmVkIGFycmF5LWxpa2UgaWYgaXQnc1xuICogbm90IGEgZnVuY3Rpb24gYW5kIGhhcyBhIGB2YWx1ZS5sZW5ndGhgIHRoYXQncyBhbiBpbnRlZ2VyIGdyZWF0ZXIgdGhhbiBvclxuICogZXF1YWwgdG8gYDBgIGFuZCBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gYE51bWJlci5NQVhfU0FGRV9JTlRFR0VSYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhcnJheS1saWtlLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlKGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoJ2FiYycpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXlMaWtlKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIGlzTGVuZ3RoKHZhbHVlLmxlbmd0aCkgJiYgIWlzRnVuY3Rpb24odmFsdWUpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzQXJyYXlMaWtlO1xuIiwgIi8qKiBVc2VkIGFzIHJlZmVyZW5jZXMgZm9yIHZhcmlvdXMgYE51bWJlcmAgY29uc3RhbnRzLiAqL1xudmFyIE1BWF9TQUZFX0lOVEVHRVIgPSA5MDA3MTk5MjU0NzQwOTkxO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgdW5zaWduZWQgaW50ZWdlciB2YWx1ZXMuICovXG52YXIgcmVJc1VpbnQgPSAvXig/OjB8WzEtOV1cXGQqKSQvO1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBpbmRleC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aD1NQVhfU0FGRV9JTlRFR0VSXSBUaGUgdXBwZXIgYm91bmRzIG9mIGEgdmFsaWQgaW5kZXguXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGluZGV4LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzSW5kZXgodmFsdWUsIGxlbmd0aCkge1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgbGVuZ3RoID0gbGVuZ3RoID09IG51bGwgPyBNQVhfU0FGRV9JTlRFR0VSIDogbGVuZ3RoO1xuXG4gIHJldHVybiAhIWxlbmd0aCAmJlxuICAgICh0eXBlID09ICdudW1iZXInIHx8XG4gICAgICAodHlwZSAhPSAnc3ltYm9sJyAmJiByZUlzVWludC50ZXN0KHZhbHVlKSkpICYmXG4gICAgICAgICh2YWx1ZSA+IC0xICYmIHZhbHVlICUgMSA9PSAwICYmIHZhbHVlIDwgbGVuZ3RoKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc0luZGV4O1xuIiwgInZhciBlcSA9IHJlcXVpcmUoJy4vZXEnKSxcbiAgICBpc0FycmF5TGlrZSA9IHJlcXVpcmUoJy4vaXNBcnJheUxpa2UnKSxcbiAgICBpc0luZGV4ID0gcmVxdWlyZSgnLi9faXNJbmRleCcpLFxuICAgIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9pc09iamVjdCcpO1xuXG4vKipcbiAqIENoZWNrcyBpZiB0aGUgZ2l2ZW4gYXJndW1lbnRzIGFyZSBmcm9tIGFuIGl0ZXJhdGVlIGNhbGwuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHBvdGVudGlhbCBpdGVyYXRlZSB2YWx1ZSBhcmd1bWVudC5cbiAqIEBwYXJhbSB7Kn0gaW5kZXggVGhlIHBvdGVudGlhbCBpdGVyYXRlZSBpbmRleCBvciBrZXkgYXJndW1lbnQuXG4gKiBAcGFyYW0geyp9IG9iamVjdCBUaGUgcG90ZW50aWFsIGl0ZXJhdGVlIG9iamVjdCBhcmd1bWVudC5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYXJndW1lbnRzIGFyZSBmcm9tIGFuIGl0ZXJhdGVlIGNhbGwsXG4gKiAgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0l0ZXJhdGVlQ2FsbCh2YWx1ZSwgaW5kZXgsIG9iamVjdCkge1xuICBpZiAoIWlzT2JqZWN0KG9iamVjdCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIHR5cGUgPSB0eXBlb2YgaW5kZXg7XG4gIGlmICh0eXBlID09ICdudW1iZXInXG4gICAgICAgID8gKGlzQXJyYXlMaWtlKG9iamVjdCkgJiYgaXNJbmRleChpbmRleCwgb2JqZWN0Lmxlbmd0aCkpXG4gICAgICAgIDogKHR5cGUgPT0gJ3N0cmluZycgJiYgaW5kZXggaW4gb2JqZWN0KVxuICAgICAgKSB7XG4gICAgcmV0dXJuIGVxKG9iamVjdFtpbmRleF0sIHZhbHVlKTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNJdGVyYXRlZUNhbGw7XG4iLCAidmFyIGJhc2VSZXN0ID0gcmVxdWlyZSgnLi9fYmFzZVJlc3QnKSxcbiAgICBpc0l0ZXJhdGVlQ2FsbCA9IHJlcXVpcmUoJy4vX2lzSXRlcmF0ZWVDYWxsJyk7XG5cbi8qKlxuICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGxpa2UgYF8uYXNzaWduYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gYXNzaWduZXIgVGhlIGZ1bmN0aW9uIHRvIGFzc2lnbiB2YWx1ZXMuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhc3NpZ25lciBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlQXNzaWduZXIoYXNzaWduZXIpIHtcbiAgcmV0dXJuIGJhc2VSZXN0KGZ1bmN0aW9uKG9iamVjdCwgc291cmNlcykge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBzb3VyY2VzLmxlbmd0aCxcbiAgICAgICAgY3VzdG9taXplciA9IGxlbmd0aCA+IDEgPyBzb3VyY2VzW2xlbmd0aCAtIDFdIDogdW5kZWZpbmVkLFxuICAgICAgICBndWFyZCA9IGxlbmd0aCA+IDIgPyBzb3VyY2VzWzJdIDogdW5kZWZpbmVkO1xuXG4gICAgY3VzdG9taXplciA9IChhc3NpZ25lci5sZW5ndGggPiAzICYmIHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicpXG4gICAgICA/IChsZW5ndGgtLSwgY3VzdG9taXplcilcbiAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgaWYgKGd1YXJkICYmIGlzSXRlcmF0ZWVDYWxsKHNvdXJjZXNbMF0sIHNvdXJjZXNbMV0sIGd1YXJkKSkge1xuICAgICAgY3VzdG9taXplciA9IGxlbmd0aCA8IDMgPyB1bmRlZmluZWQgOiBjdXN0b21pemVyO1xuICAgICAgbGVuZ3RoID0gMTtcbiAgICB9XG4gICAgb2JqZWN0ID0gT2JqZWN0KG9iamVjdCk7XG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIHZhciBzb3VyY2UgPSBzb3VyY2VzW2luZGV4XTtcbiAgICAgIGlmIChzb3VyY2UpIHtcbiAgICAgICAgYXNzaWduZXIob2JqZWN0LCBzb3VyY2UsIGluZGV4LCBjdXN0b21pemVyKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG9iamVjdDtcbiAgfSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gY3JlYXRlQXNzaWduZXI7XG4iLCAiLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50aW1lc2Agd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzXG4gKiBvciBtYXggYXJyYXkgbGVuZ3RoIGNoZWNrcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiB0aW1lcyB0byBpbnZva2UgYGl0ZXJhdGVlYC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHJlc3VsdHMuXG4gKi9cbmZ1bmN0aW9uIGJhc2VUaW1lcyhuLCBpdGVyYXRlZSkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIHJlc3VsdCA9IEFycmF5KG4pO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbikge1xuICAgIHJlc3VsdFtpbmRleF0gPSBpdGVyYXRlZShpbmRleCk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlVGltZXM7XG4iLCAiLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS4gQSB2YWx1ZSBpcyBvYmplY3QtbGlrZSBpZiBpdCdzIG5vdCBgbnVsbGBcbiAqIGFuZCBoYXMgYSBgdHlwZW9mYCByZXN1bHQgb2YgXCJvYmplY3RcIi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZSh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNPYmplY3RMaWtlO1xuIiwgInZhciBiYXNlR2V0VGFnID0gcmVxdWlyZSgnLi9fYmFzZUdldFRhZycpLFxuICAgIGlzT2JqZWN0TGlrZSA9IHJlcXVpcmUoJy4vaXNPYmplY3RMaWtlJyk7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBhcmdzVGFnID0gJ1tvYmplY3QgQXJndW1lbnRzXSc7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNBcmd1bWVudHNgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGBhcmd1bWVudHNgIG9iamVjdCxcbiAqL1xuZnVuY3Rpb24gYmFzZUlzQXJndW1lbnRzKHZhbHVlKSB7XG4gIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IGFyZ3NUYWc7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZUlzQXJndW1lbnRzO1xuIiwgInZhciBiYXNlSXNBcmd1bWVudHMgPSByZXF1aXJlKCcuL19iYXNlSXNBcmd1bWVudHMnKSxcbiAgICBpc09iamVjdExpa2UgPSByZXF1aXJlKCcuL2lzT2JqZWN0TGlrZScpO1xuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBwcm9wZXJ0eUlzRW51bWVyYWJsZSA9IG9iamVjdFByb3RvLnByb3BlcnR5SXNFbnVtZXJhYmxlO1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxpa2VseSBhbiBgYXJndW1lbnRzYCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LFxuICogIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FyZ3VtZW50cyhmdW5jdGlvbigpIHsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJndW1lbnRzKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG52YXIgaXNBcmd1bWVudHMgPSBiYXNlSXNBcmd1bWVudHMoZnVuY3Rpb24oKSB7IHJldHVybiBhcmd1bWVudHM7IH0oKSkgPyBiYXNlSXNBcmd1bWVudHMgOiBmdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCAnY2FsbGVlJykgJiZcbiAgICAhcHJvcGVydHlJc0VudW1lcmFibGUuY2FsbCh2YWx1ZSwgJ2NhbGxlZScpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBpc0FyZ3VtZW50cztcbiIsICIvKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYW4gYEFycmF5YCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FycmF5KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5KGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzQXJyYXkoJ2FiYycpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzQXJyYXkoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcblxubW9kdWxlLmV4cG9ydHMgPSBpc0FycmF5O1xuIiwgIi8qKlxuICogVGhpcyBtZXRob2QgcmV0dXJucyBgZmFsc2VgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4xMy4wXG4gKiBAY2F0ZWdvcnkgVXRpbFxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy50aW1lcygyLCBfLnN0dWJGYWxzZSk7XG4gKiAvLyA9PiBbZmFsc2UsIGZhbHNlXVxuICovXG5mdW5jdGlvbiBzdHViRmFsc2UoKSB7XG4gIHJldHVybiBmYWxzZTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzdHViRmFsc2U7XG4iLCAidmFyIHJvb3QgPSByZXF1aXJlKCcuL19yb290JyksXG4gICAgc3R1YkZhbHNlID0gcmVxdWlyZSgnLi9zdHViRmFsc2UnKTtcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBleHBvcnRzYC4gKi9cbnZhciBmcmVlRXhwb3J0cyA9IHR5cGVvZiBleHBvcnRzID09ICdvYmplY3QnICYmIGV4cG9ydHMgJiYgIWV4cG9ydHMubm9kZVR5cGUgJiYgZXhwb3J0cztcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBtb2R1bGVgLiAqL1xudmFyIGZyZWVNb2R1bGUgPSBmcmVlRXhwb3J0cyAmJiB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZSAmJiAhbW9kdWxlLm5vZGVUeXBlICYmIG1vZHVsZTtcblxuLyoqIERldGVjdCB0aGUgcG9wdWxhciBDb21tb25KUyBleHRlbnNpb24gYG1vZHVsZS5leHBvcnRzYC4gKi9cbnZhciBtb2R1bGVFeHBvcnRzID0gZnJlZU1vZHVsZSAmJiBmcmVlTW9kdWxlLmV4cG9ydHMgPT09IGZyZWVFeHBvcnRzO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBCdWZmZXIgPSBtb2R1bGVFeHBvcnRzID8gcm9vdC5CdWZmZXIgOiB1bmRlZmluZWQ7XG5cbi8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIGZvciB0aG9zZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgb3RoZXIgYGxvZGFzaGAgbWV0aG9kcy4gKi9cbnZhciBuYXRpdmVJc0J1ZmZlciA9IEJ1ZmZlciA/IEJ1ZmZlci5pc0J1ZmZlciA6IHVuZGVmaW5lZDtcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIGJ1ZmZlci5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMy4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGJ1ZmZlciwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQnVmZmVyKG5ldyBCdWZmZXIoMikpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNCdWZmZXIobmV3IFVpbnQ4QXJyYXkoMikpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xudmFyIGlzQnVmZmVyID0gbmF0aXZlSXNCdWZmZXIgfHwgc3R1YkZhbHNlO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGlzQnVmZmVyO1xuIiwgInZhciBiYXNlR2V0VGFnID0gcmVxdWlyZSgnLi9fYmFzZUdldFRhZycpLFxuICAgIGlzTGVuZ3RoID0gcmVxdWlyZSgnLi9pc0xlbmd0aCcpLFxuICAgIGlzT2JqZWN0TGlrZSA9IHJlcXVpcmUoJy4vaXNPYmplY3RMaWtlJyk7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBhcmdzVGFnID0gJ1tvYmplY3QgQXJndW1lbnRzXScsXG4gICAgYXJyYXlUYWcgPSAnW29iamVjdCBBcnJheV0nLFxuICAgIGJvb2xUYWcgPSAnW29iamVjdCBCb29sZWFuXScsXG4gICAgZGF0ZVRhZyA9ICdbb2JqZWN0IERhdGVdJyxcbiAgICBlcnJvclRhZyA9ICdbb2JqZWN0IEVycm9yXScsXG4gICAgZnVuY1RhZyA9ICdbb2JqZWN0IEZ1bmN0aW9uXScsXG4gICAgbWFwVGFnID0gJ1tvYmplY3QgTWFwXScsXG4gICAgbnVtYmVyVGFnID0gJ1tvYmplY3QgTnVtYmVyXScsXG4gICAgb2JqZWN0VGFnID0gJ1tvYmplY3QgT2JqZWN0XScsXG4gICAgcmVnZXhwVGFnID0gJ1tvYmplY3QgUmVnRXhwXScsXG4gICAgc2V0VGFnID0gJ1tvYmplY3QgU2V0XScsXG4gICAgc3RyaW5nVGFnID0gJ1tvYmplY3QgU3RyaW5nXScsXG4gICAgd2Vha01hcFRhZyA9ICdbb2JqZWN0IFdlYWtNYXBdJztcblxudmFyIGFycmF5QnVmZmVyVGFnID0gJ1tvYmplY3QgQXJyYXlCdWZmZXJdJyxcbiAgICBkYXRhVmlld1RhZyA9ICdbb2JqZWN0IERhdGFWaWV3XScsXG4gICAgZmxvYXQzMlRhZyA9ICdbb2JqZWN0IEZsb2F0MzJBcnJheV0nLFxuICAgIGZsb2F0NjRUYWcgPSAnW29iamVjdCBGbG9hdDY0QXJyYXldJyxcbiAgICBpbnQ4VGFnID0gJ1tvYmplY3QgSW50OEFycmF5XScsXG4gICAgaW50MTZUYWcgPSAnW29iamVjdCBJbnQxNkFycmF5XScsXG4gICAgaW50MzJUYWcgPSAnW29iamVjdCBJbnQzMkFycmF5XScsXG4gICAgdWludDhUYWcgPSAnW29iamVjdCBVaW50OEFycmF5XScsXG4gICAgdWludDhDbGFtcGVkVGFnID0gJ1tvYmplY3QgVWludDhDbGFtcGVkQXJyYXldJyxcbiAgICB1aW50MTZUYWcgPSAnW29iamVjdCBVaW50MTZBcnJheV0nLFxuICAgIHVpbnQzMlRhZyA9ICdbb2JqZWN0IFVpbnQzMkFycmF5XSc7XG5cbi8qKiBVc2VkIHRvIGlkZW50aWZ5IGB0b1N0cmluZ1RhZ2AgdmFsdWVzIG9mIHR5cGVkIGFycmF5cy4gKi9cbnZhciB0eXBlZEFycmF5VGFncyA9IHt9O1xudHlwZWRBcnJheVRhZ3NbZmxvYXQzMlRhZ10gPSB0eXBlZEFycmF5VGFnc1tmbG9hdDY0VGFnXSA9XG50eXBlZEFycmF5VGFnc1tpbnQ4VGFnXSA9IHR5cGVkQXJyYXlUYWdzW2ludDE2VGFnXSA9XG50eXBlZEFycmF5VGFnc1tpbnQzMlRhZ10gPSB0eXBlZEFycmF5VGFnc1t1aW50OFRhZ10gPVxudHlwZWRBcnJheVRhZ3NbdWludDhDbGFtcGVkVGFnXSA9IHR5cGVkQXJyYXlUYWdzW3VpbnQxNlRhZ10gPVxudHlwZWRBcnJheVRhZ3NbdWludDMyVGFnXSA9IHRydWU7XG50eXBlZEFycmF5VGFnc1thcmdzVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2FycmF5VGFnXSA9XG50eXBlZEFycmF5VGFnc1thcnJheUJ1ZmZlclRhZ10gPSB0eXBlZEFycmF5VGFnc1tib29sVGFnXSA9XG50eXBlZEFycmF5VGFnc1tkYXRhVmlld1RhZ10gPSB0eXBlZEFycmF5VGFnc1tkYXRlVGFnXSA9XG50eXBlZEFycmF5VGFnc1tlcnJvclRhZ10gPSB0eXBlZEFycmF5VGFnc1tmdW5jVGFnXSA9XG50eXBlZEFycmF5VGFnc1ttYXBUYWddID0gdHlwZWRBcnJheVRhZ3NbbnVtYmVyVGFnXSA9XG50eXBlZEFycmF5VGFnc1tvYmplY3RUYWddID0gdHlwZWRBcnJheVRhZ3NbcmVnZXhwVGFnXSA9XG50eXBlZEFycmF5VGFnc1tzZXRUYWddID0gdHlwZWRBcnJheVRhZ3Nbc3RyaW5nVGFnXSA9XG50eXBlZEFycmF5VGFnc1t3ZWFrTWFwVGFnXSA9IGZhbHNlO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzVHlwZWRBcnJheWAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB0eXBlZCBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBiYXNlSXNUeXBlZEFycmF5KHZhbHVlKSB7XG4gIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmXG4gICAgaXNMZW5ndGgodmFsdWUubGVuZ3RoKSAmJiAhIXR5cGVkQXJyYXlUYWdzW2Jhc2VHZXRUYWcodmFsdWUpXTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlSXNUeXBlZEFycmF5O1xuIiwgIi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udW5hcnlgIHdpdGhvdXQgc3VwcG9ydCBmb3Igc3RvcmluZyBtZXRhZGF0YS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2FwIGFyZ3VtZW50cyBmb3IuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjYXBwZWQgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGJhc2VVbmFyeShmdW5jKSB7XG4gIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiBmdW5jKHZhbHVlKTtcbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlVW5hcnk7XG4iLCAidmFyIGZyZWVHbG9iYWwgPSByZXF1aXJlKCcuL19mcmVlR2xvYmFsJyk7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZXhwb3J0c2AuICovXG52YXIgZnJlZUV4cG9ydHMgPSB0eXBlb2YgZXhwb3J0cyA9PSAnb2JqZWN0JyAmJiBleHBvcnRzICYmICFleHBvcnRzLm5vZGVUeXBlICYmIGV4cG9ydHM7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgbW9kdWxlYC4gKi9cbnZhciBmcmVlTW9kdWxlID0gZnJlZUV4cG9ydHMgJiYgdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUgJiYgIW1vZHVsZS5ub2RlVHlwZSAmJiBtb2R1bGU7XG5cbi8qKiBEZXRlY3QgdGhlIHBvcHVsYXIgQ29tbW9uSlMgZXh0ZW5zaW9uIGBtb2R1bGUuZXhwb3J0c2AuICovXG52YXIgbW9kdWxlRXhwb3J0cyA9IGZyZWVNb2R1bGUgJiYgZnJlZU1vZHVsZS5leHBvcnRzID09PSBmcmVlRXhwb3J0cztcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBwcm9jZXNzYCBmcm9tIE5vZGUuanMuICovXG52YXIgZnJlZVByb2Nlc3MgPSBtb2R1bGVFeHBvcnRzICYmIGZyZWVHbG9iYWwucHJvY2VzcztcblxuLyoqIFVzZWQgdG8gYWNjZXNzIGZhc3RlciBOb2RlLmpzIGhlbHBlcnMuICovXG52YXIgbm9kZVV0aWwgPSAoZnVuY3Rpb24oKSB7XG4gIHRyeSB7XG4gICAgLy8gVXNlIGB1dGlsLnR5cGVzYCBmb3IgTm9kZS5qcyAxMCsuXG4gICAgdmFyIHR5cGVzID0gZnJlZU1vZHVsZSAmJiBmcmVlTW9kdWxlLnJlcXVpcmUgJiYgZnJlZU1vZHVsZS5yZXF1aXJlKCd1dGlsJykudHlwZXM7XG5cbiAgICBpZiAodHlwZXMpIHtcbiAgICAgIHJldHVybiB0eXBlcztcbiAgICB9XG5cbiAgICAvLyBMZWdhY3kgYHByb2Nlc3MuYmluZGluZygndXRpbCcpYCBmb3IgTm9kZS5qcyA8IDEwLlxuICAgIHJldHVybiBmcmVlUHJvY2VzcyAmJiBmcmVlUHJvY2Vzcy5iaW5kaW5nICYmIGZyZWVQcm9jZXNzLmJpbmRpbmcoJ3V0aWwnKTtcbiAgfSBjYXRjaCAoZSkge31cbn0oKSk7XG5cbm1vZHVsZS5leHBvcnRzID0gbm9kZVV0aWw7XG4iLCAidmFyIGJhc2VJc1R5cGVkQXJyYXkgPSByZXF1aXJlKCcuL19iYXNlSXNUeXBlZEFycmF5JyksXG4gICAgYmFzZVVuYXJ5ID0gcmVxdWlyZSgnLi9fYmFzZVVuYXJ5JyksXG4gICAgbm9kZVV0aWwgPSByZXF1aXJlKCcuL19ub2RlVXRpbCcpO1xuXG4vKiBOb2RlLmpzIGhlbHBlciByZWZlcmVuY2VzLiAqL1xudmFyIG5vZGVJc1R5cGVkQXJyYXkgPSBub2RlVXRpbCAmJiBub2RlVXRpbC5pc1R5cGVkQXJyYXk7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIHR5cGVkIGFycmF5LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMy4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdHlwZWQgYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc1R5cGVkQXJyYXkobmV3IFVpbnQ4QXJyYXkpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNUeXBlZEFycmF5KFtdKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbnZhciBpc1R5cGVkQXJyYXkgPSBub2RlSXNUeXBlZEFycmF5ID8gYmFzZVVuYXJ5KG5vZGVJc1R5cGVkQXJyYXkpIDogYmFzZUlzVHlwZWRBcnJheTtcblxubW9kdWxlLmV4cG9ydHMgPSBpc1R5cGVkQXJyYXk7XG4iLCAidmFyIGJhc2VUaW1lcyA9IHJlcXVpcmUoJy4vX2Jhc2VUaW1lcycpLFxuICAgIGlzQXJndW1lbnRzID0gcmVxdWlyZSgnLi9pc0FyZ3VtZW50cycpLFxuICAgIGlzQXJyYXkgPSByZXF1aXJlKCcuL2lzQXJyYXknKSxcbiAgICBpc0J1ZmZlciA9IHJlcXVpcmUoJy4vaXNCdWZmZXInKSxcbiAgICBpc0luZGV4ID0gcmVxdWlyZSgnLi9faXNJbmRleCcpLFxuICAgIGlzVHlwZWRBcnJheSA9IHJlcXVpcmUoJy4vaXNUeXBlZEFycmF5Jyk7XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBvZiB0aGUgYXJyYXktbGlrZSBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaW5oZXJpdGVkIFNwZWNpZnkgcmV0dXJuaW5nIGluaGVyaXRlZCBwcm9wZXJ0eSBuYW1lcy5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gKi9cbmZ1bmN0aW9uIGFycmF5TGlrZUtleXModmFsdWUsIGluaGVyaXRlZCkge1xuICB2YXIgaXNBcnIgPSBpc0FycmF5KHZhbHVlKSxcbiAgICAgIGlzQXJnID0gIWlzQXJyICYmIGlzQXJndW1lbnRzKHZhbHVlKSxcbiAgICAgIGlzQnVmZiA9ICFpc0FyciAmJiAhaXNBcmcgJiYgaXNCdWZmZXIodmFsdWUpLFxuICAgICAgaXNUeXBlID0gIWlzQXJyICYmICFpc0FyZyAmJiAhaXNCdWZmICYmIGlzVHlwZWRBcnJheSh2YWx1ZSksXG4gICAgICBza2lwSW5kZXhlcyA9IGlzQXJyIHx8IGlzQXJnIHx8IGlzQnVmZiB8fCBpc1R5cGUsXG4gICAgICByZXN1bHQgPSBza2lwSW5kZXhlcyA/IGJhc2VUaW1lcyh2YWx1ZS5sZW5ndGgsIFN0cmluZykgOiBbXSxcbiAgICAgIGxlbmd0aCA9IHJlc3VsdC5sZW5ndGg7XG5cbiAgZm9yICh2YXIga2V5IGluIHZhbHVlKSB7XG4gICAgaWYgKChpbmhlcml0ZWQgfHwgaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwga2V5KSkgJiZcbiAgICAgICAgIShza2lwSW5kZXhlcyAmJiAoXG4gICAgICAgICAgIC8vIFNhZmFyaSA5IGhhcyBlbnVtZXJhYmxlIGBhcmd1bWVudHMubGVuZ3RoYCBpbiBzdHJpY3QgbW9kZS5cbiAgICAgICAgICAga2V5ID09ICdsZW5ndGgnIHx8XG4gICAgICAgICAgIC8vIE5vZGUuanMgMC4xMCBoYXMgZW51bWVyYWJsZSBub24taW5kZXggcHJvcGVydGllcyBvbiBidWZmZXJzLlxuICAgICAgICAgICAoaXNCdWZmICYmIChrZXkgPT0gJ29mZnNldCcgfHwga2V5ID09ICdwYXJlbnQnKSkgfHxcbiAgICAgICAgICAgLy8gUGhhbnRvbUpTIDIgaGFzIGVudW1lcmFibGUgbm9uLWluZGV4IHByb3BlcnRpZXMgb24gdHlwZWQgYXJyYXlzLlxuICAgICAgICAgICAoaXNUeXBlICYmIChrZXkgPT0gJ2J1ZmZlcicgfHwga2V5ID09ICdieXRlTGVuZ3RoJyB8fCBrZXkgPT0gJ2J5dGVPZmZzZXQnKSkgfHxcbiAgICAgICAgICAgLy8gU2tpcCBpbmRleCBwcm9wZXJ0aWVzLlxuICAgICAgICAgICBpc0luZGV4KGtleSwgbGVuZ3RoKVxuICAgICAgICApKSkge1xuICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBhcnJheUxpa2VLZXlzO1xuIiwgIi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGlrZWx5IGEgcHJvdG90eXBlIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHByb3RvdHlwZSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc1Byb3RvdHlwZSh2YWx1ZSkge1xuICB2YXIgQ3RvciA9IHZhbHVlICYmIHZhbHVlLmNvbnN0cnVjdG9yLFxuICAgICAgcHJvdG8gPSAodHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBDdG9yLnByb3RvdHlwZSkgfHwgb2JqZWN0UHJvdG87XG5cbiAgcmV0dXJuIHZhbHVlID09PSBwcm90bztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc1Byb3RvdHlwZTtcbiIsICIvKipcbiAqIFRoaXMgZnVuY3Rpb24gaXMgbGlrZVxuICogW2BPYmplY3Qua2V5c2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5rZXlzKVxuICogZXhjZXB0IHRoYXQgaXQgaW5jbHVkZXMgaW5oZXJpdGVkIGVudW1lcmFibGUgcHJvcGVydGllcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAqL1xuZnVuY3Rpb24gbmF0aXZlS2V5c0luKG9iamVjdCkge1xuICB2YXIgcmVzdWx0ID0gW107XG4gIGlmIChvYmplY3QgIT0gbnVsbCkge1xuICAgIGZvciAodmFyIGtleSBpbiBPYmplY3Qob2JqZWN0KSkge1xuICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBuYXRpdmVLZXlzSW47XG4iLCAidmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9pc09iamVjdCcpLFxuICAgIGlzUHJvdG90eXBlID0gcmVxdWlyZSgnLi9faXNQcm90b3R5cGUnKSxcbiAgICBuYXRpdmVLZXlzSW4gPSByZXF1aXJlKCcuL19uYXRpdmVLZXlzSW4nKTtcblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG52YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5rZXlzSW5gIHdoaWNoIGRvZXNuJ3QgdHJlYXQgc3BhcnNlIGFycmF5cyBhcyBkZW5zZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAqL1xuZnVuY3Rpb24gYmFzZUtleXNJbihvYmplY3QpIHtcbiAgaWYgKCFpc09iamVjdChvYmplY3QpKSB7XG4gICAgcmV0dXJuIG5hdGl2ZUtleXNJbihvYmplY3QpO1xuICB9XG4gIHZhciBpc1Byb3RvID0gaXNQcm90b3R5cGUob2JqZWN0KSxcbiAgICAgIHJlc3VsdCA9IFtdO1xuXG4gIGZvciAodmFyIGtleSBpbiBvYmplY3QpIHtcbiAgICBpZiAoIShrZXkgPT0gJ2NvbnN0cnVjdG9yJyAmJiAoaXNQcm90byB8fCAhaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkpKSkge1xuICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlS2V5c0luO1xuIiwgInZhciBhcnJheUxpa2VLZXlzID0gcmVxdWlyZSgnLi9fYXJyYXlMaWtlS2V5cycpLFxuICAgIGJhc2VLZXlzSW4gPSByZXF1aXJlKCcuL19iYXNlS2V5c0luJyksXG4gICAgaXNBcnJheUxpa2UgPSByZXF1aXJlKCcuL2lzQXJyYXlMaWtlJyk7XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBvZiBgb2JqZWN0YC5cbiAqXG4gKiAqKk5vdGU6KiogTm9uLW9iamVjdCB2YWx1ZXMgYXJlIGNvZXJjZWQgdG8gb2JqZWN0cy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDMuMC4wXG4gKiBAY2F0ZWdvcnkgT2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICogQGV4YW1wbGVcbiAqXG4gKiBmdW5jdGlvbiBGb28oKSB7XG4gKiAgIHRoaXMuYSA9IDE7XG4gKiAgIHRoaXMuYiA9IDI7XG4gKiB9XG4gKlxuICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAqXG4gKiBfLmtleXNJbihuZXcgRm9vKTtcbiAqIC8vID0+IFsnYScsICdiJywgJ2MnXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICovXG5mdW5jdGlvbiBrZXlzSW4ob2JqZWN0KSB7XG4gIHJldHVybiBpc0FycmF5TGlrZShvYmplY3QpID8gYXJyYXlMaWtlS2V5cyhvYmplY3QsIHRydWUpIDogYmFzZUtleXNJbihvYmplY3QpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGtleXNJbjtcbiIsICJ2YXIgY29weU9iamVjdCA9IHJlcXVpcmUoJy4vX2NvcHlPYmplY3QnKSxcbiAgICBjcmVhdGVBc3NpZ25lciA9IHJlcXVpcmUoJy4vX2NyZWF0ZUFzc2lnbmVyJyksXG4gICAga2V5c0luID0gcmVxdWlyZSgnLi9rZXlzSW4nKTtcblxuLyoqXG4gKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmFzc2lnbkluYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjdXN0b21pemVyYFxuICogd2hpY2ggaXMgaW52b2tlZCB0byBwcm9kdWNlIHRoZSBhc3NpZ25lZCB2YWx1ZXMuIElmIGBjdXN0b21pemVyYCByZXR1cm5zXG4gKiBgdW5kZWZpbmVkYCwgYXNzaWdubWVudCBpcyBoYW5kbGVkIGJ5IHRoZSBtZXRob2QgaW5zdGVhZC4gVGhlIGBjdXN0b21pemVyYFxuICogaXMgaW52b2tlZCB3aXRoIGZpdmUgYXJndW1lbnRzOiAob2JqVmFsdWUsIHNyY1ZhbHVlLCBrZXksIG9iamVjdCwgc291cmNlKS5cbiAqXG4gKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAYWxpYXMgZXh0ZW5kV2l0aFxuICogQGNhdGVnb3J5IE9iamVjdFxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICogQHBhcmFtIHsuLi5PYmplY3R9IHNvdXJjZXMgVGhlIHNvdXJjZSBvYmplY3RzLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgYXNzaWduZWQgdmFsdWVzLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAqIEBzZWUgXy5hc3NpZ25XaXRoXG4gKiBAZXhhbXBsZVxuICpcbiAqIGZ1bmN0aW9uIGN1c3RvbWl6ZXIob2JqVmFsdWUsIHNyY1ZhbHVlKSB7XG4gKiAgIHJldHVybiBfLmlzVW5kZWZpbmVkKG9ialZhbHVlKSA/IHNyY1ZhbHVlIDogb2JqVmFsdWU7XG4gKiB9XG4gKlxuICogdmFyIGRlZmF1bHRzID0gXy5wYXJ0aWFsUmlnaHQoXy5hc3NpZ25JbldpdGgsIGN1c3RvbWl6ZXIpO1xuICpcbiAqIGRlZmF1bHRzKHsgJ2EnOiAxIH0sIHsgJ2InOiAyIH0sIHsgJ2EnOiAzIH0pO1xuICogLy8gPT4geyAnYSc6IDEsICdiJzogMiB9XG4gKi9cbnZhciBhc3NpZ25JbldpdGggPSBjcmVhdGVBc3NpZ25lcihmdW5jdGlvbihvYmplY3QsIHNvdXJjZSwgc3JjSW5kZXgsIGN1c3RvbWl6ZXIpIHtcbiAgY29weU9iamVjdChzb3VyY2UsIGtleXNJbihzb3VyY2UpLCBvYmplY3QsIGN1c3RvbWl6ZXIpO1xufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gYXNzaWduSW5XaXRoO1xuIiwgIi8qKlxuICogQ3JlYXRlcyBhIHVuYXJ5IGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCBpdHMgYXJndW1lbnQgdHJhbnNmb3JtZWQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSB0cmFuc2Zvcm0gVGhlIGFyZ3VtZW50IHRyYW5zZm9ybS5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBvdmVyQXJnKGZ1bmMsIHRyYW5zZm9ybSkge1xuICByZXR1cm4gZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIGZ1bmModHJhbnNmb3JtKGFyZykpO1xuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG92ZXJBcmc7XG4iLCAidmFyIG92ZXJBcmcgPSByZXF1aXJlKCcuL19vdmVyQXJnJyk7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIGdldFByb3RvdHlwZSA9IG92ZXJBcmcoT2JqZWN0LmdldFByb3RvdHlwZU9mLCBPYmplY3QpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGdldFByb3RvdHlwZTtcbiIsICJ2YXIgYmFzZUdldFRhZyA9IHJlcXVpcmUoJy4vX2Jhc2VHZXRUYWcnKSxcbiAgICBnZXRQcm90b3R5cGUgPSByZXF1aXJlKCcuL19nZXRQcm90b3R5cGUnKSxcbiAgICBpc09iamVjdExpa2UgPSByZXF1aXJlKCcuL2lzT2JqZWN0TGlrZScpO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0VGFnID0gJ1tvYmplY3QgT2JqZWN0XSc7XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBmdW5jUHJvdG8gPSBGdW5jdGlvbi5wcm90b3R5cGUsXG4gICAgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKiogVXNlZCB0byByZXNvbHZlIHRoZSBkZWNvbXBpbGVkIHNvdXJjZSBvZiBmdW5jdGlvbnMuICovXG52YXIgZnVuY1RvU3RyaW5nID0gZnVuY1Byb3RvLnRvU3RyaW5nO1xuXG4vKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4vKiogVXNlZCB0byBpbmZlciB0aGUgYE9iamVjdGAgY29uc3RydWN0b3IuICovXG52YXIgb2JqZWN0Q3RvclN0cmluZyA9IGZ1bmNUb1N0cmluZy5jYWxsKE9iamVjdCk7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBwbGFpbiBvYmplY3QsIHRoYXQgaXMsIGFuIG9iamVjdCBjcmVhdGVkIGJ5IHRoZVxuICogYE9iamVjdGAgY29uc3RydWN0b3Igb3Igb25lIHdpdGggYSBgW1tQcm90b3R5cGVdXWAgb2YgYG51bGxgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC44LjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcGxhaW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIGZ1bmN0aW9uIEZvbygpIHtcbiAqICAgdGhpcy5hID0gMTtcbiAqIH1cbiAqXG4gKiBfLmlzUGxhaW5PYmplY3QobmV3IEZvbyk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNQbGFpbk9iamVjdChbMSwgMiwgM10pO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzUGxhaW5PYmplY3QoeyAneCc6IDAsICd5JzogMCB9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzUGxhaW5PYmplY3QoT2JqZWN0LmNyZWF0ZShudWxsKSk7XG4gKiAvLyA9PiB0cnVlXG4gKi9cbmZ1bmN0aW9uIGlzUGxhaW5PYmplY3QodmFsdWUpIHtcbiAgaWYgKCFpc09iamVjdExpa2UodmFsdWUpIHx8IGJhc2VHZXRUYWcodmFsdWUpICE9IG9iamVjdFRhZykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgcHJvdG8gPSBnZXRQcm90b3R5cGUodmFsdWUpO1xuICBpZiAocHJvdG8gPT09IG51bGwpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICB2YXIgQ3RvciA9IGhhc093blByb3BlcnR5LmNhbGwocHJvdG8sICdjb25zdHJ1Y3RvcicpICYmIHByb3RvLmNvbnN0cnVjdG9yO1xuICByZXR1cm4gdHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBDdG9yIGluc3RhbmNlb2YgQ3RvciAmJlxuICAgIGZ1bmNUb1N0cmluZy5jYWxsKEN0b3IpID09IG9iamVjdEN0b3JTdHJpbmc7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNQbGFpbk9iamVjdDtcbiIsICJ2YXIgYmFzZUdldFRhZyA9IHJlcXVpcmUoJy4vX2Jhc2VHZXRUYWcnKSxcbiAgICBpc09iamVjdExpa2UgPSByZXF1aXJlKCcuL2lzT2JqZWN0TGlrZScpLFxuICAgIGlzUGxhaW5PYmplY3QgPSByZXF1aXJlKCcuL2lzUGxhaW5PYmplY3QnKTtcblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIGRvbUV4Y1RhZyA9ICdbb2JqZWN0IERPTUV4Y2VwdGlvbl0nLFxuICAgIGVycm9yVGFnID0gJ1tvYmplY3QgRXJyb3JdJztcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhbiBgRXJyb3JgLCBgRXZhbEVycm9yYCwgYFJhbmdlRXJyb3JgLCBgUmVmZXJlbmNlRXJyb3JgLFxuICogYFN5bnRheEVycm9yYCwgYFR5cGVFcnJvcmAsIG9yIGBVUklFcnJvcmAgb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMy4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGVycm9yIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzRXJyb3IobmV3IEVycm9yKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzRXJyb3IoRXJyb3IpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNFcnJvcih2YWx1ZSkge1xuICBpZiAoIWlzT2JqZWN0TGlrZSh2YWx1ZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIHRhZyA9IGJhc2VHZXRUYWcodmFsdWUpO1xuICByZXR1cm4gdGFnID09IGVycm9yVGFnIHx8IHRhZyA9PSBkb21FeGNUYWcgfHxcbiAgICAodHlwZW9mIHZhbHVlLm1lc3NhZ2UgPT0gJ3N0cmluZycgJiYgdHlwZW9mIHZhbHVlLm5hbWUgPT0gJ3N0cmluZycgJiYgIWlzUGxhaW5PYmplY3QodmFsdWUpKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc0Vycm9yO1xuIiwgInZhciBhcHBseSA9IHJlcXVpcmUoJy4vX2FwcGx5JyksXG4gICAgYmFzZVJlc3QgPSByZXF1aXJlKCcuL19iYXNlUmVzdCcpLFxuICAgIGlzRXJyb3IgPSByZXF1aXJlKCcuL2lzRXJyb3InKTtcblxuLyoqXG4gKiBBdHRlbXB0cyB0byBpbnZva2UgYGZ1bmNgLCByZXR1cm5pbmcgZWl0aGVyIHRoZSByZXN1bHQgb3IgdGhlIGNhdWdodCBlcnJvclxuICogb2JqZWN0LiBBbnkgYWRkaXRpb25hbCBhcmd1bWVudHMgYXJlIHByb3ZpZGVkIHRvIGBmdW5jYCB3aGVuIGl0J3MgaW52b2tlZC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDMuMC4wXG4gKiBAY2F0ZWdvcnkgVXRpbFxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXR0ZW1wdC5cbiAqIEBwYXJhbSB7Li4uKn0gW2FyZ3NdIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIGBmdW5jYCB3aXRoLlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGBmdW5jYCByZXN1bHQgb3IgZXJyb3Igb2JqZWN0LlxuICogQGV4YW1wbGVcbiAqXG4gKiAvLyBBdm9pZCB0aHJvd2luZyBlcnJvcnMgZm9yIGludmFsaWQgc2VsZWN0b3JzLlxuICogdmFyIGVsZW1lbnRzID0gXy5hdHRlbXB0KGZ1bmN0aW9uKHNlbGVjdG9yKSB7XG4gKiAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcbiAqIH0sICc+Xz4nKTtcbiAqXG4gKiBpZiAoXy5pc0Vycm9yKGVsZW1lbnRzKSkge1xuICogICBlbGVtZW50cyA9IFtdO1xuICogfVxuICovXG52YXIgYXR0ZW1wdCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGZ1bmMsIGFyZ3MpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gYXBwbHkoZnVuYywgdW5kZWZpbmVkLCBhcmdzKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBpc0Vycm9yKGUpID8gZSA6IG5ldyBFcnJvcihlKTtcbiAgfVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gYXR0ZW1wdDtcbiIsICIvKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5tYXBgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZVxuICogc2hvcnRoYW5kcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IG1hcHBlZCBhcnJheS5cbiAqL1xuZnVuY3Rpb24gYXJyYXlNYXAoYXJyYXksIGl0ZXJhdGVlKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGgsXG4gICAgICByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgcmVzdWx0W2luZGV4XSA9IGl0ZXJhdGVlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGFycmF5TWFwO1xuIiwgInZhciBhcnJheU1hcCA9IHJlcXVpcmUoJy4vX2FycmF5TWFwJyk7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udmFsdWVzYCBhbmQgYF8udmFsdWVzSW5gIHdoaWNoIGNyZWF0ZXMgYW5cbiAqIGFycmF5IG9mIGBvYmplY3RgIHByb3BlcnR5IHZhbHVlcyBjb3JyZXNwb25kaW5nIHRvIHRoZSBwcm9wZXJ0eSBuYW1lc1xuICogb2YgYHByb3BzYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtBcnJheX0gcHJvcHMgVGhlIHByb3BlcnR5IG5hbWVzIHRvIGdldCB2YWx1ZXMgZm9yLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgdmFsdWVzLlxuICovXG5mdW5jdGlvbiBiYXNlVmFsdWVzKG9iamVjdCwgcHJvcHMpIHtcbiAgcmV0dXJuIGFycmF5TWFwKHByb3BzLCBmdW5jdGlvbihrZXkpIHtcbiAgICByZXR1cm4gb2JqZWN0W2tleV07XG4gIH0pO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VWYWx1ZXM7XG4iLCAidmFyIGVxID0gcmVxdWlyZSgnLi9lcScpO1xuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4vKipcbiAqIFVzZWQgYnkgYF8uZGVmYXVsdHNgIHRvIGN1c3RvbWl6ZSBpdHMgYF8uYXNzaWduSW5gIHVzZSB0byBhc3NpZ24gcHJvcGVydGllc1xuICogb2Ygc291cmNlIG9iamVjdHMgdG8gdGhlIGRlc3RpbmF0aW9uIG9iamVjdCBmb3IgYWxsIGRlc3RpbmF0aW9uIHByb3BlcnRpZXNcbiAqIHRoYXQgcmVzb2x2ZSB0byBgdW5kZWZpbmVkYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSBvYmpWYWx1ZSBUaGUgZGVzdGluYXRpb24gdmFsdWUuXG4gKiBAcGFyYW0geyp9IHNyY1ZhbHVlIFRoZSBzb3VyY2UgdmFsdWUuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGFzc2lnbi5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHBhcmVudCBvYmplY3Qgb2YgYG9ialZhbHVlYC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSB2YWx1ZSB0byBhc3NpZ24uXG4gKi9cbmZ1bmN0aW9uIGN1c3RvbURlZmF1bHRzQXNzaWduSW4ob2JqVmFsdWUsIHNyY1ZhbHVlLCBrZXksIG9iamVjdCkge1xuICBpZiAob2JqVmFsdWUgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgKGVxKG9ialZhbHVlLCBvYmplY3RQcm90b1trZXldKSAmJiAhaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkpKSB7XG4gICAgcmV0dXJuIHNyY1ZhbHVlO1xuICB9XG4gIHJldHVybiBvYmpWYWx1ZTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjdXN0b21EZWZhdWx0c0Fzc2lnbkluO1xuIiwgIi8qKiBVc2VkIHRvIGVzY2FwZSBjaGFyYWN0ZXJzIGZvciBpbmNsdXNpb24gaW4gY29tcGlsZWQgc3RyaW5nIGxpdGVyYWxzLiAqL1xudmFyIHN0cmluZ0VzY2FwZXMgPSB7XG4gICdcXFxcJzogJ1xcXFwnLFxuICBcIidcIjogXCInXCIsXG4gICdcXG4nOiAnbicsXG4gICdcXHInOiAncicsXG4gICdcXHUyMDI4JzogJ3UyMDI4JyxcbiAgJ1xcdTIwMjknOiAndTIwMjknXG59O1xuXG4vKipcbiAqIFVzZWQgYnkgYF8udGVtcGxhdGVgIHRvIGVzY2FwZSBjaGFyYWN0ZXJzIGZvciBpbmNsdXNpb24gaW4gY29tcGlsZWQgc3RyaW5nIGxpdGVyYWxzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gY2hyIFRoZSBtYXRjaGVkIGNoYXJhY3RlciB0byBlc2NhcGUuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBlc2NhcGVkIGNoYXJhY3Rlci5cbiAqL1xuZnVuY3Rpb24gZXNjYXBlU3RyaW5nQ2hhcihjaHIpIHtcbiAgcmV0dXJuICdcXFxcJyArIHN0cmluZ0VzY2FwZXNbY2hyXTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBlc2NhcGVTdHJpbmdDaGFyO1xuIiwgInZhciBvdmVyQXJnID0gcmVxdWlyZSgnLi9fb3ZlckFyZycpO1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyBmb3IgdGhvc2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMuICovXG52YXIgbmF0aXZlS2V5cyA9IG92ZXJBcmcoT2JqZWN0LmtleXMsIE9iamVjdCk7XG5cbm1vZHVsZS5leHBvcnRzID0gbmF0aXZlS2V5cztcbiIsICJ2YXIgaXNQcm90b3R5cGUgPSByZXF1aXJlKCcuL19pc1Byb3RvdHlwZScpLFxuICAgIG5hdGl2ZUtleXMgPSByZXF1aXJlKCcuL19uYXRpdmVLZXlzJyk7XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ua2V5c2Agd2hpY2ggZG9lc24ndCB0cmVhdCBzcGFyc2UgYXJyYXlzIGFzIGRlbnNlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICovXG5mdW5jdGlvbiBiYXNlS2V5cyhvYmplY3QpIHtcbiAgaWYgKCFpc1Byb3RvdHlwZShvYmplY3QpKSB7XG4gICAgcmV0dXJuIG5hdGl2ZUtleXMob2JqZWN0KTtcbiAgfVxuICB2YXIgcmVzdWx0ID0gW107XG4gIGZvciAodmFyIGtleSBpbiBPYmplY3Qob2JqZWN0KSkge1xuICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSAmJiBrZXkgIT0gJ2NvbnN0cnVjdG9yJykge1xuICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlS2V5cztcbiIsICJ2YXIgYXJyYXlMaWtlS2V5cyA9IHJlcXVpcmUoJy4vX2FycmF5TGlrZUtleXMnKSxcbiAgICBiYXNlS2V5cyA9IHJlcXVpcmUoJy4vX2Jhc2VLZXlzJyksXG4gICAgaXNBcnJheUxpa2UgPSByZXF1aXJlKCcuL2lzQXJyYXlMaWtlJyk7XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgb2YgYG9iamVjdGAuXG4gKlxuICogKipOb3RlOioqIE5vbi1vYmplY3QgdmFsdWVzIGFyZSBjb2VyY2VkIHRvIG9iamVjdHMuIFNlZSB0aGVcbiAqIFtFUyBzcGVjXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3Qua2V5cylcbiAqIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogQHN0YXRpY1xuICogQHNpbmNlIDAuMS4wXG4gKiBAbWVtYmVyT2YgX1xuICogQGNhdGVnb3J5IE9iamVjdFxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAqIEBleGFtcGxlXG4gKlxuICogZnVuY3Rpb24gRm9vKCkge1xuICogICB0aGlzLmEgPSAxO1xuICogICB0aGlzLmIgPSAyO1xuICogfVxuICpcbiAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gKlxuICogXy5rZXlzKG5ldyBGb28pO1xuICogLy8gPT4gWydhJywgJ2InXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICpcbiAqIF8ua2V5cygnaGknKTtcbiAqIC8vID0+IFsnMCcsICcxJ11cbiAqL1xuZnVuY3Rpb24ga2V5cyhvYmplY3QpIHtcbiAgcmV0dXJuIGlzQXJyYXlMaWtlKG9iamVjdCkgPyBhcnJheUxpa2VLZXlzKG9iamVjdCkgOiBiYXNlS2V5cyhvYmplY3QpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGtleXM7XG4iLCAiLyoqIFVzZWQgdG8gbWF0Y2ggdGVtcGxhdGUgZGVsaW1pdGVycy4gKi9cbnZhciByZUludGVycG9sYXRlID0gLzwlPShbXFxzXFxTXSs/KSU+L2c7XG5cbm1vZHVsZS5leHBvcnRzID0gcmVJbnRlcnBvbGF0ZTtcbiIsICIvKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnByb3BlcnR5T2ZgIHdpdGhvdXQgc3VwcG9ydCBmb3IgZGVlcCBwYXRocy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWNjZXNzb3IgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGJhc2VQcm9wZXJ0eU9mKG9iamVjdCkge1xuICByZXR1cm4gZnVuY3Rpb24oa2V5KSB7XG4gICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W2tleV07XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZVByb3BlcnR5T2Y7XG4iLCAidmFyIGJhc2VQcm9wZXJ0eU9mID0gcmVxdWlyZSgnLi9fYmFzZVByb3BlcnR5T2YnKTtcblxuLyoqIFVzZWQgdG8gbWFwIGNoYXJhY3RlcnMgdG8gSFRNTCBlbnRpdGllcy4gKi9cbnZhciBodG1sRXNjYXBlcyA9IHtcbiAgJyYnOiAnJmFtcDsnLFxuICAnPCc6ICcmbHQ7JyxcbiAgJz4nOiAnJmd0OycsXG4gICdcIic6ICcmcXVvdDsnLFxuICBcIidcIjogJyYjMzk7J1xufTtcblxuLyoqXG4gKiBVc2VkIGJ5IGBfLmVzY2FwZWAgdG8gY29udmVydCBjaGFyYWN0ZXJzIHRvIEhUTUwgZW50aXRpZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBjaHIgVGhlIG1hdGNoZWQgY2hhcmFjdGVyIHRvIGVzY2FwZS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGVzY2FwZWQgY2hhcmFjdGVyLlxuICovXG52YXIgZXNjYXBlSHRtbENoYXIgPSBiYXNlUHJvcGVydHlPZihodG1sRXNjYXBlcyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZXNjYXBlSHRtbENoYXI7XG4iLCAidmFyIGJhc2VHZXRUYWcgPSByZXF1aXJlKCcuL19iYXNlR2V0VGFnJyksXG4gICAgaXNPYmplY3RMaWtlID0gcmVxdWlyZSgnLi9pc09iamVjdExpa2UnKTtcblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIHN5bWJvbFRhZyA9ICdbb2JqZWN0IFN5bWJvbF0nO1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgU3ltYm9sYCBwcmltaXRpdmUgb3Igb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc3ltYm9sLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNTeW1ib2woU3ltYm9sLml0ZXJhdG9yKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzU3ltYm9sKCdhYmMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzU3ltYm9sKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ3N5bWJvbCcgfHxcbiAgICAoaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBzeW1ib2xUYWcpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzU3ltYm9sO1xuIiwgInZhciBTeW1ib2wgPSByZXF1aXJlKCcuL19TeW1ib2wnKSxcbiAgICBhcnJheU1hcCA9IHJlcXVpcmUoJy4vX2FycmF5TWFwJyksXG4gICAgaXNBcnJheSA9IHJlcXVpcmUoJy4vaXNBcnJheScpLFxuICAgIGlzU3ltYm9sID0gcmVxdWlyZSgnLi9pc1N5bWJvbCcpO1xuXG4vKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB2YXJpb3VzIGBOdW1iZXJgIGNvbnN0YW50cy4gKi9cbnZhciBJTkZJTklUWSA9IDEgLyAwO1xuXG4vKiogVXNlZCB0byBjb252ZXJ0IHN5bWJvbHMgdG8gcHJpbWl0aXZlcyBhbmQgc3RyaW5ncy4gKi9cbnZhciBzeW1ib2xQcm90byA9IFN5bWJvbCA/IFN5bWJvbC5wcm90b3R5cGUgOiB1bmRlZmluZWQsXG4gICAgc3ltYm9sVG9TdHJpbmcgPSBzeW1ib2xQcm90byA/IHN5bWJvbFByb3RvLnRvU3RyaW5nIDogdW5kZWZpbmVkO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnRvU3RyaW5nYCB3aGljaCBkb2Vzbid0IGNvbnZlcnQgbnVsbGlzaFxuICogdmFsdWVzIHRvIGVtcHR5IHN0cmluZ3MuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIGJhc2VUb1N0cmluZyh2YWx1ZSkge1xuICAvLyBFeGl0IGVhcmx5IGZvciBzdHJpbmdzIHRvIGF2b2lkIGEgcGVyZm9ybWFuY2UgaGl0IGluIHNvbWUgZW52aXJvbm1lbnRzLlxuICBpZiAodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgIC8vIFJlY3Vyc2l2ZWx5IGNvbnZlcnQgdmFsdWVzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgcmV0dXJuIGFycmF5TWFwKHZhbHVlLCBiYXNlVG9TdHJpbmcpICsgJyc7XG4gIH1cbiAgaWYgKGlzU3ltYm9sKHZhbHVlKSkge1xuICAgIHJldHVybiBzeW1ib2xUb1N0cmluZyA/IHN5bWJvbFRvU3RyaW5nLmNhbGwodmFsdWUpIDogJyc7XG4gIH1cbiAgdmFyIHJlc3VsdCA9ICh2YWx1ZSArICcnKTtcbiAgcmV0dXJuIChyZXN1bHQgPT0gJzAnICYmICgxIC8gdmFsdWUpID09IC1JTkZJTklUWSkgPyAnLTAnIDogcmVzdWx0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VUb1N0cmluZztcbiIsICJ2YXIgYmFzZVRvU3RyaW5nID0gcmVxdWlyZSgnLi9fYmFzZVRvU3RyaW5nJyk7XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZy4gQW4gZW1wdHkgc3RyaW5nIGlzIHJldHVybmVkIGZvciBgbnVsbGBcbiAqIGFuZCBgdW5kZWZpbmVkYCB2YWx1ZXMuIFRoZSBzaWduIG9mIGAtMGAgaXMgcHJlc2VydmVkLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY29udmVydGVkIHN0cmluZy5cbiAqIEBleGFtcGxlXG4gKlxuICogXy50b1N0cmluZyhudWxsKTtcbiAqIC8vID0+ICcnXG4gKlxuICogXy50b1N0cmluZygtMCk7XG4gKiAvLyA9PiAnLTAnXG4gKlxuICogXy50b1N0cmluZyhbMSwgMiwgM10pO1xuICogLy8gPT4gJzEsMiwzJ1xuICovXG5mdW5jdGlvbiB0b1N0cmluZyh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgPT0gbnVsbCA/ICcnIDogYmFzZVRvU3RyaW5nKHZhbHVlKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB0b1N0cmluZztcbiIsICJ2YXIgZXNjYXBlSHRtbENoYXIgPSByZXF1aXJlKCcuL19lc2NhcGVIdG1sQ2hhcicpLFxuICAgIHRvU3RyaW5nID0gcmVxdWlyZSgnLi90b1N0cmluZycpO1xuXG4vKiogVXNlZCB0byBtYXRjaCBIVE1MIGVudGl0aWVzIGFuZCBIVE1MIGNoYXJhY3RlcnMuICovXG52YXIgcmVVbmVzY2FwZWRIdG1sID0gL1smPD5cIiddL2csXG4gICAgcmVIYXNVbmVzY2FwZWRIdG1sID0gUmVnRXhwKHJlVW5lc2NhcGVkSHRtbC5zb3VyY2UpO1xuXG4vKipcbiAqIENvbnZlcnRzIHRoZSBjaGFyYWN0ZXJzIFwiJlwiLCBcIjxcIiwgXCI+XCIsICdcIicsIGFuZCBcIidcIiBpbiBgc3RyaW5nYCB0byB0aGVpclxuICogY29ycmVzcG9uZGluZyBIVE1MIGVudGl0aWVzLlxuICpcbiAqICoqTm90ZToqKiBObyBvdGhlciBjaGFyYWN0ZXJzIGFyZSBlc2NhcGVkLiBUbyBlc2NhcGUgYWRkaXRpb25hbFxuICogY2hhcmFjdGVycyB1c2UgYSB0aGlyZC1wYXJ0eSBsaWJyYXJ5IGxpa2UgW19oZV9dKGh0dHBzOi8vbXRocy5iZS9oZSkuXG4gKlxuICogVGhvdWdoIHRoZSBcIj5cIiBjaGFyYWN0ZXIgaXMgZXNjYXBlZCBmb3Igc3ltbWV0cnksIGNoYXJhY3RlcnMgbGlrZVxuICogXCI+XCIgYW5kIFwiL1wiIGRvbid0IG5lZWQgZXNjYXBpbmcgaW4gSFRNTCBhbmQgaGF2ZSBubyBzcGVjaWFsIG1lYW5pbmdcbiAqIHVubGVzcyB0aGV5J3JlIHBhcnQgb2YgYSB0YWcgb3IgdW5xdW90ZWQgYXR0cmlidXRlIHZhbHVlLiBTZWVcbiAqIFtNYXRoaWFzIEJ5bmVucydzIGFydGljbGVdKGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9hbWJpZ3VvdXMtYW1wZXJzYW5kcylcbiAqICh1bmRlciBcInNlbWktcmVsYXRlZCBmdW4gZmFjdFwiKSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFdoZW4gd29ya2luZyB3aXRoIEhUTUwgeW91IHNob3VsZCBhbHdheXNcbiAqIFtxdW90ZSBhdHRyaWJ1dGUgdmFsdWVzXShodHRwOi8vd29ua28uY29tL3Bvc3QvaHRtbC1lc2NhcGluZykgdG8gcmVkdWNlXG4gKiBYU1MgdmVjdG9ycy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBtZW1iZXJPZiBfXG4gKiBAY2F0ZWdvcnkgU3RyaW5nXG4gKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBlc2NhcGUuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBlc2NhcGVkIHN0cmluZy5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5lc2NhcGUoJ2ZyZWQsIGJhcm5leSwgJiBwZWJibGVzJyk7XG4gKiAvLyA9PiAnZnJlZCwgYmFybmV5LCAmYW1wOyBwZWJibGVzJ1xuICovXG5mdW5jdGlvbiBlc2NhcGUoc3RyaW5nKSB7XG4gIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gIHJldHVybiAoc3RyaW5nICYmIHJlSGFzVW5lc2NhcGVkSHRtbC50ZXN0KHN0cmluZykpXG4gICAgPyBzdHJpbmcucmVwbGFjZShyZVVuZXNjYXBlZEh0bWwsIGVzY2FwZUh0bWxDaGFyKVxuICAgIDogc3RyaW5nO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGVzY2FwZTtcbiIsICIvKiogVXNlZCB0byBtYXRjaCB0ZW1wbGF0ZSBkZWxpbWl0ZXJzLiAqL1xudmFyIHJlRXNjYXBlID0gLzwlLShbXFxzXFxTXSs/KSU+L2c7XG5cbm1vZHVsZS5leHBvcnRzID0gcmVFc2NhcGU7XG4iLCAiLyoqIFVzZWQgdG8gbWF0Y2ggdGVtcGxhdGUgZGVsaW1pdGVycy4gKi9cbnZhciByZUV2YWx1YXRlID0gLzwlKFtcXHNcXFNdKz8pJT4vZztcblxubW9kdWxlLmV4cG9ydHMgPSByZUV2YWx1YXRlO1xuIiwgInZhciBlc2NhcGUgPSByZXF1aXJlKCcuL2VzY2FwZScpLFxuICAgIHJlRXNjYXBlID0gcmVxdWlyZSgnLi9fcmVFc2NhcGUnKSxcbiAgICByZUV2YWx1YXRlID0gcmVxdWlyZSgnLi9fcmVFdmFsdWF0ZScpLFxuICAgIHJlSW50ZXJwb2xhdGUgPSByZXF1aXJlKCcuL19yZUludGVycG9sYXRlJyk7XG5cbi8qKlxuICogQnkgZGVmYXVsdCwgdGhlIHRlbXBsYXRlIGRlbGltaXRlcnMgdXNlZCBieSBsb2Rhc2ggYXJlIGxpa2UgdGhvc2UgaW5cbiAqIGVtYmVkZGVkIFJ1YnkgKEVSQikgYXMgd2VsbCBhcyBFUzIwMTUgdGVtcGxhdGUgc3RyaW5ncy4gQ2hhbmdlIHRoZVxuICogZm9sbG93aW5nIHRlbXBsYXRlIHNldHRpbmdzIHRvIHVzZSBhbHRlcm5hdGl2ZSBkZWxpbWl0ZXJzLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAdHlwZSB7T2JqZWN0fVxuICovXG52YXIgdGVtcGxhdGVTZXR0aW5ncyA9IHtcblxuICAvKipcbiAgICogVXNlZCB0byBkZXRlY3QgYGRhdGFgIHByb3BlcnR5IHZhbHVlcyB0byBiZSBIVE1MLWVzY2FwZWQuXG4gICAqXG4gICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3NcbiAgICogQHR5cGUge1JlZ0V4cH1cbiAgICovXG4gICdlc2NhcGUnOiByZUVzY2FwZSxcblxuICAvKipcbiAgICogVXNlZCB0byBkZXRlY3QgY29kZSB0byBiZSBldmFsdWF0ZWQuXG4gICAqXG4gICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3NcbiAgICogQHR5cGUge1JlZ0V4cH1cbiAgICovXG4gICdldmFsdWF0ZSc6IHJlRXZhbHVhdGUsXG5cbiAgLyoqXG4gICAqIFVzZWQgdG8gZGV0ZWN0IGBkYXRhYCBwcm9wZXJ0eSB2YWx1ZXMgdG8gaW5qZWN0LlxuICAgKlxuICAgKiBAbWVtYmVyT2YgXy50ZW1wbGF0ZVNldHRpbmdzXG4gICAqIEB0eXBlIHtSZWdFeHB9XG4gICAqL1xuICAnaW50ZXJwb2xhdGUnOiByZUludGVycG9sYXRlLFxuXG4gIC8qKlxuICAgKiBVc2VkIHRvIHJlZmVyZW5jZSB0aGUgZGF0YSBvYmplY3QgaW4gdGhlIHRlbXBsYXRlIHRleHQuXG4gICAqXG4gICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3NcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICovXG4gICd2YXJpYWJsZSc6ICcnLFxuXG4gIC8qKlxuICAgKiBVc2VkIHRvIGltcG9ydCB2YXJpYWJsZXMgaW50byB0aGUgY29tcGlsZWQgdGVtcGxhdGUuXG4gICAqXG4gICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3NcbiAgICogQHR5cGUge09iamVjdH1cbiAgICovXG4gICdpbXBvcnRzJzoge1xuXG4gICAgLyoqXG4gICAgICogQSByZWZlcmVuY2UgdG8gdGhlIGBsb2Rhc2hgIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQG1lbWJlck9mIF8udGVtcGxhdGVTZXR0aW5ncy5pbXBvcnRzXG4gICAgICogQHR5cGUge0Z1bmN0aW9ufVxuICAgICAqL1xuICAgICdfJzogeyAnZXNjYXBlJzogZXNjYXBlIH1cbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSB0ZW1wbGF0ZVNldHRpbmdzO1xuIiwgInZhciBhc3NpZ25JbldpdGggPSByZXF1aXJlKCcuL2Fzc2lnbkluV2l0aCcpLFxuICAgIGF0dGVtcHQgPSByZXF1aXJlKCcuL2F0dGVtcHQnKSxcbiAgICBiYXNlVmFsdWVzID0gcmVxdWlyZSgnLi9fYmFzZVZhbHVlcycpLFxuICAgIGN1c3RvbURlZmF1bHRzQXNzaWduSW4gPSByZXF1aXJlKCcuL19jdXN0b21EZWZhdWx0c0Fzc2lnbkluJyksXG4gICAgZXNjYXBlU3RyaW5nQ2hhciA9IHJlcXVpcmUoJy4vX2VzY2FwZVN0cmluZ0NoYXInKSxcbiAgICBpc0Vycm9yID0gcmVxdWlyZSgnLi9pc0Vycm9yJyksXG4gICAgaXNJdGVyYXRlZUNhbGwgPSByZXF1aXJlKCcuL19pc0l0ZXJhdGVlQ2FsbCcpLFxuICAgIGtleXMgPSByZXF1aXJlKCcuL2tleXMnKSxcbiAgICByZUludGVycG9sYXRlID0gcmVxdWlyZSgnLi9fcmVJbnRlcnBvbGF0ZScpLFxuICAgIHRlbXBsYXRlU2V0dGluZ3MgPSByZXF1aXJlKCcuL3RlbXBsYXRlU2V0dGluZ3MnKSxcbiAgICB0b1N0cmluZyA9IHJlcXVpcmUoJy4vdG9TdHJpbmcnKTtcblxuLyoqIEVycm9yIG1lc3NhZ2UgY29uc3RhbnRzLiAqL1xudmFyIElOVkFMSURfVEVNUExfVkFSX0VSUk9SX1RFWFQgPSAnSW52YWxpZCBgdmFyaWFibGVgIG9wdGlvbiBwYXNzZWQgaW50byBgXy50ZW1wbGF0ZWAnO1xuXG4vKiogVXNlZCB0byBtYXRjaCBlbXB0eSBzdHJpbmcgbGl0ZXJhbHMgaW4gY29tcGlsZWQgdGVtcGxhdGUgc291cmNlLiAqL1xudmFyIHJlRW1wdHlTdHJpbmdMZWFkaW5nID0gL1xcYl9fcCBcXCs9ICcnOy9nLFxuICAgIHJlRW1wdHlTdHJpbmdNaWRkbGUgPSAvXFxiKF9fcCBcXCs9KSAnJyBcXCsvZyxcbiAgICByZUVtcHR5U3RyaW5nVHJhaWxpbmcgPSAvKF9fZVxcKC4qP1xcKXxcXGJfX3RcXCkpIFxcK1xcbicnOy9nO1xuXG4vKipcbiAqIFVzZWQgdG8gdmFsaWRhdGUgdGhlIGB2YWxpZGF0ZWAgb3B0aW9uIGluIGBfLnRlbXBsYXRlYCB2YXJpYWJsZS5cbiAqXG4gKiBGb3JiaWRzIGNoYXJhY3RlcnMgd2hpY2ggY291bGQgcG90ZW50aWFsbHkgY2hhbmdlIHRoZSBtZWFuaW5nIG9mIHRoZSBmdW5jdGlvbiBhcmd1bWVudCBkZWZpbml0aW9uOlxuICogLSBcIigpLFwiIChtb2RpZmljYXRpb24gb2YgZnVuY3Rpb24gcGFyYW1ldGVycylcbiAqIC0gXCI9XCIgKGRlZmF1bHQgdmFsdWUpXG4gKiAtIFwiW117fVwiIChkZXN0cnVjdHVyaW5nIG9mIGZ1bmN0aW9uIHBhcmFtZXRlcnMpXG4gKiAtIFwiL1wiIChiZWdpbm5pbmcgb2YgYSBjb21tZW50KVxuICogLSB3aGl0ZXNwYWNlXG4gKi9cbnZhciByZUZvcmJpZGRlbklkZW50aWZpZXJDaGFycyA9IC9bKCk9LHt9XFxbXFxdXFwvXFxzXS87XG5cbi8qKlxuICogVXNlZCB0byBtYXRjaFxuICogW0VTIHRlbXBsYXRlIGRlbGltaXRlcnNdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXRlbXBsYXRlLWxpdGVyYWwtbGV4aWNhbC1jb21wb25lbnRzKS5cbiAqL1xudmFyIHJlRXNUZW1wbGF0ZSA9IC9cXCRcXHsoW15cXFxcfV0qKD86XFxcXC5bXlxcXFx9XSopKilcXH0vZztcblxuLyoqIFVzZWQgdG8gZW5zdXJlIGNhcHR1cmluZyBvcmRlciBvZiB0ZW1wbGF0ZSBkZWxpbWl0ZXJzLiAqL1xudmFyIHJlTm9NYXRjaCA9IC8oJF4pLztcblxuLyoqIFVzZWQgdG8gbWF0Y2ggdW5lc2NhcGVkIGNoYXJhY3RlcnMgaW4gY29tcGlsZWQgc3RyaW5nIGxpdGVyYWxzLiAqL1xudmFyIHJlVW5lc2NhcGVkU3RyaW5nID0gL1snXFxuXFxyXFx1MjAyOFxcdTIwMjlcXFxcXS9nO1xuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBjb21waWxlZCB0ZW1wbGF0ZSBmdW5jdGlvbiB0aGF0IGNhbiBpbnRlcnBvbGF0ZSBkYXRhIHByb3BlcnRpZXNcbiAqIGluIFwiaW50ZXJwb2xhdGVcIiBkZWxpbWl0ZXJzLCBIVE1MLWVzY2FwZSBpbnRlcnBvbGF0ZWQgZGF0YSBwcm9wZXJ0aWVzIGluXG4gKiBcImVzY2FwZVwiIGRlbGltaXRlcnMsIGFuZCBleGVjdXRlIEphdmFTY3JpcHQgaW4gXCJldmFsdWF0ZVwiIGRlbGltaXRlcnMuIERhdGFcbiAqIHByb3BlcnRpZXMgbWF5IGJlIGFjY2Vzc2VkIGFzIGZyZWUgdmFyaWFibGVzIGluIHRoZSB0ZW1wbGF0ZS4gSWYgYSBzZXR0aW5nXG4gKiBvYmplY3QgaXMgZ2l2ZW4sIGl0IHRha2VzIHByZWNlZGVuY2Ugb3ZlciBgXy50ZW1wbGF0ZVNldHRpbmdzYCB2YWx1ZXMuXG4gKlxuICogKipOb3RlOioqIEluIHRoZSBkZXZlbG9wbWVudCBidWlsZCBgXy50ZW1wbGF0ZWAgdXRpbGl6ZXNcbiAqIFtzb3VyY2VVUkxzXShodHRwOi8vd3d3Lmh0bWw1cm9ja3MuY29tL2VuL3R1dG9yaWFscy9kZXZlbG9wZXJ0b29scy9zb3VyY2VtYXBzLyN0b2Mtc291cmNldXJsKVxuICogZm9yIGVhc2llciBkZWJ1Z2dpbmcuXG4gKlxuICogRm9yIG1vcmUgaW5mb3JtYXRpb24gb24gcHJlY29tcGlsaW5nIHRlbXBsYXRlcyBzZWVcbiAqIFtsb2Rhc2gncyBjdXN0b20gYnVpbGRzIGRvY3VtZW50YXRpb25dKGh0dHBzOi8vbG9kYXNoLmNvbS9jdXN0b20tYnVpbGRzKS5cbiAqXG4gKiBGb3IgbW9yZSBpbmZvcm1hdGlvbiBvbiBDaHJvbWUgZXh0ZW5zaW9uIHNhbmRib3hlcyBzZWVcbiAqIFtDaHJvbWUncyBleHRlbnNpb25zIGRvY3VtZW50YXRpb25dKGh0dHBzOi8vZGV2ZWxvcGVyLmNocm9tZS5jb20vZXh0ZW5zaW9ucy9zYW5kYm94aW5nRXZhbCkuXG4gKlxuICogQHN0YXRpY1xuICogQHNpbmNlIDAuMS4wXG4gKiBAbWVtYmVyT2YgX1xuICogQGNhdGVnb3J5IFN0cmluZ1xuICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSB0ZW1wbGF0ZSBzdHJpbmcuXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIFRoZSBvcHRpb25zIG9iamVjdC5cbiAqIEBwYXJhbSB7UmVnRXhwfSBbb3B0aW9ucy5lc2NhcGU9Xy50ZW1wbGF0ZVNldHRpbmdzLmVzY2FwZV1cbiAqICBUaGUgSFRNTCBcImVzY2FwZVwiIGRlbGltaXRlci5cbiAqIEBwYXJhbSB7UmVnRXhwfSBbb3B0aW9ucy5ldmFsdWF0ZT1fLnRlbXBsYXRlU2V0dGluZ3MuZXZhbHVhdGVdXG4gKiAgVGhlIFwiZXZhbHVhdGVcIiBkZWxpbWl0ZXIuXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMuaW1wb3J0cz1fLnRlbXBsYXRlU2V0dGluZ3MuaW1wb3J0c11cbiAqICBBbiBvYmplY3QgdG8gaW1wb3J0IGludG8gdGhlIHRlbXBsYXRlIGFzIGZyZWUgdmFyaWFibGVzLlxuICogQHBhcmFtIHtSZWdFeHB9IFtvcHRpb25zLmludGVycG9sYXRlPV8udGVtcGxhdGVTZXR0aW5ncy5pbnRlcnBvbGF0ZV1cbiAqICBUaGUgXCJpbnRlcnBvbGF0ZVwiIGRlbGltaXRlci5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5zb3VyY2VVUkw9J3RlbXBsYXRlU291cmNlc1tuXSddXG4gKiAgVGhlIHNvdXJjZVVSTCBvZiB0aGUgY29tcGlsZWQgdGVtcGxhdGUuXG4gKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMudmFyaWFibGU9J29iaiddXG4gKiAgVGhlIGRhdGEgb2JqZWN0IHZhcmlhYmxlIG5hbWUuXG4gKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBjb21waWxlZCB0ZW1wbGF0ZSBmdW5jdGlvbi5cbiAqIEBleGFtcGxlXG4gKlxuICogLy8gVXNlIHRoZSBcImludGVycG9sYXRlXCIgZGVsaW1pdGVyIHRvIGNyZWF0ZSBhIGNvbXBpbGVkIHRlbXBsYXRlLlxuICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnaGVsbG8gPCU9IHVzZXIgJT4hJyk7XG4gKiBjb21waWxlZCh7ICd1c2VyJzogJ2ZyZWQnIH0pO1xuICogLy8gPT4gJ2hlbGxvIGZyZWQhJ1xuICpcbiAqIC8vIFVzZSB0aGUgSFRNTCBcImVzY2FwZVwiIGRlbGltaXRlciB0byBlc2NhcGUgZGF0YSBwcm9wZXJ0eSB2YWx1ZXMuXG4gKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCc8Yj48JS0gdmFsdWUgJT48L2I+Jyk7XG4gKiBjb21waWxlZCh7ICd2YWx1ZSc6ICc8c2NyaXB0PicgfSk7XG4gKiAvLyA9PiAnPGI+Jmx0O3NjcmlwdCZndDs8L2I+J1xuICpcbiAqIC8vIFVzZSB0aGUgXCJldmFsdWF0ZVwiIGRlbGltaXRlciB0byBleGVjdXRlIEphdmFTY3JpcHQgYW5kIGdlbmVyYXRlIEhUTUwuXG4gKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCc8JSBfLmZvckVhY2godXNlcnMsIGZ1bmN0aW9uKHVzZXIpIHsgJT48bGk+PCUtIHVzZXIgJT48L2xpPjwlIH0pOyAlPicpO1xuICogY29tcGlsZWQoeyAndXNlcnMnOiBbJ2ZyZWQnLCAnYmFybmV5J10gfSk7XG4gKiAvLyA9PiAnPGxpPmZyZWQ8L2xpPjxsaT5iYXJuZXk8L2xpPidcbiAqXG4gKiAvLyBVc2UgdGhlIGludGVybmFsIGBwcmludGAgZnVuY3Rpb24gaW4gXCJldmFsdWF0ZVwiIGRlbGltaXRlcnMuXG4gKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCc8JSBwcmludChcImhlbGxvIFwiICsgdXNlcik7ICU+IScpO1xuICogY29tcGlsZWQoeyAndXNlcic6ICdiYXJuZXknIH0pO1xuICogLy8gPT4gJ2hlbGxvIGJhcm5leSEnXG4gKlxuICogLy8gVXNlIHRoZSBFUyB0ZW1wbGF0ZSBsaXRlcmFsIGRlbGltaXRlciBhcyBhbiBcImludGVycG9sYXRlXCIgZGVsaW1pdGVyLlxuICogLy8gRGlzYWJsZSBzdXBwb3J0IGJ5IHJlcGxhY2luZyB0aGUgXCJpbnRlcnBvbGF0ZVwiIGRlbGltaXRlci5cbiAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJ2hlbGxvICR7IHVzZXIgfSEnKTtcbiAqIGNvbXBpbGVkKHsgJ3VzZXInOiAncGViYmxlcycgfSk7XG4gKiAvLyA9PiAnaGVsbG8gcGViYmxlcyEnXG4gKlxuICogLy8gVXNlIGJhY2tzbGFzaGVzIHRvIHRyZWF0IGRlbGltaXRlcnMgYXMgcGxhaW4gdGV4dC5cbiAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJzwlPSBcIlxcXFw8JS0gdmFsdWUgJVxcXFw+XCIgJT4nKTtcbiAqIGNvbXBpbGVkKHsgJ3ZhbHVlJzogJ2lnbm9yZWQnIH0pO1xuICogLy8gPT4gJzwlLSB2YWx1ZSAlPidcbiAqXG4gKiAvLyBVc2UgdGhlIGBpbXBvcnRzYCBvcHRpb24gdG8gaW1wb3J0IGBqUXVlcnlgIGFzIGBqcWAuXG4gKiB2YXIgdGV4dCA9ICc8JSBqcS5lYWNoKHVzZXJzLCBmdW5jdGlvbih1c2VyKSB7ICU+PGxpPjwlLSB1c2VyICU+PC9saT48JSB9KTsgJT4nO1xuICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSh0ZXh0LCB7ICdpbXBvcnRzJzogeyAnanEnOiBqUXVlcnkgfSB9KTtcbiAqIGNvbXBpbGVkKHsgJ3VzZXJzJzogWydmcmVkJywgJ2Jhcm5leSddIH0pO1xuICogLy8gPT4gJzxsaT5mcmVkPC9saT48bGk+YmFybmV5PC9saT4nXG4gKlxuICogLy8gVXNlIHRoZSBgc291cmNlVVJMYCBvcHRpb24gdG8gc3BlY2lmeSBhIGN1c3RvbSBzb3VyY2VVUkwgZm9yIHRoZSB0ZW1wbGF0ZS5cbiAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJ2hlbGxvIDwlPSB1c2VyICU+IScsIHsgJ3NvdXJjZVVSTCc6ICcvYmFzaWMvZ3JlZXRpbmcuanN0JyB9KTtcbiAqIGNvbXBpbGVkKGRhdGEpO1xuICogLy8gPT4gRmluZCB0aGUgc291cmNlIG9mIFwiZ3JlZXRpbmcuanN0XCIgdW5kZXIgdGhlIFNvdXJjZXMgdGFiIG9yIFJlc291cmNlcyBwYW5lbCBvZiB0aGUgd2ViIGluc3BlY3Rvci5cbiAqXG4gKiAvLyBVc2UgdGhlIGB2YXJpYWJsZWAgb3B0aW9uIHRvIGVuc3VyZSBhIHdpdGgtc3RhdGVtZW50IGlzbid0IHVzZWQgaW4gdGhlIGNvbXBpbGVkIHRlbXBsYXRlLlxuICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnaGkgPCU9IGRhdGEudXNlciAlPiEnLCB7ICd2YXJpYWJsZSc6ICdkYXRhJyB9KTtcbiAqIGNvbXBpbGVkLnNvdXJjZTtcbiAqIC8vID0+IGZ1bmN0aW9uKGRhdGEpIHtcbiAqIC8vICAgdmFyIF9fdCwgX19wID0gJyc7XG4gKiAvLyAgIF9fcCArPSAnaGkgJyArICgoX190ID0gKCBkYXRhLnVzZXIgKSkgPT0gbnVsbCA/ICcnIDogX190KSArICchJztcbiAqIC8vICAgcmV0dXJuIF9fcDtcbiAqIC8vIH1cbiAqXG4gKiAvLyBVc2UgY3VzdG9tIHRlbXBsYXRlIGRlbGltaXRlcnMuXG4gKiBfLnRlbXBsYXRlU2V0dGluZ3MuaW50ZXJwb2xhdGUgPSAve3soW1xcc1xcU10rPyl9fS9nO1xuICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnaGVsbG8ge3sgdXNlciB9fSEnKTtcbiAqIGNvbXBpbGVkKHsgJ3VzZXInOiAnbXVzdGFjaGUnIH0pO1xuICogLy8gPT4gJ2hlbGxvIG11c3RhY2hlISdcbiAqXG4gKiAvLyBVc2UgdGhlIGBzb3VyY2VgIHByb3BlcnR5IHRvIGlubGluZSBjb21waWxlZCB0ZW1wbGF0ZXMgZm9yIG1lYW5pbmdmdWxcbiAqIC8vIGxpbmUgbnVtYmVycyBpbiBlcnJvciBtZXNzYWdlcyBhbmQgc3RhY2sgdHJhY2VzLlxuICogZnMud3JpdGVGaWxlU3luYyhwYXRoLmpvaW4ocHJvY2Vzcy5jd2QoKSwgJ2pzdC5qcycpLCAnXFxcbiAqICAgdmFyIEpTVCA9IHtcXFxuICogICAgIFwibWFpblwiOiAnICsgXy50ZW1wbGF0ZShtYWluVGV4dCkuc291cmNlICsgJ1xcXG4gKiAgIH07XFxcbiAqICcpO1xuICovXG5mdW5jdGlvbiB0ZW1wbGF0ZShzdHJpbmcsIG9wdGlvbnMsIGd1YXJkKSB7XG4gIC8vIEJhc2VkIG9uIEpvaG4gUmVzaWcncyBgdG1wbGAgaW1wbGVtZW50YXRpb25cbiAgLy8gKGh0dHA6Ly9lam9obi5vcmcvYmxvZy9qYXZhc2NyaXB0LW1pY3JvLXRlbXBsYXRpbmcvKVxuICAvLyBhbmQgTGF1cmEgRG9rdG9yb3ZhJ3MgZG9ULmpzIChodHRwczovL2dpdGh1Yi5jb20vb2xhZG8vZG9UKS5cbiAgdmFyIHNldHRpbmdzID0gdGVtcGxhdGVTZXR0aW5ncy5pbXBvcnRzLl8udGVtcGxhdGVTZXR0aW5ncyB8fCB0ZW1wbGF0ZVNldHRpbmdzO1xuXG4gIGlmIChndWFyZCAmJiBpc0l0ZXJhdGVlQ2FsbChzdHJpbmcsIG9wdGlvbnMsIGd1YXJkKSkge1xuICAgIG9wdGlvbnMgPSB1bmRlZmluZWQ7XG4gIH1cbiAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgb3B0aW9ucyA9IGFzc2lnbkluV2l0aCh7fSwgb3B0aW9ucywgc2V0dGluZ3MsIGN1c3RvbURlZmF1bHRzQXNzaWduSW4pO1xuXG4gIHZhciBpbXBvcnRzID0gYXNzaWduSW5XaXRoKHt9LCBvcHRpb25zLmltcG9ydHMsIHNldHRpbmdzLmltcG9ydHMsIGN1c3RvbURlZmF1bHRzQXNzaWduSW4pLFxuICAgICAgaW1wb3J0c0tleXMgPSBrZXlzKGltcG9ydHMpLFxuICAgICAgaW1wb3J0c1ZhbHVlcyA9IGJhc2VWYWx1ZXMoaW1wb3J0cywgaW1wb3J0c0tleXMpO1xuXG4gIHZhciBpc0VzY2FwaW5nLFxuICAgICAgaXNFdmFsdWF0aW5nLFxuICAgICAgaW5kZXggPSAwLFxuICAgICAgaW50ZXJwb2xhdGUgPSBvcHRpb25zLmludGVycG9sYXRlIHx8IHJlTm9NYXRjaCxcbiAgICAgIHNvdXJjZSA9IFwiX19wICs9ICdcIjtcblxuICAvLyBDb21waWxlIHRoZSByZWdleHAgdG8gbWF0Y2ggZWFjaCBkZWxpbWl0ZXIuXG4gIHZhciByZURlbGltaXRlcnMgPSBSZWdFeHAoXG4gICAgKG9wdGlvbnMuZXNjYXBlIHx8IHJlTm9NYXRjaCkuc291cmNlICsgJ3wnICtcbiAgICBpbnRlcnBvbGF0ZS5zb3VyY2UgKyAnfCcgK1xuICAgIChpbnRlcnBvbGF0ZSA9PT0gcmVJbnRlcnBvbGF0ZSA/IHJlRXNUZW1wbGF0ZSA6IHJlTm9NYXRjaCkuc291cmNlICsgJ3wnICtcbiAgICAob3B0aW9ucy5ldmFsdWF0ZSB8fCByZU5vTWF0Y2gpLnNvdXJjZSArICd8JCdcbiAgLCAnZycpO1xuXG4gIC8vIFVzZSBhIHNvdXJjZVVSTCBmb3IgZWFzaWVyIGRlYnVnZ2luZy5cbiAgLy8gVGhlIHNvdXJjZVVSTCBnZXRzIGluamVjdGVkIGludG8gdGhlIHNvdXJjZSB0aGF0J3MgZXZhbC1lZCwgc28gYmUgY2FyZWZ1bFxuICAvLyB0byBub3JtYWxpemUgYWxsIGtpbmRzIG9mIHdoaXRlc3BhY2UsIHNvIGUuZy4gbmV3bGluZXMgKGFuZCB1bmljb2RlIHZlcnNpb25zIG9mIGl0KSBjYW4ndCBzbmVhayBpblxuICAvLyBhbmQgZXNjYXBlIHRoZSBjb21tZW50LCB0aHVzIGluamVjdGluZyBjb2RlIHRoYXQgZ2V0cyBldmFsZWQuXG4gIHZhciBzb3VyY2VVUkwgPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKG9wdGlvbnMsICdzb3VyY2VVUkwnKVxuICAgID8gKCcvLyMgc291cmNlVVJMPScgK1xuICAgICAgIChvcHRpb25zLnNvdXJjZVVSTCArICcnKS5yZXBsYWNlKC9cXHMvZywgJyAnKSArXG4gICAgICAgJ1xcbicpXG4gICAgOiAnJztcblxuICBzdHJpbmcucmVwbGFjZShyZURlbGltaXRlcnMsIGZ1bmN0aW9uKG1hdGNoLCBlc2NhcGVWYWx1ZSwgaW50ZXJwb2xhdGVWYWx1ZSwgZXNUZW1wbGF0ZVZhbHVlLCBldmFsdWF0ZVZhbHVlLCBvZmZzZXQpIHtcbiAgICBpbnRlcnBvbGF0ZVZhbHVlIHx8IChpbnRlcnBvbGF0ZVZhbHVlID0gZXNUZW1wbGF0ZVZhbHVlKTtcblxuICAgIC8vIEVzY2FwZSBjaGFyYWN0ZXJzIHRoYXQgY2FuJ3QgYmUgaW5jbHVkZWQgaW4gc3RyaW5nIGxpdGVyYWxzLlxuICAgIHNvdXJjZSArPSBzdHJpbmcuc2xpY2UoaW5kZXgsIG9mZnNldCkucmVwbGFjZShyZVVuZXNjYXBlZFN0cmluZywgZXNjYXBlU3RyaW5nQ2hhcik7XG5cbiAgICAvLyBSZXBsYWNlIGRlbGltaXRlcnMgd2l0aCBzbmlwcGV0cy5cbiAgICBpZiAoZXNjYXBlVmFsdWUpIHtcbiAgICAgIGlzRXNjYXBpbmcgPSB0cnVlO1xuICAgICAgc291cmNlICs9IFwiJyArXFxuX19lKFwiICsgZXNjYXBlVmFsdWUgKyBcIikgK1xcbidcIjtcbiAgICB9XG4gICAgaWYgKGV2YWx1YXRlVmFsdWUpIHtcbiAgICAgIGlzRXZhbHVhdGluZyA9IHRydWU7XG4gICAgICBzb3VyY2UgKz0gXCInO1xcblwiICsgZXZhbHVhdGVWYWx1ZSArIFwiO1xcbl9fcCArPSAnXCI7XG4gICAgfVxuICAgIGlmIChpbnRlcnBvbGF0ZVZhbHVlKSB7XG4gICAgICBzb3VyY2UgKz0gXCInICtcXG4oKF9fdCA9IChcIiArIGludGVycG9sYXRlVmFsdWUgKyBcIikpID09IG51bGwgPyAnJyA6IF9fdCkgK1xcbidcIjtcbiAgICB9XG4gICAgaW5kZXggPSBvZmZzZXQgKyBtYXRjaC5sZW5ndGg7XG5cbiAgICAvLyBUaGUgSlMgZW5naW5lIGVtYmVkZGVkIGluIEFkb2JlIHByb2R1Y3RzIG5lZWRzIGBtYXRjaGAgcmV0dXJuZWQgaW5cbiAgICAvLyBvcmRlciB0byBwcm9kdWNlIHRoZSBjb3JyZWN0IGBvZmZzZXRgIHZhbHVlLlxuICAgIHJldHVybiBtYXRjaDtcbiAgfSk7XG5cbiAgc291cmNlICs9IFwiJztcXG5cIjtcblxuICAvLyBJZiBgdmFyaWFibGVgIGlzIG5vdCBzcGVjaWZpZWQgd3JhcCBhIHdpdGgtc3RhdGVtZW50IGFyb3VuZCB0aGUgZ2VuZXJhdGVkXG4gIC8vIGNvZGUgdG8gYWRkIHRoZSBkYXRhIG9iamVjdCB0byB0aGUgdG9wIG9mIHRoZSBzY29wZSBjaGFpbi5cbiAgdmFyIHZhcmlhYmxlID0gaGFzT3duUHJvcGVydHkuY2FsbChvcHRpb25zLCAndmFyaWFibGUnKSAmJiBvcHRpb25zLnZhcmlhYmxlO1xuICBpZiAoIXZhcmlhYmxlKSB7XG4gICAgc291cmNlID0gJ3dpdGggKG9iaikge1xcbicgKyBzb3VyY2UgKyAnXFxufVxcbic7XG4gIH1cbiAgLy8gVGhyb3cgYW4gZXJyb3IgaWYgYSBmb3JiaWRkZW4gY2hhcmFjdGVyIHdhcyBmb3VuZCBpbiBgdmFyaWFibGVgLCB0byBwcmV2ZW50XG4gIC8vIHBvdGVudGlhbCBjb21tYW5kIGluamVjdGlvbiBhdHRhY2tzLlxuICBlbHNlIGlmIChyZUZvcmJpZGRlbklkZW50aWZpZXJDaGFycy50ZXN0KHZhcmlhYmxlKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihJTlZBTElEX1RFTVBMX1ZBUl9FUlJPUl9URVhUKTtcbiAgfVxuXG4gIC8vIENsZWFudXAgY29kZSBieSBzdHJpcHBpbmcgZW1wdHkgc3RyaW5ncy5cbiAgc291cmNlID0gKGlzRXZhbHVhdGluZyA/IHNvdXJjZS5yZXBsYWNlKHJlRW1wdHlTdHJpbmdMZWFkaW5nLCAnJykgOiBzb3VyY2UpXG4gICAgLnJlcGxhY2UocmVFbXB0eVN0cmluZ01pZGRsZSwgJyQxJylcbiAgICAucmVwbGFjZShyZUVtcHR5U3RyaW5nVHJhaWxpbmcsICckMTsnKTtcblxuICAvLyBGcmFtZSBjb2RlIGFzIHRoZSBmdW5jdGlvbiBib2R5LlxuICBzb3VyY2UgPSAnZnVuY3Rpb24oJyArICh2YXJpYWJsZSB8fCAnb2JqJykgKyAnKSB7XFxuJyArXG4gICAgKHZhcmlhYmxlXG4gICAgICA/ICcnXG4gICAgICA6ICdvYmogfHwgKG9iaiA9IHt9KTtcXG4nXG4gICAgKSArXG4gICAgXCJ2YXIgX190LCBfX3AgPSAnJ1wiICtcbiAgICAoaXNFc2NhcGluZ1xuICAgICAgID8gJywgX19lID0gXy5lc2NhcGUnXG4gICAgICAgOiAnJ1xuICAgICkgK1xuICAgIChpc0V2YWx1YXRpbmdcbiAgICAgID8gJywgX19qID0gQXJyYXkucHJvdG90eXBlLmpvaW47XFxuJyArXG4gICAgICAgIFwiZnVuY3Rpb24gcHJpbnQoKSB7IF9fcCArPSBfX2ouY2FsbChhcmd1bWVudHMsICcnKSB9XFxuXCJcbiAgICAgIDogJztcXG4nXG4gICAgKSArXG4gICAgc291cmNlICtcbiAgICAncmV0dXJuIF9fcFxcbn0nO1xuXG4gIHZhciByZXN1bHQgPSBhdHRlbXB0KGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBGdW5jdGlvbihpbXBvcnRzS2V5cywgc291cmNlVVJMICsgJ3JldHVybiAnICsgc291cmNlKVxuICAgICAgLmFwcGx5KHVuZGVmaW5lZCwgaW1wb3J0c1ZhbHVlcyk7XG4gIH0pO1xuXG4gIC8vIFByb3ZpZGUgdGhlIGNvbXBpbGVkIGZ1bmN0aW9uJ3Mgc291cmNlIGJ5IGl0cyBgdG9TdHJpbmdgIG1ldGhvZCBvclxuICAvLyB0aGUgYHNvdXJjZWAgcHJvcGVydHkgYXMgYSBjb252ZW5pZW5jZSBmb3IgaW5saW5pbmcgY29tcGlsZWQgdGVtcGxhdGVzLlxuICByZXN1bHQuc291cmNlID0gc291cmNlO1xuICBpZiAoaXNFcnJvcihyZXN1bHQpKSB7XG4gICAgdGhyb3cgcmVzdWx0O1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gdGVtcGxhdGU7XG4iLCAiJ3VzZSBzdHJpY3QnXG5cbmNvbnN0IGRhcmdzID0gcmVxdWlyZSgnZGFyZ3MnKVxuY29uc3QgZXhlY0ZpbGUgPSByZXF1aXJlKCdjaGlsZF9wcm9jZXNzJykuZXhlY0ZpbGVcbmNvbnN0IHNwbGl0ID0gcmVxdWlyZSgnc3BsaXQyJylcbmNvbnN0IHN0cmVhbSA9IHJlcXVpcmUoJ3N0cmVhbScpXG5jb25zdCB0ZW1wbGF0ZSA9IHJlcXVpcmUoJ2xvZGFzaC90ZW1wbGF0ZScpXG5jb25zdCB0aHJvdWdoID0gcmVxdWlyZSgndGhyb3VnaDInKVxuXG5jb25zdCBERUxJTUlURVIgPSAnLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tID44IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSdcblxuZnVuY3Rpb24gbm9ybWFsaXplRXhlY09wdHMgKGV4ZWNPcHRzKSB7XG4gIGV4ZWNPcHRzID0gZXhlY09wdHMgfHwge31cbiAgZXhlY09wdHMuY3dkID0gZXhlY09wdHMuY3dkIHx8IHByb2Nlc3MuY3dkKClcbiAgcmV0dXJuIGV4ZWNPcHRzXG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZUdpdE9wdHMgKGdpdE9wdHMpIHtcbiAgZ2l0T3B0cyA9IGdpdE9wdHMgfHwge31cbiAgZ2l0T3B0cy5mb3JtYXQgPSBnaXRPcHRzLmZvcm1hdCB8fCAnJUInXG4gIGdpdE9wdHMuZnJvbSA9IGdpdE9wdHMuZnJvbSB8fCAnJ1xuICBnaXRPcHRzLnRvID0gZ2l0T3B0cy50byB8fCAnSEVBRCdcbiAgcmV0dXJuIGdpdE9wdHNcbn1cblxuZnVuY3Rpb24gZ2V0R2l0QXJncyAoZ2l0T3B0cykge1xuICBjb25zdCBnaXRGb3JtYXQgPSB0ZW1wbGF0ZSgnLS1mb3JtYXQ9PCU9IGZvcm1hdCAlPiVuJyArIERFTElNSVRFUikoZ2l0T3B0cylcbiAgY29uc3QgZ2l0RnJvbVRvID0gW2dpdE9wdHMuZnJvbSwgZ2l0T3B0cy50b10uZmlsdGVyKEJvb2xlYW4pLmpvaW4oJy4uJylcblxuICBjb25zdCBnaXRBcmdzID0gWydsb2cnLCBnaXRGb3JtYXQsIGdpdEZyb21Ub11cbiAgICAuY29uY2F0KGRhcmdzKGdpdE9wdHMsIHtcbiAgICAgIGV4Y2x1ZGVzOiBbJ2RlYnVnJywgJ2Zyb20nLCAndG8nLCAnZm9ybWF0JywgJ3BhdGgnXVxuICAgIH0pKVxuXG4gIC8vIGFsbG93IGNvbW1pdHMgdG8gZm9jdXMgb24gYSBzaW5nbGUgZGlyZWN0b3J5XG4gIC8vIHRoaXMgaXMgdXNlZnVsIGZvciBtb25vcmVwb3MuXG4gIGlmIChnaXRPcHRzLnBhdGgpIHtcbiAgICBnaXRBcmdzLnB1c2goJy0tJywgZ2l0T3B0cy5wYXRoKVxuICB9XG5cbiAgcmV0dXJuIGdpdEFyZ3Ncbn1cblxuZnVuY3Rpb24gZ2l0UmF3Q29tbWl0cyAocmF3R2l0T3B0cywgcmF3RXhlY09wdHMpIHtcbiAgY29uc3QgcmVhZGFibGUgPSBuZXcgc3RyZWFtLlJlYWRhYmxlKClcbiAgcmVhZGFibGUuX3JlYWQgPSBmdW5jdGlvbiAoKSB7fVxuXG4gIGNvbnN0IGdpdE9wdHMgPSBub3JtYWxpemVHaXRPcHRzKHJhd0dpdE9wdHMpXG4gIGNvbnN0IGV4ZWNPcHRzID0gbm9ybWFsaXplRXhlY09wdHMocmF3RXhlY09wdHMpXG4gIGNvbnN0IGFyZ3MgPSBnZXRHaXRBcmdzKGdpdE9wdHMpXG5cbiAgaWYgKGdpdE9wdHMuZGVidWcpIHtcbiAgICBnaXRPcHRzLmRlYnVnKCdZb3VyIGdpdC1sb2cgY29tbWFuZCBpczpcXG5naXQgJyArIGFyZ3Muam9pbignICcpKVxuICB9XG5cbiAgbGV0IGlzRXJyb3IgPSBmYWxzZVxuXG4gIGNvbnN0IGNoaWxkID0gZXhlY0ZpbGUoJ2dpdCcsIGFyZ3MsIHtcbiAgICBjd2Q6IGV4ZWNPcHRzLmN3ZCxcbiAgICBtYXhCdWZmZXI6IEluZmluaXR5XG4gIH0pXG5cbiAgY2hpbGQuc3Rkb3V0XG4gICAgLnBpcGUoc3BsaXQoREVMSU1JVEVSICsgJ1xcbicpKVxuICAgIC5waXBlKHRocm91Z2goZnVuY3Rpb24gKGNodW5rLCBlbmMsIGNiKSB7XG4gICAgICByZWFkYWJsZS5wdXNoKGNodW5rKVxuICAgICAgaXNFcnJvciA9IGZhbHNlXG5cbiAgICAgIGNiKClcbiAgICB9LCBmdW5jdGlvbiAoY2IpIHtcbiAgICAgIHNldEltbWVkaWF0ZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghaXNFcnJvcikge1xuICAgICAgICAgIHJlYWRhYmxlLnB1c2gobnVsbClcbiAgICAgICAgICByZWFkYWJsZS5lbWl0KCdjbG9zZScpXG4gICAgICAgIH1cblxuICAgICAgICBjYigpXG4gICAgICB9KVxuICAgIH0pKVxuXG4gIGNoaWxkLnN0ZGVyclxuICAgIC5waXBlKHRocm91Z2gub2JqKGZ1bmN0aW9uIChjaHVuaykge1xuICAgICAgaXNFcnJvciA9IHRydWVcbiAgICAgIHJlYWRhYmxlLmVtaXQoJ2Vycm9yJywgbmV3IEVycm9yKGNodW5rKSlcbiAgICAgIHJlYWRhYmxlLmVtaXQoJ2Nsb3NlJylcbiAgICB9KSlcblxuICByZXR1cm4gcmVhZGFibGVcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBnaXRSYXdDb21taXRzXG4iLCAiLy8gdmltOnRzPTQ6c3RzPTQ6c3c9NDpcbi8qIVxuICpcbiAqIENvcHlyaWdodCAyMDA5LTIwMTcgS3JpcyBLb3dhbCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1JVFxuICogbGljZW5zZSBmb3VuZCBhdCBodHRwczovL2dpdGh1Yi5jb20va3Jpc2tvd2FsL3EvYmxvYi92MS9MSUNFTlNFXG4gKlxuICogV2l0aCBwYXJ0cyBieSBUeWxlciBDbG9zZVxuICogQ29weXJpZ2h0IDIwMDctMjAwOSBUeWxlciBDbG9zZSB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1JVCBYIGxpY2Vuc2UgZm91bmRcbiAqIGF0IGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UuaHRtbFxuICogRm9ya2VkIGF0IHJlZl9zZW5kLmpzIHZlcnNpb246IDIwMDktMDUtMTFcbiAqXG4gKiBXaXRoIHBhcnRzIGJ5IE1hcmsgTWlsbGVyXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTEgR29vZ2xlIEluYy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cblxuKGZ1bmN0aW9uIChkZWZpbml0aW9uKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgICAvLyBUaGlzIGZpbGUgd2lsbCBmdW5jdGlvbiBwcm9wZXJseSBhcyBhIDxzY3JpcHQ+IHRhZywgb3IgYSBtb2R1bGVcbiAgICAvLyB1c2luZyBDb21tb25KUyBhbmQgTm9kZUpTIG9yIFJlcXVpcmVKUyBtb2R1bGUgZm9ybWF0cy4gIEluXG4gICAgLy8gQ29tbW9uL05vZGUvUmVxdWlyZUpTLCB0aGUgbW9kdWxlIGV4cG9ydHMgdGhlIFEgQVBJIGFuZCB3aGVuXG4gICAgLy8gZXhlY3V0ZWQgYXMgYSBzaW1wbGUgPHNjcmlwdD4sIGl0IGNyZWF0ZXMgYSBRIGdsb2JhbCBpbnN0ZWFkLlxuXG4gICAgLy8gTW9udGFnZSBSZXF1aXJlXG4gICAgaWYgKHR5cGVvZiBib290c3RyYXAgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBib290c3RyYXAoXCJwcm9taXNlXCIsIGRlZmluaXRpb24pO1xuXG4gICAgLy8gQ29tbW9uSlNcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBtb2R1bGUgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBkZWZpbml0aW9uKCk7XG5cbiAgICAvLyBSZXF1aXJlSlNcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kKSB7XG4gICAgICAgIGRlZmluZShkZWZpbml0aW9uKTtcblxuICAgIC8vIFNFUyAoU2VjdXJlIEVjbWFTY3JpcHQpXG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygc2VzICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIGlmICghc2VzLm9rKCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNlcy5tYWtlUSA9IGRlZmluaXRpb247XG4gICAgICAgIH1cblxuICAgIC8vIDxzY3JpcHQ+XG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiIHx8IHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIC8vIFByZWZlciB3aW5kb3cgb3ZlciBzZWxmIGZvciBhZGQtb24gc2NyaXB0cy4gVXNlIHNlbGYgZm9yXG4gICAgICAgIC8vIG5vbi13aW5kb3dlZCBjb250ZXh0cy5cbiAgICAgICAgdmFyIGdsb2JhbCA9IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiBzZWxmO1xuXG4gICAgICAgIC8vIEdldCB0aGUgYHdpbmRvd2Agb2JqZWN0LCBzYXZlIHRoZSBwcmV2aW91cyBRIGdsb2JhbFxuICAgICAgICAvLyBhbmQgaW5pdGlhbGl6ZSBRIGFzIGEgZ2xvYmFsLlxuICAgICAgICB2YXIgcHJldmlvdXNRID0gZ2xvYmFsLlE7XG4gICAgICAgIGdsb2JhbC5RID0gZGVmaW5pdGlvbigpO1xuXG4gICAgICAgIC8vIEFkZCBhIG5vQ29uZmxpY3QgZnVuY3Rpb24gc28gUSBjYW4gYmUgcmVtb3ZlZCBmcm9tIHRoZVxuICAgICAgICAvLyBnbG9iYWwgbmFtZXNwYWNlLlxuICAgICAgICBnbG9iYWwuUS5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZ2xvYmFsLlEgPSBwcmV2aW91c1E7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfTtcblxuICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoaXMgZW52aXJvbm1lbnQgd2FzIG5vdCBhbnRpY2lwYXRlZCBieSBRLiBQbGVhc2UgZmlsZSBhIGJ1Zy5cIik7XG4gICAgfVxuXG59KShmdW5jdGlvbiAoKSB7XG5cInVzZSBzdHJpY3RcIjtcblxudmFyIGhhc1N0YWNrcyA9IGZhbHNlO1xudHJ5IHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoKTtcbn0gY2F0Y2ggKGUpIHtcbiAgICBoYXNTdGFja3MgPSAhIWUuc3RhY2s7XG59XG5cbi8vIEFsbCBjb2RlIGFmdGVyIHRoaXMgcG9pbnQgd2lsbCBiZSBmaWx0ZXJlZCBmcm9tIHN0YWNrIHRyYWNlcyByZXBvcnRlZFxuLy8gYnkgUS5cbnZhciBxU3RhcnRpbmdMaW5lID0gY2FwdHVyZUxpbmUoKTtcbnZhciBxRmlsZU5hbWU7XG5cbi8vIHNoaW1zXG5cbi8vIHVzZWQgZm9yIGZhbGxiYWNrIGluIFwiYWxsUmVzb2x2ZWRcIlxudmFyIG5vb3AgPSBmdW5jdGlvbiAoKSB7fTtcblxuLy8gVXNlIHRoZSBmYXN0ZXN0IHBvc3NpYmxlIG1lYW5zIHRvIGV4ZWN1dGUgYSB0YXNrIGluIGEgZnV0dXJlIHR1cm5cbi8vIG9mIHRoZSBldmVudCBsb29wLlxudmFyIG5leHRUaWNrID0oZnVuY3Rpb24gKCkge1xuICAgIC8vIGxpbmtlZCBsaXN0IG9mIHRhc2tzIChzaW5nbGUsIHdpdGggaGVhZCBub2RlKVxuICAgIHZhciBoZWFkID0ge3Rhc2s6IHZvaWQgMCwgbmV4dDogbnVsbH07XG4gICAgdmFyIHRhaWwgPSBoZWFkO1xuICAgIHZhciBmbHVzaGluZyA9IGZhbHNlO1xuICAgIHZhciByZXF1ZXN0VGljayA9IHZvaWQgMDtcbiAgICB2YXIgaXNOb2RlSlMgPSBmYWxzZTtcbiAgICAvLyBxdWV1ZSBmb3IgbGF0ZSB0YXNrcywgdXNlZCBieSB1bmhhbmRsZWQgcmVqZWN0aW9uIHRyYWNraW5nXG4gICAgdmFyIGxhdGVyUXVldWUgPSBbXTtcblxuICAgIGZ1bmN0aW9uIGZsdXNoKCkge1xuICAgICAgICAvKiBqc2hpbnQgbG9vcGZ1bmM6IHRydWUgKi9cbiAgICAgICAgdmFyIHRhc2ssIGRvbWFpbjtcblxuICAgICAgICB3aGlsZSAoaGVhZC5uZXh0KSB7XG4gICAgICAgICAgICBoZWFkID0gaGVhZC5uZXh0O1xuICAgICAgICAgICAgdGFzayA9IGhlYWQudGFzaztcbiAgICAgICAgICAgIGhlYWQudGFzayA9IHZvaWQgMDtcbiAgICAgICAgICAgIGRvbWFpbiA9IGhlYWQuZG9tYWluO1xuXG4gICAgICAgICAgICBpZiAoZG9tYWluKSB7XG4gICAgICAgICAgICAgICAgaGVhZC5kb21haW4gPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgZG9tYWluLmVudGVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBydW5TaW5nbGUodGFzaywgZG9tYWluKTtcblxuICAgICAgICB9XG4gICAgICAgIHdoaWxlIChsYXRlclF1ZXVlLmxlbmd0aCkge1xuICAgICAgICAgICAgdGFzayA9IGxhdGVyUXVldWUucG9wKCk7XG4gICAgICAgICAgICBydW5TaW5nbGUodGFzayk7XG4gICAgICAgIH1cbiAgICAgICAgZmx1c2hpbmcgPSBmYWxzZTtcbiAgICB9XG4gICAgLy8gcnVucyBhIHNpbmdsZSBmdW5jdGlvbiBpbiB0aGUgYXN5bmMgcXVldWVcbiAgICBmdW5jdGlvbiBydW5TaW5nbGUodGFzaywgZG9tYWluKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0YXNrKCk7XG5cbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgaWYgKGlzTm9kZUpTKSB7XG4gICAgICAgICAgICAgICAgLy8gSW4gbm9kZSwgdW5jYXVnaHQgZXhjZXB0aW9ucyBhcmUgY29uc2lkZXJlZCBmYXRhbCBlcnJvcnMuXG4gICAgICAgICAgICAgICAgLy8gUmUtdGhyb3cgdGhlbSBzeW5jaHJvbm91c2x5IHRvIGludGVycnVwdCBmbHVzaGluZyFcblxuICAgICAgICAgICAgICAgIC8vIEVuc3VyZSBjb250aW51YXRpb24gaWYgdGhlIHVuY2F1Z2h0IGV4Y2VwdGlvbiBpcyBzdXBwcmVzc2VkXG4gICAgICAgICAgICAgICAgLy8gbGlzdGVuaW5nIFwidW5jYXVnaHRFeGNlcHRpb25cIiBldmVudHMgKGFzIGRvbWFpbnMgZG9lcykuXG4gICAgICAgICAgICAgICAgLy8gQ29udGludWUgaW4gbmV4dCBldmVudCB0byBhdm9pZCB0aWNrIHJlY3Vyc2lvbi5cbiAgICAgICAgICAgICAgICBpZiAoZG9tYWluKSB7XG4gICAgICAgICAgICAgICAgICAgIGRvbWFpbi5leGl0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZmx1c2gsIDApO1xuICAgICAgICAgICAgICAgIGlmIChkb21haW4pIHtcbiAgICAgICAgICAgICAgICAgICAgZG9tYWluLmVudGVyKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhyb3cgZTtcblxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBJbiBicm93c2VycywgdW5jYXVnaHQgZXhjZXB0aW9ucyBhcmUgbm90IGZhdGFsLlxuICAgICAgICAgICAgICAgIC8vIFJlLXRocm93IHRoZW0gYXN5bmNocm9ub3VzbHkgdG8gYXZvaWQgc2xvdy1kb3ducy5cbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkb21haW4pIHtcbiAgICAgICAgICAgIGRvbWFpbi5leGl0KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBuZXh0VGljayA9IGZ1bmN0aW9uICh0YXNrKSB7XG4gICAgICAgIHRhaWwgPSB0YWlsLm5leHQgPSB7XG4gICAgICAgICAgICB0YXNrOiB0YXNrLFxuICAgICAgICAgICAgZG9tYWluOiBpc05vZGVKUyAmJiBwcm9jZXNzLmRvbWFpbixcbiAgICAgICAgICAgIG5leHQ6IG51bGxcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoIWZsdXNoaW5nKSB7XG4gICAgICAgICAgICBmbHVzaGluZyA9IHRydWU7XG4gICAgICAgICAgICByZXF1ZXN0VGljaygpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGlmICh0eXBlb2YgcHJvY2VzcyA9PT0gXCJvYmplY3RcIiAmJlxuICAgICAgICBwcm9jZXNzLnRvU3RyaW5nKCkgPT09IFwiW29iamVjdCBwcm9jZXNzXVwiICYmIHByb2Nlc3MubmV4dFRpY2spIHtcbiAgICAgICAgLy8gRW5zdXJlIFEgaXMgaW4gYSByZWFsIE5vZGUgZW52aXJvbm1lbnQsIHdpdGggYSBgcHJvY2Vzcy5uZXh0VGlja2AuXG4gICAgICAgIC8vIFRvIHNlZSB0aHJvdWdoIGZha2UgTm9kZSBlbnZpcm9ubWVudHM6XG4gICAgICAgIC8vICogTW9jaGEgdGVzdCBydW5uZXIgLSBleHBvc2VzIGEgYHByb2Nlc3NgIGdsb2JhbCB3aXRob3V0IGEgYG5leHRUaWNrYFxuICAgICAgICAvLyAqIEJyb3dzZXJpZnkgLSBleHBvc2VzIGEgYHByb2Nlc3MubmV4VGlja2AgZnVuY3Rpb24gdGhhdCB1c2VzXG4gICAgICAgIC8vICAgYHNldFRpbWVvdXRgLiBJbiB0aGlzIGNhc2UgYHNldEltbWVkaWF0ZWAgaXMgcHJlZmVycmVkIGJlY2F1c2VcbiAgICAgICAgLy8gICAgaXQgaXMgZmFzdGVyLiBCcm93c2VyaWZ5J3MgYHByb2Nlc3MudG9TdHJpbmcoKWAgeWllbGRzXG4gICAgICAgIC8vICAgXCJbb2JqZWN0IE9iamVjdF1cIiwgd2hpbGUgaW4gYSByZWFsIE5vZGUgZW52aXJvbm1lbnRcbiAgICAgICAgLy8gICBgcHJvY2Vzcy50b1N0cmluZygpYCB5aWVsZHMgXCJbb2JqZWN0IHByb2Nlc3NdXCIuXG4gICAgICAgIGlzTm9kZUpTID0gdHJ1ZTtcblxuICAgICAgICByZXF1ZXN0VGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHByb2Nlc3MubmV4dFRpY2soZmx1c2gpO1xuICAgICAgICB9O1xuXG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygc2V0SW1tZWRpYXRlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgLy8gSW4gSUUxMCwgTm9kZS5qcyAwLjkrLCBvciBodHRwczovL2dpdGh1Yi5jb20vTm9ibGVKUy9zZXRJbW1lZGlhdGVcbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIHJlcXVlc3RUaWNrID0gc2V0SW1tZWRpYXRlLmJpbmQod2luZG93LCBmbHVzaCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXF1ZXN0VGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBzZXRJbW1lZGlhdGUoZmx1c2gpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgTWVzc2FnZUNoYW5uZWwgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgLy8gbW9kZXJuIGJyb3dzZXJzXG4gICAgICAgIC8vIGh0dHA6Ly93d3cubm9uYmxvY2tpbmcuaW8vMjAxMS8wNi93aW5kb3duZXh0dGljay5odG1sXG4gICAgICAgIHZhciBjaGFubmVsID0gbmV3IE1lc3NhZ2VDaGFubmVsKCk7XG4gICAgICAgIC8vIEF0IGxlYXN0IFNhZmFyaSBWZXJzaW9uIDYuMC41ICg4NTM2LjMwLjEpIGludGVybWl0dGVudGx5IGNhbm5vdCBjcmVhdGVcbiAgICAgICAgLy8gd29ya2luZyBtZXNzYWdlIHBvcnRzIHRoZSBmaXJzdCB0aW1lIGEgcGFnZSBsb2Fkcy5cbiAgICAgICAgY2hhbm5lbC5wb3J0MS5vbm1lc3NhZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXF1ZXN0VGljayA9IHJlcXVlc3RQb3J0VGljaztcbiAgICAgICAgICAgIGNoYW5uZWwucG9ydDEub25tZXNzYWdlID0gZmx1c2g7XG4gICAgICAgICAgICBmbHVzaCgpO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgcmVxdWVzdFBvcnRUaWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gT3BlcmEgcmVxdWlyZXMgdXMgdG8gcHJvdmlkZSBhIG1lc3NhZ2UgcGF5bG9hZCwgcmVnYXJkbGVzcyBvZlxuICAgICAgICAgICAgLy8gd2hldGhlciB3ZSB1c2UgaXQuXG4gICAgICAgICAgICBjaGFubmVsLnBvcnQyLnBvc3RNZXNzYWdlKDApO1xuICAgICAgICB9O1xuICAgICAgICByZXF1ZXN0VGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZmx1c2gsIDApO1xuICAgICAgICAgICAgcmVxdWVzdFBvcnRUaWNrKCk7XG4gICAgICAgIH07XG5cbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBvbGQgYnJvd3NlcnNcbiAgICAgICAgcmVxdWVzdFRpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZsdXNoLCAwKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLy8gcnVucyBhIHRhc2sgYWZ0ZXIgYWxsIG90aGVyIHRhc2tzIGhhdmUgYmVlbiBydW5cbiAgICAvLyB0aGlzIGlzIHVzZWZ1bCBmb3IgdW5oYW5kbGVkIHJlamVjdGlvbiB0cmFja2luZyB0aGF0IG5lZWRzIHRvIGhhcHBlblxuICAgIC8vIGFmdGVyIGFsbCBgdGhlbmBkIHRhc2tzIGhhdmUgYmVlbiBydW4uXG4gICAgbmV4dFRpY2sucnVuQWZ0ZXIgPSBmdW5jdGlvbiAodGFzaykge1xuICAgICAgICBsYXRlclF1ZXVlLnB1c2godGFzayk7XG4gICAgICAgIGlmICghZmx1c2hpbmcpIHtcbiAgICAgICAgICAgIGZsdXNoaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIHJlcXVlc3RUaWNrKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBuZXh0VGljaztcbn0pKCk7XG5cbi8vIEF0dGVtcHQgdG8gbWFrZSBnZW5lcmljcyBzYWZlIGluIHRoZSBmYWNlIG9mIGRvd25zdHJlYW1cbi8vIG1vZGlmaWNhdGlvbnMuXG4vLyBUaGVyZSBpcyBubyBzaXR1YXRpb24gd2hlcmUgdGhpcyBpcyBuZWNlc3NhcnkuXG4vLyBJZiB5b3UgbmVlZCBhIHNlY3VyaXR5IGd1YXJhbnRlZSwgdGhlc2UgcHJpbW9yZGlhbHMgbmVlZCB0byBiZVxuLy8gZGVlcGx5IGZyb3plbiBhbnl3YXksIGFuZCBpZiB5b3UgZG9uXHUyMDE5dCBuZWVkIGEgc2VjdXJpdHkgZ3VhcmFudGVlLFxuLy8gdGhpcyBpcyBqdXN0IHBsYWluIHBhcmFub2lkLlxuLy8gSG93ZXZlciwgdGhpcyAqKm1pZ2h0KiogaGF2ZSB0aGUgbmljZSBzaWRlLWVmZmVjdCBvZiByZWR1Y2luZyB0aGUgc2l6ZSBvZlxuLy8gdGhlIG1pbmlmaWVkIGNvZGUgYnkgcmVkdWNpbmcgeC5jYWxsKCkgdG8gbWVyZWx5IHgoKVxuLy8gU2VlIE1hcmsgTWlsbGVyXHUyMDE5cyBleHBsYW5hdGlvbiBvZiB3aGF0IHRoaXMgZG9lcy5cbi8vIGh0dHA6Ly93aWtpLmVjbWFzY3JpcHQub3JnL2Rva3UucGhwP2lkPWNvbnZlbnRpb25zOnNhZmVfbWV0YV9wcm9ncmFtbWluZ1xudmFyIGNhbGwgPSBGdW5jdGlvbi5jYWxsO1xuZnVuY3Rpb24gdW5jdXJyeVRoaXMoZikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBjYWxsLmFwcGx5KGYsIGFyZ3VtZW50cyk7XG4gICAgfTtcbn1cbi8vIFRoaXMgaXMgZXF1aXZhbGVudCwgYnV0IHNsb3dlcjpcbi8vIHVuY3VycnlUaGlzID0gRnVuY3Rpb25fYmluZC5iaW5kKEZ1bmN0aW9uX2JpbmQuY2FsbCk7XG4vLyBodHRwOi8vanNwZXJmLmNvbS91bmN1cnJ5dGhpc1xuXG52YXIgYXJyYXlfc2xpY2UgPSB1bmN1cnJ5VGhpcyhBcnJheS5wcm90b3R5cGUuc2xpY2UpO1xuXG52YXIgYXJyYXlfcmVkdWNlID0gdW5jdXJyeVRoaXMoXG4gICAgQXJyYXkucHJvdG90eXBlLnJlZHVjZSB8fCBmdW5jdGlvbiAoY2FsbGJhY2ssIGJhc2lzKSB7XG4gICAgICAgIHZhciBpbmRleCA9IDAsXG4gICAgICAgICAgICBsZW5ndGggPSB0aGlzLmxlbmd0aDtcbiAgICAgICAgLy8gY29uY2VybmluZyB0aGUgaW5pdGlhbCB2YWx1ZSwgaWYgb25lIGlzIG5vdCBwcm92aWRlZFxuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgLy8gc2VlayB0byB0aGUgZmlyc3QgdmFsdWUgaW4gdGhlIGFycmF5LCBhY2NvdW50aW5nXG4gICAgICAgICAgICAvLyBmb3IgdGhlIHBvc3NpYmlsaXR5IHRoYXQgaXMgaXMgYSBzcGFyc2UgYXJyYXlcbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggaW4gdGhpcykge1xuICAgICAgICAgICAgICAgICAgICBiYXNpcyA9IHRoaXNbaW5kZXgrK107XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoKytpbmRleCA+PSBsZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gd2hpbGUgKDEpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHJlZHVjZVxuICAgICAgICBmb3IgKDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgIC8vIGFjY291bnQgZm9yIHRoZSBwb3NzaWJpbGl0eSB0aGF0IHRoZSBhcnJheSBpcyBzcGFyc2VcbiAgICAgICAgICAgIGlmIChpbmRleCBpbiB0aGlzKSB7XG4gICAgICAgICAgICAgICAgYmFzaXMgPSBjYWxsYmFjayhiYXNpcywgdGhpc1tpbmRleF0sIGluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYmFzaXM7XG4gICAgfVxuKTtcblxudmFyIGFycmF5X2luZGV4T2YgPSB1bmN1cnJ5VGhpcyhcbiAgICBBcnJheS5wcm90b3R5cGUuaW5kZXhPZiB8fCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgLy8gbm90IGEgdmVyeSBnb29kIHNoaW0sIGJ1dCBnb29kIGVub3VnaCBmb3Igb3VyIG9uZSB1c2Ugb2YgaXRcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAodGhpc1tpXSA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gLTE7XG4gICAgfVxuKTtcblxudmFyIGFycmF5X21hcCA9IHVuY3VycnlUaGlzKFxuICAgIEFycmF5LnByb3RvdHlwZS5tYXAgfHwgZnVuY3Rpb24gKGNhbGxiYWNrLCB0aGlzcCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHZhciBjb2xsZWN0ID0gW107XG4gICAgICAgIGFycmF5X3JlZHVjZShzZWxmLCBmdW5jdGlvbiAodW5kZWZpbmVkLCB2YWx1ZSwgaW5kZXgpIHtcbiAgICAgICAgICAgIGNvbGxlY3QucHVzaChjYWxsYmFjay5jYWxsKHRoaXNwLCB2YWx1ZSwgaW5kZXgsIHNlbGYpKTtcbiAgICAgICAgfSwgdm9pZCAwKTtcbiAgICAgICAgcmV0dXJuIGNvbGxlY3Q7XG4gICAgfVxuKTtcblxudmFyIG9iamVjdF9jcmVhdGUgPSBPYmplY3QuY3JlYXRlIHx8IGZ1bmN0aW9uIChwcm90b3R5cGUpIHtcbiAgICBmdW5jdGlvbiBUeXBlKCkgeyB9XG4gICAgVHlwZS5wcm90b3R5cGUgPSBwcm90b3R5cGU7XG4gICAgcmV0dXJuIG5ldyBUeXBlKCk7XG59O1xuXG52YXIgb2JqZWN0X2RlZmluZVByb3BlcnR5ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5IHx8IGZ1bmN0aW9uIChvYmosIHByb3AsIGRlc2NyaXB0b3IpIHtcbiAgICBvYmpbcHJvcF0gPSBkZXNjcmlwdG9yLnZhbHVlO1xuICAgIHJldHVybiBvYmo7XG59O1xuXG52YXIgb2JqZWN0X2hhc093blByb3BlcnR5ID0gdW5jdXJyeVRoaXMoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSk7XG5cbnZhciBvYmplY3Rfa2V5cyA9IE9iamVjdC5rZXlzIHx8IGZ1bmN0aW9uIChvYmplY3QpIHtcbiAgICB2YXIga2V5cyA9IFtdO1xuICAgIGZvciAodmFyIGtleSBpbiBvYmplY3QpIHtcbiAgICAgICAgaWYgKG9iamVjdF9oYXNPd25Qcm9wZXJ0eShvYmplY3QsIGtleSkpIHtcbiAgICAgICAgICAgIGtleXMucHVzaChrZXkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBrZXlzO1xufTtcblxudmFyIG9iamVjdF90b1N0cmluZyA9IHVuY3VycnlUaGlzKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcpO1xuXG5mdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gT2JqZWN0KHZhbHVlKTtcbn1cblxuLy8gZ2VuZXJhdG9yIHJlbGF0ZWQgc2hpbXNcblxuLy8gRklYTUU6IFJlbW92ZSB0aGlzIGZ1bmN0aW9uIG9uY2UgRVM2IGdlbmVyYXRvcnMgYXJlIGluIFNwaWRlck1vbmtleS5cbmZ1bmN0aW9uIGlzU3RvcEl0ZXJhdGlvbihleGNlcHRpb24pIHtcbiAgICByZXR1cm4gKFxuICAgICAgICBvYmplY3RfdG9TdHJpbmcoZXhjZXB0aW9uKSA9PT0gXCJbb2JqZWN0IFN0b3BJdGVyYXRpb25dXCIgfHxcbiAgICAgICAgZXhjZXB0aW9uIGluc3RhbmNlb2YgUVJldHVyblZhbHVlXG4gICAgKTtcbn1cblxuLy8gRklYTUU6IFJlbW92ZSB0aGlzIGhlbHBlciBhbmQgUS5yZXR1cm4gb25jZSBFUzYgZ2VuZXJhdG9ycyBhcmUgaW5cbi8vIFNwaWRlck1vbmtleS5cbnZhciBRUmV0dXJuVmFsdWU7XG5pZiAodHlwZW9mIFJldHVyblZhbHVlICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgUVJldHVyblZhbHVlID0gUmV0dXJuVmFsdWU7XG59IGVsc2Uge1xuICAgIFFSZXR1cm5WYWx1ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgfTtcbn1cblxuLy8gbG9uZyBzdGFjayB0cmFjZXNcblxudmFyIFNUQUNLX0pVTVBfU0VQQVJBVE9SID0gXCJGcm9tIHByZXZpb3VzIGV2ZW50OlwiO1xuXG5mdW5jdGlvbiBtYWtlU3RhY2tUcmFjZUxvbmcoZXJyb3IsIHByb21pc2UpIHtcbiAgICAvLyBJZiBwb3NzaWJsZSwgdHJhbnNmb3JtIHRoZSBlcnJvciBzdGFjayB0cmFjZSBieSByZW1vdmluZyBOb2RlIGFuZCBRXG4gICAgLy8gY3J1ZnQsIHRoZW4gY29uY2F0ZW5hdGluZyB3aXRoIHRoZSBzdGFjayB0cmFjZSBvZiBgcHJvbWlzZWAuIFNlZSAjNTcuXG4gICAgaWYgKGhhc1N0YWNrcyAmJlxuICAgICAgICBwcm9taXNlLnN0YWNrICYmXG4gICAgICAgIHR5cGVvZiBlcnJvciA9PT0gXCJvYmplY3RcIiAmJlxuICAgICAgICBlcnJvciAhPT0gbnVsbCAmJlxuICAgICAgICBlcnJvci5zdGFja1xuICAgICkge1xuICAgICAgICB2YXIgc3RhY2tzID0gW107XG4gICAgICAgIGZvciAodmFyIHAgPSBwcm9taXNlOyAhIXA7IHAgPSBwLnNvdXJjZSkge1xuICAgICAgICAgICAgaWYgKHAuc3RhY2sgJiYgKCFlcnJvci5fX21pbmltdW1TdGFja0NvdW50ZXJfXyB8fCBlcnJvci5fX21pbmltdW1TdGFja0NvdW50ZXJfXyA+IHAuc3RhY2tDb3VudGVyKSkge1xuICAgICAgICAgICAgICAgIG9iamVjdF9kZWZpbmVQcm9wZXJ0eShlcnJvciwgXCJfX21pbmltdW1TdGFja0NvdW50ZXJfX1wiLCB7dmFsdWU6IHAuc3RhY2tDb3VudGVyLCBjb25maWd1cmFibGU6IHRydWV9KTtcbiAgICAgICAgICAgICAgICBzdGFja3MudW5zaGlmdChwLnN0YWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzdGFja3MudW5zaGlmdChlcnJvci5zdGFjayk7XG5cbiAgICAgICAgdmFyIGNvbmNhdGVkU3RhY2tzID0gc3RhY2tzLmpvaW4oXCJcXG5cIiArIFNUQUNLX0pVTVBfU0VQQVJBVE9SICsgXCJcXG5cIik7XG4gICAgICAgIHZhciBzdGFjayA9IGZpbHRlclN0YWNrU3RyaW5nKGNvbmNhdGVkU3RhY2tzKTtcbiAgICAgICAgb2JqZWN0X2RlZmluZVByb3BlcnR5KGVycm9yLCBcInN0YWNrXCIsIHt2YWx1ZTogc3RhY2ssIGNvbmZpZ3VyYWJsZTogdHJ1ZX0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZmlsdGVyU3RhY2tTdHJpbmcoc3RhY2tTdHJpbmcpIHtcbiAgICB2YXIgbGluZXMgPSBzdGFja1N0cmluZy5zcGxpdChcIlxcblwiKTtcbiAgICB2YXIgZGVzaXJlZExpbmVzID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7ICsraSkge1xuICAgICAgICB2YXIgbGluZSA9IGxpbmVzW2ldO1xuXG4gICAgICAgIGlmICghaXNJbnRlcm5hbEZyYW1lKGxpbmUpICYmICFpc05vZGVGcmFtZShsaW5lKSAmJiBsaW5lKSB7XG4gICAgICAgICAgICBkZXNpcmVkTGluZXMucHVzaChsaW5lKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZGVzaXJlZExpbmVzLmpvaW4oXCJcXG5cIik7XG59XG5cbmZ1bmN0aW9uIGlzTm9kZUZyYW1lKHN0YWNrTGluZSkge1xuICAgIHJldHVybiBzdGFja0xpbmUuaW5kZXhPZihcIihtb2R1bGUuanM6XCIpICE9PSAtMSB8fFxuICAgICAgICAgICBzdGFja0xpbmUuaW5kZXhPZihcIihub2RlLmpzOlwiKSAhPT0gLTE7XG59XG5cbmZ1bmN0aW9uIGdldEZpbGVOYW1lQW5kTGluZU51bWJlcihzdGFja0xpbmUpIHtcbiAgICAvLyBOYW1lZCBmdW5jdGlvbnM6IFwiYXQgZnVuY3Rpb25OYW1lIChmaWxlbmFtZTpsaW5lTnVtYmVyOmNvbHVtbk51bWJlcilcIlxuICAgIC8vIEluIElFMTAgZnVuY3Rpb24gbmFtZSBjYW4gaGF2ZSBzcGFjZXMgKFwiQW5vbnltb3VzIGZ1bmN0aW9uXCIpIE9fb1xuICAgIHZhciBhdHRlbXB0MSA9IC9hdCAuKyBcXCgoLispOihcXGQrKTooPzpcXGQrKVxcKSQvLmV4ZWMoc3RhY2tMaW5lKTtcbiAgICBpZiAoYXR0ZW1wdDEpIHtcbiAgICAgICAgcmV0dXJuIFthdHRlbXB0MVsxXSwgTnVtYmVyKGF0dGVtcHQxWzJdKV07XG4gICAgfVxuXG4gICAgLy8gQW5vbnltb3VzIGZ1bmN0aW9uczogXCJhdCBmaWxlbmFtZTpsaW5lTnVtYmVyOmNvbHVtbk51bWJlclwiXG4gICAgdmFyIGF0dGVtcHQyID0gL2F0IChbXiBdKyk6KFxcZCspOig/OlxcZCspJC8uZXhlYyhzdGFja0xpbmUpO1xuICAgIGlmIChhdHRlbXB0Mikge1xuICAgICAgICByZXR1cm4gW2F0dGVtcHQyWzFdLCBOdW1iZXIoYXR0ZW1wdDJbMl0pXTtcbiAgICB9XG5cbiAgICAvLyBGaXJlZm94IHN0eWxlOiBcImZ1bmN0aW9uQGZpbGVuYW1lOmxpbmVOdW1iZXIgb3IgQGZpbGVuYW1lOmxpbmVOdW1iZXJcIlxuICAgIHZhciBhdHRlbXB0MyA9IC8uKkAoLispOihcXGQrKSQvLmV4ZWMoc3RhY2tMaW5lKTtcbiAgICBpZiAoYXR0ZW1wdDMpIHtcbiAgICAgICAgcmV0dXJuIFthdHRlbXB0M1sxXSwgTnVtYmVyKGF0dGVtcHQzWzJdKV07XG4gICAgfVxufVxuXG5mdW5jdGlvbiBpc0ludGVybmFsRnJhbWUoc3RhY2tMaW5lKSB7XG4gICAgdmFyIGZpbGVOYW1lQW5kTGluZU51bWJlciA9IGdldEZpbGVOYW1lQW5kTGluZU51bWJlcihzdGFja0xpbmUpO1xuXG4gICAgaWYgKCFmaWxlTmFtZUFuZExpbmVOdW1iZXIpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHZhciBmaWxlTmFtZSA9IGZpbGVOYW1lQW5kTGluZU51bWJlclswXTtcbiAgICB2YXIgbGluZU51bWJlciA9IGZpbGVOYW1lQW5kTGluZU51bWJlclsxXTtcblxuICAgIHJldHVybiBmaWxlTmFtZSA9PT0gcUZpbGVOYW1lICYmXG4gICAgICAgIGxpbmVOdW1iZXIgPj0gcVN0YXJ0aW5nTGluZSAmJlxuICAgICAgICBsaW5lTnVtYmVyIDw9IHFFbmRpbmdMaW5lO1xufVxuXG4vLyBkaXNjb3ZlciBvd24gZmlsZSBuYW1lIGFuZCBsaW5lIG51bWJlciByYW5nZSBmb3IgZmlsdGVyaW5nIHN0YWNrXG4vLyB0cmFjZXNcbmZ1bmN0aW9uIGNhcHR1cmVMaW5lKCkge1xuICAgIGlmICghaGFzU3RhY2tzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHZhciBsaW5lcyA9IGUuc3RhY2suc3BsaXQoXCJcXG5cIik7XG4gICAgICAgIHZhciBmaXJzdExpbmUgPSBsaW5lc1swXS5pbmRleE9mKFwiQFwiKSA+IDAgPyBsaW5lc1sxXSA6IGxpbmVzWzJdO1xuICAgICAgICB2YXIgZmlsZU5hbWVBbmRMaW5lTnVtYmVyID0gZ2V0RmlsZU5hbWVBbmRMaW5lTnVtYmVyKGZpcnN0TGluZSk7XG4gICAgICAgIGlmICghZmlsZU5hbWVBbmRMaW5lTnVtYmVyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBxRmlsZU5hbWUgPSBmaWxlTmFtZUFuZExpbmVOdW1iZXJbMF07XG4gICAgICAgIHJldHVybiBmaWxlTmFtZUFuZExpbmVOdW1iZXJbMV07XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkZXByZWNhdGUoY2FsbGJhY2ssIG5hbWUsIGFsdGVybmF0aXZlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBjb25zb2xlICE9PSBcInVuZGVmaW5lZFwiICYmXG4gICAgICAgICAgICB0eXBlb2YgY29uc29sZS53YXJuID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihuYW1lICsgXCIgaXMgZGVwcmVjYXRlZCwgdXNlIFwiICsgYWx0ZXJuYXRpdmUgK1xuICAgICAgICAgICAgICAgICAgICAgICAgIFwiIGluc3RlYWQuXCIsIG5ldyBFcnJvcihcIlwiKS5zdGFjayk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrLmFwcGx5KGNhbGxiYWNrLCBhcmd1bWVudHMpO1xuICAgIH07XG59XG5cbi8vIGVuZCBvZiBzaGltc1xuLy8gYmVnaW5uaW5nIG9mIHJlYWwgd29ya1xuXG4vKipcbiAqIENvbnN0cnVjdHMgYSBwcm9taXNlIGZvciBhbiBpbW1lZGlhdGUgcmVmZXJlbmNlLCBwYXNzZXMgcHJvbWlzZXMgdGhyb3VnaCwgb3JcbiAqIGNvZXJjZXMgcHJvbWlzZXMgZnJvbSBkaWZmZXJlbnQgc3lzdGVtcy5cbiAqIEBwYXJhbSB2YWx1ZSBpbW1lZGlhdGUgcmVmZXJlbmNlIG9yIHByb21pc2VcbiAqL1xuZnVuY3Rpb24gUSh2YWx1ZSkge1xuICAgIC8vIElmIHRoZSBvYmplY3QgaXMgYWxyZWFkeSBhIFByb21pc2UsIHJldHVybiBpdCBkaXJlY3RseS4gIFRoaXMgZW5hYmxlc1xuICAgIC8vIHRoZSByZXNvbHZlIGZ1bmN0aW9uIHRvIGJvdGggYmUgdXNlZCB0byBjcmVhdGVkIHJlZmVyZW5jZXMgZnJvbSBvYmplY3RzLFxuICAgIC8vIGJ1dCB0byB0b2xlcmFibHkgY29lcmNlIG5vbi1wcm9taXNlcyB0byBwcm9taXNlcy5cbiAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICAvLyBhc3NpbWlsYXRlIHRoZW5hYmxlc1xuICAgIGlmIChpc1Byb21pc2VBbGlrZSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGNvZXJjZSh2YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZ1bGZpbGwodmFsdWUpO1xuICAgIH1cbn1cblEucmVzb2x2ZSA9IFE7XG5cbi8qKlxuICogUGVyZm9ybXMgYSB0YXNrIGluIGEgZnV0dXJlIHR1cm4gb2YgdGhlIGV2ZW50IGxvb3AuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSB0YXNrXG4gKi9cblEubmV4dFRpY2sgPSBuZXh0VGljaztcblxuLyoqXG4gKiBDb250cm9scyB3aGV0aGVyIG9yIG5vdCBsb25nIHN0YWNrIHRyYWNlcyB3aWxsIGJlIG9uXG4gKi9cblEubG9uZ1N0YWNrU3VwcG9ydCA9IGZhbHNlO1xuXG4vKipcbiAqIFRoZSBjb3VudGVyIGlzIHVzZWQgdG8gZGV0ZXJtaW5lIHRoZSBzdG9wcGluZyBwb2ludCBmb3IgYnVpbGRpbmdcbiAqIGxvbmcgc3RhY2sgdHJhY2VzLiBJbiBtYWtlU3RhY2tUcmFjZUxvbmcgd2Ugd2FsayBiYWNrd2FyZHMgdGhyb3VnaFxuICogdGhlIGxpbmtlZCBsaXN0IG9mIHByb21pc2VzLCBvbmx5IHN0YWNrcyB3aGljaCB3ZXJlIGNyZWF0ZWQgYmVmb3JlXG4gKiB0aGUgcmVqZWN0aW9uIGFyZSBjb25jYXRlbmF0ZWQuXG4gKi9cbnZhciBsb25nU3RhY2tDb3VudGVyID0gMTtcblxuLy8gZW5hYmxlIGxvbmcgc3RhY2tzIGlmIFFfREVCVUcgaXMgc2V0XG5pZiAodHlwZW9mIHByb2Nlc3MgPT09IFwib2JqZWN0XCIgJiYgcHJvY2VzcyAmJiBwcm9jZXNzLmVudiAmJiBwcm9jZXNzLmVudi5RX0RFQlVHKSB7XG4gICAgUS5sb25nU3RhY2tTdXBwb3J0ID0gdHJ1ZTtcbn1cblxuLyoqXG4gKiBDb25zdHJ1Y3RzIGEge3Byb21pc2UsIHJlc29sdmUsIHJlamVjdH0gb2JqZWN0LlxuICpcbiAqIGByZXNvbHZlYCBpcyBhIGNhbGxiYWNrIHRvIGludm9rZSB3aXRoIGEgbW9yZSByZXNvbHZlZCB2YWx1ZSBmb3IgdGhlXG4gKiBwcm9taXNlLiBUbyBmdWxmaWxsIHRoZSBwcm9taXNlLCBpbnZva2UgYHJlc29sdmVgIHdpdGggYW55IHZhbHVlIHRoYXQgaXNcbiAqIG5vdCBhIHRoZW5hYmxlLiBUbyByZWplY3QgdGhlIHByb21pc2UsIGludm9rZSBgcmVzb2x2ZWAgd2l0aCBhIHJlamVjdGVkXG4gKiB0aGVuYWJsZSwgb3IgaW52b2tlIGByZWplY3RgIHdpdGggdGhlIHJlYXNvbiBkaXJlY3RseS4gVG8gcmVzb2x2ZSB0aGVcbiAqIHByb21pc2UgdG8gYW5vdGhlciB0aGVuYWJsZSwgdGh1cyBwdXR0aW5nIGl0IGluIHRoZSBzYW1lIHN0YXRlLCBpbnZva2VcbiAqIGByZXNvbHZlYCB3aXRoIHRoYXQgb3RoZXIgdGhlbmFibGUuXG4gKi9cblEuZGVmZXIgPSBkZWZlcjtcbmZ1bmN0aW9uIGRlZmVyKCkge1xuICAgIC8vIGlmIFwibWVzc2FnZXNcIiBpcyBhbiBcIkFycmF5XCIsIHRoYXQgaW5kaWNhdGVzIHRoYXQgdGhlIHByb21pc2UgaGFzIG5vdCB5ZXRcbiAgICAvLyBiZWVuIHJlc29sdmVkLiAgSWYgaXQgaXMgXCJ1bmRlZmluZWRcIiwgaXQgaGFzIGJlZW4gcmVzb2x2ZWQuICBFYWNoXG4gICAgLy8gZWxlbWVudCBvZiB0aGUgbWVzc2FnZXMgYXJyYXkgaXMgaXRzZWxmIGFuIGFycmF5IG9mIGNvbXBsZXRlIGFyZ3VtZW50cyB0b1xuICAgIC8vIGZvcndhcmQgdG8gdGhlIHJlc29sdmVkIHByb21pc2UuICBXZSBjb2VyY2UgdGhlIHJlc29sdXRpb24gdmFsdWUgdG8gYVxuICAgIC8vIHByb21pc2UgdXNpbmcgdGhlIGByZXNvbHZlYCBmdW5jdGlvbiBiZWNhdXNlIGl0IGhhbmRsZXMgYm90aCBmdWxseVxuICAgIC8vIG5vbi10aGVuYWJsZSB2YWx1ZXMgYW5kIG90aGVyIHRoZW5hYmxlcyBncmFjZWZ1bGx5LlxuICAgIHZhciBtZXNzYWdlcyA9IFtdLCBwcm9ncmVzc0xpc3RlbmVycyA9IFtdLCByZXNvbHZlZFByb21pc2U7XG5cbiAgICB2YXIgZGVmZXJyZWQgPSBvYmplY3RfY3JlYXRlKGRlZmVyLnByb3RvdHlwZSk7XG4gICAgdmFyIHByb21pc2UgPSBvYmplY3RfY3JlYXRlKFByb21pc2UucHJvdG90eXBlKTtcblxuICAgIHByb21pc2UucHJvbWlzZURpc3BhdGNoID0gZnVuY3Rpb24gKHJlc29sdmUsIG9wLCBvcGVyYW5kcykge1xuICAgICAgICB2YXIgYXJncyA9IGFycmF5X3NsaWNlKGFyZ3VtZW50cyk7XG4gICAgICAgIGlmIChtZXNzYWdlcykge1xuICAgICAgICAgICAgbWVzc2FnZXMucHVzaChhcmdzKTtcbiAgICAgICAgICAgIGlmIChvcCA9PT0gXCJ3aGVuXCIgJiYgb3BlcmFuZHNbMV0pIHsgLy8gcHJvZ3Jlc3Mgb3BlcmFuZFxuICAgICAgICAgICAgICAgIHByb2dyZXNzTGlzdGVuZXJzLnB1c2gob3BlcmFuZHNbMV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgUS5uZXh0VGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZWRQcm9taXNlLnByb21pc2VEaXNwYXRjaC5hcHBseShyZXNvbHZlZFByb21pc2UsIGFyZ3MpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gWFhYIGRlcHJlY2F0ZWRcbiAgICBwcm9taXNlLnZhbHVlT2YgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChtZXNzYWdlcykge1xuICAgICAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG5lYXJlclZhbHVlID0gbmVhcmVyKHJlc29sdmVkUHJvbWlzZSk7XG4gICAgICAgIGlmIChpc1Byb21pc2UobmVhcmVyVmFsdWUpKSB7XG4gICAgICAgICAgICByZXNvbHZlZFByb21pc2UgPSBuZWFyZXJWYWx1ZTsgLy8gc2hvcnRlbiBjaGFpblxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZWFyZXJWYWx1ZTtcbiAgICB9O1xuXG4gICAgcHJvbWlzZS5pbnNwZWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXJlc29sdmVkUHJvbWlzZSkge1xuICAgICAgICAgICAgcmV0dXJuIHsgc3RhdGU6IFwicGVuZGluZ1wiIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc29sdmVkUHJvbWlzZS5pbnNwZWN0KCk7XG4gICAgfTtcblxuICAgIGlmIChRLmxvbmdTdGFja1N1cHBvcnQgJiYgaGFzU3RhY2tzKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgLy8gTk9URTogZG9uJ3QgdHJ5IHRvIHVzZSBgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2VgIG9yIHRyYW5zZmVyIHRoZVxuICAgICAgICAgICAgLy8gYWNjZXNzb3IgYXJvdW5kOyB0aGF0IGNhdXNlcyBtZW1vcnkgbGVha3MgYXMgcGVyIEdILTExMS4gSnVzdFxuICAgICAgICAgICAgLy8gcmVpZnkgdGhlIHN0YWNrIHRyYWNlIGFzIGEgc3RyaW5nIEFTQVAuXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gQXQgdGhlIHNhbWUgdGltZSwgY3V0IG9mZiB0aGUgZmlyc3QgbGluZTsgaXQncyBhbHdheXMganVzdFxuICAgICAgICAgICAgLy8gXCJbb2JqZWN0IFByb21pc2VdXFxuXCIsIGFzIHBlciB0aGUgYHRvU3RyaW5nYC5cbiAgICAgICAgICAgIHByb21pc2Uuc3RhY2sgPSBlLnN0YWNrLnN1YnN0cmluZyhlLnN0YWNrLmluZGV4T2YoXCJcXG5cIikgKyAxKTtcbiAgICAgICAgICAgIHByb21pc2Uuc3RhY2tDb3VudGVyID0gbG9uZ1N0YWNrQ291bnRlcisrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gTk9URTogd2UgZG8gdGhlIGNoZWNrcyBmb3IgYHJlc29sdmVkUHJvbWlzZWAgaW4gZWFjaCBtZXRob2QsIGluc3RlYWQgb2ZcbiAgICAvLyBjb25zb2xpZGF0aW5nIHRoZW0gaW50byBgYmVjb21lYCwgc2luY2Ugb3RoZXJ3aXNlIHdlJ2QgY3JlYXRlIG5ld1xuICAgIC8vIHByb21pc2VzIHdpdGggdGhlIGxpbmVzIGBiZWNvbWUod2hhdGV2ZXIodmFsdWUpKWAuIFNlZSBlLmcuIEdILTI1Mi5cblxuICAgIGZ1bmN0aW9uIGJlY29tZShuZXdQcm9taXNlKSB7XG4gICAgICAgIHJlc29sdmVkUHJvbWlzZSA9IG5ld1Byb21pc2U7XG5cbiAgICAgICAgaWYgKFEubG9uZ1N0YWNrU3VwcG9ydCAmJiBoYXNTdGFja3MpIHtcbiAgICAgICAgICAgIC8vIE9ubHkgaG9sZCBhIHJlZmVyZW5jZSB0byB0aGUgbmV3IHByb21pc2UgaWYgbG9uZyBzdGFja3NcbiAgICAgICAgICAgIC8vIGFyZSBlbmFibGVkIHRvIHJlZHVjZSBtZW1vcnkgdXNhZ2VcbiAgICAgICAgICAgIHByb21pc2Uuc291cmNlID0gbmV3UHJvbWlzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGFycmF5X3JlZHVjZShtZXNzYWdlcywgZnVuY3Rpb24gKHVuZGVmaW5lZCwgbWVzc2FnZSkge1xuICAgICAgICAgICAgUS5uZXh0VGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgbmV3UHJvbWlzZS5wcm9taXNlRGlzcGF0Y2guYXBwbHkobmV3UHJvbWlzZSwgbWVzc2FnZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgdm9pZCAwKTtcblxuICAgICAgICBtZXNzYWdlcyA9IHZvaWQgMDtcbiAgICAgICAgcHJvZ3Jlc3NMaXN0ZW5lcnMgPSB2b2lkIDA7XG4gICAgfVxuXG4gICAgZGVmZXJyZWQucHJvbWlzZSA9IHByb21pc2U7XG4gICAgZGVmZXJyZWQucmVzb2x2ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAocmVzb2x2ZWRQcm9taXNlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBiZWNvbWUoUSh2YWx1ZSkpO1xuICAgIH07XG5cbiAgICBkZWZlcnJlZC5mdWxmaWxsID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmIChyZXNvbHZlZFByb21pc2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGJlY29tZShmdWxmaWxsKHZhbHVlKSk7XG4gICAgfTtcbiAgICBkZWZlcnJlZC5yZWplY3QgPSBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICAgIGlmIChyZXNvbHZlZFByb21pc2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGJlY29tZShyZWplY3QocmVhc29uKSk7XG4gICAgfTtcbiAgICBkZWZlcnJlZC5ub3RpZnkgPSBmdW5jdGlvbiAocHJvZ3Jlc3MpIHtcbiAgICAgICAgaWYgKHJlc29sdmVkUHJvbWlzZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgYXJyYXlfcmVkdWNlKHByb2dyZXNzTGlzdGVuZXJzLCBmdW5jdGlvbiAodW5kZWZpbmVkLCBwcm9ncmVzc0xpc3RlbmVyKSB7XG4gICAgICAgICAgICBRLm5leHRUaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBwcm9ncmVzc0xpc3RlbmVyKHByb2dyZXNzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCB2b2lkIDApO1xuICAgIH07XG5cbiAgICByZXR1cm4gZGVmZXJyZWQ7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIE5vZGUtc3R5bGUgY2FsbGJhY2sgdGhhdCB3aWxsIHJlc29sdmUgb3IgcmVqZWN0IHRoZSBkZWZlcnJlZFxuICogcHJvbWlzZS5cbiAqIEByZXR1cm5zIGEgbm9kZWJhY2tcbiAqL1xuZGVmZXIucHJvdG90eXBlLm1ha2VOb2RlUmVzb2x2ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHJldHVybiBmdW5jdGlvbiAoZXJyb3IsIHZhbHVlKSB7XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgc2VsZi5yZWplY3QoZXJyb3IpO1xuICAgICAgICB9IGVsc2UgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAyKSB7XG4gICAgICAgICAgICBzZWxmLnJlc29sdmUoYXJyYXlfc2xpY2UoYXJndW1lbnRzLCAxKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZWxmLnJlc29sdmUodmFsdWUpO1xuICAgICAgICB9XG4gICAgfTtcbn07XG5cbi8qKlxuICogQHBhcmFtIHJlc29sdmVyIHtGdW5jdGlvbn0gYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgbm90aGluZyBhbmQgYWNjZXB0c1xuICogdGhlIHJlc29sdmUsIHJlamVjdCwgYW5kIG5vdGlmeSBmdW5jdGlvbnMgZm9yIGEgZGVmZXJyZWQuXG4gKiBAcmV0dXJucyBhIHByb21pc2UgdGhhdCBtYXkgYmUgcmVzb2x2ZWQgd2l0aCB0aGUgZ2l2ZW4gcmVzb2x2ZSBhbmQgcmVqZWN0XG4gKiBmdW5jdGlvbnMsIG9yIHJlamVjdGVkIGJ5IGEgdGhyb3duIGV4Y2VwdGlvbiBpbiByZXNvbHZlclxuICovXG5RLlByb21pc2UgPSBwcm9taXNlOyAvLyBFUzZcblEucHJvbWlzZSA9IHByb21pc2U7XG5mdW5jdGlvbiBwcm9taXNlKHJlc29sdmVyKSB7XG4gICAgaWYgKHR5cGVvZiByZXNvbHZlciAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJyZXNvbHZlciBtdXN0IGJlIGEgZnVuY3Rpb24uXCIpO1xuICAgIH1cbiAgICB2YXIgZGVmZXJyZWQgPSBkZWZlcigpO1xuICAgIHRyeSB7XG4gICAgICAgIHJlc29sdmVyKGRlZmVycmVkLnJlc29sdmUsIGRlZmVycmVkLnJlamVjdCwgZGVmZXJyZWQubm90aWZ5KTtcbiAgICB9IGNhdGNoIChyZWFzb24pIHtcbiAgICAgICAgZGVmZXJyZWQucmVqZWN0KHJlYXNvbik7XG4gICAgfVxuICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xufVxuXG5wcm9taXNlLnJhY2UgPSByYWNlOyAvLyBFUzZcbnByb21pc2UuYWxsID0gYWxsOyAvLyBFUzZcbnByb21pc2UucmVqZWN0ID0gcmVqZWN0OyAvLyBFUzZcbnByb21pc2UucmVzb2x2ZSA9IFE7IC8vIEVTNlxuXG4vLyBYWFggZXhwZXJpbWVudGFsLiAgVGhpcyBtZXRob2QgaXMgYSB3YXkgdG8gZGVub3RlIHRoYXQgYSBsb2NhbCB2YWx1ZSBpc1xuLy8gc2VyaWFsaXphYmxlIGFuZCBzaG91bGQgYmUgaW1tZWRpYXRlbHkgZGlzcGF0Y2hlZCB0byBhIHJlbW90ZSB1cG9uIHJlcXVlc3QsXG4vLyBpbnN0ZWFkIG9mIHBhc3NpbmcgYSByZWZlcmVuY2UuXG5RLnBhc3NCeUNvcHkgPSBmdW5jdGlvbiAob2JqZWN0KSB7XG4gICAgLy9mcmVlemUob2JqZWN0KTtcbiAgICAvL3Bhc3NCeUNvcGllcy5zZXQob2JqZWN0LCB0cnVlKTtcbiAgICByZXR1cm4gb2JqZWN0O1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUucGFzc0J5Q29weSA9IGZ1bmN0aW9uICgpIHtcbiAgICAvL2ZyZWV6ZShvYmplY3QpO1xuICAgIC8vcGFzc0J5Q29waWVzLnNldChvYmplY3QsIHRydWUpO1xuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBJZiB0d28gcHJvbWlzZXMgZXZlbnR1YWxseSBmdWxmaWxsIHRvIHRoZSBzYW1lIHZhbHVlLCBwcm9taXNlcyB0aGF0IHZhbHVlLFxuICogYnV0IG90aGVyd2lzZSByZWplY3RzLlxuICogQHBhcmFtIHgge0FueSp9XG4gKiBAcGFyYW0geSB7QW55Kn1cbiAqIEByZXR1cm5zIHtBbnkqfSBhIHByb21pc2UgZm9yIHggYW5kIHkgaWYgdGhleSBhcmUgdGhlIHNhbWUsIGJ1dCBhIHJlamVjdGlvblxuICogb3RoZXJ3aXNlLlxuICpcbiAqL1xuUS5qb2luID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICByZXR1cm4gUSh4KS5qb2luKHkpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuam9pbiA9IGZ1bmN0aW9uICh0aGF0KSB7XG4gICAgcmV0dXJuIFEoW3RoaXMsIHRoYXRdKS5zcHJlYWQoZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgaWYgKHggPT09IHkpIHtcbiAgICAgICAgICAgIC8vIFRPRE86IFwiPT09XCIgc2hvdWxkIGJlIE9iamVjdC5pcyBvciBlcXVpdlxuICAgICAgICAgICAgcmV0dXJuIHg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJRIGNhbid0IGpvaW46IG5vdCB0aGUgc2FtZTogXCIgKyB4ICsgXCIgXCIgKyB5KTtcbiAgICAgICAgfVxuICAgIH0pO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIGEgcHJvbWlzZSBmb3IgdGhlIGZpcnN0IG9mIGFuIGFycmF5IG9mIHByb21pc2VzIHRvIGJlY29tZSBzZXR0bGVkLlxuICogQHBhcmFtIGFuc3dlcnMge0FycmF5W0FueSpdfSBwcm9taXNlcyB0byByYWNlXG4gKiBAcmV0dXJucyB7QW55Kn0gdGhlIGZpcnN0IHByb21pc2UgdG8gYmUgc2V0dGxlZFxuICovXG5RLnJhY2UgPSByYWNlO1xuZnVuY3Rpb24gcmFjZShhbnN3ZXJQcykge1xuICAgIHJldHVybiBwcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgLy8gU3dpdGNoIHRvIHRoaXMgb25jZSB3ZSBjYW4gYXNzdW1lIGF0IGxlYXN0IEVTNVxuICAgICAgICAvLyBhbnN3ZXJQcy5mb3JFYWNoKGZ1bmN0aW9uIChhbnN3ZXJQKSB7XG4gICAgICAgIC8vICAgICBRKGFuc3dlclApLnRoZW4ocmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgLy8gfSk7XG4gICAgICAgIC8vIFVzZSB0aGlzIGluIHRoZSBtZWFudGltZVxuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gYW5zd2VyUHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIFEoYW5zd2VyUHNbaV0pLnRoZW4ocmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5Qcm9taXNlLnByb3RvdHlwZS5yYWNlID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnRoZW4oUS5yYWNlKTtcbn07XG5cbi8qKlxuICogQ29uc3RydWN0cyBhIFByb21pc2Ugd2l0aCBhIHByb21pc2UgZGVzY3JpcHRvciBvYmplY3QgYW5kIG9wdGlvbmFsIGZhbGxiYWNrXG4gKiBmdW5jdGlvbi4gIFRoZSBkZXNjcmlwdG9yIGNvbnRhaW5zIG1ldGhvZHMgbGlrZSB3aGVuKHJlamVjdGVkKSwgZ2V0KG5hbWUpLFxuICogc2V0KG5hbWUsIHZhbHVlKSwgcG9zdChuYW1lLCBhcmdzKSwgYW5kIGRlbGV0ZShuYW1lKSwgd2hpY2ggYWxsXG4gKiByZXR1cm4gZWl0aGVyIGEgdmFsdWUsIGEgcHJvbWlzZSBmb3IgYSB2YWx1ZSwgb3IgYSByZWplY3Rpb24uICBUaGUgZmFsbGJhY2tcbiAqIGFjY2VwdHMgdGhlIG9wZXJhdGlvbiBuYW1lLCBhIHJlc29sdmVyLCBhbmQgYW55IGZ1cnRoZXIgYXJndW1lbnRzIHRoYXQgd291bGRcbiAqIGhhdmUgYmVlbiBmb3J3YXJkZWQgdG8gdGhlIGFwcHJvcHJpYXRlIG1ldGhvZCBhYm92ZSBoYWQgYSBtZXRob2QgYmVlblxuICogcHJvdmlkZWQgd2l0aCB0aGUgcHJvcGVyIG5hbWUuICBUaGUgQVBJIG1ha2VzIG5vIGd1YXJhbnRlZXMgYWJvdXQgdGhlIG5hdHVyZVxuICogb2YgdGhlIHJldHVybmVkIG9iamVjdCwgYXBhcnQgZnJvbSB0aGF0IGl0IGlzIHVzYWJsZSB3aGVyZWV2ZXIgcHJvbWlzZXMgYXJlXG4gKiBib3VnaHQgYW5kIHNvbGQuXG4gKi9cblEubWFrZVByb21pc2UgPSBQcm9taXNlO1xuZnVuY3Rpb24gUHJvbWlzZShkZXNjcmlwdG9yLCBmYWxsYmFjaywgaW5zcGVjdCkge1xuICAgIGlmIChmYWxsYmFjayA9PT0gdm9pZCAwKSB7XG4gICAgICAgIGZhbGxiYWNrID0gZnVuY3Rpb24gKG9wKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVqZWN0KG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgICBcIlByb21pc2UgZG9lcyBub3Qgc3VwcG9ydCBvcGVyYXRpb246IFwiICsgb3BcbiAgICAgICAgICAgICkpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAoaW5zcGVjdCA9PT0gdm9pZCAwKSB7XG4gICAgICAgIGluc3BlY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4ge3N0YXRlOiBcInVua25vd25cIn07XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgdmFyIHByb21pc2UgPSBvYmplY3RfY3JlYXRlKFByb21pc2UucHJvdG90eXBlKTtcblxuICAgIHByb21pc2UucHJvbWlzZURpc3BhdGNoID0gZnVuY3Rpb24gKHJlc29sdmUsIG9wLCBhcmdzKSB7XG4gICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoZGVzY3JpcHRvcltvcF0pIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBkZXNjcmlwdG9yW29wXS5hcHBseShwcm9taXNlLCBhcmdzKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gZmFsbGJhY2suY2FsbChwcm9taXNlLCBvcCwgYXJncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGV4Y2VwdGlvbikge1xuICAgICAgICAgICAgcmVzdWx0ID0gcmVqZWN0KGV4Y2VwdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlc29sdmUpIHtcbiAgICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBwcm9taXNlLmluc3BlY3QgPSBpbnNwZWN0O1xuXG4gICAgLy8gWFhYIGRlcHJlY2F0ZWQgYHZhbHVlT2ZgIGFuZCBgZXhjZXB0aW9uYCBzdXBwb3J0XG4gICAgaWYgKGluc3BlY3QpIHtcbiAgICAgICAgdmFyIGluc3BlY3RlZCA9IGluc3BlY3QoKTtcbiAgICAgICAgaWYgKGluc3BlY3RlZC5zdGF0ZSA9PT0gXCJyZWplY3RlZFwiKSB7XG4gICAgICAgICAgICBwcm9taXNlLmV4Y2VwdGlvbiA9IGluc3BlY3RlZC5yZWFzb247XG4gICAgICAgIH1cblxuICAgICAgICBwcm9taXNlLnZhbHVlT2YgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgaW5zcGVjdGVkID0gaW5zcGVjdCgpO1xuICAgICAgICAgICAgaWYgKGluc3BlY3RlZC5zdGF0ZSA9PT0gXCJwZW5kaW5nXCIgfHxcbiAgICAgICAgICAgICAgICBpbnNwZWN0ZWQuc3RhdGUgPT09IFwicmVqZWN0ZWRcIikge1xuICAgICAgICAgICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGluc3BlY3RlZC52YWx1ZTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gcHJvbWlzZTtcbn1cblxuUHJvbWlzZS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIFwiW29iamVjdCBQcm9taXNlXVwiO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUudGhlbiA9IGZ1bmN0aW9uIChmdWxmaWxsZWQsIHJlamVjdGVkLCBwcm9ncmVzc2VkKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBkZWZlcnJlZCA9IGRlZmVyKCk7XG4gICAgdmFyIGRvbmUgPSBmYWxzZTsgICAvLyBlbnN1cmUgdGhlIHVudHJ1c3RlZCBwcm9taXNlIG1ha2VzIGF0IG1vc3QgYVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2luZ2xlIGNhbGwgdG8gb25lIG9mIHRoZSBjYWxsYmFja3NcblxuICAgIGZ1bmN0aW9uIF9mdWxmaWxsZWQodmFsdWUpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiB0eXBlb2YgZnVsZmlsbGVkID09PSBcImZ1bmN0aW9uXCIgPyBmdWxmaWxsZWQodmFsdWUpIDogdmFsdWU7XG4gICAgICAgIH0gY2F0Y2ggKGV4Y2VwdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuIHJlamVjdChleGNlcHRpb24pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX3JlamVjdGVkKGV4Y2VwdGlvbikge1xuICAgICAgICBpZiAodHlwZW9mIHJlamVjdGVkID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIG1ha2VTdGFja1RyYWNlTG9uZyhleGNlcHRpb24sIHNlbGYpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0ZWQoZXhjZXB0aW9uKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKG5ld0V4Y2VwdGlvbikge1xuICAgICAgICAgICAgICAgIHJldHVybiByZWplY3QobmV3RXhjZXB0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVqZWN0KGV4Y2VwdGlvbik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX3Byb2dyZXNzZWQodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBwcm9ncmVzc2VkID09PSBcImZ1bmN0aW9uXCIgPyBwcm9ncmVzc2VkKHZhbHVlKSA6IHZhbHVlO1xuICAgIH1cblxuICAgIFEubmV4dFRpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICBzZWxmLnByb21pc2VEaXNwYXRjaChmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmIChkb25lKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZG9uZSA9IHRydWU7XG5cbiAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoX2Z1bGZpbGxlZCh2YWx1ZSkpO1xuICAgICAgICB9LCBcIndoZW5cIiwgW2Z1bmN0aW9uIChleGNlcHRpb24pIHtcbiAgICAgICAgICAgIGlmIChkb25lKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZG9uZSA9IHRydWU7XG5cbiAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoX3JlamVjdGVkKGV4Y2VwdGlvbikpO1xuICAgICAgICB9XSk7XG4gICAgfSk7XG5cbiAgICAvLyBQcm9ncmVzcyBwcm9wYWdhdG9yIG5lZWQgdG8gYmUgYXR0YWNoZWQgaW4gdGhlIGN1cnJlbnQgdGljay5cbiAgICBzZWxmLnByb21pc2VEaXNwYXRjaCh2b2lkIDAsIFwid2hlblwiLCBbdm9pZCAwLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIG5ld1ZhbHVlO1xuICAgICAgICB2YXIgdGhyZXcgPSBmYWxzZTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gX3Byb2dyZXNzZWQodmFsdWUpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICB0aHJldyA9IHRydWU7XG4gICAgICAgICAgICBpZiAoUS5vbmVycm9yKSB7XG4gICAgICAgICAgICAgICAgUS5vbmVycm9yKGUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aHJldykge1xuICAgICAgICAgICAgZGVmZXJyZWQubm90aWZ5KG5ld1ZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xufTtcblxuUS50YXAgPSBmdW5jdGlvbiAocHJvbWlzZSwgY2FsbGJhY2spIHtcbiAgICByZXR1cm4gUShwcm9taXNlKS50YXAoY2FsbGJhY2spO1xufTtcblxuLyoqXG4gKiBXb3JrcyBhbG1vc3QgbGlrZSBcImZpbmFsbHlcIiwgYnV0IG5vdCBjYWxsZWQgZm9yIHJlamVjdGlvbnMuXG4gKiBPcmlnaW5hbCByZXNvbHV0aW9uIHZhbHVlIGlzIHBhc3NlZCB0aHJvdWdoIGNhbGxiYWNrIHVuYWZmZWN0ZWQuXG4gKiBDYWxsYmFjayBtYXkgcmV0dXJuIGEgcHJvbWlzZSB0aGF0IHdpbGwgYmUgYXdhaXRlZCBmb3IuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICogQHJldHVybnMge1EuUHJvbWlzZX1cbiAqIEBleGFtcGxlXG4gKiBkb1NvbWV0aGluZygpXG4gKiAgIC50aGVuKC4uLilcbiAqICAgLnRhcChjb25zb2xlLmxvZylcbiAqICAgLnRoZW4oLi4uKTtcbiAqL1xuUHJvbWlzZS5wcm90b3R5cGUudGFwID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgY2FsbGJhY2sgPSBRKGNhbGxiYWNrKTtcblxuICAgIHJldHVybiB0aGlzLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjay5mY2FsbCh2YWx1ZSkudGhlblJlc29sdmUodmFsdWUpO1xuICAgIH0pO1xufTtcblxuLyoqXG4gKiBSZWdpc3RlcnMgYW4gb2JzZXJ2ZXIgb24gYSBwcm9taXNlLlxuICpcbiAqIEd1YXJhbnRlZXM6XG4gKlxuICogMS4gdGhhdCBmdWxmaWxsZWQgYW5kIHJlamVjdGVkIHdpbGwgYmUgY2FsbGVkIG9ubHkgb25jZS5cbiAqIDIuIHRoYXQgZWl0aGVyIHRoZSBmdWxmaWxsZWQgY2FsbGJhY2sgb3IgdGhlIHJlamVjdGVkIGNhbGxiYWNrIHdpbGwgYmVcbiAqICAgIGNhbGxlZCwgYnV0IG5vdCBib3RoLlxuICogMy4gdGhhdCBmdWxmaWxsZWQgYW5kIHJlamVjdGVkIHdpbGwgbm90IGJlIGNhbGxlZCBpbiB0aGlzIHR1cm4uXG4gKlxuICogQHBhcmFtIHZhbHVlICAgICAgcHJvbWlzZSBvciBpbW1lZGlhdGUgcmVmZXJlbmNlIHRvIG9ic2VydmVcbiAqIEBwYXJhbSBmdWxmaWxsZWQgIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCB3aXRoIHRoZSBmdWxmaWxsZWQgdmFsdWVcbiAqIEBwYXJhbSByZWplY3RlZCAgIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCB3aXRoIHRoZSByZWplY3Rpb24gZXhjZXB0aW9uXG4gKiBAcGFyYW0gcHJvZ3Jlc3NlZCBmdW5jdGlvbiB0byBiZSBjYWxsZWQgb24gYW55IHByb2dyZXNzIG5vdGlmaWNhdGlvbnNcbiAqIEByZXR1cm4gcHJvbWlzZSBmb3IgdGhlIHJldHVybiB2YWx1ZSBmcm9tIHRoZSBpbnZva2VkIGNhbGxiYWNrXG4gKi9cblEud2hlbiA9IHdoZW47XG5mdW5jdGlvbiB3aGVuKHZhbHVlLCBmdWxmaWxsZWQsIHJlamVjdGVkLCBwcm9ncmVzc2VkKSB7XG4gICAgcmV0dXJuIFEodmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCwgcHJvZ3Jlc3NlZCk7XG59XG5cblByb21pc2UucHJvdG90eXBlLnRoZW5SZXNvbHZlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMudGhlbihmdW5jdGlvbiAoKSB7IHJldHVybiB2YWx1ZTsgfSk7XG59O1xuXG5RLnRoZW5SZXNvbHZlID0gZnVuY3Rpb24gKHByb21pc2UsIHZhbHVlKSB7XG4gICAgcmV0dXJuIFEocHJvbWlzZSkudGhlblJlc29sdmUodmFsdWUpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUudGhlblJlamVjdCA9IGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICByZXR1cm4gdGhpcy50aGVuKGZ1bmN0aW9uICgpIHsgdGhyb3cgcmVhc29uOyB9KTtcbn07XG5cblEudGhlblJlamVjdCA9IGZ1bmN0aW9uIChwcm9taXNlLCByZWFzb24pIHtcbiAgICByZXR1cm4gUShwcm9taXNlKS50aGVuUmVqZWN0KHJlYXNvbik7XG59O1xuXG4vKipcbiAqIElmIGFuIG9iamVjdCBpcyBub3QgYSBwcm9taXNlLCBpdCBpcyBhcyBcIm5lYXJcIiBhcyBwb3NzaWJsZS5cbiAqIElmIGEgcHJvbWlzZSBpcyByZWplY3RlZCwgaXQgaXMgYXMgXCJuZWFyXCIgYXMgcG9zc2libGUgdG9vLlxuICogSWYgaXRcdTIwMTlzIGEgZnVsZmlsbGVkIHByb21pc2UsIHRoZSBmdWxmaWxsbWVudCB2YWx1ZSBpcyBuZWFyZXIuXG4gKiBJZiBpdFx1MjAxOXMgYSBkZWZlcnJlZCBwcm9taXNlIGFuZCB0aGUgZGVmZXJyZWQgaGFzIGJlZW4gcmVzb2x2ZWQsIHRoZVxuICogcmVzb2x1dGlvbiBpcyBcIm5lYXJlclwiLlxuICogQHBhcmFtIG9iamVjdFxuICogQHJldHVybnMgbW9zdCByZXNvbHZlZCAobmVhcmVzdCkgZm9ybSBvZiB0aGUgb2JqZWN0XG4gKi9cblxuLy8gWFhYIHNob3VsZCB3ZSByZS1kbyB0aGlzP1xuUS5uZWFyZXIgPSBuZWFyZXI7XG5mdW5jdGlvbiBuZWFyZXIodmFsdWUpIHtcbiAgICBpZiAoaXNQcm9taXNlKHZhbHVlKSkge1xuICAgICAgICB2YXIgaW5zcGVjdGVkID0gdmFsdWUuaW5zcGVjdCgpO1xuICAgICAgICBpZiAoaW5zcGVjdGVkLnN0YXRlID09PSBcImZ1bGZpbGxlZFwiKSB7XG4gICAgICAgICAgICByZXR1cm4gaW5zcGVjdGVkLnZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB3aGV0aGVyIHRoZSBnaXZlbiBvYmplY3QgaXMgYSBwcm9taXNlLlxuICogT3RoZXJ3aXNlIGl0IGlzIGEgZnVsZmlsbGVkIHZhbHVlLlxuICovXG5RLmlzUHJvbWlzZSA9IGlzUHJvbWlzZTtcbmZ1bmN0aW9uIGlzUHJvbWlzZShvYmplY3QpIHtcbiAgICByZXR1cm4gb2JqZWN0IGluc3RhbmNlb2YgUHJvbWlzZTtcbn1cblxuUS5pc1Byb21pc2VBbGlrZSA9IGlzUHJvbWlzZUFsaWtlO1xuZnVuY3Rpb24gaXNQcm9taXNlQWxpa2Uob2JqZWN0KSB7XG4gICAgcmV0dXJuIGlzT2JqZWN0KG9iamVjdCkgJiYgdHlwZW9mIG9iamVjdC50aGVuID09PSBcImZ1bmN0aW9uXCI7XG59XG5cbi8qKlxuICogQHJldHVybnMgd2hldGhlciB0aGUgZ2l2ZW4gb2JqZWN0IGlzIGEgcGVuZGluZyBwcm9taXNlLCBtZWFuaW5nIG5vdFxuICogZnVsZmlsbGVkIG9yIHJlamVjdGVkLlxuICovXG5RLmlzUGVuZGluZyA9IGlzUGVuZGluZztcbmZ1bmN0aW9uIGlzUGVuZGluZyhvYmplY3QpIHtcbiAgICByZXR1cm4gaXNQcm9taXNlKG9iamVjdCkgJiYgb2JqZWN0Lmluc3BlY3QoKS5zdGF0ZSA9PT0gXCJwZW5kaW5nXCI7XG59XG5cblByb21pc2UucHJvdG90eXBlLmlzUGVuZGluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5pbnNwZWN0KCkuc3RhdGUgPT09IFwicGVuZGluZ1wiO1xufTtcblxuLyoqXG4gKiBAcmV0dXJucyB3aGV0aGVyIHRoZSBnaXZlbiBvYmplY3QgaXMgYSB2YWx1ZSBvciBmdWxmaWxsZWRcbiAqIHByb21pc2UuXG4gKi9cblEuaXNGdWxmaWxsZWQgPSBpc0Z1bGZpbGxlZDtcbmZ1bmN0aW9uIGlzRnVsZmlsbGVkKG9iamVjdCkge1xuICAgIHJldHVybiAhaXNQcm9taXNlKG9iamVjdCkgfHwgb2JqZWN0Lmluc3BlY3QoKS5zdGF0ZSA9PT0gXCJmdWxmaWxsZWRcIjtcbn1cblxuUHJvbWlzZS5wcm90b3R5cGUuaXNGdWxmaWxsZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuaW5zcGVjdCgpLnN0YXRlID09PSBcImZ1bGZpbGxlZFwiO1xufTtcblxuLyoqXG4gKiBAcmV0dXJucyB3aGV0aGVyIHRoZSBnaXZlbiBvYmplY3QgaXMgYSByZWplY3RlZCBwcm9taXNlLlxuICovXG5RLmlzUmVqZWN0ZWQgPSBpc1JlamVjdGVkO1xuZnVuY3Rpb24gaXNSZWplY3RlZChvYmplY3QpIHtcbiAgICByZXR1cm4gaXNQcm9taXNlKG9iamVjdCkgJiYgb2JqZWN0Lmluc3BlY3QoKS5zdGF0ZSA9PT0gXCJyZWplY3RlZFwiO1xufVxuXG5Qcm9taXNlLnByb3RvdHlwZS5pc1JlamVjdGVkID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmluc3BlY3QoKS5zdGF0ZSA9PT0gXCJyZWplY3RlZFwiO1xufTtcblxuLy8vLyBCRUdJTiBVTkhBTkRMRUQgUkVKRUNUSU9OIFRSQUNLSU5HXG5cbi8vIFRoaXMgcHJvbWlzZSBsaWJyYXJ5IGNvbnN1bWVzIGV4Y2VwdGlvbnMgdGhyb3duIGluIGhhbmRsZXJzIHNvIHRoZXkgY2FuIGJlXG4vLyBoYW5kbGVkIGJ5IGEgc3Vic2VxdWVudCBwcm9taXNlLiAgVGhlIGV4Y2VwdGlvbnMgZ2V0IGFkZGVkIHRvIHRoaXMgYXJyYXkgd2hlblxuLy8gdGhleSBhcmUgY3JlYXRlZCwgYW5kIHJlbW92ZWQgd2hlbiB0aGV5IGFyZSBoYW5kbGVkLiAgTm90ZSB0aGF0IGluIEVTNiBvclxuLy8gc2hpbW1lZCBlbnZpcm9ubWVudHMsIHRoaXMgd291bGQgbmF0dXJhbGx5IGJlIGEgYFNldGAuXG52YXIgdW5oYW5kbGVkUmVhc29ucyA9IFtdO1xudmFyIHVuaGFuZGxlZFJlamVjdGlvbnMgPSBbXTtcbnZhciByZXBvcnRlZFVuaGFuZGxlZFJlamVjdGlvbnMgPSBbXTtcbnZhciB0cmFja1VuaGFuZGxlZFJlamVjdGlvbnMgPSB0cnVlO1xuXG5mdW5jdGlvbiByZXNldFVuaGFuZGxlZFJlamVjdGlvbnMoKSB7XG4gICAgdW5oYW5kbGVkUmVhc29ucy5sZW5ndGggPSAwO1xuICAgIHVuaGFuZGxlZFJlamVjdGlvbnMubGVuZ3RoID0gMDtcblxuICAgIGlmICghdHJhY2tVbmhhbmRsZWRSZWplY3Rpb25zKSB7XG4gICAgICAgIHRyYWNrVW5oYW5kbGVkUmVqZWN0aW9ucyA9IHRydWU7XG4gICAgfVxufVxuXG5mdW5jdGlvbiB0cmFja1JlamVjdGlvbihwcm9taXNlLCByZWFzb24pIHtcbiAgICBpZiAoIXRyYWNrVW5oYW5kbGVkUmVqZWN0aW9ucykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0eXBlb2YgcHJvY2VzcyA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgcHJvY2Vzcy5lbWl0ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgUS5uZXh0VGljay5ydW5BZnRlcihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoYXJyYXlfaW5kZXhPZih1bmhhbmRsZWRSZWplY3Rpb25zLCBwcm9taXNlKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBwcm9jZXNzLmVtaXQoXCJ1bmhhbmRsZWRSZWplY3Rpb25cIiwgcmVhc29uLCBwcm9taXNlKTtcbiAgICAgICAgICAgICAgICByZXBvcnRlZFVuaGFuZGxlZFJlamVjdGlvbnMucHVzaChwcm9taXNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgdW5oYW5kbGVkUmVqZWN0aW9ucy5wdXNoKHByb21pc2UpO1xuICAgIGlmIChyZWFzb24gJiYgdHlwZW9mIHJlYXNvbi5zdGFjayAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICB1bmhhbmRsZWRSZWFzb25zLnB1c2gocmVhc29uLnN0YWNrKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB1bmhhbmRsZWRSZWFzb25zLnB1c2goXCIobm8gc3RhY2spIFwiICsgcmVhc29uKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHVudHJhY2tSZWplY3Rpb24ocHJvbWlzZSkge1xuICAgIGlmICghdHJhY2tVbmhhbmRsZWRSZWplY3Rpb25zKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgYXQgPSBhcnJheV9pbmRleE9mKHVuaGFuZGxlZFJlamVjdGlvbnMsIHByb21pc2UpO1xuICAgIGlmIChhdCAhPT0gLTEpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBwcm9jZXNzID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBwcm9jZXNzLmVtaXQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgUS5uZXh0VGljay5ydW5BZnRlcihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGF0UmVwb3J0ID0gYXJyYXlfaW5kZXhPZihyZXBvcnRlZFVuaGFuZGxlZFJlamVjdGlvbnMsIHByb21pc2UpO1xuICAgICAgICAgICAgICAgIGlmIChhdFJlcG9ydCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzcy5lbWl0KFwicmVqZWN0aW9uSGFuZGxlZFwiLCB1bmhhbmRsZWRSZWFzb25zW2F0XSwgcHJvbWlzZSk7XG4gICAgICAgICAgICAgICAgICAgIHJlcG9ydGVkVW5oYW5kbGVkUmVqZWN0aW9ucy5zcGxpY2UoYXRSZXBvcnQsIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHVuaGFuZGxlZFJlamVjdGlvbnMuc3BsaWNlKGF0LCAxKTtcbiAgICAgICAgdW5oYW5kbGVkUmVhc29ucy5zcGxpY2UoYXQsIDEpO1xuICAgIH1cbn1cblxuUS5yZXNldFVuaGFuZGxlZFJlamVjdGlvbnMgPSByZXNldFVuaGFuZGxlZFJlamVjdGlvbnM7XG5cblEuZ2V0VW5oYW5kbGVkUmVhc29ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBNYWtlIGEgY29weSBzbyB0aGF0IGNvbnN1bWVycyBjYW4ndCBpbnRlcmZlcmUgd2l0aCBvdXIgaW50ZXJuYWwgc3RhdGUuXG4gICAgcmV0dXJuIHVuaGFuZGxlZFJlYXNvbnMuc2xpY2UoKTtcbn07XG5cblEuc3RvcFVuaGFuZGxlZFJlamVjdGlvblRyYWNraW5nID0gZnVuY3Rpb24gKCkge1xuICAgIHJlc2V0VW5oYW5kbGVkUmVqZWN0aW9ucygpO1xuICAgIHRyYWNrVW5oYW5kbGVkUmVqZWN0aW9ucyA9IGZhbHNlO1xufTtcblxucmVzZXRVbmhhbmRsZWRSZWplY3Rpb25zKCk7XG5cbi8vLy8gRU5EIFVOSEFORExFRCBSRUpFQ1RJT04gVFJBQ0tJTkdcblxuLyoqXG4gKiBDb25zdHJ1Y3RzIGEgcmVqZWN0ZWQgcHJvbWlzZS5cbiAqIEBwYXJhbSByZWFzb24gdmFsdWUgZGVzY3JpYmluZyB0aGUgZmFpbHVyZVxuICovXG5RLnJlamVjdCA9IHJlamVjdDtcbmZ1bmN0aW9uIHJlamVjdChyZWFzb24pIHtcbiAgICB2YXIgcmVqZWN0aW9uID0gUHJvbWlzZSh7XG4gICAgICAgIFwid2hlblwiOiBmdW5jdGlvbiAocmVqZWN0ZWQpIHtcbiAgICAgICAgICAgIC8vIG5vdGUgdGhhdCB0aGUgZXJyb3IgaGFzIGJlZW4gaGFuZGxlZFxuICAgICAgICAgICAgaWYgKHJlamVjdGVkKSB7XG4gICAgICAgICAgICAgICAgdW50cmFja1JlamVjdGlvbih0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZWplY3RlZCA/IHJlamVjdGVkKHJlYXNvbikgOiB0aGlzO1xuICAgICAgICB9XG4gICAgfSwgZnVuY3Rpb24gZmFsbGJhY2soKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sIGZ1bmN0aW9uIGluc3BlY3QoKSB7XG4gICAgICAgIHJldHVybiB7IHN0YXRlOiBcInJlamVjdGVkXCIsIHJlYXNvbjogcmVhc29uIH07XG4gICAgfSk7XG5cbiAgICAvLyBOb3RlIHRoYXQgdGhlIHJlYXNvbiBoYXMgbm90IGJlZW4gaGFuZGxlZC5cbiAgICB0cmFja1JlamVjdGlvbihyZWplY3Rpb24sIHJlYXNvbik7XG5cbiAgICByZXR1cm4gcmVqZWN0aW9uO1xufVxuXG4vKipcbiAqIENvbnN0cnVjdHMgYSBmdWxmaWxsZWQgcHJvbWlzZSBmb3IgYW4gaW1tZWRpYXRlIHJlZmVyZW5jZS5cbiAqIEBwYXJhbSB2YWx1ZSBpbW1lZGlhdGUgcmVmZXJlbmNlXG4gKi9cblEuZnVsZmlsbCA9IGZ1bGZpbGw7XG5mdW5jdGlvbiBmdWxmaWxsKHZhbHVlKSB7XG4gICAgcmV0dXJuIFByb21pc2Uoe1xuICAgICAgICBcIndoZW5cIjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBcImdldFwiOiBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlW25hbWVdO1xuICAgICAgICB9LFxuICAgICAgICBcInNldFwiOiBmdW5jdGlvbiAobmFtZSwgcmhzKSB7XG4gICAgICAgICAgICB2YWx1ZVtuYW1lXSA9IHJocztcbiAgICAgICAgfSxcbiAgICAgICAgXCJkZWxldGVcIjogZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgICAgIGRlbGV0ZSB2YWx1ZVtuYW1lXTtcbiAgICAgICAgfSxcbiAgICAgICAgXCJwb3N0XCI6IGZ1bmN0aW9uIChuYW1lLCBhcmdzKSB7XG4gICAgICAgICAgICAvLyBNYXJrIE1pbGxlciBwcm9wb3NlcyB0aGF0IHBvc3Qgd2l0aCBubyBuYW1lIHNob3VsZCBhcHBseSBhXG4gICAgICAgICAgICAvLyBwcm9taXNlZCBmdW5jdGlvbi5cbiAgICAgICAgICAgIGlmIChuYW1lID09PSBudWxsIHx8IG5hbWUgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZS5hcHBseSh2b2lkIDAsIGFyZ3MpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWVbbmFtZV0uYXBwbHkodmFsdWUsIGFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcImFwcGx5XCI6IGZ1bmN0aW9uICh0aGlzcCwgYXJncykge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlLmFwcGx5KHRoaXNwLCBhcmdzKTtcbiAgICAgICAgfSxcbiAgICAgICAgXCJrZXlzXCI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBvYmplY3Rfa2V5cyh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9LCB2b2lkIDAsIGZ1bmN0aW9uIGluc3BlY3QoKSB7XG4gICAgICAgIHJldHVybiB7IHN0YXRlOiBcImZ1bGZpbGxlZFwiLCB2YWx1ZTogdmFsdWUgfTtcbiAgICB9KTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyB0aGVuYWJsZXMgdG8gUSBwcm9taXNlcy5cbiAqIEBwYXJhbSBwcm9taXNlIHRoZW5hYmxlIHByb21pc2VcbiAqIEByZXR1cm5zIGEgUSBwcm9taXNlXG4gKi9cbmZ1bmN0aW9uIGNvZXJjZShwcm9taXNlKSB7XG4gICAgdmFyIGRlZmVycmVkID0gZGVmZXIoKTtcbiAgICBRLm5leHRUaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHByb21pc2UudGhlbihkZWZlcnJlZC5yZXNvbHZlLCBkZWZlcnJlZC5yZWplY3QsIGRlZmVycmVkLm5vdGlmeSk7XG4gICAgICAgIH0gY2F0Y2ggKGV4Y2VwdGlvbikge1xuICAgICAgICAgICAgZGVmZXJyZWQucmVqZWN0KGV4Y2VwdGlvbik7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbn1cblxuLyoqXG4gKiBBbm5vdGF0ZXMgYW4gb2JqZWN0IHN1Y2ggdGhhdCBpdCB3aWxsIG5ldmVyIGJlXG4gKiB0cmFuc2ZlcnJlZCBhd2F5IGZyb20gdGhpcyBwcm9jZXNzIG92ZXIgYW55IHByb21pc2VcbiAqIGNvbW11bmljYXRpb24gY2hhbm5lbC5cbiAqIEBwYXJhbSBvYmplY3RcbiAqIEByZXR1cm5zIHByb21pc2UgYSB3cmFwcGluZyBvZiB0aGF0IG9iamVjdCB0aGF0XG4gKiBhZGRpdGlvbmFsbHkgcmVzcG9uZHMgdG8gdGhlIFwiaXNEZWZcIiBtZXNzYWdlXG4gKiB3aXRob3V0IGEgcmVqZWN0aW9uLlxuICovXG5RLm1hc3RlciA9IG1hc3RlcjtcbmZ1bmN0aW9uIG1hc3RlcihvYmplY3QpIHtcbiAgICByZXR1cm4gUHJvbWlzZSh7XG4gICAgICAgIFwiaXNEZWZcIjogZnVuY3Rpb24gKCkge31cbiAgICB9LCBmdW5jdGlvbiBmYWxsYmFjayhvcCwgYXJncykge1xuICAgICAgICByZXR1cm4gZGlzcGF0Y2gob2JqZWN0LCBvcCwgYXJncyk7XG4gICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gUShvYmplY3QpLmluc3BlY3QoKTtcbiAgICB9KTtcbn1cblxuLyoqXG4gKiBTcHJlYWRzIHRoZSB2YWx1ZXMgb2YgYSBwcm9taXNlZCBhcnJheSBvZiBhcmd1bWVudHMgaW50byB0aGVcbiAqIGZ1bGZpbGxtZW50IGNhbGxiYWNrLlxuICogQHBhcmFtIGZ1bGZpbGxlZCBjYWxsYmFjayB0aGF0IHJlY2VpdmVzIHZhcmlhZGljIGFyZ3VtZW50cyBmcm9tIHRoZVxuICogcHJvbWlzZWQgYXJyYXlcbiAqIEBwYXJhbSByZWplY3RlZCBjYWxsYmFjayB0aGF0IHJlY2VpdmVzIHRoZSBleGNlcHRpb24gaWYgdGhlIHByb21pc2VcbiAqIGlzIHJlamVjdGVkLlxuICogQHJldHVybnMgYSBwcm9taXNlIGZvciB0aGUgcmV0dXJuIHZhbHVlIG9yIHRocm93biBleGNlcHRpb24gb2ZcbiAqIGVpdGhlciBjYWxsYmFjay5cbiAqL1xuUS5zcHJlYWQgPSBzcHJlYWQ7XG5mdW5jdGlvbiBzcHJlYWQodmFsdWUsIGZ1bGZpbGxlZCwgcmVqZWN0ZWQpIHtcbiAgICByZXR1cm4gUSh2YWx1ZSkuc3ByZWFkKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpO1xufVxuXG5Qcm9taXNlLnByb3RvdHlwZS5zcHJlYWQgPSBmdW5jdGlvbiAoZnVsZmlsbGVkLCByZWplY3RlZCkge1xuICAgIHJldHVybiB0aGlzLmFsbCgpLnRoZW4oZnVuY3Rpb24gKGFycmF5KSB7XG4gICAgICAgIHJldHVybiBmdWxmaWxsZWQuYXBwbHkodm9pZCAwLCBhcnJheSk7XG4gICAgfSwgcmVqZWN0ZWQpO1xufTtcblxuLyoqXG4gKiBUaGUgYXN5bmMgZnVuY3Rpb24gaXMgYSBkZWNvcmF0b3IgZm9yIGdlbmVyYXRvciBmdW5jdGlvbnMsIHR1cm5pbmdcbiAqIHRoZW0gaW50byBhc3luY2hyb25vdXMgZ2VuZXJhdG9ycy4gIEFsdGhvdWdoIGdlbmVyYXRvcnMgYXJlIG9ubHkgcGFydFxuICogb2YgdGhlIG5ld2VzdCBFQ01BU2NyaXB0IDYgZHJhZnRzLCB0aGlzIGNvZGUgZG9lcyBub3QgY2F1c2Ugc3ludGF4XG4gKiBlcnJvcnMgaW4gb2xkZXIgZW5naW5lcy4gIFRoaXMgY29kZSBzaG91bGQgY29udGludWUgdG8gd29yayBhbmQgd2lsbFxuICogaW4gZmFjdCBpbXByb3ZlIG92ZXIgdGltZSBhcyB0aGUgbGFuZ3VhZ2UgaW1wcm92ZXMuXG4gKlxuICogRVM2IGdlbmVyYXRvcnMgYXJlIGN1cnJlbnRseSBwYXJ0IG9mIFY4IHZlcnNpb24gMy4xOSB3aXRoIHRoZVxuICogLS1oYXJtb255LWdlbmVyYXRvcnMgcnVudGltZSBmbGFnIGVuYWJsZWQuICBTcGlkZXJNb25rZXkgaGFzIGhhZCB0aGVtXG4gKiBmb3IgbG9uZ2VyLCBidXQgdW5kZXIgYW4gb2xkZXIgUHl0aG9uLWluc3BpcmVkIGZvcm0uICBUaGlzIGZ1bmN0aW9uXG4gKiB3b3JrcyBvbiBib3RoIGtpbmRzIG9mIGdlbmVyYXRvcnMuXG4gKlxuICogRGVjb3JhdGVzIGEgZ2VuZXJhdG9yIGZ1bmN0aW9uIHN1Y2ggdGhhdDpcbiAqICAtIGl0IG1heSB5aWVsZCBwcm9taXNlc1xuICogIC0gZXhlY3V0aW9uIHdpbGwgY29udGludWUgd2hlbiB0aGF0IHByb21pc2UgaXMgZnVsZmlsbGVkXG4gKiAgLSB0aGUgdmFsdWUgb2YgdGhlIHlpZWxkIGV4cHJlc3Npb24gd2lsbCBiZSB0aGUgZnVsZmlsbGVkIHZhbHVlXG4gKiAgLSBpdCByZXR1cm5zIGEgcHJvbWlzZSBmb3IgdGhlIHJldHVybiB2YWx1ZSAod2hlbiB0aGUgZ2VuZXJhdG9yXG4gKiAgICBzdG9wcyBpdGVyYXRpbmcpXG4gKiAgLSB0aGUgZGVjb3JhdGVkIGZ1bmN0aW9uIHJldHVybnMgYSBwcm9taXNlIGZvciB0aGUgcmV0dXJuIHZhbHVlXG4gKiAgICBvZiB0aGUgZ2VuZXJhdG9yIG9yIHRoZSBmaXJzdCByZWplY3RlZCBwcm9taXNlIGFtb25nIHRob3NlXG4gKiAgICB5aWVsZGVkLlxuICogIC0gaWYgYW4gZXJyb3IgaXMgdGhyb3duIGluIHRoZSBnZW5lcmF0b3IsIGl0IHByb3BhZ2F0ZXMgdGhyb3VnaFxuICogICAgZXZlcnkgZm9sbG93aW5nIHlpZWxkIHVudGlsIGl0IGlzIGNhdWdodCwgb3IgdW50aWwgaXQgZXNjYXBlc1xuICogICAgdGhlIGdlbmVyYXRvciBmdW5jdGlvbiBhbHRvZ2V0aGVyLCBhbmQgaXMgdHJhbnNsYXRlZCBpbnRvIGFcbiAqICAgIHJlamVjdGlvbiBmb3IgdGhlIHByb21pc2UgcmV0dXJuZWQgYnkgdGhlIGRlY29yYXRlZCBnZW5lcmF0b3IuXG4gKi9cblEuYXN5bmMgPSBhc3luYztcbmZ1bmN0aW9uIGFzeW5jKG1ha2VHZW5lcmF0b3IpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyB3aGVuIHZlcmIgaXMgXCJzZW5kXCIsIGFyZyBpcyBhIHZhbHVlXG4gICAgICAgIC8vIHdoZW4gdmVyYiBpcyBcInRocm93XCIsIGFyZyBpcyBhbiBleGNlcHRpb25cbiAgICAgICAgZnVuY3Rpb24gY29udGludWVyKHZlcmIsIGFyZykge1xuICAgICAgICAgICAgdmFyIHJlc3VsdDtcblxuICAgICAgICAgICAgLy8gVW50aWwgVjggMy4xOSAvIENocm9taXVtIDI5IGlzIHJlbGVhc2VkLCBTcGlkZXJNb25rZXkgaXMgdGhlIG9ubHlcbiAgICAgICAgICAgIC8vIGVuZ2luZSB0aGF0IGhhcyBhIGRlcGxveWVkIGJhc2Ugb2YgYnJvd3NlcnMgdGhhdCBzdXBwb3J0IGdlbmVyYXRvcnMuXG4gICAgICAgICAgICAvLyBIb3dldmVyLCBTTSdzIGdlbmVyYXRvcnMgdXNlIHRoZSBQeXRob24taW5zcGlyZWQgc2VtYW50aWNzIG9mXG4gICAgICAgICAgICAvLyBvdXRkYXRlZCBFUzYgZHJhZnRzLiAgV2Ugd291bGQgbGlrZSB0byBzdXBwb3J0IEVTNiwgYnV0IHdlJ2QgYWxzb1xuICAgICAgICAgICAgLy8gbGlrZSB0byBtYWtlIGl0IHBvc3NpYmxlIHRvIHVzZSBnZW5lcmF0b3JzIGluIGRlcGxveWVkIGJyb3dzZXJzLCBzb1xuICAgICAgICAgICAgLy8gd2UgYWxzbyBzdXBwb3J0IFB5dGhvbi1zdHlsZSBnZW5lcmF0b3JzLiAgQXQgc29tZSBwb2ludCB3ZSBjYW4gcmVtb3ZlXG4gICAgICAgICAgICAvLyB0aGlzIGJsb2NrLlxuXG4gICAgICAgICAgICBpZiAodHlwZW9mIFN0b3BJdGVyYXRpb24gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgICAvLyBFUzYgR2VuZXJhdG9yc1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGdlbmVyYXRvclt2ZXJiXShhcmcpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGV4Y2VwdGlvbikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0KGV4Y2VwdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuZG9uZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUShyZXN1bHQudmFsdWUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3aGVuKHJlc3VsdC52YWx1ZSwgY2FsbGJhY2ssIGVycmJhY2spO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gU3BpZGVyTW9ua2V5IEdlbmVyYXRvcnNcbiAgICAgICAgICAgICAgICAvLyBGSVhNRTogUmVtb3ZlIHRoaXMgY2FzZSB3aGVuIFNNIGRvZXMgRVM2IGdlbmVyYXRvcnMuXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gZ2VuZXJhdG9yW3ZlcmJdKGFyZyk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXhjZXB0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc1N0b3BJdGVyYXRpb24oZXhjZXB0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFEoZXhjZXB0aW9uLnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZWplY3QoZXhjZXB0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gd2hlbihyZXN1bHQsIGNhbGxiYWNrLCBlcnJiYWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgZ2VuZXJhdG9yID0gbWFrZUdlbmVyYXRvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB2YXIgY2FsbGJhY2sgPSBjb250aW51ZXIuYmluZChjb250aW51ZXIsIFwibmV4dFwiKTtcbiAgICAgICAgdmFyIGVycmJhY2sgPSBjb250aW51ZXIuYmluZChjb250aW51ZXIsIFwidGhyb3dcIik7XG4gICAgICAgIHJldHVybiBjYWxsYmFjaygpO1xuICAgIH07XG59XG5cbi8qKlxuICogVGhlIHNwYXduIGZ1bmN0aW9uIGlzIGEgc21hbGwgd3JhcHBlciBhcm91bmQgYXN5bmMgdGhhdCBpbW1lZGlhdGVseVxuICogY2FsbHMgdGhlIGdlbmVyYXRvciBhbmQgYWxzbyBlbmRzIHRoZSBwcm9taXNlIGNoYWluLCBzbyB0aGF0IGFueVxuICogdW5oYW5kbGVkIGVycm9ycyBhcmUgdGhyb3duIGluc3RlYWQgb2YgZm9yd2FyZGVkIHRvIHRoZSBlcnJvclxuICogaGFuZGxlci4gVGhpcyBpcyB1c2VmdWwgYmVjYXVzZSBpdCdzIGV4dHJlbWVseSBjb21tb24gdG8gcnVuXG4gKiBnZW5lcmF0b3JzIGF0IHRoZSB0b3AtbGV2ZWwgdG8gd29yayB3aXRoIGxpYnJhcmllcy5cbiAqL1xuUS5zcGF3biA9IHNwYXduO1xuZnVuY3Rpb24gc3Bhd24obWFrZUdlbmVyYXRvcikge1xuICAgIFEuZG9uZShRLmFzeW5jKG1ha2VHZW5lcmF0b3IpKCkpO1xufVxuXG4vLyBGSVhNRTogUmVtb3ZlIHRoaXMgaW50ZXJmYWNlIG9uY2UgRVM2IGdlbmVyYXRvcnMgYXJlIGluIFNwaWRlck1vbmtleS5cbi8qKlxuICogVGhyb3dzIGEgUmV0dXJuVmFsdWUgZXhjZXB0aW9uIHRvIHN0b3AgYW4gYXN5bmNocm9ub3VzIGdlbmVyYXRvci5cbiAqXG4gKiBUaGlzIGludGVyZmFjZSBpcyBhIHN0b3AtZ2FwIG1lYXN1cmUgdG8gc3VwcG9ydCBnZW5lcmF0b3IgcmV0dXJuXG4gKiB2YWx1ZXMgaW4gb2xkZXIgRmlyZWZveC9TcGlkZXJNb25rZXkuICBJbiBicm93c2VycyB0aGF0IHN1cHBvcnQgRVM2XG4gKiBnZW5lcmF0b3JzIGxpa2UgQ2hyb21pdW0gMjksIGp1c3QgdXNlIFwicmV0dXJuXCIgaW4geW91ciBnZW5lcmF0b3JcbiAqIGZ1bmN0aW9ucy5cbiAqXG4gKiBAcGFyYW0gdmFsdWUgdGhlIHJldHVybiB2YWx1ZSBmb3IgdGhlIHN1cnJvdW5kaW5nIGdlbmVyYXRvclxuICogQHRocm93cyBSZXR1cm5WYWx1ZSBleGNlcHRpb24gd2l0aCB0aGUgdmFsdWUuXG4gKiBAZXhhbXBsZVxuICogLy8gRVM2IHN0eWxlXG4gKiBRLmFzeW5jKGZ1bmN0aW9uKiAoKSB7XG4gKiAgICAgIHZhciBmb28gPSB5aWVsZCBnZXRGb29Qcm9taXNlKCk7XG4gKiAgICAgIHZhciBiYXIgPSB5aWVsZCBnZXRCYXJQcm9taXNlKCk7XG4gKiAgICAgIHJldHVybiBmb28gKyBiYXI7XG4gKiB9KVxuICogLy8gT2xkZXIgU3BpZGVyTW9ua2V5IHN0eWxlXG4gKiBRLmFzeW5jKGZ1bmN0aW9uICgpIHtcbiAqICAgICAgdmFyIGZvbyA9IHlpZWxkIGdldEZvb1Byb21pc2UoKTtcbiAqICAgICAgdmFyIGJhciA9IHlpZWxkIGdldEJhclByb21pc2UoKTtcbiAqICAgICAgUS5yZXR1cm4oZm9vICsgYmFyKTtcbiAqIH0pXG4gKi9cblFbXCJyZXR1cm5cIl0gPSBfcmV0dXJuO1xuZnVuY3Rpb24gX3JldHVybih2YWx1ZSkge1xuICAgIHRocm93IG5ldyBRUmV0dXJuVmFsdWUodmFsdWUpO1xufVxuXG4vKipcbiAqIFRoZSBwcm9taXNlZCBmdW5jdGlvbiBkZWNvcmF0b3IgZW5zdXJlcyB0aGF0IGFueSBwcm9taXNlIGFyZ3VtZW50c1xuICogYXJlIHNldHRsZWQgYW5kIHBhc3NlZCBhcyB2YWx1ZXMgKGB0aGlzYCBpcyBhbHNvIHNldHRsZWQgYW5kIHBhc3NlZFxuICogYXMgYSB2YWx1ZSkuICBJdCB3aWxsIGFsc28gZW5zdXJlIHRoYXQgdGhlIHJlc3VsdCBvZiBhIGZ1bmN0aW9uIGlzXG4gKiBhbHdheXMgYSBwcm9taXNlLlxuICpcbiAqIEBleGFtcGxlXG4gKiB2YXIgYWRkID0gUS5wcm9taXNlZChmdW5jdGlvbiAoYSwgYikge1xuICogICAgIHJldHVybiBhICsgYjtcbiAqIH0pO1xuICogYWRkKFEoYSksIFEoQikpO1xuICpcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrIFRoZSBmdW5jdGlvbiB0byBkZWNvcmF0ZVxuICogQHJldHVybnMge2Z1bmN0aW9ufSBhIGZ1bmN0aW9uIHRoYXQgaGFzIGJlZW4gZGVjb3JhdGVkLlxuICovXG5RLnByb21pc2VkID0gcHJvbWlzZWQ7XG5mdW5jdGlvbiBwcm9taXNlZChjYWxsYmFjaykge1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBzcHJlYWQoW3RoaXMsIGFsbChhcmd1bWVudHMpXSwgZnVuY3Rpb24gKHNlbGYsIGFyZ3MpIHtcbiAgICAgICAgICAgIHJldHVybiBjYWxsYmFjay5hcHBseShzZWxmLCBhcmdzKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbn1cblxuLyoqXG4gKiBzZW5kcyBhIG1lc3NhZ2UgdG8gYSB2YWx1ZSBpbiBhIGZ1dHVyZSB0dXJuXG4gKiBAcGFyYW0gb2JqZWN0KiB0aGUgcmVjaXBpZW50XG4gKiBAcGFyYW0gb3AgdGhlIG5hbWUgb2YgdGhlIG1lc3NhZ2Ugb3BlcmF0aW9uLCBlLmcuLCBcIndoZW5cIixcbiAqIEBwYXJhbSBhcmdzIGZ1cnRoZXIgYXJndW1lbnRzIHRvIGJlIGZvcndhcmRlZCB0byB0aGUgb3BlcmF0aW9uXG4gKiBAcmV0dXJucyByZXN1bHQge1Byb21pc2V9IGEgcHJvbWlzZSBmb3IgdGhlIHJlc3VsdCBvZiB0aGUgb3BlcmF0aW9uXG4gKi9cblEuZGlzcGF0Y2ggPSBkaXNwYXRjaDtcbmZ1bmN0aW9uIGRpc3BhdGNoKG9iamVjdCwgb3AsIGFyZ3MpIHtcbiAgICByZXR1cm4gUShvYmplY3QpLmRpc3BhdGNoKG9wLCBhcmdzKTtcbn1cblxuUHJvbWlzZS5wcm90b3R5cGUuZGlzcGF0Y2ggPSBmdW5jdGlvbiAob3AsIGFyZ3MpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIGRlZmVycmVkID0gZGVmZXIoKTtcbiAgICBRLm5leHRUaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc2VsZi5wcm9taXNlRGlzcGF0Y2goZGVmZXJyZWQucmVzb2x2ZSwgb3AsIGFyZ3MpO1xuICAgIH0pO1xuICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xufTtcblxuLyoqXG4gKiBHZXRzIHRoZSB2YWx1ZSBvZiBhIHByb3BlcnR5IGluIGEgZnV0dXJlIHR1cm4uXG4gKiBAcGFyYW0gb2JqZWN0ICAgIHByb21pc2Ugb3IgaW1tZWRpYXRlIHJlZmVyZW5jZSBmb3IgdGFyZ2V0IG9iamVjdFxuICogQHBhcmFtIG5hbWUgICAgICBuYW1lIG9mIHByb3BlcnR5IHRvIGdldFxuICogQHJldHVybiBwcm9taXNlIGZvciB0aGUgcHJvcGVydHkgdmFsdWVcbiAqL1xuUS5nZXQgPSBmdW5jdGlvbiAob2JqZWN0LCBrZXkpIHtcbiAgICByZXR1cm4gUShvYmplY3QpLmRpc3BhdGNoKFwiZ2V0XCIsIFtrZXldKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICByZXR1cm4gdGhpcy5kaXNwYXRjaChcImdldFwiLCBba2V5XSk7XG59O1xuXG4vKipcbiAqIFNldHMgdGhlIHZhbHVlIG9mIGEgcHJvcGVydHkgaW4gYSBmdXR1cmUgdHVybi5cbiAqIEBwYXJhbSBvYmplY3QgICAgcHJvbWlzZSBvciBpbW1lZGlhdGUgcmVmZXJlbmNlIGZvciBvYmplY3Qgb2JqZWN0XG4gKiBAcGFyYW0gbmFtZSAgICAgIG5hbWUgb2YgcHJvcGVydHkgdG8gc2V0XG4gKiBAcGFyYW0gdmFsdWUgICAgIG5ldyB2YWx1ZSBvZiBwcm9wZXJ0eVxuICogQHJldHVybiBwcm9taXNlIGZvciB0aGUgcmV0dXJuIHZhbHVlXG4gKi9cblEuc2V0ID0gZnVuY3Rpb24gKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICAgIHJldHVybiBRKG9iamVjdCkuZGlzcGF0Y2goXCJzZXRcIiwgW2tleSwgdmFsdWVdKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMuZGlzcGF0Y2goXCJzZXRcIiwgW2tleSwgdmFsdWVdKTtcbn07XG5cbi8qKlxuICogRGVsZXRlcyBhIHByb3BlcnR5IGluIGEgZnV0dXJlIHR1cm4uXG4gKiBAcGFyYW0gb2JqZWN0ICAgIHByb21pc2Ugb3IgaW1tZWRpYXRlIHJlZmVyZW5jZSBmb3IgdGFyZ2V0IG9iamVjdFxuICogQHBhcmFtIG5hbWUgICAgICBuYW1lIG9mIHByb3BlcnR5IHRvIGRlbGV0ZVxuICogQHJldHVybiBwcm9taXNlIGZvciB0aGUgcmV0dXJuIHZhbHVlXG4gKi9cblEuZGVsID0gLy8gWFhYIGxlZ2FjeVxuUVtcImRlbGV0ZVwiXSA9IGZ1bmN0aW9uIChvYmplY3QsIGtleSkge1xuICAgIHJldHVybiBRKG9iamVjdCkuZGlzcGF0Y2goXCJkZWxldGVcIiwgW2tleV0pO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuZGVsID0gLy8gWFhYIGxlZ2FjeVxuUHJvbWlzZS5wcm90b3R5cGVbXCJkZWxldGVcIl0gPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgcmV0dXJuIHRoaXMuZGlzcGF0Y2goXCJkZWxldGVcIiwgW2tleV0pO1xufTtcblxuLyoqXG4gKiBJbnZva2VzIGEgbWV0aG9kIGluIGEgZnV0dXJlIHR1cm4uXG4gKiBAcGFyYW0gb2JqZWN0ICAgIHByb21pc2Ugb3IgaW1tZWRpYXRlIHJlZmVyZW5jZSBmb3IgdGFyZ2V0IG9iamVjdFxuICogQHBhcmFtIG5hbWUgICAgICBuYW1lIG9mIG1ldGhvZCB0byBpbnZva2VcbiAqIEBwYXJhbSB2YWx1ZSAgICAgYSB2YWx1ZSB0byBwb3N0LCB0eXBpY2FsbHkgYW4gYXJyYXkgb2ZcbiAqICAgICAgICAgICAgICAgICAgaW52b2NhdGlvbiBhcmd1bWVudHMgZm9yIHByb21pc2VzIHRoYXRcbiAqICAgICAgICAgICAgICAgICAgYXJlIHVsdGltYXRlbHkgYmFja2VkIHdpdGggYHJlc29sdmVgIHZhbHVlcyxcbiAqICAgICAgICAgICAgICAgICAgYXMgb3Bwb3NlZCB0byB0aG9zZSBiYWNrZWQgd2l0aCBVUkxzXG4gKiAgICAgICAgICAgICAgICAgIHdoZXJlaW4gdGhlIHBvc3RlZCB2YWx1ZSBjYW4gYmUgYW55XG4gKiAgICAgICAgICAgICAgICAgIEpTT04gc2VyaWFsaXphYmxlIG9iamVjdC5cbiAqIEByZXR1cm4gcHJvbWlzZSBmb3IgdGhlIHJldHVybiB2YWx1ZVxuICovXG4vLyBib3VuZCBsb2NhbGx5IGJlY2F1c2UgaXQgaXMgdXNlZCBieSBvdGhlciBtZXRob2RzXG5RLm1hcHBseSA9IC8vIFhYWCBBcyBwcm9wb3NlZCBieSBcIlJlZHNhbmRyb1wiXG5RLnBvc3QgPSBmdW5jdGlvbiAob2JqZWN0LCBuYW1lLCBhcmdzKSB7XG4gICAgcmV0dXJuIFEob2JqZWN0KS5kaXNwYXRjaChcInBvc3RcIiwgW25hbWUsIGFyZ3NdKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLm1hcHBseSA9IC8vIFhYWCBBcyBwcm9wb3NlZCBieSBcIlJlZHNhbmRyb1wiXG5Qcm9taXNlLnByb3RvdHlwZS5wb3N0ID0gZnVuY3Rpb24gKG5hbWUsIGFyZ3MpIHtcbiAgICByZXR1cm4gdGhpcy5kaXNwYXRjaChcInBvc3RcIiwgW25hbWUsIGFyZ3NdKTtcbn07XG5cbi8qKlxuICogSW52b2tlcyBhIG1ldGhvZCBpbiBhIGZ1dHVyZSB0dXJuLlxuICogQHBhcmFtIG9iamVjdCAgICBwcm9taXNlIG9yIGltbWVkaWF0ZSByZWZlcmVuY2UgZm9yIHRhcmdldCBvYmplY3RcbiAqIEBwYXJhbSBuYW1lICAgICAgbmFtZSBvZiBtZXRob2QgdG8gaW52b2tlXG4gKiBAcGFyYW0gLi4uYXJncyAgIGFycmF5IG9mIGludm9jYXRpb24gYXJndW1lbnRzXG4gKiBAcmV0dXJuIHByb21pc2UgZm9yIHRoZSByZXR1cm4gdmFsdWVcbiAqL1xuUS5zZW5kID0gLy8gWFhYIE1hcmsgTWlsbGVyJ3MgcHJvcG9zZWQgcGFybGFuY2VcblEubWNhbGwgPSAvLyBYWFggQXMgcHJvcG9zZWQgYnkgXCJSZWRzYW5kcm9cIlxuUS5pbnZva2UgPSBmdW5jdGlvbiAob2JqZWN0LCBuYW1lIC8qLi4uYXJncyovKSB7XG4gICAgcmV0dXJuIFEob2JqZWN0KS5kaXNwYXRjaChcInBvc3RcIiwgW25hbWUsIGFycmF5X3NsaWNlKGFyZ3VtZW50cywgMildKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLnNlbmQgPSAvLyBYWFggTWFyayBNaWxsZXIncyBwcm9wb3NlZCBwYXJsYW5jZVxuUHJvbWlzZS5wcm90b3R5cGUubWNhbGwgPSAvLyBYWFggQXMgcHJvcG9zZWQgYnkgXCJSZWRzYW5kcm9cIlxuUHJvbWlzZS5wcm90b3R5cGUuaW52b2tlID0gZnVuY3Rpb24gKG5hbWUgLyouLi5hcmdzKi8pIHtcbiAgICByZXR1cm4gdGhpcy5kaXNwYXRjaChcInBvc3RcIiwgW25hbWUsIGFycmF5X3NsaWNlKGFyZ3VtZW50cywgMSldKTtcbn07XG5cbi8qKlxuICogQXBwbGllcyB0aGUgcHJvbWlzZWQgZnVuY3Rpb24gaW4gYSBmdXR1cmUgdHVybi5cbiAqIEBwYXJhbSBvYmplY3QgICAgcHJvbWlzZSBvciBpbW1lZGlhdGUgcmVmZXJlbmNlIGZvciB0YXJnZXQgZnVuY3Rpb25cbiAqIEBwYXJhbSBhcmdzICAgICAgYXJyYXkgb2YgYXBwbGljYXRpb24gYXJndW1lbnRzXG4gKi9cblEuZmFwcGx5ID0gZnVuY3Rpb24gKG9iamVjdCwgYXJncykge1xuICAgIHJldHVybiBRKG9iamVjdCkuZGlzcGF0Y2goXCJhcHBseVwiLCBbdm9pZCAwLCBhcmdzXSk7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5mYXBwbHkgPSBmdW5jdGlvbiAoYXJncykge1xuICAgIHJldHVybiB0aGlzLmRpc3BhdGNoKFwiYXBwbHlcIiwgW3ZvaWQgMCwgYXJnc10pO1xufTtcblxuLyoqXG4gKiBDYWxscyB0aGUgcHJvbWlzZWQgZnVuY3Rpb24gaW4gYSBmdXR1cmUgdHVybi5cbiAqIEBwYXJhbSBvYmplY3QgICAgcHJvbWlzZSBvciBpbW1lZGlhdGUgcmVmZXJlbmNlIGZvciB0YXJnZXQgZnVuY3Rpb25cbiAqIEBwYXJhbSAuLi5hcmdzICAgYXJyYXkgb2YgYXBwbGljYXRpb24gYXJndW1lbnRzXG4gKi9cblFbXCJ0cnlcIl0gPVxuUS5mY2FsbCA9IGZ1bmN0aW9uIChvYmplY3QgLyogLi4uYXJncyovKSB7XG4gICAgcmV0dXJuIFEob2JqZWN0KS5kaXNwYXRjaChcImFwcGx5XCIsIFt2b2lkIDAsIGFycmF5X3NsaWNlKGFyZ3VtZW50cywgMSldKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLmZjYWxsID0gZnVuY3Rpb24gKC8qLi4uYXJncyovKSB7XG4gICAgcmV0dXJuIHRoaXMuZGlzcGF0Y2goXCJhcHBseVwiLCBbdm9pZCAwLCBhcnJheV9zbGljZShhcmd1bWVudHMpXSk7XG59O1xuXG4vKipcbiAqIEJpbmRzIHRoZSBwcm9taXNlZCBmdW5jdGlvbiwgdHJhbnNmb3JtaW5nIHJldHVybiB2YWx1ZXMgaW50byBhIGZ1bGZpbGxlZFxuICogcHJvbWlzZSBhbmQgdGhyb3duIGVycm9ycyBpbnRvIGEgcmVqZWN0ZWQgb25lLlxuICogQHBhcmFtIG9iamVjdCAgICBwcm9taXNlIG9yIGltbWVkaWF0ZSByZWZlcmVuY2UgZm9yIHRhcmdldCBmdW5jdGlvblxuICogQHBhcmFtIC4uLmFyZ3MgICBhcnJheSBvZiBhcHBsaWNhdGlvbiBhcmd1bWVudHNcbiAqL1xuUS5mYmluZCA9IGZ1bmN0aW9uIChvYmplY3QgLyouLi5hcmdzKi8pIHtcbiAgICB2YXIgcHJvbWlzZSA9IFEob2JqZWN0KTtcbiAgICB2YXIgYXJncyA9IGFycmF5X3NsaWNlKGFyZ3VtZW50cywgMSk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGZib3VuZCgpIHtcbiAgICAgICAgcmV0dXJuIHByb21pc2UuZGlzcGF0Y2goXCJhcHBseVwiLCBbXG4gICAgICAgICAgICB0aGlzLFxuICAgICAgICAgICAgYXJncy5jb25jYXQoYXJyYXlfc2xpY2UoYXJndW1lbnRzKSlcbiAgICAgICAgXSk7XG4gICAgfTtcbn07XG5Qcm9taXNlLnByb3RvdHlwZS5mYmluZCA9IGZ1bmN0aW9uICgvKi4uLmFyZ3MqLykge1xuICAgIHZhciBwcm9taXNlID0gdGhpcztcbiAgICB2YXIgYXJncyA9IGFycmF5X3NsaWNlKGFyZ3VtZW50cyk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGZib3VuZCgpIHtcbiAgICAgICAgcmV0dXJuIHByb21pc2UuZGlzcGF0Y2goXCJhcHBseVwiLCBbXG4gICAgICAgICAgICB0aGlzLFxuICAgICAgICAgICAgYXJncy5jb25jYXQoYXJyYXlfc2xpY2UoYXJndW1lbnRzKSlcbiAgICAgICAgXSk7XG4gICAgfTtcbn07XG5cbi8qKlxuICogUmVxdWVzdHMgdGhlIG5hbWVzIG9mIHRoZSBvd25lZCBwcm9wZXJ0aWVzIG9mIGEgcHJvbWlzZWRcbiAqIG9iamVjdCBpbiBhIGZ1dHVyZSB0dXJuLlxuICogQHBhcmFtIG9iamVjdCAgICBwcm9taXNlIG9yIGltbWVkaWF0ZSByZWZlcmVuY2UgZm9yIHRhcmdldCBvYmplY3RcbiAqIEByZXR1cm4gcHJvbWlzZSBmb3IgdGhlIGtleXMgb2YgdGhlIGV2ZW50dWFsbHkgc2V0dGxlZCBvYmplY3RcbiAqL1xuUS5rZXlzID0gZnVuY3Rpb24gKG9iamVjdCkge1xuICAgIHJldHVybiBRKG9iamVjdCkuZGlzcGF0Y2goXCJrZXlzXCIsIFtdKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLmtleXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGlzcGF0Y2goXCJrZXlzXCIsIFtdKTtcbn07XG5cbi8qKlxuICogVHVybnMgYW4gYXJyYXkgb2YgcHJvbWlzZXMgaW50byBhIHByb21pc2UgZm9yIGFuIGFycmF5LiAgSWYgYW55IG9mXG4gKiB0aGUgcHJvbWlzZXMgZ2V0cyByZWplY3RlZCwgdGhlIHdob2xlIGFycmF5IGlzIHJlamVjdGVkIGltbWVkaWF0ZWx5LlxuICogQHBhcmFtIHtBcnJheSp9IGFuIGFycmF5IChvciBwcm9taXNlIGZvciBhbiBhcnJheSkgb2YgdmFsdWVzIChvclxuICogcHJvbWlzZXMgZm9yIHZhbHVlcylcbiAqIEByZXR1cm5zIGEgcHJvbWlzZSBmb3IgYW4gYXJyYXkgb2YgdGhlIGNvcnJlc3BvbmRpbmcgdmFsdWVzXG4gKi9cbi8vIEJ5IE1hcmsgTWlsbGVyXG4vLyBodHRwOi8vd2lraS5lY21hc2NyaXB0Lm9yZy9kb2t1LnBocD9pZD1zdHJhd21hbjpjb25jdXJyZW5jeSZyZXY9MTMwODc3NjUyMSNhbGxmdWxmaWxsZWRcblEuYWxsID0gYWxsO1xuZnVuY3Rpb24gYWxsKHByb21pc2VzKSB7XG4gICAgcmV0dXJuIHdoZW4ocHJvbWlzZXMsIGZ1bmN0aW9uIChwcm9taXNlcykge1xuICAgICAgICB2YXIgcGVuZGluZ0NvdW50ID0gMDtcbiAgICAgICAgdmFyIGRlZmVycmVkID0gZGVmZXIoKTtcbiAgICAgICAgYXJyYXlfcmVkdWNlKHByb21pc2VzLCBmdW5jdGlvbiAodW5kZWZpbmVkLCBwcm9taXNlLCBpbmRleCkge1xuICAgICAgICAgICAgdmFyIHNuYXBzaG90O1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIGlzUHJvbWlzZShwcm9taXNlKSAmJlxuICAgICAgICAgICAgICAgIChzbmFwc2hvdCA9IHByb21pc2UuaW5zcGVjdCgpKS5zdGF0ZSA9PT0gXCJmdWxmaWxsZWRcIlxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgcHJvbWlzZXNbaW5kZXhdID0gc25hcHNob3QudmFsdWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICsrcGVuZGluZ0NvdW50O1xuICAgICAgICAgICAgICAgIHdoZW4oXG4gICAgICAgICAgICAgICAgICAgIHByb21pc2UsXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvbWlzZXNbaW5kZXhdID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoLS1wZW5kaW5nQ291bnQgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHByb21pc2VzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVqZWN0LFxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAocHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLm5vdGlmeSh7IGluZGV4OiBpbmRleCwgdmFsdWU6IHByb2dyZXNzIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgdm9pZCAwKTtcbiAgICAgICAgaWYgKHBlbmRpbmdDb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShwcm9taXNlcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgfSk7XG59XG5cblByb21pc2UucHJvdG90eXBlLmFsbCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gYWxsKHRoaXMpO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBmaXJzdCByZXNvbHZlZCBwcm9taXNlIG9mIGFuIGFycmF5LiBQcmlvciByZWplY3RlZCBwcm9taXNlcyBhcmVcbiAqIGlnbm9yZWQuICBSZWplY3RzIG9ubHkgaWYgYWxsIHByb21pc2VzIGFyZSByZWplY3RlZC5cbiAqIEBwYXJhbSB7QXJyYXkqfSBhbiBhcnJheSBjb250YWluaW5nIHZhbHVlcyBvciBwcm9taXNlcyBmb3IgdmFsdWVzXG4gKiBAcmV0dXJucyBhIHByb21pc2UgZnVsZmlsbGVkIHdpdGggdGhlIHZhbHVlIG9mIHRoZSBmaXJzdCByZXNvbHZlZCBwcm9taXNlLFxuICogb3IgYSByZWplY3RlZCBwcm9taXNlIGlmIGFsbCBwcm9taXNlcyBhcmUgcmVqZWN0ZWQuXG4gKi9cblEuYW55ID0gYW55O1xuXG5mdW5jdGlvbiBhbnkocHJvbWlzZXMpIHtcbiAgICBpZiAocHJvbWlzZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBRLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICB2YXIgZGVmZXJyZWQgPSBRLmRlZmVyKCk7XG4gICAgdmFyIHBlbmRpbmdDb3VudCA9IDA7XG4gICAgYXJyYXlfcmVkdWNlKHByb21pc2VzLCBmdW5jdGlvbiAocHJldiwgY3VycmVudCwgaW5kZXgpIHtcbiAgICAgICAgdmFyIHByb21pc2UgPSBwcm9taXNlc1tpbmRleF07XG5cbiAgICAgICAgcGVuZGluZ0NvdW50Kys7XG5cbiAgICAgICAgd2hlbihwcm9taXNlLCBvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCwgb25Qcm9ncmVzcyk7XG4gICAgICAgIGZ1bmN0aW9uIG9uRnVsZmlsbGVkKHJlc3VsdCkge1xuICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIG9uUmVqZWN0ZWQoZXJyKSB7XG4gICAgICAgICAgICBwZW5kaW5nQ291bnQtLTtcbiAgICAgICAgICAgIGlmIChwZW5kaW5nQ291bnQgPT09IDApIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVqZWN0aW9uID0gZXJyIHx8IG5ldyBFcnJvcihcIlwiICsgZXJyKTtcblxuICAgICAgICAgICAgICAgIHJlamVjdGlvbi5tZXNzYWdlID0gKFwiUSBjYW4ndCBnZXQgZnVsZmlsbG1lbnQgdmFsdWUgZnJvbSBhbnkgcHJvbWlzZSwgYWxsIFwiICtcbiAgICAgICAgICAgICAgICAgICAgXCJwcm9taXNlcyB3ZXJlIHJlamVjdGVkLiBMYXN0IGVycm9yIG1lc3NhZ2U6IFwiICsgcmVqZWN0aW9uLm1lc3NhZ2UpO1xuXG4gICAgICAgICAgICAgICAgZGVmZXJyZWQucmVqZWN0KHJlamVjdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gb25Qcm9ncmVzcyhwcm9ncmVzcykge1xuICAgICAgICAgICAgZGVmZXJyZWQubm90aWZ5KHtcbiAgICAgICAgICAgICAgICBpbmRleDogaW5kZXgsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHByb2dyZXNzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0sIHVuZGVmaW5lZCk7XG5cbiAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbn1cblxuUHJvbWlzZS5wcm90b3R5cGUuYW55ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBhbnkodGhpcyk7XG59O1xuXG4vKipcbiAqIFdhaXRzIGZvciBhbGwgcHJvbWlzZXMgdG8gYmUgc2V0dGxlZCwgZWl0aGVyIGZ1bGZpbGxlZCBvclxuICogcmVqZWN0ZWQuICBUaGlzIGlzIGRpc3RpbmN0IGZyb20gYGFsbGAgc2luY2UgdGhhdCB3b3VsZCBzdG9wXG4gKiB3YWl0aW5nIGF0IHRoZSBmaXJzdCByZWplY3Rpb24uICBUaGUgcHJvbWlzZSByZXR1cm5lZCBieVxuICogYGFsbFJlc29sdmVkYCB3aWxsIG5ldmVyIGJlIHJlamVjdGVkLlxuICogQHBhcmFtIHByb21pc2VzIGEgcHJvbWlzZSBmb3IgYW4gYXJyYXkgKG9yIGFuIGFycmF5KSBvZiBwcm9taXNlc1xuICogKG9yIHZhbHVlcylcbiAqIEByZXR1cm4gYSBwcm9taXNlIGZvciBhbiBhcnJheSBvZiBwcm9taXNlc1xuICovXG5RLmFsbFJlc29sdmVkID0gZGVwcmVjYXRlKGFsbFJlc29sdmVkLCBcImFsbFJlc29sdmVkXCIsIFwiYWxsU2V0dGxlZFwiKTtcbmZ1bmN0aW9uIGFsbFJlc29sdmVkKHByb21pc2VzKSB7XG4gICAgcmV0dXJuIHdoZW4ocHJvbWlzZXMsIGZ1bmN0aW9uIChwcm9taXNlcykge1xuICAgICAgICBwcm9taXNlcyA9IGFycmF5X21hcChwcm9taXNlcywgUSk7XG4gICAgICAgIHJldHVybiB3aGVuKGFsbChhcnJheV9tYXAocHJvbWlzZXMsIGZ1bmN0aW9uIChwcm9taXNlKSB7XG4gICAgICAgICAgICByZXR1cm4gd2hlbihwcm9taXNlLCBub29wLCBub29wKTtcbiAgICAgICAgfSkpLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvbWlzZXM7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuXG5Qcm9taXNlLnByb3RvdHlwZS5hbGxSZXNvbHZlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gYWxsUmVzb2x2ZWQodGhpcyk7XG59O1xuXG4vKipcbiAqIEBzZWUgUHJvbWlzZSNhbGxTZXR0bGVkXG4gKi9cblEuYWxsU2V0dGxlZCA9IGFsbFNldHRsZWQ7XG5mdW5jdGlvbiBhbGxTZXR0bGVkKHByb21pc2VzKSB7XG4gICAgcmV0dXJuIFEocHJvbWlzZXMpLmFsbFNldHRsZWQoKTtcbn1cblxuLyoqXG4gKiBUdXJucyBhbiBhcnJheSBvZiBwcm9taXNlcyBpbnRvIGEgcHJvbWlzZSBmb3IgYW4gYXJyYXkgb2YgdGhlaXIgc3RhdGVzIChhc1xuICogcmV0dXJuZWQgYnkgYGluc3BlY3RgKSB3aGVuIHRoZXkgaGF2ZSBhbGwgc2V0dGxlZC5cbiAqIEBwYXJhbSB7QXJyYXlbQW55Kl19IHZhbHVlcyBhbiBhcnJheSAob3IgcHJvbWlzZSBmb3IgYW4gYXJyYXkpIG9mIHZhbHVlcyAob3JcbiAqIHByb21pc2VzIGZvciB2YWx1ZXMpXG4gKiBAcmV0dXJucyB7QXJyYXlbU3RhdGVdfSBhbiBhcnJheSBvZiBzdGF0ZXMgZm9yIHRoZSByZXNwZWN0aXZlIHZhbHVlcy5cbiAqL1xuUHJvbWlzZS5wcm90b3R5cGUuYWxsU2V0dGxlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy50aGVuKGZ1bmN0aW9uIChwcm9taXNlcykge1xuICAgICAgICByZXR1cm4gYWxsKGFycmF5X21hcChwcm9taXNlcywgZnVuY3Rpb24gKHByb21pc2UpIHtcbiAgICAgICAgICAgIHByb21pc2UgPSBRKHByb21pc2UpO1xuICAgICAgICAgICAgZnVuY3Rpb24gcmVnYXJkbGVzcygpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJvbWlzZS5pbnNwZWN0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcHJvbWlzZS50aGVuKHJlZ2FyZGxlc3MsIHJlZ2FyZGxlc3MpO1xuICAgICAgICB9KSk7XG4gICAgfSk7XG59O1xuXG4vKipcbiAqIENhcHR1cmVzIHRoZSBmYWlsdXJlIG9mIGEgcHJvbWlzZSwgZ2l2aW5nIGFuIG9wb3J0dW5pdHkgdG8gcmVjb3ZlclxuICogd2l0aCBhIGNhbGxiYWNrLiAgSWYgdGhlIGdpdmVuIHByb21pc2UgaXMgZnVsZmlsbGVkLCB0aGUgcmV0dXJuZWRcbiAqIHByb21pc2UgaXMgZnVsZmlsbGVkLlxuICogQHBhcmFtIHtBbnkqfSBwcm9taXNlIGZvciBzb21ldGhpbmdcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIHRvIGZ1bGZpbGwgdGhlIHJldHVybmVkIHByb21pc2UgaWYgdGhlXG4gKiBnaXZlbiBwcm9taXNlIGlzIHJlamVjdGVkXG4gKiBAcmV0dXJucyBhIHByb21pc2UgZm9yIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIGNhbGxiYWNrXG4gKi9cblEuZmFpbCA9IC8vIFhYWCBsZWdhY3lcblFbXCJjYXRjaFwiXSA9IGZ1bmN0aW9uIChvYmplY3QsIHJlamVjdGVkKSB7XG4gICAgcmV0dXJuIFEob2JqZWN0KS50aGVuKHZvaWQgMCwgcmVqZWN0ZWQpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuZmFpbCA9IC8vIFhYWCBsZWdhY3lcblByb21pc2UucHJvdG90eXBlW1wiY2F0Y2hcIl0gPSBmdW5jdGlvbiAocmVqZWN0ZWQpIHtcbiAgICByZXR1cm4gdGhpcy50aGVuKHZvaWQgMCwgcmVqZWN0ZWQpO1xufTtcblxuLyoqXG4gKiBBdHRhY2hlcyBhIGxpc3RlbmVyIHRoYXQgY2FuIHJlc3BvbmQgdG8gcHJvZ3Jlc3Mgbm90aWZpY2F0aW9ucyBmcm9tIGFcbiAqIHByb21pc2UncyBvcmlnaW5hdGluZyBkZWZlcnJlZC4gVGhpcyBsaXN0ZW5lciByZWNlaXZlcyB0aGUgZXhhY3QgYXJndW1lbnRzXG4gKiBwYXNzZWQgdG8gYGBkZWZlcnJlZC5ub3RpZnlgYC5cbiAqIEBwYXJhbSB7QW55Kn0gcHJvbWlzZSBmb3Igc29tZXRoaW5nXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayB0byByZWNlaXZlIGFueSBwcm9ncmVzcyBub3RpZmljYXRpb25zXG4gKiBAcmV0dXJucyB0aGUgZ2l2ZW4gcHJvbWlzZSwgdW5jaGFuZ2VkXG4gKi9cblEucHJvZ3Jlc3MgPSBwcm9ncmVzcztcbmZ1bmN0aW9uIHByb2dyZXNzKG9iamVjdCwgcHJvZ3Jlc3NlZCkge1xuICAgIHJldHVybiBRKG9iamVjdCkudGhlbih2b2lkIDAsIHZvaWQgMCwgcHJvZ3Jlc3NlZCk7XG59XG5cblByb21pc2UucHJvdG90eXBlLnByb2dyZXNzID0gZnVuY3Rpb24gKHByb2dyZXNzZWQpIHtcbiAgICByZXR1cm4gdGhpcy50aGVuKHZvaWQgMCwgdm9pZCAwLCBwcm9ncmVzc2VkKTtcbn07XG5cbi8qKlxuICogUHJvdmlkZXMgYW4gb3Bwb3J0dW5pdHkgdG8gb2JzZXJ2ZSB0aGUgc2V0dGxpbmcgb2YgYSBwcm9taXNlLFxuICogcmVnYXJkbGVzcyBvZiB3aGV0aGVyIHRoZSBwcm9taXNlIGlzIGZ1bGZpbGxlZCBvciByZWplY3RlZC4gIEZvcndhcmRzXG4gKiB0aGUgcmVzb2x1dGlvbiB0byB0aGUgcmV0dXJuZWQgcHJvbWlzZSB3aGVuIHRoZSBjYWxsYmFjayBpcyBkb25lLlxuICogVGhlIGNhbGxiYWNrIGNhbiByZXR1cm4gYSBwcm9taXNlIHRvIGRlZmVyIGNvbXBsZXRpb24uXG4gKiBAcGFyYW0ge0FueSp9IHByb21pc2VcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIHRvIG9ic2VydmUgdGhlIHJlc29sdXRpb24gb2YgdGhlIGdpdmVuXG4gKiBwcm9taXNlLCB0YWtlcyBubyBhcmd1bWVudHMuXG4gKiBAcmV0dXJucyBhIHByb21pc2UgZm9yIHRoZSByZXNvbHV0aW9uIG9mIHRoZSBnaXZlbiBwcm9taXNlIHdoZW5cbiAqIGBgZmluYGAgaXMgZG9uZS5cbiAqL1xuUS5maW4gPSAvLyBYWFggbGVnYWN5XG5RW1wiZmluYWxseVwiXSA9IGZ1bmN0aW9uIChvYmplY3QsIGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIFEob2JqZWN0KVtcImZpbmFsbHlcIl0oY2FsbGJhY2spO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuZmluID0gLy8gWFhYIGxlZ2FjeVxuUHJvbWlzZS5wcm90b3R5cGVbXCJmaW5hbGx5XCJdID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgaWYgKCFjYWxsYmFjayB8fCB0eXBlb2YgY2FsbGJhY2suYXBwbHkgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJRIGNhbid0IGFwcGx5IGZpbmFsbHkgY2FsbGJhY2tcIik7XG4gICAgfVxuICAgIGNhbGxiYWNrID0gUShjYWxsYmFjayk7XG4gICAgcmV0dXJuIHRoaXMudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrLmZjYWxsKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgICAgLy8gVE9ETyBhdHRlbXB0IHRvIHJlY3ljbGUgdGhlIHJlamVjdGlvbiB3aXRoIFwidGhpc1wiLlxuICAgICAgICByZXR1cm4gY2FsbGJhY2suZmNhbGwoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRocm93IHJlYXNvbjtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59O1xuXG4vKipcbiAqIFRlcm1pbmF0ZXMgYSBjaGFpbiBvZiBwcm9taXNlcywgZm9yY2luZyByZWplY3Rpb25zIHRvIGJlXG4gKiB0aHJvd24gYXMgZXhjZXB0aW9ucy5cbiAqIEBwYXJhbSB7QW55Kn0gcHJvbWlzZSBhdCB0aGUgZW5kIG9mIGEgY2hhaW4gb2YgcHJvbWlzZXNcbiAqIEByZXR1cm5zIG5vdGhpbmdcbiAqL1xuUS5kb25lID0gZnVuY3Rpb24gKG9iamVjdCwgZnVsZmlsbGVkLCByZWplY3RlZCwgcHJvZ3Jlc3MpIHtcbiAgICByZXR1cm4gUShvYmplY3QpLmRvbmUoZnVsZmlsbGVkLCByZWplY3RlZCwgcHJvZ3Jlc3MpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuZG9uZSA9IGZ1bmN0aW9uIChmdWxmaWxsZWQsIHJlamVjdGVkLCBwcm9ncmVzcykge1xuICAgIHZhciBvblVuaGFuZGxlZEVycm9yID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgIC8vIGZvcndhcmQgdG8gYSBmdXR1cmUgdHVybiBzbyB0aGF0IGBgd2hlbmBgXG4gICAgICAgIC8vIGRvZXMgbm90IGNhdGNoIGl0IGFuZCB0dXJuIGl0IGludG8gYSByZWplY3Rpb24uXG4gICAgICAgIFEubmV4dFRpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgbWFrZVN0YWNrVHJhY2VMb25nKGVycm9yLCBwcm9taXNlKTtcbiAgICAgICAgICAgIGlmIChRLm9uZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBRLm9uZXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8vIEF2b2lkIHVubmVjZXNzYXJ5IGBuZXh0VGlja2BpbmcgdmlhIGFuIHVubmVjZXNzYXJ5IGB3aGVuYC5cbiAgICB2YXIgcHJvbWlzZSA9IGZ1bGZpbGxlZCB8fCByZWplY3RlZCB8fCBwcm9ncmVzcyA/XG4gICAgICAgIHRoaXMudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkLCBwcm9ncmVzcykgOlxuICAgICAgICB0aGlzO1xuXG4gICAgaWYgKHR5cGVvZiBwcm9jZXNzID09PSBcIm9iamVjdFwiICYmIHByb2Nlc3MgJiYgcHJvY2Vzcy5kb21haW4pIHtcbiAgICAgICAgb25VbmhhbmRsZWRFcnJvciA9IHByb2Nlc3MuZG9tYWluLmJpbmQob25VbmhhbmRsZWRFcnJvcik7XG4gICAgfVxuXG4gICAgcHJvbWlzZS50aGVuKHZvaWQgMCwgb25VbmhhbmRsZWRFcnJvcik7XG59O1xuXG4vKipcbiAqIENhdXNlcyBhIHByb21pc2UgdG8gYmUgcmVqZWN0ZWQgaWYgaXQgZG9lcyBub3QgZ2V0IGZ1bGZpbGxlZCBiZWZvcmVcbiAqIHNvbWUgbWlsbGlzZWNvbmRzIHRpbWUgb3V0LlxuICogQHBhcmFtIHtBbnkqfSBwcm9taXNlXG4gKiBAcGFyYW0ge051bWJlcn0gbWlsbGlzZWNvbmRzIHRpbWVvdXRcbiAqIEBwYXJhbSB7QW55Kn0gY3VzdG9tIGVycm9yIG1lc3NhZ2Ugb3IgRXJyb3Igb2JqZWN0IChvcHRpb25hbClcbiAqIEByZXR1cm5zIGEgcHJvbWlzZSBmb3IgdGhlIHJlc29sdXRpb24gb2YgdGhlIGdpdmVuIHByb21pc2UgaWYgaXQgaXNcbiAqIGZ1bGZpbGxlZCBiZWZvcmUgdGhlIHRpbWVvdXQsIG90aGVyd2lzZSByZWplY3RlZC5cbiAqL1xuUS50aW1lb3V0ID0gZnVuY3Rpb24gKG9iamVjdCwgbXMsIGVycm9yKSB7XG4gICAgcmV0dXJuIFEob2JqZWN0KS50aW1lb3V0KG1zLCBlcnJvcik7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS50aW1lb3V0ID0gZnVuY3Rpb24gKG1zLCBlcnJvcikge1xuICAgIHZhciBkZWZlcnJlZCA9IGRlZmVyKCk7XG4gICAgdmFyIHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIWVycm9yIHx8IFwic3RyaW5nXCIgPT09IHR5cGVvZiBlcnJvcikge1xuICAgICAgICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoZXJyb3IgfHwgXCJUaW1lZCBvdXQgYWZ0ZXIgXCIgKyBtcyArIFwiIG1zXCIpO1xuICAgICAgICAgICAgZXJyb3IuY29kZSA9IFwiRVRJTUVET1VUXCI7XG4gICAgICAgIH1cbiAgICAgICAgZGVmZXJyZWQucmVqZWN0KGVycm9yKTtcbiAgICB9LCBtcyk7XG5cbiAgICB0aGlzLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHZhbHVlKTtcbiAgICB9LCBmdW5jdGlvbiAoZXhjZXB0aW9uKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICAgICAgICBkZWZlcnJlZC5yZWplY3QoZXhjZXB0aW9uKTtcbiAgICB9LCBkZWZlcnJlZC5ub3RpZnkpO1xuXG4gICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG59O1xuXG4vKipcbiAqIFJldHVybnMgYSBwcm9taXNlIGZvciB0aGUgZ2l2ZW4gdmFsdWUgKG9yIHByb21pc2VkIHZhbHVlKSwgc29tZVxuICogbWlsbGlzZWNvbmRzIGFmdGVyIGl0IHJlc29sdmVkLiBQYXNzZXMgcmVqZWN0aW9ucyBpbW1lZGlhdGVseS5cbiAqIEBwYXJhbSB7QW55Kn0gcHJvbWlzZVxuICogQHBhcmFtIHtOdW1iZXJ9IG1pbGxpc2Vjb25kc1xuICogQHJldHVybnMgYSBwcm9taXNlIGZvciB0aGUgcmVzb2x1dGlvbiBvZiB0aGUgZ2l2ZW4gcHJvbWlzZSBhZnRlciBtaWxsaXNlY29uZHNcbiAqIHRpbWUgaGFzIGVsYXBzZWQgc2luY2UgdGhlIHJlc29sdXRpb24gb2YgdGhlIGdpdmVuIHByb21pc2UuXG4gKiBJZiB0aGUgZ2l2ZW4gcHJvbWlzZSByZWplY3RzLCB0aGF0IGlzIHBhc3NlZCBpbW1lZGlhdGVseS5cbiAqL1xuUS5kZWxheSA9IGZ1bmN0aW9uIChvYmplY3QsIHRpbWVvdXQpIHtcbiAgICBpZiAodGltZW91dCA9PT0gdm9pZCAwKSB7XG4gICAgICAgIHRpbWVvdXQgPSBvYmplY3Q7XG4gICAgICAgIG9iamVjdCA9IHZvaWQgMDtcbiAgICB9XG4gICAgcmV0dXJuIFEob2JqZWN0KS5kZWxheSh0aW1lb3V0KTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLmRlbGF5ID0gZnVuY3Rpb24gKHRpbWVvdXQpIHtcbiAgICByZXR1cm4gdGhpcy50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgZGVmZXJyZWQgPSBkZWZlcigpO1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUodmFsdWUpO1xuICAgICAgICB9LCB0aW1lb3V0KTtcbiAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgfSk7XG59O1xuXG4vKipcbiAqIFBhc3NlcyBhIGNvbnRpbnVhdGlvbiB0byBhIE5vZGUgZnVuY3Rpb24sIHdoaWNoIGlzIGNhbGxlZCB3aXRoIHRoZSBnaXZlblxuICogYXJndW1lbnRzIHByb3ZpZGVkIGFzIGFuIGFycmF5LCBhbmQgcmV0dXJucyBhIHByb21pc2UuXG4gKlxuICogICAgICBRLm5mYXBwbHkoRlMucmVhZEZpbGUsIFtfX2ZpbGVuYW1lXSlcbiAqICAgICAgLnRoZW4oZnVuY3Rpb24gKGNvbnRlbnQpIHtcbiAqICAgICAgfSlcbiAqXG4gKi9cblEubmZhcHBseSA9IGZ1bmN0aW9uIChjYWxsYmFjaywgYXJncykge1xuICAgIHJldHVybiBRKGNhbGxiYWNrKS5uZmFwcGx5KGFyZ3MpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUubmZhcHBseSA9IGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgdmFyIGRlZmVycmVkID0gZGVmZXIoKTtcbiAgICB2YXIgbm9kZUFyZ3MgPSBhcnJheV9zbGljZShhcmdzKTtcbiAgICBub2RlQXJncy5wdXNoKGRlZmVycmVkLm1ha2VOb2RlUmVzb2x2ZXIoKSk7XG4gICAgdGhpcy5mYXBwbHkobm9kZUFyZ3MpLmZhaWwoZGVmZXJyZWQucmVqZWN0KTtcbiAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbn07XG5cbi8qKlxuICogUGFzc2VzIGEgY29udGludWF0aW9uIHRvIGEgTm9kZSBmdW5jdGlvbiwgd2hpY2ggaXMgY2FsbGVkIHdpdGggdGhlIGdpdmVuXG4gKiBhcmd1bWVudHMgcHJvdmlkZWQgaW5kaXZpZHVhbGx5LCBhbmQgcmV0dXJucyBhIHByb21pc2UuXG4gKiBAZXhhbXBsZVxuICogUS5uZmNhbGwoRlMucmVhZEZpbGUsIF9fZmlsZW5hbWUpXG4gKiAudGhlbihmdW5jdGlvbiAoY29udGVudCkge1xuICogfSlcbiAqXG4gKi9cblEubmZjYWxsID0gZnVuY3Rpb24gKGNhbGxiYWNrIC8qLi4uYXJncyovKSB7XG4gICAgdmFyIGFyZ3MgPSBhcnJheV9zbGljZShhcmd1bWVudHMsIDEpO1xuICAgIHJldHVybiBRKGNhbGxiYWNrKS5uZmFwcGx5KGFyZ3MpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUubmZjYWxsID0gZnVuY3Rpb24gKC8qLi4uYXJncyovKSB7XG4gICAgdmFyIG5vZGVBcmdzID0gYXJyYXlfc2xpY2UoYXJndW1lbnRzKTtcbiAgICB2YXIgZGVmZXJyZWQgPSBkZWZlcigpO1xuICAgIG5vZGVBcmdzLnB1c2goZGVmZXJyZWQubWFrZU5vZGVSZXNvbHZlcigpKTtcbiAgICB0aGlzLmZhcHBseShub2RlQXJncykuZmFpbChkZWZlcnJlZC5yZWplY3QpO1xuICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xufTtcblxuLyoqXG4gKiBXcmFwcyBhIE5vZGVKUyBjb250aW51YXRpb24gcGFzc2luZyBmdW5jdGlvbiBhbmQgcmV0dXJucyBhbiBlcXVpdmFsZW50XG4gKiB2ZXJzaW9uIHRoYXQgcmV0dXJucyBhIHByb21pc2UuXG4gKiBAZXhhbXBsZVxuICogUS5uZmJpbmQoRlMucmVhZEZpbGUsIF9fZmlsZW5hbWUpKFwidXRmLThcIilcbiAqIC50aGVuKGNvbnNvbGUubG9nKVxuICogLmRvbmUoKVxuICovXG5RLm5mYmluZCA9XG5RLmRlbm9kZWlmeSA9IGZ1bmN0aW9uIChjYWxsYmFjayAvKi4uLmFyZ3MqLykge1xuICAgIGlmIChjYWxsYmFjayA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlEgY2FuJ3Qgd3JhcCBhbiB1bmRlZmluZWQgZnVuY3Rpb25cIik7XG4gICAgfVxuICAgIHZhciBiYXNlQXJncyA9IGFycmF5X3NsaWNlKGFyZ3VtZW50cywgMSk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG5vZGVBcmdzID0gYmFzZUFyZ3MuY29uY2F0KGFycmF5X3NsaWNlKGFyZ3VtZW50cykpO1xuICAgICAgICB2YXIgZGVmZXJyZWQgPSBkZWZlcigpO1xuICAgICAgICBub2RlQXJncy5wdXNoKGRlZmVycmVkLm1ha2VOb2RlUmVzb2x2ZXIoKSk7XG4gICAgICAgIFEoY2FsbGJhY2spLmZhcHBseShub2RlQXJncykuZmFpbChkZWZlcnJlZC5yZWplY3QpO1xuICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICB9O1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUubmZiaW5kID1cblByb21pc2UucHJvdG90eXBlLmRlbm9kZWlmeSA9IGZ1bmN0aW9uICgvKi4uLmFyZ3MqLykge1xuICAgIHZhciBhcmdzID0gYXJyYXlfc2xpY2UoYXJndW1lbnRzKTtcbiAgICBhcmdzLnVuc2hpZnQodGhpcyk7XG4gICAgcmV0dXJuIFEuZGVub2RlaWZ5LmFwcGx5KHZvaWQgMCwgYXJncyk7XG59O1xuXG5RLm5iaW5kID0gZnVuY3Rpb24gKGNhbGxiYWNrLCB0aGlzcCAvKi4uLmFyZ3MqLykge1xuICAgIHZhciBiYXNlQXJncyA9IGFycmF5X3NsaWNlKGFyZ3VtZW50cywgMik7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG5vZGVBcmdzID0gYmFzZUFyZ3MuY29uY2F0KGFycmF5X3NsaWNlKGFyZ3VtZW50cykpO1xuICAgICAgICB2YXIgZGVmZXJyZWQgPSBkZWZlcigpO1xuICAgICAgICBub2RlQXJncy5wdXNoKGRlZmVycmVkLm1ha2VOb2RlUmVzb2x2ZXIoKSk7XG4gICAgICAgIGZ1bmN0aW9uIGJvdW5kKCkge1xuICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrLmFwcGx5KHRoaXNwLCBhcmd1bWVudHMpO1xuICAgICAgICB9XG4gICAgICAgIFEoYm91bmQpLmZhcHBseShub2RlQXJncykuZmFpbChkZWZlcnJlZC5yZWplY3QpO1xuICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICB9O1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUubmJpbmQgPSBmdW5jdGlvbiAoLyp0aGlzcCwgLi4uYXJncyovKSB7XG4gICAgdmFyIGFyZ3MgPSBhcnJheV9zbGljZShhcmd1bWVudHMsIDApO1xuICAgIGFyZ3MudW5zaGlmdCh0aGlzKTtcbiAgICByZXR1cm4gUS5uYmluZC5hcHBseSh2b2lkIDAsIGFyZ3MpO1xufTtcblxuLyoqXG4gKiBDYWxscyBhIG1ldGhvZCBvZiBhIE5vZGUtc3R5bGUgb2JqZWN0IHRoYXQgYWNjZXB0cyBhIE5vZGUtc3R5bGVcbiAqIGNhbGxiYWNrIHdpdGggYSBnaXZlbiBhcnJheSBvZiBhcmd1bWVudHMsIHBsdXMgYSBwcm92aWRlZCBjYWxsYmFjay5cbiAqIEBwYXJhbSBvYmplY3QgYW4gb2JqZWN0IHRoYXQgaGFzIHRoZSBuYW1lZCBtZXRob2RcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIG5hbWUgb2YgdGhlIG1ldGhvZCBvZiBvYmplY3RcbiAqIEBwYXJhbSB7QXJyYXl9IGFyZ3MgYXJndW1lbnRzIHRvIHBhc3MgdG8gdGhlIG1ldGhvZDsgdGhlIGNhbGxiYWNrXG4gKiB3aWxsIGJlIHByb3ZpZGVkIGJ5IFEgYW5kIGFwcGVuZGVkIHRvIHRoZXNlIGFyZ3VtZW50cy5cbiAqIEByZXR1cm5zIGEgcHJvbWlzZSBmb3IgdGhlIHZhbHVlIG9yIGVycm9yXG4gKi9cblEubm1hcHBseSA9IC8vIFhYWCBBcyBwcm9wb3NlZCBieSBcIlJlZHNhbmRyb1wiXG5RLm5wb3N0ID0gZnVuY3Rpb24gKG9iamVjdCwgbmFtZSwgYXJncykge1xuICAgIHJldHVybiBRKG9iamVjdCkubnBvc3QobmFtZSwgYXJncyk7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5ubWFwcGx5ID0gLy8gWFhYIEFzIHByb3Bvc2VkIGJ5IFwiUmVkc2FuZHJvXCJcblByb21pc2UucHJvdG90eXBlLm5wb3N0ID0gZnVuY3Rpb24gKG5hbWUsIGFyZ3MpIHtcbiAgICB2YXIgbm9kZUFyZ3MgPSBhcnJheV9zbGljZShhcmdzIHx8IFtdKTtcbiAgICB2YXIgZGVmZXJyZWQgPSBkZWZlcigpO1xuICAgIG5vZGVBcmdzLnB1c2goZGVmZXJyZWQubWFrZU5vZGVSZXNvbHZlcigpKTtcbiAgICB0aGlzLmRpc3BhdGNoKFwicG9zdFwiLCBbbmFtZSwgbm9kZUFyZ3NdKS5mYWlsKGRlZmVycmVkLnJlamVjdCk7XG4gICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG59O1xuXG4vKipcbiAqIENhbGxzIGEgbWV0aG9kIG9mIGEgTm9kZS1zdHlsZSBvYmplY3QgdGhhdCBhY2NlcHRzIGEgTm9kZS1zdHlsZVxuICogY2FsbGJhY2ssIGZvcndhcmRpbmcgdGhlIGdpdmVuIHZhcmlhZGljIGFyZ3VtZW50cywgcGx1cyBhIHByb3ZpZGVkXG4gKiBjYWxsYmFjayBhcmd1bWVudC5cbiAqIEBwYXJhbSBvYmplY3QgYW4gb2JqZWN0IHRoYXQgaGFzIHRoZSBuYW1lZCBtZXRob2RcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIG5hbWUgb2YgdGhlIG1ldGhvZCBvZiBvYmplY3RcbiAqIEBwYXJhbSAuLi5hcmdzIGFyZ3VtZW50cyB0byBwYXNzIHRvIHRoZSBtZXRob2Q7IHRoZSBjYWxsYmFjayB3aWxsXG4gKiBiZSBwcm92aWRlZCBieSBRIGFuZCBhcHBlbmRlZCB0byB0aGVzZSBhcmd1bWVudHMuXG4gKiBAcmV0dXJucyBhIHByb21pc2UgZm9yIHRoZSB2YWx1ZSBvciBlcnJvclxuICovXG5RLm5zZW5kID0gLy8gWFhYIEJhc2VkIG9uIE1hcmsgTWlsbGVyJ3MgcHJvcG9zZWQgXCJzZW5kXCJcblEubm1jYWxsID0gLy8gWFhYIEJhc2VkIG9uIFwiUmVkc2FuZHJvJ3NcIiBwcm9wb3NhbFxuUS5uaW52b2tlID0gZnVuY3Rpb24gKG9iamVjdCwgbmFtZSAvKi4uLmFyZ3MqLykge1xuICAgIHZhciBub2RlQXJncyA9IGFycmF5X3NsaWNlKGFyZ3VtZW50cywgMik7XG4gICAgdmFyIGRlZmVycmVkID0gZGVmZXIoKTtcbiAgICBub2RlQXJncy5wdXNoKGRlZmVycmVkLm1ha2VOb2RlUmVzb2x2ZXIoKSk7XG4gICAgUShvYmplY3QpLmRpc3BhdGNoKFwicG9zdFwiLCBbbmFtZSwgbm9kZUFyZ3NdKS5mYWlsKGRlZmVycmVkLnJlamVjdCk7XG4gICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5uc2VuZCA9IC8vIFhYWCBCYXNlZCBvbiBNYXJrIE1pbGxlcidzIHByb3Bvc2VkIFwic2VuZFwiXG5Qcm9taXNlLnByb3RvdHlwZS5ubWNhbGwgPSAvLyBYWFggQmFzZWQgb24gXCJSZWRzYW5kcm8nc1wiIHByb3Bvc2FsXG5Qcm9taXNlLnByb3RvdHlwZS5uaW52b2tlID0gZnVuY3Rpb24gKG5hbWUgLyouLi5hcmdzKi8pIHtcbiAgICB2YXIgbm9kZUFyZ3MgPSBhcnJheV9zbGljZShhcmd1bWVudHMsIDEpO1xuICAgIHZhciBkZWZlcnJlZCA9IGRlZmVyKCk7XG4gICAgbm9kZUFyZ3MucHVzaChkZWZlcnJlZC5tYWtlTm9kZVJlc29sdmVyKCkpO1xuICAgIHRoaXMuZGlzcGF0Y2goXCJwb3N0XCIsIFtuYW1lLCBub2RlQXJnc10pLmZhaWwoZGVmZXJyZWQucmVqZWN0KTtcbiAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbn07XG5cbi8qKlxuICogSWYgYSBmdW5jdGlvbiB3b3VsZCBsaWtlIHRvIHN1cHBvcnQgYm90aCBOb2RlIGNvbnRpbnVhdGlvbi1wYXNzaW5nLXN0eWxlIGFuZFxuICogcHJvbWlzZS1yZXR1cm5pbmctc3R5bGUsIGl0IGNhbiBlbmQgaXRzIGludGVybmFsIHByb21pc2UgY2hhaW4gd2l0aFxuICogYG5vZGVpZnkobm9kZWJhY2spYCwgZm9yd2FyZGluZyB0aGUgb3B0aW9uYWwgbm9kZWJhY2sgYXJndW1lbnQuICBJZiB0aGUgdXNlclxuICogZWxlY3RzIHRvIHVzZSBhIG5vZGViYWNrLCB0aGUgcmVzdWx0IHdpbGwgYmUgc2VudCB0aGVyZS4gIElmIHRoZXkgZG8gbm90XG4gKiBwYXNzIGEgbm9kZWJhY2ssIHRoZXkgd2lsbCByZWNlaXZlIHRoZSByZXN1bHQgcHJvbWlzZS5cbiAqIEBwYXJhbSBvYmplY3QgYSByZXN1bHQgKG9yIGEgcHJvbWlzZSBmb3IgYSByZXN1bHQpXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBub2RlYmFjayBhIE5vZGUuanMtc3R5bGUgY2FsbGJhY2tcbiAqIEByZXR1cm5zIGVpdGhlciB0aGUgcHJvbWlzZSBvciBub3RoaW5nXG4gKi9cblEubm9kZWlmeSA9IG5vZGVpZnk7XG5mdW5jdGlvbiBub2RlaWZ5KG9iamVjdCwgbm9kZWJhY2spIHtcbiAgICByZXR1cm4gUShvYmplY3QpLm5vZGVpZnkobm9kZWJhY2spO1xufVxuXG5Qcm9taXNlLnByb3RvdHlwZS5ub2RlaWZ5ID0gZnVuY3Rpb24gKG5vZGViYWNrKSB7XG4gICAgaWYgKG5vZGViYWNrKSB7XG4gICAgICAgIHRoaXMudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIFEubmV4dFRpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIG5vZGViYWNrKG51bGwsIHZhbHVlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgIFEubmV4dFRpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIG5vZGViYWNrKGVycm9yKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59O1xuXG5RLm5vQ29uZmxpY3QgPSBmdW5jdGlvbigpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJRLm5vQ29uZmxpY3Qgb25seSB3b3JrcyB3aGVuIFEgaXMgdXNlZCBhcyBhIGdsb2JhbFwiKTtcbn07XG5cbi8vIEFsbCBjb2RlIGJlZm9yZSB0aGlzIHBvaW50IHdpbGwgYmUgZmlsdGVyZWQgZnJvbSBzdGFjayB0cmFjZXMuXG52YXIgcUVuZGluZ0xpbmUgPSBjYXB0dXJlTGluZSgpO1xuXG5yZXR1cm4gUTtcblxufSk7XG4iLCAiJ3VzZSBzdHJpY3QnXG5cbmNvbnN0IFEgPSByZXF1aXJlKCdxJylcblxubW9kdWxlLmV4cG9ydHMgPSBwcmVzZXRSZXNvbHZlclxuXG5mdW5jdGlvbiBwcmVzZXRSZXNvbHZlciAocHJlc2V0UGFja2FnZSkge1xuICAvLyBzdGFydCB0aGUgY2hhaW4gYXMgYSBRLlByb21pc2VcbiAgcmV0dXJuIFEucmVzb2x2ZSgpLnRoZW4oKCkgPT4ge1xuICAgIC8vIGhhbmRsZSB0cmFkaXRpb25hbCBub2RlLXN0eWxlIGNhbGxiYWNrc1xuICAgIGlmICh0eXBlb2YgcHJlc2V0UGFja2FnZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIFEubmZjYWxsKHByZXNldFBhY2thZ2UpXG4gICAgfVxuXG4gICAgLy8gaGFuZGxlIG9iamVjdCBsaXRlcmFsIG9yIFByb21pc2UgaW5zdGFuY2VcbiAgICBpZiAodHlwZW9mIHByZXNldFBhY2thZ2UgPT09ICdvYmplY3QnKSB7XG4gICAgICByZXR1cm4gUShwcmVzZXRQYWNrYWdlKVxuICAgIH1cblxuICAgIHRocm93IG5ldyBFcnJvcigncHJlc2V0IHBhY2thZ2UgbXVzdCBiZSBhIHByb21pc2UsIGZ1bmN0aW9uLCBvciBvYmplY3QnKVxuICB9KVxufVxuIiwgIid1c2Ugc3RyaWN0J1xuY29uc3QgY29uY2F0ID0gcmVxdWlyZSgnY29uY2F0LXN0cmVhbScpXG5jb25zdCBjb252ZW50aW9uYWxDb21taXRzRmlsdGVyID0gcmVxdWlyZSgnY29udmVudGlvbmFsLWNvbW1pdHMtZmlsdGVyJylcbmNvbnN0IGNvbnZlbnRpb25hbENvbW1pdHNQYXJzZXIgPSByZXF1aXJlKCdjb252ZW50aW9uYWwtY29tbWl0cy1wYXJzZXInKVxuY29uc3QgY29udmVudGlvbmFsQ2hhbmdlbG9nUHJlc2V0TG9hZGVyID0gcmVxdWlyZSgnY29udmVudGlvbmFsLWNoYW5nZWxvZy1wcmVzZXQtbG9hZGVyJylcbmNvbnN0IGdpdFNlbXZlclRhZ3MgPSByZXF1aXJlKCdnaXQtc2VtdmVyLXRhZ3MnKVxuY29uc3QgZ2l0UmF3Q29tbWl0cyA9IHJlcXVpcmUoJ2dpdC1yYXctY29tbWl0cycpXG5jb25zdCBwcmVzZXRSZXNvbHZlciA9IHJlcXVpcmUoJy4vcHJlc2V0LXJlc29sdmVyJylcblxuY29uc3QgVkVSU0lPTlMgPSBbJ21ham9yJywgJ21pbm9yJywgJ3BhdGNoJ11cblxubW9kdWxlLmV4cG9ydHMgPSBjb252ZW50aW9uYWxSZWNvbW1lbmRlZEJ1bXBcblxuZnVuY3Rpb24gY29udmVudGlvbmFsUmVjb21tZW5kZWRCdW1wIChvcHRpb25zQXJndW1lbnQsIHBhcnNlck9wdHNBcmd1bWVudCwgY2JBcmd1bWVudCkge1xuICBpZiAodHlwZW9mIG9wdGlvbnNBcmd1bWVudCAhPT0gJ29iamVjdCcpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBcXCdvcHRpb25zXFwnIGFyZ3VtZW50IG11c3QgYmUgYW4gb2JqZWN0LicpXG4gIH1cblxuICBjb25zdCBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7IGlnbm9yZVJldmVydGVkOiB0cnVlIH0sIG9wdGlvbnNBcmd1bWVudClcblxuICBjb25zdCBjYiA9IHR5cGVvZiBwYXJzZXJPcHRzQXJndW1lbnQgPT09ICdmdW5jdGlvbicgPyBwYXJzZXJPcHRzQXJndW1lbnQgOiBjYkFyZ3VtZW50XG5cbiAgaWYgKHR5cGVvZiBjYiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBFcnJvcignWW91IG11c3QgcHJvdmlkZSBhIGNhbGxiYWNrIGZ1bmN0aW9uLicpXG4gIH1cblxuICBsZXQgcHJlc2V0UGFja2FnZSA9IG9wdGlvbnMuY29uZmlnIHx8IHt9XG4gIGlmIChvcHRpb25zLnByZXNldCkge1xuICAgIHRyeSB7XG4gICAgICBwcmVzZXRQYWNrYWdlID0gY29udmVudGlvbmFsQ2hhbmdlbG9nUHJlc2V0TG9hZGVyKG9wdGlvbnMucHJlc2V0KVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgaWYgKGVyci5tZXNzYWdlID09PSAnZG9lcyBub3QgZXhpc3QnKSB7XG4gICAgICAgIGNvbnN0IHByZXNldCA9IHR5cGVvZiBvcHRpb25zLnByZXNldCA9PT0gJ29iamVjdCcgPyBvcHRpb25zLnByZXNldC5uYW1lIDogb3B0aW9ucy5wcmVzZXRcbiAgICAgICAgcmV0dXJuIGNiKG5ldyBFcnJvcihgVW5hYmxlIHRvIGxvYWQgdGhlIFwiJHtwcmVzZXR9XCIgcHJlc2V0IHBhY2thZ2UuIFBsZWFzZSBtYWtlIHN1cmUgaXQncyBpbnN0YWxsZWQuYCkpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gY2IoZXJyKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByZXNldFJlc29sdmVyKHByZXNldFBhY2thZ2UpLnRoZW4oY29uZmlnID0+IHtcbiAgICBjb25zdCB3aGF0QnVtcCA9IG9wdGlvbnMud2hhdEJ1bXAgfHxcbiAgICAgICgoY29uZmlnLnJlY29tbWVuZGVkQnVtcE9wdHMgJiYgY29uZmlnLnJlY29tbWVuZGVkQnVtcE9wdHMud2hhdEJ1bXApXG4gICAgICAgID8gY29uZmlnLnJlY29tbWVuZGVkQnVtcE9wdHMud2hhdEJ1bXBcbiAgICAgICAgOiBub29wKVxuXG4gICAgaWYgKHR5cGVvZiB3aGF0QnVtcCAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgRXJyb3IoJ3doYXRCdW1wIG11c3QgYmUgYSBmdW5jdGlvbicpXG4gICAgfVxuXG4gICAgLy8gVE9ETzogRm9yIG5vdyB3ZSBkZWZlciB0byBgY29uZmlnLnJlY29tbWVuZGVkQnVtcE9wdHMucGFyc2VyT3B0c2AgaWYgaXQgZXhpc3RzLCBhcyBvdXIgaW5pdGlhbCByZWZhY3RvclxuICAgIC8vIGVmZm9ydHMgY3JlYXRlZCBhIGBwYXJzZXJPcHRzYCBvYmplY3QgdW5kZXIgdGhlIGByZWNvbW1lbmRlZEJ1bXBPcHRzYCBvYmplY3QgaW4gZWFjaCBwcmVzZXQgcGFja2FnZS5cbiAgICAvLyBJbiB0aGUgZnV0dXJlIHdlIHdhbnQgdG8gbWVyZ2UgZGlmZmVyZW5jZXMgZm91bmQgaW4gYHJlY29tbWVuZGVkQnVtcE9wdHMucGFyc2VyT3B0c2AgaW50byB0aGUgdG9wLWxldmVsXG4gICAgLy8gYHBhcnNlck9wdHNgIG9iamVjdCBhbmQgcmVtb3ZlIGByZWNvbW1lbmRlZEJ1bXBPcHRzLnBhcnNlck9wdHNgIGZyb20gZWFjaCBwcmVzZXQgcGFja2FnZSBpZiBpdCBleGlzdHMuXG4gICAgY29uc3QgcGFyc2VyT3B0cyA9IE9iamVjdC5hc3NpZ24oe30sXG4gICAgICBjb25maWcucmVjb21tZW5kZWRCdW1wT3B0cyAmJiBjb25maWcucmVjb21tZW5kZWRCdW1wT3B0cy5wYXJzZXJPcHRzXG4gICAgICAgID8gY29uZmlnLnJlY29tbWVuZGVkQnVtcE9wdHMucGFyc2VyT3B0c1xuICAgICAgICA6IGNvbmZpZy5wYXJzZXJPcHRzLFxuICAgICAgcGFyc2VyT3B0c0FyZ3VtZW50KVxuXG4gICAgY29uc3Qgd2FybiA9IHR5cGVvZiBwYXJzZXJPcHRzLndhcm4gPT09ICdmdW5jdGlvbicgPyBwYXJzZXJPcHRzLndhcm4gOiBub29wXG5cbiAgICBnaXRTZW12ZXJUYWdzKHtcbiAgICAgIGxlcm5hVGFnczogISFvcHRpb25zLmxlcm5hUGFja2FnZSxcbiAgICAgIHBhY2thZ2U6IG9wdGlvbnMubGVybmFQYWNrYWdlLFxuICAgICAgdGFnUHJlZml4OiBvcHRpb25zLnRhZ1ByZWZpeCxcbiAgICAgIHNraXBVbnN0YWJsZTogb3B0aW9ucy5za2lwVW5zdGFibGVcbiAgICB9LCAoZXJyLCB0YWdzKSA9PiB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHJldHVybiBjYihlcnIpXG4gICAgICB9XG5cbiAgICAgIGdpdFJhd0NvbW1pdHMoe1xuICAgICAgICBmb3JtYXQ6ICclQiVuLWhhc2gtJW4lSCcsXG4gICAgICAgIGZyb206IHRhZ3NbMF0gfHwgJycsXG4gICAgICAgIHBhdGg6IG9wdGlvbnMucGF0aFxuICAgICAgfSlcbiAgICAgICAgLnBpcGUoY29udmVudGlvbmFsQ29tbWl0c1BhcnNlcihwYXJzZXJPcHRzKSlcbiAgICAgICAgLnBpcGUoY29uY2F0KGRhdGEgPT4ge1xuICAgICAgICAgIGNvbnN0IGNvbW1pdHMgPSBvcHRpb25zLmlnbm9yZVJldmVydGVkID8gY29udmVudGlvbmFsQ29tbWl0c0ZpbHRlcihkYXRhKSA6IGRhdGFcblxuICAgICAgICAgIGlmICghY29tbWl0cyB8fCAhY29tbWl0cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHdhcm4oJ05vIGNvbW1pdHMgc2luY2UgbGFzdCByZWxlYXNlJylcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBsZXQgcmVzdWx0ID0gd2hhdEJ1bXAoY29tbWl0cywgb3B0aW9ucylcblxuICAgICAgICAgIGlmIChyZXN1bHQgJiYgcmVzdWx0LmxldmVsICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJlc3VsdC5yZWxlYXNlVHlwZSA9IFZFUlNJT05TW3Jlc3VsdC5sZXZlbF1cbiAgICAgICAgICB9IGVsc2UgaWYgKHJlc3VsdCA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXN1bHQgPSB7fVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGNiKG51bGwsIHJlc3VsdClcbiAgICAgICAgfSkpXG4gICAgfSlcbiAgfSkuY2F0Y2goZXJyID0+IGNiKGVycikpXG59XG5cbmZ1bmN0aW9uIG5vb3AgKCkge31cbiIsICIndXNlIHN0cmljdCdcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY29uZmlnKSB7XG4gIGNvbmZpZyA9IGRlZmF1bHRDb25maWcoY29uZmlnKVxuICByZXR1cm4ge1xuICAgIGhlYWRlclBhdHRlcm46IC9eKFxcdyopKD86XFwoKC4qKVxcKSk/IT86ICguKikkLyxcbiAgICBicmVha2luZ0hlYWRlclBhdHRlcm46IC9eKFxcdyopKD86XFwoKC4qKVxcKSk/ITogKC4qKSQvLFxuICAgIGhlYWRlckNvcnJlc3BvbmRlbmNlOiBbXG4gICAgICAndHlwZScsXG4gICAgICAnc2NvcGUnLFxuICAgICAgJ3N1YmplY3QnXG4gICAgXSxcbiAgICBub3RlS2V5d29yZHM6IFsnQlJFQUtJTkcgQ0hBTkdFJywgJ0JSRUFLSU5HLUNIQU5HRSddLFxuICAgIHJldmVydFBhdHRlcm46IC9eKD86UmV2ZXJ0fHJldmVydDopXFxzXCI/KFtcXHNcXFNdKz8pXCI/XFxzKlRoaXMgcmV2ZXJ0cyBjb21taXQgKFxcdyopXFwuL2ksXG4gICAgcmV2ZXJ0Q29ycmVzcG9uZGVuY2U6IFsnaGVhZGVyJywgJ2hhc2gnXSxcbiAgICBpc3N1ZVByZWZpeGVzOiBjb25maWcuaXNzdWVQcmVmaXhlc1xuICB9XG59XG5cbi8vIG1lcmdlIHVzZXIgc2V0IGNvbmZpZ3VyYXRpb24gd2l0aCBkZWZhdWx0IGNvbmZpZ3VyYXRpb24uXG5mdW5jdGlvbiBkZWZhdWx0Q29uZmlnIChjb25maWcpIHtcbiAgY29uZmlnID0gY29uZmlnIHx8IHt9XG4gIGNvbmZpZy5pc3N1ZVByZWZpeGVzID0gY29uZmlnLmlzc3VlUHJlZml4ZXMgfHwgWycjJ11cbiAgcmV0dXJuIGNvbmZpZ1xufVxuIiwgImNvbnN0IHsgYnJlYWtpbmdIZWFkZXJQYXR0ZXJuIH0gPSByZXF1aXJlKCcuL3BhcnNlci1vcHRzJykoKVxuXG5tb2R1bGUuZXhwb3J0cyA9IChjb21taXQpID0+IHtcbiAgY29uc3QgbWF0Y2ggPSBjb21taXQuaGVhZGVyLm1hdGNoKGJyZWFraW5nSGVhZGVyUGF0dGVybilcbiAgaWYgKG1hdGNoICYmIGNvbW1pdC5ub3Rlcy5sZW5ndGggPT09IDApIHtcbiAgICBjb25zdCBub3RlVGV4dCA9IG1hdGNoWzNdIC8vIHRoZSBkZXNjcmlwdGlvbiBvZiB0aGUgY2hhbmdlLlxuICAgIGNvbW1pdC5ub3Rlcy5wdXNoKHtcbiAgICAgIHRleHQ6IG5vdGVUZXh0XG4gICAgfSlcbiAgfVxufVxuIiwgIid1c2Ugc3RyaWN0Jztcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24odmFsKSB7XG4gIHJldHVybiBBcnJheS5pc0FycmF5KHZhbCkgPyB2YWwgOiBbdmFsXTtcbn07XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHZhbHVlID0+IHtcblx0Y29uc3QgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcblx0cmV0dXJuIHZhbHVlICE9PSBudWxsICYmICh0eXBlID09PSAnb2JqZWN0JyB8fCB0eXBlID09PSAnZnVuY3Rpb24nKTtcbn07XG4iLCAiJ3VzZSBzdHJpY3QnO1xuY29uc3QgaXNPYmogPSByZXF1aXJlKCdpcy1vYmonKTtcblxuY29uc3QgZGlzYWxsb3dlZEtleXMgPSBbXG5cdCdfX3Byb3RvX18nLFxuXHQncHJvdG90eXBlJyxcblx0J2NvbnN0cnVjdG9yJ1xuXTtcblxuY29uc3QgaXNWYWxpZFBhdGggPSBwYXRoU2VnbWVudHMgPT4gIXBhdGhTZWdtZW50cy5zb21lKHNlZ21lbnQgPT4gZGlzYWxsb3dlZEtleXMuaW5jbHVkZXMoc2VnbWVudCkpO1xuXG5mdW5jdGlvbiBnZXRQYXRoU2VnbWVudHMocGF0aCkge1xuXHRjb25zdCBwYXRoQXJyYXkgPSBwYXRoLnNwbGl0KCcuJyk7XG5cdGNvbnN0IHBhcnRzID0gW107XG5cblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBwYXRoQXJyYXkubGVuZ3RoOyBpKyspIHtcblx0XHRsZXQgcCA9IHBhdGhBcnJheVtpXTtcblxuXHRcdHdoaWxlIChwW3AubGVuZ3RoIC0gMV0gPT09ICdcXFxcJyAmJiBwYXRoQXJyYXlbaSArIDFdICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdHAgPSBwLnNsaWNlKDAsIC0xKSArICcuJztcblx0XHRcdHAgKz0gcGF0aEFycmF5WysraV07XG5cdFx0fVxuXG5cdFx0cGFydHMucHVzaChwKTtcblx0fVxuXG5cdGlmICghaXNWYWxpZFBhdGgocGFydHMpKSB7XG5cdFx0cmV0dXJuIFtdO1xuXHR9XG5cblx0cmV0dXJuIHBhcnRzO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcblx0Z2V0KG9iamVjdCwgcGF0aCwgdmFsdWUpIHtcblx0XHRpZiAoIWlzT2JqKG9iamVjdCkgfHwgdHlwZW9mIHBhdGggIT09ICdzdHJpbmcnKSB7XG5cdFx0XHRyZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZCA/IG9iamVjdCA6IHZhbHVlO1xuXHRcdH1cblxuXHRcdGNvbnN0IHBhdGhBcnJheSA9IGdldFBhdGhTZWdtZW50cyhwYXRoKTtcblx0XHRpZiAocGF0aEFycmF5Lmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgcGF0aEFycmF5Lmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRpZiAoIU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChvYmplY3QsIHBhdGhBcnJheVtpXSkpIHtcblx0XHRcdFx0cmV0dXJuIHZhbHVlO1xuXHRcdFx0fVxuXG5cdFx0XHRvYmplY3QgPSBvYmplY3RbcGF0aEFycmF5W2ldXTtcblxuXHRcdFx0aWYgKG9iamVjdCA9PT0gdW5kZWZpbmVkIHx8IG9iamVjdCA9PT0gbnVsbCkge1xuXHRcdFx0XHQvLyBgb2JqZWN0YCBpcyBlaXRoZXIgYHVuZGVmaW5lZGAgb3IgYG51bGxgIHNvIHdlIHdhbnQgdG8gc3RvcCB0aGUgbG9vcCwgYW5kXG5cdFx0XHRcdC8vIGlmIHRoaXMgaXMgbm90IHRoZSBsYXN0IGJpdCBvZiB0aGUgcGF0aCwgYW5kXG5cdFx0XHRcdC8vIGlmIGl0IGRpZCd0IHJldHVybiBgdW5kZWZpbmVkYFxuXHRcdFx0XHQvLyBpdCB3b3VsZCByZXR1cm4gYG51bGxgIGlmIGBvYmplY3RgIGlzIGBudWxsYFxuXHRcdFx0XHQvLyBidXQgd2Ugd2FudCBgZ2V0KHtmb286IG51bGx9LCAnZm9vLmJhcicpYCB0byBlcXVhbCBgdW5kZWZpbmVkYCwgb3IgdGhlIHN1cHBsaWVkIHZhbHVlLCBub3QgYG51bGxgXG5cdFx0XHRcdGlmIChpICE9PSBwYXRoQXJyYXkubGVuZ3RoIC0gMSkge1xuXHRcdFx0XHRcdHJldHVybiB2YWx1ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBvYmplY3Q7XG5cdH0sXG5cblx0c2V0KG9iamVjdCwgcGF0aCwgdmFsdWUpIHtcblx0XHRpZiAoIWlzT2JqKG9iamVjdCkgfHwgdHlwZW9mIHBhdGggIT09ICdzdHJpbmcnKSB7XG5cdFx0XHRyZXR1cm4gb2JqZWN0O1xuXHRcdH1cblxuXHRcdGNvbnN0IHJvb3QgPSBvYmplY3Q7XG5cdFx0Y29uc3QgcGF0aEFycmF5ID0gZ2V0UGF0aFNlZ21lbnRzKHBhdGgpO1xuXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBwYXRoQXJyYXkubGVuZ3RoOyBpKyspIHtcblx0XHRcdGNvbnN0IHAgPSBwYXRoQXJyYXlbaV07XG5cblx0XHRcdGlmICghaXNPYmoob2JqZWN0W3BdKSkge1xuXHRcdFx0XHRvYmplY3RbcF0gPSB7fTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGkgPT09IHBhdGhBcnJheS5sZW5ndGggLSAxKSB7XG5cdFx0XHRcdG9iamVjdFtwXSA9IHZhbHVlO1xuXHRcdFx0fVxuXG5cdFx0XHRvYmplY3QgPSBvYmplY3RbcF07XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHJvb3Q7XG5cdH0sXG5cblx0ZGVsZXRlKG9iamVjdCwgcGF0aCkge1xuXHRcdGlmICghaXNPYmoob2JqZWN0KSB8fCB0eXBlb2YgcGF0aCAhPT0gJ3N0cmluZycpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHRjb25zdCBwYXRoQXJyYXkgPSBnZXRQYXRoU2VnbWVudHMocGF0aCk7XG5cblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHBhdGhBcnJheS5sZW5ndGg7IGkrKykge1xuXHRcdFx0Y29uc3QgcCA9IHBhdGhBcnJheVtpXTtcblxuXHRcdFx0aWYgKGkgPT09IHBhdGhBcnJheS5sZW5ndGggLSAxKSB7XG5cdFx0XHRcdGRlbGV0ZSBvYmplY3RbcF07XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRvYmplY3QgPSBvYmplY3RbcF07XG5cblx0XHRcdGlmICghaXNPYmoob2JqZWN0KSkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXG5cdGhhcyhvYmplY3QsIHBhdGgpIHtcblx0XHRpZiAoIWlzT2JqKG9iamVjdCkgfHwgdHlwZW9mIHBhdGggIT09ICdzdHJpbmcnKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Y29uc3QgcGF0aEFycmF5ID0gZ2V0UGF0aFNlZ21lbnRzKHBhdGgpO1xuXHRcdGlmIChwYXRoQXJyYXkubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHVuaWNvcm4vbm8tZm9yLWxvb3Bcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHBhdGhBcnJheS5sZW5ndGg7IGkrKykge1xuXHRcdFx0aWYgKGlzT2JqKG9iamVjdCkpIHtcblx0XHRcdFx0aWYgKCEocGF0aEFycmF5W2ldIGluIG9iamVjdCkpIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRvYmplY3QgPSBvYmplY3RbcGF0aEFycmF5W2ldXTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxufTtcbiIsICIndXNlIHN0cmljdCc7XG52YXIgYXJyYXlpZnkgPSByZXF1aXJlKCdhcnJheS1pZnknKTtcbnZhciBkb3RQcm9wR2V0ID0gcmVxdWlyZSgnZG90LXByb3AnKS5nZXQ7XG5cbmZ1bmN0aW9uIGNvbXBhcmVGdW5jKHByb3ApIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGEsIGIpIHtcbiAgICB2YXIgcmV0ID0gMDtcblxuICAgIGFycmF5aWZ5KHByb3ApLnNvbWUoZnVuY3Rpb24oZWwpIHtcbiAgICAgIHZhciB4O1xuICAgICAgdmFyIHk7XG5cbiAgICAgIGlmICh0eXBlb2YgZWwgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgeCA9IGVsKGEpO1xuICAgICAgICB5ID0gZWwoYik7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBlbCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgeCA9IGRvdFByb3BHZXQoYSwgZWwpO1xuICAgICAgICB5ID0gZG90UHJvcEdldChiLCBlbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB4ID0gYTtcbiAgICAgICAgeSA9IGI7XG4gICAgICB9XG5cbiAgICAgIGlmICh4ID09PSB5KSB7XG4gICAgICAgIHJldCA9IDA7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiB4ID09PSAnc3RyaW5nJyAmJiB0eXBlb2YgeSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0ID0geC5sb2NhbGVDb21wYXJlKHkpO1xuICAgICAgICByZXR1cm4gcmV0ICE9PSAwO1xuICAgICAgfVxuXG4gICAgICByZXQgPSB4IDwgeSA/IC0xIDogMTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHJldDtcbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjb21wYXJlRnVuYztcbiIsICIndXNlIHN0cmljdCdcblxuY29uc3QgYWRkQmFuZ05vdGVzID0gcmVxdWlyZSgnLi9hZGQtYmFuZy1ub3RlcycpXG5jb25zdCBjb21wYXJlRnVuYyA9IHJlcXVpcmUoJ2NvbXBhcmUtZnVuYycpXG5jb25zdCBRID0gcmVxdWlyZSgncScpXG5jb25zdCByZWFkRmlsZSA9IFEuZGVub2RlaWZ5KHJlcXVpcmUoJ2ZzJykucmVhZEZpbGUpXG5jb25zdCByZXNvbHZlID0gcmVxdWlyZSgncGF0aCcpLnJlc29sdmVcbmNvbnN0IHJlbGVhc2VBc1JlID0gL3JlbGVhc2UtYXM6XFxzKlxcdypAPyhbMC05XStcXC5bMC05XStcXC5bMC05YS16XSsoLVswLTlhLXouXSspPylcXHMqL2lcblxuLyoqXG4gKiBIYW5kbGViYXIgcGFydGlhbHMgZm9yIHZhcmlvdXMgcHJvcGVydHkgc3Vic3RpdHV0aW9ucyBiYXNlZCBvbiBjb21taXQgY29udGV4dC5cbiAqL1xuY29uc3Qgb3duZXIgPSAne3sjaWYgdGhpcy5vd25lcn19e3t+dGhpcy5vd25lcn19e3tlbHNlfX17e35Acm9vdC5vd25lcn19e3svaWZ9fSdcbmNvbnN0IGhvc3QgPSAne3t+QHJvb3QuaG9zdH19J1xuY29uc3QgcmVwb3NpdG9yeSA9ICd7eyNpZiB0aGlzLnJlcG9zaXRvcnl9fXt7fnRoaXMucmVwb3NpdG9yeX19e3tlbHNlfX17e35Acm9vdC5yZXBvc2l0b3J5fX17ey9pZn19J1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjb25maWcpIHtcbiAgY29uZmlnID0gZGVmYXVsdENvbmZpZyhjb25maWcpXG4gIGNvbnN0IGNvbW1pdFVybEZvcm1hdCA9IGV4cGFuZFRlbXBsYXRlKGNvbmZpZy5jb21taXRVcmxGb3JtYXQsIHtcbiAgICBob3N0LFxuICAgIG93bmVyLFxuICAgIHJlcG9zaXRvcnlcbiAgfSlcbiAgY29uc3QgY29tcGFyZVVybEZvcm1hdCA9IGV4cGFuZFRlbXBsYXRlKGNvbmZpZy5jb21wYXJlVXJsRm9ybWF0LCB7XG4gICAgaG9zdCxcbiAgICBvd25lcixcbiAgICByZXBvc2l0b3J5XG4gIH0pXG4gIGNvbnN0IGlzc3VlVXJsRm9ybWF0ID0gZXhwYW5kVGVtcGxhdGUoY29uZmlnLmlzc3VlVXJsRm9ybWF0LCB7XG4gICAgaG9zdCxcbiAgICBvd25lcixcbiAgICByZXBvc2l0b3J5LFxuICAgIGlkOiAne3t0aGlzLmlzc3VlfX0nLFxuICAgIHByZWZpeDogJ3t7dGhpcy5wcmVmaXh9fSdcbiAgfSlcblxuICByZXR1cm4gUS5hbGwoW1xuICAgIHJlYWRGaWxlKHJlc29sdmUoX19kaXJuYW1lLCAnLi90ZW1wbGF0ZXMvdGVtcGxhdGUuaGJzJyksICd1dGYtOCcpLFxuICAgIHJlYWRGaWxlKHJlc29sdmUoX19kaXJuYW1lLCAnLi90ZW1wbGF0ZXMvaGVhZGVyLmhicycpLCAndXRmLTgnKSxcbiAgICByZWFkRmlsZShyZXNvbHZlKF9fZGlybmFtZSwgJy4vdGVtcGxhdGVzL2NvbW1pdC5oYnMnKSwgJ3V0Zi04JyksXG4gICAgcmVhZEZpbGUocmVzb2x2ZShfX2Rpcm5hbWUsICcuL3RlbXBsYXRlcy9mb290ZXIuaGJzJyksICd1dGYtOCcpXG4gIF0pXG4gICAgLnNwcmVhZCgodGVtcGxhdGUsIGhlYWRlciwgY29tbWl0LCBmb290ZXIpID0+IHtcbiAgICAgIGNvbnN0IHdyaXRlck9wdHMgPSBnZXRXcml0ZXJPcHRzKGNvbmZpZylcblxuICAgICAgd3JpdGVyT3B0cy5tYWluVGVtcGxhdGUgPSB0ZW1wbGF0ZVxuICAgICAgd3JpdGVyT3B0cy5oZWFkZXJQYXJ0aWFsID0gaGVhZGVyXG4gICAgICAgIC5yZXBsYWNlKC97e2NvbXBhcmVVcmxGb3JtYXR9fS9nLCBjb21wYXJlVXJsRm9ybWF0KVxuICAgICAgd3JpdGVyT3B0cy5jb21taXRQYXJ0aWFsID0gY29tbWl0XG4gICAgICAgIC5yZXBsYWNlKC97e2NvbW1pdFVybEZvcm1hdH19L2csIGNvbW1pdFVybEZvcm1hdClcbiAgICAgICAgLnJlcGxhY2UoL3t7aXNzdWVVcmxGb3JtYXR9fS9nLCBpc3N1ZVVybEZvcm1hdClcbiAgICAgIHdyaXRlck9wdHMuZm9vdGVyUGFydGlhbCA9IGZvb3RlclxuXG4gICAgICByZXR1cm4gd3JpdGVyT3B0c1xuICAgIH0pXG59XG5cbmZ1bmN0aW9uIGZpbmRUeXBlRW50cnkgKHR5cGVzLCBjb21taXQpIHtcbiAgY29uc3QgdHlwZUtleSA9IChjb21taXQucmV2ZXJ0ID8gJ3JldmVydCcgOiAoY29tbWl0LnR5cGUgfHwgJycpKS50b0xvd2VyQ2FzZSgpXG4gIHJldHVybiB0eXBlcy5maW5kKChlbnRyeSkgPT4ge1xuICAgIGlmIChlbnRyeS50eXBlICE9PSB0eXBlS2V5KSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gICAgaWYgKGVudHJ5LnNjb3BlICYmIGVudHJ5LnNjb3BlICE9PSBjb21taXQuc2NvcGUpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZVxuICB9KVxufVxuXG5mdW5jdGlvbiBnZXRXcml0ZXJPcHRzIChjb25maWcpIHtcbiAgY29uZmlnID0gZGVmYXVsdENvbmZpZyhjb25maWcpXG5cbiAgcmV0dXJuIHtcbiAgICB0cmFuc2Zvcm06IChjb21taXQsIGNvbnRleHQpID0+IHtcbiAgICAgIGxldCBkaXNjYXJkID0gdHJ1ZVxuICAgICAgY29uc3QgaXNzdWVzID0gW11cbiAgICAgIGNvbnN0IGVudHJ5ID0gZmluZFR5cGVFbnRyeShjb25maWcudHlwZXMsIGNvbW1pdClcblxuICAgICAgLy8gYWRkcyBhZGRpdGlvbmFsIGJyZWFraW5nIGNoYW5nZSBub3Rlc1xuICAgICAgLy8gZm9yIHRoZSBzcGVjaWFsIGNhc2UsIHRlc3Qoc3lzdGVtKSE6IGhlbGxvIHdvcmxkLCB3aGVyZSB0aGVyZSBpc1xuICAgICAgLy8gYSAnIScgYnV0IG5vICdCUkVBS0lORyBDSEFOR0UnIGluIGJvZHk6XG4gICAgICBhZGRCYW5nTm90ZXMoY29tbWl0KVxuXG4gICAgICAvLyBBZGQgYW4gZW50cnkgaW4gdGhlIENIQU5HRUxPRyBpZiBzcGVjaWFsIFJlbGVhc2UtQXMgZm9vdGVyXG4gICAgICAvLyBpcyB1c2VkOlxuICAgICAgaWYgKChjb21taXQuZm9vdGVyICYmIHJlbGVhc2VBc1JlLnRlc3QoY29tbWl0LmZvb3RlcikpIHx8XG4gICAgICAgICAgKGNvbW1pdC5ib2R5ICYmIHJlbGVhc2VBc1JlLnRlc3QoY29tbWl0LmJvZHkpKSkge1xuICAgICAgICBkaXNjYXJkID0gZmFsc2VcbiAgICAgIH1cblxuICAgICAgY29tbWl0Lm5vdGVzLmZvckVhY2gobm90ZSA9PiB7XG4gICAgICAgIG5vdGUudGl0bGUgPSAnQlJFQUtJTkcgQ0hBTkdFUydcbiAgICAgICAgZGlzY2FyZCA9IGZhbHNlXG4gICAgICB9KVxuXG4gICAgICAvLyBicmVha2luZyBjaGFuZ2VzIGF0dGFjaGVkIHRvIGFueSB0eXBlIGFyZSBzdGlsbCBkaXNwbGF5ZWQuXG4gICAgICBpZiAoZGlzY2FyZCAmJiAoZW50cnkgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgIGVudHJ5LmhpZGRlbikpIHJldHVyblxuXG4gICAgICBpZiAoZW50cnkpIGNvbW1pdC50eXBlID0gZW50cnkuc2VjdGlvblxuXG4gICAgICBpZiAoY29tbWl0LnNjb3BlID09PSAnKicpIHtcbiAgICAgICAgY29tbWl0LnNjb3BlID0gJydcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBjb21taXQuaGFzaCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgY29tbWl0LnNob3J0SGFzaCA9IGNvbW1pdC5oYXNoLnN1YnN0cmluZygwLCA3KVxuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIGNvbW1pdC5zdWJqZWN0ID09PSAnc3RyaW5nJykge1xuICAgICAgICAvLyBJc3N1ZSBVUkxzLlxuICAgICAgICBjb25maWcuaXNzdWVQcmVmaXhlcy5qb2luKCd8JylcbiAgICAgICAgY29uc3QgaXNzdWVSZWdFeCA9ICcoJyArIGNvbmZpZy5pc3N1ZVByZWZpeGVzLmpvaW4oJ3wnKSArICcpJyArICcoWzAtOV0rKSdcbiAgICAgICAgY29uc3QgcmUgPSBuZXcgUmVnRXhwKGlzc3VlUmVnRXgsICdnJylcblxuICAgICAgICBjb21taXQuc3ViamVjdCA9IGNvbW1pdC5zdWJqZWN0LnJlcGxhY2UocmUsIChfLCBwcmVmaXgsIGlzc3VlKSA9PiB7XG4gICAgICAgICAgaXNzdWVzLnB1c2gocHJlZml4ICsgaXNzdWUpXG4gICAgICAgICAgY29uc3QgdXJsID0gZXhwYW5kVGVtcGxhdGUoY29uZmlnLmlzc3VlVXJsRm9ybWF0LCB7XG4gICAgICAgICAgICBob3N0OiBjb250ZXh0Lmhvc3QsXG4gICAgICAgICAgICBvd25lcjogY29udGV4dC5vd25lcixcbiAgICAgICAgICAgIHJlcG9zaXRvcnk6IGNvbnRleHQucmVwb3NpdG9yeSxcbiAgICAgICAgICAgIGlkOiBpc3N1ZSxcbiAgICAgICAgICAgIHByZWZpeDogcHJlZml4XG4gICAgICAgICAgfSlcbiAgICAgICAgICByZXR1cm4gYFske3ByZWZpeH0ke2lzc3VlfV0oJHt1cmx9KWBcbiAgICAgICAgfSlcbiAgICAgICAgLy8gVXNlciBVUkxzLlxuICAgICAgICBjb21taXQuc3ViamVjdCA9IGNvbW1pdC5zdWJqZWN0LnJlcGxhY2UoL1xcQkAoW2EtejAtOV0oPzotP1thLXowLTkvXSl7MCwzOH0pL2csIChfLCB1c2VyKSA9PiB7XG4gICAgICAgICAgLy8gVE9ETzogaW52ZXN0aWdhdGUgd2h5IHRoaXMgY29kZSBleGlzdHMuXG4gICAgICAgICAgaWYgKHVzZXIuaW5jbHVkZXMoJy8nKSkge1xuICAgICAgICAgICAgcmV0dXJuIGBAJHt1c2VyfWBcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCB1c2VybmFtZVVybCA9IGV4cGFuZFRlbXBsYXRlKGNvbmZpZy51c2VyVXJsRm9ybWF0LCB7XG4gICAgICAgICAgICBob3N0OiBjb250ZXh0Lmhvc3QsXG4gICAgICAgICAgICBvd25lcjogY29udGV4dC5vd25lcixcbiAgICAgICAgICAgIHJlcG9zaXRvcnk6IGNvbnRleHQucmVwb3NpdG9yeSxcbiAgICAgICAgICAgIHVzZXI6IHVzZXJcbiAgICAgICAgICB9KVxuXG4gICAgICAgICAgcmV0dXJuIGBbQCR7dXNlcn1dKCR7dXNlcm5hbWVVcmx9KWBcbiAgICAgICAgfSlcbiAgICAgIH1cblxuICAgICAgLy8gcmVtb3ZlIHJlZmVyZW5jZXMgdGhhdCBhbHJlYWR5IGFwcGVhciBpbiB0aGUgc3ViamVjdFxuICAgICAgY29tbWl0LnJlZmVyZW5jZXMgPSBjb21taXQucmVmZXJlbmNlcy5maWx0ZXIocmVmZXJlbmNlID0+IHtcbiAgICAgICAgaWYgKGlzc3Vlcy5pbmRleE9mKHJlZmVyZW5jZS5wcmVmaXggKyByZWZlcmVuY2UuaXNzdWUpID09PSAtMSkge1xuICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH0pXG5cbiAgICAgIHJldHVybiBjb21taXRcbiAgICB9LFxuICAgIGdyb3VwQnk6ICd0eXBlJyxcbiAgICAvLyB0aGUgZ3JvdXBpbmdzIG9mIGNvbW1pdCBtZXNzYWdlcywgZS5nLiwgRmVhdHVyZXMgdnMuLCBCdWcgRml4ZXMsIGFyZVxuICAgIC8vIHNvcnRlZCBiYXNlZCBvbiB0aGVpciBwcm9iYWJsZSBpbXBvcnRhbmNlOlxuICAgIGNvbW1pdEdyb3Vwc1NvcnQ6IChhLCBiKSA9PiB7XG4gICAgICBjb25zdCBjb21taXRHcm91cE9yZGVyID0gWydSZXZlcnRzJywgJ1BlcmZvcm1hbmNlIEltcHJvdmVtZW50cycsICdCdWcgRml4ZXMnLCAnRmVhdHVyZXMnXVxuICAgICAgY29uc3QgZ1JhbmtBID0gY29tbWl0R3JvdXBPcmRlci5pbmRleE9mKGEudGl0bGUpXG4gICAgICBjb25zdCBnUmFua0IgPSBjb21taXRHcm91cE9yZGVyLmluZGV4T2YoYi50aXRsZSlcbiAgICAgIGlmIChnUmFua0EgPj0gZ1JhbmtCKSB7XG4gICAgICAgIHJldHVybiAtMVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIDFcbiAgICAgIH1cbiAgICB9LFxuICAgIGNvbW1pdHNTb3J0OiBbJ3Njb3BlJywgJ3N1YmplY3QnXSxcbiAgICBub3RlR3JvdXBzU29ydDogJ3RpdGxlJyxcbiAgICBub3Rlc1NvcnQ6IGNvbXBhcmVGdW5jXG4gIH1cbn1cblxuLy8gbWVyZ2UgdXNlciBzZXQgY29uZmlndXJhdGlvbiB3aXRoIGRlZmF1bHQgY29uZmlndXJhdGlvbi5cbmZ1bmN0aW9uIGRlZmF1bHRDb25maWcgKGNvbmZpZykge1xuICBjb25maWcgPSBjb25maWcgfHwge31cbiAgY29uZmlnLnR5cGVzID0gY29uZmlnLnR5cGVzIHx8IFtcbiAgICB7IHR5cGU6ICdmZWF0Jywgc2VjdGlvbjogJ0ZlYXR1cmVzJyB9LFxuICAgIHsgdHlwZTogJ2ZlYXR1cmUnLCBzZWN0aW9uOiAnRmVhdHVyZXMnIH0sXG4gICAgeyB0eXBlOiAnZml4Jywgc2VjdGlvbjogJ0J1ZyBGaXhlcycgfSxcbiAgICB7IHR5cGU6ICdwZXJmJywgc2VjdGlvbjogJ1BlcmZvcm1hbmNlIEltcHJvdmVtZW50cycgfSxcbiAgICB7IHR5cGU6ICdyZXZlcnQnLCBzZWN0aW9uOiAnUmV2ZXJ0cycgfSxcbiAgICB7IHR5cGU6ICdkb2NzJywgc2VjdGlvbjogJ0RvY3VtZW50YXRpb24nLCBoaWRkZW46IHRydWUgfSxcbiAgICB7IHR5cGU6ICdzdHlsZScsIHNlY3Rpb246ICdTdHlsZXMnLCBoaWRkZW46IHRydWUgfSxcbiAgICB7IHR5cGU6ICdjaG9yZScsIHNlY3Rpb246ICdNaXNjZWxsYW5lb3VzIENob3JlcycsIGhpZGRlbjogdHJ1ZSB9LFxuICAgIHsgdHlwZTogJ3JlZmFjdG9yJywgc2VjdGlvbjogJ0NvZGUgUmVmYWN0b3JpbmcnLCBoaWRkZW46IHRydWUgfSxcbiAgICB7IHR5cGU6ICd0ZXN0Jywgc2VjdGlvbjogJ1Rlc3RzJywgaGlkZGVuOiB0cnVlIH0sXG4gICAgeyB0eXBlOiAnYnVpbGQnLCBzZWN0aW9uOiAnQnVpbGQgU3lzdGVtJywgaGlkZGVuOiB0cnVlIH0sXG4gICAgeyB0eXBlOiAnY2knLCBzZWN0aW9uOiAnQ29udGludW91cyBJbnRlZ3JhdGlvbicsIGhpZGRlbjogdHJ1ZSB9XG4gIF1cbiAgY29uZmlnLmlzc3VlVXJsRm9ybWF0ID0gY29uZmlnLmlzc3VlVXJsRm9ybWF0IHx8XG4gICAgJ3t7aG9zdH19L3t7b3duZXJ9fS97e3JlcG9zaXRvcnl9fS9pc3N1ZXMve3tpZH19J1xuICBjb25maWcuY29tbWl0VXJsRm9ybWF0ID0gY29uZmlnLmNvbW1pdFVybEZvcm1hdCB8fFxuICAgICd7e2hvc3R9fS97e293bmVyfX0ve3tyZXBvc2l0b3J5fX0vY29tbWl0L3t7aGFzaH19J1xuICBjb25maWcuY29tcGFyZVVybEZvcm1hdCA9IGNvbmZpZy5jb21wYXJlVXJsRm9ybWF0IHx8XG4gICAgJ3t7aG9zdH19L3t7b3duZXJ9fS97e3JlcG9zaXRvcnl9fS9jb21wYXJlL3t7cHJldmlvdXNUYWd9fS4uLnt7Y3VycmVudFRhZ319J1xuICBjb25maWcudXNlclVybEZvcm1hdCA9IGNvbmZpZy51c2VyVXJsRm9ybWF0IHx8XG4gICAgJ3t7aG9zdH19L3t7dXNlcn19J1xuICBjb25maWcuaXNzdWVQcmVmaXhlcyA9IGNvbmZpZy5pc3N1ZVByZWZpeGVzIHx8IFsnIyddXG5cbiAgcmV0dXJuIGNvbmZpZ1xufVxuXG4vLyBleHBhbmQgb24gdGhlIHNpbXBsZSBtdXN0YWNoZS1zdHlsZSB0ZW1wbGF0ZXMgc3VwcG9ydGVkIGluXG4vLyBjb25maWd1cmF0aW9uICh3ZSBtYXkgZXZlbnR1YWxseSB3YW50IHRvIHVzZSBoYW5kbGViYXJzIGZvciB0aGlzKS5cbmZ1bmN0aW9uIGV4cGFuZFRlbXBsYXRlICh0ZW1wbGF0ZSwgY29udGV4dCkge1xuICBsZXQgZXhwYW5kZWQgPSB0ZW1wbGF0ZVxuICBPYmplY3Qua2V5cyhjb250ZXh0KS5mb3JFYWNoKGtleSA9PiB7XG4gICAgZXhwYW5kZWQgPSBleHBhbmRlZC5yZXBsYWNlKG5ldyBSZWdFeHAoYHt7JHtrZXl9fX1gLCAnZycpLCBjb250ZXh0W2tleV0pXG4gIH0pXG4gIHJldHVybiBleHBhbmRlZFxufVxuIiwgIid1c2Ugc3RyaWN0J1xuXG5jb25zdCBRID0gcmVxdWlyZSgncScpXG5jb25zdCBwYXJzZXJPcHRzID0gcmVxdWlyZSgnLi9wYXJzZXItb3B0cycpXG5jb25zdCB3cml0ZXJPcHRzID0gcmVxdWlyZSgnLi93cml0ZXItb3B0cycpXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGNvbmZpZykge1xuICByZXR1cm4gUS5hbGwoW3BhcnNlck9wdHMoY29uZmlnKSwgd3JpdGVyT3B0cyhjb25maWcpXSlcbiAgICAuc3ByZWFkKChwYXJzZXJPcHRzLCB3cml0ZXJPcHRzKSA9PiB7XG4gICAgICByZXR1cm4geyBwYXJzZXJPcHRzLCB3cml0ZXJPcHRzIH1cbiAgICB9KVxufVxuIiwgIid1c2Ugc3RyaWN0J1xuXG5jb25zdCBhZGRCYW5nTm90ZXMgPSByZXF1aXJlKCcuL2FkZC1iYW5nLW5vdGVzJylcbmNvbnN0IHBhcnNlck9wdHMgPSByZXF1aXJlKCcuL3BhcnNlci1vcHRzJylcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY29uZmlnKSB7XG4gIHJldHVybiB7XG4gICAgcGFyc2VyT3B0czogcGFyc2VyT3B0cyhjb25maWcpLFxuXG4gICAgd2hhdEJ1bXA6IChjb21taXRzKSA9PiB7XG4gICAgICBsZXQgbGV2ZWwgPSAyXG4gICAgICBsZXQgYnJlYWtpbmdzID0gMFxuICAgICAgbGV0IGZlYXR1cmVzID0gMFxuXG4gICAgICBjb21taXRzLmZvckVhY2goY29tbWl0ID0+IHtcbiAgICAgICAgLy8gYWRkcyBhZGRpdGlvbmFsIGJyZWFraW5nIGNoYW5nZSBub3Rlc1xuICAgICAgICAvLyBmb3IgdGhlIHNwZWNpYWwgY2FzZSwgdGVzdChzeXN0ZW0pITogaGVsbG8gd29ybGQsIHdoZXJlIHRoZXJlIGlzXG4gICAgICAgIC8vIGEgJyEnIGJ1dCBubyAnQlJFQUtJTkcgQ0hBTkdFJyBpbiBib2R5OlxuICAgICAgICBhZGRCYW5nTm90ZXMoY29tbWl0KVxuICAgICAgICBpZiAoY29tbWl0Lm5vdGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBicmVha2luZ3MgKz0gY29tbWl0Lm5vdGVzLmxlbmd0aFxuICAgICAgICAgIGxldmVsID0gMFxuICAgICAgICB9IGVsc2UgaWYgKGNvbW1pdC50eXBlID09PSAnZmVhdCcgfHwgY29tbWl0LnR5cGUgPT09ICdmZWF0dXJlJykge1xuICAgICAgICAgIGZlYXR1cmVzICs9IDFcbiAgICAgICAgICBpZiAobGV2ZWwgPT09IDIpIHtcbiAgICAgICAgICAgIGxldmVsID0gMVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSlcblxuICAgICAgaWYgKGNvbmZpZy5wcmVNYWpvciAmJiBsZXZlbCA8IDIpIHtcbiAgICAgICAgbGV2ZWwrK1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBsZXZlbDogbGV2ZWwsXG4gICAgICAgIHJlYXNvbjogYnJlYWtpbmdzID09PSAxXG4gICAgICAgICAgPyBgVGhlcmUgaXMgJHticmVha2luZ3N9IEJSRUFLSU5HIENIQU5HRSBhbmQgJHtmZWF0dXJlc30gZmVhdHVyZXNgXG4gICAgICAgICAgOiBgVGhlcmUgYXJlICR7YnJlYWtpbmdzfSBCUkVBS0lORyBDSEFOR0VTIGFuZCAke2ZlYXR1cmVzfSBmZWF0dXJlc2BcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiIsICIndXNlIHN0cmljdCdcbmNvbnN0IFEgPSByZXF1aXJlKCdxJylcbmNvbnN0IF8gPSByZXF1aXJlKCdsb2Rhc2gnKVxuY29uc3QgY29udmVudGlvbmFsQ2hhbmdlbG9nID0gcmVxdWlyZSgnLi9jb252ZW50aW9uYWwtY2hhbmdlbG9nJylcbmNvbnN0IHBhcnNlck9wdHMgPSByZXF1aXJlKCcuL3BhcnNlci1vcHRzJylcbmNvbnN0IHJlY29tbWVuZGVkQnVtcE9wdHMgPSByZXF1aXJlKCcuL2NvbnZlbnRpb25hbC1yZWNvbW1lbmRlZC1idW1wJylcbmNvbnN0IHdyaXRlck9wdHMgPSByZXF1aXJlKCcuL3dyaXRlci1vcHRzJylcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAocGFyYW1ldGVyKSB7XG4gIC8vIHBhcmFtZXRlciBwYXNzZWQgY2FuIGJlIGVpdGhlciBhIGNvbmZpZyBvYmplY3Qgb3IgYSBjYWxsYmFjayBmdW5jdGlvblxuICBpZiAoXy5pc0Z1bmN0aW9uKHBhcmFtZXRlcikpIHtcbiAgICAvLyBwYXJhbWV0ZXIgaXMgYSBjYWxsYmFjayBvYmplY3RcbiAgICBjb25zdCBjb25maWcgPSB7fVxuICAgIC8vIEZJWE1FOiB1c2UgcHJlc2V0T3B0cyhjb25maWcpIGZvciBjYWxsYmFja1xuICAgIFEuYWxsKFtcbiAgICAgIGNvbnZlbnRpb25hbENoYW5nZWxvZyhjb25maWcpLFxuICAgICAgcGFyc2VyT3B0cyhjb25maWcpLFxuICAgICAgcmVjb21tZW5kZWRCdW1wT3B0cyhjb25maWcpLFxuICAgICAgd3JpdGVyT3B0cyhjb25maWcpXG4gICAgXSkuc3ByZWFkKChjb252ZW50aW9uYWxDaGFuZ2Vsb2csIHBhcnNlck9wdHMsIHJlY29tbWVuZGVkQnVtcE9wdHMsIHdyaXRlck9wdHMpID0+IHtcbiAgICAgIHBhcmFtZXRlcihudWxsLCB7IGdpdFJhd0NvbW1pdHNPcHRzOiB7IG5vTWVyZ2VzOiBudWxsIH0sIGNvbnZlbnRpb25hbENoYW5nZWxvZywgcGFyc2VyT3B0cywgcmVjb21tZW5kZWRCdW1wT3B0cywgd3JpdGVyT3B0cyB9KVxuICAgIH0pXG4gIH0gZWxzZSB7XG4gICAgY29uc3QgY29uZmlnID0gcGFyYW1ldGVyIHx8IHt9XG4gICAgcmV0dXJuIHByZXNldE9wdHMoY29uZmlnKVxuICB9XG59XG5cbmZ1bmN0aW9uIHByZXNldE9wdHMgKGNvbmZpZykge1xuICByZXR1cm4gUS5hbGwoW1xuICAgIGNvbnZlbnRpb25hbENoYW5nZWxvZyhjb25maWcpLFxuICAgIHBhcnNlck9wdHMoY29uZmlnKSxcbiAgICByZWNvbW1lbmRlZEJ1bXBPcHRzKGNvbmZpZyksXG4gICAgd3JpdGVyT3B0cyhjb25maWcpXG4gIF0pLnNwcmVhZCgoY29udmVudGlvbmFsQ2hhbmdlbG9nLCBwYXJzZXJPcHRzLCByZWNvbW1lbmRlZEJ1bXBPcHRzLCB3cml0ZXJPcHRzKSA9PiB7XG4gICAgcmV0dXJuIHsgY29udmVudGlvbmFsQ2hhbmdlbG9nLCBwYXJzZXJPcHRzLCByZWNvbW1lbmRlZEJ1bXBPcHRzLCB3cml0ZXJPcHRzIH1cbiAgfSlcbn1cbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciBQYXNzVGhyb3VnaCA9IHJlcXVpcmUoJ3N0cmVhbScpLlBhc3NUaHJvdWdoO1xudmFyIFdyaXRhYmxlID0gcmVxdWlyZSgnc3RyZWFtJykuV3JpdGFibGU7XG52YXIgdXRpbCA9IHJlcXVpcmUoJ3V0aWwnKTtcblxudXRpbC5pbmhlcml0cyhBcHBlbmRlZSwgUGFzc1Rocm91Z2gpO1xudXRpbC5pbmhlcml0cyhBcHBlbmRlciwgV3JpdGFibGUpO1xuXG5mdW5jdGlvbiBBcHBlbmRlZShmYWN0b3J5LCBvcHRzKSB7XG5cdFBhc3NUaHJvdWdoLmNhbGwodGhpcywgb3B0cyk7XG5cdHRoaXMuZmFjdG9yeSA9IGZhY3Rvcnk7XG5cdHRoaXMub3B0cyA9IG9wdHM7XG59XG5cbi8vbm9pbnNwZWN0aW9uIEpTVW51c2VkR2xvYmFsU3ltYm9sc1xuQXBwZW5kZWUucHJvdG90eXBlLl9mbHVzaCA9IGZ1bmN0aW9uIChlbmQpIHtcblx0dmFyIHN0cmVhbSA9IHRoaXMuZmFjdG9yeSgpO1xuXHRzdHJlYW0ucGlwZShuZXcgQXBwZW5kZXIodGhpcywgdGhpcy5vcHRzKSlcblx0XHQub24oJ2ZpbmlzaCcsIGVuZCk7XG5cdHN0cmVhbS5yZXN1bWUoKTtcbn07XG5cbmZ1bmN0aW9uIEFwcGVuZGVyKHRhcmdldCwgb3B0cykge1xuXHRXcml0YWJsZS5jYWxsKHRoaXMsIG9wdHMpO1xuXHR0aGlzLnRhcmdldCA9IHRhcmdldDtcbn1cblxuLy9ub2luc3BlY3Rpb24gSlNVbnVzZWRHbG9iYWxTeW1ib2xzXG5BcHBlbmRlci5wcm90b3R5cGUuX3dyaXRlID0gZnVuY3Rpb24gKGNodW5rLCBlbmMsIGNiKSB7XG5cdHRoaXMudGFyZ2V0LnB1c2goY2h1bmspO1xuXHRjYigpO1xufTtcblxuZnVuY3Rpb24gYWRkU3RyZWFtKHN0cmVhbSwgb3B0cykge1xuXHRvcHRzID0gb3B0cyB8fCB7fTtcblx0dmFyIGZhY3Rvcnk7XG5cdGlmICh0eXBlb2Ygc3RyZWFtID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0ZmFjdG9yeSA9IHN0cmVhbTtcblx0fVxuXHRlbHNlIHtcblx0XHRzdHJlYW0ucGF1c2UoKTtcblx0XHRmYWN0b3J5ID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0cmV0dXJuIHN0cmVhbTtcblx0XHR9O1xuXHR9XG5cdHJldHVybiBuZXcgQXBwZW5kZWUoZmFjdG9yeSwgb3B0cyk7XG59XG5cbmFkZFN0cmVhbS5vYmogPSBmdW5jdGlvbiAoc3RyZWFtLCBvcHRzKSB7XG5cdG9wdHMgPSBvcHRzIHx8IHt9O1xuXHRvcHRzLm9iamVjdE1vZGUgPSB0cnVlO1xuXHRyZXR1cm4gYWRkU3RyZWFtKHN0cmVhbSwgb3B0cyk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGFkZFN0cmVhbTtcbiIsICIvKlxuICogRGF0ZSBGb3JtYXQgMS4yLjNcbiAqIChjKSAyMDA3LTIwMDkgU3RldmVuIExldml0aGFuIDxzdGV2ZW5sZXZpdGhhbi5jb20+XG4gKiBNSVQgbGljZW5zZVxuICpcbiAqIEluY2x1ZGVzIGVuaGFuY2VtZW50cyBieSBTY290dCBUcmVuZGEgPHNjb3R0LnRyZW5kYS5uZXQ+XG4gKiBhbmQgS3JpcyBLb3dhbCA8Y2l4YXIuY29tL35rcmlzLmtvd2FsLz5cbiAqXG4gKiBBY2NlcHRzIGEgZGF0ZSwgYSBtYXNrLCBvciBhIGRhdGUgYW5kIGEgbWFzay5cbiAqIFJldHVybnMgYSBmb3JtYXR0ZWQgdmVyc2lvbiBvZiB0aGUgZ2l2ZW4gZGF0ZS5cbiAqIFRoZSBkYXRlIGRlZmF1bHRzIHRvIHRoZSBjdXJyZW50IGRhdGUvdGltZS5cbiAqIFRoZSBtYXNrIGRlZmF1bHRzIHRvIGRhdGVGb3JtYXQubWFza3MuZGVmYXVsdC5cbiAqL1xuXG4oZnVuY3Rpb24oZ2xvYmFsKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgZGF0ZUZvcm1hdCA9IChmdW5jdGlvbigpIHtcbiAgICAgIHZhciB0b2tlbiA9IC9kezEsNH18bXsxLDR9fHl5KD86eXkpP3woW0hoTXNUdF0pXFwxP3xbTGxvU1pXTl18XCJbXlwiXSpcInwnW14nXSonL2c7XG4gICAgICB2YXIgdGltZXpvbmUgPSAvXFxiKD86W1BNQ0VBXVtTRFBdVHwoPzpQYWNpZmljfE1vdW50YWlufENlbnRyYWx8RWFzdGVybnxBdGxhbnRpYykgKD86U3RhbmRhcmR8RGF5bGlnaHR8UHJldmFpbGluZykgVGltZXwoPzpHTVR8VVRDKSg/OlstK11cXGR7NH0pPylcXGIvZztcbiAgICAgIHZhciB0aW1lem9uZUNsaXAgPSAvW14tK1xcZEEtWl0vZztcbiAgXG4gICAgICAvLyBSZWdleGVzIGFuZCBzdXBwb3J0aW5nIGZ1bmN0aW9ucyBhcmUgY2FjaGVkIHRocm91Z2ggY2xvc3VyZVxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChkYXRlLCBtYXNrLCB1dGMsIGdtdCkge1xuICBcbiAgICAgICAgLy8gWW91IGNhbid0IHByb3ZpZGUgdXRjIGlmIHlvdSBza2lwIG90aGVyIGFyZ3MgKHVzZSB0aGUgJ1VUQzonIG1hc2sgcHJlZml4KVxuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSAmJiBraW5kT2YoZGF0ZSkgPT09ICdzdHJpbmcnICYmICEvXFxkLy50ZXN0KGRhdGUpKSB7XG4gICAgICAgICAgbWFzayA9IGRhdGU7XG4gICAgICAgICAgZGF0ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICBcbiAgICAgICAgZGF0ZSA9IGRhdGUgfHwgbmV3IERhdGU7XG4gIFxuICAgICAgICBpZighKGRhdGUgaW5zdGFuY2VvZiBEYXRlKSkge1xuICAgICAgICAgIGRhdGUgPSBuZXcgRGF0ZShkYXRlKTtcbiAgICAgICAgfVxuICBcbiAgICAgICAgaWYgKGlzTmFOKGRhdGUpKSB7XG4gICAgICAgICAgdGhyb3cgVHlwZUVycm9yKCdJbnZhbGlkIGRhdGUnKTtcbiAgICAgICAgfVxuICBcbiAgICAgICAgbWFzayA9IFN0cmluZyhkYXRlRm9ybWF0Lm1hc2tzW21hc2tdIHx8IG1hc2sgfHwgZGF0ZUZvcm1hdC5tYXNrc1snZGVmYXVsdCddKTtcbiAgXG4gICAgICAgIC8vIEFsbG93IHNldHRpbmcgdGhlIHV0Yy9nbXQgYXJndW1lbnQgdmlhIHRoZSBtYXNrXG4gICAgICAgIHZhciBtYXNrU2xpY2UgPSBtYXNrLnNsaWNlKDAsIDQpO1xuICAgICAgICBpZiAobWFza1NsaWNlID09PSAnVVRDOicgfHwgbWFza1NsaWNlID09PSAnR01UOicpIHtcbiAgICAgICAgICBtYXNrID0gbWFzay5zbGljZSg0KTtcbiAgICAgICAgICB1dGMgPSB0cnVlO1xuICAgICAgICAgIGlmIChtYXNrU2xpY2UgPT09ICdHTVQ6Jykge1xuICAgICAgICAgICAgZ210ID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgXG4gICAgICAgIHZhciBfID0gdXRjID8gJ2dldFVUQycgOiAnZ2V0JztcbiAgICAgICAgdmFyIGQgPSBkYXRlW18gKyAnRGF0ZSddKCk7XG4gICAgICAgIHZhciBEID0gZGF0ZVtfICsgJ0RheSddKCk7XG4gICAgICAgIHZhciBtID0gZGF0ZVtfICsgJ01vbnRoJ10oKTtcbiAgICAgICAgdmFyIHkgPSBkYXRlW18gKyAnRnVsbFllYXInXSgpO1xuICAgICAgICB2YXIgSCA9IGRhdGVbXyArICdIb3VycyddKCk7XG4gICAgICAgIHZhciBNID0gZGF0ZVtfICsgJ01pbnV0ZXMnXSgpO1xuICAgICAgICB2YXIgcyA9IGRhdGVbXyArICdTZWNvbmRzJ10oKTtcbiAgICAgICAgdmFyIEwgPSBkYXRlW18gKyAnTWlsbGlzZWNvbmRzJ10oKTtcbiAgICAgICAgdmFyIG8gPSB1dGMgPyAwIDogZGF0ZS5nZXRUaW1lem9uZU9mZnNldCgpO1xuICAgICAgICB2YXIgVyA9IGdldFdlZWsoZGF0ZSk7XG4gICAgICAgIHZhciBOID0gZ2V0RGF5T2ZXZWVrKGRhdGUpO1xuICAgICAgICB2YXIgZmxhZ3MgPSB7XG4gICAgICAgICAgZDogICAgZCxcbiAgICAgICAgICBkZDogICBwYWQoZCksXG4gICAgICAgICAgZGRkOiAgZGF0ZUZvcm1hdC5pMThuLmRheU5hbWVzW0RdLFxuICAgICAgICAgIGRkZGQ6IGRhdGVGb3JtYXQuaTE4bi5kYXlOYW1lc1tEICsgN10sXG4gICAgICAgICAgbTogICAgbSArIDEsXG4gICAgICAgICAgbW06ICAgcGFkKG0gKyAxKSxcbiAgICAgICAgICBtbW06ICBkYXRlRm9ybWF0LmkxOG4ubW9udGhOYW1lc1ttXSxcbiAgICAgICAgICBtbW1tOiBkYXRlRm9ybWF0LmkxOG4ubW9udGhOYW1lc1ttICsgMTJdLFxuICAgICAgICAgIHl5OiAgIFN0cmluZyh5KS5zbGljZSgyKSxcbiAgICAgICAgICB5eXl5OiB5LFxuICAgICAgICAgIGg6ICAgIEggJSAxMiB8fCAxMixcbiAgICAgICAgICBoaDogICBwYWQoSCAlIDEyIHx8IDEyKSxcbiAgICAgICAgICBIOiAgICBILFxuICAgICAgICAgIEhIOiAgIHBhZChIKSxcbiAgICAgICAgICBNOiAgICBNLFxuICAgICAgICAgIE1NOiAgIHBhZChNKSxcbiAgICAgICAgICBzOiAgICBzLFxuICAgICAgICAgIHNzOiAgIHBhZChzKSxcbiAgICAgICAgICBsOiAgICBwYWQoTCwgMyksXG4gICAgICAgICAgTDogICAgcGFkKE1hdGgucm91bmQoTCAvIDEwKSksXG4gICAgICAgICAgdDogICAgSCA8IDEyID8gZGF0ZUZvcm1hdC5pMThuLnRpbWVOYW1lc1swXSA6IGRhdGVGb3JtYXQuaTE4bi50aW1lTmFtZXNbMV0sXG4gICAgICAgICAgdHQ6ICAgSCA8IDEyID8gZGF0ZUZvcm1hdC5pMThuLnRpbWVOYW1lc1syXSA6IGRhdGVGb3JtYXQuaTE4bi50aW1lTmFtZXNbM10sXG4gICAgICAgICAgVDogICAgSCA8IDEyID8gZGF0ZUZvcm1hdC5pMThuLnRpbWVOYW1lc1s0XSA6IGRhdGVGb3JtYXQuaTE4bi50aW1lTmFtZXNbNV0sXG4gICAgICAgICAgVFQ6ICAgSCA8IDEyID8gZGF0ZUZvcm1hdC5pMThuLnRpbWVOYW1lc1s2XSA6IGRhdGVGb3JtYXQuaTE4bi50aW1lTmFtZXNbN10sXG4gICAgICAgICAgWjogICAgZ210ID8gJ0dNVCcgOiB1dGMgPyAnVVRDJyA6IChTdHJpbmcoZGF0ZSkubWF0Y2godGltZXpvbmUpIHx8IFsnJ10pLnBvcCgpLnJlcGxhY2UodGltZXpvbmVDbGlwLCAnJyksXG4gICAgICAgICAgbzogICAgKG8gPiAwID8gJy0nIDogJysnKSArIHBhZChNYXRoLmZsb29yKE1hdGguYWJzKG8pIC8gNjApICogMTAwICsgTWF0aC5hYnMobykgJSA2MCwgNCksXG4gICAgICAgICAgUzogICAgWyd0aCcsICdzdCcsICduZCcsICdyZCddW2QgJSAxMCA+IDMgPyAwIDogKGQgJSAxMDAgLSBkICUgMTAgIT0gMTApICogZCAlIDEwXSxcbiAgICAgICAgICBXOiAgICBXLFxuICAgICAgICAgIE46ICAgIE5cbiAgICAgICAgfTtcbiAgXG4gICAgICAgIHJldHVybiBtYXNrLnJlcGxhY2UodG9rZW4sIGZ1bmN0aW9uIChtYXRjaCkge1xuICAgICAgICAgIGlmIChtYXRjaCBpbiBmbGFncykge1xuICAgICAgICAgICAgcmV0dXJuIGZsYWdzW21hdGNoXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIG1hdGNoLnNsaWNlKDEsIG1hdGNoLmxlbmd0aCAtIDEpO1xuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgfSkoKTtcblxuICBkYXRlRm9ybWF0Lm1hc2tzID0ge1xuICAgICdkZWZhdWx0JzogICAgICAgICAgICAgICAnZGRkIG1tbSBkZCB5eXl5IEhIOk1NOnNzJyxcbiAgICAnc2hvcnREYXRlJzogICAgICAgICAgICAgJ20vZC95eScsXG4gICAgJ21lZGl1bURhdGUnOiAgICAgICAgICAgICdtbW0gZCwgeXl5eScsXG4gICAgJ2xvbmdEYXRlJzogICAgICAgICAgICAgICdtbW1tIGQsIHl5eXknLFxuICAgICdmdWxsRGF0ZSc6ICAgICAgICAgICAgICAnZGRkZCwgbW1tbSBkLCB5eXl5JyxcbiAgICAnc2hvcnRUaW1lJzogICAgICAgICAgICAgJ2g6TU0gVFQnLFxuICAgICdtZWRpdW1UaW1lJzogICAgICAgICAgICAnaDpNTTpzcyBUVCcsXG4gICAgJ2xvbmdUaW1lJzogICAgICAgICAgICAgICdoOk1NOnNzIFRUIFonLFxuICAgICdpc29EYXRlJzogICAgICAgICAgICAgICAneXl5eS1tbS1kZCcsXG4gICAgJ2lzb1RpbWUnOiAgICAgICAgICAgICAgICdISDpNTTpzcycsXG4gICAgJ2lzb0RhdGVUaW1lJzogICAgICAgICAgICd5eXl5LW1tLWRkXFwnVFxcJ0hIOk1NOnNzbycsXG4gICAgJ2lzb1V0Y0RhdGVUaW1lJzogICAgICAgICdVVEM6eXl5eS1tbS1kZFxcJ1RcXCdISDpNTTpzc1xcJ1pcXCcnLFxuICAgICdleHBpcmVzSGVhZGVyRm9ybWF0JzogICAnZGRkLCBkZCBtbW0geXl5eSBISDpNTTpzcyBaJ1xuICB9O1xuXG4gIC8vIEludGVybmF0aW9uYWxpemF0aW9uIHN0cmluZ3NcbiAgZGF0ZUZvcm1hdC5pMThuID0ge1xuICAgIGRheU5hbWVzOiBbXG4gICAgICAnU3VuJywgJ01vbicsICdUdWUnLCAnV2VkJywgJ1RodScsICdGcmknLCAnU2F0JyxcbiAgICAgICdTdW5kYXknLCAnTW9uZGF5JywgJ1R1ZXNkYXknLCAnV2VkbmVzZGF5JywgJ1RodXJzZGF5JywgJ0ZyaWRheScsICdTYXR1cmRheSdcbiAgICBdLFxuICAgIG1vbnRoTmFtZXM6IFtcbiAgICAgICdKYW4nLCAnRmViJywgJ01hcicsICdBcHInLCAnTWF5JywgJ0p1bicsICdKdWwnLCAnQXVnJywgJ1NlcCcsICdPY3QnLCAnTm92JywgJ0RlYycsXG4gICAgICAnSmFudWFyeScsICdGZWJydWFyeScsICdNYXJjaCcsICdBcHJpbCcsICdNYXknLCAnSnVuZScsICdKdWx5JywgJ0F1Z3VzdCcsICdTZXB0ZW1iZXInLCAnT2N0b2JlcicsICdOb3ZlbWJlcicsICdEZWNlbWJlcidcbiAgICBdLFxuICAgIHRpbWVOYW1lczogW1xuICAgICAgJ2EnLCAncCcsICdhbScsICdwbScsICdBJywgJ1AnLCAnQU0nLCAnUE0nXG4gICAgXVxuICB9O1xuXG5mdW5jdGlvbiBwYWQodmFsLCBsZW4pIHtcbiAgdmFsID0gU3RyaW5nKHZhbCk7XG4gIGxlbiA9IGxlbiB8fCAyO1xuICB3aGlsZSAodmFsLmxlbmd0aCA8IGxlbikge1xuICAgIHZhbCA9ICcwJyArIHZhbDtcbiAgfVxuICByZXR1cm4gdmFsO1xufVxuXG4vKipcbiAqIEdldCB0aGUgSVNPIDg2MDEgd2VlayBudW1iZXJcbiAqIEJhc2VkIG9uIGNvbW1lbnRzIGZyb21cbiAqIGh0dHA6Ly90ZWNoYmxvZy5wcm9jdXJpb3Mubmwvay9uNjE4L25ld3Mvdmlldy8zMzc5Ni8xNDg2My9DYWxjdWxhdGUtSVNPLTg2MDEtd2Vlay1hbmQteWVhci1pbi1qYXZhc2NyaXB0Lmh0bWxcbiAqXG4gKiBAcGFyYW0gIHtPYmplY3R9IGBkYXRlYFxuICogQHJldHVybiB7TnVtYmVyfVxuICovXG5mdW5jdGlvbiBnZXRXZWVrKGRhdGUpIHtcbiAgLy8gUmVtb3ZlIHRpbWUgY29tcG9uZW50cyBvZiBkYXRlXG4gIHZhciB0YXJnZXRUaHVyc2RheSA9IG5ldyBEYXRlKGRhdGUuZ2V0RnVsbFllYXIoKSwgZGF0ZS5nZXRNb250aCgpLCBkYXRlLmdldERhdGUoKSk7XG5cbiAgLy8gQ2hhbmdlIGRhdGUgdG8gVGh1cnNkYXkgc2FtZSB3ZWVrXG4gIHRhcmdldFRodXJzZGF5LnNldERhdGUodGFyZ2V0VGh1cnNkYXkuZ2V0RGF0ZSgpIC0gKCh0YXJnZXRUaHVyc2RheS5nZXREYXkoKSArIDYpICUgNykgKyAzKTtcblxuICAvLyBUYWtlIEphbnVhcnkgNHRoIGFzIGl0IGlzIGFsd2F5cyBpbiB3ZWVrIDEgKHNlZSBJU08gODYwMSlcbiAgdmFyIGZpcnN0VGh1cnNkYXkgPSBuZXcgRGF0ZSh0YXJnZXRUaHVyc2RheS5nZXRGdWxsWWVhcigpLCAwLCA0KTtcblxuICAvLyBDaGFuZ2UgZGF0ZSB0byBUaHVyc2RheSBzYW1lIHdlZWtcbiAgZmlyc3RUaHVyc2RheS5zZXREYXRlKGZpcnN0VGh1cnNkYXkuZ2V0RGF0ZSgpIC0gKChmaXJzdFRodXJzZGF5LmdldERheSgpICsgNikgJSA3KSArIDMpO1xuXG4gIC8vIENoZWNrIGlmIGRheWxpZ2h0LXNhdmluZy10aW1lLXN3aXRjaCBvY2N1cnJlZCBhbmQgY29ycmVjdCBmb3IgaXRcbiAgdmFyIGRzID0gdGFyZ2V0VGh1cnNkYXkuZ2V0VGltZXpvbmVPZmZzZXQoKSAtIGZpcnN0VGh1cnNkYXkuZ2V0VGltZXpvbmVPZmZzZXQoKTtcbiAgdGFyZ2V0VGh1cnNkYXkuc2V0SG91cnModGFyZ2V0VGh1cnNkYXkuZ2V0SG91cnMoKSAtIGRzKTtcblxuICAvLyBOdW1iZXIgb2Ygd2Vla3MgYmV0d2VlbiB0YXJnZXQgVGh1cnNkYXkgYW5kIGZpcnN0IFRodXJzZGF5XG4gIHZhciB3ZWVrRGlmZiA9ICh0YXJnZXRUaHVyc2RheSAtIGZpcnN0VGh1cnNkYXkpIC8gKDg2NDAwMDAwKjcpO1xuICByZXR1cm4gMSArIE1hdGguZmxvb3Iod2Vla0RpZmYpO1xufVxuXG4vKipcbiAqIEdldCBJU08tODYwMSBudW1lcmljIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBkYXkgb2YgdGhlIHdlZWtcbiAqIDEgKGZvciBNb25kYXkpIHRocm91Z2ggNyAoZm9yIFN1bmRheSlcbiAqIFxuICogQHBhcmFtICB7T2JqZWN0fSBgZGF0ZWBcbiAqIEByZXR1cm4ge051bWJlcn1cbiAqL1xuZnVuY3Rpb24gZ2V0RGF5T2ZXZWVrKGRhdGUpIHtcbiAgdmFyIGRvdyA9IGRhdGUuZ2V0RGF5KCk7XG4gIGlmKGRvdyA9PT0gMCkge1xuICAgIGRvdyA9IDc7XG4gIH1cbiAgcmV0dXJuIGRvdztcbn1cblxuLyoqXG4gKiBraW5kLW9mIHNob3J0Y3V0XG4gKiBAcGFyYW0gIHsqfSB2YWxcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqL1xuZnVuY3Rpb24ga2luZE9mKHZhbCkge1xuICBpZiAodmFsID09PSBudWxsKSB7XG4gICAgcmV0dXJuICdudWxsJztcbiAgfVxuXG4gIGlmICh2YWwgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiAndW5kZWZpbmVkJztcbiAgfVxuXG4gIGlmICh0eXBlb2YgdmFsICE9PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiB0eXBlb2YgdmFsO1xuICB9XG5cbiAgaWYgKEFycmF5LmlzQXJyYXkodmFsKSkge1xuICAgIHJldHVybiAnYXJyYXknO1xuICB9XG5cbiAgcmV0dXJuIHt9LnRvU3RyaW5nLmNhbGwodmFsKVxuICAgIC5zbGljZSg4LCAtMSkudG9Mb3dlckNhc2UoKTtcbn07XG5cblxuXG4gIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICBkZWZpbmUoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGRhdGVGb3JtYXQ7XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBkYXRlRm9ybWF0O1xuICB9IGVsc2Uge1xuICAgIGdsb2JhbC5kYXRlRm9ybWF0ID0gZGF0ZUZvcm1hdDtcbiAgfVxufSkodGhpcyk7XG4iLCAiY29uc3QgZXNjYXBlID0ge1xuICAnJic6ICcmYW1wOycsXG4gICc8JzogJyZsdDsnLFxuICAnPic6ICcmZ3Q7JyxcbiAgJ1wiJzogJyZxdW90OycsXG4gIFwiJ1wiOiAnJiN4Mjc7JyxcbiAgJ2AnOiAnJiN4NjA7JyxcbiAgJz0nOiAnJiN4M0Q7J1xufTtcblxuY29uc3QgYmFkQ2hhcnMgPSAvWyY8PlwiJ2A9XS9nLFxuICBwb3NzaWJsZSA9IC9bJjw+XCInYD1dLztcblxuZnVuY3Rpb24gZXNjYXBlQ2hhcihjaHIpIHtcbiAgcmV0dXJuIGVzY2FwZVtjaHJdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZXh0ZW5kKG9iaiAvKiAsIC4uLnNvdXJjZSAqLykge1xuICBmb3IgKGxldCBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIGZvciAobGV0IGtleSBpbiBhcmd1bWVudHNbaV0pIHtcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYXJndW1lbnRzW2ldLCBrZXkpKSB7XG4gICAgICAgIG9ialtrZXldID0gYXJndW1lbnRzW2ldW2tleV07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG9iajtcbn1cblxuZXhwb3J0IGxldCB0b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5cbi8vIFNvdXJjZWQgZnJvbSBsb2Rhc2hcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9iZXN0aWVqcy9sb2Rhc2gvYmxvYi9tYXN0ZXIvTElDRU5TRS50eHRcbi8qIGVzbGludC1kaXNhYmxlIGZ1bmMtc3R5bGUgKi9cbmxldCBpc0Z1bmN0aW9uID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJztcbn07XG4vLyBmYWxsYmFjayBmb3Igb2xkZXIgdmVyc2lvbnMgb2YgQ2hyb21lIGFuZCBTYWZhcmlcbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5pZiAoaXNGdW5jdGlvbigveC8pKSB7XG4gIGlzRnVuY3Rpb24gPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiAoXG4gICAgICB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicgJiZcbiAgICAgIHRvU3RyaW5nLmNhbGwodmFsdWUpID09PSAnW29iamVjdCBGdW5jdGlvbl0nXG4gICAgKTtcbiAgfTtcbn1cbmV4cG9ydCB7IGlzRnVuY3Rpb24gfTtcbi8qIGVzbGludC1lbmFibGUgZnVuYy1zdHlsZSAqL1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuZXhwb3J0IGNvbnN0IGlzQXJyYXkgPVxuICBBcnJheS5pc0FycmF5IHx8XG4gIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCdcbiAgICAgID8gdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IEFycmF5XSdcbiAgICAgIDogZmFsc2U7XG4gIH07XG5cbi8vIE9sZGVyIElFIHZlcnNpb25zIGRvIG5vdCBkaXJlY3RseSBzdXBwb3J0IGluZGV4T2Ygc28gd2UgbXVzdCBpbXBsZW1lbnQgb3VyIG93biwgc2FkbHkuXG5leHBvcnQgZnVuY3Rpb24gaW5kZXhPZihhcnJheSwgdmFsdWUpIHtcbiAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGFycmF5Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgaWYgKGFycmF5W2ldID09PSB2YWx1ZSkge1xuICAgICAgcmV0dXJuIGk7XG4gICAgfVxuICB9XG4gIHJldHVybiAtMTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVzY2FwZUV4cHJlc3Npb24oc3RyaW5nKSB7XG4gIGlmICh0eXBlb2Ygc3RyaW5nICE9PSAnc3RyaW5nJykge1xuICAgIC8vIGRvbid0IGVzY2FwZSBTYWZlU3RyaW5ncywgc2luY2UgdGhleSdyZSBhbHJlYWR5IHNhZmVcbiAgICBpZiAoc3RyaW5nICYmIHN0cmluZy50b0hUTUwpIHtcbiAgICAgIHJldHVybiBzdHJpbmcudG9IVE1MKCk7XG4gICAgfSBlbHNlIGlmIChzdHJpbmcgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH0gZWxzZSBpZiAoIXN0cmluZykge1xuICAgICAgcmV0dXJuIHN0cmluZyArICcnO1xuICAgIH1cblxuICAgIC8vIEZvcmNlIGEgc3RyaW5nIGNvbnZlcnNpb24gYXMgdGhpcyB3aWxsIGJlIGRvbmUgYnkgdGhlIGFwcGVuZCByZWdhcmRsZXNzIGFuZFxuICAgIC8vIHRoZSByZWdleCB0ZXN0IHdpbGwgZG8gdGhpcyB0cmFuc3BhcmVudGx5IGJlaGluZCB0aGUgc2NlbmVzLCBjYXVzaW5nIGlzc3VlcyBpZlxuICAgIC8vIGFuIG9iamVjdCdzIHRvIHN0cmluZyBoYXMgZXNjYXBlZCBjaGFyYWN0ZXJzIGluIGl0LlxuICAgIHN0cmluZyA9ICcnICsgc3RyaW5nO1xuICB9XG5cbiAgaWYgKCFwb3NzaWJsZS50ZXN0KHN0cmluZykpIHtcbiAgICByZXR1cm4gc3RyaW5nO1xuICB9XG4gIHJldHVybiBzdHJpbmcucmVwbGFjZShiYWRDaGFycywgZXNjYXBlQ2hhcik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0VtcHR5KHZhbHVlKSB7XG4gIGlmICghdmFsdWUgJiYgdmFsdWUgIT09IDApIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBlbHNlIGlmIChpc0FycmF5KHZhbHVlKSAmJiB2YWx1ZS5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUZyYW1lKG9iamVjdCkge1xuICBsZXQgZnJhbWUgPSBleHRlbmQoe30sIG9iamVjdCk7XG4gIGZyYW1lLl9wYXJlbnQgPSBvYmplY3Q7XG4gIHJldHVybiBmcmFtZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJsb2NrUGFyYW1zKHBhcmFtcywgaWRzKSB7XG4gIHBhcmFtcy5wYXRoID0gaWRzO1xuICByZXR1cm4gcGFyYW1zO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYXBwZW5kQ29udGV4dFBhdGgoY29udGV4dFBhdGgsIGlkKSB7XG4gIHJldHVybiAoY29udGV4dFBhdGggPyBjb250ZXh0UGF0aCArICcuJyA6ICcnKSArIGlkO1xufVxuIiwgImNvbnN0IGVycm9yUHJvcHMgPSBbXG4gICdkZXNjcmlwdGlvbicsXG4gICdmaWxlTmFtZScsXG4gICdsaW5lTnVtYmVyJyxcbiAgJ2VuZExpbmVOdW1iZXInLFxuICAnbWVzc2FnZScsXG4gICduYW1lJyxcbiAgJ251bWJlcicsXG4gICdzdGFjaydcbl07XG5cbmZ1bmN0aW9uIEV4Y2VwdGlvbihtZXNzYWdlLCBub2RlKSB7XG4gIGxldCBsb2MgPSBub2RlICYmIG5vZGUubG9jLFxuICAgIGxpbmUsXG4gICAgZW5kTGluZU51bWJlcixcbiAgICBjb2x1bW4sXG4gICAgZW5kQ29sdW1uO1xuXG4gIGlmIChsb2MpIHtcbiAgICBsaW5lID0gbG9jLnN0YXJ0LmxpbmU7XG4gICAgZW5kTGluZU51bWJlciA9IGxvYy5lbmQubGluZTtcbiAgICBjb2x1bW4gPSBsb2Muc3RhcnQuY29sdW1uO1xuICAgIGVuZENvbHVtbiA9IGxvYy5lbmQuY29sdW1uO1xuXG4gICAgbWVzc2FnZSArPSAnIC0gJyArIGxpbmUgKyAnOicgKyBjb2x1bW47XG4gIH1cblxuICBsZXQgdG1wID0gRXJyb3IucHJvdG90eXBlLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgbWVzc2FnZSk7XG5cbiAgLy8gVW5mb3J0dW5hdGVseSBlcnJvcnMgYXJlIG5vdCBlbnVtZXJhYmxlIGluIENocm9tZSAoYXQgbGVhc3QpLCBzbyBgZm9yIHByb3AgaW4gdG1wYCBkb2Vzbid0IHdvcmsuXG4gIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IGVycm9yUHJvcHMubGVuZ3RoOyBpZHgrKykge1xuICAgIHRoaXNbZXJyb3JQcm9wc1tpZHhdXSA9IHRtcFtlcnJvclByb3BzW2lkeF1dO1xuICB9XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgaWYgKEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKSB7XG4gICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgRXhjZXB0aW9uKTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgaWYgKGxvYykge1xuICAgICAgdGhpcy5saW5lTnVtYmVyID0gbGluZTtcbiAgICAgIHRoaXMuZW5kTGluZU51bWJlciA9IGVuZExpbmVOdW1iZXI7XG5cbiAgICAgIC8vIFdvcmsgYXJvdW5kIGlzc3VlIHVuZGVyIHNhZmFyaSB3aGVyZSB3ZSBjYW4ndCBkaXJlY3RseSBzZXQgdGhlIGNvbHVtbiB2YWx1ZVxuICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdjb2x1bW4nLCB7XG4gICAgICAgICAgdmFsdWU6IGNvbHVtbixcbiAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ2VuZENvbHVtbicsIHtcbiAgICAgICAgICB2YWx1ZTogZW5kQ29sdW1uLFxuICAgICAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmNvbHVtbiA9IGNvbHVtbjtcbiAgICAgICAgdGhpcy5lbmRDb2x1bW4gPSBlbmRDb2x1bW47XG4gICAgICB9XG4gICAgfVxuICB9IGNhdGNoIChub3ApIHtcbiAgICAvKiBJZ25vcmUgaWYgdGhlIGJyb3dzZXIgaXMgdmVyeSBwYXJ0aWN1bGFyICovXG4gIH1cbn1cblxuRXhjZXB0aW9uLnByb3RvdHlwZSA9IG5ldyBFcnJvcigpO1xuXG5leHBvcnQgZGVmYXVsdCBFeGNlcHRpb247XG4iLCAiaW1wb3J0IHsgYXBwZW5kQ29udGV4dFBhdGgsIGNyZWF0ZUZyYW1lLCBpc0FycmF5IH0gZnJvbSAnLi4vdXRpbHMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihpbnN0YW5jZSkge1xuICBpbnN0YW5jZS5yZWdpc3RlckhlbHBlcignYmxvY2tIZWxwZXJNaXNzaW5nJywgZnVuY3Rpb24oY29udGV4dCwgb3B0aW9ucykge1xuICAgIGxldCBpbnZlcnNlID0gb3B0aW9ucy5pbnZlcnNlLFxuICAgICAgZm4gPSBvcHRpb25zLmZuO1xuXG4gICAgaWYgKGNvbnRleHQgPT09IHRydWUpIHtcbiAgICAgIHJldHVybiBmbih0aGlzKTtcbiAgICB9IGVsc2UgaWYgKGNvbnRleHQgPT09IGZhbHNlIHx8IGNvbnRleHQgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIGludmVyc2UodGhpcyk7XG4gICAgfSBlbHNlIGlmIChpc0FycmF5KGNvbnRleHQpKSB7XG4gICAgICBpZiAoY29udGV4dC5sZW5ndGggPiAwKSB7XG4gICAgICAgIGlmIChvcHRpb25zLmlkcykge1xuICAgICAgICAgIG9wdGlvbnMuaWRzID0gW29wdGlvbnMubmFtZV07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaW5zdGFuY2UuaGVscGVycy5lYWNoKGNvbnRleHQsIG9wdGlvbnMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGludmVyc2UodGhpcyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChvcHRpb25zLmRhdGEgJiYgb3B0aW9ucy5pZHMpIHtcbiAgICAgICAgbGV0IGRhdGEgPSBjcmVhdGVGcmFtZShvcHRpb25zLmRhdGEpO1xuICAgICAgICBkYXRhLmNvbnRleHRQYXRoID0gYXBwZW5kQ29udGV4dFBhdGgoXG4gICAgICAgICAgb3B0aW9ucy5kYXRhLmNvbnRleHRQYXRoLFxuICAgICAgICAgIG9wdGlvbnMubmFtZVxuICAgICAgICApO1xuICAgICAgICBvcHRpb25zID0geyBkYXRhOiBkYXRhIH07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmbihjb250ZXh0LCBvcHRpb25zKTtcbiAgICB9XG4gIH0pO1xufVxuIiwgImltcG9ydCB7XG4gIGFwcGVuZENvbnRleHRQYXRoLFxuICBibG9ja1BhcmFtcyxcbiAgY3JlYXRlRnJhbWUsXG4gIGlzQXJyYXksXG4gIGlzRnVuY3Rpb25cbn0gZnJvbSAnLi4vdXRpbHMnO1xuaW1wb3J0IEV4Y2VwdGlvbiBmcm9tICcuLi9leGNlcHRpb24nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihpbnN0YW5jZSkge1xuICBpbnN0YW5jZS5yZWdpc3RlckhlbHBlcignZWFjaCcsIGZ1bmN0aW9uKGNvbnRleHQsIG9wdGlvbnMpIHtcbiAgICBpZiAoIW9wdGlvbnMpIHtcbiAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oJ011c3QgcGFzcyBpdGVyYXRvciB0byAjZWFjaCcpO1xuICAgIH1cblxuICAgIGxldCBmbiA9IG9wdGlvbnMuZm4sXG4gICAgICBpbnZlcnNlID0gb3B0aW9ucy5pbnZlcnNlLFxuICAgICAgaSA9IDAsXG4gICAgICByZXQgPSAnJyxcbiAgICAgIGRhdGEsXG4gICAgICBjb250ZXh0UGF0aDtcblxuICAgIGlmIChvcHRpb25zLmRhdGEgJiYgb3B0aW9ucy5pZHMpIHtcbiAgICAgIGNvbnRleHRQYXRoID1cbiAgICAgICAgYXBwZW5kQ29udGV4dFBhdGgob3B0aW9ucy5kYXRhLmNvbnRleHRQYXRoLCBvcHRpb25zLmlkc1swXSkgKyAnLic7XG4gICAgfVxuXG4gICAgaWYgKGlzRnVuY3Rpb24oY29udGV4dCkpIHtcbiAgICAgIGNvbnRleHQgPSBjb250ZXh0LmNhbGwodGhpcyk7XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMuZGF0YSkge1xuICAgICAgZGF0YSA9IGNyZWF0ZUZyYW1lKG9wdGlvbnMuZGF0YSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZXhlY0l0ZXJhdGlvbihmaWVsZCwgaW5kZXgsIGxhc3QpIHtcbiAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgIGRhdGEua2V5ID0gZmllbGQ7XG4gICAgICAgIGRhdGEuaW5kZXggPSBpbmRleDtcbiAgICAgICAgZGF0YS5maXJzdCA9IGluZGV4ID09PSAwO1xuICAgICAgICBkYXRhLmxhc3QgPSAhIWxhc3Q7XG5cbiAgICAgICAgaWYgKGNvbnRleHRQYXRoKSB7XG4gICAgICAgICAgZGF0YS5jb250ZXh0UGF0aCA9IGNvbnRleHRQYXRoICsgZmllbGQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0ID1cbiAgICAgICAgcmV0ICtcbiAgICAgICAgZm4oY29udGV4dFtmaWVsZF0sIHtcbiAgICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICAgIGJsb2NrUGFyYW1zOiBibG9ja1BhcmFtcyhcbiAgICAgICAgICAgIFtjb250ZXh0W2ZpZWxkXSwgZmllbGRdLFxuICAgICAgICAgICAgW2NvbnRleHRQYXRoICsgZmllbGQsIG51bGxdXG4gICAgICAgICAgKVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoY29udGV4dCAmJiB0eXBlb2YgY29udGV4dCA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGlmIChpc0FycmF5KGNvbnRleHQpKSB7XG4gICAgICAgIGZvciAobGV0IGogPSBjb250ZXh0Lmxlbmd0aDsgaSA8IGo7IGkrKykge1xuICAgICAgICAgIGlmIChpIGluIGNvbnRleHQpIHtcbiAgICAgICAgICAgIGV4ZWNJdGVyYXRpb24oaSwgaSwgaSA9PT0gY29udGV4dC5sZW5ndGggLSAxKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoZ2xvYmFsLlN5bWJvbCAmJiBjb250ZXh0W2dsb2JhbC5TeW1ib2wuaXRlcmF0b3JdKSB7XG4gICAgICAgIGNvbnN0IG5ld0NvbnRleHQgPSBbXTtcbiAgICAgICAgY29uc3QgaXRlcmF0b3IgPSBjb250ZXh0W2dsb2JhbC5TeW1ib2wuaXRlcmF0b3JdKCk7XG4gICAgICAgIGZvciAobGV0IGl0ID0gaXRlcmF0b3IubmV4dCgpOyAhaXQuZG9uZTsgaXQgPSBpdGVyYXRvci5uZXh0KCkpIHtcbiAgICAgICAgICBuZXdDb250ZXh0LnB1c2goaXQudmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRleHQgPSBuZXdDb250ZXh0O1xuICAgICAgICBmb3IgKGxldCBqID0gY29udGV4dC5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICAgICAgICBleGVjSXRlcmF0aW9uKGksIGksIGkgPT09IGNvbnRleHQubGVuZ3RoIC0gMSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCBwcmlvcktleTtcblxuICAgICAgICBPYmplY3Qua2V5cyhjb250ZXh0KS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgICAgLy8gV2UncmUgcnVubmluZyB0aGUgaXRlcmF0aW9ucyBvbmUgc3RlcCBvdXQgb2Ygc3luYyBzbyB3ZSBjYW4gZGV0ZWN0XG4gICAgICAgICAgLy8gdGhlIGxhc3QgaXRlcmF0aW9uIHdpdGhvdXQgaGF2ZSB0byBzY2FuIHRoZSBvYmplY3QgdHdpY2UgYW5kIGNyZWF0ZVxuICAgICAgICAgIC8vIGFuIGl0ZXJtZWRpYXRlIGtleXMgYXJyYXkuXG4gICAgICAgICAgaWYgKHByaW9yS2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGV4ZWNJdGVyYXRpb24ocHJpb3JLZXksIGkgLSAxKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcHJpb3JLZXkgPSBrZXk7XG4gICAgICAgICAgaSsrO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHByaW9yS2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBleGVjSXRlcmF0aW9uKHByaW9yS2V5LCBpIC0gMSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgcmV0ID0gaW52ZXJzZSh0aGlzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmV0O1xuICB9KTtcbn1cbiIsICJpbXBvcnQgRXhjZXB0aW9uIGZyb20gJy4uL2V4Y2VwdGlvbic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGluc3RhbmNlKSB7XG4gIGluc3RhbmNlLnJlZ2lzdGVySGVscGVyKCdoZWxwZXJNaXNzaW5nJywgZnVuY3Rpb24oLyogW2FyZ3MsIF1vcHRpb25zICovKSB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICAgIC8vIEEgbWlzc2luZyBmaWVsZCBpbiBhIHt7Zm9vfX0gY29uc3RydWN0LlxuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gU29tZW9uZSBpcyBhY3R1YWxseSB0cnlpbmcgdG8gY2FsbCBzb21ldGhpbmcsIGJsb3cgdXAuXG4gICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKFxuICAgICAgICAnTWlzc2luZyBoZWxwZXI6IFwiJyArIGFyZ3VtZW50c1thcmd1bWVudHMubGVuZ3RoIC0gMV0ubmFtZSArICdcIidcbiAgICAgICk7XG4gICAgfVxuICB9KTtcbn1cbiIsICJpbXBvcnQgeyBpc0VtcHR5LCBpc0Z1bmN0aW9uIH0gZnJvbSAnLi4vdXRpbHMnO1xuaW1wb3J0IEV4Y2VwdGlvbiBmcm9tICcuLi9leGNlcHRpb24nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihpbnN0YW5jZSkge1xuICBpbnN0YW5jZS5yZWdpc3RlckhlbHBlcignaWYnLCBmdW5jdGlvbihjb25kaXRpb25hbCwgb3B0aW9ucykge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoICE9IDIpIHtcbiAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oJyNpZiByZXF1aXJlcyBleGFjdGx5IG9uZSBhcmd1bWVudCcpO1xuICAgIH1cbiAgICBpZiAoaXNGdW5jdGlvbihjb25kaXRpb25hbCkpIHtcbiAgICAgIGNvbmRpdGlvbmFsID0gY29uZGl0aW9uYWwuY2FsbCh0aGlzKTtcbiAgICB9XG5cbiAgICAvLyBEZWZhdWx0IGJlaGF2aW9yIGlzIHRvIHJlbmRlciB0aGUgcG9zaXRpdmUgcGF0aCBpZiB0aGUgdmFsdWUgaXMgdHJ1dGh5IGFuZCBub3QgZW1wdHkuXG4gICAgLy8gVGhlIGBpbmNsdWRlWmVyb2Agb3B0aW9uIG1heSBiZSBzZXQgdG8gdHJlYXQgdGhlIGNvbmR0aW9uYWwgYXMgcHVyZWx5IG5vdCBlbXB0eSBiYXNlZCBvbiB0aGVcbiAgICAvLyBiZWhhdmlvciBvZiBpc0VtcHR5LiBFZmZlY3RpdmVseSB0aGlzIGRldGVybWluZXMgaWYgMCBpcyBoYW5kbGVkIGJ5IHRoZSBwb3NpdGl2ZSBwYXRoIG9yIG5lZ2F0aXZlLlxuICAgIGlmICgoIW9wdGlvbnMuaGFzaC5pbmNsdWRlWmVybyAmJiAhY29uZGl0aW9uYWwpIHx8IGlzRW1wdHkoY29uZGl0aW9uYWwpKSB7XG4gICAgICByZXR1cm4gb3B0aW9ucy5pbnZlcnNlKHRoaXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gb3B0aW9ucy5mbih0aGlzKTtcbiAgICB9XG4gIH0pO1xuXG4gIGluc3RhbmNlLnJlZ2lzdGVySGVscGVyKCd1bmxlc3MnLCBmdW5jdGlvbihjb25kaXRpb25hbCwgb3B0aW9ucykge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoICE9IDIpIHtcbiAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oJyN1bmxlc3MgcmVxdWlyZXMgZXhhY3RseSBvbmUgYXJndW1lbnQnKTtcbiAgICB9XG4gICAgcmV0dXJuIGluc3RhbmNlLmhlbHBlcnNbJ2lmJ10uY2FsbCh0aGlzLCBjb25kaXRpb25hbCwge1xuICAgICAgZm46IG9wdGlvbnMuaW52ZXJzZSxcbiAgICAgIGludmVyc2U6IG9wdGlvbnMuZm4sXG4gICAgICBoYXNoOiBvcHRpb25zLmhhc2hcbiAgICB9KTtcbiAgfSk7XG59XG4iLCAiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgaW5zdGFuY2UucmVnaXN0ZXJIZWxwZXIoJ2xvZycsIGZ1bmN0aW9uKC8qIG1lc3NhZ2UsIG9wdGlvbnMgKi8pIHtcbiAgICBsZXQgYXJncyA9IFt1bmRlZmluZWRdLFxuICAgICAgb3B0aW9ucyA9IGFyZ3VtZW50c1thcmd1bWVudHMubGVuZ3RoIC0gMV07XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICBhcmdzLnB1c2goYXJndW1lbnRzW2ldKTtcbiAgICB9XG5cbiAgICBsZXQgbGV2ZWwgPSAxO1xuICAgIGlmIChvcHRpb25zLmhhc2gubGV2ZWwgIT0gbnVsbCkge1xuICAgICAgbGV2ZWwgPSBvcHRpb25zLmhhc2gubGV2ZWw7XG4gICAgfSBlbHNlIGlmIChvcHRpb25zLmRhdGEgJiYgb3B0aW9ucy5kYXRhLmxldmVsICE9IG51bGwpIHtcbiAgICAgIGxldmVsID0gb3B0aW9ucy5kYXRhLmxldmVsO1xuICAgIH1cbiAgICBhcmdzWzBdID0gbGV2ZWw7XG5cbiAgICBpbnN0YW5jZS5sb2coLi4uYXJncyk7XG4gIH0pO1xufVxuIiwgImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGluc3RhbmNlKSB7XG4gIGluc3RhbmNlLnJlZ2lzdGVySGVscGVyKCdsb29rdXAnLCBmdW5jdGlvbihvYmosIGZpZWxkLCBvcHRpb25zKSB7XG4gICAgaWYgKCFvYmopIHtcbiAgICAgIC8vIE5vdGUgZm9yIDUuMDogQ2hhbmdlIHRvIFwib2JqID09IG51bGxcIiBpbiA1LjBcbiAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuICAgIHJldHVybiBvcHRpb25zLmxvb2t1cFByb3BlcnR5KG9iaiwgZmllbGQpO1xuICB9KTtcbn1cbiIsICJpbXBvcnQge1xuICBhcHBlbmRDb250ZXh0UGF0aCxcbiAgYmxvY2tQYXJhbXMsXG4gIGNyZWF0ZUZyYW1lLFxuICBpc0VtcHR5LFxuICBpc0Z1bmN0aW9uXG59IGZyb20gJy4uL3V0aWxzJztcbmltcG9ydCBFeGNlcHRpb24gZnJvbSAnLi4vZXhjZXB0aW9uJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgaW5zdGFuY2UucmVnaXN0ZXJIZWxwZXIoJ3dpdGgnLCBmdW5jdGlvbihjb250ZXh0LCBvcHRpb25zKSB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggIT0gMikge1xuICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbignI3dpdGggcmVxdWlyZXMgZXhhY3RseSBvbmUgYXJndW1lbnQnKTtcbiAgICB9XG4gICAgaWYgKGlzRnVuY3Rpb24oY29udGV4dCkpIHtcbiAgICAgIGNvbnRleHQgPSBjb250ZXh0LmNhbGwodGhpcyk7XG4gICAgfVxuXG4gICAgbGV0IGZuID0gb3B0aW9ucy5mbjtcblxuICAgIGlmICghaXNFbXB0eShjb250ZXh0KSkge1xuICAgICAgbGV0IGRhdGEgPSBvcHRpb25zLmRhdGE7XG4gICAgICBpZiAob3B0aW9ucy5kYXRhICYmIG9wdGlvbnMuaWRzKSB7XG4gICAgICAgIGRhdGEgPSBjcmVhdGVGcmFtZShvcHRpb25zLmRhdGEpO1xuICAgICAgICBkYXRhLmNvbnRleHRQYXRoID0gYXBwZW5kQ29udGV4dFBhdGgoXG4gICAgICAgICAgb3B0aW9ucy5kYXRhLmNvbnRleHRQYXRoLFxuICAgICAgICAgIG9wdGlvbnMuaWRzWzBdXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmbihjb250ZXh0LCB7XG4gICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgIGJsb2NrUGFyYW1zOiBibG9ja1BhcmFtcyhbY29udGV4dF0sIFtkYXRhICYmIGRhdGEuY29udGV4dFBhdGhdKVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBvcHRpb25zLmludmVyc2UodGhpcyk7XG4gICAgfVxuICB9KTtcbn1cbiIsICJpbXBvcnQgcmVnaXN0ZXJCbG9ja0hlbHBlck1pc3NpbmcgZnJvbSAnLi9oZWxwZXJzL2Jsb2NrLWhlbHBlci1taXNzaW5nJztcbmltcG9ydCByZWdpc3RlckVhY2ggZnJvbSAnLi9oZWxwZXJzL2VhY2gnO1xuaW1wb3J0IHJlZ2lzdGVySGVscGVyTWlzc2luZyBmcm9tICcuL2hlbHBlcnMvaGVscGVyLW1pc3NpbmcnO1xuaW1wb3J0IHJlZ2lzdGVySWYgZnJvbSAnLi9oZWxwZXJzL2lmJztcbmltcG9ydCByZWdpc3RlckxvZyBmcm9tICcuL2hlbHBlcnMvbG9nJztcbmltcG9ydCByZWdpc3Rlckxvb2t1cCBmcm9tICcuL2hlbHBlcnMvbG9va3VwJztcbmltcG9ydCByZWdpc3RlcldpdGggZnJvbSAnLi9oZWxwZXJzL3dpdGgnO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJEZWZhdWx0SGVscGVycyhpbnN0YW5jZSkge1xuICByZWdpc3RlckJsb2NrSGVscGVyTWlzc2luZyhpbnN0YW5jZSk7XG4gIHJlZ2lzdGVyRWFjaChpbnN0YW5jZSk7XG4gIHJlZ2lzdGVySGVscGVyTWlzc2luZyhpbnN0YW5jZSk7XG4gIHJlZ2lzdGVySWYoaW5zdGFuY2UpO1xuICByZWdpc3RlckxvZyhpbnN0YW5jZSk7XG4gIHJlZ2lzdGVyTG9va3VwKGluc3RhbmNlKTtcbiAgcmVnaXN0ZXJXaXRoKGluc3RhbmNlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1vdmVIZWxwZXJUb0hvb2tzKGluc3RhbmNlLCBoZWxwZXJOYW1lLCBrZWVwSGVscGVyKSB7XG4gIGlmIChpbnN0YW5jZS5oZWxwZXJzW2hlbHBlck5hbWVdKSB7XG4gICAgaW5zdGFuY2UuaG9va3NbaGVscGVyTmFtZV0gPSBpbnN0YW5jZS5oZWxwZXJzW2hlbHBlck5hbWVdO1xuICAgIGlmICgha2VlcEhlbHBlcikge1xuICAgICAgZGVsZXRlIGluc3RhbmNlLmhlbHBlcnNbaGVscGVyTmFtZV07XG4gICAgfVxuICB9XG59XG4iLCAiaW1wb3J0IHsgZXh0ZW5kIH0gZnJvbSAnLi4vdXRpbHMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihpbnN0YW5jZSkge1xuICBpbnN0YW5jZS5yZWdpc3RlckRlY29yYXRvcignaW5saW5lJywgZnVuY3Rpb24oZm4sIHByb3BzLCBjb250YWluZXIsIG9wdGlvbnMpIHtcbiAgICBsZXQgcmV0ID0gZm47XG4gICAgaWYgKCFwcm9wcy5wYXJ0aWFscykge1xuICAgICAgcHJvcHMucGFydGlhbHMgPSB7fTtcbiAgICAgIHJldCA9IGZ1bmN0aW9uKGNvbnRleHQsIG9wdGlvbnMpIHtcbiAgICAgICAgLy8gQ3JlYXRlIGEgbmV3IHBhcnRpYWxzIHN0YWNrIGZyYW1lIHByaW9yIHRvIGV4ZWMuXG4gICAgICAgIGxldCBvcmlnaW5hbCA9IGNvbnRhaW5lci5wYXJ0aWFscztcbiAgICAgICAgY29udGFpbmVyLnBhcnRpYWxzID0gZXh0ZW5kKHt9LCBvcmlnaW5hbCwgcHJvcHMucGFydGlhbHMpO1xuICAgICAgICBsZXQgcmV0ID0gZm4oY29udGV4dCwgb3B0aW9ucyk7XG4gICAgICAgIGNvbnRhaW5lci5wYXJ0aWFscyA9IG9yaWdpbmFsO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgfTtcbiAgICB9XG5cbiAgICBwcm9wcy5wYXJ0aWFsc1tvcHRpb25zLmFyZ3NbMF1dID0gb3B0aW9ucy5mbjtcblxuICAgIHJldHVybiByZXQ7XG4gIH0pO1xufVxuIiwgImltcG9ydCByZWdpc3RlcklubGluZSBmcm9tICcuL2RlY29yYXRvcnMvaW5saW5lJztcblxuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyRGVmYXVsdERlY29yYXRvcnMoaW5zdGFuY2UpIHtcbiAgcmVnaXN0ZXJJbmxpbmUoaW5zdGFuY2UpO1xufVxuIiwgImltcG9ydCB7IGluZGV4T2YgfSBmcm9tICcuL3V0aWxzJztcblxubGV0IGxvZ2dlciA9IHtcbiAgbWV0aG9kTWFwOiBbJ2RlYnVnJywgJ2luZm8nLCAnd2FybicsICdlcnJvciddLFxuICBsZXZlbDogJ2luZm8nLFxuXG4gIC8vIE1hcHMgYSBnaXZlbiBsZXZlbCB2YWx1ZSB0byB0aGUgYG1ldGhvZE1hcGAgaW5kZXhlcyBhYm92ZS5cbiAgbG9va3VwTGV2ZWw6IGZ1bmN0aW9uKGxldmVsKSB7XG4gICAgaWYgKHR5cGVvZiBsZXZlbCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGxldCBsZXZlbE1hcCA9IGluZGV4T2YobG9nZ2VyLm1ldGhvZE1hcCwgbGV2ZWwudG9Mb3dlckNhc2UoKSk7XG4gICAgICBpZiAobGV2ZWxNYXAgPj0gMCkge1xuICAgICAgICBsZXZlbCA9IGxldmVsTWFwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGV2ZWwgPSBwYXJzZUludChsZXZlbCwgMTApO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBsZXZlbDtcbiAgfSxcblxuICAvLyBDYW4gYmUgb3ZlcnJpZGRlbiBpbiB0aGUgaG9zdCBlbnZpcm9ubWVudFxuICBsb2c6IGZ1bmN0aW9uKGxldmVsLCAuLi5tZXNzYWdlKSB7XG4gICAgbGV2ZWwgPSBsb2dnZXIubG9va3VwTGV2ZWwobGV2ZWwpO1xuXG4gICAgaWYgKFxuICAgICAgdHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICBsb2dnZXIubG9va3VwTGV2ZWwobG9nZ2VyLmxldmVsKSA8PSBsZXZlbFxuICAgICkge1xuICAgICAgbGV0IG1ldGhvZCA9IGxvZ2dlci5tZXRob2RNYXBbbGV2ZWxdO1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgIGlmICghY29uc29sZVttZXRob2RdKSB7XG4gICAgICAgIG1ldGhvZCA9ICdsb2cnO1xuICAgICAgfVxuICAgICAgY29uc29sZVttZXRob2RdKC4uLm1lc3NhZ2UpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcbiAgICB9XG4gIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IGxvZ2dlcjtcbiIsICJpbXBvcnQgeyBleHRlbmQgfSBmcm9tICcuLi91dGlscyc7XG5cbi8qKlxuICogQ3JlYXRlIGEgbmV3IG9iamVjdCB3aXRoIFwibnVsbFwiLXByb3RvdHlwZSB0byBhdm9pZCB0cnV0aHkgcmVzdWx0cyBvbiBwcm90b3R5cGUgcHJvcGVydGllcy5cbiAqIFRoZSByZXN1bHRpbmcgb2JqZWN0IGNhbiBiZSB1c2VkIHdpdGggXCJvYmplY3RbcHJvcGVydHldXCIgdG8gY2hlY2sgaWYgYSBwcm9wZXJ0eSBleGlzdHNcbiAqIEBwYXJhbSB7Li4ub2JqZWN0fSBzb3VyY2VzIGEgdmFyYXJncyBwYXJhbWV0ZXIgb2Ygc291cmNlIG9iamVjdHMgdGhhdCB3aWxsIGJlIG1lcmdlZFxuICogQHJldHVybnMge29iamVjdH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU5ld0xvb2t1cE9iamVjdCguLi5zb3VyY2VzKSB7XG4gIHJldHVybiBleHRlbmQoT2JqZWN0LmNyZWF0ZShudWxsKSwgLi4uc291cmNlcyk7XG59XG4iLCAiaW1wb3J0IHsgY3JlYXRlTmV3TG9va3VwT2JqZWN0IH0gZnJvbSAnLi9jcmVhdGUtbmV3LWxvb2t1cC1vYmplY3QnO1xuaW1wb3J0ICogYXMgbG9nZ2VyIGZyb20gJy4uL2xvZ2dlcic7XG5cbmNvbnN0IGxvZ2dlZFByb3BlcnRpZXMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUHJvdG9BY2Nlc3NDb250cm9sKHJ1bnRpbWVPcHRpb25zKSB7XG4gIGxldCBkZWZhdWx0TWV0aG9kV2hpdGVMaXN0ID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgZGVmYXVsdE1ldGhvZFdoaXRlTGlzdFsnY29uc3RydWN0b3InXSA9IGZhbHNlO1xuICBkZWZhdWx0TWV0aG9kV2hpdGVMaXN0WydfX2RlZmluZUdldHRlcl9fJ10gPSBmYWxzZTtcbiAgZGVmYXVsdE1ldGhvZFdoaXRlTGlzdFsnX19kZWZpbmVTZXR0ZXJfXyddID0gZmFsc2U7XG4gIGRlZmF1bHRNZXRob2RXaGl0ZUxpc3RbJ19fbG9va3VwR2V0dGVyX18nXSA9IGZhbHNlO1xuXG4gIGxldCBkZWZhdWx0UHJvcGVydHlXaGl0ZUxpc3QgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcHJvdG9cbiAgZGVmYXVsdFByb3BlcnR5V2hpdGVMaXN0WydfX3Byb3RvX18nXSA9IGZhbHNlO1xuXG4gIHJldHVybiB7XG4gICAgcHJvcGVydGllczoge1xuICAgICAgd2hpdGVsaXN0OiBjcmVhdGVOZXdMb29rdXBPYmplY3QoXG4gICAgICAgIGRlZmF1bHRQcm9wZXJ0eVdoaXRlTGlzdCxcbiAgICAgICAgcnVudGltZU9wdGlvbnMuYWxsb3dlZFByb3RvUHJvcGVydGllc1xuICAgICAgKSxcbiAgICAgIGRlZmF1bHRWYWx1ZTogcnVudGltZU9wdGlvbnMuYWxsb3dQcm90b1Byb3BlcnRpZXNCeURlZmF1bHRcbiAgICB9LFxuICAgIG1ldGhvZHM6IHtcbiAgICAgIHdoaXRlbGlzdDogY3JlYXRlTmV3TG9va3VwT2JqZWN0KFxuICAgICAgICBkZWZhdWx0TWV0aG9kV2hpdGVMaXN0LFxuICAgICAgICBydW50aW1lT3B0aW9ucy5hbGxvd2VkUHJvdG9NZXRob2RzXG4gICAgICApLFxuICAgICAgZGVmYXVsdFZhbHVlOiBydW50aW1lT3B0aW9ucy5hbGxvd1Byb3RvTWV0aG9kc0J5RGVmYXVsdFxuICAgIH1cbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlc3VsdElzQWxsb3dlZChyZXN1bHQsIHByb3RvQWNjZXNzQ29udHJvbCwgcHJvcGVydHlOYW1lKSB7XG4gIGlmICh0eXBlb2YgcmVzdWx0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIGNoZWNrV2hpdGVMaXN0KHByb3RvQWNjZXNzQ29udHJvbC5tZXRob2RzLCBwcm9wZXJ0eU5hbWUpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBjaGVja1doaXRlTGlzdChwcm90b0FjY2Vzc0NvbnRyb2wucHJvcGVydGllcywgcHJvcGVydHlOYW1lKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjaGVja1doaXRlTGlzdChwcm90b0FjY2Vzc0NvbnRyb2xGb3JUeXBlLCBwcm9wZXJ0eU5hbWUpIHtcbiAgaWYgKHByb3RvQWNjZXNzQ29udHJvbEZvclR5cGUud2hpdGVsaXN0W3Byb3BlcnR5TmFtZV0gIT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBwcm90b0FjY2Vzc0NvbnRyb2xGb3JUeXBlLndoaXRlbGlzdFtwcm9wZXJ0eU5hbWVdID09PSB0cnVlO1xuICB9XG4gIGlmIChwcm90b0FjY2Vzc0NvbnRyb2xGb3JUeXBlLmRlZmF1bHRWYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIHByb3RvQWNjZXNzQ29udHJvbEZvclR5cGUuZGVmYXVsdFZhbHVlO1xuICB9XG4gIGxvZ1VuZXhwZWNlZFByb3BlcnR5QWNjZXNzT25jZShwcm9wZXJ0eU5hbWUpO1xuICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGxvZ1VuZXhwZWNlZFByb3BlcnR5QWNjZXNzT25jZShwcm9wZXJ0eU5hbWUpIHtcbiAgaWYgKGxvZ2dlZFByb3BlcnRpZXNbcHJvcGVydHlOYW1lXSAhPT0gdHJ1ZSkge1xuICAgIGxvZ2dlZFByb3BlcnRpZXNbcHJvcGVydHlOYW1lXSA9IHRydWU7XG4gICAgbG9nZ2VyLmxvZyhcbiAgICAgICdlcnJvcicsXG4gICAgICBgSGFuZGxlYmFyczogQWNjZXNzIGhhcyBiZWVuIGRlbmllZCB0byByZXNvbHZlIHRoZSBwcm9wZXJ0eSBcIiR7cHJvcGVydHlOYW1lfVwiIGJlY2F1c2UgaXQgaXMgbm90IGFuIFwib3duIHByb3BlcnR5XCIgb2YgaXRzIHBhcmVudC5cXG5gICtcbiAgICAgICAgYFlvdSBjYW4gYWRkIGEgcnVudGltZSBvcHRpb24gdG8gZGlzYWJsZSB0aGUgY2hlY2sgb3IgdGhpcyB3YXJuaW5nOlxcbmAgK1xuICAgICAgICBgU2VlIGh0dHBzOi8vaGFuZGxlYmFyc2pzLmNvbS9hcGktcmVmZXJlbmNlL3J1bnRpbWUtb3B0aW9ucy5odG1sI29wdGlvbnMtdG8tY29udHJvbC1wcm90b3R5cGUtYWNjZXNzIGZvciBkZXRhaWxzYFxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlc2V0TG9nZ2VkUHJvcGVydGllcygpIHtcbiAgT2JqZWN0LmtleXMobG9nZ2VkUHJvcGVydGllcykuZm9yRWFjaChwcm9wZXJ0eU5hbWUgPT4ge1xuICAgIGRlbGV0ZSBsb2dnZWRQcm9wZXJ0aWVzW3Byb3BlcnR5TmFtZV07XG4gIH0pO1xufVxuIiwgImltcG9ydCB7IGNyZWF0ZUZyYW1lLCBleHRlbmQsIHRvU3RyaW5nIH0gZnJvbSAnLi91dGlscyc7XG5pbXBvcnQgRXhjZXB0aW9uIGZyb20gJy4vZXhjZXB0aW9uJztcbmltcG9ydCB7IHJlZ2lzdGVyRGVmYXVsdEhlbHBlcnMgfSBmcm9tICcuL2hlbHBlcnMnO1xuaW1wb3J0IHsgcmVnaXN0ZXJEZWZhdWx0RGVjb3JhdG9ycyB9IGZyb20gJy4vZGVjb3JhdG9ycyc7XG5pbXBvcnQgbG9nZ2VyIGZyb20gJy4vbG9nZ2VyJztcbmltcG9ydCB7IHJlc2V0TG9nZ2VkUHJvcGVydGllcyB9IGZyb20gJy4vaW50ZXJuYWwvcHJvdG8tYWNjZXNzJztcblxuZXhwb3J0IGNvbnN0IFZFUlNJT04gPSAnNC43LjcnO1xuZXhwb3J0IGNvbnN0IENPTVBJTEVSX1JFVklTSU9OID0gODtcbmV4cG9ydCBjb25zdCBMQVNUX0NPTVBBVElCTEVfQ09NUElMRVJfUkVWSVNJT04gPSA3O1xuXG5leHBvcnQgY29uc3QgUkVWSVNJT05fQ0hBTkdFUyA9IHtcbiAgMTogJzw9IDEuMC5yYy4yJywgLy8gMS4wLnJjLjIgaXMgYWN0dWFsbHkgcmV2MiBidXQgZG9lc24ndCByZXBvcnQgaXRcbiAgMjogJz09IDEuMC4wLXJjLjMnLFxuICAzOiAnPT0gMS4wLjAtcmMuNCcsXG4gIDQ6ICc9PSAxLngueCcsXG4gIDU6ICc9PSAyLjAuMC1hbHBoYS54JyxcbiAgNjogJz49IDIuMC4wLWJldGEuMScsXG4gIDc6ICc+PSA0LjAuMCA8NC4zLjAnLFxuICA4OiAnPj0gNC4zLjAnXG59O1xuXG5jb25zdCBvYmplY3RUeXBlID0gJ1tvYmplY3QgT2JqZWN0XSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBIYW5kbGViYXJzRW52aXJvbm1lbnQoaGVscGVycywgcGFydGlhbHMsIGRlY29yYXRvcnMpIHtcbiAgdGhpcy5oZWxwZXJzID0gaGVscGVycyB8fCB7fTtcbiAgdGhpcy5wYXJ0aWFscyA9IHBhcnRpYWxzIHx8IHt9O1xuICB0aGlzLmRlY29yYXRvcnMgPSBkZWNvcmF0b3JzIHx8IHt9O1xuXG4gIHJlZ2lzdGVyRGVmYXVsdEhlbHBlcnModGhpcyk7XG4gIHJlZ2lzdGVyRGVmYXVsdERlY29yYXRvcnModGhpcyk7XG59XG5cbkhhbmRsZWJhcnNFbnZpcm9ubWVudC5wcm90b3R5cGUgPSB7XG4gIGNvbnN0cnVjdG9yOiBIYW5kbGViYXJzRW52aXJvbm1lbnQsXG5cbiAgbG9nZ2VyOiBsb2dnZXIsXG4gIGxvZzogbG9nZ2VyLmxvZyxcblxuICByZWdpc3RlckhlbHBlcjogZnVuY3Rpb24obmFtZSwgZm4pIHtcbiAgICBpZiAodG9TdHJpbmcuY2FsbChuYW1lKSA9PT0gb2JqZWN0VHlwZSkge1xuICAgICAgaWYgKGZuKSB7XG4gICAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oJ0FyZyBub3Qgc3VwcG9ydGVkIHdpdGggbXVsdGlwbGUgaGVscGVycycpO1xuICAgICAgfVxuICAgICAgZXh0ZW5kKHRoaXMuaGVscGVycywgbmFtZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaGVscGVyc1tuYW1lXSA9IGZuO1xuICAgIH1cbiAgfSxcbiAgdW5yZWdpc3RlckhlbHBlcjogZnVuY3Rpb24obmFtZSkge1xuICAgIGRlbGV0ZSB0aGlzLmhlbHBlcnNbbmFtZV07XG4gIH0sXG5cbiAgcmVnaXN0ZXJQYXJ0aWFsOiBmdW5jdGlvbihuYW1lLCBwYXJ0aWFsKSB7XG4gICAgaWYgKHRvU3RyaW5nLmNhbGwobmFtZSkgPT09IG9iamVjdFR5cGUpIHtcbiAgICAgIGV4dGVuZCh0aGlzLnBhcnRpYWxzLCBuYW1lKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHR5cGVvZiBwYXJ0aWFsID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKFxuICAgICAgICAgIGBBdHRlbXB0aW5nIHRvIHJlZ2lzdGVyIGEgcGFydGlhbCBjYWxsZWQgXCIke25hbWV9XCIgYXMgdW5kZWZpbmVkYFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgdGhpcy5wYXJ0aWFsc1tuYW1lXSA9IHBhcnRpYWw7XG4gICAgfVxuICB9LFxuICB1bnJlZ2lzdGVyUGFydGlhbDogZnVuY3Rpb24obmFtZSkge1xuICAgIGRlbGV0ZSB0aGlzLnBhcnRpYWxzW25hbWVdO1xuICB9LFxuXG4gIHJlZ2lzdGVyRGVjb3JhdG9yOiBmdW5jdGlvbihuYW1lLCBmbikge1xuICAgIGlmICh0b1N0cmluZy5jYWxsKG5hbWUpID09PSBvYmplY3RUeXBlKSB7XG4gICAgICBpZiAoZm4pIHtcbiAgICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbignQXJnIG5vdCBzdXBwb3J0ZWQgd2l0aCBtdWx0aXBsZSBkZWNvcmF0b3JzJyk7XG4gICAgICB9XG4gICAgICBleHRlbmQodGhpcy5kZWNvcmF0b3JzLCBuYW1lKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5kZWNvcmF0b3JzW25hbWVdID0gZm47XG4gICAgfVxuICB9LFxuICB1bnJlZ2lzdGVyRGVjb3JhdG9yOiBmdW5jdGlvbihuYW1lKSB7XG4gICAgZGVsZXRlIHRoaXMuZGVjb3JhdG9yc1tuYW1lXTtcbiAgfSxcbiAgLyoqXG4gICAqIFJlc2V0IHRoZSBtZW1vcnkgb2YgaWxsZWdhbCBwcm9wZXJ0eSBhY2Nlc3NlcyB0aGF0IGhhdmUgYWxyZWFkeSBiZWVuIGxvZ2dlZC5cbiAgICogQGRlcHJlY2F0ZWQgc2hvdWxkIG9ubHkgYmUgdXNlZCBpbiBoYW5kbGViYXJzIHRlc3QtY2FzZXNcbiAgICovXG4gIHJlc2V0TG9nZ2VkUHJvcGVydHlBY2Nlc3NlcygpIHtcbiAgICByZXNldExvZ2dlZFByb3BlcnRpZXMoKTtcbiAgfVxufTtcblxuZXhwb3J0IGxldCBsb2cgPSBsb2dnZXIubG9nO1xuXG5leHBvcnQgeyBjcmVhdGVGcmFtZSwgbG9nZ2VyIH07XG4iLCAiLy8gQnVpbGQgb3V0IG91ciBiYXNpYyBTYWZlU3RyaW5nIHR5cGVcbmZ1bmN0aW9uIFNhZmVTdHJpbmcoc3RyaW5nKSB7XG4gIHRoaXMuc3RyaW5nID0gc3RyaW5nO1xufVxuXG5TYWZlU3RyaW5nLnByb3RvdHlwZS50b1N0cmluZyA9IFNhZmVTdHJpbmcucHJvdG90eXBlLnRvSFRNTCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gJycgKyB0aGlzLnN0cmluZztcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFNhZmVTdHJpbmc7XG4iLCAiZXhwb3J0IGZ1bmN0aW9uIHdyYXBIZWxwZXIoaGVscGVyLCB0cmFuc2Zvcm1PcHRpb25zRm4pIHtcbiAgaWYgKHR5cGVvZiBoZWxwZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAvLyBUaGlzIHNob3VsZCBub3QgaGFwcGVuLCBidXQgYXBwYXJlbnRseSBpdCBkb2VzIGluIGh0dHBzOi8vZ2l0aHViLmNvbS93eWNhdHMvaGFuZGxlYmFycy5qcy9pc3N1ZXMvMTYzOVxuICAgIC8vIFdlIHRyeSB0byBtYWtlIHRoZSB3cmFwcGVyIGxlYXN0LWludmFzaXZlIGJ5IG5vdCB3cmFwcGluZyBpdCwgaWYgdGhlIGhlbHBlciBpcyBub3QgYSBmdW5jdGlvbi5cbiAgICByZXR1cm4gaGVscGVyO1xuICB9XG4gIGxldCB3cmFwcGVyID0gZnVuY3Rpb24oLyogZHluYW1pYyBhcmd1bWVudHMgKi8pIHtcbiAgICBjb25zdCBvcHRpb25zID0gYXJndW1lbnRzW2FyZ3VtZW50cy5sZW5ndGggLSAxXTtcbiAgICBhcmd1bWVudHNbYXJndW1lbnRzLmxlbmd0aCAtIDFdID0gdHJhbnNmb3JtT3B0aW9uc0ZuKG9wdGlvbnMpO1xuICAgIHJldHVybiBoZWxwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfTtcbiAgcmV0dXJuIHdyYXBwZXI7XG59XG4iLCAiaW1wb3J0ICogYXMgVXRpbHMgZnJvbSAnLi91dGlscyc7XG5pbXBvcnQgRXhjZXB0aW9uIGZyb20gJy4vZXhjZXB0aW9uJztcbmltcG9ydCB7XG4gIENPTVBJTEVSX1JFVklTSU9OLFxuICBjcmVhdGVGcmFtZSxcbiAgTEFTVF9DT01QQVRJQkxFX0NPTVBJTEVSX1JFVklTSU9OLFxuICBSRVZJU0lPTl9DSEFOR0VTXG59IGZyb20gJy4vYmFzZSc7XG5pbXBvcnQgeyBtb3ZlSGVscGVyVG9Ib29rcyB9IGZyb20gJy4vaGVscGVycyc7XG5pbXBvcnQgeyB3cmFwSGVscGVyIH0gZnJvbSAnLi9pbnRlcm5hbC93cmFwSGVscGVyJztcbmltcG9ydCB7XG4gIGNyZWF0ZVByb3RvQWNjZXNzQ29udHJvbCxcbiAgcmVzdWx0SXNBbGxvd2VkXG59IGZyb20gJy4vaW50ZXJuYWwvcHJvdG8tYWNjZXNzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrUmV2aXNpb24oY29tcGlsZXJJbmZvKSB7XG4gIGNvbnN0IGNvbXBpbGVyUmV2aXNpb24gPSAoY29tcGlsZXJJbmZvICYmIGNvbXBpbGVySW5mb1swXSkgfHwgMSxcbiAgICBjdXJyZW50UmV2aXNpb24gPSBDT01QSUxFUl9SRVZJU0lPTjtcblxuICBpZiAoXG4gICAgY29tcGlsZXJSZXZpc2lvbiA+PSBMQVNUX0NPTVBBVElCTEVfQ09NUElMRVJfUkVWSVNJT04gJiZcbiAgICBjb21waWxlclJldmlzaW9uIDw9IENPTVBJTEVSX1JFVklTSU9OXG4gICkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChjb21waWxlclJldmlzaW9uIDwgTEFTVF9DT01QQVRJQkxFX0NPTVBJTEVSX1JFVklTSU9OKSB7XG4gICAgY29uc3QgcnVudGltZVZlcnNpb25zID0gUkVWSVNJT05fQ0hBTkdFU1tjdXJyZW50UmV2aXNpb25dLFxuICAgICAgY29tcGlsZXJWZXJzaW9ucyA9IFJFVklTSU9OX0NIQU5HRVNbY29tcGlsZXJSZXZpc2lvbl07XG4gICAgdGhyb3cgbmV3IEV4Y2VwdGlvbihcbiAgICAgICdUZW1wbGF0ZSB3YXMgcHJlY29tcGlsZWQgd2l0aCBhbiBvbGRlciB2ZXJzaW9uIG9mIEhhbmRsZWJhcnMgdGhhbiB0aGUgY3VycmVudCBydW50aW1lLiAnICtcbiAgICAgICAgJ1BsZWFzZSB1cGRhdGUgeW91ciBwcmVjb21waWxlciB0byBhIG5ld2VyIHZlcnNpb24gKCcgK1xuICAgICAgICBydW50aW1lVmVyc2lvbnMgK1xuICAgICAgICAnKSBvciBkb3duZ3JhZGUgeW91ciBydW50aW1lIHRvIGFuIG9sZGVyIHZlcnNpb24gKCcgK1xuICAgICAgICBjb21waWxlclZlcnNpb25zICtcbiAgICAgICAgJykuJ1xuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgLy8gVXNlIHRoZSBlbWJlZGRlZCB2ZXJzaW9uIGluZm8gc2luY2UgdGhlIHJ1bnRpbWUgZG9lc24ndCBrbm93IGFib3V0IHRoaXMgcmV2aXNpb24geWV0XG4gICAgdGhyb3cgbmV3IEV4Y2VwdGlvbihcbiAgICAgICdUZW1wbGF0ZSB3YXMgcHJlY29tcGlsZWQgd2l0aCBhIG5ld2VyIHZlcnNpb24gb2YgSGFuZGxlYmFycyB0aGFuIHRoZSBjdXJyZW50IHJ1bnRpbWUuICcgK1xuICAgICAgICAnUGxlYXNlIHVwZGF0ZSB5b3VyIHJ1bnRpbWUgdG8gYSBuZXdlciB2ZXJzaW9uICgnICtcbiAgICAgICAgY29tcGlsZXJJbmZvWzFdICtcbiAgICAgICAgJykuJ1xuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRlbXBsYXRlKHRlbXBsYXRlU3BlYywgZW52KSB7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIGlmICghZW52KSB7XG4gICAgdGhyb3cgbmV3IEV4Y2VwdGlvbignTm8gZW52aXJvbm1lbnQgcGFzc2VkIHRvIHRlbXBsYXRlJyk7XG4gIH1cbiAgaWYgKCF0ZW1wbGF0ZVNwZWMgfHwgIXRlbXBsYXRlU3BlYy5tYWluKSB7XG4gICAgdGhyb3cgbmV3IEV4Y2VwdGlvbignVW5rbm93biB0ZW1wbGF0ZSBvYmplY3Q6ICcgKyB0eXBlb2YgdGVtcGxhdGVTcGVjKTtcbiAgfVxuXG4gIHRlbXBsYXRlU3BlYy5tYWluLmRlY29yYXRvciA9IHRlbXBsYXRlU3BlYy5tYWluX2Q7XG5cbiAgLy8gTm90ZTogVXNpbmcgZW52LlZNIHJlZmVyZW5jZXMgcmF0aGVyIHRoYW4gbG9jYWwgdmFyIHJlZmVyZW5jZXMgdGhyb3VnaG91dCB0aGlzIHNlY3Rpb24gdG8gYWxsb3dcbiAgLy8gZm9yIGV4dGVybmFsIHVzZXJzIHRvIG92ZXJyaWRlIHRoZXNlIGFzIHBzZXVkby1zdXBwb3J0ZWQgQVBJcy5cbiAgZW52LlZNLmNoZWNrUmV2aXNpb24odGVtcGxhdGVTcGVjLmNvbXBpbGVyKTtcblxuICAvLyBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSBmb3IgcHJlY29tcGlsZWQgdGVtcGxhdGVzIHdpdGggY29tcGlsZXItdmVyc2lvbiA3ICg8NC4zLjApXG4gIGNvbnN0IHRlbXBsYXRlV2FzUHJlY29tcGlsZWRXaXRoQ29tcGlsZXJWNyA9XG4gICAgdGVtcGxhdGVTcGVjLmNvbXBpbGVyICYmIHRlbXBsYXRlU3BlYy5jb21waWxlclswXSA9PT0gNztcblxuICBmdW5jdGlvbiBpbnZva2VQYXJ0aWFsV3JhcHBlcihwYXJ0aWFsLCBjb250ZXh0LCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMuaGFzaCkge1xuICAgICAgY29udGV4dCA9IFV0aWxzLmV4dGVuZCh7fSwgY29udGV4dCwgb3B0aW9ucy5oYXNoKTtcbiAgICAgIGlmIChvcHRpb25zLmlkcykge1xuICAgICAgICBvcHRpb25zLmlkc1swXSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHBhcnRpYWwgPSBlbnYuVk0ucmVzb2x2ZVBhcnRpYWwuY2FsbCh0aGlzLCBwYXJ0aWFsLCBjb250ZXh0LCBvcHRpb25zKTtcblxuICAgIGxldCBleHRlbmRlZE9wdGlvbnMgPSBVdGlscy5leHRlbmQoe30sIG9wdGlvbnMsIHtcbiAgICAgIGhvb2tzOiB0aGlzLmhvb2tzLFxuICAgICAgcHJvdG9BY2Nlc3NDb250cm9sOiB0aGlzLnByb3RvQWNjZXNzQ29udHJvbFxuICAgIH0pO1xuXG4gICAgbGV0IHJlc3VsdCA9IGVudi5WTS5pbnZva2VQYXJ0aWFsLmNhbGwoXG4gICAgICB0aGlzLFxuICAgICAgcGFydGlhbCxcbiAgICAgIGNvbnRleHQsXG4gICAgICBleHRlbmRlZE9wdGlvbnNcbiAgICApO1xuXG4gICAgaWYgKHJlc3VsdCA9PSBudWxsICYmIGVudi5jb21waWxlKSB7XG4gICAgICBvcHRpb25zLnBhcnRpYWxzW29wdGlvbnMubmFtZV0gPSBlbnYuY29tcGlsZShcbiAgICAgICAgcGFydGlhbCxcbiAgICAgICAgdGVtcGxhdGVTcGVjLmNvbXBpbGVyT3B0aW9ucyxcbiAgICAgICAgZW52XG4gICAgICApO1xuICAgICAgcmVzdWx0ID0gb3B0aW9ucy5wYXJ0aWFsc1tvcHRpb25zLm5hbWVdKGNvbnRleHQsIGV4dGVuZGVkT3B0aW9ucyk7XG4gICAgfVxuICAgIGlmIChyZXN1bHQgIT0gbnVsbCkge1xuICAgICAgaWYgKG9wdGlvbnMuaW5kZW50KSB7XG4gICAgICAgIGxldCBsaW5lcyA9IHJlc3VsdC5zcGxpdCgnXFxuJyk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gbGluZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgaWYgKCFsaW5lc1tpXSAmJiBpICsgMSA9PT0gbCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbGluZXNbaV0gPSBvcHRpb25zLmluZGVudCArIGxpbmVzW2ldO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdCA9IGxpbmVzLmpvaW4oJ1xcbicpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbihcbiAgICAgICAgJ1RoZSBwYXJ0aWFsICcgK1xuICAgICAgICAgIG9wdGlvbnMubmFtZSArXG4gICAgICAgICAgJyBjb3VsZCBub3QgYmUgY29tcGlsZWQgd2hlbiBydW5uaW5nIGluIHJ1bnRpbWUtb25seSBtb2RlJ1xuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICAvLyBKdXN0IGFkZCB3YXRlclxuICBsZXQgY29udGFpbmVyID0ge1xuICAgIHN0cmljdDogZnVuY3Rpb24ob2JqLCBuYW1lLCBsb2MpIHtcbiAgICAgIGlmICghb2JqIHx8ICEobmFtZSBpbiBvYmopKSB7XG4gICAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oJ1wiJyArIG5hbWUgKyAnXCIgbm90IGRlZmluZWQgaW4gJyArIG9iaiwge1xuICAgICAgICAgIGxvYzogbG9jXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNvbnRhaW5lci5sb29rdXBQcm9wZXJ0eShvYmosIG5hbWUpO1xuICAgIH0sXG4gICAgbG9va3VwUHJvcGVydHk6IGZ1bmN0aW9uKHBhcmVudCwgcHJvcGVydHlOYW1lKSB7XG4gICAgICBsZXQgcmVzdWx0ID0gcGFyZW50W3Byb3BlcnR5TmFtZV07XG4gICAgICBpZiAocmVzdWx0ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocGFyZW50LCBwcm9wZXJ0eU5hbWUpKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG5cbiAgICAgIGlmIChyZXN1bHRJc0FsbG93ZWQocmVzdWx0LCBjb250YWluZXIucHJvdG9BY2Nlc3NDb250cm9sLCBwcm9wZXJ0eU5hbWUpKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0sXG4gICAgbG9va3VwOiBmdW5jdGlvbihkZXB0aHMsIG5hbWUpIHtcbiAgICAgIGNvbnN0IGxlbiA9IGRlcHRocy5sZW5ndGg7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGxldCByZXN1bHQgPSBkZXB0aHNbaV0gJiYgY29udGFpbmVyLmxvb2t1cFByb3BlcnR5KGRlcHRoc1tpXSwgbmFtZSk7XG4gICAgICAgIGlmIChyZXN1bHQgIT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiBkZXB0aHNbaV1bbmFtZV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIGxhbWJkYTogZnVuY3Rpb24oY3VycmVudCwgY29udGV4dCkge1xuICAgICAgcmV0dXJuIHR5cGVvZiBjdXJyZW50ID09PSAnZnVuY3Rpb24nID8gY3VycmVudC5jYWxsKGNvbnRleHQpIDogY3VycmVudDtcbiAgICB9LFxuXG4gICAgZXNjYXBlRXhwcmVzc2lvbjogVXRpbHMuZXNjYXBlRXhwcmVzc2lvbixcbiAgICBpbnZva2VQYXJ0aWFsOiBpbnZva2VQYXJ0aWFsV3JhcHBlcixcblxuICAgIGZuOiBmdW5jdGlvbihpKSB7XG4gICAgICBsZXQgcmV0ID0gdGVtcGxhdGVTcGVjW2ldO1xuICAgICAgcmV0LmRlY29yYXRvciA9IHRlbXBsYXRlU3BlY1tpICsgJ19kJ107XG4gICAgICByZXR1cm4gcmV0O1xuICAgIH0sXG5cbiAgICBwcm9ncmFtczogW10sXG4gICAgcHJvZ3JhbTogZnVuY3Rpb24oaSwgZGF0YSwgZGVjbGFyZWRCbG9ja1BhcmFtcywgYmxvY2tQYXJhbXMsIGRlcHRocykge1xuICAgICAgbGV0IHByb2dyYW1XcmFwcGVyID0gdGhpcy5wcm9ncmFtc1tpXSxcbiAgICAgICAgZm4gPSB0aGlzLmZuKGkpO1xuICAgICAgaWYgKGRhdGEgfHwgZGVwdGhzIHx8IGJsb2NrUGFyYW1zIHx8IGRlY2xhcmVkQmxvY2tQYXJhbXMpIHtcbiAgICAgICAgcHJvZ3JhbVdyYXBwZXIgPSB3cmFwUHJvZ3JhbShcbiAgICAgICAgICB0aGlzLFxuICAgICAgICAgIGksXG4gICAgICAgICAgZm4sXG4gICAgICAgICAgZGF0YSxcbiAgICAgICAgICBkZWNsYXJlZEJsb2NrUGFyYW1zLFxuICAgICAgICAgIGJsb2NrUGFyYW1zLFxuICAgICAgICAgIGRlcHRoc1xuICAgICAgICApO1xuICAgICAgfSBlbHNlIGlmICghcHJvZ3JhbVdyYXBwZXIpIHtcbiAgICAgICAgcHJvZ3JhbVdyYXBwZXIgPSB0aGlzLnByb2dyYW1zW2ldID0gd3JhcFByb2dyYW0odGhpcywgaSwgZm4pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHByb2dyYW1XcmFwcGVyO1xuICAgIH0sXG5cbiAgICBkYXRhOiBmdW5jdGlvbih2YWx1ZSwgZGVwdGgpIHtcbiAgICAgIHdoaWxlICh2YWx1ZSAmJiBkZXB0aC0tKSB7XG4gICAgICAgIHZhbHVlID0gdmFsdWUuX3BhcmVudDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9LFxuICAgIG1lcmdlSWZOZWVkZWQ6IGZ1bmN0aW9uKHBhcmFtLCBjb21tb24pIHtcbiAgICAgIGxldCBvYmogPSBwYXJhbSB8fCBjb21tb247XG5cbiAgICAgIGlmIChwYXJhbSAmJiBjb21tb24gJiYgcGFyYW0gIT09IGNvbW1vbikge1xuICAgICAgICBvYmogPSBVdGlscy5leHRlbmQoe30sIGNvbW1vbiwgcGFyYW0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gb2JqO1xuICAgIH0sXG4gICAgLy8gQW4gZW1wdHkgb2JqZWN0IHRvIHVzZSBhcyByZXBsYWNlbWVudCBmb3IgbnVsbC1jb250ZXh0c1xuICAgIG51bGxDb250ZXh0OiBPYmplY3Quc2VhbCh7fSksXG5cbiAgICBub29wOiBlbnYuVk0ubm9vcCxcbiAgICBjb21waWxlckluZm86IHRlbXBsYXRlU3BlYy5jb21waWxlclxuICB9O1xuXG4gIGZ1bmN0aW9uIHJldChjb250ZXh0LCBvcHRpb25zID0ge30pIHtcbiAgICBsZXQgZGF0YSA9IG9wdGlvbnMuZGF0YTtcblxuICAgIHJldC5fc2V0dXAob3B0aW9ucyk7XG4gICAgaWYgKCFvcHRpb25zLnBhcnRpYWwgJiYgdGVtcGxhdGVTcGVjLnVzZURhdGEpIHtcbiAgICAgIGRhdGEgPSBpbml0RGF0YShjb250ZXh0LCBkYXRhKTtcbiAgICB9XG4gICAgbGV0IGRlcHRocyxcbiAgICAgIGJsb2NrUGFyYW1zID0gdGVtcGxhdGVTcGVjLnVzZUJsb2NrUGFyYW1zID8gW10gOiB1bmRlZmluZWQ7XG4gICAgaWYgKHRlbXBsYXRlU3BlYy51c2VEZXB0aHMpIHtcbiAgICAgIGlmIChvcHRpb25zLmRlcHRocykge1xuICAgICAgICBkZXB0aHMgPVxuICAgICAgICAgIGNvbnRleHQgIT0gb3B0aW9ucy5kZXB0aHNbMF1cbiAgICAgICAgICAgID8gW2NvbnRleHRdLmNvbmNhdChvcHRpb25zLmRlcHRocylcbiAgICAgICAgICAgIDogb3B0aW9ucy5kZXB0aHM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkZXB0aHMgPSBbY29udGV4dF07XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWFpbihjb250ZXh0IC8qLCBvcHRpb25zKi8pIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgICcnICtcbiAgICAgICAgdGVtcGxhdGVTcGVjLm1haW4oXG4gICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgIGNvbnRleHQsXG4gICAgICAgICAgY29udGFpbmVyLmhlbHBlcnMsXG4gICAgICAgICAgY29udGFpbmVyLnBhcnRpYWxzLFxuICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgYmxvY2tQYXJhbXMsXG4gICAgICAgICAgZGVwdGhzXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuXG4gICAgbWFpbiA9IGV4ZWN1dGVEZWNvcmF0b3JzKFxuICAgICAgdGVtcGxhdGVTcGVjLm1haW4sXG4gICAgICBtYWluLFxuICAgICAgY29udGFpbmVyLFxuICAgICAgb3B0aW9ucy5kZXB0aHMgfHwgW10sXG4gICAgICBkYXRhLFxuICAgICAgYmxvY2tQYXJhbXNcbiAgICApO1xuICAgIHJldHVybiBtYWluKGNvbnRleHQsIG9wdGlvbnMpO1xuICB9XG5cbiAgcmV0LmlzVG9wID0gdHJ1ZTtcblxuICByZXQuX3NldHVwID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIGlmICghb3B0aW9ucy5wYXJ0aWFsKSB7XG4gICAgICBsZXQgbWVyZ2VkSGVscGVycyA9IFV0aWxzLmV4dGVuZCh7fSwgZW52LmhlbHBlcnMsIG9wdGlvbnMuaGVscGVycyk7XG4gICAgICB3cmFwSGVscGVyc1RvUGFzc0xvb2t1cFByb3BlcnR5KG1lcmdlZEhlbHBlcnMsIGNvbnRhaW5lcik7XG4gICAgICBjb250YWluZXIuaGVscGVycyA9IG1lcmdlZEhlbHBlcnM7XG5cbiAgICAgIGlmICh0ZW1wbGF0ZVNwZWMudXNlUGFydGlhbCkge1xuICAgICAgICAvLyBVc2UgbWVyZ2VJZk5lZWRlZCBoZXJlIHRvIHByZXZlbnQgY29tcGlsaW5nIGdsb2JhbCBwYXJ0aWFscyBtdWx0aXBsZSB0aW1lc1xuICAgICAgICBjb250YWluZXIucGFydGlhbHMgPSBjb250YWluZXIubWVyZ2VJZk5lZWRlZChcbiAgICAgICAgICBvcHRpb25zLnBhcnRpYWxzLFxuICAgICAgICAgIGVudi5wYXJ0aWFsc1xuICAgICAgICApO1xuICAgICAgfVxuICAgICAgaWYgKHRlbXBsYXRlU3BlYy51c2VQYXJ0aWFsIHx8IHRlbXBsYXRlU3BlYy51c2VEZWNvcmF0b3JzKSB7XG4gICAgICAgIGNvbnRhaW5lci5kZWNvcmF0b3JzID0gVXRpbHMuZXh0ZW5kKFxuICAgICAgICAgIHt9LFxuICAgICAgICAgIGVudi5kZWNvcmF0b3JzLFxuICAgICAgICAgIG9wdGlvbnMuZGVjb3JhdG9yc1xuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICBjb250YWluZXIuaG9va3MgPSB7fTtcbiAgICAgIGNvbnRhaW5lci5wcm90b0FjY2Vzc0NvbnRyb2wgPSBjcmVhdGVQcm90b0FjY2Vzc0NvbnRyb2wob3B0aW9ucyk7XG5cbiAgICAgIGxldCBrZWVwSGVscGVySW5IZWxwZXJzID1cbiAgICAgICAgb3B0aW9ucy5hbGxvd0NhbGxzVG9IZWxwZXJNaXNzaW5nIHx8XG4gICAgICAgIHRlbXBsYXRlV2FzUHJlY29tcGlsZWRXaXRoQ29tcGlsZXJWNztcbiAgICAgIG1vdmVIZWxwZXJUb0hvb2tzKGNvbnRhaW5lciwgJ2hlbHBlck1pc3NpbmcnLCBrZWVwSGVscGVySW5IZWxwZXJzKTtcbiAgICAgIG1vdmVIZWxwZXJUb0hvb2tzKGNvbnRhaW5lciwgJ2Jsb2NrSGVscGVyTWlzc2luZycsIGtlZXBIZWxwZXJJbkhlbHBlcnMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb250YWluZXIucHJvdG9BY2Nlc3NDb250cm9sID0gb3B0aW9ucy5wcm90b0FjY2Vzc0NvbnRyb2w7IC8vIGludGVybmFsIG9wdGlvblxuICAgICAgY29udGFpbmVyLmhlbHBlcnMgPSBvcHRpb25zLmhlbHBlcnM7XG4gICAgICBjb250YWluZXIucGFydGlhbHMgPSBvcHRpb25zLnBhcnRpYWxzO1xuICAgICAgY29udGFpbmVyLmRlY29yYXRvcnMgPSBvcHRpb25zLmRlY29yYXRvcnM7XG4gICAgICBjb250YWluZXIuaG9va3MgPSBvcHRpb25zLmhvb2tzO1xuICAgIH1cbiAgfTtcblxuICByZXQuX2NoaWxkID0gZnVuY3Rpb24oaSwgZGF0YSwgYmxvY2tQYXJhbXMsIGRlcHRocykge1xuICAgIGlmICh0ZW1wbGF0ZVNwZWMudXNlQmxvY2tQYXJhbXMgJiYgIWJsb2NrUGFyYW1zKSB7XG4gICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKCdtdXN0IHBhc3MgYmxvY2sgcGFyYW1zJyk7XG4gICAgfVxuICAgIGlmICh0ZW1wbGF0ZVNwZWMudXNlRGVwdGhzICYmICFkZXB0aHMpIHtcbiAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oJ211c3QgcGFzcyBwYXJlbnQgZGVwdGhzJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHdyYXBQcm9ncmFtKFxuICAgICAgY29udGFpbmVyLFxuICAgICAgaSxcbiAgICAgIHRlbXBsYXRlU3BlY1tpXSxcbiAgICAgIGRhdGEsXG4gICAgICAwLFxuICAgICAgYmxvY2tQYXJhbXMsXG4gICAgICBkZXB0aHNcbiAgICApO1xuICB9O1xuICByZXR1cm4gcmV0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gd3JhcFByb2dyYW0oXG4gIGNvbnRhaW5lcixcbiAgaSxcbiAgZm4sXG4gIGRhdGEsXG4gIGRlY2xhcmVkQmxvY2tQYXJhbXMsXG4gIGJsb2NrUGFyYW1zLFxuICBkZXB0aHNcbikge1xuICBmdW5jdGlvbiBwcm9nKGNvbnRleHQsIG9wdGlvbnMgPSB7fSkge1xuICAgIGxldCBjdXJyZW50RGVwdGhzID0gZGVwdGhzO1xuICAgIGlmIChcbiAgICAgIGRlcHRocyAmJlxuICAgICAgY29udGV4dCAhPSBkZXB0aHNbMF0gJiZcbiAgICAgICEoY29udGV4dCA9PT0gY29udGFpbmVyLm51bGxDb250ZXh0ICYmIGRlcHRoc1swXSA9PT0gbnVsbClcbiAgICApIHtcbiAgICAgIGN1cnJlbnREZXB0aHMgPSBbY29udGV4dF0uY29uY2F0KGRlcHRocyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZuKFxuICAgICAgY29udGFpbmVyLFxuICAgICAgY29udGV4dCxcbiAgICAgIGNvbnRhaW5lci5oZWxwZXJzLFxuICAgICAgY29udGFpbmVyLnBhcnRpYWxzLFxuICAgICAgb3B0aW9ucy5kYXRhIHx8IGRhdGEsXG4gICAgICBibG9ja1BhcmFtcyAmJiBbb3B0aW9ucy5ibG9ja1BhcmFtc10uY29uY2F0KGJsb2NrUGFyYW1zKSxcbiAgICAgIGN1cnJlbnREZXB0aHNcbiAgICApO1xuICB9XG5cbiAgcHJvZyA9IGV4ZWN1dGVEZWNvcmF0b3JzKGZuLCBwcm9nLCBjb250YWluZXIsIGRlcHRocywgZGF0YSwgYmxvY2tQYXJhbXMpO1xuXG4gIHByb2cucHJvZ3JhbSA9IGk7XG4gIHByb2cuZGVwdGggPSBkZXB0aHMgPyBkZXB0aHMubGVuZ3RoIDogMDtcbiAgcHJvZy5ibG9ja1BhcmFtcyA9IGRlY2xhcmVkQmxvY2tQYXJhbXMgfHwgMDtcbiAgcmV0dXJuIHByb2c7XG59XG5cbi8qKlxuICogVGhpcyBpcyBjdXJyZW50bHkgcGFydCBvZiB0aGUgb2ZmaWNpYWwgQVBJLCB0aGVyZWZvcmUgaW1wbGVtZW50YXRpb24gZGV0YWlscyBzaG91bGQgbm90IGJlIGNoYW5nZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlUGFydGlhbChwYXJ0aWFsLCBjb250ZXh0LCBvcHRpb25zKSB7XG4gIGlmICghcGFydGlhbCkge1xuICAgIGlmIChvcHRpb25zLm5hbWUgPT09ICdAcGFydGlhbC1ibG9jaycpIHtcbiAgICAgIHBhcnRpYWwgPSBvcHRpb25zLmRhdGFbJ3BhcnRpYWwtYmxvY2snXTtcbiAgICB9IGVsc2Uge1xuICAgICAgcGFydGlhbCA9IG9wdGlvbnMucGFydGlhbHNbb3B0aW9ucy5uYW1lXTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoIXBhcnRpYWwuY2FsbCAmJiAhb3B0aW9ucy5uYW1lKSB7XG4gICAgLy8gVGhpcyBpcyBhIGR5bmFtaWMgcGFydGlhbCB0aGF0IHJldHVybmVkIGEgc3RyaW5nXG4gICAgb3B0aW9ucy5uYW1lID0gcGFydGlhbDtcbiAgICBwYXJ0aWFsID0gb3B0aW9ucy5wYXJ0aWFsc1twYXJ0aWFsXTtcbiAgfVxuICByZXR1cm4gcGFydGlhbDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGludm9rZVBhcnRpYWwocGFydGlhbCwgY29udGV4dCwgb3B0aW9ucykge1xuICAvLyBVc2UgdGhlIGN1cnJlbnQgY2xvc3VyZSBjb250ZXh0IHRvIHNhdmUgdGhlIHBhcnRpYWwtYmxvY2sgaWYgdGhpcyBwYXJ0aWFsXG4gIGNvbnN0IGN1cnJlbnRQYXJ0aWFsQmxvY2sgPSBvcHRpb25zLmRhdGEgJiYgb3B0aW9ucy5kYXRhWydwYXJ0aWFsLWJsb2NrJ107XG4gIG9wdGlvbnMucGFydGlhbCA9IHRydWU7XG4gIGlmIChvcHRpb25zLmlkcykge1xuICAgIG9wdGlvbnMuZGF0YS5jb250ZXh0UGF0aCA9IG9wdGlvbnMuaWRzWzBdIHx8IG9wdGlvbnMuZGF0YS5jb250ZXh0UGF0aDtcbiAgfVxuXG4gIGxldCBwYXJ0aWFsQmxvY2s7XG4gIGlmIChvcHRpb25zLmZuICYmIG9wdGlvbnMuZm4gIT09IG5vb3ApIHtcbiAgICBvcHRpb25zLmRhdGEgPSBjcmVhdGVGcmFtZShvcHRpb25zLmRhdGEpO1xuICAgIC8vIFdyYXBwZXIgZnVuY3Rpb24gdG8gZ2V0IGFjY2VzcyB0byBjdXJyZW50UGFydGlhbEJsb2NrIGZyb20gdGhlIGNsb3N1cmVcbiAgICBsZXQgZm4gPSBvcHRpb25zLmZuO1xuICAgIHBhcnRpYWxCbG9jayA9IG9wdGlvbnMuZGF0YVsncGFydGlhbC1ibG9jayddID0gZnVuY3Rpb24gcGFydGlhbEJsb2NrV3JhcHBlcihcbiAgICAgIGNvbnRleHQsXG4gICAgICBvcHRpb25zID0ge31cbiAgICApIHtcbiAgICAgIC8vIFJlc3RvcmUgdGhlIHBhcnRpYWwtYmxvY2sgZnJvbSB0aGUgY2xvc3VyZSBmb3IgdGhlIGV4ZWN1dGlvbiBvZiB0aGUgYmxvY2tcbiAgICAgIC8vIGkuZS4gdGhlIHBhcnQgaW5zaWRlIHRoZSBibG9jayBvZiB0aGUgcGFydGlhbCBjYWxsLlxuICAgICAgb3B0aW9ucy5kYXRhID0gY3JlYXRlRnJhbWUob3B0aW9ucy5kYXRhKTtcbiAgICAgIG9wdGlvbnMuZGF0YVsncGFydGlhbC1ibG9jayddID0gY3VycmVudFBhcnRpYWxCbG9jaztcbiAgICAgIHJldHVybiBmbihjb250ZXh0LCBvcHRpb25zKTtcbiAgICB9O1xuICAgIGlmIChmbi5wYXJ0aWFscykge1xuICAgICAgb3B0aW9ucy5wYXJ0aWFscyA9IFV0aWxzLmV4dGVuZCh7fSwgb3B0aW9ucy5wYXJ0aWFscywgZm4ucGFydGlhbHMpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChwYXJ0aWFsID09PSB1bmRlZmluZWQgJiYgcGFydGlhbEJsb2NrKSB7XG4gICAgcGFydGlhbCA9IHBhcnRpYWxCbG9jaztcbiAgfVxuXG4gIGlmIChwYXJ0aWFsID09PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKCdUaGUgcGFydGlhbCAnICsgb3B0aW9ucy5uYW1lICsgJyBjb3VsZCBub3QgYmUgZm91bmQnKTtcbiAgfSBlbHNlIGlmIChwYXJ0aWFsIGluc3RhbmNlb2YgRnVuY3Rpb24pIHtcbiAgICByZXR1cm4gcGFydGlhbChjb250ZXh0LCBvcHRpb25zKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbm9vcCgpIHtcbiAgcmV0dXJuICcnO1xufVxuXG5mdW5jdGlvbiBpbml0RGF0YShjb250ZXh0LCBkYXRhKSB7XG4gIGlmICghZGF0YSB8fCAhKCdyb290JyBpbiBkYXRhKSkge1xuICAgIGRhdGEgPSBkYXRhID8gY3JlYXRlRnJhbWUoZGF0YSkgOiB7fTtcbiAgICBkYXRhLnJvb3QgPSBjb250ZXh0O1xuICB9XG4gIHJldHVybiBkYXRhO1xufVxuXG5mdW5jdGlvbiBleGVjdXRlRGVjb3JhdG9ycyhmbiwgcHJvZywgY29udGFpbmVyLCBkZXB0aHMsIGRhdGEsIGJsb2NrUGFyYW1zKSB7XG4gIGlmIChmbi5kZWNvcmF0b3IpIHtcbiAgICBsZXQgcHJvcHMgPSB7fTtcbiAgICBwcm9nID0gZm4uZGVjb3JhdG9yKFxuICAgICAgcHJvZyxcbiAgICAgIHByb3BzLFxuICAgICAgY29udGFpbmVyLFxuICAgICAgZGVwdGhzICYmIGRlcHRoc1swXSxcbiAgICAgIGRhdGEsXG4gICAgICBibG9ja1BhcmFtcyxcbiAgICAgIGRlcHRoc1xuICAgICk7XG4gICAgVXRpbHMuZXh0ZW5kKHByb2csIHByb3BzKTtcbiAgfVxuICByZXR1cm4gcHJvZztcbn1cblxuZnVuY3Rpb24gd3JhcEhlbHBlcnNUb1Bhc3NMb29rdXBQcm9wZXJ0eShtZXJnZWRIZWxwZXJzLCBjb250YWluZXIpIHtcbiAgT2JqZWN0LmtleXMobWVyZ2VkSGVscGVycykuZm9yRWFjaChoZWxwZXJOYW1lID0+IHtcbiAgICBsZXQgaGVscGVyID0gbWVyZ2VkSGVscGVyc1toZWxwZXJOYW1lXTtcbiAgICBtZXJnZWRIZWxwZXJzW2hlbHBlck5hbWVdID0gcGFzc0xvb2t1cFByb3BlcnR5T3B0aW9uKGhlbHBlciwgY29udGFpbmVyKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHBhc3NMb29rdXBQcm9wZXJ0eU9wdGlvbihoZWxwZXIsIGNvbnRhaW5lcikge1xuICBjb25zdCBsb29rdXBQcm9wZXJ0eSA9IGNvbnRhaW5lci5sb29rdXBQcm9wZXJ0eTtcbiAgcmV0dXJuIHdyYXBIZWxwZXIoaGVscGVyLCBvcHRpb25zID0+IHtcbiAgICByZXR1cm4gVXRpbHMuZXh0ZW5kKHsgbG9va3VwUHJvcGVydHkgfSwgb3B0aW9ucyk7XG4gIH0pO1xufVxuIiwgImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKEhhbmRsZWJhcnMpIHtcbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgbGV0IHJvb3QgPSB0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbCA6IHdpbmRvdyxcbiAgICAkSGFuZGxlYmFycyA9IHJvb3QuSGFuZGxlYmFycztcbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgSGFuZGxlYmFycy5ub0NvbmZsaWN0ID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHJvb3QuSGFuZGxlYmFycyA9PT0gSGFuZGxlYmFycykge1xuICAgICAgcm9vdC5IYW5kbGViYXJzID0gJEhhbmRsZWJhcnM7XG4gICAgfVxuICAgIHJldHVybiBIYW5kbGViYXJzO1xuICB9O1xufVxuIiwgImltcG9ydCAqIGFzIGJhc2UgZnJvbSAnLi9oYW5kbGViYXJzL2Jhc2UnO1xuXG4vLyBFYWNoIG9mIHRoZXNlIGF1Z21lbnQgdGhlIEhhbmRsZWJhcnMgb2JqZWN0LiBObyBuZWVkIHRvIHNldHVwIGhlcmUuXG4vLyAoVGhpcyBpcyBkb25lIHRvIGVhc2lseSBzaGFyZSBjb2RlIGJldHdlZW4gY29tbW9uanMgYW5kIGJyb3dzZSBlbnZzKVxuaW1wb3J0IFNhZmVTdHJpbmcgZnJvbSAnLi9oYW5kbGViYXJzL3NhZmUtc3RyaW5nJztcbmltcG9ydCBFeGNlcHRpb24gZnJvbSAnLi9oYW5kbGViYXJzL2V4Y2VwdGlvbic7XG5pbXBvcnQgKiBhcyBVdGlscyBmcm9tICcuL2hhbmRsZWJhcnMvdXRpbHMnO1xuaW1wb3J0ICogYXMgcnVudGltZSBmcm9tICcuL2hhbmRsZWJhcnMvcnVudGltZSc7XG5cbmltcG9ydCBub0NvbmZsaWN0IGZyb20gJy4vaGFuZGxlYmFycy9uby1jb25mbGljdCc7XG5cbi8vIEZvciBjb21wYXRpYmlsaXR5IGFuZCB1c2FnZSBvdXRzaWRlIG9mIG1vZHVsZSBzeXN0ZW1zLCBtYWtlIHRoZSBIYW5kbGViYXJzIG9iamVjdCBhIG5hbWVzcGFjZVxuZnVuY3Rpb24gY3JlYXRlKCkge1xuICBsZXQgaGIgPSBuZXcgYmFzZS5IYW5kbGViYXJzRW52aXJvbm1lbnQoKTtcblxuICBVdGlscy5leHRlbmQoaGIsIGJhc2UpO1xuICBoYi5TYWZlU3RyaW5nID0gU2FmZVN0cmluZztcbiAgaGIuRXhjZXB0aW9uID0gRXhjZXB0aW9uO1xuICBoYi5VdGlscyA9IFV0aWxzO1xuICBoYi5lc2NhcGVFeHByZXNzaW9uID0gVXRpbHMuZXNjYXBlRXhwcmVzc2lvbjtcblxuICBoYi5WTSA9IHJ1bnRpbWU7XG4gIGhiLnRlbXBsYXRlID0gZnVuY3Rpb24oc3BlYykge1xuICAgIHJldHVybiBydW50aW1lLnRlbXBsYXRlKHNwZWMsIGhiKTtcbiAgfTtcblxuICByZXR1cm4gaGI7XG59XG5cbmxldCBpbnN0ID0gY3JlYXRlKCk7XG5pbnN0LmNyZWF0ZSA9IGNyZWF0ZTtcblxubm9Db25mbGljdChpbnN0KTtcblxuaW5zdFsnZGVmYXVsdCddID0gaW5zdDtcblxuZXhwb3J0IGRlZmF1bHQgaW5zdDtcbiIsICJsZXQgQVNUID0ge1xuICAvLyBQdWJsaWMgQVBJIHVzZWQgdG8gZXZhbHVhdGUgZGVyaXZlZCBhdHRyaWJ1dGVzIHJlZ2FyZGluZyBBU1Qgbm9kZXNcbiAgaGVscGVyczoge1xuICAgIC8vIGEgbXVzdGFjaGUgaXMgZGVmaW5pdGVseSBhIGhlbHBlciBpZjpcbiAgICAvLyAqIGl0IGlzIGFuIGVsaWdpYmxlIGhlbHBlciwgYW5kXG4gICAgLy8gKiBpdCBoYXMgYXQgbGVhc3Qgb25lIHBhcmFtZXRlciBvciBoYXNoIHNlZ21lbnRcbiAgICBoZWxwZXJFeHByZXNzaW9uOiBmdW5jdGlvbihub2RlKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICBub2RlLnR5cGUgPT09ICdTdWJFeHByZXNzaW9uJyB8fFxuICAgICAgICAoKG5vZGUudHlwZSA9PT0gJ011c3RhY2hlU3RhdGVtZW50JyB8fFxuICAgICAgICAgIG5vZGUudHlwZSA9PT0gJ0Jsb2NrU3RhdGVtZW50JykgJiZcbiAgICAgICAgICAhISgobm9kZS5wYXJhbXMgJiYgbm9kZS5wYXJhbXMubGVuZ3RoKSB8fCBub2RlLmhhc2gpKVxuICAgICAgKTtcbiAgICB9LFxuXG4gICAgc2NvcGVkSWQ6IGZ1bmN0aW9uKHBhdGgpIHtcbiAgICAgIHJldHVybiAvXlxcLnx0aGlzXFxiLy50ZXN0KHBhdGgub3JpZ2luYWwpO1xuICAgIH0sXG5cbiAgICAvLyBhbiBJRCBpcyBzaW1wbGUgaWYgaXQgb25seSBoYXMgb25lIHBhcnQsIGFuZCB0aGF0IHBhcnQgaXMgbm90XG4gICAgLy8gYC4uYCBvciBgdGhpc2AuXG4gICAgc2ltcGxlSWQ6IGZ1bmN0aW9uKHBhdGgpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIHBhdGgucGFydHMubGVuZ3RoID09PSAxICYmICFBU1QuaGVscGVycy5zY29wZWRJZChwYXRoKSAmJiAhcGF0aC5kZXB0aFxuICAgICAgKTtcbiAgICB9XG4gIH1cbn07XG5cbi8vIE11c3QgYmUgZXhwb3J0ZWQgYXMgYW4gb2JqZWN0IHJhdGhlciB0aGFuIHRoZSByb290IG9mIHRoZSBtb2R1bGUgYXMgdGhlIGppc29uIGxleGVyXG4vLyBtdXN0IG1vZGlmeSB0aGUgb2JqZWN0IHRvIG9wZXJhdGUgcHJvcGVybHkuXG5leHBvcnQgZGVmYXVsdCBBU1Q7XG4iLCAiLy8gRmlsZSBpZ25vcmVkIGluIGNvdmVyYWdlIHRlc3RzIHZpYSBzZXR0aW5nIGluIC5pc3RhbmJ1bC55bWxcbi8qIEppc29uIGdlbmVyYXRlZCBwYXJzZXIgKi9cbnZhciBoYW5kbGViYXJzID0gKGZ1bmN0aW9uKCl7XG52YXIgcGFyc2VyID0ge3RyYWNlOiBmdW5jdGlvbiB0cmFjZSAoKSB7IH0sXG55eToge30sXG5zeW1ib2xzXzoge1wiZXJyb3JcIjoyLFwicm9vdFwiOjMsXCJwcm9ncmFtXCI6NCxcIkVPRlwiOjUsXCJwcm9ncmFtX3JlcGV0aXRpb24wXCI6NixcInN0YXRlbWVudFwiOjcsXCJtdXN0YWNoZVwiOjgsXCJibG9ja1wiOjksXCJyYXdCbG9ja1wiOjEwLFwicGFydGlhbFwiOjExLFwicGFydGlhbEJsb2NrXCI6MTIsXCJjb250ZW50XCI6MTMsXCJDT01NRU5UXCI6MTQsXCJDT05URU5UXCI6MTUsXCJvcGVuUmF3QmxvY2tcIjoxNixcInJhd0Jsb2NrX3JlcGV0aXRpb24wXCI6MTcsXCJFTkRfUkFXX0JMT0NLXCI6MTgsXCJPUEVOX1JBV19CTE9DS1wiOjE5LFwiaGVscGVyTmFtZVwiOjIwLFwib3BlblJhd0Jsb2NrX3JlcGV0aXRpb24wXCI6MjEsXCJvcGVuUmF3QmxvY2tfb3B0aW9uMFwiOjIyLFwiQ0xPU0VfUkFXX0JMT0NLXCI6MjMsXCJvcGVuQmxvY2tcIjoyNCxcImJsb2NrX29wdGlvbjBcIjoyNSxcImNsb3NlQmxvY2tcIjoyNixcIm9wZW5JbnZlcnNlXCI6MjcsXCJibG9ja19vcHRpb24xXCI6MjgsXCJPUEVOX0JMT0NLXCI6MjksXCJvcGVuQmxvY2tfcmVwZXRpdGlvbjBcIjozMCxcIm9wZW5CbG9ja19vcHRpb24wXCI6MzEsXCJvcGVuQmxvY2tfb3B0aW9uMVwiOjMyLFwiQ0xPU0VcIjozMyxcIk9QRU5fSU5WRVJTRVwiOjM0LFwib3BlbkludmVyc2VfcmVwZXRpdGlvbjBcIjozNSxcIm9wZW5JbnZlcnNlX29wdGlvbjBcIjozNixcIm9wZW5JbnZlcnNlX29wdGlvbjFcIjozNyxcIm9wZW5JbnZlcnNlQ2hhaW5cIjozOCxcIk9QRU5fSU5WRVJTRV9DSEFJTlwiOjM5LFwib3BlbkludmVyc2VDaGFpbl9yZXBldGl0aW9uMFwiOjQwLFwib3BlbkludmVyc2VDaGFpbl9vcHRpb24wXCI6NDEsXCJvcGVuSW52ZXJzZUNoYWluX29wdGlvbjFcIjo0MixcImludmVyc2VBbmRQcm9ncmFtXCI6NDMsXCJJTlZFUlNFXCI6NDQsXCJpbnZlcnNlQ2hhaW5cIjo0NSxcImludmVyc2VDaGFpbl9vcHRpb24wXCI6NDYsXCJPUEVOX0VOREJMT0NLXCI6NDcsXCJPUEVOXCI6NDgsXCJtdXN0YWNoZV9yZXBldGl0aW9uMFwiOjQ5LFwibXVzdGFjaGVfb3B0aW9uMFwiOjUwLFwiT1BFTl9VTkVTQ0FQRURcIjo1MSxcIm11c3RhY2hlX3JlcGV0aXRpb24xXCI6NTIsXCJtdXN0YWNoZV9vcHRpb24xXCI6NTMsXCJDTE9TRV9VTkVTQ0FQRURcIjo1NCxcIk9QRU5fUEFSVElBTFwiOjU1LFwicGFydGlhbE5hbWVcIjo1NixcInBhcnRpYWxfcmVwZXRpdGlvbjBcIjo1NyxcInBhcnRpYWxfb3B0aW9uMFwiOjU4LFwib3BlblBhcnRpYWxCbG9ja1wiOjU5LFwiT1BFTl9QQVJUSUFMX0JMT0NLXCI6NjAsXCJvcGVuUGFydGlhbEJsb2NrX3JlcGV0aXRpb24wXCI6NjEsXCJvcGVuUGFydGlhbEJsb2NrX29wdGlvbjBcIjo2MixcInBhcmFtXCI6NjMsXCJzZXhwclwiOjY0LFwiT1BFTl9TRVhQUlwiOjY1LFwic2V4cHJfcmVwZXRpdGlvbjBcIjo2NixcInNleHByX29wdGlvbjBcIjo2NyxcIkNMT1NFX1NFWFBSXCI6NjgsXCJoYXNoXCI6NjksXCJoYXNoX3JlcGV0aXRpb25fcGx1czBcIjo3MCxcImhhc2hTZWdtZW50XCI6NzEsXCJJRFwiOjcyLFwiRVFVQUxTXCI6NzMsXCJibG9ja1BhcmFtc1wiOjc0LFwiT1BFTl9CTE9DS19QQVJBTVNcIjo3NSxcImJsb2NrUGFyYW1zX3JlcGV0aXRpb25fcGx1czBcIjo3NixcIkNMT1NFX0JMT0NLX1BBUkFNU1wiOjc3LFwicGF0aFwiOjc4LFwiZGF0YU5hbWVcIjo3OSxcIlNUUklOR1wiOjgwLFwiTlVNQkVSXCI6ODEsXCJCT09MRUFOXCI6ODIsXCJVTkRFRklORURcIjo4MyxcIk5VTExcIjo4NCxcIkRBVEFcIjo4NSxcInBhdGhTZWdtZW50c1wiOjg2LFwiU0VQXCI6ODcsXCIkYWNjZXB0XCI6MCxcIiRlbmRcIjoxfSxcbnRlcm1pbmFsc186IHsyOlwiZXJyb3JcIiw1OlwiRU9GXCIsMTQ6XCJDT01NRU5UXCIsMTU6XCJDT05URU5UXCIsMTg6XCJFTkRfUkFXX0JMT0NLXCIsMTk6XCJPUEVOX1JBV19CTE9DS1wiLDIzOlwiQ0xPU0VfUkFXX0JMT0NLXCIsMjk6XCJPUEVOX0JMT0NLXCIsMzM6XCJDTE9TRVwiLDM0OlwiT1BFTl9JTlZFUlNFXCIsMzk6XCJPUEVOX0lOVkVSU0VfQ0hBSU5cIiw0NDpcIklOVkVSU0VcIiw0NzpcIk9QRU5fRU5EQkxPQ0tcIiw0ODpcIk9QRU5cIiw1MTpcIk9QRU5fVU5FU0NBUEVEXCIsNTQ6XCJDTE9TRV9VTkVTQ0FQRURcIiw1NTpcIk9QRU5fUEFSVElBTFwiLDYwOlwiT1BFTl9QQVJUSUFMX0JMT0NLXCIsNjU6XCJPUEVOX1NFWFBSXCIsNjg6XCJDTE9TRV9TRVhQUlwiLDcyOlwiSURcIiw3MzpcIkVRVUFMU1wiLDc1OlwiT1BFTl9CTE9DS19QQVJBTVNcIiw3NzpcIkNMT1NFX0JMT0NLX1BBUkFNU1wiLDgwOlwiU1RSSU5HXCIsODE6XCJOVU1CRVJcIiw4MjpcIkJPT0xFQU5cIiw4MzpcIlVOREVGSU5FRFwiLDg0OlwiTlVMTFwiLDg1OlwiREFUQVwiLDg3OlwiU0VQXCJ9LFxucHJvZHVjdGlvbnNfOiBbMCxbMywyXSxbNCwxXSxbNywxXSxbNywxXSxbNywxXSxbNywxXSxbNywxXSxbNywxXSxbNywxXSxbMTMsMV0sWzEwLDNdLFsxNiw1XSxbOSw0XSxbOSw0XSxbMjQsNl0sWzI3LDZdLFszOCw2XSxbNDMsMl0sWzQ1LDNdLFs0NSwxXSxbMjYsM10sWzgsNV0sWzgsNV0sWzExLDVdLFsxMiwzXSxbNTksNV0sWzYzLDFdLFs2MywxXSxbNjQsNV0sWzY5LDFdLFs3MSwzXSxbNzQsM10sWzIwLDFdLFsyMCwxXSxbMjAsMV0sWzIwLDFdLFsyMCwxXSxbMjAsMV0sWzIwLDFdLFs1NiwxXSxbNTYsMV0sWzc5LDJdLFs3OCwxXSxbODYsM10sWzg2LDFdLFs2LDBdLFs2LDJdLFsxNywwXSxbMTcsMl0sWzIxLDBdLFsyMSwyXSxbMjIsMF0sWzIyLDFdLFsyNSwwXSxbMjUsMV0sWzI4LDBdLFsyOCwxXSxbMzAsMF0sWzMwLDJdLFszMSwwXSxbMzEsMV0sWzMyLDBdLFszMiwxXSxbMzUsMF0sWzM1LDJdLFszNiwwXSxbMzYsMV0sWzM3LDBdLFszNywxXSxbNDAsMF0sWzQwLDJdLFs0MSwwXSxbNDEsMV0sWzQyLDBdLFs0MiwxXSxbNDYsMF0sWzQ2LDFdLFs0OSwwXSxbNDksMl0sWzUwLDBdLFs1MCwxXSxbNTIsMF0sWzUyLDJdLFs1MywwXSxbNTMsMV0sWzU3LDBdLFs1NywyXSxbNTgsMF0sWzU4LDFdLFs2MSwwXSxbNjEsMl0sWzYyLDBdLFs2MiwxXSxbNjYsMF0sWzY2LDJdLFs2NywwXSxbNjcsMV0sWzcwLDFdLFs3MCwyXSxbNzYsMV0sWzc2LDJdXSxcbnBlcmZvcm1BY3Rpb246IGZ1bmN0aW9uIGFub255bW91cyh5eXRleHQseXlsZW5nLHl5bGluZW5vLHl5LHl5c3RhdGUsJCQsXyRcbikge1xuXG52YXIgJDAgPSAkJC5sZW5ndGggLSAxO1xuc3dpdGNoICh5eXN0YXRlKSB7XG5jYXNlIDE6IHJldHVybiAkJFskMC0xXTsgXG5icmVhaztcbmNhc2UgMjp0aGlzLiQgPSB5eS5wcmVwYXJlUHJvZ3JhbSgkJFskMF0pO1xuYnJlYWs7XG5jYXNlIDM6dGhpcy4kID0gJCRbJDBdO1xuYnJlYWs7XG5jYXNlIDQ6dGhpcy4kID0gJCRbJDBdO1xuYnJlYWs7XG5jYXNlIDU6dGhpcy4kID0gJCRbJDBdO1xuYnJlYWs7XG5jYXNlIDY6dGhpcy4kID0gJCRbJDBdO1xuYnJlYWs7XG5jYXNlIDc6dGhpcy4kID0gJCRbJDBdO1xuYnJlYWs7XG5jYXNlIDg6dGhpcy4kID0gJCRbJDBdO1xuYnJlYWs7XG5jYXNlIDk6XG4gICAgdGhpcy4kID0ge1xuICAgICAgdHlwZTogJ0NvbW1lbnRTdGF0ZW1lbnQnLFxuICAgICAgdmFsdWU6IHl5LnN0cmlwQ29tbWVudCgkJFskMF0pLFxuICAgICAgc3RyaXA6IHl5LnN0cmlwRmxhZ3MoJCRbJDBdLCAkJFskMF0pLFxuICAgICAgbG9jOiB5eS5sb2NJbmZvKHRoaXMuXyQpXG4gICAgfTtcbiAgXG5icmVhaztcbmNhc2UgMTA6XG4gICAgdGhpcy4kID0ge1xuICAgICAgdHlwZTogJ0NvbnRlbnRTdGF0ZW1lbnQnLFxuICAgICAgb3JpZ2luYWw6ICQkWyQwXSxcbiAgICAgIHZhbHVlOiAkJFskMF0sXG4gICAgICBsb2M6IHl5LmxvY0luZm8odGhpcy5fJClcbiAgICB9O1xuICBcbmJyZWFrO1xuY2FzZSAxMTp0aGlzLiQgPSB5eS5wcmVwYXJlUmF3QmxvY2soJCRbJDAtMl0sICQkWyQwLTFdLCAkJFskMF0sIHRoaXMuXyQpO1xuYnJlYWs7XG5jYXNlIDEyOnRoaXMuJCA9IHsgcGF0aDogJCRbJDAtM10sIHBhcmFtczogJCRbJDAtMl0sIGhhc2g6ICQkWyQwLTFdIH07XG5icmVhaztcbmNhc2UgMTM6dGhpcy4kID0geXkucHJlcGFyZUJsb2NrKCQkWyQwLTNdLCAkJFskMC0yXSwgJCRbJDAtMV0sICQkWyQwXSwgZmFsc2UsIHRoaXMuXyQpO1xuYnJlYWs7XG5jYXNlIDE0OnRoaXMuJCA9IHl5LnByZXBhcmVCbG9jaygkJFskMC0zXSwgJCRbJDAtMl0sICQkWyQwLTFdLCAkJFskMF0sIHRydWUsIHRoaXMuXyQpO1xuYnJlYWs7XG5jYXNlIDE1OnRoaXMuJCA9IHsgb3BlbjogJCRbJDAtNV0sIHBhdGg6ICQkWyQwLTRdLCBwYXJhbXM6ICQkWyQwLTNdLCBoYXNoOiAkJFskMC0yXSwgYmxvY2tQYXJhbXM6ICQkWyQwLTFdLCBzdHJpcDogeXkuc3RyaXBGbGFncygkJFskMC01XSwgJCRbJDBdKSB9O1xuYnJlYWs7XG5jYXNlIDE2OnRoaXMuJCA9IHsgcGF0aDogJCRbJDAtNF0sIHBhcmFtczogJCRbJDAtM10sIGhhc2g6ICQkWyQwLTJdLCBibG9ja1BhcmFtczogJCRbJDAtMV0sIHN0cmlwOiB5eS5zdHJpcEZsYWdzKCQkWyQwLTVdLCAkJFskMF0pIH07XG5icmVhaztcbmNhc2UgMTc6dGhpcy4kID0geyBwYXRoOiAkJFskMC00XSwgcGFyYW1zOiAkJFskMC0zXSwgaGFzaDogJCRbJDAtMl0sIGJsb2NrUGFyYW1zOiAkJFskMC0xXSwgc3RyaXA6IHl5LnN0cmlwRmxhZ3MoJCRbJDAtNV0sICQkWyQwXSkgfTtcbmJyZWFrO1xuY2FzZSAxODp0aGlzLiQgPSB7IHN0cmlwOiB5eS5zdHJpcEZsYWdzKCQkWyQwLTFdLCAkJFskMC0xXSksIHByb2dyYW06ICQkWyQwXSB9O1xuYnJlYWs7XG5jYXNlIDE5OlxuICAgIHZhciBpbnZlcnNlID0geXkucHJlcGFyZUJsb2NrKCQkWyQwLTJdLCAkJFskMC0xXSwgJCRbJDBdLCAkJFskMF0sIGZhbHNlLCB0aGlzLl8kKSxcbiAgICAgICAgcHJvZ3JhbSA9IHl5LnByZXBhcmVQcm9ncmFtKFtpbnZlcnNlXSwgJCRbJDAtMV0ubG9jKTtcbiAgICBwcm9ncmFtLmNoYWluZWQgPSB0cnVlO1xuXG4gICAgdGhpcy4kID0geyBzdHJpcDogJCRbJDAtMl0uc3RyaXAsIHByb2dyYW06IHByb2dyYW0sIGNoYWluOiB0cnVlIH07XG4gIFxuYnJlYWs7XG5jYXNlIDIwOnRoaXMuJCA9ICQkWyQwXTtcbmJyZWFrO1xuY2FzZSAyMTp0aGlzLiQgPSB7cGF0aDogJCRbJDAtMV0sIHN0cmlwOiB5eS5zdHJpcEZsYWdzKCQkWyQwLTJdLCAkJFskMF0pfTtcbmJyZWFrO1xuY2FzZSAyMjp0aGlzLiQgPSB5eS5wcmVwYXJlTXVzdGFjaGUoJCRbJDAtM10sICQkWyQwLTJdLCAkJFskMC0xXSwgJCRbJDAtNF0sIHl5LnN0cmlwRmxhZ3MoJCRbJDAtNF0sICQkWyQwXSksIHRoaXMuXyQpO1xuYnJlYWs7XG5jYXNlIDIzOnRoaXMuJCA9IHl5LnByZXBhcmVNdXN0YWNoZSgkJFskMC0zXSwgJCRbJDAtMl0sICQkWyQwLTFdLCAkJFskMC00XSwgeXkuc3RyaXBGbGFncygkJFskMC00XSwgJCRbJDBdKSwgdGhpcy5fJCk7XG5icmVhaztcbmNhc2UgMjQ6XG4gICAgdGhpcy4kID0ge1xuICAgICAgdHlwZTogJ1BhcnRpYWxTdGF0ZW1lbnQnLFxuICAgICAgbmFtZTogJCRbJDAtM10sXG4gICAgICBwYXJhbXM6ICQkWyQwLTJdLFxuICAgICAgaGFzaDogJCRbJDAtMV0sXG4gICAgICBpbmRlbnQ6ICcnLFxuICAgICAgc3RyaXA6IHl5LnN0cmlwRmxhZ3MoJCRbJDAtNF0sICQkWyQwXSksXG4gICAgICBsb2M6IHl5LmxvY0luZm8odGhpcy5fJClcbiAgICB9O1xuICBcbmJyZWFrO1xuY2FzZSAyNTp0aGlzLiQgPSB5eS5wcmVwYXJlUGFydGlhbEJsb2NrKCQkWyQwLTJdLCAkJFskMC0xXSwgJCRbJDBdLCB0aGlzLl8kKTtcbmJyZWFrO1xuY2FzZSAyNjp0aGlzLiQgPSB7IHBhdGg6ICQkWyQwLTNdLCBwYXJhbXM6ICQkWyQwLTJdLCBoYXNoOiAkJFskMC0xXSwgc3RyaXA6IHl5LnN0cmlwRmxhZ3MoJCRbJDAtNF0sICQkWyQwXSkgfTtcbmJyZWFrO1xuY2FzZSAyNzp0aGlzLiQgPSAkJFskMF07XG5icmVhaztcbmNhc2UgMjg6dGhpcy4kID0gJCRbJDBdO1xuYnJlYWs7XG5jYXNlIDI5OlxuICAgIHRoaXMuJCA9IHtcbiAgICAgIHR5cGU6ICdTdWJFeHByZXNzaW9uJyxcbiAgICAgIHBhdGg6ICQkWyQwLTNdLFxuICAgICAgcGFyYW1zOiAkJFskMC0yXSxcbiAgICAgIGhhc2g6ICQkWyQwLTFdLFxuICAgICAgbG9jOiB5eS5sb2NJbmZvKHRoaXMuXyQpXG4gICAgfTtcbiAgXG5icmVhaztcbmNhc2UgMzA6dGhpcy4kID0ge3R5cGU6ICdIYXNoJywgcGFpcnM6ICQkWyQwXSwgbG9jOiB5eS5sb2NJbmZvKHRoaXMuXyQpfTtcbmJyZWFrO1xuY2FzZSAzMTp0aGlzLiQgPSB7dHlwZTogJ0hhc2hQYWlyJywga2V5OiB5eS5pZCgkJFskMC0yXSksIHZhbHVlOiAkJFskMF0sIGxvYzogeXkubG9jSW5mbyh0aGlzLl8kKX07XG5icmVhaztcbmNhc2UgMzI6dGhpcy4kID0geXkuaWQoJCRbJDAtMV0pO1xuYnJlYWs7XG5jYXNlIDMzOnRoaXMuJCA9ICQkWyQwXTtcbmJyZWFrO1xuY2FzZSAzNDp0aGlzLiQgPSAkJFskMF07XG5icmVhaztcbmNhc2UgMzU6dGhpcy4kID0ge3R5cGU6ICdTdHJpbmdMaXRlcmFsJywgdmFsdWU6ICQkWyQwXSwgb3JpZ2luYWw6ICQkWyQwXSwgbG9jOiB5eS5sb2NJbmZvKHRoaXMuXyQpfTtcbmJyZWFrO1xuY2FzZSAzNjp0aGlzLiQgPSB7dHlwZTogJ051bWJlckxpdGVyYWwnLCB2YWx1ZTogTnVtYmVyKCQkWyQwXSksIG9yaWdpbmFsOiBOdW1iZXIoJCRbJDBdKSwgbG9jOiB5eS5sb2NJbmZvKHRoaXMuXyQpfTtcbmJyZWFrO1xuY2FzZSAzNzp0aGlzLiQgPSB7dHlwZTogJ0Jvb2xlYW5MaXRlcmFsJywgdmFsdWU6ICQkWyQwXSA9PT0gJ3RydWUnLCBvcmlnaW5hbDogJCRbJDBdID09PSAndHJ1ZScsIGxvYzogeXkubG9jSW5mbyh0aGlzLl8kKX07XG5icmVhaztcbmNhc2UgMzg6dGhpcy4kID0ge3R5cGU6ICdVbmRlZmluZWRMaXRlcmFsJywgb3JpZ2luYWw6IHVuZGVmaW5lZCwgdmFsdWU6IHVuZGVmaW5lZCwgbG9jOiB5eS5sb2NJbmZvKHRoaXMuXyQpfTtcbmJyZWFrO1xuY2FzZSAzOTp0aGlzLiQgPSB7dHlwZTogJ051bGxMaXRlcmFsJywgb3JpZ2luYWw6IG51bGwsIHZhbHVlOiBudWxsLCBsb2M6IHl5LmxvY0luZm8odGhpcy5fJCl9O1xuYnJlYWs7XG5jYXNlIDQwOnRoaXMuJCA9ICQkWyQwXTtcbmJyZWFrO1xuY2FzZSA0MTp0aGlzLiQgPSAkJFskMF07XG5icmVhaztcbmNhc2UgNDI6dGhpcy4kID0geXkucHJlcGFyZVBhdGgodHJ1ZSwgJCRbJDBdLCB0aGlzLl8kKTtcbmJyZWFrO1xuY2FzZSA0Mzp0aGlzLiQgPSB5eS5wcmVwYXJlUGF0aChmYWxzZSwgJCRbJDBdLCB0aGlzLl8kKTtcbmJyZWFrO1xuY2FzZSA0NDogJCRbJDAtMl0ucHVzaCh7cGFydDogeXkuaWQoJCRbJDBdKSwgb3JpZ2luYWw6ICQkWyQwXSwgc2VwYXJhdG9yOiAkJFskMC0xXX0pOyB0aGlzLiQgPSAkJFskMC0yXTsgXG5icmVhaztcbmNhc2UgNDU6dGhpcy4kID0gW3twYXJ0OiB5eS5pZCgkJFskMF0pLCBvcmlnaW5hbDogJCRbJDBdfV07XG5icmVhaztcbmNhc2UgNDY6dGhpcy4kID0gW107XG5icmVhaztcbmNhc2UgNDc6JCRbJDAtMV0ucHVzaCgkJFskMF0pO1xuYnJlYWs7XG5jYXNlIDQ4OnRoaXMuJCA9IFtdO1xuYnJlYWs7XG5jYXNlIDQ5OiQkWyQwLTFdLnB1c2goJCRbJDBdKTtcbmJyZWFrO1xuY2FzZSA1MDp0aGlzLiQgPSBbXTtcbmJyZWFrO1xuY2FzZSA1MTokJFskMC0xXS5wdXNoKCQkWyQwXSk7XG5icmVhaztcbmNhc2UgNTg6dGhpcy4kID0gW107XG5icmVhaztcbmNhc2UgNTk6JCRbJDAtMV0ucHVzaCgkJFskMF0pO1xuYnJlYWs7XG5jYXNlIDY0OnRoaXMuJCA9IFtdO1xuYnJlYWs7XG5jYXNlIDY1OiQkWyQwLTFdLnB1c2goJCRbJDBdKTtcbmJyZWFrO1xuY2FzZSA3MDp0aGlzLiQgPSBbXTtcbmJyZWFrO1xuY2FzZSA3MTokJFskMC0xXS5wdXNoKCQkWyQwXSk7XG5icmVhaztcbmNhc2UgNzg6dGhpcy4kID0gW107XG5icmVhaztcbmNhc2UgNzk6JCRbJDAtMV0ucHVzaCgkJFskMF0pO1xuYnJlYWs7XG5jYXNlIDgyOnRoaXMuJCA9IFtdO1xuYnJlYWs7XG5jYXNlIDgzOiQkWyQwLTFdLnB1c2goJCRbJDBdKTtcbmJyZWFrO1xuY2FzZSA4Njp0aGlzLiQgPSBbXTtcbmJyZWFrO1xuY2FzZSA4NzokJFskMC0xXS5wdXNoKCQkWyQwXSk7XG5icmVhaztcbmNhc2UgOTA6dGhpcy4kID0gW107XG5icmVhaztcbmNhc2UgOTE6JCRbJDAtMV0ucHVzaCgkJFskMF0pO1xuYnJlYWs7XG5jYXNlIDk0OnRoaXMuJCA9IFtdO1xuYnJlYWs7XG5jYXNlIDk1OiQkWyQwLTFdLnB1c2goJCRbJDBdKTtcbmJyZWFrO1xuY2FzZSA5ODp0aGlzLiQgPSBbJCRbJDBdXTtcbmJyZWFrO1xuY2FzZSA5OTokJFskMC0xXS5wdXNoKCQkWyQwXSk7XG5icmVhaztcbmNhc2UgMTAwOnRoaXMuJCA9IFskJFskMF1dO1xuYnJlYWs7XG5jYXNlIDEwMTokJFskMC0xXS5wdXNoKCQkWyQwXSk7XG5icmVhaztcbn1cbn0sXG50YWJsZTogW3szOjEsNDoyLDU6WzIsNDZdLDY6MywxNDpbMiw0Nl0sMTU6WzIsNDZdLDE5OlsyLDQ2XSwyOTpbMiw0Nl0sMzQ6WzIsNDZdLDQ4OlsyLDQ2XSw1MTpbMiw0Nl0sNTU6WzIsNDZdLDYwOlsyLDQ2XX0sezE6WzNdfSx7NTpbMSw0XX0sezU6WzIsMl0sNzo1LDg6Niw5OjcsMTA6OCwxMTo5LDEyOjEwLDEzOjExLDE0OlsxLDEyXSwxNTpbMSwyMF0sMTY6MTcsMTk6WzEsMjNdLDI0OjE1LDI3OjE2LDI5OlsxLDIxXSwzNDpbMSwyMl0sMzk6WzIsMl0sNDQ6WzIsMl0sNDc6WzIsMl0sNDg6WzEsMTNdLDUxOlsxLDE0XSw1NTpbMSwxOF0sNTk6MTksNjA6WzEsMjRdfSx7MTpbMiwxXX0sezU6WzIsNDddLDE0OlsyLDQ3XSwxNTpbMiw0N10sMTk6WzIsNDddLDI5OlsyLDQ3XSwzNDpbMiw0N10sMzk6WzIsNDddLDQ0OlsyLDQ3XSw0NzpbMiw0N10sNDg6WzIsNDddLDUxOlsyLDQ3XSw1NTpbMiw0N10sNjA6WzIsNDddfSx7NTpbMiwzXSwxNDpbMiwzXSwxNTpbMiwzXSwxOTpbMiwzXSwyOTpbMiwzXSwzNDpbMiwzXSwzOTpbMiwzXSw0NDpbMiwzXSw0NzpbMiwzXSw0ODpbMiwzXSw1MTpbMiwzXSw1NTpbMiwzXSw2MDpbMiwzXX0sezU6WzIsNF0sMTQ6WzIsNF0sMTU6WzIsNF0sMTk6WzIsNF0sMjk6WzIsNF0sMzQ6WzIsNF0sMzk6WzIsNF0sNDQ6WzIsNF0sNDc6WzIsNF0sNDg6WzIsNF0sNTE6WzIsNF0sNTU6WzIsNF0sNjA6WzIsNF19LHs1OlsyLDVdLDE0OlsyLDVdLDE1OlsyLDVdLDE5OlsyLDVdLDI5OlsyLDVdLDM0OlsyLDVdLDM5OlsyLDVdLDQ0OlsyLDVdLDQ3OlsyLDVdLDQ4OlsyLDVdLDUxOlsyLDVdLDU1OlsyLDVdLDYwOlsyLDVdfSx7NTpbMiw2XSwxNDpbMiw2XSwxNTpbMiw2XSwxOTpbMiw2XSwyOTpbMiw2XSwzNDpbMiw2XSwzOTpbMiw2XSw0NDpbMiw2XSw0NzpbMiw2XSw0ODpbMiw2XSw1MTpbMiw2XSw1NTpbMiw2XSw2MDpbMiw2XX0sezU6WzIsN10sMTQ6WzIsN10sMTU6WzIsN10sMTk6WzIsN10sMjk6WzIsN10sMzQ6WzIsN10sMzk6WzIsN10sNDQ6WzIsN10sNDc6WzIsN10sNDg6WzIsN10sNTE6WzIsN10sNTU6WzIsN10sNjA6WzIsN119LHs1OlsyLDhdLDE0OlsyLDhdLDE1OlsyLDhdLDE5OlsyLDhdLDI5OlsyLDhdLDM0OlsyLDhdLDM5OlsyLDhdLDQ0OlsyLDhdLDQ3OlsyLDhdLDQ4OlsyLDhdLDUxOlsyLDhdLDU1OlsyLDhdLDYwOlsyLDhdfSx7NTpbMiw5XSwxNDpbMiw5XSwxNTpbMiw5XSwxOTpbMiw5XSwyOTpbMiw5XSwzNDpbMiw5XSwzOTpbMiw5XSw0NDpbMiw5XSw0NzpbMiw5XSw0ODpbMiw5XSw1MTpbMiw5XSw1NTpbMiw5XSw2MDpbMiw5XX0sezIwOjI1LDcyOlsxLDM1XSw3ODoyNiw3OToyNyw4MDpbMSwyOF0sODE6WzEsMjldLDgyOlsxLDMwXSw4MzpbMSwzMV0sODQ6WzEsMzJdLDg1OlsxLDM0XSw4NjozM30sezIwOjM2LDcyOlsxLDM1XSw3ODoyNiw3OToyNyw4MDpbMSwyOF0sODE6WzEsMjldLDgyOlsxLDMwXSw4MzpbMSwzMV0sODQ6WzEsMzJdLDg1OlsxLDM0XSw4NjozM30sezQ6MzcsNjozLDE0OlsyLDQ2XSwxNTpbMiw0Nl0sMTk6WzIsNDZdLDI5OlsyLDQ2XSwzNDpbMiw0Nl0sMzk6WzIsNDZdLDQ0OlsyLDQ2XSw0NzpbMiw0Nl0sNDg6WzIsNDZdLDUxOlsyLDQ2XSw1NTpbMiw0Nl0sNjA6WzIsNDZdfSx7NDozOCw2OjMsMTQ6WzIsNDZdLDE1OlsyLDQ2XSwxOTpbMiw0Nl0sMjk6WzIsNDZdLDM0OlsyLDQ2XSw0NDpbMiw0Nl0sNDc6WzIsNDZdLDQ4OlsyLDQ2XSw1MTpbMiw0Nl0sNTU6WzIsNDZdLDYwOlsyLDQ2XX0sezE1OlsyLDQ4XSwxNzozOSwxODpbMiw0OF19LHsyMDo0MSw1Njo0MCw2NDo0Miw2NTpbMSw0M10sNzI6WzEsMzVdLDc4OjI2LDc5OjI3LDgwOlsxLDI4XSw4MTpbMSwyOV0sODI6WzEsMzBdLDgzOlsxLDMxXSw4NDpbMSwzMl0sODU6WzEsMzRdLDg2OjMzfSx7NDo0NCw2OjMsMTQ6WzIsNDZdLDE1OlsyLDQ2XSwxOTpbMiw0Nl0sMjk6WzIsNDZdLDM0OlsyLDQ2XSw0NzpbMiw0Nl0sNDg6WzIsNDZdLDUxOlsyLDQ2XSw1NTpbMiw0Nl0sNjA6WzIsNDZdfSx7NTpbMiwxMF0sMTQ6WzIsMTBdLDE1OlsyLDEwXSwxODpbMiwxMF0sMTk6WzIsMTBdLDI5OlsyLDEwXSwzNDpbMiwxMF0sMzk6WzIsMTBdLDQ0OlsyLDEwXSw0NzpbMiwxMF0sNDg6WzIsMTBdLDUxOlsyLDEwXSw1NTpbMiwxMF0sNjA6WzIsMTBdfSx7MjA6NDUsNzI6WzEsMzVdLDc4OjI2LDc5OjI3LDgwOlsxLDI4XSw4MTpbMSwyOV0sODI6WzEsMzBdLDgzOlsxLDMxXSw4NDpbMSwzMl0sODU6WzEsMzRdLDg2OjMzfSx7MjA6NDYsNzI6WzEsMzVdLDc4OjI2LDc5OjI3LDgwOlsxLDI4XSw4MTpbMSwyOV0sODI6WzEsMzBdLDgzOlsxLDMxXSw4NDpbMSwzMl0sODU6WzEsMzRdLDg2OjMzfSx7MjA6NDcsNzI6WzEsMzVdLDc4OjI2LDc5OjI3LDgwOlsxLDI4XSw4MTpbMSwyOV0sODI6WzEsMzBdLDgzOlsxLDMxXSw4NDpbMSwzMl0sODU6WzEsMzRdLDg2OjMzfSx7MjA6NDEsNTY6NDgsNjQ6NDIsNjU6WzEsNDNdLDcyOlsxLDM1XSw3ODoyNiw3OToyNyw4MDpbMSwyOF0sODE6WzEsMjldLDgyOlsxLDMwXSw4MzpbMSwzMV0sODQ6WzEsMzJdLDg1OlsxLDM0XSw4NjozM30sezMzOlsyLDc4XSw0OTo0OSw2NTpbMiw3OF0sNzI6WzIsNzhdLDgwOlsyLDc4XSw4MTpbMiw3OF0sODI6WzIsNzhdLDgzOlsyLDc4XSw4NDpbMiw3OF0sODU6WzIsNzhdfSx7MjM6WzIsMzNdLDMzOlsyLDMzXSw1NDpbMiwzM10sNjU6WzIsMzNdLDY4OlsyLDMzXSw3MjpbMiwzM10sNzU6WzIsMzNdLDgwOlsyLDMzXSw4MTpbMiwzM10sODI6WzIsMzNdLDgzOlsyLDMzXSw4NDpbMiwzM10sODU6WzIsMzNdfSx7MjM6WzIsMzRdLDMzOlsyLDM0XSw1NDpbMiwzNF0sNjU6WzIsMzRdLDY4OlsyLDM0XSw3MjpbMiwzNF0sNzU6WzIsMzRdLDgwOlsyLDM0XSw4MTpbMiwzNF0sODI6WzIsMzRdLDgzOlsyLDM0XSw4NDpbMiwzNF0sODU6WzIsMzRdfSx7MjM6WzIsMzVdLDMzOlsyLDM1XSw1NDpbMiwzNV0sNjU6WzIsMzVdLDY4OlsyLDM1XSw3MjpbMiwzNV0sNzU6WzIsMzVdLDgwOlsyLDM1XSw4MTpbMiwzNV0sODI6WzIsMzVdLDgzOlsyLDM1XSw4NDpbMiwzNV0sODU6WzIsMzVdfSx7MjM6WzIsMzZdLDMzOlsyLDM2XSw1NDpbMiwzNl0sNjU6WzIsMzZdLDY4OlsyLDM2XSw3MjpbMiwzNl0sNzU6WzIsMzZdLDgwOlsyLDM2XSw4MTpbMiwzNl0sODI6WzIsMzZdLDgzOlsyLDM2XSw4NDpbMiwzNl0sODU6WzIsMzZdfSx7MjM6WzIsMzddLDMzOlsyLDM3XSw1NDpbMiwzN10sNjU6WzIsMzddLDY4OlsyLDM3XSw3MjpbMiwzN10sNzU6WzIsMzddLDgwOlsyLDM3XSw4MTpbMiwzN10sODI6WzIsMzddLDgzOlsyLDM3XSw4NDpbMiwzN10sODU6WzIsMzddfSx7MjM6WzIsMzhdLDMzOlsyLDM4XSw1NDpbMiwzOF0sNjU6WzIsMzhdLDY4OlsyLDM4XSw3MjpbMiwzOF0sNzU6WzIsMzhdLDgwOlsyLDM4XSw4MTpbMiwzOF0sODI6WzIsMzhdLDgzOlsyLDM4XSw4NDpbMiwzOF0sODU6WzIsMzhdfSx7MjM6WzIsMzldLDMzOlsyLDM5XSw1NDpbMiwzOV0sNjU6WzIsMzldLDY4OlsyLDM5XSw3MjpbMiwzOV0sNzU6WzIsMzldLDgwOlsyLDM5XSw4MTpbMiwzOV0sODI6WzIsMzldLDgzOlsyLDM5XSw4NDpbMiwzOV0sODU6WzIsMzldfSx7MjM6WzIsNDNdLDMzOlsyLDQzXSw1NDpbMiw0M10sNjU6WzIsNDNdLDY4OlsyLDQzXSw3MjpbMiw0M10sNzU6WzIsNDNdLDgwOlsyLDQzXSw4MTpbMiw0M10sODI6WzIsNDNdLDgzOlsyLDQzXSw4NDpbMiw0M10sODU6WzIsNDNdLDg3OlsxLDUwXX0sezcyOlsxLDM1XSw4Njo1MX0sezIzOlsyLDQ1XSwzMzpbMiw0NV0sNTQ6WzIsNDVdLDY1OlsyLDQ1XSw2ODpbMiw0NV0sNzI6WzIsNDVdLDc1OlsyLDQ1XSw4MDpbMiw0NV0sODE6WzIsNDVdLDgyOlsyLDQ1XSw4MzpbMiw0NV0sODQ6WzIsNDVdLDg1OlsyLDQ1XSw4NzpbMiw0NV19LHs1Mjo1Miw1NDpbMiw4Ml0sNjU6WzIsODJdLDcyOlsyLDgyXSw4MDpbMiw4Ml0sODE6WzIsODJdLDgyOlsyLDgyXSw4MzpbMiw4Ml0sODQ6WzIsODJdLDg1OlsyLDgyXX0sezI1OjUzLDM4OjU1LDM5OlsxLDU3XSw0Mzo1Niw0NDpbMSw1OF0sNDU6NTQsNDc6WzIsNTRdfSx7Mjg6NTksNDM6NjAsNDQ6WzEsNThdLDQ3OlsyLDU2XX0sezEzOjYyLDE1OlsxLDIwXSwxODpbMSw2MV19LHszMzpbMiw4Nl0sNTc6NjMsNjU6WzIsODZdLDcyOlsyLDg2XSw4MDpbMiw4Nl0sODE6WzIsODZdLDgyOlsyLDg2XSw4MzpbMiw4Nl0sODQ6WzIsODZdLDg1OlsyLDg2XX0sezMzOlsyLDQwXSw2NTpbMiw0MF0sNzI6WzIsNDBdLDgwOlsyLDQwXSw4MTpbMiw0MF0sODI6WzIsNDBdLDgzOlsyLDQwXSw4NDpbMiw0MF0sODU6WzIsNDBdfSx7MzM6WzIsNDFdLDY1OlsyLDQxXSw3MjpbMiw0MV0sODA6WzIsNDFdLDgxOlsyLDQxXSw4MjpbMiw0MV0sODM6WzIsNDFdLDg0OlsyLDQxXSw4NTpbMiw0MV19LHsyMDo2NCw3MjpbMSwzNV0sNzg6MjYsNzk6MjcsODA6WzEsMjhdLDgxOlsxLDI5XSw4MjpbMSwzMF0sODM6WzEsMzFdLDg0OlsxLDMyXSw4NTpbMSwzNF0sODY6MzN9LHsyNjo2NSw0NzpbMSw2Nl19LHszMDo2NywzMzpbMiw1OF0sNjU6WzIsNThdLDcyOlsyLDU4XSw3NTpbMiw1OF0sODA6WzIsNThdLDgxOlsyLDU4XSw4MjpbMiw1OF0sODM6WzIsNThdLDg0OlsyLDU4XSw4NTpbMiw1OF19LHszMzpbMiw2NF0sMzU6NjgsNjU6WzIsNjRdLDcyOlsyLDY0XSw3NTpbMiw2NF0sODA6WzIsNjRdLDgxOlsyLDY0XSw4MjpbMiw2NF0sODM6WzIsNjRdLDg0OlsyLDY0XSw4NTpbMiw2NF19LHsyMTo2OSwyMzpbMiw1MF0sNjU6WzIsNTBdLDcyOlsyLDUwXSw4MDpbMiw1MF0sODE6WzIsNTBdLDgyOlsyLDUwXSw4MzpbMiw1MF0sODQ6WzIsNTBdLDg1OlsyLDUwXX0sezMzOlsyLDkwXSw2MTo3MCw2NTpbMiw5MF0sNzI6WzIsOTBdLDgwOlsyLDkwXSw4MTpbMiw5MF0sODI6WzIsOTBdLDgzOlsyLDkwXSw4NDpbMiw5MF0sODU6WzIsOTBdfSx7MjA6NzQsMzM6WzIsODBdLDUwOjcxLDYzOjcyLDY0Ojc1LDY1OlsxLDQzXSw2OTo3Myw3MDo3Niw3MTo3Nyw3MjpbMSw3OF0sNzg6MjYsNzk6MjcsODA6WzEsMjhdLDgxOlsxLDI5XSw4MjpbMSwzMF0sODM6WzEsMzFdLDg0OlsxLDMyXSw4NTpbMSwzNF0sODY6MzN9LHs3MjpbMSw3OV19LHsyMzpbMiw0Ml0sMzM6WzIsNDJdLDU0OlsyLDQyXSw2NTpbMiw0Ml0sNjg6WzIsNDJdLDcyOlsyLDQyXSw3NTpbMiw0Ml0sODA6WzIsNDJdLDgxOlsyLDQyXSw4MjpbMiw0Ml0sODM6WzIsNDJdLDg0OlsyLDQyXSw4NTpbMiw0Ml0sODc6WzEsNTBdfSx7MjA6NzQsNTM6ODAsNTQ6WzIsODRdLDYzOjgxLDY0Ojc1LDY1OlsxLDQzXSw2OTo4Miw3MDo3Niw3MTo3Nyw3MjpbMSw3OF0sNzg6MjYsNzk6MjcsODA6WzEsMjhdLDgxOlsxLDI5XSw4MjpbMSwzMF0sODM6WzEsMzFdLDg0OlsxLDMyXSw4NTpbMSwzNF0sODY6MzN9LHsyNjo4Myw0NzpbMSw2Nl19LHs0NzpbMiw1NV19LHs0Ojg0LDY6MywxNDpbMiw0Nl0sMTU6WzIsNDZdLDE5OlsyLDQ2XSwyOTpbMiw0Nl0sMzQ6WzIsNDZdLDM5OlsyLDQ2XSw0NDpbMiw0Nl0sNDc6WzIsNDZdLDQ4OlsyLDQ2XSw1MTpbMiw0Nl0sNTU6WzIsNDZdLDYwOlsyLDQ2XX0sezQ3OlsyLDIwXX0sezIwOjg1LDcyOlsxLDM1XSw3ODoyNiw3OToyNyw4MDpbMSwyOF0sODE6WzEsMjldLDgyOlsxLDMwXSw4MzpbMSwzMV0sODQ6WzEsMzJdLDg1OlsxLDM0XSw4NjozM30sezQ6ODYsNjozLDE0OlsyLDQ2XSwxNTpbMiw0Nl0sMTk6WzIsNDZdLDI5OlsyLDQ2XSwzNDpbMiw0Nl0sNDc6WzIsNDZdLDQ4OlsyLDQ2XSw1MTpbMiw0Nl0sNTU6WzIsNDZdLDYwOlsyLDQ2XX0sezI2Ojg3LDQ3OlsxLDY2XX0sezQ3OlsyLDU3XX0sezU6WzIsMTFdLDE0OlsyLDExXSwxNTpbMiwxMV0sMTk6WzIsMTFdLDI5OlsyLDExXSwzNDpbMiwxMV0sMzk6WzIsMTFdLDQ0OlsyLDExXSw0NzpbMiwxMV0sNDg6WzIsMTFdLDUxOlsyLDExXSw1NTpbMiwxMV0sNjA6WzIsMTFdfSx7MTU6WzIsNDldLDE4OlsyLDQ5XX0sezIwOjc0LDMzOlsyLDg4XSw1ODo4OCw2Mzo4OSw2NDo3NSw2NTpbMSw0M10sNjk6OTAsNzA6NzYsNzE6NzcsNzI6WzEsNzhdLDc4OjI2LDc5OjI3LDgwOlsxLDI4XSw4MTpbMSwyOV0sODI6WzEsMzBdLDgzOlsxLDMxXSw4NDpbMSwzMl0sODU6WzEsMzRdLDg2OjMzfSx7NjU6WzIsOTRdLDY2OjkxLDY4OlsyLDk0XSw3MjpbMiw5NF0sODA6WzIsOTRdLDgxOlsyLDk0XSw4MjpbMiw5NF0sODM6WzIsOTRdLDg0OlsyLDk0XSw4NTpbMiw5NF19LHs1OlsyLDI1XSwxNDpbMiwyNV0sMTU6WzIsMjVdLDE5OlsyLDI1XSwyOTpbMiwyNV0sMzQ6WzIsMjVdLDM5OlsyLDI1XSw0NDpbMiwyNV0sNDc6WzIsMjVdLDQ4OlsyLDI1XSw1MTpbMiwyNV0sNTU6WzIsMjVdLDYwOlsyLDI1XX0sezIwOjkyLDcyOlsxLDM1XSw3ODoyNiw3OToyNyw4MDpbMSwyOF0sODE6WzEsMjldLDgyOlsxLDMwXSw4MzpbMSwzMV0sODQ6WzEsMzJdLDg1OlsxLDM0XSw4NjozM30sezIwOjc0LDMxOjkzLDMzOlsyLDYwXSw2Mzo5NCw2NDo3NSw2NTpbMSw0M10sNjk6OTUsNzA6NzYsNzE6NzcsNzI6WzEsNzhdLDc1OlsyLDYwXSw3ODoyNiw3OToyNyw4MDpbMSwyOF0sODE6WzEsMjldLDgyOlsxLDMwXSw4MzpbMSwzMV0sODQ6WzEsMzJdLDg1OlsxLDM0XSw4NjozM30sezIwOjc0LDMzOlsyLDY2XSwzNjo5Niw2Mzo5Nyw2NDo3NSw2NTpbMSw0M10sNjk6OTgsNzA6NzYsNzE6NzcsNzI6WzEsNzhdLDc1OlsyLDY2XSw3ODoyNiw3OToyNyw4MDpbMSwyOF0sODE6WzEsMjldLDgyOlsxLDMwXSw4MzpbMSwzMV0sODQ6WzEsMzJdLDg1OlsxLDM0XSw4NjozM30sezIwOjc0LDIyOjk5LDIzOlsyLDUyXSw2MzoxMDAsNjQ6NzUsNjU6WzEsNDNdLDY5OjEwMSw3MDo3Niw3MTo3Nyw3MjpbMSw3OF0sNzg6MjYsNzk6MjcsODA6WzEsMjhdLDgxOlsxLDI5XSw4MjpbMSwzMF0sODM6WzEsMzFdLDg0OlsxLDMyXSw4NTpbMSwzNF0sODY6MzN9LHsyMDo3NCwzMzpbMiw5Ml0sNjI6MTAyLDYzOjEwMyw2NDo3NSw2NTpbMSw0M10sNjk6MTA0LDcwOjc2LDcxOjc3LDcyOlsxLDc4XSw3ODoyNiw3OToyNyw4MDpbMSwyOF0sODE6WzEsMjldLDgyOlsxLDMwXSw4MzpbMSwzMV0sODQ6WzEsMzJdLDg1OlsxLDM0XSw4NjozM30sezMzOlsxLDEwNV19LHszMzpbMiw3OV0sNjU6WzIsNzldLDcyOlsyLDc5XSw4MDpbMiw3OV0sODE6WzIsNzldLDgyOlsyLDc5XSw4MzpbMiw3OV0sODQ6WzIsNzldLDg1OlsyLDc5XX0sezMzOlsyLDgxXX0sezIzOlsyLDI3XSwzMzpbMiwyN10sNTQ6WzIsMjddLDY1OlsyLDI3XSw2ODpbMiwyN10sNzI6WzIsMjddLDc1OlsyLDI3XSw4MDpbMiwyN10sODE6WzIsMjddLDgyOlsyLDI3XSw4MzpbMiwyN10sODQ6WzIsMjddLDg1OlsyLDI3XX0sezIzOlsyLDI4XSwzMzpbMiwyOF0sNTQ6WzIsMjhdLDY1OlsyLDI4XSw2ODpbMiwyOF0sNzI6WzIsMjhdLDc1OlsyLDI4XSw4MDpbMiwyOF0sODE6WzIsMjhdLDgyOlsyLDI4XSw4MzpbMiwyOF0sODQ6WzIsMjhdLDg1OlsyLDI4XX0sezIzOlsyLDMwXSwzMzpbMiwzMF0sNTQ6WzIsMzBdLDY4OlsyLDMwXSw3MToxMDYsNzI6WzEsMTA3XSw3NTpbMiwzMF19LHsyMzpbMiw5OF0sMzM6WzIsOThdLDU0OlsyLDk4XSw2ODpbMiw5OF0sNzI6WzIsOThdLDc1OlsyLDk4XX0sezIzOlsyLDQ1XSwzMzpbMiw0NV0sNTQ6WzIsNDVdLDY1OlsyLDQ1XSw2ODpbMiw0NV0sNzI6WzIsNDVdLDczOlsxLDEwOF0sNzU6WzIsNDVdLDgwOlsyLDQ1XSw4MTpbMiw0NV0sODI6WzIsNDVdLDgzOlsyLDQ1XSw4NDpbMiw0NV0sODU6WzIsNDVdLDg3OlsyLDQ1XX0sezIzOlsyLDQ0XSwzMzpbMiw0NF0sNTQ6WzIsNDRdLDY1OlsyLDQ0XSw2ODpbMiw0NF0sNzI6WzIsNDRdLDc1OlsyLDQ0XSw4MDpbMiw0NF0sODE6WzIsNDRdLDgyOlsyLDQ0XSw4MzpbMiw0NF0sODQ6WzIsNDRdLDg1OlsyLDQ0XSw4NzpbMiw0NF19LHs1NDpbMSwxMDldfSx7NTQ6WzIsODNdLDY1OlsyLDgzXSw3MjpbMiw4M10sODA6WzIsODNdLDgxOlsyLDgzXSw4MjpbMiw4M10sODM6WzIsODNdLDg0OlsyLDgzXSw4NTpbMiw4M119LHs1NDpbMiw4NV19LHs1OlsyLDEzXSwxNDpbMiwxM10sMTU6WzIsMTNdLDE5OlsyLDEzXSwyOTpbMiwxM10sMzQ6WzIsMTNdLDM5OlsyLDEzXSw0NDpbMiwxM10sNDc6WzIsMTNdLDQ4OlsyLDEzXSw1MTpbMiwxM10sNTU6WzIsMTNdLDYwOlsyLDEzXX0sezM4OjU1LDM5OlsxLDU3XSw0Mzo1Niw0NDpbMSw1OF0sNDU6MTExLDQ2OjExMCw0NzpbMiw3Nl19LHszMzpbMiw3MF0sNDA6MTEyLDY1OlsyLDcwXSw3MjpbMiw3MF0sNzU6WzIsNzBdLDgwOlsyLDcwXSw4MTpbMiw3MF0sODI6WzIsNzBdLDgzOlsyLDcwXSw4NDpbMiw3MF0sODU6WzIsNzBdfSx7NDc6WzIsMThdfSx7NTpbMiwxNF0sMTQ6WzIsMTRdLDE1OlsyLDE0XSwxOTpbMiwxNF0sMjk6WzIsMTRdLDM0OlsyLDE0XSwzOTpbMiwxNF0sNDQ6WzIsMTRdLDQ3OlsyLDE0XSw0ODpbMiwxNF0sNTE6WzIsMTRdLDU1OlsyLDE0XSw2MDpbMiwxNF19LHszMzpbMSwxMTNdfSx7MzM6WzIsODddLDY1OlsyLDg3XSw3MjpbMiw4N10sODA6WzIsODddLDgxOlsyLDg3XSw4MjpbMiw4N10sODM6WzIsODddLDg0OlsyLDg3XSw4NTpbMiw4N119LHszMzpbMiw4OV19LHsyMDo3NCw2MzoxMTUsNjQ6NzUsNjU6WzEsNDNdLDY3OjExNCw2ODpbMiw5Nl0sNjk6MTE2LDcwOjc2LDcxOjc3LDcyOlsxLDc4XSw3ODoyNiw3OToyNyw4MDpbMSwyOF0sODE6WzEsMjldLDgyOlsxLDMwXSw4MzpbMSwzMV0sODQ6WzEsMzJdLDg1OlsxLDM0XSw4NjozM30sezMzOlsxLDExN119LHszMjoxMTgsMzM6WzIsNjJdLDc0OjExOSw3NTpbMSwxMjBdfSx7MzM6WzIsNTldLDY1OlsyLDU5XSw3MjpbMiw1OV0sNzU6WzIsNTldLDgwOlsyLDU5XSw4MTpbMiw1OV0sODI6WzIsNTldLDgzOlsyLDU5XSw4NDpbMiw1OV0sODU6WzIsNTldfSx7MzM6WzIsNjFdLDc1OlsyLDYxXX0sezMzOlsyLDY4XSwzNzoxMjEsNzQ6MTIyLDc1OlsxLDEyMF19LHszMzpbMiw2NV0sNjU6WzIsNjVdLDcyOlsyLDY1XSw3NTpbMiw2NV0sODA6WzIsNjVdLDgxOlsyLDY1XSw4MjpbMiw2NV0sODM6WzIsNjVdLDg0OlsyLDY1XSw4NTpbMiw2NV19LHszMzpbMiw2N10sNzU6WzIsNjddfSx7MjM6WzEsMTIzXX0sezIzOlsyLDUxXSw2NTpbMiw1MV0sNzI6WzIsNTFdLDgwOlsyLDUxXSw4MTpbMiw1MV0sODI6WzIsNTFdLDgzOlsyLDUxXSw4NDpbMiw1MV0sODU6WzIsNTFdfSx7MjM6WzIsNTNdfSx7MzM6WzEsMTI0XX0sezMzOlsyLDkxXSw2NTpbMiw5MV0sNzI6WzIsOTFdLDgwOlsyLDkxXSw4MTpbMiw5MV0sODI6WzIsOTFdLDgzOlsyLDkxXSw4NDpbMiw5MV0sODU6WzIsOTFdfSx7MzM6WzIsOTNdfSx7NTpbMiwyMl0sMTQ6WzIsMjJdLDE1OlsyLDIyXSwxOTpbMiwyMl0sMjk6WzIsMjJdLDM0OlsyLDIyXSwzOTpbMiwyMl0sNDQ6WzIsMjJdLDQ3OlsyLDIyXSw0ODpbMiwyMl0sNTE6WzIsMjJdLDU1OlsyLDIyXSw2MDpbMiwyMl19LHsyMzpbMiw5OV0sMzM6WzIsOTldLDU0OlsyLDk5XSw2ODpbMiw5OV0sNzI6WzIsOTldLDc1OlsyLDk5XX0sezczOlsxLDEwOF19LHsyMDo3NCw2MzoxMjUsNjQ6NzUsNjU6WzEsNDNdLDcyOlsxLDM1XSw3ODoyNiw3OToyNyw4MDpbMSwyOF0sODE6WzEsMjldLDgyOlsxLDMwXSw4MzpbMSwzMV0sODQ6WzEsMzJdLDg1OlsxLDM0XSw4NjozM30sezU6WzIsMjNdLDE0OlsyLDIzXSwxNTpbMiwyM10sMTk6WzIsMjNdLDI5OlsyLDIzXSwzNDpbMiwyM10sMzk6WzIsMjNdLDQ0OlsyLDIzXSw0NzpbMiwyM10sNDg6WzIsMjNdLDUxOlsyLDIzXSw1NTpbMiwyM10sNjA6WzIsMjNdfSx7NDc6WzIsMTldfSx7NDc6WzIsNzddfSx7MjA6NzQsMzM6WzIsNzJdLDQxOjEyNiw2MzoxMjcsNjQ6NzUsNjU6WzEsNDNdLDY5OjEyOCw3MDo3Niw3MTo3Nyw3MjpbMSw3OF0sNzU6WzIsNzJdLDc4OjI2LDc5OjI3LDgwOlsxLDI4XSw4MTpbMSwyOV0sODI6WzEsMzBdLDgzOlsxLDMxXSw4NDpbMSwzMl0sODU6WzEsMzRdLDg2OjMzfSx7NTpbMiwyNF0sMTQ6WzIsMjRdLDE1OlsyLDI0XSwxOTpbMiwyNF0sMjk6WzIsMjRdLDM0OlsyLDI0XSwzOTpbMiwyNF0sNDQ6WzIsMjRdLDQ3OlsyLDI0XSw0ODpbMiwyNF0sNTE6WzIsMjRdLDU1OlsyLDI0XSw2MDpbMiwyNF19LHs2ODpbMSwxMjldfSx7NjU6WzIsOTVdLDY4OlsyLDk1XSw3MjpbMiw5NV0sODA6WzIsOTVdLDgxOlsyLDk1XSw4MjpbMiw5NV0sODM6WzIsOTVdLDg0OlsyLDk1XSw4NTpbMiw5NV19LHs2ODpbMiw5N119LHs1OlsyLDIxXSwxNDpbMiwyMV0sMTU6WzIsMjFdLDE5OlsyLDIxXSwyOTpbMiwyMV0sMzQ6WzIsMjFdLDM5OlsyLDIxXSw0NDpbMiwyMV0sNDc6WzIsMjFdLDQ4OlsyLDIxXSw1MTpbMiwyMV0sNTU6WzIsMjFdLDYwOlsyLDIxXX0sezMzOlsxLDEzMF19LHszMzpbMiw2M119LHs3MjpbMSwxMzJdLDc2OjEzMX0sezMzOlsxLDEzM119LHszMzpbMiw2OV19LHsxNTpbMiwxMl0sMTg6WzIsMTJdfSx7MTQ6WzIsMjZdLDE1OlsyLDI2XSwxOTpbMiwyNl0sMjk6WzIsMjZdLDM0OlsyLDI2XSw0NzpbMiwyNl0sNDg6WzIsMjZdLDUxOlsyLDI2XSw1NTpbMiwyNl0sNjA6WzIsMjZdfSx7MjM6WzIsMzFdLDMzOlsyLDMxXSw1NDpbMiwzMV0sNjg6WzIsMzFdLDcyOlsyLDMxXSw3NTpbMiwzMV19LHszMzpbMiw3NF0sNDI6MTM0LDc0OjEzNSw3NTpbMSwxMjBdfSx7MzM6WzIsNzFdLDY1OlsyLDcxXSw3MjpbMiw3MV0sNzU6WzIsNzFdLDgwOlsyLDcxXSw4MTpbMiw3MV0sODI6WzIsNzFdLDgzOlsyLDcxXSw4NDpbMiw3MV0sODU6WzIsNzFdfSx7MzM6WzIsNzNdLDc1OlsyLDczXX0sezIzOlsyLDI5XSwzMzpbMiwyOV0sNTQ6WzIsMjldLDY1OlsyLDI5XSw2ODpbMiwyOV0sNzI6WzIsMjldLDc1OlsyLDI5XSw4MDpbMiwyOV0sODE6WzIsMjldLDgyOlsyLDI5XSw4MzpbMiwyOV0sODQ6WzIsMjldLDg1OlsyLDI5XX0sezE0OlsyLDE1XSwxNTpbMiwxNV0sMTk6WzIsMTVdLDI5OlsyLDE1XSwzNDpbMiwxNV0sMzk6WzIsMTVdLDQ0OlsyLDE1XSw0NzpbMiwxNV0sNDg6WzIsMTVdLDUxOlsyLDE1XSw1NTpbMiwxNV0sNjA6WzIsMTVdfSx7NzI6WzEsMTM3XSw3NzpbMSwxMzZdfSx7NzI6WzIsMTAwXSw3NzpbMiwxMDBdfSx7MTQ6WzIsMTZdLDE1OlsyLDE2XSwxOTpbMiwxNl0sMjk6WzIsMTZdLDM0OlsyLDE2XSw0NDpbMiwxNl0sNDc6WzIsMTZdLDQ4OlsyLDE2XSw1MTpbMiwxNl0sNTU6WzIsMTZdLDYwOlsyLDE2XX0sezMzOlsxLDEzOF19LHszMzpbMiw3NV19LHszMzpbMiwzMl19LHs3MjpbMiwxMDFdLDc3OlsyLDEwMV19LHsxNDpbMiwxN10sMTU6WzIsMTddLDE5OlsyLDE3XSwyOTpbMiwxN10sMzQ6WzIsMTddLDM5OlsyLDE3XSw0NDpbMiwxN10sNDc6WzIsMTddLDQ4OlsyLDE3XSw1MTpbMiwxN10sNTU6WzIsMTddLDYwOlsyLDE3XX1dLFxuZGVmYXVsdEFjdGlvbnM6IHs0OlsyLDFdLDU0OlsyLDU1XSw1NjpbMiwyMF0sNjA6WzIsNTddLDczOlsyLDgxXSw4MjpbMiw4NV0sODY6WzIsMThdLDkwOlsyLDg5XSwxMDE6WzIsNTNdLDEwNDpbMiw5M10sMTEwOlsyLDE5XSwxMTE6WzIsNzddLDExNjpbMiw5N10sMTE5OlsyLDYzXSwxMjI6WzIsNjldLDEzNTpbMiw3NV0sMTM2OlsyLDMyXX0sXG5wYXJzZUVycm9yOiBmdW5jdGlvbiBwYXJzZUVycm9yIChzdHIsIGhhc2gpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3Ioc3RyKTtcbn0sXG5wYXJzZTogZnVuY3Rpb24gcGFyc2UoaW5wdXQpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXMsIHN0YWNrID0gWzBdLCB2c3RhY2sgPSBbbnVsbF0sIGxzdGFjayA9IFtdLCB0YWJsZSA9IHRoaXMudGFibGUsIHl5dGV4dCA9IFwiXCIsIHl5bGluZW5vID0gMCwgeXlsZW5nID0gMCwgcmVjb3ZlcmluZyA9IDAsIFRFUlJPUiA9IDIsIEVPRiA9IDE7XG4gICAgdGhpcy5sZXhlci5zZXRJbnB1dChpbnB1dCk7XG4gICAgdGhpcy5sZXhlci55eSA9IHRoaXMueXk7XG4gICAgdGhpcy55eS5sZXhlciA9IHRoaXMubGV4ZXI7XG4gICAgdGhpcy55eS5wYXJzZXIgPSB0aGlzO1xuICAgIGlmICh0eXBlb2YgdGhpcy5sZXhlci55eWxsb2MgPT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgdGhpcy5sZXhlci55eWxsb2MgPSB7fTtcbiAgICB2YXIgeXlsb2MgPSB0aGlzLmxleGVyLnl5bGxvYztcbiAgICBsc3RhY2sucHVzaCh5eWxvYyk7XG4gICAgdmFyIHJhbmdlcyA9IHRoaXMubGV4ZXIub3B0aW9ucyAmJiB0aGlzLmxleGVyLm9wdGlvbnMucmFuZ2VzO1xuICAgIGlmICh0eXBlb2YgdGhpcy55eS5wYXJzZUVycm9yID09PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgIHRoaXMucGFyc2VFcnJvciA9IHRoaXMueXkucGFyc2VFcnJvcjtcbiAgICBmdW5jdGlvbiBwb3BTdGFjayhuKSB7XG4gICAgICAgIHN0YWNrLmxlbmd0aCA9IHN0YWNrLmxlbmd0aCAtIDIgKiBuO1xuICAgICAgICB2c3RhY2subGVuZ3RoID0gdnN0YWNrLmxlbmd0aCAtIG47XG4gICAgICAgIGxzdGFjay5sZW5ndGggPSBsc3RhY2subGVuZ3RoIC0gbjtcbiAgICB9XG4gICAgZnVuY3Rpb24gbGV4KCkge1xuICAgICAgICB2YXIgdG9rZW47XG4gICAgICAgIHRva2VuID0gc2VsZi5sZXhlci5sZXgoKSB8fCAxO1xuICAgICAgICBpZiAodHlwZW9mIHRva2VuICE9PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICB0b2tlbiA9IHNlbGYuc3ltYm9sc19bdG9rZW5dIHx8IHRva2VuO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0b2tlbjtcbiAgICB9XG4gICAgdmFyIHN5bWJvbCwgcHJlRXJyb3JTeW1ib2wsIHN0YXRlLCBhY3Rpb24sIGEsIHIsIHl5dmFsID0ge30sIHAsIGxlbiwgbmV3U3RhdGUsIGV4cGVjdGVkO1xuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIHN0YXRlID0gc3RhY2tbc3RhY2subGVuZ3RoIC0gMV07XG4gICAgICAgIGlmICh0aGlzLmRlZmF1bHRBY3Rpb25zW3N0YXRlXSkge1xuICAgICAgICAgICAgYWN0aW9uID0gdGhpcy5kZWZhdWx0QWN0aW9uc1tzdGF0ZV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoc3ltYm9sID09PSBudWxsIHx8IHR5cGVvZiBzeW1ib2wgPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgICAgIHN5bWJvbCA9IGxleCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYWN0aW9uID0gdGFibGVbc3RhdGVdICYmIHRhYmxlW3N0YXRlXVtzeW1ib2xdO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgYWN0aW9uID09PSBcInVuZGVmaW5lZFwiIHx8ICFhY3Rpb24ubGVuZ3RoIHx8ICFhY3Rpb25bMF0pIHtcbiAgICAgICAgICAgIHZhciBlcnJTdHIgPSBcIlwiO1xuICAgICAgICAgICAgaWYgKCFyZWNvdmVyaW5nKSB7XG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQgPSBbXTtcbiAgICAgICAgICAgICAgICBmb3IgKHAgaW4gdGFibGVbc3RhdGVdKVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy50ZXJtaW5hbHNfW3BdICYmIHAgPiAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBleHBlY3RlZC5wdXNoKFwiJ1wiICsgdGhpcy50ZXJtaW5hbHNfW3BdICsgXCInXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubGV4ZXIuc2hvd1Bvc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGVyclN0ciA9IFwiUGFyc2UgZXJyb3Igb24gbGluZSBcIiArICh5eWxpbmVubyArIDEpICsgXCI6XFxuXCIgKyB0aGlzLmxleGVyLnNob3dQb3NpdGlvbigpICsgXCJcXG5FeHBlY3RpbmcgXCIgKyBleHBlY3RlZC5qb2luKFwiLCBcIikgKyBcIiwgZ290ICdcIiArICh0aGlzLnRlcm1pbmFsc19bc3ltYm9sXSB8fCBzeW1ib2wpICsgXCInXCI7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZXJyU3RyID0gXCJQYXJzZSBlcnJvciBvbiBsaW5lIFwiICsgKHl5bGluZW5vICsgMSkgKyBcIjogVW5leHBlY3RlZCBcIiArIChzeW1ib2wgPT0gMT9cImVuZCBvZiBpbnB1dFwiOlwiJ1wiICsgKHRoaXMudGVybWluYWxzX1tzeW1ib2xdIHx8IHN5bWJvbCkgKyBcIidcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMucGFyc2VFcnJvcihlcnJTdHIsIHt0ZXh0OiB0aGlzLmxleGVyLm1hdGNoLCB0b2tlbjogdGhpcy50ZXJtaW5hbHNfW3N5bWJvbF0gfHwgc3ltYm9sLCBsaW5lOiB0aGlzLmxleGVyLnl5bGluZW5vLCBsb2M6IHl5bG9jLCBleHBlY3RlZDogZXhwZWN0ZWR9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoYWN0aW9uWzBdIGluc3RhbmNlb2YgQXJyYXkgJiYgYWN0aW9uLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlBhcnNlIEVycm9yOiBtdWx0aXBsZSBhY3Rpb25zIHBvc3NpYmxlIGF0IHN0YXRlOiBcIiArIHN0YXRlICsgXCIsIHRva2VuOiBcIiArIHN5bWJvbCk7XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoIChhY3Rpb25bMF0pIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgc3RhY2sucHVzaChzeW1ib2wpO1xuICAgICAgICAgICAgdnN0YWNrLnB1c2godGhpcy5sZXhlci55eXRleHQpO1xuICAgICAgICAgICAgbHN0YWNrLnB1c2godGhpcy5sZXhlci55eWxsb2MpO1xuICAgICAgICAgICAgc3RhY2sucHVzaChhY3Rpb25bMV0pO1xuICAgICAgICAgICAgc3ltYm9sID0gbnVsbDtcbiAgICAgICAgICAgIGlmICghcHJlRXJyb3JTeW1ib2wpIHtcbiAgICAgICAgICAgICAgICB5eWxlbmcgPSB0aGlzLmxleGVyLnl5bGVuZztcbiAgICAgICAgICAgICAgICB5eXRleHQgPSB0aGlzLmxleGVyLnl5dGV4dDtcbiAgICAgICAgICAgICAgICB5eWxpbmVubyA9IHRoaXMubGV4ZXIueXlsaW5lbm87XG4gICAgICAgICAgICAgICAgeXlsb2MgPSB0aGlzLmxleGVyLnl5bGxvYztcbiAgICAgICAgICAgICAgICBpZiAocmVjb3ZlcmluZyA+IDApXG4gICAgICAgICAgICAgICAgICAgIHJlY292ZXJpbmctLTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc3ltYm9sID0gcHJlRXJyb3JTeW1ib2w7XG4gICAgICAgICAgICAgICAgcHJlRXJyb3JTeW1ib2wgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIGxlbiA9IHRoaXMucHJvZHVjdGlvbnNfW2FjdGlvblsxXV1bMV07XG4gICAgICAgICAgICB5eXZhbC4kID0gdnN0YWNrW3ZzdGFjay5sZW5ndGggLSBsZW5dO1xuICAgICAgICAgICAgeXl2YWwuXyQgPSB7Zmlyc3RfbGluZTogbHN0YWNrW2xzdGFjay5sZW5ndGggLSAobGVuIHx8IDEpXS5maXJzdF9saW5lLCBsYXN0X2xpbmU6IGxzdGFja1tsc3RhY2subGVuZ3RoIC0gMV0ubGFzdF9saW5lLCBmaXJzdF9jb2x1bW46IGxzdGFja1tsc3RhY2subGVuZ3RoIC0gKGxlbiB8fCAxKV0uZmlyc3RfY29sdW1uLCBsYXN0X2NvbHVtbjogbHN0YWNrW2xzdGFjay5sZW5ndGggLSAxXS5sYXN0X2NvbHVtbn07XG4gICAgICAgICAgICBpZiAocmFuZ2VzKSB7XG4gICAgICAgICAgICAgICAgeXl2YWwuXyQucmFuZ2UgPSBbbHN0YWNrW2xzdGFjay5sZW5ndGggLSAobGVuIHx8IDEpXS5yYW5nZVswXSwgbHN0YWNrW2xzdGFjay5sZW5ndGggLSAxXS5yYW5nZVsxXV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByID0gdGhpcy5wZXJmb3JtQWN0aW9uLmNhbGwoeXl2YWwsIHl5dGV4dCwgeXlsZW5nLCB5eWxpbmVubywgdGhpcy55eSwgYWN0aW9uWzFdLCB2c3RhY2ssIGxzdGFjayk7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHIgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChsZW4pIHtcbiAgICAgICAgICAgICAgICBzdGFjayA9IHN0YWNrLnNsaWNlKDAsIC0xICogbGVuICogMik7XG4gICAgICAgICAgICAgICAgdnN0YWNrID0gdnN0YWNrLnNsaWNlKDAsIC0xICogbGVuKTtcbiAgICAgICAgICAgICAgICBsc3RhY2sgPSBsc3RhY2suc2xpY2UoMCwgLTEgKiBsZW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RhY2sucHVzaCh0aGlzLnByb2R1Y3Rpb25zX1thY3Rpb25bMV1dWzBdKTtcbiAgICAgICAgICAgIHZzdGFjay5wdXNoKHl5dmFsLiQpO1xuICAgICAgICAgICAgbHN0YWNrLnB1c2goeXl2YWwuXyQpO1xuICAgICAgICAgICAgbmV3U3RhdGUgPSB0YWJsZVtzdGFja1tzdGFjay5sZW5ndGggLSAyXV1bc3RhY2tbc3RhY2subGVuZ3RoIC0gMV1dO1xuICAgICAgICAgICAgc3RhY2sucHVzaChuZXdTdGF0ZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG59O1xuLyogSmlzb24gZ2VuZXJhdGVkIGxleGVyICovXG52YXIgbGV4ZXIgPSAoZnVuY3Rpb24oKXtcbnZhciBsZXhlciA9ICh7RU9GOjEsXG5wYXJzZUVycm9yOmZ1bmN0aW9uIHBhcnNlRXJyb3Ioc3RyLCBoYXNoKSB7XG4gICAgICAgIGlmICh0aGlzLnl5LnBhcnNlcikge1xuICAgICAgICAgICAgdGhpcy55eS5wYXJzZXIucGFyc2VFcnJvcihzdHIsIGhhc2gpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHN0cik7XG4gICAgICAgIH1cbiAgICB9LFxuc2V0SW5wdXQ6ZnVuY3Rpb24gKGlucHV0KSB7XG4gICAgICAgIHRoaXMuX2lucHV0ID0gaW5wdXQ7XG4gICAgICAgIHRoaXMuX21vcmUgPSB0aGlzLl9sZXNzID0gdGhpcy5kb25lID0gZmFsc2U7XG4gICAgICAgIHRoaXMueXlsaW5lbm8gPSB0aGlzLnl5bGVuZyA9IDA7XG4gICAgICAgIHRoaXMueXl0ZXh0ID0gdGhpcy5tYXRjaGVkID0gdGhpcy5tYXRjaCA9ICcnO1xuICAgICAgICB0aGlzLmNvbmRpdGlvblN0YWNrID0gWydJTklUSUFMJ107XG4gICAgICAgIHRoaXMueXlsbG9jID0ge2ZpcnN0X2xpbmU6MSxmaXJzdF9jb2x1bW46MCxsYXN0X2xpbmU6MSxsYXN0X2NvbHVtbjowfTtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5yYW5nZXMpIHRoaXMueXlsbG9jLnJhbmdlID0gWzAsMF07XG4gICAgICAgIHRoaXMub2Zmc2V0ID0gMDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbmlucHV0OmZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNoID0gdGhpcy5faW5wdXRbMF07XG4gICAgICAgIHRoaXMueXl0ZXh0ICs9IGNoO1xuICAgICAgICB0aGlzLnl5bGVuZysrO1xuICAgICAgICB0aGlzLm9mZnNldCsrO1xuICAgICAgICB0aGlzLm1hdGNoICs9IGNoO1xuICAgICAgICB0aGlzLm1hdGNoZWQgKz0gY2g7XG4gICAgICAgIHZhciBsaW5lcyA9IGNoLm1hdGNoKC8oPzpcXHJcXG4/fFxcbikuKi9nKTtcbiAgICAgICAgaWYgKGxpbmVzKSB7XG4gICAgICAgICAgICB0aGlzLnl5bGluZW5vKys7XG4gICAgICAgICAgICB0aGlzLnl5bGxvYy5sYXN0X2xpbmUrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMueXlsbG9jLmxhc3RfY29sdW1uKys7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5yYW5nZXMpIHRoaXMueXlsbG9jLnJhbmdlWzFdKys7XG5cbiAgICAgICAgdGhpcy5faW5wdXQgPSB0aGlzLl9pbnB1dC5zbGljZSgxKTtcbiAgICAgICAgcmV0dXJuIGNoO1xuICAgIH0sXG51bnB1dDpmdW5jdGlvbiAoY2gpIHtcbiAgICAgICAgdmFyIGxlbiA9IGNoLmxlbmd0aDtcbiAgICAgICAgdmFyIGxpbmVzID0gY2guc3BsaXQoLyg/Olxcclxcbj98XFxuKS9nKTtcblxuICAgICAgICB0aGlzLl9pbnB1dCA9IGNoICsgdGhpcy5faW5wdXQ7XG4gICAgICAgIHRoaXMueXl0ZXh0ID0gdGhpcy55eXRleHQuc3Vic3RyKDAsIHRoaXMueXl0ZXh0Lmxlbmd0aC1sZW4tMSk7XG4gICAgICAgIC8vdGhpcy55eWxlbmcgLT0gbGVuO1xuICAgICAgICB0aGlzLm9mZnNldCAtPSBsZW47XG4gICAgICAgIHZhciBvbGRMaW5lcyA9IHRoaXMubWF0Y2guc3BsaXQoLyg/Olxcclxcbj98XFxuKS9nKTtcbiAgICAgICAgdGhpcy5tYXRjaCA9IHRoaXMubWF0Y2guc3Vic3RyKDAsIHRoaXMubWF0Y2gubGVuZ3RoLTEpO1xuICAgICAgICB0aGlzLm1hdGNoZWQgPSB0aGlzLm1hdGNoZWQuc3Vic3RyKDAsIHRoaXMubWF0Y2hlZC5sZW5ndGgtMSk7XG5cbiAgICAgICAgaWYgKGxpbmVzLmxlbmd0aC0xKSB0aGlzLnl5bGluZW5vIC09IGxpbmVzLmxlbmd0aC0xO1xuICAgICAgICB2YXIgciA9IHRoaXMueXlsbG9jLnJhbmdlO1xuXG4gICAgICAgIHRoaXMueXlsbG9jID0ge2ZpcnN0X2xpbmU6IHRoaXMueXlsbG9jLmZpcnN0X2xpbmUsXG4gICAgICAgICAgbGFzdF9saW5lOiB0aGlzLnl5bGluZW5vKzEsXG4gICAgICAgICAgZmlyc3RfY29sdW1uOiB0aGlzLnl5bGxvYy5maXJzdF9jb2x1bW4sXG4gICAgICAgICAgbGFzdF9jb2x1bW46IGxpbmVzID9cbiAgICAgICAgICAgICAgKGxpbmVzLmxlbmd0aCA9PT0gb2xkTGluZXMubGVuZ3RoID8gdGhpcy55eWxsb2MuZmlyc3RfY29sdW1uIDogMCkgKyBvbGRMaW5lc1tvbGRMaW5lcy5sZW5ndGggLSBsaW5lcy5sZW5ndGhdLmxlbmd0aCAtIGxpbmVzWzBdLmxlbmd0aDpcbiAgICAgICAgICAgICAgdGhpcy55eWxsb2MuZmlyc3RfY29sdW1uIC0gbGVuXG4gICAgICAgICAgfTtcblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnJhbmdlcykge1xuICAgICAgICAgICAgdGhpcy55eWxsb2MucmFuZ2UgPSBbclswXSwgclswXSArIHRoaXMueXlsZW5nIC0gbGVuXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxubW9yZTpmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX21vcmUgPSB0cnVlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxubGVzczpmdW5jdGlvbiAobikge1xuICAgICAgICB0aGlzLnVucHV0KHRoaXMubWF0Y2guc2xpY2UobikpO1xuICAgIH0sXG5wYXN0SW5wdXQ6ZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcGFzdCA9IHRoaXMubWF0Y2hlZC5zdWJzdHIoMCwgdGhpcy5tYXRjaGVkLmxlbmd0aCAtIHRoaXMubWF0Y2gubGVuZ3RoKTtcbiAgICAgICAgcmV0dXJuIChwYXN0Lmxlbmd0aCA+IDIwID8gJy4uLic6JycpICsgcGFzdC5zdWJzdHIoLTIwKS5yZXBsYWNlKC9cXG4vZywgXCJcIik7XG4gICAgfSxcbnVwY29taW5nSW5wdXQ6ZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbmV4dCA9IHRoaXMubWF0Y2g7XG4gICAgICAgIGlmIChuZXh0Lmxlbmd0aCA8IDIwKSB7XG4gICAgICAgICAgICBuZXh0ICs9IHRoaXMuX2lucHV0LnN1YnN0cigwLCAyMC1uZXh0Lmxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChuZXh0LnN1YnN0cigwLDIwKSsobmV4dC5sZW5ndGggPiAyMCA/ICcuLi4nOicnKSkucmVwbGFjZSgvXFxuL2csIFwiXCIpO1xuICAgIH0sXG5zaG93UG9zaXRpb246ZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcHJlID0gdGhpcy5wYXN0SW5wdXQoKTtcbiAgICAgICAgdmFyIGMgPSBuZXcgQXJyYXkocHJlLmxlbmd0aCArIDEpLmpvaW4oXCItXCIpO1xuICAgICAgICByZXR1cm4gcHJlICsgdGhpcy51cGNvbWluZ0lucHV0KCkgKyBcIlxcblwiICsgYytcIl5cIjtcbiAgICB9LFxubmV4dDpmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmRvbmUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLkVPRjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX2lucHV0KSB0aGlzLmRvbmUgPSB0cnVlO1xuXG4gICAgICAgIHZhciB0b2tlbixcbiAgICAgICAgICAgIG1hdGNoLFxuICAgICAgICAgICAgdGVtcE1hdGNoLFxuICAgICAgICAgICAgaW5kZXgsXG4gICAgICAgICAgICBjb2wsXG4gICAgICAgICAgICBsaW5lcztcbiAgICAgICAgaWYgKCF0aGlzLl9tb3JlKSB7XG4gICAgICAgICAgICB0aGlzLnl5dGV4dCA9ICcnO1xuICAgICAgICAgICAgdGhpcy5tYXRjaCA9ICcnO1xuICAgICAgICB9XG4gICAgICAgIHZhciBydWxlcyA9IHRoaXMuX2N1cnJlbnRSdWxlcygpO1xuICAgICAgICBmb3IgKHZhciBpPTA7aSA8IHJ1bGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0ZW1wTWF0Y2ggPSB0aGlzLl9pbnB1dC5tYXRjaCh0aGlzLnJ1bGVzW3J1bGVzW2ldXSk7XG4gICAgICAgICAgICBpZiAodGVtcE1hdGNoICYmICghbWF0Y2ggfHwgdGVtcE1hdGNoWzBdLmxlbmd0aCA+IG1hdGNoWzBdLmxlbmd0aCkpIHtcbiAgICAgICAgICAgICAgICBtYXRjaCA9IHRlbXBNYXRjaDtcbiAgICAgICAgICAgICAgICBpbmRleCA9IGk7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMuZmxleCkgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgICBsaW5lcyA9IG1hdGNoWzBdLm1hdGNoKC8oPzpcXHJcXG4/fFxcbikuKi9nKTtcbiAgICAgICAgICAgIGlmIChsaW5lcykgdGhpcy55eWxpbmVubyArPSBsaW5lcy5sZW5ndGg7XG4gICAgICAgICAgICB0aGlzLnl5bGxvYyA9IHtmaXJzdF9saW5lOiB0aGlzLnl5bGxvYy5sYXN0X2xpbmUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0X2xpbmU6IHRoaXMueXlsaW5lbm8rMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpcnN0X2NvbHVtbjogdGhpcy55eWxsb2MubGFzdF9jb2x1bW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0X2NvbHVtbjogbGluZXMgPyBsaW5lc1tsaW5lcy5sZW5ndGgtMV0ubGVuZ3RoLWxpbmVzW2xpbmVzLmxlbmd0aC0xXS5tYXRjaCgvXFxyP1xcbj8vKVswXS5sZW5ndGggOiB0aGlzLnl5bGxvYy5sYXN0X2NvbHVtbiArIG1hdGNoWzBdLmxlbmd0aH07XG4gICAgICAgICAgICB0aGlzLnl5dGV4dCArPSBtYXRjaFswXTtcbiAgICAgICAgICAgIHRoaXMubWF0Y2ggKz0gbWF0Y2hbMF07XG4gICAgICAgICAgICB0aGlzLm1hdGNoZXMgPSBtYXRjaDtcbiAgICAgICAgICAgIHRoaXMueXlsZW5nID0gdGhpcy55eXRleHQubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5yYW5nZXMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnl5bGxvYy5yYW5nZSA9IFt0aGlzLm9mZnNldCwgdGhpcy5vZmZzZXQgKz0gdGhpcy55eWxlbmddO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fbW9yZSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5faW5wdXQgPSB0aGlzLl9pbnB1dC5zbGljZShtYXRjaFswXS5sZW5ndGgpO1xuICAgICAgICAgICAgdGhpcy5tYXRjaGVkICs9IG1hdGNoWzBdO1xuICAgICAgICAgICAgdG9rZW4gPSB0aGlzLnBlcmZvcm1BY3Rpb24uY2FsbCh0aGlzLCB0aGlzLnl5LCB0aGlzLCBydWxlc1tpbmRleF0sdGhpcy5jb25kaXRpb25TdGFja1t0aGlzLmNvbmRpdGlvblN0YWNrLmxlbmd0aC0xXSk7XG4gICAgICAgICAgICBpZiAodGhpcy5kb25lICYmIHRoaXMuX2lucHV0KSB0aGlzLmRvbmUgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmICh0b2tlbikgcmV0dXJuIHRva2VuO1xuICAgICAgICAgICAgZWxzZSByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2lucHV0ID09PSBcIlwiKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5FT0Y7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wYXJzZUVycm9yKCdMZXhpY2FsIGVycm9yIG9uIGxpbmUgJysodGhpcy55eWxpbmVubysxKSsnLiBVbnJlY29nbml6ZWQgdGV4dC5cXG4nK3RoaXMuc2hvd1Bvc2l0aW9uKCksXG4gICAgICAgICAgICAgICAgICAgIHt0ZXh0OiBcIlwiLCB0b2tlbjogbnVsbCwgbGluZTogdGhpcy55eWxpbmVub30pO1xuICAgICAgICB9XG4gICAgfSxcbmxleDpmdW5jdGlvbiBsZXggKCkge1xuICAgICAgICB2YXIgciA9IHRoaXMubmV4dCgpO1xuICAgICAgICBpZiAodHlwZW9mIHIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICByZXR1cm4gcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxleCgpO1xuICAgICAgICB9XG4gICAgfSxcbmJlZ2luOmZ1bmN0aW9uIGJlZ2luIChjb25kaXRpb24pIHtcbiAgICAgICAgdGhpcy5jb25kaXRpb25TdGFjay5wdXNoKGNvbmRpdGlvbik7XG4gICAgfSxcbnBvcFN0YXRlOmZ1bmN0aW9uIHBvcFN0YXRlICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZGl0aW9uU3RhY2sucG9wKCk7XG4gICAgfSxcbl9jdXJyZW50UnVsZXM6ZnVuY3Rpb24gX2N1cnJlbnRSdWxlcyAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbmRpdGlvbnNbdGhpcy5jb25kaXRpb25TdGFja1t0aGlzLmNvbmRpdGlvblN0YWNrLmxlbmd0aC0xXV0ucnVsZXM7XG4gICAgfSxcbnRvcFN0YXRlOmZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZGl0aW9uU3RhY2tbdGhpcy5jb25kaXRpb25TdGFjay5sZW5ndGgtMl07XG4gICAgfSxcbnB1c2hTdGF0ZTpmdW5jdGlvbiBiZWdpbiAoY29uZGl0aW9uKSB7XG4gICAgICAgIHRoaXMuYmVnaW4oY29uZGl0aW9uKTtcbiAgICB9fSk7XG5sZXhlci5vcHRpb25zID0ge307XG5sZXhlci5wZXJmb3JtQWN0aW9uID0gZnVuY3Rpb24gYW5vbnltb3VzKHl5LHl5XywkYXZvaWRpbmdfbmFtZV9jb2xsaXNpb25zLFlZX1NUQVJUXG4pIHtcblxuXG5mdW5jdGlvbiBzdHJpcChzdGFydCwgZW5kKSB7XG4gIHJldHVybiB5eV8ueXl0ZXh0ID0geXlfLnl5dGV4dC5zdWJzdHJpbmcoc3RhcnQsIHl5Xy55eWxlbmcgLSBlbmQgKyBzdGFydCk7XG59XG5cblxudmFyIFlZU1RBVEU9WVlfU1RBUlRcbnN3aXRjaCgkYXZvaWRpbmdfbmFtZV9jb2xsaXNpb25zKSB7XG5jYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHl5Xy55eXRleHQuc2xpY2UoLTIpID09PSBcIlxcXFxcXFxcXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJpcCgwLDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYmVnaW4oXCJtdVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmKHl5Xy55eXRleHQuc2xpY2UoLTEpID09PSBcIlxcXFxcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cmlwKDAsMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5iZWdpbihcImVtdVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJlZ2luKFwibXVcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoeXlfLnl5dGV4dCkgcmV0dXJuIDE1O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG5icmVhaztcbmNhc2UgMTpyZXR1cm4gMTU7XG5icmVhaztcbmNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wb3BTdGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbmJyZWFrO1xuY2FzZSAzOnRoaXMuYmVnaW4oJ3JhdycpOyByZXR1cm4gMTU7XG5icmVhaztcbmNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBvcFN0YXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2hvdWxkIGJlIHVzaW5nIGB0aGlzLnRvcFN0YXRlKClgIGJlbG93LCBidXQgaXQgY3VycmVudGx5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmV0dXJucyB0aGUgc2Vjb25kIHRvcCBpbnN0ZWFkIG9mIHRoZSBmaXJzdCB0b3AuIE9wZW5lZCBhblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlzc3VlIGFib3V0IGl0IGF0IGh0dHBzOi8vZ2l0aHViLmNvbS96YWFjaC9qaXNvbi9pc3N1ZXMvMjkxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY29uZGl0aW9uU3RhY2tbdGhpcy5jb25kaXRpb25TdGFjay5sZW5ndGgtMV0gPT09ICdyYXcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cmlwKDUsIDkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdFTkRfUkFXX0JMT0NLJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbmJyZWFrO1xuY2FzZSA1OiByZXR1cm4gMTU7IFxuYnJlYWs7XG5jYXNlIDY6XG4gIHRoaXMucG9wU3RhdGUoKTtcbiAgcmV0dXJuIDE0O1xuXG5icmVhaztcbmNhc2UgNzpyZXR1cm4gNjU7XG5icmVhaztcbmNhc2UgODpyZXR1cm4gNjg7XG5icmVhaztcbmNhc2UgOTogcmV0dXJuIDE5OyBcbmJyZWFrO1xuY2FzZSAxMDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBvcFN0YXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5iZWdpbigncmF3Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDIzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG5icmVhaztcbmNhc2UgMTE6cmV0dXJuIDU1O1xuYnJlYWs7XG5jYXNlIDEyOnJldHVybiA2MDtcbmJyZWFrO1xuY2FzZSAxMzpyZXR1cm4gMjk7XG5icmVhaztcbmNhc2UgMTQ6cmV0dXJuIDQ3O1xuYnJlYWs7XG5jYXNlIDE1OnRoaXMucG9wU3RhdGUoKTsgcmV0dXJuIDQ0O1xuYnJlYWs7XG5jYXNlIDE2OnRoaXMucG9wU3RhdGUoKTsgcmV0dXJuIDQ0O1xuYnJlYWs7XG5jYXNlIDE3OnJldHVybiAzNDtcbmJyZWFrO1xuY2FzZSAxODpyZXR1cm4gMzk7XG5icmVhaztcbmNhc2UgMTk6cmV0dXJuIDUxO1xuYnJlYWs7XG5jYXNlIDIwOnJldHVybiA0ODtcbmJyZWFrO1xuY2FzZSAyMTpcbiAgdGhpcy51bnB1dCh5eV8ueXl0ZXh0KTtcbiAgdGhpcy5wb3BTdGF0ZSgpO1xuICB0aGlzLmJlZ2luKCdjb20nKTtcblxuYnJlYWs7XG5jYXNlIDIyOlxuICB0aGlzLnBvcFN0YXRlKCk7XG4gIHJldHVybiAxNDtcblxuYnJlYWs7XG5jYXNlIDIzOnJldHVybiA0ODtcbmJyZWFrO1xuY2FzZSAyNDpyZXR1cm4gNzM7XG5icmVhaztcbmNhc2UgMjU6cmV0dXJuIDcyO1xuYnJlYWs7XG5jYXNlIDI2OnJldHVybiA3MjtcbmJyZWFrO1xuY2FzZSAyNzpyZXR1cm4gODc7XG5icmVhaztcbmNhc2UgMjg6Ly8gaWdub3JlIHdoaXRlc3BhY2VcbmJyZWFrO1xuY2FzZSAyOTp0aGlzLnBvcFN0YXRlKCk7IHJldHVybiA1NDtcbmJyZWFrO1xuY2FzZSAzMDp0aGlzLnBvcFN0YXRlKCk7IHJldHVybiAzMztcbmJyZWFrO1xuY2FzZSAzMTp5eV8ueXl0ZXh0ID0gc3RyaXAoMSwyKS5yZXBsYWNlKC9cXFxcXCIvZywnXCInKTsgcmV0dXJuIDgwO1xuYnJlYWs7XG5jYXNlIDMyOnl5Xy55eXRleHQgPSBzdHJpcCgxLDIpLnJlcGxhY2UoL1xcXFwnL2csXCInXCIpOyByZXR1cm4gODA7XG5icmVhaztcbmNhc2UgMzM6cmV0dXJuIDg1O1xuYnJlYWs7XG5jYXNlIDM0OnJldHVybiA4MjtcbmJyZWFrO1xuY2FzZSAzNTpyZXR1cm4gODI7XG5icmVhaztcbmNhc2UgMzY6cmV0dXJuIDgzO1xuYnJlYWs7XG5jYXNlIDM3OnJldHVybiA4NDtcbmJyZWFrO1xuY2FzZSAzODpyZXR1cm4gODE7XG5icmVhaztcbmNhc2UgMzk6cmV0dXJuIDc1O1xuYnJlYWs7XG5jYXNlIDQwOnJldHVybiA3NztcbmJyZWFrO1xuY2FzZSA0MTpyZXR1cm4gNzI7XG5icmVhaztcbmNhc2UgNDI6eXlfLnl5dGV4dCA9IHl5Xy55eXRleHQucmVwbGFjZSgvXFxcXChbXFxcXFxcXV0pL2csJyQxJyk7IHJldHVybiA3MjtcbmJyZWFrO1xuY2FzZSA0MzpyZXR1cm4gJ0lOVkFMSUQnO1xuYnJlYWs7XG5jYXNlIDQ0OnJldHVybiA1O1xuYnJlYWs7XG59XG59O1xubGV4ZXIucnVsZXMgPSBbL14oPzpbXlxceDAwXSo/KD89KFxce1xceykpKS8sL14oPzpbXlxceDAwXSspLywvXig/OlteXFx4MDBdezIsfT8oPz0oXFx7XFx7fFxcXFxcXHtcXHt8XFxcXFxcXFxcXHtcXHt8JCkpKS8sL14oPzpcXHtcXHtcXHtcXHsoPz1bXlxcL10pKS8sL14oPzpcXHtcXHtcXHtcXHtcXC9bXlxccyFcIiMlLSxcXC5cXC87LT5AXFxbLVxcXmBcXHstfl0rKD89Wz19XFxzXFwvLl0pXFx9XFx9XFx9XFx9KS8sL14oPzpbXlxceDAwXSs/KD89KFxce1xce1xce1xceykpKS8sL14oPzpbXFxzXFxTXSo/LS0ofik/XFx9XFx9KS8sL14oPzpcXCgpLywvXig/OlxcKSkvLC9eKD86XFx7XFx7XFx7XFx7KS8sL14oPzpcXH1cXH1cXH1cXH0pLywvXig/Olxce1xceyh+KT8+KS8sL14oPzpcXHtcXHsofik/Iz4pLywvXig/Olxce1xceyh+KT8jXFwqPykvLC9eKD86XFx7XFx7KH4pP1xcLykvLC9eKD86XFx7XFx7KH4pP1xcXlxccyoofik/XFx9XFx9KS8sL14oPzpcXHtcXHsofik/XFxzKmVsc2VcXHMqKH4pP1xcfVxcfSkvLC9eKD86XFx7XFx7KH4pP1xcXikvLC9eKD86XFx7XFx7KH4pP1xccyplbHNlXFxiKS8sL14oPzpcXHtcXHsofik/XFx7KS8sL14oPzpcXHtcXHsofik/JikvLC9eKD86XFx7XFx7KH4pPyEtLSkvLC9eKD86XFx7XFx7KH4pPyFbXFxzXFxTXSo/XFx9XFx9KS8sL14oPzpcXHtcXHsofik/XFwqPykvLC9eKD86PSkvLC9eKD86XFwuXFwuKS8sL14oPzpcXC4oPz0oWz1+fVxcc1xcLy4pfF0pKSkvLC9eKD86W1xcLy5dKS8sL14oPzpcXHMrKS8sL14oPzpcXH0ofik/XFx9XFx9KS8sL14oPzoofik/XFx9XFx9KS8sL14oPzpcIihcXFxcW1wiXXxbXlwiXSkqXCIpLywvXig/OicoXFxcXFsnXXxbXiddKSonKS8sL14oPzpAKS8sL14oPzp0cnVlKD89KFt+fVxccyldKSkpLywvXig/OmZhbHNlKD89KFt+fVxccyldKSkpLywvXig/OnVuZGVmaW5lZCg/PShbfn1cXHMpXSkpKS8sL14oPzpudWxsKD89KFt+fVxccyldKSkpLywvXig/Oi0/WzAtOV0rKD86XFwuWzAtOV0rKT8oPz0oW359XFxzKV0pKSkvLC9eKD86YXNcXHMrXFx8KS8sL14oPzpcXHwpLywvXig/OihbXlxccyFcIiMlLSxcXC5cXC87LT5AXFxbLVxcXmBcXHstfl0rKD89KFs9fn1cXHNcXC8uKXxdKSkpKS8sL14oPzpcXFsoXFxcXFxcXXxbXlxcXV0pKlxcXSkvLC9eKD86LikvLC9eKD86JCkvXTtcbmxleGVyLmNvbmRpdGlvbnMgPSB7XCJtdVwiOntcInJ1bGVzXCI6WzcsOCw5LDEwLDExLDEyLDEzLDE0LDE1LDE2LDE3LDE4LDE5LDIwLDIxLDIyLDIzLDI0LDI1LDI2LDI3LDI4LDI5LDMwLDMxLDMyLDMzLDM0LDM1LDM2LDM3LDM4LDM5LDQwLDQxLDQyLDQzLDQ0XSxcImluY2x1c2l2ZVwiOmZhbHNlfSxcImVtdVwiOntcInJ1bGVzXCI6WzJdLFwiaW5jbHVzaXZlXCI6ZmFsc2V9LFwiY29tXCI6e1wicnVsZXNcIjpbNl0sXCJpbmNsdXNpdmVcIjpmYWxzZX0sXCJyYXdcIjp7XCJydWxlc1wiOlszLDQsNV0sXCJpbmNsdXNpdmVcIjpmYWxzZX0sXCJJTklUSUFMXCI6e1wicnVsZXNcIjpbMCwxLDQ0XSxcImluY2x1c2l2ZVwiOnRydWV9fTtcbnJldHVybiBsZXhlcjt9KSgpXG5wYXJzZXIubGV4ZXIgPSBsZXhlcjtcbmZ1bmN0aW9uIFBhcnNlciAoKSB7IHRoaXMueXkgPSB7fTsgfVBhcnNlci5wcm90b3R5cGUgPSBwYXJzZXI7cGFyc2VyLlBhcnNlciA9IFBhcnNlcjtcbnJldHVybiBuZXcgUGFyc2VyO1xufSkoKTtleHBvcnQgZGVmYXVsdCBoYW5kbGViYXJzO1xuIiwgImltcG9ydCBFeGNlcHRpb24gZnJvbSAnLi4vZXhjZXB0aW9uJztcblxuZnVuY3Rpb24gVmlzaXRvcigpIHtcbiAgdGhpcy5wYXJlbnRzID0gW107XG59XG5cblZpc2l0b3IucHJvdG90eXBlID0ge1xuICBjb25zdHJ1Y3RvcjogVmlzaXRvcixcbiAgbXV0YXRpbmc6IGZhbHNlLFxuXG4gIC8vIFZpc2l0cyBhIGdpdmVuIHZhbHVlLiBJZiBtdXRhdGluZywgd2lsbCByZXBsYWNlIHRoZSB2YWx1ZSBpZiBuZWNlc3NhcnkuXG4gIGFjY2VwdEtleTogZnVuY3Rpb24obm9kZSwgbmFtZSkge1xuICAgIGxldCB2YWx1ZSA9IHRoaXMuYWNjZXB0KG5vZGVbbmFtZV0pO1xuICAgIGlmICh0aGlzLm11dGF0aW5nKSB7XG4gICAgICAvLyBIYWNreSBzYW5pdHkgY2hlY2s6IFRoaXMgbWF5IGhhdmUgYSBmZXcgZmFsc2UgcG9zaXRpdmVzIGZvciB0eXBlIGZvciB0aGUgaGVscGVyXG4gICAgICAvLyBtZXRob2RzIGJ1dCB3aWxsIGdlbmVyYWxseSBkbyB0aGUgcmlnaHQgdGhpbmcgd2l0aG91dCBhIGxvdCBvZiBvdmVyaGVhZC5cbiAgICAgIGlmICh2YWx1ZSAmJiAhVmlzaXRvci5wcm90b3R5cGVbdmFsdWUudHlwZV0pIHtcbiAgICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbihcbiAgICAgICAgICAnVW5leHBlY3RlZCBub2RlIHR5cGUgXCInICtcbiAgICAgICAgICAgIHZhbHVlLnR5cGUgK1xuICAgICAgICAgICAgJ1wiIGZvdW5kIHdoZW4gYWNjZXB0aW5nICcgK1xuICAgICAgICAgICAgbmFtZSArXG4gICAgICAgICAgICAnIG9uICcgK1xuICAgICAgICAgICAgbm9kZS50eXBlXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBub2RlW25hbWVdID0gdmFsdWU7XG4gICAgfVxuICB9LFxuXG4gIC8vIFBlcmZvcm1zIGFuIGFjY2VwdCBvcGVyYXRpb24gd2l0aCBhZGRlZCBzYW5pdHkgY2hlY2sgdG8gZW5zdXJlXG4gIC8vIHJlcXVpcmVkIGtleXMgYXJlIG5vdCByZW1vdmVkLlxuICBhY2NlcHRSZXF1aXJlZDogZnVuY3Rpb24obm9kZSwgbmFtZSkge1xuICAgIHRoaXMuYWNjZXB0S2V5KG5vZGUsIG5hbWUpO1xuXG4gICAgaWYgKCFub2RlW25hbWVdKSB7XG4gICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKG5vZGUudHlwZSArICcgcmVxdWlyZXMgJyArIG5hbWUpO1xuICAgIH1cbiAgfSxcblxuICAvLyBUcmF2ZXJzZXMgYSBnaXZlbiBhcnJheS4gSWYgbXV0YXRpbmcsIGVtcHR5IHJlc3Buc2VzIHdpbGwgYmUgcmVtb3ZlZFxuICAvLyBmb3IgY2hpbGQgZWxlbWVudHMuXG4gIGFjY2VwdEFycmF5OiBmdW5jdGlvbihhcnJheSkge1xuICAgIGZvciAobGV0IGkgPSAwLCBsID0gYXJyYXkubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICB0aGlzLmFjY2VwdEtleShhcnJheSwgaSk7XG5cbiAgICAgIGlmICghYXJyYXlbaV0pIHtcbiAgICAgICAgYXJyYXkuc3BsaWNlKGksIDEpO1xuICAgICAgICBpLS07XG4gICAgICAgIGwtLTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgYWNjZXB0OiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICBpZiAoIW9iamVjdCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0OiBTYW5pdHkgY29kZSAqL1xuICAgIGlmICghdGhpc1tvYmplY3QudHlwZV0pIHtcbiAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oJ1Vua25vd24gdHlwZTogJyArIG9iamVjdC50eXBlLCBvYmplY3QpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmN1cnJlbnQpIHtcbiAgICAgIHRoaXMucGFyZW50cy51bnNoaWZ0KHRoaXMuY3VycmVudCk7XG4gICAgfVxuICAgIHRoaXMuY3VycmVudCA9IG9iamVjdDtcblxuICAgIGxldCByZXQgPSB0aGlzW29iamVjdC50eXBlXShvYmplY3QpO1xuXG4gICAgdGhpcy5jdXJyZW50ID0gdGhpcy5wYXJlbnRzLnNoaWZ0KCk7XG5cbiAgICBpZiAoIXRoaXMubXV0YXRpbmcgfHwgcmV0KSB7XG4gICAgICByZXR1cm4gcmV0O1xuICAgIH0gZWxzZSBpZiAocmV0ICE9PSBmYWxzZSkge1xuICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9XG4gIH0sXG5cbiAgUHJvZ3JhbTogZnVuY3Rpb24ocHJvZ3JhbSkge1xuICAgIHRoaXMuYWNjZXB0QXJyYXkocHJvZ3JhbS5ib2R5KTtcbiAgfSxcblxuICBNdXN0YWNoZVN0YXRlbWVudDogdmlzaXRTdWJFeHByZXNzaW9uLFxuICBEZWNvcmF0b3I6IHZpc2l0U3ViRXhwcmVzc2lvbixcblxuICBCbG9ja1N0YXRlbWVudDogdmlzaXRCbG9jayxcbiAgRGVjb3JhdG9yQmxvY2s6IHZpc2l0QmxvY2ssXG5cbiAgUGFydGlhbFN0YXRlbWVudDogdmlzaXRQYXJ0aWFsLFxuICBQYXJ0aWFsQmxvY2tTdGF0ZW1lbnQ6IGZ1bmN0aW9uKHBhcnRpYWwpIHtcbiAgICB2aXNpdFBhcnRpYWwuY2FsbCh0aGlzLCBwYXJ0aWFsKTtcblxuICAgIHRoaXMuYWNjZXB0S2V5KHBhcnRpYWwsICdwcm9ncmFtJyk7XG4gIH0sXG5cbiAgQ29udGVudFN0YXRlbWVudDogZnVuY3Rpb24oLyogY29udGVudCAqLykge30sXG4gIENvbW1lbnRTdGF0ZW1lbnQ6IGZ1bmN0aW9uKC8qIGNvbW1lbnQgKi8pIHt9LFxuXG4gIFN1YkV4cHJlc3Npb246IHZpc2l0U3ViRXhwcmVzc2lvbixcblxuICBQYXRoRXhwcmVzc2lvbjogZnVuY3Rpb24oLyogcGF0aCAqLykge30sXG5cbiAgU3RyaW5nTGl0ZXJhbDogZnVuY3Rpb24oLyogc3RyaW5nICovKSB7fSxcbiAgTnVtYmVyTGl0ZXJhbDogZnVuY3Rpb24oLyogbnVtYmVyICovKSB7fSxcbiAgQm9vbGVhbkxpdGVyYWw6IGZ1bmN0aW9uKC8qIGJvb2wgKi8pIHt9LFxuICBVbmRlZmluZWRMaXRlcmFsOiBmdW5jdGlvbigvKiBsaXRlcmFsICovKSB7fSxcbiAgTnVsbExpdGVyYWw6IGZ1bmN0aW9uKC8qIGxpdGVyYWwgKi8pIHt9LFxuXG4gIEhhc2g6IGZ1bmN0aW9uKGhhc2gpIHtcbiAgICB0aGlzLmFjY2VwdEFycmF5KGhhc2gucGFpcnMpO1xuICB9LFxuICBIYXNoUGFpcjogZnVuY3Rpb24ocGFpcikge1xuICAgIHRoaXMuYWNjZXB0UmVxdWlyZWQocGFpciwgJ3ZhbHVlJyk7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIHZpc2l0U3ViRXhwcmVzc2lvbihtdXN0YWNoZSkge1xuICB0aGlzLmFjY2VwdFJlcXVpcmVkKG11c3RhY2hlLCAncGF0aCcpO1xuICB0aGlzLmFjY2VwdEFycmF5KG11c3RhY2hlLnBhcmFtcyk7XG4gIHRoaXMuYWNjZXB0S2V5KG11c3RhY2hlLCAnaGFzaCcpO1xufVxuZnVuY3Rpb24gdmlzaXRCbG9jayhibG9jaykge1xuICB2aXNpdFN1YkV4cHJlc3Npb24uY2FsbCh0aGlzLCBibG9jayk7XG5cbiAgdGhpcy5hY2NlcHRLZXkoYmxvY2ssICdwcm9ncmFtJyk7XG4gIHRoaXMuYWNjZXB0S2V5KGJsb2NrLCAnaW52ZXJzZScpO1xufVxuZnVuY3Rpb24gdmlzaXRQYXJ0aWFsKHBhcnRpYWwpIHtcbiAgdGhpcy5hY2NlcHRSZXF1aXJlZChwYXJ0aWFsLCAnbmFtZScpO1xuICB0aGlzLmFjY2VwdEFycmF5KHBhcnRpYWwucGFyYW1zKTtcbiAgdGhpcy5hY2NlcHRLZXkocGFydGlhbCwgJ2hhc2gnKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgVmlzaXRvcjtcbiIsICJpbXBvcnQgVmlzaXRvciBmcm9tICcuL3Zpc2l0b3InO1xuXG5mdW5jdGlvbiBXaGl0ZXNwYWNlQ29udHJvbChvcHRpb25zID0ge30pIHtcbiAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbn1cbldoaXRlc3BhY2VDb250cm9sLnByb3RvdHlwZSA9IG5ldyBWaXNpdG9yKCk7XG5cbldoaXRlc3BhY2VDb250cm9sLnByb3RvdHlwZS5Qcm9ncmFtID0gZnVuY3Rpb24ocHJvZ3JhbSkge1xuICBjb25zdCBkb1N0YW5kYWxvbmUgPSAhdGhpcy5vcHRpb25zLmlnbm9yZVN0YW5kYWxvbmU7XG5cbiAgbGV0IGlzUm9vdCA9ICF0aGlzLmlzUm9vdFNlZW47XG4gIHRoaXMuaXNSb290U2VlbiA9IHRydWU7XG5cbiAgbGV0IGJvZHkgPSBwcm9ncmFtLmJvZHk7XG4gIGZvciAobGV0IGkgPSAwLCBsID0gYm9keS5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBsZXQgY3VycmVudCA9IGJvZHlbaV0sXG4gICAgICBzdHJpcCA9IHRoaXMuYWNjZXB0KGN1cnJlbnQpO1xuXG4gICAgaWYgKCFzdHJpcCkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgbGV0IF9pc1ByZXZXaGl0ZXNwYWNlID0gaXNQcmV2V2hpdGVzcGFjZShib2R5LCBpLCBpc1Jvb3QpLFxuICAgICAgX2lzTmV4dFdoaXRlc3BhY2UgPSBpc05leHRXaGl0ZXNwYWNlKGJvZHksIGksIGlzUm9vdCksXG4gICAgICBvcGVuU3RhbmRhbG9uZSA9IHN0cmlwLm9wZW5TdGFuZGFsb25lICYmIF9pc1ByZXZXaGl0ZXNwYWNlLFxuICAgICAgY2xvc2VTdGFuZGFsb25lID0gc3RyaXAuY2xvc2VTdGFuZGFsb25lICYmIF9pc05leHRXaGl0ZXNwYWNlLFxuICAgICAgaW5saW5lU3RhbmRhbG9uZSA9XG4gICAgICAgIHN0cmlwLmlubGluZVN0YW5kYWxvbmUgJiYgX2lzUHJldldoaXRlc3BhY2UgJiYgX2lzTmV4dFdoaXRlc3BhY2U7XG5cbiAgICBpZiAoc3RyaXAuY2xvc2UpIHtcbiAgICAgIG9taXRSaWdodChib2R5LCBpLCB0cnVlKTtcbiAgICB9XG4gICAgaWYgKHN0cmlwLm9wZW4pIHtcbiAgICAgIG9taXRMZWZ0KGJvZHksIGksIHRydWUpO1xuICAgIH1cblxuICAgIGlmIChkb1N0YW5kYWxvbmUgJiYgaW5saW5lU3RhbmRhbG9uZSkge1xuICAgICAgb21pdFJpZ2h0KGJvZHksIGkpO1xuXG4gICAgICBpZiAob21pdExlZnQoYm9keSwgaSkpIHtcbiAgICAgICAgLy8gSWYgd2UgYXJlIG9uIGEgc3RhbmRhbG9uZSBub2RlLCBzYXZlIHRoZSBpbmRlbnQgaW5mbyBmb3IgcGFydGlhbHNcbiAgICAgICAgaWYgKGN1cnJlbnQudHlwZSA9PT0gJ1BhcnRpYWxTdGF0ZW1lbnQnKSB7XG4gICAgICAgICAgLy8gUHVsbCBvdXQgdGhlIHdoaXRlc3BhY2UgZnJvbSB0aGUgZmluYWwgbGluZVxuICAgICAgICAgIGN1cnJlbnQuaW5kZW50ID0gLyhbIFxcdF0rJCkvLmV4ZWMoYm9keVtpIC0gMV0ub3JpZ2luYWwpWzFdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChkb1N0YW5kYWxvbmUgJiYgb3BlblN0YW5kYWxvbmUpIHtcbiAgICAgIG9taXRSaWdodCgoY3VycmVudC5wcm9ncmFtIHx8IGN1cnJlbnQuaW52ZXJzZSkuYm9keSk7XG5cbiAgICAgIC8vIFN0cmlwIG91dCB0aGUgcHJldmlvdXMgY29udGVudCBub2RlIGlmIGl0J3Mgd2hpdGVzcGFjZSBvbmx5XG4gICAgICBvbWl0TGVmdChib2R5LCBpKTtcbiAgICB9XG4gICAgaWYgKGRvU3RhbmRhbG9uZSAmJiBjbG9zZVN0YW5kYWxvbmUpIHtcbiAgICAgIC8vIEFsd2F5cyBzdHJpcCB0aGUgbmV4dCBub2RlXG4gICAgICBvbWl0UmlnaHQoYm9keSwgaSk7XG5cbiAgICAgIG9taXRMZWZ0KChjdXJyZW50LmludmVyc2UgfHwgY3VycmVudC5wcm9ncmFtKS5ib2R5KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcHJvZ3JhbTtcbn07XG5cbldoaXRlc3BhY2VDb250cm9sLnByb3RvdHlwZS5CbG9ja1N0YXRlbWVudCA9IFdoaXRlc3BhY2VDb250cm9sLnByb3RvdHlwZS5EZWNvcmF0b3JCbG9jayA9IFdoaXRlc3BhY2VDb250cm9sLnByb3RvdHlwZS5QYXJ0aWFsQmxvY2tTdGF0ZW1lbnQgPSBmdW5jdGlvbihcbiAgYmxvY2tcbikge1xuICB0aGlzLmFjY2VwdChibG9jay5wcm9ncmFtKTtcbiAgdGhpcy5hY2NlcHQoYmxvY2suaW52ZXJzZSk7XG5cbiAgLy8gRmluZCB0aGUgaW52ZXJzZSBwcm9ncmFtIHRoYXQgaXMgaW52b2xlZCB3aXRoIHdoaXRlc3BhY2Ugc3RyaXBwaW5nLlxuICBsZXQgcHJvZ3JhbSA9IGJsb2NrLnByb2dyYW0gfHwgYmxvY2suaW52ZXJzZSxcbiAgICBpbnZlcnNlID0gYmxvY2sucHJvZ3JhbSAmJiBibG9jay5pbnZlcnNlLFxuICAgIGZpcnN0SW52ZXJzZSA9IGludmVyc2UsXG4gICAgbGFzdEludmVyc2UgPSBpbnZlcnNlO1xuXG4gIGlmIChpbnZlcnNlICYmIGludmVyc2UuY2hhaW5lZCkge1xuICAgIGZpcnN0SW52ZXJzZSA9IGludmVyc2UuYm9keVswXS5wcm9ncmFtO1xuXG4gICAgLy8gV2FsayB0aGUgaW52ZXJzZSBjaGFpbiB0byBmaW5kIHRoZSBsYXN0IGludmVyc2UgdGhhdCBpcyBhY3R1YWxseSBpbiB0aGUgY2hhaW4uXG4gICAgd2hpbGUgKGxhc3RJbnZlcnNlLmNoYWluZWQpIHtcbiAgICAgIGxhc3RJbnZlcnNlID0gbGFzdEludmVyc2UuYm9keVtsYXN0SW52ZXJzZS5ib2R5Lmxlbmd0aCAtIDFdLnByb2dyYW07XG4gICAgfVxuICB9XG5cbiAgbGV0IHN0cmlwID0ge1xuICAgIG9wZW46IGJsb2NrLm9wZW5TdHJpcC5vcGVuLFxuICAgIGNsb3NlOiBibG9jay5jbG9zZVN0cmlwLmNsb3NlLFxuXG4gICAgLy8gRGV0ZXJtaW5lIHRoZSBzdGFuZGFsb25lIGNhbmRpYWN5LiBCYXNpY2FsbHkgZmxhZyBvdXIgY29udGVudCBhcyBiZWluZyBwb3NzaWJseSBzdGFuZGFsb25lXG4gICAgLy8gc28gb3VyIHBhcmVudCBjYW4gZGV0ZXJtaW5lIGlmIHdlIGFjdHVhbGx5IGFyZSBzdGFuZGFsb25lXG4gICAgb3BlblN0YW5kYWxvbmU6IGlzTmV4dFdoaXRlc3BhY2UocHJvZ3JhbS5ib2R5KSxcbiAgICBjbG9zZVN0YW5kYWxvbmU6IGlzUHJldldoaXRlc3BhY2UoKGZpcnN0SW52ZXJzZSB8fCBwcm9ncmFtKS5ib2R5KVxuICB9O1xuXG4gIGlmIChibG9jay5vcGVuU3RyaXAuY2xvc2UpIHtcbiAgICBvbWl0UmlnaHQocHJvZ3JhbS5ib2R5LCBudWxsLCB0cnVlKTtcbiAgfVxuXG4gIGlmIChpbnZlcnNlKSB7XG4gICAgbGV0IGludmVyc2VTdHJpcCA9IGJsb2NrLmludmVyc2VTdHJpcDtcblxuICAgIGlmIChpbnZlcnNlU3RyaXAub3Blbikge1xuICAgICAgb21pdExlZnQocHJvZ3JhbS5ib2R5LCBudWxsLCB0cnVlKTtcbiAgICB9XG5cbiAgICBpZiAoaW52ZXJzZVN0cmlwLmNsb3NlKSB7XG4gICAgICBvbWl0UmlnaHQoZmlyc3RJbnZlcnNlLmJvZHksIG51bGwsIHRydWUpO1xuICAgIH1cbiAgICBpZiAoYmxvY2suY2xvc2VTdHJpcC5vcGVuKSB7XG4gICAgICBvbWl0TGVmdChsYXN0SW52ZXJzZS5ib2R5LCBudWxsLCB0cnVlKTtcbiAgICB9XG5cbiAgICAvLyBGaW5kIHN0YW5kYWxvbmUgZWxzZSBzdGF0bWVudHNcbiAgICBpZiAoXG4gICAgICAhdGhpcy5vcHRpb25zLmlnbm9yZVN0YW5kYWxvbmUgJiZcbiAgICAgIGlzUHJldldoaXRlc3BhY2UocHJvZ3JhbS5ib2R5KSAmJlxuICAgICAgaXNOZXh0V2hpdGVzcGFjZShmaXJzdEludmVyc2UuYm9keSlcbiAgICApIHtcbiAgICAgIG9taXRMZWZ0KHByb2dyYW0uYm9keSk7XG4gICAgICBvbWl0UmlnaHQoZmlyc3RJbnZlcnNlLmJvZHkpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChibG9jay5jbG9zZVN0cmlwLm9wZW4pIHtcbiAgICBvbWl0TGVmdChwcm9ncmFtLmJvZHksIG51bGwsIHRydWUpO1xuICB9XG5cbiAgcmV0dXJuIHN0cmlwO1xufTtcblxuV2hpdGVzcGFjZUNvbnRyb2wucHJvdG90eXBlLkRlY29yYXRvciA9IFdoaXRlc3BhY2VDb250cm9sLnByb3RvdHlwZS5NdXN0YWNoZVN0YXRlbWVudCA9IGZ1bmN0aW9uKFxuICBtdXN0YWNoZVxuKSB7XG4gIHJldHVybiBtdXN0YWNoZS5zdHJpcDtcbn07XG5cbldoaXRlc3BhY2VDb250cm9sLnByb3RvdHlwZS5QYXJ0aWFsU3RhdGVtZW50ID0gV2hpdGVzcGFjZUNvbnRyb2wucHJvdG90eXBlLkNvbW1lbnRTdGF0ZW1lbnQgPSBmdW5jdGlvbihcbiAgbm9kZVxuKSB7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIGxldCBzdHJpcCA9IG5vZGUuc3RyaXAgfHwge307XG4gIHJldHVybiB7XG4gICAgaW5saW5lU3RhbmRhbG9uZTogdHJ1ZSxcbiAgICBvcGVuOiBzdHJpcC5vcGVuLFxuICAgIGNsb3NlOiBzdHJpcC5jbG9zZVxuICB9O1xufTtcblxuZnVuY3Rpb24gaXNQcmV2V2hpdGVzcGFjZShib2R5LCBpLCBpc1Jvb3QpIHtcbiAgaWYgKGkgPT09IHVuZGVmaW5lZCkge1xuICAgIGkgPSBib2R5Lmxlbmd0aDtcbiAgfVxuXG4gIC8vIE5vZGVzIHRoYXQgZW5kIHdpdGggbmV3bGluZXMgYXJlIGNvbnNpZGVyZWQgd2hpdGVzcGFjZSAoYnV0IGFyZSBzcGVjaWFsXG4gIC8vIGNhc2VkIGZvciBzdHJpcCBvcGVyYXRpb25zKVxuICBsZXQgcHJldiA9IGJvZHlbaSAtIDFdLFxuICAgIHNpYmxpbmcgPSBib2R5W2kgLSAyXTtcbiAgaWYgKCFwcmV2KSB7XG4gICAgcmV0dXJuIGlzUm9vdDtcbiAgfVxuXG4gIGlmIChwcmV2LnR5cGUgPT09ICdDb250ZW50U3RhdGVtZW50Jykge1xuICAgIHJldHVybiAoc2libGluZyB8fCAhaXNSb290ID8gL1xccj9cXG5cXHMqPyQvIDogLyhefFxccj9cXG4pXFxzKj8kLykudGVzdChcbiAgICAgIHByZXYub3JpZ2luYWxcbiAgICApO1xuICB9XG59XG5mdW5jdGlvbiBpc05leHRXaGl0ZXNwYWNlKGJvZHksIGksIGlzUm9vdCkge1xuICBpZiAoaSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgaSA9IC0xO1xuICB9XG5cbiAgbGV0IG5leHQgPSBib2R5W2kgKyAxXSxcbiAgICBzaWJsaW5nID0gYm9keVtpICsgMl07XG4gIGlmICghbmV4dCkge1xuICAgIHJldHVybiBpc1Jvb3Q7XG4gIH1cblxuICBpZiAobmV4dC50eXBlID09PSAnQ29udGVudFN0YXRlbWVudCcpIHtcbiAgICByZXR1cm4gKHNpYmxpbmcgfHwgIWlzUm9vdCA/IC9eXFxzKj9cXHI/XFxuLyA6IC9eXFxzKj8oXFxyP1xcbnwkKS8pLnRlc3QoXG4gICAgICBuZXh0Lm9yaWdpbmFsXG4gICAgKTtcbiAgfVxufVxuXG4vLyBNYXJrcyB0aGUgbm9kZSB0byB0aGUgcmlnaHQgb2YgdGhlIHBvc2l0aW9uIGFzIG9taXR0ZWQuXG4vLyBJLmUuIHt7Zm9vfX0nICcgd2lsbCBtYXJrIHRoZSAnICcgbm9kZSBhcyBvbWl0dGVkLlxuLy9cbi8vIElmIGkgaXMgdW5kZWZpbmVkLCB0aGVuIHRoZSBmaXJzdCBjaGlsZCB3aWxsIGJlIG1hcmtlZCBhcyBzdWNoLlxuLy9cbi8vIElmIG11bGl0cGxlIGlzIHRydXRoeSB0aGVuIGFsbCB3aGl0ZXNwYWNlIHdpbGwgYmUgc3RyaXBwZWQgb3V0IHVudGlsIG5vbi13aGl0ZXNwYWNlXG4vLyBjb250ZW50IGlzIG1ldC5cbmZ1bmN0aW9uIG9taXRSaWdodChib2R5LCBpLCBtdWx0aXBsZSkge1xuICBsZXQgY3VycmVudCA9IGJvZHlbaSA9PSBudWxsID8gMCA6IGkgKyAxXTtcbiAgaWYgKFxuICAgICFjdXJyZW50IHx8XG4gICAgY3VycmVudC50eXBlICE9PSAnQ29udGVudFN0YXRlbWVudCcgfHxcbiAgICAoIW11bHRpcGxlICYmIGN1cnJlbnQucmlnaHRTdHJpcHBlZClcbiAgKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgbGV0IG9yaWdpbmFsID0gY3VycmVudC52YWx1ZTtcbiAgY3VycmVudC52YWx1ZSA9IGN1cnJlbnQudmFsdWUucmVwbGFjZShcbiAgICBtdWx0aXBsZSA/IC9eXFxzKy8gOiAvXlsgXFx0XSpcXHI/XFxuPy8sXG4gICAgJydcbiAgKTtcbiAgY3VycmVudC5yaWdodFN0cmlwcGVkID0gY3VycmVudC52YWx1ZSAhPT0gb3JpZ2luYWw7XG59XG5cbi8vIE1hcmtzIHRoZSBub2RlIHRvIHRoZSBsZWZ0IG9mIHRoZSBwb3NpdGlvbiBhcyBvbWl0dGVkLlxuLy8gSS5lLiAnICd7e2Zvb319IHdpbGwgbWFyayB0aGUgJyAnIG5vZGUgYXMgb21pdHRlZC5cbi8vXG4vLyBJZiBpIGlzIHVuZGVmaW5lZCB0aGVuIHRoZSBsYXN0IGNoaWxkIHdpbGwgYmUgbWFya2VkIGFzIHN1Y2guXG4vL1xuLy8gSWYgbXVsaXRwbGUgaXMgdHJ1dGh5IHRoZW4gYWxsIHdoaXRlc3BhY2Ugd2lsbCBiZSBzdHJpcHBlZCBvdXQgdW50aWwgbm9uLXdoaXRlc3BhY2Vcbi8vIGNvbnRlbnQgaXMgbWV0LlxuZnVuY3Rpb24gb21pdExlZnQoYm9keSwgaSwgbXVsdGlwbGUpIHtcbiAgbGV0IGN1cnJlbnQgPSBib2R5W2kgPT0gbnVsbCA/IGJvZHkubGVuZ3RoIC0gMSA6IGkgLSAxXTtcbiAgaWYgKFxuICAgICFjdXJyZW50IHx8XG4gICAgY3VycmVudC50eXBlICE9PSAnQ29udGVudFN0YXRlbWVudCcgfHxcbiAgICAoIW11bHRpcGxlICYmIGN1cnJlbnQubGVmdFN0cmlwcGVkKVxuICApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBXZSBvbWl0IHRoZSBsYXN0IG5vZGUgaWYgaXQncyB3aGl0ZXNwYWNlIG9ubHkgYW5kIG5vdCBwcmVjZWRlZCBieSBhIG5vbi1jb250ZW50IG5vZGUuXG4gIGxldCBvcmlnaW5hbCA9IGN1cnJlbnQudmFsdWU7XG4gIGN1cnJlbnQudmFsdWUgPSBjdXJyZW50LnZhbHVlLnJlcGxhY2UobXVsdGlwbGUgPyAvXFxzKyQvIDogL1sgXFx0XSskLywgJycpO1xuICBjdXJyZW50LmxlZnRTdHJpcHBlZCA9IGN1cnJlbnQudmFsdWUgIT09IG9yaWdpbmFsO1xuICByZXR1cm4gY3VycmVudC5sZWZ0U3RyaXBwZWQ7XG59XG5cbmV4cG9ydCBkZWZhdWx0IFdoaXRlc3BhY2VDb250cm9sO1xuIiwgImltcG9ydCBFeGNlcHRpb24gZnJvbSAnLi4vZXhjZXB0aW9uJztcblxuZnVuY3Rpb24gdmFsaWRhdGVDbG9zZShvcGVuLCBjbG9zZSkge1xuICBjbG9zZSA9IGNsb3NlLnBhdGggPyBjbG9zZS5wYXRoLm9yaWdpbmFsIDogY2xvc2U7XG5cbiAgaWYgKG9wZW4ucGF0aC5vcmlnaW5hbCAhPT0gY2xvc2UpIHtcbiAgICBsZXQgZXJyb3JOb2RlID0geyBsb2M6IG9wZW4ucGF0aC5sb2MgfTtcblxuICAgIHRocm93IG5ldyBFeGNlcHRpb24oXG4gICAgICBvcGVuLnBhdGgub3JpZ2luYWwgKyBcIiBkb2Vzbid0IG1hdGNoIFwiICsgY2xvc2UsXG4gICAgICBlcnJvck5vZGVcbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBTb3VyY2VMb2NhdGlvbihzb3VyY2UsIGxvY0luZm8pIHtcbiAgdGhpcy5zb3VyY2UgPSBzb3VyY2U7XG4gIHRoaXMuc3RhcnQgPSB7XG4gICAgbGluZTogbG9jSW5mby5maXJzdF9saW5lLFxuICAgIGNvbHVtbjogbG9jSW5mby5maXJzdF9jb2x1bW5cbiAgfTtcbiAgdGhpcy5lbmQgPSB7XG4gICAgbGluZTogbG9jSW5mby5sYXN0X2xpbmUsXG4gICAgY29sdW1uOiBsb2NJbmZvLmxhc3RfY29sdW1uXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpZCh0b2tlbikge1xuICBpZiAoL15cXFsuKlxcXSQvLnRlc3QodG9rZW4pKSB7XG4gICAgcmV0dXJuIHRva2VuLnN1YnN0cmluZygxLCB0b2tlbi5sZW5ndGggLSAxKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gdG9rZW47XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0cmlwRmxhZ3Mob3BlbiwgY2xvc2UpIHtcbiAgcmV0dXJuIHtcbiAgICBvcGVuOiBvcGVuLmNoYXJBdCgyKSA9PT0gJ34nLFxuICAgIGNsb3NlOiBjbG9zZS5jaGFyQXQoY2xvc2UubGVuZ3RoIC0gMykgPT09ICd+J1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc3RyaXBDb21tZW50KGNvbW1lbnQpIHtcbiAgcmV0dXJuIGNvbW1lbnQucmVwbGFjZSgvXlxce1xce34/IS0/LT8vLCAnJykucmVwbGFjZSgvLT8tP34/XFx9XFx9JC8sICcnKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHByZXBhcmVQYXRoKGRhdGEsIHBhcnRzLCBsb2MpIHtcbiAgbG9jID0gdGhpcy5sb2NJbmZvKGxvYyk7XG5cbiAgbGV0IG9yaWdpbmFsID0gZGF0YSA/ICdAJyA6ICcnLFxuICAgIGRpZyA9IFtdLFxuICAgIGRlcHRoID0gMDtcblxuICBmb3IgKGxldCBpID0gMCwgbCA9IHBhcnRzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGxldCBwYXJ0ID0gcGFydHNbaV0ucGFydCxcbiAgICAgIC8vIElmIHdlIGhhdmUgW10gc3ludGF4IHRoZW4gd2UgZG8gbm90IHRyZWF0IHBhdGggcmVmZXJlbmNlcyBhcyBvcGVyYXRvcnMsXG4gICAgICAvLyBpLmUuIGZvby5bdGhpc10gcmVzb2x2ZXMgdG8gYXBwcm94aW1hdGVseSBjb250ZXh0LmZvb1sndGhpcyddXG4gICAgICBpc0xpdGVyYWwgPSBwYXJ0c1tpXS5vcmlnaW5hbCAhPT0gcGFydDtcbiAgICBvcmlnaW5hbCArPSAocGFydHNbaV0uc2VwYXJhdG9yIHx8ICcnKSArIHBhcnQ7XG5cbiAgICBpZiAoIWlzTGl0ZXJhbCAmJiAocGFydCA9PT0gJy4uJyB8fCBwYXJ0ID09PSAnLicgfHwgcGFydCA9PT0gJ3RoaXMnKSkge1xuICAgICAgaWYgKGRpZy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oJ0ludmFsaWQgcGF0aDogJyArIG9yaWdpbmFsLCB7IGxvYyB9KTtcbiAgICAgIH0gZWxzZSBpZiAocGFydCA9PT0gJy4uJykge1xuICAgICAgICBkZXB0aCsrO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBkaWcucHVzaChwYXJ0KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHR5cGU6ICdQYXRoRXhwcmVzc2lvbicsXG4gICAgZGF0YSxcbiAgICBkZXB0aCxcbiAgICBwYXJ0czogZGlnLFxuICAgIG9yaWdpbmFsLFxuICAgIGxvY1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcHJlcGFyZU11c3RhY2hlKHBhdGgsIHBhcmFtcywgaGFzaCwgb3Blbiwgc3RyaXAsIGxvY0luZm8pIHtcbiAgLy8gTXVzdCB1c2UgY2hhckF0IHRvIHN1cHBvcnQgSUUgcHJlLTEwXG4gIGxldCBlc2NhcGVGbGFnID0gb3Blbi5jaGFyQXQoMykgfHwgb3Blbi5jaGFyQXQoMiksXG4gICAgZXNjYXBlZCA9IGVzY2FwZUZsYWcgIT09ICd7JyAmJiBlc2NhcGVGbGFnICE9PSAnJic7XG5cbiAgbGV0IGRlY29yYXRvciA9IC9cXCovLnRlc3Qob3Blbik7XG4gIHJldHVybiB7XG4gICAgdHlwZTogZGVjb3JhdG9yID8gJ0RlY29yYXRvcicgOiAnTXVzdGFjaGVTdGF0ZW1lbnQnLFxuICAgIHBhdGgsXG4gICAgcGFyYW1zLFxuICAgIGhhc2gsXG4gICAgZXNjYXBlZCxcbiAgICBzdHJpcCxcbiAgICBsb2M6IHRoaXMubG9jSW5mbyhsb2NJbmZvKVxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcHJlcGFyZVJhd0Jsb2NrKG9wZW5SYXdCbG9jaywgY29udGVudHMsIGNsb3NlLCBsb2NJbmZvKSB7XG4gIHZhbGlkYXRlQ2xvc2Uob3BlblJhd0Jsb2NrLCBjbG9zZSk7XG5cbiAgbG9jSW5mbyA9IHRoaXMubG9jSW5mbyhsb2NJbmZvKTtcbiAgbGV0IHByb2dyYW0gPSB7XG4gICAgdHlwZTogJ1Byb2dyYW0nLFxuICAgIGJvZHk6IGNvbnRlbnRzLFxuICAgIHN0cmlwOiB7fSxcbiAgICBsb2M6IGxvY0luZm9cbiAgfTtcblxuICByZXR1cm4ge1xuICAgIHR5cGU6ICdCbG9ja1N0YXRlbWVudCcsXG4gICAgcGF0aDogb3BlblJhd0Jsb2NrLnBhdGgsXG4gICAgcGFyYW1zOiBvcGVuUmF3QmxvY2sucGFyYW1zLFxuICAgIGhhc2g6IG9wZW5SYXdCbG9jay5oYXNoLFxuICAgIHByb2dyYW0sXG4gICAgb3BlblN0cmlwOiB7fSxcbiAgICBpbnZlcnNlU3RyaXA6IHt9LFxuICAgIGNsb3NlU3RyaXA6IHt9LFxuICAgIGxvYzogbG9jSW5mb1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcHJlcGFyZUJsb2NrKFxuICBvcGVuQmxvY2ssXG4gIHByb2dyYW0sXG4gIGludmVyc2VBbmRQcm9ncmFtLFxuICBjbG9zZSxcbiAgaW52ZXJ0ZWQsXG4gIGxvY0luZm9cbikge1xuICBpZiAoY2xvc2UgJiYgY2xvc2UucGF0aCkge1xuICAgIHZhbGlkYXRlQ2xvc2Uob3BlbkJsb2NrLCBjbG9zZSk7XG4gIH1cblxuICBsZXQgZGVjb3JhdG9yID0gL1xcKi8udGVzdChvcGVuQmxvY2sub3Blbik7XG5cbiAgcHJvZ3JhbS5ibG9ja1BhcmFtcyA9IG9wZW5CbG9jay5ibG9ja1BhcmFtcztcblxuICBsZXQgaW52ZXJzZSwgaW52ZXJzZVN0cmlwO1xuXG4gIGlmIChpbnZlcnNlQW5kUHJvZ3JhbSkge1xuICAgIGlmIChkZWNvcmF0b3IpIHtcbiAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oXG4gICAgICAgICdVbmV4cGVjdGVkIGludmVyc2UgYmxvY2sgb24gZGVjb3JhdG9yJyxcbiAgICAgICAgaW52ZXJzZUFuZFByb2dyYW1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKGludmVyc2VBbmRQcm9ncmFtLmNoYWluKSB7XG4gICAgICBpbnZlcnNlQW5kUHJvZ3JhbS5wcm9ncmFtLmJvZHlbMF0uY2xvc2VTdHJpcCA9IGNsb3NlLnN0cmlwO1xuICAgIH1cblxuICAgIGludmVyc2VTdHJpcCA9IGludmVyc2VBbmRQcm9ncmFtLnN0cmlwO1xuICAgIGludmVyc2UgPSBpbnZlcnNlQW5kUHJvZ3JhbS5wcm9ncmFtO1xuICB9XG5cbiAgaWYgKGludmVydGVkKSB7XG4gICAgaW52ZXJ0ZWQgPSBpbnZlcnNlO1xuICAgIGludmVyc2UgPSBwcm9ncmFtO1xuICAgIHByb2dyYW0gPSBpbnZlcnRlZDtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgdHlwZTogZGVjb3JhdG9yID8gJ0RlY29yYXRvckJsb2NrJyA6ICdCbG9ja1N0YXRlbWVudCcsXG4gICAgcGF0aDogb3BlbkJsb2NrLnBhdGgsXG4gICAgcGFyYW1zOiBvcGVuQmxvY2sucGFyYW1zLFxuICAgIGhhc2g6IG9wZW5CbG9jay5oYXNoLFxuICAgIHByb2dyYW0sXG4gICAgaW52ZXJzZSxcbiAgICBvcGVuU3RyaXA6IG9wZW5CbG9jay5zdHJpcCxcbiAgICBpbnZlcnNlU3RyaXAsXG4gICAgY2xvc2VTdHJpcDogY2xvc2UgJiYgY2xvc2Uuc3RyaXAsXG4gICAgbG9jOiB0aGlzLmxvY0luZm8obG9jSW5mbylcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHByZXBhcmVQcm9ncmFtKHN0YXRlbWVudHMsIGxvYykge1xuICBpZiAoIWxvYyAmJiBzdGF0ZW1lbnRzLmxlbmd0aCkge1xuICAgIGNvbnN0IGZpcnN0TG9jID0gc3RhdGVtZW50c1swXS5sb2MsXG4gICAgICBsYXN0TG9jID0gc3RhdGVtZW50c1tzdGF0ZW1lbnRzLmxlbmd0aCAtIDFdLmxvYztcblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgaWYgKGZpcnN0TG9jICYmIGxhc3RMb2MpIHtcbiAgICAgIGxvYyA9IHtcbiAgICAgICAgc291cmNlOiBmaXJzdExvYy5zb3VyY2UsXG4gICAgICAgIHN0YXJ0OiB7XG4gICAgICAgICAgbGluZTogZmlyc3RMb2Muc3RhcnQubGluZSxcbiAgICAgICAgICBjb2x1bW46IGZpcnN0TG9jLnN0YXJ0LmNvbHVtblxuICAgICAgICB9LFxuICAgICAgICBlbmQ6IHtcbiAgICAgICAgICBsaW5lOiBsYXN0TG9jLmVuZC5saW5lLFxuICAgICAgICAgIGNvbHVtbjogbGFzdExvYy5lbmQuY29sdW1uXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICB0eXBlOiAnUHJvZ3JhbScsXG4gICAgYm9keTogc3RhdGVtZW50cyxcbiAgICBzdHJpcDoge30sXG4gICAgbG9jOiBsb2NcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHByZXBhcmVQYXJ0aWFsQmxvY2sob3BlbiwgcHJvZ3JhbSwgY2xvc2UsIGxvY0luZm8pIHtcbiAgdmFsaWRhdGVDbG9zZShvcGVuLCBjbG9zZSk7XG5cbiAgcmV0dXJuIHtcbiAgICB0eXBlOiAnUGFydGlhbEJsb2NrU3RhdGVtZW50JyxcbiAgICBuYW1lOiBvcGVuLnBhdGgsXG4gICAgcGFyYW1zOiBvcGVuLnBhcmFtcyxcbiAgICBoYXNoOiBvcGVuLmhhc2gsXG4gICAgcHJvZ3JhbSxcbiAgICBvcGVuU3RyaXA6IG9wZW4uc3RyaXAsXG4gICAgY2xvc2VTdHJpcDogY2xvc2UgJiYgY2xvc2Uuc3RyaXAsXG4gICAgbG9jOiB0aGlzLmxvY0luZm8obG9jSW5mbylcbiAgfTtcbn1cbiIsICJpbXBvcnQgcGFyc2VyIGZyb20gJy4vcGFyc2VyJztcbmltcG9ydCBXaGl0ZXNwYWNlQ29udHJvbCBmcm9tICcuL3doaXRlc3BhY2UtY29udHJvbCc7XG5pbXBvcnQgKiBhcyBIZWxwZXJzIGZyb20gJy4vaGVscGVycyc7XG5pbXBvcnQgeyBleHRlbmQgfSBmcm9tICcuLi91dGlscyc7XG5cbmV4cG9ydCB7IHBhcnNlciB9O1xuXG5sZXQgeXkgPSB7fTtcbmV4dGVuZCh5eSwgSGVscGVycyk7XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVdpdGhvdXRQcm9jZXNzaW5nKGlucHV0LCBvcHRpb25zKSB7XG4gIC8vIEp1c3QgcmV0dXJuIGlmIGFuIGFscmVhZHktY29tcGlsZWQgQVNUIHdhcyBwYXNzZWQgaW4uXG4gIGlmIChpbnB1dC50eXBlID09PSAnUHJvZ3JhbScpIHtcbiAgICByZXR1cm4gaW5wdXQ7XG4gIH1cblxuICBwYXJzZXIueXkgPSB5eTtcblxuICAvLyBBbHRlcmluZyB0aGUgc2hhcmVkIG9iamVjdCBoZXJlLCBidXQgdGhpcyBpcyBvayBhcyBwYXJzZXIgaXMgYSBzeW5jIG9wZXJhdGlvblxuICB5eS5sb2NJbmZvID0gZnVuY3Rpb24obG9jSW5mbykge1xuICAgIHJldHVybiBuZXcgeXkuU291cmNlTG9jYXRpb24ob3B0aW9ucyAmJiBvcHRpb25zLnNyY05hbWUsIGxvY0luZm8pO1xuICB9O1xuXG4gIGxldCBhc3QgPSBwYXJzZXIucGFyc2UoaW5wdXQpO1xuXG4gIHJldHVybiBhc3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZShpbnB1dCwgb3B0aW9ucykge1xuICBsZXQgYXN0ID0gcGFyc2VXaXRob3V0UHJvY2Vzc2luZyhpbnB1dCwgb3B0aW9ucyk7XG4gIGxldCBzdHJpcCA9IG5ldyBXaGl0ZXNwYWNlQ29udHJvbChvcHRpb25zKTtcblxuICByZXR1cm4gc3RyaXAuYWNjZXB0KGFzdCk7XG59XG4iLCAiLyogZXNsaW50LWRpc2FibGUgbmV3LWNhcCAqL1xuXG5pbXBvcnQgRXhjZXB0aW9uIGZyb20gJy4uL2V4Y2VwdGlvbic7XG5pbXBvcnQgeyBpc0FycmF5LCBpbmRleE9mLCBleHRlbmQgfSBmcm9tICcuLi91dGlscyc7XG5pbXBvcnQgQVNUIGZyb20gJy4vYXN0JztcblxuY29uc3Qgc2xpY2UgPSBbXS5zbGljZTtcblxuZXhwb3J0IGZ1bmN0aW9uIENvbXBpbGVyKCkge31cblxuLy8gdGhlIGZvdW5kSGVscGVyIHJlZ2lzdGVyIHdpbGwgZGlzYW1iaWd1YXRlIGhlbHBlciBsb29rdXAgZnJvbSBmaW5kaW5nIGFcbi8vIGZ1bmN0aW9uIGluIGEgY29udGV4dC4gVGhpcyBpcyBuZWNlc3NhcnkgZm9yIG11c3RhY2hlIGNvbXBhdGliaWxpdHksIHdoaWNoXG4vLyByZXF1aXJlcyB0aGF0IGNvbnRleHQgZnVuY3Rpb25zIGluIGJsb2NrcyBhcmUgZXZhbHVhdGVkIGJ5IGJsb2NrSGVscGVyTWlzc2luZyxcbi8vIGFuZCB0aGVuIHByb2NlZWQgYXMgaWYgdGhlIHJlc3VsdGluZyB2YWx1ZSB3YXMgcHJvdmlkZWQgdG8gYmxvY2tIZWxwZXJNaXNzaW5nLlxuXG5Db21waWxlci5wcm90b3R5cGUgPSB7XG4gIGNvbXBpbGVyOiBDb21waWxlcixcblxuICBlcXVhbHM6IGZ1bmN0aW9uKG90aGVyKSB7XG4gICAgbGV0IGxlbiA9IHRoaXMub3Bjb2Rlcy5sZW5ndGg7XG4gICAgaWYgKG90aGVyLm9wY29kZXMubGVuZ3RoICE9PSBsZW4pIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBsZXQgb3Bjb2RlID0gdGhpcy5vcGNvZGVzW2ldLFxuICAgICAgICBvdGhlck9wY29kZSA9IG90aGVyLm9wY29kZXNbaV07XG4gICAgICBpZiAoXG4gICAgICAgIG9wY29kZS5vcGNvZGUgIT09IG90aGVyT3Bjb2RlLm9wY29kZSB8fFxuICAgICAgICAhYXJnRXF1YWxzKG9wY29kZS5hcmdzLCBvdGhlck9wY29kZS5hcmdzKVxuICAgICAgKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBXZSBrbm93IHRoYXQgbGVuZ3RoIGlzIHRoZSBzYW1lIGJldHdlZW4gdGhlIHR3byBhcnJheXMgYmVjYXVzZSB0aGV5IGFyZSBkaXJlY3RseSB0aWVkXG4gICAgLy8gdG8gdGhlIG9wY29kZSBiZWhhdmlvciBhYm92ZS5cbiAgICBsZW4gPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBpZiAoIXRoaXMuY2hpbGRyZW5baV0uZXF1YWxzKG90aGVyLmNoaWxkcmVuW2ldKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH0sXG5cbiAgZ3VpZDogMCxcblxuICBjb21waWxlOiBmdW5jdGlvbihwcm9ncmFtLCBvcHRpb25zKSB7XG4gICAgdGhpcy5zb3VyY2VOb2RlID0gW107XG4gICAgdGhpcy5vcGNvZGVzID0gW107XG4gICAgdGhpcy5jaGlsZHJlbiA9IFtdO1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgdGhpcy5zdHJpbmdQYXJhbXMgPSBvcHRpb25zLnN0cmluZ1BhcmFtcztcbiAgICB0aGlzLnRyYWNrSWRzID0gb3B0aW9ucy50cmFja0lkcztcblxuICAgIG9wdGlvbnMuYmxvY2tQYXJhbXMgPSBvcHRpb25zLmJsb2NrUGFyYW1zIHx8IFtdO1xuXG4gICAgb3B0aW9ucy5rbm93bkhlbHBlcnMgPSBleHRlbmQoXG4gICAgICBPYmplY3QuY3JlYXRlKG51bGwpLFxuICAgICAge1xuICAgICAgICBoZWxwZXJNaXNzaW5nOiB0cnVlLFxuICAgICAgICBibG9ja0hlbHBlck1pc3Npbmc6IHRydWUsXG4gICAgICAgIGVhY2g6IHRydWUsXG4gICAgICAgIGlmOiB0cnVlLFxuICAgICAgICB1bmxlc3M6IHRydWUsXG4gICAgICAgIHdpdGg6IHRydWUsXG4gICAgICAgIGxvZzogdHJ1ZSxcbiAgICAgICAgbG9va3VwOiB0cnVlXG4gICAgICB9LFxuICAgICAgb3B0aW9ucy5rbm93bkhlbHBlcnNcbiAgICApO1xuXG4gICAgcmV0dXJuIHRoaXMuYWNjZXB0KHByb2dyYW0pO1xuICB9LFxuXG4gIGNvbXBpbGVQcm9ncmFtOiBmdW5jdGlvbihwcm9ncmFtKSB7XG4gICAgbGV0IGNoaWxkQ29tcGlsZXIgPSBuZXcgdGhpcy5jb21waWxlcigpLCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5ldy1jYXBcbiAgICAgIHJlc3VsdCA9IGNoaWxkQ29tcGlsZXIuY29tcGlsZShwcm9ncmFtLCB0aGlzLm9wdGlvbnMpLFxuICAgICAgZ3VpZCA9IHRoaXMuZ3VpZCsrO1xuXG4gICAgdGhpcy51c2VQYXJ0aWFsID0gdGhpcy51c2VQYXJ0aWFsIHx8IHJlc3VsdC51c2VQYXJ0aWFsO1xuXG4gICAgdGhpcy5jaGlsZHJlbltndWlkXSA9IHJlc3VsdDtcbiAgICB0aGlzLnVzZURlcHRocyA9IHRoaXMudXNlRGVwdGhzIHx8IHJlc3VsdC51c2VEZXB0aHM7XG5cbiAgICByZXR1cm4gZ3VpZDtcbiAgfSxcblxuICBhY2NlcHQ6IGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dDogU2FuaXR5IGNvZGUgKi9cbiAgICBpZiAoIXRoaXNbbm9kZS50eXBlXSkge1xuICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbignVW5rbm93biB0eXBlOiAnICsgbm9kZS50eXBlLCBub2RlKTtcbiAgICB9XG5cbiAgICB0aGlzLnNvdXJjZU5vZGUudW5zaGlmdChub2RlKTtcbiAgICBsZXQgcmV0ID0gdGhpc1tub2RlLnR5cGVdKG5vZGUpO1xuICAgIHRoaXMuc291cmNlTm9kZS5zaGlmdCgpO1xuICAgIHJldHVybiByZXQ7XG4gIH0sXG5cbiAgUHJvZ3JhbTogZnVuY3Rpb24ocHJvZ3JhbSkge1xuICAgIHRoaXMub3B0aW9ucy5ibG9ja1BhcmFtcy51bnNoaWZ0KHByb2dyYW0uYmxvY2tQYXJhbXMpO1xuXG4gICAgbGV0IGJvZHkgPSBwcm9ncmFtLmJvZHksXG4gICAgICBib2R5TGVuZ3RoID0gYm9keS5sZW5ndGg7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBib2R5TGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuYWNjZXB0KGJvZHlbaV0pO1xuICAgIH1cblxuICAgIHRoaXMub3B0aW9ucy5ibG9ja1BhcmFtcy5zaGlmdCgpO1xuXG4gICAgdGhpcy5pc1NpbXBsZSA9IGJvZHlMZW5ndGggPT09IDE7XG4gICAgdGhpcy5ibG9ja1BhcmFtcyA9IHByb2dyYW0uYmxvY2tQYXJhbXMgPyBwcm9ncmFtLmJsb2NrUGFyYW1zLmxlbmd0aCA6IDA7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICBCbG9ja1N0YXRlbWVudDogZnVuY3Rpb24oYmxvY2spIHtcbiAgICB0cmFuc2Zvcm1MaXRlcmFsVG9QYXRoKGJsb2NrKTtcblxuICAgIGxldCBwcm9ncmFtID0gYmxvY2sucHJvZ3JhbSxcbiAgICAgIGludmVyc2UgPSBibG9jay5pbnZlcnNlO1xuXG4gICAgcHJvZ3JhbSA9IHByb2dyYW0gJiYgdGhpcy5jb21waWxlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICBpbnZlcnNlID0gaW52ZXJzZSAmJiB0aGlzLmNvbXBpbGVQcm9ncmFtKGludmVyc2UpO1xuXG4gICAgbGV0IHR5cGUgPSB0aGlzLmNsYXNzaWZ5U2V4cHIoYmxvY2spO1xuXG4gICAgaWYgKHR5cGUgPT09ICdoZWxwZXInKSB7XG4gICAgICB0aGlzLmhlbHBlclNleHByKGJsb2NrLCBwcm9ncmFtLCBpbnZlcnNlKTtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdzaW1wbGUnKSB7XG4gICAgICB0aGlzLnNpbXBsZVNleHByKGJsb2NrKTtcblxuICAgICAgLy8gbm93IHRoYXQgdGhlIHNpbXBsZSBtdXN0YWNoZSBpcyByZXNvbHZlZCwgd2UgbmVlZCB0b1xuICAgICAgLy8gZXZhbHVhdGUgaXQgYnkgZXhlY3V0aW5nIGBibG9ja0hlbHBlck1pc3NpbmdgXG4gICAgICB0aGlzLm9wY29kZSgncHVzaFByb2dyYW0nLCBwcm9ncmFtKTtcbiAgICAgIHRoaXMub3Bjb2RlKCdwdXNoUHJvZ3JhbScsIGludmVyc2UpO1xuICAgICAgdGhpcy5vcGNvZGUoJ2VtcHR5SGFzaCcpO1xuICAgICAgdGhpcy5vcGNvZGUoJ2Jsb2NrVmFsdWUnLCBibG9jay5wYXRoLm9yaWdpbmFsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5hbWJpZ3VvdXNTZXhwcihibG9jaywgcHJvZ3JhbSwgaW52ZXJzZSk7XG5cbiAgICAgIC8vIG5vdyB0aGF0IHRoZSBzaW1wbGUgbXVzdGFjaGUgaXMgcmVzb2x2ZWQsIHdlIG5lZWQgdG9cbiAgICAgIC8vIGV2YWx1YXRlIGl0IGJ5IGV4ZWN1dGluZyBgYmxvY2tIZWxwZXJNaXNzaW5nYFxuICAgICAgdGhpcy5vcGNvZGUoJ3B1c2hQcm9ncmFtJywgcHJvZ3JhbSk7XG4gICAgICB0aGlzLm9wY29kZSgncHVzaFByb2dyYW0nLCBpbnZlcnNlKTtcbiAgICAgIHRoaXMub3Bjb2RlKCdlbXB0eUhhc2gnKTtcbiAgICAgIHRoaXMub3Bjb2RlKCdhbWJpZ3VvdXNCbG9ja1ZhbHVlJyk7XG4gICAgfVxuXG4gICAgdGhpcy5vcGNvZGUoJ2FwcGVuZCcpO1xuICB9LFxuXG4gIERlY29yYXRvckJsb2NrKGRlY29yYXRvcikge1xuICAgIGxldCBwcm9ncmFtID0gZGVjb3JhdG9yLnByb2dyYW0gJiYgdGhpcy5jb21waWxlUHJvZ3JhbShkZWNvcmF0b3IucHJvZ3JhbSk7XG4gICAgbGV0IHBhcmFtcyA9IHRoaXMuc2V0dXBGdWxsTXVzdGFjaGVQYXJhbXMoZGVjb3JhdG9yLCBwcm9ncmFtLCB1bmRlZmluZWQpLFxuICAgICAgcGF0aCA9IGRlY29yYXRvci5wYXRoO1xuXG4gICAgdGhpcy51c2VEZWNvcmF0b3JzID0gdHJ1ZTtcbiAgICB0aGlzLm9wY29kZSgncmVnaXN0ZXJEZWNvcmF0b3InLCBwYXJhbXMubGVuZ3RoLCBwYXRoLm9yaWdpbmFsKTtcbiAgfSxcblxuICBQYXJ0aWFsU3RhdGVtZW50OiBmdW5jdGlvbihwYXJ0aWFsKSB7XG4gICAgdGhpcy51c2VQYXJ0aWFsID0gdHJ1ZTtcblxuICAgIGxldCBwcm9ncmFtID0gcGFydGlhbC5wcm9ncmFtO1xuICAgIGlmIChwcm9ncmFtKSB7XG4gICAgICBwcm9ncmFtID0gdGhpcy5jb21waWxlUHJvZ3JhbShwYXJ0aWFsLnByb2dyYW0pO1xuICAgIH1cblxuICAgIGxldCBwYXJhbXMgPSBwYXJ0aWFsLnBhcmFtcztcbiAgICBpZiAocGFyYW1zLmxlbmd0aCA+IDEpIHtcbiAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oXG4gICAgICAgICdVbnN1cHBvcnRlZCBudW1iZXIgb2YgcGFydGlhbCBhcmd1bWVudHM6ICcgKyBwYXJhbXMubGVuZ3RoLFxuICAgICAgICBwYXJ0aWFsXG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAoIXBhcmFtcy5sZW5ndGgpIHtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuZXhwbGljaXRQYXJ0aWFsQ29udGV4dCkge1xuICAgICAgICB0aGlzLm9wY29kZSgncHVzaExpdGVyYWwnLCAndW5kZWZpbmVkJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXJhbXMucHVzaCh7IHR5cGU6ICdQYXRoRXhwcmVzc2lvbicsIHBhcnRzOiBbXSwgZGVwdGg6IDAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGV0IHBhcnRpYWxOYW1lID0gcGFydGlhbC5uYW1lLm9yaWdpbmFsLFxuICAgICAgaXNEeW5hbWljID0gcGFydGlhbC5uYW1lLnR5cGUgPT09ICdTdWJFeHByZXNzaW9uJztcbiAgICBpZiAoaXNEeW5hbWljKSB7XG4gICAgICB0aGlzLmFjY2VwdChwYXJ0aWFsLm5hbWUpO1xuICAgIH1cblxuICAgIHRoaXMuc2V0dXBGdWxsTXVzdGFjaGVQYXJhbXMocGFydGlhbCwgcHJvZ3JhbSwgdW5kZWZpbmVkLCB0cnVlKTtcblxuICAgIGxldCBpbmRlbnQgPSBwYXJ0aWFsLmluZGVudCB8fCAnJztcbiAgICBpZiAodGhpcy5vcHRpb25zLnByZXZlbnRJbmRlbnQgJiYgaW5kZW50KSB7XG4gICAgICB0aGlzLm9wY29kZSgnYXBwZW5kQ29udGVudCcsIGluZGVudCk7XG4gICAgICBpbmRlbnQgPSAnJztcbiAgICB9XG5cbiAgICB0aGlzLm9wY29kZSgnaW52b2tlUGFydGlhbCcsIGlzRHluYW1pYywgcGFydGlhbE5hbWUsIGluZGVudCk7XG4gICAgdGhpcy5vcGNvZGUoJ2FwcGVuZCcpO1xuICB9LFxuICBQYXJ0aWFsQmxvY2tTdGF0ZW1lbnQ6IGZ1bmN0aW9uKHBhcnRpYWxCbG9jaykge1xuICAgIHRoaXMuUGFydGlhbFN0YXRlbWVudChwYXJ0aWFsQmxvY2spO1xuICB9LFxuXG4gIE11c3RhY2hlU3RhdGVtZW50OiBmdW5jdGlvbihtdXN0YWNoZSkge1xuICAgIHRoaXMuU3ViRXhwcmVzc2lvbihtdXN0YWNoZSk7XG5cbiAgICBpZiAobXVzdGFjaGUuZXNjYXBlZCAmJiAhdGhpcy5vcHRpb25zLm5vRXNjYXBlKSB7XG4gICAgICB0aGlzLm9wY29kZSgnYXBwZW5kRXNjYXBlZCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm9wY29kZSgnYXBwZW5kJyk7XG4gICAgfVxuICB9LFxuICBEZWNvcmF0b3IoZGVjb3JhdG9yKSB7XG4gICAgdGhpcy5EZWNvcmF0b3JCbG9jayhkZWNvcmF0b3IpO1xuICB9LFxuXG4gIENvbnRlbnRTdGF0ZW1lbnQ6IGZ1bmN0aW9uKGNvbnRlbnQpIHtcbiAgICBpZiAoY29udGVudC52YWx1ZSkge1xuICAgICAgdGhpcy5vcGNvZGUoJ2FwcGVuZENvbnRlbnQnLCBjb250ZW50LnZhbHVlKTtcbiAgICB9XG4gIH0sXG5cbiAgQ29tbWVudFN0YXRlbWVudDogZnVuY3Rpb24oKSB7fSxcblxuICBTdWJFeHByZXNzaW9uOiBmdW5jdGlvbihzZXhwcikge1xuICAgIHRyYW5zZm9ybUxpdGVyYWxUb1BhdGgoc2V4cHIpO1xuICAgIGxldCB0eXBlID0gdGhpcy5jbGFzc2lmeVNleHByKHNleHByKTtcblxuICAgIGlmICh0eXBlID09PSAnc2ltcGxlJykge1xuICAgICAgdGhpcy5zaW1wbGVTZXhwcihzZXhwcik7XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAnaGVscGVyJykge1xuICAgICAgdGhpcy5oZWxwZXJTZXhwcihzZXhwcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYW1iaWd1b3VzU2V4cHIoc2V4cHIpO1xuICAgIH1cbiAgfSxcbiAgYW1iaWd1b3VzU2V4cHI6IGZ1bmN0aW9uKHNleHByLCBwcm9ncmFtLCBpbnZlcnNlKSB7XG4gICAgbGV0IHBhdGggPSBzZXhwci5wYXRoLFxuICAgICAgbmFtZSA9IHBhdGgucGFydHNbMF0sXG4gICAgICBpc0Jsb2NrID0gcHJvZ3JhbSAhPSBudWxsIHx8IGludmVyc2UgIT0gbnVsbDtcblxuICAgIHRoaXMub3Bjb2RlKCdnZXRDb250ZXh0JywgcGF0aC5kZXB0aCk7XG5cbiAgICB0aGlzLm9wY29kZSgncHVzaFByb2dyYW0nLCBwcm9ncmFtKTtcbiAgICB0aGlzLm9wY29kZSgncHVzaFByb2dyYW0nLCBpbnZlcnNlKTtcblxuICAgIHBhdGguc3RyaWN0ID0gdHJ1ZTtcbiAgICB0aGlzLmFjY2VwdChwYXRoKTtcblxuICAgIHRoaXMub3Bjb2RlKCdpbnZva2VBbWJpZ3VvdXMnLCBuYW1lLCBpc0Jsb2NrKTtcbiAgfSxcblxuICBzaW1wbGVTZXhwcjogZnVuY3Rpb24oc2V4cHIpIHtcbiAgICBsZXQgcGF0aCA9IHNleHByLnBhdGg7XG4gICAgcGF0aC5zdHJpY3QgPSB0cnVlO1xuICAgIHRoaXMuYWNjZXB0KHBhdGgpO1xuICAgIHRoaXMub3Bjb2RlKCdyZXNvbHZlUG9zc2libGVMYW1iZGEnKTtcbiAgfSxcblxuICBoZWxwZXJTZXhwcjogZnVuY3Rpb24oc2V4cHIsIHByb2dyYW0sIGludmVyc2UpIHtcbiAgICBsZXQgcGFyYW1zID0gdGhpcy5zZXR1cEZ1bGxNdXN0YWNoZVBhcmFtcyhzZXhwciwgcHJvZ3JhbSwgaW52ZXJzZSksXG4gICAgICBwYXRoID0gc2V4cHIucGF0aCxcbiAgICAgIG5hbWUgPSBwYXRoLnBhcnRzWzBdO1xuXG4gICAgaWYgKHRoaXMub3B0aW9ucy5rbm93bkhlbHBlcnNbbmFtZV0pIHtcbiAgICAgIHRoaXMub3Bjb2RlKCdpbnZva2VLbm93bkhlbHBlcicsIHBhcmFtcy5sZW5ndGgsIG5hbWUpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5vcHRpb25zLmtub3duSGVscGVyc09ubHkpIHtcbiAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oXG4gICAgICAgICdZb3Ugc3BlY2lmaWVkIGtub3duSGVscGVyc09ubHksIGJ1dCB1c2VkIHRoZSB1bmtub3duIGhlbHBlciAnICsgbmFtZSxcbiAgICAgICAgc2V4cHJcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhdGguc3RyaWN0ID0gdHJ1ZTtcbiAgICAgIHBhdGguZmFsc3kgPSB0cnVlO1xuXG4gICAgICB0aGlzLmFjY2VwdChwYXRoKTtcbiAgICAgIHRoaXMub3Bjb2RlKFxuICAgICAgICAnaW52b2tlSGVscGVyJyxcbiAgICAgICAgcGFyYW1zLmxlbmd0aCxcbiAgICAgICAgcGF0aC5vcmlnaW5hbCxcbiAgICAgICAgQVNULmhlbHBlcnMuc2ltcGxlSWQocGF0aClcbiAgICAgICk7XG4gICAgfVxuICB9LFxuXG4gIFBhdGhFeHByZXNzaW9uOiBmdW5jdGlvbihwYXRoKSB7XG4gICAgdGhpcy5hZGREZXB0aChwYXRoLmRlcHRoKTtcbiAgICB0aGlzLm9wY29kZSgnZ2V0Q29udGV4dCcsIHBhdGguZGVwdGgpO1xuXG4gICAgbGV0IG5hbWUgPSBwYXRoLnBhcnRzWzBdLFxuICAgICAgc2NvcGVkID0gQVNULmhlbHBlcnMuc2NvcGVkSWQocGF0aCksXG4gICAgICBibG9ja1BhcmFtSWQgPSAhcGF0aC5kZXB0aCAmJiAhc2NvcGVkICYmIHRoaXMuYmxvY2tQYXJhbUluZGV4KG5hbWUpO1xuXG4gICAgaWYgKGJsb2NrUGFyYW1JZCkge1xuICAgICAgdGhpcy5vcGNvZGUoJ2xvb2t1cEJsb2NrUGFyYW0nLCBibG9ja1BhcmFtSWQsIHBhdGgucGFydHMpO1xuICAgIH0gZWxzZSBpZiAoIW5hbWUpIHtcbiAgICAgIC8vIENvbnRleHQgcmVmZXJlbmNlLCBpLmUuIGB7e2ZvbyAufX1gIG9yIGB7e2ZvbyAuLn19YFxuICAgICAgdGhpcy5vcGNvZGUoJ3B1c2hDb250ZXh0Jyk7XG4gICAgfSBlbHNlIGlmIChwYXRoLmRhdGEpIHtcbiAgICAgIHRoaXMub3B0aW9ucy5kYXRhID0gdHJ1ZTtcbiAgICAgIHRoaXMub3Bjb2RlKCdsb29rdXBEYXRhJywgcGF0aC5kZXB0aCwgcGF0aC5wYXJ0cywgcGF0aC5zdHJpY3QpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm9wY29kZShcbiAgICAgICAgJ2xvb2t1cE9uQ29udGV4dCcsXG4gICAgICAgIHBhdGgucGFydHMsXG4gICAgICAgIHBhdGguZmFsc3ksXG4gICAgICAgIHBhdGguc3RyaWN0LFxuICAgICAgICBzY29wZWRcbiAgICAgICk7XG4gICAgfVxuICB9LFxuXG4gIFN0cmluZ0xpdGVyYWw6IGZ1bmN0aW9uKHN0cmluZykge1xuICAgIHRoaXMub3Bjb2RlKCdwdXNoU3RyaW5nJywgc3RyaW5nLnZhbHVlKTtcbiAgfSxcblxuICBOdW1iZXJMaXRlcmFsOiBmdW5jdGlvbihudW1iZXIpIHtcbiAgICB0aGlzLm9wY29kZSgncHVzaExpdGVyYWwnLCBudW1iZXIudmFsdWUpO1xuICB9LFxuXG4gIEJvb2xlYW5MaXRlcmFsOiBmdW5jdGlvbihib29sKSB7XG4gICAgdGhpcy5vcGNvZGUoJ3B1c2hMaXRlcmFsJywgYm9vbC52YWx1ZSk7XG4gIH0sXG5cbiAgVW5kZWZpbmVkTGl0ZXJhbDogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5vcGNvZGUoJ3B1c2hMaXRlcmFsJywgJ3VuZGVmaW5lZCcpO1xuICB9LFxuXG4gIE51bGxMaXRlcmFsOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLm9wY29kZSgncHVzaExpdGVyYWwnLCAnbnVsbCcpO1xuICB9LFxuXG4gIEhhc2g6IGZ1bmN0aW9uKGhhc2gpIHtcbiAgICBsZXQgcGFpcnMgPSBoYXNoLnBhaXJzLFxuICAgICAgaSA9IDAsXG4gICAgICBsID0gcGFpcnMubGVuZ3RoO1xuXG4gICAgdGhpcy5vcGNvZGUoJ3B1c2hIYXNoJyk7XG5cbiAgICBmb3IgKDsgaSA8IGw7IGkrKykge1xuICAgICAgdGhpcy5wdXNoUGFyYW0ocGFpcnNbaV0udmFsdWUpO1xuICAgIH1cbiAgICB3aGlsZSAoaS0tKSB7XG4gICAgICB0aGlzLm9wY29kZSgnYXNzaWduVG9IYXNoJywgcGFpcnNbaV0ua2V5KTtcbiAgICB9XG4gICAgdGhpcy5vcGNvZGUoJ3BvcEhhc2gnKTtcbiAgfSxcblxuICAvLyBIRUxQRVJTXG4gIG9wY29kZTogZnVuY3Rpb24obmFtZSkge1xuICAgIHRoaXMub3Bjb2Rlcy5wdXNoKHtcbiAgICAgIG9wY29kZTogbmFtZSxcbiAgICAgIGFyZ3M6IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSxcbiAgICAgIGxvYzogdGhpcy5zb3VyY2VOb2RlWzBdLmxvY1xuICAgIH0pO1xuICB9LFxuXG4gIGFkZERlcHRoOiBmdW5jdGlvbihkZXB0aCkge1xuICAgIGlmICghZGVwdGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnVzZURlcHRocyA9IHRydWU7XG4gIH0sXG5cbiAgY2xhc3NpZnlTZXhwcjogZnVuY3Rpb24oc2V4cHIpIHtcbiAgICBsZXQgaXNTaW1wbGUgPSBBU1QuaGVscGVycy5zaW1wbGVJZChzZXhwci5wYXRoKTtcblxuICAgIGxldCBpc0Jsb2NrUGFyYW0gPSBpc1NpbXBsZSAmJiAhIXRoaXMuYmxvY2tQYXJhbUluZGV4KHNleHByLnBhdGgucGFydHNbMF0pO1xuXG4gICAgLy8gYSBtdXN0YWNoZSBpcyBhbiBlbGlnaWJsZSBoZWxwZXIgaWY6XG4gICAgLy8gKiBpdHMgaWQgaXMgc2ltcGxlIChhIHNpbmdsZSBwYXJ0LCBub3QgYHRoaXNgIG9yIGAuLmApXG4gICAgbGV0IGlzSGVscGVyID0gIWlzQmxvY2tQYXJhbSAmJiBBU1QuaGVscGVycy5oZWxwZXJFeHByZXNzaW9uKHNleHByKTtcblxuICAgIC8vIGlmIGEgbXVzdGFjaGUgaXMgYW4gZWxpZ2libGUgaGVscGVyIGJ1dCBub3QgYSBkZWZpbml0ZVxuICAgIC8vIGhlbHBlciwgaXQgaXMgYW1iaWd1b3VzLCBhbmQgd2lsbCBiZSByZXNvbHZlZCBpbiBhIGxhdGVyXG4gICAgLy8gcGFzcyBvciBhdCBydW50aW1lLlxuICAgIGxldCBpc0VsaWdpYmxlID0gIWlzQmxvY2tQYXJhbSAmJiAoaXNIZWxwZXIgfHwgaXNTaW1wbGUpO1xuXG4gICAgLy8gaWYgYW1iaWd1b3VzLCB3ZSBjYW4gcG9zc2libHkgcmVzb2x2ZSB0aGUgYW1iaWd1aXR5IG5vd1xuICAgIC8vIEFuIGVsaWdpYmxlIGhlbHBlciBpcyBvbmUgdGhhdCBkb2VzIG5vdCBoYXZlIGEgY29tcGxleCBwYXRoLCBpLmUuIGB0aGlzLmZvb2AsIGAuLi9mb29gIGV0Yy5cbiAgICBpZiAoaXNFbGlnaWJsZSAmJiAhaXNIZWxwZXIpIHtcbiAgICAgIGxldCBuYW1lID0gc2V4cHIucGF0aC5wYXJ0c1swXSxcbiAgICAgICAgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgIGlmIChvcHRpb25zLmtub3duSGVscGVyc1tuYW1lXSkge1xuICAgICAgICBpc0hlbHBlciA9IHRydWU7XG4gICAgICB9IGVsc2UgaWYgKG9wdGlvbnMua25vd25IZWxwZXJzT25seSkge1xuICAgICAgICBpc0VsaWdpYmxlID0gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGlzSGVscGVyKSB7XG4gICAgICByZXR1cm4gJ2hlbHBlcic7XG4gICAgfSBlbHNlIGlmIChpc0VsaWdpYmxlKSB7XG4gICAgICByZXR1cm4gJ2FtYmlndW91cyc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAnc2ltcGxlJztcbiAgICB9XG4gIH0sXG5cbiAgcHVzaFBhcmFtczogZnVuY3Rpb24ocGFyYW1zKSB7XG4gICAgZm9yIChsZXQgaSA9IDAsIGwgPSBwYXJhbXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICB0aGlzLnB1c2hQYXJhbShwYXJhbXNbaV0pO1xuICAgIH1cbiAgfSxcblxuICBwdXNoUGFyYW06IGZ1bmN0aW9uKHZhbCkge1xuICAgIGxldCB2YWx1ZSA9IHZhbC52YWx1ZSAhPSBudWxsID8gdmFsLnZhbHVlIDogdmFsLm9yaWdpbmFsIHx8ICcnO1xuXG4gICAgaWYgKHRoaXMuc3RyaW5nUGFyYW1zKSB7XG4gICAgICBpZiAodmFsdWUucmVwbGFjZSkge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoL14oXFwuP1xcLlxcLykqL2csICcnKS5yZXBsYWNlKC9cXC8vZywgJy4nKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHZhbC5kZXB0aCkge1xuICAgICAgICB0aGlzLmFkZERlcHRoKHZhbC5kZXB0aCk7XG4gICAgICB9XG4gICAgICB0aGlzLm9wY29kZSgnZ2V0Q29udGV4dCcsIHZhbC5kZXB0aCB8fCAwKTtcbiAgICAgIHRoaXMub3Bjb2RlKCdwdXNoU3RyaW5nUGFyYW0nLCB2YWx1ZSwgdmFsLnR5cGUpO1xuXG4gICAgICBpZiAodmFsLnR5cGUgPT09ICdTdWJFeHByZXNzaW9uJykge1xuICAgICAgICAvLyBTdWJFeHByZXNzaW9ucyBnZXQgZXZhbHVhdGVkIGFuZCBwYXNzZWQgaW5cbiAgICAgICAgLy8gaW4gc3RyaW5nIHBhcmFtcyBtb2RlLlxuICAgICAgICB0aGlzLmFjY2VwdCh2YWwpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodGhpcy50cmFja0lkcykge1xuICAgICAgICBsZXQgYmxvY2tQYXJhbUluZGV4O1xuICAgICAgICBpZiAodmFsLnBhcnRzICYmICFBU1QuaGVscGVycy5zY29wZWRJZCh2YWwpICYmICF2YWwuZGVwdGgpIHtcbiAgICAgICAgICBibG9ja1BhcmFtSW5kZXggPSB0aGlzLmJsb2NrUGFyYW1JbmRleCh2YWwucGFydHNbMF0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChibG9ja1BhcmFtSW5kZXgpIHtcbiAgICAgICAgICBsZXQgYmxvY2tQYXJhbUNoaWxkID0gdmFsLnBhcnRzLnNsaWNlKDEpLmpvaW4oJy4nKTtcbiAgICAgICAgICB0aGlzLm9wY29kZSgncHVzaElkJywgJ0Jsb2NrUGFyYW0nLCBibG9ja1BhcmFtSW5kZXgsIGJsb2NrUGFyYW1DaGlsZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFsdWUgPSB2YWwub3JpZ2luYWwgfHwgdmFsdWU7XG4gICAgICAgICAgaWYgKHZhbHVlLnJlcGxhY2UpIHtcbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWVcbiAgICAgICAgICAgICAgLnJlcGxhY2UoL150aGlzKD86XFwufCQpLywgJycpXG4gICAgICAgICAgICAgIC5yZXBsYWNlKC9eXFwuXFwvLywgJycpXG4gICAgICAgICAgICAgIC5yZXBsYWNlKC9eXFwuJC8sICcnKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0aGlzLm9wY29kZSgncHVzaElkJywgdmFsLnR5cGUsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5hY2NlcHQodmFsKTtcbiAgICB9XG4gIH0sXG5cbiAgc2V0dXBGdWxsTXVzdGFjaGVQYXJhbXM6IGZ1bmN0aW9uKHNleHByLCBwcm9ncmFtLCBpbnZlcnNlLCBvbWl0RW1wdHkpIHtcbiAgICBsZXQgcGFyYW1zID0gc2V4cHIucGFyYW1zO1xuICAgIHRoaXMucHVzaFBhcmFtcyhwYXJhbXMpO1xuXG4gICAgdGhpcy5vcGNvZGUoJ3B1c2hQcm9ncmFtJywgcHJvZ3JhbSk7XG4gICAgdGhpcy5vcGNvZGUoJ3B1c2hQcm9ncmFtJywgaW52ZXJzZSk7XG5cbiAgICBpZiAoc2V4cHIuaGFzaCkge1xuICAgICAgdGhpcy5hY2NlcHQoc2V4cHIuaGFzaCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMub3Bjb2RlKCdlbXB0eUhhc2gnLCBvbWl0RW1wdHkpO1xuICAgIH1cblxuICAgIHJldHVybiBwYXJhbXM7XG4gIH0sXG5cbiAgYmxvY2tQYXJhbUluZGV4OiBmdW5jdGlvbihuYW1lKSB7XG4gICAgZm9yIChcbiAgICAgIGxldCBkZXB0aCA9IDAsIGxlbiA9IHRoaXMub3B0aW9ucy5ibG9ja1BhcmFtcy5sZW5ndGg7XG4gICAgICBkZXB0aCA8IGxlbjtcbiAgICAgIGRlcHRoKytcbiAgICApIHtcbiAgICAgIGxldCBibG9ja1BhcmFtcyA9IHRoaXMub3B0aW9ucy5ibG9ja1BhcmFtc1tkZXB0aF0sXG4gICAgICAgIHBhcmFtID0gYmxvY2tQYXJhbXMgJiYgaW5kZXhPZihibG9ja1BhcmFtcywgbmFtZSk7XG4gICAgICBpZiAoYmxvY2tQYXJhbXMgJiYgcGFyYW0gPj0gMCkge1xuICAgICAgICByZXR1cm4gW2RlcHRoLCBwYXJhbV07XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gcHJlY29tcGlsZShpbnB1dCwgb3B0aW9ucywgZW52KSB7XG4gIGlmIChcbiAgICBpbnB1dCA9PSBudWxsIHx8XG4gICAgKHR5cGVvZiBpbnB1dCAhPT0gJ3N0cmluZycgJiYgaW5wdXQudHlwZSAhPT0gJ1Byb2dyYW0nKVxuICApIHtcbiAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKFxuICAgICAgJ1lvdSBtdXN0IHBhc3MgYSBzdHJpbmcgb3IgSGFuZGxlYmFycyBBU1QgdG8gSGFuZGxlYmFycy5wcmVjb21waWxlLiBZb3UgcGFzc2VkICcgK1xuICAgICAgICBpbnB1dFxuICAgICk7XG4gIH1cblxuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgaWYgKCEoJ2RhdGEnIGluIG9wdGlvbnMpKSB7XG4gICAgb3B0aW9ucy5kYXRhID0gdHJ1ZTtcbiAgfVxuICBpZiAob3B0aW9ucy5jb21wYXQpIHtcbiAgICBvcHRpb25zLnVzZURlcHRocyA9IHRydWU7XG4gIH1cblxuICBsZXQgYXN0ID0gZW52LnBhcnNlKGlucHV0LCBvcHRpb25zKSxcbiAgICBlbnZpcm9ubWVudCA9IG5ldyBlbnYuQ29tcGlsZXIoKS5jb21waWxlKGFzdCwgb3B0aW9ucyk7XG4gIHJldHVybiBuZXcgZW52LkphdmFTY3JpcHRDb21waWxlcigpLmNvbXBpbGUoZW52aXJvbm1lbnQsIG9wdGlvbnMpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29tcGlsZShpbnB1dCwgb3B0aW9ucyA9IHt9LCBlbnYpIHtcbiAgaWYgKFxuICAgIGlucHV0ID09IG51bGwgfHxcbiAgICAodHlwZW9mIGlucHV0ICE9PSAnc3RyaW5nJyAmJiBpbnB1dC50eXBlICE9PSAnUHJvZ3JhbScpXG4gICkge1xuICAgIHRocm93IG5ldyBFeGNlcHRpb24oXG4gICAgICAnWW91IG11c3QgcGFzcyBhIHN0cmluZyBvciBIYW5kbGViYXJzIEFTVCB0byBIYW5kbGViYXJzLmNvbXBpbGUuIFlvdSBwYXNzZWQgJyArXG4gICAgICAgIGlucHV0XG4gICAgKTtcbiAgfVxuXG4gIG9wdGlvbnMgPSBleHRlbmQoe30sIG9wdGlvbnMpO1xuICBpZiAoISgnZGF0YScgaW4gb3B0aW9ucykpIHtcbiAgICBvcHRpb25zLmRhdGEgPSB0cnVlO1xuICB9XG4gIGlmIChvcHRpb25zLmNvbXBhdCkge1xuICAgIG9wdGlvbnMudXNlRGVwdGhzID0gdHJ1ZTtcbiAgfVxuXG4gIGxldCBjb21waWxlZDtcblxuICBmdW5jdGlvbiBjb21waWxlSW5wdXQoKSB7XG4gICAgbGV0IGFzdCA9IGVudi5wYXJzZShpbnB1dCwgb3B0aW9ucyksXG4gICAgICBlbnZpcm9ubWVudCA9IG5ldyBlbnYuQ29tcGlsZXIoKS5jb21waWxlKGFzdCwgb3B0aW9ucyksXG4gICAgICB0ZW1wbGF0ZVNwZWMgPSBuZXcgZW52LkphdmFTY3JpcHRDb21waWxlcigpLmNvbXBpbGUoXG4gICAgICAgIGVudmlyb25tZW50LFxuICAgICAgICBvcHRpb25zLFxuICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgIHRydWVcbiAgICAgICk7XG4gICAgcmV0dXJuIGVudi50ZW1wbGF0ZSh0ZW1wbGF0ZVNwZWMpO1xuICB9XG5cbiAgLy8gVGVtcGxhdGUgaXMgb25seSBjb21waWxlZCBvbiBmaXJzdCB1c2UgYW5kIGNhY2hlZCBhZnRlciB0aGF0IHBvaW50LlxuICBmdW5jdGlvbiByZXQoY29udGV4dCwgZXhlY09wdGlvbnMpIHtcbiAgICBpZiAoIWNvbXBpbGVkKSB7XG4gICAgICBjb21waWxlZCA9IGNvbXBpbGVJbnB1dCgpO1xuICAgIH1cbiAgICByZXR1cm4gY29tcGlsZWQuY2FsbCh0aGlzLCBjb250ZXh0LCBleGVjT3B0aW9ucyk7XG4gIH1cbiAgcmV0Ll9zZXR1cCA9IGZ1bmN0aW9uKHNldHVwT3B0aW9ucykge1xuICAgIGlmICghY29tcGlsZWQpIHtcbiAgICAgIGNvbXBpbGVkID0gY29tcGlsZUlucHV0KCk7XG4gICAgfVxuICAgIHJldHVybiBjb21waWxlZC5fc2V0dXAoc2V0dXBPcHRpb25zKTtcbiAgfTtcbiAgcmV0Ll9jaGlsZCA9IGZ1bmN0aW9uKGksIGRhdGEsIGJsb2NrUGFyYW1zLCBkZXB0aHMpIHtcbiAgICBpZiAoIWNvbXBpbGVkKSB7XG4gICAgICBjb21waWxlZCA9IGNvbXBpbGVJbnB1dCgpO1xuICAgIH1cbiAgICByZXR1cm4gY29tcGlsZWQuX2NoaWxkKGksIGRhdGEsIGJsb2NrUGFyYW1zLCBkZXB0aHMpO1xuICB9O1xuICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBhcmdFcXVhbHMoYSwgYikge1xuICBpZiAoYSA9PT0gYikge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgaWYgKGlzQXJyYXkoYSkgJiYgaXNBcnJheShiKSAmJiBhLmxlbmd0aCA9PT0gYi5sZW5ndGgpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGEubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICghYXJnRXF1YWxzKGFbaV0sIGJbaV0pKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn1cblxuZnVuY3Rpb24gdHJhbnNmb3JtTGl0ZXJhbFRvUGF0aChzZXhwcikge1xuICBpZiAoIXNleHByLnBhdGgucGFydHMpIHtcbiAgICBsZXQgbGl0ZXJhbCA9IHNleHByLnBhdGg7XG4gICAgLy8gQ2FzdGluZyB0byBzdHJpbmcgaGVyZSB0byBtYWtlIGZhbHNlIGFuZCAwIGxpdGVyYWwgdmFsdWVzIHBsYXkgbmljZWx5IHdpdGggdGhlIHJlc3RcbiAgICAvLyBvZiB0aGUgc3lzdGVtLlxuICAgIHNleHByLnBhdGggPSB7XG4gICAgICB0eXBlOiAnUGF0aEV4cHJlc3Npb24nLFxuICAgICAgZGF0YTogZmFsc2UsXG4gICAgICBkZXB0aDogMCxcbiAgICAgIHBhcnRzOiBbbGl0ZXJhbC5vcmlnaW5hbCArICcnXSxcbiAgICAgIG9yaWdpbmFsOiBsaXRlcmFsLm9yaWdpbmFsICsgJycsXG4gICAgICBsb2M6IGxpdGVyYWwubG9jXG4gICAgfTtcbiAgfVxufVxuIiwgIi8qIC0qLSBNb2RlOiBqczsganMtaW5kZW50LWxldmVsOiAyOyAtKi0gKi9cbi8qXG4gKiBDb3B5cmlnaHQgMjAxMSBNb3ppbGxhIEZvdW5kYXRpb24gYW5kIGNvbnRyaWJ1dG9yc1xuICogTGljZW5zZWQgdW5kZXIgdGhlIE5ldyBCU0QgbGljZW5zZS4gU2VlIExJQ0VOU0Ugb3I6XG4gKiBodHRwOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvQlNELTMtQ2xhdXNlXG4gKi9cblxudmFyIGludFRvQ2hhck1hcCA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvJy5zcGxpdCgnJyk7XG5cbi8qKlxuICogRW5jb2RlIGFuIGludGVnZXIgaW4gdGhlIHJhbmdlIG9mIDAgdG8gNjMgdG8gYSBzaW5nbGUgYmFzZSA2NCBkaWdpdC5cbiAqL1xuZXhwb3J0cy5lbmNvZGUgPSBmdW5jdGlvbiAobnVtYmVyKSB7XG4gIGlmICgwIDw9IG51bWJlciAmJiBudW1iZXIgPCBpbnRUb0NoYXJNYXAubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGludFRvQ2hhck1hcFtudW1iZXJdO1xuICB9XG4gIHRocm93IG5ldyBUeXBlRXJyb3IoXCJNdXN0IGJlIGJldHdlZW4gMCBhbmQgNjM6IFwiICsgbnVtYmVyKTtcbn07XG5cbi8qKlxuICogRGVjb2RlIGEgc2luZ2xlIGJhc2UgNjQgY2hhcmFjdGVyIGNvZGUgZGlnaXQgdG8gYW4gaW50ZWdlci4gUmV0dXJucyAtMSBvblxuICogZmFpbHVyZS5cbiAqL1xuZXhwb3J0cy5kZWNvZGUgPSBmdW5jdGlvbiAoY2hhckNvZGUpIHtcbiAgdmFyIGJpZ0EgPSA2NTsgICAgIC8vICdBJ1xuICB2YXIgYmlnWiA9IDkwOyAgICAgLy8gJ1onXG5cbiAgdmFyIGxpdHRsZUEgPSA5NzsgIC8vICdhJ1xuICB2YXIgbGl0dGxlWiA9IDEyMjsgLy8gJ3onXG5cbiAgdmFyIHplcm8gPSA0ODsgICAgIC8vICcwJ1xuICB2YXIgbmluZSA9IDU3OyAgICAgLy8gJzknXG5cbiAgdmFyIHBsdXMgPSA0MzsgICAgIC8vICcrJ1xuICB2YXIgc2xhc2ggPSA0NzsgICAgLy8gJy8nXG5cbiAgdmFyIGxpdHRsZU9mZnNldCA9IDI2O1xuICB2YXIgbnVtYmVyT2Zmc2V0ID0gNTI7XG5cbiAgLy8gMCAtIDI1OiBBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWlxuICBpZiAoYmlnQSA8PSBjaGFyQ29kZSAmJiBjaGFyQ29kZSA8PSBiaWdaKSB7XG4gICAgcmV0dXJuIChjaGFyQ29kZSAtIGJpZ0EpO1xuICB9XG5cbiAgLy8gMjYgLSA1MTogYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpcbiAgaWYgKGxpdHRsZUEgPD0gY2hhckNvZGUgJiYgY2hhckNvZGUgPD0gbGl0dGxlWikge1xuICAgIHJldHVybiAoY2hhckNvZGUgLSBsaXR0bGVBICsgbGl0dGxlT2Zmc2V0KTtcbiAgfVxuXG4gIC8vIDUyIC0gNjE6IDAxMjM0NTY3ODlcbiAgaWYgKHplcm8gPD0gY2hhckNvZGUgJiYgY2hhckNvZGUgPD0gbmluZSkge1xuICAgIHJldHVybiAoY2hhckNvZGUgLSB6ZXJvICsgbnVtYmVyT2Zmc2V0KTtcbiAgfVxuXG4gIC8vIDYyOiArXG4gIGlmIChjaGFyQ29kZSA9PSBwbHVzKSB7XG4gICAgcmV0dXJuIDYyO1xuICB9XG5cbiAgLy8gNjM6IC9cbiAgaWYgKGNoYXJDb2RlID09IHNsYXNoKSB7XG4gICAgcmV0dXJuIDYzO1xuICB9XG5cbiAgLy8gSW52YWxpZCBiYXNlNjQgZGlnaXQuXG4gIHJldHVybiAtMTtcbn07XG4iLCAiLyogLSotIE1vZGU6IGpzOyBqcy1pbmRlbnQtbGV2ZWw6IDI7IC0qLSAqL1xuLypcbiAqIENvcHlyaWdodCAyMDExIE1vemlsbGEgRm91bmRhdGlvbiBhbmQgY29udHJpYnV0b3JzXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTmV3IEJTRCBsaWNlbnNlLiBTZWUgTElDRU5TRSBvcjpcbiAqIGh0dHA6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9CU0QtMy1DbGF1c2VcbiAqXG4gKiBCYXNlZCBvbiB0aGUgQmFzZSA2NCBWTFEgaW1wbGVtZW50YXRpb24gaW4gQ2xvc3VyZSBDb21waWxlcjpcbiAqIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvY2xvc3VyZS1jb21waWxlci9zb3VyY2UvYnJvd3NlL3RydW5rL3NyYy9jb20vZ29vZ2xlL2RlYnVnZ2luZy9zb3VyY2VtYXAvQmFzZTY0VkxRLmphdmFcbiAqXG4gKiBDb3B5cmlnaHQgMjAxMSBUaGUgQ2xvc3VyZSBDb21waWxlciBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0XG4gKiBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlXG4gKiBtZXQ6XG4gKlxuICogICogUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHRcbiAqICAgIG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cbiAqICAqIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmVcbiAqICAgIGNvcHlyaWdodCBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nXG4gKiAgICBkaXNjbGFpbWVyIGluIHRoZSBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWRcbiAqICAgIHdpdGggdGhlIGRpc3RyaWJ1dGlvbi5cbiAqICAqIE5laXRoZXIgdGhlIG5hbWUgb2YgR29vZ2xlIEluYy4gbm9yIHRoZSBuYW1lcyBvZiBpdHNcbiAqICAgIGNvbnRyaWJ1dG9ycyBtYXkgYmUgdXNlZCB0byBlbmRvcnNlIG9yIHByb21vdGUgcHJvZHVjdHMgZGVyaXZlZFxuICogICAgZnJvbSB0aGlzIHNvZnR3YXJlIHdpdGhvdXQgc3BlY2lmaWMgcHJpb3Igd3JpdHRlbiBwZXJtaXNzaW9uLlxuICpcbiAqIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlNcbiAqIFwiQVMgSVNcIiBBTkQgQU5ZIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1RcbiAqIExJTUlURUQgVE8sIFRIRSBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUlxuICogQSBQQVJUSUNVTEFSIFBVUlBPU0UgQVJFIERJU0NMQUlNRUQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFRcbiAqIE9XTkVSIE9SIENPTlRSSUJVVE9SUyBCRSBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLFxuICogU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUIE5PVFxuICogTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsXG4gKiBEQVRBLCBPUiBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTllcbiAqIFRIRU9SWSBPRiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlRcbiAqIChJTkNMVURJTkcgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRVxuICogT0YgVEhJUyBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRSBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cbiAqL1xuXG52YXIgYmFzZTY0ID0gcmVxdWlyZSgnLi9iYXNlNjQnKTtcblxuLy8gQSBzaW5nbGUgYmFzZSA2NCBkaWdpdCBjYW4gY29udGFpbiA2IGJpdHMgb2YgZGF0YS4gRm9yIHRoZSBiYXNlIDY0IHZhcmlhYmxlXG4vLyBsZW5ndGggcXVhbnRpdGllcyB3ZSB1c2UgaW4gdGhlIHNvdXJjZSBtYXAgc3BlYywgdGhlIGZpcnN0IGJpdCBpcyB0aGUgc2lnbixcbi8vIHRoZSBuZXh0IGZvdXIgYml0cyBhcmUgdGhlIGFjdHVhbCB2YWx1ZSwgYW5kIHRoZSA2dGggYml0IGlzIHRoZVxuLy8gY29udGludWF0aW9uIGJpdC4gVGhlIGNvbnRpbnVhdGlvbiBiaXQgdGVsbHMgdXMgd2hldGhlciB0aGVyZSBhcmUgbW9yZVxuLy8gZGlnaXRzIGluIHRoaXMgdmFsdWUgZm9sbG93aW5nIHRoaXMgZGlnaXQuXG4vL1xuLy8gICBDb250aW51YXRpb25cbi8vICAgfCAgICBTaWduXG4vLyAgIHwgICAgfFxuLy8gICBWICAgIFZcbi8vICAgMTAxMDExXG5cbnZhciBWTFFfQkFTRV9TSElGVCA9IDU7XG5cbi8vIGJpbmFyeTogMTAwMDAwXG52YXIgVkxRX0JBU0UgPSAxIDw8IFZMUV9CQVNFX1NISUZUO1xuXG4vLyBiaW5hcnk6IDAxMTExMVxudmFyIFZMUV9CQVNFX01BU0sgPSBWTFFfQkFTRSAtIDE7XG5cbi8vIGJpbmFyeTogMTAwMDAwXG52YXIgVkxRX0NPTlRJTlVBVElPTl9CSVQgPSBWTFFfQkFTRTtcblxuLyoqXG4gKiBDb252ZXJ0cyBmcm9tIGEgdHdvLWNvbXBsZW1lbnQgdmFsdWUgdG8gYSB2YWx1ZSB3aGVyZSB0aGUgc2lnbiBiaXQgaXNcbiAqIHBsYWNlZCBpbiB0aGUgbGVhc3Qgc2lnbmlmaWNhbnQgYml0LiAgRm9yIGV4YW1wbGUsIGFzIGRlY2ltYWxzOlxuICogICAxIGJlY29tZXMgMiAoMTAgYmluYXJ5KSwgLTEgYmVjb21lcyAzICgxMSBiaW5hcnkpXG4gKiAgIDIgYmVjb21lcyA0ICgxMDAgYmluYXJ5KSwgLTIgYmVjb21lcyA1ICgxMDEgYmluYXJ5KVxuICovXG5mdW5jdGlvbiB0b1ZMUVNpZ25lZChhVmFsdWUpIHtcbiAgcmV0dXJuIGFWYWx1ZSA8IDBcbiAgICA/ICgoLWFWYWx1ZSkgPDwgMSkgKyAxXG4gICAgOiAoYVZhbHVlIDw8IDEpICsgMDtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyB0byBhIHR3by1jb21wbGVtZW50IHZhbHVlIGZyb20gYSB2YWx1ZSB3aGVyZSB0aGUgc2lnbiBiaXQgaXNcbiAqIHBsYWNlZCBpbiB0aGUgbGVhc3Qgc2lnbmlmaWNhbnQgYml0LiAgRm9yIGV4YW1wbGUsIGFzIGRlY2ltYWxzOlxuICogICAyICgxMCBiaW5hcnkpIGJlY29tZXMgMSwgMyAoMTEgYmluYXJ5KSBiZWNvbWVzIC0xXG4gKiAgIDQgKDEwMCBiaW5hcnkpIGJlY29tZXMgMiwgNSAoMTAxIGJpbmFyeSkgYmVjb21lcyAtMlxuICovXG5mdW5jdGlvbiBmcm9tVkxRU2lnbmVkKGFWYWx1ZSkge1xuICB2YXIgaXNOZWdhdGl2ZSA9IChhVmFsdWUgJiAxKSA9PT0gMTtcbiAgdmFyIHNoaWZ0ZWQgPSBhVmFsdWUgPj4gMTtcbiAgcmV0dXJuIGlzTmVnYXRpdmVcbiAgICA/IC1zaGlmdGVkXG4gICAgOiBzaGlmdGVkO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIGJhc2UgNjQgVkxRIGVuY29kZWQgdmFsdWUuXG4gKi9cbmV4cG9ydHMuZW5jb2RlID0gZnVuY3Rpb24gYmFzZTY0VkxRX2VuY29kZShhVmFsdWUpIHtcbiAgdmFyIGVuY29kZWQgPSBcIlwiO1xuICB2YXIgZGlnaXQ7XG5cbiAgdmFyIHZscSA9IHRvVkxRU2lnbmVkKGFWYWx1ZSk7XG5cbiAgZG8ge1xuICAgIGRpZ2l0ID0gdmxxICYgVkxRX0JBU0VfTUFTSztcbiAgICB2bHEgPj4+PSBWTFFfQkFTRV9TSElGVDtcbiAgICBpZiAodmxxID4gMCkge1xuICAgICAgLy8gVGhlcmUgYXJlIHN0aWxsIG1vcmUgZGlnaXRzIGluIHRoaXMgdmFsdWUsIHNvIHdlIG11c3QgbWFrZSBzdXJlIHRoZVxuICAgICAgLy8gY29udGludWF0aW9uIGJpdCBpcyBtYXJrZWQuXG4gICAgICBkaWdpdCB8PSBWTFFfQ09OVElOVUFUSU9OX0JJVDtcbiAgICB9XG4gICAgZW5jb2RlZCArPSBiYXNlNjQuZW5jb2RlKGRpZ2l0KTtcbiAgfSB3aGlsZSAodmxxID4gMCk7XG5cbiAgcmV0dXJuIGVuY29kZWQ7XG59O1xuXG4vKipcbiAqIERlY29kZXMgdGhlIG5leHQgYmFzZSA2NCBWTFEgdmFsdWUgZnJvbSB0aGUgZ2l2ZW4gc3RyaW5nIGFuZCByZXR1cm5zIHRoZVxuICogdmFsdWUgYW5kIHRoZSByZXN0IG9mIHRoZSBzdHJpbmcgdmlhIHRoZSBvdXQgcGFyYW1ldGVyLlxuICovXG5leHBvcnRzLmRlY29kZSA9IGZ1bmN0aW9uIGJhc2U2NFZMUV9kZWNvZGUoYVN0ciwgYUluZGV4LCBhT3V0UGFyYW0pIHtcbiAgdmFyIHN0ckxlbiA9IGFTdHIubGVuZ3RoO1xuICB2YXIgcmVzdWx0ID0gMDtcbiAgdmFyIHNoaWZ0ID0gMDtcbiAgdmFyIGNvbnRpbnVhdGlvbiwgZGlnaXQ7XG5cbiAgZG8ge1xuICAgIGlmIChhSW5kZXggPj0gc3RyTGVuKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFeHBlY3RlZCBtb3JlIGRpZ2l0cyBpbiBiYXNlIDY0IFZMUSB2YWx1ZS5cIik7XG4gICAgfVxuXG4gICAgZGlnaXQgPSBiYXNlNjQuZGVjb2RlKGFTdHIuY2hhckNvZGVBdChhSW5kZXgrKykpO1xuICAgIGlmIChkaWdpdCA9PT0gLTEpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgYmFzZTY0IGRpZ2l0OiBcIiArIGFTdHIuY2hhckF0KGFJbmRleCAtIDEpKTtcbiAgICB9XG5cbiAgICBjb250aW51YXRpb24gPSAhIShkaWdpdCAmIFZMUV9DT05USU5VQVRJT05fQklUKTtcbiAgICBkaWdpdCAmPSBWTFFfQkFTRV9NQVNLO1xuICAgIHJlc3VsdCA9IHJlc3VsdCArIChkaWdpdCA8PCBzaGlmdCk7XG4gICAgc2hpZnQgKz0gVkxRX0JBU0VfU0hJRlQ7XG4gIH0gd2hpbGUgKGNvbnRpbnVhdGlvbik7XG5cbiAgYU91dFBhcmFtLnZhbHVlID0gZnJvbVZMUVNpZ25lZChyZXN1bHQpO1xuICBhT3V0UGFyYW0ucmVzdCA9IGFJbmRleDtcbn07XG4iLCAiLyogLSotIE1vZGU6IGpzOyBqcy1pbmRlbnQtbGV2ZWw6IDI7IC0qLSAqL1xuLypcbiAqIENvcHlyaWdodCAyMDExIE1vemlsbGEgRm91bmRhdGlvbiBhbmQgY29udHJpYnV0b3JzXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTmV3IEJTRCBsaWNlbnNlLiBTZWUgTElDRU5TRSBvcjpcbiAqIGh0dHA6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9CU0QtMy1DbGF1c2VcbiAqL1xuXG4vKipcbiAqIFRoaXMgaXMgYSBoZWxwZXIgZnVuY3Rpb24gZm9yIGdldHRpbmcgdmFsdWVzIGZyb20gcGFyYW1ldGVyL29wdGlvbnNcbiAqIG9iamVjdHMuXG4gKlxuICogQHBhcmFtIGFyZ3MgVGhlIG9iamVjdCB3ZSBhcmUgZXh0cmFjdGluZyB2YWx1ZXMgZnJvbVxuICogQHBhcmFtIG5hbWUgVGhlIG5hbWUgb2YgdGhlIHByb3BlcnR5IHdlIGFyZSBnZXR0aW5nLlxuICogQHBhcmFtIGRlZmF1bHRWYWx1ZSBBbiBvcHRpb25hbCB2YWx1ZSB0byByZXR1cm4gaWYgdGhlIHByb3BlcnR5IGlzIG1pc3NpbmdcbiAqIGZyb20gdGhlIG9iamVjdC4gSWYgdGhpcyBpcyBub3Qgc3BlY2lmaWVkIGFuZCB0aGUgcHJvcGVydHkgaXMgbWlzc2luZywgYW5cbiAqIGVycm9yIHdpbGwgYmUgdGhyb3duLlxuICovXG5mdW5jdGlvbiBnZXRBcmcoYUFyZ3MsIGFOYW1lLCBhRGVmYXVsdFZhbHVlKSB7XG4gIGlmIChhTmFtZSBpbiBhQXJncykge1xuICAgIHJldHVybiBhQXJnc1thTmFtZV07XG4gIH0gZWxzZSBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMykge1xuICAgIHJldHVybiBhRGVmYXVsdFZhbHVlO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcignXCInICsgYU5hbWUgKyAnXCIgaXMgYSByZXF1aXJlZCBhcmd1bWVudC4nKTtcbiAgfVxufVxuZXhwb3J0cy5nZXRBcmcgPSBnZXRBcmc7XG5cbnZhciB1cmxSZWdleHAgPSAvXig/OihbXFx3K1xcLS5dKyk6KT9cXC9cXC8oPzooXFx3KzpcXHcrKUApPyhbXFx3Li1dKikoPzo6KFxcZCspKT8oLiopJC87XG52YXIgZGF0YVVybFJlZ2V4cCA9IC9eZGF0YTouK1xcLC4rJC87XG5cbmZ1bmN0aW9uIHVybFBhcnNlKGFVcmwpIHtcbiAgdmFyIG1hdGNoID0gYVVybC5tYXRjaCh1cmxSZWdleHApO1xuICBpZiAoIW1hdGNoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBzY2hlbWU6IG1hdGNoWzFdLFxuICAgIGF1dGg6IG1hdGNoWzJdLFxuICAgIGhvc3Q6IG1hdGNoWzNdLFxuICAgIHBvcnQ6IG1hdGNoWzRdLFxuICAgIHBhdGg6IG1hdGNoWzVdXG4gIH07XG59XG5leHBvcnRzLnVybFBhcnNlID0gdXJsUGFyc2U7XG5cbmZ1bmN0aW9uIHVybEdlbmVyYXRlKGFQYXJzZWRVcmwpIHtcbiAgdmFyIHVybCA9ICcnO1xuICBpZiAoYVBhcnNlZFVybC5zY2hlbWUpIHtcbiAgICB1cmwgKz0gYVBhcnNlZFVybC5zY2hlbWUgKyAnOic7XG4gIH1cbiAgdXJsICs9ICcvLyc7XG4gIGlmIChhUGFyc2VkVXJsLmF1dGgpIHtcbiAgICB1cmwgKz0gYVBhcnNlZFVybC5hdXRoICsgJ0AnO1xuICB9XG4gIGlmIChhUGFyc2VkVXJsLmhvc3QpIHtcbiAgICB1cmwgKz0gYVBhcnNlZFVybC5ob3N0O1xuICB9XG4gIGlmIChhUGFyc2VkVXJsLnBvcnQpIHtcbiAgICB1cmwgKz0gXCI6XCIgKyBhUGFyc2VkVXJsLnBvcnRcbiAgfVxuICBpZiAoYVBhcnNlZFVybC5wYXRoKSB7XG4gICAgdXJsICs9IGFQYXJzZWRVcmwucGF0aDtcbiAgfVxuICByZXR1cm4gdXJsO1xufVxuZXhwb3J0cy51cmxHZW5lcmF0ZSA9IHVybEdlbmVyYXRlO1xuXG4vKipcbiAqIE5vcm1hbGl6ZXMgYSBwYXRoLCBvciB0aGUgcGF0aCBwb3J0aW9uIG9mIGEgVVJMOlxuICpcbiAqIC0gUmVwbGFjZXMgY29uc2VjdXRpdmUgc2xhc2hlcyB3aXRoIG9uZSBzbGFzaC5cbiAqIC0gUmVtb3ZlcyB1bm5lY2Vzc2FyeSAnLicgcGFydHMuXG4gKiAtIFJlbW92ZXMgdW5uZWNlc3NhcnkgJzxkaXI+Ly4uJyBwYXJ0cy5cbiAqXG4gKiBCYXNlZCBvbiBjb2RlIGluIHRoZSBOb2RlLmpzICdwYXRoJyBjb3JlIG1vZHVsZS5cbiAqXG4gKiBAcGFyYW0gYVBhdGggVGhlIHBhdGggb3IgdXJsIHRvIG5vcm1hbGl6ZS5cbiAqL1xuZnVuY3Rpb24gbm9ybWFsaXplKGFQYXRoKSB7XG4gIHZhciBwYXRoID0gYVBhdGg7XG4gIHZhciB1cmwgPSB1cmxQYXJzZShhUGF0aCk7XG4gIGlmICh1cmwpIHtcbiAgICBpZiAoIXVybC5wYXRoKSB7XG4gICAgICByZXR1cm4gYVBhdGg7XG4gICAgfVxuICAgIHBhdGggPSB1cmwucGF0aDtcbiAgfVxuICB2YXIgaXNBYnNvbHV0ZSA9IGV4cG9ydHMuaXNBYnNvbHV0ZShwYXRoKTtcblxuICB2YXIgcGFydHMgPSBwYXRoLnNwbGl0KC9cXC8rLyk7XG4gIGZvciAodmFyIHBhcnQsIHVwID0gMCwgaSA9IHBhcnRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgcGFydCA9IHBhcnRzW2ldO1xuICAgIGlmIChwYXJ0ID09PSAnLicpIHtcbiAgICAgIHBhcnRzLnNwbGljZShpLCAxKTtcbiAgICB9IGVsc2UgaWYgKHBhcnQgPT09ICcuLicpIHtcbiAgICAgIHVwKys7XG4gICAgfSBlbHNlIGlmICh1cCA+IDApIHtcbiAgICAgIGlmIChwYXJ0ID09PSAnJykge1xuICAgICAgICAvLyBUaGUgZmlyc3QgcGFydCBpcyBibGFuayBpZiB0aGUgcGF0aCBpcyBhYnNvbHV0ZS4gVHJ5aW5nIHRvIGdvXG4gICAgICAgIC8vIGFib3ZlIHRoZSByb290IGlzIGEgbm8tb3AuIFRoZXJlZm9yZSB3ZSBjYW4gcmVtb3ZlIGFsbCAnLi4nIHBhcnRzXG4gICAgICAgIC8vIGRpcmVjdGx5IGFmdGVyIHRoZSByb290LlxuICAgICAgICBwYXJ0cy5zcGxpY2UoaSArIDEsIHVwKTtcbiAgICAgICAgdXAgPSAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFydHMuc3BsaWNlKGksIDIpO1xuICAgICAgICB1cC0tO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBwYXRoID0gcGFydHMuam9pbignLycpO1xuXG4gIGlmIChwYXRoID09PSAnJykge1xuICAgIHBhdGggPSBpc0Fic29sdXRlID8gJy8nIDogJy4nO1xuICB9XG5cbiAgaWYgKHVybCkge1xuICAgIHVybC5wYXRoID0gcGF0aDtcbiAgICByZXR1cm4gdXJsR2VuZXJhdGUodXJsKTtcbiAgfVxuICByZXR1cm4gcGF0aDtcbn1cbmV4cG9ydHMubm9ybWFsaXplID0gbm9ybWFsaXplO1xuXG4vKipcbiAqIEpvaW5zIHR3byBwYXRocy9VUkxzLlxuICpcbiAqIEBwYXJhbSBhUm9vdCBUaGUgcm9vdCBwYXRoIG9yIFVSTC5cbiAqIEBwYXJhbSBhUGF0aCBUaGUgcGF0aCBvciBVUkwgdG8gYmUgam9pbmVkIHdpdGggdGhlIHJvb3QuXG4gKlxuICogLSBJZiBhUGF0aCBpcyBhIFVSTCBvciBhIGRhdGEgVVJJLCBhUGF0aCBpcyByZXR1cm5lZCwgdW5sZXNzIGFQYXRoIGlzIGFcbiAqICAgc2NoZW1lLXJlbGF0aXZlIFVSTDogVGhlbiB0aGUgc2NoZW1lIG9mIGFSb290LCBpZiBhbnksIGlzIHByZXBlbmRlZFxuICogICBmaXJzdC5cbiAqIC0gT3RoZXJ3aXNlIGFQYXRoIGlzIGEgcGF0aC4gSWYgYVJvb3QgaXMgYSBVUkwsIHRoZW4gaXRzIHBhdGggcG9ydGlvblxuICogICBpcyB1cGRhdGVkIHdpdGggdGhlIHJlc3VsdCBhbmQgYVJvb3QgaXMgcmV0dXJuZWQuIE90aGVyd2lzZSB0aGUgcmVzdWx0XG4gKiAgIGlzIHJldHVybmVkLlxuICogICAtIElmIGFQYXRoIGlzIGFic29sdXRlLCB0aGUgcmVzdWx0IGlzIGFQYXRoLlxuICogICAtIE90aGVyd2lzZSB0aGUgdHdvIHBhdGhzIGFyZSBqb2luZWQgd2l0aCBhIHNsYXNoLlxuICogLSBKb2luaW5nIGZvciBleGFtcGxlICdodHRwOi8vJyBhbmQgJ3d3dy5leGFtcGxlLmNvbScgaXMgYWxzbyBzdXBwb3J0ZWQuXG4gKi9cbmZ1bmN0aW9uIGpvaW4oYVJvb3QsIGFQYXRoKSB7XG4gIGlmIChhUm9vdCA9PT0gXCJcIikge1xuICAgIGFSb290ID0gXCIuXCI7XG4gIH1cbiAgaWYgKGFQYXRoID09PSBcIlwiKSB7XG4gICAgYVBhdGggPSBcIi5cIjtcbiAgfVxuICB2YXIgYVBhdGhVcmwgPSB1cmxQYXJzZShhUGF0aCk7XG4gIHZhciBhUm9vdFVybCA9IHVybFBhcnNlKGFSb290KTtcbiAgaWYgKGFSb290VXJsKSB7XG4gICAgYVJvb3QgPSBhUm9vdFVybC5wYXRoIHx8ICcvJztcbiAgfVxuXG4gIC8vIGBqb2luKGZvbywgJy8vd3d3LmV4YW1wbGUub3JnJylgXG4gIGlmIChhUGF0aFVybCAmJiAhYVBhdGhVcmwuc2NoZW1lKSB7XG4gICAgaWYgKGFSb290VXJsKSB7XG4gICAgICBhUGF0aFVybC5zY2hlbWUgPSBhUm9vdFVybC5zY2hlbWU7XG4gICAgfVxuICAgIHJldHVybiB1cmxHZW5lcmF0ZShhUGF0aFVybCk7XG4gIH1cblxuICBpZiAoYVBhdGhVcmwgfHwgYVBhdGgubWF0Y2goZGF0YVVybFJlZ2V4cCkpIHtcbiAgICByZXR1cm4gYVBhdGg7XG4gIH1cblxuICAvLyBgam9pbignaHR0cDovLycsICd3d3cuZXhhbXBsZS5jb20nKWBcbiAgaWYgKGFSb290VXJsICYmICFhUm9vdFVybC5ob3N0ICYmICFhUm9vdFVybC5wYXRoKSB7XG4gICAgYVJvb3RVcmwuaG9zdCA9IGFQYXRoO1xuICAgIHJldHVybiB1cmxHZW5lcmF0ZShhUm9vdFVybCk7XG4gIH1cblxuICB2YXIgam9pbmVkID0gYVBhdGguY2hhckF0KDApID09PSAnLydcbiAgICA/IGFQYXRoXG4gICAgOiBub3JtYWxpemUoYVJvb3QucmVwbGFjZSgvXFwvKyQvLCAnJykgKyAnLycgKyBhUGF0aCk7XG5cbiAgaWYgKGFSb290VXJsKSB7XG4gICAgYVJvb3RVcmwucGF0aCA9IGpvaW5lZDtcbiAgICByZXR1cm4gdXJsR2VuZXJhdGUoYVJvb3RVcmwpO1xuICB9XG4gIHJldHVybiBqb2luZWQ7XG59XG5leHBvcnRzLmpvaW4gPSBqb2luO1xuXG5leHBvcnRzLmlzQWJzb2x1dGUgPSBmdW5jdGlvbiAoYVBhdGgpIHtcbiAgcmV0dXJuIGFQYXRoLmNoYXJBdCgwKSA9PT0gJy8nIHx8IHVybFJlZ2V4cC50ZXN0KGFQYXRoKTtcbn07XG5cbi8qKlxuICogTWFrZSBhIHBhdGggcmVsYXRpdmUgdG8gYSBVUkwgb3IgYW5vdGhlciBwYXRoLlxuICpcbiAqIEBwYXJhbSBhUm9vdCBUaGUgcm9vdCBwYXRoIG9yIFVSTC5cbiAqIEBwYXJhbSBhUGF0aCBUaGUgcGF0aCBvciBVUkwgdG8gYmUgbWFkZSByZWxhdGl2ZSB0byBhUm9vdC5cbiAqL1xuZnVuY3Rpb24gcmVsYXRpdmUoYVJvb3QsIGFQYXRoKSB7XG4gIGlmIChhUm9vdCA9PT0gXCJcIikge1xuICAgIGFSb290ID0gXCIuXCI7XG4gIH1cblxuICBhUm9vdCA9IGFSb290LnJlcGxhY2UoL1xcLyQvLCAnJyk7XG5cbiAgLy8gSXQgaXMgcG9zc2libGUgZm9yIHRoZSBwYXRoIHRvIGJlIGFib3ZlIHRoZSByb290LiBJbiB0aGlzIGNhc2UsIHNpbXBseVxuICAvLyBjaGVja2luZyB3aGV0aGVyIHRoZSByb290IGlzIGEgcHJlZml4IG9mIHRoZSBwYXRoIHdvbid0IHdvcmsuIEluc3RlYWQsIHdlXG4gIC8vIG5lZWQgdG8gcmVtb3ZlIGNvbXBvbmVudHMgZnJvbSB0aGUgcm9vdCBvbmUgYnkgb25lLCB1bnRpbCBlaXRoZXIgd2UgZmluZFxuICAvLyBhIHByZWZpeCB0aGF0IGZpdHMsIG9yIHdlIHJ1biBvdXQgb2YgY29tcG9uZW50cyB0byByZW1vdmUuXG4gIHZhciBsZXZlbCA9IDA7XG4gIHdoaWxlIChhUGF0aC5pbmRleE9mKGFSb290ICsgJy8nKSAhPT0gMCkge1xuICAgIHZhciBpbmRleCA9IGFSb290Lmxhc3RJbmRleE9mKFwiL1wiKTtcbiAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICByZXR1cm4gYVBhdGg7XG4gICAgfVxuXG4gICAgLy8gSWYgdGhlIG9ubHkgcGFydCBvZiB0aGUgcm9vdCB0aGF0IGlzIGxlZnQgaXMgdGhlIHNjaGVtZSAoaS5lLiBodHRwOi8vLFxuICAgIC8vIGZpbGU6Ly8vLCBldGMuKSwgb25lIG9yIG1vcmUgc2xhc2hlcyAoLyksIG9yIHNpbXBseSBub3RoaW5nIGF0IGFsbCwgd2VcbiAgICAvLyBoYXZlIGV4aGF1c3RlZCBhbGwgY29tcG9uZW50cywgc28gdGhlIHBhdGggaXMgbm90IHJlbGF0aXZlIHRvIHRoZSByb290LlxuICAgIGFSb290ID0gYVJvb3Quc2xpY2UoMCwgaW5kZXgpO1xuICAgIGlmIChhUm9vdC5tYXRjaCgvXihbXlxcL10rOlxcLyk/XFwvKiQvKSkge1xuICAgICAgcmV0dXJuIGFQYXRoO1xuICAgIH1cblxuICAgICsrbGV2ZWw7XG4gIH1cblxuICAvLyBNYWtlIHN1cmUgd2UgYWRkIGEgXCIuLi9cIiBmb3IgZWFjaCBjb21wb25lbnQgd2UgcmVtb3ZlZCBmcm9tIHRoZSByb290LlxuICByZXR1cm4gQXJyYXkobGV2ZWwgKyAxKS5qb2luKFwiLi4vXCIpICsgYVBhdGguc3Vic3RyKGFSb290Lmxlbmd0aCArIDEpO1xufVxuZXhwb3J0cy5yZWxhdGl2ZSA9IHJlbGF0aXZlO1xuXG52YXIgc3VwcG9ydHNOdWxsUHJvdG8gPSAoZnVuY3Rpb24gKCkge1xuICB2YXIgb2JqID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgcmV0dXJuICEoJ19fcHJvdG9fXycgaW4gb2JqKTtcbn0oKSk7XG5cbmZ1bmN0aW9uIGlkZW50aXR5IChzKSB7XG4gIHJldHVybiBzO1xufVxuXG4vKipcbiAqIEJlY2F1c2UgYmVoYXZpb3IgZ29lcyB3YWNreSB3aGVuIHlvdSBzZXQgYF9fcHJvdG9fX2Agb24gb2JqZWN0cywgd2VcbiAqIGhhdmUgdG8gcHJlZml4IGFsbCB0aGUgc3RyaW5ncyBpbiBvdXIgc2V0IHdpdGggYW4gYXJiaXRyYXJ5IGNoYXJhY3Rlci5cbiAqXG4gKiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL21vemlsbGEvc291cmNlLW1hcC9wdWxsLzMxIGFuZFxuICogaHR0cHM6Ly9naXRodWIuY29tL21vemlsbGEvc291cmNlLW1hcC9pc3N1ZXMvMzBcbiAqXG4gKiBAcGFyYW0gU3RyaW5nIGFTdHJcbiAqL1xuZnVuY3Rpb24gdG9TZXRTdHJpbmcoYVN0cikge1xuICBpZiAoaXNQcm90b1N0cmluZyhhU3RyKSkge1xuICAgIHJldHVybiAnJCcgKyBhU3RyO1xuICB9XG5cbiAgcmV0dXJuIGFTdHI7XG59XG5leHBvcnRzLnRvU2V0U3RyaW5nID0gc3VwcG9ydHNOdWxsUHJvdG8gPyBpZGVudGl0eSA6IHRvU2V0U3RyaW5nO1xuXG5mdW5jdGlvbiBmcm9tU2V0U3RyaW5nKGFTdHIpIHtcbiAgaWYgKGlzUHJvdG9TdHJpbmcoYVN0cikpIHtcbiAgICByZXR1cm4gYVN0ci5zbGljZSgxKTtcbiAgfVxuXG4gIHJldHVybiBhU3RyO1xufVxuZXhwb3J0cy5mcm9tU2V0U3RyaW5nID0gc3VwcG9ydHNOdWxsUHJvdG8gPyBpZGVudGl0eSA6IGZyb21TZXRTdHJpbmc7XG5cbmZ1bmN0aW9uIGlzUHJvdG9TdHJpbmcocykge1xuICBpZiAoIXMpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB2YXIgbGVuZ3RoID0gcy5sZW5ndGg7XG5cbiAgaWYgKGxlbmd0aCA8IDkgLyogXCJfX3Byb3RvX19cIi5sZW5ndGggKi8pIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAocy5jaGFyQ29kZUF0KGxlbmd0aCAtIDEpICE9PSA5NSAgLyogJ18nICovIHx8XG4gICAgICBzLmNoYXJDb2RlQXQobGVuZ3RoIC0gMikgIT09IDk1ICAvKiAnXycgKi8gfHxcbiAgICAgIHMuY2hhckNvZGVBdChsZW5ndGggLSAzKSAhPT0gMTExIC8qICdvJyAqLyB8fFxuICAgICAgcy5jaGFyQ29kZUF0KGxlbmd0aCAtIDQpICE9PSAxMTYgLyogJ3QnICovIHx8XG4gICAgICBzLmNoYXJDb2RlQXQobGVuZ3RoIC0gNSkgIT09IDExMSAvKiAnbycgKi8gfHxcbiAgICAgIHMuY2hhckNvZGVBdChsZW5ndGggLSA2KSAhPT0gMTE0IC8qICdyJyAqLyB8fFxuICAgICAgcy5jaGFyQ29kZUF0KGxlbmd0aCAtIDcpICE9PSAxMTIgLyogJ3AnICovIHx8XG4gICAgICBzLmNoYXJDb2RlQXQobGVuZ3RoIC0gOCkgIT09IDk1ICAvKiAnXycgKi8gfHxcbiAgICAgIHMuY2hhckNvZGVBdChsZW5ndGggLSA5KSAhPT0gOTUgIC8qICdfJyAqLykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGZvciAodmFyIGkgPSBsZW5ndGggLSAxMDsgaSA+PSAwOyBpLS0pIHtcbiAgICBpZiAocy5jaGFyQ29kZUF0KGkpICE9PSAzNiAvKiAnJCcgKi8pIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBDb21wYXJhdG9yIGJldHdlZW4gdHdvIG1hcHBpbmdzIHdoZXJlIHRoZSBvcmlnaW5hbCBwb3NpdGlvbnMgYXJlIGNvbXBhcmVkLlxuICpcbiAqIE9wdGlvbmFsbHkgcGFzcyBpbiBgdHJ1ZWAgYXMgYG9ubHlDb21wYXJlR2VuZXJhdGVkYCB0byBjb25zaWRlciB0d29cbiAqIG1hcHBpbmdzIHdpdGggdGhlIHNhbWUgb3JpZ2luYWwgc291cmNlL2xpbmUvY29sdW1uLCBidXQgZGlmZmVyZW50IGdlbmVyYXRlZFxuICogbGluZSBhbmQgY29sdW1uIHRoZSBzYW1lLiBVc2VmdWwgd2hlbiBzZWFyY2hpbmcgZm9yIGEgbWFwcGluZyB3aXRoIGFcbiAqIHN0dWJiZWQgb3V0IG1hcHBpbmcuXG4gKi9cbmZ1bmN0aW9uIGNvbXBhcmVCeU9yaWdpbmFsUG9zaXRpb25zKG1hcHBpbmdBLCBtYXBwaW5nQiwgb25seUNvbXBhcmVPcmlnaW5hbCkge1xuICB2YXIgY21wID0gc3RyY21wKG1hcHBpbmdBLnNvdXJjZSwgbWFwcGluZ0Iuc291cmNlKTtcbiAgaWYgKGNtcCAhPT0gMCkge1xuICAgIHJldHVybiBjbXA7XG4gIH1cblxuICBjbXAgPSBtYXBwaW5nQS5vcmlnaW5hbExpbmUgLSBtYXBwaW5nQi5vcmlnaW5hbExpbmU7XG4gIGlmIChjbXAgIT09IDApIHtcbiAgICByZXR1cm4gY21wO1xuICB9XG5cbiAgY21wID0gbWFwcGluZ0Eub3JpZ2luYWxDb2x1bW4gLSBtYXBwaW5nQi5vcmlnaW5hbENvbHVtbjtcbiAgaWYgKGNtcCAhPT0gMCB8fCBvbmx5Q29tcGFyZU9yaWdpbmFsKSB7XG4gICAgcmV0dXJuIGNtcDtcbiAgfVxuXG4gIGNtcCA9IG1hcHBpbmdBLmdlbmVyYXRlZENvbHVtbiAtIG1hcHBpbmdCLmdlbmVyYXRlZENvbHVtbjtcbiAgaWYgKGNtcCAhPT0gMCkge1xuICAgIHJldHVybiBjbXA7XG4gIH1cblxuICBjbXAgPSBtYXBwaW5nQS5nZW5lcmF0ZWRMaW5lIC0gbWFwcGluZ0IuZ2VuZXJhdGVkTGluZTtcbiAgaWYgKGNtcCAhPT0gMCkge1xuICAgIHJldHVybiBjbXA7XG4gIH1cblxuICByZXR1cm4gc3RyY21wKG1hcHBpbmdBLm5hbWUsIG1hcHBpbmdCLm5hbWUpO1xufVxuZXhwb3J0cy5jb21wYXJlQnlPcmlnaW5hbFBvc2l0aW9ucyA9IGNvbXBhcmVCeU9yaWdpbmFsUG9zaXRpb25zO1xuXG4vKipcbiAqIENvbXBhcmF0b3IgYmV0d2VlbiB0d28gbWFwcGluZ3Mgd2l0aCBkZWZsYXRlZCBzb3VyY2UgYW5kIG5hbWUgaW5kaWNlcyB3aGVyZVxuICogdGhlIGdlbmVyYXRlZCBwb3NpdGlvbnMgYXJlIGNvbXBhcmVkLlxuICpcbiAqIE9wdGlvbmFsbHkgcGFzcyBpbiBgdHJ1ZWAgYXMgYG9ubHlDb21wYXJlR2VuZXJhdGVkYCB0byBjb25zaWRlciB0d29cbiAqIG1hcHBpbmdzIHdpdGggdGhlIHNhbWUgZ2VuZXJhdGVkIGxpbmUgYW5kIGNvbHVtbiwgYnV0IGRpZmZlcmVudFxuICogc291cmNlL25hbWUvb3JpZ2luYWwgbGluZSBhbmQgY29sdW1uIHRoZSBzYW1lLiBVc2VmdWwgd2hlbiBzZWFyY2hpbmcgZm9yIGFcbiAqIG1hcHBpbmcgd2l0aCBhIHN0dWJiZWQgb3V0IG1hcHBpbmcuXG4gKi9cbmZ1bmN0aW9uIGNvbXBhcmVCeUdlbmVyYXRlZFBvc2l0aW9uc0RlZmxhdGVkKG1hcHBpbmdBLCBtYXBwaW5nQiwgb25seUNvbXBhcmVHZW5lcmF0ZWQpIHtcbiAgdmFyIGNtcCA9IG1hcHBpbmdBLmdlbmVyYXRlZExpbmUgLSBtYXBwaW5nQi5nZW5lcmF0ZWRMaW5lO1xuICBpZiAoY21wICE9PSAwKSB7XG4gICAgcmV0dXJuIGNtcDtcbiAgfVxuXG4gIGNtcCA9IG1hcHBpbmdBLmdlbmVyYXRlZENvbHVtbiAtIG1hcHBpbmdCLmdlbmVyYXRlZENvbHVtbjtcbiAgaWYgKGNtcCAhPT0gMCB8fCBvbmx5Q29tcGFyZUdlbmVyYXRlZCkge1xuICAgIHJldHVybiBjbXA7XG4gIH1cblxuICBjbXAgPSBzdHJjbXAobWFwcGluZ0Euc291cmNlLCBtYXBwaW5nQi5zb3VyY2UpO1xuICBpZiAoY21wICE9PSAwKSB7XG4gICAgcmV0dXJuIGNtcDtcbiAgfVxuXG4gIGNtcCA9IG1hcHBpbmdBLm9yaWdpbmFsTGluZSAtIG1hcHBpbmdCLm9yaWdpbmFsTGluZTtcbiAgaWYgKGNtcCAhPT0gMCkge1xuICAgIHJldHVybiBjbXA7XG4gIH1cblxuICBjbXAgPSBtYXBwaW5nQS5vcmlnaW5hbENvbHVtbiAtIG1hcHBpbmdCLm9yaWdpbmFsQ29sdW1uO1xuICBpZiAoY21wICE9PSAwKSB7XG4gICAgcmV0dXJuIGNtcDtcbiAgfVxuXG4gIHJldHVybiBzdHJjbXAobWFwcGluZ0EubmFtZSwgbWFwcGluZ0IubmFtZSk7XG59XG5leHBvcnRzLmNvbXBhcmVCeUdlbmVyYXRlZFBvc2l0aW9uc0RlZmxhdGVkID0gY29tcGFyZUJ5R2VuZXJhdGVkUG9zaXRpb25zRGVmbGF0ZWQ7XG5cbmZ1bmN0aW9uIHN0cmNtcChhU3RyMSwgYVN0cjIpIHtcbiAgaWYgKGFTdHIxID09PSBhU3RyMikge1xuICAgIHJldHVybiAwO1xuICB9XG5cbiAgaWYgKGFTdHIxID09PSBudWxsKSB7XG4gICAgcmV0dXJuIDE7IC8vIGFTdHIyICE9PSBudWxsXG4gIH1cblxuICBpZiAoYVN0cjIgPT09IG51bGwpIHtcbiAgICByZXR1cm4gLTE7IC8vIGFTdHIxICE9PSBudWxsXG4gIH1cblxuICBpZiAoYVN0cjEgPiBhU3RyMikge1xuICAgIHJldHVybiAxO1xuICB9XG5cbiAgcmV0dXJuIC0xO1xufVxuXG4vKipcbiAqIENvbXBhcmF0b3IgYmV0d2VlbiB0d28gbWFwcGluZ3Mgd2l0aCBpbmZsYXRlZCBzb3VyY2UgYW5kIG5hbWUgc3RyaW5ncyB3aGVyZVxuICogdGhlIGdlbmVyYXRlZCBwb3NpdGlvbnMgYXJlIGNvbXBhcmVkLlxuICovXG5mdW5jdGlvbiBjb21wYXJlQnlHZW5lcmF0ZWRQb3NpdGlvbnNJbmZsYXRlZChtYXBwaW5nQSwgbWFwcGluZ0IpIHtcbiAgdmFyIGNtcCA9IG1hcHBpbmdBLmdlbmVyYXRlZExpbmUgLSBtYXBwaW5nQi5nZW5lcmF0ZWRMaW5lO1xuICBpZiAoY21wICE9PSAwKSB7XG4gICAgcmV0dXJuIGNtcDtcbiAgfVxuXG4gIGNtcCA9IG1hcHBpbmdBLmdlbmVyYXRlZENvbHVtbiAtIG1hcHBpbmdCLmdlbmVyYXRlZENvbHVtbjtcbiAgaWYgKGNtcCAhPT0gMCkge1xuICAgIHJldHVybiBjbXA7XG4gIH1cblxuICBjbXAgPSBzdHJjbXAobWFwcGluZ0Euc291cmNlLCBtYXBwaW5nQi5zb3VyY2UpO1xuICBpZiAoY21wICE9PSAwKSB7XG4gICAgcmV0dXJuIGNtcDtcbiAgfVxuXG4gIGNtcCA9IG1hcHBpbmdBLm9yaWdpbmFsTGluZSAtIG1hcHBpbmdCLm9yaWdpbmFsTGluZTtcbiAgaWYgKGNtcCAhPT0gMCkge1xuICAgIHJldHVybiBjbXA7XG4gIH1cblxuICBjbXAgPSBtYXBwaW5nQS5vcmlnaW5hbENvbHVtbiAtIG1hcHBpbmdCLm9yaWdpbmFsQ29sdW1uO1xuICBpZiAoY21wICE9PSAwKSB7XG4gICAgcmV0dXJuIGNtcDtcbiAgfVxuXG4gIHJldHVybiBzdHJjbXAobWFwcGluZ0EubmFtZSwgbWFwcGluZ0IubmFtZSk7XG59XG5leHBvcnRzLmNvbXBhcmVCeUdlbmVyYXRlZFBvc2l0aW9uc0luZmxhdGVkID0gY29tcGFyZUJ5R2VuZXJhdGVkUG9zaXRpb25zSW5mbGF0ZWQ7XG5cbi8qKlxuICogU3RyaXAgYW55IEpTT04gWFNTSSBhdm9pZGFuY2UgcHJlZml4IGZyb20gdGhlIHN0cmluZyAoYXMgZG9jdW1lbnRlZFxuICogaW4gdGhlIHNvdXJjZSBtYXBzIHNwZWNpZmljYXRpb24pLCBhbmQgdGhlbiBwYXJzZSB0aGUgc3RyaW5nIGFzXG4gKiBKU09OLlxuICovXG5mdW5jdGlvbiBwYXJzZVNvdXJjZU1hcElucHV0KHN0cikge1xuICByZXR1cm4gSlNPTi5wYXJzZShzdHIucmVwbGFjZSgvXlxcKV19J1teXFxuXSpcXG4vLCAnJykpO1xufVxuZXhwb3J0cy5wYXJzZVNvdXJjZU1hcElucHV0ID0gcGFyc2VTb3VyY2VNYXBJbnB1dDtcblxuLyoqXG4gKiBDb21wdXRlIHRoZSBVUkwgb2YgYSBzb3VyY2UgZ2l2ZW4gdGhlIHRoZSBzb3VyY2Ugcm9vdCwgdGhlIHNvdXJjZSdzXG4gKiBVUkwsIGFuZCB0aGUgc291cmNlIG1hcCdzIFVSTC5cbiAqL1xuZnVuY3Rpb24gY29tcHV0ZVNvdXJjZVVSTChzb3VyY2VSb290LCBzb3VyY2VVUkwsIHNvdXJjZU1hcFVSTCkge1xuICBzb3VyY2VVUkwgPSBzb3VyY2VVUkwgfHwgJyc7XG5cbiAgaWYgKHNvdXJjZVJvb3QpIHtcbiAgICAvLyBUaGlzIGZvbGxvd3Mgd2hhdCBDaHJvbWUgZG9lcy5cbiAgICBpZiAoc291cmNlUm9vdFtzb3VyY2VSb290Lmxlbmd0aCAtIDFdICE9PSAnLycgJiYgc291cmNlVVJMWzBdICE9PSAnLycpIHtcbiAgICAgIHNvdXJjZVJvb3QgKz0gJy8nO1xuICAgIH1cbiAgICAvLyBUaGUgc3BlYyBzYXlzOlxuICAgIC8vICAgTGluZSA0OiBBbiBvcHRpb25hbCBzb3VyY2Ugcm9vdCwgdXNlZnVsIGZvciByZWxvY2F0aW5nIHNvdXJjZVxuICAgIC8vICAgZmlsZXMgb24gYSBzZXJ2ZXIgb3IgcmVtb3ZpbmcgcmVwZWF0ZWQgdmFsdWVzIGluIHRoZVxuICAgIC8vICAgXHUyMDFDc291cmNlc1x1MjAxRCBlbnRyeS4gIFRoaXMgdmFsdWUgaXMgcHJlcGVuZGVkIHRvIHRoZSBpbmRpdmlkdWFsXG4gICAgLy8gICBlbnRyaWVzIGluIHRoZSBcdTIwMUNzb3VyY2VcdTIwMUQgZmllbGQuXG4gICAgc291cmNlVVJMID0gc291cmNlUm9vdCArIHNvdXJjZVVSTDtcbiAgfVxuXG4gIC8vIEhpc3RvcmljYWxseSwgU291cmNlTWFwQ29uc3VtZXIgZGlkIG5vdCB0YWtlIHRoZSBzb3VyY2VNYXBVUkwgYXNcbiAgLy8gYSBwYXJhbWV0ZXIuICBUaGlzIG1vZGUgaXMgc3RpbGwgc29tZXdoYXQgc3VwcG9ydGVkLCB3aGljaCBpcyB3aHlcbiAgLy8gdGhpcyBjb2RlIGJsb2NrIGlzIGNvbmRpdGlvbmFsLiAgSG93ZXZlciwgaXQncyBwcmVmZXJhYmxlIHRvIHBhc3NcbiAgLy8gdGhlIHNvdXJjZSBtYXAgVVJMIHRvIFNvdXJjZU1hcENvbnN1bWVyLCBzbyB0aGF0IHRoaXMgZnVuY3Rpb25cbiAgLy8gY2FuIGltcGxlbWVudCB0aGUgc291cmNlIFVSTCByZXNvbHV0aW9uIGFsZ29yaXRobSBhcyBvdXRsaW5lZCBpblxuICAvLyB0aGUgc3BlYy4gIFRoaXMgYmxvY2sgaXMgYmFzaWNhbGx5IHRoZSBlcXVpdmFsZW50IG9mOlxuICAvLyAgICBuZXcgVVJMKHNvdXJjZVVSTCwgc291cmNlTWFwVVJMKS50b1N0cmluZygpXG4gIC8vIC4uLiBleGNlcHQgaXQgYXZvaWRzIHVzaW5nIFVSTCwgd2hpY2ggd2Fzbid0IGF2YWlsYWJsZSBpbiB0aGVcbiAgLy8gb2xkZXIgcmVsZWFzZXMgb2Ygbm9kZSBzdGlsbCBzdXBwb3J0ZWQgYnkgdGhpcyBsaWJyYXJ5LlxuICAvL1xuICAvLyBUaGUgc3BlYyBzYXlzOlxuICAvLyAgIElmIHRoZSBzb3VyY2VzIGFyZSBub3QgYWJzb2x1dGUgVVJMcyBhZnRlciBwcmVwZW5kaW5nIG9mIHRoZVxuICAvLyAgIFx1MjAxQ3NvdXJjZVJvb3RcdTIwMUQsIHRoZSBzb3VyY2VzIGFyZSByZXNvbHZlZCByZWxhdGl2ZSB0byB0aGVcbiAgLy8gICBTb3VyY2VNYXAgKGxpa2UgcmVzb2x2aW5nIHNjcmlwdCBzcmMgaW4gYSBodG1sIGRvY3VtZW50KS5cbiAgaWYgKHNvdXJjZU1hcFVSTCkge1xuICAgIHZhciBwYXJzZWQgPSB1cmxQYXJzZShzb3VyY2VNYXBVUkwpO1xuICAgIGlmICghcGFyc2VkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJzb3VyY2VNYXBVUkwgY291bGQgbm90IGJlIHBhcnNlZFwiKTtcbiAgICB9XG4gICAgaWYgKHBhcnNlZC5wYXRoKSB7XG4gICAgICAvLyBTdHJpcCB0aGUgbGFzdCBwYXRoIGNvbXBvbmVudCwgYnV0IGtlZXAgdGhlIFwiL1wiLlxuICAgICAgdmFyIGluZGV4ID0gcGFyc2VkLnBhdGgubGFzdEluZGV4T2YoJy8nKTtcbiAgICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgIHBhcnNlZC5wYXRoID0gcGFyc2VkLnBhdGguc3Vic3RyaW5nKDAsIGluZGV4ICsgMSk7XG4gICAgICB9XG4gICAgfVxuICAgIHNvdXJjZVVSTCA9IGpvaW4odXJsR2VuZXJhdGUocGFyc2VkKSwgc291cmNlVVJMKTtcbiAgfVxuXG4gIHJldHVybiBub3JtYWxpemUoc291cmNlVVJMKTtcbn1cbmV4cG9ydHMuY29tcHV0ZVNvdXJjZVVSTCA9IGNvbXB1dGVTb3VyY2VVUkw7XG4iLCAiLyogLSotIE1vZGU6IGpzOyBqcy1pbmRlbnQtbGV2ZWw6IDI7IC0qLSAqL1xuLypcbiAqIENvcHlyaWdodCAyMDExIE1vemlsbGEgRm91bmRhdGlvbiBhbmQgY29udHJpYnV0b3JzXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTmV3IEJTRCBsaWNlbnNlLiBTZWUgTElDRU5TRSBvcjpcbiAqIGh0dHA6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9CU0QtMy1DbGF1c2VcbiAqL1xuXG52YXIgdXRpbCA9IHJlcXVpcmUoJy4vdXRpbCcpO1xudmFyIGhhcyA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgaGFzTmF0aXZlTWFwID0gdHlwZW9mIE1hcCAhPT0gXCJ1bmRlZmluZWRcIjtcblxuLyoqXG4gKiBBIGRhdGEgc3RydWN0dXJlIHdoaWNoIGlzIGEgY29tYmluYXRpb24gb2YgYW4gYXJyYXkgYW5kIGEgc2V0LiBBZGRpbmcgYSBuZXdcbiAqIG1lbWJlciBpcyBPKDEpLCB0ZXN0aW5nIGZvciBtZW1iZXJzaGlwIGlzIE8oMSksIGFuZCBmaW5kaW5nIHRoZSBpbmRleCBvZiBhblxuICogZWxlbWVudCBpcyBPKDEpLiBSZW1vdmluZyBlbGVtZW50cyBmcm9tIHRoZSBzZXQgaXMgbm90IHN1cHBvcnRlZC4gT25seVxuICogc3RyaW5ncyBhcmUgc3VwcG9ydGVkIGZvciBtZW1iZXJzaGlwLlxuICovXG5mdW5jdGlvbiBBcnJheVNldCgpIHtcbiAgdGhpcy5fYXJyYXkgPSBbXTtcbiAgdGhpcy5fc2V0ID0gaGFzTmF0aXZlTWFwID8gbmV3IE1hcCgpIDogT2JqZWN0LmNyZWF0ZShudWxsKTtcbn1cblxuLyoqXG4gKiBTdGF0aWMgbWV0aG9kIGZvciBjcmVhdGluZyBBcnJheVNldCBpbnN0YW5jZXMgZnJvbSBhbiBleGlzdGluZyBhcnJheS5cbiAqL1xuQXJyYXlTZXQuZnJvbUFycmF5ID0gZnVuY3Rpb24gQXJyYXlTZXRfZnJvbUFycmF5KGFBcnJheSwgYUFsbG93RHVwbGljYXRlcykge1xuICB2YXIgc2V0ID0gbmV3IEFycmF5U2V0KCk7XG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBhQXJyYXkubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICBzZXQuYWRkKGFBcnJheVtpXSwgYUFsbG93RHVwbGljYXRlcyk7XG4gIH1cbiAgcmV0dXJuIHNldDtcbn07XG5cbi8qKlxuICogUmV0dXJuIGhvdyBtYW55IHVuaXF1ZSBpdGVtcyBhcmUgaW4gdGhpcyBBcnJheVNldC4gSWYgZHVwbGljYXRlcyBoYXZlIGJlZW5cbiAqIGFkZGVkLCB0aGFuIHRob3NlIGRvIG5vdCBjb3VudCB0b3dhcmRzIHRoZSBzaXplLlxuICpcbiAqIEByZXR1cm5zIE51bWJlclxuICovXG5BcnJheVNldC5wcm90b3R5cGUuc2l6ZSA9IGZ1bmN0aW9uIEFycmF5U2V0X3NpemUoKSB7XG4gIHJldHVybiBoYXNOYXRpdmVNYXAgPyB0aGlzLl9zZXQuc2l6ZSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRoaXMuX3NldCkubGVuZ3RoO1xufTtcblxuLyoqXG4gKiBBZGQgdGhlIGdpdmVuIHN0cmluZyB0byB0aGlzIHNldC5cbiAqXG4gKiBAcGFyYW0gU3RyaW5nIGFTdHJcbiAqL1xuQXJyYXlTZXQucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIEFycmF5U2V0X2FkZChhU3RyLCBhQWxsb3dEdXBsaWNhdGVzKSB7XG4gIHZhciBzU3RyID0gaGFzTmF0aXZlTWFwID8gYVN0ciA6IHV0aWwudG9TZXRTdHJpbmcoYVN0cik7XG4gIHZhciBpc0R1cGxpY2F0ZSA9IGhhc05hdGl2ZU1hcCA/IHRoaXMuaGFzKGFTdHIpIDogaGFzLmNhbGwodGhpcy5fc2V0LCBzU3RyKTtcbiAgdmFyIGlkeCA9IHRoaXMuX2FycmF5Lmxlbmd0aDtcbiAgaWYgKCFpc0R1cGxpY2F0ZSB8fCBhQWxsb3dEdXBsaWNhdGVzKSB7XG4gICAgdGhpcy5fYXJyYXkucHVzaChhU3RyKTtcbiAgfVxuICBpZiAoIWlzRHVwbGljYXRlKSB7XG4gICAgaWYgKGhhc05hdGl2ZU1hcCkge1xuICAgICAgdGhpcy5fc2V0LnNldChhU3RyLCBpZHgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9zZXRbc1N0cl0gPSBpZHg7XG4gICAgfVxuICB9XG59O1xuXG4vKipcbiAqIElzIHRoZSBnaXZlbiBzdHJpbmcgYSBtZW1iZXIgb2YgdGhpcyBzZXQ/XG4gKlxuICogQHBhcmFtIFN0cmluZyBhU3RyXG4gKi9cbkFycmF5U2V0LnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbiBBcnJheVNldF9oYXMoYVN0cikge1xuICBpZiAoaGFzTmF0aXZlTWFwKSB7XG4gICAgcmV0dXJuIHRoaXMuX3NldC5oYXMoYVN0cik7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHNTdHIgPSB1dGlsLnRvU2V0U3RyaW5nKGFTdHIpO1xuICAgIHJldHVybiBoYXMuY2FsbCh0aGlzLl9zZXQsIHNTdHIpO1xuICB9XG59O1xuXG4vKipcbiAqIFdoYXQgaXMgdGhlIGluZGV4IG9mIHRoZSBnaXZlbiBzdHJpbmcgaW4gdGhlIGFycmF5P1xuICpcbiAqIEBwYXJhbSBTdHJpbmcgYVN0clxuICovXG5BcnJheVNldC5wcm90b3R5cGUuaW5kZXhPZiA9IGZ1bmN0aW9uIEFycmF5U2V0X2luZGV4T2YoYVN0cikge1xuICBpZiAoaGFzTmF0aXZlTWFwKSB7XG4gICAgdmFyIGlkeCA9IHRoaXMuX3NldC5nZXQoYVN0cik7XG4gICAgaWYgKGlkeCA+PSAwKSB7XG4gICAgICAgIHJldHVybiBpZHg7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHZhciBzU3RyID0gdXRpbC50b1NldFN0cmluZyhhU3RyKTtcbiAgICBpZiAoaGFzLmNhbGwodGhpcy5fc2V0LCBzU3RyKSkge1xuICAgICAgcmV0dXJuIHRoaXMuX3NldFtzU3RyXTtcbiAgICB9XG4gIH1cblxuICB0aHJvdyBuZXcgRXJyb3IoJ1wiJyArIGFTdHIgKyAnXCIgaXMgbm90IGluIHRoZSBzZXQuJyk7XG59O1xuXG4vKipcbiAqIFdoYXQgaXMgdGhlIGVsZW1lbnQgYXQgdGhlIGdpdmVuIGluZGV4P1xuICpcbiAqIEBwYXJhbSBOdW1iZXIgYUlkeFxuICovXG5BcnJheVNldC5wcm90b3R5cGUuYXQgPSBmdW5jdGlvbiBBcnJheVNldF9hdChhSWR4KSB7XG4gIGlmIChhSWR4ID49IDAgJiYgYUlkeCA8IHRoaXMuX2FycmF5Lmxlbmd0aCkge1xuICAgIHJldHVybiB0aGlzLl9hcnJheVthSWR4XTtcbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IoJ05vIGVsZW1lbnQgaW5kZXhlZCBieSAnICsgYUlkeCk7XG59O1xuXG4vKipcbiAqIFJldHVybnMgdGhlIGFycmF5IHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgc2V0ICh3aGljaCBoYXMgdGhlIHByb3BlciBpbmRpY2VzXG4gKiBpbmRpY2F0ZWQgYnkgaW5kZXhPZikuIE5vdGUgdGhhdCB0aGlzIGlzIGEgY29weSBvZiB0aGUgaW50ZXJuYWwgYXJyYXkgdXNlZFxuICogZm9yIHN0b3JpbmcgdGhlIG1lbWJlcnMgc28gdGhhdCBubyBvbmUgY2FuIG1lc3Mgd2l0aCBpbnRlcm5hbCBzdGF0ZS5cbiAqL1xuQXJyYXlTZXQucHJvdG90eXBlLnRvQXJyYXkgPSBmdW5jdGlvbiBBcnJheVNldF90b0FycmF5KCkge1xuICByZXR1cm4gdGhpcy5fYXJyYXkuc2xpY2UoKTtcbn07XG5cbmV4cG9ydHMuQXJyYXlTZXQgPSBBcnJheVNldDtcbiIsICIvKiAtKi0gTW9kZToganM7IGpzLWluZGVudC1sZXZlbDogMjsgLSotICovXG4vKlxuICogQ29weXJpZ2h0IDIwMTQgTW96aWxsYSBGb3VuZGF0aW9uIGFuZCBjb250cmlidXRvcnNcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBOZXcgQlNEIGxpY2Vuc2UuIFNlZSBMSUNFTlNFIG9yOlxuICogaHR0cDovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL0JTRC0zLUNsYXVzZVxuICovXG5cbnZhciB1dGlsID0gcmVxdWlyZSgnLi91dGlsJyk7XG5cbi8qKlxuICogRGV0ZXJtaW5lIHdoZXRoZXIgbWFwcGluZ0IgaXMgYWZ0ZXIgbWFwcGluZ0Egd2l0aCByZXNwZWN0IHRvIGdlbmVyYXRlZFxuICogcG9zaXRpb24uXG4gKi9cbmZ1bmN0aW9uIGdlbmVyYXRlZFBvc2l0aW9uQWZ0ZXIobWFwcGluZ0EsIG1hcHBpbmdCKSB7XG4gIC8vIE9wdGltaXplZCBmb3IgbW9zdCBjb21tb24gY2FzZVxuICB2YXIgbGluZUEgPSBtYXBwaW5nQS5nZW5lcmF0ZWRMaW5lO1xuICB2YXIgbGluZUIgPSBtYXBwaW5nQi5nZW5lcmF0ZWRMaW5lO1xuICB2YXIgY29sdW1uQSA9IG1hcHBpbmdBLmdlbmVyYXRlZENvbHVtbjtcbiAgdmFyIGNvbHVtbkIgPSBtYXBwaW5nQi5nZW5lcmF0ZWRDb2x1bW47XG4gIHJldHVybiBsaW5lQiA+IGxpbmVBIHx8IGxpbmVCID09IGxpbmVBICYmIGNvbHVtbkIgPj0gY29sdW1uQSB8fFxuICAgICAgICAgdXRpbC5jb21wYXJlQnlHZW5lcmF0ZWRQb3NpdGlvbnNJbmZsYXRlZChtYXBwaW5nQSwgbWFwcGluZ0IpIDw9IDA7XG59XG5cbi8qKlxuICogQSBkYXRhIHN0cnVjdHVyZSB0byBwcm92aWRlIGEgc29ydGVkIHZpZXcgb2YgYWNjdW11bGF0ZWQgbWFwcGluZ3MgaW4gYVxuICogcGVyZm9ybWFuY2UgY29uc2Npb3VzIG1hbm5lci4gSXQgdHJhZGVzIGEgbmVnbGliYWJsZSBvdmVyaGVhZCBpbiBnZW5lcmFsXG4gKiBjYXNlIGZvciBhIGxhcmdlIHNwZWVkdXAgaW4gY2FzZSBvZiBtYXBwaW5ncyBiZWluZyBhZGRlZCBpbiBvcmRlci5cbiAqL1xuZnVuY3Rpb24gTWFwcGluZ0xpc3QoKSB7XG4gIHRoaXMuX2FycmF5ID0gW107XG4gIHRoaXMuX3NvcnRlZCA9IHRydWU7XG4gIC8vIFNlcnZlcyBhcyBpbmZpbXVtXG4gIHRoaXMuX2xhc3QgPSB7Z2VuZXJhdGVkTGluZTogLTEsIGdlbmVyYXRlZENvbHVtbjogMH07XG59XG5cbi8qKlxuICogSXRlcmF0ZSB0aHJvdWdoIGludGVybmFsIGl0ZW1zLiBUaGlzIG1ldGhvZCB0YWtlcyB0aGUgc2FtZSBhcmd1bWVudHMgdGhhdFxuICogYEFycmF5LnByb3RvdHlwZS5mb3JFYWNoYCB0YWtlcy5cbiAqXG4gKiBOT1RFOiBUaGUgb3JkZXIgb2YgdGhlIG1hcHBpbmdzIGlzIE5PVCBndWFyYW50ZWVkLlxuICovXG5NYXBwaW5nTGlzdC5wcm90b3R5cGUudW5zb3J0ZWRGb3JFYWNoID1cbiAgZnVuY3Rpb24gTWFwcGluZ0xpc3RfZm9yRWFjaChhQ2FsbGJhY2ssIGFUaGlzQXJnKSB7XG4gICAgdGhpcy5fYXJyYXkuZm9yRWFjaChhQ2FsbGJhY2ssIGFUaGlzQXJnKTtcbiAgfTtcblxuLyoqXG4gKiBBZGQgdGhlIGdpdmVuIHNvdXJjZSBtYXBwaW5nLlxuICpcbiAqIEBwYXJhbSBPYmplY3QgYU1hcHBpbmdcbiAqL1xuTWFwcGluZ0xpc3QucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIE1hcHBpbmdMaXN0X2FkZChhTWFwcGluZykge1xuICBpZiAoZ2VuZXJhdGVkUG9zaXRpb25BZnRlcih0aGlzLl9sYXN0LCBhTWFwcGluZykpIHtcbiAgICB0aGlzLl9sYXN0ID0gYU1hcHBpbmc7XG4gICAgdGhpcy5fYXJyYXkucHVzaChhTWFwcGluZyk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5fc29ydGVkID0gZmFsc2U7XG4gICAgdGhpcy5fYXJyYXkucHVzaChhTWFwcGluZyk7XG4gIH1cbn07XG5cbi8qKlxuICogUmV0dXJucyB0aGUgZmxhdCwgc29ydGVkIGFycmF5IG9mIG1hcHBpbmdzLiBUaGUgbWFwcGluZ3MgYXJlIHNvcnRlZCBieVxuICogZ2VuZXJhdGVkIHBvc2l0aW9uLlxuICpcbiAqIFdBUk5JTkc6IFRoaXMgbWV0aG9kIHJldHVybnMgaW50ZXJuYWwgZGF0YSB3aXRob3V0IGNvcHlpbmcsIGZvclxuICogcGVyZm9ybWFuY2UuIFRoZSByZXR1cm4gdmFsdWUgbXVzdCBOT1QgYmUgbXV0YXRlZCwgYW5kIHNob3VsZCBiZSB0cmVhdGVkIGFzXG4gKiBhbiBpbW11dGFibGUgYm9ycm93LiBJZiB5b3Ugd2FudCB0byB0YWtlIG93bmVyc2hpcCwgeW91IG11c3QgbWFrZSB5b3VyIG93blxuICogY29weS5cbiAqL1xuTWFwcGluZ0xpc3QucHJvdG90eXBlLnRvQXJyYXkgPSBmdW5jdGlvbiBNYXBwaW5nTGlzdF90b0FycmF5KCkge1xuICBpZiAoIXRoaXMuX3NvcnRlZCkge1xuICAgIHRoaXMuX2FycmF5LnNvcnQodXRpbC5jb21wYXJlQnlHZW5lcmF0ZWRQb3NpdGlvbnNJbmZsYXRlZCk7XG4gICAgdGhpcy5fc29ydGVkID0gdHJ1ZTtcbiAgfVxuICByZXR1cm4gdGhpcy5fYXJyYXk7XG59O1xuXG5leHBvcnRzLk1hcHBpbmdMaXN0ID0gTWFwcGluZ0xpc3Q7XG4iLCAiLyogLSotIE1vZGU6IGpzOyBqcy1pbmRlbnQtbGV2ZWw6IDI7IC0qLSAqL1xuLypcbiAqIENvcHlyaWdodCAyMDExIE1vemlsbGEgRm91bmRhdGlvbiBhbmQgY29udHJpYnV0b3JzXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTmV3IEJTRCBsaWNlbnNlLiBTZWUgTElDRU5TRSBvcjpcbiAqIGh0dHA6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9CU0QtMy1DbGF1c2VcbiAqL1xuXG52YXIgYmFzZTY0VkxRID0gcmVxdWlyZSgnLi9iYXNlNjQtdmxxJyk7XG52YXIgdXRpbCA9IHJlcXVpcmUoJy4vdXRpbCcpO1xudmFyIEFycmF5U2V0ID0gcmVxdWlyZSgnLi9hcnJheS1zZXQnKS5BcnJheVNldDtcbnZhciBNYXBwaW5nTGlzdCA9IHJlcXVpcmUoJy4vbWFwcGluZy1saXN0JykuTWFwcGluZ0xpc3Q7XG5cbi8qKlxuICogQW4gaW5zdGFuY2Ugb2YgdGhlIFNvdXJjZU1hcEdlbmVyYXRvciByZXByZXNlbnRzIGEgc291cmNlIG1hcCB3aGljaCBpc1xuICogYmVpbmcgYnVpbHQgaW5jcmVtZW50YWxseS4gWW91IG1heSBwYXNzIGFuIG9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmdcbiAqIHByb3BlcnRpZXM6XG4gKlxuICogICAtIGZpbGU6IFRoZSBmaWxlbmFtZSBvZiB0aGUgZ2VuZXJhdGVkIHNvdXJjZS5cbiAqICAgLSBzb3VyY2VSb290OiBBIHJvb3QgZm9yIGFsbCByZWxhdGl2ZSBVUkxzIGluIHRoaXMgc291cmNlIG1hcC5cbiAqL1xuZnVuY3Rpb24gU291cmNlTWFwR2VuZXJhdG9yKGFBcmdzKSB7XG4gIGlmICghYUFyZ3MpIHtcbiAgICBhQXJncyA9IHt9O1xuICB9XG4gIHRoaXMuX2ZpbGUgPSB1dGlsLmdldEFyZyhhQXJncywgJ2ZpbGUnLCBudWxsKTtcbiAgdGhpcy5fc291cmNlUm9vdCA9IHV0aWwuZ2V0QXJnKGFBcmdzLCAnc291cmNlUm9vdCcsIG51bGwpO1xuICB0aGlzLl9za2lwVmFsaWRhdGlvbiA9IHV0aWwuZ2V0QXJnKGFBcmdzLCAnc2tpcFZhbGlkYXRpb24nLCBmYWxzZSk7XG4gIHRoaXMuX3NvdXJjZXMgPSBuZXcgQXJyYXlTZXQoKTtcbiAgdGhpcy5fbmFtZXMgPSBuZXcgQXJyYXlTZXQoKTtcbiAgdGhpcy5fbWFwcGluZ3MgPSBuZXcgTWFwcGluZ0xpc3QoKTtcbiAgdGhpcy5fc291cmNlc0NvbnRlbnRzID0gbnVsbDtcbn1cblxuU291cmNlTWFwR2VuZXJhdG9yLnByb3RvdHlwZS5fdmVyc2lvbiA9IDM7XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBTb3VyY2VNYXBHZW5lcmF0b3IgYmFzZWQgb24gYSBTb3VyY2VNYXBDb25zdW1lclxuICpcbiAqIEBwYXJhbSBhU291cmNlTWFwQ29uc3VtZXIgVGhlIFNvdXJjZU1hcC5cbiAqL1xuU291cmNlTWFwR2VuZXJhdG9yLmZyb21Tb3VyY2VNYXAgPVxuICBmdW5jdGlvbiBTb3VyY2VNYXBHZW5lcmF0b3JfZnJvbVNvdXJjZU1hcChhU291cmNlTWFwQ29uc3VtZXIpIHtcbiAgICB2YXIgc291cmNlUm9vdCA9IGFTb3VyY2VNYXBDb25zdW1lci5zb3VyY2VSb290O1xuICAgIHZhciBnZW5lcmF0b3IgPSBuZXcgU291cmNlTWFwR2VuZXJhdG9yKHtcbiAgICAgIGZpbGU6IGFTb3VyY2VNYXBDb25zdW1lci5maWxlLFxuICAgICAgc291cmNlUm9vdDogc291cmNlUm9vdFxuICAgIH0pO1xuICAgIGFTb3VyY2VNYXBDb25zdW1lci5lYWNoTWFwcGluZyhmdW5jdGlvbiAobWFwcGluZykge1xuICAgICAgdmFyIG5ld01hcHBpbmcgPSB7XG4gICAgICAgIGdlbmVyYXRlZDoge1xuICAgICAgICAgIGxpbmU6IG1hcHBpbmcuZ2VuZXJhdGVkTGluZSxcbiAgICAgICAgICBjb2x1bW46IG1hcHBpbmcuZ2VuZXJhdGVkQ29sdW1uXG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGlmIChtYXBwaW5nLnNvdXJjZSAhPSBudWxsKSB7XG4gICAgICAgIG5ld01hcHBpbmcuc291cmNlID0gbWFwcGluZy5zb3VyY2U7XG4gICAgICAgIGlmIChzb3VyY2VSb290ICE9IG51bGwpIHtcbiAgICAgICAgICBuZXdNYXBwaW5nLnNvdXJjZSA9IHV0aWwucmVsYXRpdmUoc291cmNlUm9vdCwgbmV3TWFwcGluZy5zb3VyY2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgbmV3TWFwcGluZy5vcmlnaW5hbCA9IHtcbiAgICAgICAgICBsaW5lOiBtYXBwaW5nLm9yaWdpbmFsTGluZSxcbiAgICAgICAgICBjb2x1bW46IG1hcHBpbmcub3JpZ2luYWxDb2x1bW5cbiAgICAgICAgfTtcblxuICAgICAgICBpZiAobWFwcGluZy5uYW1lICE9IG51bGwpIHtcbiAgICAgICAgICBuZXdNYXBwaW5nLm5hbWUgPSBtYXBwaW5nLm5hbWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZ2VuZXJhdG9yLmFkZE1hcHBpbmcobmV3TWFwcGluZyk7XG4gICAgfSk7XG4gICAgYVNvdXJjZU1hcENvbnN1bWVyLnNvdXJjZXMuZm9yRWFjaChmdW5jdGlvbiAoc291cmNlRmlsZSkge1xuICAgICAgdmFyIHNvdXJjZVJlbGF0aXZlID0gc291cmNlRmlsZTtcbiAgICAgIGlmIChzb3VyY2VSb290ICE9PSBudWxsKSB7XG4gICAgICAgIHNvdXJjZVJlbGF0aXZlID0gdXRpbC5yZWxhdGl2ZShzb3VyY2VSb290LCBzb3VyY2VGaWxlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFnZW5lcmF0b3IuX3NvdXJjZXMuaGFzKHNvdXJjZVJlbGF0aXZlKSkge1xuICAgICAgICBnZW5lcmF0b3IuX3NvdXJjZXMuYWRkKHNvdXJjZVJlbGF0aXZlKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGNvbnRlbnQgPSBhU291cmNlTWFwQ29uc3VtZXIuc291cmNlQ29udGVudEZvcihzb3VyY2VGaWxlKTtcbiAgICAgIGlmIChjb250ZW50ICE9IG51bGwpIHtcbiAgICAgICAgZ2VuZXJhdG9yLnNldFNvdXJjZUNvbnRlbnQoc291cmNlRmlsZSwgY29udGVudCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGdlbmVyYXRvcjtcbiAgfTtcblxuLyoqXG4gKiBBZGQgYSBzaW5nbGUgbWFwcGluZyBmcm9tIG9yaWdpbmFsIHNvdXJjZSBsaW5lIGFuZCBjb2x1bW4gdG8gdGhlIGdlbmVyYXRlZFxuICogc291cmNlJ3MgbGluZSBhbmQgY29sdW1uIGZvciB0aGlzIHNvdXJjZSBtYXAgYmVpbmcgY3JlYXRlZC4gVGhlIG1hcHBpbmdcbiAqIG9iamVjdCBzaG91bGQgaGF2ZSB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gKlxuICogICAtIGdlbmVyYXRlZDogQW4gb2JqZWN0IHdpdGggdGhlIGdlbmVyYXRlZCBsaW5lIGFuZCBjb2x1bW4gcG9zaXRpb25zLlxuICogICAtIG9yaWdpbmFsOiBBbiBvYmplY3Qgd2l0aCB0aGUgb3JpZ2luYWwgbGluZSBhbmQgY29sdW1uIHBvc2l0aW9ucy5cbiAqICAgLSBzb3VyY2U6IFRoZSBvcmlnaW5hbCBzb3VyY2UgZmlsZSAocmVsYXRpdmUgdG8gdGhlIHNvdXJjZVJvb3QpLlxuICogICAtIG5hbWU6IEFuIG9wdGlvbmFsIG9yaWdpbmFsIHRva2VuIG5hbWUgZm9yIHRoaXMgbWFwcGluZy5cbiAqL1xuU291cmNlTWFwR2VuZXJhdG9yLnByb3RvdHlwZS5hZGRNYXBwaW5nID1cbiAgZnVuY3Rpb24gU291cmNlTWFwR2VuZXJhdG9yX2FkZE1hcHBpbmcoYUFyZ3MpIHtcbiAgICB2YXIgZ2VuZXJhdGVkID0gdXRpbC5nZXRBcmcoYUFyZ3MsICdnZW5lcmF0ZWQnKTtcbiAgICB2YXIgb3JpZ2luYWwgPSB1dGlsLmdldEFyZyhhQXJncywgJ29yaWdpbmFsJywgbnVsbCk7XG4gICAgdmFyIHNvdXJjZSA9IHV0aWwuZ2V0QXJnKGFBcmdzLCAnc291cmNlJywgbnVsbCk7XG4gICAgdmFyIG5hbWUgPSB1dGlsLmdldEFyZyhhQXJncywgJ25hbWUnLCBudWxsKTtcblxuICAgIGlmICghdGhpcy5fc2tpcFZhbGlkYXRpb24pIHtcbiAgICAgIHRoaXMuX3ZhbGlkYXRlTWFwcGluZyhnZW5lcmF0ZWQsIG9yaWdpbmFsLCBzb3VyY2UsIG5hbWUpO1xuICAgIH1cblxuICAgIGlmIChzb3VyY2UgIT0gbnVsbCkge1xuICAgICAgc291cmNlID0gU3RyaW5nKHNvdXJjZSk7XG4gICAgICBpZiAoIXRoaXMuX3NvdXJjZXMuaGFzKHNvdXJjZSkpIHtcbiAgICAgICAgdGhpcy5fc291cmNlcy5hZGQoc291cmNlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAobmFtZSAhPSBudWxsKSB7XG4gICAgICBuYW1lID0gU3RyaW5nKG5hbWUpO1xuICAgICAgaWYgKCF0aGlzLl9uYW1lcy5oYXMobmFtZSkpIHtcbiAgICAgICAgdGhpcy5fbmFtZXMuYWRkKG5hbWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuX21hcHBpbmdzLmFkZCh7XG4gICAgICBnZW5lcmF0ZWRMaW5lOiBnZW5lcmF0ZWQubGluZSxcbiAgICAgIGdlbmVyYXRlZENvbHVtbjogZ2VuZXJhdGVkLmNvbHVtbixcbiAgICAgIG9yaWdpbmFsTGluZTogb3JpZ2luYWwgIT0gbnVsbCAmJiBvcmlnaW5hbC5saW5lLFxuICAgICAgb3JpZ2luYWxDb2x1bW46IG9yaWdpbmFsICE9IG51bGwgJiYgb3JpZ2luYWwuY29sdW1uLFxuICAgICAgc291cmNlOiBzb3VyY2UsXG4gICAgICBuYW1lOiBuYW1lXG4gICAgfSk7XG4gIH07XG5cbi8qKlxuICogU2V0IHRoZSBzb3VyY2UgY29udGVudCBmb3IgYSBzb3VyY2UgZmlsZS5cbiAqL1xuU291cmNlTWFwR2VuZXJhdG9yLnByb3RvdHlwZS5zZXRTb3VyY2VDb250ZW50ID1cbiAgZnVuY3Rpb24gU291cmNlTWFwR2VuZXJhdG9yX3NldFNvdXJjZUNvbnRlbnQoYVNvdXJjZUZpbGUsIGFTb3VyY2VDb250ZW50KSB7XG4gICAgdmFyIHNvdXJjZSA9IGFTb3VyY2VGaWxlO1xuICAgIGlmICh0aGlzLl9zb3VyY2VSb290ICE9IG51bGwpIHtcbiAgICAgIHNvdXJjZSA9IHV0aWwucmVsYXRpdmUodGhpcy5fc291cmNlUm9vdCwgc291cmNlKTtcbiAgICB9XG5cbiAgICBpZiAoYVNvdXJjZUNvbnRlbnQgIT0gbnVsbCkge1xuICAgICAgLy8gQWRkIHRoZSBzb3VyY2UgY29udGVudCB0byB0aGUgX3NvdXJjZXNDb250ZW50cyBtYXAuXG4gICAgICAvLyBDcmVhdGUgYSBuZXcgX3NvdXJjZXNDb250ZW50cyBtYXAgaWYgdGhlIHByb3BlcnR5IGlzIG51bGwuXG4gICAgICBpZiAoIXRoaXMuX3NvdXJjZXNDb250ZW50cykge1xuICAgICAgICB0aGlzLl9zb3VyY2VzQ29udGVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgfVxuICAgICAgdGhpcy5fc291cmNlc0NvbnRlbnRzW3V0aWwudG9TZXRTdHJpbmcoc291cmNlKV0gPSBhU291cmNlQ29udGVudDtcbiAgICB9IGVsc2UgaWYgKHRoaXMuX3NvdXJjZXNDb250ZW50cykge1xuICAgICAgLy8gUmVtb3ZlIHRoZSBzb3VyY2UgZmlsZSBmcm9tIHRoZSBfc291cmNlc0NvbnRlbnRzIG1hcC5cbiAgICAgIC8vIElmIHRoZSBfc291cmNlc0NvbnRlbnRzIG1hcCBpcyBlbXB0eSwgc2V0IHRoZSBwcm9wZXJ0eSB0byBudWxsLlxuICAgICAgZGVsZXRlIHRoaXMuX3NvdXJjZXNDb250ZW50c1t1dGlsLnRvU2V0U3RyaW5nKHNvdXJjZSldO1xuICAgICAgaWYgKE9iamVjdC5rZXlzKHRoaXMuX3NvdXJjZXNDb250ZW50cykubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRoaXMuX3NvdXJjZXNDb250ZW50cyA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4vKipcbiAqIEFwcGxpZXMgdGhlIG1hcHBpbmdzIG9mIGEgc3ViLXNvdXJjZS1tYXAgZm9yIGEgc3BlY2lmaWMgc291cmNlIGZpbGUgdG8gdGhlXG4gKiBzb3VyY2UgbWFwIGJlaW5nIGdlbmVyYXRlZC4gRWFjaCBtYXBwaW5nIHRvIHRoZSBzdXBwbGllZCBzb3VyY2UgZmlsZSBpc1xuICogcmV3cml0dGVuIHVzaW5nIHRoZSBzdXBwbGllZCBzb3VyY2UgbWFwLiBOb3RlOiBUaGUgcmVzb2x1dGlvbiBmb3IgdGhlXG4gKiByZXN1bHRpbmcgbWFwcGluZ3MgaXMgdGhlIG1pbmltaXVtIG9mIHRoaXMgbWFwIGFuZCB0aGUgc3VwcGxpZWQgbWFwLlxuICpcbiAqIEBwYXJhbSBhU291cmNlTWFwQ29uc3VtZXIgVGhlIHNvdXJjZSBtYXAgdG8gYmUgYXBwbGllZC5cbiAqIEBwYXJhbSBhU291cmNlRmlsZSBPcHRpb25hbC4gVGhlIGZpbGVuYW1lIG9mIHRoZSBzb3VyY2UgZmlsZS5cbiAqICAgICAgICBJZiBvbWl0dGVkLCBTb3VyY2VNYXBDb25zdW1lcidzIGZpbGUgcHJvcGVydHkgd2lsbCBiZSB1c2VkLlxuICogQHBhcmFtIGFTb3VyY2VNYXBQYXRoIE9wdGlvbmFsLiBUaGUgZGlybmFtZSBvZiB0aGUgcGF0aCB0byB0aGUgc291cmNlIG1hcFxuICogICAgICAgIHRvIGJlIGFwcGxpZWQuIElmIHJlbGF0aXZlLCBpdCBpcyByZWxhdGl2ZSB0byB0aGUgU291cmNlTWFwQ29uc3VtZXIuXG4gKiAgICAgICAgVGhpcyBwYXJhbWV0ZXIgaXMgbmVlZGVkIHdoZW4gdGhlIHR3byBzb3VyY2UgbWFwcyBhcmVuJ3QgaW4gdGhlIHNhbWVcbiAqICAgICAgICBkaXJlY3RvcnksIGFuZCB0aGUgc291cmNlIG1hcCB0byBiZSBhcHBsaWVkIGNvbnRhaW5zIHJlbGF0aXZlIHNvdXJjZVxuICogICAgICAgIHBhdGhzLiBJZiBzbywgdGhvc2UgcmVsYXRpdmUgc291cmNlIHBhdGhzIG5lZWQgdG8gYmUgcmV3cml0dGVuXG4gKiAgICAgICAgcmVsYXRpdmUgdG8gdGhlIFNvdXJjZU1hcEdlbmVyYXRvci5cbiAqL1xuU291cmNlTWFwR2VuZXJhdG9yLnByb3RvdHlwZS5hcHBseVNvdXJjZU1hcCA9XG4gIGZ1bmN0aW9uIFNvdXJjZU1hcEdlbmVyYXRvcl9hcHBseVNvdXJjZU1hcChhU291cmNlTWFwQ29uc3VtZXIsIGFTb3VyY2VGaWxlLCBhU291cmNlTWFwUGF0aCkge1xuICAgIHZhciBzb3VyY2VGaWxlID0gYVNvdXJjZUZpbGU7XG4gICAgLy8gSWYgYVNvdXJjZUZpbGUgaXMgb21pdHRlZCwgd2Ugd2lsbCB1c2UgdGhlIGZpbGUgcHJvcGVydHkgb2YgdGhlIFNvdXJjZU1hcFxuICAgIGlmIChhU291cmNlRmlsZSA9PSBudWxsKSB7XG4gICAgICBpZiAoYVNvdXJjZU1hcENvbnN1bWVyLmZpbGUgPT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgJ1NvdXJjZU1hcEdlbmVyYXRvci5wcm90b3R5cGUuYXBwbHlTb3VyY2VNYXAgcmVxdWlyZXMgZWl0aGVyIGFuIGV4cGxpY2l0IHNvdXJjZSBmaWxlLCAnICtcbiAgICAgICAgICAnb3IgdGhlIHNvdXJjZSBtYXBcXCdzIFwiZmlsZVwiIHByb3BlcnR5LiBCb3RoIHdlcmUgb21pdHRlZC4nXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBzb3VyY2VGaWxlID0gYVNvdXJjZU1hcENvbnN1bWVyLmZpbGU7XG4gICAgfVxuICAgIHZhciBzb3VyY2VSb290ID0gdGhpcy5fc291cmNlUm9vdDtcbiAgICAvLyBNYWtlIFwic291cmNlRmlsZVwiIHJlbGF0aXZlIGlmIGFuIGFic29sdXRlIFVybCBpcyBwYXNzZWQuXG4gICAgaWYgKHNvdXJjZVJvb3QgIT0gbnVsbCkge1xuICAgICAgc291cmNlRmlsZSA9IHV0aWwucmVsYXRpdmUoc291cmNlUm9vdCwgc291cmNlRmlsZSk7XG4gICAgfVxuICAgIC8vIEFwcGx5aW5nIHRoZSBTb3VyY2VNYXAgY2FuIGFkZCBhbmQgcmVtb3ZlIGl0ZW1zIGZyb20gdGhlIHNvdXJjZXMgYW5kXG4gICAgLy8gdGhlIG5hbWVzIGFycmF5LlxuICAgIHZhciBuZXdTb3VyY2VzID0gbmV3IEFycmF5U2V0KCk7XG4gICAgdmFyIG5ld05hbWVzID0gbmV3IEFycmF5U2V0KCk7XG5cbiAgICAvLyBGaW5kIG1hcHBpbmdzIGZvciB0aGUgXCJzb3VyY2VGaWxlXCJcbiAgICB0aGlzLl9tYXBwaW5ncy51bnNvcnRlZEZvckVhY2goZnVuY3Rpb24gKG1hcHBpbmcpIHtcbiAgICAgIGlmIChtYXBwaW5nLnNvdXJjZSA9PT0gc291cmNlRmlsZSAmJiBtYXBwaW5nLm9yaWdpbmFsTGluZSAhPSBudWxsKSB7XG4gICAgICAgIC8vIENoZWNrIGlmIGl0IGNhbiBiZSBtYXBwZWQgYnkgdGhlIHNvdXJjZSBtYXAsIHRoZW4gdXBkYXRlIHRoZSBtYXBwaW5nLlxuICAgICAgICB2YXIgb3JpZ2luYWwgPSBhU291cmNlTWFwQ29uc3VtZXIub3JpZ2luYWxQb3NpdGlvbkZvcih7XG4gICAgICAgICAgbGluZTogbWFwcGluZy5vcmlnaW5hbExpbmUsXG4gICAgICAgICAgY29sdW1uOiBtYXBwaW5nLm9yaWdpbmFsQ29sdW1uXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAob3JpZ2luYWwuc291cmNlICE9IG51bGwpIHtcbiAgICAgICAgICAvLyBDb3B5IG1hcHBpbmdcbiAgICAgICAgICBtYXBwaW5nLnNvdXJjZSA9IG9yaWdpbmFsLnNvdXJjZTtcbiAgICAgICAgICBpZiAoYVNvdXJjZU1hcFBhdGggIT0gbnVsbCkge1xuICAgICAgICAgICAgbWFwcGluZy5zb3VyY2UgPSB1dGlsLmpvaW4oYVNvdXJjZU1hcFBhdGgsIG1hcHBpbmcuc291cmNlKVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoc291cmNlUm9vdCAhPSBudWxsKSB7XG4gICAgICAgICAgICBtYXBwaW5nLnNvdXJjZSA9IHV0aWwucmVsYXRpdmUoc291cmNlUm9vdCwgbWFwcGluZy5zb3VyY2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtYXBwaW5nLm9yaWdpbmFsTGluZSA9IG9yaWdpbmFsLmxpbmU7XG4gICAgICAgICAgbWFwcGluZy5vcmlnaW5hbENvbHVtbiA9IG9yaWdpbmFsLmNvbHVtbjtcbiAgICAgICAgICBpZiAob3JpZ2luYWwubmFtZSAhPSBudWxsKSB7XG4gICAgICAgICAgICBtYXBwaW5nLm5hbWUgPSBvcmlnaW5hbC5uYW1lO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgc291cmNlID0gbWFwcGluZy5zb3VyY2U7XG4gICAgICBpZiAoc291cmNlICE9IG51bGwgJiYgIW5ld1NvdXJjZXMuaGFzKHNvdXJjZSkpIHtcbiAgICAgICAgbmV3U291cmNlcy5hZGQoc291cmNlKTtcbiAgICAgIH1cblxuICAgICAgdmFyIG5hbWUgPSBtYXBwaW5nLm5hbWU7XG4gICAgICBpZiAobmFtZSAhPSBudWxsICYmICFuZXdOYW1lcy5oYXMobmFtZSkpIHtcbiAgICAgICAgbmV3TmFtZXMuYWRkKG5hbWUpO1xuICAgICAgfVxuXG4gICAgfSwgdGhpcyk7XG4gICAgdGhpcy5fc291cmNlcyA9IG5ld1NvdXJjZXM7XG4gICAgdGhpcy5fbmFtZXMgPSBuZXdOYW1lcztcblxuICAgIC8vIENvcHkgc291cmNlc0NvbnRlbnRzIG9mIGFwcGxpZWQgbWFwLlxuICAgIGFTb3VyY2VNYXBDb25zdW1lci5zb3VyY2VzLmZvckVhY2goZnVuY3Rpb24gKHNvdXJjZUZpbGUpIHtcbiAgICAgIHZhciBjb250ZW50ID0gYVNvdXJjZU1hcENvbnN1bWVyLnNvdXJjZUNvbnRlbnRGb3Ioc291cmNlRmlsZSk7XG4gICAgICBpZiAoY29udGVudCAhPSBudWxsKSB7XG4gICAgICAgIGlmIChhU291cmNlTWFwUGF0aCAhPSBudWxsKSB7XG4gICAgICAgICAgc291cmNlRmlsZSA9IHV0aWwuam9pbihhU291cmNlTWFwUGF0aCwgc291cmNlRmlsZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNvdXJjZVJvb3QgIT0gbnVsbCkge1xuICAgICAgICAgIHNvdXJjZUZpbGUgPSB1dGlsLnJlbGF0aXZlKHNvdXJjZVJvb3QsIHNvdXJjZUZpbGUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0U291cmNlQ29udGVudChzb3VyY2VGaWxlLCBjb250ZW50KTtcbiAgICAgIH1cbiAgICB9LCB0aGlzKTtcbiAgfTtcblxuLyoqXG4gKiBBIG1hcHBpbmcgY2FuIGhhdmUgb25lIG9mIHRoZSB0aHJlZSBsZXZlbHMgb2YgZGF0YTpcbiAqXG4gKiAgIDEuIEp1c3QgdGhlIGdlbmVyYXRlZCBwb3NpdGlvbi5cbiAqICAgMi4gVGhlIEdlbmVyYXRlZCBwb3NpdGlvbiwgb3JpZ2luYWwgcG9zaXRpb24sIGFuZCBvcmlnaW5hbCBzb3VyY2UuXG4gKiAgIDMuIEdlbmVyYXRlZCBhbmQgb3JpZ2luYWwgcG9zaXRpb24sIG9yaWdpbmFsIHNvdXJjZSwgYXMgd2VsbCBhcyBhIG5hbWVcbiAqICAgICAgdG9rZW4uXG4gKlxuICogVG8gbWFpbnRhaW4gY29uc2lzdGVuY3ksIHdlIHZhbGlkYXRlIHRoYXQgYW55IG5ldyBtYXBwaW5nIGJlaW5nIGFkZGVkIGZhbGxzXG4gKiBpbiB0byBvbmUgb2YgdGhlc2UgY2F0ZWdvcmllcy5cbiAqL1xuU291cmNlTWFwR2VuZXJhdG9yLnByb3RvdHlwZS5fdmFsaWRhdGVNYXBwaW5nID1cbiAgZnVuY3Rpb24gU291cmNlTWFwR2VuZXJhdG9yX3ZhbGlkYXRlTWFwcGluZyhhR2VuZXJhdGVkLCBhT3JpZ2luYWwsIGFTb3VyY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYU5hbWUpIHtcbiAgICAvLyBXaGVuIGFPcmlnaW5hbCBpcyB0cnV0aHkgYnV0IGhhcyBlbXB0eSB2YWx1ZXMgZm9yIC5saW5lIGFuZCAuY29sdW1uLFxuICAgIC8vIGl0IGlzIG1vc3QgbGlrZWx5IGEgcHJvZ3JhbW1lciBlcnJvci4gSW4gdGhpcyBjYXNlIHdlIHRocm93IGEgdmVyeVxuICAgIC8vIHNwZWNpZmljIGVycm9yIG1lc3NhZ2UgdG8gdHJ5IHRvIGd1aWRlIHRoZW0gdGhlIHJpZ2h0IHdheS5cbiAgICAvLyBGb3IgZXhhbXBsZTogaHR0cHM6Ly9naXRodWIuY29tL1BvbHltZXIvcG9seW1lci1idW5kbGVyL3B1bGwvNTE5XG4gICAgaWYgKGFPcmlnaW5hbCAmJiB0eXBlb2YgYU9yaWdpbmFsLmxpbmUgIT09ICdudW1iZXInICYmIHR5cGVvZiBhT3JpZ2luYWwuY29sdW1uICE9PSAnbnVtYmVyJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAnb3JpZ2luYWwubGluZSBhbmQgb3JpZ2luYWwuY29sdW1uIGFyZSBub3QgbnVtYmVycyAtLSB5b3UgcHJvYmFibHkgbWVhbnQgdG8gb21pdCAnICtcbiAgICAgICAgICAgICd0aGUgb3JpZ2luYWwgbWFwcGluZyBlbnRpcmVseSBhbmQgb25seSBtYXAgdGhlIGdlbmVyYXRlZCBwb3NpdGlvbi4gSWYgc28sIHBhc3MgJyArXG4gICAgICAgICAgICAnbnVsbCBmb3IgdGhlIG9yaWdpbmFsIG1hcHBpbmcgaW5zdGVhZCBvZiBhbiBvYmplY3Qgd2l0aCBlbXB0eSBvciBudWxsIHZhbHVlcy4nXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKGFHZW5lcmF0ZWQgJiYgJ2xpbmUnIGluIGFHZW5lcmF0ZWQgJiYgJ2NvbHVtbicgaW4gYUdlbmVyYXRlZFxuICAgICAgICAmJiBhR2VuZXJhdGVkLmxpbmUgPiAwICYmIGFHZW5lcmF0ZWQuY29sdW1uID49IDBcbiAgICAgICAgJiYgIWFPcmlnaW5hbCAmJiAhYVNvdXJjZSAmJiAhYU5hbWUpIHtcbiAgICAgIC8vIENhc2UgMS5cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZWxzZSBpZiAoYUdlbmVyYXRlZCAmJiAnbGluZScgaW4gYUdlbmVyYXRlZCAmJiAnY29sdW1uJyBpbiBhR2VuZXJhdGVkXG4gICAgICAgICAgICAgJiYgYU9yaWdpbmFsICYmICdsaW5lJyBpbiBhT3JpZ2luYWwgJiYgJ2NvbHVtbicgaW4gYU9yaWdpbmFsXG4gICAgICAgICAgICAgJiYgYUdlbmVyYXRlZC5saW5lID4gMCAmJiBhR2VuZXJhdGVkLmNvbHVtbiA+PSAwXG4gICAgICAgICAgICAgJiYgYU9yaWdpbmFsLmxpbmUgPiAwICYmIGFPcmlnaW5hbC5jb2x1bW4gPj0gMFxuICAgICAgICAgICAgICYmIGFTb3VyY2UpIHtcbiAgICAgIC8vIENhc2VzIDIgYW5kIDMuXG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIG1hcHBpbmc6ICcgKyBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIGdlbmVyYXRlZDogYUdlbmVyYXRlZCxcbiAgICAgICAgc291cmNlOiBhU291cmNlLFxuICAgICAgICBvcmlnaW5hbDogYU9yaWdpbmFsLFxuICAgICAgICBuYW1lOiBhTmFtZVxuICAgICAgfSkpO1xuICAgIH1cbiAgfTtcblxuLyoqXG4gKiBTZXJpYWxpemUgdGhlIGFjY3VtdWxhdGVkIG1hcHBpbmdzIGluIHRvIHRoZSBzdHJlYW0gb2YgYmFzZSA2NCBWTFFzXG4gKiBzcGVjaWZpZWQgYnkgdGhlIHNvdXJjZSBtYXAgZm9ybWF0LlxuICovXG5Tb3VyY2VNYXBHZW5lcmF0b3IucHJvdG90eXBlLl9zZXJpYWxpemVNYXBwaW5ncyA9XG4gIGZ1bmN0aW9uIFNvdXJjZU1hcEdlbmVyYXRvcl9zZXJpYWxpemVNYXBwaW5ncygpIHtcbiAgICB2YXIgcHJldmlvdXNHZW5lcmF0ZWRDb2x1bW4gPSAwO1xuICAgIHZhciBwcmV2aW91c0dlbmVyYXRlZExpbmUgPSAxO1xuICAgIHZhciBwcmV2aW91c09yaWdpbmFsQ29sdW1uID0gMDtcbiAgICB2YXIgcHJldmlvdXNPcmlnaW5hbExpbmUgPSAwO1xuICAgIHZhciBwcmV2aW91c05hbWUgPSAwO1xuICAgIHZhciBwcmV2aW91c1NvdXJjZSA9IDA7XG4gICAgdmFyIHJlc3VsdCA9ICcnO1xuICAgIHZhciBuZXh0O1xuICAgIHZhciBtYXBwaW5nO1xuICAgIHZhciBuYW1lSWR4O1xuICAgIHZhciBzb3VyY2VJZHg7XG5cbiAgICB2YXIgbWFwcGluZ3MgPSB0aGlzLl9tYXBwaW5ncy50b0FycmF5KCk7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IG1hcHBpbmdzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBtYXBwaW5nID0gbWFwcGluZ3NbaV07XG4gICAgICBuZXh0ID0gJydcblxuICAgICAgaWYgKG1hcHBpbmcuZ2VuZXJhdGVkTGluZSAhPT0gcHJldmlvdXNHZW5lcmF0ZWRMaW5lKSB7XG4gICAgICAgIHByZXZpb3VzR2VuZXJhdGVkQ29sdW1uID0gMDtcbiAgICAgICAgd2hpbGUgKG1hcHBpbmcuZ2VuZXJhdGVkTGluZSAhPT0gcHJldmlvdXNHZW5lcmF0ZWRMaW5lKSB7XG4gICAgICAgICAgbmV4dCArPSAnOyc7XG4gICAgICAgICAgcHJldmlvdXNHZW5lcmF0ZWRMaW5lKys7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgICBpZiAoIXV0aWwuY29tcGFyZUJ5R2VuZXJhdGVkUG9zaXRpb25zSW5mbGF0ZWQobWFwcGluZywgbWFwcGluZ3NbaSAtIDFdKSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIG5leHQgKz0gJywnO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIG5leHQgKz0gYmFzZTY0VkxRLmVuY29kZShtYXBwaW5nLmdlbmVyYXRlZENvbHVtblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLSBwcmV2aW91c0dlbmVyYXRlZENvbHVtbik7XG4gICAgICBwcmV2aW91c0dlbmVyYXRlZENvbHVtbiA9IG1hcHBpbmcuZ2VuZXJhdGVkQ29sdW1uO1xuXG4gICAgICBpZiAobWFwcGluZy5zb3VyY2UgIT0gbnVsbCkge1xuICAgICAgICBzb3VyY2VJZHggPSB0aGlzLl9zb3VyY2VzLmluZGV4T2YobWFwcGluZy5zb3VyY2UpO1xuICAgICAgICBuZXh0ICs9IGJhc2U2NFZMUS5lbmNvZGUoc291cmNlSWR4IC0gcHJldmlvdXNTb3VyY2UpO1xuICAgICAgICBwcmV2aW91c1NvdXJjZSA9IHNvdXJjZUlkeDtcblxuICAgICAgICAvLyBsaW5lcyBhcmUgc3RvcmVkIDAtYmFzZWQgaW4gU291cmNlTWFwIHNwZWMgdmVyc2lvbiAzXG4gICAgICAgIG5leHQgKz0gYmFzZTY0VkxRLmVuY29kZShtYXBwaW5nLm9yaWdpbmFsTGluZSAtIDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLSBwcmV2aW91c09yaWdpbmFsTGluZSk7XG4gICAgICAgIHByZXZpb3VzT3JpZ2luYWxMaW5lID0gbWFwcGluZy5vcmlnaW5hbExpbmUgLSAxO1xuXG4gICAgICAgIG5leHQgKz0gYmFzZTY0VkxRLmVuY29kZShtYXBwaW5nLm9yaWdpbmFsQ29sdW1uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0gcHJldmlvdXNPcmlnaW5hbENvbHVtbik7XG4gICAgICAgIHByZXZpb3VzT3JpZ2luYWxDb2x1bW4gPSBtYXBwaW5nLm9yaWdpbmFsQ29sdW1uO1xuXG4gICAgICAgIGlmIChtYXBwaW5nLm5hbWUgIT0gbnVsbCkge1xuICAgICAgICAgIG5hbWVJZHggPSB0aGlzLl9uYW1lcy5pbmRleE9mKG1hcHBpbmcubmFtZSk7XG4gICAgICAgICAgbmV4dCArPSBiYXNlNjRWTFEuZW5jb2RlKG5hbWVJZHggLSBwcmV2aW91c05hbWUpO1xuICAgICAgICAgIHByZXZpb3VzTmFtZSA9IG5hbWVJZHg7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmVzdWx0ICs9IG5leHQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuU291cmNlTWFwR2VuZXJhdG9yLnByb3RvdHlwZS5fZ2VuZXJhdGVTb3VyY2VzQ29udGVudCA9XG4gIGZ1bmN0aW9uIFNvdXJjZU1hcEdlbmVyYXRvcl9nZW5lcmF0ZVNvdXJjZXNDb250ZW50KGFTb3VyY2VzLCBhU291cmNlUm9vdCkge1xuICAgIHJldHVybiBhU291cmNlcy5tYXAoZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgaWYgKCF0aGlzLl9zb3VyY2VzQ29udGVudHMpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICBpZiAoYVNvdXJjZVJvb3QgIT0gbnVsbCkge1xuICAgICAgICBzb3VyY2UgPSB1dGlsLnJlbGF0aXZlKGFTb3VyY2VSb290LCBzb3VyY2UpO1xuICAgICAgfVxuICAgICAgdmFyIGtleSA9IHV0aWwudG9TZXRTdHJpbmcoc291cmNlKTtcbiAgICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5fc291cmNlc0NvbnRlbnRzLCBrZXkpXG4gICAgICAgID8gdGhpcy5fc291cmNlc0NvbnRlbnRzW2tleV1cbiAgICAgICAgOiBudWxsO1xuICAgIH0sIHRoaXMpO1xuICB9O1xuXG4vKipcbiAqIEV4dGVybmFsaXplIHRoZSBzb3VyY2UgbWFwLlxuICovXG5Tb3VyY2VNYXBHZW5lcmF0b3IucHJvdG90eXBlLnRvSlNPTiA9XG4gIGZ1bmN0aW9uIFNvdXJjZU1hcEdlbmVyYXRvcl90b0pTT04oKSB7XG4gICAgdmFyIG1hcCA9IHtcbiAgICAgIHZlcnNpb246IHRoaXMuX3ZlcnNpb24sXG4gICAgICBzb3VyY2VzOiB0aGlzLl9zb3VyY2VzLnRvQXJyYXkoKSxcbiAgICAgIG5hbWVzOiB0aGlzLl9uYW1lcy50b0FycmF5KCksXG4gICAgICBtYXBwaW5nczogdGhpcy5fc2VyaWFsaXplTWFwcGluZ3MoKVxuICAgIH07XG4gICAgaWYgKHRoaXMuX2ZpbGUgIT0gbnVsbCkge1xuICAgICAgbWFwLmZpbGUgPSB0aGlzLl9maWxlO1xuICAgIH1cbiAgICBpZiAodGhpcy5fc291cmNlUm9vdCAhPSBudWxsKSB7XG4gICAgICBtYXAuc291cmNlUm9vdCA9IHRoaXMuX3NvdXJjZVJvb3Q7XG4gICAgfVxuICAgIGlmICh0aGlzLl9zb3VyY2VzQ29udGVudHMpIHtcbiAgICAgIG1hcC5zb3VyY2VzQ29udGVudCA9IHRoaXMuX2dlbmVyYXRlU291cmNlc0NvbnRlbnQobWFwLnNvdXJjZXMsIG1hcC5zb3VyY2VSb290KTtcbiAgICB9XG5cbiAgICByZXR1cm4gbWFwO1xuICB9O1xuXG4vKipcbiAqIFJlbmRlciB0aGUgc291cmNlIG1hcCBiZWluZyBnZW5lcmF0ZWQgdG8gYSBzdHJpbmcuXG4gKi9cblNvdXJjZU1hcEdlbmVyYXRvci5wcm90b3R5cGUudG9TdHJpbmcgPVxuICBmdW5jdGlvbiBTb3VyY2VNYXBHZW5lcmF0b3JfdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHRoaXMudG9KU09OKCkpO1xuICB9O1xuXG5leHBvcnRzLlNvdXJjZU1hcEdlbmVyYXRvciA9IFNvdXJjZU1hcEdlbmVyYXRvcjtcbiIsICIvKiAtKi0gTW9kZToganM7IGpzLWluZGVudC1sZXZlbDogMjsgLSotICovXG4vKlxuICogQ29weXJpZ2h0IDIwMTEgTW96aWxsYSBGb3VuZGF0aW9uIGFuZCBjb250cmlidXRvcnNcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBOZXcgQlNEIGxpY2Vuc2UuIFNlZSBMSUNFTlNFIG9yOlxuICogaHR0cDovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL0JTRC0zLUNsYXVzZVxuICovXG5cbmV4cG9ydHMuR1JFQVRFU1RfTE9XRVJfQk9VTkQgPSAxO1xuZXhwb3J0cy5MRUFTVF9VUFBFUl9CT1VORCA9IDI7XG5cbi8qKlxuICogUmVjdXJzaXZlIGltcGxlbWVudGF0aW9uIG9mIGJpbmFyeSBzZWFyY2guXG4gKlxuICogQHBhcmFtIGFMb3cgSW5kaWNlcyBoZXJlIGFuZCBsb3dlciBkbyBub3QgY29udGFpbiB0aGUgbmVlZGxlLlxuICogQHBhcmFtIGFIaWdoIEluZGljZXMgaGVyZSBhbmQgaGlnaGVyIGRvIG5vdCBjb250YWluIHRoZSBuZWVkbGUuXG4gKiBAcGFyYW0gYU5lZWRsZSBUaGUgZWxlbWVudCBiZWluZyBzZWFyY2hlZCBmb3IuXG4gKiBAcGFyYW0gYUhheXN0YWNrIFRoZSBub24tZW1wdHkgYXJyYXkgYmVpbmcgc2VhcmNoZWQuXG4gKiBAcGFyYW0gYUNvbXBhcmUgRnVuY3Rpb24gd2hpY2ggdGFrZXMgdHdvIGVsZW1lbnRzIGFuZCByZXR1cm5zIC0xLCAwLCBvciAxLlxuICogQHBhcmFtIGFCaWFzIEVpdGhlciAnYmluYXJ5U2VhcmNoLkdSRUFURVNUX0xPV0VSX0JPVU5EJyBvclxuICogICAgICdiaW5hcnlTZWFyY2guTEVBU1RfVVBQRVJfQk9VTkQnLiBTcGVjaWZpZXMgd2hldGhlciB0byByZXR1cm4gdGhlXG4gKiAgICAgY2xvc2VzdCBlbGVtZW50IHRoYXQgaXMgc21hbGxlciB0aGFuIG9yIGdyZWF0ZXIgdGhhbiB0aGUgb25lIHdlIGFyZVxuICogICAgIHNlYXJjaGluZyBmb3IsIHJlc3BlY3RpdmVseSwgaWYgdGhlIGV4YWN0IGVsZW1lbnQgY2Fubm90IGJlIGZvdW5kLlxuICovXG5mdW5jdGlvbiByZWN1cnNpdmVTZWFyY2goYUxvdywgYUhpZ2gsIGFOZWVkbGUsIGFIYXlzdGFjaywgYUNvbXBhcmUsIGFCaWFzKSB7XG4gIC8vIFRoaXMgZnVuY3Rpb24gdGVybWluYXRlcyB3aGVuIG9uZSBvZiB0aGUgZm9sbG93aW5nIGlzIHRydWU6XG4gIC8vXG4gIC8vICAgMS4gV2UgZmluZCB0aGUgZXhhY3QgZWxlbWVudCB3ZSBhcmUgbG9va2luZyBmb3IuXG4gIC8vXG4gIC8vICAgMi4gV2UgZGlkIG5vdCBmaW5kIHRoZSBleGFjdCBlbGVtZW50LCBidXQgd2UgY2FuIHJldHVybiB0aGUgaW5kZXggb2ZcbiAgLy8gICAgICB0aGUgbmV4dC1jbG9zZXN0IGVsZW1lbnQuXG4gIC8vXG4gIC8vICAgMy4gV2UgZGlkIG5vdCBmaW5kIHRoZSBleGFjdCBlbGVtZW50LCBhbmQgdGhlcmUgaXMgbm8gbmV4dC1jbG9zZXN0XG4gIC8vICAgICAgZWxlbWVudCB0aGFuIHRoZSBvbmUgd2UgYXJlIHNlYXJjaGluZyBmb3IsIHNvIHdlIHJldHVybiAtMS5cbiAgdmFyIG1pZCA9IE1hdGguZmxvb3IoKGFIaWdoIC0gYUxvdykgLyAyKSArIGFMb3c7XG4gIHZhciBjbXAgPSBhQ29tcGFyZShhTmVlZGxlLCBhSGF5c3RhY2tbbWlkXSwgdHJ1ZSk7XG4gIGlmIChjbXAgPT09IDApIHtcbiAgICAvLyBGb3VuZCB0aGUgZWxlbWVudCB3ZSBhcmUgbG9va2luZyBmb3IuXG4gICAgcmV0dXJuIG1pZDtcbiAgfVxuICBlbHNlIGlmIChjbXAgPiAwKSB7XG4gICAgLy8gT3VyIG5lZWRsZSBpcyBncmVhdGVyIHRoYW4gYUhheXN0YWNrW21pZF0uXG4gICAgaWYgKGFIaWdoIC0gbWlkID4gMSkge1xuICAgICAgLy8gVGhlIGVsZW1lbnQgaXMgaW4gdGhlIHVwcGVyIGhhbGYuXG4gICAgICByZXR1cm4gcmVjdXJzaXZlU2VhcmNoKG1pZCwgYUhpZ2gsIGFOZWVkbGUsIGFIYXlzdGFjaywgYUNvbXBhcmUsIGFCaWFzKTtcbiAgICB9XG5cbiAgICAvLyBUaGUgZXhhY3QgbmVlZGxlIGVsZW1lbnQgd2FzIG5vdCBmb3VuZCBpbiB0aGlzIGhheXN0YWNrLiBEZXRlcm1pbmUgaWZcbiAgICAvLyB3ZSBhcmUgaW4gdGVybWluYXRpb24gY2FzZSAoMykgb3IgKDIpIGFuZCByZXR1cm4gdGhlIGFwcHJvcHJpYXRlIHRoaW5nLlxuICAgIGlmIChhQmlhcyA9PSBleHBvcnRzLkxFQVNUX1VQUEVSX0JPVU5EKSB7XG4gICAgICByZXR1cm4gYUhpZ2ggPCBhSGF5c3RhY2subGVuZ3RoID8gYUhpZ2ggOiAtMTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG1pZDtcbiAgICB9XG4gIH1cbiAgZWxzZSB7XG4gICAgLy8gT3VyIG5lZWRsZSBpcyBsZXNzIHRoYW4gYUhheXN0YWNrW21pZF0uXG4gICAgaWYgKG1pZCAtIGFMb3cgPiAxKSB7XG4gICAgICAvLyBUaGUgZWxlbWVudCBpcyBpbiB0aGUgbG93ZXIgaGFsZi5cbiAgICAgIHJldHVybiByZWN1cnNpdmVTZWFyY2goYUxvdywgbWlkLCBhTmVlZGxlLCBhSGF5c3RhY2ssIGFDb21wYXJlLCBhQmlhcyk7XG4gICAgfVxuXG4gICAgLy8gd2UgYXJlIGluIHRlcm1pbmF0aW9uIGNhc2UgKDMpIG9yICgyKSBhbmQgcmV0dXJuIHRoZSBhcHByb3ByaWF0ZSB0aGluZy5cbiAgICBpZiAoYUJpYXMgPT0gZXhwb3J0cy5MRUFTVF9VUFBFUl9CT1VORCkge1xuICAgICAgcmV0dXJuIG1pZDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGFMb3cgPCAwID8gLTEgOiBhTG93O1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIFRoaXMgaXMgYW4gaW1wbGVtZW50YXRpb24gb2YgYmluYXJ5IHNlYXJjaCB3aGljaCB3aWxsIGFsd2F5cyB0cnkgYW5kIHJldHVyblxuICogdGhlIGluZGV4IG9mIHRoZSBjbG9zZXN0IGVsZW1lbnQgaWYgdGhlcmUgaXMgbm8gZXhhY3QgaGl0LiBUaGlzIGlzIGJlY2F1c2VcbiAqIG1hcHBpbmdzIGJldHdlZW4gb3JpZ2luYWwgYW5kIGdlbmVyYXRlZCBsaW5lL2NvbCBwYWlycyBhcmUgc2luZ2xlIHBvaW50cyxcbiAqIGFuZCB0aGVyZSBpcyBhbiBpbXBsaWNpdCByZWdpb24gYmV0d2VlbiBlYWNoIG9mIHRoZW0sIHNvIGEgbWlzcyBqdXN0IG1lYW5zXG4gKiB0aGF0IHlvdSBhcmVuJ3Qgb24gdGhlIHZlcnkgc3RhcnQgb2YgYSByZWdpb24uXG4gKlxuICogQHBhcmFtIGFOZWVkbGUgVGhlIGVsZW1lbnQgeW91IGFyZSBsb29raW5nIGZvci5cbiAqIEBwYXJhbSBhSGF5c3RhY2sgVGhlIGFycmF5IHRoYXQgaXMgYmVpbmcgc2VhcmNoZWQuXG4gKiBAcGFyYW0gYUNvbXBhcmUgQSBmdW5jdGlvbiB3aGljaCB0YWtlcyB0aGUgbmVlZGxlIGFuZCBhbiBlbGVtZW50IGluIHRoZVxuICogICAgIGFycmF5IGFuZCByZXR1cm5zIC0xLCAwLCBvciAxIGRlcGVuZGluZyBvbiB3aGV0aGVyIHRoZSBuZWVkbGUgaXMgbGVzc1xuICogICAgIHRoYW4sIGVxdWFsIHRvLCBvciBncmVhdGVyIHRoYW4gdGhlIGVsZW1lbnQsIHJlc3BlY3RpdmVseS5cbiAqIEBwYXJhbSBhQmlhcyBFaXRoZXIgJ2JpbmFyeVNlYXJjaC5HUkVBVEVTVF9MT1dFUl9CT1VORCcgb3JcbiAqICAgICAnYmluYXJ5U2VhcmNoLkxFQVNUX1VQUEVSX0JPVU5EJy4gU3BlY2lmaWVzIHdoZXRoZXIgdG8gcmV0dXJuIHRoZVxuICogICAgIGNsb3Nlc3QgZWxlbWVudCB0aGF0IGlzIHNtYWxsZXIgdGhhbiBvciBncmVhdGVyIHRoYW4gdGhlIG9uZSB3ZSBhcmVcbiAqICAgICBzZWFyY2hpbmcgZm9yLCByZXNwZWN0aXZlbHksIGlmIHRoZSBleGFjdCBlbGVtZW50IGNhbm5vdCBiZSBmb3VuZC5cbiAqICAgICBEZWZhdWx0cyB0byAnYmluYXJ5U2VhcmNoLkdSRUFURVNUX0xPV0VSX0JPVU5EJy5cbiAqL1xuZXhwb3J0cy5zZWFyY2ggPSBmdW5jdGlvbiBzZWFyY2goYU5lZWRsZSwgYUhheXN0YWNrLCBhQ29tcGFyZSwgYUJpYXMpIHtcbiAgaWYgKGFIYXlzdGFjay5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gLTE7XG4gIH1cblxuICB2YXIgaW5kZXggPSByZWN1cnNpdmVTZWFyY2goLTEsIGFIYXlzdGFjay5sZW5ndGgsIGFOZWVkbGUsIGFIYXlzdGFjayxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFDb21wYXJlLCBhQmlhcyB8fCBleHBvcnRzLkdSRUFURVNUX0xPV0VSX0JPVU5EKTtcbiAgaWYgKGluZGV4IDwgMCkge1xuICAgIHJldHVybiAtMTtcbiAgfVxuXG4gIC8vIFdlIGhhdmUgZm91bmQgZWl0aGVyIHRoZSBleGFjdCBlbGVtZW50LCBvciB0aGUgbmV4dC1jbG9zZXN0IGVsZW1lbnQgdGhhblxuICAvLyB0aGUgb25lIHdlIGFyZSBzZWFyY2hpbmcgZm9yLiBIb3dldmVyLCB0aGVyZSBtYXkgYmUgbW9yZSB0aGFuIG9uZSBzdWNoXG4gIC8vIGVsZW1lbnQuIE1ha2Ugc3VyZSB3ZSBhbHdheXMgcmV0dXJuIHRoZSBzbWFsbGVzdCBvZiB0aGVzZS5cbiAgd2hpbGUgKGluZGV4IC0gMSA+PSAwKSB7XG4gICAgaWYgKGFDb21wYXJlKGFIYXlzdGFja1tpbmRleF0sIGFIYXlzdGFja1tpbmRleCAtIDFdLCB0cnVlKSAhPT0gMCkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIC0taW5kZXg7XG4gIH1cblxuICByZXR1cm4gaW5kZXg7XG59O1xuIiwgIi8qIC0qLSBNb2RlOiBqczsganMtaW5kZW50LWxldmVsOiAyOyAtKi0gKi9cbi8qXG4gKiBDb3B5cmlnaHQgMjAxMSBNb3ppbGxhIEZvdW5kYXRpb24gYW5kIGNvbnRyaWJ1dG9yc1xuICogTGljZW5zZWQgdW5kZXIgdGhlIE5ldyBCU0QgbGljZW5zZS4gU2VlIExJQ0VOU0Ugb3I6XG4gKiBodHRwOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvQlNELTMtQ2xhdXNlXG4gKi9cblxuLy8gSXQgdHVybnMgb3V0IHRoYXQgc29tZSAobW9zdD8pIEphdmFTY3JpcHQgZW5naW5lcyBkb24ndCBzZWxmLWhvc3Rcbi8vIGBBcnJheS5wcm90b3R5cGUuc29ydGAuIFRoaXMgbWFrZXMgc2Vuc2UgYmVjYXVzZSBDKysgd2lsbCBsaWtlbHkgcmVtYWluXG4vLyBmYXN0ZXIgdGhhbiBKUyB3aGVuIGRvaW5nIHJhdyBDUFUtaW50ZW5zaXZlIHNvcnRpbmcuIEhvd2V2ZXIsIHdoZW4gdXNpbmcgYVxuLy8gY3VzdG9tIGNvbXBhcmF0b3IgZnVuY3Rpb24sIGNhbGxpbmcgYmFjayBhbmQgZm9ydGggYmV0d2VlbiB0aGUgVk0ncyBDKysgYW5kXG4vLyBKSVQnZCBKUyBpcyByYXRoZXIgc2xvdyAqYW5kKiBsb3NlcyBKSVQgdHlwZSBpbmZvcm1hdGlvbiwgcmVzdWx0aW5nIGluXG4vLyB3b3JzZSBnZW5lcmF0ZWQgY29kZSBmb3IgdGhlIGNvbXBhcmF0b3IgZnVuY3Rpb24gdGhhbiB3b3VsZCBiZSBvcHRpbWFsLiBJblxuLy8gZmFjdCwgd2hlbiBzb3J0aW5nIHdpdGggYSBjb21wYXJhdG9yLCB0aGVzZSBjb3N0cyBvdXR3ZWlnaCB0aGUgYmVuZWZpdHMgb2Zcbi8vIHNvcnRpbmcgaW4gQysrLiBCeSB1c2luZyBvdXIgb3duIEpTLWltcGxlbWVudGVkIFF1aWNrIFNvcnQgKGJlbG93KSwgd2UgZ2V0XG4vLyBhIH4zNTAwbXMgbWVhbiBzcGVlZC11cCBpbiBgYmVuY2gvYmVuY2guaHRtbGAuXG5cbi8qKlxuICogU3dhcCB0aGUgZWxlbWVudHMgaW5kZXhlZCBieSBgeGAgYW5kIGB5YCBpbiB0aGUgYXJyYXkgYGFyeWAuXG4gKlxuICogQHBhcmFtIHtBcnJheX0gYXJ5XG4gKiAgICAgICAgVGhlIGFycmF5LlxuICogQHBhcmFtIHtOdW1iZXJ9IHhcbiAqICAgICAgICBUaGUgaW5kZXggb2YgdGhlIGZpcnN0IGl0ZW0uXG4gKiBAcGFyYW0ge051bWJlcn0geVxuICogICAgICAgIFRoZSBpbmRleCBvZiB0aGUgc2Vjb25kIGl0ZW0uXG4gKi9cbmZ1bmN0aW9uIHN3YXAoYXJ5LCB4LCB5KSB7XG4gIHZhciB0ZW1wID0gYXJ5W3hdO1xuICBhcnlbeF0gPSBhcnlbeV07XG4gIGFyeVt5XSA9IHRlbXA7XG59XG5cbi8qKlxuICogUmV0dXJucyBhIHJhbmRvbSBpbnRlZ2VyIHdpdGhpbiB0aGUgcmFuZ2UgYGxvdyAuLiBoaWdoYCBpbmNsdXNpdmUuXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IGxvd1xuICogICAgICAgIFRoZSBsb3dlciBib3VuZCBvbiB0aGUgcmFuZ2UuXG4gKiBAcGFyYW0ge051bWJlcn0gaGlnaFxuICogICAgICAgIFRoZSB1cHBlciBib3VuZCBvbiB0aGUgcmFuZ2UuXG4gKi9cbmZ1bmN0aW9uIHJhbmRvbUludEluUmFuZ2UobG93LCBoaWdoKSB7XG4gIHJldHVybiBNYXRoLnJvdW5kKGxvdyArIChNYXRoLnJhbmRvbSgpICogKGhpZ2ggLSBsb3cpKSk7XG59XG5cbi8qKlxuICogVGhlIFF1aWNrIFNvcnQgYWxnb3JpdGhtLlxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IGFyeVxuICogICAgICAgIEFuIGFycmF5IHRvIHNvcnQuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjb21wYXJhdG9yXG4gKiAgICAgICAgRnVuY3Rpb24gdG8gdXNlIHRvIGNvbXBhcmUgdHdvIGl0ZW1zLlxuICogQHBhcmFtIHtOdW1iZXJ9IHBcbiAqICAgICAgICBTdGFydCBpbmRleCBvZiB0aGUgYXJyYXlcbiAqIEBwYXJhbSB7TnVtYmVyfSByXG4gKiAgICAgICAgRW5kIGluZGV4IG9mIHRoZSBhcnJheVxuICovXG5mdW5jdGlvbiBkb1F1aWNrU29ydChhcnksIGNvbXBhcmF0b3IsIHAsIHIpIHtcbiAgLy8gSWYgb3VyIGxvd2VyIGJvdW5kIGlzIGxlc3MgdGhhbiBvdXIgdXBwZXIgYm91bmQsIHdlICgxKSBwYXJ0aXRpb24gdGhlXG4gIC8vIGFycmF5IGludG8gdHdvIHBpZWNlcyBhbmQgKDIpIHJlY3Vyc2Ugb24gZWFjaCBoYWxmLiBJZiBpdCBpcyBub3QsIHRoaXMgaXNcbiAgLy8gdGhlIGVtcHR5IGFycmF5IGFuZCBvdXIgYmFzZSBjYXNlLlxuXG4gIGlmIChwIDwgcikge1xuICAgIC8vICgxKSBQYXJ0aXRpb25pbmcuXG4gICAgLy9cbiAgICAvLyBUaGUgcGFydGl0aW9uaW5nIGNob29zZXMgYSBwaXZvdCBiZXR3ZWVuIGBwYCBhbmQgYHJgIGFuZCBtb3ZlcyBhbGxcbiAgICAvLyBlbGVtZW50cyB0aGF0IGFyZSBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gdGhlIHBpdm90IHRvIHRoZSBiZWZvcmUgaXQsIGFuZFxuICAgIC8vIGFsbCB0aGUgZWxlbWVudHMgdGhhdCBhcmUgZ3JlYXRlciB0aGFuIGl0IGFmdGVyIGl0LiBUaGUgZWZmZWN0IGlzIHRoYXRcbiAgICAvLyBvbmNlIHBhcnRpdGlvbiBpcyBkb25lLCB0aGUgcGl2b3QgaXMgaW4gdGhlIGV4YWN0IHBsYWNlIGl0IHdpbGwgYmUgd2hlblxuICAgIC8vIHRoZSBhcnJheSBpcyBwdXQgaW4gc29ydGVkIG9yZGVyLCBhbmQgaXQgd2lsbCBub3QgbmVlZCB0byBiZSBtb3ZlZFxuICAgIC8vIGFnYWluLiBUaGlzIHJ1bnMgaW4gTyhuKSB0aW1lLlxuXG4gICAgLy8gQWx3YXlzIGNob29zZSBhIHJhbmRvbSBwaXZvdCBzbyB0aGF0IGFuIGlucHV0IGFycmF5IHdoaWNoIGlzIHJldmVyc2VcbiAgICAvLyBzb3J0ZWQgZG9lcyBub3QgY2F1c2UgTyhuXjIpIHJ1bm5pbmcgdGltZS5cbiAgICB2YXIgcGl2b3RJbmRleCA9IHJhbmRvbUludEluUmFuZ2UocCwgcik7XG4gICAgdmFyIGkgPSBwIC0gMTtcblxuICAgIHN3YXAoYXJ5LCBwaXZvdEluZGV4LCByKTtcbiAgICB2YXIgcGl2b3QgPSBhcnlbcl07XG5cbiAgICAvLyBJbW1lZGlhdGVseSBhZnRlciBgamAgaXMgaW5jcmVtZW50ZWQgaW4gdGhpcyBsb29wLCB0aGUgZm9sbG93aW5nIGhvbGRcbiAgICAvLyB0cnVlOlxuICAgIC8vXG4gICAgLy8gICAqIEV2ZXJ5IGVsZW1lbnQgaW4gYGFyeVtwIC4uIGldYCBpcyBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gdGhlIHBpdm90LlxuICAgIC8vXG4gICAgLy8gICAqIEV2ZXJ5IGVsZW1lbnQgaW4gYGFyeVtpKzEgLi4gai0xXWAgaXMgZ3JlYXRlciB0aGFuIHRoZSBwaXZvdC5cbiAgICBmb3IgKHZhciBqID0gcDsgaiA8IHI7IGorKykge1xuICAgICAgaWYgKGNvbXBhcmF0b3IoYXJ5W2pdLCBwaXZvdCkgPD0gMCkge1xuICAgICAgICBpICs9IDE7XG4gICAgICAgIHN3YXAoYXJ5LCBpLCBqKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBzd2FwKGFyeSwgaSArIDEsIGopO1xuICAgIHZhciBxID0gaSArIDE7XG5cbiAgICAvLyAoMikgUmVjdXJzZSBvbiBlYWNoIGhhbGYuXG5cbiAgICBkb1F1aWNrU29ydChhcnksIGNvbXBhcmF0b3IsIHAsIHEgLSAxKTtcbiAgICBkb1F1aWNrU29ydChhcnksIGNvbXBhcmF0b3IsIHEgKyAxLCByKTtcbiAgfVxufVxuXG4vKipcbiAqIFNvcnQgdGhlIGdpdmVuIGFycmF5IGluLXBsYWNlIHdpdGggdGhlIGdpdmVuIGNvbXBhcmF0b3IgZnVuY3Rpb24uXG4gKlxuICogQHBhcmFtIHtBcnJheX0gYXJ5XG4gKiAgICAgICAgQW4gYXJyYXkgdG8gc29ydC5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNvbXBhcmF0b3JcbiAqICAgICAgICBGdW5jdGlvbiB0byB1c2UgdG8gY29tcGFyZSB0d28gaXRlbXMuXG4gKi9cbmV4cG9ydHMucXVpY2tTb3J0ID0gZnVuY3Rpb24gKGFyeSwgY29tcGFyYXRvcikge1xuICBkb1F1aWNrU29ydChhcnksIGNvbXBhcmF0b3IsIDAsIGFyeS5sZW5ndGggLSAxKTtcbn07XG4iLCAiLyogLSotIE1vZGU6IGpzOyBqcy1pbmRlbnQtbGV2ZWw6IDI7IC0qLSAqL1xuLypcbiAqIENvcHlyaWdodCAyMDExIE1vemlsbGEgRm91bmRhdGlvbiBhbmQgY29udHJpYnV0b3JzXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTmV3IEJTRCBsaWNlbnNlLiBTZWUgTElDRU5TRSBvcjpcbiAqIGh0dHA6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9CU0QtMy1DbGF1c2VcbiAqL1xuXG52YXIgdXRpbCA9IHJlcXVpcmUoJy4vdXRpbCcpO1xudmFyIGJpbmFyeVNlYXJjaCA9IHJlcXVpcmUoJy4vYmluYXJ5LXNlYXJjaCcpO1xudmFyIEFycmF5U2V0ID0gcmVxdWlyZSgnLi9hcnJheS1zZXQnKS5BcnJheVNldDtcbnZhciBiYXNlNjRWTFEgPSByZXF1aXJlKCcuL2Jhc2U2NC12bHEnKTtcbnZhciBxdWlja1NvcnQgPSByZXF1aXJlKCcuL3F1aWNrLXNvcnQnKS5xdWlja1NvcnQ7XG5cbmZ1bmN0aW9uIFNvdXJjZU1hcENvbnN1bWVyKGFTb3VyY2VNYXAsIGFTb3VyY2VNYXBVUkwpIHtcbiAgdmFyIHNvdXJjZU1hcCA9IGFTb3VyY2VNYXA7XG4gIGlmICh0eXBlb2YgYVNvdXJjZU1hcCA9PT0gJ3N0cmluZycpIHtcbiAgICBzb3VyY2VNYXAgPSB1dGlsLnBhcnNlU291cmNlTWFwSW5wdXQoYVNvdXJjZU1hcCk7XG4gIH1cblxuICByZXR1cm4gc291cmNlTWFwLnNlY3Rpb25zICE9IG51bGxcbiAgICA/IG5ldyBJbmRleGVkU291cmNlTWFwQ29uc3VtZXIoc291cmNlTWFwLCBhU291cmNlTWFwVVJMKVxuICAgIDogbmV3IEJhc2ljU291cmNlTWFwQ29uc3VtZXIoc291cmNlTWFwLCBhU291cmNlTWFwVVJMKTtcbn1cblxuU291cmNlTWFwQ29uc3VtZXIuZnJvbVNvdXJjZU1hcCA9IGZ1bmN0aW9uKGFTb3VyY2VNYXAsIGFTb3VyY2VNYXBVUkwpIHtcbiAgcmV0dXJuIEJhc2ljU291cmNlTWFwQ29uc3VtZXIuZnJvbVNvdXJjZU1hcChhU291cmNlTWFwLCBhU291cmNlTWFwVVJMKTtcbn1cblxuLyoqXG4gKiBUaGUgdmVyc2lvbiBvZiB0aGUgc291cmNlIG1hcHBpbmcgc3BlYyB0aGF0IHdlIGFyZSBjb25zdW1pbmcuXG4gKi9cblNvdXJjZU1hcENvbnN1bWVyLnByb3RvdHlwZS5fdmVyc2lvbiA9IDM7XG5cbi8vIGBfX2dlbmVyYXRlZE1hcHBpbmdzYCBhbmQgYF9fb3JpZ2luYWxNYXBwaW5nc2AgYXJlIGFycmF5cyB0aGF0IGhvbGQgdGhlXG4vLyBwYXJzZWQgbWFwcGluZyBjb29yZGluYXRlcyBmcm9tIHRoZSBzb3VyY2UgbWFwJ3MgXCJtYXBwaW5nc1wiIGF0dHJpYnV0ZS4gVGhleVxuLy8gYXJlIGxhemlseSBpbnN0YW50aWF0ZWQsIGFjY2Vzc2VkIHZpYSB0aGUgYF9nZW5lcmF0ZWRNYXBwaW5nc2AgYW5kXG4vLyBgX29yaWdpbmFsTWFwcGluZ3NgIGdldHRlcnMgcmVzcGVjdGl2ZWx5LCBhbmQgd2Ugb25seSBwYXJzZSB0aGUgbWFwcGluZ3Ncbi8vIGFuZCBjcmVhdGUgdGhlc2UgYXJyYXlzIG9uY2UgcXVlcmllZCBmb3IgYSBzb3VyY2UgbG9jYXRpb24uIFdlIGp1bXAgdGhyb3VnaFxuLy8gdGhlc2UgaG9vcHMgYmVjYXVzZSB0aGVyZSBjYW4gYmUgbWFueSB0aG91c2FuZHMgb2YgbWFwcGluZ3MsIGFuZCBwYXJzaW5nXG4vLyB0aGVtIGlzIGV4cGVuc2l2ZSwgc28gd2Ugb25seSB3YW50IHRvIGRvIGl0IGlmIHdlIG11c3QuXG4vL1xuLy8gRWFjaCBvYmplY3QgaW4gdGhlIGFycmF5cyBpcyBvZiB0aGUgZm9ybTpcbi8vXG4vLyAgICAge1xuLy8gICAgICAgZ2VuZXJhdGVkTGluZTogVGhlIGxpbmUgbnVtYmVyIGluIHRoZSBnZW5lcmF0ZWQgY29kZSxcbi8vICAgICAgIGdlbmVyYXRlZENvbHVtbjogVGhlIGNvbHVtbiBudW1iZXIgaW4gdGhlIGdlbmVyYXRlZCBjb2RlLFxuLy8gICAgICAgc291cmNlOiBUaGUgcGF0aCB0byB0aGUgb3JpZ2luYWwgc291cmNlIGZpbGUgdGhhdCBnZW5lcmF0ZWQgdGhpc1xuLy8gICAgICAgICAgICAgICBjaHVuayBvZiBjb2RlLFxuLy8gICAgICAgb3JpZ2luYWxMaW5lOiBUaGUgbGluZSBudW1iZXIgaW4gdGhlIG9yaWdpbmFsIHNvdXJjZSB0aGF0XG4vLyAgICAgICAgICAgICAgICAgICAgIGNvcnJlc3BvbmRzIHRvIHRoaXMgY2h1bmsgb2YgZ2VuZXJhdGVkIGNvZGUsXG4vLyAgICAgICBvcmlnaW5hbENvbHVtbjogVGhlIGNvbHVtbiBudW1iZXIgaW4gdGhlIG9yaWdpbmFsIHNvdXJjZSB0aGF0XG4vLyAgICAgICAgICAgICAgICAgICAgICAgY29ycmVzcG9uZHMgdG8gdGhpcyBjaHVuayBvZiBnZW5lcmF0ZWQgY29kZSxcbi8vICAgICAgIG5hbWU6IFRoZSBuYW1lIG9mIHRoZSBvcmlnaW5hbCBzeW1ib2wgd2hpY2ggZ2VuZXJhdGVkIHRoaXMgY2h1bmsgb2Zcbi8vICAgICAgICAgICAgIGNvZGUuXG4vLyAgICAgfVxuLy9cbi8vIEFsbCBwcm9wZXJ0aWVzIGV4Y2VwdCBmb3IgYGdlbmVyYXRlZExpbmVgIGFuZCBgZ2VuZXJhdGVkQ29sdW1uYCBjYW4gYmVcbi8vIGBudWxsYC5cbi8vXG4vLyBgX2dlbmVyYXRlZE1hcHBpbmdzYCBpcyBvcmRlcmVkIGJ5IHRoZSBnZW5lcmF0ZWQgcG9zaXRpb25zLlxuLy9cbi8vIGBfb3JpZ2luYWxNYXBwaW5nc2AgaXMgb3JkZXJlZCBieSB0aGUgb3JpZ2luYWwgcG9zaXRpb25zLlxuXG5Tb3VyY2VNYXBDb25zdW1lci5wcm90b3R5cGUuX19nZW5lcmF0ZWRNYXBwaW5ncyA9IG51bGw7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoU291cmNlTWFwQ29uc3VtZXIucHJvdG90eXBlLCAnX2dlbmVyYXRlZE1hcHBpbmdzJywge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gKCkge1xuICAgIGlmICghdGhpcy5fX2dlbmVyYXRlZE1hcHBpbmdzKSB7XG4gICAgICB0aGlzLl9wYXJzZU1hcHBpbmdzKHRoaXMuX21hcHBpbmdzLCB0aGlzLnNvdXJjZVJvb3QpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl9fZ2VuZXJhdGVkTWFwcGluZ3M7XG4gIH1cbn0pO1xuXG5Tb3VyY2VNYXBDb25zdW1lci5wcm90b3R5cGUuX19vcmlnaW5hbE1hcHBpbmdzID0gbnVsbDtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShTb3VyY2VNYXBDb25zdW1lci5wcm90b3R5cGUsICdfb3JpZ2luYWxNYXBwaW5ncycsIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIXRoaXMuX19vcmlnaW5hbE1hcHBpbmdzKSB7XG4gICAgICB0aGlzLl9wYXJzZU1hcHBpbmdzKHRoaXMuX21hcHBpbmdzLCB0aGlzLnNvdXJjZVJvb3QpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl9fb3JpZ2luYWxNYXBwaW5ncztcbiAgfVxufSk7XG5cblNvdXJjZU1hcENvbnN1bWVyLnByb3RvdHlwZS5fY2hhcklzTWFwcGluZ1NlcGFyYXRvciA9XG4gIGZ1bmN0aW9uIFNvdXJjZU1hcENvbnN1bWVyX2NoYXJJc01hcHBpbmdTZXBhcmF0b3IoYVN0ciwgaW5kZXgpIHtcbiAgICB2YXIgYyA9IGFTdHIuY2hhckF0KGluZGV4KTtcbiAgICByZXR1cm4gYyA9PT0gXCI7XCIgfHwgYyA9PT0gXCIsXCI7XG4gIH07XG5cbi8qKlxuICogUGFyc2UgdGhlIG1hcHBpbmdzIGluIGEgc3RyaW5nIGluIHRvIGEgZGF0YSBzdHJ1Y3R1cmUgd2hpY2ggd2UgY2FuIGVhc2lseVxuICogcXVlcnkgKHRoZSBvcmRlcmVkIGFycmF5cyBpbiB0aGUgYHRoaXMuX19nZW5lcmF0ZWRNYXBwaW5nc2AgYW5kXG4gKiBgdGhpcy5fX29yaWdpbmFsTWFwcGluZ3NgIHByb3BlcnRpZXMpLlxuICovXG5Tb3VyY2VNYXBDb25zdW1lci5wcm90b3R5cGUuX3BhcnNlTWFwcGluZ3MgPVxuICBmdW5jdGlvbiBTb3VyY2VNYXBDb25zdW1lcl9wYXJzZU1hcHBpbmdzKGFTdHIsIGFTb3VyY2VSb290KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiU3ViY2xhc3NlcyBtdXN0IGltcGxlbWVudCBfcGFyc2VNYXBwaW5nc1wiKTtcbiAgfTtcblxuU291cmNlTWFwQ29uc3VtZXIuR0VORVJBVEVEX09SREVSID0gMTtcblNvdXJjZU1hcENvbnN1bWVyLk9SSUdJTkFMX09SREVSID0gMjtcblxuU291cmNlTWFwQ29uc3VtZXIuR1JFQVRFU1RfTE9XRVJfQk9VTkQgPSAxO1xuU291cmNlTWFwQ29uc3VtZXIuTEVBU1RfVVBQRVJfQk9VTkQgPSAyO1xuXG4vKipcbiAqIEl0ZXJhdGUgb3ZlciBlYWNoIG1hcHBpbmcgYmV0d2VlbiBhbiBvcmlnaW5hbCBzb3VyY2UvbGluZS9jb2x1bW4gYW5kIGFcbiAqIGdlbmVyYXRlZCBsaW5lL2NvbHVtbiBpbiB0aGlzIHNvdXJjZSBtYXAuXG4gKlxuICogQHBhcmFtIEZ1bmN0aW9uIGFDYWxsYmFja1xuICogICAgICAgIFRoZSBmdW5jdGlvbiB0aGF0IGlzIGNhbGxlZCB3aXRoIGVhY2ggbWFwcGluZy5cbiAqIEBwYXJhbSBPYmplY3QgYUNvbnRleHRcbiAqICAgICAgICBPcHRpb25hbC4gSWYgc3BlY2lmaWVkLCB0aGlzIG9iamVjdCB3aWxsIGJlIHRoZSB2YWx1ZSBvZiBgdGhpc2AgZXZlcnlcbiAqICAgICAgICB0aW1lIHRoYXQgYGFDYWxsYmFja2AgaXMgY2FsbGVkLlxuICogQHBhcmFtIGFPcmRlclxuICogICAgICAgIEVpdGhlciBgU291cmNlTWFwQ29uc3VtZXIuR0VORVJBVEVEX09SREVSYCBvclxuICogICAgICAgIGBTb3VyY2VNYXBDb25zdW1lci5PUklHSU5BTF9PUkRFUmAuIFNwZWNpZmllcyB3aGV0aGVyIHlvdSB3YW50IHRvXG4gKiAgICAgICAgaXRlcmF0ZSBvdmVyIHRoZSBtYXBwaW5ncyBzb3J0ZWQgYnkgdGhlIGdlbmVyYXRlZCBmaWxlJ3MgbGluZS9jb2x1bW5cbiAqICAgICAgICBvcmRlciBvciB0aGUgb3JpZ2luYWwncyBzb3VyY2UvbGluZS9jb2x1bW4gb3JkZXIsIHJlc3BlY3RpdmVseS4gRGVmYXVsdHMgdG9cbiAqICAgICAgICBgU291cmNlTWFwQ29uc3VtZXIuR0VORVJBVEVEX09SREVSYC5cbiAqL1xuU291cmNlTWFwQ29uc3VtZXIucHJvdG90eXBlLmVhY2hNYXBwaW5nID1cbiAgZnVuY3Rpb24gU291cmNlTWFwQ29uc3VtZXJfZWFjaE1hcHBpbmcoYUNhbGxiYWNrLCBhQ29udGV4dCwgYU9yZGVyKSB7XG4gICAgdmFyIGNvbnRleHQgPSBhQ29udGV4dCB8fCBudWxsO1xuICAgIHZhciBvcmRlciA9IGFPcmRlciB8fCBTb3VyY2VNYXBDb25zdW1lci5HRU5FUkFURURfT1JERVI7XG5cbiAgICB2YXIgbWFwcGluZ3M7XG4gICAgc3dpdGNoIChvcmRlcikge1xuICAgIGNhc2UgU291cmNlTWFwQ29uc3VtZXIuR0VORVJBVEVEX09SREVSOlxuICAgICAgbWFwcGluZ3MgPSB0aGlzLl9nZW5lcmF0ZWRNYXBwaW5ncztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgU291cmNlTWFwQ29uc3VtZXIuT1JJR0lOQUxfT1JERVI6XG4gICAgICBtYXBwaW5ncyA9IHRoaXMuX29yaWdpbmFsTWFwcGluZ3M7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBvcmRlciBvZiBpdGVyYXRpb24uXCIpO1xuICAgIH1cblxuICAgIHZhciBzb3VyY2VSb290ID0gdGhpcy5zb3VyY2VSb290O1xuICAgIG1hcHBpbmdzLm1hcChmdW5jdGlvbiAobWFwcGluZykge1xuICAgICAgdmFyIHNvdXJjZSA9IG1hcHBpbmcuc291cmNlID09PSBudWxsID8gbnVsbCA6IHRoaXMuX3NvdXJjZXMuYXQobWFwcGluZy5zb3VyY2UpO1xuICAgICAgc291cmNlID0gdXRpbC5jb21wdXRlU291cmNlVVJMKHNvdXJjZVJvb3QsIHNvdXJjZSwgdGhpcy5fc291cmNlTWFwVVJMKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHNvdXJjZTogc291cmNlLFxuICAgICAgICBnZW5lcmF0ZWRMaW5lOiBtYXBwaW5nLmdlbmVyYXRlZExpbmUsXG4gICAgICAgIGdlbmVyYXRlZENvbHVtbjogbWFwcGluZy5nZW5lcmF0ZWRDb2x1bW4sXG4gICAgICAgIG9yaWdpbmFsTGluZTogbWFwcGluZy5vcmlnaW5hbExpbmUsXG4gICAgICAgIG9yaWdpbmFsQ29sdW1uOiBtYXBwaW5nLm9yaWdpbmFsQ29sdW1uLFxuICAgICAgICBuYW1lOiBtYXBwaW5nLm5hbWUgPT09IG51bGwgPyBudWxsIDogdGhpcy5fbmFtZXMuYXQobWFwcGluZy5uYW1lKVxuICAgICAgfTtcbiAgICB9LCB0aGlzKS5mb3JFYWNoKGFDYWxsYmFjaywgY29udGV4dCk7XG4gIH07XG5cbi8qKlxuICogUmV0dXJucyBhbGwgZ2VuZXJhdGVkIGxpbmUgYW5kIGNvbHVtbiBpbmZvcm1hdGlvbiBmb3IgdGhlIG9yaWdpbmFsIHNvdXJjZSxcbiAqIGxpbmUsIGFuZCBjb2x1bW4gcHJvdmlkZWQuIElmIG5vIGNvbHVtbiBpcyBwcm92aWRlZCwgcmV0dXJucyBhbGwgbWFwcGluZ3NcbiAqIGNvcnJlc3BvbmRpbmcgdG8gYSBlaXRoZXIgdGhlIGxpbmUgd2UgYXJlIHNlYXJjaGluZyBmb3Igb3IgdGhlIG5leHRcbiAqIGNsb3Nlc3QgbGluZSB0aGF0IGhhcyBhbnkgbWFwcGluZ3MuIE90aGVyd2lzZSwgcmV0dXJucyBhbGwgbWFwcGluZ3NcbiAqIGNvcnJlc3BvbmRpbmcgdG8gdGhlIGdpdmVuIGxpbmUgYW5kIGVpdGhlciB0aGUgY29sdW1uIHdlIGFyZSBzZWFyY2hpbmcgZm9yXG4gKiBvciB0aGUgbmV4dCBjbG9zZXN0IGNvbHVtbiB0aGF0IGhhcyBhbnkgb2Zmc2V0cy5cbiAqXG4gKiBUaGUgb25seSBhcmd1bWVudCBpcyBhbiBvYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gKlxuICogICAtIHNvdXJjZTogVGhlIGZpbGVuYW1lIG9mIHRoZSBvcmlnaW5hbCBzb3VyY2UuXG4gKiAgIC0gbGluZTogVGhlIGxpbmUgbnVtYmVyIGluIHRoZSBvcmlnaW5hbCBzb3VyY2UuICBUaGUgbGluZSBudW1iZXIgaXMgMS1iYXNlZC5cbiAqICAgLSBjb2x1bW46IE9wdGlvbmFsLiB0aGUgY29sdW1uIG51bWJlciBpbiB0aGUgb3JpZ2luYWwgc291cmNlLlxuICogICAgVGhlIGNvbHVtbiBudW1iZXIgaXMgMC1iYXNlZC5cbiAqXG4gKiBhbmQgYW4gYXJyYXkgb2Ygb2JqZWN0cyBpcyByZXR1cm5lZCwgZWFjaCB3aXRoIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAqXG4gKiAgIC0gbGluZTogVGhlIGxpbmUgbnVtYmVyIGluIHRoZSBnZW5lcmF0ZWQgc291cmNlLCBvciBudWxsLiAgVGhlXG4gKiAgICBsaW5lIG51bWJlciBpcyAxLWJhc2VkLlxuICogICAtIGNvbHVtbjogVGhlIGNvbHVtbiBudW1iZXIgaW4gdGhlIGdlbmVyYXRlZCBzb3VyY2UsIG9yIG51bGwuXG4gKiAgICBUaGUgY29sdW1uIG51bWJlciBpcyAwLWJhc2VkLlxuICovXG5Tb3VyY2VNYXBDb25zdW1lci5wcm90b3R5cGUuYWxsR2VuZXJhdGVkUG9zaXRpb25zRm9yID1cbiAgZnVuY3Rpb24gU291cmNlTWFwQ29uc3VtZXJfYWxsR2VuZXJhdGVkUG9zaXRpb25zRm9yKGFBcmdzKSB7XG4gICAgdmFyIGxpbmUgPSB1dGlsLmdldEFyZyhhQXJncywgJ2xpbmUnKTtcblxuICAgIC8vIFdoZW4gdGhlcmUgaXMgbm8gZXhhY3QgbWF0Y2gsIEJhc2ljU291cmNlTWFwQ29uc3VtZXIucHJvdG90eXBlLl9maW5kTWFwcGluZ1xuICAgIC8vIHJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBjbG9zZXN0IG1hcHBpbmcgbGVzcyB0aGFuIHRoZSBuZWVkbGUuIEJ5XG4gICAgLy8gc2V0dGluZyBuZWVkbGUub3JpZ2luYWxDb2x1bW4gdG8gMCwgd2UgdGh1cyBmaW5kIHRoZSBsYXN0IG1hcHBpbmcgZm9yXG4gICAgLy8gdGhlIGdpdmVuIGxpbmUsIHByb3ZpZGVkIHN1Y2ggYSBtYXBwaW5nIGV4aXN0cy5cbiAgICB2YXIgbmVlZGxlID0ge1xuICAgICAgc291cmNlOiB1dGlsLmdldEFyZyhhQXJncywgJ3NvdXJjZScpLFxuICAgICAgb3JpZ2luYWxMaW5lOiBsaW5lLFxuICAgICAgb3JpZ2luYWxDb2x1bW46IHV0aWwuZ2V0QXJnKGFBcmdzLCAnY29sdW1uJywgMClcbiAgICB9O1xuXG4gICAgbmVlZGxlLnNvdXJjZSA9IHRoaXMuX2ZpbmRTb3VyY2VJbmRleChuZWVkbGUuc291cmNlKTtcbiAgICBpZiAobmVlZGxlLnNvdXJjZSA8IDApIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICB2YXIgbWFwcGluZ3MgPSBbXTtcblxuICAgIHZhciBpbmRleCA9IHRoaXMuX2ZpbmRNYXBwaW5nKG5lZWRsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9vcmlnaW5hbE1hcHBpbmdzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwib3JpZ2luYWxMaW5lXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJvcmlnaW5hbENvbHVtblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV0aWwuY29tcGFyZUJ5T3JpZ2luYWxQb3NpdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmluYXJ5U2VhcmNoLkxFQVNUX1VQUEVSX0JPVU5EKTtcbiAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgdmFyIG1hcHBpbmcgPSB0aGlzLl9vcmlnaW5hbE1hcHBpbmdzW2luZGV4XTtcblxuICAgICAgaWYgKGFBcmdzLmNvbHVtbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHZhciBvcmlnaW5hbExpbmUgPSBtYXBwaW5nLm9yaWdpbmFsTGluZTtcblxuICAgICAgICAvLyBJdGVyYXRlIHVudGlsIGVpdGhlciB3ZSBydW4gb3V0IG9mIG1hcHBpbmdzLCBvciB3ZSBydW4gaW50b1xuICAgICAgICAvLyBhIG1hcHBpbmcgZm9yIGEgZGlmZmVyZW50IGxpbmUgdGhhbiB0aGUgb25lIHdlIGZvdW5kLiBTaW5jZVxuICAgICAgICAvLyBtYXBwaW5ncyBhcmUgc29ydGVkLCB0aGlzIGlzIGd1YXJhbnRlZWQgdG8gZmluZCBhbGwgbWFwcGluZ3MgZm9yXG4gICAgICAgIC8vIHRoZSBsaW5lIHdlIGZvdW5kLlxuICAgICAgICB3aGlsZSAobWFwcGluZyAmJiBtYXBwaW5nLm9yaWdpbmFsTGluZSA9PT0gb3JpZ2luYWxMaW5lKSB7XG4gICAgICAgICAgbWFwcGluZ3MucHVzaCh7XG4gICAgICAgICAgICBsaW5lOiB1dGlsLmdldEFyZyhtYXBwaW5nLCAnZ2VuZXJhdGVkTGluZScsIG51bGwpLFxuICAgICAgICAgICAgY29sdW1uOiB1dGlsLmdldEFyZyhtYXBwaW5nLCAnZ2VuZXJhdGVkQ29sdW1uJywgbnVsbCksXG4gICAgICAgICAgICBsYXN0Q29sdW1uOiB1dGlsLmdldEFyZyhtYXBwaW5nLCAnbGFzdEdlbmVyYXRlZENvbHVtbicsIG51bGwpXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBtYXBwaW5nID0gdGhpcy5fb3JpZ2luYWxNYXBwaW5nc1srK2luZGV4XTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIG9yaWdpbmFsQ29sdW1uID0gbWFwcGluZy5vcmlnaW5hbENvbHVtbjtcblxuICAgICAgICAvLyBJdGVyYXRlIHVudGlsIGVpdGhlciB3ZSBydW4gb3V0IG9mIG1hcHBpbmdzLCBvciB3ZSBydW4gaW50b1xuICAgICAgICAvLyBhIG1hcHBpbmcgZm9yIGEgZGlmZmVyZW50IGxpbmUgdGhhbiB0aGUgb25lIHdlIHdlcmUgc2VhcmNoaW5nIGZvci5cbiAgICAgICAgLy8gU2luY2UgbWFwcGluZ3MgYXJlIHNvcnRlZCwgdGhpcyBpcyBndWFyYW50ZWVkIHRvIGZpbmQgYWxsIG1hcHBpbmdzIGZvclxuICAgICAgICAvLyB0aGUgbGluZSB3ZSBhcmUgc2VhcmNoaW5nIGZvci5cbiAgICAgICAgd2hpbGUgKG1hcHBpbmcgJiZcbiAgICAgICAgICAgICAgIG1hcHBpbmcub3JpZ2luYWxMaW5lID09PSBsaW5lICYmXG4gICAgICAgICAgICAgICBtYXBwaW5nLm9yaWdpbmFsQ29sdW1uID09IG9yaWdpbmFsQ29sdW1uKSB7XG4gICAgICAgICAgbWFwcGluZ3MucHVzaCh7XG4gICAgICAgICAgICBsaW5lOiB1dGlsLmdldEFyZyhtYXBwaW5nLCAnZ2VuZXJhdGVkTGluZScsIG51bGwpLFxuICAgICAgICAgICAgY29sdW1uOiB1dGlsLmdldEFyZyhtYXBwaW5nLCAnZ2VuZXJhdGVkQ29sdW1uJywgbnVsbCksXG4gICAgICAgICAgICBsYXN0Q29sdW1uOiB1dGlsLmdldEFyZyhtYXBwaW5nLCAnbGFzdEdlbmVyYXRlZENvbHVtbicsIG51bGwpXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBtYXBwaW5nID0gdGhpcy5fb3JpZ2luYWxNYXBwaW5nc1srK2luZGV4XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBtYXBwaW5ncztcbiAgfTtcblxuZXhwb3J0cy5Tb3VyY2VNYXBDb25zdW1lciA9IFNvdXJjZU1hcENvbnN1bWVyO1xuXG4vKipcbiAqIEEgQmFzaWNTb3VyY2VNYXBDb25zdW1lciBpbnN0YW5jZSByZXByZXNlbnRzIGEgcGFyc2VkIHNvdXJjZSBtYXAgd2hpY2ggd2UgY2FuXG4gKiBxdWVyeSBmb3IgaW5mb3JtYXRpb24gYWJvdXQgdGhlIG9yaWdpbmFsIGZpbGUgcG9zaXRpb25zIGJ5IGdpdmluZyBpdCBhIGZpbGVcbiAqIHBvc2l0aW9uIGluIHRoZSBnZW5lcmF0ZWQgc291cmNlLlxuICpcbiAqIFRoZSBmaXJzdCBwYXJhbWV0ZXIgaXMgdGhlIHJhdyBzb3VyY2UgbWFwIChlaXRoZXIgYXMgYSBKU09OIHN0cmluZywgb3JcbiAqIGFscmVhZHkgcGFyc2VkIHRvIGFuIG9iamVjdCkuIEFjY29yZGluZyB0byB0aGUgc3BlYywgc291cmNlIG1hcHMgaGF2ZSB0aGVcbiAqIGZvbGxvd2luZyBhdHRyaWJ1dGVzOlxuICpcbiAqICAgLSB2ZXJzaW9uOiBXaGljaCB2ZXJzaW9uIG9mIHRoZSBzb3VyY2UgbWFwIHNwZWMgdGhpcyBtYXAgaXMgZm9sbG93aW5nLlxuICogICAtIHNvdXJjZXM6IEFuIGFycmF5IG9mIFVSTHMgdG8gdGhlIG9yaWdpbmFsIHNvdXJjZSBmaWxlcy5cbiAqICAgLSBuYW1lczogQW4gYXJyYXkgb2YgaWRlbnRpZmllcnMgd2hpY2ggY2FuIGJlIHJlZmVycmVuY2VkIGJ5IGluZGl2aWR1YWwgbWFwcGluZ3MuXG4gKiAgIC0gc291cmNlUm9vdDogT3B0aW9uYWwuIFRoZSBVUkwgcm9vdCBmcm9tIHdoaWNoIGFsbCBzb3VyY2VzIGFyZSByZWxhdGl2ZS5cbiAqICAgLSBzb3VyY2VzQ29udGVudDogT3B0aW9uYWwuIEFuIGFycmF5IG9mIGNvbnRlbnRzIG9mIHRoZSBvcmlnaW5hbCBzb3VyY2UgZmlsZXMuXG4gKiAgIC0gbWFwcGluZ3M6IEEgc3RyaW5nIG9mIGJhc2U2NCBWTFFzIHdoaWNoIGNvbnRhaW4gdGhlIGFjdHVhbCBtYXBwaW5ncy5cbiAqICAgLSBmaWxlOiBPcHRpb25hbC4gVGhlIGdlbmVyYXRlZCBmaWxlIHRoaXMgc291cmNlIG1hcCBpcyBhc3NvY2lhdGVkIHdpdGguXG4gKlxuICogSGVyZSBpcyBhbiBleGFtcGxlIHNvdXJjZSBtYXAsIHRha2VuIGZyb20gdGhlIHNvdXJjZSBtYXAgc3BlY1swXTpcbiAqXG4gKiAgICAge1xuICogICAgICAgdmVyc2lvbiA6IDMsXG4gKiAgICAgICBmaWxlOiBcIm91dC5qc1wiLFxuICogICAgICAgc291cmNlUm9vdCA6IFwiXCIsXG4gKiAgICAgICBzb3VyY2VzOiBbXCJmb28uanNcIiwgXCJiYXIuanNcIl0sXG4gKiAgICAgICBuYW1lczogW1wic3JjXCIsIFwibWFwc1wiLCBcImFyZVwiLCBcImZ1blwiXSxcbiAqICAgICAgIG1hcHBpbmdzOiBcIkFBLEFCOztBQkNERTtcIlxuICogICAgIH1cbiAqXG4gKiBUaGUgc2Vjb25kIHBhcmFtZXRlciwgaWYgZ2l2ZW4sIGlzIGEgc3RyaW5nIHdob3NlIHZhbHVlIGlzIHRoZSBVUkxcbiAqIGF0IHdoaWNoIHRoZSBzb3VyY2UgbWFwIHdhcyBmb3VuZC4gIFRoaXMgVVJMIGlzIHVzZWQgdG8gY29tcHV0ZSB0aGVcbiAqIHNvdXJjZXMgYXJyYXkuXG4gKlxuICogWzBdOiBodHRwczovL2RvY3MuZ29vZ2xlLmNvbS9kb2N1bWVudC9kLzFVMVJHQWVoUXdSeXBVVG92RjFLUmxwaU9GemUwYi1fMmdjNmZBSDBLWTBrL2VkaXQ/cGxpPTEjXG4gKi9cbmZ1bmN0aW9uIEJhc2ljU291cmNlTWFwQ29uc3VtZXIoYVNvdXJjZU1hcCwgYVNvdXJjZU1hcFVSTCkge1xuICB2YXIgc291cmNlTWFwID0gYVNvdXJjZU1hcDtcbiAgaWYgKHR5cGVvZiBhU291cmNlTWFwID09PSAnc3RyaW5nJykge1xuICAgIHNvdXJjZU1hcCA9IHV0aWwucGFyc2VTb3VyY2VNYXBJbnB1dChhU291cmNlTWFwKTtcbiAgfVxuXG4gIHZhciB2ZXJzaW9uID0gdXRpbC5nZXRBcmcoc291cmNlTWFwLCAndmVyc2lvbicpO1xuICB2YXIgc291cmNlcyA9IHV0aWwuZ2V0QXJnKHNvdXJjZU1hcCwgJ3NvdXJjZXMnKTtcbiAgLy8gU2FzcyAzLjMgbGVhdmVzIG91dCB0aGUgJ25hbWVzJyBhcnJheSwgc28gd2UgZGV2aWF0ZSBmcm9tIHRoZSBzcGVjICh3aGljaFxuICAvLyByZXF1aXJlcyB0aGUgYXJyYXkpIHRvIHBsYXkgbmljZSBoZXJlLlxuICB2YXIgbmFtZXMgPSB1dGlsLmdldEFyZyhzb3VyY2VNYXAsICduYW1lcycsIFtdKTtcbiAgdmFyIHNvdXJjZVJvb3QgPSB1dGlsLmdldEFyZyhzb3VyY2VNYXAsICdzb3VyY2VSb290JywgbnVsbCk7XG4gIHZhciBzb3VyY2VzQ29udGVudCA9IHV0aWwuZ2V0QXJnKHNvdXJjZU1hcCwgJ3NvdXJjZXNDb250ZW50JywgbnVsbCk7XG4gIHZhciBtYXBwaW5ncyA9IHV0aWwuZ2V0QXJnKHNvdXJjZU1hcCwgJ21hcHBpbmdzJyk7XG4gIHZhciBmaWxlID0gdXRpbC5nZXRBcmcoc291cmNlTWFwLCAnZmlsZScsIG51bGwpO1xuXG4gIC8vIE9uY2UgYWdhaW4sIFNhc3MgZGV2aWF0ZXMgZnJvbSB0aGUgc3BlYyBhbmQgc3VwcGxpZXMgdGhlIHZlcnNpb24gYXMgYVxuICAvLyBzdHJpbmcgcmF0aGVyIHRoYW4gYSBudW1iZXIsIHNvIHdlIHVzZSBsb29zZSBlcXVhbGl0eSBjaGVja2luZyBoZXJlLlxuICBpZiAodmVyc2lvbiAhPSB0aGlzLl92ZXJzaW9uKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdVbnN1cHBvcnRlZCB2ZXJzaW9uOiAnICsgdmVyc2lvbik7XG4gIH1cblxuICBpZiAoc291cmNlUm9vdCkge1xuICAgIHNvdXJjZVJvb3QgPSB1dGlsLm5vcm1hbGl6ZShzb3VyY2VSb290KTtcbiAgfVxuXG4gIHNvdXJjZXMgPSBzb3VyY2VzXG4gICAgLm1hcChTdHJpbmcpXG4gICAgLy8gU29tZSBzb3VyY2UgbWFwcyBwcm9kdWNlIHJlbGF0aXZlIHNvdXJjZSBwYXRocyBsaWtlIFwiLi9mb28uanNcIiBpbnN0ZWFkIG9mXG4gICAgLy8gXCJmb28uanNcIi4gIE5vcm1hbGl6ZSB0aGVzZSBmaXJzdCBzbyB0aGF0IGZ1dHVyZSBjb21wYXJpc29ucyB3aWxsIHN1Y2NlZWQuXG4gICAgLy8gU2VlIGJ1Z3ppbC5sYS8xMDkwNzY4LlxuICAgIC5tYXAodXRpbC5ub3JtYWxpemUpXG4gICAgLy8gQWx3YXlzIGVuc3VyZSB0aGF0IGFic29sdXRlIHNvdXJjZXMgYXJlIGludGVybmFsbHkgc3RvcmVkIHJlbGF0aXZlIHRvXG4gICAgLy8gdGhlIHNvdXJjZSByb290LCBpZiB0aGUgc291cmNlIHJvb3QgaXMgYWJzb2x1dGUuIE5vdCBkb2luZyB0aGlzIHdvdWxkXG4gICAgLy8gYmUgcGFydGljdWxhcmx5IHByb2JsZW1hdGljIHdoZW4gdGhlIHNvdXJjZSByb290IGlzIGEgcHJlZml4IG9mIHRoZVxuICAgIC8vIHNvdXJjZSAodmFsaWQsIGJ1dCB3aHk/PykuIFNlZSBnaXRodWIgaXNzdWUgIzE5OSBhbmQgYnVnemlsLmxhLzExODg5ODIuXG4gICAgLm1hcChmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICByZXR1cm4gc291cmNlUm9vdCAmJiB1dGlsLmlzQWJzb2x1dGUoc291cmNlUm9vdCkgJiYgdXRpbC5pc0Fic29sdXRlKHNvdXJjZSlcbiAgICAgICAgPyB1dGlsLnJlbGF0aXZlKHNvdXJjZVJvb3QsIHNvdXJjZSlcbiAgICAgICAgOiBzb3VyY2U7XG4gICAgfSk7XG5cbiAgLy8gUGFzcyBgdHJ1ZWAgYmVsb3cgdG8gYWxsb3cgZHVwbGljYXRlIG5hbWVzIGFuZCBzb3VyY2VzLiBXaGlsZSBzb3VyY2UgbWFwc1xuICAvLyBhcmUgaW50ZW5kZWQgdG8gYmUgY29tcHJlc3NlZCBhbmQgZGVkdXBsaWNhdGVkLCB0aGUgVHlwZVNjcmlwdCBjb21waWxlclxuICAvLyBzb21ldGltZXMgZ2VuZXJhdGVzIHNvdXJjZSBtYXBzIHdpdGggZHVwbGljYXRlcyBpbiB0aGVtLiBTZWUgR2l0aHViIGlzc3VlXG4gIC8vICM3MiBhbmQgYnVnemlsLmxhLzg4OTQ5Mi5cbiAgdGhpcy5fbmFtZXMgPSBBcnJheVNldC5mcm9tQXJyYXkobmFtZXMubWFwKFN0cmluZyksIHRydWUpO1xuICB0aGlzLl9zb3VyY2VzID0gQXJyYXlTZXQuZnJvbUFycmF5KHNvdXJjZXMsIHRydWUpO1xuXG4gIHRoaXMuX2Fic29sdXRlU291cmNlcyA9IHRoaXMuX3NvdXJjZXMudG9BcnJheSgpLm1hcChmdW5jdGlvbiAocykge1xuICAgIHJldHVybiB1dGlsLmNvbXB1dGVTb3VyY2VVUkwoc291cmNlUm9vdCwgcywgYVNvdXJjZU1hcFVSTCk7XG4gIH0pO1xuXG4gIHRoaXMuc291cmNlUm9vdCA9IHNvdXJjZVJvb3Q7XG4gIHRoaXMuc291cmNlc0NvbnRlbnQgPSBzb3VyY2VzQ29udGVudDtcbiAgdGhpcy5fbWFwcGluZ3MgPSBtYXBwaW5ncztcbiAgdGhpcy5fc291cmNlTWFwVVJMID0gYVNvdXJjZU1hcFVSTDtcbiAgdGhpcy5maWxlID0gZmlsZTtcbn1cblxuQmFzaWNTb3VyY2VNYXBDb25zdW1lci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFNvdXJjZU1hcENvbnN1bWVyLnByb3RvdHlwZSk7XG5CYXNpY1NvdXJjZU1hcENvbnN1bWVyLnByb3RvdHlwZS5jb25zdW1lciA9IFNvdXJjZU1hcENvbnN1bWVyO1xuXG4vKipcbiAqIFV0aWxpdHkgZnVuY3Rpb24gdG8gZmluZCB0aGUgaW5kZXggb2YgYSBzb3VyY2UuICBSZXR1cm5zIC0xIGlmIG5vdFxuICogZm91bmQuXG4gKi9cbkJhc2ljU291cmNlTWFwQ29uc3VtZXIucHJvdG90eXBlLl9maW5kU291cmNlSW5kZXggPSBmdW5jdGlvbihhU291cmNlKSB7XG4gIHZhciByZWxhdGl2ZVNvdXJjZSA9IGFTb3VyY2U7XG4gIGlmICh0aGlzLnNvdXJjZVJvb3QgIT0gbnVsbCkge1xuICAgIHJlbGF0aXZlU291cmNlID0gdXRpbC5yZWxhdGl2ZSh0aGlzLnNvdXJjZVJvb3QsIHJlbGF0aXZlU291cmNlKTtcbiAgfVxuXG4gIGlmICh0aGlzLl9zb3VyY2VzLmhhcyhyZWxhdGl2ZVNvdXJjZSkpIHtcbiAgICByZXR1cm4gdGhpcy5fc291cmNlcy5pbmRleE9mKHJlbGF0aXZlU291cmNlKTtcbiAgfVxuXG4gIC8vIE1heWJlIGFTb3VyY2UgaXMgYW4gYWJzb2x1dGUgVVJMIGFzIHJldHVybmVkIGJ5IHxzb3VyY2VzfC4gIEluXG4gIC8vIHRoaXMgY2FzZSB3ZSBjYW4ndCBzaW1wbHkgdW5kbyB0aGUgdHJhbnNmb3JtLlxuICB2YXIgaTtcbiAgZm9yIChpID0gMDsgaSA8IHRoaXMuX2Fic29sdXRlU291cmNlcy5sZW5ndGg7ICsraSkge1xuICAgIGlmICh0aGlzLl9hYnNvbHV0ZVNvdXJjZXNbaV0gPT0gYVNvdXJjZSkge1xuICAgICAgcmV0dXJuIGk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIC0xO1xufTtcblxuLyoqXG4gKiBDcmVhdGUgYSBCYXNpY1NvdXJjZU1hcENvbnN1bWVyIGZyb20gYSBTb3VyY2VNYXBHZW5lcmF0b3IuXG4gKlxuICogQHBhcmFtIFNvdXJjZU1hcEdlbmVyYXRvciBhU291cmNlTWFwXG4gKiAgICAgICAgVGhlIHNvdXJjZSBtYXAgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuICogQHBhcmFtIFN0cmluZyBhU291cmNlTWFwVVJMXG4gKiAgICAgICAgVGhlIFVSTCBhdCB3aGljaCB0aGUgc291cmNlIG1hcCBjYW4gYmUgZm91bmQgKG9wdGlvbmFsKVxuICogQHJldHVybnMgQmFzaWNTb3VyY2VNYXBDb25zdW1lclxuICovXG5CYXNpY1NvdXJjZU1hcENvbnN1bWVyLmZyb21Tb3VyY2VNYXAgPVxuICBmdW5jdGlvbiBTb3VyY2VNYXBDb25zdW1lcl9mcm9tU291cmNlTWFwKGFTb3VyY2VNYXAsIGFTb3VyY2VNYXBVUkwpIHtcbiAgICB2YXIgc21jID0gT2JqZWN0LmNyZWF0ZShCYXNpY1NvdXJjZU1hcENvbnN1bWVyLnByb3RvdHlwZSk7XG5cbiAgICB2YXIgbmFtZXMgPSBzbWMuX25hbWVzID0gQXJyYXlTZXQuZnJvbUFycmF5KGFTb3VyY2VNYXAuX25hbWVzLnRvQXJyYXkoKSwgdHJ1ZSk7XG4gICAgdmFyIHNvdXJjZXMgPSBzbWMuX3NvdXJjZXMgPSBBcnJheVNldC5mcm9tQXJyYXkoYVNvdXJjZU1hcC5fc291cmNlcy50b0FycmF5KCksIHRydWUpO1xuICAgIHNtYy5zb3VyY2VSb290ID0gYVNvdXJjZU1hcC5fc291cmNlUm9vdDtcbiAgICBzbWMuc291cmNlc0NvbnRlbnQgPSBhU291cmNlTWFwLl9nZW5lcmF0ZVNvdXJjZXNDb250ZW50KHNtYy5fc291cmNlcy50b0FycmF5KCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbWMuc291cmNlUm9vdCk7XG4gICAgc21jLmZpbGUgPSBhU291cmNlTWFwLl9maWxlO1xuICAgIHNtYy5fc291cmNlTWFwVVJMID0gYVNvdXJjZU1hcFVSTDtcbiAgICBzbWMuX2Fic29sdXRlU291cmNlcyA9IHNtYy5fc291cmNlcy50b0FycmF5KCkubWFwKGZ1bmN0aW9uIChzKSB7XG4gICAgICByZXR1cm4gdXRpbC5jb21wdXRlU291cmNlVVJMKHNtYy5zb3VyY2VSb290LCBzLCBhU291cmNlTWFwVVJMKTtcbiAgICB9KTtcblxuICAgIC8vIEJlY2F1c2Ugd2UgYXJlIG1vZGlmeWluZyB0aGUgZW50cmllcyAoYnkgY29udmVydGluZyBzdHJpbmcgc291cmNlcyBhbmRcbiAgICAvLyBuYW1lcyB0byBpbmRpY2VzIGludG8gdGhlIHNvdXJjZXMgYW5kIG5hbWVzIEFycmF5U2V0cyksIHdlIGhhdmUgdG8gbWFrZVxuICAgIC8vIGEgY29weSBvZiB0aGUgZW50cnkgb3IgZWxzZSBiYWQgdGhpbmdzIGhhcHBlbi4gU2hhcmVkIG11dGFibGUgc3RhdGVcbiAgICAvLyBzdHJpa2VzIGFnYWluISBTZWUgZ2l0aHViIGlzc3VlICMxOTEuXG5cbiAgICB2YXIgZ2VuZXJhdGVkTWFwcGluZ3MgPSBhU291cmNlTWFwLl9tYXBwaW5ncy50b0FycmF5KCkuc2xpY2UoKTtcbiAgICB2YXIgZGVzdEdlbmVyYXRlZE1hcHBpbmdzID0gc21jLl9fZ2VuZXJhdGVkTWFwcGluZ3MgPSBbXTtcbiAgICB2YXIgZGVzdE9yaWdpbmFsTWFwcGluZ3MgPSBzbWMuX19vcmlnaW5hbE1hcHBpbmdzID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gZ2VuZXJhdGVkTWFwcGluZ3MubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzcmNNYXBwaW5nID0gZ2VuZXJhdGVkTWFwcGluZ3NbaV07XG4gICAgICB2YXIgZGVzdE1hcHBpbmcgPSBuZXcgTWFwcGluZztcbiAgICAgIGRlc3RNYXBwaW5nLmdlbmVyYXRlZExpbmUgPSBzcmNNYXBwaW5nLmdlbmVyYXRlZExpbmU7XG4gICAgICBkZXN0TWFwcGluZy5nZW5lcmF0ZWRDb2x1bW4gPSBzcmNNYXBwaW5nLmdlbmVyYXRlZENvbHVtbjtcblxuICAgICAgaWYgKHNyY01hcHBpbmcuc291cmNlKSB7XG4gICAgICAgIGRlc3RNYXBwaW5nLnNvdXJjZSA9IHNvdXJjZXMuaW5kZXhPZihzcmNNYXBwaW5nLnNvdXJjZSk7XG4gICAgICAgIGRlc3RNYXBwaW5nLm9yaWdpbmFsTGluZSA9IHNyY01hcHBpbmcub3JpZ2luYWxMaW5lO1xuICAgICAgICBkZXN0TWFwcGluZy5vcmlnaW5hbENvbHVtbiA9IHNyY01hcHBpbmcub3JpZ2luYWxDb2x1bW47XG5cbiAgICAgICAgaWYgKHNyY01hcHBpbmcubmFtZSkge1xuICAgICAgICAgIGRlc3RNYXBwaW5nLm5hbWUgPSBuYW1lcy5pbmRleE9mKHNyY01hcHBpbmcubmFtZSk7XG4gICAgICAgIH1cblxuICAgICAgICBkZXN0T3JpZ2luYWxNYXBwaW5ncy5wdXNoKGRlc3RNYXBwaW5nKTtcbiAgICAgIH1cblxuICAgICAgZGVzdEdlbmVyYXRlZE1hcHBpbmdzLnB1c2goZGVzdE1hcHBpbmcpO1xuICAgIH1cblxuICAgIHF1aWNrU29ydChzbWMuX19vcmlnaW5hbE1hcHBpbmdzLCB1dGlsLmNvbXBhcmVCeU9yaWdpbmFsUG9zaXRpb25zKTtcblxuICAgIHJldHVybiBzbWM7XG4gIH07XG5cbi8qKlxuICogVGhlIHZlcnNpb24gb2YgdGhlIHNvdXJjZSBtYXBwaW5nIHNwZWMgdGhhdCB3ZSBhcmUgY29uc3VtaW5nLlxuICovXG5CYXNpY1NvdXJjZU1hcENvbnN1bWVyLnByb3RvdHlwZS5fdmVyc2lvbiA9IDM7XG5cbi8qKlxuICogVGhlIGxpc3Qgb2Ygb3JpZ2luYWwgc291cmNlcy5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KEJhc2ljU291cmNlTWFwQ29uc3VtZXIucHJvdG90eXBlLCAnc291cmNlcycsIHtcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2Fic29sdXRlU291cmNlcy5zbGljZSgpO1xuICB9XG59KTtcblxuLyoqXG4gKiBQcm92aWRlIHRoZSBKSVQgd2l0aCBhIG5pY2Ugc2hhcGUgLyBoaWRkZW4gY2xhc3MuXG4gKi9cbmZ1bmN0aW9uIE1hcHBpbmcoKSB7XG4gIHRoaXMuZ2VuZXJhdGVkTGluZSA9IDA7XG4gIHRoaXMuZ2VuZXJhdGVkQ29sdW1uID0gMDtcbiAgdGhpcy5zb3VyY2UgPSBudWxsO1xuICB0aGlzLm9yaWdpbmFsTGluZSA9IG51bGw7XG4gIHRoaXMub3JpZ2luYWxDb2x1bW4gPSBudWxsO1xuICB0aGlzLm5hbWUgPSBudWxsO1xufVxuXG4vKipcbiAqIFBhcnNlIHRoZSBtYXBwaW5ncyBpbiBhIHN0cmluZyBpbiB0byBhIGRhdGEgc3RydWN0dXJlIHdoaWNoIHdlIGNhbiBlYXNpbHlcbiAqIHF1ZXJ5ICh0aGUgb3JkZXJlZCBhcnJheXMgaW4gdGhlIGB0aGlzLl9fZ2VuZXJhdGVkTWFwcGluZ3NgIGFuZFxuICogYHRoaXMuX19vcmlnaW5hbE1hcHBpbmdzYCBwcm9wZXJ0aWVzKS5cbiAqL1xuQmFzaWNTb3VyY2VNYXBDb25zdW1lci5wcm90b3R5cGUuX3BhcnNlTWFwcGluZ3MgPVxuICBmdW5jdGlvbiBTb3VyY2VNYXBDb25zdW1lcl9wYXJzZU1hcHBpbmdzKGFTdHIsIGFTb3VyY2VSb290KSB7XG4gICAgdmFyIGdlbmVyYXRlZExpbmUgPSAxO1xuICAgIHZhciBwcmV2aW91c0dlbmVyYXRlZENvbHVtbiA9IDA7XG4gICAgdmFyIHByZXZpb3VzT3JpZ2luYWxMaW5lID0gMDtcbiAgICB2YXIgcHJldmlvdXNPcmlnaW5hbENvbHVtbiA9IDA7XG4gICAgdmFyIHByZXZpb3VzU291cmNlID0gMDtcbiAgICB2YXIgcHJldmlvdXNOYW1lID0gMDtcbiAgICB2YXIgbGVuZ3RoID0gYVN0ci5sZW5ndGg7XG4gICAgdmFyIGluZGV4ID0gMDtcbiAgICB2YXIgY2FjaGVkU2VnbWVudHMgPSB7fTtcbiAgICB2YXIgdGVtcCA9IHt9O1xuICAgIHZhciBvcmlnaW5hbE1hcHBpbmdzID0gW107XG4gICAgdmFyIGdlbmVyYXRlZE1hcHBpbmdzID0gW107XG4gICAgdmFyIG1hcHBpbmcsIHN0ciwgc2VnbWVudCwgZW5kLCB2YWx1ZTtcblxuICAgIHdoaWxlIChpbmRleCA8IGxlbmd0aCkge1xuICAgICAgaWYgKGFTdHIuY2hhckF0KGluZGV4KSA9PT0gJzsnKSB7XG4gICAgICAgIGdlbmVyYXRlZExpbmUrKztcbiAgICAgICAgaW5kZXgrKztcbiAgICAgICAgcHJldmlvdXNHZW5lcmF0ZWRDb2x1bW4gPSAwO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoYVN0ci5jaGFyQXQoaW5kZXgpID09PSAnLCcpIHtcbiAgICAgICAgaW5kZXgrKztcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBtYXBwaW5nID0gbmV3IE1hcHBpbmcoKTtcbiAgICAgICAgbWFwcGluZy5nZW5lcmF0ZWRMaW5lID0gZ2VuZXJhdGVkTGluZTtcblxuICAgICAgICAvLyBCZWNhdXNlIGVhY2ggb2Zmc2V0IGlzIGVuY29kZWQgcmVsYXRpdmUgdG8gdGhlIHByZXZpb3VzIG9uZSxcbiAgICAgICAgLy8gbWFueSBzZWdtZW50cyBvZnRlbiBoYXZlIHRoZSBzYW1lIGVuY29kaW5nLiBXZSBjYW4gZXhwbG9pdCB0aGlzXG4gICAgICAgIC8vIGZhY3QgYnkgY2FjaGluZyB0aGUgcGFyc2VkIHZhcmlhYmxlIGxlbmd0aCBmaWVsZHMgb2YgZWFjaCBzZWdtZW50LFxuICAgICAgICAvLyBhbGxvd2luZyB1cyB0byBhdm9pZCBhIHNlY29uZCBwYXJzZSBpZiB3ZSBlbmNvdW50ZXIgdGhlIHNhbWVcbiAgICAgICAgLy8gc2VnbWVudCBhZ2Fpbi5cbiAgICAgICAgZm9yIChlbmQgPSBpbmRleDsgZW5kIDwgbGVuZ3RoOyBlbmQrKykge1xuICAgICAgICAgIGlmICh0aGlzLl9jaGFySXNNYXBwaW5nU2VwYXJhdG9yKGFTdHIsIGVuZCkpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzdHIgPSBhU3RyLnNsaWNlKGluZGV4LCBlbmQpO1xuXG4gICAgICAgIHNlZ21lbnQgPSBjYWNoZWRTZWdtZW50c1tzdHJdO1xuICAgICAgICBpZiAoc2VnbWVudCkge1xuICAgICAgICAgIGluZGV4ICs9IHN0ci5sZW5ndGg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2VnbWVudCA9IFtdO1xuICAgICAgICAgIHdoaWxlIChpbmRleCA8IGVuZCkge1xuICAgICAgICAgICAgYmFzZTY0VkxRLmRlY29kZShhU3RyLCBpbmRleCwgdGVtcCk7XG4gICAgICAgICAgICB2YWx1ZSA9IHRlbXAudmFsdWU7XG4gICAgICAgICAgICBpbmRleCA9IHRlbXAucmVzdDtcbiAgICAgICAgICAgIHNlZ21lbnQucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHNlZ21lbnQubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZvdW5kIGEgc291cmNlLCBidXQgbm8gbGluZSBhbmQgY29sdW1uJyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHNlZ21lbnQubGVuZ3RoID09PSAzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZvdW5kIGEgc291cmNlIGFuZCBsaW5lLCBidXQgbm8gY29sdW1uJyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY2FjaGVkU2VnbWVudHNbc3RyXSA9IHNlZ21lbnQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBHZW5lcmF0ZWQgY29sdW1uLlxuICAgICAgICBtYXBwaW5nLmdlbmVyYXRlZENvbHVtbiA9IHByZXZpb3VzR2VuZXJhdGVkQ29sdW1uICsgc2VnbWVudFswXTtcbiAgICAgICAgcHJldmlvdXNHZW5lcmF0ZWRDb2x1bW4gPSBtYXBwaW5nLmdlbmVyYXRlZENvbHVtbjtcblxuICAgICAgICBpZiAoc2VnbWVudC5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgLy8gT3JpZ2luYWwgc291cmNlLlxuICAgICAgICAgIG1hcHBpbmcuc291cmNlID0gcHJldmlvdXNTb3VyY2UgKyBzZWdtZW50WzFdO1xuICAgICAgICAgIHByZXZpb3VzU291cmNlICs9IHNlZ21lbnRbMV07XG5cbiAgICAgICAgICAvLyBPcmlnaW5hbCBsaW5lLlxuICAgICAgICAgIG1hcHBpbmcub3JpZ2luYWxMaW5lID0gcHJldmlvdXNPcmlnaW5hbExpbmUgKyBzZWdtZW50WzJdO1xuICAgICAgICAgIHByZXZpb3VzT3JpZ2luYWxMaW5lID0gbWFwcGluZy5vcmlnaW5hbExpbmU7XG4gICAgICAgICAgLy8gTGluZXMgYXJlIHN0b3JlZCAwLWJhc2VkXG4gICAgICAgICAgbWFwcGluZy5vcmlnaW5hbExpbmUgKz0gMTtcblxuICAgICAgICAgIC8vIE9yaWdpbmFsIGNvbHVtbi5cbiAgICAgICAgICBtYXBwaW5nLm9yaWdpbmFsQ29sdW1uID0gcHJldmlvdXNPcmlnaW5hbENvbHVtbiArIHNlZ21lbnRbM107XG4gICAgICAgICAgcHJldmlvdXNPcmlnaW5hbENvbHVtbiA9IG1hcHBpbmcub3JpZ2luYWxDb2x1bW47XG5cbiAgICAgICAgICBpZiAoc2VnbWVudC5sZW5ndGggPiA0KSB7XG4gICAgICAgICAgICAvLyBPcmlnaW5hbCBuYW1lLlxuICAgICAgICAgICAgbWFwcGluZy5uYW1lID0gcHJldmlvdXNOYW1lICsgc2VnbWVudFs0XTtcbiAgICAgICAgICAgIHByZXZpb3VzTmFtZSArPSBzZWdtZW50WzRdO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGdlbmVyYXRlZE1hcHBpbmdzLnB1c2gobWFwcGluZyk7XG4gICAgICAgIGlmICh0eXBlb2YgbWFwcGluZy5vcmlnaW5hbExpbmUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgb3JpZ2luYWxNYXBwaW5ncy5wdXNoKG1hcHBpbmcpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcXVpY2tTb3J0KGdlbmVyYXRlZE1hcHBpbmdzLCB1dGlsLmNvbXBhcmVCeUdlbmVyYXRlZFBvc2l0aW9uc0RlZmxhdGVkKTtcbiAgICB0aGlzLl9fZ2VuZXJhdGVkTWFwcGluZ3MgPSBnZW5lcmF0ZWRNYXBwaW5ncztcblxuICAgIHF1aWNrU29ydChvcmlnaW5hbE1hcHBpbmdzLCB1dGlsLmNvbXBhcmVCeU9yaWdpbmFsUG9zaXRpb25zKTtcbiAgICB0aGlzLl9fb3JpZ2luYWxNYXBwaW5ncyA9IG9yaWdpbmFsTWFwcGluZ3M7XG4gIH07XG5cbi8qKlxuICogRmluZCB0aGUgbWFwcGluZyB0aGF0IGJlc3QgbWF0Y2hlcyB0aGUgaHlwb3RoZXRpY2FsIFwibmVlZGxlXCIgbWFwcGluZyB0aGF0XG4gKiB3ZSBhcmUgc2VhcmNoaW5nIGZvciBpbiB0aGUgZ2l2ZW4gXCJoYXlzdGFja1wiIG9mIG1hcHBpbmdzLlxuICovXG5CYXNpY1NvdXJjZU1hcENvbnN1bWVyLnByb3RvdHlwZS5fZmluZE1hcHBpbmcgPVxuICBmdW5jdGlvbiBTb3VyY2VNYXBDb25zdW1lcl9maW5kTWFwcGluZyhhTmVlZGxlLCBhTWFwcGluZ3MsIGFMaW5lTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYUNvbHVtbk5hbWUsIGFDb21wYXJhdG9yLCBhQmlhcykge1xuICAgIC8vIFRvIHJldHVybiB0aGUgcG9zaXRpb24gd2UgYXJlIHNlYXJjaGluZyBmb3IsIHdlIG11c3QgZmlyc3QgZmluZCB0aGVcbiAgICAvLyBtYXBwaW5nIGZvciB0aGUgZ2l2ZW4gcG9zaXRpb24gYW5kIHRoZW4gcmV0dXJuIHRoZSBvcHBvc2l0ZSBwb3NpdGlvbiBpdFxuICAgIC8vIHBvaW50cyB0by4gQmVjYXVzZSB0aGUgbWFwcGluZ3MgYXJlIHNvcnRlZCwgd2UgY2FuIHVzZSBiaW5hcnkgc2VhcmNoIHRvXG4gICAgLy8gZmluZCB0aGUgYmVzdCBtYXBwaW5nLlxuXG4gICAgaWYgKGFOZWVkbGVbYUxpbmVOYW1lXSA8PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdMaW5lIG11c3QgYmUgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIDEsIGdvdCAnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICsgYU5lZWRsZVthTGluZU5hbWVdKTtcbiAgICB9XG4gICAgaWYgKGFOZWVkbGVbYUNvbHVtbk5hbWVdIDwgMCkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ29sdW1uIG11c3QgYmUgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIDAsIGdvdCAnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICsgYU5lZWRsZVthQ29sdW1uTmFtZV0pO1xuICAgIH1cblxuICAgIHJldHVybiBiaW5hcnlTZWFyY2guc2VhcmNoKGFOZWVkbGUsIGFNYXBwaW5ncywgYUNvbXBhcmF0b3IsIGFCaWFzKTtcbiAgfTtcblxuLyoqXG4gKiBDb21wdXRlIHRoZSBsYXN0IGNvbHVtbiBmb3IgZWFjaCBnZW5lcmF0ZWQgbWFwcGluZy4gVGhlIGxhc3QgY29sdW1uIGlzXG4gKiBpbmNsdXNpdmUuXG4gKi9cbkJhc2ljU291cmNlTWFwQ29uc3VtZXIucHJvdG90eXBlLmNvbXB1dGVDb2x1bW5TcGFucyA9XG4gIGZ1bmN0aW9uIFNvdXJjZU1hcENvbnN1bWVyX2NvbXB1dGVDb2x1bW5TcGFucygpIHtcbiAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgdGhpcy5fZ2VuZXJhdGVkTWFwcGluZ3MubGVuZ3RoOyArK2luZGV4KSB7XG4gICAgICB2YXIgbWFwcGluZyA9IHRoaXMuX2dlbmVyYXRlZE1hcHBpbmdzW2luZGV4XTtcblxuICAgICAgLy8gTWFwcGluZ3MgZG8gbm90IGNvbnRhaW4gYSBmaWVsZCBmb3IgdGhlIGxhc3QgZ2VuZXJhdGVkIGNvbHVtbnQuIFdlXG4gICAgICAvLyBjYW4gY29tZSB1cCB3aXRoIGFuIG9wdGltaXN0aWMgZXN0aW1hdGUsIGhvd2V2ZXIsIGJ5IGFzc3VtaW5nIHRoYXRcbiAgICAgIC8vIG1hcHBpbmdzIGFyZSBjb250aWd1b3VzIChpLmUuIGdpdmVuIHR3byBjb25zZWN1dGl2ZSBtYXBwaW5ncywgdGhlXG4gICAgICAvLyBmaXJzdCBtYXBwaW5nIGVuZHMgd2hlcmUgdGhlIHNlY29uZCBvbmUgc3RhcnRzKS5cbiAgICAgIGlmIChpbmRleCArIDEgPCB0aGlzLl9nZW5lcmF0ZWRNYXBwaW5ncy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIG5leHRNYXBwaW5nID0gdGhpcy5fZ2VuZXJhdGVkTWFwcGluZ3NbaW5kZXggKyAxXTtcblxuICAgICAgICBpZiAobWFwcGluZy5nZW5lcmF0ZWRMaW5lID09PSBuZXh0TWFwcGluZy5nZW5lcmF0ZWRMaW5lKSB7XG4gICAgICAgICAgbWFwcGluZy5sYXN0R2VuZXJhdGVkQ29sdW1uID0gbmV4dE1hcHBpbmcuZ2VuZXJhdGVkQ29sdW1uIC0gMTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBUaGUgbGFzdCBtYXBwaW5nIGZvciBlYWNoIGxpbmUgc3BhbnMgdGhlIGVudGlyZSBsaW5lLlxuICAgICAgbWFwcGluZy5sYXN0R2VuZXJhdGVkQ29sdW1uID0gSW5maW5pdHk7XG4gICAgfVxuICB9O1xuXG4vKipcbiAqIFJldHVybnMgdGhlIG9yaWdpbmFsIHNvdXJjZSwgbGluZSwgYW5kIGNvbHVtbiBpbmZvcm1hdGlvbiBmb3IgdGhlIGdlbmVyYXRlZFxuICogc291cmNlJ3MgbGluZSBhbmQgY29sdW1uIHBvc2l0aW9ucyBwcm92aWRlZC4gVGhlIG9ubHkgYXJndW1lbnQgaXMgYW4gb2JqZWN0XG4gKiB3aXRoIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAqXG4gKiAgIC0gbGluZTogVGhlIGxpbmUgbnVtYmVyIGluIHRoZSBnZW5lcmF0ZWQgc291cmNlLiAgVGhlIGxpbmUgbnVtYmVyXG4gKiAgICAgaXMgMS1iYXNlZC5cbiAqICAgLSBjb2x1bW46IFRoZSBjb2x1bW4gbnVtYmVyIGluIHRoZSBnZW5lcmF0ZWQgc291cmNlLiAgVGhlIGNvbHVtblxuICogICAgIG51bWJlciBpcyAwLWJhc2VkLlxuICogICAtIGJpYXM6IEVpdGhlciAnU291cmNlTWFwQ29uc3VtZXIuR1JFQVRFU1RfTE9XRVJfQk9VTkQnIG9yXG4gKiAgICAgJ1NvdXJjZU1hcENvbnN1bWVyLkxFQVNUX1VQUEVSX0JPVU5EJy4gU3BlY2lmaWVzIHdoZXRoZXIgdG8gcmV0dXJuIHRoZVxuICogICAgIGNsb3Nlc3QgZWxlbWVudCB0aGF0IGlzIHNtYWxsZXIgdGhhbiBvciBncmVhdGVyIHRoYW4gdGhlIG9uZSB3ZSBhcmVcbiAqICAgICBzZWFyY2hpbmcgZm9yLCByZXNwZWN0aXZlbHksIGlmIHRoZSBleGFjdCBlbGVtZW50IGNhbm5vdCBiZSBmb3VuZC5cbiAqICAgICBEZWZhdWx0cyB0byAnU291cmNlTWFwQ29uc3VtZXIuR1JFQVRFU1RfTE9XRVJfQk9VTkQnLlxuICpcbiAqIGFuZCBhbiBvYmplY3QgaXMgcmV0dXJuZWQgd2l0aCB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gKlxuICogICAtIHNvdXJjZTogVGhlIG9yaWdpbmFsIHNvdXJjZSBmaWxlLCBvciBudWxsLlxuICogICAtIGxpbmU6IFRoZSBsaW5lIG51bWJlciBpbiB0aGUgb3JpZ2luYWwgc291cmNlLCBvciBudWxsLiAgVGhlXG4gKiAgICAgbGluZSBudW1iZXIgaXMgMS1iYXNlZC5cbiAqICAgLSBjb2x1bW46IFRoZSBjb2x1bW4gbnVtYmVyIGluIHRoZSBvcmlnaW5hbCBzb3VyY2UsIG9yIG51bGwuICBUaGVcbiAqICAgICBjb2x1bW4gbnVtYmVyIGlzIDAtYmFzZWQuXG4gKiAgIC0gbmFtZTogVGhlIG9yaWdpbmFsIGlkZW50aWZpZXIsIG9yIG51bGwuXG4gKi9cbkJhc2ljU291cmNlTWFwQ29uc3VtZXIucHJvdG90eXBlLm9yaWdpbmFsUG9zaXRpb25Gb3IgPVxuICBmdW5jdGlvbiBTb3VyY2VNYXBDb25zdW1lcl9vcmlnaW5hbFBvc2l0aW9uRm9yKGFBcmdzKSB7XG4gICAgdmFyIG5lZWRsZSA9IHtcbiAgICAgIGdlbmVyYXRlZExpbmU6IHV0aWwuZ2V0QXJnKGFBcmdzLCAnbGluZScpLFxuICAgICAgZ2VuZXJhdGVkQ29sdW1uOiB1dGlsLmdldEFyZyhhQXJncywgJ2NvbHVtbicpXG4gICAgfTtcblxuICAgIHZhciBpbmRleCA9IHRoaXMuX2ZpbmRNYXBwaW5nKFxuICAgICAgbmVlZGxlLFxuICAgICAgdGhpcy5fZ2VuZXJhdGVkTWFwcGluZ3MsXG4gICAgICBcImdlbmVyYXRlZExpbmVcIixcbiAgICAgIFwiZ2VuZXJhdGVkQ29sdW1uXCIsXG4gICAgICB1dGlsLmNvbXBhcmVCeUdlbmVyYXRlZFBvc2l0aW9uc0RlZmxhdGVkLFxuICAgICAgdXRpbC5nZXRBcmcoYUFyZ3MsICdiaWFzJywgU291cmNlTWFwQ29uc3VtZXIuR1JFQVRFU1RfTE9XRVJfQk9VTkQpXG4gICAgKTtcblxuICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICB2YXIgbWFwcGluZyA9IHRoaXMuX2dlbmVyYXRlZE1hcHBpbmdzW2luZGV4XTtcblxuICAgICAgaWYgKG1hcHBpbmcuZ2VuZXJhdGVkTGluZSA9PT0gbmVlZGxlLmdlbmVyYXRlZExpbmUpIHtcbiAgICAgICAgdmFyIHNvdXJjZSA9IHV0aWwuZ2V0QXJnKG1hcHBpbmcsICdzb3VyY2UnLCBudWxsKTtcbiAgICAgICAgaWYgKHNvdXJjZSAhPT0gbnVsbCkge1xuICAgICAgICAgIHNvdXJjZSA9IHRoaXMuX3NvdXJjZXMuYXQoc291cmNlKTtcbiAgICAgICAgICBzb3VyY2UgPSB1dGlsLmNvbXB1dGVTb3VyY2VVUkwodGhpcy5zb3VyY2VSb290LCBzb3VyY2UsIHRoaXMuX3NvdXJjZU1hcFVSTCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG5hbWUgPSB1dGlsLmdldEFyZyhtYXBwaW5nLCAnbmFtZScsIG51bGwpO1xuICAgICAgICBpZiAobmFtZSAhPT0gbnVsbCkge1xuICAgICAgICAgIG5hbWUgPSB0aGlzLl9uYW1lcy5hdChuYW1lKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHNvdXJjZTogc291cmNlLFxuICAgICAgICAgIGxpbmU6IHV0aWwuZ2V0QXJnKG1hcHBpbmcsICdvcmlnaW5hbExpbmUnLCBudWxsKSxcbiAgICAgICAgICBjb2x1bW46IHV0aWwuZ2V0QXJnKG1hcHBpbmcsICdvcmlnaW5hbENvbHVtbicsIG51bGwpLFxuICAgICAgICAgIG5hbWU6IG5hbWVcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgc291cmNlOiBudWxsLFxuICAgICAgbGluZTogbnVsbCxcbiAgICAgIGNvbHVtbjogbnVsbCxcbiAgICAgIG5hbWU6IG51bGxcbiAgICB9O1xuICB9O1xuXG4vKipcbiAqIFJldHVybiB0cnVlIGlmIHdlIGhhdmUgdGhlIHNvdXJjZSBjb250ZW50IGZvciBldmVyeSBzb3VyY2UgaW4gdGhlIHNvdXJjZVxuICogbWFwLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cbkJhc2ljU291cmNlTWFwQ29uc3VtZXIucHJvdG90eXBlLmhhc0NvbnRlbnRzT2ZBbGxTb3VyY2VzID1cbiAgZnVuY3Rpb24gQmFzaWNTb3VyY2VNYXBDb25zdW1lcl9oYXNDb250ZW50c09mQWxsU291cmNlcygpIHtcbiAgICBpZiAoIXRoaXMuc291cmNlc0NvbnRlbnQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc291cmNlc0NvbnRlbnQubGVuZ3RoID49IHRoaXMuX3NvdXJjZXMuc2l6ZSgpICYmXG4gICAgICAhdGhpcy5zb3VyY2VzQ29udGVudC5zb21lKGZ1bmN0aW9uIChzYykgeyByZXR1cm4gc2MgPT0gbnVsbDsgfSk7XG4gIH07XG5cbi8qKlxuICogUmV0dXJucyB0aGUgb3JpZ2luYWwgc291cmNlIGNvbnRlbnQuIFRoZSBvbmx5IGFyZ3VtZW50IGlzIHRoZSB1cmwgb2YgdGhlXG4gKiBvcmlnaW5hbCBzb3VyY2UgZmlsZS4gUmV0dXJucyBudWxsIGlmIG5vIG9yaWdpbmFsIHNvdXJjZSBjb250ZW50IGlzXG4gKiBhdmFpbGFibGUuXG4gKi9cbkJhc2ljU291cmNlTWFwQ29uc3VtZXIucHJvdG90eXBlLnNvdXJjZUNvbnRlbnRGb3IgPVxuICBmdW5jdGlvbiBTb3VyY2VNYXBDb25zdW1lcl9zb3VyY2VDb250ZW50Rm9yKGFTb3VyY2UsIG51bGxPbk1pc3NpbmcpIHtcbiAgICBpZiAoIXRoaXMuc291cmNlc0NvbnRlbnQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHZhciBpbmRleCA9IHRoaXMuX2ZpbmRTb3VyY2VJbmRleChhU291cmNlKTtcbiAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgcmV0dXJuIHRoaXMuc291cmNlc0NvbnRlbnRbaW5kZXhdO1xuICAgIH1cblxuICAgIHZhciByZWxhdGl2ZVNvdXJjZSA9IGFTb3VyY2U7XG4gICAgaWYgKHRoaXMuc291cmNlUm9vdCAhPSBudWxsKSB7XG4gICAgICByZWxhdGl2ZVNvdXJjZSA9IHV0aWwucmVsYXRpdmUodGhpcy5zb3VyY2VSb290LCByZWxhdGl2ZVNvdXJjZSk7XG4gICAgfVxuXG4gICAgdmFyIHVybDtcbiAgICBpZiAodGhpcy5zb3VyY2VSb290ICE9IG51bGxcbiAgICAgICAgJiYgKHVybCA9IHV0aWwudXJsUGFyc2UodGhpcy5zb3VyY2VSb290KSkpIHtcbiAgICAgIC8vIFhYWDogZmlsZTovLyBVUklzIGFuZCBhYnNvbHV0ZSBwYXRocyBsZWFkIHRvIHVuZXhwZWN0ZWQgYmVoYXZpb3IgZm9yXG4gICAgICAvLyBtYW55IHVzZXJzLiBXZSBjYW4gaGVscCB0aGVtIG91dCB3aGVuIHRoZXkgZXhwZWN0IGZpbGU6Ly8gVVJJcyB0b1xuICAgICAgLy8gYmVoYXZlIGxpa2UgaXQgd291bGQgaWYgdGhleSB3ZXJlIHJ1bm5pbmcgYSBsb2NhbCBIVFRQIHNlcnZlci4gU2VlXG4gICAgICAvLyBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD04ODU1OTcuXG4gICAgICB2YXIgZmlsZVVyaUFic1BhdGggPSByZWxhdGl2ZVNvdXJjZS5yZXBsYWNlKC9eZmlsZTpcXC9cXC8vLCBcIlwiKTtcbiAgICAgIGlmICh1cmwuc2NoZW1lID09IFwiZmlsZVwiXG4gICAgICAgICAgJiYgdGhpcy5fc291cmNlcy5oYXMoZmlsZVVyaUFic1BhdGgpKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNvdXJjZXNDb250ZW50W3RoaXMuX3NvdXJjZXMuaW5kZXhPZihmaWxlVXJpQWJzUGF0aCldXG4gICAgICB9XG5cbiAgICAgIGlmICgoIXVybC5wYXRoIHx8IHVybC5wYXRoID09IFwiL1wiKVxuICAgICAgICAgICYmIHRoaXMuX3NvdXJjZXMuaGFzKFwiL1wiICsgcmVsYXRpdmVTb3VyY2UpKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNvdXJjZXNDb250ZW50W3RoaXMuX3NvdXJjZXMuaW5kZXhPZihcIi9cIiArIHJlbGF0aXZlU291cmNlKV07XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHJlY3Vyc2l2ZWx5IGZyb21cbiAgICAvLyBJbmRleGVkU291cmNlTWFwQ29uc3VtZXIucHJvdG90eXBlLnNvdXJjZUNvbnRlbnRGb3IuIEluIHRoYXQgY2FzZSwgd2VcbiAgICAvLyBkb24ndCB3YW50IHRvIHRocm93IGlmIHdlIGNhbid0IGZpbmQgdGhlIHNvdXJjZSAtIHdlIGp1c3Qgd2FudCB0b1xuICAgIC8vIHJldHVybiBudWxsLCBzbyB3ZSBwcm92aWRlIGEgZmxhZyB0byBleGl0IGdyYWNlZnVsbHkuXG4gICAgaWYgKG51bGxPbk1pc3NpbmcpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignXCInICsgcmVsYXRpdmVTb3VyY2UgKyAnXCIgaXMgbm90IGluIHRoZSBTb3VyY2VNYXAuJyk7XG4gICAgfVxuICB9O1xuXG4vKipcbiAqIFJldHVybnMgdGhlIGdlbmVyYXRlZCBsaW5lIGFuZCBjb2x1bW4gaW5mb3JtYXRpb24gZm9yIHRoZSBvcmlnaW5hbCBzb3VyY2UsXG4gKiBsaW5lLCBhbmQgY29sdW1uIHBvc2l0aW9ucyBwcm92aWRlZC4gVGhlIG9ubHkgYXJndW1lbnQgaXMgYW4gb2JqZWN0IHdpdGhcbiAqIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAqXG4gKiAgIC0gc291cmNlOiBUaGUgZmlsZW5hbWUgb2YgdGhlIG9yaWdpbmFsIHNvdXJjZS5cbiAqICAgLSBsaW5lOiBUaGUgbGluZSBudW1iZXIgaW4gdGhlIG9yaWdpbmFsIHNvdXJjZS4gIFRoZSBsaW5lIG51bWJlclxuICogICAgIGlzIDEtYmFzZWQuXG4gKiAgIC0gY29sdW1uOiBUaGUgY29sdW1uIG51bWJlciBpbiB0aGUgb3JpZ2luYWwgc291cmNlLiAgVGhlIGNvbHVtblxuICogICAgIG51bWJlciBpcyAwLWJhc2VkLlxuICogICAtIGJpYXM6IEVpdGhlciAnU291cmNlTWFwQ29uc3VtZXIuR1JFQVRFU1RfTE9XRVJfQk9VTkQnIG9yXG4gKiAgICAgJ1NvdXJjZU1hcENvbnN1bWVyLkxFQVNUX1VQUEVSX0JPVU5EJy4gU3BlY2lmaWVzIHdoZXRoZXIgdG8gcmV0dXJuIHRoZVxuICogICAgIGNsb3Nlc3QgZWxlbWVudCB0aGF0IGlzIHNtYWxsZXIgdGhhbiBvciBncmVhdGVyIHRoYW4gdGhlIG9uZSB3ZSBhcmVcbiAqICAgICBzZWFyY2hpbmcgZm9yLCByZXNwZWN0aXZlbHksIGlmIHRoZSBleGFjdCBlbGVtZW50IGNhbm5vdCBiZSBmb3VuZC5cbiAqICAgICBEZWZhdWx0cyB0byAnU291cmNlTWFwQ29uc3VtZXIuR1JFQVRFU1RfTE9XRVJfQk9VTkQnLlxuICpcbiAqIGFuZCBhbiBvYmplY3QgaXMgcmV0dXJuZWQgd2l0aCB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gKlxuICogICAtIGxpbmU6IFRoZSBsaW5lIG51bWJlciBpbiB0aGUgZ2VuZXJhdGVkIHNvdXJjZSwgb3IgbnVsbC4gIFRoZVxuICogICAgIGxpbmUgbnVtYmVyIGlzIDEtYmFzZWQuXG4gKiAgIC0gY29sdW1uOiBUaGUgY29sdW1uIG51bWJlciBpbiB0aGUgZ2VuZXJhdGVkIHNvdXJjZSwgb3IgbnVsbC5cbiAqICAgICBUaGUgY29sdW1uIG51bWJlciBpcyAwLWJhc2VkLlxuICovXG5CYXNpY1NvdXJjZU1hcENvbnN1bWVyLnByb3RvdHlwZS5nZW5lcmF0ZWRQb3NpdGlvbkZvciA9XG4gIGZ1bmN0aW9uIFNvdXJjZU1hcENvbnN1bWVyX2dlbmVyYXRlZFBvc2l0aW9uRm9yKGFBcmdzKSB7XG4gICAgdmFyIHNvdXJjZSA9IHV0aWwuZ2V0QXJnKGFBcmdzLCAnc291cmNlJyk7XG4gICAgc291cmNlID0gdGhpcy5fZmluZFNvdXJjZUluZGV4KHNvdXJjZSk7XG4gICAgaWYgKHNvdXJjZSA8IDApIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGxpbmU6IG51bGwsXG4gICAgICAgIGNvbHVtbjogbnVsbCxcbiAgICAgICAgbGFzdENvbHVtbjogbnVsbFxuICAgICAgfTtcbiAgICB9XG5cbiAgICB2YXIgbmVlZGxlID0ge1xuICAgICAgc291cmNlOiBzb3VyY2UsXG4gICAgICBvcmlnaW5hbExpbmU6IHV0aWwuZ2V0QXJnKGFBcmdzLCAnbGluZScpLFxuICAgICAgb3JpZ2luYWxDb2x1bW46IHV0aWwuZ2V0QXJnKGFBcmdzLCAnY29sdW1uJylcbiAgICB9O1xuXG4gICAgdmFyIGluZGV4ID0gdGhpcy5fZmluZE1hcHBpbmcoXG4gICAgICBuZWVkbGUsXG4gICAgICB0aGlzLl9vcmlnaW5hbE1hcHBpbmdzLFxuICAgICAgXCJvcmlnaW5hbExpbmVcIixcbiAgICAgIFwib3JpZ2luYWxDb2x1bW5cIixcbiAgICAgIHV0aWwuY29tcGFyZUJ5T3JpZ2luYWxQb3NpdGlvbnMsXG4gICAgICB1dGlsLmdldEFyZyhhQXJncywgJ2JpYXMnLCBTb3VyY2VNYXBDb25zdW1lci5HUkVBVEVTVF9MT1dFUl9CT1VORClcbiAgICApO1xuXG4gICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgIHZhciBtYXBwaW5nID0gdGhpcy5fb3JpZ2luYWxNYXBwaW5nc1tpbmRleF07XG5cbiAgICAgIGlmIChtYXBwaW5nLnNvdXJjZSA9PT0gbmVlZGxlLnNvdXJjZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGxpbmU6IHV0aWwuZ2V0QXJnKG1hcHBpbmcsICdnZW5lcmF0ZWRMaW5lJywgbnVsbCksXG4gICAgICAgICAgY29sdW1uOiB1dGlsLmdldEFyZyhtYXBwaW5nLCAnZ2VuZXJhdGVkQ29sdW1uJywgbnVsbCksXG4gICAgICAgICAgbGFzdENvbHVtbjogdXRpbC5nZXRBcmcobWFwcGluZywgJ2xhc3RHZW5lcmF0ZWRDb2x1bW4nLCBudWxsKVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBsaW5lOiBudWxsLFxuICAgICAgY29sdW1uOiBudWxsLFxuICAgICAgbGFzdENvbHVtbjogbnVsbFxuICAgIH07XG4gIH07XG5cbmV4cG9ydHMuQmFzaWNTb3VyY2VNYXBDb25zdW1lciA9IEJhc2ljU291cmNlTWFwQ29uc3VtZXI7XG5cbi8qKlxuICogQW4gSW5kZXhlZFNvdXJjZU1hcENvbnN1bWVyIGluc3RhbmNlIHJlcHJlc2VudHMgYSBwYXJzZWQgc291cmNlIG1hcCB3aGljaFxuICogd2UgY2FuIHF1ZXJ5IGZvciBpbmZvcm1hdGlvbi4gSXQgZGlmZmVycyBmcm9tIEJhc2ljU291cmNlTWFwQ29uc3VtZXIgaW5cbiAqIHRoYXQgaXQgdGFrZXMgXCJpbmRleGVkXCIgc291cmNlIG1hcHMgKGkuZS4gb25lcyB3aXRoIGEgXCJzZWN0aW9uc1wiIGZpZWxkKSBhc1xuICogaW5wdXQuXG4gKlxuICogVGhlIGZpcnN0IHBhcmFtZXRlciBpcyBhIHJhdyBzb3VyY2UgbWFwIChlaXRoZXIgYXMgYSBKU09OIHN0cmluZywgb3IgYWxyZWFkeVxuICogcGFyc2VkIHRvIGFuIG9iamVjdCkuIEFjY29yZGluZyB0byB0aGUgc3BlYyBmb3IgaW5kZXhlZCBzb3VyY2UgbWFwcywgdGhleVxuICogaGF2ZSB0aGUgZm9sbG93aW5nIGF0dHJpYnV0ZXM6XG4gKlxuICogICAtIHZlcnNpb246IFdoaWNoIHZlcnNpb24gb2YgdGhlIHNvdXJjZSBtYXAgc3BlYyB0aGlzIG1hcCBpcyBmb2xsb3dpbmcuXG4gKiAgIC0gZmlsZTogT3B0aW9uYWwuIFRoZSBnZW5lcmF0ZWQgZmlsZSB0aGlzIHNvdXJjZSBtYXAgaXMgYXNzb2NpYXRlZCB3aXRoLlxuICogICAtIHNlY3Rpb25zOiBBIGxpc3Qgb2Ygc2VjdGlvbiBkZWZpbml0aW9ucy5cbiAqXG4gKiBFYWNoIHZhbHVlIHVuZGVyIHRoZSBcInNlY3Rpb25zXCIgZmllbGQgaGFzIHR3byBmaWVsZHM6XG4gKiAgIC0gb2Zmc2V0OiBUaGUgb2Zmc2V0IGludG8gdGhlIG9yaWdpbmFsIHNwZWNpZmllZCBhdCB3aGljaCB0aGlzIHNlY3Rpb25cbiAqICAgICAgIGJlZ2lucyB0byBhcHBseSwgZGVmaW5lZCBhcyBhbiBvYmplY3Qgd2l0aCBhIFwibGluZVwiIGFuZCBcImNvbHVtblwiXG4gKiAgICAgICBmaWVsZC5cbiAqICAgLSBtYXA6IEEgc291cmNlIG1hcCBkZWZpbml0aW9uLiBUaGlzIHNvdXJjZSBtYXAgY291bGQgYWxzbyBiZSBpbmRleGVkLFxuICogICAgICAgYnV0IGRvZXNuJ3QgaGF2ZSB0byBiZS5cbiAqXG4gKiBJbnN0ZWFkIG9mIHRoZSBcIm1hcFwiIGZpZWxkLCBpdCdzIGFsc28gcG9zc2libGUgdG8gaGF2ZSBhIFwidXJsXCIgZmllbGRcbiAqIHNwZWNpZnlpbmcgYSBVUkwgdG8gcmV0cmlldmUgYSBzb3VyY2UgbWFwIGZyb20sIGJ1dCB0aGF0J3MgY3VycmVudGx5XG4gKiB1bnN1cHBvcnRlZC5cbiAqXG4gKiBIZXJlJ3MgYW4gZXhhbXBsZSBzb3VyY2UgbWFwLCB0YWtlbiBmcm9tIHRoZSBzb3VyY2UgbWFwIHNwZWNbMF0sIGJ1dFxuICogbW9kaWZpZWQgdG8gb21pdCBhIHNlY3Rpb24gd2hpY2ggdXNlcyB0aGUgXCJ1cmxcIiBmaWVsZC5cbiAqXG4gKiAge1xuICogICAgdmVyc2lvbiA6IDMsXG4gKiAgICBmaWxlOiBcImFwcC5qc1wiLFxuICogICAgc2VjdGlvbnM6IFt7XG4gKiAgICAgIG9mZnNldDoge2xpbmU6MTAwLCBjb2x1bW46MTB9LFxuICogICAgICBtYXA6IHtcbiAqICAgICAgICB2ZXJzaW9uIDogMyxcbiAqICAgICAgICBmaWxlOiBcInNlY3Rpb24uanNcIixcbiAqICAgICAgICBzb3VyY2VzOiBbXCJmb28uanNcIiwgXCJiYXIuanNcIl0sXG4gKiAgICAgICAgbmFtZXM6IFtcInNyY1wiLCBcIm1hcHNcIiwgXCJhcmVcIiwgXCJmdW5cIl0sXG4gKiAgICAgICAgbWFwcGluZ3M6IFwiQUFBQSxFOztBQkNERTtcIlxuICogICAgICB9XG4gKiAgICB9XSxcbiAqICB9XG4gKlxuICogVGhlIHNlY29uZCBwYXJhbWV0ZXIsIGlmIGdpdmVuLCBpcyBhIHN0cmluZyB3aG9zZSB2YWx1ZSBpcyB0aGUgVVJMXG4gKiBhdCB3aGljaCB0aGUgc291cmNlIG1hcCB3YXMgZm91bmQuICBUaGlzIFVSTCBpcyB1c2VkIHRvIGNvbXB1dGUgdGhlXG4gKiBzb3VyY2VzIGFycmF5LlxuICpcbiAqIFswXTogaHR0cHM6Ly9kb2NzLmdvb2dsZS5jb20vZG9jdW1lbnQvZC8xVTFSR0FlaFF3UnlwVVRvdkYxS1JscGlPRnplMGItXzJnYzZmQUgwS1kway9lZGl0I2hlYWRpbmc9aC41MzVlczN4ZXByZ3RcbiAqL1xuZnVuY3Rpb24gSW5kZXhlZFNvdXJjZU1hcENvbnN1bWVyKGFTb3VyY2VNYXAsIGFTb3VyY2VNYXBVUkwpIHtcbiAgdmFyIHNvdXJjZU1hcCA9IGFTb3VyY2VNYXA7XG4gIGlmICh0eXBlb2YgYVNvdXJjZU1hcCA9PT0gJ3N0cmluZycpIHtcbiAgICBzb3VyY2VNYXAgPSB1dGlsLnBhcnNlU291cmNlTWFwSW5wdXQoYVNvdXJjZU1hcCk7XG4gIH1cblxuICB2YXIgdmVyc2lvbiA9IHV0aWwuZ2V0QXJnKHNvdXJjZU1hcCwgJ3ZlcnNpb24nKTtcbiAgdmFyIHNlY3Rpb25zID0gdXRpbC5nZXRBcmcoc291cmNlTWFwLCAnc2VjdGlvbnMnKTtcblxuICBpZiAodmVyc2lvbiAhPSB0aGlzLl92ZXJzaW9uKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdVbnN1cHBvcnRlZCB2ZXJzaW9uOiAnICsgdmVyc2lvbik7XG4gIH1cblxuICB0aGlzLl9zb3VyY2VzID0gbmV3IEFycmF5U2V0KCk7XG4gIHRoaXMuX25hbWVzID0gbmV3IEFycmF5U2V0KCk7XG5cbiAgdmFyIGxhc3RPZmZzZXQgPSB7XG4gICAgbGluZTogLTEsXG4gICAgY29sdW1uOiAwXG4gIH07XG4gIHRoaXMuX3NlY3Rpb25zID0gc2VjdGlvbnMubWFwKGZ1bmN0aW9uIChzKSB7XG4gICAgaWYgKHMudXJsKSB7XG4gICAgICAvLyBUaGUgdXJsIGZpZWxkIHdpbGwgcmVxdWlyZSBzdXBwb3J0IGZvciBhc3luY2hyb25pY2l0eS5cbiAgICAgIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vbW96aWxsYS9zb3VyY2UtbWFwL2lzc3Vlcy8xNlxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdTdXBwb3J0IGZvciB1cmwgZmllbGQgaW4gc2VjdGlvbnMgbm90IGltcGxlbWVudGVkLicpO1xuICAgIH1cbiAgICB2YXIgb2Zmc2V0ID0gdXRpbC5nZXRBcmcocywgJ29mZnNldCcpO1xuICAgIHZhciBvZmZzZXRMaW5lID0gdXRpbC5nZXRBcmcob2Zmc2V0LCAnbGluZScpO1xuICAgIHZhciBvZmZzZXRDb2x1bW4gPSB1dGlsLmdldEFyZyhvZmZzZXQsICdjb2x1bW4nKTtcblxuICAgIGlmIChvZmZzZXRMaW5lIDwgbGFzdE9mZnNldC5saW5lIHx8XG4gICAgICAgIChvZmZzZXRMaW5lID09PSBsYXN0T2Zmc2V0LmxpbmUgJiYgb2Zmc2V0Q29sdW1uIDwgbGFzdE9mZnNldC5jb2x1bW4pKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NlY3Rpb24gb2Zmc2V0cyBtdXN0IGJlIG9yZGVyZWQgYW5kIG5vbi1vdmVybGFwcGluZy4nKTtcbiAgICB9XG4gICAgbGFzdE9mZnNldCA9IG9mZnNldDtcblxuICAgIHJldHVybiB7XG4gICAgICBnZW5lcmF0ZWRPZmZzZXQ6IHtcbiAgICAgICAgLy8gVGhlIG9mZnNldCBmaWVsZHMgYXJlIDAtYmFzZWQsIGJ1dCB3ZSB1c2UgMS1iYXNlZCBpbmRpY2VzIHdoZW5cbiAgICAgICAgLy8gZW5jb2RpbmcvZGVjb2RpbmcgZnJvbSBWTFEuXG4gICAgICAgIGdlbmVyYXRlZExpbmU6IG9mZnNldExpbmUgKyAxLFxuICAgICAgICBnZW5lcmF0ZWRDb2x1bW46IG9mZnNldENvbHVtbiArIDFcbiAgICAgIH0sXG4gICAgICBjb25zdW1lcjogbmV3IFNvdXJjZU1hcENvbnN1bWVyKHV0aWwuZ2V0QXJnKHMsICdtYXAnKSwgYVNvdXJjZU1hcFVSTClcbiAgICB9XG4gIH0pO1xufVxuXG5JbmRleGVkU291cmNlTWFwQ29uc3VtZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShTb3VyY2VNYXBDb25zdW1lci5wcm90b3R5cGUpO1xuSW5kZXhlZFNvdXJjZU1hcENvbnN1bWVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFNvdXJjZU1hcENvbnN1bWVyO1xuXG4vKipcbiAqIFRoZSB2ZXJzaW9uIG9mIHRoZSBzb3VyY2UgbWFwcGluZyBzcGVjIHRoYXQgd2UgYXJlIGNvbnN1bWluZy5cbiAqL1xuSW5kZXhlZFNvdXJjZU1hcENvbnN1bWVyLnByb3RvdHlwZS5fdmVyc2lvbiA9IDM7XG5cbi8qKlxuICogVGhlIGxpc3Qgb2Ygb3JpZ2luYWwgc291cmNlcy5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KEluZGV4ZWRTb3VyY2VNYXBDb25zdW1lci5wcm90b3R5cGUsICdzb3VyY2VzJywge1xuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc291cmNlcyA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fc2VjdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGhpcy5fc2VjdGlvbnNbaV0uY29uc3VtZXIuc291cmNlcy5sZW5ndGg7IGorKykge1xuICAgICAgICBzb3VyY2VzLnB1c2godGhpcy5fc2VjdGlvbnNbaV0uY29uc3VtZXIuc291cmNlc1tqXSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzb3VyY2VzO1xuICB9XG59KTtcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBvcmlnaW5hbCBzb3VyY2UsIGxpbmUsIGFuZCBjb2x1bW4gaW5mb3JtYXRpb24gZm9yIHRoZSBnZW5lcmF0ZWRcbiAqIHNvdXJjZSdzIGxpbmUgYW5kIGNvbHVtbiBwb3NpdGlvbnMgcHJvdmlkZWQuIFRoZSBvbmx5IGFyZ3VtZW50IGlzIGFuIG9iamVjdFxuICogd2l0aCB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gKlxuICogICAtIGxpbmU6IFRoZSBsaW5lIG51bWJlciBpbiB0aGUgZ2VuZXJhdGVkIHNvdXJjZS4gIFRoZSBsaW5lIG51bWJlclxuICogICAgIGlzIDEtYmFzZWQuXG4gKiAgIC0gY29sdW1uOiBUaGUgY29sdW1uIG51bWJlciBpbiB0aGUgZ2VuZXJhdGVkIHNvdXJjZS4gIFRoZSBjb2x1bW5cbiAqICAgICBudW1iZXIgaXMgMC1iYXNlZC5cbiAqXG4gKiBhbmQgYW4gb2JqZWN0IGlzIHJldHVybmVkIHdpdGggdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICpcbiAqICAgLSBzb3VyY2U6IFRoZSBvcmlnaW5hbCBzb3VyY2UgZmlsZSwgb3IgbnVsbC5cbiAqICAgLSBsaW5lOiBUaGUgbGluZSBudW1iZXIgaW4gdGhlIG9yaWdpbmFsIHNvdXJjZSwgb3IgbnVsbC4gIFRoZVxuICogICAgIGxpbmUgbnVtYmVyIGlzIDEtYmFzZWQuXG4gKiAgIC0gY29sdW1uOiBUaGUgY29sdW1uIG51bWJlciBpbiB0aGUgb3JpZ2luYWwgc291cmNlLCBvciBudWxsLiAgVGhlXG4gKiAgICAgY29sdW1uIG51bWJlciBpcyAwLWJhc2VkLlxuICogICAtIG5hbWU6IFRoZSBvcmlnaW5hbCBpZGVudGlmaWVyLCBvciBudWxsLlxuICovXG5JbmRleGVkU291cmNlTWFwQ29uc3VtZXIucHJvdG90eXBlLm9yaWdpbmFsUG9zaXRpb25Gb3IgPVxuICBmdW5jdGlvbiBJbmRleGVkU291cmNlTWFwQ29uc3VtZXJfb3JpZ2luYWxQb3NpdGlvbkZvcihhQXJncykge1xuICAgIHZhciBuZWVkbGUgPSB7XG4gICAgICBnZW5lcmF0ZWRMaW5lOiB1dGlsLmdldEFyZyhhQXJncywgJ2xpbmUnKSxcbiAgICAgIGdlbmVyYXRlZENvbHVtbjogdXRpbC5nZXRBcmcoYUFyZ3MsICdjb2x1bW4nKVxuICAgIH07XG5cbiAgICAvLyBGaW5kIHRoZSBzZWN0aW9uIGNvbnRhaW5pbmcgdGhlIGdlbmVyYXRlZCBwb3NpdGlvbiB3ZSdyZSB0cnlpbmcgdG8gbWFwXG4gICAgLy8gdG8gYW4gb3JpZ2luYWwgcG9zaXRpb24uXG4gICAgdmFyIHNlY3Rpb25JbmRleCA9IGJpbmFyeVNlYXJjaC5zZWFyY2gobmVlZGxlLCB0aGlzLl9zZWN0aW9ucyxcbiAgICAgIGZ1bmN0aW9uKG5lZWRsZSwgc2VjdGlvbikge1xuICAgICAgICB2YXIgY21wID0gbmVlZGxlLmdlbmVyYXRlZExpbmUgLSBzZWN0aW9uLmdlbmVyYXRlZE9mZnNldC5nZW5lcmF0ZWRMaW5lO1xuICAgICAgICBpZiAoY21wKSB7XG4gICAgICAgICAgcmV0dXJuIGNtcDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAobmVlZGxlLmdlbmVyYXRlZENvbHVtbiAtXG4gICAgICAgICAgICAgICAgc2VjdGlvbi5nZW5lcmF0ZWRPZmZzZXQuZ2VuZXJhdGVkQ29sdW1uKTtcbiAgICAgIH0pO1xuICAgIHZhciBzZWN0aW9uID0gdGhpcy5fc2VjdGlvbnNbc2VjdGlvbkluZGV4XTtcblxuICAgIGlmICghc2VjdGlvbikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc291cmNlOiBudWxsLFxuICAgICAgICBsaW5lOiBudWxsLFxuICAgICAgICBjb2x1bW46IG51bGwsXG4gICAgICAgIG5hbWU6IG51bGxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHNlY3Rpb24uY29uc3VtZXIub3JpZ2luYWxQb3NpdGlvbkZvcih7XG4gICAgICBsaW5lOiBuZWVkbGUuZ2VuZXJhdGVkTGluZSAtXG4gICAgICAgIChzZWN0aW9uLmdlbmVyYXRlZE9mZnNldC5nZW5lcmF0ZWRMaW5lIC0gMSksXG4gICAgICBjb2x1bW46IG5lZWRsZS5nZW5lcmF0ZWRDb2x1bW4gLVxuICAgICAgICAoc2VjdGlvbi5nZW5lcmF0ZWRPZmZzZXQuZ2VuZXJhdGVkTGluZSA9PT0gbmVlZGxlLmdlbmVyYXRlZExpbmVcbiAgICAgICAgID8gc2VjdGlvbi5nZW5lcmF0ZWRPZmZzZXQuZ2VuZXJhdGVkQ29sdW1uIC0gMVxuICAgICAgICAgOiAwKSxcbiAgICAgIGJpYXM6IGFBcmdzLmJpYXNcbiAgICB9KTtcbiAgfTtcblxuLyoqXG4gKiBSZXR1cm4gdHJ1ZSBpZiB3ZSBoYXZlIHRoZSBzb3VyY2UgY29udGVudCBmb3IgZXZlcnkgc291cmNlIGluIHRoZSBzb3VyY2VcbiAqIG1hcCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5JbmRleGVkU291cmNlTWFwQ29uc3VtZXIucHJvdG90eXBlLmhhc0NvbnRlbnRzT2ZBbGxTb3VyY2VzID1cbiAgZnVuY3Rpb24gSW5kZXhlZFNvdXJjZU1hcENvbnN1bWVyX2hhc0NvbnRlbnRzT2ZBbGxTb3VyY2VzKCkge1xuICAgIHJldHVybiB0aGlzLl9zZWN0aW9ucy5ldmVyeShmdW5jdGlvbiAocykge1xuICAgICAgcmV0dXJuIHMuY29uc3VtZXIuaGFzQ29udGVudHNPZkFsbFNvdXJjZXMoKTtcbiAgICB9KTtcbiAgfTtcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBvcmlnaW5hbCBzb3VyY2UgY29udGVudC4gVGhlIG9ubHkgYXJndW1lbnQgaXMgdGhlIHVybCBvZiB0aGVcbiAqIG9yaWdpbmFsIHNvdXJjZSBmaWxlLiBSZXR1cm5zIG51bGwgaWYgbm8gb3JpZ2luYWwgc291cmNlIGNvbnRlbnQgaXNcbiAqIGF2YWlsYWJsZS5cbiAqL1xuSW5kZXhlZFNvdXJjZU1hcENvbnN1bWVyLnByb3RvdHlwZS5zb3VyY2VDb250ZW50Rm9yID1cbiAgZnVuY3Rpb24gSW5kZXhlZFNvdXJjZU1hcENvbnN1bWVyX3NvdXJjZUNvbnRlbnRGb3IoYVNvdXJjZSwgbnVsbE9uTWlzc2luZykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fc2VjdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzZWN0aW9uID0gdGhpcy5fc2VjdGlvbnNbaV07XG5cbiAgICAgIHZhciBjb250ZW50ID0gc2VjdGlvbi5jb25zdW1lci5zb3VyY2VDb250ZW50Rm9yKGFTb3VyY2UsIHRydWUpO1xuICAgICAgaWYgKGNvbnRlbnQpIHtcbiAgICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChudWxsT25NaXNzaW5nKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1wiJyArIGFTb3VyY2UgKyAnXCIgaXMgbm90IGluIHRoZSBTb3VyY2VNYXAuJyk7XG4gICAgfVxuICB9O1xuXG4vKipcbiAqIFJldHVybnMgdGhlIGdlbmVyYXRlZCBsaW5lIGFuZCBjb2x1bW4gaW5mb3JtYXRpb24gZm9yIHRoZSBvcmlnaW5hbCBzb3VyY2UsXG4gKiBsaW5lLCBhbmQgY29sdW1uIHBvc2l0aW9ucyBwcm92aWRlZC4gVGhlIG9ubHkgYXJndW1lbnQgaXMgYW4gb2JqZWN0IHdpdGhcbiAqIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAqXG4gKiAgIC0gc291cmNlOiBUaGUgZmlsZW5hbWUgb2YgdGhlIG9yaWdpbmFsIHNvdXJjZS5cbiAqICAgLSBsaW5lOiBUaGUgbGluZSBudW1iZXIgaW4gdGhlIG9yaWdpbmFsIHNvdXJjZS4gIFRoZSBsaW5lIG51bWJlclxuICogICAgIGlzIDEtYmFzZWQuXG4gKiAgIC0gY29sdW1uOiBUaGUgY29sdW1uIG51bWJlciBpbiB0aGUgb3JpZ2luYWwgc291cmNlLiAgVGhlIGNvbHVtblxuICogICAgIG51bWJlciBpcyAwLWJhc2VkLlxuICpcbiAqIGFuZCBhbiBvYmplY3QgaXMgcmV0dXJuZWQgd2l0aCB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gKlxuICogICAtIGxpbmU6IFRoZSBsaW5lIG51bWJlciBpbiB0aGUgZ2VuZXJhdGVkIHNvdXJjZSwgb3IgbnVsbC4gIFRoZVxuICogICAgIGxpbmUgbnVtYmVyIGlzIDEtYmFzZWQuIFxuICogICAtIGNvbHVtbjogVGhlIGNvbHVtbiBudW1iZXIgaW4gdGhlIGdlbmVyYXRlZCBzb3VyY2UsIG9yIG51bGwuXG4gKiAgICAgVGhlIGNvbHVtbiBudW1iZXIgaXMgMC1iYXNlZC5cbiAqL1xuSW5kZXhlZFNvdXJjZU1hcENvbnN1bWVyLnByb3RvdHlwZS5nZW5lcmF0ZWRQb3NpdGlvbkZvciA9XG4gIGZ1bmN0aW9uIEluZGV4ZWRTb3VyY2VNYXBDb25zdW1lcl9nZW5lcmF0ZWRQb3NpdGlvbkZvcihhQXJncykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fc2VjdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzZWN0aW9uID0gdGhpcy5fc2VjdGlvbnNbaV07XG5cbiAgICAgIC8vIE9ubHkgY29uc2lkZXIgdGhpcyBzZWN0aW9uIGlmIHRoZSByZXF1ZXN0ZWQgc291cmNlIGlzIGluIHRoZSBsaXN0IG9mXG4gICAgICAvLyBzb3VyY2VzIG9mIHRoZSBjb25zdW1lci5cbiAgICAgIGlmIChzZWN0aW9uLmNvbnN1bWVyLl9maW5kU291cmNlSW5kZXgodXRpbC5nZXRBcmcoYUFyZ3MsICdzb3VyY2UnKSkgPT09IC0xKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgdmFyIGdlbmVyYXRlZFBvc2l0aW9uID0gc2VjdGlvbi5jb25zdW1lci5nZW5lcmF0ZWRQb3NpdGlvbkZvcihhQXJncyk7XG4gICAgICBpZiAoZ2VuZXJhdGVkUG9zaXRpb24pIHtcbiAgICAgICAgdmFyIHJldCA9IHtcbiAgICAgICAgICBsaW5lOiBnZW5lcmF0ZWRQb3NpdGlvbi5saW5lICtcbiAgICAgICAgICAgIChzZWN0aW9uLmdlbmVyYXRlZE9mZnNldC5nZW5lcmF0ZWRMaW5lIC0gMSksXG4gICAgICAgICAgY29sdW1uOiBnZW5lcmF0ZWRQb3NpdGlvbi5jb2x1bW4gK1xuICAgICAgICAgICAgKHNlY3Rpb24uZ2VuZXJhdGVkT2Zmc2V0LmdlbmVyYXRlZExpbmUgPT09IGdlbmVyYXRlZFBvc2l0aW9uLmxpbmVcbiAgICAgICAgICAgICA/IHNlY3Rpb24uZ2VuZXJhdGVkT2Zmc2V0LmdlbmVyYXRlZENvbHVtbiAtIDFcbiAgICAgICAgICAgICA6IDApXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGxpbmU6IG51bGwsXG4gICAgICBjb2x1bW46IG51bGxcbiAgICB9O1xuICB9O1xuXG4vKipcbiAqIFBhcnNlIHRoZSBtYXBwaW5ncyBpbiBhIHN0cmluZyBpbiB0byBhIGRhdGEgc3RydWN0dXJlIHdoaWNoIHdlIGNhbiBlYXNpbHlcbiAqIHF1ZXJ5ICh0aGUgb3JkZXJlZCBhcnJheXMgaW4gdGhlIGB0aGlzLl9fZ2VuZXJhdGVkTWFwcGluZ3NgIGFuZFxuICogYHRoaXMuX19vcmlnaW5hbE1hcHBpbmdzYCBwcm9wZXJ0aWVzKS5cbiAqL1xuSW5kZXhlZFNvdXJjZU1hcENvbnN1bWVyLnByb3RvdHlwZS5fcGFyc2VNYXBwaW5ncyA9XG4gIGZ1bmN0aW9uIEluZGV4ZWRTb3VyY2VNYXBDb25zdW1lcl9wYXJzZU1hcHBpbmdzKGFTdHIsIGFTb3VyY2VSb290KSB7XG4gICAgdGhpcy5fX2dlbmVyYXRlZE1hcHBpbmdzID0gW107XG4gICAgdGhpcy5fX29yaWdpbmFsTWFwcGluZ3MgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX3NlY3Rpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgc2VjdGlvbiA9IHRoaXMuX3NlY3Rpb25zW2ldO1xuICAgICAgdmFyIHNlY3Rpb25NYXBwaW5ncyA9IHNlY3Rpb24uY29uc3VtZXIuX2dlbmVyYXRlZE1hcHBpbmdzO1xuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBzZWN0aW9uTWFwcGluZ3MubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgdmFyIG1hcHBpbmcgPSBzZWN0aW9uTWFwcGluZ3Nbal07XG5cbiAgICAgICAgdmFyIHNvdXJjZSA9IHNlY3Rpb24uY29uc3VtZXIuX3NvdXJjZXMuYXQobWFwcGluZy5zb3VyY2UpO1xuICAgICAgICBzb3VyY2UgPSB1dGlsLmNvbXB1dGVTb3VyY2VVUkwoc2VjdGlvbi5jb25zdW1lci5zb3VyY2VSb290LCBzb3VyY2UsIHRoaXMuX3NvdXJjZU1hcFVSTCk7XG4gICAgICAgIHRoaXMuX3NvdXJjZXMuYWRkKHNvdXJjZSk7XG4gICAgICAgIHNvdXJjZSA9IHRoaXMuX3NvdXJjZXMuaW5kZXhPZihzb3VyY2UpO1xuXG4gICAgICAgIHZhciBuYW1lID0gbnVsbDtcbiAgICAgICAgaWYgKG1hcHBpbmcubmFtZSkge1xuICAgICAgICAgIG5hbWUgPSBzZWN0aW9uLmNvbnN1bWVyLl9uYW1lcy5hdChtYXBwaW5nLm5hbWUpO1xuICAgICAgICAgIHRoaXMuX25hbWVzLmFkZChuYW1lKTtcbiAgICAgICAgICBuYW1lID0gdGhpcy5fbmFtZXMuaW5kZXhPZihuYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRoZSBtYXBwaW5ncyBjb21pbmcgZnJvbSB0aGUgY29uc3VtZXIgZm9yIHRoZSBzZWN0aW9uIGhhdmVcbiAgICAgICAgLy8gZ2VuZXJhdGVkIHBvc2l0aW9ucyByZWxhdGl2ZSB0byB0aGUgc3RhcnQgb2YgdGhlIHNlY3Rpb24sIHNvIHdlXG4gICAgICAgIC8vIG5lZWQgdG8gb2Zmc2V0IHRoZW0gdG8gYmUgcmVsYXRpdmUgdG8gdGhlIHN0YXJ0IG9mIHRoZSBjb25jYXRlbmF0ZWRcbiAgICAgICAgLy8gZ2VuZXJhdGVkIGZpbGUuXG4gICAgICAgIHZhciBhZGp1c3RlZE1hcHBpbmcgPSB7XG4gICAgICAgICAgc291cmNlOiBzb3VyY2UsXG4gICAgICAgICAgZ2VuZXJhdGVkTGluZTogbWFwcGluZy5nZW5lcmF0ZWRMaW5lICtcbiAgICAgICAgICAgIChzZWN0aW9uLmdlbmVyYXRlZE9mZnNldC5nZW5lcmF0ZWRMaW5lIC0gMSksXG4gICAgICAgICAgZ2VuZXJhdGVkQ29sdW1uOiBtYXBwaW5nLmdlbmVyYXRlZENvbHVtbiArXG4gICAgICAgICAgICAoc2VjdGlvbi5nZW5lcmF0ZWRPZmZzZXQuZ2VuZXJhdGVkTGluZSA9PT0gbWFwcGluZy5nZW5lcmF0ZWRMaW5lXG4gICAgICAgICAgICA/IHNlY3Rpb24uZ2VuZXJhdGVkT2Zmc2V0LmdlbmVyYXRlZENvbHVtbiAtIDFcbiAgICAgICAgICAgIDogMCksXG4gICAgICAgICAgb3JpZ2luYWxMaW5lOiBtYXBwaW5nLm9yaWdpbmFsTGluZSxcbiAgICAgICAgICBvcmlnaW5hbENvbHVtbjogbWFwcGluZy5vcmlnaW5hbENvbHVtbixcbiAgICAgICAgICBuYW1lOiBuYW1lXG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5fX2dlbmVyYXRlZE1hcHBpbmdzLnB1c2goYWRqdXN0ZWRNYXBwaW5nKTtcbiAgICAgICAgaWYgKHR5cGVvZiBhZGp1c3RlZE1hcHBpbmcub3JpZ2luYWxMaW5lID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIHRoaXMuX19vcmlnaW5hbE1hcHBpbmdzLnB1c2goYWRqdXN0ZWRNYXBwaW5nKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHF1aWNrU29ydCh0aGlzLl9fZ2VuZXJhdGVkTWFwcGluZ3MsIHV0aWwuY29tcGFyZUJ5R2VuZXJhdGVkUG9zaXRpb25zRGVmbGF0ZWQpO1xuICAgIHF1aWNrU29ydCh0aGlzLl9fb3JpZ2luYWxNYXBwaW5ncywgdXRpbC5jb21wYXJlQnlPcmlnaW5hbFBvc2l0aW9ucyk7XG4gIH07XG5cbmV4cG9ydHMuSW5kZXhlZFNvdXJjZU1hcENvbnN1bWVyID0gSW5kZXhlZFNvdXJjZU1hcENvbnN1bWVyO1xuIiwgIi8qIC0qLSBNb2RlOiBqczsganMtaW5kZW50LWxldmVsOiAyOyAtKi0gKi9cbi8qXG4gKiBDb3B5cmlnaHQgMjAxMSBNb3ppbGxhIEZvdW5kYXRpb24gYW5kIGNvbnRyaWJ1dG9yc1xuICogTGljZW5zZWQgdW5kZXIgdGhlIE5ldyBCU0QgbGljZW5zZS4gU2VlIExJQ0VOU0Ugb3I6XG4gKiBodHRwOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvQlNELTMtQ2xhdXNlXG4gKi9cblxudmFyIFNvdXJjZU1hcEdlbmVyYXRvciA9IHJlcXVpcmUoJy4vc291cmNlLW1hcC1nZW5lcmF0b3InKS5Tb3VyY2VNYXBHZW5lcmF0b3I7XG52YXIgdXRpbCA9IHJlcXVpcmUoJy4vdXRpbCcpO1xuXG4vLyBNYXRjaGVzIGEgV2luZG93cy1zdHlsZSBgXFxyXFxuYCBuZXdsaW5lIG9yIGEgYFxcbmAgbmV3bGluZSB1c2VkIGJ5IGFsbCBvdGhlclxuLy8gb3BlcmF0aW5nIHN5c3RlbXMgdGhlc2UgZGF5cyAoY2FwdHVyaW5nIHRoZSByZXN1bHQpLlxudmFyIFJFR0VYX05FV0xJTkUgPSAvKFxccj9cXG4pLztcblxuLy8gTmV3bGluZSBjaGFyYWN0ZXIgY29kZSBmb3IgY2hhckNvZGVBdCgpIGNvbXBhcmlzb25zXG52YXIgTkVXTElORV9DT0RFID0gMTA7XG5cbi8vIFByaXZhdGUgc3ltYm9sIGZvciBpZGVudGlmeWluZyBgU291cmNlTm9kZWBzIHdoZW4gbXVsdGlwbGUgdmVyc2lvbnMgb2Zcbi8vIHRoZSBzb3VyY2UtbWFwIGxpYnJhcnkgYXJlIGxvYWRlZC4gVGhpcyBNVVNUIE5PVCBDSEFOR0UgYWNyb3NzXG4vLyB2ZXJzaW9ucyFcbnZhciBpc1NvdXJjZU5vZGUgPSBcIiQkJGlzU291cmNlTm9kZSQkJFwiO1xuXG4vKipcbiAqIFNvdXJjZU5vZGVzIHByb3ZpZGUgYSB3YXkgdG8gYWJzdHJhY3Qgb3ZlciBpbnRlcnBvbGF0aW5nL2NvbmNhdGVuYXRpbmdcbiAqIHNuaXBwZXRzIG9mIGdlbmVyYXRlZCBKYXZhU2NyaXB0IHNvdXJjZSBjb2RlIHdoaWxlIG1haW50YWluaW5nIHRoZSBsaW5lIGFuZFxuICogY29sdW1uIGluZm9ybWF0aW9uIGFzc29jaWF0ZWQgd2l0aCB0aGUgb3JpZ2luYWwgc291cmNlIGNvZGUuXG4gKlxuICogQHBhcmFtIGFMaW5lIFRoZSBvcmlnaW5hbCBsaW5lIG51bWJlci5cbiAqIEBwYXJhbSBhQ29sdW1uIFRoZSBvcmlnaW5hbCBjb2x1bW4gbnVtYmVyLlxuICogQHBhcmFtIGFTb3VyY2UgVGhlIG9yaWdpbmFsIHNvdXJjZSdzIGZpbGVuYW1lLlxuICogQHBhcmFtIGFDaHVua3MgT3B0aW9uYWwuIEFuIGFycmF5IG9mIHN0cmluZ3Mgd2hpY2ggYXJlIHNuaXBwZXRzIG9mXG4gKiAgICAgICAgZ2VuZXJhdGVkIEpTLCBvciBvdGhlciBTb3VyY2VOb2Rlcy5cbiAqIEBwYXJhbSBhTmFtZSBUaGUgb3JpZ2luYWwgaWRlbnRpZmllci5cbiAqL1xuZnVuY3Rpb24gU291cmNlTm9kZShhTGluZSwgYUNvbHVtbiwgYVNvdXJjZSwgYUNodW5rcywgYU5hbWUpIHtcbiAgdGhpcy5jaGlsZHJlbiA9IFtdO1xuICB0aGlzLnNvdXJjZUNvbnRlbnRzID0ge307XG4gIHRoaXMubGluZSA9IGFMaW5lID09IG51bGwgPyBudWxsIDogYUxpbmU7XG4gIHRoaXMuY29sdW1uID0gYUNvbHVtbiA9PSBudWxsID8gbnVsbCA6IGFDb2x1bW47XG4gIHRoaXMuc291cmNlID0gYVNvdXJjZSA9PSBudWxsID8gbnVsbCA6IGFTb3VyY2U7XG4gIHRoaXMubmFtZSA9IGFOYW1lID09IG51bGwgPyBudWxsIDogYU5hbWU7XG4gIHRoaXNbaXNTb3VyY2VOb2RlXSA9IHRydWU7XG4gIGlmIChhQ2h1bmtzICE9IG51bGwpIHRoaXMuYWRkKGFDaHVua3MpO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBTb3VyY2VOb2RlIGZyb20gZ2VuZXJhdGVkIGNvZGUgYW5kIGEgU291cmNlTWFwQ29uc3VtZXIuXG4gKlxuICogQHBhcmFtIGFHZW5lcmF0ZWRDb2RlIFRoZSBnZW5lcmF0ZWQgY29kZVxuICogQHBhcmFtIGFTb3VyY2VNYXBDb25zdW1lciBUaGUgU291cmNlTWFwIGZvciB0aGUgZ2VuZXJhdGVkIGNvZGVcbiAqIEBwYXJhbSBhUmVsYXRpdmVQYXRoIE9wdGlvbmFsLiBUaGUgcGF0aCB0aGF0IHJlbGF0aXZlIHNvdXJjZXMgaW4gdGhlXG4gKiAgICAgICAgU291cmNlTWFwQ29uc3VtZXIgc2hvdWxkIGJlIHJlbGF0aXZlIHRvLlxuICovXG5Tb3VyY2VOb2RlLmZyb21TdHJpbmdXaXRoU291cmNlTWFwID1cbiAgZnVuY3Rpb24gU291cmNlTm9kZV9mcm9tU3RyaW5nV2l0aFNvdXJjZU1hcChhR2VuZXJhdGVkQ29kZSwgYVNvdXJjZU1hcENvbnN1bWVyLCBhUmVsYXRpdmVQYXRoKSB7XG4gICAgLy8gVGhlIFNvdXJjZU5vZGUgd2Ugd2FudCB0byBmaWxsIHdpdGggdGhlIGdlbmVyYXRlZCBjb2RlXG4gICAgLy8gYW5kIHRoZSBTb3VyY2VNYXBcbiAgICB2YXIgbm9kZSA9IG5ldyBTb3VyY2VOb2RlKCk7XG5cbiAgICAvLyBBbGwgZXZlbiBpbmRpY2VzIG9mIHRoaXMgYXJyYXkgYXJlIG9uZSBsaW5lIG9mIHRoZSBnZW5lcmF0ZWQgY29kZSxcbiAgICAvLyB3aGlsZSBhbGwgb2RkIGluZGljZXMgYXJlIHRoZSBuZXdsaW5lcyBiZXR3ZWVuIHR3byBhZGphY2VudCBsaW5lc1xuICAgIC8vIChzaW5jZSBgUkVHRVhfTkVXTElORWAgY2FwdHVyZXMgaXRzIG1hdGNoKS5cbiAgICAvLyBQcm9jZXNzZWQgZnJhZ21lbnRzIGFyZSBhY2Nlc3NlZCBieSBjYWxsaW5nIGBzaGlmdE5leHRMaW5lYC5cbiAgICB2YXIgcmVtYWluaW5nTGluZXMgPSBhR2VuZXJhdGVkQ29kZS5zcGxpdChSRUdFWF9ORVdMSU5FKTtcbiAgICB2YXIgcmVtYWluaW5nTGluZXNJbmRleCA9IDA7XG4gICAgdmFyIHNoaWZ0TmV4dExpbmUgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBsaW5lQ29udGVudHMgPSBnZXROZXh0TGluZSgpO1xuICAgICAgLy8gVGhlIGxhc3QgbGluZSBvZiBhIGZpbGUgbWlnaHQgbm90IGhhdmUgYSBuZXdsaW5lLlxuICAgICAgdmFyIG5ld0xpbmUgPSBnZXROZXh0TGluZSgpIHx8IFwiXCI7XG4gICAgICByZXR1cm4gbGluZUNvbnRlbnRzICsgbmV3TGluZTtcblxuICAgICAgZnVuY3Rpb24gZ2V0TmV4dExpbmUoKSB7XG4gICAgICAgIHJldHVybiByZW1haW5pbmdMaW5lc0luZGV4IDwgcmVtYWluaW5nTGluZXMubGVuZ3RoID9cbiAgICAgICAgICAgIHJlbWFpbmluZ0xpbmVzW3JlbWFpbmluZ0xpbmVzSW5kZXgrK10gOiB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIFdlIG5lZWQgdG8gcmVtZW1iZXIgdGhlIHBvc2l0aW9uIG9mIFwicmVtYWluaW5nTGluZXNcIlxuICAgIHZhciBsYXN0R2VuZXJhdGVkTGluZSA9IDEsIGxhc3RHZW5lcmF0ZWRDb2x1bW4gPSAwO1xuXG4gICAgLy8gVGhlIGdlbmVyYXRlIFNvdXJjZU5vZGVzIHdlIG5lZWQgYSBjb2RlIHJhbmdlLlxuICAgIC8vIFRvIGV4dHJhY3QgaXQgY3VycmVudCBhbmQgbGFzdCBtYXBwaW5nIGlzIHVzZWQuXG4gICAgLy8gSGVyZSB3ZSBzdG9yZSB0aGUgbGFzdCBtYXBwaW5nLlxuICAgIHZhciBsYXN0TWFwcGluZyA9IG51bGw7XG5cbiAgICBhU291cmNlTWFwQ29uc3VtZXIuZWFjaE1hcHBpbmcoZnVuY3Rpb24gKG1hcHBpbmcpIHtcbiAgICAgIGlmIChsYXN0TWFwcGluZyAhPT0gbnVsbCkge1xuICAgICAgICAvLyBXZSBhZGQgdGhlIGNvZGUgZnJvbSBcImxhc3RNYXBwaW5nXCIgdG8gXCJtYXBwaW5nXCI6XG4gICAgICAgIC8vIEZpcnN0IGNoZWNrIGlmIHRoZXJlIGlzIGEgbmV3IGxpbmUgaW4gYmV0d2Vlbi5cbiAgICAgICAgaWYgKGxhc3RHZW5lcmF0ZWRMaW5lIDwgbWFwcGluZy5nZW5lcmF0ZWRMaW5lKSB7XG4gICAgICAgICAgLy8gQXNzb2NpYXRlIGZpcnN0IGxpbmUgd2l0aCBcImxhc3RNYXBwaW5nXCJcbiAgICAgICAgICBhZGRNYXBwaW5nV2l0aENvZGUobGFzdE1hcHBpbmcsIHNoaWZ0TmV4dExpbmUoKSk7XG4gICAgICAgICAgbGFzdEdlbmVyYXRlZExpbmUrKztcbiAgICAgICAgICBsYXN0R2VuZXJhdGVkQ29sdW1uID0gMDtcbiAgICAgICAgICAvLyBUaGUgcmVtYWluaW5nIGNvZGUgaXMgYWRkZWQgd2l0aG91dCBtYXBwaW5nXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gVGhlcmUgaXMgbm8gbmV3IGxpbmUgaW4gYmV0d2Vlbi5cbiAgICAgICAgICAvLyBBc3NvY2lhdGUgdGhlIGNvZGUgYmV0d2VlbiBcImxhc3RHZW5lcmF0ZWRDb2x1bW5cIiBhbmRcbiAgICAgICAgICAvLyBcIm1hcHBpbmcuZ2VuZXJhdGVkQ29sdW1uXCIgd2l0aCBcImxhc3RNYXBwaW5nXCJcbiAgICAgICAgICB2YXIgbmV4dExpbmUgPSByZW1haW5pbmdMaW5lc1tyZW1haW5pbmdMaW5lc0luZGV4XSB8fCAnJztcbiAgICAgICAgICB2YXIgY29kZSA9IG5leHRMaW5lLnN1YnN0cigwLCBtYXBwaW5nLmdlbmVyYXRlZENvbHVtbiAtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdEdlbmVyYXRlZENvbHVtbik7XG4gICAgICAgICAgcmVtYWluaW5nTGluZXNbcmVtYWluaW5nTGluZXNJbmRleF0gPSBuZXh0TGluZS5zdWJzdHIobWFwcGluZy5nZW5lcmF0ZWRDb2x1bW4gLVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RHZW5lcmF0ZWRDb2x1bW4pO1xuICAgICAgICAgIGxhc3RHZW5lcmF0ZWRDb2x1bW4gPSBtYXBwaW5nLmdlbmVyYXRlZENvbHVtbjtcbiAgICAgICAgICBhZGRNYXBwaW5nV2l0aENvZGUobGFzdE1hcHBpbmcsIGNvZGUpO1xuICAgICAgICAgIC8vIE5vIG1vcmUgcmVtYWluaW5nIGNvZGUsIGNvbnRpbnVlXG4gICAgICAgICAgbGFzdE1hcHBpbmcgPSBtYXBwaW5nO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gV2UgYWRkIHRoZSBnZW5lcmF0ZWQgY29kZSB1bnRpbCB0aGUgZmlyc3QgbWFwcGluZ1xuICAgICAgLy8gdG8gdGhlIFNvdXJjZU5vZGUgd2l0aG91dCBhbnkgbWFwcGluZy5cbiAgICAgIC8vIEVhY2ggbGluZSBpcyBhZGRlZCBhcyBzZXBhcmF0ZSBzdHJpbmcuXG4gICAgICB3aGlsZSAobGFzdEdlbmVyYXRlZExpbmUgPCBtYXBwaW5nLmdlbmVyYXRlZExpbmUpIHtcbiAgICAgICAgbm9kZS5hZGQoc2hpZnROZXh0TGluZSgpKTtcbiAgICAgICAgbGFzdEdlbmVyYXRlZExpbmUrKztcbiAgICAgIH1cbiAgICAgIGlmIChsYXN0R2VuZXJhdGVkQ29sdW1uIDwgbWFwcGluZy5nZW5lcmF0ZWRDb2x1bW4pIHtcbiAgICAgICAgdmFyIG5leHRMaW5lID0gcmVtYWluaW5nTGluZXNbcmVtYWluaW5nTGluZXNJbmRleF0gfHwgJyc7XG4gICAgICAgIG5vZGUuYWRkKG5leHRMaW5lLnN1YnN0cigwLCBtYXBwaW5nLmdlbmVyYXRlZENvbHVtbikpO1xuICAgICAgICByZW1haW5pbmdMaW5lc1tyZW1haW5pbmdMaW5lc0luZGV4XSA9IG5leHRMaW5lLnN1YnN0cihtYXBwaW5nLmdlbmVyYXRlZENvbHVtbik7XG4gICAgICAgIGxhc3RHZW5lcmF0ZWRDb2x1bW4gPSBtYXBwaW5nLmdlbmVyYXRlZENvbHVtbjtcbiAgICAgIH1cbiAgICAgIGxhc3RNYXBwaW5nID0gbWFwcGluZztcbiAgICB9LCB0aGlzKTtcbiAgICAvLyBXZSBoYXZlIHByb2Nlc3NlZCBhbGwgbWFwcGluZ3MuXG4gICAgaWYgKHJlbWFpbmluZ0xpbmVzSW5kZXggPCByZW1haW5pbmdMaW5lcy5sZW5ndGgpIHtcbiAgICAgIGlmIChsYXN0TWFwcGluZykge1xuICAgICAgICAvLyBBc3NvY2lhdGUgdGhlIHJlbWFpbmluZyBjb2RlIGluIHRoZSBjdXJyZW50IGxpbmUgd2l0aCBcImxhc3RNYXBwaW5nXCJcbiAgICAgICAgYWRkTWFwcGluZ1dpdGhDb2RlKGxhc3RNYXBwaW5nLCBzaGlmdE5leHRMaW5lKCkpO1xuICAgICAgfVxuICAgICAgLy8gYW5kIGFkZCB0aGUgcmVtYWluaW5nIGxpbmVzIHdpdGhvdXQgYW55IG1hcHBpbmdcbiAgICAgIG5vZGUuYWRkKHJlbWFpbmluZ0xpbmVzLnNwbGljZShyZW1haW5pbmdMaW5lc0luZGV4KS5qb2luKFwiXCIpKTtcbiAgICB9XG5cbiAgICAvLyBDb3B5IHNvdXJjZXNDb250ZW50IGludG8gU291cmNlTm9kZVxuICAgIGFTb3VyY2VNYXBDb25zdW1lci5zb3VyY2VzLmZvckVhY2goZnVuY3Rpb24gKHNvdXJjZUZpbGUpIHtcbiAgICAgIHZhciBjb250ZW50ID0gYVNvdXJjZU1hcENvbnN1bWVyLnNvdXJjZUNvbnRlbnRGb3Ioc291cmNlRmlsZSk7XG4gICAgICBpZiAoY29udGVudCAhPSBudWxsKSB7XG4gICAgICAgIGlmIChhUmVsYXRpdmVQYXRoICE9IG51bGwpIHtcbiAgICAgICAgICBzb3VyY2VGaWxlID0gdXRpbC5qb2luKGFSZWxhdGl2ZVBhdGgsIHNvdXJjZUZpbGUpO1xuICAgICAgICB9XG4gICAgICAgIG5vZGUuc2V0U291cmNlQ29udGVudChzb3VyY2VGaWxlLCBjb250ZW50KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiBub2RlO1xuXG4gICAgZnVuY3Rpb24gYWRkTWFwcGluZ1dpdGhDb2RlKG1hcHBpbmcsIGNvZGUpIHtcbiAgICAgIGlmIChtYXBwaW5nID09PSBudWxsIHx8IG1hcHBpbmcuc291cmNlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbm9kZS5hZGQoY29kZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgc291cmNlID0gYVJlbGF0aXZlUGF0aFxuICAgICAgICAgID8gdXRpbC5qb2luKGFSZWxhdGl2ZVBhdGgsIG1hcHBpbmcuc291cmNlKVxuICAgICAgICAgIDogbWFwcGluZy5zb3VyY2U7XG4gICAgICAgIG5vZGUuYWRkKG5ldyBTb3VyY2VOb2RlKG1hcHBpbmcub3JpZ2luYWxMaW5lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXBwaW5nLm9yaWdpbmFsQ29sdW1uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcHBpbmcubmFtZSkpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuLyoqXG4gKiBBZGQgYSBjaHVuayBvZiBnZW5lcmF0ZWQgSlMgdG8gdGhpcyBzb3VyY2Ugbm9kZS5cbiAqXG4gKiBAcGFyYW0gYUNodW5rIEEgc3RyaW5nIHNuaXBwZXQgb2YgZ2VuZXJhdGVkIEpTIGNvZGUsIGFub3RoZXIgaW5zdGFuY2Ugb2ZcbiAqICAgICAgICBTb3VyY2VOb2RlLCBvciBhbiBhcnJheSB3aGVyZSBlYWNoIG1lbWJlciBpcyBvbmUgb2YgdGhvc2UgdGhpbmdzLlxuICovXG5Tb3VyY2VOb2RlLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiBTb3VyY2VOb2RlX2FkZChhQ2h1bmspIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYUNodW5rKSkge1xuICAgIGFDaHVuay5mb3JFYWNoKGZ1bmN0aW9uIChjaHVuaykge1xuICAgICAgdGhpcy5hZGQoY2h1bmspO1xuICAgIH0sIHRoaXMpO1xuICB9XG4gIGVsc2UgaWYgKGFDaHVua1tpc1NvdXJjZU5vZGVdIHx8IHR5cGVvZiBhQ2h1bmsgPT09IFwic3RyaW5nXCIpIHtcbiAgICBpZiAoYUNodW5rKSB7XG4gICAgICB0aGlzLmNoaWxkcmVuLnB1c2goYUNodW5rKTtcbiAgICB9XG4gIH1cbiAgZWxzZSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgIFwiRXhwZWN0ZWQgYSBTb3VyY2VOb2RlLCBzdHJpbmcsIG9yIGFuIGFycmF5IG9mIFNvdXJjZU5vZGVzIGFuZCBzdHJpbmdzLiBHb3QgXCIgKyBhQ2h1bmtcbiAgICApO1xuICB9XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBBZGQgYSBjaHVuayBvZiBnZW5lcmF0ZWQgSlMgdG8gdGhlIGJlZ2lubmluZyBvZiB0aGlzIHNvdXJjZSBub2RlLlxuICpcbiAqIEBwYXJhbSBhQ2h1bmsgQSBzdHJpbmcgc25pcHBldCBvZiBnZW5lcmF0ZWQgSlMgY29kZSwgYW5vdGhlciBpbnN0YW5jZSBvZlxuICogICAgICAgIFNvdXJjZU5vZGUsIG9yIGFuIGFycmF5IHdoZXJlIGVhY2ggbWVtYmVyIGlzIG9uZSBvZiB0aG9zZSB0aGluZ3MuXG4gKi9cblNvdXJjZU5vZGUucHJvdG90eXBlLnByZXBlbmQgPSBmdW5jdGlvbiBTb3VyY2VOb2RlX3ByZXBlbmQoYUNodW5rKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGFDaHVuaykpIHtcbiAgICBmb3IgKHZhciBpID0gYUNodW5rLmxlbmd0aC0xOyBpID49IDA7IGktLSkge1xuICAgICAgdGhpcy5wcmVwZW5kKGFDaHVua1tpXSk7XG4gICAgfVxuICB9XG4gIGVsc2UgaWYgKGFDaHVua1tpc1NvdXJjZU5vZGVdIHx8IHR5cGVvZiBhQ2h1bmsgPT09IFwic3RyaW5nXCIpIHtcbiAgICB0aGlzLmNoaWxkcmVuLnVuc2hpZnQoYUNodW5rKTtcbiAgfVxuICBlbHNlIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgXCJFeHBlY3RlZCBhIFNvdXJjZU5vZGUsIHN0cmluZywgb3IgYW4gYXJyYXkgb2YgU291cmNlTm9kZXMgYW5kIHN0cmluZ3MuIEdvdCBcIiArIGFDaHVua1xuICAgICk7XG4gIH1cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFdhbGsgb3ZlciB0aGUgdHJlZSBvZiBKUyBzbmlwcGV0cyBpbiB0aGlzIG5vZGUgYW5kIGl0cyBjaGlsZHJlbi4gVGhlXG4gKiB3YWxraW5nIGZ1bmN0aW9uIGlzIGNhbGxlZCBvbmNlIGZvciBlYWNoIHNuaXBwZXQgb2YgSlMgYW5kIGlzIHBhc3NlZCB0aGF0XG4gKiBzbmlwcGV0IGFuZCB0aGUgaXRzIG9yaWdpbmFsIGFzc29jaWF0ZWQgc291cmNlJ3MgbGluZS9jb2x1bW4gbG9jYXRpb24uXG4gKlxuICogQHBhcmFtIGFGbiBUaGUgdHJhdmVyc2FsIGZ1bmN0aW9uLlxuICovXG5Tb3VyY2VOb2RlLnByb3RvdHlwZS53YWxrID0gZnVuY3Rpb24gU291cmNlTm9kZV93YWxrKGFGbikge1xuICB2YXIgY2h1bms7XG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgY2h1bmsgPSB0aGlzLmNoaWxkcmVuW2ldO1xuICAgIGlmIChjaHVua1tpc1NvdXJjZU5vZGVdKSB7XG4gICAgICBjaHVuay53YWxrKGFGbik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgaWYgKGNodW5rICE9PSAnJykge1xuICAgICAgICBhRm4oY2h1bmssIHsgc291cmNlOiB0aGlzLnNvdXJjZSxcbiAgICAgICAgICAgICAgICAgICAgIGxpbmU6IHRoaXMubGluZSxcbiAgICAgICAgICAgICAgICAgICAgIGNvbHVtbjogdGhpcy5jb2x1bW4sXG4gICAgICAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLm5hbWUgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG4vKipcbiAqIExpa2UgYFN0cmluZy5wcm90b3R5cGUuam9pbmAgZXhjZXB0IGZvciBTb3VyY2VOb2Rlcy4gSW5zZXJ0cyBgYVN0cmAgYmV0d2VlblxuICogZWFjaCBvZiBgdGhpcy5jaGlsZHJlbmAuXG4gKlxuICogQHBhcmFtIGFTZXAgVGhlIHNlcGFyYXRvci5cbiAqL1xuU291cmNlTm9kZS5wcm90b3R5cGUuam9pbiA9IGZ1bmN0aW9uIFNvdXJjZU5vZGVfam9pbihhU2VwKSB7XG4gIHZhciBuZXdDaGlsZHJlbjtcbiAgdmFyIGk7XG4gIHZhciBsZW4gPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDtcbiAgaWYgKGxlbiA+IDApIHtcbiAgICBuZXdDaGlsZHJlbiA9IFtdO1xuICAgIGZvciAoaSA9IDA7IGkgPCBsZW4tMTsgaSsrKSB7XG4gICAgICBuZXdDaGlsZHJlbi5wdXNoKHRoaXMuY2hpbGRyZW5baV0pO1xuICAgICAgbmV3Q2hpbGRyZW4ucHVzaChhU2VwKTtcbiAgICB9XG4gICAgbmV3Q2hpbGRyZW4ucHVzaCh0aGlzLmNoaWxkcmVuW2ldKTtcbiAgICB0aGlzLmNoaWxkcmVuID0gbmV3Q2hpbGRyZW47XG4gIH1cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIENhbGwgU3RyaW5nLnByb3RvdHlwZS5yZXBsYWNlIG9uIHRoZSB2ZXJ5IHJpZ2h0LW1vc3Qgc291cmNlIHNuaXBwZXQuIFVzZWZ1bFxuICogZm9yIHRyaW1taW5nIHdoaXRlc3BhY2UgZnJvbSB0aGUgZW5kIG9mIGEgc291cmNlIG5vZGUsIGV0Yy5cbiAqXG4gKiBAcGFyYW0gYVBhdHRlcm4gVGhlIHBhdHRlcm4gdG8gcmVwbGFjZS5cbiAqIEBwYXJhbSBhUmVwbGFjZW1lbnQgVGhlIHRoaW5nIHRvIHJlcGxhY2UgdGhlIHBhdHRlcm4gd2l0aC5cbiAqL1xuU291cmNlTm9kZS5wcm90b3R5cGUucmVwbGFjZVJpZ2h0ID0gZnVuY3Rpb24gU291cmNlTm9kZV9yZXBsYWNlUmlnaHQoYVBhdHRlcm4sIGFSZXBsYWNlbWVudCkge1xuICB2YXIgbGFzdENoaWxkID0gdGhpcy5jaGlsZHJlblt0aGlzLmNoaWxkcmVuLmxlbmd0aCAtIDFdO1xuICBpZiAobGFzdENoaWxkW2lzU291cmNlTm9kZV0pIHtcbiAgICBsYXN0Q2hpbGQucmVwbGFjZVJpZ2h0KGFQYXR0ZXJuLCBhUmVwbGFjZW1lbnQpO1xuICB9XG4gIGVsc2UgaWYgKHR5cGVvZiBsYXN0Q2hpbGQgPT09ICdzdHJpbmcnKSB7XG4gICAgdGhpcy5jaGlsZHJlblt0aGlzLmNoaWxkcmVuLmxlbmd0aCAtIDFdID0gbGFzdENoaWxkLnJlcGxhY2UoYVBhdHRlcm4sIGFSZXBsYWNlbWVudCk7XG4gIH1cbiAgZWxzZSB7XG4gICAgdGhpcy5jaGlsZHJlbi5wdXNoKCcnLnJlcGxhY2UoYVBhdHRlcm4sIGFSZXBsYWNlbWVudCkpO1xuICB9XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBTZXQgdGhlIHNvdXJjZSBjb250ZW50IGZvciBhIHNvdXJjZSBmaWxlLiBUaGlzIHdpbGwgYmUgYWRkZWQgdG8gdGhlIFNvdXJjZU1hcEdlbmVyYXRvclxuICogaW4gdGhlIHNvdXJjZXNDb250ZW50IGZpZWxkLlxuICpcbiAqIEBwYXJhbSBhU291cmNlRmlsZSBUaGUgZmlsZW5hbWUgb2YgdGhlIHNvdXJjZSBmaWxlXG4gKiBAcGFyYW0gYVNvdXJjZUNvbnRlbnQgVGhlIGNvbnRlbnQgb2YgdGhlIHNvdXJjZSBmaWxlXG4gKi9cblNvdXJjZU5vZGUucHJvdG90eXBlLnNldFNvdXJjZUNvbnRlbnQgPVxuICBmdW5jdGlvbiBTb3VyY2VOb2RlX3NldFNvdXJjZUNvbnRlbnQoYVNvdXJjZUZpbGUsIGFTb3VyY2VDb250ZW50KSB7XG4gICAgdGhpcy5zb3VyY2VDb250ZW50c1t1dGlsLnRvU2V0U3RyaW5nKGFTb3VyY2VGaWxlKV0gPSBhU291cmNlQ29udGVudDtcbiAgfTtcblxuLyoqXG4gKiBXYWxrIG92ZXIgdGhlIHRyZWUgb2YgU291cmNlTm9kZXMuIFRoZSB3YWxraW5nIGZ1bmN0aW9uIGlzIGNhbGxlZCBmb3IgZWFjaFxuICogc291cmNlIGZpbGUgY29udGVudCBhbmQgaXMgcGFzc2VkIHRoZSBmaWxlbmFtZSBhbmQgc291cmNlIGNvbnRlbnQuXG4gKlxuICogQHBhcmFtIGFGbiBUaGUgdHJhdmVyc2FsIGZ1bmN0aW9uLlxuICovXG5Tb3VyY2VOb2RlLnByb3RvdHlwZS53YWxrU291cmNlQ29udGVudHMgPVxuICBmdW5jdGlvbiBTb3VyY2VOb2RlX3dhbGtTb3VyY2VDb250ZW50cyhhRm4pIHtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgaWYgKHRoaXMuY2hpbGRyZW5baV1baXNTb3VyY2VOb2RlXSkge1xuICAgICAgICB0aGlzLmNoaWxkcmVuW2ldLndhbGtTb3VyY2VDb250ZW50cyhhRm4pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBzb3VyY2VzID0gT2JqZWN0LmtleXModGhpcy5zb3VyY2VDb250ZW50cyk7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHNvdXJjZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGFGbih1dGlsLmZyb21TZXRTdHJpbmcoc291cmNlc1tpXSksIHRoaXMuc291cmNlQ29udGVudHNbc291cmNlc1tpXV0pO1xuICAgIH1cbiAgfTtcblxuLyoqXG4gKiBSZXR1cm4gdGhlIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGlzIHNvdXJjZSBub2RlLiBXYWxrcyBvdmVyIHRoZSB0cmVlXG4gKiBhbmQgY29uY2F0ZW5hdGVzIGFsbCB0aGUgdmFyaW91cyBzbmlwcGV0cyB0b2dldGhlciB0byBvbmUgc3RyaW5nLlxuICovXG5Tb3VyY2VOb2RlLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIFNvdXJjZU5vZGVfdG9TdHJpbmcoKSB7XG4gIHZhciBzdHIgPSBcIlwiO1xuICB0aGlzLndhbGsoZnVuY3Rpb24gKGNodW5rKSB7XG4gICAgc3RyICs9IGNodW5rO1xuICB9KTtcbiAgcmV0dXJuIHN0cjtcbn07XG5cbi8qKlxuICogUmV0dXJucyB0aGUgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgc291cmNlIG5vZGUgYWxvbmcgd2l0aCBhIHNvdXJjZVxuICogbWFwLlxuICovXG5Tb3VyY2VOb2RlLnByb3RvdHlwZS50b1N0cmluZ1dpdGhTb3VyY2VNYXAgPSBmdW5jdGlvbiBTb3VyY2VOb2RlX3RvU3RyaW5nV2l0aFNvdXJjZU1hcChhQXJncykge1xuICB2YXIgZ2VuZXJhdGVkID0ge1xuICAgIGNvZGU6IFwiXCIsXG4gICAgbGluZTogMSxcbiAgICBjb2x1bW46IDBcbiAgfTtcbiAgdmFyIG1hcCA9IG5ldyBTb3VyY2VNYXBHZW5lcmF0b3IoYUFyZ3MpO1xuICB2YXIgc291cmNlTWFwcGluZ0FjdGl2ZSA9IGZhbHNlO1xuICB2YXIgbGFzdE9yaWdpbmFsU291cmNlID0gbnVsbDtcbiAgdmFyIGxhc3RPcmlnaW5hbExpbmUgPSBudWxsO1xuICB2YXIgbGFzdE9yaWdpbmFsQ29sdW1uID0gbnVsbDtcbiAgdmFyIGxhc3RPcmlnaW5hbE5hbWUgPSBudWxsO1xuICB0aGlzLndhbGsoZnVuY3Rpb24gKGNodW5rLCBvcmlnaW5hbCkge1xuICAgIGdlbmVyYXRlZC5jb2RlICs9IGNodW5rO1xuICAgIGlmIChvcmlnaW5hbC5zb3VyY2UgIT09IG51bGxcbiAgICAgICAgJiYgb3JpZ2luYWwubGluZSAhPT0gbnVsbFxuICAgICAgICAmJiBvcmlnaW5hbC5jb2x1bW4gIT09IG51bGwpIHtcbiAgICAgIGlmKGxhc3RPcmlnaW5hbFNvdXJjZSAhPT0gb3JpZ2luYWwuc291cmNlXG4gICAgICAgICB8fCBsYXN0T3JpZ2luYWxMaW5lICE9PSBvcmlnaW5hbC5saW5lXG4gICAgICAgICB8fCBsYXN0T3JpZ2luYWxDb2x1bW4gIT09IG9yaWdpbmFsLmNvbHVtblxuICAgICAgICAgfHwgbGFzdE9yaWdpbmFsTmFtZSAhPT0gb3JpZ2luYWwubmFtZSkge1xuICAgICAgICBtYXAuYWRkTWFwcGluZyh7XG4gICAgICAgICAgc291cmNlOiBvcmlnaW5hbC5zb3VyY2UsXG4gICAgICAgICAgb3JpZ2luYWw6IHtcbiAgICAgICAgICAgIGxpbmU6IG9yaWdpbmFsLmxpbmUsXG4gICAgICAgICAgICBjb2x1bW46IG9yaWdpbmFsLmNvbHVtblxuICAgICAgICAgIH0sXG4gICAgICAgICAgZ2VuZXJhdGVkOiB7XG4gICAgICAgICAgICBsaW5lOiBnZW5lcmF0ZWQubGluZSxcbiAgICAgICAgICAgIGNvbHVtbjogZ2VuZXJhdGVkLmNvbHVtblxuICAgICAgICAgIH0sXG4gICAgICAgICAgbmFtZTogb3JpZ2luYWwubmFtZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGxhc3RPcmlnaW5hbFNvdXJjZSA9IG9yaWdpbmFsLnNvdXJjZTtcbiAgICAgIGxhc3RPcmlnaW5hbExpbmUgPSBvcmlnaW5hbC5saW5lO1xuICAgICAgbGFzdE9yaWdpbmFsQ29sdW1uID0gb3JpZ2luYWwuY29sdW1uO1xuICAgICAgbGFzdE9yaWdpbmFsTmFtZSA9IG9yaWdpbmFsLm5hbWU7XG4gICAgICBzb3VyY2VNYXBwaW5nQWN0aXZlID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKHNvdXJjZU1hcHBpbmdBY3RpdmUpIHtcbiAgICAgIG1hcC5hZGRNYXBwaW5nKHtcbiAgICAgICAgZ2VuZXJhdGVkOiB7XG4gICAgICAgICAgbGluZTogZ2VuZXJhdGVkLmxpbmUsXG4gICAgICAgICAgY29sdW1uOiBnZW5lcmF0ZWQuY29sdW1uXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgbGFzdE9yaWdpbmFsU291cmNlID0gbnVsbDtcbiAgICAgIHNvdXJjZU1hcHBpbmdBY3RpdmUgPSBmYWxzZTtcbiAgICB9XG4gICAgZm9yICh2YXIgaWR4ID0gMCwgbGVuZ3RoID0gY2h1bmsubGVuZ3RoOyBpZHggPCBsZW5ndGg7IGlkeCsrKSB7XG4gICAgICBpZiAoY2h1bmsuY2hhckNvZGVBdChpZHgpID09PSBORVdMSU5FX0NPREUpIHtcbiAgICAgICAgZ2VuZXJhdGVkLmxpbmUrKztcbiAgICAgICAgZ2VuZXJhdGVkLmNvbHVtbiA9IDA7XG4gICAgICAgIC8vIE1hcHBpbmdzIGVuZCBhdCBlb2xcbiAgICAgICAgaWYgKGlkeCArIDEgPT09IGxlbmd0aCkge1xuICAgICAgICAgIGxhc3RPcmlnaW5hbFNvdXJjZSA9IG51bGw7XG4gICAgICAgICAgc291cmNlTWFwcGluZ0FjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB9IGVsc2UgaWYgKHNvdXJjZU1hcHBpbmdBY3RpdmUpIHtcbiAgICAgICAgICBtYXAuYWRkTWFwcGluZyh7XG4gICAgICAgICAgICBzb3VyY2U6IG9yaWdpbmFsLnNvdXJjZSxcbiAgICAgICAgICAgIG9yaWdpbmFsOiB7XG4gICAgICAgICAgICAgIGxpbmU6IG9yaWdpbmFsLmxpbmUsXG4gICAgICAgICAgICAgIGNvbHVtbjogb3JpZ2luYWwuY29sdW1uXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2VuZXJhdGVkOiB7XG4gICAgICAgICAgICAgIGxpbmU6IGdlbmVyYXRlZC5saW5lLFxuICAgICAgICAgICAgICBjb2x1bW46IGdlbmVyYXRlZC5jb2x1bW5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBuYW1lOiBvcmlnaW5hbC5uYW1lXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGdlbmVyYXRlZC5jb2x1bW4rKztcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICB0aGlzLndhbGtTb3VyY2VDb250ZW50cyhmdW5jdGlvbiAoc291cmNlRmlsZSwgc291cmNlQ29udGVudCkge1xuICAgIG1hcC5zZXRTb3VyY2VDb250ZW50KHNvdXJjZUZpbGUsIHNvdXJjZUNvbnRlbnQpO1xuICB9KTtcblxuICByZXR1cm4geyBjb2RlOiBnZW5lcmF0ZWQuY29kZSwgbWFwOiBtYXAgfTtcbn07XG5cbmV4cG9ydHMuU291cmNlTm9kZSA9IFNvdXJjZU5vZGU7XG4iLCAiLypcbiAqIENvcHlyaWdodCAyMDA5LTIwMTEgTW96aWxsYSBGb3VuZGF0aW9uIGFuZCBjb250cmlidXRvcnNcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBOZXcgQlNEIGxpY2Vuc2UuIFNlZSBMSUNFTlNFLnR4dCBvcjpcbiAqIGh0dHA6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9CU0QtMy1DbGF1c2VcbiAqL1xuZXhwb3J0cy5Tb3VyY2VNYXBHZW5lcmF0b3IgPSByZXF1aXJlKCcuL2xpYi9zb3VyY2UtbWFwLWdlbmVyYXRvcicpLlNvdXJjZU1hcEdlbmVyYXRvcjtcbmV4cG9ydHMuU291cmNlTWFwQ29uc3VtZXIgPSByZXF1aXJlKCcuL2xpYi9zb3VyY2UtbWFwLWNvbnN1bWVyJykuU291cmNlTWFwQ29uc3VtZXI7XG5leHBvcnRzLlNvdXJjZU5vZGUgPSByZXF1aXJlKCcuL2xpYi9zb3VyY2Utbm9kZScpLlNvdXJjZU5vZGU7XG4iLCAiLyogZ2xvYmFsIGRlZmluZSAqL1xuaW1wb3J0IHsgaXNBcnJheSB9IGZyb20gJy4uL3V0aWxzJztcblxubGV0IFNvdXJjZU5vZGU7XG5cbnRyeSB7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIGlmICh0eXBlb2YgZGVmaW5lICE9PSAnZnVuY3Rpb24nIHx8ICFkZWZpbmUuYW1kKSB7XG4gICAgLy8gV2UgZG9uJ3Qgc3VwcG9ydCB0aGlzIGluIEFNRCBlbnZpcm9ubWVudHMuIEZvciB0aGVzZSBlbnZpcm9ubWVudHMsIHdlIGFzdXNtZSB0aGF0XG4gICAgLy8gdGhleSBhcmUgcnVubmluZyBvbiB0aGUgYnJvd3NlciBhbmQgdGh1cyBoYXZlIG5vIG5lZWQgZm9yIHRoZSBzb3VyY2UtbWFwIGxpYnJhcnkuXG4gICAgbGV0IFNvdXJjZU1hcCA9IHJlcXVpcmUoJ3NvdXJjZS1tYXAnKTtcbiAgICBTb3VyY2VOb2RlID0gU291cmNlTWFwLlNvdXJjZU5vZGU7XG4gIH1cbn0gY2F0Y2ggKGVycikge1xuICAvKiBOT1AgKi9cbn1cblxuLyogaXN0YW5idWwgaWdub3JlIGlmOiB0ZXN0ZWQgYnV0IG5vdCBjb3ZlcmVkIGluIGlzdGFuYnVsIGR1ZSB0byBkaXN0IGJ1aWxkICAqL1xuaWYgKCFTb3VyY2VOb2RlKSB7XG4gIFNvdXJjZU5vZGUgPSBmdW5jdGlvbihsaW5lLCBjb2x1bW4sIHNyY0ZpbGUsIGNodW5rcykge1xuICAgIHRoaXMuc3JjID0gJyc7XG4gICAgaWYgKGNodW5rcykge1xuICAgICAgdGhpcy5hZGQoY2h1bmtzKTtcbiAgICB9XG4gIH07XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIFNvdXJjZU5vZGUucHJvdG90eXBlID0ge1xuICAgIGFkZDogZnVuY3Rpb24oY2h1bmtzKSB7XG4gICAgICBpZiAoaXNBcnJheShjaHVua3MpKSB7XG4gICAgICAgIGNodW5rcyA9IGNodW5rcy5qb2luKCcnKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuc3JjICs9IGNodW5rcztcbiAgICB9LFxuICAgIHByZXBlbmQ6IGZ1bmN0aW9uKGNodW5rcykge1xuICAgICAgaWYgKGlzQXJyYXkoY2h1bmtzKSkge1xuICAgICAgICBjaHVua3MgPSBjaHVua3Muam9pbignJyk7XG4gICAgICB9XG4gICAgICB0aGlzLnNyYyA9IGNodW5rcyArIHRoaXMuc3JjO1xuICAgIH0sXG4gICAgdG9TdHJpbmdXaXRoU291cmNlTWFwOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB7IGNvZGU6IHRoaXMudG9TdHJpbmcoKSB9O1xuICAgIH0sXG4gICAgdG9TdHJpbmc6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuc3JjO1xuICAgIH1cbiAgfTtcbn1cblxuZnVuY3Rpb24gY2FzdENodW5rKGNodW5rLCBjb2RlR2VuLCBsb2MpIHtcbiAgaWYgKGlzQXJyYXkoY2h1bmspKSB7XG4gICAgbGV0IHJldCA9IFtdO1xuXG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGNodW5rLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICByZXQucHVzaChjb2RlR2VuLndyYXAoY2h1bmtbaV0sIGxvYykpO1xuICAgIH1cbiAgICByZXR1cm4gcmV0O1xuICB9IGVsc2UgaWYgKHR5cGVvZiBjaHVuayA9PT0gJ2Jvb2xlYW4nIHx8IHR5cGVvZiBjaHVuayA9PT0gJ251bWJlcicpIHtcbiAgICAvLyBIYW5kbGUgcHJpbWl0aXZlcyB0aGF0IHRoZSBTb3VyY2VOb2RlIHdpbGwgdGhyb3cgdXAgb25cbiAgICByZXR1cm4gY2h1bmsgKyAnJztcbiAgfVxuICByZXR1cm4gY2h1bms7XG59XG5cbmZ1bmN0aW9uIENvZGVHZW4oc3JjRmlsZSkge1xuICB0aGlzLnNyY0ZpbGUgPSBzcmNGaWxlO1xuICB0aGlzLnNvdXJjZSA9IFtdO1xufVxuXG5Db2RlR2VuLnByb3RvdHlwZSA9IHtcbiAgaXNFbXB0eSgpIHtcbiAgICByZXR1cm4gIXRoaXMuc291cmNlLmxlbmd0aDtcbiAgfSxcbiAgcHJlcGVuZDogZnVuY3Rpb24oc291cmNlLCBsb2MpIHtcbiAgICB0aGlzLnNvdXJjZS51bnNoaWZ0KHRoaXMud3JhcChzb3VyY2UsIGxvYykpO1xuICB9LFxuICBwdXNoOiBmdW5jdGlvbihzb3VyY2UsIGxvYykge1xuICAgIHRoaXMuc291cmNlLnB1c2godGhpcy53cmFwKHNvdXJjZSwgbG9jKSk7XG4gIH0sXG5cbiAgbWVyZ2U6IGZ1bmN0aW9uKCkge1xuICAgIGxldCBzb3VyY2UgPSB0aGlzLmVtcHR5KCk7XG4gICAgdGhpcy5lYWNoKGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgIHNvdXJjZS5hZGQoWycgICcsIGxpbmUsICdcXG4nXSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHNvdXJjZTtcbiAgfSxcblxuICBlYWNoOiBmdW5jdGlvbihpdGVyKSB7XG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHRoaXMuc291cmNlLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBpdGVyKHRoaXMuc291cmNlW2ldKTtcbiAgICB9XG4gIH0sXG5cbiAgZW1wdHk6IGZ1bmN0aW9uKCkge1xuICAgIGxldCBsb2MgPSB0aGlzLmN1cnJlbnRMb2NhdGlvbiB8fCB7IHN0YXJ0OiB7fSB9O1xuICAgIHJldHVybiBuZXcgU291cmNlTm9kZShsb2Muc3RhcnQubGluZSwgbG9jLnN0YXJ0LmNvbHVtbiwgdGhpcy5zcmNGaWxlKTtcbiAgfSxcbiAgd3JhcDogZnVuY3Rpb24oY2h1bmssIGxvYyA9IHRoaXMuY3VycmVudExvY2F0aW9uIHx8IHsgc3RhcnQ6IHt9IH0pIHtcbiAgICBpZiAoY2h1bmsgaW5zdGFuY2VvZiBTb3VyY2VOb2RlKSB7XG4gICAgICByZXR1cm4gY2h1bms7XG4gICAgfVxuXG4gICAgY2h1bmsgPSBjYXN0Q2h1bmsoY2h1bmssIHRoaXMsIGxvYyk7XG5cbiAgICByZXR1cm4gbmV3IFNvdXJjZU5vZGUoXG4gICAgICBsb2Muc3RhcnQubGluZSxcbiAgICAgIGxvYy5zdGFydC5jb2x1bW4sXG4gICAgICB0aGlzLnNyY0ZpbGUsXG4gICAgICBjaHVua1xuICAgICk7XG4gIH0sXG5cbiAgZnVuY3Rpb25DYWxsOiBmdW5jdGlvbihmbiwgdHlwZSwgcGFyYW1zKSB7XG4gICAgcGFyYW1zID0gdGhpcy5nZW5lcmF0ZUxpc3QocGFyYW1zKTtcbiAgICByZXR1cm4gdGhpcy53cmFwKFtmbiwgdHlwZSA/ICcuJyArIHR5cGUgKyAnKCcgOiAnKCcsIHBhcmFtcywgJyknXSk7XG4gIH0sXG5cbiAgcXVvdGVkU3RyaW5nOiBmdW5jdGlvbihzdHIpIHtcbiAgICByZXR1cm4gKFxuICAgICAgJ1wiJyArXG4gICAgICAoc3RyICsgJycpXG4gICAgICAgIC5yZXBsYWNlKC9cXFxcL2csICdcXFxcXFxcXCcpXG4gICAgICAgIC5yZXBsYWNlKC9cIi9nLCAnXFxcXFwiJylcbiAgICAgICAgLnJlcGxhY2UoL1xcbi9nLCAnXFxcXG4nKVxuICAgICAgICAucmVwbGFjZSgvXFxyL2csICdcXFxccicpXG4gICAgICAgIC5yZXBsYWNlKC9cXHUyMDI4L2csICdcXFxcdTIwMjgnKSAvLyBQZXIgRWNtYS0yNjIgNy4zICsgNy44LjRcbiAgICAgICAgLnJlcGxhY2UoL1xcdTIwMjkvZywgJ1xcXFx1MjAyOScpICtcbiAgICAgICdcIidcbiAgICApO1xuICB9LFxuXG4gIG9iamVjdExpdGVyYWw6IGZ1bmN0aW9uKG9iaikge1xuICAgIGxldCBwYWlycyA9IFtdO1xuXG4gICAgT2JqZWN0LmtleXMob2JqKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICBsZXQgdmFsdWUgPSBjYXN0Q2h1bmsob2JqW2tleV0sIHRoaXMpO1xuICAgICAgaWYgKHZhbHVlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBwYWlycy5wdXNoKFt0aGlzLnF1b3RlZFN0cmluZyhrZXkpLCAnOicsIHZhbHVlXSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBsZXQgcmV0ID0gdGhpcy5nZW5lcmF0ZUxpc3QocGFpcnMpO1xuICAgIHJldC5wcmVwZW5kKCd7Jyk7XG4gICAgcmV0LmFkZCgnfScpO1xuICAgIHJldHVybiByZXQ7XG4gIH0sXG5cbiAgZ2VuZXJhdGVMaXN0OiBmdW5jdGlvbihlbnRyaWVzKSB7XG4gICAgbGV0IHJldCA9IHRoaXMuZW1wdHkoKTtcblxuICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBlbnRyaWVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBpZiAoaSkge1xuICAgICAgICByZXQuYWRkKCcsJyk7XG4gICAgICB9XG5cbiAgICAgIHJldC5hZGQoY2FzdENodW5rKGVudHJpZXNbaV0sIHRoaXMpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmV0O1xuICB9LFxuXG4gIGdlbmVyYXRlQXJyYXk6IGZ1bmN0aW9uKGVudHJpZXMpIHtcbiAgICBsZXQgcmV0ID0gdGhpcy5nZW5lcmF0ZUxpc3QoZW50cmllcyk7XG4gICAgcmV0LnByZXBlbmQoJ1snKTtcbiAgICByZXQuYWRkKCddJyk7XG5cbiAgICByZXR1cm4gcmV0O1xuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBDb2RlR2VuO1xuIiwgImltcG9ydCB7IENPTVBJTEVSX1JFVklTSU9OLCBSRVZJU0lPTl9DSEFOR0VTIH0gZnJvbSAnLi4vYmFzZSc7XG5pbXBvcnQgRXhjZXB0aW9uIGZyb20gJy4uL2V4Y2VwdGlvbic7XG5pbXBvcnQgeyBpc0FycmF5IH0gZnJvbSAnLi4vdXRpbHMnO1xuaW1wb3J0IENvZGVHZW4gZnJvbSAnLi9jb2RlLWdlbic7XG5cbmZ1bmN0aW9uIExpdGVyYWwodmFsdWUpIHtcbiAgdGhpcy52YWx1ZSA9IHZhbHVlO1xufVxuXG5mdW5jdGlvbiBKYXZhU2NyaXB0Q29tcGlsZXIoKSB7fVxuXG5KYXZhU2NyaXB0Q29tcGlsZXIucHJvdG90eXBlID0ge1xuICAvLyBQVUJMSUMgQVBJOiBZb3UgY2FuIG92ZXJyaWRlIHRoZXNlIG1ldGhvZHMgaW4gYSBzdWJjbGFzcyB0byBwcm92aWRlXG4gIC8vIGFsdGVybmF0aXZlIGNvbXBpbGVkIGZvcm1zIGZvciBuYW1lIGxvb2t1cCBhbmQgYnVmZmVyaW5nIHNlbWFudGljc1xuICBuYW1lTG9va3VwOiBmdW5jdGlvbihwYXJlbnQsIG5hbWUgLyosICB0eXBlICovKSB7XG4gICAgcmV0dXJuIHRoaXMuaW50ZXJuYWxOYW1lTG9va3VwKHBhcmVudCwgbmFtZSk7XG4gIH0sXG4gIGRlcHRoZWRMb29rdXA6IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICByZXR1cm4gW1xuICAgICAgdGhpcy5hbGlhc2FibGUoJ2NvbnRhaW5lci5sb29rdXAnKSxcbiAgICAgICcoZGVwdGhzLCAnLFxuICAgICAgSlNPTi5zdHJpbmdpZnkobmFtZSksXG4gICAgICAnKSdcbiAgICBdO1xuICB9LFxuXG4gIGNvbXBpbGVySW5mbzogZnVuY3Rpb24oKSB7XG4gICAgY29uc3QgcmV2aXNpb24gPSBDT01QSUxFUl9SRVZJU0lPTixcbiAgICAgIHZlcnNpb25zID0gUkVWSVNJT05fQ0hBTkdFU1tyZXZpc2lvbl07XG4gICAgcmV0dXJuIFtyZXZpc2lvbiwgdmVyc2lvbnNdO1xuICB9LFxuXG4gIGFwcGVuZFRvQnVmZmVyOiBmdW5jdGlvbihzb3VyY2UsIGxvY2F0aW9uLCBleHBsaWNpdCkge1xuICAgIC8vIEZvcmNlIGEgc291cmNlIGFzIHRoaXMgc2ltcGxpZmllcyB0aGUgbWVyZ2UgbG9naWMuXG4gICAgaWYgKCFpc0FycmF5KHNvdXJjZSkpIHtcbiAgICAgIHNvdXJjZSA9IFtzb3VyY2VdO1xuICAgIH1cbiAgICBzb3VyY2UgPSB0aGlzLnNvdXJjZS53cmFwKHNvdXJjZSwgbG9jYXRpb24pO1xuXG4gICAgaWYgKHRoaXMuZW52aXJvbm1lbnQuaXNTaW1wbGUpIHtcbiAgICAgIHJldHVybiBbJ3JldHVybiAnLCBzb3VyY2UsICc7J107XG4gICAgfSBlbHNlIGlmIChleHBsaWNpdCkge1xuICAgICAgLy8gVGhpcyBpcyBhIGNhc2Ugd2hlcmUgdGhlIGJ1ZmZlciBvcGVyYXRpb24gb2NjdXJzIGFzIGEgY2hpbGQgb2YgYW5vdGhlclxuICAgICAgLy8gY29uc3RydWN0LCBnZW5lcmFsbHkgYnJhY2VzLiBXZSBoYXZlIHRvIGV4cGxpY2l0bHkgb3V0cHV0IHRoZXNlIGJ1ZmZlclxuICAgICAgLy8gb3BlcmF0aW9ucyB0byBlbnN1cmUgdGhhdCB0aGUgZW1pdHRlZCBjb2RlIGdvZXMgaW4gdGhlIGNvcnJlY3QgbG9jYXRpb24uXG4gICAgICByZXR1cm4gWydidWZmZXIgKz0gJywgc291cmNlLCAnOyddO1xuICAgIH0gZWxzZSB7XG4gICAgICBzb3VyY2UuYXBwZW5kVG9CdWZmZXIgPSB0cnVlO1xuICAgICAgcmV0dXJuIHNvdXJjZTtcbiAgICB9XG4gIH0sXG5cbiAgaW5pdGlhbGl6ZUJ1ZmZlcjogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMucXVvdGVkU3RyaW5nKCcnKTtcbiAgfSxcbiAgLy8gRU5EIFBVQkxJQyBBUElcbiAgaW50ZXJuYWxOYW1lTG9va3VwOiBmdW5jdGlvbihwYXJlbnQsIG5hbWUpIHtcbiAgICB0aGlzLmxvb2t1cFByb3BlcnR5RnVuY3Rpb25Jc1VzZWQgPSB0cnVlO1xuICAgIHJldHVybiBbJ2xvb2t1cFByb3BlcnR5KCcsIHBhcmVudCwgJywnLCBKU09OLnN0cmluZ2lmeShuYW1lKSwgJyknXTtcbiAgfSxcblxuICBsb29rdXBQcm9wZXJ0eUZ1bmN0aW9uSXNVc2VkOiBmYWxzZSxcblxuICBjb21waWxlOiBmdW5jdGlvbihlbnZpcm9ubWVudCwgb3B0aW9ucywgY29udGV4dCwgYXNPYmplY3QpIHtcbiAgICB0aGlzLmVudmlyb25tZW50ID0gZW52aXJvbm1lbnQ7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB0aGlzLnN0cmluZ1BhcmFtcyA9IHRoaXMub3B0aW9ucy5zdHJpbmdQYXJhbXM7XG4gICAgdGhpcy50cmFja0lkcyA9IHRoaXMub3B0aW9ucy50cmFja0lkcztcbiAgICB0aGlzLnByZWNvbXBpbGUgPSAhYXNPYmplY3Q7XG5cbiAgICB0aGlzLm5hbWUgPSB0aGlzLmVudmlyb25tZW50Lm5hbWU7XG4gICAgdGhpcy5pc0NoaWxkID0gISFjb250ZXh0O1xuICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQgfHwge1xuICAgICAgZGVjb3JhdG9yczogW10sXG4gICAgICBwcm9ncmFtczogW10sXG4gICAgICBlbnZpcm9ubWVudHM6IFtdXG4gICAgfTtcblxuICAgIHRoaXMucHJlYW1ibGUoKTtcblxuICAgIHRoaXMuc3RhY2tTbG90ID0gMDtcbiAgICB0aGlzLnN0YWNrVmFycyA9IFtdO1xuICAgIHRoaXMuYWxpYXNlcyA9IHt9O1xuICAgIHRoaXMucmVnaXN0ZXJzID0geyBsaXN0OiBbXSB9O1xuICAgIHRoaXMuaGFzaGVzID0gW107XG4gICAgdGhpcy5jb21waWxlU3RhY2sgPSBbXTtcbiAgICB0aGlzLmlubGluZVN0YWNrID0gW107XG4gICAgdGhpcy5ibG9ja1BhcmFtcyA9IFtdO1xuXG4gICAgdGhpcy5jb21waWxlQ2hpbGRyZW4oZW52aXJvbm1lbnQsIG9wdGlvbnMpO1xuXG4gICAgdGhpcy51c2VEZXB0aHMgPVxuICAgICAgdGhpcy51c2VEZXB0aHMgfHxcbiAgICAgIGVudmlyb25tZW50LnVzZURlcHRocyB8fFxuICAgICAgZW52aXJvbm1lbnQudXNlRGVjb3JhdG9ycyB8fFxuICAgICAgdGhpcy5vcHRpb25zLmNvbXBhdDtcbiAgICB0aGlzLnVzZUJsb2NrUGFyYW1zID0gdGhpcy51c2VCbG9ja1BhcmFtcyB8fCBlbnZpcm9ubWVudC51c2VCbG9ja1BhcmFtcztcblxuICAgIGxldCBvcGNvZGVzID0gZW52aXJvbm1lbnQub3Bjb2RlcyxcbiAgICAgIG9wY29kZSxcbiAgICAgIGZpcnN0TG9jLFxuICAgICAgaSxcbiAgICAgIGw7XG5cbiAgICBmb3IgKGkgPSAwLCBsID0gb3Bjb2Rlcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIG9wY29kZSA9IG9wY29kZXNbaV07XG5cbiAgICAgIHRoaXMuc291cmNlLmN1cnJlbnRMb2NhdGlvbiA9IG9wY29kZS5sb2M7XG4gICAgICBmaXJzdExvYyA9IGZpcnN0TG9jIHx8IG9wY29kZS5sb2M7XG4gICAgICB0aGlzW29wY29kZS5vcGNvZGVdLmFwcGx5KHRoaXMsIG9wY29kZS5hcmdzKTtcbiAgICB9XG5cbiAgICAvLyBGbHVzaCBhbnkgdHJhaWxpbmcgY29udGVudCB0aGF0IG1pZ2h0IGJlIHBlbmRpbmcuXG4gICAgdGhpcy5zb3VyY2UuY3VycmVudExvY2F0aW9uID0gZmlyc3RMb2M7XG4gICAgdGhpcy5wdXNoU291cmNlKCcnKTtcblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgaWYgKHRoaXMuc3RhY2tTbG90IHx8IHRoaXMuaW5saW5lU3RhY2subGVuZ3RoIHx8IHRoaXMuY29tcGlsZVN0YWNrLmxlbmd0aCkge1xuICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbignQ29tcGlsZSBjb21wbGV0ZWQgd2l0aCBjb250ZW50IGxlZnQgb24gc3RhY2snKTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuZGVjb3JhdG9ycy5pc0VtcHR5KCkpIHtcbiAgICAgIHRoaXMudXNlRGVjb3JhdG9ycyA9IHRydWU7XG5cbiAgICAgIHRoaXMuZGVjb3JhdG9ycy5wcmVwZW5kKFtcbiAgICAgICAgJ3ZhciBkZWNvcmF0b3JzID0gY29udGFpbmVyLmRlY29yYXRvcnMsICcsXG4gICAgICAgIHRoaXMubG9va3VwUHJvcGVydHlGdW5jdGlvblZhckRlY2xhcmF0aW9uKCksXG4gICAgICAgICc7XFxuJ1xuICAgICAgXSk7XG4gICAgICB0aGlzLmRlY29yYXRvcnMucHVzaCgncmV0dXJuIGZuOycpO1xuXG4gICAgICBpZiAoYXNPYmplY3QpIHtcbiAgICAgICAgdGhpcy5kZWNvcmF0b3JzID0gRnVuY3Rpb24uYXBwbHkodGhpcywgW1xuICAgICAgICAgICdmbicsXG4gICAgICAgICAgJ3Byb3BzJyxcbiAgICAgICAgICAnY29udGFpbmVyJyxcbiAgICAgICAgICAnZGVwdGgwJyxcbiAgICAgICAgICAnZGF0YScsXG4gICAgICAgICAgJ2Jsb2NrUGFyYW1zJyxcbiAgICAgICAgICAnZGVwdGhzJyxcbiAgICAgICAgICB0aGlzLmRlY29yYXRvcnMubWVyZ2UoKVxuICAgICAgICBdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZGVjb3JhdG9ycy5wcmVwZW5kKFxuICAgICAgICAgICdmdW5jdGlvbihmbiwgcHJvcHMsIGNvbnRhaW5lciwgZGVwdGgwLCBkYXRhLCBibG9ja1BhcmFtcywgZGVwdGhzKSB7XFxuJ1xuICAgICAgICApO1xuICAgICAgICB0aGlzLmRlY29yYXRvcnMucHVzaCgnfVxcbicpO1xuICAgICAgICB0aGlzLmRlY29yYXRvcnMgPSB0aGlzLmRlY29yYXRvcnMubWVyZ2UoKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5kZWNvcmF0b3JzID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGxldCBmbiA9IHRoaXMuY3JlYXRlRnVuY3Rpb25Db250ZXh0KGFzT2JqZWN0KTtcbiAgICBpZiAoIXRoaXMuaXNDaGlsZCkge1xuICAgICAgbGV0IHJldCA9IHtcbiAgICAgICAgY29tcGlsZXI6IHRoaXMuY29tcGlsZXJJbmZvKCksXG4gICAgICAgIG1haW46IGZuXG4gICAgICB9O1xuXG4gICAgICBpZiAodGhpcy5kZWNvcmF0b3JzKSB7XG4gICAgICAgIHJldC5tYWluX2QgPSB0aGlzLmRlY29yYXRvcnM7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgY2FtZWxjYXNlXG4gICAgICAgIHJldC51c2VEZWNvcmF0b3JzID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgbGV0IHsgcHJvZ3JhbXMsIGRlY29yYXRvcnMgfSA9IHRoaXMuY29udGV4dDtcbiAgICAgIGZvciAoaSA9IDAsIGwgPSBwcm9ncmFtcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgaWYgKHByb2dyYW1zW2ldKSB7XG4gICAgICAgICAgcmV0W2ldID0gcHJvZ3JhbXNbaV07XG4gICAgICAgICAgaWYgKGRlY29yYXRvcnNbaV0pIHtcbiAgICAgICAgICAgIHJldFtpICsgJ19kJ10gPSBkZWNvcmF0b3JzW2ldO1xuICAgICAgICAgICAgcmV0LnVzZURlY29yYXRvcnMgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5lbnZpcm9ubWVudC51c2VQYXJ0aWFsKSB7XG4gICAgICAgIHJldC51c2VQYXJ0aWFsID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuZGF0YSkge1xuICAgICAgICByZXQudXNlRGF0YSA9IHRydWU7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy51c2VEZXB0aHMpIHtcbiAgICAgICAgcmV0LnVzZURlcHRocyA9IHRydWU7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy51c2VCbG9ja1BhcmFtcykge1xuICAgICAgICByZXQudXNlQmxvY2tQYXJhbXMgPSB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5jb21wYXQpIHtcbiAgICAgICAgcmV0LmNvbXBhdCA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIGlmICghYXNPYmplY3QpIHtcbiAgICAgICAgcmV0LmNvbXBpbGVyID0gSlNPTi5zdHJpbmdpZnkocmV0LmNvbXBpbGVyKTtcblxuICAgICAgICB0aGlzLnNvdXJjZS5jdXJyZW50TG9jYXRpb24gPSB7IHN0YXJ0OiB7IGxpbmU6IDEsIGNvbHVtbjogMCB9IH07XG4gICAgICAgIHJldCA9IHRoaXMub2JqZWN0TGl0ZXJhbChyZXQpO1xuXG4gICAgICAgIGlmIChvcHRpb25zLnNyY05hbWUpIHtcbiAgICAgICAgICByZXQgPSByZXQudG9TdHJpbmdXaXRoU291cmNlTWFwKHsgZmlsZTogb3B0aW9ucy5kZXN0TmFtZSB9KTtcbiAgICAgICAgICByZXQubWFwID0gcmV0Lm1hcCAmJiByZXQubWFwLnRvU3RyaW5nKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0ID0gcmV0LnRvU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldC5jb21waWxlck9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmbjtcbiAgICB9XG4gIH0sXG5cbiAgcHJlYW1ibGU6IGZ1bmN0aW9uKCkge1xuICAgIC8vIHRyYWNrIHRoZSBsYXN0IGNvbnRleHQgcHVzaGVkIGludG8gcGxhY2UgdG8gYWxsb3cgc2tpcHBpbmcgdGhlXG4gICAgLy8gZ2V0Q29udGV4dCBvcGNvZGUgd2hlbiBpdCB3b3VsZCBiZSBhIG5vb3BcbiAgICB0aGlzLmxhc3RDb250ZXh0ID0gMDtcbiAgICB0aGlzLnNvdXJjZSA9IG5ldyBDb2RlR2VuKHRoaXMub3B0aW9ucy5zcmNOYW1lKTtcbiAgICB0aGlzLmRlY29yYXRvcnMgPSBuZXcgQ29kZUdlbih0aGlzLm9wdGlvbnMuc3JjTmFtZSk7XG4gIH0sXG5cbiAgY3JlYXRlRnVuY3Rpb25Db250ZXh0OiBmdW5jdGlvbihhc09iamVjdCkge1xuICAgIGxldCB2YXJEZWNsYXJhdGlvbnMgPSAnJztcblxuICAgIGxldCBsb2NhbHMgPSB0aGlzLnN0YWNrVmFycy5jb25jYXQodGhpcy5yZWdpc3RlcnMubGlzdCk7XG4gICAgaWYgKGxvY2Fscy5sZW5ndGggPiAwKSB7XG4gICAgICB2YXJEZWNsYXJhdGlvbnMgKz0gJywgJyArIGxvY2Fscy5qb2luKCcsICcpO1xuICAgIH1cblxuICAgIC8vIEdlbmVyYXRlIG1pbmltaXplciBhbGlhcyBtYXBwaW5nc1xuICAgIC8vXG4gICAgLy8gV2hlbiB1c2luZyB0cnVlIFNvdXJjZU5vZGVzLCB0aGlzIHdpbGwgdXBkYXRlIGFsbCByZWZlcmVuY2VzIHRvIHRoZSBnaXZlbiBhbGlhc1xuICAgIC8vIGFzIHRoZSBzb3VyY2Ugbm9kZXMgYXJlIHJldXNlZCBpbiBzaXR1LiBGb3IgdGhlIG5vbi1zb3VyY2Ugbm9kZSBjb21waWxhdGlvbiBtb2RlLFxuICAgIC8vIGFsaWFzZXMgd2lsbCBub3QgYmUgdXNlZCwgYnV0IHRoaXMgY2FzZSBpcyBhbHJlYWR5IGJlaW5nIHJ1biBvbiB0aGUgY2xpZW50IGFuZFxuICAgIC8vIHdlIGFyZW4ndCBjb25jZXJuIGFib3V0IG1pbmltaXppbmcgdGhlIHRlbXBsYXRlIHNpemUuXG4gICAgbGV0IGFsaWFzQ291bnQgPSAwO1xuICAgIE9iamVjdC5rZXlzKHRoaXMuYWxpYXNlcykuZm9yRWFjaChhbGlhcyA9PiB7XG4gICAgICBsZXQgbm9kZSA9IHRoaXMuYWxpYXNlc1thbGlhc107XG4gICAgICBpZiAobm9kZS5jaGlsZHJlbiAmJiBub2RlLnJlZmVyZW5jZUNvdW50ID4gMSkge1xuICAgICAgICB2YXJEZWNsYXJhdGlvbnMgKz0gJywgYWxpYXMnICsgKythbGlhc0NvdW50ICsgJz0nICsgYWxpYXM7XG4gICAgICAgIG5vZGUuY2hpbGRyZW5bMF0gPSAnYWxpYXMnICsgYWxpYXNDb3VudDtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmICh0aGlzLmxvb2t1cFByb3BlcnR5RnVuY3Rpb25Jc1VzZWQpIHtcbiAgICAgIHZhckRlY2xhcmF0aW9ucyArPSAnLCAnICsgdGhpcy5sb29rdXBQcm9wZXJ0eUZ1bmN0aW9uVmFyRGVjbGFyYXRpb24oKTtcbiAgICB9XG5cbiAgICBsZXQgcGFyYW1zID0gWydjb250YWluZXInLCAnZGVwdGgwJywgJ2hlbHBlcnMnLCAncGFydGlhbHMnLCAnZGF0YSddO1xuXG4gICAgaWYgKHRoaXMudXNlQmxvY2tQYXJhbXMgfHwgdGhpcy51c2VEZXB0aHMpIHtcbiAgICAgIHBhcmFtcy5wdXNoKCdibG9ja1BhcmFtcycpO1xuICAgIH1cbiAgICBpZiAodGhpcy51c2VEZXB0aHMpIHtcbiAgICAgIHBhcmFtcy5wdXNoKCdkZXB0aHMnKTtcbiAgICB9XG5cbiAgICAvLyBQZXJmb3JtIGEgc2Vjb25kIHBhc3Mgb3ZlciB0aGUgb3V0cHV0IHRvIG1lcmdlIGNvbnRlbnQgd2hlbiBwb3NzaWJsZVxuICAgIGxldCBzb3VyY2UgPSB0aGlzLm1lcmdlU291cmNlKHZhckRlY2xhcmF0aW9ucyk7XG5cbiAgICBpZiAoYXNPYmplY3QpIHtcbiAgICAgIHBhcmFtcy5wdXNoKHNvdXJjZSk7XG5cbiAgICAgIHJldHVybiBGdW5jdGlvbi5hcHBseSh0aGlzLCBwYXJhbXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5zb3VyY2Uud3JhcChbXG4gICAgICAgICdmdW5jdGlvbignLFxuICAgICAgICBwYXJhbXMuam9pbignLCcpLFxuICAgICAgICAnKSB7XFxuICAnLFxuICAgICAgICBzb3VyY2UsXG4gICAgICAgICd9J1xuICAgICAgXSk7XG4gICAgfVxuICB9LFxuICBtZXJnZVNvdXJjZTogZnVuY3Rpb24odmFyRGVjbGFyYXRpb25zKSB7XG4gICAgbGV0IGlzU2ltcGxlID0gdGhpcy5lbnZpcm9ubWVudC5pc1NpbXBsZSxcbiAgICAgIGFwcGVuZE9ubHkgPSAhdGhpcy5mb3JjZUJ1ZmZlcixcbiAgICAgIGFwcGVuZEZpcnN0LFxuICAgICAgc291cmNlU2VlbixcbiAgICAgIGJ1ZmZlclN0YXJ0LFxuICAgICAgYnVmZmVyRW5kO1xuICAgIHRoaXMuc291cmNlLmVhY2gobGluZSA9PiB7XG4gICAgICBpZiAobGluZS5hcHBlbmRUb0J1ZmZlcikge1xuICAgICAgICBpZiAoYnVmZmVyU3RhcnQpIHtcbiAgICAgICAgICBsaW5lLnByZXBlbmQoJyAgKyAnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBidWZmZXJTdGFydCA9IGxpbmU7XG4gICAgICAgIH1cbiAgICAgICAgYnVmZmVyRW5kID0gbGluZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChidWZmZXJTdGFydCkge1xuICAgICAgICAgIGlmICghc291cmNlU2Vlbikge1xuICAgICAgICAgICAgYXBwZW5kRmlyc3QgPSB0cnVlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBidWZmZXJTdGFydC5wcmVwZW5kKCdidWZmZXIgKz0gJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJ1ZmZlckVuZC5hZGQoJzsnKTtcbiAgICAgICAgICBidWZmZXJTdGFydCA9IGJ1ZmZlckVuZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHNvdXJjZVNlZW4gPSB0cnVlO1xuICAgICAgICBpZiAoIWlzU2ltcGxlKSB7XG4gICAgICAgICAgYXBwZW5kT25seSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAoYXBwZW5kT25seSkge1xuICAgICAgaWYgKGJ1ZmZlclN0YXJ0KSB7XG4gICAgICAgIGJ1ZmZlclN0YXJ0LnByZXBlbmQoJ3JldHVybiAnKTtcbiAgICAgICAgYnVmZmVyRW5kLmFkZCgnOycpO1xuICAgICAgfSBlbHNlIGlmICghc291cmNlU2Vlbikge1xuICAgICAgICB0aGlzLnNvdXJjZS5wdXNoKCdyZXR1cm4gXCJcIjsnKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdmFyRGVjbGFyYXRpb25zICs9XG4gICAgICAgICcsIGJ1ZmZlciA9ICcgKyAoYXBwZW5kRmlyc3QgPyAnJyA6IHRoaXMuaW5pdGlhbGl6ZUJ1ZmZlcigpKTtcblxuICAgICAgaWYgKGJ1ZmZlclN0YXJ0KSB7XG4gICAgICAgIGJ1ZmZlclN0YXJ0LnByZXBlbmQoJ3JldHVybiBidWZmZXIgKyAnKTtcbiAgICAgICAgYnVmZmVyRW5kLmFkZCgnOycpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zb3VyY2UucHVzaCgncmV0dXJuIGJ1ZmZlcjsnKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodmFyRGVjbGFyYXRpb25zKSB7XG4gICAgICB0aGlzLnNvdXJjZS5wcmVwZW5kKFxuICAgICAgICAndmFyICcgKyB2YXJEZWNsYXJhdGlvbnMuc3Vic3RyaW5nKDIpICsgKGFwcGVuZEZpcnN0ID8gJycgOiAnO1xcbicpXG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnNvdXJjZS5tZXJnZSgpO1xuICB9LFxuXG4gIGxvb2t1cFByb3BlcnR5RnVuY3Rpb25WYXJEZWNsYXJhdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGBcbiAgICAgIGxvb2t1cFByb3BlcnR5ID0gY29udGFpbmVyLmxvb2t1cFByb3BlcnR5IHx8IGZ1bmN0aW9uKHBhcmVudCwgcHJvcGVydHlOYW1lKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocGFyZW50LCBwcm9wZXJ0eU5hbWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcmVudFtwcm9wZXJ0eU5hbWVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICB9XG4gICAgYC50cmltKCk7XG4gIH0sXG5cbiAgLy8gW2Jsb2NrVmFsdWVdXG4gIC8vXG4gIC8vIE9uIHN0YWNrLCBiZWZvcmU6IGhhc2gsIGludmVyc2UsIHByb2dyYW0sIHZhbHVlXG4gIC8vIE9uIHN0YWNrLCBhZnRlcjogcmV0dXJuIHZhbHVlIG9mIGJsb2NrSGVscGVyTWlzc2luZ1xuICAvL1xuICAvLyBUaGUgcHVycG9zZSBvZiB0aGlzIG9wY29kZSBpcyB0byB0YWtlIGEgYmxvY2sgb2YgdGhlIGZvcm1cbiAgLy8gYHt7I3RoaXMuZm9vfX0uLi57ey90aGlzLmZvb319YCwgcmVzb2x2ZSB0aGUgdmFsdWUgb2YgYGZvb2AsIGFuZFxuICAvLyByZXBsYWNlIGl0IG9uIHRoZSBzdGFjayB3aXRoIHRoZSByZXN1bHQgb2YgcHJvcGVybHlcbiAgLy8gaW52b2tpbmcgYmxvY2tIZWxwZXJNaXNzaW5nLlxuICBibG9ja1ZhbHVlOiBmdW5jdGlvbihuYW1lKSB7XG4gICAgbGV0IGJsb2NrSGVscGVyTWlzc2luZyA9IHRoaXMuYWxpYXNhYmxlKFxuICAgICAgICAnY29udGFpbmVyLmhvb2tzLmJsb2NrSGVscGVyTWlzc2luZydcbiAgICAgICksXG4gICAgICBwYXJhbXMgPSBbdGhpcy5jb250ZXh0TmFtZSgwKV07XG4gICAgdGhpcy5zZXR1cEhlbHBlckFyZ3MobmFtZSwgMCwgcGFyYW1zKTtcblxuICAgIGxldCBibG9ja05hbWUgPSB0aGlzLnBvcFN0YWNrKCk7XG4gICAgcGFyYW1zLnNwbGljZSgxLCAwLCBibG9ja05hbWUpO1xuXG4gICAgdGhpcy5wdXNoKHRoaXMuc291cmNlLmZ1bmN0aW9uQ2FsbChibG9ja0hlbHBlck1pc3NpbmcsICdjYWxsJywgcGFyYW1zKSk7XG4gIH0sXG5cbiAgLy8gW2FtYmlndW91c0Jsb2NrVmFsdWVdXG4gIC8vXG4gIC8vIE9uIHN0YWNrLCBiZWZvcmU6IGhhc2gsIGludmVyc2UsIHByb2dyYW0sIHZhbHVlXG4gIC8vIENvbXBpbGVyIHZhbHVlLCBiZWZvcmU6IGxhc3RIZWxwZXI9dmFsdWUgb2YgbGFzdCBmb3VuZCBoZWxwZXIsIGlmIGFueVxuICAvLyBPbiBzdGFjaywgYWZ0ZXIsIGlmIG5vIGxhc3RIZWxwZXI6IHNhbWUgYXMgW2Jsb2NrVmFsdWVdXG4gIC8vIE9uIHN0YWNrLCBhZnRlciwgaWYgbGFzdEhlbHBlcjogdmFsdWVcbiAgYW1iaWd1b3VzQmxvY2tWYWx1ZTogZnVuY3Rpb24oKSB7XG4gICAgLy8gV2UncmUgYmVpbmcgYSBiaXQgY2hlZWt5IGFuZCByZXVzaW5nIHRoZSBvcHRpb25zIHZhbHVlIGZyb20gdGhlIHByaW9yIGV4ZWNcbiAgICBsZXQgYmxvY2tIZWxwZXJNaXNzaW5nID0gdGhpcy5hbGlhc2FibGUoXG4gICAgICAgICdjb250YWluZXIuaG9va3MuYmxvY2tIZWxwZXJNaXNzaW5nJ1xuICAgICAgKSxcbiAgICAgIHBhcmFtcyA9IFt0aGlzLmNvbnRleHROYW1lKDApXTtcbiAgICB0aGlzLnNldHVwSGVscGVyQXJncygnJywgMCwgcGFyYW1zLCB0cnVlKTtcblxuICAgIHRoaXMuZmx1c2hJbmxpbmUoKTtcblxuICAgIGxldCBjdXJyZW50ID0gdGhpcy50b3BTdGFjaygpO1xuICAgIHBhcmFtcy5zcGxpY2UoMSwgMCwgY3VycmVudCk7XG5cbiAgICB0aGlzLnB1c2hTb3VyY2UoW1xuICAgICAgJ2lmICghJyxcbiAgICAgIHRoaXMubGFzdEhlbHBlcixcbiAgICAgICcpIHsgJyxcbiAgICAgIGN1cnJlbnQsXG4gICAgICAnID0gJyxcbiAgICAgIHRoaXMuc291cmNlLmZ1bmN0aW9uQ2FsbChibG9ja0hlbHBlck1pc3NpbmcsICdjYWxsJywgcGFyYW1zKSxcbiAgICAgICd9J1xuICAgIF0pO1xuICB9LFxuXG4gIC8vIFthcHBlbmRDb250ZW50XVxuICAvL1xuICAvLyBPbiBzdGFjaywgYmVmb3JlOiAuLi5cbiAgLy8gT24gc3RhY2ssIGFmdGVyOiAuLi5cbiAgLy9cbiAgLy8gQXBwZW5kcyB0aGUgc3RyaW5nIHZhbHVlIG9mIGBjb250ZW50YCB0byB0aGUgY3VycmVudCBidWZmZXJcbiAgYXBwZW5kQ29udGVudDogZnVuY3Rpb24oY29udGVudCkge1xuICAgIGlmICh0aGlzLnBlbmRpbmdDb250ZW50KSB7XG4gICAgICBjb250ZW50ID0gdGhpcy5wZW5kaW5nQ29udGVudCArIGNvbnRlbnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucGVuZGluZ0xvY2F0aW9uID0gdGhpcy5zb3VyY2UuY3VycmVudExvY2F0aW9uO1xuICAgIH1cblxuICAgIHRoaXMucGVuZGluZ0NvbnRlbnQgPSBjb250ZW50O1xuICB9LFxuXG4gIC8vIFthcHBlbmRdXG4gIC8vXG4gIC8vIE9uIHN0YWNrLCBiZWZvcmU6IHZhbHVlLCAuLi5cbiAgLy8gT24gc3RhY2ssIGFmdGVyOiAuLi5cbiAgLy9cbiAgLy8gQ29lcmNlcyBgdmFsdWVgIHRvIGEgU3RyaW5nIGFuZCBhcHBlbmRzIGl0IHRvIHRoZSBjdXJyZW50IGJ1ZmZlci5cbiAgLy9cbiAgLy8gSWYgYHZhbHVlYCBpcyB0cnV0aHksIG9yIDAsIGl0IGlzIGNvZXJjZWQgaW50byBhIHN0cmluZyBhbmQgYXBwZW5kZWRcbiAgLy8gT3RoZXJ3aXNlLCB0aGUgZW1wdHkgc3RyaW5nIGlzIGFwcGVuZGVkXG4gIGFwcGVuZDogZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMuaXNJbmxpbmUoKSkge1xuICAgICAgdGhpcy5yZXBsYWNlU3RhY2soY3VycmVudCA9PiBbJyAhPSBudWxsID8gJywgY3VycmVudCwgJyA6IFwiXCInXSk7XG5cbiAgICAgIHRoaXMucHVzaFNvdXJjZSh0aGlzLmFwcGVuZFRvQnVmZmVyKHRoaXMucG9wU3RhY2soKSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgbG9jYWwgPSB0aGlzLnBvcFN0YWNrKCk7XG4gICAgICB0aGlzLnB1c2hTb3VyY2UoW1xuICAgICAgICAnaWYgKCcsXG4gICAgICAgIGxvY2FsLFxuICAgICAgICAnICE9IG51bGwpIHsgJyxcbiAgICAgICAgdGhpcy5hcHBlbmRUb0J1ZmZlcihsb2NhbCwgdW5kZWZpbmVkLCB0cnVlKSxcbiAgICAgICAgJyB9J1xuICAgICAgXSk7XG4gICAgICBpZiAodGhpcy5lbnZpcm9ubWVudC5pc1NpbXBsZSkge1xuICAgICAgICB0aGlzLnB1c2hTb3VyY2UoW1xuICAgICAgICAgICdlbHNlIHsgJyxcbiAgICAgICAgICB0aGlzLmFwcGVuZFRvQnVmZmVyKFwiJydcIiwgdW5kZWZpbmVkLCB0cnVlKSxcbiAgICAgICAgICAnIH0nXG4gICAgICAgIF0pO1xuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICAvLyBbYXBwZW5kRXNjYXBlZF1cbiAgLy9cbiAgLy8gT24gc3RhY2ssIGJlZm9yZTogdmFsdWUsIC4uLlxuICAvLyBPbiBzdGFjaywgYWZ0ZXI6IC4uLlxuICAvL1xuICAvLyBFc2NhcGUgYHZhbHVlYCBhbmQgYXBwZW5kIGl0IHRvIHRoZSBidWZmZXJcbiAgYXBwZW5kRXNjYXBlZDogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5wdXNoU291cmNlKFxuICAgICAgdGhpcy5hcHBlbmRUb0J1ZmZlcihbXG4gICAgICAgIHRoaXMuYWxpYXNhYmxlKCdjb250YWluZXIuZXNjYXBlRXhwcmVzc2lvbicpLFxuICAgICAgICAnKCcsXG4gICAgICAgIHRoaXMucG9wU3RhY2soKSxcbiAgICAgICAgJyknXG4gICAgICBdKVxuICAgICk7XG4gIH0sXG5cbiAgLy8gW2dldENvbnRleHRdXG4gIC8vXG4gIC8vIE9uIHN0YWNrLCBiZWZvcmU6IC4uLlxuICAvLyBPbiBzdGFjaywgYWZ0ZXI6IC4uLlxuICAvLyBDb21waWxlciB2YWx1ZSwgYWZ0ZXI6IGxhc3RDb250ZXh0PWRlcHRoXG4gIC8vXG4gIC8vIFNldCB0aGUgdmFsdWUgb2YgdGhlIGBsYXN0Q29udGV4dGAgY29tcGlsZXIgdmFsdWUgdG8gdGhlIGRlcHRoXG4gIGdldENvbnRleHQ6IGZ1bmN0aW9uKGRlcHRoKSB7XG4gICAgdGhpcy5sYXN0Q29udGV4dCA9IGRlcHRoO1xuICB9LFxuXG4gIC8vIFtwdXNoQ29udGV4dF1cbiAgLy9cbiAgLy8gT24gc3RhY2ssIGJlZm9yZTogLi4uXG4gIC8vIE9uIHN0YWNrLCBhZnRlcjogY3VycmVudENvbnRleHQsIC4uLlxuICAvL1xuICAvLyBQdXNoZXMgdGhlIHZhbHVlIG9mIHRoZSBjdXJyZW50IGNvbnRleHQgb250byB0aGUgc3RhY2suXG4gIHB1c2hDb250ZXh0OiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnB1c2hTdGFja0xpdGVyYWwodGhpcy5jb250ZXh0TmFtZSh0aGlzLmxhc3RDb250ZXh0KSk7XG4gIH0sXG5cbiAgLy8gW2xvb2t1cE9uQ29udGV4dF1cbiAgLy9cbiAgLy8gT24gc3RhY2ssIGJlZm9yZTogLi4uXG4gIC8vIE9uIHN0YWNrLCBhZnRlcjogY3VycmVudENvbnRleHRbbmFtZV0sIC4uLlxuICAvL1xuICAvLyBMb29rcyB1cCB0aGUgdmFsdWUgb2YgYG5hbWVgIG9uIHRoZSBjdXJyZW50IGNvbnRleHQgYW5kIHB1c2hlc1xuICAvLyBpdCBvbnRvIHRoZSBzdGFjay5cbiAgbG9va3VwT25Db250ZXh0OiBmdW5jdGlvbihwYXJ0cywgZmFsc3ksIHN0cmljdCwgc2NvcGVkKSB7XG4gICAgbGV0IGkgPSAwO1xuXG4gICAgaWYgKCFzY29wZWQgJiYgdGhpcy5vcHRpb25zLmNvbXBhdCAmJiAhdGhpcy5sYXN0Q29udGV4dCkge1xuICAgICAgLy8gVGhlIGRlcHRoZWQgcXVlcnkgaXMgZXhwZWN0ZWQgdG8gaGFuZGxlIHRoZSB1bmRlZmluZWQgbG9naWMgZm9yIHRoZSByb290IGxldmVsIHRoYXRcbiAgICAgIC8vIGlzIGltcGxlbWVudGVkIGJlbG93LCBzbyB3ZSBldmFsdWF0ZSB0aGF0IGRpcmVjdGx5IGluIGNvbXBhdCBtb2RlXG4gICAgICB0aGlzLnB1c2godGhpcy5kZXB0aGVkTG9va3VwKHBhcnRzW2krK10pKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5wdXNoQ29udGV4dCgpO1xuICAgIH1cblxuICAgIHRoaXMucmVzb2x2ZVBhdGgoJ2NvbnRleHQnLCBwYXJ0cywgaSwgZmFsc3ksIHN0cmljdCk7XG4gIH0sXG5cbiAgLy8gW2xvb2t1cEJsb2NrUGFyYW1dXG4gIC8vXG4gIC8vIE9uIHN0YWNrLCBiZWZvcmU6IC4uLlxuICAvLyBPbiBzdGFjaywgYWZ0ZXI6IGJsb2NrUGFyYW1bbmFtZV0sIC4uLlxuICAvL1xuICAvLyBMb29rcyB1cCB0aGUgdmFsdWUgb2YgYHBhcnRzYCBvbiB0aGUgZ2l2ZW4gYmxvY2sgcGFyYW0gYW5kIHB1c2hlc1xuICAvLyBpdCBvbnRvIHRoZSBzdGFjay5cbiAgbG9va3VwQmxvY2tQYXJhbTogZnVuY3Rpb24oYmxvY2tQYXJhbUlkLCBwYXJ0cykge1xuICAgIHRoaXMudXNlQmxvY2tQYXJhbXMgPSB0cnVlO1xuXG4gICAgdGhpcy5wdXNoKFsnYmxvY2tQYXJhbXNbJywgYmxvY2tQYXJhbUlkWzBdLCAnXVsnLCBibG9ja1BhcmFtSWRbMV0sICddJ10pO1xuICAgIHRoaXMucmVzb2x2ZVBhdGgoJ2NvbnRleHQnLCBwYXJ0cywgMSk7XG4gIH0sXG5cbiAgLy8gW2xvb2t1cERhdGFdXG4gIC8vXG4gIC8vIE9uIHN0YWNrLCBiZWZvcmU6IC4uLlxuICAvLyBPbiBzdGFjaywgYWZ0ZXI6IGRhdGEsIC4uLlxuICAvL1xuICAvLyBQdXNoIHRoZSBkYXRhIGxvb2t1cCBvcGVyYXRvclxuICBsb29rdXBEYXRhOiBmdW5jdGlvbihkZXB0aCwgcGFydHMsIHN0cmljdCkge1xuICAgIGlmICghZGVwdGgpIHtcbiAgICAgIHRoaXMucHVzaFN0YWNrTGl0ZXJhbCgnZGF0YScpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnB1c2hTdGFja0xpdGVyYWwoJ2NvbnRhaW5lci5kYXRhKGRhdGEsICcgKyBkZXB0aCArICcpJyk7XG4gICAgfVxuXG4gICAgdGhpcy5yZXNvbHZlUGF0aCgnZGF0YScsIHBhcnRzLCAwLCB0cnVlLCBzdHJpY3QpO1xuICB9LFxuXG4gIHJlc29sdmVQYXRoOiBmdW5jdGlvbih0eXBlLCBwYXJ0cywgaSwgZmFsc3ksIHN0cmljdCkge1xuICAgIGlmICh0aGlzLm9wdGlvbnMuc3RyaWN0IHx8IHRoaXMub3B0aW9ucy5hc3N1bWVPYmplY3RzKSB7XG4gICAgICB0aGlzLnB1c2goc3RyaWN0TG9va3VwKHRoaXMub3B0aW9ucy5zdHJpY3QgJiYgc3RyaWN0LCB0aGlzLCBwYXJ0cywgdHlwZSkpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCBsZW4gPSBwYXJ0cy5sZW5ndGg7XG4gICAgZm9yICg7IGkgPCBsZW47IGkrKykge1xuICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tbG9vcC1mdW5jICovXG4gICAgICB0aGlzLnJlcGxhY2VTdGFjayhjdXJyZW50ID0+IHtcbiAgICAgICAgbGV0IGxvb2t1cCA9IHRoaXMubmFtZUxvb2t1cChjdXJyZW50LCBwYXJ0c1tpXSwgdHlwZSk7XG4gICAgICAgIC8vIFdlIHdhbnQgdG8gZW5zdXJlIHRoYXQgemVybyBhbmQgZmFsc2UgYXJlIGhhbmRsZWQgcHJvcGVybHkgaWYgdGhlIGNvbnRleHQgKGZhbHN5IGZsYWcpXG4gICAgICAgIC8vIG5lZWRzIHRvIGhhdmUgdGhlIHNwZWNpYWwgaGFuZGxpbmcgZm9yIHRoZXNlIHZhbHVlcy5cbiAgICAgICAgaWYgKCFmYWxzeSkge1xuICAgICAgICAgIHJldHVybiBbJyAhPSBudWxsID8gJywgbG9va3VwLCAnIDogJywgY3VycmVudF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gT3RoZXJ3aXNlIHdlIGNhbiB1c2UgZ2VuZXJpYyBmYWxzeSBoYW5kbGluZ1xuICAgICAgICAgIHJldHVybiBbJyAmJiAnLCBsb29rdXBdO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIC8qIGVzbGludC1lbmFibGUgbm8tbG9vcC1mdW5jICovXG4gICAgfVxuICB9LFxuXG4gIC8vIFtyZXNvbHZlUG9zc2libGVMYW1iZGFdXG4gIC8vXG4gIC8vIE9uIHN0YWNrLCBiZWZvcmU6IHZhbHVlLCAuLi5cbiAgLy8gT24gc3RhY2ssIGFmdGVyOiByZXNvbHZlZCB2YWx1ZSwgLi4uXG4gIC8vXG4gIC8vIElmIHRoZSBgdmFsdWVgIGlzIGEgbGFtYmRhLCByZXBsYWNlIGl0IG9uIHRoZSBzdGFjayBieVxuICAvLyB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBsYW1iZGFcbiAgcmVzb2x2ZVBvc3NpYmxlTGFtYmRhOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnB1c2goW1xuICAgICAgdGhpcy5hbGlhc2FibGUoJ2NvbnRhaW5lci5sYW1iZGEnKSxcbiAgICAgICcoJyxcbiAgICAgIHRoaXMucG9wU3RhY2soKSxcbiAgICAgICcsICcsXG4gICAgICB0aGlzLmNvbnRleHROYW1lKDApLFxuICAgICAgJyknXG4gICAgXSk7XG4gIH0sXG5cbiAgLy8gW3B1c2hTdHJpbmdQYXJhbV1cbiAgLy9cbiAgLy8gT24gc3RhY2ssIGJlZm9yZTogLi4uXG4gIC8vIE9uIHN0YWNrLCBhZnRlcjogc3RyaW5nLCBjdXJyZW50Q29udGV4dCwgLi4uXG4gIC8vXG4gIC8vIFRoaXMgb3Bjb2RlIGlzIGRlc2lnbmVkIGZvciB1c2UgaW4gc3RyaW5nIG1vZGUsIHdoaWNoXG4gIC8vIHByb3ZpZGVzIHRoZSBzdHJpbmcgdmFsdWUgb2YgYSBwYXJhbWV0ZXIgYWxvbmcgd2l0aCBpdHNcbiAgLy8gZGVwdGggcmF0aGVyIHRoYW4gcmVzb2x2aW5nIGl0IGltbWVkaWF0ZWx5LlxuICBwdXNoU3RyaW5nUGFyYW06IGZ1bmN0aW9uKHN0cmluZywgdHlwZSkge1xuICAgIHRoaXMucHVzaENvbnRleHQoKTtcbiAgICB0aGlzLnB1c2hTdHJpbmcodHlwZSk7XG5cbiAgICAvLyBJZiBpdCdzIGEgc3ViZXhwcmVzc2lvbiwgdGhlIHN0cmluZyByZXN1bHRcbiAgICAvLyB3aWxsIGJlIHB1c2hlZCBhZnRlciB0aGlzIG9wY29kZS5cbiAgICBpZiAodHlwZSAhPT0gJ1N1YkV4cHJlc3Npb24nKSB7XG4gICAgICBpZiAodHlwZW9mIHN0cmluZyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdGhpcy5wdXNoU3RyaW5nKHN0cmluZyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnB1c2hTdGFja0xpdGVyYWwoc3RyaW5nKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgZW1wdHlIYXNoOiBmdW5jdGlvbihvbWl0RW1wdHkpIHtcbiAgICBpZiAodGhpcy50cmFja0lkcykge1xuICAgICAgdGhpcy5wdXNoKCd7fScpOyAvLyBoYXNoSWRzXG4gICAgfVxuICAgIGlmICh0aGlzLnN0cmluZ1BhcmFtcykge1xuICAgICAgdGhpcy5wdXNoKCd7fScpOyAvLyBoYXNoQ29udGV4dHNcbiAgICAgIHRoaXMucHVzaCgne30nKTsgLy8gaGFzaFR5cGVzXG4gICAgfVxuICAgIHRoaXMucHVzaFN0YWNrTGl0ZXJhbChvbWl0RW1wdHkgPyAndW5kZWZpbmVkJyA6ICd7fScpO1xuICB9LFxuICBwdXNoSGFzaDogZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMuaGFzaCkge1xuICAgICAgdGhpcy5oYXNoZXMucHVzaCh0aGlzLmhhc2gpO1xuICAgIH1cbiAgICB0aGlzLmhhc2ggPSB7IHZhbHVlczoge30sIHR5cGVzOiBbXSwgY29udGV4dHM6IFtdLCBpZHM6IFtdIH07XG4gIH0sXG4gIHBvcEhhc2g6IGZ1bmN0aW9uKCkge1xuICAgIGxldCBoYXNoID0gdGhpcy5oYXNoO1xuICAgIHRoaXMuaGFzaCA9IHRoaXMuaGFzaGVzLnBvcCgpO1xuXG4gICAgaWYgKHRoaXMudHJhY2tJZHMpIHtcbiAgICAgIHRoaXMucHVzaCh0aGlzLm9iamVjdExpdGVyYWwoaGFzaC5pZHMpKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuc3RyaW5nUGFyYW1zKSB7XG4gICAgICB0aGlzLnB1c2godGhpcy5vYmplY3RMaXRlcmFsKGhhc2guY29udGV4dHMpKTtcbiAgICAgIHRoaXMucHVzaCh0aGlzLm9iamVjdExpdGVyYWwoaGFzaC50eXBlcykpO1xuICAgIH1cblxuICAgIHRoaXMucHVzaCh0aGlzLm9iamVjdExpdGVyYWwoaGFzaC52YWx1ZXMpKTtcbiAgfSxcblxuICAvLyBbcHVzaFN0cmluZ11cbiAgLy9cbiAgLy8gT24gc3RhY2ssIGJlZm9yZTogLi4uXG4gIC8vIE9uIHN0YWNrLCBhZnRlcjogcXVvdGVkU3RyaW5nKHN0cmluZyksIC4uLlxuICAvL1xuICAvLyBQdXNoIGEgcXVvdGVkIHZlcnNpb24gb2YgYHN0cmluZ2Agb250byB0aGUgc3RhY2tcbiAgcHVzaFN0cmluZzogZnVuY3Rpb24oc3RyaW5nKSB7XG4gICAgdGhpcy5wdXNoU3RhY2tMaXRlcmFsKHRoaXMucXVvdGVkU3RyaW5nKHN0cmluZykpO1xuICB9LFxuXG4gIC8vIFtwdXNoTGl0ZXJhbF1cbiAgLy9cbiAgLy8gT24gc3RhY2ssIGJlZm9yZTogLi4uXG4gIC8vIE9uIHN0YWNrLCBhZnRlcjogdmFsdWUsIC4uLlxuICAvL1xuICAvLyBQdXNoZXMgYSB2YWx1ZSBvbnRvIHRoZSBzdGFjay4gVGhpcyBvcGVyYXRpb24gcHJldmVudHNcbiAgLy8gdGhlIGNvbXBpbGVyIGZyb20gY3JlYXRpbmcgYSB0ZW1wb3JhcnkgdmFyaWFibGUgdG8gaG9sZFxuICAvLyBpdC5cbiAgcHVzaExpdGVyYWw6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgdGhpcy5wdXNoU3RhY2tMaXRlcmFsKHZhbHVlKTtcbiAgfSxcblxuICAvLyBbcHVzaFByb2dyYW1dXG4gIC8vXG4gIC8vIE9uIHN0YWNrLCBiZWZvcmU6IC4uLlxuICAvLyBPbiBzdGFjaywgYWZ0ZXI6IHByb2dyYW0oZ3VpZCksIC4uLlxuICAvL1xuICAvLyBQdXNoIGEgcHJvZ3JhbSBleHByZXNzaW9uIG9udG8gdGhlIHN0YWNrLiBUaGlzIHRha2VzXG4gIC8vIGEgY29tcGlsZS10aW1lIGd1aWQgYW5kIGNvbnZlcnRzIGl0IGludG8gYSBydW50aW1lLWFjY2Vzc2libGVcbiAgLy8gZXhwcmVzc2lvbi5cbiAgcHVzaFByb2dyYW06IGZ1bmN0aW9uKGd1aWQpIHtcbiAgICBpZiAoZ3VpZCAhPSBudWxsKSB7XG4gICAgICB0aGlzLnB1c2hTdGFja0xpdGVyYWwodGhpcy5wcm9ncmFtRXhwcmVzc2lvbihndWlkKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucHVzaFN0YWNrTGl0ZXJhbChudWxsKTtcbiAgICB9XG4gIH0sXG5cbiAgLy8gW3JlZ2lzdGVyRGVjb3JhdG9yXVxuICAvL1xuICAvLyBPbiBzdGFjaywgYmVmb3JlOiBoYXNoLCBwcm9ncmFtLCBwYXJhbXMuLi4sIC4uLlxuICAvLyBPbiBzdGFjaywgYWZ0ZXI6IC4uLlxuICAvL1xuICAvLyBQb3BzIG9mZiB0aGUgZGVjb3JhdG9yJ3MgcGFyYW1ldGVycywgaW52b2tlcyB0aGUgZGVjb3JhdG9yLFxuICAvLyBhbmQgaW5zZXJ0cyB0aGUgZGVjb3JhdG9yIGludG8gdGhlIGRlY29yYXRvcnMgbGlzdC5cbiAgcmVnaXN0ZXJEZWNvcmF0b3IocGFyYW1TaXplLCBuYW1lKSB7XG4gICAgbGV0IGZvdW5kRGVjb3JhdG9yID0gdGhpcy5uYW1lTG9va3VwKCdkZWNvcmF0b3JzJywgbmFtZSwgJ2RlY29yYXRvcicpLFxuICAgICAgb3B0aW9ucyA9IHRoaXMuc2V0dXBIZWxwZXJBcmdzKG5hbWUsIHBhcmFtU2l6ZSk7XG5cbiAgICB0aGlzLmRlY29yYXRvcnMucHVzaChbXG4gICAgICAnZm4gPSAnLFxuICAgICAgdGhpcy5kZWNvcmF0b3JzLmZ1bmN0aW9uQ2FsbChmb3VuZERlY29yYXRvciwgJycsIFtcbiAgICAgICAgJ2ZuJyxcbiAgICAgICAgJ3Byb3BzJyxcbiAgICAgICAgJ2NvbnRhaW5lcicsXG4gICAgICAgIG9wdGlvbnNcbiAgICAgIF0pLFxuICAgICAgJyB8fCBmbjsnXG4gICAgXSk7XG4gIH0sXG5cbiAgLy8gW2ludm9rZUhlbHBlcl1cbiAgLy9cbiAgLy8gT24gc3RhY2ssIGJlZm9yZTogaGFzaCwgaW52ZXJzZSwgcHJvZ3JhbSwgcGFyYW1zLi4uLCAuLi5cbiAgLy8gT24gc3RhY2ssIGFmdGVyOiByZXN1bHQgb2YgaGVscGVyIGludm9jYXRpb25cbiAgLy9cbiAgLy8gUG9wcyBvZmYgdGhlIGhlbHBlcidzIHBhcmFtZXRlcnMsIGludm9rZXMgdGhlIGhlbHBlcixcbiAgLy8gYW5kIHB1c2hlcyB0aGUgaGVscGVyJ3MgcmV0dXJuIHZhbHVlIG9udG8gdGhlIHN0YWNrLlxuICAvL1xuICAvLyBJZiB0aGUgaGVscGVyIGlzIG5vdCBmb3VuZCwgYGhlbHBlck1pc3NpbmdgIGlzIGNhbGxlZC5cbiAgaW52b2tlSGVscGVyOiBmdW5jdGlvbihwYXJhbVNpemUsIG5hbWUsIGlzU2ltcGxlKSB7XG4gICAgbGV0IG5vbkhlbHBlciA9IHRoaXMucG9wU3RhY2soKSxcbiAgICAgIGhlbHBlciA9IHRoaXMuc2V0dXBIZWxwZXIocGFyYW1TaXplLCBuYW1lKTtcblxuICAgIGxldCBwb3NzaWJsZUZ1bmN0aW9uQ2FsbHMgPSBbXTtcblxuICAgIGlmIChpc1NpbXBsZSkge1xuICAgICAgLy8gZGlyZWN0IGNhbGwgdG8gaGVscGVyXG4gICAgICBwb3NzaWJsZUZ1bmN0aW9uQ2FsbHMucHVzaChoZWxwZXIubmFtZSk7XG4gICAgfVxuICAgIC8vIGNhbGwgYSBmdW5jdGlvbiBmcm9tIHRoZSBpbnB1dCBvYmplY3RcbiAgICBwb3NzaWJsZUZ1bmN0aW9uQ2FsbHMucHVzaChub25IZWxwZXIpO1xuICAgIGlmICghdGhpcy5vcHRpb25zLnN0cmljdCkge1xuICAgICAgcG9zc2libGVGdW5jdGlvbkNhbGxzLnB1c2goXG4gICAgICAgIHRoaXMuYWxpYXNhYmxlKCdjb250YWluZXIuaG9va3MuaGVscGVyTWlzc2luZycpXG4gICAgICApO1xuICAgIH1cblxuICAgIGxldCBmdW5jdGlvbkxvb2t1cENvZGUgPSBbXG4gICAgICAnKCcsXG4gICAgICB0aGlzLml0ZW1zU2VwYXJhdGVkQnkocG9zc2libGVGdW5jdGlvbkNhbGxzLCAnfHwnKSxcbiAgICAgICcpJ1xuICAgIF07XG4gICAgbGV0IGZ1bmN0aW9uQ2FsbCA9IHRoaXMuc291cmNlLmZ1bmN0aW9uQ2FsbChcbiAgICAgIGZ1bmN0aW9uTG9va3VwQ29kZSxcbiAgICAgICdjYWxsJyxcbiAgICAgIGhlbHBlci5jYWxsUGFyYW1zXG4gICAgKTtcbiAgICB0aGlzLnB1c2goZnVuY3Rpb25DYWxsKTtcbiAgfSxcblxuICBpdGVtc1NlcGFyYXRlZEJ5OiBmdW5jdGlvbihpdGVtcywgc2VwYXJhdG9yKSB7XG4gICAgbGV0IHJlc3VsdCA9IFtdO1xuICAgIHJlc3VsdC5wdXNoKGl0ZW1zWzBdKTtcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICByZXN1bHQucHVzaChzZXBhcmF0b3IsIGl0ZW1zW2ldKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSxcbiAgLy8gW2ludm9rZUtub3duSGVscGVyXVxuICAvL1xuICAvLyBPbiBzdGFjaywgYmVmb3JlOiBoYXNoLCBpbnZlcnNlLCBwcm9ncmFtLCBwYXJhbXMuLi4sIC4uLlxuICAvLyBPbiBzdGFjaywgYWZ0ZXI6IHJlc3VsdCBvZiBoZWxwZXIgaW52b2NhdGlvblxuICAvL1xuICAvLyBUaGlzIG9wZXJhdGlvbiBpcyB1c2VkIHdoZW4gdGhlIGhlbHBlciBpcyBrbm93biB0byBleGlzdCxcbiAgLy8gc28gYSBgaGVscGVyTWlzc2luZ2AgZmFsbGJhY2sgaXMgbm90IHJlcXVpcmVkLlxuICBpbnZva2VLbm93bkhlbHBlcjogZnVuY3Rpb24ocGFyYW1TaXplLCBuYW1lKSB7XG4gICAgbGV0IGhlbHBlciA9IHRoaXMuc2V0dXBIZWxwZXIocGFyYW1TaXplLCBuYW1lKTtcbiAgICB0aGlzLnB1c2godGhpcy5zb3VyY2UuZnVuY3Rpb25DYWxsKGhlbHBlci5uYW1lLCAnY2FsbCcsIGhlbHBlci5jYWxsUGFyYW1zKSk7XG4gIH0sXG5cbiAgLy8gW2ludm9rZUFtYmlndW91c11cbiAgLy9cbiAgLy8gT24gc3RhY2ssIGJlZm9yZTogaGFzaCwgaW52ZXJzZSwgcHJvZ3JhbSwgcGFyYW1zLi4uLCAuLi5cbiAgLy8gT24gc3RhY2ssIGFmdGVyOiByZXN1bHQgb2YgZGlzYW1iaWd1YXRpb25cbiAgLy9cbiAgLy8gVGhpcyBvcGVyYXRpb24gaXMgdXNlZCB3aGVuIGFuIGV4cHJlc3Npb24gbGlrZSBge3tmb299fWBcbiAgLy8gaXMgcHJvdmlkZWQsIGJ1dCB3ZSBkb24ndCBrbm93IGF0IGNvbXBpbGUtdGltZSB3aGV0aGVyIGl0XG4gIC8vIGlzIGEgaGVscGVyIG9yIGEgcGF0aC5cbiAgLy9cbiAgLy8gVGhpcyBvcGVyYXRpb24gZW1pdHMgbW9yZSBjb2RlIHRoYW4gdGhlIG90aGVyIG9wdGlvbnMsXG4gIC8vIGFuZCBjYW4gYmUgYXZvaWRlZCBieSBwYXNzaW5nIHRoZSBga25vd25IZWxwZXJzYCBhbmRcbiAgLy8gYGtub3duSGVscGVyc09ubHlgIGZsYWdzIGF0IGNvbXBpbGUtdGltZS5cbiAgaW52b2tlQW1iaWd1b3VzOiBmdW5jdGlvbihuYW1lLCBoZWxwZXJDYWxsKSB7XG4gICAgdGhpcy51c2VSZWdpc3RlcignaGVscGVyJyk7XG5cbiAgICBsZXQgbm9uSGVscGVyID0gdGhpcy5wb3BTdGFjaygpO1xuXG4gICAgdGhpcy5lbXB0eUhhc2goKTtcbiAgICBsZXQgaGVscGVyID0gdGhpcy5zZXR1cEhlbHBlcigwLCBuYW1lLCBoZWxwZXJDYWxsKTtcblxuICAgIGxldCBoZWxwZXJOYW1lID0gKHRoaXMubGFzdEhlbHBlciA9IHRoaXMubmFtZUxvb2t1cChcbiAgICAgICdoZWxwZXJzJyxcbiAgICAgIG5hbWUsXG4gICAgICAnaGVscGVyJ1xuICAgICkpO1xuXG4gICAgbGV0IGxvb2t1cCA9IFsnKCcsICcoaGVscGVyID0gJywgaGVscGVyTmFtZSwgJyB8fCAnLCBub25IZWxwZXIsICcpJ107XG4gICAgaWYgKCF0aGlzLm9wdGlvbnMuc3RyaWN0KSB7XG4gICAgICBsb29rdXBbMF0gPSAnKGhlbHBlciA9ICc7XG4gICAgICBsb29rdXAucHVzaChcbiAgICAgICAgJyAhPSBudWxsID8gaGVscGVyIDogJyxcbiAgICAgICAgdGhpcy5hbGlhc2FibGUoJ2NvbnRhaW5lci5ob29rcy5oZWxwZXJNaXNzaW5nJylcbiAgICAgICk7XG4gICAgfVxuXG4gICAgdGhpcy5wdXNoKFtcbiAgICAgICcoJyxcbiAgICAgIGxvb2t1cCxcbiAgICAgIGhlbHBlci5wYXJhbXNJbml0ID8gWycpLCgnLCBoZWxwZXIucGFyYW1zSW5pdF0gOiBbXSxcbiAgICAgICcpLCcsXG4gICAgICAnKHR5cGVvZiBoZWxwZXIgPT09ICcsXG4gICAgICB0aGlzLmFsaWFzYWJsZSgnXCJmdW5jdGlvblwiJyksXG4gICAgICAnID8gJyxcbiAgICAgIHRoaXMuc291cmNlLmZ1bmN0aW9uQ2FsbCgnaGVscGVyJywgJ2NhbGwnLCBoZWxwZXIuY2FsbFBhcmFtcyksXG4gICAgICAnIDogaGVscGVyKSknXG4gICAgXSk7XG4gIH0sXG5cbiAgLy8gW2ludm9rZVBhcnRpYWxdXG4gIC8vXG4gIC8vIE9uIHN0YWNrLCBiZWZvcmU6IGNvbnRleHQsIC4uLlxuICAvLyBPbiBzdGFjayBhZnRlcjogcmVzdWx0IG9mIHBhcnRpYWwgaW52b2NhdGlvblxuICAvL1xuICAvLyBUaGlzIG9wZXJhdGlvbiBwb3BzIG9mZiBhIGNvbnRleHQsIGludm9rZXMgYSBwYXJ0aWFsIHdpdGggdGhhdCBjb250ZXh0LFxuICAvLyBhbmQgcHVzaGVzIHRoZSByZXN1bHQgb2YgdGhlIGludm9jYXRpb24gYmFjay5cbiAgaW52b2tlUGFydGlhbDogZnVuY3Rpb24oaXNEeW5hbWljLCBuYW1lLCBpbmRlbnQpIHtcbiAgICBsZXQgcGFyYW1zID0gW10sXG4gICAgICBvcHRpb25zID0gdGhpcy5zZXR1cFBhcmFtcyhuYW1lLCAxLCBwYXJhbXMpO1xuXG4gICAgaWYgKGlzRHluYW1pYykge1xuICAgICAgbmFtZSA9IHRoaXMucG9wU3RhY2soKTtcbiAgICAgIGRlbGV0ZSBvcHRpb25zLm5hbWU7XG4gICAgfVxuXG4gICAgaWYgKGluZGVudCkge1xuICAgICAgb3B0aW9ucy5pbmRlbnQgPSBKU09OLnN0cmluZ2lmeShpbmRlbnQpO1xuICAgIH1cbiAgICBvcHRpb25zLmhlbHBlcnMgPSAnaGVscGVycyc7XG4gICAgb3B0aW9ucy5wYXJ0aWFscyA9ICdwYXJ0aWFscyc7XG4gICAgb3B0aW9ucy5kZWNvcmF0b3JzID0gJ2NvbnRhaW5lci5kZWNvcmF0b3JzJztcblxuICAgIGlmICghaXNEeW5hbWljKSB7XG4gICAgICBwYXJhbXMudW5zaGlmdCh0aGlzLm5hbWVMb29rdXAoJ3BhcnRpYWxzJywgbmFtZSwgJ3BhcnRpYWwnKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhcmFtcy51bnNoaWZ0KG5hbWUpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLm9wdGlvbnMuY29tcGF0KSB7XG4gICAgICBvcHRpb25zLmRlcHRocyA9ICdkZXB0aHMnO1xuICAgIH1cbiAgICBvcHRpb25zID0gdGhpcy5vYmplY3RMaXRlcmFsKG9wdGlvbnMpO1xuICAgIHBhcmFtcy5wdXNoKG9wdGlvbnMpO1xuXG4gICAgdGhpcy5wdXNoKHRoaXMuc291cmNlLmZ1bmN0aW9uQ2FsbCgnY29udGFpbmVyLmludm9rZVBhcnRpYWwnLCAnJywgcGFyYW1zKSk7XG4gIH0sXG5cbiAgLy8gW2Fzc2lnblRvSGFzaF1cbiAgLy9cbiAgLy8gT24gc3RhY2ssIGJlZm9yZTogdmFsdWUsIC4uLiwgaGFzaCwgLi4uXG4gIC8vIE9uIHN0YWNrLCBhZnRlcjogLi4uLCBoYXNoLCAuLi5cbiAgLy9cbiAgLy8gUG9wcyBhIHZhbHVlIG9mZiB0aGUgc3RhY2sgYW5kIGFzc2lnbnMgaXQgdG8gdGhlIGN1cnJlbnQgaGFzaFxuICBhc3NpZ25Ub0hhc2g6IGZ1bmN0aW9uKGtleSkge1xuICAgIGxldCB2YWx1ZSA9IHRoaXMucG9wU3RhY2soKSxcbiAgICAgIGNvbnRleHQsXG4gICAgICB0eXBlLFxuICAgICAgaWQ7XG5cbiAgICBpZiAodGhpcy50cmFja0lkcykge1xuICAgICAgaWQgPSB0aGlzLnBvcFN0YWNrKCk7XG4gICAgfVxuICAgIGlmICh0aGlzLnN0cmluZ1BhcmFtcykge1xuICAgICAgdHlwZSA9IHRoaXMucG9wU3RhY2soKTtcbiAgICAgIGNvbnRleHQgPSB0aGlzLnBvcFN0YWNrKCk7XG4gICAgfVxuXG4gICAgbGV0IGhhc2ggPSB0aGlzLmhhc2g7XG4gICAgaWYgKGNvbnRleHQpIHtcbiAgICAgIGhhc2guY29udGV4dHNba2V5XSA9IGNvbnRleHQ7XG4gICAgfVxuICAgIGlmICh0eXBlKSB7XG4gICAgICBoYXNoLnR5cGVzW2tleV0gPSB0eXBlO1xuICAgIH1cbiAgICBpZiAoaWQpIHtcbiAgICAgIGhhc2guaWRzW2tleV0gPSBpZDtcbiAgICB9XG4gICAgaGFzaC52YWx1ZXNba2V5XSA9IHZhbHVlO1xuICB9LFxuXG4gIHB1c2hJZDogZnVuY3Rpb24odHlwZSwgbmFtZSwgY2hpbGQpIHtcbiAgICBpZiAodHlwZSA9PT0gJ0Jsb2NrUGFyYW0nKSB7XG4gICAgICB0aGlzLnB1c2hTdGFja0xpdGVyYWwoXG4gICAgICAgICdibG9ja1BhcmFtc1snICtcbiAgICAgICAgICBuYW1lWzBdICtcbiAgICAgICAgICAnXS5wYXRoWycgK1xuICAgICAgICAgIG5hbWVbMV0gK1xuICAgICAgICAgICddJyArXG4gICAgICAgICAgKGNoaWxkID8gJyArICcgKyBKU09OLnN0cmluZ2lmeSgnLicgKyBjaGlsZCkgOiAnJylcbiAgICAgICk7XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAnUGF0aEV4cHJlc3Npb24nKSB7XG4gICAgICB0aGlzLnB1c2hTdHJpbmcobmFtZSk7XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAnU3ViRXhwcmVzc2lvbicpIHtcbiAgICAgIHRoaXMucHVzaFN0YWNrTGl0ZXJhbCgndHJ1ZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnB1c2hTdGFja0xpdGVyYWwoJ251bGwnKTtcbiAgICB9XG4gIH0sXG5cbiAgLy8gSEVMUEVSU1xuXG4gIGNvbXBpbGVyOiBKYXZhU2NyaXB0Q29tcGlsZXIsXG5cbiAgY29tcGlsZUNoaWxkcmVuOiBmdW5jdGlvbihlbnZpcm9ubWVudCwgb3B0aW9ucykge1xuICAgIGxldCBjaGlsZHJlbiA9IGVudmlyb25tZW50LmNoaWxkcmVuLFxuICAgICAgY2hpbGQsXG4gICAgICBjb21waWxlcjtcblxuICAgIGZvciAobGV0IGkgPSAwLCBsID0gY2hpbGRyZW4ubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuICAgICAgY29tcGlsZXIgPSBuZXcgdGhpcy5jb21waWxlcigpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5ldy1jYXBcblxuICAgICAgbGV0IGV4aXN0aW5nID0gdGhpcy5tYXRjaEV4aXN0aW5nUHJvZ3JhbShjaGlsZCk7XG5cbiAgICAgIGlmIChleGlzdGluZyA9PSBudWxsKSB7XG4gICAgICAgIHRoaXMuY29udGV4dC5wcm9ncmFtcy5wdXNoKCcnKTsgLy8gUGxhY2Vob2xkZXIgdG8gcHJldmVudCBuYW1lIGNvbmZsaWN0cyBmb3IgbmVzdGVkIGNoaWxkcmVuXG4gICAgICAgIGxldCBpbmRleCA9IHRoaXMuY29udGV4dC5wcm9ncmFtcy5sZW5ndGg7XG4gICAgICAgIGNoaWxkLmluZGV4ID0gaW5kZXg7XG4gICAgICAgIGNoaWxkLm5hbWUgPSAncHJvZ3JhbScgKyBpbmRleDtcbiAgICAgICAgdGhpcy5jb250ZXh0LnByb2dyYW1zW2luZGV4XSA9IGNvbXBpbGVyLmNvbXBpbGUoXG4gICAgICAgICAgY2hpbGQsXG4gICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICB0aGlzLmNvbnRleHQsXG4gICAgICAgICAgIXRoaXMucHJlY29tcGlsZVxuICAgICAgICApO1xuICAgICAgICB0aGlzLmNvbnRleHQuZGVjb3JhdG9yc1tpbmRleF0gPSBjb21waWxlci5kZWNvcmF0b3JzO1xuICAgICAgICB0aGlzLmNvbnRleHQuZW52aXJvbm1lbnRzW2luZGV4XSA9IGNoaWxkO1xuXG4gICAgICAgIHRoaXMudXNlRGVwdGhzID0gdGhpcy51c2VEZXB0aHMgfHwgY29tcGlsZXIudXNlRGVwdGhzO1xuICAgICAgICB0aGlzLnVzZUJsb2NrUGFyYW1zID0gdGhpcy51c2VCbG9ja1BhcmFtcyB8fCBjb21waWxlci51c2VCbG9ja1BhcmFtcztcbiAgICAgICAgY2hpbGQudXNlRGVwdGhzID0gdGhpcy51c2VEZXB0aHM7XG4gICAgICAgIGNoaWxkLnVzZUJsb2NrUGFyYW1zID0gdGhpcy51c2VCbG9ja1BhcmFtcztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNoaWxkLmluZGV4ID0gZXhpc3RpbmcuaW5kZXg7XG4gICAgICAgIGNoaWxkLm5hbWUgPSAncHJvZ3JhbScgKyBleGlzdGluZy5pbmRleDtcblxuICAgICAgICB0aGlzLnVzZURlcHRocyA9IHRoaXMudXNlRGVwdGhzIHx8IGV4aXN0aW5nLnVzZURlcHRocztcbiAgICAgICAgdGhpcy51c2VCbG9ja1BhcmFtcyA9IHRoaXMudXNlQmxvY2tQYXJhbXMgfHwgZXhpc3RpbmcudXNlQmxvY2tQYXJhbXM7XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBtYXRjaEV4aXN0aW5nUHJvZ3JhbTogZnVuY3Rpb24oY2hpbGQpIHtcbiAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gdGhpcy5jb250ZXh0LmVudmlyb25tZW50cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgbGV0IGVudmlyb25tZW50ID0gdGhpcy5jb250ZXh0LmVudmlyb25tZW50c1tpXTtcbiAgICAgIGlmIChlbnZpcm9ubWVudCAmJiBlbnZpcm9ubWVudC5lcXVhbHMoY2hpbGQpKSB7XG4gICAgICAgIHJldHVybiBlbnZpcm9ubWVudDtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgcHJvZ3JhbUV4cHJlc3Npb246IGZ1bmN0aW9uKGd1aWQpIHtcbiAgICBsZXQgY2hpbGQgPSB0aGlzLmVudmlyb25tZW50LmNoaWxkcmVuW2d1aWRdLFxuICAgICAgcHJvZ3JhbVBhcmFtcyA9IFtjaGlsZC5pbmRleCwgJ2RhdGEnLCBjaGlsZC5ibG9ja1BhcmFtc107XG5cbiAgICBpZiAodGhpcy51c2VCbG9ja1BhcmFtcyB8fCB0aGlzLnVzZURlcHRocykge1xuICAgICAgcHJvZ3JhbVBhcmFtcy5wdXNoKCdibG9ja1BhcmFtcycpO1xuICAgIH1cbiAgICBpZiAodGhpcy51c2VEZXB0aHMpIHtcbiAgICAgIHByb2dyYW1QYXJhbXMucHVzaCgnZGVwdGhzJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuICdjb250YWluZXIucHJvZ3JhbSgnICsgcHJvZ3JhbVBhcmFtcy5qb2luKCcsICcpICsgJyknO1xuICB9LFxuXG4gIHVzZVJlZ2lzdGVyOiBmdW5jdGlvbihuYW1lKSB7XG4gICAgaWYgKCF0aGlzLnJlZ2lzdGVyc1tuYW1lXSkge1xuICAgICAgdGhpcy5yZWdpc3RlcnNbbmFtZV0gPSB0cnVlO1xuICAgICAgdGhpcy5yZWdpc3RlcnMubGlzdC5wdXNoKG5hbWUpO1xuICAgIH1cbiAgfSxcblxuICBwdXNoOiBmdW5jdGlvbihleHByKSB7XG4gICAgaWYgKCEoZXhwciBpbnN0YW5jZW9mIExpdGVyYWwpKSB7XG4gICAgICBleHByID0gdGhpcy5zb3VyY2Uud3JhcChleHByKTtcbiAgICB9XG5cbiAgICB0aGlzLmlubGluZVN0YWNrLnB1c2goZXhwcik7XG4gICAgcmV0dXJuIGV4cHI7XG4gIH0sXG5cbiAgcHVzaFN0YWNrTGl0ZXJhbDogZnVuY3Rpb24oaXRlbSkge1xuICAgIHRoaXMucHVzaChuZXcgTGl0ZXJhbChpdGVtKSk7XG4gIH0sXG5cbiAgcHVzaFNvdXJjZTogZnVuY3Rpb24oc291cmNlKSB7XG4gICAgaWYgKHRoaXMucGVuZGluZ0NvbnRlbnQpIHtcbiAgICAgIHRoaXMuc291cmNlLnB1c2goXG4gICAgICAgIHRoaXMuYXBwZW5kVG9CdWZmZXIoXG4gICAgICAgICAgdGhpcy5zb3VyY2UucXVvdGVkU3RyaW5nKHRoaXMucGVuZGluZ0NvbnRlbnQpLFxuICAgICAgICAgIHRoaXMucGVuZGluZ0xvY2F0aW9uXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgICB0aGlzLnBlbmRpbmdDb250ZW50ID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGlmIChzb3VyY2UpIHtcbiAgICAgIHRoaXMuc291cmNlLnB1c2goc291cmNlKTtcbiAgICB9XG4gIH0sXG5cbiAgcmVwbGFjZVN0YWNrOiBmdW5jdGlvbihjYWxsYmFjaykge1xuICAgIGxldCBwcmVmaXggPSBbJygnXSxcbiAgICAgIHN0YWNrLFxuICAgICAgY3JlYXRlZFN0YWNrLFxuICAgICAgdXNlZExpdGVyYWw7XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIGlmICghdGhpcy5pc0lubGluZSgpKSB7XG4gICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKCdyZXBsYWNlU3RhY2sgb24gbm9uLWlubGluZScpO1xuICAgIH1cblxuICAgIC8vIFdlIHdhbnQgdG8gbWVyZ2UgdGhlIGlubGluZSBzdGF0ZW1lbnQgaW50byB0aGUgcmVwbGFjZW1lbnQgc3RhdGVtZW50IHZpYSAnLCdcbiAgICBsZXQgdG9wID0gdGhpcy5wb3BTdGFjayh0cnVlKTtcblxuICAgIGlmICh0b3AgaW5zdGFuY2VvZiBMaXRlcmFsKSB7XG4gICAgICAvLyBMaXRlcmFscyBkbyBub3QgbmVlZCB0byBiZSBpbmxpbmVkXG4gICAgICBzdGFjayA9IFt0b3AudmFsdWVdO1xuICAgICAgcHJlZml4ID0gWycoJywgc3RhY2tdO1xuICAgICAgdXNlZExpdGVyYWwgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBHZXQgb3IgY3JlYXRlIHRoZSBjdXJyZW50IHN0YWNrIG5hbWUgZm9yIHVzZSBieSB0aGUgaW5saW5lXG4gICAgICBjcmVhdGVkU3RhY2sgPSB0cnVlO1xuICAgICAgbGV0IG5hbWUgPSB0aGlzLmluY3JTdGFjaygpO1xuXG4gICAgICBwcmVmaXggPSBbJygoJywgdGhpcy5wdXNoKG5hbWUpLCAnID0gJywgdG9wLCAnKSddO1xuICAgICAgc3RhY2sgPSB0aGlzLnRvcFN0YWNrKCk7XG4gICAgfVxuXG4gICAgbGV0IGl0ZW0gPSBjYWxsYmFjay5jYWxsKHRoaXMsIHN0YWNrKTtcblxuICAgIGlmICghdXNlZExpdGVyYWwpIHtcbiAgICAgIHRoaXMucG9wU3RhY2soKTtcbiAgICB9XG4gICAgaWYgKGNyZWF0ZWRTdGFjaykge1xuICAgICAgdGhpcy5zdGFja1Nsb3QtLTtcbiAgICB9XG4gICAgdGhpcy5wdXNoKHByZWZpeC5jb25jYXQoaXRlbSwgJyknKSk7XG4gIH0sXG5cbiAgaW5jclN0YWNrOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnN0YWNrU2xvdCsrO1xuICAgIGlmICh0aGlzLnN0YWNrU2xvdCA+IHRoaXMuc3RhY2tWYXJzLmxlbmd0aCkge1xuICAgICAgdGhpcy5zdGFja1ZhcnMucHVzaCgnc3RhY2snICsgdGhpcy5zdGFja1Nsb3QpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy50b3BTdGFja05hbWUoKTtcbiAgfSxcbiAgdG9wU3RhY2tOYW1lOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gJ3N0YWNrJyArIHRoaXMuc3RhY2tTbG90O1xuICB9LFxuICBmbHVzaElubGluZTogZnVuY3Rpb24oKSB7XG4gICAgbGV0IGlubGluZVN0YWNrID0gdGhpcy5pbmxpbmVTdGFjaztcbiAgICB0aGlzLmlubGluZVN0YWNrID0gW107XG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGlubGluZVN0YWNrLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBsZXQgZW50cnkgPSBpbmxpbmVTdGFja1tpXTtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKGVudHJ5IGluc3RhbmNlb2YgTGl0ZXJhbCkge1xuICAgICAgICB0aGlzLmNvbXBpbGVTdGFjay5wdXNoKGVudHJ5KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCBzdGFjayA9IHRoaXMuaW5jclN0YWNrKCk7XG4gICAgICAgIHRoaXMucHVzaFNvdXJjZShbc3RhY2ssICcgPSAnLCBlbnRyeSwgJzsnXSk7XG4gICAgICAgIHRoaXMuY29tcGlsZVN0YWNrLnB1c2goc3RhY2spO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgaXNJbmxpbmU6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmlubGluZVN0YWNrLmxlbmd0aDtcbiAgfSxcblxuICBwb3BTdGFjazogZnVuY3Rpb24od3JhcHBlZCkge1xuICAgIGxldCBpbmxpbmUgPSB0aGlzLmlzSW5saW5lKCksXG4gICAgICBpdGVtID0gKGlubGluZSA/IHRoaXMuaW5saW5lU3RhY2sgOiB0aGlzLmNvbXBpbGVTdGFjaykucG9wKCk7XG5cbiAgICBpZiAoIXdyYXBwZWQgJiYgaXRlbSBpbnN0YW5jZW9mIExpdGVyYWwpIHtcbiAgICAgIHJldHVybiBpdGVtLnZhbHVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIWlubGluZSkge1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICBpZiAoIXRoaXMuc3RhY2tTbG90KSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbignSW52YWxpZCBzdGFjayBwb3AnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0YWNrU2xvdC0tO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGl0ZW07XG4gICAgfVxuICB9LFxuXG4gIHRvcFN0YWNrOiBmdW5jdGlvbigpIHtcbiAgICBsZXQgc3RhY2sgPSB0aGlzLmlzSW5saW5lKCkgPyB0aGlzLmlubGluZVN0YWNrIDogdGhpcy5jb21waWxlU3RhY2ssXG4gICAgICBpdGVtID0gc3RhY2tbc3RhY2subGVuZ3RoIC0gMV07XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIExpdGVyYWwpIHtcbiAgICAgIHJldHVybiBpdGVtLnZhbHVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gaXRlbTtcbiAgICB9XG4gIH0sXG5cbiAgY29udGV4dE5hbWU6IGZ1bmN0aW9uKGNvbnRleHQpIHtcbiAgICBpZiAodGhpcy51c2VEZXB0aHMgJiYgY29udGV4dCkge1xuICAgICAgcmV0dXJuICdkZXB0aHNbJyArIGNvbnRleHQgKyAnXSc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAnZGVwdGgnICsgY29udGV4dDtcbiAgICB9XG4gIH0sXG5cbiAgcXVvdGVkU3RyaW5nOiBmdW5jdGlvbihzdHIpIHtcbiAgICByZXR1cm4gdGhpcy5zb3VyY2UucXVvdGVkU3RyaW5nKHN0cik7XG4gIH0sXG5cbiAgb2JqZWN0TGl0ZXJhbDogZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuIHRoaXMuc291cmNlLm9iamVjdExpdGVyYWwob2JqKTtcbiAgfSxcblxuICBhbGlhc2FibGU6IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICBsZXQgcmV0ID0gdGhpcy5hbGlhc2VzW25hbWVdO1xuICAgIGlmIChyZXQpIHtcbiAgICAgIHJldC5yZWZlcmVuY2VDb3VudCsrO1xuICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG5cbiAgICByZXQgPSB0aGlzLmFsaWFzZXNbbmFtZV0gPSB0aGlzLnNvdXJjZS53cmFwKG5hbWUpO1xuICAgIHJldC5hbGlhc2FibGUgPSB0cnVlO1xuICAgIHJldC5yZWZlcmVuY2VDb3VudCA9IDE7XG5cbiAgICByZXR1cm4gcmV0O1xuICB9LFxuXG4gIHNldHVwSGVscGVyOiBmdW5jdGlvbihwYXJhbVNpemUsIG5hbWUsIGJsb2NrSGVscGVyKSB7XG4gICAgbGV0IHBhcmFtcyA9IFtdLFxuICAgICAgcGFyYW1zSW5pdCA9IHRoaXMuc2V0dXBIZWxwZXJBcmdzKG5hbWUsIHBhcmFtU2l6ZSwgcGFyYW1zLCBibG9ja0hlbHBlcik7XG4gICAgbGV0IGZvdW5kSGVscGVyID0gdGhpcy5uYW1lTG9va3VwKCdoZWxwZXJzJywgbmFtZSwgJ2hlbHBlcicpLFxuICAgICAgY2FsbENvbnRleHQgPSB0aGlzLmFsaWFzYWJsZShcbiAgICAgICAgYCR7dGhpcy5jb250ZXh0TmFtZSgwKX0gIT0gbnVsbCA/ICR7dGhpcy5jb250ZXh0TmFtZShcbiAgICAgICAgICAwXG4gICAgICAgICl9IDogKGNvbnRhaW5lci5udWxsQ29udGV4dCB8fCB7fSlgXG4gICAgICApO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHBhcmFtczogcGFyYW1zLFxuICAgICAgcGFyYW1zSW5pdDogcGFyYW1zSW5pdCxcbiAgICAgIG5hbWU6IGZvdW5kSGVscGVyLFxuICAgICAgY2FsbFBhcmFtczogW2NhbGxDb250ZXh0XS5jb25jYXQocGFyYW1zKVxuICAgIH07XG4gIH0sXG5cbiAgc2V0dXBQYXJhbXM6IGZ1bmN0aW9uKGhlbHBlciwgcGFyYW1TaXplLCBwYXJhbXMpIHtcbiAgICBsZXQgb3B0aW9ucyA9IHt9LFxuICAgICAgY29udGV4dHMgPSBbXSxcbiAgICAgIHR5cGVzID0gW10sXG4gICAgICBpZHMgPSBbXSxcbiAgICAgIG9iamVjdEFyZ3MgPSAhcGFyYW1zLFxuICAgICAgcGFyYW07XG5cbiAgICBpZiAob2JqZWN0QXJncykge1xuICAgICAgcGFyYW1zID0gW107XG4gICAgfVxuXG4gICAgb3B0aW9ucy5uYW1lID0gdGhpcy5xdW90ZWRTdHJpbmcoaGVscGVyKTtcbiAgICBvcHRpb25zLmhhc2ggPSB0aGlzLnBvcFN0YWNrKCk7XG5cbiAgICBpZiAodGhpcy50cmFja0lkcykge1xuICAgICAgb3B0aW9ucy5oYXNoSWRzID0gdGhpcy5wb3BTdGFjaygpO1xuICAgIH1cbiAgICBpZiAodGhpcy5zdHJpbmdQYXJhbXMpIHtcbiAgICAgIG9wdGlvbnMuaGFzaFR5cGVzID0gdGhpcy5wb3BTdGFjaygpO1xuICAgICAgb3B0aW9ucy5oYXNoQ29udGV4dHMgPSB0aGlzLnBvcFN0YWNrKCk7XG4gICAgfVxuXG4gICAgbGV0IGludmVyc2UgPSB0aGlzLnBvcFN0YWNrKCksXG4gICAgICBwcm9ncmFtID0gdGhpcy5wb3BTdGFjaygpO1xuXG4gICAgLy8gQXZvaWQgc2V0dGluZyBmbiBhbmQgaW52ZXJzZSBpZiBuZWl0aGVyIGFyZSBzZXQuIFRoaXMgYWxsb3dzXG4gICAgLy8gaGVscGVycyB0byBkbyBhIGNoZWNrIGZvciBgaWYgKG9wdGlvbnMuZm4pYFxuICAgIGlmIChwcm9ncmFtIHx8IGludmVyc2UpIHtcbiAgICAgIG9wdGlvbnMuZm4gPSBwcm9ncmFtIHx8ICdjb250YWluZXIubm9vcCc7XG4gICAgICBvcHRpb25zLmludmVyc2UgPSBpbnZlcnNlIHx8ICdjb250YWluZXIubm9vcCc7XG4gICAgfVxuXG4gICAgLy8gVGhlIHBhcmFtZXRlcnMgZ28gb24gdG8gdGhlIHN0YWNrIGluIG9yZGVyIChtYWtpbmcgc3VyZSB0aGF0IHRoZXkgYXJlIGV2YWx1YXRlZCBpbiBvcmRlcilcbiAgICAvLyBzbyB3ZSBuZWVkIHRvIHBvcCB0aGVtIG9mZiB0aGUgc3RhY2sgaW4gcmV2ZXJzZSBvcmRlclxuICAgIGxldCBpID0gcGFyYW1TaXplO1xuICAgIHdoaWxlIChpLS0pIHtcbiAgICAgIHBhcmFtID0gdGhpcy5wb3BTdGFjaygpO1xuICAgICAgcGFyYW1zW2ldID0gcGFyYW07XG5cbiAgICAgIGlmICh0aGlzLnRyYWNrSWRzKSB7XG4gICAgICAgIGlkc1tpXSA9IHRoaXMucG9wU3RhY2soKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnN0cmluZ1BhcmFtcykge1xuICAgICAgICB0eXBlc1tpXSA9IHRoaXMucG9wU3RhY2soKTtcbiAgICAgICAgY29udGV4dHNbaV0gPSB0aGlzLnBvcFN0YWNrKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG9iamVjdEFyZ3MpIHtcbiAgICAgIG9wdGlvbnMuYXJncyA9IHRoaXMuc291cmNlLmdlbmVyYXRlQXJyYXkocGFyYW1zKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy50cmFja0lkcykge1xuICAgICAgb3B0aW9ucy5pZHMgPSB0aGlzLnNvdXJjZS5nZW5lcmF0ZUFycmF5KGlkcyk7XG4gICAgfVxuICAgIGlmICh0aGlzLnN0cmluZ1BhcmFtcykge1xuICAgICAgb3B0aW9ucy50eXBlcyA9IHRoaXMuc291cmNlLmdlbmVyYXRlQXJyYXkodHlwZXMpO1xuICAgICAgb3B0aW9ucy5jb250ZXh0cyA9IHRoaXMuc291cmNlLmdlbmVyYXRlQXJyYXkoY29udGV4dHMpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLm9wdGlvbnMuZGF0YSkge1xuICAgICAgb3B0aW9ucy5kYXRhID0gJ2RhdGEnO1xuICAgIH1cbiAgICBpZiAodGhpcy51c2VCbG9ja1BhcmFtcykge1xuICAgICAgb3B0aW9ucy5ibG9ja1BhcmFtcyA9ICdibG9ja1BhcmFtcyc7XG4gICAgfVxuICAgIHJldHVybiBvcHRpb25zO1xuICB9LFxuXG4gIHNldHVwSGVscGVyQXJnczogZnVuY3Rpb24oaGVscGVyLCBwYXJhbVNpemUsIHBhcmFtcywgdXNlUmVnaXN0ZXIpIHtcbiAgICBsZXQgb3B0aW9ucyA9IHRoaXMuc2V0dXBQYXJhbXMoaGVscGVyLCBwYXJhbVNpemUsIHBhcmFtcyk7XG4gICAgb3B0aW9ucy5sb2MgPSBKU09OLnN0cmluZ2lmeSh0aGlzLnNvdXJjZS5jdXJyZW50TG9jYXRpb24pO1xuICAgIG9wdGlvbnMgPSB0aGlzLm9iamVjdExpdGVyYWwob3B0aW9ucyk7XG4gICAgaWYgKHVzZVJlZ2lzdGVyKSB7XG4gICAgICB0aGlzLnVzZVJlZ2lzdGVyKCdvcHRpb25zJyk7XG4gICAgICBwYXJhbXMucHVzaCgnb3B0aW9ucycpO1xuICAgICAgcmV0dXJuIFsnb3B0aW9ucz0nLCBvcHRpb25zXTtcbiAgICB9IGVsc2UgaWYgKHBhcmFtcykge1xuICAgICAgcGFyYW1zLnB1c2gob3B0aW9ucyk7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBvcHRpb25zO1xuICAgIH1cbiAgfVxufTtcblxuKGZ1bmN0aW9uKCkge1xuICBjb25zdCByZXNlcnZlZFdvcmRzID0gKFxuICAgICdicmVhayBlbHNlIG5ldyB2YXInICtcbiAgICAnIGNhc2UgZmluYWxseSByZXR1cm4gdm9pZCcgK1xuICAgICcgY2F0Y2ggZm9yIHN3aXRjaCB3aGlsZScgK1xuICAgICcgY29udGludWUgZnVuY3Rpb24gdGhpcyB3aXRoJyArXG4gICAgJyBkZWZhdWx0IGlmIHRocm93JyArXG4gICAgJyBkZWxldGUgaW4gdHJ5JyArXG4gICAgJyBkbyBpbnN0YW5jZW9mIHR5cGVvZicgK1xuICAgICcgYWJzdHJhY3QgZW51bSBpbnQgc2hvcnQnICtcbiAgICAnIGJvb2xlYW4gZXhwb3J0IGludGVyZmFjZSBzdGF0aWMnICtcbiAgICAnIGJ5dGUgZXh0ZW5kcyBsb25nIHN1cGVyJyArXG4gICAgJyBjaGFyIGZpbmFsIG5hdGl2ZSBzeW5jaHJvbml6ZWQnICtcbiAgICAnIGNsYXNzIGZsb2F0IHBhY2thZ2UgdGhyb3dzJyArXG4gICAgJyBjb25zdCBnb3RvIHByaXZhdGUgdHJhbnNpZW50JyArXG4gICAgJyBkZWJ1Z2dlciBpbXBsZW1lbnRzIHByb3RlY3RlZCB2b2xhdGlsZScgK1xuICAgICcgZG91YmxlIGltcG9ydCBwdWJsaWMgbGV0IHlpZWxkIGF3YWl0JyArXG4gICAgJyBudWxsIHRydWUgZmFsc2UnXG4gICkuc3BsaXQoJyAnKTtcblxuICBjb25zdCBjb21waWxlcldvcmRzID0gKEphdmFTY3JpcHRDb21waWxlci5SRVNFUlZFRF9XT1JEUyA9IHt9KTtcblxuICBmb3IgKGxldCBpID0gMCwgbCA9IHJlc2VydmVkV29yZHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgY29tcGlsZXJXb3Jkc1tyZXNlcnZlZFdvcmRzW2ldXSA9IHRydWU7XG4gIH1cbn0pKCk7XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQgTWF5IGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgdmVyc2lvblxuICovXG5KYXZhU2NyaXB0Q29tcGlsZXIuaXNWYWxpZEphdmFTY3JpcHRWYXJpYWJsZU5hbWUgPSBmdW5jdGlvbihuYW1lKSB7XG4gIHJldHVybiAoXG4gICAgIUphdmFTY3JpcHRDb21waWxlci5SRVNFUlZFRF9XT1JEU1tuYW1lXSAmJlxuICAgIC9eW2EtekEtWl8kXVswLTlhLXpBLVpfJF0qJC8udGVzdChuYW1lKVxuICApO1xufTtcblxuZnVuY3Rpb24gc3RyaWN0TG9va3VwKHJlcXVpcmVUZXJtaW5hbCwgY29tcGlsZXIsIHBhcnRzLCB0eXBlKSB7XG4gIGxldCBzdGFjayA9IGNvbXBpbGVyLnBvcFN0YWNrKCksXG4gICAgaSA9IDAsXG4gICAgbGVuID0gcGFydHMubGVuZ3RoO1xuICBpZiAocmVxdWlyZVRlcm1pbmFsKSB7XG4gICAgbGVuLS07XG4gIH1cblxuICBmb3IgKDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgc3RhY2sgPSBjb21waWxlci5uYW1lTG9va3VwKHN0YWNrLCBwYXJ0c1tpXSwgdHlwZSk7XG4gIH1cblxuICBpZiAocmVxdWlyZVRlcm1pbmFsKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIGNvbXBpbGVyLmFsaWFzYWJsZSgnY29udGFpbmVyLnN0cmljdCcpLFxuICAgICAgJygnLFxuICAgICAgc3RhY2ssXG4gICAgICAnLCAnLFxuICAgICAgY29tcGlsZXIucXVvdGVkU3RyaW5nKHBhcnRzW2ldKSxcbiAgICAgICcsICcsXG4gICAgICBKU09OLnN0cmluZ2lmeShjb21waWxlci5zb3VyY2UuY3VycmVudExvY2F0aW9uKSxcbiAgICAgICcgKSdcbiAgICBdO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBzdGFjaztcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBKYXZhU2NyaXB0Q29tcGlsZXI7XG4iLCAiaW1wb3J0IHJ1bnRpbWUgZnJvbSAnLi9oYW5kbGViYXJzLnJ1bnRpbWUnO1xuXG4vLyBDb21waWxlciBpbXBvcnRzXG5pbXBvcnQgQVNUIGZyb20gJy4vaGFuZGxlYmFycy9jb21waWxlci9hc3QnO1xuaW1wb3J0IHtcbiAgcGFyc2VyIGFzIFBhcnNlcixcbiAgcGFyc2UsXG4gIHBhcnNlV2l0aG91dFByb2Nlc3Npbmdcbn0gZnJvbSAnLi9oYW5kbGViYXJzL2NvbXBpbGVyL2Jhc2UnO1xuaW1wb3J0IHsgQ29tcGlsZXIsIGNvbXBpbGUsIHByZWNvbXBpbGUgfSBmcm9tICcuL2hhbmRsZWJhcnMvY29tcGlsZXIvY29tcGlsZXInO1xuaW1wb3J0IEphdmFTY3JpcHRDb21waWxlciBmcm9tICcuL2hhbmRsZWJhcnMvY29tcGlsZXIvamF2YXNjcmlwdC1jb21waWxlcic7XG5pbXBvcnQgVmlzaXRvciBmcm9tICcuL2hhbmRsZWJhcnMvY29tcGlsZXIvdmlzaXRvcic7XG5cbmltcG9ydCBub0NvbmZsaWN0IGZyb20gJy4vaGFuZGxlYmFycy9uby1jb25mbGljdCc7XG5cbmxldCBfY3JlYXRlID0gcnVudGltZS5jcmVhdGU7XG5mdW5jdGlvbiBjcmVhdGUoKSB7XG4gIGxldCBoYiA9IF9jcmVhdGUoKTtcblxuICBoYi5jb21waWxlID0gZnVuY3Rpb24oaW5wdXQsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gY29tcGlsZShpbnB1dCwgb3B0aW9ucywgaGIpO1xuICB9O1xuICBoYi5wcmVjb21waWxlID0gZnVuY3Rpb24oaW5wdXQsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gcHJlY29tcGlsZShpbnB1dCwgb3B0aW9ucywgaGIpO1xuICB9O1xuXG4gIGhiLkFTVCA9IEFTVDtcbiAgaGIuQ29tcGlsZXIgPSBDb21waWxlcjtcbiAgaGIuSmF2YVNjcmlwdENvbXBpbGVyID0gSmF2YVNjcmlwdENvbXBpbGVyO1xuICBoYi5QYXJzZXIgPSBQYXJzZXI7XG4gIGhiLnBhcnNlID0gcGFyc2U7XG4gIGhiLnBhcnNlV2l0aG91dFByb2Nlc3NpbmcgPSBwYXJzZVdpdGhvdXRQcm9jZXNzaW5nO1xuXG4gIHJldHVybiBoYjtcbn1cblxubGV0IGluc3QgPSBjcmVhdGUoKTtcbmluc3QuY3JlYXRlID0gY3JlYXRlO1xuXG5ub0NvbmZsaWN0KGluc3QpO1xuXG5pbnN0LlZpc2l0b3IgPSBWaXNpdG9yO1xuXG5pbnN0WydkZWZhdWx0J10gPSBpbnN0O1xuXG5leHBvcnQgZGVmYXVsdCBpbnN0O1xuIiwgIi8qIGVzbGludC1kaXNhYmxlIG5ldy1jYXAgKi9cbmltcG9ydCBWaXNpdG9yIGZyb20gJy4vdmlzaXRvcic7XG5cbmV4cG9ydCBmdW5jdGlvbiBwcmludChhc3QpIHtcbiAgcmV0dXJuIG5ldyBQcmludFZpc2l0b3IoKS5hY2NlcHQoYXN0KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFByaW50VmlzaXRvcigpIHtcbiAgdGhpcy5wYWRkaW5nID0gMDtcbn1cblxuUHJpbnRWaXNpdG9yLnByb3RvdHlwZSA9IG5ldyBWaXNpdG9yKCk7XG5cblByaW50VmlzaXRvci5wcm90b3R5cGUucGFkID0gZnVuY3Rpb24oc3RyaW5nKSB7XG4gIGxldCBvdXQgPSAnJztcblxuICBmb3IgKGxldCBpID0gMCwgbCA9IHRoaXMucGFkZGluZzsgaSA8IGw7IGkrKykge1xuICAgIG91dCArPSAnICAnO1xuICB9XG5cbiAgb3V0ICs9IHN0cmluZyArICdcXG4nO1xuICByZXR1cm4gb3V0O1xufTtcblxuUHJpbnRWaXNpdG9yLnByb3RvdHlwZS5Qcm9ncmFtID0gZnVuY3Rpb24ocHJvZ3JhbSkge1xuICBsZXQgb3V0ID0gJycsXG4gICAgYm9keSA9IHByb2dyYW0uYm9keSxcbiAgICBpLFxuICAgIGw7XG5cbiAgaWYgKHByb2dyYW0uYmxvY2tQYXJhbXMpIHtcbiAgICBsZXQgYmxvY2tQYXJhbXMgPSAnQkxPQ0sgUEFSQU1TOiBbJztcbiAgICBmb3IgKGkgPSAwLCBsID0gcHJvZ3JhbS5ibG9ja1BhcmFtcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIGJsb2NrUGFyYW1zICs9ICcgJyArIHByb2dyYW0uYmxvY2tQYXJhbXNbaV07XG4gICAgfVxuICAgIGJsb2NrUGFyYW1zICs9ICcgXSc7XG4gICAgb3V0ICs9IHRoaXMucGFkKGJsb2NrUGFyYW1zKTtcbiAgfVxuXG4gIGZvciAoaSA9IDAsIGwgPSBib2R5Lmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIG91dCArPSB0aGlzLmFjY2VwdChib2R5W2ldKTtcbiAgfVxuXG4gIHRoaXMucGFkZGluZy0tO1xuXG4gIHJldHVybiBvdXQ7XG59O1xuXG5QcmludFZpc2l0b3IucHJvdG90eXBlLk11c3RhY2hlU3RhdGVtZW50ID0gZnVuY3Rpb24obXVzdGFjaGUpIHtcbiAgcmV0dXJuIHRoaXMucGFkKCd7eyAnICsgdGhpcy5TdWJFeHByZXNzaW9uKG11c3RhY2hlKSArICcgfX0nKTtcbn07XG5QcmludFZpc2l0b3IucHJvdG90eXBlLkRlY29yYXRvciA9IGZ1bmN0aW9uKG11c3RhY2hlKSB7XG4gIHJldHVybiB0aGlzLnBhZCgne3sgRElSRUNUSVZFICcgKyB0aGlzLlN1YkV4cHJlc3Npb24obXVzdGFjaGUpICsgJyB9fScpO1xufTtcblxuUHJpbnRWaXNpdG9yLnByb3RvdHlwZS5CbG9ja1N0YXRlbWVudCA9IFByaW50VmlzaXRvci5wcm90b3R5cGUuRGVjb3JhdG9yQmxvY2sgPSBmdW5jdGlvbihcbiAgYmxvY2tcbikge1xuICBsZXQgb3V0ID0gJyc7XG5cbiAgb3V0ICs9IHRoaXMucGFkKFxuICAgIChibG9jay50eXBlID09PSAnRGVjb3JhdG9yQmxvY2snID8gJ0RJUkVDVElWRSAnIDogJycpICsgJ0JMT0NLOidcbiAgKTtcbiAgdGhpcy5wYWRkaW5nKys7XG4gIG91dCArPSB0aGlzLnBhZCh0aGlzLlN1YkV4cHJlc3Npb24oYmxvY2spKTtcbiAgaWYgKGJsb2NrLnByb2dyYW0pIHtcbiAgICBvdXQgKz0gdGhpcy5wYWQoJ1BST0dSQU06Jyk7XG4gICAgdGhpcy5wYWRkaW5nKys7XG4gICAgb3V0ICs9IHRoaXMuYWNjZXB0KGJsb2NrLnByb2dyYW0pO1xuICAgIHRoaXMucGFkZGluZy0tO1xuICB9XG4gIGlmIChibG9jay5pbnZlcnNlKSB7XG4gICAgaWYgKGJsb2NrLnByb2dyYW0pIHtcbiAgICAgIHRoaXMucGFkZGluZysrO1xuICAgIH1cbiAgICBvdXQgKz0gdGhpcy5wYWQoJ3t7Xn19Jyk7XG4gICAgdGhpcy5wYWRkaW5nKys7XG4gICAgb3V0ICs9IHRoaXMuYWNjZXB0KGJsb2NrLmludmVyc2UpO1xuICAgIHRoaXMucGFkZGluZy0tO1xuICAgIGlmIChibG9jay5wcm9ncmFtKSB7XG4gICAgICB0aGlzLnBhZGRpbmctLTtcbiAgICB9XG4gIH1cbiAgdGhpcy5wYWRkaW5nLS07XG5cbiAgcmV0dXJuIG91dDtcbn07XG5cblByaW50VmlzaXRvci5wcm90b3R5cGUuUGFydGlhbFN0YXRlbWVudCA9IGZ1bmN0aW9uKHBhcnRpYWwpIHtcbiAgbGV0IGNvbnRlbnQgPSAnUEFSVElBTDonICsgcGFydGlhbC5uYW1lLm9yaWdpbmFsO1xuICBpZiAocGFydGlhbC5wYXJhbXNbMF0pIHtcbiAgICBjb250ZW50ICs9ICcgJyArIHRoaXMuYWNjZXB0KHBhcnRpYWwucGFyYW1zWzBdKTtcbiAgfVxuICBpZiAocGFydGlhbC5oYXNoKSB7XG4gICAgY29udGVudCArPSAnICcgKyB0aGlzLmFjY2VwdChwYXJ0aWFsLmhhc2gpO1xuICB9XG4gIHJldHVybiB0aGlzLnBhZCgne3s+ICcgKyBjb250ZW50ICsgJyB9fScpO1xufTtcblByaW50VmlzaXRvci5wcm90b3R5cGUuUGFydGlhbEJsb2NrU3RhdGVtZW50ID0gZnVuY3Rpb24ocGFydGlhbCkge1xuICBsZXQgY29udGVudCA9ICdQQVJUSUFMIEJMT0NLOicgKyBwYXJ0aWFsLm5hbWUub3JpZ2luYWw7XG4gIGlmIChwYXJ0aWFsLnBhcmFtc1swXSkge1xuICAgIGNvbnRlbnQgKz0gJyAnICsgdGhpcy5hY2NlcHQocGFydGlhbC5wYXJhbXNbMF0pO1xuICB9XG4gIGlmIChwYXJ0aWFsLmhhc2gpIHtcbiAgICBjb250ZW50ICs9ICcgJyArIHRoaXMuYWNjZXB0KHBhcnRpYWwuaGFzaCk7XG4gIH1cblxuICBjb250ZW50ICs9ICcgJyArIHRoaXMucGFkKCdQUk9HUkFNOicpO1xuICB0aGlzLnBhZGRpbmcrKztcbiAgY29udGVudCArPSB0aGlzLmFjY2VwdChwYXJ0aWFsLnByb2dyYW0pO1xuICB0aGlzLnBhZGRpbmctLTtcblxuICByZXR1cm4gdGhpcy5wYWQoJ3t7PiAnICsgY29udGVudCArICcgfX0nKTtcbn07XG5cblByaW50VmlzaXRvci5wcm90b3R5cGUuQ29udGVudFN0YXRlbWVudCA9IGZ1bmN0aW9uKGNvbnRlbnQpIHtcbiAgcmV0dXJuIHRoaXMucGFkKFwiQ09OVEVOVFsgJ1wiICsgY29udGVudC52YWx1ZSArIFwiJyBdXCIpO1xufTtcblxuUHJpbnRWaXNpdG9yLnByb3RvdHlwZS5Db21tZW50U3RhdGVtZW50ID0gZnVuY3Rpb24oY29tbWVudCkge1xuICByZXR1cm4gdGhpcy5wYWQoXCJ7eyEgJ1wiICsgY29tbWVudC52YWx1ZSArIFwiJyB9fVwiKTtcbn07XG5cblByaW50VmlzaXRvci5wcm90b3R5cGUuU3ViRXhwcmVzc2lvbiA9IGZ1bmN0aW9uKHNleHByKSB7XG4gIGxldCBwYXJhbXMgPSBzZXhwci5wYXJhbXMsXG4gICAgcGFyYW1TdHJpbmdzID0gW10sXG4gICAgaGFzaDtcblxuICBmb3IgKGxldCBpID0gMCwgbCA9IHBhcmFtcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBwYXJhbVN0cmluZ3MucHVzaCh0aGlzLmFjY2VwdChwYXJhbXNbaV0pKTtcbiAgfVxuXG4gIHBhcmFtcyA9ICdbJyArIHBhcmFtU3RyaW5ncy5qb2luKCcsICcpICsgJ10nO1xuXG4gIGhhc2ggPSBzZXhwci5oYXNoID8gJyAnICsgdGhpcy5hY2NlcHQoc2V4cHIuaGFzaCkgOiAnJztcblxuICByZXR1cm4gdGhpcy5hY2NlcHQoc2V4cHIucGF0aCkgKyAnICcgKyBwYXJhbXMgKyBoYXNoO1xufTtcblxuUHJpbnRWaXNpdG9yLnByb3RvdHlwZS5QYXRoRXhwcmVzc2lvbiA9IGZ1bmN0aW9uKGlkKSB7XG4gIGxldCBwYXRoID0gaWQucGFydHMuam9pbignLycpO1xuICByZXR1cm4gKGlkLmRhdGEgPyAnQCcgOiAnJykgKyAnUEFUSDonICsgcGF0aDtcbn07XG5cblByaW50VmlzaXRvci5wcm90b3R5cGUuU3RyaW5nTGl0ZXJhbCA9IGZ1bmN0aW9uKHN0cmluZykge1xuICByZXR1cm4gJ1wiJyArIHN0cmluZy52YWx1ZSArICdcIic7XG59O1xuXG5QcmludFZpc2l0b3IucHJvdG90eXBlLk51bWJlckxpdGVyYWwgPSBmdW5jdGlvbihudW1iZXIpIHtcbiAgcmV0dXJuICdOVU1CRVJ7JyArIG51bWJlci52YWx1ZSArICd9Jztcbn07XG5cblByaW50VmlzaXRvci5wcm90b3R5cGUuQm9vbGVhbkxpdGVyYWwgPSBmdW5jdGlvbihib29sKSB7XG4gIHJldHVybiAnQk9PTEVBTnsnICsgYm9vbC52YWx1ZSArICd9Jztcbn07XG5cblByaW50VmlzaXRvci5wcm90b3R5cGUuVW5kZWZpbmVkTGl0ZXJhbCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gJ1VOREVGSU5FRCc7XG59O1xuXG5QcmludFZpc2l0b3IucHJvdG90eXBlLk51bGxMaXRlcmFsID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAnTlVMTCc7XG59O1xuXG5QcmludFZpc2l0b3IucHJvdG90eXBlLkhhc2ggPSBmdW5jdGlvbihoYXNoKSB7XG4gIGxldCBwYWlycyA9IGhhc2gucGFpcnMsXG4gICAgam9pbmVkUGFpcnMgPSBbXTtcblxuICBmb3IgKGxldCBpID0gMCwgbCA9IHBhaXJzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGpvaW5lZFBhaXJzLnB1c2godGhpcy5hY2NlcHQocGFpcnNbaV0pKTtcbiAgfVxuXG4gIHJldHVybiAnSEFTSHsnICsgam9pbmVkUGFpcnMuam9pbignLCAnKSArICd9Jztcbn07XG5QcmludFZpc2l0b3IucHJvdG90eXBlLkhhc2hQYWlyID0gZnVuY3Rpb24ocGFpcikge1xuICByZXR1cm4gcGFpci5rZXkgKyAnPScgKyB0aGlzLmFjY2VwdChwYWlyLnZhbHVlKTtcbn07XG4vKiBlc2xpbnQtZW5hYmxlIG5ldy1jYXAgKi9cbiIsICIvLyBVU0FHRTpcbi8vIHZhciBoYW5kbGViYXJzID0gcmVxdWlyZSgnaGFuZGxlYmFycycpO1xuLyogZXNsaW50LWRpc2FibGUgbm8tdmFyICovXG5cbi8vIHZhciBsb2NhbCA9IGhhbmRsZWJhcnMuY3JlYXRlKCk7XG5cbnZhciBoYW5kbGViYXJzID0gcmVxdWlyZSgnLi4vZGlzdC9janMvaGFuZGxlYmFycycpWydkZWZhdWx0J107XG5cbnZhciBwcmludGVyID0gcmVxdWlyZSgnLi4vZGlzdC9janMvaGFuZGxlYmFycy9jb21waWxlci9wcmludGVyJyk7XG5oYW5kbGViYXJzLlByaW50VmlzaXRvciA9IHByaW50ZXIuUHJpbnRWaXNpdG9yO1xuaGFuZGxlYmFycy5wcmludCA9IHByaW50ZXIucHJpbnQ7XG5cbm1vZHVsZS5leHBvcnRzID0gaGFuZGxlYmFycztcblxuLy8gUHVibGlzaCBhIE5vZGUuanMgcmVxdWlyZSgpIGhhbmRsZXIgZm9yIC5oYW5kbGViYXJzIGFuZCAuaGJzIGZpbGVzXG5mdW5jdGlvbiBleHRlbnNpb24obW9kdWxlLCBmaWxlbmFtZSkge1xuICB2YXIgZnMgPSByZXF1aXJlKCdmcycpO1xuICB2YXIgdGVtcGxhdGVTdHJpbmcgPSBmcy5yZWFkRmlsZVN5bmMoZmlsZW5hbWUsICd1dGY4Jyk7XG4gIG1vZHVsZS5leHBvcnRzID0gaGFuZGxlYmFycy5jb21waWxlKHRlbXBsYXRlU3RyaW5nKTtcbn1cbi8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG5pZiAodHlwZW9mIHJlcXVpcmUgIT09ICd1bmRlZmluZWQnICYmIHJlcXVpcmUuZXh0ZW5zaW9ucykge1xuICByZXF1aXJlLmV4dGVuc2lvbnNbJy5oYW5kbGViYXJzJ10gPSBleHRlbnNpb247XG4gIHJlcXVpcmUuZXh0ZW5zaW9uc1snLmhicyddID0gZXh0ZW5zaW9uO1xufVxuIiwgImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHN0cmluZ2lmeVxuZXhwb3J0cy5nZXRTZXJpYWxpemUgPSBzZXJpYWxpemVyXG5cbmZ1bmN0aW9uIHN0cmluZ2lmeShvYmosIHJlcGxhY2VyLCBzcGFjZXMsIGN5Y2xlUmVwbGFjZXIpIHtcbiAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KG9iaiwgc2VyaWFsaXplcihyZXBsYWNlciwgY3ljbGVSZXBsYWNlciksIHNwYWNlcylcbn1cblxuZnVuY3Rpb24gc2VyaWFsaXplcihyZXBsYWNlciwgY3ljbGVSZXBsYWNlcikge1xuICB2YXIgc3RhY2sgPSBbXSwga2V5cyA9IFtdXG5cbiAgaWYgKGN5Y2xlUmVwbGFjZXIgPT0gbnVsbCkgY3ljbGVSZXBsYWNlciA9IGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgICBpZiAoc3RhY2tbMF0gPT09IHZhbHVlKSByZXR1cm4gXCJbQ2lyY3VsYXIgfl1cIlxuICAgIHJldHVybiBcIltDaXJjdWxhciB+LlwiICsga2V5cy5zbGljZSgwLCBzdGFjay5pbmRleE9mKHZhbHVlKSkuam9pbihcIi5cIikgKyBcIl1cIlxuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgICBpZiAoc3RhY2subGVuZ3RoID4gMCkge1xuICAgICAgdmFyIHRoaXNQb3MgPSBzdGFjay5pbmRleE9mKHRoaXMpXG4gICAgICB+dGhpc1BvcyA/IHN0YWNrLnNwbGljZSh0aGlzUG9zICsgMSkgOiBzdGFjay5wdXNoKHRoaXMpXG4gICAgICB+dGhpc1BvcyA/IGtleXMuc3BsaWNlKHRoaXNQb3MsIEluZmluaXR5LCBrZXkpIDoga2V5cy5wdXNoKGtleSlcbiAgICAgIGlmICh+c3RhY2suaW5kZXhPZih2YWx1ZSkpIHZhbHVlID0gY3ljbGVSZXBsYWNlci5jYWxsKHRoaXMsIGtleSwgdmFsdWUpXG4gICAgfVxuICAgIGVsc2Ugc3RhY2sucHVzaCh2YWx1ZSlcblxuICAgIHJldHVybiByZXBsYWNlciA9PSBudWxsID8gdmFsdWUgOiByZXBsYWNlci5jYWxsKHRoaXMsIGtleSwgdmFsdWUpXG4gIH1cbn1cbiIsICIndXNlIHN0cmljdCdcbmNvbnN0IGNvbnZlbnRpb25hbENvbW1pdHNGaWx0ZXIgPSByZXF1aXJlKCdjb252ZW50aW9uYWwtY29tbWl0cy1maWx0ZXInKVxuY29uc3QgSGFuZGxlYmFycyA9IHJlcXVpcmUoJ2hhbmRsZWJhcnMnKVxuY29uc3Qgc2VtdmVyID0gcmVxdWlyZSgnc2VtdmVyJylcbmNvbnN0IF8gPSByZXF1aXJlKCdsb2Rhc2gnKVxuY29uc3Qgc3RyaW5naWZ5ID0gcmVxdWlyZSgnanNvbi1zdHJpbmdpZnktc2FmZScpXG5cbmZ1bmN0aW9uIGNvbXBpbGVUZW1wbGF0ZXMgKHRlbXBsYXRlcykge1xuICBjb25zdCBtYWluID0gdGVtcGxhdGVzLm1haW5UZW1wbGF0ZVxuICBjb25zdCBoZWFkZXJQYXJ0aWFsID0gdGVtcGxhdGVzLmhlYWRlclBhcnRpYWxcbiAgY29uc3QgY29tbWl0UGFydGlhbCA9IHRlbXBsYXRlcy5jb21taXRQYXJ0aWFsXG4gIGNvbnN0IGZvb3RlclBhcnRpYWwgPSB0ZW1wbGF0ZXMuZm9vdGVyUGFydGlhbFxuICBjb25zdCBwYXJ0aWFscyA9IHRlbXBsYXRlcy5wYXJ0aWFsc1xuXG4gIGlmIChfLmlzU3RyaW5nKGhlYWRlclBhcnRpYWwpKSB7XG4gICAgSGFuZGxlYmFycy5yZWdpc3RlclBhcnRpYWwoJ2hlYWRlcicsIGhlYWRlclBhcnRpYWwpXG4gIH1cblxuICBpZiAoXy5pc1N0cmluZyhjb21taXRQYXJ0aWFsKSkge1xuICAgIEhhbmRsZWJhcnMucmVnaXN0ZXJQYXJ0aWFsKCdjb21taXQnLCBjb21taXRQYXJ0aWFsKVxuICB9XG5cbiAgaWYgKF8uaXNTdHJpbmcoZm9vdGVyUGFydGlhbCkpIHtcbiAgICBIYW5kbGViYXJzLnJlZ2lzdGVyUGFydGlhbCgnZm9vdGVyJywgZm9vdGVyUGFydGlhbClcbiAgfVxuXG4gIF8uZm9yRWFjaChwYXJ0aWFscywgZnVuY3Rpb24gKHBhcnRpYWwsIG5hbWUpIHtcbiAgICBpZiAoXy5pc1N0cmluZyhwYXJ0aWFsKSkge1xuICAgICAgSGFuZGxlYmFycy5yZWdpc3RlclBhcnRpYWwobmFtZSwgcGFydGlhbClcbiAgICB9XG4gIH0pXG5cbiAgcmV0dXJuIEhhbmRsZWJhcnMuY29tcGlsZShtYWluLCB7XG4gICAgbm9Fc2NhcGU6IHRydWVcbiAgfSlcbn1cblxuZnVuY3Rpb24gZnVuY3Rpb25pZnkgKHN0ck9yQXJyKSB7XG4gIGlmIChzdHJPckFyciAmJiAhXy5pc0Z1bmN0aW9uKHN0ck9yQXJyKSkge1xuICAgIHJldHVybiAoYSwgYikgPT4ge1xuICAgICAgbGV0IHN0cjEgPSAnJ1xuICAgICAgbGV0IHN0cjIgPSAnJ1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoc3RyT3JBcnIpKSB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIHN0ck9yQXJyKSB7XG4gICAgICAgICAgc3RyMSArPSBhW2tleV0gfHwgJydcbiAgICAgICAgICBzdHIyICs9IGJba2V5XSB8fCAnJ1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdHIxICs9IGFbc3RyT3JBcnJdXG4gICAgICAgIHN0cjIgKz0gYltzdHJPckFycl1cbiAgICAgIH1cbiAgICAgIHJldHVybiBzdHIxLmxvY2FsZUNvbXBhcmUoc3RyMilcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHN0ck9yQXJyXG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0Q29tbWl0R3JvdXBzIChncm91cEJ5LCBjb21taXRzLCBncm91cHNTb3J0LCBjb21taXRzU29ydCkge1xuICBjb25zdCBjb21taXRHcm91cHMgPSBbXVxuICBjb25zdCBjb21taXRHcm91cHNPYmogPSBfLmdyb3VwQnkoY29tbWl0cywgZnVuY3Rpb24gKGNvbW1pdCkge1xuICAgIHJldHVybiBjb21taXRbZ3JvdXBCeV0gfHwgJydcbiAgfSlcblxuICBfLmZvckVhY2goY29tbWl0R3JvdXBzT2JqLCBmdW5jdGlvbiAoY29tbWl0cywgdGl0bGUpIHtcbiAgICBpZiAodGl0bGUgPT09ICcnKSB7XG4gICAgICB0aXRsZSA9IGZhbHNlXG4gICAgfVxuXG4gICAgaWYgKGNvbW1pdHNTb3J0KSB7XG4gICAgICBjb21taXRzLnNvcnQoY29tbWl0c1NvcnQpXG4gICAgfVxuXG4gICAgY29tbWl0R3JvdXBzLnB1c2goe1xuICAgICAgdGl0bGU6IHRpdGxlLFxuICAgICAgY29tbWl0czogY29tbWl0c1xuICAgIH0pXG4gIH0pXG5cbiAgaWYgKGdyb3Vwc1NvcnQpIHtcbiAgICBjb21taXRHcm91cHMuc29ydChncm91cHNTb3J0KVxuICB9XG5cbiAgcmV0dXJuIGNvbW1pdEdyb3Vwc1xufVxuXG5mdW5jdGlvbiBnZXROb3RlR3JvdXBzIChub3Rlcywgbm90ZUdyb3Vwc1NvcnQsIG5vdGVzU29ydCkge1xuICBjb25zdCByZXRHcm91cHMgPSBbXVxuXG4gIF8uZm9yRWFjaChub3RlcywgZnVuY3Rpb24gKG5vdGUpIHtcbiAgICBjb25zdCB0aXRsZSA9IG5vdGUudGl0bGVcbiAgICBsZXQgdGl0bGVFeGlzdHMgPSBmYWxzZVxuXG4gICAgXy5mb3JFYWNoKHJldEdyb3VwcywgZnVuY3Rpb24gKGdyb3VwKSB7XG4gICAgICBpZiAoZ3JvdXAudGl0bGUgPT09IHRpdGxlKSB7XG4gICAgICAgIHRpdGxlRXhpc3RzID0gdHJ1ZVxuICAgICAgICBncm91cC5ub3Rlcy5wdXNoKG5vdGUpXG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuICAgIH0pXG5cbiAgICBpZiAoIXRpdGxlRXhpc3RzKSB7XG4gICAgICByZXRHcm91cHMucHVzaCh7XG4gICAgICAgIHRpdGxlOiB0aXRsZSxcbiAgICAgICAgbm90ZXM6IFtub3RlXVxuICAgICAgfSlcbiAgICB9XG4gIH0pXG5cbiAgaWYgKG5vdGVHcm91cHNTb3J0KSB7XG4gICAgcmV0R3JvdXBzLnNvcnQobm90ZUdyb3Vwc1NvcnQpXG4gIH1cblxuICBpZiAobm90ZXNTb3J0KSB7XG4gICAgXy5mb3JFYWNoKHJldEdyb3VwcywgZnVuY3Rpb24gKGdyb3VwKSB7XG4gICAgICBncm91cC5ub3Rlcy5zb3J0KG5vdGVzU29ydClcbiAgICB9KVxuICB9XG5cbiAgcmV0dXJuIHJldEdyb3Vwc1xufVxuXG5mdW5jdGlvbiBwcm9jZXNzQ29tbWl0IChjaHVuaywgdHJhbnNmb3JtLCBjb250ZXh0KSB7XG4gIGxldCBjb21taXRcblxuICB0cnkge1xuICAgIGNodW5rID0gSlNPTi5wYXJzZShjaHVuaylcbiAgfSBjYXRjaCAoZSkge31cblxuICBjb21taXQgPSBfLmNsb25lRGVlcChjaHVuaylcblxuICBpZiAoXy5pc0Z1bmN0aW9uKHRyYW5zZm9ybSkpIHtcbiAgICBjb21taXQgPSB0cmFuc2Zvcm0oY29tbWl0LCBjb250ZXh0KVxuXG4gICAgaWYgKGNvbW1pdCkge1xuICAgICAgY29tbWl0LnJhdyA9IGNodW5rXG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbW1pdFxuICB9XG5cbiAgXy5mb3JFYWNoKHRyYW5zZm9ybSwgZnVuY3Rpb24gKGVsLCBwYXRoKSB7XG4gICAgbGV0IHZhbHVlID0gXy5nZXQoY29tbWl0LCBwYXRoKVxuXG4gICAgaWYgKF8uaXNGdW5jdGlvbihlbCkpIHtcbiAgICAgIHZhbHVlID0gZWwodmFsdWUsIHBhdGgpXG4gICAgfSBlbHNlIHtcbiAgICAgIHZhbHVlID0gZWxcbiAgICB9XG5cbiAgICBfLnNldChjb21taXQsIHBhdGgsIHZhbHVlKVxuICB9KVxuXG4gIGNvbW1pdC5yYXcgPSBjaHVua1xuXG4gIHJldHVybiBjb21taXRcbn1cblxuZnVuY3Rpb24gZ2V0RXh0cmFDb250ZXh0IChjb21taXRzLCBub3Rlcywgb3B0aW9ucykge1xuICBjb25zdCBjb250ZXh0ID0ge31cblxuICAvLyBncm91cCBgY29tbWl0c2AgYnkgYG9wdGlvbnMuZ3JvdXBCeWBcbiAgY29udGV4dC5jb21taXRHcm91cHMgPSBnZXRDb21taXRHcm91cHMob3B0aW9ucy5ncm91cEJ5LCBjb21taXRzLCBvcHRpb25zLmNvbW1pdEdyb3Vwc1NvcnQsIG9wdGlvbnMuY29tbWl0c1NvcnQpXG5cbiAgLy8gZ3JvdXAgYG5vdGVzYCBmb3IgZm9vdGVyXG4gIGNvbnRleHQubm90ZUdyb3VwcyA9IGdldE5vdGVHcm91cHMobm90ZXMsIG9wdGlvbnMubm90ZUdyb3Vwc1NvcnQsIG9wdGlvbnMubm90ZXNTb3J0KVxuXG4gIHJldHVybiBjb250ZXh0XG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlIChvcHRpb25zLCBjb21taXRzLCBjb250ZXh0LCBrZXlDb21taXQpIHtcbiAgbGV0IG5vdGVzID0gW11cbiAgbGV0IGZpbHRlcmVkQ29tbWl0c1xuICBjb25zdCBjb21waWxlZCA9IGNvbXBpbGVUZW1wbGF0ZXMob3B0aW9ucylcblxuICBpZiAob3B0aW9ucy5pZ25vcmVSZXZlcnRlZCkge1xuICAgIGZpbHRlcmVkQ29tbWl0cyA9IGNvbnZlbnRpb25hbENvbW1pdHNGaWx0ZXIoY29tbWl0cylcbiAgfSBlbHNlIHtcbiAgICBmaWx0ZXJlZENvbW1pdHMgPSBfLmNsb25lKGNvbW1pdHMpXG4gIH1cblxuICBfLmZvckVhY2goZmlsdGVyZWRDb21taXRzLCBmdW5jdGlvbiAoY29tbWl0KSB7XG4gICAgXy5tYXAoY29tbWl0Lm5vdGVzLCBmdW5jdGlvbiAobm90ZSkge1xuICAgICAgbm90ZS5jb21taXQgPSBjb21taXRcblxuICAgICAgcmV0dXJuIG5vdGVcbiAgICB9KVxuXG4gICAgbm90ZXMgPSBub3Rlcy5jb25jYXQoY29tbWl0Lm5vdGVzKVxuICB9KVxuXG4gIGNvbnRleHQgPSBfLm1lcmdlKHt9LCBjb250ZXh0LCBrZXlDb21taXQsIGdldEV4dHJhQ29udGV4dChmaWx0ZXJlZENvbW1pdHMsIG5vdGVzLCBvcHRpb25zKSlcblxuICBpZiAoa2V5Q29tbWl0ICYmIGtleUNvbW1pdC5jb21taXR0ZXJEYXRlKSB7XG4gICAgY29udGV4dC5kYXRlID0ga2V5Q29tbWl0LmNvbW1pdHRlckRhdGVcbiAgfVxuXG4gIGlmIChjb250ZXh0LnZlcnNpb24gJiYgc2VtdmVyLnZhbGlkKGNvbnRleHQudmVyc2lvbikpIHtcbiAgICBjb250ZXh0LmlzUGF0Y2ggPSBjb250ZXh0LmlzUGF0Y2ggfHwgc2VtdmVyLnBhdGNoKGNvbnRleHQudmVyc2lvbikgIT09IDBcbiAgfVxuXG4gIGNvbnRleHQgPSBvcHRpb25zLmZpbmFsaXplQ29udGV4dChjb250ZXh0LCBvcHRpb25zLCBmaWx0ZXJlZENvbW1pdHMsIGtleUNvbW1pdCwgY29tbWl0cylcbiAgb3B0aW9ucy5kZWJ1ZygnWW91ciBmaW5hbCBjb250ZXh0IGlzOlxcbicgKyBzdHJpbmdpZnkoY29udGV4dCwgbnVsbCwgMikpXG5cbiAgcmV0dXJuIGNvbXBpbGVkKGNvbnRleHQpXG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBjb21waWxlVGVtcGxhdGVzOiBjb21waWxlVGVtcGxhdGVzLFxuICBmdW5jdGlvbmlmeTogZnVuY3Rpb25pZnksXG4gIGdldENvbW1pdEdyb3VwczogZ2V0Q29tbWl0R3JvdXBzLFxuICBnZXROb3RlR3JvdXBzOiBnZXROb3RlR3JvdXBzLFxuICBwcm9jZXNzQ29tbWl0OiBwcm9jZXNzQ29tbWl0LFxuICBnZXRFeHRyYUNvbnRleHQ6IGdldEV4dHJhQ29udGV4dCxcbiAgZ2VuZXJhdGU6IGdlbmVyYXRlXG59XG4iLCAiJ3VzZSBzdHJpY3QnXG5cbmNvbnN0IGRhdGVGb3JtYXQgPSByZXF1aXJlKCdkYXRlZm9ybWF0JylcbmNvbnN0IGpvaW4gPSByZXF1aXJlKCdwYXRoJykuam9pblxuY29uc3QgcmVhZEZpbGVTeW5jID0gcmVxdWlyZSgnZnMnKS5yZWFkRmlsZVN5bmNcbmNvbnN0IHNlbXZlclZhbGlkID0gcmVxdWlyZSgnc2VtdmVyJykudmFsaWRcbmNvbnN0IHRocm91Z2ggPSByZXF1aXJlKCd0aHJvdWdoMicpXG5jb25zdCB1dGlsID0gcmVxdWlyZSgnLi9saWIvdXRpbCcpXG5jb25zdCBfID0gcmVxdWlyZSgnbG9kYXNoJylcblxuZnVuY3Rpb24gY29udmVudGlvbmFsQ2hhbmdlbG9nV3JpdGVySW5pdCAoY29udGV4dCwgb3B0aW9ucykge1xuICBjb250ZXh0ID0gXy5leHRlbmQoe1xuICAgIGNvbW1pdDogJ2NvbW1pdHMnLFxuICAgIGlzc3VlOiAnaXNzdWVzJyxcbiAgICBkYXRlOiBkYXRlRm9ybWF0KG5ldyBEYXRlKCksICd5eXl5LW1tLWRkJywgdHJ1ZSlcbiAgfSwgY29udGV4dClcblxuICBpZiAoIV8uaXNCb29sZWFuKGNvbnRleHQubGlua1JlZmVyZW5jZXMpICYmIChjb250ZXh0LnJlcG9zaXRvcnkgfHwgY29udGV4dC5yZXBvVXJsKSAmJiBjb250ZXh0LmNvbW1pdCAmJiBjb250ZXh0Lmlzc3VlKSB7XG4gICAgY29udGV4dC5saW5rUmVmZXJlbmNlcyA9IHRydWVcbiAgfVxuXG4gIG9wdGlvbnMgPSBfLmFzc2lnbih7XG4gICAgZ3JvdXBCeTogJ3R5cGUnLFxuICAgIGNvbW1pdHNTb3J0OiAnaGVhZGVyJyxcbiAgICBub3RlR3JvdXBzU29ydDogJ3RpdGxlJyxcbiAgICBub3Rlc1NvcnQ6ICd0ZXh0JyxcbiAgICBnZW5lcmF0ZU9uOiBmdW5jdGlvbiAoY29tbWl0KSB7XG4gICAgICByZXR1cm4gc2VtdmVyVmFsaWQoY29tbWl0LnZlcnNpb24pXG4gICAgfSxcbiAgICBmaW5hbGl6ZUNvbnRleHQ6IGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICByZXR1cm4gY29udGV4dFxuICAgIH0sXG4gICAgZGVidWc6IGZ1bmN0aW9uICgpIHt9LFxuICAgIHJldmVyc2U6IGZhbHNlLFxuICAgIGluY2x1ZGVEZXRhaWxzOiBmYWxzZSxcbiAgICBpZ25vcmVSZXZlcnRlZDogdHJ1ZSxcbiAgICBkb0ZsdXNoOiB0cnVlLFxuICAgIG1haW5UZW1wbGF0ZTogcmVhZEZpbGVTeW5jKGpvaW4oX19kaXJuYW1lLCAndGVtcGxhdGVzL3RlbXBsYXRlLmhicycpLCAndXRmLTgnKSxcbiAgICBoZWFkZXJQYXJ0aWFsOiByZWFkRmlsZVN5bmMoam9pbihfX2Rpcm5hbWUsICd0ZW1wbGF0ZXMvaGVhZGVyLmhicycpLCAndXRmLTgnKSxcbiAgICBjb21taXRQYXJ0aWFsOiByZWFkRmlsZVN5bmMoam9pbihfX2Rpcm5hbWUsICd0ZW1wbGF0ZXMvY29tbWl0LmhicycpLCAndXRmLTgnKSxcbiAgICBmb290ZXJQYXJ0aWFsOiByZWFkRmlsZVN5bmMoam9pbihfX2Rpcm5hbWUsICd0ZW1wbGF0ZXMvZm9vdGVyLmhicycpLCAndXRmLTgnKVxuICB9LCBvcHRpb25zKVxuXG4gIGlmICgoIV8uaXNGdW5jdGlvbihvcHRpb25zLnRyYW5zZm9ybSkgJiYgXy5pc09iamVjdChvcHRpb25zLnRyYW5zZm9ybSkpIHx8IF8uaXNVbmRlZmluZWQob3B0aW9ucy50cmFuc2Zvcm0pKSB7XG4gICAgb3B0aW9ucy50cmFuc2Zvcm0gPSBfLmFzc2lnbih7XG4gICAgICBoYXNoOiBmdW5jdGlvbiAoaGFzaCkge1xuICAgICAgICBpZiAoXy5pc1N0cmluZyhoYXNoKSkge1xuICAgICAgICAgIHJldHVybiBoYXNoLnN1YnN0cmluZygwLCA3KVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgaGVhZGVyOiBmdW5jdGlvbiAoaGVhZGVyKSB7XG4gICAgICAgIHJldHVybiBoZWFkZXIuc3Vic3RyaW5nKDAsIDEwMClcbiAgICAgIH0sXG4gICAgICBjb21taXR0ZXJEYXRlOiBmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgICBpZiAoIWRhdGUpIHtcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBkYXRlRm9ybWF0KGRhdGUsICd5eXl5LW1tLWRkJywgdHJ1ZSlcbiAgICAgIH1cbiAgICB9LCBvcHRpb25zLnRyYW5zZm9ybSlcbiAgfVxuXG4gIGxldCBnZW5lcmF0ZU9uID0gb3B0aW9ucy5nZW5lcmF0ZU9uXG4gIGlmIChfLmlzU3RyaW5nKGdlbmVyYXRlT24pKSB7XG4gICAgZ2VuZXJhdGVPbiA9IGZ1bmN0aW9uIChjb21taXQpIHtcbiAgICAgIHJldHVybiAhXy5pc1VuZGVmaW5lZChjb21taXRbb3B0aW9ucy5nZW5lcmF0ZU9uXSlcbiAgICB9XG4gIH0gZWxzZSBpZiAoIV8uaXNGdW5jdGlvbihnZW5lcmF0ZU9uKSkge1xuICAgIGdlbmVyYXRlT24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gIH1cblxuICBvcHRpb25zLmNvbW1pdEdyb3Vwc1NvcnQgPSB1dGlsLmZ1bmN0aW9uaWZ5KG9wdGlvbnMuY29tbWl0R3JvdXBzU29ydClcbiAgb3B0aW9ucy5jb21taXRzU29ydCA9IHV0aWwuZnVuY3Rpb25pZnkob3B0aW9ucy5jb21taXRzU29ydClcbiAgb3B0aW9ucy5ub3RlR3JvdXBzU29ydCA9IHV0aWwuZnVuY3Rpb25pZnkob3B0aW9ucy5ub3RlR3JvdXBzU29ydClcbiAgb3B0aW9ucy5ub3Rlc1NvcnQgPSB1dGlsLmZ1bmN0aW9uaWZ5KG9wdGlvbnMubm90ZXNTb3J0KVxuXG4gIHJldHVybiB7IGNvbnRleHQsIG9wdGlvbnMsIGdlbmVyYXRlT24gfVxufVxuXG5mdW5jdGlvbiBjb252ZW50aW9uYWxDaGFuZ2Vsb2dXcml0ZXJQYXJzZVN0cmVhbSAoY29udGV4dCwgb3B0aW9ucykge1xuICBsZXQgZ2VuZXJhdGVPblxuICAoeyBjb250ZXh0LCBvcHRpb25zLCBnZW5lcmF0ZU9uIH0gPSBjb252ZW50aW9uYWxDaGFuZ2Vsb2dXcml0ZXJJbml0KGNvbnRleHQsIG9wdGlvbnMpKVxuICBsZXQgY29tbWl0cyA9IFtdXG4gIGxldCBuZXZlckdlbmVyYXRlZCA9IHRydWVcbiAgbGV0IHNhdmVkS2V5Q29tbWl0XG4gIGxldCBmaXJzdFJlbGVhc2UgPSB0cnVlXG4gIHJldHVybiB0aHJvdWdoLm9iaihmdW5jdGlvbiAoY2h1bmssIF9lbmMsIGNiKSB7XG4gICAgdHJ5IHtcbiAgICAgIGxldCByZXN1bHRcbiAgICAgIGNvbnN0IGNvbW1pdCA9IHV0aWwucHJvY2Vzc0NvbW1pdChjaHVuaywgb3B0aW9ucy50cmFuc2Zvcm0sIGNvbnRleHQpXG4gICAgICBjb25zdCBrZXlDb21taXQgPSBjb21taXQgfHwgY2h1bmtcblxuICAgICAgLy8gcHJldmlvdXMgYmxvY2tzIG9mIGxvZ3NcbiAgICAgIGlmIChvcHRpb25zLnJldmVyc2UpIHtcbiAgICAgICAgaWYgKGNvbW1pdCkge1xuICAgICAgICAgIGNvbW1pdHMucHVzaChjb21taXQpXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZ2VuZXJhdGVPbihrZXlDb21taXQsIGNvbW1pdHMsIGNvbnRleHQsIG9wdGlvbnMpKSB7XG4gICAgICAgICAgbmV2ZXJHZW5lcmF0ZWQgPSBmYWxzZVxuICAgICAgICAgIHJlc3VsdCA9IHV0aWwuZ2VuZXJhdGUob3B0aW9ucywgY29tbWl0cywgY29udGV4dCwga2V5Q29tbWl0KVxuICAgICAgICAgIGlmIChvcHRpb25zLmluY2x1ZGVEZXRhaWxzKSB7XG4gICAgICAgICAgICB0aGlzLnB1c2goe1xuICAgICAgICAgICAgICBsb2c6IHJlc3VsdCxcbiAgICAgICAgICAgICAga2V5Q29tbWl0OiBrZXlDb21taXRcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucHVzaChyZXN1bHQpXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29tbWl0cyA9IFtdXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChnZW5lcmF0ZU9uKGtleUNvbW1pdCwgY29tbWl0cywgY29udGV4dCwgb3B0aW9ucykpIHtcbiAgICAgICAgICBuZXZlckdlbmVyYXRlZCA9IGZhbHNlXG4gICAgICAgICAgcmVzdWx0ID0gdXRpbC5nZW5lcmF0ZShvcHRpb25zLCBjb21taXRzLCBjb250ZXh0LCBzYXZlZEtleUNvbW1pdClcblxuICAgICAgICAgIGlmICghZmlyc3RSZWxlYXNlIHx8IG9wdGlvbnMuZG9GbHVzaCkge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMuaW5jbHVkZURldGFpbHMpIHtcbiAgICAgICAgICAgICAgdGhpcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBsb2c6IHJlc3VsdCxcbiAgICAgICAgICAgICAgICBrZXlDb21taXQ6IHNhdmVkS2V5Q29tbWl0XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0aGlzLnB1c2gocmVzdWx0KVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGZpcnN0UmVsZWFzZSA9IGZhbHNlXG4gICAgICAgICAgY29tbWl0cyA9IFtdXG4gICAgICAgICAgc2F2ZWRLZXlDb21taXQgPSBrZXlDb21taXRcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb21taXQpIHtcbiAgICAgICAgICBjb21taXRzLnB1c2goY29tbWl0KVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNiKClcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNiKGVycilcbiAgICB9XG4gIH0sIGZ1bmN0aW9uIChjYikge1xuICAgIGlmICghb3B0aW9ucy5kb0ZsdXNoICYmIChvcHRpb25zLnJldmVyc2UgfHwgbmV2ZXJHZW5lcmF0ZWQpKSB7XG4gICAgICBjYihudWxsKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHV0aWwuZ2VuZXJhdGUob3B0aW9ucywgY29tbWl0cywgY29udGV4dCwgc2F2ZWRLZXlDb21taXQpXG5cbiAgICAgIGlmIChvcHRpb25zLmluY2x1ZGVEZXRhaWxzKSB7XG4gICAgICAgIHRoaXMucHVzaCh7XG4gICAgICAgICAgbG9nOiByZXN1bHQsXG4gICAgICAgICAga2V5Q29tbWl0OiBzYXZlZEtleUNvbW1pdFxuICAgICAgICB9KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5wdXNoKHJlc3VsdClcbiAgICAgIH1cblxuICAgICAgY2IoKVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY2IoZXJyKVxuICAgIH1cbiAgfSlcbn1cblxuLypcbiAqIEdpdmVuIGFuIGFycmF5IG9mIGNvbW1pdHMsIHJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50aW5nIGEgQ0hBTkdFTE9HIGVudHJ5LlxuICovXG5jb252ZW50aW9uYWxDaGFuZ2Vsb2dXcml0ZXJQYXJzZVN0cmVhbS5wYXJzZUFycmF5ID0gKHJhd0NvbW1pdHMsIGNvbnRleHQsIG9wdGlvbnMpID0+IHtcbiAgbGV0IGdlbmVyYXRlT25cbiAgcmF3Q29tbWl0cyA9IFsuLi5yYXdDb21taXRzXTtcbiAgKHsgY29udGV4dCwgb3B0aW9ucywgZ2VuZXJhdGVPbiB9ID0gY29udmVudGlvbmFsQ2hhbmdlbG9nV3JpdGVySW5pdChjb250ZXh0LCBvcHRpb25zKSlcbiAgbGV0IGNvbW1pdHMgPSBbXVxuICBsZXQgc2F2ZWRLZXlDb21taXRcbiAgaWYgKG9wdGlvbnMucmV2ZXJzZSkge1xuICAgIHJhd0NvbW1pdHMucmV2ZXJzZSgpXG4gIH1cbiAgY29uc3QgZW50cmllcyA9IFtdXG4gIGZvciAoY29uc3QgcmF3Q29tbWl0IG9mIHJhd0NvbW1pdHMpIHtcbiAgICBjb25zdCBjb21taXQgPSB1dGlsLnByb2Nlc3NDb21taXQocmF3Q29tbWl0LCBvcHRpb25zLnRyYW5zZm9ybSwgY29udGV4dClcbiAgICBjb25zdCBrZXlDb21taXQgPSBjb21taXQgfHwgcmF3Q29tbWl0XG4gICAgaWYgKGdlbmVyYXRlT24oa2V5Q29tbWl0LCBjb21taXRzLCBjb250ZXh0LCBvcHRpb25zKSkge1xuICAgICAgZW50cmllcy5wdXNoKHV0aWwuZ2VuZXJhdGUob3B0aW9ucywgY29tbWl0cywgY29udGV4dCwgc2F2ZWRLZXlDb21taXQpKVxuICAgICAgc2F2ZWRLZXlDb21taXQgPSBrZXlDb21taXRcbiAgICAgIGNvbW1pdHMgPSBbXVxuICAgIH1cbiAgICBpZiAoY29tbWl0KSB7XG4gICAgICBjb21taXRzLnB1c2goY29tbWl0KVxuICAgIH1cbiAgfVxuICBpZiAob3B0aW9ucy5yZXZlcnNlKSB7XG4gICAgZW50cmllcy5yZXZlcnNlKClcbiAgICByZXR1cm4gdXRpbC5nZW5lcmF0ZShvcHRpb25zLCBjb21taXRzLCBjb250ZXh0LCBzYXZlZEtleUNvbW1pdCkgKyBlbnRyaWVzLmpvaW4oJycpXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGVudHJpZXMuam9pbignJykgKyB1dGlsLmdlbmVyYXRlKG9wdGlvbnMsIGNvbW1pdHMsIGNvbnRleHQsIHNhdmVkS2V5Q29tbWl0KVxuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gY29udmVudGlvbmFsQ2hhbmdlbG9nV3JpdGVyUGFyc2VTdHJlYW1cbiIsICIndXNlIHN0cmljdCdcbmNvbnN0IG1heWJlSm9pbiA9ICguLi5hcmdzKSA9PiBhcmdzLmV2ZXJ5KGFyZyA9PiBhcmcpID8gYXJncy5qb2luKCcnKSA6ICcnXG5jb25zdCBtYXliZUVuY29kZSA9IChhcmcpID0+IGFyZyA/IGVuY29kZVVSSUNvbXBvbmVudChhcmcpIDogJydcblxuY29uc3QgZGVmYXVsdHMgPSB7XG4gIHNzaHRlbXBsYXRlOiAoeyBkb21haW4sIHVzZXIsIHByb2plY3QsIGNvbW1pdHRpc2ggfSkgPT4gYGdpdEAke2RvbWFpbn06JHt1c2VyfS8ke3Byb2plY3R9LmdpdCR7bWF5YmVKb2luKCcjJywgY29tbWl0dGlzaCl9YCxcbiAgc3NodXJsdGVtcGxhdGU6ICh7IGRvbWFpbiwgdXNlciwgcHJvamVjdCwgY29tbWl0dGlzaCB9KSA9PiBgZ2l0K3NzaDovL2dpdEAke2RvbWFpbn0vJHt1c2VyfS8ke3Byb2plY3R9LmdpdCR7bWF5YmVKb2luKCcjJywgY29tbWl0dGlzaCl9YCxcbiAgYnJvd3NldGVtcGxhdGU6ICh7IGRvbWFpbiwgdXNlciwgcHJvamVjdCwgY29tbWl0dGlzaCwgdHJlZXBhdGggfSkgPT4gYGh0dHBzOi8vJHtkb21haW59LyR7dXNlcn0vJHtwcm9qZWN0fSR7bWF5YmVKb2luKCcvJywgdHJlZXBhdGgsICcvJywgbWF5YmVFbmNvZGUoY29tbWl0dGlzaCkpfWAsXG4gIGJyb3dzZWZpbGV0ZW1wbGF0ZTogKHsgZG9tYWluLCB1c2VyLCBwcm9qZWN0LCBjb21taXR0aXNoLCB0cmVlcGF0aCwgcGF0aCwgZnJhZ21lbnQsIGhhc2hmb3JtYXQgfSkgPT4gYGh0dHBzOi8vJHtkb21haW59LyR7dXNlcn0vJHtwcm9qZWN0fS8ke3RyZWVwYXRofS8ke21heWJlRW5jb2RlKGNvbW1pdHRpc2ggfHwgJ21hc3RlcicpfS8ke3BhdGh9JHttYXliZUpvaW4oJyMnLCBoYXNoZm9ybWF0KGZyYWdtZW50IHx8ICcnKSl9YCxcbiAgZG9jc3RlbXBsYXRlOiAoeyBkb21haW4sIHVzZXIsIHByb2plY3QsIHRyZWVwYXRoLCBjb21taXR0aXNoIH0pID0+IGBodHRwczovLyR7ZG9tYWlufS8ke3VzZXJ9LyR7cHJvamVjdH0ke21heWJlSm9pbignLycsIHRyZWVwYXRoLCAnLycsIG1heWJlRW5jb2RlKGNvbW1pdHRpc2gpKX0jcmVhZG1lYCxcbiAgaHR0cHN0ZW1wbGF0ZTogKHsgYXV0aCwgZG9tYWluLCB1c2VyLCBwcm9qZWN0LCBjb21taXR0aXNoIH0pID0+IGBnaXQraHR0cHM6Ly8ke21heWJlSm9pbihhdXRoLCAnQCcpfSR7ZG9tYWlufS8ke3VzZXJ9LyR7cHJvamVjdH0uZ2l0JHttYXliZUpvaW4oJyMnLCBjb21taXR0aXNoKX1gLFxuICBmaWxldGVtcGxhdGU6ICh7IGRvbWFpbiwgdXNlciwgcHJvamVjdCwgY29tbWl0dGlzaCwgcGF0aCB9KSA9PiBgaHR0cHM6Ly8ke2RvbWFpbn0vJHt1c2VyfS8ke3Byb2plY3R9L3Jhdy8ke21heWJlRW5jb2RlKGNvbW1pdHRpc2gpIHx8ICdtYXN0ZXInfS8ke3BhdGh9YCxcbiAgc2hvcnRjdXR0ZW1wbGF0ZTogKHsgdHlwZSwgdXNlciwgcHJvamVjdCwgY29tbWl0dGlzaCB9KSA9PiBgJHt0eXBlfToke3VzZXJ9LyR7cHJvamVjdH0ke21heWJlSm9pbignIycsIGNvbW1pdHRpc2gpfWAsXG4gIHBhdGh0ZW1wbGF0ZTogKHsgdXNlciwgcHJvamVjdCwgY29tbWl0dGlzaCB9KSA9PiBgJHt1c2VyfS8ke3Byb2plY3R9JHttYXliZUpvaW4oJyMnLCBjb21taXR0aXNoKX1gLFxuICBidWdzdGVtcGxhdGU6ICh7IGRvbWFpbiwgdXNlciwgcHJvamVjdCB9KSA9PiBgaHR0cHM6Ly8ke2RvbWFpbn0vJHt1c2VyfS8ke3Byb2plY3R9L2lzc3Vlc2AsXG4gIGhhc2hmb3JtYXQ6IGZvcm1hdEhhc2hGcmFnbWVudFxufVxuXG5jb25zdCBnaXRIb3N0cyA9IHt9XG5naXRIb3N0cy5naXRodWIgPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0cywge1xuICAvLyBGaXJzdCB0d28gYXJlIGluc2VjdXJlIGFuZCBnZW5lcmFsbHkgc2hvdWxkbid0IGJlIHVzZWQgYW55IG1vcmUsIGJ1dFxuICAvLyB0aGV5IGFyZSBzdGlsbCBzdXBwb3J0ZWQuXG4gIHByb3RvY29sczogWydnaXQ6JywgJ2h0dHA6JywgJ2dpdCtzc2g6JywgJ2dpdCtodHRwczonLCAnc3NoOicsICdodHRwczonXSxcbiAgZG9tYWluOiAnZ2l0aHViLmNvbScsXG4gIHRyZWVwYXRoOiAndHJlZScsXG4gIGZpbGV0ZW1wbGF0ZTogKHsgYXV0aCwgdXNlciwgcHJvamVjdCwgY29tbWl0dGlzaCwgcGF0aCB9KSA9PiBgaHR0cHM6Ly8ke21heWJlSm9pbihhdXRoLCAnQCcpfXJhdy5naXRodWJ1c2VyY29udGVudC5jb20vJHt1c2VyfS8ke3Byb2plY3R9LyR7bWF5YmVFbmNvZGUoY29tbWl0dGlzaCkgfHwgJ21hc3Rlcid9LyR7cGF0aH1gLFxuICBnaXR0ZW1wbGF0ZTogKHsgYXV0aCwgZG9tYWluLCB1c2VyLCBwcm9qZWN0LCBjb21taXR0aXNoIH0pID0+IGBnaXQ6Ly8ke21heWJlSm9pbihhdXRoLCAnQCcpfSR7ZG9tYWlufS8ke3VzZXJ9LyR7cHJvamVjdH0uZ2l0JHttYXliZUpvaW4oJyMnLCBjb21taXR0aXNoKX1gLFxuICB0YXJiYWxsdGVtcGxhdGU6ICh7IGRvbWFpbiwgdXNlciwgcHJvamVjdCwgY29tbWl0dGlzaCB9KSA9PiBgaHR0cHM6Ly9jb2RlbG9hZC4ke2RvbWFpbn0vJHt1c2VyfS8ke3Byb2plY3R9L3Rhci5nei8ke21heWJlRW5jb2RlKGNvbW1pdHRpc2gpIHx8ICdtYXN0ZXInfWAsXG4gIGV4dHJhY3Q6ICh1cmwpID0+IHtcbiAgICBsZXQgWywgdXNlciwgcHJvamVjdCwgdHlwZSwgY29tbWl0dGlzaF0gPSB1cmwucGF0aG5hbWUuc3BsaXQoJy8nLCA1KVxuICAgIGlmICh0eXBlICYmIHR5cGUgIT09ICd0cmVlJykge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgaWYgKCF0eXBlKSB7XG4gICAgICBjb21taXR0aXNoID0gdXJsLmhhc2guc2xpY2UoMSlcbiAgICB9XG5cbiAgICBpZiAocHJvamVjdCAmJiBwcm9qZWN0LmVuZHNXaXRoKCcuZ2l0JykpIHtcbiAgICAgIHByb2plY3QgPSBwcm9qZWN0LnNsaWNlKDAsIC00KVxuICAgIH1cblxuICAgIGlmICghdXNlciB8fCAhcHJvamVjdCkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgcmV0dXJuIHsgdXNlciwgcHJvamVjdCwgY29tbWl0dGlzaCB9XG4gIH1cbn0pXG5cbmdpdEhvc3RzLmJpdGJ1Y2tldCA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRzLCB7XG4gIHByb3RvY29sczogWydnaXQrc3NoOicsICdnaXQraHR0cHM6JywgJ3NzaDonLCAnaHR0cHM6J10sXG4gIGRvbWFpbjogJ2JpdGJ1Y2tldC5vcmcnLFxuICB0cmVlcGF0aDogJ3NyYycsXG4gIHRhcmJhbGx0ZW1wbGF0ZTogKHsgZG9tYWluLCB1c2VyLCBwcm9qZWN0LCBjb21taXR0aXNoIH0pID0+IGBodHRwczovLyR7ZG9tYWlufS8ke3VzZXJ9LyR7cHJvamVjdH0vZ2V0LyR7bWF5YmVFbmNvZGUoY29tbWl0dGlzaCkgfHwgJ21hc3Rlcid9LnRhci5nemAsXG4gIGV4dHJhY3Q6ICh1cmwpID0+IHtcbiAgICBsZXQgWywgdXNlciwgcHJvamVjdCwgYXV4XSA9IHVybC5wYXRobmFtZS5zcGxpdCgnLycsIDQpXG4gICAgaWYgKFsnZ2V0J10uaW5jbHVkZXMoYXV4KSkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgaWYgKHByb2plY3QgJiYgcHJvamVjdC5lbmRzV2l0aCgnLmdpdCcpKSB7XG4gICAgICBwcm9qZWN0ID0gcHJvamVjdC5zbGljZSgwLCAtNClcbiAgICB9XG5cbiAgICBpZiAoIXVzZXIgfHwgIXByb2plY3QpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHJldHVybiB7IHVzZXIsIHByb2plY3QsIGNvbW1pdHRpc2g6IHVybC5oYXNoLnNsaWNlKDEpIH1cbiAgfVxufSlcblxuZ2l0SG9zdHMuZ2l0bGFiID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdHMsIHtcbiAgcHJvdG9jb2xzOiBbJ2dpdCtzc2g6JywgJ2dpdCtodHRwczonLCAnc3NoOicsICdodHRwczonXSxcbiAgZG9tYWluOiAnZ2l0bGFiLmNvbScsXG4gIHRyZWVwYXRoOiAndHJlZScsXG4gIGh0dHBzdGVtcGxhdGU6ICh7IGF1dGgsIGRvbWFpbiwgdXNlciwgcHJvamVjdCwgY29tbWl0dGlzaCB9KSA9PiBgZ2l0K2h0dHBzOi8vJHttYXliZUpvaW4oYXV0aCwgJ0AnKX0ke2RvbWFpbn0vJHt1c2VyfS8ke3Byb2plY3R9LmdpdCR7bWF5YmVKb2luKCcjJywgY29tbWl0dGlzaCl9YCxcbiAgdGFyYmFsbHRlbXBsYXRlOiAoeyBkb21haW4sIHVzZXIsIHByb2plY3QsIGNvbW1pdHRpc2ggfSkgPT4gYGh0dHBzOi8vJHtkb21haW59LyR7dXNlcn0vJHtwcm9qZWN0fS9yZXBvc2l0b3J5L2FyY2hpdmUudGFyLmd6P3JlZj0ke21heWJlRW5jb2RlKGNvbW1pdHRpc2gpIHx8ICdtYXN0ZXInfWAsXG4gIGV4dHJhY3Q6ICh1cmwpID0+IHtcbiAgICBjb25zdCBwYXRoID0gdXJsLnBhdGhuYW1lLnNsaWNlKDEpXG4gICAgaWYgKHBhdGguaW5jbHVkZXMoJy8tLycpIHx8IHBhdGguaW5jbHVkZXMoJy9hcmNoaXZlLnRhci5neicpKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBjb25zdCBzZWdtZW50cyA9IHBhdGguc3BsaXQoJy8nKVxuICAgIGxldCBwcm9qZWN0ID0gc2VnbWVudHMucG9wKClcbiAgICBpZiAocHJvamVjdC5lbmRzV2l0aCgnLmdpdCcpKSB7XG4gICAgICBwcm9qZWN0ID0gcHJvamVjdC5zbGljZSgwLCAtNClcbiAgICB9XG5cbiAgICBjb25zdCB1c2VyID0gc2VnbWVudHMuam9pbignLycpXG4gICAgaWYgKCF1c2VyIHx8ICFwcm9qZWN0KSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICByZXR1cm4geyB1c2VyLCBwcm9qZWN0LCBjb21taXR0aXNoOiB1cmwuaGFzaC5zbGljZSgxKSB9XG4gIH1cbn0pXG5cbmdpdEhvc3RzLmdpc3QgPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0cywge1xuICBwcm90b2NvbHM6IFsnZ2l0OicsICdnaXQrc3NoOicsICdnaXQraHR0cHM6JywgJ3NzaDonLCAnaHR0cHM6J10sXG4gIGRvbWFpbjogJ2dpc3QuZ2l0aHViLmNvbScsXG4gIHNzaHRlbXBsYXRlOiAoeyBkb21haW4sIHByb2plY3QsIGNvbW1pdHRpc2ggfSkgPT4gYGdpdEAke2RvbWFpbn06JHtwcm9qZWN0fS5naXQke21heWJlSm9pbignIycsIGNvbW1pdHRpc2gpfWAsXG4gIHNzaHVybHRlbXBsYXRlOiAoeyBkb21haW4sIHByb2plY3QsIGNvbW1pdHRpc2ggfSkgPT4gYGdpdCtzc2g6Ly9naXRAJHtkb21haW59LyR7cHJvamVjdH0uZ2l0JHttYXliZUpvaW4oJyMnLCBjb21taXR0aXNoKX1gLFxuICBicm93c2V0ZW1wbGF0ZTogKHsgZG9tYWluLCBwcm9qZWN0LCBjb21taXR0aXNoIH0pID0+IGBodHRwczovLyR7ZG9tYWlufS8ke3Byb2plY3R9JHttYXliZUpvaW4oJy8nLCBtYXliZUVuY29kZShjb21taXR0aXNoKSl9YCxcbiAgYnJvd3NlZmlsZXRlbXBsYXRlOiAoeyBkb21haW4sIHByb2plY3QsIGNvbW1pdHRpc2gsIHBhdGgsIGhhc2hmb3JtYXQgfSkgPT4gYGh0dHBzOi8vJHtkb21haW59LyR7cHJvamVjdH0ke21heWJlSm9pbignLycsIG1heWJlRW5jb2RlKGNvbW1pdHRpc2gpKX0ke21heWJlSm9pbignIycsIGhhc2hmb3JtYXQocGF0aCkpfWAsXG4gIGRvY3N0ZW1wbGF0ZTogKHsgZG9tYWluLCBwcm9qZWN0LCBjb21taXR0aXNoIH0pID0+IGBodHRwczovLyR7ZG9tYWlufS8ke3Byb2plY3R9JHttYXliZUpvaW4oJy8nLCBtYXliZUVuY29kZShjb21taXR0aXNoKSl9YCxcbiAgaHR0cHN0ZW1wbGF0ZTogKHsgZG9tYWluLCBwcm9qZWN0LCBjb21taXR0aXNoIH0pID0+IGBnaXQraHR0cHM6Ly8ke2RvbWFpbn0vJHtwcm9qZWN0fS5naXQke21heWJlSm9pbignIycsIGNvbW1pdHRpc2gpfWAsXG4gIGZpbGV0ZW1wbGF0ZTogKHsgdXNlciwgcHJvamVjdCwgY29tbWl0dGlzaCwgcGF0aCB9KSA9PiBgaHR0cHM6Ly9naXN0LmdpdGh1YnVzZXJjb250ZW50LmNvbS8ke3VzZXJ9LyR7cHJvamVjdH0vcmF3JHttYXliZUpvaW4oJy8nLCBtYXliZUVuY29kZShjb21taXR0aXNoKSl9LyR7cGF0aH1gLFxuICBzaG9ydGN1dHRlbXBsYXRlOiAoeyB0eXBlLCBwcm9qZWN0LCBjb21taXR0aXNoIH0pID0+IGAke3R5cGV9OiR7cHJvamVjdH0ke21heWJlSm9pbignIycsIGNvbW1pdHRpc2gpfWAsXG4gIHBhdGh0ZW1wbGF0ZTogKHsgcHJvamVjdCwgY29tbWl0dGlzaCB9KSA9PiBgJHtwcm9qZWN0fSR7bWF5YmVKb2luKCcjJywgY29tbWl0dGlzaCl9YCxcbiAgYnVnc3RlbXBsYXRlOiAoeyBkb21haW4sIHByb2plY3QgfSkgPT4gYGh0dHBzOi8vJHtkb21haW59LyR7cHJvamVjdH1gLFxuICBnaXR0ZW1wbGF0ZTogKHsgZG9tYWluLCBwcm9qZWN0LCBjb21taXR0aXNoIH0pID0+IGBnaXQ6Ly8ke2RvbWFpbn0vJHtwcm9qZWN0fS5naXQke21heWJlSm9pbignIycsIGNvbW1pdHRpc2gpfWAsXG4gIHRhcmJhbGx0ZW1wbGF0ZTogKHsgcHJvamVjdCwgY29tbWl0dGlzaCB9KSA9PiBgaHR0cHM6Ly9jb2RlbG9hZC5naXRodWIuY29tL2dpc3QvJHtwcm9qZWN0fS90YXIuZ3ovJHttYXliZUVuY29kZShjb21taXR0aXNoKSB8fCAnbWFzdGVyJ31gLFxuICBleHRyYWN0OiAodXJsKSA9PiB7XG4gICAgbGV0IFssIHVzZXIsIHByb2plY3QsIGF1eF0gPSB1cmwucGF0aG5hbWUuc3BsaXQoJy8nLCA0KVxuICAgIGlmIChhdXggPT09ICdyYXcnKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBpZiAoIXByb2plY3QpIHtcbiAgICAgIGlmICghdXNlcikge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgcHJvamVjdCA9IHVzZXJcbiAgICAgIHVzZXIgPSBudWxsXG4gICAgfVxuXG4gICAgaWYgKHByb2plY3QuZW5kc1dpdGgoJy5naXQnKSkge1xuICAgICAgcHJvamVjdCA9IHByb2plY3Quc2xpY2UoMCwgLTQpXG4gICAgfVxuXG4gICAgcmV0dXJuIHsgdXNlciwgcHJvamVjdCwgY29tbWl0dGlzaDogdXJsLmhhc2guc2xpY2UoMSkgfVxuICB9LFxuICBoYXNoZm9ybWF0OiBmdW5jdGlvbiAoZnJhZ21lbnQpIHtcbiAgICByZXR1cm4gZnJhZ21lbnQgJiYgJ2ZpbGUtJyArIGZvcm1hdEhhc2hGcmFnbWVudChmcmFnbWVudClcbiAgfVxufSlcblxuZ2l0SG9zdHMuc291cmNlaHV0ID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdHMsIHtcbiAgcHJvdG9jb2xzOiBbJ2dpdCtzc2g6JywgJ2h0dHBzOiddLFxuICBkb21haW46ICdnaXQuc3IuaHQnLFxuICB0cmVlcGF0aDogJ3RyZWUnLFxuICBicm93c2VmaWxldGVtcGxhdGU6ICh7IGRvbWFpbiwgdXNlciwgcHJvamVjdCwgY29tbWl0dGlzaCwgdHJlZXBhdGgsIHBhdGgsIGZyYWdtZW50LCBoYXNoZm9ybWF0IH0pID0+IGBodHRwczovLyR7ZG9tYWlufS8ke3VzZXJ9LyR7cHJvamVjdH0vJHt0cmVlcGF0aH0vJHttYXliZUVuY29kZShjb21taXR0aXNoIHx8ICdtYWluJyl9LyR7cGF0aH0ke21heWJlSm9pbignIycsIGhhc2hmb3JtYXQoZnJhZ21lbnQgfHwgJycpKX1gLFxuICBmaWxldGVtcGxhdGU6ICh7IGRvbWFpbiwgdXNlciwgcHJvamVjdCwgY29tbWl0dGlzaCwgcGF0aCB9KSA9PiBgaHR0cHM6Ly8ke2RvbWFpbn0vJHt1c2VyfS8ke3Byb2plY3R9L2Jsb2IvJHttYXliZUVuY29kZShjb21taXR0aXNoKSB8fCAnbWFpbid9LyR7cGF0aH1gLFxuICBodHRwc3RlbXBsYXRlOiAoeyBkb21haW4sIHVzZXIsIHByb2plY3QsIGNvbW1pdHRpc2ggfSkgPT4gYGh0dHBzOi8vJHtkb21haW59LyR7dXNlcn0vJHtwcm9qZWN0fS5naXQke21heWJlSm9pbignIycsIGNvbW1pdHRpc2gpfWAsXG4gIHRhcmJhbGx0ZW1wbGF0ZTogKHsgZG9tYWluLCB1c2VyLCBwcm9qZWN0LCBjb21taXR0aXNoIH0pID0+IGBodHRwczovLyR7ZG9tYWlufS8ke3VzZXJ9LyR7cHJvamVjdH0vYXJjaGl2ZS8ke21heWJlRW5jb2RlKGNvbW1pdHRpc2gpIHx8ICdtYWluJ30udGFyLmd6YCxcbiAgYnVnc3RlbXBsYXRlOiAoeyBkb21haW4sIHVzZXIsIHByb2plY3QgfSkgPT4gYGh0dHBzOi8vdG9kby5zci5odC8ke3VzZXJ9LyR7cHJvamVjdH1gLFxuICBkb2NzdGVtcGxhdGU6ICh7IGRvbWFpbiwgdXNlciwgcHJvamVjdCwgdHJlZXBhdGgsIGNvbW1pdHRpc2ggfSkgPT4gYGh0dHBzOi8vJHtkb21haW59LyR7dXNlcn0vJHtwcm9qZWN0fSR7bWF5YmVKb2luKCcvJywgdHJlZXBhdGgsICcvJywgbWF5YmVFbmNvZGUoY29tbWl0dGlzaCkpfSNyZWFkbWVgLFxuICBleHRyYWN0OiAodXJsKSA9PiB7XG4gICAgbGV0IFssIHVzZXIsIHByb2plY3QsIGF1eF0gPSB1cmwucGF0aG5hbWUuc3BsaXQoJy8nLCA0KVxuXG4gICAgLy8gdGFyYmFsbCB1cmxcbiAgICBpZiAoWydhcmNoaXZlJ10uaW5jbHVkZXMoYXV4KSkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgaWYgKHByb2plY3QgJiYgcHJvamVjdC5lbmRzV2l0aCgnLmdpdCcpKSB7XG4gICAgICBwcm9qZWN0ID0gcHJvamVjdC5zbGljZSgwLCAtNClcbiAgICB9XG5cbiAgICBpZiAoIXVzZXIgfHwgIXByb2plY3QpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHJldHVybiB7IHVzZXIsIHByb2plY3QsIGNvbW1pdHRpc2g6IHVybC5oYXNoLnNsaWNlKDEpIH1cbiAgfVxufSlcblxuY29uc3QgbmFtZXMgPSBPYmplY3Qua2V5cyhnaXRIb3N0cylcbmdpdEhvc3RzLmJ5U2hvcnRjdXQgPSB7fVxuZ2l0SG9zdHMuYnlEb21haW4gPSB7fVxuZm9yIChjb25zdCBuYW1lIG9mIG5hbWVzKSB7XG4gIGdpdEhvc3RzLmJ5U2hvcnRjdXRbYCR7bmFtZX06YF0gPSBuYW1lXG4gIGdpdEhvc3RzLmJ5RG9tYWluW2dpdEhvc3RzW25hbWVdLmRvbWFpbl0gPSBuYW1lXG59XG5cbmZ1bmN0aW9uIGZvcm1hdEhhc2hGcmFnbWVudCAoZnJhZ21lbnQpIHtcbiAgcmV0dXJuIGZyYWdtZW50LnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXlxcVyt8XFwvfFxcVyskL2csICcnKS5yZXBsYWNlKC9cXFcrL2csICctJylcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBnaXRIb3N0c1xuIiwgIid1c2Ugc3RyaWN0J1xuY29uc3QgZ2l0SG9zdHMgPSByZXF1aXJlKCcuL2dpdC1ob3N0LWluZm8uanMnKVxuXG5jbGFzcyBHaXRIb3N0IHtcbiAgY29uc3RydWN0b3IgKHR5cGUsIHVzZXIsIGF1dGgsIHByb2plY3QsIGNvbW1pdHRpc2gsIGRlZmF1bHRSZXByZXNlbnRhdGlvbiwgb3B0cyA9IHt9KSB7XG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCBnaXRIb3N0c1t0eXBlXSlcbiAgICB0aGlzLnR5cGUgPSB0eXBlXG4gICAgdGhpcy51c2VyID0gdXNlclxuICAgIHRoaXMuYXV0aCA9IGF1dGhcbiAgICB0aGlzLnByb2plY3QgPSBwcm9qZWN0XG4gICAgdGhpcy5jb21taXR0aXNoID0gY29tbWl0dGlzaFxuICAgIHRoaXMuZGVmYXVsdCA9IGRlZmF1bHRSZXByZXNlbnRhdGlvblxuICAgIHRoaXMub3B0cyA9IG9wdHNcbiAgfVxuXG4gIGhhc2ggKCkge1xuICAgIHJldHVybiB0aGlzLmNvbW1pdHRpc2ggPyBgIyR7dGhpcy5jb21taXR0aXNofWAgOiAnJ1xuICB9XG5cbiAgc3NoIChvcHRzKSB7XG4gICAgcmV0dXJuIHRoaXMuX2ZpbGwodGhpcy5zc2h0ZW1wbGF0ZSwgb3B0cylcbiAgfVxuXG4gIF9maWxsICh0ZW1wbGF0ZSwgb3B0cykge1xuICAgIGlmICh0eXBlb2YgdGVtcGxhdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNvbnN0IG9wdGlvbnMgPSB7IC4uLnRoaXMsIC4uLnRoaXMub3B0cywgLi4ub3B0cyB9XG5cbiAgICAgIC8vIHRoZSBwYXRoIHNob3VsZCBhbHdheXMgYmUgc2V0IHNvIHdlIGRvbid0IGVuZCB1cCB3aXRoICd1bmRlZmluZWQnIGluIHVybHNcbiAgICAgIGlmICghb3B0aW9ucy5wYXRoKSB7XG4gICAgICAgIG9wdGlvbnMucGF0aCA9ICcnXG4gICAgICB9XG5cbiAgICAgIC8vIHRlbXBsYXRlIGZ1bmN0aW9ucyB3aWxsIGluc2VydCB0aGUgbGVhZGluZyBzbGFzaCB0aGVtc2VsdmVzXG4gICAgICBpZiAob3B0aW9ucy5wYXRoLnN0YXJ0c1dpdGgoJy8nKSkge1xuICAgICAgICBvcHRpb25zLnBhdGggPSBvcHRpb25zLnBhdGguc2xpY2UoMSlcbiAgICAgIH1cblxuICAgICAgaWYgKG9wdGlvbnMubm9Db21taXR0aXNoKSB7XG4gICAgICAgIG9wdGlvbnMuY29tbWl0dGlzaCA9IG51bGxcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmVzdWx0ID0gdGVtcGxhdGUob3B0aW9ucylcbiAgICAgIHJldHVybiBvcHRpb25zLm5vR2l0UGx1cyAmJiByZXN1bHQuc3RhcnRzV2l0aCgnZ2l0KycpID8gcmVzdWx0LnNsaWNlKDQpIDogcmVzdWx0XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIHNzaHVybCAob3B0cykge1xuICAgIHJldHVybiB0aGlzLl9maWxsKHRoaXMuc3NodXJsdGVtcGxhdGUsIG9wdHMpXG4gIH1cblxuICBicm93c2UgKHBhdGgsIGZyYWdtZW50LCBvcHRzKSB7XG4gICAgLy8gbm90IGEgc3RyaW5nLCB0cmVhdCBwYXRoIGFzIG9wdHNcbiAgICBpZiAodHlwZW9mIHBhdGggIT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gdGhpcy5fZmlsbCh0aGlzLmJyb3dzZXRlbXBsYXRlLCBwYXRoKVxuICAgIH1cblxuICAgIGlmICh0eXBlb2YgZnJhZ21lbnQgIT09ICdzdHJpbmcnKSB7XG4gICAgICBvcHRzID0gZnJhZ21lbnRcbiAgICAgIGZyYWdtZW50ID0gbnVsbFxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fZmlsbCh0aGlzLmJyb3dzZWZpbGV0ZW1wbGF0ZSwgeyAuLi5vcHRzLCBmcmFnbWVudCwgcGF0aCB9KVxuICB9XG5cbiAgZG9jcyAob3B0cykge1xuICAgIHJldHVybiB0aGlzLl9maWxsKHRoaXMuZG9jc3RlbXBsYXRlLCBvcHRzKVxuICB9XG5cbiAgYnVncyAob3B0cykge1xuICAgIHJldHVybiB0aGlzLl9maWxsKHRoaXMuYnVnc3RlbXBsYXRlLCBvcHRzKVxuICB9XG5cbiAgaHR0cHMgKG9wdHMpIHtcbiAgICByZXR1cm4gdGhpcy5fZmlsbCh0aGlzLmh0dHBzdGVtcGxhdGUsIG9wdHMpXG4gIH1cblxuICBnaXQgKG9wdHMpIHtcbiAgICByZXR1cm4gdGhpcy5fZmlsbCh0aGlzLmdpdHRlbXBsYXRlLCBvcHRzKVxuICB9XG5cbiAgc2hvcnRjdXQgKG9wdHMpIHtcbiAgICByZXR1cm4gdGhpcy5fZmlsbCh0aGlzLnNob3J0Y3V0dGVtcGxhdGUsIG9wdHMpXG4gIH1cblxuICBwYXRoIChvcHRzKSB7XG4gICAgcmV0dXJuIHRoaXMuX2ZpbGwodGhpcy5wYXRodGVtcGxhdGUsIG9wdHMpXG4gIH1cblxuICB0YXJiYWxsIChvcHRzKSB7XG4gICAgcmV0dXJuIHRoaXMuX2ZpbGwodGhpcy50YXJiYWxsdGVtcGxhdGUsIHsgLi4ub3B0cywgbm9Db21taXR0aXNoOiBmYWxzZSB9KVxuICB9XG5cbiAgZmlsZSAocGF0aCwgb3B0cykge1xuICAgIHJldHVybiB0aGlzLl9maWxsKHRoaXMuZmlsZXRlbXBsYXRlLCB7IC4uLm9wdHMsIHBhdGggfSlcbiAgfVxuXG4gIGdldERlZmF1bHRSZXByZXNlbnRhdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGVmYXVsdFxuICB9XG5cbiAgdG9TdHJpbmcgKG9wdHMpIHtcbiAgICBpZiAodGhpcy5kZWZhdWx0ICYmIHR5cGVvZiB0aGlzW3RoaXMuZGVmYXVsdF0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiB0aGlzW3RoaXMuZGVmYXVsdF0ob3B0cylcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5zc2h1cmwob3B0cylcbiAgfVxufVxubW9kdWxlLmV4cG9ydHMgPSBHaXRIb3N0XG4iLCAiJ3VzZSBzdHJpY3QnXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChZYWxsaXN0KSB7XG4gIFlhbGxpc3QucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiogKCkge1xuICAgIGZvciAobGV0IHdhbGtlciA9IHRoaXMuaGVhZDsgd2Fsa2VyOyB3YWxrZXIgPSB3YWxrZXIubmV4dCkge1xuICAgICAgeWllbGQgd2Fsa2VyLnZhbHVlXG4gICAgfVxuICB9XG59XG4iLCAiJ3VzZSBzdHJpY3QnXG5tb2R1bGUuZXhwb3J0cyA9IFlhbGxpc3RcblxuWWFsbGlzdC5Ob2RlID0gTm9kZVxuWWFsbGlzdC5jcmVhdGUgPSBZYWxsaXN0XG5cbmZ1bmN0aW9uIFlhbGxpc3QgKGxpc3QpIHtcbiAgdmFyIHNlbGYgPSB0aGlzXG4gIGlmICghKHNlbGYgaW5zdGFuY2VvZiBZYWxsaXN0KSkge1xuICAgIHNlbGYgPSBuZXcgWWFsbGlzdCgpXG4gIH1cblxuICBzZWxmLnRhaWwgPSBudWxsXG4gIHNlbGYuaGVhZCA9IG51bGxcbiAgc2VsZi5sZW5ndGggPSAwXG5cbiAgaWYgKGxpc3QgJiYgdHlwZW9mIGxpc3QuZm9yRWFjaCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGxpc3QuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgc2VsZi5wdXNoKGl0ZW0pXG4gICAgfSlcbiAgfSBlbHNlIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMCkge1xuICAgIGZvciAodmFyIGkgPSAwLCBsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgc2VsZi5wdXNoKGFyZ3VtZW50c1tpXSlcbiAgICB9XG4gIH1cblxuICByZXR1cm4gc2VsZlxufVxuXG5ZYWxsaXN0LnByb3RvdHlwZS5yZW1vdmVOb2RlID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgaWYgKG5vZGUubGlzdCAhPT0gdGhpcykge1xuICAgIHRocm93IG5ldyBFcnJvcigncmVtb3Zpbmcgbm9kZSB3aGljaCBkb2VzIG5vdCBiZWxvbmcgdG8gdGhpcyBsaXN0JylcbiAgfVxuXG4gIHZhciBuZXh0ID0gbm9kZS5uZXh0XG4gIHZhciBwcmV2ID0gbm9kZS5wcmV2XG5cbiAgaWYgKG5leHQpIHtcbiAgICBuZXh0LnByZXYgPSBwcmV2XG4gIH1cblxuICBpZiAocHJldikge1xuICAgIHByZXYubmV4dCA9IG5leHRcbiAgfVxuXG4gIGlmIChub2RlID09PSB0aGlzLmhlYWQpIHtcbiAgICB0aGlzLmhlYWQgPSBuZXh0XG4gIH1cbiAgaWYgKG5vZGUgPT09IHRoaXMudGFpbCkge1xuICAgIHRoaXMudGFpbCA9IHByZXZcbiAgfVxuXG4gIG5vZGUubGlzdC5sZW5ndGgtLVxuICBub2RlLm5leHQgPSBudWxsXG4gIG5vZGUucHJldiA9IG51bGxcbiAgbm9kZS5saXN0ID0gbnVsbFxuXG4gIHJldHVybiBuZXh0XG59XG5cbllhbGxpc3QucHJvdG90eXBlLnVuc2hpZnROb2RlID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgaWYgKG5vZGUgPT09IHRoaXMuaGVhZCkge1xuICAgIHJldHVyblxuICB9XG5cbiAgaWYgKG5vZGUubGlzdCkge1xuICAgIG5vZGUubGlzdC5yZW1vdmVOb2RlKG5vZGUpXG4gIH1cblxuICB2YXIgaGVhZCA9IHRoaXMuaGVhZFxuICBub2RlLmxpc3QgPSB0aGlzXG4gIG5vZGUubmV4dCA9IGhlYWRcbiAgaWYgKGhlYWQpIHtcbiAgICBoZWFkLnByZXYgPSBub2RlXG4gIH1cblxuICB0aGlzLmhlYWQgPSBub2RlXG4gIGlmICghdGhpcy50YWlsKSB7XG4gICAgdGhpcy50YWlsID0gbm9kZVxuICB9XG4gIHRoaXMubGVuZ3RoKytcbn1cblxuWWFsbGlzdC5wcm90b3R5cGUucHVzaE5vZGUgPSBmdW5jdGlvbiAobm9kZSkge1xuICBpZiAobm9kZSA9PT0gdGhpcy50YWlsKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICBpZiAobm9kZS5saXN0KSB7XG4gICAgbm9kZS5saXN0LnJlbW92ZU5vZGUobm9kZSlcbiAgfVxuXG4gIHZhciB0YWlsID0gdGhpcy50YWlsXG4gIG5vZGUubGlzdCA9IHRoaXNcbiAgbm9kZS5wcmV2ID0gdGFpbFxuICBpZiAodGFpbCkge1xuICAgIHRhaWwubmV4dCA9IG5vZGVcbiAgfVxuXG4gIHRoaXMudGFpbCA9IG5vZGVcbiAgaWYgKCF0aGlzLmhlYWQpIHtcbiAgICB0aGlzLmhlYWQgPSBub2RlXG4gIH1cbiAgdGhpcy5sZW5ndGgrK1xufVxuXG5ZYWxsaXN0LnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKCkge1xuICBmb3IgKHZhciBpID0gMCwgbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBwdXNoKHRoaXMsIGFyZ3VtZW50c1tpXSlcbiAgfVxuICByZXR1cm4gdGhpcy5sZW5ndGhcbn1cblxuWWFsbGlzdC5wcm90b3R5cGUudW5zaGlmdCA9IGZ1bmN0aW9uICgpIHtcbiAgZm9yICh2YXIgaSA9IDAsIGwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgdW5zaGlmdCh0aGlzLCBhcmd1bWVudHNbaV0pXG4gIH1cbiAgcmV0dXJuIHRoaXMubGVuZ3RoXG59XG5cbllhbGxpc3QucHJvdG90eXBlLnBvcCA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKCF0aGlzLnRhaWwpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkXG4gIH1cblxuICB2YXIgcmVzID0gdGhpcy50YWlsLnZhbHVlXG4gIHRoaXMudGFpbCA9IHRoaXMudGFpbC5wcmV2XG4gIGlmICh0aGlzLnRhaWwpIHtcbiAgICB0aGlzLnRhaWwubmV4dCA9IG51bGxcbiAgfSBlbHNlIHtcbiAgICB0aGlzLmhlYWQgPSBudWxsXG4gIH1cbiAgdGhpcy5sZW5ndGgtLVxuICByZXR1cm4gcmVzXG59XG5cbllhbGxpc3QucHJvdG90eXBlLnNoaWZ0ID0gZnVuY3Rpb24gKCkge1xuICBpZiAoIXRoaXMuaGVhZCkge1xuICAgIHJldHVybiB1bmRlZmluZWRcbiAgfVxuXG4gIHZhciByZXMgPSB0aGlzLmhlYWQudmFsdWVcbiAgdGhpcy5oZWFkID0gdGhpcy5oZWFkLm5leHRcbiAgaWYgKHRoaXMuaGVhZCkge1xuICAgIHRoaXMuaGVhZC5wcmV2ID0gbnVsbFxuICB9IGVsc2Uge1xuICAgIHRoaXMudGFpbCA9IG51bGxcbiAgfVxuICB0aGlzLmxlbmd0aC0tXG4gIHJldHVybiByZXNcbn1cblxuWWFsbGlzdC5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChmbiwgdGhpc3ApIHtcbiAgdGhpc3AgPSB0aGlzcCB8fCB0aGlzXG4gIGZvciAodmFyIHdhbGtlciA9IHRoaXMuaGVhZCwgaSA9IDA7IHdhbGtlciAhPT0gbnVsbDsgaSsrKSB7XG4gICAgZm4uY2FsbCh0aGlzcCwgd2Fsa2VyLnZhbHVlLCBpLCB0aGlzKVxuICAgIHdhbGtlciA9IHdhbGtlci5uZXh0XG4gIH1cbn1cblxuWWFsbGlzdC5wcm90b3R5cGUuZm9yRWFjaFJldmVyc2UgPSBmdW5jdGlvbiAoZm4sIHRoaXNwKSB7XG4gIHRoaXNwID0gdGhpc3AgfHwgdGhpc1xuICBmb3IgKHZhciB3YWxrZXIgPSB0aGlzLnRhaWwsIGkgPSB0aGlzLmxlbmd0aCAtIDE7IHdhbGtlciAhPT0gbnVsbDsgaS0tKSB7XG4gICAgZm4uY2FsbCh0aGlzcCwgd2Fsa2VyLnZhbHVlLCBpLCB0aGlzKVxuICAgIHdhbGtlciA9IHdhbGtlci5wcmV2XG4gIH1cbn1cblxuWWFsbGlzdC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKG4pIHtcbiAgZm9yICh2YXIgaSA9IDAsIHdhbGtlciA9IHRoaXMuaGVhZDsgd2Fsa2VyICE9PSBudWxsICYmIGkgPCBuOyBpKyspIHtcbiAgICAvLyBhYm9ydCBvdXQgb2YgdGhlIGxpc3QgZWFybHkgaWYgd2UgaGl0IGEgY3ljbGVcbiAgICB3YWxrZXIgPSB3YWxrZXIubmV4dFxuICB9XG4gIGlmIChpID09PSBuICYmIHdhbGtlciAhPT0gbnVsbCkge1xuICAgIHJldHVybiB3YWxrZXIudmFsdWVcbiAgfVxufVxuXG5ZYWxsaXN0LnByb3RvdHlwZS5nZXRSZXZlcnNlID0gZnVuY3Rpb24gKG4pIHtcbiAgZm9yICh2YXIgaSA9IDAsIHdhbGtlciA9IHRoaXMudGFpbDsgd2Fsa2VyICE9PSBudWxsICYmIGkgPCBuOyBpKyspIHtcbiAgICAvLyBhYm9ydCBvdXQgb2YgdGhlIGxpc3QgZWFybHkgaWYgd2UgaGl0IGEgY3ljbGVcbiAgICB3YWxrZXIgPSB3YWxrZXIucHJldlxuICB9XG4gIGlmIChpID09PSBuICYmIHdhbGtlciAhPT0gbnVsbCkge1xuICAgIHJldHVybiB3YWxrZXIudmFsdWVcbiAgfVxufVxuXG5ZYWxsaXN0LnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiAoZm4sIHRoaXNwKSB7XG4gIHRoaXNwID0gdGhpc3AgfHwgdGhpc1xuICB2YXIgcmVzID0gbmV3IFlhbGxpc3QoKVxuICBmb3IgKHZhciB3YWxrZXIgPSB0aGlzLmhlYWQ7IHdhbGtlciAhPT0gbnVsbDspIHtcbiAgICByZXMucHVzaChmbi5jYWxsKHRoaXNwLCB3YWxrZXIudmFsdWUsIHRoaXMpKVxuICAgIHdhbGtlciA9IHdhbGtlci5uZXh0XG4gIH1cbiAgcmV0dXJuIHJlc1xufVxuXG5ZYWxsaXN0LnByb3RvdHlwZS5tYXBSZXZlcnNlID0gZnVuY3Rpb24gKGZuLCB0aGlzcCkge1xuICB0aGlzcCA9IHRoaXNwIHx8IHRoaXNcbiAgdmFyIHJlcyA9IG5ldyBZYWxsaXN0KClcbiAgZm9yICh2YXIgd2Fsa2VyID0gdGhpcy50YWlsOyB3YWxrZXIgIT09IG51bGw7KSB7XG4gICAgcmVzLnB1c2goZm4uY2FsbCh0aGlzcCwgd2Fsa2VyLnZhbHVlLCB0aGlzKSlcbiAgICB3YWxrZXIgPSB3YWxrZXIucHJldlxuICB9XG4gIHJldHVybiByZXNcbn1cblxuWWFsbGlzdC5wcm90b3R5cGUucmVkdWNlID0gZnVuY3Rpb24gKGZuLCBpbml0aWFsKSB7XG4gIHZhciBhY2NcbiAgdmFyIHdhbGtlciA9IHRoaXMuaGVhZFxuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICBhY2MgPSBpbml0aWFsXG4gIH0gZWxzZSBpZiAodGhpcy5oZWFkKSB7XG4gICAgd2Fsa2VyID0gdGhpcy5oZWFkLm5leHRcbiAgICBhY2MgPSB0aGlzLmhlYWQudmFsdWVcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdSZWR1Y2Ugb2YgZW1wdHkgbGlzdCB3aXRoIG5vIGluaXRpYWwgdmFsdWUnKVxuICB9XG5cbiAgZm9yICh2YXIgaSA9IDA7IHdhbGtlciAhPT0gbnVsbDsgaSsrKSB7XG4gICAgYWNjID0gZm4oYWNjLCB3YWxrZXIudmFsdWUsIGkpXG4gICAgd2Fsa2VyID0gd2Fsa2VyLm5leHRcbiAgfVxuXG4gIHJldHVybiBhY2Ncbn1cblxuWWFsbGlzdC5wcm90b3R5cGUucmVkdWNlUmV2ZXJzZSA9IGZ1bmN0aW9uIChmbiwgaW5pdGlhbCkge1xuICB2YXIgYWNjXG4gIHZhciB3YWxrZXIgPSB0aGlzLnRhaWxcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgYWNjID0gaW5pdGlhbFxuICB9IGVsc2UgaWYgKHRoaXMudGFpbCkge1xuICAgIHdhbGtlciA9IHRoaXMudGFpbC5wcmV2XG4gICAgYWNjID0gdGhpcy50YWlsLnZhbHVlXG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUmVkdWNlIG9mIGVtcHR5IGxpc3Qgd2l0aCBubyBpbml0aWFsIHZhbHVlJylcbiAgfVxuXG4gIGZvciAodmFyIGkgPSB0aGlzLmxlbmd0aCAtIDE7IHdhbGtlciAhPT0gbnVsbDsgaS0tKSB7XG4gICAgYWNjID0gZm4oYWNjLCB3YWxrZXIudmFsdWUsIGkpXG4gICAgd2Fsa2VyID0gd2Fsa2VyLnByZXZcbiAgfVxuXG4gIHJldHVybiBhY2Ncbn1cblxuWWFsbGlzdC5wcm90b3R5cGUudG9BcnJheSA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGFyciA9IG5ldyBBcnJheSh0aGlzLmxlbmd0aClcbiAgZm9yICh2YXIgaSA9IDAsIHdhbGtlciA9IHRoaXMuaGVhZDsgd2Fsa2VyICE9PSBudWxsOyBpKyspIHtcbiAgICBhcnJbaV0gPSB3YWxrZXIudmFsdWVcbiAgICB3YWxrZXIgPSB3YWxrZXIubmV4dFxuICB9XG4gIHJldHVybiBhcnJcbn1cblxuWWFsbGlzdC5wcm90b3R5cGUudG9BcnJheVJldmVyc2UgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBhcnIgPSBuZXcgQXJyYXkodGhpcy5sZW5ndGgpXG4gIGZvciAodmFyIGkgPSAwLCB3YWxrZXIgPSB0aGlzLnRhaWw7IHdhbGtlciAhPT0gbnVsbDsgaSsrKSB7XG4gICAgYXJyW2ldID0gd2Fsa2VyLnZhbHVlXG4gICAgd2Fsa2VyID0gd2Fsa2VyLnByZXZcbiAgfVxuICByZXR1cm4gYXJyXG59XG5cbllhbGxpc3QucHJvdG90eXBlLnNsaWNlID0gZnVuY3Rpb24gKGZyb20sIHRvKSB7XG4gIHRvID0gdG8gfHwgdGhpcy5sZW5ndGhcbiAgaWYgKHRvIDwgMCkge1xuICAgIHRvICs9IHRoaXMubGVuZ3RoXG4gIH1cbiAgZnJvbSA9IGZyb20gfHwgMFxuICBpZiAoZnJvbSA8IDApIHtcbiAgICBmcm9tICs9IHRoaXMubGVuZ3RoXG4gIH1cbiAgdmFyIHJldCA9IG5ldyBZYWxsaXN0KClcbiAgaWYgKHRvIDwgZnJvbSB8fCB0byA8IDApIHtcbiAgICByZXR1cm4gcmV0XG4gIH1cbiAgaWYgKGZyb20gPCAwKSB7XG4gICAgZnJvbSA9IDBcbiAgfVxuICBpZiAodG8gPiB0aGlzLmxlbmd0aCkge1xuICAgIHRvID0gdGhpcy5sZW5ndGhcbiAgfVxuICBmb3IgKHZhciBpID0gMCwgd2Fsa2VyID0gdGhpcy5oZWFkOyB3YWxrZXIgIT09IG51bGwgJiYgaSA8IGZyb207IGkrKykge1xuICAgIHdhbGtlciA9IHdhbGtlci5uZXh0XG4gIH1cbiAgZm9yICg7IHdhbGtlciAhPT0gbnVsbCAmJiBpIDwgdG87IGkrKywgd2Fsa2VyID0gd2Fsa2VyLm5leHQpIHtcbiAgICByZXQucHVzaCh3YWxrZXIudmFsdWUpXG4gIH1cbiAgcmV0dXJuIHJldFxufVxuXG5ZYWxsaXN0LnByb3RvdHlwZS5zbGljZVJldmVyc2UgPSBmdW5jdGlvbiAoZnJvbSwgdG8pIHtcbiAgdG8gPSB0byB8fCB0aGlzLmxlbmd0aFxuICBpZiAodG8gPCAwKSB7XG4gICAgdG8gKz0gdGhpcy5sZW5ndGhcbiAgfVxuICBmcm9tID0gZnJvbSB8fCAwXG4gIGlmIChmcm9tIDwgMCkge1xuICAgIGZyb20gKz0gdGhpcy5sZW5ndGhcbiAgfVxuICB2YXIgcmV0ID0gbmV3IFlhbGxpc3QoKVxuICBpZiAodG8gPCBmcm9tIHx8IHRvIDwgMCkge1xuICAgIHJldHVybiByZXRcbiAgfVxuICBpZiAoZnJvbSA8IDApIHtcbiAgICBmcm9tID0gMFxuICB9XG4gIGlmICh0byA+IHRoaXMubGVuZ3RoKSB7XG4gICAgdG8gPSB0aGlzLmxlbmd0aFxuICB9XG4gIGZvciAodmFyIGkgPSB0aGlzLmxlbmd0aCwgd2Fsa2VyID0gdGhpcy50YWlsOyB3YWxrZXIgIT09IG51bGwgJiYgaSA+IHRvOyBpLS0pIHtcbiAgICB3YWxrZXIgPSB3YWxrZXIucHJldlxuICB9XG4gIGZvciAoOyB3YWxrZXIgIT09IG51bGwgJiYgaSA+IGZyb207IGktLSwgd2Fsa2VyID0gd2Fsa2VyLnByZXYpIHtcbiAgICByZXQucHVzaCh3YWxrZXIudmFsdWUpXG4gIH1cbiAgcmV0dXJuIHJldFxufVxuXG5ZYWxsaXN0LnByb3RvdHlwZS5zcGxpY2UgPSBmdW5jdGlvbiAoc3RhcnQsIGRlbGV0ZUNvdW50LCAuLi5ub2Rlcykge1xuICBpZiAoc3RhcnQgPiB0aGlzLmxlbmd0aCkge1xuICAgIHN0YXJ0ID0gdGhpcy5sZW5ndGggLSAxXG4gIH1cbiAgaWYgKHN0YXJ0IDwgMCkge1xuICAgIHN0YXJ0ID0gdGhpcy5sZW5ndGggKyBzdGFydDtcbiAgfVxuXG4gIGZvciAodmFyIGkgPSAwLCB3YWxrZXIgPSB0aGlzLmhlYWQ7IHdhbGtlciAhPT0gbnVsbCAmJiBpIDwgc3RhcnQ7IGkrKykge1xuICAgIHdhbGtlciA9IHdhbGtlci5uZXh0XG4gIH1cblxuICB2YXIgcmV0ID0gW11cbiAgZm9yICh2YXIgaSA9IDA7IHdhbGtlciAmJiBpIDwgZGVsZXRlQ291bnQ7IGkrKykge1xuICAgIHJldC5wdXNoKHdhbGtlci52YWx1ZSlcbiAgICB3YWxrZXIgPSB0aGlzLnJlbW92ZU5vZGUod2Fsa2VyKVxuICB9XG4gIGlmICh3YWxrZXIgPT09IG51bGwpIHtcbiAgICB3YWxrZXIgPSB0aGlzLnRhaWxcbiAgfVxuXG4gIGlmICh3YWxrZXIgIT09IHRoaXMuaGVhZCAmJiB3YWxrZXIgIT09IHRoaXMudGFpbCkge1xuICAgIHdhbGtlciA9IHdhbGtlci5wcmV2XG4gIH1cblxuICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgd2Fsa2VyID0gaW5zZXJ0KHRoaXMsIHdhbGtlciwgbm9kZXNbaV0pXG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cblxuWWFsbGlzdC5wcm90b3R5cGUucmV2ZXJzZSA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGhlYWQgPSB0aGlzLmhlYWRcbiAgdmFyIHRhaWwgPSB0aGlzLnRhaWxcbiAgZm9yICh2YXIgd2Fsa2VyID0gaGVhZDsgd2Fsa2VyICE9PSBudWxsOyB3YWxrZXIgPSB3YWxrZXIucHJldikge1xuICAgIHZhciBwID0gd2Fsa2VyLnByZXZcbiAgICB3YWxrZXIucHJldiA9IHdhbGtlci5uZXh0XG4gICAgd2Fsa2VyLm5leHQgPSBwXG4gIH1cbiAgdGhpcy5oZWFkID0gdGFpbFxuICB0aGlzLnRhaWwgPSBoZWFkXG4gIHJldHVybiB0aGlzXG59XG5cbmZ1bmN0aW9uIGluc2VydCAoc2VsZiwgbm9kZSwgdmFsdWUpIHtcbiAgdmFyIGluc2VydGVkID0gbm9kZSA9PT0gc2VsZi5oZWFkID9cbiAgICBuZXcgTm9kZSh2YWx1ZSwgbnVsbCwgbm9kZSwgc2VsZikgOlxuICAgIG5ldyBOb2RlKHZhbHVlLCBub2RlLCBub2RlLm5leHQsIHNlbGYpXG5cbiAgaWYgKGluc2VydGVkLm5leHQgPT09IG51bGwpIHtcbiAgICBzZWxmLnRhaWwgPSBpbnNlcnRlZFxuICB9XG4gIGlmIChpbnNlcnRlZC5wcmV2ID09PSBudWxsKSB7XG4gICAgc2VsZi5oZWFkID0gaW5zZXJ0ZWRcbiAgfVxuXG4gIHNlbGYubGVuZ3RoKytcblxuICByZXR1cm4gaW5zZXJ0ZWRcbn1cblxuZnVuY3Rpb24gcHVzaCAoc2VsZiwgaXRlbSkge1xuICBzZWxmLnRhaWwgPSBuZXcgTm9kZShpdGVtLCBzZWxmLnRhaWwsIG51bGwsIHNlbGYpXG4gIGlmICghc2VsZi5oZWFkKSB7XG4gICAgc2VsZi5oZWFkID0gc2VsZi50YWlsXG4gIH1cbiAgc2VsZi5sZW5ndGgrK1xufVxuXG5mdW5jdGlvbiB1bnNoaWZ0IChzZWxmLCBpdGVtKSB7XG4gIHNlbGYuaGVhZCA9IG5ldyBOb2RlKGl0ZW0sIG51bGwsIHNlbGYuaGVhZCwgc2VsZilcbiAgaWYgKCFzZWxmLnRhaWwpIHtcbiAgICBzZWxmLnRhaWwgPSBzZWxmLmhlYWRcbiAgfVxuICBzZWxmLmxlbmd0aCsrXG59XG5cbmZ1bmN0aW9uIE5vZGUgKHZhbHVlLCBwcmV2LCBuZXh0LCBsaXN0KSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBOb2RlKSkge1xuICAgIHJldHVybiBuZXcgTm9kZSh2YWx1ZSwgcHJldiwgbmV4dCwgbGlzdClcbiAgfVxuXG4gIHRoaXMubGlzdCA9IGxpc3RcbiAgdGhpcy52YWx1ZSA9IHZhbHVlXG5cbiAgaWYgKHByZXYpIHtcbiAgICBwcmV2Lm5leHQgPSB0aGlzXG4gICAgdGhpcy5wcmV2ID0gcHJldlxuICB9IGVsc2Uge1xuICAgIHRoaXMucHJldiA9IG51bGxcbiAgfVxuXG4gIGlmIChuZXh0KSB7XG4gICAgbmV4dC5wcmV2ID0gdGhpc1xuICAgIHRoaXMubmV4dCA9IG5leHRcbiAgfSBlbHNlIHtcbiAgICB0aGlzLm5leHQgPSBudWxsXG4gIH1cbn1cblxudHJ5IHtcbiAgLy8gYWRkIGlmIHN1cHBvcnQgZm9yIFN5bWJvbC5pdGVyYXRvciBpcyBwcmVzZW50XG4gIHJlcXVpcmUoJy4vaXRlcmF0b3IuanMnKShZYWxsaXN0KVxufSBjYXRjaCAoZXIpIHt9XG4iLCAiJ3VzZSBzdHJpY3QnXG5cbi8vIEEgbGlua2VkIGxpc3QgdG8ga2VlcCB0cmFjayBvZiByZWNlbnRseS11c2VkLW5lc3NcbmNvbnN0IFlhbGxpc3QgPSByZXF1aXJlKCd5YWxsaXN0JylcblxuY29uc3QgTUFYID0gU3ltYm9sKCdtYXgnKVxuY29uc3QgTEVOR1RIID0gU3ltYm9sKCdsZW5ndGgnKVxuY29uc3QgTEVOR1RIX0NBTENVTEFUT1IgPSBTeW1ib2woJ2xlbmd0aENhbGN1bGF0b3InKVxuY29uc3QgQUxMT1dfU1RBTEUgPSBTeW1ib2woJ2FsbG93U3RhbGUnKVxuY29uc3QgTUFYX0FHRSA9IFN5bWJvbCgnbWF4QWdlJylcbmNvbnN0IERJU1BPU0UgPSBTeW1ib2woJ2Rpc3Bvc2UnKVxuY29uc3QgTk9fRElTUE9TRV9PTl9TRVQgPSBTeW1ib2woJ25vRGlzcG9zZU9uU2V0JylcbmNvbnN0IExSVV9MSVNUID0gU3ltYm9sKCdscnVMaXN0JylcbmNvbnN0IENBQ0hFID0gU3ltYm9sKCdjYWNoZScpXG5jb25zdCBVUERBVEVfQUdFX09OX0dFVCA9IFN5bWJvbCgndXBkYXRlQWdlT25HZXQnKVxuXG5jb25zdCBuYWl2ZUxlbmd0aCA9ICgpID0+IDFcblxuLy8gbHJ1TGlzdCBpcyBhIHlhbGxpc3Qgd2hlcmUgdGhlIGhlYWQgaXMgdGhlIHlvdW5nZXN0XG4vLyBpdGVtLCBhbmQgdGhlIHRhaWwgaXMgdGhlIG9sZGVzdC4gIHRoZSBsaXN0IGNvbnRhaW5zIHRoZSBIaXRcbi8vIG9iamVjdHMgYXMgdGhlIGVudHJpZXMuXG4vLyBFYWNoIEhpdCBvYmplY3QgaGFzIGEgcmVmZXJlbmNlIHRvIGl0cyBZYWxsaXN0Lk5vZGUuICBUaGlzXG4vLyBuZXZlciBjaGFuZ2VzLlxuLy9cbi8vIGNhY2hlIGlzIGEgTWFwIChvciBQc2V1ZG9NYXApIHRoYXQgbWF0Y2hlcyB0aGUga2V5cyB0b1xuLy8gdGhlIFlhbGxpc3QuTm9kZSBvYmplY3QuXG5jbGFzcyBMUlVDYWNoZSB7XG4gIGNvbnN0cnVjdG9yIChvcHRpb25zKSB7XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnbnVtYmVyJylcbiAgICAgIG9wdGlvbnMgPSB7IG1heDogb3B0aW9ucyB9XG5cbiAgICBpZiAoIW9wdGlvbnMpXG4gICAgICBvcHRpb25zID0ge31cblxuICAgIGlmIChvcHRpb25zLm1heCAmJiAodHlwZW9mIG9wdGlvbnMubWF4ICE9PSAnbnVtYmVyJyB8fCBvcHRpb25zLm1heCA8IDApKVxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignbWF4IG11c3QgYmUgYSBub24tbmVnYXRpdmUgbnVtYmVyJylcbiAgICAvLyBLaW5kIG9mIHdlaXJkIHRvIGhhdmUgYSBkZWZhdWx0IG1heCBvZiBJbmZpbml0eSwgYnV0IG9oIHdlbGwuXG4gICAgY29uc3QgbWF4ID0gdGhpc1tNQVhdID0gb3B0aW9ucy5tYXggfHwgSW5maW5pdHlcblxuICAgIGNvbnN0IGxjID0gb3B0aW9ucy5sZW5ndGggfHwgbmFpdmVMZW5ndGhcbiAgICB0aGlzW0xFTkdUSF9DQUxDVUxBVE9SXSA9ICh0eXBlb2YgbGMgIT09ICdmdW5jdGlvbicpID8gbmFpdmVMZW5ndGggOiBsY1xuICAgIHRoaXNbQUxMT1dfU1RBTEVdID0gb3B0aW9ucy5zdGFsZSB8fCBmYWxzZVxuICAgIGlmIChvcHRpb25zLm1heEFnZSAmJiB0eXBlb2Ygb3B0aW9ucy5tYXhBZ2UgIT09ICdudW1iZXInKVxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignbWF4QWdlIG11c3QgYmUgYSBudW1iZXInKVxuICAgIHRoaXNbTUFYX0FHRV0gPSBvcHRpb25zLm1heEFnZSB8fCAwXG4gICAgdGhpc1tESVNQT1NFXSA9IG9wdGlvbnMuZGlzcG9zZVxuICAgIHRoaXNbTk9fRElTUE9TRV9PTl9TRVRdID0gb3B0aW9ucy5ub0Rpc3Bvc2VPblNldCB8fCBmYWxzZVxuICAgIHRoaXNbVVBEQVRFX0FHRV9PTl9HRVRdID0gb3B0aW9ucy51cGRhdGVBZ2VPbkdldCB8fCBmYWxzZVxuICAgIHRoaXMucmVzZXQoKVxuICB9XG5cbiAgLy8gcmVzaXplIHRoZSBjYWNoZSB3aGVuIHRoZSBtYXggY2hhbmdlcy5cbiAgc2V0IG1heCAobUwpIHtcbiAgICBpZiAodHlwZW9mIG1MICE9PSAnbnVtYmVyJyB8fCBtTCA8IDApXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdtYXggbXVzdCBiZSBhIG5vbi1uZWdhdGl2ZSBudW1iZXInKVxuXG4gICAgdGhpc1tNQVhdID0gbUwgfHwgSW5maW5pdHlcbiAgICB0cmltKHRoaXMpXG4gIH1cbiAgZ2V0IG1heCAoKSB7XG4gICAgcmV0dXJuIHRoaXNbTUFYXVxuICB9XG5cbiAgc2V0IGFsbG93U3RhbGUgKGFsbG93U3RhbGUpIHtcbiAgICB0aGlzW0FMTE9XX1NUQUxFXSA9ICEhYWxsb3dTdGFsZVxuICB9XG4gIGdldCBhbGxvd1N0YWxlICgpIHtcbiAgICByZXR1cm4gdGhpc1tBTExPV19TVEFMRV1cbiAgfVxuXG4gIHNldCBtYXhBZ2UgKG1BKSB7XG4gICAgaWYgKHR5cGVvZiBtQSAhPT0gJ251bWJlcicpXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdtYXhBZ2UgbXVzdCBiZSBhIG5vbi1uZWdhdGl2ZSBudW1iZXInKVxuXG4gICAgdGhpc1tNQVhfQUdFXSA9IG1BXG4gICAgdHJpbSh0aGlzKVxuICB9XG4gIGdldCBtYXhBZ2UgKCkge1xuICAgIHJldHVybiB0aGlzW01BWF9BR0VdXG4gIH1cblxuICAvLyByZXNpemUgdGhlIGNhY2hlIHdoZW4gdGhlIGxlbmd0aENhbGN1bGF0b3IgY2hhbmdlcy5cbiAgc2V0IGxlbmd0aENhbGN1bGF0b3IgKGxDKSB7XG4gICAgaWYgKHR5cGVvZiBsQyAhPT0gJ2Z1bmN0aW9uJylcbiAgICAgIGxDID0gbmFpdmVMZW5ndGhcblxuICAgIGlmIChsQyAhPT0gdGhpc1tMRU5HVEhfQ0FMQ1VMQVRPUl0pIHtcbiAgICAgIHRoaXNbTEVOR1RIX0NBTENVTEFUT1JdID0gbENcbiAgICAgIHRoaXNbTEVOR1RIXSA9IDBcbiAgICAgIHRoaXNbTFJVX0xJU1RdLmZvckVhY2goaGl0ID0+IHtcbiAgICAgICAgaGl0Lmxlbmd0aCA9IHRoaXNbTEVOR1RIX0NBTENVTEFUT1JdKGhpdC52YWx1ZSwgaGl0LmtleSlcbiAgICAgICAgdGhpc1tMRU5HVEhdICs9IGhpdC5sZW5ndGhcbiAgICAgIH0pXG4gICAgfVxuICAgIHRyaW0odGhpcylcbiAgfVxuICBnZXQgbGVuZ3RoQ2FsY3VsYXRvciAoKSB7IHJldHVybiB0aGlzW0xFTkdUSF9DQUxDVUxBVE9SXSB9XG5cbiAgZ2V0IGxlbmd0aCAoKSB7IHJldHVybiB0aGlzW0xFTkdUSF0gfVxuICBnZXQgaXRlbUNvdW50ICgpIHsgcmV0dXJuIHRoaXNbTFJVX0xJU1RdLmxlbmd0aCB9XG5cbiAgcmZvckVhY2ggKGZuLCB0aGlzcCkge1xuICAgIHRoaXNwID0gdGhpc3AgfHwgdGhpc1xuICAgIGZvciAobGV0IHdhbGtlciA9IHRoaXNbTFJVX0xJU1RdLnRhaWw7IHdhbGtlciAhPT0gbnVsbDspIHtcbiAgICAgIGNvbnN0IHByZXYgPSB3YWxrZXIucHJldlxuICAgICAgZm9yRWFjaFN0ZXAodGhpcywgZm4sIHdhbGtlciwgdGhpc3ApXG4gICAgICB3YWxrZXIgPSBwcmV2XG4gICAgfVxuICB9XG5cbiAgZm9yRWFjaCAoZm4sIHRoaXNwKSB7XG4gICAgdGhpc3AgPSB0aGlzcCB8fCB0aGlzXG4gICAgZm9yIChsZXQgd2Fsa2VyID0gdGhpc1tMUlVfTElTVF0uaGVhZDsgd2Fsa2VyICE9PSBudWxsOykge1xuICAgICAgY29uc3QgbmV4dCA9IHdhbGtlci5uZXh0XG4gICAgICBmb3JFYWNoU3RlcCh0aGlzLCBmbiwgd2Fsa2VyLCB0aGlzcClcbiAgICAgIHdhbGtlciA9IG5leHRcbiAgICB9XG4gIH1cblxuICBrZXlzICgpIHtcbiAgICByZXR1cm4gdGhpc1tMUlVfTElTVF0udG9BcnJheSgpLm1hcChrID0+IGsua2V5KVxuICB9XG5cbiAgdmFsdWVzICgpIHtcbiAgICByZXR1cm4gdGhpc1tMUlVfTElTVF0udG9BcnJheSgpLm1hcChrID0+IGsudmFsdWUpXG4gIH1cblxuICByZXNldCAoKSB7XG4gICAgaWYgKHRoaXNbRElTUE9TRV0gJiZcbiAgICAgICAgdGhpc1tMUlVfTElTVF0gJiZcbiAgICAgICAgdGhpc1tMUlVfTElTVF0ubGVuZ3RoKSB7XG4gICAgICB0aGlzW0xSVV9MSVNUXS5mb3JFYWNoKGhpdCA9PiB0aGlzW0RJU1BPU0VdKGhpdC5rZXksIGhpdC52YWx1ZSkpXG4gICAgfVxuXG4gICAgdGhpc1tDQUNIRV0gPSBuZXcgTWFwKCkgLy8gaGFzaCBvZiBpdGVtcyBieSBrZXlcbiAgICB0aGlzW0xSVV9MSVNUXSA9IG5ldyBZYWxsaXN0KCkgLy8gbGlzdCBvZiBpdGVtcyBpbiBvcmRlciBvZiB1c2UgcmVjZW5jeVxuICAgIHRoaXNbTEVOR1RIXSA9IDAgLy8gbGVuZ3RoIG9mIGl0ZW1zIGluIHRoZSBsaXN0XG4gIH1cblxuICBkdW1wICgpIHtcbiAgICByZXR1cm4gdGhpc1tMUlVfTElTVF0ubWFwKGhpdCA9PlxuICAgICAgaXNTdGFsZSh0aGlzLCBoaXQpID8gZmFsc2UgOiB7XG4gICAgICAgIGs6IGhpdC5rZXksXG4gICAgICAgIHY6IGhpdC52YWx1ZSxcbiAgICAgICAgZTogaGl0Lm5vdyArIChoaXQubWF4QWdlIHx8IDApXG4gICAgICB9KS50b0FycmF5KCkuZmlsdGVyKGggPT4gaClcbiAgfVxuXG4gIGR1bXBMcnUgKCkge1xuICAgIHJldHVybiB0aGlzW0xSVV9MSVNUXVxuICB9XG5cbiAgc2V0IChrZXksIHZhbHVlLCBtYXhBZ2UpIHtcbiAgICBtYXhBZ2UgPSBtYXhBZ2UgfHwgdGhpc1tNQVhfQUdFXVxuXG4gICAgaWYgKG1heEFnZSAmJiB0eXBlb2YgbWF4QWdlICE9PSAnbnVtYmVyJylcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ21heEFnZSBtdXN0IGJlIGEgbnVtYmVyJylcblxuICAgIGNvbnN0IG5vdyA9IG1heEFnZSA/IERhdGUubm93KCkgOiAwXG4gICAgY29uc3QgbGVuID0gdGhpc1tMRU5HVEhfQ0FMQ1VMQVRPUl0odmFsdWUsIGtleSlcblxuICAgIGlmICh0aGlzW0NBQ0hFXS5oYXMoa2V5KSkge1xuICAgICAgaWYgKGxlbiA+IHRoaXNbTUFYXSkge1xuICAgICAgICBkZWwodGhpcywgdGhpc1tDQUNIRV0uZ2V0KGtleSkpXG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuXG4gICAgICBjb25zdCBub2RlID0gdGhpc1tDQUNIRV0uZ2V0KGtleSlcbiAgICAgIGNvbnN0IGl0ZW0gPSBub2RlLnZhbHVlXG5cbiAgICAgIC8vIGRpc3Bvc2Ugb2YgdGhlIG9sZCBvbmUgYmVmb3JlIG92ZXJ3cml0aW5nXG4gICAgICAvLyBzcGxpdCBvdXQgaW50byAyIGlmcyBmb3IgYmV0dGVyIGNvdmVyYWdlIHRyYWNraW5nXG4gICAgICBpZiAodGhpc1tESVNQT1NFXSkge1xuICAgICAgICBpZiAoIXRoaXNbTk9fRElTUE9TRV9PTl9TRVRdKVxuICAgICAgICAgIHRoaXNbRElTUE9TRV0oa2V5LCBpdGVtLnZhbHVlKVxuICAgICAgfVxuXG4gICAgICBpdGVtLm5vdyA9IG5vd1xuICAgICAgaXRlbS5tYXhBZ2UgPSBtYXhBZ2VcbiAgICAgIGl0ZW0udmFsdWUgPSB2YWx1ZVxuICAgICAgdGhpc1tMRU5HVEhdICs9IGxlbiAtIGl0ZW0ubGVuZ3RoXG4gICAgICBpdGVtLmxlbmd0aCA9IGxlblxuICAgICAgdGhpcy5nZXQoa2V5KVxuICAgICAgdHJpbSh0aGlzKVxuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG5cbiAgICBjb25zdCBoaXQgPSBuZXcgRW50cnkoa2V5LCB2YWx1ZSwgbGVuLCBub3csIG1heEFnZSlcblxuICAgIC8vIG92ZXJzaXplZCBvYmplY3RzIGZhbGwgb3V0IG9mIGNhY2hlIGF1dG9tYXRpY2FsbHkuXG4gICAgaWYgKGhpdC5sZW5ndGggPiB0aGlzW01BWF0pIHtcbiAgICAgIGlmICh0aGlzW0RJU1BPU0VdKVxuICAgICAgICB0aGlzW0RJU1BPU0VdKGtleSwgdmFsdWUpXG5cbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIHRoaXNbTEVOR1RIXSArPSBoaXQubGVuZ3RoXG4gICAgdGhpc1tMUlVfTElTVF0udW5zaGlmdChoaXQpXG4gICAgdGhpc1tDQUNIRV0uc2V0KGtleSwgdGhpc1tMUlVfTElTVF0uaGVhZClcbiAgICB0cmltKHRoaXMpXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIGhhcyAoa2V5KSB7XG4gICAgaWYgKCF0aGlzW0NBQ0hFXS5oYXMoa2V5KSkgcmV0dXJuIGZhbHNlXG4gICAgY29uc3QgaGl0ID0gdGhpc1tDQUNIRV0uZ2V0KGtleSkudmFsdWVcbiAgICByZXR1cm4gIWlzU3RhbGUodGhpcywgaGl0KVxuICB9XG5cbiAgZ2V0IChrZXkpIHtcbiAgICByZXR1cm4gZ2V0KHRoaXMsIGtleSwgdHJ1ZSlcbiAgfVxuXG4gIHBlZWsgKGtleSkge1xuICAgIHJldHVybiBnZXQodGhpcywga2V5LCBmYWxzZSlcbiAgfVxuXG4gIHBvcCAoKSB7XG4gICAgY29uc3Qgbm9kZSA9IHRoaXNbTFJVX0xJU1RdLnRhaWxcbiAgICBpZiAoIW5vZGUpXG4gICAgICByZXR1cm4gbnVsbFxuXG4gICAgZGVsKHRoaXMsIG5vZGUpXG4gICAgcmV0dXJuIG5vZGUudmFsdWVcbiAgfVxuXG4gIGRlbCAoa2V5KSB7XG4gICAgZGVsKHRoaXMsIHRoaXNbQ0FDSEVdLmdldChrZXkpKVxuICB9XG5cbiAgbG9hZCAoYXJyKSB7XG4gICAgLy8gcmVzZXQgdGhlIGNhY2hlXG4gICAgdGhpcy5yZXNldCgpXG5cbiAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpXG4gICAgLy8gQSBwcmV2aW91cyBzZXJpYWxpemVkIGNhY2hlIGhhcyB0aGUgbW9zdCByZWNlbnQgaXRlbXMgZmlyc3RcbiAgICBmb3IgKGxldCBsID0gYXJyLmxlbmd0aCAtIDE7IGwgPj0gMDsgbC0tKSB7XG4gICAgICBjb25zdCBoaXQgPSBhcnJbbF1cbiAgICAgIGNvbnN0IGV4cGlyZXNBdCA9IGhpdC5lIHx8IDBcbiAgICAgIGlmIChleHBpcmVzQXQgPT09IDApXG4gICAgICAgIC8vIHRoZSBpdGVtIHdhcyBjcmVhdGVkIHdpdGhvdXQgZXhwaXJhdGlvbiBpbiBhIG5vbiBhZ2VkIGNhY2hlXG4gICAgICAgIHRoaXMuc2V0KGhpdC5rLCBoaXQudilcbiAgICAgIGVsc2Uge1xuICAgICAgICBjb25zdCBtYXhBZ2UgPSBleHBpcmVzQXQgLSBub3dcbiAgICAgICAgLy8gZG9udCBhZGQgYWxyZWFkeSBleHBpcmVkIGl0ZW1zXG4gICAgICAgIGlmIChtYXhBZ2UgPiAwKSB7XG4gICAgICAgICAgdGhpcy5zZXQoaGl0LmssIGhpdC52LCBtYXhBZ2UpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcnVuZSAoKSB7XG4gICAgdGhpc1tDQUNIRV0uZm9yRWFjaCgodmFsdWUsIGtleSkgPT4gZ2V0KHRoaXMsIGtleSwgZmFsc2UpKVxuICB9XG59XG5cbmNvbnN0IGdldCA9IChzZWxmLCBrZXksIGRvVXNlKSA9PiB7XG4gIGNvbnN0IG5vZGUgPSBzZWxmW0NBQ0hFXS5nZXQoa2V5KVxuICBpZiAobm9kZSkge1xuICAgIGNvbnN0IGhpdCA9IG5vZGUudmFsdWVcbiAgICBpZiAoaXNTdGFsZShzZWxmLCBoaXQpKSB7XG4gICAgICBkZWwoc2VsZiwgbm9kZSlcbiAgICAgIGlmICghc2VsZltBTExPV19TVEFMRV0pXG4gICAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGRvVXNlKSB7XG4gICAgICAgIGlmIChzZWxmW1VQREFURV9BR0VfT05fR0VUXSlcbiAgICAgICAgICBub2RlLnZhbHVlLm5vdyA9IERhdGUubm93KClcbiAgICAgICAgc2VsZltMUlVfTElTVF0udW5zaGlmdE5vZGUobm9kZSlcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGhpdC52YWx1ZVxuICB9XG59XG5cbmNvbnN0IGlzU3RhbGUgPSAoc2VsZiwgaGl0KSA9PiB7XG4gIGlmICghaGl0IHx8ICghaGl0Lm1heEFnZSAmJiAhc2VsZltNQVhfQUdFXSkpXG4gICAgcmV0dXJuIGZhbHNlXG5cbiAgY29uc3QgZGlmZiA9IERhdGUubm93KCkgLSBoaXQubm93XG4gIHJldHVybiBoaXQubWF4QWdlID8gZGlmZiA+IGhpdC5tYXhBZ2VcbiAgICA6IHNlbGZbTUFYX0FHRV0gJiYgKGRpZmYgPiBzZWxmW01BWF9BR0VdKVxufVxuXG5jb25zdCB0cmltID0gc2VsZiA9PiB7XG4gIGlmIChzZWxmW0xFTkdUSF0gPiBzZWxmW01BWF0pIHtcbiAgICBmb3IgKGxldCB3YWxrZXIgPSBzZWxmW0xSVV9MSVNUXS50YWlsO1xuICAgICAgc2VsZltMRU5HVEhdID4gc2VsZltNQVhdICYmIHdhbGtlciAhPT0gbnVsbDspIHtcbiAgICAgIC8vIFdlIGtub3cgdGhhdCB3ZSdyZSBhYm91dCB0byBkZWxldGUgdGhpcyBvbmUsIGFuZCBhbHNvXG4gICAgICAvLyB3aGF0IHRoZSBuZXh0IGxlYXN0IHJlY2VudGx5IHVzZWQga2V5IHdpbGwgYmUsIHNvIGp1c3RcbiAgICAgIC8vIGdvIGFoZWFkIGFuZCBzZXQgaXQgbm93LlxuICAgICAgY29uc3QgcHJldiA9IHdhbGtlci5wcmV2XG4gICAgICBkZWwoc2VsZiwgd2Fsa2VyKVxuICAgICAgd2Fsa2VyID0gcHJldlxuICAgIH1cbiAgfVxufVxuXG5jb25zdCBkZWwgPSAoc2VsZiwgbm9kZSkgPT4ge1xuICBpZiAobm9kZSkge1xuICAgIGNvbnN0IGhpdCA9IG5vZGUudmFsdWVcbiAgICBpZiAoc2VsZltESVNQT1NFXSlcbiAgICAgIHNlbGZbRElTUE9TRV0oaGl0LmtleSwgaGl0LnZhbHVlKVxuXG4gICAgc2VsZltMRU5HVEhdIC09IGhpdC5sZW5ndGhcbiAgICBzZWxmW0NBQ0hFXS5kZWxldGUoaGl0LmtleSlcbiAgICBzZWxmW0xSVV9MSVNUXS5yZW1vdmVOb2RlKG5vZGUpXG4gIH1cbn1cblxuY2xhc3MgRW50cnkge1xuICBjb25zdHJ1Y3RvciAoa2V5LCB2YWx1ZSwgbGVuZ3RoLCBub3csIG1heEFnZSkge1xuICAgIHRoaXMua2V5ID0ga2V5XG4gICAgdGhpcy52YWx1ZSA9IHZhbHVlXG4gICAgdGhpcy5sZW5ndGggPSBsZW5ndGhcbiAgICB0aGlzLm5vdyA9IG5vd1xuICAgIHRoaXMubWF4QWdlID0gbWF4QWdlIHx8IDBcbiAgfVxufVxuXG5jb25zdCBmb3JFYWNoU3RlcCA9IChzZWxmLCBmbiwgbm9kZSwgdGhpc3ApID0+IHtcbiAgbGV0IGhpdCA9IG5vZGUudmFsdWVcbiAgaWYgKGlzU3RhbGUoc2VsZiwgaGl0KSkge1xuICAgIGRlbChzZWxmLCBub2RlKVxuICAgIGlmICghc2VsZltBTExPV19TVEFMRV0pXG4gICAgICBoaXQgPSB1bmRlZmluZWRcbiAgfVxuICBpZiAoaGl0KVxuICAgIGZuLmNhbGwodGhpc3AsIGhpdC52YWx1ZSwgaGl0LmtleSwgc2VsZilcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBMUlVDYWNoZVxuIiwgIid1c2Ugc3RyaWN0J1xuY29uc3QgdXJsID0gcmVxdWlyZSgndXJsJylcbmNvbnN0IGdpdEhvc3RzID0gcmVxdWlyZSgnLi9naXQtaG9zdC1pbmZvLmpzJylcbmNvbnN0IEdpdEhvc3QgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vZ2l0LWhvc3QuanMnKVxuY29uc3QgTFJVID0gcmVxdWlyZSgnbHJ1LWNhY2hlJylcbmNvbnN0IGNhY2hlID0gbmV3IExSVSh7IG1heDogMTAwMCB9KVxuXG5jb25zdCBwcm90b2NvbFRvUmVwcmVzZW50YXRpb25NYXAgPSB7XG4gICdnaXQrc3NoOic6ICdzc2h1cmwnLFxuICAnZ2l0K2h0dHBzOic6ICdodHRwcycsXG4gICdzc2g6JzogJ3NzaHVybCcsXG4gICdnaXQ6JzogJ2dpdCdcbn1cblxuZnVuY3Rpb24gcHJvdG9jb2xUb1JlcHJlc2VudGF0aW9uIChwcm90b2NvbCkge1xuICByZXR1cm4gcHJvdG9jb2xUb1JlcHJlc2VudGF0aW9uTWFwW3Byb3RvY29sXSB8fCBwcm90b2NvbC5zbGljZSgwLCAtMSlcbn1cblxuY29uc3QgYXV0aFByb3RvY29scyA9IHtcbiAgJ2dpdDonOiB0cnVlLFxuICAnaHR0cHM6JzogdHJ1ZSxcbiAgJ2dpdCtodHRwczonOiB0cnVlLFxuICAnaHR0cDonOiB0cnVlLFxuICAnZ2l0K2h0dHA6JzogdHJ1ZVxufVxuXG5jb25zdCBrbm93blByb3RvY29scyA9IE9iamVjdC5rZXlzKGdpdEhvc3RzLmJ5U2hvcnRjdXQpLmNvbmNhdChbJ2h0dHA6JywgJ2h0dHBzOicsICdnaXQ6JywgJ2dpdCtzc2g6JywgJ2dpdCtodHRwczonLCAnc3NoOiddKVxuXG5tb2R1bGUuZXhwb3J0cy5mcm9tVXJsID0gZnVuY3Rpb24gKGdpdHVybCwgb3B0cykge1xuICBpZiAodHlwZW9mIGdpdHVybCAhPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIGNvbnN0IGtleSA9IGdpdHVybCArIEpTT04uc3RyaW5naWZ5KG9wdHMgfHwge30pXG5cbiAgaWYgKCFjYWNoZS5oYXMoa2V5KSkge1xuICAgIGNhY2hlLnNldChrZXksIGZyb21VcmwoZ2l0dXJsLCBvcHRzKSlcbiAgfVxuXG4gIHJldHVybiBjYWNoZS5nZXQoa2V5KVxufVxuXG5mdW5jdGlvbiBmcm9tVXJsIChnaXR1cmwsIG9wdHMpIHtcbiAgaWYgKCFnaXR1cmwpIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIGNvbnN0IHVybCA9IGlzR2l0SHViU2hvcnRoYW5kKGdpdHVybCkgPyAnZ2l0aHViOicgKyBnaXR1cmwgOiBjb3JyZWN0UHJvdG9jb2woZ2l0dXJsKVxuICBjb25zdCBwYXJzZWQgPSBwYXJzZUdpdFVybCh1cmwpXG4gIGlmICghcGFyc2VkKSB7XG4gICAgcmV0dXJuIHBhcnNlZFxuICB9XG5cbiAgY29uc3QgZ2l0SG9zdFNob3J0Y3V0ID0gZ2l0SG9zdHMuYnlTaG9ydGN1dFtwYXJzZWQucHJvdG9jb2xdXG4gIGNvbnN0IGdpdEhvc3REb21haW4gPSBnaXRIb3N0cy5ieURvbWFpbltwYXJzZWQuaG9zdG5hbWUuc3RhcnRzV2l0aCgnd3d3LicpID8gcGFyc2VkLmhvc3RuYW1lLnNsaWNlKDQpIDogcGFyc2VkLmhvc3RuYW1lXVxuICBjb25zdCBnaXRIb3N0TmFtZSA9IGdpdEhvc3RTaG9ydGN1dCB8fCBnaXRIb3N0RG9tYWluXG4gIGlmICghZ2l0SG9zdE5hbWUpIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIGNvbnN0IGdpdEhvc3RJbmZvID0gZ2l0SG9zdHNbZ2l0SG9zdFNob3J0Y3V0IHx8IGdpdEhvc3REb21haW5dXG4gIGxldCBhdXRoID0gbnVsbFxuICBpZiAoYXV0aFByb3RvY29sc1twYXJzZWQucHJvdG9jb2xdICYmIChwYXJzZWQudXNlcm5hbWUgfHwgcGFyc2VkLnBhc3N3b3JkKSkge1xuICAgIGF1dGggPSBgJHtwYXJzZWQudXNlcm5hbWV9JHtwYXJzZWQucGFzc3dvcmQgPyAnOicgKyBwYXJzZWQucGFzc3dvcmQgOiAnJ31gXG4gIH1cblxuICBsZXQgY29tbWl0dGlzaCA9IG51bGxcbiAgbGV0IHVzZXIgPSBudWxsXG4gIGxldCBwcm9qZWN0ID0gbnVsbFxuICBsZXQgZGVmYXVsdFJlcHJlc2VudGF0aW9uID0gbnVsbFxuXG4gIHRyeSB7XG4gICAgaWYgKGdpdEhvc3RTaG9ydGN1dCkge1xuICAgICAgbGV0IHBhdGhuYW1lID0gcGFyc2VkLnBhdGhuYW1lLnN0YXJ0c1dpdGgoJy8nKSA/IHBhcnNlZC5wYXRobmFtZS5zbGljZSgxKSA6IHBhcnNlZC5wYXRobmFtZVxuICAgICAgY29uc3QgZmlyc3RBdCA9IHBhdGhuYW1lLmluZGV4T2YoJ0AnKVxuICAgICAgLy8gd2UgaWdub3JlIGF1dGggZm9yIHNob3J0Y3V0cywgc28ganVzdCB0cmltIGl0IG91dFxuICAgICAgaWYgKGZpcnN0QXQgPiAtMSkge1xuICAgICAgICBwYXRobmFtZSA9IHBhdGhuYW1lLnNsaWNlKGZpcnN0QXQgKyAxKVxuICAgICAgfVxuXG4gICAgICBjb25zdCBsYXN0U2xhc2ggPSBwYXRobmFtZS5sYXN0SW5kZXhPZignLycpXG4gICAgICBpZiAobGFzdFNsYXNoID4gLTEpIHtcbiAgICAgICAgdXNlciA9IGRlY29kZVVSSUNvbXBvbmVudChwYXRobmFtZS5zbGljZSgwLCBsYXN0U2xhc2gpKVxuICAgICAgICAvLyB3ZSB3YW50IG51bGxzIG9ubHksIG5ldmVyIGVtcHR5IHN0cmluZ3NcbiAgICAgICAgaWYgKCF1c2VyKSB7XG4gICAgICAgICAgdXNlciA9IG51bGxcbiAgICAgICAgfVxuICAgICAgICBwcm9qZWN0ID0gZGVjb2RlVVJJQ29tcG9uZW50KHBhdGhuYW1lLnNsaWNlKGxhc3RTbGFzaCArIDEpKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHJvamVjdCA9IGRlY29kZVVSSUNvbXBvbmVudChwYXRobmFtZSlcbiAgICAgIH1cblxuICAgICAgaWYgKHByb2plY3QuZW5kc1dpdGgoJy5naXQnKSkge1xuICAgICAgICBwcm9qZWN0ID0gcHJvamVjdC5zbGljZSgwLCAtNClcbiAgICAgIH1cblxuICAgICAgaWYgKHBhcnNlZC5oYXNoKSB7XG4gICAgICAgIGNvbW1pdHRpc2ggPSBkZWNvZGVVUklDb21wb25lbnQocGFyc2VkLmhhc2guc2xpY2UoMSkpXG4gICAgICB9XG5cbiAgICAgIGRlZmF1bHRSZXByZXNlbnRhdGlvbiA9ICdzaG9ydGN1dCdcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCFnaXRIb3N0SW5mby5wcm90b2NvbHMuaW5jbHVkZXMocGFyc2VkLnByb3RvY29sKSkge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgY29uc3Qgc2VnbWVudHMgPSBnaXRIb3N0SW5mby5leHRyYWN0KHBhcnNlZClcbiAgICAgIGlmICghc2VnbWVudHMpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIHVzZXIgPSBzZWdtZW50cy51c2VyICYmIGRlY29kZVVSSUNvbXBvbmVudChzZWdtZW50cy51c2VyKVxuICAgICAgcHJvamVjdCA9IGRlY29kZVVSSUNvbXBvbmVudChzZWdtZW50cy5wcm9qZWN0KVxuICAgICAgY29tbWl0dGlzaCA9IGRlY29kZVVSSUNvbXBvbmVudChzZWdtZW50cy5jb21taXR0aXNoKVxuICAgICAgZGVmYXVsdFJlcHJlc2VudGF0aW9uID0gcHJvdG9jb2xUb1JlcHJlc2VudGF0aW9uKHBhcnNlZC5wcm90b2NvbClcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgaWYgKGVyciBpbnN0YW5jZW9mIFVSSUVycm9yKSB7XG4gICAgICByZXR1cm5cbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgZXJyXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5ldyBHaXRIb3N0KGdpdEhvc3ROYW1lLCB1c2VyLCBhdXRoLCBwcm9qZWN0LCBjb21taXR0aXNoLCBkZWZhdWx0UmVwcmVzZW50YXRpb24sIG9wdHMpXG59XG5cbi8vIGFjY2VwdHMgaW5wdXQgbGlrZSBnaXQ6Z2l0aHViLmNvbTp1c2VyL3JlcG8gYW5kIGluc2VydHMgdGhlIC8vIGFmdGVyIHRoZSBmaXJzdCA6XG5jb25zdCBjb3JyZWN0UHJvdG9jb2wgPSAoYXJnKSA9PiB7XG4gIGNvbnN0IGZpcnN0Q29sb24gPSBhcmcuaW5kZXhPZignOicpXG4gIGNvbnN0IHByb3RvID0gYXJnLnNsaWNlKDAsIGZpcnN0Q29sb24gKyAxKVxuICBpZiAoa25vd25Qcm90b2NvbHMuaW5jbHVkZXMocHJvdG8pKSB7XG4gICAgcmV0dXJuIGFyZ1xuICB9XG5cbiAgY29uc3QgZmlyc3RBdCA9IGFyZy5pbmRleE9mKCdAJylcbiAgaWYgKGZpcnN0QXQgPiAtMSkge1xuICAgIGlmIChmaXJzdEF0ID4gZmlyc3RDb2xvbikge1xuICAgICAgcmV0dXJuIGBnaXQrc3NoOi8vJHthcmd9YFxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gYXJnXG4gICAgfVxuICB9XG5cbiAgY29uc3QgZG91YmxlU2xhc2ggPSBhcmcuaW5kZXhPZignLy8nKVxuICBpZiAoZG91YmxlU2xhc2ggPT09IGZpcnN0Q29sb24gKyAxKSB7XG4gICAgcmV0dXJuIGFyZ1xuICB9XG5cbiAgcmV0dXJuIGFyZy5zbGljZSgwLCBmaXJzdENvbG9uICsgMSkgKyAnLy8nICsgYXJnLnNsaWNlKGZpcnN0Q29sb24gKyAxKVxufVxuXG4vLyBsb29rIGZvciBnaXRodWIgc2hvcnRoYW5kIGlucHV0cywgc3VjaCBhcyBucG0vY2xpXG5jb25zdCBpc0dpdEh1YlNob3J0aGFuZCA9IChhcmcpID0+IHtcbiAgLy8gaXQgY2Fubm90IGNvbnRhaW4gd2hpdGVzcGFjZSBiZWZvcmUgdGhlIGZpcnN0ICNcbiAgLy8gaXQgY2Fubm90IHN0YXJ0IHdpdGggYSAvIGJlY2F1c2UgdGhhdCdzIHByb2JhYmx5IGFuIGFic29sdXRlIGZpbGUgcGF0aFxuICAvLyBidXQgaXQgbXVzdCBpbmNsdWRlIGEgc2xhc2ggc2luY2UgcmVwb3MgYXJlIHVzZXJuYW1lL3JlcG9zaXRvcnlcbiAgLy8gaXQgY2Fubm90IHN0YXJ0IHdpdGggYSAuIGJlY2F1c2UgdGhhdCdzIHByb2JhYmx5IGEgcmVsYXRpdmUgZmlsZSBwYXRoXG4gIC8vIGl0IGNhbm5vdCBzdGFydCB3aXRoIGFuIEAgYmVjYXVzZSB0aGF0J3MgYSBzY29wZWQgcGFja2FnZSBpZiBpdCBwYXNzZXMgdGhlIG90aGVyIHRlc3RzXG4gIC8vIGl0IGNhbm5vdCBjb250YWluIGEgOiBiZWZvcmUgYSAjIGJlY2F1c2UgdGhhdCB0ZWxscyB1cyB0aGF0IHRoZXJlJ3MgYSBwcm90b2NvbFxuICAvLyBhIHNlY29uZCAvIG1heSBub3QgZXhpc3QgYmVmb3JlIGEgI1xuICBjb25zdCBmaXJzdEhhc2ggPSBhcmcuaW5kZXhPZignIycpXG4gIGNvbnN0IGZpcnN0U2xhc2ggPSBhcmcuaW5kZXhPZignLycpXG4gIGNvbnN0IHNlY29uZFNsYXNoID0gYXJnLmluZGV4T2YoJy8nLCBmaXJzdFNsYXNoICsgMSlcbiAgY29uc3QgZmlyc3RDb2xvbiA9IGFyZy5pbmRleE9mKCc6JylcbiAgY29uc3QgZmlyc3RTcGFjZSA9IC9cXHMvLmV4ZWMoYXJnKVxuICBjb25zdCBmaXJzdEF0ID0gYXJnLmluZGV4T2YoJ0AnKVxuXG4gIGNvbnN0IHNwYWNlT25seUFmdGVySGFzaCA9ICFmaXJzdFNwYWNlIHx8IChmaXJzdEhhc2ggPiAtMSAmJiBmaXJzdFNwYWNlLmluZGV4ID4gZmlyc3RIYXNoKVxuICBjb25zdCBhdE9ubHlBZnRlckhhc2ggPSBmaXJzdEF0ID09PSAtMSB8fCAoZmlyc3RIYXNoID4gLTEgJiYgZmlyc3RBdCA+IGZpcnN0SGFzaClcbiAgY29uc3QgY29sb25Pbmx5QWZ0ZXJIYXNoID0gZmlyc3RDb2xvbiA9PT0gLTEgfHwgKGZpcnN0SGFzaCA+IC0xICYmIGZpcnN0Q29sb24gPiBmaXJzdEhhc2gpXG4gIGNvbnN0IHNlY29uZFNsYXNoT25seUFmdGVySGFzaCA9IHNlY29uZFNsYXNoID09PSAtMSB8fCAoZmlyc3RIYXNoID4gLTEgJiYgc2Vjb25kU2xhc2ggPiBmaXJzdEhhc2gpXG4gIGNvbnN0IGhhc1NsYXNoID0gZmlyc3RTbGFzaCA+IDBcbiAgLy8gaWYgYSAjIGlzIGZvdW5kLCB3aGF0IHdlIHJlYWxseSB3YW50IHRvIGtub3cgaXMgdGhhdCB0aGUgY2hhcmFjdGVyIGltbWVkaWF0ZWx5IGJlZm9yZSAjIGlzIG5vdCBhIC9cbiAgY29uc3QgZG9lc05vdEVuZFdpdGhTbGFzaCA9IGZpcnN0SGFzaCA+IC0xID8gYXJnW2ZpcnN0SGFzaCAtIDFdICE9PSAnLycgOiAhYXJnLmVuZHNXaXRoKCcvJylcbiAgY29uc3QgZG9lc05vdFN0YXJ0V2l0aERvdCA9ICFhcmcuc3RhcnRzV2l0aCgnLicpXG5cbiAgcmV0dXJuIHNwYWNlT25seUFmdGVySGFzaCAmJiBoYXNTbGFzaCAmJiBkb2VzTm90RW5kV2l0aFNsYXNoICYmIGRvZXNOb3RTdGFydFdpdGhEb3QgJiYgYXRPbmx5QWZ0ZXJIYXNoICYmIGNvbG9uT25seUFmdGVySGFzaCAmJiBzZWNvbmRTbGFzaE9ubHlBZnRlckhhc2hcbn1cblxuLy8gYXR0ZW1wdCB0byBjb3JyZWN0IGFuIHNjcCBzdHlsZSB1cmwgc28gdGhhdCBpdCB3aWxsIHBhcnNlIHdpdGggYG5ldyBVUkwoKWBcbmNvbnN0IGNvcnJlY3RVcmwgPSAoZ2l0dXJsKSA9PiB7XG4gIGNvbnN0IGZpcnN0QXQgPSBnaXR1cmwuaW5kZXhPZignQCcpXG4gIGNvbnN0IGxhc3RIYXNoID0gZ2l0dXJsLmxhc3RJbmRleE9mKCcjJylcbiAgbGV0IGZpcnN0Q29sb24gPSBnaXR1cmwuaW5kZXhPZignOicpXG4gIGxldCBsYXN0Q29sb24gPSBnaXR1cmwubGFzdEluZGV4T2YoJzonLCBsYXN0SGFzaCA+IC0xID8gbGFzdEhhc2ggOiBJbmZpbml0eSlcblxuICBsZXQgY29ycmVjdGVkXG4gIGlmIChsYXN0Q29sb24gPiBmaXJzdEF0KSB7XG4gICAgLy8gdGhlIGxhc3QgOiBjb21lcyBhZnRlciB0aGUgZmlyc3QgQCAob3IgdGhlcmUgaXMgbm8gQClcbiAgICAvLyBsaWtlIGl0IHdvdWxkIGluOlxuICAgIC8vIHByb3RvOi8vaG9zdG5hbWUuY29tOnVzZXIvcmVwb1xuICAgIC8vIHVzZXJuYW1lQGhvc3RuYW1lLmNvbTp1c2VyL3JlcG9cbiAgICAvLyA6cGFzc3dvcmRAaG9zdG5hbWUuY29tOnVzZXIvcmVwb1xuICAgIC8vIHVzZXJuYW1lOnBhc3N3b3JkQGhvc3RuYW1lLmNvbTp1c2VyL3JlcG9cbiAgICAvLyBwcm90bzovL3VzZXJuYW1lQGhvc3RuYW1lLmNvbTp1c2VyL3JlcG9cbiAgICAvLyBwcm90bzovLzpwYXNzd29yZEBob3N0bmFtZS5jb206dXNlci9yZXBvXG4gICAgLy8gcHJvdG86Ly91c2VybmFtZTpwYXNzd29yZEBob3N0bmFtZS5jb206dXNlci9yZXBvXG4gICAgLy8gdGhlbiB3ZSByZXBsYWNlIHRoZSBsYXN0IDogd2l0aCBhIC8gdG8gY3JlYXRlIGEgdmFsaWQgcGF0aFxuICAgIGNvcnJlY3RlZCA9IGdpdHVybC5zbGljZSgwLCBsYXN0Q29sb24pICsgJy8nICsgZ2l0dXJsLnNsaWNlKGxhc3RDb2xvbiArIDEpXG4gICAgLy8gLy8gYW5kIHdlIGZpbmQgb3VyIG5ldyA6IHBvc2l0aW9uc1xuICAgIGZpcnN0Q29sb24gPSBjb3JyZWN0ZWQuaW5kZXhPZignOicpXG4gICAgbGFzdENvbG9uID0gY29ycmVjdGVkLmxhc3RJbmRleE9mKCc6JylcbiAgfVxuXG4gIGlmIChmaXJzdENvbG9uID09PSAtMSAmJiBnaXR1cmwuaW5kZXhPZignLy8nKSA9PT0gLTEpIHtcbiAgICAvLyB3ZSBoYXZlIG5vIDogYXQgYWxsXG4gICAgLy8gYXMgaXQgd291bGQgYmUgaW46XG4gICAgLy8gdXNlcm5hbWVAaG9zdG5hbWUuY29tL3VzZXIvcmVwb1xuICAgIC8vIHRoZW4gd2UgcHJlcGVuZCBhIHByb3RvY29sXG4gICAgY29ycmVjdGVkID0gYGdpdCtzc2g6Ly8ke2NvcnJlY3RlZH1gXG4gIH1cblxuICByZXR1cm4gY29ycmVjdGVkXG59XG5cbi8vIHRyeSB0byBwYXJzZSB0aGUgdXJsIGFzIGl0cyBnaXZlbiB0byB1cywgaWYgdGhhdCB0aHJvd3Ncbi8vIHRoZW4gd2UgdHJ5IHRvIGNsZWFuIHRoZSB1cmwgYW5kIHBhcnNlIHRoYXQgcmVzdWx0IGluc3RlYWRcbi8vIFRISVMgRlVOQ1RJT04gU0hPVUxEIE5FVkVSIFRIUk9XXG5jb25zdCBwYXJzZUdpdFVybCA9IChnaXR1cmwpID0+IHtcbiAgbGV0IHJlc3VsdFxuICB0cnkge1xuICAgIHJlc3VsdCA9IG5ldyB1cmwuVVJMKGdpdHVybClcbiAgfSBjYXRjaCAoZXJyKSB7fVxuXG4gIGlmIChyZXN1bHQpIHtcbiAgICByZXR1cm4gcmVzdWx0XG4gIH1cblxuICBjb25zdCBjb3JyZWN0ZWRVcmwgPSBjb3JyZWN0VXJsKGdpdHVybClcbiAgdHJ5IHtcbiAgICByZXN1bHQgPSBuZXcgdXJsLlVSTChjb3JyZWN0ZWRVcmwpXG4gIH0gY2F0Y2ggKGVycikge31cblxuICByZXR1cm4gcmVzdWx0XG59XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCB7IHBhcnNlIH0gPSByZXF1aXJlKGB1cmxgKTtcblxuY29uc3QgVVJMX1BBVFRFUk5TID0gbmV3IFJlZ0V4cCgvXlxcLz86PyhbL1xcdy0uXSspXFwvKFtcXHctLl0rKVxcLz8kLyk7XG5jb25zdCBHSVRIVUJfQVBJID0gbmV3IFJlZ0V4cCgvXlxcL3JlcG9zXFwvKFtcXHctLl0rKVxcLyhbXFx3LS5dKylcXC8oPzp0YXJiYWxsfHppcGJhbGwpKD86XFwvLispPyQvKTtcbmNvbnN0IEdJVEhVQl9DT0RFTE9BRCA9IG5ldyBSZWdFeHAoL15cXC8oW1xcdy0uXSspXFwvKFtcXHctLl0rKVxcLyg/OmxlZ2FjeVxcLig/OnppcHx0YXJcXC5neikpKD86XFwvLispPyQvKTtcblxubW9kdWxlLmV4cG9ydHMgPSB1cmwgPT4ge1xuICBjb25zdCBtb2RpZmllZFVSTCA9IHVybFxuICAgIC8vIFByZXBlbmQgYGh0dHBzYCB0byB0aGUgVVJMIHNvIHRoYXQgYHVybC5wYXJzZWAgd2lsbCBzZWUgdGhlIHZhbHVlIG9mIGB1cmxgIGFzIGFuIGFjdHVhbCBgdXJsYCwgYW5kIHRoZXJlZm9yZSwgY29ycmVjdGx5IHBhcnNlIGl0LlxuICAgIC5yZXBsYWNlKC9eZ2l0QC8sIGBodHRwczovL2dpdEBgKVxuXG4gICAgLy8gUmVtb3ZlIGAuZ2l0YCBmcm9tIGFueSBVUkwgYmVmb3JlIGFwcGx5aW5nIHJlZ3VsYXIgZXhwcmVzc2lvbnMgdG8gdGhlIHN0cmluZy4gUmVtb3ZpbmcgYC5naXRgIHRocm91Z2ggYSBub24gY2FwdHVyZSBncm91cCBpcyBraW5kIG9mIGRpZmZpY3VsdC5cbiAgICAucmVwbGFjZSgvXFwuZ2l0JC8sIGBgKTtcblxuICBjb25zdCBwYXJzZWRVUkwgPSBwYXJzZShtb2RpZmllZFVSTCk7XG4gIGNvbnN0IGZvcm1hdCA9IG1hdGNoZXMgPT4ge1xuICAgIHJldHVybiB7IGJyb3dzZTogY3JlYXRlQnJvd3NlVVJMKHBhcnNlZFVSTCwgbWF0Y2hlcyksIGRvbWFpbjogcGFyc2VkVVJMLmhvc3QsIHByb2plY3Q6IG1hdGNoZXNbMl0gfHwgbnVsbCwgdHlwZTogZ2V0VHlwZShwYXJzZWRVUkwpLCB1c2VyOiBtYXRjaGVzWzFdIHx8IG51bGwgfTtcbiAgfTtcblxuICBpZiAocGFyc2VkVVJMLmhvc3QpIHtcbiAgICBpZiAocGFyc2VkVVJMLmhvc3QuaW5jbHVkZXMoYGFwaS5naXRodWIuY29tYCkpIHtcbiAgICAgIGNvbnN0IG1hdGNoZXMgPSBHSVRIVUJfQVBJLmV4ZWMocGFyc2VkVVJMLnBhdGhuYW1lKSB8fCBbXTtcbiAgICAgIHJldHVybiBmb3JtYXQobWF0Y2hlcyk7XG4gICAgfVxuXG4gICAgaWYgKHBhcnNlZFVSTC5ob3N0LmluY2x1ZGVzKGBjb2RlbG9hZC5naXRodWIuY29tYCkpIHtcbiAgICAgIGNvbnN0IG1hdGNoZXMgPSBHSVRIVUJfQ09ERUxPQUQuZXhlYyhwYXJzZWRVUkwucGF0aG5hbWUpIHx8IFtdO1xuICAgICAgcmV0dXJuIGZvcm1hdChtYXRjaGVzKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZm9ybWF0KFVSTF9QQVRURVJOUy5leGVjKHBhcnNlZFVSTC5wYXRobmFtZSkgfHwgW10pO1xufTtcblxuZnVuY3Rpb24gZ2V0VHlwZSAocGFyc2VkVVJMKSB7XG4gIGlmICh0eXBlb2YgcGFyc2VkVVJMLmhvc3QgIT09IGBzdHJpbmdgKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBpZiAocGFyc2VkVVJMLmhvc3QuaW5kZXhPZihgZ2l0aHViYCkgIT09IC0xKSB7XG4gICAgcmV0dXJuICdnaXRodWInO1xuICB9XG4gIGlmIChwYXJzZWRVUkwuaG9zdC5pbmRleE9mKGBnaXRsYWJgKSAhPT0gLTEpIHtcbiAgICByZXR1cm4gJ2dpdGxhYic7XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gY3JlYXRlQnJvd3NlVVJMIChwYXJzZWRVUkwsIG1hdGNoZXMpIHtcbiAgY29uc3QgcHJvdG9jb2wgPSBwYXJzZWRVUkwucHJvdG9jb2wgPT09IGBodHRwOmAgPyBgaHR0cDpgIDogYGh0dHBzOmA7XG4gIGNvbnN0IGJyb3dzZVVSTCA9IGAke3Byb3RvY29sfS8vJHtwYXJzZWRVUkwuaG9zdH0vJHttYXRjaGVzWzFdfS8ke21hdGNoZXNbMl19YDtcblxuICByZXR1cm4gKCkgPT4ge1xuICAgIHJldHVybiBicm93c2VVUkw7XG4gIH07XG59XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBob3N0ZWRHaXRJbmZvID0gcmVxdWlyZShgaG9zdGVkLWdpdC1pbmZvYCk7XG5jb25zdCBwYXJzZVJlcG9zaXRvcnlVUkwgPSByZXF1aXJlKGBAaHV0c29uL3BhcnNlLXJlcG9zaXRvcnktdXJsYCk7XG5cbm1vZHVsZS5leHBvcnRzID0gcGFja2FnZURhdGEgPT4ge1xuICBpZiAoIXBhY2thZ2VEYXRhIHx8XG4gICAgIXBhY2thZ2VEYXRhLnJlcG9zaXRvcnkgfHxcbiAgICAodHlwZW9mIHBhY2thZ2VEYXRhLnJlcG9zaXRvcnkgIT09ICdzdHJpbmcnICYmICFwYWNrYWdlRGF0YS5yZXBvc2l0b3J5LnVybCkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIHZhbGlkIFwicmVwb3NpdG9yeVwiIGRhdGEgZm91bmQgaW4gcGFja2FnZSBtZXRhZGF0YS4gUGxlYXNlIHNlZSBodHRwczovL2RvY3MubnBtanMuY29tL2ZpbGVzL3BhY2thZ2UuanNvbiNyZXBvc2l0b3J5IGZvciBwcm9wZXIgc3ludGF4LmApO1xuICB9XG5cbiAgY29uc3QgcmVwb3NpdG9yeVVSTCA9IHR5cGVvZiBwYWNrYWdlRGF0YS5yZXBvc2l0b3J5ID09PSAnc3RyaW5nJyA/IHBhY2thZ2VEYXRhLnJlcG9zaXRvcnkgOiBwYWNrYWdlRGF0YS5yZXBvc2l0b3J5LnVybDtcblxuICByZXR1cm4gaG9zdGVkR2l0SW5mby5mcm9tVXJsKHJlcG9zaXRvcnlVUkwpIHx8IHBhcnNlUmVwb3NpdG9yeVVSTChyZXBvc2l0b3J5VVJMKTtcbn07XG4iLCAiLy8gTm90ZTogdGhpcyBpcyB0aGUgc2VtdmVyLm9yZyB2ZXJzaW9uIG9mIHRoZSBzcGVjIHRoYXQgaXQgaW1wbGVtZW50c1xuLy8gTm90IG5lY2Vzc2FyaWx5IHRoZSBwYWNrYWdlIHZlcnNpb24gb2YgdGhpcyBjb2RlLlxuY29uc3QgU0VNVkVSX1NQRUNfVkVSU0lPTiA9ICcyLjAuMCdcblxuY29uc3QgTUFYX0xFTkdUSCA9IDI1NlxuY29uc3QgTUFYX1NBRkVfSU5URUdFUiA9IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSIHx8XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLyA5MDA3MTk5MjU0NzQwOTkxXG5cbi8vIE1heCBzYWZlIHNlZ21lbnQgbGVuZ3RoIGZvciBjb2VyY2lvbi5cbmNvbnN0IE1BWF9TQUZFX0NPTVBPTkVOVF9MRU5HVEggPSAxNlxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgU0VNVkVSX1NQRUNfVkVSU0lPTixcbiAgTUFYX0xFTkdUSCxcbiAgTUFYX1NBRkVfSU5URUdFUixcbiAgTUFYX1NBRkVfQ09NUE9ORU5UX0xFTkdUSCxcbn1cbiIsICJjb25zdCBkZWJ1ZyA9IChcbiAgdHlwZW9mIHByb2Nlc3MgPT09ICdvYmplY3QnICYmXG4gIHByb2Nlc3MuZW52ICYmXG4gIHByb2Nlc3MuZW52Lk5PREVfREVCVUcgJiZcbiAgL1xcYnNlbXZlclxcYi9pLnRlc3QocHJvY2Vzcy5lbnYuTk9ERV9ERUJVRylcbikgPyAoLi4uYXJncykgPT4gY29uc29sZS5lcnJvcignU0VNVkVSJywgLi4uYXJncylcbiAgOiAoKSA9PiB7fVxuXG5tb2R1bGUuZXhwb3J0cyA9IGRlYnVnXG4iLCAiY29uc3QgeyBNQVhfU0FGRV9DT01QT05FTlRfTEVOR1RIIH0gPSByZXF1aXJlKCcuL2NvbnN0YW50cycpXG5jb25zdCBkZWJ1ZyA9IHJlcXVpcmUoJy4vZGVidWcnKVxuZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0ge31cblxuLy8gVGhlIGFjdHVhbCByZWdleHBzIGdvIG9uIGV4cG9ydHMucmVcbmNvbnN0IHJlID0gZXhwb3J0cy5yZSA9IFtdXG5jb25zdCBzcmMgPSBleHBvcnRzLnNyYyA9IFtdXG5jb25zdCB0ID0gZXhwb3J0cy50ID0ge31cbmxldCBSID0gMFxuXG5jb25zdCBjcmVhdGVUb2tlbiA9IChuYW1lLCB2YWx1ZSwgaXNHbG9iYWwpID0+IHtcbiAgY29uc3QgaW5kZXggPSBSKytcbiAgZGVidWcobmFtZSwgaW5kZXgsIHZhbHVlKVxuICB0W25hbWVdID0gaW5kZXhcbiAgc3JjW2luZGV4XSA9IHZhbHVlXG4gIHJlW2luZGV4XSA9IG5ldyBSZWdFeHAodmFsdWUsIGlzR2xvYmFsID8gJ2cnIDogdW5kZWZpbmVkKVxufVxuXG4vLyBUaGUgZm9sbG93aW5nIFJlZ3VsYXIgRXhwcmVzc2lvbnMgY2FuIGJlIHVzZWQgZm9yIHRva2VuaXppbmcsXG4vLyB2YWxpZGF0aW5nLCBhbmQgcGFyc2luZyBTZW1WZXIgdmVyc2lvbiBzdHJpbmdzLlxuXG4vLyAjIyBOdW1lcmljIElkZW50aWZpZXJcbi8vIEEgc2luZ2xlIGAwYCwgb3IgYSBub24temVybyBkaWdpdCBmb2xsb3dlZCBieSB6ZXJvIG9yIG1vcmUgZGlnaXRzLlxuXG5jcmVhdGVUb2tlbignTlVNRVJJQ0lERU5USUZJRVInLCAnMHxbMS05XVxcXFxkKicpXG5jcmVhdGVUb2tlbignTlVNRVJJQ0lERU5USUZJRVJMT09TRScsICdbMC05XSsnKVxuXG4vLyAjIyBOb24tbnVtZXJpYyBJZGVudGlmaWVyXG4vLyBaZXJvIG9yIG1vcmUgZGlnaXRzLCBmb2xsb3dlZCBieSBhIGxldHRlciBvciBoeXBoZW4sIGFuZCB0aGVuIHplcm8gb3Jcbi8vIG1vcmUgbGV0dGVycywgZGlnaXRzLCBvciBoeXBoZW5zLlxuXG5jcmVhdGVUb2tlbignTk9OTlVNRVJJQ0lERU5USUZJRVInLCAnXFxcXGQqW2EtekEtWi1dW2EtekEtWjAtOS1dKicpXG5cbi8vICMjIE1haW4gVmVyc2lvblxuLy8gVGhyZWUgZG90LXNlcGFyYXRlZCBudW1lcmljIGlkZW50aWZpZXJzLlxuXG5jcmVhdGVUb2tlbignTUFJTlZFUlNJT04nLCBgKCR7c3JjW3QuTlVNRVJJQ0lERU5USUZJRVJdfSlcXFxcLmAgK1xuICAgICAgICAgICAgICAgICAgIGAoJHtzcmNbdC5OVU1FUklDSURFTlRJRklFUl19KVxcXFwuYCArXG4gICAgICAgICAgICAgICAgICAgYCgke3NyY1t0Lk5VTUVSSUNJREVOVElGSUVSXX0pYClcblxuY3JlYXRlVG9rZW4oJ01BSU5WRVJTSU9OTE9PU0UnLCBgKCR7c3JjW3QuTlVNRVJJQ0lERU5USUZJRVJMT09TRV19KVxcXFwuYCArXG4gICAgICAgICAgICAgICAgICAgICAgICBgKCR7c3JjW3QuTlVNRVJJQ0lERU5USUZJRVJMT09TRV19KVxcXFwuYCArXG4gICAgICAgICAgICAgICAgICAgICAgICBgKCR7c3JjW3QuTlVNRVJJQ0lERU5USUZJRVJMT09TRV19KWApXG5cbi8vICMjIFByZS1yZWxlYXNlIFZlcnNpb24gSWRlbnRpZmllclxuLy8gQSBudW1lcmljIGlkZW50aWZpZXIsIG9yIGEgbm9uLW51bWVyaWMgaWRlbnRpZmllci5cblxuY3JlYXRlVG9rZW4oJ1BSRVJFTEVBU0VJREVOVElGSUVSJywgYCg/OiR7c3JjW3QuTlVNRVJJQ0lERU5USUZJRVJdXG59fCR7c3JjW3QuTk9OTlVNRVJJQ0lERU5USUZJRVJdfSlgKVxuXG5jcmVhdGVUb2tlbignUFJFUkVMRUFTRUlERU5USUZJRVJMT09TRScsIGAoPzoke3NyY1t0Lk5VTUVSSUNJREVOVElGSUVSTE9PU0VdXG59fCR7c3JjW3QuTk9OTlVNRVJJQ0lERU5USUZJRVJdfSlgKVxuXG4vLyAjIyBQcmUtcmVsZWFzZSBWZXJzaW9uXG4vLyBIeXBoZW4sIGZvbGxvd2VkIGJ5IG9uZSBvciBtb3JlIGRvdC1zZXBhcmF0ZWQgcHJlLXJlbGVhc2UgdmVyc2lvblxuLy8gaWRlbnRpZmllcnMuXG5cbmNyZWF0ZVRva2VuKCdQUkVSRUxFQVNFJywgYCg/Oi0oJHtzcmNbdC5QUkVSRUxFQVNFSURFTlRJRklFUl1cbn0oPzpcXFxcLiR7c3JjW3QuUFJFUkVMRUFTRUlERU5USUZJRVJdfSkqKSlgKVxuXG5jcmVhdGVUb2tlbignUFJFUkVMRUFTRUxPT1NFJywgYCg/Oi0/KCR7c3JjW3QuUFJFUkVMRUFTRUlERU5USUZJRVJMT09TRV1cbn0oPzpcXFxcLiR7c3JjW3QuUFJFUkVMRUFTRUlERU5USUZJRVJMT09TRV19KSopKWApXG5cbi8vICMjIEJ1aWxkIE1ldGFkYXRhIElkZW50aWZpZXJcbi8vIEFueSBjb21iaW5hdGlvbiBvZiBkaWdpdHMsIGxldHRlcnMsIG9yIGh5cGhlbnMuXG5cbmNyZWF0ZVRva2VuKCdCVUlMRElERU5USUZJRVInLCAnWzAtOUEtWmEtei1dKycpXG5cbi8vICMjIEJ1aWxkIE1ldGFkYXRhXG4vLyBQbHVzIHNpZ24sIGZvbGxvd2VkIGJ5IG9uZSBvciBtb3JlIHBlcmlvZC1zZXBhcmF0ZWQgYnVpbGQgbWV0YWRhdGFcbi8vIGlkZW50aWZpZXJzLlxuXG5jcmVhdGVUb2tlbignQlVJTEQnLCBgKD86XFxcXCsoJHtzcmNbdC5CVUlMRElERU5USUZJRVJdXG59KD86XFxcXC4ke3NyY1t0LkJVSUxESURFTlRJRklFUl19KSopKWApXG5cbi8vICMjIEZ1bGwgVmVyc2lvbiBTdHJpbmdcbi8vIEEgbWFpbiB2ZXJzaW9uLCBmb2xsb3dlZCBvcHRpb25hbGx5IGJ5IGEgcHJlLXJlbGVhc2UgdmVyc2lvbiBhbmRcbi8vIGJ1aWxkIG1ldGFkYXRhLlxuXG4vLyBOb3RlIHRoYXQgdGhlIG9ubHkgbWFqb3IsIG1pbm9yLCBwYXRjaCwgYW5kIHByZS1yZWxlYXNlIHNlY3Rpb25zIG9mXG4vLyB0aGUgdmVyc2lvbiBzdHJpbmcgYXJlIGNhcHR1cmluZyBncm91cHMuICBUaGUgYnVpbGQgbWV0YWRhdGEgaXMgbm90IGFcbi8vIGNhcHR1cmluZyBncm91cCwgYmVjYXVzZSBpdCBzaG91bGQgbm90IGV2ZXIgYmUgdXNlZCBpbiB2ZXJzaW9uXG4vLyBjb21wYXJpc29uLlxuXG5jcmVhdGVUb2tlbignRlVMTFBMQUlOJywgYHY/JHtzcmNbdC5NQUlOVkVSU0lPTl1cbn0ke3NyY1t0LlBSRVJFTEVBU0VdfT8ke1xuICBzcmNbdC5CVUlMRF19P2ApXG5cbmNyZWF0ZVRva2VuKCdGVUxMJywgYF4ke3NyY1t0LkZVTExQTEFJTl19JGApXG5cbi8vIGxpa2UgZnVsbCwgYnV0IGFsbG93cyB2MS4yLjMgYW5kID0xLjIuMywgd2hpY2ggcGVvcGxlIGRvIHNvbWV0aW1lcy5cbi8vIGFsc28sIDEuMC4wYWxwaGExIChwcmVyZWxlYXNlIHdpdGhvdXQgdGhlIGh5cGhlbikgd2hpY2ggaXMgcHJldHR5XG4vLyBjb21tb24gaW4gdGhlIG5wbSByZWdpc3RyeS5cbmNyZWF0ZVRva2VuKCdMT09TRVBMQUlOJywgYFt2PVxcXFxzXSoke3NyY1t0Lk1BSU5WRVJTSU9OTE9PU0VdXG59JHtzcmNbdC5QUkVSRUxFQVNFTE9PU0VdfT8ke1xuICBzcmNbdC5CVUlMRF19P2ApXG5cbmNyZWF0ZVRva2VuKCdMT09TRScsIGBeJHtzcmNbdC5MT09TRVBMQUlOXX0kYClcblxuY3JlYXRlVG9rZW4oJ0dUTFQnLCAnKCg/Ojx8Pik/PT8pJylcblxuLy8gU29tZXRoaW5nIGxpa2UgXCIyLipcIiBvciBcIjEuMi54XCIuXG4vLyBOb3RlIHRoYXQgXCJ4LnhcIiBpcyBhIHZhbGlkIHhSYW5nZSBpZGVudGlmZXIsIG1lYW5pbmcgXCJhbnkgdmVyc2lvblwiXG4vLyBPbmx5IHRoZSBmaXJzdCBpdGVtIGlzIHN0cmljdGx5IHJlcXVpcmVkLlxuY3JlYXRlVG9rZW4oJ1hSQU5HRUlERU5USUZJRVJMT09TRScsIGAke3NyY1t0Lk5VTUVSSUNJREVOVElGSUVSTE9PU0VdfXx4fFh8XFxcXCpgKVxuY3JlYXRlVG9rZW4oJ1hSQU5HRUlERU5USUZJRVInLCBgJHtzcmNbdC5OVU1FUklDSURFTlRJRklFUl19fHh8WHxcXFxcKmApXG5cbmNyZWF0ZVRva2VuKCdYUkFOR0VQTEFJTicsIGBbdj1cXFxcc10qKCR7c3JjW3QuWFJBTkdFSURFTlRJRklFUl19KWAgK1xuICAgICAgICAgICAgICAgICAgIGAoPzpcXFxcLigke3NyY1t0LlhSQU5HRUlERU5USUZJRVJdfSlgICtcbiAgICAgICAgICAgICAgICAgICBgKD86XFxcXC4oJHtzcmNbdC5YUkFOR0VJREVOVElGSUVSXX0pYCArXG4gICAgICAgICAgICAgICAgICAgYCg/OiR7c3JjW3QuUFJFUkVMRUFTRV19KT8ke1xuICAgICAgICAgICAgICAgICAgICAgc3JjW3QuQlVJTERdfT9gICtcbiAgICAgICAgICAgICAgICAgICBgKT8pP2ApXG5cbmNyZWF0ZVRva2VuKCdYUkFOR0VQTEFJTkxPT1NFJywgYFt2PVxcXFxzXSooJHtzcmNbdC5YUkFOR0VJREVOVElGSUVSTE9PU0VdfSlgICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGAoPzpcXFxcLigke3NyY1t0LlhSQU5HRUlERU5USUZJRVJMT09TRV19KWAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgYCg/OlxcXFwuKCR7c3JjW3QuWFJBTkdFSURFTlRJRklFUkxPT1NFXX0pYCArXG4gICAgICAgICAgICAgICAgICAgICAgICBgKD86JHtzcmNbdC5QUkVSRUxFQVNFTE9PU0VdfSk/JHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjW3QuQlVJTERdfT9gICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGApPyk/YClcblxuY3JlYXRlVG9rZW4oJ1hSQU5HRScsIGBeJHtzcmNbdC5HVExUXX1cXFxccyoke3NyY1t0LlhSQU5HRVBMQUlOXX0kYClcbmNyZWF0ZVRva2VuKCdYUkFOR0VMT09TRScsIGBeJHtzcmNbdC5HVExUXX1cXFxccyoke3NyY1t0LlhSQU5HRVBMQUlOTE9PU0VdfSRgKVxuXG4vLyBDb2VyY2lvbi5cbi8vIEV4dHJhY3QgYW55dGhpbmcgdGhhdCBjb3VsZCBjb25jZWl2YWJseSBiZSBhIHBhcnQgb2YgYSB2YWxpZCBzZW12ZXJcbmNyZWF0ZVRva2VuKCdDT0VSQ0UnLCBgJHsnKF58W15cXFxcZF0pJyArXG4gICAgICAgICAgICAgICcoXFxcXGR7MSwnfSR7TUFYX1NBRkVfQ09NUE9ORU5UX0xFTkdUSH19KWAgK1xuICAgICAgICAgICAgICBgKD86XFxcXC4oXFxcXGR7MSwke01BWF9TQUZFX0NPTVBPTkVOVF9MRU5HVEh9fSkpP2AgK1xuICAgICAgICAgICAgICBgKD86XFxcXC4oXFxcXGR7MSwke01BWF9TQUZFX0NPTVBPTkVOVF9MRU5HVEh9fSkpP2AgK1xuICAgICAgICAgICAgICBgKD86JHxbXlxcXFxkXSlgKVxuY3JlYXRlVG9rZW4oJ0NPRVJDRVJUTCcsIHNyY1t0LkNPRVJDRV0sIHRydWUpXG5cbi8vIFRpbGRlIHJhbmdlcy5cbi8vIE1lYW5pbmcgaXMgXCJyZWFzb25hYmx5IGF0IG9yIGdyZWF0ZXIgdGhhblwiXG5jcmVhdGVUb2tlbignTE9ORVRJTERFJywgJyg/On4+PyknKVxuXG5jcmVhdGVUb2tlbignVElMREVUUklNJywgYChcXFxccyopJHtzcmNbdC5MT05FVElMREVdfVxcXFxzK2AsIHRydWUpXG5leHBvcnRzLnRpbGRlVHJpbVJlcGxhY2UgPSAnJDF+J1xuXG5jcmVhdGVUb2tlbignVElMREUnLCBgXiR7c3JjW3QuTE9ORVRJTERFXX0ke3NyY1t0LlhSQU5HRVBMQUlOXX0kYClcbmNyZWF0ZVRva2VuKCdUSUxERUxPT1NFJywgYF4ke3NyY1t0LkxPTkVUSUxERV19JHtzcmNbdC5YUkFOR0VQTEFJTkxPT1NFXX0kYClcblxuLy8gQ2FyZXQgcmFuZ2VzLlxuLy8gTWVhbmluZyBpcyBcImF0IGxlYXN0IGFuZCBiYWNrd2FyZHMgY29tcGF0aWJsZSB3aXRoXCJcbmNyZWF0ZVRva2VuKCdMT05FQ0FSRVQnLCAnKD86XFxcXF4pJylcblxuY3JlYXRlVG9rZW4oJ0NBUkVUVFJJTScsIGAoXFxcXHMqKSR7c3JjW3QuTE9ORUNBUkVUXX1cXFxccytgLCB0cnVlKVxuZXhwb3J0cy5jYXJldFRyaW1SZXBsYWNlID0gJyQxXidcblxuY3JlYXRlVG9rZW4oJ0NBUkVUJywgYF4ke3NyY1t0LkxPTkVDQVJFVF19JHtzcmNbdC5YUkFOR0VQTEFJTl19JGApXG5jcmVhdGVUb2tlbignQ0FSRVRMT09TRScsIGBeJHtzcmNbdC5MT05FQ0FSRVRdfSR7c3JjW3QuWFJBTkdFUExBSU5MT09TRV19JGApXG5cbi8vIEEgc2ltcGxlIGd0L2x0L2VxIHRoaW5nLCBvciBqdXN0IFwiXCIgdG8gaW5kaWNhdGUgXCJhbnkgdmVyc2lvblwiXG5jcmVhdGVUb2tlbignQ09NUEFSQVRPUkxPT1NFJywgYF4ke3NyY1t0LkdUTFRdfVxcXFxzKigke3NyY1t0LkxPT1NFUExBSU5dfSkkfF4kYClcbmNyZWF0ZVRva2VuKCdDT01QQVJBVE9SJywgYF4ke3NyY1t0LkdUTFRdfVxcXFxzKigke3NyY1t0LkZVTExQTEFJTl19KSR8XiRgKVxuXG4vLyBBbiBleHByZXNzaW9uIHRvIHN0cmlwIGFueSB3aGl0ZXNwYWNlIGJldHdlZW4gdGhlIGd0bHQgYW5kIHRoZSB0aGluZ1xuLy8gaXQgbW9kaWZpZXMsIHNvIHRoYXQgYD4gMS4yLjNgID09PiBgPjEuMi4zYFxuY3JlYXRlVG9rZW4oJ0NPTVBBUkFUT1JUUklNJywgYChcXFxccyopJHtzcmNbdC5HVExUXVxufVxcXFxzKigke3NyY1t0LkxPT1NFUExBSU5dfXwke3NyY1t0LlhSQU5HRVBMQUlOXX0pYCwgdHJ1ZSlcbmV4cG9ydHMuY29tcGFyYXRvclRyaW1SZXBsYWNlID0gJyQxJDIkMydcblxuLy8gU29tZXRoaW5nIGxpa2UgYDEuMi4zIC0gMS4yLjRgXG4vLyBOb3RlIHRoYXQgdGhlc2UgYWxsIHVzZSB0aGUgbG9vc2UgZm9ybSwgYmVjYXVzZSB0aGV5J2xsIGJlXG4vLyBjaGVja2VkIGFnYWluc3QgZWl0aGVyIHRoZSBzdHJpY3Qgb3IgbG9vc2UgY29tcGFyYXRvciBmb3JtXG4vLyBsYXRlci5cbmNyZWF0ZVRva2VuKCdIWVBIRU5SQU5HRScsIGBeXFxcXHMqKCR7c3JjW3QuWFJBTkdFUExBSU5dfSlgICtcbiAgICAgICAgICAgICAgICAgICBgXFxcXHMrLVxcXFxzK2AgK1xuICAgICAgICAgICAgICAgICAgIGAoJHtzcmNbdC5YUkFOR0VQTEFJTl19KWAgK1xuICAgICAgICAgICAgICAgICAgIGBcXFxccyokYClcblxuY3JlYXRlVG9rZW4oJ0hZUEhFTlJBTkdFTE9PU0UnLCBgXlxcXFxzKigke3NyY1t0LlhSQU5HRVBMQUlOTE9PU0VdfSlgICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGBcXFxccystXFxcXHMrYCArXG4gICAgICAgICAgICAgICAgICAgICAgICBgKCR7c3JjW3QuWFJBTkdFUExBSU5MT09TRV19KWAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgYFxcXFxzKiRgKVxuXG4vLyBTdGFyIHJhbmdlcyBiYXNpY2FsbHkganVzdCBhbGxvdyBhbnl0aGluZyBhdCBhbGwuXG5jcmVhdGVUb2tlbignU1RBUicsICcoPHw+KT89P1xcXFxzKlxcXFwqJylcbi8vID49MC4wLjAgaXMgbGlrZSBhIHN0YXJcbmNyZWF0ZVRva2VuKCdHVEUwJywgJ15cXFxccyo+PVxcXFxzKjBcXFxcLjBcXFxcLjBcXFxccyokJylcbmNyZWF0ZVRva2VuKCdHVEUwUFJFJywgJ15cXFxccyo+PVxcXFxzKjBcXFxcLjBcXFxcLjAtMFxcXFxzKiQnKVxuIiwgIi8vIHBhcnNlIG91dCBqdXN0IHRoZSBvcHRpb25zIHdlIGNhcmUgYWJvdXQgc28gd2UgYWx3YXlzIGdldCBhIGNvbnNpc3RlbnRcbi8vIG9iaiB3aXRoIGtleXMgaW4gYSBjb25zaXN0ZW50IG9yZGVyLlxuY29uc3Qgb3B0cyA9IFsnaW5jbHVkZVByZXJlbGVhc2UnLCAnbG9vc2UnLCAncnRsJ11cbmNvbnN0IHBhcnNlT3B0aW9ucyA9IG9wdGlvbnMgPT5cbiAgIW9wdGlvbnMgPyB7fVxuICA6IHR5cGVvZiBvcHRpb25zICE9PSAnb2JqZWN0JyA/IHsgbG9vc2U6IHRydWUgfVxuICA6IG9wdHMuZmlsdGVyKGsgPT4gb3B0aW9uc1trXSkucmVkdWNlKChvLCBrKSA9PiB7XG4gICAgb1trXSA9IHRydWVcbiAgICByZXR1cm4gb1xuICB9LCB7fSlcbm1vZHVsZS5leHBvcnRzID0gcGFyc2VPcHRpb25zXG4iLCAiY29uc3QgbnVtZXJpYyA9IC9eWzAtOV0rJC9cbmNvbnN0IGNvbXBhcmVJZGVudGlmaWVycyA9IChhLCBiKSA9PiB7XG4gIGNvbnN0IGFudW0gPSBudW1lcmljLnRlc3QoYSlcbiAgY29uc3QgYm51bSA9IG51bWVyaWMudGVzdChiKVxuXG4gIGlmIChhbnVtICYmIGJudW0pIHtcbiAgICBhID0gK2FcbiAgICBiID0gK2JcbiAgfVxuXG4gIHJldHVybiBhID09PSBiID8gMFxuICAgIDogKGFudW0gJiYgIWJudW0pID8gLTFcbiAgICA6IChibnVtICYmICFhbnVtKSA/IDFcbiAgICA6IGEgPCBiID8gLTFcbiAgICA6IDFcbn1cblxuY29uc3QgcmNvbXBhcmVJZGVudGlmaWVycyA9IChhLCBiKSA9PiBjb21wYXJlSWRlbnRpZmllcnMoYiwgYSlcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGNvbXBhcmVJZGVudGlmaWVycyxcbiAgcmNvbXBhcmVJZGVudGlmaWVycyxcbn1cbiIsICJjb25zdCBkZWJ1ZyA9IHJlcXVpcmUoJy4uL2ludGVybmFsL2RlYnVnJylcbmNvbnN0IHsgTUFYX0xFTkdUSCwgTUFYX1NBRkVfSU5URUdFUiB9ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWwvY29uc3RhbnRzJylcbmNvbnN0IHsgcmUsIHQgfSA9IHJlcXVpcmUoJy4uL2ludGVybmFsL3JlJylcblxuY29uc3QgcGFyc2VPcHRpb25zID0gcmVxdWlyZSgnLi4vaW50ZXJuYWwvcGFyc2Utb3B0aW9ucycpXG5jb25zdCB7IGNvbXBhcmVJZGVudGlmaWVycyB9ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWwvaWRlbnRpZmllcnMnKVxuY2xhc3MgU2VtVmVyIHtcbiAgY29uc3RydWN0b3IgKHZlcnNpb24sIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gcGFyc2VPcHRpb25zKG9wdGlvbnMpXG5cbiAgICBpZiAodmVyc2lvbiBpbnN0YW5jZW9mIFNlbVZlcikge1xuICAgICAgaWYgKHZlcnNpb24ubG9vc2UgPT09ICEhb3B0aW9ucy5sb29zZSAmJlxuICAgICAgICAgIHZlcnNpb24uaW5jbHVkZVByZXJlbGVhc2UgPT09ICEhb3B0aW9ucy5pbmNsdWRlUHJlcmVsZWFzZSkge1xuICAgICAgICByZXR1cm4gdmVyc2lvblxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmVyc2lvbiA9IHZlcnNpb24udmVyc2lvblxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodHlwZW9mIHZlcnNpb24gIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBJbnZhbGlkIFZlcnNpb246ICR7dmVyc2lvbn1gKVxuICAgIH1cblxuICAgIGlmICh2ZXJzaW9uLmxlbmd0aCA+IE1BWF9MRU5HVEgpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgIGB2ZXJzaW9uIGlzIGxvbmdlciB0aGFuICR7TUFYX0xFTkdUSH0gY2hhcmFjdGVyc2BcbiAgICAgIClcbiAgICB9XG5cbiAgICBkZWJ1ZygnU2VtVmVyJywgdmVyc2lvbiwgb3B0aW9ucylcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zXG4gICAgdGhpcy5sb29zZSA9ICEhb3B0aW9ucy5sb29zZVxuICAgIC8vIHRoaXMgaXNuJ3QgYWN0dWFsbHkgcmVsZXZhbnQgZm9yIHZlcnNpb25zLCBidXQga2VlcCBpdCBzbyB0aGF0IHdlXG4gICAgLy8gZG9uJ3QgcnVuIGludG8gdHJvdWJsZSBwYXNzaW5nIHRoaXMub3B0aW9ucyBhcm91bmQuXG4gICAgdGhpcy5pbmNsdWRlUHJlcmVsZWFzZSA9ICEhb3B0aW9ucy5pbmNsdWRlUHJlcmVsZWFzZVxuXG4gICAgY29uc3QgbSA9IHZlcnNpb24udHJpbSgpLm1hdGNoKG9wdGlvbnMubG9vc2UgPyByZVt0LkxPT1NFXSA6IHJlW3QuRlVMTF0pXG5cbiAgICBpZiAoIW0pIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYEludmFsaWQgVmVyc2lvbjogJHt2ZXJzaW9ufWApXG4gICAgfVxuXG4gICAgdGhpcy5yYXcgPSB2ZXJzaW9uXG5cbiAgICAvLyB0aGVzZSBhcmUgYWN0dWFsbHkgbnVtYmVyc1xuICAgIHRoaXMubWFqb3IgPSArbVsxXVxuICAgIHRoaXMubWlub3IgPSArbVsyXVxuICAgIHRoaXMucGF0Y2ggPSArbVszXVxuXG4gICAgaWYgKHRoaXMubWFqb3IgPiBNQVhfU0FGRV9JTlRFR0VSIHx8IHRoaXMubWFqb3IgPCAwKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIG1ham9yIHZlcnNpb24nKVxuICAgIH1cblxuICAgIGlmICh0aGlzLm1pbm9yID4gTUFYX1NBRkVfSU5URUdFUiB8fCB0aGlzLm1pbm9yIDwgMCkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBtaW5vciB2ZXJzaW9uJylcbiAgICB9XG5cbiAgICBpZiAodGhpcy5wYXRjaCA+IE1BWF9TQUZFX0lOVEVHRVIgfHwgdGhpcy5wYXRjaCA8IDApIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgcGF0Y2ggdmVyc2lvbicpXG4gICAgfVxuXG4gICAgLy8gbnVtYmVyaWZ5IGFueSBwcmVyZWxlYXNlIG51bWVyaWMgaWRzXG4gICAgaWYgKCFtWzRdKSB7XG4gICAgICB0aGlzLnByZXJlbGVhc2UgPSBbXVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnByZXJlbGVhc2UgPSBtWzRdLnNwbGl0KCcuJykubWFwKChpZCkgPT4ge1xuICAgICAgICBpZiAoL15bMC05XSskLy50ZXN0KGlkKSkge1xuICAgICAgICAgIGNvbnN0IG51bSA9ICtpZFxuICAgICAgICAgIGlmIChudW0gPj0gMCAmJiBudW0gPCBNQVhfU0FGRV9JTlRFR0VSKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVtXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpZFxuICAgICAgfSlcbiAgICB9XG5cbiAgICB0aGlzLmJ1aWxkID0gbVs1XSA/IG1bNV0uc3BsaXQoJy4nKSA6IFtdXG4gICAgdGhpcy5mb3JtYXQoKVxuICB9XG5cbiAgZm9ybWF0ICgpIHtcbiAgICB0aGlzLnZlcnNpb24gPSBgJHt0aGlzLm1ham9yfS4ke3RoaXMubWlub3J9LiR7dGhpcy5wYXRjaH1gXG4gICAgaWYgKHRoaXMucHJlcmVsZWFzZS5sZW5ndGgpIHtcbiAgICAgIHRoaXMudmVyc2lvbiArPSBgLSR7dGhpcy5wcmVyZWxlYXNlLmpvaW4oJy4nKX1gXG4gICAgfVxuICAgIHJldHVybiB0aGlzLnZlcnNpb25cbiAgfVxuXG4gIHRvU3RyaW5nICgpIHtcbiAgICByZXR1cm4gdGhpcy52ZXJzaW9uXG4gIH1cblxuICBjb21wYXJlIChvdGhlcikge1xuICAgIGRlYnVnKCdTZW1WZXIuY29tcGFyZScsIHRoaXMudmVyc2lvbiwgdGhpcy5vcHRpb25zLCBvdGhlcilcbiAgICBpZiAoIShvdGhlciBpbnN0YW5jZW9mIFNlbVZlcikpIHtcbiAgICAgIGlmICh0eXBlb2Ygb3RoZXIgPT09ICdzdHJpbmcnICYmIG90aGVyID09PSB0aGlzLnZlcnNpb24pIHtcbiAgICAgICAgcmV0dXJuIDBcbiAgICAgIH1cbiAgICAgIG90aGVyID0gbmV3IFNlbVZlcihvdGhlciwgdGhpcy5vcHRpb25zKVxuICAgIH1cblxuICAgIGlmIChvdGhlci52ZXJzaW9uID09PSB0aGlzLnZlcnNpb24pIHtcbiAgICAgIHJldHVybiAwXG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuY29tcGFyZU1haW4ob3RoZXIpIHx8IHRoaXMuY29tcGFyZVByZShvdGhlcilcbiAgfVxuXG4gIGNvbXBhcmVNYWluIChvdGhlcikge1xuICAgIGlmICghKG90aGVyIGluc3RhbmNlb2YgU2VtVmVyKSkge1xuICAgICAgb3RoZXIgPSBuZXcgU2VtVmVyKG90aGVyLCB0aGlzLm9wdGlvbnMpXG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIGNvbXBhcmVJZGVudGlmaWVycyh0aGlzLm1ham9yLCBvdGhlci5tYWpvcikgfHxcbiAgICAgIGNvbXBhcmVJZGVudGlmaWVycyh0aGlzLm1pbm9yLCBvdGhlci5taW5vcikgfHxcbiAgICAgIGNvbXBhcmVJZGVudGlmaWVycyh0aGlzLnBhdGNoLCBvdGhlci5wYXRjaClcbiAgICApXG4gIH1cblxuICBjb21wYXJlUHJlIChvdGhlcikge1xuICAgIGlmICghKG90aGVyIGluc3RhbmNlb2YgU2VtVmVyKSkge1xuICAgICAgb3RoZXIgPSBuZXcgU2VtVmVyKG90aGVyLCB0aGlzLm9wdGlvbnMpXG4gICAgfVxuXG4gICAgLy8gTk9UIGhhdmluZyBhIHByZXJlbGVhc2UgaXMgPiBoYXZpbmcgb25lXG4gICAgaWYgKHRoaXMucHJlcmVsZWFzZS5sZW5ndGggJiYgIW90aGVyLnByZXJlbGVhc2UubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gLTFcbiAgICB9IGVsc2UgaWYgKCF0aGlzLnByZXJlbGVhc2UubGVuZ3RoICYmIG90aGVyLnByZXJlbGVhc2UubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gMVxuICAgIH0gZWxzZSBpZiAoIXRoaXMucHJlcmVsZWFzZS5sZW5ndGggJiYgIW90aGVyLnByZXJlbGVhc2UubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gMFxuICAgIH1cblxuICAgIGxldCBpID0gMFxuICAgIGRvIHtcbiAgICAgIGNvbnN0IGEgPSB0aGlzLnByZXJlbGVhc2VbaV1cbiAgICAgIGNvbnN0IGIgPSBvdGhlci5wcmVyZWxlYXNlW2ldXG4gICAgICBkZWJ1ZygncHJlcmVsZWFzZSBjb21wYXJlJywgaSwgYSwgYilcbiAgICAgIGlmIChhID09PSB1bmRlZmluZWQgJiYgYiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiAwXG4gICAgICB9IGVsc2UgaWYgKGIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gMVxuICAgICAgfSBlbHNlIGlmIChhID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIC0xXG4gICAgICB9IGVsc2UgaWYgKGEgPT09IGIpIHtcbiAgICAgICAgY29udGludWVcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBjb21wYXJlSWRlbnRpZmllcnMoYSwgYilcbiAgICAgIH1cbiAgICB9IHdoaWxlICgrK2kpXG4gIH1cblxuICBjb21wYXJlQnVpbGQgKG90aGVyKSB7XG4gICAgaWYgKCEob3RoZXIgaW5zdGFuY2VvZiBTZW1WZXIpKSB7XG4gICAgICBvdGhlciA9IG5ldyBTZW1WZXIob3RoZXIsIHRoaXMub3B0aW9ucylcbiAgICB9XG5cbiAgICBsZXQgaSA9IDBcbiAgICBkbyB7XG4gICAgICBjb25zdCBhID0gdGhpcy5idWlsZFtpXVxuICAgICAgY29uc3QgYiA9IG90aGVyLmJ1aWxkW2ldXG4gICAgICBkZWJ1ZygncHJlcmVsZWFzZSBjb21wYXJlJywgaSwgYSwgYilcbiAgICAgIGlmIChhID09PSB1bmRlZmluZWQgJiYgYiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiAwXG4gICAgICB9IGVsc2UgaWYgKGIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gMVxuICAgICAgfSBlbHNlIGlmIChhID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIC0xXG4gICAgICB9IGVsc2UgaWYgKGEgPT09IGIpIHtcbiAgICAgICAgY29udGludWVcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBjb21wYXJlSWRlbnRpZmllcnMoYSwgYilcbiAgICAgIH1cbiAgICB9IHdoaWxlICgrK2kpXG4gIH1cblxuICAvLyBwcmVtaW5vciB3aWxsIGJ1bXAgdGhlIHZlcnNpb24gdXAgdG8gdGhlIG5leHQgbWlub3IgcmVsZWFzZSwgYW5kIGltbWVkaWF0ZWx5XG4gIC8vIGRvd24gdG8gcHJlLXJlbGVhc2UuIHByZW1ham9yIGFuZCBwcmVwYXRjaCB3b3JrIHRoZSBzYW1lIHdheS5cbiAgaW5jIChyZWxlYXNlLCBpZGVudGlmaWVyKSB7XG4gICAgc3dpdGNoIChyZWxlYXNlKSB7XG4gICAgICBjYXNlICdwcmVtYWpvcic6XG4gICAgICAgIHRoaXMucHJlcmVsZWFzZS5sZW5ndGggPSAwXG4gICAgICAgIHRoaXMucGF0Y2ggPSAwXG4gICAgICAgIHRoaXMubWlub3IgPSAwXG4gICAgICAgIHRoaXMubWFqb3IrK1xuICAgICAgICB0aGlzLmluYygncHJlJywgaWRlbnRpZmllcilcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ3ByZW1pbm9yJzpcbiAgICAgICAgdGhpcy5wcmVyZWxlYXNlLmxlbmd0aCA9IDBcbiAgICAgICAgdGhpcy5wYXRjaCA9IDBcbiAgICAgICAgdGhpcy5taW5vcisrXG4gICAgICAgIHRoaXMuaW5jKCdwcmUnLCBpZGVudGlmaWVyKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAncHJlcGF0Y2gnOlxuICAgICAgICAvLyBJZiB0aGlzIGlzIGFscmVhZHkgYSBwcmVyZWxlYXNlLCBpdCB3aWxsIGJ1bXAgdG8gdGhlIG5leHQgdmVyc2lvblxuICAgICAgICAvLyBkcm9wIGFueSBwcmVyZWxlYXNlcyB0aGF0IG1pZ2h0IGFscmVhZHkgZXhpc3QsIHNpbmNlIHRoZXkgYXJlIG5vdFxuICAgICAgICAvLyByZWxldmFudCBhdCB0aGlzIHBvaW50LlxuICAgICAgICB0aGlzLnByZXJlbGVhc2UubGVuZ3RoID0gMFxuICAgICAgICB0aGlzLmluYygncGF0Y2gnLCBpZGVudGlmaWVyKVxuICAgICAgICB0aGlzLmluYygncHJlJywgaWRlbnRpZmllcilcbiAgICAgICAgYnJlYWtcbiAgICAgIC8vIElmIHRoZSBpbnB1dCBpcyBhIG5vbi1wcmVyZWxlYXNlIHZlcnNpb24sIHRoaXMgYWN0cyB0aGUgc2FtZSBhc1xuICAgICAgLy8gcHJlcGF0Y2guXG4gICAgICBjYXNlICdwcmVyZWxlYXNlJzpcbiAgICAgICAgaWYgKHRoaXMucHJlcmVsZWFzZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICB0aGlzLmluYygncGF0Y2gnLCBpZGVudGlmaWVyKVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW5jKCdwcmUnLCBpZGVudGlmaWVyKVxuICAgICAgICBicmVha1xuXG4gICAgICBjYXNlICdtYWpvcic6XG4gICAgICAgIC8vIElmIHRoaXMgaXMgYSBwcmUtbWFqb3IgdmVyc2lvbiwgYnVtcCB1cCB0byB0aGUgc2FtZSBtYWpvciB2ZXJzaW9uLlxuICAgICAgICAvLyBPdGhlcndpc2UgaW5jcmVtZW50IG1ham9yLlxuICAgICAgICAvLyAxLjAuMC01IGJ1bXBzIHRvIDEuMC4wXG4gICAgICAgIC8vIDEuMS4wIGJ1bXBzIHRvIDIuMC4wXG4gICAgICAgIGlmIChcbiAgICAgICAgICB0aGlzLm1pbm9yICE9PSAwIHx8XG4gICAgICAgICAgdGhpcy5wYXRjaCAhPT0gMCB8fFxuICAgICAgICAgIHRoaXMucHJlcmVsZWFzZS5sZW5ndGggPT09IDBcbiAgICAgICAgKSB7XG4gICAgICAgICAgdGhpcy5tYWpvcisrXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5taW5vciA9IDBcbiAgICAgICAgdGhpcy5wYXRjaCA9IDBcbiAgICAgICAgdGhpcy5wcmVyZWxlYXNlID0gW11cbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ21pbm9yJzpcbiAgICAgICAgLy8gSWYgdGhpcyBpcyBhIHByZS1taW5vciB2ZXJzaW9uLCBidW1wIHVwIHRvIHRoZSBzYW1lIG1pbm9yIHZlcnNpb24uXG4gICAgICAgIC8vIE90aGVyd2lzZSBpbmNyZW1lbnQgbWlub3IuXG4gICAgICAgIC8vIDEuMi4wLTUgYnVtcHMgdG8gMS4yLjBcbiAgICAgICAgLy8gMS4yLjEgYnVtcHMgdG8gMS4zLjBcbiAgICAgICAgaWYgKHRoaXMucGF0Y2ggIT09IDAgfHwgdGhpcy5wcmVyZWxlYXNlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHRoaXMubWlub3IrK1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucGF0Y2ggPSAwXG4gICAgICAgIHRoaXMucHJlcmVsZWFzZSA9IFtdXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdwYXRjaCc6XG4gICAgICAgIC8vIElmIHRoaXMgaXMgbm90IGEgcHJlLXJlbGVhc2UgdmVyc2lvbiwgaXQgd2lsbCBpbmNyZW1lbnQgdGhlIHBhdGNoLlxuICAgICAgICAvLyBJZiBpdCBpcyBhIHByZS1yZWxlYXNlIGl0IHdpbGwgYnVtcCB1cCB0byB0aGUgc2FtZSBwYXRjaCB2ZXJzaW9uLlxuICAgICAgICAvLyAxLjIuMC01IHBhdGNoZXMgdG8gMS4yLjBcbiAgICAgICAgLy8gMS4yLjAgcGF0Y2hlcyB0byAxLjIuMVxuICAgICAgICBpZiAodGhpcy5wcmVyZWxlYXNlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHRoaXMucGF0Y2grK1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucHJlcmVsZWFzZSA9IFtdXG4gICAgICAgIGJyZWFrXG4gICAgICAvLyBUaGlzIHByb2JhYmx5IHNob3VsZG4ndCBiZSB1c2VkIHB1YmxpY2x5LlxuICAgICAgLy8gMS4wLjAgJ3ByZScgd291bGQgYmVjb21lIDEuMC4wLTAgd2hpY2ggaXMgdGhlIHdyb25nIGRpcmVjdGlvbi5cbiAgICAgIGNhc2UgJ3ByZSc6XG4gICAgICAgIGlmICh0aGlzLnByZXJlbGVhc2UubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgdGhpcy5wcmVyZWxlYXNlID0gWzBdXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbGV0IGkgPSB0aGlzLnByZXJlbGVhc2UubGVuZ3RoXG4gICAgICAgICAgd2hpbGUgKC0taSA+PSAwKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMucHJlcmVsZWFzZVtpXSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgdGhpcy5wcmVyZWxlYXNlW2ldKytcbiAgICAgICAgICAgICAgaSA9IC0yXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpID09PSAtMSkge1xuICAgICAgICAgICAgLy8gZGlkbid0IGluY3JlbWVudCBhbnl0aGluZ1xuICAgICAgICAgICAgdGhpcy5wcmVyZWxlYXNlLnB1c2goMClcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlkZW50aWZpZXIpIHtcbiAgICAgICAgICAvLyAxLjIuMC1iZXRhLjEgYnVtcHMgdG8gMS4yLjAtYmV0YS4yLFxuICAgICAgICAgIC8vIDEuMi4wLWJldGEuZm9vYmx6IG9yIDEuMi4wLWJldGEgYnVtcHMgdG8gMS4yLjAtYmV0YS4wXG4gICAgICAgICAgaWYgKGNvbXBhcmVJZGVudGlmaWVycyh0aGlzLnByZXJlbGVhc2VbMF0sIGlkZW50aWZpZXIpID09PSAwKSB7XG4gICAgICAgICAgICBpZiAoaXNOYU4odGhpcy5wcmVyZWxlYXNlWzFdKSkge1xuICAgICAgICAgICAgICB0aGlzLnByZXJlbGVhc2UgPSBbaWRlbnRpZmllciwgMF1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5wcmVyZWxlYXNlID0gW2lkZW50aWZpZXIsIDBdXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrXG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgaW52YWxpZCBpbmNyZW1lbnQgYXJndW1lbnQ6ICR7cmVsZWFzZX1gKVxuICAgIH1cbiAgICB0aGlzLmZvcm1hdCgpXG4gICAgdGhpcy5yYXcgPSB0aGlzLnZlcnNpb25cbiAgICByZXR1cm4gdGhpc1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gU2VtVmVyXG4iLCAiY29uc3QgeyBNQVhfTEVOR1RIIH0gPSByZXF1aXJlKCcuLi9pbnRlcm5hbC9jb25zdGFudHMnKVxuY29uc3QgeyByZSwgdCB9ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWwvcmUnKVxuY29uc3QgU2VtVmVyID0gcmVxdWlyZSgnLi4vY2xhc3Nlcy9zZW12ZXInKVxuXG5jb25zdCBwYXJzZU9wdGlvbnMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbC9wYXJzZS1vcHRpb25zJylcbmNvbnN0IHBhcnNlID0gKHZlcnNpb24sIG9wdGlvbnMpID0+IHtcbiAgb3B0aW9ucyA9IHBhcnNlT3B0aW9ucyhvcHRpb25zKVxuXG4gIGlmICh2ZXJzaW9uIGluc3RhbmNlb2YgU2VtVmVyKSB7XG4gICAgcmV0dXJuIHZlcnNpb25cbiAgfVxuXG4gIGlmICh0eXBlb2YgdmVyc2lvbiAhPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgaWYgKHZlcnNpb24ubGVuZ3RoID4gTUFYX0xFTkdUSCkge1xuICAgIHJldHVybiBudWxsXG4gIH1cblxuICBjb25zdCByID0gb3B0aW9ucy5sb29zZSA/IHJlW3QuTE9PU0VdIDogcmVbdC5GVUxMXVxuICBpZiAoIXIudGVzdCh2ZXJzaW9uKSkge1xuICAgIHJldHVybiBudWxsXG4gIH1cblxuICB0cnkge1xuICAgIHJldHVybiBuZXcgU2VtVmVyKHZlcnNpb24sIG9wdGlvbnMpXG4gIH0gY2F0Y2ggKGVyKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHBhcnNlXG4iLCAiY29uc3QgcGFyc2UgPSByZXF1aXJlKCcuL3BhcnNlJylcbmNvbnN0IHZhbGlkID0gKHZlcnNpb24sIG9wdGlvbnMpID0+IHtcbiAgY29uc3QgdiA9IHBhcnNlKHZlcnNpb24sIG9wdGlvbnMpXG4gIHJldHVybiB2ID8gdi52ZXJzaW9uIDogbnVsbFxufVxubW9kdWxlLmV4cG9ydHMgPSB2YWxpZFxuIiwgImNvbnN0IHBhcnNlID0gcmVxdWlyZSgnLi9wYXJzZScpXG5jb25zdCBjbGVhbiA9ICh2ZXJzaW9uLCBvcHRpb25zKSA9PiB7XG4gIGNvbnN0IHMgPSBwYXJzZSh2ZXJzaW9uLnRyaW0oKS5yZXBsYWNlKC9eWz12XSsvLCAnJyksIG9wdGlvbnMpXG4gIHJldHVybiBzID8gcy52ZXJzaW9uIDogbnVsbFxufVxubW9kdWxlLmV4cG9ydHMgPSBjbGVhblxuIiwgIid1c2Ugc3RyaWN0J1xuXG52YXIgbGljZW5zZXMgPSBbXVxuICAuY29uY2F0KHJlcXVpcmUoJ3NwZHgtbGljZW5zZS1pZHMnKSlcbiAgLmNvbmNhdChyZXF1aXJlKCdzcGR4LWxpY2Vuc2UtaWRzL2RlcHJlY2F0ZWQnKSlcbnZhciBleGNlcHRpb25zID0gcmVxdWlyZSgnc3BkeC1leGNlcHRpb25zJylcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoc291cmNlKSB7XG4gIHZhciBpbmRleCA9IDBcblxuICBmdW5jdGlvbiBoYXNNb3JlICgpIHtcbiAgICByZXR1cm4gaW5kZXggPCBzb3VyY2UubGVuZ3RoXG4gIH1cblxuICAvLyBgdmFsdWVgIGNhbiBiZSBhIHJlZ2V4cCBvciBhIHN0cmluZy5cbiAgLy8gSWYgaXQgaXMgcmVjb2duaXplZCwgdGhlIG1hdGNoaW5nIHNvdXJjZSBzdHJpbmcgaXMgcmV0dXJuZWQgYW5kXG4gIC8vIHRoZSBpbmRleCBpcyBpbmNyZW1lbnRlZC4gT3RoZXJ3aXNlIGB1bmRlZmluZWRgIGlzIHJldHVybmVkLlxuICBmdW5jdGlvbiByZWFkICh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFJlZ0V4cCkge1xuICAgICAgdmFyIGNoYXJzID0gc291cmNlLnNsaWNlKGluZGV4KVxuICAgICAgdmFyIG1hdGNoID0gY2hhcnMubWF0Y2godmFsdWUpXG4gICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgaW5kZXggKz0gbWF0Y2hbMF0ubGVuZ3RoXG4gICAgICAgIHJldHVybiBtYXRjaFswXVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoc291cmNlLmluZGV4T2YodmFsdWUsIGluZGV4KSA9PT0gaW5kZXgpIHtcbiAgICAgICAgaW5kZXggKz0gdmFsdWUubGVuZ3RoXG4gICAgICAgIHJldHVybiB2YWx1ZVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNraXBXaGl0ZXNwYWNlICgpIHtcbiAgICByZWFkKC9bIF0qLylcbiAgfVxuXG4gIGZ1bmN0aW9uIG9wZXJhdG9yICgpIHtcbiAgICB2YXIgc3RyaW5nXG4gICAgdmFyIHBvc3NpYmlsaXRpZXMgPSBbJ1dJVEgnLCAnQU5EJywgJ09SJywgJygnLCAnKScsICc6JywgJysnXVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcG9zc2liaWxpdGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgc3RyaW5nID0gcmVhZChwb3NzaWJpbGl0aWVzW2ldKVxuICAgICAgaWYgKHN0cmluZykge1xuICAgICAgICBicmVha1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzdHJpbmcgPT09ICcrJyAmJiBpbmRleCA+IDEgJiYgc291cmNlW2luZGV4IC0gMl0gPT09ICcgJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdTcGFjZSBiZWZvcmUgYCtgJylcbiAgICB9XG5cbiAgICByZXR1cm4gc3RyaW5nICYmIHtcbiAgICAgIHR5cGU6ICdPUEVSQVRPUicsXG4gICAgICBzdHJpbmc6IHN0cmluZ1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGlkc3RyaW5nICgpIHtcbiAgICByZXR1cm4gcmVhZCgvW0EtWmEtejAtOS0uXSsvKVxuICB9XG5cbiAgZnVuY3Rpb24gZXhwZWN0SWRzdHJpbmcgKCkge1xuICAgIHZhciBzdHJpbmcgPSBpZHN0cmluZygpXG4gICAgaWYgKCFzdHJpbmcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgaWRzdHJpbmcgYXQgb2Zmc2V0ICcgKyBpbmRleClcbiAgICB9XG4gICAgcmV0dXJuIHN0cmluZ1xuICB9XG5cbiAgZnVuY3Rpb24gZG9jdW1lbnRSZWYgKCkge1xuICAgIGlmIChyZWFkKCdEb2N1bWVudFJlZi0nKSkge1xuICAgICAgdmFyIHN0cmluZyA9IGV4cGVjdElkc3RyaW5nKClcbiAgICAgIHJldHVybiB7IHR5cGU6ICdET0NVTUVOVFJFRicsIHN0cmluZzogc3RyaW5nIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBsaWNlbnNlUmVmICgpIHtcbiAgICBpZiAocmVhZCgnTGljZW5zZVJlZi0nKSkge1xuICAgICAgdmFyIHN0cmluZyA9IGV4cGVjdElkc3RyaW5nKClcbiAgICAgIHJldHVybiB7IHR5cGU6ICdMSUNFTlNFUkVGJywgc3RyaW5nOiBzdHJpbmcgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGlkZW50aWZpZXIgKCkge1xuICAgIHZhciBiZWdpbiA9IGluZGV4XG4gICAgdmFyIHN0cmluZyA9IGlkc3RyaW5nKClcblxuICAgIGlmIChsaWNlbnNlcy5pbmRleE9mKHN0cmluZykgIT09IC0xKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiAnTElDRU5TRScsXG4gICAgICAgIHN0cmluZzogc3RyaW5nXG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChleGNlcHRpb25zLmluZGV4T2Yoc3RyaW5nKSAhPT0gLTEpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6ICdFWENFUFRJT04nLFxuICAgICAgICBzdHJpbmc6IHN0cmluZ1xuICAgICAgfVxuICAgIH1cblxuICAgIGluZGV4ID0gYmVnaW5cbiAgfVxuXG4gIC8vIFRyaWVzIHRvIHJlYWQgdGhlIG5leHQgdG9rZW4uIFJldHVybnMgYHVuZGVmaW5lZGAgaWYgbm8gdG9rZW4gaXNcbiAgLy8gcmVjb2duaXplZC5cbiAgZnVuY3Rpb24gcGFyc2VUb2tlbiAoKSB7XG4gICAgLy8gT3JkZXJpbmcgbWF0dGVyc1xuICAgIHJldHVybiAoXG4gICAgICBvcGVyYXRvcigpIHx8XG4gICAgICBkb2N1bWVudFJlZigpIHx8XG4gICAgICBsaWNlbnNlUmVmKCkgfHxcbiAgICAgIGlkZW50aWZpZXIoKVxuICAgIClcbiAgfVxuXG4gIHZhciB0b2tlbnMgPSBbXVxuICB3aGlsZSAoaGFzTW9yZSgpKSB7XG4gICAgc2tpcFdoaXRlc3BhY2UoKVxuICAgIGlmICghaGFzTW9yZSgpKSB7XG4gICAgICBicmVha1xuICAgIH1cblxuICAgIHZhciB0b2tlbiA9IHBhcnNlVG9rZW4oKVxuICAgIGlmICghdG9rZW4pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVW5leHBlY3RlZCBgJyArIHNvdXJjZVtpbmRleF0gK1xuICAgICAgICAgICAgICAgICAgICAgICdgIGF0IG9mZnNldCAnICsgaW5kZXgpXG4gICAgfVxuXG4gICAgdG9rZW5zLnB1c2godG9rZW4pXG4gIH1cbiAgcmV0dXJuIHRva2Vuc1xufVxuIiwgIid1c2Ugc3RyaWN0J1xuXG4vLyBUaGUgQUJORiBncmFtbWFyIGluIHRoZSBzcGVjIGlzIHRvdGFsbHkgYW1iaWd1b3VzLlxuLy9cbi8vIFRoaXMgcGFyc2VyIGZvbGxvd3MgdGhlIG9wZXJhdG9yIHByZWNlZGVuY2UgZGVmaW5lZCBpbiB0aGVcbi8vIGBPcmRlciBvZiBQcmVjZWRlbmNlIGFuZCBQYXJlbnRoZXNlc2Agc2VjdGlvbi5cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodG9rZW5zKSB7XG4gIHZhciBpbmRleCA9IDBcblxuICBmdW5jdGlvbiBoYXNNb3JlICgpIHtcbiAgICByZXR1cm4gaW5kZXggPCB0b2tlbnMubGVuZ3RoXG4gIH1cblxuICBmdW5jdGlvbiB0b2tlbiAoKSB7XG4gICAgcmV0dXJuIGhhc01vcmUoKSA/IHRva2Vuc1tpbmRleF0gOiBudWxsXG4gIH1cblxuICBmdW5jdGlvbiBuZXh0ICgpIHtcbiAgICBpZiAoIWhhc01vcmUoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKClcbiAgICB9XG4gICAgaW5kZXgrK1xuICB9XG5cbiAgZnVuY3Rpb24gcGFyc2VPcGVyYXRvciAob3BlcmF0b3IpIHtcbiAgICB2YXIgdCA9IHRva2VuKClcbiAgICBpZiAodCAmJiB0LnR5cGUgPT09ICdPUEVSQVRPUicgJiYgb3BlcmF0b3IgPT09IHQuc3RyaW5nKSB7XG4gICAgICBuZXh0KClcbiAgICAgIHJldHVybiB0LnN0cmluZ1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHBhcnNlV2l0aCAoKSB7XG4gICAgaWYgKHBhcnNlT3BlcmF0b3IoJ1dJVEgnKSkge1xuICAgICAgdmFyIHQgPSB0b2tlbigpXG4gICAgICBpZiAodCAmJiB0LnR5cGUgPT09ICdFWENFUFRJT04nKSB7XG4gICAgICAgIG5leHQoKVxuICAgICAgICByZXR1cm4gdC5zdHJpbmdcbiAgICAgIH1cbiAgICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgZXhjZXB0aW9uIGFmdGVyIGBXSVRIYCcpXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcGFyc2VMaWNlbnNlUmVmICgpIHtcbiAgICAvLyBUT0RPOiBBY3R1YWxseSwgZXZlcnl0aGluZyBpcyBjb25jYXRlbmF0ZWQgaW50byBvbmUgc3RyaW5nXG4gICAgLy8gZm9yIGJhY2t3YXJkLWNvbXBhdGliaWxpdHkgYnV0IGl0IGNvdWxkIGJlIGJldHRlciB0byByZXR1cm5cbiAgICAvLyBhIG5pY2Ugc3RydWN0dXJlLlxuICAgIHZhciBiZWdpbiA9IGluZGV4XG4gICAgdmFyIHN0cmluZyA9ICcnXG4gICAgdmFyIHQgPSB0b2tlbigpXG4gICAgaWYgKHQudHlwZSA9PT0gJ0RPQ1VNRU5UUkVGJykge1xuICAgICAgbmV4dCgpXG4gICAgICBzdHJpbmcgKz0gJ0RvY3VtZW50UmVmLScgKyB0LnN0cmluZyArICc6J1xuICAgICAgaWYgKCFwYXJzZU9wZXJhdG9yKCc6JykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCBgOmAgYWZ0ZXIgYERvY3VtZW50UmVmLS4uLmAnKVxuICAgICAgfVxuICAgIH1cbiAgICB0ID0gdG9rZW4oKVxuICAgIGlmICh0LnR5cGUgPT09ICdMSUNFTlNFUkVGJykge1xuICAgICAgbmV4dCgpXG4gICAgICBzdHJpbmcgKz0gJ0xpY2Vuc2VSZWYtJyArIHQuc3RyaW5nXG4gICAgICByZXR1cm4geyBsaWNlbnNlOiBzdHJpbmcgfVxuICAgIH1cbiAgICBpbmRleCA9IGJlZ2luXG4gIH1cblxuICBmdW5jdGlvbiBwYXJzZUxpY2Vuc2UgKCkge1xuICAgIHZhciB0ID0gdG9rZW4oKVxuICAgIGlmICh0ICYmIHQudHlwZSA9PT0gJ0xJQ0VOU0UnKSB7XG4gICAgICBuZXh0KClcbiAgICAgIHZhciBub2RlID0geyBsaWNlbnNlOiB0LnN0cmluZyB9XG4gICAgICBpZiAocGFyc2VPcGVyYXRvcignKycpKSB7XG4gICAgICAgIG5vZGUucGx1cyA9IHRydWVcbiAgICAgIH1cbiAgICAgIHZhciBleGNlcHRpb24gPSBwYXJzZVdpdGgoKVxuICAgICAgaWYgKGV4Y2VwdGlvbikge1xuICAgICAgICBub2RlLmV4Y2VwdGlvbiA9IGV4Y2VwdGlvblxuICAgICAgfVxuICAgICAgcmV0dXJuIG5vZGVcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBwYXJzZVBhcmVudGhlc2l6ZWRFeHByZXNzaW9uICgpIHtcbiAgICB2YXIgbGVmdCA9IHBhcnNlT3BlcmF0b3IoJygnKVxuICAgIGlmICghbGVmdCkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgdmFyIGV4cHIgPSBwYXJzZUV4cHJlc3Npb24oKVxuXG4gICAgaWYgKCFwYXJzZU9wZXJhdG9yKCcpJykpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgYClgJylcbiAgICB9XG5cbiAgICByZXR1cm4gZXhwclxuICB9XG5cbiAgZnVuY3Rpb24gcGFyc2VBdG9tICgpIHtcbiAgICByZXR1cm4gKFxuICAgICAgcGFyc2VQYXJlbnRoZXNpemVkRXhwcmVzc2lvbigpIHx8XG4gICAgICBwYXJzZUxpY2Vuc2VSZWYoKSB8fFxuICAgICAgcGFyc2VMaWNlbnNlKClcbiAgICApXG4gIH1cblxuICBmdW5jdGlvbiBtYWtlQmluYXJ5T3BQYXJzZXIgKG9wZXJhdG9yLCBuZXh0UGFyc2VyKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHBhcnNlQmluYXJ5T3AgKCkge1xuICAgICAgdmFyIGxlZnQgPSBuZXh0UGFyc2VyKClcbiAgICAgIGlmICghbGVmdCkge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgaWYgKCFwYXJzZU9wZXJhdG9yKG9wZXJhdG9yKSkge1xuICAgICAgICByZXR1cm4gbGVmdFxuICAgICAgfVxuXG4gICAgICB2YXIgcmlnaHQgPSBwYXJzZUJpbmFyeU9wKClcbiAgICAgIGlmICghcmlnaHQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCBleHByZXNzaW9uJylcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGxlZnQ6IGxlZnQsXG4gICAgICAgIGNvbmp1bmN0aW9uOiBvcGVyYXRvci50b0xvd2VyQ2FzZSgpLFxuICAgICAgICByaWdodDogcmlnaHRcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB2YXIgcGFyc2VBbmQgPSBtYWtlQmluYXJ5T3BQYXJzZXIoJ0FORCcsIHBhcnNlQXRvbSlcbiAgdmFyIHBhcnNlRXhwcmVzc2lvbiA9IG1ha2VCaW5hcnlPcFBhcnNlcignT1InLCBwYXJzZUFuZClcblxuICB2YXIgbm9kZSA9IHBhcnNlRXhwcmVzc2lvbigpXG4gIGlmICghbm9kZSB8fCBoYXNNb3JlKCkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1N5bnRheCBlcnJvcicpXG4gIH1cbiAgcmV0dXJuIG5vZGVcbn1cbiIsICIndXNlIHN0cmljdCdcblxudmFyIHNjYW4gPSByZXF1aXJlKCcuL3NjYW4nKVxudmFyIHBhcnNlID0gcmVxdWlyZSgnLi9wYXJzZScpXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHNvdXJjZSkge1xuICByZXR1cm4gcGFyc2Uoc2Nhbihzb3VyY2UpKVxufVxuIiwgIi8qXG5Db3B5cmlnaHQgc3BkeC1jb3JyZWN0LmpzIGNvbnRyaWJ1dG9yc1xuXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xueW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG5cbiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuXG5Vbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG5kaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG5XSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cblNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbmxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuKi9cbnZhciBwYXJzZSA9IHJlcXVpcmUoJ3NwZHgtZXhwcmVzc2lvbi1wYXJzZScpXG52YXIgc3BkeExpY2Vuc2VJZHMgPSByZXF1aXJlKCdzcGR4LWxpY2Vuc2UtaWRzJylcblxuZnVuY3Rpb24gdmFsaWQgKHN0cmluZykge1xuICB0cnkge1xuICAgIHBhcnNlKHN0cmluZylcbiAgICByZXR1cm4gdHJ1ZVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG59XG5cbi8vIENvbW1vbiB0cmFuc3Bvc2l0aW9ucyBvZiBsaWNlbnNlIGlkZW50aWZpZXIgYWNyb255bXNcbnZhciB0cmFuc3Bvc2l0aW9ucyA9IFtcbiAgWydBUEdMJywgJ0FHUEwnXSxcbiAgWydHcGwnLCAnR1BMJ10sXG4gIFsnR0xQJywgJ0dQTCddLFxuICBbJ0FQTCcsICdBcGFjaGUnXSxcbiAgWydJU0QnLCAnSVNDJ10sXG4gIFsnR0xQJywgJ0dQTCddLFxuICBbJ0lTVCcsICdJU0MnXSxcbiAgWydDbGF1ZGUnLCAnQ2xhdXNlJ10sXG4gIFsnIG9yIGxhdGVyJywgJysnXSxcbiAgWycgSW50ZXJuYXRpb25hbCcsICcnXSxcbiAgWydHTlUnLCAnR1BMJ10sXG4gIFsnR1VOJywgJ0dQTCddLFxuICBbJysnLCAnJ10sXG4gIFsnR05VIEdQTCcsICdHUEwnXSxcbiAgWydHTlUvR1BMJywgJ0dQTCddLFxuICBbJ0dOVSBHTFAnLCAnR1BMJ10sXG4gIFsnR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UnLCAnR1BMJ10sXG4gIFsnR251IHB1YmxpYyBsaWNlbnNlJywgJ0dQTCddLFxuICBbJ0dOVSBQdWJsaWMgTGljZW5zZScsICdHUEwnXSxcbiAgWydHTlUgR0VORVJBTCBQVUJMSUMgTElDRU5TRScsICdHUEwnXSxcbiAgWydNVEknLCAnTUlUJ10sXG4gIFsnTW96aWxsYSBQdWJsaWMgTGljZW5zZScsICdNUEwnXSxcbiAgWydVbml2ZXJzYWwgUGVybWlzc2l2ZSBMaWNlbnNlJywgJ1VQTCddLFxuICBbJ1dUSCcsICdXVEYnXSxcbiAgWyctTGljZW5zZScsICcnXVxuXVxuXG52YXIgVFJBTlNQT1NFRCA9IDBcbnZhciBDT1JSRUNUID0gMVxuXG4vLyBTaW1wbGUgY29ycmVjdGlvbnMgdG8gbmVhcmx5IHZhbGlkIGlkZW50aWZpZXJzLlxudmFyIHRyYW5zZm9ybXMgPSBbXG4gIC8vIGUuZy4gJ21pdCdcbiAgZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG4gICAgcmV0dXJuIGFyZ3VtZW50LnRvVXBwZXJDYXNlKClcbiAgfSxcbiAgLy8gZS5nLiAnTUlUICdcbiAgZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG4gICAgcmV0dXJuIGFyZ3VtZW50LnRyaW0oKVxuICB9LFxuICAvLyBlLmcuICdNLkkuVC4nXG4gIGZ1bmN0aW9uIChhcmd1bWVudCkge1xuICAgIHJldHVybiBhcmd1bWVudC5yZXBsYWNlKC9cXC4vZywgJycpXG4gIH0sXG4gIC8vIGUuZy4gJ0FwYWNoZS0gMi4wJ1xuICBmdW5jdGlvbiAoYXJndW1lbnQpIHtcbiAgICByZXR1cm4gYXJndW1lbnQucmVwbGFjZSgvXFxzKy9nLCAnJylcbiAgfSxcbiAgLy8gZS5nLiAnQ0MgQlkgNC4wJydcbiAgZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG4gICAgcmV0dXJuIGFyZ3VtZW50LnJlcGxhY2UoL1xccysvZywgJy0nKVxuICB9LFxuICAvLyBlLmcuICdMR1BMdjIuMSdcbiAgZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG4gICAgcmV0dXJuIGFyZ3VtZW50LnJlcGxhY2UoJ3YnLCAnLScpXG4gIH0sXG4gIC8vIGUuZy4gJ0FwYWNoZSAyLjAnXG4gIGZ1bmN0aW9uIChhcmd1bWVudCkge1xuICAgIHJldHVybiBhcmd1bWVudC5yZXBsYWNlKC8sP1xccyooXFxkKS8sICctJDEnKVxuICB9LFxuICAvLyBlLmcuICdHUEwgMidcbiAgZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG4gICAgcmV0dXJuIGFyZ3VtZW50LnJlcGxhY2UoLyw/XFxzKihcXGQpLywgJy0kMS4wJylcbiAgfSxcbiAgLy8gZS5nLiAnQXBhY2hlIFZlcnNpb24gMi4wJ1xuICBmdW5jdGlvbiAoYXJndW1lbnQpIHtcbiAgICByZXR1cm4gYXJndW1lbnRcbiAgICAgIC5yZXBsYWNlKC8sP1xccyooVlxcLnx2XFwufFZ8dnxWZXJzaW9ufHZlcnNpb24pXFxzKihcXGQpLywgJy0kMicpXG4gIH0sXG4gIC8vIGUuZy4gJ0FwYWNoZSBWZXJzaW9uIDInXG4gIGZ1bmN0aW9uIChhcmd1bWVudCkge1xuICAgIHJldHVybiBhcmd1bWVudFxuICAgICAgLnJlcGxhY2UoLyw/XFxzKihWXFwufHZcXC58Vnx2fFZlcnNpb258dmVyc2lvbilcXHMqKFxcZCkvLCAnLSQyLjAnKVxuICB9LFxuICAvLyBlLmcuICdaTElCJ1xuICBmdW5jdGlvbiAoYXJndW1lbnQpIHtcbiAgICByZXR1cm4gYXJndW1lbnRbMF0udG9VcHBlckNhc2UoKSArIGFyZ3VtZW50LnNsaWNlKDEpXG4gIH0sXG4gIC8vIGUuZy4gJ01QTC8yLjAnXG4gIGZ1bmN0aW9uIChhcmd1bWVudCkge1xuICAgIHJldHVybiBhcmd1bWVudC5yZXBsYWNlKCcvJywgJy0nKVxuICB9LFxuICAvLyBlLmcuICdBcGFjaGUgMidcbiAgZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG4gICAgcmV0dXJuIGFyZ3VtZW50XG4gICAgICAucmVwbGFjZSgvXFxzKlZcXHMqKFxcZCkvLCAnLSQxJylcbiAgICAgIC5yZXBsYWNlKC8oXFxkKSQvLCAnJDEuMCcpXG4gIH0sXG4gIC8vIGUuZy4gJ0dQTC0yLjAnLCAnR1BMLTMuMCdcbiAgZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG4gICAgaWYgKGFyZ3VtZW50LmluZGV4T2YoJzMuMCcpICE9PSAtMSkge1xuICAgICAgcmV0dXJuIGFyZ3VtZW50ICsgJy1vci1sYXRlcidcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGFyZ3VtZW50ICsgJy1vbmx5J1xuICAgIH1cbiAgfSxcbiAgLy8gZS5nLiAnR1BMLTIuMC0nXG4gIGZ1bmN0aW9uIChhcmd1bWVudCkge1xuICAgIHJldHVybiBhcmd1bWVudCArICdvbmx5J1xuICB9LFxuICAvLyBlLmcuICdHUEwyJ1xuICBmdW5jdGlvbiAoYXJndW1lbnQpIHtcbiAgICByZXR1cm4gYXJndW1lbnQucmVwbGFjZSgvKFxcZCkkLywgJy0kMS4wJylcbiAgfSxcbiAgLy8gZS5nLiAnQlNEIDMnXG4gIGZ1bmN0aW9uIChhcmd1bWVudCkge1xuICAgIHJldHVybiBhcmd1bWVudC5yZXBsYWNlKC8oLXwgKT8oXFxkKSQvLCAnLSQyLUNsYXVzZScpXG4gIH0sXG4gIC8vIGUuZy4gJ0JTRCBjbGF1c2UgMydcbiAgZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG4gICAgcmV0dXJuIGFyZ3VtZW50LnJlcGxhY2UoLygtfCApY2xhdXNlKC18ICkoXFxkKS8sICctJDMtQ2xhdXNlJylcbiAgfSxcbiAgLy8gZS5nLiAnTmV3IEJTRCBsaWNlbnNlJ1xuICBmdW5jdGlvbiAoYXJndW1lbnQpIHtcbiAgICByZXR1cm4gYXJndW1lbnQucmVwbGFjZSgvXFxiKE1vZGlmaWVkfE5ld3xSZXZpc2VkKSgtfCApP0JTRCgoLXwgKUxpY2Vuc2UpPy9pLCAnQlNELTMtQ2xhdXNlJylcbiAgfSxcbiAgLy8gZS5nLiAnU2ltcGxpZmllZCBCU0QgbGljZW5zZSdcbiAgZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG4gICAgcmV0dXJuIGFyZ3VtZW50LnJlcGxhY2UoL1xcYlNpbXBsaWZpZWQoLXwgKT9CU0QoKC18IClMaWNlbnNlKT8vaSwgJ0JTRC0yLUNsYXVzZScpXG4gIH0sXG4gIC8vIGUuZy4gJ0ZyZWUgQlNEIGxpY2Vuc2UnXG4gIGZ1bmN0aW9uIChhcmd1bWVudCkge1xuICAgIHJldHVybiBhcmd1bWVudC5yZXBsYWNlKC9cXGIoRnJlZXxOZXQpKC18ICk/QlNEKCgtfCApTGljZW5zZSk/L2ksICdCU0QtMi1DbGF1c2UtJDFCU0QnKVxuICB9LFxuICAvLyBlLmcuICdDbGVhciBCU0QgbGljZW5zZSdcbiAgZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG4gICAgcmV0dXJuIGFyZ3VtZW50LnJlcGxhY2UoL1xcYkNsZWFyKC18ICk/QlNEKCgtfCApTGljZW5zZSk/L2ksICdCU0QtMy1DbGF1c2UtQ2xlYXInKVxuICB9LFxuICAvLyBlLmcuICdPbGQgQlNEIExpY2Vuc2UnXG4gIGZ1bmN0aW9uIChhcmd1bWVudCkge1xuICAgIHJldHVybiBhcmd1bWVudC5yZXBsYWNlKC9cXGIoT2xkfE9yaWdpbmFsKSgtfCApP0JTRCgoLXwgKUxpY2Vuc2UpPy9pLCAnQlNELTQtQ2xhdXNlJylcbiAgfSxcbiAgLy8gZS5nLiAnQlktTkMtNC4wJ1xuICBmdW5jdGlvbiAoYXJndW1lbnQpIHtcbiAgICByZXR1cm4gJ0NDLScgKyBhcmd1bWVudFxuICB9LFxuICAvLyBlLmcuICdCWS1OQydcbiAgZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG4gICAgcmV0dXJuICdDQy0nICsgYXJndW1lbnQgKyAnLTQuMCdcbiAgfSxcbiAgLy8gZS5nLiAnQXR0cmlidXRpb24tTm9uQ29tbWVyY2lhbCdcbiAgZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG4gICAgcmV0dXJuIGFyZ3VtZW50XG4gICAgICAucmVwbGFjZSgnQXR0cmlidXRpb24nLCAnQlknKVxuICAgICAgLnJlcGxhY2UoJ05vbkNvbW1lcmNpYWwnLCAnTkMnKVxuICAgICAgLnJlcGxhY2UoJ05vRGVyaXZhdGl2ZXMnLCAnTkQnKVxuICAgICAgLnJlcGxhY2UoLyAoXFxkKS8sICctJDEnKVxuICAgICAgLnJlcGxhY2UoLyA/SW50ZXJuYXRpb25hbC8sICcnKVxuICB9LFxuICAvLyBlLmcuICdBdHRyaWJ1dGlvbi1Ob25Db21tZXJjaWFsJ1xuICBmdW5jdGlvbiAoYXJndW1lbnQpIHtcbiAgICByZXR1cm4gJ0NDLScgK1xuICAgICAgYXJndW1lbnRcbiAgICAgICAgLnJlcGxhY2UoJ0F0dHJpYnV0aW9uJywgJ0JZJylcbiAgICAgICAgLnJlcGxhY2UoJ05vbkNvbW1lcmNpYWwnLCAnTkMnKVxuICAgICAgICAucmVwbGFjZSgnTm9EZXJpdmF0aXZlcycsICdORCcpXG4gICAgICAgIC5yZXBsYWNlKC8gKFxcZCkvLCAnLSQxJylcbiAgICAgICAgLnJlcGxhY2UoLyA/SW50ZXJuYXRpb25hbC8sICcnKSArXG4gICAgICAnLTQuMCdcbiAgfVxuXVxuXG52YXIgbGljZW5zZXNXaXRoVmVyc2lvbnMgPSBzcGR4TGljZW5zZUlkc1xuICAubWFwKGZ1bmN0aW9uIChpZCkge1xuICAgIHZhciBtYXRjaCA9IC9eKC4qKS1cXGQrXFwuXFxkKyQvLmV4ZWMoaWQpXG4gICAgcmV0dXJuIG1hdGNoXG4gICAgICA/IFttYXRjaFswXSwgbWF0Y2hbMV1dXG4gICAgICA6IFtpZCwgbnVsbF1cbiAgfSlcbiAgLnJlZHVjZShmdW5jdGlvbiAob2JqZWN0TWFwLCBpdGVtKSB7XG4gICAgdmFyIGtleSA9IGl0ZW1bMV1cbiAgICBvYmplY3RNYXBba2V5XSA9IG9iamVjdE1hcFtrZXldIHx8IFtdXG4gICAgb2JqZWN0TWFwW2tleV0ucHVzaChpdGVtWzBdKVxuICAgIHJldHVybiBvYmplY3RNYXBcbiAgfSwge30pXG5cbnZhciBsaWNlbnNlc1dpdGhPbmVWZXJzaW9uID0gT2JqZWN0LmtleXMobGljZW5zZXNXaXRoVmVyc2lvbnMpXG4gIC5tYXAoZnVuY3Rpb24gbWFrZUVudHJpZXMgKGtleSkge1xuICAgIHJldHVybiBba2V5LCBsaWNlbnNlc1dpdGhWZXJzaW9uc1trZXldXVxuICB9KVxuICAuZmlsdGVyKGZ1bmN0aW9uIGlkZW50aWZ5U29sZVZlcnNpb25zIChpdGVtKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIC8vIExpY2Vuc2VzIGhhcyBqdXN0IG9uZSB2YWxpZCB2ZXJzaW9uIHN1ZmZpeC5cbiAgICAgIGl0ZW1bMV0ubGVuZ3RoID09PSAxICYmXG4gICAgICBpdGVtWzBdICE9PSBudWxsICYmXG4gICAgICAvLyBBUEwgd2lsbCBiZSBjb25zaWRlcmVkIEFwYWNoZSwgcmF0aGVyIHRoYW4gQVBMLTEuMFxuICAgICAgaXRlbVswXSAhPT0gJ0FQTCdcbiAgICApXG4gIH0pXG4gIC5tYXAoZnVuY3Rpb24gY3JlYXRlTGFzdFJlc29ydHMgKGl0ZW0pIHtcbiAgICByZXR1cm4gW2l0ZW1bMF0sIGl0ZW1bMV1bMF1dXG4gIH0pXG5cbmxpY2Vuc2VzV2l0aFZlcnNpb25zID0gdW5kZWZpbmVkXG5cbi8vIElmIGFsbCBlbHNlIGZhaWxzLCBndWVzcyB0aGF0IHN0cmluZ3MgY29udGFpbmluZyBjZXJ0YWluIHN1YnN0cmluZ3Ncbi8vIG1lYW50IHRvIGlkZW50aWZ5IGNlcnRhaW4gbGljZW5zZXMuXG52YXIgbGFzdFJlc29ydHMgPSBbXG4gIFsnVU5MSScsICdVbmxpY2Vuc2UnXSxcbiAgWydXVEYnLCAnV1RGUEwnXSxcbiAgWycyIENMQVVTRScsICdCU0QtMi1DbGF1c2UnXSxcbiAgWycyLUNMQVVTRScsICdCU0QtMi1DbGF1c2UnXSxcbiAgWyczIENMQVVTRScsICdCU0QtMy1DbGF1c2UnXSxcbiAgWyczLUNMQVVTRScsICdCU0QtMy1DbGF1c2UnXSxcbiAgWydBRkZFUk8nLCAnQUdQTC0zLjAtb3ItbGF0ZXInXSxcbiAgWydBR1BMJywgJ0FHUEwtMy4wLW9yLWxhdGVyJ10sXG4gIFsnQVBBQ0hFJywgJ0FwYWNoZS0yLjAnXSxcbiAgWydBUlRJU1RJQycsICdBcnRpc3RpYy0yLjAnXSxcbiAgWydBZmZlcm8nLCAnQUdQTC0zLjAtb3ItbGF0ZXInXSxcbiAgWydCRUVSJywgJ0JlZXJ3YXJlJ10sXG4gIFsnQk9PU1QnLCAnQlNMLTEuMCddLFxuICBbJ0JTRCcsICdCU0QtMi1DbGF1c2UnXSxcbiAgWydDRERMJywgJ0NEREwtMS4xJ10sXG4gIFsnRUNMSVBTRScsICdFUEwtMS4wJ10sXG4gIFsnRlVDSycsICdXVEZQTCddLFxuICBbJ0dOVScsICdHUEwtMy4wLW9yLWxhdGVyJ10sXG4gIFsnTEdQTCcsICdMR1BMLTMuMC1vci1sYXRlciddLFxuICBbJ0dQTFYxJywgJ0dQTC0xLjAtb25seSddLFxuICBbJ0dQTC0xJywgJ0dQTC0xLjAtb25seSddLFxuICBbJ0dQTFYyJywgJ0dQTC0yLjAtb25seSddLFxuICBbJ0dQTC0yJywgJ0dQTC0yLjAtb25seSddLFxuICBbJ0dQTCcsICdHUEwtMy4wLW9yLWxhdGVyJ10sXG4gIFsnTUlUICtOTy1GQUxTRS1BVFRSSUJTJywgJ01JVE5GQSddLFxuICBbJ01JVCcsICdNSVQnXSxcbiAgWydNUEwnLCAnTVBMLTIuMCddLFxuICBbJ1gxMScsICdYMTEnXSxcbiAgWydaTElCJywgJ1psaWInXVxuXS5jb25jYXQobGljZW5zZXNXaXRoT25lVmVyc2lvbilcblxudmFyIFNVQlNUUklORyA9IDBcbnZhciBJREVOVElGSUVSID0gMVxuXG52YXIgdmFsaWRUcmFuc2Zvcm1hdGlvbiA9IGZ1bmN0aW9uIChpZGVudGlmaWVyKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdHJhbnNmb3Jtcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciB0cmFuc2Zvcm1lZCA9IHRyYW5zZm9ybXNbaV0oaWRlbnRpZmllcikudHJpbSgpXG4gICAgaWYgKHRyYW5zZm9ybWVkICE9PSBpZGVudGlmaWVyICYmIHZhbGlkKHRyYW5zZm9ybWVkKSkge1xuICAgICAgcmV0dXJuIHRyYW5zZm9ybWVkXG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsXG59XG5cbnZhciB2YWxpZExhc3RSZXNvcnQgPSBmdW5jdGlvbiAoaWRlbnRpZmllcikge1xuICB2YXIgdXBwZXJDYXNlZCA9IGlkZW50aWZpZXIudG9VcHBlckNhc2UoKVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxhc3RSZXNvcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGxhc3RSZXNvcnQgPSBsYXN0UmVzb3J0c1tpXVxuICAgIGlmICh1cHBlckNhc2VkLmluZGV4T2YobGFzdFJlc29ydFtTVUJTVFJJTkddKSA+IC0xKSB7XG4gICAgICByZXR1cm4gbGFzdFJlc29ydFtJREVOVElGSUVSXVxuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbFxufVxuXG52YXIgYW55Q29ycmVjdGlvbiA9IGZ1bmN0aW9uIChpZGVudGlmaWVyLCBjaGVjaykge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHRyYW5zcG9zaXRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHRyYW5zcG9zaXRpb24gPSB0cmFuc3Bvc2l0aW9uc1tpXVxuICAgIHZhciB0cmFuc3Bvc2VkID0gdHJhbnNwb3NpdGlvbltUUkFOU1BPU0VEXVxuICAgIGlmIChpZGVudGlmaWVyLmluZGV4T2YodHJhbnNwb3NlZCkgPiAtMSkge1xuICAgICAgdmFyIGNvcnJlY3RlZCA9IGlkZW50aWZpZXIucmVwbGFjZShcbiAgICAgICAgdHJhbnNwb3NlZCxcbiAgICAgICAgdHJhbnNwb3NpdGlvbltDT1JSRUNUXVxuICAgICAgKVxuICAgICAgdmFyIGNoZWNrZWQgPSBjaGVjayhjb3JyZWN0ZWQpXG4gICAgICBpZiAoY2hlY2tlZCAhPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gY2hlY2tlZFxuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbFxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpZGVudGlmaWVyLCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9XG4gIHZhciB1cGdyYWRlID0gb3B0aW9ucy51cGdyYWRlID09PSB1bmRlZmluZWQgPyB0cnVlIDogISFvcHRpb25zLnVwZ3JhZGVcbiAgZnVuY3Rpb24gcG9zdHByb2Nlc3MgKHZhbHVlKSB7XG4gICAgcmV0dXJuIHVwZ3JhZGUgPyB1cGdyYWRlR1BMcyh2YWx1ZSkgOiB2YWx1ZVxuICB9XG4gIHZhciB2YWxpZEFydWdtZW50ID0gKFxuICAgIHR5cGVvZiBpZGVudGlmaWVyID09PSAnc3RyaW5nJyAmJlxuICAgIGlkZW50aWZpZXIudHJpbSgpLmxlbmd0aCAhPT0gMFxuICApXG4gIGlmICghdmFsaWRBcnVnbWVudCkge1xuICAgIHRocm93IEVycm9yKCdJbnZhbGlkIGFyZ3VtZW50LiBFeHBlY3RlZCBub24tZW1wdHkgc3RyaW5nLicpXG4gIH1cbiAgaWRlbnRpZmllciA9IGlkZW50aWZpZXIudHJpbSgpXG4gIGlmICh2YWxpZChpZGVudGlmaWVyKSkge1xuICAgIHJldHVybiBwb3N0cHJvY2VzcyhpZGVudGlmaWVyKVxuICB9XG4gIHZhciBub1BsdXMgPSBpZGVudGlmaWVyLnJlcGxhY2UoL1xcKyQvLCAnJykudHJpbSgpXG4gIGlmICh2YWxpZChub1BsdXMpKSB7XG4gICAgcmV0dXJuIHBvc3Rwcm9jZXNzKG5vUGx1cylcbiAgfVxuICB2YXIgdHJhbnNmb3JtZWQgPSB2YWxpZFRyYW5zZm9ybWF0aW9uKGlkZW50aWZpZXIpXG4gIGlmICh0cmFuc2Zvcm1lZCAhPT0gbnVsbCkge1xuICAgIHJldHVybiBwb3N0cHJvY2Vzcyh0cmFuc2Zvcm1lZClcbiAgfVxuICB0cmFuc2Zvcm1lZCA9IGFueUNvcnJlY3Rpb24oaWRlbnRpZmllciwgZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG4gICAgaWYgKHZhbGlkKGFyZ3VtZW50KSkge1xuICAgICAgcmV0dXJuIGFyZ3VtZW50XG4gICAgfVxuICAgIHJldHVybiB2YWxpZFRyYW5zZm9ybWF0aW9uKGFyZ3VtZW50KVxuICB9KVxuICBpZiAodHJhbnNmb3JtZWQgIT09IG51bGwpIHtcbiAgICByZXR1cm4gcG9zdHByb2Nlc3ModHJhbnNmb3JtZWQpXG4gIH1cbiAgdHJhbnNmb3JtZWQgPSB2YWxpZExhc3RSZXNvcnQoaWRlbnRpZmllcilcbiAgaWYgKHRyYW5zZm9ybWVkICE9PSBudWxsKSB7XG4gICAgcmV0dXJuIHBvc3Rwcm9jZXNzKHRyYW5zZm9ybWVkKVxuICB9XG4gIHRyYW5zZm9ybWVkID0gYW55Q29ycmVjdGlvbihpZGVudGlmaWVyLCB2YWxpZExhc3RSZXNvcnQpXG4gIGlmICh0cmFuc2Zvcm1lZCAhPT0gbnVsbCkge1xuICAgIHJldHVybiBwb3N0cHJvY2Vzcyh0cmFuc2Zvcm1lZClcbiAgfVxuICByZXR1cm4gbnVsbFxufVxuXG5mdW5jdGlvbiB1cGdyYWRlR1BMcyAodmFsdWUpIHtcbiAgaWYgKFtcbiAgICAnR1BMLTEuMCcsICdMR1BMLTEuMCcsICdBR1BMLTEuMCcsXG4gICAgJ0dQTC0yLjAnLCAnTEdQTC0yLjAnLCAnQUdQTC0yLjAnLFxuICAgICdMR1BMLTIuMSdcbiAgXS5pbmRleE9mKHZhbHVlKSAhPT0gLTEpIHtcbiAgICByZXR1cm4gdmFsdWUgKyAnLW9ubHknXG4gIH0gZWxzZSBpZiAoW1xuICAgICdHUEwtMS4wKycsICdHUEwtMi4wKycsICdHUEwtMy4wKycsXG4gICAgJ0xHUEwtMi4wKycsICdMR1BMLTIuMSsnLCAnTEdQTC0zLjArJyxcbiAgICAnQUdQTC0xLjArJywgJ0FHUEwtMy4wKydcbiAgXS5pbmRleE9mKHZhbHVlKSAhPT0gLTEpIHtcbiAgICByZXR1cm4gdmFsdWUucmVwbGFjZSgvXFwrJC8sICctb3ItbGF0ZXInKVxuICB9IGVsc2UgaWYgKFsnR1BMLTMuMCcsICdMR1BMLTMuMCcsICdBR1BMLTMuMCddLmluZGV4T2YodmFsdWUpICE9PSAtMSkge1xuICAgIHJldHVybiB2YWx1ZSArICctb3ItbGF0ZXInXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHZhbHVlXG4gIH1cbn1cbiIsICJ2YXIgcGFyc2UgPSByZXF1aXJlKCdzcGR4LWV4cHJlc3Npb24tcGFyc2UnKTtcbnZhciBjb3JyZWN0ID0gcmVxdWlyZSgnc3BkeC1jb3JyZWN0Jyk7XG5cbnZhciBnZW5lcmljV2FybmluZyA9IChcbiAgJ2xpY2Vuc2Ugc2hvdWxkIGJlICcgK1xuICAnYSB2YWxpZCBTUERYIGxpY2Vuc2UgZXhwcmVzc2lvbiAod2l0aG91dCBcIkxpY2Vuc2VSZWZcIiksICcgK1xuICAnXCJVTkxJQ0VOU0VEXCIsIG9yICcgK1xuICAnXCJTRUUgTElDRU5TRSBJTiA8ZmlsZW5hbWU+XCInXG4pO1xuXG52YXIgZmlsZVJlZmVyZW5jZVJFID0gL15TRUUgTElDRU5bQ1NdRSBJTiAoLispJC87XG5cbmZ1bmN0aW9uIHN0YXJ0c1dpdGgocHJlZml4LCBzdHJpbmcpIHtcbiAgcmV0dXJuIHN0cmluZy5zbGljZSgwLCBwcmVmaXgubGVuZ3RoKSA9PT0gcHJlZml4O1xufVxuXG5mdW5jdGlvbiB1c2VzTGljZW5zZVJlZihhc3QpIHtcbiAgaWYgKGFzdC5oYXNPd25Qcm9wZXJ0eSgnbGljZW5zZScpKSB7XG4gICAgdmFyIGxpY2Vuc2UgPSBhc3QubGljZW5zZTtcbiAgICByZXR1cm4gKFxuICAgICAgc3RhcnRzV2l0aCgnTGljZW5zZVJlZicsIGxpY2Vuc2UpIHx8XG4gICAgICBzdGFydHNXaXRoKCdEb2N1bWVudFJlZicsIGxpY2Vuc2UpXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gKFxuICAgICAgdXNlc0xpY2Vuc2VSZWYoYXN0LmxlZnQpIHx8XG4gICAgICB1c2VzTGljZW5zZVJlZihhc3QucmlnaHQpXG4gICAgKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGFyZ3VtZW50KSB7XG4gIHZhciBhc3Q7XG5cbiAgdHJ5IHtcbiAgICBhc3QgPSBwYXJzZShhcmd1bWVudCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICB2YXIgbWF0Y2hcbiAgICBpZiAoXG4gICAgICBhcmd1bWVudCA9PT0gJ1VOTElDRU5TRUQnIHx8XG4gICAgICBhcmd1bWVudCA9PT0gJ1VOTElDRU5DRUQnXG4gICAgKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB2YWxpZEZvck9sZFBhY2thZ2VzOiB0cnVlLFxuICAgICAgICB2YWxpZEZvck5ld1BhY2thZ2VzOiB0cnVlLFxuICAgICAgICB1bmxpY2Vuc2VkOiB0cnVlXG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAobWF0Y2ggPSBmaWxlUmVmZXJlbmNlUkUuZXhlYyhhcmd1bWVudCkpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHZhbGlkRm9yT2xkUGFja2FnZXM6IHRydWUsXG4gICAgICAgIHZhbGlkRm9yTmV3UGFja2FnZXM6IHRydWUsXG4gICAgICAgIGluRmlsZTogbWF0Y2hbMV1cbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciByZXN1bHQgPSB7XG4gICAgICAgIHZhbGlkRm9yT2xkUGFja2FnZXM6IGZhbHNlLFxuICAgICAgICB2YWxpZEZvck5ld1BhY2thZ2VzOiBmYWxzZSxcbiAgICAgICAgd2FybmluZ3M6IFtnZW5lcmljV2FybmluZ11cbiAgICAgIH07XG4gICAgICBpZiAoYXJndW1lbnQudHJpbSgpLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICB2YXIgY29ycmVjdGVkID0gY29ycmVjdChhcmd1bWVudCk7XG4gICAgICAgIGlmIChjb3JyZWN0ZWQpIHtcbiAgICAgICAgICByZXN1bHQud2FybmluZ3MucHVzaChcbiAgICAgICAgICAgICdsaWNlbnNlIGlzIHNpbWlsYXIgdG8gdGhlIHZhbGlkIGV4cHJlc3Npb24gXCInICsgY29ycmVjdGVkICsgJ1wiJ1xuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICB9XG5cbiAgaWYgKHVzZXNMaWNlbnNlUmVmKGFzdCkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdmFsaWRGb3JOZXdQYWNrYWdlczogZmFsc2UsXG4gICAgICB2YWxpZEZvck9sZFBhY2thZ2VzOiBmYWxzZSxcbiAgICAgIHNwZHg6IHRydWUsXG4gICAgICB3YXJuaW5nczogW2dlbmVyaWNXYXJuaW5nXVxuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHZhbGlkRm9yTmV3UGFja2FnZXM6IHRydWUsXG4gICAgICB2YWxpZEZvck9sZFBhY2thZ2VzOiB0cnVlLFxuICAgICAgc3BkeDogdHJ1ZVxuICAgIH07XG4gIH1cbn07XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG4vKiBlc2xpbnQgbm8taW52YWxpZC10aGlzOiAxICovXG5cbnZhciBFUlJPUl9NRVNTQUdFID0gJ0Z1bmN0aW9uLnByb3RvdHlwZS5iaW5kIGNhbGxlZCBvbiBpbmNvbXBhdGlibGUgJztcbnZhciBzbGljZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZTtcbnZhciB0b1N0ciA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG52YXIgZnVuY1R5cGUgPSAnW29iamVjdCBGdW5jdGlvbl0nO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGJpbmQodGhhdCkge1xuICAgIHZhciB0YXJnZXQgPSB0aGlzO1xuICAgIGlmICh0eXBlb2YgdGFyZ2V0ICE9PSAnZnVuY3Rpb24nIHx8IHRvU3RyLmNhbGwodGFyZ2V0KSAhPT0gZnVuY1R5cGUpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihFUlJPUl9NRVNTQUdFICsgdGFyZ2V0KTtcbiAgICB9XG4gICAgdmFyIGFyZ3MgPSBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG5cbiAgICB2YXIgYm91bmQ7XG4gICAgdmFyIGJpbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMgaW5zdGFuY2VvZiBib3VuZCkge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHRhcmdldC5hcHBseShcbiAgICAgICAgICAgICAgICB0aGlzLFxuICAgICAgICAgICAgICAgIGFyZ3MuY29uY2F0KHNsaWNlLmNhbGwoYXJndW1lbnRzKSlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZiAoT2JqZWN0KHJlc3VsdCkgPT09IHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0YXJnZXQuYXBwbHkoXG4gICAgICAgICAgICAgICAgdGhhdCxcbiAgICAgICAgICAgICAgICBhcmdzLmNvbmNhdChzbGljZS5jYWxsKGFyZ3VtZW50cykpXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHZhciBib3VuZExlbmd0aCA9IE1hdGgubWF4KDAsIHRhcmdldC5sZW5ndGggLSBhcmdzLmxlbmd0aCk7XG4gICAgdmFyIGJvdW5kQXJncyA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYm91bmRMZW5ndGg7IGkrKykge1xuICAgICAgICBib3VuZEFyZ3MucHVzaCgnJCcgKyBpKTtcbiAgICB9XG5cbiAgICBib3VuZCA9IEZ1bmN0aW9uKCdiaW5kZXInLCAncmV0dXJuIGZ1bmN0aW9uICgnICsgYm91bmRBcmdzLmpvaW4oJywnKSArICcpeyByZXR1cm4gYmluZGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKTsgfScpKGJpbmRlcik7XG5cbiAgICBpZiAodGFyZ2V0LnByb3RvdHlwZSkge1xuICAgICAgICB2YXIgRW1wdHkgPSBmdW5jdGlvbiBFbXB0eSgpIHt9O1xuICAgICAgICBFbXB0eS5wcm90b3R5cGUgPSB0YXJnZXQucHJvdG90eXBlO1xuICAgICAgICBib3VuZC5wcm90b3R5cGUgPSBuZXcgRW1wdHkoKTtcbiAgICAgICAgRW1wdHkucHJvdG90eXBlID0gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gYm91bmQ7XG59O1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIGltcGxlbWVudGF0aW9uID0gcmVxdWlyZSgnLi9pbXBsZW1lbnRhdGlvbicpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kIHx8IGltcGxlbWVudGF0aW9uO1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIGJpbmQgPSByZXF1aXJlKCdmdW5jdGlvbi1iaW5kJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gYmluZC5jYWxsKEZ1bmN0aW9uLmNhbGwsIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkpO1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIGhhcyA9IHJlcXVpcmUoJ2hhcycpO1xuXG5mdW5jdGlvbiBzcGVjaWZpZXJJbmNsdWRlZChjdXJyZW50LCBzcGVjaWZpZXIpIHtcblx0dmFyIG5vZGVQYXJ0cyA9IGN1cnJlbnQuc3BsaXQoJy4nKTtcblx0dmFyIHBhcnRzID0gc3BlY2lmaWVyLnNwbGl0KCcgJyk7XG5cdHZhciBvcCA9IHBhcnRzLmxlbmd0aCA+IDEgPyBwYXJ0c1swXSA6ICc9Jztcblx0dmFyIHZlcnNpb25QYXJ0cyA9IChwYXJ0cy5sZW5ndGggPiAxID8gcGFydHNbMV0gOiBwYXJ0c1swXSkuc3BsaXQoJy4nKTtcblxuXHRmb3IgKHZhciBpID0gMDsgaSA8IDM7ICsraSkge1xuXHRcdHZhciBjdXIgPSBwYXJzZUludChub2RlUGFydHNbaV0gfHwgMCwgMTApO1xuXHRcdHZhciB2ZXIgPSBwYXJzZUludCh2ZXJzaW9uUGFydHNbaV0gfHwgMCwgMTApO1xuXHRcdGlmIChjdXIgPT09IHZlcikge1xuXHRcdFx0Y29udGludWU7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcmVzdHJpY3RlZC1zeW50YXgsIG5vLWNvbnRpbnVlXG5cdFx0fVxuXHRcdGlmIChvcCA9PT0gJzwnKSB7XG5cdFx0XHRyZXR1cm4gY3VyIDwgdmVyO1xuXHRcdH1cblx0XHRpZiAob3AgPT09ICc+PScpIHtcblx0XHRcdHJldHVybiBjdXIgPj0gdmVyO1xuXHRcdH1cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblx0cmV0dXJuIG9wID09PSAnPj0nO1xufVxuXG5mdW5jdGlvbiBtYXRjaGVzUmFuZ2UoY3VycmVudCwgcmFuZ2UpIHtcblx0dmFyIHNwZWNpZmllcnMgPSByYW5nZS5zcGxpdCgvID8mJiA/Lyk7XG5cdGlmIChzcGVjaWZpZXJzLmxlbmd0aCA9PT0gMCkge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXHRmb3IgKHZhciBpID0gMDsgaSA8IHNwZWNpZmllcnMubGVuZ3RoOyArK2kpIHtcblx0XHRpZiAoIXNwZWNpZmllckluY2x1ZGVkKGN1cnJlbnQsIHNwZWNpZmllcnNbaV0pKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHR9XG5cdHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiB2ZXJzaW9uSW5jbHVkZWQobm9kZVZlcnNpb24sIHNwZWNpZmllclZhbHVlKSB7XG5cdGlmICh0eXBlb2Ygc3BlY2lmaWVyVmFsdWUgPT09ICdib29sZWFuJykge1xuXHRcdHJldHVybiBzcGVjaWZpZXJWYWx1ZTtcblx0fVxuXG5cdHZhciBjdXJyZW50ID0gdHlwZW9mIG5vZGVWZXJzaW9uID09PSAndW5kZWZpbmVkJ1xuXHRcdD8gcHJvY2Vzcy52ZXJzaW9ucyAmJiBwcm9jZXNzLnZlcnNpb25zLm5vZGVcblx0XHQ6IG5vZGVWZXJzaW9uO1xuXG5cdGlmICh0eXBlb2YgY3VycmVudCAhPT0gJ3N0cmluZycpIHtcblx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKHR5cGVvZiBub2RlVmVyc2lvbiA9PT0gJ3VuZGVmaW5lZCcgPyAnVW5hYmxlIHRvIGRldGVybWluZSBjdXJyZW50IG5vZGUgdmVyc2lvbicgOiAnSWYgcHJvdmlkZWQsIGEgdmFsaWQgbm9kZSB2ZXJzaW9uIGlzIHJlcXVpcmVkJyk7XG5cdH1cblxuXHRpZiAoc3BlY2lmaWVyVmFsdWUgJiYgdHlwZW9mIHNwZWNpZmllclZhbHVlID09PSAnb2JqZWN0Jykge1xuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc3BlY2lmaWVyVmFsdWUubGVuZ3RoOyArK2kpIHtcblx0XHRcdGlmIChtYXRjaGVzUmFuZ2UoY3VycmVudCwgc3BlY2lmaWVyVmFsdWVbaV0pKSB7XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblx0cmV0dXJuIG1hdGNoZXNSYW5nZShjdXJyZW50LCBzcGVjaWZpZXJWYWx1ZSk7XG59XG5cbnZhciBkYXRhID0gcmVxdWlyZSgnLi9jb3JlLmpzb24nKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpc0NvcmUoeCwgbm9kZVZlcnNpb24pIHtcblx0cmV0dXJuIGhhcyhkYXRhLCB4KSAmJiB2ZXJzaW9uSW5jbHVkZWQobm9kZVZlcnNpb24sIGRhdGFbeF0pO1xufTtcbiIsICJtb2R1bGUuZXhwb3J0cyA9IGV4dHJhY3REZXNjcmlwdGlvblxuXG4vLyBFeHRyYWN0cyBkZXNjcmlwdGlvbiBmcm9tIGNvbnRlbnRzIG9mIGEgcmVhZG1lIGZpbGUgaW4gbWFya2Rvd24gZm9ybWF0XG5mdW5jdGlvbiBleHRyYWN0RGVzY3JpcHRpb24gKGQpIHtcbiAgaWYgKCFkKSB7XG4gICAgcmV0dXJuXG4gIH1cbiAgaWYgKGQgPT09ICdFUlJPUjogTm8gUkVBRE1FIGRhdGEgZm91bmQhJykge1xuICAgIHJldHVyblxuICB9XG4gIC8vIHRoZSBmaXJzdCBibG9jayBvZiB0ZXh0IGJlZm9yZSB0aGUgZmlyc3QgaGVhZGluZ1xuICAvLyB0aGF0IGlzbid0IHRoZSBmaXJzdCBsaW5lIGhlYWRpbmdcbiAgZCA9IGQudHJpbSgpLnNwbGl0KCdcXG4nKVxuICBmb3IgKHZhciBzID0gMDsgZFtzXSAmJiBkW3NdLnRyaW0oKS5tYXRjaCgvXigjfCQpLyk7IHMrKykge1xuICAgIDtcbiAgfVxuICB2YXIgbCA9IGQubGVuZ3RoXG4gIGZvciAodmFyIGUgPSBzICsgMTsgZSA8IGwgJiYgZFtlXS50cmltKCk7IGUrKykge1xuICAgIDtcbiAgfVxuICByZXR1cm4gZC5zbGljZShzLCBlKS5qb2luKCcgJykudHJpbSgpXG59XG4iLCAidmFyIGlzVmFsaWRTZW12ZXIgPSByZXF1aXJlKCdzZW12ZXIvZnVuY3Rpb25zL3ZhbGlkJylcbnZhciBjbGVhblNlbXZlciA9IHJlcXVpcmUoJ3NlbXZlci9mdW5jdGlvbnMvY2xlYW4nKVxudmFyIHZhbGlkYXRlTGljZW5zZSA9IHJlcXVpcmUoJ3ZhbGlkYXRlLW5wbS1wYWNrYWdlLWxpY2Vuc2UnKVxudmFyIGhvc3RlZEdpdEluZm8gPSByZXF1aXJlKCdob3N0ZWQtZ2l0LWluZm8nKVxudmFyIGlzQnVpbHRpbk1vZHVsZSA9IHJlcXVpcmUoJ2lzLWNvcmUtbW9kdWxlJylcbnZhciBkZXBUeXBlcyA9IFsnZGVwZW5kZW5jaWVzJywgJ2RldkRlcGVuZGVuY2llcycsICdvcHRpb25hbERlcGVuZGVuY2llcyddXG52YXIgZXh0cmFjdERlc2NyaXB0aW9uID0gcmVxdWlyZSgnLi9leHRyYWN0X2Rlc2NyaXB0aW9uJylcbnZhciB1cmwgPSByZXF1aXJlKCd1cmwnKVxudmFyIHR5cG9zID0gcmVxdWlyZSgnLi90eXBvcy5qc29uJylcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIC8vIGRlZmF1bHQgd2FybmluZyBmdW5jdGlvblxuICB3YXJuOiBmdW5jdGlvbiAoKSB7fSxcblxuICBmaXhSZXBvc2l0b3J5RmllbGQ6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgaWYgKGRhdGEucmVwb3NpdG9yaWVzKSB7XG4gICAgICB0aGlzLndhcm4oJ3JlcG9zaXRvcmllcycpXG4gICAgICBkYXRhLnJlcG9zaXRvcnkgPSBkYXRhLnJlcG9zaXRvcmllc1swXVxuICAgIH1cbiAgICBpZiAoIWRhdGEucmVwb3NpdG9yeSkge1xuICAgICAgcmV0dXJuIHRoaXMud2FybignbWlzc2luZ1JlcG9zaXRvcnknKVxuICAgIH1cbiAgICBpZiAodHlwZW9mIGRhdGEucmVwb3NpdG9yeSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGRhdGEucmVwb3NpdG9yeSA9IHtcbiAgICAgICAgdHlwZTogJ2dpdCcsXG4gICAgICAgIHVybDogZGF0YS5yZXBvc2l0b3J5LFxuICAgICAgfVxuICAgIH1cbiAgICB2YXIgciA9IGRhdGEucmVwb3NpdG9yeS51cmwgfHwgJydcbiAgICBpZiAocikge1xuICAgICAgdmFyIGhvc3RlZCA9IGhvc3RlZEdpdEluZm8uZnJvbVVybChyKVxuICAgICAgaWYgKGhvc3RlZCkge1xuICAgICAgICByID0gZGF0YS5yZXBvc2l0b3J5LnVybFxuICAgICAgICAgID0gaG9zdGVkLmdldERlZmF1bHRSZXByZXNlbnRhdGlvbigpID09PSAnc2hvcnRjdXQnID8gaG9zdGVkLmh0dHBzKCkgOiBob3N0ZWQudG9TdHJpbmcoKVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChyLm1hdGNoKC9naXRodWIuY29tXFwvW14vXStcXC9bXi9dK1xcLmdpdFxcLmdpdCQvKSkge1xuICAgICAgdGhpcy53YXJuKCdicm9rZW5HaXRVcmwnLCByKVxuICAgIH1cbiAgfSxcblxuICBmaXhUeXBvczogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICBPYmplY3Qua2V5cyh0eXBvcy50b3BMZXZlbCkuZm9yRWFjaChmdW5jdGlvbiAoZCkge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBkKSkge1xuICAgICAgICB0aGlzLndhcm4oJ3R5cG8nLCBkLCB0eXBvcy50b3BMZXZlbFtkXSlcbiAgICAgIH1cbiAgICB9LCB0aGlzKVxuICB9LFxuXG4gIGZpeFNjcmlwdHNGaWVsZDogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICBpZiAoIWRhdGEuc2NyaXB0cykge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGlmICh0eXBlb2YgZGF0YS5zY3JpcHRzICE9PSAnb2JqZWN0Jykge1xuICAgICAgdGhpcy53YXJuKCdub25PYmplY3RTY3JpcHRzJylcbiAgICAgIGRlbGV0ZSBkYXRhLnNjcmlwdHNcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBPYmplY3Qua2V5cyhkYXRhLnNjcmlwdHMpLmZvckVhY2goZnVuY3Rpb24gKGspIHtcbiAgICAgIGlmICh0eXBlb2YgZGF0YS5zY3JpcHRzW2tdICE9PSAnc3RyaW5nJykge1xuICAgICAgICB0aGlzLndhcm4oJ25vblN0cmluZ1NjcmlwdCcpXG4gICAgICAgIGRlbGV0ZSBkYXRhLnNjcmlwdHNba11cbiAgICAgIH0gZWxzZSBpZiAodHlwb3Muc2NyaXB0W2tdICYmICFkYXRhLnNjcmlwdHNbdHlwb3Muc2NyaXB0W2tdXSkge1xuICAgICAgICB0aGlzLndhcm4oJ3R5cG8nLCBrLCB0eXBvcy5zY3JpcHRba10sICdzY3JpcHRzJylcbiAgICAgIH1cbiAgICB9LCB0aGlzKVxuICB9LFxuXG4gIGZpeEZpbGVzRmllbGQ6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgdmFyIGZpbGVzID0gZGF0YS5maWxlc1xuICAgIGlmIChmaWxlcyAmJiAhQXJyYXkuaXNBcnJheShmaWxlcykpIHtcbiAgICAgIHRoaXMud2Fybignbm9uQXJyYXlGaWxlcycpXG4gICAgICBkZWxldGUgZGF0YS5maWxlc1xuICAgIH0gZWxzZSBpZiAoZGF0YS5maWxlcykge1xuICAgICAgZGF0YS5maWxlcyA9IGRhdGEuZmlsZXMuZmlsdGVyKGZ1bmN0aW9uIChmaWxlKSB7XG4gICAgICAgIGlmICghZmlsZSB8fCB0eXBlb2YgZmlsZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICB0aGlzLndhcm4oJ2ludmFsaWRGaWxlbmFtZScsIGZpbGUpXG4gICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgfVxuICAgICAgfSwgdGhpcylcbiAgICB9XG4gIH0sXG5cbiAgZml4QmluRmllbGQ6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgaWYgKCFkYXRhLmJpbikge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGlmICh0eXBlb2YgZGF0YS5iaW4gPT09ICdzdHJpbmcnKSB7XG4gICAgICB2YXIgYiA9IHt9XG4gICAgICB2YXIgbWF0Y2hcbiAgICAgIGlmIChtYXRjaCA9IGRhdGEubmFtZS5tYXRjaCgvXkBbXi9dK1svXSguKikkLykpIHtcbiAgICAgICAgYlttYXRjaFsxXV0gPSBkYXRhLmJpblxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYltkYXRhLm5hbWVdID0gZGF0YS5iaW5cbiAgICAgIH1cbiAgICAgIGRhdGEuYmluID0gYlxuICAgIH1cbiAgfSxcblxuICBmaXhNYW5GaWVsZDogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICBpZiAoIWRhdGEubWFuKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgaWYgKHR5cGVvZiBkYXRhLm1hbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGRhdGEubWFuID0gW2RhdGEubWFuXVxuICAgIH1cbiAgfSxcbiAgZml4QnVuZGxlRGVwZW5kZW5jaWVzRmllbGQ6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgdmFyIGJkZCA9ICdidW5kbGVkRGVwZW5kZW5jaWVzJ1xuICAgIHZhciBiZCA9ICdidW5kbGVEZXBlbmRlbmNpZXMnXG4gICAgaWYgKGRhdGFbYmRkXSAmJiAhZGF0YVtiZF0pIHtcbiAgICAgIGRhdGFbYmRdID0gZGF0YVtiZGRdXG4gICAgICBkZWxldGUgZGF0YVtiZGRdXG4gICAgfVxuICAgIGlmIChkYXRhW2JkXSAmJiAhQXJyYXkuaXNBcnJheShkYXRhW2JkXSkpIHtcbiAgICAgIHRoaXMud2Fybignbm9uQXJyYXlCdW5kbGVEZXBlbmRlbmNpZXMnKVxuICAgICAgZGVsZXRlIGRhdGFbYmRdXG4gICAgfSBlbHNlIGlmIChkYXRhW2JkXSkge1xuICAgICAgZGF0YVtiZF0gPSBkYXRhW2JkXS5maWx0ZXIoZnVuY3Rpb24gKGJkKSB7XG4gICAgICAgIGlmICghYmQgfHwgdHlwZW9mIGJkICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgIHRoaXMud2Fybignbm9uU3RyaW5nQnVuZGxlRGVwZW5kZW5jeScsIGJkKVxuICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmICghZGF0YS5kZXBlbmRlbmNpZXMpIHtcbiAgICAgICAgICAgIGRhdGEuZGVwZW5kZW5jaWVzID0ge31cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLmRlcGVuZGVuY2llcywgYmQpKSB7XG4gICAgICAgICAgICB0aGlzLndhcm4oJ25vbkRlcGVuZGVuY3lCdW5kbGVEZXBlbmRlbmN5JywgYmQpXG4gICAgICAgICAgICBkYXRhLmRlcGVuZGVuY2llc1tiZF0gPSAnKidcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgfVxuICAgICAgfSwgdGhpcylcbiAgICB9XG4gIH0sXG5cbiAgZml4RGVwZW5kZW5jaWVzOiBmdW5jdGlvbiAoZGF0YSwgc3RyaWN0KSB7XG4gICAgb2JqZWN0aWZ5RGVwcyhkYXRhLCB0aGlzLndhcm4pXG4gICAgYWRkT3B0aW9uYWxEZXBzVG9EZXBzKGRhdGEsIHRoaXMud2FybilcbiAgICB0aGlzLmZpeEJ1bmRsZURlcGVuZGVuY2llc0ZpZWxkKGRhdGEpXG5cbiAgICA7WydkZXBlbmRlbmNpZXMnLCAnZGV2RGVwZW5kZW5jaWVzJ10uZm9yRWFjaChmdW5jdGlvbiAoZGVwcykge1xuICAgICAgaWYgKCEoZGVwcyBpbiBkYXRhKSkge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIGlmICghZGF0YVtkZXBzXSB8fCB0eXBlb2YgZGF0YVtkZXBzXSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgdGhpcy53YXJuKCdub25PYmplY3REZXBlbmRlbmNpZXMnLCBkZXBzKVxuICAgICAgICBkZWxldGUgZGF0YVtkZXBzXVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIE9iamVjdC5rZXlzKGRhdGFbZGVwc10pLmZvckVhY2goZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgdmFyIHIgPSBkYXRhW2RlcHNdW2RdXG4gICAgICAgIGlmICh0eXBlb2YgciAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICB0aGlzLndhcm4oJ25vblN0cmluZ0RlcGVuZGVuY3knLCBkLCBKU09OLnN0cmluZ2lmeShyKSlcbiAgICAgICAgICBkZWxldGUgZGF0YVtkZXBzXVtkXVxuICAgICAgICB9XG4gICAgICAgIHZhciBob3N0ZWQgPSBob3N0ZWRHaXRJbmZvLmZyb21VcmwoZGF0YVtkZXBzXVtkXSlcbiAgICAgICAgaWYgKGhvc3RlZCkge1xuICAgICAgICAgIGRhdGFbZGVwc11bZF0gPSBob3N0ZWQudG9TdHJpbmcoKVxuICAgICAgICB9XG4gICAgICB9LCB0aGlzKVxuICAgIH0sIHRoaXMpXG4gIH0sXG5cbiAgZml4TW9kdWxlc0ZpZWxkOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgIGlmIChkYXRhLm1vZHVsZXMpIHtcbiAgICAgIHRoaXMud2FybignZGVwcmVjYXRlZE1vZHVsZXMnKVxuICAgICAgZGVsZXRlIGRhdGEubW9kdWxlc1xuICAgIH1cbiAgfSxcblxuICBmaXhLZXl3b3Jkc0ZpZWxkOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgIGlmICh0eXBlb2YgZGF0YS5rZXl3b3JkcyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGRhdGEua2V5d29yZHMgPSBkYXRhLmtleXdvcmRzLnNwbGl0KC8sXFxzKy8pXG4gICAgfVxuICAgIGlmIChkYXRhLmtleXdvcmRzICYmICFBcnJheS5pc0FycmF5KGRhdGEua2V5d29yZHMpKSB7XG4gICAgICBkZWxldGUgZGF0YS5rZXl3b3Jkc1xuICAgICAgdGhpcy53YXJuKCdub25BcnJheUtleXdvcmRzJylcbiAgICB9IGVsc2UgaWYgKGRhdGEua2V5d29yZHMpIHtcbiAgICAgIGRhdGEua2V5d29yZHMgPSBkYXRhLmtleXdvcmRzLmZpbHRlcihmdW5jdGlvbiAoa3cpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBrdyAhPT0gJ3N0cmluZycgfHwgIWt3KSB7XG4gICAgICAgICAgdGhpcy53YXJuKCdub25TdHJpbmdLZXl3b3JkJylcbiAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICB9XG4gICAgICB9LCB0aGlzKVxuICAgIH1cbiAgfSxcblxuICBmaXhWZXJzaW9uRmllbGQ6IGZ1bmN0aW9uIChkYXRhLCBzdHJpY3QpIHtcbiAgICAvLyBhbGxvdyBcImxvb3NlXCIgc2VtdmVyIDEuMCB2ZXJzaW9ucyBpbiBub24tc3RyaWN0IG1vZGVcbiAgICAvLyBlbmZvcmNlIHN0cmljdCBzZW12ZXIgMi4wIGNvbXBsaWFuY2UgaW4gc3RyaWN0IG1vZGVcbiAgICB2YXIgbG9vc2UgPSAhc3RyaWN0XG4gICAgaWYgKCFkYXRhLnZlcnNpb24pIHtcbiAgICAgIGRhdGEudmVyc2lvbiA9ICcnXG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgICBpZiAoIWlzVmFsaWRTZW12ZXIoZGF0YS52ZXJzaW9uLCBsb29zZSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCB2ZXJzaW9uOiBcIicgKyBkYXRhLnZlcnNpb24gKyAnXCInKVxuICAgIH1cbiAgICBkYXRhLnZlcnNpb24gPSBjbGVhblNlbXZlcihkYXRhLnZlcnNpb24sIGxvb3NlKVxuICAgIHJldHVybiB0cnVlXG4gIH0sXG5cbiAgZml4UGVvcGxlOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgIG1vZGlmeVBlb3BsZShkYXRhLCB1blBhcnNlUGVyc29uKVxuICAgIG1vZGlmeVBlb3BsZShkYXRhLCBwYXJzZVBlcnNvbilcbiAgfSxcblxuICBmaXhOYW1lRmllbGQ6IGZ1bmN0aW9uIChkYXRhLCBvcHRpb25zKSB7XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnYm9vbGVhbicpIHtcbiAgICAgIG9wdGlvbnMgPSB7c3RyaWN0OiBvcHRpb25zfVxuICAgIH0gZWxzZSBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBvcHRpb25zID0ge31cbiAgICB9XG4gICAgdmFyIHN0cmljdCA9IG9wdGlvbnMuc3RyaWN0XG4gICAgaWYgKCFkYXRhLm5hbWUgJiYgIXN0cmljdCkge1xuICAgICAgZGF0YS5uYW1lID0gJydcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBpZiAodHlwZW9mIGRhdGEubmFtZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignbmFtZSBmaWVsZCBtdXN0IGJlIGEgc3RyaW5nLicpXG4gICAgfVxuICAgIGlmICghc3RyaWN0KSB7XG4gICAgICBkYXRhLm5hbWUgPSBkYXRhLm5hbWUudHJpbSgpXG4gICAgfVxuICAgIGVuc3VyZVZhbGlkTmFtZShkYXRhLm5hbWUsIHN0cmljdCwgb3B0aW9ucy5hbGxvd0xlZ2FjeUNhc2UpXG4gICAgaWYgKGlzQnVpbHRpbk1vZHVsZShkYXRhLm5hbWUpKSB7XG4gICAgICB0aGlzLndhcm4oJ2NvbmZsaWN0aW5nTmFtZScsIGRhdGEubmFtZSlcbiAgICB9XG4gIH0sXG5cbiAgZml4RGVzY3JpcHRpb25GaWVsZDogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICBpZiAoZGF0YS5kZXNjcmlwdGlvbiAmJiB0eXBlb2YgZGF0YS5kZXNjcmlwdGlvbiAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRoaXMud2Fybignbm9uU3RyaW5nRGVzY3JpcHRpb24nKVxuICAgICAgZGVsZXRlIGRhdGEuZGVzY3JpcHRpb25cbiAgICB9XG4gICAgaWYgKGRhdGEucmVhZG1lICYmICFkYXRhLmRlc2NyaXB0aW9uKSB7XG4gICAgICBkYXRhLmRlc2NyaXB0aW9uID0gZXh0cmFjdERlc2NyaXB0aW9uKGRhdGEucmVhZG1lKVxuICAgIH1cbiAgICBpZiAoZGF0YS5kZXNjcmlwdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBkZWxldGUgZGF0YS5kZXNjcmlwdGlvblxuICAgIH1cbiAgICBpZiAoIWRhdGEuZGVzY3JpcHRpb24pIHtcbiAgICAgIHRoaXMud2FybignbWlzc2luZ0Rlc2NyaXB0aW9uJylcbiAgICB9XG4gIH0sXG5cbiAgZml4UmVhZG1lRmllbGQ6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgaWYgKCFkYXRhLnJlYWRtZSkge1xuICAgICAgdGhpcy53YXJuKCdtaXNzaW5nUmVhZG1lJylcbiAgICAgIGRhdGEucmVhZG1lID0gJ0VSUk9SOiBObyBSRUFETUUgZGF0YSBmb3VuZCEnXG4gICAgfVxuICB9LFxuXG4gIGZpeEJ1Z3NGaWVsZDogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICBpZiAoIWRhdGEuYnVncyAmJiBkYXRhLnJlcG9zaXRvcnkgJiYgZGF0YS5yZXBvc2l0b3J5LnVybCkge1xuICAgICAgdmFyIGhvc3RlZCA9IGhvc3RlZEdpdEluZm8uZnJvbVVybChkYXRhLnJlcG9zaXRvcnkudXJsKVxuICAgICAgaWYgKGhvc3RlZCAmJiBob3N0ZWQuYnVncygpKSB7XG4gICAgICAgIGRhdGEuYnVncyA9IHt1cmw6IGhvc3RlZC5idWdzKCl9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChkYXRhLmJ1Z3MpIHtcbiAgICAgIHZhciBlbWFpbFJlID0gL14uK0AuKlxcLi4rJC9cbiAgICAgIGlmICh0eXBlb2YgZGF0YS5idWdzID09PSAnc3RyaW5nJykge1xuICAgICAgICBpZiAoZW1haWxSZS50ZXN0KGRhdGEuYnVncykpIHtcbiAgICAgICAgICBkYXRhLmJ1Z3MgPSB7ZW1haWw6IGRhdGEuYnVnc31cbiAgICAgICAgLyogZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vZGUvbm8tZGVwcmVjYXRlZC1hcGkgKi9cbiAgICAgICAgfSBlbHNlIGlmICh1cmwucGFyc2UoZGF0YS5idWdzKS5wcm90b2NvbCkge1xuICAgICAgICAgIGRhdGEuYnVncyA9IHt1cmw6IGRhdGEuYnVnc31cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLndhcm4oJ25vbkVtYWlsVXJsQnVnc1N0cmluZycpXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJ1Z3NUeXBvcyhkYXRhLmJ1Z3MsIHRoaXMud2FybilcbiAgICAgICAgdmFyIG9sZEJ1Z3MgPSBkYXRhLmJ1Z3NcbiAgICAgICAgZGF0YS5idWdzID0ge31cbiAgICAgICAgaWYgKG9sZEJ1Z3MudXJsKSB7XG4gICAgICAgICAgLyogZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vZGUvbm8tZGVwcmVjYXRlZC1hcGkgKi9cbiAgICAgICAgICBpZiAodHlwZW9mIChvbGRCdWdzLnVybCkgPT09ICdzdHJpbmcnICYmIHVybC5wYXJzZShvbGRCdWdzLnVybCkucHJvdG9jb2wpIHtcbiAgICAgICAgICAgIGRhdGEuYnVncy51cmwgPSBvbGRCdWdzLnVybFxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLndhcm4oJ25vblVybEJ1Z3NVcmxGaWVsZCcpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChvbGRCdWdzLmVtYWlsKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiAob2xkQnVncy5lbWFpbCkgPT09ICdzdHJpbmcnICYmIGVtYWlsUmUudGVzdChvbGRCdWdzLmVtYWlsKSkge1xuICAgICAgICAgICAgZGF0YS5idWdzLmVtYWlsID0gb2xkQnVncy5lbWFpbFxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLndhcm4oJ25vbkVtYWlsQnVnc0VtYWlsRmllbGQnKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCFkYXRhLmJ1Z3MuZW1haWwgJiYgIWRhdGEuYnVncy51cmwpIHtcbiAgICAgICAgZGVsZXRlIGRhdGEuYnVnc1xuICAgICAgICB0aGlzLndhcm4oJ2VtcHR5Tm9ybWFsaXplZEJ1Z3MnKVxuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICBmaXhIb21lcGFnZUZpZWxkOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgIGlmICghZGF0YS5ob21lcGFnZSAmJiBkYXRhLnJlcG9zaXRvcnkgJiYgZGF0YS5yZXBvc2l0b3J5LnVybCkge1xuICAgICAgdmFyIGhvc3RlZCA9IGhvc3RlZEdpdEluZm8uZnJvbVVybChkYXRhLnJlcG9zaXRvcnkudXJsKVxuICAgICAgaWYgKGhvc3RlZCAmJiBob3N0ZWQuZG9jcygpKSB7XG4gICAgICAgIGRhdGEuaG9tZXBhZ2UgPSBob3N0ZWQuZG9jcygpXG4gICAgICB9XG4gICAgfVxuICAgIGlmICghZGF0YS5ob21lcGFnZSkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBkYXRhLmhvbWVwYWdlICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhpcy53YXJuKCdub25VcmxIb21lcGFnZScpXG4gICAgICByZXR1cm4gZGVsZXRlIGRhdGEuaG9tZXBhZ2VcbiAgICB9XG4gICAgLyogZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vZGUvbm8tZGVwcmVjYXRlZC1hcGkgKi9cbiAgICBpZiAoIXVybC5wYXJzZShkYXRhLmhvbWVwYWdlKS5wcm90b2NvbCkge1xuICAgICAgZGF0YS5ob21lcGFnZSA9ICdodHRwOi8vJyArIGRhdGEuaG9tZXBhZ2VcbiAgICB9XG4gIH0sXG5cbiAgZml4TGljZW5zZUZpZWxkOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgIGNvbnN0IGxpY2Vuc2UgPSBkYXRhLmxpY2Vuc2UgfHwgZGF0YS5saWNlbmNlXG4gICAgaWYgKCFsaWNlbnNlKSB7XG4gICAgICByZXR1cm4gdGhpcy53YXJuKCdtaXNzaW5nTGljZW5zZScpXG4gICAgfVxuICAgIGlmIChcbiAgICAgIHR5cGVvZiAobGljZW5zZSkgIT09ICdzdHJpbmcnIHx8XG4gICAgICBsaWNlbnNlLmxlbmd0aCA8IDEgfHxcbiAgICAgIGxpY2Vuc2UudHJpbSgpID09PSAnJ1xuICAgICkge1xuICAgICAgcmV0dXJuIHRoaXMud2FybignaW52YWxpZExpY2Vuc2UnKVxuICAgIH1cbiAgICBpZiAoIXZhbGlkYXRlTGljZW5zZShsaWNlbnNlKS52YWxpZEZvck5ld1BhY2thZ2VzKSB7XG4gICAgICByZXR1cm4gdGhpcy53YXJuKCdpbnZhbGlkTGljZW5zZScpXG4gICAgfVxuICB9LFxufVxuXG5mdW5jdGlvbiBpc1ZhbGlkU2NvcGVkUGFja2FnZU5hbWUgKHNwZWMpIHtcbiAgaWYgKHNwZWMuY2hhckF0KDApICE9PSAnQCcpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIHZhciByZXN0ID0gc3BlYy5zbGljZSgxKS5zcGxpdCgnLycpXG4gIGlmIChyZXN0Lmxlbmd0aCAhPT0gMikge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgcmV0dXJuIHJlc3RbMF0gJiYgcmVzdFsxXSAmJlxuICAgIHJlc3RbMF0gPT09IGVuY29kZVVSSUNvbXBvbmVudChyZXN0WzBdKSAmJlxuICAgIHJlc3RbMV0gPT09IGVuY29kZVVSSUNvbXBvbmVudChyZXN0WzFdKVxufVxuXG5mdW5jdGlvbiBpc0NvcnJlY3RseUVuY29kZWROYW1lIChzcGVjKSB7XG4gIHJldHVybiAhc3BlYy5tYXRjaCgvWy9AXFxzKyU6XS8pICYmXG4gICAgc3BlYyA9PT0gZW5jb2RlVVJJQ29tcG9uZW50KHNwZWMpXG59XG5cbmZ1bmN0aW9uIGVuc3VyZVZhbGlkTmFtZSAobmFtZSwgc3RyaWN0LCBhbGxvd0xlZ2FjeUNhc2UpIHtcbiAgaWYgKG5hbWUuY2hhckF0KDApID09PSAnLicgfHxcbiAgICAgICEoaXNWYWxpZFNjb3BlZFBhY2thZ2VOYW1lKG5hbWUpIHx8IGlzQ29ycmVjdGx5RW5jb2RlZE5hbWUobmFtZSkpIHx8XG4gICAgICAoc3RyaWN0ICYmICghYWxsb3dMZWdhY3lDYXNlKSAmJiBuYW1lICE9PSBuYW1lLnRvTG93ZXJDYXNlKCkpIHx8XG4gICAgICBuYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdub2RlX21vZHVsZXMnIHx8XG4gICAgICBuYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdmYXZpY29uLmljbycpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgbmFtZTogJyArIEpTT04uc3RyaW5naWZ5KG5hbWUpKVxuICB9XG59XG5cbmZ1bmN0aW9uIG1vZGlmeVBlb3BsZSAoZGF0YSwgZm4pIHtcbiAgaWYgKGRhdGEuYXV0aG9yKSB7XG4gICAgZGF0YS5hdXRob3IgPSBmbihkYXRhLmF1dGhvcilcbiAgfVsnbWFpbnRhaW5lcnMnLCAnY29udHJpYnV0b3JzJ10uZm9yRWFjaChmdW5jdGlvbiAoc2V0KSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGRhdGFbc2V0XSkpIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBkYXRhW3NldF0gPSBkYXRhW3NldF0ubWFwKGZuKVxuICB9KVxuICByZXR1cm4gZGF0YVxufVxuXG5mdW5jdGlvbiB1blBhcnNlUGVyc29uIChwZXJzb24pIHtcbiAgaWYgKHR5cGVvZiBwZXJzb24gPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHBlcnNvblxuICB9XG4gIHZhciBuYW1lID0gcGVyc29uLm5hbWUgfHwgJydcbiAgdmFyIHUgPSBwZXJzb24udXJsIHx8IHBlcnNvbi53ZWJcbiAgdmFyIHVybCA9IHUgPyAoJyAoJyArIHUgKyAnKScpIDogJydcbiAgdmFyIGUgPSBwZXJzb24uZW1haWwgfHwgcGVyc29uLm1haWxcbiAgdmFyIGVtYWlsID0gZSA/ICgnIDwnICsgZSArICc+JykgOiAnJ1xuICByZXR1cm4gbmFtZSArIGVtYWlsICsgdXJsXG59XG5cbmZ1bmN0aW9uIHBhcnNlUGVyc29uIChwZXJzb24pIHtcbiAgaWYgKHR5cGVvZiBwZXJzb24gIT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHBlcnNvblxuICB9XG4gIHZhciBuYW1lID0gcGVyc29uLm1hdGNoKC9eKFteKDxdKykvKVxuICB2YXIgdXJsID0gcGVyc29uLm1hdGNoKC9cXCgoW14pXSspXFwpLylcbiAgdmFyIGVtYWlsID0gcGVyc29uLm1hdGNoKC88KFtePl0rKT4vKVxuICB2YXIgb2JqID0ge31cbiAgaWYgKG5hbWUgJiYgbmFtZVswXS50cmltKCkpIHtcbiAgICBvYmoubmFtZSA9IG5hbWVbMF0udHJpbSgpXG4gIH1cbiAgaWYgKGVtYWlsKSB7XG4gICAgb2JqLmVtYWlsID0gZW1haWxbMV1cbiAgfVxuICBpZiAodXJsKSB7XG4gICAgb2JqLnVybCA9IHVybFsxXVxuICB9XG4gIHJldHVybiBvYmpcbn1cblxuZnVuY3Rpb24gYWRkT3B0aW9uYWxEZXBzVG9EZXBzIChkYXRhLCB3YXJuKSB7XG4gIHZhciBvID0gZGF0YS5vcHRpb25hbERlcGVuZGVuY2llc1xuICBpZiAoIW8pIHtcbiAgICByZXR1cm5cbiAgfVxuICB2YXIgZCA9IGRhdGEuZGVwZW5kZW5jaWVzIHx8IHt9XG4gIE9iamVjdC5rZXlzKG8pLmZvckVhY2goZnVuY3Rpb24gKGspIHtcbiAgICBkW2tdID0gb1trXVxuICB9KVxuICBkYXRhLmRlcGVuZGVuY2llcyA9IGRcbn1cblxuZnVuY3Rpb24gZGVwT2JqZWN0aWZ5IChkZXBzLCB0eXBlLCB3YXJuKSB7XG4gIGlmICghZGVwcykge1xuICAgIHJldHVybiB7fVxuICB9XG4gIGlmICh0eXBlb2YgZGVwcyA9PT0gJ3N0cmluZycpIHtcbiAgICBkZXBzID0gZGVwcy50cmltKCkuc3BsaXQoL1tcXG5cXHJcXHNcXHQgLF0rLylcbiAgfVxuICBpZiAoIUFycmF5LmlzQXJyYXkoZGVwcykpIHtcbiAgICByZXR1cm4gZGVwc1xuICB9XG4gIHdhcm4oJ2RlcHJlY2F0ZWRBcnJheURlcGVuZGVuY2llcycsIHR5cGUpXG4gIHZhciBvID0ge31cbiAgZGVwcy5maWx0ZXIoZnVuY3Rpb24gKGQpIHtcbiAgICByZXR1cm4gdHlwZW9mIGQgPT09ICdzdHJpbmcnXG4gIH0pLmZvckVhY2goZnVuY3Rpb24gKGQpIHtcbiAgICBkID0gZC50cmltKCkuc3BsaXQoLyg6P1tAXFxzPjw9XSkvKVxuICAgIHZhciBkbiA9IGQuc2hpZnQoKVxuICAgIHZhciBkdiA9IGQuam9pbignJylcbiAgICBkdiA9IGR2LnRyaW0oKVxuICAgIGR2ID0gZHYucmVwbGFjZSgvXkAvLCAnJylcbiAgICBvW2RuXSA9IGR2XG4gIH0pXG4gIHJldHVybiBvXG59XG5cbmZ1bmN0aW9uIG9iamVjdGlmeURlcHMgKGRhdGEsIHdhcm4pIHtcbiAgZGVwVHlwZXMuZm9yRWFjaChmdW5jdGlvbiAodHlwZSkge1xuICAgIGlmICghZGF0YVt0eXBlXSkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGRhdGFbdHlwZV0gPSBkZXBPYmplY3RpZnkoZGF0YVt0eXBlXSwgdHlwZSwgd2FybilcbiAgfSlcbn1cblxuZnVuY3Rpb24gYnVnc1R5cG9zIChidWdzLCB3YXJuKSB7XG4gIGlmICghYnVncykge1xuICAgIHJldHVyblxuICB9XG4gIE9iamVjdC5rZXlzKGJ1Z3MpLmZvckVhY2goZnVuY3Rpb24gKGspIHtcbiAgICBpZiAodHlwb3MuYnVnc1trXSkge1xuICAgICAgd2FybigndHlwbycsIGssIHR5cG9zLmJ1Z3Nba10sICdidWdzJylcbiAgICAgIGJ1Z3NbdHlwb3MuYnVnc1trXV0gPSBidWdzW2tdXG4gICAgICBkZWxldGUgYnVnc1trXVxuICAgIH1cbiAgfSlcbn1cbiIsICJ2YXIgdXRpbCA9IHJlcXVpcmUoJ3V0aWwnKVxudmFyIG1lc3NhZ2VzID0gcmVxdWlyZSgnLi93YXJuaW5nX21lc3NhZ2VzLmpzb24nKVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDApXG4gIHZhciB3YXJuaW5nTmFtZSA9IGFyZ3Muc2hpZnQoKVxuICBpZiAod2FybmluZ05hbWUgPT09ICd0eXBvJykge1xuICAgIHJldHVybiBtYWtlVHlwb1dhcm5pbmcuYXBwbHkobnVsbCwgYXJncylcbiAgfSBlbHNlIHtcbiAgICB2YXIgbXNnVGVtcGxhdGUgPSBtZXNzYWdlc1t3YXJuaW5nTmFtZV0gPyBtZXNzYWdlc1t3YXJuaW5nTmFtZV0gOiB3YXJuaW5nTmFtZSArIFwiOiAnJXMnXCJcbiAgICBhcmdzLnVuc2hpZnQobXNnVGVtcGxhdGUpXG4gICAgcmV0dXJuIHV0aWwuZm9ybWF0LmFwcGx5KG51bGwsIGFyZ3MpXG4gIH1cbn1cblxuZnVuY3Rpb24gbWFrZVR5cG9XYXJuaW5nIChwcm92aWRlZE5hbWUsIHByb2JhYmxlTmFtZSwgZmllbGQpIHtcbiAgaWYgKGZpZWxkKSB7XG4gICAgcHJvdmlkZWROYW1lID0gZmllbGQgKyBcIlsnXCIgKyBwcm92aWRlZE5hbWUgKyBcIiddXCJcbiAgICBwcm9iYWJsZU5hbWUgPSBmaWVsZCArIFwiWydcIiArIHByb2JhYmxlTmFtZSArIFwiJ11cIlxuICB9XG4gIHJldHVybiB1dGlsLmZvcm1hdChtZXNzYWdlcy50eXBvLCBwcm92aWRlZE5hbWUsIHByb2JhYmxlTmFtZSlcbn1cbiIsICJtb2R1bGUuZXhwb3J0cyA9IG5vcm1hbGl6ZVxuXG52YXIgZml4ZXIgPSByZXF1aXJlKCcuL2ZpeGVyJylcbm5vcm1hbGl6ZS5maXhlciA9IGZpeGVyXG5cbnZhciBtYWtlV2FybmluZyA9IHJlcXVpcmUoJy4vbWFrZV93YXJuaW5nJylcblxudmFyIGZpZWxkc1RvRml4ID0gWyduYW1lJywgJ3ZlcnNpb24nLCAnZGVzY3JpcHRpb24nLCAncmVwb3NpdG9yeScsICdtb2R1bGVzJywgJ3NjcmlwdHMnLFxuICAnZmlsZXMnLCAnYmluJywgJ21hbicsICdidWdzJywgJ2tleXdvcmRzJywgJ3JlYWRtZScsICdob21lcGFnZScsICdsaWNlbnNlJ11cbnZhciBvdGhlclRoaW5nc1RvRml4ID0gWydkZXBlbmRlbmNpZXMnLCAncGVvcGxlJywgJ3R5cG9zJ11cblxudmFyIHRoaW5nc1RvRml4ID0gZmllbGRzVG9GaXgubWFwKGZ1bmN0aW9uIChmaWVsZE5hbWUpIHtcbiAgcmV0dXJuIHVjRmlyc3QoZmllbGROYW1lKSArICdGaWVsZCdcbn0pXG4vLyB0d28gd2F5cyB0byBkbyB0aGlzIGluIENvZmZlZVNjcmlwdCBvbiBvbmx5IG9uZSBsaW5lLCBzdWItNzAgY2hhcnM6XG4vLyB0aGluZ3NUb0ZpeCA9IGZpZWxkc1RvRml4Lm1hcCAobmFtZSkgLT4gdWNGaXJzdChuYW1lKSArIFwiRmllbGRcIlxuLy8gdGhpbmdzVG9GaXggPSAodWNGaXJzdChuYW1lKSArIFwiRmllbGRcIiBmb3IgbmFtZSBpbiBmaWVsZHNUb0ZpeClcbnRoaW5nc1RvRml4ID0gdGhpbmdzVG9GaXguY29uY2F0KG90aGVyVGhpbmdzVG9GaXgpXG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZSAoZGF0YSwgd2Fybiwgc3RyaWN0KSB7XG4gIGlmICh3YXJuID09PSB0cnVlKSB7XG4gICAgd2FybiA9IG51bGxcbiAgICBzdHJpY3QgPSB0cnVlXG4gIH1cbiAgaWYgKCFzdHJpY3QpIHtcbiAgICBzdHJpY3QgPSBmYWxzZVxuICB9XG4gIGlmICghd2FybiB8fCBkYXRhLnByaXZhdGUpIHtcbiAgICB3YXJuID0gZnVuY3Rpb24gKG1zZykgeyAvKiBub29wICovIH1cbiAgfVxuXG4gIGlmIChkYXRhLnNjcmlwdHMgJiZcbiAgICAgIGRhdGEuc2NyaXB0cy5pbnN0YWxsID09PSAnbm9kZS1neXAgcmVidWlsZCcgJiZcbiAgICAgICFkYXRhLnNjcmlwdHMucHJlaW5zdGFsbCkge1xuICAgIGRhdGEuZ3lwZmlsZSA9IHRydWVcbiAgfVxuICBmaXhlci53YXJuID0gZnVuY3Rpb24gKCkge1xuICAgIHdhcm4obWFrZVdhcm5pbmcuYXBwbHkobnVsbCwgYXJndW1lbnRzKSlcbiAgfVxuICB0aGluZ3NUb0ZpeC5mb3JFYWNoKGZ1bmN0aW9uICh0aGluZ05hbWUpIHtcbiAgICBmaXhlclsnZml4JyArIHVjRmlyc3QodGhpbmdOYW1lKV0oZGF0YSwgc3RyaWN0KVxuICB9KVxuICBkYXRhLl9pZCA9IGRhdGEubmFtZSArICdAJyArIGRhdGEudmVyc2lvblxufVxuXG5mdW5jdGlvbiB1Y0ZpcnN0IChzdHJpbmcpIHtcbiAgcmV0dXJuIHN0cmluZy5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHN0cmluZy5zbGljZSgxKVxufVxuIiwgImV4cG9ydHMucGFyc2UgPSBleHBvcnRzLmRlY29kZSA9IGRlY29kZVxuXG5leHBvcnRzLnN0cmluZ2lmeSA9IGV4cG9ydHMuZW5jb2RlID0gZW5jb2RlXG5cbmV4cG9ydHMuc2FmZSA9IHNhZmVcbmV4cG9ydHMudW5zYWZlID0gdW5zYWZlXG5cbnZhciBlb2wgPSB0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgcHJvY2Vzcy5wbGF0Zm9ybSA9PT0gJ3dpbjMyJyA/ICdcXHJcXG4nIDogJ1xcbidcblxuZnVuY3Rpb24gZW5jb2RlIChvYmosIG9wdCkge1xuICB2YXIgY2hpbGRyZW4gPSBbXVxuICB2YXIgb3V0ID0gJydcblxuICBpZiAodHlwZW9mIG9wdCA9PT0gJ3N0cmluZycpIHtcbiAgICBvcHQgPSB7XG4gICAgICBzZWN0aW9uOiBvcHQsXG4gICAgICB3aGl0ZXNwYWNlOiBmYWxzZSxcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgb3B0ID0gb3B0IHx8IHt9XG4gICAgb3B0LndoaXRlc3BhY2UgPSBvcHQud2hpdGVzcGFjZSA9PT0gdHJ1ZVxuICB9XG5cbiAgdmFyIHNlcGFyYXRvciA9IG9wdC53aGl0ZXNwYWNlID8gJyA9ICcgOiAnPSdcblxuICBPYmplY3Qua2V5cyhvYmopLmZvckVhY2goZnVuY3Rpb24gKGssIF8sIF9fKSB7XG4gICAgdmFyIHZhbCA9IG9ialtrXVxuICAgIGlmICh2YWwgJiYgQXJyYXkuaXNBcnJheSh2YWwpKSB7XG4gICAgICB2YWwuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICBvdXQgKz0gc2FmZShrICsgJ1tdJykgKyBzZXBhcmF0b3IgKyBzYWZlKGl0ZW0pICsgJ1xcbidcbiAgICAgIH0pXG4gICAgfSBlbHNlIGlmICh2YWwgJiYgdHlwZW9mIHZhbCA9PT0gJ29iamVjdCcpXG4gICAgICBjaGlsZHJlbi5wdXNoKGspXG4gICAgZWxzZVxuICAgICAgb3V0ICs9IHNhZmUoaykgKyBzZXBhcmF0b3IgKyBzYWZlKHZhbCkgKyBlb2xcbiAgfSlcblxuICBpZiAob3B0LnNlY3Rpb24gJiYgb3V0Lmxlbmd0aClcbiAgICBvdXQgPSAnWycgKyBzYWZlKG9wdC5zZWN0aW9uKSArICddJyArIGVvbCArIG91dFxuXG4gIGNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKGssIF8sIF9fKSB7XG4gICAgdmFyIG5rID0gZG90U3BsaXQoaykuam9pbignXFxcXC4nKVxuICAgIHZhciBzZWN0aW9uID0gKG9wdC5zZWN0aW9uID8gb3B0LnNlY3Rpb24gKyAnLicgOiAnJykgKyBua1xuICAgIHZhciBjaGlsZCA9IGVuY29kZShvYmpba10sIHtcbiAgICAgIHNlY3Rpb246IHNlY3Rpb24sXG4gICAgICB3aGl0ZXNwYWNlOiBvcHQud2hpdGVzcGFjZSxcbiAgICB9KVxuICAgIGlmIChvdXQubGVuZ3RoICYmIGNoaWxkLmxlbmd0aClcbiAgICAgIG91dCArPSBlb2xcblxuICAgIG91dCArPSBjaGlsZFxuICB9KVxuXG4gIHJldHVybiBvdXRcbn1cblxuZnVuY3Rpb24gZG90U3BsaXQgKHN0cikge1xuICByZXR1cm4gc3RyLnJlcGxhY2UoL1xcMS9nLCAnXFx1MDAwMkxJVEVSQUxcXFxcMUxJVEVSQUxcXHUwMDAyJylcbiAgICAucmVwbGFjZSgvXFxcXFxcLi9nLCAnXFx1MDAwMScpXG4gICAgLnNwbGl0KC9cXC4vKS5tYXAoZnVuY3Rpb24gKHBhcnQpIHtcbiAgICAgIHJldHVybiBwYXJ0LnJlcGxhY2UoL1xcMS9nLCAnXFxcXC4nKVxuICAgICAgICAucmVwbGFjZSgvXFwyTElURVJBTFxcXFwxTElURVJBTFxcMi9nLCAnXFx1MDAwMScpXG4gICAgfSlcbn1cblxuZnVuY3Rpb24gZGVjb2RlIChzdHIpIHtcbiAgdmFyIG91dCA9IHt9XG4gIHZhciBwID0gb3V0XG4gIHZhciBzZWN0aW9uID0gbnVsbFxuICAvLyAgICAgICAgICBzZWN0aW9uICAgICB8a2V5ICAgICAgPSB2YWx1ZVxuICB2YXIgcmUgPSAvXlxcWyhbXlxcXV0qKVxcXSR8XihbXj1dKykoPSguKikpPyQvaVxuICB2YXIgbGluZXMgPSBzdHIuc3BsaXQoL1tcXHJcXG5dKy9nKVxuXG4gIGxpbmVzLmZvckVhY2goZnVuY3Rpb24gKGxpbmUsIF8sIF9fKSB7XG4gICAgaWYgKCFsaW5lIHx8IGxpbmUubWF0Y2goL15cXHMqWzsjXS8pKVxuICAgICAgcmV0dXJuXG4gICAgdmFyIG1hdGNoID0gbGluZS5tYXRjaChyZSlcbiAgICBpZiAoIW1hdGNoKVxuICAgICAgcmV0dXJuXG4gICAgaWYgKG1hdGNoWzFdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHNlY3Rpb24gPSB1bnNhZmUobWF0Y2hbMV0pXG4gICAgICBpZiAoc2VjdGlvbiA9PT0gJ19fcHJvdG9fXycpIHtcbiAgICAgICAgLy8gbm90IGFsbG93ZWRcbiAgICAgICAgLy8ga2VlcCBwYXJzaW5nIHRoZSBzZWN0aW9uLCBidXQgZG9uJ3QgYXR0YWNoIGl0LlxuICAgICAgICBwID0ge31cbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICBwID0gb3V0W3NlY3Rpb25dID0gb3V0W3NlY3Rpb25dIHx8IHt9XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgdmFyIGtleSA9IHVuc2FmZShtYXRjaFsyXSlcbiAgICBpZiAoa2V5ID09PSAnX19wcm90b19fJylcbiAgICAgIHJldHVyblxuICAgIHZhciB2YWx1ZSA9IG1hdGNoWzNdID8gdW5zYWZlKG1hdGNoWzRdKSA6IHRydWVcbiAgICBzd2l0Y2ggKHZhbHVlKSB7XG4gICAgICBjYXNlICd0cnVlJzpcbiAgICAgIGNhc2UgJ2ZhbHNlJzpcbiAgICAgIGNhc2UgJ251bGwnOiB2YWx1ZSA9IEpTT04ucGFyc2UodmFsdWUpXG4gICAgfVxuXG4gICAgLy8gQ29udmVydCBrZXlzIHdpdGggJ1tdJyBzdWZmaXggdG8gYW4gYXJyYXlcbiAgICBpZiAoa2V5Lmxlbmd0aCA+IDIgJiYga2V5LnNsaWNlKC0yKSA9PT0gJ1tdJykge1xuICAgICAga2V5ID0ga2V5LnN1YnN0cmluZygwLCBrZXkubGVuZ3RoIC0gMilcbiAgICAgIGlmIChrZXkgPT09ICdfX3Byb3RvX18nKVxuICAgICAgICByZXR1cm5cbiAgICAgIGlmICghcFtrZXldKVxuICAgICAgICBwW2tleV0gPSBbXVxuICAgICAgZWxzZSBpZiAoIUFycmF5LmlzQXJyYXkocFtrZXldKSlcbiAgICAgICAgcFtrZXldID0gW3Bba2V5XV1cbiAgICB9XG5cbiAgICAvLyBzYWZlZ3VhcmQgYWdhaW5zdCByZXNldHRpbmcgYSBwcmV2aW91c2x5IGRlZmluZWRcbiAgICAvLyBhcnJheSBieSBhY2NpZGVudGFsbHkgZm9yZ2V0dGluZyB0aGUgYnJhY2tldHNcbiAgICBpZiAoQXJyYXkuaXNBcnJheShwW2tleV0pKVxuICAgICAgcFtrZXldLnB1c2godmFsdWUpXG4gICAgZWxzZVxuICAgICAgcFtrZXldID0gdmFsdWVcbiAgfSlcblxuICAvLyB7YTp7eToxfSxcImEuYlwiOnt4OjJ9fSAtLT4ge2E6e3k6MSxiOnt4OjJ9fX1cbiAgLy8gdXNlIGEgZmlsdGVyIHRvIHJldHVybiB0aGUga2V5cyB0aGF0IGhhdmUgdG8gYmUgZGVsZXRlZC5cbiAgT2JqZWN0LmtleXMob3V0KS5maWx0ZXIoZnVuY3Rpb24gKGssIF8sIF9fKSB7XG4gICAgaWYgKCFvdXRba10gfHxcbiAgICAgIHR5cGVvZiBvdXRba10gIT09ICdvYmplY3QnIHx8XG4gICAgICBBcnJheS5pc0FycmF5KG91dFtrXSkpXG4gICAgICByZXR1cm4gZmFsc2VcblxuICAgIC8vIHNlZSBpZiB0aGUgcGFyZW50IHNlY3Rpb24gaXMgYWxzbyBhbiBvYmplY3QuXG4gICAgLy8gaWYgc28sIGFkZCBpdCB0byB0aGF0LCBhbmQgbWFyayB0aGlzIG9uZSBmb3IgZGVsZXRpb25cbiAgICB2YXIgcGFydHMgPSBkb3RTcGxpdChrKVxuICAgIHZhciBwID0gb3V0XG4gICAgdmFyIGwgPSBwYXJ0cy5wb3AoKVxuICAgIHZhciBubCA9IGwucmVwbGFjZSgvXFxcXFxcLi9nLCAnLicpXG4gICAgcGFydHMuZm9yRWFjaChmdW5jdGlvbiAocGFydCwgXywgX18pIHtcbiAgICAgIGlmIChwYXJ0ID09PSAnX19wcm90b19fJylcbiAgICAgICAgcmV0dXJuXG4gICAgICBpZiAoIXBbcGFydF0gfHwgdHlwZW9mIHBbcGFydF0gIT09ICdvYmplY3QnKVxuICAgICAgICBwW3BhcnRdID0ge31cbiAgICAgIHAgPSBwW3BhcnRdXG4gICAgfSlcbiAgICBpZiAocCA9PT0gb3V0ICYmIG5sID09PSBsKVxuICAgICAgcmV0dXJuIGZhbHNlXG5cbiAgICBwW25sXSA9IG91dFtrXVxuICAgIHJldHVybiB0cnVlXG4gIH0pLmZvckVhY2goZnVuY3Rpb24gKGRlbCwgXywgX18pIHtcbiAgICBkZWxldGUgb3V0W2RlbF1cbiAgfSlcblxuICByZXR1cm4gb3V0XG59XG5cbmZ1bmN0aW9uIGlzUXVvdGVkICh2YWwpIHtcbiAgcmV0dXJuICh2YWwuY2hhckF0KDApID09PSAnXCInICYmIHZhbC5zbGljZSgtMSkgPT09ICdcIicpIHx8XG4gICAgKHZhbC5jaGFyQXQoMCkgPT09IFwiJ1wiICYmIHZhbC5zbGljZSgtMSkgPT09IFwiJ1wiKVxufVxuXG5mdW5jdGlvbiBzYWZlICh2YWwpIHtcbiAgcmV0dXJuICh0eXBlb2YgdmFsICE9PSAnc3RyaW5nJyB8fFxuICAgIHZhbC5tYXRjaCgvWz1cXHJcXG5dLykgfHxcbiAgICB2YWwubWF0Y2goL15cXFsvKSB8fFxuICAgICh2YWwubGVuZ3RoID4gMSAmJlxuICAgICBpc1F1b3RlZCh2YWwpKSB8fFxuICAgIHZhbCAhPT0gdmFsLnRyaW0oKSlcbiAgICA/IEpTT04uc3RyaW5naWZ5KHZhbClcbiAgICA6IHZhbC5yZXBsYWNlKC87L2csICdcXFxcOycpLnJlcGxhY2UoLyMvZywgJ1xcXFwjJylcbn1cblxuZnVuY3Rpb24gdW5zYWZlICh2YWwsIGRvVW5lc2MpIHtcbiAgdmFsID0gKHZhbCB8fCAnJykudHJpbSgpXG4gIGlmIChpc1F1b3RlZCh2YWwpKSB7XG4gICAgLy8gcmVtb3ZlIHRoZSBzaW5nbGUgcXVvdGVzIGJlZm9yZSBjYWxsaW5nIEpTT04ucGFyc2VcbiAgICBpZiAodmFsLmNoYXJBdCgwKSA9PT0gXCInXCIpXG4gICAgICB2YWwgPSB2YWwuc3Vic3RyKDEsIHZhbC5sZW5ndGggLSAyKVxuXG4gICAgdHJ5IHtcbiAgICAgIHZhbCA9IEpTT04ucGFyc2UodmFsKVxuICAgIH0gY2F0Y2ggKF8pIHt9XG4gIH0gZWxzZSB7XG4gICAgLy8gd2FsayB0aGUgdmFsIHRvIGZpbmQgdGhlIGZpcnN0IG5vdC1lc2NhcGVkIDsgY2hhcmFjdGVyXG4gICAgdmFyIGVzYyA9IGZhbHNlXG4gICAgdmFyIHVuZXNjID0gJydcbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IHZhbC5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIHZhciBjID0gdmFsLmNoYXJBdChpKVxuICAgICAgaWYgKGVzYykge1xuICAgICAgICBpZiAoJ1xcXFw7IycuaW5kZXhPZihjKSAhPT0gLTEpXG4gICAgICAgICAgdW5lc2MgKz0gY1xuICAgICAgICBlbHNlXG4gICAgICAgICAgdW5lc2MgKz0gJ1xcXFwnICsgY1xuXG4gICAgICAgIGVzYyA9IGZhbHNlXG4gICAgICB9IGVsc2UgaWYgKCc7IycuaW5kZXhPZihjKSAhPT0gLTEpXG4gICAgICAgIGJyZWFrXG4gICAgICBlbHNlIGlmIChjID09PSAnXFxcXCcpXG4gICAgICAgIGVzYyA9IHRydWVcbiAgICAgIGVsc2VcbiAgICAgICAgdW5lc2MgKz0gY1xuICAgIH1cbiAgICBpZiAoZXNjKVxuICAgICAgdW5lc2MgKz0gJ1xcXFwnXG5cbiAgICByZXR1cm4gdW5lc2MudHJpbSgpXG4gIH1cbiAgcmV0dXJuIHZhbFxufVxuIiwgInZhciBmcyA9IHJlcXVpcmUoJ2ZzJyk7XG52YXIgaW5pID0gcmVxdWlyZSgnaW5pJyk7XG52YXIgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcblxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGRpcixjYil7XG4gIGZpbmRHaXQoZGlyLGZ1bmN0aW9uKGNvbmZpZykge1xuICAgIGlmKCFjb25maWcpIHJldHVybiBjYihuZXcgRXJyb3IoJ25vIGdpdGNvbmZpZyB0byBiZSBmb3VuZCBhdCAnK2RpcikpXG4gICAgZnMucmVhZEZpbGUoY29uZmlnLGZ1bmN0aW9uKGVycixkYXRhKXtcbiAgICAgIGlmKGVycikgcmV0dXJuIGNiKGVycik7XG4gICAgICB0cnl7XG4gICAgICAgdmFyIGZvcm1hdHRlZCA9IGZvcm1hdChpbmkucGFyc2UoZGF0YS50b1N0cmluZygpKSk7XG4gICAgICB9IGNhdGNoIChlKXtcbiAgICAgICByZXR1cm4gY2IoZSk7XG4gICAgICB9XG4gICAgICBjYihmYWxzZSxmb3JtYXR0ZWQpO1xuICAgIH0pXG4gIH0pXG59XG5cbmZ1bmN0aW9uIGZvcm1hdChkYXRhKXtcbiAgdmFyIG91dCA9IHt9O1xuICBPYmplY3Qua2V5cyhkYXRhKS5mb3JFYWNoKGZ1bmN0aW9uKGspe1xuICAgIGlmKGsuaW5kZXhPZignXCInKT4gLTEpIHtcbiAgICAgIHZhciBwYXJ0cyA9IGsuc3BsaXQoJ1wiJyk7XG4gICAgICB2YXIgcGFyZW50S2V5ID0gcGFydHMuc2hpZnQoKS50cmltKCk7XG4gICAgICB2YXIgY2hpbGRLZXkgPSBwYXJ0cy5zaGlmdCgpLnRyaW0oKTtcbiAgICAgIGlmKCFvdXRbcGFyZW50S2V5XSkgb3V0W3BhcmVudEtleV0gPSB7fTtcbiAgICAgIG91dFtwYXJlbnRLZXldW2NoaWxkS2V5XSA9IGRhdGFba107XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dFtrXSA9IGRhdGFba107XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIG91dDsgXG59XG5cbmZ1bmN0aW9uIGZpbmRHaXQoZGlyLCBjYikge1xuICB2YXIgZm9sZGVyID0gcGF0aC5qb2luKGRpciwgJy5naXQvY29uZmlnJylcbiAgZnMuZXhpc3RzKGZvbGRlcixmdW5jdGlvbihleGlzdHMpIHtcbiAgICBpZihleGlzdHMpIHJldHVybiBjYihmb2xkZXIpXG4gICAgaWYoZGlyID09PSBwYXRoLnJlc29sdmUoZGlyLCAnLi4nKSkgcmV0dXJuIGNiKGZhbHNlKVxuICAgIGZpbmRHaXQocGF0aC5yZXNvbHZlKGRpciwgJy4uJyksIGNiKVxuICB9KVxufVxuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIHByb2Nlc3NGbiA9IGZ1bmN0aW9uIChmbiwgUCwgb3B0cykge1xuXHRyZXR1cm4gZnVuY3Rpb24gKCkge1xuXHRcdHZhciB0aGF0ID0gdGhpcztcblx0XHR2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoKTtcblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRhcmdzW2ldID0gYXJndW1lbnRzW2ldO1xuXHRcdH1cblxuXHRcdHJldHVybiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdFx0XHRhcmdzLnB1c2goZnVuY3Rpb24gKGVyciwgcmVzdWx0KSB7XG5cdFx0XHRcdGlmIChlcnIpIHtcblx0XHRcdFx0XHRyZWplY3QoZXJyKTtcblx0XHRcdFx0fSBlbHNlIGlmIChvcHRzLm11bHRpQXJncykge1xuXHRcdFx0XHRcdHZhciByZXN1bHRzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcblxuXHRcdFx0XHRcdGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdFx0XHRyZXN1bHRzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXNvbHZlKHJlc3VsdHMpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHJlc29sdmUocmVzdWx0KTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cblx0XHRcdGZuLmFwcGx5KHRoYXQsIGFyZ3MpO1xuXHRcdH0pO1xuXHR9O1xufTtcblxudmFyIHBpZnkgPSBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvYmosIFAsIG9wdHMpIHtcblx0aWYgKHR5cGVvZiBQICE9PSAnZnVuY3Rpb24nKSB7XG5cdFx0b3B0cyA9IFA7XG5cdFx0UCA9IFByb21pc2U7XG5cdH1cblxuXHRvcHRzID0gb3B0cyB8fCB7fTtcblx0b3B0cy5leGNsdWRlID0gb3B0cy5leGNsdWRlIHx8IFsvLitTeW5jJC9dO1xuXG5cdHZhciBmaWx0ZXIgPSBmdW5jdGlvbiAoa2V5KSB7XG5cdFx0dmFyIG1hdGNoID0gZnVuY3Rpb24gKHBhdHRlcm4pIHtcblx0XHRcdHJldHVybiB0eXBlb2YgcGF0dGVybiA9PT0gJ3N0cmluZycgPyBrZXkgPT09IHBhdHRlcm4gOiBwYXR0ZXJuLnRlc3Qoa2V5KTtcblx0XHR9O1xuXG5cdFx0cmV0dXJuIG9wdHMuaW5jbHVkZSA/IG9wdHMuaW5jbHVkZS5zb21lKG1hdGNoKSA6ICFvcHRzLmV4Y2x1ZGUuc29tZShtYXRjaCk7XG5cdH07XG5cblx0dmFyIHJldCA9IHR5cGVvZiBvYmogPT09ICdmdW5jdGlvbicgPyBmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKG9wdHMuZXhjbHVkZU1haW4pIHtcblx0XHRcdHJldHVybiBvYmouYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gcHJvY2Vzc0ZuKG9iaiwgUCwgb3B0cykuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0fSA6IHt9O1xuXG5cdHJldHVybiBPYmplY3Qua2V5cyhvYmopLnJlZHVjZShmdW5jdGlvbiAocmV0LCBrZXkpIHtcblx0XHR2YXIgeCA9IG9ialtrZXldO1xuXG5cdFx0cmV0W2tleV0gPSB0eXBlb2YgeCA9PT0gJ2Z1bmN0aW9uJyAmJiBmaWx0ZXIoa2V5KSA/IHByb2Nlc3NGbih4LCBQLCBvcHRzKSA6IHg7XG5cblx0XHRyZXR1cm4gcmV0O1xuXHR9LCByZXQpO1xufTtcblxucGlmeS5hbGwgPSBwaWZ5O1xuIiwgIid1c2Ugc3RyaWN0JztcbmNvbnN0IGdpdGNvbmZpZyA9IHJlcXVpcmUoJ2dpdGNvbmZpZ2xvY2FsJyk7XG5jb25zdCBwaWZ5ID0gcmVxdWlyZSgncGlmeScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGRpciA9PiB7XG5cdHJldHVybiBwaWZ5KGdpdGNvbmZpZykoZGlyIHx8IHByb2Nlc3MuY3dkKCkpLnRoZW4oY29uZmlnID0+IHtcblx0XHR2YXIgdXJsID0gY29uZmlnLnJlbW90ZSAmJiBjb25maWcucmVtb3RlLm9yaWdpbiAmJiBjb25maWcucmVtb3RlLm9yaWdpbi51cmw7XG5cblx0XHRpZiAoIXVybCkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdDb3VsZG5cXCd0IGZpbmQgb3JpZ2luIHVybCcpO1xuXHRcdH1cblxuXHRcdHJldHVybiB1cmw7XG5cdH0pO1xufTtcbiIsICJ2YXIgY29uc3RhbnRzID0gcmVxdWlyZSgnY29uc3RhbnRzJylcblxudmFyIG9yaWdDd2QgPSBwcm9jZXNzLmN3ZFxudmFyIGN3ZCA9IG51bGxcblxudmFyIHBsYXRmb3JtID0gcHJvY2Vzcy5lbnYuR1JBQ0VGVUxfRlNfUExBVEZPUk0gfHwgcHJvY2Vzcy5wbGF0Zm9ybVxuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uKCkge1xuICBpZiAoIWN3ZClcbiAgICBjd2QgPSBvcmlnQ3dkLmNhbGwocHJvY2VzcylcbiAgcmV0dXJuIGN3ZFxufVxudHJ5IHtcbiAgcHJvY2Vzcy5jd2QoKVxufSBjYXRjaCAoZXIpIHt9XG5cbi8vIFRoaXMgY2hlY2sgaXMgbmVlZGVkIHVudGlsIG5vZGUuanMgMTIgaXMgcmVxdWlyZWRcbmlmICh0eXBlb2YgcHJvY2Vzcy5jaGRpciA9PT0gJ2Z1bmN0aW9uJykge1xuICB2YXIgY2hkaXIgPSBwcm9jZXNzLmNoZGlyXG4gIHByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZCkge1xuICAgIGN3ZCA9IG51bGxcbiAgICBjaGRpci5jYWxsKHByb2Nlc3MsIGQpXG4gIH1cbiAgaWYgKE9iamVjdC5zZXRQcm90b3R5cGVPZikgT2JqZWN0LnNldFByb3RvdHlwZU9mKHByb2Nlc3MuY2hkaXIsIGNoZGlyKVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHBhdGNoXG5cbmZ1bmN0aW9uIHBhdGNoIChmcykge1xuICAvLyAocmUtKWltcGxlbWVudCBzb21lIHRoaW5ncyB0aGF0IGFyZSBrbm93biBidXN0ZWQgb3IgbWlzc2luZy5cblxuICAvLyBsY2htb2QsIGJyb2tlbiBwcmlvciB0byAwLjYuMlxuICAvLyBiYWNrLXBvcnQgdGhlIGZpeCBoZXJlLlxuICBpZiAoY29uc3RhbnRzLmhhc093blByb3BlcnR5KCdPX1NZTUxJTksnKSAmJlxuICAgICAgcHJvY2Vzcy52ZXJzaW9uLm1hdGNoKC9edjBcXC42XFwuWzAtMl18XnYwXFwuNVxcLi8pKSB7XG4gICAgcGF0Y2hMY2htb2QoZnMpXG4gIH1cblxuICAvLyBsdXRpbWVzIGltcGxlbWVudGF0aW9uLCBvciBuby1vcFxuICBpZiAoIWZzLmx1dGltZXMpIHtcbiAgICBwYXRjaEx1dGltZXMoZnMpXG4gIH1cblxuICAvLyBodHRwczovL2dpdGh1Yi5jb20vaXNhYWNzL25vZGUtZ3JhY2VmdWwtZnMvaXNzdWVzLzRcbiAgLy8gQ2hvd24gc2hvdWxkIG5vdCBmYWlsIG9uIGVpbnZhbCBvciBlcGVybSBpZiBub24tcm9vdC5cbiAgLy8gSXQgc2hvdWxkIG5vdCBmYWlsIG9uIGVub3N5cyBldmVyLCBhcyB0aGlzIGp1c3QgaW5kaWNhdGVzXG4gIC8vIHRoYXQgYSBmcyBkb2Vzbid0IHN1cHBvcnQgdGhlIGludGVuZGVkIG9wZXJhdGlvbi5cblxuICBmcy5jaG93biA9IGNob3duRml4KGZzLmNob3duKVxuICBmcy5mY2hvd24gPSBjaG93bkZpeChmcy5mY2hvd24pXG4gIGZzLmxjaG93biA9IGNob3duRml4KGZzLmxjaG93bilcblxuICBmcy5jaG1vZCA9IGNobW9kRml4KGZzLmNobW9kKVxuICBmcy5mY2htb2QgPSBjaG1vZEZpeChmcy5mY2htb2QpXG4gIGZzLmxjaG1vZCA9IGNobW9kRml4KGZzLmxjaG1vZClcblxuICBmcy5jaG93blN5bmMgPSBjaG93bkZpeFN5bmMoZnMuY2hvd25TeW5jKVxuICBmcy5mY2hvd25TeW5jID0gY2hvd25GaXhTeW5jKGZzLmZjaG93blN5bmMpXG4gIGZzLmxjaG93blN5bmMgPSBjaG93bkZpeFN5bmMoZnMubGNob3duU3luYylcblxuICBmcy5jaG1vZFN5bmMgPSBjaG1vZEZpeFN5bmMoZnMuY2htb2RTeW5jKVxuICBmcy5mY2htb2RTeW5jID0gY2htb2RGaXhTeW5jKGZzLmZjaG1vZFN5bmMpXG4gIGZzLmxjaG1vZFN5bmMgPSBjaG1vZEZpeFN5bmMoZnMubGNobW9kU3luYylcblxuICBmcy5zdGF0ID0gc3RhdEZpeChmcy5zdGF0KVxuICBmcy5mc3RhdCA9IHN0YXRGaXgoZnMuZnN0YXQpXG4gIGZzLmxzdGF0ID0gc3RhdEZpeChmcy5sc3RhdClcblxuICBmcy5zdGF0U3luYyA9IHN0YXRGaXhTeW5jKGZzLnN0YXRTeW5jKVxuICBmcy5mc3RhdFN5bmMgPSBzdGF0Rml4U3luYyhmcy5mc3RhdFN5bmMpXG4gIGZzLmxzdGF0U3luYyA9IHN0YXRGaXhTeW5jKGZzLmxzdGF0U3luYylcblxuICAvLyBpZiBsY2htb2QvbGNob3duIGRvIG5vdCBleGlzdCwgdGhlbiBtYWtlIHRoZW0gbm8tb3BzXG4gIGlmIChmcy5jaG1vZCAmJiAhZnMubGNobW9kKSB7XG4gICAgZnMubGNobW9kID0gZnVuY3Rpb24gKHBhdGgsIG1vZGUsIGNiKSB7XG4gICAgICBpZiAoY2IpIHByb2Nlc3MubmV4dFRpY2soY2IpXG4gICAgfVxuICAgIGZzLmxjaG1vZFN5bmMgPSBmdW5jdGlvbiAoKSB7fVxuICB9XG4gIGlmIChmcy5jaG93biAmJiAhZnMubGNob3duKSB7XG4gICAgZnMubGNob3duID0gZnVuY3Rpb24gKHBhdGgsIHVpZCwgZ2lkLCBjYikge1xuICAgICAgaWYgKGNiKSBwcm9jZXNzLm5leHRUaWNrKGNiKVxuICAgIH1cbiAgICBmcy5sY2hvd25TeW5jID0gZnVuY3Rpb24gKCkge31cbiAgfVxuXG4gIC8vIG9uIFdpbmRvd3MsIEEvViBzb2Z0d2FyZSBjYW4gbG9jayB0aGUgZGlyZWN0b3J5LCBjYXVzaW5nIHRoaXNcbiAgLy8gdG8gZmFpbCB3aXRoIGFuIEVBQ0NFUyBvciBFUEVSTSBpZiB0aGUgZGlyZWN0b3J5IGNvbnRhaW5zIG5ld2x5XG4gIC8vIGNyZWF0ZWQgZmlsZXMuICBUcnkgYWdhaW4gb24gZmFpbHVyZSwgZm9yIHVwIHRvIDYwIHNlY29uZHMuXG5cbiAgLy8gU2V0IHRoZSB0aW1lb3V0IHRoaXMgbG9uZyBiZWNhdXNlIHNvbWUgV2luZG93cyBBbnRpLVZpcnVzLCBzdWNoIGFzIFBhcml0eVxuICAvLyBiaXQ5LCBtYXkgbG9jayBmaWxlcyBmb3IgdXAgdG8gYSBtaW51dGUsIGNhdXNpbmcgbnBtIHBhY2thZ2UgaW5zdGFsbFxuICAvLyBmYWlsdXJlcy4gQWxzbywgdGFrZSBjYXJlIHRvIHlpZWxkIHRoZSBzY2hlZHVsZXIuIFdpbmRvd3Mgc2NoZWR1bGluZyBnaXZlc1xuICAvLyBDUFUgdG8gYSBidXN5IGxvb3BpbmcgcHJvY2Vzcywgd2hpY2ggY2FuIGNhdXNlIHRoZSBwcm9ncmFtIGNhdXNpbmcgdGhlIGxvY2tcbiAgLy8gY29udGVudGlvbiB0byBiZSBzdGFydmVkIG9mIENQVSBieSBub2RlLCBzbyB0aGUgY29udGVudGlvbiBkb2Vzbid0IHJlc29sdmUuXG4gIGlmIChwbGF0Zm9ybSA9PT0gXCJ3aW4zMlwiKSB7XG4gICAgZnMucmVuYW1lID0gdHlwZW9mIGZzLnJlbmFtZSAhPT0gJ2Z1bmN0aW9uJyA/IGZzLnJlbmFtZVxuICAgIDogKGZ1bmN0aW9uIChmcyRyZW5hbWUpIHtcbiAgICAgIGZ1bmN0aW9uIHJlbmFtZSAoZnJvbSwgdG8sIGNiKSB7XG4gICAgICAgIHZhciBzdGFydCA9IERhdGUubm93KClcbiAgICAgICAgdmFyIGJhY2tvZmYgPSAwO1xuICAgICAgICBmcyRyZW5hbWUoZnJvbSwgdG8sIGZ1bmN0aW9uIENCIChlcikge1xuICAgICAgICAgIGlmIChlclxuICAgICAgICAgICAgICAmJiAoZXIuY29kZSA9PT0gXCJFQUNDRVNcIiB8fCBlci5jb2RlID09PSBcIkVQRVJNXCIpXG4gICAgICAgICAgICAgICYmIERhdGUubm93KCkgLSBzdGFydCA8IDYwMDAwKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBmcy5zdGF0KHRvLCBmdW5jdGlvbiAoc3RhdGVyLCBzdCkge1xuICAgICAgICAgICAgICAgIGlmIChzdGF0ZXIgJiYgc3RhdGVyLmNvZGUgPT09IFwiRU5PRU5UXCIpXG4gICAgICAgICAgICAgICAgICBmcyRyZW5hbWUoZnJvbSwgdG8sIENCKTtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICBjYihlcilcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0sIGJhY2tvZmYpXG4gICAgICAgICAgICBpZiAoYmFja29mZiA8IDEwMClcbiAgICAgICAgICAgICAgYmFja29mZiArPSAxMDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGNiKSBjYihlcilcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICAgIGlmIChPYmplY3Quc2V0UHJvdG90eXBlT2YpIE9iamVjdC5zZXRQcm90b3R5cGVPZihyZW5hbWUsIGZzJHJlbmFtZSlcbiAgICAgIHJldHVybiByZW5hbWVcbiAgICB9KShmcy5yZW5hbWUpXG4gIH1cblxuICAvLyBpZiByZWFkKCkgcmV0dXJucyBFQUdBSU4sIHRoZW4ganVzdCB0cnkgaXQgYWdhaW4uXG4gIGZzLnJlYWQgPSB0eXBlb2YgZnMucmVhZCAhPT0gJ2Z1bmN0aW9uJyA/IGZzLnJlYWRcbiAgOiAoZnVuY3Rpb24gKGZzJHJlYWQpIHtcbiAgICBmdW5jdGlvbiByZWFkIChmZCwgYnVmZmVyLCBvZmZzZXQsIGxlbmd0aCwgcG9zaXRpb24sIGNhbGxiYWNrXykge1xuICAgICAgdmFyIGNhbGxiYWNrXG4gICAgICBpZiAoY2FsbGJhY2tfICYmIHR5cGVvZiBjYWxsYmFja18gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdmFyIGVhZ0NvdW50ZXIgPSAwXG4gICAgICAgIGNhbGxiYWNrID0gZnVuY3Rpb24gKGVyLCBfLCBfXykge1xuICAgICAgICAgIGlmIChlciAmJiBlci5jb2RlID09PSAnRUFHQUlOJyAmJiBlYWdDb3VudGVyIDwgMTApIHtcbiAgICAgICAgICAgIGVhZ0NvdW50ZXIgKytcbiAgICAgICAgICAgIHJldHVybiBmcyRyZWFkLmNhbGwoZnMsIGZkLCBidWZmZXIsIG9mZnNldCwgbGVuZ3RoLCBwb3NpdGlvbiwgY2FsbGJhY2spXG4gICAgICAgICAgfVxuICAgICAgICAgIGNhbGxiYWNrXy5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBmcyRyZWFkLmNhbGwoZnMsIGZkLCBidWZmZXIsIG9mZnNldCwgbGVuZ3RoLCBwb3NpdGlvbiwgY2FsbGJhY2spXG4gICAgfVxuXG4gICAgLy8gVGhpcyBlbnN1cmVzIGB1dGlsLnByb21pc2lmeWAgd29ya3MgYXMgaXQgZG9lcyBmb3IgbmF0aXZlIGBmcy5yZWFkYC5cbiAgICBpZiAoT2JqZWN0LnNldFByb3RvdHlwZU9mKSBPYmplY3Quc2V0UHJvdG90eXBlT2YocmVhZCwgZnMkcmVhZClcbiAgICByZXR1cm4gcmVhZFxuICB9KShmcy5yZWFkKVxuXG4gIGZzLnJlYWRTeW5jID0gdHlwZW9mIGZzLnJlYWRTeW5jICE9PSAnZnVuY3Rpb24nID8gZnMucmVhZFN5bmNcbiAgOiAoZnVuY3Rpb24gKGZzJHJlYWRTeW5jKSB7IHJldHVybiBmdW5jdGlvbiAoZmQsIGJ1ZmZlciwgb2Zmc2V0LCBsZW5ndGgsIHBvc2l0aW9uKSB7XG4gICAgdmFyIGVhZ0NvdW50ZXIgPSAwXG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBmcyRyZWFkU3luYy5jYWxsKGZzLCBmZCwgYnVmZmVyLCBvZmZzZXQsIGxlbmd0aCwgcG9zaXRpb24pXG4gICAgICB9IGNhdGNoIChlcikge1xuICAgICAgICBpZiAoZXIuY29kZSA9PT0gJ0VBR0FJTicgJiYgZWFnQ291bnRlciA8IDEwKSB7XG4gICAgICAgICAgZWFnQ291bnRlciArK1xuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgZXJcbiAgICAgIH1cbiAgICB9XG4gIH19KShmcy5yZWFkU3luYylcblxuICBmdW5jdGlvbiBwYXRjaExjaG1vZCAoZnMpIHtcbiAgICBmcy5sY2htb2QgPSBmdW5jdGlvbiAocGF0aCwgbW9kZSwgY2FsbGJhY2spIHtcbiAgICAgIGZzLm9wZW4oIHBhdGhcbiAgICAgICAgICAgICAsIGNvbnN0YW50cy5PX1dST05MWSB8IGNvbnN0YW50cy5PX1NZTUxJTktcbiAgICAgICAgICAgICAsIG1vZGVcbiAgICAgICAgICAgICAsIGZ1bmN0aW9uIChlcnIsIGZkKSB7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICBpZiAoY2FsbGJhY2spIGNhbGxiYWNrKGVycilcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICAvLyBwcmVmZXIgdG8gcmV0dXJuIHRoZSBjaG1vZCBlcnJvciwgaWYgb25lIG9jY3VycyxcbiAgICAgICAgLy8gYnV0IHN0aWxsIHRyeSB0byBjbG9zZSwgYW5kIHJlcG9ydCBjbG9zaW5nIGVycm9ycyBpZiB0aGV5IG9jY3VyLlxuICAgICAgICBmcy5mY2htb2QoZmQsIG1vZGUsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICBmcy5jbG9zZShmZCwgZnVuY3Rpb24oZXJyMikge1xuICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSBjYWxsYmFjayhlcnIgfHwgZXJyMilcbiAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgICAgfSlcbiAgICB9XG5cbiAgICBmcy5sY2htb2RTeW5jID0gZnVuY3Rpb24gKHBhdGgsIG1vZGUpIHtcbiAgICAgIHZhciBmZCA9IGZzLm9wZW5TeW5jKHBhdGgsIGNvbnN0YW50cy5PX1dST05MWSB8IGNvbnN0YW50cy5PX1NZTUxJTkssIG1vZGUpXG5cbiAgICAgIC8vIHByZWZlciB0byByZXR1cm4gdGhlIGNobW9kIGVycm9yLCBpZiBvbmUgb2NjdXJzLFxuICAgICAgLy8gYnV0IHN0aWxsIHRyeSB0byBjbG9zZSwgYW5kIHJlcG9ydCBjbG9zaW5nIGVycm9ycyBpZiB0aGV5IG9jY3VyLlxuICAgICAgdmFyIHRocmV3ID0gdHJ1ZVxuICAgICAgdmFyIHJldFxuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0ID0gZnMuZmNobW9kU3luYyhmZCwgbW9kZSlcbiAgICAgICAgdGhyZXcgPSBmYWxzZVxuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKHRocmV3KSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZzLmNsb3NlU3luYyhmZClcbiAgICAgICAgICB9IGNhdGNoIChlcikge31cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBmcy5jbG9zZVN5bmMoZmQpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXRcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBwYXRjaEx1dGltZXMgKGZzKSB7XG4gICAgaWYgKGNvbnN0YW50cy5oYXNPd25Qcm9wZXJ0eShcIk9fU1lNTElOS1wiKSAmJiBmcy5mdXRpbWVzKSB7XG4gICAgICBmcy5sdXRpbWVzID0gZnVuY3Rpb24gKHBhdGgsIGF0LCBtdCwgY2IpIHtcbiAgICAgICAgZnMub3BlbihwYXRoLCBjb25zdGFudHMuT19TWU1MSU5LLCBmdW5jdGlvbiAoZXIsIGZkKSB7XG4gICAgICAgICAgaWYgKGVyKSB7XG4gICAgICAgICAgICBpZiAoY2IpIGNiKGVyKVxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgfVxuICAgICAgICAgIGZzLmZ1dGltZXMoZmQsIGF0LCBtdCwgZnVuY3Rpb24gKGVyKSB7XG4gICAgICAgICAgICBmcy5jbG9zZShmZCwgZnVuY3Rpb24gKGVyMikge1xuICAgICAgICAgICAgICBpZiAoY2IpIGNiKGVyIHx8IGVyMilcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICAgIH1cblxuICAgICAgZnMubHV0aW1lc1N5bmMgPSBmdW5jdGlvbiAocGF0aCwgYXQsIG10KSB7XG4gICAgICAgIHZhciBmZCA9IGZzLm9wZW5TeW5jKHBhdGgsIGNvbnN0YW50cy5PX1NZTUxJTkspXG4gICAgICAgIHZhciByZXRcbiAgICAgICAgdmFyIHRocmV3ID0gdHJ1ZVxuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldCA9IGZzLmZ1dGltZXNTeW5jKGZkLCBhdCwgbXQpXG4gICAgICAgICAgdGhyZXcgPSBmYWxzZVxuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIGlmICh0aHJldykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgZnMuY2xvc2VTeW5jKGZkKVxuICAgICAgICAgICAgfSBjYXRjaCAoZXIpIHt9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZzLmNsb3NlU3luYyhmZClcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJldFxuICAgICAgfVxuXG4gICAgfSBlbHNlIGlmIChmcy5mdXRpbWVzKSB7XG4gICAgICBmcy5sdXRpbWVzID0gZnVuY3Rpb24gKF9hLCBfYiwgX2MsIGNiKSB7IGlmIChjYikgcHJvY2Vzcy5uZXh0VGljayhjYikgfVxuICAgICAgZnMubHV0aW1lc1N5bmMgPSBmdW5jdGlvbiAoKSB7fVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNobW9kRml4IChvcmlnKSB7XG4gICAgaWYgKCFvcmlnKSByZXR1cm4gb3JpZ1xuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBtb2RlLCBjYikge1xuICAgICAgcmV0dXJuIG9yaWcuY2FsbChmcywgdGFyZ2V0LCBtb2RlLCBmdW5jdGlvbiAoZXIpIHtcbiAgICAgICAgaWYgKGNob3duRXJPayhlcikpIGVyID0gbnVsbFxuICAgICAgICBpZiAoY2IpIGNiLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY2htb2RGaXhTeW5jIChvcmlnKSB7XG4gICAgaWYgKCFvcmlnKSByZXR1cm4gb3JpZ1xuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBtb2RlKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gb3JpZy5jYWxsKGZzLCB0YXJnZXQsIG1vZGUpXG4gICAgICB9IGNhdGNoIChlcikge1xuICAgICAgICBpZiAoIWNob3duRXJPayhlcikpIHRocm93IGVyXG4gICAgICB9XG4gICAgfVxuICB9XG5cblxuICBmdW5jdGlvbiBjaG93bkZpeCAob3JpZykge1xuICAgIGlmICghb3JpZykgcmV0dXJuIG9yaWdcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwgdWlkLCBnaWQsIGNiKSB7XG4gICAgICByZXR1cm4gb3JpZy5jYWxsKGZzLCB0YXJnZXQsIHVpZCwgZ2lkLCBmdW5jdGlvbiAoZXIpIHtcbiAgICAgICAgaWYgKGNob3duRXJPayhlcikpIGVyID0gbnVsbFxuICAgICAgICBpZiAoY2IpIGNiLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY2hvd25GaXhTeW5jIChvcmlnKSB7XG4gICAgaWYgKCFvcmlnKSByZXR1cm4gb3JpZ1xuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCB1aWQsIGdpZCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIG9yaWcuY2FsbChmcywgdGFyZ2V0LCB1aWQsIGdpZClcbiAgICAgIH0gY2F0Y2ggKGVyKSB7XG4gICAgICAgIGlmICghY2hvd25Fck9rKGVyKSkgdGhyb3cgZXJcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzdGF0Rml4IChvcmlnKSB7XG4gICAgaWYgKCFvcmlnKSByZXR1cm4gb3JpZ1xuICAgIC8vIE9sZGVyIHZlcnNpb25zIG9mIE5vZGUgZXJyb25lb3VzbHkgcmV0dXJuZWQgc2lnbmVkIGludGVnZXJzIGZvclxuICAgIC8vIHVpZCArIGdpZC5cbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwgb3B0aW9ucywgY2IpIHtcbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBjYiA9IG9wdGlvbnNcbiAgICAgICAgb3B0aW9ucyA9IG51bGxcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIGNhbGxiYWNrIChlciwgc3RhdHMpIHtcbiAgICAgICAgaWYgKHN0YXRzKSB7XG4gICAgICAgICAgaWYgKHN0YXRzLnVpZCA8IDApIHN0YXRzLnVpZCArPSAweDEwMDAwMDAwMFxuICAgICAgICAgIGlmIChzdGF0cy5naWQgPCAwKSBzdGF0cy5naWQgKz0gMHgxMDAwMDAwMDBcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2IpIGNiLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcbiAgICAgIH1cbiAgICAgIHJldHVybiBvcHRpb25zID8gb3JpZy5jYWxsKGZzLCB0YXJnZXQsIG9wdGlvbnMsIGNhbGxiYWNrKVxuICAgICAgICA6IG9yaWcuY2FsbChmcywgdGFyZ2V0LCBjYWxsYmFjaylcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzdGF0Rml4U3luYyAob3JpZykge1xuICAgIGlmICghb3JpZykgcmV0dXJuIG9yaWdcbiAgICAvLyBPbGRlciB2ZXJzaW9ucyBvZiBOb2RlIGVycm9uZW91c2x5IHJldHVybmVkIHNpZ25lZCBpbnRlZ2VycyBmb3JcbiAgICAvLyB1aWQgKyBnaWQuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBzdGF0cyA9IG9wdGlvbnMgPyBvcmlnLmNhbGwoZnMsIHRhcmdldCwgb3B0aW9ucylcbiAgICAgICAgOiBvcmlnLmNhbGwoZnMsIHRhcmdldClcbiAgICAgIGlmIChzdGF0cykge1xuICAgICAgICBpZiAoc3RhdHMudWlkIDwgMCkgc3RhdHMudWlkICs9IDB4MTAwMDAwMDAwXG4gICAgICAgIGlmIChzdGF0cy5naWQgPCAwKSBzdGF0cy5naWQgKz0gMHgxMDAwMDAwMDBcbiAgICAgIH1cbiAgICAgIHJldHVybiBzdGF0cztcbiAgICB9XG4gIH1cblxuICAvLyBFTk9TWVMgbWVhbnMgdGhhdCB0aGUgZnMgZG9lc24ndCBzdXBwb3J0IHRoZSBvcC4gSnVzdCBpZ25vcmVcbiAgLy8gdGhhdCwgYmVjYXVzZSBpdCBkb2Vzbid0IG1hdHRlci5cbiAgLy9cbiAgLy8gaWYgdGhlcmUncyBubyBnZXR1aWQsIG9yIGlmIGdldHVpZCgpIGlzIHNvbWV0aGluZyBvdGhlclxuICAvLyB0aGFuIDAsIGFuZCB0aGUgZXJyb3IgaXMgRUlOVkFMIG9yIEVQRVJNLCB0aGVuIGp1c3QgaWdub3JlXG4gIC8vIGl0LlxuICAvL1xuICAvLyBUaGlzIHNwZWNpZmljIGNhc2UgaXMgYSBzaWxlbnQgZmFpbHVyZSBpbiBjcCwgaW5zdGFsbCwgdGFyLFxuICAvLyBhbmQgbW9zdCBvdGhlciB1bml4IHRvb2xzIHRoYXQgbWFuYWdlIHBlcm1pc3Npb25zLlxuICAvL1xuICAvLyBXaGVuIHJ1bm5pbmcgYXMgcm9vdCwgb3IgaWYgb3RoZXIgdHlwZXMgb2YgZXJyb3JzIGFyZVxuICAvLyBlbmNvdW50ZXJlZCwgdGhlbiBpdCdzIHN0cmljdC5cbiAgZnVuY3Rpb24gY2hvd25Fck9rIChlcikge1xuICAgIGlmICghZXIpXG4gICAgICByZXR1cm4gdHJ1ZVxuXG4gICAgaWYgKGVyLmNvZGUgPT09IFwiRU5PU1lTXCIpXG4gICAgICByZXR1cm4gdHJ1ZVxuXG4gICAgdmFyIG5vbnJvb3QgPSAhcHJvY2Vzcy5nZXR1aWQgfHwgcHJvY2Vzcy5nZXR1aWQoKSAhPT0gMFxuICAgIGlmIChub25yb290KSB7XG4gICAgICBpZiAoZXIuY29kZSA9PT0gXCJFSU5WQUxcIiB8fCBlci5jb2RlID09PSBcIkVQRVJNXCIpXG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cbn1cbiIsICJ2YXIgU3RyZWFtID0gcmVxdWlyZSgnc3RyZWFtJykuU3RyZWFtXG5cbm1vZHVsZS5leHBvcnRzID0gbGVnYWN5XG5cbmZ1bmN0aW9uIGxlZ2FjeSAoZnMpIHtcbiAgcmV0dXJuIHtcbiAgICBSZWFkU3RyZWFtOiBSZWFkU3RyZWFtLFxuICAgIFdyaXRlU3RyZWFtOiBXcml0ZVN0cmVhbVxuICB9XG5cbiAgZnVuY3Rpb24gUmVhZFN0cmVhbSAocGF0aCwgb3B0aW9ucykge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBSZWFkU3RyZWFtKSkgcmV0dXJuIG5ldyBSZWFkU3RyZWFtKHBhdGgsIG9wdGlvbnMpO1xuXG4gICAgU3RyZWFtLmNhbGwodGhpcyk7XG5cbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICB0aGlzLnBhdGggPSBwYXRoO1xuICAgIHRoaXMuZmQgPSBudWxsO1xuICAgIHRoaXMucmVhZGFibGUgPSB0cnVlO1xuICAgIHRoaXMucGF1c2VkID0gZmFsc2U7XG5cbiAgICB0aGlzLmZsYWdzID0gJ3InO1xuICAgIHRoaXMubW9kZSA9IDQzODsgLyo9MDY2NiovXG4gICAgdGhpcy5idWZmZXJTaXplID0gNjQgKiAxMDI0O1xuXG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAvLyBNaXhpbiBvcHRpb25zIGludG8gdGhpc1xuICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMob3B0aW9ucyk7XG4gICAgZm9yICh2YXIgaW5kZXggPSAwLCBsZW5ndGggPSBrZXlzLmxlbmd0aDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICAgIHZhciBrZXkgPSBrZXlzW2luZGV4XTtcbiAgICAgIHRoaXNba2V5XSA9IG9wdGlvbnNba2V5XTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5lbmNvZGluZykgdGhpcy5zZXRFbmNvZGluZyh0aGlzLmVuY29kaW5nKTtcblxuICAgIGlmICh0aGlzLnN0YXJ0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGlmICgnbnVtYmVyJyAhPT0gdHlwZW9mIHRoaXMuc3RhcnQpIHtcbiAgICAgICAgdGhyb3cgVHlwZUVycm9yKCdzdGFydCBtdXN0IGJlIGEgTnVtYmVyJyk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5lbmQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLmVuZCA9IEluZmluaXR5O1xuICAgICAgfSBlbHNlIGlmICgnbnVtYmVyJyAhPT0gdHlwZW9mIHRoaXMuZW5kKSB7XG4gICAgICAgIHRocm93IFR5cGVFcnJvcignZW5kIG11c3QgYmUgYSBOdW1iZXInKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuc3RhcnQgPiB0aGlzLmVuZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3N0YXJ0IG11c3QgYmUgPD0gZW5kJyk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMucG9zID0gdGhpcy5zdGFydDtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5mZCAhPT0gbnVsbCkge1xuICAgICAgcHJvY2Vzcy5uZXh0VGljayhmdW5jdGlvbigpIHtcbiAgICAgICAgc2VsZi5fcmVhZCgpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZnMub3Blbih0aGlzLnBhdGgsIHRoaXMuZmxhZ3MsIHRoaXMubW9kZSwgZnVuY3Rpb24gKGVyciwgZmQpIHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgc2VsZi5lbWl0KCdlcnJvcicsIGVycik7XG4gICAgICAgIHNlbGYucmVhZGFibGUgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBzZWxmLmZkID0gZmQ7XG4gICAgICBzZWxmLmVtaXQoJ29wZW4nLCBmZCk7XG4gICAgICBzZWxmLl9yZWFkKCk7XG4gICAgfSlcbiAgfVxuXG4gIGZ1bmN0aW9uIFdyaXRlU3RyZWFtIChwYXRoLCBvcHRpb25zKSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFdyaXRlU3RyZWFtKSkgcmV0dXJuIG5ldyBXcml0ZVN0cmVhbShwYXRoLCBvcHRpb25zKTtcblxuICAgIFN0cmVhbS5jYWxsKHRoaXMpO1xuXG4gICAgdGhpcy5wYXRoID0gcGF0aDtcbiAgICB0aGlzLmZkID0gbnVsbDtcbiAgICB0aGlzLndyaXRhYmxlID0gdHJ1ZTtcblxuICAgIHRoaXMuZmxhZ3MgPSAndyc7XG4gICAgdGhpcy5lbmNvZGluZyA9ICdiaW5hcnknO1xuICAgIHRoaXMubW9kZSA9IDQzODsgLyo9MDY2NiovXG4gICAgdGhpcy5ieXRlc1dyaXR0ZW4gPSAwO1xuXG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAvLyBNaXhpbiBvcHRpb25zIGludG8gdGhpc1xuICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMob3B0aW9ucyk7XG4gICAgZm9yICh2YXIgaW5kZXggPSAwLCBsZW5ndGggPSBrZXlzLmxlbmd0aDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICAgIHZhciBrZXkgPSBrZXlzW2luZGV4XTtcbiAgICAgIHRoaXNba2V5XSA9IG9wdGlvbnNba2V5XTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5zdGFydCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBpZiAoJ251bWJlcicgIT09IHR5cGVvZiB0aGlzLnN0YXJ0KSB7XG4gICAgICAgIHRocm93IFR5cGVFcnJvcignc3RhcnQgbXVzdCBiZSBhIE51bWJlcicpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuc3RhcnQgPCAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignc3RhcnQgbXVzdCBiZSA+PSB6ZXJvJyk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMucG9zID0gdGhpcy5zdGFydDtcbiAgICB9XG5cbiAgICB0aGlzLmJ1c3kgPSBmYWxzZTtcbiAgICB0aGlzLl9xdWV1ZSA9IFtdO1xuXG4gICAgaWYgKHRoaXMuZmQgPT09IG51bGwpIHtcbiAgICAgIHRoaXMuX29wZW4gPSBmcy5vcGVuO1xuICAgICAgdGhpcy5fcXVldWUucHVzaChbdGhpcy5fb3BlbiwgdGhpcy5wYXRoLCB0aGlzLmZsYWdzLCB0aGlzLm1vZGUsIHVuZGVmaW5lZF0pO1xuICAgICAgdGhpcy5mbHVzaCgpO1xuICAgIH1cbiAgfVxufVxuIiwgIid1c2Ugc3RyaWN0J1xuXG5tb2R1bGUuZXhwb3J0cyA9IGNsb25lXG5cbnZhciBnZXRQcm90b3R5cGVPZiA9IE9iamVjdC5nZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiAob2JqKSB7XG4gIHJldHVybiBvYmouX19wcm90b19fXG59XG5cbmZ1bmN0aW9uIGNsb25lIChvYmopIHtcbiAgaWYgKG9iaiA9PT0gbnVsbCB8fCB0eXBlb2Ygb2JqICE9PSAnb2JqZWN0JylcbiAgICByZXR1cm4gb2JqXG5cbiAgaWYgKG9iaiBpbnN0YW5jZW9mIE9iamVjdClcbiAgICB2YXIgY29weSA9IHsgX19wcm90b19fOiBnZXRQcm90b3R5cGVPZihvYmopIH1cbiAgZWxzZVxuICAgIHZhciBjb3B5ID0gT2JqZWN0LmNyZWF0ZShudWxsKVxuXG4gIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKG9iaikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvcHksIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSkpXG4gIH0pXG5cbiAgcmV0dXJuIGNvcHlcbn1cbiIsICJ2YXIgZnMgPSByZXF1aXJlKCdmcycpXG52YXIgcG9seWZpbGxzID0gcmVxdWlyZSgnLi9wb2x5ZmlsbHMuanMnKVxudmFyIGxlZ2FjeSA9IHJlcXVpcmUoJy4vbGVnYWN5LXN0cmVhbXMuanMnKVxudmFyIGNsb25lID0gcmVxdWlyZSgnLi9jbG9uZS5qcycpXG5cbnZhciB1dGlsID0gcmVxdWlyZSgndXRpbCcpXG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0IC0gbm9kZSAwLnggcG9seWZpbGwgKi9cbnZhciBncmFjZWZ1bFF1ZXVlXG52YXIgcHJldmlvdXNTeW1ib2xcblxuLyogaXN0YW5idWwgaWdub3JlIGVsc2UgLSBub2RlIDAueCBwb2x5ZmlsbCAqL1xuaWYgKHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIFN5bWJvbC5mb3IgPT09ICdmdW5jdGlvbicpIHtcbiAgZ3JhY2VmdWxRdWV1ZSA9IFN5bWJvbC5mb3IoJ2dyYWNlZnVsLWZzLnF1ZXVlJylcbiAgLy8gVGhpcyBpcyB1c2VkIGluIHRlc3RpbmcgYnkgZnV0dXJlIHZlcnNpb25zXG4gIHByZXZpb3VzU3ltYm9sID0gU3ltYm9sLmZvcignZ3JhY2VmdWwtZnMucHJldmlvdXMnKVxufSBlbHNlIHtcbiAgZ3JhY2VmdWxRdWV1ZSA9ICdfX19ncmFjZWZ1bC1mcy5xdWV1ZSdcbiAgcHJldmlvdXNTeW1ib2wgPSAnX19fZ3JhY2VmdWwtZnMucHJldmlvdXMnXG59XG5cbmZ1bmN0aW9uIG5vb3AgKCkge31cblxuZnVuY3Rpb24gcHVibGlzaFF1ZXVlKGNvbnRleHQsIHF1ZXVlKSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb250ZXh0LCBncmFjZWZ1bFF1ZXVlLCB7XG4gICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBxdWV1ZVxuICAgIH1cbiAgfSlcbn1cblxudmFyIGRlYnVnID0gbm9vcFxuaWYgKHV0aWwuZGVidWdsb2cpXG4gIGRlYnVnID0gdXRpbC5kZWJ1Z2xvZygnZ2ZzNCcpXG5lbHNlIGlmICgvXFxiZ2ZzNFxcYi9pLnRlc3QocHJvY2Vzcy5lbnYuTk9ERV9ERUJVRyB8fCAnJykpXG4gIGRlYnVnID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIG0gPSB1dGlsLmZvcm1hdC5hcHBseSh1dGlsLCBhcmd1bWVudHMpXG4gICAgbSA9ICdHRlM0OiAnICsgbS5zcGxpdCgvXFxuLykuam9pbignXFxuR0ZTNDogJylcbiAgICBjb25zb2xlLmVycm9yKG0pXG4gIH1cblxuLy8gT25jZSB0aW1lIGluaXRpYWxpemF0aW9uXG5pZiAoIWZzW2dyYWNlZnVsUXVldWVdKSB7XG4gIC8vIFRoaXMgcXVldWUgY2FuIGJlIHNoYXJlZCBieSBtdWx0aXBsZSBsb2FkZWQgaW5zdGFuY2VzXG4gIHZhciBxdWV1ZSA9IGdsb2JhbFtncmFjZWZ1bFF1ZXVlXSB8fCBbXVxuICBwdWJsaXNoUXVldWUoZnMsIHF1ZXVlKVxuXG4gIC8vIFBhdGNoIGZzLmNsb3NlL2Nsb3NlU3luYyB0byBzaGFyZWQgcXVldWUgdmVyc2lvbiwgYmVjYXVzZSB3ZSBuZWVkXG4gIC8vIHRvIHJldHJ5KCkgd2hlbmV2ZXIgYSBjbG9zZSBoYXBwZW5zICphbnl3aGVyZSogaW4gdGhlIHByb2dyYW0uXG4gIC8vIFRoaXMgaXMgZXNzZW50aWFsIHdoZW4gbXVsdGlwbGUgZ3JhY2VmdWwtZnMgaW5zdGFuY2VzIGFyZVxuICAvLyBpbiBwbGF5IGF0IHRoZSBzYW1lIHRpbWUuXG4gIGZzLmNsb3NlID0gKGZ1bmN0aW9uIChmcyRjbG9zZSkge1xuICAgIGZ1bmN0aW9uIGNsb3NlIChmZCwgY2IpIHtcbiAgICAgIHJldHVybiBmcyRjbG9zZS5jYWxsKGZzLCBmZCwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAvLyBUaGlzIGZ1bmN0aW9uIHVzZXMgdGhlIGdyYWNlZnVsLWZzIHNoYXJlZCBxdWV1ZVxuICAgICAgICBpZiAoIWVycikge1xuICAgICAgICAgIHJlc2V0UXVldWUoKVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiBjYiA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgICBjYi5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG4gICAgICB9KVxuICAgIH1cblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjbG9zZSwgcHJldmlvdXNTeW1ib2wsIHtcbiAgICAgIHZhbHVlOiBmcyRjbG9zZVxuICAgIH0pXG4gICAgcmV0dXJuIGNsb3NlXG4gIH0pKGZzLmNsb3NlKVxuXG4gIGZzLmNsb3NlU3luYyA9IChmdW5jdGlvbiAoZnMkY2xvc2VTeW5jKSB7XG4gICAgZnVuY3Rpb24gY2xvc2VTeW5jIChmZCkge1xuICAgICAgLy8gVGhpcyBmdW5jdGlvbiB1c2VzIHRoZSBncmFjZWZ1bC1mcyBzaGFyZWQgcXVldWVcbiAgICAgIGZzJGNsb3NlU3luYy5hcHBseShmcywgYXJndW1lbnRzKVxuICAgICAgcmVzZXRRdWV1ZSgpXG4gICAgfVxuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNsb3NlU3luYywgcHJldmlvdXNTeW1ib2wsIHtcbiAgICAgIHZhbHVlOiBmcyRjbG9zZVN5bmNcbiAgICB9KVxuICAgIHJldHVybiBjbG9zZVN5bmNcbiAgfSkoZnMuY2xvc2VTeW5jKVxuXG4gIGlmICgvXFxiZ2ZzNFxcYi9pLnRlc3QocHJvY2Vzcy5lbnYuTk9ERV9ERUJVRyB8fCAnJykpIHtcbiAgICBwcm9jZXNzLm9uKCdleGl0JywgZnVuY3Rpb24oKSB7XG4gICAgICBkZWJ1Zyhmc1tncmFjZWZ1bFF1ZXVlXSlcbiAgICAgIHJlcXVpcmUoJ2Fzc2VydCcpLmVxdWFsKGZzW2dyYWNlZnVsUXVldWVdLmxlbmd0aCwgMClcbiAgICB9KVxuICB9XG59XG5cbmlmICghZ2xvYmFsW2dyYWNlZnVsUXVldWVdKSB7XG4gIHB1Ymxpc2hRdWV1ZShnbG9iYWwsIGZzW2dyYWNlZnVsUXVldWVdKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBwYXRjaChjbG9uZShmcykpXG5pZiAocHJvY2Vzcy5lbnYuVEVTVF9HUkFDRUZVTF9GU19HTE9CQUxfUEFUQ0ggJiYgIWZzLl9fcGF0Y2hlZCkge1xuICAgIG1vZHVsZS5leHBvcnRzID0gcGF0Y2goZnMpXG4gICAgZnMuX19wYXRjaGVkID0gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gcGF0Y2ggKGZzKSB7XG4gIC8vIEV2ZXJ5dGhpbmcgdGhhdCByZWZlcmVuY2VzIHRoZSBvcGVuKCkgZnVuY3Rpb24gbmVlZHMgdG8gYmUgaW4gaGVyZVxuICBwb2x5ZmlsbHMoZnMpXG4gIGZzLmdyYWNlZnVsaWZ5ID0gcGF0Y2hcblxuICBmcy5jcmVhdGVSZWFkU3RyZWFtID0gY3JlYXRlUmVhZFN0cmVhbVxuICBmcy5jcmVhdGVXcml0ZVN0cmVhbSA9IGNyZWF0ZVdyaXRlU3RyZWFtXG4gIHZhciBmcyRyZWFkRmlsZSA9IGZzLnJlYWRGaWxlXG4gIGZzLnJlYWRGaWxlID0gcmVhZEZpbGVcbiAgZnVuY3Rpb24gcmVhZEZpbGUgKHBhdGgsIG9wdGlvbnMsIGNiKSB7XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnZnVuY3Rpb24nKVxuICAgICAgY2IgPSBvcHRpb25zLCBvcHRpb25zID0gbnVsbFxuXG4gICAgcmV0dXJuIGdvJHJlYWRGaWxlKHBhdGgsIG9wdGlvbnMsIGNiKVxuXG4gICAgZnVuY3Rpb24gZ28kcmVhZEZpbGUgKHBhdGgsIG9wdGlvbnMsIGNiLCBzdGFydFRpbWUpIHtcbiAgICAgIHJldHVybiBmcyRyZWFkRmlsZShwYXRoLCBvcHRpb25zLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIGlmIChlcnIgJiYgKGVyci5jb2RlID09PSAnRU1GSUxFJyB8fCBlcnIuY29kZSA9PT0gJ0VORklMRScpKVxuICAgICAgICAgIGVucXVldWUoW2dvJHJlYWRGaWxlLCBbcGF0aCwgb3B0aW9ucywgY2JdLCBlcnIsIHN0YXJ0VGltZSB8fCBEYXRlLm5vdygpLCBEYXRlLm5vdygpXSlcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBjYiA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgICAgIGNiLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICB2YXIgZnMkd3JpdGVGaWxlID0gZnMud3JpdGVGaWxlXG4gIGZzLndyaXRlRmlsZSA9IHdyaXRlRmlsZVxuICBmdW5jdGlvbiB3cml0ZUZpbGUgKHBhdGgsIGRhdGEsIG9wdGlvbnMsIGNiKSB7XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnZnVuY3Rpb24nKVxuICAgICAgY2IgPSBvcHRpb25zLCBvcHRpb25zID0gbnVsbFxuXG4gICAgcmV0dXJuIGdvJHdyaXRlRmlsZShwYXRoLCBkYXRhLCBvcHRpb25zLCBjYilcblxuICAgIGZ1bmN0aW9uIGdvJHdyaXRlRmlsZSAocGF0aCwgZGF0YSwgb3B0aW9ucywgY2IsIHN0YXJ0VGltZSkge1xuICAgICAgcmV0dXJuIGZzJHdyaXRlRmlsZShwYXRoLCBkYXRhLCBvcHRpb25zLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIGlmIChlcnIgJiYgKGVyci5jb2RlID09PSAnRU1GSUxFJyB8fCBlcnIuY29kZSA9PT0gJ0VORklMRScpKVxuICAgICAgICAgIGVucXVldWUoW2dvJHdyaXRlRmlsZSwgW3BhdGgsIGRhdGEsIG9wdGlvbnMsIGNiXSwgZXJyLCBzdGFydFRpbWUgfHwgRGF0ZS5ub3coKSwgRGF0ZS5ub3coKV0pXG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGlmICh0eXBlb2YgY2IgPT09ICdmdW5jdGlvbicpXG4gICAgICAgICAgICBjYi5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgdmFyIGZzJGFwcGVuZEZpbGUgPSBmcy5hcHBlbmRGaWxlXG4gIGlmIChmcyRhcHBlbmRGaWxlKVxuICAgIGZzLmFwcGVuZEZpbGUgPSBhcHBlbmRGaWxlXG4gIGZ1bmN0aW9uIGFwcGVuZEZpbGUgKHBhdGgsIGRhdGEsIG9wdGlvbnMsIGNiKSB7XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnZnVuY3Rpb24nKVxuICAgICAgY2IgPSBvcHRpb25zLCBvcHRpb25zID0gbnVsbFxuXG4gICAgcmV0dXJuIGdvJGFwcGVuZEZpbGUocGF0aCwgZGF0YSwgb3B0aW9ucywgY2IpXG5cbiAgICBmdW5jdGlvbiBnbyRhcHBlbmRGaWxlIChwYXRoLCBkYXRhLCBvcHRpb25zLCBjYiwgc3RhcnRUaW1lKSB7XG4gICAgICByZXR1cm4gZnMkYXBwZW5kRmlsZShwYXRoLCBkYXRhLCBvcHRpb25zLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIGlmIChlcnIgJiYgKGVyci5jb2RlID09PSAnRU1GSUxFJyB8fCBlcnIuY29kZSA9PT0gJ0VORklMRScpKVxuICAgICAgICAgIGVucXVldWUoW2dvJGFwcGVuZEZpbGUsIFtwYXRoLCBkYXRhLCBvcHRpb25zLCBjYl0sIGVyciwgc3RhcnRUaW1lIHx8IERhdGUubm93KCksIERhdGUubm93KCldKVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBpZiAodHlwZW9mIGNiID09PSAnZnVuY3Rpb24nKVxuICAgICAgICAgICAgY2IuYXBwbHkodGhpcywgYXJndW1lbnRzKVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIHZhciBmcyRjb3B5RmlsZSA9IGZzLmNvcHlGaWxlXG4gIGlmIChmcyRjb3B5RmlsZSlcbiAgICBmcy5jb3B5RmlsZSA9IGNvcHlGaWxlXG4gIGZ1bmN0aW9uIGNvcHlGaWxlIChzcmMsIGRlc3QsIGZsYWdzLCBjYikge1xuICAgIGlmICh0eXBlb2YgZmxhZ3MgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNiID0gZmxhZ3NcbiAgICAgIGZsYWdzID0gMFxuICAgIH1cbiAgICByZXR1cm4gZ28kY29weUZpbGUoc3JjLCBkZXN0LCBmbGFncywgY2IpXG5cbiAgICBmdW5jdGlvbiBnbyRjb3B5RmlsZSAoc3JjLCBkZXN0LCBmbGFncywgY2IsIHN0YXJ0VGltZSkge1xuICAgICAgcmV0dXJuIGZzJGNvcHlGaWxlKHNyYywgZGVzdCwgZmxhZ3MsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgaWYgKGVyciAmJiAoZXJyLmNvZGUgPT09ICdFTUZJTEUnIHx8IGVyci5jb2RlID09PSAnRU5GSUxFJykpXG4gICAgICAgICAgZW5xdWV1ZShbZ28kY29weUZpbGUsIFtzcmMsIGRlc3QsIGZsYWdzLCBjYl0sIGVyciwgc3RhcnRUaW1lIHx8IERhdGUubm93KCksIERhdGUubm93KCldKVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBpZiAodHlwZW9mIGNiID09PSAnZnVuY3Rpb24nKVxuICAgICAgICAgICAgY2IuYXBwbHkodGhpcywgYXJndW1lbnRzKVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIHZhciBmcyRyZWFkZGlyID0gZnMucmVhZGRpclxuICBmcy5yZWFkZGlyID0gcmVhZGRpclxuICB2YXIgbm9SZWFkZGlyT3B0aW9uVmVyc2lvbnMgPSAvXnZbMC01XVxcLi9cbiAgZnVuY3Rpb24gcmVhZGRpciAocGF0aCwgb3B0aW9ucywgY2IpIHtcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdmdW5jdGlvbicpXG4gICAgICBjYiA9IG9wdGlvbnMsIG9wdGlvbnMgPSBudWxsXG5cbiAgICB2YXIgZ28kcmVhZGRpciA9IG5vUmVhZGRpck9wdGlvblZlcnNpb25zLnRlc3QocHJvY2Vzcy52ZXJzaW9uKVxuICAgICAgPyBmdW5jdGlvbiBnbyRyZWFkZGlyIChwYXRoLCBvcHRpb25zLCBjYiwgc3RhcnRUaW1lKSB7XG4gICAgICAgIHJldHVybiBmcyRyZWFkZGlyKHBhdGgsIGZzJHJlYWRkaXJDYWxsYmFjayhcbiAgICAgICAgICBwYXRoLCBvcHRpb25zLCBjYiwgc3RhcnRUaW1lXG4gICAgICAgICkpXG4gICAgICB9XG4gICAgICA6IGZ1bmN0aW9uIGdvJHJlYWRkaXIgKHBhdGgsIG9wdGlvbnMsIGNiLCBzdGFydFRpbWUpIHtcbiAgICAgICAgcmV0dXJuIGZzJHJlYWRkaXIocGF0aCwgb3B0aW9ucywgZnMkcmVhZGRpckNhbGxiYWNrKFxuICAgICAgICAgIHBhdGgsIG9wdGlvbnMsIGNiLCBzdGFydFRpbWVcbiAgICAgICAgKSlcbiAgICAgIH1cblxuICAgIHJldHVybiBnbyRyZWFkZGlyKHBhdGgsIG9wdGlvbnMsIGNiKVxuXG4gICAgZnVuY3Rpb24gZnMkcmVhZGRpckNhbGxiYWNrIChwYXRoLCBvcHRpb25zLCBjYiwgc3RhcnRUaW1lKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKGVyciwgZmlsZXMpIHtcbiAgICAgICAgaWYgKGVyciAmJiAoZXJyLmNvZGUgPT09ICdFTUZJTEUnIHx8IGVyci5jb2RlID09PSAnRU5GSUxFJykpXG4gICAgICAgICAgZW5xdWV1ZShbXG4gICAgICAgICAgICBnbyRyZWFkZGlyLFxuICAgICAgICAgICAgW3BhdGgsIG9wdGlvbnMsIGNiXSxcbiAgICAgICAgICAgIGVycixcbiAgICAgICAgICAgIHN0YXJ0VGltZSB8fCBEYXRlLm5vdygpLFxuICAgICAgICAgICAgRGF0ZS5ub3coKVxuICAgICAgICAgIF0pXG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGlmIChmaWxlcyAmJiBmaWxlcy5zb3J0KVxuICAgICAgICAgICAgZmlsZXMuc29ydCgpXG5cbiAgICAgICAgICBpZiAodHlwZW9mIGNiID09PSAnZnVuY3Rpb24nKVxuICAgICAgICAgICAgY2IuY2FsbCh0aGlzLCBlcnIsIGZpbGVzKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaWYgKHByb2Nlc3MudmVyc2lvbi5zdWJzdHIoMCwgNCkgPT09ICd2MC44Jykge1xuICAgIHZhciBsZWdTdHJlYW1zID0gbGVnYWN5KGZzKVxuICAgIFJlYWRTdHJlYW0gPSBsZWdTdHJlYW1zLlJlYWRTdHJlYW1cbiAgICBXcml0ZVN0cmVhbSA9IGxlZ1N0cmVhbXMuV3JpdGVTdHJlYW1cbiAgfVxuXG4gIHZhciBmcyRSZWFkU3RyZWFtID0gZnMuUmVhZFN0cmVhbVxuICBpZiAoZnMkUmVhZFN0cmVhbSkge1xuICAgIFJlYWRTdHJlYW0ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShmcyRSZWFkU3RyZWFtLnByb3RvdHlwZSlcbiAgICBSZWFkU3RyZWFtLnByb3RvdHlwZS5vcGVuID0gUmVhZFN0cmVhbSRvcGVuXG4gIH1cblxuICB2YXIgZnMkV3JpdGVTdHJlYW0gPSBmcy5Xcml0ZVN0cmVhbVxuICBpZiAoZnMkV3JpdGVTdHJlYW0pIHtcbiAgICBXcml0ZVN0cmVhbS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKGZzJFdyaXRlU3RyZWFtLnByb3RvdHlwZSlcbiAgICBXcml0ZVN0cmVhbS5wcm90b3R5cGUub3BlbiA9IFdyaXRlU3RyZWFtJG9wZW5cbiAgfVxuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmcywgJ1JlYWRTdHJlYW0nLCB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gUmVhZFN0cmVhbVxuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiAodmFsKSB7XG4gICAgICBSZWFkU3RyZWFtID0gdmFsXG4gICAgfSxcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICB9KVxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZnMsICdXcml0ZVN0cmVhbScsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBXcml0ZVN0cmVhbVxuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiAodmFsKSB7XG4gICAgICBXcml0ZVN0cmVhbSA9IHZhbFxuICAgIH0sXG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBjb25maWd1cmFibGU6IHRydWVcbiAgfSlcblxuICAvLyBsZWdhY3kgbmFtZXNcbiAgdmFyIEZpbGVSZWFkU3RyZWFtID0gUmVhZFN0cmVhbVxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZnMsICdGaWxlUmVhZFN0cmVhbScsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBGaWxlUmVhZFN0cmVhbVxuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiAodmFsKSB7XG4gICAgICBGaWxlUmVhZFN0cmVhbSA9IHZhbFxuICAgIH0sXG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBjb25maWd1cmFibGU6IHRydWVcbiAgfSlcbiAgdmFyIEZpbGVXcml0ZVN0cmVhbSA9IFdyaXRlU3RyZWFtXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmcywgJ0ZpbGVXcml0ZVN0cmVhbScsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBGaWxlV3JpdGVTdHJlYW1cbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gKHZhbCkge1xuICAgICAgRmlsZVdyaXRlU3RyZWFtID0gdmFsXG4gICAgfSxcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICB9KVxuXG4gIGZ1bmN0aW9uIFJlYWRTdHJlYW0gKHBhdGgsIG9wdGlvbnMpIHtcbiAgICBpZiAodGhpcyBpbnN0YW5jZW9mIFJlYWRTdHJlYW0pXG4gICAgICByZXR1cm4gZnMkUmVhZFN0cmVhbS5hcHBseSh0aGlzLCBhcmd1bWVudHMpLCB0aGlzXG4gICAgZWxzZVxuICAgICAgcmV0dXJuIFJlYWRTdHJlYW0uYXBwbHkoT2JqZWN0LmNyZWF0ZShSZWFkU3RyZWFtLnByb3RvdHlwZSksIGFyZ3VtZW50cylcbiAgfVxuXG4gIGZ1bmN0aW9uIFJlYWRTdHJlYW0kb3BlbiAoKSB7XG4gICAgdmFyIHRoYXQgPSB0aGlzXG4gICAgb3Blbih0aGF0LnBhdGgsIHRoYXQuZmxhZ3MsIHRoYXQubW9kZSwgZnVuY3Rpb24gKGVyciwgZmQpIHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgaWYgKHRoYXQuYXV0b0Nsb3NlKVxuICAgICAgICAgIHRoYXQuZGVzdHJveSgpXG5cbiAgICAgICAgdGhhdC5lbWl0KCdlcnJvcicsIGVycilcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoYXQuZmQgPSBmZFxuICAgICAgICB0aGF0LmVtaXQoJ29wZW4nLCBmZClcbiAgICAgICAgdGhhdC5yZWFkKClcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgZnVuY3Rpb24gV3JpdGVTdHJlYW0gKHBhdGgsIG9wdGlvbnMpIHtcbiAgICBpZiAodGhpcyBpbnN0YW5jZW9mIFdyaXRlU3RyZWFtKVxuICAgICAgcmV0dXJuIGZzJFdyaXRlU3RyZWFtLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyksIHRoaXNcbiAgICBlbHNlXG4gICAgICByZXR1cm4gV3JpdGVTdHJlYW0uYXBwbHkoT2JqZWN0LmNyZWF0ZShXcml0ZVN0cmVhbS5wcm90b3R5cGUpLCBhcmd1bWVudHMpXG4gIH1cblxuICBmdW5jdGlvbiBXcml0ZVN0cmVhbSRvcGVuICgpIHtcbiAgICB2YXIgdGhhdCA9IHRoaXNcbiAgICBvcGVuKHRoYXQucGF0aCwgdGhhdC5mbGFncywgdGhhdC5tb2RlLCBmdW5jdGlvbiAoZXJyLCBmZCkge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICB0aGF0LmRlc3Ryb3koKVxuICAgICAgICB0aGF0LmVtaXQoJ2Vycm9yJywgZXJyKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhhdC5mZCA9IGZkXG4gICAgICAgIHRoYXQuZW1pdCgnb3BlbicsIGZkKVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVSZWFkU3RyZWFtIChwYXRoLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIG5ldyBmcy5SZWFkU3RyZWFtKHBhdGgsIG9wdGlvbnMpXG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVXcml0ZVN0cmVhbSAocGF0aCwgb3B0aW9ucykge1xuICAgIHJldHVybiBuZXcgZnMuV3JpdGVTdHJlYW0ocGF0aCwgb3B0aW9ucylcbiAgfVxuXG4gIHZhciBmcyRvcGVuID0gZnMub3BlblxuICBmcy5vcGVuID0gb3BlblxuICBmdW5jdGlvbiBvcGVuIChwYXRoLCBmbGFncywgbW9kZSwgY2IpIHtcbiAgICBpZiAodHlwZW9mIG1vZGUgPT09ICdmdW5jdGlvbicpXG4gICAgICBjYiA9IG1vZGUsIG1vZGUgPSBudWxsXG5cbiAgICByZXR1cm4gZ28kb3BlbihwYXRoLCBmbGFncywgbW9kZSwgY2IpXG5cbiAgICBmdW5jdGlvbiBnbyRvcGVuIChwYXRoLCBmbGFncywgbW9kZSwgY2IsIHN0YXJ0VGltZSkge1xuICAgICAgcmV0dXJuIGZzJG9wZW4ocGF0aCwgZmxhZ3MsIG1vZGUsIGZ1bmN0aW9uIChlcnIsIGZkKSB7XG4gICAgICAgIGlmIChlcnIgJiYgKGVyci5jb2RlID09PSAnRU1GSUxFJyB8fCBlcnIuY29kZSA9PT0gJ0VORklMRScpKVxuICAgICAgICAgIGVucXVldWUoW2dvJG9wZW4sIFtwYXRoLCBmbGFncywgbW9kZSwgY2JdLCBlcnIsIHN0YXJ0VGltZSB8fCBEYXRlLm5vdygpLCBEYXRlLm5vdygpXSlcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBjYiA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgICAgIGNiLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZnNcbn1cblxuZnVuY3Rpb24gZW5xdWV1ZSAoZWxlbSkge1xuICBkZWJ1ZygnRU5RVUVVRScsIGVsZW1bMF0ubmFtZSwgZWxlbVsxXSlcbiAgZnNbZ3JhY2VmdWxRdWV1ZV0ucHVzaChlbGVtKVxuICByZXRyeSgpXG59XG5cbi8vIGtlZXAgdHJhY2sgb2YgdGhlIHRpbWVvdXQgYmV0d2VlbiByZXRyeSgpIGNhbGxzXG52YXIgcmV0cnlUaW1lclxuXG4vLyByZXNldCB0aGUgc3RhcnRUaW1lIGFuZCBsYXN0VGltZSB0byBub3dcbi8vIHRoaXMgcmVzZXRzIHRoZSBzdGFydCBvZiB0aGUgNjAgc2Vjb25kIG92ZXJhbGwgdGltZW91dCBhcyB3ZWxsIGFzIHRoZVxuLy8gZGVsYXkgYmV0d2VlbiBhdHRlbXB0cyBzbyB0aGF0IHdlJ2xsIHJldHJ5IHRoZXNlIGpvYnMgc29vbmVyXG5mdW5jdGlvbiByZXNldFF1ZXVlICgpIHtcbiAgdmFyIG5vdyA9IERhdGUubm93KClcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBmc1tncmFjZWZ1bFF1ZXVlXS5sZW5ndGg7ICsraSkge1xuICAgIC8vIGVudHJpZXMgdGhhdCBhcmUgb25seSBhIGxlbmd0aCBvZiAyIGFyZSBmcm9tIGFuIG9sZGVyIHZlcnNpb24sIGRvbid0XG4gICAgLy8gYm90aGVyIG1vZGlmeWluZyB0aG9zZSBzaW5jZSB0aGV5J2xsIGJlIHJldHJpZWQgYW55d2F5LlxuICAgIGlmIChmc1tncmFjZWZ1bFF1ZXVlXVtpXS5sZW5ndGggPiAyKSB7XG4gICAgICBmc1tncmFjZWZ1bFF1ZXVlXVtpXVszXSA9IG5vdyAvLyBzdGFydFRpbWVcbiAgICAgIGZzW2dyYWNlZnVsUXVldWVdW2ldWzRdID0gbm93IC8vIGxhc3RUaW1lXG4gICAgfVxuICB9XG4gIC8vIGNhbGwgcmV0cnkgdG8gbWFrZSBzdXJlIHdlJ3JlIGFjdGl2ZWx5IHByb2Nlc3NpbmcgdGhlIHF1ZXVlXG4gIHJldHJ5KClcbn1cblxuZnVuY3Rpb24gcmV0cnkgKCkge1xuICAvLyBjbGVhciB0aGUgdGltZXIgYW5kIHJlbW92ZSBpdCB0byBoZWxwIHByZXZlbnQgdW5pbnRlbmRlZCBjb25jdXJyZW5jeVxuICBjbGVhclRpbWVvdXQocmV0cnlUaW1lcilcbiAgcmV0cnlUaW1lciA9IHVuZGVmaW5lZFxuXG4gIGlmIChmc1tncmFjZWZ1bFF1ZXVlXS5sZW5ndGggPT09IDApXG4gICAgcmV0dXJuXG5cbiAgdmFyIGVsZW0gPSBmc1tncmFjZWZ1bFF1ZXVlXS5zaGlmdCgpXG4gIHZhciBmbiA9IGVsZW1bMF1cbiAgdmFyIGFyZ3MgPSBlbGVtWzFdXG4gIC8vIHRoZXNlIGl0ZW1zIG1heSBiZSB1bnNldCBpZiB0aGV5IHdlcmUgYWRkZWQgYnkgYW4gb2xkZXIgZ3JhY2VmdWwtZnNcbiAgdmFyIGVyciA9IGVsZW1bMl1cbiAgdmFyIHN0YXJ0VGltZSA9IGVsZW1bM11cbiAgdmFyIGxhc3RUaW1lID0gZWxlbVs0XVxuXG4gIC8vIGlmIHdlIGRvbid0IGhhdmUgYSBzdGFydFRpbWUgd2UgaGF2ZSBubyB3YXkgb2Yga25vd2luZyBpZiB3ZSd2ZSB3YWl0ZWRcbiAgLy8gbG9uZyBlbm91Z2gsIHNvIGdvIGFoZWFkIGFuZCByZXRyeSB0aGlzIGl0ZW0gbm93XG4gIGlmIChzdGFydFRpbWUgPT09IHVuZGVmaW5lZCkge1xuICAgIGRlYnVnKCdSRVRSWScsIGZuLm5hbWUsIGFyZ3MpXG4gICAgZm4uYXBwbHkobnVsbCwgYXJncylcbiAgfSBlbHNlIGlmIChEYXRlLm5vdygpIC0gc3RhcnRUaW1lID49IDYwMDAwKSB7XG4gICAgLy8gaXQncyBiZWVuIG1vcmUgdGhhbiA2MCBzZWNvbmRzIHRvdGFsLCBiYWlsIG5vd1xuICAgIGRlYnVnKCdUSU1FT1VUJywgZm4ubmFtZSwgYXJncylcbiAgICB2YXIgY2IgPSBhcmdzLnBvcCgpXG4gICAgaWYgKHR5cGVvZiBjYiA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgIGNiLmNhbGwobnVsbCwgZXJyKVxuICB9IGVsc2Uge1xuICAgIC8vIHRoZSBhbW91bnQgb2YgdGltZSBiZXR3ZWVuIHRoZSBsYXN0IGF0dGVtcHQgYW5kIHJpZ2h0IG5vd1xuICAgIHZhciBzaW5jZUF0dGVtcHQgPSBEYXRlLm5vdygpIC0gbGFzdFRpbWVcbiAgICAvLyB0aGUgYW1vdW50IG9mIHRpbWUgYmV0d2VlbiB3aGVuIHdlIGZpcnN0IHRyaWVkLCBhbmQgd2hlbiB3ZSBsYXN0IHRyaWVkXG4gICAgLy8gcm91bmRlZCB1cCB0byBhdCBsZWFzdCAxXG4gICAgdmFyIHNpbmNlU3RhcnQgPSBNYXRoLm1heChsYXN0VGltZSAtIHN0YXJ0VGltZSwgMSlcbiAgICAvLyBiYWNrb2ZmLiB3YWl0IGxvbmdlciB0aGFuIHRoZSB0b3RhbCB0aW1lIHdlJ3ZlIGJlZW4gcmV0cnlpbmcsIGJ1dCBvbmx5XG4gICAgLy8gdXAgdG8gYSBtYXhpbXVtIG9mIDEwMG1zXG4gICAgdmFyIGRlc2lyZWREZWxheSA9IE1hdGgubWluKHNpbmNlU3RhcnQgKiAxLjIsIDEwMClcbiAgICAvLyBpdCdzIGJlZW4gbG9uZyBlbm91Z2ggc2luY2UgdGhlIGxhc3QgcmV0cnksIGRvIGl0IGFnYWluXG4gICAgaWYgKHNpbmNlQXR0ZW1wdCA+PSBkZXNpcmVkRGVsYXkpIHtcbiAgICAgIGRlYnVnKCdSRVRSWScsIGZuLm5hbWUsIGFyZ3MpXG4gICAgICBmbi5hcHBseShudWxsLCBhcmdzLmNvbmNhdChbc3RhcnRUaW1lXSkpXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGlmIHdlIGNhbid0IGRvIHRoaXMgam9iIHlldCwgcHVzaCBpdCB0byB0aGUgZW5kIG9mIHRoZSBxdWV1ZVxuICAgICAgLy8gYW5kIGxldCB0aGUgbmV4dCBpdGVyYXRpb24gY2hlY2sgYWdhaW5cbiAgICAgIGZzW2dyYWNlZnVsUXVldWVdLnB1c2goZWxlbSlcbiAgICB9XG4gIH1cblxuICAvLyBzY2hlZHVsZSBvdXIgbmV4dCBydW4gaWYgb25lIGlzbid0IGFscmVhZHkgc2NoZWR1bGVkXG4gIGlmIChyZXRyeVRpbWVyID09PSB1bmRlZmluZWQpIHtcbiAgICByZXRyeVRpbWVyID0gc2V0VGltZW91dChyZXRyeSwgMClcbiAgfVxufVxuIiwgIid1c2Ugc3RyaWN0Jztcbm1vZHVsZS5leHBvcnRzID0geCA9PiB7XG5cdGlmICh0eXBlb2YgeCAhPT0gJ3N0cmluZycpIHtcblx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdFeHBlY3RlZCBhIHN0cmluZywgZ290ICcgKyB0eXBlb2YgeCk7XG5cdH1cblxuXHQvLyBDYXRjaGVzIEVGQkJCRiAoVVRGLTggQk9NKSBiZWNhdXNlIHRoZSBidWZmZXItdG8tc3RyaW5nXG5cdC8vIGNvbnZlcnNpb24gdHJhbnNsYXRlcyBpdCB0byBGRUZGIChVVEYtMTYgQk9NKVxuXHRpZiAoeC5jaGFyQ29kZUF0KDApID09PSAweEZFRkYpIHtcblx0XHRyZXR1cm4geC5zbGljZSgxKTtcblx0fVxuXG5cdHJldHVybiB4O1xufTtcbiIsICIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaXNBcnJheWlzaChvYmopIHtcblx0aWYgKCFvYmopIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHRyZXR1cm4gb2JqIGluc3RhbmNlb2YgQXJyYXkgfHwgQXJyYXkuaXNBcnJheShvYmopIHx8XG5cdFx0KG9iai5sZW5ndGggPj0gMCAmJiBvYmouc3BsaWNlIGluc3RhbmNlb2YgRnVuY3Rpb24pO1xufTtcbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlsID0gcmVxdWlyZSgndXRpbCcpO1xudmFyIGlzQXJyYXlpc2ggPSByZXF1aXJlKCdpcy1hcnJheWlzaCcpO1xuXG52YXIgZXJyb3JFeCA9IGZ1bmN0aW9uIGVycm9yRXgobmFtZSwgcHJvcGVydGllcykge1xuXHRpZiAoIW5hbWUgfHwgbmFtZS5jb25zdHJ1Y3RvciAhPT0gU3RyaW5nKSB7XG5cdFx0cHJvcGVydGllcyA9IG5hbWUgfHwge307XG5cdFx0bmFtZSA9IEVycm9yLm5hbWU7XG5cdH1cblxuXHR2YXIgZXJyb3JFeEVycm9yID0gZnVuY3Rpb24gRXJyb3JFWEVycm9yKG1lc3NhZ2UpIHtcblx0XHRpZiAoIXRoaXMpIHtcblx0XHRcdHJldHVybiBuZXcgRXJyb3JFWEVycm9yKG1lc3NhZ2UpO1xuXHRcdH1cblxuXHRcdG1lc3NhZ2UgPSBtZXNzYWdlIGluc3RhbmNlb2YgRXJyb3Jcblx0XHRcdD8gbWVzc2FnZS5tZXNzYWdlXG5cdFx0XHQ6IChtZXNzYWdlIHx8IHRoaXMubWVzc2FnZSk7XG5cblx0XHRFcnJvci5jYWxsKHRoaXMsIG1lc3NhZ2UpO1xuXHRcdEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIGVycm9yRXhFcnJvcik7XG5cblx0XHR0aGlzLm5hbWUgPSBuYW1lO1xuXG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdtZXNzYWdlJywge1xuXHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlLFxuXHRcdFx0ZW51bWVyYWJsZTogZmFsc2UsXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0dmFyIG5ld01lc3NhZ2UgPSBtZXNzYWdlLnNwbGl0KC9cXHI/XFxuL2cpO1xuXG5cdFx0XHRcdGZvciAodmFyIGtleSBpbiBwcm9wZXJ0aWVzKSB7XG5cdFx0XHRcdFx0aWYgKCFwcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KGtleSkpIHtcblx0XHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHZhciBtb2RpZmllciA9IHByb3BlcnRpZXNba2V5XTtcblxuXHRcdFx0XHRcdGlmICgnbWVzc2FnZScgaW4gbW9kaWZpZXIpIHtcblx0XHRcdFx0XHRcdG5ld01lc3NhZ2UgPSBtb2RpZmllci5tZXNzYWdlKHRoaXNba2V5XSwgbmV3TWVzc2FnZSkgfHwgbmV3TWVzc2FnZTtcblx0XHRcdFx0XHRcdGlmICghaXNBcnJheWlzaChuZXdNZXNzYWdlKSkge1xuXHRcdFx0XHRcdFx0XHRuZXdNZXNzYWdlID0gW25ld01lc3NhZ2VdO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBuZXdNZXNzYWdlLmpvaW4oJ1xcbicpO1xuXHRcdFx0fSxcblx0XHRcdHNldDogZnVuY3Rpb24gKHYpIHtcblx0XHRcdFx0bWVzc2FnZSA9IHY7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHR2YXIgb3ZlcndyaXR0ZW5TdGFjayA9IG51bGw7XG5cblx0XHR2YXIgc3RhY2tEZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0aGlzLCAnc3RhY2snKTtcblx0XHR2YXIgc3RhY2tHZXR0ZXIgPSBzdGFja0Rlc2NyaXB0b3IuZ2V0O1xuXHRcdHZhciBzdGFja1ZhbHVlID0gc3RhY2tEZXNjcmlwdG9yLnZhbHVlO1xuXHRcdGRlbGV0ZSBzdGFja0Rlc2NyaXB0b3IudmFsdWU7XG5cdFx0ZGVsZXRlIHN0YWNrRGVzY3JpcHRvci53cml0YWJsZTtcblxuXHRcdHN0YWNrRGVzY3JpcHRvci5zZXQgPSBmdW5jdGlvbiAobmV3c3RhY2spIHtcblx0XHRcdG92ZXJ3cml0dGVuU3RhY2sgPSBuZXdzdGFjaztcblx0XHR9O1xuXG5cdFx0c3RhY2tEZXNjcmlwdG9yLmdldCA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHZhciBzdGFjayA9IChvdmVyd3JpdHRlblN0YWNrIHx8ICgoc3RhY2tHZXR0ZXIpXG5cdFx0XHRcdD8gc3RhY2tHZXR0ZXIuY2FsbCh0aGlzKVxuXHRcdFx0XHQ6IHN0YWNrVmFsdWUpKS5zcGxpdCgvXFxyP1xcbisvZyk7XG5cblx0XHRcdC8vIHN0YXJ0aW5nIGluIE5vZGUgNywgdGhlIHN0YWNrIGJ1aWxkZXIgY2FjaGVzIHRoZSBtZXNzYWdlLlxuXHRcdFx0Ly8ganVzdCByZXBsYWNlIGl0LlxuXHRcdFx0aWYgKCFvdmVyd3JpdHRlblN0YWNrKSB7XG5cdFx0XHRcdHN0YWNrWzBdID0gdGhpcy5uYW1lICsgJzogJyArIHRoaXMubWVzc2FnZTtcblx0XHRcdH1cblxuXHRcdFx0dmFyIGxpbmVDb3VudCA9IDE7XG5cdFx0XHRmb3IgKHZhciBrZXkgaW4gcHJvcGVydGllcykge1xuXHRcdFx0XHRpZiAoIXByb3BlcnRpZXMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dmFyIG1vZGlmaWVyID0gcHJvcGVydGllc1trZXldO1xuXG5cdFx0XHRcdGlmICgnbGluZScgaW4gbW9kaWZpZXIpIHtcblx0XHRcdFx0XHR2YXIgbGluZSA9IG1vZGlmaWVyLmxpbmUodGhpc1trZXldKTtcblx0XHRcdFx0XHRpZiAobGluZSkge1xuXHRcdFx0XHRcdFx0c3RhY2suc3BsaWNlKGxpbmVDb3VudCsrLCAwLCAnICAgICcgKyBsaW5lKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoJ3N0YWNrJyBpbiBtb2RpZmllcikge1xuXHRcdFx0XHRcdG1vZGlmaWVyLnN0YWNrKHRoaXNba2V5XSwgc3RhY2spO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBzdGFjay5qb2luKCdcXG4nKTtcblx0XHR9O1xuXG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdzdGFjaycsIHN0YWNrRGVzY3JpcHRvcik7XG5cdH07XG5cblx0aWYgKE9iamVjdC5zZXRQcm90b3R5cGVPZikge1xuXHRcdE9iamVjdC5zZXRQcm90b3R5cGVPZihlcnJvckV4RXJyb3IucHJvdG90eXBlLCBFcnJvci5wcm90b3R5cGUpO1xuXHRcdE9iamVjdC5zZXRQcm90b3R5cGVPZihlcnJvckV4RXJyb3IsIEVycm9yKTtcblx0fSBlbHNlIHtcblx0XHR1dGlsLmluaGVyaXRzKGVycm9yRXhFcnJvciwgRXJyb3IpO1xuXHR9XG5cblx0cmV0dXJuIGVycm9yRXhFcnJvcjtcbn07XG5cbmVycm9yRXguYXBwZW5kID0gZnVuY3Rpb24gKHN0ciwgZGVmKSB7XG5cdHJldHVybiB7XG5cdFx0bWVzc2FnZTogZnVuY3Rpb24gKHYsIG1lc3NhZ2UpIHtcblx0XHRcdHYgPSB2IHx8IGRlZjtcblxuXHRcdFx0aWYgKHYpIHtcblx0XHRcdFx0bWVzc2FnZVswXSArPSAnICcgKyBzdHIucmVwbGFjZSgnJXMnLCB2LnRvU3RyaW5nKCkpO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gbWVzc2FnZTtcblx0XHR9XG5cdH07XG59O1xuXG5lcnJvckV4LmxpbmUgPSBmdW5jdGlvbiAoc3RyLCBkZWYpIHtcblx0cmV0dXJuIHtcblx0XHRsaW5lOiBmdW5jdGlvbiAodikge1xuXHRcdFx0diA9IHYgfHwgZGVmO1xuXG5cdFx0XHRpZiAodikge1xuXHRcdFx0XHRyZXR1cm4gc3RyLnJlcGxhY2UoJyVzJywgdi50b1N0cmluZygpKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0fVxuXHR9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBlcnJvckV4O1xuIiwgIid1c2Ugc3RyaWN0J1xuXG5tb2R1bGUuZXhwb3J0cyA9IHBhcnNlSnNvblxuZnVuY3Rpb24gcGFyc2VKc29uICh0eHQsIHJldml2ZXIsIGNvbnRleHQpIHtcbiAgY29udGV4dCA9IGNvbnRleHQgfHwgMjBcbiAgdHJ5IHtcbiAgICByZXR1cm4gSlNPTi5wYXJzZSh0eHQsIHJldml2ZXIpXG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBpZiAodHlwZW9mIHR4dCAhPT0gJ3N0cmluZycpIHtcbiAgICAgIGNvbnN0IGlzRW1wdHlBcnJheSA9IEFycmF5LmlzQXJyYXkodHh0KSAmJiB0eHQubGVuZ3RoID09PSAwXG4gICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSAnQ2Fubm90IHBhcnNlICcgK1xuICAgICAgKGlzRW1wdHlBcnJheSA/ICdhbiBlbXB0eSBhcnJheScgOiBTdHJpbmcodHh0KSlcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoZXJyb3JNZXNzYWdlKVxuICAgIH1cbiAgICBjb25zdCBzeW50YXhFcnIgPSBlLm1lc3NhZ2UubWF0Y2goL15VbmV4cGVjdGVkIHRva2VuLipwb3NpdGlvblxccysoXFxkKykvaSlcbiAgICBjb25zdCBlcnJJZHggPSBzeW50YXhFcnJcbiAgICA/ICtzeW50YXhFcnJbMV1cbiAgICA6IGUubWVzc2FnZS5tYXRjaCgvXlVuZXhwZWN0ZWQgZW5kIG9mIEpTT04uKi9pKVxuICAgID8gdHh0Lmxlbmd0aCAtIDFcbiAgICA6IG51bGxcbiAgICBpZiAoZXJySWR4ICE9IG51bGwpIHtcbiAgICAgIGNvbnN0IHN0YXJ0ID0gZXJySWR4IDw9IGNvbnRleHRcbiAgICAgID8gMFxuICAgICAgOiBlcnJJZHggLSBjb250ZXh0XG4gICAgICBjb25zdCBlbmQgPSBlcnJJZHggKyBjb250ZXh0ID49IHR4dC5sZW5ndGhcbiAgICAgID8gdHh0Lmxlbmd0aFxuICAgICAgOiBlcnJJZHggKyBjb250ZXh0XG4gICAgICBlLm1lc3NhZ2UgKz0gYCB3aGlsZSBwYXJzaW5nIG5lYXIgJyR7XG4gICAgICAgIHN0YXJ0ID09PSAwID8gJycgOiAnLi4uJ1xuICAgICAgfSR7dHh0LnNsaWNlKHN0YXJ0LCBlbmQpfSR7XG4gICAgICAgIGVuZCA9PT0gdHh0Lmxlbmd0aCA/ICcnIDogJy4uLidcbiAgICAgIH0nYFxuICAgIH0gZWxzZSB7XG4gICAgICBlLm1lc3NhZ2UgKz0gYCB3aGlsZSBwYXJzaW5nICcke3R4dC5zbGljZSgwLCBjb250ZXh0ICogMil9J2BcbiAgICB9XG4gICAgdGhyb3cgZVxuICB9XG59XG4iLCAiJ3VzZSBzdHJpY3QnO1xuY29uc3QgZXJyb3JFeCA9IHJlcXVpcmUoJ2Vycm9yLWV4Jyk7XG5jb25zdCBmYWxsYmFjayA9IHJlcXVpcmUoJ2pzb24tcGFyc2UtYmV0dGVyLWVycm9ycycpO1xuXG5jb25zdCBKU09ORXJyb3IgPSBlcnJvckV4KCdKU09ORXJyb3InLCB7XG5cdGZpbGVOYW1lOiBlcnJvckV4LmFwcGVuZCgnaW4gJXMnKVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gKGlucHV0LCByZXZpdmVyLCBmaWxlbmFtZSkgPT4ge1xuXHRpZiAodHlwZW9mIHJldml2ZXIgPT09ICdzdHJpbmcnKSB7XG5cdFx0ZmlsZW5hbWUgPSByZXZpdmVyO1xuXHRcdHJldml2ZXIgPSBudWxsO1xuXHR9XG5cblx0dHJ5IHtcblx0XHR0cnkge1xuXHRcdFx0cmV0dXJuIEpTT04ucGFyc2UoaW5wdXQsIHJldml2ZXIpO1xuXHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0ZmFsbGJhY2soaW5wdXQsIHJldml2ZXIpO1xuXG5cdFx0XHR0aHJvdyBlcnI7XG5cdFx0fVxuXHR9IGNhdGNoIChlcnIpIHtcblx0XHRlcnIubWVzc2FnZSA9IGVyci5tZXNzYWdlLnJlcGxhY2UoL1xcbi9nLCAnJyk7XG5cblx0XHRjb25zdCBqc29uRXJyID0gbmV3IEpTT05FcnJvcihlcnIpO1xuXHRcdGlmIChmaWxlbmFtZSkge1xuXHRcdFx0anNvbkVyci5maWxlTmFtZSA9IGZpbGVuYW1lO1xuXHRcdH1cblxuXHRcdHRocm93IGpzb25FcnI7XG5cdH1cbn07XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBwcm9jZXNzRm4gPSAoZm4sIG9wdHMpID0+IGZ1bmN0aW9uICgpIHtcblx0Y29uc3QgUCA9IG9wdHMucHJvbWlzZU1vZHVsZTtcblx0Y29uc3QgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoKTtcblxuXHRmb3IgKGxldCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuXHRcdGFyZ3NbaV0gPSBhcmd1bWVudHNbaV07XG5cdH1cblxuXHRyZXR1cm4gbmV3IFAoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdGlmIChvcHRzLmVycm9yRmlyc3QpIHtcblx0XHRcdGFyZ3MucHVzaChmdW5jdGlvbiAoZXJyLCByZXN1bHQpIHtcblx0XHRcdFx0aWYgKG9wdHMubXVsdGlBcmdzKSB7XG5cdFx0XHRcdFx0Y29uc3QgcmVzdWx0cyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG5cblx0XHRcdFx0XHRmb3IgKGxldCBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRcdFx0cmVzdWx0c1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKGVycikge1xuXHRcdFx0XHRcdFx0cmVzdWx0cy51bnNoaWZ0KGVycik7XG5cdFx0XHRcdFx0XHRyZWplY3QocmVzdWx0cyk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHJlc29sdmUocmVzdWx0cyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2UgaWYgKGVycikge1xuXHRcdFx0XHRcdHJlamVjdChlcnIpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHJlc29sdmUocmVzdWx0KTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGFyZ3MucHVzaChmdW5jdGlvbiAocmVzdWx0KSB7XG5cdFx0XHRcdGlmIChvcHRzLm11bHRpQXJncykge1xuXHRcdFx0XHRcdGNvbnN0IHJlc3VsdHMgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuXG5cdFx0XHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHRcdHJlc3VsdHNbaV0gPSBhcmd1bWVudHNbaV07XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmVzb2x2ZShyZXN1bHRzKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRyZXNvbHZlKHJlc3VsdCk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdGZuLmFwcGx5KHRoaXMsIGFyZ3MpO1xuXHR9KTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gKG9iaiwgb3B0cykgPT4ge1xuXHRvcHRzID0gT2JqZWN0LmFzc2lnbih7XG5cdFx0ZXhjbHVkZTogWy8uKyhTeW5jfFN0cmVhbSkkL10sXG5cdFx0ZXJyb3JGaXJzdDogdHJ1ZSxcblx0XHRwcm9taXNlTW9kdWxlOiBQcm9taXNlXG5cdH0sIG9wdHMpO1xuXG5cdGNvbnN0IGZpbHRlciA9IGtleSA9PiB7XG5cdFx0Y29uc3QgbWF0Y2ggPSBwYXR0ZXJuID0+IHR5cGVvZiBwYXR0ZXJuID09PSAnc3RyaW5nJyA/IGtleSA9PT0gcGF0dGVybiA6IHBhdHRlcm4udGVzdChrZXkpO1xuXHRcdHJldHVybiBvcHRzLmluY2x1ZGUgPyBvcHRzLmluY2x1ZGUuc29tZShtYXRjaCkgOiAhb3B0cy5leGNsdWRlLnNvbWUobWF0Y2gpO1xuXHR9O1xuXG5cdGxldCByZXQ7XG5cdGlmICh0eXBlb2Ygb2JqID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0cmV0ID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0aWYgKG9wdHMuZXhjbHVkZU1haW4pIHtcblx0XHRcdFx0cmV0dXJuIG9iai5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gcHJvY2Vzc0ZuKG9iaiwgb3B0cykuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0XHR9O1xuXHR9IGVsc2Uge1xuXHRcdHJldCA9IE9iamVjdC5jcmVhdGUoT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iaikpO1xuXHR9XG5cblx0Zm9yIChjb25zdCBrZXkgaW4gb2JqKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgZ3VhcmQtZm9yLWluXG5cdFx0Y29uc3QgeCA9IG9ialtrZXldO1xuXHRcdHJldFtrZXldID0gdHlwZW9mIHggPT09ICdmdW5jdGlvbicgJiYgZmlsdGVyKGtleSkgPyBwcm9jZXNzRm4oeCwgb3B0cykgOiB4O1xuXHR9XG5cblx0cmV0dXJuIHJldDtcbn07XG4iLCAiJ3VzZSBzdHJpY3QnO1xuY29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcbmNvbnN0IGZzID0gcmVxdWlyZSgnZ3JhY2VmdWwtZnMnKTtcbmNvbnN0IHN0cmlwQm9tID0gcmVxdWlyZSgnc3RyaXAtYm9tJyk7XG5jb25zdCBwYXJzZUpzb24gPSByZXF1aXJlKCdwYXJzZS1qc29uJyk7XG5jb25zdCBwaWZ5ID0gcmVxdWlyZSgncGlmeScpO1xuXG5jb25zdCBwYXJzZSA9IChkYXRhLCBmcCkgPT4gcGFyc2VKc29uKHN0cmlwQm9tKGRhdGEpLCBwYXRoLnJlbGF0aXZlKCcuJywgZnApKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmcCA9PiBwaWZ5KGZzLnJlYWRGaWxlKShmcCwgJ3V0ZjgnKS50aGVuKGRhdGEgPT4gcGFyc2UoZGF0YSwgZnApKTtcbm1vZHVsZS5leHBvcnRzLnN5bmMgPSBmcCA9PiBwYXJzZShmcy5yZWFkRmlsZVN5bmMoZnAsICd1dGY4JyksIGZwKTtcbiIsICIndXNlIHN0cmljdCc7XG5jb25zdCBmcyA9IHJlcXVpcmUoJ2ZzJyk7XG5jb25zdCBwaWZ5ID0gcmVxdWlyZSgncGlmeScpO1xuXG5mdW5jdGlvbiB0eXBlKGZuLCBmbjIsIGZwKSB7XG5cdGlmICh0eXBlb2YgZnAgIT09ICdzdHJpbmcnKSB7XG5cdFx0cmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBUeXBlRXJyb3IoYEV4cGVjdGVkIGEgc3RyaW5nLCBnb3QgJHt0eXBlb2YgZnB9YCkpO1xuXHR9XG5cblx0cmV0dXJuIHBpZnkoZnNbZm5dKShmcClcblx0XHQudGhlbihzdGF0cyA9PiBzdGF0c1tmbjJdKCkpXG5cdFx0LmNhdGNoKGVyciA9PiB7XG5cdFx0XHRpZiAoZXJyLmNvZGUgPT09ICdFTk9FTlQnKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0dGhyb3cgZXJyO1xuXHRcdH0pO1xufVxuXG5mdW5jdGlvbiB0eXBlU3luYyhmbiwgZm4yLCBmcCkge1xuXHRpZiAodHlwZW9mIGZwICE9PSAnc3RyaW5nJykge1xuXHRcdHRocm93IG5ldyBUeXBlRXJyb3IoYEV4cGVjdGVkIGEgc3RyaW5nLCBnb3QgJHt0eXBlb2YgZnB9YCk7XG5cdH1cblxuXHR0cnkge1xuXHRcdHJldHVybiBmc1tmbl0oZnApW2ZuMl0oKTtcblx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0aWYgKGVyci5jb2RlID09PSAnRU5PRU5UJykge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdHRocm93IGVycjtcblx0fVxufVxuXG5leHBvcnRzLmZpbGUgPSB0eXBlLmJpbmQobnVsbCwgJ3N0YXQnLCAnaXNGaWxlJyk7XG5leHBvcnRzLmRpciA9IHR5cGUuYmluZChudWxsLCAnc3RhdCcsICdpc0RpcmVjdG9yeScpO1xuZXhwb3J0cy5zeW1saW5rID0gdHlwZS5iaW5kKG51bGwsICdsc3RhdCcsICdpc1N5bWJvbGljTGluaycpO1xuZXhwb3J0cy5maWxlU3luYyA9IHR5cGVTeW5jLmJpbmQobnVsbCwgJ3N0YXRTeW5jJywgJ2lzRmlsZScpO1xuZXhwb3J0cy5kaXJTeW5jID0gdHlwZVN5bmMuYmluZChudWxsLCAnc3RhdFN5bmMnLCAnaXNEaXJlY3RvcnknKTtcbmV4cG9ydHMuc3ltbGlua1N5bmMgPSB0eXBlU3luYy5iaW5kKG51bGwsICdsc3RhdFN5bmMnLCAnaXNTeW1ib2xpY0xpbmsnKTtcbiIsICIndXNlIHN0cmljdCdcblxudmFyIGdpdEhvc3RzID0gbW9kdWxlLmV4cG9ydHMgPSB7XG4gIGdpdGh1Yjoge1xuICAgIC8vIEZpcnN0IHR3byBhcmUgaW5zZWN1cmUgYW5kIGdlbmVyYWxseSBzaG91bGRuJ3QgYmUgdXNlZCBhbnkgbW9yZSwgYnV0XG4gICAgLy8gdGhleSBhcmUgc3RpbGwgc3VwcG9ydGVkLlxuICAgICdwcm90b2NvbHMnOiBbICdnaXQnLCAnaHR0cCcsICdnaXQrc3NoJywgJ2dpdCtodHRwcycsICdzc2gnLCAnaHR0cHMnIF0sXG4gICAgJ2RvbWFpbic6ICdnaXRodWIuY29tJyxcbiAgICAndHJlZXBhdGgnOiAndHJlZScsXG4gICAgJ2ZpbGV0ZW1wbGF0ZSc6ICdodHRwczovL3thdXRoQH1yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL3t1c2VyfS97cHJvamVjdH0ve2NvbW1pdHRpc2h9L3twYXRofScsXG4gICAgJ2J1Z3N0ZW1wbGF0ZSc6ICdodHRwczovL3tkb21haW59L3t1c2VyfS97cHJvamVjdH0vaXNzdWVzJyxcbiAgICAnZ2l0dGVtcGxhdGUnOiAnZ2l0Oi8ve2F1dGhAfXtkb21haW59L3t1c2VyfS97cHJvamVjdH0uZ2l0eyNjb21taXR0aXNofScsXG4gICAgJ3RhcmJhbGx0ZW1wbGF0ZSc6ICdodHRwczovL2NvZGVsb2FkLntkb21haW59L3t1c2VyfS97cHJvamVjdH0vdGFyLmd6L3tjb21taXR0aXNofSdcbiAgfSxcbiAgYml0YnVja2V0OiB7XG4gICAgJ3Byb3RvY29scyc6IFsgJ2dpdCtzc2gnLCAnZ2l0K2h0dHBzJywgJ3NzaCcsICdodHRwcycgXSxcbiAgICAnZG9tYWluJzogJ2JpdGJ1Y2tldC5vcmcnLFxuICAgICd0cmVlcGF0aCc6ICdzcmMnLFxuICAgICd0YXJiYWxsdGVtcGxhdGUnOiAnaHR0cHM6Ly97ZG9tYWlufS97dXNlcn0ve3Byb2plY3R9L2dldC97Y29tbWl0dGlzaH0udGFyLmd6J1xuICB9LFxuICBnaXRsYWI6IHtcbiAgICAncHJvdG9jb2xzJzogWyAnZ2l0K3NzaCcsICdnaXQraHR0cHMnLCAnc3NoJywgJ2h0dHBzJyBdLFxuICAgICdkb21haW4nOiAnZ2l0bGFiLmNvbScsXG4gICAgJ3RyZWVwYXRoJzogJ3RyZWUnLFxuICAgICdidWdzdGVtcGxhdGUnOiAnaHR0cHM6Ly97ZG9tYWlufS97dXNlcn0ve3Byb2plY3R9L2lzc3VlcycsXG4gICAgJ2h0dHBzdGVtcGxhdGUnOiAnZ2l0K2h0dHBzOi8ve2F1dGhAfXtkb21haW59L3t1c2VyfS97cHJvamVjdFBhdGh9LmdpdHsjY29tbWl0dGlzaH0nLFxuICAgICd0YXJiYWxsdGVtcGxhdGUnOiAnaHR0cHM6Ly97ZG9tYWlufS97dXNlcn0ve3Byb2plY3R9L3JlcG9zaXRvcnkvYXJjaGl2ZS50YXIuZ3o/cmVmPXtjb21taXR0aXNofScsXG4gICAgJ3BhdGhtYXRjaCc6IC9eWy9dKFteL10rKVsvXSgoPyEuKihcXC8tXFwvfFxcL3JlcG9zaXRvcnlcXC9hcmNoaXZlXFwudGFyXFwuZ3pcXD89Lip8XFwvcmVwb3NpdG9yeVxcL1teL10rXFwvYXJjaGl2ZS50YXIuZ3okKSkuKj8pKD86Wy5dZ2l0fFsvXSk/JC9cbiAgfSxcbiAgZ2lzdDoge1xuICAgICdwcm90b2NvbHMnOiBbICdnaXQnLCAnZ2l0K3NzaCcsICdnaXQraHR0cHMnLCAnc3NoJywgJ2h0dHBzJyBdLFxuICAgICdkb21haW4nOiAnZ2lzdC5naXRodWIuY29tJyxcbiAgICAncGF0aG1hdGNoJzogL15bL10oPzooW14vXSspWy9dKT8oW2EtejAtOV17MzIsfSkoPzpbLl1naXQpPyQvLFxuICAgICdmaWxldGVtcGxhdGUnOiAnaHR0cHM6Ly9naXN0LmdpdGh1YnVzZXJjb250ZW50LmNvbS97dXNlcn0ve3Byb2plY3R9L3Jhd3svY29tbWl0dGlzaH0ve3BhdGh9JyxcbiAgICAnYnVnc3RlbXBsYXRlJzogJ2h0dHBzOi8ve2RvbWFpbn0ve3Byb2plY3R9JyxcbiAgICAnZ2l0dGVtcGxhdGUnOiAnZ2l0Oi8ve2RvbWFpbn0ve3Byb2plY3R9LmdpdHsjY29tbWl0dGlzaH0nLFxuICAgICdzc2h0ZW1wbGF0ZSc6ICdnaXRAe2RvbWFpbn06L3twcm9qZWN0fS5naXR7I2NvbW1pdHRpc2h9JyxcbiAgICAnc3NodXJsdGVtcGxhdGUnOiAnZ2l0K3NzaDovL2dpdEB7ZG9tYWlufS97cHJvamVjdH0uZ2l0eyNjb21taXR0aXNofScsXG4gICAgJ2Jyb3dzZXRlbXBsYXRlJzogJ2h0dHBzOi8ve2RvbWFpbn0ve3Byb2plY3R9ey9jb21taXR0aXNofScsXG4gICAgJ2Jyb3dzZWZpbGV0ZW1wbGF0ZSc6ICdodHRwczovL3tkb21haW59L3twcm9qZWN0fXsvY29tbWl0dGlzaH17I3BhdGh9JyxcbiAgICAnZG9jc3RlbXBsYXRlJzogJ2h0dHBzOi8ve2RvbWFpbn0ve3Byb2plY3R9ey9jb21taXR0aXNofScsXG4gICAgJ2h0dHBzdGVtcGxhdGUnOiAnZ2l0K2h0dHBzOi8ve2RvbWFpbn0ve3Byb2plY3R9LmdpdHsjY29tbWl0dGlzaH0nLFxuICAgICdzaG9ydGN1dHRlbXBsYXRlJzogJ3t0eXBlfTp7cHJvamVjdH17I2NvbW1pdHRpc2h9JyxcbiAgICAncGF0aHRlbXBsYXRlJzogJ3twcm9qZWN0fXsjY29tbWl0dGlzaH0nLFxuICAgICd0YXJiYWxsdGVtcGxhdGUnOiAnaHR0cHM6Ly9jb2RlbG9hZC5naXRodWIuY29tL2dpc3Qve3Byb2plY3R9L3Rhci5nei97Y29tbWl0dGlzaH0nLFxuICAgICdoYXNoZm9ybWF0JzogZnVuY3Rpb24gKGZyYWdtZW50KSB7XG4gICAgICByZXR1cm4gJ2ZpbGUtJyArIGZvcm1hdEhhc2hGcmFnbWVudChmcmFnbWVudClcbiAgICB9XG4gIH1cbn1cblxudmFyIGdpdEhvc3REZWZhdWx0cyA9IHtcbiAgJ3NzaHRlbXBsYXRlJzogJ2dpdEB7ZG9tYWlufTp7dXNlcn0ve3Byb2plY3R9LmdpdHsjY29tbWl0dGlzaH0nLFxuICAnc3NodXJsdGVtcGxhdGUnOiAnZ2l0K3NzaDovL2dpdEB7ZG9tYWlufS97dXNlcn0ve3Byb2plY3R9LmdpdHsjY29tbWl0dGlzaH0nLFxuICAnYnJvd3NldGVtcGxhdGUnOiAnaHR0cHM6Ly97ZG9tYWlufS97dXNlcn0ve3Byb2plY3R9ey90cmVlL2NvbW1pdHRpc2h9JyxcbiAgJ2Jyb3dzZWZpbGV0ZW1wbGF0ZSc6ICdodHRwczovL3tkb21haW59L3t1c2VyfS97cHJvamVjdH0ve3RyZWVwYXRofS97Y29tbWl0dGlzaH0ve3BhdGh9eyNmcmFnbWVudH0nLFxuICAnZG9jc3RlbXBsYXRlJzogJ2h0dHBzOi8ve2RvbWFpbn0ve3VzZXJ9L3twcm9qZWN0fXsvdHJlZS9jb21taXR0aXNofSNyZWFkbWUnLFxuICAnaHR0cHN0ZW1wbGF0ZSc6ICdnaXQraHR0cHM6Ly97YXV0aEB9e2RvbWFpbn0ve3VzZXJ9L3twcm9qZWN0fS5naXR7I2NvbW1pdHRpc2h9JyxcbiAgJ2ZpbGV0ZW1wbGF0ZSc6ICdodHRwczovL3tkb21haW59L3t1c2VyfS97cHJvamVjdH0vcmF3L3tjb21taXR0aXNofS97cGF0aH0nLFxuICAnc2hvcnRjdXR0ZW1wbGF0ZSc6ICd7dHlwZX06e3VzZXJ9L3twcm9qZWN0fXsjY29tbWl0dGlzaH0nLFxuICAncGF0aHRlbXBsYXRlJzogJ3t1c2VyfS97cHJvamVjdH17I2NvbW1pdHRpc2h9JyxcbiAgJ3BhdGhtYXRjaCc6IC9eWy9dKFteL10rKVsvXShbXi9dKz8pKD86Wy5dZ2l0fFsvXSk/JC8sXG4gICdoYXNoZm9ybWF0JzogZm9ybWF0SGFzaEZyYWdtZW50XG59XG5cbk9iamVjdC5rZXlzKGdpdEhvc3RzKS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG4gIE9iamVjdC5rZXlzKGdpdEhvc3REZWZhdWx0cykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgaWYgKGdpdEhvc3RzW25hbWVdW2tleV0pIHJldHVyblxuICAgIGdpdEhvc3RzW25hbWVdW2tleV0gPSBnaXRIb3N0RGVmYXVsdHNba2V5XVxuICB9KVxuICBnaXRIb3N0c1tuYW1lXS5wcm90b2NvbHNfcmUgPSBSZWdFeHAoJ14oJyArXG4gICAgZ2l0SG9zdHNbbmFtZV0ucHJvdG9jb2xzLm1hcChmdW5jdGlvbiAocHJvdG9jb2wpIHtcbiAgICAgIHJldHVybiBwcm90b2NvbC5yZXBsYWNlKC8oW1xcXFwrKnt9KClbXFxdJF58XSkvZywgJ1xcXFwkMScpXG4gICAgfSkuam9pbignfCcpICsgJyk6JCcpXG59KVxuXG5mdW5jdGlvbiBmb3JtYXRIYXNoRnJhZ21lbnQgKGZyYWdtZW50KSB7XG4gIHJldHVybiBmcmFnbWVudC50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL15cXFcrfFxcL3xcXFcrJC9nLCAnJykucmVwbGFjZSgvXFxXKy9nLCAnLScpXG59XG4iLCAiJ3VzZSBzdHJpY3QnXG52YXIgZ2l0SG9zdHMgPSByZXF1aXJlKCcuL2dpdC1ob3N0LWluZm8uanMnKVxuLyogZXNsaW50LWRpc2FibGUgbm9kZS9uby1kZXByZWNhdGVkLWFwaSAqL1xuXG4vLyBjb3B5LXBhc3RhIHV0aWwuX2V4dGVuZCBmcm9tIG5vZGUncyBzb3VyY2UsIHRvIGF2b2lkIHB1bGxpbmdcbi8vIHRoZSB3aG9sZSB1dGlsIG1vZHVsZSBpbnRvIHBlb3BsZXMnIHdlYnBhY2sgYnVuZGxlcy5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG52YXIgZXh0ZW5kID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfZXh0ZW5kICh0YXJnZXQsIHNvdXJjZSkge1xuICAvLyBEb24ndCBkbyBhbnl0aGluZyBpZiBzb3VyY2UgaXNuJ3QgYW4gb2JqZWN0XG4gIGlmIChzb3VyY2UgPT09IG51bGwgfHwgdHlwZW9mIHNvdXJjZSAhPT0gJ29iamVjdCcpIHJldHVybiB0YXJnZXRcblxuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSlcbiAgdmFyIGkgPSBrZXlzLmxlbmd0aFxuICB3aGlsZSAoaS0tKSB7XG4gICAgdGFyZ2V0W2tleXNbaV1dID0gc291cmNlW2tleXNbaV1dXG4gIH1cbiAgcmV0dXJuIHRhcmdldFxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IEdpdEhvc3RcbmZ1bmN0aW9uIEdpdEhvc3QgKHR5cGUsIHVzZXIsIGF1dGgsIHByb2plY3QsIGNvbW1pdHRpc2gsIGRlZmF1bHRSZXByZXNlbnRhdGlvbiwgb3B0cykge1xuICB2YXIgZ2l0SG9zdEluZm8gPSB0aGlzXG4gIGdpdEhvc3RJbmZvLnR5cGUgPSB0eXBlXG4gIE9iamVjdC5rZXlzKGdpdEhvc3RzW3R5cGVdKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBnaXRIb3N0SW5mb1trZXldID0gZ2l0SG9zdHNbdHlwZV1ba2V5XVxuICB9KVxuICBnaXRIb3N0SW5mby51c2VyID0gdXNlclxuICBnaXRIb3N0SW5mby5hdXRoID0gYXV0aFxuICBnaXRIb3N0SW5mby5wcm9qZWN0ID0gcHJvamVjdFxuICBnaXRIb3N0SW5mby5jb21taXR0aXNoID0gY29tbWl0dGlzaFxuICBnaXRIb3N0SW5mby5kZWZhdWx0ID0gZGVmYXVsdFJlcHJlc2VudGF0aW9uXG4gIGdpdEhvc3RJbmZvLm9wdHMgPSBvcHRzIHx8IHt9XG59XG5cbkdpdEhvc3QucHJvdG90eXBlLmhhc2ggPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLmNvbW1pdHRpc2ggPyAnIycgKyB0aGlzLmNvbW1pdHRpc2ggOiAnJ1xufVxuXG5HaXRIb3N0LnByb3RvdHlwZS5fZmlsbCA9IGZ1bmN0aW9uICh0ZW1wbGF0ZSwgb3B0cykge1xuICBpZiAoIXRlbXBsYXRlKSByZXR1cm5cbiAgdmFyIHZhcnMgPSBleHRlbmQoe30sIG9wdHMpXG4gIHZhcnMucGF0aCA9IHZhcnMucGF0aCA/IHZhcnMucGF0aC5yZXBsYWNlKC9eWy9dKy9nLCAnJykgOiAnJ1xuICBvcHRzID0gZXh0ZW5kKGV4dGVuZCh7fSwgdGhpcy5vcHRzKSwgb3B0cylcbiAgdmFyIHNlbGYgPSB0aGlzXG4gIE9iamVjdC5rZXlzKHRoaXMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIGlmIChzZWxmW2tleV0gIT0gbnVsbCAmJiB2YXJzW2tleV0gPT0gbnVsbCkgdmFyc1trZXldID0gc2VsZltrZXldXG4gIH0pXG4gIHZhciByYXdBdXRoID0gdmFycy5hdXRoXG4gIHZhciByYXdjb21taXR0aXNoID0gdmFycy5jb21taXR0aXNoXG4gIHZhciByYXdGcmFnbWVudCA9IHZhcnMuZnJhZ21lbnRcbiAgdmFyIHJhd1BhdGggPSB2YXJzLnBhdGhcbiAgdmFyIHJhd1Byb2plY3QgPSB2YXJzLnByb2plY3RcbiAgT2JqZWN0LmtleXModmFycykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgdmFyIHZhbHVlID0gdmFyc1trZXldXG4gICAgaWYgKChrZXkgPT09ICdwYXRoJyB8fCBrZXkgPT09ICdwcm9qZWN0JykgJiYgdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgdmFyc1trZXldID0gdmFsdWUuc3BsaXQoJy8nKS5tYXAoZnVuY3Rpb24gKHBhdGhDb21wb25lbnQpIHtcbiAgICAgICAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChwYXRoQ29tcG9uZW50KVxuICAgICAgfSkuam9pbignLycpXG4gICAgfSBlbHNlIHtcbiAgICAgIHZhcnNba2V5XSA9IGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSlcbiAgICB9XG4gIH0pXG4gIHZhcnNbJ2F1dGhAJ10gPSByYXdBdXRoID8gcmF3QXV0aCArICdAJyA6ICcnXG4gIHZhcnNbJyNmcmFnbWVudCddID0gcmF3RnJhZ21lbnQgPyAnIycgKyB0aGlzLmhhc2hmb3JtYXQocmF3RnJhZ21lbnQpIDogJydcbiAgdmFycy5mcmFnbWVudCA9IHZhcnMuZnJhZ21lbnQgPyB2YXJzLmZyYWdtZW50IDogJydcbiAgdmFyc1snI3BhdGgnXSA9IHJhd1BhdGggPyAnIycgKyB0aGlzLmhhc2hmb3JtYXQocmF3UGF0aCkgOiAnJ1xuICB2YXJzWycvcGF0aCddID0gdmFycy5wYXRoID8gJy8nICsgdmFycy5wYXRoIDogJydcbiAgdmFycy5wcm9qZWN0UGF0aCA9IHJhd1Byb2plY3Quc3BsaXQoJy8nKS5tYXAoZW5jb2RlVVJJQ29tcG9uZW50KS5qb2luKCcvJylcbiAgaWYgKG9wdHMubm9Db21taXR0aXNoKSB7XG4gICAgdmFyc1snI2NvbW1pdHRpc2gnXSA9ICcnXG4gICAgdmFyc1snL3RyZWUvY29tbWl0dGlzaCddID0gJydcbiAgICB2YXJzWycvY29tbWl0dGlzaCddID0gJydcbiAgICB2YXJzLmNvbW1pdHRpc2ggPSAnJ1xuICB9IGVsc2Uge1xuICAgIHZhcnNbJyNjb21taXR0aXNoJ10gPSByYXdjb21taXR0aXNoID8gJyMnICsgcmF3Y29tbWl0dGlzaCA6ICcnXG4gICAgdmFyc1snL3RyZWUvY29tbWl0dGlzaCddID0gdmFycy5jb21taXR0aXNoXG4gICAgICA/ICcvJyArIHZhcnMudHJlZXBhdGggKyAnLycgKyB2YXJzLmNvbW1pdHRpc2hcbiAgICAgIDogJydcbiAgICB2YXJzWycvY29tbWl0dGlzaCddID0gdmFycy5jb21taXR0aXNoID8gJy8nICsgdmFycy5jb21taXR0aXNoIDogJydcbiAgICB2YXJzLmNvbW1pdHRpc2ggPSB2YXJzLmNvbW1pdHRpc2ggfHwgJ21hc3RlcidcbiAgfVxuICB2YXIgcmVzID0gdGVtcGxhdGVcbiAgT2JqZWN0LmtleXModmFycykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgcmVzID0gcmVzLnJlcGxhY2UobmV3IFJlZ0V4cCgnW3tdJyArIGtleSArICdbfV0nLCAnZycpLCB2YXJzW2tleV0pXG4gIH0pXG4gIGlmIChvcHRzLm5vR2l0UGx1cykge1xuICAgIHJldHVybiByZXMucmVwbGFjZSgvXmdpdFsrXS8sICcnKVxuICB9IGVsc2Uge1xuICAgIHJldHVybiByZXNcbiAgfVxufVxuXG5HaXRIb3N0LnByb3RvdHlwZS5zc2ggPSBmdW5jdGlvbiAob3B0cykge1xuICByZXR1cm4gdGhpcy5fZmlsbCh0aGlzLnNzaHRlbXBsYXRlLCBvcHRzKVxufVxuXG5HaXRIb3N0LnByb3RvdHlwZS5zc2h1cmwgPSBmdW5jdGlvbiAob3B0cykge1xuICByZXR1cm4gdGhpcy5fZmlsbCh0aGlzLnNzaHVybHRlbXBsYXRlLCBvcHRzKVxufVxuXG5HaXRIb3N0LnByb3RvdHlwZS5icm93c2UgPSBmdW5jdGlvbiAoUCwgRiwgb3B0cykge1xuICBpZiAodHlwZW9mIFAgPT09ICdzdHJpbmcnKSB7XG4gICAgaWYgKHR5cGVvZiBGICE9PSAnc3RyaW5nJykge1xuICAgICAgb3B0cyA9IEZcbiAgICAgIEYgPSBudWxsXG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9maWxsKHRoaXMuYnJvd3NlZmlsZXRlbXBsYXRlLCBleHRlbmQoe1xuICAgICAgZnJhZ21lbnQ6IEYsXG4gICAgICBwYXRoOiBQXG4gICAgfSwgb3B0cykpXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHRoaXMuX2ZpbGwodGhpcy5icm93c2V0ZW1wbGF0ZSwgUClcbiAgfVxufVxuXG5HaXRIb3N0LnByb3RvdHlwZS5kb2NzID0gZnVuY3Rpb24gKG9wdHMpIHtcbiAgcmV0dXJuIHRoaXMuX2ZpbGwodGhpcy5kb2NzdGVtcGxhdGUsIG9wdHMpXG59XG5cbkdpdEhvc3QucHJvdG90eXBlLmJ1Z3MgPSBmdW5jdGlvbiAob3B0cykge1xuICByZXR1cm4gdGhpcy5fZmlsbCh0aGlzLmJ1Z3N0ZW1wbGF0ZSwgb3B0cylcbn1cblxuR2l0SG9zdC5wcm90b3R5cGUuaHR0cHMgPSBmdW5jdGlvbiAob3B0cykge1xuICByZXR1cm4gdGhpcy5fZmlsbCh0aGlzLmh0dHBzdGVtcGxhdGUsIG9wdHMpXG59XG5cbkdpdEhvc3QucHJvdG90eXBlLmdpdCA9IGZ1bmN0aW9uIChvcHRzKSB7XG4gIHJldHVybiB0aGlzLl9maWxsKHRoaXMuZ2l0dGVtcGxhdGUsIG9wdHMpXG59XG5cbkdpdEhvc3QucHJvdG90eXBlLnNob3J0Y3V0ID0gZnVuY3Rpb24gKG9wdHMpIHtcbiAgcmV0dXJuIHRoaXMuX2ZpbGwodGhpcy5zaG9ydGN1dHRlbXBsYXRlLCBvcHRzKVxufVxuXG5HaXRIb3N0LnByb3RvdHlwZS5wYXRoID0gZnVuY3Rpb24gKG9wdHMpIHtcbiAgcmV0dXJuIHRoaXMuX2ZpbGwodGhpcy5wYXRodGVtcGxhdGUsIG9wdHMpXG59XG5cbkdpdEhvc3QucHJvdG90eXBlLnRhcmJhbGwgPSBmdW5jdGlvbiAob3B0c18pIHtcbiAgdmFyIG9wdHMgPSBleHRlbmQoe30sIG9wdHNfLCB7IG5vQ29tbWl0dGlzaDogZmFsc2UgfSlcbiAgcmV0dXJuIHRoaXMuX2ZpbGwodGhpcy50YXJiYWxsdGVtcGxhdGUsIG9wdHMpXG59XG5cbkdpdEhvc3QucHJvdG90eXBlLmZpbGUgPSBmdW5jdGlvbiAoUCwgb3B0cykge1xuICByZXR1cm4gdGhpcy5fZmlsbCh0aGlzLmZpbGV0ZW1wbGF0ZSwgZXh0ZW5kKHsgcGF0aDogUCB9LCBvcHRzKSlcbn1cblxuR2l0SG9zdC5wcm90b3R5cGUuZ2V0RGVmYXVsdFJlcHJlc2VudGF0aW9uID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5kZWZhdWx0XG59XG5cbkdpdEhvc3QucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKG9wdHMpIHtcbiAgaWYgKHRoaXMuZGVmYXVsdCAmJiB0eXBlb2YgdGhpc1t0aGlzLmRlZmF1bHRdID09PSAnZnVuY3Rpb24nKSByZXR1cm4gdGhpc1t0aGlzLmRlZmF1bHRdKG9wdHMpXG4gIHJldHVybiB0aGlzLnNzaHVybChvcHRzKVxufVxuIiwgIid1c2Ugc3RyaWN0J1xudmFyIHVybCA9IHJlcXVpcmUoJ3VybCcpXG52YXIgZ2l0SG9zdHMgPSByZXF1aXJlKCcuL2dpdC1ob3N0LWluZm8uanMnKVxudmFyIEdpdEhvc3QgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vZ2l0LWhvc3QuanMnKVxuXG52YXIgcHJvdG9jb2xUb1JlcHJlc2VudGF0aW9uTWFwID0ge1xuICAnZ2l0K3NzaDonOiAnc3NodXJsJyxcbiAgJ2dpdCtodHRwczonOiAnaHR0cHMnLFxuICAnc3NoOic6ICdzc2h1cmwnLFxuICAnZ2l0Oic6ICdnaXQnXG59XG5cbmZ1bmN0aW9uIHByb3RvY29sVG9SZXByZXNlbnRhdGlvbiAocHJvdG9jb2wpIHtcbiAgcmV0dXJuIHByb3RvY29sVG9SZXByZXNlbnRhdGlvbk1hcFtwcm90b2NvbF0gfHwgcHJvdG9jb2wuc2xpY2UoMCwgLTEpXG59XG5cbnZhciBhdXRoUHJvdG9jb2xzID0ge1xuICAnZ2l0Oic6IHRydWUsXG4gICdodHRwczonOiB0cnVlLFxuICAnZ2l0K2h0dHBzOic6IHRydWUsXG4gICdodHRwOic6IHRydWUsXG4gICdnaXQraHR0cDonOiB0cnVlXG59XG5cbnZhciBjYWNoZSA9IHt9XG5cbm1vZHVsZS5leHBvcnRzLmZyb21VcmwgPSBmdW5jdGlvbiAoZ2l0dXJsLCBvcHRzKSB7XG4gIGlmICh0eXBlb2YgZ2l0dXJsICE9PSAnc3RyaW5nJykgcmV0dXJuXG4gIHZhciBrZXkgPSBnaXR1cmwgKyBKU09OLnN0cmluZ2lmeShvcHRzIHx8IHt9KVxuXG4gIGlmICghKGtleSBpbiBjYWNoZSkpIHtcbiAgICBjYWNoZVtrZXldID0gZnJvbVVybChnaXR1cmwsIG9wdHMpXG4gIH1cblxuICByZXR1cm4gY2FjaGVba2V5XVxufVxuXG5mdW5jdGlvbiBmcm9tVXJsIChnaXR1cmwsIG9wdHMpIHtcbiAgaWYgKGdpdHVybCA9PSBudWxsIHx8IGdpdHVybCA9PT0gJycpIHJldHVyblxuICB2YXIgdXJsID0gZml4dXBVbnF1YWxpZmllZEdpc3QoXG4gICAgaXNHaXRIdWJTaG9ydGhhbmQoZ2l0dXJsKSA/ICdnaXRodWI6JyArIGdpdHVybCA6IGdpdHVybFxuICApXG4gIHZhciBwYXJzZWQgPSBwYXJzZUdpdFVybCh1cmwpXG4gIHZhciBzaG9ydGN1dE1hdGNoID0gdXJsLm1hdGNoKC9eKFteOl0rKTooPzpbXkBdK0ApPyg/OihbXi9dKilcXC8pPyhbXiNdKykvKVxuICB2YXIgbWF0Y2hlcyA9IE9iamVjdC5rZXlzKGdpdEhvc3RzKS5tYXAoZnVuY3Rpb24gKGdpdEhvc3ROYW1lKSB7XG4gICAgdHJ5IHtcbiAgICAgIHZhciBnaXRIb3N0SW5mbyA9IGdpdEhvc3RzW2dpdEhvc3ROYW1lXVxuICAgICAgdmFyIGF1dGggPSBudWxsXG4gICAgICBpZiAocGFyc2VkLmF1dGggJiYgYXV0aFByb3RvY29sc1twYXJzZWQucHJvdG9jb2xdKSB7XG4gICAgICAgIGF1dGggPSBwYXJzZWQuYXV0aFxuICAgICAgfVxuICAgICAgdmFyIGNvbW1pdHRpc2ggPSBwYXJzZWQuaGFzaCA/IGRlY29kZVVSSUNvbXBvbmVudChwYXJzZWQuaGFzaC5zdWJzdHIoMSkpIDogbnVsbFxuICAgICAgdmFyIHVzZXIgPSBudWxsXG4gICAgICB2YXIgcHJvamVjdCA9IG51bGxcbiAgICAgIHZhciBkZWZhdWx0UmVwcmVzZW50YXRpb24gPSBudWxsXG4gICAgICBpZiAoc2hvcnRjdXRNYXRjaCAmJiBzaG9ydGN1dE1hdGNoWzFdID09PSBnaXRIb3N0TmFtZSkge1xuICAgICAgICB1c2VyID0gc2hvcnRjdXRNYXRjaFsyXSAmJiBkZWNvZGVVUklDb21wb25lbnQoc2hvcnRjdXRNYXRjaFsyXSlcbiAgICAgICAgcHJvamVjdCA9IGRlY29kZVVSSUNvbXBvbmVudChzaG9ydGN1dE1hdGNoWzNdLnJlcGxhY2UoL1xcLmdpdCQvLCAnJykpXG4gICAgICAgIGRlZmF1bHRSZXByZXNlbnRhdGlvbiA9ICdzaG9ydGN1dCdcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChwYXJzZWQuaG9zdCAmJiBwYXJzZWQuaG9zdCAhPT0gZ2l0SG9zdEluZm8uZG9tYWluICYmIHBhcnNlZC5ob3N0LnJlcGxhY2UoL153d3dbLl0vLCAnJykgIT09IGdpdEhvc3RJbmZvLmRvbWFpbikgcmV0dXJuXG4gICAgICAgIGlmICghZ2l0SG9zdEluZm8ucHJvdG9jb2xzX3JlLnRlc3QocGFyc2VkLnByb3RvY29sKSkgcmV0dXJuXG4gICAgICAgIGlmICghcGFyc2VkLnBhdGgpIHJldHVyblxuICAgICAgICB2YXIgcGF0aG1hdGNoID0gZ2l0SG9zdEluZm8ucGF0aG1hdGNoXG4gICAgICAgIHZhciBtYXRjaGVkID0gcGFyc2VkLnBhdGgubWF0Y2gocGF0aG1hdGNoKVxuICAgICAgICBpZiAoIW1hdGNoZWQpIHJldHVyblxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICBpZiAobWF0Y2hlZFsxXSAhPT0gbnVsbCAmJiBtYXRjaGVkWzFdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB1c2VyID0gZGVjb2RlVVJJQ29tcG9uZW50KG1hdGNoZWRbMV0ucmVwbGFjZSgvXjovLCAnJykpXG4gICAgICAgIH1cbiAgICAgICAgcHJvamVjdCA9IGRlY29kZVVSSUNvbXBvbmVudChtYXRjaGVkWzJdKVxuICAgICAgICBkZWZhdWx0UmVwcmVzZW50YXRpb24gPSBwcm90b2NvbFRvUmVwcmVzZW50YXRpb24ocGFyc2VkLnByb3RvY29sKVxuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyBHaXRIb3N0KGdpdEhvc3ROYW1lLCB1c2VyLCBhdXRoLCBwcm9qZWN0LCBjb21taXR0aXNoLCBkZWZhdWx0UmVwcmVzZW50YXRpb24sIG9wdHMpXG4gICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICBpZiAoZXggaW5zdGFuY2VvZiBVUklFcnJvcikge1xuICAgICAgfSBlbHNlIHRocm93IGV4XG4gICAgfVxuICB9KS5maWx0ZXIoZnVuY3Rpb24gKGdpdEhvc3RJbmZvKSB7IHJldHVybiBnaXRIb3N0SW5mbyB9KVxuICBpZiAobWF0Y2hlcy5sZW5ndGggIT09IDEpIHJldHVyblxuICByZXR1cm4gbWF0Y2hlc1swXVxufVxuXG5mdW5jdGlvbiBpc0dpdEh1YlNob3J0aGFuZCAoYXJnKSB7XG4gIC8vIE5vdGU6IFRoaXMgZG9lcyBub3QgZnVsbHkgdGVzdCB0aGUgZ2l0IHJlZiBmb3JtYXQuXG4gIC8vIFNlZSBodHRwczovL3d3dy5rZXJuZWwub3JnL3B1Yi9zb2Z0d2FyZS9zY20vZ2l0L2RvY3MvZ2l0LWNoZWNrLXJlZi1mb3JtYXQuaHRtbFxuICAvL1xuICAvLyBUaGUgb25seSB3YXkgdG8gZG8gdGhpcyBwcm9wZXJseSB3b3VsZCBiZSB0byBzaGVsbCBvdXQgdG9cbiAgLy8gZ2l0LWNoZWNrLXJlZi1mb3JtYXQsIGFuZCBhcyB0aGlzIGlzIGEgZmFzdCBzeW5jIGZ1bmN0aW9uLFxuICAvLyB3ZSBkb24ndCB3YW50IHRvIGRvIHRoYXQuICBKdXN0IGxldCBnaXQgZmFpbCBpZiBpdCB0dXJuc1xuICAvLyBvdXQgdGhhdCB0aGUgY29tbWl0LWlzaCBpcyBpbnZhbGlkLlxuICAvLyBHSCB1c2VybmFtZXMgY2Fubm90IHN0YXJ0IHdpdGggLiBvciAtXG4gIHJldHVybiAvXlteOkAlL1xccy4tXVteOkAlL1xcc10qWy9dW146QFxccy8lXSsoPzojLiopPyQvLnRlc3QoYXJnKVxufVxuXG5mdW5jdGlvbiBmaXh1cFVucXVhbGlmaWVkR2lzdCAoZ2l0dXJsKSB7XG4gIC8vIG5lY2Vzc2FyeSBmb3Igcm91bmQtdHJpcHBpbmcgZ2lzdHNcbiAgdmFyIHBhcnNlZCA9IHVybC5wYXJzZShnaXR1cmwpXG4gIGlmIChwYXJzZWQucHJvdG9jb2wgPT09ICdnaXN0OicgJiYgcGFyc2VkLmhvc3QgJiYgIXBhcnNlZC5wYXRoKSB7XG4gICAgcmV0dXJuIHBhcnNlZC5wcm90b2NvbCArICcvJyArIHBhcnNlZC5ob3N0XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGdpdHVybFxuICB9XG59XG5cbmZ1bmN0aW9uIHBhcnNlR2l0VXJsIChnaXR1cmwpIHtcbiAgdmFyIG1hdGNoZWQgPSBnaXR1cmwubWF0Y2goL14oW15AXSspQChbXjovXSspOlsvXT8oKD86W14vXStbL10pP1teL10rPykoPzpbLl1naXQpPygjLiopPyQvKVxuICBpZiAoIW1hdGNoZWQpIHtcbiAgICB2YXIgbGVnYWN5ID0gdXJsLnBhcnNlKGdpdHVybClcbiAgICAvLyBJZiB3ZSBkb24ndCBoYXZlIHVybC5VUkwsIHRoZW4gc29ycnksIHRoaXMgaXMganVzdCBub3QgZml4YWJsZS5cbiAgICAvLyBUaGlzIGFmZmVjdHMgTm9kZSA8PSA2LjEyLlxuICAgIGlmIChsZWdhY3kuYXV0aCAmJiB0eXBlb2YgdXJsLlVSTCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgLy8gZ2l0IHVybHMgY2FuIGJlIGluIHRoZSBmb3JtIG9mIHNjcC1zdHlsZS9zc2gtY29ubmVjdCBzdHJpbmdzLCBsaWtlXG4gICAgICAvLyBnaXQrc3NoOi8vdXNlckBob3N0LmNvbTpzb21lL3BhdGgsIHdoaWNoIHRoZSBsZWdhY3kgdXJsIHBhcnNlclxuICAgICAgLy8gc3VwcG9ydHMsIGJ1dCBXaGF0V0cgdXJsLlVSTCBjbGFzcyBkb2VzIG5vdC4gIEhvd2V2ZXIsIHRoZSBsZWdhY3lcbiAgICAgIC8vIHBhcnNlciBkZS11cmxlbmNvZGVzIHRoZSB1c2VybmFtZSBhbmQgcGFzc3dvcmQsIHNvIHNvbWV0aGluZyBsaWtlXG4gICAgICAvLyBodHRwczovL3VzZXIlM0FuJTQwbWU6cCU0MHNzJTNBd29yZEB4LmNvbS8gYmVjb21lc1xuICAgICAgLy8gaHR0cHM6Ly91c2VyOm5AbWU6cEBzczp3b3JkQHguY29tLyB3aGljaCBpcyBhbGwga2luZHMgb2Ygd3JvbmcuXG4gICAgICAvLyBQdWxsIG9mZiBqdXN0IHRoZSBhdXRoIGFuZCBob3N0LCBzbyB3ZSBkb250JyBnZXQgdGhlIGNvbmZ1c2luZ1xuICAgICAgLy8gc2NwLXN0eWxlIFVSTCwgdGhlbiBwYXNzIHRoYXQgdG8gdGhlIFdoYXRXRyBwYXJzZXIgdG8gZ2V0IHRoZVxuICAgICAgLy8gYXV0aCBwcm9wZXJseSBlc2NhcGVkLlxuICAgICAgdmFyIGF1dGhtYXRjaCA9IGdpdHVybC5tYXRjaCgvW15AXStAW146L10rLylcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlIC0gdGhpcyBzaG91bGQgYmUgaW1wb3NzaWJsZSAqL1xuICAgICAgaWYgKGF1dGhtYXRjaCkge1xuICAgICAgICB2YXIgd2hhdHdnID0gbmV3IHVybC5VUkwoYXV0aG1hdGNoWzBdKVxuICAgICAgICBsZWdhY3kuYXV0aCA9IHdoYXR3Zy51c2VybmFtZSB8fCAnJ1xuICAgICAgICBpZiAod2hhdHdnLnBhc3N3b3JkKSBsZWdhY3kuYXV0aCArPSAnOicgKyB3aGF0d2cucGFzc3dvcmRcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGxlZ2FjeVxuICB9XG4gIHJldHVybiB7XG4gICAgcHJvdG9jb2w6ICdnaXQrc3NoOicsXG4gICAgc2xhc2hlczogdHJ1ZSxcbiAgICBhdXRoOiBtYXRjaGVkWzFdLFxuICAgIGhvc3Q6IG1hdGNoZWRbMl0sXG4gICAgcG9ydDogbnVsbCxcbiAgICBob3N0bmFtZTogbWF0Y2hlZFsyXSxcbiAgICBoYXNoOiBtYXRjaGVkWzRdLFxuICAgIHNlYXJjaDogbnVsbCxcbiAgICBxdWVyeTogbnVsbCxcbiAgICBwYXRobmFtZTogJy8nICsgbWF0Y2hlZFszXSxcbiAgICBwYXRoOiAnLycgKyBtYXRjaGVkWzNdLFxuICAgIGhyZWY6ICdnaXQrc3NoOi8vJyArIG1hdGNoZWRbMV0gKyAnQCcgKyBtYXRjaGVkWzJdICtcbiAgICAgICAgICAnLycgKyBtYXRjaGVkWzNdICsgKG1hdGNoZWRbNF0gfHwgJycpXG4gIH1cbn1cbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciBvcyA9IHJlcXVpcmUoJ29zJyk7XG5cbi8vIGFkYXB0ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vc2luZHJlc29yaHVzL29zLWhvbWVkaXIvYmxvYi8xMWUwODlmNDc1NGRiMzhiYjUzNWU1YTg0MTYzMjBjNDQ0NmU4Y2ZkL2luZGV4LmpzXG5cbm1vZHVsZS5leHBvcnRzID0gb3MuaG9tZWRpciB8fCBmdW5jdGlvbiBob21lZGlyKCkge1xuICAgIHZhciBob21lID0gcHJvY2Vzcy5lbnYuSE9NRTtcbiAgICB2YXIgdXNlciA9IHByb2Nlc3MuZW52LkxPR05BTUUgfHwgcHJvY2Vzcy5lbnYuVVNFUiB8fCBwcm9jZXNzLmVudi5MTkFNRSB8fCBwcm9jZXNzLmVudi5VU0VSTkFNRTtcblxuICAgIGlmIChwcm9jZXNzLnBsYXRmb3JtID09PSAnd2luMzInKSB7XG4gICAgICAgIHJldHVybiBwcm9jZXNzLmVudi5VU0VSUFJPRklMRSB8fCBwcm9jZXNzLmVudi5IT01FRFJJVkUgKyBwcm9jZXNzLmVudi5IT01FUEFUSCB8fCBob21lIHx8IG51bGw7XG4gICAgfVxuXG4gICAgaWYgKHByb2Nlc3MucGxhdGZvcm0gPT09ICdkYXJ3aW4nKSB7XG4gICAgICAgIHJldHVybiBob21lIHx8ICh1c2VyID8gJy9Vc2Vycy8nICsgdXNlciA6IG51bGwpO1xuICAgIH1cblxuICAgIGlmIChwcm9jZXNzLnBsYXRmb3JtID09PSAnbGludXgnKSB7XG4gICAgICAgIHJldHVybiBob21lIHx8IChwcm9jZXNzLmdldHVpZCgpID09PSAwID8gJy9yb290JyA6ICh1c2VyID8gJy9ob21lLycgKyB1c2VyIDogbnVsbCkpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWV4dHJhLXBhcmVuc1xuICAgIH1cblxuICAgIHJldHVybiBob21lIHx8IG51bGw7XG59O1xuIiwgIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIHNlZSBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL3Y4L3dpa2kvSmF2YVNjcmlwdFN0YWNrVHJhY2VBcGlcbiAgICB2YXIgb3JpZ1ByZXBhcmVTdGFja1RyYWNlID0gRXJyb3IucHJlcGFyZVN0YWNrVHJhY2U7XG4gICAgRXJyb3IucHJlcGFyZVN0YWNrVHJhY2UgPSBmdW5jdGlvbiAoXywgc3RhY2spIHsgcmV0dXJuIHN0YWNrOyB9O1xuICAgIHZhciBzdGFjayA9IChuZXcgRXJyb3IoKSkuc3RhY2s7XG4gICAgRXJyb3IucHJlcGFyZVN0YWNrVHJhY2UgPSBvcmlnUHJlcGFyZVN0YWNrVHJhY2U7XG4gICAgcmV0dXJuIHN0YWNrWzJdLmdldEZpbGVOYW1lKCk7XG59O1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIGlzV2luZG93cyA9IHByb2Nlc3MucGxhdGZvcm0gPT09ICd3aW4zMic7XG5cbi8vIFJlZ2V4IHRvIHNwbGl0IGEgd2luZG93cyBwYXRoIGludG8gaW50byBbZGlyLCByb290LCBiYXNlbmFtZSwgbmFtZSwgZXh0XVxudmFyIHNwbGl0V2luZG93c1JlID1cbiAgICAvXigoKD86W2EtekEtWl06fFtcXFxcXFwvXXsyfVteXFxcXFxcL10rW1xcXFxcXC9dK1teXFxcXFxcL10rKT9bXFxcXFxcL10/KSg/OlteXFxcXFxcL10qW1xcXFxcXC9dKSopKChcXC57MSwyfXxbXlxcXFxcXC9dKz98KShcXC5bXi5cXC9cXFxcXSp8KSlbXFxcXFxcL10qJC87XG5cbnZhciB3aW4zMiA9IHt9O1xuXG5mdW5jdGlvbiB3aW4zMlNwbGl0UGF0aChmaWxlbmFtZSkge1xuICByZXR1cm4gc3BsaXRXaW5kb3dzUmUuZXhlYyhmaWxlbmFtZSkuc2xpY2UoMSk7XG59XG5cbndpbjMyLnBhcnNlID0gZnVuY3Rpb24ocGF0aFN0cmluZykge1xuICBpZiAodHlwZW9mIHBhdGhTdHJpbmcgIT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICAgXCJQYXJhbWV0ZXIgJ3BhdGhTdHJpbmcnIG11c3QgYmUgYSBzdHJpbmcsIG5vdCBcIiArIHR5cGVvZiBwYXRoU3RyaW5nXG4gICAgKTtcbiAgfVxuICB2YXIgYWxsUGFydHMgPSB3aW4zMlNwbGl0UGF0aChwYXRoU3RyaW5nKTtcbiAgaWYgKCFhbGxQYXJ0cyB8fCBhbGxQYXJ0cy5sZW5ndGggIT09IDUpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBwYXRoICdcIiArIHBhdGhTdHJpbmcgKyBcIidcIik7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICByb290OiBhbGxQYXJ0c1sxXSxcbiAgICBkaXI6IGFsbFBhcnRzWzBdID09PSBhbGxQYXJ0c1sxXSA/IGFsbFBhcnRzWzBdIDogYWxsUGFydHNbMF0uc2xpY2UoMCwgLTEpLFxuICAgIGJhc2U6IGFsbFBhcnRzWzJdLFxuICAgIGV4dDogYWxsUGFydHNbNF0sXG4gICAgbmFtZTogYWxsUGFydHNbM11cbiAgfTtcbn07XG5cblxuXG4vLyBTcGxpdCBhIGZpbGVuYW1lIGludG8gW2Rpciwgcm9vdCwgYmFzZW5hbWUsIG5hbWUsIGV4dF0sIHVuaXggdmVyc2lvblxuLy8gJ3Jvb3QnIGlzIGp1c3QgYSBzbGFzaCwgb3Igbm90aGluZy5cbnZhciBzcGxpdFBhdGhSZSA9XG4gICAgL14oKFxcLz8pKD86W15cXC9dKlxcLykqKSgoXFwuezEsMn18W15cXC9dKz98KShcXC5bXi5cXC9dKnwpKVtcXC9dKiQvO1xudmFyIHBvc2l4ID0ge307XG5cblxuZnVuY3Rpb24gcG9zaXhTcGxpdFBhdGgoZmlsZW5hbWUpIHtcbiAgcmV0dXJuIHNwbGl0UGF0aFJlLmV4ZWMoZmlsZW5hbWUpLnNsaWNlKDEpO1xufVxuXG5cbnBvc2l4LnBhcnNlID0gZnVuY3Rpb24ocGF0aFN0cmluZykge1xuICBpZiAodHlwZW9mIHBhdGhTdHJpbmcgIT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICAgXCJQYXJhbWV0ZXIgJ3BhdGhTdHJpbmcnIG11c3QgYmUgYSBzdHJpbmcsIG5vdCBcIiArIHR5cGVvZiBwYXRoU3RyaW5nXG4gICAgKTtcbiAgfVxuICB2YXIgYWxsUGFydHMgPSBwb3NpeFNwbGl0UGF0aChwYXRoU3RyaW5nKTtcbiAgaWYgKCFhbGxQYXJ0cyB8fCBhbGxQYXJ0cy5sZW5ndGggIT09IDUpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBwYXRoICdcIiArIHBhdGhTdHJpbmcgKyBcIidcIik7XG4gIH1cbiAgXG4gIHJldHVybiB7XG4gICAgcm9vdDogYWxsUGFydHNbMV0sXG4gICAgZGlyOiBhbGxQYXJ0c1swXS5zbGljZSgwLCAtMSksXG4gICAgYmFzZTogYWxsUGFydHNbMl0sXG4gICAgZXh0OiBhbGxQYXJ0c1s0XSxcbiAgICBuYW1lOiBhbGxQYXJ0c1szXSxcbiAgfTtcbn07XG5cblxuaWYgKGlzV2luZG93cylcbiAgbW9kdWxlLmV4cG9ydHMgPSB3aW4zMi5wYXJzZTtcbmVsc2UgLyogcG9zaXggKi9cbiAgbW9kdWxlLmV4cG9ydHMgPSBwb3NpeC5wYXJzZTtcblxubW9kdWxlLmV4cG9ydHMucG9zaXggPSBwb3NpeC5wYXJzZTtcbm1vZHVsZS5leHBvcnRzLndpbjMyID0gd2luMzIucGFyc2U7XG4iLCAidmFyIHBhdGggPSByZXF1aXJlKCdwYXRoJyk7XG52YXIgcGFyc2UgPSBwYXRoLnBhcnNlIHx8IHJlcXVpcmUoJ3BhdGgtcGFyc2UnKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBnbG9iYWwtcmVxdWlyZVxuXG52YXIgZ2V0Tm9kZU1vZHVsZXNEaXJzID0gZnVuY3Rpb24gZ2V0Tm9kZU1vZHVsZXNEaXJzKGFic29sdXRlU3RhcnQsIG1vZHVsZXMpIHtcbiAgICB2YXIgcHJlZml4ID0gJy8nO1xuICAgIGlmICgoL14oW0EtWmEtel06KS8pLnRlc3QoYWJzb2x1dGVTdGFydCkpIHtcbiAgICAgICAgcHJlZml4ID0gJyc7XG4gICAgfSBlbHNlIGlmICgoL15cXFxcXFxcXC8pLnRlc3QoYWJzb2x1dGVTdGFydCkpIHtcbiAgICAgICAgcHJlZml4ID0gJ1xcXFxcXFxcJztcbiAgICB9XG5cbiAgICB2YXIgcGF0aHMgPSBbYWJzb2x1dGVTdGFydF07XG4gICAgdmFyIHBhcnNlZCA9IHBhcnNlKGFic29sdXRlU3RhcnQpO1xuICAgIHdoaWxlIChwYXJzZWQuZGlyICE9PSBwYXRoc1twYXRocy5sZW5ndGggLSAxXSkge1xuICAgICAgICBwYXRocy5wdXNoKHBhcnNlZC5kaXIpO1xuICAgICAgICBwYXJzZWQgPSBwYXJzZShwYXJzZWQuZGlyKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGF0aHMucmVkdWNlKGZ1bmN0aW9uIChkaXJzLCBhUGF0aCkge1xuICAgICAgICByZXR1cm4gZGlycy5jb25jYXQobW9kdWxlcy5tYXAoZnVuY3Rpb24gKG1vZHVsZURpcikge1xuICAgICAgICAgICAgcmV0dXJuIHBhdGgucmVzb2x2ZShwcmVmaXgsIGFQYXRoLCBtb2R1bGVEaXIpO1xuICAgICAgICB9KSk7XG4gICAgfSwgW10pO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBub2RlTW9kdWxlc1BhdGhzKHN0YXJ0LCBvcHRzLCByZXF1ZXN0KSB7XG4gICAgdmFyIG1vZHVsZXMgPSBvcHRzICYmIG9wdHMubW9kdWxlRGlyZWN0b3J5XG4gICAgICAgID8gW10uY29uY2F0KG9wdHMubW9kdWxlRGlyZWN0b3J5KVxuICAgICAgICA6IFsnbm9kZV9tb2R1bGVzJ107XG5cbiAgICBpZiAob3B0cyAmJiB0eXBlb2Ygb3B0cy5wYXRocyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gb3B0cy5wYXRocyhcbiAgICAgICAgICAgIHJlcXVlc3QsXG4gICAgICAgICAgICBzdGFydCxcbiAgICAgICAgICAgIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGdldE5vZGVNb2R1bGVzRGlycyhzdGFydCwgbW9kdWxlcyk7IH0sXG4gICAgICAgICAgICBvcHRzXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgdmFyIGRpcnMgPSBnZXROb2RlTW9kdWxlc0RpcnMoc3RhcnQsIG1vZHVsZXMpO1xuICAgIHJldHVybiBvcHRzICYmIG9wdHMucGF0aHMgPyBkaXJzLmNvbmNhdChvcHRzLnBhdGhzKSA6IGRpcnM7XG59O1xuIiwgIi8vIEluZm86IHRoaXMgZmlsZSBoYXMgYmVlbiBnZW5lcmF0ZWQgYnkgWWFybiB3aXRoIHRoZSBhcHByb3ZhbCBvZiB0aGVcbi8vIGByZXNvbHZlYCBtYWludGFpbmVycy4gQnVncyBjYXVzZWQgYnkgYSBjb2RlIGxvY2F0ZWQgaGVyZSBzaG91bGQgYmVcbi8vIG9wZW5lZCBhZ2FpbnN0IHRoZSBZYXJuIHJlcG9zaXRvcnkuXG5cbmNvbnN0IHBhdGggPSByZXF1aXJlKGBwYXRoYCk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKF8sIG9wdHMpIHtcbiAgb3B0cyA9IG9wdHMgfHwge307XG5cbiAgaWYgKG9wdHMuZm9yY2VOb2RlUmVzb2x1dGlvbiB8fCAhcHJvY2Vzcy52ZXJzaW9ucy5wbnApXG4gICAgcmV0dXJuIG9wdHM7XG5cbiAgLy8gSXQgd291bGQgYmUgbmljZSBpZiB3ZSBjb3VsZCB0aHJvdywgYnV0IHRoYXQgd291bGQgYnJlYWsgdGhlIHRyYW5zcGFyZW50XG4gIC8vIGNvbXBhdGliaWxpdHkgd2l0aCBwYWNrYWdlcyB0aGF0IHVzZSBgcmVzb2x2ZWAgdG9kYXkgKHN1Y2ggYXMgR3VscCkuIFNpbmNlXG4gIC8vIGl0J3MgdGhlIHdob2xlIHBvaW50IG9mIHRoaXMgcGF0Y2gsIHdlIGRvbid0LlxuICAvL1xuICAvLyBpZiAob3B0cy5wYWNrYWdlSXRlcmF0b3IgfHwgb3B0cy5wYXRocylcbiAgLy8gICB0aHJvdyBuZXcgRXJyb3IoYFRoZSBcInBhY2thZ2VJdGVyYXRvclwiIGFuZCBcInBhdGhzXCIgb3B0aW9ucyBjYW5ub3QgYmUgdXNlZCBpbiBQblAgZW52aXJvbm1lbnRzLiBTZXQgXCJmb3JjZU5vZGVSZXNvbHV0aW9uOiB0cnVlXCIgaWYgYWJzb2x1dGVseSBuZWVkZWQsIG9yIGJyYW5jaCBvbiBwcm9jZXNzLnZlcnNpb25zLnBucCBvdGhlcndpc2UuYCk7XG5cbiAgY29uc3Qge2ZpbmRQbnBBcGl9ID0gcmVxdWlyZShgbW9kdWxlYCk7XG5cbiAgY29uc3QgcnVuUG5wUmVzb2x1dGlvbiA9IChyZXF1ZXN0LCBiYXNlZGlyKSA9PiB7XG4gICAgLy8gRXh0cmFjdCB0aGUgbmFtZSBvZiB0aGUgcGFja2FnZSBiZWluZyByZXF1ZXN0ZWQgKDE9cGFja2FnZSBuYW1lLCAyPWludGVybmFsIHBhdGgpXG4gICAgY29uc3QgcGFydHMgPSByZXF1ZXN0Lm1hdGNoKC9eKCg/OkBbXi9dK1xcLyk/W14vXSspKFxcLy4qKT8vKTtcbiAgICBpZiAoIXBhcnRzKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBBc3NlcnRpb24gZmFpbGVkOiBFeHBlY3RlZCB0aGUgXCJyZXNvbHZlXCIgcGFja2FnZSB0byBjYWxsIHRoZSBcInBhdGhzXCIgY2FsbGJhY2sgd2l0aCBwYWNrYWdlIG5hbWVzIG9ubHkgKGdvdCBcIiR7cmVxdWVzdH1cIilgKTtcblxuICAgIC8vIE1ha2Ugc3VyZSB0aGF0IGJhc2VkaXIgZW5kcyB3aXRoIGEgc2xhc2hcbiAgICBpZiAoYmFzZWRpci5jaGFyQXQoYmFzZWRpci5sZW5ndGggLSAxKSAhPT0gYC9gKVxuICAgICAgYmFzZWRpciA9IHBhdGguam9pbihiYXNlZGlyLCBgL2ApO1xuXG4gICAgY29uc3QgYXBpID0gZmluZFBucEFwaShiYXNlZGlyKTtcbiAgICBpZiAoYXBpID09PSBudWxsKVxuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcblxuICAgIC8vIFRoaXMgaXMgZ3VhcmFudGVlZCB0byByZXR1cm4gdGhlIHBhdGggdG8gdGhlIFwicGFja2FnZS5qc29uXCIgZmlsZSBmcm9tIHRoZSBnaXZlbiBwYWNrYWdlXG4gICAgbGV0IG1hbmlmZXN0UGF0aDtcbiAgICB0cnkge1xuICAgICAgbWFuaWZlc3RQYXRoID0gYXBpLnJlc29sdmVUb1VucXVhbGlmaWVkKGAke3BhcnRzWzFdfS9wYWNrYWdlLmpzb25gLCBiYXNlZGlyLCB7Y29uc2lkZXJCdWlsdGluczogZmFsc2V9KTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGlmIChtYW5pZmVzdFBhdGggPT09IG51bGwpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEFzc2VydGlvbiBmYWlsZWQ6IFRoZSByZXNvbHV0aW9uIHRoaW5rcyB0aGF0IFwiJHtwYXJ0c1sxXX1cIiBpcyBhIE5vZGUgYnVpbHRpbmApO1xuXG4gICAgLy8gU3RyaXAgdGhlIHBhY2thZ2UuanNvbiB0byBnZXQgdGhlIHBhY2thZ2UgZm9sZGVyXG4gICAgY29uc3QgcGFja2FnZVBhdGggPSBwYXRoLmRpcm5hbWUobWFuaWZlc3RQYXRoKTtcblxuICAgIC8vIEF0dGFjaCB0aGUgaW50ZXJuYWwgcGF0aCB0byB0aGUgcmVzb2x2ZWQgcGFja2FnZSBkaXJlY3RvcnlcbiAgICBjb25zdCB1bnF1YWxpZmllZFBhdGggPSB0eXBlb2YgcGFydHNbMl0gIT09IGB1bmRlZmluZWRgXG4gICAgICA/IHBhdGguam9pbihwYWNrYWdlUGF0aCwgcGFydHNbMl0pXG4gICAgICA6IHBhY2thZ2VQYXRoO1xuXG4gICAgcmV0dXJuIHtwYWNrYWdlUGF0aCwgdW5xdWFsaWZpZWRQYXRofTtcbiAgfTtcblxuICBjb25zdCBydW5QbnBSZXNvbHV0aW9uT25BcnJheSA9IChyZXF1ZXN0LCBwYXRocykgPT4ge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGF0aHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHJlc29sdXRpb24gPSBydW5QbnBSZXNvbHV0aW9uKHJlcXVlc3QsIHBhdGhzW2ldKTtcbiAgICAgIGlmIChyZXNvbHV0aW9uIHx8IGkgPT09IHBhdGhzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgcmV0dXJuIHJlc29sdXRpb247XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgY29uc3Qgb3JpZ2luYWxQYXRocyA9IEFycmF5LmlzQXJyYXkob3B0cy5wYXRocykgPyBvcHRzLnBhdGhzIDogW107XG5cbiAgY29uc3QgcGFja2FnZUl0ZXJhdG9yID0gKHJlcXVlc3QsIGJhc2VkaXIsIGdldENhbmRpZGF0ZXMsIG9wdHMpID0+IHtcbiAgICBjb25zdCBwYXRoc1RvVGVzdCA9IFtiYXNlZGlyXS5jb25jYXQob3JpZ2luYWxQYXRocyk7XG4gICAgY29uc3QgcmVzb2x1dGlvbiA9IHJ1blBucFJlc29sdXRpb25PbkFycmF5KHJlcXVlc3QsIHBhdGhzVG9UZXN0KTtcbiAgICBpZiAocmVzb2x1dGlvbiA9PSBudWxsKVxuICAgICAgcmV0dXJuIGdldENhbmRpZGF0ZXMoKTtcblxuICAgIHJldHVybiBbcmVzb2x1dGlvbi51bnF1YWxpZmllZFBhdGhdO1xuICB9O1xuXG4gIGNvbnN0IHBhdGhzID0gKHJlcXVlc3QsIGJhc2VkaXIsIGdldE5vZGVNb2R1bGVQYXRocywgb3B0cykgPT4ge1xuICAgIGNvbnN0IHBhdGhzVG9UZXN0ID0gW2Jhc2VkaXJdLmNvbmNhdChvcmlnaW5hbFBhdGhzKTtcbiAgICBjb25zdCByZXNvbHV0aW9uID0gcnVuUG5wUmVzb2x1dGlvbk9uQXJyYXkocmVxdWVzdCwgcGF0aHNUb1Rlc3QpO1xuICAgIGlmIChyZXNvbHV0aW9uID09IG51bGwpXG4gICAgICByZXR1cm4gZ2V0Tm9kZU1vZHVsZVBhdGhzKCkuY29uY2F0KG9yaWdpbmFsUGF0aHMpO1xuXG4gICAgLy8gU3RpcCB0aGUgbG9jYWwgbmFtZWQgZm9sZGVyXG4gICAgbGV0IG5vZGVNb2R1bGVzID0gcGF0aC5kaXJuYW1lKHJlc29sdXRpb24ucGFja2FnZVBhdGgpO1xuXG4gICAgLy8gU3RyaXAgdGhlIHNjb3BlIG5hbWVkIGZvbGRlciBpZiBuZWVkZWRcbiAgICBpZiAocmVxdWVzdC5tYXRjaCgvXkBbXi9dK1xcLy8pKVxuICAgICAgbm9kZU1vZHVsZXMgPSBwYXRoLmRpcm5hbWUobm9kZU1vZHVsZXMpO1xuXG4gICAgcmV0dXJuIFtub2RlTW9kdWxlc107XG4gIH07XG5cbiAgLy8gV2UgbmVlZCB0byBrZWVwIHRyYWNrIHdoZXRoZXIgd2UncmUgaW4gYHBhY2thZ2VJdGVyYXRvcmAgb3Igbm90IHNvIHRoYXRcbiAgLy8gdGhlIGNvZGUgaXMgY29tcGF0aWJsZSB3aXRoIGJvdGggYHJlc29sdmVgIDEuOSsgYW5kIGByZXNvbHZlYCAxLjE1K1xuICBsZXQgaXNJbnNpZGVJdGVyYXRvciA9IGZhbHNlO1xuXG4gIGlmICghb3B0cy5fX3NraXBQYWNrYWdlSXRlcmF0b3IpIHtcbiAgICBvcHRzLnBhY2thZ2VJdGVyYXRvciA9IGZ1bmN0aW9uIChyZXF1ZXN0LCBiYXNlZGlyLCBnZXRDYW5kaWRhdGVzLCBvcHRzKSB7XG4gICAgICBpc0luc2lkZUl0ZXJhdG9yID0gdHJ1ZTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBwYWNrYWdlSXRlcmF0b3IocmVxdWVzdCwgYmFzZWRpciwgZ2V0Q2FuZGlkYXRlcywgb3B0cyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpc0luc2lkZUl0ZXJhdG9yID0gZmFsc2U7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIG9wdHMucGF0aHMgPSBmdW5jdGlvbiAocmVxdWVzdCwgYmFzZWRpciwgZ2V0Tm9kZU1vZHVsZVBhdGhzLCBvcHRzKSB7XG4gICAgaWYgKGlzSW5zaWRlSXRlcmF0b3IpXG4gICAgICByZXR1cm4gZ2V0Tm9kZU1vZHVsZVBhdGhzKCkuY29uY2F0KG9yaWdpbmFsUGF0aHMpO1xuXG4gICAgcmV0dXJuIHBhdGhzKHJlcXVlc3QsIGJhc2VkaXIsIGdldE5vZGVNb2R1bGVQYXRocywgb3B0cyk7XG4gIH07XG5cbiAgcmV0dXJuIG9wdHM7XG59O1xuIiwgInZhciBmcyA9IHJlcXVpcmUoJ2ZzJyk7XG52YXIgZ2V0SG9tZWRpciA9IHJlcXVpcmUoJy4vaG9tZWRpcicpO1xudmFyIHBhdGggPSByZXF1aXJlKCdwYXRoJyk7XG52YXIgY2FsbGVyID0gcmVxdWlyZSgnLi9jYWxsZXInKTtcbnZhciBub2RlTW9kdWxlc1BhdGhzID0gcmVxdWlyZSgnLi9ub2RlLW1vZHVsZXMtcGF0aHMnKTtcbnZhciBub3JtYWxpemVPcHRpb25zID0gcmVxdWlyZSgnLi9ub3JtYWxpemUtb3B0aW9ucycpO1xudmFyIGlzQ29yZSA9IHJlcXVpcmUoJ2lzLWNvcmUtbW9kdWxlJyk7XG5cbnZhciByZWFscGF0aEZTID0gcHJvY2Vzcy5wbGF0Zm9ybSAhPT0gJ3dpbjMyJyAmJiBmcy5yZWFscGF0aCAmJiB0eXBlb2YgZnMucmVhbHBhdGgubmF0aXZlID09PSAnZnVuY3Rpb24nID8gZnMucmVhbHBhdGgubmF0aXZlIDogZnMucmVhbHBhdGg7XG5cbnZhciBob21lZGlyID0gZ2V0SG9tZWRpcigpO1xudmFyIGRlZmF1bHRQYXRocyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gW1xuICAgICAgICBwYXRoLmpvaW4oaG9tZWRpciwgJy5ub2RlX21vZHVsZXMnKSxcbiAgICAgICAgcGF0aC5qb2luKGhvbWVkaXIsICcubm9kZV9saWJyYXJpZXMnKVxuICAgIF07XG59O1xuXG52YXIgZGVmYXVsdElzRmlsZSA9IGZ1bmN0aW9uIGlzRmlsZShmaWxlLCBjYikge1xuICAgIGZzLnN0YXQoZmlsZSwgZnVuY3Rpb24gKGVyciwgc3RhdCkge1xuICAgICAgICBpZiAoIWVycikge1xuICAgICAgICAgICAgcmV0dXJuIGNiKG51bGwsIHN0YXQuaXNGaWxlKCkgfHwgc3RhdC5pc0ZJRk8oKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVyci5jb2RlID09PSAnRU5PRU5UJyB8fCBlcnIuY29kZSA9PT0gJ0VOT1RESVInKSByZXR1cm4gY2IobnVsbCwgZmFsc2UpO1xuICAgICAgICByZXR1cm4gY2IoZXJyKTtcbiAgICB9KTtcbn07XG5cbnZhciBkZWZhdWx0SXNEaXIgPSBmdW5jdGlvbiBpc0RpcmVjdG9yeShkaXIsIGNiKSB7XG4gICAgZnMuc3RhdChkaXIsIGZ1bmN0aW9uIChlcnIsIHN0YXQpIHtcbiAgICAgICAgaWYgKCFlcnIpIHtcbiAgICAgICAgICAgIHJldHVybiBjYihudWxsLCBzdGF0LmlzRGlyZWN0b3J5KCkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlcnIuY29kZSA9PT0gJ0VOT0VOVCcgfHwgZXJyLmNvZGUgPT09ICdFTk9URElSJykgcmV0dXJuIGNiKG51bGwsIGZhbHNlKTtcbiAgICAgICAgcmV0dXJuIGNiKGVycik7XG4gICAgfSk7XG59O1xuXG52YXIgZGVmYXVsdFJlYWxwYXRoID0gZnVuY3Rpb24gcmVhbHBhdGgoeCwgY2IpIHtcbiAgICByZWFscGF0aEZTKHgsIGZ1bmN0aW9uIChyZWFscGF0aEVyciwgcmVhbFBhdGgpIHtcbiAgICAgICAgaWYgKHJlYWxwYXRoRXJyICYmIHJlYWxwYXRoRXJyLmNvZGUgIT09ICdFTk9FTlQnKSBjYihyZWFscGF0aEVycik7XG4gICAgICAgIGVsc2UgY2IobnVsbCwgcmVhbHBhdGhFcnIgPyB4IDogcmVhbFBhdGgpO1xuICAgIH0pO1xufTtcblxudmFyIG1heWJlUmVhbHBhdGggPSBmdW5jdGlvbiBtYXliZVJlYWxwYXRoKHJlYWxwYXRoLCB4LCBvcHRzLCBjYikge1xuICAgIGlmIChvcHRzICYmIG9wdHMucHJlc2VydmVTeW1saW5rcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmVhbHBhdGgoeCwgY2IpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGNiKG51bGwsIHgpO1xuICAgIH1cbn07XG5cbnZhciBkZWZhdWx0UmVhZFBhY2thZ2UgPSBmdW5jdGlvbiBkZWZhdWx0UmVhZFBhY2thZ2UocmVhZEZpbGUsIHBrZ2ZpbGUsIGNiKSB7XG4gICAgcmVhZEZpbGUocGtnZmlsZSwgZnVuY3Rpb24gKHJlYWRGaWxlRXJyLCBib2R5KSB7XG4gICAgICAgIGlmIChyZWFkRmlsZUVycikgY2IocmVhZEZpbGVFcnIpO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdmFyIHBrZyA9IEpTT04ucGFyc2UoYm9keSk7XG4gICAgICAgICAgICAgICAgY2IobnVsbCwgcGtnKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGpzb25FcnIpIHtcbiAgICAgICAgICAgICAgICBjYihudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xufTtcblxudmFyIGdldFBhY2thZ2VDYW5kaWRhdGVzID0gZnVuY3Rpb24gZ2V0UGFja2FnZUNhbmRpZGF0ZXMoeCwgc3RhcnQsIG9wdHMpIHtcbiAgICB2YXIgZGlycyA9IG5vZGVNb2R1bGVzUGF0aHMoc3RhcnQsIG9wdHMsIHgpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGlycy5sZW5ndGg7IGkrKykge1xuICAgICAgICBkaXJzW2ldID0gcGF0aC5qb2luKGRpcnNbaV0sIHgpO1xuICAgIH1cbiAgICByZXR1cm4gZGlycztcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gcmVzb2x2ZSh4LCBvcHRpb25zLCBjYWxsYmFjaykge1xuICAgIHZhciBjYiA9IGNhbGxiYWNrO1xuICAgIHZhciBvcHRzID0gb3B0aW9ucztcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgY2IgPSBvcHRzO1xuICAgICAgICBvcHRzID0ge307XG4gICAgfVxuICAgIGlmICh0eXBlb2YgeCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgdmFyIGVyciA9IG5ldyBUeXBlRXJyb3IoJ1BhdGggbXVzdCBiZSBhIHN0cmluZy4nKTtcbiAgICAgICAgcmV0dXJuIHByb2Nlc3MubmV4dFRpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY2IoZXJyKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgb3B0cyA9IG5vcm1hbGl6ZU9wdGlvbnMoeCwgb3B0cyk7XG5cbiAgICB2YXIgaXNGaWxlID0gb3B0cy5pc0ZpbGUgfHwgZGVmYXVsdElzRmlsZTtcbiAgICB2YXIgaXNEaXJlY3RvcnkgPSBvcHRzLmlzRGlyZWN0b3J5IHx8IGRlZmF1bHRJc0RpcjtcbiAgICB2YXIgcmVhZEZpbGUgPSBvcHRzLnJlYWRGaWxlIHx8IGZzLnJlYWRGaWxlO1xuICAgIHZhciByZWFscGF0aCA9IG9wdHMucmVhbHBhdGggfHwgZGVmYXVsdFJlYWxwYXRoO1xuICAgIHZhciByZWFkUGFja2FnZSA9IG9wdHMucmVhZFBhY2thZ2UgfHwgZGVmYXVsdFJlYWRQYWNrYWdlO1xuICAgIGlmIChvcHRzLnJlYWRGaWxlICYmIG9wdHMucmVhZFBhY2thZ2UpIHtcbiAgICAgICAgdmFyIGNvbmZsaWN0RXJyID0gbmV3IFR5cGVFcnJvcignYHJlYWRGaWxlYCBhbmQgYHJlYWRQYWNrYWdlYCBhcmUgbXV0dWFsbHkgZXhjbHVzaXZlLicpO1xuICAgICAgICByZXR1cm4gcHJvY2Vzcy5uZXh0VGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjYihjb25mbGljdEVycik7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICB2YXIgcGFja2FnZUl0ZXJhdG9yID0gb3B0cy5wYWNrYWdlSXRlcmF0b3I7XG5cbiAgICB2YXIgZXh0ZW5zaW9ucyA9IG9wdHMuZXh0ZW5zaW9ucyB8fCBbJy5qcyddO1xuICAgIHZhciBpbmNsdWRlQ29yZU1vZHVsZXMgPSBvcHRzLmluY2x1ZGVDb3JlTW9kdWxlcyAhPT0gZmFsc2U7XG4gICAgdmFyIGJhc2VkaXIgPSBvcHRzLmJhc2VkaXIgfHwgcGF0aC5kaXJuYW1lKGNhbGxlcigpKTtcbiAgICB2YXIgcGFyZW50ID0gb3B0cy5maWxlbmFtZSB8fCBiYXNlZGlyO1xuXG4gICAgb3B0cy5wYXRocyA9IG9wdHMucGF0aHMgfHwgZGVmYXVsdFBhdGhzKCk7XG5cbiAgICAvLyBlbnN1cmUgdGhhdCBgYmFzZWRpcmAgaXMgYW4gYWJzb2x1dGUgcGF0aCBhdCB0aGlzIHBvaW50LCByZXNvbHZpbmcgYWdhaW5zdCB0aGUgcHJvY2VzcycgY3VycmVudCB3b3JraW5nIGRpcmVjdG9yeVxuICAgIHZhciBhYnNvbHV0ZVN0YXJ0ID0gcGF0aC5yZXNvbHZlKGJhc2VkaXIpO1xuXG4gICAgbWF5YmVSZWFscGF0aChcbiAgICAgICAgcmVhbHBhdGgsXG4gICAgICAgIGFic29sdXRlU3RhcnQsXG4gICAgICAgIG9wdHMsXG4gICAgICAgIGZ1bmN0aW9uIChlcnIsIHJlYWxTdGFydCkge1xuICAgICAgICAgICAgaWYgKGVycikgY2IoZXJyKTtcbiAgICAgICAgICAgIGVsc2UgaW5pdChyZWFsU3RhcnQpO1xuICAgICAgICB9XG4gICAgKTtcblxuICAgIHZhciByZXM7XG4gICAgZnVuY3Rpb24gaW5pdChiYXNlZGlyKSB7XG4gICAgICAgIGlmICgoL14oPzpcXC5cXC4/KD86XFwvfCQpfFxcL3woW0EtWmEtel06KT9bL1xcXFxdKS8pLnRlc3QoeCkpIHtcbiAgICAgICAgICAgIHJlcyA9IHBhdGgucmVzb2x2ZShiYXNlZGlyLCB4KTtcbiAgICAgICAgICAgIGlmICh4ID09PSAnLicgfHwgeCA9PT0gJy4uJyB8fCB4LnNsaWNlKC0xKSA9PT0gJy8nKSByZXMgKz0gJy8nO1xuICAgICAgICAgICAgaWYgKCgvXFwvJC8pLnRlc3QoeCkgJiYgcmVzID09PSBiYXNlZGlyKSB7XG4gICAgICAgICAgICAgICAgbG9hZEFzRGlyZWN0b3J5KHJlcywgb3B0cy5wYWNrYWdlLCBvbmZpbGUpO1xuICAgICAgICAgICAgfSBlbHNlIGxvYWRBc0ZpbGUocmVzLCBvcHRzLnBhY2thZ2UsIG9uZmlsZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5jbHVkZUNvcmVNb2R1bGVzICYmIGlzQ29yZSh4KSkge1xuICAgICAgICAgICAgcmV0dXJuIGNiKG51bGwsIHgpO1xuICAgICAgICB9IGVsc2UgbG9hZE5vZGVNb2R1bGVzKHgsIGJhc2VkaXIsIGZ1bmN0aW9uIChlcnIsIG4sIHBrZykge1xuICAgICAgICAgICAgaWYgKGVycikgY2IoZXJyKTtcbiAgICAgICAgICAgIGVsc2UgaWYgKG4pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWF5YmVSZWFscGF0aChyZWFscGF0aCwgbiwgb3B0cywgZnVuY3Rpb24gKGVyciwgcmVhbE4pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2IoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNiKG51bGwsIHJlYWxOLCBwa2cpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBtb2R1bGVFcnJvciA9IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIgKyB4ICsgXCInIGZyb20gJ1wiICsgcGFyZW50ICsgXCInXCIpO1xuICAgICAgICAgICAgICAgIG1vZHVsZUVycm9yLmNvZGUgPSAnTU9EVUxFX05PVF9GT1VORCc7XG4gICAgICAgICAgICAgICAgY2IobW9kdWxlRXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbmZpbGUoZXJyLCBtLCBwa2cpIHtcbiAgICAgICAgaWYgKGVycikgY2IoZXJyKTtcbiAgICAgICAgZWxzZSBpZiAobSkgY2IobnVsbCwgbSwgcGtnKTtcbiAgICAgICAgZWxzZSBsb2FkQXNEaXJlY3RvcnkocmVzLCBmdW5jdGlvbiAoZXJyLCBkLCBwa2cpIHtcbiAgICAgICAgICAgIGlmIChlcnIpIGNiKGVycik7XG4gICAgICAgICAgICBlbHNlIGlmIChkKSB7XG4gICAgICAgICAgICAgICAgbWF5YmVSZWFscGF0aChyZWFscGF0aCwgZCwgb3B0cywgZnVuY3Rpb24gKGVyciwgcmVhbEQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2IoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNiKG51bGwsIHJlYWxELCBwa2cpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBtb2R1bGVFcnJvciA9IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIgKyB4ICsgXCInIGZyb20gJ1wiICsgcGFyZW50ICsgXCInXCIpO1xuICAgICAgICAgICAgICAgIG1vZHVsZUVycm9yLmNvZGUgPSAnTU9EVUxFX05PVF9GT1VORCc7XG4gICAgICAgICAgICAgICAgY2IobW9kdWxlRXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsb2FkQXNGaWxlKHgsIHRoZVBhY2thZ2UsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBsb2FkQXNGaWxlUGFja2FnZSA9IHRoZVBhY2thZ2U7XG4gICAgICAgIHZhciBjYiA9IGNhbGxiYWNrO1xuICAgICAgICBpZiAodHlwZW9mIGxvYWRBc0ZpbGVQYWNrYWdlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYiA9IGxvYWRBc0ZpbGVQYWNrYWdlO1xuICAgICAgICAgICAgbG9hZEFzRmlsZVBhY2thZ2UgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZXh0cyA9IFsnJ10uY29uY2F0KGV4dGVuc2lvbnMpO1xuICAgICAgICBsb2FkKGV4dHMsIHgsIGxvYWRBc0ZpbGVQYWNrYWdlKTtcblxuICAgICAgICBmdW5jdGlvbiBsb2FkKGV4dHMsIHgsIGxvYWRQYWNrYWdlKSB7XG4gICAgICAgICAgICBpZiAoZXh0cy5sZW5ndGggPT09IDApIHJldHVybiBjYihudWxsLCB1bmRlZmluZWQsIGxvYWRQYWNrYWdlKTtcbiAgICAgICAgICAgIHZhciBmaWxlID0geCArIGV4dHNbMF07XG5cbiAgICAgICAgICAgIHZhciBwa2cgPSBsb2FkUGFja2FnZTtcbiAgICAgICAgICAgIGlmIChwa2cpIG9ucGtnKG51bGwsIHBrZyk7XG4gICAgICAgICAgICBlbHNlIGxvYWRwa2cocGF0aC5kaXJuYW1lKGZpbGUpLCBvbnBrZyk7XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIG9ucGtnKGVyciwgcGtnXywgZGlyKSB7XG4gICAgICAgICAgICAgICAgcGtnID0gcGtnXztcbiAgICAgICAgICAgICAgICBpZiAoZXJyKSByZXR1cm4gY2IoZXJyKTtcbiAgICAgICAgICAgICAgICBpZiAoZGlyICYmIHBrZyAmJiBvcHRzLnBhdGhGaWx0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJmaWxlID0gcGF0aC5yZWxhdGl2ZShkaXIsIGZpbGUpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVsID0gcmZpbGUuc2xpY2UoMCwgcmZpbGUubGVuZ3RoIC0gZXh0c1swXS5sZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgciA9IG9wdHMucGF0aEZpbHRlcihwa2csIHgsIHJlbCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyKSByZXR1cm4gbG9hZChcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnJ10uY29uY2F0KGV4dGVuc2lvbnMuc2xpY2UoKSksXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoLnJlc29sdmUoZGlyLCByKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBrZ1xuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpc0ZpbGUoZmlsZSwgb25leCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBvbmV4KGVyciwgZXgpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyKSByZXR1cm4gY2IoZXJyKTtcbiAgICAgICAgICAgICAgICBpZiAoZXgpIHJldHVybiBjYihudWxsLCBmaWxlLCBwa2cpO1xuICAgICAgICAgICAgICAgIGxvYWQoZXh0cy5zbGljZSgxKSwgeCwgcGtnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxvYWRwa2coZGlyLCBjYikge1xuICAgICAgICBpZiAoZGlyID09PSAnJyB8fCBkaXIgPT09ICcvJykgcmV0dXJuIGNiKG51bGwpO1xuICAgICAgICBpZiAocHJvY2Vzcy5wbGF0Zm9ybSA9PT0gJ3dpbjMyJyAmJiAoL15cXHc6Wy9cXFxcXSokLykudGVzdChkaXIpKSB7XG4gICAgICAgICAgICByZXR1cm4gY2IobnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCgvWy9cXFxcXW5vZGVfbW9kdWxlc1svXFxcXF0qJC8pLnRlc3QoZGlyKSkgcmV0dXJuIGNiKG51bGwpO1xuXG4gICAgICAgIG1heWJlUmVhbHBhdGgocmVhbHBhdGgsIGRpciwgb3B0cywgZnVuY3Rpb24gKHVud3JhcEVyciwgcGtnZGlyKSB7XG4gICAgICAgICAgICBpZiAodW53cmFwRXJyKSByZXR1cm4gbG9hZHBrZyhwYXRoLmRpcm5hbWUoZGlyKSwgY2IpO1xuICAgICAgICAgICAgdmFyIHBrZ2ZpbGUgPSBwYXRoLmpvaW4ocGtnZGlyLCAncGFja2FnZS5qc29uJyk7XG4gICAgICAgICAgICBpc0ZpbGUocGtnZmlsZSwgZnVuY3Rpb24gKGVyciwgZXgpIHtcbiAgICAgICAgICAgICAgICAvLyBvbiBlcnIsIGV4IGlzIGZhbHNlXG4gICAgICAgICAgICAgICAgaWYgKCFleCkgcmV0dXJuIGxvYWRwa2cocGF0aC5kaXJuYW1lKGRpciksIGNiKTtcblxuICAgICAgICAgICAgICAgIHJlYWRQYWNrYWdlKHJlYWRGaWxlLCBwa2dmaWxlLCBmdW5jdGlvbiAoZXJyLCBwa2dQYXJhbSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyKSBjYihlcnIpO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBwa2cgPSBwa2dQYXJhbTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAocGtnICYmIG9wdHMucGFja2FnZUZpbHRlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGtnID0gb3B0cy5wYWNrYWdlRmlsdGVyKHBrZywgcGtnZmlsZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2IobnVsbCwgcGtnLCBkaXIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxvYWRBc0RpcmVjdG9yeSh4LCBsb2FkQXNEaXJlY3RvcnlQYWNrYWdlLCBjYWxsYmFjaykge1xuICAgICAgICB2YXIgY2IgPSBjYWxsYmFjaztcbiAgICAgICAgdmFyIGZwa2cgPSBsb2FkQXNEaXJlY3RvcnlQYWNrYWdlO1xuICAgICAgICBpZiAodHlwZW9mIGZwa2cgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNiID0gZnBrZztcbiAgICAgICAgICAgIGZwa2cgPSBvcHRzLnBhY2thZ2U7XG4gICAgICAgIH1cblxuICAgICAgICBtYXliZVJlYWxwYXRoKHJlYWxwYXRoLCB4LCBvcHRzLCBmdW5jdGlvbiAodW53cmFwRXJyLCBwa2dkaXIpIHtcbiAgICAgICAgICAgIGlmICh1bndyYXBFcnIpIHJldHVybiBjYih1bndyYXBFcnIpO1xuICAgICAgICAgICAgdmFyIHBrZ2ZpbGUgPSBwYXRoLmpvaW4ocGtnZGlyLCAncGFja2FnZS5qc29uJyk7XG4gICAgICAgICAgICBpc0ZpbGUocGtnZmlsZSwgZnVuY3Rpb24gKGVyciwgZXgpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyKSByZXR1cm4gY2IoZXJyKTtcbiAgICAgICAgICAgICAgICBpZiAoIWV4KSByZXR1cm4gbG9hZEFzRmlsZShwYXRoLmpvaW4oeCwgJ2luZGV4JyksIGZwa2csIGNiKTtcblxuICAgICAgICAgICAgICAgIHJlYWRQYWNrYWdlKHJlYWRGaWxlLCBwa2dmaWxlLCBmdW5jdGlvbiAoZXJyLCBwa2dQYXJhbSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyKSByZXR1cm4gY2IoZXJyKTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgcGtnID0gcGtnUGFyYW07XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHBrZyAmJiBvcHRzLnBhY2thZ2VGaWx0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBrZyA9IG9wdHMucGFja2FnZUZpbHRlcihwa2csIHBrZ2ZpbGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHBrZyAmJiBwa2cubWFpbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBwa2cubWFpbiAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWFpbkVycm9yID0gbmV3IFR5cGVFcnJvcigncGFja2FnZSBcdTIwMUMnICsgcGtnLm5hbWUgKyAnXHUyMDFEIGBtYWluYCBtdXN0IGJlIGEgc3RyaW5nJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFpbkVycm9yLmNvZGUgPSAnSU5WQUxJRF9QQUNLQUdFX01BSU4nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjYihtYWluRXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBrZy5tYWluID09PSAnLicgfHwgcGtnLm1haW4gPT09ICcuLycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwa2cubWFpbiA9ICdpbmRleCc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2FkQXNGaWxlKHBhdGgucmVzb2x2ZSh4LCBwa2cubWFpbiksIHBrZywgZnVuY3Rpb24gKGVyciwgbSwgcGtnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycikgcmV0dXJuIGNiKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG0pIHJldHVybiBjYihudWxsLCBtLCBwa2cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcGtnKSByZXR1cm4gbG9hZEFzRmlsZShwYXRoLmpvaW4oeCwgJ2luZGV4JyksIHBrZywgY2IpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRpciA9IHBhdGgucmVzb2x2ZSh4LCBwa2cubWFpbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9hZEFzRGlyZWN0b3J5KGRpciwgcGtnLCBmdW5jdGlvbiAoZXJyLCBuLCBwa2cpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycikgcmV0dXJuIGNiKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuKSByZXR1cm4gY2IobnVsbCwgbiwgcGtnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9hZEFzRmlsZShwYXRoLmpvaW4oeCwgJ2luZGV4JyksIHBrZywgY2IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBsb2FkQXNGaWxlKHBhdGguam9pbih4LCAnL2luZGV4JyksIHBrZywgY2IpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHByb2Nlc3NEaXJzKGNiLCBkaXJzKSB7XG4gICAgICAgIGlmIChkaXJzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIGNiKG51bGwsIHVuZGVmaW5lZCk7XG4gICAgICAgIHZhciBkaXIgPSBkaXJzWzBdO1xuXG4gICAgICAgIGlzRGlyZWN0b3J5KHBhdGguZGlybmFtZShkaXIpLCBpc2Rpcik7XG5cbiAgICAgICAgZnVuY3Rpb24gaXNkaXIoZXJyLCBpc2Rpcikge1xuICAgICAgICAgICAgaWYgKGVycikgcmV0dXJuIGNiKGVycik7XG4gICAgICAgICAgICBpZiAoIWlzZGlyKSByZXR1cm4gcHJvY2Vzc0RpcnMoY2IsIGRpcnMuc2xpY2UoMSkpO1xuICAgICAgICAgICAgbG9hZEFzRmlsZShkaXIsIG9wdHMucGFja2FnZSwgb25maWxlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIG9uZmlsZShlcnIsIG0sIHBrZykge1xuICAgICAgICAgICAgaWYgKGVycikgcmV0dXJuIGNiKGVycik7XG4gICAgICAgICAgICBpZiAobSkgcmV0dXJuIGNiKG51bGwsIG0sIHBrZyk7XG4gICAgICAgICAgICBsb2FkQXNEaXJlY3RvcnkoZGlyLCBvcHRzLnBhY2thZ2UsIG9uZGlyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIG9uZGlyKGVyciwgbiwgcGtnKSB7XG4gICAgICAgICAgICBpZiAoZXJyKSByZXR1cm4gY2IoZXJyKTtcbiAgICAgICAgICAgIGlmIChuKSByZXR1cm4gY2IobnVsbCwgbiwgcGtnKTtcbiAgICAgICAgICAgIHByb2Nlc3NEaXJzKGNiLCBkaXJzLnNsaWNlKDEpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBsb2FkTm9kZU1vZHVsZXMoeCwgc3RhcnQsIGNiKSB7XG4gICAgICAgIHZhciB0aHVuayA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGdldFBhY2thZ2VDYW5kaWRhdGVzKHgsIHN0YXJ0LCBvcHRzKTsgfTtcbiAgICAgICAgcHJvY2Vzc0RpcnMoXG4gICAgICAgICAgICBjYixcbiAgICAgICAgICAgIHBhY2thZ2VJdGVyYXRvciA/IHBhY2thZ2VJdGVyYXRvcih4LCBzdGFydCwgdGh1bmssIG9wdHMpIDogdGh1bmsoKVxuICAgICAgICApO1xuICAgIH1cbn07XG4iLCAidmFyIGN1cnJlbnQgPSAocHJvY2Vzcy52ZXJzaW9ucyAmJiBwcm9jZXNzLnZlcnNpb25zLm5vZGUgJiYgcHJvY2Vzcy52ZXJzaW9ucy5ub2RlLnNwbGl0KCcuJykpIHx8IFtdO1xuXG5mdW5jdGlvbiBzcGVjaWZpZXJJbmNsdWRlZChzcGVjaWZpZXIpIHtcbiAgICB2YXIgcGFydHMgPSBzcGVjaWZpZXIuc3BsaXQoJyAnKTtcbiAgICB2YXIgb3AgPSBwYXJ0cy5sZW5ndGggPiAxID8gcGFydHNbMF0gOiAnPSc7XG4gICAgdmFyIHZlcnNpb25QYXJ0cyA9IChwYXJ0cy5sZW5ndGggPiAxID8gcGFydHNbMV0gOiBwYXJ0c1swXSkuc3BsaXQoJy4nKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMzsgKytpKSB7XG4gICAgICAgIHZhciBjdXIgPSBwYXJzZUludChjdXJyZW50W2ldIHx8IDAsIDEwKTtcbiAgICAgICAgdmFyIHZlciA9IHBhcnNlSW50KHZlcnNpb25QYXJ0c1tpXSB8fCAwLCAxMCk7XG4gICAgICAgIGlmIChjdXIgPT09IHZlcikge1xuICAgICAgICAgICAgY29udGludWU7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcmVzdHJpY3RlZC1zeW50YXgsIG5vLWNvbnRpbnVlXG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wID09PSAnPCcpIHtcbiAgICAgICAgICAgIHJldHVybiBjdXIgPCB2ZXI7XG4gICAgICAgIH0gZWxzZSBpZiAob3AgPT09ICc+PScpIHtcbiAgICAgICAgICAgIHJldHVybiBjdXIgPj0gdmVyO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIG9wID09PSAnPj0nO1xufVxuXG5mdW5jdGlvbiBtYXRjaGVzUmFuZ2UocmFuZ2UpIHtcbiAgICB2YXIgc3BlY2lmaWVycyA9IHJhbmdlLnNwbGl0KC8gPyYmID8vKTtcbiAgICBpZiAoc3BlY2lmaWVycy5sZW5ndGggPT09IDApIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzcGVjaWZpZXJzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGlmICghc3BlY2lmaWVySW5jbHVkZWQoc3BlY2lmaWVyc1tpXSkpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiB2ZXJzaW9uSW5jbHVkZWQoc3BlY2lmaWVyVmFsdWUpIHtcbiAgICBpZiAodHlwZW9mIHNwZWNpZmllclZhbHVlID09PSAnYm9vbGVhbicpIHsgcmV0dXJuIHNwZWNpZmllclZhbHVlOyB9XG4gICAgaWYgKHNwZWNpZmllclZhbHVlICYmIHR5cGVvZiBzcGVjaWZpZXJWYWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzcGVjaWZpZXJWYWx1ZS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgaWYgKG1hdGNoZXNSYW5nZShzcGVjaWZpZXJWYWx1ZVtpXSkpIHsgcmV0dXJuIHRydWU7IH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBtYXRjaGVzUmFuZ2Uoc3BlY2lmaWVyVmFsdWUpO1xufVxuXG52YXIgZGF0YSA9IHJlcXVpcmUoJy4vY29yZS5qc29uJyk7XG5cbnZhciBjb3JlID0ge307XG5mb3IgKHZhciBtb2QgaW4gZGF0YSkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXJlc3RyaWN0ZWQtc3ludGF4XG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBtb2QpKSB7XG4gICAgICAgIGNvcmVbbW9kXSA9IHZlcnNpb25JbmNsdWRlZChkYXRhW21vZF0pO1xuICAgIH1cbn1cbm1vZHVsZS5leHBvcnRzID0gY29yZTtcbiIsICJ2YXIgaXNDb3JlTW9kdWxlID0gcmVxdWlyZSgnaXMtY29yZS1tb2R1bGUnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpc0NvcmUoeCkge1xuICAgIHJldHVybiBpc0NvcmVNb2R1bGUoeCk7XG59O1xuIiwgInZhciBpc0NvcmUgPSByZXF1aXJlKCdpcy1jb3JlLW1vZHVsZScpO1xudmFyIGZzID0gcmVxdWlyZSgnZnMnKTtcbnZhciBwYXRoID0gcmVxdWlyZSgncGF0aCcpO1xudmFyIGdldEhvbWVkaXIgPSByZXF1aXJlKCcuL2hvbWVkaXInKTtcbnZhciBjYWxsZXIgPSByZXF1aXJlKCcuL2NhbGxlcicpO1xudmFyIG5vZGVNb2R1bGVzUGF0aHMgPSByZXF1aXJlKCcuL25vZGUtbW9kdWxlcy1wYXRocycpO1xudmFyIG5vcm1hbGl6ZU9wdGlvbnMgPSByZXF1aXJlKCcuL25vcm1hbGl6ZS1vcHRpb25zJyk7XG5cbnZhciByZWFscGF0aEZTID0gcHJvY2Vzcy5wbGF0Zm9ybSAhPT0gJ3dpbjMyJyAmJiBmcy5yZWFscGF0aFN5bmMgJiYgdHlwZW9mIGZzLnJlYWxwYXRoU3luYy5uYXRpdmUgPT09ICdmdW5jdGlvbicgPyBmcy5yZWFscGF0aFN5bmMubmF0aXZlIDogZnMucmVhbHBhdGhTeW5jO1xuXG52YXIgaG9tZWRpciA9IGdldEhvbWVkaXIoKTtcbnZhciBkZWZhdWx0UGF0aHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgICAgcGF0aC5qb2luKGhvbWVkaXIsICcubm9kZV9tb2R1bGVzJyksXG4gICAgICAgIHBhdGguam9pbihob21lZGlyLCAnLm5vZGVfbGlicmFyaWVzJylcbiAgICBdO1xufTtcblxudmFyIGRlZmF1bHRJc0ZpbGUgPSBmdW5jdGlvbiBpc0ZpbGUoZmlsZSkge1xuICAgIHRyeSB7XG4gICAgICAgIHZhciBzdGF0ID0gZnMuc3RhdFN5bmMoZmlsZSwgeyB0aHJvd0lmTm9FbnRyeTogZmFsc2UgfSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBpZiAoZSAmJiAoZS5jb2RlID09PSAnRU5PRU5UJyB8fCBlLmNvZGUgPT09ICdFTk9URElSJykpIHJldHVybiBmYWxzZTtcbiAgICAgICAgdGhyb3cgZTtcbiAgICB9XG4gICAgcmV0dXJuICEhc3RhdCAmJiAoc3RhdC5pc0ZpbGUoKSB8fCBzdGF0LmlzRklGTygpKTtcbn07XG5cbnZhciBkZWZhdWx0SXNEaXIgPSBmdW5jdGlvbiBpc0RpcmVjdG9yeShkaXIpIHtcbiAgICB0cnkge1xuICAgICAgICB2YXIgc3RhdCA9IGZzLnN0YXRTeW5jKGRpciwgeyB0aHJvd0lmTm9FbnRyeTogZmFsc2UgfSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBpZiAoZSAmJiAoZS5jb2RlID09PSAnRU5PRU5UJyB8fCBlLmNvZGUgPT09ICdFTk9URElSJykpIHJldHVybiBmYWxzZTtcbiAgICAgICAgdGhyb3cgZTtcbiAgICB9XG4gICAgcmV0dXJuICEhc3RhdCAmJiBzdGF0LmlzRGlyZWN0b3J5KCk7XG59O1xuXG52YXIgZGVmYXVsdFJlYWxwYXRoU3luYyA9IGZ1bmN0aW9uIHJlYWxwYXRoU3luYyh4KSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIHJlYWxwYXRoRlMoeCk7XG4gICAgfSBjYXRjaCAocmVhbHBhdGhFcnIpIHtcbiAgICAgICAgaWYgKHJlYWxwYXRoRXJyLmNvZGUgIT09ICdFTk9FTlQnKSB7XG4gICAgICAgICAgICB0aHJvdyByZWFscGF0aEVycjtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4geDtcbn07XG5cbnZhciBtYXliZVJlYWxwYXRoU3luYyA9IGZ1bmN0aW9uIG1heWJlUmVhbHBhdGhTeW5jKHJlYWxwYXRoU3luYywgeCwgb3B0cykge1xuICAgIGlmIChvcHRzICYmIG9wdHMucHJlc2VydmVTeW1saW5rcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuIHJlYWxwYXRoU3luYyh4KTtcbiAgICB9XG4gICAgcmV0dXJuIHg7XG59O1xuXG52YXIgZGVmYXVsdFJlYWRQYWNrYWdlU3luYyA9IGZ1bmN0aW9uIGRlZmF1bHRSZWFkUGFja2FnZVN5bmMocmVhZEZpbGVTeW5jLCBwa2dmaWxlKSB7XG4gICAgdmFyIGJvZHkgPSByZWFkRmlsZVN5bmMocGtnZmlsZSk7XG4gICAgdHJ5IHtcbiAgICAgICAgdmFyIHBrZyA9IEpTT04ucGFyc2UoYm9keSk7XG4gICAgICAgIHJldHVybiBwa2c7XG4gICAgfSBjYXRjaCAoanNvbkVycikge31cbn07XG5cbnZhciBnZXRQYWNrYWdlQ2FuZGlkYXRlcyA9IGZ1bmN0aW9uIGdldFBhY2thZ2VDYW5kaWRhdGVzKHgsIHN0YXJ0LCBvcHRzKSB7XG4gICAgdmFyIGRpcnMgPSBub2RlTW9kdWxlc1BhdGhzKHN0YXJ0LCBvcHRzLCB4KTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRpcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZGlyc1tpXSA9IHBhdGguam9pbihkaXJzW2ldLCB4KTtcbiAgICB9XG4gICAgcmV0dXJuIGRpcnM7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHJlc29sdmVTeW5jKHgsIG9wdGlvbnMpIHtcbiAgICBpZiAodHlwZW9mIHggIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1BhdGggbXVzdCBiZSBhIHN0cmluZy4nKTtcbiAgICB9XG4gICAgdmFyIG9wdHMgPSBub3JtYWxpemVPcHRpb25zKHgsIG9wdGlvbnMpO1xuXG4gICAgdmFyIGlzRmlsZSA9IG9wdHMuaXNGaWxlIHx8IGRlZmF1bHRJc0ZpbGU7XG4gICAgdmFyIHJlYWRGaWxlU3luYyA9IG9wdHMucmVhZEZpbGVTeW5jIHx8IGZzLnJlYWRGaWxlU3luYztcbiAgICB2YXIgaXNEaXJlY3RvcnkgPSBvcHRzLmlzRGlyZWN0b3J5IHx8IGRlZmF1bHRJc0RpcjtcbiAgICB2YXIgcmVhbHBhdGhTeW5jID0gb3B0cy5yZWFscGF0aFN5bmMgfHwgZGVmYXVsdFJlYWxwYXRoU3luYztcbiAgICB2YXIgcmVhZFBhY2thZ2VTeW5jID0gb3B0cy5yZWFkUGFja2FnZVN5bmMgfHwgZGVmYXVsdFJlYWRQYWNrYWdlU3luYztcbiAgICBpZiAob3B0cy5yZWFkRmlsZVN5bmMgJiYgb3B0cy5yZWFkUGFja2FnZVN5bmMpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignYHJlYWRGaWxlU3luY2AgYW5kIGByZWFkUGFja2FnZVN5bmNgIGFyZSBtdXR1YWxseSBleGNsdXNpdmUuJyk7XG4gICAgfVxuICAgIHZhciBwYWNrYWdlSXRlcmF0b3IgPSBvcHRzLnBhY2thZ2VJdGVyYXRvcjtcblxuICAgIHZhciBleHRlbnNpb25zID0gb3B0cy5leHRlbnNpb25zIHx8IFsnLmpzJ107XG4gICAgdmFyIGluY2x1ZGVDb3JlTW9kdWxlcyA9IG9wdHMuaW5jbHVkZUNvcmVNb2R1bGVzICE9PSBmYWxzZTtcbiAgICB2YXIgYmFzZWRpciA9IG9wdHMuYmFzZWRpciB8fCBwYXRoLmRpcm5hbWUoY2FsbGVyKCkpO1xuICAgIHZhciBwYXJlbnQgPSBvcHRzLmZpbGVuYW1lIHx8IGJhc2VkaXI7XG5cbiAgICBvcHRzLnBhdGhzID0gb3B0cy5wYXRocyB8fCBkZWZhdWx0UGF0aHMoKTtcblxuICAgIC8vIGVuc3VyZSB0aGF0IGBiYXNlZGlyYCBpcyBhbiBhYnNvbHV0ZSBwYXRoIGF0IHRoaXMgcG9pbnQsIHJlc29sdmluZyBhZ2FpbnN0IHRoZSBwcm9jZXNzJyBjdXJyZW50IHdvcmtpbmcgZGlyZWN0b3J5XG4gICAgdmFyIGFic29sdXRlU3RhcnQgPSBtYXliZVJlYWxwYXRoU3luYyhyZWFscGF0aFN5bmMsIHBhdGgucmVzb2x2ZShiYXNlZGlyKSwgb3B0cyk7XG5cbiAgICBpZiAoKC9eKD86XFwuXFwuPyg/OlxcL3wkKXxcXC98KFtBLVphLXpdOik/Wy9cXFxcXSkvKS50ZXN0KHgpKSB7XG4gICAgICAgIHZhciByZXMgPSBwYXRoLnJlc29sdmUoYWJzb2x1dGVTdGFydCwgeCk7XG4gICAgICAgIGlmICh4ID09PSAnLicgfHwgeCA9PT0gJy4uJyB8fCB4LnNsaWNlKC0xKSA9PT0gJy8nKSByZXMgKz0gJy8nO1xuICAgICAgICB2YXIgbSA9IGxvYWRBc0ZpbGVTeW5jKHJlcykgfHwgbG9hZEFzRGlyZWN0b3J5U3luYyhyZXMpO1xuICAgICAgICBpZiAobSkgcmV0dXJuIG1heWJlUmVhbHBhdGhTeW5jKHJlYWxwYXRoU3luYywgbSwgb3B0cyk7XG4gICAgfSBlbHNlIGlmIChpbmNsdWRlQ29yZU1vZHVsZXMgJiYgaXNDb3JlKHgpKSB7XG4gICAgICAgIHJldHVybiB4O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBuID0gbG9hZE5vZGVNb2R1bGVzU3luYyh4LCBhYnNvbHV0ZVN0YXJ0KTtcbiAgICAgICAgaWYgKG4pIHJldHVybiBtYXliZVJlYWxwYXRoU3luYyhyZWFscGF0aFN5bmMsIG4sIG9wdHMpO1xuICAgIH1cblxuICAgIHZhciBlcnIgPSBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiICsgeCArIFwiJyBmcm9tICdcIiArIHBhcmVudCArIFwiJ1wiKTtcbiAgICBlcnIuY29kZSA9ICdNT0RVTEVfTk9UX0ZPVU5EJztcbiAgICB0aHJvdyBlcnI7XG5cbiAgICBmdW5jdGlvbiBsb2FkQXNGaWxlU3luYyh4KSB7XG4gICAgICAgIHZhciBwa2cgPSBsb2FkcGtnKHBhdGguZGlybmFtZSh4KSk7XG5cbiAgICAgICAgaWYgKHBrZyAmJiBwa2cuZGlyICYmIHBrZy5wa2cgJiYgb3B0cy5wYXRoRmlsdGVyKSB7XG4gICAgICAgICAgICB2YXIgcmZpbGUgPSBwYXRoLnJlbGF0aXZlKHBrZy5kaXIsIHgpO1xuICAgICAgICAgICAgdmFyIHIgPSBvcHRzLnBhdGhGaWx0ZXIocGtnLnBrZywgeCwgcmZpbGUpO1xuICAgICAgICAgICAgaWYgKHIpIHtcbiAgICAgICAgICAgICAgICB4ID0gcGF0aC5yZXNvbHZlKHBrZy5kaXIsIHIpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNGaWxlKHgpKSB7XG4gICAgICAgICAgICByZXR1cm4geDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXh0ZW5zaW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGZpbGUgPSB4ICsgZXh0ZW5zaW9uc1tpXTtcbiAgICAgICAgICAgIGlmIChpc0ZpbGUoZmlsZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmlsZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxvYWRwa2coZGlyKSB7XG4gICAgICAgIGlmIChkaXIgPT09ICcnIHx8IGRpciA9PT0gJy8nKSByZXR1cm47XG4gICAgICAgIGlmIChwcm9jZXNzLnBsYXRmb3JtID09PSAnd2luMzInICYmICgvXlxcdzpbL1xcXFxdKiQvKS50ZXN0KGRpcikpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKC9bL1xcXFxdbm9kZV9tb2R1bGVzWy9cXFxcXSokLykudGVzdChkaXIpKSByZXR1cm47XG5cbiAgICAgICAgdmFyIHBrZ2ZpbGUgPSBwYXRoLmpvaW4obWF5YmVSZWFscGF0aFN5bmMocmVhbHBhdGhTeW5jLCBkaXIsIG9wdHMpLCAncGFja2FnZS5qc29uJyk7XG5cbiAgICAgICAgaWYgKCFpc0ZpbGUocGtnZmlsZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBsb2FkcGtnKHBhdGguZGlybmFtZShkaXIpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBwa2cgPSByZWFkUGFja2FnZVN5bmMocmVhZEZpbGVTeW5jLCBwa2dmaWxlKTtcblxuICAgICAgICBpZiAocGtnICYmIG9wdHMucGFja2FnZUZpbHRlcikge1xuICAgICAgICAgICAgLy8gdjIgd2lsbCBwYXNzIHBrZ2ZpbGVcbiAgICAgICAgICAgIHBrZyA9IG9wdHMucGFja2FnZUZpbHRlcihwa2csIC8qcGtnZmlsZSwqLyBkaXIpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHNwYWNlZC1jb21tZW50XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4geyBwa2c6IHBrZywgZGlyOiBkaXIgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsb2FkQXNEaXJlY3RvcnlTeW5jKHgpIHtcbiAgICAgICAgdmFyIHBrZ2ZpbGUgPSBwYXRoLmpvaW4obWF5YmVSZWFscGF0aFN5bmMocmVhbHBhdGhTeW5jLCB4LCBvcHRzKSwgJy9wYWNrYWdlLmpzb24nKTtcbiAgICAgICAgaWYgKGlzRmlsZShwa2dmaWxlKSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB2YXIgcGtnID0gcmVhZFBhY2thZ2VTeW5jKHJlYWRGaWxlU3luYywgcGtnZmlsZSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7fVxuXG4gICAgICAgICAgICBpZiAocGtnICYmIG9wdHMucGFja2FnZUZpbHRlcikge1xuICAgICAgICAgICAgICAgIC8vIHYyIHdpbGwgcGFzcyBwa2dmaWxlXG4gICAgICAgICAgICAgICAgcGtnID0gb3B0cy5wYWNrYWdlRmlsdGVyKHBrZywgLypwa2dmaWxlLCovIHgpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHNwYWNlZC1jb21tZW50XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChwa2cgJiYgcGtnLm1haW4pIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHBrZy5tYWluICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWFpbkVycm9yID0gbmV3IFR5cGVFcnJvcigncGFja2FnZSBcdTIwMUMnICsgcGtnLm5hbWUgKyAnXHUyMDFEIGBtYWluYCBtdXN0IGJlIGEgc3RyaW5nJyk7XG4gICAgICAgICAgICAgICAgICAgIG1haW5FcnJvci5jb2RlID0gJ0lOVkFMSURfUEFDS0FHRV9NQUlOJztcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbWFpbkVycm9yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocGtnLm1haW4gPT09ICcuJyB8fCBwa2cubWFpbiA9PT0gJy4vJykge1xuICAgICAgICAgICAgICAgICAgICBwa2cubWFpbiA9ICdpbmRleCc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtID0gbG9hZEFzRmlsZVN5bmMocGF0aC5yZXNvbHZlKHgsIHBrZy5tYWluKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtKSByZXR1cm4gbTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG4gPSBsb2FkQXNEaXJlY3RvcnlTeW5jKHBhdGgucmVzb2x2ZSh4LCBwa2cubWFpbikpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobikgcmV0dXJuIG47XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBsb2FkQXNGaWxlU3luYyhwYXRoLmpvaW4oeCwgJy9pbmRleCcpKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsb2FkTm9kZU1vZHVsZXNTeW5jKHgsIHN0YXJ0KSB7XG4gICAgICAgIHZhciB0aHVuayA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGdldFBhY2thZ2VDYW5kaWRhdGVzKHgsIHN0YXJ0LCBvcHRzKTsgfTtcbiAgICAgICAgdmFyIGRpcnMgPSBwYWNrYWdlSXRlcmF0b3IgPyBwYWNrYWdlSXRlcmF0b3IoeCwgc3RhcnQsIHRodW5rLCBvcHRzKSA6IHRodW5rKCk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkaXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgZGlyID0gZGlyc1tpXTtcbiAgICAgICAgICAgIGlmIChpc0RpcmVjdG9yeShwYXRoLmRpcm5hbWUoZGlyKSkpIHtcbiAgICAgICAgICAgICAgICB2YXIgbSA9IGxvYWRBc0ZpbGVTeW5jKGRpcik7XG4gICAgICAgICAgICAgICAgaWYgKG0pIHJldHVybiBtO1xuICAgICAgICAgICAgICAgIHZhciBuID0gbG9hZEFzRGlyZWN0b3J5U3luYyhkaXIpO1xuICAgICAgICAgICAgICAgIGlmIChuKSByZXR1cm4gbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn07XG4iLCAidmFyIGFzeW5jID0gcmVxdWlyZSgnLi9saWIvYXN5bmMnKTtcbmFzeW5jLmNvcmUgPSByZXF1aXJlKCcuL2xpYi9jb3JlJyk7XG5hc3luYy5pc0NvcmUgPSByZXF1aXJlKCcuL2xpYi9pcy1jb3JlJyk7XG5hc3luYy5zeW5jID0gcmVxdWlyZSgnLi9saWIvc3luYycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGFzeW5jO1xuIiwgIm1vZHVsZS5leHBvcnRzID0gZXh0cmFjdERlc2NyaXB0aW9uXG5cbi8vIEV4dHJhY3RzIGRlc2NyaXB0aW9uIGZyb20gY29udGVudHMgb2YgYSByZWFkbWUgZmlsZSBpbiBtYXJrZG93biBmb3JtYXRcbmZ1bmN0aW9uIGV4dHJhY3REZXNjcmlwdGlvbiAoZCkge1xuICBpZiAoIWQpIHJldHVybjtcbiAgaWYgKGQgPT09IFwiRVJST1I6IE5vIFJFQURNRSBkYXRhIGZvdW5kIVwiKSByZXR1cm47XG4gIC8vIHRoZSBmaXJzdCBibG9jayBvZiB0ZXh0IGJlZm9yZSB0aGUgZmlyc3QgaGVhZGluZ1xuICAvLyB0aGF0IGlzbid0IHRoZSBmaXJzdCBsaW5lIGhlYWRpbmdcbiAgZCA9IGQudHJpbSgpLnNwbGl0KCdcXG4nKVxuICBmb3IgKHZhciBzID0gMDsgZFtzXSAmJiBkW3NdLnRyaW0oKS5tYXRjaCgvXigjfCQpLyk7IHMgKyspO1xuICB2YXIgbCA9IGQubGVuZ3RoXG4gIGZvciAodmFyIGUgPSBzICsgMTsgZSA8IGwgJiYgZFtlXS50cmltKCk7IGUgKyspO1xuICByZXR1cm4gZC5zbGljZShzLCBlKS5qb2luKCcgJykudHJpbSgpXG59XG4iLCAidmFyIHNlbXZlciA9IHJlcXVpcmUoXCJzZW12ZXJcIilcbnZhciB2YWxpZGF0ZUxpY2Vuc2UgPSByZXF1aXJlKCd2YWxpZGF0ZS1ucG0tcGFja2FnZS1saWNlbnNlJyk7XG52YXIgaG9zdGVkR2l0SW5mbyA9IHJlcXVpcmUoXCJob3N0ZWQtZ2l0LWluZm9cIilcbnZhciBpc0J1aWx0aW5Nb2R1bGUgPSByZXF1aXJlKFwicmVzb2x2ZVwiKS5pc0NvcmVcbnZhciBkZXBUeXBlcyA9IFtcImRlcGVuZGVuY2llc1wiLFwiZGV2RGVwZW5kZW5jaWVzXCIsXCJvcHRpb25hbERlcGVuZGVuY2llc1wiXVxudmFyIGV4dHJhY3REZXNjcmlwdGlvbiA9IHJlcXVpcmUoXCIuL2V4dHJhY3RfZGVzY3JpcHRpb25cIilcbnZhciB1cmwgPSByZXF1aXJlKFwidXJsXCIpXG52YXIgdHlwb3MgPSByZXF1aXJlKFwiLi90eXBvcy5qc29uXCIpXG5cbnZhciBmaXhlciA9IG1vZHVsZS5leHBvcnRzID0ge1xuICAvLyBkZWZhdWx0IHdhcm5pbmcgZnVuY3Rpb25cbiAgd2FybjogZnVuY3Rpb24oKSB7fSxcblxuICBmaXhSZXBvc2l0b3J5RmllbGQ6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICBpZiAoZGF0YS5yZXBvc2l0b3JpZXMpIHtcbiAgICAgIHRoaXMud2FybihcInJlcG9zaXRvcmllc1wiKTtcbiAgICAgIGRhdGEucmVwb3NpdG9yeSA9IGRhdGEucmVwb3NpdG9yaWVzWzBdXG4gICAgfVxuICAgIGlmICghZGF0YS5yZXBvc2l0b3J5KSByZXR1cm4gdGhpcy53YXJuKFwibWlzc2luZ1JlcG9zaXRvcnlcIilcbiAgICBpZiAodHlwZW9mIGRhdGEucmVwb3NpdG9yeSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgZGF0YS5yZXBvc2l0b3J5ID0ge1xuICAgICAgICB0eXBlOiBcImdpdFwiLFxuICAgICAgICB1cmw6IGRhdGEucmVwb3NpdG9yeVxuICAgICAgfVxuICAgIH1cbiAgICB2YXIgciA9IGRhdGEucmVwb3NpdG9yeS51cmwgfHwgXCJcIlxuICAgIGlmIChyKSB7XG4gICAgICB2YXIgaG9zdGVkID0gaG9zdGVkR2l0SW5mby5mcm9tVXJsKHIpXG4gICAgICBpZiAoaG9zdGVkKSB7XG4gICAgICAgIHIgPSBkYXRhLnJlcG9zaXRvcnkudXJsXG4gICAgICAgICAgPSBob3N0ZWQuZ2V0RGVmYXVsdFJlcHJlc2VudGF0aW9uKCkgPT0gXCJzaG9ydGN1dFwiID8gaG9zdGVkLmh0dHBzKCkgOiBob3N0ZWQudG9TdHJpbmcoKVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChyLm1hdGNoKC9naXRodWIuY29tXFwvW15cXC9dK1xcL1teXFwvXStcXC5naXRcXC5naXQkLykpIHtcbiAgICAgIHRoaXMud2FybihcImJyb2tlbkdpdFVybFwiLCByKVxuICAgIH1cbiAgfVxuXG4sIGZpeFR5cG9zOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgT2JqZWN0LmtleXModHlwb3MudG9wTGV2ZWwpLmZvckVhY2goZnVuY3Rpb24gKGQpIHtcbiAgICAgIGlmIChkYXRhLmhhc093blByb3BlcnR5KGQpKSB7XG4gICAgICAgIHRoaXMud2FybihcInR5cG9cIiwgZCwgdHlwb3MudG9wTGV2ZWxbZF0pXG4gICAgICB9XG4gICAgfSwgdGhpcylcbiAgfVxuXG4sIGZpeFNjcmlwdHNGaWVsZDogZnVuY3Rpb24oZGF0YSkge1xuICAgIGlmICghZGF0YS5zY3JpcHRzKSByZXR1cm5cbiAgICBpZiAodHlwZW9mIGRhdGEuc2NyaXB0cyAhPT0gXCJvYmplY3RcIikge1xuICAgICAgdGhpcy53YXJuKFwibm9uT2JqZWN0U2NyaXB0c1wiKVxuICAgICAgZGVsZXRlIGRhdGEuc2NyaXB0c1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIE9iamVjdC5rZXlzKGRhdGEuc2NyaXB0cykuZm9yRWFjaChmdW5jdGlvbiAoaykge1xuICAgICAgaWYgKHR5cGVvZiBkYXRhLnNjcmlwdHNba10gIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgdGhpcy53YXJuKFwibm9uU3RyaW5nU2NyaXB0XCIpXG4gICAgICAgIGRlbGV0ZSBkYXRhLnNjcmlwdHNba11cbiAgICAgIH0gZWxzZSBpZiAodHlwb3Muc2NyaXB0W2tdICYmICFkYXRhLnNjcmlwdHNbdHlwb3Muc2NyaXB0W2tdXSkge1xuICAgICAgICB0aGlzLndhcm4oXCJ0eXBvXCIsIGssIHR5cG9zLnNjcmlwdFtrXSwgXCJzY3JpcHRzXCIpXG4gICAgICB9XG4gICAgfSwgdGhpcylcbiAgfVxuXG4sIGZpeEZpbGVzRmllbGQ6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICB2YXIgZmlsZXMgPSBkYXRhLmZpbGVzXG4gICAgaWYgKGZpbGVzICYmICFBcnJheS5pc0FycmF5KGZpbGVzKSkge1xuICAgICAgdGhpcy53YXJuKFwibm9uQXJyYXlGaWxlc1wiKVxuICAgICAgZGVsZXRlIGRhdGEuZmlsZXNcbiAgICB9IGVsc2UgaWYgKGRhdGEuZmlsZXMpIHtcbiAgICAgIGRhdGEuZmlsZXMgPSBkYXRhLmZpbGVzLmZpbHRlcihmdW5jdGlvbihmaWxlKSB7XG4gICAgICAgIGlmICghZmlsZSB8fCB0eXBlb2YgZmlsZSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgIHRoaXMud2FybihcImludmFsaWRGaWxlbmFtZVwiLCBmaWxlKVxuICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0sIHRoaXMpXG4gICAgfVxuICB9XG5cbiwgZml4QmluRmllbGQ6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICBpZiAoIWRhdGEuYmluKSByZXR1cm47XG4gICAgaWYgKHR5cGVvZiBkYXRhLmJpbiA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgdmFyIGIgPSB7fVxuICAgICAgdmFyIG1hdGNoXG4gICAgICBpZiAobWF0Y2ggPSBkYXRhLm5hbWUubWF0Y2goL15AW14vXStbL10oLiopJC8pKSB7XG4gICAgICAgIGJbbWF0Y2hbMV1dID0gZGF0YS5iaW5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJbZGF0YS5uYW1lXSA9IGRhdGEuYmluXG4gICAgICB9XG4gICAgICBkYXRhLmJpbiA9IGJcbiAgICB9XG4gIH1cblxuLCBmaXhNYW5GaWVsZDogZnVuY3Rpb24oZGF0YSkge1xuICAgIGlmICghZGF0YS5tYW4pIHJldHVybjtcbiAgICBpZiAodHlwZW9mIGRhdGEubWFuID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBkYXRhLm1hbiA9IFsgZGF0YS5tYW4gXVxuICAgIH1cbiAgfVxuLCBmaXhCdW5kbGVEZXBlbmRlbmNpZXNGaWVsZDogZnVuY3Rpb24oZGF0YSkge1xuICAgIHZhciBiZGQgPSBcImJ1bmRsZWREZXBlbmRlbmNpZXNcIlxuICAgIHZhciBiZCA9IFwiYnVuZGxlRGVwZW5kZW5jaWVzXCJcbiAgICBpZiAoZGF0YVtiZGRdICYmICFkYXRhW2JkXSkge1xuICAgICAgZGF0YVtiZF0gPSBkYXRhW2JkZF1cbiAgICAgIGRlbGV0ZSBkYXRhW2JkZF1cbiAgICB9XG4gICAgaWYgKGRhdGFbYmRdICYmICFBcnJheS5pc0FycmF5KGRhdGFbYmRdKSkge1xuICAgICAgdGhpcy53YXJuKFwibm9uQXJyYXlCdW5kbGVEZXBlbmRlbmNpZXNcIilcbiAgICAgIGRlbGV0ZSBkYXRhW2JkXVxuICAgIH0gZWxzZSBpZiAoZGF0YVtiZF0pIHtcbiAgICAgIGRhdGFbYmRdID0gZGF0YVtiZF0uZmlsdGVyKGZ1bmN0aW9uKGJkKSB7XG4gICAgICAgIGlmICghYmQgfHwgdHlwZW9mIGJkICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgIHRoaXMud2FybihcIm5vblN0cmluZ0J1bmRsZURlcGVuZGVuY3lcIiwgYmQpXG4gICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKCFkYXRhLmRlcGVuZGVuY2llcykge1xuICAgICAgICAgICAgZGF0YS5kZXBlbmRlbmNpZXMgPSB7fVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIWRhdGEuZGVwZW5kZW5jaWVzLmhhc093blByb3BlcnR5KGJkKSkge1xuICAgICAgICAgICAgdGhpcy53YXJuKFwibm9uRGVwZW5kZW5jeUJ1bmRsZURlcGVuZGVuY3lcIiwgYmQpXG4gICAgICAgICAgICBkYXRhLmRlcGVuZGVuY2llc1tiZF0gPSBcIipcIlxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICB9XG4gICAgICB9LCB0aGlzKVxuICAgIH1cbiAgfVxuXG4sIGZpeERlcGVuZGVuY2llczogZnVuY3Rpb24oZGF0YSwgc3RyaWN0KSB7XG4gICAgdmFyIGxvb3NlID0gIXN0cmljdFxuICAgIG9iamVjdGlmeURlcHMoZGF0YSwgdGhpcy53YXJuKVxuICAgIGFkZE9wdGlvbmFsRGVwc1RvRGVwcyhkYXRhLCB0aGlzLndhcm4pXG4gICAgdGhpcy5maXhCdW5kbGVEZXBlbmRlbmNpZXNGaWVsZChkYXRhKVxuXG4gICAgO1snZGVwZW5kZW5jaWVzJywnZGV2RGVwZW5kZW5jaWVzJ10uZm9yRWFjaChmdW5jdGlvbihkZXBzKSB7XG4gICAgICBpZiAoIShkZXBzIGluIGRhdGEpKSByZXR1cm5cbiAgICAgIGlmICghZGF0YVtkZXBzXSB8fCB0eXBlb2YgZGF0YVtkZXBzXSAhPT0gXCJvYmplY3RcIikge1xuICAgICAgICB0aGlzLndhcm4oXCJub25PYmplY3REZXBlbmRlbmNpZXNcIiwgZGVwcylcbiAgICAgICAgZGVsZXRlIGRhdGFbZGVwc11cbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICBPYmplY3Qua2V5cyhkYXRhW2RlcHNdKS5mb3JFYWNoKGZ1bmN0aW9uIChkKSB7XG4gICAgICAgIHZhciByID0gZGF0YVtkZXBzXVtkXVxuICAgICAgICBpZiAodHlwZW9mIHIgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgdGhpcy53YXJuKFwibm9uU3RyaW5nRGVwZW5kZW5jeVwiLCBkLCBKU09OLnN0cmluZ2lmeShyKSlcbiAgICAgICAgICBkZWxldGUgZGF0YVtkZXBzXVtkXVxuICAgICAgICB9XG4gICAgICAgIHZhciBob3N0ZWQgPSBob3N0ZWRHaXRJbmZvLmZyb21VcmwoZGF0YVtkZXBzXVtkXSlcbiAgICAgICAgaWYgKGhvc3RlZCkgZGF0YVtkZXBzXVtkXSA9IGhvc3RlZC50b1N0cmluZygpXG4gICAgICB9LCB0aGlzKVxuICAgIH0sIHRoaXMpXG4gIH1cblxuLCBmaXhNb2R1bGVzRmllbGQ6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgaWYgKGRhdGEubW9kdWxlcykge1xuICAgICAgdGhpcy53YXJuKFwiZGVwcmVjYXRlZE1vZHVsZXNcIilcbiAgICAgIGRlbGV0ZSBkYXRhLm1vZHVsZXNcbiAgICB9XG4gIH1cblxuLCBmaXhLZXl3b3Jkc0ZpZWxkOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgIGlmICh0eXBlb2YgZGF0YS5rZXl3b3JkcyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgZGF0YS5rZXl3b3JkcyA9IGRhdGEua2V5d29yZHMuc3BsaXQoLyxcXHMrLylcbiAgICB9XG4gICAgaWYgKGRhdGEua2V5d29yZHMgJiYgIUFycmF5LmlzQXJyYXkoZGF0YS5rZXl3b3JkcykpIHtcbiAgICAgIGRlbGV0ZSBkYXRhLmtleXdvcmRzXG4gICAgICB0aGlzLndhcm4oXCJub25BcnJheUtleXdvcmRzXCIpXG4gICAgfSBlbHNlIGlmIChkYXRhLmtleXdvcmRzKSB7XG4gICAgICBkYXRhLmtleXdvcmRzID0gZGF0YS5rZXl3b3Jkcy5maWx0ZXIoZnVuY3Rpb24oa3cpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBrdyAhPT0gXCJzdHJpbmdcIiB8fCAha3cpIHtcbiAgICAgICAgICB0aGlzLndhcm4oXCJub25TdHJpbmdLZXl3b3JkXCIpO1xuICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0sIHRoaXMpXG4gICAgfVxuICB9XG5cbiwgZml4VmVyc2lvbkZpZWxkOiBmdW5jdGlvbihkYXRhLCBzdHJpY3QpIHtcbiAgICAvLyBhbGxvdyBcImxvb3NlXCIgc2VtdmVyIDEuMCB2ZXJzaW9ucyBpbiBub24tc3RyaWN0IG1vZGVcbiAgICAvLyBlbmZvcmNlIHN0cmljdCBzZW12ZXIgMi4wIGNvbXBsaWFuY2UgaW4gc3RyaWN0IG1vZGVcbiAgICB2YXIgbG9vc2UgPSAhc3RyaWN0XG4gICAgaWYgKCFkYXRhLnZlcnNpb24pIHtcbiAgICAgIGRhdGEudmVyc2lvbiA9IFwiXCJcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICAgIGlmICghc2VtdmVyLnZhbGlkKGRhdGEudmVyc2lvbiwgbG9vc2UpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgdmVyc2lvbjogXCInKyBkYXRhLnZlcnNpb24gKyAnXCInKVxuICAgIH1cbiAgICBkYXRhLnZlcnNpb24gPSBzZW12ZXIuY2xlYW4oZGF0YS52ZXJzaW9uLCBsb29zZSlcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiwgZml4UGVvcGxlOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgbW9kaWZ5UGVvcGxlKGRhdGEsIHVuUGFyc2VQZXJzb24pXG4gICAgbW9kaWZ5UGVvcGxlKGRhdGEsIHBhcnNlUGVyc29uKVxuICB9XG5cbiwgZml4TmFtZUZpZWxkOiBmdW5jdGlvbihkYXRhLCBvcHRpb25zKSB7XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSBcImJvb2xlYW5cIikgb3B0aW9ucyA9IHtzdHJpY3Q6IG9wdGlvbnN9XG4gICAgZWxzZSBpZiAodHlwZW9mIG9wdGlvbnMgPT09IFwidW5kZWZpbmVkXCIpIG9wdGlvbnMgPSB7fVxuICAgIHZhciBzdHJpY3QgPSBvcHRpb25zLnN0cmljdFxuICAgIGlmICghZGF0YS5uYW1lICYmICFzdHJpY3QpIHtcbiAgICAgIGRhdGEubmFtZSA9IFwiXCJcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBpZiAodHlwZW9mIGRhdGEubmFtZSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwibmFtZSBmaWVsZCBtdXN0IGJlIGEgc3RyaW5nLlwiKVxuICAgIH1cbiAgICBpZiAoIXN0cmljdClcbiAgICAgIGRhdGEubmFtZSA9IGRhdGEubmFtZS50cmltKClcbiAgICBlbnN1cmVWYWxpZE5hbWUoZGF0YS5uYW1lLCBzdHJpY3QsIG9wdGlvbnMuYWxsb3dMZWdhY3lDYXNlKVxuICAgIGlmIChpc0J1aWx0aW5Nb2R1bGUoZGF0YS5uYW1lKSlcbiAgICAgIHRoaXMud2FybihcImNvbmZsaWN0aW5nTmFtZVwiLCBkYXRhLm5hbWUpXG4gIH1cblxuXG4sIGZpeERlc2NyaXB0aW9uRmllbGQ6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgaWYgKGRhdGEuZGVzY3JpcHRpb24gJiYgdHlwZW9mIGRhdGEuZGVzY3JpcHRpb24gIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aGlzLndhcm4oXCJub25TdHJpbmdEZXNjcmlwdGlvblwiKVxuICAgICAgZGVsZXRlIGRhdGEuZGVzY3JpcHRpb25cbiAgICB9XG4gICAgaWYgKGRhdGEucmVhZG1lICYmICFkYXRhLmRlc2NyaXB0aW9uKVxuICAgICAgZGF0YS5kZXNjcmlwdGlvbiA9IGV4dHJhY3REZXNjcmlwdGlvbihkYXRhLnJlYWRtZSlcbiAgICAgIGlmKGRhdGEuZGVzY3JpcHRpb24gPT09IHVuZGVmaW5lZCkgZGVsZXRlIGRhdGEuZGVzY3JpcHRpb247XG4gICAgaWYgKCFkYXRhLmRlc2NyaXB0aW9uKSB0aGlzLndhcm4oXCJtaXNzaW5nRGVzY3JpcHRpb25cIilcbiAgfVxuXG4sIGZpeFJlYWRtZUZpZWxkOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgIGlmICghZGF0YS5yZWFkbWUpIHtcbiAgICAgIHRoaXMud2FybihcIm1pc3NpbmdSZWFkbWVcIilcbiAgICAgIGRhdGEucmVhZG1lID0gXCJFUlJPUjogTm8gUkVBRE1FIGRhdGEgZm91bmQhXCJcbiAgICB9XG4gIH1cblxuLCBmaXhCdWdzRmllbGQ6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICBpZiAoIWRhdGEuYnVncyAmJiBkYXRhLnJlcG9zaXRvcnkgJiYgZGF0YS5yZXBvc2l0b3J5LnVybCkge1xuICAgICAgdmFyIGhvc3RlZCA9IGhvc3RlZEdpdEluZm8uZnJvbVVybChkYXRhLnJlcG9zaXRvcnkudXJsKVxuICAgICAgaWYoaG9zdGVkICYmIGhvc3RlZC5idWdzKCkpIHtcbiAgICAgICAgZGF0YS5idWdzID0ge3VybDogaG9zdGVkLmJ1Z3MoKX1cbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZihkYXRhLmJ1Z3MpIHtcbiAgICAgIHZhciBlbWFpbFJlID0gL14uK0AuKlxcLi4rJC9cbiAgICAgIGlmKHR5cGVvZiBkYXRhLmJ1Z3MgPT0gXCJzdHJpbmdcIikge1xuICAgICAgICBpZihlbWFpbFJlLnRlc3QoZGF0YS5idWdzKSlcbiAgICAgICAgICBkYXRhLmJ1Z3MgPSB7ZW1haWw6ZGF0YS5idWdzfVxuICAgICAgICBlbHNlIGlmKHVybC5wYXJzZShkYXRhLmJ1Z3MpLnByb3RvY29sKVxuICAgICAgICAgIGRhdGEuYnVncyA9IHt1cmw6IGRhdGEuYnVnc31cbiAgICAgICAgZWxzZVxuICAgICAgICAgIHRoaXMud2FybihcIm5vbkVtYWlsVXJsQnVnc1N0cmluZ1wiKVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGJ1Z3NUeXBvcyhkYXRhLmJ1Z3MsIHRoaXMud2FybilcbiAgICAgICAgdmFyIG9sZEJ1Z3MgPSBkYXRhLmJ1Z3NcbiAgICAgICAgZGF0YS5idWdzID0ge31cbiAgICAgICAgaWYob2xkQnVncy51cmwpIHtcbiAgICAgICAgICBpZih0eXBlb2Yob2xkQnVncy51cmwpID09IFwic3RyaW5nXCIgJiYgdXJsLnBhcnNlKG9sZEJ1Z3MudXJsKS5wcm90b2NvbClcbiAgICAgICAgICAgIGRhdGEuYnVncy51cmwgPSBvbGRCdWdzLnVybFxuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMud2FybihcIm5vblVybEJ1Z3NVcmxGaWVsZFwiKVxuICAgICAgICB9XG4gICAgICAgIGlmKG9sZEJ1Z3MuZW1haWwpIHtcbiAgICAgICAgICBpZih0eXBlb2Yob2xkQnVncy5lbWFpbCkgPT0gXCJzdHJpbmdcIiAmJiBlbWFpbFJlLnRlc3Qob2xkQnVncy5lbWFpbCkpXG4gICAgICAgICAgICBkYXRhLmJ1Z3MuZW1haWwgPSBvbGRCdWdzLmVtYWlsXG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhpcy53YXJuKFwibm9uRW1haWxCdWdzRW1haWxGaWVsZFwiKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZighZGF0YS5idWdzLmVtYWlsICYmICFkYXRhLmJ1Z3MudXJsKSB7XG4gICAgICAgIGRlbGV0ZSBkYXRhLmJ1Z3NcbiAgICAgICAgdGhpcy53YXJuKFwiZW1wdHlOb3JtYWxpemVkQnVnc1wiKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4sIGZpeEhvbWVwYWdlRmllbGQ6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICBpZiAoIWRhdGEuaG9tZXBhZ2UgJiYgZGF0YS5yZXBvc2l0b3J5ICYmIGRhdGEucmVwb3NpdG9yeS51cmwpIHtcbiAgICAgIHZhciBob3N0ZWQgPSBob3N0ZWRHaXRJbmZvLmZyb21VcmwoZGF0YS5yZXBvc2l0b3J5LnVybClcbiAgICAgIGlmIChob3N0ZWQgJiYgaG9zdGVkLmRvY3MoKSkgZGF0YS5ob21lcGFnZSA9IGhvc3RlZC5kb2NzKClcbiAgICB9XG4gICAgaWYgKCFkYXRhLmhvbWVwYWdlKSByZXR1cm5cblxuICAgIGlmKHR5cGVvZiBkYXRhLmhvbWVwYWdlICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICB0aGlzLndhcm4oXCJub25VcmxIb21lcGFnZVwiKVxuICAgICAgcmV0dXJuIGRlbGV0ZSBkYXRhLmhvbWVwYWdlXG4gICAgfVxuICAgIGlmKCF1cmwucGFyc2UoZGF0YS5ob21lcGFnZSkucHJvdG9jb2wpIHtcbiAgICAgIGRhdGEuaG9tZXBhZ2UgPSBcImh0dHA6Ly9cIiArIGRhdGEuaG9tZXBhZ2VcbiAgICB9XG4gIH1cblxuLCBmaXhMaWNlbnNlRmllbGQ6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICBpZiAoIWRhdGEubGljZW5zZSkge1xuICAgICAgcmV0dXJuIHRoaXMud2FybihcIm1pc3NpbmdMaWNlbnNlXCIpXG4gICAgfSBlbHNle1xuICAgICAgaWYgKFxuICAgICAgICB0eXBlb2YoZGF0YS5saWNlbnNlKSAhPT0gJ3N0cmluZycgfHxcbiAgICAgICAgZGF0YS5saWNlbnNlLmxlbmd0aCA8IDEgfHxcbiAgICAgICAgZGF0YS5saWNlbnNlLnRyaW0oKSA9PT0gJydcbiAgICAgICkge1xuICAgICAgICB0aGlzLndhcm4oXCJpbnZhbGlkTGljZW5zZVwiKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCF2YWxpZGF0ZUxpY2Vuc2UoZGF0YS5saWNlbnNlKS52YWxpZEZvck5ld1BhY2thZ2VzKVxuICAgICAgICAgIHRoaXMud2FybihcImludmFsaWRMaWNlbnNlXCIpXG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGlzVmFsaWRTY29wZWRQYWNrYWdlTmFtZShzcGVjKSB7XG4gIGlmIChzcGVjLmNoYXJBdCgwKSAhPT0gJ0AnKSByZXR1cm4gZmFsc2VcblxuICB2YXIgcmVzdCA9IHNwZWMuc2xpY2UoMSkuc3BsaXQoJy8nKVxuICBpZiAocmVzdC5sZW5ndGggIT09IDIpIHJldHVybiBmYWxzZVxuXG4gIHJldHVybiByZXN0WzBdICYmIHJlc3RbMV0gJiZcbiAgICByZXN0WzBdID09PSBlbmNvZGVVUklDb21wb25lbnQocmVzdFswXSkgJiZcbiAgICByZXN0WzFdID09PSBlbmNvZGVVUklDb21wb25lbnQocmVzdFsxXSlcbn1cblxuZnVuY3Rpb24gaXNDb3JyZWN0bHlFbmNvZGVkTmFtZShzcGVjKSB7XG4gIHJldHVybiAhc3BlYy5tYXRjaCgvW1xcL0BcXHNcXCslOl0vKSAmJlxuICAgIHNwZWMgPT09IGVuY29kZVVSSUNvbXBvbmVudChzcGVjKVxufVxuXG5mdW5jdGlvbiBlbnN1cmVWYWxpZE5hbWUgKG5hbWUsIHN0cmljdCwgYWxsb3dMZWdhY3lDYXNlKSB7XG4gIGlmIChuYW1lLmNoYXJBdCgwKSA9PT0gXCIuXCIgfHxcbiAgICAgICEoaXNWYWxpZFNjb3BlZFBhY2thZ2VOYW1lKG5hbWUpIHx8IGlzQ29ycmVjdGx5RW5jb2RlZE5hbWUobmFtZSkpIHx8XG4gICAgICAoc3RyaWN0ICYmICghYWxsb3dMZWdhY3lDYXNlKSAmJiBuYW1lICE9PSBuYW1lLnRvTG93ZXJDYXNlKCkpIHx8XG4gICAgICBuYW1lLnRvTG93ZXJDYXNlKCkgPT09IFwibm9kZV9tb2R1bGVzXCIgfHxcbiAgICAgIG5hbWUudG9Mb3dlckNhc2UoKSA9PT0gXCJmYXZpY29uLmljb1wiKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgbmFtZTogXCIgKyBKU09OLnN0cmluZ2lmeShuYW1lKSlcbiAgfVxufVxuXG5mdW5jdGlvbiBtb2RpZnlQZW9wbGUgKGRhdGEsIGZuKSB7XG4gIGlmIChkYXRhLmF1dGhvcikgZGF0YS5hdXRob3IgPSBmbihkYXRhLmF1dGhvcilcbiAgO1tcIm1haW50YWluZXJzXCIsIFwiY29udHJpYnV0b3JzXCJdLmZvckVhY2goZnVuY3Rpb24gKHNldCkge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShkYXRhW3NldF0pKSByZXR1cm47XG4gICAgZGF0YVtzZXRdID0gZGF0YVtzZXRdLm1hcChmbilcbiAgfSlcbiAgcmV0dXJuIGRhdGFcbn1cblxuZnVuY3Rpb24gdW5QYXJzZVBlcnNvbiAocGVyc29uKSB7XG4gIGlmICh0eXBlb2YgcGVyc29uID09PSBcInN0cmluZ1wiKSByZXR1cm4gcGVyc29uXG4gIHZhciBuYW1lID0gcGVyc29uLm5hbWUgfHwgXCJcIlxuICB2YXIgdSA9IHBlcnNvbi51cmwgfHwgcGVyc29uLndlYlxuICB2YXIgdXJsID0gdSA/IChcIiAoXCIrdStcIilcIikgOiBcIlwiXG4gIHZhciBlID0gcGVyc29uLmVtYWlsIHx8IHBlcnNvbi5tYWlsXG4gIHZhciBlbWFpbCA9IGUgPyAoXCIgPFwiK2UrXCI+XCIpIDogXCJcIlxuICByZXR1cm4gbmFtZStlbWFpbCt1cmxcbn1cblxuZnVuY3Rpb24gcGFyc2VQZXJzb24gKHBlcnNvbikge1xuICBpZiAodHlwZW9mIHBlcnNvbiAhPT0gXCJzdHJpbmdcIikgcmV0dXJuIHBlcnNvblxuICB2YXIgbmFtZSA9IHBlcnNvbi5tYXRjaCgvXihbXlxcKDxdKykvKVxuICB2YXIgdXJsID0gcGVyc29uLm1hdGNoKC9cXCgoW15cXCldKylcXCkvKVxuICB2YXIgZW1haWwgPSBwZXJzb24ubWF0Y2goLzwoW14+XSspPi8pXG4gIHZhciBvYmogPSB7fVxuICBpZiAobmFtZSAmJiBuYW1lWzBdLnRyaW0oKSkgb2JqLm5hbWUgPSBuYW1lWzBdLnRyaW0oKVxuICBpZiAoZW1haWwpIG9iai5lbWFpbCA9IGVtYWlsWzFdO1xuICBpZiAodXJsKSBvYmoudXJsID0gdXJsWzFdO1xuICByZXR1cm4gb2JqXG59XG5cbmZ1bmN0aW9uIGFkZE9wdGlvbmFsRGVwc1RvRGVwcyAoZGF0YSwgd2Fybikge1xuICB2YXIgbyA9IGRhdGEub3B0aW9uYWxEZXBlbmRlbmNpZXNcbiAgaWYgKCFvKSByZXR1cm47XG4gIHZhciBkID0gZGF0YS5kZXBlbmRlbmNpZXMgfHwge31cbiAgT2JqZWN0LmtleXMobykuZm9yRWFjaChmdW5jdGlvbiAoaykge1xuICAgIGRba10gPSBvW2tdXG4gIH0pXG4gIGRhdGEuZGVwZW5kZW5jaWVzID0gZFxufVxuXG5mdW5jdGlvbiBkZXBPYmplY3RpZnkgKGRlcHMsIHR5cGUsIHdhcm4pIHtcbiAgaWYgKCFkZXBzKSByZXR1cm4ge31cbiAgaWYgKHR5cGVvZiBkZXBzID09PSBcInN0cmluZ1wiKSB7XG4gICAgZGVwcyA9IGRlcHMudHJpbSgpLnNwbGl0KC9bXFxuXFxyXFxzXFx0ICxdKy8pXG4gIH1cbiAgaWYgKCFBcnJheS5pc0FycmF5KGRlcHMpKSByZXR1cm4gZGVwc1xuICB3YXJuKFwiZGVwcmVjYXRlZEFycmF5RGVwZW5kZW5jaWVzXCIsIHR5cGUpXG4gIHZhciBvID0ge31cbiAgZGVwcy5maWx0ZXIoZnVuY3Rpb24gKGQpIHtcbiAgICByZXR1cm4gdHlwZW9mIGQgPT09IFwic3RyaW5nXCJcbiAgfSkuZm9yRWFjaChmdW5jdGlvbihkKSB7XG4gICAgZCA9IGQudHJpbSgpLnNwbGl0KC8oOj9bQFxccz48PV0pLylcbiAgICB2YXIgZG4gPSBkLnNoaWZ0KClcbiAgICB2YXIgZHYgPSBkLmpvaW4oXCJcIilcbiAgICBkdiA9IGR2LnRyaW0oKVxuICAgIGR2ID0gZHYucmVwbGFjZSgvXkAvLCBcIlwiKVxuICAgIG9bZG5dID0gZHZcbiAgfSlcbiAgcmV0dXJuIG9cbn1cblxuZnVuY3Rpb24gb2JqZWN0aWZ5RGVwcyAoZGF0YSwgd2Fybikge1xuICBkZXBUeXBlcy5mb3JFYWNoKGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgaWYgKCFkYXRhW3R5cGVdKSByZXR1cm47XG4gICAgZGF0YVt0eXBlXSA9IGRlcE9iamVjdGlmeShkYXRhW3R5cGVdLCB0eXBlLCB3YXJuKVxuICB9KVxufVxuXG5mdW5jdGlvbiBidWdzVHlwb3MoYnVncywgd2Fybikge1xuICBpZiAoIWJ1Z3MpIHJldHVyblxuICBPYmplY3Qua2V5cyhidWdzKS5mb3JFYWNoKGZ1bmN0aW9uIChrKSB7XG4gICAgaWYgKHR5cG9zLmJ1Z3Nba10pIHtcbiAgICAgIHdhcm4oXCJ0eXBvXCIsIGssIHR5cG9zLmJ1Z3Nba10sIFwiYnVnc1wiKVxuICAgICAgYnVnc1t0eXBvcy5idWdzW2tdXSA9IGJ1Z3Nba11cbiAgICAgIGRlbGV0ZSBidWdzW2tdXG4gICAgfVxuICB9KVxufVxuIiwgInZhciB1dGlsID0gcmVxdWlyZShcInV0aWxcIilcbnZhciBtZXNzYWdlcyA9IHJlcXVpcmUoXCIuL3dhcm5pbmdfbWVzc2FnZXMuanNvblwiKVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMClcbiAgdmFyIHdhcm5pbmdOYW1lID0gYXJncy5zaGlmdCgpXG4gIGlmICh3YXJuaW5nTmFtZSA9PSBcInR5cG9cIikge1xuICAgIHJldHVybiBtYWtlVHlwb1dhcm5pbmcuYXBwbHkobnVsbCxhcmdzKVxuICB9XG4gIGVsc2Uge1xuICAgIHZhciBtc2dUZW1wbGF0ZSA9IG1lc3NhZ2VzW3dhcm5pbmdOYW1lXSA/IG1lc3NhZ2VzW3dhcm5pbmdOYW1lXSA6IHdhcm5pbmdOYW1lICsgXCI6ICclcydcIlxuICAgIGFyZ3MudW5zaGlmdChtc2dUZW1wbGF0ZSlcbiAgICByZXR1cm4gdXRpbC5mb3JtYXQuYXBwbHkobnVsbCwgYXJncylcbiAgfVxufVxuXG5mdW5jdGlvbiBtYWtlVHlwb1dhcm5pbmcgKHByb3ZpZGVkTmFtZSwgcHJvYmFibGVOYW1lLCBmaWVsZCkge1xuICBpZiAoZmllbGQpIHtcbiAgICBwcm92aWRlZE5hbWUgPSBmaWVsZCArIFwiWydcIiArIHByb3ZpZGVkTmFtZSArIFwiJ11cIlxuICAgIHByb2JhYmxlTmFtZSA9IGZpZWxkICsgXCJbJ1wiICsgcHJvYmFibGVOYW1lICsgXCInXVwiXG4gIH1cbiAgcmV0dXJuIHV0aWwuZm9ybWF0KG1lc3NhZ2VzLnR5cG8sIHByb3ZpZGVkTmFtZSwgcHJvYmFibGVOYW1lKVxufVxuIiwgIm1vZHVsZS5leHBvcnRzID0gbm9ybWFsaXplXG5cbnZhciBmaXhlciA9IHJlcXVpcmUoXCIuL2ZpeGVyXCIpXG5ub3JtYWxpemUuZml4ZXIgPSBmaXhlclxuXG52YXIgbWFrZVdhcm5pbmcgPSByZXF1aXJlKFwiLi9tYWtlX3dhcm5pbmdcIilcblxudmFyIGZpZWxkc1RvRml4ID0gWyduYW1lJywndmVyc2lvbicsJ2Rlc2NyaXB0aW9uJywncmVwb3NpdG9yeScsJ21vZHVsZXMnLCdzY3JpcHRzJ1xuICAgICAgICAgICAgICAgICAgLCdmaWxlcycsJ2JpbicsJ21hbicsJ2J1Z3MnLCdrZXl3b3JkcycsJ3JlYWRtZScsJ2hvbWVwYWdlJywnbGljZW5zZSddXG52YXIgb3RoZXJUaGluZ3NUb0ZpeCA9IFsnZGVwZW5kZW5jaWVzJywncGVvcGxlJywgJ3R5cG9zJ11cblxudmFyIHRoaW5nc1RvRml4ID0gZmllbGRzVG9GaXgubWFwKGZ1bmN0aW9uKGZpZWxkTmFtZSkge1xuICByZXR1cm4gdWNGaXJzdChmaWVsZE5hbWUpICsgXCJGaWVsZFwiXG59KVxuLy8gdHdvIHdheXMgdG8gZG8gdGhpcyBpbiBDb2ZmZWVTY3JpcHQgb24gb25seSBvbmUgbGluZSwgc3ViLTcwIGNoYXJzOlxuLy8gdGhpbmdzVG9GaXggPSBmaWVsZHNUb0ZpeC5tYXAgKG5hbWUpIC0+IHVjRmlyc3QobmFtZSkgKyBcIkZpZWxkXCJcbi8vIHRoaW5nc1RvRml4ID0gKHVjRmlyc3QobmFtZSkgKyBcIkZpZWxkXCIgZm9yIG5hbWUgaW4gZmllbGRzVG9GaXgpXG50aGluZ3NUb0ZpeCA9IHRoaW5nc1RvRml4LmNvbmNhdChvdGhlclRoaW5nc1RvRml4KVxuXG5mdW5jdGlvbiBub3JtYWxpemUgKGRhdGEsIHdhcm4sIHN0cmljdCkge1xuICBpZih3YXJuID09PSB0cnVlKSB3YXJuID0gbnVsbCwgc3RyaWN0ID0gdHJ1ZVxuICBpZighc3RyaWN0KSBzdHJpY3QgPSBmYWxzZVxuICBpZighd2FybiB8fCBkYXRhLnByaXZhdGUpIHdhcm4gPSBmdW5jdGlvbihtc2cpIHsgLyogbm9vcCAqLyB9XG5cbiAgaWYgKGRhdGEuc2NyaXB0cyAmJlxuICAgICAgZGF0YS5zY3JpcHRzLmluc3RhbGwgPT09IFwibm9kZS1neXAgcmVidWlsZFwiICYmXG4gICAgICAhZGF0YS5zY3JpcHRzLnByZWluc3RhbGwpIHtcbiAgICBkYXRhLmd5cGZpbGUgPSB0cnVlXG4gIH1cbiAgZml4ZXIud2FybiA9IGZ1bmN0aW9uKCkgeyB3YXJuKG1ha2VXYXJuaW5nLmFwcGx5KG51bGwsIGFyZ3VtZW50cykpIH1cbiAgdGhpbmdzVG9GaXguZm9yRWFjaChmdW5jdGlvbih0aGluZ05hbWUpIHtcbiAgICBmaXhlcltcImZpeFwiICsgdWNGaXJzdCh0aGluZ05hbWUpXShkYXRhLCBzdHJpY3QpXG4gIH0pXG4gIGRhdGEuX2lkID0gZGF0YS5uYW1lICsgXCJAXCIgKyBkYXRhLnZlcnNpb25cbn1cblxuZnVuY3Rpb24gdWNGaXJzdCAoc3RyaW5nKSB7XG4gIHJldHVybiBzdHJpbmcuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzdHJpbmcuc2xpY2UoMSk7XG59XG4iLCAiJ3VzZSBzdHJpY3QnO1xuY29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcbmNvbnN0IGxvYWRKc29uRmlsZSA9IHJlcXVpcmUoJ2xvYWQtanNvbi1maWxlJyk7XG5jb25zdCBwYXRoVHlwZSA9IHJlcXVpcmUoJ3BhdGgtdHlwZScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IChmcCwgb3B0cykgPT4ge1xuXHRpZiAodHlwZW9mIGZwICE9PSAnc3RyaW5nJykge1xuXHRcdG9wdHMgPSBmcDtcblx0XHRmcCA9ICcuJztcblx0fVxuXG5cdG9wdHMgPSBvcHRzIHx8IHt9O1xuXG5cdHJldHVybiBwYXRoVHlwZS5kaXIoZnApXG5cdFx0LnRoZW4oaXNEaXIgPT4ge1xuXHRcdFx0aWYgKGlzRGlyKSB7XG5cdFx0XHRcdGZwID0gcGF0aC5qb2luKGZwLCAncGFja2FnZS5qc29uJyk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBsb2FkSnNvbkZpbGUoZnApO1xuXHRcdH0pXG5cdFx0LnRoZW4oeCA9PiB7XG5cdFx0XHRpZiAob3B0cy5ub3JtYWxpemUgIT09IGZhbHNlKSB7XG5cdFx0XHRcdHJlcXVpcmUoJ25vcm1hbGl6ZS1wYWNrYWdlLWRhdGEnKSh4KTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHg7XG5cdFx0fSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cy5zeW5jID0gKGZwLCBvcHRzKSA9PiB7XG5cdGlmICh0eXBlb2YgZnAgIT09ICdzdHJpbmcnKSB7XG5cdFx0b3B0cyA9IGZwO1xuXHRcdGZwID0gJy4nO1xuXHR9XG5cblx0b3B0cyA9IG9wdHMgfHwge307XG5cdGZwID0gcGF0aFR5cGUuZGlyU3luYyhmcCkgPyBwYXRoLmpvaW4oZnAsICdwYWNrYWdlLmpzb24nKSA6IGZwO1xuXG5cdGNvbnN0IHggPSBsb2FkSnNvbkZpbGUuc3luYyhmcCk7XG5cblx0aWYgKG9wdHMubm9ybWFsaXplICE9PSBmYWxzZSkge1xuXHRcdHJlcXVpcmUoJ25vcm1hbGl6ZS1wYWNrYWdlLWRhdGEnKSh4KTtcblx0fVxuXG5cdHJldHVybiB4O1xufTtcbiIsICIndXNlIHN0cmljdCc7XG5jb25zdCBmcyA9IHJlcXVpcmUoJ2ZzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnAgPT4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG5cdGZzLmFjY2VzcyhmcCwgZXJyID0+IHtcblx0XHRyZXNvbHZlKCFlcnIpO1xuXHR9KTtcbn0pO1xuXG5tb2R1bGUuZXhwb3J0cy5zeW5jID0gZnAgPT4ge1xuXHR0cnkge1xuXHRcdGZzLmFjY2Vzc1N5bmMoZnApO1xuXHRcdHJldHVybiB0cnVlO1xuXHR9IGNhdGNoIChlcnIpIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cbn07XG4iLCAiJ3VzZSBzdHJpY3QnO1xubW9kdWxlLmV4cG9ydHMgPSBjYiA9PiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcblx0cmVzb2x2ZShjYigpKTtcbn0pO1xuIiwgIid1c2Ugc3RyaWN0JztcbmNvbnN0IHBUcnkgPSByZXF1aXJlKCdwLXRyeScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGNvbmN1cnJlbmN5ID0+IHtcblx0aWYgKGNvbmN1cnJlbmN5IDwgMSkge1xuXHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ0V4cGVjdGVkIGBjb25jdXJyZW5jeWAgdG8gYmUgYSBudW1iZXIgZnJvbSAxIGFuZCB1cCcpO1xuXHR9XG5cblx0Y29uc3QgcXVldWUgPSBbXTtcblx0bGV0IGFjdGl2ZUNvdW50ID0gMDtcblxuXHRjb25zdCBuZXh0ID0gKCkgPT4ge1xuXHRcdGFjdGl2ZUNvdW50LS07XG5cblx0XHRpZiAocXVldWUubGVuZ3RoID4gMCkge1xuXHRcdFx0cXVldWUuc2hpZnQoKSgpO1xuXHRcdH1cblx0fTtcblxuXHRyZXR1cm4gZm4gPT4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdGNvbnN0IHJ1biA9ICgpID0+IHtcblx0XHRcdGFjdGl2ZUNvdW50Kys7XG5cblx0XHRcdHBUcnkoZm4pLnRoZW4oXG5cdFx0XHRcdHZhbCA9PiB7XG5cdFx0XHRcdFx0cmVzb2x2ZSh2YWwpO1xuXHRcdFx0XHRcdG5leHQoKTtcblx0XHRcdFx0fSxcblx0XHRcdFx0ZXJyID0+IHtcblx0XHRcdFx0XHRyZWplY3QoZXJyKTtcblx0XHRcdFx0XHRuZXh0KCk7XG5cdFx0XHRcdH1cblx0XHRcdCk7XG5cdFx0fTtcblxuXHRcdGlmIChhY3RpdmVDb3VudCA8IGNvbmN1cnJlbmN5KSB7XG5cdFx0XHRydW4oKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cXVldWUucHVzaChydW4pO1xuXHRcdH1cblx0fSk7XG59O1xuIiwgIid1c2Ugc3RyaWN0JztcbmNvbnN0IHBMaW1pdCA9IHJlcXVpcmUoJ3AtbGltaXQnKTtcblxuY2xhc3MgRW5kRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG5cdGNvbnN0cnVjdG9yKHZhbHVlKSB7XG5cdFx0c3VwZXIoKTtcblx0XHR0aGlzLnZhbHVlID0gdmFsdWU7XG5cdH1cbn1cblxuLy8gdGhlIGlucHV0IGNhbiBhbHNvIGJlIGEgcHJvbWlzZSwgc28gd2UgYFByb21pc2UuYWxsKClgIHRoZW0gYm90aFxuY29uc3QgZmluZGVyID0gZWwgPT4gUHJvbWlzZS5hbGwoZWwpLnRoZW4odmFsID0+IHZhbFsxXSA9PT0gdHJ1ZSAmJiBQcm9taXNlLnJlamVjdChuZXcgRW5kRXJyb3IodmFsWzBdKSkpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IChpdGVyYWJsZSwgdGVzdGVyLCBvcHRzKSA9PiB7XG5cdG9wdHMgPSBPYmplY3QuYXNzaWduKHtcblx0XHRjb25jdXJyZW5jeTogSW5maW5pdHksXG5cdFx0cHJlc2VydmVPcmRlcjogdHJ1ZVxuXHR9LCBvcHRzKTtcblxuXHRjb25zdCBsaW1pdCA9IHBMaW1pdChvcHRzLmNvbmN1cnJlbmN5KTtcblxuXHQvLyBzdGFydCBhbGwgdGhlIHByb21pc2VzIGNvbmN1cnJlbnRseSB3aXRoIG9wdGlvbmFsIGxpbWl0XG5cdGNvbnN0IGl0ZW1zID0gQXJyYXkuZnJvbShpdGVyYWJsZSkubWFwKGVsID0+IFtlbCwgbGltaXQoKCkgPT4gUHJvbWlzZS5yZXNvbHZlKGVsKS50aGVuKHRlc3RlcikpXSk7XG5cblx0Ly8gY2hlY2sgdGhlIHByb21pc2VzIGVpdGhlciBzZXJpYWxseSBvciBjb25jdXJyZW50bHlcblx0Y29uc3QgY2hlY2tMaW1pdCA9IHBMaW1pdChvcHRzLnByZXNlcnZlT3JkZXIgPyAxIDogSW5maW5pdHkpO1xuXG5cdHJldHVybiBQcm9taXNlLmFsbChpdGVtcy5tYXAoZWwgPT4gY2hlY2tMaW1pdCgoKSA9PiBmaW5kZXIoZWwpKSkpXG5cdFx0LnRoZW4oKCkgPT4ge30pXG5cdFx0LmNhdGNoKGVyciA9PiBlcnIgaW5zdGFuY2VvZiBFbmRFcnJvciA/IGVyci52YWx1ZSA6IFByb21pc2UucmVqZWN0KGVycikpO1xufTtcbiIsICIndXNlIHN0cmljdCc7XG5jb25zdCBwYXRoID0gcmVxdWlyZSgncGF0aCcpO1xuY29uc3QgcGF0aEV4aXN0cyA9IHJlcXVpcmUoJ3BhdGgtZXhpc3RzJyk7XG5jb25zdCBwTG9jYXRlID0gcmVxdWlyZSgncC1sb2NhdGUnKTtcblxubW9kdWxlLmV4cG9ydHMgPSAoaXRlcmFibGUsIG9wdHMpID0+IHtcblx0b3B0cyA9IE9iamVjdC5hc3NpZ24oe1xuXHRcdGN3ZDogcHJvY2Vzcy5jd2QoKVxuXHR9LCBvcHRzKTtcblxuXHRyZXR1cm4gcExvY2F0ZShpdGVyYWJsZSwgZWwgPT4gcGF0aEV4aXN0cyhwYXRoLnJlc29sdmUob3B0cy5jd2QsIGVsKSksIG9wdHMpO1xufTtcblxubW9kdWxlLmV4cG9ydHMuc3luYyA9IChpdGVyYWJsZSwgb3B0cykgPT4ge1xuXHRvcHRzID0gT2JqZWN0LmFzc2lnbih7XG5cdFx0Y3dkOiBwcm9jZXNzLmN3ZCgpXG5cdH0sIG9wdHMpO1xuXG5cdGZvciAoY29uc3QgZWwgb2YgaXRlcmFibGUpIHtcblx0XHRpZiAocGF0aEV4aXN0cy5zeW5jKHBhdGgucmVzb2x2ZShvcHRzLmN3ZCwgZWwpKSkge1xuXHRcdFx0cmV0dXJuIGVsO1xuXHRcdH1cblx0fVxufTtcbiIsICIndXNlIHN0cmljdCc7XG5jb25zdCBwYXRoID0gcmVxdWlyZSgncGF0aCcpO1xuY29uc3QgbG9jYXRlUGF0aCA9IHJlcXVpcmUoJ2xvY2F0ZS1wYXRoJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gKGZpbGVuYW1lLCBvcHRzKSA9PiB7XG5cdG9wdHMgPSBvcHRzIHx8IHt9O1xuXG5cdGNvbnN0IHN0YXJ0RGlyID0gcGF0aC5yZXNvbHZlKG9wdHMuY3dkIHx8ICcnKTtcblx0Y29uc3Qgcm9vdCA9IHBhdGgucGFyc2Uoc3RhcnREaXIpLnJvb3Q7XG5cblx0Y29uc3QgZmlsZW5hbWVzID0gW10uY29uY2F0KGZpbGVuYW1lKTtcblxuXHRyZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG5cdFx0KGZ1bmN0aW9uIGZpbmQoZGlyKSB7XG5cdFx0XHRsb2NhdGVQYXRoKGZpbGVuYW1lcywge2N3ZDogZGlyfSkudGhlbihmaWxlID0+IHtcblx0XHRcdFx0aWYgKGZpbGUpIHtcblx0XHRcdFx0XHRyZXNvbHZlKHBhdGguam9pbihkaXIsIGZpbGUpKTtcblx0XHRcdFx0fSBlbHNlIGlmIChkaXIgPT09IHJvb3QpIHtcblx0XHRcdFx0XHRyZXNvbHZlKG51bGwpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGZpbmQocGF0aC5kaXJuYW1lKGRpcikpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9KShzdGFydERpcik7XG5cdH0pO1xufTtcblxubW9kdWxlLmV4cG9ydHMuc3luYyA9IChmaWxlbmFtZSwgb3B0cykgPT4ge1xuXHRvcHRzID0gb3B0cyB8fCB7fTtcblxuXHRsZXQgZGlyID0gcGF0aC5yZXNvbHZlKG9wdHMuY3dkIHx8ICcnKTtcblx0Y29uc3Qgcm9vdCA9IHBhdGgucGFyc2UoZGlyKS5yb290O1xuXG5cdGNvbnN0IGZpbGVuYW1lcyA9IFtdLmNvbmNhdChmaWxlbmFtZSk7XG5cblx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnN0YW50LWNvbmRpdGlvblxuXHR3aGlsZSAodHJ1ZSkge1xuXHRcdGNvbnN0IGZpbGUgPSBsb2NhdGVQYXRoLnN5bmMoZmlsZW5hbWVzLCB7Y3dkOiBkaXJ9KTtcblxuXHRcdGlmIChmaWxlKSB7XG5cdFx0XHRyZXR1cm4gcGF0aC5qb2luKGRpciwgZmlsZSk7XG5cdFx0fSBlbHNlIGlmIChkaXIgPT09IHJvb3QpIHtcblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH1cblxuXHRcdGRpciA9IHBhdGguZGlybmFtZShkaXIpO1xuXHR9XG59O1xuIiwgIid1c2Ugc3RyaWN0JztcbmNvbnN0IGZpbmRVcCA9IHJlcXVpcmUoJ2ZpbmQtdXAnKTtcbmNvbnN0IHJlYWRQa2cgPSByZXF1aXJlKCdyZWFkLXBrZycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IG9wdHMgPT4ge1xuXHRyZXR1cm4gZmluZFVwKCdwYWNrYWdlLmpzb24nLCBvcHRzKS50aGVuKGZwID0+IHtcblx0XHRpZiAoIWZwKSB7XG5cdFx0XHRyZXR1cm4ge307XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHJlYWRQa2coZnAsIG9wdHMpLnRoZW4ocGtnID0+ICh7cGtnLCBwYXRoOiBmcH0pKTtcblx0fSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cy5zeW5jID0gb3B0cyA9PiB7XG5cdGNvbnN0IGZwID0gZmluZFVwLnN5bmMoJ3BhY2thZ2UuanNvbicsIG9wdHMpO1xuXG5cdGlmICghZnApIHtcblx0XHRyZXR1cm4ge307XG5cdH1cblxuXHRyZXR1cm4ge1xuXHRcdHBrZzogcmVhZFBrZy5zeW5jKGZwLCBvcHRzKSxcblx0XHRwYXRoOiBmcFxuXHR9O1xufTtcbiIsICIndXNlIHN0cmljdCdcbmNvbnN0IGRhdGVGb3JtYXQgPSByZXF1aXJlKCdkYXRlZm9ybWF0JylcbmNvbnN0IGdldFBrZ1JlcG8gPSByZXF1aXJlKCdnZXQtcGtnLXJlcG8nKVxuY29uc3QgZ2l0U2VtdmVyVGFncyA9IHJlcXVpcmUoJ2dpdC1zZW12ZXItdGFncycpXG5jb25zdCBub3JtYWxpemVQYWNrYWdlRGF0YSA9IHJlcXVpcmUoJ25vcm1hbGl6ZS1wYWNrYWdlLWRhdGEnKVxuY29uc3QgUSA9IHJlcXVpcmUoJ3EnKVxubGV0IGdpdFJlbW90ZU9yaWdpblVybFxudHJ5IHtcbiAgZ2l0UmVtb3RlT3JpZ2luVXJsID0gcmVxdWlyZSgnZ2l0LXJlbW90ZS1vcmlnaW4tdXJsJylcbn0gY2F0Y2ggKGVycikge1xuICBnaXRSZW1vdGVPcmlnaW5VcmwgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIFEucmVqZWN0KGVycilcbiAgfVxufVxuY29uc3QgcmVhZFBrZyA9IHJlcXVpcmUoJ3JlYWQtcGtnJylcbmNvbnN0IHJlYWRQa2dVcCA9IHJlcXVpcmUoJ3JlYWQtcGtnLXVwJylcbmNvbnN0IFVSTCA9IHJlcXVpcmUoJ3VybCcpLlVSTFxuY29uc3QgXyA9IHJlcXVpcmUoJ2xvZGFzaCcpXG5cbmNvbnN0IHJob3N0cyA9IC9naXRodWJ8Yml0YnVja2V0fGdpdGxhYi9pXG5cbmZ1bmN0aW9uIHNlbXZlclRhZ3NQcm9taXNlIChvcHRpb25zKSB7XG4gIHJldHVybiBRLlByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIGdpdFNlbXZlclRhZ3MoeyBsZXJuYVRhZ3M6ICEhb3B0aW9ucy5sZXJuYVBhY2thZ2UsIHBhY2thZ2U6IG9wdGlvbnMubGVybmFQYWNrYWdlLCB0YWdQcmVmaXg6IG9wdGlvbnMudGFnUHJlZml4LCBza2lwVW5zdGFibGU6IG9wdGlvbnMuc2tpcFVuc3RhYmxlIH0sIGZ1bmN0aW9uIChlcnIsIHJlc3VsdCkge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICByZWplY3QoZXJyKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzb2x2ZShyZXN1bHQpXG4gICAgICB9XG4gICAgfSlcbiAgfSlcbn1cblxuZnVuY3Rpb24gZ3Vlc3NOZXh0VGFnIChwcmV2aW91c1RhZywgdmVyc2lvbikge1xuICBpZiAocHJldmlvdXNUYWcpIHtcbiAgICBpZiAocHJldmlvdXNUYWdbMF0gPT09ICd2JyAmJiB2ZXJzaW9uWzBdICE9PSAndicpIHtcbiAgICAgIHJldHVybiAndicgKyB2ZXJzaW9uXG4gICAgfVxuXG4gICAgaWYgKHByZXZpb3VzVGFnWzBdICE9PSAndicgJiYgdmVyc2lvblswXSA9PT0gJ3YnKSB7XG4gICAgICByZXR1cm4gdmVyc2lvbi5yZXBsYWNlKC9edi8sICcnKVxuICAgIH1cblxuICAgIHJldHVybiB2ZXJzaW9uXG4gIH1cblxuICBpZiAodmVyc2lvblswXSAhPT0gJ3YnKSB7XG4gICAgcmV0dXJuICd2JyArIHZlcnNpb25cbiAgfVxuXG4gIHJldHVybiB2ZXJzaW9uXG59XG5cbmZ1bmN0aW9uIG1lcmdlQ29uZmlnIChvcHRpb25zLCBjb250ZXh0LCBnaXRSYXdDb21taXRzT3B0cywgcGFyc2VyT3B0cywgd3JpdGVyT3B0cywgZ2l0UmF3RXhlY09wdHMpIHtcbiAgbGV0IGNvbmZpZ1Byb21pc2VcbiAgbGV0IHBrZ1Byb21pc2VcblxuICBjb250ZXh0ID0gY29udGV4dCB8fCB7fVxuICBnaXRSYXdDb21taXRzT3B0cyA9IGdpdFJhd0NvbW1pdHNPcHRzIHx8IHt9XG4gIGdpdFJhd0V4ZWNPcHRzID0gZ2l0UmF3RXhlY09wdHMgfHwge31cblxuICBjb25zdCBydGFnID0gb3B0aW9ucyAmJiBvcHRpb25zLnRhZ1ByZWZpeCA/IG5ldyBSZWdFeHAoYHRhZzpcXFxccypbPV0/JHtvcHRpb25zLnRhZ1ByZWZpeH0oLis/KVssKV1gLCAnZ2knKSA6IC90YWc6XFxzKlt2PV0/KC4rPylbLCldL2dpXG5cbiAgb3B0aW9ucyA9IF8ubWVyZ2Uoe1xuICAgIHBrZzoge1xuICAgICAgdHJhbnNmb3JtOiBmdW5jdGlvbiAocGtnKSB7XG4gICAgICAgIHJldHVybiBwa2dcbiAgICAgIH1cbiAgICB9LFxuICAgIGFwcGVuZDogZmFsc2UsXG4gICAgcmVsZWFzZUNvdW50OiAxLFxuICAgIHNraXBVbnN0YWJsZTogZmFsc2UsXG4gICAgZGVidWc6IGZ1bmN0aW9uICgpIHt9LFxuICAgIHRyYW5zZm9ybTogZnVuY3Rpb24gKGNvbW1pdCwgY2IpIHtcbiAgICAgIGlmIChfLmlzU3RyaW5nKGNvbW1pdC5naXRUYWdzKSkge1xuICAgICAgICBjb25zdCBtYXRjaCA9IHJ0YWcuZXhlYyhjb21taXQuZ2l0VGFncylcbiAgICAgICAgcnRhZy5sYXN0SW5kZXggPSAwXG5cbiAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgY29tbWl0LnZlcnNpb24gPSBtYXRjaFsxXVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChjb21taXQuY29tbWl0dGVyRGF0ZSkge1xuICAgICAgICBjb21taXQuY29tbWl0dGVyRGF0ZSA9IGRhdGVGb3JtYXQoY29tbWl0LmNvbW1pdHRlckRhdGUsICd5eXl5LW1tLWRkJywgdHJ1ZSlcbiAgICAgIH1cblxuICAgICAgY2IobnVsbCwgY29tbWl0KVxuICAgIH0sXG4gICAgbGVybmFQYWNrYWdlOiBudWxsXG4gIH0sIG9wdGlvbnMpXG5cbiAgb3B0aW9ucy53YXJuID0gb3B0aW9ucy53YXJuIHx8IG9wdGlvbnMuZGVidWdcblxuICBpZiAob3B0aW9ucy5jb25maWcpIHtcbiAgICBpZiAoXy5pc0Z1bmN0aW9uKG9wdGlvbnMuY29uZmlnKSkge1xuICAgICAgY29uZmlnUHJvbWlzZSA9IFEubmZjYWxsKG9wdGlvbnMuY29uZmlnKVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25maWdQcm9taXNlID0gUShvcHRpb25zLmNvbmZpZylcbiAgICB9XG4gIH1cblxuICBpZiAob3B0aW9ucy5wa2cpIHtcbiAgICBpZiAob3B0aW9ucy5wa2cucGF0aCkge1xuICAgICAgcGtnUHJvbWlzZSA9IFEocmVhZFBrZyhvcHRpb25zLnBrZy5wYXRoKSlcbiAgICB9IGVsc2Uge1xuICAgICAgcGtnUHJvbWlzZSA9IFEocmVhZFBrZ1VwKCkpXG4gICAgfVxuICB9XG5cbiAgY29uc3QgZ2l0UmVtb3RlT3JpZ2luVXJsUHJvbWlzZSA9IFEoZ2l0UmVtb3RlT3JpZ2luVXJsKCkpXG5cbiAgcmV0dXJuIFEuYWxsU2V0dGxlZChbY29uZmlnUHJvbWlzZSwgcGtnUHJvbWlzZSwgc2VtdmVyVGFnc1Byb21pc2Uob3B0aW9ucyksIGdpdFJlbW90ZU9yaWdpblVybFByb21pc2VdKVxuICAgIC5zcHJlYWQoZnVuY3Rpb24gKGNvbmZpZ09iaiwgcGtnT2JqLCB0YWdzT2JqLCBnaXRSZW1vdGVPcmlnaW5VcmxPYmopIHtcbiAgICAgIGxldCBjb25maWdcbiAgICAgIGxldCBwa2dcbiAgICAgIGxldCBmcm9tVGFnXG4gICAgICBsZXQgcmVwb1xuXG4gICAgICBsZXQgaG9zdE9wdHNcblxuICAgICAgbGV0IGdpdFNlbXZlclRhZ3MgPSBbXVxuXG4gICAgICBpZiAoY29uZmlnUHJvbWlzZSkge1xuICAgICAgICBpZiAoY29uZmlnT2JqLnN0YXRlID09PSAnZnVsZmlsbGVkJykge1xuICAgICAgICAgIGNvbmZpZyA9IGNvbmZpZ09iai52YWx1ZVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9wdGlvbnMud2FybignRXJyb3IgaW4gY29uZmlnJyArIGNvbmZpZ09iai5yZWFzb24udG9TdHJpbmcoKSlcbiAgICAgICAgICBjb25maWcgPSB7fVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25maWcgPSB7fVxuICAgICAgfVxuXG4gICAgICBjb250ZXh0ID0gXy5hc3NpZ24oY29udGV4dCwgY29uZmlnLmNvbnRleHQpXG5cbiAgICAgIGlmIChvcHRpb25zLnBrZykge1xuICAgICAgICBpZiAocGtnT2JqLnN0YXRlID09PSAnZnVsZmlsbGVkJykge1xuICAgICAgICAgIGlmIChvcHRpb25zLnBrZy5wYXRoKSB7XG4gICAgICAgICAgICBwa2cgPSBwa2dPYmoudmFsdWVcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGtnID0gcGtnT2JqLnZhbHVlLnBrZyB8fCB7fVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHBrZyA9IG9wdGlvbnMucGtnLnRyYW5zZm9ybShwa2cpXG4gICAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy5wa2cucGF0aCkge1xuICAgICAgICAgIG9wdGlvbnMud2Fybihwa2dPYmoucmVhc29uLnRvU3RyaW5nKCkpXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCghcGtnIHx8ICFwa2cucmVwb3NpdG9yeSB8fCAhcGtnLnJlcG9zaXRvcnkudXJsKSAmJiBnaXRSZW1vdGVPcmlnaW5VcmxPYmouc3RhdGUgPT09ICdmdWxmaWxsZWQnKSB7XG4gICAgICAgIHBrZyA9IHBrZyB8fCB7fVxuICAgICAgICBwa2cucmVwb3NpdG9yeSA9IHBrZy5yZXBvc2l0b3J5IHx8IHt9XG4gICAgICAgIHBrZy5yZXBvc2l0b3J5LnVybCA9IGdpdFJlbW90ZU9yaWdpblVybE9iai52YWx1ZVxuICAgICAgICBub3JtYWxpemVQYWNrYWdlRGF0YShwa2cpXG4gICAgICB9XG5cbiAgICAgIGlmIChwa2cpIHtcbiAgICAgICAgY29udGV4dC52ZXJzaW9uID0gY29udGV4dC52ZXJzaW9uIHx8IHBrZy52ZXJzaW9uXG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXBvID0gZ2V0UGtnUmVwbyhwa2cpXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIHJlcG8gPSB7fVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJlcG8uYnJvd3NlKSB7XG4gICAgICAgICAgY29uc3QgYnJvd3NlID0gcmVwby5icm93c2UoKVxuICAgICAgICAgIGlmICghY29udGV4dC5ob3N0KSB7XG4gICAgICAgICAgICBpZiAocmVwby5kb21haW4pIHtcbiAgICAgICAgICAgICAgY29uc3QgcGFyc2VkQnJvd3NlID0gbmV3IFVSTChicm93c2UpXG4gICAgICAgICAgICAgIGlmIChwYXJzZWRCcm93c2Uub3JpZ2luLmluZGV4T2YoJy8vJykgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5ob3N0ID0gcGFyc2VkQnJvd3NlLnByb3RvY29sICsgJy8vJyArIHJlcG8uZG9tYWluXG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5ob3N0ID0gcGFyc2VkQnJvd3NlLnByb3RvY29sICsgcmVwby5kb21haW5cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29udGV4dC5ob3N0ID0gbnVsbFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBjb250ZXh0Lm93bmVyID0gY29udGV4dC5vd25lciB8fCByZXBvLnVzZXIgfHwgJydcbiAgICAgICAgICBjb250ZXh0LnJlcG9zaXRvcnkgPSBjb250ZXh0LnJlcG9zaXRvcnkgfHwgcmVwby5wcm9qZWN0XG4gICAgICAgICAgaWYgKHJlcG8uaG9zdCAmJiByZXBvLnByb2plY3QgJiYgcmVwby51c2VyKSB7XG4gICAgICAgICAgICBjb250ZXh0LnJlcG9VcmwgPSBicm93c2VcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29udGV4dC5yZXBvVXJsID0gY29udGV4dC5ob3N0XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29udGV4dC5wYWNrYWdlRGF0YSA9IHBrZ1xuICAgICAgfVxuXG4gICAgICBjb250ZXh0LnZlcnNpb24gPSBjb250ZXh0LnZlcnNpb24gfHwgJydcblxuICAgICAgaWYgKHRhZ3NPYmouc3RhdGUgPT09ICdmdWxmaWxsZWQnKSB7XG4gICAgICAgIGdpdFNlbXZlclRhZ3MgPSBjb250ZXh0LmdpdFNlbXZlclRhZ3MgPSB0YWdzT2JqLnZhbHVlXG4gICAgICAgIGZyb21UYWcgPSBnaXRTZW12ZXJUYWdzW29wdGlvbnMucmVsZWFzZUNvdW50IC0gMV1cbiAgICAgICAgY29uc3QgbGFzdFRhZyA9IGdpdFNlbXZlclRhZ3NbMF1cblxuICAgICAgICBpZiAobGFzdFRhZyA9PT0gY29udGV4dC52ZXJzaW9uIHx8IGxhc3RUYWcgPT09ICd2JyArIGNvbnRleHQudmVyc2lvbikge1xuICAgICAgICAgIGlmIChvcHRpb25zLm91dHB1dFVucmVsZWFzZWQpIHtcbiAgICAgICAgICAgIGNvbnRleHQudmVyc2lvbiA9ICdVbnJlbGVhc2VkJ1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvcHRpb25zLm91dHB1dFVucmVsZWFzZWQgPSBmYWxzZVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoIV8uaXNCb29sZWFuKG9wdGlvbnMub3V0cHV0VW5yZWxlYXNlZCkpIHtcbiAgICAgICAgb3B0aW9ucy5vdXRwdXRVbnJlbGVhc2VkID0gdHJ1ZVxuICAgICAgfVxuXG4gICAgICBpZiAoY29udGV4dC5ob3N0ICYmICghY29udGV4dC5pc3N1ZSB8fCAhY29udGV4dC5jb21taXQgfHwgIXBhcnNlck9wdHMgfHwgIXBhcnNlck9wdHMucmVmZXJlbmNlQWN0aW9ucykpIHtcbiAgICAgICAgbGV0IHR5cGVcblxuICAgICAgICBpZiAoY29udGV4dC5ob3N0KSB7XG4gICAgICAgICAgY29uc3QgbWF0Y2ggPSBjb250ZXh0Lmhvc3QubWF0Y2gocmhvc3RzKVxuICAgICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgICAgdHlwZSA9IG1hdGNoWzBdXG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHJlcG8gJiYgcmVwby50eXBlKSB7XG4gICAgICAgICAgdHlwZSA9IHJlcG8udHlwZVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGUpIHtcbiAgICAgICAgICBob3N0T3B0cyA9IHJlcXVpcmUoJy4uL2hvc3RzLycgKyB0eXBlKVxuXG4gICAgICAgICAgY29udGV4dCA9IF8uYXNzaWduKHtcbiAgICAgICAgICAgIGlzc3VlOiBob3N0T3B0cy5pc3N1ZSxcbiAgICAgICAgICAgIGNvbW1pdDogaG9zdE9wdHMuY29tbWl0XG4gICAgICAgICAgfSwgY29udGV4dClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvcHRpb25zLndhcm4oJ0hvc3Q6IFwiJyArIGNvbnRleHQuaG9zdCArICdcIiBkb2VzIG5vdCBleGlzdCcpXG4gICAgICAgICAgaG9zdE9wdHMgPSB7fVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBob3N0T3B0cyA9IHt9XG4gICAgICB9XG5cbiAgICAgIGlmIChjb250ZXh0LnJlc2V0Q2hhbmdlbG9nKSB7XG4gICAgICAgIGZyb21UYWcgPSBudWxsXG4gICAgICB9XG5cbiAgICAgIGdpdFJhd0NvbW1pdHNPcHRzID0gXy5hc3NpZ24oe1xuICAgICAgICBmb3JtYXQ6ICclQiVuLWhhc2gtJW4lSCVuLWdpdFRhZ3MtJW4lZCVuLWNvbW1pdHRlckRhdGUtJW4lY2knLFxuICAgICAgICBmcm9tOiBmcm9tVGFnLFxuICAgICAgICBtZXJnZXM6IGZhbHNlLFxuICAgICAgICBkZWJ1Zzogb3B0aW9ucy5kZWJ1Z1xuICAgICAgfSxcbiAgICAgIGNvbmZpZy5naXRSYXdDb21taXRzT3B0cyxcbiAgICAgIGdpdFJhd0NvbW1pdHNPcHRzXG4gICAgICApXG5cbiAgICAgIGlmIChvcHRpb25zLmFwcGVuZCkge1xuICAgICAgICBnaXRSYXdDb21taXRzT3B0cy5yZXZlcnNlID0gZ2l0UmF3Q29tbWl0c09wdHMucmV2ZXJzZSB8fCB0cnVlXG4gICAgICB9XG5cbiAgICAgIHBhcnNlck9wdHMgPSBfLmFzc2lnbihcbiAgICAgICAge30sIGNvbmZpZy5wYXJzZXJPcHRzLCB7XG4gICAgICAgICAgd2Fybjogb3B0aW9ucy53YXJuXG4gICAgICAgIH0sXG4gICAgICAgIHBhcnNlck9wdHMpXG5cbiAgICAgIGlmIChob3N0T3B0cy5yZWZlcmVuY2VBY3Rpb25zICYmIHBhcnNlck9wdHMpIHtcbiAgICAgICAgcGFyc2VyT3B0cy5yZWZlcmVuY2VBY3Rpb25zID0gaG9zdE9wdHMucmVmZXJlbmNlQWN0aW9uc1xuICAgICAgfVxuXG4gICAgICBpZiAoXy5pc0VtcHR5KHBhcnNlck9wdHMuaXNzdWVQcmVmaXhlcykgJiYgaG9zdE9wdHMuaXNzdWVQcmVmaXhlcykge1xuICAgICAgICBwYXJzZXJPcHRzLmlzc3VlUHJlZml4ZXMgPSBob3N0T3B0cy5pc3N1ZVByZWZpeGVzXG4gICAgICB9XG5cbiAgICAgIHdyaXRlck9wdHMgPSBfLmFzc2lnbih7XG4gICAgICAgIGZpbmFsaXplQ29udGV4dDogZnVuY3Rpb24gKGNvbnRleHQsIHdyaXRlck9wdHMsIGZpbHRlcmVkQ29tbWl0cywga2V5Q29tbWl0LCBvcmlnaW5hbENvbW1pdHMpIHtcbiAgICAgICAgICBjb25zdCBmaXJzdENvbW1pdCA9IG9yaWdpbmFsQ29tbWl0c1swXVxuICAgICAgICAgIGNvbnN0IGxhc3RDb21taXQgPSBvcmlnaW5hbENvbW1pdHNbb3JpZ2luYWxDb21taXRzLmxlbmd0aCAtIDFdXG4gICAgICAgICAgY29uc3QgZmlyc3RDb21taXRIYXNoID0gZmlyc3RDb21taXQgPyBmaXJzdENvbW1pdC5oYXNoIDogbnVsbFxuICAgICAgICAgIGNvbnN0IGxhc3RDb21taXRIYXNoID0gbGFzdENvbW1pdCA/IGxhc3RDb21taXQuaGFzaCA6IG51bGxcblxuICAgICAgICAgIGlmICgoIWNvbnRleHQuY3VycmVudFRhZyB8fCAhY29udGV4dC5wcmV2aW91c1RhZykgJiYga2V5Q29tbWl0KSB7XG4gICAgICAgICAgICBjb25zdCBtYXRjaCA9IC90YWc6XFxzKiguKz8pWywpXS9naS5leGVjKGtleUNvbW1pdC5naXRUYWdzKVxuICAgICAgICAgICAgY29uc3QgY3VycmVudFRhZyA9IGNvbnRleHQuY3VycmVudFRhZ1xuICAgICAgICAgICAgY29udGV4dC5jdXJyZW50VGFnID0gY3VycmVudFRhZyB8fCBtYXRjaCA/IG1hdGNoWzFdIDogbnVsbFxuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBnaXRTZW12ZXJUYWdzLmluZGV4T2YoY29udGV4dC5jdXJyZW50VGFnKVxuXG4gICAgICAgICAgICAvLyBpZiBga2V5Q29tbWl0LmdpdFRhZ3NgIGlzIG5vdCBhIHNlbXZlclxuICAgICAgICAgICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgICBjb250ZXh0LmN1cnJlbnRUYWcgPSBjdXJyZW50VGFnIHx8IG51bGxcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNvbnN0IHByZXZpb3VzVGFnID0gY29udGV4dC5wcmV2aW91c1RhZyA9IGdpdFNlbXZlclRhZ3NbaW5kZXggKyAxXVxuXG4gICAgICAgICAgICAgIGlmICghcHJldmlvdXNUYWcpIHtcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5hcHBlbmQpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnRleHQucHJldmlvdXNUYWcgPSBjb250ZXh0LnByZXZpb3VzVGFnIHx8IGZpcnN0Q29tbWl0SGFzaFxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBjb250ZXh0LnByZXZpb3VzVGFnID0gY29udGV4dC5wcmV2aW91c1RhZyB8fCBsYXN0Q29tbWl0SGFzaFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb250ZXh0LnByZXZpb3VzVGFnID0gY29udGV4dC5wcmV2aW91c1RhZyB8fCBnaXRTZW12ZXJUYWdzWzBdXG5cbiAgICAgICAgICAgIGlmIChjb250ZXh0LnZlcnNpb24gPT09ICdVbnJlbGVhc2VkJykge1xuICAgICAgICAgICAgICBpZiAob3B0aW9ucy5hcHBlbmQpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmN1cnJlbnRUYWcgPSBjb250ZXh0LmN1cnJlbnRUYWcgfHwgbGFzdENvbW1pdEhhc2hcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmN1cnJlbnRUYWcgPSBjb250ZXh0LmN1cnJlbnRUYWcgfHwgZmlyc3RDb21taXRIYXNoXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIWNvbnRleHQuY3VycmVudFRhZykge1xuICAgICAgICAgICAgICBpZiAob3B0aW9ucy5sZXJuYVBhY2thZ2UpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmN1cnJlbnRUYWcgPSBvcHRpb25zLmxlcm5hUGFja2FnZSArICdAJyArIGNvbnRleHQudmVyc2lvblxuICAgICAgICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbnMudGFnUHJlZml4KSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5jdXJyZW50VGFnID0gb3B0aW9ucy50YWdQcmVmaXggKyBjb250ZXh0LnZlcnNpb25cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmN1cnJlbnRUYWcgPSBndWVzc05leHRUYWcoZ2l0U2VtdmVyVGFnc1swXSwgY29udGV4dC52ZXJzaW9uKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKCFfLmlzQm9vbGVhbihjb250ZXh0LmxpbmtDb21wYXJlKSAmJiBjb250ZXh0LnByZXZpb3VzVGFnICYmIGNvbnRleHQuY3VycmVudFRhZykge1xuICAgICAgICAgICAgY29udGV4dC5saW5rQ29tcGFyZSA9IHRydWVcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gY29udGV4dFxuICAgICAgICB9LFxuICAgICAgICBkZWJ1Zzogb3B0aW9ucy5kZWJ1Z1xuICAgICAgfSxcbiAgICAgIGNvbmZpZy53cml0ZXJPcHRzLCB7XG4gICAgICAgIHJldmVyc2U6IG9wdGlvbnMuYXBwZW5kLFxuICAgICAgICBkb0ZsdXNoOiBvcHRpb25zLm91dHB1dFVucmVsZWFzZWRcbiAgICAgIH0sXG4gICAgICB3cml0ZXJPcHRzXG4gICAgICApXG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIG9wdGlvbnM6IG9wdGlvbnMsXG4gICAgICAgIGNvbnRleHQ6IGNvbnRleHQsXG4gICAgICAgIGdpdFJhd0NvbW1pdHNPcHRzOiBnaXRSYXdDb21taXRzT3B0cyxcbiAgICAgICAgcGFyc2VyT3B0czogcGFyc2VyT3B0cyxcbiAgICAgICAgd3JpdGVyT3B0czogd3JpdGVyT3B0cyxcbiAgICAgICAgZ2l0UmF3RXhlY09wdHM6IGdpdFJhd0V4ZWNPcHRzXG4gICAgICB9XG4gICAgfSlcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBtZXJnZUNvbmZpZ1xuIiwgIid1c2Ugc3RyaWN0J1xuXG5jb25zdCBhZGRTdHJlYW0gPSByZXF1aXJlKCdhZGQtc3RyZWFtJylcbmNvbnN0IGdpdFJhd0NvbW1pdHMgPSByZXF1aXJlKCdnaXQtcmF3LWNvbW1pdHMnKVxuY29uc3QgY29udmVudGlvbmFsQ29tbWl0c1BhcnNlciA9IHJlcXVpcmUoJ2NvbnZlbnRpb25hbC1jb21taXRzLXBhcnNlcicpXG5jb25zdCBjb252ZW50aW9uYWxDaGFuZ2Vsb2dXcml0ZXIgPSByZXF1aXJlKCdjb252ZW50aW9uYWwtY2hhbmdlbG9nLXdyaXRlcicpXG5jb25zdCBfID0gcmVxdWlyZSgnbG9kYXNoJylcbmNvbnN0IHN0cmVhbSA9IHJlcXVpcmUoJ3N0cmVhbScpXG5jb25zdCB0aHJvdWdoID0gcmVxdWlyZSgndGhyb3VnaDInKVxuY29uc3QgZXhlY0ZpbGVTeW5jID0gcmVxdWlyZSgnY2hpbGRfcHJvY2VzcycpLmV4ZWNGaWxlU3luY1xuXG5jb25zdCBtZXJnZUNvbmZpZyA9IHJlcXVpcmUoJy4vbGliL21lcmdlLWNvbmZpZycpXG5mdW5jdGlvbiBjb252ZW50aW9uYWxDaGFuZ2Vsb2cgKG9wdGlvbnMsIGNvbnRleHQsIGdpdFJhd0NvbW1pdHNPcHRzLCBwYXJzZXJPcHRzLCB3cml0ZXJPcHRzLCBnaXRSYXdFeGVjT3B0cykge1xuICB3cml0ZXJPcHRzID0gd3JpdGVyT3B0cyB8fCB7fVxuXG4gIGNvbnN0IHJlYWRhYmxlID0gbmV3IHN0cmVhbS5SZWFkYWJsZSh7XG4gICAgb2JqZWN0TW9kZTogd3JpdGVyT3B0cy5pbmNsdWRlRGV0YWlsc1xuICB9KVxuICByZWFkYWJsZS5fcmVhZCA9IGZ1bmN0aW9uICgpIHsgfVxuXG4gIGxldCBjb21taXRzRXJyb3JUaHJvd24gPSBmYWxzZVxuXG4gIGxldCBjb21taXRzU3RyZWFtID0gbmV3IHN0cmVhbS5SZWFkYWJsZSh7XG4gICAgb2JqZWN0TW9kZTogdHJ1ZVxuICB9KVxuICBjb21taXRzU3RyZWFtLl9yZWFkID0gZnVuY3Rpb24gKCkgeyB9XG5cbiAgZnVuY3Rpb24gY29tbWl0c1JhbmdlIChmcm9tLCB0bykge1xuICAgIHJldHVybiBnaXRSYXdDb21taXRzKF8ubWVyZ2Uoe30sIGdpdFJhd0NvbW1pdHNPcHRzLCB7XG4gICAgICBmcm9tOiBmcm9tLFxuICAgICAgdG86IHRvXG4gICAgfSkpXG4gICAgICAub24oJ2Vycm9yJywgZnVuY3Rpb24gKGVycikge1xuICAgICAgICBpZiAoIWNvbW1pdHNFcnJvclRocm93bikge1xuICAgICAgICAgIHNldEltbWVkaWF0ZShjb21taXRzU3RyZWFtLmVtaXQuYmluZChjb21taXRzU3RyZWFtKSwgJ2Vycm9yJywgZXJyKVxuICAgICAgICAgIGNvbW1pdHNFcnJvclRocm93biA9IHRydWVcbiAgICAgICAgfVxuICAgICAgfSlcbiAgfVxuXG4gIG1lcmdlQ29uZmlnKG9wdGlvbnMsIGNvbnRleHQsIGdpdFJhd0NvbW1pdHNPcHRzLCBwYXJzZXJPcHRzLCB3cml0ZXJPcHRzLCBnaXRSYXdFeGVjT3B0cylcbiAgICAudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgb3B0aW9ucyA9IGRhdGEub3B0aW9uc1xuICAgICAgY29udGV4dCA9IGRhdGEuY29udGV4dFxuICAgICAgZ2l0UmF3Q29tbWl0c09wdHMgPSBkYXRhLmdpdFJhd0NvbW1pdHNPcHRzXG4gICAgICBwYXJzZXJPcHRzID0gZGF0YS5wYXJzZXJPcHRzXG4gICAgICB3cml0ZXJPcHRzID0gZGF0YS53cml0ZXJPcHRzXG4gICAgICBnaXRSYXdFeGVjT3B0cyA9IGRhdGEuZ2l0UmF3RXhlY09wdHNcblxuICAgICAgdHJ5IHtcbiAgICAgICAgZXhlY0ZpbGVTeW5jKCdnaXQnLCBbJ3Jldi1wYXJzZScsICctLXZlcmlmeScsICdIRUFEJ10sIHtcbiAgICAgICAgICBzdGRpbzogJ2lnbm9yZSdcbiAgICAgICAgfSlcbiAgICAgICAgbGV0IHJldmVyc2VUYWdzID0gY29udGV4dC5naXRTZW12ZXJUYWdzLnNsaWNlKDApLnJldmVyc2UoKVxuICAgICAgICByZXZlcnNlVGFncy5wdXNoKCdIRUFEJylcblxuICAgICAgICBpZiAoZ2l0UmF3Q29tbWl0c09wdHMuZnJvbSkge1xuICAgICAgICAgIGlmIChyZXZlcnNlVGFncy5pbmRleE9mKGdpdFJhd0NvbW1pdHNPcHRzLmZyb20pICE9PSAtMSkge1xuICAgICAgICAgICAgcmV2ZXJzZVRhZ3MgPSByZXZlcnNlVGFncy5zbGljZShyZXZlcnNlVGFncy5pbmRleE9mKGdpdFJhd0NvbW1pdHNPcHRzLmZyb20pKVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXZlcnNlVGFncyA9IFtnaXRSYXdDb21taXRzT3B0cy5mcm9tLCAnSEVBRCddXG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHN0cmVhbXMgPSByZXZlcnNlVGFncy5tYXAoKHRvLCBpKSA9PiB7XG4gICAgICAgICAgY29uc3QgZnJvbSA9IGkgPiAwXG4gICAgICAgICAgICA/IHJldmVyc2VUYWdzW2kgLSAxXVxuICAgICAgICAgICAgOiAnJ1xuICAgICAgICAgIHJldHVybiBjb21taXRzUmFuZ2UoZnJvbSwgdG8pXG4gICAgICAgIH0pXG5cbiAgICAgICAgaWYgKGdpdFJhd0NvbW1pdHNPcHRzLmZyb20pIHtcbiAgICAgICAgICBzdHJlYW1zID0gc3RyZWFtcy5zcGxpY2UoMSlcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChnaXRSYXdDb21taXRzT3B0cy5yZXZlcnNlKSB7XG4gICAgICAgICAgc3RyZWFtcy5yZXZlcnNlKClcbiAgICAgICAgfVxuXG4gICAgICAgIHN0cmVhbXMucmVkdWNlKChwcmV2LCBuZXh0KSA9PiBuZXh0LnBpcGUoYWRkU3RyZWFtKHByZXYpKSlcbiAgICAgICAgICAub24oJ2RhdGEnLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgc2V0SW1tZWRpYXRlKGNvbW1pdHNTdHJlYW0uZW1pdC5iaW5kKGNvbW1pdHNTdHJlYW0pLCAnZGF0YScsIGRhdGEpXG4gICAgICAgICAgfSlcbiAgICAgICAgICAub24oJ2VuZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHNldEltbWVkaWF0ZShjb21taXRzU3RyZWFtLmVtaXQuYmluZChjb21taXRzU3RyZWFtKSwgJ2VuZCcpXG4gICAgICAgICAgfSlcbiAgICAgIH0gY2F0Y2ggKF9lKSB7XG4gICAgICAgIGNvbW1pdHNTdHJlYW0gPSBnaXRSYXdDb21taXRzKGdpdFJhd0NvbW1pdHNPcHRzLCBnaXRSYXdFeGVjT3B0cylcbiAgICAgIH1cblxuICAgICAgY29tbWl0c1N0cmVhbVxuICAgICAgICAub24oJ2Vycm9yJywgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgIGVyci5tZXNzYWdlID0gJ0Vycm9yIGluIGdpdC1yYXctY29tbWl0czogJyArIGVyci5tZXNzYWdlXG4gICAgICAgICAgc2V0SW1tZWRpYXRlKHJlYWRhYmxlLmVtaXQuYmluZChyZWFkYWJsZSksICdlcnJvcicsIGVycilcbiAgICAgICAgfSlcbiAgICAgICAgLnBpcGUoY29udmVudGlvbmFsQ29tbWl0c1BhcnNlcihwYXJzZXJPcHRzKSlcbiAgICAgICAgLm9uKCdlcnJvcicsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICBlcnIubWVzc2FnZSA9ICdFcnJvciBpbiBjb252ZW50aW9uYWwtY29tbWl0cy1wYXJzZXI6ICcgKyBlcnIubWVzc2FnZVxuICAgICAgICAgIHNldEltbWVkaWF0ZShyZWFkYWJsZS5lbWl0LmJpbmQocmVhZGFibGUpLCAnZXJyb3InLCBlcnIpXG4gICAgICAgIH0pXG4gICAgICAgIC8vIGl0IHdvdWxkIGJlIGJldHRlciBpZiBgZ2l0UmF3Q29tbWl0c2AgY291bGQgc3BpdCBvdXQgYmV0dGVyIGZvcm1hdHRlZCBkYXRhXG4gICAgICAgIC8vIHNvIHdlIGRvbid0IG5lZWQgdG8gdHJhbnNmb3JtIGhlcmVcbiAgICAgICAgLnBpcGUodGhyb3VnaC5vYmooZnVuY3Rpb24gKGNodW5rLCBlbmMsIGNiKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIG9wdGlvbnMudHJhbnNmb3JtLmNhbGwodGhpcywgY2h1bmssIGNiKVxuICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgY2IoZXJyKVxuICAgICAgICAgIH1cbiAgICAgICAgfSkpXG4gICAgICAgIC5vbignZXJyb3InLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgZXJyLm1lc3NhZ2UgPSAnRXJyb3IgaW4gb3B0aW9ucy50cmFuc2Zvcm06ICcgKyBlcnIubWVzc2FnZVxuICAgICAgICAgIHNldEltbWVkaWF0ZShyZWFkYWJsZS5lbWl0LmJpbmQocmVhZGFibGUpLCAnZXJyb3InLCBlcnIpXG4gICAgICAgIH0pXG4gICAgICAgIC5waXBlKGNvbnZlbnRpb25hbENoYW5nZWxvZ1dyaXRlcihjb250ZXh0LCB3cml0ZXJPcHRzKSlcbiAgICAgICAgLm9uKCdlcnJvcicsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICBlcnIubWVzc2FnZSA9ICdFcnJvciBpbiBjb252ZW50aW9uYWwtY2hhbmdlbG9nLXdyaXRlcjogJyArIGVyci5tZXNzYWdlXG4gICAgICAgICAgc2V0SW1tZWRpYXRlKHJlYWRhYmxlLmVtaXQuYmluZChyZWFkYWJsZSksICdlcnJvcicsIGVycilcbiAgICAgICAgfSlcbiAgICAgICAgLnBpcGUodGhyb3VnaCh7XG4gICAgICAgICAgb2JqZWN0TW9kZTogd3JpdGVyT3B0cy5pbmNsdWRlRGV0YWlsc1xuICAgICAgICB9LCBmdW5jdGlvbiAoY2h1bmssIGVuYywgY2IpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmVhZGFibGUucHVzaChjaHVuaylcbiAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHNldEltbWVkaWF0ZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHRocm93IGVyclxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjYigpXG4gICAgICAgIH0sIGZ1bmN0aW9uIChjYikge1xuICAgICAgICAgIHJlYWRhYmxlLnB1c2gobnVsbClcblxuICAgICAgICAgIGNiKClcbiAgICAgICAgfSkpXG4gICAgfSlcbiAgICAuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgc2V0SW1tZWRpYXRlKHJlYWRhYmxlLmVtaXQuYmluZChyZWFkYWJsZSksICdlcnJvcicsIGVycilcbiAgICB9KVxuXG4gIHJldHVybiByZWFkYWJsZVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNvbnZlbnRpb25hbENoYW5nZWxvZ1xuIiwgIid1c2Ugc3RyaWN0J1xuXG5jb25zdCBjb252ZW50aW9uYWxDaGFuZ2Vsb2dDb3JlID0gcmVxdWlyZSgnY29udmVudGlvbmFsLWNoYW5nZWxvZy1jb3JlJylcbmNvbnN0IGNvbnZlbnRpb25hbENoYW5nZWxvZ1ByZXNldExvYWRlciA9IHJlcXVpcmUoJ2NvbnZlbnRpb25hbC1jaGFuZ2Vsb2ctcHJlc2V0LWxvYWRlcicpXG5cbmZ1bmN0aW9uIGNvbnZlbnRpb25hbENoYW5nZWxvZyAob3B0aW9ucywgY29udGV4dCwgZ2l0UmF3Q29tbWl0c09wdHMsIHBhcnNlck9wdHMsIHdyaXRlck9wdHMpIHtcbiAgb3B0aW9ucy53YXJuID0gb3B0aW9ucy53YXJuIHx8IGZ1bmN0aW9uICgpIHt9XG5cbiAgaWYgKG9wdGlvbnMucHJlc2V0KSB7XG4gICAgdHJ5IHtcbiAgICAgIG9wdGlvbnMuY29uZmlnID0gY29udmVudGlvbmFsQ2hhbmdlbG9nUHJlc2V0TG9hZGVyKG9wdGlvbnMucHJlc2V0KVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLnByZXNldCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgb3B0aW9ucy53YXJuKGBQcmVzZXQ6IFwiJHtvcHRpb25zLnByZXNldC5uYW1lfVwiICR7ZXJyLm1lc3NhZ2V9YClcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG9wdGlvbnMucHJlc2V0ID09PSAnc3RyaW5nJykge1xuICAgICAgICBvcHRpb25zLndhcm4oYFByZXNldDogXCIke29wdGlvbnMucHJlc2V0fVwiICR7ZXJyLm1lc3NhZ2V9YClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9wdGlvbnMud2FybihgUHJlc2V0OiAke2Vyci5tZXNzYWdlfWApXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGNvbnZlbnRpb25hbENoYW5nZWxvZ0NvcmUob3B0aW9ucywgY29udGV4dCwgZ2l0UmF3Q29tbWl0c09wdHMsIHBhcnNlck9wdHMsIHdyaXRlck9wdHMpXG59XG5cbm1vZHVsZS5leHBvcnRzID0gY29udmVudGlvbmFsQ2hhbmdlbG9nXG4iLCAiKGZ1bmN0aW9uKCkge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgZnMgPSByZXF1aXJlKCdmcycpLFxuICAgICAgU3RyaW5nRGVjb2RlciA9IHJlcXVpcmUoJ3N0cmluZ19kZWNvZGVyJykuU3RyaW5nRGVjb2RlcjtcblxuICBmdW5jdGlvbiBMaW5lUmVhZGVyKGZkLCBjYiwgc2VwYXJhdG9yLCBlbmNvZGluZywgYnVmZmVyU2l6ZSkge1xuICAgIHZhciBmaWxlUG9zaXRpb24gICA9IDAsXG4gICAgICAgIGVuY29kaW5nICAgICAgID0gZW5jb2RpbmcgfHwgJ3V0ZjgnLFxuICAgICAgICBzZXBhcmF0b3IgICAgICA9IHNlcGFyYXRvciB8fCAnXFxuJyxcbiAgICAgICAgYnVmZmVyU2l6ZSAgICAgPSBidWZmZXJTaXplIHx8IDEwMjQsXG4gICAgICAgIGJ1ZmZlciAgICAgICAgID0gbmV3IEJ1ZmZlcihidWZmZXJTaXplKSxcbiAgICAgICAgYnVmZmVyU3RyICAgICAgPSAnJyxcbiAgICAgICAgZGVjb2RlciAgICAgICAgPSBuZXcgU3RyaW5nRGVjb2RlcihlbmNvZGluZyksXG4gICAgICAgIGNsb3NlZCAgICAgICAgID0gZmFsc2UsXG4gICAgICAgIGVvZiAgICAgICAgICAgID0gZmFsc2UsXG4gICAgICAgIHNlcGFyYXRvckluZGV4ID0gLTE7XG5cbiAgICBmdW5jdGlvbiBjbG9zZSgpIHtcbiAgICAgIGlmICghY2xvc2VkKSB7XG4gICAgICAgIGZzLmNsb3NlKGZkLCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgY2xvc2VkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZWFkVG9TZXBhcmF0b3IoY2IpIHtcbiAgICAgIGZ1bmN0aW9uIHJlYWRDaHVuaygpIHtcbiAgICAgICAgZnMucmVhZChmZCwgYnVmZmVyLCAwLCBidWZmZXJTaXplLCBmaWxlUG9zaXRpb24sIGZ1bmN0aW9uKGVyciwgYnl0ZXNSZWFkKSB7XG4gICAgICAgICAgdmFyIHNlcGFyYXRvckF0RW5kO1xuXG4gICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChieXRlc1JlYWQgPCBidWZmZXJTaXplKSB7XG4gICAgICAgICAgICBlb2YgPSB0cnVlO1xuICAgICAgICAgICAgY2xvc2UoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBmaWxlUG9zaXRpb24gKz0gYnl0ZXNSZWFkO1xuXG4gICAgICAgICAgYnVmZmVyU3RyICs9IGRlY29kZXIud3JpdGUoYnVmZmVyLnNsaWNlKDAsIGJ5dGVzUmVhZCkpO1xuXG4gICAgICAgICAgaWYgKHNlcGFyYXRvckluZGV4IDwgMCkge1xuICAgICAgICAgICAgc2VwYXJhdG9ySW5kZXggPSBidWZmZXJTdHIuaW5kZXhPZihzZXBhcmF0b3IpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHNlcGFyYXRvckF0RW5kID0gc2VwYXJhdG9ySW5kZXggPT09IGJ1ZmZlclN0ci5sZW5ndGggLSAxO1xuICAgICAgICAgIGlmIChieXRlc1JlYWQgJiYgKHNlcGFyYXRvckluZGV4ID09PSAtMSB8fCBzZXBhcmF0b3JBdEVuZCkgJiYgIWVvZikge1xuICAgICAgICAgICAgcmVhZENodW5rKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNiKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmVhZENodW5rKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFzTmV4dExpbmUoKSB7XG4gICAgICByZXR1cm4gYnVmZmVyU3RyLmxlbmd0aCA+IDAgfHwgIWVvZjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBuZXh0TGluZShjYikge1xuICAgICAgZnVuY3Rpb24gZ2V0TGluZSgpIHtcbiAgICAgICAgdmFyIHJldCA9IGJ1ZmZlclN0ci5zdWJzdHJpbmcoMCwgc2VwYXJhdG9ySW5kZXgpO1xuXG4gICAgICAgIGJ1ZmZlclN0ciA9IGJ1ZmZlclN0ci5zdWJzdHJpbmcoc2VwYXJhdG9ySW5kZXggKyBzZXBhcmF0b3IubGVuZ3RoKTtcbiAgICAgICAgc2VwYXJhdG9ySW5kZXggPSAtMTtcbiAgICAgICAgY2IocmV0KTtcbiAgICAgIH1cblxuICAgICAgaWYgKHNlcGFyYXRvckluZGV4IDwgMCkge1xuICAgICAgICBzZXBhcmF0b3JJbmRleCA9IGJ1ZmZlclN0ci5pbmRleE9mKHNlcGFyYXRvcik7XG4gICAgICB9XG5cbiAgICAgIGlmIChzZXBhcmF0b3JJbmRleCA8IDApIHtcbiAgICAgICAgaWYgKGVvZikge1xuICAgICAgICAgIGlmIChoYXNOZXh0TGluZSgpKSB7XG4gICAgICAgICAgICBzZXBhcmF0b3JJbmRleCA9IGJ1ZmZlclN0ci5sZW5ndGg7XG4gICAgICAgICAgICBnZXRMaW5lKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gbW9yZSBsaW5lcyB0byByZWFkLicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZWFkVG9TZXBhcmF0b3IoZ2V0TGluZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGdldExpbmUoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmhhc05leHRMaW5lID0gaGFzTmV4dExpbmU7XG4gICAgdGhpcy5uZXh0TGluZSA9IG5leHRMaW5lO1xuICAgIHRoaXMuY2xvc2UgPSBjbG9zZTtcblxuICAgIHJlYWRUb1NlcGFyYXRvcihjYik7XG4gIH1cblxuICBmdW5jdGlvbiBvcGVuKGZpbGVuYW1lLCBjYiwgc2VwYXJhdG9yLCBlbmNvZGluZywgYnVmZmVyU2l6ZSkge1xuICAgIGZzLm9wZW4oZmlsZW5hbWUsICdyJywgcGFyc2VJbnQoJzY2NicsIDgpLCBmdW5jdGlvbihlcnIsIGZkKSB7XG4gICAgICB2YXIgcmVhZGVyO1xuICAgICAgaWYgKGVycikge1xuICAgICAgICB0aHJvdyBlcnI7XG4gICAgICB9XG5cbiAgICAgIHJlYWRlciA9IG5ldyBMaW5lUmVhZGVyKGZkLCBmdW5jdGlvbigpIHtcbiAgICAgICAgY2IocmVhZGVyKTtcbiAgICAgIH0sIHNlcGFyYXRvciwgZW5jb2RpbmcsIGJ1ZmZlclNpemUpO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZWFjaExpbmUoZmlsZW5hbWUsIGNiLCBzZXBhcmF0b3IsIGVuY29kaW5nLCBidWZmZXJTaXplKSB7XG4gICAgdmFyIGZpbmFsRm4sXG4gICAgICAgIGFzeW5jQ2IgPSBjYi5sZW5ndGggPT0gMztcblxuICAgIGZ1bmN0aW9uIGZpbmlzaCgpIHtcbiAgICAgIGlmIChmaW5hbEZuICYmIHR5cGVvZiBmaW5hbEZuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGZpbmFsRm4oKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBvcGVuKGZpbGVuYW1lLCBmdW5jdGlvbihyZWFkZXIpIHtcbiAgICAgIGZ1bmN0aW9uIG5ld1JlYWQoKSB7XG4gICAgICAgIGlmIChyZWFkZXIuaGFzTmV4dExpbmUoKSkge1xuICAgICAgICAgIHNldEltbWVkaWF0ZShyZWFkTmV4dCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZmluaXNoKCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gY29udGludWVDYihjb250aW51ZVJlYWRpbmcpIHtcbiAgICAgICAgaWYgKGNvbnRpbnVlUmVhZGluZyAhPT0gZmFsc2UpIHtcbiAgICAgICAgICBuZXdSZWFkKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZmluaXNoKCk7XG4gICAgICAgICAgcmVhZGVyLmNsb3NlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gcmVhZE5leHQoKSB7XG4gICAgICAgIHJlYWRlci5uZXh0TGluZShmdW5jdGlvbihsaW5lKSB7XG4gICAgICAgICAgdmFyIGxhc3QgPSAhcmVhZGVyLmhhc05leHRMaW5lKCk7XG5cbiAgICAgICAgICBpZiAoYXN5bmNDYikge1xuICAgICAgICAgICAgY2IobGluZSwgbGFzdCwgY29udGludWVDYik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChjYihsaW5lLCBsYXN0KSAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgbmV3UmVhZCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZmluaXNoKCk7XG4gICAgICAgICAgICAgIHJlYWRlci5jbG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIG5ld1JlYWQoKTtcbiAgICB9LCBzZXBhcmF0b3IsIGVuY29kaW5nLCBidWZmZXJTaXplKTtcblxuICAgIHJldHVybiB7XG4gICAgICB0aGVuOiBmdW5jdGlvbihjYikge1xuICAgICAgICBmaW5hbEZuID0gY2I7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIG1vZHVsZS5leHBvcnRzLm9wZW4gPSBvcGVuO1xuICBtb2R1bGUuZXhwb3J0cy5lYWNoTGluZSA9IGVhY2hMaW5lO1xufSgpKTtcbiIsICJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG1kLCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICBvcHRpb25zLmxpc3RVbmljb2RlQ2hhciA9IG9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ2xpc3RVbmljb2RlQ2hhcicpID8gb3B0aW9ucy5saXN0VW5pY29kZUNoYXIgOiBmYWxzZTtcbiAgb3B0aW9ucy5zdHJpcExpc3RMZWFkZXJzID0gb3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnc3RyaXBMaXN0TGVhZGVycycpID8gb3B0aW9ucy5zdHJpcExpc3RMZWFkZXJzIDogdHJ1ZTtcbiAgb3B0aW9ucy5nZm0gPSBvcHRpb25zLmhhc093blByb3BlcnR5KCdnZm0nKSA/IG9wdGlvbnMuZ2ZtIDogdHJ1ZTtcblxuICB2YXIgb3V0cHV0ID0gbWQgfHwgJyc7XG5cbiAgLy8gUmVtb3ZlIGhvcml6b250YWwgcnVsZXMgKHN0cmlwTGlzdEhlYWRlcnMgY29uZmxpY3Qgd2l0aCB0aGlzIHJ1bGUsIHdoaWNoIGlzIHdoeSBpdCBoYXMgYmVlbiBtb3ZlZCB0byB0aGUgdG9wKVxuICBvdXRwdXQgPSBvdXRwdXQucmVwbGFjZSgvXigtXFxzKj98XFwqXFxzKj98X1xccyo/KXszLH1cXHMqJC9nbSwgJycpO1xuXG4gIHRyeSB7XG4gICAgaWYgKG9wdGlvbnMuc3RyaXBMaXN0TGVhZGVycykge1xuICAgICAgaWYgKG9wdGlvbnMubGlzdFVuaWNvZGVDaGFyKVxuICAgICAgICBvdXRwdXQgPSBvdXRwdXQucmVwbGFjZSgvXihbXFxzXFx0XSopKFtcXCpcXC1cXCtdfFxcZCtcXC4pXFxzKy9nbSwgb3B0aW9ucy5saXN0VW5pY29kZUNoYXIgKyAnICQxJyk7XG4gICAgICBlbHNlXG4gICAgICAgIG91dHB1dCA9IG91dHB1dC5yZXBsYWNlKC9eKFtcXHNcXHRdKikoW1xcKlxcLVxcK118XFxkK1xcLilcXHMrL2dtLCAnJDEnKTtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMuZ2ZtKSB7XG4gICAgICBvdXRwdXQgPSBvdXRwdXRcbiAgICAgICAgLy8gSGVhZGVyXG4gICAgICAgIC5yZXBsYWNlKC9cXG49ezIsfS9nLCAnXFxuJylcbiAgICAgICAgLy8gU3RyaWtldGhyb3VnaFxuICAgICAgICAucmVwbGFjZSgvfn4vZywgJycpXG4gICAgICAgIC8vIEZlbmNlZCBjb2RlYmxvY2tzXG4gICAgICAgIC5yZXBsYWNlKC9gezN9LipcXG4vZywgJycpO1xuICAgIH1cbiAgICBvdXRwdXQgPSBvdXRwdXRcbiAgICAgIC8vIFJlbW92ZSBIVE1MIHRhZ3NcbiAgICAgIC5yZXBsYWNlKC88W14+XSo+L2csICcnKVxuICAgICAgLy8gUmVtb3ZlIHNldGV4dC1zdHlsZSBoZWFkZXJzXG4gICAgICAucmVwbGFjZSgvXls9XFwtXXsyLH1cXHMqJC9nLCAnJylcbiAgICAgIC8vIFJlbW92ZSBmb290bm90ZXM/XG4gICAgICAucmVwbGFjZSgvXFxbXFxeLis/XFxdKFxcOiAuKj8kKT8vZywgJycpXG4gICAgICAucmVwbGFjZSgvXFxzezAsMn1cXFsuKj9cXF06IC4qPyQvZywgJycpXG4gICAgICAvLyBSZW1vdmUgaW1hZ2VzXG4gICAgICAucmVwbGFjZSgvXFwhXFxbLio/XFxdW1xcW1xcKF0uKj9bXFxdXFwpXS9nLCAnJylcbiAgICAgIC8vIFJlbW92ZSBpbmxpbmUgbGlua3NcbiAgICAgIC5yZXBsYWNlKC9cXFsoLio/KVxcXVtcXFtcXChdLio/W1xcXVxcKV0vZywgJyQxJylcbiAgICAgIC8vIFJlbW92ZSBibG9ja3F1b3Rlc1xuICAgICAgLnJlcGxhY2UoL15cXHN7MCwzfT5cXHM/L2csICcnKVxuICAgICAgLy8gUmVtb3ZlIHJlZmVyZW5jZS1zdHlsZSBsaW5rcz9cbiAgICAgIC5yZXBsYWNlKC9eXFxzezEsMn1cXFsoLio/KVxcXTogKFxcUyspKCBcIi4qP1wiKT9cXHMqJC9nLCAnJylcbiAgICAgIC8vIFJlbW92ZSBhdHgtc3R5bGUgaGVhZGVyc1xuICAgICAgLnJlcGxhY2UoL14oXFxuKT9cXHN7MCx9I3sxLDZ9XFxzK3wgezAsfShcXG4pP1xcc3swLH0jezAsfSB7MCx9KFxcbik/XFxzezAsfSQvZ20sICckMSQyJDMnKVxuICAgICAgLy8gUmVtb3ZlIGVtcGhhc2lzIChyZXBlYXQgdGhlIGxpbmUgdG8gcmVtb3ZlIGRvdWJsZSBlbXBoYXNpcylcbiAgICAgIC5yZXBsYWNlKC8oW1xcKl9dezEsM30pKFxcUy4qP1xcU3swLDF9KVxcMS9nLCAnJDInKVxuICAgICAgLnJlcGxhY2UoLyhbXFwqX117MSwzfSkoXFxTLio/XFxTezAsMX0pXFwxL2csICckMicpXG4gICAgICAvLyBSZW1vdmUgY29kZSBibG9ja3NcbiAgICAgIC5yZXBsYWNlKC8oYHszLH0pKC4qPylcXDEvZ20sICckMicpXG4gICAgICAvLyBSZW1vdmUgaW5saW5lIGNvZGVcbiAgICAgIC5yZXBsYWNlKC9gKC4rPylgL2csICckMScpXG4gICAgICAvLyBSZXBsYWNlIHR3byBvciBtb3JlIG5ld2xpbmVzIHdpdGggZXhhY3RseSB0d28/IE5vdCBlbnRpcmVseSBzdXJlIHRoaXMgYmVsb25ncyBoZXJlLi4uXG4gICAgICAucmVwbGFjZSgvXFxuezIsfS9nLCAnXFxuXFxuJyk7XG4gIH0gY2F0Y2goZSkge1xuICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgcmV0dXJuIG1kO1xuICB9XG4gIHJldHVybiBvdXRwdXQ7XG59O1xuIiwgImNvbnN0IEVPTCA9IHJlcXVpcmUoJ29zJykuRU9MXG5jb25zdCBsaW5lUmVhZGVyID0gcmVxdWlyZSgnbGluZS1yZWFkZXInKVxuY29uc3QgcmVtb3ZlTWFya2Rvd24gPSByZXF1aXJlKCdyZW1vdmUtbWFya2Rvd24nKVxuXG4vLyBwYXR0ZXJuc1xuY29uc3Qgc2VtdmVyID0gL1xcWz92PyhbXFx3XFxkLi1dK1xcLltcXHdcXGQuLV0rW2EtekEtWjAtOV0pXFxdPy9cbmNvbnN0IGRhdGUgPSAvLipbIF0oXFxkXFxkP1xcZD9cXGQ/Wy0vLl1cXGRcXGQ/Wy0vLl1cXGRcXGQ/XFxkP1xcZD8pLiovXG5jb25zdCBzdWJoZWFkID0gL14jIyMvXG5jb25zdCBsaXN0aXRlbSA9IC9eWyotXS9cblxuY29uc3QgZGVmYXVsdE9wdGlvbnMgPSB7IHJlbW92ZU1hcmtkb3duOiB0cnVlIH1cblxuLyoqXG4gKiBDaGFuZ2Vsb2cgcGFyc2VyLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfG9iamVjdH0gb3B0aW9ucyAtIGNoYW5nZWxvZyBmaWxlIHN0cmluZyBvciBvcHRpb25zIG9iamVjdCBjb250YWluaW5nIGZpbGUgc3RyaW5nXG4gKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMuZmlsZVBhdGhdIC0gcGF0aCB0byBjaGFuZ2Vsb2cgZmlsZVxuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnRleHRdIC0gY2hhbmdlbG9nIHRleHQgKGZpbGVQYXRoIGFsdGVybmF0aXZlKVxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5yZW1vdmVNYXJrZG93bj10cnVlXSAtIGNoYW5nZWxvZyBmaWxlIHN0cmluZyB0byBwYXJzZVxuICogQHBhcmFtIHtmdW5jdGlvbn0gW2NhbGxiYWNrXSAtIG9wdGlvbmFsIGNhbGxiYWNrXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxvYmplY3Q+fSAtIHBhcnNlZCBjaGFuZ2Vsb2cgb2JqZWN0XG4gKi9cbmZ1bmN0aW9uIHBhcnNlQ2hhbmdlbG9nIChvcHRpb25zLCBjYWxsYmFjaykge1xuICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICd1bmRlZmluZWQnKSB0aHJvdyBuZXcgRXJyb3IoJ21pc3Npbmcgb3B0aW9ucyBhcmd1bWVudCcpXG4gIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ3N0cmluZycpIG9wdGlvbnMgPSB7IGZpbGVQYXRoOiBvcHRpb25zIH1cbiAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnb2JqZWN0Jykge1xuICAgIGNvbnN0IGhhc0ZpbGVQYXRoID0gdHlwZW9mIG9wdGlvbnMuZmlsZVBhdGggIT09ICd1bmRlZmluZWQnXG4gICAgY29uc3QgaGFzVGV4dCA9IHR5cGVvZiBvcHRpb25zLnRleHQgIT09ICd1bmRlZmluZWQnXG4gICAgY29uc3QgaW52YWxpZEZpbGVQYXRoID0gdHlwZW9mIG9wdGlvbnMuZmlsZVBhdGggIT09ICdzdHJpbmcnXG4gICAgY29uc3QgaW52YWxpZFRleHQgPSB0eXBlb2Ygb3B0aW9ucy50ZXh0ICE9PSAnc3RyaW5nJ1xuXG4gICAgaWYgKCFoYXNGaWxlUGF0aCAmJiAhaGFzVGV4dCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdtdXN0IHByb3ZpZGUgZmlsZVBhdGggb3IgdGV4dCcpXG4gICAgfVxuXG4gICAgaWYgKGhhc0ZpbGVQYXRoICYmIGludmFsaWRGaWxlUGF0aCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIGZpbGVQYXRoLCBleHBlY3RlZCBzdHJpbmcnKVxuICAgIH1cblxuICAgIGlmIChoYXNUZXh0ICYmIGludmFsaWRUZXh0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgdGV4dCwgZXhwZWN0ZWQgc3RyaW5nJylcbiAgICB9XG4gIH1cblxuICBjb25zdCBvcHRzID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdE9wdGlvbnMsIG9wdGlvbnMpXG4gIGNvbnN0IGNoYW5nZWxvZyA9IHBhcnNlKG9wdHMpXG5cbiAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNoYW5nZWxvZ1xuICAgICAgLnRoZW4oZnVuY3Rpb24gKGxvZykgeyBjYWxsYmFjayhudWxsLCBsb2cpIH0pXG4gICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycikgeyBjYWxsYmFjayhlcnIpIH0pXG4gIH1cblxuICAvLyBvdGhlcndpc2UsIGludm9rZSBjYWxsYmFja1xuICByZXR1cm4gY2hhbmdlbG9nXG59XG5cbi8qKlxuICogSW50ZXJuYWwgcGFyc2luZyBsb2dpYy5cbiAqXG4gKiBAcGFyYW0ge29wdGlvbnN9IG9wdGlvbnMgLSBvcHRpb25zIG9iamVjdFxuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmZpbGVQYXRoXSAtIHBhdGggdG8gY2hhbmdlbG9nIGZpbGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy50ZXh0XSAtIGNoYW5nZWxvZyB0ZXh0IChmaWxlUGF0aCBhbHRlcm5hdGl2ZSlcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMucmVtb3ZlTWFya2Rvd25dIC0gcmVtb3ZlIG1hcmtkb3duXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxvYmplY3Q+fSAtIHBhcnNlZCBjaGFuZ2Vsb2cgb2JqZWN0XG4gKi9cbmZ1bmN0aW9uIHBhcnNlIChvcHRpb25zKSB7XG4gIGNvbnN0IGZpbGVQYXRoID0gb3B0aW9ucy5maWxlUGF0aFxuICBjb25zdCB0ZXh0ID0gb3B0aW9ucy50ZXh0XG4gIGNvbnN0IGRhdGEgPSB7XG4gICAgbG9nOiB7IHZlcnNpb25zOiBbXSB9LFxuICAgIGN1cnJlbnQ6IG51bGxcbiAgfVxuXG4gIC8vIGFsbG93IGBoYW5kbGVMaW5lYCB0byBtdXRhdGUgbG9nL2N1cnJlbnQgZGF0YSBhcyBgdGhpc2AuXG4gIGNvbnN0IGNiID0gaGFuZGxlTGluZS5iaW5kKGRhdGEsIG9wdGlvbnMpXG5cbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBmdW5jdGlvbiBkb25lICgpIHtcbiAgICAgIC8vIHB1c2ggbGFzdCB2ZXJzaW9uIGludG8gbG9nXG4gICAgICBpZiAoZGF0YS5jdXJyZW50KSB7XG4gICAgICAgIHB1c2hDdXJyZW50KGRhdGEpXG4gICAgICB9XG5cbiAgICAgIC8vIGNsZWFuIHVwIGRlc2NyaXB0aW9uXG4gICAgICBkYXRhLmxvZy5kZXNjcmlwdGlvbiA9IGNsZWFuKGRhdGEubG9nLmRlc2NyaXB0aW9uKVxuICAgICAgaWYgKGRhdGEubG9nLmRlc2NyaXB0aW9uID09PSAnJykgZGVsZXRlIGRhdGEubG9nLmRlc2NyaXB0aW9uXG5cbiAgICAgIHJlc29sdmUoZGF0YS5sb2cpXG4gICAgfVxuXG4gICAgaWYgKHRleHQpIHtcbiAgICAgIHRleHQuc3BsaXQoL1xcclxcbj98XFxuL21nKS5mb3JFYWNoKGNiKVxuICAgICAgZG9uZSgpXG4gICAgfSBlbHNlIHtcbiAgICAgIGxpbmVSZWFkZXIuZWFjaExpbmUoZmlsZVBhdGgsIGNiLCBFT0wpLnRoZW4oZG9uZSlcbiAgICB9XG4gIH0pXG59XG5cbi8qKlxuICogSGFuZGxlcyBlYWNoIGxpbmUgYW5kIG11dGF0ZXMgZGF0YSBvYmplY3QgKGJvdW5kIHRvIGB0aGlzYCkgYXMgbmVlZGVkLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIC0gb3B0aW9ucyBvYmplY3RcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gb3B0aW9ucy5yZW1vdmVNYXJrZG93biAtIHdoZXRoZXIgb3Igbm90IHRvIHJlbW92ZSBtYXJrZG93blxuICogQHBhcmFtIHtzdHJpbmd9IGxpbmUgLSBsaW5lIGZyb20gY2hhbmdlbG9nIGZpbGVcbiAqL1xuZnVuY3Rpb24gaGFuZGxlTGluZSAob3B0aW9ucywgbGluZSkge1xuICAvLyBza2lwIGxpbmUgaWYgaXQncyBhIGxpbmsgbGFiZWxcbiAgaWYgKGxpbmUubWF0Y2goL15cXFtbXltcXF1dKlxcXSAqPzovKSkgcmV0dXJuXG5cbiAgLy8gc2V0IHRpdGxlIGlmIGl0J3MgdGhlcmVcbiAgaWYgKCF0aGlzLmxvZy50aXRsZSAmJiBsaW5lLm1hdGNoKC9eIyA/W14jXS8pKSB7XG4gICAgdGhpcy5sb2cudGl0bGUgPSBsaW5lLnN1YnN0cmluZygxKS50cmltKClcbiAgICByZXR1cm5cbiAgfVxuXG4gIC8vIG5ldyB2ZXJzaW9uIGZvdW5kIVxuICBpZiAobGluZS5tYXRjaCgvXiMjPyA/W14jXS8pKSB7XG4gICAgaWYgKHRoaXMuY3VycmVudCAmJiB0aGlzLmN1cnJlbnQudGl0bGUpIHB1c2hDdXJyZW50KHRoaXMpXG5cbiAgICB0aGlzLmN1cnJlbnQgPSB2ZXJzaW9uRmFjdG9yeSgpXG5cbiAgICBpZiAoc2VtdmVyLmV4ZWMobGluZSkpIHRoaXMuY3VycmVudC52ZXJzaW9uID0gc2VtdmVyLmV4ZWMobGluZSlbMV1cblxuICAgIHRoaXMuY3VycmVudC50aXRsZSA9IGxpbmUuc3Vic3RyaW5nKDIpLnRyaW0oKVxuXG4gICAgaWYgKHRoaXMuY3VycmVudC50aXRsZSAmJiBkYXRlLmV4ZWModGhpcy5jdXJyZW50LnRpdGxlKSkgdGhpcy5jdXJyZW50LmRhdGUgPSBkYXRlLmV4ZWModGhpcy5jdXJyZW50LnRpdGxlKVsxXVxuXG4gICAgcmV0dXJuXG4gIH1cblxuICAvLyBkZWFsIHdpdGggYm9keSBvciBkZXNjcmlwdGlvbiBjb250ZW50XG4gIGlmICh0aGlzLmN1cnJlbnQpIHtcbiAgICB0aGlzLmN1cnJlbnQuYm9keSArPSBsaW5lICsgRU9MXG5cbiAgICAvLyBoYW5kbGUgY2FzZSB3aGVyZSBjdXJyZW50IGxpbmUgaXMgYSAnc3ViaGVhZCc6XG4gICAgLy8gLSAnaGFuZGxlaXplJyBzdWJoZWFkLlxuICAgIC8vIC0gYWRkIHN1YmhlYWQgdG8gJ3BhcnNlZCcgZGF0YSBpZiBub3QgYWxyZWFkeSBwcmVzZW50LlxuICAgIGlmIChzdWJoZWFkLmV4ZWMobGluZSkpIHtcbiAgICAgIGNvbnN0IGtleSA9IGxpbmUucmVwbGFjZSgnIyMjJywgJycpLnRyaW0oKVxuXG4gICAgICBpZiAoIXRoaXMuY3VycmVudC5wYXJzZWRba2V5XSkge1xuICAgICAgICB0aGlzLmN1cnJlbnQucGFyc2VkW2tleV0gPSBbXVxuICAgICAgICB0aGlzLmN1cnJlbnQuX3ByaXZhdGUuYWN0aXZlU3ViaGVhZCA9IGtleVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGhhbmRsZSBjYXNlIHdoZXJlIGN1cnJlbnQgbGluZSBpcyBhICdsaXN0IGl0ZW0nOlxuICAgIGlmIChsaXN0aXRlbS5leGVjKGxpbmUpKSB7XG4gICAgICBjb25zdCBsb2cgPSBvcHRpb25zLnJlbW92ZU1hcmtkb3duID8gcmVtb3ZlTWFya2Rvd24obGluZSkgOiBsaW5lXG4gICAgICAvLyBhZGQgbGluZSB0byAnY2F0Y2ggYWxsJyBhcnJheVxuICAgICAgdGhpcy5jdXJyZW50LnBhcnNlZC5fLnB1c2gobG9nKVxuXG4gICAgICAvLyBhZGQgbGluZSB0byAnYWN0aXZlIHN1YmhlYWQnIGlmIGFwcGxpY2FibGUgKGVnLiAnQWRkZWQnLCAnQ2hhbmdlZCcsIGV0Yy4pXG4gICAgICBpZiAodGhpcy5jdXJyZW50Ll9wcml2YXRlLmFjdGl2ZVN1YmhlYWQpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50LnBhcnNlZFt0aGlzLmN1cnJlbnQuX3ByaXZhdGUuYWN0aXZlU3ViaGVhZF0ucHVzaChsb2cpXG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHRoaXMubG9nLmRlc2NyaXB0aW9uID0gKHRoaXMubG9nLmRlc2NyaXB0aW9uIHx8ICcnKSArIGxpbmUgKyBFT0xcbiAgfVxufVxuXG5mdW5jdGlvbiB2ZXJzaW9uRmFjdG9yeSAoKSB7XG4gIHJldHVybiB7XG4gICAgdmVyc2lvbjogbnVsbCxcbiAgICB0aXRsZTogbnVsbCxcbiAgICBkYXRlOiBudWxsLFxuICAgIGJvZHk6ICcnLFxuICAgIHBhcnNlZDoge1xuICAgICAgXzogW11cbiAgICB9LFxuICAgIF9wcml2YXRlOiB7XG4gICAgICBhY3RpdmVTdWJoZWFkOiBudWxsXG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHB1c2hDdXJyZW50IChkYXRhKSB7XG4gIC8vIHJlbW92ZSBwcml2YXRlIHByb3BlcnRpZXNcbiAgZGVsZXRlIGRhdGEuY3VycmVudC5fcHJpdmF0ZVxuXG4gIGRhdGEuY3VycmVudC5ib2R5ID0gY2xlYW4oZGF0YS5jdXJyZW50LmJvZHkpXG4gIGRhdGEubG9nLnZlcnNpb25zLnB1c2goZGF0YS5jdXJyZW50KVxufVxuXG5mdW5jdGlvbiBjbGVhbiAoc3RyKSB7XG4gIGlmICghc3RyKSByZXR1cm4gJydcblxuICAvLyB0cmltXG4gIHN0ciA9IHN0ci50cmltKClcbiAgLy8gcmVtb3ZlIGxlYWRpbmcgbmV3bGluZXNcbiAgc3RyID0gc3RyLnJlcGxhY2UobmV3IFJlZ0V4cCgnWycgKyBFT0wgKyAnXSonKSwgJycpXG4gIC8vIHJlbW92ZSB0cmFpbGluZyBuZXdsaW5lc1xuICBzdHIgPSBzdHIucmVwbGFjZShuZXcgUmVnRXhwKCdbJyArIEVPTCArICddKiQnKSwgJycpXG5cbiAgcmV0dXJuIHN0clxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHBhcnNlQ2hhbmdlbG9nXG4iLCAiaW1wb3J0IHsgcGx1Z2luIH0gZnJvbSAnLi9wbHVnaW4nO1xuXG5leHBvcnQgZGVmYXVsdCBwbHVnaW47XG5cbmV4cG9ydCAqIGZyb20gJy4vdHlwZXMnO1xuZXhwb3J0ICogZnJvbSAnLi9jb21tYW5kcyc7XG5leHBvcnQgKiBmcm9tICcuL3V0aWxzJzsiLCAiaW1wb3J0IHsgQ29tbWFuZENvbnRleHQsIENvbmZpZ3VyYXRpb24sIENvbmZpZ3VyYXRpb25EZWZpbml0aW9uTWFwLCBMb2NhdG9yLCBNZXNzYWdlTmFtZSwgUHJvamVjdCwgUmVwb3J0LCBTZXR0aW5nc1R5cGUsIFN0cmVhbVJlcG9ydCwgV29ya3NwYWNlIH0gZnJvbSBcIkB5YXJucGtnL2NvcmVcIjtcbmltcG9ydCB7IFVzYWdlRXJyb3IgfSBmcm9tIFwiY2xpcGFuaW9uXCI7XG5pbXBvcnQgeyBCcmFuY2hUeXBlLCBHaXRWZXJzaW9uQnJhbmNoIH0gZnJvbSBcIi4uL3R5cGVzXCI7XG5pbXBvcnQgeyBjdXJyZW50QnJhbmNoIH0gZnJvbSBcIi4vZ2l0XCI7XG5cbmV4cG9ydCBjb25zdCBERUZBVUxUX1JFUE9fVkVSU0lPTiA9ICcwLjAuMCc7XG5cblxuZXhwb3J0IGNsYXNzIEdpdFZlcnNpb25Db25maWd1cmF0aW9uIHtcblxuICBzdGF0aWMgZGVmaW5pdGlvbiA6IFBhcnRpYWw8Q29uZmlndXJhdGlvbkRlZmluaXRpb25NYXA+ID0ge1xuICAgIGZlYXR1cmVCcmFuY2hQYXR0ZXJuczoge1xuICAgICAgZGVzY3JpcHRpb246IGBGZWF0dXJlIGJyYW5jaGVzLiBUaGlzIHdpbGwgYXBwbHkgdGhlIGZvbGxvd2luZyBydWxlcyB0byBidW1wczpcbiAgLSB2ZXJzaW9uIHBhdHRlcm46ICd4LngueC08PGZlYXR1cmU+Pi48PGluY3JlbWVudD4+J1xuICAtIGFsd2F5cyBpbmNyZW1lbnQgb24gZWFjaCBjb21taXRcbiAgLSBubyBjaGVja2luZyBmb3IgY29udmVudGlvbmFsIGNvbW1pdHMgaW4gZ2l0IGhpc3RvcnlcbiAgLSBwdWJsaXNoIG9uIG5wbSBjaGFubmVsICc8PGZlYXR1cmU+PidgLFxuICAgICAgaXNBcnJheTogdHJ1ZSxcbiAgICAgIHR5cGU6IFNldHRpbmdzVHlwZS5TVFJJTkcsXG4gICAgICBkZWZhdWx0OiBbXG4gICAgICAgICdeZmVhdHVyZS8oLiopJCdcbiAgICAgIF1cbiAgICB9LFxuICAgIHJlbGVhc2VCcmFuY2hQYXR0ZXJuczoge1xuICAgICAgZGVzY3JpcHRpb246IGBSZWxlYXNlIGJyYW5jaGVzLiBUaGlzIHdpbGwgYXBwbHkgdGhlIGZvbGxvd2luZyBydWxlcyB0byBidW1wczpcbiAgLSBPZmZpY2lhbCByZWxlYXNlIGNoYW5uZWxzXG4gIC0gQ29udmVudGlvbmFsIGNvbW1pdHMgZW5hYmxlZFxuICAtIHB1Ymxpc2ggb24gbnBtIGNoYW5uZWwgJzw8cmVsZWFzZT4+J2AsXG4gICAgICBpc0FycmF5OiB0cnVlLFxuICAgICAgdHlwZTogU2V0dGluZ3NUeXBlLlNUUklORyxcbiAgICAgIGRlZmF1bHQ6IFtcbiAgICAgICAgJ15yZWxlYXNlLyguKikkJ1xuICAgICAgXVxuICAgIH0sXG4gICAgbWFpbkJyYW5jaDoge1xuICAgICAgZGVzY3JpcHRpb246IGBUaGUgbWFpbiBicmFuY2guIFRoaXMgaXMgdGhlIG9mZmljaWFsIGNoYW5uZWwgYW5kIHdpbGwgcHJvZHVjZSBucG0gcGFja2FnZXMgd2l0aCB0aGUgbGF0ZXMgbnBtIGRpc3R0YWdgLFxuICAgICAgdHlwZTogU2V0dGluZ3NUeXBlLlNUUklORyxcbiAgICAgIGRlZmF1bHQ6ICdtYWluJ1xuICAgIH0sXG4gICAgaW5kZXBlbmRlbnRWZXJzaW9uaW5nOiB7XG4gICAgICBkZXNjcmlwdGlvbjogJ1doZW4gaW5kZXBlbmRlbnQgdmVyc2lvbmluZyBpcyBlbmFibGVkIGVhY2ggcGFja2FnZSB3aWxsIGhhdmUgYSBkaWZmZXJlbnQgdmVyc2lvbiBiYXNlZCBvbiB0aGUgY29tbWl0cyBpbiB0aGUgcGFja2FnZSBmb2xkZXInLFxuICAgICAgdHlwZTogU2V0dGluZ3NUeXBlLkJPT0xFQU4sXG4gICAgICBkZWZhdWx0OiBmYWxzZVxuICAgIH0sXG4gICAgdmVyc2lvblRhZ1ByZWZpeDoge1xuICAgICAgZGVzY3JpcHRpb246ICdUaGUgcHJlZml4IHVzZWQgZm9yIGdpdCB0YWdzLiBEZWZhdWx0cyB0byBcInZcIicsXG4gICAgICB0eXBlOiBTZXR0aW5nc1R5cGUuU1RSSU5HLFxuICAgICAgZGVmYXVsdDogJ3YnXG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIGZyb21Db250ZXh0KHlhcm5Db25maWc6IENvbmZpZ3VyYXRpb24sIHJlcG9ydDogUmVwb3J0KSAge1xuICAgIGNvbnN0IGJyYW5jaCA9IGF3YWl0IGN1cnJlbnRCcmFuY2goKTtcblxuICAgIHJldHVybiBuZXcgR2l0VmVyc2lvbkNvbmZpZ3VyYXRpb24oYnJhbmNoLCB5YXJuQ29uZmlnLCByZXBvcnQpO1xuICB9XG5cbiAgcHVibGljIHJlYWRvbmx5IGZlYXR1cmVCcmFuY2hQYXR0ZXJuczogUmVnRXhwW107XG4gIHB1YmxpYyByZWFkb25seSByZWxlYXNlQnJhbmNoUGF0dGVybnM6IFJlZ0V4cFtdO1xuICBwdWJsaWMgcmVhZG9ubHkgbWFpbkJyYW5jaDogc3RyaW5nO1xuICBwdWJsaWMgcmVhZG9ubHkgaW5kZXBlbmRlbnRWZXJzaW9uaW5nOiBib29sZWFuO1xuICBwdWJsaWMgcmVhZG9ubHkgdmVyc2lvblRhZ1ByZWZpeDogc3RyaW5nO1xuXG4gIHB1YmxpYyByZWFkb25seSB2ZXJzaW9uQnJhbmNoOiBHaXRWZXJzaW9uQnJhbmNoO1xuICBwdWJsaWMgcmVhZG9ubHkgeWFybkNvbmZpZzogQ29uZmlndXJhdGlvbjtcblxuICBjb25zdHJ1Y3RvcihicmFuY2hOYW1lOiBzdHJpbmcsIHlhcm5Db25maWc6IENvbmZpZ3VyYXRpb24sIHJlcG9ydDogUmVwb3J0KSB7XG4gICAgdGhpcy55YXJuQ29uZmlnID0geWFybkNvbmZpZztcbiAgICBjb25zdCBmZWF0dXJlUGF0dGVuU3RyaW5ncyA9IHlhcm5Db25maWcuZ2V0KCdmZWF0dXJlQnJhbmNoUGF0dGVybnMnKTtcbiAgICBjb25zdCByZWxlYXNlQnJhbmNoUGF0dGVybnNTdHJpbmdzID0geWFybkNvbmZpZy5nZXQoJ3JlbGVhc2VCcmFuY2hQYXR0ZXJucycpO1xuXG4gICAgdGhpcy5mZWF0dXJlQnJhbmNoUGF0dGVybnMgPSBmZWF0dXJlUGF0dGVuU3RyaW5ncy5tYXAoKHBhdHRlcm4pID0+IG5ldyBSZWdFeHAocGF0dGVybikpO1xuICAgIHRoaXMucmVsZWFzZUJyYW5jaFBhdHRlcm5zID0gcmVsZWFzZUJyYW5jaFBhdHRlcm5zU3RyaW5ncy5tYXAoKHBhdHRlcm4pID0+IG5ldyBSZWdFeHAocGF0dGVybikpO1xuXG4gICAgdGhpcy5tYWluQnJhbmNoID0geWFybkNvbmZpZy5nZXQoJ21haW5CcmFuY2gnKTtcbiAgICB0aGlzLmluZGVwZW5kZW50VmVyc2lvbmluZyA9IHlhcm5Db25maWcuZ2V0KCdpbmRlcGVuZGVudFZlcnNpb25pbmcnKTtcbiAgICB0aGlzLnZlcnNpb25UYWdQcmVmaXggPSB5YXJuQ29uZmlnLmdldCgndmVyc2lvblRhZ1ByZWZpeCcpO1xuICAgIHRoaXMudmVyc2lvbkJyYW5jaCA9IHRoaXMucGFyc2UoYnJhbmNoTmFtZSk7XG5cbiAgICByZXBvcnQucmVwb3J0SW5mb09uY2UoTWVzc2FnZU5hbWUuVU5OQU1FRCwgYFJ1bm5pbmcgb24gYnJhbmNoOiAnJHticmFuY2hOYW1lfSdgKTtcbiAgICByZXBvcnQucmVwb3J0SW5mb09uY2UoTWVzc2FnZU5hbWUuVU5OQU1FRCwgYERldGVjdGVkIGJyYW5jaCB0eXBlOiAnJHt0aGlzLnZlcnNpb25CcmFuY2guYnJhbmNoVHlwZX0nYCk7XG4gIH1cblxuICBwYXJzZShicmFuY2hOYW1lOiBzdHJpbmcpIDogR2l0VmVyc2lvbkJyYW5jaCB7XG4gICAgaWYgKHRoaXMubWFpbkJyYW5jaCA9PT0gYnJhbmNoTmFtZSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgYnJhbmNoVHlwZTogQnJhbmNoVHlwZS5NQUlOLFxuICAgICAgICBuYW1lOiBicmFuY2hOYW1lXG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yIChsZXQgYnJhbmNoUGF0dGVybiBvZiB0aGlzLmZlYXR1cmVCcmFuY2hQYXR0ZXJucykge1xuICAgICAgaWYgKGJyYW5jaFBhdHRlcm4udGVzdChicmFuY2hOYW1lKSkge1xuICAgICAgICBjb25zdCBtYXRjaGVzID0gYnJhbmNoUGF0dGVybi5leGVjKGJyYW5jaE5hbWUpO1xuXG4gICAgICAgIGlmIChtYXRjaGVzICYmIG1hdGNoZXMubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5hbWU6IG1hdGNoZXNbMV0sXG4gICAgICAgICAgICBicmFuY2hUeXBlOiBCcmFuY2hUeXBlLkZFQVRVUkVcbiAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IG5ldyBVc2FnZUVycm9yKGBUaGUgZmVhdHVyZSBwYXR0ZXJuICcke2JyYW5jaFBhdHRlcm4uc291cmNlfScgbWF0Y2hlZCB0aGUgY3VycmVudCBicmFuY2ggYnV0IGl0IHNob3VsZCByZXN1bHQgaW4gZXhhY3QgMSBncm91cCBtYXRjaGApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSAgICBcblxuICAgIGZvciAobGV0IGJyYW5jaFBhdHRlcm4gb2YgdGhpcy5yZWxlYXNlQnJhbmNoUGF0dGVybnMpIHtcbiAgICAgIGlmIChicmFuY2hQYXR0ZXJuLnRlc3QoYnJhbmNoTmFtZSkpIHtcbiAgICAgICAgY29uc3QgbWF0Y2hlcyA9IGJyYW5jaFBhdHRlcm4uZXhlYyhicmFuY2hOYW1lKTtcblxuICAgICAgICBpZiAobWF0Y2hlcyAmJiBtYXRjaGVzLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuYW1lOiBtYXRjaGVzWzFdLFxuICAgICAgICAgICAgYnJhbmNoVHlwZTogQnJhbmNoVHlwZS5SRUxFQVNFXG4gICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVXNhZ2VFcnJvcihgVGhlIHJlbGVhc2UgcGF0dGVybiAnJHticmFuY2hQYXR0ZXJuLnNvdXJjZX0nIG1hdGNoZWQgdGhlIGN1cnJlbnQgYnJhbmNoIGJ1dCBpdCBzaG91bGQgcmVzdWx0IGluIGV4YWN0IDEgZ3JvdXAgbWF0Y2hgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gICAgXG5cbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogJ3Vua25vd24nLFxuICAgICAgYnJhbmNoVHlwZTogQnJhbmNoVHlwZS5VTktOT1dOXG4gICAgfTtcbiAgfVxufSIsICJpbXBvcnQgeyBQcm9qZWN0LCBXb3Jrc3BhY2UgfSBmcm9tIFwiQHlhcm5wa2cvY29yZVwiO1xuXG5leHBvcnQgZW51bSBCcmFuY2hUeXBlIHtcbiAgTUFJTiA9ICdtYWluJyxcbiAgUFJFUkVMRUFTRSA9ICdwcmVyZWxlYXNlJyxcbiAgUkVMRUFTRSA9ICdyZWxlYXNlJyxcbiAgRkVBVFVSRSA9ICdmZWF0dXJlJyxcbiAgVU5LTk9XTiA9ICd1bmtub3duJ1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEdpdFZlcnNpb25CcmFuY2gge1xuICByZWFkb25seSBuYW1lOiBzdHJpbmc7XG4gIHJlYWRvbmx5IGJyYW5jaFR5cGUgOiBCcmFuY2hUeXBlO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFB1Ymxpc2hlZFBhY2thZ2Uge1xuICByZWFkb25seSB2ZXJzaW9uOiBzdHJpbmc7XG4gIHJlYWRvbmx5IHBhY2thZ2VOYW1lOiBzdHJpbmc7XG4gIHJlYWRvbmx5IGNoYW5nZWxvZzogc3RyaW5nIHwgdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFB1Ymxpc2hlZFZlcnNpb24gZXh0ZW5kcyBQdWJsaXNoZWRQYWNrYWdlIHtcbiAgcmVhZG9ubHkgcGFja2FnZXM6IFB1Ymxpc2hlZFBhY2thZ2VbXTtcbn1cblxuZGVjbGFyZSBtb2R1bGUgJ0B5YXJucGtnL2NvcmUnIHtcbiAgaW50ZXJmYWNlIENvbmZpZ3VyYXRpb25WYWx1ZU1hcCB7XG4gICAgXG4gICAgZmVhdHVyZUJyYW5jaFBhdHRlcm5zOiBzdHJpbmdbXTtcbiAgICByZWxlYXNlQnJhbmNoUGF0dGVybnM6IHN0cmluZ1tdO1xuICAgIHByZVJlbGVhc2VCcmFuY2hQYXR0ZXJuczogc3RyaW5nW107XG4gICAgbWFpbkJyYW5jaDogc3RyaW5nO1xuICAgIGluZGVwZW5kZW50VmVyc2lvbmluZzogYm9vbGVhbjtcbiAgICB2ZXJzaW9uVGFnUHJlZml4OiBzdHJpbmc7XG4gIH1cbn1cblxuZGVjbGFyZSBtb2R1bGUgJ0B5YXJucGtnL2NvcmUnIHtcbiAgaW50ZXJmYWNlIEhvb2tzIHtcbiAgICBhZnRlclB1Ymxpc2gocHJvamVjdDogUHJvamVjdCwgYnJhbmNoOiBHaXRWZXJzaW9uQnJhbmNoLCBwdWJsaXNoZWRWZXJzaW9uOiBQdWJsaXNoZWRWZXJzaW9uKSA6IFByb21pc2U8dm9pZD47XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBzcGF3biB9IGZyb20gJ2NoaWxkX3Byb2Nlc3MnO1xuaW1wb3J0IHsgUG9ydGFibGVQYXRoIH0gZnJvbSBcIkB5YXJucGtnL2ZzbGliXCI7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBleGVjQ2FwdHVyZShjb21tYW5kOiBzdHJpbmcsIGFyZ3M6IHN0cmluZ1tdLCBjd2Q/OiBQb3J0YWJsZVBhdGgpIDogUHJvbWlzZTx7Y29kZTogbnVtYmVyIHwgbnVsbCwgcmVzdWx0OiBzdHJpbmd9PiB7XG5cbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBjb25zdCBjaGlsZCA9IHNwYXduKGNvbW1hbmQsIGFyZ3MsIHtcbiAgICAgIGN3ZDogY3dkLFxuICAgIH0pO1xuICBcbiAgICBsZXQgc3RkT3V0ID0gJyc7XG4gICAgbGV0IHN0ZEVyciA9ICcnO1xuICBcbiAgICBjaGlsZC5zdGRvdXQub24oJ2RhdGEnLCAoZGF0YSkgPT4ge1xuICAgICAgc3RkT3V0ICs9IGRhdGEudG9TdHJpbmcoKTtcbiAgICB9KTtcbiAgXG4gICAgY2hpbGQuc3RkZXJyLm9uKCdkYXRhJywgKGRhdGEpID0+IHtcbiAgICAgIHN0ZEVyciArPSBkYXRhLnRvU3RyaW5nKCk7XG4gICAgfSk7XG4gIFxuICAgIGNoaWxkLm9uKCdjbG9zZScsIChjb2RlKSA9PiB7XG4gICAgICBpZiAoY29kZSA9PT0gMCkge1xuICAgICAgICByZXNvbHZlKHtjb2RlLCByZXN1bHQ6IHN0ZE91dH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihzdGRPdXQgKyBzdGRFcnIpKTtcbiAgICAgIH1cbiAgICB9KTsgIFxuICB9KVxufVxuIiwgImltcG9ydCB7IGV4ZWNDYXB0dXJlIH0gZnJvbSBcIi4vZXhlY1wiO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2hlY2tHaXQoKSB7XG4gIHJldHVybiBleGVjQ2FwdHVyZSgnZ2l0JywgWyctLXZlcnNpb24nXSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjdXJyZW50QnJhbmNoKCkge1xuICAvLyBhenVyZSBkZXZvcHMgbG9va3VwXG4gIGlmIChwcm9jZXNzLmVudi5CVUlMRF9TT1VSQ0VCUkFOQ0hOQU1FKSB7XG4gICAgcmV0dXJuIHByb2Nlc3MuZW52LkJVSUxEX1NPVVJDRUJSQU5DSE5BTUVcbiAgfVxuICAvLyBnZXQgZnJvbSBnaXRcbiAgcmV0dXJuIChhd2FpdCBleGVjQ2FwdHVyZSgnZ2l0JywgWydyZXYtcGFyc2UnLCAnLS1hYmJyZXYtcmVmJywgJ0hFQUQnXSkpLnJlc3VsdC5yZXBsYWNlKC9cXG4qJC8sICcnKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHRhZyh0YWdOYW1lOiBzdHJpbmcsIHB1c2g6IGJvb2xlYW4pIHtcbiAgYXdhaXQgZXhlY0NhcHR1cmUoJ2dpdCcsIFsndGFnJywgdGFnTmFtZV0pO1xuXG4gIGlmIChwdXNoKSB7XG4gICAgcmV0dXJuIGV4ZWNDYXB0dXJlKCdnaXQnLCBbJ3B1c2gnLCAnLS1uby12ZXJpZnknLCAnb3JpZ2luJywgdGFnTmFtZV0pO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhZGRBbmRDb21taXQoZmlsZXM6IHN0cmluZ1tdLCBtZXNzYWdlOiBzdHJpbmcpIHtcbiAgY29uc3QgYWRkUmVzcG9uc2UgPSBhd2FpdCBleGVjQ2FwdHVyZSgnZ2l0JywgWydhZGQnLCAuLi5maWxlc10pO1xuICBjb25zb2xlLmxvZyhhZGRSZXNwb25zZS5yZXN1bHQpO1xuICBcbiAgY29uc3QgY29tbWl0UmVzcG9uc2UgPSBhd2FpdCBleGVjQ2FwdHVyZSgnZ2l0JywgWydjb21taXQnLCAuLi5maWxlcywgJy1tJywgbWVzc2FnZV0pO1xuICBjb25zb2xlLmxvZyhjb21taXRSZXNwb25zZS5yZXN1bHQpOyAgXG59IiwgImltcG9ydCB7IEJhc2VDb21tYW5kIH0gZnJvbSBcIkB5YXJucGtnL2NsaVwiO1xuaW1wb3J0IHsgQ29uZmlndXJhdGlvbiwgTG9jYXRvciwgTWVzc2FnZU5hbWUsIFByb2plY3QsIFJlcG9ydCwgU3RyZWFtUmVwb3J0LCBXb3Jrc3BhY2UgfSBmcm9tIFwiQHlhcm5wa2cvY29yZVwiO1xuaW1wb3J0IHsgR2l0VmVyc2lvbkNvbmZpZ3VyYXRpb24gfSBmcm9tIFwiLi4vdXRpbHMvY29uZmlndXJhdGlvblwiO1xuaW1wb3J0IHsgQnJhbmNoVHlwZSwgR2l0VmVyc2lvbkJyYW5jaCB9IGZyb20gXCIuLi90eXBlc1wiO1xuaW1wb3J0IHsgZXhlY0NhcHR1cmUgfSBmcm9tIFwiLi4vdXRpbHMvZXhlY1wiO1xuaW1wb3J0IHsgY3VycmVudEJyYW5jaCB9IGZyb20gXCIuLi91dGlscy9naXRcIjtcbmltcG9ydCB7IHRhZ1ByZWZpeCB9IGZyb20gXCIuLi91dGlscy90YWdzXCI7XG5pbXBvcnQgeyB1cGRhdGVXb3Jrc3BhY2VzV2l0aFZlcnNpb24sIHVwZGF0ZVdvcmtzcGFjZVdpdGhWZXJzaW9uIH0gZnJvbSBcIi4uL3V0aWxzL3dvcmtzcGFjZVwiO1xuaW1wb3J0IHsgcnVuU3RlcCB9IGZyb20gXCIuLi91dGlscy9yZXBvcnRcIjtcbmNvbnN0IGNvbXBhcmVWZXJzaW9ucyA9IHJlcXVpcmUoJ2NvbXBhcmUtdmVyc2lvbnMnKTtcblxuZXhwb3J0IGNsYXNzIEdpdFZlcnNpb25SZXN0b3JlQ29tbWFuZCBleHRlbmRzIEJhc2VDb21tYW5kIHtcbiAgc3RhdGljIHBhdGhzID0gW1xuICAgIFtgZ2l0dmVyc2lvbmAsIGByZXN0b3JlYF0sXG4gIF07XG5cbiAgYXN5bmMgZXhlY3V0ZSgpIHtcbiAgICBhd2FpdCBydW5TdGVwKCdSZXN0b3JlIHZlcnNpb25zIGZyb20gZ2l0IHRhZ3MnLCB0aGlzLmNvbnRleHQsIGFzeW5jIChyZXBvcnQsIGNvbmZpZ3VyYXRpb24pID0+IHtcbiAgICAgIGlmIChjb25maWd1cmF0aW9uLnZlcnNpb25CcmFuY2guYnJhbmNoVHlwZSA9PT0gQnJhbmNoVHlwZS5VTktOT1dOKSB7XG4gICAgICAgIHJlcG9ydC5yZXBvcnRFcnJvcihNZXNzYWdlTmFtZS5VTk5BTUVELCAnUnVubmluZyBvbiB1bmtub3duIGJyYW5jaCB0eXBlLiBCcmVha2luZyBvZmYnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIFxuICAgICAgY29uc3QgeyBwcm9qZWN0IH0gPSBhd2FpdCBQcm9qZWN0LmZpbmQoY29uZmlndXJhdGlvbi55YXJuQ29uZmlnLCB0aGlzLmNvbnRleHQuY3dkKTtcblxuICAgICAgaWYgKGNvbmZpZ3VyYXRpb24uaW5kZXBlbmRlbnRWZXJzaW9uaW5nKSB7XG4gICAgICAgIGNvbnN0IHByb21pc2VzID0gcHJvamVjdC53b3Jrc3BhY2VzLm1hcCgod29ya3NwYWNlKSA9PiB0aGlzLnVwZGF0ZVdvcmtzcGFjZUZyb21HaXQoY29uZmlndXJhdGlvbi52ZXJzaW9uVGFnUHJlZml4LCBjb25maWd1cmF0aW9uLnZlcnNpb25CcmFuY2gsIHdvcmtzcGFjZSwgcmVwb3J0KSlcbiAgICAgICAgUHJvbWlzZS5hbGwocHJvbWlzZXMpOyAgXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCB2ZXJzaW9uUHJvbWlzZXMgPSBbXG4gICAgICAgICAgdGhpcy5kZXRlcm1pbmVDdXJyZW50R2l0VmVyc2lvbihjb25maWd1cmF0aW9uLnZlcnNpb25UYWdQcmVmaXgsIGNvbmZpZ3VyYXRpb24udmVyc2lvbkJyYW5jaCksXG4gICAgICAgICAgLi4ucHJvamVjdC53b3Jrc3BhY2VzLm1hcCgod29ya3NwYWNlKSA9PiB0aGlzLmRldGVybWluZUN1cnJlbnRHaXRWZXJzaW9uKGNvbmZpZ3VyYXRpb24udmVyc2lvblRhZ1ByZWZpeCwgY29uZmlndXJhdGlvbi52ZXJzaW9uQnJhbmNoLCB3b3Jrc3BhY2UubG9jYXRvcikpXG4gICAgICAgIF07XG4gICAgICAgIGNvbnN0IHZlcnNpb25zID0gKGF3YWl0IFByb21pc2UuYWxsKHZlcnNpb25Qcm9taXNlcykpLnNvcnQoY29tcGFyZVZlcnNpb25zKS5yZXZlcnNlKCk7XG4gICAgICAgIFxuICAgICAgICBhd2FpdCB1cGRhdGVXb3Jrc3BhY2VzV2l0aFZlcnNpb24ocHJvamVjdC53b3Jrc3BhY2VzLCB2ZXJzaW9uc1swXSwgcmVwb3J0KVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgdXBkYXRlV29ya3NwYWNlRnJvbUdpdCh0YWdQcmVmaXg6IHN0cmluZywgdmVyc2lvbkJyYW5jaDogR2l0VmVyc2lvbkJyYW5jaCwgd29ya3NwYWNlOiBXb3Jrc3BhY2UsIHJlcG9ydDogUmVwb3J0KSB7XG4gICAgY29uc3QgY3VycmVudEdpdFZlcnNpb24gPSBhd2FpdCB0aGlzLmRldGVybWluZUN1cnJlbnRHaXRWZXJzaW9uKHRhZ1ByZWZpeCwgdmVyc2lvbkJyYW5jaCwgd29ya3NwYWNlLmxvY2F0b3IpXG4gICAgcmV0dXJuIHVwZGF0ZVdvcmtzcGFjZVdpdGhWZXJzaW9uKHdvcmtzcGFjZSwgY3VycmVudEdpdFZlcnNpb24sIHJlcG9ydCk7XG4gIH1cblxuICAvKipcbiAgICogRGV0ZXJtaW5lcyB0aGUgbGF0ZXN0IHJlbGVhc2UgdGFnLlxuICAgKiBAcGFyYW0gcHJlcmVsZWFzZSAob3B0aW9uYWwpIEEgcHJlLXJlbGVhc2Ugc3VmZml4LlxuICAgKiBAcmV0dXJucyB0aGUgbGF0ZXN0IHJlbGVhc2UgZm91bmQgaW4gdGhlIHRhZyBoaXN0b3J5XG4gICAqL1xuICBhc3luYyBkZXRlcm1pbmVDdXJyZW50R2l0VmVyc2lvbihkZWZhdWx0VGFnUHJlZml4OiBzdHJpbmcsIHZlcnNpb25CcmFuY2g6IEdpdFZlcnNpb25CcmFuY2gsIGNoaWxkTG9jYXRvcj86IExvY2F0b3IpOiBQcm9taXNlPHN0cmluZz4ge1xuXG4gICAgLy8gZmlsdGVyIG9ubHkgdGFncyBmb3IgdGhpcyBwcmVmaXggYW5kIG1ham9yIHZlcnNpb24gaWYgc3BlY2lmaWVkIChzdGFydCB3aXRoIFwidk5OLlwiKS5cblxuICAgIGNvbnN0IGZ1bGxUYWdQcmVmaXggPSAgdGFnUHJlZml4KGRlZmF1bHRUYWdQcmVmaXgsIGNoaWxkTG9jYXRvcik7XG5cbiAgICBjb25zdCBwcmVmaXhGaWx0ZXIgPSBgJHtmdWxsVGFnUHJlZml4fSpgO1xuXG4gICAgY29uc3QgbGlzdEdpdFRhZ3MgPSBbXG4gICAgICAnLWMnLCBcbiAgICAgICd2ZXJzaW9uc29ydC5zdWZmaXg9LScsIC8vIG1ha2VzIHN1cmUgcHJlLXJlbGVhc2UgdmVyc2lvbnMgYXJlIGxpc3RlZCBhZnRlciB0aGUgcHJpbWFyeSB2ZXJzaW9uXG4gICAgICAndGFnJyxcbiAgICAgICctLXNvcnQ9LXZlcnNpb246cmVmbmFtZScsIC8vIHNvcnQgYXMgdmVyc2lvbnMgYW5kIG5vdCBsZXhpY29ncmFwaGljYWxseVxuICAgICAgJy0tbGlzdCcsXG4gICAgICBwcmVmaXhGaWx0ZXIsXG4gICAgXTtcblxuICAgIGNvbnN0IHN0ZG91dCA9IChhd2FpdCBleGVjQ2FwdHVyZSgnZ2l0JywgbGlzdEdpdFRhZ3MpKS5yZXN1bHQ7XG5cbiAgICBsZXQgdGFncyA9IHN0ZG91dC5zcGxpdCgnXFxuJyk7XG4gICAgY29uc3Qgb2ZmaWNpYWxUYWdzID0gdGFncy5maWx0ZXIoeCA9PiBuZXcgUmVnRXhwKGBeJHt0aGlzLmVzY2FwZVJlZ0V4cChmdWxsVGFnUHJlZml4KX1bMC05XStcXC5bMC05XStcXC5bMC05XSskYCkudGVzdCh4KSk7XG5cbiAgICAvLyBpZiBcInByZVwiIGlzIHNldCwgZmlsdGVyIHZlcnNpb25zIHRoYXQgZW5kIHdpdGggXCItUFJFLmRkZFwiLlxuICAgIGlmICh2ZXJzaW9uQnJhbmNoLmJyYW5jaFR5cGUgIT09IEJyYW5jaFR5cGUuTUFJTikge1xuICAgICAgY29uc3QgcHJlUmVsZWFzZVRhZ3MgPSB0YWdzLmZpbHRlcih4ID0+IG5ldyBSZWdFeHAoYCR7ZnVsbFRhZ1ByZWZpeH1bMC05XStcXC5bMC05XStcXC5bMC05XSstJHt0aGlzLmVzY2FwZVJlZ0V4cCh2ZXJzaW9uQnJhbmNoLm5hbWUpfVxcLlswLTldKyRgKS50ZXN0KHgpKTtcbiAgICAgIGlmIChwcmVSZWxlYXNlVGFncy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHRhZ3MgPSBwcmVSZWxlYXNlVGFncztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRhZ3MgPSBvZmZpY2lhbFRhZ3M7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRhZ3MgPSBvZmZpY2lhbFRhZ3M7XG4gICAgfVxuXG4gICAgdGFncyA9IHRhZ3MuZmlsdGVyKHggPT4geCk7XG5cbiAgICAvLyBpZiBhIHByZS1yZWxlYXNlIHRhZyBpcyB1c2VkLCB0aGVuIGFkZCBpdCB0byB0aGUgaW5pdGlhbCB2ZXJzaW9uXG4gICAgbGV0IGxhdGVzdFRhZztcblxuICAgIGlmICh0YWdzLmxlbmd0aCA+IDApIHtcbiAgICAgIGxhdGVzdFRhZyA9IHRhZ3NbMF07XG4gICAgfSBlbHNlIHtcbiAgICAgIGxhdGVzdFRhZyA9ICcwLjAuMCc7XG4gICAgfVxuXG4gICAgLy8gcmVtb3ZlIHRhZyBwcmVmaXggKGlmIGV4aXN0cylcbiAgICBsZXQgbGF0ZXN0VmVyc2lvbiA9IGxhdGVzdFRhZztcblxuICAgIGNvbnN0IHJlZ2V4UmVwbGFjZSA9IG5ldyBSZWdFeHAoYF4ke3RoaXMuZXNjYXBlUmVnRXhwKGZ1bGxUYWdQcmVmaXgpfWApO1xuICAgIGxhdGVzdFZlcnNpb24gPSBsYXRlc3RWZXJzaW9uLnJlcGxhY2UocmVnZXhSZXBsYWNlLCAnJyk7XG4gICAgcmV0dXJuIGxhdGVzdFZlcnNpb247XG4gIH1cblxuICBlc2NhcGVSZWdFeHAodGV4dDogc3RyaW5nKSB7XG4gICAgcmV0dXJuIHRleHQucmVwbGFjZSgvWy4qKz9eJHt9KCl8W1xcXVxcXFxdL2csICdcXFxcJCYnKTsgLy8gJCYgbWVhbnMgdGhlIHdob2xlIG1hdGNoZWQgc3RyaW5nXG4gIH0gIFxufSIsICJpbXBvcnQgeyBMb2NhdG9yIH0gZnJvbSBcIkB5YXJucGtnL2NvcmVcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIHRhZ1ByZWZpeChnbG9iYWxUYWdQcmVmaXg6IHN0cmluZywgbG9jYXRvcj86IExvY2F0b3IpIHtcbiAgbGV0IHJlc3VsdCA9IGdsb2JhbFRhZ1ByZWZpeDtcbiAgaWYgKGxvY2F0b3IpIHtcbiAgICBpZiAobG9jYXRvci5zY29wZSkge1xuICAgICAgcmVzdWx0ICs9IGBAJHtsb2NhdG9yLnNjb3BlfS9gXG4gICAgfVxuICAgIHJlc3VsdCArPSBsb2NhdG9yLm5hbWVcbiAgICByZXN1bHQgKz0gJy0nO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59IiwgImltcG9ydCB7IE1lc3NhZ2VOYW1lLCBSZXBvcnQsIHN0cnVjdFV0aWxzLCBXb3Jrc3BhY2UgfSBmcm9tIFwiQHlhcm5wa2cvY29yZVwiXG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVXb3Jrc3BhY2VzV2l0aFZlcnNpb24od29ya3NwYWNlczogV29ya3NwYWNlW10sIHZlcnNpb246IHN0cmluZywgcmVwb3J0OiBSZXBvcnQpIHtcbiAgcmV0dXJuIFByb21pc2UuYWxsKHdvcmtzcGFjZXMubWFwKCh3b3Jrc3BhY2UpID0+IHVwZGF0ZVdvcmtzcGFjZVdpdGhWZXJzaW9uKHdvcmtzcGFjZSwgdmVyc2lvbiwgcmVwb3J0KSkpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlV29ya3NwYWNlV2l0aFZlcnNpb24od29ya3NwYWNlOiBXb3Jrc3BhY2UsIHZlcnNpb246IHN0cmluZywgcmVwb3J0OiBSZXBvcnQpIHtcbiAgaWYgKHdvcmtzcGFjZS5tYW5pZmVzdC52ZXJzaW9uICE9PSB2ZXJzaW9uKSB7XG4gICAgcmVwb3J0LnJlcG9ydEluZm8oTWVzc2FnZU5hbWUuVU5OQU1FRCxgJHtzdHJ1Y3RVdGlscy5zdHJpbmdpZnlMb2NhdG9yKHdvcmtzcGFjZS5sb2NhdG9yKX0gPT4gJHt2ZXJzaW9ufWApO1xuICAgIHdvcmtzcGFjZS5tYW5pZmVzdC52ZXJzaW9uID0gdmVyc2lvblxuICAgIHJldHVybiB3b3Jrc3BhY2UucGVyc2lzdE1hbmlmZXN0KClcbiAgfVxufSIsICJpbXBvcnQgeyBDb21tYW5kQ29udGV4dCwgQ29uZmlndXJhdGlvbiwgUmVwb3J0LCBTdHJlYW1SZXBvcnQgfSBmcm9tIFwiQHlhcm5wa2cvY29yZVwiO1xuaW1wb3J0IHsgcmVwb3J0IH0gZnJvbSBcInByb2Nlc3NcIjtcbmltcG9ydCB7IEdpdFZlcnNpb25Db25maWd1cmF0aW9uIH0gZnJvbSBcIi4vY29uZmlndXJhdGlvblwiO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcnVuU3RlcChuYW1lOiBzdHJpbmcsIGNvbnRleHQ6IENvbW1hbmRDb250ZXh0LCBjYjogKHJlcG9ydDogUmVwb3J0LCBjb25maWd1cmF0aW9uOiBHaXRWZXJzaW9uQ29uZmlndXJhdGlvbikgPT4gdm9pZCkge1xuICBjb25zdCB5YXJuQ29uZmlnID0gYXdhaXQgQ29uZmlndXJhdGlvbi5maW5kKGNvbnRleHQuY3dkLCBjb250ZXh0LnBsdWdpbnMpO1xuXG4gIGNvbnN0IHJlc3BvcnRlciA9IGF3YWl0IFN0cmVhbVJlcG9ydC5zdGFydCh7XG4gICAgY29uZmlndXJhdGlvbjogeWFybkNvbmZpZyxcbiAgICBzdGRvdXQ6IGNvbnRleHQuc3Rkb3V0LFxuICB9LCBhc3luYyAocmVwb3J0OiBTdHJlYW1SZXBvcnQpID0+IHtcbiAgICBhd2FpdCByZXBvcnQuc3RhcnRUaW1lclByb21pc2UobmFtZSwgYXN5bmMgKCkgPT4ge1xuXG4gICAgICBjb25zdCBjb25maWd1cmF0aW9uID0gYXdhaXQgR2l0VmVyc2lvbkNvbmZpZ3VyYXRpb24uZnJvbUNvbnRleHQoeWFybkNvbmZpZywgcmVwb3J0KTtcblxuICAgICAgYXdhaXQgY2IocmVwb3J0LCBjb25maWd1cmF0aW9uKTtcbiAgICB9KTtcbiAgfSk7XG4gIHJlc3BvcnRlci5leGl0Q29kZSgpO1xufTsiLCAiaW1wb3J0IHsgQmFzZUNvbW1hbmQgfSBmcm9tIFwiQHlhcm5wa2cvY2xpXCI7XG5pbXBvcnQgeyBDb25maWd1cmF0aW9uLCBNZXNzYWdlTmFtZSwgUHJvamVjdCwgU3RyZWFtUmVwb3J0IH0gZnJvbSBcIkB5YXJucGtnL2NvcmVcIjtcbmltcG9ydCB7IERFRkFVTFRfUkVQT19WRVJTSU9OLCBHaXRWZXJzaW9uQ29uZmlndXJhdGlvbiB9IGZyb20gXCIuLi91dGlscy9jb25maWd1cmF0aW9uXCI7XG5pbXBvcnQgeyBydW5TdGVwIH0gZnJvbSBcIi4uL3V0aWxzL3JlcG9ydFwiO1xuaW1wb3J0IHsgdXBkYXRlV29ya3NwYWNlc1dpdGhWZXJzaW9uIH0gZnJvbSBcIi4uL3V0aWxzL3dvcmtzcGFjZVwiO1xuXG5leHBvcnQgY2xhc3MgR2l0VmVyc2lvblJlc2V0Q29tbWFuZCBleHRlbmRzIEJhc2VDb21tYW5kIHtcbiAgc3RhdGljIHBhdGhzID0gW1xuICAgIFtgZ2l0dmVyc2lvbmAsIGByZXNldGBdLFxuICBdO1xuXG4gIGFzeW5jIGV4ZWN1dGUoKSB7XG4gICAgYXdhaXQgcnVuU3RlcCgnUmVzZXR0aW5nIGZpbGUgdmVyc2lvbnMnLCB0aGlzLmNvbnRleHQsIGFzeW5jIChyZXBvcnQsIGNvbmZpZ3VyYXRpb24pID0+IHtcbiAgICAgIGNvbnN0IHtwcm9qZWN0fSA9IGF3YWl0IFByb2plY3QuZmluZChjb25maWd1cmF0aW9uLnlhcm5Db25maWcsIHRoaXMuY29udGV4dC5jd2QpO1xuXG4gICAgICBhd2FpdCB1cGRhdGVXb3Jrc3BhY2VzV2l0aFZlcnNpb24ocHJvamVjdC53b3Jrc3BhY2VzLCBERUZBVUxUX1JFUE9fVkVSU0lPTiwgcmVwb3J0KTtcbiAgICB9KTtcbiAgfVxufSIsICJpbXBvcnQgeyBCYXNlQ29tbWFuZCB9IGZyb20gXCJAeWFybnBrZy9jbGlcIjtcbmltcG9ydCB7IENvbmZpZ3VyYXRpb24sIE1lc3NhZ2VOYW1lLCBQcm9qZWN0LCBTdHJlYW1SZXBvcnQgfSBmcm9tIFwiQHlhcm5wa2cvY29yZVwiO1xuaW1wb3J0IHsgQnJhbmNoVHlwZSB9IGZyb20gXCIuLi90eXBlc1wiO1xuaW1wb3J0IHsgdXBkYXRlV29ya3NwYWNlc1dpdGhWZXJzaW9uLCB1cGRhdGVXb3Jrc3BhY2VXaXRoVmVyc2lvbiB9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IHsgYnVtcCB9IGZyb20gXCIuLi91dGlscy9idW1wXCI7XG5pbXBvcnQgeyBjaGFuZ2Vsb2cgfSBmcm9tIFwiLi4vdXRpbHMvY2hhbmdlbG9nXCI7XG5pbXBvcnQgeyBHaXRWZXJzaW9uQ29uZmlndXJhdGlvbiB9IGZyb20gXCIuLi91dGlscy9jb25maWd1cmF0aW9uXCI7XG5pbXBvcnQgeyBydW5TdGVwIH0gZnJvbSBcIi4uL3V0aWxzL3JlcG9ydFwiO1xuaW1wb3J0IHsgdGFnUHJlZml4IH0gZnJvbSBcIi4uL3V0aWxzL3RhZ3NcIjtcbmltcG9ydCB7IEdpdFZlcnNpb25SZXN0b3JlQ29tbWFuZCB9IGZyb20gXCIuL3Jlc3RvcmVcIjtcblxuZXhwb3J0IGNsYXNzIEdpdFZlcnNpb25CdW1wQ29tbWFuZCBleHRlbmRzIEJhc2VDb21tYW5kIHtcbiAgc3RhdGljIHBhdGhzID0gW1xuICAgIFtgZ2l0dmVyc2lvbmAsIGBidW1wYF0sXG4gIF07XG5cbiAgYXN5bmMgZXhlY3V0ZSgpIHtcblxuICAgIC8vIGZpcnN0IGV4ZWN1dGUgcmVzdG9yZVxuICAgIGNvbnN0IHJlc3RvcmVDb21tYW5kID0gbmV3IEdpdFZlcnNpb25SZXN0b3JlQ29tbWFuZCgpO1xuICAgIHJlc3RvcmVDb21tYW5kLmNvbnRleHQgPSB0aGlzLmNvbnRleHQ7XG4gICAgcmVzdG9yZUNvbW1hbmQuY2xpID0gdGhpcy5jbGk7XG4gICAgYXdhaXQgcmVzdG9yZUNvbW1hbmQuZXhlY3V0ZSgpO1xuXG4gICAgYXdhaXQgcnVuU3RlcCgnQnVtcCB2ZXJzaW9ucycsIHRoaXMuY29udGV4dCwgYXN5bmMgKHJlcG9ydCwgY29uZmlndXJhdGlvbikgPT4ge1xuXG4gICAgICBpZiAoY29uZmlndXJhdGlvbi52ZXJzaW9uQnJhbmNoLmJyYW5jaFR5cGUgPT09IEJyYW5jaFR5cGUuVU5LTk9XTikge1xuICAgICAgICByZXBvcnQucmVwb3J0RXJyb3IoTWVzc2FnZU5hbWUuVU5OQU1FRCwgJ1J1bm5pbmcgb24gdW5rbm93biBicmFuY2ggdHlwZS4gQnJlYWtpbmcgb2ZmJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICBcbiAgICAgIGNvbnN0IHsgcHJvamVjdCB9ID0gYXdhaXQgUHJvamVjdC5maW5kKGNvbmZpZ3VyYXRpb24ueWFybkNvbmZpZywgdGhpcy5jb250ZXh0LmN3ZCk7XG5cbiAgICAgIGlmIChjb25maWd1cmF0aW9uLmluZGVwZW5kZW50VmVyc2lvbmluZykge1xuICAgICAgICByZXBvcnQucmVwb3J0RXJyb3IoTWVzc2FnZU5hbWUuVU5OQU1FRCwgJ0luZGVwZW5kZW50VmVyc2lvbmluZyBpcyBub3QgaW1wbGVtZW50ZWQnKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgdmVyc2lvbiA9IGF3YWl0IGJ1bXAoY29uZmlndXJhdGlvbi52ZXJzaW9uQnJhbmNoLCB0YWdQcmVmaXgoY29uZmlndXJhdGlvbi52ZXJzaW9uVGFnUHJlZml4KSwgcHJvamVjdCwgcHJvamVjdC50b3BMZXZlbFdvcmtzcGFjZSwgcmVwb3J0KTtcbiAgICAgICAgXG4gICAgICAgIGlmICh2ZXJzaW9uKSB7XG4gICAgICAgICAgYXdhaXQgdXBkYXRlV29ya3NwYWNlV2l0aFZlcnNpb24ocHJvamVjdC50b3BMZXZlbFdvcmtzcGFjZSwgdmVyc2lvbiwgcmVwb3J0KTtcbiAgICAgICAgICBhd2FpdCB1cGRhdGVXb3Jrc3BhY2VzV2l0aFZlcnNpb24ocHJvamVjdC50b3BMZXZlbFdvcmtzcGFjZS5nZXRSZWN1cnNpdmVXb3Jrc3BhY2VDaGlsZHJlbigpLCB2ZXJzaW9uLCByZXBvcnQpO1xuXG4gICAgICAgICAgYXdhaXQgY2hhbmdlbG9nKGNvbmZpZ3VyYXRpb24udmVyc2lvbkJyYW5jaCwgdmVyc2lvbiwgdGFnUHJlZml4KGNvbmZpZ3VyYXRpb24udmVyc2lvblRhZ1ByZWZpeCksIHByb2plY3QsIHByb2plY3QudG9wTGV2ZWxXb3Jrc3BhY2UsIHJlcG9ydClcblxuICAgICAgICAgIC8vIGNvbnN0IGNoaWxkVXBkYXRlcyA9IHByb2plY3QudG9wTGV2ZWxXb3Jrc3BhY2UuZ2V0UmVjdXJzaXZlV29ya3NwYWNlQ2hpbGRyZW4oKS5tYXAoKHdvcmtzcGFjZSkgPT4ge1xuICAgICAgICAgIC8vICAgcmV0dXJuIGNoYW5nZWxvZyhjb25maWd1cmF0aW9uLnZlcnNpb25CcmFuY2gsIHRhZ1ByZWZpeChjb25maWd1cmF0aW9uLnZlcnNpb25UYWdQcmVmaXgpLCBwcm9qZWN0LHdvcmtzcGFjZSwgY29uZmlndXJhdGlvbi5yZXBvcnQpXG4gICAgICAgICAgLy8gfSlcblxuICAgICAgICAgIC8vIFByb21pc2UuYWxsKGNoaWxkVXBkYXRlcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSIsICJpbXBvcnQgeyBQb3J0YWJsZVBhdGggfSBmcm9tIFwiQHlhcm5wa2cvZnNsaWJcIjtcbmltcG9ydCB7IEJyYW5jaFR5cGUsIEdpdFZlcnNpb25CcmFuY2ggfSBmcm9tIFwiLi4vdHlwZXNcIjtcbmltcG9ydCB7IGV4ZWNDYXB0dXJlIH0gZnJvbSBcIi4vZXhlY1wiO1xuXG5jb25zdCBERUZBVUxUX0ZMQUdTID0gW1xuICAnLS1uby1zaWduJywgXG4gICctLXNraXAuY29tbWl0JywgXG4gICctLXNraXAudGFnJ1xuXVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYnVtcCh2ZXJzaW9uQnJhbmNoOiBHaXRWZXJzaW9uQnJhbmNoLCB0YWdQcmVmaXg6IHN0cmluZywgY3dkOiBQb3J0YWJsZVBhdGgsIGV4ZWNDd2Q6IFBvcnRhYmxlUGF0aCwgZXhwbGljaXRWZXJzaW9uPzogc3RyaW5nKSB7XG5cbiAgY29uc3QgZmxhZ3MgOiBzdHJpbmcgW10gPSBbLi4uREVGQVVMVF9GTEFHU107XG4gIGZsYWdzLnB1c2goYC0tcGF0aD0nJHtjd2R9J2ApLCBcbiAgZmxhZ3MucHVzaChgLS10YWctcHJlZml4PScke3RhZ1ByZWZpeH0nYCk7XG4gIGZsYWdzLnB1c2goYC0taW5maWxlPScke2N3ZH0vQ0hBTkdFTE9HLm1kJ2ApXG5cbiAgaWYgKGV4cGxpY2l0VmVyc2lvbikge1xuICAgIGZsYWdzLnB1c2goYC0tcmVsZWFzZS1hcz0nJHtleHBsaWNpdFZlcnNpb259J2ApO1xuICAgIGZsYWdzLnB1c2goYC0tc2tpcC5idW1wYCk7XG4gIH1cblxuICBpZiAodmVyc2lvbkJyYW5jaC5icmFuY2hUeXBlID09PSBCcmFuY2hUeXBlLkZFQVRVUkUpIHtcbiAgICBmbGFncy5wdXNoKFxuICAgICAgYC0tcHJlcmVsZWFzZT0ke3ZlcnNpb25CcmFuY2gubmFtZX1gLCBcbiAgICAgICctLXNraXAuY2hhbmdlbG9nJ1xuICAgICk7XG5cbiAgICBpZiAoIWV4cGxpY2l0VmVyc2lvbikge1xuICAgICAgZmxhZ3MucHVzaCgnLS1yZWxlYXNlLWFzPXBhdGNoJylcbiAgICB9XG5cbiAgfSBlbHNlIGlmICh2ZXJzaW9uQnJhbmNoLmJyYW5jaFR5cGUgPT09IEJyYW5jaFR5cGUuUFJFUkVMRUFTRSB8fCB2ZXJzaW9uQnJhbmNoLmJyYW5jaFR5cGUgPT09IEJyYW5jaFR5cGUuUkVMRUFTRSkge1xuICAgIGZsYWdzLnB1c2goXG4gICAgICBgLS1wcmVyZWxlYXNlPSR7dmVyc2lvbkJyYW5jaC5uYW1lfWAsIFxuICAgICk7ICAgIFxuICB9IGVsc2UgaWYgKHZlcnNpb25CcmFuY2guYnJhbmNoVHlwZSA9PT0gQnJhbmNoVHlwZS5VTktOT1dOKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZXhlY0NhcHR1cmUoJ3lhcm4nLCBbJ3N0YW5kYXJkLXZlcnNpb24nLCAuLi5mbGFnc10sIGV4ZWNDd2QpO1xuICBjb25zb2xlLmxvZyhyZXN1bHQucmVzdWx0KTtcbiAgcmV0dXJuO1xufVxuIiwgIlxuaW1wb3J0IGNvbnZlbnRpb25hbFJlY29tbWVuZGVkQnVtcCBmcm9tIFwiY29udmVudGlvbmFsLXJlY29tbWVuZGVkLWJ1bXBcIjtcbmltcG9ydCB7IEJyYW5jaFR5cGUsIEdpdFZlcnNpb25CcmFuY2ggfSBmcm9tIFwiLi4vdHlwZXNcIjtcbmltcG9ydCB7IE1lc3NhZ2VOYW1lLCBQcm9qZWN0LCBSZXBvcnQsIFdvcmtzcGFjZSB9IGZyb20gXCJAeWFybnBrZy9jb3JlXCI7XG5pbXBvcnQgc2VtdmVyIGZyb20gJ3NlbXZlcic7XG5pbXBvcnQgeyBsb2FkQ29uZmlnIH0gZnJvbSBcIi4vY29udmVudGlvbmFsY29tbWl0XCI7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBidW1wKHZlcnNpb25CcmFuY2g6IEdpdFZlcnNpb25CcmFuY2gsIHRhZ1ByZWZpeDogc3RyaW5nLCBwcm9qZWN0OiBQcm9qZWN0LCB3b3Jrc3BhY2U6IFdvcmtzcGFjZSwgcmVwb3J0OiBSZXBvcnQpIDogUHJvbWlzZTxzdHJpbmcgfCB1bmRlZmluZWQ+IHtcblxuICBjb25zdCBjdXJyZW50VmVyc2lvbiA9IHdvcmtzcGFjZS5tYW5pZmVzdC52ZXJzaW9uO1xuICBpZiAoIWN1cnJlbnRWZXJzaW9uKSB7XG4gICAgcmVwb3J0LnJlcG9ydFdhcm5pbmcoTWVzc2FnZU5hbWUuVU5OQU1FRCwgJ05vIHZlcnNpb24gaW4gbWFuaWZlc3QuIEJyZWFraW5nIG9mZicpXG4gICAgcmV0dXJuO1xuICB9XG5cbiAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY29uZmlnID0gYXdhaXQgbG9hZENvbmZpZyhwcm9qZWN0KTtcbiAgXG4gICAgICBjb252ZW50aW9uYWxSZWNvbW1lbmRlZEJ1bXAoe1xuICAgICAgICBjb25maWc6IGNvbmZpZyxcbiAgICAgICAgdGFnUHJlZml4OiB0YWdQcmVmaXgsXG4gICAgICAgIHBhdGg6IHdvcmtzcGFjZS5yZWxhdGl2ZUN3ZCxcbiAgICAgIH0sIHtcbiAgICAgICAgICBoZWFkZXJQYXR0ZXJuOiAvXig/Ok1lcmdlZCBQUiBcXGQrOiApPyhcXHcqKSg/OlxcKCguKilcXCkpPyE/OiAoLiopJC8sXG4gICAgICAgICAgYnJlYWtpbmdIZWFkZXJQYXR0ZXJuOiAvXig/Ok1lcmdlZCBQUiBcXGQrOiApPyhcXHcqKSg/OlxcKCguKilcXCkpPyE6ICguKikkLyxcbiAgICAgICAgICByZXZlcnRQYXR0ZXJuOiAvXig/Ok1lcmdlZCBQUiBcXGQrOiApPyg/OlJldmVydHxyZXZlcnQ6KVxcc1wiPyhbXFxzXFxTXSs/KVwiP1xccypUaGlzIHJldmVydHMgY29tbWl0IChcXHcqKVxcLi9pLFxuICAgICAgICAgIHdhcm46IChtc2c6IHN0cmluZykgPT4gcmVwb3J0LnJlcG9ydFdhcm5pbmcoTWVzc2FnZU5hbWUuVU5OQU1FRCwgbXNnKVxuICAgICAgfSBhcyBhbnksIChlcnJvciwgcmVjb21tZW5kYXRpb24pID0+IHtcbiAgICAgICAgaWYgKHJlY29tbWVuZGF0aW9uLnJlbGVhc2VUeXBlKSB7ICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICBpZiAocmVjb21tZW5kYXRpb24ucmVhc29uKSB7XG4gICAgICAgICAgICByZXBvcnQucmVwb3J0SW5mbyhNZXNzYWdlTmFtZS5VTk5BTUVELCBgJHtyZWNvbW1lbmRhdGlvbi5yZWFzb259ID0+ICR7cmVjb21tZW5kYXRpb24ucmVsZWFzZVR5cGV9YCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHZlcnNpb25CcmFuY2guYnJhbmNoVHlwZSA9PSBCcmFuY2hUeXBlLk1BSU4pIHtcbiAgICAgICAgICAgIHJlcG9ydC5yZXBvcnRJbmZvKE1lc3NhZ2VOYW1lLlVOTkFNRUQsICdCdW1waW5nIG9mZmljaWFsIHJlbGVhc2UnKVxuICAgICAgICAgICAgcmVzb2x2ZShzZW12ZXIuaW5jKGN1cnJlbnRWZXJzaW9uLCByZWNvbW1lbmRhdGlvbi5yZWxlYXNlVHlwZSkgPz8gdW5kZWZpbmVkKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVwb3J0LnJlcG9ydEluZm8oTWVzc2FnZU5hbWUuVU5OQU1FRCwgYEJ1bXBpbmcgb24gcHJlcmVsZWFzZSAke3ZlcnNpb25CcmFuY2gubmFtZX1gKVxuICAgICAgICAgICAgaWYgKHNlbXZlci5wcmVyZWxlYXNlKGN1cnJlbnRWZXJzaW9uKSkge1xuICAgICAgICAgICAgICAvLyBydW4gc2ltcGxlIHByZXJlbGVhc2UgaW5jcmVtZW50IHdoZW4gYWxyZWFkeSBpbiBwcmVyZWxlYXNlXG4gICAgICAgICAgICAgIHJlc29sdmUoc2VtdmVyLmluYyhjdXJyZW50VmVyc2lvbiwgYHByZXJlbGVhc2VgKSA/PyB1bmRlZmluZWQpOyAgXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXNvbHZlKHNlbXZlci5pbmMoY3VycmVudFZlcnNpb24sIGBwcmUke3JlY29tbWVuZGF0aW9uLnJlbGVhc2VUeXBlfWAsIHZlcnNpb25CcmFuY2gubmFtZSkgPz8gdW5kZWZpbmVkKTsgIFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBjYXRjaChlcnJvcikge1xuICAgICAgcmVqZWN0KGVycm9yKVxuICAgIH0gIFxuICB9KVxuICAgIFxuXG59XG4iLCAiaW1wb3J0IHsgUHJvamVjdCB9IGZyb20gXCJAeWFybnBrZy9jb3JlXCI7XG5pbXBvcnQgY29udmVudGlvbmFsQ29tbWl0cyBmcm9tICdjb252ZW50aW9uYWwtY2hhbmdlbG9nLWNvbnZlbnRpb25hbGNvbW1pdHMnO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbG9hZENvbmZpZyhwcm9qZWN0OiBQcm9qZWN0KSA6IFByb21pc2U8YW55PiB7XG4gIHJldHVybiBjb252ZW50aW9uYWxDb21taXRzO1xufSIsICJpbXBvcnQgeyBNZXNzYWdlTmFtZSwgUHJvamVjdCwgUmVwb3J0LCBzdHJ1Y3RVdGlscywgV29ya3NwYWNlIH0gZnJvbSBcIkB5YXJucGtnL2NvcmVcIjtcbmltcG9ydCB7IEJyYW5jaFR5cGUsIEdpdFZlcnNpb25CcmFuY2ggfSBmcm9tIFwiLi4vdHlwZXNcIjtcbmltcG9ydCBjb252ZW50aW9uYWxDaGFuZ2Vsb2cgZnJvbSAnY29udmVudGlvbmFsLWNoYW5nZWxvZyc7XG5pbXBvcnQgeyBsb2FkQ29uZmlnIH0gZnJvbSBcIi4vY29udmVudGlvbmFsY29tbWl0XCI7XG5pbXBvcnQgKiBhcyBmcyBmcm9tICdmcyc7XG5pbXBvcnQgeyBqb2luIH0gZnJvbSBcInBhdGhcIjtcblxuY29uc3QgU1RBUlRfT0ZfTEFTVF9SRUxFQVNFX1BBVFRFUk4gPSAvKF4jKyBcXFs/WzAtOV0rXFwuWzAtOV0rXFwuWzAtOV0rfDxhIG5hbWU9KS9tO1xuY29uc3QgQ0hBTkdFTE9HX0ZJTEUgPSAnQ0hBTkdFTE9HLm1kJztcbmNvbnN0IExBU1RfUkVMRUFTRV9QQVRURVJOID0gL14jKyBcXFsoLiopXFxdL207XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjaGFuZ2Vsb2codmVyc2lvbkJyYW5jaDogR2l0VmVyc2lvbkJyYW5jaCwgbmV3VmVyc2lvbjogc3RyaW5nLCB0YWdQcmVmaXg6IHN0cmluZywgcHJvamVjdDogUHJvamVjdCwgd29ya3NwYWNlOiBXb3Jrc3BhY2UsIHJlcG9ydDogUmVwb3J0KSB7XG5cbiAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpIDogUHJvbWlzZTx2b2lkPiA9PiB7XG4gICAgaWYgKHZlcnNpb25CcmFuY2guYnJhbmNoVHlwZSA9PT0gQnJhbmNoVHlwZS5GRUFUVVJFKSB7XG4gICAgICByZXBvcnQucmVwb3J0SW5mbyhNZXNzYWdlTmFtZS5VTk5BTUVELCAnW0NIQU5HRUxPR10gU2tpcHBpbmcgY2hhbmdlbG9nIGR1ZSB0byBmZWF0dXJlIGJyYW5jaCcpO1xuICAgICAgcmV0dXJuIHJlc29sdmUobnVsbCk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNvbmZpZyA9IGF3YWl0IGxvYWRDb25maWcocHJvamVjdCk7XG5cbiAgICAgIGNvbnN0IGZpbGVuYW1lID0gam9pbih3b3Jrc3BhY2UuY3dkLCBDSEFOR0VMT0dfRklMRSk7XG5cbiAgICAgIGNvbnN0IGhlYWRlciA9ICcjIENoYW5nZWxvZ1xcblxcbkFsbCBub3RhYmxlIGNoYW5nZXMgdG8gdGhpcyBwcm9qZWN0IHdpbGwgYmUgZG9jdW1lbnRlZCBpbiB0aGlzIGZpbGVcXG4nO1xuXG4gICAgICBsZXQgb2xkQ29udGVudCA9IGZzLnJlYWRGaWxlU3luYyhmaWxlbmFtZSwgJ3V0Zi04Jyk7XG5cbiAgICAgIGNvbnN0IGxhc3RSZWxlYXNlTWF0Y2ggPSBvbGRDb250ZW50Lm1hdGNoKExBU1RfUkVMRUFTRV9QQVRURVJOKTtcbiAgICAgIFxuICAgICAgaWYgKGxhc3RSZWxlYXNlTWF0Y2ggJiYgbGFzdFJlbGVhc2VNYXRjaC5sZW5ndGggPiAxKSB7XG4gICAgICAgIGlmIChsYXN0UmVsZWFzZU1hdGNoWzFdID09PSBuZXdWZXJzaW9uKSB7XG4gICAgICAgICAgcmVwb3J0LnJlcG9ydEluZm8oTWVzc2FnZU5hbWUuVU5OQU1FRCwgJ1JlbGVhc2UgYWxyZWFkeSBpbiBDSEFOR0VMT0cubWQuIFNraXBwaW5nIG5ldyB1cGRhdGUnKTtcbiAgICAgICAgICByZXR1cm4gcmVzb2x2ZShudWxsKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb25zdCBvbGRDb250ZW50U3RhcnQgPSBvbGRDb250ZW50LnNlYXJjaChTVEFSVF9PRl9MQVNUX1JFTEVBU0VfUEFUVEVSTik7XG4gICAgICAvLyBmaW5kIHRoZSBwb3NpdGlvbiBvZiB0aGUgbGFzdCByZWxlYXNlIGFuZCByZW1vdmUgaGVhZGVyOlxuICAgICAgaWYgKG9sZENvbnRlbnRTdGFydCAhPT0gLTEpIHtcbiAgICAgICAgb2xkQ29udGVudCA9IG9sZENvbnRlbnQuc3Vic3RyaW5nKG9sZENvbnRlbnRTdGFydClcbiAgICAgIH1cbiAgICAgIGxldCBjb250ZW50ID0gJydcblxuICAgICAgY29uc3QgY2hhbmdlbG9nU3RyZWFtID0gY29udmVudGlvbmFsQ2hhbmdlbG9nKHtcbiAgICAgICAgY29uZmlnOiBjb25maWcsXG4gICAgICAgIHRhZ1ByZWZpeDogdGFnUHJlZml4LFxuICAgICAgICBwYXRoOiB3b3Jrc3BhY2UuY3dkLFxuICAgICAgfSBhcyBhbnksIHtcbiAgICAgICAgdmVyc2lvbjogbmV3VmVyc2lvbixcbiAgICAgICAgaG9zdDogJ3Vua25vd24nXG4gICAgICB9LCB7IFxuICAgICAgICBtZXJnZXM6IG51bGwsIFxuICAgICAgICBwYXRoOiB3b3Jrc3BhY2UucmVsYXRpdmVDd2QgXG4gICAgICB9LCB7XG4gICAgICAgIGhlYWRlclBhdHRlcm46IC9eKD86TWVyZ2VkIFBSIFxcZCs6ICk/KFxcdyopKD86XFwoKC4qKVxcKSk/IT86ICguKikkLyxcbiAgICAgICAgYnJlYWtpbmdIZWFkZXJQYXR0ZXJuOiAvXig/Ok1lcmdlZCBQUiBcXGQrOiApPyhcXHcqKSg/OlxcKCguKilcXCkpPyE6ICguKikkLyxcbiAgICAgICAgcmV2ZXJ0UGF0dGVybjogL14oPzpNZXJnZWQgUFIgXFxkKzogKT8oPzpSZXZlcnR8cmV2ZXJ0OilcXHNcIj8oW1xcc1xcU10rPylcIj9cXHMqVGhpcyByZXZlcnRzIGNvbW1pdCAoXFx3KilcXC4vaSxcbiAgICAgIH0gYXMgYW55KTtcbiAgICAgIFxuICAgICAgY2hhbmdlbG9nU3RyZWFtLm9uKCdkYXRhJywgZnVuY3Rpb24gKGJ1ZmZlcikge1xuICAgICAgICBjb250ZW50ICs9IGJ1ZmZlci50b1N0cmluZygpXG4gICAgICB9KVxuXG4gICAgICBjaGFuZ2Vsb2dTdHJlYW0ub24oJ2VuZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmVwb3J0LnJlcG9ydEluZm8oTWVzc2FnZU5hbWUuVU5OQU1FRCwgYFtDSEFOR0VMT0ddIE91dHB1dHRpbmcgY2hhbmdlcyB0byAke3N0cnVjdFV0aWxzLnN0cmluZ2lmeUxvY2F0b3Iod29ya3NwYWNlLmxvY2F0b3IpfS8ke0NIQU5HRUxPR19GSUxFfWApXG4gICAgICAgIGZzLndyaXRlRmlsZVN5bmMoZmlsZW5hbWUsIGhlYWRlciArICdcXG4nICsgKGNvbnRlbnQgKyBvbGRDb250ZW50KS5yZXBsYWNlKC9cXG4rJC8sICdcXG4nKSwgJ3V0Zi04JylcbiAgICAgIH0pXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJldHVybiByZWplY3QoZXJyb3IpXG4gICAgfVxuXG4gICAgcmVzb2x2ZShudWxsKTtcbiAgfSlcbn1cblxuZnVuY3Rpb24gdmVyaWZ5RXhpc3RlbmNlIChmaWxlbmFtZTogc3RyaW5nKSB7XG4gIGlmICghZnMuZXhpc3RzU3luYyhmaWxlbmFtZSkpIHtcbiAgICBmcy53cml0ZUZpbGVTeW5jKGZpbGVuYW1lLCAnXFxuJywgJ3V0Zi04Jyk7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBCYXNlQ29tbWFuZCB9IGZyb20gXCJAeWFybnBrZy9jbGlcIjtcbmltcG9ydCB7IENvbmZpZ3VyYXRpb24sIExpZ2h0UmVwb3J0LCBNZXNzYWdlTmFtZSwgUHJvamVjdCwgc3RydWN0VXRpbHMsIFdvcmtzcGFjZSB9IGZyb20gXCJAeWFybnBrZy9jb3JlXCI7XG5pbXBvcnQgeyBHaXRWZXJzaW9uQ29uZmlndXJhdGlvbiB9IGZyb20gXCIuLi91dGlscy9jb25maWd1cmF0aW9uXCI7XG5pbXBvcnQgeyBCcmFuY2hUeXBlLCBQdWJsaXNoZWRQYWNrYWdlLCBQdWJsaXNoZWRWZXJzaW9uIH0gZnJvbSBcIi4uL3R5cGVzXCI7XG5cbmltcG9ydCB7IGpvaW4gYXMgcGpvaW4gfSBmcm9tICdwYXRoJztcbmltcG9ydCB7IEdpdFZlcnNpb25UYWdDb21tYW5kIH0gZnJvbSBcIi4vdGFnXCI7XG5pbXBvcnQgeyBleGVjQ2FwdHVyZSB9IGZyb20gXCIuLi91dGlscy9leGVjXCI7XG5pbXBvcnQgeyBHaXRWZXJzaW9uQ29tbWl0Q29tbWFuZCB9IGZyb20gXCIuL2NvbW1pdFwiO1xuaW1wb3J0IHsgY29udmVydExvY2F0b3JUb0Rlc2NyaXB0b3IsIG1ha2VJZGVudCB9IGZyb20gXCJAeWFybnBrZy9jb3JlL2xpYi9zdHJ1Y3RVdGlsc1wiO1xuaW1wb3J0IHsgZXhpc3RzU3luYyB9IGZyb20gXCJmc1wiO1xuaW1wb3J0IHsgT3B0aW9uIH0gZnJvbSBcImNsaXBhbmlvblwiO1xuaW1wb3J0IHsgcnVuU3RlcCB9IGZyb20gXCIuLi91dGlscy9yZXBvcnRcIjtcbmNvbnN0IHBhcnNlQ2hhbmdlbG9nID0gcmVxdWlyZShcImNoYW5nZWxvZy1wYXJzZXJcIik7XG5cbmV4cG9ydCBjbGFzcyBHaXRWZXJzaW9uUHVibGlzaENvbW1hbmQgZXh0ZW5kcyBCYXNlQ29tbWFuZCB7XG4gIHN0YXRpYyBwYXRocyA9IFtcbiAgICBbYGdpdHZlcnNpb25gLCBgcHVibGlzaGBdLFxuICBdO1xuXG4gIGRyeVJ1biA9IE9wdGlvbi5Cb29sZWFuKCctLWRyeVJ1bicsIGZhbHNlKTtcbiAgc2tpcFRhZyA9IE9wdGlvbi5Cb29sZWFuKCctLXNraXBUYWcnLCBmYWxzZSk7XG4gIHNraXBDb21taXQgPSBPcHRpb24uQm9vbGVhbignLS1za2lwQ29tbWl0JywgZmFsc2UpO1xuXG4gIGFzeW5jIGV4ZWN1dGUoKSB7XG5cbiAgICAvLyBmaXJzdCBleGVjdXRlIHRhZ1xuXG4gICAgY29uc3QgZG9Ta2lwVGFnID0gdGhpcy5kcnlSdW4gfHwgdGhpcy5za2lwVGFnO1xuICAgIGlmICghZG9Ta2lwVGFnKSB7XG4gICAgICBjb25zdCB0YWdDb21tYW5kID0gbmV3IEdpdFZlcnNpb25UYWdDb21tYW5kKCk7XG4gICAgICB0YWdDb21tYW5kLmNvbnRleHQgPSB0aGlzLmNvbnRleHQ7XG4gICAgICB0YWdDb21tYW5kLmNsaSA9IHRoaXMuY2xpO1xuICAgICAgYXdhaXQgdGFnQ29tbWFuZC5leGVjdXRlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiU2tpcHBpbmcgdGFnXCIpXG4gICAgfVxuXG4gICAgY29uc3QgZG9Ta2lwQ29tbWl0ID0gdGhpcy5kcnlSdW4gfHwgdGhpcy5za2lwQ29tbWl0O1xuICAgIGlmICghZG9Ta2lwQ29tbWl0KSB7XG4gICAgICBjb25zdCBjb21taXRDb21tYW5kID0gbmV3IEdpdFZlcnNpb25Db21taXRDb21tYW5kKCk7XG4gICAgICBjb21taXRDb21tYW5kLmNvbnRleHQgPSB0aGlzLmNvbnRleHQ7XG4gICAgICBjb21taXRDb21tYW5kLmNsaSA9IHRoaXMuY2xpO1xuICAgICAgYXdhaXQgY29tbWl0Q29tbWFuZC5leGVjdXRlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiU2tpcHBpbmcgY29tbWl0XCIpXG4gICAgfVxuICAgIFxuICAgIGF3YWl0IHJ1blN0ZXAoJ1B1YmlzaGluZyBwYWNrYWdlcycsIHRoaXMuY29udGV4dCwgYXN5bmMgKHJlcG9ydCwgY29uZmlndXJhdGlvbikgPT4ge1xuICAgICAgaWYgKGNvbmZpZ3VyYXRpb24udmVyc2lvbkJyYW5jaC5icmFuY2hUeXBlID09PSBCcmFuY2hUeXBlLlVOS05PV04pIHtcbiAgICAgICAgcmVwb3J0LnJlcG9ydEVycm9yKE1lc3NhZ2VOYW1lLlVOTkFNRUQsICdSdW5uaW5nIG9uIHVua25vd24gYnJhbmNoIHR5cGUuIEJyZWFraW5nIG9mZicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9ICAgXG5cbiAgICAgIGNvbnN0IHsgcHJvamVjdCB9ID0gYXdhaXQgUHJvamVjdC5maW5kKGNvbmZpZ3VyYXRpb24ueWFybkNvbmZpZywgdGhpcy5jb250ZXh0LmN3ZCk7XG5cbiAgICAgIGlmIChjb25maWd1cmF0aW9uLmluZGVwZW5kZW50VmVyc2lvbmluZykge1xuICAgICAgICByZXBvcnQucmVwb3J0RXJyb3IoTWVzc2FnZU5hbWUuVU5OQU1FRCwgJ0luZGVwZW5kZW50VmVyc2lvbmluZyBpcyBub3QgaW1wbGVtZW50ZWQnKVxuICAgICAgfSBlbHNlIHtcblxuICAgICAgICBjb25zdCBwdWJsaWNXb3Jrc3BhY2VzID0gcHJvamVjdC53b3Jrc3BhY2VzLmZpbHRlcih0aGlzLmZpbHRlclB1YmxpY1dvcmtzcGFjZSk7XG5cbiAgICAgICAgZm9yIChjb25zdCB3b3Jrc3BhY2Ugb2YgcHVibGljV29ya3NwYWNlcykge1xuICAgICAgICAgIGxldCByZWxlYXNlVGFnUG9zdGZpeCA6IHN0cmluZ1tdID0gW107XG4gICAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24udmVyc2lvbkJyYW5jaC5icmFuY2hUeXBlID09PSBCcmFuY2hUeXBlLkZFQVRVUkUgfHwgY29uZmlndXJhdGlvbi52ZXJzaW9uQnJhbmNoLmJyYW5jaFR5cGUgPT09IEJyYW5jaFR5cGUuUFJFUkVMRUFTRSkge1xuICAgICAgICAgICAgcmVsZWFzZVRhZ1Bvc3RmaXggPSBbJy0tdGFnJywgY29uZmlndXJhdGlvbi52ZXJzaW9uQnJhbmNoLm5hbWVdO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXBvcnQucmVwb3J0SW5mbyhNZXNzYWdlTmFtZS5VTk5BTUVELCBgUHVibGlzaGluZyAke3N0cnVjdFV0aWxzLnN0cmluZ2lmeUlkZW50KHdvcmtzcGFjZS5sb2NhdG9yKX1gKVxuXG4gICAgICAgICAgaWYgKCF0aGlzLmRyeVJ1bikge1xuICAgICAgICAgICAgYXdhaXQgZXhlY0NhcHR1cmUoJ3lhcm4nLCBbJ25wbScsICdwdWJsaXNoJywgLi4ucmVsZWFzZVRhZ1Bvc3RmaXhdLCB3b3Jrc3BhY2UuY3dkKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVwb3J0LnJlcG9ydEluZm8oTWVzc2FnZU5hbWUuVU5OQU1FRCwgJ3NraXBwaW5nIHB1Ymxpc2ggZHVlIHRvIGRyeVJ1bi4gV291bGQgcnVuIGNvbW1hbmQ6JylcbiAgICAgICAgICAgIHJlcG9ydC5yZXBvcnRJbmZvKE1lc3NhZ2VOYW1lLlVOTkFNRUQsIFsneWFybicsICducG0nLCAncHVibGlzaCcsIC4uLnJlbGVhc2VUYWdQb3N0Zml4XS5qb2luKCcgJykpO1xuICAgICAgICAgICAgcmVwb3J0LnJlcG9ydEluZm8oTWVzc2FnZU5hbWUuVU5OQU1FRCwgYEluIGZvbGRlcjogJHt3b3Jrc3BhY2UuY3dkfWApXG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcHVibGlzaGVkVmVyc2lvbiA6IFB1Ymxpc2hlZFZlcnNpb24gPSB7XG4gICAgICAgICAgLi4uIGF3YWl0IHRoaXMucmVhZENoYW5nZUxvZyhwcm9qZWN0LnRvcExldmVsV29ya3NwYWNlKSxcbiAgICAgICAgICBwYWNrYWdlczogYXdhaXQgUHJvbWlzZS5hbGwocHVibGljV29ya3NwYWNlcy5tYXAod29ya3NwYWNlID0+IHRoaXMucmVhZENoYW5nZUxvZyh3b3Jrc3BhY2UpKSlcbiAgICAgICAgfVxuXG4gICAgICAgIGF3YWl0IHByb2plY3QuY29uZmlndXJhdGlvbi50cmlnZ2VySG9vayhob29rcyA9PiB7XG4gICAgICAgICAgcmV0dXJuIGhvb2tzLmFmdGVyUHVibGlzaDtcbiAgICAgICAgfSwgcHJvamVjdCwgY29uZmlndXJhdGlvbi52ZXJzaW9uQnJhbmNoLCBwdWJsaXNoZWRWZXJzaW9uKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGFzeW5jIHJlYWRDaGFuZ2VMb2cod29ya3NwYWNlOiBXb3Jrc3BhY2UpIDogUHJvbWlzZTxQdWJsaXNoZWRQYWNrYWdlPiB7XG4gICAgY29uc3QgZmlsZVBhdGggPSBwam9pbih3b3Jrc3BhY2UuY3dkLCAnQ0hBTkdFTE9HLm1kJyk7XG5cbiAgICBjb25zdCByZWxlYXNlZFZlcnNpb24gPSB3b3Jrc3BhY2UubWFuaWZlc3QudmVyc2lvbjtcblxuICAgIGxldCBjdXJyZW50UmVsZWFzZUNoYW5nZWxvZyA6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgICBcbiAgICBpZiAoZXhpc3RzU3luYyhmaWxlUGF0aCkpIHtcbiAgICAgIGNvbnN0IGNoYW5nZUxvZyA9IGF3YWl0IHBhcnNlQ2hhbmdlbG9nKHtcbiAgICAgICAgZmlsZVBhdGg6IHBqb2luKHdvcmtzcGFjZS5jd2QsICdDSEFOR0VMT0cubWQnKSxcbiAgICAgICAgcmVtb3ZlTWFya2Rvd246IGZhbHNlXG4gICAgICB9KVxuXG4gICAgICBjdXJyZW50UmVsZWFzZUNoYW5nZWxvZyA9IGNoYW5nZUxvZy52ZXJzaW9ucy5maW5kKCh2ZXJzaW9uRW50cnkgOiBhbnkpID0+IHZlcnNpb25FbnRyeS52ZXJzaW9uID09PSByZWxlYXNlZFZlcnNpb24pPy5ib2R5O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgdmVyc2lvbjogcmVsZWFzZWRWZXJzaW9uIHx8ICcwLjAuMCcsXG4gICAgICBjaGFuZ2Vsb2c6IGN1cnJlbnRSZWxlYXNlQ2hhbmdlbG9nLFxuICAgICAgcGFja2FnZU5hbWU6IHN0cnVjdFV0aWxzLnN0cmluZ2lmeUlkZW50KHdvcmtzcGFjZS5sb2NhdG9yKVxuICAgIH1cbn1cbiAgXG4gIGZpbHRlclB1YmxpY1dvcmtzcGFjZSh3b3Jrc3BhY2U6IFdvcmtzcGFjZSkgOiBib29sZWFuIHtcbiAgICByZXR1cm4gd29ya3NwYWNlLm1hbmlmZXN0LnByaXZhdGUgPT09IGZhbHNlXG4gIH1cbn0iLCAiaW1wb3J0IHsgQmFzZUNvbW1hbmQgfSBmcm9tIFwiQHlhcm5wa2cvY2xpXCI7XG5pbXBvcnQgeyBQcm9qZWN0LCBNYW5pZmVzdCwgQ29uZmlndXJhdGlvbiwgTWVzc2FnZU5hbWUgfSBmcm9tIFwiQHlhcm5wa2cvY29yZVwiO1xuaW1wb3J0IHsgQ29tbWFuZCwgT3B0aW9uIH0gZnJvbSBcImNsaXBhbmlvblwiO1xuaW1wb3J0IHsgQnJhbmNoVHlwZSB9IGZyb20gXCIuLi90eXBlc1wiO1xuaW1wb3J0IHsgREVGQVVMVF9SRVBPX1ZFUlNJT04sIEdpdFZlcnNpb25Db25maWd1cmF0aW9uIH0gZnJvbSBcIi4uL3V0aWxzL2NvbmZpZ3VyYXRpb25cIjtcbmltcG9ydCB7IHRhZyB9IGZyb20gXCIuLi91dGlscy9naXRcIjtcbmltcG9ydCB7IHJ1blN0ZXAgfSBmcm9tIFwiLi4vdXRpbHMvcmVwb3J0XCI7XG5cbmV4cG9ydCBjbGFzcyBHaXRWZXJzaW9uVGFnQ29tbWFuZCBleHRlbmRzIEJhc2VDb21tYW5kIHtcbiAgc3RhdGljIHBhdGhzID0gW1xuICAgIFtgZ2l0dmVyc2lvbmAsIGB0YWdgXSxcbiAgXTtcblxuICBwdXNoID0gT3B0aW9uLkJvb2xlYW4oJ1B1c2ggdGhlIHRhZ3MgdG8gZ2l0JywgdHJ1ZSk7XG5cbiAgYXN5bmMgZXhlY3V0ZSgpIHtcbiAgICBhd2FpdCBydW5TdGVwKCdSZXNldHRpbmcgZmlsZSB2ZXJzaW9ucycsIHRoaXMuY29udGV4dCwgYXN5bmMgKHJlcG9ydCwgY29uZmlndXJhdGlvbikgPT4ge1xuICAgICAgaWYgKGNvbmZpZ3VyYXRpb24udmVyc2lvbkJyYW5jaC5icmFuY2hUeXBlID09PSBCcmFuY2hUeXBlLlVOS05PV04pIHtcbiAgICAgICAgcmVwb3J0LnJlcG9ydEVycm9yKE1lc3NhZ2VOYW1lLlVOTkFNRUQsICdSdW5uaW5nIG9uIHVua25vd24gYnJhbmNoIHR5cGUuIEJyZWFraW5nIG9mZicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9ICAgIFxuXG4gICAgICBjb25zdCB7IHByb2plY3QgfSA9IGF3YWl0IFByb2plY3QuZmluZChjb25maWd1cmF0aW9uLnlhcm5Db25maWcsIHRoaXMuY29udGV4dC5jd2QpO1xuXG4gICAgICBpZiAoY29uZmlndXJhdGlvbi5pbmRlcGVuZGVudFZlcnNpb25pbmcpIHtcbiAgICAgICAgcmVwb3J0LnJlcG9ydEVycm9yKE1lc3NhZ2VOYW1lLlVOTkFNRUQsICdJbmRlcGVuZGVudFZlcnNpb25pbmcgaXMgbm90IGltcGxlbWVudGVkJylcbiAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgY29uc3QgdG9wVmVyc2lvbiA9IHByb2plY3QudG9wTGV2ZWxXb3Jrc3BhY2UubWFuaWZlc3QudmVyc2lvbjtcblxuICAgICAgICBpZiAoIXRvcFZlcnNpb24gfHwgdG9wVmVyc2lvbiA9PT0gREVGQVVMVF9SRVBPX1ZFUlNJT04pIHtcbiAgICAgICAgICByZXBvcnQucmVwb3J0SW5mbyhNZXNzYWdlTmFtZS5VTk5BTUVELCBgTm8gYWN0aXZlIGJ1bXAgZGV0ZWN0ZWQuIFNraXBwaW5nIHRhZyBzdGVwYCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBhd2FpdCB0YWcoYCR7Y29uZmlndXJhdGlvbi52ZXJzaW9uVGFnUHJlZml4fSR7dG9wVmVyc2lvbn1gLCB0aGlzLnB1c2gpICAgICAgICBcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSIsICJpbXBvcnQgeyBCYXNlQ29tbWFuZCB9IGZyb20gXCJAeWFybnBrZy9jbGlcIjtcbmltcG9ydCB7IFByb2plY3QsIE1hbmlmZXN0LCBDb25maWd1cmF0aW9uLCBNZXNzYWdlTmFtZSB9IGZyb20gXCJAeWFybnBrZy9jb3JlXCI7XG5pbXBvcnQgeyBleGlzdHNTeW5jIH0gZnJvbSBcImZzXCI7XG5pbXBvcnQgeyBCcmFuY2hUeXBlIH0gZnJvbSBcIi4uL3R5cGVzXCI7XG5pbXBvcnQgeyBERUZBVUxUX1JFUE9fVkVSU0lPTiwgR2l0VmVyc2lvbkNvbmZpZ3VyYXRpb24gfSBmcm9tIFwiLi4vdXRpbHMvY29uZmlndXJhdGlvblwiO1xuaW1wb3J0IHsgYWRkQW5kQ29tbWl0LCB0YWcgfSBmcm9tIFwiLi4vdXRpbHMvZ2l0XCI7XG5pbXBvcnQgeyBydW5TdGVwIH0gZnJvbSBcIi4uL3V0aWxzL3JlcG9ydFwiO1xuXG5leHBvcnQgY2xhc3MgR2l0VmVyc2lvbkNvbW1pdENvbW1hbmQgZXh0ZW5kcyBCYXNlQ29tbWFuZCB7XG4gIHN0YXRpYyBwYXRocyA9IFtcbiAgICBbYGdpdHZlcnNpb25gLCBgY29tbWl0YF0sXG4gIF07XG5cbiAgYXN5bmMgZXhlY3V0ZSgpIHtcbiAgICBhd2FpdCBydW5TdGVwKCdDb21taXQgY2hhbmdlbG9ncycsIHRoaXMuY29udGV4dCwgYXN5bmMgKHJlcG9ydCwgY29uZmlndXJhdGlvbikgPT4ge1xuICAgICAgaWYgKGNvbmZpZ3VyYXRpb24udmVyc2lvbkJyYW5jaC5icmFuY2hUeXBlID09PSBCcmFuY2hUeXBlLlVOS05PV04pIHtcbiAgICAgICAgcmVwb3J0LnJlcG9ydEVycm9yKE1lc3NhZ2VOYW1lLlVOTkFNRUQsICdSdW5uaW5nIG9uIHVua25vd24gYnJhbmNoIHR5cGUuIEJyZWFraW5nIG9mZicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgXG4gICAgICBjb25zdCB7IHByb2plY3QgfSA9IGF3YWl0IFByb2plY3QuZmluZChjb25maWd1cmF0aW9uLnlhcm5Db25maWcsIHRoaXMuY29udGV4dC5jd2QpO1xuXG4gICAgICBpZiAoY29uZmlndXJhdGlvbi5pbmRlcGVuZGVudFZlcnNpb25pbmcpIHtcbiAgICAgICAgcmVwb3J0LnJlcG9ydEVycm9yKE1lc3NhZ2VOYW1lLlVOTkFNRUQsICdJbmRlcGVuZGVudFZlcnNpb25pbmcgaXMgbm90IGltcGxlbWVudGVkJylcbiAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgY29uc3QgdG9wVmVyc2lvbiA9IHByb2plY3QudG9wTGV2ZWxXb3Jrc3BhY2UubWFuaWZlc3QudmVyc2lvbjtcblxuICAgICAgICBjb25zdCBjaGFuZ2Vsb2dGaWxlcyA9IHByb2plY3Qud29ya3NwYWNlc1xuICAgICAgICAgIC5tYXAoKHdvcmtzcGFjZSkgPT4gYCR7d29ya3NwYWNlLmN3ZH0vQ0hBTkdFTE9HLm1kYClcbiAgICAgICAgICAuZmlsdGVyKChmaWxlKSA9PiBleGlzdHNTeW5jKGZpbGUpKVxuXG4gICAgICAgIGlmIChjaGFuZ2Vsb2dGaWxlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICByZXBvcnQucmVwb3J0SW5mbyhNZXNzYWdlTmFtZS5VTk5BTUVELCAnTm8gY2hhbmdlbG9nIGZpbGVzIHRvIGNvbW1pdC4gU2tpcHBpbmcgY29tbWl0IHN0ZXAnKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRvcFZlcnNpb24gfHwgdG9wVmVyc2lvbiA9PT0gREVGQVVMVF9SRVBPX1ZFUlNJT04pIHtcbiAgICAgICAgICByZXBvcnQucmVwb3J0SW5mbyhNZXNzYWdlTmFtZS5VTk5BTUVELCBgTm8gYWN0aXZlIGJ1bXAgZGV0ZWN0ZWQuIFNraXBwaW5nIGNvbW1pdCBzdGVwYCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgYXdhaXQgYWRkQW5kQ29tbWl0KGNoYW5nZWxvZ0ZpbGVzICwgYGNob3JlKHJlbGVhc2UpOiAke3RvcFZlcnNpb259YClcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSIsICJpbXBvcnQgeyBCYXNlQ29tbWFuZCB9IGZyb20gXCJAeWFybnBrZy9jbGlcIjtcbmltcG9ydCB7IENvbmZpZ3VyYXRpb24sIE1lc3NhZ2VOYW1lLCBQcm9qZWN0LCBzdHJ1Y3RVdGlscyB9IGZyb20gXCJAeWFybnBrZy9jb3JlXCI7XG5pbXBvcnQgeyBHaXRWZXJzaW9uQ29uZmlndXJhdGlvbiB9IGZyb20gXCIuLi91dGlscy9jb25maWd1cmF0aW9uXCI7XG5pbXBvcnQgeyBydW5TdGVwIH0gZnJvbSBcIi4uL3V0aWxzL3JlcG9ydFwiO1xuXG5leHBvcnQgY2xhc3MgR2l0VmVyc2lvbkNoZWNrQ29tbWFuZCBleHRlbmRzIEJhc2VDb21tYW5kIHtcbiAgc3RhdGljIHBhdGhzID0gW1xuICAgIFtgZ2l0dmVyc2lvbmAsIGBjaGVja2BdLFxuICBdO1xuXG4gIGFzeW5jIGV4ZWN1dGUoKSB7XG4gICAgYXdhaXQgcnVuU3RlcCgnQ2hlY2sgZ2l0dmVyc2lvbiBwbHVnaW4nLCB0aGlzLmNvbnRleHQsIGFzeW5jIChyZXBvcnQsIGNvbmZpZ3VyYXRpb24pID0+IHtcblxuICAgICAgcmVwb3J0LnJlcG9ydEluZm8oTWVzc2FnZU5hbWUuVU5OQU1FRCwgYEJyYW5jaCB0eXBlOiAke2NvbmZpZ3VyYXRpb24udmVyc2lvbkJyYW5jaC5icmFuY2hUeXBlfWApO1xuICAgICAgcmVwb3J0LnJlcG9ydEluZm8oTWVzc2FnZU5hbWUuVU5OQU1FRCwgYEJyYW5jaCBuYW1lOiAke2NvbmZpZ3VyYXRpb24udmVyc2lvbkJyYW5jaC5uYW1lfWApO1xuXG4gICAgICBjb25zdCB7IHByb2plY3QgfSA9IGF3YWl0IFByb2plY3QuZmluZChjb25maWd1cmF0aW9uLnlhcm5Db25maWcsIHRoaXMuY29udGV4dC5jd2QpO1xuXG4gICAgICBwcm9qZWN0LndvcmtzcGFjZXMuZm9yRWFjaCgoY2hpbGQpID0+IHtcbiAgICAgICAgcmVwb3J0LnJlcG9ydEluZm8oTWVzc2FnZU5hbWUuVU5OQU1FRCwgYCR7c3RydWN0VXRpbHMuc3RyaW5naWZ5TG9jYXRvcihjaGlsZC5sb2NhdG9yKX0gUHJpdmF0ZTogJHtjaGlsZC5tYW5pZmVzdC5wcml2YXRlfWApXG4gICAgICB9KVxuICAgIH0pO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgQmFzZUNvbW1hbmQgfSBmcm9tIFwiQHlhcm5wa2cvY2xpXCI7XG5pbXBvcnQgeyBNZXNzYWdlTmFtZSwgUHJvamVjdCwgc3RydWN0VXRpbHMsIFdvcmtzcGFjZSB9IGZyb20gXCJAeWFybnBrZy9jb3JlXCI7XG5pbXBvcnQgeyBCcmFuY2hUeXBlLCBQdWJsaXNoZWRQYWNrYWdlLCBQdWJsaXNoZWRWZXJzaW9uIH0gZnJvbSBcIi4uL3R5cGVzXCI7XG5cbmltcG9ydCB7IGpvaW4sIGpvaW4gYXMgcGpvaW4gfSBmcm9tICdwYXRoJztcbmltcG9ydCB7IGV4ZWNDYXB0dXJlIH0gZnJvbSBcIi4uL3V0aWxzL2V4ZWNcIjtcbmltcG9ydCB7IGV4aXN0c1N5bmMgfSBmcm9tIFwiZnNcIjtcbmltcG9ydCB7IE9wdGlvbiB9IGZyb20gXCJjbGlwYW5pb25cIjtcbmltcG9ydCB7IHJ1blN0ZXAgfSBmcm9tIFwiLi4vdXRpbHMvcmVwb3J0XCI7XG5pbXBvcnQgeyBta2Rpciwgd3JpdGVGaWxlIH0gZnJvbSBcImZzL3Byb21pc2VzXCI7XG5jb25zdCBwYXJzZUNoYW5nZWxvZyA9IHJlcXVpcmUoXCJjaGFuZ2Vsb2ctcGFyc2VyXCIpO1xuXG5leHBvcnQgY2xhc3MgR2l0VmVyc2lvblBhY2tDb21tYW5kIGV4dGVuZHMgQmFzZUNvbW1hbmQge1xuICBzdGF0aWMgcGF0aHMgPSBbXG4gICAgW2BnaXR2ZXJzaW9uYCwgYHBhY2tgXSxcbiAgXTtcblxuICBvdXRwdXRGb2xkZXIgPSBPcHRpb24uU3RyaW5nKCdPdXRwdXQgZm9sZGVyJywgJ2dpdHZlcnNpb24tcGFja2FnZScpO1xuXG4gIGFzeW5jIGV4ZWN1dGUoKSB7XG5cbiAgICBcbiAgICBhd2FpdCBydW5TdGVwKCdQYWNrYWdpbmcgcGFja2FnZXMnLCB0aGlzLmNvbnRleHQsIGFzeW5jIChyZXBvcnQsIGNvbmZpZ3VyYXRpb24pID0+IHtcbiAgICAgIGlmIChjb25maWd1cmF0aW9uLnZlcnNpb25CcmFuY2guYnJhbmNoVHlwZSA9PT0gQnJhbmNoVHlwZS5VTktOT1dOKSB7XG4gICAgICAgIHJlcG9ydC5yZXBvcnRFcnJvcihNZXNzYWdlTmFtZS5VTk5BTUVELCAnUnVubmluZyBvbiB1bmtub3duIGJyYW5jaCB0eXBlLiBCcmVha2luZyBvZmYnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSAgIFxuXG4gICAgICBjb25zdCB7IHByb2plY3QgfSA9IGF3YWl0IFByb2plY3QuZmluZChjb25maWd1cmF0aW9uLnlhcm5Db25maWcsIHRoaXMuY29udGV4dC5jd2QpO1xuXG4gICAgICBpZiAoY29uZmlndXJhdGlvbi5pbmRlcGVuZGVudFZlcnNpb25pbmcpIHtcbiAgICAgICAgcmVwb3J0LnJlcG9ydEVycm9yKE1lc3NhZ2VOYW1lLlVOTkFNRUQsICdJbmRlcGVuZGVudFZlcnNpb25pbmcgaXMgbm90IGltcGxlbWVudGVkJylcbiAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgY29uc3QgcHVibGljV29ya3NwYWNlcyA9IHByb2plY3Qud29ya3NwYWNlcy5maWx0ZXIodGhpcy5maWx0ZXJQdWJsaWNXb3Jrc3BhY2UpO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgcGFja0ZvbGRlciA9IGpvaW4ocHJvamVjdC5jd2QsIHRoaXMub3V0cHV0Rm9sZGVyKVxuICAgICAgICBhd2FpdCBta2RpcihwYWNrRm9sZGVyLCB7XG4gICAgICAgICAgcmVjdXJzaXZlOiB0cnVlXG4gICAgICAgIH0pXG5cbiAgICAgICAgZm9yIChjb25zdCB3b3Jrc3BhY2Ugb2YgcHVibGljV29ya3NwYWNlcykge1xuICAgICAgICAgIGxldCByZWxlYXNlVGFnUG9zdGZpeCA6IHN0cmluZ1tdID0gW107XG4gICAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24udmVyc2lvbkJyYW5jaC5icmFuY2hUeXBlID09PSBCcmFuY2hUeXBlLkZFQVRVUkUgfHwgY29uZmlndXJhdGlvbi52ZXJzaW9uQnJhbmNoLmJyYW5jaFR5cGUgPT09IEJyYW5jaFR5cGUuUFJFUkVMRUFTRSkge1xuICAgICAgICAgICAgcmVsZWFzZVRhZ1Bvc3RmaXggPSBbJy0tdGFnJywgY29uZmlndXJhdGlvbi52ZXJzaW9uQnJhbmNoLm5hbWVdO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXBvcnQucmVwb3J0SW5mbyhNZXNzYWdlTmFtZS5VTk5BTUVELCBgUGFja2luZyAke3N0cnVjdFV0aWxzLnN0cmluZ2lmeUlkZW50KHdvcmtzcGFjZS5sb2NhdG9yKX1gKVxuXG4gICAgICAgICAgYXdhaXQgZXhlY0NhcHR1cmUoJ3lhcm4nLCBbJ3BhY2snLCAnLW8nLCBqb2luKHBhY2tGb2xkZXIsIGAke3dvcmtzcGFjZS5sb2NhdG9yLnNjb3BlID8gd29ya3NwYWNlLmxvY2F0b3Iuc2NvcGUgKyAnLScgOiAnJ30ke3dvcmtzcGFjZS5sb2NhdG9yLm5hbWV9LSR7d29ya3NwYWNlLm1hbmlmZXN0LnZlcnNpb259LnRnemApXSwgd29ya3NwYWNlLmN3ZCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkaWZmID0gYXdhaXQgZXhlY0NhcHR1cmUoJ2dpdCcsIFsnZGlmZicsICctLScsICcqQ0hBTkdFTE9HLm1kJ10sIHByb2plY3QuY3dkKTtcblxuICAgICAgICBhd2FpdCB3cml0ZUZpbGUoam9pbihwYWNrRm9sZGVyLCAnY2hhbmdlbG9nLmRpZmYucGF0Y2gnKSwgZGlmZi5yZXN1bHQpO1xuXG4gICAgICAgIGNvbnN0IGNvbmZpZ0NvbnRlbnQgPSBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgdmVyc2lvblRhZzogY29uZmlndXJhdGlvbi52ZXJzaW9uQnJhbmNoLm5hbWUsXG4gICAgICAgICAgdmVyc2lvbjogcHJvamVjdC50b3BMZXZlbFdvcmtzcGFjZS5tYW5pZmVzdC52ZXJzaW9uXG4gICAgICAgIH0pXG4gICAgICAgIGF3YWl0IHdyaXRlRmlsZShqb2luKHBhY2tGb2xkZXIsICdnaXR2ZXJzaW9uLmNvbmZpZy5qc29uJyksIGNvbmZpZ0NvbnRlbnQsICd1dGYtOCcpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgcmVhZENoYW5nZUxvZyh3b3Jrc3BhY2U6IFdvcmtzcGFjZSkgOiBQcm9taXNlPFB1Ymxpc2hlZFBhY2thZ2U+IHtcbiAgICBjb25zdCBmaWxlUGF0aCA9IHBqb2luKHdvcmtzcGFjZS5jd2QsICdDSEFOR0VMT0cubWQnKTtcblxuICAgIGNvbnN0IHJlbGVhc2VkVmVyc2lvbiA9IHdvcmtzcGFjZS5tYW5pZmVzdC52ZXJzaW9uO1xuXG4gICAgbGV0IGN1cnJlbnRSZWxlYXNlQ2hhbmdlbG9nIDogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAgIFxuICAgIGlmIChleGlzdHNTeW5jKGZpbGVQYXRoKSkge1xuICAgICAgY29uc3QgY2hhbmdlTG9nID0gYXdhaXQgcGFyc2VDaGFuZ2Vsb2coe1xuICAgICAgICBmaWxlUGF0aDogcGpvaW4od29ya3NwYWNlLmN3ZCwgJ0NIQU5HRUxPRy5tZCcpLFxuICAgICAgICByZW1vdmVNYXJrZG93bjogZmFsc2VcbiAgICAgIH0pXG5cbiAgICAgIGN1cnJlbnRSZWxlYXNlQ2hhbmdlbG9nID0gY2hhbmdlTG9nLnZlcnNpb25zLmZpbmQoKHZlcnNpb25FbnRyeSA6IGFueSkgPT4gdmVyc2lvbkVudHJ5LnZlcnNpb24gPT09IHJlbGVhc2VkVmVyc2lvbik/LmJvZHk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICB2ZXJzaW9uOiByZWxlYXNlZFZlcnNpb24gfHwgJzAuMC4wJyxcbiAgICAgIGNoYW5nZWxvZzogY3VycmVudFJlbGVhc2VDaGFuZ2Vsb2csXG4gICAgICBwYWNrYWdlTmFtZTogc3RydWN0VXRpbHMuc3RyaW5naWZ5SWRlbnQod29ya3NwYWNlLmxvY2F0b3IpXG4gICAgfVxufVxuICBcbiAgZmlsdGVyUHVibGljV29ya3NwYWNlKHdvcmtzcGFjZTogV29ya3NwYWNlKSA6IGJvb2xlYW4ge1xuICAgIHJldHVybiB3b3Jrc3BhY2UubWFuaWZlc3QucHJpdmF0ZSA9PT0gZmFsc2VcbiAgfVxufSIsICJpbXBvcnQgeyBQbHVnaW4sIFdyYXBOZXR3b3JrUmVxdWVzdEluZm8gfSBmcm9tICdAeWFybnBrZy9jb3JlJztcbmltcG9ydCB7IEdpdFZlcnNpb25Db25maWd1cmF0aW9uIH0gZnJvbSAnLi91dGlscy9jb25maWd1cmF0aW9uJztcbmltcG9ydCB7IEdpdFZlcnNpb25SZXN0b3JlQ29tbWFuZCB9IGZyb20gJy4vY29tbWFuZHMvcmVzdG9yZSc7XG5pbXBvcnQgeyBHaXRWZXJzaW9uUmVzZXRDb21tYW5kIH0gZnJvbSAnLi9jb21tYW5kcy9yZXNldCc7XG5pbXBvcnQgeyBHaXRWZXJzaW9uQnVtcENvbW1hbmQgfSBmcm9tICcuL2NvbW1hbmRzL2J1bXAnO1xuaW1wb3J0IHsgR2l0VmVyc2lvblB1Ymxpc2hDb21tYW5kIH0gZnJvbSAnLi9jb21tYW5kcy9wdWJsaXNoJztcbmltcG9ydCB7IEdpdFZlcnNpb25DaGVja0NvbW1hbmQgfSBmcm9tICcuL2NvbW1hbmRzL2NoZWNrJztcbmltcG9ydCB7IEdpdFZlcnNpb25UYWdDb21tYW5kIH0gZnJvbSAnLi9jb21tYW5kcy90YWcnO1xuaW1wb3J0IHsgR2l0VmVyc2lvbkNvbW1pdENvbW1hbmQgfSBmcm9tICcuL2NvbW1hbmRzL2NvbW1pdCc7XG5pbXBvcnQgeyBHaXRWZXJzaW9uUGFja0NvbW1hbmQgfSBmcm9tICcuL2NvbW1hbmRzL3BhY2snO1xuXG5cbmV4cG9ydCBjb25zdCBwbHVnaW46IFBsdWdpbiA9IHtcbiAgY29uZmlndXJhdGlvbjogR2l0VmVyc2lvbkNvbmZpZ3VyYXRpb24uZGVmaW5pdGlvbixcbiAgY29tbWFuZHM6IFtcbiAgICBHaXRWZXJzaW9uQ2hlY2tDb21tYW5kLFxuICAgIEdpdFZlcnNpb25SZXN0b3JlQ29tbWFuZCxcbiAgICBHaXRWZXJzaW9uUmVzZXRDb21tYW5kLFxuICAgIEdpdFZlcnNpb25CdW1wQ29tbWFuZCxcbiAgICBHaXRWZXJzaW9uVGFnQ29tbWFuZCxcbiAgICBHaXRWZXJzaW9uQ29tbWl0Q29tbWFuZCxcbiAgICBHaXRWZXJzaW9uUHVibGlzaENvbW1hbmQsXG4gICAgR2l0VmVyc2lvblBhY2tDb21tYW5kLFxuICBdLFxuICBob29rczoge1xuICAgIGFzeW5jIHdyYXBOZXR3b3JrUmVxdWVzdChfZXhlY3V0b3I6ICgpID0+IFByb21pc2U8YW55PiwgZXh0cmE6IFdyYXBOZXR3b3JrUmVxdWVzdEluZm8pIHtcblxuICAgICAgLyoqXG4gICAgICAgKiBUT0RPOlJlcGxhY2UgdGFnIG9uIHB1Ymxpc2ggd2hlbiBpbiBwcmVyZWxlYXNlIVxuICAgICAgICovXG5cbiAgICAgIC8vIGNvbnNvbGUubG9nKGV4dHJhKTtcbiAgICAgIHJldHVybiBfZXhlY3V0b3I7XG4gICAgICAvLyBpZiAodHlwZW9mIGV4dHJhLmJvZHkgPT09ICdvYmplY3QnKSB7XG4gICAgICAvLyAgIChleHRyYS5ib2R5IGFzIGFueSlbJ25hbWUnXSA9ICdqb29zdHZkd3NkJztcbiAgICAgIC8vIH1cbiAgICAgIC8vIGNvbnNvbGUubG9nKGV4dHJhLmJvZHkpO1xuICAgICAgLy8gY29uc3QgbmV3RXhlY3V0b3IgPSBodHRwVXRpbHMucmVxdWVzdChleHRyYS50YXJnZXQsIGV4dHJhLmJvZHksIHsgLi4uZXh0cmEgfSk7XG5cbiAgICAgIC8vIHJldHVybiBuZXdFeGVjdXRvcjtcbiAgICB9XG4gIH1cbn07XG4iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUNBLE1BQUMsVUFBVSxNQUFNLFNBQVM7QUFFeEIsWUFBSSxPQUFPLFdBQVcsY0FBYyxPQUFPLEtBQUs7QUFDOUMsaUJBQU8sSUFBSTtBQUFBLG1CQUNGLE9BQU8sWUFBWSxVQUFVO0FBQ3RDLGlCQUFPLFVBQVU7QUFBQSxlQUNaO0FBQ0wsZUFBSyxrQkFBa0I7QUFBQTtBQUFBLFNBRXhCLFNBQU0sV0FBWTtBQUNuQixZQUFJLFVBQ0Y7QUFFRiw0QkFBb0IsS0FBSyxHQUFHO0FBQzFCLGlCQUFPLElBQUksUUFBUSxPQUFPLEtBQUssSUFBSSxTQUFTLElBQUksUUFBUTtBQUFBO0FBRzFELHVCQUFlLEdBQUc7QUFDaEIsY0FBSSxJQUFJLEVBQUUsUUFBUSxNQUFNLElBQUksUUFBUSxTQUFTO0FBQzdDLGNBQUksYUFBYSxXQUFXLEdBQUc7QUFDL0IsY0FBSSxNQUFNLEVBQUUsVUFBVSxHQUFHLFlBQVksTUFBTTtBQUMzQyxjQUFJLEtBQUssRUFBRSxVQUFVLGFBQWE7QUFD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LFVBQUssUUFBUTtBQUFBLFVBQUssUUFBUTtBQUFBLFVBQUssUUFBUTtBQUFBLFVBQUssUUFBUTtBQUFBLFVBQzFFLFFBQVE7QUFBQSxVQUFNLFFBQVE7QUFBQSxVQUFLLFFBQVE7QUFBQSxVQUFLLFFBQVE7QUFBQSxVQUNoRCxRQUFRO0FBQUEsVUFBTSxRQUFRO0FBQUEsVUFBSyxRQUFRO0FBQUEsVUFBSyxRQUFRO0FBQUEsVUFDaEQsUUFBUTtBQUFBLFVBQU0sUUFBUTtBQUFBLFVBQUssUUFBUTtBQUFBLFVBQ25DLFFBQVE7QUFBQSxVQUFNLFFBQVE7QUFBQSxVQUN0QixRQUFRO0FBQUEsVUFBTSxRQUFRO0FBQUEsVUFDdEIsUUFBUTtBQUFBLFVBRVIsVUFBVTtBQUFBLFVBQU0sVUFBVTtBQUFBLFVBQUssVUFBVTtBQUFBLFVBQ3pDLFVBQVU7QUFBQSxVQUFNLFVBQVU7QUFBQSxVQUFLLFVBQVU7QUFBQSxVQUN6QyxVQUFVO0FBQUEsVUFBTSxVQUFVO0FBQUEsVUFBSyxVQUFVO0FBQUEsVUFBSyxVQUFVO0FBQUEsVUFDeEQsVUFBVTtBQUFBLFVBQU0sVUFBVTtBQUFBLFVBQUssVUFBVTtBQUFBLFVBQUssVUFBVTtBQUFBLFVBQ3hELFVBQVU7QUFBQSxVQUFNLFVBQVU7QUFBQSxVQUFLLFVBQVU7QUFBQSxVQUFLLFVBQVU7QUFBQSxVQUN4RCxVQUFVO0FBQUEsVUFBTSxVQUFVO0FBQUEsVUFBSyxVQUFVO0FBQUEsVUFBSyxVQUFVO0FBQUEsVUFBSyxVQUFVO0FBQUEsVUFDdkUsVUFBVTtBQUFBLFVBQU0sVUFBVTtBQUFBLFVBQUssVUFBVTtBQUFBLFVBQUssVUFBVTtBQUFBLFVBQUssVUFBVTtBQUFBLFVBQ3ZFLFVBQVU7QUFBQSxVQUFNLFVBQVU7QUFBQSxVQUFLLFVBQVU7QUFBQSxVQUFLLFVBQVU7QUFBQSxVQUN4RCxVQUFVO0FBQUEsVUFBTSxVQUFVO0FBQUEsVUFBSyxVQUFVO0FBQUEsVUFBSyxVQUFVO0FBQUEsVUFDeEQsVUFBVTtBQUFBLFVBQU0sVUFBVTtBQUFBLFVBQUssVUFBVTtBQUFBLFVBQUssVUFBVTtBQUFBLFVBQ3hELFVBQVU7QUFBQSxVQUFNLFVBQVU7QUFBQSxVQUFLLFVBQVU7QUFBQSxVQUFLLFVBQVU7QUFBQSxVQUFLLFVBQVU7QUFBQSxVQUN2RSxVQUFVO0FBQUEsVUFBTSxVQUFVO0FBQUEsVUFBSyxVQUFVO0FBQUEsVUFBSyxVQUFVO0FBQUEsVUFBSyxVQUFVO0FBQUEsVUFDdkUsVUFBVTtBQUFBLFVBQU0sVUFBVTtBQUFBLFVBQzFCLFVBQVU7QUFBQSxVQUFNLFVBQVU7QUFBQSxVQUFLLFVBQVU7QUFBQSxVQUN6QyxVQUFVO0FBQUEsVUFBTSxVQUFVO0FBQUEsVUFBSyxVQUFVO0FBQUEsVUFBSyxVQUFVO0FBQUEsVUFBSyxVQUFVO0FBQUEsVUFDdkUsVUFBVTtBQUFBLFVBQU0sVUFBVTtBQUFBLFVBQUssVUFBVTtBQUFBLFVBQUssVUFBVTtBQUFBLFVBQUssVUFBVTtBQUFBLFVBQ3ZFLFVBQVU7QUFBQSxVQUFNLFVBQVU7QUFBQSxVQUFLLFVBQVU7QUFBQSxVQUFLLFVBQVU7QUFBQSxVQUN4RCxVQUFVO0FBQUEsVUFBTSxVQUFVO0FBQUEsVUFBSyxVQUFVO0FBQUEsVUFBSyxVQUFVO0FBQUEsVUFDeEQsVUFBVTtBQUFBLFVBQU0sVUFBVTtBQUFBLFVBQUssVUFBVTtBQUFBLFVBQ3pDLFVBQVU7QUFBQSxVQUFNLFVBQVU7QUFBQSxVQUFLLFVBQVU7QUFBQSxVQUN6QyxVQUFVO0FBQUEsVUFBTSxVQUFVO0FBQUEsVUFBSyxVQUFVO0FBQUEsVUFDekMsVUFBVTtBQUFBLFVBQU0sVUFBVTtBQUFBLFVBQUssVUFBVTtBQUFBLFVBQ3pDLFVBQVU7QUFBQSxVQUFNLFVBQVU7QUFBQSxVQUFLLFVBQVU7QUFBQSxVQUFLLFVBQVU7QUFBQSxVQUN4RCxVQUFVO0FBQUEsVUFBTSxVQUFVO0FBQUEsVUFBSyxVQUFVO0FBQUEsVUFBSyxVQUFVO0FBQUEsVUFDeEQsVUFBVTtBQUFBLFVBQU0sVUFBVTtBQUFBLFVBQUssVUFBVTtBQUFBLFVBQ3pDLFVBQVU7QUFBQSxVQUFNLFVBQVU7QUFB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QUMsSUFBRyxJQUFHLENBQUMsSUFBRyxJQUFHLENBQUMsR0FBRSxJQUFHLENBQUMsR0FBRSxJQUFHLENBQUMsSUFBRyxJQUFHLENBQUMsSUFBRyxJQUFHLENBQUMsSUFBRyxJQUFHLENBQUMsSUFBRyxJQUFHLENBQUMsSUFBRyxJQUFHLENBQUMsSUFBRyxJQUFHLENBQUMsSUFBRyxJQUFHLENBQUMsSUFBRyxJQUFHLENBQUMsSUFBRyxJQUFHLENBQUMsSUFBRyxJQUFHLENBQUMsSUFBRyxJQUFHLENBQUMsSUFBRyxJQUFHLENBQUMsSUFBRyxJQUFHLENBQUMsSUFBRyxJQUFHLENBQUMsSUFBRyxJQUFHLENBQUMsSUFBRyxJQUFHLENBQUMsSUFBRyxJQUFHLENBQUMsSUFBRyxJQUFHLENBQUMsSUFBRyxJQUFHLENBQUMsSUFBRyxJQUFHLENBQUMsSUFBRyxJQUFHLENBQUMsSUFBRyxJQUFHLENBQUMsR0FBRSxJQUFHLENBQUMsR0FBRSxJQUFHLENBQUMsSUFBRyxJQUFHLENBQUMsSUFBRyxJQUFHLENBQUMsSUFBRyxJQUFHLENBQUMsSUFBRyxJQUFHLENBQUMsSUFBRyxJQUFHLENBQUMsSUFBRyxJQUFHLENBQUMsSUFBRyxJQUFHLENBQUMsSUFBRyxJQUFHLENBQUMsSUFBRyxJQUFHLENBQUMsSUFBRyxJQUFHLENBQUMsSUFBRyxJQUFHLENBQUMsSUFBRyxJQUFHLENBQUMsSUFBRyxJQUFHLENBQUMsSUFBRyxJQUFHLENBQUMsSUFBRyxJQUFHLENBQUMsSUFBRyxJQUFHLENBQUMsSUFBRyxJQUFHLENBQUMsSUFBRyxJQUFHLENBQUMsSUFBRyxJQUFHLENBQUMsSUFBRyxJQUFHLENBQUMsSUFBRyxJQUFHLENBQUMsSUFBRyxJQUFHLENBQUMsSUFBRyxJQUFHLENBQUMsSUFBRyxJQUFHLENBQUMsSUFBRyxJQUFHLENBQUMsSUFBRyxJQUFHLENBQUMsSUFBRyxJQUFHLENBQUMsSUFBRyxJQUFHLENBQUMsSUFBRyxJQUFHLENBQUMsSUFBRyxJQUFHLENBQUMsSUFBRyxJQUFHLENBQUMsSUFBRyxJQUFHLENB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LE1BQUssQ0FBQyxHQUFFLENBQUMsS0FBSSxDQUFDLEdBQUUsQ0FBQyxHQUFFLEtBQUksQ0FBQyxHQUFFLENBQUMsR0FBRSxJQUFHLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLElBQUcsR0FBRSxJQUFHLEdBQUUsSUFBRyxJQUFHLElBQUcsSUFBRyxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxJQUFHLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxJQUFHLElBQUcsSUFBRyxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsSUFBRyxJQUFHLENBQUMsR0FBRSxJQUFHLElBQUcsQ0FBQyxHQUFFLElBQUcsSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxJQUFHLElBQUcsQ0FBQyxHQUFFLE1BQUssQ0FBQyxHQUFFLENBQUMsR0FBRSxLQUFJLENBQUMsR0FBRSxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsTUFBSyxDQUFDLEdBQUUsQ0FBQyxHQUFFLElBQUcsSUFBRyxDQUFDLEdBQUUsSUFBRyxJQUFHLENBQUMsR0FBRSxJQUFHLElBQUcsQ0FBQyxHQUFFLElBQUcsSUFBRyxDQUFDLEdBQUUsSUFBRyxJQUFHLENBQUMsR0FBRSxJQUFHLElBQUcsQ0FBQyxHQUFFLElBQUcsSUFBRyxDQUFDLEdBQUUsSUFBRyxJQUFHLENBQUMsR0FBRSxJQUFHLElBQUcsQ0FBQyxHQUFFLElBQUcsSUFBRyxDQUFDLEdBQUUsSUFBRyxJQUFHLENBQUMsR0FBRSxJQUFHLElBQUcsQ0FBQyxHQUFFLEtBQUksQ0FBQyxHQUFFLENBQUMsR0FBRSxJQUFHLElBQUcsQ0FBQyxHQUFFLElBQUcsSUFBRyxDQUFDLEdBQUUsSUFBRyxJQUFHLENBQUMsR0FBRSxJQUFHLElBQUcsQ0FBQyxHQUFFLElBQUcsSUFBRyxDQUFDLEdBQUUsSUFBRyxJQUFHLENBQUMsR0FBRSxJQUFHLElBQUcsQ0FBQyxHQUFFLElBQUcsSUFBRyxDQUFDLEdBQUUsSUFBRyxJQUFHLENBQUMsR0FBRSxJQUFHLElBQUcsQ0FBQyxHQUFFLElBQUcsSUFBRyxDQUFDLEdBQUUsSUFBRyxJQUFHLENBQUMsR0FBRSxLQUFJLENBQUMsR0FBRSxDQUFDLEdBQUUsSUFBRyxJQUFHLENBQUMsR0FBRSxJQUFHLElBQUcsQ0FBQyxHQUFFLElBQUcsSUFBRyxDQUFDLEdBQUUsSUFBRyxJQUFHLENBQUMsR0FBRSxJQUFHLElBQUcsQ0FBQyxHQUFFLElBQUcsSUFBRyxDQUFDLEdBQUUsSUFBRyxJQUFHLENBQUMsR0FBRSxJQUFHLElBQUcsQ0FBQyxHQUFFLElBQUcsSUFBRyxDQUFDLEdBQUUsSUFBRyxJQUFHLENBQUMsR0FBRSxJQUFHLElBQUcsQ0FBQyxHQUFFLElBQUcsSUFBRyxDQUFDLEdBQUUsS0FBSSxDQUFDLEdBQUUsQ0FBQyxHQUFFLElBQUcsSUFBRyxDQUFDLEdBQUUsSUFBRyxJQUFHLENBQUMsR0FBRSxJQUFHLElBQUcsQ0FBQyxHQUFFLElBQUcsSUFBRyxDQUFDLEdBQUUsSUFBRyxJQUFHLENBQUMsR0FBRSxJQUFHLElBQUcsQ0FBQyxHQUFFLElBQUcsSUFBRyxDQUFDLEdBQUUsSUFBRyxJQUFHLENBQUMsR0FBRSxJQUFHLElBQUcsQ0FBQyxHQUFFLElBQUcsSUFBRyxDQUFDLEdBQUUsSUFBRyxJQUFHLENBQUMsR0FBRSxJQUFHLElBQUcsQ0FBQyxHQUFFLEtBQUksQ0FBQyxHQUFFLENBQUMsR0FBRSxJQUFHLElBQUcsQ0FBQyxHQUFFLElBQUcsSUFBRyxDQUFDLEdBQUUsSUFBRyxJQUFHLENBQUMsR0FBRSxJQUFHLElBQUcsQ0FBQyxHQUFFLElBQUcsSUFBRyxDQUFDLEdBQUUsSUFBRyxJQUFHLENBQUMsR0FBRSxJQUFHLElBQUcsQ0FBQyxHQUFFLElBQUcsSUFBRyxDQUFDLEdBQUUsSUFBRyxJQUFHLENBQUMsR0FBRSxJQUFHLElBQUcsQ0FBQyxHQUFFLElBQUcsSUFBRyxDQUFDLEdBQUUsSUFBRyxJQUFHLENBQUMsR0FBRSxLQUFJLENBQUMsR0FBRSxDQUFDLEdBQUUsSUFBRyxJQUFHLENBQUMsR0FBRSxJQUFHLElBQUcsQ0FBQyxHQUFFLElBQUcsSUFBRyxDQUFDLEdBQUUsSUFBRyxJQUFHLENBQUMsR0FBRSxJQUFHLElBQUcsQ0FBQyxHQUFFLElBQUcsSUFBRyxDQUFDLEdBQUUsSUFBRyxJQUFHLENBQUMsR0FBRSxJQUFHLElBQUcsQ0FBQyxHQUFFLElBQUcsSUFBRyxDQUFDLEdBQUUsSUFBRyxJQUFHLENBQUMsR0FBRSxJQUFHLElBQUcsQ0FBQyxHQUFFLElBQUcsSUFBRyxDQUFDLEdBQUUsS0FBSSxDQUFDLEdBQUUsQ0FBQyxHQUFFLElBQUcsSUFBRyxDQUFDLEdBQUUsSUFBRyxJQUFHLENBQUMsR0FBRSxJQUFHLElBQUcsQ0FBQyxHQUFFLElBQUcsSUFBRyxDQUFDLEdBQUUsSUFBRyxJQUFHLENBQUMsR0FBRSxJQUFHLElBQUcsQ0FBQyxHQUFFLElBQUcsSUFBRyxDQUFDLEdBQUUsSUFBRyxJQUFHLENBQUMsR0FBRSxJQUFHLElBQUcsQ0FBQyxHQUFFLElBQUcsSUFBRyxDQUFDLEdBQUUsSUFBRyxJQUFHLENBQUMsR0FBRSxJQUFHLElBQUcsQ0FBQyxHQUFFLEtBQUksQ0FBQyxJQUFHLElBQUcsSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLElBQUcsSUFBRyxJQUFHLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsS0FBSSxDQUFDLElBQUcsSUFBRyxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsSUFBRyxJQUFHLElBQUcsSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxLQUFJLENBQUMsR0FBRSxJQUFHLEdBQUUsR0FBRSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsTUFBSyxDQUFDLEdBQUUsSUFBRyxHQUFFLEdBQUUsSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxNQUFLLENBQUMsSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLElBQUcsSUFBRyxDQUFDLEdBQUUsTUFBSyxDQUFDLElBQUcsSUFBRyxJQUFHLElBQUcsSUFBRyxJQUFHLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLElBQUcsSUFBRyxJQUFHLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsS0FBSSxDQUFDLEdBQUUsSUFBRyxHQUFFLEdBQUUsSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsTUFBSyxDQUFDLEdBQUUsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsTUFBSyxDQUFDLElBQUcsSUFBRyxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsSUFBRyxJQUFHLElBQUcsSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxLQUFJLENBQUMsSUFBRyxJQUFHLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxJQUFHLElBQUcsSUFBRyxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLEtBQUksQ0FBQyxJQUFHLElBQUcsSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLElBQUcsSUFBRyxJQUFHLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsS0FBSSxDQUFDLElBQUcsSUFBRyxJQUFHLElBQUcsSUFBRyxJQUFHLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLElBQUcsSUFBRyxJQUFHLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsS0FBSSxDQUFDLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxJQUFHLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsTUFBSyxDQUFDLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLE1BQUssQ0FBQyxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxNQUFLLENBQUMsSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsTUFBSyxDQUFDLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLE1BQUssQ0FBQyxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxNQUFLLENBQUMsSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsTUFBSyxDQUFDLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLE1BQUssQ0FBQyxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLE1BQUssQ0FBQyxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsS0FBSSxDQUFDLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsTUFBSyxDQUFDLElBQUcsSUFBRyxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsTUFBSyxDQUFDLElBQUcsSUFBRyxJQUFHLElBQUcsSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLElBQUcsSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLElBQUcsSUFBRyxDQUFDLEdBQUUsTUFBSyxDQUFDLElBQUcsSUFBRyxJQUFHLElBQUcsSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxNQUFLLENBQUMsSUFBRyxJQUFHLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsTUFBSyxDQUFDLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxJQUFHLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsTUFBSyxDQUFDLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxNQUFLLENBQUMsSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLE1BQUssQ0FBQyxJQUFHLElBQUcsSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLElBQUcsSUFBRyxJQUFHLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsS0FBSSxDQUFDLElBQUcsSUFBRyxJQUFHLENBQUMsR0FBRSxNQUFLLENBQUMsSUFBRyxJQUFHLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLE1BQUssQ0FBQyxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsSUFBRyxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsTUFBSyxDQUFDLElBQUcsSUFBRyxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsTUFBSyxDQUFDLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxJQUFHLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsTUFBSyxDQUFDLElBQUcsSUFBRyxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsSUFBRyxJQUFHLElBQUcsSUFBRyxJQUFHLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxJQUFHLElBQUcsSUFBRyxJQUFHLElBQUcsSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLElBQUcsSUFBRyxJQUFHLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsS0FBSSxDQUFDLElBQUcsQ0FBQyxHQUFFLE1BQUssQ0FBQyxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLE1BQUssQ0FBQyxJQUFHLElBQUcsSUFBRyxJQUFHLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxJQUFHLElBQUcsSUFBRyxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsSUFBRyxJQUFHLElBQUcsSUFBRyxJQUFHLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxJQUFHLElBQUcsSUFBRyxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLEtBQUksQ0FBQyxJQUFHLElBQUcsSUFBRyxDQUFDLEdBQUUsTUFBSyxDQUFDLElBQUcsQ0FBQyxHQUFFLE1BQUssQ0FBQyxHQUFFLElBQUcsR0FBRSxHQUFFLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxNQUFLLENBQUMsSUFBRyxDQUFDLEdBQUUsTUFBSyxDQUFDLElBQUcsSUFBRyxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsSUFBRyxJQUFHLElBQUcsSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxLQUFJLENBQUMsR0FBRSxJQUFHLEdBQUUsR0FBRSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxNQUFLLENBQUMsSUFBRyxJQUFHLElBQUcsQ0FBQyxHQUFFLE1BQUssQ0FBQyxJQUFHLENBQUMsR0FBRSxNQUFLLENBQUMsR0FBRSxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsTUFBSyxDQUFDLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsTUFBSyxDQUFDLElBQUcsSUFBRyxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsSUFBRyxJQUFHLElBQUcsSUFBRyxJQUFHLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxJQUFHLElBQUcsSUFBRyxJQUFHLElBQUcsSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLElBQUcsSUFBRyxJQUFHLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsS0FBSSxDQUFDLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxJQUFHLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsTUFBSyxDQUFDLEdBQUUsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLE1BQUssQ0FBQyxJQUFHLElBQUcsSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLElBQUcsSUFBRyxJQUFHLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsS0FBSSxDQUFDLElBQUcsSUFBRyxJQUFHLElBQUcsSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLElBQUcsSUFBRyxJQUFHLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxJQUFHLElBQUcsSUFBRyxJQUFHLElBQUcsSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsSUFBRyxJQUFHLElBQUcsSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxLQUFJLENBQUMsSUFBRyxJQUFHLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxJQUFHLElBQUcsSUFBRyxJQUFHLElBQUcsSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLElBQUcsSUFBRyxJQUFHLElBQUcsSUFBRyxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxJQUFHLElBQUcsSUFBRyxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLEtBQUksQ0FBQyxJQUFHLElBQUcsSUFBRyxJQUFHLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxLQUFJLElBQUcsSUFBRyxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsS0FBSSxJQUFHLElBQUcsSUFBRyxJQUFHLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxJQUFHLElBQUcsSUFBRyxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLEtBQUksQ0FBQyxJQUFHLElBQUcsSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLEtBQUksSUFBRyxLQUFJLElBQUcsSUFBRyxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsS0FBSSxJQUFHLElBQUcsSUFBRyxJQUFHLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxJQUFHLElBQUcsSUFBRyxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLEtBQUksQ0FBQyxJQUFHLENBQUMsR0FBRSxPQUFNLENBQUMsSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLE1BQUssQ0FBQyxJQUFHLENBQUMsR0FBRSxNQUFLLENBQUMsSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsTUFBSyxDQUFDLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLE1BQUssQ0FBQyxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsS0FBSSxJQUFHLENBQUMsR0FBRSxNQUFLLElBQUcsQ0FBQyxHQUFFLE1BQUssQ0FBQyxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsTUFBSyxDQUFDLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLE1BQUssSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxNQUFLLENBQUMsSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxNQUFLLENBQUMsSUFBRyxDQUFDLEdBQUUsT0FBTSxDQUFDLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxNQUFLLENBQUMsSUFBRyxDQUFDLEdBQUUsTUFBSyxDQUFDLEdBQUUsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLE1BQUssQ0FBQyxJQUFHLElBQUcsSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLElBQUcsSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLEtBQUksSUFBRyxLQUFJLElBQUcsQ0FBQyxHQUFFLE1BQUssQ0FBQyxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsTUFBSyxDQUFDLElBQUcsQ0FBQyxHQUFFLE1BQUssQ0FBQyxHQUFFLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxNQUFLLENBQUMsSUFBRyxDQUFDLEdBQUUsT0FBTSxDQUFDLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxNQUFLLENBQUMsSUFBRyxDQUFDLEdBQUUsTUFBSyxDQUFDLElBQUcsSUFBRyxJQUFHLEtBQUksSUFBRyxJQUFHLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxLQUFJLElBQUcsSUFBRyxJQUFHLElBQUcsSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLElBQUcsSUFBRyxJQUFHLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsS0FBSSxDQUFDLElBQUcsQ0FBQyxHQUFFLE9BQU0sQ0FBQyxJQUFHLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLEtBQUksSUFBRyxDQUFDLEdBQUUsT0FBTSxDQUFDLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLE1BQUssQ0FBQyxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLE1BQUssQ0FBQyxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsS0FBSSxJQUFHLEtBQUksSUFBRyxDQUFDLEdBQUUsT0FBTSxDQUFDLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLE1BQUssQ0FBQyxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLE1BQUssQ0FBQyxJQUFHLENBQUMsR0FBRSxPQUFNLENBQUMsSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLE1BQUssQ0FBQyxJQUFHLENBQUMsR0FBRSxNQUFLLENBQUMsSUFBRyxDQUFDLEdBQUUsT0FBTSxDQUFDLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxNQUFLLENBQUMsSUFBRyxDQUFDLEdBQUUsTUFBSyxDQUFDLEdBQUUsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLE1BQUssQ0FBQyxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsTUFBSyxDQUFDLElBQUcsQ0FBQyxHQUFFLE9BQU0sQ0FBQyxJQUFHLElBQUcsSUFBRyxLQUFJLElBQUcsSUFBRyxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxJQUFHLElBQUcsSUFBRyxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLEtBQUksQ0FBQyxHQUFFLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxNQUFLLENBQUMsSUFBRyxDQUFDLEdBQUUsTUFBSyxDQUFDLElBQUcsQ0FBQyxHQUFFLE1BQUssQ0FBQyxJQUFHLElBQUcsSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLEtBQUksSUFBRyxLQUFJLElBQUcsSUFBRyxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsS0FBSSxJQUFHLElBQUcsSUFBRyxJQUFHLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLElBQUcsSUFBRyxJQUFHLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsS0FBSSxDQUFDLEdBQUUsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLE1BQUssQ0FBQyxJQUFHLENBQUMsR0FBRSxPQUFNLENBQUMsSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLE1BQUssQ0FBQyxJQUFHLENBQUMsR0FBRSxNQUFLLENBQUMsR0FBRSxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsTUFBSyxDQUFDLElBQUcsQ0FBQyxHQUFFLE9BQU0sQ0FBQyxJQUFHLENBQUMsR0FBRSxNQUFLLENBQUMsSUFBRyxDQUFDLEdBQUUsTUFBSyxJQUFHLE1BQUssQ0FBQyxJQUFHLENBQUMsR0FBRSxPQUFNLENBQUMsSUFBRyxDQUFDLEdBQUUsTUFBSyxDQUFDLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsTUFBSyxDQUFDLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLE1BQUssQ0FBQyxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsTUFBSyxDQUFDLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxLQUFJLElBQUcsS0FBSSxJQUFHLENBQUMsR0FBRSxPQUFNLENBQUMsSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsTUFBSyxDQUFDLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsTUFBSyxDQUFDLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLE1BQUssQ0FBQyxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsTUFBSyxDQUFDLElBQUcsQ0FBQyxHQUFFLE1BQUssSUFBRyxDQUFDLEdBQUUsT0FBTSxDQUFDLElBQUcsQ0FBQyxHQUFFLE1BQUssSUFBRyxDQUFDLEdBQUUsT0FBTSxDQUFDLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsTUFBSyxDQUFDLElBQUcsQ0FBQyxHQUFFLE9BQU0sQ0FBQyxJQUFHLENBQUMsR0FBRSxNQUFLLENBQUMsSUFBRyxDQUFDLEdBQUUsTUFBSyxDQUFDLElBQUcsQ0FBQyxHQUFFLE1BQUssSUFBRyxDQUFDLEdBQUUsT0FBTSxDQUFDLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRTtVQUMxL1YsZ0JBQWdCLENBQUMsR0FBRSxDQUFDLEdBQUUsSUFBRyxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLElBQUcsQ0FBQyxHQUFFLEtBQUksSUFBRyxDQUFDLEdBQUUsS0FBSSxJQUFHLENBQUMsR0FBRSxLQUFJLEtBQUksQ0FBQyxHQUFFLEtBQUksS0FBSSxDQUFDLEdBQUUsS0FBSSxLQUFJLENBQUMsR0FBRSxLQUFJLEtBQUksQ0FBQyxHQUFFLEtBQUksS0FBSSxDQUFDLEdBQUUs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
