/* eslint-disable */
//prettier-ignore
module.exports = {
name: "@yarnpkg/plugin-gitversion",
factory: function (require) {
var plugin=(()=>{var TN=Object.create,Ms=Object.defineProperty,NN=Object.defineProperties,IN=Object.getOwnPropertyDescriptor,DN=Object.getOwnPropertyDescriptors,kN=Object.getOwnPropertyNames,Ym=Object.getOwnPropertySymbols,MN=Object.getPrototypeOf,zm=Object.prototype.hasOwnProperty,FN=Object.prototype.propertyIsEnumerable;var Jm=(e,t,r)=>t in e?Ms(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,_r=(e,t)=>{for(var r in t||(t={}))zm.call(t,r)&&Jm(e,r,t[r]);if(Ym)for(var r of Ym(t))FN.call(t,r)&&Jm(e,r,t[r]);return e},ji=(e,t)=>NN(e,DN(t)),BN=e=>Ms(e,"__esModule",{value:!0});var G=e=>{if(typeof require!="undefined")return require(e);throw new Error('Dynamic require of "'+e+'" is not supported')};var S=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),qN=(e,t)=>{for(var r in t)Ms(e,r,{get:t[r],enumerable:!0})},UN=(e,t,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of kN(t))!zm.call(e,i)&&i!=="default"&&Ms(e,i,{get:()=>t[i],enumerable:!(r=IN(t,i))||r.enumerable});return e},Se=e=>UN(BN(Ms(e!=null?TN(MN(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var Qm=S((Uf,Zm)=>{(function(e,t){typeof define=="function"&&define.amd?define([],t):typeof Uf=="object"?Zm.exports=t():e.compareVersions=t()})(Uf,function(){var e=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i;function t(y,w){return y.indexOf(w)===-1?y.length:y.indexOf(w)}function r(y){var w=y.replace(/^v/,"").replace(/\+.*$/,""),E=t(w,"-"),A=w.substring(0,E).split(".");return A.push(w.substring(E+1)),A}function i(y){var w=parseInt(y,10);return isNaN(w)?y:w}function o(y){if(typeof y!="string")throw new TypeError("Invalid argument expected string");var w=y.match(e);if(!w)throw new Error("Invalid argument not valid semver ('"+y+"' received)");return w.shift(),w}function a(y,w){return typeof y!=typeof w?[String(y),String(w)]:[y,w]}function l(y,w){var[E,A]=a(i(y),i(w));return E>A?1:E<A?-1:0}function f(y,w){for(var E=0;E<Math.max(y.length,w.length);E++){var A=l(y[E]||0,w[E]||0);if(A!==0)return A}return 0}function p(y,w){[y,w].forEach(o);for(var E=r(y),A=r(w),T=0;T<Math.max(E.length-1,A.length-1);T++){var I=parseInt(E[T]||0,10),$=parseInt(A[T]||0,10);if(I>$)return 1;if($>I)return-1}var U=E[E.length-1],k=A[A.length-1];if(U&&k){var Y=U.split(".").map(i),J=k.split(".").map(i);for(T=0;T<Math.max(Y.length,J.length);T++){if(Y[T]===void 0||typeof J[T]=="string"&&typeof Y[T]=="number")return-1;if(J[T]===void 0||typeof Y[T]=="string"&&typeof J[T]=="number"||Y[T]>J[T])return 1;if(J[T]>Y[T])return-1}}else if(U||k)return U?-1:1;return 0}var h=[">",">=","=","<","<="],g={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1]};function d(y){if(typeof y!="string")throw new TypeError("Invalid operator type, expected string but got "+typeof y);if(h.indexOf(y)===-1)throw new TypeError("Invalid operator, expected one of "+h.join("|"))}return p.validate=function(y){return typeof y=="string"&&e.test(y)},p.compare=function(y,w,E){d(E);var A=p(y,w);return g[E].indexOf(A)>-1},p.satisfies=function(y,w){var E=w.match(/^([<>=~^]+)/),A=E?E[1]:"=";if(A!=="^"&&A!=="~")return p.compare(y,w,A);var[T,I,$]=o(y),[U,k,Y]=o(w);return l(T,U)!==0?!1:A==="^"?f([I,$],[k,Y])>=0:l(I,k)!==0?!1:l($,Y)>=0},p})});var Gf=S((ZH,nv)=>{nv.exports=G("stream")});var av=S((QH,ov)=>{"use strict";function iv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,i)}return r}function $N(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iv(Object(r),!0).forEach(function(i){VN(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iv(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function VN(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sv(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function YN(e,t,r){return t&&sv(e.prototype,t),r&&sv(e,r),e}var zN=G("buffer"),Na=zN.Buffer,JN=G("util"),jf=JN.inspect,XN=jf&&jf.custom||"inspect";function ZN(e,t,r){Na.prototype.copy.call(e,t,r)}ov.exports=function(){function e(){KN(this,e),this.head=null,this.tail=null,this.length=0}return YN(e,[{key:"push",value:function(r){var i={data:r,next:null};this.length>0?this.tail.next=i:this.head=i,this.tail=i,++this.length}},{key:"unshift",value:function(r){var i={data:r,next:this.head};this.length===0&&(this.tail=i),this.head=i,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var i=this.head,o=""+i.data;i=i.next;)o+=r+i.data;return o}},{key:"concat",value:function(r){if(this.length===0)return Na.alloc(0);for(var i=Na.allocUnsafe(r>>>0),o=this.head,a=0;o;)ZN(o.data,i,a),a+=o.data.length,o=o.next;return i}},{key:"consume",value:function(r,i){var o;return r<this.head.data.length?(o=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?o=this.shift():o=i?this._getString(r):this._getBuffer(r),o}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var i=this.head,o=1,a=i.data;for(r-=a.length;i=i.next;){var l=i.data,f=r>l.length?l.length:r;if(f===l.length?a+=l:a+=l.slice(0,r),r-=f,r===0){f===l.length?(++o,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=l.slice(f));break}++o}return this.length-=o,a}},{key:"_getBuffer",value:function(r){var i=Na.allocUnsafe(r),o=this.head,a=1;for(o.data.copy(i),r-=o.data.length;o=o.next;){var l=o.data,f=r>l.length?l.length:r;if(l.copy(i,i.length-r,0,f),r-=f,r===0){f===l.length?(++a,o.next?this.head=o.next:this.head=this.tail=null):(this.head=o,o.data=l.slice(f));break}++a}return this.length-=a,i}},{key:XN,value:function(r,i){return jf(this,$N({},i,{depth:0,customInspect:!1}))}}]),e}()});var Hf=S((e$,lv)=>{"use strict";function QN(e,t){var r=this,i=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return i||o?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(Wf,this,e)):process.nextTick(Wf,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(a){!t&&a?r._writableState?r._writableState.errorEmitted?process.nextTick(Ia,r):(r._writableState.errorEmitted=!0,process.nextTick(uv,r,a)):process.nextTick(uv,r,a):t?(process.nextTick(Ia,r),t(a)):process.nextTick(Ia,r)}),this)}function uv(e,t){Wf(e,t),Ia(e)}function Ia(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function eI(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function Wf(e,t){e.emit("error",t)}function tI(e,t){var r=e._readableState,i=e._writableState;r&&r.autoDestroy||i&&i.autoDestroy?e.destroy(t):e.emit("error",t)}lv.exports={destroy:QN,undestroy:eI,errorOrDestroy:tI}});var gn=S((t$,pv)=>{"use strict";var fv={};function nr(e,t,r){r||(r=Error);function i(a,l,f){return typeof t=="string"?t:t(a,l,f)}class o extends r{constructor(l,f,p){super(i(l,f,p))}}o.prototype.name=r.name,o.prototype.code=e,fv[e]=o}function cv(e,t){if(Array.isArray(e)){let r=e.length;return e=e.map(i=>String(i)),r>2?`one of ${t} ${e.slice(0,r-1).join(", ")}, or `+e[r-1]:r===2?`one of ${t} ${e[0]} or ${e[1]}`:`of ${t} ${e[0]}`}else return`of ${t} ${String(e)}`}function rI(e,t,r){return e.substr(!r||r<0?0:+r,t.length)===t}function nI(e,t,r){return(r===void 0||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}function iI(e,t,r){return typeof r!="number"&&(r=0),r+t.length>e.length?!1:e.indexOf(t,r)!==-1}nr("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError);nr("ERR_INVALID_ARG_TYPE",function(e,t,r){let i;typeof t=="string"&&rI(t,"not ")?(i="must not be",t=t.replace(/^not /,"")):i="must be";let o;if(nI(e," argument"))o=`The ${e} ${i} ${cv(t,"type")}`;else{let a=iI(e,".")?"property":"argument";o=`The "${e}" ${a} ${i} ${cv(t,"type")}`}return o+=`. Received type ${typeof r}`,o},TypeError);nr("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");nr("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"});nr("ERR_STREAM_PREMATURE_CLOSE","Premature close");nr("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"});nr("ERR_MULTIPLE_CALLBACK","Callback called multiple times");nr("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");nr("ERR_STREAM_WRITE_AFTER_END","write after end");nr("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);nr("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError);nr("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");pv.exports.codes=fv});var $f=S((r$,hv)=>{"use strict";var sI=gn().codes.ERR_INVALID_OPT_VALUE;function oI(e,t,r){return e.highWaterMark!=null?e.highWaterMark:t?e[r]:null}function aI(e,t,r,i){var o=oI(t,i,r);if(o!=null){if(!(isFinite(o)&&Math.floor(o)===o)||o<0){var a=i?r:"highWaterMark";throw new sI(a,o)}return Math.floor(o)}return e.objectMode?16:16*1024}hv.exports={getHighWaterMark:aI}});var dv=S((n$,Vf)=>{typeof Object.create=="function"?Vf.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Vf.exports=function(t,r){if(r){t.super_=r;var i=function(){};i.prototype=r.prototype,t.prototype=new i,t.prototype.constructor=t}}});var Zn=S((i$,Yf)=>{try{if(Kf=G("util"),typeof Kf.inherits!="function")throw"";Yf.exports=Kf.inherits}catch(e){Yf.exports=dv()}var Kf});var mv=S((s$,gv)=>{gv.exports=G("util").deprecate});var Xf=S((o$,Ev)=>{"use strict";Ev.exports=Ze;function vv(e){var t=this;this.next=null,this.entry=null,this.finish=function(){DI(t,e)}}var $i;Ze.WritableState=Bs;var uI={deprecate:mv()},yv=Gf(),Da=G("buffer").Buffer,lI=global.Uint8Array||function(){};function fI(e){return Da.from(e)}function cI(e){return Da.isBuffer(e)||e instanceof lI}var zf=Hf(),pI=$f(),hI=pI.getHighWaterMark,mn=gn().codes,dI=mn.ERR_INVALID_ARG_TYPE,gI=mn.ERR_METHOD_NOT_IMPLEMENTED,mI=mn.ERR_MULTIPLE_CALLBACK,vI=mn.ERR_STREAM_CANNOT_PIPE,yI=mn.ERR_STREAM_DESTROYED,_I=mn.ERR_STREAM_NULL_VALUES,bI=mn.ERR_STREAM_WRITE_AFTER_END,wI=mn.ERR_UNKNOWN_ENCODING,Vi=zf.errorOrDestroy;Zn()(Ze,yv);function EI(){}function Bs(e,t,r){$i=$i||Qn(),e=e||{},typeof r!="boolean"&&(r=t instanceof $i),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=hI(this,e,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var i=e.decodeStrings===!1;this.decodeStrings=!i,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(o){RI(t,o)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=e.emitClose!==!1,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new vv(this)}Bs.prototype.getBuffer=function(){for(var t=this.bufferedRequest,r=[];t;)r.push(t),t=t.next;return r};(function(){try{Object.defineProperty(Bs.prototype,"buffer",{get:uI.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}})();var ka;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ka=Function.prototype[Symbol.hasInstance],Object.defineProperty(Ze,Symbol.hasInstance,{value:function(t){return ka.call(this,t)?!0:this!==Ze?!1:t&&t._writableState instanceof Bs}})):ka=function(t){return t instanceof this};function Ze(e){$i=$i||Qn();var t=this instanceof $i;if(!t&&!ka.call(Ze,this))return new Ze(e);this._writableState=new Bs(e,this,t),this.writable=!0,e&&(typeof e.write=="function"&&(this._write=e.write),typeof e.writev=="function"&&(this._writev=e.writev),typeof e.destroy=="function"&&(this._destroy=e.destroy),typeof e.final=="function"&&(this._final=e.final)),yv.call(this)}Ze.prototype.pipe=function(){Vi(this,new vI)};function SI(e,t){var r=new bI;Vi(e,r),process.nextTick(t,r)}function PI(e,t,r,i){var o;return r===null?o=new _I:typeof r!="string"&&!t.objectMode&&(o=new dI("chunk",["string","Buffer"],r)),o?(Vi(e,o),process.nextTick(i,o),!1):!0}Ze.prototype.write=function(e,t,r){var i=this._writableState,o=!1,a=!i.objectMode&&cI(e);return a&&!Da.isBuffer(e)&&(e=fI(e)),typeof t=="function"&&(r=t,t=null),a?t="buffer":t||(t=i.defaultEncoding),typeof r!="function"&&(r=EI),i.ending?SI(this,r):(a||PI(this,i,e,r))&&(i.pendingcb++,o=LI(this,i,a,e,t,r)),o};Ze.prototype.cork=function(){this._writableState.corked++};Ze.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.bufferProcessing&&e.bufferedRequest&&bv(this,e))};Ze.prototype.setDefaultEncoding=function(t){if(typeof t=="string"&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new wI(t);return this._writableState.defaultEncoding=t,this};Object.defineProperty(Ze.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function xI(e,t,r){return!e.objectMode&&e.decodeStrings!==!1&&typeof t=="string"&&(t=Da.from(t,r)),t}Object.defineProperty(Ze.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function LI(e,t,r,i,o,a){if(!r){var l=xI(t,i,o);i!==l&&(r=!0,o="buffer",i=l)}var f=t.objectMode?1:i.length;t.length+=f;var p=t.length<t.highWaterMark;if(p||(t.needDrain=!0),t.writing||t.corked){var h=t.lastBufferedRequest;t.lastBufferedRequest={chunk:i,encoding:o,isBuf:r,callback:a,next:null},h?h.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else Jf(e,t,!1,f,i,o,a);return p}function Jf(e,t,r,i,o,a,l){t.writelen=i,t.writecb=l,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new yI("write")):r?e._writev(o,t.onwrite):e._write(o,a,t.onwrite),t.sync=!1}function AI(e,t,r,i,o){--t.pendingcb,r?(process.nextTick(o,i),process.nextTick(qs,e,t),e._writableState.errorEmitted=!0,Vi(e,i)):(o(i),e._writableState.errorEmitted=!0,Vi(e,i),qs(e,t))}function CI(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function RI(e,t){var r=e._writableState,i=r.sync,o=r.writecb;if(typeof o!="function")throw new mI;if(CI(r),t)AI(e,r,i,t,o);else{var a=wv(r)||e.destroyed;!a&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&bv(e,r),i?process.nextTick(_v,e,r,a,o):_v(e,r,a,o)}}function _v(e,t,r,i){r||OI(e,t),t.pendingcb--,i(),qs(e,t)}function OI(e,t){t.length===0&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function bv(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var i=t.bufferedRequestCount,o=new Array(i),a=t.corkedRequestsFree;a.entry=r;for(var l=0,f=!0;r;)o[l]=r,r.isBuf||(f=!1),r=r.next,l+=1;o.allBuffers=f,Jf(e,t,!0,t.length,o,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new vv(t),t.bufferedRequestCount=0}else{for(;r;){var p=r.chunk,h=r.encoding,g=r.callback,d=t.objectMode?1:p.length;if(Jf(e,t,!1,d,p,h,g),r=r.next,t.bufferedRequestCount--,t.writing)break}r===null&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}Ze.prototype._write=function(e,t,r){r(new gI("_write()"))};Ze.prototype._writev=null;Ze.prototype.end=function(e,t,r){var i=this._writableState;return typeof e=="function"?(r=e,e=null,t=null):typeof t=="function"&&(r=t,t=null),e!=null&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||II(this,i,r),this};Object.defineProperty(Ze.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function wv(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function TI(e,t){e._final(function(r){t.pendingcb--,r&&Vi(e,r),t.prefinished=!0,e.emit("prefinish"),qs(e,t)})}function NI(e,t){!t.prefinished&&!t.finalCalled&&(typeof e._final=="function"&&!t.destroyed?(t.pendingcb++,t.finalCalled=!0,process.nextTick(TI,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function qs(e,t){var r=wv(t);if(r&&(NI(e,t),t.pendingcb===0&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var i=e._readableState;(!i||i.autoDestroy&&i.endEmitted)&&e.destroy()}return r}function II(e,t,r){t.ending=!0,qs(e,t),r&&(t.finished?process.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function DI(e,t,r){var i=e.entry;for(e.entry=null;i;){var o=i.callback;t.pendingcb--,o(r),i=i.next}t.corkedRequestsFree.next=e}Object.defineProperty(Ze.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(t){!this._writableState||(this._writableState.destroyed=t)}});Ze.prototype.destroy=zf.destroy;Ze.prototype._undestroy=zf.undestroy;Ze.prototype._destroy=function(e,t){t(e)}});var Qn=S((a$,Pv)=>{"use strict";var kI=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};Pv.exports=Rr;var Sv=ec(),Zf=Xf();Zn()(Rr,Sv);for(Qf=kI(Zf.prototype),Ma=0;Ma<Qf.length;Ma++)Fa=Qf[Ma],Rr.prototype[Fa]||(Rr.prototype[Fa]=Zf.prototype[Fa]);var Qf,Fa,Ma;function Rr(e){if(!(this instanceof Rr))return new Rr(e);Sv.call(this,e),Zf.call(this,e),this.allowHalfOpen=!0,e&&(e.readable===!1&&(this.readable=!1),e.writable===!1&&(this.writable=!1),e.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",MI)))}Object.defineProperty(Rr.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(Rr.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(Rr.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function MI(){this._writableState.ended||process.nextTick(FI,this)}function FI(e){e.end()}Object.defineProperty(Rr.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(t){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=t,this._writableState.destroyed=t)}})});var Av=S((tc,Lv)=>{var Ba=G("buffer"),Or=Ba.Buffer;function xv(e,t){for(var r in e)t[r]=e[r]}Or.from&&Or.alloc&&Or.allocUnsafe&&Or.allocUnsafeSlow?Lv.exports=Ba:(xv(Ba,tc),tc.Buffer=ei);function ei(e,t,r){return Or(e,t,r)}ei.prototype=Object.create(Or.prototype);xv(Or,ei);ei.from=function(e,t,r){if(typeof e=="number")throw new TypeError("Argument must not be a number");return Or(e,t,r)};ei.alloc=function(e,t,r){if(typeof e!="number")throw new TypeError("Argument must be a number");var i=Or(e);return t!==void 0?typeof r=="string"?i.fill(t,r):i.fill(t):i.fill(0),i};ei.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return Or(e)};ei.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return Ba.SlowBuffer(e)}});var ic=S(Rv=>{"use strict";var rc=Av().Buffer,Cv=rc.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function BI(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function qI(e){var t=BI(e);if(typeof t!="string"&&(rc.isEncoding===Cv||!Cv(e)))throw new Error("Unknown encoding: "+e);return t||e}Rv.StringDecoder=Us;function Us(e){this.encoding=qI(e);var t;switch(this.encoding){case"utf16le":this.text=$I,this.end=VI,t=4;break;case"utf8":this.fillLast=jI,t=4;break;case"base64":this.text=KI,this.end=YI,t=3;break;default:this.write=zI,this.end=JI;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=rc.allocUnsafe(t)}Us.prototype.write=function(e){if(e.length===0)return"";var t,r;if(this.lastNeed){if(t=this.fillLast(e),t===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""};Us.prototype.end=HI;Us.prototype.text=WI;Us.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};function nc(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function UI(e,t,r){var i=t.length-1;if(i<r)return 0;var o=nc(t[i]);return o>=0?(o>0&&(e.lastNeed=o-1),o):--i<r||o===-2?0:(o=nc(t[i]),o>=0?(o>0&&(e.lastNeed=o-2),o):--i<r||o===-2?0:(o=nc(t[i]),o>=0?(o>0&&(o===2?o=0:e.lastNeed=o-3),o):0))}function GI(e,t,r){if((t[0]&192)!=128)return e.lastNeed=0,"\uFFFD";if(e.lastNeed>1&&t.length>1){if((t[1]&192)!=128)return e.lastNeed=1,"\uFFFD";if(e.lastNeed>2&&t.length>2&&(t[2]&192)!=128)return e.lastNeed=2,"\uFFFD"}}function jI(e){var t=this.lastTotal-this.lastNeed,r=GI(this,e,t);if(r!==void 0)return r;if(this.lastNeed<=e.length)return e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length}function WI(e,t){var r=UI(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var i=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,i),e.toString("utf8",t,i)}function HI(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\uFFFD":t}function $I(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var i=r.charCodeAt(r.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function VI(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function KI(e,t){var r=(e.length-t)%3;return r===0?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function YI(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function zI(e){return e.toString(this.encoding)}function JI(e){return e&&e.length?this.write(e):""}});var qa=S((l$,Nv)=>{"use strict";var Ov=gn().codes.ERR_STREAM_PREMATURE_CLOSE;function XI(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];e.apply(this,i)}}}function ZI(){}function QI(e){return e.setHeader&&typeof e.abort=="function"}function Tv(e,t,r){if(typeof t=="function")return Tv(e,null,t);t||(t={}),r=XI(r||ZI);var i=t.readable||t.readable!==!1&&e.readable,o=t.writable||t.writable!==!1&&e.writable,a=function(){e.writable||f()},l=e._writableState&&e._writableState.finished,f=function(){o=!1,l=!0,i||r.call(e)},p=e._readableState&&e._readableState.endEmitted,h=function(){i=!1,p=!0,o||r.call(e)},g=function(E){r.call(e,E)},d=function(){var E;if(i&&!p)return(!e._readableState||!e._readableState.ended)&&(E=new Ov),r.call(e,E);if(o&&!l)return(!e._writableState||!e._writableState.ended)&&(E=new Ov),r.call(e,E)},y=function(){e.req.on("finish",f)};return QI(e)?(e.on("complete",f),e.on("abort",d),e.req?y():e.on("request",y)):o&&!e._writableState&&(e.on("end",a),e.on("close",a)),e.on("end",h),e.on("finish",f),t.error!==!1&&e.on("error",g),e.on("close",d),function(){e.removeListener("complete",f),e.removeListener("abort",d),e.removeListener("request",y),e.req&&e.req.removeListener("finish",f),e.removeListener("end",a),e.removeListener("close",a),e.removeListener("finish",f),e.removeListener("end",h),e.removeListener("error",g),e.removeListener("close",d)}}Nv.exports=Tv});var Dv=S((f$,Iv)=>{"use strict";var Ua;function vn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var e4=qa(),yn=Symbol("lastResolve"),ti=Symbol("lastReject"),Gs=Symbol("error"),Ga=Symbol("ended"),ri=Symbol("lastPromise"),sc=Symbol("handlePromise"),ni=Symbol("stream");function _n(e,t){return{value:e,done:t}}function t4(e){var t=e[yn];if(t!==null){var r=e[ni].read();r!==null&&(e[ri]=null,e[yn]=null,e[ti]=null,t(_n(r,!1)))}}function r4(e){process.nextTick(t4,e)}function n4(e,t){return function(r,i){e.then(function(){if(t[Ga]){r(_n(void 0,!0));return}t[sc](r,i)},i)}}var i4=Object.getPrototypeOf(function(){}),s4=Object.setPrototypeOf((Ua={get stream(){return this[ni]},next:function(){var t=this,r=this[Gs];if(r!==null)return Promise.reject(r);if(this[Ga])return Promise.resolve(_n(void 0,!0));if(this[ni].destroyed)return new Promise(function(l,f){process.nextTick(function(){t[Gs]?f(t[Gs]):l(_n(void 0,!0))})});var i=this[ri],o;if(i)o=new Promise(n4(i,this));else{var a=this[ni].read();if(a!==null)return Promise.resolve(_n(a,!1));o=new Promise(this[sc])}return this[ri]=o,o}},vn(Ua,Symbol.asyncIterator,function(){return this}),vn(Ua,"return",function(){var t=this;return new Promise(function(r,i){t[ni].destroy(null,function(o){if(o){i(o);return}r(_n(void 0,!0))})})}),Ua),i4),o4=function(t){var r,i=Object.create(s4,(r={},vn(r,ni,{value:t,writable:!0}),vn(r,yn,{value:null,writable:!0}),vn(r,ti,{value:null,writable:!0}),vn(r,Gs,{value:null,writable:!0}),vn(r,Ga,{value:t._readableState.endEmitted,writable:!0}),vn(r,sc,{value:function(a,l){var f=i[ni].read();f?(i[ri]=null,i[yn]=null,i[ti]=null,a(_n(f,!1))):(i[yn]=a,i[ti]=l)},writable:!0}),r));return i[ri]=null,e4(t,function(o){if(o&&o.code!=="ERR_STREAM_PREMATURE_CLOSE"){var a=i[ti];a!==null&&(i[ri]=null,i[yn]=null,i[ti]=null,a(o)),i[Gs]=o;return}var l=i[yn];l!==null&&(i[ri]=null,i[yn]=null,i[ti]=null,l(_n(void 0,!0))),i[Ga]=!0}),t.on("readable",r4.bind(null,i)),i};Iv.exports=o4});var Bv=S((c$,Fv)=>{"use strict";function kv(e,t,r,i,o,a,l){try{var f=e[a](l),p=f.value}catch(h){r(h);return}f.done?t(p):Promise.resolve(p).then(i,o)}function a4(e){return function(){var t=this,r=arguments;return new Promise(function(i,o){var a=e.apply(t,r);function l(p){kv(a,i,o,l,f,"next",p)}function f(p){kv(a,i,o,l,f,"throw",p)}l(void 0)})}}function Mv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,i)}return r}function u4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mv(Object(r),!0).forEach(function(i){l4(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mv(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function l4(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f4=gn().codes.ERR_INVALID_ARG_TYPE;function c4(e,t,r){var i;if(t&&typeof t.next=="function")i=t;else if(t&&t[Symbol.asyncIterator])i=t[Symbol.asyncIterator]();else if(t&&t[Symbol.iterator])i=t[Symbol.iterator]();else throw new f4("iterable",["Iterable"],t);var o=new e(u4({objectMode:!0},r)),a=!1;o._read=function(){a||(a=!0,l())};function l(){return f.apply(this,arguments)}function f(){return f=a4(function*(){try{var p=yield i.next(),h=p.value,g=p.done;g?o.push(null):o.push(yield h)?l():a=!1}catch(d){o.destroy(d)}}),f.apply(this,arguments)}return o}Fv.exports=c4});var ec=S((h$,Yv)=>{"use strict";Yv.exports=Re;var Ki;Re.ReadableState=Uv;var p$=G("events").EventEmitter,qv=function(t,r){return t.listeners(r).length},js=Gf(),ja=G("buffer").Buffer,p4=global.Uint8Array||function(){};function h4(e){return ja.from(e)}function d4(e){return ja.isBuffer(e)||e instanceof p4}var oc=G("util"),Pe;oc&&oc.debuglog?Pe=oc.debuglog("stream"):Pe=function(){};var g4=av(),ac=Hf(),m4=$f(),v4=m4.getHighWaterMark,Wa=gn().codes,y4=Wa.ERR_INVALID_ARG_TYPE,_4=Wa.ERR_STREAM_PUSH_AFTER_EOF,b4=Wa.ERR_METHOD_NOT_IMPLEMENTED,w4=Wa.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,Yi,uc,lc;Zn()(Re,js);var Ws=ac.errorOrDestroy,fc=["error","close","destroy","pause","resume"];function E4(e,t,r){if(typeof e.prependListener=="function")return e.prependListener(t,r);!e._events||!e._events[t]?e.on(t,r):Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]}function Uv(e,t,r){Ki=Ki||Qn(),e=e||{},typeof r!="boolean"&&(r=t instanceof Ki),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=v4(this,e,"readableHighWaterMark",r),this.buffer=new g4,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=e.emitClose!==!1,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(Yi||(Yi=ic().StringDecoder),this.decoder=new Yi(e.encoding),this.encoding=e.encoding)}function Re(e){if(Ki=Ki||Qn(),!(this instanceof Re))return new Re(e);var t=this instanceof Ki;this._readableState=new Uv(e,this,t),this.readable=!0,e&&(typeof e.read=="function"&&(this._read=e.read),typeof e.destroy=="function"&&(this._destroy=e.destroy)),js.call(this)}Object.defineProperty(Re.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(t){!this._readableState||(this._readableState.destroyed=t)}});Re.prototype.destroy=ac.destroy;Re.prototype._undestroy=ac.undestroy;Re.prototype._destroy=function(e,t){t(e)};Re.prototype.push=function(e,t){var r=this._readableState,i;return r.objectMode?i=!0:typeof e=="string"&&(t=t||r.defaultEncoding,t!==r.encoding&&(e=ja.from(e,t),t=""),i=!0),Gv(this,e,t,!1,i)};Re.prototype.unshift=function(e){return Gv(this,e,null,!0,!1)};function Gv(e,t,r,i,o){Pe("readableAddChunk",t);var a=e._readableState;if(t===null)a.reading=!1,x4(e,a);else{var l;if(o||(l=S4(a,t)),l)Ws(e,l);else if(a.objectMode||t&&t.length>0)if(typeof t!="string"&&!a.objectMode&&Object.getPrototypeOf(t)!==ja.prototype&&(t=h4(t)),i)a.endEmitted?Ws(e,new w4):cc(e,a,t,!0);else if(a.ended)Ws(e,new _4);else{if(a.destroyed)return!1;a.reading=!1,a.decoder&&!r?(t=a.decoder.write(t),a.objectMode||t.length!==0?cc(e,a,t,!1):pc(e,a)):cc(e,a,t,!1)}else i||(a.reading=!1,pc(e,a))}return!a.ended&&(a.length<a.highWaterMark||a.length===0)}function cc(e,t,r,i){t.flowing&&t.length===0&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,i?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&Ha(e)),pc(e,t)}function S4(e,t){var r;return!d4(t)&&typeof t!="string"&&t!==void 0&&!e.objectMode&&(r=new y4("chunk",["string","Buffer","Uint8Array"],t)),r}Re.prototype.isPaused=function(){return this._readableState.flowing===!1};Re.prototype.setEncoding=function(e){Yi||(Yi=ic().StringDecoder);var t=new Yi(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";r!==null;)i+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),i!==""&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var jv=1073741824;function P4(e){return e>=jv?e=jv:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function Wv(e,t){return e<=0||t.length===0&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=P4(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}Re.prototype.read=function(e){Pe("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(e!==0&&(t.emittedReadable=!1),e===0&&t.needReadable&&((t.highWaterMark!==0?t.length>=t.highWaterMark:t.length>0)||t.ended))return Pe("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?dc(this):Ha(this),null;if(e=Wv(e,t),e===0&&t.ended)return t.length===0&&dc(this),null;var i=t.needReadable;Pe("need readable",i),(t.length===0||t.length-e<t.highWaterMark)&&(i=!0,Pe("length less than watermark",i)),t.ended||t.reading?(i=!1,Pe("reading or ended",i)):i&&(Pe("do read"),t.reading=!0,t.sync=!0,t.length===0&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=Wv(r,t)));var o;return e>0?o=Vv(e,t):o=null,o===null?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),t.length===0&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&dc(this)),o!==null&&this.emit("data",o),o};function x4(e,t){if(Pe("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?Ha(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,Hv(e)))}}function Ha(e){var t=e._readableState;Pe("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(Pe("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(Hv,e))}function Hv(e){var t=e._readableState;Pe("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,hc(e)}function pc(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(L4,e,t))}function L4(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&t.length===0);){var r=t.length;if(Pe("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}Re.prototype._read=function(e){Ws(this,new b4("_read()"))};Re.prototype.pipe=function(e,t){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e);break}i.pipesCount+=1,Pe("pipe count=%d opts=%j",i.pipesCount,t);var o=(!t||t.end!==!1)&&e!==process.stdout&&e!==process.stderr,a=o?f:A;i.endEmitted?process.nextTick(a):r.once("end",a),e.on("unpipe",l);function l(T,I){Pe("onunpipe"),T===r&&I&&I.hasUnpiped===!1&&(I.hasUnpiped=!0,g())}function f(){Pe("onend"),e.end()}var p=A4(r);e.on("drain",p);var h=!1;function g(){Pe("cleanup"),e.removeListener("close",w),e.removeListener("finish",E),e.removeListener("drain",p),e.removeListener("error",y),e.removeListener("unpipe",l),r.removeListener("end",f),r.removeListener("end",A),r.removeListener("data",d),h=!0,i.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&p()}r.on("data",d);function d(T){Pe("ondata");var I=e.write(T);Pe("dest.write",I),I===!1&&((i.pipesCount===1&&i.pipes===e||i.pipesCount>1&&Kv(i.pipes,e)!==-1)&&!h&&(Pe("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause())}function y(T){Pe("onerror",T),A(),e.removeListener("error",y),qv(e,"error")===0&&Ws(e,T)}E4(e,"error",y);function w(){e.removeListener("finish",E),A()}e.once("close",w);function E(){Pe("onfinish"),e.removeListener("close",w),A()}e.once("finish",E);function A(){Pe("unpipe"),r.unpipe(e)}return e.emit("pipe",r),i.flowing||(Pe("pipe resume"),r.resume()),e};function A4(e){return function(){var r=e._readableState;Pe("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&qv(e,"data")&&(r.flowing=!0,hc(e))}}Re.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(t.pipesCount===0)return this;if(t.pipesCount===1)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var i=t.pipes,o=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<o;a++)i[a].emit("unpipe",this,{hasUnpiped:!1});return this}var l=Kv(t.pipes,e);return l===-1?this:(t.pipes.splice(l,1),t.pipesCount-=1,t.pipesCount===1&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)};Re.prototype.on=function(e,t){var r=js.prototype.on.call(this,e,t),i=this._readableState;return e==="data"?(i.readableListening=this.listenerCount("readable")>0,i.flowing!==!1&&this.resume()):e==="readable"&&!i.endEmitted&&!i.readableListening&&(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,Pe("on readable",i.length,i.reading),i.length?Ha(this):i.reading||process.nextTick(C4,this)),r};Re.prototype.addListener=Re.prototype.on;Re.prototype.removeListener=function(e,t){var r=js.prototype.removeListener.call(this,e,t);return e==="readable"&&process.nextTick($v,this),r};Re.prototype.removeAllListeners=function(e){var t=js.prototype.removeAllListeners.apply(this,arguments);return(e==="readable"||e===void 0)&&process.nextTick($v,this),t};function $v(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function C4(e){Pe("readable nexttick read 0"),e.read(0)}Re.prototype.resume=function(){var e=this._readableState;return e.flowing||(Pe("resume"),e.flowing=!e.readableListening,R4(this,e)),e.paused=!1,this};function R4(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(O4,e,t))}function O4(e,t){Pe("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),hc(e),t.flowing&&!t.reading&&e.read(0)}Re.prototype.pause=function(){return Pe("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Pe("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function hc(e){var t=e._readableState;for(Pe("flow",t.flowing);t.flowing&&e.read()!==null;);}Re.prototype.wrap=function(e){var t=this,r=this._readableState,i=!1;e.on("end",function(){if(Pe("wrapped end"),r.decoder&&!r.ended){var l=r.decoder.end();l&&l.length&&t.push(l)}t.push(null)}),e.on("data",function(l){if(Pe("wrapped data"),r.decoder&&(l=r.decoder.write(l)),!(r.objectMode&&l==null)&&!(!r.objectMode&&(!l||!l.length))){var f=t.push(l);f||(i=!0,e.pause())}});for(var o in e)this[o]===void 0&&typeof e[o]=="function"&&(this[o]=function(f){return function(){return e[f].apply(e,arguments)}}(o));for(var a=0;a<fc.length;a++)e.on(fc[a],this.emit.bind(this,fc[a]));return this._read=function(l){Pe("wrapped _read",l),i&&(i=!1,e.resume())},this};typeof Symbol=="function"&&(Re.prototype[Symbol.asyncIterator]=function(){return uc===void 0&&(uc=Dv()),uc(this)});Object.defineProperty(Re.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(Re.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(Re.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}});Re._fromList=Vv;Object.defineProperty(Re.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Vv(e,t){if(t.length===0)return null;var r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(t.decoder?r=t.buffer.join(""):t.buffer.length===1?r=t.buffer.first():r=t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r}function dc(e){var t=e._readableState;Pe("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(T4,t,e))}function T4(e,t){if(Pe("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&e.length===0&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}typeof Symbol=="function"&&(Re.from=function(e,t){return lc===void 0&&(lc=Bv()),lc(Re,e,t)});function Kv(e,t){for(var r=0,i=e.length;r<i;r++)if(e[r]===t)return r;return-1}});var gc=S((d$,Jv)=>{"use strict";Jv.exports=Wr;var $a=gn().codes,N4=$a.ERR_METHOD_NOT_IMPLEMENTED,I4=$a.ERR_MULTIPLE_CALLBACK,D4=$a.ERR_TRANSFORM_ALREADY_TRANSFORMING,k4=$a.ERR_TRANSFORM_WITH_LENGTH_0,Va=Qn();Zn()(Wr,Va);function M4(e,t){var r=this._transformState;r.transforming=!1;var i=r.writecb;if(i===null)return this.emit("error",new I4);r.writechunk=null,r.writecb=null,t!=null&&this.push(t),i(e);var o=this._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}function Wr(e){if(!(this instanceof Wr))return new Wr(e);Va.call(this,e),this._transformState={afterTransform:M4.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",F4)}function F4(){var e=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(t,r){zv(e,t,r)}):zv(this,null,null)}Wr.prototype.push=function(e,t){return this._transformState.needTransform=!1,Va.prototype.push.call(this,e,t)};Wr.prototype._transform=function(e,t,r){r(new N4("_transform()"))};Wr.prototype._write=function(e,t,r){var i=this._transformState;if(i.writecb=r,i.writechunk=e,i.writeencoding=t,!i.transforming){var o=this._readableState;(i.needTransform||o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}};Wr.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};Wr.prototype._destroy=function(e,t){Va.prototype._destroy.call(this,e,function(r){t(r)})};function zv(e,t,r){if(t)return e.emit("error",t);if(r!=null&&e.push(r),e._writableState.length)throw new k4;if(e._transformState.transforming)throw new D4;return e.push(null)}});var Qv=S((g$,Zv)=>{"use strict";Zv.exports=Hs;var Xv=gc();Zn()(Hs,Xv);function Hs(e){if(!(this instanceof Hs))return new Hs(e);Xv.call(this,e)}Hs.prototype._transform=function(e,t,r){r(null,e)}});var iy=S((m$,ny)=>{"use strict";var mc;function B4(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}var ey=gn().codes,q4=ey.ERR_MISSING_ARGS,U4=ey.ERR_STREAM_DESTROYED;function ty(e){if(e)throw e}function G4(e){return e.setHeader&&typeof e.abort=="function"}function j4(e,t,r,i){i=B4(i);var o=!1;e.on("close",function(){o=!0}),mc===void 0&&(mc=qa()),mc(e,{readable:t,writable:r},function(l){if(l)return i(l);o=!0,i()});var a=!1;return function(l){if(!o&&!a){if(a=!0,G4(e))return e.abort();if(typeof e.destroy=="function")return e.destroy();i(l||new U4("pipe"))}}}function ry(e){e()}function W4(e,t){return e.pipe(t)}function H4(e){return!e.length||typeof e[e.length-1]!="function"?ty:e.pop()}function $4(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=H4(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new q4("streams");var o,a=t.map(function(l,f){var p=f<t.length-1,h=f>0;return j4(l,p,h,function(g){o||(o=g),g&&a.forEach(ry),!p&&(a.forEach(ry),i(o))})});return t.reduce(W4)}ny.exports=$4});var Ka=S((ir,Vs)=>{var $s=G("stream");process.env.READABLE_STREAM==="disable"&&$s?(Vs.exports=$s.Readable,Object.assign(Vs.exports,$s),Vs.exports.Stream=$s):(ir=Vs.exports=ec(),ir.Stream=$s||ir,ir.Readable=ir,ir.Writable=Xf(),ir.Duplex=Qn(),ir.Transform=gc(),ir.PassThrough=Qv(),ir.finished=qa(),ir.pipeline=iy())});var oy=S((v$,sy)=>{var V4=Object.prototype.toString,vc=typeof Buffer!="undefined"&&typeof Buffer.alloc=="function"&&typeof Buffer.allocUnsafe=="function"&&typeof Buffer.from=="function";function K4(e){return V4.call(e).slice(8,-1)==="ArrayBuffer"}function Y4(e,t,r){t>>>=0;var i=e.byteLength-t;if(i<0)throw new RangeError("'offset' is out of bounds");if(r===void 0)r=i;else if(r>>>=0,r>i)throw new RangeError("'length' is out of bounds");return vc?Buffer.from(e.slice(t,t+r)):new Buffer(new Uint8Array(e.slice(t,t+r)))}function z4(e,t){if((typeof t!="string"||t==="")&&(t="utf8"),!Buffer.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding');return vc?Buffer.from(e,t):new Buffer(e,t)}function J4(e,t,r){if(typeof e=="number")throw new TypeError('"value" argument must not be a number');return K4(e)?Y4(e,t,r):typeof e=="string"?z4(e,t):vc?Buffer.from(e):new Buffer(e)}sy.exports=J4});var py=S(ge=>{var ay=void 0,X4=1e5,Ye=function(){var e=Object.prototype.toString,t=Object.prototype.hasOwnProperty;return{Class:function(r){return e.call(r).replace(/^\[object *|\]$/g,"")},HasProperty:function(r,i){return i in r},HasOwnProperty:function(r,i){return t.call(r,i)},IsCallable:function(r){return typeof r=="function"},ToInt32:function(r){return r>>0},ToUint32:function(r){return r>>>0}}}(),Z4=Math.LN2,Q4=Math.abs,Ya=Math.floor,e8=Math.log,t8=Math.min,br=Math.pow,r8=Math.round;function yc(e){if(uy&&zi){var t=uy(e),r;for(r=0;r<t.length;r+=1)zi(e,t[r],{value:e[t[r]],writable:!1,enumerable:!1,configurable:!1})}}var zi;Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}()?zi=Object.defineProperty:zi=function(e,t,r){if(!e===Object(e))throw new TypeError("Object.defineProperty called on non-object");return Ye.HasProperty(r,"get")&&Object.prototype.__defineGetter__&&Object.prototype.__defineGetter__.call(e,t,r.get),Ye.HasProperty(r,"set")&&Object.prototype.__defineSetter__&&Object.prototype.__defineSetter__.call(e,t,r.set),Ye.HasProperty(r,"value")&&(e[t]=r.value),e};var uy=Object.getOwnPropertyNames||function(e){if(e!==Object(e))throw new TypeError("Object.getOwnPropertyNames called on non-object");var t=[],r;for(r in e)Ye.HasOwnProperty(e,r)&&t.push(r);return t};function n8(e){if(!zi)return;if(e.length>X4)throw new RangeError("Array too large for polyfill");function t(i){zi(e,i,{get:function(){return e._getter(i)},set:function(o){e._setter(i,o)},enumerable:!0,configurable:!1})}var r;for(r=0;r<e.length;r+=1)t(r)}function _c(e,t){var r=32-t;return e<<r>>r}function bc(e,t){var r=32-t;return e<<r>>>r}function i8(e){return[e&255]}function s8(e){return _c(e[0],8)}function o8(e){return[e&255]}function ly(e){return bc(e[0],8)}function a8(e){return e=r8(Number(e)),[e<0?0:e>255?255:e&255]}function u8(e){return[e>>8&255,e&255]}function l8(e){return _c(e[0]<<8|e[1],16)}function f8(e){return[e>>8&255,e&255]}function c8(e){return bc(e[0]<<8|e[1],16)}function p8(e){return[e>>24&255,e>>16&255,e>>8&255,e&255]}function h8(e){return _c(e[0]<<24|e[1]<<16|e[2]<<8|e[3],32)}function d8(e){return[e>>24&255,e>>16&255,e>>8&255,e&255]}function g8(e){return bc(e[0]<<24|e[1]<<16|e[2]<<8|e[3],32)}function fy(e,t,r){var i=(1<<t-1)-1,o,a,l,f,p,h,g,d;function y(w){var E=Ya(w),A=w-E;return A<.5?E:A>.5||E%2?E+1:E}for(e!==e?(a=(1<<t)-1,l=br(2,r-1),o=0):e===Infinity||e===-Infinity?(a=(1<<t)-1,l=0,o=e<0?1:0):e===0?(a=0,l=0,o=1/e==-Infinity?1:0):(o=e<0,e=Q4(e),e>=br(2,1-i)?(a=t8(Ya(e8(e)/Z4),1023),l=y(e/br(2,a)*br(2,r)),l/br(2,r)>=2&&(a=a+1,l=1),a>i?(a=(1<<t)-1,l=0):(a=a+i,l=l-br(2,r))):(a=0,l=y(e/br(2,1-i-r)))),h=[],p=r;p;p-=1)h.push(l%2?1:0),l=Ya(l/2);for(p=t;p;p-=1)h.push(a%2?1:0),a=Ya(a/2);for(h.push(o?1:0),h.reverse(),g=h.join(""),d=[];g.length;)d.push(parseInt(g.substring(0,8),2)),g=g.substring(8);return d}function cy(e,t,r){var i=[],o,a,l,f,p,h,g,d;for(o=e.length;o;o-=1)for(l=e[o-1],a=8;a;a-=1)i.push(l%2?1:0),l=l>>1;return i.reverse(),f=i.join(""),p=(1<<t-1)-1,h=parseInt(f.substring(0,1),2)?-1:1,g=parseInt(f.substring(1,1+t),2),d=parseInt(f.substring(1+t),2),g===(1<<t)-1?d!==0?NaN:h*Infinity:g>0?h*br(2,g-p)*(1+d/br(2,r)):d!==0?h*br(2,-(p-1))*(d/br(2,r)):h<0?-0:0}function m8(e){return cy(e,11,52)}function v8(e){return fy(e,11,52)}function y8(e){return cy(e,8,23)}function _8(e){return fy(e,8,23)}(function(){var e=function(w){if(w=Ye.ToInt32(w),w<0)throw new RangeError("ArrayBuffer size is not a small enough positive integer");this.byteLength=w,this._bytes=[],this._bytes.length=w;var E;for(E=0;E<this.byteLength;E+=1)this._bytes[E]=0;yc(this)};ge.ArrayBuffer=ge.ArrayBuffer||e;var t=function(){};function r(y,w,E){var A;return A=function(T,I,$){var U,k,Y,J;if(!arguments.length||typeof arguments[0]=="number"){if(this.length=Ye.ToInt32(arguments[0]),$<0)throw new RangeError("ArrayBufferView size is not a small enough positive integer");this.byteLength=this.length*this.BYTES_PER_ELEMENT,this.buffer=new e(this.byteLength),this.byteOffset=0}else if(typeof arguments[0]=="object"&&arguments[0].constructor===A)for(U=arguments[0],this.length=U.length,this.byteLength=this.length*this.BYTES_PER_ELEMENT,this.buffer=new e(this.byteLength),this.byteOffset=0,Y=0;Y<this.length;Y+=1)this._setter(Y,U._getter(Y));else if(typeof arguments[0]=="object"&&!(arguments[0]instanceof e||Ye.Class(arguments[0])==="ArrayBuffer"))for(k=arguments[0],this.length=Ye.ToUint32(k.length),this.byteLength=this.length*this.BYTES_PER_ELEMENT,this.buffer=new e(this.byteLength),this.byteOffset=0,Y=0;Y<this.length;Y+=1)J=k[Y],this._setter(Y,Number(J));else if(typeof arguments[0]=="object"&&(arguments[0]instanceof e||Ye.Class(arguments[0])==="ArrayBuffer")){if(this.buffer=T,this.byteOffset=Ye.ToUint32(I),this.byteOffset>this.buffer.byteLength)throw new RangeError("byteOffset out of range");if(this.byteOffset%this.BYTES_PER_ELEMENT)throw new RangeError("ArrayBuffer length minus the byteOffset is not a multiple of the element size.");if(arguments.length<3){if(this.byteLength=this.buffer.byteLength-this.byteOffset,this.byteLength%this.BYTES_PER_ELEMENT)throw new RangeError("length of buffer minus byteOffset not a multiple of the element size");this.length=this.byteLength/this.BYTES_PER_ELEMENT}else this.length=Ye.ToUint32($),this.byteLength=this.length*this.BYTES_PER_ELEMENT;if(this.byteOffset+this.byteLength>this.buffer.byteLength)throw new RangeError("byteOffset and length reference an area beyond the end of the buffer")}else throw new TypeError("Unexpected argument type(s)");this.constructor=A,yc(this),n8(this)},A.prototype=new t,A.prototype.BYTES_PER_ELEMENT=y,A.prototype._pack=w,A.prototype._unpack=E,A.BYTES_PER_ELEMENT=y,A.prototype._getter=function(T){if(arguments.length<1)throw new SyntaxError("Not enough arguments");if(T=Ye.ToUint32(T),T>=this.length)return ay;var I=[],$,U;for($=0,U=this.byteOffset+T*this.BYTES_PER_ELEMENT;$<this.BYTES_PER_ELEMENT;$+=1,U+=1)I.push(this.buffer._bytes[U]);return this._unpack(I)},A.prototype.get=A.prototype._getter,A.prototype._setter=function(T,I){if(arguments.length<2)throw new SyntaxError("Not enough arguments");if(T=Ye.ToUint32(T),T>=this.length)return ay;var $=this._pack(I),U,k;for(U=0,k=this.byteOffset+T*this.BYTES_PER_ELEMENT;U<this.BYTES_PER_ELEMENT;U+=1,k+=1)this.buffer._bytes[k]=$[U]},A.prototype.set=function(T,I){if(arguments.length<1)throw new SyntaxError("Not enough arguments");var $,U,k,Y,J,z,ue,V,te,P;if(typeof arguments[0]=="object"&&arguments[0].constructor===this.constructor){if($=arguments[0],k=Ye.ToUint32(arguments[1]),k+$.length>this.length)throw new RangeError("Offset plus length of array is out of range");if(V=this.byteOffset+k*this.BYTES_PER_ELEMENT,te=$.length*this.BYTES_PER_ELEMENT,$.buffer===this.buffer){for(P=[],J=0,z=$.byteOffset;J<te;J+=1,z+=1)P[J]=$.buffer._bytes[z];for(J=0,ue=V;J<te;J+=1,ue+=1)this.buffer._bytes[ue]=P[J]}else for(J=0,z=$.byteOffset,ue=V;J<te;J+=1,z+=1,ue+=1)this.buffer._bytes[ue]=$.buffer._bytes[z]}else if(typeof arguments[0]=="object"&&typeof arguments[0].length!="undefined"){if(U=arguments[0],Y=Ye.ToUint32(U.length),k=Ye.ToUint32(arguments[1]),k+Y>this.length)throw new RangeError("Offset plus length of array is out of range");for(J=0;J<Y;J+=1)z=U[J],this._setter(k+J,Number(z))}else throw new TypeError("Unexpected argument type(s)")},A.prototype.subarray=function(T,I){function $(k,Y,J){return k<Y?Y:k>J?J:k}T=Ye.ToInt32(T),I=Ye.ToInt32(I),arguments.length<1&&(T=0),arguments.length<2&&(I=this.length),T<0&&(T=this.length+T),I<0&&(I=this.length+I),T=$(T,0,this.length),I=$(I,0,this.length);var U=I-T;return U<0&&(U=0),new this.constructor(this.buffer,this.byteOffset+T*this.BYTES_PER_ELEMENT,U)},A}var i=r(1,i8,s8),o=r(1,o8,ly),a=r(1,a8,ly),l=r(2,u8,l8),f=r(2,f8,c8),p=r(4,p8,h8),h=r(4,d8,g8),g=r(4,_8,y8),d=r(8,v8,m8);ge.Int8Array=ge.Int8Array||i,ge.Uint8Array=ge.Uint8Array||o,ge.Uint8ClampedArray=ge.Uint8ClampedArray||a,ge.Int16Array=ge.Int16Array||l,ge.Uint16Array=ge.Uint16Array||f,ge.Int32Array=ge.Int32Array||p,ge.Uint32Array=ge.Uint32Array||h,ge.Float32Array=ge.Float32Array||g,ge.Float64Array=ge.Float64Array||d})();(function(){function e(a,l){return Ye.IsCallable(a.get)?a.get(l):a[l]}var t=function(){var a=new ge.Uint16Array([4660]),l=new ge.Uint8Array(a.buffer);return e(l,0)===18}(),r=function(l,f,p){if(arguments.length===0)l=new ge.ArrayBuffer(0);else if(!(l instanceof ge.ArrayBuffer||Ye.Class(l)==="ArrayBuffer"))throw new TypeError("TypeError");if(this.buffer=l||new ge.ArrayBuffer(0),this.byteOffset=Ye.ToUint32(f),this.byteOffset>this.buffer.byteLength)throw new RangeError("byteOffset out of range");if(arguments.length<3?this.byteLength=this.buffer.byteLength-this.byteOffset:this.byteLength=Ye.ToUint32(p),this.byteOffset+this.byteLength>this.buffer.byteLength)throw new RangeError("byteOffset and length reference an area beyond the end of the buffer");yc(this)};function i(a){return function(l,f){if(l=Ye.ToUint32(l),l+a.BYTES_PER_ELEMENT>this.byteLength)throw new RangeError("Array index out of range");l+=this.byteOffset;var p=new ge.Uint8Array(this.buffer,l,a.BYTES_PER_ELEMENT),h=[],g;for(g=0;g<a.BYTES_PER_ELEMENT;g+=1)h.push(e(p,g));return Boolean(f)===Boolean(t)&&h.reverse(),e(new a(new ge.Uint8Array(h).buffer),0)}}r.prototype.getUint8=i(ge.Uint8Array),r.prototype.getInt8=i(ge.Int8Array),r.prototype.getUint16=i(ge.Uint16Array),r.prototype.getInt16=i(ge.Int16Array),r.prototype.getUint32=i(ge.Uint32Array),r.prototype.getInt32=i(ge.Int32Array),r.prototype.getFloat32=i(ge.Float32Array),r.prototype.getFloat64=i(ge.Float64Array);function o(a){return function(l,f,p){if(l=Ye.ToUint32(l),l+a.BYTES_PER_ELEMENT>this.byteLength)throw new RangeError("Array index out of range");var h=new a([f]),g=new ge.Uint8Array(h.buffer),d=[],y,w;for(y=0;y<a.BYTES_PER_ELEMENT;y+=1)d.push(e(g,y));Boolean(p)===Boolean(t)&&d.reverse(),w=new ge.Uint8Array(this.buffer,l,a.BYTES_PER_ELEMENT),w.set(d)}}r.prototype.setUint8=o(ge.Uint8Array),r.prototype.setInt8=o(ge.Int8Array),r.prototype.setUint16=o(ge.Uint16Array),r.prototype.setInt16=o(ge.Int16Array),r.prototype.setUint32=o(ge.Uint32Array),r.prototype.setInt32=o(ge.Int32Array),r.prototype.setFloat32=o(ge.Float32Array),r.prototype.setFloat64=o(ge.Float64Array),ge.DataView=ge.DataView||r})()});var my=S((b$,gy)=>{var hy=Ka().Writable,b8=Zn(),Ks=oy();typeof Uint8Array=="undefined"?za=py().Uint8Array:za=Uint8Array;var za;function ii(e,t){if(!(this instanceof ii))return new ii(e,t);typeof e=="function"&&(t=e,e={}),e||(e={});var r=e.encoding,i=!1;r?(r=String(r).toLowerCase(),(r==="u8"||r==="uint8")&&(r="uint8array")):i=!0,hy.call(this,{objectMode:!0}),this.encoding=r,this.shouldInferEncoding=i,t&&this.on("finish",function(){t(this.getBody())}),this.body=[]}gy.exports=ii;b8(ii,hy);ii.prototype._write=function(e,t,r){this.body.push(e),r()};ii.prototype.inferEncoding=function(e){var t=e===void 0?this.body[0]:e;return Buffer.isBuffer(t)?"buffer":typeof Uint8Array!="undefined"&&t instanceof Uint8Array?"uint8array":Array.isArray(t)?"array":typeof t=="string"?"string":Object.prototype.toString.call(t)==="[object Object]"?"object":"buffer"};ii.prototype.getBody=function(){return!this.encoding&&this.body.length===0?[]:(this.shouldInferEncoding&&(this.encoding=this.inferEncoding()),this.encoding==="array"?P8(this.body):this.encoding==="string"?E8(this.body):this.encoding==="buffer"?S8(this.body):this.encoding==="uint8array"?x8(this.body):this.body)};var _$=Array.isArray||function(e){return Object.prototype.toString.call(e)=="[object Array]"};function w8(e){return/Array\]$/.test(Object.prototype.toString.call(e))}function dy(e){return typeof e=="string"||w8(e)||e&&typeof e.subarray=="function"}function E8(e){for(var t=[],r=!1,i=0;i<e.length;i++){var o=e[i];typeof o=="string"||Buffer.isBuffer(o)?t.push(o):dy(o)?t.push(Ks(o)):t.push(Ks(String(o)))}return Buffer.isBuffer(e[0])?(t=Buffer.concat(t),t=t.toString("utf8")):t=t.join(""),t}function S8(e){for(var t=[],r=0;r<e.length;r++){var i=e[r];Buffer.isBuffer(i)?t.push(i):dy(i)?t.push(Ks(i)):t.push(Ks(String(i)))}return Buffer.concat(t)}function P8(e){for(var t=[],r=0;r<e.length;r++)t.push.apply(t,e[r]);return t}function x8(e){for(var t=0,r=0;r<e.length;r++)typeof e[r]=="string"&&(e[r]=Ks(e[r])),t+=e[r].length;for(var i=new za(t),r=0,o=0;r<e.length;r++)for(var a=e[r],l=0;l<a.length;l++)i[o++]=a[l];return i}});var Hy=S((Zs,Zi)=>{var L8=200,wc="__lodash_hash_undefined__",Ec=1,Ys=2,vy=9007199254740991,Ja="[object Arguments]",Sc="[object Array]",yy="[object Boolean]",_y="[object Date]",by="[object Error]",wy="[object Function]",A8="[object GeneratorFunction]",Xa="[object Map]",Ey="[object Number]",Ji="[object Object]",Sy="[object Promise]",Py="[object RegExp]",Za="[object Set]",xy="[object String]",C8="[object Symbol]",Pc="[object WeakMap]",Ly="[object ArrayBuffer]",Qa="[object DataView]",R8="[object Float32Array]",O8="[object Float64Array]",T8="[object Int8Array]",N8="[object Int16Array]",I8="[object Int32Array]",D8="[object Uint8Array]",k8="[object Uint8ClampedArray]",M8="[object Uint16Array]",F8="[object Uint32Array]",B8=/[\\^$.*+?()[\]{}|]/g,q8=/^\[object .+?Constructor\]$/,U8=/^(?:0|[1-9]\d*)$/,We={};We[R8]=We[O8]=We[T8]=We[N8]=We[I8]=We[D8]=We[k8]=We[M8]=We[F8]=!0;We[Ja]=We[Sc]=We[Ly]=We[yy]=We[Qa]=We[_y]=We[by]=We[wy]=We[Xa]=We[Ey]=We[Ji]=We[Py]=We[Za]=We[xy]=We[Pc]=!1;var Ay=typeof global=="object"&&global&&global.Object===Object&&global,G8=typeof self=="object"&&self&&self.Object===Object&&self,bn=Ay||G8||Function("return this")(),Cy=typeof Zs=="object"&&Zs&&!Zs.nodeType&&Zs,Ry=Cy&&typeof Zi=="object"&&Zi&&!Zi.nodeType&&Zi,j8=Ry&&Ry.exports===Cy,Oy=j8&&Ay.process,Ty=function(){try{return Oy&&Oy.binding("util")}catch(e){}}(),Ny=Ty&&Ty.isTypedArray;function W8(e,t){for(var r=-1,i=e?e.length:0;++r<i;)if(t(e[r],r,e))return!0;return!1}function H8(e,t){for(var r=-1,i=Array(e);++r<e;)i[r]=t(r);return i}function $8(e){return function(t){return e(t)}}function V8(e,t){return e==null?void 0:e[t]}function xc(e){var t=!1;if(e!=null&&typeof e.toString!="function")try{t=!!(e+"")}catch(r){}return t}function K8(e){var t=-1,r=Array(e.size);return e.forEach(function(i,o){r[++t]=[o,i]}),r}function Y8(e,t){return function(r){return e(t(r))}}function z8(e){var t=-1,r=Array(e.size);return e.forEach(function(i){r[++t]=i}),r}var J8=Array.prototype,X8=Function.prototype,eu=Object.prototype,Lc=bn["__core-js_shared__"],Iy=function(){var e=/[^.]+$/.exec(Lc&&Lc.keys&&Lc.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Dy=X8.toString,Hr=eu.hasOwnProperty,zs=eu.toString,Z8=RegExp("^"+Dy.call(Hr).replace(B8,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ky=bn.Symbol,My=bn.Uint8Array,Q8=eu.propertyIsEnumerable,e5=J8.splice,t5=Y8(Object.keys,Object),Ac=Xi(bn,"DataView"),Js=Xi(bn,"Map"),Cc=Xi(bn,"Promise"),Rc=Xi(bn,"Set"),Oc=Xi(bn,"WeakMap"),Xs=Xi(Object,"create"),r5=ai(Ac),n5=ai(Js),i5=ai(Cc),s5=ai(Rc),o5=ai(Oc),Fy=ky?ky.prototype:void 0,Tc=Fy?Fy.valueOf:void 0;function si(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}function a5(){this.__data__=Xs?Xs(null):{}}function u5(e){return this.has(e)&&delete this.__data__[e]}function l5(e){var t=this.__data__;if(Xs){var r=t[e];return r===wc?void 0:r}return Hr.call(t,e)?t[e]:void 0}function f5(e){var t=this.__data__;return Xs?t[e]!==void 0:Hr.call(t,e)}function c5(e,t){var r=this.__data__;return r[e]=Xs&&t===void 0?wc:t,this}si.prototype.clear=a5;si.prototype.delete=u5;si.prototype.get=l5;si.prototype.has=f5;si.prototype.set=c5;function $r(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}function p5(){this.__data__=[]}function h5(e){var t=this.__data__,r=ru(t,e);if(r<0)return!1;var i=t.length-1;return r==i?t.pop():e5.call(t,r,1),!0}function d5(e){var t=this.__data__,r=ru(t,e);return r<0?void 0:t[r][1]}function g5(e){return ru(this.__data__,e)>-1}function m5(e,t){var r=this.__data__,i=ru(r,e);return i<0?r.push([e,t]):r[i][1]=t,this}$r.prototype.clear=p5;$r.prototype.delete=h5;$r.prototype.get=d5;$r.prototype.has=g5;$r.prototype.set=m5;function oi(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}function v5(){this.__data__={hash:new si,map:new(Js||$r),string:new si}}function y5(e){return nu(this,e).delete(e)}function _5(e){return nu(this,e).get(e)}function b5(e){return nu(this,e).has(e)}function w5(e,t){return nu(this,e).set(e,t),this}oi.prototype.clear=v5;oi.prototype.delete=y5;oi.prototype.get=_5;oi.prototype.has=b5;oi.prototype.set=w5;function tu(e){var t=-1,r=e?e.length:0;for(this.__data__=new oi;++t<r;)this.add(e[t])}function E5(e){return this.__data__.set(e,wc),this}function S5(e){return this.__data__.has(e)}tu.prototype.add=tu.prototype.push=E5;tu.prototype.has=S5;function Vr(e){this.__data__=new $r(e)}function P5(){this.__data__=new $r}function x5(e){return this.__data__.delete(e)}function L5(e){return this.__data__.get(e)}function A5(e){return this.__data__.has(e)}function C5(e,t){var r=this.__data__;if(r instanceof $r){var i=r.__data__;if(!Js||i.length<L8-1)return i.push([e,t]),this;r=this.__data__=new oi(i)}return r.set(e,t),this}Vr.prototype.clear=P5;Vr.prototype.delete=x5;Vr.prototype.get=L5;Vr.prototype.has=A5;Vr.prototype.set=C5;function R5(e,t){var r=Nc(e)||H5(e)?H8(e.length,String):[],i=r.length,o=!!i;for(var a in e)(t||Hr.call(e,a))&&!(o&&(a=="length"||q5(a,i)))&&r.push(a);return r}function ru(e,t){for(var r=e.length;r--;)if(Uy(e[r][0],t))return r;return-1}function O5(e){return zs.call(e)}function By(e,t,r,i,o){return e===t?!0:e==null||t==null||!iu(e)&&!Ic(t)?e!==e&&t!==t:T5(e,t,By,r,i,o)}function T5(e,t,r,i,o,a){var l=Nc(e),f=Nc(t),p=Sc,h=Sc;l||(p=wn(e),p=p==Ja?Ji:p),f||(h=wn(t),h=h==Ja?Ji:h);var g=p==Ji&&!xc(e),d=h==Ji&&!xc(t),y=p==h;if(y&&!g)return a||(a=new Vr),l||K5(e)?qy(e,t,r,i,o,a):M5(e,t,p,r,i,o,a);if(!(o&Ys)){var w=g&&Hr.call(e,"__wrapped__"),E=d&&Hr.call(t,"__wrapped__");if(w||E){var A=w?e.value():e,T=E?t.value():t;return a||(a=new Vr),r(A,T,i,o,a)}}return y?(a||(a=new Vr),F5(e,t,r,i,o,a)):!1}function N5(e,t,r,i){var o=r.length,a=o,l=!i;if(e==null)return!a;for(e=Object(e);o--;){var f=r[o];if(l&&f[2]?f[1]!==e[f[0]]:!(f[0]in e))return!1}for(;++o<a;){f=r[o];var p=f[0],h=e[p],g=f[1];if(l&&f[2]){if(h===void 0&&!(p in e))return!1}else{var d=new Vr;if(i)var y=i(h,g,p,e,t,d);if(!(y===void 0?By(g,h,i,Ec|Ys,d):y))return!1}}return!0}function I5(e){if(!iu(e)||G5(e))return!1;var t=jy(e)||xc(e)?Z8:q8;return t.test(ai(e))}function D5(e){return Ic(e)&&Wy(e.length)&&!!We[zs.call(e)]}function k5(e){if(!j5(e))return t5(e);var t=[];for(var r in Object(e))Hr.call(e,r)&&r!="constructor"&&t.push(r);return t}function qy(e,t,r,i,o,a){var l=o&Ys,f=e.length,p=t.length;if(f!=p&&!(l&&p>f))return!1;var h=a.get(e);if(h&&a.get(t))return h==t;var g=-1,d=!0,y=o&Ec?new tu:void 0;for(a.set(e,t),a.set(t,e);++g<f;){var w=e[g],E=t[g];if(i)var A=l?i(E,w,g,t,e,a):i(w,E,g,e,t,a);if(A!==void 0){if(A)continue;d=!1;break}if(y){if(!W8(t,function(T,I){if(!y.has(I)&&(w===T||r(w,T,i,o,a)))return y.add(I)})){d=!1;break}}else if(!(w===E||r(w,E,i,o,a))){d=!1;break}}return a.delete(e),a.delete(t),d}function M5(e,t,r,i,o,a,l){switch(r){case Qa:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Ly:return!(e.byteLength!=t.byteLength||!i(new My(e),new My(t)));case yy:case _y:case Ey:return Uy(+e,+t);case by:return e.name==t.name&&e.message==t.message;case Py:case xy:return e==t+"";case Xa:var f=K8;case Za:var p=a&Ys;if(f||(f=z8),e.size!=t.size&&!p)return!1;var h=l.get(e);if(h)return h==t;a|=Ec,l.set(e,t);var g=qy(f(e),f(t),i,o,a,l);return l.delete(e),g;case C8:if(Tc)return Tc.call(e)==Tc.call(t)}return!1}function F5(e,t,r,i,o,a){var l=o&Ys,f=Dc(e),p=f.length,h=Dc(t),g=h.length;if(p!=g&&!l)return!1;for(var d=p;d--;){var y=f[d];if(!(l?y in t:Hr.call(t,y)))return!1}var w=a.get(e);if(w&&a.get(t))return w==t;var E=!0;a.set(e,t),a.set(t,e);for(var A=l;++d<p;){y=f[d];var T=e[y],I=t[y];if(i)var $=l?i(I,T,y,t,e,a):i(T,I,y,e,t,a);if(!($===void 0?T===I||r(T,I,i,o,a):$)){E=!1;break}A||(A=y=="constructor")}if(E&&!A){var U=e.constructor,k=t.constructor;U!=k&&"constructor"in e&&"constructor"in t&&!(typeof U=="function"&&U instanceof U&&typeof k=="function"&&k instanceof k)&&(E=!1)}return a.delete(e),a.delete(t),E}function nu(e,t){var r=e.__data__;return U5(t)?r[typeof t=="string"?"string":"hash"]:r.map}function B5(e){for(var t=Dc(e),r=t.length;r--;){var i=t[r],o=e[i];t[r]=[i,o,W5(o)]}return t}function Xi(e,t){var r=V8(e,t);return I5(r)?r:void 0}var wn=O5;(Ac&&wn(new Ac(new ArrayBuffer(1)))!=Qa||Js&&wn(new Js)!=Xa||Cc&&wn(Cc.resolve())!=Sy||Rc&&wn(new Rc)!=Za||Oc&&wn(new Oc)!=Pc)&&(wn=function(e){var t=zs.call(e),r=t==Ji?e.constructor:void 0,i=r?ai(r):void 0;if(i)switch(i){case r5:return Qa;case n5:return Xa;case i5:return Sy;case s5:return Za;case o5:return Pc}return t});function q5(e,t){return t=t==null?vy:t,!!t&&(typeof e=="number"||U8.test(e))&&e>-1&&e%1==0&&e<t}function U5(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function G5(e){return!!Iy&&Iy in e}function j5(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||eu;return e===r}function W5(e){return e===e&&!iu(e)}function ai(e){if(e!=null){try{return Dy.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Uy(e,t){return e===t||e!==e&&t!==t}function H5(e){return $5(e)&&Hr.call(e,"callee")&&(!Q8.call(e,"callee")||zs.call(e)==Ja)}var Nc=Array.isArray;function Gy(e){return e!=null&&Wy(e.length)&&!jy(e)}function $5(e){return Ic(e)&&Gy(e)}function jy(e){var t=iu(e)?zs.call(e):"";return t==wy||t==A8}function Wy(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=vy}function iu(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function Ic(e){return!!e&&typeof e=="object"}function V5(e,t){return e===t||N5(e,t,B5(t))}var K5=Ny?$8(Ny):D5;function Dc(e){return Gy(e)?R5(e):k5(e)}Zi.exports=V5});var Vy=S((w$,$y)=>{"use strict";$y.exports=function(e,t){for(var r,i,o={},a=Object.keys(Object(e)),l=0;l<a.length;l++)r=a[l],i=e[r],o[r]=t(i,r);return o}});var Fc=S((E$,Ky)=>{"use strict";var Y5=Hy(),kc=Vy();function Mc(e){return typeof e=="string"?e.trim():e}function z5(e){if(!Array.isArray(e))throw new TypeError("Expected an array");let t=[],r=[],i=[];return e.forEach(function(o){o.revert&&r.push(o),t.push(o)}),t=t.filter(function(o){let a=!1;return o=o.raw?kc(o.raw,Mc):kc(o,Mc),r.some(function(l){let f=kc(l.revert,Mc);return a=Y5(o,f),a&&i.push(l.hash),a}),!a}),t=t.filter(function(o){return i.indexOf(o.hash)!==0}),t}Ky.exports=z5});var En=S((Qi,Qs)=>{(function(){var e,t="4.17.21",r=200,i="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",a="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",f=500,p="__lodash_placeholder__",h=1,g=2,d=4,y=1,w=2,E=1,A=2,T=4,I=8,$=16,U=32,k=64,Y=128,J=256,z=512,ue=30,V="...",te=800,P=16,Z=1,H=2,K=3,Q=1/0,F=9007199254740991,re=17976931348623157e292,de=0/0,ae=4294967295,Lt=ae-1,pr=ae>>>1,Nt=[["ary",Y],["bind",E],["bindKey",A],["curry",I],["curryRight",$],["flip",z],["partial",U],["partialRight",k],["rearg",J]],Ge="[object Arguments]",mt="[object Array]",vt="[object AsyncFunction]",yt="[object Boolean]",et="[object Date]",xr="[object DOMException]",hr="[object Error]",Kt="[object Function]",_t="[object GeneratorFunction]",At="[object Map]",Mn="[object Number]",_l="[object Null]",Yt="[object Object]",qo="[object Promise]",bl="[object Proxy]",Fn="[object RegExp]",Ft="[object Set]",en="[object String]",dr="[object Symbol]",Uo="[object Undefined]",tn="[object WeakMap]",wl="[object WeakSet]",Bn="[object ArrayBuffer]",rn="[object DataView]",bs="[object Float32Array]",b="[object Float64Array]",L="[object Int8Array]",N="[object Int16Array]",j="[object Int32Array]",fe="[object Uint8Array]",me="[object Uint8ClampedArray]",ce="[object Uint16Array]",Fe="[object Uint32Array]",Te=/\b__p \+= '';/g,Be=/\b(__p \+=) '' \+/g,qe=/(__e\(.*?\)|\b__t\)) \+\n'';/g,tt=/&(?:amp|lt|gt|quot|#39);/g,nn=/[&<>"']/g,tL=RegExp(tt.source),rL=RegExp(nn.source),nL=/<%-([\s\S]+?)%>/g,iL=/<%([\s\S]+?)%>/g,wd=/<%=([\s\S]+?)%>/g,sL=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,oL=/^\w*$/,aL=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,El=/[\\^$.*+?()[\]{}|]/g,uL=RegExp(El.source),Sl=/^\s+/,lL=/\s/,fL=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,cL=/\{\n\/\* \[wrapped with (.+)\] \*/,pL=/,? & /,hL=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,dL=/[()=,{}\[\]\/\s]/,gL=/\\(\\)?/g,mL=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ed=/\w*$/,vL=/^[-+]0x[0-9a-f]+$/i,yL=/^0b[01]+$/i,_L=/^\[object .+?Constructor\]$/,bL=/^0o[0-7]+$/i,wL=/^(?:0|[1-9]\d*)$/,EL=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Go=/($^)/,SL=/['\n\r\u2028\u2029\\]/g,jo="\\ud800-\\udfff",PL="\\u0300-\\u036f",xL="\\ufe20-\\ufe2f",LL="\\u20d0-\\u20ff",Sd=PL+xL+LL,Pd="\\u2700-\\u27bf",xd="a-z\\xdf-\\xf6\\xf8-\\xff",AL="\\xac\\xb1\\xd7\\xf7",CL="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",RL="\\u2000-\\u206f",OL=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ld="A-Z\\xc0-\\xd6\\xd8-\\xde",Ad="\\ufe0e\\ufe0f",Cd=AL+CL+RL+OL,Pl="['\u2019]",TL="["+jo+"]",Rd="["+Cd+"]",Wo="["+Sd+"]",Od="\\d+",NL="["+Pd+"]",Td="["+xd+"]",Nd="[^"+jo+Cd+Od+Pd+xd+Ld+"]",xl="\\ud83c[\\udffb-\\udfff]",IL="(?:"+Wo+"|"+xl+")",Id="[^"+jo+"]",Ll="(?:\\ud83c[\\udde6-\\uddff]){2}",Al="[\\ud800-\\udbff][\\udc00-\\udfff]",Ri="["+Ld+"]",Dd="\\u200d",kd="(?:"+Td+"|"+Nd+")",DL="(?:"+Ri+"|"+Nd+")",Md="(?:"+Pl+"(?:d|ll|m|re|s|t|ve))?",Fd="(?:"+Pl+"(?:D|LL|M|RE|S|T|VE))?",Bd=IL+"?",qd="["+Ad+"]?",kL="(?:"+Dd+"(?:"+[Id,Ll,Al].join("|")+")"+qd+Bd+")*",ML="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",FL="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Ud=qd+Bd+kL,BL="(?:"+[NL,Ll,Al].join("|")+")"+Ud,qL="(?:"+[Id+Wo+"?",Wo,Ll,Al,TL].join("|")+")",UL=RegExp(Pl,"g"),GL=RegExp(Wo,"g"),Cl=RegExp(xl+"(?="+xl+")|"+qL+Ud,"g"),jL=RegExp([Ri+"?"+Td+"+"+Md+"(?="+[Rd,Ri,"$"].join("|")+")",DL+"+"+Fd+"(?="+[Rd,Ri+kd,"$"].join("|")+")",Ri+"?"+kd+"+"+Md,Ri+"+"+Fd,FL,ML,Od,BL].join("|"),"g"),WL=RegExp("["+Dd+jo+Sd+Ad+"]"),HL=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,$L=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],VL=-1,je={};je[bs]=je[b]=je[L]=je[N]=je[j]=je[fe]=je[me]=je[ce]=je[Fe]=!0,je[Ge]=je[mt]=je[Bn]=je[yt]=je[rn]=je[et]=je[hr]=je[Kt]=je[At]=je[Mn]=je[Yt]=je[Fn]=je[Ft]=je[en]=je[tn]=!1;var Ue={};Ue[Ge]=Ue[mt]=Ue[Bn]=Ue[rn]=Ue[yt]=Ue[et]=Ue[bs]=Ue[b]=Ue[L]=Ue[N]=Ue[j]=Ue[At]=Ue[Mn]=Ue[Yt]=Ue[Fn]=Ue[Ft]=Ue[en]=Ue[dr]=Ue[fe]=Ue[me]=Ue[ce]=Ue[Fe]=!0,Ue[hr]=Ue[Kt]=Ue[tn]=!1;var KL={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},YL={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},zL={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},JL={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},XL=parseFloat,ZL=parseInt,Gd=typeof global=="object"&&global&&global.Object===Object&&global,QL=typeof self=="object"&&self&&self.Object===Object&&self,ut=Gd||QL||Function("return this")(),Rl=typeof Qi=="object"&&Qi&&!Qi.nodeType&&Qi,qn=Rl&&typeof Qs=="object"&&Qs&&!Qs.nodeType&&Qs,jd=qn&&qn.exports===Rl,Ol=jd&&Gd.process,zt=function(){try{var R=qn&&qn.require&&qn.require("util").types;return R||Ol&&Ol.binding&&Ol.binding("util")}catch(M){}}(),Wd=zt&&zt.isArrayBuffer,Hd=zt&&zt.isDate,$d=zt&&zt.isMap,Vd=zt&&zt.isRegExp,Kd=zt&&zt.isSet,Yd=zt&&zt.isTypedArray;function Bt(R,M,D){switch(D.length){case 0:return R.call(M);case 1:return R.call(M,D[0]);case 2:return R.call(M,D[0],D[1]);case 3:return R.call(M,D[0],D[1],D[2])}return R.apply(M,D)}function eA(R,M,D,ee){for(var ve=-1,Ne=R==null?0:R.length;++ve<Ne;){var Ke=R[ve];M(ee,Ke,D(Ke),R)}return ee}function Jt(R,M){for(var D=-1,ee=R==null?0:R.length;++D<ee&&M(R[D],D,R)!==!1;);return R}function tA(R,M){for(var D=R==null?0:R.length;D--&&M(R[D],D,R)!==!1;);return R}function zd(R,M){for(var D=-1,ee=R==null?0:R.length;++D<ee;)if(!M(R[D],D,R))return!1;return!0}function sn(R,M){for(var D=-1,ee=R==null?0:R.length,ve=0,Ne=[];++D<ee;){var Ke=R[D];M(Ke,D,R)&&(Ne[ve++]=Ke)}return Ne}function Ho(R,M){var D=R==null?0:R.length;return!!D&&Oi(R,M,0)>-1}function Tl(R,M,D){for(var ee=-1,ve=R==null?0:R.length;++ee<ve;)if(D(M,R[ee]))return!0;return!1}function Ve(R,M){for(var D=-1,ee=R==null?0:R.length,ve=Array(ee);++D<ee;)ve[D]=M(R[D],D,R);return ve}function on(R,M){for(var D=-1,ee=M.length,ve=R.length;++D<ee;)R[ve+D]=M[D];return R}function Nl(R,M,D,ee){var ve=-1,Ne=R==null?0:R.length;for(ee&&Ne&&(D=R[++ve]);++ve<Ne;)D=M(D,R[ve],ve,R);return D}function rA(R,M,D,ee){var ve=R==null?0:R.length;for(ee&&ve&&(D=R[--ve]);ve--;)D=M(D,R[ve],ve,R);return D}function Il(R,M){for(var D=-1,ee=R==null?0:R.length;++D<ee;)if(M(R[D],D,R))return!0;return!1}var nA=Dl("length");function iA(R){return R.split("")}function sA(R){return R.match(hL)||[]}function Jd(R,M,D){var ee;return D(R,function(ve,Ne,Ke){if(M(ve,Ne,Ke))return ee=Ne,!1}),ee}function $o(R,M,D,ee){for(var ve=R.length,Ne=D+(ee?1:-1);ee?Ne--:++Ne<ve;)if(M(R[Ne],Ne,R))return Ne;return-1}function Oi(R,M,D){return M===M?vA(R,M,D):$o(R,Xd,D)}function oA(R,M,D,ee){for(var ve=D-1,Ne=R.length;++ve<Ne;)if(ee(R[ve],M))return ve;return-1}function Xd(R){return R!==R}function Zd(R,M){var D=R==null?0:R.length;return D?Ml(R,M)/D:de}function Dl(R){return function(M){return M==null?e:M[R]}}function kl(R){return function(M){return R==null?e:R[M]}}function Qd(R,M,D,ee,ve){return ve(R,function(Ne,Ke,Ie){D=ee?(ee=!1,Ne):M(D,Ne,Ke,Ie)}),D}function aA(R,M){var D=R.length;for(R.sort(M);D--;)R[D]=R[D].value;return R}function Ml(R,M){for(var D,ee=-1,ve=R.length;++ee<ve;){var Ne=M(R[ee]);Ne!==e&&(D=D===e?Ne:D+Ne)}return D}function Fl(R,M){for(var D=-1,ee=Array(R);++D<R;)ee[D]=M(D);return ee}function uA(R,M){return Ve(M,function(D){return[D,R[D]]})}function eg(R){return R&&R.slice(0,ig(R)+1).replace(Sl,"")}function qt(R){return function(M){return R(M)}}function Bl(R,M){return Ve(M,function(D){return R[D]})}function ws(R,M){return R.has(M)}function tg(R,M){for(var D=-1,ee=R.length;++D<ee&&Oi(M,R[D],0)>-1;);return D}function rg(R,M){for(var D=R.length;D--&&Oi(M,R[D],0)>-1;);return D}function lA(R,M){for(var D=R.length,ee=0;D--;)R[D]===M&&++ee;return ee}var fA=kl(KL),cA=kl(YL);function pA(R){return"\\"+JL[R]}function hA(R,M){return R==null?e:R[M]}function Ti(R){return WL.test(R)}function dA(R){return HL.test(R)}function gA(R){for(var M,D=[];!(M=R.next()).done;)D.push(M.value);return D}function ql(R){var M=-1,D=Array(R.size);return R.forEach(function(ee,ve){D[++M]=[ve,ee]}),D}function ng(R,M){return function(D){return R(M(D))}}function an(R,M){for(var D=-1,ee=R.length,ve=0,Ne=[];++D<ee;){var Ke=R[D];(Ke===M||Ke===p)&&(R[D]=p,Ne[ve++]=D)}return Ne}function Vo(R){var M=-1,D=Array(R.size);return R.forEach(function(ee){D[++M]=ee}),D}function mA(R){var M=-1,D=Array(R.size);return R.forEach(function(ee){D[++M]=[ee,ee]}),D}function vA(R,M,D){for(var ee=D-1,ve=R.length;++ee<ve;)if(R[ee]===M)return ee;return-1}function yA(R,M,D){for(var ee=D+1;ee--;)if(R[ee]===M)return ee;return ee}function Ni(R){return Ti(R)?bA(R):nA(R)}function gr(R){return Ti(R)?wA(R):iA(R)}function ig(R){for(var M=R.length;M--&&lL.test(R.charAt(M)););return M}var _A=kl(zL);function bA(R){for(var M=Cl.lastIndex=0;Cl.test(R);)++M;return M}function wA(R){return R.match(Cl)||[]}function EA(R){return R.match(jL)||[]}var SA=function R(M){M=M==null?ut:un.defaults(ut.Object(),M,un.pick(ut,$L));var D=M.Array,ee=M.Date,ve=M.Error,Ne=M.Function,Ke=M.Math,Ie=M.Object,Ul=M.RegExp,PA=M.String,Xt=M.TypeError,Ko=D.prototype,xA=Ne.prototype,Ii=Ie.prototype,Yo=M["__core-js_shared__"],zo=xA.toString,ke=Ii.hasOwnProperty,LA=0,sg=function(){var n=/[^.]+$/.exec(Yo&&Yo.keys&&Yo.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}(),Jo=Ii.toString,AA=zo.call(Ie),CA=ut._,RA=Ul("^"+zo.call(ke).replace(El,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Xo=jd?M.Buffer:e,ln=M.Symbol,Zo=M.Uint8Array,og=Xo?Xo.allocUnsafe:e,Qo=ng(Ie.getPrototypeOf,Ie),ag=Ie.create,ug=Ii.propertyIsEnumerable,ea=Ko.splice,lg=ln?ln.isConcatSpreadable:e,Es=ln?ln.iterator:e,Un=ln?ln.toStringTag:e,ta=function(){try{var n=$n(Ie,"defineProperty");return n({},"",{}),n}catch(s){}}(),OA=M.clearTimeout!==ut.clearTimeout&&M.clearTimeout,TA=ee&&ee.now!==ut.Date.now&&ee.now,NA=M.setTimeout!==ut.setTimeout&&M.setTimeout,ra=Ke.ceil,na=Ke.floor,Gl=Ie.getOwnPropertySymbols,IA=Xo?Xo.isBuffer:e,fg=M.isFinite,DA=Ko.join,kA=ng(Ie.keys,Ie),at=Ke.max,bt=Ke.min,MA=ee.now,FA=M.parseInt,cg=Ke.random,BA=Ko.reverse,jl=$n(M,"DataView"),Ss=$n(M,"Map"),Wl=$n(M,"Promise"),Di=$n(M,"Set"),Ps=$n(M,"WeakMap"),xs=$n(Ie,"create"),ia=Ps&&new Ps,ki={},qA=Vn(jl),UA=Vn(Ss),GA=Vn(Wl),jA=Vn(Di),WA=Vn(Ps),sa=ln?ln.prototype:e,Ls=sa?sa.valueOf:e,pg=sa?sa.toString:e;function v(n){if(Xe(n)&&!ye(n)&&!(n instanceof Le)){if(n instanceof Zt)return n;if(ke.call(n,"__wrapped__"))return hm(n)}return new Zt(n)}var Mi=function(){function n(){}return function(s){if(!ze(s))return{};if(ag)return ag(s);n.prototype=s;var u=new n;return n.prototype=e,u}}();function oa(){}function Zt(n,s){this.__wrapped__=n,this.__actions__=[],this.__chain__=!!s,this.__index__=0,this.__values__=e}v.templateSettings={escape:nL,evaluate:iL,interpolate:wd,variable:"",imports:{_:v}},v.prototype=oa.prototype,v.prototype.constructor=v,Zt.prototype=Mi(oa.prototype),Zt.prototype.constructor=Zt;function Le(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ae,this.__views__=[]}function HA(){var n=new Le(this.__wrapped__);return n.__actions__=It(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=It(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=It(this.__views__),n}function $A(){if(this.__filtered__){var n=new Le(this);n.__dir__=-1,n.__filtered__=!0}else n=this.clone(),n.__dir__*=-1;return n}function VA(){var n=this.__wrapped__.value(),s=this.__dir__,u=ye(n),c=s<0,m=u?n.length:0,_=iR(0,m,this.__views__),x=_.start,C=_.end,O=C-x,B=c?C:x-1,q=this.__iteratees__,W=q.length,X=0,oe=bt(O,this.__takeCount__);if(!u||!c&&m==O&&oe==O)return Mg(n,this.__actions__);var pe=[];e:for(;O--&&X<oe;){B+=s;for(var be=-1,he=n[B];++be<W;){var xe=q[be],Ae=xe.iteratee,jt=xe.type,Ot=Ae(he);if(jt==H)he=Ot;else if(!Ot){if(jt==Z)continue e;break e}}pe[X++]=he}return pe}Le.prototype=Mi(oa.prototype),Le.prototype.constructor=Le;function Gn(n){var s=-1,u=n==null?0:n.length;for(this.clear();++s<u;){var c=n[s];this.set(c[0],c[1])}}function KA(){this.__data__=xs?xs(null):{},this.size=0}function YA(n){var s=this.has(n)&&delete this.__data__[n];return this.size-=s?1:0,s}function zA(n){var s=this.__data__;if(xs){var u=s[n];return u===l?e:u}return ke.call(s,n)?s[n]:e}function JA(n){var s=this.__data__;return xs?s[n]!==e:ke.call(s,n)}function XA(n,s){var u=this.__data__;return this.size+=this.has(n)?0:1,u[n]=xs&&s===e?l:s,this}Gn.prototype.clear=KA,Gn.prototype.delete=YA,Gn.prototype.get=zA,Gn.prototype.has=JA,Gn.prototype.set=XA;function Ir(n){var s=-1,u=n==null?0:n.length;for(this.clear();++s<u;){var c=n[s];this.set(c[0],c[1])}}function ZA(){this.__data__=[],this.size=0}function QA(n){var s=this.__data__,u=aa(s,n);if(u<0)return!1;var c=s.length-1;return u==c?s.pop():ea.call(s,u,1),--this.size,!0}function eC(n){var s=this.__data__,u=aa(s,n);return u<0?e:s[u][1]}function tC(n){return aa(this.__data__,n)>-1}function rC(n,s){var u=this.__data__,c=aa(u,n);return c<0?(++this.size,u.push([n,s])):u[c][1]=s,this}Ir.prototype.clear=ZA,Ir.prototype.delete=QA,Ir.prototype.get=eC,Ir.prototype.has=tC,Ir.prototype.set=rC;function Dr(n){var s=-1,u=n==null?0:n.length;for(this.clear();++s<u;){var c=n[s];this.set(c[0],c[1])}}function nC(){this.size=0,this.__data__={hash:new Gn,map:new(Ss||Ir),string:new Gn}}function iC(n){var s=_a(this,n).delete(n);return this.size-=s?1:0,s}function sC(n){return _a(this,n).get(n)}function oC(n){return _a(this,n).has(n)}function aC(n,s){var u=_a(this,n),c=u.size;return u.set(n,s),this.size+=u.size==c?0:1,this}Dr.prototype.clear=nC,Dr.prototype.delete=iC,Dr.prototype.get=sC,Dr.prototype.has=oC,Dr.prototype.set=aC;function jn(n){var s=-1,u=n==null?0:n.length;for(this.__data__=new Dr;++s<u;)this.add(n[s])}function uC(n){return this.__data__.set(n,l),this}function lC(n){return this.__data__.has(n)}jn.prototype.add=jn.prototype.push=uC,jn.prototype.has=lC;function mr(n){var s=this.__data__=new Ir(n);this.size=s.size}function fC(){this.__data__=new Ir,this.size=0}function cC(n){var s=this.__data__,u=s.delete(n);return this.size=s.size,u}function pC(n){return this.__data__.get(n)}function hC(n){return this.__data__.has(n)}function dC(n,s){var u=this.__data__;if(u instanceof Ir){var c=u.__data__;if(!Ss||c.length<r-1)return c.push([n,s]),this.size=++u.size,this;u=this.__data__=new Dr(c)}return u.set(n,s),this.size=u.size,this}mr.prototype.clear=fC,mr.prototype.delete=cC,mr.prototype.get=pC,mr.prototype.has=hC,mr.prototype.set=dC;function hg(n,s){var u=ye(n),c=!u&&Kn(n),m=!u&&!c&&dn(n),_=!u&&!c&&!m&&Ui(n),x=u||c||m||_,C=x?Fl(n.length,PA):[],O=C.length;for(var B in n)(s||ke.call(n,B))&&!(x&&(B=="length"||m&&(B=="offset"||B=="parent")||_&&(B=="buffer"||B=="byteLength"||B=="byteOffset")||Br(B,O)))&&C.push(B);return C}function dg(n){var s=n.length;return s?n[ef(0,s-1)]:e}function gC(n,s){return ba(It(n),Wn(s,0,n.length))}function mC(n){return ba(It(n))}function Hl(n,s,u){(u!==e&&!vr(n[s],u)||u===e&&!(s in n))&&kr(n,s,u)}function As(n,s,u){var c=n[s];(!(ke.call(n,s)&&vr(c,u))||u===e&&!(s in n))&&kr(n,s,u)}function aa(n,s){for(var u=n.length;u--;)if(vr(n[u][0],s))return u;return-1}function vC(n,s,u,c){return fn(n,function(m,_,x){s(c,m,u(m),x)}),c}function gg(n,s){return n&&Ar(s,lt(s),n)}function yC(n,s){return n&&Ar(s,kt(s),n)}function kr(n,s,u){s=="__proto__"&&ta?ta(n,s,{configurable:!0,enumerable:!0,value:u,writable:!0}):n[s]=u}function $l(n,s){for(var u=-1,c=s.length,m=D(c),_=n==null;++u<c;)m[u]=_?e:Lf(n,s[u]);return m}function Wn(n,s,u){return n===n&&(u!==e&&(n=n<=u?n:u),s!==e&&(n=n>=s?n:s)),n}function Qt(n,s,u,c,m,_){var x,C=s&h,O=s&g,B=s&d;if(u&&(x=m?u(n,c,m,_):u(n)),x!==e)return x;if(!ze(n))return n;var q=ye(n);if(q){if(x=oR(n),!C)return It(n,x)}else{var W=wt(n),X=W==Kt||W==_t;if(dn(n))return qg(n,C);if(W==Yt||W==Ge||X&&!m){if(x=O||X?{}:im(n),!C)return O?zC(n,yC(x,n)):YC(n,gg(x,n))}else{if(!Ue[W])return m?n:{};x=aR(n,W,C)}}_||(_=new mr);var oe=_.get(n);if(oe)return oe;_.set(n,x),Im(n)?n.forEach(function(he){x.add(Qt(he,s,u,he,n,_))}):Tm(n)&&n.forEach(function(he,xe){x.set(xe,Qt(he,s,u,xe,n,_))});var pe=B?O?pf:cf:O?kt:lt,be=q?e:pe(n);return Jt(be||n,function(he,xe){be&&(xe=he,he=n[xe]),As(x,xe,Qt(he,s,u,xe,n,_))}),x}function _C(n){var s=lt(n);return function(u){return mg(u,n,s)}}function mg(n,s,u){var c=u.length;if(n==null)return!c;for(n=Ie(n);c--;){var m=u[c],_=s[m],x=n[m];if(x===e&&!(m in n)||!_(x))return!1}return!0}function vg(n,s,u){if(typeof n!="function")throw new Xt(o);return Ds(function(){n.apply(e,u)},s)}function Cs(n,s,u,c){var m=-1,_=Ho,x=!0,C=n.length,O=[],B=s.length;if(!C)return O;u&&(s=Ve(s,qt(u))),c?(_=Tl,x=!1):s.length>=r&&(_=ws,x=!1,s=new jn(s));e:for(;++m<C;){var q=n[m],W=u==null?q:u(q);if(q=c||q!==0?q:0,x&&W===W){for(var X=B;X--;)if(s[X]===W)continue e;O.push(q)}else _(s,W,c)||O.push(q)}return O}var fn=Hg(Lr),yg=Hg(Kl,!0);function bC(n,s){var u=!0;return fn(n,function(c,m,_){return u=!!s(c,m,_),u}),u}function ua(n,s,u){for(var c=-1,m=n.length;++c<m;){var _=n[c],x=s(_);if(x!=null&&(C===e?x===x&&!Gt(x):u(x,C)))var C=x,O=_}return O}function wC(n,s,u,c){var m=n.length;for(u=_e(u),u<0&&(u=-u>m?0:m+u),c=c===e||c>m?m:_e(c),c<0&&(c+=m),c=u>c?0:km(c);u<c;)n[u++]=s;return n}function _g(n,s){var u=[];return fn(n,function(c,m,_){s(c,m,_)&&u.push(c)}),u}function ct(n,s,u,c,m){var _=-1,x=n.length;for(u||(u=lR),m||(m=[]);++_<x;){var C=n[_];s>0&&u(C)?s>1?ct(C,s-1,u,c,m):on(m,C):c||(m[m.length]=C)}return m}var Vl=$g(),bg=$g(!0);function Lr(n,s){return n&&Vl(n,s,lt)}function Kl(n,s){return n&&bg(n,s,lt)}function la(n,s){return sn(s,function(u){return qr(n[u])})}function Hn(n,s){s=pn(s,n);for(var u=0,c=s.length;n!=null&&u<c;)n=n[Cr(s[u++])];return u&&u==c?n:e}function wg(n,s,u){var c=s(n);return ye(n)?c:on(c,u(n))}function Ct(n){return n==null?n===e?Uo:_l:Un&&Un in Ie(n)?nR(n):mR(n)}function Yl(n,s){return n>s}function EC(n,s){return n!=null&&ke.call(n,s)}function SC(n,s){return n!=null&&s in Ie(n)}function PC(n,s,u){return n>=bt(s,u)&&n<at(s,u)}function zl(n,s,u){for(var c=u?Tl:Ho,m=n[0].length,_=n.length,x=_,C=D(_),O=Infinity,B=[];x--;){var q=n[x];x&&s&&(q=Ve(q,qt(s))),O=bt(q.length,O),C[x]=!u&&(s||m>=120&&q.length>=120)?new jn(x&&q):e}q=n[0];var W=-1,X=C[0];e:for(;++W<m&&B.length<O;){var oe=q[W],pe=s?s(oe):oe;if(oe=u||oe!==0?oe:0,!(X?ws(X,pe):c(B,pe,u))){for(x=_;--x;){var be=C[x];if(!(be?ws(be,pe):c(n[x],pe,u)))continue e}X&&X.push(pe),B.push(oe)}}return B}function xC(n,s,u,c){return Lr(n,function(m,_,x){s(c,u(m),_,x)}),c}function Rs(n,s,u){s=pn(s,n),n=um(n,s);var c=n==null?n:n[Cr(tr(s))];return c==null?e:Bt(c,n,u)}function Eg(n){return Xe(n)&&Ct(n)==Ge}function LC(n){return Xe(n)&&Ct(n)==Bn}function AC(n){return Xe(n)&&Ct(n)==et}function Os(n,s,u,c,m){return n===s?!0:n==null||s==null||!Xe(n)&&!Xe(s)?n!==n&&s!==s:CC(n,s,u,c,Os,m)}function CC(n,s,u,c,m,_){var x=ye(n),C=ye(s),O=x?mt:wt(n),B=C?mt:wt(s);O=O==Ge?Yt:O,B=B==Ge?Yt:B;var q=O==Yt,W=B==Yt,X=O==B;if(X&&dn(n)){if(!dn(s))return!1;x=!0,q=!1}if(X&&!q)return _||(_=new mr),x||Ui(n)?tm(n,s,u,c,m,_):tR(n,s,O,u,c,m,_);if(!(u&y)){var oe=q&&ke.call(n,"__wrapped__"),pe=W&&ke.call(s,"__wrapped__");if(oe||pe){var be=oe?n.value():n,he=pe?s.value():s;return _||(_=new mr),m(be,he,u,c,_)}}return X?(_||(_=new mr),rR(n,s,u,c,m,_)):!1}function RC(n){return Xe(n)&&wt(n)==At}function Jl(n,s,u,c){var m=u.length,_=m,x=!c;if(n==null)return!_;for(n=Ie(n);m--;){var C=u[m];if(x&&C[2]?C[1]!==n[C[0]]:!(C[0]in n))return!1}for(;++m<_;){C=u[m];var O=C[0],B=n[O],q=C[1];if(x&&C[2]){if(B===e&&!(O in n))return!1}else{var W=new mr;if(c)var X=c(B,q,O,n,s,W);if(!(X===e?Os(q,B,y|w,c,W):X))return!1}}return!0}function Sg(n){if(!ze(n)||cR(n))return!1;var s=qr(n)?RA:_L;return s.test(Vn(n))}function OC(n){return Xe(n)&&Ct(n)==Fn}function TC(n){return Xe(n)&&wt(n)==Ft}function NC(n){return Xe(n)&&La(n.length)&&!!je[Ct(n)]}function Pg(n){return typeof n=="function"?n:n==null?Mt:typeof n=="object"?ye(n)?Ag(n[0],n[1]):Lg(n):Vm(n)}function Xl(n){if(!Is(n))return kA(n);var s=[];for(var u in Ie(n))ke.call(n,u)&&u!="constructor"&&s.push(u);return s}function IC(n){if(!ze(n))return gR(n);var s=Is(n),u=[];for(var c in n)c=="constructor"&&(s||!ke.call(n,c))||u.push(c);return u}function Zl(n,s){return n<s}function xg(n,s){var u=-1,c=Dt(n)?D(n.length):[];return fn(n,function(m,_,x){c[++u]=s(m,_,x)}),c}function Lg(n){var s=df(n);return s.length==1&&s[0][2]?om(s[0][0],s[0][1]):function(u){return u===n||Jl(u,n,s)}}function Ag(n,s){return mf(n)&&sm(s)?om(Cr(n),s):function(u){var c=Lf(u,n);return c===e&&c===s?Af(u,n):Os(s,c,y|w)}}function fa(n,s,u,c,m){n!==s&&Vl(s,function(_,x){if(m||(m=new mr),ze(_))DC(n,s,x,u,fa,c,m);else{var C=c?c(yf(n,x),_,x+"",n,s,m):e;C===e&&(C=_),Hl(n,x,C)}},kt)}function DC(n,s,u,c,m,_,x){var C=yf(n,u),O=yf(s,u),B=x.get(O);if(B){Hl(n,u,B);return}var q=_?_(C,O,u+"",n,s,x):e,W=q===e;if(W){var X=ye(O),oe=!X&&dn(O),pe=!X&&!oe&&Ui(O);q=O,X||oe||pe?ye(C)?q=C:rt(C)?q=It(C):oe?(W=!1,q=qg(O,!0)):pe?(W=!1,q=Ug(O,!0)):q=[]:ks(O)||Kn(O)?(q=C,Kn(C)?q=Mm(C):(!ze(C)||qr(C))&&(q=im(O))):W=!1}W&&(x.set(O,q),m(q,O,c,_,x),x.delete(O)),Hl(n,u,q)}function Cg(n,s){var u=n.length;if(!!u)return s+=s<0?u:0,Br(s,u)?n[s]:e}function Rg(n,s,u){s.length?s=Ve(s,function(_){return ye(_)?function(x){return Hn(x,_.length===1?_[0]:_)}:_}):s=[Mt];var c=-1;s=Ve(s,qt(le()));var m=xg(n,function(_,x,C){var O=Ve(s,function(B){return B(_)});return{criteria:O,index:++c,value:_}});return aA(m,function(_,x){return KC(_,x,u)})}function kC(n,s){return Og(n,s,function(u,c){return Af(n,c)})}function Og(n,s,u){for(var c=-1,m=s.length,_={};++c<m;){var x=s[c],C=Hn(n,x);u(C,x)&&Ts(_,pn(x,n),C)}return _}function MC(n){return function(s){return Hn(s,n)}}function Ql(n,s,u,c){var m=c?oA:Oi,_=-1,x=s.length,C=n;for(n===s&&(s=It(s)),u&&(C=Ve(n,qt(u)));++_<x;)for(var O=0,B=s[_],q=u?u(B):B;(O=m(C,q,O,c))>-1;)C!==n&&ea.call(C,O,1),ea.call(n,O,1);return n}function Tg(n,s){for(var u=n?s.length:0,c=u-1;u--;){var m=s[u];if(u==c||m!==_){var _=m;Br(m)?ea.call(n,m,1):nf(n,m)}}return n}function ef(n,s){return n+na(cg()*(s-n+1))}function FC(n,s,u,c){for(var m=-1,_=at(ra((s-n)/(u||1)),0),x=D(_);_--;)x[c?_:++m]=n,n+=u;return x}function tf(n,s){var u="";if(!n||s<1||s>F)return u;do s%2&&(u+=n),s=na(s/2),s&&(n+=n);while(s);return u}function Ee(n,s){return _f(am(n,s,Mt),n+"")}function BC(n){return dg(Gi(n))}function qC(n,s){var u=Gi(n);return ba(u,Wn(s,0,u.length))}function Ts(n,s,u,c){if(!ze(n))return n;s=pn(s,n);for(var m=-1,_=s.length,x=_-1,C=n;C!=null&&++m<_;){var O=Cr(s[m]),B=u;if(O==="__proto__"||O==="constructor"||O==="prototype")return n;if(m!=x){var q=C[O];B=c?c(q,O,C):e,B===e&&(B=ze(q)?q:Br(s[m+1])?[]:{})}As(C,O,B),C=C[O]}return n}var Ng=ia?function(n,s){return ia.set(n,s),n}:Mt,UC=ta?function(n,s){return ta(n,"toString",{configurable:!0,enumerable:!1,value:Rf(s),writable:!0})}:Mt;function GC(n){return ba(Gi(n))}function er(n,s,u){var c=-1,m=n.length;s<0&&(s=-s>m?0:m+s),u=u>m?m:u,u<0&&(u+=m),m=s>u?0:u-s>>>0,s>>>=0;for(var _=D(m);++c<m;)_[c]=n[c+s];return _}function jC(n,s){var u;return fn(n,function(c,m,_){return u=s(c,m,_),!u}),!!u}function ca(n,s,u){var c=0,m=n==null?c:n.length;if(typeof s=="number"&&s===s&&m<=pr){for(;c<m;){var _=c+m>>>1,x=n[_];x!==null&&!Gt(x)&&(u?x<=s:x<s)?c=_+1:m=_}return m}return rf(n,s,Mt,u)}function rf(n,s,u,c){var m=0,_=n==null?0:n.length;if(_===0)return 0;s=u(s);for(var x=s!==s,C=s===null,O=Gt(s),B=s===e;m<_;){var q=na((m+_)/2),W=u(n[q]),X=W!==e,oe=W===null,pe=W===W,be=Gt(W);if(x)var he=c||pe;else B?he=pe&&(c||X):C?he=pe&&X&&(c||!oe):O?he=pe&&X&&!oe&&(c||!be):oe||be?he=!1:he=c?W<=s:W<s;he?m=q+1:_=q}return bt(_,Lt)}function Ig(n,s){for(var u=-1,c=n.length,m=0,_=[];++u<c;){var x=n[u],C=s?s(x):x;if(!u||!vr(C,O)){var O=C;_[m++]=x===0?0:x}}return _}function Dg(n){return typeof n=="number"?n:Gt(n)?de:+n}function Ut(n){if(typeof n=="string")return n;if(ye(n))return Ve(n,Ut)+"";if(Gt(n))return pg?pg.call(n):"";var s=n+"";return s=="0"&&1/n==-Q?"-0":s}function cn(n,s,u){var c=-1,m=Ho,_=n.length,x=!0,C=[],O=C;if(u)x=!1,m=Tl;else if(_>=r){var B=s?null:QC(n);if(B)return Vo(B);x=!1,m=ws,O=new jn}else O=s?[]:C;e:for(;++c<_;){var q=n[c],W=s?s(q):q;if(q=u||q!==0?q:0,x&&W===W){for(var X=O.length;X--;)if(O[X]===W)continue e;s&&O.push(W),C.push(q)}else m(O,W,u)||(O!==C&&O.push(W),C.push(q))}return C}function nf(n,s){return s=pn(s,n),n=um(n,s),n==null||delete n[Cr(tr(s))]}function kg(n,s,u,c){return Ts(n,s,u(Hn(n,s)),c)}function pa(n,s,u,c){for(var m=n.length,_=c?m:-1;(c?_--:++_<m)&&s(n[_],_,n););return u?er(n,c?0:_,c?_+1:m):er(n,c?_+1:0,c?m:_)}function Mg(n,s){var u=n;return u instanceof Le&&(u=u.value()),Nl(s,function(c,m){return m.func.apply(m.thisArg,on([c],m.args))},u)}function sf(n,s,u){var c=n.length;if(c<2)return c?cn(n[0]):[];for(var m=-1,_=D(c);++m<c;)for(var x=n[m],C=-1;++C<c;)C!=m&&(_[m]=Cs(_[m]||x,n[C],s,u));return cn(ct(_,1),s,u)}function Fg(n,s,u){for(var c=-1,m=n.length,_=s.length,x={};++c<m;){var C=c<_?s[c]:e;u(x,n[c],C)}return x}function of(n){return rt(n)?n:[]}function af(n){return typeof n=="function"?n:Mt}function pn(n,s){return ye(n)?n:mf(n,s)?[n]:pm(De(n))}var WC=Ee;function hn(n,s,u){var c=n.length;return u=u===e?c:u,!s&&u>=c?n:er(n,s,u)}var Bg=OA||function(n){return ut.clearTimeout(n)};function qg(n,s){if(s)return n.slice();var u=n.length,c=og?og(u):new n.constructor(u);return n.copy(c),c}function uf(n){var s=new n.constructor(n.byteLength);return new Zo(s).set(new Zo(n)),s}function HC(n,s){var u=s?uf(n.buffer):n.buffer;return new n.constructor(u,n.byteOffset,n.byteLength)}function $C(n){var s=new n.constructor(n.source,Ed.exec(n));return s.lastIndex=n.lastIndex,s}function VC(n){return Ls?Ie(Ls.call(n)):{}}function Ug(n,s){var u=s?uf(n.buffer):n.buffer;return new n.constructor(u,n.byteOffset,n.length)}function Gg(n,s){if(n!==s){var u=n!==e,c=n===null,m=n===n,_=Gt(n),x=s!==e,C=s===null,O=s===s,B=Gt(s);if(!C&&!B&&!_&&n>s||_&&x&&O&&!C&&!B||c&&x&&O||!u&&O||!m)return 1;if(!c&&!_&&!B&&n<s||B&&u&&m&&!c&&!_||C&&u&&m||!x&&m||!O)return-1}return 0}function KC(n,s,u){for(var c=-1,m=n.criteria,_=s.criteria,x=m.length,C=u.length;++c<x;){var O=Gg(m[c],_[c]);if(O){if(c>=C)return O;var B=u[c];return O*(B=="desc"?-1:1)}}return n.index-s.index}function jg(n,s,u,c){for(var m=-1,_=n.length,x=u.length,C=-1,O=s.length,B=at(_-x,0),q=D(O+B),W=!c;++C<O;)q[C]=s[C];for(;++m<x;)(W||m<_)&&(q[u[m]]=n[m]);for(;B--;)q[C++]=n[m++];return q}function Wg(n,s,u,c){for(var m=-1,_=n.length,x=-1,C=u.length,O=-1,B=s.length,q=at(_-C,0),W=D(q+B),X=!c;++m<q;)W[m]=n[m];for(var oe=m;++O<B;)W[oe+O]=s[O];for(;++x<C;)(X||m<_)&&(W[oe+u[x]]=n[m++]);return W}function It(n,s){var u=-1,c=n.length;for(s||(s=D(c));++u<c;)s[u]=n[u];return s}function Ar(n,s,u,c){var m=!u;u||(u={});for(var _=-1,x=s.length;++_<x;){var C=s[_],O=c?c(u[C],n[C],C,u,n):e;O===e&&(O=n[C]),m?kr(u,C,O):As(u,C,O)}return u}function YC(n,s){return Ar(n,gf(n),s)}function zC(n,s){return Ar(n,rm(n),s)}function ha(n,s){return function(u,c){var m=ye(u)?eA:vC,_=s?s():{};return m(u,n,le(c,2),_)}}function Fi(n){return Ee(function(s,u){var c=-1,m=u.length,_=m>1?u[m-1]:e,x=m>2?u[2]:e;for(_=n.length>3&&typeof _=="function"?(m--,_):e,x&&Rt(u[0],u[1],x)&&(_=m<3?e:_,m=1),s=Ie(s);++c<m;){var C=u[c];C&&n(s,C,c,_)}return s})}function Hg(n,s){return function(u,c){if(u==null)return u;if(!Dt(u))return n(u,c);for(var m=u.length,_=s?m:-1,x=Ie(u);(s?_--:++_<m)&&c(x[_],_,x)!==!1;);return u}}function $g(n){return function(s,u,c){for(var m=-1,_=Ie(s),x=c(s),C=x.length;C--;){var O=x[n?C:++m];if(u(_[O],O,_)===!1)break}return s}}function JC(n,s,u){var c=s&E,m=Ns(n);function _(){var x=this&&this!==ut&&this instanceof _?m:n;return x.apply(c?u:this,arguments)}return _}function Vg(n){return function(s){s=De(s);var u=Ti(s)?gr(s):e,c=u?u[0]:s.charAt(0),m=u?hn(u,1).join(""):s.slice(1);return c[n]()+m}}function Bi(n){return function(s){return Nl(Hm(Wm(s).replace(UL,"")),n,"")}}function Ns(n){return function(){var s=arguments;switch(s.length){case 0:return new n;case 1:return new n(s[0]);case 2:return new n(s[0],s[1]);case 3:return new n(s[0],s[1],s[2]);case 4:return new n(s[0],s[1],s[2],s[3]);case 5:return new n(s[0],s[1],s[2],s[3],s[4]);case 6:return new n(s[0],s[1],s[2],s[3],s[4],s[5]);case 7:return new n(s[0],s[1],s[2],s[3],s[4],s[5],s[6])}var u=Mi(n.prototype),c=n.apply(u,s);return ze(c)?c:u}}function XC(n,s,u){var c=Ns(n);function m(){for(var _=arguments.length,x=D(_),C=_,O=qi(m);C--;)x[C]=arguments[C];var B=_<3&&x[0]!==O&&x[_-1]!==O?[]:an(x,O);if(_-=B.length,_<u)return Xg(n,s,da,m.placeholder,e,x,B,e,e,u-_);var q=this&&this!==ut&&this instanceof m?c:n;return Bt(q,this,x)}return m}function Kg(n){return function(s,u,c){var m=Ie(s);if(!Dt(s)){var _=le(u,3);s=lt(s),u=function(C){return _(m[C],C,m)}}var x=n(s,u,c);return x>-1?m[_?s[x]:x]:e}}function Yg(n){return Fr(function(s){var u=s.length,c=u,m=Zt.prototype.thru;for(n&&s.reverse();c--;){var _=s[c];if(typeof _!="function")throw new Xt(o);if(m&&!x&&ya(_)=="wrapper")var x=new Zt([],!0)}for(c=x?c:u;++c<u;){_=s[c];var C=ya(_),O=C=="wrapper"?hf(_):e;O&&vf(O[0])&&O[1]==(Y|I|U|J)&&!O[4].length&&O[9]==1?x=x[ya(O[0])].apply(x,O[3]):x=_.length==1&&vf(_)?x[C]():x.thru(_)}return function(){var B=arguments,q=B[0];if(x&&B.length==1&&ye(q))return x.plant(q).value();for(var W=0,X=u?s[W].apply(this,B):q;++W<u;)X=s[W].call(this,X);return X}})}function da(n,s,u,c,m,_,x,C,O,B){var q=s&Y,W=s&E,X=s&A,oe=s&(I|$),pe=s&z,be=X?e:Ns(n);function he(){for(var xe=arguments.length,Ae=D(xe),jt=xe;jt--;)Ae[jt]=arguments[jt];if(oe)var Ot=qi(he),Wt=lA(Ae,Ot);if(c&&(Ae=jg(Ae,c,m,oe)),_&&(Ae=Wg(Ae,_,x,oe)),xe-=Wt,oe&&xe<B){var nt=an(Ae,Ot);return Xg(n,s,da,he.placeholder,u,Ae,nt,C,O,B-xe)}var yr=W?u:this,Gr=X?yr[n]:n;return xe=Ae.length,C?Ae=vR(Ae,C):pe&&xe>1&&Ae.reverse(),q&&O<xe&&(Ae.length=O),this&&this!==ut&&this instanceof he&&(Gr=be||Ns(Gr)),Gr.apply(yr,Ae)}return he}function zg(n,s){return function(u,c){return xC(u,n,s(c),{})}}function ga(n,s){return function(u,c){var m;if(u===e&&c===e)return s;if(u!==e&&(m=u),c!==e){if(m===e)return c;typeof u=="string"||typeof c=="string"?(u=Ut(u),c=Ut(c)):(u=Dg(u),c=Dg(c)),m=n(u,c)}return m}}function lf(n){return Fr(function(s){return s=Ve(s,qt(le())),Ee(function(u){var c=this;return n(s,function(m){return Bt(m,c,u)})})})}function ma(n,s){s=s===e?" ":Ut(s);var u=s.length;if(u<2)return u?tf(s,n):s;var c=tf(s,ra(n/Ni(s)));return Ti(s)?hn(gr(c),0,n).join(""):c.slice(0,n)}function ZC(n,s,u,c){var m=s&E,_=Ns(n);function x(){for(var C=-1,O=arguments.length,B=-1,q=c.length,W=D(q+O),X=this&&this!==ut&&this instanceof x?_:n;++B<q;)W[B]=c[B];for(;O--;)W[B++]=arguments[++C];return Bt(X,m?u:this,W)}return x}function Jg(n){return function(s,u,c){return c&&typeof c!="number"&&Rt(s,u,c)&&(u=c=e),s=Ur(s),u===e?(u=s,s=0):u=Ur(u),c=c===e?s<u?1:-1:Ur(c),FC(s,u,c,n)}}function va(n){return function(s,u){return typeof s=="string"&&typeof u=="string"||(s=rr(s),u=rr(u)),n(s,u)}}function Xg(n,s,u,c,m,_,x,C,O,B){var q=s&I,W=q?x:e,X=q?e:x,oe=q?_:e,pe=q?e:_;s|=q?U:k,s&=~(q?k:U),s&T||(s&=~(E|A));var be=[n,s,m,oe,W,pe,X,C,O,B],he=u.apply(e,be);return vf(n)&&lm(he,be),he.placeholder=c,fm(he,n,s)}function ff(n){var s=Ke[n];return function(u,c){if(u=rr(u),c=c==null?0:bt(_e(c),292),c&&fg(u)){var m=(De(u)+"e").split("e"),_=s(m[0]+"e"+(+m[1]+c));return m=(De(_)+"e").split("e"),+(m[0]+"e"+(+m[1]-c))}return s(u)}}var QC=Di&&1/Vo(new Di([,-0]))[1]==Q?function(n){return new Di(n)}:Nf;function Zg(n){return function(s){var u=wt(s);return u==At?ql(s):u==Ft?mA(s):uA(s,n(s))}}function Mr(n,s,u,c,m,_,x,C){var O=s&A;if(!O&&typeof n!="function")throw new Xt(o);var B=c?c.length:0;if(B||(s&=~(U|k),c=m=e),x=x===e?x:at(_e(x),0),C=C===e?C:_e(C),B-=m?m.length:0,s&k){var q=c,W=m;c=m=e}var X=O?e:hf(n),oe=[n,s,u,c,m,q,W,_,x,C];if(X&&dR(oe,X),n=oe[0],s=oe[1],u=oe[2],c=oe[3],m=oe[4],C=oe[9]=oe[9]===e?O?0:n.length:at(oe[9]-B,0),!C&&s&(I|$)&&(s&=~(I|$)),!s||s==E)var pe=JC(n,s,u);else s==I||s==$?pe=XC(n,s,C):(s==U||s==(E|U))&&!m.length?pe=ZC(n,s,u,c):pe=da.apply(e,oe);var be=X?Ng:lm;return fm(be(pe,oe),n,s)}function Qg(n,s,u,c){return n===e||vr(n,Ii[u])&&!ke.call(c,u)?s:n}function em(n,s,u,c,m,_){return ze(n)&&ze(s)&&(_.set(s,n),fa(n,s,e,em,_),_.delete(s)),n}function eR(n){return ks(n)?e:n}function tm(n,s,u,c,m,_){var x=u&y,C=n.length,O=s.length;if(C!=O&&!(x&&O>C))return!1;var B=_.get(n),q=_.get(s);if(B&&q)return B==s&&q==n;var W=-1,X=!0,oe=u&w?new jn:e;for(_.set(n,s),_.set(s,n);++W<C;){var pe=n[W],be=s[W];if(c)var he=x?c(be,pe,W,s,n,_):c(pe,be,W,n,s,_);if(he!==e){if(he)continue;X=!1;break}if(oe){if(!Il(s,function(xe,Ae){if(!ws(oe,Ae)&&(pe===xe||m(pe,xe,u,c,_)))return oe.push(Ae)})){X=!1;break}}else if(!(pe===be||m(pe,be,u,c,_))){X=!1;break}}return _.delete(n),_.delete(s),X}function tR(n,s,u,c,m,_,x){switch(u){case rn:if(n.byteLength!=s.byteLength||n.byteOffset!=s.byteOffset)return!1;n=n.buffer,s=s.buffer;case Bn:return!(n.byteLength!=s.byteLength||!_(new Zo(n),new Zo(s)));case yt:case et:case Mn:return vr(+n,+s);case hr:return n.name==s.name&&n.message==s.message;case Fn:case en:return n==s+"";case At:var C=ql;case Ft:var O=c&y;if(C||(C=Vo),n.size!=s.size&&!O)return!1;var B=x.get(n);if(B)return B==s;c|=w,x.set(n,s);var q=tm(C(n),C(s),c,m,_,x);return x.delete(n),q;case dr:if(Ls)return Ls.call(n)==Ls.call(s)}return!1}function rR(n,s,u,c,m,_){var x=u&y,C=cf(n),O=C.length,B=cf(s),q=B.length;if(O!=q&&!x)return!1;for(var W=O;W--;){var X=C[W];if(!(x?X in s:ke.call(s,X)))return!1}var oe=_.get(n),pe=_.get(s);if(oe&&pe)return oe==s&&pe==n;var be=!0;_.set(n,s),_.set(s,n);for(var he=x;++W<O;){X=C[W];var xe=n[X],Ae=s[X];if(c)var jt=x?c(Ae,xe,X,s,n,_):c(xe,Ae,X,n,s,_);if(!(jt===e?xe===Ae||m(xe,Ae,u,c,_):jt)){be=!1;break}he||(he=X=="constructor")}if(be&&!he){var Ot=n.constructor,Wt=s.constructor;Ot!=Wt&&"constructor"in n&&"constructor"in s&&!(typeof Ot=="function"&&Ot instanceof Ot&&typeof Wt=="function"&&Wt instanceof Wt)&&(be=!1)}return _.delete(n),_.delete(s),be}function Fr(n){return _f(am(n,e,mm),n+"")}function cf(n){return wg(n,lt,gf)}function pf(n){return wg(n,kt,rm)}var hf=ia?function(n){return ia.get(n)}:Nf;function ya(n){for(var s=n.name+"",u=ki[s],c=ke.call(ki,s)?u.length:0;c--;){var m=u[c],_=m.func;if(_==null||_==n)return m.name}return s}function qi(n){var s=ke.call(v,"placeholder")?v:n;return s.placeholder}function le(){var n=v.iteratee||Of;return n=n===Of?Pg:n,arguments.length?n(arguments[0],arguments[1]):n}function _a(n,s){var u=n.__data__;return fR(s)?u[typeof s=="string"?"string":"hash"]:u.map}function df(n){for(var s=lt(n),u=s.length;u--;){var c=s[u],m=n[c];s[u]=[c,m,sm(m)]}return s}function $n(n,s){var u=hA(n,s);return Sg(u)?u:e}function nR(n){var s=ke.call(n,Un),u=n[Un];try{n[Un]=e;var c=!0}catch(_){}var m=Jo.call(n);return c&&(s?n[Un]=u:delete n[Un]),m}var gf=Gl?function(n){return n==null?[]:(n=Ie(n),sn(Gl(n),function(s){return ug.call(n,s)}))}:If,rm=Gl?function(n){for(var s=[];n;)on(s,gf(n)),n=Qo(n);return s}:If,wt=Ct;(jl&&wt(new jl(new ArrayBuffer(1)))!=rn||Ss&&wt(new Ss)!=At||Wl&&wt(Wl.resolve())!=qo||Di&&wt(new Di)!=Ft||Ps&&wt(new Ps)!=tn)&&(wt=function(n){var s=Ct(n),u=s==Yt?n.constructor:e,c=u?Vn(u):"";if(c)switch(c){case qA:return rn;case UA:return At;case GA:return qo;case jA:return Ft;case WA:return tn}return s});function iR(n,s,u){for(var c=-1,m=u.length;++c<m;){var _=u[c],x=_.size;switch(_.type){case"drop":n+=x;break;case"dropRight":s-=x;break;case"take":s=bt(s,n+x);break;case"takeRight":n=at(n,s-x);break}}return{start:n,end:s}}function sR(n){var s=n.match(cL);return s?s[1].split(pL):[]}function nm(n,s,u){s=pn(s,n);for(var c=-1,m=s.length,_=!1;++c<m;){var x=Cr(s[c]);if(!(_=n!=null&&u(n,x)))break;n=n[x]}return _||++c!=m?_:(m=n==null?0:n.length,!!m&&La(m)&&Br(x,m)&&(ye(n)||Kn(n)))}function oR(n){var s=n.length,u=new n.constructor(s);return s&&typeof n[0]=="string"&&ke.call(n,"index")&&(u.index=n.index,u.input=n.input),u}function im(n){return typeof n.constructor=="function"&&!Is(n)?Mi(Qo(n)):{}}function aR(n,s,u){var c=n.constructor;switch(s){case Bn:return uf(n);case yt:case et:return new c(+n);case rn:return HC(n,u);case bs:case b:case L:case N:case j:case fe:case me:case ce:case Fe:return Ug(n,u);case At:return new c;case Mn:case en:return new c(n);case Fn:return $C(n);case Ft:return new c;case dr:return VC(n)}}function uR(n,s){var u=s.length;if(!u)return n;var c=u-1;return s[c]=(u>1?"& ":"")+s[c],s=s.join(u>2?", ":" "),n.replace(fL,`{
/* [wrapped with `+s+`] */
`)}function lR(n){return ye(n)||Kn(n)||!!(lg&&n&&n[lg])}function Br(n,s){var u=typeof n;return s=s==null?F:s,!!s&&(u=="number"||u!="symbol"&&wL.test(n))&&n>-1&&n%1==0&&n<s}function Rt(n,s,u){if(!ze(u))return!1;var c=typeof s;return(c=="number"?Dt(u)&&Br(s,u.length):c=="string"&&s in u)?vr(u[s],n):!1}function mf(n,s){if(ye(n))return!1;var u=typeof n;return u=="number"||u=="symbol"||u=="boolean"||n==null||Gt(n)?!0:oL.test(n)||!sL.test(n)||s!=null&&n in Ie(s)}function fR(n){var s=typeof n;return s=="string"||s=="number"||s=="symbol"||s=="boolean"?n!=="__proto__":n===null}function vf(n){var s=ya(n),u=v[s];if(typeof u!="function"||!(s in Le.prototype))return!1;if(n===u)return!0;var c=hf(u);return!!c&&n===c[0]}function cR(n){return!!sg&&sg in n}var pR=Yo?qr:Df;function Is(n){var s=n&&n.constructor,u=typeof s=="function"&&s.prototype||Ii;return n===u}function sm(n){return n===n&&!ze(n)}function om(n,s){return function(u){return u==null?!1:u[n]===s&&(s!==e||n in Ie(u))}}function hR(n){var s=Pa(n,function(c){return u.size===f&&u.clear(),c}),u=s.cache;return s}function dR(n,s){var u=n[1],c=s[1],m=u|c,_=m<(E|A|Y),x=c==Y&&u==I||c==Y&&u==J&&n[7].length<=s[8]||c==(Y|J)&&s[7].length<=s[8]&&u==I;if(!(_||x))return n;c&E&&(n[2]=s[2],m|=u&E?0:T);var C=s[3];if(C){var O=n[3];n[3]=O?jg(O,C,s[4]):C,n[4]=O?an(n[3],p):s[4]}return C=s[5],C&&(O=n[5],n[5]=O?Wg(O,C,s[6]):C,n[6]=O?an(n[5],p):s[6]),C=s[7],C&&(n[7]=C),c&Y&&(n[8]=n[8]==null?s[8]:bt(n[8],s[8])),n[9]==null&&(n[9]=s[9]),n[0]=s[0],n[1]=m,n}function gR(n){var s=[];if(n!=null)for(var u in Ie(n))s.push(u);return s}function mR(n){return Jo.call(n)}function am(n,s,u){return s=at(s===e?n.length-1:s,0),function(){for(var c=arguments,m=-1,_=at(c.length-s,0),x=D(_);++m<_;)x[m]=c[s+m];m=-1;for(var C=D(s+1);++m<s;)C[m]=c[m];return C[s]=u(x),Bt(n,this,C)}}function um(n,s){return s.length<2?n:Hn(n,er(s,0,-1))}function vR(n,s){for(var u=n.length,c=bt(s.length,u),m=It(n);c--;){var _=s[c];n[c]=Br(_,u)?m[_]:e}return n}function yf(n,s){if(!(s==="constructor"&&typeof n[s]=="function")&&s!="__proto__")return n[s]}var lm=cm(Ng),Ds=NA||function(n,s){return ut.setTimeout(n,s)},_f=cm(UC);function fm(n,s,u){var c=s+"";return _f(n,uR(c,yR(sR(c),u)))}function cm(n){var s=0,u=0;return function(){var c=MA(),m=P-(c-u);if(u=c,m>0){if(++s>=te)return arguments[0]}else s=0;return n.apply(e,arguments)}}function ba(n,s){var u=-1,c=n.length,m=c-1;for(s=s===e?c:s;++u<s;){var _=ef(u,m),x=n[_];n[_]=n[u],n[u]=x}return n.length=s,n}var pm=hR(function(n){var s=[];return n.charCodeAt(0)===46&&s.push(""),n.replace(aL,function(u,c,m,_){s.push(m?_.replace(gL,"$1"):c||u)}),s});function Cr(n){if(typeof n=="string"||Gt(n))return n;var s=n+"";return s=="0"&&1/n==-Q?"-0":s}function Vn(n){if(n!=null){try{return zo.call(n)}catch(s){}try{return n+""}catch(s){}}return""}function yR(n,s){return Jt(Nt,function(u){var c="_."+u[0];s&u[1]&&!Ho(n,c)&&n.push(c)}),n.sort()}function hm(n){if(n instanceof Le)return n.clone();var s=new Zt(n.__wrapped__,n.__chain__);return s.__actions__=It(n.__actions__),s.__index__=n.__index__,s.__values__=n.__values__,s}function _R(n,s,u){(u?Rt(n,s,u):s===e)?s=1:s=at(_e(s),0);var c=n==null?0:n.length;if(!c||s<1)return[];for(var m=0,_=0,x=D(ra(c/s));m<c;)x[_++]=er(n,m,m+=s);return x}function bR(n){for(var s=-1,u=n==null?0:n.length,c=0,m=[];++s<u;){var _=n[s];_&&(m[c++]=_)}return m}function wR(){var n=arguments.length;if(!n)return[];for(var s=D(n-1),u=arguments[0],c=n;c--;)s[c-1]=arguments[c];return on(ye(u)?It(u):[u],ct(s,1))}var ER=Ee(function(n,s){return rt(n)?Cs(n,ct(s,1,rt,!0)):[]}),SR=Ee(function(n,s){var u=tr(s);return rt(u)&&(u=e),rt(n)?Cs(n,ct(s,1,rt,!0),le(u,2)):[]}),PR=Ee(function(n,s){var u=tr(s);return rt(u)&&(u=e),rt(n)?Cs(n,ct(s,1,rt,!0),e,u):[]});function xR(n,s,u){var c=n==null?0:n.length;return c?(s=u||s===e?1:_e(s),er(n,s<0?0:s,c)):[]}function LR(n,s,u){var c=n==null?0:n.length;return c?(s=u||s===e?1:_e(s),s=c-s,er(n,0,s<0?0:s)):[]}function AR(n,s){return n&&n.length?pa(n,le(s,3),!0,!0):[]}function CR(n,s){return n&&n.length?pa(n,le(s,3),!0):[]}function RR(n,s,u,c){var m=n==null?0:n.length;return m?(u&&typeof u!="number"&&Rt(n,s,u)&&(u=0,c=m),wC(n,s,u,c)):[]}function dm(n,s,u){var c=n==null?0:n.length;if(!c)return-1;var m=u==null?0:_e(u);return m<0&&(m=at(c+m,0)),$o(n,le(s,3),m)}function gm(n,s,u){var c=n==null?0:n.length;if(!c)return-1;var m=c-1;return u!==e&&(m=_e(u),m=u<0?at(c+m,0):bt(m,c-1)),$o(n,le(s,3),m,!0)}function mm(n){var s=n==null?0:n.length;return s?ct(n,1):[]}function OR(n){var s=n==null?0:n.length;return s?ct(n,Q):[]}function TR(n,s){var u=n==null?0:n.length;return u?(s=s===e?1:_e(s),ct(n,s)):[]}function NR(n){for(var s=-1,u=n==null?0:n.length,c={};++s<u;){var m=n[s];c[m[0]]=m[1]}return c}function vm(n){return n&&n.length?n[0]:e}function IR(n,s,u){var c=n==null?0:n.length;if(!c)return-1;var m=u==null?0:_e(u);return m<0&&(m=at(c+m,0)),Oi(n,s,m)}function DR(n){var s=n==null?0:n.length;return s?er(n,0,-1):[]}var kR=Ee(function(n){var s=Ve(n,of);return s.length&&s[0]===n[0]?zl(s):[]}),MR=Ee(function(n){var s=tr(n),u=Ve(n,of);return s===tr(u)?s=e:u.pop(),u.length&&u[0]===n[0]?zl(u,le(s,2)):[]}),FR=Ee(function(n){var s=tr(n),u=Ve(n,of);return s=typeof s=="function"?s:e,s&&u.pop(),u.length&&u[0]===n[0]?zl(u,e,s):[]});function BR(n,s){return n==null?"":DA.call(n,s)}function tr(n){var s=n==null?0:n.length;return s?n[s-1]:e}function qR(n,s,u){var c=n==null?0:n.length;if(!c)return-1;var m=c;return u!==e&&(m=_e(u),m=m<0?at(c+m,0):bt(m,c-1)),s===s?yA(n,s,m):$o(n,Xd,m,!0)}function UR(n,s){return n&&n.length?Cg(n,_e(s)):e}var GR=Ee(ym);function ym(n,s){return n&&n.length&&s&&s.length?Ql(n,s):n}function jR(n,s,u){return n&&n.length&&s&&s.length?Ql(n,s,le(u,2)):n}function WR(n,s,u){return n&&n.length&&s&&s.length?Ql(n,s,e,u):n}var HR=Fr(function(n,s){var u=n==null?0:n.length,c=$l(n,s);return Tg(n,Ve(s,function(m){return Br(m,u)?+m:m}).sort(Gg)),c});function $R(n,s){var u=[];if(!(n&&n.length))return u;var c=-1,m=[],_=n.length;for(s=le(s,3);++c<_;){var x=n[c];s(x,c,n)&&(u.push(x),m.push(c))}return Tg(n,m),u}function bf(n){return n==null?n:BA.call(n)}function VR(n,s,u){var c=n==null?0:n.length;return c?(u&&typeof u!="number"&&Rt(n,s,u)?(s=0,u=c):(s=s==null?0:_e(s),u=u===e?c:_e(u)),er(n,s,u)):[]}function KR(n,s){return ca(n,s)}function YR(n,s,u){return rf(n,s,le(u,2))}function zR(n,s){var u=n==null?0:n.length;if(u){var c=ca(n,s);if(c<u&&vr(n[c],s))return c}return-1}function JR(n,s){return ca(n,s,!0)}function XR(n,s,u){return rf(n,s,le(u,2),!0)}function ZR(n,s){var u=n==null?0:n.length;if(u){var c=ca(n,s,!0)-1;if(vr(n[c],s))return c}return-1}function QR(n){return n&&n.length?Ig(n):[]}function eO(n,s){return n&&n.length?Ig(n,le(s,2)):[]}function tO(n){var s=n==null?0:n.length;return s?er(n,1,s):[]}function rO(n,s,u){return n&&n.length?(s=u||s===e?1:_e(s),er(n,0,s<0?0:s)):[]}function nO(n,s,u){var c=n==null?0:n.length;return c?(s=u||s===e?1:_e(s),s=c-s,er(n,s<0?0:s,c)):[]}function iO(n,s){return n&&n.length?pa(n,le(s,3),!1,!0):[]}function sO(n,s){return n&&n.length?pa(n,le(s,3)):[]}var oO=Ee(function(n){return cn(ct(n,1,rt,!0))}),aO=Ee(function(n){var s=tr(n);return rt(s)&&(s=e),cn(ct(n,1,rt,!0),le(s,2))}),uO=Ee(function(n){var s=tr(n);return s=typeof s=="function"?s:e,cn(ct(n,1,rt,!0),e,s)});function lO(n){return n&&n.length?cn(n):[]}function fO(n,s){return n&&n.length?cn(n,le(s,2)):[]}function cO(n,s){return s=typeof s=="function"?s:e,n&&n.length?cn(n,e,s):[]}function wf(n){if(!(n&&n.length))return[];var s=0;return n=sn(n,function(u){if(rt(u))return s=at(u.length,s),!0}),Fl(s,function(u){return Ve(n,Dl(u))})}function _m(n,s){if(!(n&&n.length))return[];var u=wf(n);return s==null?u:Ve(u,function(c){return Bt(s,e,c)})}var pO=Ee(function(n,s){return rt(n)?Cs(n,s):[]}),hO=Ee(function(n){return sf(sn(n,rt))}),dO=Ee(function(n){var s=tr(n);return rt(s)&&(s=e),sf(sn(n,rt),le(s,2))}),gO=Ee(function(n){var s=tr(n);return s=typeof s=="function"?s:e,sf(sn(n,rt),e,s)}),mO=Ee(wf);function vO(n,s){return Fg(n||[],s||[],As)}function yO(n,s){return Fg(n||[],s||[],Ts)}var _O=Ee(function(n){var s=n.length,u=s>1?n[s-1]:e;return u=typeof u=="function"?(n.pop(),u):e,_m(n,u)});function bm(n){var s=v(n);return s.__chain__=!0,s}function bO(n,s){return s(n),n}function wa(n,s){return s(n)}var wO=Fr(function(n){var s=n.length,u=s?n[0]:0,c=this.__wrapped__,m=function(_){return $l(_,n)};return s>1||this.__actions__.length||!(c instanceof Le)||!Br(u)?this.thru(m):(c=c.slice(u,+u+(s?1:0)),c.__actions__.push({func:wa,args:[m],thisArg:e}),new Zt(c,this.__chain__).thru(function(_){return s&&!_.length&&_.push(e),_}))});function EO(){return bm(this)}function SO(){return new Zt(this.value(),this.__chain__)}function PO(){this.__values__===e&&(this.__values__=Dm(this.value()));var n=this.__index__>=this.__values__.length,s=n?e:this.__values__[this.__index__++];return{done:n,value:s}}function xO(){return this}function LO(n){for(var s,u=this;u instanceof oa;){var c=hm(u);c.__index__=0,c.__values__=e,s?m.__wrapped__=c:s=c;var m=c;u=u.__wrapped__}return m.__wrapped__=n,s}function AO(){var n=this.__wrapped__;if(n instanceof Le){var s=n;return this.__actions__.length&&(s=new Le(this)),s=s.reverse(),s.__actions__.push({func:wa,args:[bf],thisArg:e}),new Zt(s,this.__chain__)}return this.thru(bf)}function CO(){return Mg(this.__wrapped__,this.__actions__)}var RO=ha(function(n,s,u){ke.call(n,u)?++n[u]:kr(n,u,1)});function OO(n,s,u){var c=ye(n)?zd:bC;return u&&Rt(n,s,u)&&(s=e),c(n,le(s,3))}function TO(n,s){var u=ye(n)?sn:_g;return u(n,le(s,3))}var NO=Kg(dm),IO=Kg(gm);function DO(n,s){return ct(Ea(n,s),1)}function kO(n,s){return ct(Ea(n,s),Q)}function MO(n,s,u){return u=u===e?1:_e(u),ct(Ea(n,s),u)}function wm(n,s){var u=ye(n)?Jt:fn;return u(n,le(s,3))}function Em(n,s){var u=ye(n)?tA:yg;return u(n,le(s,3))}var FO=ha(function(n,s,u){ke.call(n,u)?n[u].push(s):kr(n,u,[s])});function BO(n,s,u,c){n=Dt(n)?n:Gi(n),u=u&&!c?_e(u):0;var m=n.length;return u<0&&(u=at(m+u,0)),Aa(n)?u<=m&&n.indexOf(s,u)>-1:!!m&&Oi(n,s,u)>-1}var qO=Ee(function(n,s,u){var c=-1,m=typeof s=="function",_=Dt(n)?D(n.length):[];return fn(n,function(x){_[++c]=m?Bt(s,x,u):Rs(x,s,u)}),_}),UO=ha(function(n,s,u){kr(n,u,s)});function Ea(n,s){var u=ye(n)?Ve:xg;return u(n,le(s,3))}function GO(n,s,u,c){return n==null?[]:(ye(s)||(s=s==null?[]:[s]),u=c?e:u,ye(u)||(u=u==null?[]:[u]),Rg(n,s,u))}var jO=ha(function(n,s,u){n[u?0:1].push(s)},function(){return[[],[]]});function WO(n,s,u){var c=ye(n)?Nl:Qd,m=arguments.length<3;return c(n,le(s,4),u,m,fn)}function HO(n,s,u){var c=ye(n)?rA:Qd,m=arguments.length<3;return c(n,le(s,4),u,m,yg)}function $O(n,s){var u=ye(n)?sn:_g;return u(n,xa(le(s,3)))}function VO(n){var s=ye(n)?dg:BC;return s(n)}function KO(n,s,u){(u?Rt(n,s,u):s===e)?s=1:s=_e(s);var c=ye(n)?gC:qC;return c(n,s)}function YO(n){var s=ye(n)?mC:GC;return s(n)}function zO(n){if(n==null)return 0;if(Dt(n))return Aa(n)?Ni(n):n.length;var s=wt(n);return s==At||s==Ft?n.size:Xl(n).length}function JO(n,s,u){var c=ye(n)?Il:jC;return u&&Rt(n,s,u)&&(s=e),c(n,le(s,3))}var XO=Ee(function(n,s){if(n==null)return[];var u=s.length;return u>1&&Rt(n,s[0],s[1])?s=[]:u>2&&Rt(s[0],s[1],s[2])&&(s=[s[0]]),Rg(n,ct(s,1),[])}),Sa=TA||function(){return ut.Date.now()};function ZO(n,s){if(typeof s!="function")throw new Xt(o);return n=_e(n),function(){if(--n<1)return s.apply(this,arguments)}}function Sm(n,s,u){return s=u?e:s,s=n&&s==null?n.length:s,Mr(n,Y,e,e,e,e,s)}function Pm(n,s){var u;if(typeof s!="function")throw new Xt(o);return n=_e(n),function(){return--n>0&&(u=s.apply(this,arguments)),n<=1&&(s=e),u}}var Ef=Ee(function(n,s,u){var c=E;if(u.length){var m=an(u,qi(Ef));c|=U}return Mr(n,c,s,u,m)}),xm=Ee(function(n,s,u){var c=E|A;if(u.length){var m=an(u,qi(xm));c|=U}return Mr(s,c,n,u,m)});function Lm(n,s,u){s=u?e:s;var c=Mr(n,I,e,e,e,e,e,s);return c.placeholder=Lm.placeholder,c}function Am(n,s,u){s=u?e:s;var c=Mr(n,$,e,e,e,e,e,s);return c.placeholder=Am.placeholder,c}function Cm(n,s,u){var c,m,_,x,C,O,B=0,q=!1,W=!1,X=!0;if(typeof n!="function")throw new Xt(o);s=rr(s)||0,ze(u)&&(q=!!u.leading,W="maxWait"in u,_=W?at(rr(u.maxWait)||0,s):_,X="trailing"in u?!!u.trailing:X);function oe(nt){var yr=c,Gr=m;return c=m=e,B=nt,x=n.apply(Gr,yr),x}function pe(nt){return B=nt,C=Ds(xe,s),q?oe(nt):x}function be(nt){var yr=nt-O,Gr=nt-B,Km=s-yr;return W?bt(Km,_-Gr):Km}function he(nt){var yr=nt-O,Gr=nt-B;return O===e||yr>=s||yr<0||W&&Gr>=_}function xe(){var nt=Sa();if(he(nt))return Ae(nt);C=Ds(xe,be(nt))}function Ae(nt){return C=e,X&&c?oe(nt):(c=m=e,x)}function jt(){C!==e&&Bg(C),B=0,c=O=m=C=e}function Ot(){return C===e?x:Ae(Sa())}function Wt(){var nt=Sa(),yr=he(nt);if(c=arguments,m=this,O=nt,yr){if(C===e)return pe(O);if(W)return Bg(C),C=Ds(xe,s),oe(O)}return C===e&&(C=Ds(xe,s)),x}return Wt.cancel=jt,Wt.flush=Ot,Wt}var QO=Ee(function(n,s){return vg(n,1,s)}),eT=Ee(function(n,s,u){return vg(n,rr(s)||0,u)});function tT(n){return Mr(n,z)}function Pa(n,s){if(typeof n!="function"||s!=null&&typeof s!="function")throw new Xt(o);var u=function(){var c=arguments,m=s?s.apply(this,c):c[0],_=u.cache;if(_.has(m))return _.get(m);var x=n.apply(this,c);return u.cache=_.set(m,x)||_,x};return u.cache=new(Pa.Cache||Dr),u}Pa.Cache=Dr;function xa(n){if(typeof n!="function")throw new Xt(o);return function(){var s=arguments;switch(s.length){case 0:return!n.call(this);case 1:return!n.call(this,s[0]);case 2:return!n.call(this,s[0],s[1]);case 3:return!n.call(this,s[0],s[1],s[2])}return!n.apply(this,s)}}function rT(n){return Pm(2,n)}var nT=WC(function(n,s){s=s.length==1&&ye(s[0])?Ve(s[0],qt(le())):Ve(ct(s,1),qt(le()));var u=s.length;return Ee(function(c){for(var m=-1,_=bt(c.length,u);++m<_;)c[m]=s[m].call(this,c[m]);return Bt(n,this,c)})}),Sf=Ee(function(n,s){var u=an(s,qi(Sf));return Mr(n,U,e,s,u)}),Rm=Ee(function(n,s){var u=an(s,qi(Rm));return Mr(n,k,e,s,u)}),iT=Fr(function(n,s){return Mr(n,J,e,e,e,s)});function sT(n,s){if(typeof n!="function")throw new Xt(o);return s=s===e?s:_e(s),Ee(n,s)}function oT(n,s){if(typeof n!="function")throw new Xt(o);return s=s==null?0:at(_e(s),0),Ee(function(u){var c=u[s],m=hn(u,0,s);return c&&on(m,c),Bt(n,this,m)})}function aT(n,s,u){var c=!0,m=!0;if(typeof n!="function")throw new Xt(o);return ze(u)&&(c="leading"in u?!!u.leading:c,m="trailing"in u?!!u.trailing:m),Cm(n,s,{leading:c,maxWait:s,trailing:m})}function uT(n){return Sm(n,1)}function lT(n,s){return Sf(af(s),n)}function fT(){if(!arguments.length)return[];var n=arguments[0];return ye(n)?n:[n]}function cT(n){return Qt(n,d)}function pT(n,s){return s=typeof s=="function"?s:e,Qt(n,d,s)}function hT(n){return Qt(n,h|d)}function dT(n,s){return s=typeof s=="function"?s:e,Qt(n,h|d,s)}function gT(n,s){return s==null||mg(n,s,lt(s))}function vr(n,s){return n===s||n!==n&&s!==s}var mT=va(Yl),vT=va(function(n,s){return n>=s}),Kn=Eg(function(){return arguments}())?Eg:function(n){return Xe(n)&&ke.call(n,"callee")&&!ug.call(n,"callee")},ye=D.isArray,yT=Wd?qt(Wd):LC;function Dt(n){return n!=null&&La(n.length)&&!qr(n)}function rt(n){return Xe(n)&&Dt(n)}function _T(n){return n===!0||n===!1||Xe(n)&&Ct(n)==yt}var dn=IA||Df,bT=Hd?qt(Hd):AC;function wT(n){return Xe(n)&&n.nodeType===1&&!ks(n)}function ET(n){if(n==null)return!0;if(Dt(n)&&(ye(n)||typeof n=="string"||typeof n.splice=="function"||dn(n)||Ui(n)||Kn(n)))return!n.length;var s=wt(n);if(s==At||s==Ft)return!n.size;if(Is(n))return!Xl(n).length;for(var u in n)if(ke.call(n,u))return!1;return!0}function ST(n,s){return Os(n,s)}function PT(n,s,u){u=typeof u=="function"?u:e;var c=u?u(n,s):e;return c===e?Os(n,s,e,u):!!c}function Pf(n){if(!Xe(n))return!1;var s=Ct(n);return s==hr||s==xr||typeof n.message=="string"&&typeof n.name=="string"&&!ks(n)}function xT(n){return typeof n=="number"&&fg(n)}function qr(n){if(!ze(n))return!1;var s=Ct(n);return s==Kt||s==_t||s==vt||s==bl}function Om(n){return typeof n=="number"&&n==_e(n)}function La(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=F}function ze(n){var s=typeof n;return n!=null&&(s=="object"||s=="function")}function Xe(n){return n!=null&&typeof n=="object"}var Tm=$d?qt($d):RC;function LT(n,s){return n===s||Jl(n,s,df(s))}function AT(n,s,u){return u=typeof u=="function"?u:e,Jl(n,s,df(s),u)}function CT(n){return Nm(n)&&n!=+n}function RT(n){if(pR(n))throw new ve(i);return Sg(n)}function OT(n){return n===null}function TT(n){return n==null}function Nm(n){return typeof n=="number"||Xe(n)&&Ct(n)==Mn}function ks(n){if(!Xe(n)||Ct(n)!=Yt)return!1;var s=Qo(n);if(s===null)return!0;var u=ke.call(s,"constructor")&&s.constructor;return typeof u=="function"&&u instanceof u&&zo.call(u)==AA}var xf=Vd?qt(Vd):OC;function NT(n){return Om(n)&&n>=-F&&n<=F}var Im=Kd?qt(Kd):TC;function Aa(n){return typeof n=="string"||!ye(n)&&Xe(n)&&Ct(n)==en}function Gt(n){return typeof n=="symbol"||Xe(n)&&Ct(n)==dr}var Ui=Yd?qt(Yd):NC;function IT(n){return n===e}function DT(n){return Xe(n)&&wt(n)==tn}function kT(n){return Xe(n)&&Ct(n)==wl}var MT=va(Zl),FT=va(function(n,s){return n<=s});function Dm(n){if(!n)return[];if(Dt(n))return Aa(n)?gr(n):It(n);if(Es&&n[Es])return gA(n[Es]());var s=wt(n),u=s==At?ql:s==Ft?Vo:Gi;return u(n)}function Ur(n){if(!n)return n===0?n:0;if(n=rr(n),n===Q||n===-Q){var s=n<0?-1:1;return s*re}return n===n?n:0}function _e(n){var s=Ur(n),u=s%1;return s===s?u?s-u:s:0}function km(n){return n?Wn(_e(n),0,ae):0}function rr(n){if(typeof n=="number")return n;if(Gt(n))return de;if(ze(n)){var s=typeof n.valueOf=="function"?n.valueOf():n;n=ze(s)?s+"":s}if(typeof n!="string")return n===0?n:+n;n=eg(n);var u=yL.test(n);return u||bL.test(n)?ZL(n.slice(2),u?2:8):vL.test(n)?de:+n}function Mm(n){return Ar(n,kt(n))}function BT(n){return n?Wn(_e(n),-F,F):n===0?n:0}function De(n){return n==null?"":Ut(n)}var qT=Fi(function(n,s){if(Is(s)||Dt(s)){Ar(s,lt(s),n);return}for(var u in s)ke.call(s,u)&&As(n,u,s[u])}),Fm=Fi(function(n,s){Ar(s,kt(s),n)}),Ca=Fi(function(n,s,u,c){Ar(s,kt(s),n,c)}),UT=Fi(function(n,s,u,c){Ar(s,lt(s),n,c)}),GT=Fr($l);function jT(n,s){var u=Mi(n);return s==null?u:gg(u,s)}var WT=Ee(function(n,s){n=Ie(n);var u=-1,c=s.length,m=c>2?s[2]:e;for(m&&Rt(s[0],s[1],m)&&(c=1);++u<c;)for(var _=s[u],x=kt(_),C=-1,O=x.length;++C<O;){var B=x[C],q=n[B];(q===e||vr(q,Ii[B])&&!ke.call(n,B))&&(n[B]=_[B])}return n}),HT=Ee(function(n){return n.push(e,em),Bt(Bm,e,n)});function $T(n,s){return Jd(n,le(s,3),Lr)}function VT(n,s){return Jd(n,le(s,3),Kl)}function KT(n,s){return n==null?n:Vl(n,le(s,3),kt)}function YT(n,s){return n==null?n:bg(n,le(s,3),kt)}function zT(n,s){return n&&Lr(n,le(s,3))}function JT(n,s){return n&&Kl(n,le(s,3))}function XT(n){return n==null?[]:la(n,lt(n))}function ZT(n){return n==null?[]:la(n,kt(n))}function Lf(n,s,u){var c=n==null?e:Hn(n,s);return c===e?u:c}function QT(n,s){return n!=null&&nm(n,s,EC)}function Af(n,s){return n!=null&&nm(n,s,SC)}var e3=zg(function(n,s,u){s!=null&&typeof s.toString!="function"&&(s=Jo.call(s)),n[s]=u},Rf(Mt)),t3=zg(function(n,s,u){s!=null&&typeof s.toString!="function"&&(s=Jo.call(s)),ke.call(n,s)?n[s].push(u):n[s]=[u]},le),r3=Ee(Rs);function lt(n){return Dt(n)?hg(n):Xl(n)}function kt(n){return Dt(n)?hg(n,!0):IC(n)}function n3(n,s){var u={};return s=le(s,3),Lr(n,function(c,m,_){kr(u,s(c,m,_),c)}),u}function i3(n,s){var u={};return s=le(s,3),Lr(n,function(c,m,_){kr(u,m,s(c,m,_))}),u}var s3=Fi(function(n,s,u){fa(n,s,u)}),Bm=Fi(function(n,s,u,c){fa(n,s,u,c)}),o3=Fr(function(n,s){var u={};if(n==null)return u;var c=!1;s=Ve(s,function(_){return _=pn(_,n),c||(c=_.length>1),_}),Ar(n,pf(n),u),c&&(u=Qt(u,h|g|d,eR));for(var m=s.length;m--;)nf(u,s[m]);return u});function a3(n,s){return qm(n,xa(le(s)))}var u3=Fr(function(n,s){return n==null?{}:kC(n,s)});function qm(n,s){if(n==null)return{};var u=Ve(pf(n),function(c){return[c]});return s=le(s),Og(n,u,function(c,m){return s(c,m[0])})}function l3(n,s,u){s=pn(s,n);var c=-1,m=s.length;for(m||(m=1,n=e);++c<m;){var _=n==null?e:n[Cr(s[c])];_===e&&(c=m,_=u),n=qr(_)?_.call(n):_}return n}function f3(n,s,u){return n==null?n:Ts(n,s,u)}function c3(n,s,u,c){return c=typeof c=="function"?c:e,n==null?n:Ts(n,s,u,c)}var Um=Zg(lt),Gm=Zg(kt);function p3(n,s,u){var c=ye(n),m=c||dn(n)||Ui(n);if(s=le(s,4),u==null){var _=n&&n.constructor;m?u=c?new _:[]:ze(n)?u=qr(_)?Mi(Qo(n)):{}:u={}}return(m?Jt:Lr)(n,function(x,C,O){return s(u,x,C,O)}),u}function h3(n,s){return n==null?!0:nf(n,s)}function d3(n,s,u){return n==null?n:kg(n,s,af(u))}function g3(n,s,u,c){return c=typeof c=="function"?c:e,n==null?n:kg(n,s,af(u),c)}function Gi(n){return n==null?[]:Bl(n,lt(n))}function m3(n){return n==null?[]:Bl(n,kt(n))}function v3(n,s,u){return u===e&&(u=s,s=e),u!==e&&(u=rr(u),u=u===u?u:0),s!==e&&(s=rr(s),s=s===s?s:0),Wn(rr(n),s,u)}function y3(n,s,u){return s=Ur(s),u===e?(u=s,s=0):u=Ur(u),n=rr(n),PC(n,s,u)}function _3(n,s,u){if(u&&typeof u!="boolean"&&Rt(n,s,u)&&(s=u=e),u===e&&(typeof s=="boolean"?(u=s,s=e):typeof n=="boolean"&&(u=n,n=e)),n===e&&s===e?(n=0,s=1):(n=Ur(n),s===e?(s=n,n=0):s=Ur(s)),n>s){var c=n;n=s,s=c}if(u||n%1||s%1){var m=cg();return bt(n+m*(s-n+XL("1e-"+((m+"").length-1))),s)}return ef(n,s)}var b3=Bi(function(n,s,u){return s=s.toLowerCase(),n+(u?jm(s):s)});function jm(n){return Cf(De(n).toLowerCase())}function Wm(n){return n=De(n),n&&n.replace(EL,fA).replace(GL,"")}function w3(n,s,u){n=De(n),s=Ut(s);var c=n.length;u=u===e?c:Wn(_e(u),0,c);var m=u;return u-=s.length,u>=0&&n.slice(u,m)==s}function E3(n){return n=De(n),n&&rL.test(n)?n.replace(nn,cA):n}function S3(n){return n=De(n),n&&uL.test(n)?n.replace(El,"\\$&"):n}var P3=Bi(function(n,s,u){return n+(u?"-":"")+s.toLowerCase()}),x3=Bi(function(n,s,u){return n+(u?" ":"")+s.toLowerCase()}),L3=Vg("toLowerCase");function A3(n,s,u){n=De(n),s=_e(s);var c=s?Ni(n):0;if(!s||c>=s)return n;var m=(s-c)/2;return ma(na(m),u)+n+ma(ra(m),u)}function C3(n,s,u){n=De(n),s=_e(s);var c=s?Ni(n):0;return s&&c<s?n+ma(s-c,u):n}function R3(n,s,u){n=De(n),s=_e(s);var c=s?Ni(n):0;return s&&c<s?ma(s-c,u)+n:n}function O3(n,s,u){return u||s==null?s=0:s&&(s=+s),FA(De(n).replace(Sl,""),s||0)}function T3(n,s,u){return(u?Rt(n,s,u):s===e)?s=1:s=_e(s),tf(De(n),s)}function N3(){var n=arguments,s=De(n[0]);return n.length<3?s:s.replace(n[1],n[2])}var I3=Bi(function(n,s,u){return n+(u?"_":"")+s.toLowerCase()});function D3(n,s,u){return u&&typeof u!="number"&&Rt(n,s,u)&&(s=u=e),u=u===e?ae:u>>>0,u?(n=De(n),n&&(typeof s=="string"||s!=null&&!xf(s))&&(s=Ut(s),!s&&Ti(n))?hn(gr(n),0,u):n.split(s,u)):[]}var k3=Bi(function(n,s,u){return n+(u?" ":"")+Cf(s)});function M3(n,s,u){return n=De(n),u=u==null?0:Wn(_e(u),0,n.length),s=Ut(s),n.slice(u,u+s.length)==s}function F3(n,s,u){var c=v.templateSettings;u&&Rt(n,s,u)&&(s=e),n=De(n),s=Ca({},s,c,Qg);var m=Ca({},s.imports,c.imports,Qg),_=lt(m),x=Bl(m,_),C,O,B=0,q=s.interpolate||Go,W="__p += '",X=Ul((s.escape||Go).source+"|"+q.source+"|"+(q===wd?mL:Go).source+"|"+(s.evaluate||Go).source+"|$","g"),oe="//# sourceURL="+(ke.call(s,"sourceURL")?(s.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++VL+"]")+`
`;n.replace(X,function(he,xe,Ae,jt,Ot,Wt){return Ae||(Ae=jt),W+=n.slice(B,Wt).replace(SL,pA),xe&&(C=!0,W+=`' +
__e(`+xe+`) +
'`),Ot&&(O=!0,W+=`';
`+Ot+`;
__p += '`),Ae&&(W+=`' +
((__t = (`+Ae+`)) == null ? '' : __t) +
'`),B=Wt+he.length,he}),W+=`';
`;var pe=ke.call(s,"variable")&&s.variable;if(!pe)W=`with (obj) {
`+W+`
}
`;else if(dL.test(pe))throw new ve(a);W=(O?W.replace(Te,""):W).replace(Be,"$1").replace(qe,"$1;"),W="function("+(pe||"obj")+`) {
`+(pe?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(C?", __e = _.escape":"")+(O?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+W+`return __p
}`;var be=$m(function(){return Ne(_,oe+"return "+W).apply(e,x)});if(be.source=W,Pf(be))throw be;return be}function B3(n){return De(n).toLowerCase()}function q3(n){return De(n).toUpperCase()}function U3(n,s,u){if(n=De(n),n&&(u||s===e))return eg(n);if(!n||!(s=Ut(s)))return n;var c=gr(n),m=gr(s),_=tg(c,m),x=rg(c,m)+1;return hn(c,_,x).join("")}function G3(n,s,u){if(n=De(n),n&&(u||s===e))return n.slice(0,ig(n)+1);if(!n||!(s=Ut(s)))return n;var c=gr(n),m=rg(c,gr(s))+1;return hn(c,0,m).join("")}function j3(n,s,u){if(n=De(n),n&&(u||s===e))return n.replace(Sl,"");if(!n||!(s=Ut(s)))return n;var c=gr(n),m=tg(c,gr(s));return hn(c,m).join("")}function W3(n,s){var u=ue,c=V;if(ze(s)){var m="separator"in s?s.separator:m;u="length"in s?_e(s.length):u,c="omission"in s?Ut(s.omission):c}n=De(n);var _=n.length;if(Ti(n)){var x=gr(n);_=x.length}if(u>=_)return n;var C=u-Ni(c);if(C<1)return c;var O=x?hn(x,0,C).join(""):n.slice(0,C);if(m===e)return O+c;if(x&&(C+=O.length-C),xf(m)){if(n.slice(C).search(m)){var B,q=O;for(m.global||(m=Ul(m.source,De(Ed.exec(m))+"g")),m.lastIndex=0;B=m.exec(q);)var W=B.index;O=O.slice(0,W===e?C:W)}}else if(n.indexOf(Ut(m),C)!=C){var X=O.lastIndexOf(m);X>-1&&(O=O.slice(0,X))}return O+c}function H3(n){return n=De(n),n&&tL.test(n)?n.replace(tt,_A):n}var $3=Bi(function(n,s,u){return n+(u?" ":"")+s.toUpperCase()}),Cf=Vg("toUpperCase");function Hm(n,s,u){return n=De(n),s=u?e:s,s===e?dA(n)?EA(n):sA(n):n.match(s)||[]}var $m=Ee(function(n,s){try{return Bt(n,e,s)}catch(u){return Pf(u)?u:new ve(u)}}),V3=Fr(function(n,s){return Jt(s,function(u){u=Cr(u),kr(n,u,Ef(n[u],n))}),n});function K3(n){var s=n==null?0:n.length,u=le();return n=s?Ve(n,function(c){if(typeof c[1]!="function")throw new Xt(o);return[u(c[0]),c[1]]}):[],Ee(function(c){for(var m=-1;++m<s;){var _=n[m];if(Bt(_[0],this,c))return Bt(_[1],this,c)}})}function Y3(n){return _C(Qt(n,h))}function Rf(n){return function(){return n}}function z3(n,s){return n==null||n!==n?s:n}var J3=Yg(),X3=Yg(!0);function Mt(n){return n}function Of(n){return Pg(typeof n=="function"?n:Qt(n,h))}function Z3(n){return Lg(Qt(n,h))}function Q3(n,s){return Ag(n,Qt(s,h))}var eN=Ee(function(n,s){return function(u){return Rs(u,n,s)}}),tN=Ee(function(n,s){return function(u){return Rs(n,u,s)}});function Tf(n,s,u){var c=lt(s),m=la(s,c);u==null&&!(ze(s)&&(m.length||!c.length))&&(u=s,s=n,n=this,m=la(s,lt(s)));var _=!(ze(u)&&"chain"in u)||!!u.chain,x=qr(n);return Jt(m,function(C){var O=s[C];n[C]=O,x&&(n.prototype[C]=function(){var B=this.__chain__;if(_||B){var q=n(this.__wrapped__),W=q.__actions__=It(this.__actions__);return W.push({func:O,args:arguments,thisArg:n}),q.__chain__=B,q}return O.apply(n,on([this.value()],arguments))})}),n}function rN(){return ut._===this&&(ut._=CA),this}function Nf(){}function nN(n){return n=_e(n),Ee(function(s){return Cg(s,n)})}var iN=lf(Ve),sN=lf(zd),oN=lf(Il);function Vm(n){return mf(n)?Dl(Cr(n)):MC(n)}function aN(n){return function(s){return n==null?e:Hn(n,s)}}var uN=Jg(),lN=Jg(!0);function If(){return[]}function Df(){return!1}function fN(){return{}}function cN(){return""}function pN(){return!0}function hN(n,s){if(n=_e(n),n<1||n>F)return[];var u=ae,c=bt(n,ae);s=le(s),n-=ae;for(var m=Fl(c,s);++u<n;)s(u);return m}function dN(n){return ye(n)?Ve(n,Cr):Gt(n)?[n]:It(pm(De(n)))}function gN(n){var s=++LA;return De(n)+s}var mN=ga(function(n,s){return n+s},0),vN=ff("ceil"),yN=ga(function(n,s){return n/s},1),_N=ff("floor");function bN(n){return n&&n.length?ua(n,Mt,Yl):e}function wN(n,s){return n&&n.length?ua(n,le(s,2),Yl):e}function EN(n){return Zd(n,Mt)}function SN(n,s){return Zd(n,le(s,2))}function PN(n){return n&&n.length?ua(n,Mt,Zl):e}function xN(n,s){return n&&n.length?ua(n,le(s,2),Zl):e}var LN=ga(function(n,s){return n*s},1),AN=ff("round"),CN=ga(function(n,s){return n-s},0);function RN(n){return n&&n.length?Ml(n,Mt):0}function ON(n,s){return n&&n.length?Ml(n,le(s,2)):0}return v.after=ZO,v.ary=Sm,v.assign=qT,v.assignIn=Fm,v.assignInWith=Ca,v.assignWith=UT,v.at=GT,v.before=Pm,v.bind=Ef,v.bindAll=V3,v.bindKey=xm,v.castArray=fT,v.chain=bm,v.chunk=_R,v.compact=bR,v.concat=wR,v.cond=K3,v.conforms=Y3,v.constant=Rf,v.countBy=RO,v.create=jT,v.curry=Lm,v.curryRight=Am,v.debounce=Cm,v.defaults=WT,v.defaultsDeep=HT,v.defer=QO,v.delay=eT,v.difference=ER,v.differenceBy=SR,v.differenceWith=PR,v.drop=xR,v.dropRight=LR,v.dropRightWhile=AR,v.dropWhile=CR,v.fill=RR,v.filter=TO,v.flatMap=DO,v.flatMapDeep=kO,v.flatMapDepth=MO,v.flatten=mm,v.flattenDeep=OR,v.flattenDepth=TR,v.flip=tT,v.flow=J3,v.flowRight=X3,v.fromPairs=NR,v.functions=XT,v.functionsIn=ZT,v.groupBy=FO,v.initial=DR,v.intersection=kR,v.intersectionBy=MR,v.intersectionWith=FR,v.invert=e3,v.invertBy=t3,v.invokeMap=qO,v.iteratee=Of,v.keyBy=UO,v.keys=lt,v.keysIn=kt,v.map=Ea,v.mapKeys=n3,v.mapValues=i3,v.matches=Z3,v.matchesProperty=Q3,v.memoize=Pa,v.merge=s3,v.mergeWith=Bm,v.method=eN,v.methodOf=tN,v.mixin=Tf,v.negate=xa,v.nthArg=nN,v.omit=o3,v.omitBy=a3,v.once=rT,v.orderBy=GO,v.over=iN,v.overArgs=nT,v.overEvery=sN,v.overSome=oN,v.partial=Sf,v.partialRight=Rm,v.partition=jO,v.pick=u3,v.pickBy=qm,v.property=Vm,v.propertyOf=aN,v.pull=GR,v.pullAll=ym,v.pullAllBy=jR,v.pullAllWith=WR,v.pullAt=HR,v.range=uN,v.rangeRight=lN,v.rearg=iT,v.reject=$O,v.remove=$R,v.rest=sT,v.reverse=bf,v.sampleSize=KO,v.set=f3,v.setWith=c3,v.shuffle=YO,v.slice=VR,v.sortBy=XO,v.sortedUniq=QR,v.sortedUniqBy=eO,v.split=D3,v.spread=oT,v.tail=tO,v.take=rO,v.takeRight=nO,v.takeRightWhile=iO,v.takeWhile=sO,v.tap=bO,v.throttle=aT,v.thru=wa,v.toArray=Dm,v.toPairs=Um,v.toPairsIn=Gm,v.toPath=dN,v.toPlainObject=Mm,v.transform=p3,v.unary=uT,v.union=oO,v.unionBy=aO,v.unionWith=uO,v.uniq=lO,v.uniqBy=fO,v.uniqWith=cO,v.unset=h3,v.unzip=wf,v.unzipWith=_m,v.update=d3,v.updateWith=g3,v.values=Gi,v.valuesIn=m3,v.without=pO,v.words=Hm,v.wrap=lT,v.xor=hO,v.xorBy=dO,v.xorWith=gO,v.zip=mO,v.zipObject=vO,v.zipObjectDeep=yO,v.zipWith=_O,v.entries=Um,v.entriesIn=Gm,v.extend=Fm,v.extendWith=Ca,Tf(v,v),v.add=mN,v.attempt=$m,v.camelCase=b3,v.capitalize=jm,v.ceil=vN,v.clamp=v3,v.clone=cT,v.cloneDeep=hT,v.cloneDeepWith=dT,v.cloneWith=pT,v.conformsTo=gT,v.deburr=Wm,v.defaultTo=z3,v.divide=yN,v.endsWith=w3,v.eq=vr,v.escape=E3,v.escapeRegExp=S3,v.every=OO,v.find=NO,v.findIndex=dm,v.findKey=$T,v.findLast=IO,v.findLastIndex=gm,v.findLastKey=VT,v.floor=_N,v.forEach=wm,v.forEachRight=Em,v.forIn=KT,v.forInRight=YT,v.forOwn=zT,v.forOwnRight=JT,v.get=Lf,v.gt=mT,v.gte=vT,v.has=QT,v.hasIn=Af,v.head=vm,v.identity=Mt,v.includes=BO,v.indexOf=IR,v.inRange=y3,v.invoke=r3,v.isArguments=Kn,v.isArray=ye,v.isArrayBuffer=yT,v.isArrayLike=Dt,v.isArrayLikeObject=rt,v.isBoolean=_T,v.isBuffer=dn,v.isDate=bT,v.isElement=wT,v.isEmpty=ET,v.isEqual=ST,v.isEqualWith=PT,v.isError=Pf,v.isFinite=xT,v.isFunction=qr,v.isInteger=Om,v.isLength=La,v.isMap=Tm,v.isMatch=LT,v.isMatchWith=AT,v.isNaN=CT,v.isNative=RT,v.isNil=TT,v.isNull=OT,v.isNumber=Nm,v.isObject=ze,v.isObjectLike=Xe,v.isPlainObject=ks,v.isRegExp=xf,v.isSafeInteger=NT,v.isSet=Im,v.isString=Aa,v.isSymbol=Gt,v.isTypedArray=Ui,v.isUndefined=IT,v.isWeakMap=DT,v.isWeakSet=kT,v.join=BR,v.kebabCase=P3,v.last=tr,v.lastIndexOf=qR,v.lowerCase=x3,v.lowerFirst=L3,v.lt=MT,v.lte=FT,v.max=bN,v.maxBy=wN,v.mean=EN,v.meanBy=SN,v.min=PN,v.minBy=xN,v.stubArray=If,v.stubFalse=Df,v.stubObject=fN,v.stubString=cN,v.stubTrue=pN,v.multiply=LN,v.nth=UR,v.noConflict=rN,v.noop=Nf,v.now=Sa,v.pad=A3,v.padEnd=C3,v.padStart=R3,v.parseInt=O3,v.random=_3,v.reduce=WO,v.reduceRight=HO,v.repeat=T3,v.replace=N3,v.result=l3,v.round=AN,v.runInContext=R,v.sample=VO,v.size=zO,v.snakeCase=I3,v.some=JO,v.sortedIndex=KR,v.sortedIndexBy=YR,v.sortedIndexOf=zR,v.sortedLastIndex=JR,v.sortedLastIndexBy=XR,v.sortedLastIndexOf=ZR,v.startCase=k3,v.startsWith=M3,v.subtract=CN,v.sum=RN,v.sumBy=ON,v.template=F3,v.times=hN,v.toFinite=Ur,v.toInteger=_e,v.toLength=km,v.toLower=B3,v.toNumber=rr,v.toSafeInteger=BT,v.toString=De,v.toUpper=q3,v.trim=U3,v.trimEnd=G3,v.trimStart=j3,v.truncate=W3,v.unescape=H3,v.uniqueId=gN,v.upperCase=$3,v.upperFirst=Cf,v.each=wm,v.eachRight=Em,v.first=vm,Tf(v,function(){var n={};return Lr(v,function(s,u){ke.call(v.prototype,u)||(n[u]=s)}),n}(),{chain:!1}),v.VERSION=t,Jt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(n){v[n].placeholder=v}),Jt(["drop","take"],function(n,s){Le.prototype[n]=function(u){u=u===e?1:at(_e(u),0);var c=this.__filtered__&&!s?new Le(this):this.clone();return c.__filtered__?c.__takeCount__=bt(u,c.__takeCount__):c.__views__.push({size:bt(u,ae),type:n+(c.__dir__<0?"Right":"")}),c},Le.prototype[n+"Right"]=function(u){return this.reverse()[n](u).reverse()}}),Jt(["filter","map","takeWhile"],function(n,s){var u=s+1,c=u==Z||u==K;Le.prototype[n]=function(m){var _=this.clone();return _.__iteratees__.push({iteratee:le(m,3),type:u}),_.__filtered__=_.__filtered__||c,_}}),Jt(["head","last"],function(n,s){var u="take"+(s?"Right":"");Le.prototype[n]=function(){return this[u](1).value()[0]}}),Jt(["initial","tail"],function(n,s){var u="drop"+(s?"":"Right");Le.prototype[n]=function(){return this.__filtered__?new Le(this):this[u](1)}}),Le.prototype.compact=function(){return this.filter(Mt)},Le.prototype.find=function(n){return this.filter(n).head()},Le.prototype.findLast=function(n){return this.reverse().find(n)},Le.prototype.invokeMap=Ee(function(n,s){return typeof n=="function"?new Le(this):this.map(function(u){return Rs(u,n,s)})}),Le.prototype.reject=function(n){return this.filter(xa(le(n)))},Le.prototype.slice=function(n,s){n=_e(n);var u=this;return u.__filtered__&&(n>0||s<0)?new Le(u):(n<0?u=u.takeRight(-n):n&&(u=u.drop(n)),s!==e&&(s=_e(s),u=s<0?u.dropRight(-s):u.take(s-n)),u)},Le.prototype.takeRightWhile=function(n){return this.reverse().takeWhile(n).reverse()},Le.prototype.toArray=function(){return this.take(ae)},Lr(Le.prototype,function(n,s){var u=/^(?:filter|find|map|reject)|While$/.test(s),c=/^(?:head|last)$/.test(s),m=v[c?"take"+(s=="last"?"Right":""):s],_=c||/^find/.test(s);!m||(v.prototype[s]=function(){var x=this.__wrapped__,C=c?[1]:arguments,O=x instanceof Le,B=C[0],q=O||ye(x),W=function(xe){var Ae=m.apply(v,on([xe],C));return c&&X?Ae[0]:Ae};q&&u&&typeof B=="function"&&B.length!=1&&(O=q=!1);var X=this.__chain__,oe=!!this.__actions__.length,pe=_&&!X,be=O&&!oe;if(!_&&q){x=be?x:new Le(this);var he=n.apply(x,C);return he.__actions__.push({func:wa,args:[W],thisArg:e}),new Zt(he,X)}return pe&&be?n.apply(this,C):(he=this.thru(W),pe?c?he.value()[0]:he.value():he)})}),Jt(["pop","push","shift","sort","splice","unshift"],function(n){var s=Ko[n],u=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",c=/^(?:pop|shift)$/.test(n);v.prototype[n]=function(){var m=arguments;if(c&&!this.__chain__){var _=this.value();return s.apply(ye(_)?_:[],m)}return this[u](function(x){return s.apply(ye(x)?x:[],m)})}}),Lr(Le.prototype,function(n,s){var u=v[s];if(u){var c=u.name+"";ke.call(ki,c)||(ki[c]=[]),ki[c].push({name:s,func:u})}}),ki[da(e,A).name]=[{name:"wrapper",func:e}],Le.prototype.clone=HA,Le.prototype.reverse=$A,Le.prototype.value=VA,v.prototype.at=wO,v.prototype.chain=EO,v.prototype.commit=SO,v.prototype.next=PO,v.prototype.plant=LO,v.prototype.reverse=AO,v.prototype.toJSON=v.prototype.valueOf=v.prototype.value=CO,v.prototype.first=v.prototype.head,Es&&(v.prototype[Es]=xO),v},un=SA();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(ut._=un,define(function(){return un})):qn?((qn.exports=un)._=un,Rl._=un):ut._=un}).call(Qi)});var Jy=S((S$,zy)=>{"use strict";var Ht=En(),J5=/()(.+)/gi,X5="# ------------------------ >8 ------------------------";function su(e){let t=e.match(/[^\r\n]/);if(!t)return"";let r=t.index,i=e.length-1;for(;e[i]==="\r"||e[i]===`
`;)i--;return e.substring(r,i+1)}function ui(e,t){return e?e+=`
`+t:e=t,e}function Z5(e){return function(t){return t.charAt(0)!==e}}function Q5(e){let t=e.indexOf(X5);return t===-1?e:e.slice(0,t)}function Yy(e,t){let r=[],i,o,a=e.match(t.references)!==null?t.references:J5;for(;i=a.exec(e);){let l=i[1]||null,f=i[2];for(;o=t.referenceParts.exec(f);){let p=null,h=o[1]||"",g=h.split("/");g.length>1&&(p=g.shift(),h=g.join("/"));let d={action:l,owner:p,repository:h||null,issue:o[3],raw:o[0],prefix:o[2]};r.push(d)}}return r}function eD(){return!0}function tD(e,t,r){if(!e||!e.trim())throw new TypeError("Expected a raw commit");if(Ht.isEmpty(t))throw new TypeError("Expected options");if(Ht.isEmpty(r))throw new TypeError("Expected regex");let i,o,a={},l=typeof t.commentChar=="string"?Z5(t.commentChar):eD,f=H=>!H.match(/^\s*gpg:/),p=su(e).split(/\r?\n/),h=Q5(p).filter(l).filter(f),g=!1,d=!0,y=Ht.map(t.headerCorrespondence,function(H){return H.trim()}),w=Ht.map(t.revertCorrespondence,function(H){return H.trim()}),E=Ht.map(t.mergeCorrespondence,function(H){return H.trim()}),A=null,T=null,I=null,$=[],U=null,k=[],Y=[],J=null;if(h.length===0)return{body:A,footer:T,header:I,mentions:$,merge:U,notes:k,references:Y,revert:J,scope:null,subject:null,type:null};U=h.shift();let z={},ue={};A="",T="";let V=U.match(t.mergePattern);if(V&&t.mergePattern){for(U=V[0],I=h.shift();I!==void 0&&!I.trim();)I=h.shift();I||(I=""),Ht.forEach(E,function(H,K){let Q=V[K+1]||null;z[H]=Q})}else I=U,U=null,Ht.forEach(E,function(H){z[H]=null});let te=I.match(t.headerPattern);if(te?Ht.forEach(y,function(H,K){let Q=te[K+1]||null;ue[H]=Q}):Ht.forEach(y,function(H){ue[H]=null}),Array.prototype.push.apply(Y,Yy(I,{references:r.references,referenceParts:r.referenceParts})),Ht.forEach(h,function(H){if(t.fieldPattern){let re=t.fieldPattern.exec(H);if(re){i=re[1];return}if(i){a[i]=ui(a[i],H);return}}let K,Q=H.match(r.notes);if(Q){g=!0,d=!1,T=ui(T,H);let re={title:Q[1],text:Q[2]};k.push(re);return}let F=Yy(H,{references:r.references,referenceParts:r.referenceParts});if(F.length>0&&(d=!1,K=!0,g=!1),Array.prototype.push.apply(Y,F),K){T=ui(T,H);return}if(g){k[k.length-1].text=ui(k[k.length-1].text,H),T=ui(T,H);return}d?A=ui(A,H):T=ui(T,H)}),t.breakingHeaderPattern&&k.length===0){let H=I.match(t.breakingHeaderPattern);if(H){let K=H[3];k.push({title:"BREAKING CHANGE",text:K})}}for(;o=r.mentions.exec(e);)$.push(o[1]);let P=e.match(t.revertPattern);return P?(J={},Ht.forEach(w,function(H,K){let Q=P[K+1]||null;J[H]=Q})):J=null,Ht.map(k,function(H){return H.text=su(H.text),H}),Ht.merge(ue,z,{merge:U,header:I,body:A?su(A):null,footer:T?su(T):null,notes:k,references:Y,mentions:$,revert:J},a)}zy.exports=tD});var Qy=S((P$,Zy)=>{"use strict";var Xy=/(?!.*)/;function Bc(e,t){return e.map(function(r){return r.trim()}).filter(function(r){return r.length}).join(t)}function rD(e,t){if(!e)return Xy;let r=Bc(e,"|");return t?t(r):new RegExp("^[\\s|*]*("+r+")[:\\s]+(.*)","i")}function nD(e,t){if(!e)return Xy;let r=t?"g":"gi";return new RegExp("(?:.*?)??\\s*([\\w-\\.\\/]*?)??("+Bc(e,"|")+")([\\w-]*\\d+)",r)}function iD(e){if(!e)return/()(.+)/gi;let t=Bc(e,"|");return new RegExp("("+t+")(?:\\s+(.*?))(?=(?:"+t+")|$)","gi")}Zy.exports=function(e){e=e||{};let t=rD(e.noteKeywords,e.notesPattern),r=nD(e.issuePrefixes,e.issuePrefixesCaseSensitive),i=iD(e.referenceActions);return{notes:t,referenceParts:r,references:i,mentions:/@([\w-]+)/g}}});var eo=S((x$,au)=>{var{Transform:ou}=Ka();function sD(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function qc(e){return(t,r,i)=>(typeof t=="function"&&(i=r,r=t,t={}),typeof r!="function"&&(r=(o,a,l)=>l(null,o)),typeof i!="function"&&(i=null),e(t,r,i))}var oD=qc((e,t,r)=>{let i=new ou(e);return i._transform=t,r&&(i._flush=r),i}),aD=qc((e,t,r)=>{function i(o){if(!(this instanceof i))return new i(o);this.options=Object.assign({},e,o),ou.call(this,this.options),this._transform=t,r&&(this._flush=r)}return sD(i,ou),i}),uD=qc(function(e,t,r){let i=new ou(Object.assign({objectMode:!0,highWaterMark:16},e));return i._transform=t,r&&(i._flush=r),i});au.exports=oD;au.exports.ctor=aD;au.exports.obj=uD});var Gc=S((L$,Uc)=>{"use strict";var e1=Jy(),t1=Qy(),lD=eo(),fD=En();function r1(e){return e=fD.extend({headerPattern:/^(\w*)(?:\(([\w$.\-*/ ]*)\))?: (.*)$/,headerCorrespondence:["type","scope","subject"],referenceActions:["close","closes","closed","fix","fixes","fixed","resolve","resolves","resolved"],issuePrefixes:["#"],noteKeywords:["BREAKING CHANGE","BREAKING-CHANGE"],fieldPattern:/^-(.*?)-$/,revertPattern:/^Revert\s"([\s\S]*)"\s*This reverts commit (\w*)\./,revertCorrespondence:["header","hash"],warn:function(){},mergePattern:null,mergeCorrespondence:null},e),typeof e.headerPattern=="string"&&(e.headerPattern=new RegExp(e.headerPattern)),typeof e.headerCorrespondence=="string"&&(e.headerCorrespondence=e.headerCorrespondence.split(",")),typeof e.referenceActions=="string"&&(e.referenceActions=e.referenceActions.split(",")),typeof e.issuePrefixes=="string"&&(e.issuePrefixes=e.issuePrefixes.split(",")),typeof e.noteKeywords=="string"&&(e.noteKeywords=e.noteKeywords.split(",")),typeof e.fieldPattern=="string"&&(e.fieldPattern=new RegExp(e.fieldPattern)),typeof e.revertPattern=="string"&&(e.revertPattern=new RegExp(e.revertPattern)),typeof e.revertCorrespondence=="string"&&(e.revertCorrespondence=e.revertCorrespondence.split(",")),typeof e.mergePattern=="string"&&(e.mergePattern=new RegExp(e.mergePattern)),e}function cD(e){e=r1(e);let t=t1(e);return lD.obj(function(r,i,o){let a;try{a=e1(r.toString(),e,t),o(null,a)}catch(l){e.warn===!0?o(l):(e.warn(l.toString()),o(null,""))}})}function pD(e,t){t=r1(t);let r=t1(t);return e1(e,t,r)}Uc.exports=cD;Uc.exports.sync=pD});var Wc=S((A$,jc)=>{"use strict";var n1=G("path");jc.exports=i1(G);jc.exports.presetLoader=i1;function i1(e){return t=>{let r="",i="",o="";if(typeof t=="string")r=t.toLowerCase(),n1.isAbsolute(t)&&(o=t);else if(typeof t=="object"&&t.name)r=t.name.toLowerCase(),n1.isAbsolute(t.name)&&(o=t.name);else throw Error("preset must be string or object with key name");if(!o){if(r[0]==="@"){let a=r.split("/");i=a.shift()+"/",r=a.join("/")}r.startsWith("conventional-changelog-")||(r=`conventional-changelog-${r}`)}try{let a=e(o||`${i}${r}`);return a&&!a.then&&typeof t=="object"?a(t):a}catch(a){throw Error("does not exist")}}}});var Hc=S((C$,o1)=>{"use strict";var hD=G("process"),dD=G("child_process").exec,s1=G("semver").valid,gD=/tag:\s*(.+?)[,)]/gi,mD="git log --decorate --no-color",vD=/.+-\w+\.\d+$/;function yD(e,t){return t&&!new RegExp("^"+t+"@").test(e)?!1:/^.+@[0-9]+\.[0-9]+\.[0-9]+(-.+)?$/.test(e)}o1.exports=function(t,r){typeof t=="function"&&(r=t,t={});let i=Object.assign({maxBuffer:Infinity,cwd:hD.cwd()},t);if(i.package&&!i.lernaTags){r(new Error("opts.package should only be used when running in lerna mode"));return}dD(mD,i,function(o,a){if(o){r(o);return}let l=[],f;i.tagPrefix&&(f=new RegExp("^"+i.tagPrefix+"(.*)")),a.split(`
`).forEach(function(p){let h;for(;h=gD.exec(p);){let g=h[1];if(!(i.skipUnstable&&vD.test(g)))if(i.lernaTags)yD(g,i.package)&&l.push(g);else if(i.tagPrefix){let d=g.match(f);d&&s1(d[1])&&l.push(g)}else s1(g)&&l.push(g)}}),r(null,l)})}});var l1=S((R$,u1)=>{"use strict";var a1=(e,t)=>e.some(r=>r instanceof RegExp?r.test(t):r===t),_D=(e,t)=>{let r=[],i=[],o=[];t=_r({useEquals:!0,shortFlag:!0},t);let a=(f,p)=>{let h=t.shortFlag&&f.length===1?"-":"--",g=t.allowCamelCase?f:f.replace(/[A-Z]/g,"-$&").toLowerCase();f=h+g,t.useEquals?r.push(f+(p?`=${p}`:"")):(r.push(f),p&&r.push(p))},l=(f,p)=>{r.push(`-${f}`),p&&r.push(p)};for(let[f,p]of Object.entries(e)){let h=a;if(!(Array.isArray(t.excludes)&&a1(t.excludes,f))&&!(Array.isArray(t.includes)&&!a1(t.includes,f))){if(typeof t.aliases=="object"&&t.aliases[f]&&(f=t.aliases[f],h=l),f==="--"){if(!Array.isArray(p))throw new TypeError(`Expected key \`--\` to be Array, got ${typeof p}`);o=p;continue}if(f==="_"){if(!Array.isArray(p))throw new TypeError(`Expected key \`_\` to be Array, got ${typeof p}`);i=p;continue}if(p===!0&&h(f,""),p===!1&&!t.ignoreFalse&&h(`no-${f}`),typeof p=="string"&&h(f,p),typeof p=="number"&&!Number.isNaN(p)&&h(f,String(p)),Array.isArray(p))for(let g of p)h(f,g)}}for(let f of i)r.push(String(f));o.length>0&&r.push("--");for(let f of o)r.push(String(f));return r};u1.exports=_D});var h1=S((O$,p1)=>{"use strict";var{Transform:bD}=Ka(),{StringDecoder:wD}=G("string_decoder"),Sn=Symbol("last"),uu=Symbol("decoder");function ED(e,t,r){var i;if(this.overflow){var o=this[uu].write(e);if(i=o.split(this.matcher),i.length===1)return r();i.shift(),this.overflow=!1}else this[Sn]+=this[uu].write(e),i=this[Sn].split(this.matcher);this[Sn]=i.pop();for(var a=0;a<i.length;a++)try{f1(this,this.mapper(i[a]))}catch(l){return r(l)}if(this.overflow=this[Sn].length>this.maxLength,this.overflow&&!this.skipOverflow)return r(new Error("maximum buffer reached"));r()}function SD(e){if(this[Sn]+=this[uu].end(),this[Sn])try{f1(this,this.mapper(this[Sn]))}catch(t){return e(t)}e()}function f1(e,t){t!==void 0&&e.push(t)}function c1(e){return e}function PD(e,t,r){switch(e=e||/\r?\n/,t=t||c1,r=r||{},arguments.length){case 1:typeof e=="function"?(t=e,e=/\r?\n/):typeof e=="object"&&!(e instanceof RegExp)&&(r=e,e=/\r?\n/);break;case 2:typeof e=="function"?(r=t,t=e,e=/\r?\n/):typeof t=="object"&&(r=t,t=c1)}r=Object.assign({},r),r.transform=ED,r.flush=SD,r.readableObjectMode=!0;let i=new bD(r);return i[Sn]="",i[uu]=new wD("utf8"),i.matcher=e,i.mapper=t,i.maxLength=r.maxLength,i.skipOverflow=r.skipOverflow,i.overflow=!1,i}p1.exports=PD});var $c=S((T$,d1)=>{var xD=typeof global=="object"&&global&&global.Object===Object&&global;d1.exports=xD});var lu=S((N$,g1)=>{var LD=$c(),AD=typeof self=="object"&&self&&self.Object===Object&&self,CD=LD||AD||Function("return this")();g1.exports=CD});var fu=S((I$,m1)=>{var RD=lu(),OD=RD.Symbol;m1.exports=OD});var b1=S((D$,_1)=>{var v1=fu(),y1=Object.prototype,TD=y1.hasOwnProperty,ND=y1.toString,to=v1?v1.toStringTag:void 0;function ID(e){var t=TD.call(e,to),r=e[to];try{e[to]=void 0;var i=!0}catch(a){}var o=ND.call(e);return i&&(t?e[to]=r:delete e[to]),o}_1.exports=ID});var E1=S((k$,w1)=>{var DD=Object.prototype,kD=DD.toString;function MD(e){return kD.call(e)}w1.exports=MD});var li=S((M$,x1)=>{var S1=fu(),FD=b1(),BD=E1(),qD="[object Null]",UD="[object Undefined]",P1=S1?S1.toStringTag:void 0;function GD(e){return e==null?e===void 0?UD:qD:P1&&P1 in Object(e)?FD(e):BD(e)}x1.exports=GD});var ro=S((F$,L1)=>{function jD(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}L1.exports=jD});var Vc=S((B$,A1)=>{var WD=li(),HD=ro(),$D="[object AsyncFunction]",VD="[object Function]",KD="[object GeneratorFunction]",YD="[object Proxy]";function zD(e){if(!HD(e))return!1;var t=WD(e);return t==VD||t==KD||t==$D||t==YD}A1.exports=zD});var R1=S((q$,C1)=>{var JD=lu(),XD=JD["__core-js_shared__"];C1.exports=XD});var N1=S((U$,T1)=>{var Kc=R1(),O1=function(){var e=/[^.]+$/.exec(Kc&&Kc.keys&&Kc.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function ZD(e){return!!O1&&O1 in e}T1.exports=ZD});var D1=S((G$,I1)=>{var QD=Function.prototype,ek=QD.toString;function tk(e){if(e!=null){try{return ek.call(e)}catch(t){}try{return e+""}catch(t){}}return""}I1.exports=tk});var M1=S((j$,k1)=>{var rk=Vc(),nk=N1(),ik=ro(),sk=D1(),ok=/[\\^$.*+?()[\]{}|]/g,ak=/^\[object .+?Constructor\]$/,uk=Function.prototype,lk=Object.prototype,fk=uk.toString,ck=lk.hasOwnProperty,pk=RegExp("^"+fk.call(ck).replace(ok,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function hk(e){if(!ik(e)||nk(e))return!1;var t=rk(e)?pk:ak;return t.test(sk(e))}k1.exports=hk});var B1=S((W$,F1)=>{function dk(e,t){return e==null?void 0:e[t]}F1.exports=dk});var U1=S((H$,q1)=>{var gk=M1(),mk=B1();function vk(e,t){var r=mk(e,t);return gk(r)?r:void 0}q1.exports=vk});var Yc=S(($$,G1)=>{var yk=U1(),_k=function(){try{var e=yk(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();G1.exports=_k});var zc=S((V$,W1)=>{var j1=Yc();function bk(e,t,r){t=="__proto__"&&j1?j1(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}W1.exports=bk});var cu=S((K$,H1)=>{function wk(e,t){return e===t||e!==e&&t!==t}H1.exports=wk});var V1=S((Y$,$1)=>{var Ek=zc(),Sk=cu(),Pk=Object.prototype,xk=Pk.hasOwnProperty;function Lk(e,t,r){var i=e[t];(!(xk.call(e,t)&&Sk(i,r))||r===void 0&&!(t in e))&&Ek(e,t,r)}$1.exports=Lk});var Y1=S((z$,K1)=>{var Ak=V1(),Ck=zc();function Rk(e,t,r,i){var o=!r;r||(r={});for(var a=-1,l=t.length;++a<l;){var f=t[a],p=i?i(r[f],e[f],f,r,e):void 0;p===void 0&&(p=e[f]),o?Ck(r,f,p):Ak(r,f,p)}return r}K1.exports=Rk});var Jc=S((J$,z1)=>{function Ok(e){return e}z1.exports=Ok});var Xc=S((X$,J1)=>{function Tk(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}J1.exports=Tk});var Q1=S((Z$,Z1)=>{var Nk=Xc(),X1=Math.max;function Ik(e,t,r){return t=X1(t===void 0?e.length-1:t,0),function(){for(var i=arguments,o=-1,a=X1(i.length-t,0),l=Array(a);++o<a;)l[o]=i[t+o];o=-1;for(var f=Array(t+1);++o<t;)f[o]=i[o];return f[t]=r(l),Nk(e,this,f)}}Z1.exports=Ik});var t_=S((Q$,e_)=>{function Dk(e){return function(){return e}}e_.exports=Dk});var i_=S((eV,n_)=>{var kk=t_(),r_=Yc(),Mk=Jc(),Fk=r_?function(e,t){return r_(e,"toString",{configurable:!0,enumerable:!1,value:kk(t),writable:!0})}:Mk;n_.exports=Fk});var o_=S((tV,s_)=>{var Bk=800,qk=16,Uk=Date.now;function Gk(e){var t=0,r=0;return function(){var i=Uk(),o=qk-(i-r);if(r=i,o>0){if(++t>=Bk)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}s_.exports=Gk});var u_=S((rV,a_)=>{var jk=i_(),Wk=o_(),Hk=Wk(jk);a_.exports=Hk});var Zc=S((nV,l_)=>{var $k=Jc(),Vk=Q1(),Kk=u_();function Yk(e,t){return Kk(Vk(e,t,$k),e+"")}l_.exports=Yk});var Qc=S((iV,f_)=>{var zk=9007199254740991;function Jk(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=zk}f_.exports=Jk});var pu=S((sV,c_)=>{var Xk=Vc(),Zk=Qc();function Qk(e){return e!=null&&Zk(e.length)&&!Xk(e)}c_.exports=Qk});var ep=S((oV,p_)=>{var eM=9007199254740991,tM=/^(?:0|[1-9]\d*)$/;function rM(e,t){var r=typeof e;return t=t==null?eM:t,!!t&&(r=="number"||r!="symbol"&&tM.test(e))&&e>-1&&e%1==0&&e<t}p_.exports=rM});var tp=S((aV,h_)=>{var nM=cu(),iM=pu(),sM=ep(),oM=ro();function aM(e,t,r){if(!oM(r))return!1;var i=typeof t;return(i=="number"?iM(r)&&sM(t,r.length):i=="string"&&t in r)?nM(r[t],e):!1}h_.exports=aM});var g_=S((uV,d_)=>{var uM=Zc(),lM=tp();function fM(e){return uM(function(t,r){var i=-1,o=r.length,a=o>1?r[o-1]:void 0,l=o>2?r[2]:void 0;for(a=e.length>3&&typeof a=="function"?(o--,a):void 0,l&&lM(r[0],r[1],l)&&(a=o<3?void 0:a,o=1),t=Object(t);++i<o;){var f=r[i];f&&e(t,f,i,a)}return t})}d_.exports=fM});var v_=S((lV,m_)=>{function cM(e,t){for(var r=-1,i=Array(e);++r<e;)i[r]=t(r);return i}m_.exports=cM});var fi=S((fV,y_)=>{function pM(e){return e!=null&&typeof e=="object"}y_.exports=pM});var b_=S((cV,__)=>{var hM=li(),dM=fi(),gM="[object Arguments]";function mM(e){return dM(e)&&hM(e)==gM}__.exports=mM});var P_=S((pV,S_)=>{var w_=b_(),vM=fi(),E_=Object.prototype,yM=E_.hasOwnProperty,_M=E_.propertyIsEnumerable,bM=w_(function(){return arguments}())?w_:function(e){return vM(e)&&yM.call(e,"callee")&&!_M.call(e,"callee")};S_.exports=bM});var rp=S((hV,x_)=>{var wM=Array.isArray;x_.exports=wM});var A_=S((dV,L_)=>{function EM(){return!1}L_.exports=EM});var T_=S((no,es)=>{var SM=lu(),PM=A_(),C_=typeof no=="object"&&no&&!no.nodeType&&no,R_=C_&&typeof es=="object"&&es&&!es.nodeType&&es,xM=R_&&R_.exports===C_,O_=xM?SM.Buffer:void 0,LM=O_?O_.isBuffer:void 0,AM=LM||PM;es.exports=AM});var I_=S((gV,N_)=>{var CM=li(),RM=Qc(),OM=fi(),TM="[object Arguments]",NM="[object Array]",IM="[object Boolean]",DM="[object Date]",kM="[object Error]",MM="[object Function]",FM="[object Map]",BM="[object Number]",qM="[object Object]",UM="[object RegExp]",GM="[object Set]",jM="[object String]",WM="[object WeakMap]",HM="[object ArrayBuffer]",$M="[object DataView]",VM="[object Float32Array]",KM="[object Float64Array]",YM="[object Int8Array]",zM="[object Int16Array]",JM="[object Int32Array]",XM="[object Uint8Array]",ZM="[object Uint8ClampedArray]",QM="[object Uint16Array]",e6="[object Uint32Array]",He={};He[VM]=He[KM]=He[YM]=He[zM]=He[JM]=He[XM]=He[ZM]=He[QM]=He[e6]=!0;He[TM]=He[NM]=He[HM]=He[IM]=He[$M]=He[DM]=He[kM]=He[MM]=He[FM]=He[BM]=He[qM]=He[UM]=He[GM]=He[jM]=He[WM]=!1;function t6(e){return OM(e)&&RM(e.length)&&!!He[CM(e)]}N_.exports=t6});var k_=S((mV,D_)=>{function r6(e){return function(t){return e(t)}}D_.exports=r6});var F_=S((so,ts)=>{var n6=$c(),M_=typeof so=="object"&&so&&!so.nodeType&&so,io=M_&&typeof ts=="object"&&ts&&!ts.nodeType&&ts,i6=io&&io.exports===M_,np=i6&&n6.process,s6=function(){try{var e=io&&io.require&&io.require("util").types;return e||np&&np.binding&&np.binding("util")}catch(t){}}();ts.exports=s6});var G_=S((vV,U_)=>{var o6=I_(),a6=k_(),B_=F_(),q_=B_&&B_.isTypedArray,u6=q_?a6(q_):o6;U_.exports=u6});var ip=S((yV,j_)=>{var l6=v_(),f6=P_(),c6=rp(),p6=T_(),h6=ep(),d6=G_(),g6=Object.prototype,m6=g6.hasOwnProperty;function v6(e,t){var r=c6(e),i=!r&&f6(e),o=!r&&!i&&p6(e),a=!r&&!i&&!o&&d6(e),l=r||i||o||a,f=l?l6(e.length,String):[],p=f.length;for(var h in e)(t||m6.call(e,h))&&!(l&&(h=="length"||o&&(h=="offset"||h=="parent")||a&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||h6(h,p)))&&f.push(h);return f}j_.exports=v6});var sp=S((_V,W_)=>{var y6=Object.prototype;function _6(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||y6;return e===r}W_.exports=_6});var $_=S((bV,H_)=>{function b6(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}H_.exports=b6});var K_=S((wV,V_)=>{var w6=ro(),E6=sp(),S6=$_(),P6=Object.prototype,x6=P6.hasOwnProperty;function L6(e){if(!w6(e))return S6(e);var t=E6(e),r=[];for(var i in e)i=="constructor"&&(t||!x6.call(e,i))||r.push(i);return r}V_.exports=L6});var z_=S((EV,Y_)=>{var A6=ip(),C6=K_(),R6=pu();function O6(e){return R6(e)?A6(e,!0):C6(e)}Y_.exports=O6});var X_=S((SV,J_)=>{var T6=Y1(),N6=g_(),I6=z_(),D6=N6(function(e,t,r,i){T6(t,I6(t),e,i)});J_.exports=D6});var op=S((PV,Z_)=>{function k6(e,t){return function(r){return e(t(r))}}Z_.exports=k6});var e0=S((xV,Q_)=>{var M6=op(),F6=M6(Object.getPrototypeOf,Object);Q_.exports=F6});var n0=S((LV,r0)=>{var B6=li(),q6=e0(),U6=fi(),G6="[object Object]",j6=Function.prototype,W6=Object.prototype,t0=j6.toString,H6=W6.hasOwnProperty,$6=t0.call(Object);function V6(e){if(!U6(e)||B6(e)!=G6)return!1;var t=q6(e);if(t===null)return!0;var r=H6.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&t0.call(r)==$6}r0.exports=V6});var ap=S((AV,i0)=>{var K6=li(),Y6=fi(),z6=n0(),J6="[object DOMException]",X6="[object Error]";function Z6(e){if(!Y6(e))return!1;var t=K6(e);return t==X6||t==J6||typeof e.message=="string"&&typeof e.name=="string"&&!z6(e)}i0.exports=Z6});var o0=S((CV,s0)=>{var Q6=Xc(),eF=Zc(),tF=ap(),rF=eF(function(e,t){try{return Q6(e,void 0,t)}catch(r){return tF(r)?r:new Error(r)}});s0.exports=rF});var up=S((RV,a0)=>{function nF(e,t){for(var r=-1,i=e==null?0:e.length,o=Array(i);++r<i;)o[r]=t(e[r],r,e);return o}a0.exports=nF});var l0=S((OV,u0)=>{var iF=up();function sF(e,t){return iF(t,function(r){return e[r]})}u0.exports=sF});var p0=S((TV,c0)=>{var oF=cu(),f0=Object.prototype,aF=f0.hasOwnProperty;function uF(e,t,r,i){return e===void 0||oF(e,f0[r])&&!aF.call(i,r)?t:e}c0.exports=uF});var d0=S((NV,h0)=>{var lF={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function fF(e){return"\\"+lF[e]}h0.exports=fF});var m0=S((IV,g0)=>{var cF=op(),pF=cF(Object.keys,Object);g0.exports=pF});var y0=S((DV,v0)=>{var hF=sp(),dF=m0(),gF=Object.prototype,mF=gF.hasOwnProperty;function vF(e){if(!hF(e))return dF(e);var t=[];for(var r in Object(e))mF.call(e,r)&&r!="constructor"&&t.push(r);return t}v0.exports=vF});var b0=S((kV,_0)=>{var yF=ip(),_F=y0(),bF=pu();function wF(e){return bF(e)?yF(e):_F(e)}_0.exports=wF});var lp=S((MV,w0)=>{var EF=/<%=([\s\S]+?)%>/g;w0.exports=EF});var S0=S((FV,E0)=>{function SF(e){return function(t){return e==null?void 0:e[t]}}E0.exports=SF});var x0=S((BV,P0)=>{var PF=S0(),xF={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},LF=PF(xF);P0.exports=LF});var A0=S((qV,L0)=>{var AF=li(),CF=fi(),RF="[object Symbol]";function OF(e){return typeof e=="symbol"||CF(e)&&AF(e)==RF}L0.exports=OF});var I0=S((UV,N0)=>{var C0=fu(),TF=up(),NF=rp(),IF=A0(),DF=1/0,R0=C0?C0.prototype:void 0,O0=R0?R0.toString:void 0;function T0(e){if(typeof e=="string")return e;if(NF(e))return TF(e,T0)+"";if(IF(e))return O0?O0.call(e):"";var t=e+"";return t=="0"&&1/e==-DF?"-0":t}N0.exports=T0});var fp=S((GV,D0)=>{var kF=I0();function MF(e){return e==null?"":kF(e)}D0.exports=MF});var F0=S((jV,M0)=>{var FF=x0(),BF=fp(),k0=/[&<>"']/g,qF=RegExp(k0.source);function UF(e){return e=BF(e),e&&qF.test(e)?e.replace(k0,FF):e}M0.exports=UF});var q0=S((WV,B0)=>{var GF=/<%-([\s\S]+?)%>/g;B0.exports=GF});var G0=S((HV,U0)=>{var jF=/<%([\s\S]+?)%>/g;U0.exports=jF});var W0=S(($V,j0)=>{var WF=F0(),HF=q0(),$F=G0(),VF=lp(),KF={escape:HF,evaluate:$F,interpolate:VF,variable:"",imports:{_:{escape:WF}}};j0.exports=KF});var z0=S((VV,Y0)=>{var H0=X_(),YF=o0(),zF=l0(),$0=p0(),JF=d0(),XF=ap(),ZF=tp(),QF=b0(),eB=lp(),V0=W0(),tB=fp(),rB="Invalid `variable` option passed into `_.template`",nB=/\b__p \+= '';/g,iB=/\b(__p \+=) '' \+/g,sB=/(__e\(.*?\)|\b__t\)) \+\n'';/g,oB=/[()=,{}\[\]\/\s]/,aB=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,hu=/($^)/,uB=/['\n\r\u2028\u2029\\]/g,lB=Object.prototype,K0=lB.hasOwnProperty;function fB(e,t,r){var i=V0.imports._.templateSettings||V0;r&&ZF(e,t,r)&&(t=void 0),e=tB(e),t=H0({},t,i,$0);var o=H0({},t.imports,i.imports,$0),a=QF(o),l=zF(o,a),f,p,h=0,g=t.interpolate||hu,d="__p += '",y=RegExp((t.escape||hu).source+"|"+g.source+"|"+(g===eB?aB:hu).source+"|"+(t.evaluate||hu).source+"|$","g"),w=K0.call(t,"sourceURL")?"//# sourceURL="+(t.sourceURL+"").replace(/\s/g," ")+`
`:"";e.replace(y,function(T,I,$,U,k,Y){return $||($=U),d+=e.slice(h,Y).replace(uB,JF),I&&(f=!0,d+=`' +
__e(`+I+`) +
'`),k&&(p=!0,d+=`';
`+k+`;
__p += '`),$&&(d+=`' +
((__t = (`+$+`)) == null ? '' : __t) +
'`),h=Y+T.length,T}),d+=`';
`;var E=K0.call(t,"variable")&&t.variable;if(!E)d=`with (obj) {
`+d+`
}
`;else if(oB.test(E))throw new Error(rB);d=(p?d.replace(nB,""):d).replace(iB,"$1").replace(sB,"$1;"),d="function("+(E||"obj")+`) {
`+(E?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(f?", __e = _.escape":"")+(p?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+d+`return __p
}`;var A=YF(function(){return Function(a,w+"return "+d).apply(void 0,l)});if(A.source=d,XF(A))throw A;return A}Y0.exports=fB});var cp=S((KV,Z0)=>{"use strict";var cB=l1(),pB=G("child_process").execFile,hB=h1(),dB=G("stream"),gB=z0(),J0=eo(),X0="------------------------ >8 ------------------------";function mB(e){return e=e||{},e.cwd=e.cwd||process.cwd(),e}function vB(e){return e=e||{},e.format=e.format||"%B",e.from=e.from||"",e.to=e.to||"HEAD",e}function yB(e){let t=gB("--format=<%= format %>%n"+X0)(e),r=[e.from,e.to].filter(Boolean).join(".."),i=["log",t,r].concat(cB(e,{excludes:["debug","from","to","format","path"]}));return e.path&&i.push("--",e.path),i}function _B(e,t){let r=new dB.Readable;r._read=function(){};let i=vB(e),o=mB(t),a=yB(i);i.debug&&i.debug(`Your git-log command is:
git `+a.join(" "));let l=!1,f=pB("git",a,{cwd:o.cwd,maxBuffer:Infinity});return f.stdout.pipe(hB(X0+`
`)).pipe(J0(function(p,h,g){r.push(p),l=!1,g()},function(p){setImmediate(function(){l||(r.push(null),r.emit("close")),p()})})),f.stderr.pipe(J0.obj(function(p){l=!0,r.emit("error",new Error(p)),r.emit("close")})),r}Z0.exports=_B});var rs=S((Q0,pp)=>{(function(e){"use strict";if(typeof bootstrap=="function")bootstrap("promise",e);else if(typeof Q0=="object"&&typeof pp=="object")pp.exports=e();else if(typeof define=="function"&&define.amd)define(e);else if(typeof ses!="undefined")if(ses.ok())ses.makeQ=e;else return;else if(typeof window!="undefined"||typeof self!="undefined"){var t=typeof window!="undefined"?window:self,r=t.Q;t.Q=e(),t.Q.noConflict=function(){return t.Q=r,this}}else throw new Error("This environment was not anticipated by Q. Please file a bug.")})(function(){"use strict";var e=!1;try{throw new Error}catch(b){e=!!b.stack}var t=V(),r,i=function(){},o=function(){var b={task:void 0,next:null},L=b,N=!1,j=void 0,fe=!1,me=[];function ce(){for(var qe,tt;b.next;)b=b.next,qe=b.task,b.task=void 0,tt=b.domain,tt&&(b.domain=void 0,tt.enter()),Fe(qe,tt);for(;me.length;)qe=me.pop(),Fe(qe);N=!1}function Fe(qe,tt){try{qe()}catch(nn){if(fe)throw tt&&tt.exit(),setTimeout(ce,0),tt&&tt.enter(),nn;setTimeout(function(){throw nn},0)}tt&&tt.exit()}if(o=function(qe){L=L.next={task:qe,domain:fe&&process.domain,next:null},N||(N=!0,j())},typeof process=="object"&&process.toString()==="[object process]"&&process.nextTick)fe=!0,j=function(){process.nextTick(ce)};else if(typeof setImmediate=="function")typeof window!="undefined"?j=setImmediate.bind(window,ce):j=function(){setImmediate(ce)};else if(typeof MessageChannel!="undefined"){var Te=new MessageChannel;Te.port1.onmessage=function(){j=Be,Te.port1.onmessage=ce,ce()};var Be=function(){Te.port2.postMessage(0)};j=function(){setTimeout(ce,0),Be()}}else j=function(){setTimeout(ce,0)};return o.runAfter=function(qe){me.push(qe),N||(N=!0,j())},o}(),a=Function.call;function l(b){return function(){return a.apply(b,arguments)}}var f=l(Array.prototype.slice),p=l(Array.prototype.reduce||function(b,L){var N=0,j=this.length;if(arguments.length===1)do{if(N in this){L=this[N++];break}if(++N>=j)throw new TypeError}while(1);for(;N<j;N++)N in this&&(L=b(L,this[N],N));return L}),h=l(Array.prototype.indexOf||function(b){for(var L=0;L<this.length;L++)if(this[L]===b)return L;return-1}),g=l(Array.prototype.map||function(b,L){var N=this,j=[];return p(N,function(fe,me,ce){j.push(b.call(L,me,ce,N))},void 0),j}),d=Object.create||function(b){function L(){}return L.prototype=b,new L},y=Object.defineProperty||function(b,L,N){return b[L]=N.value,b},w=l(Object.prototype.hasOwnProperty),E=Object.keys||function(b){var L=[];for(var N in b)w(b,N)&&L.push(N);return L},A=l(Object.prototype.toString);function T(b){return b===Object(b)}function I(b){return A(b)==="[object StopIteration]"||b instanceof $}var $;typeof ReturnValue!="undefined"?$=ReturnValue:$=function(b){this.value=b};var U="From previous event:";function k(b,L){if(e&&L.stack&&typeof b=="object"&&b!==null&&b.stack){for(var N=[],j=L;j;j=j.source)j.stack&&(!b.__minimumStackCounter__||b.__minimumStackCounter__>j.stackCounter)&&(y(b,"__minimumStackCounter__",{value:j.stackCounter,configurable:!0}),N.unshift(j.stack));N.unshift(b.stack);var fe=N.join(`
`+U+`
`),me=Y(fe);y(b,"stack",{value:me,configurable:!0})}}function Y(b){for(var L=b.split(`
`),N=[],j=0;j<L.length;++j){var fe=L[j];!ue(fe)&&!J(fe)&&fe&&N.push(fe)}return N.join(`
`)}function J(b){return b.indexOf("(module.js:")!==-1||b.indexOf("(node.js:")!==-1}function z(b){var L=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(b);if(L)return[L[1],Number(L[2])];var N=/at ([^ ]+):(\d+):(?:\d+)$/.exec(b);if(N)return[N[1],Number(N[2])];var j=/.*@(.+):(\d+)$/.exec(b);if(j)return[j[1],Number(j[2])]}function ue(b){var L=z(b);if(!L)return!1;var N=L[0],j=L[1];return N===r&&j>=t&&j<=bs}function V(){if(!!e)try{throw new Error}catch(j){var b=j.stack.split(`
`),L=b[0].indexOf("@")>0?b[1]:b[2],N=z(L);return N?(r=N[0],N[1]):void 0}}function te(b,L,N){return function(){return typeof console!="undefined"&&typeof console.warn=="function"&&console.warn(L+" is deprecated, use "+N+" instead.",new Error("").stack),b.apply(b,arguments)}}function P(b){return b instanceof F?b:Lt(b)?Mn(b):At(b)}P.resolve=P,P.nextTick=o,P.longStackSupport=!1;var Z=1;typeof process=="object"&&process&&process.env&&process.env.Q_DEBUG&&(P.longStackSupport=!0),P.defer=H;function H(){var b=[],L=[],N,j=d(H.prototype),fe=d(F.prototype);if(fe.promiseDispatch=function(ce,Fe,Te){var Be=f(arguments);b?(b.push(Be),Fe==="when"&&Te[1]&&L.push(Te[1])):P.nextTick(function(){N.promiseDispatch.apply(N,Be)})},fe.valueOf=function(){if(b)return fe;var ce=de(N);return ae(ce)&&(N=ce),ce},fe.inspect=function(){return N?N.inspect():{state:"pending"}},P.longStackSupport&&e)try{throw new Error}catch(ce){fe.stack=ce.stack.substring(ce.stack.indexOf(`
`)+1),fe.stackCounter=Z++}function me(ce){N=ce,P.longStackSupport&&e&&(fe.source=ce),p(b,function(Fe,Te){P.nextTick(function(){ce.promiseDispatch.apply(ce,Te)})},void 0),b=void 0,L=void 0}return j.promise=fe,j.resolve=function(ce){N||me(P(ce))},j.fulfill=function(ce){N||me(At(ce))},j.reject=function(ce){N||me(_t(ce))},j.notify=function(ce){N||p(L,function(Fe,Te){P.nextTick(function(){Te(ce)})},void 0)},j}H.prototype.makeNodeResolver=function(){var b=this;return function(L,N){L?b.reject(L):arguments.length>2?b.resolve(f(arguments,1)):b.resolve(N)}},P.Promise=K,P.promise=K;function K(b){if(typeof b!="function")throw new TypeError("resolver must be a function.");var L=H();try{b(L.resolve,L.reject,L.notify)}catch(N){L.reject(N)}return L.promise}K.race=Q,K.all=dr,K.reject=_t,K.resolve=P,P.passByCopy=function(b){return b},F.prototype.passByCopy=function(){return this},P.join=function(b,L){return P(b).join(L)},F.prototype.join=function(b){return P([this,b]).spread(function(L,N){if(L===N)return L;throw new Error("Q can't join: not the same: "+L+" "+N)})},P.race=Q;function Q(b){return K(function(L,N){for(var j=0,fe=b.length;j<fe;j++)P(b[j]).then(L,N)})}F.prototype.race=function(){return this.then(P.race)},P.makePromise=F;function F(b,L,N){L===void 0&&(L=function(me){return _t(new Error("Promise does not support operation: "+me))}),N===void 0&&(N=function(){return{state:"unknown"}});var j=d(F.prototype);if(j.promiseDispatch=function(me,ce,Fe){var Te;try{b[ce]?Te=b[ce].apply(j,Fe):Te=L.call(j,ce,Fe)}catch(Be){Te=_t(Be)}me&&me(Te)},j.inspect=N,N){var fe=N();fe.state==="rejected"&&(j.exception=fe.reason),j.valueOf=function(){var me=N();return me.state==="pending"||me.state==="rejected"?j:me.value}}return j}F.prototype.toString=function(){return"[object Promise]"},F.prototype.then=function(b,L,N){var j=this,fe=H(),me=!1;function ce(Be){try{return typeof b=="function"?b(Be):Be}catch(qe){return _t(qe)}}function Fe(Be){if(typeof L=="function"){k(Be,j);try{return L(Be)}catch(qe){return _t(qe)}}return _t(Be)}function Te(Be){return typeof N=="function"?N(Be):Be}return P.nextTick(function(){j.promiseDispatch(function(Be){me||(me=!0,fe.resolve(ce(Be)))},"when",[function(Be){me||(me=!0,fe.resolve(Fe(Be)))}])}),j.promiseDispatch(void 0,"when",[void 0,function(Be){var qe,tt=!1;try{qe=Te(Be)}catch(nn){if(tt=!0,P.onerror)P.onerror(nn);else throw nn}tt||fe.notify(qe)}]),fe.promise},P.tap=function(b,L){return P(b).tap(L)},F.prototype.tap=function(b){return b=P(b),this.then(function(L){return b.fcall(L).thenResolve(L)})},P.when=re;function re(b,L,N,j){return P(b).then(L,N,j)}F.prototype.thenResolve=function(b){return this.then(function(){return b})},P.thenResolve=function(b,L){return P(b).thenResolve(L)},F.prototype.thenReject=function(b){return this.then(function(){throw b})},P.thenReject=function(b,L){return P(b).thenReject(L)},P.nearer=de;function de(b){if(ae(b)){var L=b.inspect();if(L.state==="fulfilled")return L.value}return b}P.isPromise=ae;function ae(b){return b instanceof F}P.isPromiseAlike=Lt;function Lt(b){return T(b)&&typeof b.then=="function"}P.isPending=pr;function pr(b){return ae(b)&&b.inspect().state==="pending"}F.prototype.isPending=function(){return this.inspect().state==="pending"},P.isFulfilled=Nt;function Nt(b){return!ae(b)||b.inspect().state==="fulfilled"}F.prototype.isFulfilled=function(){return this.inspect().state==="fulfilled"},P.isRejected=Ge;function Ge(b){return ae(b)&&b.inspect().state==="rejected"}F.prototype.isRejected=function(){return this.inspect().state==="rejected"};var mt=[],vt=[],yt=[],et=!0;function xr(){mt.length=0,vt.length=0,et||(et=!0)}function hr(b,L){!et||(typeof process=="object"&&typeof process.emit=="function"&&P.nextTick.runAfter(function(){h(vt,b)!==-1&&(process.emit("unhandledRejection",L,b),yt.push(b))}),vt.push(b),L&&typeof L.stack!="undefined"?mt.push(L.stack):mt.push("(no stack) "+L))}function Kt(b){if(!!et){var L=h(vt,b);L!==-1&&(typeof process=="object"&&typeof process.emit=="function"&&P.nextTick.runAfter(function(){var N=h(yt,b);N!==-1&&(process.emit("rejectionHandled",mt[L],b),yt.splice(N,1))}),vt.splice(L,1),mt.splice(L,1))}}P.resetUnhandledRejections=xr,P.getUnhandledReasons=function(){return mt.slice()},P.stopUnhandledRejectionTracking=function(){xr(),et=!1},xr(),P.reject=_t;function _t(b){var L=F({when:function(N){return N&&Kt(this),N?N(b):this}},function(){return this},function(){return{state:"rejected",reason:b}});return hr(L,b),L}P.fulfill=At;function At(b){return F({when:function(){return b},get:function(L){return b[L]},set:function(L,N){b[L]=N},delete:function(L){delete b[L]},post:function(L,N){return L==null?b.apply(void 0,N):b[L].apply(b,N)},apply:function(L,N){return b.apply(L,N)},keys:function(){return E(b)}},void 0,function(){return{state:"fulfilled",value:b}})}function Mn(b){var L=H();return P.nextTick(function(){try{b.then(L.resolve,L.reject,L.notify)}catch(N){L.reject(N)}}),L.promise}P.master=_l;function _l(b){return F({isDef:function(){}},function(N,j){return en(b,N,j)},function(){return P(b).inspect()})}P.spread=Yt;function Yt(b,L,N){return P(b).spread(L,N)}F.prototype.spread=function(b,L){return this.all().then(function(N){return b.apply(void 0,N)},L)},P.async=qo;function qo(b){return function(){function L(me,ce){var Fe;if(typeof StopIteration=="undefined"){try{Fe=N[me](ce)}catch(Te){return _t(Te)}return Fe.done?P(Fe.value):re(Fe.value,j,fe)}else{try{Fe=N[me](ce)}catch(Te){return I(Te)?P(Te.value):_t(Te)}return re(Fe,j,fe)}}var N=b.apply(this,arguments),j=L.bind(L,"next"),fe=L.bind(L,"throw");return j()}}P.spawn=bl;function bl(b){P.done(P.async(b)())}P.return=Fn;function Fn(b){throw new $(b)}P.promised=Ft;function Ft(b){return function(){return Yt([this,dr(arguments)],function(L,N){return b.apply(L,N)})}}P.dispatch=en;function en(b,L,N){return P(b).dispatch(L,N)}F.prototype.dispatch=function(b,L){var N=this,j=H();return P.nextTick(function(){N.promiseDispatch(j.resolve,b,L)}),j.promise},P.get=function(b,L){return P(b).dispatch("get",[L])},F.prototype.get=function(b){return this.dispatch("get",[b])},P.set=function(b,L,N){return P(b).dispatch("set",[L,N])},F.prototype.set=function(b,L){return this.dispatch("set",[b,L])},P.del=P.delete=function(b,L){return P(b).dispatch("delete",[L])},F.prototype.del=F.prototype.delete=function(b){return this.dispatch("delete",[b])},P.mapply=P.post=function(b,L,N){return P(b).dispatch("post",[L,N])},F.prototype.mapply=F.prototype.post=function(b,L){return this.dispatch("post",[b,L])},P.send=P.mcall=P.invoke=function(b,L){return P(b).dispatch("post",[L,f(arguments,2)])},F.prototype.send=F.prototype.mcall=F.prototype.invoke=function(b){return this.dispatch("post",[b,f(arguments,1)])},P.fapply=function(b,L){return P(b).dispatch("apply",[void 0,L])},F.prototype.fapply=function(b){return this.dispatch("apply",[void 0,b])},P.try=P.fcall=function(b){return P(b).dispatch("apply",[void 0,f(arguments,1)])},F.prototype.fcall=function(){return this.dispatch("apply",[void 0,f(arguments)])},P.fbind=function(b){var L=P(b),N=f(arguments,1);return function(){return L.dispatch("apply",[this,N.concat(f(arguments))])}},F.prototype.fbind=function(){var b=this,L=f(arguments);return function(){return b.dispatch("apply",[this,L.concat(f(arguments))])}},P.keys=function(b){return P(b).dispatch("keys",[])},F.prototype.keys=function(){return this.dispatch("keys",[])},P.all=dr;function dr(b){return re(b,function(L){var N=0,j=H();return p(L,function(fe,me,ce){var Fe;ae(me)&&(Fe=me.inspect()).state==="fulfilled"?L[ce]=Fe.value:(++N,re(me,function(Te){L[ce]=Te,--N==0&&j.resolve(L)},j.reject,function(Te){j.notify({index:ce,value:Te})}))},void 0),N===0&&j.resolve(L),j.promise})}F.prototype.all=function(){return dr(this)},P.any=Uo;function Uo(b){if(b.length===0)return P.resolve();var L=P.defer(),N=0;return p(b,function(j,fe,me){var ce=b[me];N++,re(ce,Fe,Te,Be);function Fe(qe){L.resolve(qe)}function Te(qe){if(N--,N===0){var tt=qe||new Error(""+qe);tt.message="Q can't get fulfillment value from any promise, all promises were rejected. Last error message: "+tt.message,L.reject(tt)}}function Be(qe){L.notify({index:me,value:qe})}},void 0),L.promise}F.prototype.any=function(){return Uo(this)},P.allResolved=te(tn,"allResolved","allSettled");function tn(b){return re(b,function(L){return L=g(L,P),re(dr(g(L,function(N){return re(N,i,i)})),function(){return L})})}F.prototype.allResolved=function(){return tn(this)},P.allSettled=wl;function wl(b){return P(b).allSettled()}F.prototype.allSettled=function(){return this.then(function(b){return dr(g(b,function(L){L=P(L);function N(){return L.inspect()}return L.then(N,N)}))})},P.fail=P.catch=function(b,L){return P(b).then(void 0,L)},F.prototype.fail=F.prototype.catch=function(b){return this.then(void 0,b)},P.progress=Bn;function Bn(b,L){return P(b).then(void 0,void 0,L)}F.prototype.progress=function(b){return this.then(void 0,void 0,b)},P.fin=P.finally=function(b,L){return P(b).finally(L)},F.prototype.fin=F.prototype.finally=function(b){if(!b||typeof b.apply!="function")throw new Error("Q can't apply finally callback");return b=P(b),this.then(function(L){return b.fcall().then(function(){return L})},function(L){return b.fcall().then(function(){throw L})})},P.done=function(b,L,N,j){return P(b).done(L,N,j)},F.prototype.done=function(b,L,N){var j=function(me){P.nextTick(function(){if(k(me,fe),P.onerror)P.onerror(me);else throw me})},fe=b||L||N?this.then(b,L,N):this;typeof process=="object"&&process&&process.domain&&(j=process.domain.bind(j)),fe.then(void 0,j)},P.timeout=function(b,L,N){return P(b).timeout(L,N)},F.prototype.timeout=function(b,L){var N=H(),j=setTimeout(function(){(!L||typeof L=="string")&&(L=new Error(L||"Timed out after "+b+" ms"),L.code="ETIMEDOUT"),N.reject(L)},b);return this.then(function(fe){clearTimeout(j),N.resolve(fe)},function(fe){clearTimeout(j),N.reject(fe)},N.notify),N.promise},P.delay=function(b,L){return L===void 0&&(L=b,b=void 0),P(b).delay(L)},F.prototype.delay=function(b){return this.then(function(L){var N=H();return setTimeout(function(){N.resolve(L)},b),N.promise})},P.nfapply=function(b,L){return P(b).nfapply(L)},F.prototype.nfapply=function(b){var L=H(),N=f(b);return N.push(L.makeNodeResolver()),this.fapply(N).fail(L.reject),L.promise},P.nfcall=function(b){var L=f(arguments,1);return P(b).nfapply(L)},F.prototype.nfcall=function(){var b=f(arguments),L=H();return b.push(L.makeNodeResolver()),this.fapply(b).fail(L.reject),L.promise},P.nfbind=P.denodeify=function(b){if(b===void 0)throw new Error("Q can't wrap an undefined function");var L=f(arguments,1);return function(){var N=L.concat(f(arguments)),j=H();return N.push(j.makeNodeResolver()),P(b).fapply(N).fail(j.reject),j.promise}},F.prototype.nfbind=F.prototype.denodeify=function(){var b=f(arguments);return b.unshift(this),P.denodeify.apply(void 0,b)},P.nbind=function(b,L){var N=f(arguments,2);return function(){var j=N.concat(f(arguments)),fe=H();j.push(fe.makeNodeResolver());function me(){return b.apply(L,arguments)}return P(me).fapply(j).fail(fe.reject),fe.promise}},F.prototype.nbind=function(){var b=f(arguments,0);return b.unshift(this),P.nbind.apply(void 0,b)},P.nmapply=P.npost=function(b,L,N){return P(b).npost(L,N)},F.prototype.nmapply=F.prototype.npost=function(b,L){var N=f(L||[]),j=H();return N.push(j.makeNodeResolver()),this.dispatch("post",[b,N]).fail(j.reject),j.promise},P.nsend=P.nmcall=P.ninvoke=function(b,L){var N=f(arguments,2),j=H();return N.push(j.makeNodeResolver()),P(b).dispatch("post",[L,N]).fail(j.reject),j.promise},F.prototype.nsend=F.prototype.nmcall=F.prototype.ninvoke=function(b){var L=f(arguments,1),N=H();return L.push(N.makeNodeResolver()),this.dispatch("post",[b,L]).fail(N.reject),N.promise},P.nodeify=rn;function rn(b,L){return P(b).nodeify(L)}F.prototype.nodeify=function(b){if(b)this.then(function(L){P.nextTick(function(){b(null,L)})},function(L){P.nextTick(function(){b(L)})});else return this},P.noConflict=function(){throw new Error("Q.noConflict only works when Q is used as a global")};var bs=V();return P})});var t2=S((YV,e2)=>{"use strict";var hp=rs();e2.exports=bB;function bB(e){return hp.resolve().then(()=>{if(typeof e=="function")return hp.nfcall(e);if(typeof e=="object")return hp(e);throw new Error("preset package must be a promise, function, or object")})}});var i2=S((zV,n2)=>{"use strict";var wB=my(),EB=Fc(),SB=Gc(),PB=Wc(),xB=Hc(),LB=cp(),AB=t2(),CB=["major","minor","patch"];n2.exports=RB;function RB(e,t,r){if(typeof e!="object")throw new Error("The 'options' argument must be an object.");let i=Object.assign({ignoreReverted:!0},e),o=typeof t=="function"?t:r;if(typeof o!="function")throw new Error("You must provide a callback function.");let a=i.config||{};if(i.preset)try{a=PB(i.preset)}catch(l){if(l.message==="does not exist"){let f=typeof i.preset=="object"?i.preset.name:i.preset;return o(new Error(`Unable to load the "${f}" preset package. Please make sure it's installed.`))}else return o(l)}AB(a).then(l=>{let f=i.whatBump||(l.recommendedBumpOpts&&l.recommendedBumpOpts.whatBump?l.recommendedBumpOpts.whatBump:r2);if(typeof f!="function")throw Error("whatBump must be a function");let p=Object.assign({},l.recommendedBumpOpts&&l.recommendedBumpOpts.parserOpts?l.recommendedBumpOpts.parserOpts:l.parserOpts,t),h=typeof p.warn=="function"?p.warn:r2;xB({lernaTags:!!i.lernaPackage,package:i.lernaPackage,tagPrefix:i.tagPrefix,skipUnstable:i.skipUnstable},(g,d)=>{if(g)return o(g);LB({format:"%B%n-hash-%n%H",from:d[0]||"",path:i.path}).pipe(SB(p)).pipe(wB(y=>{let w=i.ignoreReverted?EB(y):y;(!w||!w.length)&&h("No commits since last release");let E=f(w,i);E&&E.level!=null?E.releaseType=CB[E.level]:E==null&&(E={}),o(null,E)}))})}).catch(l=>o(l))}function r2(){}});var oo=S((JV,s2)=>{"use strict";s2.exports=function(e){return e=OB(e),{headerPattern:/^(\w*)(?:\((.*)\))?!?: (.*)$/,breakingHeaderPattern:/^(\w*)(?:\((.*)\))?!: (.*)$/,headerCorrespondence:["type","scope","subject"],noteKeywords:["BREAKING CHANGE","BREAKING-CHANGE"],revertPattern:/^(?:Revert|revert:)\s"?([\s\S]+?)"?\s*This reverts commit (\w*)\./i,revertCorrespondence:["header","hash"],issuePrefixes:e.issuePrefixes}};function OB(e){return e=e||{},e.issuePrefixes=e.issuePrefixes||["#"],e}});var dp=S((XV,o2)=>{var{breakingHeaderPattern:TB}=oo()();o2.exports=e=>{let t=e.header.match(TB);if(t&&e.notes.length===0){let r=t[3];e.notes.push({text:r})}}});var u2=S((ZV,a2)=>{"use strict";a2.exports=function(e){return Array.isArray(e)?e:[e]}});var f2=S((QV,l2)=>{"use strict";l2.exports=e=>{let t=typeof e;return e!==null&&(t==="object"||t==="function")}});var p2=S((eK,c2)=>{"use strict";var ci=f2(),NB=["__proto__","prototype","constructor"],IB=e=>!e.some(t=>NB.includes(t));function du(e){let t=e.split("."),r=[];for(let i=0;i<t.length;i++){let o=t[i];for(;o[o.length-1]==="\\"&&t[i+1]!==void 0;)o=o.slice(0,-1)+".",o+=t[++i];r.push(o)}return IB(r)?r:[]}c2.exports={get(e,t,r){if(!ci(e)||typeof t!="string")return r===void 0?e:r;let i=du(t);if(i.length!==0){for(let o=0;o<i.length;o++){if(!Object.prototype.propertyIsEnumerable.call(e,i[o]))return r;if(e=e[i[o]],e==null){if(o!==i.length-1)return r;break}}return e}},set(e,t,r){if(!ci(e)||typeof t!="string")return e;let i=e,o=du(t);for(let a=0;a<o.length;a++){let l=o[a];ci(e[l])||(e[l]={}),a===o.length-1&&(e[l]=r),e=e[l]}return i},delete(e,t){if(!ci(e)||typeof t!="string")return!1;let r=du(t);for(let i=0;i<r.length;i++){let o=r[i];if(i===r.length-1)return delete e[o],!0;if(e=e[o],!ci(e))return!1}},has(e,t){if(!ci(e)||typeof t!="string")return!1;let r=du(t);if(r.length===0)return!1;for(let i=0;i<r.length;i++)if(ci(e)){if(!(r[i]in e))return!1;e=e[r[i]]}else return!1;return!0}}});var g2=S((tK,d2)=>{"use strict";var DB=u2(),h2=p2().get;function kB(e){return function(t,r){var i=0;return DB(e).some(function(o){var a,l;if(typeof o=="function"?(a=o(t),l=o(r)):typeof o=="string"?(a=h2(t,o),l=h2(r,o)):(a=t,l=r),a===l){i=0;return}return typeof a=="string"&&typeof l=="string"?(i=a.localeCompare(l),i!==0):(i=a<l?-1:1,!0)}),i}}d2.exports=kB});var yp=S((rK,_2)=>{"use strict";var MB=dp(),FB=g2(),m2=rs(),gu=m2.denodeify(G("fs").readFile),mu=G("path").resolve,v2=/release-as:\s*\w*@?([0-9]+\.[0-9]+\.[0-9a-z]+(-[0-9a-z.]+)?)\s*/i,gp="{{#if this.owner}}{{~this.owner}}{{else}}{{~@root.owner}}{{/if}}",mp="{{~@root.host}}",vp="{{#if this.repository}}{{~this.repository}}{{else}}{{~@root.repository}}{{/if}}";_2.exports=function(e){e=y2(e);let t=ao(e.commitUrlFormat,{host:mp,owner:gp,repository:vp}),r=ao(e.compareUrlFormat,{host:mp,owner:gp,repository:vp}),i=ao(e.issueUrlFormat,{host:mp,owner:gp,repository:vp,id:"{{this.issue}}",prefix:"{{this.prefix}}"});return m2.all([gu(mu(__dirname,"./templates/template.hbs"),"utf-8"),gu(mu(__dirname,"./templates/header.hbs"),"utf-8"),gu(mu(__dirname,"./templates/commit.hbs"),"utf-8"),gu(mu(__dirname,"./templates/footer.hbs"),"utf-8")]).spread((o,a,l,f)=>{let p=qB(e);return p.mainTemplate=o,p.headerPartial=a.replace(/{{compareUrlFormat}}/g,r),p.commitPartial=l.replace(/{{commitUrlFormat}}/g,t).replace(/{{issueUrlFormat}}/g,i),p.footerPartial=f,p})};function BB(e,t){let r=(t.revert?"revert":t.type||"").toLowerCase();return e.find(i=>!(i.type!==r||i.scope&&i.scope!==t.scope))}function qB(e){return e=y2(e),{transform:(t,r)=>{let i=!0,o=[],a=BB(e.types,t);if(MB(t),(t.footer&&v2.test(t.footer)||t.body&&v2.test(t.body))&&(i=!1),t.notes.forEach(l=>{l.title="BREAKING CHANGES",i=!1}),!(i&&(a===void 0||a.hidden))){if(a&&(t.type=a.section),t.scope==="*"&&(t.scope=""),typeof t.hash=="string"&&(t.shortHash=t.hash.substring(0,7)),typeof t.subject=="string"){e.issuePrefixes.join("|");let l="("+e.issuePrefixes.join("|")+")([0-9]+)",f=new RegExp(l,"g");t.subject=t.subject.replace(f,(p,h,g)=>{o.push(h+g);let d=ao(e.issueUrlFormat,{host:r.host,owner:r.owner,repository:r.repository,id:g,prefix:h});return`[${h}${g}](${d})`}),t.subject=t.subject.replace(/\B@([a-z0-9](?:-?[a-z0-9/]){0,38})/g,(p,h)=>{if(h.includes("/"))return`@${h}`;let g=ao(e.userUrlFormat,{host:r.host,owner:r.owner,repository:r.repository,user:h});return`[@${h}](${g})`})}return t.references=t.references.filter(l=>o.indexOf(l.prefix+l.issue)===-1),t}},groupBy:"type",commitGroupsSort:(t,r)=>{let i=["Reverts","Performance Improvements","Bug Fixes","Features"],o=i.indexOf(t.title),a=i.indexOf(r.title);return o>=a?-1:1},commitsSort:["scope","subject"],noteGroupsSort:"title",notesSort:FB}}function y2(e){return e=e||{},e.types=e.types||[{type:"feat",section:"Features"},{type:"feature",section:"Features"},{type:"fix",section:"Bug Fixes"},{type:"perf",section:"Performance Improvements"},{type:"revert",section:"Reverts"},{type:"docs",section:"Documentation",hidden:!0},{type:"style",section:"Styles",hidden:!0},{type:"chore",section:"Miscellaneous Chores",hidden:!0},{type:"refactor",section:"Code Refactoring",hidden:!0},{type:"test",section:"Tests",hidden:!0},{type:"build",section:"Build System",hidden:!0},{type:"ci",section:"Continuous Integration",hidden:!0}],e.issueUrlFormat=e.issueUrlFormat||"{{host}}/{{owner}}/{{repository}}/issues/{{id}}",e.commitUrlFormat=e.commitUrlFormat||"{{host}}/{{owner}}/{{repository}}/commit/{{hash}}",e.compareUrlFormat=e.compareUrlFormat||"{{host}}/{{owner}}/{{repository}}/compare/{{previousTag}}...{{currentTag}}",e.userUrlFormat=e.userUrlFormat||"{{host}}/{{user}}",e.issuePrefixes=e.issuePrefixes||["#"],e}function ao(e,t){let r=e;return Object.keys(t).forEach(i=>{r=r.replace(new RegExp(`{{${i}}}`,"g"),t[i])}),r}});var w2=S((nK,b2)=>{"use strict";var UB=rs(),GB=oo(),jB=yp();b2.exports=function(e){return UB.all([GB(e),jB(e)]).spread((t,r)=>({parserOpts:t,writerOpts:r}))}});var S2=S((iK,E2)=>{"use strict";var WB=dp(),HB=oo();E2.exports=function(e){return{parserOpts:HB(e),whatBump:t=>{let r=2,i=0,o=0;return t.forEach(a=>{WB(a),a.notes.length>0?(i+=a.notes.length,r=0):(a.type==="feat"||a.type==="feature")&&(o+=1,r===2&&(r=1))}),e.preMajor&&r<2&&r++,{level:r,reason:i===1?`There is ${i} BREAKING CHANGE and ${o} features`:`There are ${i} BREAKING CHANGES and ${o} features`}}}}});var O2=S((sK,R2)=>{"use strict";var P2=rs(),$B=En(),x2=w2(),L2=oo(),A2=S2(),C2=yp();R2.exports=function(e){if($B.isFunction(e)){let t={};P2.all([x2(t),L2(t),A2(t),C2(t)]).spread((r,i,o,a)=>{e(null,{gitRawCommitsOpts:{noMerges:null},conventionalChangelog:r,parserOpts:i,recommendedBumpOpts:o,writerOpts:a})})}else return VB(e||{})};function VB(e){return P2.all([x2(e),L2(e),A2(e),C2(e)]).spread((t,r,i,o)=>({conventionalChangelog:t,parserOpts:r,recommendedBumpOpts:i,writerOpts:o}))}});var B2=S((dK,F2)=>{"use strict";var D2=G("stream").PassThrough,k2=G("stream").Writable,M2=G("util");M2.inherits(_p,D2);M2.inherits(bp,k2);function _p(e,t){D2.call(this,t),this.factory=e,this.opts=t}_p.prototype._flush=function(e){var t=this.factory();t.pipe(new bp(this,this.opts)).on("finish",e),t.resume()};function bp(e,t){k2.call(this,t),this.target=e}bp.prototype._write=function(e,t,r){this.target.push(e),r()};function wp(e,t){t=t||{};var r;return typeof e=="function"?r=e:(e.pause(),r=function(){return e}),new _p(r,t)}wp.obj=function(e,t){return t=t||{},t.objectMode=!0,wp(e,t)};F2.exports=wp});var Sp=S((Ep,q2)=>{(function(e){"use strict";var t=function(){var l=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|"[^"]*"|'[^']*'/g,f=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,p=/[^-+\dA-Z]/g;return function(h,g,d,y){if(arguments.length===1&&a(h)==="string"&&!/\d/.test(h)&&(g=h,h=void 0),h=h||new Date,h instanceof Date||(h=new Date(h)),isNaN(h))throw TypeError("Invalid date");g=String(t.masks[g]||g||t.masks.default);var w=g.slice(0,4);(w==="UTC:"||w==="GMT:")&&(g=g.slice(4),d=!0,w==="GMT:"&&(y=!0));var E=d?"getUTC":"get",A=h[E+"Date"](),T=h[E+"Day"](),I=h[E+"Month"](),$=h[E+"FullYear"](),U=h[E+"Hours"](),k=h[E+"Minutes"](),Y=h[E+"Seconds"](),J=h[E+"Milliseconds"](),z=d?0:h.getTimezoneOffset(),ue=i(h),V=o(h),te={d:A,dd:r(A),ddd:t.i18n.dayNames[T],dddd:t.i18n.dayNames[T+7],m:I+1,mm:r(I+1),mmm:t.i18n.monthNames[I],mmmm:t.i18n.monthNames[I+12],yy:String($).slice(2),yyyy:$,h:U%12||12,hh:r(U%12||12),H:U,HH:r(U),M:k,MM:r(k),s:Y,ss:r(Y),l:r(J,3),L:r(Math.round(J/10)),t:U<12?t.i18n.timeNames[0]:t.i18n.timeNames[1],tt:U<12?t.i18n.timeNames[2]:t.i18n.timeNames[3],T:U<12?t.i18n.timeNames[4]:t.i18n.timeNames[5],TT:U<12?t.i18n.timeNames[6]:t.i18n.timeNames[7],Z:y?"GMT":d?"UTC":(String(h).match(f)||[""]).pop().replace(p,""),o:(z>0?"-":"+")+r(Math.floor(Math.abs(z)/60)*100+Math.abs(z)%60,4),S:["th","st","nd","rd"][A%10>3?0:(A%100-A%10!=10)*A%10],W:ue,N:V};return g.replace(l,function(P){return P in te?te[P]:P.slice(1,P.length-1)})}}();t.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},t.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]};function r(l,f){for(l=String(l),f=f||2;l.length<f;)l="0"+l;return l}function i(l){var f=new Date(l.getFullYear(),l.getMonth(),l.getDate());f.setDate(f.getDate()-(f.getDay()+6)%7+3);var p=new Date(f.getFullYear(),0,4);p.setDate(p.getDate()-(p.getDay()+6)%7+3);var h=f.getTimezoneOffset()-p.getTimezoneOffset();f.setHours(f.getHours()-h);var g=(f-p)/(864e5*7);return 1+Math.floor(g)}function o(l){var f=l.getDay();return f===0&&(f=7),f}function a(l){return l===null?"null":l===void 0?"undefined":typeof l!="object"?typeof l:Array.isArray(l)?"array":{}.toString.call(l).slice(8,-1).toLowerCase()}typeof define=="function"&&define.amd?define(function(){return t}):typeof Ep=="object"?q2.exports=t:e.dateFormat=t})(Ep)});var Tt=S($t=>{"use strict";$t.__esModule=!0;$t.extend=U2;$t.indexOf=XB;$t.escapeExpression=ZB;$t.isEmpty=QB;$t.createFrame=eq;$t.blockParams=tq;$t.appendContextPath=rq;var KB={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},YB=/[&<>"'`=]/g,zB=/[&<>"'`=]/;function JB(e){return KB[e]}function U2(e){for(var t=1;t<arguments.length;t++)for(var r in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],r)&&(e[r]=arguments[t][r]);return e}var Pp=Object.prototype.toString;$t.toString=Pp;var xp=function(t){return typeof t=="function"};xp(/x/)&&($t.isFunction=xp=function(e){return typeof e=="function"&&Pp.call(e)==="[object Function]"});$t.isFunction=xp;var G2=Array.isArray||function(e){return e&&typeof e=="object"?Pp.call(e)==="[object Array]":!1};$t.isArray=G2;function XB(e,t){for(var r=0,i=e.length;r<i;r++)if(e[r]===t)return r;return-1}function ZB(e){if(typeof e!="string"){if(e&&e.toHTML)return e.toHTML();if(e==null)return"";if(!e)return e+"";e=""+e}return zB.test(e)?e.replace(YB,JB):e}function QB(e){return!e&&e!==0?!0:!!(G2(e)&&e.length===0)}function eq(e){var t=U2({},e);return t._parent=e,t}function tq(e,t){return e.path=t,e}function rq(e,t){return(e?e+".":"")+t}});var sr=S((yu,j2)=>{"use strict";yu.__esModule=!0;var Lp=["description","fileName","lineNumber","endLineNumber","message","name","number","stack"];function Ap(e,t){var r=t&&t.loc,i=void 0,o=void 0,a=void 0,l=void 0;r&&(i=r.start.line,o=r.end.line,a=r.start.column,l=r.end.column,e+=" - "+i+":"+a);for(var f=Error.prototype.constructor.call(this,e),p=0;p<Lp.length;p++)this[Lp[p]]=f[Lp[p]];Error.captureStackTrace&&Error.captureStackTrace(this,Ap);try{r&&(this.lineNumber=i,this.endLineNumber=o,Object.defineProperty?(Object.defineProperty(this,"column",{value:a,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:l,enumerable:!0})):(this.column=a,this.endColumn=l))}catch(h){}}Ap.prototype=new Error;yu.default=Ap;j2.exports=yu.default});var H2=S((_u,W2)=>{"use strict";_u.__esModule=!0;var Cp=Tt();_u.default=function(e){e.registerHelper("blockHelperMissing",function(t,r){var i=r.inverse,o=r.fn;if(t===!0)return o(this);if(t===!1||t==null)return i(this);if(Cp.isArray(t))return t.length>0?(r.ids&&(r.ids=[r.name]),e.helpers.each(t,r)):i(this);if(r.data&&r.ids){var a=Cp.createFrame(r.data);a.contextPath=Cp.appendContextPath(r.data.contextPath,r.name),r={data:a}}return o(t,r)})};W2.exports=_u.default});var V2=S((bu,$2)=>{"use strict";bu.__esModule=!0;function nq(e){return e&&e.__esModule?e:{default:e}}var uo=Tt(),iq=sr(),sq=nq(iq);bu.default=function(e){e.registerHelper("each",function(t,r){if(!r)throw new sq.default("Must pass iterator to #each");var i=r.fn,o=r.inverse,a=0,l="",f=void 0,p=void 0;r.data&&r.ids&&(p=uo.appendContextPath(r.data.contextPath,r.ids[0])+"."),uo.isFunction(t)&&(t=t.call(this)),r.data&&(f=uo.createFrame(r.data));function h(E,A,T){f&&(f.key=E,f.index=A,f.first=A===0,f.last=!!T,p&&(f.contextPath=p+E)),l=l+i(t[E],{data:f,blockParams:uo.blockParams([t[E],E],[p+E,null])})}if(t&&typeof t=="object")if(uo.isArray(t))for(var g=t.length;a<g;a++)a in t&&h(a,a,a===t.length-1);else if(global.Symbol&&t[global.Symbol.iterator]){for(var d=[],y=t[global.Symbol.iterator](),w=y.next();!w.done;w=y.next())d.push(w.value);t=d;for(var g=t.length;a<g;a++)h(a,a,a===t.length-1)}else(function(){var E=void 0;Object.keys(t).forEach(function(A){E!==void 0&&h(E,a-1),E=A,a++}),E!==void 0&&h(E,a-1,!0)})();return a===0&&(l=o(this)),l})};$2.exports=bu.default});var Y2=S((wu,K2)=>{"use strict";wu.__esModule=!0;function oq(e){return e&&e.__esModule?e:{default:e}}var aq=sr(),uq=oq(aq);wu.default=function(e){e.registerHelper("helperMissing",function(){if(arguments.length!==1)throw new uq.default('Missing helper: "'+arguments[arguments.length-1].name+'"')})};K2.exports=wu.default});var Z2=S((Eu,X2)=>{"use strict";Eu.__esModule=!0;function lq(e){return e&&e.__esModule?e:{default:e}}var z2=Tt(),fq=sr(),J2=lq(fq);Eu.default=function(e){e.registerHelper("if",function(t,r){if(arguments.length!=2)throw new J2.default("#if requires exactly one argument");return z2.isFunction(t)&&(t=t.call(this)),!r.hash.includeZero&&!t||z2.isEmpty(t)?r.inverse(this):r.fn(this)}),e.registerHelper("unless",function(t,r){if(arguments.length!=2)throw new J2.default("#unless requires exactly one argument");return e.helpers.if.call(this,t,{fn:r.inverse,inverse:r.fn,hash:r.hash})})};X2.exports=Eu.default});var eb=S((Su,Q2)=>{"use strict";Su.__esModule=!0;Su.default=function(e){e.registerHelper("log",function(){for(var t=[void 0],r=arguments[arguments.length-1],i=0;i<arguments.length-1;i++)t.push(arguments[i]);var o=1;r.hash.level!=null?o=r.hash.level:r.data&&r.data.level!=null&&(o=r.data.level),t[0]=o,e.log.apply(e,t)})};Q2.exports=Su.default});var rb=S((Pu,tb)=>{"use strict";Pu.__esModule=!0;Pu.default=function(e){e.registerHelper("lookup",function(t,r,i){return t&&i.lookupProperty(t,r)})};tb.exports=Pu.default});var ib=S((xu,nb)=>{"use strict";xu.__esModule=!0;function cq(e){return e&&e.__esModule?e:{default:e}}var lo=Tt(),pq=sr(),hq=cq(pq);xu.default=function(e){e.registerHelper("with",function(t,r){if(arguments.length!=2)throw new hq.default("#with requires exactly one argument");lo.isFunction(t)&&(t=t.call(this));var i=r.fn;if(lo.isEmpty(t))return r.inverse(this);var o=r.data;return r.data&&r.ids&&(o=lo.createFrame(r.data),o.contextPath=lo.appendContextPath(r.data.contextPath,r.ids[0])),i(t,{data:o,blockParams:lo.blockParams([t],[o&&o.contextPath])})})};nb.exports=xu.default});var Rp=S(Lu=>{"use strict";Lu.__esModule=!0;Lu.registerDefaultHelpers=Cq;Lu.moveHelperToHooks=Rq;function pi(e){return e&&e.__esModule?e:{default:e}}var dq=H2(),gq=pi(dq),mq=V2(),vq=pi(mq),yq=Y2(),_q=pi(yq),bq=Z2(),wq=pi(bq),Eq=eb(),Sq=pi(Eq),Pq=rb(),xq=pi(Pq),Lq=ib(),Aq=pi(Lq);function Cq(e){gq.default(e),vq.default(e),_q.default(e),wq.default(e),Sq.default(e),xq.default(e),Aq.default(e)}function Rq(e,t,r){e.helpers[t]&&(e.hooks[t]=e.helpers[t],r||delete e.helpers[t])}});var ob=S((Au,sb)=>{"use strict";Au.__esModule=!0;var Oq=Tt();Au.default=function(e){e.registerDecorator("inline",function(t,r,i,o){var a=t;return r.partials||(r.partials={},a=function(l,f){var p=i.partials;i.partials=Oq.extend({},p,r.partials);var h=t(l,f);return i.partials=p,h}),r.partials[o.args[0]]=o.fn,a})};sb.exports=Au.default});var ab=S(Op=>{"use strict";Op.__esModule=!0;Op.registerDefaultDecorators=Dq;function Tq(e){return e&&e.__esModule?e:{default:e}}var Nq=ob(),Iq=Tq(Nq);function Dq(e){Iq.default(e)}});var Tp=S((Cu,ub)=>{"use strict";Cu.__esModule=!0;var kq=Tt(),ns={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(t){if(typeof t=="string"){var r=kq.indexOf(ns.methodMap,t.toLowerCase());r>=0?t=r:t=parseInt(t,10)}return t},log:function(t){if(t=ns.lookupLevel(t),typeof console!="undefined"&&ns.lookupLevel(ns.level)<=t){var r=ns.methodMap[t];console[r]||(r="log");for(var i=arguments.length,o=Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];console[r].apply(console,o)}}};Cu.default=ns;ub.exports=Cu.default});var lb=S(Np=>{"use strict";Np.__esModule=!0;Np.createNewLookupObject=Fq;var Mq=Tt();function Fq(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return Mq.extend.apply(void 0,[Object.create(null)].concat(t))}});var Ip=S(fo=>{"use strict";fo.__esModule=!0;fo.createProtoAccessControl=Gq;fo.resultIsAllowed=jq;fo.resetLoggedProperties=Hq;function Bq(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}var fb=lb(),qq=Tp(),Uq=Bq(qq),Ru=Object.create(null);function Gq(e){var t=Object.create(null);t.constructor=!1,t.__defineGetter__=!1,t.__defineSetter__=!1,t.__lookupGetter__=!1;var r=Object.create(null);return r.__proto__=!1,{properties:{whitelist:fb.createNewLookupObject(r,e.allowedProtoProperties),defaultValue:e.allowProtoPropertiesByDefault},methods:{whitelist:fb.createNewLookupObject(t,e.allowedProtoMethods),defaultValue:e.allowProtoMethodsByDefault}}}function jq(e,t,r){return typeof e=="function"?cb(t.methods,r):cb(t.properties,r)}function cb(e,t){return e.whitelist[t]!==void 0?e.whitelist[t]===!0:e.defaultValue!==void 0?e.defaultValue:(Wq(t),!1)}function Wq(e){Ru[e]!==!0&&(Ru[e]=!0,Uq.log("error",'Handlebars: Access has been denied to resolve the property "'+e+`" because it is not an "own property" of its parent.
You can add a runtime option to disable the check or this warning:
See https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details`))}function Hq(){Object.keys(Ru).forEach(function(e){delete Ru[e]})}});var Tu=S(Tr=>{"use strict";Tr.__esModule=!0;Tr.HandlebarsEnvironment=Mp;function pb(e){return e&&e.__esModule?e:{default:e}}var hi=Tt(),$q=sr(),Dp=pb($q),Vq=Rp(),Kq=ab(),Yq=Tp(),Ou=pb(Yq),zq=Ip(),Jq="4.7.7";Tr.VERSION=Jq;var Xq=8;Tr.COMPILER_REVISION=Xq;var Zq=7;Tr.LAST_COMPATIBLE_COMPILER_REVISION=Zq;var Qq={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0 <4.3.0",8:">= 4.3.0"};Tr.REVISION_CHANGES=Qq;var kp="[object Object]";function Mp(e,t,r){this.helpers=e||{},this.partials=t||{},this.decorators=r||{},Vq.registerDefaultHelpers(this),Kq.registerDefaultDecorators(this)}Mp.prototype={constructor:Mp,logger:Ou.default,log:Ou.default.log,registerHelper:function(t,r){if(hi.toString.call(t)===kp){if(r)throw new Dp.default("Arg not supported with multiple helpers");hi.extend(this.helpers,t)}else this.helpers[t]=r},unregisterHelper:function(t){delete this.helpers[t]},registerPartial:function(t,r){if(hi.toString.call(t)===kp)hi.extend(this.partials,t);else{if(typeof r=="undefined")throw new Dp.default('Attempting to register a partial called "'+t+'" as undefined');this.partials[t]=r}},unregisterPartial:function(t){delete this.partials[t]},registerDecorator:function(t,r){if(hi.toString.call(t)===kp){if(r)throw new Dp.default("Arg not supported with multiple decorators");hi.extend(this.decorators,t)}else this.decorators[t]=r},unregisterDecorator:function(t){delete this.decorators[t]},resetLoggedPropertyAccesses:function(){zq.resetLoggedProperties()}};var e7=Ou.default.log;Tr.log=e7;Tr.createFrame=hi.createFrame;Tr.logger=Ou.default});var db=S((Nu,hb)=>{"use strict";Nu.__esModule=!0;function Fp(e){this.string=e}Fp.prototype.toString=Fp.prototype.toHTML=function(){return""+this.string};Nu.default=Fp;hb.exports=Nu.default});var gb=S(Bp=>{"use strict";Bp.__esModule=!0;Bp.wrapHelper=t7;function t7(e,t){if(typeof e!="function")return e;var r=function(){var o=arguments[arguments.length-1];return arguments[arguments.length-1]=t(o),e.apply(this,arguments)};return r}});var bb=S(Ln=>{"use strict";Ln.__esModule=!0;Ln.checkRevision=a7;Ln.template=u7;Ln.wrapProgram=Iu;Ln.resolvePartial=l7;Ln.invokePartial=f7;Ln.noop=yb;function r7(e){return e&&e.__esModule?e:{default:e}}function n7(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}var i7=Tt(),Kr=n7(i7),s7=sr(),Yr=r7(s7),zr=Tu(),mb=Rp(),o7=gb(),vb=Ip();function a7(e){var t=e&&e[0]||1,r=zr.COMPILER_REVISION;if(!(t>=zr.LAST_COMPATIBLE_COMPILER_REVISION&&t<=zr.COMPILER_REVISION))if(t<zr.LAST_COMPATIBLE_COMPILER_REVISION){var i=zr.REVISION_CHANGES[r],o=zr.REVISION_CHANGES[t];throw new Yr.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+i+") or downgrade your runtime to an older version ("+o+").")}else throw new Yr.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}function u7(e,t){if(!t)throw new Yr.default("No environment passed to template");if(!e||!e.main)throw new Yr.default("Unknown template object: "+typeof e);e.main.decorator=e.main_d,t.VM.checkRevision(e.compiler);var r=e.compiler&&e.compiler[0]===7;function i(l,f,p){p.hash&&(f=Kr.extend({},f,p.hash),p.ids&&(p.ids[0]=!0)),l=t.VM.resolvePartial.call(this,l,f,p);var h=Kr.extend({},p,{hooks:this.hooks,protoAccessControl:this.protoAccessControl}),g=t.VM.invokePartial.call(this,l,f,h);if(g==null&&t.compile&&(p.partials[p.name]=t.compile(l,e.compilerOptions,t),g=p.partials[p.name](f,h)),g!=null){if(p.indent){for(var d=g.split(`
`),y=0,w=d.length;y<w&&!(!d[y]&&y+1===w);y++)d[y]=p.indent+d[y];g=d.join(`
`)}return g}else throw new Yr.default("The partial "+p.name+" could not be compiled when running in runtime-only mode")}var o={strict:function(f,p,h){if(!f||!(p in f))throw new Yr.default('"'+p+'" not defined in '+f,{loc:h});return o.lookupProperty(f,p)},lookupProperty:function(f,p){var h=f[p];if(h==null||Object.prototype.hasOwnProperty.call(f,p)||vb.resultIsAllowed(h,o.protoAccessControl,p))return h},lookup:function(f,p){for(var h=f.length,g=0;g<h;g++){var d=f[g]&&o.lookupProperty(f[g],p);if(d!=null)return f[g][p]}},lambda:function(f,p){return typeof f=="function"?f.call(p):f},escapeExpression:Kr.escapeExpression,invokePartial:i,fn:function(f){var p=e[f];return p.decorator=e[f+"_d"],p},programs:[],program:function(f,p,h,g,d){var y=this.programs[f],w=this.fn(f);return p||d||g||h?y=Iu(this,f,w,p,h,g,d):y||(y=this.programs[f]=Iu(this,f,w)),y},data:function(f,p){for(;f&&p--;)f=f._parent;return f},mergeIfNeeded:function(f,p){var h=f||p;return f&&p&&f!==p&&(h=Kr.extend({},p,f)),h},nullContext:Object.seal({}),noop:t.VM.noop,compilerInfo:e.compiler};function a(l){var f=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],p=f.data;a._setup(f),!f.partial&&e.useData&&(p=c7(l,p));var h=void 0,g=e.useBlockParams?[]:void 0;e.useDepths&&(f.depths?h=l!=f.depths[0]?[l].concat(f.depths):f.depths:h=[l]);function d(y){return""+e.main(o,y,o.helpers,o.partials,p,g,h)}return d=_b(e.main,d,o,f.depths||[],p,g),d(l,f)}return a.isTop=!0,a._setup=function(l){if(l.partial)o.protoAccessControl=l.protoAccessControl,o.helpers=l.helpers,o.partials=l.partials,o.decorators=l.decorators,o.hooks=l.hooks;else{var f=Kr.extend({},t.helpers,l.helpers);p7(f,o),o.helpers=f,e.usePartial&&(o.partials=o.mergeIfNeeded(l.partials,t.partials)),(e.usePartial||e.useDecorators)&&(o.decorators=Kr.extend({},t.decorators,l.decorators)),o.hooks={},o.protoAccessControl=vb.createProtoAccessControl(l);var p=l.allowCallsToHelperMissing||r;mb.moveHelperToHooks(o,"helperMissing",p),mb.moveHelperToHooks(o,"blockHelperMissing",p)}},a._child=function(l,f,p,h){if(e.useBlockParams&&!p)throw new Yr.default("must pass block params");if(e.useDepths&&!h)throw new Yr.default("must pass parent depths");return Iu(o,l,e[l],f,0,p,h)},a}function Iu(e,t,r,i,o,a,l){function f(p){var h=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],g=l;return l&&p!=l[0]&&!(p===e.nullContext&&l[0]===null)&&(g=[p].concat(l)),r(e,p,e.helpers,e.partials,h.data||i,a&&[h.blockParams].concat(a),g)}return f=_b(r,f,e,l,i,a),f.program=t,f.depth=l?l.length:0,f.blockParams=o||0,f}function l7(e,t,r){return e?!e.call&&!r.name&&(r.name=e,e=r.partials[e]):r.name==="@partial-block"?e=r.data["partial-block"]:e=r.partials[r.name],e}function f7(e,t,r){var i=r.data&&r.data["partial-block"];r.partial=!0,r.ids&&(r.data.contextPath=r.ids[0]||r.data.contextPath);var o=void 0;if(r.fn&&r.fn!==yb&&function(){r.data=zr.createFrame(r.data);var a=r.fn;o=r.data["partial-block"]=function(f){var p=arguments.length<=1||arguments[1]===void 0?{}:arguments[1];return p.data=zr.createFrame(p.data),p.data["partial-block"]=i,a(f,p)},a.partials&&(r.partials=Kr.extend({},r.partials,a.partials))}(),e===void 0&&o&&(e=o),e===void 0)throw new Yr.default("The partial "+r.name+" could not be found");if(e instanceof Function)return e(t,r)}function yb(){return""}function c7(e,t){return(!t||!("root"in t))&&(t=t?zr.createFrame(t):{},t.root=e),t}function _b(e,t,r,i,o,a){if(e.decorator){var l={};t=e.decorator(t,l,r,i&&i[0],o,a,i),Kr.extend(t,l)}return t}function p7(e,t){Object.keys(e).forEach(function(r){var i=e[r];e[r]=h7(i,t)})}function h7(e,t){var r=t.lookupProperty;return o7.wrapHelper(e,function(i){return Kr.extend({lookupProperty:r},i)})}});var qp=S((Du,wb)=>{"use strict";Du.__esModule=!0;Du.default=function(e){var t=typeof global!="undefined"?global:window,r=t.Handlebars;e.noConflict=function(){return t.Handlebars===e&&(t.Handlebars=r),e}};wb.exports=Du.default});var Lb=S((ku,xb)=>{"use strict";ku.__esModule=!0;function Up(e){return e&&e.__esModule?e:{default:e}}function Gp(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}var d7=Tu(),Eb=Gp(d7),g7=db(),m7=Up(g7),v7=sr(),y7=Up(v7),_7=Tt(),jp=Gp(_7),b7=bb(),Sb=Gp(b7),w7=qp(),E7=Up(w7);function Pb(){var e=new Eb.HandlebarsEnvironment;return jp.extend(e,Eb),e.SafeString=m7.default,e.Exception=y7.default,e.Utils=jp,e.escapeExpression=jp.escapeExpression,e.VM=Sb,e.template=function(t){return Sb.template(t,e)},e}var co=Pb();co.create=Pb;E7.default(co);co.default=co;ku.default=co;xb.exports=ku.default});var Wp=S((Mu,Cb)=>{"use strict";Mu.__esModule=!0;var Ab={helpers:{helperExpression:function(t){return t.type==="SubExpression"||(t.type==="MustacheStatement"||t.type==="BlockStatement")&&!!(t.params&&t.params.length||t.hash)},scopedId:function(t){return/^\.|this\b/.test(t.original)},simpleId:function(t){return t.parts.length===1&&!Ab.helpers.scopedId(t)&&!t.depth}}};Mu.default=Ab;Cb.exports=Mu.default});var Ob=S((Fu,Rb)=>{"use strict";Fu.__esModule=!0;var S7=function(){var e={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,0],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(o,a,l,f,p,h,g){var d=h.length-1;switch(p){case 1:return h[d-1];case 2:this.$=f.prepareProgram(h[d]);break;case 3:this.$=h[d];break;case 4:this.$=h[d];break;case 5:this.$=h[d];break;case 6:this.$=h[d];break;case 7:this.$=h[d];break;case 8:this.$=h[d];break;case 9:this.$={type:"CommentStatement",value:f.stripComment(h[d]),strip:f.stripFlags(h[d],h[d]),loc:f.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:h[d],value:h[d],loc:f.locInfo(this._$)};break;case 11:this.$=f.prepareRawBlock(h[d-2],h[d-1],h[d],this._$);break;case 12:this.$={path:h[d-3],params:h[d-2],hash:h[d-1]};break;case 13:this.$=f.prepareBlock(h[d-3],h[d-2],h[d-1],h[d],!1,this._$);break;case 14:this.$=f.prepareBlock(h[d-3],h[d-2],h[d-1],h[d],!0,this._$);break;case 15:this.$={open:h[d-5],path:h[d-4],params:h[d-3],hash:h[d-2],blockParams:h[d-1],strip:f.stripFlags(h[d-5],h[d])};break;case 16:this.$={path:h[d-4],params:h[d-3],hash:h[d-2],blockParams:h[d-1],strip:f.stripFlags(h[d-5],h[d])};break;case 17:this.$={path:h[d-4],params:h[d-3],hash:h[d-2],blockParams:h[d-1],strip:f.stripFlags(h[d-5],h[d])};break;case 18:this.$={strip:f.stripFlags(h[d-1],h[d-1]),program:h[d]};break;case 19:var y=f.prepareBlock(h[d-2],h[d-1],h[d],h[d],!1,this._$),w=f.prepareProgram([y],h[d-1].loc);w.chained=!0,this.$={strip:h[d-2].strip,program:w,chain:!0};break;case 20:this.$=h[d];break;case 21:this.$={path:h[d-1],strip:f.stripFlags(h[d-2],h[d])};break;case 22:this.$=f.prepareMustache(h[d-3],h[d-2],h[d-1],h[d-4],f.stripFlags(h[d-4],h[d]),this._$);break;case 23:this.$=f.prepareMustache(h[d-3],h[d-2],h[d-1],h[d-4],f.stripFlags(h[d-4],h[d]),this._$);break;case 24:this.$={type:"PartialStatement",name:h[d-3],params:h[d-2],hash:h[d-1],indent:"",strip:f.stripFlags(h[d-4],h[d]),loc:f.locInfo(this._$)};break;case 25:this.$=f.preparePartialBlock(h[d-2],h[d-1],h[d],this._$);break;case 26:this.$={path:h[d-3],params:h[d-2],hash:h[d-1],strip:f.stripFlags(h[d-4],h[d])};break;case 27:this.$=h[d];break;case 28:this.$=h[d];break;case 29:this.$={type:"SubExpression",path:h[d-3],params:h[d-2],hash:h[d-1],loc:f.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:h[d],loc:f.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:f.id(h[d-2]),value:h[d],loc:f.locInfo(this._$)};break;case 32:this.$=f.id(h[d-1]);break;case 33:this.$=h[d];break;case 34:this.$=h[d];break;case 35:this.$={type:"StringLiteral",value:h[d],original:h[d],loc:f.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(h[d]),original:Number(h[d]),loc:f.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:h[d]==="true",original:h[d]==="true",loc:f.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:f.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:f.locInfo(this._$)};break;case 40:this.$=h[d];break;case 41:this.$=h[d];break;case 42:this.$=f.preparePath(!0,h[d],this._$);break;case 43:this.$=f.preparePath(!1,h[d],this._$);break;case 44:h[d-2].push({part:f.id(h[d]),original:h[d],separator:h[d-1]}),this.$=h[d-2];break;case 45:this.$=[{part:f.id(h[d]),original:h[d]}];break;case 46:this.$=[];break;case 47:h[d-1].push(h[d]);break;case 48:this.$=[];break;case 49:h[d-1].push(h[d]);break;case 50:this.$=[];break;case 51:h[d-1].push(h[d]);break;case 58:this.$=[];break;case 59:h[d-1].push(h[d]);break;case 64:this.$=[];break;case 65:h[d-1].push(h[d]);break;case 70:this.$=[];break;case 71:h[d-1].push(h[d]);break;case 78:this.$=[];break;case 79:h[d-1].push(h[d]);break;case 82:this.$=[];break;case 83:h[d-1].push(h[d]);break;case 86:this.$=[];break;case 87:h[d-1].push(h[d]);break;case 90:this.$=[];break;case 91:h[d-1].push(h[d]);break;case 94:this.$=[];break;case 95:h[d-1].push(h[d]);break;case 98:this.$=[h[d]];break;case 99:h[d-1].push(h[d]);break;case 100:this.$=[h[d]];break;case 101:h[d-1].push(h[d]);break}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{15:[2,48],17:39,18:[2,48]},{20:41,56:40,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:44,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:45,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:41,56:48,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:49,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,50]},{72:[1,35],86:51},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:52,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:53,38:55,39:[1,57],43:56,44:[1,58],45:54,47:[2,54]},{28:59,43:60,44:[1,58],47:[2,56]},{13:62,15:[1,20],18:[1,61]},{33:[2,86],57:63,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:64,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:65,47:[1,66]},{30:67,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:68,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:69,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:70,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:74,33:[2,80],50:71,63:72,64:75,65:[1,43],69:73,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,79]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,50]},{20:74,53:80,54:[2,84],63:81,64:75,65:[1,43],69:82,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:83,47:[1,66]},{47:[2,55]},{4:84,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:85,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:86,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:87,47:[1,66]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:74,33:[2,88],58:88,63:89,64:75,65:[1,43],69:90,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:91,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:92,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,31:93,33:[2,60],63:94,64:75,65:[1,43],69:95,70:76,71:77,72:[1,78],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,66],36:96,63:97,64:75,65:[1,43],69:98,70:76,71:77,72:[1,78],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,22:99,23:[2,52],63:100,64:75,65:[1,43],69:101,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,92],62:102,63:103,64:75,65:[1,43],69:104,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,105]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:106,72:[1,107],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,108],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,109]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:55,39:[1,57],43:56,44:[1,58],45:111,46:110,47:[2,76]},{33:[2,70],40:112,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,113]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:74,63:115,64:75,65:[1,43],67:114,68:[2,96],69:116,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,117]},{32:118,33:[2,62],74:119,75:[1,120]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:121,74:122,75:[1,120]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,123]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,124]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,108]},{20:74,63:125,64:75,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:74,33:[2,72],41:126,63:127,64:75,65:[1,43],69:128,70:76,71:77,72:[1,78],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,129]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,130]},{33:[2,63]},{72:[1,132],76:131},{33:[1,133]},{33:[2,69]},{15:[2,12],18:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:134,74:135,75:[1,120]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,137],77:[1,136]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,138]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],54:[2,55],56:[2,20],60:[2,57],73:[2,81],82:[2,85],86:[2,18],90:[2,89],101:[2,53],104:[2,93],110:[2,19],111:[2,77],116:[2,97],119:[2,63],122:[2,69],135:[2,75],136:[2,32]},parseError:function(o,a){throw new Error(o)},parse:function(o){var a=this,l=[0],f=[null],p=[],h=this.table,g="",d=0,y=0,w=0,E=2,A=1;this.lexer.setInput(o),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,typeof this.lexer.yylloc=="undefined"&&(this.lexer.yylloc={});var T=this.lexer.yylloc;p.push(T);var I=this.lexer.options&&this.lexer.options.ranges;typeof this.yy.parseError=="function"&&(this.parseError=this.yy.parseError);function $(F){l.length=l.length-2*F,f.length=f.length-F,p.length=p.length-F}function U(){var F;return F=a.lexer.lex()||1,typeof F!="number"&&(F=a.symbols_[F]||F),F}for(var k,Y,J,z,ue,V,te={},P,Z,H,K;;){if(J=l[l.length-1],this.defaultActions[J]?z=this.defaultActions[J]:((k===null||typeof k=="undefined")&&(k=U()),z=h[J]&&h[J][k]),typeof z=="undefined"||!z.length||!z[0]){var Q="";if(!w){K=[];for(P in h[J])this.terminals_[P]&&P>2&&K.push("'"+this.terminals_[P]+"'");this.lexer.showPosition?Q="Parse error on line "+(d+1)+`:
`+this.lexer.showPosition()+`
Expecting `+K.join(", ")+", got '"+(this.terminals_[k]||k)+"'":Q="Parse error on line "+(d+1)+": Unexpected "+(k==1?"end of input":"'"+(this.terminals_[k]||k)+"'"),this.parseError(Q,{text:this.lexer.match,token:this.terminals_[k]||k,line:this.lexer.yylineno,loc:T,expected:K})}}if(z[0]instanceof Array&&z.length>1)throw new Error("Parse Error: multiple actions possible at state: "+J+", token: "+k);switch(z[0]){case 1:l.push(k),f.push(this.lexer.yytext),p.push(this.lexer.yylloc),l.push(z[1]),k=null,Y?(k=Y,Y=null):(y=this.lexer.yyleng,g=this.lexer.yytext,d=this.lexer.yylineno,T=this.lexer.yylloc,w>0&&w--);break;case 2:if(Z=this.productions_[z[1]][1],te.$=f[f.length-Z],te._$={first_line:p[p.length-(Z||1)].first_line,last_line:p[p.length-1].last_line,first_column:p[p.length-(Z||1)].first_column,last_column:p[p.length-1].last_column},I&&(te._$.range=[p[p.length-(Z||1)].range[0],p[p.length-1].range[1]]),V=this.performAction.call(te,g,y,d,this.yy,z[1],f,p),typeof V!="undefined")return V;Z&&(l=l.slice(0,-1*Z*2),f=f.slice(0,-1*Z),p=p.slice(0,-1*Z)),l.push(this.productions_[z[1]][0]),f.push(te.$),p.push(te._$),H=h[l[l.length-2]][l[l.length-1]],l.push(H);break;case 3:return!0}}return!0}},t=function(){var i={EOF:1,parseError:function(a,l){if(this.yy.parser)this.yy.parser.parseError(a,l);else throw new Error(a)},setInput:function(a){return this._input=a,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var a=this._input[0];this.yytext+=a,this.yyleng++,this.offset++,this.match+=a,this.matched+=a;var l=a.match(/(?:\r\n?|\n).*/g);return l?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),a},unput:function(a){var l=a.length,f=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-l-1),this.offset-=l;var p=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),f.length-1&&(this.yylineno-=f.length-1);var h=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:f?(f.length===p.length?this.yylloc.first_column:0)+p[p.length-f.length].length-f[0].length:this.yylloc.first_column-l},this.options.ranges&&(this.yylloc.range=[h[0],h[0]+this.yyleng-l]),this},more:function(){return this._more=!0,this},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(a.length>20?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;return a.length<20&&(a+=this._input.substr(0,20-a.length)),(a.substr(0,20)+(a.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),l=new Array(a.length+1).join("-");return a+this.upcomingInput()+`
`+l+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,l,f,p,h,g;this._more||(this.yytext="",this.match="");for(var d=this._currentRules(),y=0;y<d.length&&(f=this._input.match(this.rules[d[y]]),!(f&&(!l||f[0].length>l[0].length)&&(l=f,p=y,!this.options.flex)));y++);return l?(g=l[0].match(/(?:\r\n?|\n).*/g),g&&(this.yylineno+=g.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:g?g[g.length-1].length-g[g.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+l[0].length},this.yytext+=l[0],this.match+=l[0],this.matches=l,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(l[0].length),this.matched+=l[0],a=this.performAction.call(this,this.yy,this,d[p],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),a||void 0):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return typeof a!="undefined"?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(a){this.begin(a)}};return i.options={},i.performAction=function(a,l,f,p){function h(d,y){return l.yytext=l.yytext.substring(d,l.yyleng-y+d)}var g=p;switch(f){case 0:if(l.yytext.slice(-2)==="\\\\"?(h(0,1),this.begin("mu")):l.yytext.slice(-1)==="\\"?(h(0,1),this.begin("emu")):this.begin("mu"),l.yytext)return 15;break;case 1:return 15;case 2:return this.popState(),15;break;case 3:return this.begin("raw"),15;break;case 4:return this.popState(),this.conditionStack[this.conditionStack.length-1]==="raw"?15:(h(5,9),"END_RAW_BLOCK");case 5:return 15;case 6:return this.popState(),14;break;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;break;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:return this.popState(),44;break;case 16:return this.popState(),44;break;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(l.yytext),this.popState(),this.begin("com");break;case 22:return this.popState(),14;break;case 23:return 48;case 24:return 73;case 25:return 72;case 26:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;break;case 30:return this.popState(),33;break;case 31:return l.yytext=h(1,2).replace(/\\"/g,'"'),80;break;case 32:return l.yytext=h(1,2).replace(/\\'/g,"'"),80;break;case 33:return 85;case 34:return 82;case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;case 42:return l.yytext=l.yytext.replace(/\\([\\\]])/g,"$1"),72;break;case 43:return"INVALID";case 44:return 5}},i.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^\/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]+?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],i.conditions={mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}},i}();e.lexer=t;function r(){this.yy={}}return r.prototype=e,e.Parser=r,new r}();Fu.default=S7;Rb.exports=Fu.default});var Gu=S((Uu,Ib)=>{"use strict";Uu.__esModule=!0;function P7(e){return e&&e.__esModule?e:{default:e}}var x7=sr(),Hp=P7(x7);function Bu(){this.parents=[]}Bu.prototype={constructor:Bu,mutating:!1,acceptKey:function(t,r){var i=this.accept(t[r]);if(this.mutating){if(i&&!Bu.prototype[i.type])throw new Hp.default('Unexpected node type "'+i.type+'" found when accepting '+r+" on "+t.type);t[r]=i}},acceptRequired:function(t,r){if(this.acceptKey(t,r),!t[r])throw new Hp.default(t.type+" requires "+r)},acceptArray:function(t){for(var r=0,i=t.length;r<i;r++)this.acceptKey(t,r),t[r]||(t.splice(r,1),r--,i--)},accept:function(t){if(!!t){if(!this[t.type])throw new Hp.default("Unknown type: "+t.type,t);this.current&&this.parents.unshift(this.current),this.current=t;var r=this[t.type](t);if(this.current=this.parents.shift(),!this.mutating||r)return r;if(r!==!1)return t}},Program:function(t){this.acceptArray(t.body)},MustacheStatement:qu,Decorator:qu,BlockStatement:Tb,DecoratorBlock:Tb,PartialStatement:Nb,PartialBlockStatement:function(t){Nb.call(this,t),this.acceptKey(t,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:qu,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(t){this.acceptArray(t.pairs)},HashPair:function(t){this.acceptRequired(t,"value")}};function qu(e){this.acceptRequired(e,"path"),this.acceptArray(e.params),this.acceptKey(e,"hash")}function Tb(e){qu.call(this,e),this.acceptKey(e,"program"),this.acceptKey(e,"inverse")}function Nb(e){this.acceptRequired(e,"name"),this.acceptArray(e.params),this.acceptKey(e,"hash")}Uu.default=Bu;Ib.exports=Uu.default});var kb=S((ju,Db)=>{"use strict";ju.__esModule=!0;function L7(e){return e&&e.__esModule?e:{default:e}}var A7=Gu(),C7=L7(A7);function Nr(){var e=arguments.length<=0||arguments[0]===void 0?{}:arguments[0];this.options=e}Nr.prototype=new C7.default;Nr.prototype.Program=function(e){var t=!this.options.ignoreStandalone,r=!this.isRootSeen;this.isRootSeen=!0;for(var i=e.body,o=0,a=i.length;o<a;o++){var l=i[o],f=this.accept(l);if(!!f){var p=$p(i,o,r),h=Vp(i,o,r),g=f.openStandalone&&p,d=f.closeStandalone&&h,y=f.inlineStandalone&&p&&h;f.close&&di(i,o,!0),f.open&&An(i,o,!0),t&&y&&(di(i,o),An(i,o)&&l.type==="PartialStatement"&&(l.indent=/([ \t]+$)/.exec(i[o-1].original)[1])),t&&g&&(di((l.program||l.inverse).body),An(i,o)),t&&d&&(di(i,o),An((l.inverse||l.program).body))}}return e};Nr.prototype.BlockStatement=Nr.prototype.DecoratorBlock=Nr.prototype.PartialBlockStatement=function(e){this.accept(e.program),this.accept(e.inverse);var t=e.program||e.inverse,r=e.program&&e.inverse,i=r,o=r;if(r&&r.chained)for(i=r.body[0].program;o.chained;)o=o.body[o.body.length-1].program;var a={open:e.openStrip.open,close:e.closeStrip.close,openStandalone:Vp(t.body),closeStandalone:$p((i||t).body)};if(e.openStrip.close&&di(t.body,null,!0),r){var l=e.inverseStrip;l.open&&An(t.body,null,!0),l.close&&di(i.body,null,!0),e.closeStrip.open&&An(o.body,null,!0),!this.options.ignoreStandalone&&$p(t.body)&&Vp(i.body)&&(An(t.body),di(i.body))}else e.closeStrip.open&&An(t.body,null,!0);return a};Nr.prototype.Decorator=Nr.prototype.MustacheStatement=function(e){return e.strip};Nr.prototype.PartialStatement=Nr.prototype.CommentStatement=function(e){var t=e.strip||{};return{inlineStandalone:!0,open:t.open,close:t.close}};function $p(e,t,r){t===void 0&&(t=e.length);var i=e[t-1],o=e[t-2];if(!i)return r;if(i.type==="ContentStatement")return(o||!r?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(i.original)}function Vp(e,t,r){t===void 0&&(t=-1);var i=e[t+1],o=e[t+2];if(!i)return r;if(i.type==="ContentStatement")return(o||!r?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(i.original)}function di(e,t,r){var i=e[t==null?0:t+1];if(!(!i||i.type!=="ContentStatement"||!r&&i.rightStripped)){var o=i.value;i.value=i.value.replace(r?/^\s+/:/^[ \t]*\r?\n?/,""),i.rightStripped=i.value!==o}}function An(e,t,r){var i=e[t==null?e.length-1:t-1];if(!(!i||i.type!=="ContentStatement"||!r&&i.leftStripped)){var o=i.value;return i.value=i.value.replace(r?/\s+$/:/[ \t]+$/,""),i.leftStripped=i.value!==o,i.leftStripped}}ju.default=Nr;Db.exports=ju.default});var Mb=S(or=>{"use strict";or.__esModule=!0;or.SourceLocation=T7;or.id=N7;or.stripFlags=I7;or.stripComment=D7;or.preparePath=k7;or.prepareMustache=M7;or.prepareRawBlock=F7;or.prepareBlock=B7;or.prepareProgram=q7;or.preparePartialBlock=U7;function R7(e){return e&&e.__esModule?e:{default:e}}var O7=sr(),Kp=R7(O7);function Yp(e,t){if(t=t.path?t.path.original:t,e.path.original!==t){var r={loc:e.path.loc};throw new Kp.default(e.path.original+" doesn't match "+t,r)}}function T7(e,t){this.source=e,this.start={line:t.first_line,column:t.first_column},this.end={line:t.last_line,column:t.last_column}}function N7(e){return/^\[.*\]$/.test(e)?e.substring(1,e.length-1):e}function I7(e,t){return{open:e.charAt(2)==="~",close:t.charAt(t.length-3)==="~"}}function D7(e){return e.replace(/^\{\{~?!-?-?/,"").replace(/-?-?~?\}\}$/,"")}function k7(e,t,r){r=this.locInfo(r);for(var i=e?"@":"",o=[],a=0,l=0,f=t.length;l<f;l++){var p=t[l].part,h=t[l].original!==p;if(i+=(t[l].separator||"")+p,!h&&(p===".."||p==="."||p==="this")){if(o.length>0)throw new Kp.default("Invalid path: "+i,{loc:r});p===".."&&a++}else o.push(p)}return{type:"PathExpression",data:e,depth:a,parts:o,original:i,loc:r}}function M7(e,t,r,i,o,a){var l=i.charAt(3)||i.charAt(2),f=l!=="{"&&l!=="&",p=/\*/.test(i);return{type:p?"Decorator":"MustacheStatement",path:e,params:t,hash:r,escaped:f,strip:o,loc:this.locInfo(a)}}function F7(e,t,r,i){Yp(e,r),i=this.locInfo(i);var o={type:"Program",body:t,strip:{},loc:i};return{type:"BlockStatement",path:e.path,params:e.params,hash:e.hash,program:o,openStrip:{},inverseStrip:{},closeStrip:{},loc:i}}function B7(e,t,r,i,o,a){i&&i.path&&Yp(e,i);var l=/\*/.test(e.open);t.blockParams=e.blockParams;var f=void 0,p=void 0;if(r){if(l)throw new Kp.default("Unexpected inverse block on decorator",r);r.chain&&(r.program.body[0].closeStrip=i.strip),p=r.strip,f=r.program}return o&&(o=f,f=t,t=o),{type:l?"DecoratorBlock":"BlockStatement",path:e.path,params:e.params,hash:e.hash,program:t,inverse:f,openStrip:e.strip,inverseStrip:p,closeStrip:i&&i.strip,loc:this.locInfo(a)}}function q7(e,t){if(!t&&e.length){var r=e[0].loc,i=e[e.length-1].loc;r&&i&&(t={source:r.source,start:{line:r.start.line,column:r.start.column},end:{line:i.end.line,column:i.end.column}})}return{type:"Program",body:e,strip:{},loc:t}}function U7(e,t,r,i){return Yp(e,r),{type:"PartialBlockStatement",name:e.path,params:e.params,hash:e.hash,program:t,openStrip:e.strip,closeStrip:r&&r.strip,loc:this.locInfo(i)}}});var qb=S(po=>{"use strict";po.__esModule=!0;po.parseWithoutProcessing=Bb;po.parse=Y7;function G7(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function Fb(e){return e&&e.__esModule?e:{default:e}}var j7=Ob(),zp=Fb(j7),W7=kb(),H7=Fb(W7),$7=Mb(),V7=G7($7),K7=Tt();po.parser=zp.default;var Wu={};K7.extend(Wu,V7);function Bb(e,t){if(e.type==="Program")return e;zp.default.yy=Wu,Wu.locInfo=function(i){return new Wu.SourceLocation(t&&t.srcName,i)};var r=zp.default.parse(e);return r}function Y7(e,t){var r=Bb(e,t),i=new H7.default(t);return i.accept(r)}});var Wb=S(vo=>{"use strict";vo.__esModule=!0;vo.Compiler=Jp;vo.precompile=Z7;vo.compile=Q7;function Ub(e){return e&&e.__esModule?e:{default:e}}var z7=sr(),ho=Ub(z7),go=Tt(),J7=Wp(),mo=Ub(J7),X7=[].slice;function Jp(){}Jp.prototype={compiler:Jp,equals:function(t){var r=this.opcodes.length;if(t.opcodes.length!==r)return!1;for(var i=0;i<r;i++){var o=this.opcodes[i],a=t.opcodes[i];if(o.opcode!==a.opcode||!Gb(o.args,a.args))return!1}r=this.children.length;for(var i=0;i<r;i++)if(!this.children[i].equals(t.children[i]))return!1;return!0},guid:0,compile:function(t,r){return this.sourceNode=[],this.opcodes=[],this.children=[],this.options=r,this.stringParams=r.stringParams,this.trackIds=r.trackIds,r.blockParams=r.blockParams||[],r.knownHelpers=go.extend(Object.create(null),{helperMissing:!0,blockHelperMissing:!0,each:!0,if:!0,unless:!0,with:!0,log:!0,lookup:!0},r.knownHelpers),this.accept(t)},compileProgram:function(t){var r=new this.compiler,i=r.compile(t,this.options),o=this.guid++;return this.usePartial=this.usePartial||i.usePartial,this.children[o]=i,this.useDepths=this.useDepths||i.useDepths,o},accept:function(t){if(!this[t.type])throw new ho.default("Unknown type: "+t.type,t);this.sourceNode.unshift(t);var r=this[t.type](t);return this.sourceNode.shift(),r},Program:function(t){this.options.blockParams.unshift(t.blockParams);for(var r=t.body,i=r.length,o=0;o<i;o++)this.accept(r[o]);return this.options.blockParams.shift(),this.isSimple=i===1,this.blockParams=t.blockParams?t.blockParams.length:0,this},BlockStatement:function(t){jb(t);var r=t.program,i=t.inverse;r=r&&this.compileProgram(r),i=i&&this.compileProgram(i);var o=this.classifySexpr(t);o==="helper"?this.helperSexpr(t,r,i):o==="simple"?(this.simpleSexpr(t),this.opcode("pushProgram",r),this.opcode("pushProgram",i),this.opcode("emptyHash"),this.opcode("blockValue",t.path.original)):(this.ambiguousSexpr(t,r,i),this.opcode("pushProgram",r),this.opcode("pushProgram",i),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},DecoratorBlock:function(t){var r=t.program&&this.compileProgram(t.program),i=this.setupFullMustacheParams(t,r,void 0),o=t.path;this.useDecorators=!0,this.opcode("registerDecorator",i.length,o.original)},PartialStatement:function(t){this.usePartial=!0;var r=t.program;r&&(r=this.compileProgram(t.program));var i=t.params;if(i.length>1)throw new ho.default("Unsupported number of partial arguments: "+i.length,t);i.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):i.push({type:"PathExpression",parts:[],depth:0}));var o=t.name.original,a=t.name.type==="SubExpression";a&&this.accept(t.name),this.setupFullMustacheParams(t,r,void 0,!0);var l=t.indent||"";this.options.preventIndent&&l&&(this.opcode("appendContent",l),l=""),this.opcode("invokePartial",a,o,l),this.opcode("append")},PartialBlockStatement:function(t){this.PartialStatement(t)},MustacheStatement:function(t){this.SubExpression(t),t.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function(t){this.DecoratorBlock(t)},ContentStatement:function(t){t.value&&this.opcode("appendContent",t.value)},CommentStatement:function(){},SubExpression:function(t){jb(t);var r=this.classifySexpr(t);r==="simple"?this.simpleSexpr(t):r==="helper"?this.helperSexpr(t):this.ambiguousSexpr(t)},ambiguousSexpr:function(t,r,i){var o=t.path,a=o.parts[0],l=r!=null||i!=null;this.opcode("getContext",o.depth),this.opcode("pushProgram",r),this.opcode("pushProgram",i),o.strict=!0,this.accept(o),this.opcode("invokeAmbiguous",a,l)},simpleSexpr:function(t){var r=t.path;r.strict=!0,this.accept(r),this.opcode("resolvePossibleLambda")},helperSexpr:function(t,r,i){var o=this.setupFullMustacheParams(t,r,i),a=t.path,l=a.parts[0];if(this.options.knownHelpers[l])this.opcode("invokeKnownHelper",o.length,l);else{if(this.options.knownHelpersOnly)throw new ho.default("You specified knownHelpersOnly, but used the unknown helper "+l,t);a.strict=!0,a.falsy=!0,this.accept(a),this.opcode("invokeHelper",o.length,a.original,mo.default.helpers.simpleId(a))}},PathExpression:function(t){this.addDepth(t.depth),this.opcode("getContext",t.depth);var r=t.parts[0],i=mo.default.helpers.scopedId(t),o=!t.depth&&!i&&this.blockParamIndex(r);o?this.opcode("lookupBlockParam",o,t.parts):r?t.data?(this.options.data=!0,this.opcode("lookupData",t.depth,t.parts,t.strict)):this.opcode("lookupOnContext",t.parts,t.falsy,t.strict,i):this.opcode("pushContext")},StringLiteral:function(t){this.opcode("pushString",t.value)},NumberLiteral:function(t){this.opcode("pushLiteral",t.value)},BooleanLiteral:function(t){this.opcode("pushLiteral",t.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(t){var r=t.pairs,i=0,o=r.length;for(this.opcode("pushHash");i<o;i++)this.pushParam(r[i].value);for(;i--;)this.opcode("assignToHash",r[i].key);this.opcode("popHash")},opcode:function(t){this.opcodes.push({opcode:t,args:X7.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(t){!t||(this.useDepths=!0)},classifySexpr:function(t){var r=mo.default.helpers.simpleId(t.path),i=r&&!!this.blockParamIndex(t.path.parts[0]),o=!i&&mo.default.helpers.helperExpression(t),a=!i&&(o||r);if(a&&!o){var l=t.path.parts[0],f=this.options;f.knownHelpers[l]?o=!0:f.knownHelpersOnly&&(a=!1)}return o?"helper":a?"ambiguous":"simple"},pushParams:function(t){for(var r=0,i=t.length;r<i;r++)this.pushParam(t[r])},pushParam:function(t){var r=t.value!=null?t.value:t.original||"";if(this.stringParams)r.replace&&(r=r.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),t.depth&&this.addDepth(t.depth),this.opcode("getContext",t.depth||0),this.opcode("pushStringParam",r,t.type),t.type==="SubExpression"&&this.accept(t);else{if(this.trackIds){var i=void 0;if(t.parts&&!mo.default.helpers.scopedId(t)&&!t.depth&&(i=this.blockParamIndex(t.parts[0])),i){var o=t.parts.slice(1).join(".");this.opcode("pushId","BlockParam",i,o)}else r=t.original||r,r.replace&&(r=r.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",t.type,r)}this.accept(t)}},setupFullMustacheParams:function(t,r,i,o){var a=t.params;return this.pushParams(a),this.opcode("pushProgram",r),this.opcode("pushProgram",i),t.hash?this.accept(t.hash):this.opcode("emptyHash",o),a},blockParamIndex:function(t){for(var r=0,i=this.options.blockParams.length;r<i;r++){var o=this.options.blockParams[r],a=o&&go.indexOf(o,t);if(o&&a>=0)return[r,a]}}};function Z7(e,t,r){if(e==null||typeof e!="string"&&e.type!=="Program")throw new ho.default("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+e);t=t||{},"data"in t||(t.data=!0),t.compat&&(t.useDepths=!0);var i=r.parse(e,t),o=new r.Compiler().compile(i,t);return new r.JavaScriptCompiler().compile(o,t)}function Q7(e,t,r){if(t===void 0&&(t={}),e==null||typeof e!="string"&&e.type!=="Program")throw new ho.default("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+e);t=go.extend({},t),"data"in t||(t.data=!0),t.compat&&(t.useDepths=!0);var i=void 0;function o(){var l=r.parse(e,t),f=new r.Compiler().compile(l,t),p=new r.JavaScriptCompiler().compile(f,t,void 0,!0);return r.template(p)}function a(l,f){return i||(i=o()),i.call(this,l,f)}return a._setup=function(l){return i||(i=o()),i._setup(l)},a._child=function(l,f,p,h){return i||(i=o()),i._child(l,f,p,h)},a}function Gb(e,t){if(e===t)return!0;if(go.isArray(e)&&go.isArray(t)&&e.length===t.length){for(var r=0;r<e.length;r++)if(!Gb(e[r],t[r]))return!1;return!0}}function jb(e){if(!e.path.parts){var t=e.path;e.path={type:"PathExpression",data:!1,depth:0,parts:[t.original+""],original:t.original+"",loc:t.loc}}}});var $b=S(Xp=>{var Hb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");Xp.encode=function(e){if(0<=e&&e<Hb.length)return Hb[e];throw new TypeError("Must be between 0 and 63: "+e)};Xp.decode=function(e){var t=65,r=90,i=97,o=122,a=48,l=57,f=43,p=47,h=26,g=52;return t<=e&&e<=r?e-t:i<=e&&e<=o?e-i+h:a<=e&&e<=l?e-a+g:e==f?62:e==p?63:-1}});var eh=S(Qp=>{var Vb=$b(),Zp=5,Kb=1<<Zp,Yb=Kb-1,zb=Kb;function eU(e){return e<0?(-e<<1)+1:(e<<1)+0}function tU(e){var t=(e&1)==1,r=e>>1;return t?-r:r}Qp.encode=function(t){var r="",i,o=eU(t);do i=o&Yb,o>>>=Zp,o>0&&(i|=zb),r+=Vb.encode(i);while(o>0);return r};Qp.decode=function(t,r,i){var o=t.length,a=0,l=0,f,p;do{if(r>=o)throw new Error("Expected more digits in base 64 VLQ value.");if(p=Vb.decode(t.charCodeAt(r++)),p===-1)throw new Error("Invalid base64 digit: "+t.charAt(r-1));f=!!(p&zb),p&=Yb,a=a+(p<<l),l+=Zp}while(f);i.value=tU(a),i.rest=r}});var os=S(St=>{function rU(e,t,r){if(t in e)return e[t];if(arguments.length===3)return r;throw new Error('"'+t+'" is a required argument.')}St.getArg=rU;var Jb=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,nU=/^data:.+\,.+$/;function yo(e){var t=e.match(Jb);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}St.urlParse=yo;function is(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}St.urlGenerate=is;function th(e){var t=e,r=yo(e);if(r){if(!r.path)return e;t=r.path}for(var i=St.isAbsolute(t),o=t.split(/\/+/),a,l=0,f=o.length-1;f>=0;f--)a=o[f],a==="."?o.splice(f,1):a===".."?l++:l>0&&(a===""?(o.splice(f+1,l),l=0):(o.splice(f,2),l--));return t=o.join("/"),t===""&&(t=i?"/":"."),r?(r.path=t,is(r)):t}St.normalize=th;function Xb(e,t){e===""&&(e="."),t===""&&(t=".");var r=yo(t),i=yo(e);if(i&&(e=i.path||"/"),r&&!r.scheme)return i&&(r.scheme=i.scheme),is(r);if(r||t.match(nU))return t;if(i&&!i.host&&!i.path)return i.host=t,is(i);var o=t.charAt(0)==="/"?t:th(e.replace(/\/+$/,"")+"/"+t);return i?(i.path=o,is(i)):o}St.join=Xb;St.isAbsolute=function(e){return e.charAt(0)==="/"||Jb.test(e)};function iU(e,t){e===""&&(e="."),e=e.replace(/\/$/,"");for(var r=0;t.indexOf(e+"/")!==0;){var i=e.lastIndexOf("/");if(i<0||(e=e.slice(0,i),e.match(/^([^\/]+:\/)?\/*$/)))return t;++r}return Array(r+1).join("../")+t.substr(e.length+1)}St.relative=iU;var Zb=function(){var e=Object.create(null);return!("__proto__"in e)}();function Qb(e){return e}function sU(e){return ew(e)?"$"+e:e}St.toSetString=Zb?Qb:sU;function oU(e){return ew(e)?e.slice(1):e}St.fromSetString=Zb?Qb:oU;function ew(e){if(!e)return!1;var t=e.length;if(t<9||e.charCodeAt(t-1)!==95||e.charCodeAt(t-2)!==95||e.charCodeAt(t-3)!==111||e.charCodeAt(t-4)!==116||e.charCodeAt(t-5)!==111||e.charCodeAt(t-6)!==114||e.charCodeAt(t-7)!==112||e.charCodeAt(t-8)!==95||e.charCodeAt(t-9)!==95)return!1;for(var r=t-10;r>=0;r--)if(e.charCodeAt(r)!==36)return!1;return!0}function aU(e,t,r){var i=ss(e.source,t.source);return i!==0||(i=e.originalLine-t.originalLine,i!==0)||(i=e.originalColumn-t.originalColumn,i!==0||r)||(i=e.generatedColumn-t.generatedColumn,i!==0)||(i=e.generatedLine-t.generatedLine,i!==0)?i:ss(e.name,t.name)}St.compareByOriginalPositions=aU;function uU(e,t,r){var i=e.generatedLine-t.generatedLine;return i!==0||(i=e.generatedColumn-t.generatedColumn,i!==0||r)||(i=ss(e.source,t.source),i!==0)||(i=e.originalLine-t.originalLine,i!==0)||(i=e.originalColumn-t.originalColumn,i!==0)?i:ss(e.name,t.name)}St.compareByGeneratedPositionsDeflated=uU;function ss(e,t){return e===t?0:e===null?1:t===null?-1:e>t?1:-1}function lU(e,t){var r=e.generatedLine-t.generatedLine;return r!==0||(r=e.generatedColumn-t.generatedColumn,r!==0)||(r=ss(e.source,t.source),r!==0)||(r=e.originalLine-t.originalLine,r!==0)||(r=e.originalColumn-t.originalColumn,r!==0)?r:ss(e.name,t.name)}St.compareByGeneratedPositionsInflated=lU;function fU(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))}St.parseSourceMapInput=fU;function cU(e,t,r){if(t=t||"",e&&(e[e.length-1]!=="/"&&t[0]!=="/"&&(e+="/"),t=e+t),r){var i=yo(r);if(!i)throw new Error("sourceMapURL could not be parsed");if(i.path){var o=i.path.lastIndexOf("/");o>=0&&(i.path=i.path.substring(0,o+1))}t=Xb(is(i),t)}return th(t)}St.computeSourceURL=cU});var ih=S(tw=>{var rh=os(),nh=Object.prototype.hasOwnProperty,gi=typeof Map!="undefined";function Jr(){this._array=[],this._set=gi?new Map:Object.create(null)}Jr.fromArray=function(t,r){for(var i=new Jr,o=0,a=t.length;o<a;o++)i.add(t[o],r);return i};Jr.prototype.size=function(){return gi?this._set.size:Object.getOwnPropertyNames(this._set).length};Jr.prototype.add=function(t,r){var i=gi?t:rh.toSetString(t),o=gi?this.has(t):nh.call(this._set,i),a=this._array.length;(!o||r)&&this._array.push(t),o||(gi?this._set.set(t,a):this._set[i]=a)};Jr.prototype.has=function(t){if(gi)return this._set.has(t);var r=rh.toSetString(t);return nh.call(this._set,r)};Jr.prototype.indexOf=function(t){if(gi){var r=this._set.get(t);if(r>=0)return r}else{var i=rh.toSetString(t);if(nh.call(this._set,i))return this._set[i]}throw new Error('"'+t+'" is not in the set.')};Jr.prototype.at=function(t){if(t>=0&&t<this._array.length)return this._array[t];throw new Error("No element indexed by "+t)};Jr.prototype.toArray=function(){return this._array.slice()};tw.ArraySet=Jr});var iw=S(nw=>{var rw=os();function pU(e,t){var r=e.generatedLine,i=t.generatedLine,o=e.generatedColumn,a=t.generatedColumn;return i>r||i==r&&a>=o||rw.compareByGeneratedPositionsInflated(e,t)<=0}function Hu(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}Hu.prototype.unsortedForEach=function(t,r){this._array.forEach(t,r)};Hu.prototype.add=function(t){pU(this._last,t)?(this._last=t,this._array.push(t)):(this._sorted=!1,this._array.push(t))};Hu.prototype.toArray=function(){return this._sorted||(this._array.sort(rw.compareByGeneratedPositionsInflated),this._sorted=!0),this._array};nw.MappingList=Hu});var sh=S(sw=>{var _o=eh(),st=os(),$u=ih().ArraySet,hU=iw().MappingList;function ar(e){e||(e={}),this._file=st.getArg(e,"file",null),this._sourceRoot=st.getArg(e,"sourceRoot",null),this._skipValidation=st.getArg(e,"skipValidation",!1),this._sources=new $u,this._names=new $u,this._mappings=new hU,this._sourcesContents=null}ar.prototype._version=3;ar.fromSourceMap=function(t){var r=t.sourceRoot,i=new ar({file:t.file,sourceRoot:r});return t.eachMapping(function(o){var a={generated:{line:o.generatedLine,column:o.generatedColumn}};o.source!=null&&(a.source=o.source,r!=null&&(a.source=st.relative(r,a.source)),a.original={line:o.originalLine,column:o.originalColumn},o.name!=null&&(a.name=o.name)),i.addMapping(a)}),t.sources.forEach(function(o){var a=o;r!==null&&(a=st.relative(r,o)),i._sources.has(a)||i._sources.add(a);var l=t.sourceContentFor(o);l!=null&&i.setSourceContent(o,l)}),i};ar.prototype.addMapping=function(t){var r=st.getArg(t,"generated"),i=st.getArg(t,"original",null),o=st.getArg(t,"source",null),a=st.getArg(t,"name",null);this._skipValidation||this._validateMapping(r,i,o,a),o!=null&&(o=String(o),this._sources.has(o)||this._sources.add(o)),a!=null&&(a=String(a),this._names.has(a)||this._names.add(a)),this._mappings.add({generatedLine:r.line,generatedColumn:r.column,originalLine:i!=null&&i.line,originalColumn:i!=null&&i.column,source:o,name:a})};ar.prototype.setSourceContent=function(t,r){var i=t;this._sourceRoot!=null&&(i=st.relative(this._sourceRoot,i)),r!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[st.toSetString(i)]=r):this._sourcesContents&&(delete this._sourcesContents[st.toSetString(i)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))};ar.prototype.applySourceMap=function(t,r,i){var o=r;if(r==null){if(t.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);o=t.file}var a=this._sourceRoot;a!=null&&(o=st.relative(a,o));var l=new $u,f=new $u;this._mappings.unsortedForEach(function(p){if(p.source===o&&p.originalLine!=null){var h=t.originalPositionFor({line:p.originalLine,column:p.originalColumn});h.source!=null&&(p.source=h.source,i!=null&&(p.source=st.join(i,p.source)),a!=null&&(p.source=st.relative(a,p.source)),p.originalLine=h.line,p.originalColumn=h.column,h.name!=null&&(p.name=h.name))}var g=p.source;g!=null&&!l.has(g)&&l.add(g);var d=p.name;d!=null&&!f.has(d)&&f.add(d)},this),this._sources=l,this._names=f,t.sources.forEach(function(p){var h=t.sourceContentFor(p);h!=null&&(i!=null&&(p=st.join(i,p)),a!=null&&(p=st.relative(a,p)),this.setSourceContent(p,h))},this)};ar.prototype._validateMapping=function(t,r,i,o){if(r&&typeof r.line!="number"&&typeof r.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(t&&"line"in t&&"column"in t&&t.line>0&&t.column>=0&&!r&&!i&&!o)){if(t&&"line"in t&&"column"in t&&r&&"line"in r&&"column"in r&&t.line>0&&t.column>=0&&r.line>0&&r.column>=0&&i)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:t,source:i,original:r,name:o}))}};ar.prototype._serializeMappings=function(){for(var t=0,r=1,i=0,o=0,a=0,l=0,f="",p,h,g,d,y=this._mappings.toArray(),w=0,E=y.length;w<E;w++){if(h=y[w],p="",h.generatedLine!==r)for(t=0;h.generatedLine!==r;)p+=";",r++;else if(w>0){if(!st.compareByGeneratedPositionsInflated(h,y[w-1]))continue;p+=","}p+=_o.encode(h.generatedColumn-t),t=h.generatedColumn,h.source!=null&&(d=this._sources.indexOf(h.source),p+=_o.encode(d-l),l=d,p+=_o.encode(h.originalLine-1-o),o=h.originalLine-1,p+=_o.encode(h.originalColumn-i),i=h.originalColumn,h.name!=null&&(g=this._names.indexOf(h.name),p+=_o.encode(g-a),a=g)),f+=p}return f};ar.prototype._generateSourcesContent=function(t,r){return t.map(function(i){if(!this._sourcesContents)return null;r!=null&&(i=st.relative(r,i));var o=st.toSetString(i);return Object.prototype.hasOwnProperty.call(this._sourcesContents,o)?this._sourcesContents[o]:null},this)};ar.prototype.toJSON=function(){var t={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(t.file=this._file),this._sourceRoot!=null&&(t.sourceRoot=this._sourceRoot),this._sourcesContents&&(t.sourcesContent=this._generateSourcesContent(t.sources,t.sourceRoot)),t};ar.prototype.toString=function(){return JSON.stringify(this.toJSON())};sw.SourceMapGenerator=ar});var ow=S(mi=>{mi.GREATEST_LOWER_BOUND=1;mi.LEAST_UPPER_BOUND=2;function oh(e,t,r,i,o,a){var l=Math.floor((t-e)/2)+e,f=o(r,i[l],!0);return f===0?l:f>0?t-l>1?oh(l,t,r,i,o,a):a==mi.LEAST_UPPER_BOUND?t<i.length?t:-1:l:l-e>1?oh(e,l,r,i,o,a):a==mi.LEAST_UPPER_BOUND?l:e<0?-1:e}mi.search=function(t,r,i,o){if(r.length===0)return-1;var a=oh(-1,r.length,t,r,i,o||mi.GREATEST_LOWER_BOUND);if(a<0)return-1;for(;a-1>=0&&i(r[a],r[a-1],!0)===0;)--a;return a}});var uw=S(aw=>{function ah(e,t,r){var i=e[t];e[t]=e[r],e[r]=i}function dU(e,t){return Math.round(e+Math.random()*(t-e))}function uh(e,t,r,i){if(r<i){var o=dU(r,i),a=r-1;ah(e,o,i);for(var l=e[i],f=r;f<i;f++)t(e[f],l)<=0&&(a+=1,ah(e,a,f));ah(e,a+1,f);var p=a+1;uh(e,t,r,p-1),uh(e,t,p+1,i)}}aw.quickSort=function(e,t){uh(e,t,0,e.length-1)}});var fw=S(Vu=>{var ne=os(),lh=ow(),as=ih().ArraySet,gU=eh(),bo=uw().quickSort;function $e(e,t){var r=e;return typeof e=="string"&&(r=ne.parseSourceMapInput(e)),r.sections!=null?new wr(r,t):new ht(r,t)}$e.fromSourceMap=function(e,t){return ht.fromSourceMap(e,t)};$e.prototype._version=3;$e.prototype.__generatedMappings=null;Object.defineProperty($e.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}});$e.prototype.__originalMappings=null;Object.defineProperty($e.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}});$e.prototype._charIsMappingSeparator=function(t,r){var i=t.charAt(r);return i===";"||i===","};$e.prototype._parseMappings=function(t,r){throw new Error("Subclasses must implement _parseMappings")};$e.GENERATED_ORDER=1;$e.ORIGINAL_ORDER=2;$e.GREATEST_LOWER_BOUND=1;$e.LEAST_UPPER_BOUND=2;$e.prototype.eachMapping=function(t,r,i){var o=r||null,a=i||$e.GENERATED_ORDER,l;switch(a){case $e.GENERATED_ORDER:l=this._generatedMappings;break;case $e.ORIGINAL_ORDER:l=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var f=this.sourceRoot;l.map(function(p){var h=p.source===null?null:this._sources.at(p.source);return h=ne.computeSourceURL(f,h,this._sourceMapURL),{source:h,generatedLine:p.generatedLine,generatedColumn:p.generatedColumn,originalLine:p.originalLine,originalColumn:p.originalColumn,name:p.name===null?null:this._names.at(p.name)}},this).forEach(t,o)};$e.prototype.allGeneratedPositionsFor=function(t){var r=ne.getArg(t,"line"),i={source:ne.getArg(t,"source"),originalLine:r,originalColumn:ne.getArg(t,"column",0)};if(i.source=this._findSourceIndex(i.source),i.source<0)return[];var o=[],a=this._findMapping(i,this._originalMappings,"originalLine","originalColumn",ne.compareByOriginalPositions,lh.LEAST_UPPER_BOUND);if(a>=0){var l=this._originalMappings[a];if(t.column===void 0)for(var f=l.originalLine;l&&l.originalLine===f;)o.push({line:ne.getArg(l,"generatedLine",null),column:ne.getArg(l,"generatedColumn",null),lastColumn:ne.getArg(l,"lastGeneratedColumn",null)}),l=this._originalMappings[++a];else for(var p=l.originalColumn;l&&l.originalLine===r&&l.originalColumn==p;)o.push({line:ne.getArg(l,"generatedLine",null),column:ne.getArg(l,"generatedColumn",null),lastColumn:ne.getArg(l,"lastGeneratedColumn",null)}),l=this._originalMappings[++a]}return o};Vu.SourceMapConsumer=$e;function ht(e,t){var r=e;typeof e=="string"&&(r=ne.parseSourceMapInput(e));var i=ne.getArg(r,"version"),o=ne.getArg(r,"sources"),a=ne.getArg(r,"names",[]),l=ne.getArg(r,"sourceRoot",null),f=ne.getArg(r,"sourcesContent",null),p=ne.getArg(r,"mappings"),h=ne.getArg(r,"file",null);if(i!=this._version)throw new Error("Unsupported version: "+i);l&&(l=ne.normalize(l)),o=o.map(String).map(ne.normalize).map(function(g){return l&&ne.isAbsolute(l)&&ne.isAbsolute(g)?ne.relative(l,g):g}),this._names=as.fromArray(a.map(String),!0),this._sources=as.fromArray(o,!0),this._absoluteSources=this._sources.toArray().map(function(g){return ne.computeSourceURL(l,g,t)}),this.sourceRoot=l,this.sourcesContent=f,this._mappings=p,this._sourceMapURL=t,this.file=h}ht.prototype=Object.create($e.prototype);ht.prototype.consumer=$e;ht.prototype._findSourceIndex=function(e){var t=e;if(this.sourceRoot!=null&&(t=ne.relative(this.sourceRoot,t)),this._sources.has(t))return this._sources.indexOf(t);var r;for(r=0;r<this._absoluteSources.length;++r)if(this._absoluteSources[r]==e)return r;return-1};ht.fromSourceMap=function(t,r){var i=Object.create(ht.prototype),o=i._names=as.fromArray(t._names.toArray(),!0),a=i._sources=as.fromArray(t._sources.toArray(),!0);i.sourceRoot=t._sourceRoot,i.sourcesContent=t._generateSourcesContent(i._sources.toArray(),i.sourceRoot),i.file=t._file,i._sourceMapURL=r,i._absoluteSources=i._sources.toArray().map(function(w){return ne.computeSourceURL(i.sourceRoot,w,r)});for(var l=t._mappings.toArray().slice(),f=i.__generatedMappings=[],p=i.__originalMappings=[],h=0,g=l.length;h<g;h++){var d=l[h],y=new lw;y.generatedLine=d.generatedLine,y.generatedColumn=d.generatedColumn,d.source&&(y.source=a.indexOf(d.source),y.originalLine=d.originalLine,y.originalColumn=d.originalColumn,d.name&&(y.name=o.indexOf(d.name)),p.push(y)),f.push(y)}return bo(i.__originalMappings,ne.compareByOriginalPositions),i};ht.prototype._version=3;Object.defineProperty(ht.prototype,"sources",{get:function(){return this._absoluteSources.slice()}});function lw(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}ht.prototype._parseMappings=function(t,r){for(var i=1,o=0,a=0,l=0,f=0,p=0,h=t.length,g=0,d={},y={},w=[],E=[],A,T,I,$,U;g<h;)if(t.charAt(g)===";")i++,g++,o=0;else if(t.charAt(g)===",")g++;else{for(A=new lw,A.generatedLine=i,$=g;$<h&&!this._charIsMappingSeparator(t,$);$++);if(T=t.slice(g,$),I=d[T],I)g+=T.length;else{for(I=[];g<$;)gU.decode(t,g,y),U=y.value,g=y.rest,I.push(U);if(I.length===2)throw new Error("Found a source, but no line and column");if(I.length===3)throw new Error("Found a source and line, but no column");d[T]=I}A.generatedColumn=o+I[0],o=A.generatedColumn,I.length>1&&(A.source=f+I[1],f+=I[1],A.originalLine=a+I[2],a=A.originalLine,A.originalLine+=1,A.originalColumn=l+I[3],l=A.originalColumn,I.length>4&&(A.name=p+I[4],p+=I[4])),E.push(A),typeof A.originalLine=="number"&&w.push(A)}bo(E,ne.compareByGeneratedPositionsDeflated),this.__generatedMappings=E,bo(w,ne.compareByOriginalPositions),this.__originalMappings=w};ht.prototype._findMapping=function(t,r,i,o,a,l){if(t[i]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+t[i]);if(t[o]<0)throw new TypeError("Column must be greater than or equal to 0, got "+t[o]);return lh.search(t,r,a,l)};ht.prototype.computeColumnSpans=function(){for(var t=0;t<this._generatedMappings.length;++t){var r=this._generatedMappings[t];if(t+1<this._generatedMappings.length){var i=this._generatedMappings[t+1];if(r.generatedLine===i.generatedLine){r.lastGeneratedColumn=i.generatedColumn-1;continue}}r.lastGeneratedColumn=Infinity}};ht.prototype.originalPositionFor=function(t){var r={generatedLine:ne.getArg(t,"line"),generatedColumn:ne.getArg(t,"column")},i=this._findMapping(r,this._generatedMappings,"generatedLine","generatedColumn",ne.compareByGeneratedPositionsDeflated,ne.getArg(t,"bias",$e.GREATEST_LOWER_BOUND));if(i>=0){var o=this._generatedMappings[i];if(o.generatedLine===r.generatedLine){var a=ne.getArg(o,"source",null);a!==null&&(a=this._sources.at(a),a=ne.computeSourceURL(this.sourceRoot,a,this._sourceMapURL));var l=ne.getArg(o,"name",null);return l!==null&&(l=this._names.at(l)),{source:a,line:ne.getArg(o,"originalLine",null),column:ne.getArg(o,"originalColumn",null),name:l}}}return{source:null,line:null,column:null,name:null}};ht.prototype.hasContentsOfAllSources=function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(t){return t==null}):!1};ht.prototype.sourceContentFor=function(t,r){if(!this.sourcesContent)return null;var i=this._findSourceIndex(t);if(i>=0)return this.sourcesContent[i];var o=t;this.sourceRoot!=null&&(o=ne.relative(this.sourceRoot,o));var a;if(this.sourceRoot!=null&&(a=ne.urlParse(this.sourceRoot))){var l=o.replace(/^file:\/\//,"");if(a.scheme=="file"&&this._sources.has(l))return this.sourcesContent[this._sources.indexOf(l)];if((!a.path||a.path=="/")&&this._sources.has("/"+o))return this.sourcesContent[this._sources.indexOf("/"+o)]}if(r)return null;throw new Error('"'+o+'" is not in the SourceMap.')};ht.prototype.generatedPositionFor=function(t){var r=ne.getArg(t,"source");if(r=this._findSourceIndex(r),r<0)return{line:null,column:null,lastColumn:null};var i={source:r,originalLine:ne.getArg(t,"line"),originalColumn:ne.getArg(t,"column")},o=this._findMapping(i,this._originalMappings,"originalLine","originalColumn",ne.compareByOriginalPositions,ne.getArg(t,"bias",$e.GREATEST_LOWER_BOUND));if(o>=0){var a=this._originalMappings[o];if(a.source===i.source)return{line:ne.getArg(a,"generatedLine",null),column:ne.getArg(a,"generatedColumn",null),lastColumn:ne.getArg(a,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}};Vu.BasicSourceMapConsumer=ht;function wr(e,t){var r=e;typeof e=="string"&&(r=ne.parseSourceMapInput(e));var i=ne.getArg(r,"version"),o=ne.getArg(r,"sections");if(i!=this._version)throw new Error("Unsupported version: "+i);this._sources=new as,this._names=new as;var a={line:-1,column:0};this._sections=o.map(function(l){if(l.url)throw new Error("Support for url field in sections not implemented.");var f=ne.getArg(l,"offset"),p=ne.getArg(f,"line"),h=ne.getArg(f,"column");if(p<a.line||p===a.line&&h<a.column)throw new Error("Section offsets must be ordered and non-overlapping.");return a=f,{generatedOffset:{generatedLine:p+1,generatedColumn:h+1},consumer:new $e(ne.getArg(l,"map"),t)}})}wr.prototype=Object.create($e.prototype);wr.prototype.constructor=$e;wr.prototype._version=3;Object.defineProperty(wr.prototype,"sources",{get:function(){for(var e=[],t=0;t<this._sections.length;t++)for(var r=0;r<this._sections[t].consumer.sources.length;r++)e.push(this._sections[t].consumer.sources[r]);return e}});wr.prototype.originalPositionFor=function(t){var r={generatedLine:ne.getArg(t,"line"),generatedColumn:ne.getArg(t,"column")},i=lh.search(r,this._sections,function(a,l){var f=a.generatedLine-l.generatedOffset.generatedLine;return f||a.generatedColumn-l.generatedOffset.generatedColumn}),o=this._sections[i];return o?o.consumer.originalPositionFor({line:r.generatedLine-(o.generatedOffset.generatedLine-1),column:r.generatedColumn-(o.generatedOffset.generatedLine===r.generatedLine?o.generatedOffset.generatedColumn-1:0),bias:t.bias}):{source:null,line:null,column:null,name:null}};wr.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(t){return t.consumer.hasContentsOfAllSources()})};wr.prototype.sourceContentFor=function(t,r){for(var i=0;i<this._sections.length;i++){var o=this._sections[i],a=o.consumer.sourceContentFor(t,!0);if(a)return a}if(r)return null;throw new Error('"'+t+'" is not in the SourceMap.')};wr.prototype.generatedPositionFor=function(t){for(var r=0;r<this._sections.length;r++){var i=this._sections[r];if(i.consumer._findSourceIndex(ne.getArg(t,"source"))!==-1){var o=i.consumer.generatedPositionFor(t);if(o){var a={line:o.line+(i.generatedOffset.generatedLine-1),column:o.column+(i.generatedOffset.generatedLine===o.line?i.generatedOffset.generatedColumn-1:0)};return a}}}return{line:null,column:null}};wr.prototype._parseMappings=function(t,r){this.__generatedMappings=[],this.__originalMappings=[];for(var i=0;i<this._sections.length;i++)for(var o=this._sections[i],a=o.consumer._generatedMappings,l=0;l<a.length;l++){var f=a[l],p=o.consumer._sources.at(f.source);p=ne.computeSourceURL(o.consumer.sourceRoot,p,this._sourceMapURL),this._sources.add(p),p=this._sources.indexOf(p);var h=null;f.name&&(h=o.consumer._names.at(f.name),this._names.add(h),h=this._names.indexOf(h));var g={source:p,generatedLine:f.generatedLine+(o.generatedOffset.generatedLine-1),generatedColumn:f.generatedColumn+(o.generatedOffset.generatedLine===f.generatedLine?o.generatedOffset.generatedColumn-1:0),originalLine:f.originalLine,originalColumn:f.originalColumn,name:h};this.__generatedMappings.push(g),typeof g.originalLine=="number"&&this.__originalMappings.push(g)}bo(this.__generatedMappings,ne.compareByGeneratedPositionsDeflated),bo(this.__originalMappings,ne.compareByOriginalPositions)};Vu.IndexedSourceMapConsumer=wr});var pw=S(cw=>{var mU=sh().SourceMapGenerator,Ku=os(),vU=/(\r?\n)/,yU=10,us="$$$isSourceNode$$$";function Vt(e,t,r,i,o){this.children=[],this.sourceContents={},this.line=e==null?null:e,this.column=t==null?null:t,this.source=r==null?null:r,this.name=o==null?null:o,this[us]=!0,i!=null&&this.add(i)}Vt.fromStringWithSourceMap=function(t,r,i){var o=new Vt,a=t.split(vU),l=0,f=function(){var y=E(),w=E()||"";return y+w;function E(){return l<a.length?a[l++]:void 0}},p=1,h=0,g=null;return r.eachMapping(function(y){if(g!==null)if(p<y.generatedLine)d(g,f()),p++,h=0;else{var w=a[l]||"",E=w.substr(0,y.generatedColumn-h);a[l]=w.substr(y.generatedColumn-h),h=y.generatedColumn,d(g,E),g=y;return}for(;p<y.generatedLine;)o.add(f()),p++;if(h<y.generatedColumn){var w=a[l]||"";o.add(w.substr(0,y.generatedColumn)),a[l]=w.substr(y.generatedColumn),h=y.generatedColumn}g=y},this),l<a.length&&(g&&d(g,f()),o.add(a.splice(l).join(""))),r.sources.forEach(function(y){var w=r.sourceContentFor(y);w!=null&&(i!=null&&(y=Ku.join(i,y)),o.setSourceContent(y,w))}),o;function d(y,w){if(y===null||y.source===void 0)o.add(w);else{var E=i?Ku.join(i,y.source):y.source;o.add(new Vt(y.originalLine,y.originalColumn,E,w,y.name))}}};Vt.prototype.add=function(t){if(Array.isArray(t))t.forEach(function(r){this.add(r)},this);else if(t[us]||typeof t=="string")t&&this.children.push(t);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+t);return this};Vt.prototype.prepend=function(t){if(Array.isArray(t))for(var r=t.length-1;r>=0;r--)this.prepend(t[r]);else if(t[us]||typeof t=="string")this.children.unshift(t);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+t);return this};Vt.prototype.walk=function(t){for(var r,i=0,o=this.children.length;i<o;i++)r=this.children[i],r[us]?r.walk(t):r!==""&&t(r,{source:this.source,line:this.line,column:this.column,name:this.name})};Vt.prototype.join=function(t){var r,i,o=this.children.length;if(o>0){for(r=[],i=0;i<o-1;i++)r.push(this.children[i]),r.push(t);r.push(this.children[i]),this.children=r}return this};Vt.prototype.replaceRight=function(t,r){var i=this.children[this.children.length-1];return i[us]?i.replaceRight(t,r):typeof i=="string"?this.children[this.children.length-1]=i.replace(t,r):this.children.push("".replace(t,r)),this};Vt.prototype.setSourceContent=function(t,r){this.sourceContents[Ku.toSetString(t)]=r};Vt.prototype.walkSourceContents=function(t){for(var r=0,i=this.children.length;r<i;r++)this.children[r][us]&&this.children[r].walkSourceContents(t);for(var o=Object.keys(this.sourceContents),r=0,i=o.length;r<i;r++)t(Ku.fromSetString(o[r]),this.sourceContents[o[r]])};Vt.prototype.toString=function(){var t="";return this.walk(function(r){t+=r}),t};Vt.prototype.toStringWithSourceMap=function(t){var r={code:"",line:1,column:0},i=new mU(t),o=!1,a=null,l=null,f=null,p=null;return this.walk(function(h,g){r.code+=h,g.source!==null&&g.line!==null&&g.column!==null?((a!==g.source||l!==g.line||f!==g.column||p!==g.name)&&i.addMapping({source:g.source,original:{line:g.line,column:g.column},generated:{line:r.line,column:r.column},name:g.name}),a=g.source,l=g.line,f=g.column,p=g.name,o=!0):o&&(i.addMapping({generated:{line:r.line,column:r.column}}),a=null,o=!1);for(var d=0,y=h.length;d<y;d++)h.charCodeAt(d)===yU?(r.line++,r.column=0,d+1===y?(a=null,o=!1):o&&i.addMapping({source:g.source,original:{line:g.line,column:g.column},generated:{line:r.line,column:r.column},name:g.name})):r.column++}),this.walkSourceContents(function(h,g){i.setSourceContent(h,g)}),{code:r.code,map:i}};cw.SourceNode=Vt});var hw=S(Yu=>{Yu.SourceMapGenerator=sh().SourceMapGenerator;Yu.SourceMapConsumer=fw().SourceMapConsumer;Yu.SourceNode=pw().SourceNode});var vw=S((zu,mw)=>{"use strict";zu.__esModule=!0;var fh=Tt(),vi=void 0;try{(typeof define!="function"||!define.amd)&&(dw=hw(),vi=dw.SourceNode)}catch(e){}var dw;vi||(vi=function(e,t,r,i){this.src="",i&&this.add(i)},vi.prototype={add:function(t){fh.isArray(t)&&(t=t.join("")),this.src+=t},prepend:function(t){fh.isArray(t)&&(t=t.join("")),this.src=t+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}});function ch(e,t,r){if(fh.isArray(e)){for(var i=[],o=0,a=e.length;o<a;o++)i.push(t.wrap(e[o],r));return i}else if(typeof e=="boolean"||typeof e=="number")return e+"";return e}function gw(e){this.srcFile=e,this.source=[]}gw.prototype={isEmpty:function(){return!this.source.length},prepend:function(t,r){this.source.unshift(this.wrap(t,r))},push:function(t,r){this.source.push(this.wrap(t,r))},merge:function(){var t=this.empty();return this.each(function(r){t.add(["  ",r,`
`])}),t},each:function(t){for(var r=0,i=this.source.length;r<i;r++)t(this.source[r])},empty:function(){var t=this.currentLocation||{start:{}};return new vi(t.start.line,t.start.column,this.srcFile)},wrap:function(t){var r=arguments.length<=1||arguments[1]===void 0?this.currentLocation||{start:{}}:arguments[1];return t instanceof vi?t:(t=ch(t,this,r),new vi(r.start.line,r.start.column,this.srcFile,t))},functionCall:function(t,r,i){return i=this.generateList(i),this.wrap([t,r?"."+r+"(":"(",i,")"])},quotedString:function(t){return'"'+(t+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(t){var r=this,i=[];Object.keys(t).forEach(function(a){var l=ch(t[a],r);l!=="undefined"&&i.push([r.quotedString(a),":",l])});var o=this.generateList(i);return o.prepend("{"),o.add("}"),o},generateList:function(t){for(var r=this.empty(),i=0,o=t.length;i<o;i++)i&&r.add(","),r.add(ch(t[i],this));return r},generateArray:function(t){var r=this.generateList(t);return r.prepend("["),r.add("]"),r}};zu.default=gw;mw.exports=zu.default});var Ew=S((Ju,ww)=>{"use strict";Ju.__esModule=!0;function yw(e){return e&&e.__esModule?e:{default:e}}var _w=Tu(),_U=sr(),ph=yw(_U),bU=Tt(),wU=vw(),bw=yw(wU);function ls(e){this.value=e}function fs(){}fs.prototype={nameLookup:function(t,r){return this.internalNameLookup(t,r)},depthedLookup:function(t){return[this.aliasable("container.lookup"),"(depths, ",JSON.stringify(t),")"]},compilerInfo:function(){var t=_w.COMPILER_REVISION,r=_w.REVISION_CHANGES[t];return[t,r]},appendToBuffer:function(t,r,i){return bU.isArray(t)||(t=[t]),t=this.source.wrap(t,r),this.environment.isSimple?["return ",t,";"]:i?["buffer += ",t,";"]:(t.appendToBuffer=!0,t)},initializeBuffer:function(){return this.quotedString("")},internalNameLookup:function(t,r){return this.lookupPropertyFunctionIsUsed=!0,["lookupProperty(",t,",",JSON.stringify(r),")"]},lookupPropertyFunctionIsUsed:!1,compile:function(t,r,i,o){this.environment=t,this.options=r,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!o,this.name=this.environment.name,this.isChild=!!i,this.context=i||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(t,r),this.useDepths=this.useDepths||t.useDepths||t.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||t.useBlockParams;var a=t.opcodes,l=void 0,f=void 0,p=void 0,h=void 0;for(p=0,h=a.length;p<h;p++)l=a[p],this.source.currentLocation=l.loc,f=f||l.loc,this[l.opcode].apply(this,l.args);if(this.source.currentLocation=f,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new ph.default("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend(["var decorators = container.decorators, ",this.lookupPropertyFunctionVarDeclaration(),`;
`]),this.decorators.push("return fn;"),o?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend(`function(fn, props, container, depth0, data, blockParams, depths) {
`),this.decorators.push(`}
`),this.decorators=this.decorators.merge()));var g=this.createFunctionContext(o);if(this.isChild)return g;var d={compiler:this.compilerInfo(),main:g};this.decorators&&(d.main_d=this.decorators,d.useDecorators=!0);var y=this.context,w=y.programs,E=y.decorators;for(p=0,h=w.length;p<h;p++)w[p]&&(d[p]=w[p],E[p]&&(d[p+"_d"]=E[p],d.useDecorators=!0));return this.environment.usePartial&&(d.usePartial=!0),this.options.data&&(d.useData=!0),this.useDepths&&(d.useDepths=!0),this.useBlockParams&&(d.useBlockParams=!0),this.options.compat&&(d.compat=!0),o?d.compilerOptions=this.options:(d.compiler=JSON.stringify(d.compiler),this.source.currentLocation={start:{line:1,column:0}},d=this.objectLiteral(d),r.srcName?(d=d.toStringWithSourceMap({file:r.destName}),d.map=d.map&&d.map.toString()):d=d.toString()),d},preamble:function(){this.lastContext=0,this.source=new bw.default(this.options.srcName),this.decorators=new bw.default(this.options.srcName)},createFunctionContext:function(t){var r=this,i="",o=this.stackVars.concat(this.registers.list);o.length>0&&(i+=", "+o.join(", "));var a=0;Object.keys(this.aliases).forEach(function(p){var h=r.aliases[p];h.children&&h.referenceCount>1&&(i+=", alias"+ ++a+"="+p,h.children[0]="alias"+a)}),this.lookupPropertyFunctionIsUsed&&(i+=", "+this.lookupPropertyFunctionVarDeclaration());var l=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&l.push("blockParams"),this.useDepths&&l.push("depths");var f=this.mergeSource(i);return t?(l.push(f),Function.apply(this,l)):this.source.wrap(["function(",l.join(","),`) {
  `,f,"}"])},mergeSource:function(t){var r=this.environment.isSimple,i=!this.forceBuffer,o=void 0,a=void 0,l=void 0,f=void 0;return this.source.each(function(p){p.appendToBuffer?(l?p.prepend("  + "):l=p,f=p):(l&&(a?l.prepend("buffer += "):o=!0,f.add(";"),l=f=void 0),a=!0,r||(i=!1))}),i?l?(l.prepend("return "),f.add(";")):a||this.source.push('return "";'):(t+=", buffer = "+(o?"":this.initializeBuffer()),l?(l.prepend("return buffer + "),f.add(";")):this.source.push("return buffer;")),t&&this.source.prepend("var "+t.substring(2)+(o?"":`;
`)),this.source.merge()},lookupPropertyFunctionVarDeclaration:function(){return`
      lookupProperty = container.lookupProperty || function(parent, propertyName) {
        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {
          return parent[propertyName];
        }
        return undefined
    }
    `.trim()},blockValue:function(t){var r=this.aliasable("container.hooks.blockHelperMissing"),i=[this.contextName(0)];this.setupHelperArgs(t,0,i);var o=this.popStack();i.splice(1,0,o),this.push(this.source.functionCall(r,"call",i))},ambiguousBlockValue:function(){var t=this.aliasable("container.hooks.blockHelperMissing"),r=[this.contextName(0)];this.setupHelperArgs("",0,r,!0),this.flushInline();var i=this.topStack();r.splice(1,0,i),this.pushSource(["if (!",this.lastHelper,") { ",i," = ",this.source.functionCall(t,"call",r),"}"])},appendContent:function(t){this.pendingContent?t=this.pendingContent+t:this.pendingLocation=this.source.currentLocation,this.pendingContent=t},append:function(){if(this.isInline())this.replaceStack(function(r){return[" != null ? ",r,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var t=this.popStack();this.pushSource(["if (",t," != null) { ",this.appendToBuffer(t,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(t){this.lastContext=t},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(t,r,i,o){var a=0;!o&&this.options.compat&&!this.lastContext?this.push(this.depthedLookup(t[a++])):this.pushContext(),this.resolvePath("context",t,a,r,i)},lookupBlockParam:function(t,r){this.useBlockParams=!0,this.push(["blockParams[",t[0],"][",t[1],"]"]),this.resolvePath("context",r,1)},lookupData:function(t,r,i){t?this.pushStackLiteral("container.data(data, "+t+")"):this.pushStackLiteral("data"),this.resolvePath("data",r,0,!0,i)},resolvePath:function(t,r,i,o,a){var l=this;if(this.options.strict||this.options.assumeObjects){this.push(EU(this.options.strict&&a,this,r,t));return}for(var f=r.length;i<f;i++)this.replaceStack(function(p){var h=l.nameLookup(p,r[i],t);return o?[" && ",h]:[" != null ? ",h," : ",p]})},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(t,r){this.pushContext(),this.pushString(r),r!=="SubExpression"&&(typeof t=="string"?this.pushString(t):this.pushStackLiteral(t))},emptyHash:function(t){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(t?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:{},types:[],contexts:[],ids:[]}},popHash:function(){var t=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(t.ids)),this.stringParams&&(this.push(this.objectLiteral(t.contexts)),this.push(this.objectLiteral(t.types))),this.push(this.objectLiteral(t.values))},pushString:function(t){this.pushStackLiteral(this.quotedString(t))},pushLiteral:function(t){this.pushStackLiteral(t)},pushProgram:function(t){t!=null?this.pushStackLiteral(this.programExpression(t)):this.pushStackLiteral(null)},registerDecorator:function(t,r){var i=this.nameLookup("decorators",r,"decorator"),o=this.setupHelperArgs(r,t);this.decorators.push(["fn = ",this.decorators.functionCall(i,"",["fn","props","container",o])," || fn;"])},invokeHelper:function(t,r,i){var o=this.popStack(),a=this.setupHelper(t,r),l=[];i&&l.push(a.name),l.push(o),this.options.strict||l.push(this.aliasable("container.hooks.helperMissing"));var f=["(",this.itemsSeparatedBy(l,"||"),")"],p=this.source.functionCall(f,"call",a.callParams);this.push(p)},itemsSeparatedBy:function(t,r){var i=[];i.push(t[0]);for(var o=1;o<t.length;o++)i.push(r,t[o]);return i},invokeKnownHelper:function(t,r){var i=this.setupHelper(t,r);this.push(this.source.functionCall(i.name,"call",i.callParams))},invokeAmbiguous:function(t,r){this.useRegister("helper");var i=this.popStack();this.emptyHash();var o=this.setupHelper(0,t,r),a=this.lastHelper=this.nameLookup("helpers",t,"helper"),l=["(","(helper = ",a," || ",i,")"];this.options.strict||(l[0]="(helper = ",l.push(" != null ? helper : ",this.aliasable("container.hooks.helperMissing"))),this.push(["(",l,o.paramsInit?["),(",o.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",o.callParams)," : helper))"])},invokePartial:function(t,r,i){var o=[],a=this.setupParams(r,1,o);t&&(r=this.popStack(),delete a.name),i&&(a.indent=JSON.stringify(i)),a.helpers="helpers",a.partials="partials",a.decorators="container.decorators",t?o.unshift(r):o.unshift(this.nameLookup("partials",r,"partial")),this.options.compat&&(a.depths="depths"),a=this.objectLiteral(a),o.push(a),this.push(this.source.functionCall("container.invokePartial","",o))},assignToHash:function(t){var r=this.popStack(),i=void 0,o=void 0,a=void 0;this.trackIds&&(a=this.popStack()),this.stringParams&&(o=this.popStack(),i=this.popStack());var l=this.hash;i&&(l.contexts[t]=i),o&&(l.types[t]=o),a&&(l.ids[t]=a),l.values[t]=r},pushId:function(t,r,i){t==="BlockParam"?this.pushStackLiteral("blockParams["+r[0]+"].path["+r[1]+"]"+(i?" + "+JSON.stringify("."+i):"")):t==="PathExpression"?this.pushString(r):t==="SubExpression"?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:fs,compileChildren:function(t,r){for(var i=t.children,o=void 0,a=void 0,l=0,f=i.length;l<f;l++){o=i[l],a=new this.compiler;var p=this.matchExistingProgram(o);if(p==null){this.context.programs.push("");var h=this.context.programs.length;o.index=h,o.name="program"+h,this.context.programs[h]=a.compile(o,r,this.context,!this.precompile),this.context.decorators[h]=a.decorators,this.context.environments[h]=o,this.useDepths=this.useDepths||a.useDepths,this.useBlockParams=this.useBlockParams||a.useBlockParams,o.useDepths=this.useDepths,o.useBlockParams=this.useBlockParams}else o.index=p.index,o.name="program"+p.index,this.useDepths=this.useDepths||p.useDepths,this.useBlockParams=this.useBlockParams||p.useBlockParams}},matchExistingProgram:function(t){for(var r=0,i=this.context.environments.length;r<i;r++){var o=this.context.environments[r];if(o&&o.equals(t))return o}},programExpression:function(t){var r=this.environment.children[t],i=[r.index,"data",r.blockParams];return(this.useBlockParams||this.useDepths)&&i.push("blockParams"),this.useDepths&&i.push("depths"),"container.program("+i.join(", ")+")"},useRegister:function(t){this.registers[t]||(this.registers[t]=!0,this.registers.list.push(t))},push:function(t){return t instanceof ls||(t=this.source.wrap(t)),this.inlineStack.push(t),t},pushStackLiteral:function(t){this.push(new ls(t))},pushSource:function(t){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),t&&this.source.push(t)},replaceStack:function(t){var r=["("],i=void 0,o=void 0,a=void 0;if(!this.isInline())throw new ph.default("replaceStack on non-inline");var l=this.popStack(!0);if(l instanceof ls)i=[l.value],r=["(",i],a=!0;else{o=!0;var f=this.incrStack();r=["((",this.push(f)," = ",l,")"],i=this.topStack()}var p=t.call(this,i);a||this.popStack(),o&&this.stackSlot--,this.push(r.concat(p,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var t=this.inlineStack;this.inlineStack=[];for(var r=0,i=t.length;r<i;r++){var o=t[r];if(o instanceof ls)this.compileStack.push(o);else{var a=this.incrStack();this.pushSource([a," = ",o,";"]),this.compileStack.push(a)}}},isInline:function(){return this.inlineStack.length},popStack:function(t){var r=this.isInline(),i=(r?this.inlineStack:this.compileStack).pop();if(!t&&i instanceof ls)return i.value;if(!r){if(!this.stackSlot)throw new ph.default("Invalid stack pop");this.stackSlot--}return i},topStack:function(){var t=this.isInline()?this.inlineStack:this.compileStack,r=t[t.length-1];return r instanceof ls?r.value:r},contextName:function(t){return this.useDepths&&t?"depths["+t+"]":"depth"+t},quotedString:function(t){return this.source.quotedString(t)},objectLiteral:function(t){return this.source.objectLiteral(t)},aliasable:function(t){var r=this.aliases[t];return r?(r.referenceCount++,r):(r=this.aliases[t]=this.source.wrap(t),r.aliasable=!0,r.referenceCount=1,r)},setupHelper:function(t,r,i){var o=[],a=this.setupHelperArgs(r,t,o,i),l=this.nameLookup("helpers",r,"helper"),f=this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : (container.nullContext || {})");return{params:o,paramsInit:a,name:l,callParams:[f].concat(o)}},setupParams:function(t,r,i){var o={},a=[],l=[],f=[],p=!i,h=void 0;p&&(i=[]),o.name=this.quotedString(t),o.hash=this.popStack(),this.trackIds&&(o.hashIds=this.popStack()),this.stringParams&&(o.hashTypes=this.popStack(),o.hashContexts=this.popStack());var g=this.popStack(),d=this.popStack();(d||g)&&(o.fn=d||"container.noop",o.inverse=g||"container.noop");for(var y=r;y--;)h=this.popStack(),i[y]=h,this.trackIds&&(f[y]=this.popStack()),this.stringParams&&(l[y]=this.popStack(),a[y]=this.popStack());return p&&(o.args=this.source.generateArray(i)),this.trackIds&&(o.ids=this.source.generateArray(f)),this.stringParams&&(o.types=this.source.generateArray(l),o.contexts=this.source.generateArray(a)),this.options.data&&(o.data="data"),this.useBlockParams&&(o.blockParams="blockParams"),o},setupHelperArgs:function(t,r,i,o){var a=this.setupParams(t,r,i);return a.loc=JSON.stringify(this.source.currentLocation),a=this.objectLiteral(a),o?(this.useRegister("options"),i.push("options"),["options=",a]):i?(i.push(a),""):a}};(function(){for(var e="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),t=fs.RESERVED_WORDS={},r=0,i=e.length;r<i;r++)t[e[r]]=!0})();fs.isValidJavaScriptVariableName=function(e){return!fs.RESERVED_WORDS[e]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(e)};function EU(e,t,r,i){var o=t.popStack(),a=0,l=r.length;for(e&&l--;a<l;a++)o=t.nameLookup(o,r[a],i);return e?[t.aliasable("container.strict"),"(",o,", ",t.quotedString(r[a]),", ",JSON.stringify(t.source.currentLocation)," )"]:o}Ju.default=fs;ww.exports=Ju.default});var xw=S((Xu,Pw)=>{"use strict";Xu.__esModule=!0;function wo(e){return e&&e.__esModule?e:{default:e}}var SU=Lb(),PU=wo(SU),xU=Wp(),LU=wo(xU),hh=qb(),dh=Wb(),AU=Ew(),CU=wo(AU),RU=Gu(),OU=wo(RU),TU=qp(),NU=wo(TU),IU=PU.default.create;function Sw(){var e=IU();return e.compile=function(t,r){return dh.compile(t,r,e)},e.precompile=function(t,r){return dh.precompile(t,r,e)},e.AST=LU.default,e.Compiler=dh.Compiler,e.JavaScriptCompiler=CU.default,e.Parser=hh.parser,e.parse=hh.parse,e.parseWithoutProcessing=hh.parseWithoutProcessing,e}var cs=Sw();cs.create=Sw;NU.default(cs);cs.Visitor=OU.default;cs.default=cs;Xu.default=cs;Pw.exports=Xu.default});var Lw=S(Zu=>{"use strict";Zu.__esModule=!0;Zu.print=FU;Zu.PrintVisitor=Qe;function DU(e){return e&&e.__esModule?e:{default:e}}var kU=Gu(),MU=DU(kU);function FU(e){return new Qe().accept(e)}function Qe(){this.padding=0}Qe.prototype=new MU.default;Qe.prototype.pad=function(e){for(var t="",r=0,i=this.padding;r<i;r++)t+="  ";return t+=e+`
`,t};Qe.prototype.Program=function(e){var t="",r=e.body,i=void 0,o=void 0;if(e.blockParams){var a="BLOCK PARAMS: [";for(i=0,o=e.blockParams.length;i<o;i++)a+=" "+e.blockParams[i];a+=" ]",t+=this.pad(a)}for(i=0,o=r.length;i<o;i++)t+=this.accept(r[i]);return this.padding--,t};Qe.prototype.MustacheStatement=function(e){return this.pad("{{ "+this.SubExpression(e)+" }}")};Qe.prototype.Decorator=function(e){return this.pad("{{ DIRECTIVE "+this.SubExpression(e)+" }}")};Qe.prototype.BlockStatement=Qe.prototype.DecoratorBlock=function(e){var t="";return t+=this.pad((e.type==="DecoratorBlock"?"DIRECTIVE ":"")+"BLOCK:"),this.padding++,t+=this.pad(this.SubExpression(e)),e.program&&(t+=this.pad("PROGRAM:"),this.padding++,t+=this.accept(e.program),this.padding--),e.inverse&&(e.program&&this.padding++,t+=this.pad("{{^}}"),this.padding++,t+=this.accept(e.inverse),this.padding--,e.program&&this.padding--),this.padding--,t};Qe.prototype.PartialStatement=function(e){var t="PARTIAL:"+e.name.original;return e.params[0]&&(t+=" "+this.accept(e.params[0])),e.hash&&(t+=" "+this.accept(e.hash)),this.pad("{{> "+t+" }}")};Qe.prototype.PartialBlockStatement=function(e){var t="PARTIAL BLOCK:"+e.name.original;return e.params[0]&&(t+=" "+this.accept(e.params[0])),e.hash&&(t+=" "+this.accept(e.hash)),t+=" "+this.pad("PROGRAM:"),this.padding++,t+=this.accept(e.program),this.padding--,this.pad("{{> "+t+" }}")};Qe.prototype.ContentStatement=function(e){return this.pad("CONTENT[ '"+e.value+"' ]")};Qe.prototype.CommentStatement=function(e){return this.pad("{{! '"+e.value+"' }}")};Qe.prototype.SubExpression=function(e){for(var t=e.params,r=[],i=void 0,o=0,a=t.length;o<a;o++)r.push(this.accept(t[o]));return t="["+r.join(", ")+"]",i=e.hash?" "+this.accept(e.hash):"",this.accept(e.path)+" "+t+i};Qe.prototype.PathExpression=function(e){var t=e.parts.join("/");return(e.data?"@":"")+"PATH:"+t};Qe.prototype.StringLiteral=function(e){return'"'+e.value+'"'};Qe.prototype.NumberLiteral=function(e){return"NUMBER{"+e.value+"}"};Qe.prototype.BooleanLiteral=function(e){return"BOOLEAN{"+e.value+"}"};Qe.prototype.UndefinedLiteral=function(){return"UNDEFINED"};Qe.prototype.NullLiteral=function(){return"NULL"};Qe.prototype.Hash=function(e){for(var t=e.pairs,r=[],i=0,o=t.length;i<o;i++)r.push(this.accept(t[i]));return"HASH{"+r.join(", ")+"}"};Qe.prototype.HashPair=function(e){return e.key+"="+this.accept(e.value)}});var Ow=S((BK,Rw)=>{var Qu=xw().default,Aw=Lw();Qu.PrintVisitor=Aw.PrintVisitor;Qu.print=Aw.print;Rw.exports=Qu;function Cw(e,t){var r=G("fs"),i=r.readFileSync(t,"utf8");e.exports=Qu.compile(i)}typeof G!="undefined"&&G.extensions&&(G.extensions[".handlebars"]=Cw,G.extensions[".hbs"]=Cw)});var Iw=S((gh,Nw)=>{gh=Nw.exports=BU;gh.getSerialize=Tw;function BU(e,t,r,i){return JSON.stringify(e,Tw(t,i),r)}function Tw(e,t){var r=[],i=[];return t==null&&(t=function(o,a){return r[0]===a?"[Circular ~]":"[Circular ~."+i.slice(0,r.indexOf(a)).join(".")+"]"}),function(o,a){if(r.length>0){var l=r.indexOf(this);~l?r.splice(l+1):r.push(this),~l?i.splice(l,Infinity,o):i.push(o),~r.indexOf(a)&&(a=t.call(this,o,a))}else r.push(a);return e==null?a:e.call(this,o,a)}}});var Uw=S((qK,qw)=>{"use strict";var qU=Fc(),Eo=Ow(),Dw=G("semver"),it=En(),UU=Iw();function kw(e){let t=e.mainTemplate,r=e.headerPartial,i=e.commitPartial,o=e.footerPartial,a=e.partials;return it.isString(r)&&Eo.registerPartial("header",r),it.isString(i)&&Eo.registerPartial("commit",i),it.isString(o)&&Eo.registerPartial("footer",o),it.forEach(a,function(l,f){it.isString(l)&&Eo.registerPartial(f,l)}),Eo.compile(t,{noEscape:!0})}function GU(e){return e&&!it.isFunction(e)?(t,r)=>{let i="",o="";if(Array.isArray(e))for(let a of e)i+=t[a]||"",o+=r[a]||"";else i+=t[e],o+=r[e];return i.localeCompare(o)}:e}function Mw(e,t,r,i){let o=[],a=it.groupBy(t,function(l){return l[e]||""});return it.forEach(a,function(l,f){f===""&&(f=!1),i&&l.sort(i),o.push({title:f,commits:l})}),r&&o.sort(r),o}function Fw(e,t,r){let i=[];return it.forEach(e,function(o){let a=o.title,l=!1;it.forEach(i,function(f){if(f.title===a)return l=!0,f.notes.push(o),!1}),l||i.push({title:a,notes:[o]})}),t&&i.sort(t),r&&it.forEach(i,function(o){o.notes.sort(r)}),i}function jU(e,t,r){let i;try{e=JSON.parse(e)}catch(o){}return i=it.cloneDeep(e),it.isFunction(t)?(i=t(i,r),i&&(i.raw=e),i):(it.forEach(t,function(o,a){let l=it.get(i,a);it.isFunction(o)?l=o(l,a):l=o,it.set(i,a,l)}),i.raw=e,i)}function Bw(e,t,r){let i={};return i.commitGroups=Mw(r.groupBy,e,r.commitGroupsSort,r.commitsSort),i.noteGroups=Fw(t,r.noteGroupsSort,r.notesSort),i}function WU(e,t,r,i){let o=[],a,l=kw(e);return e.ignoreReverted?a=qU(t):a=it.clone(t),it.forEach(a,function(f){it.map(f.notes,function(p){return p.commit=f,p}),o=o.concat(f.notes)}),r=it.merge({},r,i,Bw(a,o,e)),i&&i.committerDate&&(r.date=i.committerDate),r.version&&Dw.valid(r.version)&&(r.isPatch=r.isPatch||Dw.patch(r.version)!==0),r=e.finalizeContext(r,e,a,i,t),e.debug(`Your final context is:
`+UU(r,null,2)),l(r)}qw.exports={compileTemplates:kw,functionify:GU,getCommitGroups:Mw,getNoteGroups:Fw,processCommit:jU,getExtraContext:Bw,generate:WU}});var $w=S((UK,Hw)=>{"use strict";var Gw=Sp(),el=G("path").join,tl=G("fs").readFileSync,HU=G("semver").valid,$U=eo(),ur=Uw(),Er=En();function jw(e,t){e=Er.extend({commit:"commits",issue:"issues",date:Gw(new Date,"yyyy-mm-dd",!0)},e),!Er.isBoolean(e.linkReferences)&&(e.repository||e.repoUrl)&&e.commit&&e.issue&&(e.linkReferences=!0),t=Er.assign({groupBy:"type",commitsSort:"header",noteGroupsSort:"title",notesSort:"text",generateOn:function(i){return HU(i.version)},finalizeContext:function(i){return i},debug:function(){},reverse:!1,includeDetails:!1,ignoreReverted:!0,doFlush:!0,mainTemplate:tl(el(__dirname,"templates/template.hbs"),"utf-8"),headerPartial:tl(el(__dirname,"templates/header.hbs"),"utf-8"),commitPartial:tl(el(__dirname,"templates/commit.hbs"),"utf-8"),footerPartial:tl(el(__dirname,"templates/footer.hbs"),"utf-8")},t),(!Er.isFunction(t.transform)&&Er.isObject(t.transform)||Er.isUndefined(t.transform))&&(t.transform=Er.assign({hash:function(i){if(Er.isString(i))return i.substring(0,7)},header:function(i){return i.substring(0,100)},committerDate:function(i){if(!!i)return Gw(i,"yyyy-mm-dd",!0)}},t.transform));let r=t.generateOn;return Er.isString(r)?r=function(i){return!Er.isUndefined(i[t.generateOn])}:Er.isFunction(r)||(r=function(){return!1}),t.commitGroupsSort=ur.functionify(t.commitGroupsSort),t.commitsSort=ur.functionify(t.commitsSort),t.noteGroupsSort=ur.functionify(t.noteGroupsSort),t.notesSort=ur.functionify(t.notesSort),{context:e,options:t,generateOn:r}}function Ww(e,t){let r;({context:e,options:t,generateOn:r}=jw(e,t));let i=[],o=!0,a,l=!0;return $U.obj(function(f,p,h){try{let g,d=ur.processCommit(f,t.transform,e),y=d||f;t.reverse?(d&&i.push(d),r(y,i,e,t)&&(o=!1,g=ur.generate(t,i,e,y),t.includeDetails?this.push({log:g,keyCommit:y}):this.push(g),i=[])):(r(y,i,e,t)&&(o=!1,g=ur.generate(t,i,e,a),(!l||t.doFlush)&&(t.includeDetails?this.push({log:g,keyCommit:a}):this.push(g)),l=!1,i=[],a=y),d&&i.push(d)),h()}catch(g){h(g)}},function(f){if(!t.doFlush&&(t.reverse||o)){f(null);return}try{let p=ur.generate(t,i,e,a);t.includeDetails?this.push({log:p,keyCommit:a}):this.push(p),f()}catch(p){f(p)}})}Ww.parseArray=(e,t,r)=>{let i;e=[...e],{context:t,options:r,generateOn:i}=jw(t,r);let o=[],a;r.reverse&&e.reverse();let l=[];for(let f of e){let p=ur.processCommit(f,r.transform,t),h=p||f;i(h,o,t,r)&&(l.push(ur.generate(r,o,t,a)),a=h,o=[]),p&&o.push(p)}return r.reverse?(l.reverse(),ur.generate(r,o,t,a)+l.join("")):l.join("")+ur.generate(r,o,t,a)};Hw.exports=Ww});var mh=S((GK,Kw)=>{"use strict";var Me=(...e)=>e.every(t=>t)?e.join(""):"",dt=e=>e?encodeURIComponent(e):"",So={sshtemplate:({domain:e,user:t,project:r,committish:i})=>`git@${e}:${t}/${r}.git${Me("#",i)}`,sshurltemplate:({domain:e,user:t,project:r,committish:i})=>`git+ssh://git@${e}/${t}/${r}.git${Me("#",i)}`,browsetemplate:({domain:e,user:t,project:r,committish:i,treepath:o})=>`https://${e}/${t}/${r}${Me("/",o,"/",dt(i))}`,browsefiletemplate:({domain:e,user:t,project:r,committish:i,treepath:o,path:a,fragment:l,hashformat:f})=>`https://${e}/${t}/${r}/${o}/${dt(i||"master")}/${a}${Me("#",f(l||""))}`,docstemplate:({domain:e,user:t,project:r,treepath:i,committish:o})=>`https://${e}/${t}/${r}${Me("/",i,"/",dt(o))}#readme`,httpstemplate:({auth:e,domain:t,user:r,project:i,committish:o})=>`git+https://${Me(e,"@")}${t}/${r}/${i}.git${Me("#",o)}`,filetemplate:({domain:e,user:t,project:r,committish:i,path:o})=>`https://${e}/${t}/${r}/raw/${dt(i)||"master"}/${o}`,shortcuttemplate:({type:e,user:t,project:r,committish:i})=>`${e}:${t}/${r}${Me("#",i)}`,pathtemplate:({user:e,project:t,committish:r})=>`${e}/${t}${Me("#",r)}`,bugstemplate:({domain:e,user:t,project:r})=>`https://${e}/${t}/${r}/issues`,hashformat:Vw},lr={};lr.github=Object.assign({},So,{protocols:["git:","http:","git+ssh:","git+https:","ssh:","https:"],domain:"github.com",treepath:"tree",filetemplate:({auth:e,user:t,project:r,committish:i,path:o})=>`https://${Me(e,"@")}raw.githubusercontent.com/${t}/${r}/${dt(i)||"master"}/${o}`,gittemplate:({auth:e,domain:t,user:r,project:i,committish:o})=>`git://${Me(e,"@")}${t}/${r}/${i}.git${Me("#",o)}`,tarballtemplate:({domain:e,user:t,project:r,committish:i})=>`https://codeload.${e}/${t}/${r}/tar.gz/${dt(i)||"master"}`,extract:e=>{let[,t,r,i,o]=e.pathname.split("/",5);if(!(i&&i!=="tree")&&(i||(o=e.hash.slice(1)),r&&r.endsWith(".git")&&(r=r.slice(0,-4)),!(!t||!r)))return{user:t,project:r,committish:o}}});lr.bitbucket=Object.assign({},So,{protocols:["git+ssh:","git+https:","ssh:","https:"],domain:"bitbucket.org",treepath:"src",tarballtemplate:({domain:e,user:t,project:r,committish:i})=>`https://${e}/${t}/${r}/get/${dt(i)||"master"}.tar.gz`,extract:e=>{let[,t,r,i]=e.pathname.split("/",4);if(!["get"].includes(i)&&(r&&r.endsWith(".git")&&(r=r.slice(0,-4)),!(!t||!r)))return{user:t,project:r,committish:e.hash.slice(1)}}});lr.gitlab=Object.assign({},So,{protocols:["git+ssh:","git+https:","ssh:","https:"],domain:"gitlab.com",treepath:"tree",httpstemplate:({auth:e,domain:t,user:r,project:i,committish:o})=>`git+https://${Me(e,"@")}${t}/${r}/${i}.git${Me("#",o)}`,tarballtemplate:({domain:e,user:t,project:r,committish:i})=>`https://${e}/${t}/${r}/repository/archive.tar.gz?ref=${dt(i)||"master"}`,extract:e=>{let t=e.pathname.slice(1);if(t.includes("/-/")||t.includes("/archive.tar.gz"))return;let r=t.split("/"),i=r.pop();i.endsWith(".git")&&(i=i.slice(0,-4));let o=r.join("/");if(!(!o||!i))return{user:o,project:i,committish:e.hash.slice(1)}}});lr.gist=Object.assign({},So,{protocols:["git:","git+ssh:","git+https:","ssh:","https:"],domain:"gist.github.com",sshtemplate:({domain:e,project:t,committish:r})=>`git@${e}:${t}.git${Me("#",r)}`,sshurltemplate:({domain:e,project:t,committish:r})=>`git+ssh://git@${e}/${t}.git${Me("#",r)}`,browsetemplate:({domain:e,project:t,committish:r})=>`https://${e}/${t}${Me("/",dt(r))}`,browsefiletemplate:({domain:e,project:t,committish:r,path:i,hashformat:o})=>`https://${e}/${t}${Me("/",dt(r))}${Me("#",o(i))}`,docstemplate:({domain:e,project:t,committish:r})=>`https://${e}/${t}${Me("/",dt(r))}`,httpstemplate:({domain:e,project:t,committish:r})=>`git+https://${e}/${t}.git${Me("#",r)}`,filetemplate:({user:e,project:t,committish:r,path:i})=>`https://gist.githubusercontent.com/${e}/${t}/raw${Me("/",dt(r))}/${i}`,shortcuttemplate:({type:e,project:t,committish:r})=>`${e}:${t}${Me("#",r)}`,pathtemplate:({project:e,committish:t})=>`${e}${Me("#",t)}`,bugstemplate:({domain:e,project:t})=>`https://${e}/${t}`,gittemplate:({domain:e,project:t,committish:r})=>`git://${e}/${t}.git${Me("#",r)}`,tarballtemplate:({project:e,committish:t})=>`https://codeload.github.com/gist/${e}/tar.gz/${dt(t)||"master"}`,extract:e=>{let[,t,r,i]=e.pathname.split("/",4);if(i!=="raw"){if(!r){if(!t)return;r=t,t=null}return r.endsWith(".git")&&(r=r.slice(0,-4)),{user:t,project:r,committish:e.hash.slice(1)}}},hashformat:function(e){return e&&"file-"+Vw(e)}});lr.sourcehut=Object.assign({},So,{protocols:["git+ssh:","https:"],domain:"git.sr.ht",treepath:"tree",browsefiletemplate:({domain:e,user:t,project:r,committish:i,treepath:o,path:a,fragment:l,hashformat:f})=>`https://${e}/${t}/${r}/${o}/${dt(i||"main")}/${a}${Me("#",f(l||""))}`,filetemplate:({domain:e,user:t,project:r,committish:i,path:o})=>`https://${e}/${t}/${r}/blob/${dt(i)||"main"}/${o}`,httpstemplate:({domain:e,user:t,project:r,committish:i})=>`https://${e}/${t}/${r}.git${Me("#",i)}`,tarballtemplate:({domain:e,user:t,project:r,committish:i})=>`https://${e}/${t}/${r}/archive/${dt(i)||"main"}.tar.gz`,bugstemplate:({domain:e,user:t,project:r})=>`https://todo.sr.ht/${t}/${r}`,docstemplate:({domain:e,user:t,project:r,treepath:i,committish:o})=>`https://${e}/${t}/${r}${Me("/",i,"/",dt(o))}#readme`,extract:e=>{let[,t,r,i]=e.pathname.split("/",4);if(!["archive"].includes(i)&&(r&&r.endsWith(".git")&&(r=r.slice(0,-4)),!(!t||!r)))return{user:t,project:r,committish:e.hash.slice(1)}}});var VU=Object.keys(lr);lr.byShortcut={};lr.byDomain={};for(let e of VU)lr.byShortcut[`${e}:`]=e,lr.byDomain[lr[e].domain]=e;function Vw(e){return e.toLowerCase().replace(/^\W+|\/|\W+$/g,"").replace(/\W+/g,"-")}Kw.exports=lr});var Jw=S((jK,zw)=>{"use strict";var KU=mh(),Yw=class{constructor(t,r,i,o,a,l,f={}){Object.assign(this,KU[t]),this.type=t,this.user=r,this.auth=i,this.project=o,this.committish=a,this.default=l,this.opts=f}hash(){return this.committish?`#${this.committish}`:""}ssh(t){return this._fill(this.sshtemplate,t)}_fill(t,r){if(typeof t=="function"){let i=_r(_r(_r({},this),this.opts),r);i.path||(i.path=""),i.path.startsWith("/")&&(i.path=i.path.slice(1)),i.noCommittish&&(i.committish=null);let o=t(i);return i.noGitPlus&&o.startsWith("git+")?o.slice(4):o}return null}sshurl(t){return this._fill(this.sshurltemplate,t)}browse(t,r,i){return typeof t!="string"?this._fill(this.browsetemplate,t):(typeof r!="string"&&(i=r,r=null),this._fill(this.browsefiletemplate,ji(_r({},i),{fragment:r,path:t})))}docs(t){return this._fill(this.docstemplate,t)}bugs(t){return this._fill(this.bugstemplate,t)}https(t){return this._fill(this.httpstemplate,t)}git(t){return this._fill(this.gittemplate,t)}shortcut(t){return this._fill(this.shortcuttemplate,t)}path(t){return this._fill(this.pathtemplate,t)}tarball(t){return this._fill(this.tarballtemplate,ji(_r({},t),{noCommittish:!1}))}file(t,r){return this._fill(this.filetemplate,ji(_r({},r),{path:t}))}getDefaultRepresentation(){return this.default}toString(t){return this.default&&typeof this[this.default]=="function"?this[this.default](t):this.sshurl(t)}};zw.exports=Yw});var Zw=S((WK,Xw)=>{"use strict";Xw.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}});var eE=S((HK,Qw)=>{"use strict";Qw.exports=Oe;Oe.Node=yi;Oe.create=Oe;function Oe(e){var t=this;if(t instanceof Oe||(t=new Oe),t.tail=null,t.head=null,t.length=0,e&&typeof e.forEach=="function")e.forEach(function(o){t.push(o)});else if(arguments.length>0)for(var r=0,i=arguments.length;r<i;r++)t.push(arguments[r]);return t}Oe.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t};Oe.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}};Oe.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}};Oe.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)zU(this,arguments[e]);return this.length};Oe.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)JU(this,arguments[e]);return this.length};Oe.prototype.pop=function(){if(!!this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}};Oe.prototype.shift=function(){if(!!this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}};Oe.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,i=0;r!==null;i++)e.call(t,r.value,i,this),r=r.next};Oe.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,i=this.length-1;r!==null;i--)e.call(t,r.value,i,this),r=r.prev};Oe.prototype.get=function(e){for(var t=0,r=this.head;r!==null&&t<e;t++)r=r.next;if(t===e&&r!==null)return r.value};Oe.prototype.getReverse=function(e){for(var t=0,r=this.tail;r!==null&&t<e;t++)r=r.prev;if(t===e&&r!==null)return r.value};Oe.prototype.map=function(e,t){t=t||this;for(var r=new Oe,i=this.head;i!==null;)r.push(e.call(t,i.value,this)),i=i.next;return r};Oe.prototype.mapReverse=function(e,t){t=t||this;for(var r=new Oe,i=this.tail;i!==null;)r.push(e.call(t,i.value,this)),i=i.prev;return r};Oe.prototype.reduce=function(e,t){var r,i=this.head;if(arguments.length>1)r=t;else if(this.head)i=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var o=0;i!==null;o++)r=e(r,i.value,o),i=i.next;return r};Oe.prototype.reduceReverse=function(e,t){var r,i=this.tail;if(arguments.length>1)r=t;else if(this.tail)i=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var o=this.length-1;i!==null;o--)r=e(r,i.value,o),i=i.prev;return r};Oe.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;r!==null;t++)e[t]=r.value,r=r.next;return e};Oe.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;r!==null;t++)e[t]=r.value,r=r.prev;return e};Oe.prototype.slice=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new Oe;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=0,o=this.head;o!==null&&i<e;i++)o=o.next;for(;o!==null&&i<t;i++,o=o.next)r.push(o.value);return r};Oe.prototype.sliceReverse=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new Oe;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=this.length,o=this.tail;o!==null&&i>t;i--)o=o.prev;for(;o!==null&&i>e;i--,o=o.prev)r.push(o.value);return r};Oe.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var i=0,o=this.head;o!==null&&i<e;i++)o=o.next;for(var a=[],i=0;o&&i<t;i++)a.push(o.value),o=this.removeNode(o);o===null&&(o=this.tail),o!==this.head&&o!==this.tail&&(o=o.prev);for(var i=0;i<r.length;i++)o=YU(this,o,r[i]);return a};Oe.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;r!==null;r=r.prev){var i=r.prev;r.prev=r.next,r.next=i}return this.head=t,this.tail=e,this};function YU(e,t,r){var i=t===e.head?new yi(r,null,t,e):new yi(r,t,t.next,e);return i.next===null&&(e.tail=i),i.prev===null&&(e.head=i),e.length++,i}function zU(e,t){e.tail=new yi(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function JU(e,t){e.head=new yi(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function yi(e,t,r,i){if(!(this instanceof yi))return new yi(e,t,r,i);this.list=i,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{Zw()(Oe)}catch(e){}});var aE=S(($K,oE)=>{"use strict";var XU=eE(),_i=Symbol("max"),Xr=Symbol("length"),ps=Symbol("lengthCalculator"),Po=Symbol("allowStale"),bi=Symbol("maxAge"),Zr=Symbol("dispose"),tE=Symbol("noDisposeOnSet"),ft=Symbol("lruList"),Sr=Symbol("cache"),rE=Symbol("updateAgeOnGet"),vh=()=>1,nE=class{constructor(t){if(typeof t=="number"&&(t={max:t}),t||(t={}),t.max&&(typeof t.max!="number"||t.max<0))throw new TypeError("max must be a non-negative number");let r=this[_i]=t.max||Infinity,i=t.length||vh;if(this[ps]=typeof i!="function"?vh:i,this[Po]=t.stale||!1,t.maxAge&&typeof t.maxAge!="number")throw new TypeError("maxAge must be a number");this[bi]=t.maxAge||0,this[Zr]=t.dispose,this[tE]=t.noDisposeOnSet||!1,this[rE]=t.updateAgeOnGet||!1,this.reset()}set max(t){if(typeof t!="number"||t<0)throw new TypeError("max must be a non-negative number");this[_i]=t||Infinity,xo(this)}get max(){return this[_i]}set allowStale(t){this[Po]=!!t}get allowStale(){return this[Po]}set maxAge(t){if(typeof t!="number")throw new TypeError("maxAge must be a non-negative number");this[bi]=t,xo(this)}get maxAge(){return this[bi]}set lengthCalculator(t){typeof t!="function"&&(t=vh),t!==this[ps]&&(this[ps]=t,this[Xr]=0,this[ft].forEach(r=>{r.length=this[ps](r.value,r.key),this[Xr]+=r.length})),xo(this)}get lengthCalculator(){return this[ps]}get length(){return this[Xr]}get itemCount(){return this[ft].length}rforEach(t,r){r=r||this;for(let i=this[ft].tail;i!==null;){let o=i.prev;sE(this,t,i,r),i=o}}forEach(t,r){r=r||this;for(let i=this[ft].head;i!==null;){let o=i.next;sE(this,t,i,r),i=o}}keys(){return this[ft].toArray().map(t=>t.key)}values(){return this[ft].toArray().map(t=>t.value)}reset(){this[Zr]&&this[ft]&&this[ft].length&&this[ft].forEach(t=>this[Zr](t.key,t.value)),this[Sr]=new Map,this[ft]=new XU,this[Xr]=0}dump(){return this[ft].map(t=>rl(this,t)?!1:{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[ft]}set(t,r,i){if(i=i||this[bi],i&&typeof i!="number")throw new TypeError("maxAge must be a number");let o=i?Date.now():0,a=this[ps](r,t);if(this[Sr].has(t)){if(a>this[_i])return hs(this,this[Sr].get(t)),!1;let p=this[Sr].get(t).value;return this[Zr]&&(this[tE]||this[Zr](t,p.value)),p.now=o,p.maxAge=i,p.value=r,this[Xr]+=a-p.length,p.length=a,this.get(t),xo(this),!0}let l=new iE(t,r,a,o,i);return l.length>this[_i]?(this[Zr]&&this[Zr](t,r),!1):(this[Xr]+=l.length,this[ft].unshift(l),this[Sr].set(t,this[ft].head),xo(this),!0)}has(t){if(!this[Sr].has(t))return!1;let r=this[Sr].get(t).value;return!rl(this,r)}get(t){return yh(this,t,!0)}peek(t){return yh(this,t,!1)}pop(){let t=this[ft].tail;return t?(hs(this,t),t.value):null}del(t){hs(this,this[Sr].get(t))}load(t){this.reset();let r=Date.now();for(let i=t.length-1;i>=0;i--){let o=t[i],a=o.e||0;if(a===0)this.set(o.k,o.v);else{let l=a-r;l>0&&this.set(o.k,o.v,l)}}}prune(){this[Sr].forEach((t,r)=>yh(this,r,!1))}},yh=(e,t,r)=>{let i=e[Sr].get(t);if(i){let o=i.value;if(rl(e,o)){if(hs(e,i),!e[Po])return}else r&&(e[rE]&&(i.value.now=Date.now()),e[ft].unshiftNode(i));return o.value}},rl=(e,t)=>{if(!t||!t.maxAge&&!e[bi])return!1;let r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[bi]&&r>e[bi]},xo=e=>{if(e[Xr]>e[_i])for(let t=e[ft].tail;e[Xr]>e[_i]&&t!==null;){let r=t.prev;hs(e,t),t=r}},hs=(e,t)=>{if(t){let r=t.value;e[Zr]&&e[Zr](r.key,r.value),e[Xr]-=r.length,e[Sr].delete(r.key),e[ft].removeNode(t)}},iE=class{constructor(t,r,i,o,a){this.key=t,this.value=r,this.length=i,this.now=o,this.maxAge=a||0}},sE=(e,t,r,i)=>{let o=r.value;rl(e,o)&&(hs(e,r),e[Po]||(o=void 0)),o&&t.call(i,o.value,o.key,e)};oE.exports=nE});var wh=S((VK,bh)=>{"use strict";var uE=G("url"),nl=mh(),ZU=bh.exports=Jw(),QU=aE(),_h=new QU({max:1e3}),eG={"git+ssh:":"sshurl","git+https:":"https","ssh:":"sshurl","git:":"git"};function tG(e){return eG[e]||e.slice(0,-1)}var rG={"git:":!0,"https:":!0,"git+https:":!0,"http:":!0,"git+http:":!0},nG=Object.keys(nl.byShortcut).concat(["http:","https:","git:","git+ssh:","git+https:","ssh:"]);bh.exports.fromUrl=function(e,t){if(typeof e!="string")return;let r=e+JSON.stringify(t||{});return _h.has(r)||_h.set(r,iG(e,t)),_h.get(r)};function iG(e,t){if(!e)return;let r=oG(e)?"github:"+e:sG(e),i=uG(r);if(!i)return i;let o=nl.byShortcut[i.protocol],a=nl.byDomain[i.hostname.startsWith("www.")?i.hostname.slice(4):i.hostname],l=o||a;if(!l)return;let f=nl[o||a],p=null;rG[i.protocol]&&(i.username||i.password)&&(p=`${i.username}${i.password?":"+i.password:""}`);let h=null,g=null,d=null,y=null;try{if(o){let w=i.pathname.startsWith("/")?i.pathname.slice(1):i.pathname,E=w.indexOf("@");E>-1&&(w=w.slice(E+1));let A=w.lastIndexOf("/");A>-1?(g=decodeURIComponent(w.slice(0,A)),g||(g=null),d=decodeURIComponent(w.slice(A+1))):d=decodeURIComponent(w),d.endsWith(".git")&&(d=d.slice(0,-4)),i.hash&&(h=decodeURIComponent(i.hash.slice(1))),y="shortcut"}else{if(!f.protocols.includes(i.protocol))return;let w=f.extract(i);if(!w)return;g=w.user&&decodeURIComponent(w.user),d=decodeURIComponent(w.project),h=decodeURIComponent(w.committish),y=tG(i.protocol)}}catch(w){if(w instanceof URIError)return;throw w}return new ZU(l,g,p,d,h,y,t)}var sG=e=>{let t=e.indexOf(":"),r=e.slice(0,t+1);if(nG.includes(r))return e;let i=e.indexOf("@");return i>-1?i>t?`git+ssh://${e}`:e:e.indexOf("//")===t+1?e:e.slice(0,t+1)+"//"+e.slice(t+1)},oG=e=>{let t=e.indexOf("#"),r=e.indexOf("/"),i=e.indexOf("/",r+1),o=e.indexOf(":"),a=/\s/.exec(e),l=e.indexOf("@"),f=!a||t>-1&&a.index>t,p=l===-1||t>-1&&l>t,h=o===-1||t>-1&&o>t,g=i===-1||t>-1&&i>t,d=r>0,y=t>-1?e[t-1]!=="/":!e.endsWith("/"),w=!e.startsWith(".");return f&&d&&y&&w&&p&&h&&g},aG=e=>{let t=e.indexOf("@"),r=e.lastIndexOf("#"),i=e.indexOf(":"),o=e.lastIndexOf(":",r>-1?r:Infinity),a;return o>t&&(a=e.slice(0,o)+"/"+e.slice(o+1),i=a.indexOf(":"),o=a.lastIndexOf(":")),i===-1&&e.indexOf("//")===-1&&(a=`git+ssh://${a}`),a},uG=e=>{let t;try{t=new uE.URL(e)}catch(i){}if(t)return t;let r=aG(e);try{t=new uE.URL(r)}catch(i){}return t}});var fE=S((KK,lE)=>{"use strict";var{parse:lG}=G("url"),fG=new RegExp(/^\/?:?([/\w-.]+)\/([\w-.]+)\/?$/),cG=new RegExp(/^\/repos\/([\w-.]+)\/([\w-.]+)\/(?:tarball|zipball)(?:\/.+)?$/),pG=new RegExp(/^\/([\w-.]+)\/([\w-.]+)\/(?:legacy\.(?:zip|tar\.gz))(?:\/.+)?$/);lE.exports=e=>{let t=e.replace(/^git@/,"https://git@").replace(/\.git$/,""),r=lG(t),i=o=>({browse:dG(r,o),domain:r.host,project:o[2]||null,type:hG(r),user:o[1]||null});if(r.host){if(r.host.includes("api.github.com")){let o=cG.exec(r.pathname)||[];return i(o)}if(r.host.includes("codeload.github.com")){let o=pG.exec(r.pathname)||[];return i(o)}}return i(fG.exec(r.pathname)||[])};function hG(e){return typeof e.host!="string"?null:e.host.indexOf("github")!==-1?"github":e.host.indexOf("gitlab")!==-1?"gitlab":null}function dG(e,t){let i=`${e.protocol==="http:"?"http:":"https:"}//${e.host}/${t[1]}/${t[2]}`;return()=>i}});var pE=S((YK,cE)=>{"use strict";var gG=wh(),mG=fE();cE.exports=e=>{if(!e||!e.repository||typeof e.repository!="string"&&!e.repository.url)throw new Error('No valid "repository" data found in package metadata. Please see https://docs.npmjs.com/files/package.json#repository for proper syntax.');let t=typeof e.repository=="string"?e.repository:e.repository.url;return gG.fromUrl(t)||mG(t)}});var il=S((zK,hE)=>{var vG="2.0.0",yG=256,_G=Number.MAX_SAFE_INTEGER||9007199254740991,bG=16;hE.exports={SEMVER_SPEC_VERSION:vG,MAX_LENGTH:yG,MAX_SAFE_INTEGER:_G,MAX_SAFE_COMPONENT_LENGTH:bG}});var Eh=S((JK,dE)=>{var wG=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};dE.exports=wG});var Ph=S((Cn,gE)=>{var{MAX_SAFE_COMPONENT_LENGTH:Sh}=il(),EG=Eh();Cn=gE.exports={};var SG=Cn.re=[],ie=Cn.src=[],se=Cn.t={},PG=0,we=(e,t,r)=>{let i=PG++;EG(e,i,t),se[e]=i,ie[i]=t,SG[i]=new RegExp(t,r?"g":void 0)};we("NUMERICIDENTIFIER","0|[1-9]\\d*");we("NUMERICIDENTIFIERLOOSE","[0-9]+");we("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");we("MAINVERSION",`(${ie[se.NUMERICIDENTIFIER]})\\.(${ie[se.NUMERICIDENTIFIER]})\\.(${ie[se.NUMERICIDENTIFIER]})`);we("MAINVERSIONLOOSE",`(${ie[se.NUMERICIDENTIFIERLOOSE]})\\.(${ie[se.NUMERICIDENTIFIERLOOSE]})\\.(${ie[se.NUMERICIDENTIFIERLOOSE]})`);we("PRERELEASEIDENTIFIER",`(?:${ie[se.NUMERICIDENTIFIER]}|${ie[se.NONNUMERICIDENTIFIER]})`);we("PRERELEASEIDENTIFIERLOOSE",`(?:${ie[se.NUMERICIDENTIFIERLOOSE]}|${ie[se.NONNUMERICIDENTIFIER]})`);we("PRERELEASE",`(?:-(${ie[se.PRERELEASEIDENTIFIER]}(?:\\.${ie[se.PRERELEASEIDENTIFIER]})*))`);we("PRERELEASELOOSE",`(?:-?(${ie[se.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${ie[se.PRERELEASEIDENTIFIERLOOSE]})*))`);we("BUILDIDENTIFIER","[0-9A-Za-z-]+");we("BUILD",`(?:\\+(${ie[se.BUILDIDENTIFIER]}(?:\\.${ie[se.BUILDIDENTIFIER]})*))`);we("FULLPLAIN",`v?${ie[se.MAINVERSION]}${ie[se.PRERELEASE]}?${ie[se.BUILD]}?`);we("FULL",`^${ie[se.FULLPLAIN]}$`);we("LOOSEPLAIN",`[v=\\s]*${ie[se.MAINVERSIONLOOSE]}${ie[se.PRERELEASELOOSE]}?${ie[se.BUILD]}?`);we("LOOSE",`^${ie[se.LOOSEPLAIN]}$`);we("GTLT","((?:<|>)?=?)");we("XRANGEIDENTIFIERLOOSE",`${ie[se.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);we("XRANGEIDENTIFIER",`${ie[se.NUMERICIDENTIFIER]}|x|X|\\*`);we("XRANGEPLAIN",`[v=\\s]*(${ie[se.XRANGEIDENTIFIER]})(?:\\.(${ie[se.XRANGEIDENTIFIER]})(?:\\.(${ie[se.XRANGEIDENTIFIER]})(?:${ie[se.PRERELEASE]})?${ie[se.BUILD]}?)?)?`);we("XRANGEPLAINLOOSE",`[v=\\s]*(${ie[se.XRANGEIDENTIFIERLOOSE]})(?:\\.(${ie[se.XRANGEIDENTIFIERLOOSE]})(?:\\.(${ie[se.XRANGEIDENTIFIERLOOSE]})(?:${ie[se.PRERELEASELOOSE]})?${ie[se.BUILD]}?)?)?`);we("XRANGE",`^${ie[se.GTLT]}\\s*${ie[se.XRANGEPLAIN]}$`);we("XRANGELOOSE",`^${ie[se.GTLT]}\\s*${ie[se.XRANGEPLAINLOOSE]}$`);we("COERCE",`(^|[^\\d])(\\d{1,${Sh}})(?:\\.(\\d{1,${Sh}}))?(?:\\.(\\d{1,${Sh}}))?(?:$|[^\\d])`);we("COERCERTL",ie[se.COERCE],!0);we("LONETILDE","(?:~>?)");we("TILDETRIM",`(\\s*)${ie[se.LONETILDE]}\\s+`,!0);Cn.tildeTrimReplace="$1~";we("TILDE",`^${ie[se.LONETILDE]}${ie[se.XRANGEPLAIN]}$`);we("TILDELOOSE",`^${ie[se.LONETILDE]}${ie[se.XRANGEPLAINLOOSE]}$`);we("LONECARET","(?:\\^)");we("CARETTRIM",`(\\s*)${ie[se.LONECARET]}\\s+`,!0);Cn.caretTrimReplace="$1^";we("CARET",`^${ie[se.LONECARET]}${ie[se.XRANGEPLAIN]}$`);we("CARETLOOSE",`^${ie[se.LONECARET]}${ie[se.XRANGEPLAINLOOSE]}$`);we("COMPARATORLOOSE",`^${ie[se.GTLT]}\\s*(${ie[se.LOOSEPLAIN]})$|^$`);we("COMPARATOR",`^${ie[se.GTLT]}\\s*(${ie[se.FULLPLAIN]})$|^$`);we("COMPARATORTRIM",`(\\s*)${ie[se.GTLT]}\\s*(${ie[se.LOOSEPLAIN]}|${ie[se.XRANGEPLAIN]})`,!0);Cn.comparatorTrimReplace="$1$2$3";we("HYPHENRANGE",`^\\s*(${ie[se.XRANGEPLAIN]})\\s+-\\s+(${ie[se.XRANGEPLAIN]})\\s*$`);we("HYPHENRANGELOOSE",`^\\s*(${ie[se.XRANGEPLAINLOOSE]})\\s+-\\s+(${ie[se.XRANGEPLAINLOOSE]})\\s*$`);we("STAR","(<|>)?=?\\s*\\*");we("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");we("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var xh=S((XK,mE)=>{var xG=["includePrerelease","loose","rtl"],LG=e=>e?typeof e!="object"?{loose:!0}:xG.filter(t=>e[t]).reduce((t,r)=>(t[r]=!0,t),{}):{};mE.exports=LG});var bE=S((ZK,_E)=>{var vE=/^[0-9]+$/,yE=(e,t)=>{let r=vE.test(e),i=vE.test(t);return r&&i&&(e=+e,t=+t),e===t?0:r&&!i?-1:i&&!r?1:e<t?-1:1},AG=(e,t)=>yE(t,e);_E.exports={compareIdentifiers:yE,rcompareIdentifiers:AG}});var xE=S((QK,PE)=>{var sl=Eh(),{MAX_LENGTH:wE,MAX_SAFE_INTEGER:ol}=il(),{re:EE,t:SE}=Ph(),CG=xh(),{compareIdentifiers:ds}=bE(),fr=class{constructor(t,r){if(r=CG(r),t instanceof fr){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid Version: ${t}`);if(t.length>wE)throw new TypeError(`version is longer than ${wE} characters`);sl("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let i=t.trim().match(r.loose?EE[SE.LOOSE]:EE[SE.FULL]);if(!i)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+i[1],this.minor=+i[2],this.patch=+i[3],this.major>ol||this.major<0)throw new TypeError("Invalid major version");if(this.minor>ol||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>ol||this.patch<0)throw new TypeError("Invalid patch version");i[4]?this.prerelease=i[4].split(".").map(o=>{if(/^[0-9]+$/.test(o)){let a=+o;if(a>=0&&a<ol)return a}return o}):this.prerelease=[],this.build=i[5]?i[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(sl("SemVer.compare",this.version,this.options,t),!(t instanceof fr)){if(typeof t=="string"&&t===this.version)return 0;t=new fr(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof fr||(t=new fr(t,this.options)),ds(this.major,t.major)||ds(this.minor,t.minor)||ds(this.patch,t.patch)}comparePre(t){if(t instanceof fr||(t=new fr(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{let i=this.prerelease[r],o=t.prerelease[r];if(sl("prerelease compare",r,i,o),i===void 0&&o===void 0)return 0;if(o===void 0)return 1;if(i===void 0)return-1;if(i===o)continue;return ds(i,o)}while(++r)}compareBuild(t){t instanceof fr||(t=new fr(t,this.options));let r=0;do{let i=this.build[r],o=t.build[r];if(sl("prerelease compare",r,i,o),i===void 0&&o===void 0)return 0;if(o===void 0)return 1;if(i===void 0)return-1;if(i===o)continue;return ds(i,o)}while(++r)}inc(t,r){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r),this.inc("pre",r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r),this.inc("pre",r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let i=this.prerelease.length;for(;--i>=0;)typeof this.prerelease[i]=="number"&&(this.prerelease[i]++,i=-2);i===-1&&this.prerelease.push(0)}r&&(ds(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=[r,0]):this.prerelease=[r,0]);break;default:throw new Error(`invalid increment argument: ${t}`)}return this.format(),this.raw=this.version,this}};PE.exports=fr});var Lh=S((eY,RE)=>{var{MAX_LENGTH:RG}=il(),{re:LE,t:AE}=Ph(),CE=xE(),OG=xh(),TG=(e,t)=>{if(t=OG(t),e instanceof CE)return e;if(typeof e!="string"||e.length>RG||!(t.loose?LE[AE.LOOSE]:LE[AE.FULL]).test(e))return null;try{return new CE(e,t)}catch(i){return null}};RE.exports=TG});var TE=S((tY,OE)=>{var NG=Lh(),IG=(e,t)=>{let r=NG(e,t);return r?r.version:null};OE.exports=IG});var IE=S((rY,NE)=>{var DG=Lh(),kG=(e,t)=>{let r=DG(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null};NE.exports=kG});var Ah=S((nY,MG)=>{MG.exports=["0BSD","AAL","ADSL","AFL-1.1","AFL-1.2","AFL-2.0","AFL-2.1","AFL-3.0","AGPL-1.0-only","AGPL-1.0-or-later","AGPL-3.0-only","AGPL-3.0-or-later","AMDPLPA","AML","AMPAS","ANTLR-PD","ANTLR-PD-fallback","APAFML","APL-1.0","APSL-1.0","APSL-1.1","APSL-1.2","APSL-2.0","Abstyles","Adobe-2006","Adobe-Glyph","Afmparse","Aladdin","Apache-1.0","Apache-1.1","Apache-2.0","Artistic-1.0","Artistic-1.0-Perl","Artistic-1.0-cl8","Artistic-2.0","BSD-1-Clause","BSD-2-Clause","BSD-2-Clause-Patent","BSD-2-Clause-Views","BSD-3-Clause","BSD-3-Clause-Attribution","BSD-3-Clause-Clear","BSD-3-Clause-LBNL","BSD-3-Clause-Modification","BSD-3-Clause-No-Military-License","BSD-3-Clause-No-Nuclear-License","BSD-3-Clause-No-Nuclear-License-2014","BSD-3-Clause-No-Nuclear-Warranty","BSD-3-Clause-Open-MPI","BSD-4-Clause","BSD-4-Clause-Shortened","BSD-4-Clause-UC","BSD-Protection","BSD-Source-Code","BSL-1.0","BUSL-1.1","Bahyph","Barr","Beerware","BitTorrent-1.0","BitTorrent-1.1","BlueOak-1.0.0","Borceux","C-UDA-1.0","CAL-1.0","CAL-1.0-Combined-Work-Exception","CATOSL-1.1","CC-BY-1.0","CC-BY-2.0","CC-BY-2.5","CC-BY-2.5-AU","CC-BY-3.0","CC-BY-3.0-AT","CC-BY-3.0-DE","CC-BY-3.0-NL","CC-BY-3.0-US","CC-BY-4.0","CC-BY-NC-1.0","CC-BY-NC-2.0","CC-BY-NC-2.5","CC-BY-NC-3.0","CC-BY-NC-3.0-DE","CC-BY-NC-4.0","CC-BY-NC-ND-1.0","CC-BY-NC-ND-2.0","CC-BY-NC-ND-2.5","CC-BY-NC-ND-3.0","CC-BY-NC-ND-3.0-DE","CC-BY-NC-ND-3.0-IGO","CC-BY-NC-ND-4.0","CC-BY-NC-SA-1.0","CC-BY-NC-SA-2.0","CC-BY-NC-SA-2.0-FR","CC-BY-NC-SA-2.0-UK","CC-BY-NC-SA-2.5","CC-BY-NC-SA-3.0","CC-BY-NC-SA-3.0-DE","CC-BY-NC-SA-3.0-IGO","CC-BY-NC-SA-4.0","CC-BY-ND-1.0","CC-BY-ND-2.0","CC-BY-ND-2.5","CC-BY-ND-3.0","CC-BY-ND-3.0-DE","CC-BY-ND-4.0","CC-BY-SA-1.0","CC-BY-SA-2.0","CC-BY-SA-2.0-UK","CC-BY-SA-2.1-JP","CC-BY-SA-2.5","CC-BY-SA-3.0","CC-BY-SA-3.0-AT","CC-BY-SA-3.0-DE","CC-BY-SA-4.0","CC-PDDC","CC0-1.0","CDDL-1.0","CDDL-1.1","CDL-1.0","CDLA-Permissive-1.0","CDLA-Permissive-2.0","CDLA-Sharing-1.0","CECILL-1.0","CECILL-1.1","CECILL-2.0","CECILL-2.1","CECILL-B","CECILL-C","CERN-OHL-1.1","CERN-OHL-1.2","CERN-OHL-P-2.0","CERN-OHL-S-2.0","CERN-OHL-W-2.0","CNRI-Jython","CNRI-Python","CNRI-Python-GPL-Compatible","COIL-1.0","CPAL-1.0","CPL-1.0","CPOL-1.02","CUA-OPL-1.0","Caldera","ClArtistic","Community-Spec-1.0","Condor-1.1","Crossword","CrystalStacker","Cube","D-FSL-1.0","DOC","DRL-1.0","DSDP","Dotseqn","ECL-1.0","ECL-2.0","EFL-1.0","EFL-2.0","EPICS","EPL-1.0","EPL-2.0","EUDatagrid","EUPL-1.0","EUPL-1.1","EUPL-1.2","Entessa","ErlPL-1.1","Eurosym","FDK-AAC","FSFAP","FSFUL","FSFULLR","FTL","Fair","Frameworx-1.0","FreeBSD-DOC","FreeImage","GD","GFDL-1.1-invariants-only","GFDL-1.1-invariants-or-later","GFDL-1.1-no-invariants-only","GFDL-1.1-no-invariants-or-later","GFDL-1.1-only","GFDL-1.1-or-later","GFDL-1.2-invariants-only","GFDL-1.2-invariants-or-later","GFDL-1.2-no-invariants-only","GFDL-1.2-no-invariants-or-later","GFDL-1.2-only","GFDL-1.2-or-later","GFDL-1.3-invariants-only","GFDL-1.3-invariants-or-later","GFDL-1.3-no-invariants-only","GFDL-1.3-no-invariants-or-later","GFDL-1.3-only","GFDL-1.3-or-later","GL2PS","GLWTPL","GPL-1.0-only","GPL-1.0-or-later","GPL-2.0-only","GPL-2.0-or-later","GPL-3.0-only","GPL-3.0-or-later","Giftware","Glide","Glulxe","HPND","HPND-sell-variant","HTMLTIDY","HaskellReport","Hippocratic-2.1","IBM-pibs","ICU","IJG","IPA","IPL-1.0","ISC","ImageMagick","Imlib2","Info-ZIP","Intel","Intel-ACPI","Interbase-1.0","JPNIC","JSON","JasPer-2.0","LAL-1.2","LAL-1.3","LGPL-2.0-only","LGPL-2.0-or-later","LGPL-2.1-only","LGPL-2.1-or-later","LGPL-3.0-only","LGPL-3.0-or-later","LGPLLR","LPL-1.0","LPL-1.02","LPPL-1.0","LPPL-1.1","LPPL-1.2","LPPL-1.3a","LPPL-1.3c","Latex2e","Leptonica","LiLiQ-P-1.1","LiLiQ-R-1.1","LiLiQ-Rplus-1.1","Libpng","Linux-OpenIB","Linux-man-pages-copyleft","MIT","MIT-0","MIT-CMU","MIT-Modern-Variant","MIT-advertising","MIT-enna","MIT-feh","MIT-open-group","MITNFA","MPL-1.0","MPL-1.1","MPL-2.0","MPL-2.0-no-copyleft-exception","MS-PL","MS-RL","MTLL","MakeIndex","MirOS","Motosoto","MulanPSL-1.0","MulanPSL-2.0","Multics","Mup","NAIST-2003","NASA-1.3","NBPL-1.0","NCGL-UK-2.0","NCSA","NGPL","NIST-PD","NIST-PD-fallback","NLOD-1.0","NLOD-2.0","NLPL","NOSL","NPL-1.0","NPL-1.1","NPOSL-3.0","NRL","NTP","NTP-0","Naumen","Net-SNMP","NetCDF","Newsletr","Nokia","Noweb","O-UDA-1.0","OCCT-PL","OCLC-2.0","ODC-By-1.0","ODbL-1.0","OFL-1.0","OFL-1.0-RFN","OFL-1.0-no-RFN","OFL-1.1","OFL-1.1-RFN","OFL-1.1-no-RFN","OGC-1.0","OGDL-Taiwan-1.0","OGL-Canada-2.0","OGL-UK-1.0","OGL-UK-2.0","OGL-UK-3.0","OGTSL","OLDAP-1.1","OLDAP-1.2","OLDAP-1.3","OLDAP-1.4","OLDAP-2.0","OLDAP-2.0.1","OLDAP-2.1","OLDAP-2.2","OLDAP-2.2.1","OLDAP-2.2.2","OLDAP-2.3","OLDAP-2.4","OLDAP-2.5","OLDAP-2.6","OLDAP-2.7","OLDAP-2.8","OML","OPL-1.0","OPUBL-1.0","OSET-PL-2.1","OSL-1.0","OSL-1.1","OSL-2.0","OSL-2.1","OSL-3.0","OpenSSL","PDDL-1.0","PHP-3.0","PHP-3.01","PSF-2.0","Parity-6.0.0","Parity-7.0.0","Plexus","PolyForm-Noncommercial-1.0.0","PolyForm-Small-Business-1.0.0","PostgreSQL","Python-2.0","QPL-1.0","Qhull","RHeCos-1.1","RPL-1.1","RPL-1.5","RPSL-1.0","RSA-MD","RSCPL","Rdisc","Ruby","SAX-PD","SCEA","SGI-B-1.0","SGI-B-1.1","SGI-B-2.0","SHL-0.5","SHL-0.51","SISSL","SISSL-1.2","SMLNJ","SMPPL","SNIA","SPL-1.0","SSH-OpenSSH","SSH-short","SSPL-1.0","SWL","Saxpath","Sendmail","Sendmail-8.23","SimPL-2.0","Sleepycat","Spencer-86","Spencer-94","Spencer-99","SugarCRM-1.1.3","TAPR-OHL-1.0","TCL","TCP-wrappers","TMate","TORQUE-1.1","TOSL","TU-Berlin-1.0","TU-Berlin-2.0","UCL-1.0","UPL-1.0","Unicode-DFS-2015","Unicode-DFS-2016","Unicode-TOU","Unlicense","VOSTROM","VSL-1.0","Vim","W3C","W3C-19980720","W3C-20150513","WTFPL","Watcom-1.0","Wsuipa","X11","XFree86-1.1","XSkat","Xerox","Xnet","YPL-1.0","YPL-1.1","ZPL-1.1","ZPL-2.0","ZPL-2.1","Zed","Zend-2.0","Zimbra-1.3","Zimbra-1.4","Zlib","blessing","bzip2-1.0.5","bzip2-1.0.6","copyleft-next-0.3.0","copyleft-next-0.3.1","curl","diffmark","dvipdfm","eGenix","etalab-2.0","gSOAP-1.3b","gnuplot","iMatix","libpng-2.0","libselinux-1.0","libtiff","mpich2","psfrag","psutils","xinetd","xpp","zlib-acknowledgement"]});var DE=S((iY,FG)=>{FG.exports=["AGPL-1.0","AGPL-3.0","BSD-2-Clause-FreeBSD","BSD-2-Clause-NetBSD","GFDL-1.1","GFDL-1.2","GFDL-1.3","GPL-1.0","GPL-2.0","GPL-2.0-with-GCC-exception","GPL-2.0-with-autoconf-exception","GPL-2.0-with-bison-exception","GPL-2.0-with-classpath-exception","GPL-2.0-with-font-exception","GPL-3.0","GPL-3.0-with-GCC-exception","GPL-3.0-with-autoconf-exception","LGPL-2.0","LGPL-2.1","LGPL-3.0","Nunit","StandardML-NJ","eCos-2.0","wxWindows"]});var kE=S((sY,BG)=>{BG.exports=["389-exception","Autoconf-exception-2.0","Autoconf-exception-3.0","Bison-exception-2.2","Bootloader-exception","Classpath-exception-2.0","CLISP-exception-2.0","DigiRule-FOSS-exception","eCos-exception-2.0","Fawkes-Runtime-exception","FLTK-exception","Font-exception-2.0","freertos-exception-2.0","GCC-exception-2.0","GCC-exception-3.1","gnu-javamail-exception","GPL-3.0-linking-exception","GPL-3.0-linking-source-exception","GPL-CC-1.0","i2p-gpl-java-exception","Libtool-exception","Linux-syscall-note","LLVM-exception","LZMA-exception","mif-exception","Nokia-Qt-exception-1.1","OCaml-LGPL-linking-exception","OCCT-exception-1.0","OpenJDK-assembly-exception-1.0","openvpn-openssl-exception","PS-or-PDF-font-exception-20170817","Qt-GPL-exception-1.0","Qt-LGPL-exception-1.1","Qwt-exception-1.0","Swift-exception","u-boot-exception-2.0","Universal-FOSS-exception-1.0","WxWindows-exception-3.1"]});var FE=S((oY,ME)=>{"use strict";var qG=[].concat(Ah()).concat(DE()),UG=kE();ME.exports=function(e){var t=0;function r(){return t<e.length}function i(E){if(E instanceof RegExp){var A=e.slice(t),T=A.match(E);if(T)return t+=T[0].length,T[0]}else if(e.indexOf(E,t)===t)return t+=E.length,E}function o(){i(/[ ]*/)}function a(){for(var E,A=["WITH","AND","OR","(",")",":","+"],T=0;T<A.length&&(E=i(A[T]),!E);T++);if(E==="+"&&t>1&&e[t-2]===" ")throw new Error("Space before `+`");return E&&{type:"OPERATOR",string:E}}function l(){return i(/[A-Za-z0-9-.]+/)}function f(){var E=l();if(!E)throw new Error("Expected idstring at offset "+t);return E}function p(){if(i("DocumentRef-")){var E=f();return{type:"DOCUMENTREF",string:E}}}function h(){if(i("LicenseRef-")){var E=f();return{type:"LICENSEREF",string:E}}}function g(){var E=t,A=l();if(qG.indexOf(A)!==-1)return{type:"LICENSE",string:A};if(UG.indexOf(A)!==-1)return{type:"EXCEPTION",string:A};t=E}function d(){return a()||p()||h()||g()}for(var y=[];r()&&(o(),!!r());){var w=d();if(!w)throw new Error("Unexpected `"+e[t]+"` at offset "+t);y.push(w)}return y}});var qE=S((aY,BE)=>{"use strict";BE.exports=function(e){var t=0;function r(){return t<e.length}function i(){return r()?e[t]:null}function o(){if(!r())throw new Error;t++}function a(A){var T=i();if(T&&T.type==="OPERATOR"&&A===T.string)return o(),T.string}function l(){if(a("WITH")){var A=i();if(A&&A.type==="EXCEPTION")return o(),A.string;throw new Error("Expected exception after `WITH`")}}function f(){var A=t,T="",I=i();if(I.type==="DOCUMENTREF"&&(o(),T+="DocumentRef-"+I.string+":",!a(":")))throw new Error("Expected `:` after `DocumentRef-...`");if(I=i(),I.type==="LICENSEREF")return o(),T+="LicenseRef-"+I.string,{license:T};t=A}function p(){var A=i();if(A&&A.type==="LICENSE"){o();var T={license:A.string};a("+")&&(T.plus=!0);var I=l();return I&&(T.exception=I),T}}function h(){var A=a("(");if(!!A){var T=w();if(!a(")"))throw new Error("Expected `)`");return T}}function g(){return h()||f()||p()}function d(A,T){return function I(){var $=T();if(!!$){if(!a(A))return $;var U=I();if(!U)throw new Error("Expected expression");return{left:$,conjunction:A.toLowerCase(),right:U}}}}var y=d("AND",g),w=d("OR",y),E=w();if(!E||r())throw new Error("Syntax error");return E}});var Ch=S((uY,UE)=>{"use strict";var GG=FE(),jG=qE();UE.exports=function(e){return jG(GG(e))}});var YE=S((lY,KE)=>{var WG=Ch(),HG=Ah();function al(e){try{return WG(e),!0}catch(t){return!1}}var GE=[["APGL","AGPL"],["Gpl","GPL"],["GLP","GPL"],["APL","Apache"],["ISD","ISC"],["GLP","GPL"],["IST","ISC"],["Claude","Clause"],[" or later","+"],[" International",""],["GNU","GPL"],["GUN","GPL"],["+",""],["GNU GPL","GPL"],["GNU/GPL","GPL"],["GNU GLP","GPL"],["GNU General Public License","GPL"],["Gnu public license","GPL"],["GNU Public License","GPL"],["GNU GENERAL PUBLIC LICENSE","GPL"],["MTI","MIT"],["Mozilla Public License","MPL"],["Universal Permissive License","UPL"],["WTH","WTF"],["-License",""]],$G=0,VG=1,jE=[function(e){return e.toUpperCase()},function(e){return e.trim()},function(e){return e.replace(/\./g,"")},function(e){return e.replace(/\s+/g,"")},function(e){return e.replace(/\s+/g,"-")},function(e){return e.replace("v","-")},function(e){return e.replace(/,?\s*(\d)/,"-$1")},function(e){return e.replace(/,?\s*(\d)/,"-$1.0")},function(e){return e.replace(/,?\s*(V\.|v\.|V|v|Version|version)\s*(\d)/,"-$2")},function(e){return e.replace(/,?\s*(V\.|v\.|V|v|Version|version)\s*(\d)/,"-$2.0")},function(e){return e[0].toUpperCase()+e.slice(1)},function(e){return e.replace("/","-")},function(e){return e.replace(/\s*V\s*(\d)/,"-$1").replace(/(\d)$/,"$1.0")},function(e){return e.indexOf("3.0")!==-1?e+"-or-later":e+"-only"},function(e){return e+"only"},function(e){return e.replace(/(\d)$/,"-$1.0")},function(e){return e.replace(/(-| )?(\d)$/,"-$2-Clause")},function(e){return e.replace(/(-| )clause(-| )(\d)/,"-$3-Clause")},function(e){return e.replace(/\b(Modified|New|Revised)(-| )?BSD((-| )License)?/i,"BSD-3-Clause")},function(e){return e.replace(/\bSimplified(-| )?BSD((-| )License)?/i,"BSD-2-Clause")},function(e){return e.replace(/\b(Free|Net)(-| )?BSD((-| )License)?/i,"BSD-2-Clause-$1BSD")},function(e){return e.replace(/\bClear(-| )?BSD((-| )License)?/i,"BSD-3-Clause-Clear")},function(e){return e.replace(/\b(Old|Original)(-| )?BSD((-| )License)?/i,"BSD-4-Clause")},function(e){return"CC-"+e},function(e){return"CC-"+e+"-4.0"},function(e){return e.replace("Attribution","BY").replace("NonCommercial","NC").replace("NoDerivatives","ND").replace(/ (\d)/,"-$1").replace(/ ?International/,"")},function(e){return"CC-"+e.replace("Attribution","BY").replace("NonCommercial","NC").replace("NoDerivatives","ND").replace(/ (\d)/,"-$1").replace(/ ?International/,"")+"-4.0"}],Rh=HG.map(function(e){var t=/^(.*)-\d+\.\d+$/.exec(e);return t?[t[0],t[1]]:[e,null]}).reduce(function(e,t){var r=t[1];return e[r]=e[r]||[],e[r].push(t[0]),e},{}),KG=Object.keys(Rh).map(function(t){return[t,Rh[t]]}).filter(function(t){return t[1].length===1&&t[0]!==null&&t[0]!=="APL"}).map(function(t){return[t[0],t[1][0]]});Rh=void 0;var WE=[["UNLI","Unlicense"],["WTF","WTFPL"],["2 CLAUSE","BSD-2-Clause"],["2-CLAUSE","BSD-2-Clause"],["3 CLAUSE","BSD-3-Clause"],["3-CLAUSE","BSD-3-Clause"],["AFFERO","AGPL-3.0-or-later"],["AGPL","AGPL-3.0-or-later"],["APACHE","Apache-2.0"],["ARTISTIC","Artistic-2.0"],["Affero","AGPL-3.0-or-later"],["BEER","Beerware"],["BOOST","BSL-1.0"],["BSD","BSD-2-Clause"],["CDDL","CDDL-1.1"],["ECLIPSE","EPL-1.0"],["FUCK","WTFPL"],["GNU","GPL-3.0-or-later"],["LGPL","LGPL-3.0-or-later"],["GPLV1","GPL-1.0-only"],["GPL-1","GPL-1.0-only"],["GPLV2","GPL-2.0-only"],["GPL-2","GPL-2.0-only"],["GPL","GPL-3.0-or-later"],["MIT +NO-FALSE-ATTRIBS","MITNFA"],["MIT","MIT"],["MPL","MPL-2.0"],["X11","X11"],["ZLIB","Zlib"]].concat(KG),YG=0,zG=1,HE=function(e){for(var t=0;t<jE.length;t++){var r=jE[t](e).trim();if(r!==e&&al(r))return r}return null},$E=function(e){for(var t=e.toUpperCase(),r=0;r<WE.length;r++){var i=WE[r];if(t.indexOf(i[YG])>-1)return i[zG]}return null},VE=function(e,t){for(var r=0;r<GE.length;r++){var i=GE[r],o=i[$G];if(e.indexOf(o)>-1){var a=e.replace(o,i[VG]),l=t(a);if(l!==null)return l}}return null};KE.exports=function(e,t){t=t||{};var r=t.upgrade===void 0?!0:!!t.upgrade;function i(f){return r?JG(f):f}var o=typeof e=="string"&&e.trim().length!==0;if(!o)throw Error("Invalid argument. Expected non-empty string.");if(e=e.trim(),al(e))return i(e);var a=e.replace(/\+$/,"").trim();if(al(a))return i(a);var l=HE(e);return l!==null||(l=VE(e,function(f){return al(f)?f:HE(f)}),l!==null)||(l=$E(e),l!==null)||(l=VE(e,$E),l!==null)?i(l):null};function JG(e){return["GPL-1.0","LGPL-1.0","AGPL-1.0","GPL-2.0","LGPL-2.0","AGPL-2.0","LGPL-2.1"].indexOf(e)!==-1?e+"-only":["GPL-1.0+","GPL-2.0+","GPL-3.0+","LGPL-2.0+","LGPL-2.1+","LGPL-3.0+","AGPL-1.0+","AGPL-3.0+"].indexOf(e)!==-1?e.replace(/\+$/,"-or-later"):["GPL-3.0","LGPL-3.0","AGPL-3.0"].indexOf(e)!==-1?e+"-or-later":e}});var Th=S((fY,XE)=>{var XG=Ch(),ZG=YE(),zE='license should be a valid SPDX license expression (without "LicenseRef"), "UNLICENSED", or "SEE LICENSE IN <filename>"',QG=/^SEE LICEN[CS]E IN (.+)$/;function JE(e,t){return t.slice(0,e.length)===e}function Oh(e){if(e.hasOwnProperty("license")){var t=e.license;return JE("LicenseRef",t)||JE("DocumentRef",t)}else return Oh(e.left)||Oh(e.right)}XE.exports=function(e){var t;try{t=XG(e)}catch(a){var r;if(e==="UNLICENSED"||e==="UNLICENCED")return{validForOldPackages:!0,validForNewPackages:!0,unlicensed:!0};if(r=QG.exec(e))return{validForOldPackages:!0,validForNewPackages:!0,inFile:r[1]};var i={validForOldPackages:!1,validForNewPackages:!1,warnings:[zE]};if(e.trim().length!==0){var o=ZG(e);o&&i.warnings.push('license is similar to the valid expression "'+o+'"')}return i}return Oh(t)?{validForNewPackages:!1,validForOldPackages:!1,spdx:!0,warnings:[zE]}:{validForNewPackages:!0,validForOldPackages:!0,spdx:!0}}});var QE=S((cY,ZE)=>{"use strict";var e9="Function.prototype.bind called on incompatible ",Nh=Array.prototype.slice,t9=Object.prototype.toString,r9="[object Function]";ZE.exports=function(t){var r=this;if(typeof r!="function"||t9.call(r)!==r9)throw new TypeError(e9+r);for(var i=Nh.call(arguments,1),o,a=function(){if(this instanceof o){var g=r.apply(this,i.concat(Nh.call(arguments)));return Object(g)===g?g:this}else return r.apply(t,i.concat(Nh.call(arguments)))},l=Math.max(0,r.length-i.length),f=[],p=0;p<l;p++)f.push("$"+p);if(o=Function("binder","return function ("+f.join(",")+"){ return binder.apply(this,arguments); }")(a),r.prototype){var h=function(){};h.prototype=r.prototype,o.prototype=new h,h.prototype=null}return o}});var tS=S((pY,eS)=>{"use strict";var n9=QE();eS.exports=Function.prototype.bind||n9});var nS=S((hY,rS)=>{"use strict";var i9=tS();rS.exports=i9.call(Function.call,Object.prototype.hasOwnProperty)});var iS=S((dY,s9)=>{s9.exports={assert:!0,"node:assert":[">= 14.18 && < 15",">= 16"],"assert/strict":">= 15","node:assert/strict":">= 16",async_hooks:">= 8","node:async_hooks":[">= 14.18 && < 15",">= 16"],buffer_ieee754:">= 0.5 && < 0.9.7",buffer:!0,"node:buffer":[">= 14.18 && < 15",">= 16"],child_process:!0,"node:child_process":[">= 14.18 && < 15",">= 16"],cluster:">= 0.5","node:cluster":[">= 14.18 && < 15",">= 16"],console:!0,"node:console":[">= 14.18 && < 15",">= 16"],constants:!0,"node:constants":[">= 14.18 && < 15",">= 16"],crypto:!0,"node:crypto":[">= 14.18 && < 15",">= 16"],_debug_agent:">= 1 && < 8",_debugger:"< 8",dgram:!0,"node:dgram":[">= 14.18 && < 15",">= 16"],diagnostics_channel:[">= 14.17 && < 15",">= 15.1"],"node:diagnostics_channel":[">= 14.18 && < 15",">= 16"],dns:!0,"node:dns":[">= 14.18 && < 15",">= 16"],"dns/promises":">= 15","node:dns/promises":">= 16",domain:">= 0.7.12","node:domain":[">= 14.18 && < 15",">= 16"],events:!0,"node:events":[">= 14.18 && < 15",">= 16"],freelist:"< 6",fs:!0,"node:fs":[">= 14.18 && < 15",">= 16"],"fs/promises":[">= 10 && < 10.1",">= 14"],"node:fs/promises":[">= 14.18 && < 15",">= 16"],_http_agent:">= 0.11.1","node:_http_agent":[">= 14.18 && < 15",">= 16"],_http_client:">= 0.11.1","node:_http_client":[">= 14.18 && < 15",">= 16"],_http_common:">= 0.11.1","node:_http_common":[">= 14.18 && < 15",">= 16"],_http_incoming:">= 0.11.1","node:_http_incoming":[">= 14.18 && < 15",">= 16"],_http_outgoing:">= 0.11.1","node:_http_outgoing":[">= 14.18 && < 15",">= 16"],_http_server:">= 0.11.1","node:_http_server":[">= 14.18 && < 15",">= 16"],http:!0,"node:http":[">= 14.18 && < 15",">= 16"],http2:">= 8.8","node:http2":[">= 14.18 && < 15",">= 16"],https:!0,"node:https":[">= 14.18 && < 15",">= 16"],inspector:">= 8","node:inspector":[">= 14.18 && < 15",">= 16"],_linklist:"< 8",module:!0,"node:module":[">= 14.18 && < 15",">= 16"],net:!0,"node:net":[">= 14.18 && < 15",">= 16"],"node-inspect/lib/_inspect":">= 7.6 && < 12","node-inspect/lib/internal/inspect_client":">= 7.6 && < 12","node-inspect/lib/internal/inspect_repl":">= 7.6 && < 12",os:!0,"node:os":[">= 14.18 && < 15",">= 16"],path:!0,"node:path":[">= 14.18 && < 15",">= 16"],"path/posix":">= 15.3","node:path/posix":">= 16","path/win32":">= 15.3","node:path/win32":">= 16",perf_hooks:">= 8.5","node:perf_hooks":[">= 14.18 && < 15",">= 16"],process:">= 1","node:process":[">= 14.18 && < 15",">= 16"],punycode:">= 0.5","node:punycode":[">= 14.18 && < 15",">= 16"],querystring:!0,"node:querystring":[">= 14.18 && < 15",">= 16"],readline:!0,"node:readline":[">= 14.18 && < 15",">= 16"],"readline/promises":">= 17","node:readline/promises":">= 17",repl:!0,"node:repl":[">= 14.18 && < 15",">= 16"],smalloc:">= 0.11.5 && < 3",_stream_duplex:">= 0.9.4","node:_stream_duplex":[">= 14.18 && < 15",">= 16"],_stream_transform:">= 0.9.4","node:_stream_transform":[">= 14.18 && < 15",">= 16"],_stream_wrap:">= 1.4.1","node:_stream_wrap":[">= 14.18 && < 15",">= 16"],_stream_passthrough:">= 0.9.4","node:_stream_passthrough":[">= 14.18 && < 15",">= 16"],_stream_readable:">= 0.9.4","node:_stream_readable":[">= 14.18 && < 15",">= 16"],_stream_writable:">= 0.9.4","node:_stream_writable":[">= 14.18 && < 15",">= 16"],stream:!0,"node:stream":[">= 14.18 && < 15",">= 16"],"stream/consumers":">= 16.7","node:stream/consumers":">= 16.7","stream/promises":">= 15","node:stream/promises":">= 16","stream/web":">= 16.5","node:stream/web":">= 16.5",string_decoder:!0,"node:string_decoder":[">= 14.18 && < 15",">= 16"],sys:[">= 0.4 && < 0.7",">= 0.8"],"node:sys":[">= 14.18 && < 15",">= 16"],"node:test":">= 18",timers:!0,"node:timers":[">= 14.18 && < 15",">= 16"],"timers/promises":">= 15","node:timers/promises":">= 16",_tls_common:">= 0.11.13","node:_tls_common":[">= 14.18 && < 15",">= 16"],_tls_legacy:">= 0.11.3 && < 10",_tls_wrap:">= 0.11.3","node:_tls_wrap":[">= 14.18 && < 15",">= 16"],tls:!0,"node:tls":[">= 14.18 && < 15",">= 16"],trace_events:">= 10","node:trace_events":[">= 14.18 && < 15",">= 16"],tty:!0,"node:tty":[">= 14.18 && < 15",">= 16"],url:!0,"node:url":[">= 14.18 && < 15",">= 16"],util:!0,"node:util":[">= 14.18 && < 15",">= 16"],"util/types":">= 15.3","node:util/types":">= 16","v8/tools/arguments":">= 10 && < 12","v8/tools/codemap":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/consarray":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/csvparser":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/logreader":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/profile_view":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/splaytree":[">= 4.4 && < 5",">= 5.2 && < 12"],v8:">= 1","node:v8":[">= 14.18 && < 15",">= 16"],vm:!0,"node:vm":[">= 14.18 && < 15",">= 16"],wasi:">= 13.4 && < 13.5",worker_threads:">= 11.7","node:worker_threads":[">= 14.18 && < 15",">= 16"],zlib:">= 0.5","node:zlib":[">= 14.18 && < 15",">= 16"]}});var Lo=S((gY,aS)=>{"use strict";var o9=nS();function a9(e,t){for(var r=e.split("."),i=t.split(" "),o=i.length>1?i[0]:"=",a=(i.length>1?i[1]:i[0]).split("."),l=0;l<3;++l){var f=parseInt(r[l]||0,10),p=parseInt(a[l]||0,10);if(f!==p)return o==="<"?f<p:o===">="?f>=p:!1}return o===">="}function sS(e,t){var r=t.split(/ ?&& ?/);if(r.length===0)return!1;for(var i=0;i<r.length;++i)if(!a9(e,r[i]))return!1;return!0}function u9(e,t){if(typeof t=="boolean")return t;var r=typeof e=="undefined"?process.versions&&process.versions.node:e;if(typeof r!="string")throw new TypeError(typeof e=="undefined"?"Unable to determine current node version":"If provided, a valid node version is required");if(t&&typeof t=="object"){for(var i=0;i<t.length;++i)if(sS(r,t[i]))return!0;return!1}return sS(r,t)}var oS=iS();aS.exports=function(t,r){return o9(oS,t)&&u9(r,oS[t])}});var lS=S((mY,uS)=>{uS.exports=l9;function l9(e){if(!!e&&e!=="ERROR: No README data found!"){e=e.trim().split(`
`);for(var t=0;e[t]&&e[t].trim().match(/^(#|$)/);t++);for(var r=e.length,i=t+1;i<r&&e[i].trim();i++);return e.slice(t,i).join(" ").trim()}}});var fS=S((vY,f9)=>{f9.exports={topLevel:{dependancies:"dependencies",dependecies:"dependencies",depdenencies:"dependencies",devEependencies:"devDependencies",depends:"dependencies","dev-dependencies":"devDependencies",devDependences:"devDependencies",devDepenencies:"devDependencies",devdependencies:"devDependencies",repostitory:"repository",repo:"repository",prefereGlobal:"preferGlobal",hompage:"homepage",hampage:"homepage",autohr:"author",autor:"author",contributers:"contributors",publicationConfig:"publishConfig",script:"scripts"},bugs:{web:"url",name:"url"},script:{server:"start",tests:"test"}}});var hS=S((yY,pS)=>{var c9=TE(),p9=IE(),h9=Th(),ul=wh(),d9=Lo(),g9=["dependencies","devDependencies","optionalDependencies"],m9=lS(),Ih=G("url"),Rn=fS();pS.exports={warn:function(){},fixRepositoryField:function(e){if(e.repositories&&(this.warn("repositories"),e.repository=e.repositories[0]),!e.repository)return this.warn("missingRepository");typeof e.repository=="string"&&(e.repository={type:"git",url:e.repository});var t=e.repository.url||"";if(t){var r=ul.fromUrl(t);r&&(t=e.repository.url=r.getDefaultRepresentation()==="shortcut"?r.https():r.toString())}t.match(/github.com\/[^/]+\/[^/]+\.git\.git$/)&&this.warn("brokenGitUrl",t)},fixTypos:function(e){Object.keys(Rn.topLevel).forEach(function(t){Object.prototype.hasOwnProperty.call(e,t)&&this.warn("typo",t,Rn.topLevel[t])},this)},fixScriptsField:function(e){if(!!e.scripts){if(typeof e.scripts!="object"){this.warn("nonObjectScripts"),delete e.scripts;return}Object.keys(e.scripts).forEach(function(t){typeof e.scripts[t]!="string"?(this.warn("nonStringScript"),delete e.scripts[t]):Rn.script[t]&&!e.scripts[Rn.script[t]]&&this.warn("typo",t,Rn.script[t],"scripts")},this)}},fixFilesField:function(e){var t=e.files;t&&!Array.isArray(t)?(this.warn("nonArrayFiles"),delete e.files):e.files&&(e.files=e.files.filter(function(r){return!r||typeof r!="string"?(this.warn("invalidFilename",r),!1):!0},this))},fixBinField:function(e){if(!!e.bin&&typeof e.bin=="string"){var t={},r;(r=e.name.match(/^@[^/]+[/](.*)$/))?t[r[1]]=e.bin:t[e.name]=e.bin,e.bin=t}},fixManField:function(e){!e.man||typeof e.man=="string"&&(e.man=[e.man])},fixBundleDependenciesField:function(e){var t="bundledDependencies",r="bundleDependencies";e[t]&&!e[r]&&(e[r]=e[t],delete e[t]),e[r]&&!Array.isArray(e[r])?(this.warn("nonArrayBundleDependencies"),delete e[r]):e[r]&&(e[r]=e[r].filter(function(i){return!i||typeof i!="string"?(this.warn("nonStringBundleDependency",i),!1):(e.dependencies||(e.dependencies={}),Object.prototype.hasOwnProperty.call(e.dependencies,i)&&(this.warn("nonDependencyBundleDependency",i),e.dependencies[i]="*"),!0)},this))},fixDependencies:function(e,t){P9(e,this.warn),E9(e,this.warn),this.fixBundleDependenciesField(e),["dependencies","devDependencies"].forEach(function(r){if(r in e){if(!e[r]||typeof e[r]!="object"){this.warn("nonObjectDependencies",r),delete e[r];return}Object.keys(e[r]).forEach(function(i){var o=e[r][i];typeof o!="string"&&(this.warn("nonStringDependency",i,JSON.stringify(o)),delete e[r][i]);var a=ul.fromUrl(e[r][i]);a&&(e[r][i]=a.toString())},this)}},this)},fixModulesField:function(e){e.modules&&(this.warn("deprecatedModules"),delete e.modules)},fixKeywordsField:function(e){typeof e.keywords=="string"&&(e.keywords=e.keywords.split(/,\s+/)),e.keywords&&!Array.isArray(e.keywords)?(delete e.keywords,this.warn("nonArrayKeywords")):e.keywords&&(e.keywords=e.keywords.filter(function(t){return typeof t!="string"||!t?(this.warn("nonStringKeyword"),!1):!0},this))},fixVersionField:function(e,t){var r=!t;if(!e.version)return e.version="",!0;if(!c9(e.version,r))throw new Error('Invalid version: "'+e.version+'"');return e.version=p9(e.version,r),!0},fixPeople:function(e){cS(e,b9),cS(e,w9)},fixNameField:function(e,t){typeof t=="boolean"?t={strict:t}:typeof t=="undefined"&&(t={});var r=t.strict;if(!e.name&&!r){e.name="";return}if(typeof e.name!="string")throw new Error("name field must be a string.");r||(e.name=e.name.trim()),_9(e.name,r,t.allowLegacyCase),d9(e.name)&&this.warn("conflictingName",e.name)},fixDescriptionField:function(e){e.description&&typeof e.description!="string"&&(this.warn("nonStringDescription"),delete e.description),e.readme&&!e.description&&(e.description=m9(e.readme)),e.description===void 0&&delete e.description,e.description||this.warn("missingDescription")},fixReadmeField:function(e){e.readme||(this.warn("missingReadme"),e.readme="ERROR: No README data found!")},fixBugsField:function(e){if(!e.bugs&&e.repository&&e.repository.url){var t=ul.fromUrl(e.repository.url);t&&t.bugs()&&(e.bugs={url:t.bugs()})}else if(e.bugs){var r=/^.+@.*\..+$/;if(typeof e.bugs=="string")r.test(e.bugs)?e.bugs={email:e.bugs}:Ih.parse(e.bugs).protocol?e.bugs={url:e.bugs}:this.warn("nonEmailUrlBugsString");else{x9(e.bugs,this.warn);var i=e.bugs;e.bugs={},i.url&&(typeof i.url=="string"&&Ih.parse(i.url).protocol?e.bugs.url=i.url:this.warn("nonUrlBugsUrlField")),i.email&&(typeof i.email=="string"&&r.test(i.email)?e.bugs.email=i.email:this.warn("nonEmailBugsEmailField"))}!e.bugs.email&&!e.bugs.url&&(delete e.bugs,this.warn("emptyNormalizedBugs"))}},fixHomepageField:function(e){if(!e.homepage&&e.repository&&e.repository.url){var t=ul.fromUrl(e.repository.url);t&&t.docs()&&(e.homepage=t.docs())}if(!!e.homepage){if(typeof e.homepage!="string")return this.warn("nonUrlHomepage"),delete e.homepage;Ih.parse(e.homepage).protocol||(e.homepage="http://"+e.homepage)}},fixLicenseField:function(e){let t=e.license||e.licence;if(!t)return this.warn("missingLicense");if(typeof t!="string"||t.length<1||t.trim()==="")return this.warn("invalidLicense");if(!h9(t).validForNewPackages)return this.warn("invalidLicense")}};function v9(e){if(e.charAt(0)!=="@")return!1;var t=e.slice(1).split("/");return t.length!==2?!1:t[0]&&t[1]&&t[0]===encodeURIComponent(t[0])&&t[1]===encodeURIComponent(t[1])}function y9(e){return!e.match(/[/@\s+%:]/)&&e===encodeURIComponent(e)}function _9(e,t,r){if(e.charAt(0)==="."||!(v9(e)||y9(e))||t&&!r&&e!==e.toLowerCase()||e.toLowerCase()==="node_modules"||e.toLowerCase()==="favicon.ico")throw new Error("Invalid name: "+JSON.stringify(e))}function cS(e,t){return e.author&&(e.author=t(e.author)),["maintainers","contributors"].forEach(function(r){!Array.isArray(e[r])||(e[r]=e[r].map(t))}),e}function b9(e){if(typeof e=="string")return e;var t=e.name||"",r=e.url||e.web,i=r?" ("+r+")":"",o=e.email||e.mail,a=o?" <"+o+">":"";return t+a+i}function w9(e){if(typeof e!="string")return e;var t=e.match(/^([^(<]+)/),r=e.match(/\(([^)]+)\)/),i=e.match(/<([^>]+)>/),o={};return t&&t[0].trim()&&(o.name=t[0].trim()),i&&(o.email=i[1]),r&&(o.url=r[1]),o}function E9(e,t){var r=e.optionalDependencies;if(!!r){var i=e.dependencies||{};Object.keys(r).forEach(function(o){i[o]=r[o]}),e.dependencies=i}}function S9(e,t,r){if(!e)return{};if(typeof e=="string"&&(e=e.trim().split(/[\n\r\s\t ,]+/)),!Array.isArray(e))return e;r("deprecatedArrayDependencies",t);var i={};return e.filter(function(o){return typeof o=="string"}).forEach(function(o){o=o.trim().split(/(:?[@\s><=])/);var a=o.shift(),l=o.join("");l=l.trim(),l=l.replace(/^@/,""),i[a]=l}),i}function P9(e,t){g9.forEach(function(r){!e[r]||(e[r]=S9(e[r],r,t))})}function x9(e,t){!e||Object.keys(e).forEach(function(r){Rn.bugs[r]&&(t("typo",r,Rn.bugs[r],"bugs"),e[Rn.bugs[r]]=e[r],delete e[r])})}});var dS=S((_Y,L9)=>{L9.exports={repositories:"'repositories' (plural) Not supported. Please pick one as the 'repository' field",missingRepository:"No repository field.",brokenGitUrl:"Probably broken git url: %s",nonObjectScripts:"scripts must be an object",nonStringScript:"script values must be string commands",nonArrayFiles:"Invalid 'files' member",invalidFilename:"Invalid filename in 'files' list: %s",nonArrayBundleDependencies:"Invalid 'bundleDependencies' list. Must be array of package names",nonStringBundleDependency:"Invalid bundleDependencies member: %s",nonDependencyBundleDependency:"Non-dependency in bundleDependencies: %s",nonObjectDependencies:"%s field must be an object",nonStringDependency:"Invalid dependency: %s %s",deprecatedArrayDependencies:"specifying %s as array is deprecated",deprecatedModules:"modules field is deprecated",nonArrayKeywords:"keywords should be an array of strings",nonStringKeyword:"keywords should be an array of strings",conflictingName:"%s is also the name of a node core module.",nonStringDescription:"'description' field should be a string",missingDescription:"No description",missingReadme:"No README data",missingLicense:"No license field.",nonEmailUrlBugsString:"Bug string field must be url, email, or {email,url}",nonUrlBugsUrlField:"bugs.url field must be a string url. Deleted.",nonEmailBugsEmailField:"bugs.email field must be a string email. Deleted.",emptyNormalizedBugs:"Normalized value of bugs field is an empty object. Deleted.",nonUrlHomepage:"homepage field must be a string url. Deleted.",invalidLicense:"license should be a valid SPDX license expression",typo:"%s should probably be %s."}});var vS=S((bY,mS)=>{var gS=G("util"),Dh=dS();mS.exports=function(){var e=Array.prototype.slice.call(arguments,0),t=e.shift();if(t==="typo")return A9.apply(null,e);var r=Dh[t]?Dh[t]:t+": '%s'";return e.unshift(r),gS.format.apply(null,e)};function A9(e,t,r){return r&&(e=r+"['"+e+"']",t=r+"['"+t+"']"),gS.format(Dh.typo,e,t)}});var wS=S((wY,bS)=>{bS.exports=yS;var kh=hS();yS.fixer=kh;var C9=vS(),R9=["name","version","description","repository","modules","scripts","files","bin","man","bugs","keywords","readme","homepage","license"],O9=["dependencies","people","typos"],Mh=R9.map(function(e){return _S(e)+"Field"});Mh=Mh.concat(O9);function yS(e,t,r){t===!0&&(t=null,r=!0),r||(r=!1),(!t||e.private)&&(t=function(i){}),e.scripts&&e.scripts.install==="node-gyp rebuild"&&!e.scripts.preinstall&&(e.gypfile=!0),kh.warn=function(){t(C9.apply(null,arguments))},Mh.forEach(function(i){kh["fix"+_S(i)](e,r)}),e._id=e.name+"@"+e.version}function _S(e){return e.charAt(0).toUpperCase()+e.slice(1)}});var xS=S(wi=>{wi.parse=wi.decode=T9;wi.stringify=wi.encode=ES;wi.safe=gs;wi.unsafe=ll;var Fh=typeof process!="undefined"&&process.platform==="win32"?`\r
`:`
`;function ES(e,t){var r=[],i="";typeof t=="string"?t={section:t,whitespace:!1}:(t=t||{},t.whitespace=t.whitespace===!0);var o=t.whitespace?" = ":"=";return Object.keys(e).forEach(function(a,l,f){var p=e[a];p&&Array.isArray(p)?p.forEach(function(h){i+=gs(a+"[]")+o+gs(h)+`
`}):p&&typeof p=="object"?r.push(a):i+=gs(a)+o+gs(p)+Fh}),t.section&&i.length&&(i="["+gs(t.section)+"]"+Fh+i),r.forEach(function(a,l,f){var p=SS(a).join("\\."),h=(t.section?t.section+".":"")+p,g=ES(e[a],{section:h,whitespace:t.whitespace});i.length&&g.length&&(i+=Fh),i+=g}),i}function SS(e){return e.replace(/\1/g,"LITERAL\\1LITERAL").replace(/\\\./g,"").split(/\./).map(function(t){return t.replace(/\1/g,"\\.").replace(/\2LITERAL\\1LITERAL\2/g,"")})}function T9(e){var t={},r=t,i=null,o=/^\[([^\]]*)\]$|^([^=]+)(=(.*))?$/i,a=e.split(/[\r\n]+/g);return a.forEach(function(l,f,p){if(!(!l||l.match(/^\s*[;#]/))){var h=l.match(o);if(!!h){if(h[1]!==void 0){if(i=ll(h[1]),i==="__proto__"){r={};return}r=t[i]=t[i]||{};return}var g=ll(h[2]);if(g!=="__proto__"){var d=h[3]?ll(h[4]):!0;switch(d){case"true":case"false":case"null":d=JSON.parse(d)}if(g.length>2&&g.slice(-2)==="[]"){if(g=g.substring(0,g.length-2),g==="__proto__")return;r[g]?Array.isArray(r[g])||(r[g]=[r[g]]):r[g]=[]}Array.isArray(r[g])?r[g].push(d):r[g]=d}}}}),Object.keys(t).filter(function(l,f,p){if(!t[l]||typeof t[l]!="object"||Array.isArray(t[l]))return!1;var h=SS(l),g=t,d=h.pop(),y=d.replace(/\\\./g,".");return h.forEach(function(w,E,A){w!=="__proto__"&&((!g[w]||typeof g[w]!="object")&&(g[w]={}),g=g[w])}),g===t&&y===d?!1:(g[y]=t[l],!0)}).forEach(function(l,f,p){delete t[l]}),t}function PS(e){return e.charAt(0)==='"'&&e.slice(-1)==='"'||e.charAt(0)==="'"&&e.slice(-1)==="'"}function gs(e){return typeof e!="string"||e.match(/[=\r\n]/)||e.match(/^\[/)||e.length>1&&PS(e)||e!==e.trim()?JSON.stringify(e):e.replace(/;/g,"\\;").replace(/#/g,"\\#")}function ll(e,t){if(e=(e||"").trim(),PS(e)){e.charAt(0)==="'"&&(e=e.substr(1,e.length-2));try{e=JSON.parse(e)}catch(f){}}else{for(var r=!1,i="",o=0,a=e.length;o<a;o++){var l=e.charAt(o);if(r)"\\;#".indexOf(l)!==-1?i+=l:i+="\\"+l,r=!1;else{if(";#".indexOf(l)!==-1)break;l==="\\"?r=!0:i+=l}}return r&&(i+="\\"),i.trim()}return e}});var RS=S((SY,CS)=>{var LS=G("fs"),N9=xS(),Bh=G("path");CS.exports=function(e,t){AS(e,function(r){if(!r)return t(new Error("no gitconfig to be found at "+e));LS.readFile(r,function(i,o){if(i)return t(i);try{var a=I9(N9.parse(o.toString()))}catch(l){return t(l)}t(!1,a)})})};function I9(e){var t={};return Object.keys(e).forEach(function(r){if(r.indexOf('"')>-1){var i=r.split('"'),o=i.shift().trim(),a=i.shift().trim();t[o]||(t[o]={}),t[o][a]=e[r]}else t[r]=e[r]}),t}function AS(e,t){var r=Bh.join(e,".git/config");LS.exists(r,function(i){if(i)return t(r);if(e===Bh.resolve(e,".."))return t(!1);AS(Bh.resolve(e,".."),t)})}});var IS=S((PY,NS)=>{"use strict";var OS=function(e,t,r){return function(){for(var i=this,o=new Array(arguments.length),a=0;a<arguments.length;a++)o[a]=arguments[a];return new t(function(l,f){o.push(function(p,h){if(p)f(p);else if(r.multiArgs){for(var g=new Array(arguments.length-1),d=1;d<arguments.length;d++)g[d-1]=arguments[d];l(g)}else l(h)}),e.apply(i,o)})}},TS=NS.exports=function(e,t,r){typeof t!="function"&&(r=t,t=Promise),r=r||{},r.exclude=r.exclude||[/.+Sync$/];var i=function(a){var l=function(f){return typeof f=="string"?a===f:f.test(a)};return r.include?r.include.some(l):!r.exclude.some(l)},o=typeof e=="function"?function(){return r.excludeMain?e.apply(this,arguments):OS(e,t,r).apply(this,arguments)}:{};return Object.keys(e).reduce(function(a,l){var f=e[l];return a[l]=typeof f=="function"&&i(l)?OS(f,t,r):f,a},o)};TS.all=TS});var kS=S((xY,DS)=>{"use strict";var D9=RS(),k9=IS();DS.exports=e=>k9(D9)(e||process.cwd()).then(t=>{var r=t.remote&&t.remote.origin&&t.remote.origin.url;if(!r)throw new Error("Couldn't find origin url");return r})});var FS=S((LY,MS)=>{var On=G("constants"),M9=process.cwd,fl=null,F9=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return fl||(fl=M9.call(process)),fl};try{process.cwd()}catch(e){}typeof process.chdir=="function"&&(qh=process.chdir,process.chdir=function(e){fl=null,qh.call(process,e)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,qh));var qh;MS.exports=B9;function B9(e){On.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&t(e),e.lutimes||r(e),e.chown=a(e.chown),e.fchown=a(e.fchown),e.lchown=a(e.lchown),e.chmod=i(e.chmod),e.fchmod=i(e.fchmod),e.lchmod=i(e.lchmod),e.chownSync=l(e.chownSync),e.fchownSync=l(e.fchownSync),e.lchownSync=l(e.lchownSync),e.chmodSync=o(e.chmodSync),e.fchmodSync=o(e.fchmodSync),e.lchmodSync=o(e.lchmodSync),e.stat=f(e.stat),e.fstat=f(e.fstat),e.lstat=f(e.lstat),e.statSync=p(e.statSync),e.fstatSync=p(e.fstatSync),e.lstatSync=p(e.lstatSync),e.chmod&&!e.lchmod&&(e.lchmod=function(g,d,y){y&&process.nextTick(y)},e.lchmodSync=function(){}),e.chown&&!e.lchown&&(e.lchown=function(g,d,y,w){w&&process.nextTick(w)},e.lchownSync=function(){}),F9==="win32"&&(e.rename=typeof e.rename!="function"?e.rename:function(g){function d(y,w,E){var A=Date.now(),T=0;g(y,w,function I($){if($&&($.code==="EACCES"||$.code==="EPERM")&&Date.now()-A<6e4){setTimeout(function(){e.stat(w,function(U,k){U&&U.code==="ENOENT"?g(y,w,I):E($)})},T),T<100&&(T+=10);return}E&&E($)})}return Object.setPrototypeOf&&Object.setPrototypeOf(d,g),d}(e.rename)),e.read=typeof e.read!="function"?e.read:function(g){function d(y,w,E,A,T,I){var $;if(I&&typeof I=="function"){var U=0;$=function(k,Y,J){if(k&&k.code==="EAGAIN"&&U<10)return U++,g.call(e,y,w,E,A,T,$);I.apply(this,arguments)}}return g.call(e,y,w,E,A,T,$)}return Object.setPrototypeOf&&Object.setPrototypeOf(d,g),d}(e.read),e.readSync=typeof e.readSync!="function"?e.readSync:function(g){return function(d,y,w,E,A){for(var T=0;;)try{return g.call(e,d,y,w,E,A)}catch(I){if(I.code==="EAGAIN"&&T<10){T++;continue}throw I}}}(e.readSync);function t(g){g.lchmod=function(d,y,w){g.open(d,On.O_WRONLY|On.O_SYMLINK,y,function(E,A){if(E){w&&w(E);return}g.fchmod(A,y,function(T){g.close(A,function(I){w&&w(T||I)})})})},g.lchmodSync=function(d,y){var w=g.openSync(d,On.O_WRONLY|On.O_SYMLINK,y),E=!0,A;try{A=g.fchmodSync(w,y),E=!1}finally{if(E)try{g.closeSync(w)}catch(T){}else g.closeSync(w)}return A}}function r(g){On.hasOwnProperty("O_SYMLINK")&&g.futimes?(g.lutimes=function(d,y,w,E){g.open(d,On.O_SYMLINK,function(A,T){if(A){E&&E(A);return}g.futimes(T,y,w,function(I){g.close(T,function($){E&&E(I||$)})})})},g.lutimesSync=function(d,y,w){var E=g.openSync(d,On.O_SYMLINK),A,T=!0;try{A=g.futimesSync(E,y,w),T=!1}finally{if(T)try{g.closeSync(E)}catch(I){}else g.closeSync(E)}return A}):g.futimes&&(g.lutimes=function(d,y,w,E){E&&process.nextTick(E)},g.lutimesSync=function(){})}function i(g){return g&&function(d,y,w){return g.call(e,d,y,function(E){h(E)&&(E=null),w&&w.apply(this,arguments)})}}function o(g){return g&&function(d,y){try{return g.call(e,d,y)}catch(w){if(!h(w))throw w}}}function a(g){return g&&function(d,y,w,E){return g.call(e,d,y,w,function(A){h(A)&&(A=null),E&&E.apply(this,arguments)})}}function l(g){return g&&function(d,y,w){try{return g.call(e,d,y,w)}catch(E){if(!h(E))throw E}}}function f(g){return g&&function(d,y,w){typeof y=="function"&&(w=y,y=null);function E(A,T){T&&(T.uid<0&&(T.uid+=4294967296),T.gid<0&&(T.gid+=4294967296)),w&&w.apply(this,arguments)}return y?g.call(e,d,y,E):g.call(e,d,E)}}function p(g){return g&&function(d,y){var w=y?g.call(e,d,y):g.call(e,d);return w&&(w.uid<0&&(w.uid+=4294967296),w.gid<0&&(w.gid+=4294967296)),w}}function h(g){if(!g||g.code==="ENOSYS")return!0;var d=!process.getuid||process.getuid()!==0;return!!(d&&(g.code==="EINVAL"||g.code==="EPERM"))}}});var US=S((AY,qS)=>{var BS=G("stream").Stream;qS.exports=q9;function q9(e){return{ReadStream:t,WriteStream:r};function t(i,o){if(!(this instanceof t))return new t(i,o);BS.call(this);var a=this;this.path=i,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,o=o||{};for(var l=Object.keys(o),f=0,p=l.length;f<p;f++){var h=l[f];this[h]=o[h]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=Infinity;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){a._read()});return}e.open(this.path,this.flags,this.mode,function(g,d){if(g){a.emit("error",g),a.readable=!1;return}a.fd=d,a.emit("open",d),a._read()})}function r(i,o){if(!(this instanceof r))return new r(i,o);BS.call(this),this.path=i,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,o=o||{};for(var a=Object.keys(o),l=0,f=a.length;l<f;l++){var p=a[l];this[p]=o[p]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}});var jS=S((CY,GS)=>{"use strict";GS.exports=G9;var U9=Object.getPrototypeOf||function(e){return e.__proto__};function G9(e){if(e===null||typeof e!="object")return e;if(e instanceof Object)var t={__proto__:U9(e)};else var t=Object.create(null);return Object.getOwnPropertyNames(e).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}),t}});var VS=S((RY,jh)=>{var Je=G("fs"),j9=FS(),W9=US(),H9=jS(),cl=G("util"),gt,pl;typeof Symbol=="function"&&typeof Symbol.for=="function"?(gt=Symbol.for("graceful-fs.queue"),pl=Symbol.for("graceful-fs.previous")):(gt="___graceful-fs.queue",pl="___graceful-fs.previous");function $9(){}function WS(e,t){Object.defineProperty(e,gt,{get:function(){return t}})}var Ei=$9;cl.debuglog?Ei=cl.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(Ei=function(){var e=cl.format.apply(cl,arguments);e="GFS4: "+e.split(/\n/).join(`
GFS4: `),console.error(e)});Je[gt]||(HS=global[gt]||[],WS(Je,HS),Je.close=function(e){function t(r,i){return e.call(Je,r,function(o){o||$S(),typeof i=="function"&&i.apply(this,arguments)})}return Object.defineProperty(t,pl,{value:e}),t}(Je.close),Je.closeSync=function(e){function t(r){e.apply(Je,arguments),$S()}return Object.defineProperty(t,pl,{value:e}),t}(Je.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){Ei(Je[gt]),G("assert").equal(Je[gt].length,0)}));var HS;global[gt]||WS(global,Je[gt]);jh.exports=Uh(H9(Je));process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!Je.__patched&&(jh.exports=Uh(Je),Je.__patched=!0);function Uh(e){j9(e),e.gracefulify=Uh,e.createReadStream=Y,e.createWriteStream=J;var t=e.readFile;e.readFile=r;function r(V,te,P){return typeof te=="function"&&(P=te,te=null),Z(V,te,P);function Z(H,K,Q,F){return t(H,K,function(re){re&&(re.code==="EMFILE"||re.code==="ENFILE")?ms([Z,[H,K,Q],re,F||Date.now(),Date.now()]):typeof Q=="function"&&Q.apply(this,arguments)})}}var i=e.writeFile;e.writeFile=o;function o(V,te,P,Z){return typeof P=="function"&&(Z=P,P=null),H(V,te,P,Z);function H(K,Q,F,re,de){return i(K,Q,F,function(ae){ae&&(ae.code==="EMFILE"||ae.code==="ENFILE")?ms([H,[K,Q,F,re],ae,de||Date.now(),Date.now()]):typeof re=="function"&&re.apply(this,arguments)})}}var a=e.appendFile;a&&(e.appendFile=l);function l(V,te,P,Z){return typeof P=="function"&&(Z=P,P=null),H(V,te,P,Z);function H(K,Q,F,re,de){return a(K,Q,F,function(ae){ae&&(ae.code==="EMFILE"||ae.code==="ENFILE")?ms([H,[K,Q,F,re],ae,de||Date.now(),Date.now()]):typeof re=="function"&&re.apply(this,arguments)})}}var f=e.copyFile;f&&(e.copyFile=p);function p(V,te,P,Z){return typeof P=="function"&&(Z=P,P=0),H(V,te,P,Z);function H(K,Q,F,re,de){return f(K,Q,F,function(ae){ae&&(ae.code==="EMFILE"||ae.code==="ENFILE")?ms([H,[K,Q,F,re],ae,de||Date.now(),Date.now()]):typeof re=="function"&&re.apply(this,arguments)})}}var h=e.readdir;e.readdir=d;var g=/^v[0-5]\./;function d(V,te,P){typeof te=="function"&&(P=te,te=null);var Z=g.test(process.version)?function(Q,F,re,de){return h(Q,H(Q,F,re,de))}:function(Q,F,re,de){return h(Q,F,H(Q,F,re,de))};return Z(V,te,P);function H(K,Q,F,re){return function(de,ae){de&&(de.code==="EMFILE"||de.code==="ENFILE")?ms([Z,[K,Q,F],de,re||Date.now(),Date.now()]):(ae&&ae.sort&&ae.sort(),typeof F=="function"&&F.call(this,de,ae))}}}if(process.version.substr(0,4)==="v0.8"){var y=W9(e);I=y.ReadStream,U=y.WriteStream}var w=e.ReadStream;w&&(I.prototype=Object.create(w.prototype),I.prototype.open=$);var E=e.WriteStream;E&&(U.prototype=Object.create(E.prototype),U.prototype.open=k),Object.defineProperty(e,"ReadStream",{get:function(){return I},set:function(V){I=V},enumerable:!0,configurable:!0}),Object.defineProperty(e,"WriteStream",{get:function(){return U},set:function(V){U=V},enumerable:!0,configurable:!0});var A=I;Object.defineProperty(e,"FileReadStream",{get:function(){return A},set:function(V){A=V},enumerable:!0,configurable:!0});var T=U;Object.defineProperty(e,"FileWriteStream",{get:function(){return T},set:function(V){T=V},enumerable:!0,configurable:!0});function I(V,te){return this instanceof I?(w.apply(this,arguments),this):I.apply(Object.create(I.prototype),arguments)}function $(){var V=this;ue(V.path,V.flags,V.mode,function(te,P){te?(V.autoClose&&V.destroy(),V.emit("error",te)):(V.fd=P,V.emit("open",P),V.read())})}function U(V,te){return this instanceof U?(E.apply(this,arguments),this):U.apply(Object.create(U.prototype),arguments)}function k(){var V=this;ue(V.path,V.flags,V.mode,function(te,P){te?(V.destroy(),V.emit("error",te)):(V.fd=P,V.emit("open",P))})}function Y(V,te){return new e.ReadStream(V,te)}function J(V,te){return new e.WriteStream(V,te)}var z=e.open;e.open=ue;function ue(V,te,P,Z){return typeof P=="function"&&(Z=P,P=null),H(V,te,P,Z);function H(K,Q,F,re,de){return z(K,Q,F,function(ae,Lt){ae&&(ae.code==="EMFILE"||ae.code==="ENFILE")?ms([H,[K,Q,F,re],ae,de||Date.now(),Date.now()]):typeof re=="function"&&re.apply(this,arguments)})}}return e}function ms(e){Ei("ENQUEUE",e[0].name,e[1]),Je[gt].push(e),Gh()}var hl;function $S(){for(var e=Date.now(),t=0;t<Je[gt].length;++t)Je[gt][t].length>2&&(Je[gt][t][3]=e,Je[gt][t][4]=e);Gh()}function Gh(){if(clearTimeout(hl),hl=void 0,Je[gt].length!==0){var e=Je[gt].shift(),t=e[0],r=e[1],i=e[2],o=e[3],a=e[4];if(o===void 0)Ei("RETRY",t.name,r),t.apply(null,r);else if(Date.now()-o>=6e4){Ei("TIMEOUT",t.name,r);var l=r.pop();typeof l=="function"&&l.call(null,i)}else{var f=Date.now()-a,p=Math.max(a-o,1),h=Math.min(p*1.2,100);f>=h?(Ei("RETRY",t.name,r),t.apply(null,r.concat([o]))):Je[gt].push(e)}hl===void 0&&(hl=setTimeout(Gh,0))}}});var YS=S((OY,KS)=>{"use strict";KS.exports=e=>{if(typeof e!="string")throw new TypeError("Expected a string, got "+typeof e);return e.charCodeAt(0)===65279?e.slice(1):e}});var JS=S((TY,zS)=>{"use strict";zS.exports=function(t){return t?t instanceof Array||Array.isArray(t)||t.length>=0&&t.splice instanceof Function:!1}});var ZS=S((NY,XS)=>{"use strict";var V9=G("util"),K9=JS(),Wh=function(t,r){(!t||t.constructor!==String)&&(r=t||{},t=Error.name);var i=function o(a){if(!this)return new o(a);a=a instanceof Error?a.message:a||this.message,Error.call(this,a),Error.captureStackTrace(this,i),this.name=t,Object.defineProperty(this,"message",{configurable:!0,enumerable:!1,get:function(){var g=a.split(/\r?\n/g);for(var d in r)if(!!r.hasOwnProperty(d)){var y=r[d];"message"in y&&(g=y.message(this[d],g)||g,K9(g)||(g=[g]))}return g.join(`
`)},set:function(g){a=g}});var l=null,f=Object.getOwnPropertyDescriptor(this,"stack"),p=f.get,h=f.value;delete f.value,delete f.writable,f.set=function(g){l=g},f.get=function(){var g=(l||(p?p.call(this):h)).split(/\r?\n+/g);l||(g[0]=this.name+": "+this.message);var d=1;for(var y in r)if(!!r.hasOwnProperty(y)){var w=r[y];if("line"in w){var E=w.line(this[y]);E&&g.splice(d++,0,"    "+E)}"stack"in w&&w.stack(this[y],g)}return g.join(`
`)},Object.defineProperty(this,"stack",f)};return Object.setPrototypeOf?(Object.setPrototypeOf(i.prototype,Error.prototype),Object.setPrototypeOf(i,Error)):V9.inherits(i,Error),i};Wh.append=function(e,t){return{message:function(r,i){return r=r||t,r&&(i[0]+=" "+e.replace("%s",r.toString())),i}}};Wh.line=function(e,t){return{line:function(r){return r=r||t,r?e.replace("%s",r.toString()):null}}};XS.exports=Wh});var eP=S((IY,QS)=>{"use strict";QS.exports=Y9;function Y9(e,t,r){r=r||20;try{return JSON.parse(e,t)}catch(i){if(typeof e!="string"){let l=Array.isArray(e)&&e.length===0,f="Cannot parse "+(l?"an empty array":String(e));throw new TypeError(f)}let o=i.message.match(/^Unexpected token.*position\s+(\d+)/i),a=o?+o[1]:i.message.match(/^Unexpected end of JSON.*/i)?e.length-1:null;if(a!=null){let l=a<=r?0:a-r,f=a+r>=e.length?e.length:a+r;i.message+=` while parsing near '${l===0?"":"..."}${e.slice(l,f)}${f===e.length?"":"..."}'`}else i.message+=` while parsing '${e.slice(0,r*2)}'`;throw i}}});var nP=S((DY,rP)=>{"use strict";var tP=ZS(),z9=eP(),J9=tP("JSONError",{fileName:tP.append("in %s")});rP.exports=(e,t,r)=>{typeof t=="string"&&(r=t,t=null);try{try{return JSON.parse(e,t)}catch(i){throw z9(e,t),i}}catch(i){i.message=i.message.replace(/\n/g,"");let o=new J9(i);throw r&&(o.fileName=r),o}}});var Hh=S((kY,sP)=>{"use strict";var iP=(e,t)=>function(){let r=t.promiseModule,i=new Array(arguments.length);for(let o=0;o<arguments.length;o++)i[o]=arguments[o];return new r((o,a)=>{t.errorFirst?i.push(function(l,f){if(t.multiArgs){let p=new Array(arguments.length-1);for(let h=1;h<arguments.length;h++)p[h-1]=arguments[h];l?(p.unshift(l),a(p)):o(p)}else l?a(l):o(f)}):i.push(function(l){if(t.multiArgs){let f=new Array(arguments.length-1);for(let p=0;p<arguments.length;p++)f[p]=arguments[p];o(f)}else o(l)}),e.apply(this,i)})};sP.exports=(e,t)=>{t=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},t);let r=o=>{let a=l=>typeof l=="string"?o===l:l.test(o);return t.include?t.include.some(a):!t.exclude.some(a)},i;typeof e=="function"?i=function(){return t.excludeMain?e.apply(this,arguments):iP(e,t).apply(this,arguments)}:i=Object.create(Object.getPrototypeOf(e));for(let o in e){let a=e[o];i[o]=typeof a=="function"&&r(o)?iP(a,t):a}return i}});var uP=S((MY,$h)=>{"use strict";var X9=G("path"),oP=VS(),Z9=YS(),Q9=nP(),ej=Hh(),aP=(e,t)=>Q9(Z9(e),X9.relative(".",t));$h.exports=e=>ej(oP.readFile)(e,"utf8").then(t=>aP(t,e));$h.exports.sync=e=>aP(oP.readFileSync(e,"utf8"),e)});var fP=S(Si=>{"use strict";var lP=G("fs"),tj=Hh();function Vh(e,t,r){return typeof r!="string"?Promise.reject(new TypeError(`Expected a string, got ${typeof r}`)):tj(lP[e])(r).then(i=>i[t]()).catch(i=>{if(i.code==="ENOENT")return!1;throw i})}function Kh(e,t,r){if(typeof r!="string")throw new TypeError(`Expected a string, got ${typeof r}`);try{return lP[e](r)[t]()}catch(i){if(i.code==="ENOENT")return!1;throw i}}Si.file=Vh.bind(null,"stat","isFile");Si.dir=Vh.bind(null,"stat","isDirectory");Si.symlink=Vh.bind(null,"lstat","isSymbolicLink");Si.fileSync=Kh.bind(null,"statSync","isFile");Si.dirSync=Kh.bind(null,"statSync","isDirectory");Si.symlinkSync=Kh.bind(null,"lstatSync","isSymbolicLink")});var Yh=S((BY,hP)=>{"use strict";var Ao=hP.exports={github:{protocols:["git","http","git+ssh","git+https","ssh","https"],domain:"github.com",treepath:"tree",filetemplate:"https://{auth@}raw.githubusercontent.com/{user}/{project}/{committish}/{path}",bugstemplate:"https://{domain}/{user}/{project}/issues",gittemplate:"git://{auth@}{domain}/{user}/{project}.git{#committish}",tarballtemplate:"https://codeload.{domain}/{user}/{project}/tar.gz/{committish}"},bitbucket:{protocols:["git+ssh","git+https","ssh","https"],domain:"bitbucket.org",treepath:"src",tarballtemplate:"https://{domain}/{user}/{project}/get/{committish}.tar.gz"},gitlab:{protocols:["git+ssh","git+https","ssh","https"],domain:"gitlab.com",treepath:"tree",bugstemplate:"https://{domain}/{user}/{project}/issues",httpstemplate:"git+https://{auth@}{domain}/{user}/{projectPath}.git{#committish}",tarballtemplate:"https://{domain}/{user}/{project}/repository/archive.tar.gz?ref={committish}",pathmatch:/^[/]([^/]+)[/]((?!.*(\/-\/|\/repository\/archive\.tar\.gz\?=.*|\/repository\/[^/]+\/archive.tar.gz$)).*?)(?:[.]git|[/])?$/},gist:{protocols:["git","git+ssh","git+https","ssh","https"],domain:"gist.github.com",pathmatch:/^[/](?:([^/]+)[/])?([a-z0-9]{32,})(?:[.]git)?$/,filetemplate:"https://gist.githubusercontent.com/{user}/{project}/raw{/committish}/{path}",bugstemplate:"https://{domain}/{project}",gittemplate:"git://{domain}/{project}.git{#committish}",sshtemplate:"git@{domain}:/{project}.git{#committish}",sshurltemplate:"git+ssh://git@{domain}/{project}.git{#committish}",browsetemplate:"https://{domain}/{project}{/committish}",browsefiletemplate:"https://{domain}/{project}{/committish}{#path}",docstemplate:"https://{domain}/{project}{/committish}",httpstemplate:"git+https://{domain}/{project}.git{#committish}",shortcuttemplate:"{type}:{project}{#committish}",pathtemplate:"{project}{#committish}",tarballtemplate:"https://codeload.github.com/gist/{project}/tar.gz/{committish}",hashformat:function(e){return"file-"+pP(e)}}},cP={sshtemplate:"git@{domain}:{user}/{project}.git{#committish}",sshurltemplate:"git+ssh://git@{domain}/{user}/{project}.git{#committish}",browsetemplate:"https://{domain}/{user}/{project}{/tree/committish}",browsefiletemplate:"https://{domain}/{user}/{project}/{treepath}/{committish}/{path}{#fragment}",docstemplate:"https://{domain}/{user}/{project}{/tree/committish}#readme",httpstemplate:"git+https://{auth@}{domain}/{user}/{project}.git{#committish}",filetemplate:"https://{domain}/{user}/{project}/raw/{committish}/{path}",shortcuttemplate:"{type}:{user}/{project}{#committish}",pathtemplate:"{user}/{project}{#committish}",pathmatch:/^[/]([^/]+)[/]([^/]+?)(?:[.]git|[/])?$/,hashformat:pP};Object.keys(Ao).forEach(function(e){Object.keys(cP).forEach(function(t){Ao[e][t]||(Ao[e][t]=cP[t])}),Ao[e].protocols_re=RegExp("^("+Ao[e].protocols.map(function(t){return t.replace(/([\\+*{}()[\]$^|])/g,"\\$1")}).join("|")+"):$")});function pP(e){return e.toLowerCase().replace(/^\W+|\/|\W+$/g,"").replace(/\W+/g,"-")}});var mP=S((qY,gP)=>{"use strict";var dP=Yh(),vs=Object.assign||function(t,r){if(r===null||typeof r!="object")return t;for(var i=Object.keys(r),o=i.length;o--;)t[i[o]]=r[i[o]];return t};gP.exports=Pt;function Pt(e,t,r,i,o,a,l){var f=this;f.type=e,Object.keys(dP[e]).forEach(function(p){f[p]=dP[e][p]}),f.user=t,f.auth=r,f.project=i,f.committish=o,f.default=a,f.opts=l||{}}Pt.prototype.hash=function(){return this.committish?"#"+this.committish:""};Pt.prototype._fill=function(e,t){if(!!e){var r=vs({},t);r.path=r.path?r.path.replace(/^[/]+/g,""):"",t=vs(vs({},this.opts),t);var i=this;Object.keys(this).forEach(function(g){i[g]!=null&&r[g]==null&&(r[g]=i[g])});var o=r.auth,a=r.committish,l=r.fragment,f=r.path,p=r.project;Object.keys(r).forEach(function(g){var d=r[g];(g==="path"||g==="project")&&typeof d=="string"?r[g]=d.split("/").map(function(y){return encodeURIComponent(y)}).join("/"):r[g]=encodeURIComponent(d)}),r["auth@"]=o?o+"@":"",r["#fragment"]=l?"#"+this.hashformat(l):"",r.fragment=r.fragment?r.fragment:"",r["#path"]=f?"#"+this.hashformat(f):"",r["/path"]=r.path?"/"+r.path:"",r.projectPath=p.split("/").map(encodeURIComponent).join("/"),t.noCommittish?(r["#committish"]="",r["/tree/committish"]="",r["/committish"]="",r.committish=""):(r["#committish"]=a?"#"+a:"",r["/tree/committish"]=r.committish?"/"+r.treepath+"/"+r.committish:"",r["/committish"]=r.committish?"/"+r.committish:"",r.committish=r.committish||"master");var h=e;return Object.keys(r).forEach(function(g){h=h.replace(new RegExp("[{]"+g+"[}]","g"),r[g])}),t.noGitPlus?h.replace(/^git[+]/,""):h}};Pt.prototype.ssh=function(e){return this._fill(this.sshtemplate,e)};Pt.prototype.sshurl=function(e){return this._fill(this.sshurltemplate,e)};Pt.prototype.browse=function(e,t,r){return typeof e=="string"?(typeof t!="string"&&(r=t,t=null),this._fill(this.browsefiletemplate,vs({fragment:t,path:e},r))):this._fill(this.browsetemplate,e)};Pt.prototype.docs=function(e){return this._fill(this.docstemplate,e)};Pt.prototype.bugs=function(e){return this._fill(this.bugstemplate,e)};Pt.prototype.https=function(e){return this._fill(this.httpstemplate,e)};Pt.prototype.git=function(e){return this._fill(this.gittemplate,e)};Pt.prototype.shortcut=function(e){return this._fill(this.shortcuttemplate,e)};Pt.prototype.path=function(e){return this._fill(this.pathtemplate,e)};Pt.prototype.tarball=function(e){var t=vs({},e,{noCommittish:!1});return this._fill(this.tarballtemplate,t)};Pt.prototype.file=function(e,t){return this._fill(this.filetemplate,vs({path:e},t))};Pt.prototype.getDefaultRepresentation=function(){return this.default};Pt.prototype.toString=function(e){return this.default&&typeof this[this.default]=="function"?this[this.default](e):this.sshurl(e)}});var yP=S((UY,Jh)=>{"use strict";var dl=G("url"),vP=Yh(),rj=Jh.exports=mP(),nj={"git+ssh:":"sshurl","git+https:":"https","ssh:":"sshurl","git:":"git"};function ij(e){return nj[e]||e.slice(0,-1)}var sj={"git:":!0,"https:":!0,"git+https:":!0,"http:":!0,"git+http:":!0},zh={};Jh.exports.fromUrl=function(e,t){if(typeof e=="string"){var r=e+JSON.stringify(t||{});return r in zh||(zh[r]=oj(e,t)),zh[r]}};function oj(e,t){if(!(e==null||e==="")){var r=uj(aj(e)?"github:"+e:e),i=lj(r),o=r.match(/^([^:]+):(?:[^@]+@)?(?:([^/]*)\/)?([^#]+)/),a=Object.keys(vP).map(function(l){try{var f=vP[l],p=null;i.auth&&sj[i.protocol]&&(p=i.auth);var h=i.hash?decodeURIComponent(i.hash.substr(1)):null,g=null,d=null,y=null;if(o&&o[1]===l)g=o[2]&&decodeURIComponent(o[2]),d=decodeURIComponent(o[3].replace(/\.git$/,"")),y="shortcut";else{if(i.host&&i.host!==f.domain&&i.host.replace(/^www[.]/,"")!==f.domain||!f.protocols_re.test(i.protocol)||!i.path)return;var w=f.pathmatch,E=i.path.match(w);if(!E)return;E[1]!==null&&E[1]!==void 0&&(g=decodeURIComponent(E[1].replace(/^:/,""))),d=decodeURIComponent(E[2]),y=ij(i.protocol)}return new rj(l,g,p,d,h,y,t)}catch(A){if(!(A instanceof URIError))throw A}}).filter(function(l){return l});if(a.length===1)return a[0]}}function aj(e){return/^[^:@%/\s.-][^:@%/\s]*[/][^:@\s/%]+(?:#.*)?$/.test(e)}function uj(e){var t=dl.parse(e);return t.protocol==="gist:"&&t.host&&!t.path?t.protocol+"/"+t.host:e}function lj(e){var t=e.match(/^([^@]+)@([^:/]+):[/]?((?:[^/]+[/])?[^/]+?)(?:[.]git)?(#.*)?$/);if(!t){var r=dl.parse(e);if(r.auth&&typeof dl.URL=="function"){var i=e.match(/[^@]+@[^:/]+/);if(i){var o=new dl.URL(i[0]);r.auth=o.username||"",o.password&&(r.auth+=":"+o.password)}}return r}return{protocol:"git+ssh:",slashes:!0,auth:t[1],host:t[2],port:null,hostname:t[2],hash:t[4],search:null,query:null,pathname:"/"+t[3],path:"/"+t[3],href:"git+ssh://"+t[1]+"@"+t[2]+"/"+t[3]+(t[4]||"")}}});var Xh=S((GY,_P)=>{"use strict";var fj=G("os");_P.exports=fj.homedir||function(){var t=process.env.HOME,r=process.env.LOGNAME||process.env.USER||process.env.LNAME||process.env.USERNAME;return process.platform==="win32"?process.env.USERPROFILE||process.env.HOMEDRIVE+process.env.HOMEPATH||t||null:process.platform==="darwin"?t||(r?"/Users/"+r:null):process.platform==="linux"?t||(process.getuid()===0?"/root":r?"/home/"+r:null):t||null}});var Zh=S((jY,bP)=>{bP.exports=function(){var e=Error.prepareStackTrace;Error.prepareStackTrace=function(r,i){return i};var t=new Error().stack;return Error.prepareStackTrace=e,t[2].getFileName()}});var wP=S((WY,Co)=>{"use strict";var cj=process.platform==="win32",pj=/^(((?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?[\\\/]?)(?:[^\\\/]*[\\\/])*)((\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))[\\\/]*$/,Qh={};function hj(e){return pj.exec(e).slice(1)}Qh.parse=function(e){if(typeof e!="string")throw new TypeError("Parameter 'pathString' must be a string, not "+typeof e);var t=hj(e);if(!t||t.length!==5)throw new TypeError("Invalid path '"+e+"'");return{root:t[1],dir:t[0]===t[1]?t[0]:t[0].slice(0,-1),base:t[2],ext:t[4],name:t[3]}};var dj=/^((\/?)(?:[^\/]*\/)*)((\.{1,2}|[^\/]+?|)(\.[^.\/]*|))[\/]*$/,ed={};function gj(e){return dj.exec(e).slice(1)}ed.parse=function(e){if(typeof e!="string")throw new TypeError("Parameter 'pathString' must be a string, not "+typeof e);var t=gj(e);if(!t||t.length!==5)throw new TypeError("Invalid path '"+e+"'");return{root:t[1],dir:t[0].slice(0,-1),base:t[2],ext:t[4],name:t[3]}};cj?Co.exports=Qh.parse:Co.exports=ed.parse;Co.exports.posix=ed.parse;Co.exports.win32=Qh.parse});var td=S((HY,xP)=>{var EP=G("path"),SP=EP.parse||wP(),PP=function(t,r){var i="/";/^([A-Za-z]:)/.test(t)?i="":/^\\\\/.test(t)&&(i="\\\\");for(var o=[t],a=SP(t);a.dir!==o[o.length-1];)o.push(a.dir),a=SP(a.dir);return o.reduce(function(l,f){return l.concat(r.map(function(p){return EP.resolve(i,f,p)}))},[])};xP.exports=function(t,r,i){var o=r&&r.moduleDirectory?[].concat(r.moduleDirectory):["node_modules"];if(r&&typeof r.paths=="function")return r.paths(i,t,function(){return PP(t,o)},r);var a=PP(t,o);return r&&r.paths?a.concat(r.paths):a}});var rd=S(($Y,LP)=>{var Ro=G("path");LP.exports=function(e,t){if(t=t||{},t.forceNodeResolution||!process.versions.pnp)return t;let{findPnpApi:r}=G("module"),i=(h,g)=>{let d=h.match(/^((?:@[^/]+\/)?[^/]+)(\/.*)?/);if(!d)throw new Error(`Assertion failed: Expected the "resolve" package to call the "paths" callback with package names only (got "${h}")`);g.charAt(g.length-1)!=="/"&&(g=Ro.join(g,"/"));let y=r(g);if(y===null)return;let w;try{w=y.resolveToUnqualified(`${d[1]}/package.json`,g,{considerBuiltins:!1})}catch(T){return null}if(w===null)throw new Error(`Assertion failed: The resolution thinks that "${d[1]}" is a Node builtin`);let E=Ro.dirname(w),A=typeof d[2]!="undefined"?Ro.join(E,d[2]):E;return{packagePath:E,unqualifiedPath:A}},o=(h,g)=>{for(let d=0;d<g.length;d++){let y=i(h,g[d]);if(y||d===g.length-1)return y}return null},a=Array.isArray(t.paths)?t.paths:[],l=(h,g,d,y)=>{let w=[g].concat(a),E=o(h,w);return E==null?d():[E.unqualifiedPath]},f=(h,g,d,y)=>{let w=[g].concat(a),E=o(h,w);if(E==null)return d().concat(a);let A=Ro.dirname(E.packagePath);return h.match(/^@[^/]+\//)&&(A=Ro.dirname(A)),[A]},p=!1;return t.__skipPackageIterator||(t.packageIterator=function(h,g,d,y){p=!0;try{return l(h,g,d,y)}finally{p=!1}}),t.paths=function(h,g,d,y){return p?d().concat(a):f(h,g,d,y)},t}});var RP=S((VY,CP)=>{var Pi=G("fs"),mj=Xh(),ot=G("path"),vj=Zh(),yj=td(),_j=rd(),bj=Lo(),wj=process.platform!=="win32"&&Pi.realpath&&typeof Pi.realpath.native=="function"?Pi.realpath.native:Pi.realpath,AP=mj(),Ej=function(){return[ot.join(AP,".node_modules"),ot.join(AP,".node_libraries")]},Sj=function(t,r){Pi.stat(t,function(i,o){return i?i.code==="ENOENT"||i.code==="ENOTDIR"?r(null,!1):r(i):r(null,o.isFile()||o.isFIFO())})},Pj=function(t,r){Pi.stat(t,function(i,o){return i?i.code==="ENOENT"||i.code==="ENOTDIR"?r(null,!1):r(i):r(null,o.isDirectory())})},xj=function(t,r){wj(t,function(i,o){i&&i.code!=="ENOENT"?r(i):r(null,i?t:o)})},Oo=function(t,r,i,o){i&&i.preserveSymlinks===!1?t(r,o):o(null,r)},Lj=function(t,r,i){t(r,function(o,a){if(o)i(o);else try{var l=JSON.parse(a);i(null,l)}catch(f){i(null)}})},Aj=function(t,r,i){for(var o=yj(r,i,t),a=0;a<o.length;a++)o[a]=ot.join(o[a],t);return o};CP.exports=function(t,r,i){var o=i,a=r;if(typeof r=="function"&&(o=a,a={}),typeof t!="string"){var l=new TypeError("Path must be a string.");return process.nextTick(function(){o(l)})}a=_j(t,a);var f=a.isFile||Sj,p=a.isDirectory||Pj,h=a.readFile||Pi.readFile,g=a.realpath||xj,d=a.readPackage||Lj;if(a.readFile&&a.readPackage){var y=new TypeError("`readFile` and `readPackage` are mutually exclusive.");return process.nextTick(function(){o(y)})}var w=a.packageIterator,E=a.extensions||[".js"],A=a.includeCoreModules!==!1,T=a.basedir||ot.dirname(vj()),I=a.filename||T;a.paths=a.paths||Ej();var $=ot.resolve(T);Oo(g,$,a,function(P,Z){P?o(P):k(Z)});var U;function k(P){if(/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[/\\])/.test(t))U=ot.resolve(P,t),(t==="."||t===".."||t.slice(-1)==="/")&&(U+="/"),/\/$/.test(t)&&U===P?ue(U,a.package,Y):J(U,a.package,Y);else{if(A&&bj(t))return o(null,t);te(t,P,function(Z,H,K){if(Z)o(Z);else{if(H)return Oo(g,H,a,function(F,re){F?o(F):o(null,re,K)});var Q=new Error("Cannot find module '"+t+"' from '"+I+"'");Q.code="MODULE_NOT_FOUND",o(Q)}})}}function Y(P,Z,H){P?o(P):Z?o(null,Z,H):ue(U,function(K,Q,F){if(K)o(K);else if(Q)Oo(g,Q,a,function(de,ae){de?o(de):o(null,ae,F)});else{var re=new Error("Cannot find module '"+t+"' from '"+I+"'");re.code="MODULE_NOT_FOUND",o(re)}})}function J(P,Z,H){var K=Z,Q=H;typeof K=="function"&&(Q=K,K=void 0);var F=[""].concat(E);re(F,P,K);function re(de,ae,Lt){if(de.length===0)return Q(null,void 0,Lt);var pr=ae+de[0],Nt=Lt;Nt?Ge(null,Nt):z(ot.dirname(pr),Ge);function Ge(vt,yt,et){if(Nt=yt,vt)return Q(vt);if(et&&Nt&&a.pathFilter){var xr=ot.relative(et,pr),hr=xr.slice(0,xr.length-de[0].length),Kt=a.pathFilter(Nt,ae,hr);if(Kt)return re([""].concat(E.slice()),ot.resolve(et,Kt),Nt)}f(pr,mt)}function mt(vt,yt){if(vt)return Q(vt);if(yt)return Q(null,pr,Nt);re(de.slice(1),ae,Nt)}}}function z(P,Z){if(P===""||P==="/"||process.platform==="win32"&&/^\w:[/\\]*$/.test(P)||/[/\\]node_modules[/\\]*$/.test(P))return Z(null);Oo(g,P,a,function(H,K){if(H)return z(ot.dirname(P),Z);var Q=ot.join(K,"package.json");f(Q,function(F,re){if(!re)return z(ot.dirname(P),Z);d(h,Q,function(de,ae){de&&Z(de);var Lt=ae;Lt&&a.packageFilter&&(Lt=a.packageFilter(Lt,Q)),Z(null,Lt,P)})})})}function ue(P,Z,H){var K=H,Q=Z;typeof Q=="function"&&(K=Q,Q=a.package),Oo(g,P,a,function(F,re){if(F)return K(F);var de=ot.join(re,"package.json");f(de,function(ae,Lt){if(ae)return K(ae);if(!Lt)return J(ot.join(P,"index"),Q,K);d(h,de,function(pr,Nt){if(pr)return K(pr);var Ge=Nt;if(Ge&&a.packageFilter&&(Ge=a.packageFilter(Ge,de)),Ge&&Ge.main){if(typeof Ge.main!="string"){var mt=new TypeError("package \u201C"+Ge.name+"\u201D `main` must be a string");return mt.code="INVALID_PACKAGE_MAIN",K(mt)}(Ge.main==="."||Ge.main==="./")&&(Ge.main="index"),J(ot.resolve(P,Ge.main),Ge,function(vt,yt,et){if(vt)return K(vt);if(yt)return K(null,yt,et);if(!et)return J(ot.join(P,"index"),et,K);var xr=ot.resolve(P,et.main);ue(xr,et,function(hr,Kt,_t){if(hr)return K(hr);if(Kt)return K(null,Kt,_t);J(ot.join(P,"index"),_t,K)})});return}J(ot.join(P,"/index"),Ge,K)})})})}function V(P,Z){if(Z.length===0)return P(null,void 0);var H=Z[0];p(ot.dirname(H),K);function K(re,de){if(re)return P(re);if(!de)return V(P,Z.slice(1));J(H,a.package,Q)}function Q(re,de,ae){if(re)return P(re);if(de)return P(null,de,ae);ue(H,a.package,F)}function F(re,de,ae){if(re)return P(re);if(de)return P(null,de,ae);V(P,Z.slice(1))}}function te(P,Z,H){var K=function(){return Aj(P,Z,a)};V(H,w?w(P,Z,K,a):K())}}});var OP=S((KY,Cj)=>{Cj.exports={assert:!0,"node:assert":[">= 14.18 && < 15",">= 16"],"assert/strict":">= 15","node:assert/strict":">= 16",async_hooks:">= 8","node:async_hooks":[">= 14.18 && < 15",">= 16"],buffer_ieee754:">= 0.5 && < 0.9.7",buffer:!0,"node:buffer":[">= 14.18 && < 15",">= 16"],child_process:!0,"node:child_process":[">= 14.18 && < 15",">= 16"],cluster:">= 0.5","node:cluster":[">= 14.18 && < 15",">= 16"],console:!0,"node:console":[">= 14.18 && < 15",">= 16"],constants:!0,"node:constants":[">= 14.18 && < 15",">= 16"],crypto:!0,"node:crypto":[">= 14.18 && < 15",">= 16"],_debug_agent:">= 1 && < 8",_debugger:"< 8",dgram:!0,"node:dgram":[">= 14.18 && < 15",">= 16"],diagnostics_channel:[">= 14.17 && < 15",">= 15.1"],"node:diagnostics_channel":[">= 14.18 && < 15",">= 16"],dns:!0,"node:dns":[">= 14.18 && < 15",">= 16"],"dns/promises":">= 15","node:dns/promises":">= 16",domain:">= 0.7.12","node:domain":[">= 14.18 && < 15",">= 16"],events:!0,"node:events":[">= 14.18 && < 15",">= 16"],freelist:"< 6",fs:!0,"node:fs":[">= 14.18 && < 15",">= 16"],"fs/promises":[">= 10 && < 10.1",">= 14"],"node:fs/promises":[">= 14.18 && < 15",">= 16"],_http_agent:">= 0.11.1","node:_http_agent":[">= 14.18 && < 15",">= 16"],_http_client:">= 0.11.1","node:_http_client":[">= 14.18 && < 15",">= 16"],_http_common:">= 0.11.1","node:_http_common":[">= 14.18 && < 15",">= 16"],_http_incoming:">= 0.11.1","node:_http_incoming":[">= 14.18 && < 15",">= 16"],_http_outgoing:">= 0.11.1","node:_http_outgoing":[">= 14.18 && < 15",">= 16"],_http_server:">= 0.11.1","node:_http_server":[">= 14.18 && < 15",">= 16"],http:!0,"node:http":[">= 14.18 && < 15",">= 16"],http2:">= 8.8","node:http2":[">= 14.18 && < 15",">= 16"],https:!0,"node:https":[">= 14.18 && < 15",">= 16"],inspector:">= 8","node:inspector":[">= 14.18 && < 15",">= 16"],_linklist:"< 8",module:!0,"node:module":[">= 14.18 && < 15",">= 16"],net:!0,"node:net":[">= 14.18 && < 15",">= 16"],"node-inspect/lib/_inspect":">= 7.6 && < 12","node-inspect/lib/internal/inspect_client":">= 7.6 && < 12","node-inspect/lib/internal/inspect_repl":">= 7.6 && < 12",os:!0,"node:os":[">= 14.18 && < 15",">= 16"],path:!0,"node:path":[">= 14.18 && < 15",">= 16"],"path/posix":">= 15.3","node:path/posix":">= 16","path/win32":">= 15.3","node:path/win32":">= 16",perf_hooks:">= 8.5","node:perf_hooks":[">= 14.18 && < 15",">= 16"],process:">= 1","node:process":[">= 14.18 && < 15",">= 16"],punycode:">= 0.5","node:punycode":[">= 14.18 && < 15",">= 16"],querystring:!0,"node:querystring":[">= 14.18 && < 15",">= 16"],readline:!0,"node:readline":[">= 14.18 && < 15",">= 16"],"readline/promises":">= 17","node:readline/promises":">= 17",repl:!0,"node:repl":[">= 14.18 && < 15",">= 16"],smalloc:">= 0.11.5 && < 3",_stream_duplex:">= 0.9.4","node:_stream_duplex":[">= 14.18 && < 15",">= 16"],_stream_transform:">= 0.9.4","node:_stream_transform":[">= 14.18 && < 15",">= 16"],_stream_wrap:">= 1.4.1","node:_stream_wrap":[">= 14.18 && < 15",">= 16"],_stream_passthrough:">= 0.9.4","node:_stream_passthrough":[">= 14.18 && < 15",">= 16"],_stream_readable:">= 0.9.4","node:_stream_readable":[">= 14.18 && < 15",">= 16"],_stream_writable:">= 0.9.4","node:_stream_writable":[">= 14.18 && < 15",">= 16"],stream:!0,"node:stream":[">= 14.18 && < 15",">= 16"],"stream/consumers":">= 16.7","node:stream/consumers":">= 16.7","stream/promises":">= 15","node:stream/promises":">= 16","stream/web":">= 16.5","node:stream/web":">= 16.5",string_decoder:!0,"node:string_decoder":[">= 14.18 && < 15",">= 16"],sys:[">= 0.4 && < 0.7",">= 0.8"],"node:sys":[">= 14.18 && < 15",">= 16"],"node:test":">= 18",timers:!0,"node:timers":[">= 14.18 && < 15",">= 16"],"timers/promises":">= 15","node:timers/promises":">= 16",_tls_common:">= 0.11.13","node:_tls_common":[">= 14.18 && < 15",">= 16"],_tls_legacy:">= 0.11.3 && < 10",_tls_wrap:">= 0.11.3","node:_tls_wrap":[">= 14.18 && < 15",">= 16"],tls:!0,"node:tls":[">= 14.18 && < 15",">= 16"],trace_events:">= 10","node:trace_events":[">= 14.18 && < 15",">= 16"],tty:!0,"node:tty":[">= 14.18 && < 15",">= 16"],url:!0,"node:url":[">= 14.18 && < 15",">= 16"],util:!0,"node:util":[">= 14.18 && < 15",">= 16"],"util/types":">= 15.3","node:util/types":">= 16","v8/tools/arguments":">= 10 && < 12","v8/tools/codemap":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/consarray":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/csvparser":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/logreader":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/profile_view":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/splaytree":[">= 4.4 && < 5",">= 5.2 && < 12"],v8:">= 1","node:v8":[">= 14.18 && < 15",">= 16"],vm:!0,"node:vm":[">= 14.18 && < 15",">= 16"],wasi:">= 13.4 && < 13.5",worker_threads:">= 11.7","node:worker_threads":[">= 14.18 && < 15",">= 16"],zlib:">= 0.5","node:zlib":[">= 14.18 && < 15",">= 16"]}});var DP=S((YY,IP)=>{var Rj=process.versions&&process.versions.node&&process.versions.node.split(".")||[];function Oj(e){for(var t=e.split(" "),r=t.length>1?t[0]:"=",i=(t.length>1?t[1]:t[0]).split("."),o=0;o<3;++o){var a=parseInt(Rj[o]||0,10),l=parseInt(i[o]||0,10);if(a!==l)return r==="<"?a<l:r===">="?a>=l:!1}return r===">="}function TP(e){var t=e.split(/ ?&& ?/);if(t.length===0)return!1;for(var r=0;r<t.length;++r)if(!Oj(t[r]))return!1;return!0}function Tj(e){if(typeof e=="boolean")return e;if(e&&typeof e=="object"){for(var t=0;t<e.length;++t)if(TP(e[t]))return!0;return!1}return TP(e)}var nd=OP(),NP={};for(var id in nd)Object.prototype.hasOwnProperty.call(nd,id)&&(NP[id]=Tj(nd[id]));IP.exports=NP});var MP=S((zY,kP)=>{var Nj=Lo();kP.exports=function(t){return Nj(t)}});var qP=S((JY,BP)=>{var Ij=Lo(),xi=G("fs"),xt=G("path"),Dj=Xh(),kj=Zh(),Mj=td(),Fj=rd(),Bj=process.platform!=="win32"&&xi.realpathSync&&typeof xi.realpathSync.native=="function"?xi.realpathSync.native:xi.realpathSync,FP=Dj(),qj=function(){return[xt.join(FP,".node_modules"),xt.join(FP,".node_libraries")]},Uj=function(t){try{var r=xi.statSync(t,{throwIfNoEntry:!1})}catch(i){if(i&&(i.code==="ENOENT"||i.code==="ENOTDIR"))return!1;throw i}return!!r&&(r.isFile()||r.isFIFO())},Gj=function(t){try{var r=xi.statSync(t,{throwIfNoEntry:!1})}catch(i){if(i&&(i.code==="ENOENT"||i.code==="ENOTDIR"))return!1;throw i}return!!r&&r.isDirectory()},jj=function(t){try{return Bj(t)}catch(r){if(r.code!=="ENOENT")throw r}return t},To=function(t,r,i){return i&&i.preserveSymlinks===!1?t(r):r},Wj=function(t,r){var i=t(r);try{var o=JSON.parse(i);return o}catch(a){}},Hj=function(t,r,i){for(var o=Mj(r,i,t),a=0;a<o.length;a++)o[a]=xt.join(o[a],t);return o};BP.exports=function(t,r){if(typeof t!="string")throw new TypeError("Path must be a string.");var i=Fj(t,r),o=i.isFile||Uj,a=i.readFileSync||xi.readFileSync,l=i.isDirectory||Gj,f=i.realpathSync||jj,p=i.readPackageSync||Wj;if(i.readFileSync&&i.readPackageSync)throw new TypeError("`readFileSync` and `readPackageSync` are mutually exclusive.");var h=i.packageIterator,g=i.extensions||[".js"],d=i.includeCoreModules!==!1,y=i.basedir||xt.dirname(kj()),w=i.filename||y;i.paths=i.paths||qj();var E=To(f,xt.resolve(y),i);if(/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[/\\])/.test(t)){var A=xt.resolve(E,t);(t==="."||t===".."||t.slice(-1)==="/")&&(A+="/");var T=U(A)||Y(A);if(T)return To(f,T,i)}else{if(d&&Ij(t))return t;var I=J(t,E);if(I)return To(f,I,i)}var $=new Error("Cannot find module '"+t+"' from '"+w+"'");throw $.code="MODULE_NOT_FOUND",$;function U(z){var ue=k(xt.dirname(z));if(ue&&ue.dir&&ue.pkg&&i.pathFilter){var V=xt.relative(ue.dir,z),te=i.pathFilter(ue.pkg,z,V);te&&(z=xt.resolve(ue.dir,te))}if(o(z))return z;for(var P=0;P<g.length;P++){var Z=z+g[P];if(o(Z))return Z}}function k(z){if(!(z===""||z==="/")&&!(process.platform==="win32"&&/^\w:[/\\]*$/.test(z))&&!/[/\\]node_modules[/\\]*$/.test(z)){var ue=xt.join(To(f,z,i),"package.json");if(!o(ue))return k(xt.dirname(z));var V=p(a,ue);return V&&i.packageFilter&&(V=i.packageFilter(V,z)),{pkg:V,dir:z}}}function Y(z){var ue=xt.join(To(f,z,i),"/package.json");if(o(ue)){try{var V=p(a,ue)}catch(H){}if(V&&i.packageFilter&&(V=i.packageFilter(V,z)),V&&V.main){if(typeof V.main!="string"){var te=new TypeError("package \u201C"+V.name+"\u201D `main` must be a string");throw te.code="INVALID_PACKAGE_MAIN",te}(V.main==="."||V.main==="./")&&(V.main="index");try{var P=U(xt.resolve(z,V.main));if(P)return P;var Z=Y(xt.resolve(z,V.main));if(Z)return Z}catch(H){}}}return U(xt.join(z,"/index"))}function J(z,ue){for(var V=function(){return Hj(z,ue,i)},te=h?h(z,ue,V,i):V(),P=0;P<te.length;P++){var Z=te[P];if(l(xt.dirname(Z))){var H=U(Z);if(H)return H;var K=Y(Z);if(K)return K}}}}});var GP=S((XY,UP)=>{var gl=RP();gl.core=DP();gl.isCore=MP();gl.sync=qP();UP.exports=gl});var WP=S((ZY,jP)=>{jP.exports=$j;function $j(e){if(!!e&&e!=="ERROR: No README data found!"){e=e.trim().split(`
`);for(var t=0;e[t]&&e[t].trim().match(/^(#|$)/);t++);for(var r=e.length,i=t+1;i<r&&e[i].trim();i++);return e.slice(t,i).join(" ").trim()}}});var HP=S((QY,Vj)=>{Vj.exports={topLevel:{dependancies:"dependencies",dependecies:"dependencies",depdenencies:"dependencies",devEependencies:"devDependencies",depends:"dependencies","dev-dependencies":"devDependencies",devDependences:"devDependencies",devDepenencies:"devDependencies",devdependencies:"devDependencies",repostitory:"repository",repo:"repository",prefereGlobal:"preferGlobal",hompage:"homepage",hampage:"homepage",autohr:"author",autor:"author",contributers:"contributors",publicationConfig:"publishConfig",script:"scripts"},bugs:{web:"url",name:"url"},script:{server:"start",tests:"test"}}});var YP=S((tz,KP)=>{var $P=G("semver"),Kj=Th(),ml=yP(),Yj=GP().isCore,zj=["dependencies","devDependencies","optionalDependencies"],Jj=WP(),sd=G("url"),Tn=HP(),ez=KP.exports={warn:function(){},fixRepositoryField:function(e){if(e.repositories&&(this.warn("repositories"),e.repository=e.repositories[0]),!e.repository)return this.warn("missingRepository");typeof e.repository=="string"&&(e.repository={type:"git",url:e.repository});var t=e.repository.url||"";if(t){var r=ml.fromUrl(t);r&&(t=e.repository.url=r.getDefaultRepresentation()=="shortcut"?r.https():r.toString())}t.match(/github.com\/[^\/]+\/[^\/]+\.git\.git$/)&&this.warn("brokenGitUrl",t)},fixTypos:function(e){Object.keys(Tn.topLevel).forEach(function(t){e.hasOwnProperty(t)&&this.warn("typo",t,Tn.topLevel[t])},this)},fixScriptsField:function(e){if(!!e.scripts){if(typeof e.scripts!="object"){this.warn("nonObjectScripts"),delete e.scripts;return}Object.keys(e.scripts).forEach(function(t){typeof e.scripts[t]!="string"?(this.warn("nonStringScript"),delete e.scripts[t]):Tn.script[t]&&!e.scripts[Tn.script[t]]&&this.warn("typo",t,Tn.script[t],"scripts")},this)}},fixFilesField:function(e){var t=e.files;t&&!Array.isArray(t)?(this.warn("nonArrayFiles"),delete e.files):e.files&&(e.files=e.files.filter(function(r){return!r||typeof r!="string"?(this.warn("invalidFilename",r),!1):!0},this))},fixBinField:function(e){if(!!e.bin&&typeof e.bin=="string"){var t={},r;(r=e.name.match(/^@[^/]+[/](.*)$/))?t[r[1]]=e.bin:t[e.name]=e.bin,e.bin=t}},fixManField:function(e){!e.man||typeof e.man=="string"&&(e.man=[e.man])},fixBundleDependenciesField:function(e){var t="bundledDependencies",r="bundleDependencies";e[t]&&!e[r]&&(e[r]=e[t],delete e[t]),e[r]&&!Array.isArray(e[r])?(this.warn("nonArrayBundleDependencies"),delete e[r]):e[r]&&(e[r]=e[r].filter(function(i){return!i||typeof i!="string"?(this.warn("nonStringBundleDependency",i),!1):(e.dependencies||(e.dependencies={}),e.dependencies.hasOwnProperty(i)||(this.warn("nonDependencyBundleDependency",i),e.dependencies[i]="*"),!0)},this))},fixDependencies:function(e,t){var r=!t;iW(e,this.warn),rW(e,this.warn),this.fixBundleDependenciesField(e),["dependencies","devDependencies"].forEach(function(i){if(i in e){if(!e[i]||typeof e[i]!="object"){this.warn("nonObjectDependencies",i),delete e[i];return}Object.keys(e[i]).forEach(function(o){var a=e[i][o];typeof a!="string"&&(this.warn("nonStringDependency",o,JSON.stringify(a)),delete e[i][o]);var l=ml.fromUrl(e[i][o]);l&&(e[i][o]=l.toString())},this)}},this)},fixModulesField:function(e){e.modules&&(this.warn("deprecatedModules"),delete e.modules)},fixKeywordsField:function(e){typeof e.keywords=="string"&&(e.keywords=e.keywords.split(/,\s+/)),e.keywords&&!Array.isArray(e.keywords)?(delete e.keywords,this.warn("nonArrayKeywords")):e.keywords&&(e.keywords=e.keywords.filter(function(t){return typeof t!="string"||!t?(this.warn("nonStringKeyword"),!1):!0},this))},fixVersionField:function(e,t){var r=!t;if(!e.version)return e.version="",!0;if(!$P.valid(e.version,r))throw new Error('Invalid version: "'+e.version+'"');return e.version=$P.clean(e.version,r),!0},fixPeople:function(e){VP(e,eW),VP(e,tW)},fixNameField:function(e,t){typeof t=="boolean"?t={strict:t}:typeof t=="undefined"&&(t={});var r=t.strict;if(!e.name&&!r){e.name="";return}if(typeof e.name!="string")throw new Error("name field must be a string.");r||(e.name=e.name.trim()),Qj(e.name,r,t.allowLegacyCase),Yj(e.name)&&this.warn("conflictingName",e.name)},fixDescriptionField:function(e){e.description&&typeof e.description!="string"&&(this.warn("nonStringDescription"),delete e.description),e.readme&&!e.description&&(e.description=Jj(e.readme)),e.description===void 0&&delete e.description,e.description||this.warn("missingDescription")},fixReadmeField:function(e){e.readme||(this.warn("missingReadme"),e.readme="ERROR: No README data found!")},fixBugsField:function(e){if(!e.bugs&&e.repository&&e.repository.url){var t=ml.fromUrl(e.repository.url);t&&t.bugs()&&(e.bugs={url:t.bugs()})}else if(e.bugs){var r=/^.+@.*\..+$/;if(typeof e.bugs=="string")r.test(e.bugs)?e.bugs={email:e.bugs}:sd.parse(e.bugs).protocol?e.bugs={url:e.bugs}:this.warn("nonEmailUrlBugsString");else{sW(e.bugs,this.warn);var i=e.bugs;e.bugs={},i.url&&(typeof i.url=="string"&&sd.parse(i.url).protocol?e.bugs.url=i.url:this.warn("nonUrlBugsUrlField")),i.email&&(typeof i.email=="string"&&r.test(i.email)?e.bugs.email=i.email:this.warn("nonEmailBugsEmailField"))}!e.bugs.email&&!e.bugs.url&&(delete e.bugs,this.warn("emptyNormalizedBugs"))}},fixHomepageField:function(e){if(!e.homepage&&e.repository&&e.repository.url){var t=ml.fromUrl(e.repository.url);t&&t.docs()&&(e.homepage=t.docs())}if(!!e.homepage){if(typeof e.homepage!="string")return this.warn("nonUrlHomepage"),delete e.homepage;sd.parse(e.homepage).protocol||(e.homepage="http://"+e.homepage)}},fixLicenseField:function(e){if(e.license)typeof e.license!="string"||e.license.length<1||e.license.trim()===""?this.warn("invalidLicense"):Kj(e.license).validForNewPackages||this.warn("invalidLicense");else return this.warn("missingLicense")}};function Xj(e){if(e.charAt(0)!=="@")return!1;var t=e.slice(1).split("/");return t.length!==2?!1:t[0]&&t[1]&&t[0]===encodeURIComponent(t[0])&&t[1]===encodeURIComponent(t[1])}function Zj(e){return!e.match(/[\/@\s\+%:]/)&&e===encodeURIComponent(e)}function Qj(e,t,r){if(e.charAt(0)==="."||!(Xj(e)||Zj(e))||t&&!r&&e!==e.toLowerCase()||e.toLowerCase()==="node_modules"||e.toLowerCase()==="favicon.ico")throw new Error("Invalid name: "+JSON.stringify(e))}function VP(e,t){return e.author&&(e.author=t(e.author)),["maintainers","contributors"].forEach(function(r){!Array.isArray(e[r])||(e[r]=e[r].map(t))}),e}function eW(e){if(typeof e=="string")return e;var t=e.name||"",r=e.url||e.web,i=r?" ("+r+")":"",o=e.email||e.mail,a=o?" <"+o+">":"";return t+a+i}function tW(e){if(typeof e!="string")return e;var t=e.match(/^([^\(<]+)/),r=e.match(/\(([^\)]+)\)/),i=e.match(/<([^>]+)>/),o={};return t&&t[0].trim()&&(o.name=t[0].trim()),i&&(o.email=i[1]),r&&(o.url=r[1]),o}function rW(e,t){var r=e.optionalDependencies;if(!!r){var i=e.dependencies||{};Object.keys(r).forEach(function(o){i[o]=r[o]}),e.dependencies=i}}function nW(e,t,r){if(!e)return{};if(typeof e=="string"&&(e=e.trim().split(/[\n\r\s\t ,]+/)),!Array.isArray(e))return e;r("deprecatedArrayDependencies",t);var i={};return e.filter(function(o){return typeof o=="string"}).forEach(function(o){o=o.trim().split(/(:?[@\s><=])/);var a=o.shift(),l=o.join("");l=l.trim(),l=l.replace(/^@/,""),i[a]=l}),i}function iW(e,t){zj.forEach(function(r){!e[r]||(e[r]=nW(e[r],r,t))})}function sW(e,t){!e||Object.keys(e).forEach(function(r){Tn.bugs[r]&&(t("typo",r,Tn.bugs[r],"bugs"),e[Tn.bugs[r]]=e[r],delete e[r])})}});var zP=S((rz,oW)=>{oW.exports={repositories:"'repositories' (plural) Not supported. Please pick one as the 'repository' field",missingRepository:"No repository field.",brokenGitUrl:"Probably broken git url: %s",nonObjectScripts:"scripts must be an object",nonStringScript:"script values must be string commands",nonArrayFiles:"Invalid 'files' member",invalidFilename:"Invalid filename in 'files' list: %s",nonArrayBundleDependencies:"Invalid 'bundleDependencies' list. Must be array of package names",nonStringBundleDependency:"Invalid bundleDependencies member: %s",nonDependencyBundleDependency:"Non-dependency in bundleDependencies: %s",nonObjectDependencies:"%s field must be an object",nonStringDependency:"Invalid dependency: %s %s",deprecatedArrayDependencies:"specifying %s as array is deprecated",deprecatedModules:"modules field is deprecated",nonArrayKeywords:"keywords should be an array of strings",nonStringKeyword:"keywords should be an array of strings",conflictingName:"%s is also the name of a node core module.",nonStringDescription:"'description' field should be a string",missingDescription:"No description",missingReadme:"No README data",missingLicense:"No license field.",nonEmailUrlBugsString:"Bug string field must be url, email, or {email,url}",nonUrlBugsUrlField:"bugs.url field must be a string url. Deleted.",nonEmailBugsEmailField:"bugs.email field must be a string email. Deleted.",emptyNormalizedBugs:"Normalized value of bugs field is an empty object. Deleted.",nonUrlHomepage:"homepage field must be a string url. Deleted.",invalidLicense:"license should be a valid SPDX license expression",typo:"%s should probably be %s."}});var ZP=S((nz,XP)=>{var JP=G("util"),od=zP();XP.exports=function(){var e=Array.prototype.slice.call(arguments,0),t=e.shift();if(t=="typo")return aW.apply(null,e);var r=od[t]?od[t]:t+": '%s'";return e.unshift(r),JP.format.apply(null,e)};function aW(e,t,r){return r&&(e=r+"['"+e+"']",t=r+"['"+t+"']"),JP.format(od.typo,e,t)}});var ld=S((iz,tx)=>{tx.exports=QP;var ad=YP();QP.fixer=ad;var uW=ZP(),lW=["name","version","description","repository","modules","scripts","files","bin","man","bugs","keywords","readme","homepage","license"],fW=["dependencies","people","typos"],ud=lW.map(function(e){return ex(e)+"Field"});ud=ud.concat(fW);function QP(e,t,r){t===!0&&(t=null,r=!0),r||(r=!1),(!t||e.private)&&(t=function(i){}),e.scripts&&e.scripts.install==="node-gyp rebuild"&&!e.scripts.preinstall&&(e.gypfile=!0),ad.warn=function(){t(uW.apply(null,arguments))},ud.forEach(function(i){ad["fix"+ex(i)](e,r)}),e._id=e.name+"@"+e.version}function ex(e){return e.charAt(0).toUpperCase()+e.slice(1)}});var cd=S((sz,fd)=>{"use strict";var rx=G("path"),nx=uP(),ix=fP();fd.exports=(e,t)=>(typeof e!="string"&&(t=e,e="."),t=t||{},ix.dir(e).then(r=>(r&&(e=rx.join(e,"package.json")),nx(e))).then(r=>(t.normalize!==!1&&ld()(r),r)));fd.exports.sync=(e,t)=>{typeof e!="string"&&(t=e,e="."),t=t||{},e=ix.dirSync(e)?rx.join(e,"package.json"):e;let r=nx.sync(e);return t.normalize!==!1&&ld()(r),r}});var ox=S((oz,pd)=>{"use strict";var sx=G("fs");pd.exports=e=>new Promise(t=>{sx.access(e,r=>{t(!r)})});pd.exports.sync=e=>{try{return sx.accessSync(e),!0}catch(t){return!1}}});var ux=S((az,ax)=>{"use strict";ax.exports=e=>new Promise(t=>{t(e())})});var fx=S((uz,lx)=>{"use strict";var cW=ux();lx.exports=e=>{if(e<1)throw new TypeError("Expected `concurrency` to be a number from 1 and up");let t=[],r=0,i=()=>{r--,t.length>0&&t.shift()()};return o=>new Promise((a,l)=>{let f=()=>{r++,cW(o).then(p=>{a(p),i()},p=>{l(p),i()})};r<e?f():t.push(f)})}});var hx=S((lz,px)=>{"use strict";var cx=fx(),hd=class extends Error{constructor(t){super();this.value=t}},pW=e=>Promise.all(e).then(t=>t[1]===!0&&Promise.reject(new hd(t[0])));px.exports=(e,t,r)=>{r=Object.assign({concurrency:Infinity,preserveOrder:!0},r);let i=cx(r.concurrency),o=Array.from(e).map(l=>[l,i(()=>Promise.resolve(l).then(t))]),a=cx(r.preserveOrder?1:Infinity);return Promise.all(o.map(l=>a(()=>pW(l)))).then(()=>{}).catch(l=>l instanceof hd?l.value:Promise.reject(l))}});var mx=S((fz,dd)=>{"use strict";var dx=G("path"),gx=ox(),hW=hx();dd.exports=(e,t)=>(t=Object.assign({cwd:process.cwd()},t),hW(e,r=>gx(dx.resolve(t.cwd,r)),t));dd.exports.sync=(e,t)=>{t=Object.assign({cwd:process.cwd()},t);for(let r of e)if(gx.sync(dx.resolve(t.cwd,r)))return r}});var yx=S((cz,gd)=>{"use strict";var Nn=G("path"),vx=mx();gd.exports=(e,t)=>{t=t||{};let r=Nn.resolve(t.cwd||""),i=Nn.parse(r).root,o=[].concat(e);return new Promise(a=>{(function l(f){vx(o,{cwd:f}).then(p=>{p?a(Nn.join(f,p)):f===i?a(null):l(Nn.dirname(f))})})(r)})};gd.exports.sync=(e,t)=>{t=t||{};let r=Nn.resolve(t.cwd||""),i=Nn.parse(r).root,o=[].concat(e);for(;;){let a=vx.sync(o,{cwd:r});if(a)return Nn.join(r,a);if(r===i)return null;r=Nn.dirname(r)}}});var wx=S((pz,md)=>{"use strict";var _x=yx(),bx=cd();md.exports=e=>_x("package.json",e).then(t=>t?bx(t,e).then(r=>({pkg:r,path:t})):{});md.exports.sync=e=>{let t=_x.sync("package.json",e);return t?{pkg:bx.sync(t,e),path:t}:{}}});var Sx=S((hz,Ex)=>{"use strict";var dW=Sp(),gW=pE(),mW=Hc(),vW=wS(),In=rs(),vd;try{vd=kS()}catch(e){vd=function(){return In.reject(e)}}var yW=cd(),_W=wx(),bW=G("url").URL,Pr=En(),wW=/github|bitbucket|gitlab/i;function EW(e){return In.Promise(function(t,r){mW({lernaTags:!!e.lernaPackage,package:e.lernaPackage,tagPrefix:e.tagPrefix,skipUnstable:e.skipUnstable},function(i,o){i?r(i):t(o)})})}function SW(e,t){return e?e[0]==="v"&&t[0]!=="v"?"v"+t:e[0]!=="v"&&t[0]==="v"?t.replace(/^v/,""):t:t[0]!=="v"?"v"+t:t}function PW(e,t,r,i,o,a){let l,f;t=t||{},r=r||{},a=a||{};let p=e&&e.tagPrefix?new RegExp(`tag:\\s*[=]?${e.tagPrefix}(.+?)[,)]`,"gi"):/tag:\s*[v=]?(.+?)[,)]/gi;e=Pr.merge({pkg:{transform:function(g){return g}},append:!1,releaseCount:1,skipUnstable:!1,debug:function(){},transform:function(g,d){if(Pr.isString(g.gitTags)){let y=p.exec(g.gitTags);p.lastIndex=0,y&&(g.version=y[1])}g.committerDate&&(g.committerDate=dW(g.committerDate,"yyyy-mm-dd",!0)),d(null,g)},lernaPackage:null},e),e.warn=e.warn||e.debug,e.config&&(Pr.isFunction(e.config)?l=In.nfcall(e.config):l=In(e.config)),e.pkg&&(e.pkg.path?f=In(yW(e.pkg.path)):f=In(_W()));let h=In(vd());return In.allSettled([l,f,EW(e),h]).spread(function(g,d,y,w){let E,A,T,I,$,U=[];if(l?g.state==="fulfilled"?E=g.value:(e.warn("Error in config"+g.reason.toString()),E={}):E={},t=Pr.assign(t,E.context),e.pkg&&(d.state==="fulfilled"?(e.pkg.path?A=d.value:A=d.value.pkg||{},A=e.pkg.transform(A)):e.pkg.path&&e.warn(d.reason.toString())),(!A||!A.repository||!A.repository.url)&&w.state==="fulfilled"&&(A=A||{},A.repository=A.repository||{},A.repository.url=w.value,vW(A)),A){t.version=t.version||A.version;try{I=gW(A)}catch(k){I={}}if(I.browse){let k=I.browse();if(!t.host)if(I.domain){let Y=new bW(k);Y.origin.indexOf("//")!==-1?t.host=Y.protocol+"//"+I.domain:t.host=Y.protocol+I.domain}else t.host=null;t.owner=t.owner||I.user||"",t.repository=t.repository||I.project,I.host&&I.project&&I.user?t.repoUrl=k:t.repoUrl=t.host}t.packageData=A}if(t.version=t.version||"",y.state==="fulfilled"){U=t.gitSemverTags=y.value,T=U[e.releaseCount-1];let k=U[0];(k===t.version||k==="v"+t.version)&&(e.outputUnreleased?t.version="Unreleased":e.outputUnreleased=!1)}if(Pr.isBoolean(e.outputUnreleased)||(e.outputUnreleased=!0),t.host&&(!t.issue||!t.commit||!i||!i.referenceActions)){let k;if(t.host){let Y=t.host.match(wW);Y&&(k=Y[0])}else I&&I.type&&(k=I.type);k?($=G("../hosts/"+k),t=Pr.assign({issue:$.issue,commit:$.commit},t)):(e.warn('Host: "'+t.host+'" does not exist'),$={})}else $={};return t.resetChangelog&&(T=null),r=Pr.assign({format:"%B%n-hash-%n%H%n-gitTags-%n%d%n-committerDate-%n%ci",from:T,merges:!1,debug:e.debug},E.gitRawCommitsOpts,r),e.append&&(r.reverse=r.reverse||!0),i=Pr.assign({},E.parserOpts,{warn:e.warn},i),$.referenceActions&&i&&(i.referenceActions=$.referenceActions),Pr.isEmpty(i.issuePrefixes)&&$.issuePrefixes&&(i.issuePrefixes=$.issuePrefixes),o=Pr.assign({finalizeContext:function(k,Y,J,z,ue){let V=ue[0],te=ue[ue.length-1],P=V?V.hash:null,Z=te?te.hash:null;if((!k.currentTag||!k.previousTag)&&z){let H=/tag:\s*(.+?)[,)]/gi.exec(z.gitTags),K=k.currentTag;k.currentTag=K||H?H[1]:null;let Q=U.indexOf(k.currentTag);Q===-1?k.currentTag=K||null:(k.previousTag=U[Q+1])||(e.append?k.previousTag=k.previousTag||P:k.previousTag=k.previousTag||Z)}else k.previousTag=k.previousTag||U[0],k.version==="Unreleased"?e.append?k.currentTag=k.currentTag||Z:k.currentTag=k.currentTag||P:k.currentTag||(e.lernaPackage?k.currentTag=e.lernaPackage+"@"+k.version:e.tagPrefix?k.currentTag=e.tagPrefix+k.version:k.currentTag=SW(U[0],k.version));return!Pr.isBoolean(k.linkCompare)&&k.previousTag&&k.currentTag&&(k.linkCompare=!0),k},debug:e.debug},E.writerOpts,{reverse:e.append,doFlush:e.outputUnreleased},o),{options:e,context:t,gitRawCommitsOpts:r,parserOpts:i,writerOpts:o,gitRawExecOpts:a}})}Ex.exports=PW});var Cx=S((dz,Ax)=>{"use strict";var xW=B2(),Px=cp(),LW=Gc(),AW=$w(),CW=En(),xx=G("stream"),Lx=eo(),RW=G("child_process").execFileSync,OW=Sx();function TW(e,t,r,i,o,a){o=o||{};let l=new xx.Readable({objectMode:o.includeDetails});l._read=function(){};let f=!1,p=new xx.Readable({objectMode:!0});p._read=function(){};function h(g,d){return Px(CW.merge({},r,{from:g,to:d})).on("error",function(y){f||(setImmediate(p.emit.bind(p),"error",y),f=!0)})}return OW(e,t,r,i,o,a).then(function(g){e=g.options,t=g.context,r=g.gitRawCommitsOpts,i=g.parserOpts,o=g.writerOpts,a=g.gitRawExecOpts;try{RW("git",["rev-parse","--verify","HEAD"],{stdio:"ignore"});let d=t.gitSemverTags.slice(0).reverse();d.push("HEAD"),r.from&&(d.indexOf(r.from)!==-1?d=d.slice(d.indexOf(r.from)):d=[r.from,"HEAD"]);let y=d.map((w,E)=>{let A=E>0?d[E-1]:"";return h(A,w)});r.from&&(y=y.splice(1)),r.reverse&&y.reverse(),y.reduce((w,E)=>E.pipe(xW(w))).on("data",function(w){setImmediate(p.emit.bind(p),"data",w)}).on("end",function(){setImmediate(p.emit.bind(p),"end")})}catch(d){p=Px(r,a)}p.on("error",function(d){d.message="Error in git-raw-commits: "+d.message,setImmediate(l.emit.bind(l),"error",d)}).pipe(LW(i)).on("error",function(d){d.message="Error in conventional-commits-parser: "+d.message,setImmediate(l.emit.bind(l),"error",d)}).pipe(Lx.obj(function(d,y,w){try{e.transform.call(this,d,w)}catch(E){w(E)}})).on("error",function(d){d.message="Error in options.transform: "+d.message,setImmediate(l.emit.bind(l),"error",d)}).pipe(AW(t,o)).on("error",function(d){d.message="Error in conventional-changelog-writer: "+d.message,setImmediate(l.emit.bind(l),"error",d)}).pipe(Lx({objectMode:o.includeDetails},function(d,y,w){try{l.push(d)}catch(E){setImmediate(function(){throw E})}w()},function(d){l.push(null),d()}))}).catch(function(g){setImmediate(l.emit.bind(l),"error",g)}),l}Ax.exports=TW});var Ox=S((gz,Rx)=>{"use strict";var NW=Cx(),IW=Wc();function DW(e,t,r,i,o){if(e.warn=e.warn||function(){},e.preset)try{e.config=IW(e.preset)}catch(a){typeof e.preset=="object"?e.warn(`Preset: "${e.preset.name}" ${a.message}`):typeof e.preset=="string"?e.warn(`Preset: "${e.preset}" ${a.message}`):e.warn(`Preset: ${a.message}`)}return NW(e,t,r,i,o)}Rx.exports=DW});var Ux=S((Xz,yd)=>{(function(){"use strict";var e=G("fs"),t=G("string_decoder").StringDecoder;function r(a,l,f,p,h){var g=0,p=p||"utf8",f=f||`
`,h=h||1024,d=new Buffer(h),y="",w=new t(p),E=!1,A=!1,T=-1;function I(){E||(e.close(a,function(Y){if(Y)throw Y}),E=!0)}function $(Y){function J(){e.read(a,d,0,h,g,function(z,ue){var V;if(z)throw z;ue<h&&(A=!0,I()),g+=ue,y+=w.write(d.slice(0,ue)),T<0&&(T=y.indexOf(f)),V=T===y.length-1,ue&&(T===-1||V)&&!A?J():Y()})}J()}function U(){return y.length>0||!A}function k(Y){function J(){var z=y.substring(0,T);y=y.substring(T+f.length),T=-1,Y(z)}if(T<0&&(T=y.indexOf(f)),T<0)if(A)if(U())T=y.length,J();else throw new Error("No more lines to read.");else $(J);else J()}this.hasNextLine=U,this.nextLine=k,this.close=I,$(l)}function i(a,l,f,p,h){e.open(a,"r",parseInt("666",8),function(g,d){var y;if(g)throw g;y=new r(d,function(){l(y)},f,p,h)})}function o(a,l,f,p,h){var g,d=l.length==3;function y(){g&&typeof g=="function"&&g()}return i(a,function(w){function E(){w.hasNextLine()?setImmediate(T):y()}function A(I){I!==!1?E():(y(),w.close())}function T(){w.nextLine(function(I){var $=!w.hasNextLine();d?l(I,$,A):l(I,$)!==!1?E():(y(),w.close())})}E()},f,p,h),{then:function(w){g=w}}}yd.exports.open=i,yd.exports.eachLine=o})()});var jx=S((Zz,Gx)=>{Gx.exports=function(e,t){t=t||{},t.listUnicodeChar=t.hasOwnProperty("listUnicodeChar")?t.listUnicodeChar:!1,t.stripListLeaders=t.hasOwnProperty("stripListLeaders")?t.stripListLeaders:!0,t.gfm=t.hasOwnProperty("gfm")?t.gfm:!0;var r=e||"";r=r.replace(/^(-\s*?|\*\s*?|_\s*?){3,}\s*$/gm,"");try{t.stripListLeaders&&(t.listUnicodeChar?r=r.replace(/^([\s\t]*)([\*\-\+]|\d+\.)\s+/gm,t.listUnicodeChar+" $1"):r=r.replace(/^([\s\t]*)([\*\-\+]|\d+\.)\s+/gm,"$1")),t.gfm&&(r=r.replace(/\n={2,}/g,`
`).replace(/~~/g,"").replace(/`{3}.*\n/g,"")),r=r.replace(/<[^>]*>/g,"").replace(/^[=\-]{2,}\s*$/g,"").replace(/\[\^.+?\](\: .*?$)?/g,"").replace(/\s{0,2}\[.*?\]: .*?$/g,"").replace(/\!\[.*?\][\[\(].*?[\]\)]/g,"").replace(/\[(.*?)\][\[\(].*?[\]\)]/g,"$1").replace(/^\s{0,3}>\s?/g,"").replace(/^\s{1,2}\[(.*?)\]: (\S+)( ".*?")?\s*$/g,"").replace(/^(\n)?\s{0,}#{1,6}\s+| {0,}(\n)?\s{0,}#{0,} {0,}(\n)?\s{0,}$/gm,"$1$2$3").replace(/([\*_]{1,3})(\S.*?\S{0,1})\1/g,"$2").replace(/([\*_]{1,3})(\S.*?\S{0,1})\1/g,"$2").replace(/(`{3,})(.*?)\1/gm,"$2").replace(/`(.+?)`/g,"$1").replace(/\n{2,}/g,`

`)}catch(i){return console.error(i),e}return r}});var _d=S((Qz,Kx)=>{var ko=G("os").EOL,FW=Ux(),BW=jx(),Wx=/\[?v?([\w\d.-]+\.[\w\d.-]+[a-zA-Z0-9])\]?/,Hx=/.*[ ](\d\d?\d?\d?[-/.]\d\d?[-/.]\d\d?\d?\d?).*/,qW=/^###/,UW=/^[*-]/,GW={removeMarkdown:!0};function jW(e,t){if(typeof e=="undefined")throw new Error("missing options argument");if(typeof e=="string"&&(e={filePath:e}),typeof e=="object"){let o=typeof e.filePath!="undefined",a=typeof e.text!="undefined",l=typeof e.filePath!="string",f=typeof e.text!="string";if(!o&&!a)throw new Error("must provide filePath or text");if(o&&l)throw new Error("invalid filePath, expected string");if(a&&f)throw new Error("invalid text, expected string")}let r=Object.assign({},GW,e),i=WW(r);return typeof t=="function"&&i.then(function(o){t(null,o)}).catch(function(o){t(o)}),i}function WW(e){let t=e.filePath,r=e.text,i={log:{versions:[]},current:null},o=HW.bind(i,e);return new Promise(function(a,l){function f(){i.current&&$x(i),i.log.description=Vx(i.log.description),i.log.description===""&&delete i.log.description,a(i.log)}r?(r.split(/\r\n?|\n/mg).forEach(o),f()):FW.eachLine(t,o,ko).then(f)})}function HW(e,t){if(!t.match(/^\[[^[\]]*\] *?:/)){if(!this.log.title&&t.match(/^# ?[^#]/)){this.log.title=t.substring(1).trim();return}if(t.match(/^##? ?[^#]/)){this.current&&this.current.title&&$x(this),this.current=$W(),Wx.exec(t)&&(this.current.version=Wx.exec(t)[1]),this.current.title=t.substring(2).trim(),this.current.title&&Hx.exec(this.current.title)&&(this.current.date=Hx.exec(this.current.title)[1]);return}if(this.current){if(this.current.body+=t+ko,qW.exec(t)){let r=t.replace("###","").trim();this.current.parsed[r]||(this.current.parsed[r]=[],this.current._private.activeSubhead=r)}if(UW.exec(t)){let r=e.removeMarkdown?BW(t):t;this.current.parsed._.push(r),this.current._private.activeSubhead&&this.current.parsed[this.current._private.activeSubhead].push(r)}}else this.log.description=(this.log.description||"")+t+ko}}function $W(){return{version:null,title:null,date:null,body:"",parsed:{_:[]},_private:{activeSubhead:null}}}function $x(e){delete e.current._private,e.current.body=Vx(e.current.body),e.log.versions.push(e.current)}function Vx(e){return e?(e=e.trim(),e=e.replace(new RegExp("["+ko+"]*"),""),e=e.replace(new RegExp("["+ko+"]*$"),""),e):""}Kx.exports=jW});var zW={};qN(zW,{BranchType:()=>Ce,DEFAULT_REPO_VERSION:()=>Yn,GitVersionBumpCommand:()=>Do,GitVersionCheckCommand:()=>Fo,GitVersionCommitCommand:()=>Ci,GitVersionConfiguration:()=>zn,GitVersionPublishCommand:()=>Mo,GitVersionResetCommand:()=>Fs,GitVersionRestoreCommand:()=>Xn,GitVersionTagCommand:()=>Li,addAndCommit:()=>Ff,bump:()=>HN,checkGit:()=>GN,currentBranch:()=>kf,default:()=>YW,execCapture:()=>pt,tag:()=>Mf,tagPrefix:()=>Wi,updateWorkspaceWithVersion:()=>Hi,updateWorkspacesWithVersion:()=>Jn});var jr=Se(G("@yarnpkg/core")),Bf=Se(G("clipanion"));var Ce;(function(a){a.MAIN="main",a.PRERELEASE="prerelease",a.RELEASE="release",a.FEATURE="feature",a.UNKNOWN="unknown"})(Ce||(Ce={}));var Xm=Se(G("child_process"));async function pt(e,t,r){return new Promise((i,o)=>{let a=(0,Xm.spawn)(e,t,{cwd:r}),l="",f="";a.stdout.on("data",p=>{l+=p.toString()}),a.stderr.on("data",p=>{f+=p.toString()}),a.on("close",p=>{p===0?i({code:p,result:l}):o(new Error(l+f))})})}async function GN(){return pt("git",["--version"])}async function kf(){return process.env.BUILD_SOURCEBRANCHNAME?process.env.BUILD_SOURCEBRANCHNAME:(await pt("git",["rev-parse","--abbrev-ref","HEAD"])).result.replace(/\n*$/,"")}async function Mf(e,t){if(await pt("git",["tag",e]),t)return pt("git",["push","--no-verify","origin",e])}async function Ff(e,t){let r=await pt("git",["add",...e]);console.log(r.result);let i=await pt("git",["commit",...e,"-m",t]);console.log(i.result)}var Yn="0.0.0",qf=class{static async fromContext(t,r){let i=await kf();return new qf(i,t,r)}constructor(t,r,i){this.yarnConfig=r;let o=r.get("featureBranchPatterns"),a=r.get("releaseBranchPatterns");this.featureBranchPatterns=o.map(l=>new RegExp(l)),this.releaseBranchPatterns=a.map(l=>new RegExp(l)),this.mainBranch=r.get("mainBranch"),this.independentVersioning=r.get("independentVersioning"),this.versionTagPrefix=r.get("versionTagPrefix"),this.versionBranch=this.parse(t),i.reportInfoOnce(jr.MessageName.UNNAMED,`Running on branch: '${t}'`),i.reportInfoOnce(jr.MessageName.UNNAMED,`Detected branch type: '${this.versionBranch.branchType}'`)}parse(t){if(this.mainBranch===t)return{branchType:Ce.MAIN,name:t};for(let r of this.featureBranchPatterns)if(r.test(t)){let i=r.exec(t);if(i&&i.length===2)return{name:i[1],branchType:Ce.FEATURE};throw new Bf.UsageError(`The feature pattern '${r.source}' matched the current branch but it should result in exact 1 group match`)}for(let r of this.releaseBranchPatterns)if(r.test(t)){let i=r.exec(t);if(i&&i.length===2)return{name:i[1],branchType:Ce.RELEASE};throw new Bf.UsageError(`The release pattern '${r.source}' matched the current branch but it should result in exact 1 group match`)}return{name:"unknown",branchType:Ce.UNKNOWN}}},zn=qf;zn.definition={featureBranchPatterns:{description:`Feature branches. This will apply the following rules to bumps:
  - version pattern: 'x.x.x-<<feature>>.<<increment>>'
  - always increment on each commit
  - no checking for conventional commits in git history
  - publish on npm channel '<<feature>>'`,isArray:!0,type:jr.SettingsType.STRING,default:["^feature/(.*)$"]},releaseBranchPatterns:{description:`Release branches. This will apply the following rules to bumps:
  - Official release channels
  - Conventional commits enabled
  - publish on npm channel '<<release>>'`,isArray:!0,type:jr.SettingsType.STRING,default:["^release/(.*)$"]},mainBranch:{description:"The main branch. This is the official channel and will produce npm packages with the lates npm disttag",type:jr.SettingsType.STRING,default:"main"},independentVersioning:{description:"When independent versioning is enabled each package will have a different version based on the commits in the package folder",type:jr.SettingsType.BOOLEAN,default:!1},versionTagPrefix:{description:'The prefix used for git tags. Defaults to "v"',type:jr.SettingsType.STRING,default:"v"}};var ev=Se(G("@yarnpkg/cli")),Ta=Se(G("@yarnpkg/core"));function Wi(e,t){let r=e;return t&&(t.scope&&(r+=`@${t.scope}/`),r+=t.name,r+="-"),r}var Ra=Se(G("@yarnpkg/core"));async function Jn(e,t,r){return Promise.all(e.map(i=>Hi(i,t,r)))}async function Hi(e,t,r){if(e.manifest.version!==t)return r.reportInfo(Ra.MessageName.UNNAMED,`${Ra.structUtils.stringifyLocator(e.locator)} => ${t}`),e.manifest.version=t,e.persistManifest()}var Oa=Se(G("@yarnpkg/core"));async function Et(e,t,r){let i=await Oa.Configuration.find(t.cwd,t.plugins);(await Oa.StreamReport.start({configuration:i,stdout:t.stdout},async a=>{await a.startTimerPromise(e,async()=>{let l=await zn.fromContext(i,a);await r(a,l)})})).exitCode()}var jN=Qm(),Xn=class extends ev.BaseCommand{async execute(){await Et("Restore versions from git tags",this.context,async(t,r)=>{if(r.versionBranch.branchType===Ce.UNKNOWN){t.reportError(Ta.MessageName.UNNAMED,"Running on unknown branch type. Breaking off");return}let{project:i}=await Ta.Project.find(r.yarnConfig,this.context.cwd);if(r.independentVersioning){let o=i.workspaces.map(a=>this.updateWorkspaceFromGit(r.versionTagPrefix,r.versionBranch,a,t));Promise.all(o)}else{let o=[this.determineCurrentGitVersion(r.versionTagPrefix,r.versionBranch),...i.workspaces.map(l=>this.determineCurrentGitVersion(r.versionTagPrefix,r.versionBranch,l.locator))],a=(await Promise.all(o)).sort(jN).reverse();await Jn(i.workspaces,a[0],t)}})}async updateWorkspaceFromGit(t,r,i,o){let a=await this.determineCurrentGitVersion(t,r,i.locator);return Hi(i,a,o)}async determineCurrentGitVersion(t,r,i){let o=Wi(t,i),a=`${o}*`,p=(await pt("git",["-c","versionsort.suffix=-","tag","--sort=-version:refname","--list",a])).result.split(`
`),h=p.filter(w=>new RegExp(`^${this.escapeRegExp(o)}[0-9]+.[0-9]+.[0-9]+$`).test(w));if(r.branchType!==Ce.MAIN){let w=p.filter(E=>new RegExp(`${o}[0-9]+.[0-9]+.[0-9]+-${this.escapeRegExp(r.name)}.[0-9]+$`).test(E));w.length>0?p=w:p=h}else p=h;p=p.filter(w=>w);let g;p.length>0?g=p[0]:g="0.0.0";let d=g,y=new RegExp(`^${this.escapeRegExp(o)}`);return d=d.replace(y,""),d}escapeRegExp(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}};Xn.paths=[["gitversion","restore"]];var tv=Se(G("@yarnpkg/cli")),rv=Se(G("@yarnpkg/core"));var Fs=class extends tv.BaseCommand{async execute(){await Et("Resetting file versions",this.context,async(t,r)=>{let{project:i}=await rv.Project.find(r.yarnConfig,this.context.cwd);await Jn(i.workspaces,Yn,t)})}};Fs.paths=[["gitversion","reset"]];var kx=Se(G("@yarnpkg/cli")),Io=Se(G("@yarnpkg/core"));var WN=["--no-sign","--skip.commit","--skip.tag"];async function HN(e,t,r,i,o){let a=[...WN];if(a.push(`--path='${r}'`),a.push(`--tag-prefix='${t}'`),a.push(`--infile='${r}/CHANGELOG.md'`),o&&(a.push(`--release-as='${o}'`),a.push("--skip.bump")),e.branchType===Ce.FEATURE)a.push(`--prerelease=${e.name}`,"--skip.changelog"),o||a.push("--release-as=patch");else if(e.branchType===Ce.PRERELEASE||e.branchType===Ce.RELEASE)a.push(`--prerelease=${e.name}`);else if(e.branchType===Ce.UNKNOWN)return;let l=await pt("yarn",["standard-version",...a],i);console.log(l.result)}var N2=Se(i2());var Pn=Se(G("@yarnpkg/core")),xn=Se(G("semver"));var T2=Se(O2());async function vu(e){return T2.default}async function I2(e,t,r,i,o){let a=i.manifest.version;if(!a){o.reportWarning(Pn.MessageName.UNNAMED,"No version in manifest. Breaking off");return}return new Promise(async(l,f)=>{try{let p=await vu(r);(0,N2.default)({config:p,tagPrefix:t,path:i.relativeCwd},{headerPattern:/^(?:Merged PR \d+: )?(\w*)(?:\((.*)\))?!?: (.*)$/,breakingHeaderPattern:/^(?:Merged PR \d+: )?(\w*)(?:\((.*)\))?!: (.*)$/,revertPattern:/^(?:Merged PR \d+: )?(?:Revert|revert:)\s"?([\s\S]+?)"?\s*This reverts commit (\w*)\./i,warn:h=>o.reportWarning(Pn.MessageName.UNNAMED,h)},(h,g)=>{var d,y,w,E,A;g.releaseType?(g.reason&&o.reportInfo(Pn.MessageName.UNNAMED,`${g.reason} => ${g.releaseType}`),e.branchType==Ce.MAIN?(o.reportInfo(Pn.MessageName.UNNAMED,"Bumping official release"),l((d=xn.default.inc(a,g.releaseType))!=null?d:void 0)):(o.reportInfo(Pn.MessageName.UNNAMED,`Bumping on prerelease ${e.name}`),xn.default.prerelease(a)?l((y=xn.default.inc(a,"prerelease"))!=null?y:void 0):l((w=xn.default.inc(a,`pre${g.releaseType}`,e.name))!=null?w:void 0))):(o.reportInfo(Pn.MessageName.UNNAMED,"No recommendation found"),e.branchType!=Ce.MAIN&&(o.reportInfo(Pn.MessageName.UNNAMED,`Bumping on prerelease ${e.name}`),xn.default.prerelease(a)?l((E=xn.default.inc(a,"prerelease"))!=null?E:void 0):l((A=xn.default.inc(a,"prepatch",e.name))!=null?A:void 0)))})}catch(p){f(p)}})}var ys=Se(G("@yarnpkg/core"));var Tx=Se(Ox());var No=Se(G("fs")),Nx=Se(G("path")),kW=/(^#+ \[?[0-9]+\.[0-9]+\.[0-9]+|<a name=)/m,Ix="CHANGELOG.md",MW=/^#+ \[(.*)\]/m;async function Dx(e,t,r,i,o,a){return new Promise(async(l,f)=>{if(e.branchType===Ce.FEATURE)return a.reportInfo(ys.MessageName.UNNAMED,"[CHANGELOG] Skipping changelog due to feature branch"),l(null);try{let p=await vu(i),h=(0,Nx.join)(o.cwd,Ix),g=`# Changelog

All notable changes to this project will be documented in this file
`,d=No.readFileSync(h,"utf-8"),y=d.match(MW);if(y&&y.length>1&&y[1]===t)return a.reportInfo(ys.MessageName.UNNAMED,"Release already in CHANGELOG.md. Skipping new update"),l(null);let w=d.search(kW);w!==-1&&(d=d.substring(w));let E="",A=(0,Tx.default)({config:p,tagPrefix:r,path:o.cwd},{version:t,host:"unknown"},{merges:null,path:o.relativeCwd},{headerPattern:/^(?:Merged PR \d+: )?(\w*)(?:\((.*)\))?!?: (.*)$/,breakingHeaderPattern:/^(?:Merged PR \d+: )?(\w*)(?:\((.*)\))?!: (.*)$/,revertPattern:/^(?:Merged PR \d+: )?(?:Revert|revert:)\s"?([\s\S]+?)"?\s*This reverts commit (\w*)\./i});A.on("data",function(T){E+=T.toString()}),A.on("end",function(){a.reportInfo(ys.MessageName.UNNAMED,`[CHANGELOG] Outputting changes to ${ys.structUtils.stringifyLocator(o.locator)}/${Ix}`),No.writeFileSync(h,g+`
`+(E+d).replace(/\n+$/,`
`),"utf-8")})}catch(p){return f(p)}l(null)})}var Do=class extends kx.BaseCommand{async execute(){let t=new Xn;t.context=this.context,t.cli=this.cli,await t.execute(),await Et("Bump versions",this.context,async(r,i)=>{if(i.versionBranch.branchType===Ce.UNKNOWN){r.reportError(Io.MessageName.UNNAMED,"Running on unknown branch type. Breaking off");return}let{project:o}=await Io.Project.find(i.yarnConfig,this.context.cwd);if(i.independentVersioning)r.reportError(Io.MessageName.UNNAMED,"IndependentVersioning is not implemented");else{let a=await I2(i.versionBranch,Wi(i.versionTagPrefix),o,o.topLevelWorkspace,r);a&&(await Hi(o.topLevelWorkspace,a,r),await Jn(o.topLevelWorkspace.getRecursiveWorkspaceChildren(),a,r),await Dx(i.versionBranch,a,Wi(i.versionTagPrefix),o,o.topLevelWorkspace,r))}})}};Do.paths=[["gitversion","bump"]];var Yx=Se(G("@yarnpkg/cli")),cr=Se(G("@yarnpkg/core"));var bd=Se(G("path"));var Mx=Se(G("@yarnpkg/cli")),_s=Se(G("@yarnpkg/core")),Fx=Se(G("clipanion"));var Li=class extends Mx.BaseCommand{constructor(){super(...arguments);this.push=Fx.Option.Boolean("Push the tags to git",!0)}async execute(){await Et("Resetting file versions",this.context,async(t,r)=>{if(r.versionBranch.branchType===Ce.UNKNOWN){t.reportError(_s.MessageName.UNNAMED,"Running on unknown branch type. Breaking off");return}let{project:i}=await _s.Project.find(r.yarnConfig,this.context.cwd);if(r.independentVersioning)t.reportError(_s.MessageName.UNNAMED,"IndependentVersioning is not implemented");else{let o=i.topLevelWorkspace.manifest.version;if(!o||o===Yn){t.reportInfo(_s.MessageName.UNNAMED,"No active bump detected. Skipping tag step");return}await Mf(`${r.versionTagPrefix}${o}`,this.push)}})}};Li.paths=[["gitversion","tag"]];var Bx=Se(G("@yarnpkg/cli")),Ai=Se(G("@yarnpkg/core")),qx=Se(G("fs"));var Ci=class extends Bx.BaseCommand{async execute(){await Et("Commit changelogs",this.context,async(t,r)=>{if(r.versionBranch.branchType===Ce.UNKNOWN){t.reportError(Ai.MessageName.UNNAMED,"Running on unknown branch type. Breaking off");return}let{project:i}=await Ai.Project.find(r.yarnConfig,this.context.cwd);if(r.independentVersioning)t.reportError(Ai.MessageName.UNNAMED,"IndependentVersioning is not implemented");else{let o=i.topLevelWorkspace.manifest.version,a=i.workspaces.map(l=>`${l.cwd}/CHANGELOG.md`).filter(l=>(0,qx.existsSync)(l));if(a.length===0){t.reportInfo(Ai.MessageName.UNNAMED,"No changelog files to commit. Skipping commit step");return}if(!o||o===Yn){t.reportInfo(Ai.MessageName.UNNAMED,"No active bump detected. Skipping commit step");return}await Ff(a,`chore(release): ${o}`)}})}};Ci.paths=[["gitversion","commit"]];var zx=Se(G("fs")),vl=Se(G("clipanion"));var VW=_d(),Mo=class extends Yx.BaseCommand{constructor(){super(...arguments);this.dryRun=vl.Option.Boolean("--dryRun",!1);this.skipTag=vl.Option.Boolean("--skipTag",!1);this.skipCommit=vl.Option.Boolean("--skipCommit",!1)}async execute(){if(this.dryRun||this.skipTag)console.log("Skipping tag");else{let i=new Li;i.context=this.context,i.cli=this.cli,await i.execute()}if(this.dryRun||this.skipCommit)console.log("Skipping commit");else{let i=new Ci;i.context=this.context,i.cli=this.cli,await i.execute()}await Et("Pubishing packages",this.context,async(i,o)=>{if(o.versionBranch.branchType===Ce.UNKNOWN){i.reportError(cr.MessageName.UNNAMED,"Running on unknown branch type. Breaking off");return}let{project:a}=await cr.Project.find(o.yarnConfig,this.context.cwd);if(o.independentVersioning)i.reportError(cr.MessageName.UNNAMED,"IndependentVersioning is not implemented");else{let l=a.workspaces.filter(this.filterPublicWorkspace);for(let p of l){let h=[];(o.versionBranch.branchType===Ce.FEATURE||o.versionBranch.branchType===Ce.PRERELEASE)&&(h=["--tag",o.versionBranch.name]),i.reportInfo(cr.MessageName.UNNAMED,`Publishing ${cr.structUtils.stringifyIdent(p.locator)}`),this.dryRun?(i.reportInfo(cr.MessageName.UNNAMED,"skipping publish due to dryRun. Would run command:"),i.reportInfo(cr.MessageName.UNNAMED,["yarn","npm","publish",...h].join(" ")),i.reportInfo(cr.MessageName.UNNAMED,`In folder: ${p.cwd}`)):await pt("yarn",["npm","publish",...h],p.cwd)}let f=ji(_r({},await this.readChangeLog(a.topLevelWorkspace)),{packages:await Promise.all(l.map(p=>this.readChangeLog(p)))});await a.configuration.triggerHook(p=>p.afterPublish,a,o.versionBranch,f)}})}async readChangeLog(t){var a;let r=(0,bd.join)(t.cwd,"CHANGELOG.md"),i=t.manifest.version,o;return(0,zx.existsSync)(r)&&(o=(a=(await VW({filePath:(0,bd.join)(t.cwd,"CHANGELOG.md"),removeMarkdown:!1})).versions.find(f=>f.version===i))==null?void 0:a.body),{version:i||"0.0.0",changelog:o,packageName:cr.structUtils.stringifyIdent(t.locator)}}filterPublicWorkspace(t){return t.manifest.private===!1}};Mo.paths=[["gitversion","publish"]];var Jx=Se(G("@yarnpkg/cli")),Dn=Se(G("@yarnpkg/core"));var Fo=class extends Jx.BaseCommand{async execute(){await Et("Check gitversion plugin",this.context,async(t,r)=>{t.reportInfo(Dn.MessageName.UNNAMED,`Branch type: ${r.versionBranch.branchType}`),t.reportInfo(Dn.MessageName.UNNAMED,`Branch name: ${r.versionBranch.name}`);let{project:i}=await Dn.Project.find(r.yarnConfig,this.context.cwd);i.workspaces.forEach(o=>{t.reportInfo(Dn.MessageName.UNNAMED,`${Dn.structUtils.stringifyLocator(o.locator)} Private: ${o.manifest.private}`)})})}};Fo.paths=[["gitversion","check"]];var Xx=Se(G("@yarnpkg/cli")),Qr=Se(G("@yarnpkg/core"));var kn=Se(G("path"));var Zx=Se(G("fs")),Qx=Se(G("clipanion"));var Bo=Se(G("fs/promises")),KW=_d(),yl=class extends Xx.BaseCommand{constructor(){super(...arguments);this.outputFolder=Qx.Option.String("Output folder","gitversion-package")}async execute(){await Et("Packaging packages",this.context,async(t,r)=>{if(r.versionBranch.branchType===Ce.UNKNOWN){t.reportError(Qr.MessageName.UNNAMED,"Running on unknown branch type. Breaking off");return}let{project:i}=await Qr.Project.find(r.yarnConfig,this.context.cwd);if(r.independentVersioning)t.reportError(Qr.MessageName.UNNAMED,"IndependentVersioning is not implemented");else{let o=i.workspaces.filter(this.filterPublicWorkspace),a=(0,kn.join)(i.cwd,this.outputFolder);await(0,Bo.mkdir)(a,{recursive:!0});for(let p of o){let h=[];(r.versionBranch.branchType===Ce.FEATURE||r.versionBranch.branchType===Ce.PRERELEASE)&&(h=["--tag",r.versionBranch.name]),t.reportInfo(Qr.MessageName.UNNAMED,`Packing ${Qr.structUtils.stringifyIdent(p.locator)}`),await pt("yarn",["pack","-o",(0,kn.join)(a,`${p.locator.scope?p.locator.scope+"-":""}${p.locator.name}-${p.manifest.version}.tgz`)],p.cwd)}let l=await pt("git",["diff","--","*CHANGELOG.md"],i.cwd);await(0,Bo.writeFile)((0,kn.join)(a,"changelog.diff.patch"),l.result);let f=JSON.stringify({versionTag:r.versionBranch.name,version:i.topLevelWorkspace.manifest.version});await(0,Bo.writeFile)((0,kn.join)(a,"gitversion.config.json"),f,"utf-8")}})}async readChangeLog(t){var a;let r=(0,kn.join)(t.cwd,"CHANGELOG.md"),i=t.manifest.version,o;return(0,Zx.existsSync)(r)&&(o=(a=(await KW({filePath:(0,kn.join)(t.cwd,"CHANGELOG.md"),removeMarkdown:!1})).versions.find(f=>f.version===i))==null?void 0:a.body),{version:i||"0.0.0",changelog:o,packageName:Qr.structUtils.stringifyIdent(t.locator)}}filterPublicWorkspace(t){return t.manifest.private===!1}};yl.paths=[["gitversion","pack"]];var eL={configuration:zn.definition,commands:[Fo,Xn,Fs,Do,Li,Ci,Mo,yl],hooks:{async wrapNetworkRequest(e,t){return e}}};var YW=eL;return zW;})();
/*!
 *
 * Copyright 2009-2017 Kris Kowal under the terms of the MIT
 * license found at https://github.com/kriskowal/q/blob/v1/LICENSE
 *
 * With parts by Tyler Close
 * Copyright 2007-2009 Tyler Close under the terms of the MIT X license found
 * at http://www.opensource.org/licenses/mit-license.html
 * Forked at ref_send.js version: 2009-05-11
 *
 * With parts by Mark Miller
 * Copyright (C) 2011 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */
return plugin;
}
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL2NvbXBhcmUtdmVyc2lvbnMtbnBtLTQuMS4zLWQ0YzRhN2Y0MTItOS56aXAvbm9kZV9tb2R1bGVzL2NvbXBhcmUtdmVyc2lvbnMvaW5kZXguanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL3JlYWRhYmxlLXN0cmVhbS1ucG0tMy42LjAtMjNhNGE1ZWI1Ni05LnppcC9ub2RlX21vZHVsZXMvcmVhZGFibGUtc3RyZWFtL2xpYi9pbnRlcm5hbC9zdHJlYW1zL3N0cmVhbS5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvcmVhZGFibGUtc3RyZWFtLW5wbS0zLjYuMC0yM2E0YTVlYjU2LTkuemlwL25vZGVfbW9kdWxlcy9yZWFkYWJsZS1zdHJlYW0vbGliL2ludGVybmFsL3N0cmVhbXMvYnVmZmVyX2xpc3QuanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL3JlYWRhYmxlLXN0cmVhbS1ucG0tMy42LjAtMjNhNGE1ZWI1Ni05LnppcC9ub2RlX21vZHVsZXMvcmVhZGFibGUtc3RyZWFtL2xpYi9pbnRlcm5hbC9zdHJlYW1zL2Rlc3Ryb3kuanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL3JlYWRhYmxlLXN0cmVhbS1ucG0tMy42LjAtMjNhNGE1ZWI1Ni05LnppcC9ub2RlX21vZHVsZXMvcmVhZGFibGUtc3RyZWFtL2Vycm9ycy5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvcmVhZGFibGUtc3RyZWFtLW5wbS0zLjYuMC0yM2E0YTVlYjU2LTkuemlwL25vZGVfbW9kdWxlcy9yZWFkYWJsZS1zdHJlYW0vbGliL2ludGVybmFsL3N0cmVhbXMvc3RhdGUuanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL2luaGVyaXRzLW5wbS0yLjAuNC1jNjZiMzk1N2EwLTkuemlwL25vZGVfbW9kdWxlcy9pbmhlcml0cy9pbmhlcml0c19icm93c2VyLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9pbmhlcml0cy1ucG0tMi4wLjQtYzY2YjM5NTdhMC05LnppcC9ub2RlX21vZHVsZXMvaW5oZXJpdHMvaW5oZXJpdHMuanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL3V0aWwtZGVwcmVjYXRlLW5wbS0xLjAuMi1lM2ZlMWEyMTljLTkuemlwL25vZGVfbW9kdWxlcy91dGlsLWRlcHJlY2F0ZS9ub2RlLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9yZWFkYWJsZS1zdHJlYW0tbnBtLTMuNi4wLTIzYTRhNWViNTYtOS56aXAvbm9kZV9tb2R1bGVzL3JlYWRhYmxlLXN0cmVhbS9saWIvX3N0cmVhbV93cml0YWJsZS5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvcmVhZGFibGUtc3RyZWFtLW5wbS0zLjYuMC0yM2E0YTVlYjU2LTkuemlwL25vZGVfbW9kdWxlcy9yZWFkYWJsZS1zdHJlYW0vbGliL19zdHJlYW1fZHVwbGV4LmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9zYWZlLWJ1ZmZlci1ucG0tNS4yLjEtMzQ4MWM4YWE5Yi05LnppcC9ub2RlX21vZHVsZXMvc2FmZS1idWZmZXIvaW5kZXguanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL3N0cmluZ19kZWNvZGVyLW5wbS0xLjMuMC0yNDIyMTE3ZmQwLTkuemlwL25vZGVfbW9kdWxlcy9zdHJpbmdfZGVjb2Rlci9saWIvc3RyaW5nX2RlY29kZXIuanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL3JlYWRhYmxlLXN0cmVhbS1ucG0tMy42LjAtMjNhNGE1ZWI1Ni05LnppcC9ub2RlX21vZHVsZXMvcmVhZGFibGUtc3RyZWFtL2xpYi9pbnRlcm5hbC9zdHJlYW1zL2VuZC1vZi1zdHJlYW0uanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL3JlYWRhYmxlLXN0cmVhbS1ucG0tMy42LjAtMjNhNGE1ZWI1Ni05LnppcC9ub2RlX21vZHVsZXMvcmVhZGFibGUtc3RyZWFtL2xpYi9pbnRlcm5hbC9zdHJlYW1zL2FzeW5jX2l0ZXJhdG9yLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9yZWFkYWJsZS1zdHJlYW0tbnBtLTMuNi4wLTIzYTRhNWViNTYtOS56aXAvbm9kZV9tb2R1bGVzL3JlYWRhYmxlLXN0cmVhbS9saWIvaW50ZXJuYWwvc3RyZWFtcy9mcm9tLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9yZWFkYWJsZS1zdHJlYW0tbnBtLTMuNi4wLTIzYTRhNWViNTYtOS56aXAvbm9kZV9tb2R1bGVzL3JlYWRhYmxlLXN0cmVhbS9saWIvX3N0cmVhbV9yZWFkYWJsZS5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvcmVhZGFibGUtc3RyZWFtLW5wbS0zLjYuMC0yM2E0YTVlYjU2LTkuemlwL25vZGVfbW9kdWxlcy9yZWFkYWJsZS1zdHJlYW0vbGliL19zdHJlYW1fdHJhbnNmb3JtLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9yZWFkYWJsZS1zdHJlYW0tbnBtLTMuNi4wLTIzYTRhNWViNTYtOS56aXAvbm9kZV9tb2R1bGVzL3JlYWRhYmxlLXN0cmVhbS9saWIvX3N0cmVhbV9wYXNzdGhyb3VnaC5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvcmVhZGFibGUtc3RyZWFtLW5wbS0zLjYuMC0yM2E0YTVlYjU2LTkuemlwL25vZGVfbW9kdWxlcy9yZWFkYWJsZS1zdHJlYW0vbGliL2ludGVybmFsL3N0cmVhbXMvcGlwZWxpbmUuanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL3JlYWRhYmxlLXN0cmVhbS1ucG0tMy42LjAtMjNhNGE1ZWI1Ni05LnppcC9ub2RlX21vZHVsZXMvcmVhZGFibGUtc3RyZWFtL3JlYWRhYmxlLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9idWZmZXItZnJvbS1ucG0tMS4xLjItMDNkMmYyMGQ3ZS05LnppcC9ub2RlX21vZHVsZXMvYnVmZmVyLWZyb20vaW5kZXguanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL3R5cGVkYXJyYXktbnBtLTAuMC42LTM3NjM4YjIyNDEtOS56aXAvbm9kZV9tb2R1bGVzL3R5cGVkYXJyYXkvaW5kZXguanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL2NvbmNhdC1zdHJlYW0tbnBtLTIuMC4wLThiYjJhZDVhYTAtOS56aXAvbm9kZV9tb2R1bGVzL2NvbmNhdC1zdHJlYW0vaW5kZXguanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL2xvZGFzaC5pc21hdGNoLW5wbS00LjQuMC1lNTM4ZmQ2YzNkLTkuemlwL25vZGVfbW9kdWxlcy9sb2Rhc2guaXNtYXRjaC9pbmRleC5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvbW9kaWZ5LXZhbHVlcy1ucG0tMS4wLjEtOWIyMzc3ZTE2Ni05LnppcC9ub2RlX21vZHVsZXMvbW9kaWZ5LXZhbHVlcy9pbmRleC5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvY29udmVudGlvbmFsLWNvbW1pdHMtZmlsdGVyLW5wbS0yLjAuNy04NzYyZWUzYmZhLTkuemlwL25vZGVfbW9kdWxlcy9jb252ZW50aW9uYWwtY29tbWl0cy1maWx0ZXIvaW5kZXguanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL2xvZGFzaC1ucG0tNC4xNy4yMS02MzgyNDUxNTE5LTkuemlwL25vZGVfbW9kdWxlcy9sb2Rhc2gvbG9kYXNoLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9jb252ZW50aW9uYWwtY29tbWl0cy1wYXJzZXItbnBtLTMuMi40LWQxZWJiNDhjZjYtOS56aXAvbm9kZV9tb2R1bGVzL2NvbnZlbnRpb25hbC1jb21taXRzLXBhcnNlci9saWIvcGFyc2VyLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9jb252ZW50aW9uYWwtY29tbWl0cy1wYXJzZXItbnBtLTMuMi40LWQxZWJiNDhjZjYtOS56aXAvbm9kZV9tb2R1bGVzL2NvbnZlbnRpb25hbC1jb21taXRzLXBhcnNlci9saWIvcmVnZXguanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL3Rocm91Z2gyLW5wbS00LjAuMi1kYTdiMmRhNDQzLTkuemlwL25vZGVfbW9kdWxlcy90aHJvdWdoMi90aHJvdWdoMi5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvY29udmVudGlvbmFsLWNvbW1pdHMtcGFyc2VyLW5wbS0zLjIuNC1kMWViYjQ4Y2Y2LTkuemlwL25vZGVfbW9kdWxlcy9jb252ZW50aW9uYWwtY29tbWl0cy1wYXJzZXIvaW5kZXguanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL2NvbnZlbnRpb25hbC1jaGFuZ2Vsb2ctcHJlc2V0LWxvYWRlci1ucG0tMi4zLjQtYTkwN2YyZTQ5YS05LnppcC9ub2RlX21vZHVsZXMvY29udmVudGlvbmFsLWNoYW5nZWxvZy1wcmVzZXQtbG9hZGVyL2luZGV4LmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9naXQtc2VtdmVyLXRhZ3MtbnBtLTQuMS4xLTkzYjk3NDc4MTEtOS56aXAvbm9kZV9tb2R1bGVzL2dpdC1zZW12ZXItdGFncy9pbmRleC5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvZGFyZ3MtbnBtLTcuMC4wLTYyNzAxZTBjN2EtOS56aXAvbm9kZV9tb2R1bGVzL2RhcmdzL2luZGV4LmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9zcGxpdDItbnBtLTMuMi4yLTRjY2QyMWI0ZjctOS56aXAvbm9kZV9tb2R1bGVzL3NwbGl0Mi9pbmRleC5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvbG9kYXNoLW5wbS00LjE3LjIxLTYzODI0NTE1MTktOS56aXAvbm9kZV9tb2R1bGVzL2xvZGFzaC9fZnJlZUdsb2JhbC5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvbG9kYXNoLW5wbS00LjE3LjIxLTYzODI0NTE1MTktOS56aXAvbm9kZV9tb2R1bGVzL2xvZGFzaC9fcm9vdC5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvbG9kYXNoLW5wbS00LjE3LjIxLTYzODI0NTE1MTktOS56aXAvbm9kZV9tb2R1bGVzL2xvZGFzaC9fU3ltYm9sLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9sb2Rhc2gtbnBtLTQuMTcuMjEtNjM4MjQ1MTUxOS05LnppcC9ub2RlX21vZHVsZXMvbG9kYXNoL19nZXRSYXdUYWcuanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL2xvZGFzaC1ucG0tNC4xNy4yMS02MzgyNDUxNTE5LTkuemlwL25vZGVfbW9kdWxlcy9sb2Rhc2gvX29iamVjdFRvU3RyaW5nLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9sb2Rhc2gtbnBtLTQuMTcuMjEtNjM4MjQ1MTUxOS05LnppcC9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlR2V0VGFnLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9sb2Rhc2gtbnBtLTQuMTcuMjEtNjM4MjQ1MTUxOS05LnppcC9ub2RlX21vZHVsZXMvbG9kYXNoL2lzT2JqZWN0LmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9sb2Rhc2gtbnBtLTQuMTcuMjEtNjM4MjQ1MTUxOS05LnppcC9ub2RlX21vZHVsZXMvbG9kYXNoL2lzRnVuY3Rpb24uanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL2xvZGFzaC1ucG0tNC4xNy4yMS02MzgyNDUxNTE5LTkuemlwL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2NvcmVKc0RhdGEuanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL2xvZGFzaC1ucG0tNC4xNy4yMS02MzgyNDUxNTE5LTkuemlwL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2lzTWFza2VkLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9sb2Rhc2gtbnBtLTQuMTcuMjEtNjM4MjQ1MTUxOS05LnppcC9ub2RlX21vZHVsZXMvbG9kYXNoL190b1NvdXJjZS5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvbG9kYXNoLW5wbS00LjE3LjIxLTYzODI0NTE1MTktOS56aXAvbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZUlzTmF0aXZlLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9sb2Rhc2gtbnBtLTQuMTcuMjEtNjM4MjQ1MTUxOS05LnppcC9ub2RlX21vZHVsZXMvbG9kYXNoL19nZXRWYWx1ZS5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvbG9kYXNoLW5wbS00LjE3LjIxLTYzODI0NTE1MTktOS56aXAvbm9kZV9tb2R1bGVzL2xvZGFzaC9fZ2V0TmF0aXZlLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9sb2Rhc2gtbnBtLTQuMTcuMjEtNjM4MjQ1MTUxOS05LnppcC9ub2RlX21vZHVsZXMvbG9kYXNoL19kZWZpbmVQcm9wZXJ0eS5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvbG9kYXNoLW5wbS00LjE3LjIxLTYzODI0NTE1MTktOS56aXAvbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZUFzc2lnblZhbHVlLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9sb2Rhc2gtbnBtLTQuMTcuMjEtNjM4MjQ1MTUxOS05LnppcC9ub2RlX21vZHVsZXMvbG9kYXNoL2VxLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9sb2Rhc2gtbnBtLTQuMTcuMjEtNjM4MjQ1MTUxOS05LnppcC9ub2RlX21vZHVsZXMvbG9kYXNoL19hc3NpZ25WYWx1ZS5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvbG9kYXNoLW5wbS00LjE3LjIxLTYzODI0NTE1MTktOS56aXAvbm9kZV9tb2R1bGVzL2xvZGFzaC9fY29weU9iamVjdC5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvbG9kYXNoLW5wbS00LjE3LjIxLTYzODI0NTE1MTktOS56aXAvbm9kZV9tb2R1bGVzL2xvZGFzaC9pZGVudGl0eS5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvbG9kYXNoLW5wbS00LjE3LjIxLTYzODI0NTE1MTktOS56aXAvbm9kZV9tb2R1bGVzL2xvZGFzaC9fYXBwbHkuanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL2xvZGFzaC1ucG0tNC4xNy4yMS02MzgyNDUxNTE5LTkuemlwL25vZGVfbW9kdWxlcy9sb2Rhc2gvX292ZXJSZXN0LmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9sb2Rhc2gtbnBtLTQuMTcuMjEtNjM4MjQ1MTUxOS05LnppcC9ub2RlX21vZHVsZXMvbG9kYXNoL2NvbnN0YW50LmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9sb2Rhc2gtbnBtLTQuMTcuMjEtNjM4MjQ1MTUxOS05LnppcC9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlU2V0VG9TdHJpbmcuanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL2xvZGFzaC1ucG0tNC4xNy4yMS02MzgyNDUxNTE5LTkuemlwL25vZGVfbW9kdWxlcy9sb2Rhc2gvX3Nob3J0T3V0LmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9sb2Rhc2gtbnBtLTQuMTcuMjEtNjM4MjQ1MTUxOS05LnppcC9ub2RlX21vZHVsZXMvbG9kYXNoL19zZXRUb1N0cmluZy5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvbG9kYXNoLW5wbS00LjE3LjIxLTYzODI0NTE1MTktOS56aXAvbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZVJlc3QuanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL2xvZGFzaC1ucG0tNC4xNy4yMS02MzgyNDUxNTE5LTkuemlwL25vZGVfbW9kdWxlcy9sb2Rhc2gvaXNMZW5ndGguanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL2xvZGFzaC1ucG0tNC4xNy4yMS02MzgyNDUxNTE5LTkuemlwL25vZGVfbW9kdWxlcy9sb2Rhc2gvaXNBcnJheUxpa2UuanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL2xvZGFzaC1ucG0tNC4xNy4yMS02MzgyNDUxNTE5LTkuemlwL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2lzSW5kZXguanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL2xvZGFzaC1ucG0tNC4xNy4yMS02MzgyNDUxNTE5LTkuemlwL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2lzSXRlcmF0ZWVDYWxsLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9sb2Rhc2gtbnBtLTQuMTcuMjEtNjM4MjQ1MTUxOS05LnppcC9ub2RlX21vZHVsZXMvbG9kYXNoL19jcmVhdGVBc3NpZ25lci5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvbG9kYXNoLW5wbS00LjE3LjIxLTYzODI0NTE1MTktOS56aXAvbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZVRpbWVzLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9sb2Rhc2gtbnBtLTQuMTcuMjEtNjM4MjQ1MTUxOS05LnppcC9ub2RlX21vZHVsZXMvbG9kYXNoL2lzT2JqZWN0TGlrZS5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvbG9kYXNoLW5wbS00LjE3LjIxLTYzODI0NTE1MTktOS56aXAvbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZUlzQXJndW1lbnRzLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9sb2Rhc2gtbnBtLTQuMTcuMjEtNjM4MjQ1MTUxOS05LnppcC9ub2RlX21vZHVsZXMvbG9kYXNoL2lzQXJndW1lbnRzLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9sb2Rhc2gtbnBtLTQuMTcuMjEtNjM4MjQ1MTUxOS05LnppcC9ub2RlX21vZHVsZXMvbG9kYXNoL2lzQXJyYXkuanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL2xvZGFzaC1ucG0tNC4xNy4yMS02MzgyNDUxNTE5LTkuemlwL25vZGVfbW9kdWxlcy9sb2Rhc2gvc3R1YkZhbHNlLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9sb2Rhc2gtbnBtLTQuMTcuMjEtNjM4MjQ1MTUxOS05LnppcC9ub2RlX21vZHVsZXMvbG9kYXNoL2lzQnVmZmVyLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9sb2Rhc2gtbnBtLTQuMTcuMjEtNjM4MjQ1MTUxOS05LnppcC9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlSXNUeXBlZEFycmF5LmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9sb2Rhc2gtbnBtLTQuMTcuMjEtNjM4MjQ1MTUxOS05LnppcC9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlVW5hcnkuanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL2xvZGFzaC1ucG0tNC4xNy4yMS02MzgyNDUxNTE5LTkuemlwL25vZGVfbW9kdWxlcy9sb2Rhc2gvX25vZGVVdGlsLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9sb2Rhc2gtbnBtLTQuMTcuMjEtNjM4MjQ1MTUxOS05LnppcC9ub2RlX21vZHVsZXMvbG9kYXNoL2lzVHlwZWRBcnJheS5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvbG9kYXNoLW5wbS00LjE3LjIxLTYzODI0NTE1MTktOS56aXAvbm9kZV9tb2R1bGVzL2xvZGFzaC9fYXJyYXlMaWtlS2V5cy5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvbG9kYXNoLW5wbS00LjE3LjIxLTYzODI0NTE1MTktOS56aXAvbm9kZV9tb2R1bGVzL2xvZGFzaC9faXNQcm90b3R5cGUuanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL2xvZGFzaC1ucG0tNC4xNy4yMS02MzgyNDUxNTE5LTkuemlwL25vZGVfbW9kdWxlcy9sb2Rhc2gvX25hdGl2ZUtleXNJbi5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvbG9kYXNoLW5wbS00LjE3LjIxLTYzODI0NTE1MTktOS56aXAvbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZUtleXNJbi5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvbG9kYXNoLW5wbS00LjE3LjIxLTYzODI0NTE1MTktOS56aXAvbm9kZV9tb2R1bGVzL2xvZGFzaC9rZXlzSW4uanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL2xvZGFzaC1ucG0tNC4xNy4yMS02MzgyNDUxNTE5LTkuemlwL25vZGVfbW9kdWxlcy9sb2Rhc2gvYXNzaWduSW5XaXRoLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9sb2Rhc2gtbnBtLTQuMTcuMjEtNjM4MjQ1MTUxOS05LnppcC9ub2RlX21vZHVsZXMvbG9kYXNoL19vdmVyQXJnLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9sb2Rhc2gtbnBtLTQuMTcuMjEtNjM4MjQ1MTUxOS05LnppcC9ub2RlX21vZHVsZXMvbG9kYXNoL19nZXRQcm90b3R5cGUuanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL2xvZGFzaC1ucG0tNC4xNy4yMS02MzgyNDUxNTE5LTkuemlwL25vZGVfbW9kdWxlcy9sb2Rhc2gvaXNQbGFpbk9iamVjdC5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvbG9kYXNoLW5wbS00LjE3LjIxLTYzODI0NTE1MTktOS56aXAvbm9kZV9tb2R1bGVzL2xvZGFzaC9pc0Vycm9yLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9sb2Rhc2gtbnBtLTQuMTcuMjEtNjM4MjQ1MTUxOS05LnppcC9ub2RlX21vZHVsZXMvbG9kYXNoL2F0dGVtcHQuanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL2xvZGFzaC1ucG0tNC4xNy4yMS02MzgyNDUxNTE5LTkuemlwL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2FycmF5TWFwLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9sb2Rhc2gtbnBtLTQuMTcuMjEtNjM4MjQ1MTUxOS05LnppcC9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlVmFsdWVzLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9sb2Rhc2gtbnBtLTQuMTcuMjEtNjM4MjQ1MTUxOS05LnppcC9ub2RlX21vZHVsZXMvbG9kYXNoL19jdXN0b21EZWZhdWx0c0Fzc2lnbkluLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9sb2Rhc2gtbnBtLTQuMTcuMjEtNjM4MjQ1MTUxOS05LnppcC9ub2RlX21vZHVsZXMvbG9kYXNoL19lc2NhcGVTdHJpbmdDaGFyLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9sb2Rhc2gtbnBtLTQuMTcuMjEtNjM4MjQ1MTUxOS05LnppcC9ub2RlX21vZHVsZXMvbG9kYXNoL19uYXRpdmVLZXlzLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9sb2Rhc2gtbnBtLTQuMTcuMjEtNjM4MjQ1MTUxOS05LnppcC9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlS2V5cy5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvbG9kYXNoLW5wbS00LjE3LjIxLTYzODI0NTE1MTktOS56aXAvbm9kZV9tb2R1bGVzL2xvZGFzaC9rZXlzLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9sb2Rhc2gtbnBtLTQuMTcuMjEtNjM4MjQ1MTUxOS05LnppcC9ub2RlX21vZHVsZXMvbG9kYXNoL19yZUludGVycG9sYXRlLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9sb2Rhc2gtbnBtLTQuMTcuMjEtNjM4MjQ1MTUxOS05LnppcC9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlUHJvcGVydHlPZi5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvbG9kYXNoLW5wbS00LjE3LjIxLTYzODI0NTE1MTktOS56aXAvbm9kZV9tb2R1bGVzL2xvZGFzaC9fZXNjYXBlSHRtbENoYXIuanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL2xvZGFzaC1ucG0tNC4xNy4yMS02MzgyNDUxNTE5LTkuemlwL25vZGVfbW9kdWxlcy9sb2Rhc2gvaXNTeW1ib2wuanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL2xvZGFzaC1ucG0tNC4xNy4yMS02MzgyNDUxNTE5LTkuemlwL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VUb1N0cmluZy5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvbG9kYXNoLW5wbS00LjE3LjIxLTYzODI0NTE1MTktOS56aXAvbm9kZV9tb2R1bGVzL2xvZGFzaC90b1N0cmluZy5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvbG9kYXNoLW5wbS00LjE3LjIxLTYzODI0NTE1MTktOS56aXAvbm9kZV9tb2R1bGVzL2xvZGFzaC9lc2NhcGUuanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL2xvZGFzaC1ucG0tNC4xNy4yMS02MzgyNDUxNTE5LTkuemlwL25vZGVfbW9kdWxlcy9sb2Rhc2gvX3JlRXNjYXBlLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9sb2Rhc2gtbnBtLTQuMTcuMjEtNjM4MjQ1MTUxOS05LnppcC9ub2RlX21vZHVsZXMvbG9kYXNoL19yZUV2YWx1YXRlLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9sb2Rhc2gtbnBtLTQuMTcuMjEtNjM4MjQ1MTUxOS05LnppcC9ub2RlX21vZHVsZXMvbG9kYXNoL3RlbXBsYXRlU2V0dGluZ3MuanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL2xvZGFzaC1ucG0tNC4xNy4yMS02MzgyNDUxNTE5LTkuemlwL25vZGVfbW9kdWxlcy9sb2Rhc2gvdGVtcGxhdGUuanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL2dpdC1yYXctY29tbWl0cy1ucG0tMi4wLjExLWIwOTBmMmY2ODQtOS56aXAvbm9kZV9tb2R1bGVzL2dpdC1yYXctY29tbWl0cy9pbmRleC5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvcS1ucG0tMS41LjEtYTI4YjNjZmVhZi05LnppcC9ub2RlX21vZHVsZXMvcS9xLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9jb252ZW50aW9uYWwtcmVjb21tZW5kZWQtYnVtcC1ucG0tNi4xLjAtMThhNmRiMGNlOS05LnppcC9ub2RlX21vZHVsZXMvY29udmVudGlvbmFsLXJlY29tbWVuZGVkLWJ1bXAvcHJlc2V0LXJlc29sdmVyLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9jb252ZW50aW9uYWwtcmVjb21tZW5kZWQtYnVtcC1ucG0tNi4xLjAtMThhNmRiMGNlOS05LnppcC9ub2RlX21vZHVsZXMvY29udmVudGlvbmFsLXJlY29tbWVuZGVkLWJ1bXAvaW5kZXguanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxL2dpdGh1Yi95YXJuLXBsdWdpbnMvLnlhcm4vdW5wbHVnZ2VkL2NvbnZlbnRpb25hbC1jaGFuZ2Vsb2ctY29udmVudGlvbmFsY29tbWl0cy1ucG0tNS4wLjAtYTI3MDIwMmZlOC9ub2RlX21vZHVsZXMvY29udmVudGlvbmFsLWNoYW5nZWxvZy1jb252ZW50aW9uYWxjb21taXRzL3BhcnNlci1vcHRzLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS9naXRodWIveWFybi1wbHVnaW5zLy55YXJuL3VucGx1Z2dlZC9jb252ZW50aW9uYWwtY2hhbmdlbG9nLWNvbnZlbnRpb25hbGNvbW1pdHMtbnBtLTUuMC4wLWEyNzAyMDJmZTgvbm9kZV9tb2R1bGVzL2NvbnZlbnRpb25hbC1jaGFuZ2Vsb2ctY29udmVudGlvbmFsY29tbWl0cy9hZGQtYmFuZy1ub3Rlcy5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvYXJyYXktaWZ5LW5wbS0xLjAuMC1lMDlhMzcxOTc3LTkuemlwL25vZGVfbW9kdWxlcy9hcnJheS1pZnkvaW5kZXguanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL2lzLW9iai1ucG0tMi4wLjAtM2Q5NWUwNTNmNC05LnppcC9ub2RlX21vZHVsZXMvaXMtb2JqL2luZGV4LmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9kb3QtcHJvcC1ucG0tNS4zLjAtN2JmNmVlMWViOC05LnppcC9ub2RlX21vZHVsZXMvZG90LXByb3AvaW5kZXguanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL2NvbXBhcmUtZnVuYy1ucG0tMi4wLjAtOWNkNzg1MmYyMy05LnppcC9ub2RlX21vZHVsZXMvY29tcGFyZS1mdW5jL2luZGV4LmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS9naXRodWIveWFybi1wbHVnaW5zLy55YXJuL3VucGx1Z2dlZC9jb252ZW50aW9uYWwtY2hhbmdlbG9nLWNvbnZlbnRpb25hbGNvbW1pdHMtbnBtLTUuMC4wLWEyNzAyMDJmZTgvbm9kZV9tb2R1bGVzL2NvbnZlbnRpb25hbC1jaGFuZ2Vsb2ctY29udmVudGlvbmFsY29tbWl0cy93cml0ZXItb3B0cy5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvZ2l0aHViL3lhcm4tcGx1Z2lucy8ueWFybi91bnBsdWdnZWQvY29udmVudGlvbmFsLWNoYW5nZWxvZy1jb252ZW50aW9uYWxjb21taXRzLW5wbS01LjAuMC1hMjcwMjAyZmU4L25vZGVfbW9kdWxlcy9jb252ZW50aW9uYWwtY2hhbmdlbG9nLWNvbnZlbnRpb25hbGNvbW1pdHMvY29udmVudGlvbmFsLWNoYW5nZWxvZy5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvZ2l0aHViL3lhcm4tcGx1Z2lucy8ueWFybi91bnBsdWdnZWQvY29udmVudGlvbmFsLWNoYW5nZWxvZy1jb252ZW50aW9uYWxjb21taXRzLW5wbS01LjAuMC1hMjcwMjAyZmU4L25vZGVfbW9kdWxlcy9jb252ZW50aW9uYWwtY2hhbmdlbG9nLWNvbnZlbnRpb25hbGNvbW1pdHMvY29udmVudGlvbmFsLXJlY29tbWVuZGVkLWJ1bXAuanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxL2dpdGh1Yi95YXJuLXBsdWdpbnMvLnlhcm4vdW5wbHVnZ2VkL2NvbnZlbnRpb25hbC1jaGFuZ2Vsb2ctY29udmVudGlvbmFsY29tbWl0cy1ucG0tNS4wLjAtYTI3MDIwMmZlOC9ub2RlX21vZHVsZXMvY29udmVudGlvbmFsLWNoYW5nZWxvZy1jb252ZW50aW9uYWxjb21taXRzL2luZGV4LmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9hZGQtc3RyZWFtLW5wbS0xLjAuMC1hNWEwYzA0OThjLTkuemlwL25vZGVfbW9kdWxlcy9hZGQtc3RyZWFtL2luZGV4LmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9kYXRlZm9ybWF0LW5wbS0zLjAuMy1lZDAyZTVkZGJkLTkuemlwL25vZGVfbW9kdWxlcy9kYXRlZm9ybWF0L2xpYi9kYXRlZm9ybWF0LmpzIiwgIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL3V0aWxzLmpzIiwgIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2V4Y2VwdGlvbi5qcyIsICIuLi8uLi8uLi8uLi9saWIvaGFuZGxlYmFycy9oZWxwZXJzL2Jsb2NrLWhlbHBlci1taXNzaW5nLmpzIiwgIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2hlbHBlcnMvZWFjaC5qcyIsICIuLi8uLi8uLi8uLi9saWIvaGFuZGxlYmFycy9oZWxwZXJzL2hlbHBlci1taXNzaW5nLmpzIiwgIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2hlbHBlcnMvaWYuanMiLCAiLi4vLi4vLi4vLi4vbGliL2hhbmRsZWJhcnMvaGVscGVycy9sb2cuanMiLCAiLi4vLi4vLi4vLi4vbGliL2hhbmRsZWJhcnMvaGVscGVycy9sb29rdXAuanMiLCAiLi4vLi4vLi4vLi4vbGliL2hhbmRsZWJhcnMvaGVscGVycy93aXRoLmpzIiwgIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2hlbHBlcnMuanMiLCAiLi4vLi4vLi4vLi4vbGliL2hhbmRsZWJhcnMvZGVjb3JhdG9ycy9pbmxpbmUuanMiLCAiLi4vLi4vLi4vbGliL2hhbmRsZWJhcnMvZGVjb3JhdG9ycy5qcyIsICIuLi8uLi8uLi9saWIvaGFuZGxlYmFycy9sb2dnZXIuanMiLCAiLi4vLi4vLi4vLi4vbGliL2hhbmRsZWJhcnMvaW50ZXJuYWwvY3JlYXRlLW5ldy1sb29rdXAtb2JqZWN0LmpzIiwgIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2ludGVybmFsL3Byb3RvLWFjY2Vzcy5qcyIsICIuLi8uLi8uLi9saWIvaGFuZGxlYmFycy9iYXNlLmpzIiwgIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL3NhZmUtc3RyaW5nLmpzIiwgIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2ludGVybmFsL3dyYXBIZWxwZXIuanMiLCAiLi4vLi4vLi4vbGliL2hhbmRsZWJhcnMvcnVudGltZS5qcyIsICIuLi8uLi8uLi9saWIvaGFuZGxlYmFycy9uby1jb25mbGljdC5qcyIsICIuLi8uLi9saWIvaGFuZGxlYmFycy5ydW50aW1lLmpzIiwgIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2NvbXBpbGVyL2FzdC5qcyIsICIuLi8uLi8uLi8uLi9saWIvaGFuZGxlYmFycy9jb21waWxlci9wYXJzZXIuanMiLCAiLi4vLi4vLi4vLi4vbGliL2hhbmRsZWJhcnMvY29tcGlsZXIvdmlzaXRvci5qcyIsICIuLi8uLi8uLi8uLi9saWIvaGFuZGxlYmFycy9jb21waWxlci93aGl0ZXNwYWNlLWNvbnRyb2wuanMiLCAiLi4vLi4vLi4vLi4vbGliL2hhbmRsZWJhcnMvY29tcGlsZXIvaGVscGVycy5qcyIsICIuLi8uLi8uLi8uLi9saWIvaGFuZGxlYmFycy9jb21waWxlci9iYXNlLmpzIiwgIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2NvbXBpbGVyL2NvbXBpbGVyLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9zb3VyY2UtbWFwLW5wbS0wLjYuMS0xYTM2MjFkYjE2LTkuemlwL25vZGVfbW9kdWxlcy9zb3VyY2UtbWFwL2xpYi9iYXNlNjQuanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL3NvdXJjZS1tYXAtbnBtLTAuNi4xLTFhMzYyMWRiMTYtOS56aXAvbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAvbGliL2Jhc2U2NC12bHEuanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL3NvdXJjZS1tYXAtbnBtLTAuNi4xLTFhMzYyMWRiMTYtOS56aXAvbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAvbGliL3V0aWwuanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL3NvdXJjZS1tYXAtbnBtLTAuNi4xLTFhMzYyMWRiMTYtOS56aXAvbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAvbGliL2FycmF5LXNldC5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvc291cmNlLW1hcC1ucG0tMC42LjEtMWEzNjIxZGIxNi05LnppcC9ub2RlX21vZHVsZXMvc291cmNlLW1hcC9saWIvbWFwcGluZy1saXN0LmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9zb3VyY2UtbWFwLW5wbS0wLjYuMS0xYTM2MjFkYjE2LTkuemlwL25vZGVfbW9kdWxlcy9zb3VyY2UtbWFwL2xpYi9zb3VyY2UtbWFwLWdlbmVyYXRvci5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvc291cmNlLW1hcC1ucG0tMC42LjEtMWEzNjIxZGIxNi05LnppcC9ub2RlX21vZHVsZXMvc291cmNlLW1hcC9saWIvYmluYXJ5LXNlYXJjaC5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvc291cmNlLW1hcC1ucG0tMC42LjEtMWEzNjIxZGIxNi05LnppcC9ub2RlX21vZHVsZXMvc291cmNlLW1hcC9saWIvcXVpY2stc29ydC5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvc291cmNlLW1hcC1ucG0tMC42LjEtMWEzNjIxZGIxNi05LnppcC9ub2RlX21vZHVsZXMvc291cmNlLW1hcC9saWIvc291cmNlLW1hcC1jb25zdW1lci5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvc291cmNlLW1hcC1ucG0tMC42LjEtMWEzNjIxZGIxNi05LnppcC9ub2RlX21vZHVsZXMvc291cmNlLW1hcC9saWIvc291cmNlLW5vZGUuanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL3NvdXJjZS1tYXAtbnBtLTAuNi4xLTFhMzYyMWRiMTYtOS56aXAvbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAvc291cmNlLW1hcC5qcyIsICIuLi8uLi8uLi8uLi9saWIvaGFuZGxlYmFycy9jb21waWxlci9jb2RlLWdlbi5qcyIsICIuLi8uLi8uLi8uLi9saWIvaGFuZGxlYmFycy9jb21waWxlci9qYXZhc2NyaXB0LWNvbXBpbGVyLmpzIiwgIi4uLy4uL2xpYi9oYW5kbGViYXJzLmpzIiwgIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2NvbXBpbGVyL3ByaW50ZXIuanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL2hhbmRsZWJhcnMtbnBtLTQuNy43LWE5Y2NmYWJmODAtOS56aXAvbm9kZV9tb2R1bGVzL2hhbmRsZWJhcnMvbGliL2luZGV4LmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9qc29uLXN0cmluZ2lmeS1zYWZlLW5wbS01LjAuMS0wNjRkZGQ2YWI0LTkuemlwL25vZGVfbW9kdWxlcy9qc29uLXN0cmluZ2lmeS1zYWZlL3N0cmluZ2lmeS5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvY29udmVudGlvbmFsLWNoYW5nZWxvZy13cml0ZXItbnBtLTUuMC4xLWM3ZDhmNDEzMmYtOS56aXAvbm9kZV9tb2R1bGVzL2NvbnZlbnRpb25hbC1jaGFuZ2Vsb2ctd3JpdGVyL2xpYi91dGlsLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9jb252ZW50aW9uYWwtY2hhbmdlbG9nLXdyaXRlci1ucG0tNS4wLjEtYzdkOGY0MTMyZi05LnppcC9ub2RlX21vZHVsZXMvY29udmVudGlvbmFsLWNoYW5nZWxvZy13cml0ZXIvaW5kZXguanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL2hvc3RlZC1naXQtaW5mby1ucG0tNC4xLjAtNGVmY2RmOGZkMy05LnppcC9ub2RlX21vZHVsZXMvaG9zdGVkLWdpdC1pbmZvL2dpdC1ob3N0LWluZm8uanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL2hvc3RlZC1naXQtaW5mby1ucG0tNC4xLjAtNGVmY2RmOGZkMy05LnppcC9ub2RlX21vZHVsZXMvaG9zdGVkLWdpdC1pbmZvL2dpdC1ob3N0LmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS95YWxsaXN0LW5wbS00LjAuMC1iNDkzZDllOTA3LTkuemlwL25vZGVfbW9kdWxlcy95YWxsaXN0L2l0ZXJhdG9yLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS95YWxsaXN0LW5wbS00LjAuMC1iNDkzZDllOTA3LTkuemlwL25vZGVfbW9kdWxlcy95YWxsaXN0L3lhbGxpc3QuanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL2xydS1jYWNoZS1ucG0tNi4wLjAtYjRjODY2OGZlMS05LnppcC9ub2RlX21vZHVsZXMvbHJ1LWNhY2hlL2luZGV4LmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9ob3N0ZWQtZ2l0LWluZm8tbnBtLTQuMS4wLTRlZmNkZjhmZDMtOS56aXAvbm9kZV9tb2R1bGVzL2hvc3RlZC1naXQtaW5mby9pbmRleC5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvQGh1dHNvbi1wYXJzZS1yZXBvc2l0b3J5LXVybC1ucG0tMy4wLjItYWU1ZWYxYjY3MS05LnppcC9ub2RlX21vZHVsZXMvQGh1dHNvbi9wYXJzZS1yZXBvc2l0b3J5LXVybC9zcmMvaW5kZXguanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL2dldC1wa2ctcmVwby1ucG0tNC4yLjEtYjFjZDA1MmNiNC05LnppcC9ub2RlX21vZHVsZXMvZ2V0LXBrZy1yZXBvL3NyYy9pbmRleC5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvc2VtdmVyLW5wbS03LjMuNy0zYmZlNzA0MTk0LTkuemlwL25vZGVfbW9kdWxlcy9zZW12ZXIvaW50ZXJuYWwvY29uc3RhbnRzLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9zZW12ZXItbnBtLTcuMy43LTNiZmU3MDQxOTQtOS56aXAvbm9kZV9tb2R1bGVzL3NlbXZlci9pbnRlcm5hbC9kZWJ1Zy5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvc2VtdmVyLW5wbS03LjMuNy0zYmZlNzA0MTk0LTkuemlwL25vZGVfbW9kdWxlcy9zZW12ZXIvaW50ZXJuYWwvcmUuanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL3NlbXZlci1ucG0tNy4zLjctM2JmZTcwNDE5NC05LnppcC9ub2RlX21vZHVsZXMvc2VtdmVyL2ludGVybmFsL3BhcnNlLW9wdGlvbnMuanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL3NlbXZlci1ucG0tNy4zLjctM2JmZTcwNDE5NC05LnppcC9ub2RlX21vZHVsZXMvc2VtdmVyL2ludGVybmFsL2lkZW50aWZpZXJzLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9zZW12ZXItbnBtLTcuMy43LTNiZmU3MDQxOTQtOS56aXAvbm9kZV9tb2R1bGVzL3NlbXZlci9jbGFzc2VzL3NlbXZlci5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvc2VtdmVyLW5wbS03LjMuNy0zYmZlNzA0MTk0LTkuemlwL25vZGVfbW9kdWxlcy9zZW12ZXIvZnVuY3Rpb25zL3BhcnNlLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9zZW12ZXItbnBtLTcuMy43LTNiZmU3MDQxOTQtOS56aXAvbm9kZV9tb2R1bGVzL3NlbXZlci9mdW5jdGlvbnMvdmFsaWQuanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL3NlbXZlci1ucG0tNy4zLjctM2JmZTcwNDE5NC05LnppcC9ub2RlX21vZHVsZXMvc2VtdmVyL2Z1bmN0aW9ucy9jbGVhbi5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvc3BkeC1leHByZXNzaW9uLXBhcnNlLW5wbS0zLjAuMS1iNzE4Y2JiMzVhLTkuemlwL25vZGVfbW9kdWxlcy9zcGR4LWV4cHJlc3Npb24tcGFyc2Uvc2Nhbi5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvc3BkeC1leHByZXNzaW9uLXBhcnNlLW5wbS0zLjAuMS1iNzE4Y2JiMzVhLTkuemlwL25vZGVfbW9kdWxlcy9zcGR4LWV4cHJlc3Npb24tcGFyc2UvcGFyc2UuanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL3NwZHgtZXhwcmVzc2lvbi1wYXJzZS1ucG0tMy4wLjEtYjcxOGNiYjM1YS05LnppcC9ub2RlX21vZHVsZXMvc3BkeC1leHByZXNzaW9uLXBhcnNlL2luZGV4LmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9zcGR4LWNvcnJlY3QtbnBtLTMuMS4xLTQ3ZjU3NGMyN2EtOS56aXAvbm9kZV9tb2R1bGVzL3NwZHgtY29ycmVjdC9pbmRleC5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvdmFsaWRhdGUtbnBtLXBhY2thZ2UtbGljZW5zZS1ucG0tMy4wLjQtN2FmOGFkYzdhOC05LnppcC9ub2RlX21vZHVsZXMvdmFsaWRhdGUtbnBtLXBhY2thZ2UtbGljZW5zZS9pbmRleC5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvZnVuY3Rpb24tYmluZC1ucG0tMS4xLjEtYjU2YjMyMmFlOS05LnppcC9ub2RlX21vZHVsZXMvZnVuY3Rpb24tYmluZC9pbXBsZW1lbnRhdGlvbi5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvZnVuY3Rpb24tYmluZC1ucG0tMS4xLjEtYjU2YjMyMmFlOS05LnppcC9ub2RlX21vZHVsZXMvZnVuY3Rpb24tYmluZC9pbmRleC5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvaGFzLW5wbS0xLjAuMy1iN2YwMDYzMWMxLTkuemlwL25vZGVfbW9kdWxlcy9oYXMvc3JjL2luZGV4LmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9pcy1jb3JlLW1vZHVsZS1ucG0tMi45LjAtNWJhNzdjMzVhZS05LnppcC9ub2RlX21vZHVsZXMvaXMtY29yZS1tb2R1bGUvaW5kZXguanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL25vcm1hbGl6ZS1wYWNrYWdlLWRhdGEtbnBtLTMuMC4zLTFhNDkwNTY2ODUtOS56aXAvbm9kZV9tb2R1bGVzL25vcm1hbGl6ZS1wYWNrYWdlLWRhdGEvbGliL2V4dHJhY3RfZGVzY3JpcHRpb24uanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL25vcm1hbGl6ZS1wYWNrYWdlLWRhdGEtbnBtLTMuMC4zLTFhNDkwNTY2ODUtOS56aXAvbm9kZV9tb2R1bGVzL25vcm1hbGl6ZS1wYWNrYWdlLWRhdGEvbGliL2ZpeGVyLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9ub3JtYWxpemUtcGFja2FnZS1kYXRhLW5wbS0zLjAuMy0xYTQ5MDU2Njg1LTkuemlwL25vZGVfbW9kdWxlcy9ub3JtYWxpemUtcGFja2FnZS1kYXRhL2xpYi9tYWtlX3dhcm5pbmcuanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL25vcm1hbGl6ZS1wYWNrYWdlLWRhdGEtbnBtLTMuMC4zLTFhNDkwNTY2ODUtOS56aXAvbm9kZV9tb2R1bGVzL25vcm1hbGl6ZS1wYWNrYWdlLWRhdGEvbGliL25vcm1hbGl6ZS5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvaW5pLW5wbS0xLjMuOC1mYjUwNDBiNGMwLTkuemlwL25vZGVfbW9kdWxlcy9pbmkvaW5pLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9naXRjb25maWdsb2NhbC1ucG0tMS4wLjAtOTA1OTcwMzc5ZC05LnppcC9ub2RlX21vZHVsZXMvZ2l0Y29uZmlnbG9jYWwvaW5kZXguanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL3BpZnktbnBtLTIuMy4wLThiNjMzMTA5MzQtOS56aXAvbm9kZV9tb2R1bGVzL3BpZnkvaW5kZXguanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL2dpdC1yZW1vdGUtb3JpZ2luLXVybC1ucG0tMi4wLjAtMzE5ZGViZTBkMS05LnppcC9ub2RlX21vZHVsZXMvZ2l0LXJlbW90ZS1vcmlnaW4tdXJsL2luZGV4LmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9ncmFjZWZ1bC1mcy1ucG0tNC4yLjEwLTc5YzcwOTg5Y2EtOS56aXAvbm9kZV9tb2R1bGVzL2dyYWNlZnVsLWZzL3BvbHlmaWxscy5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvZ3JhY2VmdWwtZnMtbnBtLTQuMi4xMC03OWM3MDk4OWNhLTkuemlwL25vZGVfbW9kdWxlcy9ncmFjZWZ1bC1mcy9sZWdhY3ktc3RyZWFtcy5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvZ3JhY2VmdWwtZnMtbnBtLTQuMi4xMC03OWM3MDk4OWNhLTkuemlwL25vZGVfbW9kdWxlcy9ncmFjZWZ1bC1mcy9jbG9uZS5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvZ3JhY2VmdWwtZnMtbnBtLTQuMi4xMC03OWM3MDk4OWNhLTkuemlwL25vZGVfbW9kdWxlcy9ncmFjZWZ1bC1mcy9ncmFjZWZ1bC1mcy5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvc3RyaXAtYm9tLW5wbS0zLjAuMC03MWU4ZjgxZmY5LTkuemlwL25vZGVfbW9kdWxlcy9zdHJpcC1ib20vaW5kZXguanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL2lzLWFycmF5aXNoLW5wbS0wLjIuMS0yMzkyN2RmYjE1LTkuemlwL25vZGVfbW9kdWxlcy9pcy1hcnJheWlzaC9pbmRleC5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvZXJyb3ItZXgtbnBtLTEuMy4yLTU2NTRmODBjMGYtOS56aXAvbm9kZV9tb2R1bGVzL2Vycm9yLWV4L2luZGV4LmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9qc29uLXBhcnNlLWJldHRlci1lcnJvcnMtbnBtLTEuMC4yLTdmMzc2MzdkMTktOS56aXAvbm9kZV9tb2R1bGVzL2pzb24tcGFyc2UtYmV0dGVyLWVycm9ycy9pbmRleC5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvcGFyc2UtanNvbi1ucG0tNC4wLjAtYTZmNzc3MTAxMC05LnppcC9ub2RlX21vZHVsZXMvcGFyc2UtanNvbi9pbmRleC5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvcGlmeS1ucG0tMy4wLjAtNjc5ZWU0MDVjOC05LnppcC9ub2RlX21vZHVsZXMvcGlmeS9pbmRleC5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvbG9hZC1qc29uLWZpbGUtbnBtLTQuMC4wLWM5ZjA5ZDg1ZWItOS56aXAvbm9kZV9tb2R1bGVzL2xvYWQtanNvbi1maWxlL2luZGV4LmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9wYXRoLXR5cGUtbnBtLTMuMC4wLTI1MjM2MWEwZWItOS56aXAvbm9kZV9tb2R1bGVzL3BhdGgtdHlwZS9pbmRleC5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvaG9zdGVkLWdpdC1pbmZvLW5wbS0yLjguOS02MmM0NGZhOTNmLTkuemlwL25vZGVfbW9kdWxlcy9ob3N0ZWQtZ2l0LWluZm8vZ2l0LWhvc3QtaW5mby5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvaG9zdGVkLWdpdC1pbmZvLW5wbS0yLjguOS02MmM0NGZhOTNmLTkuemlwL25vZGVfbW9kdWxlcy9ob3N0ZWQtZ2l0LWluZm8vZ2l0LWhvc3QuanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL2hvc3RlZC1naXQtaW5mby1ucG0tMi44LjktNjJjNDRmYTkzZi05LnppcC9ub2RlX21vZHVsZXMvaG9zdGVkLWdpdC1pbmZvL2luZGV4LmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9yZXNvbHZlLXBhdGNoLWJjMjZjMjVmYmItOS56aXAvbm9kZV9tb2R1bGVzL3Jlc29sdmUvbGliL2hvbWVkaXIuanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL3Jlc29sdmUtcGF0Y2gtYmMyNmMyNWZiYi05LnppcC9ub2RlX21vZHVsZXMvcmVzb2x2ZS9saWIvY2FsbGVyLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9wYXRoLXBhcnNlLW5wbS0xLjAuNy0wOTU2NDUyN2I3LTkuemlwL25vZGVfbW9kdWxlcy9wYXRoLXBhcnNlL2luZGV4LmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9yZXNvbHZlLXBhdGNoLWJjMjZjMjVmYmItOS56aXAvbm9kZV9tb2R1bGVzL3Jlc29sdmUvbGliL25vZGUtbW9kdWxlcy1wYXRocy5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvcmVzb2x2ZS1wYXRjaC1iYzI2YzI1ZmJiLTkuemlwL25vZGVfbW9kdWxlcy9yZXNvbHZlL2xpYi9ub3JtYWxpemUtb3B0aW9ucy5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvcmVzb2x2ZS1wYXRjaC1iYzI2YzI1ZmJiLTkuemlwL25vZGVfbW9kdWxlcy9yZXNvbHZlL2xpYi9hc3luYy5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvcmVzb2x2ZS1wYXRjaC1iYzI2YzI1ZmJiLTkuemlwL25vZGVfbW9kdWxlcy9yZXNvbHZlL2xpYi9jb3JlLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9yZXNvbHZlLXBhdGNoLWJjMjZjMjVmYmItOS56aXAvbm9kZV9tb2R1bGVzL3Jlc29sdmUvbGliL2lzLWNvcmUuanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL3Jlc29sdmUtcGF0Y2gtYmMyNmMyNWZiYi05LnppcC9ub2RlX21vZHVsZXMvcmVzb2x2ZS9saWIvc3luYy5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvcmVzb2x2ZS1wYXRjaC1iYzI2YzI1ZmJiLTkuemlwL25vZGVfbW9kdWxlcy9yZXNvbHZlL2luZGV4LmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9ub3JtYWxpemUtcGFja2FnZS1kYXRhLW5wbS0yLjUuMC1hZjAzNDVkZWVkLTkuemlwL25vZGVfbW9kdWxlcy9ub3JtYWxpemUtcGFja2FnZS1kYXRhL2xpYi9leHRyYWN0X2Rlc2NyaXB0aW9uLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9ub3JtYWxpemUtcGFja2FnZS1kYXRhLW5wbS0yLjUuMC1hZjAzNDVkZWVkLTkuemlwL25vZGVfbW9kdWxlcy9ub3JtYWxpemUtcGFja2FnZS1kYXRhL2xpYi9maXhlci5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvbm9ybWFsaXplLXBhY2thZ2UtZGF0YS1ucG0tMi41LjAtYWYwMzQ1ZGVlZC05LnppcC9ub2RlX21vZHVsZXMvbm9ybWFsaXplLXBhY2thZ2UtZGF0YS9saWIvbWFrZV93YXJuaW5nLmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9ub3JtYWxpemUtcGFja2FnZS1kYXRhLW5wbS0yLjUuMC1hZjAzNDVkZWVkLTkuemlwL25vZGVfbW9kdWxlcy9ub3JtYWxpemUtcGFja2FnZS1kYXRhL2xpYi9ub3JtYWxpemUuanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL3JlYWQtcGtnLW5wbS0zLjAuMC00MTQ3MTQzNmNiLTkuemlwL25vZGVfbW9kdWxlcy9yZWFkLXBrZy9pbmRleC5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvcGF0aC1leGlzdHMtbnBtLTMuMC4wLWU4MDM3MWFhNjgtOS56aXAvbm9kZV9tb2R1bGVzL3BhdGgtZXhpc3RzL2luZGV4LmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9wLXRyeS1ucG0tMS4wLjAtNzM3MzEzOWU0MC05LnppcC9ub2RlX21vZHVsZXMvcC10cnkvaW5kZXguanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL3AtbGltaXQtbnBtLTEuMy4wLWZkYjQ3MWQ4NjQtOS56aXAvbm9kZV9tb2R1bGVzL3AtbGltaXQvaW5kZXguanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL3AtbG9jYXRlLW5wbS0yLjAuMC0zYTJlZTI2M2RkLTkuemlwL25vZGVfbW9kdWxlcy9wLWxvY2F0ZS9pbmRleC5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvbG9jYXRlLXBhdGgtbnBtLTIuMC4wLTY3M2QyOGIwZWEtOS56aXAvbm9kZV9tb2R1bGVzL2xvY2F0ZS1wYXRoL2luZGV4LmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9maW5kLXVwLW5wbS0yLjEuMC05ZjZjYjE3NjVjLTkuemlwL25vZGVfbW9kdWxlcy9maW5kLXVwL2luZGV4LmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9yZWFkLXBrZy11cC1ucG0tMy4wLjAtM2Q3ZmFmMDQ3Zi05LnppcC9ub2RlX21vZHVsZXMvcmVhZC1wa2ctdXAvaW5kZXguanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL2NvbnZlbnRpb25hbC1jaGFuZ2Vsb2ctY29yZS1ucG0tNC4yLjQtMzUwNzM1ODk0MS05LnppcC9ub2RlX21vZHVsZXMvY29udmVudGlvbmFsLWNoYW5nZWxvZy1jb3JlL2xpYi9tZXJnZS1jb25maWcuanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL2NvbnZlbnRpb25hbC1jaGFuZ2Vsb2ctY29yZS1ucG0tNC4yLjQtMzUwNzM1ODk0MS05LnppcC9ub2RlX21vZHVsZXMvY29udmVudGlvbmFsLWNoYW5nZWxvZy1jb3JlL2luZGV4LmpzIiwgInBucDovVXNlcnMvbHVwbXR1MS8ueWFybi9iZXJyeS9jYWNoZS9jb252ZW50aW9uYWwtY2hhbmdlbG9nLW5wbS0zLjEuMjUtZGZjNjllNjk2Yi05LnppcC9ub2RlX21vZHVsZXMvY29udmVudGlvbmFsLWNoYW5nZWxvZy9pbmRleC5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvbGluZS1yZWFkZXItbnBtLTAuMi40LWM0NzdkZGU4YjktOS56aXAvbm9kZV9tb2R1bGVzL2xpbmUtcmVhZGVyL2xpYi9saW5lX3JlYWRlci5qcyIsICJwbnA6L1VzZXJzL2x1cG10dTEvLnlhcm4vYmVycnkvY2FjaGUvcmVtb3ZlLW1hcmtkb3duLW5wbS0wLjIuMi1lYjhmNDYyZmY5LTkuemlwL25vZGVfbW9kdWxlcy9yZW1vdmUtbWFya2Rvd24vaW5kZXguanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxLy55YXJuL2JlcnJ5L2NhY2hlL2NoYW5nZWxvZy1wYXJzZXItbnBtLTIuOC4xLWQ0MDFiZWY2NTctOS56aXAvbm9kZV9tb2R1bGVzL2NoYW5nZWxvZy1wYXJzZXIvaW5kZXguanMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxL2dpdGh1Yi95YXJuLXBsdWdpbnMvd29ya3NwYWNlcy9wbHVnaW5zL2dpdHZlcnNpb24vc3JjL2luZGV4LnRzIiwgInBucDovVXNlcnMvbHVwbXR1MS9naXRodWIveWFybi1wbHVnaW5zL3dvcmtzcGFjZXMvcGx1Z2lucy9naXR2ZXJzaW9uL3NyYy91dGlscy9jb25maWd1cmF0aW9uLnRzIiwgInBucDovVXNlcnMvbHVwbXR1MS9naXRodWIveWFybi1wbHVnaW5zL3dvcmtzcGFjZXMvcGx1Z2lucy9naXR2ZXJzaW9uL3NyYy90eXBlcy50cyIsICJwbnA6L1VzZXJzL2x1cG10dTEvZ2l0aHViL3lhcm4tcGx1Z2lucy93b3Jrc3BhY2VzL3BsdWdpbnMvZ2l0dmVyc2lvbi9zcmMvdXRpbHMvZXhlYy50cyIsICJwbnA6L1VzZXJzL2x1cG10dTEvZ2l0aHViL3lhcm4tcGx1Z2lucy93b3Jrc3BhY2VzL3BsdWdpbnMvZ2l0dmVyc2lvbi9zcmMvdXRpbHMvZ2l0LnRzIiwgInBucDovVXNlcnMvbHVwbXR1MS9naXRodWIveWFybi1wbHVnaW5zL3dvcmtzcGFjZXMvcGx1Z2lucy9naXR2ZXJzaW9uL3NyYy9jb21tYW5kcy9yZXN0b3JlLnRzIiwgInBucDovVXNlcnMvbHVwbXR1MS9naXRodWIveWFybi1wbHVnaW5zL3dvcmtzcGFjZXMvcGx1Z2lucy9naXR2ZXJzaW9uL3NyYy91dGlscy90YWdzLnRzIiwgInBucDovVXNlcnMvbHVwbXR1MS9naXRodWIveWFybi1wbHVnaW5zL3dvcmtzcGFjZXMvcGx1Z2lucy9naXR2ZXJzaW9uL3NyYy91dGlscy93b3Jrc3BhY2UudHMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxL2dpdGh1Yi95YXJuLXBsdWdpbnMvd29ya3NwYWNlcy9wbHVnaW5zL2dpdHZlcnNpb24vc3JjL3V0aWxzL3JlcG9ydC50cyIsICJwbnA6L1VzZXJzL2x1cG10dTEvZ2l0aHViL3lhcm4tcGx1Z2lucy93b3Jrc3BhY2VzL3BsdWdpbnMvZ2l0dmVyc2lvbi9zcmMvY29tbWFuZHMvcmVzZXQudHMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxL2dpdGh1Yi95YXJuLXBsdWdpbnMvd29ya3NwYWNlcy9wbHVnaW5zL2dpdHZlcnNpb24vc3JjL2NvbW1hbmRzL2J1bXAudHMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxL2dpdGh1Yi95YXJuLXBsdWdpbnMvd29ya3NwYWNlcy9wbHVnaW5zL2dpdHZlcnNpb24vc3JjL3V0aWxzL3N0YW5kYXJkLXZlcnNpb24udHMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxL2dpdGh1Yi95YXJuLXBsdWdpbnMvd29ya3NwYWNlcy9wbHVnaW5zL2dpdHZlcnNpb24vc3JjL3V0aWxzL2J1bXAudHMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxL2dpdGh1Yi95YXJuLXBsdWdpbnMvd29ya3NwYWNlcy9wbHVnaW5zL2dpdHZlcnNpb24vc3JjL3V0aWxzL2NvbnZlbnRpb25hbGNvbW1pdC50cyIsICJwbnA6L1VzZXJzL2x1cG10dTEvZ2l0aHViL3lhcm4tcGx1Z2lucy93b3Jrc3BhY2VzL3BsdWdpbnMvZ2l0dmVyc2lvbi9zcmMvdXRpbHMvY2hhbmdlbG9nLnRzIiwgInBucDovVXNlcnMvbHVwbXR1MS9naXRodWIveWFybi1wbHVnaW5zL3dvcmtzcGFjZXMvcGx1Z2lucy9naXR2ZXJzaW9uL3NyYy9jb21tYW5kcy9wdWJsaXNoLnRzIiwgInBucDovVXNlcnMvbHVwbXR1MS9naXRodWIveWFybi1wbHVnaW5zL3dvcmtzcGFjZXMvcGx1Z2lucy9naXR2ZXJzaW9uL3NyYy9jb21tYW5kcy90YWcudHMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxL2dpdGh1Yi95YXJuLXBsdWdpbnMvd29ya3NwYWNlcy9wbHVnaW5zL2dpdHZlcnNpb24vc3JjL2NvbW1hbmRzL2NvbW1pdC50cyIsICJwbnA6L1VzZXJzL2x1cG10dTEvZ2l0aHViL3lhcm4tcGx1Z2lucy93b3Jrc3BhY2VzL3BsdWdpbnMvZ2l0dmVyc2lvbi9zcmMvY29tbWFuZHMvY2hlY2sudHMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxL2dpdGh1Yi95YXJuLXBsdWdpbnMvd29ya3NwYWNlcy9wbHVnaW5zL2dpdHZlcnNpb24vc3JjL2NvbW1hbmRzL3BhY2sudHMiLCAicG5wOi9Vc2Vycy9sdXBtdHUxL2dpdGh1Yi95YXJuLXBsdWdpbnMvd29ya3NwYWNlcy9wbHVnaW5zL2dpdHZlcnNpb24vc3JjL3BsdWdpbi50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiLyogZ2xvYmFsIGRlZmluZSAqL1xuKGZ1bmN0aW9uIChyb290LCBmYWN0b3J5KSB7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICBkZWZpbmUoW10sIGZhY3RvcnkpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jykge1xuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuICB9IGVsc2Uge1xuICAgIHJvb3QuY29tcGFyZVZlcnNpb25zID0gZmFjdG9yeSgpO1xuICB9XG59KSh0aGlzLCBmdW5jdGlvbiAoKSB7XG4gIHZhciBzZW12ZXIgPVxuICAgIC9eW3Zefjw+PV0qPyhcXGQrKSg/OlxcLihbeCpdfFxcZCspKD86XFwuKFt4Kl18XFxkKykoPzpcXC4oW3gqXXxcXGQrKSk/KD86LShbXFxkYS16XFwtXSsoPzpcXC5bXFxkYS16XFwtXSspKikpPyg/OlxcK1tcXGRhLXpcXC1dKyg/OlxcLltcXGRhLXpcXC1dKykqKT8pPyk/JC9pO1xuXG4gIGZ1bmN0aW9uIGluZGV4T3JFbmQoc3RyLCBxKSB7XG4gICAgcmV0dXJuIHN0ci5pbmRleE9mKHEpID09PSAtMSA/IHN0ci5sZW5ndGggOiBzdHIuaW5kZXhPZihxKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNwbGl0KHYpIHtcbiAgICB2YXIgYyA9IHYucmVwbGFjZSgvXnYvLCAnJykucmVwbGFjZSgvXFwrLiokLywgJycpO1xuICAgIHZhciBwYXRjaEluZGV4ID0gaW5kZXhPckVuZChjLCAnLScpO1xuICAgIHZhciBhcnIgPSBjLnN1YnN0cmluZygwLCBwYXRjaEluZGV4KS5zcGxpdCgnLicpO1xuICAgIGFyci5wdXNoKGMuc3Vic3RyaW5nKHBhdGNoSW5kZXggKyAxKSk7XG4gICAgcmV0dXJuIGFycjtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRyeVBhcnNlKHYpIHtcbiAgICB2YXIgbiA9IHBhcnNlSW50KHYsIDEwKTtcbiAgICByZXR1cm4gaXNOYU4obikgPyB2IDogbjtcbiAgfVxuXG4gIGZ1bmN0aW9uIHZhbGlkYXRlQW5kUGFyc2Uodikge1xuICAgIGlmICh0eXBlb2YgdiAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgYXJndW1lbnQgZXhwZWN0ZWQgc3RyaW5nJyk7XG4gICAgfVxuICAgIHZhciBtYXRjaCA9IHYubWF0Y2goc2VtdmVyKTtcbiAgICBpZiAoIW1hdGNoKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwiSW52YWxpZCBhcmd1bWVudCBub3QgdmFsaWQgc2VtdmVyICgnXCIgKyB2ICsgXCInIHJlY2VpdmVkKVwiXG4gICAgICApO1xuICAgIH1cbiAgICBtYXRjaC5zaGlmdCgpO1xuICAgIHJldHVybiBtYXRjaDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZvcmNlVHlwZShhLCBiKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBhICE9PSB0eXBlb2YgYiA/IFtTdHJpbmcoYSksIFN0cmluZyhiKV0gOiBbYSwgYl07XG4gIH1cblxuICBmdW5jdGlvbiBjb21wYXJlU3RyaW5ncyhhLCBiKSB7XG4gICAgdmFyIFthcCwgYnBdID0gZm9yY2VUeXBlKHRyeVBhcnNlKGEpLCB0cnlQYXJzZShiKSk7XG4gICAgaWYgKGFwID4gYnApIHJldHVybiAxO1xuICAgIGlmIChhcCA8IGJwKSByZXR1cm4gLTE7XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICBmdW5jdGlvbiBjb21wYXJlU2VnbWVudHMoYSwgYikge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgTWF0aC5tYXgoYS5sZW5ndGgsIGIubGVuZ3RoKTsgaSsrKSB7XG4gICAgICB2YXIgciA9IGNvbXBhcmVTdHJpbmdzKGFbaV0gfHwgMCwgYltpXSB8fCAwKTtcbiAgICAgIGlmIChyICE9PSAwKSByZXR1cm4gcjtcbiAgICB9XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICBmdW5jdGlvbiBjb21wYXJlVmVyc2lvbnModjEsIHYyKSB7XG4gICAgW3YxLCB2Ml0uZm9yRWFjaCh2YWxpZGF0ZUFuZFBhcnNlKTtcblxuICAgIHZhciBzMSA9IHNwbGl0KHYxKTtcbiAgICB2YXIgczIgPSBzcGxpdCh2Mik7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IE1hdGgubWF4KHMxLmxlbmd0aCAtIDEsIHMyLmxlbmd0aCAtIDEpOyBpKyspIHtcbiAgICAgIHZhciBuMSA9IHBhcnNlSW50KHMxW2ldIHx8IDAsIDEwKTtcbiAgICAgIHZhciBuMiA9IHBhcnNlSW50KHMyW2ldIHx8IDAsIDEwKTtcblxuICAgICAgaWYgKG4xID4gbjIpIHJldHVybiAxO1xuICAgICAgaWYgKG4yID4gbjEpIHJldHVybiAtMTtcbiAgICB9XG5cbiAgICB2YXIgc3AxID0gczFbczEubGVuZ3RoIC0gMV07XG4gICAgdmFyIHNwMiA9IHMyW3MyLmxlbmd0aCAtIDFdO1xuXG4gICAgaWYgKHNwMSAmJiBzcDIpIHtcbiAgICAgIHZhciBwMSA9IHNwMS5zcGxpdCgnLicpLm1hcCh0cnlQYXJzZSk7XG4gICAgICB2YXIgcDIgPSBzcDIuc3BsaXQoJy4nKS5tYXAodHJ5UGFyc2UpO1xuXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgTWF0aC5tYXgocDEubGVuZ3RoLCBwMi5sZW5ndGgpOyBpKyspIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHAxW2ldID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAodHlwZW9mIHAyW2ldID09PSAnc3RyaW5nJyAmJiB0eXBlb2YgcDFbaV0gPT09ICdudW1iZXInKVxuICAgICAgICApXG4gICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgcDJbaV0gPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICh0eXBlb2YgcDFbaV0gPT09ICdzdHJpbmcnICYmIHR5cGVvZiBwMltpXSA9PT0gJ251bWJlcicpXG4gICAgICAgIClcbiAgICAgICAgICByZXR1cm4gMTtcblxuICAgICAgICBpZiAocDFbaV0gPiBwMltpXSkgcmV0dXJuIDE7XG4gICAgICAgIGlmIChwMltpXSA+IHAxW2ldKSByZXR1cm4gLTE7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChzcDEgfHwgc3AyKSB7XG4gICAgICByZXR1cm4gc3AxID8gLTEgOiAxO1xuICAgIH1cblxuICAgIHJldHVybiAwO1xuICB9XG5cbiAgdmFyIGFsbG93ZWRPcGVyYXRvcnMgPSBbJz4nLCAnPj0nLCAnPScsICc8JywgJzw9J107XG5cbiAgdmFyIG9wZXJhdG9yUmVzTWFwID0ge1xuICAgICc+JzogWzFdLFxuICAgICc+PSc6IFswLCAxXSxcbiAgICAnPSc6IFswXSxcbiAgICAnPD0nOiBbLTEsIDBdLFxuICAgICc8JzogWy0xXSxcbiAgfTtcblxuICBmdW5jdGlvbiB2YWxpZGF0ZU9wZXJhdG9yKG9wKSB7XG4gICAgaWYgKHR5cGVvZiBvcCAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgICdJbnZhbGlkIG9wZXJhdG9yIHR5cGUsIGV4cGVjdGVkIHN0cmluZyBidXQgZ290ICcgKyB0eXBlb2Ygb3BcbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChhbGxvd2VkT3BlcmF0b3JzLmluZGV4T2Yob3ApID09PSAtMSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICAgJ0ludmFsaWQgb3BlcmF0b3IsIGV4cGVjdGVkIG9uZSBvZiAnICsgYWxsb3dlZE9wZXJhdG9ycy5qb2luKCd8JylcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgY29tcGFyZVZlcnNpb25zLnZhbGlkYXRlID0gZnVuY3Rpb24gKHZlcnNpb24pIHtcbiAgICByZXR1cm4gdHlwZW9mIHZlcnNpb24gPT09ICdzdHJpbmcnICYmIHNlbXZlci50ZXN0KHZlcnNpb24pO1xuICB9O1xuXG4gIGNvbXBhcmVWZXJzaW9ucy5jb21wYXJlID0gZnVuY3Rpb24gKHYxLCB2Miwgb3BlcmF0b3IpIHtcbiAgICAvLyBWYWxpZGF0ZSBvcGVyYXRvclxuICAgIHZhbGlkYXRlT3BlcmF0b3Iob3BlcmF0b3IpO1xuXG4gICAgLy8gc2luY2UgcmVzdWx0IG9mIGNvbXBhcmVWZXJzaW9ucyBjYW4gb25seSBiZSAtMSBvciAwIG9yIDFcbiAgICAvLyBhIHNpbXBsZSBtYXAgY2FuIGJlIHVzZWQgdG8gcmVwbGFjZSBzd2l0Y2hcbiAgICB2YXIgcmVzID0gY29tcGFyZVZlcnNpb25zKHYxLCB2Mik7XG4gICAgcmV0dXJuIG9wZXJhdG9yUmVzTWFwW29wZXJhdG9yXS5pbmRleE9mKHJlcykgPiAtMTtcbiAgfTtcblxuICBjb21wYXJlVmVyc2lvbnMuc2F0aXNmaWVzID0gZnVuY3Rpb24gKHYsIHIpIHtcbiAgICAvLyBpZiBubyByYW5nZSBvcGVyYXRvciB0aGVuIFwiPVwiXG4gICAgdmFyIG1hdGNoID0gci5tYXRjaCgvXihbPD49fl5dKykvKTtcbiAgICB2YXIgb3AgPSBtYXRjaCA/IG1hdGNoWzFdIDogJz0nO1xuXG4gICAgLy8gaWYgZ3QvbHQvZXEgdGhlbiBvcGVyYXRvciBjb21wYXJlXG4gICAgaWYgKG9wICE9PSAnXicgJiYgb3AgIT09ICd+JykgcmV0dXJuIGNvbXBhcmVWZXJzaW9ucy5jb21wYXJlKHYsIHIsIG9wKTtcblxuICAgIC8vIGVsc2UgcmFuZ2Ugb2YgZWl0aGVyIFwiflwiIG9yIFwiXlwiIGlzIGFzc3VtZWRcbiAgICB2YXIgW3YxLCB2MiwgdjNdID0gdmFsaWRhdGVBbmRQYXJzZSh2KTtcbiAgICB2YXIgW20xLCBtMiwgbTNdID0gdmFsaWRhdGVBbmRQYXJzZShyKTtcbiAgICBpZiAoY29tcGFyZVN0cmluZ3ModjEsIG0xKSAhPT0gMCkgcmV0dXJuIGZhbHNlO1xuICAgIGlmIChvcCA9PT0gJ14nKSB7XG4gICAgICByZXR1cm4gY29tcGFyZVNlZ21lbnRzKFt2MiwgdjNdLCBbbTIsIG0zXSkgPj0gMDtcbiAgICB9XG4gICAgaWYgKGNvbXBhcmVTdHJpbmdzKHYyLCBtMikgIT09IDApIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gY29tcGFyZVN0cmluZ3ModjMsIG0zKSA+PSAwO1xuICB9O1xuXG4gIHJldHVybiBjb21wYXJlVmVyc2lvbnM7XG59KTtcbiIsICJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJ3N0cmVhbScpO1xuIiwgIid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxudmFyIF9yZXF1aXJlID0gcmVxdWlyZSgnYnVmZmVyJyksXG4gICAgQnVmZmVyID0gX3JlcXVpcmUuQnVmZmVyO1xuXG52YXIgX3JlcXVpcmUyID0gcmVxdWlyZSgndXRpbCcpLFxuICAgIGluc3BlY3QgPSBfcmVxdWlyZTIuaW5zcGVjdDtcblxudmFyIGN1c3RvbSA9IGluc3BlY3QgJiYgaW5zcGVjdC5jdXN0b20gfHwgJ2luc3BlY3QnO1xuXG5mdW5jdGlvbiBjb3B5QnVmZmVyKHNyYywgdGFyZ2V0LCBvZmZzZXQpIHtcbiAgQnVmZmVyLnByb3RvdHlwZS5jb3B5LmNhbGwoc3JjLCB0YXJnZXQsIG9mZnNldCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gQnVmZmVyTGlzdCgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQnVmZmVyTGlzdCk7XG5cbiAgICB0aGlzLmhlYWQgPSBudWxsO1xuICAgIHRoaXMudGFpbCA9IG51bGw7XG4gICAgdGhpcy5sZW5ndGggPSAwO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKEJ1ZmZlckxpc3QsIFt7XG4gICAga2V5OiBcInB1c2hcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcHVzaCh2KSB7XG4gICAgICB2YXIgZW50cnkgPSB7XG4gICAgICAgIGRhdGE6IHYsXG4gICAgICAgIG5leHQ6IG51bGxcbiAgICAgIH07XG4gICAgICBpZiAodGhpcy5sZW5ndGggPiAwKSB0aGlzLnRhaWwubmV4dCA9IGVudHJ5O2Vsc2UgdGhpcy5oZWFkID0gZW50cnk7XG4gICAgICB0aGlzLnRhaWwgPSBlbnRyeTtcbiAgICAgICsrdGhpcy5sZW5ndGg7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInVuc2hpZnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdW5zaGlmdCh2KSB7XG4gICAgICB2YXIgZW50cnkgPSB7XG4gICAgICAgIGRhdGE6IHYsXG4gICAgICAgIG5leHQ6IHRoaXMuaGVhZFxuICAgICAgfTtcbiAgICAgIGlmICh0aGlzLmxlbmd0aCA9PT0gMCkgdGhpcy50YWlsID0gZW50cnk7XG4gICAgICB0aGlzLmhlYWQgPSBlbnRyeTtcbiAgICAgICsrdGhpcy5sZW5ndGg7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNoaWZ0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNoaWZ0KCkge1xuICAgICAgaWYgKHRoaXMubGVuZ3RoID09PSAwKSByZXR1cm47XG4gICAgICB2YXIgcmV0ID0gdGhpcy5oZWFkLmRhdGE7XG4gICAgICBpZiAodGhpcy5sZW5ndGggPT09IDEpIHRoaXMuaGVhZCA9IHRoaXMudGFpbCA9IG51bGw7ZWxzZSB0aGlzLmhlYWQgPSB0aGlzLmhlYWQubmV4dDtcbiAgICAgIC0tdGhpcy5sZW5ndGg7XG4gICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjbGVhclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjbGVhcigpIHtcbiAgICAgIHRoaXMuaGVhZCA9IHRoaXMudGFpbCA9IG51bGw7XG4gICAgICB0aGlzLmxlbmd0aCA9IDA7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImpvaW5cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gam9pbihzKSB7XG4gICAgICBpZiAodGhpcy5sZW5ndGggPT09IDApIHJldHVybiAnJztcbiAgICAgIHZhciBwID0gdGhpcy5oZWFkO1xuICAgICAgdmFyIHJldCA9ICcnICsgcC5kYXRhO1xuXG4gICAgICB3aGlsZSAocCA9IHAubmV4dCkge1xuICAgICAgICByZXQgKz0gcyArIHAuZGF0YTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY29uY2F0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbmNhdChuKSB7XG4gICAgICBpZiAodGhpcy5sZW5ndGggPT09IDApIHJldHVybiBCdWZmZXIuYWxsb2MoMCk7XG4gICAgICB2YXIgcmV0ID0gQnVmZmVyLmFsbG9jVW5zYWZlKG4gPj4+IDApO1xuICAgICAgdmFyIHAgPSB0aGlzLmhlYWQ7XG4gICAgICB2YXIgaSA9IDA7XG5cbiAgICAgIHdoaWxlIChwKSB7XG4gICAgICAgIGNvcHlCdWZmZXIocC5kYXRhLCByZXQsIGkpO1xuICAgICAgICBpICs9IHAuZGF0YS5sZW5ndGg7XG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXQ7XG4gICAgfSAvLyBDb25zdW1lcyBhIHNwZWNpZmllZCBhbW91bnQgb2YgYnl0ZXMgb3IgY2hhcmFjdGVycyBmcm9tIHRoZSBidWZmZXJlZCBkYXRhLlxuXG4gIH0sIHtcbiAgICBrZXk6IFwiY29uc3VtZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb25zdW1lKG4sIGhhc1N0cmluZ3MpIHtcbiAgICAgIHZhciByZXQ7XG5cbiAgICAgIGlmIChuIDwgdGhpcy5oZWFkLmRhdGEubGVuZ3RoKSB7XG4gICAgICAgIC8vIGBzbGljZWAgaXMgdGhlIHNhbWUgZm9yIGJ1ZmZlcnMgYW5kIHN0cmluZ3MuXG4gICAgICAgIHJldCA9IHRoaXMuaGVhZC5kYXRhLnNsaWNlKDAsIG4pO1xuICAgICAgICB0aGlzLmhlYWQuZGF0YSA9IHRoaXMuaGVhZC5kYXRhLnNsaWNlKG4pO1xuICAgICAgfSBlbHNlIGlmIChuID09PSB0aGlzLmhlYWQuZGF0YS5sZW5ndGgpIHtcbiAgICAgICAgLy8gRmlyc3QgY2h1bmsgaXMgYSBwZXJmZWN0IG1hdGNoLlxuICAgICAgICByZXQgPSB0aGlzLnNoaWZ0KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBSZXN1bHQgc3BhbnMgbW9yZSB0aGFuIG9uZSBidWZmZXIuXG4gICAgICAgIHJldCA9IGhhc1N0cmluZ3MgPyB0aGlzLl9nZXRTdHJpbmcobikgOiB0aGlzLl9nZXRCdWZmZXIobik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImZpcnN0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZpcnN0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuaGVhZC5kYXRhO1xuICAgIH0gLy8gQ29uc3VtZXMgYSBzcGVjaWZpZWQgYW1vdW50IG9mIGNoYXJhY3RlcnMgZnJvbSB0aGUgYnVmZmVyZWQgZGF0YS5cblxuICB9LCB7XG4gICAga2V5OiBcIl9nZXRTdHJpbmdcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2dldFN0cmluZyhuKSB7XG4gICAgICB2YXIgcCA9IHRoaXMuaGVhZDtcbiAgICAgIHZhciBjID0gMTtcbiAgICAgIHZhciByZXQgPSBwLmRhdGE7XG4gICAgICBuIC09IHJldC5sZW5ndGg7XG5cbiAgICAgIHdoaWxlIChwID0gcC5uZXh0KSB7XG4gICAgICAgIHZhciBzdHIgPSBwLmRhdGE7XG4gICAgICAgIHZhciBuYiA9IG4gPiBzdHIubGVuZ3RoID8gc3RyLmxlbmd0aCA6IG47XG4gICAgICAgIGlmIChuYiA9PT0gc3RyLmxlbmd0aCkgcmV0ICs9IHN0cjtlbHNlIHJldCArPSBzdHIuc2xpY2UoMCwgbik7XG4gICAgICAgIG4gLT0gbmI7XG5cbiAgICAgICAgaWYgKG4gPT09IDApIHtcbiAgICAgICAgICBpZiAobmIgPT09IHN0ci5sZW5ndGgpIHtcbiAgICAgICAgICAgICsrYztcbiAgICAgICAgICAgIGlmIChwLm5leHQpIHRoaXMuaGVhZCA9IHAubmV4dDtlbHNlIHRoaXMuaGVhZCA9IHRoaXMudGFpbCA9IG51bGw7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuaGVhZCA9IHA7XG4gICAgICAgICAgICBwLmRhdGEgPSBzdHIuc2xpY2UobmIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgKytjO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmxlbmd0aCAtPSBjO1xuICAgICAgcmV0dXJuIHJldDtcbiAgICB9IC8vIENvbnN1bWVzIGEgc3BlY2lmaWVkIGFtb3VudCBvZiBieXRlcyBmcm9tIHRoZSBidWZmZXJlZCBkYXRhLlxuXG4gIH0sIHtcbiAgICBrZXk6IFwiX2dldEJ1ZmZlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0QnVmZmVyKG4pIHtcbiAgICAgIHZhciByZXQgPSBCdWZmZXIuYWxsb2NVbnNhZmUobik7XG4gICAgICB2YXIgcCA9IHRoaXMuaGVhZDtcbiAgICAgIHZhciBjID0gMTtcbiAgICAgIHAuZGF0YS5jb3B5KHJldCk7XG4gICAgICBuIC09IHAuZGF0YS5sZW5ndGg7XG5cbiAgICAgIHdoaWxlIChwID0gcC5uZXh0KSB7XG4gICAgICAgIHZhciBidWYgPSBwLmRhdGE7XG4gICAgICAgIHZhciBuYiA9IG4gPiBidWYubGVuZ3RoID8gYnVmLmxlbmd0aCA6IG47XG4gICAgICAgIGJ1Zi5jb3B5KHJldCwgcmV0Lmxlbmd0aCAtIG4sIDAsIG5iKTtcbiAgICAgICAgbiAtPSBuYjtcblxuICAgICAgICBpZiAobiA9PT0gMCkge1xuICAgICAgICAgIGlmIChuYiA9PT0gYnVmLmxlbmd0aCkge1xuICAgICAgICAgICAgKytjO1xuICAgICAgICAgICAgaWYgKHAubmV4dCkgdGhpcy5oZWFkID0gcC5uZXh0O2Vsc2UgdGhpcy5oZWFkID0gdGhpcy50YWlsID0gbnVsbDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5oZWFkID0gcDtcbiAgICAgICAgICAgIHAuZGF0YSA9IGJ1Zi5zbGljZShuYik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICArK2M7XG4gICAgICB9XG5cbiAgICAgIHRoaXMubGVuZ3RoIC09IGM7XG4gICAgICByZXR1cm4gcmV0O1xuICAgIH0gLy8gTWFrZSBzdXJlIHRoZSBsaW5rZWQgbGlzdCBvbmx5IHNob3dzIHRoZSBtaW5pbWFsIG5lY2Vzc2FyeSBpbmZvcm1hdGlvbi5cblxuICB9LCB7XG4gICAga2V5OiBjdXN0b20sXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKF8sIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiBpbnNwZWN0KHRoaXMsIF9vYmplY3RTcHJlYWQoe30sIG9wdGlvbnMsIHtcbiAgICAgICAgLy8gT25seSBpbnNwZWN0IG9uZSBsZXZlbC5cbiAgICAgICAgZGVwdGg6IDAsXG4gICAgICAgIC8vIEl0IHNob3VsZCBub3QgcmVjdXJzZS5cbiAgICAgICAgY3VzdG9tSW5zcGVjdDogZmFsc2VcbiAgICAgIH0pKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQnVmZmVyTGlzdDtcbn0oKTsiLCAiJ3VzZSBzdHJpY3QnOyAvLyB1bmRvY3VtZW50ZWQgY2IoKSBBUEksIG5lZWRlZCBmb3IgY29yZSwgbm90IGZvciBwdWJsaWMgQVBJXG5cbmZ1bmN0aW9uIGRlc3Ryb3koZXJyLCBjYikge1xuICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gIHZhciByZWFkYWJsZURlc3Ryb3llZCA9IHRoaXMuX3JlYWRhYmxlU3RhdGUgJiYgdGhpcy5fcmVhZGFibGVTdGF0ZS5kZXN0cm95ZWQ7XG4gIHZhciB3cml0YWJsZURlc3Ryb3llZCA9IHRoaXMuX3dyaXRhYmxlU3RhdGUgJiYgdGhpcy5fd3JpdGFibGVTdGF0ZS5kZXN0cm95ZWQ7XG5cbiAgaWYgKHJlYWRhYmxlRGVzdHJveWVkIHx8IHdyaXRhYmxlRGVzdHJveWVkKSB7XG4gICAgaWYgKGNiKSB7XG4gICAgICBjYihlcnIpO1xuICAgIH0gZWxzZSBpZiAoZXJyKSB7XG4gICAgICBpZiAoIXRoaXMuX3dyaXRhYmxlU3RhdGUpIHtcbiAgICAgICAgcHJvY2Vzcy5uZXh0VGljayhlbWl0RXJyb3JOVCwgdGhpcywgZXJyKTtcbiAgICAgIH0gZWxzZSBpZiAoIXRoaXMuX3dyaXRhYmxlU3RhdGUuZXJyb3JFbWl0dGVkKSB7XG4gICAgICAgIHRoaXMuX3dyaXRhYmxlU3RhdGUuZXJyb3JFbWl0dGVkID0gdHJ1ZTtcbiAgICAgICAgcHJvY2Vzcy5uZXh0VGljayhlbWl0RXJyb3JOVCwgdGhpcywgZXJyKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfSAvLyB3ZSBzZXQgZGVzdHJveWVkIHRvIHRydWUgYmVmb3JlIGZpcmluZyBlcnJvciBjYWxsYmFja3MgaW4gb3JkZXJcbiAgLy8gdG8gbWFrZSBpdCByZS1lbnRyYW5jZSBzYWZlIGluIGNhc2UgZGVzdHJveSgpIGlzIGNhbGxlZCB3aXRoaW4gY2FsbGJhY2tzXG5cblxuICBpZiAodGhpcy5fcmVhZGFibGVTdGF0ZSkge1xuICAgIHRoaXMuX3JlYWRhYmxlU3RhdGUuZGVzdHJveWVkID0gdHJ1ZTtcbiAgfSAvLyBpZiB0aGlzIGlzIGEgZHVwbGV4IHN0cmVhbSBtYXJrIHRoZSB3cml0YWJsZSBwYXJ0IGFzIGRlc3Ryb3llZCBhcyB3ZWxsXG5cblxuICBpZiAodGhpcy5fd3JpdGFibGVTdGF0ZSkge1xuICAgIHRoaXMuX3dyaXRhYmxlU3RhdGUuZGVzdHJveWVkID0gdHJ1ZTtcbiAgfVxuXG4gIHRoaXMuX2Rlc3Ryb3koZXJyIHx8IG51bGwsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICBpZiAoIWNiICYmIGVycikge1xuICAgICAgaWYgKCFfdGhpcy5fd3JpdGFibGVTdGF0ZSkge1xuICAgICAgICBwcm9jZXNzLm5leHRUaWNrKGVtaXRFcnJvckFuZENsb3NlTlQsIF90aGlzLCBlcnIpO1xuICAgICAgfSBlbHNlIGlmICghX3RoaXMuX3dyaXRhYmxlU3RhdGUuZXJyb3JFbWl0dGVkKSB7XG4gICAgICAgIF90aGlzLl93cml0YWJsZVN0YXRlLmVycm9yRW1pdHRlZCA9IHRydWU7XG4gICAgICAgIHByb2Nlc3MubmV4dFRpY2soZW1pdEVycm9yQW5kQ2xvc2VOVCwgX3RoaXMsIGVycik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcm9jZXNzLm5leHRUaWNrKGVtaXRDbG9zZU5ULCBfdGhpcyk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChjYikge1xuICAgICAgcHJvY2Vzcy5uZXh0VGljayhlbWl0Q2xvc2VOVCwgX3RoaXMpO1xuICAgICAgY2IoZXJyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcHJvY2Vzcy5uZXh0VGljayhlbWl0Q2xvc2VOVCwgX3RoaXMpO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHRoaXM7XG59XG5cbmZ1bmN0aW9uIGVtaXRFcnJvckFuZENsb3NlTlQoc2VsZiwgZXJyKSB7XG4gIGVtaXRFcnJvck5UKHNlbGYsIGVycik7XG4gIGVtaXRDbG9zZU5UKHNlbGYpO1xufVxuXG5mdW5jdGlvbiBlbWl0Q2xvc2VOVChzZWxmKSB7XG4gIGlmIChzZWxmLl93cml0YWJsZVN0YXRlICYmICFzZWxmLl93cml0YWJsZVN0YXRlLmVtaXRDbG9zZSkgcmV0dXJuO1xuICBpZiAoc2VsZi5fcmVhZGFibGVTdGF0ZSAmJiAhc2VsZi5fcmVhZGFibGVTdGF0ZS5lbWl0Q2xvc2UpIHJldHVybjtcbiAgc2VsZi5lbWl0KCdjbG9zZScpO1xufVxuXG5mdW5jdGlvbiB1bmRlc3Ryb3koKSB7XG4gIGlmICh0aGlzLl9yZWFkYWJsZVN0YXRlKSB7XG4gICAgdGhpcy5fcmVhZGFibGVTdGF0ZS5kZXN0cm95ZWQgPSBmYWxzZTtcbiAgICB0aGlzLl9yZWFkYWJsZVN0YXRlLnJlYWRpbmcgPSBmYWxzZTtcbiAgICB0aGlzLl9yZWFkYWJsZVN0YXRlLmVuZGVkID0gZmFsc2U7XG4gICAgdGhpcy5fcmVhZGFibGVTdGF0ZS5lbmRFbWl0dGVkID0gZmFsc2U7XG4gIH1cblxuICBpZiAodGhpcy5fd3JpdGFibGVTdGF0ZSkge1xuICAgIHRoaXMuX3dyaXRhYmxlU3RhdGUuZGVzdHJveWVkID0gZmFsc2U7XG4gICAgdGhpcy5fd3JpdGFibGVTdGF0ZS5lbmRlZCA9IGZhbHNlO1xuICAgIHRoaXMuX3dyaXRhYmxlU3RhdGUuZW5kaW5nID0gZmFsc2U7XG4gICAgdGhpcy5fd3JpdGFibGVTdGF0ZS5maW5hbENhbGxlZCA9IGZhbHNlO1xuICAgIHRoaXMuX3dyaXRhYmxlU3RhdGUucHJlZmluaXNoZWQgPSBmYWxzZTtcbiAgICB0aGlzLl93cml0YWJsZVN0YXRlLmZpbmlzaGVkID0gZmFsc2U7XG4gICAgdGhpcy5fd3JpdGFibGVTdGF0ZS5lcnJvckVtaXR0ZWQgPSBmYWxzZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBlbWl0RXJyb3JOVChzZWxmLCBlcnIpIHtcbiAgc2VsZi5lbWl0KCdlcnJvcicsIGVycik7XG59XG5cbmZ1bmN0aW9uIGVycm9yT3JEZXN0cm95KHN0cmVhbSwgZXJyKSB7XG4gIC8vIFdlIGhhdmUgdGVzdHMgdGhhdCByZWx5IG9uIGVycm9ycyBiZWluZyBlbWl0dGVkXG4gIC8vIGluIHRoZSBzYW1lIHRpY2ssIHNvIGNoYW5naW5nIHRoaXMgaXMgc2VtdmVyIG1ham9yLlxuICAvLyBGb3Igbm93IHdoZW4geW91IG9wdC1pbiB0byBhdXRvRGVzdHJveSB3ZSBhbGxvd1xuICAvLyB0aGUgZXJyb3IgdG8gYmUgZW1pdHRlZCBuZXh0VGljay4gSW4gYSBmdXR1cmVcbiAgLy8gc2VtdmVyIG1ham9yIHVwZGF0ZSB3ZSBzaG91bGQgY2hhbmdlIHRoZSBkZWZhdWx0IHRvIHRoaXMuXG4gIHZhciByU3RhdGUgPSBzdHJlYW0uX3JlYWRhYmxlU3RhdGU7XG4gIHZhciB3U3RhdGUgPSBzdHJlYW0uX3dyaXRhYmxlU3RhdGU7XG4gIGlmIChyU3RhdGUgJiYgclN0YXRlLmF1dG9EZXN0cm95IHx8IHdTdGF0ZSAmJiB3U3RhdGUuYXV0b0Rlc3Ryb3kpIHN0cmVhbS5kZXN0cm95KGVycik7ZWxzZSBzdHJlYW0uZW1pdCgnZXJyb3InLCBlcnIpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgZGVzdHJveTogZGVzdHJveSxcbiAgdW5kZXN0cm95OiB1bmRlc3Ryb3ksXG4gIGVycm9yT3JEZXN0cm95OiBlcnJvck9yRGVzdHJveVxufTsiLCAiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBjb2RlcyA9IHt9O1xuXG5mdW5jdGlvbiBjcmVhdGVFcnJvclR5cGUoY29kZSwgbWVzc2FnZSwgQmFzZSkge1xuICBpZiAoIUJhc2UpIHtcbiAgICBCYXNlID0gRXJyb3JcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldE1lc3NhZ2UgKGFyZzEsIGFyZzIsIGFyZzMpIHtcbiAgICBpZiAodHlwZW9mIG1lc3NhZ2UgPT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gbWVzc2FnZVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbWVzc2FnZShhcmcxLCBhcmcyLCBhcmczKVxuICAgIH1cbiAgfVxuXG4gIGNsYXNzIE5vZGVFcnJvciBleHRlbmRzIEJhc2Uge1xuICAgIGNvbnN0cnVjdG9yIChhcmcxLCBhcmcyLCBhcmczKSB7XG4gICAgICBzdXBlcihnZXRNZXNzYWdlKGFyZzEsIGFyZzIsIGFyZzMpKTtcbiAgICB9XG4gIH1cblxuICBOb2RlRXJyb3IucHJvdG90eXBlLm5hbWUgPSBCYXNlLm5hbWU7XG4gIE5vZGVFcnJvci5wcm90b3R5cGUuY29kZSA9IGNvZGU7XG5cbiAgY29kZXNbY29kZV0gPSBOb2RlRXJyb3I7XG59XG5cbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9ub2RlanMvbm9kZS9ibG9iL3YxMC44LjAvbGliL2ludGVybmFsL2Vycm9ycy5qc1xuZnVuY3Rpb24gb25lT2YoZXhwZWN0ZWQsIHRoaW5nKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGV4cGVjdGVkKSkge1xuICAgIGNvbnN0IGxlbiA9IGV4cGVjdGVkLmxlbmd0aDtcbiAgICBleHBlY3RlZCA9IGV4cGVjdGVkLm1hcCgoaSkgPT4gU3RyaW5nKGkpKTtcbiAgICBpZiAobGVuID4gMikge1xuICAgICAgcmV0dXJuIGBvbmUgb2YgJHt0aGluZ30gJHtleHBlY3RlZC5zbGljZSgwLCBsZW4gLSAxKS5qb2luKCcsICcpfSwgb3IgYCArXG4gICAgICAgICAgICAgZXhwZWN0ZWRbbGVuIC0gMV07XG4gICAgfSBlbHNlIGlmIChsZW4gPT09IDIpIHtcbiAgICAgIHJldHVybiBgb25lIG9mICR7dGhpbmd9ICR7ZXhwZWN0ZWRbMF19IG9yICR7ZXhwZWN0ZWRbMV19YDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGBvZiAke3RoaW5nfSAke2V4cGVjdGVkWzBdfWA7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBgb2YgJHt0aGluZ30gJHtTdHJpbmcoZXhwZWN0ZWQpfWA7XG4gIH1cbn1cblxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvU3RyaW5nL3N0YXJ0c1dpdGhcbmZ1bmN0aW9uIHN0YXJ0c1dpdGgoc3RyLCBzZWFyY2gsIHBvcykge1xuXHRyZXR1cm4gc3RyLnN1YnN0cighcG9zIHx8IHBvcyA8IDAgPyAwIDogK3Bvcywgc2VhcmNoLmxlbmd0aCkgPT09IHNlYXJjaDtcbn1cblxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvU3RyaW5nL2VuZHNXaXRoXG5mdW5jdGlvbiBlbmRzV2l0aChzdHIsIHNlYXJjaCwgdGhpc19sZW4pIHtcblx0aWYgKHRoaXNfbGVuID09PSB1bmRlZmluZWQgfHwgdGhpc19sZW4gPiBzdHIubGVuZ3RoKSB7XG5cdFx0dGhpc19sZW4gPSBzdHIubGVuZ3RoO1xuXHR9XG5cdHJldHVybiBzdHIuc3Vic3RyaW5nKHRoaXNfbGVuIC0gc2VhcmNoLmxlbmd0aCwgdGhpc19sZW4pID09PSBzZWFyY2g7XG59XG5cbi8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy9pbmNsdWRlc1xuZnVuY3Rpb24gaW5jbHVkZXMoc3RyLCBzZWFyY2gsIHN0YXJ0KSB7XG4gIGlmICh0eXBlb2Ygc3RhcnQgIT09ICdudW1iZXInKSB7XG4gICAgc3RhcnQgPSAwO1xuICB9XG5cbiAgaWYgKHN0YXJ0ICsgc2VhcmNoLmxlbmd0aCA+IHN0ci5sZW5ndGgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHN0ci5pbmRleE9mKHNlYXJjaCwgc3RhcnQpICE9PSAtMTtcbiAgfVxufVxuXG5jcmVhdGVFcnJvclR5cGUoJ0VSUl9JTlZBTElEX09QVF9WQUxVRScsIGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkge1xuICByZXR1cm4gJ1RoZSB2YWx1ZSBcIicgKyB2YWx1ZSArICdcIiBpcyBpbnZhbGlkIGZvciBvcHRpb24gXCInICsgbmFtZSArICdcIidcbn0sIFR5cGVFcnJvcik7XG5jcmVhdGVFcnJvclR5cGUoJ0VSUl9JTlZBTElEX0FSR19UWVBFJywgZnVuY3Rpb24gKG5hbWUsIGV4cGVjdGVkLCBhY3R1YWwpIHtcbiAgLy8gZGV0ZXJtaW5lcjogJ211c3QgYmUnIG9yICdtdXN0IG5vdCBiZSdcbiAgbGV0IGRldGVybWluZXI7XG4gIGlmICh0eXBlb2YgZXhwZWN0ZWQgPT09ICdzdHJpbmcnICYmIHN0YXJ0c1dpdGgoZXhwZWN0ZWQsICdub3QgJykpIHtcbiAgICBkZXRlcm1pbmVyID0gJ211c3Qgbm90IGJlJztcbiAgICBleHBlY3RlZCA9IGV4cGVjdGVkLnJlcGxhY2UoL15ub3QgLywgJycpO1xuICB9IGVsc2Uge1xuICAgIGRldGVybWluZXIgPSAnbXVzdCBiZSc7XG4gIH1cblxuICBsZXQgbXNnO1xuICBpZiAoZW5kc1dpdGgobmFtZSwgJyBhcmd1bWVudCcpKSB7XG4gICAgLy8gRm9yIGNhc2VzIGxpa2UgJ2ZpcnN0IGFyZ3VtZW50J1xuICAgIG1zZyA9IGBUaGUgJHtuYW1lfSAke2RldGVybWluZXJ9ICR7b25lT2YoZXhwZWN0ZWQsICd0eXBlJyl9YDtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCB0eXBlID0gaW5jbHVkZXMobmFtZSwgJy4nKSA/ICdwcm9wZXJ0eScgOiAnYXJndW1lbnQnO1xuICAgIG1zZyA9IGBUaGUgXCIke25hbWV9XCIgJHt0eXBlfSAke2RldGVybWluZXJ9ICR7b25lT2YoZXhwZWN0ZWQsICd0eXBlJyl9YDtcbiAgfVxuXG4gIG1zZyArPSBgLiBSZWNlaXZlZCB0eXBlICR7dHlwZW9mIGFjdHVhbH1gO1xuICByZXR1cm4gbXNnO1xufSwgVHlwZUVycm9yKTtcbmNyZWF0ZUVycm9yVHlwZSgnRVJSX1NUUkVBTV9QVVNIX0FGVEVSX0VPRicsICdzdHJlYW0ucHVzaCgpIGFmdGVyIEVPRicpO1xuY3JlYXRlRXJyb3JUeXBlKCdFUlJfTUVUSE9EX05PVF9JTVBMRU1FTlRFRCcsIGZ1bmN0aW9uIChuYW1lKSB7XG4gIHJldHVybiAnVGhlICcgKyBuYW1lICsgJyBtZXRob2QgaXMgbm90IGltcGxlbWVudGVkJ1xufSk7XG5jcmVhdGVFcnJvclR5cGUoJ0VSUl9TVFJFQU1fUFJFTUFUVVJFX0NMT1NFJywgJ1ByZW1hdHVyZSBjbG9zZScpO1xuY3JlYXRlRXJyb3JUeXBlKCdFUlJfU1RSRUFNX0RFU1RST1lFRCcsIGZ1bmN0aW9uIChuYW1lKSB7XG4gIHJldHVybiAnQ2Fubm90IGNhbGwgJyArIG5hbWUgKyAnIGFmdGVyIGEgc3RyZWFtIHdhcyBkZXN0cm95ZWQnO1xufSk7XG5jcmVhdGVFcnJvclR5cGUoJ0VSUl9NVUxUSVBMRV9DQUxMQkFDSycsICdDYWxsYmFjayBjYWxsZWQgbXVsdGlwbGUgdGltZXMnKTtcbmNyZWF0ZUVycm9yVHlwZSgnRVJSX1NUUkVBTV9DQU5OT1RfUElQRScsICdDYW5ub3QgcGlwZSwgbm90IHJlYWRhYmxlJyk7XG5jcmVhdGVFcnJvclR5cGUoJ0VSUl9TVFJFQU1fV1JJVEVfQUZURVJfRU5EJywgJ3dyaXRlIGFmdGVyIGVuZCcpO1xuY3JlYXRlRXJyb3JUeXBlKCdFUlJfU1RSRUFNX05VTExfVkFMVUVTJywgJ01heSBub3Qgd3JpdGUgbnVsbCB2YWx1ZXMgdG8gc3RyZWFtJywgVHlwZUVycm9yKTtcbmNyZWF0ZUVycm9yVHlwZSgnRVJSX1VOS05PV05fRU5DT0RJTkcnLCBmdW5jdGlvbiAoYXJnKSB7XG4gIHJldHVybiAnVW5rbm93biBlbmNvZGluZzogJyArIGFyZ1xufSwgVHlwZUVycm9yKTtcbmNyZWF0ZUVycm9yVHlwZSgnRVJSX1NUUkVBTV9VTlNISUZUX0FGVEVSX0VORF9FVkVOVCcsICdzdHJlYW0udW5zaGlmdCgpIGFmdGVyIGVuZCBldmVudCcpO1xuXG5tb2R1bGUuZXhwb3J0cy5jb2RlcyA9IGNvZGVzO1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIEVSUl9JTlZBTElEX09QVF9WQUxVRSA9IHJlcXVpcmUoJy4uLy4uLy4uL2Vycm9ycycpLmNvZGVzLkVSUl9JTlZBTElEX09QVF9WQUxVRTtcblxuZnVuY3Rpb24gaGlnaFdhdGVyTWFya0Zyb20ob3B0aW9ucywgaXNEdXBsZXgsIGR1cGxleEtleSkge1xuICByZXR1cm4gb3B0aW9ucy5oaWdoV2F0ZXJNYXJrICE9IG51bGwgPyBvcHRpb25zLmhpZ2hXYXRlck1hcmsgOiBpc0R1cGxleCA/IG9wdGlvbnNbZHVwbGV4S2V5XSA6IG51bGw7XG59XG5cbmZ1bmN0aW9uIGdldEhpZ2hXYXRlck1hcmsoc3RhdGUsIG9wdGlvbnMsIGR1cGxleEtleSwgaXNEdXBsZXgpIHtcbiAgdmFyIGh3bSA9IGhpZ2hXYXRlck1hcmtGcm9tKG9wdGlvbnMsIGlzRHVwbGV4LCBkdXBsZXhLZXkpO1xuXG4gIGlmIChod20gIT0gbnVsbCkge1xuICAgIGlmICghKGlzRmluaXRlKGh3bSkgJiYgTWF0aC5mbG9vcihod20pID09PSBod20pIHx8IGh3bSA8IDApIHtcbiAgICAgIHZhciBuYW1lID0gaXNEdXBsZXggPyBkdXBsZXhLZXkgOiAnaGlnaFdhdGVyTWFyayc7XG4gICAgICB0aHJvdyBuZXcgRVJSX0lOVkFMSURfT1BUX1ZBTFVFKG5hbWUsIGh3bSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIE1hdGguZmxvb3IoaHdtKTtcbiAgfSAvLyBEZWZhdWx0IHZhbHVlXG5cblxuICByZXR1cm4gc3RhdGUub2JqZWN0TW9kZSA/IDE2IDogMTYgKiAxMDI0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgZ2V0SGlnaFdhdGVyTWFyazogZ2V0SGlnaFdhdGVyTWFya1xufTsiLCAiaWYgKHR5cGVvZiBPYmplY3QuY3JlYXRlID09PSAnZnVuY3Rpb24nKSB7XG4gIC8vIGltcGxlbWVudGF0aW9uIGZyb20gc3RhbmRhcmQgbm9kZS5qcyAndXRpbCcgbW9kdWxlXG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaW5oZXJpdHMoY3Rvciwgc3VwZXJDdG9yKSB7XG4gICAgaWYgKHN1cGVyQ3Rvcikge1xuICAgICAgY3Rvci5zdXBlcl8gPSBzdXBlckN0b3JcbiAgICAgIGN0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckN0b3IucHJvdG90eXBlLCB7XG4gICAgICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICAgICAgdmFsdWU6IGN0b3IsXG4gICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuICB9O1xufSBlbHNlIHtcbiAgLy8gb2xkIHNjaG9vbCBzaGltIGZvciBvbGQgYnJvd3NlcnNcbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpbmhlcml0cyhjdG9yLCBzdXBlckN0b3IpIHtcbiAgICBpZiAoc3VwZXJDdG9yKSB7XG4gICAgICBjdG9yLnN1cGVyXyA9IHN1cGVyQ3RvclxuICAgICAgdmFyIFRlbXBDdG9yID0gZnVuY3Rpb24gKCkge31cbiAgICAgIFRlbXBDdG9yLnByb3RvdHlwZSA9IHN1cGVyQ3Rvci5wcm90b3R5cGVcbiAgICAgIGN0b3IucHJvdG90eXBlID0gbmV3IFRlbXBDdG9yKClcbiAgICAgIGN0b3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gY3RvclxuICAgIH1cbiAgfVxufVxuIiwgInRyeSB7XG4gIHZhciB1dGlsID0gcmVxdWlyZSgndXRpbCcpO1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICBpZiAodHlwZW9mIHV0aWwuaW5oZXJpdHMgIT09ICdmdW5jdGlvbicpIHRocm93ICcnO1xuICBtb2R1bGUuZXhwb3J0cyA9IHV0aWwuaW5oZXJpdHM7XG59IGNhdGNoIChlKSB7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9pbmhlcml0c19icm93c2VyLmpzJyk7XG59XG4iLCAiXG4vKipcbiAqIEZvciBOb2RlLmpzLCBzaW1wbHkgcmUtZXhwb3J0IHRoZSBjb3JlIGB1dGlsLmRlcHJlY2F0ZWAgZnVuY3Rpb24uXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCd1dGlsJykuZGVwcmVjYXRlO1xuIiwgIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuLy8gQSBiaXQgc2ltcGxlciB0aGFuIHJlYWRhYmxlIHN0cmVhbXMuXG4vLyBJbXBsZW1lbnQgYW4gYXN5bmMgLl93cml0ZShjaHVuaywgZW5jb2RpbmcsIGNiKSwgYW5kIGl0J2xsIGhhbmRsZSBhbGxcbi8vIHRoZSBkcmFpbiBldmVudCBlbWlzc2lvbiBhbmQgYnVmZmVyaW5nLlxuJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFdyaXRhYmxlO1xuLyogPHJlcGxhY2VtZW50PiAqL1xuXG5mdW5jdGlvbiBXcml0ZVJlcShjaHVuaywgZW5jb2RpbmcsIGNiKSB7XG4gIHRoaXMuY2h1bmsgPSBjaHVuaztcbiAgdGhpcy5lbmNvZGluZyA9IGVuY29kaW5nO1xuICB0aGlzLmNhbGxiYWNrID0gY2I7XG4gIHRoaXMubmV4dCA9IG51bGw7XG59IC8vIEl0IHNlZW1zIGEgbGlua2VkIGxpc3QgYnV0IGl0IGlzIG5vdFxuLy8gdGhlcmUgd2lsbCBiZSBvbmx5IDIgb2YgdGhlc2UgZm9yIGVhY2ggc3RyZWFtXG5cblxuZnVuY3Rpb24gQ29ya2VkUmVxdWVzdChzdGF0ZSkge1xuICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gIHRoaXMubmV4dCA9IG51bGw7XG4gIHRoaXMuZW50cnkgPSBudWxsO1xuXG4gIHRoaXMuZmluaXNoID0gZnVuY3Rpb24gKCkge1xuICAgIG9uQ29ya2VkRmluaXNoKF90aGlzLCBzdGF0ZSk7XG4gIH07XG59XG4vKiA8L3JlcGxhY2VtZW50PiAqL1xuXG4vKjxyZXBsYWNlbWVudD4qL1xuXG5cbnZhciBEdXBsZXg7XG4vKjwvcmVwbGFjZW1lbnQ+Ki9cblxuV3JpdGFibGUuV3JpdGFibGVTdGF0ZSA9IFdyaXRhYmxlU3RhdGU7XG4vKjxyZXBsYWNlbWVudD4qL1xuXG52YXIgaW50ZXJuYWxVdGlsID0ge1xuICBkZXByZWNhdGU6IHJlcXVpcmUoJ3V0aWwtZGVwcmVjYXRlJylcbn07XG4vKjwvcmVwbGFjZW1lbnQ+Ki9cblxuLyo8cmVwbGFjZW1lbnQ+Ki9cblxudmFyIFN0cmVhbSA9IHJlcXVpcmUoJy4vaW50ZXJuYWwvc3RyZWFtcy9zdHJlYW0nKTtcbi8qPC9yZXBsYWNlbWVudD4qL1xuXG5cbnZhciBCdWZmZXIgPSByZXF1aXJlKCdidWZmZXInKS5CdWZmZXI7XG5cbnZhciBPdXJVaW50OEFycmF5ID0gZ2xvYmFsLlVpbnQ4QXJyYXkgfHwgZnVuY3Rpb24gKCkge307XG5cbmZ1bmN0aW9uIF91aW50OEFycmF5VG9CdWZmZXIoY2h1bmspIHtcbiAgcmV0dXJuIEJ1ZmZlci5mcm9tKGNodW5rKTtcbn1cblxuZnVuY3Rpb24gX2lzVWludDhBcnJheShvYmopIHtcbiAgcmV0dXJuIEJ1ZmZlci5pc0J1ZmZlcihvYmopIHx8IG9iaiBpbnN0YW5jZW9mIE91clVpbnQ4QXJyYXk7XG59XG5cbnZhciBkZXN0cm95SW1wbCA9IHJlcXVpcmUoJy4vaW50ZXJuYWwvc3RyZWFtcy9kZXN0cm95Jyk7XG5cbnZhciBfcmVxdWlyZSA9IHJlcXVpcmUoJy4vaW50ZXJuYWwvc3RyZWFtcy9zdGF0ZScpLFxuICAgIGdldEhpZ2hXYXRlck1hcmsgPSBfcmVxdWlyZS5nZXRIaWdoV2F0ZXJNYXJrO1xuXG52YXIgX3JlcXVpcmUkY29kZXMgPSByZXF1aXJlKCcuLi9lcnJvcnMnKS5jb2RlcyxcbiAgICBFUlJfSU5WQUxJRF9BUkdfVFlQRSA9IF9yZXF1aXJlJGNvZGVzLkVSUl9JTlZBTElEX0FSR19UWVBFLFxuICAgIEVSUl9NRVRIT0RfTk9UX0lNUExFTUVOVEVEID0gX3JlcXVpcmUkY29kZXMuRVJSX01FVEhPRF9OT1RfSU1QTEVNRU5URUQsXG4gICAgRVJSX01VTFRJUExFX0NBTExCQUNLID0gX3JlcXVpcmUkY29kZXMuRVJSX01VTFRJUExFX0NBTExCQUNLLFxuICAgIEVSUl9TVFJFQU1fQ0FOTk9UX1BJUEUgPSBfcmVxdWlyZSRjb2Rlcy5FUlJfU1RSRUFNX0NBTk5PVF9QSVBFLFxuICAgIEVSUl9TVFJFQU1fREVTVFJPWUVEID0gX3JlcXVpcmUkY29kZXMuRVJSX1NUUkVBTV9ERVNUUk9ZRUQsXG4gICAgRVJSX1NUUkVBTV9OVUxMX1ZBTFVFUyA9IF9yZXF1aXJlJGNvZGVzLkVSUl9TVFJFQU1fTlVMTF9WQUxVRVMsXG4gICAgRVJSX1NUUkVBTV9XUklURV9BRlRFUl9FTkQgPSBfcmVxdWlyZSRjb2Rlcy5FUlJfU1RSRUFNX1dSSVRFX0FGVEVSX0VORCxcbiAgICBFUlJfVU5LTk9XTl9FTkNPRElORyA9IF9yZXF1aXJlJGNvZGVzLkVSUl9VTktOT1dOX0VOQ09ESU5HO1xuXG52YXIgZXJyb3JPckRlc3Ryb3kgPSBkZXN0cm95SW1wbC5lcnJvck9yRGVzdHJveTtcblxucmVxdWlyZSgnaW5oZXJpdHMnKShXcml0YWJsZSwgU3RyZWFtKTtcblxuZnVuY3Rpb24gbm9wKCkge31cblxuZnVuY3Rpb24gV3JpdGFibGVTdGF0ZShvcHRpb25zLCBzdHJlYW0sIGlzRHVwbGV4KSB7XG4gIER1cGxleCA9IER1cGxleCB8fCByZXF1aXJlKCcuL19zdHJlYW1fZHVwbGV4Jyk7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9OyAvLyBEdXBsZXggc3RyZWFtcyBhcmUgYm90aCByZWFkYWJsZSBhbmQgd3JpdGFibGUsIGJ1dCBzaGFyZVxuICAvLyB0aGUgc2FtZSBvcHRpb25zIG9iamVjdC5cbiAgLy8gSG93ZXZlciwgc29tZSBjYXNlcyByZXF1aXJlIHNldHRpbmcgb3B0aW9ucyB0byBkaWZmZXJlbnRcbiAgLy8gdmFsdWVzIGZvciB0aGUgcmVhZGFibGUgYW5kIHRoZSB3cml0YWJsZSBzaWRlcyBvZiB0aGUgZHVwbGV4IHN0cmVhbSxcbiAgLy8gZS5nLiBvcHRpb25zLnJlYWRhYmxlT2JqZWN0TW9kZSB2cy4gb3B0aW9ucy53cml0YWJsZU9iamVjdE1vZGUsIGV0Yy5cblxuICBpZiAodHlwZW9mIGlzRHVwbGV4ICE9PSAnYm9vbGVhbicpIGlzRHVwbGV4ID0gc3RyZWFtIGluc3RhbmNlb2YgRHVwbGV4OyAvLyBvYmplY3Qgc3RyZWFtIGZsYWcgdG8gaW5kaWNhdGUgd2hldGhlciBvciBub3QgdGhpcyBzdHJlYW1cbiAgLy8gY29udGFpbnMgYnVmZmVycyBvciBvYmplY3RzLlxuXG4gIHRoaXMub2JqZWN0TW9kZSA9ICEhb3B0aW9ucy5vYmplY3RNb2RlO1xuICBpZiAoaXNEdXBsZXgpIHRoaXMub2JqZWN0TW9kZSA9IHRoaXMub2JqZWN0TW9kZSB8fCAhIW9wdGlvbnMud3JpdGFibGVPYmplY3RNb2RlOyAvLyB0aGUgcG9pbnQgYXQgd2hpY2ggd3JpdGUoKSBzdGFydHMgcmV0dXJuaW5nIGZhbHNlXG4gIC8vIE5vdGU6IDAgaXMgYSB2YWxpZCB2YWx1ZSwgbWVhbnMgdGhhdCB3ZSBhbHdheXMgcmV0dXJuIGZhbHNlIGlmXG4gIC8vIHRoZSBlbnRpcmUgYnVmZmVyIGlzIG5vdCBmbHVzaGVkIGltbWVkaWF0ZWx5IG9uIHdyaXRlKClcblxuICB0aGlzLmhpZ2hXYXRlck1hcmsgPSBnZXRIaWdoV2F0ZXJNYXJrKHRoaXMsIG9wdGlvbnMsICd3cml0YWJsZUhpZ2hXYXRlck1hcmsnLCBpc0R1cGxleCk7IC8vIGlmIF9maW5hbCBoYXMgYmVlbiBjYWxsZWRcblxuICB0aGlzLmZpbmFsQ2FsbGVkID0gZmFsc2U7IC8vIGRyYWluIGV2ZW50IGZsYWcuXG5cbiAgdGhpcy5uZWVkRHJhaW4gPSBmYWxzZTsgLy8gYXQgdGhlIHN0YXJ0IG9mIGNhbGxpbmcgZW5kKClcblxuICB0aGlzLmVuZGluZyA9IGZhbHNlOyAvLyB3aGVuIGVuZCgpIGhhcyBiZWVuIGNhbGxlZCwgYW5kIHJldHVybmVkXG5cbiAgdGhpcy5lbmRlZCA9IGZhbHNlOyAvLyB3aGVuICdmaW5pc2gnIGlzIGVtaXR0ZWRcblxuICB0aGlzLmZpbmlzaGVkID0gZmFsc2U7IC8vIGhhcyBpdCBiZWVuIGRlc3Ryb3llZFxuXG4gIHRoaXMuZGVzdHJveWVkID0gZmFsc2U7IC8vIHNob3VsZCB3ZSBkZWNvZGUgc3RyaW5ncyBpbnRvIGJ1ZmZlcnMgYmVmb3JlIHBhc3NpbmcgdG8gX3dyaXRlP1xuICAvLyB0aGlzIGlzIGhlcmUgc28gdGhhdCBzb21lIG5vZGUtY29yZSBzdHJlYW1zIGNhbiBvcHRpbWl6ZSBzdHJpbmdcbiAgLy8gaGFuZGxpbmcgYXQgYSBsb3dlciBsZXZlbC5cblxuICB2YXIgbm9EZWNvZGUgPSBvcHRpb25zLmRlY29kZVN0cmluZ3MgPT09IGZhbHNlO1xuICB0aGlzLmRlY29kZVN0cmluZ3MgPSAhbm9EZWNvZGU7IC8vIENyeXB0byBpcyBraW5kIG9mIG9sZCBhbmQgY3J1c3R5LiAgSGlzdG9yaWNhbGx5LCBpdHMgZGVmYXVsdCBzdHJpbmdcbiAgLy8gZW5jb2RpbmcgaXMgJ2JpbmFyeScgc28gd2UgaGF2ZSB0byBtYWtlIHRoaXMgY29uZmlndXJhYmxlLlxuICAvLyBFdmVyeXRoaW5nIGVsc2UgaW4gdGhlIHVuaXZlcnNlIHVzZXMgJ3V0ZjgnLCB0aG91Z2guXG5cbiAgdGhpcy5kZWZhdWx0RW5jb2RpbmcgPSBvcHRpb25zLmRlZmF1bHRFbmNvZGluZyB8fCAndXRmOCc7IC8vIG5vdCBhbiBhY3R1YWwgYnVmZmVyIHdlIGtlZXAgdHJhY2sgb2YsIGJ1dCBhIG1lYXN1cmVtZW50XG4gIC8vIG9mIGhvdyBtdWNoIHdlJ3JlIHdhaXRpbmcgdG8gZ2V0IHB1c2hlZCB0byBzb21lIHVuZGVybHlpbmdcbiAgLy8gc29ja2V0IG9yIGZpbGUuXG5cbiAgdGhpcy5sZW5ndGggPSAwOyAvLyBhIGZsYWcgdG8gc2VlIHdoZW4gd2UncmUgaW4gdGhlIG1pZGRsZSBvZiBhIHdyaXRlLlxuXG4gIHRoaXMud3JpdGluZyA9IGZhbHNlOyAvLyB3aGVuIHRydWUgYWxsIHdyaXRlcyB3aWxsIGJlIGJ1ZmZlcmVkIHVudGlsIC51bmNvcmsoKSBjYWxsXG5cbiAgdGhpcy5jb3JrZWQgPSAwOyAvLyBhIGZsYWcgdG8gYmUgYWJsZSB0byB0ZWxsIGlmIHRoZSBvbndyaXRlIGNiIGlzIGNhbGxlZCBpbW1lZGlhdGVseSxcbiAgLy8gb3Igb24gYSBsYXRlciB0aWNrLiAgV2Ugc2V0IHRoaXMgdG8gdHJ1ZSBhdCBmaXJzdCwgYmVjYXVzZSBhbnlcbiAgLy8gYWN0aW9ucyB0aGF0IHNob3VsZG4ndCBoYXBwZW4gdW50aWwgXCJsYXRlclwiIHNob3VsZCBnZW5lcmFsbHkgYWxzb1xuICAvLyBub3QgaGFwcGVuIGJlZm9yZSB0aGUgZmlyc3Qgd3JpdGUgY2FsbC5cblxuICB0aGlzLnN5bmMgPSB0cnVlOyAvLyBhIGZsYWcgdG8ga25vdyBpZiB3ZSdyZSBwcm9jZXNzaW5nIHByZXZpb3VzbHkgYnVmZmVyZWQgaXRlbXMsIHdoaWNoXG4gIC8vIG1heSBjYWxsIHRoZSBfd3JpdGUoKSBjYWxsYmFjayBpbiB0aGUgc2FtZSB0aWNrLCBzbyB0aGF0IHdlIGRvbid0XG4gIC8vIGVuZCB1cCBpbiBhbiBvdmVybGFwcGVkIG9ud3JpdGUgc2l0dWF0aW9uLlxuXG4gIHRoaXMuYnVmZmVyUHJvY2Vzc2luZyA9IGZhbHNlOyAvLyB0aGUgY2FsbGJhY2sgdGhhdCdzIHBhc3NlZCB0byBfd3JpdGUoY2h1bmssY2IpXG5cbiAgdGhpcy5vbndyaXRlID0gZnVuY3Rpb24gKGVyKSB7XG4gICAgb253cml0ZShzdHJlYW0sIGVyKTtcbiAgfTsgLy8gdGhlIGNhbGxiYWNrIHRoYXQgdGhlIHVzZXIgc3VwcGxpZXMgdG8gd3JpdGUoY2h1bmssZW5jb2RpbmcsY2IpXG5cblxuICB0aGlzLndyaXRlY2IgPSBudWxsOyAvLyB0aGUgYW1vdW50IHRoYXQgaXMgYmVpbmcgd3JpdHRlbiB3aGVuIF93cml0ZSBpcyBjYWxsZWQuXG5cbiAgdGhpcy53cml0ZWxlbiA9IDA7XG4gIHRoaXMuYnVmZmVyZWRSZXF1ZXN0ID0gbnVsbDtcbiAgdGhpcy5sYXN0QnVmZmVyZWRSZXF1ZXN0ID0gbnVsbDsgLy8gbnVtYmVyIG9mIHBlbmRpbmcgdXNlci1zdXBwbGllZCB3cml0ZSBjYWxsYmFja3NcbiAgLy8gdGhpcyBtdXN0IGJlIDAgYmVmb3JlICdmaW5pc2gnIGNhbiBiZSBlbWl0dGVkXG5cbiAgdGhpcy5wZW5kaW5nY2IgPSAwOyAvLyBlbWl0IHByZWZpbmlzaCBpZiB0aGUgb25seSB0aGluZyB3ZSdyZSB3YWl0aW5nIGZvciBpcyBfd3JpdGUgY2JzXG4gIC8vIFRoaXMgaXMgcmVsZXZhbnQgZm9yIHN5bmNocm9ub3VzIFRyYW5zZm9ybSBzdHJlYW1zXG5cbiAgdGhpcy5wcmVmaW5pc2hlZCA9IGZhbHNlOyAvLyBUcnVlIGlmIHRoZSBlcnJvciB3YXMgYWxyZWFkeSBlbWl0dGVkIGFuZCBzaG91bGQgbm90IGJlIHRocm93biBhZ2FpblxuXG4gIHRoaXMuZXJyb3JFbWl0dGVkID0gZmFsc2U7IC8vIFNob3VsZCBjbG9zZSBiZSBlbWl0dGVkIG9uIGRlc3Ryb3kuIERlZmF1bHRzIHRvIHRydWUuXG5cbiAgdGhpcy5lbWl0Q2xvc2UgPSBvcHRpb25zLmVtaXRDbG9zZSAhPT0gZmFsc2U7IC8vIFNob3VsZCAuZGVzdHJveSgpIGJlIGNhbGxlZCBhZnRlciAnZmluaXNoJyAoYW5kIHBvdGVudGlhbGx5ICdlbmQnKVxuXG4gIHRoaXMuYXV0b0Rlc3Ryb3kgPSAhIW9wdGlvbnMuYXV0b0Rlc3Ryb3k7IC8vIGNvdW50IGJ1ZmZlcmVkIHJlcXVlc3RzXG5cbiAgdGhpcy5idWZmZXJlZFJlcXVlc3RDb3VudCA9IDA7IC8vIGFsbG9jYXRlIHRoZSBmaXJzdCBDb3JrZWRSZXF1ZXN0LCB0aGVyZSBpcyBhbHdheXNcbiAgLy8gb25lIGFsbG9jYXRlZCBhbmQgZnJlZSB0byB1c2UsIGFuZCB3ZSBtYWludGFpbiBhdCBtb3N0IHR3b1xuXG4gIHRoaXMuY29ya2VkUmVxdWVzdHNGcmVlID0gbmV3IENvcmtlZFJlcXVlc3QodGhpcyk7XG59XG5cbldyaXRhYmxlU3RhdGUucHJvdG90eXBlLmdldEJ1ZmZlciA9IGZ1bmN0aW9uIGdldEJ1ZmZlcigpIHtcbiAgdmFyIGN1cnJlbnQgPSB0aGlzLmJ1ZmZlcmVkUmVxdWVzdDtcbiAgdmFyIG91dCA9IFtdO1xuXG4gIHdoaWxlIChjdXJyZW50KSB7XG4gICAgb3V0LnB1c2goY3VycmVudCk7XG4gICAgY3VycmVudCA9IGN1cnJlbnQubmV4dDtcbiAgfVxuXG4gIHJldHVybiBvdXQ7XG59O1xuXG4oZnVuY3Rpb24gKCkge1xuICB0cnkge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShXcml0YWJsZVN0YXRlLnByb3RvdHlwZSwgJ2J1ZmZlcicsIHtcbiAgICAgIGdldDogaW50ZXJuYWxVdGlsLmRlcHJlY2F0ZShmdW5jdGlvbiB3cml0YWJsZVN0YXRlQnVmZmVyR2V0dGVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRCdWZmZXIoKTtcbiAgICAgIH0sICdfd3JpdGFibGVTdGF0ZS5idWZmZXIgaXMgZGVwcmVjYXRlZC4gVXNlIF93cml0YWJsZVN0YXRlLmdldEJ1ZmZlciAnICsgJ2luc3RlYWQuJywgJ0RFUDAwMDMnKVxuICAgIH0pO1xuICB9IGNhdGNoIChfKSB7fVxufSkoKTsgLy8gVGVzdCBfd3JpdGFibGVTdGF0ZSBmb3IgaW5oZXJpdGFuY2UgdG8gYWNjb3VudCBmb3IgRHVwbGV4IHN0cmVhbXMsXG4vLyB3aG9zZSBwcm90b3R5cGUgY2hhaW4gb25seSBwb2ludHMgdG8gUmVhZGFibGUuXG5cblxudmFyIHJlYWxIYXNJbnN0YW5jZTtcblxuaWYgKHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgU3ltYm9sLmhhc0luc3RhbmNlICYmIHR5cGVvZiBGdW5jdGlvbi5wcm90b3R5cGVbU3ltYm9sLmhhc0luc3RhbmNlXSA9PT0gJ2Z1bmN0aW9uJykge1xuICByZWFsSGFzSW5zdGFuY2UgPSBGdW5jdGlvbi5wcm90b3R5cGVbU3ltYm9sLmhhc0luc3RhbmNlXTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFdyaXRhYmxlLCBTeW1ib2wuaGFzSW5zdGFuY2UsIHtcbiAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUob2JqZWN0KSB7XG4gICAgICBpZiAocmVhbEhhc0luc3RhbmNlLmNhbGwodGhpcywgb2JqZWN0KSkgcmV0dXJuIHRydWU7XG4gICAgICBpZiAodGhpcyAhPT0gV3JpdGFibGUpIHJldHVybiBmYWxzZTtcbiAgICAgIHJldHVybiBvYmplY3QgJiYgb2JqZWN0Ll93cml0YWJsZVN0YXRlIGluc3RhbmNlb2YgV3JpdGFibGVTdGF0ZTtcbiAgICB9XG4gIH0pO1xufSBlbHNlIHtcbiAgcmVhbEhhc0luc3RhbmNlID0gZnVuY3Rpb24gcmVhbEhhc0luc3RhbmNlKG9iamVjdCkge1xuICAgIHJldHVybiBvYmplY3QgaW5zdGFuY2VvZiB0aGlzO1xuICB9O1xufVxuXG5mdW5jdGlvbiBXcml0YWJsZShvcHRpb25zKSB7XG4gIER1cGxleCA9IER1cGxleCB8fCByZXF1aXJlKCcuL19zdHJlYW1fZHVwbGV4Jyk7IC8vIFdyaXRhYmxlIGN0b3IgaXMgYXBwbGllZCB0byBEdXBsZXhlcywgdG9vLlxuICAvLyBgcmVhbEhhc0luc3RhbmNlYCBpcyBuZWNlc3NhcnkgYmVjYXVzZSB1c2luZyBwbGFpbiBgaW5zdGFuY2VvZmBcbiAgLy8gd291bGQgcmV0dXJuIGZhbHNlLCBhcyBubyBgX3dyaXRhYmxlU3RhdGVgIHByb3BlcnR5IGlzIGF0dGFjaGVkLlxuICAvLyBUcnlpbmcgdG8gdXNlIHRoZSBjdXN0b20gYGluc3RhbmNlb2ZgIGZvciBXcml0YWJsZSBoZXJlIHdpbGwgYWxzbyBicmVhayB0aGVcbiAgLy8gTm9kZS5qcyBMYXp5VHJhbnNmb3JtIGltcGxlbWVudGF0aW9uLCB3aGljaCBoYXMgYSBub24tdHJpdmlhbCBnZXR0ZXIgZm9yXG4gIC8vIGBfd3JpdGFibGVTdGF0ZWAgdGhhdCB3b3VsZCBsZWFkIHRvIGluZmluaXRlIHJlY3Vyc2lvbi5cbiAgLy8gQ2hlY2tpbmcgZm9yIGEgU3RyZWFtLkR1cGxleCBpbnN0YW5jZSBpcyBmYXN0ZXIgaGVyZSBpbnN0ZWFkIG9mIGluc2lkZVxuICAvLyB0aGUgV3JpdGFibGVTdGF0ZSBjb25zdHJ1Y3RvciwgYXQgbGVhc3Qgd2l0aCBWOCA2LjVcblxuICB2YXIgaXNEdXBsZXggPSB0aGlzIGluc3RhbmNlb2YgRHVwbGV4O1xuICBpZiAoIWlzRHVwbGV4ICYmICFyZWFsSGFzSW5zdGFuY2UuY2FsbChXcml0YWJsZSwgdGhpcykpIHJldHVybiBuZXcgV3JpdGFibGUob3B0aW9ucyk7XG4gIHRoaXMuX3dyaXRhYmxlU3RhdGUgPSBuZXcgV3JpdGFibGVTdGF0ZShvcHRpb25zLCB0aGlzLCBpc0R1cGxleCk7IC8vIGxlZ2FjeS5cblxuICB0aGlzLndyaXRhYmxlID0gdHJ1ZTtcblxuICBpZiAob3B0aW9ucykge1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy53cml0ZSA9PT0gJ2Z1bmN0aW9uJykgdGhpcy5fd3JpdGUgPSBvcHRpb25zLndyaXRlO1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy53cml0ZXYgPT09ICdmdW5jdGlvbicpIHRoaXMuX3dyaXRldiA9IG9wdGlvbnMud3JpdGV2O1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5kZXN0cm95ID09PSAnZnVuY3Rpb24nKSB0aGlzLl9kZXN0cm95ID0gb3B0aW9ucy5kZXN0cm95O1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5maW5hbCA9PT0gJ2Z1bmN0aW9uJykgdGhpcy5fZmluYWwgPSBvcHRpb25zLmZpbmFsO1xuICB9XG5cbiAgU3RyZWFtLmNhbGwodGhpcyk7XG59IC8vIE90aGVyd2lzZSBwZW9wbGUgY2FuIHBpcGUgV3JpdGFibGUgc3RyZWFtcywgd2hpY2ggaXMganVzdCB3cm9uZy5cblxuXG5Xcml0YWJsZS5wcm90b3R5cGUucGlwZSA9IGZ1bmN0aW9uICgpIHtcbiAgZXJyb3JPckRlc3Ryb3kodGhpcywgbmV3IEVSUl9TVFJFQU1fQ0FOTk9UX1BJUEUoKSk7XG59O1xuXG5mdW5jdGlvbiB3cml0ZUFmdGVyRW5kKHN0cmVhbSwgY2IpIHtcbiAgdmFyIGVyID0gbmV3IEVSUl9TVFJFQU1fV1JJVEVfQUZURVJfRU5EKCk7IC8vIFRPRE86IGRlZmVyIGVycm9yIGV2ZW50cyBjb25zaXN0ZW50bHkgZXZlcnl3aGVyZSwgbm90IGp1c3QgdGhlIGNiXG5cbiAgZXJyb3JPckRlc3Ryb3koc3RyZWFtLCBlcik7XG4gIHByb2Nlc3MubmV4dFRpY2soY2IsIGVyKTtcbn0gLy8gQ2hlY2tzIHRoYXQgYSB1c2VyLXN1cHBsaWVkIGNodW5rIGlzIHZhbGlkLCBlc3BlY2lhbGx5IGZvciB0aGUgcGFydGljdWxhclxuLy8gbW9kZSB0aGUgc3RyZWFtIGlzIGluLiBDdXJyZW50bHkgdGhpcyBtZWFucyB0aGF0IGBudWxsYCBpcyBuZXZlciBhY2NlcHRlZFxuLy8gYW5kIHVuZGVmaW5lZC9ub24tc3RyaW5nIHZhbHVlcyBhcmUgb25seSBhbGxvd2VkIGluIG9iamVjdCBtb2RlLlxuXG5cbmZ1bmN0aW9uIHZhbGlkQ2h1bmsoc3RyZWFtLCBzdGF0ZSwgY2h1bmssIGNiKSB7XG4gIHZhciBlcjtcblxuICBpZiAoY2h1bmsgPT09IG51bGwpIHtcbiAgICBlciA9IG5ldyBFUlJfU1RSRUFNX05VTExfVkFMVUVTKCk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGNodW5rICE9PSAnc3RyaW5nJyAmJiAhc3RhdGUub2JqZWN0TW9kZSkge1xuICAgIGVyID0gbmV3IEVSUl9JTlZBTElEX0FSR19UWVBFKCdjaHVuaycsIFsnc3RyaW5nJywgJ0J1ZmZlciddLCBjaHVuayk7XG4gIH1cblxuICBpZiAoZXIpIHtcbiAgICBlcnJvck9yRGVzdHJveShzdHJlYW0sIGVyKTtcbiAgICBwcm9jZXNzLm5leHRUaWNrKGNiLCBlcik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbldyaXRhYmxlLnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uIChjaHVuaywgZW5jb2RpbmcsIGNiKSB7XG4gIHZhciBzdGF0ZSA9IHRoaXMuX3dyaXRhYmxlU3RhdGU7XG4gIHZhciByZXQgPSBmYWxzZTtcblxuICB2YXIgaXNCdWYgPSAhc3RhdGUub2JqZWN0TW9kZSAmJiBfaXNVaW50OEFycmF5KGNodW5rKTtcblxuICBpZiAoaXNCdWYgJiYgIUJ1ZmZlci5pc0J1ZmZlcihjaHVuaykpIHtcbiAgICBjaHVuayA9IF91aW50OEFycmF5VG9CdWZmZXIoY2h1bmspO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBlbmNvZGluZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNiID0gZW5jb2Rpbmc7XG4gICAgZW5jb2RpbmcgPSBudWxsO1xuICB9XG5cbiAgaWYgKGlzQnVmKSBlbmNvZGluZyA9ICdidWZmZXInO2Vsc2UgaWYgKCFlbmNvZGluZykgZW5jb2RpbmcgPSBzdGF0ZS5kZWZhdWx0RW5jb2Rpbmc7XG4gIGlmICh0eXBlb2YgY2IgIT09ICdmdW5jdGlvbicpIGNiID0gbm9wO1xuICBpZiAoc3RhdGUuZW5kaW5nKSB3cml0ZUFmdGVyRW5kKHRoaXMsIGNiKTtlbHNlIGlmIChpc0J1ZiB8fCB2YWxpZENodW5rKHRoaXMsIHN0YXRlLCBjaHVuaywgY2IpKSB7XG4gICAgc3RhdGUucGVuZGluZ2NiKys7XG4gICAgcmV0ID0gd3JpdGVPckJ1ZmZlcih0aGlzLCBzdGF0ZSwgaXNCdWYsIGNodW5rLCBlbmNvZGluZywgY2IpO1xuICB9XG4gIHJldHVybiByZXQ7XG59O1xuXG5Xcml0YWJsZS5wcm90b3R5cGUuY29yayA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5fd3JpdGFibGVTdGF0ZS5jb3JrZWQrKztcbn07XG5cbldyaXRhYmxlLnByb3RvdHlwZS51bmNvcmsgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBzdGF0ZSA9IHRoaXMuX3dyaXRhYmxlU3RhdGU7XG5cbiAgaWYgKHN0YXRlLmNvcmtlZCkge1xuICAgIHN0YXRlLmNvcmtlZC0tO1xuICAgIGlmICghc3RhdGUud3JpdGluZyAmJiAhc3RhdGUuY29ya2VkICYmICFzdGF0ZS5idWZmZXJQcm9jZXNzaW5nICYmIHN0YXRlLmJ1ZmZlcmVkUmVxdWVzdCkgY2xlYXJCdWZmZXIodGhpcywgc3RhdGUpO1xuICB9XG59O1xuXG5Xcml0YWJsZS5wcm90b3R5cGUuc2V0RGVmYXVsdEVuY29kaW5nID0gZnVuY3Rpb24gc2V0RGVmYXVsdEVuY29kaW5nKGVuY29kaW5nKSB7XG4gIC8vIG5vZGU6OlBhcnNlRW5jb2RpbmcoKSByZXF1aXJlcyBsb3dlciBjYXNlLlxuICBpZiAodHlwZW9mIGVuY29kaW5nID09PSAnc3RyaW5nJykgZW5jb2RpbmcgPSBlbmNvZGluZy50b0xvd2VyQ2FzZSgpO1xuICBpZiAoIShbJ2hleCcsICd1dGY4JywgJ3V0Zi04JywgJ2FzY2lpJywgJ2JpbmFyeScsICdiYXNlNjQnLCAndWNzMicsICd1Y3MtMicsICd1dGYxNmxlJywgJ3V0Zi0xNmxlJywgJ3JhdyddLmluZGV4T2YoKGVuY29kaW5nICsgJycpLnRvTG93ZXJDYXNlKCkpID4gLTEpKSB0aHJvdyBuZXcgRVJSX1VOS05PV05fRU5DT0RJTkcoZW5jb2RpbmcpO1xuICB0aGlzLl93cml0YWJsZVN0YXRlLmRlZmF1bHRFbmNvZGluZyA9IGVuY29kaW5nO1xuICByZXR1cm4gdGhpcztcbn07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShXcml0YWJsZS5wcm90b3R5cGUsICd3cml0YWJsZUJ1ZmZlcicsIHtcbiAgLy8gbWFraW5nIGl0IGV4cGxpY2l0IHRoaXMgcHJvcGVydHkgaXMgbm90IGVudW1lcmFibGVcbiAgLy8gYmVjYXVzZSBvdGhlcndpc2Ugc29tZSBwcm90b3R5cGUgbWFuaXB1bGF0aW9uIGluXG4gIC8vIHVzZXJsYW5kIHdpbGwgZmFpbFxuICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3dyaXRhYmxlU3RhdGUgJiYgdGhpcy5fd3JpdGFibGVTdGF0ZS5nZXRCdWZmZXIoKTtcbiAgfVxufSk7XG5cbmZ1bmN0aW9uIGRlY29kZUNodW5rKHN0YXRlLCBjaHVuaywgZW5jb2RpbmcpIHtcbiAgaWYgKCFzdGF0ZS5vYmplY3RNb2RlICYmIHN0YXRlLmRlY29kZVN0cmluZ3MgIT09IGZhbHNlICYmIHR5cGVvZiBjaHVuayA9PT0gJ3N0cmluZycpIHtcbiAgICBjaHVuayA9IEJ1ZmZlci5mcm9tKGNodW5rLCBlbmNvZGluZyk7XG4gIH1cblxuICByZXR1cm4gY2h1bms7XG59XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShXcml0YWJsZS5wcm90b3R5cGUsICd3cml0YWJsZUhpZ2hXYXRlck1hcmsnLCB7XG4gIC8vIG1ha2luZyBpdCBleHBsaWNpdCB0aGlzIHByb3BlcnR5IGlzIG5vdCBlbnVtZXJhYmxlXG4gIC8vIGJlY2F1c2Ugb3RoZXJ3aXNlIHNvbWUgcHJvdG90eXBlIG1hbmlwdWxhdGlvbiBpblxuICAvLyB1c2VybGFuZCB3aWxsIGZhaWxcbiAgZW51bWVyYWJsZTogZmFsc2UsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiB0aGlzLl93cml0YWJsZVN0YXRlLmhpZ2hXYXRlck1hcms7XG4gIH1cbn0pOyAvLyBpZiB3ZSdyZSBhbHJlYWR5IHdyaXRpbmcgc29tZXRoaW5nLCB0aGVuIGp1c3QgcHV0IHRoaXNcbi8vIGluIHRoZSBxdWV1ZSwgYW5kIHdhaXQgb3VyIHR1cm4uICBPdGhlcndpc2UsIGNhbGwgX3dyaXRlXG4vLyBJZiB3ZSByZXR1cm4gZmFsc2UsIHRoZW4gd2UgbmVlZCBhIGRyYWluIGV2ZW50LCBzbyBzZXQgdGhhdCBmbGFnLlxuXG5mdW5jdGlvbiB3cml0ZU9yQnVmZmVyKHN0cmVhbSwgc3RhdGUsIGlzQnVmLCBjaHVuaywgZW5jb2RpbmcsIGNiKSB7XG4gIGlmICghaXNCdWYpIHtcbiAgICB2YXIgbmV3Q2h1bmsgPSBkZWNvZGVDaHVuayhzdGF0ZSwgY2h1bmssIGVuY29kaW5nKTtcblxuICAgIGlmIChjaHVuayAhPT0gbmV3Q2h1bmspIHtcbiAgICAgIGlzQnVmID0gdHJ1ZTtcbiAgICAgIGVuY29kaW5nID0gJ2J1ZmZlcic7XG4gICAgICBjaHVuayA9IG5ld0NodW5rO1xuICAgIH1cbiAgfVxuXG4gIHZhciBsZW4gPSBzdGF0ZS5vYmplY3RNb2RlID8gMSA6IGNodW5rLmxlbmd0aDtcbiAgc3RhdGUubGVuZ3RoICs9IGxlbjtcbiAgdmFyIHJldCA9IHN0YXRlLmxlbmd0aCA8IHN0YXRlLmhpZ2hXYXRlck1hcms7IC8vIHdlIG11c3QgZW5zdXJlIHRoYXQgcHJldmlvdXMgbmVlZERyYWluIHdpbGwgbm90IGJlIHJlc2V0IHRvIGZhbHNlLlxuXG4gIGlmICghcmV0KSBzdGF0ZS5uZWVkRHJhaW4gPSB0cnVlO1xuXG4gIGlmIChzdGF0ZS53cml0aW5nIHx8IHN0YXRlLmNvcmtlZCkge1xuICAgIHZhciBsYXN0ID0gc3RhdGUubGFzdEJ1ZmZlcmVkUmVxdWVzdDtcbiAgICBzdGF0ZS5sYXN0QnVmZmVyZWRSZXF1ZXN0ID0ge1xuICAgICAgY2h1bms6IGNodW5rLFxuICAgICAgZW5jb2Rpbmc6IGVuY29kaW5nLFxuICAgICAgaXNCdWY6IGlzQnVmLFxuICAgICAgY2FsbGJhY2s6IGNiLFxuICAgICAgbmV4dDogbnVsbFxuICAgIH07XG5cbiAgICBpZiAobGFzdCkge1xuICAgICAgbGFzdC5uZXh0ID0gc3RhdGUubGFzdEJ1ZmZlcmVkUmVxdWVzdDtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RhdGUuYnVmZmVyZWRSZXF1ZXN0ID0gc3RhdGUubGFzdEJ1ZmZlcmVkUmVxdWVzdDtcbiAgICB9XG5cbiAgICBzdGF0ZS5idWZmZXJlZFJlcXVlc3RDb3VudCArPSAxO1xuICB9IGVsc2Uge1xuICAgIGRvV3JpdGUoc3RyZWFtLCBzdGF0ZSwgZmFsc2UsIGxlbiwgY2h1bmssIGVuY29kaW5nLCBjYik7XG4gIH1cblxuICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBkb1dyaXRlKHN0cmVhbSwgc3RhdGUsIHdyaXRldiwgbGVuLCBjaHVuaywgZW5jb2RpbmcsIGNiKSB7XG4gIHN0YXRlLndyaXRlbGVuID0gbGVuO1xuICBzdGF0ZS53cml0ZWNiID0gY2I7XG4gIHN0YXRlLndyaXRpbmcgPSB0cnVlO1xuICBzdGF0ZS5zeW5jID0gdHJ1ZTtcbiAgaWYgKHN0YXRlLmRlc3Ryb3llZCkgc3RhdGUub253cml0ZShuZXcgRVJSX1NUUkVBTV9ERVNUUk9ZRUQoJ3dyaXRlJykpO2Vsc2UgaWYgKHdyaXRldikgc3RyZWFtLl93cml0ZXYoY2h1bmssIHN0YXRlLm9ud3JpdGUpO2Vsc2Ugc3RyZWFtLl93cml0ZShjaHVuaywgZW5jb2RpbmcsIHN0YXRlLm9ud3JpdGUpO1xuICBzdGF0ZS5zeW5jID0gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIG9ud3JpdGVFcnJvcihzdHJlYW0sIHN0YXRlLCBzeW5jLCBlciwgY2IpIHtcbiAgLS1zdGF0ZS5wZW5kaW5nY2I7XG5cbiAgaWYgKHN5bmMpIHtcbiAgICAvLyBkZWZlciB0aGUgY2FsbGJhY2sgaWYgd2UgYXJlIGJlaW5nIGNhbGxlZCBzeW5jaHJvbm91c2x5XG4gICAgLy8gdG8gYXZvaWQgcGlsaW5nIHVwIHRoaW5ncyBvbiB0aGUgc3RhY2tcbiAgICBwcm9jZXNzLm5leHRUaWNrKGNiLCBlcik7IC8vIHRoaXMgY2FuIGVtaXQgZmluaXNoLCBhbmQgaXQgd2lsbCBhbHdheXMgaGFwcGVuXG4gICAgLy8gYWZ0ZXIgZXJyb3JcblxuICAgIHByb2Nlc3MubmV4dFRpY2soZmluaXNoTWF5YmUsIHN0cmVhbSwgc3RhdGUpO1xuICAgIHN0cmVhbS5fd3JpdGFibGVTdGF0ZS5lcnJvckVtaXR0ZWQgPSB0cnVlO1xuICAgIGVycm9yT3JEZXN0cm95KHN0cmVhbSwgZXIpO1xuICB9IGVsc2Uge1xuICAgIC8vIHRoZSBjYWxsZXIgZXhwZWN0IHRoaXMgdG8gaGFwcGVuIGJlZm9yZSBpZlxuICAgIC8vIGl0IGlzIGFzeW5jXG4gICAgY2IoZXIpO1xuICAgIHN0cmVhbS5fd3JpdGFibGVTdGF0ZS5lcnJvckVtaXR0ZWQgPSB0cnVlO1xuICAgIGVycm9yT3JEZXN0cm95KHN0cmVhbSwgZXIpOyAvLyB0aGlzIGNhbiBlbWl0IGZpbmlzaCwgYnV0IGZpbmlzaCBtdXN0XG4gICAgLy8gYWx3YXlzIGZvbGxvdyBlcnJvclxuXG4gICAgZmluaXNoTWF5YmUoc3RyZWFtLCBzdGF0ZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gb253cml0ZVN0YXRlVXBkYXRlKHN0YXRlKSB7XG4gIHN0YXRlLndyaXRpbmcgPSBmYWxzZTtcbiAgc3RhdGUud3JpdGVjYiA9IG51bGw7XG4gIHN0YXRlLmxlbmd0aCAtPSBzdGF0ZS53cml0ZWxlbjtcbiAgc3RhdGUud3JpdGVsZW4gPSAwO1xufVxuXG5mdW5jdGlvbiBvbndyaXRlKHN0cmVhbSwgZXIpIHtcbiAgdmFyIHN0YXRlID0gc3RyZWFtLl93cml0YWJsZVN0YXRlO1xuICB2YXIgc3luYyA9IHN0YXRlLnN5bmM7XG4gIHZhciBjYiA9IHN0YXRlLndyaXRlY2I7XG4gIGlmICh0eXBlb2YgY2IgIT09ICdmdW5jdGlvbicpIHRocm93IG5ldyBFUlJfTVVMVElQTEVfQ0FMTEJBQ0soKTtcbiAgb253cml0ZVN0YXRlVXBkYXRlKHN0YXRlKTtcbiAgaWYgKGVyKSBvbndyaXRlRXJyb3Ioc3RyZWFtLCBzdGF0ZSwgc3luYywgZXIsIGNiKTtlbHNlIHtcbiAgICAvLyBDaGVjayBpZiB3ZSdyZSBhY3R1YWxseSByZWFkeSB0byBmaW5pc2gsIGJ1dCBkb24ndCBlbWl0IHlldFxuICAgIHZhciBmaW5pc2hlZCA9IG5lZWRGaW5pc2goc3RhdGUpIHx8IHN0cmVhbS5kZXN0cm95ZWQ7XG5cbiAgICBpZiAoIWZpbmlzaGVkICYmICFzdGF0ZS5jb3JrZWQgJiYgIXN0YXRlLmJ1ZmZlclByb2Nlc3NpbmcgJiYgc3RhdGUuYnVmZmVyZWRSZXF1ZXN0KSB7XG4gICAgICBjbGVhckJ1ZmZlcihzdHJlYW0sIHN0YXRlKTtcbiAgICB9XG5cbiAgICBpZiAoc3luYykge1xuICAgICAgcHJvY2Vzcy5uZXh0VGljayhhZnRlcldyaXRlLCBzdHJlYW0sIHN0YXRlLCBmaW5pc2hlZCwgY2IpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhZnRlcldyaXRlKHN0cmVhbSwgc3RhdGUsIGZpbmlzaGVkLCBjYik7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGFmdGVyV3JpdGUoc3RyZWFtLCBzdGF0ZSwgZmluaXNoZWQsIGNiKSB7XG4gIGlmICghZmluaXNoZWQpIG9ud3JpdGVEcmFpbihzdHJlYW0sIHN0YXRlKTtcbiAgc3RhdGUucGVuZGluZ2NiLS07XG4gIGNiKCk7XG4gIGZpbmlzaE1heWJlKHN0cmVhbSwgc3RhdGUpO1xufSAvLyBNdXN0IGZvcmNlIGNhbGxiYWNrIHRvIGJlIGNhbGxlZCBvbiBuZXh0VGljaywgc28gdGhhdCB3ZSBkb24ndFxuLy8gZW1pdCAnZHJhaW4nIGJlZm9yZSB0aGUgd3JpdGUoKSBjb25zdW1lciBnZXRzIHRoZSAnZmFsc2UnIHJldHVyblxuLy8gdmFsdWUsIGFuZCBoYXMgYSBjaGFuY2UgdG8gYXR0YWNoIGEgJ2RyYWluJyBsaXN0ZW5lci5cblxuXG5mdW5jdGlvbiBvbndyaXRlRHJhaW4oc3RyZWFtLCBzdGF0ZSkge1xuICBpZiAoc3RhdGUubGVuZ3RoID09PSAwICYmIHN0YXRlLm5lZWREcmFpbikge1xuICAgIHN0YXRlLm5lZWREcmFpbiA9IGZhbHNlO1xuICAgIHN0cmVhbS5lbWl0KCdkcmFpbicpO1xuICB9XG59IC8vIGlmIHRoZXJlJ3Mgc29tZXRoaW5nIGluIHRoZSBidWZmZXIgd2FpdGluZywgdGhlbiBwcm9jZXNzIGl0XG5cblxuZnVuY3Rpb24gY2xlYXJCdWZmZXIoc3RyZWFtLCBzdGF0ZSkge1xuICBzdGF0ZS5idWZmZXJQcm9jZXNzaW5nID0gdHJ1ZTtcbiAgdmFyIGVudHJ5ID0gc3RhdGUuYnVmZmVyZWRSZXF1ZXN0O1xuXG4gIGlmIChzdHJlYW0uX3dyaXRldiAmJiBlbnRyeSAmJiBlbnRyeS5uZXh0KSB7XG4gICAgLy8gRmFzdCBjYXNlLCB3cml0ZSBldmVyeXRoaW5nIHVzaW5nIF93cml0ZXYoKVxuICAgIHZhciBsID0gc3RhdGUuYnVmZmVyZWRSZXF1ZXN0Q291bnQ7XG4gICAgdmFyIGJ1ZmZlciA9IG5ldyBBcnJheShsKTtcbiAgICB2YXIgaG9sZGVyID0gc3RhdGUuY29ya2VkUmVxdWVzdHNGcmVlO1xuICAgIGhvbGRlci5lbnRyeSA9IGVudHJ5O1xuICAgIHZhciBjb3VudCA9IDA7XG4gICAgdmFyIGFsbEJ1ZmZlcnMgPSB0cnVlO1xuXG4gICAgd2hpbGUgKGVudHJ5KSB7XG4gICAgICBidWZmZXJbY291bnRdID0gZW50cnk7XG4gICAgICBpZiAoIWVudHJ5LmlzQnVmKSBhbGxCdWZmZXJzID0gZmFsc2U7XG4gICAgICBlbnRyeSA9IGVudHJ5Lm5leHQ7XG4gICAgICBjb3VudCArPSAxO1xuICAgIH1cblxuICAgIGJ1ZmZlci5hbGxCdWZmZXJzID0gYWxsQnVmZmVycztcbiAgICBkb1dyaXRlKHN0cmVhbSwgc3RhdGUsIHRydWUsIHN0YXRlLmxlbmd0aCwgYnVmZmVyLCAnJywgaG9sZGVyLmZpbmlzaCk7IC8vIGRvV3JpdGUgaXMgYWxtb3N0IGFsd2F5cyBhc3luYywgZGVmZXIgdGhlc2UgdG8gc2F2ZSBhIGJpdCBvZiB0aW1lXG4gICAgLy8gYXMgdGhlIGhvdCBwYXRoIGVuZHMgd2l0aCBkb1dyaXRlXG5cbiAgICBzdGF0ZS5wZW5kaW5nY2IrKztcbiAgICBzdGF0ZS5sYXN0QnVmZmVyZWRSZXF1ZXN0ID0gbnVsbDtcblxuICAgIGlmIChob2xkZXIubmV4dCkge1xuICAgICAgc3RhdGUuY29ya2VkUmVxdWVzdHNGcmVlID0gaG9sZGVyLm5leHQ7XG4gICAgICBob2xkZXIubmV4dCA9IG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXRlLmNvcmtlZFJlcXVlc3RzRnJlZSA9IG5ldyBDb3JrZWRSZXF1ZXN0KHN0YXRlKTtcbiAgICB9XG5cbiAgICBzdGF0ZS5idWZmZXJlZFJlcXVlc3RDb3VudCA9IDA7XG4gIH0gZWxzZSB7XG4gICAgLy8gU2xvdyBjYXNlLCB3cml0ZSBjaHVua3Mgb25lLWJ5LW9uZVxuICAgIHdoaWxlIChlbnRyeSkge1xuICAgICAgdmFyIGNodW5rID0gZW50cnkuY2h1bms7XG4gICAgICB2YXIgZW5jb2RpbmcgPSBlbnRyeS5lbmNvZGluZztcbiAgICAgIHZhciBjYiA9IGVudHJ5LmNhbGxiYWNrO1xuICAgICAgdmFyIGxlbiA9IHN0YXRlLm9iamVjdE1vZGUgPyAxIDogY2h1bmsubGVuZ3RoO1xuICAgICAgZG9Xcml0ZShzdHJlYW0sIHN0YXRlLCBmYWxzZSwgbGVuLCBjaHVuaywgZW5jb2RpbmcsIGNiKTtcbiAgICAgIGVudHJ5ID0gZW50cnkubmV4dDtcbiAgICAgIHN0YXRlLmJ1ZmZlcmVkUmVxdWVzdENvdW50LS07IC8vIGlmIHdlIGRpZG4ndCBjYWxsIHRoZSBvbndyaXRlIGltbWVkaWF0ZWx5LCB0aGVuXG4gICAgICAvLyBpdCBtZWFucyB0aGF0IHdlIG5lZWQgdG8gd2FpdCB1bnRpbCBpdCBkb2VzLlxuICAgICAgLy8gYWxzbywgdGhhdCBtZWFucyB0aGF0IHRoZSBjaHVuayBhbmQgY2IgYXJlIGN1cnJlbnRseVxuICAgICAgLy8gYmVpbmcgcHJvY2Vzc2VkLCBzbyBtb3ZlIHRoZSBidWZmZXIgY291bnRlciBwYXN0IHRoZW0uXG5cbiAgICAgIGlmIChzdGF0ZS53cml0aW5nKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChlbnRyeSA9PT0gbnVsbCkgc3RhdGUubGFzdEJ1ZmZlcmVkUmVxdWVzdCA9IG51bGw7XG4gIH1cblxuICBzdGF0ZS5idWZmZXJlZFJlcXVlc3QgPSBlbnRyeTtcbiAgc3RhdGUuYnVmZmVyUHJvY2Vzc2luZyA9IGZhbHNlO1xufVxuXG5Xcml0YWJsZS5wcm90b3R5cGUuX3dyaXRlID0gZnVuY3Rpb24gKGNodW5rLCBlbmNvZGluZywgY2IpIHtcbiAgY2IobmV3IEVSUl9NRVRIT0RfTk9UX0lNUExFTUVOVEVEKCdfd3JpdGUoKScpKTtcbn07XG5cbldyaXRhYmxlLnByb3RvdHlwZS5fd3JpdGV2ID0gbnVsbDtcblxuV3JpdGFibGUucHJvdG90eXBlLmVuZCA9IGZ1bmN0aW9uIChjaHVuaywgZW5jb2RpbmcsIGNiKSB7XG4gIHZhciBzdGF0ZSA9IHRoaXMuX3dyaXRhYmxlU3RhdGU7XG5cbiAgaWYgKHR5cGVvZiBjaHVuayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNiID0gY2h1bms7XG4gICAgY2h1bmsgPSBudWxsO1xuICAgIGVuY29kaW5nID0gbnVsbDtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZW5jb2RpbmcgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjYiA9IGVuY29kaW5nO1xuICAgIGVuY29kaW5nID0gbnVsbDtcbiAgfVxuXG4gIGlmIChjaHVuayAhPT0gbnVsbCAmJiBjaHVuayAhPT0gdW5kZWZpbmVkKSB0aGlzLndyaXRlKGNodW5rLCBlbmNvZGluZyk7IC8vIC5lbmQoKSBmdWxseSB1bmNvcmtzXG5cbiAgaWYgKHN0YXRlLmNvcmtlZCkge1xuICAgIHN0YXRlLmNvcmtlZCA9IDE7XG4gICAgdGhpcy51bmNvcmsoKTtcbiAgfSAvLyBpZ25vcmUgdW5uZWNlc3NhcnkgZW5kKCkgY2FsbHMuXG5cblxuICBpZiAoIXN0YXRlLmVuZGluZykgZW5kV3JpdGFibGUodGhpcywgc3RhdGUsIGNiKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoV3JpdGFibGUucHJvdG90eXBlLCAnd3JpdGFibGVMZW5ndGgnLCB7XG4gIC8vIG1ha2luZyBpdCBleHBsaWNpdCB0aGlzIHByb3BlcnR5IGlzIG5vdCBlbnVtZXJhYmxlXG4gIC8vIGJlY2F1c2Ugb3RoZXJ3aXNlIHNvbWUgcHJvdG90eXBlIG1hbmlwdWxhdGlvbiBpblxuICAvLyB1c2VybGFuZCB3aWxsIGZhaWxcbiAgZW51bWVyYWJsZTogZmFsc2UsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiB0aGlzLl93cml0YWJsZVN0YXRlLmxlbmd0aDtcbiAgfVxufSk7XG5cbmZ1bmN0aW9uIG5lZWRGaW5pc2goc3RhdGUpIHtcbiAgcmV0dXJuIHN0YXRlLmVuZGluZyAmJiBzdGF0ZS5sZW5ndGggPT09IDAgJiYgc3RhdGUuYnVmZmVyZWRSZXF1ZXN0ID09PSBudWxsICYmICFzdGF0ZS5maW5pc2hlZCAmJiAhc3RhdGUud3JpdGluZztcbn1cblxuZnVuY3Rpb24gY2FsbEZpbmFsKHN0cmVhbSwgc3RhdGUpIHtcbiAgc3RyZWFtLl9maW5hbChmdW5jdGlvbiAoZXJyKSB7XG4gICAgc3RhdGUucGVuZGluZ2NiLS07XG5cbiAgICBpZiAoZXJyKSB7XG4gICAgICBlcnJvck9yRGVzdHJveShzdHJlYW0sIGVycik7XG4gICAgfVxuXG4gICAgc3RhdGUucHJlZmluaXNoZWQgPSB0cnVlO1xuICAgIHN0cmVhbS5lbWl0KCdwcmVmaW5pc2gnKTtcbiAgICBmaW5pc2hNYXliZShzdHJlYW0sIHN0YXRlKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHByZWZpbmlzaChzdHJlYW0sIHN0YXRlKSB7XG4gIGlmICghc3RhdGUucHJlZmluaXNoZWQgJiYgIXN0YXRlLmZpbmFsQ2FsbGVkKSB7XG4gICAgaWYgKHR5cGVvZiBzdHJlYW0uX2ZpbmFsID09PSAnZnVuY3Rpb24nICYmICFzdGF0ZS5kZXN0cm95ZWQpIHtcbiAgICAgIHN0YXRlLnBlbmRpbmdjYisrO1xuICAgICAgc3RhdGUuZmluYWxDYWxsZWQgPSB0cnVlO1xuICAgICAgcHJvY2Vzcy5uZXh0VGljayhjYWxsRmluYWwsIHN0cmVhbSwgc3RhdGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGF0ZS5wcmVmaW5pc2hlZCA9IHRydWU7XG4gICAgICBzdHJlYW0uZW1pdCgncHJlZmluaXNoJyk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGZpbmlzaE1heWJlKHN0cmVhbSwgc3RhdGUpIHtcbiAgdmFyIG5lZWQgPSBuZWVkRmluaXNoKHN0YXRlKTtcblxuICBpZiAobmVlZCkge1xuICAgIHByZWZpbmlzaChzdHJlYW0sIHN0YXRlKTtcblxuICAgIGlmIChzdGF0ZS5wZW5kaW5nY2IgPT09IDApIHtcbiAgICAgIHN0YXRlLmZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgIHN0cmVhbS5lbWl0KCdmaW5pc2gnKTtcblxuICAgICAgaWYgKHN0YXRlLmF1dG9EZXN0cm95KSB7XG4gICAgICAgIC8vIEluIGNhc2Ugb2YgZHVwbGV4IHN0cmVhbXMgd2UgbmVlZCBhIHdheSB0byBkZXRlY3RcbiAgICAgICAgLy8gaWYgdGhlIHJlYWRhYmxlIHNpZGUgaXMgcmVhZHkgZm9yIGF1dG9EZXN0cm95IGFzIHdlbGxcbiAgICAgICAgdmFyIHJTdGF0ZSA9IHN0cmVhbS5fcmVhZGFibGVTdGF0ZTtcblxuICAgICAgICBpZiAoIXJTdGF0ZSB8fCByU3RhdGUuYXV0b0Rlc3Ryb3kgJiYgclN0YXRlLmVuZEVtaXR0ZWQpIHtcbiAgICAgICAgICBzdHJlYW0uZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5lZWQ7XG59XG5cbmZ1bmN0aW9uIGVuZFdyaXRhYmxlKHN0cmVhbSwgc3RhdGUsIGNiKSB7XG4gIHN0YXRlLmVuZGluZyA9IHRydWU7XG4gIGZpbmlzaE1heWJlKHN0cmVhbSwgc3RhdGUpO1xuXG4gIGlmIChjYikge1xuICAgIGlmIChzdGF0ZS5maW5pc2hlZCkgcHJvY2Vzcy5uZXh0VGljayhjYik7ZWxzZSBzdHJlYW0ub25jZSgnZmluaXNoJywgY2IpO1xuICB9XG5cbiAgc3RhdGUuZW5kZWQgPSB0cnVlO1xuICBzdHJlYW0ud3JpdGFibGUgPSBmYWxzZTtcbn1cblxuZnVuY3Rpb24gb25Db3JrZWRGaW5pc2goY29ya1JlcSwgc3RhdGUsIGVycikge1xuICB2YXIgZW50cnkgPSBjb3JrUmVxLmVudHJ5O1xuICBjb3JrUmVxLmVudHJ5ID0gbnVsbDtcblxuICB3aGlsZSAoZW50cnkpIHtcbiAgICB2YXIgY2IgPSBlbnRyeS5jYWxsYmFjaztcbiAgICBzdGF0ZS5wZW5kaW5nY2ItLTtcbiAgICBjYihlcnIpO1xuICAgIGVudHJ5ID0gZW50cnkubmV4dDtcbiAgfSAvLyByZXVzZSB0aGUgZnJlZSBjb3JrUmVxLlxuXG5cbiAgc3RhdGUuY29ya2VkUmVxdWVzdHNGcmVlLm5leHQgPSBjb3JrUmVxO1xufVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoV3JpdGFibGUucHJvdG90eXBlLCAnZGVzdHJveWVkJywge1xuICAvLyBtYWtpbmcgaXQgZXhwbGljaXQgdGhpcyBwcm9wZXJ0eSBpcyBub3QgZW51bWVyYWJsZVxuICAvLyBiZWNhdXNlIG90aGVyd2lzZSBzb21lIHByb3RvdHlwZSBtYW5pcHVsYXRpb24gaW5cbiAgLy8gdXNlcmxhbmQgd2lsbCBmYWlsXG4gIGVudW1lcmFibGU6IGZhbHNlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICBpZiAodGhpcy5fd3JpdGFibGVTdGF0ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX3dyaXRhYmxlU3RhdGUuZGVzdHJveWVkO1xuICB9LFxuICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgIC8vIHdlIGlnbm9yZSB0aGUgdmFsdWUgaWYgdGhlIHN0cmVhbVxuICAgIC8vIGhhcyBub3QgYmVlbiBpbml0aWFsaXplZCB5ZXRcbiAgICBpZiAoIXRoaXMuX3dyaXRhYmxlU3RhdGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9IC8vIGJhY2t3YXJkIGNvbXBhdGliaWxpdHksIHRoZSB1c2VyIGlzIGV4cGxpY2l0bHlcbiAgICAvLyBtYW5hZ2luZyBkZXN0cm95ZWRcblxuXG4gICAgdGhpcy5fd3JpdGFibGVTdGF0ZS5kZXN0cm95ZWQgPSB2YWx1ZTtcbiAgfVxufSk7XG5Xcml0YWJsZS5wcm90b3R5cGUuZGVzdHJveSA9IGRlc3Ryb3lJbXBsLmRlc3Ryb3k7XG5Xcml0YWJsZS5wcm90b3R5cGUuX3VuZGVzdHJveSA9IGRlc3Ryb3lJbXBsLnVuZGVzdHJveTtcblxuV3JpdGFibGUucHJvdG90eXBlLl9kZXN0cm95ID0gZnVuY3Rpb24gKGVyciwgY2IpIHtcbiAgY2IoZXJyKTtcbn07IiwgIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuLy8gYSBkdXBsZXggc3RyZWFtIGlzIGp1c3QgYSBzdHJlYW0gdGhhdCBpcyBib3RoIHJlYWRhYmxlIGFuZCB3cml0YWJsZS5cbi8vIFNpbmNlIEpTIGRvZXNuJ3QgaGF2ZSBtdWx0aXBsZSBwcm90b3R5cGFsIGluaGVyaXRhbmNlLCB0aGlzIGNsYXNzXG4vLyBwcm90b3R5cGFsbHkgaW5oZXJpdHMgZnJvbSBSZWFkYWJsZSwgYW5kIHRoZW4gcGFyYXNpdGljYWxseSBmcm9tXG4vLyBXcml0YWJsZS5cbid1c2Ugc3RyaWN0Jztcbi8qPHJlcGxhY2VtZW50PiovXG5cbnZhciBvYmplY3RLZXlzID0gT2JqZWN0LmtleXMgfHwgZnVuY3Rpb24gKG9iaikge1xuICB2YXIga2V5cyA9IFtdO1xuXG4gIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICBrZXlzLnB1c2goa2V5KTtcbiAgfVxuXG4gIHJldHVybiBrZXlzO1xufTtcbi8qPC9yZXBsYWNlbWVudD4qL1xuXG5cbm1vZHVsZS5leHBvcnRzID0gRHVwbGV4O1xuXG52YXIgUmVhZGFibGUgPSByZXF1aXJlKCcuL19zdHJlYW1fcmVhZGFibGUnKTtcblxudmFyIFdyaXRhYmxlID0gcmVxdWlyZSgnLi9fc3RyZWFtX3dyaXRhYmxlJyk7XG5cbnJlcXVpcmUoJ2luaGVyaXRzJykoRHVwbGV4LCBSZWFkYWJsZSk7XG5cbntcbiAgLy8gQWxsb3cgdGhlIGtleXMgYXJyYXkgdG8gYmUgR0MnZWQuXG4gIHZhciBrZXlzID0gb2JqZWN0S2V5cyhXcml0YWJsZS5wcm90b3R5cGUpO1xuXG4gIGZvciAodmFyIHYgPSAwOyB2IDwga2V5cy5sZW5ndGg7IHYrKykge1xuICAgIHZhciBtZXRob2QgPSBrZXlzW3ZdO1xuICAgIGlmICghRHVwbGV4LnByb3RvdHlwZVttZXRob2RdKSBEdXBsZXgucHJvdG90eXBlW21ldGhvZF0gPSBXcml0YWJsZS5wcm90b3R5cGVbbWV0aG9kXTtcbiAgfVxufVxuXG5mdW5jdGlvbiBEdXBsZXgob3B0aW9ucykge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgRHVwbGV4KSkgcmV0dXJuIG5ldyBEdXBsZXgob3B0aW9ucyk7XG4gIFJlYWRhYmxlLmNhbGwodGhpcywgb3B0aW9ucyk7XG4gIFdyaXRhYmxlLmNhbGwodGhpcywgb3B0aW9ucyk7XG4gIHRoaXMuYWxsb3dIYWxmT3BlbiA9IHRydWU7XG5cbiAgaWYgKG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucy5yZWFkYWJsZSA9PT0gZmFsc2UpIHRoaXMucmVhZGFibGUgPSBmYWxzZTtcbiAgICBpZiAob3B0aW9ucy53cml0YWJsZSA9PT0gZmFsc2UpIHRoaXMud3JpdGFibGUgPSBmYWxzZTtcblxuICAgIGlmIChvcHRpb25zLmFsbG93SGFsZk9wZW4gPT09IGZhbHNlKSB7XG4gICAgICB0aGlzLmFsbG93SGFsZk9wZW4gPSBmYWxzZTtcbiAgICAgIHRoaXMub25jZSgnZW5kJywgb25lbmQpO1xuICAgIH1cbiAgfVxufVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoRHVwbGV4LnByb3RvdHlwZSwgJ3dyaXRhYmxlSGlnaFdhdGVyTWFyaycsIHtcbiAgLy8gbWFraW5nIGl0IGV4cGxpY2l0IHRoaXMgcHJvcGVydHkgaXMgbm90IGVudW1lcmFibGVcbiAgLy8gYmVjYXVzZSBvdGhlcndpc2Ugc29tZSBwcm90b3R5cGUgbWFuaXB1bGF0aW9uIGluXG4gIC8vIHVzZXJsYW5kIHdpbGwgZmFpbFxuICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3dyaXRhYmxlU3RhdGUuaGlnaFdhdGVyTWFyaztcbiAgfVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoRHVwbGV4LnByb3RvdHlwZSwgJ3dyaXRhYmxlQnVmZmVyJywge1xuICAvLyBtYWtpbmcgaXQgZXhwbGljaXQgdGhpcyBwcm9wZXJ0eSBpcyBub3QgZW51bWVyYWJsZVxuICAvLyBiZWNhdXNlIG90aGVyd2lzZSBzb21lIHByb3RvdHlwZSBtYW5pcHVsYXRpb24gaW5cbiAgLy8gdXNlcmxhbmQgd2lsbCBmYWlsXG4gIGVudW1lcmFibGU6IGZhbHNlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gdGhpcy5fd3JpdGFibGVTdGF0ZSAmJiB0aGlzLl93cml0YWJsZVN0YXRlLmdldEJ1ZmZlcigpO1xuICB9XG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShEdXBsZXgucHJvdG90eXBlLCAnd3JpdGFibGVMZW5ndGgnLCB7XG4gIC8vIG1ha2luZyBpdCBleHBsaWNpdCB0aGlzIHByb3BlcnR5IGlzIG5vdCBlbnVtZXJhYmxlXG4gIC8vIGJlY2F1c2Ugb3RoZXJ3aXNlIHNvbWUgcHJvdG90eXBlIG1hbmlwdWxhdGlvbiBpblxuICAvLyB1c2VybGFuZCB3aWxsIGZhaWxcbiAgZW51bWVyYWJsZTogZmFsc2UsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiB0aGlzLl93cml0YWJsZVN0YXRlLmxlbmd0aDtcbiAgfVxufSk7IC8vIHRoZSBuby1oYWxmLW9wZW4gZW5mb3JjZXJcblxuZnVuY3Rpb24gb25lbmQoKSB7XG4gIC8vIElmIHRoZSB3cml0YWJsZSBzaWRlIGVuZGVkLCB0aGVuIHdlJ3JlIG9rLlxuICBpZiAodGhpcy5fd3JpdGFibGVTdGF0ZS5lbmRlZCkgcmV0dXJuOyAvLyBubyBtb3JlIGRhdGEgY2FuIGJlIHdyaXR0ZW4uXG4gIC8vIEJ1dCBhbGxvdyBtb3JlIHdyaXRlcyB0byBoYXBwZW4gaW4gdGhpcyB0aWNrLlxuXG4gIHByb2Nlc3MubmV4dFRpY2sob25FbmROVCwgdGhpcyk7XG59XG5cbmZ1bmN0aW9uIG9uRW5kTlQoc2VsZikge1xuICBzZWxmLmVuZCgpO1xufVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoRHVwbGV4LnByb3RvdHlwZSwgJ2Rlc3Ryb3llZCcsIHtcbiAgLy8gbWFraW5nIGl0IGV4cGxpY2l0IHRoaXMgcHJvcGVydHkgaXMgbm90IGVudW1lcmFibGVcbiAgLy8gYmVjYXVzZSBvdGhlcndpc2Ugc29tZSBwcm90b3R5cGUgbWFuaXB1bGF0aW9uIGluXG4gIC8vIHVzZXJsYW5kIHdpbGwgZmFpbFxuICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgaWYgKHRoaXMuX3JlYWRhYmxlU3RhdGUgPT09IHVuZGVmaW5lZCB8fCB0aGlzLl93cml0YWJsZVN0YXRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5fcmVhZGFibGVTdGF0ZS5kZXN0cm95ZWQgJiYgdGhpcy5fd3JpdGFibGVTdGF0ZS5kZXN0cm95ZWQ7XG4gIH0sXG4gIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgLy8gd2UgaWdub3JlIHRoZSB2YWx1ZSBpZiB0aGUgc3RyZWFtXG4gICAgLy8gaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkIHlldFxuICAgIGlmICh0aGlzLl9yZWFkYWJsZVN0YXRlID09PSB1bmRlZmluZWQgfHwgdGhpcy5fd3JpdGFibGVTdGF0ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfSAvLyBiYWNrd2FyZCBjb21wYXRpYmlsaXR5LCB0aGUgdXNlciBpcyBleHBsaWNpdGx5XG4gICAgLy8gbWFuYWdpbmcgZGVzdHJveWVkXG5cblxuICAgIHRoaXMuX3JlYWRhYmxlU3RhdGUuZGVzdHJveWVkID0gdmFsdWU7XG4gICAgdGhpcy5fd3JpdGFibGVTdGF0ZS5kZXN0cm95ZWQgPSB2YWx1ZTtcbiAgfVxufSk7IiwgIi8qISBzYWZlLWJ1ZmZlci4gTUlUIExpY2Vuc2UuIEZlcm9zcyBBYm91a2hhZGlqZWggPGh0dHBzOi8vZmVyb3NzLm9yZy9vcGVuc291cmNlPiAqL1xuLyogZXNsaW50LWRpc2FibGUgbm9kZS9uby1kZXByZWNhdGVkLWFwaSAqL1xudmFyIGJ1ZmZlciA9IHJlcXVpcmUoJ2J1ZmZlcicpXG52YXIgQnVmZmVyID0gYnVmZmVyLkJ1ZmZlclxuXG4vLyBhbHRlcm5hdGl2ZSB0byB1c2luZyBPYmplY3Qua2V5cyBmb3Igb2xkIGJyb3dzZXJzXG5mdW5jdGlvbiBjb3B5UHJvcHMgKHNyYywgZHN0KSB7XG4gIGZvciAodmFyIGtleSBpbiBzcmMpIHtcbiAgICBkc3Rba2V5XSA9IHNyY1trZXldXG4gIH1cbn1cbmlmIChCdWZmZXIuZnJvbSAmJiBCdWZmZXIuYWxsb2MgJiYgQnVmZmVyLmFsbG9jVW5zYWZlICYmIEJ1ZmZlci5hbGxvY1Vuc2FmZVNsb3cpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSBidWZmZXJcbn0gZWxzZSB7XG4gIC8vIENvcHkgcHJvcGVydGllcyBmcm9tIHJlcXVpcmUoJ2J1ZmZlcicpXG4gIGNvcHlQcm9wcyhidWZmZXIsIGV4cG9ydHMpXG4gIGV4cG9ydHMuQnVmZmVyID0gU2FmZUJ1ZmZlclxufVxuXG5mdW5jdGlvbiBTYWZlQnVmZmVyIChhcmcsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gQnVmZmVyKGFyZywgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKVxufVxuXG5TYWZlQnVmZmVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQnVmZmVyLnByb3RvdHlwZSlcblxuLy8gQ29weSBzdGF0aWMgbWV0aG9kcyBmcm9tIEJ1ZmZlclxuY29weVByb3BzKEJ1ZmZlciwgU2FmZUJ1ZmZlcilcblxuU2FmZUJ1ZmZlci5mcm9tID0gZnVuY3Rpb24gKGFyZywgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKSB7XG4gIGlmICh0eXBlb2YgYXJnID09PSAnbnVtYmVyJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50IG11c3Qgbm90IGJlIGEgbnVtYmVyJylcbiAgfVxuICByZXR1cm4gQnVmZmVyKGFyZywgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKVxufVxuXG5TYWZlQnVmZmVyLmFsbG9jID0gZnVuY3Rpb24gKHNpemUsIGZpbGwsIGVuY29kaW5nKSB7XG4gIGlmICh0eXBlb2Ygc2l6ZSAhPT0gJ251bWJlcicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudCBtdXN0IGJlIGEgbnVtYmVyJylcbiAgfVxuICB2YXIgYnVmID0gQnVmZmVyKHNpemUpXG4gIGlmIChmaWxsICE9PSB1bmRlZmluZWQpIHtcbiAgICBpZiAodHlwZW9mIGVuY29kaW5nID09PSAnc3RyaW5nJykge1xuICAgICAgYnVmLmZpbGwoZmlsbCwgZW5jb2RpbmcpXG4gICAgfSBlbHNlIHtcbiAgICAgIGJ1Zi5maWxsKGZpbGwpXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGJ1Zi5maWxsKDApXG4gIH1cbiAgcmV0dXJuIGJ1ZlxufVxuXG5TYWZlQnVmZmVyLmFsbG9jVW5zYWZlID0gZnVuY3Rpb24gKHNpemUpIHtcbiAgaWYgKHR5cGVvZiBzaXplICE9PSAnbnVtYmVyJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50IG11c3QgYmUgYSBudW1iZXInKVxuICB9XG4gIHJldHVybiBCdWZmZXIoc2l6ZSlcbn1cblxuU2FmZUJ1ZmZlci5hbGxvY1Vuc2FmZVNsb3cgPSBmdW5jdGlvbiAoc2l6ZSkge1xuICBpZiAodHlwZW9mIHNpemUgIT09ICdudW1iZXInKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnQgbXVzdCBiZSBhIG51bWJlcicpXG4gIH1cbiAgcmV0dXJuIGJ1ZmZlci5TbG93QnVmZmVyKHNpemUpXG59XG4iLCAiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbid1c2Ugc3RyaWN0JztcblxuLyo8cmVwbGFjZW1lbnQ+Ki9cblxudmFyIEJ1ZmZlciA9IHJlcXVpcmUoJ3NhZmUtYnVmZmVyJykuQnVmZmVyO1xuLyo8L3JlcGxhY2VtZW50PiovXG5cbnZhciBpc0VuY29kaW5nID0gQnVmZmVyLmlzRW5jb2RpbmcgfHwgZnVuY3Rpb24gKGVuY29kaW5nKSB7XG4gIGVuY29kaW5nID0gJycgKyBlbmNvZGluZztcbiAgc3dpdGNoIChlbmNvZGluZyAmJiBlbmNvZGluZy50b0xvd2VyQ2FzZSgpKSB7XG4gICAgY2FzZSAnaGV4JzpjYXNlICd1dGY4JzpjYXNlICd1dGYtOCc6Y2FzZSAnYXNjaWknOmNhc2UgJ2JpbmFyeSc6Y2FzZSAnYmFzZTY0JzpjYXNlICd1Y3MyJzpjYXNlICd1Y3MtMic6Y2FzZSAndXRmMTZsZSc6Y2FzZSAndXRmLTE2bGUnOmNhc2UgJ3Jhdyc6XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG59O1xuXG5mdW5jdGlvbiBfbm9ybWFsaXplRW5jb2RpbmcoZW5jKSB7XG4gIGlmICghZW5jKSByZXR1cm4gJ3V0ZjgnO1xuICB2YXIgcmV0cmllZDtcbiAgd2hpbGUgKHRydWUpIHtcbiAgICBzd2l0Y2ggKGVuYykge1xuICAgICAgY2FzZSAndXRmOCc6XG4gICAgICBjYXNlICd1dGYtOCc6XG4gICAgICAgIHJldHVybiAndXRmOCc7XG4gICAgICBjYXNlICd1Y3MyJzpcbiAgICAgIGNhc2UgJ3Vjcy0yJzpcbiAgICAgIGNhc2UgJ3V0ZjE2bGUnOlxuICAgICAgY2FzZSAndXRmLTE2bGUnOlxuICAgICAgICByZXR1cm4gJ3V0ZjE2bGUnO1xuICAgICAgY2FzZSAnbGF0aW4xJzpcbiAgICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgICAgIHJldHVybiAnbGF0aW4xJztcbiAgICAgIGNhc2UgJ2Jhc2U2NCc6XG4gICAgICBjYXNlICdhc2NpaSc6XG4gICAgICBjYXNlICdoZXgnOlxuICAgICAgICByZXR1cm4gZW5jO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKHJldHJpZWQpIHJldHVybjsgLy8gdW5kZWZpbmVkXG4gICAgICAgIGVuYyA9ICgnJyArIGVuYykudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgcmV0cmllZCA9IHRydWU7XG4gICAgfVxuICB9XG59O1xuXG4vLyBEbyBub3QgY2FjaGUgYEJ1ZmZlci5pc0VuY29kaW5nYCB3aGVuIGNoZWNraW5nIGVuY29kaW5nIG5hbWVzIGFzIHNvbWVcbi8vIG1vZHVsZXMgbW9ua2V5LXBhdGNoIGl0IHRvIHN1cHBvcnQgYWRkaXRpb25hbCBlbmNvZGluZ3NcbmZ1bmN0aW9uIG5vcm1hbGl6ZUVuY29kaW5nKGVuYykge1xuICB2YXIgbmVuYyA9IF9ub3JtYWxpemVFbmNvZGluZyhlbmMpO1xuICBpZiAodHlwZW9mIG5lbmMgIT09ICdzdHJpbmcnICYmIChCdWZmZXIuaXNFbmNvZGluZyA9PT0gaXNFbmNvZGluZyB8fCAhaXNFbmNvZGluZyhlbmMpKSkgdGhyb3cgbmV3IEVycm9yKCdVbmtub3duIGVuY29kaW5nOiAnICsgZW5jKTtcbiAgcmV0dXJuIG5lbmMgfHwgZW5jO1xufVxuXG4vLyBTdHJpbmdEZWNvZGVyIHByb3ZpZGVzIGFuIGludGVyZmFjZSBmb3IgZWZmaWNpZW50bHkgc3BsaXR0aW5nIGEgc2VyaWVzIG9mXG4vLyBidWZmZXJzIGludG8gYSBzZXJpZXMgb2YgSlMgc3RyaW5ncyB3aXRob3V0IGJyZWFraW5nIGFwYXJ0IG11bHRpLWJ5dGVcbi8vIGNoYXJhY3RlcnMuXG5leHBvcnRzLlN0cmluZ0RlY29kZXIgPSBTdHJpbmdEZWNvZGVyO1xuZnVuY3Rpb24gU3RyaW5nRGVjb2RlcihlbmNvZGluZykge1xuICB0aGlzLmVuY29kaW5nID0gbm9ybWFsaXplRW5jb2RpbmcoZW5jb2RpbmcpO1xuICB2YXIgbmI7XG4gIHN3aXRjaCAodGhpcy5lbmNvZGluZykge1xuICAgIGNhc2UgJ3V0ZjE2bGUnOlxuICAgICAgdGhpcy50ZXh0ID0gdXRmMTZUZXh0O1xuICAgICAgdGhpcy5lbmQgPSB1dGYxNkVuZDtcbiAgICAgIG5iID0gNDtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3V0ZjgnOlxuICAgICAgdGhpcy5maWxsTGFzdCA9IHV0ZjhGaWxsTGFzdDtcbiAgICAgIG5iID0gNDtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2Jhc2U2NCc6XG4gICAgICB0aGlzLnRleHQgPSBiYXNlNjRUZXh0O1xuICAgICAgdGhpcy5lbmQgPSBiYXNlNjRFbmQ7XG4gICAgICBuYiA9IDM7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgdGhpcy53cml0ZSA9IHNpbXBsZVdyaXRlO1xuICAgICAgdGhpcy5lbmQgPSBzaW1wbGVFbmQ7XG4gICAgICByZXR1cm47XG4gIH1cbiAgdGhpcy5sYXN0TmVlZCA9IDA7XG4gIHRoaXMubGFzdFRvdGFsID0gMDtcbiAgdGhpcy5sYXN0Q2hhciA9IEJ1ZmZlci5hbGxvY1Vuc2FmZShuYik7XG59XG5cblN0cmluZ0RlY29kZXIucHJvdG90eXBlLndyaXRlID0gZnVuY3Rpb24gKGJ1Zikge1xuICBpZiAoYnVmLmxlbmd0aCA9PT0gMCkgcmV0dXJuICcnO1xuICB2YXIgcjtcbiAgdmFyIGk7XG4gIGlmICh0aGlzLmxhc3ROZWVkKSB7XG4gICAgciA9IHRoaXMuZmlsbExhc3QoYnVmKTtcbiAgICBpZiAociA9PT0gdW5kZWZpbmVkKSByZXR1cm4gJyc7XG4gICAgaSA9IHRoaXMubGFzdE5lZWQ7XG4gICAgdGhpcy5sYXN0TmVlZCA9IDA7XG4gIH0gZWxzZSB7XG4gICAgaSA9IDA7XG4gIH1cbiAgaWYgKGkgPCBidWYubGVuZ3RoKSByZXR1cm4gciA/IHIgKyB0aGlzLnRleHQoYnVmLCBpKSA6IHRoaXMudGV4dChidWYsIGkpO1xuICByZXR1cm4gciB8fCAnJztcbn07XG5cblN0cmluZ0RlY29kZXIucHJvdG90eXBlLmVuZCA9IHV0ZjhFbmQ7XG5cbi8vIFJldHVybnMgb25seSBjb21wbGV0ZSBjaGFyYWN0ZXJzIGluIGEgQnVmZmVyXG5TdHJpbmdEZWNvZGVyLnByb3RvdHlwZS50ZXh0ID0gdXRmOFRleHQ7XG5cbi8vIEF0dGVtcHRzIHRvIGNvbXBsZXRlIGEgcGFydGlhbCBub24tVVRGLTggY2hhcmFjdGVyIHVzaW5nIGJ5dGVzIGZyb20gYSBCdWZmZXJcblN0cmluZ0RlY29kZXIucHJvdG90eXBlLmZpbGxMYXN0ID0gZnVuY3Rpb24gKGJ1Zikge1xuICBpZiAodGhpcy5sYXN0TmVlZCA8PSBidWYubGVuZ3RoKSB7XG4gICAgYnVmLmNvcHkodGhpcy5sYXN0Q2hhciwgdGhpcy5sYXN0VG90YWwgLSB0aGlzLmxhc3ROZWVkLCAwLCB0aGlzLmxhc3ROZWVkKTtcbiAgICByZXR1cm4gdGhpcy5sYXN0Q2hhci50b1N0cmluZyh0aGlzLmVuY29kaW5nLCAwLCB0aGlzLmxhc3RUb3RhbCk7XG4gIH1cbiAgYnVmLmNvcHkodGhpcy5sYXN0Q2hhciwgdGhpcy5sYXN0VG90YWwgLSB0aGlzLmxhc3ROZWVkLCAwLCBidWYubGVuZ3RoKTtcbiAgdGhpcy5sYXN0TmVlZCAtPSBidWYubGVuZ3RoO1xufTtcblxuLy8gQ2hlY2tzIHRoZSB0eXBlIG9mIGEgVVRGLTggYnl0ZSwgd2hldGhlciBpdCdzIEFTQ0lJLCBhIGxlYWRpbmcgYnl0ZSwgb3IgYVxuLy8gY29udGludWF0aW9uIGJ5dGUuIElmIGFuIGludmFsaWQgYnl0ZSBpcyBkZXRlY3RlZCwgLTIgaXMgcmV0dXJuZWQuXG5mdW5jdGlvbiB1dGY4Q2hlY2tCeXRlKGJ5dGUpIHtcbiAgaWYgKGJ5dGUgPD0gMHg3RikgcmV0dXJuIDA7ZWxzZSBpZiAoYnl0ZSA+PiA1ID09PSAweDA2KSByZXR1cm4gMjtlbHNlIGlmIChieXRlID4+IDQgPT09IDB4MEUpIHJldHVybiAzO2Vsc2UgaWYgKGJ5dGUgPj4gMyA9PT0gMHgxRSkgcmV0dXJuIDQ7XG4gIHJldHVybiBieXRlID4+IDYgPT09IDB4MDIgPyAtMSA6IC0yO1xufVxuXG4vLyBDaGVja3MgYXQgbW9zdCAzIGJ5dGVzIGF0IHRoZSBlbmQgb2YgYSBCdWZmZXIgaW4gb3JkZXIgdG8gZGV0ZWN0IGFuXG4vLyBpbmNvbXBsZXRlIG11bHRpLWJ5dGUgVVRGLTggY2hhcmFjdGVyLiBUaGUgdG90YWwgbnVtYmVyIG9mIGJ5dGVzICgyLCAzLCBvciA0KVxuLy8gbmVlZGVkIHRvIGNvbXBsZXRlIHRoZSBVVEYtOCBjaGFyYWN0ZXIgKGlmIGFwcGxpY2FibGUpIGFyZSByZXR1cm5lZC5cbmZ1bmN0aW9uIHV0ZjhDaGVja0luY29tcGxldGUoc2VsZiwgYnVmLCBpKSB7XG4gIHZhciBqID0gYnVmLmxlbmd0aCAtIDE7XG4gIGlmIChqIDwgaSkgcmV0dXJuIDA7XG4gIHZhciBuYiA9IHV0ZjhDaGVja0J5dGUoYnVmW2pdKTtcbiAgaWYgKG5iID49IDApIHtcbiAgICBpZiAobmIgPiAwKSBzZWxmLmxhc3ROZWVkID0gbmIgLSAxO1xuICAgIHJldHVybiBuYjtcbiAgfVxuICBpZiAoLS1qIDwgaSB8fCBuYiA9PT0gLTIpIHJldHVybiAwO1xuICBuYiA9IHV0ZjhDaGVja0J5dGUoYnVmW2pdKTtcbiAgaWYgKG5iID49IDApIHtcbiAgICBpZiAobmIgPiAwKSBzZWxmLmxhc3ROZWVkID0gbmIgLSAyO1xuICAgIHJldHVybiBuYjtcbiAgfVxuICBpZiAoLS1qIDwgaSB8fCBuYiA9PT0gLTIpIHJldHVybiAwO1xuICBuYiA9IHV0ZjhDaGVja0J5dGUoYnVmW2pdKTtcbiAgaWYgKG5iID49IDApIHtcbiAgICBpZiAobmIgPiAwKSB7XG4gICAgICBpZiAobmIgPT09IDIpIG5iID0gMDtlbHNlIHNlbGYubGFzdE5lZWQgPSBuYiAtIDM7XG4gICAgfVxuICAgIHJldHVybiBuYjtcbiAgfVxuICByZXR1cm4gMDtcbn1cblxuLy8gVmFsaWRhdGVzIGFzIG1hbnkgY29udGludWF0aW9uIGJ5dGVzIGZvciBhIG11bHRpLWJ5dGUgVVRGLTggY2hhcmFjdGVyIGFzXG4vLyBuZWVkZWQgb3IgYXJlIGF2YWlsYWJsZS4gSWYgd2Ugc2VlIGEgbm9uLWNvbnRpbnVhdGlvbiBieXRlIHdoZXJlIHdlIGV4cGVjdFxuLy8gb25lLCB3ZSBcInJlcGxhY2VcIiB0aGUgdmFsaWRhdGVkIGNvbnRpbnVhdGlvbiBieXRlcyB3ZSd2ZSBzZWVuIHNvIGZhciB3aXRoXG4vLyBhIHNpbmdsZSBVVEYtOCByZXBsYWNlbWVudCBjaGFyYWN0ZXIgKCdcXHVmZmZkJyksIHRvIG1hdGNoIHY4J3MgVVRGLTggZGVjb2Rpbmdcbi8vIGJlaGF2aW9yLiBUaGUgY29udGludWF0aW9uIGJ5dGUgY2hlY2sgaXMgaW5jbHVkZWQgdGhyZWUgdGltZXMgaW4gdGhlIGNhc2Vcbi8vIHdoZXJlIGFsbCBvZiB0aGUgY29udGludWF0aW9uIGJ5dGVzIGZvciBhIGNoYXJhY3RlciBleGlzdCBpbiB0aGUgc2FtZSBidWZmZXIuXG4vLyBJdCBpcyBhbHNvIGRvbmUgdGhpcyB3YXkgYXMgYSBzbGlnaHQgcGVyZm9ybWFuY2UgaW5jcmVhc2UgaW5zdGVhZCBvZiB1c2luZyBhXG4vLyBsb29wLlxuZnVuY3Rpb24gdXRmOENoZWNrRXh0cmFCeXRlcyhzZWxmLCBidWYsIHApIHtcbiAgaWYgKChidWZbMF0gJiAweEMwKSAhPT0gMHg4MCkge1xuICAgIHNlbGYubGFzdE5lZWQgPSAwO1xuICAgIHJldHVybiAnXFx1ZmZmZCc7XG4gIH1cbiAgaWYgKHNlbGYubGFzdE5lZWQgPiAxICYmIGJ1Zi5sZW5ndGggPiAxKSB7XG4gICAgaWYgKChidWZbMV0gJiAweEMwKSAhPT0gMHg4MCkge1xuICAgICAgc2VsZi5sYXN0TmVlZCA9IDE7XG4gICAgICByZXR1cm4gJ1xcdWZmZmQnO1xuICAgIH1cbiAgICBpZiAoc2VsZi5sYXN0TmVlZCA+IDIgJiYgYnVmLmxlbmd0aCA+IDIpIHtcbiAgICAgIGlmICgoYnVmWzJdICYgMHhDMCkgIT09IDB4ODApIHtcbiAgICAgICAgc2VsZi5sYXN0TmVlZCA9IDI7XG4gICAgICAgIHJldHVybiAnXFx1ZmZmZCc7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8vIEF0dGVtcHRzIHRvIGNvbXBsZXRlIGEgbXVsdGktYnl0ZSBVVEYtOCBjaGFyYWN0ZXIgdXNpbmcgYnl0ZXMgZnJvbSBhIEJ1ZmZlci5cbmZ1bmN0aW9uIHV0ZjhGaWxsTGFzdChidWYpIHtcbiAgdmFyIHAgPSB0aGlzLmxhc3RUb3RhbCAtIHRoaXMubGFzdE5lZWQ7XG4gIHZhciByID0gdXRmOENoZWNrRXh0cmFCeXRlcyh0aGlzLCBidWYsIHApO1xuICBpZiAociAhPT0gdW5kZWZpbmVkKSByZXR1cm4gcjtcbiAgaWYgKHRoaXMubGFzdE5lZWQgPD0gYnVmLmxlbmd0aCkge1xuICAgIGJ1Zi5jb3B5KHRoaXMubGFzdENoYXIsIHAsIDAsIHRoaXMubGFzdE5lZWQpO1xuICAgIHJldHVybiB0aGlzLmxhc3RDaGFyLnRvU3RyaW5nKHRoaXMuZW5jb2RpbmcsIDAsIHRoaXMubGFzdFRvdGFsKTtcbiAgfVxuICBidWYuY29weSh0aGlzLmxhc3RDaGFyLCBwLCAwLCBidWYubGVuZ3RoKTtcbiAgdGhpcy5sYXN0TmVlZCAtPSBidWYubGVuZ3RoO1xufVxuXG4vLyBSZXR1cm5zIGFsbCBjb21wbGV0ZSBVVEYtOCBjaGFyYWN0ZXJzIGluIGEgQnVmZmVyLiBJZiB0aGUgQnVmZmVyIGVuZGVkIG9uIGFcbi8vIHBhcnRpYWwgY2hhcmFjdGVyLCB0aGUgY2hhcmFjdGVyJ3MgYnl0ZXMgYXJlIGJ1ZmZlcmVkIHVudGlsIHRoZSByZXF1aXJlZFxuLy8gbnVtYmVyIG9mIGJ5dGVzIGFyZSBhdmFpbGFibGUuXG5mdW5jdGlvbiB1dGY4VGV4dChidWYsIGkpIHtcbiAgdmFyIHRvdGFsID0gdXRmOENoZWNrSW5jb21wbGV0ZSh0aGlzLCBidWYsIGkpO1xuICBpZiAoIXRoaXMubGFzdE5lZWQpIHJldHVybiBidWYudG9TdHJpbmcoJ3V0ZjgnLCBpKTtcbiAgdGhpcy5sYXN0VG90YWwgPSB0b3RhbDtcbiAgdmFyIGVuZCA9IGJ1Zi5sZW5ndGggLSAodG90YWwgLSB0aGlzLmxhc3ROZWVkKTtcbiAgYnVmLmNvcHkodGhpcy5sYXN0Q2hhciwgMCwgZW5kKTtcbiAgcmV0dXJuIGJ1Zi50b1N0cmluZygndXRmOCcsIGksIGVuZCk7XG59XG5cbi8vIEZvciBVVEYtOCwgYSByZXBsYWNlbWVudCBjaGFyYWN0ZXIgaXMgYWRkZWQgd2hlbiBlbmRpbmcgb24gYSBwYXJ0aWFsXG4vLyBjaGFyYWN0ZXIuXG5mdW5jdGlvbiB1dGY4RW5kKGJ1Zikge1xuICB2YXIgciA9IGJ1ZiAmJiBidWYubGVuZ3RoID8gdGhpcy53cml0ZShidWYpIDogJyc7XG4gIGlmICh0aGlzLmxhc3ROZWVkKSByZXR1cm4gciArICdcXHVmZmZkJztcbiAgcmV0dXJuIHI7XG59XG5cbi8vIFVURi0xNkxFIHR5cGljYWxseSBuZWVkcyB0d28gYnl0ZXMgcGVyIGNoYXJhY3RlciwgYnV0IGV2ZW4gaWYgd2UgaGF2ZSBhbiBldmVuXG4vLyBudW1iZXIgb2YgYnl0ZXMgYXZhaWxhYmxlLCB3ZSBuZWVkIHRvIGNoZWNrIGlmIHdlIGVuZCBvbiBhIGxlYWRpbmcvaGlnaFxuLy8gc3Vycm9nYXRlLiBJbiB0aGF0IGNhc2UsIHdlIG5lZWQgdG8gd2FpdCBmb3IgdGhlIG5leHQgdHdvIGJ5dGVzIGluIG9yZGVyIHRvXG4vLyBkZWNvZGUgdGhlIGxhc3QgY2hhcmFjdGVyIHByb3Blcmx5LlxuZnVuY3Rpb24gdXRmMTZUZXh0KGJ1ZiwgaSkge1xuICBpZiAoKGJ1Zi5sZW5ndGggLSBpKSAlIDIgPT09IDApIHtcbiAgICB2YXIgciA9IGJ1Zi50b1N0cmluZygndXRmMTZsZScsIGkpO1xuICAgIGlmIChyKSB7XG4gICAgICB2YXIgYyA9IHIuY2hhckNvZGVBdChyLmxlbmd0aCAtIDEpO1xuICAgICAgaWYgKGMgPj0gMHhEODAwICYmIGMgPD0gMHhEQkZGKSB7XG4gICAgICAgIHRoaXMubGFzdE5lZWQgPSAyO1xuICAgICAgICB0aGlzLmxhc3RUb3RhbCA9IDQ7XG4gICAgICAgIHRoaXMubGFzdENoYXJbMF0gPSBidWZbYnVmLmxlbmd0aCAtIDJdO1xuICAgICAgICB0aGlzLmxhc3RDaGFyWzFdID0gYnVmW2J1Zi5sZW5ndGggLSAxXTtcbiAgICAgICAgcmV0dXJuIHIuc2xpY2UoMCwgLTEpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcjtcbiAgfVxuICB0aGlzLmxhc3ROZWVkID0gMTtcbiAgdGhpcy5sYXN0VG90YWwgPSAyO1xuICB0aGlzLmxhc3RDaGFyWzBdID0gYnVmW2J1Zi5sZW5ndGggLSAxXTtcbiAgcmV0dXJuIGJ1Zi50b1N0cmluZygndXRmMTZsZScsIGksIGJ1Zi5sZW5ndGggLSAxKTtcbn1cblxuLy8gRm9yIFVURi0xNkxFIHdlIGRvIG5vdCBleHBsaWNpdGx5IGFwcGVuZCBzcGVjaWFsIHJlcGxhY2VtZW50IGNoYXJhY3RlcnMgaWYgd2Vcbi8vIGVuZCBvbiBhIHBhcnRpYWwgY2hhcmFjdGVyLCB3ZSBzaW1wbHkgbGV0IHY4IGhhbmRsZSB0aGF0LlxuZnVuY3Rpb24gdXRmMTZFbmQoYnVmKSB7XG4gIHZhciByID0gYnVmICYmIGJ1Zi5sZW5ndGggPyB0aGlzLndyaXRlKGJ1ZikgOiAnJztcbiAgaWYgKHRoaXMubGFzdE5lZWQpIHtcbiAgICB2YXIgZW5kID0gdGhpcy5sYXN0VG90YWwgLSB0aGlzLmxhc3ROZWVkO1xuICAgIHJldHVybiByICsgdGhpcy5sYXN0Q2hhci50b1N0cmluZygndXRmMTZsZScsIDAsIGVuZCk7XG4gIH1cbiAgcmV0dXJuIHI7XG59XG5cbmZ1bmN0aW9uIGJhc2U2NFRleHQoYnVmLCBpKSB7XG4gIHZhciBuID0gKGJ1Zi5sZW5ndGggLSBpKSAlIDM7XG4gIGlmIChuID09PSAwKSByZXR1cm4gYnVmLnRvU3RyaW5nKCdiYXNlNjQnLCBpKTtcbiAgdGhpcy5sYXN0TmVlZCA9IDMgLSBuO1xuICB0aGlzLmxhc3RUb3RhbCA9IDM7XG4gIGlmIChuID09PSAxKSB7XG4gICAgdGhpcy5sYXN0Q2hhclswXSA9IGJ1ZltidWYubGVuZ3RoIC0gMV07XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5sYXN0Q2hhclswXSA9IGJ1ZltidWYubGVuZ3RoIC0gMl07XG4gICAgdGhpcy5sYXN0Q2hhclsxXSA9IGJ1ZltidWYubGVuZ3RoIC0gMV07XG4gIH1cbiAgcmV0dXJuIGJ1Zi50b1N0cmluZygnYmFzZTY0JywgaSwgYnVmLmxlbmd0aCAtIG4pO1xufVxuXG5mdW5jdGlvbiBiYXNlNjRFbmQoYnVmKSB7XG4gIHZhciByID0gYnVmICYmIGJ1Zi5sZW5ndGggPyB0aGlzLndyaXRlKGJ1ZikgOiAnJztcbiAgaWYgKHRoaXMubGFzdE5lZWQpIHJldHVybiByICsgdGhpcy5sYXN0Q2hhci50b1N0cmluZygnYmFzZTY0JywgMCwgMyAtIHRoaXMubGFzdE5lZWQpO1xuICByZXR1cm4gcjtcbn1cblxuLy8gUGFzcyBieXRlcyBvbiB0aHJvdWdoIGZvciBzaW5nbGUtYnl0ZSBlbmNvZGluZ3MgKGUuZy4gYXNjaWksIGxhdGluMSwgaGV4KVxuZnVuY3Rpb24gc2ltcGxlV3JpdGUoYnVmKSB7XG4gIHJldHVybiBidWYudG9TdHJpbmcodGhpcy5lbmNvZGluZyk7XG59XG5cbmZ1bmN0aW9uIHNpbXBsZUVuZChidWYpIHtcbiAgcmV0dXJuIGJ1ZiAmJiBidWYubGVuZ3RoID8gdGhpcy53cml0ZShidWYpIDogJyc7XG59IiwgIi8vIFBvcnRlZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9tYWZpbnRvc2gvZW5kLW9mLXN0cmVhbSB3aXRoXG4vLyBwZXJtaXNzaW9uIGZyb20gdGhlIGF1dGhvciwgTWF0aGlhcyBCdXVzIChAbWFmaW50b3NoKS5cbid1c2Ugc3RyaWN0JztcblxudmFyIEVSUl9TVFJFQU1fUFJFTUFUVVJFX0NMT1NFID0gcmVxdWlyZSgnLi4vLi4vLi4vZXJyb3JzJykuY29kZXMuRVJSX1NUUkVBTV9QUkVNQVRVUkVfQ0xPU0U7XG5cbmZ1bmN0aW9uIG9uY2UoY2FsbGJhY2spIHtcbiAgdmFyIGNhbGxlZCA9IGZhbHNlO1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIGlmIChjYWxsZWQpIHJldHVybjtcbiAgICBjYWxsZWQgPSB0cnVlO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIGNhbGxiYWNrLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBub29wKCkge31cblxuZnVuY3Rpb24gaXNSZXF1ZXN0KHN0cmVhbSkge1xuICByZXR1cm4gc3RyZWFtLnNldEhlYWRlciAmJiB0eXBlb2Ygc3RyZWFtLmFib3J0ID09PSAnZnVuY3Rpb24nO1xufVxuXG5mdW5jdGlvbiBlb3Moc3RyZWFtLCBvcHRzLCBjYWxsYmFjaykge1xuICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHJldHVybiBlb3Moc3RyZWFtLCBudWxsLCBvcHRzKTtcbiAgaWYgKCFvcHRzKSBvcHRzID0ge307XG4gIGNhbGxiYWNrID0gb25jZShjYWxsYmFjayB8fCBub29wKTtcbiAgdmFyIHJlYWRhYmxlID0gb3B0cy5yZWFkYWJsZSB8fCBvcHRzLnJlYWRhYmxlICE9PSBmYWxzZSAmJiBzdHJlYW0ucmVhZGFibGU7XG4gIHZhciB3cml0YWJsZSA9IG9wdHMud3JpdGFibGUgfHwgb3B0cy53cml0YWJsZSAhPT0gZmFsc2UgJiYgc3RyZWFtLndyaXRhYmxlO1xuXG4gIHZhciBvbmxlZ2FjeWZpbmlzaCA9IGZ1bmN0aW9uIG9ubGVnYWN5ZmluaXNoKCkge1xuICAgIGlmICghc3RyZWFtLndyaXRhYmxlKSBvbmZpbmlzaCgpO1xuICB9O1xuXG4gIHZhciB3cml0YWJsZUVuZGVkID0gc3RyZWFtLl93cml0YWJsZVN0YXRlICYmIHN0cmVhbS5fd3JpdGFibGVTdGF0ZS5maW5pc2hlZDtcblxuICB2YXIgb25maW5pc2ggPSBmdW5jdGlvbiBvbmZpbmlzaCgpIHtcbiAgICB3cml0YWJsZSA9IGZhbHNlO1xuICAgIHdyaXRhYmxlRW5kZWQgPSB0cnVlO1xuICAgIGlmICghcmVhZGFibGUpIGNhbGxiYWNrLmNhbGwoc3RyZWFtKTtcbiAgfTtcblxuICB2YXIgcmVhZGFibGVFbmRlZCA9IHN0cmVhbS5fcmVhZGFibGVTdGF0ZSAmJiBzdHJlYW0uX3JlYWRhYmxlU3RhdGUuZW5kRW1pdHRlZDtcblxuICB2YXIgb25lbmQgPSBmdW5jdGlvbiBvbmVuZCgpIHtcbiAgICByZWFkYWJsZSA9IGZhbHNlO1xuICAgIHJlYWRhYmxlRW5kZWQgPSB0cnVlO1xuICAgIGlmICghd3JpdGFibGUpIGNhbGxiYWNrLmNhbGwoc3RyZWFtKTtcbiAgfTtcblxuICB2YXIgb25lcnJvciA9IGZ1bmN0aW9uIG9uZXJyb3IoZXJyKSB7XG4gICAgY2FsbGJhY2suY2FsbChzdHJlYW0sIGVycik7XG4gIH07XG5cbiAgdmFyIG9uY2xvc2UgPSBmdW5jdGlvbiBvbmNsb3NlKCkge1xuICAgIHZhciBlcnI7XG5cbiAgICBpZiAocmVhZGFibGUgJiYgIXJlYWRhYmxlRW5kZWQpIHtcbiAgICAgIGlmICghc3RyZWFtLl9yZWFkYWJsZVN0YXRlIHx8ICFzdHJlYW0uX3JlYWRhYmxlU3RhdGUuZW5kZWQpIGVyciA9IG5ldyBFUlJfU1RSRUFNX1BSRU1BVFVSRV9DTE9TRSgpO1xuICAgICAgcmV0dXJuIGNhbGxiYWNrLmNhbGwoc3RyZWFtLCBlcnIpO1xuICAgIH1cblxuICAgIGlmICh3cml0YWJsZSAmJiAhd3JpdGFibGVFbmRlZCkge1xuICAgICAgaWYgKCFzdHJlYW0uX3dyaXRhYmxlU3RhdGUgfHwgIXN0cmVhbS5fd3JpdGFibGVTdGF0ZS5lbmRlZCkgZXJyID0gbmV3IEVSUl9TVFJFQU1fUFJFTUFUVVJFX0NMT1NFKCk7XG4gICAgICByZXR1cm4gY2FsbGJhY2suY2FsbChzdHJlYW0sIGVycik7XG4gICAgfVxuICB9O1xuXG4gIHZhciBvbnJlcXVlc3QgPSBmdW5jdGlvbiBvbnJlcXVlc3QoKSB7XG4gICAgc3RyZWFtLnJlcS5vbignZmluaXNoJywgb25maW5pc2gpO1xuICB9O1xuXG4gIGlmIChpc1JlcXVlc3Qoc3RyZWFtKSkge1xuICAgIHN0cmVhbS5vbignY29tcGxldGUnLCBvbmZpbmlzaCk7XG4gICAgc3RyZWFtLm9uKCdhYm9ydCcsIG9uY2xvc2UpO1xuICAgIGlmIChzdHJlYW0ucmVxKSBvbnJlcXVlc3QoKTtlbHNlIHN0cmVhbS5vbigncmVxdWVzdCcsIG9ucmVxdWVzdCk7XG4gIH0gZWxzZSBpZiAod3JpdGFibGUgJiYgIXN0cmVhbS5fd3JpdGFibGVTdGF0ZSkge1xuICAgIC8vIGxlZ2FjeSBzdHJlYW1zXG4gICAgc3RyZWFtLm9uKCdlbmQnLCBvbmxlZ2FjeWZpbmlzaCk7XG4gICAgc3RyZWFtLm9uKCdjbG9zZScsIG9ubGVnYWN5ZmluaXNoKTtcbiAgfVxuXG4gIHN0cmVhbS5vbignZW5kJywgb25lbmQpO1xuICBzdHJlYW0ub24oJ2ZpbmlzaCcsIG9uZmluaXNoKTtcbiAgaWYgKG9wdHMuZXJyb3IgIT09IGZhbHNlKSBzdHJlYW0ub24oJ2Vycm9yJywgb25lcnJvcik7XG4gIHN0cmVhbS5vbignY2xvc2UnLCBvbmNsb3NlKTtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBzdHJlYW0ucmVtb3ZlTGlzdGVuZXIoJ2NvbXBsZXRlJywgb25maW5pc2gpO1xuICAgIHN0cmVhbS5yZW1vdmVMaXN0ZW5lcignYWJvcnQnLCBvbmNsb3NlKTtcbiAgICBzdHJlYW0ucmVtb3ZlTGlzdGVuZXIoJ3JlcXVlc3QnLCBvbnJlcXVlc3QpO1xuICAgIGlmIChzdHJlYW0ucmVxKSBzdHJlYW0ucmVxLnJlbW92ZUxpc3RlbmVyKCdmaW5pc2gnLCBvbmZpbmlzaCk7XG4gICAgc3RyZWFtLnJlbW92ZUxpc3RlbmVyKCdlbmQnLCBvbmxlZ2FjeWZpbmlzaCk7XG4gICAgc3RyZWFtLnJlbW92ZUxpc3RlbmVyKCdjbG9zZScsIG9ubGVnYWN5ZmluaXNoKTtcbiAgICBzdHJlYW0ucmVtb3ZlTGlzdGVuZXIoJ2ZpbmlzaCcsIG9uZmluaXNoKTtcbiAgICBzdHJlYW0ucmVtb3ZlTGlzdGVuZXIoJ2VuZCcsIG9uZW5kKTtcbiAgICBzdHJlYW0ucmVtb3ZlTGlzdGVuZXIoJ2Vycm9yJywgb25lcnJvcik7XG4gICAgc3RyZWFtLnJlbW92ZUxpc3RlbmVyKCdjbG9zZScsIG9uY2xvc2UpO1xuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGVvczsiLCAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgX09iamVjdCRzZXRQcm90b3R5cGVPO1xuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG52YXIgZmluaXNoZWQgPSByZXF1aXJlKCcuL2VuZC1vZi1zdHJlYW0nKTtcblxudmFyIGtMYXN0UmVzb2x2ZSA9IFN5bWJvbCgnbGFzdFJlc29sdmUnKTtcbnZhciBrTGFzdFJlamVjdCA9IFN5bWJvbCgnbGFzdFJlamVjdCcpO1xudmFyIGtFcnJvciA9IFN5bWJvbCgnZXJyb3InKTtcbnZhciBrRW5kZWQgPSBTeW1ib2woJ2VuZGVkJyk7XG52YXIga0xhc3RQcm9taXNlID0gU3ltYm9sKCdsYXN0UHJvbWlzZScpO1xudmFyIGtIYW5kbGVQcm9taXNlID0gU3ltYm9sKCdoYW5kbGVQcm9taXNlJyk7XG52YXIga1N0cmVhbSA9IFN5bWJvbCgnc3RyZWFtJyk7XG5cbmZ1bmN0aW9uIGNyZWF0ZUl0ZXJSZXN1bHQodmFsdWUsIGRvbmUpIHtcbiAgcmV0dXJuIHtcbiAgICB2YWx1ZTogdmFsdWUsXG4gICAgZG9uZTogZG9uZVxuICB9O1xufVxuXG5mdW5jdGlvbiByZWFkQW5kUmVzb2x2ZShpdGVyKSB7XG4gIHZhciByZXNvbHZlID0gaXRlcltrTGFzdFJlc29sdmVdO1xuXG4gIGlmIChyZXNvbHZlICE9PSBudWxsKSB7XG4gICAgdmFyIGRhdGEgPSBpdGVyW2tTdHJlYW1dLnJlYWQoKTsgLy8gd2UgZGVmZXIgaWYgZGF0YSBpcyBudWxsXG4gICAgLy8gd2UgY2FuIGJlIGV4cGVjdGluZyBlaXRoZXIgJ2VuZCcgb3JcbiAgICAvLyAnZXJyb3InXG5cbiAgICBpZiAoZGF0YSAhPT0gbnVsbCkge1xuICAgICAgaXRlcltrTGFzdFByb21pc2VdID0gbnVsbDtcbiAgICAgIGl0ZXJba0xhc3RSZXNvbHZlXSA9IG51bGw7XG4gICAgICBpdGVyW2tMYXN0UmVqZWN0XSA9IG51bGw7XG4gICAgICByZXNvbHZlKGNyZWF0ZUl0ZXJSZXN1bHQoZGF0YSwgZmFsc2UpKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gb25SZWFkYWJsZShpdGVyKSB7XG4gIC8vIHdlIHdhaXQgZm9yIHRoZSBuZXh0IHRpY2ssIGJlY2F1c2UgaXQgbWlnaHRcbiAgLy8gZW1pdCBhbiBlcnJvciB3aXRoIHByb2Nlc3MubmV4dFRpY2tcbiAgcHJvY2Vzcy5uZXh0VGljayhyZWFkQW5kUmVzb2x2ZSwgaXRlcik7XG59XG5cbmZ1bmN0aW9uIHdyYXBGb3JOZXh0KGxhc3RQcm9taXNlLCBpdGVyKSB7XG4gIHJldHVybiBmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgbGFzdFByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoaXRlcltrRW5kZWRdKSB7XG4gICAgICAgIHJlc29sdmUoY3JlYXRlSXRlclJlc3VsdCh1bmRlZmluZWQsIHRydWUpKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpdGVyW2tIYW5kbGVQcm9taXNlXShyZXNvbHZlLCByZWplY3QpO1xuICAgIH0sIHJlamVjdCk7XG4gIH07XG59XG5cbnZhciBBc3luY0l0ZXJhdG9yUHJvdG90eXBlID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKGZ1bmN0aW9uICgpIHt9KTtcbnZhciBSZWFkYWJsZVN0cmVhbUFzeW5jSXRlcmF0b3JQcm90b3R5cGUgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YoKF9PYmplY3Qkc2V0UHJvdG90eXBlTyA9IHtcbiAgZ2V0IHN0cmVhbSgpIHtcbiAgICByZXR1cm4gdGhpc1trU3RyZWFtXTtcbiAgfSxcblxuICBuZXh0OiBmdW5jdGlvbiBuZXh0KCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAvLyBpZiB3ZSBoYXZlIGRldGVjdGVkIGFuIGVycm9yIGluIHRoZSBtZWFud2hpbGVcbiAgICAvLyByZWplY3Qgc3RyYWlnaHQgYXdheVxuICAgIHZhciBlcnJvciA9IHRoaXNba0Vycm9yXTtcblxuICAgIGlmIChlcnJvciAhPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgICB9XG5cbiAgICBpZiAodGhpc1trRW5kZWRdKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGNyZWF0ZUl0ZXJSZXN1bHQodW5kZWZpbmVkLCB0cnVlKSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXNba1N0cmVhbV0uZGVzdHJveWVkKSB7XG4gICAgICAvLyBXZSBuZWVkIHRvIGRlZmVyIHZpYSBuZXh0VGljayBiZWNhdXNlIGlmIC5kZXN0cm95KGVycikgaXNcbiAgICAgIC8vIGNhbGxlZCwgdGhlIGVycm9yIHdpbGwgYmUgZW1pdHRlZCB2aWEgbmV4dFRpY2ssIGFuZFxuICAgICAgLy8gd2UgY2Fubm90IGd1YXJhbnRlZSB0aGF0IHRoZXJlIGlzIG5vIGVycm9yIGxpbmdlcmluZyBhcm91bmRcbiAgICAgIC8vIHdhaXRpbmcgdG8gYmUgZW1pdHRlZC5cbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIHByb2Nlc3MubmV4dFRpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmIChfdGhpc1trRXJyb3JdKSB7XG4gICAgICAgICAgICByZWplY3QoX3RoaXNba0Vycm9yXSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc29sdmUoY3JlYXRlSXRlclJlc3VsdCh1bmRlZmluZWQsIHRydWUpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSAvLyBpZiB3ZSBoYXZlIG11bHRpcGxlIG5leHQoKSBjYWxsc1xuICAgIC8vIHdlIHdpbGwgd2FpdCBmb3IgdGhlIHByZXZpb3VzIFByb21pc2UgdG8gZmluaXNoXG4gICAgLy8gdGhpcyBsb2dpYyBpcyBvcHRpbWl6ZWQgdG8gc3VwcG9ydCBmb3IgYXdhaXQgbG9vcHMsXG4gICAgLy8gd2hlcmUgbmV4dCgpIGlzIG9ubHkgY2FsbGVkIG9uY2UgYXQgYSB0aW1lXG5cblxuICAgIHZhciBsYXN0UHJvbWlzZSA9IHRoaXNba0xhc3RQcm9taXNlXTtcbiAgICB2YXIgcHJvbWlzZTtcblxuICAgIGlmIChsYXN0UHJvbWlzZSkge1xuICAgICAgcHJvbWlzZSA9IG5ldyBQcm9taXNlKHdyYXBGb3JOZXh0KGxhc3RQcm9taXNlLCB0aGlzKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGZhc3QgcGF0aCBuZWVkZWQgdG8gc3VwcG9ydCBtdWx0aXBsZSB0aGlzLnB1c2goKVxuICAgICAgLy8gd2l0aG91dCB0cmlnZ2VyaW5nIHRoZSBuZXh0KCkgcXVldWVcbiAgICAgIHZhciBkYXRhID0gdGhpc1trU3RyZWFtXS5yZWFkKCk7XG5cbiAgICAgIGlmIChkYXRhICE9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoY3JlYXRlSXRlclJlc3VsdChkYXRhLCBmYWxzZSkpO1xuICAgICAgfVxuXG4gICAgICBwcm9taXNlID0gbmV3IFByb21pc2UodGhpc1trSGFuZGxlUHJvbWlzZV0pO1xuICAgIH1cblxuICAgIHRoaXNba0xhc3RQcm9taXNlXSA9IHByb21pc2U7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cbn0sIF9kZWZpbmVQcm9wZXJ0eShfT2JqZWN0JHNldFByb3RvdHlwZU8sIFN5bWJvbC5hc3luY0l0ZXJhdG9yLCBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzO1xufSksIF9kZWZpbmVQcm9wZXJ0eShfT2JqZWN0JHNldFByb3RvdHlwZU8sIFwicmV0dXJuXCIsIGZ1bmN0aW9uIF9yZXR1cm4oKSB7XG4gIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gIC8vIGRlc3Ryb3koZXJyLCBjYikgaXMgYSBwcml2YXRlIEFQSVxuICAvLyB3ZSBjYW4gZ3VhcmFudGVlIHdlIGhhdmUgdGhhdCBoZXJlLCBiZWNhdXNlIHdlIGNvbnRyb2wgdGhlXG4gIC8vIFJlYWRhYmxlIGNsYXNzIHRoaXMgaXMgYXR0YWNoZWQgdG9cbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBfdGhpczJba1N0cmVhbV0uZGVzdHJveShudWxsLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHJlc29sdmUoY3JlYXRlSXRlclJlc3VsdCh1bmRlZmluZWQsIHRydWUpKTtcbiAgICB9KTtcbiAgfSk7XG59KSwgX09iamVjdCRzZXRQcm90b3R5cGVPKSwgQXN5bmNJdGVyYXRvclByb3RvdHlwZSk7XG5cbnZhciBjcmVhdGVSZWFkYWJsZVN0cmVhbUFzeW5jSXRlcmF0b3IgPSBmdW5jdGlvbiBjcmVhdGVSZWFkYWJsZVN0cmVhbUFzeW5jSXRlcmF0b3Ioc3RyZWFtKSB7XG4gIHZhciBfT2JqZWN0JGNyZWF0ZTtcblxuICB2YXIgaXRlcmF0b3IgPSBPYmplY3QuY3JlYXRlKFJlYWRhYmxlU3RyZWFtQXN5bmNJdGVyYXRvclByb3RvdHlwZSwgKF9PYmplY3QkY3JlYXRlID0ge30sIF9kZWZpbmVQcm9wZXJ0eShfT2JqZWN0JGNyZWF0ZSwga1N0cmVhbSwge1xuICAgIHZhbHVlOiBzdHJlYW0sXG4gICAgd3JpdGFibGU6IHRydWVcbiAgfSksIF9kZWZpbmVQcm9wZXJ0eShfT2JqZWN0JGNyZWF0ZSwga0xhc3RSZXNvbHZlLCB7XG4gICAgdmFsdWU6IG51bGwsXG4gICAgd3JpdGFibGU6IHRydWVcbiAgfSksIF9kZWZpbmVQcm9wZXJ0eShfT2JqZWN0JGNyZWF0ZSwga0xhc3RSZWplY3QsIHtcbiAgICB2YWx1ZTogbnVsbCxcbiAgICB3cml0YWJsZTogdHJ1ZVxuICB9KSwgX2RlZmluZVByb3BlcnR5KF9PYmplY3QkY3JlYXRlLCBrRXJyb3IsIHtcbiAgICB2YWx1ZTogbnVsbCxcbiAgICB3cml0YWJsZTogdHJ1ZVxuICB9KSwgX2RlZmluZVByb3BlcnR5KF9PYmplY3QkY3JlYXRlLCBrRW5kZWQsIHtcbiAgICB2YWx1ZTogc3RyZWFtLl9yZWFkYWJsZVN0YXRlLmVuZEVtaXR0ZWQsXG4gICAgd3JpdGFibGU6IHRydWVcbiAgfSksIF9kZWZpbmVQcm9wZXJ0eShfT2JqZWN0JGNyZWF0ZSwga0hhbmRsZVByb21pc2UsIHtcbiAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB2YXIgZGF0YSA9IGl0ZXJhdG9yW2tTdHJlYW1dLnJlYWQoKTtcblxuICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgaXRlcmF0b3Jba0xhc3RQcm9taXNlXSA9IG51bGw7XG4gICAgICAgIGl0ZXJhdG9yW2tMYXN0UmVzb2x2ZV0gPSBudWxsO1xuICAgICAgICBpdGVyYXRvcltrTGFzdFJlamVjdF0gPSBudWxsO1xuICAgICAgICByZXNvbHZlKGNyZWF0ZUl0ZXJSZXN1bHQoZGF0YSwgZmFsc2UpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGl0ZXJhdG9yW2tMYXN0UmVzb2x2ZV0gPSByZXNvbHZlO1xuICAgICAgICBpdGVyYXRvcltrTGFzdFJlamVjdF0gPSByZWplY3Q7XG4gICAgICB9XG4gICAgfSxcbiAgICB3cml0YWJsZTogdHJ1ZVxuICB9KSwgX09iamVjdCRjcmVhdGUpKTtcbiAgaXRlcmF0b3Jba0xhc3RQcm9taXNlXSA9IG51bGw7XG4gIGZpbmlzaGVkKHN0cmVhbSwgZnVuY3Rpb24gKGVycikge1xuICAgIGlmIChlcnIgJiYgZXJyLmNvZGUgIT09ICdFUlJfU1RSRUFNX1BSRU1BVFVSRV9DTE9TRScpIHtcbiAgICAgIHZhciByZWplY3QgPSBpdGVyYXRvcltrTGFzdFJlamVjdF07IC8vIHJlamVjdCBpZiB3ZSBhcmUgd2FpdGluZyBmb3IgZGF0YSBpbiB0aGUgUHJvbWlzZVxuICAgICAgLy8gcmV0dXJuZWQgYnkgbmV4dCgpIGFuZCBzdG9yZSB0aGUgZXJyb3JcblxuICAgICAgaWYgKHJlamVjdCAhPT0gbnVsbCkge1xuICAgICAgICBpdGVyYXRvcltrTGFzdFByb21pc2VdID0gbnVsbDtcbiAgICAgICAgaXRlcmF0b3Jba0xhc3RSZXNvbHZlXSA9IG51bGw7XG4gICAgICAgIGl0ZXJhdG9yW2tMYXN0UmVqZWN0XSA9IG51bGw7XG4gICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgfVxuXG4gICAgICBpdGVyYXRvcltrRXJyb3JdID0gZXJyO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciByZXNvbHZlID0gaXRlcmF0b3Jba0xhc3RSZXNvbHZlXTtcblxuICAgIGlmIChyZXNvbHZlICE9PSBudWxsKSB7XG4gICAgICBpdGVyYXRvcltrTGFzdFByb21pc2VdID0gbnVsbDtcbiAgICAgIGl0ZXJhdG9yW2tMYXN0UmVzb2x2ZV0gPSBudWxsO1xuICAgICAgaXRlcmF0b3Jba0xhc3RSZWplY3RdID0gbnVsbDtcbiAgICAgIHJlc29sdmUoY3JlYXRlSXRlclJlc3VsdCh1bmRlZmluZWQsIHRydWUpKTtcbiAgICB9XG5cbiAgICBpdGVyYXRvcltrRW5kZWRdID0gdHJ1ZTtcbiAgfSk7XG4gIHN0cmVhbS5vbigncmVhZGFibGUnLCBvblJlYWRhYmxlLmJpbmQobnVsbCwgaXRlcmF0b3IpKTtcbiAgcmV0dXJuIGl0ZXJhdG9yO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBjcmVhdGVSZWFkYWJsZVN0cmVhbUFzeW5jSXRlcmF0b3I7IiwgIid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBrZXksIGFyZykgeyB0cnkgeyB2YXIgaW5mbyA9IGdlbltrZXldKGFyZyk7IHZhciB2YWx1ZSA9IGluZm8udmFsdWU7IH0gY2F0Y2ggKGVycm9yKSB7IHJlamVjdChlcnJvcik7IHJldHVybjsgfSBpZiAoaW5mby5kb25lKSB7IHJlc29sdmUodmFsdWUpOyB9IGVsc2UgeyBQcm9taXNlLnJlc29sdmUodmFsdWUpLnRoZW4oX25leHQsIF90aHJvdyk7IH0gfVxuXG5mdW5jdGlvbiBfYXN5bmNUb0dlbmVyYXRvcihmbikgeyByZXR1cm4gZnVuY3Rpb24gKCkgeyB2YXIgc2VsZiA9IHRoaXMsIGFyZ3MgPSBhcmd1bWVudHM7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHZhciBnZW4gPSBmbi5hcHBseShzZWxmLCBhcmdzKTsgZnVuY3Rpb24gX25leHQodmFsdWUpIHsgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBcIm5leHRcIiwgdmFsdWUpOyB9IGZ1bmN0aW9uIF90aHJvdyhlcnIpIHsgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBcInRocm93XCIsIGVycik7IH0gX25leHQodW5kZWZpbmVkKTsgfSk7IH07IH1cblxuZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbnZhciBFUlJfSU5WQUxJRF9BUkdfVFlQRSA9IHJlcXVpcmUoJy4uLy4uLy4uL2Vycm9ycycpLmNvZGVzLkVSUl9JTlZBTElEX0FSR19UWVBFO1xuXG5mdW5jdGlvbiBmcm9tKFJlYWRhYmxlLCBpdGVyYWJsZSwgb3B0cykge1xuICB2YXIgaXRlcmF0b3I7XG5cbiAgaWYgKGl0ZXJhYmxlICYmIHR5cGVvZiBpdGVyYWJsZS5uZXh0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgaXRlcmF0b3IgPSBpdGVyYWJsZTtcbiAgfSBlbHNlIGlmIChpdGVyYWJsZSAmJiBpdGVyYWJsZVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0pIGl0ZXJhdG9yID0gaXRlcmFibGVbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCk7ZWxzZSBpZiAoaXRlcmFibGUgJiYgaXRlcmFibGVbU3ltYm9sLml0ZXJhdG9yXSkgaXRlcmF0b3IgPSBpdGVyYWJsZVtTeW1ib2wuaXRlcmF0b3JdKCk7ZWxzZSB0aHJvdyBuZXcgRVJSX0lOVkFMSURfQVJHX1RZUEUoJ2l0ZXJhYmxlJywgWydJdGVyYWJsZSddLCBpdGVyYWJsZSk7XG5cbiAgdmFyIHJlYWRhYmxlID0gbmV3IFJlYWRhYmxlKF9vYmplY3RTcHJlYWQoe1xuICAgIG9iamVjdE1vZGU6IHRydWVcbiAgfSwgb3B0cykpOyAvLyBSZWFkaW5nIGJvb2xlYW4gdG8gcHJvdGVjdCBhZ2FpbnN0IF9yZWFkXG4gIC8vIGJlaW5nIGNhbGxlZCBiZWZvcmUgbGFzdCBpdGVyYXRpb24gY29tcGxldGlvbi5cblxuICB2YXIgcmVhZGluZyA9IGZhbHNlO1xuXG4gIHJlYWRhYmxlLl9yZWFkID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICghcmVhZGluZykge1xuICAgICAgcmVhZGluZyA9IHRydWU7XG4gICAgICBuZXh0KCk7XG4gICAgfVxuICB9O1xuXG4gIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgcmV0dXJuIF9uZXh0Mi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgZnVuY3Rpb24gX25leHQyKCkge1xuICAgIF9uZXh0MiA9IF9hc3luY1RvR2VuZXJhdG9yKGZ1bmN0aW9uKiAoKSB7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgX3JlZiA9IHlpZWxkIGl0ZXJhdG9yLm5leHQoKSxcbiAgICAgICAgICAgIHZhbHVlID0gX3JlZi52YWx1ZSxcbiAgICAgICAgICAgIGRvbmUgPSBfcmVmLmRvbmU7XG5cbiAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICByZWFkYWJsZS5wdXNoKG51bGwpO1xuICAgICAgICB9IGVsc2UgaWYgKHJlYWRhYmxlLnB1c2goKHlpZWxkIHZhbHVlKSkpIHtcbiAgICAgICAgICBuZXh0KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVhZGluZyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgcmVhZGFibGUuZGVzdHJveShlcnIpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBfbmV4dDIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIHJldHVybiByZWFkYWJsZTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmcm9tOyIsICIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cbid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFkYWJsZTtcbi8qPHJlcGxhY2VtZW50PiovXG5cbnZhciBEdXBsZXg7XG4vKjwvcmVwbGFjZW1lbnQ+Ki9cblxuUmVhZGFibGUuUmVhZGFibGVTdGF0ZSA9IFJlYWRhYmxlU3RhdGU7XG4vKjxyZXBsYWNlbWVudD4qL1xuXG52YXIgRUUgPSByZXF1aXJlKCdldmVudHMnKS5FdmVudEVtaXR0ZXI7XG5cbnZhciBFRWxpc3RlbmVyQ291bnQgPSBmdW5jdGlvbiBFRWxpc3RlbmVyQ291bnQoZW1pdHRlciwgdHlwZSkge1xuICByZXR1cm4gZW1pdHRlci5saXN0ZW5lcnModHlwZSkubGVuZ3RoO1xufTtcbi8qPC9yZXBsYWNlbWVudD4qL1xuXG4vKjxyZXBsYWNlbWVudD4qL1xuXG5cbnZhciBTdHJlYW0gPSByZXF1aXJlKCcuL2ludGVybmFsL3N0cmVhbXMvc3RyZWFtJyk7XG4vKjwvcmVwbGFjZW1lbnQ+Ki9cblxuXG52YXIgQnVmZmVyID0gcmVxdWlyZSgnYnVmZmVyJykuQnVmZmVyO1xuXG52YXIgT3VyVWludDhBcnJheSA9IGdsb2JhbC5VaW50OEFycmF5IHx8IGZ1bmN0aW9uICgpIHt9O1xuXG5mdW5jdGlvbiBfdWludDhBcnJheVRvQnVmZmVyKGNodW5rKSB7XG4gIHJldHVybiBCdWZmZXIuZnJvbShjaHVuayk7XG59XG5cbmZ1bmN0aW9uIF9pc1VpbnQ4QXJyYXkob2JqKSB7XG4gIHJldHVybiBCdWZmZXIuaXNCdWZmZXIob2JqKSB8fCBvYmogaW5zdGFuY2VvZiBPdXJVaW50OEFycmF5O1xufVxuLyo8cmVwbGFjZW1lbnQ+Ki9cblxuXG52YXIgZGVidWdVdGlsID0gcmVxdWlyZSgndXRpbCcpO1xuXG52YXIgZGVidWc7XG5cbmlmIChkZWJ1Z1V0aWwgJiYgZGVidWdVdGlsLmRlYnVnbG9nKSB7XG4gIGRlYnVnID0gZGVidWdVdGlsLmRlYnVnbG9nKCdzdHJlYW0nKTtcbn0gZWxzZSB7XG4gIGRlYnVnID0gZnVuY3Rpb24gZGVidWcoKSB7fTtcbn1cbi8qPC9yZXBsYWNlbWVudD4qL1xuXG5cbnZhciBCdWZmZXJMaXN0ID0gcmVxdWlyZSgnLi9pbnRlcm5hbC9zdHJlYW1zL2J1ZmZlcl9saXN0Jyk7XG5cbnZhciBkZXN0cm95SW1wbCA9IHJlcXVpcmUoJy4vaW50ZXJuYWwvc3RyZWFtcy9kZXN0cm95Jyk7XG5cbnZhciBfcmVxdWlyZSA9IHJlcXVpcmUoJy4vaW50ZXJuYWwvc3RyZWFtcy9zdGF0ZScpLFxuICAgIGdldEhpZ2hXYXRlck1hcmsgPSBfcmVxdWlyZS5nZXRIaWdoV2F0ZXJNYXJrO1xuXG52YXIgX3JlcXVpcmUkY29kZXMgPSByZXF1aXJlKCcuLi9lcnJvcnMnKS5jb2RlcyxcbiAgICBFUlJfSU5WQUxJRF9BUkdfVFlQRSA9IF9yZXF1aXJlJGNvZGVzLkVSUl9JTlZBTElEX0FSR19UWVBFLFxuICAgIEVSUl9TVFJFQU1fUFVTSF9BRlRFUl9FT0YgPSBfcmVxdWlyZSRjb2Rlcy5FUlJfU1RSRUFNX1BVU0hfQUZURVJfRU9GLFxuICAgIEVSUl9NRVRIT0RfTk9UX0lNUExFTUVOVEVEID0gX3JlcXVpcmUkY29kZXMuRVJSX01FVEhPRF9OT1RfSU1QTEVNRU5URUQsXG4gICAgRVJSX1NUUkVBTV9VTlNISUZUX0FGVEVSX0VORF9FVkVOVCA9IF9yZXF1aXJlJGNvZGVzLkVSUl9TVFJFQU1fVU5TSElGVF9BRlRFUl9FTkRfRVZFTlQ7IC8vIExhenkgbG9hZGVkIHRvIGltcHJvdmUgdGhlIHN0YXJ0dXAgcGVyZm9ybWFuY2UuXG5cblxudmFyIFN0cmluZ0RlY29kZXI7XG52YXIgY3JlYXRlUmVhZGFibGVTdHJlYW1Bc3luY0l0ZXJhdG9yO1xudmFyIGZyb207XG5cbnJlcXVpcmUoJ2luaGVyaXRzJykoUmVhZGFibGUsIFN0cmVhbSk7XG5cbnZhciBlcnJvck9yRGVzdHJveSA9IGRlc3Ryb3lJbXBsLmVycm9yT3JEZXN0cm95O1xudmFyIGtQcm94eUV2ZW50cyA9IFsnZXJyb3InLCAnY2xvc2UnLCAnZGVzdHJveScsICdwYXVzZScsICdyZXN1bWUnXTtcblxuZnVuY3Rpb24gcHJlcGVuZExpc3RlbmVyKGVtaXR0ZXIsIGV2ZW50LCBmbikge1xuICAvLyBTYWRseSB0aGlzIGlzIG5vdCBjYWNoZWFibGUgYXMgc29tZSBsaWJyYXJpZXMgYnVuZGxlIHRoZWlyIG93blxuICAvLyBldmVudCBlbWl0dGVyIGltcGxlbWVudGF0aW9uIHdpdGggdGhlbS5cbiAgaWYgKHR5cGVvZiBlbWl0dGVyLnByZXBlbmRMaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJykgcmV0dXJuIGVtaXR0ZXIucHJlcGVuZExpc3RlbmVyKGV2ZW50LCBmbik7IC8vIFRoaXMgaXMgYSBoYWNrIHRvIG1ha2Ugc3VyZSB0aGF0IG91ciBlcnJvciBoYW5kbGVyIGlzIGF0dGFjaGVkIGJlZm9yZSBhbnlcbiAgLy8gdXNlcmxhbmQgb25lcy4gIE5FVkVSIERPIFRISVMuIFRoaXMgaXMgaGVyZSBvbmx5IGJlY2F1c2UgdGhpcyBjb2RlIG5lZWRzXG4gIC8vIHRvIGNvbnRpbnVlIHRvIHdvcmsgd2l0aCBvbGRlciB2ZXJzaW9ucyBvZiBOb2RlLmpzIHRoYXQgZG8gbm90IGluY2x1ZGVcbiAgLy8gdGhlIHByZXBlbmRMaXN0ZW5lcigpIG1ldGhvZC4gVGhlIGdvYWwgaXMgdG8gZXZlbnR1YWxseSByZW1vdmUgdGhpcyBoYWNrLlxuXG4gIGlmICghZW1pdHRlci5fZXZlbnRzIHx8ICFlbWl0dGVyLl9ldmVudHNbZXZlbnRdKSBlbWl0dGVyLm9uKGV2ZW50LCBmbik7ZWxzZSBpZiAoQXJyYXkuaXNBcnJheShlbWl0dGVyLl9ldmVudHNbZXZlbnRdKSkgZW1pdHRlci5fZXZlbnRzW2V2ZW50XS51bnNoaWZ0KGZuKTtlbHNlIGVtaXR0ZXIuX2V2ZW50c1tldmVudF0gPSBbZm4sIGVtaXR0ZXIuX2V2ZW50c1tldmVudF1dO1xufVxuXG5mdW5jdGlvbiBSZWFkYWJsZVN0YXRlKG9wdGlvbnMsIHN0cmVhbSwgaXNEdXBsZXgpIHtcbiAgRHVwbGV4ID0gRHVwbGV4IHx8IHJlcXVpcmUoJy4vX3N0cmVhbV9kdXBsZXgnKTtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307IC8vIER1cGxleCBzdHJlYW1zIGFyZSBib3RoIHJlYWRhYmxlIGFuZCB3cml0YWJsZSwgYnV0IHNoYXJlXG4gIC8vIHRoZSBzYW1lIG9wdGlvbnMgb2JqZWN0LlxuICAvLyBIb3dldmVyLCBzb21lIGNhc2VzIHJlcXVpcmUgc2V0dGluZyBvcHRpb25zIHRvIGRpZmZlcmVudFxuICAvLyB2YWx1ZXMgZm9yIHRoZSByZWFkYWJsZSBhbmQgdGhlIHdyaXRhYmxlIHNpZGVzIG9mIHRoZSBkdXBsZXggc3RyZWFtLlxuICAvLyBUaGVzZSBvcHRpb25zIGNhbiBiZSBwcm92aWRlZCBzZXBhcmF0ZWx5IGFzIHJlYWRhYmxlWFhYIGFuZCB3cml0YWJsZVhYWC5cblxuICBpZiAodHlwZW9mIGlzRHVwbGV4ICE9PSAnYm9vbGVhbicpIGlzRHVwbGV4ID0gc3RyZWFtIGluc3RhbmNlb2YgRHVwbGV4OyAvLyBvYmplY3Qgc3RyZWFtIGZsYWcuIFVzZWQgdG8gbWFrZSByZWFkKG4pIGlnbm9yZSBuIGFuZCB0b1xuICAvLyBtYWtlIGFsbCB0aGUgYnVmZmVyIG1lcmdpbmcgYW5kIGxlbmd0aCBjaGVja3MgZ28gYXdheVxuXG4gIHRoaXMub2JqZWN0TW9kZSA9ICEhb3B0aW9ucy5vYmplY3RNb2RlO1xuICBpZiAoaXNEdXBsZXgpIHRoaXMub2JqZWN0TW9kZSA9IHRoaXMub2JqZWN0TW9kZSB8fCAhIW9wdGlvbnMucmVhZGFibGVPYmplY3RNb2RlOyAvLyB0aGUgcG9pbnQgYXQgd2hpY2ggaXQgc3RvcHMgY2FsbGluZyBfcmVhZCgpIHRvIGZpbGwgdGhlIGJ1ZmZlclxuICAvLyBOb3RlOiAwIGlzIGEgdmFsaWQgdmFsdWUsIG1lYW5zIFwiZG9uJ3QgY2FsbCBfcmVhZCBwcmVlbXB0aXZlbHkgZXZlclwiXG5cbiAgdGhpcy5oaWdoV2F0ZXJNYXJrID0gZ2V0SGlnaFdhdGVyTWFyayh0aGlzLCBvcHRpb25zLCAncmVhZGFibGVIaWdoV2F0ZXJNYXJrJywgaXNEdXBsZXgpOyAvLyBBIGxpbmtlZCBsaXN0IGlzIHVzZWQgdG8gc3RvcmUgZGF0YSBjaHVua3MgaW5zdGVhZCBvZiBhbiBhcnJheSBiZWNhdXNlIHRoZVxuICAvLyBsaW5rZWQgbGlzdCBjYW4gcmVtb3ZlIGVsZW1lbnRzIGZyb20gdGhlIGJlZ2lubmluZyBmYXN0ZXIgdGhhblxuICAvLyBhcnJheS5zaGlmdCgpXG5cbiAgdGhpcy5idWZmZXIgPSBuZXcgQnVmZmVyTGlzdCgpO1xuICB0aGlzLmxlbmd0aCA9IDA7XG4gIHRoaXMucGlwZXMgPSBudWxsO1xuICB0aGlzLnBpcGVzQ291bnQgPSAwO1xuICB0aGlzLmZsb3dpbmcgPSBudWxsO1xuICB0aGlzLmVuZGVkID0gZmFsc2U7XG4gIHRoaXMuZW5kRW1pdHRlZCA9IGZhbHNlO1xuICB0aGlzLnJlYWRpbmcgPSBmYWxzZTsgLy8gYSBmbGFnIHRvIGJlIGFibGUgdG8gdGVsbCBpZiB0aGUgZXZlbnQgJ3JlYWRhYmxlJy8nZGF0YScgaXMgZW1pdHRlZFxuICAvLyBpbW1lZGlhdGVseSwgb3Igb24gYSBsYXRlciB0aWNrLiAgV2Ugc2V0IHRoaXMgdG8gdHJ1ZSBhdCBmaXJzdCwgYmVjYXVzZVxuICAvLyBhbnkgYWN0aW9ucyB0aGF0IHNob3VsZG4ndCBoYXBwZW4gdW50aWwgXCJsYXRlclwiIHNob3VsZCBnZW5lcmFsbHkgYWxzb1xuICAvLyBub3QgaGFwcGVuIGJlZm9yZSB0aGUgZmlyc3QgcmVhZCBjYWxsLlxuXG4gIHRoaXMuc3luYyA9IHRydWU7IC8vIHdoZW5ldmVyIHdlIHJldHVybiBudWxsLCB0aGVuIHdlIHNldCBhIGZsYWcgdG8gc2F5XG4gIC8vIHRoYXQgd2UncmUgYXdhaXRpbmcgYSAncmVhZGFibGUnIGV2ZW50IGVtaXNzaW9uLlxuXG4gIHRoaXMubmVlZFJlYWRhYmxlID0gZmFsc2U7XG4gIHRoaXMuZW1pdHRlZFJlYWRhYmxlID0gZmFsc2U7XG4gIHRoaXMucmVhZGFibGVMaXN0ZW5pbmcgPSBmYWxzZTtcbiAgdGhpcy5yZXN1bWVTY2hlZHVsZWQgPSBmYWxzZTtcbiAgdGhpcy5wYXVzZWQgPSB0cnVlOyAvLyBTaG91bGQgY2xvc2UgYmUgZW1pdHRlZCBvbiBkZXN0cm95LiBEZWZhdWx0cyB0byB0cnVlLlxuXG4gIHRoaXMuZW1pdENsb3NlID0gb3B0aW9ucy5lbWl0Q2xvc2UgIT09IGZhbHNlOyAvLyBTaG91bGQgLmRlc3Ryb3koKSBiZSBjYWxsZWQgYWZ0ZXIgJ2VuZCcgKGFuZCBwb3RlbnRpYWxseSAnZmluaXNoJylcblxuICB0aGlzLmF1dG9EZXN0cm95ID0gISFvcHRpb25zLmF1dG9EZXN0cm95OyAvLyBoYXMgaXQgYmVlbiBkZXN0cm95ZWRcblxuICB0aGlzLmRlc3Ryb3llZCA9IGZhbHNlOyAvLyBDcnlwdG8gaXMga2luZCBvZiBvbGQgYW5kIGNydXN0eS4gIEhpc3RvcmljYWxseSwgaXRzIGRlZmF1bHQgc3RyaW5nXG4gIC8vIGVuY29kaW5nIGlzICdiaW5hcnknIHNvIHdlIGhhdmUgdG8gbWFrZSB0aGlzIGNvbmZpZ3VyYWJsZS5cbiAgLy8gRXZlcnl0aGluZyBlbHNlIGluIHRoZSB1bml2ZXJzZSB1c2VzICd1dGY4JywgdGhvdWdoLlxuXG4gIHRoaXMuZGVmYXVsdEVuY29kaW5nID0gb3B0aW9ucy5kZWZhdWx0RW5jb2RpbmcgfHwgJ3V0ZjgnOyAvLyB0aGUgbnVtYmVyIG9mIHdyaXRlcnMgdGhhdCBhcmUgYXdhaXRpbmcgYSBkcmFpbiBldmVudCBpbiAucGlwZSgpc1xuXG4gIHRoaXMuYXdhaXREcmFpbiA9IDA7IC8vIGlmIHRydWUsIGEgbWF5YmVSZWFkTW9yZSBoYXMgYmVlbiBzY2hlZHVsZWRcblxuICB0aGlzLnJlYWRpbmdNb3JlID0gZmFsc2U7XG4gIHRoaXMuZGVjb2RlciA9IG51bGw7XG4gIHRoaXMuZW5jb2RpbmcgPSBudWxsO1xuXG4gIGlmIChvcHRpb25zLmVuY29kaW5nKSB7XG4gICAgaWYgKCFTdHJpbmdEZWNvZGVyKSBTdHJpbmdEZWNvZGVyID0gcmVxdWlyZSgnc3RyaW5nX2RlY29kZXIvJykuU3RyaW5nRGVjb2RlcjtcbiAgICB0aGlzLmRlY29kZXIgPSBuZXcgU3RyaW5nRGVjb2RlcihvcHRpb25zLmVuY29kaW5nKTtcbiAgICB0aGlzLmVuY29kaW5nID0gb3B0aW9ucy5lbmNvZGluZztcbiAgfVxufVxuXG5mdW5jdGlvbiBSZWFkYWJsZShvcHRpb25zKSB7XG4gIER1cGxleCA9IER1cGxleCB8fCByZXF1aXJlKCcuL19zdHJlYW1fZHVwbGV4Jyk7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBSZWFkYWJsZSkpIHJldHVybiBuZXcgUmVhZGFibGUob3B0aW9ucyk7IC8vIENoZWNraW5nIGZvciBhIFN0cmVhbS5EdXBsZXggaW5zdGFuY2UgaXMgZmFzdGVyIGhlcmUgaW5zdGVhZCBvZiBpbnNpZGVcbiAgLy8gdGhlIFJlYWRhYmxlU3RhdGUgY29uc3RydWN0b3IsIGF0IGxlYXN0IHdpdGggVjggNi41XG5cbiAgdmFyIGlzRHVwbGV4ID0gdGhpcyBpbnN0YW5jZW9mIER1cGxleDtcbiAgdGhpcy5fcmVhZGFibGVTdGF0ZSA9IG5ldyBSZWFkYWJsZVN0YXRlKG9wdGlvbnMsIHRoaXMsIGlzRHVwbGV4KTsgLy8gbGVnYWN5XG5cbiAgdGhpcy5yZWFkYWJsZSA9IHRydWU7XG5cbiAgaWYgKG9wdGlvbnMpIHtcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMucmVhZCA9PT0gJ2Z1bmN0aW9uJykgdGhpcy5fcmVhZCA9IG9wdGlvbnMucmVhZDtcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMuZGVzdHJveSA9PT0gJ2Z1bmN0aW9uJykgdGhpcy5fZGVzdHJveSA9IG9wdGlvbnMuZGVzdHJveTtcbiAgfVxuXG4gIFN0cmVhbS5jYWxsKHRoaXMpO1xufVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoUmVhZGFibGUucHJvdG90eXBlLCAnZGVzdHJveWVkJywge1xuICAvLyBtYWtpbmcgaXQgZXhwbGljaXQgdGhpcyBwcm9wZXJ0eSBpcyBub3QgZW51bWVyYWJsZVxuICAvLyBiZWNhdXNlIG90aGVyd2lzZSBzb21lIHByb3RvdHlwZSBtYW5pcHVsYXRpb24gaW5cbiAgLy8gdXNlcmxhbmQgd2lsbCBmYWlsXG4gIGVudW1lcmFibGU6IGZhbHNlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICBpZiAodGhpcy5fcmVhZGFibGVTdGF0ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX3JlYWRhYmxlU3RhdGUuZGVzdHJveWVkO1xuICB9LFxuICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgIC8vIHdlIGlnbm9yZSB0aGUgdmFsdWUgaWYgdGhlIHN0cmVhbVxuICAgIC8vIGhhcyBub3QgYmVlbiBpbml0aWFsaXplZCB5ZXRcbiAgICBpZiAoIXRoaXMuX3JlYWRhYmxlU3RhdGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9IC8vIGJhY2t3YXJkIGNvbXBhdGliaWxpdHksIHRoZSB1c2VyIGlzIGV4cGxpY2l0bHlcbiAgICAvLyBtYW5hZ2luZyBkZXN0cm95ZWRcblxuXG4gICAgdGhpcy5fcmVhZGFibGVTdGF0ZS5kZXN0cm95ZWQgPSB2YWx1ZTtcbiAgfVxufSk7XG5SZWFkYWJsZS5wcm90b3R5cGUuZGVzdHJveSA9IGRlc3Ryb3lJbXBsLmRlc3Ryb3k7XG5SZWFkYWJsZS5wcm90b3R5cGUuX3VuZGVzdHJveSA9IGRlc3Ryb3lJbXBsLnVuZGVzdHJveTtcblxuUmVhZGFibGUucHJvdG90eXBlLl9kZXN0cm95ID0gZnVuY3Rpb24gKGVyciwgY2IpIHtcbiAgY2IoZXJyKTtcbn07IC8vIE1hbnVhbGx5IHNob3ZlIHNvbWV0aGluZyBpbnRvIHRoZSByZWFkKCkgYnVmZmVyLlxuLy8gVGhpcyByZXR1cm5zIHRydWUgaWYgdGhlIGhpZ2hXYXRlck1hcmsgaGFzIG5vdCBiZWVuIGhpdCB5ZXQsXG4vLyBzaW1pbGFyIHRvIGhvdyBXcml0YWJsZS53cml0ZSgpIHJldHVybnMgdHJ1ZSBpZiB5b3Ugc2hvdWxkXG4vLyB3cml0ZSgpIHNvbWUgbW9yZS5cblxuXG5SZWFkYWJsZS5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uIChjaHVuaywgZW5jb2RpbmcpIHtcbiAgdmFyIHN0YXRlID0gdGhpcy5fcmVhZGFibGVTdGF0ZTtcbiAgdmFyIHNraXBDaHVua0NoZWNrO1xuXG4gIGlmICghc3RhdGUub2JqZWN0TW9kZSkge1xuICAgIGlmICh0eXBlb2YgY2h1bmsgPT09ICdzdHJpbmcnKSB7XG4gICAgICBlbmNvZGluZyA9IGVuY29kaW5nIHx8IHN0YXRlLmRlZmF1bHRFbmNvZGluZztcblxuICAgICAgaWYgKGVuY29kaW5nICE9PSBzdGF0ZS5lbmNvZGluZykge1xuICAgICAgICBjaHVuayA9IEJ1ZmZlci5mcm9tKGNodW5rLCBlbmNvZGluZyk7XG4gICAgICAgIGVuY29kaW5nID0gJyc7XG4gICAgICB9XG5cbiAgICAgIHNraXBDaHVua0NoZWNrID0gdHJ1ZTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgc2tpcENodW5rQ2hlY2sgPSB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIHJlYWRhYmxlQWRkQ2h1bmsodGhpcywgY2h1bmssIGVuY29kaW5nLCBmYWxzZSwgc2tpcENodW5rQ2hlY2spO1xufTsgLy8gVW5zaGlmdCBzaG91bGQgKmFsd2F5cyogYmUgc29tZXRoaW5nIGRpcmVjdGx5IG91dCBvZiByZWFkKClcblxuXG5SZWFkYWJsZS5wcm90b3R5cGUudW5zaGlmdCA9IGZ1bmN0aW9uIChjaHVuaykge1xuICByZXR1cm4gcmVhZGFibGVBZGRDaHVuayh0aGlzLCBjaHVuaywgbnVsbCwgdHJ1ZSwgZmFsc2UpO1xufTtcblxuZnVuY3Rpb24gcmVhZGFibGVBZGRDaHVuayhzdHJlYW0sIGNodW5rLCBlbmNvZGluZywgYWRkVG9Gcm9udCwgc2tpcENodW5rQ2hlY2spIHtcbiAgZGVidWcoJ3JlYWRhYmxlQWRkQ2h1bmsnLCBjaHVuayk7XG4gIHZhciBzdGF0ZSA9IHN0cmVhbS5fcmVhZGFibGVTdGF0ZTtcblxuICBpZiAoY2h1bmsgPT09IG51bGwpIHtcbiAgICBzdGF0ZS5yZWFkaW5nID0gZmFsc2U7XG4gICAgb25Fb2ZDaHVuayhzdHJlYW0sIHN0YXRlKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgZXI7XG4gICAgaWYgKCFza2lwQ2h1bmtDaGVjaykgZXIgPSBjaHVua0ludmFsaWQoc3RhdGUsIGNodW5rKTtcblxuICAgIGlmIChlcikge1xuICAgICAgZXJyb3JPckRlc3Ryb3koc3RyZWFtLCBlcik7XG4gICAgfSBlbHNlIGlmIChzdGF0ZS5vYmplY3RNb2RlIHx8IGNodW5rICYmIGNodW5rLmxlbmd0aCA+IDApIHtcbiAgICAgIGlmICh0eXBlb2YgY2h1bmsgIT09ICdzdHJpbmcnICYmICFzdGF0ZS5vYmplY3RNb2RlICYmIE9iamVjdC5nZXRQcm90b3R5cGVPZihjaHVuaykgIT09IEJ1ZmZlci5wcm90b3R5cGUpIHtcbiAgICAgICAgY2h1bmsgPSBfdWludDhBcnJheVRvQnVmZmVyKGNodW5rKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGFkZFRvRnJvbnQpIHtcbiAgICAgICAgaWYgKHN0YXRlLmVuZEVtaXR0ZWQpIGVycm9yT3JEZXN0cm95KHN0cmVhbSwgbmV3IEVSUl9TVFJFQU1fVU5TSElGVF9BRlRFUl9FTkRfRVZFTlQoKSk7ZWxzZSBhZGRDaHVuayhzdHJlYW0sIHN0YXRlLCBjaHVuaywgdHJ1ZSk7XG4gICAgICB9IGVsc2UgaWYgKHN0YXRlLmVuZGVkKSB7XG4gICAgICAgIGVycm9yT3JEZXN0cm95KHN0cmVhbSwgbmV3IEVSUl9TVFJFQU1fUFVTSF9BRlRFUl9FT0YoKSk7XG4gICAgICB9IGVsc2UgaWYgKHN0YXRlLmRlc3Ryb3llZCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdGF0ZS5yZWFkaW5nID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKHN0YXRlLmRlY29kZXIgJiYgIWVuY29kaW5nKSB7XG4gICAgICAgICAgY2h1bmsgPSBzdGF0ZS5kZWNvZGVyLndyaXRlKGNodW5rKTtcbiAgICAgICAgICBpZiAoc3RhdGUub2JqZWN0TW9kZSB8fCBjaHVuay5sZW5ndGggIT09IDApIGFkZENodW5rKHN0cmVhbSwgc3RhdGUsIGNodW5rLCBmYWxzZSk7ZWxzZSBtYXliZVJlYWRNb3JlKHN0cmVhbSwgc3RhdGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFkZENodW5rKHN0cmVhbSwgc3RhdGUsIGNodW5rLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCFhZGRUb0Zyb250KSB7XG4gICAgICBzdGF0ZS5yZWFkaW5nID0gZmFsc2U7XG4gICAgICBtYXliZVJlYWRNb3JlKHN0cmVhbSwgc3RhdGUpO1xuICAgIH1cbiAgfSAvLyBXZSBjYW4gcHVzaCBtb3JlIGRhdGEgaWYgd2UgYXJlIGJlbG93IHRoZSBoaWdoV2F0ZXJNYXJrLlxuICAvLyBBbHNvLCBpZiB3ZSBoYXZlIG5vIGRhdGEgeWV0LCB3ZSBjYW4gc3RhbmQgc29tZSBtb3JlIGJ5dGVzLlxuICAvLyBUaGlzIGlzIHRvIHdvcmsgYXJvdW5kIGNhc2VzIHdoZXJlIGh3bT0wLCBzdWNoIGFzIHRoZSByZXBsLlxuXG5cbiAgcmV0dXJuICFzdGF0ZS5lbmRlZCAmJiAoc3RhdGUubGVuZ3RoIDwgc3RhdGUuaGlnaFdhdGVyTWFyayB8fCBzdGF0ZS5sZW5ndGggPT09IDApO1xufVxuXG5mdW5jdGlvbiBhZGRDaHVuayhzdHJlYW0sIHN0YXRlLCBjaHVuaywgYWRkVG9Gcm9udCkge1xuICBpZiAoc3RhdGUuZmxvd2luZyAmJiBzdGF0ZS5sZW5ndGggPT09IDAgJiYgIXN0YXRlLnN5bmMpIHtcbiAgICBzdGF0ZS5hd2FpdERyYWluID0gMDtcbiAgICBzdHJlYW0uZW1pdCgnZGF0YScsIGNodW5rKTtcbiAgfSBlbHNlIHtcbiAgICAvLyB1cGRhdGUgdGhlIGJ1ZmZlciBpbmZvLlxuICAgIHN0YXRlLmxlbmd0aCArPSBzdGF0ZS5vYmplY3RNb2RlID8gMSA6IGNodW5rLmxlbmd0aDtcbiAgICBpZiAoYWRkVG9Gcm9udCkgc3RhdGUuYnVmZmVyLnVuc2hpZnQoY2h1bmspO2Vsc2Ugc3RhdGUuYnVmZmVyLnB1c2goY2h1bmspO1xuICAgIGlmIChzdGF0ZS5uZWVkUmVhZGFibGUpIGVtaXRSZWFkYWJsZShzdHJlYW0pO1xuICB9XG5cbiAgbWF5YmVSZWFkTW9yZShzdHJlYW0sIHN0YXRlKTtcbn1cblxuZnVuY3Rpb24gY2h1bmtJbnZhbGlkKHN0YXRlLCBjaHVuaykge1xuICB2YXIgZXI7XG5cbiAgaWYgKCFfaXNVaW50OEFycmF5KGNodW5rKSAmJiB0eXBlb2YgY2h1bmsgIT09ICdzdHJpbmcnICYmIGNodW5rICE9PSB1bmRlZmluZWQgJiYgIXN0YXRlLm9iamVjdE1vZGUpIHtcbiAgICBlciA9IG5ldyBFUlJfSU5WQUxJRF9BUkdfVFlQRSgnY2h1bmsnLCBbJ3N0cmluZycsICdCdWZmZXInLCAnVWludDhBcnJheSddLCBjaHVuayk7XG4gIH1cblxuICByZXR1cm4gZXI7XG59XG5cblJlYWRhYmxlLnByb3RvdHlwZS5pc1BhdXNlZCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMuX3JlYWRhYmxlU3RhdGUuZmxvd2luZyA9PT0gZmFsc2U7XG59OyAvLyBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eS5cblxuXG5SZWFkYWJsZS5wcm90b3R5cGUuc2V0RW5jb2RpbmcgPSBmdW5jdGlvbiAoZW5jKSB7XG4gIGlmICghU3RyaW5nRGVjb2RlcikgU3RyaW5nRGVjb2RlciA9IHJlcXVpcmUoJ3N0cmluZ19kZWNvZGVyLycpLlN0cmluZ0RlY29kZXI7XG4gIHZhciBkZWNvZGVyID0gbmV3IFN0cmluZ0RlY29kZXIoZW5jKTtcbiAgdGhpcy5fcmVhZGFibGVTdGF0ZS5kZWNvZGVyID0gZGVjb2RlcjsgLy8gSWYgc2V0RW5jb2RpbmcobnVsbCksIGRlY29kZXIuZW5jb2RpbmcgZXF1YWxzIHV0ZjhcblxuICB0aGlzLl9yZWFkYWJsZVN0YXRlLmVuY29kaW5nID0gdGhpcy5fcmVhZGFibGVTdGF0ZS5kZWNvZGVyLmVuY29kaW5nOyAvLyBJdGVyYXRlIG92ZXIgY3VycmVudCBidWZmZXIgdG8gY29udmVydCBhbHJlYWR5IHN0b3JlZCBCdWZmZXJzOlxuXG4gIHZhciBwID0gdGhpcy5fcmVhZGFibGVTdGF0ZS5idWZmZXIuaGVhZDtcbiAgdmFyIGNvbnRlbnQgPSAnJztcblxuICB3aGlsZSAocCAhPT0gbnVsbCkge1xuICAgIGNvbnRlbnQgKz0gZGVjb2Rlci53cml0ZShwLmRhdGEpO1xuICAgIHAgPSBwLm5leHQ7XG4gIH1cblxuICB0aGlzLl9yZWFkYWJsZVN0YXRlLmJ1ZmZlci5jbGVhcigpO1xuXG4gIGlmIChjb250ZW50ICE9PSAnJykgdGhpcy5fcmVhZGFibGVTdGF0ZS5idWZmZXIucHVzaChjb250ZW50KTtcbiAgdGhpcy5fcmVhZGFibGVTdGF0ZS5sZW5ndGggPSBjb250ZW50Lmxlbmd0aDtcbiAgcmV0dXJuIHRoaXM7XG59OyAvLyBEb24ndCByYWlzZSB0aGUgaHdtID4gMUdCXG5cblxudmFyIE1BWF9IV00gPSAweDQwMDAwMDAwO1xuXG5mdW5jdGlvbiBjb21wdXRlTmV3SGlnaFdhdGVyTWFyayhuKSB7XG4gIGlmIChuID49IE1BWF9IV00pIHtcbiAgICAvLyBUT0RPKHJvbmFnKTogVGhyb3cgRVJSX1ZBTFVFX09VVF9PRl9SQU5HRS5cbiAgICBuID0gTUFYX0hXTTtcbiAgfSBlbHNlIHtcbiAgICAvLyBHZXQgdGhlIG5leHQgaGlnaGVzdCBwb3dlciBvZiAyIHRvIHByZXZlbnQgaW5jcmVhc2luZyBod20gZXhjZXNzaXZlbHkgaW5cbiAgICAvLyB0aW55IGFtb3VudHNcbiAgICBuLS07XG4gICAgbiB8PSBuID4+PiAxO1xuICAgIG4gfD0gbiA+Pj4gMjtcbiAgICBuIHw9IG4gPj4+IDQ7XG4gICAgbiB8PSBuID4+PiA4O1xuICAgIG4gfD0gbiA+Pj4gMTY7XG4gICAgbisrO1xuICB9XG5cbiAgcmV0dXJuIG47XG59IC8vIFRoaXMgZnVuY3Rpb24gaXMgZGVzaWduZWQgdG8gYmUgaW5saW5hYmxlLCBzbyBwbGVhc2UgdGFrZSBjYXJlIHdoZW4gbWFraW5nXG4vLyBjaGFuZ2VzIHRvIHRoZSBmdW5jdGlvbiBib2R5LlxuXG5cbmZ1bmN0aW9uIGhvd011Y2hUb1JlYWQobiwgc3RhdGUpIHtcbiAgaWYgKG4gPD0gMCB8fCBzdGF0ZS5sZW5ndGggPT09IDAgJiYgc3RhdGUuZW5kZWQpIHJldHVybiAwO1xuICBpZiAoc3RhdGUub2JqZWN0TW9kZSkgcmV0dXJuIDE7XG5cbiAgaWYgKG4gIT09IG4pIHtcbiAgICAvLyBPbmx5IGZsb3cgb25lIGJ1ZmZlciBhdCBhIHRpbWVcbiAgICBpZiAoc3RhdGUuZmxvd2luZyAmJiBzdGF0ZS5sZW5ndGgpIHJldHVybiBzdGF0ZS5idWZmZXIuaGVhZC5kYXRhLmxlbmd0aDtlbHNlIHJldHVybiBzdGF0ZS5sZW5ndGg7XG4gIH0gLy8gSWYgd2UncmUgYXNraW5nIGZvciBtb3JlIHRoYW4gdGhlIGN1cnJlbnQgaHdtLCB0aGVuIHJhaXNlIHRoZSBod20uXG5cblxuICBpZiAobiA+IHN0YXRlLmhpZ2hXYXRlck1hcmspIHN0YXRlLmhpZ2hXYXRlck1hcmsgPSBjb21wdXRlTmV3SGlnaFdhdGVyTWFyayhuKTtcbiAgaWYgKG4gPD0gc3RhdGUubGVuZ3RoKSByZXR1cm4gbjsgLy8gRG9uJ3QgaGF2ZSBlbm91Z2hcblxuICBpZiAoIXN0YXRlLmVuZGVkKSB7XG4gICAgc3RhdGUubmVlZFJlYWRhYmxlID0gdHJ1ZTtcbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIHJldHVybiBzdGF0ZS5sZW5ndGg7XG59IC8vIHlvdSBjYW4gb3ZlcnJpZGUgZWl0aGVyIHRoaXMgbWV0aG9kLCBvciB0aGUgYXN5bmMgX3JlYWQobikgYmVsb3cuXG5cblxuUmVhZGFibGUucHJvdG90eXBlLnJlYWQgPSBmdW5jdGlvbiAobikge1xuICBkZWJ1ZygncmVhZCcsIG4pO1xuICBuID0gcGFyc2VJbnQobiwgMTApO1xuICB2YXIgc3RhdGUgPSB0aGlzLl9yZWFkYWJsZVN0YXRlO1xuICB2YXIgbk9yaWcgPSBuO1xuICBpZiAobiAhPT0gMCkgc3RhdGUuZW1pdHRlZFJlYWRhYmxlID0gZmFsc2U7IC8vIGlmIHdlJ3JlIGRvaW5nIHJlYWQoMCkgdG8gdHJpZ2dlciBhIHJlYWRhYmxlIGV2ZW50LCBidXQgd2VcbiAgLy8gYWxyZWFkeSBoYXZlIGEgYnVuY2ggb2YgZGF0YSBpbiB0aGUgYnVmZmVyLCB0aGVuIGp1c3QgdHJpZ2dlclxuICAvLyB0aGUgJ3JlYWRhYmxlJyBldmVudCBhbmQgbW92ZSBvbi5cblxuICBpZiAobiA9PT0gMCAmJiBzdGF0ZS5uZWVkUmVhZGFibGUgJiYgKChzdGF0ZS5oaWdoV2F0ZXJNYXJrICE9PSAwID8gc3RhdGUubGVuZ3RoID49IHN0YXRlLmhpZ2hXYXRlck1hcmsgOiBzdGF0ZS5sZW5ndGggPiAwKSB8fCBzdGF0ZS5lbmRlZCkpIHtcbiAgICBkZWJ1ZygncmVhZDogZW1pdFJlYWRhYmxlJywgc3RhdGUubGVuZ3RoLCBzdGF0ZS5lbmRlZCk7XG4gICAgaWYgKHN0YXRlLmxlbmd0aCA9PT0gMCAmJiBzdGF0ZS5lbmRlZCkgZW5kUmVhZGFibGUodGhpcyk7ZWxzZSBlbWl0UmVhZGFibGUodGhpcyk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBuID0gaG93TXVjaFRvUmVhZChuLCBzdGF0ZSk7IC8vIGlmIHdlJ3ZlIGVuZGVkLCBhbmQgd2UncmUgbm93IGNsZWFyLCB0aGVuIGZpbmlzaCBpdCB1cC5cblxuICBpZiAobiA9PT0gMCAmJiBzdGF0ZS5lbmRlZCkge1xuICAgIGlmIChzdGF0ZS5sZW5ndGggPT09IDApIGVuZFJlYWRhYmxlKHRoaXMpO1xuICAgIHJldHVybiBudWxsO1xuICB9IC8vIEFsbCB0aGUgYWN0dWFsIGNodW5rIGdlbmVyYXRpb24gbG9naWMgbmVlZHMgdG8gYmVcbiAgLy8gKmJlbG93KiB0aGUgY2FsbCB0byBfcmVhZC4gIFRoZSByZWFzb24gaXMgdGhhdCBpbiBjZXJ0YWluXG4gIC8vIHN5bnRoZXRpYyBzdHJlYW0gY2FzZXMsIHN1Y2ggYXMgcGFzc3Rocm91Z2ggc3RyZWFtcywgX3JlYWRcbiAgLy8gbWF5IGJlIGEgY29tcGxldGVseSBzeW5jaHJvbm91cyBvcGVyYXRpb24gd2hpY2ggbWF5IGNoYW5nZVxuICAvLyB0aGUgc3RhdGUgb2YgdGhlIHJlYWQgYnVmZmVyLCBwcm92aWRpbmcgZW5vdWdoIGRhdGEgd2hlblxuICAvLyBiZWZvcmUgdGhlcmUgd2FzICpub3QqIGVub3VnaC5cbiAgLy9cbiAgLy8gU28sIHRoZSBzdGVwcyBhcmU6XG4gIC8vIDEuIEZpZ3VyZSBvdXQgd2hhdCB0aGUgc3RhdGUgb2YgdGhpbmdzIHdpbGwgYmUgYWZ0ZXIgd2UgZG9cbiAgLy8gYSByZWFkIGZyb20gdGhlIGJ1ZmZlci5cbiAgLy9cbiAgLy8gMi4gSWYgdGhhdCByZXN1bHRpbmcgc3RhdGUgd2lsbCB0cmlnZ2VyIGEgX3JlYWQsIHRoZW4gY2FsbCBfcmVhZC5cbiAgLy8gTm90ZSB0aGF0IHRoaXMgbWF5IGJlIGFzeW5jaHJvbm91cywgb3Igc3luY2hyb25vdXMuICBZZXMsIGl0IGlzXG4gIC8vIGRlZXBseSB1Z2x5IHRvIHdyaXRlIEFQSXMgdGhpcyB3YXksIGJ1dCB0aGF0IHN0aWxsIGRvZXNuJ3QgbWVhblxuICAvLyB0aGF0IHRoZSBSZWFkYWJsZSBjbGFzcyBzaG91bGQgYmVoYXZlIGltcHJvcGVybHksIGFzIHN0cmVhbXMgYXJlXG4gIC8vIGRlc2lnbmVkIHRvIGJlIHN5bmMvYXN5bmMgYWdub3N0aWMuXG4gIC8vIFRha2Ugbm90ZSBpZiB0aGUgX3JlYWQgY2FsbCBpcyBzeW5jIG9yIGFzeW5jIChpZSwgaWYgdGhlIHJlYWQgY2FsbFxuICAvLyBoYXMgcmV0dXJuZWQgeWV0KSwgc28gdGhhdCB3ZSBrbm93IHdoZXRoZXIgb3Igbm90IGl0J3Mgc2FmZSB0byBlbWl0XG4gIC8vICdyZWFkYWJsZScgZXRjLlxuICAvL1xuICAvLyAzLiBBY3R1YWxseSBwdWxsIHRoZSByZXF1ZXN0ZWQgY2h1bmtzIG91dCBvZiB0aGUgYnVmZmVyIGFuZCByZXR1cm4uXG4gIC8vIGlmIHdlIG5lZWQgYSByZWFkYWJsZSBldmVudCwgdGhlbiB3ZSBuZWVkIHRvIGRvIHNvbWUgcmVhZGluZy5cblxuXG4gIHZhciBkb1JlYWQgPSBzdGF0ZS5uZWVkUmVhZGFibGU7XG4gIGRlYnVnKCduZWVkIHJlYWRhYmxlJywgZG9SZWFkKTsgLy8gaWYgd2UgY3VycmVudGx5IGhhdmUgbGVzcyB0aGFuIHRoZSBoaWdoV2F0ZXJNYXJrLCB0aGVuIGFsc28gcmVhZCBzb21lXG5cbiAgaWYgKHN0YXRlLmxlbmd0aCA9PT0gMCB8fCBzdGF0ZS5sZW5ndGggLSBuIDwgc3RhdGUuaGlnaFdhdGVyTWFyaykge1xuICAgIGRvUmVhZCA9IHRydWU7XG4gICAgZGVidWcoJ2xlbmd0aCBsZXNzIHRoYW4gd2F0ZXJtYXJrJywgZG9SZWFkKTtcbiAgfSAvLyBob3dldmVyLCBpZiB3ZSd2ZSBlbmRlZCwgdGhlbiB0aGVyZSdzIG5vIHBvaW50LCBhbmQgaWYgd2UncmUgYWxyZWFkeVxuICAvLyByZWFkaW5nLCB0aGVuIGl0J3MgdW5uZWNlc3NhcnkuXG5cblxuICBpZiAoc3RhdGUuZW5kZWQgfHwgc3RhdGUucmVhZGluZykge1xuICAgIGRvUmVhZCA9IGZhbHNlO1xuICAgIGRlYnVnKCdyZWFkaW5nIG9yIGVuZGVkJywgZG9SZWFkKTtcbiAgfSBlbHNlIGlmIChkb1JlYWQpIHtcbiAgICBkZWJ1ZygnZG8gcmVhZCcpO1xuICAgIHN0YXRlLnJlYWRpbmcgPSB0cnVlO1xuICAgIHN0YXRlLnN5bmMgPSB0cnVlOyAvLyBpZiB0aGUgbGVuZ3RoIGlzIGN1cnJlbnRseSB6ZXJvLCB0aGVuIHdlICpuZWVkKiBhIHJlYWRhYmxlIGV2ZW50LlxuXG4gICAgaWYgKHN0YXRlLmxlbmd0aCA9PT0gMCkgc3RhdGUubmVlZFJlYWRhYmxlID0gdHJ1ZTsgLy8gY2FsbCBpbnRlcm5hbCByZWFkIG1ldGhvZFxuXG4gICAgdGhpcy5fcmVhZChzdGF0ZS5oaWdoV2F0ZXJNYXJrKTtcblxuICAgIHN0YXRlLnN5bmMgPSBmYWxzZTsgLy8gSWYgX3JlYWQgcHVzaGVkIGRhdGEgc3luY2hyb25vdXNseSwgdGhlbiBgcmVhZGluZ2Agd2lsbCBiZSBmYWxzZSxcbiAgICAvLyBhbmQgd2UgbmVlZCB0byByZS1ldmFsdWF0ZSBob3cgbXVjaCBkYXRhIHdlIGNhbiByZXR1cm4gdG8gdGhlIHVzZXIuXG5cbiAgICBpZiAoIXN0YXRlLnJlYWRpbmcpIG4gPSBob3dNdWNoVG9SZWFkKG5PcmlnLCBzdGF0ZSk7XG4gIH1cblxuICB2YXIgcmV0O1xuICBpZiAobiA+IDApIHJldCA9IGZyb21MaXN0KG4sIHN0YXRlKTtlbHNlIHJldCA9IG51bGw7XG5cbiAgaWYgKHJldCA9PT0gbnVsbCkge1xuICAgIHN0YXRlLm5lZWRSZWFkYWJsZSA9IHN0YXRlLmxlbmd0aCA8PSBzdGF0ZS5oaWdoV2F0ZXJNYXJrO1xuICAgIG4gPSAwO1xuICB9IGVsc2Uge1xuICAgIHN0YXRlLmxlbmd0aCAtPSBuO1xuICAgIHN0YXRlLmF3YWl0RHJhaW4gPSAwO1xuICB9XG5cbiAgaWYgKHN0YXRlLmxlbmd0aCA9PT0gMCkge1xuICAgIC8vIElmIHdlIGhhdmUgbm90aGluZyBpbiB0aGUgYnVmZmVyLCB0aGVuIHdlIHdhbnQgdG8ga25vd1xuICAgIC8vIGFzIHNvb24gYXMgd2UgKmRvKiBnZXQgc29tZXRoaW5nIGludG8gdGhlIGJ1ZmZlci5cbiAgICBpZiAoIXN0YXRlLmVuZGVkKSBzdGF0ZS5uZWVkUmVhZGFibGUgPSB0cnVlOyAvLyBJZiB3ZSB0cmllZCB0byByZWFkKCkgcGFzdCB0aGUgRU9GLCB0aGVuIGVtaXQgZW5kIG9uIHRoZSBuZXh0IHRpY2suXG5cbiAgICBpZiAobk9yaWcgIT09IG4gJiYgc3RhdGUuZW5kZWQpIGVuZFJlYWRhYmxlKHRoaXMpO1xuICB9XG5cbiAgaWYgKHJldCAhPT0gbnVsbCkgdGhpcy5lbWl0KCdkYXRhJywgcmV0KTtcbiAgcmV0dXJuIHJldDtcbn07XG5cbmZ1bmN0aW9uIG9uRW9mQ2h1bmsoc3RyZWFtLCBzdGF0ZSkge1xuICBkZWJ1Zygnb25Fb2ZDaHVuaycpO1xuICBpZiAoc3RhdGUuZW5kZWQpIHJldHVybjtcblxuICBpZiAoc3RhdGUuZGVjb2Rlcikge1xuICAgIHZhciBjaHVuayA9IHN0YXRlLmRlY29kZXIuZW5kKCk7XG5cbiAgICBpZiAoY2h1bmsgJiYgY2h1bmsubGVuZ3RoKSB7XG4gICAgICBzdGF0ZS5idWZmZXIucHVzaChjaHVuayk7XG4gICAgICBzdGF0ZS5sZW5ndGggKz0gc3RhdGUub2JqZWN0TW9kZSA/IDEgOiBjaHVuay5sZW5ndGg7XG4gICAgfVxuICB9XG5cbiAgc3RhdGUuZW5kZWQgPSB0cnVlO1xuXG4gIGlmIChzdGF0ZS5zeW5jKSB7XG4gICAgLy8gaWYgd2UgYXJlIHN5bmMsIHdhaXQgdW50aWwgbmV4dCB0aWNrIHRvIGVtaXQgdGhlIGRhdGEuXG4gICAgLy8gT3RoZXJ3aXNlIHdlIHJpc2sgZW1pdHRpbmcgZGF0YSBpbiB0aGUgZmxvdygpXG4gICAgLy8gdGhlIHJlYWRhYmxlIGNvZGUgdHJpZ2dlcnMgZHVyaW5nIGEgcmVhZCgpIGNhbGxcbiAgICBlbWl0UmVhZGFibGUoc3RyZWFtKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBlbWl0ICdyZWFkYWJsZScgbm93IHRvIG1ha2Ugc3VyZSBpdCBnZXRzIHBpY2tlZCB1cC5cbiAgICBzdGF0ZS5uZWVkUmVhZGFibGUgPSBmYWxzZTtcblxuICAgIGlmICghc3RhdGUuZW1pdHRlZFJlYWRhYmxlKSB7XG4gICAgICBzdGF0ZS5lbWl0dGVkUmVhZGFibGUgPSB0cnVlO1xuICAgICAgZW1pdFJlYWRhYmxlXyhzdHJlYW0pO1xuICAgIH1cbiAgfVxufSAvLyBEb24ndCBlbWl0IHJlYWRhYmxlIHJpZ2h0IGF3YXkgaW4gc3luYyBtb2RlLCBiZWNhdXNlIHRoaXMgY2FuIHRyaWdnZXJcbi8vIGFub3RoZXIgcmVhZCgpIGNhbGwgPT4gc3RhY2sgb3ZlcmZsb3cuICBUaGlzIHdheSwgaXQgbWlnaHQgdHJpZ2dlclxuLy8gYSBuZXh0VGljayByZWN1cnNpb24gd2FybmluZywgYnV0IHRoYXQncyBub3Qgc28gYmFkLlxuXG5cbmZ1bmN0aW9uIGVtaXRSZWFkYWJsZShzdHJlYW0pIHtcbiAgdmFyIHN0YXRlID0gc3RyZWFtLl9yZWFkYWJsZVN0YXRlO1xuICBkZWJ1ZygnZW1pdFJlYWRhYmxlJywgc3RhdGUubmVlZFJlYWRhYmxlLCBzdGF0ZS5lbWl0dGVkUmVhZGFibGUpO1xuICBzdGF0ZS5uZWVkUmVhZGFibGUgPSBmYWxzZTtcblxuICBpZiAoIXN0YXRlLmVtaXR0ZWRSZWFkYWJsZSkge1xuICAgIGRlYnVnKCdlbWl0UmVhZGFibGUnLCBzdGF0ZS5mbG93aW5nKTtcbiAgICBzdGF0ZS5lbWl0dGVkUmVhZGFibGUgPSB0cnVlO1xuICAgIHByb2Nlc3MubmV4dFRpY2soZW1pdFJlYWRhYmxlXywgc3RyZWFtKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBlbWl0UmVhZGFibGVfKHN0cmVhbSkge1xuICB2YXIgc3RhdGUgPSBzdHJlYW0uX3JlYWRhYmxlU3RhdGU7XG4gIGRlYnVnKCdlbWl0UmVhZGFibGVfJywgc3RhdGUuZGVzdHJveWVkLCBzdGF0ZS5sZW5ndGgsIHN0YXRlLmVuZGVkKTtcblxuICBpZiAoIXN0YXRlLmRlc3Ryb3llZCAmJiAoc3RhdGUubGVuZ3RoIHx8IHN0YXRlLmVuZGVkKSkge1xuICAgIHN0cmVhbS5lbWl0KCdyZWFkYWJsZScpO1xuICAgIHN0YXRlLmVtaXR0ZWRSZWFkYWJsZSA9IGZhbHNlO1xuICB9IC8vIFRoZSBzdHJlYW0gbmVlZHMgYW5vdGhlciByZWFkYWJsZSBldmVudCBpZlxuICAvLyAxLiBJdCBpcyBub3QgZmxvd2luZywgYXMgdGhlIGZsb3cgbWVjaGFuaXNtIHdpbGwgdGFrZVxuICAvLyAgICBjYXJlIG9mIGl0LlxuICAvLyAyLiBJdCBpcyBub3QgZW5kZWQuXG4gIC8vIDMuIEl0IGlzIGJlbG93IHRoZSBoaWdoV2F0ZXJNYXJrLCBzbyB3ZSBjYW4gc2NoZWR1bGVcbiAgLy8gICAgYW5vdGhlciByZWFkYWJsZSBsYXRlci5cblxuXG4gIHN0YXRlLm5lZWRSZWFkYWJsZSA9ICFzdGF0ZS5mbG93aW5nICYmICFzdGF0ZS5lbmRlZCAmJiBzdGF0ZS5sZW5ndGggPD0gc3RhdGUuaGlnaFdhdGVyTWFyaztcbiAgZmxvdyhzdHJlYW0pO1xufSAvLyBhdCB0aGlzIHBvaW50LCB0aGUgdXNlciBoYXMgcHJlc3VtYWJseSBzZWVuIHRoZSAncmVhZGFibGUnIGV2ZW50LFxuLy8gYW5kIGNhbGxlZCByZWFkKCkgdG8gY29uc3VtZSBzb21lIGRhdGEuICB0aGF0IG1heSBoYXZlIHRyaWdnZXJlZFxuLy8gaW4gdHVybiBhbm90aGVyIF9yZWFkKG4pIGNhbGwsIGluIHdoaWNoIGNhc2UgcmVhZGluZyA9IHRydWUgaWZcbi8vIGl0J3MgaW4gcHJvZ3Jlc3MuXG4vLyBIb3dldmVyLCBpZiB3ZSdyZSBub3QgZW5kZWQsIG9yIHJlYWRpbmcsIGFuZCB0aGUgbGVuZ3RoIDwgaHdtLFxuLy8gdGhlbiBnbyBhaGVhZCBhbmQgdHJ5IHRvIHJlYWQgc29tZSBtb3JlIHByZWVtcHRpdmVseS5cblxuXG5mdW5jdGlvbiBtYXliZVJlYWRNb3JlKHN0cmVhbSwgc3RhdGUpIHtcbiAgaWYgKCFzdGF0ZS5yZWFkaW5nTW9yZSkge1xuICAgIHN0YXRlLnJlYWRpbmdNb3JlID0gdHJ1ZTtcbiAgICBwcm9jZXNzLm5leHRUaWNrKG1heWJlUmVhZE1vcmVfLCBzdHJlYW0sIHN0YXRlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBtYXliZVJlYWRNb3JlXyhzdHJlYW0sIHN0YXRlKSB7XG4gIC8vIEF0dGVtcHQgdG8gcmVhZCBtb3JlIGRhdGEgaWYgd2Ugc2hvdWxkLlxuICAvL1xuICAvLyBUaGUgY29uZGl0aW9ucyBmb3IgcmVhZGluZyBtb3JlIGRhdGEgYXJlIChvbmUgb2YpOlxuICAvLyAtIE5vdCBlbm91Z2ggZGF0YSBidWZmZXJlZCAoc3RhdGUubGVuZ3RoIDwgc3RhdGUuaGlnaFdhdGVyTWFyaykuIFRoZSBsb29wXG4gIC8vICAgaXMgcmVzcG9uc2libGUgZm9yIGZpbGxpbmcgdGhlIGJ1ZmZlciB3aXRoIGVub3VnaCBkYXRhIGlmIHN1Y2ggZGF0YVxuICAvLyAgIGlzIGF2YWlsYWJsZS4gSWYgaGlnaFdhdGVyTWFyayBpcyAwIGFuZCB3ZSBhcmUgbm90IGluIHRoZSBmbG93aW5nIG1vZGVcbiAgLy8gICB3ZSBzaG91bGQgX25vdF8gYXR0ZW1wdCB0byBidWZmZXIgYW55IGV4dHJhIGRhdGEuIFdlJ2xsIGdldCBtb3JlIGRhdGFcbiAgLy8gICB3aGVuIHRoZSBzdHJlYW0gY29uc3VtZXIgY2FsbHMgcmVhZCgpIGluc3RlYWQuXG4gIC8vIC0gTm8gZGF0YSBpbiB0aGUgYnVmZmVyLCBhbmQgdGhlIHN0cmVhbSBpcyBpbiBmbG93aW5nIG1vZGUuIEluIHRoaXMgbW9kZVxuICAvLyAgIHRoZSBsb29wIGJlbG93IGlzIHJlc3BvbnNpYmxlIGZvciBlbnN1cmluZyByZWFkKCkgaXMgY2FsbGVkLiBGYWlsaW5nIHRvXG4gIC8vICAgY2FsbCByZWFkIGhlcmUgd291bGQgYWJvcnQgdGhlIGZsb3cgYW5kIHRoZXJlJ3Mgbm8gb3RoZXIgbWVjaGFuaXNtIGZvclxuICAvLyAgIGNvbnRpbnVpbmcgdGhlIGZsb3cgaWYgdGhlIHN0cmVhbSBjb25zdW1lciBoYXMganVzdCBzdWJzY3JpYmVkIHRvIHRoZVxuICAvLyAgICdkYXRhJyBldmVudC5cbiAgLy9cbiAgLy8gSW4gYWRkaXRpb24gdG8gdGhlIGFib3ZlIGNvbmRpdGlvbnMgdG8ga2VlcCByZWFkaW5nIGRhdGEsIHRoZSBmb2xsb3dpbmdcbiAgLy8gY29uZGl0aW9ucyBwcmV2ZW50IHRoZSBkYXRhIGZyb20gYmVpbmcgcmVhZDpcbiAgLy8gLSBUaGUgc3RyZWFtIGhhcyBlbmRlZCAoc3RhdGUuZW5kZWQpLlxuICAvLyAtIFRoZXJlIGlzIGFscmVhZHkgYSBwZW5kaW5nICdyZWFkJyBvcGVyYXRpb24gKHN0YXRlLnJlYWRpbmcpLiBUaGlzIGlzIGFcbiAgLy8gICBjYXNlIHdoZXJlIHRoZSB0aGUgc3RyZWFtIGhhcyBjYWxsZWQgdGhlIGltcGxlbWVudGF0aW9uIGRlZmluZWQgX3JlYWQoKVxuICAvLyAgIG1ldGhvZCwgYnV0IHRoZXkgYXJlIHByb2Nlc3NpbmcgdGhlIGNhbGwgYXN5bmNocm9ub3VzbHkgYW5kIGhhdmUgX25vdF9cbiAgLy8gICBjYWxsZWQgcHVzaCgpIHdpdGggbmV3IGRhdGEuIEluIHRoaXMgY2FzZSB3ZSBza2lwIHBlcmZvcm1pbmcgbW9yZVxuICAvLyAgIHJlYWQoKXMuIFRoZSBleGVjdXRpb24gZW5kcyBpbiB0aGlzIG1ldGhvZCBhZ2FpbiBhZnRlciB0aGUgX3JlYWQoKSBlbmRzXG4gIC8vICAgdXAgY2FsbGluZyBwdXNoKCkgd2l0aCBtb3JlIGRhdGEuXG4gIHdoaWxlICghc3RhdGUucmVhZGluZyAmJiAhc3RhdGUuZW5kZWQgJiYgKHN0YXRlLmxlbmd0aCA8IHN0YXRlLmhpZ2hXYXRlck1hcmsgfHwgc3RhdGUuZmxvd2luZyAmJiBzdGF0ZS5sZW5ndGggPT09IDApKSB7XG4gICAgdmFyIGxlbiA9IHN0YXRlLmxlbmd0aDtcbiAgICBkZWJ1ZygnbWF5YmVSZWFkTW9yZSByZWFkIDAnKTtcbiAgICBzdHJlYW0ucmVhZCgwKTtcbiAgICBpZiAobGVuID09PSBzdGF0ZS5sZW5ndGgpIC8vIGRpZG4ndCBnZXQgYW55IGRhdGEsIHN0b3Agc3Bpbm5pbmcuXG4gICAgICBicmVhaztcbiAgfVxuXG4gIHN0YXRlLnJlYWRpbmdNb3JlID0gZmFsc2U7XG59IC8vIGFic3RyYWN0IG1ldGhvZC4gIHRvIGJlIG92ZXJyaWRkZW4gaW4gc3BlY2lmaWMgaW1wbGVtZW50YXRpb24gY2xhc3Nlcy5cbi8vIGNhbGwgY2IoZXIsIGRhdGEpIHdoZXJlIGRhdGEgaXMgPD0gbiBpbiBsZW5ndGguXG4vLyBmb3IgdmlydHVhbCAobm9uLXN0cmluZywgbm9uLWJ1ZmZlcikgc3RyZWFtcywgXCJsZW5ndGhcIiBpcyBzb21ld2hhdFxuLy8gYXJiaXRyYXJ5LCBhbmQgcGVyaGFwcyBub3QgdmVyeSBtZWFuaW5nZnVsLlxuXG5cblJlYWRhYmxlLnByb3RvdHlwZS5fcmVhZCA9IGZ1bmN0aW9uIChuKSB7XG4gIGVycm9yT3JEZXN0cm95KHRoaXMsIG5ldyBFUlJfTUVUSE9EX05PVF9JTVBMRU1FTlRFRCgnX3JlYWQoKScpKTtcbn07XG5cblJlYWRhYmxlLnByb3RvdHlwZS5waXBlID0gZnVuY3Rpb24gKGRlc3QsIHBpcGVPcHRzKSB7XG4gIHZhciBzcmMgPSB0aGlzO1xuICB2YXIgc3RhdGUgPSB0aGlzLl9yZWFkYWJsZVN0YXRlO1xuXG4gIHN3aXRjaCAoc3RhdGUucGlwZXNDb3VudCkge1xuICAgIGNhc2UgMDpcbiAgICAgIHN0YXRlLnBpcGVzID0gZGVzdDtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAxOlxuICAgICAgc3RhdGUucGlwZXMgPSBbc3RhdGUucGlwZXMsIGRlc3RdO1xuICAgICAgYnJlYWs7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgc3RhdGUucGlwZXMucHVzaChkZXN0KTtcbiAgICAgIGJyZWFrO1xuICB9XG5cbiAgc3RhdGUucGlwZXNDb3VudCArPSAxO1xuICBkZWJ1ZygncGlwZSBjb3VudD0lZCBvcHRzPSVqJywgc3RhdGUucGlwZXNDb3VudCwgcGlwZU9wdHMpO1xuICB2YXIgZG9FbmQgPSAoIXBpcGVPcHRzIHx8IHBpcGVPcHRzLmVuZCAhPT0gZmFsc2UpICYmIGRlc3QgIT09IHByb2Nlc3Muc3Rkb3V0ICYmIGRlc3QgIT09IHByb2Nlc3Muc3RkZXJyO1xuICB2YXIgZW5kRm4gPSBkb0VuZCA/IG9uZW5kIDogdW5waXBlO1xuICBpZiAoc3RhdGUuZW5kRW1pdHRlZCkgcHJvY2Vzcy5uZXh0VGljayhlbmRGbik7ZWxzZSBzcmMub25jZSgnZW5kJywgZW5kRm4pO1xuICBkZXN0Lm9uKCd1bnBpcGUnLCBvbnVucGlwZSk7XG5cbiAgZnVuY3Rpb24gb251bnBpcGUocmVhZGFibGUsIHVucGlwZUluZm8pIHtcbiAgICBkZWJ1Zygnb251bnBpcGUnKTtcblxuICAgIGlmIChyZWFkYWJsZSA9PT0gc3JjKSB7XG4gICAgICBpZiAodW5waXBlSW5mbyAmJiB1bnBpcGVJbmZvLmhhc1VucGlwZWQgPT09IGZhbHNlKSB7XG4gICAgICAgIHVucGlwZUluZm8uaGFzVW5waXBlZCA9IHRydWU7XG4gICAgICAgIGNsZWFudXAoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBvbmVuZCgpIHtcbiAgICBkZWJ1Zygnb25lbmQnKTtcbiAgICBkZXN0LmVuZCgpO1xuICB9IC8vIHdoZW4gdGhlIGRlc3QgZHJhaW5zLCBpdCByZWR1Y2VzIHRoZSBhd2FpdERyYWluIGNvdW50ZXJcbiAgLy8gb24gdGhlIHNvdXJjZS4gIFRoaXMgd291bGQgYmUgbW9yZSBlbGVnYW50IHdpdGggYSAub25jZSgpXG4gIC8vIGhhbmRsZXIgaW4gZmxvdygpLCBidXQgYWRkaW5nIGFuZCByZW1vdmluZyByZXBlYXRlZGx5IGlzXG4gIC8vIHRvbyBzbG93LlxuXG5cbiAgdmFyIG9uZHJhaW4gPSBwaXBlT25EcmFpbihzcmMpO1xuICBkZXN0Lm9uKCdkcmFpbicsIG9uZHJhaW4pO1xuICB2YXIgY2xlYW5lZFVwID0gZmFsc2U7XG5cbiAgZnVuY3Rpb24gY2xlYW51cCgpIHtcbiAgICBkZWJ1ZygnY2xlYW51cCcpOyAvLyBjbGVhbnVwIGV2ZW50IGhhbmRsZXJzIG9uY2UgdGhlIHBpcGUgaXMgYnJva2VuXG5cbiAgICBkZXN0LnJlbW92ZUxpc3RlbmVyKCdjbG9zZScsIG9uY2xvc2UpO1xuICAgIGRlc3QucmVtb3ZlTGlzdGVuZXIoJ2ZpbmlzaCcsIG9uZmluaXNoKTtcbiAgICBkZXN0LnJlbW92ZUxpc3RlbmVyKCdkcmFpbicsIG9uZHJhaW4pO1xuICAgIGRlc3QucmVtb3ZlTGlzdGVuZXIoJ2Vycm9yJywgb25lcnJvcik7XG4gICAgZGVzdC5yZW1vdmVMaXN0ZW5lcigndW5waXBlJywgb251bnBpcGUpO1xuICAgIHNyYy5yZW1vdmVMaXN0ZW5lcignZW5kJywgb25lbmQpO1xuICAgIHNyYy5yZW1vdmVMaXN0ZW5lcignZW5kJywgdW5waXBlKTtcbiAgICBzcmMucmVtb3ZlTGlzdGVuZXIoJ2RhdGEnLCBvbmRhdGEpO1xuICAgIGNsZWFuZWRVcCA9IHRydWU7IC8vIGlmIHRoZSByZWFkZXIgaXMgd2FpdGluZyBmb3IgYSBkcmFpbiBldmVudCBmcm9tIHRoaXNcbiAgICAvLyBzcGVjaWZpYyB3cml0ZXIsIHRoZW4gaXQgd291bGQgY2F1c2UgaXQgdG8gbmV2ZXIgc3RhcnRcbiAgICAvLyBmbG93aW5nIGFnYWluLlxuICAgIC8vIFNvLCBpZiB0aGlzIGlzIGF3YWl0aW5nIGEgZHJhaW4sIHRoZW4gd2UganVzdCBjYWxsIGl0IG5vdy5cbiAgICAvLyBJZiB3ZSBkb24ndCBrbm93LCB0aGVuIGFzc3VtZSB0aGF0IHdlIGFyZSB3YWl0aW5nIGZvciBvbmUuXG5cbiAgICBpZiAoc3RhdGUuYXdhaXREcmFpbiAmJiAoIWRlc3QuX3dyaXRhYmxlU3RhdGUgfHwgZGVzdC5fd3JpdGFibGVTdGF0ZS5uZWVkRHJhaW4pKSBvbmRyYWluKCk7XG4gIH1cblxuICBzcmMub24oJ2RhdGEnLCBvbmRhdGEpO1xuXG4gIGZ1bmN0aW9uIG9uZGF0YShjaHVuaykge1xuICAgIGRlYnVnKCdvbmRhdGEnKTtcbiAgICB2YXIgcmV0ID0gZGVzdC53cml0ZShjaHVuayk7XG4gICAgZGVidWcoJ2Rlc3Qud3JpdGUnLCByZXQpO1xuXG4gICAgaWYgKHJldCA9PT0gZmFsc2UpIHtcbiAgICAgIC8vIElmIHRoZSB1c2VyIHVucGlwZWQgZHVyaW5nIGBkZXN0LndyaXRlKClgLCBpdCBpcyBwb3NzaWJsZVxuICAgICAgLy8gdG8gZ2V0IHN0dWNrIGluIGEgcGVybWFuZW50bHkgcGF1c2VkIHN0YXRlIGlmIHRoYXQgd3JpdGVcbiAgICAgIC8vIGFsc28gcmV0dXJuZWQgZmFsc2UuXG4gICAgICAvLyA9PiBDaGVjayB3aGV0aGVyIGBkZXN0YCBpcyBzdGlsbCBhIHBpcGluZyBkZXN0aW5hdGlvbi5cbiAgICAgIGlmICgoc3RhdGUucGlwZXNDb3VudCA9PT0gMSAmJiBzdGF0ZS5waXBlcyA9PT0gZGVzdCB8fCBzdGF0ZS5waXBlc0NvdW50ID4gMSAmJiBpbmRleE9mKHN0YXRlLnBpcGVzLCBkZXN0KSAhPT0gLTEpICYmICFjbGVhbmVkVXApIHtcbiAgICAgICAgZGVidWcoJ2ZhbHNlIHdyaXRlIHJlc3BvbnNlLCBwYXVzZScsIHN0YXRlLmF3YWl0RHJhaW4pO1xuICAgICAgICBzdGF0ZS5hd2FpdERyYWluKys7XG4gICAgICB9XG5cbiAgICAgIHNyYy5wYXVzZSgpO1xuICAgIH1cbiAgfSAvLyBpZiB0aGUgZGVzdCBoYXMgYW4gZXJyb3IsIHRoZW4gc3RvcCBwaXBpbmcgaW50byBpdC5cbiAgLy8gaG93ZXZlciwgZG9uJ3Qgc3VwcHJlc3MgdGhlIHRocm93aW5nIGJlaGF2aW9yIGZvciB0aGlzLlxuXG5cbiAgZnVuY3Rpb24gb25lcnJvcihlcikge1xuICAgIGRlYnVnKCdvbmVycm9yJywgZXIpO1xuICAgIHVucGlwZSgpO1xuICAgIGRlc3QucmVtb3ZlTGlzdGVuZXIoJ2Vycm9yJywgb25lcnJvcik7XG4gICAgaWYgKEVFbGlzdGVuZXJDb3VudChkZXN0LCAnZXJyb3InKSA9PT0gMCkgZXJyb3JPckRlc3Ryb3koZGVzdCwgZXIpO1xuICB9IC8vIE1ha2Ugc3VyZSBvdXIgZXJyb3IgaGFuZGxlciBpcyBhdHRhY2hlZCBiZWZvcmUgdXNlcmxhbmQgb25lcy5cblxuXG4gIHByZXBlbmRMaXN0ZW5lcihkZXN0LCAnZXJyb3InLCBvbmVycm9yKTsgLy8gQm90aCBjbG9zZSBhbmQgZmluaXNoIHNob3VsZCB0cmlnZ2VyIHVucGlwZSwgYnV0IG9ubHkgb25jZS5cblxuICBmdW5jdGlvbiBvbmNsb3NlKCkge1xuICAgIGRlc3QucmVtb3ZlTGlzdGVuZXIoJ2ZpbmlzaCcsIG9uZmluaXNoKTtcbiAgICB1bnBpcGUoKTtcbiAgfVxuXG4gIGRlc3Qub25jZSgnY2xvc2UnLCBvbmNsb3NlKTtcblxuICBmdW5jdGlvbiBvbmZpbmlzaCgpIHtcbiAgICBkZWJ1Zygnb25maW5pc2gnKTtcbiAgICBkZXN0LnJlbW92ZUxpc3RlbmVyKCdjbG9zZScsIG9uY2xvc2UpO1xuICAgIHVucGlwZSgpO1xuICB9XG5cbiAgZGVzdC5vbmNlKCdmaW5pc2gnLCBvbmZpbmlzaCk7XG5cbiAgZnVuY3Rpb24gdW5waXBlKCkge1xuICAgIGRlYnVnKCd1bnBpcGUnKTtcbiAgICBzcmMudW5waXBlKGRlc3QpO1xuICB9IC8vIHRlbGwgdGhlIGRlc3QgdGhhdCBpdCdzIGJlaW5nIHBpcGVkIHRvXG5cblxuICBkZXN0LmVtaXQoJ3BpcGUnLCBzcmMpOyAvLyBzdGFydCB0aGUgZmxvdyBpZiBpdCBoYXNuJ3QgYmVlbiBzdGFydGVkIGFscmVhZHkuXG5cbiAgaWYgKCFzdGF0ZS5mbG93aW5nKSB7XG4gICAgZGVidWcoJ3BpcGUgcmVzdW1lJyk7XG4gICAgc3JjLnJlc3VtZSgpO1xuICB9XG5cbiAgcmV0dXJuIGRlc3Q7XG59O1xuXG5mdW5jdGlvbiBwaXBlT25EcmFpbihzcmMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIHBpcGVPbkRyYWluRnVuY3Rpb25SZXN1bHQoKSB7XG4gICAgdmFyIHN0YXRlID0gc3JjLl9yZWFkYWJsZVN0YXRlO1xuICAgIGRlYnVnKCdwaXBlT25EcmFpbicsIHN0YXRlLmF3YWl0RHJhaW4pO1xuICAgIGlmIChzdGF0ZS5hd2FpdERyYWluKSBzdGF0ZS5hd2FpdERyYWluLS07XG5cbiAgICBpZiAoc3RhdGUuYXdhaXREcmFpbiA9PT0gMCAmJiBFRWxpc3RlbmVyQ291bnQoc3JjLCAnZGF0YScpKSB7XG4gICAgICBzdGF0ZS5mbG93aW5nID0gdHJ1ZTtcbiAgICAgIGZsb3coc3JjKTtcbiAgICB9XG4gIH07XG59XG5cblJlYWRhYmxlLnByb3RvdHlwZS51bnBpcGUgPSBmdW5jdGlvbiAoZGVzdCkge1xuICB2YXIgc3RhdGUgPSB0aGlzLl9yZWFkYWJsZVN0YXRlO1xuICB2YXIgdW5waXBlSW5mbyA9IHtcbiAgICBoYXNVbnBpcGVkOiBmYWxzZVxuICB9OyAvLyBpZiB3ZSdyZSBub3QgcGlwaW5nIGFueXdoZXJlLCB0aGVuIGRvIG5vdGhpbmcuXG5cbiAgaWYgKHN0YXRlLnBpcGVzQ291bnQgPT09IDApIHJldHVybiB0aGlzOyAvLyBqdXN0IG9uZSBkZXN0aW5hdGlvbi4gIG1vc3QgY29tbW9uIGNhc2UuXG5cbiAgaWYgKHN0YXRlLnBpcGVzQ291bnQgPT09IDEpIHtcbiAgICAvLyBwYXNzZWQgaW4gb25lLCBidXQgaXQncyBub3QgdGhlIHJpZ2h0IG9uZS5cbiAgICBpZiAoZGVzdCAmJiBkZXN0ICE9PSBzdGF0ZS5waXBlcykgcmV0dXJuIHRoaXM7XG4gICAgaWYgKCFkZXN0KSBkZXN0ID0gc3RhdGUucGlwZXM7IC8vIGdvdCBhIG1hdGNoLlxuXG4gICAgc3RhdGUucGlwZXMgPSBudWxsO1xuICAgIHN0YXRlLnBpcGVzQ291bnQgPSAwO1xuICAgIHN0YXRlLmZsb3dpbmcgPSBmYWxzZTtcbiAgICBpZiAoZGVzdCkgZGVzdC5lbWl0KCd1bnBpcGUnLCB0aGlzLCB1bnBpcGVJbmZvKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfSAvLyBzbG93IGNhc2UuIG11bHRpcGxlIHBpcGUgZGVzdGluYXRpb25zLlxuXG5cbiAgaWYgKCFkZXN0KSB7XG4gICAgLy8gcmVtb3ZlIGFsbC5cbiAgICB2YXIgZGVzdHMgPSBzdGF0ZS5waXBlcztcbiAgICB2YXIgbGVuID0gc3RhdGUucGlwZXNDb3VudDtcbiAgICBzdGF0ZS5waXBlcyA9IG51bGw7XG4gICAgc3RhdGUucGlwZXNDb3VudCA9IDA7XG4gICAgc3RhdGUuZmxvd2luZyA9IGZhbHNlO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgZGVzdHNbaV0uZW1pdCgndW5waXBlJywgdGhpcywge1xuICAgICAgICBoYXNVbnBpcGVkOiBmYWxzZVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH0gLy8gdHJ5IHRvIGZpbmQgdGhlIHJpZ2h0IG9uZS5cblxuXG4gIHZhciBpbmRleCA9IGluZGV4T2Yoc3RhdGUucGlwZXMsIGRlc3QpO1xuICBpZiAoaW5kZXggPT09IC0xKSByZXR1cm4gdGhpcztcbiAgc3RhdGUucGlwZXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgc3RhdGUucGlwZXNDb3VudCAtPSAxO1xuICBpZiAoc3RhdGUucGlwZXNDb3VudCA9PT0gMSkgc3RhdGUucGlwZXMgPSBzdGF0ZS5waXBlc1swXTtcbiAgZGVzdC5lbWl0KCd1bnBpcGUnLCB0aGlzLCB1bnBpcGVJbmZvKTtcbiAgcmV0dXJuIHRoaXM7XG59OyAvLyBzZXQgdXAgZGF0YSBldmVudHMgaWYgdGhleSBhcmUgYXNrZWQgZm9yXG4vLyBFbnN1cmUgcmVhZGFibGUgbGlzdGVuZXJzIGV2ZW50dWFsbHkgZ2V0IHNvbWV0aGluZ1xuXG5cblJlYWRhYmxlLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uIChldiwgZm4pIHtcbiAgdmFyIHJlcyA9IFN0cmVhbS5wcm90b3R5cGUub24uY2FsbCh0aGlzLCBldiwgZm4pO1xuICB2YXIgc3RhdGUgPSB0aGlzLl9yZWFkYWJsZVN0YXRlO1xuXG4gIGlmIChldiA9PT0gJ2RhdGEnKSB7XG4gICAgLy8gdXBkYXRlIHJlYWRhYmxlTGlzdGVuaW5nIHNvIHRoYXQgcmVzdW1lKCkgbWF5IGJlIGEgbm8tb3BcbiAgICAvLyBhIGZldyBsaW5lcyBkb3duLiBUaGlzIGlzIG5lZWRlZCB0byBzdXBwb3J0IG9uY2UoJ3JlYWRhYmxlJykuXG4gICAgc3RhdGUucmVhZGFibGVMaXN0ZW5pbmcgPSB0aGlzLmxpc3RlbmVyQ291bnQoJ3JlYWRhYmxlJykgPiAwOyAvLyBUcnkgc3RhcnQgZmxvd2luZyBvbiBuZXh0IHRpY2sgaWYgc3RyZWFtIGlzbid0IGV4cGxpY2l0bHkgcGF1c2VkXG5cbiAgICBpZiAoc3RhdGUuZmxvd2luZyAhPT0gZmFsc2UpIHRoaXMucmVzdW1lKCk7XG4gIH0gZWxzZSBpZiAoZXYgPT09ICdyZWFkYWJsZScpIHtcbiAgICBpZiAoIXN0YXRlLmVuZEVtaXR0ZWQgJiYgIXN0YXRlLnJlYWRhYmxlTGlzdGVuaW5nKSB7XG4gICAgICBzdGF0ZS5yZWFkYWJsZUxpc3RlbmluZyA9IHN0YXRlLm5lZWRSZWFkYWJsZSA9IHRydWU7XG4gICAgICBzdGF0ZS5mbG93aW5nID0gZmFsc2U7XG4gICAgICBzdGF0ZS5lbWl0dGVkUmVhZGFibGUgPSBmYWxzZTtcbiAgICAgIGRlYnVnKCdvbiByZWFkYWJsZScsIHN0YXRlLmxlbmd0aCwgc3RhdGUucmVhZGluZyk7XG5cbiAgICAgIGlmIChzdGF0ZS5sZW5ndGgpIHtcbiAgICAgICAgZW1pdFJlYWRhYmxlKHRoaXMpO1xuICAgICAgfSBlbHNlIGlmICghc3RhdGUucmVhZGluZykge1xuICAgICAgICBwcm9jZXNzLm5leHRUaWNrKG5SZWFkaW5nTmV4dFRpY2ssIHRoaXMpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXM7XG59O1xuXG5SZWFkYWJsZS5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBSZWFkYWJsZS5wcm90b3R5cGUub247XG5cblJlYWRhYmxlLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9IGZ1bmN0aW9uIChldiwgZm4pIHtcbiAgdmFyIHJlcyA9IFN0cmVhbS5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIuY2FsbCh0aGlzLCBldiwgZm4pO1xuXG4gIGlmIChldiA9PT0gJ3JlYWRhYmxlJykge1xuICAgIC8vIFdlIG5lZWQgdG8gY2hlY2sgaWYgdGhlcmUgaXMgc29tZW9uZSBzdGlsbCBsaXN0ZW5pbmcgdG9cbiAgICAvLyByZWFkYWJsZSBhbmQgcmVzZXQgdGhlIHN0YXRlLiBIb3dldmVyIHRoaXMgbmVlZHMgdG8gaGFwcGVuXG4gICAgLy8gYWZ0ZXIgcmVhZGFibGUgaGFzIGJlZW4gZW1pdHRlZCBidXQgYmVmb3JlIEkvTyAobmV4dFRpY2spIHRvXG4gICAgLy8gc3VwcG9ydCBvbmNlKCdyZWFkYWJsZScsIGZuKSBjeWNsZXMuIFRoaXMgbWVhbnMgdGhhdCBjYWxsaW5nXG4gICAgLy8gcmVzdW1lIHdpdGhpbiB0aGUgc2FtZSB0aWNrIHdpbGwgaGF2ZSBub1xuICAgIC8vIGVmZmVjdC5cbiAgICBwcm9jZXNzLm5leHRUaWNrKHVwZGF0ZVJlYWRhYmxlTGlzdGVuaW5nLCB0aGlzKTtcbiAgfVxuXG4gIHJldHVybiByZXM7XG59O1xuXG5SZWFkYWJsZS5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID0gZnVuY3Rpb24gKGV2KSB7XG4gIHZhciByZXMgPSBTdHJlYW0ucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXG4gIGlmIChldiA9PT0gJ3JlYWRhYmxlJyB8fCBldiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gV2UgbmVlZCB0byBjaGVjayBpZiB0aGVyZSBpcyBzb21lb25lIHN0aWxsIGxpc3RlbmluZyB0b1xuICAgIC8vIHJlYWRhYmxlIGFuZCByZXNldCB0aGUgc3RhdGUuIEhvd2V2ZXIgdGhpcyBuZWVkcyB0byBoYXBwZW5cbiAgICAvLyBhZnRlciByZWFkYWJsZSBoYXMgYmVlbiBlbWl0dGVkIGJ1dCBiZWZvcmUgSS9PIChuZXh0VGljaykgdG9cbiAgICAvLyBzdXBwb3J0IG9uY2UoJ3JlYWRhYmxlJywgZm4pIGN5Y2xlcy4gVGhpcyBtZWFucyB0aGF0IGNhbGxpbmdcbiAgICAvLyByZXN1bWUgd2l0aGluIHRoZSBzYW1lIHRpY2sgd2lsbCBoYXZlIG5vXG4gICAgLy8gZWZmZWN0LlxuICAgIHByb2Nlc3MubmV4dFRpY2sodXBkYXRlUmVhZGFibGVMaXN0ZW5pbmcsIHRoaXMpO1xuICB9XG5cbiAgcmV0dXJuIHJlcztcbn07XG5cbmZ1bmN0aW9uIHVwZGF0ZVJlYWRhYmxlTGlzdGVuaW5nKHNlbGYpIHtcbiAgdmFyIHN0YXRlID0gc2VsZi5fcmVhZGFibGVTdGF0ZTtcbiAgc3RhdGUucmVhZGFibGVMaXN0ZW5pbmcgPSBzZWxmLmxpc3RlbmVyQ291bnQoJ3JlYWRhYmxlJykgPiAwO1xuXG4gIGlmIChzdGF0ZS5yZXN1bWVTY2hlZHVsZWQgJiYgIXN0YXRlLnBhdXNlZCkge1xuICAgIC8vIGZsb3dpbmcgbmVlZHMgdG8gYmUgc2V0IHRvIHRydWUgbm93LCBvdGhlcndpc2VcbiAgICAvLyB0aGUgdXBjb21pbmcgcmVzdW1lIHdpbGwgbm90IGZsb3cuXG4gICAgc3RhdGUuZmxvd2luZyA9IHRydWU7IC8vIGNydWRlIHdheSB0byBjaGVjayBpZiB3ZSBzaG91bGQgcmVzdW1lXG4gIH0gZWxzZSBpZiAoc2VsZi5saXN0ZW5lckNvdW50KCdkYXRhJykgPiAwKSB7XG4gICAgc2VsZi5yZXN1bWUoKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBuUmVhZGluZ05leHRUaWNrKHNlbGYpIHtcbiAgZGVidWcoJ3JlYWRhYmxlIG5leHR0aWNrIHJlYWQgMCcpO1xuICBzZWxmLnJlYWQoMCk7XG59IC8vIHBhdXNlKCkgYW5kIHJlc3VtZSgpIGFyZSByZW1uYW50cyBvZiB0aGUgbGVnYWN5IHJlYWRhYmxlIHN0cmVhbSBBUElcbi8vIElmIHRoZSB1c2VyIHVzZXMgdGhlbSwgdGhlbiBzd2l0Y2ggaW50byBvbGQgbW9kZS5cblxuXG5SZWFkYWJsZS5wcm90b3R5cGUucmVzdW1lID0gZnVuY3Rpb24gKCkge1xuICB2YXIgc3RhdGUgPSB0aGlzLl9yZWFkYWJsZVN0YXRlO1xuXG4gIGlmICghc3RhdGUuZmxvd2luZykge1xuICAgIGRlYnVnKCdyZXN1bWUnKTsgLy8gd2UgZmxvdyBvbmx5IGlmIHRoZXJlIGlzIG5vIG9uZSBsaXN0ZW5pbmdcbiAgICAvLyBmb3IgcmVhZGFibGUsIGJ1dCB3ZSBzdGlsbCBoYXZlIHRvIGNhbGxcbiAgICAvLyByZXN1bWUoKVxuXG4gICAgc3RhdGUuZmxvd2luZyA9ICFzdGF0ZS5yZWFkYWJsZUxpc3RlbmluZztcbiAgICByZXN1bWUodGhpcywgc3RhdGUpO1xuICB9XG5cbiAgc3RhdGUucGF1c2VkID0gZmFsc2U7XG4gIHJldHVybiB0aGlzO1xufTtcblxuZnVuY3Rpb24gcmVzdW1lKHN0cmVhbSwgc3RhdGUpIHtcbiAgaWYgKCFzdGF0ZS5yZXN1bWVTY2hlZHVsZWQpIHtcbiAgICBzdGF0ZS5yZXN1bWVTY2hlZHVsZWQgPSB0cnVlO1xuICAgIHByb2Nlc3MubmV4dFRpY2socmVzdW1lXywgc3RyZWFtLCBzdGF0ZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVzdW1lXyhzdHJlYW0sIHN0YXRlKSB7XG4gIGRlYnVnKCdyZXN1bWUnLCBzdGF0ZS5yZWFkaW5nKTtcblxuICBpZiAoIXN0YXRlLnJlYWRpbmcpIHtcbiAgICBzdHJlYW0ucmVhZCgwKTtcbiAgfVxuXG4gIHN0YXRlLnJlc3VtZVNjaGVkdWxlZCA9IGZhbHNlO1xuICBzdHJlYW0uZW1pdCgncmVzdW1lJyk7XG4gIGZsb3coc3RyZWFtKTtcbiAgaWYgKHN0YXRlLmZsb3dpbmcgJiYgIXN0YXRlLnJlYWRpbmcpIHN0cmVhbS5yZWFkKDApO1xufVxuXG5SZWFkYWJsZS5wcm90b3R5cGUucGF1c2UgPSBmdW5jdGlvbiAoKSB7XG4gIGRlYnVnKCdjYWxsIHBhdXNlIGZsb3dpbmc9JWonLCB0aGlzLl9yZWFkYWJsZVN0YXRlLmZsb3dpbmcpO1xuXG4gIGlmICh0aGlzLl9yZWFkYWJsZVN0YXRlLmZsb3dpbmcgIT09IGZhbHNlKSB7XG4gICAgZGVidWcoJ3BhdXNlJyk7XG4gICAgdGhpcy5fcmVhZGFibGVTdGF0ZS5mbG93aW5nID0gZmFsc2U7XG4gICAgdGhpcy5lbWl0KCdwYXVzZScpO1xuICB9XG5cbiAgdGhpcy5fcmVhZGFibGVTdGF0ZS5wYXVzZWQgPSB0cnVlO1xuICByZXR1cm4gdGhpcztcbn07XG5cbmZ1bmN0aW9uIGZsb3coc3RyZWFtKSB7XG4gIHZhciBzdGF0ZSA9IHN0cmVhbS5fcmVhZGFibGVTdGF0ZTtcbiAgZGVidWcoJ2Zsb3cnLCBzdGF0ZS5mbG93aW5nKTtcblxuICB3aGlsZSAoc3RhdGUuZmxvd2luZyAmJiBzdHJlYW0ucmVhZCgpICE9PSBudWxsKSB7XG4gICAgO1xuICB9XG59IC8vIHdyYXAgYW4gb2xkLXN0eWxlIHN0cmVhbSBhcyB0aGUgYXN5bmMgZGF0YSBzb3VyY2UuXG4vLyBUaGlzIGlzICpub3QqIHBhcnQgb2YgdGhlIHJlYWRhYmxlIHN0cmVhbSBpbnRlcmZhY2UuXG4vLyBJdCBpcyBhbiB1Z2x5IHVuZm9ydHVuYXRlIG1lc3Mgb2YgaGlzdG9yeS5cblxuXG5SZWFkYWJsZS5wcm90b3R5cGUud3JhcCA9IGZ1bmN0aW9uIChzdHJlYW0pIHtcbiAgdmFyIF90aGlzID0gdGhpcztcblxuICB2YXIgc3RhdGUgPSB0aGlzLl9yZWFkYWJsZVN0YXRlO1xuICB2YXIgcGF1c2VkID0gZmFsc2U7XG4gIHN0cmVhbS5vbignZW5kJywgZnVuY3Rpb24gKCkge1xuICAgIGRlYnVnKCd3cmFwcGVkIGVuZCcpO1xuXG4gICAgaWYgKHN0YXRlLmRlY29kZXIgJiYgIXN0YXRlLmVuZGVkKSB7XG4gICAgICB2YXIgY2h1bmsgPSBzdGF0ZS5kZWNvZGVyLmVuZCgpO1xuICAgICAgaWYgKGNodW5rICYmIGNodW5rLmxlbmd0aCkgX3RoaXMucHVzaChjaHVuayk7XG4gICAgfVxuXG4gICAgX3RoaXMucHVzaChudWxsKTtcbiAgfSk7XG4gIHN0cmVhbS5vbignZGF0YScsIGZ1bmN0aW9uIChjaHVuaykge1xuICAgIGRlYnVnKCd3cmFwcGVkIGRhdGEnKTtcbiAgICBpZiAoc3RhdGUuZGVjb2RlcikgY2h1bmsgPSBzdGF0ZS5kZWNvZGVyLndyaXRlKGNodW5rKTsgLy8gZG9uJ3Qgc2tpcCBvdmVyIGZhbHN5IHZhbHVlcyBpbiBvYmplY3RNb2RlXG5cbiAgICBpZiAoc3RhdGUub2JqZWN0TW9kZSAmJiAoY2h1bmsgPT09IG51bGwgfHwgY2h1bmsgPT09IHVuZGVmaW5lZCkpIHJldHVybjtlbHNlIGlmICghc3RhdGUub2JqZWN0TW9kZSAmJiAoIWNodW5rIHx8ICFjaHVuay5sZW5ndGgpKSByZXR1cm47XG5cbiAgICB2YXIgcmV0ID0gX3RoaXMucHVzaChjaHVuayk7XG5cbiAgICBpZiAoIXJldCkge1xuICAgICAgcGF1c2VkID0gdHJ1ZTtcbiAgICAgIHN0cmVhbS5wYXVzZSgpO1xuICAgIH1cbiAgfSk7IC8vIHByb3h5IGFsbCB0aGUgb3RoZXIgbWV0aG9kcy5cbiAgLy8gaW1wb3J0YW50IHdoZW4gd3JhcHBpbmcgZmlsdGVycyBhbmQgZHVwbGV4ZXMuXG5cbiAgZm9yICh2YXIgaSBpbiBzdHJlYW0pIHtcbiAgICBpZiAodGhpc1tpXSA9PT0gdW5kZWZpbmVkICYmIHR5cGVvZiBzdHJlYW1baV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRoaXNbaV0gPSBmdW5jdGlvbiBtZXRob2RXcmFwKG1ldGhvZCkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gbWV0aG9kV3JhcFJldHVybkZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBzdHJlYW1bbWV0aG9kXS5hcHBseShzdHJlYW0sIGFyZ3VtZW50cyk7XG4gICAgICAgIH07XG4gICAgICB9KGkpO1xuICAgIH1cbiAgfSAvLyBwcm94eSBjZXJ0YWluIGltcG9ydGFudCBldmVudHMuXG5cblxuICBmb3IgKHZhciBuID0gMDsgbiA8IGtQcm94eUV2ZW50cy5sZW5ndGg7IG4rKykge1xuICAgIHN0cmVhbS5vbihrUHJveHlFdmVudHNbbl0sIHRoaXMuZW1pdC5iaW5kKHRoaXMsIGtQcm94eUV2ZW50c1tuXSkpO1xuICB9IC8vIHdoZW4gd2UgdHJ5IHRvIGNvbnN1bWUgc29tZSBtb3JlIGJ5dGVzLCBzaW1wbHkgdW5wYXVzZSB0aGVcbiAgLy8gdW5kZXJseWluZyBzdHJlYW0uXG5cblxuICB0aGlzLl9yZWFkID0gZnVuY3Rpb24gKG4pIHtcbiAgICBkZWJ1Zygnd3JhcHBlZCBfcmVhZCcsIG4pO1xuXG4gICAgaWYgKHBhdXNlZCkge1xuICAgICAgcGF1c2VkID0gZmFsc2U7XG4gICAgICBzdHJlYW0ucmVzdW1lKCk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiB0aGlzO1xufTtcblxuaWYgKHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicpIHtcbiAgUmVhZGFibGUucHJvdG90eXBlW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoY3JlYXRlUmVhZGFibGVTdHJlYW1Bc3luY0l0ZXJhdG9yID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGNyZWF0ZVJlYWRhYmxlU3RyZWFtQXN5bmNJdGVyYXRvciA9IHJlcXVpcmUoJy4vaW50ZXJuYWwvc3RyZWFtcy9hc3luY19pdGVyYXRvcicpO1xuICAgIH1cblxuICAgIHJldHVybiBjcmVhdGVSZWFkYWJsZVN0cmVhbUFzeW5jSXRlcmF0b3IodGhpcyk7XG4gIH07XG59XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZWFkYWJsZS5wcm90b3R5cGUsICdyZWFkYWJsZUhpZ2hXYXRlck1hcmsnLCB7XG4gIC8vIG1ha2luZyBpdCBleHBsaWNpdCB0aGlzIHByb3BlcnR5IGlzIG5vdCBlbnVtZXJhYmxlXG4gIC8vIGJlY2F1c2Ugb3RoZXJ3aXNlIHNvbWUgcHJvdG90eXBlIG1hbmlwdWxhdGlvbiBpblxuICAvLyB1c2VybGFuZCB3aWxsIGZhaWxcbiAgZW51bWVyYWJsZTogZmFsc2UsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiB0aGlzLl9yZWFkYWJsZVN0YXRlLmhpZ2hXYXRlck1hcms7XG4gIH1cbn0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlYWRhYmxlLnByb3RvdHlwZSwgJ3JlYWRhYmxlQnVmZmVyJywge1xuICAvLyBtYWtpbmcgaXQgZXhwbGljaXQgdGhpcyBwcm9wZXJ0eSBpcyBub3QgZW51bWVyYWJsZVxuICAvLyBiZWNhdXNlIG90aGVyd2lzZSBzb21lIHByb3RvdHlwZSBtYW5pcHVsYXRpb24gaW5cbiAgLy8gdXNlcmxhbmQgd2lsbCBmYWlsXG4gIGVudW1lcmFibGU6IGZhbHNlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gdGhpcy5fcmVhZGFibGVTdGF0ZSAmJiB0aGlzLl9yZWFkYWJsZVN0YXRlLmJ1ZmZlcjtcbiAgfVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoUmVhZGFibGUucHJvdG90eXBlLCAncmVhZGFibGVGbG93aW5nJywge1xuICAvLyBtYWtpbmcgaXQgZXhwbGljaXQgdGhpcyBwcm9wZXJ0eSBpcyBub3QgZW51bWVyYWJsZVxuICAvLyBiZWNhdXNlIG90aGVyd2lzZSBzb21lIHByb3RvdHlwZSBtYW5pcHVsYXRpb24gaW5cbiAgLy8gdXNlcmxhbmQgd2lsbCBmYWlsXG4gIGVudW1lcmFibGU6IGZhbHNlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gdGhpcy5fcmVhZGFibGVTdGF0ZS5mbG93aW5nO1xuICB9LFxuICBzZXQ6IGZ1bmN0aW9uIHNldChzdGF0ZSkge1xuICAgIGlmICh0aGlzLl9yZWFkYWJsZVN0YXRlKSB7XG4gICAgICB0aGlzLl9yZWFkYWJsZVN0YXRlLmZsb3dpbmcgPSBzdGF0ZTtcbiAgICB9XG4gIH1cbn0pOyAvLyBleHBvc2VkIGZvciB0ZXN0aW5nIHB1cnBvc2VzIG9ubHkuXG5cblJlYWRhYmxlLl9mcm9tTGlzdCA9IGZyb21MaXN0O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlYWRhYmxlLnByb3RvdHlwZSwgJ3JlYWRhYmxlTGVuZ3RoJywge1xuICAvLyBtYWtpbmcgaXQgZXhwbGljaXQgdGhpcyBwcm9wZXJ0eSBpcyBub3QgZW51bWVyYWJsZVxuICAvLyBiZWNhdXNlIG90aGVyd2lzZSBzb21lIHByb3RvdHlwZSBtYW5pcHVsYXRpb24gaW5cbiAgLy8gdXNlcmxhbmQgd2lsbCBmYWlsXG4gIGVudW1lcmFibGU6IGZhbHNlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gdGhpcy5fcmVhZGFibGVTdGF0ZS5sZW5ndGg7XG4gIH1cbn0pOyAvLyBQbHVjayBvZmYgbiBieXRlcyBmcm9tIGFuIGFycmF5IG9mIGJ1ZmZlcnMuXG4vLyBMZW5ndGggaXMgdGhlIGNvbWJpbmVkIGxlbmd0aHMgb2YgYWxsIHRoZSBidWZmZXJzIGluIHRoZSBsaXN0LlxuLy8gVGhpcyBmdW5jdGlvbiBpcyBkZXNpZ25lZCB0byBiZSBpbmxpbmFibGUsIHNvIHBsZWFzZSB0YWtlIGNhcmUgd2hlbiBtYWtpbmdcbi8vIGNoYW5nZXMgdG8gdGhlIGZ1bmN0aW9uIGJvZHkuXG5cbmZ1bmN0aW9uIGZyb21MaXN0KG4sIHN0YXRlKSB7XG4gIC8vIG5vdGhpbmcgYnVmZmVyZWRcbiAgaWYgKHN0YXRlLmxlbmd0aCA9PT0gMCkgcmV0dXJuIG51bGw7XG4gIHZhciByZXQ7XG4gIGlmIChzdGF0ZS5vYmplY3RNb2RlKSByZXQgPSBzdGF0ZS5idWZmZXIuc2hpZnQoKTtlbHNlIGlmICghbiB8fCBuID49IHN0YXRlLmxlbmd0aCkge1xuICAgIC8vIHJlYWQgaXQgYWxsLCB0cnVuY2F0ZSB0aGUgbGlzdFxuICAgIGlmIChzdGF0ZS5kZWNvZGVyKSByZXQgPSBzdGF0ZS5idWZmZXIuam9pbignJyk7ZWxzZSBpZiAoc3RhdGUuYnVmZmVyLmxlbmd0aCA9PT0gMSkgcmV0ID0gc3RhdGUuYnVmZmVyLmZpcnN0KCk7ZWxzZSByZXQgPSBzdGF0ZS5idWZmZXIuY29uY2F0KHN0YXRlLmxlbmd0aCk7XG4gICAgc3RhdGUuYnVmZmVyLmNsZWFyKCk7XG4gIH0gZWxzZSB7XG4gICAgLy8gcmVhZCBwYXJ0IG9mIGxpc3RcbiAgICByZXQgPSBzdGF0ZS5idWZmZXIuY29uc3VtZShuLCBzdGF0ZS5kZWNvZGVyKTtcbiAgfVxuICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBlbmRSZWFkYWJsZShzdHJlYW0pIHtcbiAgdmFyIHN0YXRlID0gc3RyZWFtLl9yZWFkYWJsZVN0YXRlO1xuICBkZWJ1ZygnZW5kUmVhZGFibGUnLCBzdGF0ZS5lbmRFbWl0dGVkKTtcblxuICBpZiAoIXN0YXRlLmVuZEVtaXR0ZWQpIHtcbiAgICBzdGF0ZS5lbmRlZCA9IHRydWU7XG4gICAgcHJvY2Vzcy5uZXh0VGljayhlbmRSZWFkYWJsZU5ULCBzdGF0ZSwgc3RyZWFtKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBlbmRSZWFkYWJsZU5UKHN0YXRlLCBzdHJlYW0pIHtcbiAgZGVidWcoJ2VuZFJlYWRhYmxlTlQnLCBzdGF0ZS5lbmRFbWl0dGVkLCBzdGF0ZS5sZW5ndGgpOyAvLyBDaGVjayB0aGF0IHdlIGRpZG4ndCBnZXQgb25lIGxhc3QgdW5zaGlmdC5cblxuICBpZiAoIXN0YXRlLmVuZEVtaXR0ZWQgJiYgc3RhdGUubGVuZ3RoID09PSAwKSB7XG4gICAgc3RhdGUuZW5kRW1pdHRlZCA9IHRydWU7XG4gICAgc3RyZWFtLnJlYWRhYmxlID0gZmFsc2U7XG4gICAgc3RyZWFtLmVtaXQoJ2VuZCcpO1xuXG4gICAgaWYgKHN0YXRlLmF1dG9EZXN0cm95KSB7XG4gICAgICAvLyBJbiBjYXNlIG9mIGR1cGxleCBzdHJlYW1zIHdlIG5lZWQgYSB3YXkgdG8gZGV0ZWN0XG4gICAgICAvLyBpZiB0aGUgd3JpdGFibGUgc2lkZSBpcyByZWFkeSBmb3IgYXV0b0Rlc3Ryb3kgYXMgd2VsbFxuICAgICAgdmFyIHdTdGF0ZSA9IHN0cmVhbS5fd3JpdGFibGVTdGF0ZTtcblxuICAgICAgaWYgKCF3U3RhdGUgfHwgd1N0YXRlLmF1dG9EZXN0cm95ICYmIHdTdGF0ZS5maW5pc2hlZCkge1xuICAgICAgICBzdHJlYW0uZGVzdHJveSgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5pZiAodHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJykge1xuICBSZWFkYWJsZS5mcm9tID0gZnVuY3Rpb24gKGl0ZXJhYmxlLCBvcHRzKSB7XG4gICAgaWYgKGZyb20gPT09IHVuZGVmaW5lZCkge1xuICAgICAgZnJvbSA9IHJlcXVpcmUoJy4vaW50ZXJuYWwvc3RyZWFtcy9mcm9tJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZyb20oUmVhZGFibGUsIGl0ZXJhYmxlLCBvcHRzKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gaW5kZXhPZih4cywgeCkge1xuICBmb3IgKHZhciBpID0gMCwgbCA9IHhzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGlmICh4c1tpXSA9PT0geCkgcmV0dXJuIGk7XG4gIH1cblxuICByZXR1cm4gLTE7XG59IiwgIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuLy8gYSB0cmFuc2Zvcm0gc3RyZWFtIGlzIGEgcmVhZGFibGUvd3JpdGFibGUgc3RyZWFtIHdoZXJlIHlvdSBkb1xuLy8gc29tZXRoaW5nIHdpdGggdGhlIGRhdGEuICBTb21ldGltZXMgaXQncyBjYWxsZWQgYSBcImZpbHRlclwiLFxuLy8gYnV0IHRoYXQncyBub3QgYSBncmVhdCBuYW1lIGZvciBpdCwgc2luY2UgdGhhdCBpbXBsaWVzIGEgdGhpbmcgd2hlcmVcbi8vIHNvbWUgYml0cyBwYXNzIHRocm91Z2gsIGFuZCBvdGhlcnMgYXJlIHNpbXBseSBpZ25vcmVkLiAgKFRoYXQgd291bGRcbi8vIGJlIGEgdmFsaWQgZXhhbXBsZSBvZiBhIHRyYW5zZm9ybSwgb2YgY291cnNlLilcbi8vXG4vLyBXaGlsZSB0aGUgb3V0cHV0IGlzIGNhdXNhbGx5IHJlbGF0ZWQgdG8gdGhlIGlucHV0LCBpdCdzIG5vdCBhXG4vLyBuZWNlc3NhcmlseSBzeW1tZXRyaWMgb3Igc3luY2hyb25vdXMgdHJhbnNmb3JtYXRpb24uICBGb3IgZXhhbXBsZSxcbi8vIGEgemxpYiBzdHJlYW0gbWlnaHQgdGFrZSBtdWx0aXBsZSBwbGFpbi10ZXh0IHdyaXRlcygpLCBhbmQgdGhlblxuLy8gZW1pdCBhIHNpbmdsZSBjb21wcmVzc2VkIGNodW5rIHNvbWUgdGltZSBpbiB0aGUgZnV0dXJlLlxuLy9cbi8vIEhlcmUncyBob3cgdGhpcyB3b3Jrczpcbi8vXG4vLyBUaGUgVHJhbnNmb3JtIHN0cmVhbSBoYXMgYWxsIHRoZSBhc3BlY3RzIG9mIHRoZSByZWFkYWJsZSBhbmQgd3JpdGFibGVcbi8vIHN0cmVhbSBjbGFzc2VzLiAgV2hlbiB5b3Ugd3JpdGUoY2h1bmspLCB0aGF0IGNhbGxzIF93cml0ZShjaHVuayxjYilcbi8vIGludGVybmFsbHksIGFuZCByZXR1cm5zIGZhbHNlIGlmIHRoZXJlJ3MgYSBsb3Qgb2YgcGVuZGluZyB3cml0ZXNcbi8vIGJ1ZmZlcmVkIHVwLiAgV2hlbiB5b3UgY2FsbCByZWFkKCksIHRoYXQgY2FsbHMgX3JlYWQobikgdW50aWxcbi8vIHRoZXJlJ3MgZW5vdWdoIHBlbmRpbmcgcmVhZGFibGUgZGF0YSBidWZmZXJlZCB1cC5cbi8vXG4vLyBJbiBhIHRyYW5zZm9ybSBzdHJlYW0sIHRoZSB3cml0dGVuIGRhdGEgaXMgcGxhY2VkIGluIGEgYnVmZmVyLiAgV2hlblxuLy8gX3JlYWQobikgaXMgY2FsbGVkLCBpdCB0cmFuc2Zvcm1zIHRoZSBxdWV1ZWQgdXAgZGF0YSwgY2FsbGluZyB0aGVcbi8vIGJ1ZmZlcmVkIF93cml0ZSBjYidzIGFzIGl0IGNvbnN1bWVzIGNodW5rcy4gIElmIGNvbnN1bWluZyBhIHNpbmdsZVxuLy8gd3JpdHRlbiBjaHVuayB3b3VsZCByZXN1bHQgaW4gbXVsdGlwbGUgb3V0cHV0IGNodW5rcywgdGhlbiB0aGUgZmlyc3Rcbi8vIG91dHB1dHRlZCBiaXQgY2FsbHMgdGhlIHJlYWRjYiwgYW5kIHN1YnNlcXVlbnQgY2h1bmtzIGp1c3QgZ28gaW50b1xuLy8gdGhlIHJlYWQgYnVmZmVyLCBhbmQgd2lsbCBjYXVzZSBpdCB0byBlbWl0ICdyZWFkYWJsZScgaWYgbmVjZXNzYXJ5LlxuLy9cbi8vIFRoaXMgd2F5LCBiYWNrLXByZXNzdXJlIGlzIGFjdHVhbGx5IGRldGVybWluZWQgYnkgdGhlIHJlYWRpbmcgc2lkZSxcbi8vIHNpbmNlIF9yZWFkIGhhcyB0byBiZSBjYWxsZWQgdG8gc3RhcnQgcHJvY2Vzc2luZyBhIG5ldyBjaHVuay4gIEhvd2V2ZXIsXG4vLyBhIHBhdGhvbG9naWNhbCBpbmZsYXRlIHR5cGUgb2YgdHJhbnNmb3JtIGNhbiBjYXVzZSBleGNlc3NpdmUgYnVmZmVyaW5nXG4vLyBoZXJlLiAgRm9yIGV4YW1wbGUsIGltYWdpbmUgYSBzdHJlYW0gd2hlcmUgZXZlcnkgYnl0ZSBvZiBpbnB1dCBpc1xuLy8gaW50ZXJwcmV0ZWQgYXMgYW4gaW50ZWdlciBmcm9tIDAtMjU1LCBhbmQgdGhlbiByZXN1bHRzIGluIHRoYXQgbWFueVxuLy8gYnl0ZXMgb2Ygb3V0cHV0LiAgV3JpdGluZyB0aGUgNCBieXRlcyB7ZmYsZmYsZmYsZmZ9IHdvdWxkIHJlc3VsdCBpblxuLy8gMWtiIG9mIGRhdGEgYmVpbmcgb3V0cHV0LiAgSW4gdGhpcyBjYXNlLCB5b3UgY291bGQgd3JpdGUgYSB2ZXJ5IHNtYWxsXG4vLyBhbW91bnQgb2YgaW5wdXQsIGFuZCBlbmQgdXAgd2l0aCBhIHZlcnkgbGFyZ2UgYW1vdW50IG9mIG91dHB1dC4gIEluXG4vLyBzdWNoIGEgcGF0aG9sb2dpY2FsIGluZmxhdGluZyBtZWNoYW5pc20sIHRoZXJlJ2QgYmUgbm8gd2F5IHRvIHRlbGxcbi8vIHRoZSBzeXN0ZW0gdG8gc3RvcCBkb2luZyB0aGUgdHJhbnNmb3JtLiAgQSBzaW5nbGUgNE1CIHdyaXRlIGNvdWxkXG4vLyBjYXVzZSB0aGUgc3lzdGVtIHRvIHJ1biBvdXQgb2YgbWVtb3J5LlxuLy9cbi8vIEhvd2V2ZXIsIGV2ZW4gaW4gc3VjaCBhIHBhdGhvbG9naWNhbCBjYXNlLCBvbmx5IGEgc2luZ2xlIHdyaXR0ZW4gY2h1bmtcbi8vIHdvdWxkIGJlIGNvbnN1bWVkLCBhbmQgdGhlbiB0aGUgcmVzdCB3b3VsZCB3YWl0ICh1bi10cmFuc2Zvcm1lZCkgdW50aWxcbi8vIHRoZSByZXN1bHRzIG9mIHRoZSBwcmV2aW91cyB0cmFuc2Zvcm1lZCBjaHVuayB3ZXJlIGNvbnN1bWVkLlxuJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFRyYW5zZm9ybTtcblxudmFyIF9yZXF1aXJlJGNvZGVzID0gcmVxdWlyZSgnLi4vZXJyb3JzJykuY29kZXMsXG4gICAgRVJSX01FVEhPRF9OT1RfSU1QTEVNRU5URUQgPSBfcmVxdWlyZSRjb2Rlcy5FUlJfTUVUSE9EX05PVF9JTVBMRU1FTlRFRCxcbiAgICBFUlJfTVVMVElQTEVfQ0FMTEJBQ0sgPSBfcmVxdWlyZSRjb2Rlcy5FUlJfTVVMVElQTEVfQ0FMTEJBQ0ssXG4gICAgRVJSX1RSQU5TRk9STV9BTFJFQURZX1RSQU5TRk9STUlORyA9IF9yZXF1aXJlJGNvZGVzLkVSUl9UUkFOU0ZPUk1fQUxSRUFEWV9UUkFOU0ZPUk1JTkcsXG4gICAgRVJSX1RSQU5TRk9STV9XSVRIX0xFTkdUSF8wID0gX3JlcXVpcmUkY29kZXMuRVJSX1RSQU5TRk9STV9XSVRIX0xFTkdUSF8wO1xuXG52YXIgRHVwbGV4ID0gcmVxdWlyZSgnLi9fc3RyZWFtX2R1cGxleCcpO1xuXG5yZXF1aXJlKCdpbmhlcml0cycpKFRyYW5zZm9ybSwgRHVwbGV4KTtcblxuZnVuY3Rpb24gYWZ0ZXJUcmFuc2Zvcm0oZXIsIGRhdGEpIHtcbiAgdmFyIHRzID0gdGhpcy5fdHJhbnNmb3JtU3RhdGU7XG4gIHRzLnRyYW5zZm9ybWluZyA9IGZhbHNlO1xuICB2YXIgY2IgPSB0cy53cml0ZWNiO1xuXG4gIGlmIChjYiA9PT0gbnVsbCkge1xuICAgIHJldHVybiB0aGlzLmVtaXQoJ2Vycm9yJywgbmV3IEVSUl9NVUxUSVBMRV9DQUxMQkFDSygpKTtcbiAgfVxuXG4gIHRzLndyaXRlY2h1bmsgPSBudWxsO1xuICB0cy53cml0ZWNiID0gbnVsbDtcbiAgaWYgKGRhdGEgIT0gbnVsbCkgLy8gc2luZ2xlIGVxdWFscyBjaGVjayBmb3IgYm90aCBgbnVsbGAgYW5kIGB1bmRlZmluZWRgXG4gICAgdGhpcy5wdXNoKGRhdGEpO1xuICBjYihlcik7XG4gIHZhciBycyA9IHRoaXMuX3JlYWRhYmxlU3RhdGU7XG4gIHJzLnJlYWRpbmcgPSBmYWxzZTtcblxuICBpZiAocnMubmVlZFJlYWRhYmxlIHx8IHJzLmxlbmd0aCA8IHJzLmhpZ2hXYXRlck1hcmspIHtcbiAgICB0aGlzLl9yZWFkKHJzLmhpZ2hXYXRlck1hcmspO1xuICB9XG59XG5cbmZ1bmN0aW9uIFRyYW5zZm9ybShvcHRpb25zKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBUcmFuc2Zvcm0pKSByZXR1cm4gbmV3IFRyYW5zZm9ybShvcHRpb25zKTtcbiAgRHVwbGV4LmNhbGwodGhpcywgb3B0aW9ucyk7XG4gIHRoaXMuX3RyYW5zZm9ybVN0YXRlID0ge1xuICAgIGFmdGVyVHJhbnNmb3JtOiBhZnRlclRyYW5zZm9ybS5iaW5kKHRoaXMpLFxuICAgIG5lZWRUcmFuc2Zvcm06IGZhbHNlLFxuICAgIHRyYW5zZm9ybWluZzogZmFsc2UsXG4gICAgd3JpdGVjYjogbnVsbCxcbiAgICB3cml0ZWNodW5rOiBudWxsLFxuICAgIHdyaXRlZW5jb2Rpbmc6IG51bGxcbiAgfTsgLy8gc3RhcnQgb3V0IGFza2luZyBmb3IgYSByZWFkYWJsZSBldmVudCBvbmNlIGRhdGEgaXMgdHJhbnNmb3JtZWQuXG5cbiAgdGhpcy5fcmVhZGFibGVTdGF0ZS5uZWVkUmVhZGFibGUgPSB0cnVlOyAvLyB3ZSBoYXZlIGltcGxlbWVudGVkIHRoZSBfcmVhZCBtZXRob2QsIGFuZCBkb25lIHRoZSBvdGhlciB0aGluZ3NcbiAgLy8gdGhhdCBSZWFkYWJsZSB3YW50cyBiZWZvcmUgdGhlIGZpcnN0IF9yZWFkIGNhbGwsIHNvIHVuc2V0IHRoZVxuICAvLyBzeW5jIGd1YXJkIGZsYWcuXG5cbiAgdGhpcy5fcmVhZGFibGVTdGF0ZS5zeW5jID0gZmFsc2U7XG5cbiAgaWYgKG9wdGlvbnMpIHtcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMudHJhbnNmb3JtID09PSAnZnVuY3Rpb24nKSB0aGlzLl90cmFuc2Zvcm0gPSBvcHRpb25zLnRyYW5zZm9ybTtcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMuZmx1c2ggPT09ICdmdW5jdGlvbicpIHRoaXMuX2ZsdXNoID0gb3B0aW9ucy5mbHVzaDtcbiAgfSAvLyBXaGVuIHRoZSB3cml0YWJsZSBzaWRlIGZpbmlzaGVzLCB0aGVuIGZsdXNoIG91dCBhbnl0aGluZyByZW1haW5pbmcuXG5cblxuICB0aGlzLm9uKCdwcmVmaW5pc2gnLCBwcmVmaW5pc2gpO1xufVxuXG5mdW5jdGlvbiBwcmVmaW5pc2goKSB7XG4gIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgaWYgKHR5cGVvZiB0aGlzLl9mbHVzaCA9PT0gJ2Z1bmN0aW9uJyAmJiAhdGhpcy5fcmVhZGFibGVTdGF0ZS5kZXN0cm95ZWQpIHtcbiAgICB0aGlzLl9mbHVzaChmdW5jdGlvbiAoZXIsIGRhdGEpIHtcbiAgICAgIGRvbmUoX3RoaXMsIGVyLCBkYXRhKTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBkb25lKHRoaXMsIG51bGwsIG51bGwpO1xuICB9XG59XG5cblRyYW5zZm9ybS5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uIChjaHVuaywgZW5jb2RpbmcpIHtcbiAgdGhpcy5fdHJhbnNmb3JtU3RhdGUubmVlZFRyYW5zZm9ybSA9IGZhbHNlO1xuICByZXR1cm4gRHVwbGV4LnByb3RvdHlwZS5wdXNoLmNhbGwodGhpcywgY2h1bmssIGVuY29kaW5nKTtcbn07IC8vIFRoaXMgaXMgdGhlIHBhcnQgd2hlcmUgeW91IGRvIHN0dWZmIVxuLy8gb3ZlcnJpZGUgdGhpcyBmdW5jdGlvbiBpbiBpbXBsZW1lbnRhdGlvbiBjbGFzc2VzLlxuLy8gJ2NodW5rJyBpcyBhbiBpbnB1dCBjaHVuay5cbi8vXG4vLyBDYWxsIGBwdXNoKG5ld0NodW5rKWAgdG8gcGFzcyBhbG9uZyB0cmFuc2Zvcm1lZCBvdXRwdXRcbi8vIHRvIHRoZSByZWFkYWJsZSBzaWRlLiAgWW91IG1heSBjYWxsICdwdXNoJyB6ZXJvIG9yIG1vcmUgdGltZXMuXG4vL1xuLy8gQ2FsbCBgY2IoZXJyKWAgd2hlbiB5b3UgYXJlIGRvbmUgd2l0aCB0aGlzIGNodW5rLiAgSWYgeW91IHBhc3Ncbi8vIGFuIGVycm9yLCB0aGVuIHRoYXQnbGwgcHV0IHRoZSBodXJ0IG9uIHRoZSB3aG9sZSBvcGVyYXRpb24uICBJZiB5b3Vcbi8vIG5ldmVyIGNhbGwgY2IoKSwgdGhlbiB5b3UnbGwgbmV2ZXIgZ2V0IGFub3RoZXIgY2h1bmsuXG5cblxuVHJhbnNmb3JtLnByb3RvdHlwZS5fdHJhbnNmb3JtID0gZnVuY3Rpb24gKGNodW5rLCBlbmNvZGluZywgY2IpIHtcbiAgY2IobmV3IEVSUl9NRVRIT0RfTk9UX0lNUExFTUVOVEVEKCdfdHJhbnNmb3JtKCknKSk7XG59O1xuXG5UcmFuc2Zvcm0ucHJvdG90eXBlLl93cml0ZSA9IGZ1bmN0aW9uIChjaHVuaywgZW5jb2RpbmcsIGNiKSB7XG4gIHZhciB0cyA9IHRoaXMuX3RyYW5zZm9ybVN0YXRlO1xuICB0cy53cml0ZWNiID0gY2I7XG4gIHRzLndyaXRlY2h1bmsgPSBjaHVuaztcbiAgdHMud3JpdGVlbmNvZGluZyA9IGVuY29kaW5nO1xuXG4gIGlmICghdHMudHJhbnNmb3JtaW5nKSB7XG4gICAgdmFyIHJzID0gdGhpcy5fcmVhZGFibGVTdGF0ZTtcbiAgICBpZiAodHMubmVlZFRyYW5zZm9ybSB8fCBycy5uZWVkUmVhZGFibGUgfHwgcnMubGVuZ3RoIDwgcnMuaGlnaFdhdGVyTWFyaykgdGhpcy5fcmVhZChycy5oaWdoV2F0ZXJNYXJrKTtcbiAgfVxufTsgLy8gRG9lc24ndCBtYXR0ZXIgd2hhdCB0aGUgYXJncyBhcmUgaGVyZS5cbi8vIF90cmFuc2Zvcm0gZG9lcyBhbGwgdGhlIHdvcmsuXG4vLyBUaGF0IHdlIGdvdCBoZXJlIG1lYW5zIHRoYXQgdGhlIHJlYWRhYmxlIHNpZGUgd2FudHMgbW9yZSBkYXRhLlxuXG5cblRyYW5zZm9ybS5wcm90b3R5cGUuX3JlYWQgPSBmdW5jdGlvbiAobikge1xuICB2YXIgdHMgPSB0aGlzLl90cmFuc2Zvcm1TdGF0ZTtcblxuICBpZiAodHMud3JpdGVjaHVuayAhPT0gbnVsbCAmJiAhdHMudHJhbnNmb3JtaW5nKSB7XG4gICAgdHMudHJhbnNmb3JtaW5nID0gdHJ1ZTtcblxuICAgIHRoaXMuX3RyYW5zZm9ybSh0cy53cml0ZWNodW5rLCB0cy53cml0ZWVuY29kaW5nLCB0cy5hZnRlclRyYW5zZm9ybSk7XG4gIH0gZWxzZSB7XG4gICAgLy8gbWFyayB0aGF0IHdlIG5lZWQgYSB0cmFuc2Zvcm0sIHNvIHRoYXQgYW55IGRhdGEgdGhhdCBjb21lcyBpblxuICAgIC8vIHdpbGwgZ2V0IHByb2Nlc3NlZCwgbm93IHRoYXQgd2UndmUgYXNrZWQgZm9yIGl0LlxuICAgIHRzLm5lZWRUcmFuc2Zvcm0gPSB0cnVlO1xuICB9XG59O1xuXG5UcmFuc2Zvcm0ucHJvdG90eXBlLl9kZXN0cm95ID0gZnVuY3Rpb24gKGVyciwgY2IpIHtcbiAgRHVwbGV4LnByb3RvdHlwZS5fZGVzdHJveS5jYWxsKHRoaXMsIGVyciwgZnVuY3Rpb24gKGVycjIpIHtcbiAgICBjYihlcnIyKTtcbiAgfSk7XG59O1xuXG5mdW5jdGlvbiBkb25lKHN0cmVhbSwgZXIsIGRhdGEpIHtcbiAgaWYgKGVyKSByZXR1cm4gc3RyZWFtLmVtaXQoJ2Vycm9yJywgZXIpO1xuICBpZiAoZGF0YSAhPSBudWxsKSAvLyBzaW5nbGUgZXF1YWxzIGNoZWNrIGZvciBib3RoIGBudWxsYCBhbmQgYHVuZGVmaW5lZGBcbiAgICBzdHJlYW0ucHVzaChkYXRhKTsgLy8gVE9ETyhCcmlkZ2VBUik6IFdyaXRlIGEgdGVzdCBmb3IgdGhlc2UgdHdvIGVycm9yIGNhc2VzXG4gIC8vIGlmIHRoZXJlJ3Mgbm90aGluZyBpbiB0aGUgd3JpdGUgYnVmZmVyLCB0aGVuIHRoYXQgbWVhbnNcbiAgLy8gdGhhdCBub3RoaW5nIG1vcmUgd2lsbCBldmVyIGJlIHByb3ZpZGVkXG5cbiAgaWYgKHN0cmVhbS5fd3JpdGFibGVTdGF0ZS5sZW5ndGgpIHRocm93IG5ldyBFUlJfVFJBTlNGT1JNX1dJVEhfTEVOR1RIXzAoKTtcbiAgaWYgKHN0cmVhbS5fdHJhbnNmb3JtU3RhdGUudHJhbnNmb3JtaW5nKSB0aHJvdyBuZXcgRVJSX1RSQU5TRk9STV9BTFJFQURZX1RSQU5TRk9STUlORygpO1xuICByZXR1cm4gc3RyZWFtLnB1c2gobnVsbCk7XG59IiwgIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuLy8gYSBwYXNzdGhyb3VnaCBzdHJlYW0uXG4vLyBiYXNpY2FsbHkganVzdCB0aGUgbW9zdCBtaW5pbWFsIHNvcnQgb2YgVHJhbnNmb3JtIHN0cmVhbS5cbi8vIEV2ZXJ5IHdyaXR0ZW4gY2h1bmsgZ2V0cyBvdXRwdXQgYXMtaXMuXG4ndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gUGFzc1Rocm91Z2g7XG5cbnZhciBUcmFuc2Zvcm0gPSByZXF1aXJlKCcuL19zdHJlYW1fdHJhbnNmb3JtJyk7XG5cbnJlcXVpcmUoJ2luaGVyaXRzJykoUGFzc1Rocm91Z2gsIFRyYW5zZm9ybSk7XG5cbmZ1bmN0aW9uIFBhc3NUaHJvdWdoKG9wdGlvbnMpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFBhc3NUaHJvdWdoKSkgcmV0dXJuIG5ldyBQYXNzVGhyb3VnaChvcHRpb25zKTtcbiAgVHJhbnNmb3JtLmNhbGwodGhpcywgb3B0aW9ucyk7XG59XG5cblBhc3NUaHJvdWdoLnByb3RvdHlwZS5fdHJhbnNmb3JtID0gZnVuY3Rpb24gKGNodW5rLCBlbmNvZGluZywgY2IpIHtcbiAgY2IobnVsbCwgY2h1bmspO1xufTsiLCAiLy8gUG9ydGVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL21hZmludG9zaC9wdW1wIHdpdGhcbi8vIHBlcm1pc3Npb24gZnJvbSB0aGUgYXV0aG9yLCBNYXRoaWFzIEJ1dXMgKEBtYWZpbnRvc2gpLlxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgZW9zO1xuXG5mdW5jdGlvbiBvbmNlKGNhbGxiYWNrKSB7XG4gIHZhciBjYWxsZWQgPSBmYWxzZTtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoY2FsbGVkKSByZXR1cm47XG4gICAgY2FsbGVkID0gdHJ1ZTtcbiAgICBjYWxsYmFjay5hcHBseSh2b2lkIDAsIGFyZ3VtZW50cyk7XG4gIH07XG59XG5cbnZhciBfcmVxdWlyZSRjb2RlcyA9IHJlcXVpcmUoJy4uLy4uLy4uL2Vycm9ycycpLmNvZGVzLFxuICAgIEVSUl9NSVNTSU5HX0FSR1MgPSBfcmVxdWlyZSRjb2Rlcy5FUlJfTUlTU0lOR19BUkdTLFxuICAgIEVSUl9TVFJFQU1fREVTVFJPWUVEID0gX3JlcXVpcmUkY29kZXMuRVJSX1NUUkVBTV9ERVNUUk9ZRUQ7XG5cbmZ1bmN0aW9uIG5vb3AoZXJyKSB7XG4gIC8vIFJldGhyb3cgdGhlIGVycm9yIGlmIGl0IGV4aXN0cyB0byBhdm9pZCBzd2FsbG93aW5nIGl0XG4gIGlmIChlcnIpIHRocm93IGVycjtcbn1cblxuZnVuY3Rpb24gaXNSZXF1ZXN0KHN0cmVhbSkge1xuICByZXR1cm4gc3RyZWFtLnNldEhlYWRlciAmJiB0eXBlb2Ygc3RyZWFtLmFib3J0ID09PSAnZnVuY3Rpb24nO1xufVxuXG5mdW5jdGlvbiBkZXN0cm95ZXIoc3RyZWFtLCByZWFkaW5nLCB3cml0aW5nLCBjYWxsYmFjaykge1xuICBjYWxsYmFjayA9IG9uY2UoY2FsbGJhY2spO1xuICB2YXIgY2xvc2VkID0gZmFsc2U7XG4gIHN0cmVhbS5vbignY2xvc2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgY2xvc2VkID0gdHJ1ZTtcbiAgfSk7XG4gIGlmIChlb3MgPT09IHVuZGVmaW5lZCkgZW9zID0gcmVxdWlyZSgnLi9lbmQtb2Ytc3RyZWFtJyk7XG4gIGVvcyhzdHJlYW0sIHtcbiAgICByZWFkYWJsZTogcmVhZGluZyxcbiAgICB3cml0YWJsZTogd3JpdGluZ1xuICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgaWYgKGVycikgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgY2xvc2VkID0gdHJ1ZTtcbiAgICBjYWxsYmFjaygpO1xuICB9KTtcbiAgdmFyIGRlc3Ryb3llZCA9IGZhbHNlO1xuICByZXR1cm4gZnVuY3Rpb24gKGVycikge1xuICAgIGlmIChjbG9zZWQpIHJldHVybjtcbiAgICBpZiAoZGVzdHJveWVkKSByZXR1cm47XG4gICAgZGVzdHJveWVkID0gdHJ1ZTsgLy8gcmVxdWVzdC5kZXN0cm95IGp1c3QgZG8gLmVuZCAtIC5hYm9ydCBpcyB3aGF0IHdlIHdhbnRcblxuICAgIGlmIChpc1JlcXVlc3Qoc3RyZWFtKSkgcmV0dXJuIHN0cmVhbS5hYm9ydCgpO1xuICAgIGlmICh0eXBlb2Ygc3RyZWFtLmRlc3Ryb3kgPT09ICdmdW5jdGlvbicpIHJldHVybiBzdHJlYW0uZGVzdHJveSgpO1xuICAgIGNhbGxiYWNrKGVyciB8fCBuZXcgRVJSX1NUUkVBTV9ERVNUUk9ZRUQoJ3BpcGUnKSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGNhbGwoZm4pIHtcbiAgZm4oKTtcbn1cblxuZnVuY3Rpb24gcGlwZShmcm9tLCB0bykge1xuICByZXR1cm4gZnJvbS5waXBlKHRvKTtcbn1cblxuZnVuY3Rpb24gcG9wQ2FsbGJhY2soc3RyZWFtcykge1xuICBpZiAoIXN0cmVhbXMubGVuZ3RoKSByZXR1cm4gbm9vcDtcbiAgaWYgKHR5cGVvZiBzdHJlYW1zW3N0cmVhbXMubGVuZ3RoIC0gMV0gIT09ICdmdW5jdGlvbicpIHJldHVybiBub29wO1xuICByZXR1cm4gc3RyZWFtcy5wb3AoKTtcbn1cblxuZnVuY3Rpb24gcGlwZWxpbmUoKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBzdHJlYW1zID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIHN0cmVhbXNbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICB2YXIgY2FsbGJhY2sgPSBwb3BDYWxsYmFjayhzdHJlYW1zKTtcbiAgaWYgKEFycmF5LmlzQXJyYXkoc3RyZWFtc1swXSkpIHN0cmVhbXMgPSBzdHJlYW1zWzBdO1xuXG4gIGlmIChzdHJlYW1zLmxlbmd0aCA8IDIpIHtcbiAgICB0aHJvdyBuZXcgRVJSX01JU1NJTkdfQVJHUygnc3RyZWFtcycpO1xuICB9XG5cbiAgdmFyIGVycm9yO1xuICB2YXIgZGVzdHJveXMgPSBzdHJlYW1zLm1hcChmdW5jdGlvbiAoc3RyZWFtLCBpKSB7XG4gICAgdmFyIHJlYWRpbmcgPSBpIDwgc3RyZWFtcy5sZW5ndGggLSAxO1xuICAgIHZhciB3cml0aW5nID0gaSA+IDA7XG4gICAgcmV0dXJuIGRlc3Ryb3llcihzdHJlYW0sIHJlYWRpbmcsIHdyaXRpbmcsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIGlmICghZXJyb3IpIGVycm9yID0gZXJyO1xuICAgICAgaWYgKGVycikgZGVzdHJveXMuZm9yRWFjaChjYWxsKTtcbiAgICAgIGlmIChyZWFkaW5nKSByZXR1cm47XG4gICAgICBkZXN0cm95cy5mb3JFYWNoKGNhbGwpO1xuICAgICAgY2FsbGJhY2soZXJyb3IpO1xuICAgIH0pO1xuICB9KTtcbiAgcmV0dXJuIHN0cmVhbXMucmVkdWNlKHBpcGUpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHBpcGVsaW5lOyIsICJ2YXIgU3RyZWFtID0gcmVxdWlyZSgnc3RyZWFtJyk7XG5pZiAocHJvY2Vzcy5lbnYuUkVBREFCTEVfU1RSRUFNID09PSAnZGlzYWJsZScgJiYgU3RyZWFtKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gU3RyZWFtLlJlYWRhYmxlO1xuICBPYmplY3QuYXNzaWduKG1vZHVsZS5leHBvcnRzLCBTdHJlYW0pO1xuICBtb2R1bGUuZXhwb3J0cy5TdHJlYW0gPSBTdHJlYW07XG59IGVsc2Uge1xuICBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2xpYi9fc3RyZWFtX3JlYWRhYmxlLmpzJyk7XG4gIGV4cG9ydHMuU3RyZWFtID0gU3RyZWFtIHx8IGV4cG9ydHM7XG4gIGV4cG9ydHMuUmVhZGFibGUgPSBleHBvcnRzO1xuICBleHBvcnRzLldyaXRhYmxlID0gcmVxdWlyZSgnLi9saWIvX3N0cmVhbV93cml0YWJsZS5qcycpO1xuICBleHBvcnRzLkR1cGxleCA9IHJlcXVpcmUoJy4vbGliL19zdHJlYW1fZHVwbGV4LmpzJyk7XG4gIGV4cG9ydHMuVHJhbnNmb3JtID0gcmVxdWlyZSgnLi9saWIvX3N0cmVhbV90cmFuc2Zvcm0uanMnKTtcbiAgZXhwb3J0cy5QYXNzVGhyb3VnaCA9IHJlcXVpcmUoJy4vbGliL19zdHJlYW1fcGFzc3Rocm91Z2guanMnKTtcbiAgZXhwb3J0cy5maW5pc2hlZCA9IHJlcXVpcmUoJy4vbGliL2ludGVybmFsL3N0cmVhbXMvZW5kLW9mLXN0cmVhbS5qcycpO1xuICBleHBvcnRzLnBpcGVsaW5lID0gcmVxdWlyZSgnLi9saWIvaW50ZXJuYWwvc3RyZWFtcy9waXBlbGluZS5qcycpO1xufVxuIiwgIi8qIGVzbGludC1kaXNhYmxlIG5vZGUvbm8tZGVwcmVjYXRlZC1hcGkgKi9cblxudmFyIHRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZ1xuXG52YXIgaXNNb2Rlcm4gPSAoXG4gIHR5cGVvZiBCdWZmZXIgIT09ICd1bmRlZmluZWQnICYmXG4gIHR5cGVvZiBCdWZmZXIuYWxsb2MgPT09ICdmdW5jdGlvbicgJiZcbiAgdHlwZW9mIEJ1ZmZlci5hbGxvY1Vuc2FmZSA9PT0gJ2Z1bmN0aW9uJyAmJlxuICB0eXBlb2YgQnVmZmVyLmZyb20gPT09ICdmdW5jdGlvbidcbilcblxuZnVuY3Rpb24gaXNBcnJheUJ1ZmZlciAoaW5wdXQpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwoaW5wdXQpLnNsaWNlKDgsIC0xKSA9PT0gJ0FycmF5QnVmZmVyJ1xufVxuXG5mdW5jdGlvbiBmcm9tQXJyYXlCdWZmZXIgKG9iaiwgYnl0ZU9mZnNldCwgbGVuZ3RoKSB7XG4gIGJ5dGVPZmZzZXQgPj4+PSAwXG5cbiAgdmFyIG1heExlbmd0aCA9IG9iai5ieXRlTGVuZ3RoIC0gYnl0ZU9mZnNldFxuXG4gIGlmIChtYXhMZW5ndGggPCAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCInb2Zmc2V0JyBpcyBvdXQgb2YgYm91bmRzXCIpXG4gIH1cblxuICBpZiAobGVuZ3RoID09PSB1bmRlZmluZWQpIHtcbiAgICBsZW5ndGggPSBtYXhMZW5ndGhcbiAgfSBlbHNlIHtcbiAgICBsZW5ndGggPj4+PSAwXG5cbiAgICBpZiAobGVuZ3RoID4gbWF4TGVuZ3RoKSB7XG4gICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIidsZW5ndGgnIGlzIG91dCBvZiBib3VuZHNcIilcbiAgICB9XG4gIH1cblxuICByZXR1cm4gaXNNb2Rlcm5cbiAgICA/IEJ1ZmZlci5mcm9tKG9iai5zbGljZShieXRlT2Zmc2V0LCBieXRlT2Zmc2V0ICsgbGVuZ3RoKSlcbiAgICA6IG5ldyBCdWZmZXIobmV3IFVpbnQ4QXJyYXkob2JqLnNsaWNlKGJ5dGVPZmZzZXQsIGJ5dGVPZmZzZXQgKyBsZW5ndGgpKSlcbn1cblxuZnVuY3Rpb24gZnJvbVN0cmluZyAoc3RyaW5nLCBlbmNvZGluZykge1xuICBpZiAodHlwZW9mIGVuY29kaW5nICE9PSAnc3RyaW5nJyB8fCBlbmNvZGluZyA9PT0gJycpIHtcbiAgICBlbmNvZGluZyA9ICd1dGY4J1xuICB9XG5cbiAgaWYgKCFCdWZmZXIuaXNFbmNvZGluZyhlbmNvZGluZykpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImVuY29kaW5nXCIgbXVzdCBiZSBhIHZhbGlkIHN0cmluZyBlbmNvZGluZycpXG4gIH1cblxuICByZXR1cm4gaXNNb2Rlcm5cbiAgICA/IEJ1ZmZlci5mcm9tKHN0cmluZywgZW5jb2RpbmcpXG4gICAgOiBuZXcgQnVmZmVyKHN0cmluZywgZW5jb2RpbmcpXG59XG5cbmZ1bmN0aW9uIGJ1ZmZlckZyb20gKHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcInZhbHVlXCIgYXJndW1lbnQgbXVzdCBub3QgYmUgYSBudW1iZXInKVxuICB9XG5cbiAgaWYgKGlzQXJyYXlCdWZmZXIodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZyb21BcnJheUJ1ZmZlcih2YWx1ZSwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKVxuICB9XG5cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gZnJvbVN0cmluZyh2YWx1ZSwgZW5jb2RpbmdPck9mZnNldClcbiAgfVxuXG4gIHJldHVybiBpc01vZGVyblxuICAgID8gQnVmZmVyLmZyb20odmFsdWUpXG4gICAgOiBuZXcgQnVmZmVyKHZhbHVlKVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJ1ZmZlckZyb21cbiIsICJ2YXIgdW5kZWZpbmVkID0gKHZvaWQgMCk7IC8vIFBhcmFub2lhXG5cbi8vIEJleW9uZCB0aGlzIHZhbHVlLCBpbmRleCBnZXR0ZXJzL3NldHRlcnMgKGkuZS4gYXJyYXlbMF0sIGFycmF5WzFdKSBhcmUgc28gc2xvdyB0b1xuLy8gY3JlYXRlLCBhbmQgY29uc3VtZSBzbyBtdWNoIG1lbW9yeSwgdGhhdCB0aGUgYnJvd3NlciBhcHBlYXJzIGZyb3plbi5cbnZhciBNQVhfQVJSQVlfTEVOR1RIID0gMWU1O1xuXG4vLyBBcHByb3hpbWF0aW9ucyBvZiBpbnRlcm5hbCBFQ01BU2NyaXB0IGNvbnZlcnNpb24gZnVuY3Rpb25zXG52YXIgRUNNQVNjcmlwdCA9IChmdW5jdGlvbigpIHtcbiAgLy8gU3Rhc2ggYSBjb3B5IGluIGNhc2Ugb3RoZXIgc2NyaXB0cyBtb2RpZnkgdGhlc2VcbiAgdmFyIG9wdHMgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLFxuICAgICAgb3Bob3AgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuXG4gIHJldHVybiB7XG4gICAgLy8gQ2xhc3MgcmV0dXJucyBpbnRlcm5hbCBbW0NsYXNzXV0gcHJvcGVydHksIHVzZWQgdG8gYXZvaWQgY3Jvc3MtZnJhbWUgaW5zdGFuY2VvZiBpc3N1ZXM6XG4gICAgQ2xhc3M6IGZ1bmN0aW9uKHYpIHsgcmV0dXJuIG9wdHMuY2FsbCh2KS5yZXBsYWNlKC9eXFxbb2JqZWN0ICp8XFxdJC9nLCAnJyk7IH0sXG4gICAgSGFzUHJvcGVydHk6IGZ1bmN0aW9uKG8sIHApIHsgcmV0dXJuIHAgaW4gbzsgfSxcbiAgICBIYXNPd25Qcm9wZXJ0eTogZnVuY3Rpb24obywgcCkgeyByZXR1cm4gb3Bob3AuY2FsbChvLCBwKTsgfSxcbiAgICBJc0NhbGxhYmxlOiBmdW5jdGlvbihvKSB7IHJldHVybiB0eXBlb2YgbyA9PT0gJ2Z1bmN0aW9uJzsgfSxcbiAgICBUb0ludDMyOiBmdW5jdGlvbih2KSB7IHJldHVybiB2ID4+IDA7IH0sXG4gICAgVG9VaW50MzI6IGZ1bmN0aW9uKHYpIHsgcmV0dXJuIHYgPj4+IDA7IH1cbiAgfTtcbn0oKSk7XG5cbi8vIFNuYXBzaG90IGludHJpbnNpY3NcbnZhciBMTjIgPSBNYXRoLkxOMixcbiAgICBhYnMgPSBNYXRoLmFicyxcbiAgICBmbG9vciA9IE1hdGguZmxvb3IsXG4gICAgbG9nID0gTWF0aC5sb2csXG4gICAgbWluID0gTWF0aC5taW4sXG4gICAgcG93ID0gTWF0aC5wb3csXG4gICAgcm91bmQgPSBNYXRoLnJvdW5kO1xuXG4vLyBFUzU6IGxvY2sgZG93biBvYmplY3QgcHJvcGVydGllc1xuZnVuY3Rpb24gY29uZmlndXJlUHJvcGVydGllcyhvYmopIHtcbiAgaWYgKGdldE93blByb3BOYW1lcyAmJiBkZWZpbmVQcm9wKSB7XG4gICAgdmFyIHByb3BzID0gZ2V0T3duUHJvcE5hbWVzKG9iaiksIGk7XG4gICAgZm9yIChpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBkZWZpbmVQcm9wKG9iaiwgcHJvcHNbaV0sIHtcbiAgICAgICAgdmFsdWU6IG9ialtwcm9wc1tpXV0sXG4gICAgICAgIHdyaXRhYmxlOiBmYWxzZSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2VcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufVxuXG4vLyBlbXVsYXRlIEVTNSBnZXR0ZXIvc2V0dGVyIEFQSSB1c2luZyBsZWdhY3kgQVBJc1xuLy8gaHR0cDovL2Jsb2dzLm1zZG4uY29tL2IvaWUvYXJjaGl2ZS8yMDEwLzA5LzA3L3RyYW5zaXRpb25pbmctZXhpc3RpbmctY29kZS10by10aGUtZXM1LWdldHRlci1zZXR0ZXItYXBpcy5hc3B4XG4vLyAoc2Vjb25kIGNsYXVzZSB0ZXN0cyBmb3IgT2JqZWN0LmRlZmluZVByb3BlcnR5KCkgaW4gSUU8OSB0aGF0IG9ubHkgc3VwcG9ydHMgZXh0ZW5kaW5nIERPTSBwcm90b3R5cGVzLCBidXRcbi8vIG5vdGUgdGhhdCBJRTw5IGRvZXMgbm90IHN1cHBvcnQgX19kZWZpbmVHZXR0ZXJfXyBvciBfX2RlZmluZVNldHRlcl9fIHNvIGl0IGp1c3QgcmVuZGVycyB0aGUgbWV0aG9kIGhhcm1sZXNzKVxudmFyIGRlZmluZVByb3BcbmlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkgJiYgKGZ1bmN0aW9uKCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCAneCcsIHt9KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9KSgpKSB7XG4gIGRlZmluZVByb3AgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG59IGVsc2Uge1xuICBkZWZpbmVQcm9wID0gZnVuY3Rpb24obywgcCwgZGVzYykge1xuICAgIGlmICghbyA9PT0gT2JqZWN0KG8pKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiT2JqZWN0LmRlZmluZVByb3BlcnR5IGNhbGxlZCBvbiBub24tb2JqZWN0XCIpO1xuICAgIGlmIChFQ01BU2NyaXB0Lkhhc1Byb3BlcnR5KGRlc2MsICdnZXQnKSAmJiBPYmplY3QucHJvdG90eXBlLl9fZGVmaW5lR2V0dGVyX18pIHsgT2JqZWN0LnByb3RvdHlwZS5fX2RlZmluZUdldHRlcl9fLmNhbGwobywgcCwgZGVzYy5nZXQpOyB9XG4gICAgaWYgKEVDTUFTY3JpcHQuSGFzUHJvcGVydHkoZGVzYywgJ3NldCcpICYmIE9iamVjdC5wcm90b3R5cGUuX19kZWZpbmVTZXR0ZXJfXykgeyBPYmplY3QucHJvdG90eXBlLl9fZGVmaW5lU2V0dGVyX18uY2FsbChvLCBwLCBkZXNjLnNldCk7IH1cbiAgICBpZiAoRUNNQVNjcmlwdC5IYXNQcm9wZXJ0eShkZXNjLCAndmFsdWUnKSkgeyBvW3BdID0gZGVzYy52YWx1ZTsgfVxuICAgIHJldHVybiBvO1xuICB9O1xufVxuXG52YXIgZ2V0T3duUHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMgfHwgZnVuY3Rpb24gKG8pIHtcbiAgaWYgKG8gIT09IE9iamVjdChvKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzIGNhbGxlZCBvbiBub24tb2JqZWN0XCIpO1xuICB2YXIgcHJvcHMgPSBbXSwgcDtcbiAgZm9yIChwIGluIG8pIHtcbiAgICBpZiAoRUNNQVNjcmlwdC5IYXNPd25Qcm9wZXJ0eShvLCBwKSkge1xuICAgICAgcHJvcHMucHVzaChwKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHByb3BzO1xufTtcblxuLy8gRVM1OiBNYWtlIG9ialtpbmRleF0gYW4gYWxpYXMgZm9yIG9iai5fZ2V0dGVyKGluZGV4KS9vYmouX3NldHRlcihpbmRleCwgdmFsdWUpXG4vLyBmb3IgaW5kZXggaW4gMCAuLi4gb2JqLmxlbmd0aFxuZnVuY3Rpb24gbWFrZUFycmF5QWNjZXNzb3JzKG9iaikge1xuICBpZiAoIWRlZmluZVByb3ApIHsgcmV0dXJuOyB9XG5cbiAgaWYgKG9iai5sZW5ndGggPiBNQVhfQVJSQVlfTEVOR1RIKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkFycmF5IHRvbyBsYXJnZSBmb3IgcG9seWZpbGxcIik7XG5cbiAgZnVuY3Rpb24gbWFrZUFycmF5QWNjZXNzb3IoaW5kZXgpIHtcbiAgICBkZWZpbmVQcm9wKG9iaiwgaW5kZXgsIHtcbiAgICAgICdnZXQnOiBmdW5jdGlvbigpIHsgcmV0dXJuIG9iai5fZ2V0dGVyKGluZGV4KTsgfSxcbiAgICAgICdzZXQnOiBmdW5jdGlvbih2KSB7IG9iai5fc2V0dGVyKGluZGV4LCB2KTsgfSxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IGZhbHNlXG4gICAgfSk7XG4gIH1cblxuICB2YXIgaTtcbiAgZm9yIChpID0gMDsgaSA8IG9iai5sZW5ndGg7IGkgKz0gMSkge1xuICAgIG1ha2VBcnJheUFjY2Vzc29yKGkpO1xuICB9XG59XG5cbi8vIEludGVybmFsIGNvbnZlcnNpb24gZnVuY3Rpb25zOlxuLy8gICAgcGFjazxUeXBlPigpICAgLSB0YWtlIGEgbnVtYmVyIChpbnRlcnByZXRlZCBhcyBUeXBlKSwgb3V0cHV0IGEgYnl0ZSBhcnJheVxuLy8gICAgdW5wYWNrPFR5cGU+KCkgLSB0YWtlIGEgYnl0ZSBhcnJheSwgb3V0cHV0IGEgVHlwZS1saWtlIG51bWJlclxuXG5mdW5jdGlvbiBhc19zaWduZWQodmFsdWUsIGJpdHMpIHsgdmFyIHMgPSAzMiAtIGJpdHM7IHJldHVybiAodmFsdWUgPDwgcykgPj4gczsgfVxuZnVuY3Rpb24gYXNfdW5zaWduZWQodmFsdWUsIGJpdHMpIHsgdmFyIHMgPSAzMiAtIGJpdHM7IHJldHVybiAodmFsdWUgPDwgcykgPj4+IHM7IH1cblxuZnVuY3Rpb24gcGFja0k4KG4pIHsgcmV0dXJuIFtuICYgMHhmZl07IH1cbmZ1bmN0aW9uIHVucGFja0k4KGJ5dGVzKSB7IHJldHVybiBhc19zaWduZWQoYnl0ZXNbMF0sIDgpOyB9XG5cbmZ1bmN0aW9uIHBhY2tVOChuKSB7IHJldHVybiBbbiAmIDB4ZmZdOyB9XG5mdW5jdGlvbiB1bnBhY2tVOChieXRlcykgeyByZXR1cm4gYXNfdW5zaWduZWQoYnl0ZXNbMF0sIDgpOyB9XG5cbmZ1bmN0aW9uIHBhY2tVOENsYW1wZWQobikgeyBuID0gcm91bmQoTnVtYmVyKG4pKTsgcmV0dXJuIFtuIDwgMCA/IDAgOiBuID4gMHhmZiA/IDB4ZmYgOiBuICYgMHhmZl07IH1cblxuZnVuY3Rpb24gcGFja0kxNihuKSB7IHJldHVybiBbKG4gPj4gOCkgJiAweGZmLCBuICYgMHhmZl07IH1cbmZ1bmN0aW9uIHVucGFja0kxNihieXRlcykgeyByZXR1cm4gYXNfc2lnbmVkKGJ5dGVzWzBdIDw8IDggfCBieXRlc1sxXSwgMTYpOyB9XG5cbmZ1bmN0aW9uIHBhY2tVMTYobikgeyByZXR1cm4gWyhuID4+IDgpICYgMHhmZiwgbiAmIDB4ZmZdOyB9XG5mdW5jdGlvbiB1bnBhY2tVMTYoYnl0ZXMpIHsgcmV0dXJuIGFzX3Vuc2lnbmVkKGJ5dGVzWzBdIDw8IDggfCBieXRlc1sxXSwgMTYpOyB9XG5cbmZ1bmN0aW9uIHBhY2tJMzIobikgeyByZXR1cm4gWyhuID4+IDI0KSAmIDB4ZmYsIChuID4+IDE2KSAmIDB4ZmYsIChuID4+IDgpICYgMHhmZiwgbiAmIDB4ZmZdOyB9XG5mdW5jdGlvbiB1bnBhY2tJMzIoYnl0ZXMpIHsgcmV0dXJuIGFzX3NpZ25lZChieXRlc1swXSA8PCAyNCB8IGJ5dGVzWzFdIDw8IDE2IHwgYnl0ZXNbMl0gPDwgOCB8IGJ5dGVzWzNdLCAzMik7IH1cblxuZnVuY3Rpb24gcGFja1UzMihuKSB7IHJldHVybiBbKG4gPj4gMjQpICYgMHhmZiwgKG4gPj4gMTYpICYgMHhmZiwgKG4gPj4gOCkgJiAweGZmLCBuICYgMHhmZl07IH1cbmZ1bmN0aW9uIHVucGFja1UzMihieXRlcykgeyByZXR1cm4gYXNfdW5zaWduZWQoYnl0ZXNbMF0gPDwgMjQgfCBieXRlc1sxXSA8PCAxNiB8IGJ5dGVzWzJdIDw8IDggfCBieXRlc1szXSwgMzIpOyB9XG5cbmZ1bmN0aW9uIHBhY2tJRUVFNzU0KHYsIGViaXRzLCBmYml0cykge1xuXG4gIHZhciBiaWFzID0gKDEgPDwgKGViaXRzIC0gMSkpIC0gMSxcbiAgICAgIHMsIGUsIGYsIGxuLFxuICAgICAgaSwgYml0cywgc3RyLCBieXRlcztcblxuICBmdW5jdGlvbiByb3VuZFRvRXZlbihuKSB7XG4gICAgdmFyIHcgPSBmbG9vcihuKSwgZiA9IG4gLSB3O1xuICAgIGlmIChmIDwgMC41KVxuICAgICAgcmV0dXJuIHc7XG4gICAgaWYgKGYgPiAwLjUpXG4gICAgICByZXR1cm4gdyArIDE7XG4gICAgcmV0dXJuIHcgJSAyID8gdyArIDEgOiB3O1xuICB9XG5cbiAgLy8gQ29tcHV0ZSBzaWduLCBleHBvbmVudCwgZnJhY3Rpb25cbiAgaWYgKHYgIT09IHYpIHtcbiAgICAvLyBOYU5cbiAgICAvLyBodHRwOi8vZGV2LnczLm9yZy8yMDA2L3dlYmFwaS9XZWJJREwvI2VzLXR5cGUtbWFwcGluZ1xuICAgIGUgPSAoMSA8PCBlYml0cykgLSAxOyBmID0gcG93KDIsIGZiaXRzIC0gMSk7IHMgPSAwO1xuICB9IGVsc2UgaWYgKHYgPT09IEluZmluaXR5IHx8IHYgPT09IC1JbmZpbml0eSkge1xuICAgIGUgPSAoMSA8PCBlYml0cykgLSAxOyBmID0gMDsgcyA9ICh2IDwgMCkgPyAxIDogMDtcbiAgfSBlbHNlIGlmICh2ID09PSAwKSB7XG4gICAgZSA9IDA7IGYgPSAwOyBzID0gKDEgLyB2ID09PSAtSW5maW5pdHkpID8gMSA6IDA7XG4gIH0gZWxzZSB7XG4gICAgcyA9IHYgPCAwO1xuICAgIHYgPSBhYnModik7XG5cbiAgICBpZiAodiA+PSBwb3coMiwgMSAtIGJpYXMpKSB7XG4gICAgICBlID0gbWluKGZsb29yKGxvZyh2KSAvIExOMiksIDEwMjMpO1xuICAgICAgZiA9IHJvdW5kVG9FdmVuKHYgLyBwb3coMiwgZSkgKiBwb3coMiwgZmJpdHMpKTtcbiAgICAgIGlmIChmIC8gcG93KDIsIGZiaXRzKSA+PSAyKSB7XG4gICAgICAgIGUgPSBlICsgMTtcbiAgICAgICAgZiA9IDE7XG4gICAgICB9XG4gICAgICBpZiAoZSA+IGJpYXMpIHtcbiAgICAgICAgLy8gT3ZlcmZsb3dcbiAgICAgICAgZSA9ICgxIDw8IGViaXRzKSAtIDE7XG4gICAgICAgIGYgPSAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gTm9ybWFsaXplZFxuICAgICAgICBlID0gZSArIGJpYXM7XG4gICAgICAgIGYgPSBmIC0gcG93KDIsIGZiaXRzKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gRGVub3JtYWxpemVkXG4gICAgICBlID0gMDtcbiAgICAgIGYgPSByb3VuZFRvRXZlbih2IC8gcG93KDIsIDEgLSBiaWFzIC0gZmJpdHMpKTtcbiAgICB9XG4gIH1cblxuICAvLyBQYWNrIHNpZ24sIGV4cG9uZW50LCBmcmFjdGlvblxuICBiaXRzID0gW107XG4gIGZvciAoaSA9IGZiaXRzOyBpOyBpIC09IDEpIHsgYml0cy5wdXNoKGYgJSAyID8gMSA6IDApOyBmID0gZmxvb3IoZiAvIDIpOyB9XG4gIGZvciAoaSA9IGViaXRzOyBpOyBpIC09IDEpIHsgYml0cy5wdXNoKGUgJSAyID8gMSA6IDApOyBlID0gZmxvb3IoZSAvIDIpOyB9XG4gIGJpdHMucHVzaChzID8gMSA6IDApO1xuICBiaXRzLnJldmVyc2UoKTtcbiAgc3RyID0gYml0cy5qb2luKCcnKTtcblxuICAvLyBCaXRzIHRvIGJ5dGVzXG4gIGJ5dGVzID0gW107XG4gIHdoaWxlIChzdHIubGVuZ3RoKSB7XG4gICAgYnl0ZXMucHVzaChwYXJzZUludChzdHIuc3Vic3RyaW5nKDAsIDgpLCAyKSk7XG4gICAgc3RyID0gc3RyLnN1YnN0cmluZyg4KTtcbiAgfVxuICByZXR1cm4gYnl0ZXM7XG59XG5cbmZ1bmN0aW9uIHVucGFja0lFRUU3NTQoYnl0ZXMsIGViaXRzLCBmYml0cykge1xuXG4gIC8vIEJ5dGVzIHRvIGJpdHNcbiAgdmFyIGJpdHMgPSBbXSwgaSwgaiwgYiwgc3RyLFxuICAgICAgYmlhcywgcywgZSwgZjtcblxuICBmb3IgKGkgPSBieXRlcy5sZW5ndGg7IGk7IGkgLT0gMSkge1xuICAgIGIgPSBieXRlc1tpIC0gMV07XG4gICAgZm9yIChqID0gODsgajsgaiAtPSAxKSB7XG4gICAgICBiaXRzLnB1c2goYiAlIDIgPyAxIDogMCk7IGIgPSBiID4+IDE7XG4gICAgfVxuICB9XG4gIGJpdHMucmV2ZXJzZSgpO1xuICBzdHIgPSBiaXRzLmpvaW4oJycpO1xuXG4gIC8vIFVucGFjayBzaWduLCBleHBvbmVudCwgZnJhY3Rpb25cbiAgYmlhcyA9ICgxIDw8IChlYml0cyAtIDEpKSAtIDE7XG4gIHMgPSBwYXJzZUludChzdHIuc3Vic3RyaW5nKDAsIDEpLCAyKSA/IC0xIDogMTtcbiAgZSA9IHBhcnNlSW50KHN0ci5zdWJzdHJpbmcoMSwgMSArIGViaXRzKSwgMik7XG4gIGYgPSBwYXJzZUludChzdHIuc3Vic3RyaW5nKDEgKyBlYml0cyksIDIpO1xuXG4gIC8vIFByb2R1Y2UgbnVtYmVyXG4gIGlmIChlID09PSAoMSA8PCBlYml0cykgLSAxKSB7XG4gICAgcmV0dXJuIGYgIT09IDAgPyBOYU4gOiBzICogSW5maW5pdHk7XG4gIH0gZWxzZSBpZiAoZSA+IDApIHtcbiAgICAvLyBOb3JtYWxpemVkXG4gICAgcmV0dXJuIHMgKiBwb3coMiwgZSAtIGJpYXMpICogKDEgKyBmIC8gcG93KDIsIGZiaXRzKSk7XG4gIH0gZWxzZSBpZiAoZiAhPT0gMCkge1xuICAgIC8vIERlbm9ybWFsaXplZFxuICAgIHJldHVybiBzICogcG93KDIsIC0oYmlhcyAtIDEpKSAqIChmIC8gcG93KDIsIGZiaXRzKSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHMgPCAwID8gLTAgOiAwO1xuICB9XG59XG5cbmZ1bmN0aW9uIHVucGFja0Y2NChiKSB7IHJldHVybiB1bnBhY2tJRUVFNzU0KGIsIDExLCA1Mik7IH1cbmZ1bmN0aW9uIHBhY2tGNjQodikgeyByZXR1cm4gcGFja0lFRUU3NTQodiwgMTEsIDUyKTsgfVxuZnVuY3Rpb24gdW5wYWNrRjMyKGIpIHsgcmV0dXJuIHVucGFja0lFRUU3NTQoYiwgOCwgMjMpOyB9XG5mdW5jdGlvbiBwYWNrRjMyKHYpIHsgcmV0dXJuIHBhY2tJRUVFNzU0KHYsIDgsIDIzKTsgfVxuXG5cbi8vXG4vLyAzIFRoZSBBcnJheUJ1ZmZlciBUeXBlXG4vL1xuXG4oZnVuY3Rpb24oKSB7XG5cbiAgLyoqIEBjb25zdHJ1Y3RvciAqL1xuICB2YXIgQXJyYXlCdWZmZXIgPSBmdW5jdGlvbiBBcnJheUJ1ZmZlcihsZW5ndGgpIHtcbiAgICBsZW5ndGggPSBFQ01BU2NyaXB0LlRvSW50MzIobGVuZ3RoKTtcbiAgICBpZiAobGVuZ3RoIDwgMCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0FycmF5QnVmZmVyIHNpemUgaXMgbm90IGEgc21hbGwgZW5vdWdoIHBvc2l0aXZlIGludGVnZXInKTtcblxuICAgIHRoaXMuYnl0ZUxlbmd0aCA9IGxlbmd0aDtcbiAgICB0aGlzLl9ieXRlcyA9IFtdO1xuICAgIHRoaXMuX2J5dGVzLmxlbmd0aCA9IGxlbmd0aDtcblxuICAgIHZhciBpO1xuICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLmJ5dGVMZW5ndGg7IGkgKz0gMSkge1xuICAgICAgdGhpcy5fYnl0ZXNbaV0gPSAwO1xuICAgIH1cblxuICAgIGNvbmZpZ3VyZVByb3BlcnRpZXModGhpcyk7XG4gIH07XG5cbiAgZXhwb3J0cy5BcnJheUJ1ZmZlciA9IGV4cG9ydHMuQXJyYXlCdWZmZXIgfHwgQXJyYXlCdWZmZXI7XG5cbiAgLy9cbiAgLy8gNCBUaGUgQXJyYXlCdWZmZXJWaWV3IFR5cGVcbiAgLy9cblxuICAvLyBOT1RFOiB0aGlzIGNvbnN0cnVjdG9yIGlzIG5vdCBleHBvcnRlZFxuICAvKiogQGNvbnN0cnVjdG9yICovXG4gIHZhciBBcnJheUJ1ZmZlclZpZXcgPSBmdW5jdGlvbiBBcnJheUJ1ZmZlclZpZXcoKSB7XG4gICAgLy90aGlzLmJ1ZmZlciA9IG51bGw7XG4gICAgLy90aGlzLmJ5dGVPZmZzZXQgPSAwO1xuICAgIC8vdGhpcy5ieXRlTGVuZ3RoID0gMDtcbiAgfTtcblxuICAvL1xuICAvLyA1IFRoZSBUeXBlZCBBcnJheSBWaWV3IFR5cGVzXG4gIC8vXG5cbiAgZnVuY3Rpb24gbWFrZUNvbnN0cnVjdG9yKGJ5dGVzUGVyRWxlbWVudCwgcGFjaywgdW5wYWNrKSB7XG4gICAgLy8gRWFjaCBUeXBlZEFycmF5IHR5cGUgcmVxdWlyZXMgYSBkaXN0aW5jdCBjb25zdHJ1Y3RvciBpbnN0YW5jZSB3aXRoXG4gICAgLy8gaWRlbnRpY2FsIGxvZ2ljLCB3aGljaCB0aGlzIHByb2R1Y2VzLlxuXG4gICAgdmFyIGN0b3I7XG4gICAgY3RvciA9IGZ1bmN0aW9uKGJ1ZmZlciwgYnl0ZU9mZnNldCwgbGVuZ3RoKSB7XG4gICAgICB2YXIgYXJyYXksIHNlcXVlbmNlLCBpLCBzO1xuXG4gICAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGggfHwgdHlwZW9mIGFyZ3VtZW50c1swXSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgLy8gQ29uc3RydWN0b3IodW5zaWduZWQgbG9uZyBsZW5ndGgpXG4gICAgICAgIHRoaXMubGVuZ3RoID0gRUNNQVNjcmlwdC5Ub0ludDMyKGFyZ3VtZW50c1swXSk7XG4gICAgICAgIGlmIChsZW5ndGggPCAwKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQXJyYXlCdWZmZXJWaWV3IHNpemUgaXMgbm90IGEgc21hbGwgZW5vdWdoIHBvc2l0aXZlIGludGVnZXInKTtcblxuICAgICAgICB0aGlzLmJ5dGVMZW5ndGggPSB0aGlzLmxlbmd0aCAqIHRoaXMuQllURVNfUEVSX0VMRU1FTlQ7XG4gICAgICAgIHRoaXMuYnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKHRoaXMuYnl0ZUxlbmd0aCk7XG4gICAgICAgIHRoaXMuYnl0ZU9mZnNldCA9IDA7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBhcmd1bWVudHNbMF0gPT09ICdvYmplY3QnICYmIGFyZ3VtZW50c1swXS5jb25zdHJ1Y3RvciA9PT0gY3Rvcikge1xuICAgICAgICAvLyBDb25zdHJ1Y3RvcihUeXBlZEFycmF5IGFycmF5KVxuICAgICAgICBhcnJheSA9IGFyZ3VtZW50c1swXTtcblxuICAgICAgICB0aGlzLmxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgICAgICAgdGhpcy5ieXRlTGVuZ3RoID0gdGhpcy5sZW5ndGggKiB0aGlzLkJZVEVTX1BFUl9FTEVNRU5UO1xuICAgICAgICB0aGlzLmJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcih0aGlzLmJ5dGVMZW5ndGgpO1xuICAgICAgICB0aGlzLmJ5dGVPZmZzZXQgPSAwO1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgdGhpcy5fc2V0dGVyKGksIGFycmF5Ll9nZXR0ZXIoaSkpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBhcmd1bWVudHNbMF0gPT09ICdvYmplY3QnICYmXG4gICAgICAgICAgICAgICAgICEoYXJndW1lbnRzWzBdIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIgfHwgRUNNQVNjcmlwdC5DbGFzcyhhcmd1bWVudHNbMF0pID09PSAnQXJyYXlCdWZmZXInKSkge1xuICAgICAgICAvLyBDb25zdHJ1Y3RvcihzZXF1ZW5jZTx0eXBlPiBhcnJheSlcbiAgICAgICAgc2VxdWVuY2UgPSBhcmd1bWVudHNbMF07XG5cbiAgICAgICAgdGhpcy5sZW5ndGggPSBFQ01BU2NyaXB0LlRvVWludDMyKHNlcXVlbmNlLmxlbmd0aCk7XG4gICAgICAgIHRoaXMuYnl0ZUxlbmd0aCA9IHRoaXMubGVuZ3RoICogdGhpcy5CWVRFU19QRVJfRUxFTUVOVDtcbiAgICAgICAgdGhpcy5idWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIodGhpcy5ieXRlTGVuZ3RoKTtcbiAgICAgICAgdGhpcy5ieXRlT2Zmc2V0ID0gMDtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgIHMgPSBzZXF1ZW5jZVtpXTtcbiAgICAgICAgICB0aGlzLl9zZXR0ZXIoaSwgTnVtYmVyKHMpKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgYXJndW1lbnRzWzBdID09PSAnb2JqZWN0JyAmJlxuICAgICAgICAgICAgICAgICAoYXJndW1lbnRzWzBdIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIgfHwgRUNNQVNjcmlwdC5DbGFzcyhhcmd1bWVudHNbMF0pID09PSAnQXJyYXlCdWZmZXInKSkge1xuICAgICAgICAvLyBDb25zdHJ1Y3RvcihBcnJheUJ1ZmZlciBidWZmZXIsXG4gICAgICAgIC8vICAgICAgICAgICAgIG9wdGlvbmFsIHVuc2lnbmVkIGxvbmcgYnl0ZU9mZnNldCwgb3B0aW9uYWwgdW5zaWduZWQgbG9uZyBsZW5ndGgpXG4gICAgICAgIHRoaXMuYnVmZmVyID0gYnVmZmVyO1xuXG4gICAgICAgIHRoaXMuYnl0ZU9mZnNldCA9IEVDTUFTY3JpcHQuVG9VaW50MzIoYnl0ZU9mZnNldCk7XG4gICAgICAgIGlmICh0aGlzLmJ5dGVPZmZzZXQgPiB0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJieXRlT2Zmc2V0IG91dCBvZiByYW5nZVwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmJ5dGVPZmZzZXQgJSB0aGlzLkJZVEVTX1BFUl9FTEVNRU5UKSB7XG4gICAgICAgICAgLy8gVGhlIGdpdmVuIGJ5dGVPZmZzZXQgbXVzdCBiZSBhIG11bHRpcGxlIG9mIHRoZSBlbGVtZW50XG4gICAgICAgICAgLy8gc2l6ZSBvZiB0aGUgc3BlY2lmaWMgdHlwZSwgb3RoZXJ3aXNlIGFuIGV4Y2VwdGlvbiBpcyByYWlzZWQuXG4gICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJBcnJheUJ1ZmZlciBsZW5ndGggbWludXMgdGhlIGJ5dGVPZmZzZXQgaXMgbm90IGEgbXVsdGlwbGUgb2YgdGhlIGVsZW1lbnQgc2l6ZS5cIik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDMpIHtcbiAgICAgICAgICB0aGlzLmJ5dGVMZW5ndGggPSB0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoIC0gdGhpcy5ieXRlT2Zmc2V0O1xuXG4gICAgICAgICAgaWYgKHRoaXMuYnl0ZUxlbmd0aCAlIHRoaXMuQllURVNfUEVSX0VMRU1FTlQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwibGVuZ3RoIG9mIGJ1ZmZlciBtaW51cyBieXRlT2Zmc2V0IG5vdCBhIG11bHRpcGxlIG9mIHRoZSBlbGVtZW50IHNpemVcIik7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMubGVuZ3RoID0gdGhpcy5ieXRlTGVuZ3RoIC8gdGhpcy5CWVRFU19QRVJfRUxFTUVOVDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmxlbmd0aCA9IEVDTUFTY3JpcHQuVG9VaW50MzIobGVuZ3RoKTtcbiAgICAgICAgICB0aGlzLmJ5dGVMZW5ndGggPSB0aGlzLmxlbmd0aCAqIHRoaXMuQllURVNfUEVSX0VMRU1FTlQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoKHRoaXMuYnl0ZU9mZnNldCArIHRoaXMuYnl0ZUxlbmd0aCkgPiB0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJieXRlT2Zmc2V0IGFuZCBsZW5ndGggcmVmZXJlbmNlIGFuIGFyZWEgYmV5b25kIHRoZSBlbmQgb2YgdGhlIGJ1ZmZlclwiKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlVuZXhwZWN0ZWQgYXJndW1lbnQgdHlwZShzKVwiKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5jb25zdHJ1Y3RvciA9IGN0b3I7XG5cbiAgICAgIGNvbmZpZ3VyZVByb3BlcnRpZXModGhpcyk7XG4gICAgICBtYWtlQXJyYXlBY2Nlc3NvcnModGhpcyk7XG4gICAgfTtcblxuICAgIGN0b3IucHJvdG90eXBlID0gbmV3IEFycmF5QnVmZmVyVmlldygpO1xuICAgIGN0b3IucHJvdG90eXBlLkJZVEVTX1BFUl9FTEVNRU5UID0gYnl0ZXNQZXJFbGVtZW50O1xuICAgIGN0b3IucHJvdG90eXBlLl9wYWNrID0gcGFjaztcbiAgICBjdG9yLnByb3RvdHlwZS5fdW5wYWNrID0gdW5wYWNrO1xuICAgIGN0b3IuQllURVNfUEVSX0VMRU1FTlQgPSBieXRlc1BlckVsZW1lbnQ7XG5cbiAgICAvLyBnZXR0ZXIgdHlwZSAodW5zaWduZWQgbG9uZyBpbmRleCk7XG4gICAgY3Rvci5wcm90b3R5cGUuX2dldHRlciA9IGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDEpIHRocm93IG5ldyBTeW50YXhFcnJvcihcIk5vdCBlbm91Z2ggYXJndW1lbnRzXCIpO1xuXG4gICAgICBpbmRleCA9IEVDTUFTY3JpcHQuVG9VaW50MzIoaW5kZXgpO1xuICAgICAgaWYgKGluZGV4ID49IHRoaXMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIHZhciBieXRlcyA9IFtdLCBpLCBvO1xuICAgICAgZm9yIChpID0gMCwgbyA9IHRoaXMuYnl0ZU9mZnNldCArIGluZGV4ICogdGhpcy5CWVRFU19QRVJfRUxFTUVOVDtcbiAgICAgICAgICAgaSA8IHRoaXMuQllURVNfUEVSX0VMRU1FTlQ7XG4gICAgICAgICAgIGkgKz0gMSwgbyArPSAxKSB7XG4gICAgICAgIGJ5dGVzLnB1c2godGhpcy5idWZmZXIuX2J5dGVzW29dKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLl91bnBhY2soYnl0ZXMpO1xuICAgIH07XG5cbiAgICAvLyBOT05TVEFOREFSRDogY29udmVuaWVuY2UgYWxpYXMgZm9yIGdldHRlcjogdHlwZSBnZXQodW5zaWduZWQgbG9uZyBpbmRleCk7XG4gICAgY3Rvci5wcm90b3R5cGUuZ2V0ID0gY3Rvci5wcm90b3R5cGUuX2dldHRlcjtcblxuICAgIC8vIHNldHRlciB2b2lkICh1bnNpZ25lZCBsb25nIGluZGV4LCB0eXBlIHZhbHVlKTtcbiAgICBjdG9yLnByb3RvdHlwZS5fc2V0dGVyID0gZnVuY3Rpb24oaW5kZXgsIHZhbHVlKSB7XG4gICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDIpIHRocm93IG5ldyBTeW50YXhFcnJvcihcIk5vdCBlbm91Z2ggYXJndW1lbnRzXCIpO1xuXG4gICAgICBpbmRleCA9IEVDTUFTY3JpcHQuVG9VaW50MzIoaW5kZXgpO1xuICAgICAgaWYgKGluZGV4ID49IHRoaXMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIHZhciBieXRlcyA9IHRoaXMuX3BhY2sodmFsdWUpLCBpLCBvO1xuICAgICAgZm9yIChpID0gMCwgbyA9IHRoaXMuYnl0ZU9mZnNldCArIGluZGV4ICogdGhpcy5CWVRFU19QRVJfRUxFTUVOVDtcbiAgICAgICAgICAgaSA8IHRoaXMuQllURVNfUEVSX0VMRU1FTlQ7XG4gICAgICAgICAgIGkgKz0gMSwgbyArPSAxKSB7XG4gICAgICAgIHRoaXMuYnVmZmVyLl9ieXRlc1tvXSA9IGJ5dGVzW2ldO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyB2b2lkIHNldChUeXBlZEFycmF5IGFycmF5LCBvcHRpb25hbCB1bnNpZ25lZCBsb25nIG9mZnNldCk7XG4gICAgLy8gdm9pZCBzZXQoc2VxdWVuY2U8dHlwZT4gYXJyYXksIG9wdGlvbmFsIHVuc2lnbmVkIGxvbmcgb2Zmc2V0KTtcbiAgICBjdG9yLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbihpbmRleCwgdmFsdWUpIHtcbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMSkgdGhyb3cgbmV3IFN5bnRheEVycm9yKFwiTm90IGVub3VnaCBhcmd1bWVudHNcIik7XG4gICAgICB2YXIgYXJyYXksIHNlcXVlbmNlLCBvZmZzZXQsIGxlbixcbiAgICAgICAgICBpLCBzLCBkLFxuICAgICAgICAgIGJ5dGVPZmZzZXQsIGJ5dGVMZW5ndGgsIHRtcDtcblxuICAgICAgaWYgKHR5cGVvZiBhcmd1bWVudHNbMF0gPT09ICdvYmplY3QnICYmIGFyZ3VtZW50c1swXS5jb25zdHJ1Y3RvciA9PT0gdGhpcy5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAvLyB2b2lkIHNldChUeXBlZEFycmF5IGFycmF5LCBvcHRpb25hbCB1bnNpZ25lZCBsb25nIG9mZnNldCk7XG4gICAgICAgIGFycmF5ID0gYXJndW1lbnRzWzBdO1xuICAgICAgICBvZmZzZXQgPSBFQ01BU2NyaXB0LlRvVWludDMyKGFyZ3VtZW50c1sxXSk7XG5cbiAgICAgICAgaWYgKG9mZnNldCArIGFycmF5Lmxlbmd0aCA+IHRoaXMubGVuZ3RoKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJPZmZzZXQgcGx1cyBsZW5ndGggb2YgYXJyYXkgaXMgb3V0IG9mIHJhbmdlXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgYnl0ZU9mZnNldCA9IHRoaXMuYnl0ZU9mZnNldCArIG9mZnNldCAqIHRoaXMuQllURVNfUEVSX0VMRU1FTlQ7XG4gICAgICAgIGJ5dGVMZW5ndGggPSBhcnJheS5sZW5ndGggKiB0aGlzLkJZVEVTX1BFUl9FTEVNRU5UO1xuXG4gICAgICAgIGlmIChhcnJheS5idWZmZXIgPT09IHRoaXMuYnVmZmVyKSB7XG4gICAgICAgICAgdG1wID0gW107XG4gICAgICAgICAgZm9yIChpID0gMCwgcyA9IGFycmF5LmJ5dGVPZmZzZXQ7IGkgPCBieXRlTGVuZ3RoOyBpICs9IDEsIHMgKz0gMSkge1xuICAgICAgICAgICAgdG1wW2ldID0gYXJyYXkuYnVmZmVyLl9ieXRlc1tzXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZm9yIChpID0gMCwgZCA9IGJ5dGVPZmZzZXQ7IGkgPCBieXRlTGVuZ3RoOyBpICs9IDEsIGQgKz0gMSkge1xuICAgICAgICAgICAgdGhpcy5idWZmZXIuX2J5dGVzW2RdID0gdG1wW2ldO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBmb3IgKGkgPSAwLCBzID0gYXJyYXkuYnl0ZU9mZnNldCwgZCA9IGJ5dGVPZmZzZXQ7XG4gICAgICAgICAgICAgICBpIDwgYnl0ZUxlbmd0aDsgaSArPSAxLCBzICs9IDEsIGQgKz0gMSkge1xuICAgICAgICAgICAgdGhpcy5idWZmZXIuX2J5dGVzW2RdID0gYXJyYXkuYnVmZmVyLl9ieXRlc1tzXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGFyZ3VtZW50c1swXSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIGFyZ3VtZW50c1swXS5sZW5ndGggIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIC8vIHZvaWQgc2V0KHNlcXVlbmNlPHR5cGU+IGFycmF5LCBvcHRpb25hbCB1bnNpZ25lZCBsb25nIG9mZnNldCk7XG4gICAgICAgIHNlcXVlbmNlID0gYXJndW1lbnRzWzBdO1xuICAgICAgICBsZW4gPSBFQ01BU2NyaXB0LlRvVWludDMyKHNlcXVlbmNlLmxlbmd0aCk7XG4gICAgICAgIG9mZnNldCA9IEVDTUFTY3JpcHQuVG9VaW50MzIoYXJndW1lbnRzWzFdKTtcblxuICAgICAgICBpZiAob2Zmc2V0ICsgbGVuID4gdGhpcy5sZW5ndGgpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIk9mZnNldCBwbHVzIGxlbmd0aCBvZiBhcnJheSBpcyBvdXQgb2YgcmFuZ2VcIik7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpICs9IDEpIHtcbiAgICAgICAgICBzID0gc2VxdWVuY2VbaV07XG4gICAgICAgICAgdGhpcy5fc2V0dGVyKG9mZnNldCArIGksIE51bWJlcihzKSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJVbmV4cGVjdGVkIGFyZ3VtZW50IHR5cGUocylcIik7XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIFR5cGVkQXJyYXkgc3ViYXJyYXkobG9uZyBiZWdpbiwgb3B0aW9uYWwgbG9uZyBlbmQpO1xuICAgIGN0b3IucHJvdG90eXBlLnN1YmFycmF5ID0gZnVuY3Rpb24oc3RhcnQsIGVuZCkge1xuICAgICAgZnVuY3Rpb24gY2xhbXAodiwgbWluLCBtYXgpIHsgcmV0dXJuIHYgPCBtaW4gPyBtaW4gOiB2ID4gbWF4ID8gbWF4IDogdjsgfVxuXG4gICAgICBzdGFydCA9IEVDTUFTY3JpcHQuVG9JbnQzMihzdGFydCk7XG4gICAgICBlbmQgPSBFQ01BU2NyaXB0LlRvSW50MzIoZW5kKTtcblxuICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAxKSB7IHN0YXJ0ID0gMDsgfVxuICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyKSB7IGVuZCA9IHRoaXMubGVuZ3RoOyB9XG5cbiAgICAgIGlmIChzdGFydCA8IDApIHsgc3RhcnQgPSB0aGlzLmxlbmd0aCArIHN0YXJ0OyB9XG4gICAgICBpZiAoZW5kIDwgMCkgeyBlbmQgPSB0aGlzLmxlbmd0aCArIGVuZDsgfVxuXG4gICAgICBzdGFydCA9IGNsYW1wKHN0YXJ0LCAwLCB0aGlzLmxlbmd0aCk7XG4gICAgICBlbmQgPSBjbGFtcChlbmQsIDAsIHRoaXMubGVuZ3RoKTtcblxuICAgICAgdmFyIGxlbiA9IGVuZCAtIHN0YXJ0O1xuICAgICAgaWYgKGxlbiA8IDApIHtcbiAgICAgICAgbGVuID0gMDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKFxuICAgICAgICB0aGlzLmJ1ZmZlciwgdGhpcy5ieXRlT2Zmc2V0ICsgc3RhcnQgKiB0aGlzLkJZVEVTX1BFUl9FTEVNRU5ULCBsZW4pO1xuICAgIH07XG5cbiAgICByZXR1cm4gY3RvcjtcbiAgfVxuXG4gIHZhciBJbnQ4QXJyYXkgPSBtYWtlQ29uc3RydWN0b3IoMSwgcGFja0k4LCB1bnBhY2tJOCk7XG4gIHZhciBVaW50OEFycmF5ID0gbWFrZUNvbnN0cnVjdG9yKDEsIHBhY2tVOCwgdW5wYWNrVTgpO1xuICB2YXIgVWludDhDbGFtcGVkQXJyYXkgPSBtYWtlQ29uc3RydWN0b3IoMSwgcGFja1U4Q2xhbXBlZCwgdW5wYWNrVTgpO1xuICB2YXIgSW50MTZBcnJheSA9IG1ha2VDb25zdHJ1Y3RvcigyLCBwYWNrSTE2LCB1bnBhY2tJMTYpO1xuICB2YXIgVWludDE2QXJyYXkgPSBtYWtlQ29uc3RydWN0b3IoMiwgcGFja1UxNiwgdW5wYWNrVTE2KTtcbiAgdmFyIEludDMyQXJyYXkgPSBtYWtlQ29uc3RydWN0b3IoNCwgcGFja0kzMiwgdW5wYWNrSTMyKTtcbiAgdmFyIFVpbnQzMkFycmF5ID0gbWFrZUNvbnN0cnVjdG9yKDQsIHBhY2tVMzIsIHVucGFja1UzMik7XG4gIHZhciBGbG9hdDMyQXJyYXkgPSBtYWtlQ29uc3RydWN0b3IoNCwgcGFja0YzMiwgdW5wYWNrRjMyKTtcbiAgdmFyIEZsb2F0NjRBcnJheSA9IG1ha2VDb25zdHJ1Y3Rvcig4LCBwYWNrRjY0LCB1bnBhY2tGNjQpO1xuXG4gIGV4cG9ydHMuSW50OEFycmF5ID0gZXhwb3J0cy5JbnQ4QXJyYXkgfHwgSW50OEFycmF5O1xuICBleHBvcnRzLlVpbnQ4QXJyYXkgPSBleHBvcnRzLlVpbnQ4QXJyYXkgfHwgVWludDhBcnJheTtcbiAgZXhwb3J0cy5VaW50OENsYW1wZWRBcnJheSA9IGV4cG9ydHMuVWludDhDbGFtcGVkQXJyYXkgfHwgVWludDhDbGFtcGVkQXJyYXk7XG4gIGV4cG9ydHMuSW50MTZBcnJheSA9IGV4cG9ydHMuSW50MTZBcnJheSB8fCBJbnQxNkFycmF5O1xuICBleHBvcnRzLlVpbnQxNkFycmF5ID0gZXhwb3J0cy5VaW50MTZBcnJheSB8fCBVaW50MTZBcnJheTtcbiAgZXhwb3J0cy5JbnQzMkFycmF5ID0gZXhwb3J0cy5JbnQzMkFycmF5IHx8IEludDMyQXJyYXk7XG4gIGV4cG9ydHMuVWludDMyQXJyYXkgPSBleHBvcnRzLlVpbnQzMkFycmF5IHx8IFVpbnQzMkFycmF5O1xuICBleHBvcnRzLkZsb2F0MzJBcnJheSA9IGV4cG9ydHMuRmxvYXQzMkFycmF5IHx8IEZsb2F0MzJBcnJheTtcbiAgZXhwb3J0cy5GbG9hdDY0QXJyYXkgPSBleHBvcnRzLkZsb2F0NjRBcnJheSB8fCBGbG9hdDY0QXJyYXk7XG59KCkpO1xuXG4vL1xuLy8gNiBUaGUgRGF0YVZpZXcgVmlldyBUeXBlXG4vL1xuXG4oZnVuY3Rpb24oKSB7XG4gIGZ1bmN0aW9uIHIoYXJyYXksIGluZGV4KSB7XG4gICAgcmV0dXJuIEVDTUFTY3JpcHQuSXNDYWxsYWJsZShhcnJheS5nZXQpID8gYXJyYXkuZ2V0KGluZGV4KSA6IGFycmF5W2luZGV4XTtcbiAgfVxuXG4gIHZhciBJU19CSUdfRU5ESUFOID0gKGZ1bmN0aW9uKCkge1xuICAgIHZhciB1MTZhcnJheSA9IG5ldyhleHBvcnRzLlVpbnQxNkFycmF5KShbMHgxMjM0XSksXG4gICAgICAgIHU4YXJyYXkgPSBuZXcoZXhwb3J0cy5VaW50OEFycmF5KSh1MTZhcnJheS5idWZmZXIpO1xuICAgIHJldHVybiByKHU4YXJyYXksIDApID09PSAweDEyO1xuICB9KCkpO1xuXG4gIC8vIENvbnN0cnVjdG9yKEFycmF5QnVmZmVyIGJ1ZmZlcixcbiAgLy8gICAgICAgICAgICAgb3B0aW9uYWwgdW5zaWduZWQgbG9uZyBieXRlT2Zmc2V0LFxuICAvLyAgICAgICAgICAgICBvcHRpb25hbCB1bnNpZ25lZCBsb25nIGJ5dGVMZW5ndGgpXG4gIC8qKiBAY29uc3RydWN0b3IgKi9cbiAgdmFyIERhdGFWaWV3ID0gZnVuY3Rpb24gRGF0YVZpZXcoYnVmZmVyLCBieXRlT2Zmc2V0LCBieXRlTGVuZ3RoKSB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgIGJ1ZmZlciA9IG5ldyBleHBvcnRzLkFycmF5QnVmZmVyKDApO1xuICAgIH0gZWxzZSBpZiAoIShidWZmZXIgaW5zdGFuY2VvZiBleHBvcnRzLkFycmF5QnVmZmVyIHx8IEVDTUFTY3JpcHQuQ2xhc3MoYnVmZmVyKSA9PT0gJ0FycmF5QnVmZmVyJykpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJUeXBlRXJyb3JcIik7XG4gICAgfVxuXG4gICAgdGhpcy5idWZmZXIgPSBidWZmZXIgfHwgbmV3IGV4cG9ydHMuQXJyYXlCdWZmZXIoMCk7XG5cbiAgICB0aGlzLmJ5dGVPZmZzZXQgPSBFQ01BU2NyaXB0LlRvVWludDMyKGJ5dGVPZmZzZXQpO1xuICAgIGlmICh0aGlzLmJ5dGVPZmZzZXQgPiB0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKSB7XG4gICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcImJ5dGVPZmZzZXQgb3V0IG9mIHJhbmdlXCIpO1xuICAgIH1cblxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMykge1xuICAgICAgdGhpcy5ieXRlTGVuZ3RoID0gdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCAtIHRoaXMuYnl0ZU9mZnNldDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5ieXRlTGVuZ3RoID0gRUNNQVNjcmlwdC5Ub1VpbnQzMihieXRlTGVuZ3RoKTtcbiAgICB9XG5cbiAgICBpZiAoKHRoaXMuYnl0ZU9mZnNldCArIHRoaXMuYnl0ZUxlbmd0aCkgPiB0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKSB7XG4gICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcImJ5dGVPZmZzZXQgYW5kIGxlbmd0aCByZWZlcmVuY2UgYW4gYXJlYSBiZXlvbmQgdGhlIGVuZCBvZiB0aGUgYnVmZmVyXCIpO1xuICAgIH1cblxuICAgIGNvbmZpZ3VyZVByb3BlcnRpZXModGhpcyk7XG4gIH07XG5cbiAgZnVuY3Rpb24gbWFrZUdldHRlcihhcnJheVR5cGUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oYnl0ZU9mZnNldCwgbGl0dGxlRW5kaWFuKSB7XG5cbiAgICAgIGJ5dGVPZmZzZXQgPSBFQ01BU2NyaXB0LlRvVWludDMyKGJ5dGVPZmZzZXQpO1xuXG4gICAgICBpZiAoYnl0ZU9mZnNldCArIGFycmF5VHlwZS5CWVRFU19QRVJfRUxFTUVOVCA+IHRoaXMuYnl0ZUxlbmd0aCkge1xuICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkFycmF5IGluZGV4IG91dCBvZiByYW5nZVwiKTtcbiAgICAgIH1cbiAgICAgIGJ5dGVPZmZzZXQgKz0gdGhpcy5ieXRlT2Zmc2V0O1xuXG4gICAgICB2YXIgdWludDhBcnJheSA9IG5ldyBleHBvcnRzLlVpbnQ4QXJyYXkodGhpcy5idWZmZXIsIGJ5dGVPZmZzZXQsIGFycmF5VHlwZS5CWVRFU19QRVJfRUxFTUVOVCksXG4gICAgICAgICAgYnl0ZXMgPSBbXSwgaTtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBhcnJheVR5cGUuQllURVNfUEVSX0VMRU1FTlQ7IGkgKz0gMSkge1xuICAgICAgICBieXRlcy5wdXNoKHIodWludDhBcnJheSwgaSkpO1xuICAgICAgfVxuXG4gICAgICBpZiAoQm9vbGVhbihsaXR0bGVFbmRpYW4pID09PSBCb29sZWFuKElTX0JJR19FTkRJQU4pKSB7XG4gICAgICAgIGJ5dGVzLnJldmVyc2UoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHIobmV3IGFycmF5VHlwZShuZXcgZXhwb3J0cy5VaW50OEFycmF5KGJ5dGVzKS5idWZmZXIpLCAwKTtcbiAgICB9O1xuICB9XG5cbiAgRGF0YVZpZXcucHJvdG90eXBlLmdldFVpbnQ4ID0gbWFrZUdldHRlcihleHBvcnRzLlVpbnQ4QXJyYXkpO1xuICBEYXRhVmlldy5wcm90b3R5cGUuZ2V0SW50OCA9IG1ha2VHZXR0ZXIoZXhwb3J0cy5JbnQ4QXJyYXkpO1xuICBEYXRhVmlldy5wcm90b3R5cGUuZ2V0VWludDE2ID0gbWFrZUdldHRlcihleHBvcnRzLlVpbnQxNkFycmF5KTtcbiAgRGF0YVZpZXcucHJvdG90eXBlLmdldEludDE2ID0gbWFrZUdldHRlcihleHBvcnRzLkludDE2QXJyYXkpO1xuICBEYXRhVmlldy5wcm90b3R5cGUuZ2V0VWludDMyID0gbWFrZUdldHRlcihleHBvcnRzLlVpbnQzMkFycmF5KTtcbiAgRGF0YVZpZXcucHJvdG90eXBlLmdldEludDMyID0gbWFrZUdldHRlcihleHBvcnRzLkludDMyQXJyYXkpO1xuICBEYXRhVmlldy5wcm90b3R5cGUuZ2V0RmxvYXQzMiA9IG1ha2VHZXR0ZXIoZXhwb3J0cy5GbG9hdDMyQXJyYXkpO1xuICBEYXRhVmlldy5wcm90b3R5cGUuZ2V0RmxvYXQ2NCA9IG1ha2VHZXR0ZXIoZXhwb3J0cy5GbG9hdDY0QXJyYXkpO1xuXG4gIGZ1bmN0aW9uIG1ha2VTZXR0ZXIoYXJyYXlUeXBlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGJ5dGVPZmZzZXQsIHZhbHVlLCBsaXR0bGVFbmRpYW4pIHtcblxuICAgICAgYnl0ZU9mZnNldCA9IEVDTUFTY3JpcHQuVG9VaW50MzIoYnl0ZU9mZnNldCk7XG4gICAgICBpZiAoYnl0ZU9mZnNldCArIGFycmF5VHlwZS5CWVRFU19QRVJfRUxFTUVOVCA+IHRoaXMuYnl0ZUxlbmd0aCkge1xuICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkFycmF5IGluZGV4IG91dCBvZiByYW5nZVwiKTtcbiAgICAgIH1cblxuICAgICAgLy8gR2V0IGJ5dGVzXG4gICAgICB2YXIgdHlwZUFycmF5ID0gbmV3IGFycmF5VHlwZShbdmFsdWVdKSxcbiAgICAgICAgICBieXRlQXJyYXkgPSBuZXcgZXhwb3J0cy5VaW50OEFycmF5KHR5cGVBcnJheS5idWZmZXIpLFxuICAgICAgICAgIGJ5dGVzID0gW10sIGksIGJ5dGVWaWV3O1xuXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgYXJyYXlUeXBlLkJZVEVTX1BFUl9FTEVNRU5UOyBpICs9IDEpIHtcbiAgICAgICAgYnl0ZXMucHVzaChyKGJ5dGVBcnJheSwgaSkpO1xuICAgICAgfVxuXG4gICAgICAvLyBGbGlwIGlmIG5lY2Vzc2FyeVxuICAgICAgaWYgKEJvb2xlYW4obGl0dGxlRW5kaWFuKSA9PT0gQm9vbGVhbihJU19CSUdfRU5ESUFOKSkge1xuICAgICAgICBieXRlcy5yZXZlcnNlKCk7XG4gICAgICB9XG5cbiAgICAgIC8vIFdyaXRlIHRoZW1cbiAgICAgIGJ5dGVWaWV3ID0gbmV3IGV4cG9ydHMuVWludDhBcnJheSh0aGlzLmJ1ZmZlciwgYnl0ZU9mZnNldCwgYXJyYXlUeXBlLkJZVEVTX1BFUl9FTEVNRU5UKTtcbiAgICAgIGJ5dGVWaWV3LnNldChieXRlcyk7XG4gICAgfTtcbiAgfVxuXG4gIERhdGFWaWV3LnByb3RvdHlwZS5zZXRVaW50OCA9IG1ha2VTZXR0ZXIoZXhwb3J0cy5VaW50OEFycmF5KTtcbiAgRGF0YVZpZXcucHJvdG90eXBlLnNldEludDggPSBtYWtlU2V0dGVyKGV4cG9ydHMuSW50OEFycmF5KTtcbiAgRGF0YVZpZXcucHJvdG90eXBlLnNldFVpbnQxNiA9IG1ha2VTZXR0ZXIoZXhwb3J0cy5VaW50MTZBcnJheSk7XG4gIERhdGFWaWV3LnByb3RvdHlwZS5zZXRJbnQxNiA9IG1ha2VTZXR0ZXIoZXhwb3J0cy5JbnQxNkFycmF5KTtcbiAgRGF0YVZpZXcucHJvdG90eXBlLnNldFVpbnQzMiA9IG1ha2VTZXR0ZXIoZXhwb3J0cy5VaW50MzJBcnJheSk7XG4gIERhdGFWaWV3LnByb3RvdHlwZS5zZXRJbnQzMiA9IG1ha2VTZXR0ZXIoZXhwb3J0cy5JbnQzMkFycmF5KTtcbiAgRGF0YVZpZXcucHJvdG90eXBlLnNldEZsb2F0MzIgPSBtYWtlU2V0dGVyKGV4cG9ydHMuRmxvYXQzMkFycmF5KTtcbiAgRGF0YVZpZXcucHJvdG90eXBlLnNldEZsb2F0NjQgPSBtYWtlU2V0dGVyKGV4cG9ydHMuRmxvYXQ2NEFycmF5KTtcblxuICBleHBvcnRzLkRhdGFWaWV3ID0gZXhwb3J0cy5EYXRhVmlldyB8fCBEYXRhVmlldztcblxufSgpKTtcbiIsICJ2YXIgV3JpdGFibGUgPSByZXF1aXJlKCdyZWFkYWJsZS1zdHJlYW0nKS5Xcml0YWJsZVxudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKVxudmFyIGJ1ZmZlckZyb20gPSByZXF1aXJlKCdidWZmZXItZnJvbScpXG5cbmlmICh0eXBlb2YgVWludDhBcnJheSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgdmFyIFU4ID0gcmVxdWlyZSgndHlwZWRhcnJheScpLlVpbnQ4QXJyYXlcbn0gZWxzZSB7XG4gIHZhciBVOCA9IFVpbnQ4QXJyYXlcbn1cblxuZnVuY3Rpb24gQ29uY2F0U3RyZWFtKG9wdHMsIGNiKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBDb25jYXRTdHJlYW0pKSByZXR1cm4gbmV3IENvbmNhdFN0cmVhbShvcHRzLCBjYilcblxuICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjYiA9IG9wdHNcbiAgICBvcHRzID0ge31cbiAgfVxuICBpZiAoIW9wdHMpIG9wdHMgPSB7fVxuXG4gIHZhciBlbmNvZGluZyA9IG9wdHMuZW5jb2RpbmdcbiAgdmFyIHNob3VsZEluZmVyRW5jb2RpbmcgPSBmYWxzZVxuXG4gIGlmICghZW5jb2RpbmcpIHtcbiAgICBzaG91bGRJbmZlckVuY29kaW5nID0gdHJ1ZVxuICB9IGVsc2Uge1xuICAgIGVuY29kaW5nID0gIFN0cmluZyhlbmNvZGluZykudG9Mb3dlckNhc2UoKVxuICAgIGlmIChlbmNvZGluZyA9PT0gJ3U4JyB8fCBlbmNvZGluZyA9PT0gJ3VpbnQ4Jykge1xuICAgICAgZW5jb2RpbmcgPSAndWludDhhcnJheSdcbiAgICB9XG4gIH1cblxuICBXcml0YWJsZS5jYWxsKHRoaXMsIHsgb2JqZWN0TW9kZTogdHJ1ZSB9KVxuXG4gIHRoaXMuZW5jb2RpbmcgPSBlbmNvZGluZ1xuICB0aGlzLnNob3VsZEluZmVyRW5jb2RpbmcgPSBzaG91bGRJbmZlckVuY29kaW5nXG5cbiAgaWYgKGNiKSB0aGlzLm9uKCdmaW5pc2gnLCBmdW5jdGlvbiAoKSB7IGNiKHRoaXMuZ2V0Qm9keSgpKSB9KVxuICB0aGlzLmJvZHkgPSBbXVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IENvbmNhdFN0cmVhbVxuaW5oZXJpdHMoQ29uY2F0U3RyZWFtLCBXcml0YWJsZSlcblxuQ29uY2F0U3RyZWFtLnByb3RvdHlwZS5fd3JpdGUgPSBmdW5jdGlvbihjaHVuaywgZW5jLCBuZXh0KSB7XG4gIHRoaXMuYm9keS5wdXNoKGNodW5rKVxuICBuZXh0KClcbn1cblxuQ29uY2F0U3RyZWFtLnByb3RvdHlwZS5pbmZlckVuY29kaW5nID0gZnVuY3Rpb24gKGJ1ZmYpIHtcbiAgdmFyIGZpcnN0QnVmZmVyID0gYnVmZiA9PT0gdW5kZWZpbmVkID8gdGhpcy5ib2R5WzBdIDogYnVmZjtcbiAgaWYgKEJ1ZmZlci5pc0J1ZmZlcihmaXJzdEJ1ZmZlcikpIHJldHVybiAnYnVmZmVyJ1xuICBpZiAodHlwZW9mIFVpbnQ4QXJyYXkgIT09ICd1bmRlZmluZWQnICYmIGZpcnN0QnVmZmVyIGluc3RhbmNlb2YgVWludDhBcnJheSkgcmV0dXJuICd1aW50OGFycmF5J1xuICBpZiAoQXJyYXkuaXNBcnJheShmaXJzdEJ1ZmZlcikpIHJldHVybiAnYXJyYXknXG4gIGlmICh0eXBlb2YgZmlyc3RCdWZmZXIgPT09ICdzdHJpbmcnKSByZXR1cm4gJ3N0cmluZydcbiAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChmaXJzdEJ1ZmZlcikgPT09IFwiW29iamVjdCBPYmplY3RdXCIpIHJldHVybiAnb2JqZWN0J1xuICByZXR1cm4gJ2J1ZmZlcidcbn1cblxuQ29uY2F0U3RyZWFtLnByb3RvdHlwZS5nZXRCb2R5ID0gZnVuY3Rpb24gKCkge1xuICBpZiAoIXRoaXMuZW5jb2RpbmcgJiYgdGhpcy5ib2R5Lmxlbmd0aCA9PT0gMCkgcmV0dXJuIFtdXG4gIGlmICh0aGlzLnNob3VsZEluZmVyRW5jb2RpbmcpIHRoaXMuZW5jb2RpbmcgPSB0aGlzLmluZmVyRW5jb2RpbmcoKVxuICBpZiAodGhpcy5lbmNvZGluZyA9PT0gJ2FycmF5JykgcmV0dXJuIGFycmF5Q29uY2F0KHRoaXMuYm9keSlcbiAgaWYgKHRoaXMuZW5jb2RpbmcgPT09ICdzdHJpbmcnKSByZXR1cm4gc3RyaW5nQ29uY2F0KHRoaXMuYm9keSlcbiAgaWYgKHRoaXMuZW5jb2RpbmcgPT09ICdidWZmZXInKSByZXR1cm4gYnVmZmVyQ29uY2F0KHRoaXMuYm9keSlcbiAgaWYgKHRoaXMuZW5jb2RpbmcgPT09ICd1aW50OGFycmF5JykgcmV0dXJuIHU4Q29uY2F0KHRoaXMuYm9keSlcbiAgcmV0dXJuIHRoaXMuYm9keVxufVxuXG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gKGFycikge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGFycikgPT0gJ1tvYmplY3QgQXJyYXldJ1xufVxuXG5mdW5jdGlvbiBpc0FycmF5aXNoIChhcnIpIHtcbiAgcmV0dXJuIC9BcnJheVxcXSQvLnRlc3QoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGFycikpXG59XG5cbmZ1bmN0aW9uIGlzQnVmZmVyaXNoIChwKSB7XG4gIHJldHVybiB0eXBlb2YgcCA9PT0gJ3N0cmluZycgfHwgaXNBcnJheWlzaChwKSB8fCAocCAmJiB0eXBlb2YgcC5zdWJhcnJheSA9PT0gJ2Z1bmN0aW9uJylcbn1cblxuZnVuY3Rpb24gc3RyaW5nQ29uY2F0IChwYXJ0cykge1xuICB2YXIgc3RyaW5ncyA9IFtdXG4gIHZhciBuZWVkc1RvU3RyaW5nID0gZmFsc2VcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBwID0gcGFydHNbaV1cbiAgICBpZiAodHlwZW9mIHAgPT09ICdzdHJpbmcnKSB7XG4gICAgICBzdHJpbmdzLnB1c2gocClcbiAgICB9IGVsc2UgaWYgKEJ1ZmZlci5pc0J1ZmZlcihwKSkge1xuICAgICAgc3RyaW5ncy5wdXNoKHApXG4gICAgfSBlbHNlIGlmIChpc0J1ZmZlcmlzaChwKSkge1xuICAgICAgc3RyaW5ncy5wdXNoKGJ1ZmZlckZyb20ocCkpXG4gICAgfSBlbHNlIHtcbiAgICAgIHN0cmluZ3MucHVzaChidWZmZXJGcm9tKFN0cmluZyhwKSkpXG4gICAgfVxuICB9XG4gIGlmIChCdWZmZXIuaXNCdWZmZXIocGFydHNbMF0pKSB7XG4gICAgc3RyaW5ncyA9IEJ1ZmZlci5jb25jYXQoc3RyaW5ncylcbiAgICBzdHJpbmdzID0gc3RyaW5ncy50b1N0cmluZygndXRmOCcpXG4gIH0gZWxzZSB7XG4gICAgc3RyaW5ncyA9IHN0cmluZ3Muam9pbignJylcbiAgfVxuICByZXR1cm4gc3RyaW5nc1xufVxuXG5mdW5jdGlvbiBidWZmZXJDb25jYXQgKHBhcnRzKSB7XG4gIHZhciBidWZzID0gW11cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBwID0gcGFydHNbaV1cbiAgICBpZiAoQnVmZmVyLmlzQnVmZmVyKHApKSB7XG4gICAgICBidWZzLnB1c2gocClcbiAgICB9IGVsc2UgaWYgKGlzQnVmZmVyaXNoKHApKSB7XG4gICAgICBidWZzLnB1c2goYnVmZmVyRnJvbShwKSlcbiAgICB9IGVsc2Uge1xuICAgICAgYnVmcy5wdXNoKGJ1ZmZlckZyb20oU3RyaW5nKHApKSlcbiAgICB9XG4gIH1cbiAgcmV0dXJuIEJ1ZmZlci5jb25jYXQoYnVmcylcbn1cblxuZnVuY3Rpb24gYXJyYXlDb25jYXQgKHBhcnRzKSB7XG4gIHZhciByZXMgPSBbXVxuICBmb3IgKHZhciBpID0gMDsgaSA8IHBhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgcmVzLnB1c2guYXBwbHkocmVzLCBwYXJ0c1tpXSlcbiAgfVxuICByZXR1cm4gcmVzXG59XG5cbmZ1bmN0aW9uIHU4Q29uY2F0IChwYXJ0cykge1xuICB2YXIgbGVuID0gMFxuICBmb3IgKHZhciBpID0gMDsgaSA8IHBhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHR5cGVvZiBwYXJ0c1tpXSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHBhcnRzW2ldID0gYnVmZmVyRnJvbShwYXJ0c1tpXSlcbiAgICB9XG4gICAgbGVuICs9IHBhcnRzW2ldLmxlbmd0aFxuICB9XG4gIHZhciB1OCA9IG5ldyBVOChsZW4pXG4gIGZvciAodmFyIGkgPSAwLCBvZmZzZXQgPSAwOyBpIDwgcGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgcGFydCA9IHBhcnRzW2ldXG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCBwYXJ0Lmxlbmd0aDsgaisrKSB7XG4gICAgICB1OFtvZmZzZXQrK10gPSBwYXJ0W2pdXG4gICAgfVxuICB9XG4gIHJldHVybiB1OFxufVxuIiwgIi8qKlxuICogbG9kYXNoIChDdXN0b20gQnVpbGQpIDxodHRwczovL2xvZGFzaC5jb20vPlxuICogQnVpbGQ6IGBsb2Rhc2ggbW9kdWxhcml6ZSBleHBvcnRzPVwibnBtXCIgLW8gLi9gXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyA8aHR0cHM6Ly9qcXVlcnkub3JnLz5cbiAqIFJlbGVhc2VkIHVuZGVyIE1JVCBsaWNlbnNlIDxodHRwczovL2xvZGFzaC5jb20vbGljZW5zZT5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS44LjMgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcbiAqL1xuXG4vKiogVXNlZCBhcyB0aGUgc2l6ZSB0byBlbmFibGUgbGFyZ2UgYXJyYXkgb3B0aW1pemF0aW9ucy4gKi9cbnZhciBMQVJHRV9BUlJBWV9TSVpFID0gMjAwO1xuXG4vKiogVXNlZCB0byBzdGFuZC1pbiBmb3IgYHVuZGVmaW5lZGAgaGFzaCB2YWx1ZXMuICovXG52YXIgSEFTSF9VTkRFRklORUQgPSAnX19sb2Rhc2hfaGFzaF91bmRlZmluZWRfXyc7XG5cbi8qKiBVc2VkIHRvIGNvbXBvc2UgYml0bWFza3MgZm9yIGNvbXBhcmlzb24gc3R5bGVzLiAqL1xudmFyIFVOT1JERVJFRF9DT01QQVJFX0ZMQUcgPSAxLFxuICAgIFBBUlRJQUxfQ09NUEFSRV9GTEFHID0gMjtcblxuLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG52YXIgTUFYX1NBRkVfSU5URUdFUiA9IDkwMDcxOTkyNTQ3NDA5OTE7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBhcmdzVGFnID0gJ1tvYmplY3QgQXJndW1lbnRzXScsXG4gICAgYXJyYXlUYWcgPSAnW29iamVjdCBBcnJheV0nLFxuICAgIGJvb2xUYWcgPSAnW29iamVjdCBCb29sZWFuXScsXG4gICAgZGF0ZVRhZyA9ICdbb2JqZWN0IERhdGVdJyxcbiAgICBlcnJvclRhZyA9ICdbb2JqZWN0IEVycm9yXScsXG4gICAgZnVuY1RhZyA9ICdbb2JqZWN0IEZ1bmN0aW9uXScsXG4gICAgZ2VuVGFnID0gJ1tvYmplY3QgR2VuZXJhdG9yRnVuY3Rpb25dJyxcbiAgICBtYXBUYWcgPSAnW29iamVjdCBNYXBdJyxcbiAgICBudW1iZXJUYWcgPSAnW29iamVjdCBOdW1iZXJdJyxcbiAgICBvYmplY3RUYWcgPSAnW29iamVjdCBPYmplY3RdJyxcbiAgICBwcm9taXNlVGFnID0gJ1tvYmplY3QgUHJvbWlzZV0nLFxuICAgIHJlZ2V4cFRhZyA9ICdbb2JqZWN0IFJlZ0V4cF0nLFxuICAgIHNldFRhZyA9ICdbb2JqZWN0IFNldF0nLFxuICAgIHN0cmluZ1RhZyA9ICdbb2JqZWN0IFN0cmluZ10nLFxuICAgIHN5bWJvbFRhZyA9ICdbb2JqZWN0IFN5bWJvbF0nLFxuICAgIHdlYWtNYXBUYWcgPSAnW29iamVjdCBXZWFrTWFwXSc7XG5cbnZhciBhcnJheUJ1ZmZlclRhZyA9ICdbb2JqZWN0IEFycmF5QnVmZmVyXScsXG4gICAgZGF0YVZpZXdUYWcgPSAnW29iamVjdCBEYXRhVmlld10nLFxuICAgIGZsb2F0MzJUYWcgPSAnW29iamVjdCBGbG9hdDMyQXJyYXldJyxcbiAgICBmbG9hdDY0VGFnID0gJ1tvYmplY3QgRmxvYXQ2NEFycmF5XScsXG4gICAgaW50OFRhZyA9ICdbb2JqZWN0IEludDhBcnJheV0nLFxuICAgIGludDE2VGFnID0gJ1tvYmplY3QgSW50MTZBcnJheV0nLFxuICAgIGludDMyVGFnID0gJ1tvYmplY3QgSW50MzJBcnJheV0nLFxuICAgIHVpbnQ4VGFnID0gJ1tvYmplY3QgVWludDhBcnJheV0nLFxuICAgIHVpbnQ4Q2xhbXBlZFRhZyA9ICdbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XScsXG4gICAgdWludDE2VGFnID0gJ1tvYmplY3QgVWludDE2QXJyYXldJyxcbiAgICB1aW50MzJUYWcgPSAnW29iamVjdCBVaW50MzJBcnJheV0nO1xuXG4vKipcbiAqIFVzZWQgdG8gbWF0Y2ggYFJlZ0V4cGBcbiAqIFtzeW50YXggY2hhcmFjdGVyc10oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtcGF0dGVybnMpLlxuICovXG52YXIgcmVSZWdFeHBDaGFyID0gL1tcXFxcXiQuKis/KClbXFxde318XS9nO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgaG9zdCBjb25zdHJ1Y3RvcnMgKFNhZmFyaSkuICovXG52YXIgcmVJc0hvc3RDdG9yID0gL15cXFtvYmplY3QgLis/Q29uc3RydWN0b3JcXF0kLztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IHVuc2lnbmVkIGludGVnZXIgdmFsdWVzLiAqL1xudmFyIHJlSXNVaW50ID0gL14oPzowfFsxLTldXFxkKikkLztcblxuLyoqIFVzZWQgdG8gaWRlbnRpZnkgYHRvU3RyaW5nVGFnYCB2YWx1ZXMgb2YgdHlwZWQgYXJyYXlzLiAqL1xudmFyIHR5cGVkQXJyYXlUYWdzID0ge307XG50eXBlZEFycmF5VGFnc1tmbG9hdDMyVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2Zsb2F0NjRUYWddID1cbnR5cGVkQXJyYXlUYWdzW2ludDhUYWddID0gdHlwZWRBcnJheVRhZ3NbaW50MTZUYWddID1cbnR5cGVkQXJyYXlUYWdzW2ludDMyVGFnXSA9IHR5cGVkQXJyYXlUYWdzW3VpbnQ4VGFnXSA9XG50eXBlZEFycmF5VGFnc1t1aW50OENsYW1wZWRUYWddID0gdHlwZWRBcnJheVRhZ3NbdWludDE2VGFnXSA9XG50eXBlZEFycmF5VGFnc1t1aW50MzJUYWddID0gdHJ1ZTtcbnR5cGVkQXJyYXlUYWdzW2FyZ3NUYWddID0gdHlwZWRBcnJheVRhZ3NbYXJyYXlUYWddID1cbnR5cGVkQXJyYXlUYWdzW2FycmF5QnVmZmVyVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2Jvb2xUYWddID1cbnR5cGVkQXJyYXlUYWdzW2RhdGFWaWV3VGFnXSA9IHR5cGVkQXJyYXlUYWdzW2RhdGVUYWddID1cbnR5cGVkQXJyYXlUYWdzW2Vycm9yVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2Z1bmNUYWddID1cbnR5cGVkQXJyYXlUYWdzW21hcFRhZ10gPSB0eXBlZEFycmF5VGFnc1tudW1iZXJUYWddID1cbnR5cGVkQXJyYXlUYWdzW29iamVjdFRhZ10gPSB0eXBlZEFycmF5VGFnc1tyZWdleHBUYWddID1cbnR5cGVkQXJyYXlUYWdzW3NldFRhZ10gPSB0eXBlZEFycmF5VGFnc1tzdHJpbmdUYWddID1cbnR5cGVkQXJyYXlUYWdzW3dlYWtNYXBUYWddID0gZmFsc2U7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZ2xvYmFsYCBmcm9tIE5vZGUuanMuICovXG52YXIgZnJlZUdsb2JhbCA9IHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgZ2xvYmFsICYmIGdsb2JhbC5PYmplY3QgPT09IE9iamVjdCAmJiBnbG9iYWw7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgc2VsZmAuICovXG52YXIgZnJlZVNlbGYgPSB0eXBlb2Ygc2VsZiA9PSAnb2JqZWN0JyAmJiBzZWxmICYmIHNlbGYuT2JqZWN0ID09PSBPYmplY3QgJiYgc2VsZjtcblxuLyoqIFVzZWQgYXMgYSByZWZlcmVuY2UgdG8gdGhlIGdsb2JhbCBvYmplY3QuICovXG52YXIgcm9vdCA9IGZyZWVHbG9iYWwgfHwgZnJlZVNlbGYgfHwgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBleHBvcnRzYC4gKi9cbnZhciBmcmVlRXhwb3J0cyA9IHR5cGVvZiBleHBvcnRzID09ICdvYmplY3QnICYmIGV4cG9ydHMgJiYgIWV4cG9ydHMubm9kZVR5cGUgJiYgZXhwb3J0cztcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBtb2R1bGVgLiAqL1xudmFyIGZyZWVNb2R1bGUgPSBmcmVlRXhwb3J0cyAmJiB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZSAmJiAhbW9kdWxlLm5vZGVUeXBlICYmIG1vZHVsZTtcblxuLyoqIERldGVjdCB0aGUgcG9wdWxhciBDb21tb25KUyBleHRlbnNpb24gYG1vZHVsZS5leHBvcnRzYC4gKi9cbnZhciBtb2R1bGVFeHBvcnRzID0gZnJlZU1vZHVsZSAmJiBmcmVlTW9kdWxlLmV4cG9ydHMgPT09IGZyZWVFeHBvcnRzO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHByb2Nlc3NgIGZyb20gTm9kZS5qcy4gKi9cbnZhciBmcmVlUHJvY2VzcyA9IG1vZHVsZUV4cG9ydHMgJiYgZnJlZUdsb2JhbC5wcm9jZXNzO1xuXG4vKiogVXNlZCB0byBhY2Nlc3MgZmFzdGVyIE5vZGUuanMgaGVscGVycy4gKi9cbnZhciBub2RlVXRpbCA9IChmdW5jdGlvbigpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gZnJlZVByb2Nlc3MgJiYgZnJlZVByb2Nlc3MuYmluZGluZygndXRpbCcpO1xuICB9IGNhdGNoIChlKSB7fVxufSgpKTtcblxuLyogTm9kZS5qcyBoZWxwZXIgcmVmZXJlbmNlcy4gKi9cbnZhciBub2RlSXNUeXBlZEFycmF5ID0gbm9kZVV0aWwgJiYgbm9kZVV0aWwuaXNUeXBlZEFycmF5O1xuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5zb21lYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWVcbiAqIHNob3J0aGFuZHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFueSBlbGVtZW50IHBhc3NlcyB0aGUgcHJlZGljYXRlIGNoZWNrLFxuICogIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gYXJyYXlTb21lKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBhcnJheSA/IGFycmF5Lmxlbmd0aCA6IDA7XG5cbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICBpZiAocHJlZGljYXRlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50aW1lc2Agd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzXG4gKiBvciBtYXggYXJyYXkgbGVuZ3RoIGNoZWNrcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiB0aW1lcyB0byBpbnZva2UgYGl0ZXJhdGVlYC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHJlc3VsdHMuXG4gKi9cbmZ1bmN0aW9uIGJhc2VUaW1lcyhuLCBpdGVyYXRlZSkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIHJlc3VsdCA9IEFycmF5KG4pO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbikge1xuICAgIHJlc3VsdFtpbmRleF0gPSBpdGVyYXRlZShpbmRleCk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy51bmFyeWAgd2l0aG91dCBzdXBwb3J0IGZvciBzdG9yaW5nIG1ldGFkYXRhLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjYXAgYXJndW1lbnRzIGZvci5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNhcHBlZCBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gYmFzZVVuYXJ5KGZ1bmMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIGZ1bmModmFsdWUpO1xuICB9O1xufVxuXG4vKipcbiAqIEdldHMgdGhlIHZhbHVlIGF0IGBrZXlgIG9mIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHByb3BlcnR5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBnZXRWYWx1ZShvYmplY3QsIGtleSkge1xuICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBvYmplY3Rba2V5XTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIGhvc3Qgb2JqZWN0IGluIElFIDwgOS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGhvc3Qgb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzSG9zdE9iamVjdCh2YWx1ZSkge1xuICAvLyBNYW55IGhvc3Qgb2JqZWN0cyBhcmUgYE9iamVjdGAgb2JqZWN0cyB0aGF0IGNhbiBjb2VyY2UgdG8gc3RyaW5nc1xuICAvLyBkZXNwaXRlIGhhdmluZyBpbXByb3Blcmx5IGRlZmluZWQgYHRvU3RyaW5nYCBtZXRob2RzLlxuICB2YXIgcmVzdWx0ID0gZmFsc2U7XG4gIGlmICh2YWx1ZSAhPSBudWxsICYmIHR5cGVvZiB2YWx1ZS50b1N0cmluZyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJlc3VsdCA9ICEhKHZhbHVlICsgJycpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBgbWFwYCB0byBpdHMga2V5LXZhbHVlIHBhaXJzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gbWFwIFRoZSBtYXAgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUga2V5LXZhbHVlIHBhaXJzLlxuICovXG5mdW5jdGlvbiBtYXBUb0FycmF5KG1hcCkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIHJlc3VsdCA9IEFycmF5KG1hcC5zaXplKTtcblxuICBtYXAuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgcmVzdWx0WysraW5kZXhdID0gW2tleSwgdmFsdWVdO1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgdW5hcnkgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIGl0cyBhcmd1bWVudCB0cmFuc2Zvcm1lZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHRyYW5zZm9ybSBUaGUgYXJndW1lbnQgdHJhbnNmb3JtLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIG92ZXJBcmcoZnVuYywgdHJhbnNmb3JtKSB7XG4gIHJldHVybiBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gZnVuYyh0cmFuc2Zvcm0oYXJnKSk7XG4gIH07XG59XG5cbi8qKlxuICogQ29udmVydHMgYHNldGAgdG8gYW4gYXJyYXkgb2YgaXRzIHZhbHVlcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IHNldCBUaGUgc2V0IHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHZhbHVlcy5cbiAqL1xuZnVuY3Rpb24gc2V0VG9BcnJheShzZXQpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICByZXN1bHQgPSBBcnJheShzZXQuc2l6ZSk7XG5cbiAgc2V0LmZvckVhY2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXN1bHRbKytpbmRleF0gPSB2YWx1ZTtcbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBhcnJheVByb3RvID0gQXJyYXkucHJvdG90eXBlLFxuICAgIGZ1bmNQcm90byA9IEZ1bmN0aW9uLnByb3RvdHlwZSxcbiAgICBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBvdmVycmVhY2hpbmcgY29yZS1qcyBzaGltcy4gKi9cbnZhciBjb3JlSnNEYXRhID0gcm9vdFsnX19jb3JlLWpzX3NoYXJlZF9fJ107XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBtZXRob2RzIG1hc3F1ZXJhZGluZyBhcyBuYXRpdmUuICovXG52YXIgbWFza1NyY0tleSA9IChmdW5jdGlvbigpIHtcbiAgdmFyIHVpZCA9IC9bXi5dKyQvLmV4ZWMoY29yZUpzRGF0YSAmJiBjb3JlSnNEYXRhLmtleXMgJiYgY29yZUpzRGF0YS5rZXlzLklFX1BST1RPIHx8ICcnKTtcbiAgcmV0dXJuIHVpZCA/ICgnU3ltYm9sKHNyYylfMS4nICsgdWlkKSA6ICcnO1xufSgpKTtcblxuLyoqIFVzZWQgdG8gcmVzb2x2ZSB0aGUgZGVjb21waWxlZCBzb3VyY2Ugb2YgZnVuY3Rpb25zLiAqL1xudmFyIGZ1bmNUb1N0cmluZyA9IGZ1bmNQcm90by50b1N0cmluZztcblxuLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG52YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqXG4gKiBVc2VkIHRvIHJlc29sdmUgdGhlXG4gKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcbiAqIG9mIHZhbHVlcy5cbiAqL1xudmFyIG9iamVjdFRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBpZiBhIG1ldGhvZCBpcyBuYXRpdmUuICovXG52YXIgcmVJc05hdGl2ZSA9IFJlZ0V4cCgnXicgK1xuICBmdW5jVG9TdHJpbmcuY2FsbChoYXNPd25Qcm9wZXJ0eSkucmVwbGFjZShyZVJlZ0V4cENoYXIsICdcXFxcJCYnKVxuICAucmVwbGFjZSgvaGFzT3duUHJvcGVydHl8KGZ1bmN0aW9uKS4qPyg/PVxcXFxcXCgpfCBmb3IgLis/KD89XFxcXFxcXSkvZywgJyQxLio/JykgKyAnJCdcbik7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIFN5bWJvbCA9IHJvb3QuU3ltYm9sLFxuICAgIFVpbnQ4QXJyYXkgPSByb290LlVpbnQ4QXJyYXksXG4gICAgcHJvcGVydHlJc0VudW1lcmFibGUgPSBvYmplY3RQcm90by5wcm9wZXJ0eUlzRW51bWVyYWJsZSxcbiAgICBzcGxpY2UgPSBhcnJheVByb3RvLnNwbGljZTtcblxuLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgZm9yIHRob3NlIHdpdGggdGhlIHNhbWUgbmFtZSBhcyBvdGhlciBgbG9kYXNoYCBtZXRob2RzLiAqL1xudmFyIG5hdGl2ZUtleXMgPSBvdmVyQXJnKE9iamVjdC5rZXlzLCBPYmplY3QpO1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyB0aGF0IGFyZSB2ZXJpZmllZCB0byBiZSBuYXRpdmUuICovXG52YXIgRGF0YVZpZXcgPSBnZXROYXRpdmUocm9vdCwgJ0RhdGFWaWV3JyksXG4gICAgTWFwID0gZ2V0TmF0aXZlKHJvb3QsICdNYXAnKSxcbiAgICBQcm9taXNlID0gZ2V0TmF0aXZlKHJvb3QsICdQcm9taXNlJyksXG4gICAgU2V0ID0gZ2V0TmF0aXZlKHJvb3QsICdTZXQnKSxcbiAgICBXZWFrTWFwID0gZ2V0TmF0aXZlKHJvb3QsICdXZWFrTWFwJyksXG4gICAgbmF0aXZlQ3JlYXRlID0gZ2V0TmF0aXZlKE9iamVjdCwgJ2NyZWF0ZScpO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgbWFwcywgc2V0cywgYW5kIHdlYWttYXBzLiAqL1xudmFyIGRhdGFWaWV3Q3RvclN0cmluZyA9IHRvU291cmNlKERhdGFWaWV3KSxcbiAgICBtYXBDdG9yU3RyaW5nID0gdG9Tb3VyY2UoTWFwKSxcbiAgICBwcm9taXNlQ3RvclN0cmluZyA9IHRvU291cmNlKFByb21pc2UpLFxuICAgIHNldEN0b3JTdHJpbmcgPSB0b1NvdXJjZShTZXQpLFxuICAgIHdlYWtNYXBDdG9yU3RyaW5nID0gdG9Tb3VyY2UoV2Vha01hcCk7XG5cbi8qKiBVc2VkIHRvIGNvbnZlcnQgc3ltYm9scyB0byBwcmltaXRpdmVzIGFuZCBzdHJpbmdzLiAqL1xudmFyIHN5bWJvbFByb3RvID0gU3ltYm9sID8gU3ltYm9sLnByb3RvdHlwZSA6IHVuZGVmaW5lZCxcbiAgICBzeW1ib2xWYWx1ZU9mID0gc3ltYm9sUHJvdG8gPyBzeW1ib2xQcm90by52YWx1ZU9mIDogdW5kZWZpbmVkO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBoYXNoIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gSGFzaChlbnRyaWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gZW50cmllcyA/IGVudHJpZXMubGVuZ3RoIDogMDtcblxuICB0aGlzLmNsZWFyKCk7XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgfVxufVxuXG4vKipcbiAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIGhhc2guXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGNsZWFyXG4gKiBAbWVtYmVyT2YgSGFzaFxuICovXG5mdW5jdGlvbiBoYXNoQ2xlYXIoKSB7XG4gIHRoaXMuX19kYXRhX18gPSBuYXRpdmVDcmVhdGUgPyBuYXRpdmVDcmVhdGUobnVsbCkgOiB7fTtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgaGFzaC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZGVsZXRlXG4gKiBAbWVtYmVyT2YgSGFzaFxuICogQHBhcmFtIHtPYmplY3R9IGhhc2ggVGhlIGhhc2ggdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGhhc2hEZWxldGUoa2V5KSB7XG4gIHJldHVybiB0aGlzLmhhcyhrZXkpICYmIGRlbGV0ZSB0aGlzLl9fZGF0YV9fW2tleV07XG59XG5cbi8qKlxuICogR2V0cyB0aGUgaGFzaCB2YWx1ZSBmb3IgYGtleWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGdldFxuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBoYXNoR2V0KGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gIGlmIChuYXRpdmVDcmVhdGUpIHtcbiAgICB2YXIgcmVzdWx0ID0gZGF0YVtrZXldO1xuICAgIHJldHVybiByZXN1bHQgPT09IEhBU0hfVU5ERUZJTkVEID8gdW5kZWZpbmVkIDogcmVzdWx0O1xuICB9XG4gIHJldHVybiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSkgPyBkYXRhW2tleV0gOiB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgaGFzaCB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaGFzaEhhcyhrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICByZXR1cm4gbmF0aXZlQ3JlYXRlID8gZGF0YVtrZXldICE9PSB1bmRlZmluZWQgOiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSk7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgaGFzaCBga2V5YCB0byBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBzZXRcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGhhc2ggaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIGhhc2hTZXQoa2V5LCB2YWx1ZSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gIGRhdGFba2V5XSA9IChuYXRpdmVDcmVhdGUgJiYgdmFsdWUgPT09IHVuZGVmaW5lZCkgPyBIQVNIX1VOREVGSU5FRCA6IHZhbHVlO1xuICByZXR1cm4gdGhpcztcbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYEhhc2hgLlxuSGFzaC5wcm90b3R5cGUuY2xlYXIgPSBoYXNoQ2xlYXI7XG5IYXNoLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBoYXNoRGVsZXRlO1xuSGFzaC5wcm90b3R5cGUuZ2V0ID0gaGFzaEdldDtcbkhhc2gucHJvdG90eXBlLmhhcyA9IGhhc2hIYXM7XG5IYXNoLnByb3RvdHlwZS5zZXQgPSBoYXNoU2V0O1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gbGlzdCBjYWNoZSBvYmplY3QuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gKi9cbmZ1bmN0aW9uIExpc3RDYWNoZShlbnRyaWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gZW50cmllcyA/IGVudHJpZXMubGVuZ3RoIDogMDtcblxuICB0aGlzLmNsZWFyKCk7XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgfVxufVxuXG4vKipcbiAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIGxpc3QgY2FjaGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGNsZWFyXG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZUNsZWFyKCkge1xuICB0aGlzLl9fZGF0YV9fID0gW107XG59XG5cbi8qKlxuICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIGxpc3QgY2FjaGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGRlbGV0ZVxuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZURlbGV0ZShrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICBpZiAoaW5kZXggPCAwKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBsYXN0SW5kZXggPSBkYXRhLmxlbmd0aCAtIDE7XG4gIGlmIChpbmRleCA9PSBsYXN0SW5kZXgpIHtcbiAgICBkYXRhLnBvcCgpO1xuICB9IGVsc2Uge1xuICAgIHNwbGljZS5jYWxsKGRhdGEsIGluZGV4LCAxKTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBsaXN0IGNhY2hlIHZhbHVlIGZvciBga2V5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZ2V0XG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlR2V0KGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gIHJldHVybiBpbmRleCA8IDAgPyB1bmRlZmluZWQgOiBkYXRhW2luZGV4XVsxXTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBsaXN0IGNhY2hlIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZUhhcyhrZXkpIHtcbiAgcmV0dXJuIGFzc29jSW5kZXhPZih0aGlzLl9fZGF0YV9fLCBrZXkpID4gLTE7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgbGlzdCBjYWNoZSBga2V5YCB0byBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBzZXRcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbGlzdCBjYWNoZSBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlU2V0KGtleSwgdmFsdWUpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICBpZiAoaW5kZXggPCAwKSB7XG4gICAgZGF0YS5wdXNoKFtrZXksIHZhbHVlXSk7XG4gIH0gZWxzZSB7XG4gICAgZGF0YVtpbmRleF1bMV0gPSB2YWx1ZTtcbiAgfVxuICByZXR1cm4gdGhpcztcbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYExpc3RDYWNoZWAuXG5MaXN0Q2FjaGUucHJvdG90eXBlLmNsZWFyID0gbGlzdENhY2hlQ2xlYXI7XG5MaXN0Q2FjaGUucHJvdG90eXBlWydkZWxldGUnXSA9IGxpc3RDYWNoZURlbGV0ZTtcbkxpc3RDYWNoZS5wcm90b3R5cGUuZ2V0ID0gbGlzdENhY2hlR2V0O1xuTGlzdENhY2hlLnByb3RvdHlwZS5oYXMgPSBsaXN0Q2FjaGVIYXM7XG5MaXN0Q2FjaGUucHJvdG90eXBlLnNldCA9IGxpc3RDYWNoZVNldDtcblxuLyoqXG4gKiBDcmVhdGVzIGEgbWFwIGNhY2hlIG9iamVjdCB0byBzdG9yZSBrZXktdmFsdWUgcGFpcnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gKi9cbmZ1bmN0aW9uIE1hcENhY2hlKGVudHJpZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBlbnRyaWVzID8gZW50cmllcy5sZW5ndGggOiAwO1xuXG4gIHRoaXMuY2xlYXIoKTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICB9XG59XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgbWFwLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBjbGVhclxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlQ2xlYXIoKSB7XG4gIHRoaXMuX19kYXRhX18gPSB7XG4gICAgJ2hhc2gnOiBuZXcgSGFzaCxcbiAgICAnbWFwJzogbmV3IChNYXAgfHwgTGlzdENhY2hlKSxcbiAgICAnc3RyaW5nJzogbmV3IEhhc2hcbiAgfTtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgbWFwLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBkZWxldGVcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlRGVsZXRlKGtleSkge1xuICByZXR1cm4gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpWydkZWxldGUnXShrZXkpO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIG1hcCB2YWx1ZSBmb3IgYGtleWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGdldFxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVHZXQoa2V5KSB7XG4gIHJldHVybiBnZXRNYXBEYXRhKHRoaXMsIGtleSkuZ2V0KGtleSk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgbWFwIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVIYXMoa2V5KSB7XG4gIHJldHVybiBnZXRNYXBEYXRhKHRoaXMsIGtleSkuaGFzKGtleSk7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgbWFwIGBrZXlgIHRvIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIHNldFxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG1hcCBjYWNoZSBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVTZXQoa2V5LCB2YWx1ZSkge1xuICBnZXRNYXBEYXRhKHRoaXMsIGtleSkuc2V0KGtleSwgdmFsdWUpO1xuICByZXR1cm4gdGhpcztcbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYE1hcENhY2hlYC5cbk1hcENhY2hlLnByb3RvdHlwZS5jbGVhciA9IG1hcENhY2hlQ2xlYXI7XG5NYXBDYWNoZS5wcm90b3R5cGVbJ2RlbGV0ZSddID0gbWFwQ2FjaGVEZWxldGU7XG5NYXBDYWNoZS5wcm90b3R5cGUuZ2V0ID0gbWFwQ2FjaGVHZXQ7XG5NYXBDYWNoZS5wcm90b3R5cGUuaGFzID0gbWFwQ2FjaGVIYXM7XG5NYXBDYWNoZS5wcm90b3R5cGUuc2V0ID0gbWFwQ2FjaGVTZXQ7XG5cbi8qKlxuICpcbiAqIENyZWF0ZXMgYW4gYXJyYXkgY2FjaGUgb2JqZWN0IHRvIHN0b3JlIHVuaXF1ZSB2YWx1ZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gU2V0Q2FjaGUodmFsdWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gdmFsdWVzID8gdmFsdWVzLmxlbmd0aCA6IDA7XG5cbiAgdGhpcy5fX2RhdGFfXyA9IG5ldyBNYXBDYWNoZTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB0aGlzLmFkZCh2YWx1ZXNbaW5kZXhdKTtcbiAgfVxufVxuXG4vKipcbiAqIEFkZHMgYHZhbHVlYCB0byB0aGUgYXJyYXkgY2FjaGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGFkZFxuICogQG1lbWJlck9mIFNldENhY2hlXG4gKiBAYWxpYXMgcHVzaFxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2FjaGUuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjYWNoZSBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gc2V0Q2FjaGVBZGQodmFsdWUpIHtcbiAgdGhpcy5fX2RhdGFfXy5zZXQodmFsdWUsIEhBU0hfVU5ERUZJTkVEKTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgaW4gdGhlIGFycmF5IGNhY2hlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBTZXRDYWNoZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZm91bmQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gc2V0Q2FjaGVIYXModmFsdWUpIHtcbiAgcmV0dXJuIHRoaXMuX19kYXRhX18uaGFzKHZhbHVlKTtcbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYFNldENhY2hlYC5cblNldENhY2hlLnByb3RvdHlwZS5hZGQgPSBTZXRDYWNoZS5wcm90b3R5cGUucHVzaCA9IHNldENhY2hlQWRkO1xuU2V0Q2FjaGUucHJvdG90eXBlLmhhcyA9IHNldENhY2hlSGFzO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBzdGFjayBjYWNoZSBvYmplY3QgdG8gc3RvcmUga2V5LXZhbHVlIHBhaXJzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICovXG5mdW5jdGlvbiBTdGFjayhlbnRyaWVzKSB7XG4gIHRoaXMuX19kYXRhX18gPSBuZXcgTGlzdENhY2hlKGVudHJpZXMpO1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIHN0YWNrLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBjbGVhclxuICogQG1lbWJlck9mIFN0YWNrXG4gKi9cbmZ1bmN0aW9uIHN0YWNrQ2xlYXIoKSB7XG4gIHRoaXMuX19kYXRhX18gPSBuZXcgTGlzdENhY2hlO1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBzdGFjay5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZGVsZXRlXG4gKiBAbWVtYmVyT2YgU3RhY2tcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBzdGFja0RlbGV0ZShrZXkpIHtcbiAgcmV0dXJuIHRoaXMuX19kYXRhX19bJ2RlbGV0ZSddKGtleSk7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgc3RhY2sgdmFsdWUgZm9yIGBrZXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBnZXRcbiAqIEBtZW1iZXJPZiBTdGFja1xuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIHN0YWNrR2V0KGtleSkge1xuICByZXR1cm4gdGhpcy5fX2RhdGFfXy5nZXQoa2V5KTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBzdGFjayB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBTdGFja1xuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIHN0YWNrSGFzKGtleSkge1xuICByZXR1cm4gdGhpcy5fX2RhdGFfXy5oYXMoa2V5KTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBzdGFjayBga2V5YCB0byBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBzZXRcbiAqIEBtZW1iZXJPZiBTdGFja1xuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBzdGFjayBjYWNoZSBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gc3RhY2tTZXQoa2V5LCB2YWx1ZSkge1xuICB2YXIgY2FjaGUgPSB0aGlzLl9fZGF0YV9fO1xuICBpZiAoY2FjaGUgaW5zdGFuY2VvZiBMaXN0Q2FjaGUpIHtcbiAgICB2YXIgcGFpcnMgPSBjYWNoZS5fX2RhdGFfXztcbiAgICBpZiAoIU1hcCB8fCAocGFpcnMubGVuZ3RoIDwgTEFSR0VfQVJSQVlfU0laRSAtIDEpKSB7XG4gICAgICBwYWlycy5wdXNoKFtrZXksIHZhbHVlXSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgY2FjaGUgPSB0aGlzLl9fZGF0YV9fID0gbmV3IE1hcENhY2hlKHBhaXJzKTtcbiAgfVxuICBjYWNoZS5zZXQoa2V5LCB2YWx1ZSk7XG4gIHJldHVybiB0aGlzO1xufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgU3RhY2tgLlxuU3RhY2sucHJvdG90eXBlLmNsZWFyID0gc3RhY2tDbGVhcjtcblN0YWNrLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBzdGFja0RlbGV0ZTtcblN0YWNrLnByb3RvdHlwZS5nZXQgPSBzdGFja0dldDtcblN0YWNrLnByb3RvdHlwZS5oYXMgPSBzdGFja0hhcztcblN0YWNrLnByb3RvdHlwZS5zZXQgPSBzdGFja1NldDtcblxuLyoqXG4gKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIG9mIHRoZSBhcnJheS1saWtlIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtib29sZWFufSBpbmhlcml0ZWQgU3BlY2lmeSByZXR1cm5pbmcgaW5oZXJpdGVkIHByb3BlcnR5IG5hbWVzLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAqL1xuZnVuY3Rpb24gYXJyYXlMaWtlS2V5cyh2YWx1ZSwgaW5oZXJpdGVkKSB7XG4gIC8vIFNhZmFyaSA4LjEgbWFrZXMgYGFyZ3VtZW50cy5jYWxsZWVgIGVudW1lcmFibGUgaW4gc3RyaWN0IG1vZGUuXG4gIC8vIFNhZmFyaSA5IG1ha2VzIGBhcmd1bWVudHMubGVuZ3RoYCBlbnVtZXJhYmxlIGluIHN0cmljdCBtb2RlLlxuICB2YXIgcmVzdWx0ID0gKGlzQXJyYXkodmFsdWUpIHx8IGlzQXJndW1lbnRzKHZhbHVlKSlcbiAgICA/IGJhc2VUaW1lcyh2YWx1ZS5sZW5ndGgsIFN0cmluZylcbiAgICA6IFtdO1xuXG4gIHZhciBsZW5ndGggPSByZXN1bHQubGVuZ3RoLFxuICAgICAgc2tpcEluZGV4ZXMgPSAhIWxlbmd0aDtcblxuICBmb3IgKHZhciBrZXkgaW4gdmFsdWUpIHtcbiAgICBpZiAoKGluaGVyaXRlZCB8fCBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBrZXkpKSAmJlxuICAgICAgICAhKHNraXBJbmRleGVzICYmIChrZXkgPT0gJ2xlbmd0aCcgfHwgaXNJbmRleChrZXksIGxlbmd0aCkpKSkge1xuICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBpbmRleCBhdCB3aGljaCB0aGUgYGtleWAgaXMgZm91bmQgaW4gYGFycmF5YCBvZiBrZXktdmFsdWUgcGFpcnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICogQHBhcmFtIHsqfSBrZXkgVGhlIGtleSB0byBzZWFyY2ggZm9yLlxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAqL1xuZnVuY3Rpb24gYXNzb2NJbmRleE9mKGFycmF5LCBrZXkpIHtcbiAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgaWYgKGVxKGFycmF5W2xlbmd0aF1bMF0sIGtleSkpIHtcbiAgICAgIHJldHVybiBsZW5ndGg7XG4gICAgfVxuICB9XG4gIHJldHVybiAtMTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgZ2V0VGFnYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBgdG9TdHJpbmdUYWdgLlxuICovXG5mdW5jdGlvbiBiYXNlR2V0VGFnKHZhbHVlKSB7XG4gIHJldHVybiBvYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc0VxdWFsYCB3aGljaCBzdXBwb3J0cyBwYXJ0aWFsIGNvbXBhcmlzb25zXG4gKiBhbmQgdHJhY2tzIHRyYXZlcnNlZCBvYmplY3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICogQHBhcmFtIHtib29sZWFufSBbYml0bWFza10gVGhlIGJpdG1hc2sgb2YgY29tcGFyaXNvbiBmbGFncy5cbiAqICBUaGUgYml0bWFzayBtYXkgYmUgY29tcG9zZWQgb2YgdGhlIGZvbGxvd2luZyBmbGFnczpcbiAqICAgICAxIC0gVW5vcmRlcmVkIGNvbXBhcmlzb25cbiAqICAgICAyIC0gUGFydGlhbCBjb21wYXJpc29uXG4gKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIGB2YWx1ZWAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VJc0VxdWFsKHZhbHVlLCBvdGhlciwgY3VzdG9taXplciwgYml0bWFzaywgc3RhY2spIHtcbiAgaWYgKHZhbHVlID09PSBvdGhlcikge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmICh2YWx1ZSA9PSBudWxsIHx8IG90aGVyID09IG51bGwgfHwgKCFpc09iamVjdCh2YWx1ZSkgJiYgIWlzT2JqZWN0TGlrZShvdGhlcikpKSB7XG4gICAgcmV0dXJuIHZhbHVlICE9PSB2YWx1ZSAmJiBvdGhlciAhPT0gb3RoZXI7XG4gIH1cbiAgcmV0dXJuIGJhc2VJc0VxdWFsRGVlcCh2YWx1ZSwgb3RoZXIsIGJhc2VJc0VxdWFsLCBjdXN0b21pemVyLCBiaXRtYXNrLCBzdGFjayk7XG59XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlSXNFcXVhbGAgZm9yIGFycmF5cyBhbmQgb2JqZWN0cyB3aGljaCBwZXJmb3Jtc1xuICogZGVlcCBjb21wYXJpc29ucyBhbmQgdHJhY2tzIHRyYXZlcnNlZCBvYmplY3RzIGVuYWJsaW5nIG9iamVjdHMgd2l0aCBjaXJjdWxhclxuICogcmVmZXJlbmNlcyB0byBiZSBjb21wYXJlZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge09iamVjdH0gb3RoZXIgVGhlIG90aGVyIG9iamVjdCB0byBjb21wYXJlLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZXF1YWxGdW5jIFRoZSBmdW5jdGlvbiB0byBkZXRlcm1pbmUgZXF1aXZhbGVudHMgb2YgdmFsdWVzLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gKiBAcGFyYW0ge251bWJlcn0gW2JpdG1hc2tdIFRoZSBiaXRtYXNrIG9mIGNvbXBhcmlzb24gZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgXG4gKiAgZm9yIG1vcmUgZGV0YWlscy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgYG9iamVjdGAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgb2JqZWN0cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBiYXNlSXNFcXVhbERlZXAob2JqZWN0LCBvdGhlciwgZXF1YWxGdW5jLCBjdXN0b21pemVyLCBiaXRtYXNrLCBzdGFjaykge1xuICB2YXIgb2JqSXNBcnIgPSBpc0FycmF5KG9iamVjdCksXG4gICAgICBvdGhJc0FyciA9IGlzQXJyYXkob3RoZXIpLFxuICAgICAgb2JqVGFnID0gYXJyYXlUYWcsXG4gICAgICBvdGhUYWcgPSBhcnJheVRhZztcblxuICBpZiAoIW9iaklzQXJyKSB7XG4gICAgb2JqVGFnID0gZ2V0VGFnKG9iamVjdCk7XG4gICAgb2JqVGFnID0gb2JqVGFnID09IGFyZ3NUYWcgPyBvYmplY3RUYWcgOiBvYmpUYWc7XG4gIH1cbiAgaWYgKCFvdGhJc0Fycikge1xuICAgIG90aFRhZyA9IGdldFRhZyhvdGhlcik7XG4gICAgb3RoVGFnID0gb3RoVGFnID09IGFyZ3NUYWcgPyBvYmplY3RUYWcgOiBvdGhUYWc7XG4gIH1cbiAgdmFyIG9iaklzT2JqID0gb2JqVGFnID09IG9iamVjdFRhZyAmJiAhaXNIb3N0T2JqZWN0KG9iamVjdCksXG4gICAgICBvdGhJc09iaiA9IG90aFRhZyA9PSBvYmplY3RUYWcgJiYgIWlzSG9zdE9iamVjdChvdGhlciksXG4gICAgICBpc1NhbWVUYWcgPSBvYmpUYWcgPT0gb3RoVGFnO1xuXG4gIGlmIChpc1NhbWVUYWcgJiYgIW9iaklzT2JqKSB7XG4gICAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgICByZXR1cm4gKG9iaklzQXJyIHx8IGlzVHlwZWRBcnJheShvYmplY3QpKVxuICAgICAgPyBlcXVhbEFycmF5cyhvYmplY3QsIG90aGVyLCBlcXVhbEZ1bmMsIGN1c3RvbWl6ZXIsIGJpdG1hc2ssIHN0YWNrKVxuICAgICAgOiBlcXVhbEJ5VGFnKG9iamVjdCwgb3RoZXIsIG9ialRhZywgZXF1YWxGdW5jLCBjdXN0b21pemVyLCBiaXRtYXNrLCBzdGFjayk7XG4gIH1cbiAgaWYgKCEoYml0bWFzayAmIFBBUlRJQUxfQ09NUEFSRV9GTEFHKSkge1xuICAgIHZhciBvYmpJc1dyYXBwZWQgPSBvYmpJc09iaiAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgJ19fd3JhcHBlZF9fJyksXG4gICAgICAgIG90aElzV3JhcHBlZCA9IG90aElzT2JqICYmIGhhc093blByb3BlcnR5LmNhbGwob3RoZXIsICdfX3dyYXBwZWRfXycpO1xuXG4gICAgaWYgKG9iaklzV3JhcHBlZCB8fCBvdGhJc1dyYXBwZWQpIHtcbiAgICAgIHZhciBvYmpVbndyYXBwZWQgPSBvYmpJc1dyYXBwZWQgPyBvYmplY3QudmFsdWUoKSA6IG9iamVjdCxcbiAgICAgICAgICBvdGhVbndyYXBwZWQgPSBvdGhJc1dyYXBwZWQgPyBvdGhlci52YWx1ZSgpIDogb3RoZXI7XG5cbiAgICAgIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG4gICAgICByZXR1cm4gZXF1YWxGdW5jKG9ialVud3JhcHBlZCwgb3RoVW53cmFwcGVkLCBjdXN0b21pemVyLCBiaXRtYXNrLCBzdGFjayk7XG4gICAgfVxuICB9XG4gIGlmICghaXNTYW1lVGFnKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG4gIHJldHVybiBlcXVhbE9iamVjdHMob2JqZWN0LCBvdGhlciwgZXF1YWxGdW5jLCBjdXN0b21pemVyLCBiaXRtYXNrLCBzdGFjayk7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNNYXRjaGAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSB2YWx1ZXMgdG8gbWF0Y2guXG4gKiBAcGFyYW0ge0FycmF5fSBtYXRjaERhdGEgVGhlIHByb3BlcnR5IG5hbWVzLCB2YWx1ZXMsIGFuZCBjb21wYXJlIGZsYWdzIHRvIG1hdGNoLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYG9iamVjdGAgaXMgYSBtYXRjaCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBiYXNlSXNNYXRjaChvYmplY3QsIHNvdXJjZSwgbWF0Y2hEYXRhLCBjdXN0b21pemVyKSB7XG4gIHZhciBpbmRleCA9IG1hdGNoRGF0YS5sZW5ndGgsXG4gICAgICBsZW5ndGggPSBpbmRleCxcbiAgICAgIG5vQ3VzdG9taXplciA9ICFjdXN0b21pemVyO1xuXG4gIGlmIChvYmplY3QgPT0gbnVsbCkge1xuICAgIHJldHVybiAhbGVuZ3RoO1xuICB9XG4gIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuICB3aGlsZSAoaW5kZXgtLSkge1xuICAgIHZhciBkYXRhID0gbWF0Y2hEYXRhW2luZGV4XTtcbiAgICBpZiAoKG5vQ3VzdG9taXplciAmJiBkYXRhWzJdKVxuICAgICAgICAgID8gZGF0YVsxXSAhPT0gb2JqZWN0W2RhdGFbMF1dXG4gICAgICAgICAgOiAhKGRhdGFbMF0gaW4gb2JqZWN0KVxuICAgICAgICApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICBkYXRhID0gbWF0Y2hEYXRhW2luZGV4XTtcbiAgICB2YXIga2V5ID0gZGF0YVswXSxcbiAgICAgICAgb2JqVmFsdWUgPSBvYmplY3Rba2V5XSxcbiAgICAgICAgc3JjVmFsdWUgPSBkYXRhWzFdO1xuXG4gICAgaWYgKG5vQ3VzdG9taXplciAmJiBkYXRhWzJdKSB7XG4gICAgICBpZiAob2JqVmFsdWUgPT09IHVuZGVmaW5lZCAmJiAhKGtleSBpbiBvYmplY3QpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHN0YWNrID0gbmV3IFN0YWNrO1xuICAgICAgaWYgKGN1c3RvbWl6ZXIpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGN1c3RvbWl6ZXIob2JqVmFsdWUsIHNyY1ZhbHVlLCBrZXksIG9iamVjdCwgc291cmNlLCBzdGFjayk7XG4gICAgICB9XG4gICAgICBpZiAoIShyZXN1bHQgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyBiYXNlSXNFcXVhbChzcmNWYWx1ZSwgb2JqVmFsdWUsIGN1c3RvbWl6ZXIsIFVOT1JERVJFRF9DT01QQVJFX0ZMQUcgfCBQQVJUSUFMX0NPTVBBUkVfRkxBRywgc3RhY2spXG4gICAgICAgICAgICA6IHJlc3VsdFxuICAgICAgICAgICkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc05hdGl2ZWAgd2l0aG91dCBiYWQgc2hpbSBjaGVja3MuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBuYXRpdmUgZnVuY3Rpb24sXG4gKiAgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBiYXNlSXNOYXRpdmUodmFsdWUpIHtcbiAgaWYgKCFpc09iamVjdCh2YWx1ZSkgfHwgaXNNYXNrZWQodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBwYXR0ZXJuID0gKGlzRnVuY3Rpb24odmFsdWUpIHx8IGlzSG9zdE9iamVjdCh2YWx1ZSkpID8gcmVJc05hdGl2ZSA6IHJlSXNIb3N0Q3RvcjtcbiAgcmV0dXJuIHBhdHRlcm4udGVzdCh0b1NvdXJjZSh2YWx1ZSkpO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzVHlwZWRBcnJheWAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB0eXBlZCBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBiYXNlSXNUeXBlZEFycmF5KHZhbHVlKSB7XG4gIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmXG4gICAgaXNMZW5ndGgodmFsdWUubGVuZ3RoKSAmJiAhIXR5cGVkQXJyYXlUYWdzW29iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpXTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5rZXlzYCB3aGljaCBkb2Vzbid0IHRyZWF0IHNwYXJzZSBhcnJheXMgYXMgZGVuc2UuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gKi9cbmZ1bmN0aW9uIGJhc2VLZXlzKG9iamVjdCkge1xuICBpZiAoIWlzUHJvdG90eXBlKG9iamVjdCkpIHtcbiAgICByZXR1cm4gbmF0aXZlS2V5cyhvYmplY3QpO1xuICB9XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgZm9yICh2YXIga2V5IGluIE9iamVjdChvYmplY3QpKSB7XG4gICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpICYmIGtleSAhPSAnY29uc3RydWN0b3InKSB7XG4gICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxEZWVwYCBmb3IgYXJyYXlzIHdpdGggc3VwcG9ydCBmb3JcbiAqIHBhcnRpYWwgZGVlcCBjb21wYXJpc29ucy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge0FycmF5fSBvdGhlciBUaGUgb3RoZXIgYXJyYXkgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIG9mIGNvbXBhcmlzb24gZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgXG4gKiAgZm9yIG1vcmUgZGV0YWlscy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBzdGFjayBUcmFja3MgdHJhdmVyc2VkIGBhcnJheWAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYXJyYXlzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGVxdWFsQXJyYXlzKGFycmF5LCBvdGhlciwgZXF1YWxGdW5jLCBjdXN0b21pemVyLCBiaXRtYXNrLCBzdGFjaykge1xuICB2YXIgaXNQYXJ0aWFsID0gYml0bWFzayAmIFBBUlRJQUxfQ09NUEFSRV9GTEFHLFxuICAgICAgYXJyTGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgb3RoTGVuZ3RoID0gb3RoZXIubGVuZ3RoO1xuXG4gIGlmIChhcnJMZW5ndGggIT0gb3RoTGVuZ3RoICYmICEoaXNQYXJ0aWFsICYmIG90aExlbmd0aCA+IGFyckxlbmd0aCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgLy8gQXNzdW1lIGN5Y2xpYyB2YWx1ZXMgYXJlIGVxdWFsLlxuICB2YXIgc3RhY2tlZCA9IHN0YWNrLmdldChhcnJheSk7XG4gIGlmIChzdGFja2VkICYmIHN0YWNrLmdldChvdGhlcikpIHtcbiAgICByZXR1cm4gc3RhY2tlZCA9PSBvdGhlcjtcbiAgfVxuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIHJlc3VsdCA9IHRydWUsXG4gICAgICBzZWVuID0gKGJpdG1hc2sgJiBVTk9SREVSRURfQ09NUEFSRV9GTEFHKSA/IG5ldyBTZXRDYWNoZSA6IHVuZGVmaW5lZDtcblxuICBzdGFjay5zZXQoYXJyYXksIG90aGVyKTtcbiAgc3RhY2suc2V0KG90aGVyLCBhcnJheSk7XG5cbiAgLy8gSWdub3JlIG5vbi1pbmRleCBwcm9wZXJ0aWVzLlxuICB3aGlsZSAoKytpbmRleCA8IGFyckxlbmd0aCkge1xuICAgIHZhciBhcnJWYWx1ZSA9IGFycmF5W2luZGV4XSxcbiAgICAgICAgb3RoVmFsdWUgPSBvdGhlcltpbmRleF07XG5cbiAgICBpZiAoY3VzdG9taXplcikge1xuICAgICAgdmFyIGNvbXBhcmVkID0gaXNQYXJ0aWFsXG4gICAgICAgID8gY3VzdG9taXplcihvdGhWYWx1ZSwgYXJyVmFsdWUsIGluZGV4LCBvdGhlciwgYXJyYXksIHN0YWNrKVxuICAgICAgICA6IGN1c3RvbWl6ZXIoYXJyVmFsdWUsIG90aFZhbHVlLCBpbmRleCwgYXJyYXksIG90aGVyLCBzdGFjayk7XG4gICAgfVxuICAgIGlmIChjb21wYXJlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBpZiAoY29tcGFyZWQpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICAvLyBSZWN1cnNpdmVseSBjb21wYXJlIGFycmF5cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgIGlmIChzZWVuKSB7XG4gICAgICBpZiAoIWFycmF5U29tZShvdGhlciwgZnVuY3Rpb24ob3RoVmFsdWUsIG90aEluZGV4KSB7XG4gICAgICAgICAgICBpZiAoIXNlZW4uaGFzKG90aEluZGV4KSAmJlxuICAgICAgICAgICAgICAgIChhcnJWYWx1ZSA9PT0gb3RoVmFsdWUgfHwgZXF1YWxGdW5jKGFyclZhbHVlLCBvdGhWYWx1ZSwgY3VzdG9taXplciwgYml0bWFzaywgc3RhY2spKSkge1xuICAgICAgICAgICAgICByZXR1cm4gc2Vlbi5hZGQob3RoSW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pKSB7XG4gICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCEoXG4gICAgICAgICAgYXJyVmFsdWUgPT09IG90aFZhbHVlIHx8XG4gICAgICAgICAgICBlcXVhbEZ1bmMoYXJyVmFsdWUsIG90aFZhbHVlLCBjdXN0b21pemVyLCBiaXRtYXNrLCBzdGFjaylcbiAgICAgICAgKSkge1xuICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgc3RhY2tbJ2RlbGV0ZSddKGFycmF5KTtcbiAgc3RhY2tbJ2RlbGV0ZSddKG90aGVyKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VJc0VxdWFsRGVlcGAgZm9yIGNvbXBhcmluZyBvYmplY3RzIG9mXG4gKiB0aGUgc2FtZSBgdG9TdHJpbmdUYWdgLlxuICpcbiAqICoqTm90ZToqKiBUaGlzIGZ1bmN0aW9uIG9ubHkgc3VwcG9ydHMgY29tcGFyaW5nIHZhbHVlcyB3aXRoIHRhZ3Mgb2ZcbiAqIGBCb29sZWFuYCwgYERhdGVgLCBgRXJyb3JgLCBgTnVtYmVyYCwgYFJlZ0V4cGAsIG9yIGBTdHJpbmdgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvdGhlciBUaGUgb3RoZXIgb2JqZWN0IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGFnIFRoZSBgdG9TdHJpbmdUYWdgIG9mIHRoZSBvYmplY3RzIHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcXVhbEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRldGVybWluZSBlcXVpdmFsZW50cyBvZiB2YWx1ZXMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBvZiBjb21wYXJpc29uIGZsYWdzLiBTZWUgYGJhc2VJc0VxdWFsYFxuICogIGZvciBtb3JlIGRldGFpbHMuXG4gKiBAcGFyYW0ge09iamVjdH0gc3RhY2sgVHJhY2tzIHRyYXZlcnNlZCBgb2JqZWN0YCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBvYmplY3RzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGVxdWFsQnlUYWcob2JqZWN0LCBvdGhlciwgdGFnLCBlcXVhbEZ1bmMsIGN1c3RvbWl6ZXIsIGJpdG1hc2ssIHN0YWNrKSB7XG4gIHN3aXRjaCAodGFnKSB7XG4gICAgY2FzZSBkYXRhVmlld1RhZzpcbiAgICAgIGlmICgob2JqZWN0LmJ5dGVMZW5ndGggIT0gb3RoZXIuYnl0ZUxlbmd0aCkgfHxcbiAgICAgICAgICAob2JqZWN0LmJ5dGVPZmZzZXQgIT0gb3RoZXIuYnl0ZU9mZnNldCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgb2JqZWN0ID0gb2JqZWN0LmJ1ZmZlcjtcbiAgICAgIG90aGVyID0gb3RoZXIuYnVmZmVyO1xuXG4gICAgY2FzZSBhcnJheUJ1ZmZlclRhZzpcbiAgICAgIGlmICgob2JqZWN0LmJ5dGVMZW5ndGggIT0gb3RoZXIuYnl0ZUxlbmd0aCkgfHxcbiAgICAgICAgICAhZXF1YWxGdW5jKG5ldyBVaW50OEFycmF5KG9iamVjdCksIG5ldyBVaW50OEFycmF5KG90aGVyKSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICBjYXNlIGJvb2xUYWc6XG4gICAgY2FzZSBkYXRlVGFnOlxuICAgIGNhc2UgbnVtYmVyVGFnOlxuICAgICAgLy8gQ29lcmNlIGJvb2xlYW5zIHRvIGAxYCBvciBgMGAgYW5kIGRhdGVzIHRvIG1pbGxpc2Vjb25kcy5cbiAgICAgIC8vIEludmFsaWQgZGF0ZXMgYXJlIGNvZXJjZWQgdG8gYE5hTmAuXG4gICAgICByZXR1cm4gZXEoK29iamVjdCwgK290aGVyKTtcblxuICAgIGNhc2UgZXJyb3JUYWc6XG4gICAgICByZXR1cm4gb2JqZWN0Lm5hbWUgPT0gb3RoZXIubmFtZSAmJiBvYmplY3QubWVzc2FnZSA9PSBvdGhlci5tZXNzYWdlO1xuXG4gICAgY2FzZSByZWdleHBUYWc6XG4gICAgY2FzZSBzdHJpbmdUYWc6XG4gICAgICAvLyBDb2VyY2UgcmVnZXhlcyB0byBzdHJpbmdzIGFuZCB0cmVhdCBzdHJpbmdzLCBwcmltaXRpdmVzIGFuZCBvYmplY3RzLFxuICAgICAgLy8gYXMgZXF1YWwuIFNlZSBodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtcmVnZXhwLnByb3RvdHlwZS50b3N0cmluZ1xuICAgICAgLy8gZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgIHJldHVybiBvYmplY3QgPT0gKG90aGVyICsgJycpO1xuXG4gICAgY2FzZSBtYXBUYWc6XG4gICAgICB2YXIgY29udmVydCA9IG1hcFRvQXJyYXk7XG5cbiAgICBjYXNlIHNldFRhZzpcbiAgICAgIHZhciBpc1BhcnRpYWwgPSBiaXRtYXNrICYgUEFSVElBTF9DT01QQVJFX0ZMQUc7XG4gICAgICBjb252ZXJ0IHx8IChjb252ZXJ0ID0gc2V0VG9BcnJheSk7XG5cbiAgICAgIGlmIChvYmplY3Quc2l6ZSAhPSBvdGhlci5zaXplICYmICFpc1BhcnRpYWwpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgLy8gQXNzdW1lIGN5Y2xpYyB2YWx1ZXMgYXJlIGVxdWFsLlxuICAgICAgdmFyIHN0YWNrZWQgPSBzdGFjay5nZXQob2JqZWN0KTtcbiAgICAgIGlmIChzdGFja2VkKSB7XG4gICAgICAgIHJldHVybiBzdGFja2VkID09IG90aGVyO1xuICAgICAgfVxuICAgICAgYml0bWFzayB8PSBVTk9SREVSRURfQ09NUEFSRV9GTEFHO1xuXG4gICAgICAvLyBSZWN1cnNpdmVseSBjb21wYXJlIG9iamVjdHMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgIHN0YWNrLnNldChvYmplY3QsIG90aGVyKTtcbiAgICAgIHZhciByZXN1bHQgPSBlcXVhbEFycmF5cyhjb252ZXJ0KG9iamVjdCksIGNvbnZlcnQob3RoZXIpLCBlcXVhbEZ1bmMsIGN1c3RvbWl6ZXIsIGJpdG1hc2ssIHN0YWNrKTtcbiAgICAgIHN0YWNrWydkZWxldGUnXShvYmplY3QpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcblxuICAgIGNhc2Ugc3ltYm9sVGFnOlxuICAgICAgaWYgKHN5bWJvbFZhbHVlT2YpIHtcbiAgICAgICAgcmV0dXJuIHN5bWJvbFZhbHVlT2YuY2FsbChvYmplY3QpID09IHN5bWJvbFZhbHVlT2YuY2FsbChvdGhlcik7XG4gICAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxEZWVwYCBmb3Igb2JqZWN0cyB3aXRoIHN1cHBvcnQgZm9yXG4gKiBwYXJ0aWFsIGRlZXAgY29tcGFyaXNvbnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjb21wYXJlLlxuICogQHBhcmFtIHtPYmplY3R9IG90aGVyIFRoZSBvdGhlciBvYmplY3QgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIG9mIGNvbXBhcmlzb24gZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgXG4gKiAgZm9yIG1vcmUgZGV0YWlscy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBzdGFjayBUcmFja3MgdHJhdmVyc2VkIGBvYmplY3RgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG9iamVjdHMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gZXF1YWxPYmplY3RzKG9iamVjdCwgb3RoZXIsIGVxdWFsRnVuYywgY3VzdG9taXplciwgYml0bWFzaywgc3RhY2spIHtcbiAgdmFyIGlzUGFydGlhbCA9IGJpdG1hc2sgJiBQQVJUSUFMX0NPTVBBUkVfRkxBRyxcbiAgICAgIG9ialByb3BzID0ga2V5cyhvYmplY3QpLFxuICAgICAgb2JqTGVuZ3RoID0gb2JqUHJvcHMubGVuZ3RoLFxuICAgICAgb3RoUHJvcHMgPSBrZXlzKG90aGVyKSxcbiAgICAgIG90aExlbmd0aCA9IG90aFByb3BzLmxlbmd0aDtcblxuICBpZiAob2JqTGVuZ3RoICE9IG90aExlbmd0aCAmJiAhaXNQYXJ0aWFsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBpbmRleCA9IG9iakxlbmd0aDtcbiAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICB2YXIga2V5ID0gb2JqUHJvcHNbaW5kZXhdO1xuICAgIGlmICghKGlzUGFydGlhbCA/IGtleSBpbiBvdGhlciA6IGhhc093blByb3BlcnR5LmNhbGwob3RoZXIsIGtleSkpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIC8vIEFzc3VtZSBjeWNsaWMgdmFsdWVzIGFyZSBlcXVhbC5cbiAgdmFyIHN0YWNrZWQgPSBzdGFjay5nZXQob2JqZWN0KTtcbiAgaWYgKHN0YWNrZWQgJiYgc3RhY2suZ2V0KG90aGVyKSkge1xuICAgIHJldHVybiBzdGFja2VkID09IG90aGVyO1xuICB9XG4gIHZhciByZXN1bHQgPSB0cnVlO1xuICBzdGFjay5zZXQob2JqZWN0LCBvdGhlcik7XG4gIHN0YWNrLnNldChvdGhlciwgb2JqZWN0KTtcblxuICB2YXIgc2tpcEN0b3IgPSBpc1BhcnRpYWw7XG4gIHdoaWxlICgrK2luZGV4IDwgb2JqTGVuZ3RoKSB7XG4gICAga2V5ID0gb2JqUHJvcHNbaW5kZXhdO1xuICAgIHZhciBvYmpWYWx1ZSA9IG9iamVjdFtrZXldLFxuICAgICAgICBvdGhWYWx1ZSA9IG90aGVyW2tleV07XG5cbiAgICBpZiAoY3VzdG9taXplcikge1xuICAgICAgdmFyIGNvbXBhcmVkID0gaXNQYXJ0aWFsXG4gICAgICAgID8gY3VzdG9taXplcihvdGhWYWx1ZSwgb2JqVmFsdWUsIGtleSwgb3RoZXIsIG9iamVjdCwgc3RhY2spXG4gICAgICAgIDogY3VzdG9taXplcihvYmpWYWx1ZSwgb3RoVmFsdWUsIGtleSwgb2JqZWN0LCBvdGhlciwgc3RhY2spO1xuICAgIH1cbiAgICAvLyBSZWN1cnNpdmVseSBjb21wYXJlIG9iamVjdHMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICBpZiAoIShjb21wYXJlZCA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgPyAob2JqVmFsdWUgPT09IG90aFZhbHVlIHx8IGVxdWFsRnVuYyhvYmpWYWx1ZSwgb3RoVmFsdWUsIGN1c3RvbWl6ZXIsIGJpdG1hc2ssIHN0YWNrKSlcbiAgICAgICAgICA6IGNvbXBhcmVkXG4gICAgICAgICkpIHtcbiAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHNraXBDdG9yIHx8IChza2lwQ3RvciA9IGtleSA9PSAnY29uc3RydWN0b3InKTtcbiAgfVxuICBpZiAocmVzdWx0ICYmICFza2lwQ3Rvcikge1xuICAgIHZhciBvYmpDdG9yID0gb2JqZWN0LmNvbnN0cnVjdG9yLFxuICAgICAgICBvdGhDdG9yID0gb3RoZXIuY29uc3RydWN0b3I7XG5cbiAgICAvLyBOb24gYE9iamVjdGAgb2JqZWN0IGluc3RhbmNlcyB3aXRoIGRpZmZlcmVudCBjb25zdHJ1Y3RvcnMgYXJlIG5vdCBlcXVhbC5cbiAgICBpZiAob2JqQ3RvciAhPSBvdGhDdG9yICYmXG4gICAgICAgICgnY29uc3RydWN0b3InIGluIG9iamVjdCAmJiAnY29uc3RydWN0b3InIGluIG90aGVyKSAmJlxuICAgICAgICAhKHR5cGVvZiBvYmpDdG9yID09ICdmdW5jdGlvbicgJiYgb2JqQ3RvciBpbnN0YW5jZW9mIG9iakN0b3IgJiZcbiAgICAgICAgICB0eXBlb2Ygb3RoQ3RvciA9PSAnZnVuY3Rpb24nICYmIG90aEN0b3IgaW5zdGFuY2VvZiBvdGhDdG9yKSkge1xuICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgfVxuICB9XG4gIHN0YWNrWydkZWxldGUnXShvYmplY3QpO1xuICBzdGFja1snZGVsZXRlJ10ob3RoZXIpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEdldHMgdGhlIGRhdGEgZm9yIGBtYXBgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gbWFwIFRoZSBtYXAgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSByZWZlcmVuY2Uga2V5LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1hcCBkYXRhLlxuICovXG5mdW5jdGlvbiBnZXRNYXBEYXRhKG1hcCwga2V5KSB7XG4gIHZhciBkYXRhID0gbWFwLl9fZGF0YV9fO1xuICByZXR1cm4gaXNLZXlhYmxlKGtleSlcbiAgICA/IGRhdGFbdHlwZW9mIGtleSA9PSAnc3RyaW5nJyA/ICdzdHJpbmcnIDogJ2hhc2gnXVxuICAgIDogZGF0YS5tYXA7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgcHJvcGVydHkgbmFtZXMsIHZhbHVlcywgYW5kIGNvbXBhcmUgZmxhZ3Mgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbWF0Y2ggZGF0YSBvZiBgb2JqZWN0YC5cbiAqL1xuZnVuY3Rpb24gZ2V0TWF0Y2hEYXRhKG9iamVjdCkge1xuICB2YXIgcmVzdWx0ID0ga2V5cyhvYmplY3QpLFxuICAgICAgbGVuZ3RoID0gcmVzdWx0Lmxlbmd0aDtcblxuICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICB2YXIga2V5ID0gcmVzdWx0W2xlbmd0aF0sXG4gICAgICAgIHZhbHVlID0gb2JqZWN0W2tleV07XG5cbiAgICByZXN1bHRbbGVuZ3RoXSA9IFtrZXksIHZhbHVlLCBpc1N0cmljdENvbXBhcmFibGUodmFsdWUpXTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEdldHMgdGhlIG5hdGl2ZSBmdW5jdGlvbiBhdCBga2V5YCBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBtZXRob2QgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGZ1bmN0aW9uIGlmIGl0J3MgbmF0aXZlLCBlbHNlIGB1bmRlZmluZWRgLlxuICovXG5mdW5jdGlvbiBnZXROYXRpdmUob2JqZWN0LCBrZXkpIHtcbiAgdmFyIHZhbHVlID0gZ2V0VmFsdWUob2JqZWN0LCBrZXkpO1xuICByZXR1cm4gYmFzZUlzTmF0aXZlKHZhbHVlKSA/IHZhbHVlIDogdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIGB0b1N0cmluZ1RhZ2Agb2YgYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBgdG9TdHJpbmdUYWdgLlxuICovXG52YXIgZ2V0VGFnID0gYmFzZUdldFRhZztcblxuLy8gRmFsbGJhY2sgZm9yIGRhdGEgdmlld3MsIG1hcHMsIHNldHMsIGFuZCB3ZWFrIG1hcHMgaW4gSUUgMTEsXG4vLyBmb3IgZGF0YSB2aWV3cyBpbiBFZGdlIDwgMTQsIGFuZCBwcm9taXNlcyBpbiBOb2RlLmpzLlxuaWYgKChEYXRhVmlldyAmJiBnZXRUYWcobmV3IERhdGFWaWV3KG5ldyBBcnJheUJ1ZmZlcigxKSkpICE9IGRhdGFWaWV3VGFnKSB8fFxuICAgIChNYXAgJiYgZ2V0VGFnKG5ldyBNYXApICE9IG1hcFRhZykgfHxcbiAgICAoUHJvbWlzZSAmJiBnZXRUYWcoUHJvbWlzZS5yZXNvbHZlKCkpICE9IHByb21pc2VUYWcpIHx8XG4gICAgKFNldCAmJiBnZXRUYWcobmV3IFNldCkgIT0gc2V0VGFnKSB8fFxuICAgIChXZWFrTWFwICYmIGdldFRhZyhuZXcgV2Vha01hcCkgIT0gd2Vha01hcFRhZykpIHtcbiAgZ2V0VGFnID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICB2YXIgcmVzdWx0ID0gb2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSksXG4gICAgICAgIEN0b3IgPSByZXN1bHQgPT0gb2JqZWN0VGFnID8gdmFsdWUuY29uc3RydWN0b3IgOiB1bmRlZmluZWQsXG4gICAgICAgIGN0b3JTdHJpbmcgPSBDdG9yID8gdG9Tb3VyY2UoQ3RvcikgOiB1bmRlZmluZWQ7XG5cbiAgICBpZiAoY3RvclN0cmluZykge1xuICAgICAgc3dpdGNoIChjdG9yU3RyaW5nKSB7XG4gICAgICAgIGNhc2UgZGF0YVZpZXdDdG9yU3RyaW5nOiByZXR1cm4gZGF0YVZpZXdUYWc7XG4gICAgICAgIGNhc2UgbWFwQ3RvclN0cmluZzogcmV0dXJuIG1hcFRhZztcbiAgICAgICAgY2FzZSBwcm9taXNlQ3RvclN0cmluZzogcmV0dXJuIHByb21pc2VUYWc7XG4gICAgICAgIGNhc2Ugc2V0Q3RvclN0cmluZzogcmV0dXJuIHNldFRhZztcbiAgICAgICAgY2FzZSB3ZWFrTWFwQ3RvclN0cmluZzogcmV0dXJuIHdlYWtNYXBUYWc7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBhcnJheS1saWtlIGluZGV4LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoPU1BWF9TQUZFX0lOVEVHRVJdIFRoZSB1cHBlciBib3VuZHMgb2YgYSB2YWxpZCBpbmRleC5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgaW5kZXgsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNJbmRleCh2YWx1ZSwgbGVuZ3RoKSB7XG4gIGxlbmd0aCA9IGxlbmd0aCA9PSBudWxsID8gTUFYX1NBRkVfSU5URUdFUiA6IGxlbmd0aDtcbiAgcmV0dXJuICEhbGVuZ3RoICYmXG4gICAgKHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyB8fCByZUlzVWludC50ZXN0KHZhbHVlKSkgJiZcbiAgICAodmFsdWUgPiAtMSAmJiB2YWx1ZSAlIDEgPT0gMCAmJiB2YWx1ZSA8IGxlbmd0aCk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgc3VpdGFibGUgZm9yIHVzZSBhcyB1bmlxdWUgb2JqZWN0IGtleS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBzdWl0YWJsZSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0tleWFibGUodmFsdWUpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIHJldHVybiAodHlwZSA9PSAnc3RyaW5nJyB8fCB0eXBlID09ICdudW1iZXInIHx8IHR5cGUgPT0gJ3N5bWJvbCcgfHwgdHlwZSA9PSAnYm9vbGVhbicpXG4gICAgPyAodmFsdWUgIT09ICdfX3Byb3RvX18nKVxuICAgIDogKHZhbHVlID09PSBudWxsKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYGZ1bmNgIGhhcyBpdHMgc291cmNlIG1hc2tlZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGZ1bmNgIGlzIG1hc2tlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc01hc2tlZChmdW5jKSB7XG4gIHJldHVybiAhIW1hc2tTcmNLZXkgJiYgKG1hc2tTcmNLZXkgaW4gZnVuYyk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGlrZWx5IGEgcHJvdG90eXBlIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHByb3RvdHlwZSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc1Byb3RvdHlwZSh2YWx1ZSkge1xuICB2YXIgQ3RvciA9IHZhbHVlICYmIHZhbHVlLmNvbnN0cnVjdG9yLFxuICAgICAgcHJvdG8gPSAodHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBDdG9yLnByb3RvdHlwZSkgfHwgb2JqZWN0UHJvdG87XG5cbiAgcmV0dXJuIHZhbHVlID09PSBwcm90bztcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBzdWl0YWJsZSBmb3Igc3RyaWN0IGVxdWFsaXR5IGNvbXBhcmlzb25zLCBpLmUuIGA9PT1gLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlmIHN1aXRhYmxlIGZvciBzdHJpY3RcbiAqICBlcXVhbGl0eSBjb21wYXJpc29ucywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc1N0cmljdENvbXBhcmFibGUodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlID09PSB2YWx1ZSAmJiAhaXNPYmplY3QodmFsdWUpO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGBmdW5jYCB0byBpdHMgc291cmNlIGNvZGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHByb2Nlc3MuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzb3VyY2UgY29kZS5cbiAqL1xuZnVuY3Rpb24gdG9Tb3VyY2UoZnVuYykge1xuICBpZiAoZnVuYyAhPSBudWxsKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBmdW5jVG9TdHJpbmcuY2FsbChmdW5jKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICAgIHRyeSB7XG4gICAgICByZXR1cm4gKGZ1bmMgKyAnJyk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgfVxuICByZXR1cm4gJyc7XG59XG5cbi8qKlxuICogUGVyZm9ybXMgYVxuICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAqIGNvbXBhcmlzb24gYmV0d2VlbiB0d28gdmFsdWVzIHRvIGRldGVybWluZSBpZiB0aGV5IGFyZSBlcXVpdmFsZW50LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3QgPSB7ICdhJzogMSB9O1xuICogdmFyIG90aGVyID0geyAnYSc6IDEgfTtcbiAqXG4gKiBfLmVxKG9iamVjdCwgb2JqZWN0KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmVxKG9iamVjdCwgb3RoZXIpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmVxKCdhJywgJ2EnKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmVxKCdhJywgT2JqZWN0KCdhJykpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmVxKE5hTiwgTmFOKTtcbiAqIC8vID0+IHRydWVcbiAqL1xuZnVuY3Rpb24gZXEodmFsdWUsIG90aGVyKSB7XG4gIHJldHVybiB2YWx1ZSA9PT0gb3RoZXIgfHwgKHZhbHVlICE9PSB2YWx1ZSAmJiBvdGhlciAhPT0gb3RoZXIpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxpa2VseSBhbiBgYXJndW1lbnRzYCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LFxuICogIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FyZ3VtZW50cyhmdW5jdGlvbigpIHsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJndW1lbnRzKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FyZ3VtZW50cyh2YWx1ZSkge1xuICAvLyBTYWZhcmkgOC4xIG1ha2VzIGBhcmd1bWVudHMuY2FsbGVlYCBlbnVtZXJhYmxlIGluIHN0cmljdCBtb2RlLlxuICByZXR1cm4gaXNBcnJheUxpa2VPYmplY3QodmFsdWUpICYmIGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsICdjYWxsZWUnKSAmJlxuICAgICghcHJvcGVydHlJc0VudW1lcmFibGUuY2FsbCh2YWx1ZSwgJ2NhbGxlZScpIHx8IG9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpID09IGFyZ3NUYWcpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYW4gYEFycmF5YCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FycmF5KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5KGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzQXJyYXkoJ2FiYycpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzQXJyYXkoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhcnJheS1saWtlLiBBIHZhbHVlIGlzIGNvbnNpZGVyZWQgYXJyYXktbGlrZSBpZiBpdCdzXG4gKiBub3QgYSBmdW5jdGlvbiBhbmQgaGFzIGEgYHZhbHVlLmxlbmd0aGAgdGhhdCdzIGFuIGludGVnZXIgZ3JlYXRlciB0aGFuIG9yXG4gKiBlcXVhbCB0byBgMGAgYW5kIGxlc3MgdGhhbiBvciBlcXVhbCB0byBgTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVJgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFycmF5LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FycmF5TGlrZShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZSgnYWJjJyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNBcnJheUxpa2UodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgaXNMZW5ndGgodmFsdWUubGVuZ3RoKSAmJiAhaXNGdW5jdGlvbih2YWx1ZSk7XG59XG5cbi8qKlxuICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pc0FycmF5TGlrZWAgZXhjZXB0IHRoYXQgaXQgYWxzbyBjaGVja3MgaWYgYHZhbHVlYFxuICogaXMgYW4gb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5LWxpa2Ugb2JqZWN0LFxuICogIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FycmF5TGlrZU9iamVjdChbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2VPYmplY3QoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZU9iamVjdCgnYWJjJyk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNBcnJheUxpa2VPYmplY3QoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXlMaWtlT2JqZWN0KHZhbHVlKSB7XG4gIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGlzQXJyYXlMaWtlKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYEZ1bmN0aW9uYCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBmdW5jdGlvbiwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzRnVuY3Rpb24oXyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0Z1bmN0aW9uKC9hYmMvKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHtcbiAgLy8gVGhlIHVzZSBvZiBgT2JqZWN0I3RvU3RyaW5nYCBhdm9pZHMgaXNzdWVzIHdpdGggdGhlIGB0eXBlb2ZgIG9wZXJhdG9yXG4gIC8vIGluIFNhZmFyaSA4LTkgd2hpY2ggcmV0dXJucyAnb2JqZWN0JyBmb3IgdHlwZWQgYXJyYXkgYW5kIG90aGVyIGNvbnN0cnVjdG9ycy5cbiAgdmFyIHRhZyA9IGlzT2JqZWN0KHZhbHVlKSA/IG9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpIDogJyc7XG4gIHJldHVybiB0YWcgPT0gZnVuY1RhZyB8fCB0YWcgPT0gZ2VuVGFnO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBsZW5ndGguXG4gKlxuICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGxvb3NlbHkgYmFzZWQgb25cbiAqIFtgVG9MZW5ndGhgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy10b2xlbmd0aCkuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBsZW5ndGgsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0xlbmd0aCgzKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzTGVuZ3RoKE51bWJlci5NSU5fVkFMVUUpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzTGVuZ3RoKEluZmluaXR5KTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0xlbmd0aCgnMycpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNMZW5ndGgodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyAmJlxuICAgIHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPD0gTUFYX1NBRkVfSU5URUdFUjtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyB0aGVcbiAqIFtsYW5ndWFnZSB0eXBlXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtZWNtYXNjcmlwdC1sYW5ndWFnZS10eXBlcylcbiAqIG9mIGBPYmplY3RgLiAoZS5nLiBhcnJheXMsIGZ1bmN0aW9ucywgb2JqZWN0cywgcmVnZXhlcywgYG5ldyBOdW1iZXIoMClgLCBhbmQgYG5ldyBTdHJpbmcoJycpYClcbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdCh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoXy5ub29wKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIHJldHVybiAhIXZhbHVlICYmICh0eXBlID09ICdvYmplY3QnIHx8IHR5cGUgPT0gJ2Z1bmN0aW9uJyk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UuIEEgdmFsdWUgaXMgb2JqZWN0LWxpa2UgaWYgaXQncyBub3QgYG51bGxgXG4gKiBhbmQgaGFzIGEgYHR5cGVvZmAgcmVzdWx0IG9mIFwib2JqZWN0XCIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdExpa2Uoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc09iamVjdExpa2UobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdExpa2UodmFsdWUpIHtcbiAgcmV0dXJuICEhdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnO1xufVxuXG4vKipcbiAqIFBlcmZvcm1zIGEgcGFydGlhbCBkZWVwIGNvbXBhcmlzb24gYmV0d2VlbiBgb2JqZWN0YCBhbmQgYHNvdXJjZWAgdG9cbiAqIGRldGVybWluZSBpZiBgb2JqZWN0YCBjb250YWlucyBlcXVpdmFsZW50IHByb3BlcnR5IHZhbHVlcy5cbiAqXG4gKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgZXF1aXZhbGVudCB0byBgXy5tYXRjaGVzYCB3aGVuIGBzb3VyY2VgIGlzXG4gKiBwYXJ0aWFsbHkgYXBwbGllZC5cbiAqXG4gKiBQYXJ0aWFsIGNvbXBhcmlzb25zIHdpbGwgbWF0Y2ggZW1wdHkgYXJyYXkgYW5kIGVtcHR5IG9iamVjdCBgc291cmNlYFxuICogdmFsdWVzIGFnYWluc3QgYW55IGFycmF5IG9yIG9iamVjdCB2YWx1ZSwgcmVzcGVjdGl2ZWx5LiBTZWUgYF8uaXNFcXVhbGBcbiAqIGZvciBhIGxpc3Qgb2Ygc3VwcG9ydGVkIHZhbHVlIGNvbXBhcmlzb25zLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMy4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSB2YWx1ZXMgdG8gbWF0Y2guXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYG9iamVjdGAgaXMgYSBtYXRjaCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogMiB9O1xuICpcbiAqIF8uaXNNYXRjaChvYmplY3QsIHsgJ2InOiAyIH0pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNNYXRjaChvYmplY3QsIHsgJ2InOiAxIH0pO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNNYXRjaChvYmplY3QsIHNvdXJjZSkge1xuICByZXR1cm4gb2JqZWN0ID09PSBzb3VyY2UgfHwgYmFzZUlzTWF0Y2gob2JqZWN0LCBzb3VyY2UsIGdldE1hdGNoRGF0YShzb3VyY2UpKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgdHlwZWQgYXJyYXkuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAzLjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB0eXBlZCBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzVHlwZWRBcnJheShuZXcgVWludDhBcnJheSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc1R5cGVkQXJyYXkoW10pO1xuICogLy8gPT4gZmFsc2VcbiAqL1xudmFyIGlzVHlwZWRBcnJheSA9IG5vZGVJc1R5cGVkQXJyYXkgPyBiYXNlVW5hcnkobm9kZUlzVHlwZWRBcnJheSkgOiBiYXNlSXNUeXBlZEFycmF5O1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIG9mIGBvYmplY3RgLlxuICpcbiAqICoqTm90ZToqKiBOb24tb2JqZWN0IHZhbHVlcyBhcmUgY29lcmNlZCB0byBvYmplY3RzLiBTZWUgdGhlXG4gKiBbRVMgc3BlY10oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LmtleXMpXG4gKiBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBzaW5jZSAwLjEuMFxuICogQG1lbWJlck9mIF9cbiAqIEBjYXRlZ29yeSBPYmplY3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gKiBAZXhhbXBsZVxuICpcbiAqIGZ1bmN0aW9uIEZvbygpIHtcbiAqICAgdGhpcy5hID0gMTtcbiAqICAgdGhpcy5iID0gMjtcbiAqIH1cbiAqXG4gKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICpcbiAqIF8ua2V5cyhuZXcgRm9vKTtcbiAqIC8vID0+IFsnYScsICdiJ10gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAqXG4gKiBfLmtleXMoJ2hpJyk7XG4gKiAvLyA9PiBbJzAnLCAnMSddXG4gKi9cbmZ1bmN0aW9uIGtleXMob2JqZWN0KSB7XG4gIHJldHVybiBpc0FycmF5TGlrZShvYmplY3QpID8gYXJyYXlMaWtlS2V5cyhvYmplY3QpIDogYmFzZUtleXMob2JqZWN0KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc01hdGNoO1xuIiwgIid1c2Ugc3RyaWN0Jztcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG9iaiwgbW9kaWZpZXIpIHtcblx0dmFyIGtleTtcblx0dmFyIHZhbDtcblx0dmFyIHJldCA9IHt9O1xuXHR2YXIga2V5cyA9IE9iamVjdC5rZXlzKE9iamVjdChvYmopKTtcblxuXHRmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcblx0XHRrZXkgPSBrZXlzW2ldO1xuXHRcdHZhbCA9IG9ialtrZXldO1xuXHRcdHJldFtrZXldID0gbW9kaWZpZXIodmFsLCBrZXkpO1xuXHR9XG5cblx0cmV0dXJuIHJldDtcbn07XG4iLCAiJ3VzZSBzdHJpY3QnXG5cbmNvbnN0IGlzTWF0Y2ggPSByZXF1aXJlKCdsb2Rhc2guaXNtYXRjaCcpXG5jb25zdCBtb2RpZnlWYWx1ZXMgPSByZXF1aXJlKCdtb2RpZnktdmFsdWVzJylcblxuZnVuY3Rpb24gbW9kaWZ5VmFsdWUgKHZhbCkge1xuICBpZiAodHlwZW9mIHZhbCA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gdmFsLnRyaW0oKVxuICB9XG5cbiAgcmV0dXJuIHZhbFxufVxuXG5mdW5jdGlvbiBjb252ZW50aW9uYWxDb21taXRzRmlsdGVyIChjb21taXRzKSB7XG4gIGlmICghQXJyYXkuaXNBcnJheShjb21taXRzKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0V4cGVjdGVkIGFuIGFycmF5JylcbiAgfVxuXG4gIGxldCByZXQgPSBbXVxuICBjb25zdCBpZ25vcmVzID0gW11cbiAgY29uc3QgcmVtb3ZlID0gW11cbiAgY29tbWl0cy5mb3JFYWNoKGZ1bmN0aW9uIChjb21taXQpIHtcbiAgICBpZiAoY29tbWl0LnJldmVydCkge1xuICAgICAgaWdub3Jlcy5wdXNoKGNvbW1pdClcbiAgICB9XG5cbiAgICByZXQucHVzaChjb21taXQpXG4gIH0pXG5cbiAgLy8gRmlsdGVyIG91dCByZXZlcnRlZCBjb21taXRzXG4gIHJldCA9IHJldC5maWx0ZXIoZnVuY3Rpb24gKGNvbW1pdCkge1xuICAgIGxldCBpZ25vcmVUaGlzID0gZmFsc2VcblxuICAgIGNvbW1pdCA9IGNvbW1pdC5yYXcgPyBtb2RpZnlWYWx1ZXMoY29tbWl0LnJhdywgbW9kaWZ5VmFsdWUpIDogbW9kaWZ5VmFsdWVzKGNvbW1pdCwgbW9kaWZ5VmFsdWUpXG5cbiAgICBpZ25vcmVzLnNvbWUoZnVuY3Rpb24gKGlnbm9yZUNvbW1pdCkge1xuICAgICAgY29uc3QgaWdub3JlID0gbW9kaWZ5VmFsdWVzKGlnbm9yZUNvbW1pdC5yZXZlcnQsIG1vZGlmeVZhbHVlKVxuXG4gICAgICBpZ25vcmVUaGlzID0gaXNNYXRjaChjb21taXQsIGlnbm9yZSlcblxuICAgICAgaWYgKGlnbm9yZVRoaXMpIHtcbiAgICAgICAgcmVtb3ZlLnB1c2goaWdub3JlQ29tbWl0Lmhhc2gpXG4gICAgICB9XG5cbiAgICAgIHJldHVybiBpZ25vcmVUaGlzXG4gICAgfSlcblxuICAgIHJldHVybiAhaWdub3JlVGhpc1xuICB9KVxuXG4gIC8vIEZpbHRlciBvdXQgdGhlIGNvbW1pdHMgdGhhdCByZXZlcnRlZCBzb21ldGhpbmcgb3RoZXJ3aXNlIGtlZXAgdGhlIHJldmVydCBjb21taXRzXG4gIHJldCA9IHJldC5maWx0ZXIoZnVuY3Rpb24gKGNvbW1pdCkge1xuICAgIHJldHVybiByZW1vdmUuaW5kZXhPZihjb21taXQuaGFzaCkgIT09IDBcbiAgfSlcblxuICByZXR1cm4gcmV0XG59XG5cbm1vZHVsZS5leHBvcnRzID0gY29udmVudGlvbmFsQ29tbWl0c0ZpbHRlclxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIExvZGFzaCA8aHR0cHM6Ly9sb2Rhc2guY29tLz5cbiAqIENvcHlyaWdodCBPcGVuSlMgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzIDxodHRwczovL29wZW5qc2Yub3JnLz5cbiAqIFJlbGVhc2VkIHVuZGVyIE1JVCBsaWNlbnNlIDxodHRwczovL2xvZGFzaC5jb20vbGljZW5zZT5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS44LjMgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcbiAqL1xuOyhmdW5jdGlvbigpIHtcblxuICAvKiogVXNlZCBhcyBhIHNhZmUgcmVmZXJlbmNlIGZvciBgdW5kZWZpbmVkYCBpbiBwcmUtRVM1IGVudmlyb25tZW50cy4gKi9cbiAgdmFyIHVuZGVmaW5lZDtcblxuICAvKiogVXNlZCBhcyB0aGUgc2VtYW50aWMgdmVyc2lvbiBudW1iZXIuICovXG4gIHZhciBWRVJTSU9OID0gJzQuMTcuMjEnO1xuXG4gIC8qKiBVc2VkIGFzIHRoZSBzaXplIHRvIGVuYWJsZSBsYXJnZSBhcnJheSBvcHRpbWl6YXRpb25zLiAqL1xuICB2YXIgTEFSR0VfQVJSQVlfU0laRSA9IDIwMDtcblxuICAvKiogRXJyb3IgbWVzc2FnZSBjb25zdGFudHMuICovXG4gIHZhciBDT1JFX0VSUk9SX1RFWFQgPSAnVW5zdXBwb3J0ZWQgY29yZS1qcyB1c2UuIFRyeSBodHRwczovL25wbXMuaW8vc2VhcmNoP3E9cG9ueWZpbGwuJyxcbiAgICAgIEZVTkNfRVJST1JfVEVYVCA9ICdFeHBlY3RlZCBhIGZ1bmN0aW9uJyxcbiAgICAgIElOVkFMSURfVEVNUExfVkFSX0VSUk9SX1RFWFQgPSAnSW52YWxpZCBgdmFyaWFibGVgIG9wdGlvbiBwYXNzZWQgaW50byBgXy50ZW1wbGF0ZWAnO1xuXG4gIC8qKiBVc2VkIHRvIHN0YW5kLWluIGZvciBgdW5kZWZpbmVkYCBoYXNoIHZhbHVlcy4gKi9cbiAgdmFyIEhBU0hfVU5ERUZJTkVEID0gJ19fbG9kYXNoX2hhc2hfdW5kZWZpbmVkX18nO1xuXG4gIC8qKiBVc2VkIGFzIHRoZSBtYXhpbXVtIG1lbW9pemUgY2FjaGUgc2l6ZS4gKi9cbiAgdmFyIE1BWF9NRU1PSVpFX1NJWkUgPSA1MDA7XG5cbiAgLyoqIFVzZWQgYXMgdGhlIGludGVybmFsIGFyZ3VtZW50IHBsYWNlaG9sZGVyLiAqL1xuICB2YXIgUExBQ0VIT0xERVIgPSAnX19sb2Rhc2hfcGxhY2Vob2xkZXJfXyc7XG5cbiAgLyoqIFVzZWQgdG8gY29tcG9zZSBiaXRtYXNrcyBmb3IgY2xvbmluZy4gKi9cbiAgdmFyIENMT05FX0RFRVBfRkxBRyA9IDEsXG4gICAgICBDTE9ORV9GTEFUX0ZMQUcgPSAyLFxuICAgICAgQ0xPTkVfU1lNQk9MU19GTEFHID0gNDtcblxuICAvKiogVXNlZCB0byBjb21wb3NlIGJpdG1hc2tzIGZvciB2YWx1ZSBjb21wYXJpc29ucy4gKi9cbiAgdmFyIENPTVBBUkVfUEFSVElBTF9GTEFHID0gMSxcbiAgICAgIENPTVBBUkVfVU5PUkRFUkVEX0ZMQUcgPSAyO1xuXG4gIC8qKiBVc2VkIHRvIGNvbXBvc2UgYml0bWFza3MgZm9yIGZ1bmN0aW9uIG1ldGFkYXRhLiAqL1xuICB2YXIgV1JBUF9CSU5EX0ZMQUcgPSAxLFxuICAgICAgV1JBUF9CSU5EX0tFWV9GTEFHID0gMixcbiAgICAgIFdSQVBfQ1VSUllfQk9VTkRfRkxBRyA9IDQsXG4gICAgICBXUkFQX0NVUlJZX0ZMQUcgPSA4LFxuICAgICAgV1JBUF9DVVJSWV9SSUdIVF9GTEFHID0gMTYsXG4gICAgICBXUkFQX1BBUlRJQUxfRkxBRyA9IDMyLFxuICAgICAgV1JBUF9QQVJUSUFMX1JJR0hUX0ZMQUcgPSA2NCxcbiAgICAgIFdSQVBfQVJZX0ZMQUcgPSAxMjgsXG4gICAgICBXUkFQX1JFQVJHX0ZMQUcgPSAyNTYsXG4gICAgICBXUkFQX0ZMSVBfRkxBRyA9IDUxMjtcblxuICAvKiogVXNlZCBhcyBkZWZhdWx0IG9wdGlvbnMgZm9yIGBfLnRydW5jYXRlYC4gKi9cbiAgdmFyIERFRkFVTFRfVFJVTkNfTEVOR1RIID0gMzAsXG4gICAgICBERUZBVUxUX1RSVU5DX09NSVNTSU9OID0gJy4uLic7XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IGhvdCBmdW5jdGlvbnMgYnkgbnVtYmVyIG9mIGNhbGxzIHdpdGhpbiBhIHNwYW4gb2YgbWlsbGlzZWNvbmRzLiAqL1xuICB2YXIgSE9UX0NPVU5UID0gODAwLFxuICAgICAgSE9UX1NQQU4gPSAxNjtcblxuICAvKiogVXNlZCB0byBpbmRpY2F0ZSB0aGUgdHlwZSBvZiBsYXp5IGl0ZXJhdGVlcy4gKi9cbiAgdmFyIExBWllfRklMVEVSX0ZMQUcgPSAxLFxuICAgICAgTEFaWV9NQVBfRkxBRyA9IDIsXG4gICAgICBMQVpZX1dISUxFX0ZMQUcgPSAzO1xuXG4gIC8qKiBVc2VkIGFzIHJlZmVyZW5jZXMgZm9yIHZhcmlvdXMgYE51bWJlcmAgY29uc3RhbnRzLiAqL1xuICB2YXIgSU5GSU5JVFkgPSAxIC8gMCxcbiAgICAgIE1BWF9TQUZFX0lOVEVHRVIgPSA5MDA3MTk5MjU0NzQwOTkxLFxuICAgICAgTUFYX0lOVEVHRVIgPSAxLjc5NzY5MzEzNDg2MjMxNTdlKzMwOCxcbiAgICAgIE5BTiA9IDAgLyAwO1xuXG4gIC8qKiBVc2VkIGFzIHJlZmVyZW5jZXMgZm9yIHRoZSBtYXhpbXVtIGxlbmd0aCBhbmQgaW5kZXggb2YgYW4gYXJyYXkuICovXG4gIHZhciBNQVhfQVJSQVlfTEVOR1RIID0gNDI5NDk2NzI5NSxcbiAgICAgIE1BWF9BUlJBWV9JTkRFWCA9IE1BWF9BUlJBWV9MRU5HVEggLSAxLFxuICAgICAgSEFMRl9NQVhfQVJSQVlfTEVOR1RIID0gTUFYX0FSUkFZX0xFTkdUSCA+Pj4gMTtcblxuICAvKiogVXNlZCB0byBhc3NvY2lhdGUgd3JhcCBtZXRob2RzIHdpdGggdGhlaXIgYml0IGZsYWdzLiAqL1xuICB2YXIgd3JhcEZsYWdzID0gW1xuICAgIFsnYXJ5JywgV1JBUF9BUllfRkxBR10sXG4gICAgWydiaW5kJywgV1JBUF9CSU5EX0ZMQUddLFxuICAgIFsnYmluZEtleScsIFdSQVBfQklORF9LRVlfRkxBR10sXG4gICAgWydjdXJyeScsIFdSQVBfQ1VSUllfRkxBR10sXG4gICAgWydjdXJyeVJpZ2h0JywgV1JBUF9DVVJSWV9SSUdIVF9GTEFHXSxcbiAgICBbJ2ZsaXAnLCBXUkFQX0ZMSVBfRkxBR10sXG4gICAgWydwYXJ0aWFsJywgV1JBUF9QQVJUSUFMX0ZMQUddLFxuICAgIFsncGFydGlhbFJpZ2h0JywgV1JBUF9QQVJUSUFMX1JJR0hUX0ZMQUddLFxuICAgIFsncmVhcmcnLCBXUkFQX1JFQVJHX0ZMQUddXG4gIF07XG5cbiAgLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xuICB2YXIgYXJnc1RhZyA9ICdbb2JqZWN0IEFyZ3VtZW50c10nLFxuICAgICAgYXJyYXlUYWcgPSAnW29iamVjdCBBcnJheV0nLFxuICAgICAgYXN5bmNUYWcgPSAnW29iamVjdCBBc3luY0Z1bmN0aW9uXScsXG4gICAgICBib29sVGFnID0gJ1tvYmplY3QgQm9vbGVhbl0nLFxuICAgICAgZGF0ZVRhZyA9ICdbb2JqZWN0IERhdGVdJyxcbiAgICAgIGRvbUV4Y1RhZyA9ICdbb2JqZWN0IERPTUV4Y2VwdGlvbl0nLFxuICAgICAgZXJyb3JUYWcgPSAnW29iamVjdCBFcnJvcl0nLFxuICAgICAgZnVuY1RhZyA9ICdbb2JqZWN0IEZ1bmN0aW9uXScsXG4gICAgICBnZW5UYWcgPSAnW29iamVjdCBHZW5lcmF0b3JGdW5jdGlvbl0nLFxuICAgICAgbWFwVGFnID0gJ1tvYmplY3QgTWFwXScsXG4gICAgICBudW1iZXJUYWcgPSAnW29iamVjdCBOdW1iZXJdJyxcbiAgICAgIG51bGxUYWcgPSAnW29iamVjdCBOdWxsXScsXG4gICAgICBvYmplY3RUYWcgPSAnW29iamVjdCBPYmplY3RdJyxcbiAgICAgIHByb21pc2VUYWcgPSAnW29iamVjdCBQcm9taXNlXScsXG4gICAgICBwcm94eVRhZyA9ICdbb2JqZWN0IFByb3h5XScsXG4gICAgICByZWdleHBUYWcgPSAnW29iamVjdCBSZWdFeHBdJyxcbiAgICAgIHNldFRhZyA9ICdbb2JqZWN0IFNldF0nLFxuICAgICAgc3RyaW5nVGFnID0gJ1tvYmplY3QgU3RyaW5nXScsXG4gICAgICBzeW1ib2xUYWcgPSAnW29iamVjdCBTeW1ib2xdJyxcbiAgICAgIHVuZGVmaW5lZFRhZyA9ICdbb2JqZWN0IFVuZGVmaW5lZF0nLFxuICAgICAgd2Vha01hcFRhZyA9ICdbb2JqZWN0IFdlYWtNYXBdJyxcbiAgICAgIHdlYWtTZXRUYWcgPSAnW29iamVjdCBXZWFrU2V0XSc7XG5cbiAgdmFyIGFycmF5QnVmZmVyVGFnID0gJ1tvYmplY3QgQXJyYXlCdWZmZXJdJyxcbiAgICAgIGRhdGFWaWV3VGFnID0gJ1tvYmplY3QgRGF0YVZpZXddJyxcbiAgICAgIGZsb2F0MzJUYWcgPSAnW29iamVjdCBGbG9hdDMyQXJyYXldJyxcbiAgICAgIGZsb2F0NjRUYWcgPSAnW29iamVjdCBGbG9hdDY0QXJyYXldJyxcbiAgICAgIGludDhUYWcgPSAnW29iamVjdCBJbnQ4QXJyYXldJyxcbiAgICAgIGludDE2VGFnID0gJ1tvYmplY3QgSW50MTZBcnJheV0nLFxuICAgICAgaW50MzJUYWcgPSAnW29iamVjdCBJbnQzMkFycmF5XScsXG4gICAgICB1aW50OFRhZyA9ICdbb2JqZWN0IFVpbnQ4QXJyYXldJyxcbiAgICAgIHVpbnQ4Q2xhbXBlZFRhZyA9ICdbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XScsXG4gICAgICB1aW50MTZUYWcgPSAnW29iamVjdCBVaW50MTZBcnJheV0nLFxuICAgICAgdWludDMyVGFnID0gJ1tvYmplY3QgVWludDMyQXJyYXldJztcblxuICAvKiogVXNlZCB0byBtYXRjaCBlbXB0eSBzdHJpbmcgbGl0ZXJhbHMgaW4gY29tcGlsZWQgdGVtcGxhdGUgc291cmNlLiAqL1xuICB2YXIgcmVFbXB0eVN0cmluZ0xlYWRpbmcgPSAvXFxiX19wIFxcKz0gJyc7L2csXG4gICAgICByZUVtcHR5U3RyaW5nTWlkZGxlID0gL1xcYihfX3AgXFwrPSkgJycgXFwrL2csXG4gICAgICByZUVtcHR5U3RyaW5nVHJhaWxpbmcgPSAvKF9fZVxcKC4qP1xcKXxcXGJfX3RcXCkpIFxcK1xcbicnOy9nO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIEhUTUwgZW50aXRpZXMgYW5kIEhUTUwgY2hhcmFjdGVycy4gKi9cbiAgdmFyIHJlRXNjYXBlZEh0bWwgPSAvJig/OmFtcHxsdHxndHxxdW90fCMzOSk7L2csXG4gICAgICByZVVuZXNjYXBlZEh0bWwgPSAvWyY8PlwiJ10vZyxcbiAgICAgIHJlSGFzRXNjYXBlZEh0bWwgPSBSZWdFeHAocmVFc2NhcGVkSHRtbC5zb3VyY2UpLFxuICAgICAgcmVIYXNVbmVzY2FwZWRIdG1sID0gUmVnRXhwKHJlVW5lc2NhcGVkSHRtbC5zb3VyY2UpO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIHRlbXBsYXRlIGRlbGltaXRlcnMuICovXG4gIHZhciByZUVzY2FwZSA9IC88JS0oW1xcc1xcU10rPyklPi9nLFxuICAgICAgcmVFdmFsdWF0ZSA9IC88JShbXFxzXFxTXSs/KSU+L2csXG4gICAgICByZUludGVycG9sYXRlID0gLzwlPShbXFxzXFxTXSs/KSU+L2c7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggcHJvcGVydHkgbmFtZXMgd2l0aGluIHByb3BlcnR5IHBhdGhzLiAqL1xuICB2YXIgcmVJc0RlZXBQcm9wID0gL1xcLnxcXFsoPzpbXltcXF1dKnwoW1wiJ10pKD86KD8hXFwxKVteXFxcXF18XFxcXC4pKj9cXDEpXFxdLyxcbiAgICAgIHJlSXNQbGFpblByb3AgPSAvXlxcdyokLyxcbiAgICAgIHJlUHJvcE5hbWUgPSAvW14uW1xcXV0rfFxcWyg/OigtP1xcZCsoPzpcXC5cXGQrKT8pfChbXCInXSkoKD86KD8hXFwyKVteXFxcXF18XFxcXC4pKj8pXFwyKVxcXXwoPz0oPzpcXC58XFxbXFxdKSg/OlxcLnxcXFtcXF18JCkpL2c7XG5cbiAgLyoqXG4gICAqIFVzZWQgdG8gbWF0Y2ggYFJlZ0V4cGBcbiAgICogW3N5bnRheCBjaGFyYWN0ZXJzXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1wYXR0ZXJucykuXG4gICAqL1xuICB2YXIgcmVSZWdFeHBDaGFyID0gL1tcXFxcXiQuKis/KClbXFxde318XS9nLFxuICAgICAgcmVIYXNSZWdFeHBDaGFyID0gUmVnRXhwKHJlUmVnRXhwQ2hhci5zb3VyY2UpO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIGxlYWRpbmcgd2hpdGVzcGFjZS4gKi9cbiAgdmFyIHJlVHJpbVN0YXJ0ID0gL15cXHMrLztcblxuICAvKiogVXNlZCB0byBtYXRjaCBhIHNpbmdsZSB3aGl0ZXNwYWNlIGNoYXJhY3Rlci4gKi9cbiAgdmFyIHJlV2hpdGVzcGFjZSA9IC9cXHMvO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIHdyYXAgZGV0YWlsIGNvbW1lbnRzLiAqL1xuICB2YXIgcmVXcmFwQ29tbWVudCA9IC9cXHsoPzpcXG5cXC9cXCogXFxbd3JhcHBlZCB3aXRoIC4rXFxdIFxcKlxcLyk/XFxuPy8sXG4gICAgICByZVdyYXBEZXRhaWxzID0gL1xce1xcblxcL1xcKiBcXFt3cmFwcGVkIHdpdGggKC4rKVxcXSBcXCovLFxuICAgICAgcmVTcGxpdERldGFpbHMgPSAvLD8gJiAvO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIHdvcmRzIGNvbXBvc2VkIG9mIGFscGhhbnVtZXJpYyBjaGFyYWN0ZXJzLiAqL1xuICB2YXIgcmVBc2NpaVdvcmQgPSAvW15cXHgwMC1cXHgyZlxceDNhLVxceDQwXFx4NWItXFx4NjBcXHg3Yi1cXHg3Zl0rL2c7XG5cbiAgLyoqXG4gICAqIFVzZWQgdG8gdmFsaWRhdGUgdGhlIGB2YWxpZGF0ZWAgb3B0aW9uIGluIGBfLnRlbXBsYXRlYCB2YXJpYWJsZS5cbiAgICpcbiAgICogRm9yYmlkcyBjaGFyYWN0ZXJzIHdoaWNoIGNvdWxkIHBvdGVudGlhbGx5IGNoYW5nZSB0aGUgbWVhbmluZyBvZiB0aGUgZnVuY3Rpb24gYXJndW1lbnQgZGVmaW5pdGlvbjpcbiAgICogLSBcIigpLFwiIChtb2RpZmljYXRpb24gb2YgZnVuY3Rpb24gcGFyYW1ldGVycylcbiAgICogLSBcIj1cIiAoZGVmYXVsdCB2YWx1ZSlcbiAgICogLSBcIltde31cIiAoZGVzdHJ1Y3R1cmluZyBvZiBmdW5jdGlvbiBwYXJhbWV0ZXJzKVxuICAgKiAtIFwiL1wiIChiZWdpbm5pbmcgb2YgYSBjb21tZW50KVxuICAgKiAtIHdoaXRlc3BhY2VcbiAgICovXG4gIHZhciByZUZvcmJpZGRlbklkZW50aWZpZXJDaGFycyA9IC9bKCk9LHt9XFxbXFxdXFwvXFxzXS87XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggYmFja3NsYXNoZXMgaW4gcHJvcGVydHkgcGF0aHMuICovXG4gIHZhciByZUVzY2FwZUNoYXIgPSAvXFxcXChcXFxcKT8vZztcblxuICAvKipcbiAgICogVXNlZCB0byBtYXRjaFxuICAgKiBbRVMgdGVtcGxhdGUgZGVsaW1pdGVyc10oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtdGVtcGxhdGUtbGl0ZXJhbC1sZXhpY2FsLWNvbXBvbmVudHMpLlxuICAgKi9cbiAgdmFyIHJlRXNUZW1wbGF0ZSA9IC9cXCRcXHsoW15cXFxcfV0qKD86XFxcXC5bXlxcXFx9XSopKilcXH0vZztcblxuICAvKiogVXNlZCB0byBtYXRjaCBgUmVnRXhwYCBmbGFncyBmcm9tIHRoZWlyIGNvZXJjZWQgc3RyaW5nIHZhbHVlcy4gKi9cbiAgdmFyIHJlRmxhZ3MgPSAvXFx3KiQvO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCBiYWQgc2lnbmVkIGhleGFkZWNpbWFsIHN0cmluZyB2YWx1ZXMuICovXG4gIHZhciByZUlzQmFkSGV4ID0gL15bLStdMHhbMC05YS1mXSskL2k7XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IGJpbmFyeSBzdHJpbmcgdmFsdWVzLiAqL1xuICB2YXIgcmVJc0JpbmFyeSA9IC9eMGJbMDFdKyQvaTtcblxuICAvKiogVXNlZCB0byBkZXRlY3QgaG9zdCBjb25zdHJ1Y3RvcnMgKFNhZmFyaSkuICovXG4gIHZhciByZUlzSG9zdEN0b3IgPSAvXlxcW29iamVjdCAuKz9Db25zdHJ1Y3RvclxcXSQvO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCBvY3RhbCBzdHJpbmcgdmFsdWVzLiAqL1xuICB2YXIgcmVJc09jdGFsID0gL14wb1swLTddKyQvaTtcblxuICAvKiogVXNlZCB0byBkZXRlY3QgdW5zaWduZWQgaW50ZWdlciB2YWx1ZXMuICovXG4gIHZhciByZUlzVWludCA9IC9eKD86MHxbMS05XVxcZCopJC87XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggTGF0aW4gVW5pY29kZSBsZXR0ZXJzIChleGNsdWRpbmcgbWF0aGVtYXRpY2FsIG9wZXJhdG9ycykuICovXG4gIHZhciByZUxhdGluID0gL1tcXHhjMC1cXHhkNlxceGQ4LVxceGY2XFx4ZjgtXFx4ZmZcXHUwMTAwLVxcdTAxN2ZdL2c7XG5cbiAgLyoqIFVzZWQgdG8gZW5zdXJlIGNhcHR1cmluZyBvcmRlciBvZiB0ZW1wbGF0ZSBkZWxpbWl0ZXJzLiAqL1xuICB2YXIgcmVOb01hdGNoID0gLygkXikvO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIHVuZXNjYXBlZCBjaGFyYWN0ZXJzIGluIGNvbXBpbGVkIHN0cmluZyBsaXRlcmFscy4gKi9cbiAgdmFyIHJlVW5lc2NhcGVkU3RyaW5nID0gL1snXFxuXFxyXFx1MjAyOFxcdTIwMjlcXFxcXS9nO1xuXG4gIC8qKiBVc2VkIHRvIGNvbXBvc2UgdW5pY29kZSBjaGFyYWN0ZXIgY2xhc3Nlcy4gKi9cbiAgdmFyIHJzQXN0cmFsUmFuZ2UgPSAnXFxcXHVkODAwLVxcXFx1ZGZmZicsXG4gICAgICByc0NvbWJvTWFya3NSYW5nZSA9ICdcXFxcdTAzMDAtXFxcXHUwMzZmJyxcbiAgICAgIHJlQ29tYm9IYWxmTWFya3NSYW5nZSA9ICdcXFxcdWZlMjAtXFxcXHVmZTJmJyxcbiAgICAgIHJzQ29tYm9TeW1ib2xzUmFuZ2UgPSAnXFxcXHUyMGQwLVxcXFx1MjBmZicsXG4gICAgICByc0NvbWJvUmFuZ2UgPSByc0NvbWJvTWFya3NSYW5nZSArIHJlQ29tYm9IYWxmTWFya3NSYW5nZSArIHJzQ29tYm9TeW1ib2xzUmFuZ2UsXG4gICAgICByc0RpbmdiYXRSYW5nZSA9ICdcXFxcdTI3MDAtXFxcXHUyN2JmJyxcbiAgICAgIHJzTG93ZXJSYW5nZSA9ICdhLXpcXFxceGRmLVxcXFx4ZjZcXFxceGY4LVxcXFx4ZmYnLFxuICAgICAgcnNNYXRoT3BSYW5nZSA9ICdcXFxceGFjXFxcXHhiMVxcXFx4ZDdcXFxceGY3JyxcbiAgICAgIHJzTm9uQ2hhclJhbmdlID0gJ1xcXFx4MDAtXFxcXHgyZlxcXFx4M2EtXFxcXHg0MFxcXFx4NWItXFxcXHg2MFxcXFx4N2ItXFxcXHhiZicsXG4gICAgICByc1B1bmN0dWF0aW9uUmFuZ2UgPSAnXFxcXHUyMDAwLVxcXFx1MjA2ZicsXG4gICAgICByc1NwYWNlUmFuZ2UgPSAnIFxcXFx0XFxcXHgwYlxcXFxmXFxcXHhhMFxcXFx1ZmVmZlxcXFxuXFxcXHJcXFxcdTIwMjhcXFxcdTIwMjlcXFxcdTE2ODBcXFxcdTE4MGVcXFxcdTIwMDBcXFxcdTIwMDFcXFxcdTIwMDJcXFxcdTIwMDNcXFxcdTIwMDRcXFxcdTIwMDVcXFxcdTIwMDZcXFxcdTIwMDdcXFxcdTIwMDhcXFxcdTIwMDlcXFxcdTIwMGFcXFxcdTIwMmZcXFxcdTIwNWZcXFxcdTMwMDAnLFxuICAgICAgcnNVcHBlclJhbmdlID0gJ0EtWlxcXFx4YzAtXFxcXHhkNlxcXFx4ZDgtXFxcXHhkZScsXG4gICAgICByc1ZhclJhbmdlID0gJ1xcXFx1ZmUwZVxcXFx1ZmUwZicsXG4gICAgICByc0JyZWFrUmFuZ2UgPSByc01hdGhPcFJhbmdlICsgcnNOb25DaGFyUmFuZ2UgKyByc1B1bmN0dWF0aW9uUmFuZ2UgKyByc1NwYWNlUmFuZ2U7XG5cbiAgLyoqIFVzZWQgdG8gY29tcG9zZSB1bmljb2RlIGNhcHR1cmUgZ3JvdXBzLiAqL1xuICB2YXIgcnNBcG9zID0gXCJbJ1xcdTIwMTldXCIsXG4gICAgICByc0FzdHJhbCA9ICdbJyArIHJzQXN0cmFsUmFuZ2UgKyAnXScsXG4gICAgICByc0JyZWFrID0gJ1snICsgcnNCcmVha1JhbmdlICsgJ10nLFxuICAgICAgcnNDb21ibyA9ICdbJyArIHJzQ29tYm9SYW5nZSArICddJyxcbiAgICAgIHJzRGlnaXRzID0gJ1xcXFxkKycsXG4gICAgICByc0RpbmdiYXQgPSAnWycgKyByc0RpbmdiYXRSYW5nZSArICddJyxcbiAgICAgIHJzTG93ZXIgPSAnWycgKyByc0xvd2VyUmFuZ2UgKyAnXScsXG4gICAgICByc01pc2MgPSAnW14nICsgcnNBc3RyYWxSYW5nZSArIHJzQnJlYWtSYW5nZSArIHJzRGlnaXRzICsgcnNEaW5nYmF0UmFuZ2UgKyByc0xvd2VyUmFuZ2UgKyByc1VwcGVyUmFuZ2UgKyAnXScsXG4gICAgICByc0ZpdHogPSAnXFxcXHVkODNjW1xcXFx1ZGZmYi1cXFxcdWRmZmZdJyxcbiAgICAgIHJzTW9kaWZpZXIgPSAnKD86JyArIHJzQ29tYm8gKyAnfCcgKyByc0ZpdHogKyAnKScsXG4gICAgICByc05vbkFzdHJhbCA9ICdbXicgKyByc0FzdHJhbFJhbmdlICsgJ10nLFxuICAgICAgcnNSZWdpb25hbCA9ICcoPzpcXFxcdWQ4M2NbXFxcXHVkZGU2LVxcXFx1ZGRmZl0pezJ9JyxcbiAgICAgIHJzU3VyclBhaXIgPSAnW1xcXFx1ZDgwMC1cXFxcdWRiZmZdW1xcXFx1ZGMwMC1cXFxcdWRmZmZdJyxcbiAgICAgIHJzVXBwZXIgPSAnWycgKyByc1VwcGVyUmFuZ2UgKyAnXScsXG4gICAgICByc1pXSiA9ICdcXFxcdTIwMGQnO1xuXG4gIC8qKiBVc2VkIHRvIGNvbXBvc2UgdW5pY29kZSByZWdleGVzLiAqL1xuICB2YXIgcnNNaXNjTG93ZXIgPSAnKD86JyArIHJzTG93ZXIgKyAnfCcgKyByc01pc2MgKyAnKScsXG4gICAgICByc01pc2NVcHBlciA9ICcoPzonICsgcnNVcHBlciArICd8JyArIHJzTWlzYyArICcpJyxcbiAgICAgIHJzT3B0Q29udHJMb3dlciA9ICcoPzonICsgcnNBcG9zICsgJyg/OmR8bGx8bXxyZXxzfHR8dmUpKT8nLFxuICAgICAgcnNPcHRDb250clVwcGVyID0gJyg/OicgKyByc0Fwb3MgKyAnKD86RHxMTHxNfFJFfFN8VHxWRSkpPycsXG4gICAgICByZU9wdE1vZCA9IHJzTW9kaWZpZXIgKyAnPycsXG4gICAgICByc09wdFZhciA9ICdbJyArIHJzVmFyUmFuZ2UgKyAnXT8nLFxuICAgICAgcnNPcHRKb2luID0gJyg/OicgKyByc1pXSiArICcoPzonICsgW3JzTm9uQXN0cmFsLCByc1JlZ2lvbmFsLCByc1N1cnJQYWlyXS5qb2luKCd8JykgKyAnKScgKyByc09wdFZhciArIHJlT3B0TW9kICsgJykqJyxcbiAgICAgIHJzT3JkTG93ZXIgPSAnXFxcXGQqKD86MXN0fDJuZHwzcmR8KD8hWzEyM10pXFxcXGR0aCkoPz1cXFxcYnxbQS1aX10pJyxcbiAgICAgIHJzT3JkVXBwZXIgPSAnXFxcXGQqKD86MVNUfDJORHwzUkR8KD8hWzEyM10pXFxcXGRUSCkoPz1cXFxcYnxbYS16X10pJyxcbiAgICAgIHJzU2VxID0gcnNPcHRWYXIgKyByZU9wdE1vZCArIHJzT3B0Sm9pbixcbiAgICAgIHJzRW1vamkgPSAnKD86JyArIFtyc0RpbmdiYXQsIHJzUmVnaW9uYWwsIHJzU3VyclBhaXJdLmpvaW4oJ3wnKSArICcpJyArIHJzU2VxLFxuICAgICAgcnNTeW1ib2wgPSAnKD86JyArIFtyc05vbkFzdHJhbCArIHJzQ29tYm8gKyAnPycsIHJzQ29tYm8sIHJzUmVnaW9uYWwsIHJzU3VyclBhaXIsIHJzQXN0cmFsXS5qb2luKCd8JykgKyAnKSc7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggYXBvc3Ryb3BoZXMuICovXG4gIHZhciByZUFwb3MgPSBSZWdFeHAocnNBcG9zLCAnZycpO1xuXG4gIC8qKlxuICAgKiBVc2VkIHRvIG1hdGNoIFtjb21iaW5pbmcgZGlhY3JpdGljYWwgbWFya3NdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NvbWJpbmluZ19EaWFjcml0aWNhbF9NYXJrcykgYW5kXG4gICAqIFtjb21iaW5pbmcgZGlhY3JpdGljYWwgbWFya3MgZm9yIHN5bWJvbHNdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NvbWJpbmluZ19EaWFjcml0aWNhbF9NYXJrc19mb3JfU3ltYm9scykuXG4gICAqL1xuICB2YXIgcmVDb21ib01hcmsgPSBSZWdFeHAocnNDb21ibywgJ2cnKTtcblxuICAvKiogVXNlZCB0byBtYXRjaCBbc3RyaW5nIHN5bWJvbHNdKGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9qYXZhc2NyaXB0LXVuaWNvZGUpLiAqL1xuICB2YXIgcmVVbmljb2RlID0gUmVnRXhwKHJzRml0eiArICcoPz0nICsgcnNGaXR6ICsgJyl8JyArIHJzU3ltYm9sICsgcnNTZXEsICdnJyk7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggY29tcGxleCBvciBjb21wb3VuZCB3b3Jkcy4gKi9cbiAgdmFyIHJlVW5pY29kZVdvcmQgPSBSZWdFeHAoW1xuICAgIHJzVXBwZXIgKyAnPycgKyByc0xvd2VyICsgJysnICsgcnNPcHRDb250ckxvd2VyICsgJyg/PScgKyBbcnNCcmVhaywgcnNVcHBlciwgJyQnXS5qb2luKCd8JykgKyAnKScsXG4gICAgcnNNaXNjVXBwZXIgKyAnKycgKyByc09wdENvbnRyVXBwZXIgKyAnKD89JyArIFtyc0JyZWFrLCByc1VwcGVyICsgcnNNaXNjTG93ZXIsICckJ10uam9pbignfCcpICsgJyknLFxuICAgIHJzVXBwZXIgKyAnPycgKyByc01pc2NMb3dlciArICcrJyArIHJzT3B0Q29udHJMb3dlcixcbiAgICByc1VwcGVyICsgJysnICsgcnNPcHRDb250clVwcGVyLFxuICAgIHJzT3JkVXBwZXIsXG4gICAgcnNPcmRMb3dlcixcbiAgICByc0RpZ2l0cyxcbiAgICByc0Vtb2ppXG4gIF0uam9pbignfCcpLCAnZycpO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCBzdHJpbmdzIHdpdGggW3plcm8td2lkdGggam9pbmVycyBvciBjb2RlIHBvaW50cyBmcm9tIHRoZSBhc3RyYWwgcGxhbmVzXShodHRwOi8vZWV2LmVlL2Jsb2cvMjAxNS8wOS8xMi9kYXJrLWNvcm5lcnMtb2YtdW5pY29kZS8pLiAqL1xuICB2YXIgcmVIYXNVbmljb2RlID0gUmVnRXhwKCdbJyArIHJzWldKICsgcnNBc3RyYWxSYW5nZSAgKyByc0NvbWJvUmFuZ2UgKyByc1ZhclJhbmdlICsgJ10nKTtcblxuICAvKiogVXNlZCB0byBkZXRlY3Qgc3RyaW5ncyB0aGF0IG5lZWQgYSBtb3JlIHJvYnVzdCByZWdleHAgdG8gbWF0Y2ggd29yZHMuICovXG4gIHZhciByZUhhc1VuaWNvZGVXb3JkID0gL1thLXpdW0EtWl18W0EtWl17Mn1bYS16XXxbMC05XVthLXpBLVpdfFthLXpBLVpdWzAtOV18W15hLXpBLVowLTkgXS87XG5cbiAgLyoqIFVzZWQgdG8gYXNzaWduIGRlZmF1bHQgYGNvbnRleHRgIG9iamVjdCBwcm9wZXJ0aWVzLiAqL1xuICB2YXIgY29udGV4dFByb3BzID0gW1xuICAgICdBcnJheScsICdCdWZmZXInLCAnRGF0YVZpZXcnLCAnRGF0ZScsICdFcnJvcicsICdGbG9hdDMyQXJyYXknLCAnRmxvYXQ2NEFycmF5JyxcbiAgICAnRnVuY3Rpb24nLCAnSW50OEFycmF5JywgJ0ludDE2QXJyYXknLCAnSW50MzJBcnJheScsICdNYXAnLCAnTWF0aCcsICdPYmplY3QnLFxuICAgICdQcm9taXNlJywgJ1JlZ0V4cCcsICdTZXQnLCAnU3RyaW5nJywgJ1N5bWJvbCcsICdUeXBlRXJyb3InLCAnVWludDhBcnJheScsXG4gICAgJ1VpbnQ4Q2xhbXBlZEFycmF5JywgJ1VpbnQxNkFycmF5JywgJ1VpbnQzMkFycmF5JywgJ1dlYWtNYXAnLFxuICAgICdfJywgJ2NsZWFyVGltZW91dCcsICdpc0Zpbml0ZScsICdwYXJzZUludCcsICdzZXRUaW1lb3V0J1xuICBdO1xuXG4gIC8qKiBVc2VkIHRvIG1ha2UgdGVtcGxhdGUgc291cmNlVVJMcyBlYXNpZXIgdG8gaWRlbnRpZnkuICovXG4gIHZhciB0ZW1wbGF0ZUNvdW50ZXIgPSAtMTtcblxuICAvKiogVXNlZCB0byBpZGVudGlmeSBgdG9TdHJpbmdUYWdgIHZhbHVlcyBvZiB0eXBlZCBhcnJheXMuICovXG4gIHZhciB0eXBlZEFycmF5VGFncyA9IHt9O1xuICB0eXBlZEFycmF5VGFnc1tmbG9hdDMyVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2Zsb2F0NjRUYWddID1cbiAgdHlwZWRBcnJheVRhZ3NbaW50OFRhZ10gPSB0eXBlZEFycmF5VGFnc1tpbnQxNlRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1tpbnQzMlRhZ10gPSB0eXBlZEFycmF5VGFnc1t1aW50OFRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1t1aW50OENsYW1wZWRUYWddID0gdHlwZWRBcnJheVRhZ3NbdWludDE2VGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW3VpbnQzMlRhZ10gPSB0cnVlO1xuICB0eXBlZEFycmF5VGFnc1thcmdzVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2FycmF5VGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW2FycmF5QnVmZmVyVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2Jvb2xUYWddID1cbiAgdHlwZWRBcnJheVRhZ3NbZGF0YVZpZXdUYWddID0gdHlwZWRBcnJheVRhZ3NbZGF0ZVRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1tlcnJvclRhZ10gPSB0eXBlZEFycmF5VGFnc1tmdW5jVGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW21hcFRhZ10gPSB0eXBlZEFycmF5VGFnc1tudW1iZXJUYWddID1cbiAgdHlwZWRBcnJheVRhZ3Nbb2JqZWN0VGFnXSA9IHR5cGVkQXJyYXlUYWdzW3JlZ2V4cFRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1tzZXRUYWddID0gdHlwZWRBcnJheVRhZ3Nbc3RyaW5nVGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW3dlYWtNYXBUYWddID0gZmFsc2U7XG5cbiAgLyoqIFVzZWQgdG8gaWRlbnRpZnkgYHRvU3RyaW5nVGFnYCB2YWx1ZXMgc3VwcG9ydGVkIGJ5IGBfLmNsb25lYC4gKi9cbiAgdmFyIGNsb25lYWJsZVRhZ3MgPSB7fTtcbiAgY2xvbmVhYmxlVGFnc1thcmdzVGFnXSA9IGNsb25lYWJsZVRhZ3NbYXJyYXlUYWddID1cbiAgY2xvbmVhYmxlVGFnc1thcnJheUJ1ZmZlclRhZ10gPSBjbG9uZWFibGVUYWdzW2RhdGFWaWV3VGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbYm9vbFRhZ10gPSBjbG9uZWFibGVUYWdzW2RhdGVUYWddID1cbiAgY2xvbmVhYmxlVGFnc1tmbG9hdDMyVGFnXSA9IGNsb25lYWJsZVRhZ3NbZmxvYXQ2NFRhZ10gPVxuICBjbG9uZWFibGVUYWdzW2ludDhUYWddID0gY2xvbmVhYmxlVGFnc1tpbnQxNlRhZ10gPVxuICBjbG9uZWFibGVUYWdzW2ludDMyVGFnXSA9IGNsb25lYWJsZVRhZ3NbbWFwVGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbbnVtYmVyVGFnXSA9IGNsb25lYWJsZVRhZ3Nbb2JqZWN0VGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbcmVnZXhwVGFnXSA9IGNsb25lYWJsZVRhZ3Nbc2V0VGFnXSA9XG4gIGNsb25lYWJsZVRhZ3Nbc3RyaW5nVGFnXSA9IGNsb25lYWJsZVRhZ3Nbc3ltYm9sVGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbdWludDhUYWddID0gY2xvbmVhYmxlVGFnc1t1aW50OENsYW1wZWRUYWddID1cbiAgY2xvbmVhYmxlVGFnc1t1aW50MTZUYWddID0gY2xvbmVhYmxlVGFnc1t1aW50MzJUYWddID0gdHJ1ZTtcbiAgY2xvbmVhYmxlVGFnc1tlcnJvclRhZ10gPSBjbG9uZWFibGVUYWdzW2Z1bmNUYWddID1cbiAgY2xvbmVhYmxlVGFnc1t3ZWFrTWFwVGFnXSA9IGZhbHNlO1xuXG4gIC8qKiBVc2VkIHRvIG1hcCBMYXRpbiBVbmljb2RlIGxldHRlcnMgdG8gYmFzaWMgTGF0aW4gbGV0dGVycy4gKi9cbiAgdmFyIGRlYnVycmVkTGV0dGVycyA9IHtcbiAgICAvLyBMYXRpbi0xIFN1cHBsZW1lbnQgYmxvY2suXG4gICAgJ1xceGMwJzogJ0EnLCAgJ1xceGMxJzogJ0EnLCAnXFx4YzInOiAnQScsICdcXHhjMyc6ICdBJywgJ1xceGM0JzogJ0EnLCAnXFx4YzUnOiAnQScsXG4gICAgJ1xceGUwJzogJ2EnLCAgJ1xceGUxJzogJ2EnLCAnXFx4ZTInOiAnYScsICdcXHhlMyc6ICdhJywgJ1xceGU0JzogJ2EnLCAnXFx4ZTUnOiAnYScsXG4gICAgJ1xceGM3JzogJ0MnLCAgJ1xceGU3JzogJ2MnLFxuICAgICdcXHhkMCc6ICdEJywgICdcXHhmMCc6ICdkJyxcbiAgICAnXFx4YzgnOiAnRScsICAnXFx4YzknOiAnRScsICdcXHhjYSc6ICdFJywgJ1xceGNiJzogJ0UnLFxuICAgICdcXHhlOCc6ICdlJywgICdcXHhlOSc6ICdlJywgJ1xceGVhJzogJ2UnLCAnXFx4ZWInOiAnZScsXG4gICAgJ1xceGNjJzogJ0knLCAgJ1xceGNkJzogJ0knLCAnXFx4Y2UnOiAnSScsICdcXHhjZic6ICdJJyxcbiAgICAnXFx4ZWMnOiAnaScsICAnXFx4ZWQnOiAnaScsICdcXHhlZSc6ICdpJywgJ1xceGVmJzogJ2knLFxuICAgICdcXHhkMSc6ICdOJywgICdcXHhmMSc6ICduJyxcbiAgICAnXFx4ZDInOiAnTycsICAnXFx4ZDMnOiAnTycsICdcXHhkNCc6ICdPJywgJ1xceGQ1JzogJ08nLCAnXFx4ZDYnOiAnTycsICdcXHhkOCc6ICdPJyxcbiAgICAnXFx4ZjInOiAnbycsICAnXFx4ZjMnOiAnbycsICdcXHhmNCc6ICdvJywgJ1xceGY1JzogJ28nLCAnXFx4ZjYnOiAnbycsICdcXHhmOCc6ICdvJyxcbiAgICAnXFx4ZDknOiAnVScsICAnXFx4ZGEnOiAnVScsICdcXHhkYic6ICdVJywgJ1xceGRjJzogJ1UnLFxuICAgICdcXHhmOSc6ICd1JywgICdcXHhmYSc6ICd1JywgJ1xceGZiJzogJ3UnLCAnXFx4ZmMnOiAndScsXG4gICAgJ1xceGRkJzogJ1knLCAgJ1xceGZkJzogJ3knLCAnXFx4ZmYnOiAneScsXG4gICAgJ1xceGM2JzogJ0FlJywgJ1xceGU2JzogJ2FlJyxcbiAgICAnXFx4ZGUnOiAnVGgnLCAnXFx4ZmUnOiAndGgnLFxuICAgICdcXHhkZic6ICdzcycsXG4gICAgLy8gTGF0aW4gRXh0ZW5kZWQtQSBibG9jay5cbiAgICAnXFx1MDEwMCc6ICdBJywgICdcXHUwMTAyJzogJ0EnLCAnXFx1MDEwNCc6ICdBJyxcbiAgICAnXFx1MDEwMSc6ICdhJywgICdcXHUwMTAzJzogJ2EnLCAnXFx1MDEwNSc6ICdhJyxcbiAgICAnXFx1MDEwNic6ICdDJywgICdcXHUwMTA4JzogJ0MnLCAnXFx1MDEwYSc6ICdDJywgJ1xcdTAxMGMnOiAnQycsXG4gICAgJ1xcdTAxMDcnOiAnYycsICAnXFx1MDEwOSc6ICdjJywgJ1xcdTAxMGInOiAnYycsICdcXHUwMTBkJzogJ2MnLFxuICAgICdcXHUwMTBlJzogJ0QnLCAgJ1xcdTAxMTAnOiAnRCcsICdcXHUwMTBmJzogJ2QnLCAnXFx1MDExMSc6ICdkJyxcbiAgICAnXFx1MDExMic6ICdFJywgICdcXHUwMTE0JzogJ0UnLCAnXFx1MDExNic6ICdFJywgJ1xcdTAxMTgnOiAnRScsICdcXHUwMTFhJzogJ0UnLFxuICAgICdcXHUwMTEzJzogJ2UnLCAgJ1xcdTAxMTUnOiAnZScsICdcXHUwMTE3JzogJ2UnLCAnXFx1MDExOSc6ICdlJywgJ1xcdTAxMWInOiAnZScsXG4gICAgJ1xcdTAxMWMnOiAnRycsICAnXFx1MDExZSc6ICdHJywgJ1xcdTAxMjAnOiAnRycsICdcXHUwMTIyJzogJ0cnLFxuICAgICdcXHUwMTFkJzogJ2cnLCAgJ1xcdTAxMWYnOiAnZycsICdcXHUwMTIxJzogJ2cnLCAnXFx1MDEyMyc6ICdnJyxcbiAgICAnXFx1MDEyNCc6ICdIJywgICdcXHUwMTI2JzogJ0gnLCAnXFx1MDEyNSc6ICdoJywgJ1xcdTAxMjcnOiAnaCcsXG4gICAgJ1xcdTAxMjgnOiAnSScsICAnXFx1MDEyYSc6ICdJJywgJ1xcdTAxMmMnOiAnSScsICdcXHUwMTJlJzogJ0knLCAnXFx1MDEzMCc6ICdJJyxcbiAgICAnXFx1MDEyOSc6ICdpJywgICdcXHUwMTJiJzogJ2knLCAnXFx1MDEyZCc6ICdpJywgJ1xcdTAxMmYnOiAnaScsICdcXHUwMTMxJzogJ2knLFxuICAgICdcXHUwMTM0JzogJ0onLCAgJ1xcdTAxMzUnOiAnaicsXG4gICAgJ1xcdTAxMzYnOiAnSycsICAnXFx1MDEzNyc6ICdrJywgJ1xcdTAxMzgnOiAnaycsXG4gICAgJ1xcdTAxMzknOiAnTCcsICAnXFx1MDEzYic6ICdMJywgJ1xcdTAxM2QnOiAnTCcsICdcXHUwMTNmJzogJ0wnLCAnXFx1MDE0MSc6ICdMJyxcbiAgICAnXFx1MDEzYSc6ICdsJywgICdcXHUwMTNjJzogJ2wnLCAnXFx1MDEzZSc6ICdsJywgJ1xcdTAxNDAnOiAnbCcsICdcXHUwMTQyJzogJ2wnLFxuICAgICdcXHUwMTQzJzogJ04nLCAgJ1xcdTAxNDUnOiAnTicsICdcXHUwMTQ3JzogJ04nLCAnXFx1MDE0YSc6ICdOJyxcbiAgICAnXFx1MDE0NCc6ICduJywgICdcXHUwMTQ2JzogJ24nLCAnXFx1MDE0OCc6ICduJywgJ1xcdTAxNGInOiAnbicsXG4gICAgJ1xcdTAxNGMnOiAnTycsICAnXFx1MDE0ZSc6ICdPJywgJ1xcdTAxNTAnOiAnTycsXG4gICAgJ1xcdTAxNGQnOiAnbycsICAnXFx1MDE0Zic6ICdvJywgJ1xcdTAxNTEnOiAnbycsXG4gICAgJ1xcdTAxNTQnOiAnUicsICAnXFx1MDE1Nic6ICdSJywgJ1xcdTAxNTgnOiAnUicsXG4gICAgJ1xcdTAxNTUnOiAncicsICAnXFx1MDE1Nyc6ICdyJywgJ1xcdTAxNTknOiAncicsXG4gICAgJ1xcdTAxNWEnOiAnUycsICAnXFx1MDE1Yyc6ICdTJywgJ1xcdTAxNWUnOiAnUycsICdcXHUwMTYwJzogJ1MnLFxuICAgICdcXHUwMTViJzogJ3MnLCAgJ1xcdTAxNWQnOiAncycsICdcXHUwMTVmJzogJ3MnLCAnXFx1MDE2MSc6ICdzJyxcbiAgICAnXFx1MDE2Mic6ICdUJywgICdcXHUwMTY0JzogJ1QnLCAnXFx1MDE2Nic6ICdUJyxcbiAgICAnXFx1MDE2Myc6ICd0JywgICdcXHUwMTY1JzogJ3QnLCAnXFx1MDE2Nyc6ICd0JyxcbiAgICAnXFx1MDE2OCc6ICdVJywgICdcXHUwMTZhJzogJ1UnLCAnXFx1MDE2Yyc6ICdVJywgJ1xcdTAxNmUnOiAnVScsICdcXHUwMTcwJzogJ1UnLCAnXFx1MDE3Mic6ICdVJyxcbiAgICAnXFx1MDE2OSc6ICd1JywgICdcXHUwMTZiJzogJ3UnLCAnXFx1MDE2ZCc6ICd1JywgJ1xcdTAxNmYnOiAndScsICdcXHUwMTcxJzogJ3UnLCAnXFx1MDE3Myc6ICd1JyxcbiAgICAnXFx1MDE3NCc6ICdXJywgICdcXHUwMTc1JzogJ3cnLFxuICAgICdcXHUwMTc2JzogJ1knLCAgJ1xcdTAxNzcnOiAneScsICdcXHUwMTc4JzogJ1knLFxuICAgICdcXHUwMTc5JzogJ1onLCAgJ1xcdTAxN2InOiAnWicsICdcXHUwMTdkJzogJ1onLFxuICAgICdcXHUwMTdhJzogJ3onLCAgJ1xcdTAxN2MnOiAneicsICdcXHUwMTdlJzogJ3onLFxuICAgICdcXHUwMTMyJzogJ0lKJywgJ1xcdTAxMzMnOiAnaWonLFxuICAgICdcXHUwMTUyJzogJ09lJywgJ1xcdTAxNTMnOiAnb2UnLFxuICAgICdcXHUwMTQ5JzogXCInblwiLCAnXFx1MDE3Zic6ICdzJ1xuICB9O1xuXG4gIC8qKiBVc2VkIHRvIG1hcCBjaGFyYWN0ZXJzIHRvIEhUTUwgZW50aXRpZXMuICovXG4gIHZhciBodG1sRXNjYXBlcyA9IHtcbiAgICAnJic6ICcmYW1wOycsXG4gICAgJzwnOiAnJmx0OycsXG4gICAgJz4nOiAnJmd0OycsXG4gICAgJ1wiJzogJyZxdW90OycsXG4gICAgXCInXCI6ICcmIzM5OydcbiAgfTtcblxuICAvKiogVXNlZCB0byBtYXAgSFRNTCBlbnRpdGllcyB0byBjaGFyYWN0ZXJzLiAqL1xuICB2YXIgaHRtbFVuZXNjYXBlcyA9IHtcbiAgICAnJmFtcDsnOiAnJicsXG4gICAgJyZsdDsnOiAnPCcsXG4gICAgJyZndDsnOiAnPicsXG4gICAgJyZxdW90Oyc6ICdcIicsXG4gICAgJyYjMzk7JzogXCInXCJcbiAgfTtcblxuICAvKiogVXNlZCB0byBlc2NhcGUgY2hhcmFjdGVycyBmb3IgaW5jbHVzaW9uIGluIGNvbXBpbGVkIHN0cmluZyBsaXRlcmFscy4gKi9cbiAgdmFyIHN0cmluZ0VzY2FwZXMgPSB7XG4gICAgJ1xcXFwnOiAnXFxcXCcsXG4gICAgXCInXCI6IFwiJ1wiLFxuICAgICdcXG4nOiAnbicsXG4gICAgJ1xccic6ICdyJyxcbiAgICAnXFx1MjAyOCc6ICd1MjAyOCcsXG4gICAgJ1xcdTIwMjknOiAndTIwMjknXG4gIH07XG5cbiAgLyoqIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIHdpdGhvdXQgYSBkZXBlbmRlbmN5IG9uIGByb290YC4gKi9cbiAgdmFyIGZyZWVQYXJzZUZsb2F0ID0gcGFyc2VGbG9hdCxcbiAgICAgIGZyZWVQYXJzZUludCA9IHBhcnNlSW50O1xuXG4gIC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZ2xvYmFsYCBmcm9tIE5vZGUuanMuICovXG4gIHZhciBmcmVlR2xvYmFsID0gdHlwZW9mIGdsb2JhbCA9PSAnb2JqZWN0JyAmJiBnbG9iYWwgJiYgZ2xvYmFsLk9iamVjdCA9PT0gT2JqZWN0ICYmIGdsb2JhbDtcblxuICAvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHNlbGZgLiAqL1xuICB2YXIgZnJlZVNlbGYgPSB0eXBlb2Ygc2VsZiA9PSAnb2JqZWN0JyAmJiBzZWxmICYmIHNlbGYuT2JqZWN0ID09PSBPYmplY3QgJiYgc2VsZjtcblxuICAvKiogVXNlZCBhcyBhIHJlZmVyZW5jZSB0byB0aGUgZ2xvYmFsIG9iamVjdC4gKi9cbiAgdmFyIHJvb3QgPSBmcmVlR2xvYmFsIHx8IGZyZWVTZWxmIHx8IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cbiAgLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBleHBvcnRzYC4gKi9cbiAgdmFyIGZyZWVFeHBvcnRzID0gdHlwZW9mIGV4cG9ydHMgPT0gJ29iamVjdCcgJiYgZXhwb3J0cyAmJiAhZXhwb3J0cy5ub2RlVHlwZSAmJiBleHBvcnRzO1xuXG4gIC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgbW9kdWxlYC4gKi9cbiAgdmFyIGZyZWVNb2R1bGUgPSBmcmVlRXhwb3J0cyAmJiB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZSAmJiAhbW9kdWxlLm5vZGVUeXBlICYmIG1vZHVsZTtcblxuICAvKiogRGV0ZWN0IHRoZSBwb3B1bGFyIENvbW1vbkpTIGV4dGVuc2lvbiBgbW9kdWxlLmV4cG9ydHNgLiAqL1xuICB2YXIgbW9kdWxlRXhwb3J0cyA9IGZyZWVNb2R1bGUgJiYgZnJlZU1vZHVsZS5leHBvcnRzID09PSBmcmVlRXhwb3J0cztcblxuICAvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHByb2Nlc3NgIGZyb20gTm9kZS5qcy4gKi9cbiAgdmFyIGZyZWVQcm9jZXNzID0gbW9kdWxlRXhwb3J0cyAmJiBmcmVlR2xvYmFsLnByb2Nlc3M7XG5cbiAgLyoqIFVzZWQgdG8gYWNjZXNzIGZhc3RlciBOb2RlLmpzIGhlbHBlcnMuICovXG4gIHZhciBub2RlVXRpbCA9IChmdW5jdGlvbigpIHtcbiAgICB0cnkge1xuICAgICAgLy8gVXNlIGB1dGlsLnR5cGVzYCBmb3IgTm9kZS5qcyAxMCsuXG4gICAgICB2YXIgdHlwZXMgPSBmcmVlTW9kdWxlICYmIGZyZWVNb2R1bGUucmVxdWlyZSAmJiBmcmVlTW9kdWxlLnJlcXVpcmUoJ3V0aWwnKS50eXBlcztcblxuICAgICAgaWYgKHR5cGVzKSB7XG4gICAgICAgIHJldHVybiB0eXBlcztcbiAgICAgIH1cblxuICAgICAgLy8gTGVnYWN5IGBwcm9jZXNzLmJpbmRpbmcoJ3V0aWwnKWAgZm9yIE5vZGUuanMgPCAxMC5cbiAgICAgIHJldHVybiBmcmVlUHJvY2VzcyAmJiBmcmVlUHJvY2Vzcy5iaW5kaW5nICYmIGZyZWVQcm9jZXNzLmJpbmRpbmcoJ3V0aWwnKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICB9KCkpO1xuXG4gIC8qIE5vZGUuanMgaGVscGVyIHJlZmVyZW5jZXMuICovXG4gIHZhciBub2RlSXNBcnJheUJ1ZmZlciA9IG5vZGVVdGlsICYmIG5vZGVVdGlsLmlzQXJyYXlCdWZmZXIsXG4gICAgICBub2RlSXNEYXRlID0gbm9kZVV0aWwgJiYgbm9kZVV0aWwuaXNEYXRlLFxuICAgICAgbm9kZUlzTWFwID0gbm9kZVV0aWwgJiYgbm9kZVV0aWwuaXNNYXAsXG4gICAgICBub2RlSXNSZWdFeHAgPSBub2RlVXRpbCAmJiBub2RlVXRpbC5pc1JlZ0V4cCxcbiAgICAgIG5vZGVJc1NldCA9IG5vZGVVdGlsICYmIG5vZGVVdGlsLmlzU2V0LFxuICAgICAgbm9kZUlzVHlwZWRBcnJheSA9IG5vZGVVdGlsICYmIG5vZGVVdGlsLmlzVHlwZWRBcnJheTtcblxuICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAvKipcbiAgICogQSBmYXN0ZXIgYWx0ZXJuYXRpdmUgdG8gYEZ1bmN0aW9uI2FwcGx5YCwgdGhpcyBmdW5jdGlvbiBpbnZva2VzIGBmdW5jYFxuICAgKiB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiBgdGhpc0FyZ2AgYW5kIHRoZSBhcmd1bWVudHMgb2YgYGFyZ3NgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBpbnZva2UuXG4gICAqIEBwYXJhbSB7Kn0gdGhpc0FyZyBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICAgKiBAcGFyYW0ge0FycmF5fSBhcmdzIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIGBmdW5jYCB3aXRoLlxuICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzdWx0IG9mIGBmdW5jYC5cbiAgICovXG4gIGZ1bmN0aW9uIGFwcGx5KGZ1bmMsIHRoaXNBcmcsIGFyZ3MpIHtcbiAgICBzd2l0Y2ggKGFyZ3MubGVuZ3RoKSB7XG4gICAgICBjYXNlIDA6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZyk7XG4gICAgICBjYXNlIDE6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgYXJnc1swXSk7XG4gICAgICBjYXNlIDI6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgYXJnc1swXSwgYXJnc1sxXSk7XG4gICAgICBjYXNlIDM6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gICAgfVxuICAgIHJldHVybiBmdW5jLmFwcGx5KHRoaXNBcmcsIGFyZ3MpO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUFnZ3JlZ2F0b3JgIGZvciBhcnJheXMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gc2V0dGVyIFRoZSBmdW5jdGlvbiB0byBzZXQgYGFjY3VtdWxhdG9yYCB2YWx1ZXMuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBpdGVyYXRlZSB0byB0cmFuc2Zvcm0ga2V5cy5cbiAgICogQHBhcmFtIHtPYmplY3R9IGFjY3VtdWxhdG9yIFRoZSBpbml0aWFsIGFnZ3JlZ2F0ZWQgb2JqZWN0LlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGFjY3VtdWxhdG9yYC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5QWdncmVnYXRvcihhcnJheSwgc2V0dGVyLCBpdGVyYXRlZSwgYWNjdW11bGF0b3IpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuICAgICAgc2V0dGVyKGFjY3VtdWxhdG9yLCB2YWx1ZSwgaXRlcmF0ZWUodmFsdWUpLCBhcnJheSk7XG4gICAgfVxuICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uZm9yRWFjaGAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheUVhY2goYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGlmIChpdGVyYXRlZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSkgPT09IGZhbHNlKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYXJyYXk7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmZvckVhY2hSaWdodGAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheUVhY2hSaWdodChhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgIGlmIChpdGVyYXRlZShhcnJheVtsZW5ndGhdLCBsZW5ndGgsIGFycmF5KSA9PT0gZmFsc2UpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhcnJheTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uZXZlcnlgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYWxsIGVsZW1lbnRzIHBhc3MgdGhlIHByZWRpY2F0ZSBjaGVjayxcbiAgICogIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5RXZlcnkoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBpZiAoIXByZWRpY2F0ZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uZmlsdGVyYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmlsdGVyZWQgYXJyYXkuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheUZpbHRlcihhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoLFxuICAgICAgICByZXNJbmRleCA9IDAsXG4gICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XTtcbiAgICAgIGlmIChwcmVkaWNhdGUodmFsdWUsIGluZGV4LCBhcnJheSkpIHtcbiAgICAgICAgcmVzdWx0W3Jlc0luZGV4KytdID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmluY2x1ZGVzYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogc3BlY2lmeWluZyBhbiBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHsqfSB0YXJnZXQgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdGFyZ2V0YCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlJbmNsdWRlcyhhcnJheSwgdmFsdWUpIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgcmV0dXJuICEhbGVuZ3RoICYmIGJhc2VJbmRleE9mKGFycmF5LCB2YWx1ZSwgMCkgPiAtMTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGxpa2UgYGFycmF5SW5jbHVkZXNgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYSBjb21wYXJhdG9yLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0geyp9IHRhcmdldCBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY29tcGFyYXRvciBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHRhcmdldGAgaXMgZm91bmQsIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5SW5jbHVkZXNXaXRoKGFycmF5LCB2YWx1ZSwgY29tcGFyYXRvcikge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBpZiAoY29tcGFyYXRvcih2YWx1ZSwgYXJyYXlbaW5kZXhdKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5tYXBgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZVxuICAgKiBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IG1hcHBlZCBhcnJheS5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5TWFwKGFycmF5LCBpdGVyYXRlZSkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgcmVzdWx0ID0gQXJyYXkobGVuZ3RoKTtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICByZXN1bHRbaW5kZXhdID0gaXRlcmF0ZWUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIEFwcGVuZHMgdGhlIGVsZW1lbnRzIG9mIGB2YWx1ZXNgIHRvIGBhcnJheWAuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgdmFsdWVzIHRvIGFwcGVuZC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheVB1c2goYXJyYXksIHZhbHVlcykge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSB2YWx1ZXMubGVuZ3RoLFxuICAgICAgICBvZmZzZXQgPSBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgYXJyYXlbb2Zmc2V0ICsgaW5kZXhdID0gdmFsdWVzW2luZGV4XTtcbiAgICB9XG4gICAgcmV0dXJuIGFycmF5O1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5yZWR1Y2VgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEBwYXJhbSB7Kn0gW2FjY3VtdWxhdG9yXSBUaGUgaW5pdGlhbCB2YWx1ZS5cbiAgICogQHBhcmFtIHtib29sZWFufSBbaW5pdEFjY3VtXSBTcGVjaWZ5IHVzaW5nIHRoZSBmaXJzdCBlbGVtZW50IG9mIGBhcnJheWAgYXNcbiAgICogIHRoZSBpbml0aWFsIHZhbHVlLlxuICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYWNjdW11bGF0ZWQgdmFsdWUuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheVJlZHVjZShhcnJheSwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yLCBpbml0QWNjdW0pIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cbiAgICBpZiAoaW5pdEFjY3VtICYmIGxlbmd0aCkge1xuICAgICAgYWNjdW11bGF0b3IgPSBhcnJheVsrK2luZGV4XTtcbiAgICB9XG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGFjY3VtdWxhdG9yID0gaXRlcmF0ZWUoYWNjdW11bGF0b3IsIGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KTtcbiAgICB9XG4gICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5yZWR1Y2VSaWdodGAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHBhcmFtIHsqfSBbYWNjdW11bGF0b3JdIFRoZSBpbml0aWFsIHZhbHVlLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpbml0QWNjdW1dIFNwZWNpZnkgdXNpbmcgdGhlIGxhc3QgZWxlbWVudCBvZiBgYXJyYXlgIGFzXG4gICAqICB0aGUgaW5pdGlhbCB2YWx1ZS5cbiAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGFjY3VtdWxhdGVkIHZhbHVlLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlSZWR1Y2VSaWdodChhcnJheSwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yLCBpbml0QWNjdW0pIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgaWYgKGluaXRBY2N1bSAmJiBsZW5ndGgpIHtcbiAgICAgIGFjY3VtdWxhdG9yID0gYXJyYXlbLS1sZW5ndGhdO1xuICAgIH1cbiAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgIGFjY3VtdWxhdG9yID0gaXRlcmF0ZWUoYWNjdW11bGF0b3IsIGFycmF5W2xlbmd0aF0sIGxlbmd0aCwgYXJyYXkpO1xuICAgIH1cbiAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnNvbWVgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZVxuICAgKiBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW55IGVsZW1lbnQgcGFzc2VzIHRoZSBwcmVkaWNhdGUgY2hlY2ssXG4gICAqICBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheVNvbWUoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBpZiAocHJlZGljYXRlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIHNpemUgb2YgYW4gQVNDSUkgYHN0cmluZ2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzdHJpbmcgc2l6ZS5cbiAgICovXG4gIHZhciBhc2NpaVNpemUgPSBiYXNlUHJvcGVydHkoJ2xlbmd0aCcpO1xuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBhbiBBU0NJSSBgc3RyaW5nYCB0byBhbiBhcnJheS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY29udmVydGVkIGFycmF5LlxuICAgKi9cbiAgZnVuY3Rpb24gYXNjaWlUb0FycmF5KHN0cmluZykge1xuICAgIHJldHVybiBzdHJpbmcuc3BsaXQoJycpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNwbGl0cyBhbiBBU0NJSSBgc3RyaW5nYCBpbnRvIGFuIGFycmF5IG9mIGl0cyB3b3Jkcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSB3b3JkcyBvZiBgc3RyaW5nYC5cbiAgICovXG4gIGZ1bmN0aW9uIGFzY2lpV29yZHMoc3RyaW5nKSB7XG4gICAgcmV0dXJuIHN0cmluZy5tYXRjaChyZUFzY2lpV29yZCkgfHwgW107XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgbWV0aG9kcyBsaWtlIGBfLmZpbmRLZXlgIGFuZCBgXy5maW5kTGFzdEtleWAsXG4gICAqIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcywgd2hpY2ggaXRlcmF0ZXMgb3ZlciBgY29sbGVjdGlvbmBcbiAgICogdXNpbmcgYGVhY2hGdW5jYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGVhY2hGdW5jIFRoZSBmdW5jdGlvbiB0byBpdGVyYXRlIG92ZXIgYGNvbGxlY3Rpb25gLlxuICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZm91bmQgZWxlbWVudCBvciBpdHMga2V5LCBlbHNlIGB1bmRlZmluZWRgLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZUZpbmRLZXkoY29sbGVjdGlvbiwgcHJlZGljYXRlLCBlYWNoRnVuYykge1xuICAgIHZhciByZXN1bHQ7XG4gICAgZWFjaEZ1bmMoY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGtleSwgY29sbGVjdGlvbikge1xuICAgICAgaWYgKHByZWRpY2F0ZSh2YWx1ZSwga2V5LCBjb2xsZWN0aW9uKSkge1xuICAgICAgICByZXN1bHQgPSBrZXk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZpbmRJbmRleGAgYW5kIGBfLmZpbmRMYXN0SW5kZXhgIHdpdGhvdXRcbiAgICogc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbUluZGV4IFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICogQHBhcmFtIHtib29sZWFufSBbZnJvbVJpZ2h0XSBTcGVjaWZ5IGl0ZXJhdGluZyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlRmluZEluZGV4KGFycmF5LCBwcmVkaWNhdGUsIGZyb21JbmRleCwgZnJvbVJpZ2h0KSB7XG4gICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgaW5kZXggPSBmcm9tSW5kZXggKyAoZnJvbVJpZ2h0ID8gMSA6IC0xKTtcblxuICAgIHdoaWxlICgoZnJvbVJpZ2h0ID8gaW5kZXgtLSA6ICsraW5kZXggPCBsZW5ndGgpKSB7XG4gICAgICBpZiAocHJlZGljYXRlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAtMTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pbmRleE9mYCB3aXRob3V0IGBmcm9tSW5kZXhgIGJvdW5kcyBjaGVja3MuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbUluZGV4IFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VJbmRleE9mKGFycmF5LCB2YWx1ZSwgZnJvbUluZGV4KSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSB2YWx1ZVxuICAgICAgPyBzdHJpY3RJbmRleE9mKGFycmF5LCB2YWx1ZSwgZnJvbUluZGV4KVxuICAgICAgOiBiYXNlRmluZEluZGV4KGFycmF5LCBiYXNlSXNOYU4sIGZyb21JbmRleCk7XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBmdW5jdGlvbiBpcyBsaWtlIGBiYXNlSW5kZXhPZmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBhIGNvbXBhcmF0b3IuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbUluZGV4IFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY29tcGFyYXRvciBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZUluZGV4T2ZXaXRoKGFycmF5LCB2YWx1ZSwgZnJvbUluZGV4LCBjb21wYXJhdG9yKSB7XG4gICAgdmFyIGluZGV4ID0gZnJvbUluZGV4IC0gMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGlmIChjb21wYXJhdG9yKGFycmF5W2luZGV4XSwgdmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIC0xO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzTmFOYCB3aXRob3V0IHN1cHBvcnQgZm9yIG51bWJlciBvYmplY3RzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYE5hTmAsIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VJc05hTih2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSAhPT0gdmFsdWU7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubWVhbmAgYW5kIGBfLm1lYW5CeWAgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBtZWFuLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZU1lYW4oYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgIHJldHVybiBsZW5ndGggPyAoYmFzZVN1bShhcnJheSwgaXRlcmF0ZWUpIC8gbGVuZ3RoKSA6IE5BTjtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5wcm9wZXJ0eWAgd2l0aG91dCBzdXBwb3J0IGZvciBkZWVwIHBhdGhzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWNjZXNzb3IgZnVuY3Rpb24uXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlUHJvcGVydHkoa2V5KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W2tleV07XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5wcm9wZXJ0eU9mYCB3aXRob3V0IHN1cHBvcnQgZm9yIGRlZXAgcGF0aHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWNjZXNzb3IgZnVuY3Rpb24uXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlUHJvcGVydHlPZihvYmplY3QpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oa2V5KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBvYmplY3Rba2V5XTtcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnJlZHVjZWAgYW5kIGBfLnJlZHVjZVJpZ2h0YCwgd2l0aG91dCBzdXBwb3J0XG4gICAqIGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLCB3aGljaCBpdGVyYXRlcyBvdmVyIGBjb2xsZWN0aW9uYCB1c2luZyBgZWFjaEZ1bmNgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEBwYXJhbSB7Kn0gYWNjdW11bGF0b3IgVGhlIGluaXRpYWwgdmFsdWUuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gaW5pdEFjY3VtIFNwZWNpZnkgdXNpbmcgdGhlIGZpcnN0IG9yIGxhc3QgZWxlbWVudCBvZlxuICAgKiAgYGNvbGxlY3Rpb25gIGFzIHRoZSBpbml0aWFsIHZhbHVlLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBlYWNoRnVuYyBUaGUgZnVuY3Rpb24gdG8gaXRlcmF0ZSBvdmVyIGBjb2xsZWN0aW9uYC5cbiAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGFjY3VtdWxhdGVkIHZhbHVlLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVJlZHVjZShjb2xsZWN0aW9uLCBpdGVyYXRlZSwgYWNjdW11bGF0b3IsIGluaXRBY2N1bSwgZWFjaEZ1bmMpIHtcbiAgICBlYWNoRnVuYyhjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pIHtcbiAgICAgIGFjY3VtdWxhdG9yID0gaW5pdEFjY3VtXG4gICAgICAgID8gKGluaXRBY2N1bSA9IGZhbHNlLCB2YWx1ZSlcbiAgICAgICAgOiBpdGVyYXRlZShhY2N1bXVsYXRvciwgdmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKTtcbiAgICB9KTtcbiAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc29ydEJ5YCB3aGljaCB1c2VzIGBjb21wYXJlcmAgdG8gZGVmaW5lIHRoZVxuICAgKiBzb3J0IG9yZGVyIG9mIGBhcnJheWAgYW5kIHJlcGxhY2VzIGNyaXRlcmlhIG9iamVjdHMgd2l0aCB0aGVpciBjb3JyZXNwb25kaW5nXG4gICAqIHZhbHVlcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNvcnQuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbXBhcmVyIFRoZSBmdW5jdGlvbiB0byBkZWZpbmUgc29ydCBvcmRlci5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlU29ydEJ5KGFycmF5LCBjb21wYXJlcikge1xuICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICBhcnJheS5zb3J0KGNvbXBhcmVyKTtcbiAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgIGFycmF5W2xlbmd0aF0gPSBhcnJheVtsZW5ndGhdLnZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gYXJyYXk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc3VtYCBhbmQgYF8uc3VtQnlgIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc3VtLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVN1bShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICB2YXIgcmVzdWx0LFxuICAgICAgICBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgdmFyIGN1cnJlbnQgPSBpdGVyYXRlZShhcnJheVtpbmRleF0pO1xuICAgICAgaWYgKGN1cnJlbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXN1bHQgPSByZXN1bHQgPT09IHVuZGVmaW5lZCA/IGN1cnJlbnQgOiAocmVzdWx0ICsgY3VycmVudCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udGltZXNgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kc1xuICAgKiBvciBtYXggYXJyYXkgbGVuZ3RoIGNoZWNrcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiB0aW1lcyB0byBpbnZva2UgYGl0ZXJhdGVlYC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiByZXN1bHRzLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVRpbWVzKG4sIGl0ZXJhdGVlKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIHJlc3VsdCA9IEFycmF5KG4pO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBuKSB7XG4gICAgICByZXN1bHRbaW5kZXhdID0gaXRlcmF0ZWUoaW5kZXgpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnRvUGFpcnNgIGFuZCBgXy50b1BhaXJzSW5gIHdoaWNoIGNyZWF0ZXMgYW4gYXJyYXlcbiAgICogb2Yga2V5LXZhbHVlIHBhaXJzIGZvciBgb2JqZWN0YCBjb3JyZXNwb25kaW5nIHRvIHRoZSBwcm9wZXJ0eSBuYW1lcyBvZiBgcHJvcHNgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAqIEBwYXJhbSB7QXJyYXl9IHByb3BzIFRoZSBwcm9wZXJ0eSBuYW1lcyB0byBnZXQgdmFsdWVzIGZvci5cbiAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUga2V5LXZhbHVlIHBhaXJzLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVRvUGFpcnMob2JqZWN0LCBwcm9wcykge1xuICAgIHJldHVybiBhcnJheU1hcChwcm9wcywgZnVuY3Rpb24oa2V5KSB7XG4gICAgICByZXR1cm4gW2tleSwgb2JqZWN0W2tleV1dO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnRyaW1gLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gdHJpbS5cbiAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdHJpbW1lZCBzdHJpbmcuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlVHJpbShzdHJpbmcpIHtcbiAgICByZXR1cm4gc3RyaW5nXG4gICAgICA/IHN0cmluZy5zbGljZSgwLCB0cmltbWVkRW5kSW5kZXgoc3RyaW5nKSArIDEpLnJlcGxhY2UocmVUcmltU3RhcnQsICcnKVxuICAgICAgOiBzdHJpbmc7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udW5hcnlgIHdpdGhvdXQgc3VwcG9ydCBmb3Igc3RvcmluZyBtZXRhZGF0YS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2FwIGFyZ3VtZW50cyBmb3IuXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNhcHBlZCBmdW5jdGlvbi5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VVbmFyeShmdW5jKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gZnVuYyh2YWx1ZSk7XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy52YWx1ZXNgIGFuZCBgXy52YWx1ZXNJbmAgd2hpY2ggY3JlYXRlcyBhblxuICAgKiBhcnJheSBvZiBgb2JqZWN0YCBwcm9wZXJ0eSB2YWx1ZXMgY29ycmVzcG9uZGluZyB0byB0aGUgcHJvcGVydHkgbmFtZXNcbiAgICogb2YgYHByb3BzYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgKiBAcGFyYW0ge0FycmF5fSBwcm9wcyBUaGUgcHJvcGVydHkgbmFtZXMgdG8gZ2V0IHZhbHVlcyBmb3IuXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IHZhbHVlcy5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VWYWx1ZXMob2JqZWN0LCBwcm9wcykge1xuICAgIHJldHVybiBhcnJheU1hcChwcm9wcywgZnVuY3Rpb24oa2V5KSB7XG4gICAgICByZXR1cm4gb2JqZWN0W2tleV07XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIGEgYGNhY2hlYCB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gY2FjaGUgVGhlIGNhY2hlIHRvIHF1ZXJ5LlxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gY2FjaGVIYXMoY2FjaGUsIGtleSkge1xuICAgIHJldHVybiBjYWNoZS5oYXMoa2V5KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2VkIGJ5IGBfLnRyaW1gIGFuZCBgXy50cmltU3RhcnRgIHRvIGdldCB0aGUgaW5kZXggb2YgdGhlIGZpcnN0IHN0cmluZyBzeW1ib2xcbiAgICogdGhhdCBpcyBub3QgZm91bmQgaW4gdGhlIGNoYXJhY3RlciBzeW1ib2xzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBzdHJTeW1ib2xzIFRoZSBzdHJpbmcgc3ltYm9scyB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0ge0FycmF5fSBjaHJTeW1ib2xzIFRoZSBjaGFyYWN0ZXIgc3ltYm9scyB0byBmaW5kLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgZmlyc3QgdW5tYXRjaGVkIHN0cmluZyBzeW1ib2wuXG4gICAqL1xuICBmdW5jdGlvbiBjaGFyc1N0YXJ0SW5kZXgoc3RyU3ltYm9scywgY2hyU3ltYm9scykge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBzdHJTeW1ib2xzLmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoICYmIGJhc2VJbmRleE9mKGNoclN5bWJvbHMsIHN0clN5bWJvbHNbaW5kZXhdLCAwKSA+IC0xKSB7fVxuICAgIHJldHVybiBpbmRleDtcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2VkIGJ5IGBfLnRyaW1gIGFuZCBgXy50cmltRW5kYCB0byBnZXQgdGhlIGluZGV4IG9mIHRoZSBsYXN0IHN0cmluZyBzeW1ib2xcbiAgICogdGhhdCBpcyBub3QgZm91bmQgaW4gdGhlIGNoYXJhY3RlciBzeW1ib2xzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBzdHJTeW1ib2xzIFRoZSBzdHJpbmcgc3ltYm9scyB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0ge0FycmF5fSBjaHJTeW1ib2xzIFRoZSBjaGFyYWN0ZXIgc3ltYm9scyB0byBmaW5kLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbGFzdCB1bm1hdGNoZWQgc3RyaW5nIHN5bWJvbC5cbiAgICovXG4gIGZ1bmN0aW9uIGNoYXJzRW5kSW5kZXgoc3RyU3ltYm9scywgY2hyU3ltYm9scykge1xuICAgIHZhciBpbmRleCA9IHN0clN5bWJvbHMubGVuZ3RoO1xuXG4gICAgd2hpbGUgKGluZGV4LS0gJiYgYmFzZUluZGV4T2YoY2hyU3ltYm9scywgc3RyU3ltYm9sc1tpbmRleF0sIDApID4gLTEpIHt9XG4gICAgcmV0dXJuIGluZGV4O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIG51bWJlciBvZiBgcGxhY2Vob2xkZXJgIG9jY3VycmVuY2VzIGluIGBhcnJheWAuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0geyp9IHBsYWNlaG9sZGVyIFRoZSBwbGFjZWhvbGRlciB0byBzZWFyY2ggZm9yLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBwbGFjZWhvbGRlciBjb3VudC5cbiAgICovXG4gIGZ1bmN0aW9uIGNvdW50SG9sZGVycyhhcnJheSwgcGxhY2Vob2xkZXIpIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICByZXN1bHQgPSAwO1xuXG4gICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICBpZiAoYXJyYXlbbGVuZ3RoXSA9PT0gcGxhY2Vob2xkZXIpIHtcbiAgICAgICAgKytyZXN1bHQ7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogVXNlZCBieSBgXy5kZWJ1cnJgIHRvIGNvbnZlcnQgTGF0aW4tMSBTdXBwbGVtZW50IGFuZCBMYXRpbiBFeHRlbmRlZC1BXG4gICAqIGxldHRlcnMgdG8gYmFzaWMgTGF0aW4gbGV0dGVycy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IGxldHRlciBUaGUgbWF0Y2hlZCBsZXR0ZXIgdG8gZGVidXJyLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBkZWJ1cnJlZCBsZXR0ZXIuXG4gICAqL1xuICB2YXIgZGVidXJyTGV0dGVyID0gYmFzZVByb3BlcnR5T2YoZGVidXJyZWRMZXR0ZXJzKTtcblxuICAvKipcbiAgICogVXNlZCBieSBgXy5lc2NhcGVgIHRvIGNvbnZlcnQgY2hhcmFjdGVycyB0byBIVE1MIGVudGl0aWVzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gY2hyIFRoZSBtYXRjaGVkIGNoYXJhY3RlciB0byBlc2NhcGUuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGVzY2FwZWQgY2hhcmFjdGVyLlxuICAgKi9cbiAgdmFyIGVzY2FwZUh0bWxDaGFyID0gYmFzZVByb3BlcnR5T2YoaHRtbEVzY2FwZXMpO1xuXG4gIC8qKlxuICAgKiBVc2VkIGJ5IGBfLnRlbXBsYXRlYCB0byBlc2NhcGUgY2hhcmFjdGVycyBmb3IgaW5jbHVzaW9uIGluIGNvbXBpbGVkIHN0cmluZyBsaXRlcmFscy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNociBUaGUgbWF0Y2hlZCBjaGFyYWN0ZXIgdG8gZXNjYXBlLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBlc2NhcGVkIGNoYXJhY3Rlci5cbiAgICovXG4gIGZ1bmN0aW9uIGVzY2FwZVN0cmluZ0NoYXIoY2hyKSB7XG4gICAgcmV0dXJuICdcXFxcJyArIHN0cmluZ0VzY2FwZXNbY2hyXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSB2YWx1ZSBhdCBga2V5YCBvZiBgb2JqZWN0YC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcHJvcGVydHkgdmFsdWUuXG4gICAqL1xuICBmdW5jdGlvbiBnZXRWYWx1ZShvYmplY3QsIGtleSkge1xuICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG9iamVjdFtrZXldO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBgc3RyaW5nYCBjb250YWlucyBVbmljb2RlIHN5bWJvbHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYSBzeW1ib2wgaXMgZm91bmQsIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGhhc1VuaWNvZGUoc3RyaW5nKSB7XG4gICAgcmV0dXJuIHJlSGFzVW5pY29kZS50ZXN0KHN0cmluZyk7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIGBzdHJpbmdgIGNvbnRhaW5zIGEgd29yZCBjb21wb3NlZCBvZiBVbmljb2RlIHN5bWJvbHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYSB3b3JkIGlzIGZvdW5kLCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBoYXNVbmljb2RlV29yZChzdHJpbmcpIHtcbiAgICByZXR1cm4gcmVIYXNVbmljb2RlV29yZC50ZXN0KHN0cmluZyk7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgYGl0ZXJhdG9yYCB0byBhbiBhcnJheS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IGl0ZXJhdG9yIFRoZSBpdGVyYXRvciB0byBjb252ZXJ0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBhcnJheS5cbiAgICovXG4gIGZ1bmN0aW9uIGl0ZXJhdG9yVG9BcnJheShpdGVyYXRvcikge1xuICAgIHZhciBkYXRhLFxuICAgICAgICByZXN1bHQgPSBbXTtcblxuICAgIHdoaWxlICghKGRhdGEgPSBpdGVyYXRvci5uZXh0KCkpLmRvbmUpIHtcbiAgICAgIHJlc3VsdC5wdXNoKGRhdGEudmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIGBtYXBgIHRvIGl0cyBrZXktdmFsdWUgcGFpcnMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBtYXAgVGhlIG1hcCB0byBjb252ZXJ0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGtleS12YWx1ZSBwYWlycy5cbiAgICovXG4gIGZ1bmN0aW9uIG1hcFRvQXJyYXkobWFwKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIHJlc3VsdCA9IEFycmF5KG1hcC5zaXplKTtcblxuICAgIG1hcC5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgIHJlc3VsdFsrK2luZGV4XSA9IFtrZXksIHZhbHVlXTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSB1bmFyeSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggaXRzIGFyZ3VtZW50IHRyYW5zZm9ybWVkLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB0cmFuc2Zvcm0gVGhlIGFyZ3VtZW50IHRyYW5zZm9ybS5cbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAqL1xuICBmdW5jdGlvbiBvdmVyQXJnKGZ1bmMsIHRyYW5zZm9ybSkge1xuICAgIHJldHVybiBmdW5jdGlvbihhcmcpIHtcbiAgICAgIHJldHVybiBmdW5jKHRyYW5zZm9ybShhcmcpKTtcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFJlcGxhY2VzIGFsbCBgcGxhY2Vob2xkZXJgIGVsZW1lbnRzIGluIGBhcnJheWAgd2l0aCBhbiBpbnRlcm5hbCBwbGFjZWhvbGRlclxuICAgKiBhbmQgcmV0dXJucyBhbiBhcnJheSBvZiB0aGVpciBpbmRleGVzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgKiBAcGFyYW0geyp9IHBsYWNlaG9sZGVyIFRoZSBwbGFjZWhvbGRlciB0byByZXBsYWNlLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBwbGFjZWhvbGRlciBpbmRleGVzLlxuICAgKi9cbiAgZnVuY3Rpb24gcmVwbGFjZUhvbGRlcnMoYXJyYXksIHBsYWNlaG9sZGVyKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgcmVzSW5kZXggPSAwLFxuICAgICAgICByZXN1bHQgPSBbXTtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG4gICAgICBpZiAodmFsdWUgPT09IHBsYWNlaG9sZGVyIHx8IHZhbHVlID09PSBQTEFDRUhPTERFUikge1xuICAgICAgICBhcnJheVtpbmRleF0gPSBQTEFDRUhPTERFUjtcbiAgICAgICAgcmVzdWx0W3Jlc0luZGV4KytdID0gaW5kZXg7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgYHNldGAgdG8gYW4gYXJyYXkgb2YgaXRzIHZhbHVlcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IHNldCBUaGUgc2V0IHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgdmFsdWVzLlxuICAgKi9cbiAgZnVuY3Rpb24gc2V0VG9BcnJheShzZXQpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgcmVzdWx0ID0gQXJyYXkoc2V0LnNpemUpO1xuXG4gICAgc2V0LmZvckVhY2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJlc3VsdFsrK2luZGV4XSA9IHZhbHVlO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgYHNldGAgdG8gaXRzIHZhbHVlLXZhbHVlIHBhaXJzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gc2V0IFRoZSBzZXQgdG8gY29udmVydC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSB2YWx1ZS12YWx1ZSBwYWlycy5cbiAgICovXG4gIGZ1bmN0aW9uIHNldFRvUGFpcnMoc2V0KSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIHJlc3VsdCA9IEFycmF5KHNldC5zaXplKTtcblxuICAgIHNldC5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXN1bHRbKytpbmRleF0gPSBbdmFsdWUsIHZhbHVlXTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5pbmRleE9mYCB3aGljaCBwZXJmb3JtcyBzdHJpY3QgZXF1YWxpdHlcbiAgICogY29tcGFyaXNvbnMgb2YgdmFsdWVzLCBpLmUuIGA9PT1gLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGZyb21JbmRleCBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAqL1xuICBmdW5jdGlvbiBzdHJpY3RJbmRleE9mKGFycmF5LCB2YWx1ZSwgZnJvbUluZGV4KSB7XG4gICAgdmFyIGluZGV4ID0gZnJvbUluZGV4IC0gMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGlmIChhcnJheVtpbmRleF0gPT09IHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIC0xO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5sYXN0SW5kZXhPZmAgd2hpY2ggcGVyZm9ybXMgc3RyaWN0IGVxdWFsaXR5XG4gICAqIGNvbXBhcmlzb25zIG9mIHZhbHVlcywgaS5lLiBgPT09YC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tSW5kZXggVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgKi9cbiAgZnVuY3Rpb24gc3RyaWN0TGFzdEluZGV4T2YoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgpIHtcbiAgICB2YXIgaW5kZXggPSBmcm9tSW5kZXggKyAxO1xuICAgIHdoaWxlIChpbmRleC0tKSB7XG4gICAgICBpZiAoYXJyYXlbaW5kZXhdID09PSB2YWx1ZSkge1xuICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBpbmRleDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBudW1iZXIgb2Ygc3ltYm9scyBpbiBgc3RyaW5nYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHN0cmluZyBzaXplLlxuICAgKi9cbiAgZnVuY3Rpb24gc3RyaW5nU2l6ZShzdHJpbmcpIHtcbiAgICByZXR1cm4gaGFzVW5pY29kZShzdHJpbmcpXG4gICAgICA/IHVuaWNvZGVTaXplKHN0cmluZylcbiAgICAgIDogYXNjaWlTaXplKHN0cmluZyk7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgYHN0cmluZ2AgdG8gYW4gYXJyYXkuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBhcnJheS5cbiAgICovXG4gIGZ1bmN0aW9uIHN0cmluZ1RvQXJyYXkoc3RyaW5nKSB7XG4gICAgcmV0dXJuIGhhc1VuaWNvZGUoc3RyaW5nKVxuICAgICAgPyB1bmljb2RlVG9BcnJheShzdHJpbmcpXG4gICAgICA6IGFzY2lpVG9BcnJheShzdHJpbmcpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVzZWQgYnkgYF8udHJpbWAgYW5kIGBfLnRyaW1FbmRgIHRvIGdldCB0aGUgaW5kZXggb2YgdGhlIGxhc3Qgbm9uLXdoaXRlc3BhY2VcbiAgICogY2hhcmFjdGVyIG9mIGBzdHJpbmdgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGxhc3Qgbm9uLXdoaXRlc3BhY2UgY2hhcmFjdGVyLlxuICAgKi9cbiAgZnVuY3Rpb24gdHJpbW1lZEVuZEluZGV4KHN0cmluZykge1xuICAgIHZhciBpbmRleCA9IHN0cmluZy5sZW5ndGg7XG5cbiAgICB3aGlsZSAoaW5kZXgtLSAmJiByZVdoaXRlc3BhY2UudGVzdChzdHJpbmcuY2hhckF0KGluZGV4KSkpIHt9XG4gICAgcmV0dXJuIGluZGV4O1xuICB9XG5cbiAgLyoqXG4gICAqIFVzZWQgYnkgYF8udW5lc2NhcGVgIHRvIGNvbnZlcnQgSFRNTCBlbnRpdGllcyB0byBjaGFyYWN0ZXJzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gY2hyIFRoZSBtYXRjaGVkIGNoYXJhY3RlciB0byB1bmVzY2FwZS5cbiAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdW5lc2NhcGVkIGNoYXJhY3Rlci5cbiAgICovXG4gIHZhciB1bmVzY2FwZUh0bWxDaGFyID0gYmFzZVByb3BlcnR5T2YoaHRtbFVuZXNjYXBlcyk7XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIHNpemUgb2YgYSBVbmljb2RlIGBzdHJpbmdgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgaW5zcGVjdC5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc3RyaW5nIHNpemUuXG4gICAqL1xuICBmdW5jdGlvbiB1bmljb2RlU2l6ZShzdHJpbmcpIHtcbiAgICB2YXIgcmVzdWx0ID0gcmVVbmljb2RlLmxhc3RJbmRleCA9IDA7XG4gICAgd2hpbGUgKHJlVW5pY29kZS50ZXN0KHN0cmluZykpIHtcbiAgICAgICsrcmVzdWx0O1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIGEgVW5pY29kZSBgc3RyaW5nYCB0byBhbiBhcnJheS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY29udmVydGVkIGFycmF5LlxuICAgKi9cbiAgZnVuY3Rpb24gdW5pY29kZVRvQXJyYXkoc3RyaW5nKSB7XG4gICAgcmV0dXJuIHN0cmluZy5tYXRjaChyZVVuaWNvZGUpIHx8IFtdO1xuICB9XG5cbiAgLyoqXG4gICAqIFNwbGl0cyBhIFVuaWNvZGUgYHN0cmluZ2AgaW50byBhbiBhcnJheSBvZiBpdHMgd29yZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgd29yZHMgb2YgYHN0cmluZ2AuXG4gICAqL1xuICBmdW5jdGlvbiB1bmljb2RlV29yZHMoc3RyaW5nKSB7XG4gICAgcmV0dXJuIHN0cmluZy5tYXRjaChyZVVuaWNvZGVXb3JkKSB8fCBbXTtcbiAgfVxuXG4gIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgcHJpc3RpbmUgYGxvZGFzaGAgZnVuY3Rpb24gdXNpbmcgdGhlIGBjb250ZXh0YCBvYmplY3QuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIF9cbiAgICogQHNpbmNlIDEuMS4wXG4gICAqIEBjYXRlZ29yeSBVdGlsXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbY29udGV4dD1yb290XSBUaGUgY29udGV4dCBvYmplY3QuXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBhIG5ldyBgbG9kYXNoYCBmdW5jdGlvbi5cbiAgICogQGV4YW1wbGVcbiAgICpcbiAgICogXy5taXhpbih7ICdmb28nOiBfLmNvbnN0YW50KCdmb28nKSB9KTtcbiAgICpcbiAgICogdmFyIGxvZGFzaCA9IF8ucnVuSW5Db250ZXh0KCk7XG4gICAqIGxvZGFzaC5taXhpbih7ICdiYXInOiBsb2Rhc2guY29uc3RhbnQoJ2JhcicpIH0pO1xuICAgKlxuICAgKiBfLmlzRnVuY3Rpb24oXy5mb28pO1xuICAgKiAvLyA9PiB0cnVlXG4gICAqIF8uaXNGdW5jdGlvbihfLmJhcik7XG4gICAqIC8vID0+IGZhbHNlXG4gICAqXG4gICAqIGxvZGFzaC5pc0Z1bmN0aW9uKGxvZGFzaC5mb28pO1xuICAgKiAvLyA9PiBmYWxzZVxuICAgKiBsb2Rhc2guaXNGdW5jdGlvbihsb2Rhc2guYmFyKTtcbiAgICogLy8gPT4gdHJ1ZVxuICAgKlxuICAgKiAvLyBDcmVhdGUgYSBzdXBlZC11cCBgZGVmZXJgIGluIE5vZGUuanMuXG4gICAqIHZhciBkZWZlciA9IF8ucnVuSW5Db250ZXh0KHsgJ3NldFRpbWVvdXQnOiBzZXRJbW1lZGlhdGUgfSkuZGVmZXI7XG4gICAqL1xuICB2YXIgcnVuSW5Db250ZXh0ID0gKGZ1bmN0aW9uIHJ1bkluQ29udGV4dChjb250ZXh0KSB7XG4gICAgY29udGV4dCA9IGNvbnRleHQgPT0gbnVsbCA/IHJvb3QgOiBfLmRlZmF1bHRzKHJvb3QuT2JqZWN0KCksIGNvbnRleHQsIF8ucGljayhyb290LCBjb250ZXh0UHJvcHMpKTtcblxuICAgIC8qKiBCdWlsdC1pbiBjb25zdHJ1Y3RvciByZWZlcmVuY2VzLiAqL1xuICAgIHZhciBBcnJheSA9IGNvbnRleHQuQXJyYXksXG4gICAgICAgIERhdGUgPSBjb250ZXh0LkRhdGUsXG4gICAgICAgIEVycm9yID0gY29udGV4dC5FcnJvcixcbiAgICAgICAgRnVuY3Rpb24gPSBjb250ZXh0LkZ1bmN0aW9uLFxuICAgICAgICBNYXRoID0gY29udGV4dC5NYXRoLFxuICAgICAgICBPYmplY3QgPSBjb250ZXh0Lk9iamVjdCxcbiAgICAgICAgUmVnRXhwID0gY29udGV4dC5SZWdFeHAsXG4gICAgICAgIFN0cmluZyA9IGNvbnRleHQuU3RyaW5nLFxuICAgICAgICBUeXBlRXJyb3IgPSBjb250ZXh0LlR5cGVFcnJvcjtcblxuICAgIC8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbiAgICB2YXIgYXJyYXlQcm90byA9IEFycmF5LnByb3RvdHlwZSxcbiAgICAgICAgZnVuY1Byb3RvID0gRnVuY3Rpb24ucHJvdG90eXBlLFxuICAgICAgICBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbiAgICAvKiogVXNlZCB0byBkZXRlY3Qgb3ZlcnJlYWNoaW5nIGNvcmUtanMgc2hpbXMuICovXG4gICAgdmFyIGNvcmVKc0RhdGEgPSBjb250ZXh0WydfX2NvcmUtanNfc2hhcmVkX18nXTtcblxuICAgIC8qKiBVc2VkIHRvIHJlc29sdmUgdGhlIGRlY29tcGlsZWQgc291cmNlIG9mIGZ1bmN0aW9ucy4gKi9cbiAgICB2YXIgZnVuY1RvU3RyaW5nID0gZnVuY1Byb3RvLnRvU3RyaW5nO1xuXG4gICAgLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG4gICAgdmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbiAgICAvKiogVXNlZCB0byBnZW5lcmF0ZSB1bmlxdWUgSURzLiAqL1xuICAgIHZhciBpZENvdW50ZXIgPSAwO1xuXG4gICAgLyoqIFVzZWQgdG8gZGV0ZWN0IG1ldGhvZHMgbWFzcXVlcmFkaW5nIGFzIG5hdGl2ZS4gKi9cbiAgICB2YXIgbWFza1NyY0tleSA9IChmdW5jdGlvbigpIHtcbiAgICAgIHZhciB1aWQgPSAvW14uXSskLy5leGVjKGNvcmVKc0RhdGEgJiYgY29yZUpzRGF0YS5rZXlzICYmIGNvcmVKc0RhdGEua2V5cy5JRV9QUk9UTyB8fCAnJyk7XG4gICAgICByZXR1cm4gdWlkID8gKCdTeW1ib2woc3JjKV8xLicgKyB1aWQpIDogJyc7XG4gICAgfSgpKTtcblxuICAgIC8qKlxuICAgICAqIFVzZWQgdG8gcmVzb2x2ZSB0aGVcbiAgICAgKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcbiAgICAgKiBvZiB2YWx1ZXMuXG4gICAgICovXG4gICAgdmFyIG5hdGl2ZU9iamVjdFRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cbiAgICAvKiogVXNlZCB0byBpbmZlciB0aGUgYE9iamVjdGAgY29uc3RydWN0b3IuICovXG4gICAgdmFyIG9iamVjdEN0b3JTdHJpbmcgPSBmdW5jVG9TdHJpbmcuY2FsbChPYmplY3QpO1xuXG4gICAgLyoqIFVzZWQgdG8gcmVzdG9yZSB0aGUgb3JpZ2luYWwgYF9gIHJlZmVyZW5jZSBpbiBgXy5ub0NvbmZsaWN0YC4gKi9cbiAgICB2YXIgb2xkRGFzaCA9IHJvb3QuXztcblxuICAgIC8qKiBVc2VkIHRvIGRldGVjdCBpZiBhIG1ldGhvZCBpcyBuYXRpdmUuICovXG4gICAgdmFyIHJlSXNOYXRpdmUgPSBSZWdFeHAoJ14nICtcbiAgICAgIGZ1bmNUb1N0cmluZy5jYWxsKGhhc093blByb3BlcnR5KS5yZXBsYWNlKHJlUmVnRXhwQ2hhciwgJ1xcXFwkJicpXG4gICAgICAucmVwbGFjZSgvaGFzT3duUHJvcGVydHl8KGZ1bmN0aW9uKS4qPyg/PVxcXFxcXCgpfCBmb3IgLis/KD89XFxcXFxcXSkvZywgJyQxLio/JykgKyAnJCdcbiAgICApO1xuXG4gICAgLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG4gICAgdmFyIEJ1ZmZlciA9IG1vZHVsZUV4cG9ydHMgPyBjb250ZXh0LkJ1ZmZlciA6IHVuZGVmaW5lZCxcbiAgICAgICAgU3ltYm9sID0gY29udGV4dC5TeW1ib2wsXG4gICAgICAgIFVpbnQ4QXJyYXkgPSBjb250ZXh0LlVpbnQ4QXJyYXksXG4gICAgICAgIGFsbG9jVW5zYWZlID0gQnVmZmVyID8gQnVmZmVyLmFsbG9jVW5zYWZlIDogdW5kZWZpbmVkLFxuICAgICAgICBnZXRQcm90b3R5cGUgPSBvdmVyQXJnKE9iamVjdC5nZXRQcm90b3R5cGVPZiwgT2JqZWN0KSxcbiAgICAgICAgb2JqZWN0Q3JlYXRlID0gT2JqZWN0LmNyZWF0ZSxcbiAgICAgICAgcHJvcGVydHlJc0VudW1lcmFibGUgPSBvYmplY3RQcm90by5wcm9wZXJ0eUlzRW51bWVyYWJsZSxcbiAgICAgICAgc3BsaWNlID0gYXJyYXlQcm90by5zcGxpY2UsXG4gICAgICAgIHNwcmVhZGFibGVTeW1ib2wgPSBTeW1ib2wgPyBTeW1ib2wuaXNDb25jYXRTcHJlYWRhYmxlIDogdW5kZWZpbmVkLFxuICAgICAgICBzeW1JdGVyYXRvciA9IFN5bWJvbCA/IFN5bWJvbC5pdGVyYXRvciA6IHVuZGVmaW5lZCxcbiAgICAgICAgc3ltVG9TdHJpbmdUYWcgPSBTeW1ib2wgPyBTeW1ib2wudG9TdHJpbmdUYWcgOiB1bmRlZmluZWQ7XG5cbiAgICB2YXIgZGVmaW5lUHJvcGVydHkgPSAoZnVuY3Rpb24oKSB7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgZnVuYyA9IGdldE5hdGl2ZShPYmplY3QsICdkZWZpbmVQcm9wZXJ0eScpO1xuICAgICAgICBmdW5jKHt9LCAnJywge30pO1xuICAgICAgICByZXR1cm4gZnVuYztcbiAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgfSgpKTtcblxuICAgIC8qKiBNb2NrZWQgYnVpbHQtaW5zLiAqL1xuICAgIHZhciBjdHhDbGVhclRpbWVvdXQgPSBjb250ZXh0LmNsZWFyVGltZW91dCAhPT0gcm9vdC5jbGVhclRpbWVvdXQgJiYgY29udGV4dC5jbGVhclRpbWVvdXQsXG4gICAgICAgIGN0eE5vdyA9IERhdGUgJiYgRGF0ZS5ub3cgIT09IHJvb3QuRGF0ZS5ub3cgJiYgRGF0ZS5ub3csXG4gICAgICAgIGN0eFNldFRpbWVvdXQgPSBjb250ZXh0LnNldFRpbWVvdXQgIT09IHJvb3Quc2V0VGltZW91dCAmJiBjb250ZXh0LnNldFRpbWVvdXQ7XG5cbiAgICAvKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyBmb3IgdGhvc2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMuICovXG4gICAgdmFyIG5hdGl2ZUNlaWwgPSBNYXRoLmNlaWwsXG4gICAgICAgIG5hdGl2ZUZsb29yID0gTWF0aC5mbG9vcixcbiAgICAgICAgbmF0aXZlR2V0U3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsXG4gICAgICAgIG5hdGl2ZUlzQnVmZmVyID0gQnVmZmVyID8gQnVmZmVyLmlzQnVmZmVyIDogdW5kZWZpbmVkLFxuICAgICAgICBuYXRpdmVJc0Zpbml0ZSA9IGNvbnRleHQuaXNGaW5pdGUsXG4gICAgICAgIG5hdGl2ZUpvaW4gPSBhcnJheVByb3RvLmpvaW4sXG4gICAgICAgIG5hdGl2ZUtleXMgPSBvdmVyQXJnKE9iamVjdC5rZXlzLCBPYmplY3QpLFxuICAgICAgICBuYXRpdmVNYXggPSBNYXRoLm1heCxcbiAgICAgICAgbmF0aXZlTWluID0gTWF0aC5taW4sXG4gICAgICAgIG5hdGl2ZU5vdyA9IERhdGUubm93LFxuICAgICAgICBuYXRpdmVQYXJzZUludCA9IGNvbnRleHQucGFyc2VJbnQsXG4gICAgICAgIG5hdGl2ZVJhbmRvbSA9IE1hdGgucmFuZG9tLFxuICAgICAgICBuYXRpdmVSZXZlcnNlID0gYXJyYXlQcm90by5yZXZlcnNlO1xuXG4gICAgLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgdGhhdCBhcmUgdmVyaWZpZWQgdG8gYmUgbmF0aXZlLiAqL1xuICAgIHZhciBEYXRhVmlldyA9IGdldE5hdGl2ZShjb250ZXh0LCAnRGF0YVZpZXcnKSxcbiAgICAgICAgTWFwID0gZ2V0TmF0aXZlKGNvbnRleHQsICdNYXAnKSxcbiAgICAgICAgUHJvbWlzZSA9IGdldE5hdGl2ZShjb250ZXh0LCAnUHJvbWlzZScpLFxuICAgICAgICBTZXQgPSBnZXROYXRpdmUoY29udGV4dCwgJ1NldCcpLFxuICAgICAgICBXZWFrTWFwID0gZ2V0TmF0aXZlKGNvbnRleHQsICdXZWFrTWFwJyksXG4gICAgICAgIG5hdGl2ZUNyZWF0ZSA9IGdldE5hdGl2ZShPYmplY3QsICdjcmVhdGUnKTtcblxuICAgIC8qKiBVc2VkIHRvIHN0b3JlIGZ1bmN0aW9uIG1ldGFkYXRhLiAqL1xuICAgIHZhciBtZXRhTWFwID0gV2Vha01hcCAmJiBuZXcgV2Vha01hcDtcblxuICAgIC8qKiBVc2VkIHRvIGxvb2t1cCB1bm1pbmlmaWVkIGZ1bmN0aW9uIG5hbWVzLiAqL1xuICAgIHZhciByZWFsTmFtZXMgPSB7fTtcblxuICAgIC8qKiBVc2VkIHRvIGRldGVjdCBtYXBzLCBzZXRzLCBhbmQgd2Vha21hcHMuICovXG4gICAgdmFyIGRhdGFWaWV3Q3RvclN0cmluZyA9IHRvU291cmNlKERhdGFWaWV3KSxcbiAgICAgICAgbWFwQ3RvclN0cmluZyA9IHRvU291cmNlKE1hcCksXG4gICAgICAgIHByb21pc2VDdG9yU3RyaW5nID0gdG9Tb3VyY2UoUHJvbWlzZSksXG4gICAgICAgIHNldEN0b3JTdHJpbmcgPSB0b1NvdXJjZShTZXQpLFxuICAgICAgICB3ZWFrTWFwQ3RvclN0cmluZyA9IHRvU291cmNlKFdlYWtNYXApO1xuXG4gICAgLyoqIFVzZWQgdG8gY29udmVydCBzeW1ib2xzIHRvIHByaW1pdGl2ZXMgYW5kIHN0cmluZ3MuICovXG4gICAgdmFyIHN5bWJvbFByb3RvID0gU3ltYm9sID8gU3ltYm9sLnByb3RvdHlwZSA6IHVuZGVmaW5lZCxcbiAgICAgICAgc3ltYm9sVmFsdWVPZiA9IHN5bWJvbFByb3RvID8gc3ltYm9sUHJvdG8udmFsdWVPZiA6IHVuZGVmaW5lZCxcbiAgICAgICAgc3ltYm9sVG9TdHJpbmcgPSBzeW1ib2xQcm90byA/IHN5bWJvbFByb3RvLnRvU3RyaW5nIDogdW5kZWZpbmVkO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBsb2Rhc2hgIG9iamVjdCB3aGljaCB3cmFwcyBgdmFsdWVgIHRvIGVuYWJsZSBpbXBsaWNpdCBtZXRob2RcbiAgICAgKiBjaGFpbiBzZXF1ZW5jZXMuIE1ldGhvZHMgdGhhdCBvcGVyYXRlIG9uIGFuZCByZXR1cm4gYXJyYXlzLCBjb2xsZWN0aW9ucyxcbiAgICAgKiBhbmQgZnVuY3Rpb25zIGNhbiBiZSBjaGFpbmVkIHRvZ2V0aGVyLiBNZXRob2RzIHRoYXQgcmV0cmlldmUgYSBzaW5nbGUgdmFsdWVcbiAgICAgKiBvciBtYXkgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlIHdpbGwgYXV0b21hdGljYWxseSBlbmQgdGhlIGNoYWluIHNlcXVlbmNlXG4gICAgICogYW5kIHJldHVybiB0aGUgdW53cmFwcGVkIHZhbHVlLiBPdGhlcndpc2UsIHRoZSB2YWx1ZSBtdXN0IGJlIHVud3JhcHBlZFxuICAgICAqIHdpdGggYF8jdmFsdWVgLlxuICAgICAqXG4gICAgICogRXhwbGljaXQgY2hhaW4gc2VxdWVuY2VzLCB3aGljaCBtdXN0IGJlIHVud3JhcHBlZCB3aXRoIGBfI3ZhbHVlYCwgbWF5IGJlXG4gICAgICogZW5hYmxlZCB1c2luZyBgXy5jaGFpbmAuXG4gICAgICpcbiAgICAgKiBUaGUgZXhlY3V0aW9uIG9mIGNoYWluZWQgbWV0aG9kcyBpcyBsYXp5LCB0aGF0IGlzLCBpdCdzIGRlZmVycmVkIHVudGlsXG4gICAgICogYF8jdmFsdWVgIGlzIGltcGxpY2l0bHkgb3IgZXhwbGljaXRseSBjYWxsZWQuXG4gICAgICpcbiAgICAgKiBMYXp5IGV2YWx1YXRpb24gYWxsb3dzIHNldmVyYWwgbWV0aG9kcyB0byBzdXBwb3J0IHNob3J0Y3V0IGZ1c2lvbi5cbiAgICAgKiBTaG9ydGN1dCBmdXNpb24gaXMgYW4gb3B0aW1pemF0aW9uIHRvIG1lcmdlIGl0ZXJhdGVlIGNhbGxzOyB0aGlzIGF2b2lkc1xuICAgICAqIHRoZSBjcmVhdGlvbiBvZiBpbnRlcm1lZGlhdGUgYXJyYXlzIGFuZCBjYW4gZ3JlYXRseSByZWR1Y2UgdGhlIG51bWJlciBvZlxuICAgICAqIGl0ZXJhdGVlIGV4ZWN1dGlvbnMuIFNlY3Rpb25zIG9mIGEgY2hhaW4gc2VxdWVuY2UgcXVhbGlmeSBmb3Igc2hvcnRjdXRcbiAgICAgKiBmdXNpb24gaWYgdGhlIHNlY3Rpb24gaXMgYXBwbGllZCB0byBhbiBhcnJheSBhbmQgaXRlcmF0ZWVzIGFjY2VwdCBvbmx5XG4gICAgICogb25lIGFyZ3VtZW50LiBUaGUgaGV1cmlzdGljIGZvciB3aGV0aGVyIGEgc2VjdGlvbiBxdWFsaWZpZXMgZm9yIHNob3J0Y3V0XG4gICAgICogZnVzaW9uIGlzIHN1YmplY3QgdG8gY2hhbmdlLlxuICAgICAqXG4gICAgICogQ2hhaW5pbmcgaXMgc3VwcG9ydGVkIGluIGN1c3RvbSBidWlsZHMgYXMgbG9uZyBhcyB0aGUgYF8jdmFsdWVgIG1ldGhvZCBpc1xuICAgICAqIGRpcmVjdGx5IG9yIGluZGlyZWN0bHkgaW5jbHVkZWQgaW4gdGhlIGJ1aWxkLlxuICAgICAqXG4gICAgICogSW4gYWRkaXRpb24gdG8gbG9kYXNoIG1ldGhvZHMsIHdyYXBwZXJzIGhhdmUgYEFycmF5YCBhbmQgYFN0cmluZ2AgbWV0aG9kcy5cbiAgICAgKlxuICAgICAqIFRoZSB3cmFwcGVyIGBBcnJheWAgbWV0aG9kcyBhcmU6XG4gICAgICogYGNvbmNhdGAsIGBqb2luYCwgYHBvcGAsIGBwdXNoYCwgYHNoaWZ0YCwgYHNvcnRgLCBgc3BsaWNlYCwgYW5kIGB1bnNoaWZ0YFxuICAgICAqXG4gICAgICogVGhlIHdyYXBwZXIgYFN0cmluZ2AgbWV0aG9kcyBhcmU6XG4gICAgICogYHJlcGxhY2VgIGFuZCBgc3BsaXRgXG4gICAgICpcbiAgICAgKiBUaGUgd3JhcHBlciBtZXRob2RzIHRoYXQgc3VwcG9ydCBzaG9ydGN1dCBmdXNpb24gYXJlOlxuICAgICAqIGBhdGAsIGBjb21wYWN0YCwgYGRyb3BgLCBgZHJvcFJpZ2h0YCwgYGRyb3BXaGlsZWAsIGBmaWx0ZXJgLCBgZmluZGAsXG4gICAgICogYGZpbmRMYXN0YCwgYGhlYWRgLCBgaW5pdGlhbGAsIGBsYXN0YCwgYG1hcGAsIGByZWplY3RgLCBgcmV2ZXJzZWAsIGBzbGljZWAsXG4gICAgICogYHRhaWxgLCBgdGFrZWAsIGB0YWtlUmlnaHRgLCBgdGFrZVJpZ2h0V2hpbGVgLCBgdGFrZVdoaWxlYCwgYW5kIGB0b0FycmF5YFxuICAgICAqXG4gICAgICogVGhlIGNoYWluYWJsZSB3cmFwcGVyIG1ldGhvZHMgYXJlOlxuICAgICAqIGBhZnRlcmAsIGBhcnlgLCBgYXNzaWduYCwgYGFzc2lnbkluYCwgYGFzc2lnbkluV2l0aGAsIGBhc3NpZ25XaXRoYCwgYGF0YCxcbiAgICAgKiBgYmVmb3JlYCwgYGJpbmRgLCBgYmluZEFsbGAsIGBiaW5kS2V5YCwgYGNhc3RBcnJheWAsIGBjaGFpbmAsIGBjaHVua2AsXG4gICAgICogYGNvbW1pdGAsIGBjb21wYWN0YCwgYGNvbmNhdGAsIGBjb25mb3Jtc2AsIGBjb25zdGFudGAsIGBjb3VudEJ5YCwgYGNyZWF0ZWAsXG4gICAgICogYGN1cnJ5YCwgYGRlYm91bmNlYCwgYGRlZmF1bHRzYCwgYGRlZmF1bHRzRGVlcGAsIGBkZWZlcmAsIGBkZWxheWAsXG4gICAgICogYGRpZmZlcmVuY2VgLCBgZGlmZmVyZW5jZUJ5YCwgYGRpZmZlcmVuY2VXaXRoYCwgYGRyb3BgLCBgZHJvcFJpZ2h0YCxcbiAgICAgKiBgZHJvcFJpZ2h0V2hpbGVgLCBgZHJvcFdoaWxlYCwgYGV4dGVuZGAsIGBleHRlbmRXaXRoYCwgYGZpbGxgLCBgZmlsdGVyYCxcbiAgICAgKiBgZmxhdE1hcGAsIGBmbGF0TWFwRGVlcGAsIGBmbGF0TWFwRGVwdGhgLCBgZmxhdHRlbmAsIGBmbGF0dGVuRGVlcGAsXG4gICAgICogYGZsYXR0ZW5EZXB0aGAsIGBmbGlwYCwgYGZsb3dgLCBgZmxvd1JpZ2h0YCwgYGZyb21QYWlyc2AsIGBmdW5jdGlvbnNgLFxuICAgICAqIGBmdW5jdGlvbnNJbmAsIGBncm91cEJ5YCwgYGluaXRpYWxgLCBgaW50ZXJzZWN0aW9uYCwgYGludGVyc2VjdGlvbkJ5YCxcbiAgICAgKiBgaW50ZXJzZWN0aW9uV2l0aGAsIGBpbnZlcnRgLCBgaW52ZXJ0QnlgLCBgaW52b2tlTWFwYCwgYGl0ZXJhdGVlYCwgYGtleUJ5YCxcbiAgICAgKiBga2V5c2AsIGBrZXlzSW5gLCBgbWFwYCwgYG1hcEtleXNgLCBgbWFwVmFsdWVzYCwgYG1hdGNoZXNgLCBgbWF0Y2hlc1Byb3BlcnR5YCxcbiAgICAgKiBgbWVtb2l6ZWAsIGBtZXJnZWAsIGBtZXJnZVdpdGhgLCBgbWV0aG9kYCwgYG1ldGhvZE9mYCwgYG1peGluYCwgYG5lZ2F0ZWAsXG4gICAgICogYG50aEFyZ2AsIGBvbWl0YCwgYG9taXRCeWAsIGBvbmNlYCwgYG9yZGVyQnlgLCBgb3ZlcmAsIGBvdmVyQXJnc2AsXG4gICAgICogYG92ZXJFdmVyeWAsIGBvdmVyU29tZWAsIGBwYXJ0aWFsYCwgYHBhcnRpYWxSaWdodGAsIGBwYXJ0aXRpb25gLCBgcGlja2AsXG4gICAgICogYHBpY2tCeWAsIGBwbGFudGAsIGBwcm9wZXJ0eWAsIGBwcm9wZXJ0eU9mYCwgYHB1bGxgLCBgcHVsbEFsbGAsIGBwdWxsQWxsQnlgLFxuICAgICAqIGBwdWxsQWxsV2l0aGAsIGBwdWxsQXRgLCBgcHVzaGAsIGByYW5nZWAsIGByYW5nZVJpZ2h0YCwgYHJlYXJnYCwgYHJlamVjdGAsXG4gICAgICogYHJlbW92ZWAsIGByZXN0YCwgYHJldmVyc2VgLCBgc2FtcGxlU2l6ZWAsIGBzZXRgLCBgc2V0V2l0aGAsIGBzaHVmZmxlYCxcbiAgICAgKiBgc2xpY2VgLCBgc29ydGAsIGBzb3J0QnlgLCBgc3BsaWNlYCwgYHNwcmVhZGAsIGB0YWlsYCwgYHRha2VgLCBgdGFrZVJpZ2h0YCxcbiAgICAgKiBgdGFrZVJpZ2h0V2hpbGVgLCBgdGFrZVdoaWxlYCwgYHRhcGAsIGB0aHJvdHRsZWAsIGB0aHJ1YCwgYHRvQXJyYXlgLFxuICAgICAqIGB0b1BhaXJzYCwgYHRvUGFpcnNJbmAsIGB0b1BhdGhgLCBgdG9QbGFpbk9iamVjdGAsIGB0cmFuc2Zvcm1gLCBgdW5hcnlgLFxuICAgICAqIGB1bmlvbmAsIGB1bmlvbkJ5YCwgYHVuaW9uV2l0aGAsIGB1bmlxYCwgYHVuaXFCeWAsIGB1bmlxV2l0aGAsIGB1bnNldGAsXG4gICAgICogYHVuc2hpZnRgLCBgdW56aXBgLCBgdW56aXBXaXRoYCwgYHVwZGF0ZWAsIGB1cGRhdGVXaXRoYCwgYHZhbHVlc2AsXG4gICAgICogYHZhbHVlc0luYCwgYHdpdGhvdXRgLCBgd3JhcGAsIGB4b3JgLCBgeG9yQnlgLCBgeG9yV2l0aGAsIGB6aXBgLFxuICAgICAqIGB6aXBPYmplY3RgLCBgemlwT2JqZWN0RGVlcGAsIGFuZCBgemlwV2l0aGBcbiAgICAgKlxuICAgICAqIFRoZSB3cmFwcGVyIG1ldGhvZHMgdGhhdCBhcmUgKipub3QqKiBjaGFpbmFibGUgYnkgZGVmYXVsdCBhcmU6XG4gICAgICogYGFkZGAsIGBhdHRlbXB0YCwgYGNhbWVsQ2FzZWAsIGBjYXBpdGFsaXplYCwgYGNlaWxgLCBgY2xhbXBgLCBgY2xvbmVgLFxuICAgICAqIGBjbG9uZURlZXBgLCBgY2xvbmVEZWVwV2l0aGAsIGBjbG9uZVdpdGhgLCBgY29uZm9ybXNUb2AsIGBkZWJ1cnJgLFxuICAgICAqIGBkZWZhdWx0VG9gLCBgZGl2aWRlYCwgYGVhY2hgLCBgZWFjaFJpZ2h0YCwgYGVuZHNXaXRoYCwgYGVxYCwgYGVzY2FwZWAsXG4gICAgICogYGVzY2FwZVJlZ0V4cGAsIGBldmVyeWAsIGBmaW5kYCwgYGZpbmRJbmRleGAsIGBmaW5kS2V5YCwgYGZpbmRMYXN0YCxcbiAgICAgKiBgZmluZExhc3RJbmRleGAsIGBmaW5kTGFzdEtleWAsIGBmaXJzdGAsIGBmbG9vcmAsIGBmb3JFYWNoYCwgYGZvckVhY2hSaWdodGAsXG4gICAgICogYGZvckluYCwgYGZvckluUmlnaHRgLCBgZm9yT3duYCwgYGZvck93blJpZ2h0YCwgYGdldGAsIGBndGAsIGBndGVgLCBgaGFzYCxcbiAgICAgKiBgaGFzSW5gLCBgaGVhZGAsIGBpZGVudGl0eWAsIGBpbmNsdWRlc2AsIGBpbmRleE9mYCwgYGluUmFuZ2VgLCBgaW52b2tlYCxcbiAgICAgKiBgaXNBcmd1bWVudHNgLCBgaXNBcnJheWAsIGBpc0FycmF5QnVmZmVyYCwgYGlzQXJyYXlMaWtlYCwgYGlzQXJyYXlMaWtlT2JqZWN0YCxcbiAgICAgKiBgaXNCb29sZWFuYCwgYGlzQnVmZmVyYCwgYGlzRGF0ZWAsIGBpc0VsZW1lbnRgLCBgaXNFbXB0eWAsIGBpc0VxdWFsYCxcbiAgICAgKiBgaXNFcXVhbFdpdGhgLCBgaXNFcnJvcmAsIGBpc0Zpbml0ZWAsIGBpc0Z1bmN0aW9uYCwgYGlzSW50ZWdlcmAsIGBpc0xlbmd0aGAsXG4gICAgICogYGlzTWFwYCwgYGlzTWF0Y2hgLCBgaXNNYXRjaFdpdGhgLCBgaXNOYU5gLCBgaXNOYXRpdmVgLCBgaXNOaWxgLCBgaXNOdWxsYCxcbiAgICAgKiBgaXNOdW1iZXJgLCBgaXNPYmplY3RgLCBgaXNPYmplY3RMaWtlYCwgYGlzUGxhaW5PYmplY3RgLCBgaXNSZWdFeHBgLFxuICAgICAqIGBpc1NhZmVJbnRlZ2VyYCwgYGlzU2V0YCwgYGlzU3RyaW5nYCwgYGlzVW5kZWZpbmVkYCwgYGlzVHlwZWRBcnJheWAsXG4gICAgICogYGlzV2Vha01hcGAsIGBpc1dlYWtTZXRgLCBgam9pbmAsIGBrZWJhYkNhc2VgLCBgbGFzdGAsIGBsYXN0SW5kZXhPZmAsXG4gICAgICogYGxvd2VyQ2FzZWAsIGBsb3dlckZpcnN0YCwgYGx0YCwgYGx0ZWAsIGBtYXhgLCBgbWF4QnlgLCBgbWVhbmAsIGBtZWFuQnlgLFxuICAgICAqIGBtaW5gLCBgbWluQnlgLCBgbXVsdGlwbHlgLCBgbm9Db25mbGljdGAsIGBub29wYCwgYG5vd2AsIGBudGhgLCBgcGFkYCxcbiAgICAgKiBgcGFkRW5kYCwgYHBhZFN0YXJ0YCwgYHBhcnNlSW50YCwgYHBvcGAsIGByYW5kb21gLCBgcmVkdWNlYCwgYHJlZHVjZVJpZ2h0YCxcbiAgICAgKiBgcmVwZWF0YCwgYHJlc3VsdGAsIGByb3VuZGAsIGBydW5JbkNvbnRleHRgLCBgc2FtcGxlYCwgYHNoaWZ0YCwgYHNpemVgLFxuICAgICAqIGBzbmFrZUNhc2VgLCBgc29tZWAsIGBzb3J0ZWRJbmRleGAsIGBzb3J0ZWRJbmRleEJ5YCwgYHNvcnRlZExhc3RJbmRleGAsXG4gICAgICogYHNvcnRlZExhc3RJbmRleEJ5YCwgYHN0YXJ0Q2FzZWAsIGBzdGFydHNXaXRoYCwgYHN0dWJBcnJheWAsIGBzdHViRmFsc2VgLFxuICAgICAqIGBzdHViT2JqZWN0YCwgYHN0dWJTdHJpbmdgLCBgc3R1YlRydWVgLCBgc3VidHJhY3RgLCBgc3VtYCwgYHN1bUJ5YCxcbiAgICAgKiBgdGVtcGxhdGVgLCBgdGltZXNgLCBgdG9GaW5pdGVgLCBgdG9JbnRlZ2VyYCwgYHRvSlNPTmAsIGB0b0xlbmd0aGAsXG4gICAgICogYHRvTG93ZXJgLCBgdG9OdW1iZXJgLCBgdG9TYWZlSW50ZWdlcmAsIGB0b1N0cmluZ2AsIGB0b1VwcGVyYCwgYHRyaW1gLFxuICAgICAqIGB0cmltRW5kYCwgYHRyaW1TdGFydGAsIGB0cnVuY2F0ZWAsIGB1bmVzY2FwZWAsIGB1bmlxdWVJZGAsIGB1cHBlckNhc2VgLFxuICAgICAqIGB1cHBlckZpcnN0YCwgYHZhbHVlYCwgYW5kIGB3b3Jkc2BcbiAgICAgKlxuICAgICAqIEBuYW1lIF9cbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gd3JhcCBpbiBhIGBsb2Rhc2hgIGluc3RhbmNlLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBzcXVhcmUobikge1xuICAgICAqICAgcmV0dXJuIG4gKiBuO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciB3cmFwcGVkID0gXyhbMSwgMiwgM10pO1xuICAgICAqXG4gICAgICogLy8gUmV0dXJucyBhbiB1bndyYXBwZWQgdmFsdWUuXG4gICAgICogd3JhcHBlZC5yZWR1Y2UoXy5hZGQpO1xuICAgICAqIC8vID0+IDZcbiAgICAgKlxuICAgICAqIC8vIFJldHVybnMgYSB3cmFwcGVkIHZhbHVlLlxuICAgICAqIHZhciBzcXVhcmVzID0gd3JhcHBlZC5tYXAoc3F1YXJlKTtcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheShzcXVhcmVzKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5KHNxdWFyZXMudmFsdWUoKSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxvZGFzaCh2YWx1ZSkge1xuICAgICAgaWYgKGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgIWlzQXJyYXkodmFsdWUpICYmICEodmFsdWUgaW5zdGFuY2VvZiBMYXp5V3JhcHBlcikpIHtcbiAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgTG9kYXNoV3JhcHBlcikge1xuICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgJ19fd3JhcHBlZF9fJykpIHtcbiAgICAgICAgICByZXR1cm4gd3JhcHBlckNsb25lKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyBMb2Rhc2hXcmFwcGVyKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5jcmVhdGVgIHdpdGhvdXQgc3VwcG9ydCBmb3IgYXNzaWduaW5nXG4gICAgICogcHJvcGVydGllcyB0byB0aGUgY3JlYXRlZCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwcm90byBUaGUgb2JqZWN0IHRvIGluaGVyaXQgZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqL1xuICAgIHZhciBiYXNlQ3JlYXRlID0gKGZ1bmN0aW9uKCkge1xuICAgICAgZnVuY3Rpb24gb2JqZWN0KCkge31cbiAgICAgIHJldHVybiBmdW5jdGlvbihwcm90bykge1xuICAgICAgICBpZiAoIWlzT2JqZWN0KHByb3RvKSkge1xuICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob2JqZWN0Q3JlYXRlKSB7XG4gICAgICAgICAgcmV0dXJuIG9iamVjdENyZWF0ZShwcm90byk7XG4gICAgICAgIH1cbiAgICAgICAgb2JqZWN0LnByb3RvdHlwZSA9IHByb3RvO1xuICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IG9iamVjdDtcbiAgICAgICAgb2JqZWN0LnByb3RvdHlwZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH07XG4gICAgfSgpKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBmdW5jdGlvbiB3aG9zZSBwcm90b3R5cGUgY2hhaW4gc2VxdWVuY2Ugd3JhcHBlcnMgaW5oZXJpdCBmcm9tLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTG9kYXNoKCkge1xuICAgICAgLy8gTm8gb3BlcmF0aW9uIHBlcmZvcm1lZC5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBjb25zdHJ1Y3RvciBmb3IgY3JlYXRpbmcgYGxvZGFzaGAgd3JhcHBlciBvYmplY3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2NoYWluQWxsXSBFbmFibGUgZXhwbGljaXQgbWV0aG9kIGNoYWluIHNlcXVlbmNlcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBMb2Rhc2hXcmFwcGVyKHZhbHVlLCBjaGFpbkFsbCkge1xuICAgICAgdGhpcy5fX3dyYXBwZWRfXyA9IHZhbHVlO1xuICAgICAgdGhpcy5fX2FjdGlvbnNfXyA9IFtdO1xuICAgICAgdGhpcy5fX2NoYWluX18gPSAhIWNoYWluQWxsO1xuICAgICAgdGhpcy5fX2luZGV4X18gPSAwO1xuICAgICAgdGhpcy5fX3ZhbHVlc19fID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEJ5IGRlZmF1bHQsIHRoZSB0ZW1wbGF0ZSBkZWxpbWl0ZXJzIHVzZWQgYnkgbG9kYXNoIGFyZSBsaWtlIHRob3NlIGluXG4gICAgICogZW1iZWRkZWQgUnVieSAoRVJCKSBhcyB3ZWxsIGFzIEVTMjAxNSB0ZW1wbGF0ZSBzdHJpbmdzLiBDaGFuZ2UgdGhlXG4gICAgICogZm9sbG93aW5nIHRlbXBsYXRlIHNldHRpbmdzIHRvIHVzZSBhbHRlcm5hdGl2ZSBkZWxpbWl0ZXJzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKi9cbiAgICBsb2Rhc2gudGVtcGxhdGVTZXR0aW5ncyA9IHtcblxuICAgICAgLyoqXG4gICAgICAgKiBVc2VkIHRvIGRldGVjdCBgZGF0YWAgcHJvcGVydHkgdmFsdWVzIHRvIGJlIEhUTUwtZXNjYXBlZC5cbiAgICAgICAqXG4gICAgICAgKiBAbWVtYmVyT2YgXy50ZW1wbGF0ZVNldHRpbmdzXG4gICAgICAgKiBAdHlwZSB7UmVnRXhwfVxuICAgICAgICovXG4gICAgICAnZXNjYXBlJzogcmVFc2NhcGUsXG5cbiAgICAgIC8qKlxuICAgICAgICogVXNlZCB0byBkZXRlY3QgY29kZSB0byBiZSBldmFsdWF0ZWQuXG4gICAgICAgKlxuICAgICAgICogQG1lbWJlck9mIF8udGVtcGxhdGVTZXR0aW5nc1xuICAgICAgICogQHR5cGUge1JlZ0V4cH1cbiAgICAgICAqL1xuICAgICAgJ2V2YWx1YXRlJzogcmVFdmFsdWF0ZSxcblxuICAgICAgLyoqXG4gICAgICAgKiBVc2VkIHRvIGRldGVjdCBgZGF0YWAgcHJvcGVydHkgdmFsdWVzIHRvIGluamVjdC5cbiAgICAgICAqXG4gICAgICAgKiBAbWVtYmVyT2YgXy50ZW1wbGF0ZVNldHRpbmdzXG4gICAgICAgKiBAdHlwZSB7UmVnRXhwfVxuICAgICAgICovXG4gICAgICAnaW50ZXJwb2xhdGUnOiByZUludGVycG9sYXRlLFxuXG4gICAgICAvKipcbiAgICAgICAqIFVzZWQgdG8gcmVmZXJlbmNlIHRoZSBkYXRhIG9iamVjdCBpbiB0aGUgdGVtcGxhdGUgdGV4dC5cbiAgICAgICAqXG4gICAgICAgKiBAbWVtYmVyT2YgXy50ZW1wbGF0ZVNldHRpbmdzXG4gICAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAgICovXG4gICAgICAndmFyaWFibGUnOiAnJyxcblxuICAgICAgLyoqXG4gICAgICAgKiBVc2VkIHRvIGltcG9ydCB2YXJpYWJsZXMgaW50byB0aGUgY29tcGlsZWQgdGVtcGxhdGUuXG4gICAgICAgKlxuICAgICAgICogQG1lbWJlck9mIF8udGVtcGxhdGVTZXR0aW5nc1xuICAgICAgICogQHR5cGUge09iamVjdH1cbiAgICAgICAqL1xuICAgICAgJ2ltcG9ydHMnOiB7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgcmVmZXJlbmNlIHRvIHRoZSBgbG9kYXNoYCBmdW5jdGlvbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlck9mIF8udGVtcGxhdGVTZXR0aW5ncy5pbXBvcnRzXG4gICAgICAgICAqIEB0eXBlIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgICdfJzogbG9kYXNoXG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIEVuc3VyZSB3cmFwcGVycyBhcmUgaW5zdGFuY2VzIG9mIGBiYXNlTG9kYXNoYC5cbiAgICBsb2Rhc2gucHJvdG90eXBlID0gYmFzZUxvZGFzaC5wcm90b3R5cGU7XG4gICAgbG9kYXNoLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGxvZGFzaDtcblxuICAgIExvZGFzaFdyYXBwZXIucHJvdG90eXBlID0gYmFzZUNyZWF0ZShiYXNlTG9kYXNoLnByb3RvdHlwZSk7XG4gICAgTG9kYXNoV3JhcHBlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBMb2Rhc2hXcmFwcGVyO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGxhenkgd3JhcHBlciBvYmplY3Qgd2hpY2ggd3JhcHMgYHZhbHVlYCB0byBlbmFibGUgbGF6eSBldmFsdWF0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byB3cmFwLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIExhenlXcmFwcGVyKHZhbHVlKSB7XG4gICAgICB0aGlzLl9fd3JhcHBlZF9fID0gdmFsdWU7XG4gICAgICB0aGlzLl9fYWN0aW9uc19fID0gW107XG4gICAgICB0aGlzLl9fZGlyX18gPSAxO1xuICAgICAgdGhpcy5fX2ZpbHRlcmVkX18gPSBmYWxzZTtcbiAgICAgIHRoaXMuX19pdGVyYXRlZXNfXyA9IFtdO1xuICAgICAgdGhpcy5fX3Rha2VDb3VudF9fID0gTUFYX0FSUkFZX0xFTkdUSDtcbiAgICAgIHRoaXMuX192aWV3c19fID0gW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoZSBsYXp5IHdyYXBwZXIgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBjbG9uZVxuICAgICAqIEBtZW1iZXJPZiBMYXp5V3JhcHBlclxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNsb25lZCBgTGF6eVdyYXBwZXJgIG9iamVjdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsYXp5Q2xvbmUoKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gbmV3IExhenlXcmFwcGVyKHRoaXMuX193cmFwcGVkX18pO1xuICAgICAgcmVzdWx0Ll9fYWN0aW9uc19fID0gY29weUFycmF5KHRoaXMuX19hY3Rpb25zX18pO1xuICAgICAgcmVzdWx0Ll9fZGlyX18gPSB0aGlzLl9fZGlyX187XG4gICAgICByZXN1bHQuX19maWx0ZXJlZF9fID0gdGhpcy5fX2ZpbHRlcmVkX187XG4gICAgICByZXN1bHQuX19pdGVyYXRlZXNfXyA9IGNvcHlBcnJheSh0aGlzLl9faXRlcmF0ZWVzX18pO1xuICAgICAgcmVzdWx0Ll9fdGFrZUNvdW50X18gPSB0aGlzLl9fdGFrZUNvdW50X187XG4gICAgICByZXN1bHQuX192aWV3c19fID0gY29weUFycmF5KHRoaXMuX192aWV3c19fKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV2ZXJzZXMgdGhlIGRpcmVjdGlvbiBvZiBsYXp5IGl0ZXJhdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgcmV2ZXJzZVxuICAgICAqIEBtZW1iZXJPZiBMYXp5V3JhcHBlclxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyByZXZlcnNlZCBgTGF6eVdyYXBwZXJgIG9iamVjdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsYXp5UmV2ZXJzZSgpIHtcbiAgICAgIGlmICh0aGlzLl9fZmlsdGVyZWRfXykge1xuICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IExhenlXcmFwcGVyKHRoaXMpO1xuICAgICAgICByZXN1bHQuX19kaXJfXyA9IC0xO1xuICAgICAgICByZXN1bHQuX19maWx0ZXJlZF9fID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdCA9IHRoaXMuY2xvbmUoKTtcbiAgICAgICAgcmVzdWx0Ll9fZGlyX18gKj0gLTE7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4dHJhY3RzIHRoZSB1bndyYXBwZWQgdmFsdWUgZnJvbSBpdHMgbGF6eSB3cmFwcGVyLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSB2YWx1ZVxuICAgICAqIEBtZW1iZXJPZiBMYXp5V3JhcHBlclxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSB1bndyYXBwZWQgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGF6eVZhbHVlKCkge1xuICAgICAgdmFyIGFycmF5ID0gdGhpcy5fX3dyYXBwZWRfXy52YWx1ZSgpLFxuICAgICAgICAgIGRpciA9IHRoaXMuX19kaXJfXyxcbiAgICAgICAgICBpc0FyciA9IGlzQXJyYXkoYXJyYXkpLFxuICAgICAgICAgIGlzUmlnaHQgPSBkaXIgPCAwLFxuICAgICAgICAgIGFyckxlbmd0aCA9IGlzQXJyID8gYXJyYXkubGVuZ3RoIDogMCxcbiAgICAgICAgICB2aWV3ID0gZ2V0VmlldygwLCBhcnJMZW5ndGgsIHRoaXMuX192aWV3c19fKSxcbiAgICAgICAgICBzdGFydCA9IHZpZXcuc3RhcnQsXG4gICAgICAgICAgZW5kID0gdmlldy5lbmQsXG4gICAgICAgICAgbGVuZ3RoID0gZW5kIC0gc3RhcnQsXG4gICAgICAgICAgaW5kZXggPSBpc1JpZ2h0ID8gZW5kIDogKHN0YXJ0IC0gMSksXG4gICAgICAgICAgaXRlcmF0ZWVzID0gdGhpcy5fX2l0ZXJhdGVlc19fLFxuICAgICAgICAgIGl0ZXJMZW5ndGggPSBpdGVyYXRlZXMubGVuZ3RoLFxuICAgICAgICAgIHJlc0luZGV4ID0gMCxcbiAgICAgICAgICB0YWtlQ291bnQgPSBuYXRpdmVNaW4obGVuZ3RoLCB0aGlzLl9fdGFrZUNvdW50X18pO1xuXG4gICAgICBpZiAoIWlzQXJyIHx8ICghaXNSaWdodCAmJiBhcnJMZW5ndGggPT0gbGVuZ3RoICYmIHRha2VDb3VudCA9PSBsZW5ndGgpKSB7XG4gICAgICAgIHJldHVybiBiYXNlV3JhcHBlclZhbHVlKGFycmF5LCB0aGlzLl9fYWN0aW9uc19fKTtcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSBbXTtcblxuICAgICAgb3V0ZXI6XG4gICAgICB3aGlsZSAobGVuZ3RoLS0gJiYgcmVzSW5kZXggPCB0YWtlQ291bnQpIHtcbiAgICAgICAgaW5kZXggKz0gZGlyO1xuXG4gICAgICAgIHZhciBpdGVySW5kZXggPSAtMSxcbiAgICAgICAgICAgIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuXG4gICAgICAgIHdoaWxlICgrK2l0ZXJJbmRleCA8IGl0ZXJMZW5ndGgpIHtcbiAgICAgICAgICB2YXIgZGF0YSA9IGl0ZXJhdGVlc1tpdGVySW5kZXhdLFxuICAgICAgICAgICAgICBpdGVyYXRlZSA9IGRhdGEuaXRlcmF0ZWUsXG4gICAgICAgICAgICAgIHR5cGUgPSBkYXRhLnR5cGUsXG4gICAgICAgICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUodmFsdWUpO1xuXG4gICAgICAgICAgaWYgKHR5cGUgPT0gTEFaWV9NQVBfRkxBRykge1xuICAgICAgICAgICAgdmFsdWUgPSBjb21wdXRlZDtcbiAgICAgICAgICB9IGVsc2UgaWYgKCFjb21wdXRlZCkge1xuICAgICAgICAgICAgaWYgKHR5cGUgPT0gTEFaWV9GSUxURVJfRkxBRykge1xuICAgICAgICAgICAgICBjb250aW51ZSBvdXRlcjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGJyZWFrIG91dGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXN1bHRbcmVzSW5kZXgrK10gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLy8gRW5zdXJlIGBMYXp5V3JhcHBlcmAgaXMgYW4gaW5zdGFuY2Ugb2YgYGJhc2VMb2Rhc2hgLlxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZSA9IGJhc2VDcmVhdGUoYmFzZUxvZGFzaC5wcm90b3R5cGUpO1xuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IExhenlXcmFwcGVyO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGhhc2ggb2JqZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBIYXNoKGVudHJpZXMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGVudHJpZXMgPT0gbnVsbCA/IDAgOiBlbnRyaWVzLmxlbmd0aDtcblxuICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgaGFzaC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgY2xlYXJcbiAgICAgKiBAbWVtYmVyT2YgSGFzaFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhc2hDbGVhcigpIHtcbiAgICAgIHRoaXMuX19kYXRhX18gPSBuYXRpdmVDcmVhdGUgPyBuYXRpdmVDcmVhdGUobnVsbCkgOiB7fTtcbiAgICAgIHRoaXMuc2l6ZSA9IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIGhhc2guXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGRlbGV0ZVxuICAgICAqIEBtZW1iZXJPZiBIYXNoXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGhhc2ggVGhlIGhhc2ggdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYXNoRGVsZXRlKGtleSkge1xuICAgICAgdmFyIHJlc3VsdCA9IHRoaXMuaGFzKGtleSkgJiYgZGVsZXRlIHRoaXMuX19kYXRhX19ba2V5XTtcbiAgICAgIHRoaXMuc2l6ZSAtPSByZXN1bHQgPyAxIDogMDtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgaGFzaCB2YWx1ZSBmb3IgYGtleWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGdldFxuICAgICAqIEBtZW1iZXJPZiBIYXNoXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhc2hHZXQoa2V5KSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gICAgICBpZiAobmF0aXZlQ3JlYXRlKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBkYXRhW2tleV07XG4gICAgICAgIHJldHVybiByZXN1bHQgPT09IEhBU0hfVU5ERUZJTkVEID8gdW5kZWZpbmVkIDogcmVzdWx0O1xuICAgICAgfVxuICAgICAgcmV0dXJuIGhhc093blByb3BlcnR5LmNhbGwoZGF0YSwga2V5KSA/IGRhdGFba2V5XSA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYSBoYXNoIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGhhc1xuICAgICAqIEBtZW1iZXJPZiBIYXNoXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhc2hIYXMoa2V5KSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gICAgICByZXR1cm4gbmF0aXZlQ3JlYXRlID8gKGRhdGFba2V5XSAhPT0gdW5kZWZpbmVkKSA6IGhhc093blByb3BlcnR5LmNhbGwoZGF0YSwga2V5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBoYXNoIGBrZXlgIHRvIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIHNldFxuICAgICAqIEBtZW1iZXJPZiBIYXNoXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGhhc2ggaW5zdGFuY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzaFNldChrZXksIHZhbHVlKSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gICAgICB0aGlzLnNpemUgKz0gdGhpcy5oYXMoa2V5KSA/IDAgOiAxO1xuICAgICAgZGF0YVtrZXldID0gKG5hdGl2ZUNyZWF0ZSAmJiB2YWx1ZSA9PT0gdW5kZWZpbmVkKSA/IEhBU0hfVU5ERUZJTkVEIDogdmFsdWU7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0byBgSGFzaGAuXG4gICAgSGFzaC5wcm90b3R5cGUuY2xlYXIgPSBoYXNoQ2xlYXI7XG4gICAgSGFzaC5wcm90b3R5cGVbJ2RlbGV0ZSddID0gaGFzaERlbGV0ZTtcbiAgICBIYXNoLnByb3RvdHlwZS5nZXQgPSBoYXNoR2V0O1xuICAgIEhhc2gucHJvdG90eXBlLmhhcyA9IGhhc2hIYXM7XG4gICAgSGFzaC5wcm90b3R5cGUuc2V0ID0gaGFzaFNldDtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gbGlzdCBjYWNoZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIExpc3RDYWNoZShlbnRyaWVzKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBlbnRyaWVzID09IG51bGwgPyAwIDogZW50cmllcy5sZW5ndGg7XG5cbiAgICAgIHRoaXMuY2xlYXIoKTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgICAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIGxpc3QgY2FjaGUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGNsZWFyXG4gICAgICogQG1lbWJlck9mIExpc3RDYWNoZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxpc3RDYWNoZUNsZWFyKCkge1xuICAgICAgdGhpcy5fX2RhdGFfXyA9IFtdO1xuICAgICAgdGhpcy5zaXplID0gMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgbGlzdCBjYWNoZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgZGVsZXRlXG4gICAgICogQG1lbWJlck9mIExpc3RDYWNoZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsaXN0Q2FjaGVEZWxldGUoa2V5KSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgbGFzdEluZGV4ID0gZGF0YS5sZW5ndGggLSAxO1xuICAgICAgaWYgKGluZGV4ID09IGxhc3RJbmRleCkge1xuICAgICAgICBkYXRhLnBvcCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3BsaWNlLmNhbGwoZGF0YSwgaW5kZXgsIDEpO1xuICAgICAgfVxuICAgICAgLS10aGlzLnNpemU7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBsaXN0IGNhY2hlIHZhbHVlIGZvciBga2V5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgZ2V0XG4gICAgICogQG1lbWJlck9mIExpc3RDYWNoZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsaXN0Q2FjaGVHZXQoa2V5KSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICAgICAgcmV0dXJuIGluZGV4IDwgMCA/IHVuZGVmaW5lZCA6IGRhdGFbaW5kZXhdWzFdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBhIGxpc3QgY2FjaGUgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgaGFzXG4gICAgICogQG1lbWJlck9mIExpc3RDYWNoZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsaXN0Q2FjaGVIYXMoa2V5KSB7XG4gICAgICByZXR1cm4gYXNzb2NJbmRleE9mKHRoaXMuX19kYXRhX18sIGtleSkgPiAtMTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBsaXN0IGNhY2hlIGBrZXlgIHRvIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIHNldFxuICAgICAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbGlzdCBjYWNoZSBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsaXN0Q2FjaGVTZXQoa2V5LCB2YWx1ZSkge1xuICAgICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgKyt0aGlzLnNpemU7XG4gICAgICAgIGRhdGEucHVzaChba2V5LCB2YWx1ZV0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGF0YVtpbmRleF1bMV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8vIEFkZCBtZXRob2RzIHRvIGBMaXN0Q2FjaGVgLlxuICAgIExpc3RDYWNoZS5wcm90b3R5cGUuY2xlYXIgPSBsaXN0Q2FjaGVDbGVhcjtcbiAgICBMaXN0Q2FjaGUucHJvdG90eXBlWydkZWxldGUnXSA9IGxpc3RDYWNoZURlbGV0ZTtcbiAgICBMaXN0Q2FjaGUucHJvdG90eXBlLmdldCA9IGxpc3RDYWNoZUdldDtcbiAgICBMaXN0Q2FjaGUucHJvdG90eXBlLmhhcyA9IGxpc3RDYWNoZUhhcztcbiAgICBMaXN0Q2FjaGUucHJvdG90eXBlLnNldCA9IGxpc3RDYWNoZVNldDtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBtYXAgY2FjaGUgb2JqZWN0IHRvIHN0b3JlIGtleS12YWx1ZSBwYWlycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gTWFwQ2FjaGUoZW50cmllcykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gZW50cmllcyA9PSBudWxsID8gMCA6IGVudHJpZXMubGVuZ3RoO1xuXG4gICAgICB0aGlzLmNsZWFyKCk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICAgICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBtYXAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGNsZWFyXG4gICAgICogQG1lbWJlck9mIE1hcENhY2hlXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWFwQ2FjaGVDbGVhcigpIHtcbiAgICAgIHRoaXMuc2l6ZSA9IDA7XG4gICAgICB0aGlzLl9fZGF0YV9fID0ge1xuICAgICAgICAnaGFzaCc6IG5ldyBIYXNoLFxuICAgICAgICAnbWFwJzogbmV3IChNYXAgfHwgTGlzdENhY2hlKSxcbiAgICAgICAgJ3N0cmluZyc6IG5ldyBIYXNoXG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBtYXAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGRlbGV0ZVxuICAgICAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXBDYWNoZURlbGV0ZShrZXkpIHtcbiAgICAgIHZhciByZXN1bHQgPSBnZXRNYXBEYXRhKHRoaXMsIGtleSlbJ2RlbGV0ZSddKGtleSk7XG4gICAgICB0aGlzLnNpemUgLT0gcmVzdWx0ID8gMSA6IDA7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIG1hcCB2YWx1ZSBmb3IgYGtleWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGdldFxuICAgICAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXBDYWNoZUdldChrZXkpIHtcbiAgICAgIHJldHVybiBnZXRNYXBEYXRhKHRoaXMsIGtleSkuZ2V0KGtleSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGEgbWFwIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGhhc1xuICAgICAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXBDYWNoZUhhcyhrZXkpIHtcbiAgICAgIHJldHVybiBnZXRNYXBEYXRhKHRoaXMsIGtleSkuaGFzKGtleSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbWFwIGBrZXlgIHRvIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIHNldFxuICAgICAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBtYXAgY2FjaGUgaW5zdGFuY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWFwQ2FjaGVTZXQoa2V5LCB2YWx1ZSkge1xuICAgICAgdmFyIGRhdGEgPSBnZXRNYXBEYXRhKHRoaXMsIGtleSksXG4gICAgICAgICAgc2l6ZSA9IGRhdGEuc2l6ZTtcblxuICAgICAgZGF0YS5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgICB0aGlzLnNpemUgKz0gZGF0YS5zaXplID09IHNpemUgPyAwIDogMTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8vIEFkZCBtZXRob2RzIHRvIGBNYXBDYWNoZWAuXG4gICAgTWFwQ2FjaGUucHJvdG90eXBlLmNsZWFyID0gbWFwQ2FjaGVDbGVhcjtcbiAgICBNYXBDYWNoZS5wcm90b3R5cGVbJ2RlbGV0ZSddID0gbWFwQ2FjaGVEZWxldGU7XG4gICAgTWFwQ2FjaGUucHJvdG90eXBlLmdldCA9IG1hcENhY2hlR2V0O1xuICAgIE1hcENhY2hlLnByb3RvdHlwZS5oYXMgPSBtYXBDYWNoZUhhcztcbiAgICBNYXBDYWNoZS5wcm90b3R5cGUuc2V0ID0gbWFwQ2FjaGVTZXQ7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgY2FjaGUgb2JqZWN0IHRvIHN0b3JlIHVuaXF1ZSB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFt2YWx1ZXNdIFRoZSB2YWx1ZXMgdG8gY2FjaGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gU2V0Q2FjaGUodmFsdWVzKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSB2YWx1ZXMgPT0gbnVsbCA/IDAgOiB2YWx1ZXMubGVuZ3RoO1xuXG4gICAgICB0aGlzLl9fZGF0YV9fID0gbmV3IE1hcENhY2hlO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdGhpcy5hZGQodmFsdWVzW2luZGV4XSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkcyBgdmFsdWVgIHRvIHRoZSBhcnJheSBjYWNoZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgYWRkXG4gICAgICogQG1lbWJlck9mIFNldENhY2hlXG4gICAgICogQGFsaWFzIHB1c2hcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjYWNoZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjYWNoZSBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzZXRDYWNoZUFkZCh2YWx1ZSkge1xuICAgICAgdGhpcy5fX2RhdGFfXy5zZXQodmFsdWUsIEhBU0hfVU5ERUZJTkVEKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGluIHRoZSBhcnJheSBjYWNoZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgaGFzXG4gICAgICogQG1lbWJlck9mIFNldENhY2hlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGZvdW5kLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0Q2FjaGVIYXModmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fZGF0YV9fLmhhcyh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLy8gQWRkIG1ldGhvZHMgdG8gYFNldENhY2hlYC5cbiAgICBTZXRDYWNoZS5wcm90b3R5cGUuYWRkID0gU2V0Q2FjaGUucHJvdG90eXBlLnB1c2ggPSBzZXRDYWNoZUFkZDtcbiAgICBTZXRDYWNoZS5wcm90b3R5cGUuaGFzID0gc2V0Q2FjaGVIYXM7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc3RhY2sgY2FjaGUgb2JqZWN0IHRvIHN0b3JlIGtleS12YWx1ZSBwYWlycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gU3RhY2soZW50cmllcykge1xuICAgICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fID0gbmV3IExpc3RDYWNoZShlbnRyaWVzKTtcbiAgICAgIHRoaXMuc2l6ZSA9IGRhdGEuc2l6ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBzdGFjay5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgY2xlYXJcbiAgICAgKiBAbWVtYmVyT2YgU3RhY2tcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdGFja0NsZWFyKCkge1xuICAgICAgdGhpcy5fX2RhdGFfXyA9IG5ldyBMaXN0Q2FjaGU7XG4gICAgICB0aGlzLnNpemUgPSAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBzdGFjay5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgZGVsZXRlXG4gICAgICogQG1lbWJlck9mIFN0YWNrXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0YWNrRGVsZXRlKGtleSkge1xuICAgICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgICAgIHJlc3VsdCA9IGRhdGFbJ2RlbGV0ZSddKGtleSk7XG5cbiAgICAgIHRoaXMuc2l6ZSA9IGRhdGEuc2l6ZTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgc3RhY2sgdmFsdWUgZm9yIGBrZXlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBnZXRcbiAgICAgKiBAbWVtYmVyT2YgU3RhY2tcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3RhY2tHZXQoa2V5KSB7XG4gICAgICByZXR1cm4gdGhpcy5fX2RhdGFfXy5nZXQoa2V5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYSBzdGFjayB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBoYXNcbiAgICAgKiBAbWVtYmVyT2YgU3RhY2tcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3RhY2tIYXMoa2V5KSB7XG4gICAgICByZXR1cm4gdGhpcy5fX2RhdGFfXy5oYXMoa2V5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBzdGFjayBga2V5YCB0byBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBzZXRcbiAgICAgKiBAbWVtYmVyT2YgU3RhY2tcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgc3RhY2sgY2FjaGUgaW5zdGFuY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3RhY2tTZXQoa2V5LCB2YWx1ZSkge1xuICAgICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICAgICAgaWYgKGRhdGEgaW5zdGFuY2VvZiBMaXN0Q2FjaGUpIHtcbiAgICAgICAgdmFyIHBhaXJzID0gZGF0YS5fX2RhdGFfXztcbiAgICAgICAgaWYgKCFNYXAgfHwgKHBhaXJzLmxlbmd0aCA8IExBUkdFX0FSUkFZX1NJWkUgLSAxKSkge1xuICAgICAgICAgIHBhaXJzLnB1c2goW2tleSwgdmFsdWVdKTtcbiAgICAgICAgICB0aGlzLnNpemUgPSArK2RhdGEuc2l6ZTtcbiAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICBkYXRhID0gdGhpcy5fX2RhdGFfXyA9IG5ldyBNYXBDYWNoZShwYWlycyk7XG4gICAgICB9XG4gICAgICBkYXRhLnNldChrZXksIHZhbHVlKTtcbiAgICAgIHRoaXMuc2l6ZSA9IGRhdGEuc2l6ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8vIEFkZCBtZXRob2RzIHRvIGBTdGFja2AuXG4gICAgU3RhY2sucHJvdG90eXBlLmNsZWFyID0gc3RhY2tDbGVhcjtcbiAgICBTdGFjay5wcm90b3R5cGVbJ2RlbGV0ZSddID0gc3RhY2tEZWxldGU7XG4gICAgU3RhY2sucHJvdG90eXBlLmdldCA9IHN0YWNrR2V0O1xuICAgIFN0YWNrLnByb3RvdHlwZS5oYXMgPSBzdGFja0hhcztcbiAgICBTdGFjay5wcm90b3R5cGUuc2V0ID0gc3RhY2tTZXQ7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIG9mIHRoZSBhcnJheS1saWtlIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaW5oZXJpdGVkIFNwZWNpZnkgcmV0dXJuaW5nIGluaGVyaXRlZCBwcm9wZXJ0eSBuYW1lcy5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFycmF5TGlrZUtleXModmFsdWUsIGluaGVyaXRlZCkge1xuICAgICAgdmFyIGlzQXJyID0gaXNBcnJheSh2YWx1ZSksXG4gICAgICAgICAgaXNBcmcgPSAhaXNBcnIgJiYgaXNBcmd1bWVudHModmFsdWUpLFxuICAgICAgICAgIGlzQnVmZiA9ICFpc0FyciAmJiAhaXNBcmcgJiYgaXNCdWZmZXIodmFsdWUpLFxuICAgICAgICAgIGlzVHlwZSA9ICFpc0FyciAmJiAhaXNBcmcgJiYgIWlzQnVmZiAmJiBpc1R5cGVkQXJyYXkodmFsdWUpLFxuICAgICAgICAgIHNraXBJbmRleGVzID0gaXNBcnIgfHwgaXNBcmcgfHwgaXNCdWZmIHx8IGlzVHlwZSxcbiAgICAgICAgICByZXN1bHQgPSBza2lwSW5kZXhlcyA/IGJhc2VUaW1lcyh2YWx1ZS5sZW5ndGgsIFN0cmluZykgOiBbXSxcbiAgICAgICAgICBsZW5ndGggPSByZXN1bHQubGVuZ3RoO1xuXG4gICAgICBmb3IgKHZhciBrZXkgaW4gdmFsdWUpIHtcbiAgICAgICAgaWYgKChpbmhlcml0ZWQgfHwgaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwga2V5KSkgJiZcbiAgICAgICAgICAgICEoc2tpcEluZGV4ZXMgJiYgKFxuICAgICAgICAgICAgICAgLy8gU2FmYXJpIDkgaGFzIGVudW1lcmFibGUgYGFyZ3VtZW50cy5sZW5ndGhgIGluIHN0cmljdCBtb2RlLlxuICAgICAgICAgICAgICAga2V5ID09ICdsZW5ndGgnIHx8XG4gICAgICAgICAgICAgICAvLyBOb2RlLmpzIDAuMTAgaGFzIGVudW1lcmFibGUgbm9uLWluZGV4IHByb3BlcnRpZXMgb24gYnVmZmVycy5cbiAgICAgICAgICAgICAgIChpc0J1ZmYgJiYgKGtleSA9PSAnb2Zmc2V0JyB8fCBrZXkgPT0gJ3BhcmVudCcpKSB8fFxuICAgICAgICAgICAgICAgLy8gUGhhbnRvbUpTIDIgaGFzIGVudW1lcmFibGUgbm9uLWluZGV4IHByb3BlcnRpZXMgb24gdHlwZWQgYXJyYXlzLlxuICAgICAgICAgICAgICAgKGlzVHlwZSAmJiAoa2V5ID09ICdidWZmZXInIHx8IGtleSA9PSAnYnl0ZUxlbmd0aCcgfHwga2V5ID09ICdieXRlT2Zmc2V0JykpIHx8XG4gICAgICAgICAgICAgICAvLyBTa2lwIGluZGV4IHByb3BlcnRpZXMuXG4gICAgICAgICAgICAgICBpc0luZGV4KGtleSwgbGVuZ3RoKVxuICAgICAgICAgICAgKSkpIHtcbiAgICAgICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5zYW1wbGVgIGZvciBhcnJheXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBzYW1wbGUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJhbmRvbSBlbGVtZW50LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFycmF5U2FtcGxlKGFycmF5KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICAgICAgcmV0dXJuIGxlbmd0aCA/IGFycmF5W2Jhc2VSYW5kb20oMCwgbGVuZ3RoIC0gMSldIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5zYW1wbGVTaXplYCBmb3IgYXJyYXlzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2FtcGxlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gc2FtcGxlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcmFuZG9tIGVsZW1lbnRzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFycmF5U2FtcGxlU2l6ZShhcnJheSwgbikge1xuICAgICAgcmV0dXJuIHNodWZmbGVTZWxmKGNvcHlBcnJheShhcnJheSksIGJhc2VDbGFtcChuLCAwLCBhcnJheS5sZW5ndGgpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uc2h1ZmZsZWAgZm9yIGFycmF5cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNodWZmbGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgc2h1ZmZsZWQgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXJyYXlTaHVmZmxlKGFycmF5KSB7XG4gICAgICByZXR1cm4gc2h1ZmZsZVNlbGYoY29weUFycmF5KGFycmF5KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiBpcyBsaWtlIGBhc3NpZ25WYWx1ZWAgZXhjZXB0IHRoYXQgaXQgZG9lc24ndCBhc3NpZ25cbiAgICAgKiBgdW5kZWZpbmVkYCB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBhc3NpZ24uXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gYXNzaWduLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFzc2lnbk1lcmdlVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gICAgICBpZiAoKHZhbHVlICE9PSB1bmRlZmluZWQgJiYgIWVxKG9iamVjdFtrZXldLCB2YWx1ZSkpIHx8XG4gICAgICAgICAgKHZhbHVlID09PSB1bmRlZmluZWQgJiYgIShrZXkgaW4gb2JqZWN0KSkpIHtcbiAgICAgICAgYmFzZUFzc2lnblZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXNzaWducyBgdmFsdWVgIHRvIGBrZXlgIG9mIGBvYmplY3RgIGlmIHRoZSBleGlzdGluZyB2YWx1ZSBpcyBub3QgZXF1aXZhbGVudFxuICAgICAqIHVzaW5nIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gYXNzaWduLlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGFzc2lnbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgICAgIHZhciBvYmpWYWx1ZSA9IG9iamVjdFtrZXldO1xuICAgICAgaWYgKCEoaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkgJiYgZXEob2JqVmFsdWUsIHZhbHVlKSkgfHxcbiAgICAgICAgICAodmFsdWUgPT09IHVuZGVmaW5lZCAmJiAhKGtleSBpbiBvYmplY3QpKSkge1xuICAgICAgICBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBpbmRleCBhdCB3aGljaCB0aGUgYGtleWAgaXMgZm91bmQgaW4gYGFycmF5YCBvZiBrZXktdmFsdWUgcGFpcnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0ga2V5IFRoZSBrZXkgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFzc29jSW5kZXhPZihhcnJheSwga2V5KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIGlmIChlcShhcnJheVtsZW5ndGhdWzBdLCBrZXkpKSB7XG4gICAgICAgICAgcmV0dXJuIGxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIC0xO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFnZ3JlZ2F0ZXMgZWxlbWVudHMgb2YgYGNvbGxlY3Rpb25gIG9uIGBhY2N1bXVsYXRvcmAgd2l0aCBrZXlzIHRyYW5zZm9ybWVkXG4gICAgICogYnkgYGl0ZXJhdGVlYCBhbmQgdmFsdWVzIHNldCBieSBgc2V0dGVyYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHNldHRlciBUaGUgZnVuY3Rpb24gdG8gc2V0IGBhY2N1bXVsYXRvcmAgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBpdGVyYXRlZSB0byB0cmFuc2Zvcm0ga2V5cy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gYWNjdW11bGF0b3IgVGhlIGluaXRpYWwgYWdncmVnYXRlZCBvYmplY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBhY2N1bXVsYXRvcmAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUFnZ3JlZ2F0b3IoY29sbGVjdGlvbiwgc2V0dGVyLCBpdGVyYXRlZSwgYWNjdW11bGF0b3IpIHtcbiAgICAgIGJhc2VFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBrZXksIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgc2V0dGVyKGFjY3VtdWxhdG9yLCB2YWx1ZSwgaXRlcmF0ZWUodmFsdWUpLCBjb2xsZWN0aW9uKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmFzc2lnbmAgd2l0aG91dCBzdXBwb3J0IGZvciBtdWx0aXBsZSBzb3VyY2VzXG4gICAgICogb3IgYGN1c3RvbWl6ZXJgIGZ1bmN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQXNzaWduKG9iamVjdCwgc291cmNlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICYmIGNvcHlPYmplY3Qoc291cmNlLCBrZXlzKHNvdXJjZSksIG9iamVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uYXNzaWduSW5gIHdpdGhvdXQgc3VwcG9ydCBmb3IgbXVsdGlwbGUgc291cmNlc1xuICAgICAqIG9yIGBjdXN0b21pemVyYCBmdW5jdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUFzc2lnbkluKG9iamVjdCwgc291cmNlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICYmIGNvcHlPYmplY3Qoc291cmNlLCBrZXlzSW4oc291cmNlKSwgb2JqZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgYXNzaWduVmFsdWVgIGFuZCBgYXNzaWduTWVyZ2VWYWx1ZWAgd2l0aG91dFxuICAgICAqIHZhbHVlIGNoZWNrcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGFzc2lnbi5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBhc3NpZ24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUFzc2lnblZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICAgICAgaWYgKGtleSA9PSAnX19wcm90b19fJyAmJiBkZWZpbmVQcm9wZXJ0eSkge1xuICAgICAgICBkZWZpbmVQcm9wZXJ0eShvYmplY3QsIGtleSwge1xuICAgICAgICAgICdjb25maWd1cmFibGUnOiB0cnVlLFxuICAgICAgICAgICdlbnVtZXJhYmxlJzogdHJ1ZSxcbiAgICAgICAgICAndmFsdWUnOiB2YWx1ZSxcbiAgICAgICAgICAnd3JpdGFibGUnOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5hdGAgd2l0aG91dCBzdXBwb3J0IGZvciBpbmRpdmlkdWFsIHBhdGhzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IHBhdGhzIFRoZSBwcm9wZXJ0eSBwYXRocyB0byBwaWNrLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcGlja2VkIGVsZW1lbnRzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VBdChvYmplY3QsIHBhdGhzKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBwYXRocy5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0gQXJyYXkobGVuZ3RoKSxcbiAgICAgICAgICBza2lwID0gb2JqZWN0ID09IG51bGw7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHJlc3VsdFtpbmRleF0gPSBza2lwID8gdW5kZWZpbmVkIDogZ2V0KG9iamVjdCwgcGF0aHNbaW5kZXhdKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uY2xhbXBgIHdoaWNoIGRvZXNuJ3QgY29lcmNlIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIGNsYW1wLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbG93ZXJdIFRoZSBsb3dlciBib3VuZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdXBwZXIgVGhlIHVwcGVyIGJvdW5kLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNsYW1wZWQgbnVtYmVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VDbGFtcChudW1iZXIsIGxvd2VyLCB1cHBlcikge1xuICAgICAgaWYgKG51bWJlciA9PT0gbnVtYmVyKSB7XG4gICAgICAgIGlmICh1cHBlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgbnVtYmVyID0gbnVtYmVyIDw9IHVwcGVyID8gbnVtYmVyIDogdXBwZXI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxvd2VyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBudW1iZXIgPSBudW1iZXIgPj0gbG93ZXIgPyBudW1iZXIgOiBsb3dlcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG51bWJlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5jbG9uZWAgYW5kIGBfLmNsb25lRGVlcGAgd2hpY2ggdHJhY2tzXG4gICAgICogdHJhdmVyc2VkIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNsb25lLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy5cbiAgICAgKiAgMSAtIERlZXAgY2xvbmVcbiAgICAgKiAgMiAtIEZsYXR0ZW4gaW5oZXJpdGVkIHByb3BlcnRpZXNcbiAgICAgKiAgNCAtIENsb25lIHN5bWJvbHNcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjbG9uaW5nLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBba2V5XSBUaGUga2V5IG9mIGB2YWx1ZWAuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBwYXJlbnQgb2JqZWN0IG9mIGB2YWx1ZWAuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtzdGFja10gVHJhY2tzIHRyYXZlcnNlZCBvYmplY3RzIGFuZCB0aGVpciBjbG9uZSBjb3VudGVycGFydHMuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGNsb25lZCB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQ2xvbmUodmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGtleSwgb2JqZWN0LCBzdGFjaykge1xuICAgICAgdmFyIHJlc3VsdCxcbiAgICAgICAgICBpc0RlZXAgPSBiaXRtYXNrICYgQ0xPTkVfREVFUF9GTEFHLFxuICAgICAgICAgIGlzRmxhdCA9IGJpdG1hc2sgJiBDTE9ORV9GTEFUX0ZMQUcsXG4gICAgICAgICAgaXNGdWxsID0gYml0bWFzayAmIENMT05FX1NZTUJPTFNfRkxBRztcblxuICAgICAgaWYgKGN1c3RvbWl6ZXIpIHtcbiAgICAgICAgcmVzdWx0ID0gb2JqZWN0ID8gY3VzdG9taXplcih2YWx1ZSwga2V5LCBvYmplY3QsIHN0YWNrKSA6IGN1c3RvbWl6ZXIodmFsdWUpO1xuICAgICAgfVxuICAgICAgaWYgKHJlc3VsdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICBpZiAoIWlzT2JqZWN0KHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICB2YXIgaXNBcnIgPSBpc0FycmF5KHZhbHVlKTtcbiAgICAgIGlmIChpc0Fycikge1xuICAgICAgICByZXN1bHQgPSBpbml0Q2xvbmVBcnJheSh2YWx1ZSk7XG4gICAgICAgIGlmICghaXNEZWVwKSB7XG4gICAgICAgICAgcmV0dXJuIGNvcHlBcnJheSh2YWx1ZSwgcmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHRhZyA9IGdldFRhZyh2YWx1ZSksXG4gICAgICAgICAgICBpc0Z1bmMgPSB0YWcgPT0gZnVuY1RhZyB8fCB0YWcgPT0gZ2VuVGFnO1xuXG4gICAgICAgIGlmIChpc0J1ZmZlcih2YWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm4gY2xvbmVCdWZmZXIodmFsdWUsIGlzRGVlcCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRhZyA9PSBvYmplY3RUYWcgfHwgdGFnID09IGFyZ3NUYWcgfHwgKGlzRnVuYyAmJiAhb2JqZWN0KSkge1xuICAgICAgICAgIHJlc3VsdCA9IChpc0ZsYXQgfHwgaXNGdW5jKSA/IHt9IDogaW5pdENsb25lT2JqZWN0KHZhbHVlKTtcbiAgICAgICAgICBpZiAoIWlzRGVlcCkge1xuICAgICAgICAgICAgcmV0dXJuIGlzRmxhdFxuICAgICAgICAgICAgICA/IGNvcHlTeW1ib2xzSW4odmFsdWUsIGJhc2VBc3NpZ25JbihyZXN1bHQsIHZhbHVlKSlcbiAgICAgICAgICAgICAgOiBjb3B5U3ltYm9scyh2YWx1ZSwgYmFzZUFzc2lnbihyZXN1bHQsIHZhbHVlKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmICghY2xvbmVhYmxlVGFnc1t0YWddKSB7XG4gICAgICAgICAgICByZXR1cm4gb2JqZWN0ID8gdmFsdWUgOiB7fTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0ID0gaW5pdENsb25lQnlUYWcodmFsdWUsIHRhZywgaXNEZWVwKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gQ2hlY2sgZm9yIGNpcmN1bGFyIHJlZmVyZW5jZXMgYW5kIHJldHVybiBpdHMgY29ycmVzcG9uZGluZyBjbG9uZS5cbiAgICAgIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG4gICAgICB2YXIgc3RhY2tlZCA9IHN0YWNrLmdldCh2YWx1ZSk7XG4gICAgICBpZiAoc3RhY2tlZCkge1xuICAgICAgICByZXR1cm4gc3RhY2tlZDtcbiAgICAgIH1cbiAgICAgIHN0YWNrLnNldCh2YWx1ZSwgcmVzdWx0KTtcblxuICAgICAgaWYgKGlzU2V0KHZhbHVlKSkge1xuICAgICAgICB2YWx1ZS5mb3JFYWNoKGZ1bmN0aW9uKHN1YlZhbHVlKSB7XG4gICAgICAgICAgcmVzdWx0LmFkZChiYXNlQ2xvbmUoc3ViVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN1YlZhbHVlLCB2YWx1ZSwgc3RhY2spKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKGlzTWFwKHZhbHVlKSkge1xuICAgICAgICB2YWx1ZS5mb3JFYWNoKGZ1bmN0aW9uKHN1YlZhbHVlLCBrZXkpIHtcbiAgICAgICAgICByZXN1bHQuc2V0KGtleSwgYmFzZUNsb25lKHN1YlZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBrZXksIHZhbHVlLCBzdGFjaykpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgdmFyIGtleXNGdW5jID0gaXNGdWxsXG4gICAgICAgID8gKGlzRmxhdCA/IGdldEFsbEtleXNJbiA6IGdldEFsbEtleXMpXG4gICAgICAgIDogKGlzRmxhdCA/IGtleXNJbiA6IGtleXMpO1xuXG4gICAgICB2YXIgcHJvcHMgPSBpc0FyciA/IHVuZGVmaW5lZCA6IGtleXNGdW5jKHZhbHVlKTtcbiAgICAgIGFycmF5RWFjaChwcm9wcyB8fCB2YWx1ZSwgZnVuY3Rpb24oc3ViVmFsdWUsIGtleSkge1xuICAgICAgICBpZiAocHJvcHMpIHtcbiAgICAgICAgICBrZXkgPSBzdWJWYWx1ZTtcbiAgICAgICAgICBzdWJWYWx1ZSA9IHZhbHVlW2tleV07XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVjdXJzaXZlbHkgcG9wdWxhdGUgY2xvbmUgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgICAgYXNzaWduVmFsdWUocmVzdWx0LCBrZXksIGJhc2VDbG9uZShzdWJWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwga2V5LCB2YWx1ZSwgc3RhY2spKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5jb25mb3Jtc2Agd2hpY2ggZG9lc24ndCBjbG9uZSBgc291cmNlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHByZWRpY2F0ZXMgdG8gY29uZm9ybSB0by5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzcGVjIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VDb25mb3Jtcyhzb3VyY2UpIHtcbiAgICAgIHZhciBwcm9wcyA9IGtleXMoc291cmNlKTtcbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VDb25mb3Jtc1RvKG9iamVjdCwgc291cmNlLCBwcm9wcyk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmNvbmZvcm1zVG9gIHdoaWNoIGFjY2VwdHMgYHByb3BzYCB0byBjaGVjay5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHByZWRpY2F0ZXMgdG8gY29uZm9ybSB0by5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYG9iamVjdGAgY29uZm9ybXMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQ29uZm9ybXNUbyhvYmplY3QsIHNvdXJjZSwgcHJvcHMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBwcm9wcy5sZW5ndGg7XG4gICAgICBpZiAob2JqZWN0ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuICFsZW5ndGg7XG4gICAgICB9XG4gICAgICBvYmplY3QgPSBPYmplY3Qob2JqZWN0KTtcbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICB2YXIga2V5ID0gcHJvcHNbbGVuZ3RoXSxcbiAgICAgICAgICAgIHByZWRpY2F0ZSA9IHNvdXJjZVtrZXldLFxuICAgICAgICAgICAgdmFsdWUgPSBvYmplY3Rba2V5XTtcblxuICAgICAgICBpZiAoKHZhbHVlID09PSB1bmRlZmluZWQgJiYgIShrZXkgaW4gb2JqZWN0KSkgfHwgIXByZWRpY2F0ZSh2YWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmRlbGF5YCBhbmQgYF8uZGVmZXJgIHdoaWNoIGFjY2VwdHMgYGFyZ3NgXG4gICAgICogdG8gcHJvdmlkZSB0byBgZnVuY2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRlbGF5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3YWl0IFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIGRlbGF5IGludm9jYXRpb24uXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJncyBUaGUgYXJndW1lbnRzIHRvIHByb3ZpZGUgdG8gYGZ1bmNgLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ8T2JqZWN0fSBSZXR1cm5zIHRoZSB0aW1lciBpZCBvciB0aW1lb3V0IG9iamVjdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRGVsYXkoZnVuYywgd2FpdCwgYXJncykge1xuICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7IGZ1bmMuYXBwbHkodW5kZWZpbmVkLCBhcmdzKTsgfSwgd2FpdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgbWV0aG9kcyBsaWtlIGBfLmRpZmZlcmVuY2VgIHdpdGhvdXQgc3VwcG9ydFxuICAgICAqIGZvciBleGNsdWRpbmcgbXVsdGlwbGUgYXJyYXlzIG9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgdmFsdWVzIHRvIGV4Y2x1ZGUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlXSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZURpZmZlcmVuY2UoYXJyYXksIHZhbHVlcywgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGluY2x1ZGVzID0gYXJyYXlJbmNsdWRlcyxcbiAgICAgICAgICBpc0NvbW1vbiA9IHRydWUsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IFtdLFxuICAgICAgICAgIHZhbHVlc0xlbmd0aCA9IHZhbHVlcy5sZW5ndGg7XG5cbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICBpZiAoaXRlcmF0ZWUpIHtcbiAgICAgICAgdmFsdWVzID0gYXJyYXlNYXAodmFsdWVzLCBiYXNlVW5hcnkoaXRlcmF0ZWUpKTtcbiAgICAgIH1cbiAgICAgIGlmIChjb21wYXJhdG9yKSB7XG4gICAgICAgIGluY2x1ZGVzID0gYXJyYXlJbmNsdWRlc1dpdGg7XG4gICAgICAgIGlzQ29tbW9uID0gZmFsc2U7XG4gICAgICB9XG4gICAgICBlbHNlIGlmICh2YWx1ZXMubGVuZ3RoID49IExBUkdFX0FSUkFZX1NJWkUpIHtcbiAgICAgICAgaW5jbHVkZXMgPSBjYWNoZUhhcztcbiAgICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICAgICAgdmFsdWVzID0gbmV3IFNldENhY2hlKHZhbHVlcyk7XG4gICAgICB9XG4gICAgICBvdXRlcjpcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XSxcbiAgICAgICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUgPT0gbnVsbCA/IHZhbHVlIDogaXRlcmF0ZWUodmFsdWUpO1xuXG4gICAgICAgIHZhbHVlID0gKGNvbXBhcmF0b3IgfHwgdmFsdWUgIT09IDApID8gdmFsdWUgOiAwO1xuICAgICAgICBpZiAoaXNDb21tb24gJiYgY29tcHV0ZWQgPT09IGNvbXB1dGVkKSB7XG4gICAgICAgICAgdmFyIHZhbHVlc0luZGV4ID0gdmFsdWVzTGVuZ3RoO1xuICAgICAgICAgIHdoaWxlICh2YWx1ZXNJbmRleC0tKSB7XG4gICAgICAgICAgICBpZiAodmFsdWVzW3ZhbHVlc0luZGV4XSA9PT0gY29tcHV0ZWQpIHtcbiAgICAgICAgICAgICAgY29udGludWUgb3V0ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghaW5jbHVkZXModmFsdWVzLCBjb21wdXRlZCwgY29tcGFyYXRvcikpIHtcbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZm9yRWFjaGAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl8T2JqZWN0fSBSZXR1cm5zIGBjb2xsZWN0aW9uYC5cbiAgICAgKi9cbiAgICB2YXIgYmFzZUVhY2ggPSBjcmVhdGVCYXNlRWFjaChiYXNlRm9yT3duKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZvckVhY2hSaWdodGAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl8T2JqZWN0fSBSZXR1cm5zIGBjb2xsZWN0aW9uYC5cbiAgICAgKi9cbiAgICB2YXIgYmFzZUVhY2hSaWdodCA9IGNyZWF0ZUJhc2VFYWNoKGJhc2VGb3JPd25SaWdodCwgdHJ1ZSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5ldmVyeWAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFsbCBlbGVtZW50cyBwYXNzIHRoZSBwcmVkaWNhdGUgY2hlY2ssXG4gICAgICogIGVsc2UgYGZhbHNlYFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VFdmVyeShjb2xsZWN0aW9uLCBwcmVkaWNhdGUpIHtcbiAgICAgIHZhciByZXN1bHQgPSB0cnVlO1xuICAgICAgYmFzZUVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIHJlc3VsdCA9ICEhcHJlZGljYXRlKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbik7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgbWV0aG9kcyBsaWtlIGBfLm1heGAgYW5kIGBfLm1pbmAgd2hpY2ggYWNjZXB0cyBhXG4gICAgICogYGNvbXBhcmF0b3JgIHRvIGRldGVybWluZSB0aGUgZXh0cmVtdW0gdmFsdWUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb21wYXJhdG9yIFRoZSBjb21wYXJhdG9yIHVzZWQgdG8gY29tcGFyZSB2YWx1ZXMuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGV4dHJlbXVtIHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VFeHRyZW11bShhcnJheSwgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdLFxuICAgICAgICAgICAgY3VycmVudCA9IGl0ZXJhdGVlKHZhbHVlKTtcblxuICAgICAgICBpZiAoY3VycmVudCAhPSBudWxsICYmIChjb21wdXRlZCA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgID8gKGN1cnJlbnQgPT09IGN1cnJlbnQgJiYgIWlzU3ltYm9sKGN1cnJlbnQpKVxuICAgICAgICAgICAgICA6IGNvbXBhcmF0b3IoY3VycmVudCwgY29tcHV0ZWQpXG4gICAgICAgICAgICApKSB7XG4gICAgICAgICAgdmFyIGNvbXB1dGVkID0gY3VycmVudCxcbiAgICAgICAgICAgICAgcmVzdWx0ID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZmlsbGAgd2l0aG91dCBhbiBpdGVyYXRlZSBjYWxsIGd1YXJkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gZmlsbC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBmaWxsIGBhcnJheWAgd2l0aC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBwb3NpdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2VuZD1hcnJheS5sZW5ndGhdIFRoZSBlbmQgcG9zaXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUZpbGwoYXJyYXksIHZhbHVlLCBzdGFydCwgZW5kKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgICBzdGFydCA9IHRvSW50ZWdlcihzdGFydCk7XG4gICAgICBpZiAoc3RhcnQgPCAwKSB7XG4gICAgICAgIHN0YXJ0ID0gLXN0YXJ0ID4gbGVuZ3RoID8gMCA6IChsZW5ndGggKyBzdGFydCk7XG4gICAgICB9XG4gICAgICBlbmQgPSAoZW5kID09PSB1bmRlZmluZWQgfHwgZW5kID4gbGVuZ3RoKSA/IGxlbmd0aCA6IHRvSW50ZWdlcihlbmQpO1xuICAgICAgaWYgKGVuZCA8IDApIHtcbiAgICAgICAgZW5kICs9IGxlbmd0aDtcbiAgICAgIH1cbiAgICAgIGVuZCA9IHN0YXJ0ID4gZW5kID8gMCA6IHRvTGVuZ3RoKGVuZCk7XG4gICAgICB3aGlsZSAoc3RhcnQgPCBlbmQpIHtcbiAgICAgICAgYXJyYXlbc3RhcnQrK10gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5maWx0ZXJgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZpbHRlcmVkIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VGaWx0ZXIoY29sbGVjdGlvbiwgcHJlZGljYXRlKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICBiYXNlRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgaWYgKHByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZmxhdHRlbmAgd2l0aCBzdXBwb3J0IGZvciByZXN0cmljdGluZyBmbGF0dGVuaW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gZmxhdHRlbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGVwdGggVGhlIG1heGltdW0gcmVjdXJzaW9uIGRlcHRoLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3ByZWRpY2F0ZT1pc0ZsYXR0ZW5hYmxlXSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzU3RyaWN0XSBSZXN0cmljdCB0byB2YWx1ZXMgdGhhdCBwYXNzIGBwcmVkaWNhdGVgIGNoZWNrcy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcmVzdWx0PVtdXSBUaGUgaW5pdGlhbCByZXN1bHQgdmFsdWUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VGbGF0dGVuKGFycmF5LCBkZXB0aCwgcHJlZGljYXRlLCBpc1N0cmljdCwgcmVzdWx0KSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICAgIHByZWRpY2F0ZSB8fCAocHJlZGljYXRlID0gaXNGbGF0dGVuYWJsZSk7XG4gICAgICByZXN1bHQgfHwgKHJlc3VsdCA9IFtdKTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuICAgICAgICBpZiAoZGVwdGggPiAwICYmIHByZWRpY2F0ZSh2YWx1ZSkpIHtcbiAgICAgICAgICBpZiAoZGVwdGggPiAxKSB7XG4gICAgICAgICAgICAvLyBSZWN1cnNpdmVseSBmbGF0dGVuIGFycmF5cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgICAgICAgICAgYmFzZUZsYXR0ZW4odmFsdWUsIGRlcHRoIC0gMSwgcHJlZGljYXRlLCBpc1N0cmljdCwgcmVzdWx0KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXJyYXlQdXNoKHJlc3VsdCwgdmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICghaXNTdHJpY3QpIHtcbiAgICAgICAgICByZXN1bHRbcmVzdWx0Lmxlbmd0aF0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgYmFzZUZvck93bmAgd2hpY2ggaXRlcmF0ZXMgb3ZlciBgb2JqZWN0YFxuICAgICAqIHByb3BlcnRpZXMgcmV0dXJuZWQgYnkgYGtleXNGdW5jYCBhbmQgaW52b2tlcyBgaXRlcmF0ZWVgIGZvciBlYWNoIHByb3BlcnR5LlxuICAgICAqIEl0ZXJhdGVlIGZ1bmN0aW9ucyBtYXkgZXhpdCBpdGVyYXRpb24gZWFybHkgYnkgZXhwbGljaXRseSByZXR1cm5pbmcgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGtleXNGdW5jIFRoZSBmdW5jdGlvbiB0byBnZXQgdGhlIGtleXMgb2YgYG9iamVjdGAuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICB2YXIgYmFzZUZvciA9IGNyZWF0ZUJhc2VGb3IoKTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgbGlrZSBgYmFzZUZvcmAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBwcm9wZXJ0aWVzXG4gICAgICogaW4gdGhlIG9wcG9zaXRlIG9yZGVyLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0ga2V5c0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUga2V5cyBvZiBgb2JqZWN0YC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIHZhciBiYXNlRm9yUmlnaHQgPSBjcmVhdGVCYXNlRm9yKHRydWUpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZm9yT3duYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VGb3JPd24ob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCAmJiBiYXNlRm9yKG9iamVjdCwgaXRlcmF0ZWUsIGtleXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZvck93blJpZ2h0YCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VGb3JPd25SaWdodChvYmplY3QsIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICYmIGJhc2VGb3JSaWdodChvYmplY3QsIGl0ZXJhdGVlLCBrZXlzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5mdW5jdGlvbnNgIHdoaWNoIGNyZWF0ZXMgYW4gYXJyYXkgb2ZcbiAgICAgKiBgb2JqZWN0YCBmdW5jdGlvbiBwcm9wZXJ0eSBuYW1lcyBmaWx0ZXJlZCBmcm9tIGBwcm9wc2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHByb3BzIFRoZSBwcm9wZXJ0eSBuYW1lcyB0byBmaWx0ZXIuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBmdW5jdGlvbiBuYW1lcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRnVuY3Rpb25zKG9iamVjdCwgcHJvcHMpIHtcbiAgICAgIHJldHVybiBhcnJheUZpbHRlcihwcm9wcywgZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgIHJldHVybiBpc0Z1bmN0aW9uKG9iamVjdFtrZXldKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmdldGAgd2l0aG91dCBzdXBwb3J0IGZvciBkZWZhdWx0IHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc29sdmVkIHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VHZXQob2JqZWN0LCBwYXRoKSB7XG4gICAgICBwYXRoID0gY2FzdFBhdGgocGF0aCwgb2JqZWN0KTtcblxuICAgICAgdmFyIGluZGV4ID0gMCxcbiAgICAgICAgICBsZW5ndGggPSBwYXRoLmxlbmd0aDtcblxuICAgICAgd2hpbGUgKG9iamVjdCAhPSBudWxsICYmIGluZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIG9iamVjdCA9IG9iamVjdFt0b0tleShwYXRoW2luZGV4KytdKV07XG4gICAgICB9XG4gICAgICByZXR1cm4gKGluZGV4ICYmIGluZGV4ID09IGxlbmd0aCkgPyBvYmplY3QgOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGdldEFsbEtleXNgIGFuZCBgZ2V0QWxsS2V5c0luYCB3aGljaCB1c2VzXG4gICAgICogYGtleXNGdW5jYCBhbmQgYHN5bWJvbHNGdW5jYCB0byBnZXQgdGhlIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgYW5kXG4gICAgICogc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGtleXNGdW5jIFRoZSBmdW5jdGlvbiB0byBnZXQgdGhlIGtleXMgb2YgYG9iamVjdGAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc3ltYm9sc0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUgc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzIGFuZCBzeW1ib2xzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VHZXRBbGxLZXlzKG9iamVjdCwga2V5c0Z1bmMsIHN5bWJvbHNGdW5jKSB7XG4gICAgICB2YXIgcmVzdWx0ID0ga2V5c0Z1bmMob2JqZWN0KTtcbiAgICAgIHJldHVybiBpc0FycmF5KG9iamVjdCkgPyByZXN1bHQgOiBhcnJheVB1c2gocmVzdWx0LCBzeW1ib2xzRnVuYyhvYmplY3QpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgZ2V0VGFnYCB3aXRob3V0IGZhbGxiYWNrcyBmb3IgYnVnZ3kgZW52aXJvbm1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBgdG9TdHJpbmdUYWdgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VHZXRUYWcodmFsdWUpIHtcbiAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gdW5kZWZpbmVkVGFnIDogbnVsbFRhZztcbiAgICAgIH1cbiAgICAgIHJldHVybiAoc3ltVG9TdHJpbmdUYWcgJiYgc3ltVG9TdHJpbmdUYWcgaW4gT2JqZWN0KHZhbHVlKSlcbiAgICAgICAgPyBnZXRSYXdUYWcodmFsdWUpXG4gICAgICAgIDogb2JqZWN0VG9TdHJpbmcodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmd0YCB3aGljaCBkb2Vzbid0IGNvZXJjZSBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBncmVhdGVyIHRoYW4gYG90aGVyYCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VHdCh2YWx1ZSwgb3RoZXIpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA+IG90aGVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmhhc2Agd2l0aG91dCBzdXBwb3J0IGZvciBkZWVwIHBhdGhzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30ga2V5IFRoZSBrZXkgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VIYXMob2JqZWN0LCBrZXkpIHtcbiAgICAgIHJldHVybiBvYmplY3QgIT0gbnVsbCAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5oYXNJbmAgd2l0aG91dCBzdXBwb3J0IGZvciBkZWVwIHBhdGhzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30ga2V5IFRoZSBrZXkgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VIYXNJbihvYmplY3QsIGtleSkge1xuICAgICAgcmV0dXJuIG9iamVjdCAhPSBudWxsICYmIGtleSBpbiBPYmplY3Qob2JqZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pblJhbmdlYCB3aGljaCBkb2Vzbid0IGNvZXJjZSBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBudW1iZXIgVGhlIG51bWJlciB0byBjaGVjay5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnQgVGhlIHN0YXJ0IG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIFRoZSBlbmQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgbnVtYmVyYCBpcyBpbiB0aGUgcmFuZ2UsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSW5SYW5nZShudW1iZXIsIHN0YXJ0LCBlbmQpIHtcbiAgICAgIHJldHVybiBudW1iZXIgPj0gbmF0aXZlTWluKHN0YXJ0LCBlbmQpICYmIG51bWJlciA8IG5hdGl2ZU1heChzdGFydCwgZW5kKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBtZXRob2RzIGxpa2UgYF8uaW50ZXJzZWN0aW9uYCwgd2l0aG91dCBzdXBwb3J0XG4gICAgICogZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMsIHRoYXQgYWNjZXB0cyBhbiBhcnJheSBvZiBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXlzIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWVdIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIHNoYXJlZCB2YWx1ZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUludGVyc2VjdGlvbihhcnJheXMsIGl0ZXJhdGVlLCBjb21wYXJhdG9yKSB7XG4gICAgICB2YXIgaW5jbHVkZXMgPSBjb21wYXJhdG9yID8gYXJyYXlJbmNsdWRlc1dpdGggOiBhcnJheUluY2x1ZGVzLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5c1swXS5sZW5ndGgsXG4gICAgICAgICAgb3RoTGVuZ3RoID0gYXJyYXlzLmxlbmd0aCxcbiAgICAgICAgICBvdGhJbmRleCA9IG90aExlbmd0aCxcbiAgICAgICAgICBjYWNoZXMgPSBBcnJheShvdGhMZW5ndGgpLFxuICAgICAgICAgIG1heExlbmd0aCA9IEluZmluaXR5LFxuICAgICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgICB3aGlsZSAob3RoSW5kZXgtLSkge1xuICAgICAgICB2YXIgYXJyYXkgPSBhcnJheXNbb3RoSW5kZXhdO1xuICAgICAgICBpZiAob3RoSW5kZXggJiYgaXRlcmF0ZWUpIHtcbiAgICAgICAgICBhcnJheSA9IGFycmF5TWFwKGFycmF5LCBiYXNlVW5hcnkoaXRlcmF0ZWUpKTtcbiAgICAgICAgfVxuICAgICAgICBtYXhMZW5ndGggPSBuYXRpdmVNaW4oYXJyYXkubGVuZ3RoLCBtYXhMZW5ndGgpO1xuICAgICAgICBjYWNoZXNbb3RoSW5kZXhdID0gIWNvbXBhcmF0b3IgJiYgKGl0ZXJhdGVlIHx8IChsZW5ndGggPj0gMTIwICYmIGFycmF5Lmxlbmd0aCA+PSAxMjApKVxuICAgICAgICAgID8gbmV3IFNldENhY2hlKG90aEluZGV4ICYmIGFycmF5KVxuICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgYXJyYXkgPSBhcnJheXNbMF07XG5cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIHNlZW4gPSBjYWNoZXNbMF07XG5cbiAgICAgIG91dGVyOlxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGggJiYgcmVzdWx0Lmxlbmd0aCA8IG1heExlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF0sXG4gICAgICAgICAgICBjb21wdXRlZCA9IGl0ZXJhdGVlID8gaXRlcmF0ZWUodmFsdWUpIDogdmFsdWU7XG5cbiAgICAgICAgdmFsdWUgPSAoY29tcGFyYXRvciB8fCB2YWx1ZSAhPT0gMCkgPyB2YWx1ZSA6IDA7XG4gICAgICAgIGlmICghKHNlZW5cbiAgICAgICAgICAgICAgPyBjYWNoZUhhcyhzZWVuLCBjb21wdXRlZClcbiAgICAgICAgICAgICAgOiBpbmNsdWRlcyhyZXN1bHQsIGNvbXB1dGVkLCBjb21wYXJhdG9yKVxuICAgICAgICAgICAgKSkge1xuICAgICAgICAgIG90aEluZGV4ID0gb3RoTGVuZ3RoO1xuICAgICAgICAgIHdoaWxlICgtLW90aEluZGV4KSB7XG4gICAgICAgICAgICB2YXIgY2FjaGUgPSBjYWNoZXNbb3RoSW5kZXhdO1xuICAgICAgICAgICAgaWYgKCEoY2FjaGVcbiAgICAgICAgICAgICAgICAgID8gY2FjaGVIYXMoY2FjaGUsIGNvbXB1dGVkKVxuICAgICAgICAgICAgICAgICAgOiBpbmNsdWRlcyhhcnJheXNbb3RoSW5kZXhdLCBjb21wdXRlZCwgY29tcGFyYXRvcikpXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIGNvbnRpbnVlIG91dGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoc2Vlbikge1xuICAgICAgICAgICAgc2Vlbi5wdXNoKGNvbXB1dGVkKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmludmVydGAgYW5kIGBfLmludmVydEJ5YCB3aGljaCBpbnZlcnRzXG4gICAgICogYG9iamVjdGAgd2l0aCB2YWx1ZXMgdHJhbnNmb3JtZWQgYnkgYGl0ZXJhdGVlYCBhbmQgc2V0IGJ5IGBzZXR0ZXJgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHNldHRlciBUaGUgZnVuY3Rpb24gdG8gc2V0IGBhY2N1bXVsYXRvcmAgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBpdGVyYXRlZSB0byB0cmFuc2Zvcm0gdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBhY2N1bXVsYXRvciBUaGUgaW5pdGlhbCBpbnZlcnRlZCBvYmplY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBhY2N1bXVsYXRvcmAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUludmVydGVyKG9iamVjdCwgc2V0dGVyLCBpdGVyYXRlZSwgYWNjdW11bGF0b3IpIHtcbiAgICAgIGJhc2VGb3JPd24ob2JqZWN0LCBmdW5jdGlvbih2YWx1ZSwga2V5LCBvYmplY3QpIHtcbiAgICAgICAgc2V0dGVyKGFjY3VtdWxhdG9yLCBpdGVyYXRlZSh2YWx1ZSksIGtleSwgb2JqZWN0KTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmludm9rZWAgd2l0aG91dCBzdXBwb3J0IGZvciBpbmRpdmlkdWFsXG4gICAgICogbWV0aG9kIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBtZXRob2QgdG8gaW52b2tlLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFyZ3MgVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgdGhlIG1ldGhvZCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXN1bHQgb2YgdGhlIGludm9rZWQgbWV0aG9kLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJbnZva2Uob2JqZWN0LCBwYXRoLCBhcmdzKSB7XG4gICAgICBwYXRoID0gY2FzdFBhdGgocGF0aCwgb2JqZWN0KTtcbiAgICAgIG9iamVjdCA9IHBhcmVudChvYmplY3QsIHBhdGgpO1xuICAgICAgdmFyIGZ1bmMgPSBvYmplY3QgPT0gbnVsbCA/IG9iamVjdCA6IG9iamVjdFt0b0tleShsYXN0KHBhdGgpKV07XG4gICAgICByZXR1cm4gZnVuYyA9PSBudWxsID8gdW5kZWZpbmVkIDogYXBwbHkoZnVuYywgb2JqZWN0LCBhcmdzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc0FyZ3VtZW50c2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGBhcmd1bWVudHNgIG9iamVjdCxcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNBcmd1bWVudHModmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IGFyZ3NUYWc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNBcnJheUJ1ZmZlcmAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5IGJ1ZmZlciwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc0FycmF5QnVmZmVyKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBhcnJheUJ1ZmZlclRhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc0RhdGVgIHdpdGhvdXQgTm9kZS5qcyBvcHRpbWl6YXRpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGRhdGUgb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzRGF0ZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gZGF0ZVRhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc0VxdWFsYCB3aGljaCBzdXBwb3J0cyBwYXJ0aWFsIGNvbXBhcmlzb25zXG4gICAgICogYW5kIHRyYWNrcyB0cmF2ZXJzZWQgb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy5cbiAgICAgKiAgMSAtIFVub3JkZXJlZCBjb21wYXJpc29uXG4gICAgICogIDIgLSBQYXJ0aWFsIGNvbXBhcmlzb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIGB2YWx1ZWAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc0VxdWFsKHZhbHVlLCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spIHtcbiAgICAgIGlmICh2YWx1ZSA9PT0gb3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBpZiAodmFsdWUgPT0gbnVsbCB8fCBvdGhlciA9PSBudWxsIHx8ICghaXNPYmplY3RMaWtlKHZhbHVlKSAmJiAhaXNPYmplY3RMaWtlKG90aGVyKSkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlICE9PSB2YWx1ZSAmJiBvdGhlciAhPT0gb3RoZXI7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZUlzRXF1YWxEZWVwKHZhbHVlLCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgYmFzZUlzRXF1YWwsIHN0YWNrKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VJc0VxdWFsYCBmb3IgYXJyYXlzIGFuZCBvYmplY3RzIHdoaWNoIHBlcmZvcm1zXG4gICAgICogZGVlcCBjb21wYXJpc29ucyBhbmQgdHJhY2tzIHRyYXZlcnNlZCBvYmplY3RzIGVuYWJsaW5nIG9iamVjdHMgd2l0aCBjaXJjdWxhclxuICAgICAqIHJlZmVyZW5jZXMgdG8gYmUgY29tcGFyZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvdGhlciBUaGUgb3RoZXIgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIGBvYmplY3RgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBvYmplY3RzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzRXF1YWxEZWVwKG9iamVjdCwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spIHtcbiAgICAgIHZhciBvYmpJc0FyciA9IGlzQXJyYXkob2JqZWN0KSxcbiAgICAgICAgICBvdGhJc0FyciA9IGlzQXJyYXkob3RoZXIpLFxuICAgICAgICAgIG9ialRhZyA9IG9iaklzQXJyID8gYXJyYXlUYWcgOiBnZXRUYWcob2JqZWN0KSxcbiAgICAgICAgICBvdGhUYWcgPSBvdGhJc0FyciA/IGFycmF5VGFnIDogZ2V0VGFnKG90aGVyKTtcblxuICAgICAgb2JqVGFnID0gb2JqVGFnID09IGFyZ3NUYWcgPyBvYmplY3RUYWcgOiBvYmpUYWc7XG4gICAgICBvdGhUYWcgPSBvdGhUYWcgPT0gYXJnc1RhZyA/IG9iamVjdFRhZyA6IG90aFRhZztcblxuICAgICAgdmFyIG9iaklzT2JqID0gb2JqVGFnID09IG9iamVjdFRhZyxcbiAgICAgICAgICBvdGhJc09iaiA9IG90aFRhZyA9PSBvYmplY3RUYWcsXG4gICAgICAgICAgaXNTYW1lVGFnID0gb2JqVGFnID09IG90aFRhZztcblxuICAgICAgaWYgKGlzU2FtZVRhZyAmJiBpc0J1ZmZlcihvYmplY3QpKSB7XG4gICAgICAgIGlmICghaXNCdWZmZXIob3RoZXIpKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIG9iaklzQXJyID0gdHJ1ZTtcbiAgICAgICAgb2JqSXNPYmogPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmIChpc1NhbWVUYWcgJiYgIW9iaklzT2JqKSB7XG4gICAgICAgIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG4gICAgICAgIHJldHVybiAob2JqSXNBcnIgfHwgaXNUeXBlZEFycmF5KG9iamVjdCkpXG4gICAgICAgICAgPyBlcXVhbEFycmF5cyhvYmplY3QsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKVxuICAgICAgICAgIDogZXF1YWxCeVRhZyhvYmplY3QsIG90aGVyLCBvYmpUYWcsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spO1xuICAgICAgfVxuICAgICAgaWYgKCEoYml0bWFzayAmIENPTVBBUkVfUEFSVElBTF9GTEFHKSkge1xuICAgICAgICB2YXIgb2JqSXNXcmFwcGVkID0gb2JqSXNPYmogJiYgaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsICdfX3dyYXBwZWRfXycpLFxuICAgICAgICAgICAgb3RoSXNXcmFwcGVkID0gb3RoSXNPYmogJiYgaGFzT3duUHJvcGVydHkuY2FsbChvdGhlciwgJ19fd3JhcHBlZF9fJyk7XG5cbiAgICAgICAgaWYgKG9iaklzV3JhcHBlZCB8fCBvdGhJc1dyYXBwZWQpIHtcbiAgICAgICAgICB2YXIgb2JqVW53cmFwcGVkID0gb2JqSXNXcmFwcGVkID8gb2JqZWN0LnZhbHVlKCkgOiBvYmplY3QsXG4gICAgICAgICAgICAgIG90aFVud3JhcHBlZCA9IG90aElzV3JhcHBlZCA/IG90aGVyLnZhbHVlKCkgOiBvdGhlcjtcblxuICAgICAgICAgIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG4gICAgICAgICAgcmV0dXJuIGVxdWFsRnVuYyhvYmpVbndyYXBwZWQsIG90aFVud3JhcHBlZCwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoIWlzU2FtZVRhZykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICAgICAgcmV0dXJuIGVxdWFsT2JqZWN0cyhvYmplY3QsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc01hcGAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgbWFwLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzTWFwKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBnZXRUYWcodmFsdWUpID09IG1hcFRhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc01hdGNoYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSB2YWx1ZXMgdG8gbWF0Y2guXG4gICAgICogQHBhcmFtIHtBcnJheX0gbWF0Y2hEYXRhIFRoZSBwcm9wZXJ0eSBuYW1lcywgdmFsdWVzLCBhbmQgY29tcGFyZSBmbGFncyB0byBtYXRjaC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYG9iamVjdGAgaXMgYSBtYXRjaCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc01hdGNoKG9iamVjdCwgc291cmNlLCBtYXRjaERhdGEsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIHZhciBpbmRleCA9IG1hdGNoRGF0YS5sZW5ndGgsXG4gICAgICAgICAgbGVuZ3RoID0gaW5kZXgsXG4gICAgICAgICAgbm9DdXN0b21pemVyID0gIWN1c3RvbWl6ZXI7XG5cbiAgICAgIGlmIChvYmplY3QgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gIWxlbmd0aDtcbiAgICAgIH1cbiAgICAgIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuICAgICAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICAgICAgdmFyIGRhdGEgPSBtYXRjaERhdGFbaW5kZXhdO1xuICAgICAgICBpZiAoKG5vQ3VzdG9taXplciAmJiBkYXRhWzJdKVxuICAgICAgICAgICAgICA/IGRhdGFbMV0gIT09IG9iamVjdFtkYXRhWzBdXVxuICAgICAgICAgICAgICA6ICEoZGF0YVswXSBpbiBvYmplY3QpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIGRhdGEgPSBtYXRjaERhdGFbaW5kZXhdO1xuICAgICAgICB2YXIga2V5ID0gZGF0YVswXSxcbiAgICAgICAgICAgIG9ialZhbHVlID0gb2JqZWN0W2tleV0sXG4gICAgICAgICAgICBzcmNWYWx1ZSA9IGRhdGFbMV07XG5cbiAgICAgICAgaWYgKG5vQ3VzdG9taXplciAmJiBkYXRhWzJdKSB7XG4gICAgICAgICAgaWYgKG9ialZhbHVlID09PSB1bmRlZmluZWQgJiYgIShrZXkgaW4gb2JqZWN0KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgc3RhY2sgPSBuZXcgU3RhY2s7XG4gICAgICAgICAgaWYgKGN1c3RvbWl6ZXIpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBjdXN0b21pemVyKG9ialZhbHVlLCBzcmNWYWx1ZSwga2V5LCBvYmplY3QsIHNvdXJjZSwgc3RhY2spO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIShyZXN1bHQgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgID8gYmFzZUlzRXF1YWwoc3JjVmFsdWUsIG9ialZhbHVlLCBDT01QQVJFX1BBUlRJQUxfRkxBRyB8IENPTVBBUkVfVU5PUkRFUkVEX0ZMQUcsIGN1c3RvbWl6ZXIsIHN0YWNrKVxuICAgICAgICAgICAgICAgIDogcmVzdWx0XG4gICAgICAgICAgICAgICkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzTmF0aXZlYCB3aXRob3V0IGJhZCBzaGltIGNoZWNrcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBuYXRpdmUgZnVuY3Rpb24sXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNOYXRpdmUodmFsdWUpIHtcbiAgICAgIGlmICghaXNPYmplY3QodmFsdWUpIHx8IGlzTWFza2VkKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgcGF0dGVybiA9IGlzRnVuY3Rpb24odmFsdWUpID8gcmVJc05hdGl2ZSA6IHJlSXNIb3N0Q3RvcjtcbiAgICAgIHJldHVybiBwYXR0ZXJuLnRlc3QodG9Tb3VyY2UodmFsdWUpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc1JlZ0V4cGAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcmVnZXhwLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzUmVnRXhwKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSByZWdleHBUYWc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNTZXRgIHdpdGhvdXQgTm9kZS5qcyBvcHRpbWl6YXRpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHNldCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc1NldCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgZ2V0VGFnKHZhbHVlKSA9PSBzZXRUYWc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNUeXBlZEFycmF5YCB3aXRob3V0IE5vZGUuanMgb3B0aW1pemF0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB0eXBlZCBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc1R5cGVkQXJyYXkodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmXG4gICAgICAgIGlzTGVuZ3RoKHZhbHVlLmxlbmd0aCkgJiYgISF0eXBlZEFycmF5VGFnc1tiYXNlR2V0VGFnKHZhbHVlKV07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXRlcmF0ZWVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IFt2YWx1ZT1fLmlkZW50aXR5XSBUaGUgdmFsdWUgdG8gY29udmVydCB0byBhbiBpdGVyYXRlZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIGl0ZXJhdGVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJdGVyYXRlZSh2YWx1ZSkge1xuICAgICAgLy8gRG9uJ3Qgc3RvcmUgdGhlIGB0eXBlb2ZgIHJlc3VsdCBpbiBhIHZhcmlhYmxlIHRvIGF2b2lkIGEgSklUIGJ1ZyBpbiBTYWZhcmkgOS5cbiAgICAgIC8vIFNlZSBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTU2MDM0IGZvciBtb3JlIGRldGFpbHMuXG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGlkZW50aXR5O1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0Jykge1xuICAgICAgICByZXR1cm4gaXNBcnJheSh2YWx1ZSlcbiAgICAgICAgICA/IGJhc2VNYXRjaGVzUHJvcGVydHkodmFsdWVbMF0sIHZhbHVlWzFdKVxuICAgICAgICAgIDogYmFzZU1hdGNoZXModmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHByb3BlcnR5KHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5rZXlzYCB3aGljaCBkb2Vzbid0IHRyZWF0IHNwYXJzZSBhcnJheXMgYXMgZGVuc2UuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VLZXlzKG9iamVjdCkge1xuICAgICAgaWYgKCFpc1Byb3RvdHlwZShvYmplY3QpKSB7XG4gICAgICAgIHJldHVybiBuYXRpdmVLZXlzKG9iamVjdCk7XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICBmb3IgKHZhciBrZXkgaW4gT2JqZWN0KG9iamVjdCkpIHtcbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpICYmIGtleSAhPSAnY29uc3RydWN0b3InKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5rZXlzSW5gIHdoaWNoIGRvZXNuJ3QgdHJlYXQgc3BhcnNlIGFycmF5cyBhcyBkZW5zZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUtleXNJbihvYmplY3QpIHtcbiAgICAgIGlmICghaXNPYmplY3Qob2JqZWN0KSkge1xuICAgICAgICByZXR1cm4gbmF0aXZlS2V5c0luKG9iamVjdCk7XG4gICAgICB9XG4gICAgICB2YXIgaXNQcm90byA9IGlzUHJvdG90eXBlKG9iamVjdCksXG4gICAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICAgIGZvciAodmFyIGtleSBpbiBvYmplY3QpIHtcbiAgICAgICAgaWYgKCEoa2V5ID09ICdjb25zdHJ1Y3RvcicgJiYgKGlzUHJvdG8gfHwgIWhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpKSkpIHtcbiAgICAgICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmx0YCB3aGljaCBkb2Vzbid0IGNvZXJjZSBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBsZXNzIHRoYW4gYG90aGVyYCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VMdCh2YWx1ZSwgb3RoZXIpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA8IG90aGVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm1hcGAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBtYXBwZWQgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZU1hcChjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgcmVzdWx0ID0gaXNBcnJheUxpa2UoY29sbGVjdGlvbikgPyBBcnJheShjb2xsZWN0aW9uLmxlbmd0aCkgOiBbXTtcblxuICAgICAgYmFzZUVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGtleSwgY29sbGVjdGlvbikge1xuICAgICAgICByZXN1bHRbKytpbmRleF0gPSBpdGVyYXRlZSh2YWx1ZSwga2V5LCBjb2xsZWN0aW9uKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5tYXRjaGVzYCB3aGljaCBkb2Vzbid0IGNsb25lIGBzb3VyY2VgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgdmFsdWVzIHRvIG1hdGNoLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNwZWMgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZU1hdGNoZXMoc291cmNlKSB7XG4gICAgICB2YXIgbWF0Y2hEYXRhID0gZ2V0TWF0Y2hEYXRhKHNvdXJjZSk7XG4gICAgICBpZiAobWF0Y2hEYXRhLmxlbmd0aCA9PSAxICYmIG1hdGNoRGF0YVswXVsyXSkge1xuICAgICAgICByZXR1cm4gbWF0Y2hlc1N0cmljdENvbXBhcmFibGUobWF0Y2hEYXRhWzBdWzBdLCBtYXRjaERhdGFbMF1bMV0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICByZXR1cm4gb2JqZWN0ID09PSBzb3VyY2UgfHwgYmFzZUlzTWF0Y2gob2JqZWN0LCBzb3VyY2UsIG1hdGNoRGF0YSk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm1hdGNoZXNQcm9wZXJ0eWAgd2hpY2ggZG9lc24ndCBjbG9uZSBgc3JjVmFsdWVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gc3JjVmFsdWUgVGhlIHZhbHVlIHRvIG1hdGNoLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNwZWMgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZU1hdGNoZXNQcm9wZXJ0eShwYXRoLCBzcmNWYWx1ZSkge1xuICAgICAgaWYgKGlzS2V5KHBhdGgpICYmIGlzU3RyaWN0Q29tcGFyYWJsZShzcmNWYWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIG1hdGNoZXNTdHJpY3RDb21wYXJhYmxlKHRvS2V5KHBhdGgpLCBzcmNWYWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIHZhciBvYmpWYWx1ZSA9IGdldChvYmplY3QsIHBhdGgpO1xuICAgICAgICByZXR1cm4gKG9ialZhbHVlID09PSB1bmRlZmluZWQgJiYgb2JqVmFsdWUgPT09IHNyY1ZhbHVlKVxuICAgICAgICAgID8gaGFzSW4ob2JqZWN0LCBwYXRoKVxuICAgICAgICAgIDogYmFzZUlzRXF1YWwoc3JjVmFsdWUsIG9ialZhbHVlLCBDT01QQVJFX1BBUlRJQUxfRkxBRyB8IENPTVBBUkVfVU5PUkRFUkVEX0ZMQUcpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5tZXJnZWAgd2l0aG91dCBzdXBwb3J0IGZvciBtdWx0aXBsZSBzb3VyY2VzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3JjSW5kZXggVGhlIGluZGV4IG9mIGBzb3VyY2VgLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIG1lcmdlZCB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtzdGFja10gVHJhY2tzIHRyYXZlcnNlZCBzb3VyY2UgdmFsdWVzIGFuZCB0aGVpciBtZXJnZWRcbiAgICAgKiAgY291bnRlcnBhcnRzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VNZXJnZShvYmplY3QsIHNvdXJjZSwgc3JjSW5kZXgsIGN1c3RvbWl6ZXIsIHN0YWNrKSB7XG4gICAgICBpZiAob2JqZWN0ID09PSBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYmFzZUZvcihzb3VyY2UsIGZ1bmN0aW9uKHNyY1ZhbHVlLCBrZXkpIHtcbiAgICAgICAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgICAgICAgaWYgKGlzT2JqZWN0KHNyY1ZhbHVlKSkge1xuICAgICAgICAgIGJhc2VNZXJnZURlZXAob2JqZWN0LCBzb3VyY2UsIGtleSwgc3JjSW5kZXgsIGJhc2VNZXJnZSwgY3VzdG9taXplciwgc3RhY2spO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHZhciBuZXdWYWx1ZSA9IGN1c3RvbWl6ZXJcbiAgICAgICAgICAgID8gY3VzdG9taXplcihzYWZlR2V0KG9iamVjdCwga2V5KSwgc3JjVmFsdWUsIChrZXkgKyAnJyksIG9iamVjdCwgc291cmNlLCBzdGFjaylcbiAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgICAgICAgaWYgKG5ld1ZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gc3JjVmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGFzc2lnbk1lcmdlVmFsdWUob2JqZWN0LCBrZXksIG5ld1ZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSwga2V5c0luKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VNZXJnZWAgZm9yIGFycmF5cyBhbmQgb2JqZWN0cyB3aGljaCBwZXJmb3Jtc1xuICAgICAqIGRlZXAgbWVyZ2VzIGFuZCB0cmFja3MgdHJhdmVyc2VkIG9iamVjdHMgZW5hYmxpbmcgb2JqZWN0cyB3aXRoIGNpcmN1bGFyXG4gICAgICogcmVmZXJlbmNlcyB0byBiZSBtZXJnZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gbWVyZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNyY0luZGV4IFRoZSBpbmRleCBvZiBgc291cmNlYC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBtZXJnZUZ1bmMgVGhlIGZ1bmN0aW9uIHRvIG1lcmdlIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBhc3NpZ25lZCB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtzdGFja10gVHJhY2tzIHRyYXZlcnNlZCBzb3VyY2UgdmFsdWVzIGFuZCB0aGVpciBtZXJnZWRcbiAgICAgKiAgY291bnRlcnBhcnRzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VNZXJnZURlZXAob2JqZWN0LCBzb3VyY2UsIGtleSwgc3JjSW5kZXgsIG1lcmdlRnVuYywgY3VzdG9taXplciwgc3RhY2spIHtcbiAgICAgIHZhciBvYmpWYWx1ZSA9IHNhZmVHZXQob2JqZWN0LCBrZXkpLFxuICAgICAgICAgIHNyY1ZhbHVlID0gc2FmZUdldChzb3VyY2UsIGtleSksXG4gICAgICAgICAgc3RhY2tlZCA9IHN0YWNrLmdldChzcmNWYWx1ZSk7XG5cbiAgICAgIGlmIChzdGFja2VkKSB7XG4gICAgICAgIGFzc2lnbk1lcmdlVmFsdWUob2JqZWN0LCBrZXksIHN0YWNrZWQpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgbmV3VmFsdWUgPSBjdXN0b21pemVyXG4gICAgICAgID8gY3VzdG9taXplcihvYmpWYWx1ZSwgc3JjVmFsdWUsIChrZXkgKyAnJyksIG9iamVjdCwgc291cmNlLCBzdGFjaylcbiAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgIHZhciBpc0NvbW1vbiA9IG5ld1ZhbHVlID09PSB1bmRlZmluZWQ7XG5cbiAgICAgIGlmIChpc0NvbW1vbikge1xuICAgICAgICB2YXIgaXNBcnIgPSBpc0FycmF5KHNyY1ZhbHVlKSxcbiAgICAgICAgICAgIGlzQnVmZiA9ICFpc0FyciAmJiBpc0J1ZmZlcihzcmNWYWx1ZSksXG4gICAgICAgICAgICBpc1R5cGVkID0gIWlzQXJyICYmICFpc0J1ZmYgJiYgaXNUeXBlZEFycmF5KHNyY1ZhbHVlKTtcblxuICAgICAgICBuZXdWYWx1ZSA9IHNyY1ZhbHVlO1xuICAgICAgICBpZiAoaXNBcnIgfHwgaXNCdWZmIHx8IGlzVHlwZWQpIHtcbiAgICAgICAgICBpZiAoaXNBcnJheShvYmpWYWx1ZSkpIHtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gb2JqVmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYgKGlzQXJyYXlMaWtlT2JqZWN0KG9ialZhbHVlKSkge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBjb3B5QXJyYXkob2JqVmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmIChpc0J1ZmYpIHtcbiAgICAgICAgICAgIGlzQ29tbW9uID0gZmFsc2U7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IGNsb25lQnVmZmVyKHNyY1ZhbHVlLCB0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZiAoaXNUeXBlZCkge1xuICAgICAgICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gY2xvbmVUeXBlZEFycmF5KHNyY1ZhbHVlLCB0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IFtdO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc1BsYWluT2JqZWN0KHNyY1ZhbHVlKSB8fCBpc0FyZ3VtZW50cyhzcmNWYWx1ZSkpIHtcbiAgICAgICAgICBuZXdWYWx1ZSA9IG9ialZhbHVlO1xuICAgICAgICAgIGlmIChpc0FyZ3VtZW50cyhvYmpWYWx1ZSkpIHtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gdG9QbGFpbk9iamVjdChvYmpWYWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYgKCFpc09iamVjdChvYmpWYWx1ZSkgfHwgaXNGdW5jdGlvbihvYmpWYWx1ZSkpIHtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gaW5pdENsb25lT2JqZWN0KHNyY1ZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGlzQ29tbW9uKSB7XG4gICAgICAgIC8vIFJlY3Vyc2l2ZWx5IG1lcmdlIG9iamVjdHMgYW5kIGFycmF5cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgICAgICBzdGFjay5zZXQoc3JjVmFsdWUsIG5ld1ZhbHVlKTtcbiAgICAgICAgbWVyZ2VGdW5jKG5ld1ZhbHVlLCBzcmNWYWx1ZSwgc3JjSW5kZXgsIGN1c3RvbWl6ZXIsIHN0YWNrKTtcbiAgICAgICAgc3RhY2tbJ2RlbGV0ZSddKHNyY1ZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGFzc2lnbk1lcmdlVmFsdWUob2JqZWN0LCBrZXksIG5ld1ZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5udGhgIHdoaWNoIGRvZXNuJ3QgY29lcmNlIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBpbmRleCBvZiB0aGUgZWxlbWVudCB0byByZXR1cm4uXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG50aCBlbGVtZW50IG9mIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZU50aChhcnJheSwgbikge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIG4gKz0gbiA8IDAgPyBsZW5ndGggOiAwO1xuICAgICAgcmV0dXJuIGlzSW5kZXgobiwgbGVuZ3RoKSA/IGFycmF5W25dIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm9yZGVyQnlgIHdpdGhvdXQgcGFyYW0gZ3VhcmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbltdfE9iamVjdFtdfHN0cmluZ1tdfSBpdGVyYXRlZXMgVGhlIGl0ZXJhdGVlcyB0byBzb3J0IGJ5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IG9yZGVycyBUaGUgc29ydCBvcmRlcnMgb2YgYGl0ZXJhdGVlc2AuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgc29ydGVkIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VPcmRlckJ5KGNvbGxlY3Rpb24sIGl0ZXJhdGVlcywgb3JkZXJzKSB7XG4gICAgICBpZiAoaXRlcmF0ZWVzLmxlbmd0aCkge1xuICAgICAgICBpdGVyYXRlZXMgPSBhcnJheU1hcChpdGVyYXRlZXMsIGZ1bmN0aW9uKGl0ZXJhdGVlKSB7XG4gICAgICAgICAgaWYgKGlzQXJyYXkoaXRlcmF0ZWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGJhc2VHZXQodmFsdWUsIGl0ZXJhdGVlLmxlbmd0aCA9PT0gMSA/IGl0ZXJhdGVlWzBdIDogaXRlcmF0ZWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gaXRlcmF0ZWU7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaXRlcmF0ZWVzID0gW2lkZW50aXR5XTtcbiAgICAgIH1cblxuICAgICAgdmFyIGluZGV4ID0gLTE7XG4gICAgICBpdGVyYXRlZXMgPSBhcnJheU1hcChpdGVyYXRlZXMsIGJhc2VVbmFyeShnZXRJdGVyYXRlZSgpKSk7XG5cbiAgICAgIHZhciByZXN1bHQgPSBiYXNlTWFwKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBrZXksIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgdmFyIGNyaXRlcmlhID0gYXJyYXlNYXAoaXRlcmF0ZWVzLCBmdW5jdGlvbihpdGVyYXRlZSkge1xuICAgICAgICAgIHJldHVybiBpdGVyYXRlZSh2YWx1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4geyAnY3JpdGVyaWEnOiBjcml0ZXJpYSwgJ2luZGV4JzogKytpbmRleCwgJ3ZhbHVlJzogdmFsdWUgfTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gYmFzZVNvcnRCeShyZXN1bHQsIGZ1bmN0aW9uKG9iamVjdCwgb3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIGNvbXBhcmVNdWx0aXBsZShvYmplY3QsIG90aGVyLCBvcmRlcnMpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucGlja2Agd2l0aG91dCBzdXBwb3J0IGZvciBpbmRpdmlkdWFsXG4gICAgICogcHJvcGVydHkgaWRlbnRpZmllcnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gcGF0aHMgVGhlIHByb3BlcnR5IHBhdGhzIHRvIHBpY2suXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUGljayhvYmplY3QsIHBhdGhzKSB7XG4gICAgICByZXR1cm4gYmFzZVBpY2tCeShvYmplY3QsIHBhdGhzLCBmdW5jdGlvbih2YWx1ZSwgcGF0aCkge1xuICAgICAgICByZXR1cm4gaGFzSW4ob2JqZWN0LCBwYXRoKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mICBgXy5waWNrQnlgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBwYXRocyBUaGUgcHJvcGVydHkgcGF0aHMgdG8gcGljay5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIHByb3BlcnR5LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVBpY2tCeShvYmplY3QsIHBhdGhzLCBwcmVkaWNhdGUpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHBhdGhzLmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSB7fTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHBhdGggPSBwYXRoc1tpbmRleF0sXG4gICAgICAgICAgICB2YWx1ZSA9IGJhc2VHZXQob2JqZWN0LCBwYXRoKTtcblxuICAgICAgICBpZiAocHJlZGljYXRlKHZhbHVlLCBwYXRoKSkge1xuICAgICAgICAgIGJhc2VTZXQocmVzdWx0LCBjYXN0UGF0aChwYXRoLCBvYmplY3QpLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlUHJvcGVydHlgIHdoaWNoIHN1cHBvcnRzIGRlZXAgcGF0aHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWNjZXNzb3IgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVByb3BlcnR5RGVlcChwYXRoKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiBiYXNlR2V0KG9iamVjdCwgcGF0aCk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnB1bGxBbGxCeWAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZVxuICAgICAqIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gcmVtb3ZlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVB1bGxBbGwoYXJyYXksIHZhbHVlcywgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpIHtcbiAgICAgIHZhciBpbmRleE9mID0gY29tcGFyYXRvciA/IGJhc2VJbmRleE9mV2l0aCA6IGJhc2VJbmRleE9mLFxuICAgICAgICAgIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gdmFsdWVzLmxlbmd0aCxcbiAgICAgICAgICBzZWVuID0gYXJyYXk7XG5cbiAgICAgIGlmIChhcnJheSA9PT0gdmFsdWVzKSB7XG4gICAgICAgIHZhbHVlcyA9IGNvcHlBcnJheSh2YWx1ZXMpO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZXJhdGVlKSB7XG4gICAgICAgIHNlZW4gPSBhcnJheU1hcChhcnJheSwgYmFzZVVuYXJ5KGl0ZXJhdGVlKSk7XG4gICAgICB9XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgZnJvbUluZGV4ID0gMCxcbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWVzW2luZGV4XSxcbiAgICAgICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUgPyBpdGVyYXRlZSh2YWx1ZSkgOiB2YWx1ZTtcblxuICAgICAgICB3aGlsZSAoKGZyb21JbmRleCA9IGluZGV4T2Yoc2VlbiwgY29tcHV0ZWQsIGZyb21JbmRleCwgY29tcGFyYXRvcikpID4gLTEpIHtcbiAgICAgICAgICBpZiAoc2VlbiAhPT0gYXJyYXkpIHtcbiAgICAgICAgICAgIHNwbGljZS5jYWxsKHNlZW4sIGZyb21JbmRleCwgMSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNwbGljZS5jYWxsKGFycmF5LCBmcm9tSW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucHVsbEF0YCB3aXRob3V0IHN1cHBvcnQgZm9yIGluZGl2aWR1YWxcbiAgICAgKiBpbmRleGVzIG9yIGNhcHR1cmluZyB0aGUgcmVtb3ZlZCBlbGVtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBpbmRleGVzIFRoZSBpbmRleGVzIG9mIGVsZW1lbnRzIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUHVsbEF0KGFycmF5LCBpbmRleGVzKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPyBpbmRleGVzLmxlbmd0aCA6IDAsXG4gICAgICAgICAgbGFzdEluZGV4ID0gbGVuZ3RoIC0gMTtcblxuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIHZhciBpbmRleCA9IGluZGV4ZXNbbGVuZ3RoXTtcbiAgICAgICAgaWYgKGxlbmd0aCA9PSBsYXN0SW5kZXggfHwgaW5kZXggIT09IHByZXZpb3VzKSB7XG4gICAgICAgICAgdmFyIHByZXZpb3VzID0gaW5kZXg7XG4gICAgICAgICAgaWYgKGlzSW5kZXgoaW5kZXgpKSB7XG4gICAgICAgICAgICBzcGxpY2UuY2FsbChhcnJheSwgaW5kZXgsIDEpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBiYXNlVW5zZXQoYXJyYXksIGluZGV4KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5yYW5kb21gIHdpdGhvdXQgc3VwcG9ydCBmb3IgcmV0dXJuaW5nXG4gICAgICogZmxvYXRpbmctcG9pbnQgbnVtYmVycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGxvd2VyIFRoZSBsb3dlciBib3VuZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdXBwZXIgVGhlIHVwcGVyIGJvdW5kLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHJhbmRvbSBudW1iZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVJhbmRvbShsb3dlciwgdXBwZXIpIHtcbiAgICAgIHJldHVybiBsb3dlciArIG5hdGl2ZUZsb29yKG5hdGl2ZVJhbmRvbSgpICogKHVwcGVyIC0gbG93ZXIgKyAxKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucmFuZ2VgIGFuZCBgXy5yYW5nZVJpZ2h0YCB3aGljaCBkb2Vzbid0XG4gICAgICogY29lcmNlIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0IFRoZSBzdGFydCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBUaGUgZW5kIG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RlcCBUaGUgdmFsdWUgdG8gaW5jcmVtZW50IG9yIGRlY3JlbWVudCBieS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHJhbmdlIG9mIG51bWJlcnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVJhbmdlKHN0YXJ0LCBlbmQsIHN0ZXAsIGZyb21SaWdodCkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWF4KG5hdGl2ZUNlaWwoKGVuZCAtIHN0YXJ0KSAvIChzdGVwIHx8IDEpKSwgMCksXG4gICAgICAgICAgcmVzdWx0ID0gQXJyYXkobGVuZ3RoKTtcblxuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIHJlc3VsdFtmcm9tUmlnaHQgPyBsZW5ndGggOiArK2luZGV4XSA9IHN0YXJ0O1xuICAgICAgICBzdGFydCArPSBzdGVwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5yZXBlYXRgIHdoaWNoIGRvZXNuJ3QgY29lcmNlIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIHJlcGVhdC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIHRpbWVzIHRvIHJlcGVhdCB0aGUgc3RyaW5nLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHJlcGVhdGVkIHN0cmluZy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUmVwZWF0KHN0cmluZywgbikge1xuICAgICAgdmFyIHJlc3VsdCA9ICcnO1xuICAgICAgaWYgKCFzdHJpbmcgfHwgbiA8IDEgfHwgbiA+IE1BWF9TQUZFX0lOVEVHRVIpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIC8vIExldmVyYWdlIHRoZSBleHBvbmVudGlhdGlvbiBieSBzcXVhcmluZyBhbGdvcml0aG0gZm9yIGEgZmFzdGVyIHJlcGVhdC5cbiAgICAgIC8vIFNlZSBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9FeHBvbmVudGlhdGlvbl9ieV9zcXVhcmluZyBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgZG8ge1xuICAgICAgICBpZiAobiAlIDIpIHtcbiAgICAgICAgICByZXN1bHQgKz0gc3RyaW5nO1xuICAgICAgICB9XG4gICAgICAgIG4gPSBuYXRpdmVGbG9vcihuIC8gMik7XG4gICAgICAgIGlmIChuKSB7XG4gICAgICAgICAgc3RyaW5nICs9IHN0cmluZztcbiAgICAgICAgfVxuICAgICAgfSB3aGlsZSAobik7XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucmVzdGAgd2hpY2ggZG9lc24ndCB2YWxpZGF0ZSBvciBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhcHBseSBhIHJlc3QgcGFyYW1ldGVyIHRvLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9ZnVuYy5sZW5ndGgtMV0gVGhlIHN0YXJ0IHBvc2l0aW9uIG9mIHRoZSByZXN0IHBhcmFtZXRlci5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUmVzdChmdW5jLCBzdGFydCkge1xuICAgICAgcmV0dXJuIHNldFRvU3RyaW5nKG92ZXJSZXN0KGZ1bmMsIHN0YXJ0LCBpZGVudGl0eSksIGZ1bmMgKyAnJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc2FtcGxlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gc2FtcGxlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByYW5kb20gZWxlbWVudC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU2FtcGxlKGNvbGxlY3Rpb24pIHtcbiAgICAgIHJldHVybiBhcnJheVNhbXBsZSh2YWx1ZXMoY29sbGVjdGlvbikpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNhbXBsZVNpemVgIHdpdGhvdXQgcGFyYW0gZ3VhcmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBzYW1wbGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiBlbGVtZW50cyB0byBzYW1wbGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSByYW5kb20gZWxlbWVudHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVNhbXBsZVNpemUoY29sbGVjdGlvbiwgbikge1xuICAgICAgdmFyIGFycmF5ID0gdmFsdWVzKGNvbGxlY3Rpb24pO1xuICAgICAgcmV0dXJuIHNodWZmbGVTZWxmKGFycmF5LCBiYXNlQ2xhbXAobiwgMCwgYXJyYXkubGVuZ3RoKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc2V0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBwYXRoIGNyZWF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVNldChvYmplY3QsIHBhdGgsIHZhbHVlLCBjdXN0b21pemVyKSB7XG4gICAgICBpZiAoIWlzT2JqZWN0KG9iamVjdCkpIHtcbiAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgIH1cbiAgICAgIHBhdGggPSBjYXN0UGF0aChwYXRoLCBvYmplY3QpO1xuXG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBwYXRoLmxlbmd0aCxcbiAgICAgICAgICBsYXN0SW5kZXggPSBsZW5ndGggLSAxLFxuICAgICAgICAgIG5lc3RlZCA9IG9iamVjdDtcblxuICAgICAgd2hpbGUgKG5lc3RlZCAhPSBudWxsICYmICsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGtleSA9IHRvS2V5KHBhdGhbaW5kZXhdKSxcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gdmFsdWU7XG5cbiAgICAgICAgaWYgKGtleSA9PT0gJ19fcHJvdG9fXycgfHwga2V5ID09PSAnY29uc3RydWN0b3InIHx8IGtleSA9PT0gJ3Byb3RvdHlwZScpIHtcbiAgICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGluZGV4ICE9IGxhc3RJbmRleCkge1xuICAgICAgICAgIHZhciBvYmpWYWx1ZSA9IG5lc3RlZFtrZXldO1xuICAgICAgICAgIG5ld1ZhbHVlID0gY3VzdG9taXplciA/IGN1c3RvbWl6ZXIob2JqVmFsdWUsIGtleSwgbmVzdGVkKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICBpZiAobmV3VmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBpc09iamVjdChvYmpWYWx1ZSlcbiAgICAgICAgICAgICAgPyBvYmpWYWx1ZVxuICAgICAgICAgICAgICA6IChpc0luZGV4KHBhdGhbaW5kZXggKyAxXSkgPyBbXSA6IHt9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYXNzaWduVmFsdWUobmVzdGVkLCBrZXksIG5ld1ZhbHVlKTtcbiAgICAgICAgbmVzdGVkID0gbmVzdGVkW2tleV07XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBzZXREYXRhYCB3aXRob3V0IHN1cHBvcnQgZm9yIGhvdCBsb29wIHNob3J0aW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhc3NvY2lhdGUgbWV0YWRhdGEgd2l0aC5cbiAgICAgKiBAcGFyYW0geyp9IGRhdGEgVGhlIG1ldGFkYXRhLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgZnVuY2AuXG4gICAgICovXG4gICAgdmFyIGJhc2VTZXREYXRhID0gIW1ldGFNYXAgPyBpZGVudGl0eSA6IGZ1bmN0aW9uKGZ1bmMsIGRhdGEpIHtcbiAgICAgIG1ldGFNYXAuc2V0KGZ1bmMsIGRhdGEpO1xuICAgICAgcmV0dXJuIGZ1bmM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBzZXRUb1N0cmluZ2Agd2l0aG91dCBzdXBwb3J0IGZvciBob3QgbG9vcCBzaG9ydGluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHN0cmluZyBUaGUgYHRvU3RyaW5nYCByZXN1bHQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBmdW5jYC5cbiAgICAgKi9cbiAgICB2YXIgYmFzZVNldFRvU3RyaW5nID0gIWRlZmluZVByb3BlcnR5ID8gaWRlbnRpdHkgOiBmdW5jdGlvbihmdW5jLCBzdHJpbmcpIHtcbiAgICAgIHJldHVybiBkZWZpbmVQcm9wZXJ0eShmdW5jLCAndG9TdHJpbmcnLCB7XG4gICAgICAgICdjb25maWd1cmFibGUnOiB0cnVlLFxuICAgICAgICAnZW51bWVyYWJsZSc6IGZhbHNlLFxuICAgICAgICAndmFsdWUnOiBjb25zdGFudChzdHJpbmcpLFxuICAgICAgICAnd3JpdGFibGUnOiB0cnVlXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc2h1ZmZsZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIHNodWZmbGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgc2h1ZmZsZWQgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVNodWZmbGUoY29sbGVjdGlvbikge1xuICAgICAgcmV0dXJuIHNodWZmbGVTZWxmKHZhbHVlcyhjb2xsZWN0aW9uKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc2xpY2VgIHdpdGhvdXQgYW4gaXRlcmF0ZWUgY2FsbCBndWFyZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNsaWNlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kPWFycmF5Lmxlbmd0aF0gVGhlIGVuZCBwb3NpdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVNsaWNlKGFycmF5LCBzdGFydCwgZW5kKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICAgIGlmIChzdGFydCA8IDApIHtcbiAgICAgICAgc3RhcnQgPSAtc3RhcnQgPiBsZW5ndGggPyAwIDogKGxlbmd0aCArIHN0YXJ0KTtcbiAgICAgIH1cbiAgICAgIGVuZCA9IGVuZCA+IGxlbmd0aCA/IGxlbmd0aCA6IGVuZDtcbiAgICAgIGlmIChlbmQgPCAwKSB7XG4gICAgICAgIGVuZCArPSBsZW5ndGg7XG4gICAgICB9XG4gICAgICBsZW5ndGggPSBzdGFydCA+IGVuZCA/IDAgOiAoKGVuZCAtIHN0YXJ0KSA+Pj4gMCk7XG4gICAgICBzdGFydCA+Pj49IDA7XG5cbiAgICAgIHZhciByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0W2luZGV4XSA9IGFycmF5W2luZGV4ICsgc3RhcnRdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zb21lYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW55IGVsZW1lbnQgcGFzc2VzIHRoZSBwcmVkaWNhdGUgY2hlY2ssXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU29tZShjb2xsZWN0aW9uLCBwcmVkaWNhdGUpIHtcbiAgICAgIHZhciByZXN1bHQ7XG5cbiAgICAgIGJhc2VFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgICByZXN1bHQgPSBwcmVkaWNhdGUodmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKTtcbiAgICAgICAgcmV0dXJuICFyZXN1bHQ7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiAhIXJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zb3J0ZWRJbmRleGAgYW5kIGBfLnNvcnRlZExhc3RJbmRleGAgd2hpY2hcbiAgICAgKiBwZXJmb3JtcyBhIGJpbmFyeSBzZWFyY2ggb2YgYGFycmF5YCB0byBkZXRlcm1pbmUgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWBcbiAgICAgKiBzaG91bGQgYmUgaW5zZXJ0ZWQgaW50byBgYXJyYXlgIGluIG9yZGVyIHRvIG1haW50YWluIGl0cyBzb3J0IG9yZGVyLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgc29ydGVkIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZXZhbHVhdGUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcmV0SGlnaGVzdF0gU3BlY2lmeSByZXR1cm5pbmcgdGhlIGhpZ2hlc3QgcXVhbGlmaWVkIGluZGV4LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWAgc2hvdWxkIGJlIGluc2VydGVkXG4gICAgICogIGludG8gYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU29ydGVkSW5kZXgoYXJyYXksIHZhbHVlLCByZXRIaWdoZXN0KSB7XG4gICAgICB2YXIgbG93ID0gMCxcbiAgICAgICAgICBoaWdoID0gYXJyYXkgPT0gbnVsbCA/IGxvdyA6IGFycmF5Lmxlbmd0aDtcblxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyAmJiB2YWx1ZSA9PT0gdmFsdWUgJiYgaGlnaCA8PSBIQUxGX01BWF9BUlJBWV9MRU5HVEgpIHtcbiAgICAgICAgd2hpbGUgKGxvdyA8IGhpZ2gpIHtcbiAgICAgICAgICB2YXIgbWlkID0gKGxvdyArIGhpZ2gpID4+PiAxLFxuICAgICAgICAgICAgICBjb21wdXRlZCA9IGFycmF5W21pZF07XG5cbiAgICAgICAgICBpZiAoY29tcHV0ZWQgIT09IG51bGwgJiYgIWlzU3ltYm9sKGNvbXB1dGVkKSAmJlxuICAgICAgICAgICAgICAocmV0SGlnaGVzdCA/IChjb21wdXRlZCA8PSB2YWx1ZSkgOiAoY29tcHV0ZWQgPCB2YWx1ZSkpKSB7XG4gICAgICAgICAgICBsb3cgPSBtaWQgKyAxO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBoaWdoID0gbWlkO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGlnaDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlU29ydGVkSW5kZXhCeShhcnJheSwgdmFsdWUsIGlkZW50aXR5LCByZXRIaWdoZXN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zb3J0ZWRJbmRleEJ5YCBhbmQgYF8uc29ydGVkTGFzdEluZGV4QnlgXG4gICAgICogd2hpY2ggaW52b2tlcyBgaXRlcmF0ZWVgIGZvciBgdmFsdWVgIGFuZCBlYWNoIGVsZW1lbnQgb2YgYGFycmF5YCB0byBjb21wdXRlXG4gICAgICogdGhlaXIgc29ydCByYW5raW5nLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDsgKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIHNvcnRlZCBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGV2YWx1YXRlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3JldEhpZ2hlc3RdIFNwZWNpZnkgcmV0dXJuaW5nIHRoZSBoaWdoZXN0IHF1YWxpZmllZCBpbmRleC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBhdCB3aGljaCBgdmFsdWVgIHNob3VsZCBiZSBpbnNlcnRlZFxuICAgICAqICBpbnRvIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVNvcnRlZEluZGV4QnkoYXJyYXksIHZhbHVlLCBpdGVyYXRlZSwgcmV0SGlnaGVzdCkge1xuICAgICAgdmFyIGxvdyA9IDAsXG4gICAgICAgICAgaGlnaCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKGhpZ2ggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgICB9XG5cbiAgICAgIHZhbHVlID0gaXRlcmF0ZWUodmFsdWUpO1xuICAgICAgdmFyIHZhbElzTmFOID0gdmFsdWUgIT09IHZhbHVlLFxuICAgICAgICAgIHZhbElzTnVsbCA9IHZhbHVlID09PSBudWxsLFxuICAgICAgICAgIHZhbElzU3ltYm9sID0gaXNTeW1ib2wodmFsdWUpLFxuICAgICAgICAgIHZhbElzVW5kZWZpbmVkID0gdmFsdWUgPT09IHVuZGVmaW5lZDtcblxuICAgICAgd2hpbGUgKGxvdyA8IGhpZ2gpIHtcbiAgICAgICAgdmFyIG1pZCA9IG5hdGl2ZUZsb29yKChsb3cgKyBoaWdoKSAvIDIpLFxuICAgICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZShhcnJheVttaWRdKSxcbiAgICAgICAgICAgIG90aElzRGVmaW5lZCA9IGNvbXB1dGVkICE9PSB1bmRlZmluZWQsXG4gICAgICAgICAgICBvdGhJc051bGwgPSBjb21wdXRlZCA9PT0gbnVsbCxcbiAgICAgICAgICAgIG90aElzUmVmbGV4aXZlID0gY29tcHV0ZWQgPT09IGNvbXB1dGVkLFxuICAgICAgICAgICAgb3RoSXNTeW1ib2wgPSBpc1N5bWJvbChjb21wdXRlZCk7XG5cbiAgICAgICAgaWYgKHZhbElzTmFOKSB7XG4gICAgICAgICAgdmFyIHNldExvdyA9IHJldEhpZ2hlc3QgfHwgb3RoSXNSZWZsZXhpdmU7XG4gICAgICAgIH0gZWxzZSBpZiAodmFsSXNVbmRlZmluZWQpIHtcbiAgICAgICAgICBzZXRMb3cgPSBvdGhJc1JlZmxleGl2ZSAmJiAocmV0SGlnaGVzdCB8fCBvdGhJc0RlZmluZWQpO1xuICAgICAgICB9IGVsc2UgaWYgKHZhbElzTnVsbCkge1xuICAgICAgICAgIHNldExvdyA9IG90aElzUmVmbGV4aXZlICYmIG90aElzRGVmaW5lZCAmJiAocmV0SGlnaGVzdCB8fCAhb3RoSXNOdWxsKTtcbiAgICAgICAgfSBlbHNlIGlmICh2YWxJc1N5bWJvbCkge1xuICAgICAgICAgIHNldExvdyA9IG90aElzUmVmbGV4aXZlICYmIG90aElzRGVmaW5lZCAmJiAhb3RoSXNOdWxsICYmIChyZXRIaWdoZXN0IHx8ICFvdGhJc1N5bWJvbCk7XG4gICAgICAgIH0gZWxzZSBpZiAob3RoSXNOdWxsIHx8IG90aElzU3ltYm9sKSB7XG4gICAgICAgICAgc2V0TG93ID0gZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2V0TG93ID0gcmV0SGlnaGVzdCA/IChjb21wdXRlZCA8PSB2YWx1ZSkgOiAoY29tcHV0ZWQgPCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNldExvdykge1xuICAgICAgICAgIGxvdyA9IG1pZCArIDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaGlnaCA9IG1pZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG5hdGl2ZU1pbihoaWdoLCBNQVhfQVJSQVlfSU5ERVgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNvcnRlZFVuaXFgIGFuZCBgXy5zb3J0ZWRVbmlxQnlgIHdpdGhvdXRcbiAgICAgKiBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWVdIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGR1cGxpY2F0ZSBmcmVlIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VTb3J0ZWRVbmlxKGFycmF5LCBpdGVyYXRlZSkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIHJlc0luZGV4ID0gMCxcbiAgICAgICAgICByZXN1bHQgPSBbXTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdLFxuICAgICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSA/IGl0ZXJhdGVlKHZhbHVlKSA6IHZhbHVlO1xuXG4gICAgICAgIGlmICghaW5kZXggfHwgIWVxKGNvbXB1dGVkLCBzZWVuKSkge1xuICAgICAgICAgIHZhciBzZWVuID0gY29tcHV0ZWQ7XG4gICAgICAgICAgcmVzdWx0W3Jlc0luZGV4KytdID0gdmFsdWUgPT09IDAgPyAwIDogdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udG9OdW1iZXJgIHdoaWNoIGRvZXNuJ3QgZW5zdXJlIGNvcnJlY3RcbiAgICAgKiBjb252ZXJzaW9ucyBvZiBiaW5hcnksIGhleGFkZWNpbWFsLCBvciBvY3RhbCBzdHJpbmcgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm9jZXNzLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIG51bWJlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlVG9OdW1iZXIodmFsdWUpIHtcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgaWYgKGlzU3ltYm9sKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gTkFOO1xuICAgICAgfVxuICAgICAgcmV0dXJuICt2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50b1N0cmluZ2Agd2hpY2ggZG9lc24ndCBjb252ZXJ0IG51bGxpc2hcbiAgICAgKiB2YWx1ZXMgdG8gZW1wdHkgc3RyaW5ncy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzdHJpbmcuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVRvU3RyaW5nKHZhbHVlKSB7XG4gICAgICAvLyBFeGl0IGVhcmx5IGZvciBzdHJpbmdzIHRvIGF2b2lkIGEgcGVyZm9ybWFuY2UgaGl0IGluIHNvbWUgZW52aXJvbm1lbnRzLlxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgLy8gUmVjdXJzaXZlbHkgY29udmVydCB2YWx1ZXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgICAgcmV0dXJuIGFycmF5TWFwKHZhbHVlLCBiYXNlVG9TdHJpbmcpICsgJyc7XG4gICAgICB9XG4gICAgICBpZiAoaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBzeW1ib2xUb1N0cmluZyA/IHN5bWJvbFRvU3RyaW5nLmNhbGwodmFsdWUpIDogJyc7XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gKHZhbHVlICsgJycpO1xuICAgICAgcmV0dXJuIChyZXN1bHQgPT0gJzAnICYmICgxIC8gdmFsdWUpID09IC1JTkZJTklUWSkgPyAnLTAnIDogcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnVuaXFCeWAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWVdIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGR1cGxpY2F0ZSBmcmVlIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VVbmlxKGFycmF5LCBpdGVyYXRlZSwgY29tcGFyYXRvcikge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgaW5jbHVkZXMgPSBhcnJheUluY2x1ZGVzLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICBpc0NvbW1vbiA9IHRydWUsXG4gICAgICAgICAgcmVzdWx0ID0gW10sXG4gICAgICAgICAgc2VlbiA9IHJlc3VsdDtcblxuICAgICAgaWYgKGNvbXBhcmF0b3IpIHtcbiAgICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICAgICAgaW5jbHVkZXMgPSBhcnJheUluY2x1ZGVzV2l0aDtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGxlbmd0aCA+PSBMQVJHRV9BUlJBWV9TSVpFKSB7XG4gICAgICAgIHZhciBzZXQgPSBpdGVyYXRlZSA/IG51bGwgOiBjcmVhdGVTZXQoYXJyYXkpO1xuICAgICAgICBpZiAoc2V0KSB7XG4gICAgICAgICAgcmV0dXJuIHNldFRvQXJyYXkoc2V0KTtcbiAgICAgICAgfVxuICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICBpbmNsdWRlcyA9IGNhY2hlSGFzO1xuICAgICAgICBzZWVuID0gbmV3IFNldENhY2hlO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHNlZW4gPSBpdGVyYXRlZSA/IFtdIDogcmVzdWx0O1xuICAgICAgfVxuICAgICAgb3V0ZXI6XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF0sXG4gICAgICAgICAgICBjb21wdXRlZCA9IGl0ZXJhdGVlID8gaXRlcmF0ZWUodmFsdWUpIDogdmFsdWU7XG5cbiAgICAgICAgdmFsdWUgPSAoY29tcGFyYXRvciB8fCB2YWx1ZSAhPT0gMCkgPyB2YWx1ZSA6IDA7XG4gICAgICAgIGlmIChpc0NvbW1vbiAmJiBjb21wdXRlZCA9PT0gY29tcHV0ZWQpIHtcbiAgICAgICAgICB2YXIgc2VlbkluZGV4ID0gc2Vlbi5sZW5ndGg7XG4gICAgICAgICAgd2hpbGUgKHNlZW5JbmRleC0tKSB7XG4gICAgICAgICAgICBpZiAoc2VlbltzZWVuSW5kZXhdID09PSBjb21wdXRlZCkge1xuICAgICAgICAgICAgICBjb250aW51ZSBvdXRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGl0ZXJhdGVlKSB7XG4gICAgICAgICAgICBzZWVuLnB1c2goY29tcHV0ZWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIWluY2x1ZGVzKHNlZW4sIGNvbXB1dGVkLCBjb21wYXJhdG9yKSkge1xuICAgICAgICAgIGlmIChzZWVuICE9PSByZXN1bHQpIHtcbiAgICAgICAgICAgIHNlZW4ucHVzaChjb21wdXRlZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy51bnNldGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHByb3BlcnR5IHBhdGggdG8gdW5zZXQuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBwcm9wZXJ0eSBpcyBkZWxldGVkLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVVuc2V0KG9iamVjdCwgcGF0aCkge1xuICAgICAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG4gICAgICBvYmplY3QgPSBwYXJlbnQob2JqZWN0LCBwYXRoKTtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCB8fCBkZWxldGUgb2JqZWN0W3RvS2V5KGxhc3QocGF0aCkpXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy51cGRhdGVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byB1cGRhdGUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gdXBkYXRlciBUaGUgZnVuY3Rpb24gdG8gcHJvZHVjZSB0aGUgdXBkYXRlZCB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBwYXRoIGNyZWF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVVwZGF0ZShvYmplY3QsIHBhdGgsIHVwZGF0ZXIsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIHJldHVybiBiYXNlU2V0KG9iamVjdCwgcGF0aCwgdXBkYXRlcihiYXNlR2V0KG9iamVjdCwgcGF0aCkpLCBjdXN0b21pemVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBtZXRob2RzIGxpa2UgYF8uZHJvcFdoaWxlYCBhbmQgYF8udGFrZVdoaWxlYFxuICAgICAqIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzRHJvcF0gU3BlY2lmeSBkcm9wcGluZyBlbGVtZW50cyBpbnN0ZWFkIG9mIHRha2luZyB0aGVtLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlV2hpbGUoYXJyYXksIHByZWRpY2F0ZSwgaXNEcm9wLCBmcm9tUmlnaHQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgaW5kZXggPSBmcm9tUmlnaHQgPyBsZW5ndGggOiAtMTtcblxuICAgICAgd2hpbGUgKChmcm9tUmlnaHQgPyBpbmRleC0tIDogKytpbmRleCA8IGxlbmd0aCkgJiZcbiAgICAgICAgcHJlZGljYXRlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSkge31cblxuICAgICAgcmV0dXJuIGlzRHJvcFxuICAgICAgICA/IGJhc2VTbGljZShhcnJheSwgKGZyb21SaWdodCA/IDAgOiBpbmRleCksIChmcm9tUmlnaHQgPyBpbmRleCArIDEgOiBsZW5ndGgpKVxuICAgICAgICA6IGJhc2VTbGljZShhcnJheSwgKGZyb21SaWdodCA/IGluZGV4ICsgMSA6IDApLCAoZnJvbVJpZ2h0ID8gbGVuZ3RoIDogaW5kZXgpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgd3JhcHBlclZhbHVlYCB3aGljaCByZXR1cm5zIHRoZSByZXN1bHQgb2ZcbiAgICAgKiBwZXJmb3JtaW5nIGEgc2VxdWVuY2Ugb2YgYWN0aW9ucyBvbiB0aGUgdW53cmFwcGVkIGB2YWx1ZWAsIHdoZXJlIGVhY2hcbiAgICAgKiBzdWNjZXNzaXZlIGFjdGlvbiBpcyBzdXBwbGllZCB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBwcmV2aW91cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdW53cmFwcGVkIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFjdGlvbnMgQWN0aW9ucyB0byBwZXJmb3JtIHRvIHJlc29sdmUgdGhlIHVud3JhcHBlZCB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVdyYXBwZXJWYWx1ZSh2YWx1ZSwgYWN0aW9ucykge1xuICAgICAgdmFyIHJlc3VsdCA9IHZhbHVlO1xuICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIExhenlXcmFwcGVyKSB7XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdC52YWx1ZSgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5UmVkdWNlKGFjdGlvbnMsIGZ1bmN0aW9uKHJlc3VsdCwgYWN0aW9uKSB7XG4gICAgICAgIHJldHVybiBhY3Rpb24uZnVuYy5hcHBseShhY3Rpb24udGhpc0FyZywgYXJyYXlQdXNoKFtyZXN1bHRdLCBhY3Rpb24uYXJncykpO1xuICAgICAgfSwgcmVzdWx0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBtZXRob2RzIGxpa2UgYF8ueG9yYCwgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMsIHRoYXQgYWNjZXB0cyBhbiBhcnJheSBvZiBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXlzIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWVdIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIHZhbHVlcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlWG9yKGFycmF5cywgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheXMubGVuZ3RoO1xuICAgICAgaWYgKGxlbmd0aCA8IDIpIHtcbiAgICAgICAgcmV0dXJuIGxlbmd0aCA/IGJhc2VVbmlxKGFycmF5c1swXSkgOiBbXTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIHJlc3VsdCA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBhcnJheSA9IGFycmF5c1tpbmRleF0sXG4gICAgICAgICAgICBvdGhJbmRleCA9IC0xO1xuXG4gICAgICAgIHdoaWxlICgrK290aEluZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgaWYgKG90aEluZGV4ICE9IGluZGV4KSB7XG4gICAgICAgICAgICByZXN1bHRbaW5kZXhdID0gYmFzZURpZmZlcmVuY2UocmVzdWx0W2luZGV4XSB8fCBhcnJheSwgYXJyYXlzW290aEluZGV4XSwgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VVbmlxKGJhc2VGbGF0dGVuKHJlc3VsdCwgMSksIGl0ZXJhdGVlLCBjb21wYXJhdG9yKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uemlwT2JqZWN0YCB3aGljaCBhc3NpZ25zIHZhbHVlcyB1c2luZyBgYXNzaWduRnVuY2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHByb3BzIFRoZSBwcm9wZXJ0eSBpZGVudGlmaWVycy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHByb3BlcnR5IHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBhc3NpZ25GdW5jIFRoZSBmdW5jdGlvbiB0byBhc3NpZ24gdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVppcE9iamVjdChwcm9wcywgdmFsdWVzLCBhc3NpZ25GdW5jKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBwcm9wcy5sZW5ndGgsXG4gICAgICAgICAgdmFsc0xlbmd0aCA9IHZhbHVlcy5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0ge307XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGluZGV4IDwgdmFsc0xlbmd0aCA/IHZhbHVlc1tpbmRleF0gOiB1bmRlZmluZWQ7XG4gICAgICAgIGFzc2lnbkZ1bmMocmVzdWx0LCBwcm9wc1tpbmRleF0sIHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FzdHMgYHZhbHVlYCB0byBhbiBlbXB0eSBhcnJheSBpZiBpdCdzIG5vdCBhbiBhcnJheSBsaWtlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl8T2JqZWN0fSBSZXR1cm5zIHRoZSBjYXN0IGFycmF5LWxpa2Ugb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNhc3RBcnJheUxpa2VPYmplY3QodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc0FycmF5TGlrZU9iamVjdCh2YWx1ZSkgPyB2YWx1ZSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhc3RzIGB2YWx1ZWAgdG8gYGlkZW50aXR5YCBpZiBpdCdzIG5vdCBhIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBjYXN0IGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNhc3RGdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnZnVuY3Rpb24nID8gdmFsdWUgOiBpZGVudGl0eTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYXN0cyBgdmFsdWVgIHRvIGEgcGF0aCBhcnJheSBpZiBpdCdzIG5vdCBvbmUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkga2V5cyBvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNhc3QgcHJvcGVydHkgcGF0aCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjYXN0UGF0aCh2YWx1ZSwgb2JqZWN0KSB7XG4gICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGlzS2V5KHZhbHVlLCBvYmplY3QpID8gW3ZhbHVlXSA6IHN0cmluZ1RvUGF0aCh0b1N0cmluZyh2YWx1ZSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgYGJhc2VSZXN0YCBhbGlhcyB3aGljaCBjYW4gYmUgcmVwbGFjZWQgd2l0aCBgaWRlbnRpdHlgIGJ5IG1vZHVsZVxuICAgICAqIHJlcGxhY2VtZW50IHBsdWdpbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtGdW5jdGlvbn1cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhcHBseSBhIHJlc3QgcGFyYW1ldGVyIHRvLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIHZhciBjYXN0UmVzdCA9IGJhc2VSZXN0O1xuXG4gICAgLyoqXG4gICAgICogQ2FzdHMgYGFycmF5YCB0byBhIHNsaWNlIGlmIGl0J3MgbmVlZGVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnQgVGhlIHN0YXJ0IHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kPWFycmF5Lmxlbmd0aF0gVGhlIGVuZCBwb3NpdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNhc3Qgc2xpY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2FzdFNsaWNlKGFycmF5LCBzdGFydCwgZW5kKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICAgICAgZW5kID0gZW5kID09PSB1bmRlZmluZWQgPyBsZW5ndGggOiBlbmQ7XG4gICAgICByZXR1cm4gKCFzdGFydCAmJiBlbmQgPj0gbGVuZ3RoKSA/IGFycmF5IDogYmFzZVNsaWNlKGFycmF5LCBzdGFydCwgZW5kKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNpbXBsZSB3cmFwcGVyIGFyb3VuZCB0aGUgZ2xvYmFsIFtgY2xlYXJUaW1lb3V0YF0oaHR0cHM6Ly9tZG4uaW8vY2xlYXJUaW1lb3V0KS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ8T2JqZWN0fSBpZCBUaGUgdGltZXIgaWQgb3IgdGltZW91dCBvYmplY3Qgb2YgdGhlIHRpbWVyIHRvIGNsZWFyLlxuICAgICAqL1xuICAgIHZhciBjbGVhclRpbWVvdXQgPSBjdHhDbGVhclRpbWVvdXQgfHwgZnVuY3Rpb24oaWQpIHtcbiAgICAgIHJldHVybiByb290LmNsZWFyVGltZW91dChpZCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiAgYGJ1ZmZlcmAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QnVmZmVyfSBidWZmZXIgVGhlIGJ1ZmZlciB0byBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0RlZXBdIFNwZWNpZnkgYSBkZWVwIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtCdWZmZXJ9IFJldHVybnMgdGhlIGNsb25lZCBidWZmZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVCdWZmZXIoYnVmZmVyLCBpc0RlZXApIHtcbiAgICAgIGlmIChpc0RlZXApIHtcbiAgICAgICAgcmV0dXJuIGJ1ZmZlci5zbGljZSgpO1xuICAgICAgfVxuICAgICAgdmFyIGxlbmd0aCA9IGJ1ZmZlci5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0gYWxsb2NVbnNhZmUgPyBhbGxvY1Vuc2FmZShsZW5ndGgpIDogbmV3IGJ1ZmZlci5jb25zdHJ1Y3RvcihsZW5ndGgpO1xuXG4gICAgICBidWZmZXIuY29weShyZXN1bHQpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgYGFycmF5QnVmZmVyYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheUJ1ZmZlcn0gYXJyYXlCdWZmZXIgVGhlIGFycmF5IGJ1ZmZlciB0byBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXlCdWZmZXJ9IFJldHVybnMgdGhlIGNsb25lZCBhcnJheSBidWZmZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVBcnJheUJ1ZmZlcihhcnJheUJ1ZmZlcikge1xuICAgICAgdmFyIHJlc3VsdCA9IG5ldyBhcnJheUJ1ZmZlci5jb25zdHJ1Y3RvcihhcnJheUJ1ZmZlci5ieXRlTGVuZ3RoKTtcbiAgICAgIG5ldyBVaW50OEFycmF5KHJlc3VsdCkuc2V0KG5ldyBVaW50OEFycmF5KGFycmF5QnVmZmVyKSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiBgZGF0YVZpZXdgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YVZpZXcgVGhlIGRhdGEgdmlldyB0byBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0RlZXBdIFNwZWNpZnkgYSBkZWVwIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNsb25lZCBkYXRhIHZpZXcuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVEYXRhVmlldyhkYXRhVmlldywgaXNEZWVwKSB7XG4gICAgICB2YXIgYnVmZmVyID0gaXNEZWVwID8gY2xvbmVBcnJheUJ1ZmZlcihkYXRhVmlldy5idWZmZXIpIDogZGF0YVZpZXcuYnVmZmVyO1xuICAgICAgcmV0dXJuIG5ldyBkYXRhVmlldy5jb25zdHJ1Y3RvcihidWZmZXIsIGRhdGFWaWV3LmJ5dGVPZmZzZXQsIGRhdGFWaWV3LmJ5dGVMZW5ndGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiBgcmVnZXhwYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHJlZ2V4cCBUaGUgcmVnZXhwIHRvIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNsb25lZCByZWdleHAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVSZWdFeHAocmVnZXhwKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gbmV3IHJlZ2V4cC5jb25zdHJ1Y3RvcihyZWdleHAuc291cmNlLCByZUZsYWdzLmV4ZWMocmVnZXhwKSk7XG4gICAgICByZXN1bHQubGFzdEluZGV4ID0gcmVnZXhwLmxhc3RJbmRleDtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoZSBgc3ltYm9sYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzeW1ib2wgVGhlIHN5bWJvbCBvYmplY3QgdG8gY2xvbmUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2xvbmVkIHN5bWJvbCBvYmplY3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVTeW1ib2woc3ltYm9sKSB7XG4gICAgICByZXR1cm4gc3ltYm9sVmFsdWVPZiA/IE9iamVjdChzeW1ib2xWYWx1ZU9mLmNhbGwoc3ltYm9sKSkgOiB7fTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgYHR5cGVkQXJyYXlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdHlwZWRBcnJheSBUaGUgdHlwZWQgYXJyYXkgdG8gY2xvbmUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNEZWVwXSBTcGVjaWZ5IGEgZGVlcCBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjbG9uZWQgdHlwZWQgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVUeXBlZEFycmF5KHR5cGVkQXJyYXksIGlzRGVlcCkge1xuICAgICAgdmFyIGJ1ZmZlciA9IGlzRGVlcCA/IGNsb25lQXJyYXlCdWZmZXIodHlwZWRBcnJheS5idWZmZXIpIDogdHlwZWRBcnJheS5idWZmZXI7XG4gICAgICByZXR1cm4gbmV3IHR5cGVkQXJyYXkuY29uc3RydWN0b3IoYnVmZmVyLCB0eXBlZEFycmF5LmJ5dGVPZmZzZXQsIHR5cGVkQXJyYXkubGVuZ3RoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb21wYXJlcyB2YWx1ZXMgdG8gc29ydCB0aGVtIGluIGFzY2VuZGluZyBvcmRlci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHNvcnQgb3JkZXIgaW5kaWNhdG9yIGZvciBgdmFsdWVgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbXBhcmVBc2NlbmRpbmcodmFsdWUsIG90aGVyKSB7XG4gICAgICBpZiAodmFsdWUgIT09IG90aGVyKSB7XG4gICAgICAgIHZhciB2YWxJc0RlZmluZWQgPSB2YWx1ZSAhPT0gdW5kZWZpbmVkLFxuICAgICAgICAgICAgdmFsSXNOdWxsID0gdmFsdWUgPT09IG51bGwsXG4gICAgICAgICAgICB2YWxJc1JlZmxleGl2ZSA9IHZhbHVlID09PSB2YWx1ZSxcbiAgICAgICAgICAgIHZhbElzU3ltYm9sID0gaXNTeW1ib2wodmFsdWUpO1xuXG4gICAgICAgIHZhciBvdGhJc0RlZmluZWQgPSBvdGhlciAhPT0gdW5kZWZpbmVkLFxuICAgICAgICAgICAgb3RoSXNOdWxsID0gb3RoZXIgPT09IG51bGwsXG4gICAgICAgICAgICBvdGhJc1JlZmxleGl2ZSA9IG90aGVyID09PSBvdGhlcixcbiAgICAgICAgICAgIG90aElzU3ltYm9sID0gaXNTeW1ib2wob3RoZXIpO1xuXG4gICAgICAgIGlmICgoIW90aElzTnVsbCAmJiAhb3RoSXNTeW1ib2wgJiYgIXZhbElzU3ltYm9sICYmIHZhbHVlID4gb3RoZXIpIHx8XG4gICAgICAgICAgICAodmFsSXNTeW1ib2wgJiYgb3RoSXNEZWZpbmVkICYmIG90aElzUmVmbGV4aXZlICYmICFvdGhJc051bGwgJiYgIW90aElzU3ltYm9sKSB8fFxuICAgICAgICAgICAgKHZhbElzTnVsbCAmJiBvdGhJc0RlZmluZWQgJiYgb3RoSXNSZWZsZXhpdmUpIHx8XG4gICAgICAgICAgICAoIXZhbElzRGVmaW5lZCAmJiBvdGhJc1JlZmxleGl2ZSkgfHxcbiAgICAgICAgICAgICF2YWxJc1JlZmxleGl2ZSkge1xuICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICB9XG4gICAgICAgIGlmICgoIXZhbElzTnVsbCAmJiAhdmFsSXNTeW1ib2wgJiYgIW90aElzU3ltYm9sICYmIHZhbHVlIDwgb3RoZXIpIHx8XG4gICAgICAgICAgICAob3RoSXNTeW1ib2wgJiYgdmFsSXNEZWZpbmVkICYmIHZhbElzUmVmbGV4aXZlICYmICF2YWxJc051bGwgJiYgIXZhbElzU3ltYm9sKSB8fFxuICAgICAgICAgICAgKG90aElzTnVsbCAmJiB2YWxJc0RlZmluZWQgJiYgdmFsSXNSZWZsZXhpdmUpIHx8XG4gICAgICAgICAgICAoIW90aElzRGVmaW5lZCAmJiB2YWxJc1JlZmxleGl2ZSkgfHxcbiAgICAgICAgICAgICFvdGhJc1JlZmxleGl2ZSkge1xuICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXNlZCBieSBgXy5vcmRlckJ5YCB0byBjb21wYXJlIG11bHRpcGxlIHByb3BlcnRpZXMgb2YgYSB2YWx1ZSB0byBhbm90aGVyXG4gICAgICogYW5kIHN0YWJsZSBzb3J0IHRoZW0uXG4gICAgICpcbiAgICAgKiBJZiBgb3JkZXJzYCBpcyB1bnNwZWNpZmllZCwgYWxsIHZhbHVlcyBhcmUgc29ydGVkIGluIGFzY2VuZGluZyBvcmRlci4gT3RoZXJ3aXNlLFxuICAgICAqIHNwZWNpZnkgYW4gb3JkZXIgb2YgXCJkZXNjXCIgZm9yIGRlc2NlbmRpbmcgb3IgXCJhc2NcIiBmb3IgYXNjZW5kaW5nIHNvcnQgb3JkZXJcbiAgICAgKiBvZiBjb3JyZXNwb25kaW5nIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG90aGVyIFRoZSBvdGhlciBvYmplY3QgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW5bXXxzdHJpbmdbXX0gb3JkZXJzIFRoZSBvcmRlciB0byBzb3J0IGJ5IGZvciBlYWNoIHByb3BlcnR5LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHNvcnQgb3JkZXIgaW5kaWNhdG9yIGZvciBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb21wYXJlTXVsdGlwbGUob2JqZWN0LCBvdGhlciwgb3JkZXJzKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBvYmpDcml0ZXJpYSA9IG9iamVjdC5jcml0ZXJpYSxcbiAgICAgICAgICBvdGhDcml0ZXJpYSA9IG90aGVyLmNyaXRlcmlhLFxuICAgICAgICAgIGxlbmd0aCA9IG9iakNyaXRlcmlhLmxlbmd0aCxcbiAgICAgICAgICBvcmRlcnNMZW5ndGggPSBvcmRlcnMubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gY29tcGFyZUFzY2VuZGluZyhvYmpDcml0ZXJpYVtpbmRleF0sIG90aENyaXRlcmlhW2luZGV4XSk7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICBpZiAoaW5kZXggPj0gb3JkZXJzTGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgb3JkZXIgPSBvcmRlcnNbaW5kZXhdO1xuICAgICAgICAgIHJldHVybiByZXN1bHQgKiAob3JkZXIgPT0gJ2Rlc2MnID8gLTEgOiAxKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gRml4ZXMgYW4gYEFycmF5I3NvcnRgIGJ1ZyBpbiB0aGUgSlMgZW5naW5lIGVtYmVkZGVkIGluIEFkb2JlIGFwcGxpY2F0aW9uc1xuICAgICAgLy8gdGhhdCBjYXVzZXMgaXQsIHVuZGVyIGNlcnRhaW4gY2lyY3Vtc3RhbmNlcywgdG8gcHJvdmlkZSB0aGUgc2FtZSB2YWx1ZSBmb3JcbiAgICAgIC8vIGBvYmplY3RgIGFuZCBgb3RoZXJgLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2phc2hrZW5hcy91bmRlcnNjb3JlL3B1bGwvMTI0N1xuICAgICAgLy8gZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgIC8vXG4gICAgICAvLyBUaGlzIGFsc28gZW5zdXJlcyBhIHN0YWJsZSBzb3J0IGluIFY4IGFuZCBvdGhlciBlbmdpbmVzLlxuICAgICAgLy8gU2VlIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTkwIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICByZXR1cm4gb2JqZWN0LmluZGV4IC0gb3RoZXIuaW5kZXg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSB0aGF0IGlzIHRoZSBjb21wb3NpdGlvbiBvZiBwYXJ0aWFsbHkgYXBwbGllZCBhcmd1bWVudHMsXG4gICAgICogcGxhY2Vob2xkZXJzLCBhbmQgcHJvdmlkZWQgYXJndW1lbnRzIGludG8gYSBzaW5nbGUgYXJyYXkgb2YgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcmdzIFRoZSBwcm92aWRlZCBhcmd1bWVudHMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gcGFydGlhbHMgVGhlIGFyZ3VtZW50cyB0byBwcmVwZW5kIHRvIHRob3NlIHByb3ZpZGVkLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGhvbGRlcnMgVGhlIGBwYXJ0aWFsc2AgcGxhY2Vob2xkZXIgaW5kZXhlcy5cbiAgICAgKiBAcGFyYW1zIHtib29sZWFufSBbaXNDdXJyaWVkXSBTcGVjaWZ5IGNvbXBvc2luZyBmb3IgYSBjdXJyaWVkIGZ1bmN0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGNvbXBvc2VkIGFyZ3VtZW50cy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb21wb3NlQXJncyhhcmdzLCBwYXJ0aWFscywgaG9sZGVycywgaXNDdXJyaWVkKSB7XG4gICAgICB2YXIgYXJnc0luZGV4ID0gLTEsXG4gICAgICAgICAgYXJnc0xlbmd0aCA9IGFyZ3MubGVuZ3RoLFxuICAgICAgICAgIGhvbGRlcnNMZW5ndGggPSBob2xkZXJzLmxlbmd0aCxcbiAgICAgICAgICBsZWZ0SW5kZXggPSAtMSxcbiAgICAgICAgICBsZWZ0TGVuZ3RoID0gcGFydGlhbHMubGVuZ3RoLFxuICAgICAgICAgIHJhbmdlTGVuZ3RoID0gbmF0aXZlTWF4KGFyZ3NMZW5ndGggLSBob2xkZXJzTGVuZ3RoLCAwKSxcbiAgICAgICAgICByZXN1bHQgPSBBcnJheShsZWZ0TGVuZ3RoICsgcmFuZ2VMZW5ndGgpLFxuICAgICAgICAgIGlzVW5jdXJyaWVkID0gIWlzQ3VycmllZDtcblxuICAgICAgd2hpbGUgKCsrbGVmdEluZGV4IDwgbGVmdExlbmd0aCkge1xuICAgICAgICByZXN1bHRbbGVmdEluZGV4XSA9IHBhcnRpYWxzW2xlZnRJbmRleF07XG4gICAgICB9XG4gICAgICB3aGlsZSAoKythcmdzSW5kZXggPCBob2xkZXJzTGVuZ3RoKSB7XG4gICAgICAgIGlmIChpc1VuY3VycmllZCB8fCBhcmdzSW5kZXggPCBhcmdzTGVuZ3RoKSB7XG4gICAgICAgICAgcmVzdWx0W2hvbGRlcnNbYXJnc0luZGV4XV0gPSBhcmdzW2FyZ3NJbmRleF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHdoaWxlIChyYW5nZUxlbmd0aC0tKSB7XG4gICAgICAgIHJlc3VsdFtsZWZ0SW5kZXgrK10gPSBhcmdzW2FyZ3NJbmRleCsrXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiBpcyBsaWtlIGBjb21wb3NlQXJnc2AgZXhjZXB0IHRoYXQgdGhlIGFyZ3VtZW50cyBjb21wb3NpdGlvblxuICAgICAqIGlzIHRhaWxvcmVkIGZvciBgXy5wYXJ0aWFsUmlnaHRgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcmdzIFRoZSBwcm92aWRlZCBhcmd1bWVudHMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gcGFydGlhbHMgVGhlIGFyZ3VtZW50cyB0byBhcHBlbmQgdG8gdGhvc2UgcHJvdmlkZWQuXG4gICAgICogQHBhcmFtIHtBcnJheX0gaG9sZGVycyBUaGUgYHBhcnRpYWxzYCBwbGFjZWhvbGRlciBpbmRleGVzLlxuICAgICAqIEBwYXJhbXMge2Jvb2xlYW59IFtpc0N1cnJpZWRdIFNwZWNpZnkgY29tcG9zaW5nIGZvciBhIGN1cnJpZWQgZnVuY3Rpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgY29tcG9zZWQgYXJndW1lbnRzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbXBvc2VBcmdzUmlnaHQoYXJncywgcGFydGlhbHMsIGhvbGRlcnMsIGlzQ3VycmllZCkge1xuICAgICAgdmFyIGFyZ3NJbmRleCA9IC0xLFxuICAgICAgICAgIGFyZ3NMZW5ndGggPSBhcmdzLmxlbmd0aCxcbiAgICAgICAgICBob2xkZXJzSW5kZXggPSAtMSxcbiAgICAgICAgICBob2xkZXJzTGVuZ3RoID0gaG9sZGVycy5sZW5ndGgsXG4gICAgICAgICAgcmlnaHRJbmRleCA9IC0xLFxuICAgICAgICAgIHJpZ2h0TGVuZ3RoID0gcGFydGlhbHMubGVuZ3RoLFxuICAgICAgICAgIHJhbmdlTGVuZ3RoID0gbmF0aXZlTWF4KGFyZ3NMZW5ndGggLSBob2xkZXJzTGVuZ3RoLCAwKSxcbiAgICAgICAgICByZXN1bHQgPSBBcnJheShyYW5nZUxlbmd0aCArIHJpZ2h0TGVuZ3RoKSxcbiAgICAgICAgICBpc1VuY3VycmllZCA9ICFpc0N1cnJpZWQ7XG5cbiAgICAgIHdoaWxlICgrK2FyZ3NJbmRleCA8IHJhbmdlTGVuZ3RoKSB7XG4gICAgICAgIHJlc3VsdFthcmdzSW5kZXhdID0gYXJnc1thcmdzSW5kZXhdO1xuICAgICAgfVxuICAgICAgdmFyIG9mZnNldCA9IGFyZ3NJbmRleDtcbiAgICAgIHdoaWxlICgrK3JpZ2h0SW5kZXggPCByaWdodExlbmd0aCkge1xuICAgICAgICByZXN1bHRbb2Zmc2V0ICsgcmlnaHRJbmRleF0gPSBwYXJ0aWFsc1tyaWdodEluZGV4XTtcbiAgICAgIH1cbiAgICAgIHdoaWxlICgrK2hvbGRlcnNJbmRleCA8IGhvbGRlcnNMZW5ndGgpIHtcbiAgICAgICAgaWYgKGlzVW5jdXJyaWVkIHx8IGFyZ3NJbmRleCA8IGFyZ3NMZW5ndGgpIHtcbiAgICAgICAgICByZXN1bHRbb2Zmc2V0ICsgaG9sZGVyc1tob2xkZXJzSW5kZXhdXSA9IGFyZ3NbYXJnc0luZGV4KytdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvcGllcyB0aGUgdmFsdWVzIG9mIGBzb3VyY2VgIHRvIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHNvdXJjZSBUaGUgYXJyYXkgdG8gY29weSB2YWx1ZXMgZnJvbS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXk9W11dIFRoZSBhcnJheSB0byBjb3B5IHZhbHVlcyB0by5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb3B5QXJyYXkoc291cmNlLCBhcnJheSkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gc291cmNlLmxlbmd0aDtcblxuICAgICAgYXJyYXkgfHwgKGFycmF5ID0gQXJyYXkobGVuZ3RoKSk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICBhcnJheVtpbmRleF0gPSBzb3VyY2VbaW5kZXhdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvcGllcyBwcm9wZXJ0aWVzIG9mIGBzb3VyY2VgIHRvIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3QgdG8gY29weSBwcm9wZXJ0aWVzIGZyb20uXG4gICAgICogQHBhcmFtIHtBcnJheX0gcHJvcHMgVGhlIHByb3BlcnR5IGlkZW50aWZpZXJzIHRvIGNvcHkuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3Q9e31dIFRoZSBvYmplY3QgdG8gY29weSBwcm9wZXJ0aWVzIHRvLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvcGllZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb3B5T2JqZWN0KHNvdXJjZSwgcHJvcHMsIG9iamVjdCwgY3VzdG9taXplcikge1xuICAgICAgdmFyIGlzTmV3ID0gIW9iamVjdDtcbiAgICAgIG9iamVjdCB8fCAob2JqZWN0ID0ge30pO1xuXG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBwcm9wcy5sZW5ndGg7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBrZXkgPSBwcm9wc1tpbmRleF07XG5cbiAgICAgICAgdmFyIG5ld1ZhbHVlID0gY3VzdG9taXplclxuICAgICAgICAgID8gY3VzdG9taXplcihvYmplY3Rba2V5XSwgc291cmNlW2tleV0sIGtleSwgb2JqZWN0LCBzb3VyY2UpXG4gICAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgaWYgKG5ld1ZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBuZXdWYWx1ZSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc05ldykge1xuICAgICAgICAgIGJhc2VBc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgbmV3VmFsdWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFzc2lnblZhbHVlKG9iamVjdCwga2V5LCBuZXdWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29waWVzIG93biBzeW1ib2xzIG9mIGBzb3VyY2VgIHRvIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3QgdG8gY29weSBzeW1ib2xzIGZyb20uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3Q9e31dIFRoZSBvYmplY3QgdG8gY29weSBzeW1ib2xzIHRvLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29weVN5bWJvbHMoc291cmNlLCBvYmplY3QpIHtcbiAgICAgIHJldHVybiBjb3B5T2JqZWN0KHNvdXJjZSwgZ2V0U3ltYm9scyhzb3VyY2UpLCBvYmplY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvcGllcyBvd24gYW5kIGluaGVyaXRlZCBzeW1ib2xzIG9mIGBzb3VyY2VgIHRvIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3QgdG8gY29weSBzeW1ib2xzIGZyb20uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3Q9e31dIFRoZSBvYmplY3QgdG8gY29weSBzeW1ib2xzIHRvLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29weVN5bWJvbHNJbihzb3VyY2UsIG9iamVjdCkge1xuICAgICAgcmV0dXJuIGNvcHlPYmplY3Qoc291cmNlLCBnZXRTeW1ib2xzSW4oc291cmNlKSwgb2JqZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5ncm91cEJ5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc2V0dGVyIFRoZSBmdW5jdGlvbiB0byBzZXQgYWNjdW11bGF0b3IgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpbml0aWFsaXplcl0gVGhlIGFjY3VtdWxhdG9yIG9iamVjdCBpbml0aWFsaXplci5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhZ2dyZWdhdG9yIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUFnZ3JlZ2F0b3Ioc2V0dGVyLCBpbml0aWFsaXplcikge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gICAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5QWdncmVnYXRvciA6IGJhc2VBZ2dyZWdhdG9yLFxuICAgICAgICAgICAgYWNjdW11bGF0b3IgPSBpbml0aWFsaXplciA/IGluaXRpYWxpemVyKCkgOiB7fTtcblxuICAgICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBzZXR0ZXIsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSwgYWNjdW11bGF0b3IpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5hc3NpZ25gLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBhc3NpZ25lciBUaGUgZnVuY3Rpb24gdG8gYXNzaWduIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhc3NpZ25lciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVBc3NpZ25lcihhc3NpZ25lcikge1xuICAgICAgcmV0dXJuIGJhc2VSZXN0KGZ1bmN0aW9uKG9iamVjdCwgc291cmNlcykge1xuICAgICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICAgIGxlbmd0aCA9IHNvdXJjZXMubGVuZ3RoLFxuICAgICAgICAgICAgY3VzdG9taXplciA9IGxlbmd0aCA+IDEgPyBzb3VyY2VzW2xlbmd0aCAtIDFdIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgZ3VhcmQgPSBsZW5ndGggPiAyID8gc291cmNlc1syXSA6IHVuZGVmaW5lZDtcblxuICAgICAgICBjdXN0b21pemVyID0gKGFzc2lnbmVyLmxlbmd0aCA+IDMgJiYgdHlwZW9mIGN1c3RvbWl6ZXIgPT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgICA/IChsZW5ndGgtLSwgY3VzdG9taXplcilcbiAgICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgICBpZiAoZ3VhcmQgJiYgaXNJdGVyYXRlZUNhbGwoc291cmNlc1swXSwgc291cmNlc1sxXSwgZ3VhcmQpKSB7XG4gICAgICAgICAgY3VzdG9taXplciA9IGxlbmd0aCA8IDMgPyB1bmRlZmluZWQgOiBjdXN0b21pemVyO1xuICAgICAgICAgIGxlbmd0aCA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgb2JqZWN0ID0gT2JqZWN0KG9iamVjdCk7XG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIHNvdXJjZSA9IHNvdXJjZXNbaW5kZXhdO1xuICAgICAgICAgIGlmIChzb3VyY2UpIHtcbiAgICAgICAgICAgIGFzc2lnbmVyKG9iamVjdCwgc291cmNlLCBpbmRleCwgY3VzdG9taXplcik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYGJhc2VFYWNoYCBvciBgYmFzZUVhY2hSaWdodGAgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGVhY2hGdW5jIFRoZSBmdW5jdGlvbiB0byBpdGVyYXRlIG92ZXIgYSBjb2xsZWN0aW9uLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGJhc2UgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQmFzZUVhY2goZWFjaEZ1bmMsIGZyb21SaWdodCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gICAgICAgIGlmIChjb2xsZWN0aW9uID09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gY29sbGVjdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzQXJyYXlMaWtlKGNvbGxlY3Rpb24pKSB7XG4gICAgICAgICAgcmV0dXJuIGVhY2hGdW5jKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbGVuZ3RoID0gY29sbGVjdGlvbi5sZW5ndGgsXG4gICAgICAgICAgICBpbmRleCA9IGZyb21SaWdodCA/IGxlbmd0aCA6IC0xLFxuICAgICAgICAgICAgaXRlcmFibGUgPSBPYmplY3QoY29sbGVjdGlvbik7XG5cbiAgICAgICAgd2hpbGUgKChmcm9tUmlnaHQgPyBpbmRleC0tIDogKytpbmRleCA8IGxlbmd0aCkpIHtcbiAgICAgICAgICBpZiAoaXRlcmF0ZWUoaXRlcmFibGVbaW5kZXhdLCBpbmRleCwgaXRlcmFibGUpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb2xsZWN0aW9uO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYmFzZSBmdW5jdGlvbiBmb3IgbWV0aG9kcyBsaWtlIGBfLmZvckluYCBhbmQgYF8uZm9yT3duYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZnJvbVJpZ2h0XSBTcGVjaWZ5IGl0ZXJhdGluZyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYmFzZSBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVCYXNlRm9yKGZyb21SaWdodCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCwgaXRlcmF0ZWUsIGtleXNGdW5jKSB7XG4gICAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgICAgaXRlcmFibGUgPSBPYmplY3Qob2JqZWN0KSxcbiAgICAgICAgICAgIHByb3BzID0ga2V5c0Z1bmMob2JqZWN0KSxcbiAgICAgICAgICAgIGxlbmd0aCA9IHByb3BzLmxlbmd0aDtcblxuICAgICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgICB2YXIga2V5ID0gcHJvcHNbZnJvbVJpZ2h0ID8gbGVuZ3RoIDogKytpbmRleF07XG4gICAgICAgICAgaWYgKGl0ZXJhdGVlKGl0ZXJhYmxlW2tleV0sIGtleSwgaXRlcmFibGUpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHdyYXBzIGBmdW5jYCB0byBpbnZva2UgaXQgd2l0aCB0aGUgb3B0aW9uYWwgYHRoaXNgXG4gICAgICogYmluZGluZyBvZiBgdGhpc0FyZ2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgY3JlYXRlV3JhcGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHdyYXBwZWQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQmluZChmdW5jLCBiaXRtYXNrLCB0aGlzQXJnKSB7XG4gICAgICB2YXIgaXNCaW5kID0gYml0bWFzayAmIFdSQVBfQklORF9GTEFHLFxuICAgICAgICAgIEN0b3IgPSBjcmVhdGVDdG9yKGZ1bmMpO1xuXG4gICAgICBmdW5jdGlvbiB3cmFwcGVyKCkge1xuICAgICAgICB2YXIgZm4gPSAodGhpcyAmJiB0aGlzICE9PSByb290ICYmIHRoaXMgaW5zdGFuY2VvZiB3cmFwcGVyKSA/IEN0b3IgOiBmdW5jO1xuICAgICAgICByZXR1cm4gZm4uYXBwbHkoaXNCaW5kID8gdGhpc0FyZyA6IHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gd3JhcHBlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5sb3dlckZpcnN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZE5hbWUgVGhlIG5hbWUgb2YgdGhlIGBTdHJpbmdgIGNhc2UgbWV0aG9kIHRvIHVzZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjYXNlIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUNhc2VGaXJzdChtZXRob2ROYW1lKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oc3RyaW5nKSB7XG4gICAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG5cbiAgICAgICAgdmFyIHN0clN5bWJvbHMgPSBoYXNVbmljb2RlKHN0cmluZylcbiAgICAgICAgICA/IHN0cmluZ1RvQXJyYXkoc3RyaW5nKVxuICAgICAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgICAgIHZhciBjaHIgPSBzdHJTeW1ib2xzXG4gICAgICAgICAgPyBzdHJTeW1ib2xzWzBdXG4gICAgICAgICAgOiBzdHJpbmcuY2hhckF0KDApO1xuXG4gICAgICAgIHZhciB0cmFpbGluZyA9IHN0clN5bWJvbHNcbiAgICAgICAgICA/IGNhc3RTbGljZShzdHJTeW1ib2xzLCAxKS5qb2luKCcnKVxuICAgICAgICAgIDogc3RyaW5nLnNsaWNlKDEpO1xuXG4gICAgICAgIHJldHVybiBjaHJbbWV0aG9kTmFtZV0oKSArIHRyYWlsaW5nO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5jYW1lbENhc2VgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gdG8gY29tYmluZSBlYWNoIHdvcmQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY29tcG91bmRlciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVDb21wb3VuZGVyKGNhbGxiYWNrKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oc3RyaW5nKSB7XG4gICAgICAgIHJldHVybiBhcnJheVJlZHVjZSh3b3JkcyhkZWJ1cnIoc3RyaW5nKS5yZXBsYWNlKHJlQXBvcywgJycpKSwgY2FsbGJhY2ssICcnKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcHJvZHVjZXMgYW4gaW5zdGFuY2Ugb2YgYEN0b3JgIHJlZ2FyZGxlc3Mgb2ZcbiAgICAgKiB3aGV0aGVyIGl0IHdhcyBpbnZva2VkIGFzIHBhcnQgb2YgYSBgbmV3YCBleHByZXNzaW9uIG9yIGJ5IGBjYWxsYCBvciBgYXBwbHlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBDdG9yIFRoZSBjb25zdHJ1Y3RvciB0byB3cmFwLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHdyYXBwZWQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQ3RvcihDdG9yKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIFVzZSBhIGBzd2l0Y2hgIHN0YXRlbWVudCB0byB3b3JrIHdpdGggY2xhc3MgY29uc3RydWN0b3JzLiBTZWVcbiAgICAgICAgLy8gaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtZWNtYXNjcmlwdC1mdW5jdGlvbi1vYmplY3RzLWNhbGwtdGhpc2FyZ3VtZW50LWFyZ3VtZW50c2xpc3RcbiAgICAgICAgLy8gZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAgIHN3aXRjaCAoYXJncy5sZW5ndGgpIHtcbiAgICAgICAgICBjYXNlIDA6IHJldHVybiBuZXcgQ3RvcjtcbiAgICAgICAgICBjYXNlIDE6IHJldHVybiBuZXcgQ3RvcihhcmdzWzBdKTtcbiAgICAgICAgICBjYXNlIDI6IHJldHVybiBuZXcgQ3RvcihhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICAgICAgICBjYXNlIDM6IHJldHVybiBuZXcgQ3RvcihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICAgICAgICBjYXNlIDQ6IHJldHVybiBuZXcgQ3RvcihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdLCBhcmdzWzNdKTtcbiAgICAgICAgICBjYXNlIDU6IHJldHVybiBuZXcgQ3RvcihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdLCBhcmdzWzNdLCBhcmdzWzRdKTtcbiAgICAgICAgICBjYXNlIDY6IHJldHVybiBuZXcgQ3RvcihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdLCBhcmdzWzNdLCBhcmdzWzRdLCBhcmdzWzVdKTtcbiAgICAgICAgICBjYXNlIDc6IHJldHVybiBuZXcgQ3RvcihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdLCBhcmdzWzNdLCBhcmdzWzRdLCBhcmdzWzVdLCBhcmdzWzZdKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdGhpc0JpbmRpbmcgPSBiYXNlQ3JlYXRlKEN0b3IucHJvdG90eXBlKSxcbiAgICAgICAgICAgIHJlc3VsdCA9IEN0b3IuYXBwbHkodGhpc0JpbmRpbmcsIGFyZ3MpO1xuXG4gICAgICAgIC8vIE1pbWljIHRoZSBjb25zdHJ1Y3RvcidzIGByZXR1cm5gIGJlaGF2aW9yLlxuICAgICAgICAvLyBTZWUgaHR0cHM6Ly9lczUuZ2l0aHViLmlvLyN4MTMuMi4yIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICAgIHJldHVybiBpc09iamVjdChyZXN1bHQpID8gcmVzdWx0IDogdGhpc0JpbmRpbmc7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHdyYXBzIGBmdW5jYCB0byBlbmFibGUgY3VycnlpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgY3JlYXRlV3JhcGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYXJpdHkgVGhlIGFyaXR5IG9mIGBmdW5jYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB3cmFwcGVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUN1cnJ5KGZ1bmMsIGJpdG1hc2ssIGFyaXR5KSB7XG4gICAgICB2YXIgQ3RvciA9IGNyZWF0ZUN0b3IoZnVuYyk7XG5cbiAgICAgIGZ1bmN0aW9uIHdyYXBwZXIoKSB7XG4gICAgICAgIHZhciBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoLFxuICAgICAgICAgICAgYXJncyA9IEFycmF5KGxlbmd0aCksXG4gICAgICAgICAgICBpbmRleCA9IGxlbmd0aCxcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyID0gZ2V0SG9sZGVyKHdyYXBwZXIpO1xuXG4gICAgICAgIHdoaWxlIChpbmRleC0tKSB7XG4gICAgICAgICAgYXJnc1tpbmRleF0gPSBhcmd1bWVudHNbaW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIHZhciBob2xkZXJzID0gKGxlbmd0aCA8IDMgJiYgYXJnc1swXSAhPT0gcGxhY2Vob2xkZXIgJiYgYXJnc1tsZW5ndGggLSAxXSAhPT0gcGxhY2Vob2xkZXIpXG4gICAgICAgICAgPyBbXVxuICAgICAgICAgIDogcmVwbGFjZUhvbGRlcnMoYXJncywgcGxhY2Vob2xkZXIpO1xuXG4gICAgICAgIGxlbmd0aCAtPSBob2xkZXJzLmxlbmd0aDtcbiAgICAgICAgaWYgKGxlbmd0aCA8IGFyaXR5KSB7XG4gICAgICAgICAgcmV0dXJuIGNyZWF0ZVJlY3VycnkoXG4gICAgICAgICAgICBmdW5jLCBiaXRtYXNrLCBjcmVhdGVIeWJyaWQsIHdyYXBwZXIucGxhY2Vob2xkZXIsIHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGFyZ3MsIGhvbGRlcnMsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBhcml0eSAtIGxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZuID0gKHRoaXMgJiYgdGhpcyAhPT0gcm9vdCAmJiB0aGlzIGluc3RhbmNlb2Ygd3JhcHBlcikgPyBDdG9yIDogZnVuYztcbiAgICAgICAgcmV0dXJuIGFwcGx5KGZuLCB0aGlzLCBhcmdzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB3cmFwcGVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBgXy5maW5kYCBvciBgXy5maW5kTGFzdGAgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZpbmRJbmRleEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGZpbmQgdGhlIGNvbGxlY3Rpb24gaW5kZXguXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZmluZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVGaW5kKGZpbmRJbmRleEZ1bmMpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihjb2xsZWN0aW9uLCBwcmVkaWNhdGUsIGZyb21JbmRleCkge1xuICAgICAgICB2YXIgaXRlcmFibGUgPSBPYmplY3QoY29sbGVjdGlvbik7XG4gICAgICAgIGlmICghaXNBcnJheUxpa2UoY29sbGVjdGlvbikpIHtcbiAgICAgICAgICB2YXIgaXRlcmF0ZWUgPSBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpO1xuICAgICAgICAgIGNvbGxlY3Rpb24gPSBrZXlzKGNvbGxlY3Rpb24pO1xuICAgICAgICAgIHByZWRpY2F0ZSA9IGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gaXRlcmF0ZWUoaXRlcmFibGVba2V5XSwga2V5LCBpdGVyYWJsZSk7IH07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGluZGV4ID0gZmluZEluZGV4RnVuYyhjb2xsZWN0aW9uLCBwcmVkaWNhdGUsIGZyb21JbmRleCk7XG4gICAgICAgIHJldHVybiBpbmRleCA+IC0xID8gaXRlcmFibGVbaXRlcmF0ZWUgPyBjb2xsZWN0aW9uW2luZGV4XSA6IGluZGV4XSA6IHVuZGVmaW5lZDtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBfLmZsb3dgIG9yIGBfLmZsb3dSaWdodGAgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZsb3cgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlRmxvdyhmcm9tUmlnaHQpIHtcbiAgICAgIHJldHVybiBmbGF0UmVzdChmdW5jdGlvbihmdW5jcykge1xuICAgICAgICB2YXIgbGVuZ3RoID0gZnVuY3MubGVuZ3RoLFxuICAgICAgICAgICAgaW5kZXggPSBsZW5ndGgsXG4gICAgICAgICAgICBwcmVyZXEgPSBMb2Rhc2hXcmFwcGVyLnByb3RvdHlwZS50aHJ1O1xuXG4gICAgICAgIGlmIChmcm9tUmlnaHQpIHtcbiAgICAgICAgICBmdW5jcy5yZXZlcnNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICAgICAgICB2YXIgZnVuYyA9IGZ1bmNzW2luZGV4XTtcbiAgICAgICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocHJlcmVxICYmICF3cmFwcGVyICYmIGdldEZ1bmNOYW1lKGZ1bmMpID09ICd3cmFwcGVyJykge1xuICAgICAgICAgICAgdmFyIHdyYXBwZXIgPSBuZXcgTG9kYXNoV3JhcHBlcihbXSwgdHJ1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGluZGV4ID0gd3JhcHBlciA/IGluZGV4IDogbGVuZ3RoO1xuICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIGZ1bmMgPSBmdW5jc1tpbmRleF07XG5cbiAgICAgICAgICB2YXIgZnVuY05hbWUgPSBnZXRGdW5jTmFtZShmdW5jKSxcbiAgICAgICAgICAgICAgZGF0YSA9IGZ1bmNOYW1lID09ICd3cmFwcGVyJyA/IGdldERhdGEoZnVuYykgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgICBpZiAoZGF0YSAmJiBpc0xhemlhYmxlKGRhdGFbMF0pICYmXG4gICAgICAgICAgICAgICAgZGF0YVsxXSA9PSAoV1JBUF9BUllfRkxBRyB8IFdSQVBfQ1VSUllfRkxBRyB8IFdSQVBfUEFSVElBTF9GTEFHIHwgV1JBUF9SRUFSR19GTEFHKSAmJlxuICAgICAgICAgICAgICAgICFkYXRhWzRdLmxlbmd0aCAmJiBkYXRhWzldID09IDFcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICB3cmFwcGVyID0gd3JhcHBlcltnZXRGdW5jTmFtZShkYXRhWzBdKV0uYXBwbHkod3JhcHBlciwgZGF0YVszXSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHdyYXBwZXIgPSAoZnVuYy5sZW5ndGggPT0gMSAmJiBpc0xhemlhYmxlKGZ1bmMpKVxuICAgICAgICAgICAgICA/IHdyYXBwZXJbZnVuY05hbWVdKClcbiAgICAgICAgICAgICAgOiB3cmFwcGVyLnRocnUoZnVuYyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgICAgICAgdmFsdWUgPSBhcmdzWzBdO1xuXG4gICAgICAgICAgaWYgKHdyYXBwZXIgJiYgYXJncy5sZW5ndGggPT0gMSAmJiBpc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHdyYXBwZXIucGxhbnQodmFsdWUpLnZhbHVlKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBpbmRleCA9IDAsXG4gICAgICAgICAgICAgIHJlc3VsdCA9IGxlbmd0aCA/IGZ1bmNzW2luZGV4XS5hcHBseSh0aGlzLCBhcmdzKSA6IHZhbHVlO1xuXG4gICAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGZ1bmNzW2luZGV4XS5jYWxsKHRoaXMsIHJlc3VsdCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCB3cmFwcyBgZnVuY2AgdG8gaW52b2tlIGl0IHdpdGggb3B0aW9uYWwgYHRoaXNgXG4gICAgICogYmluZGluZyBvZiBgdGhpc0FyZ2AsIHBhcnRpYWwgYXBwbGljYXRpb24sIGFuZCBjdXJyeWluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxzdHJpbmd9IGZ1bmMgVGhlIGZ1bmN0aW9uIG9yIG1ldGhvZCBuYW1lIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgY3JlYXRlV3JhcGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwYXJ0aWFsc10gVGhlIGFyZ3VtZW50cyB0byBwcmVwZW5kIHRvIHRob3NlIHByb3ZpZGVkIHRvXG4gICAgICogIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2hvbGRlcnNdIFRoZSBgcGFydGlhbHNgIHBsYWNlaG9sZGVyIGluZGV4ZXMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3BhcnRpYWxzUmlnaHRdIFRoZSBhcmd1bWVudHMgdG8gYXBwZW5kIHRvIHRob3NlIHByb3ZpZGVkXG4gICAgICogIHRvIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2hvbGRlcnNSaWdodF0gVGhlIGBwYXJ0aWFsc1JpZ2h0YCBwbGFjZWhvbGRlciBpbmRleGVzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFthcmdQb3NdIFRoZSBhcmd1bWVudCBwb3NpdGlvbnMgb2YgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyeV0gVGhlIGFyaXR5IGNhcCBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcml0eV0gVGhlIGFyaXR5IG9mIGBmdW5jYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB3cmFwcGVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUh5YnJpZChmdW5jLCBiaXRtYXNrLCB0aGlzQXJnLCBwYXJ0aWFscywgaG9sZGVycywgcGFydGlhbHNSaWdodCwgaG9sZGVyc1JpZ2h0LCBhcmdQb3MsIGFyeSwgYXJpdHkpIHtcbiAgICAgIHZhciBpc0FyeSA9IGJpdG1hc2sgJiBXUkFQX0FSWV9GTEFHLFxuICAgICAgICAgIGlzQmluZCA9IGJpdG1hc2sgJiBXUkFQX0JJTkRfRkxBRyxcbiAgICAgICAgICBpc0JpbmRLZXkgPSBiaXRtYXNrICYgV1JBUF9CSU5EX0tFWV9GTEFHLFxuICAgICAgICAgIGlzQ3VycmllZCA9IGJpdG1hc2sgJiAoV1JBUF9DVVJSWV9GTEFHIHwgV1JBUF9DVVJSWV9SSUdIVF9GTEFHKSxcbiAgICAgICAgICBpc0ZsaXAgPSBiaXRtYXNrICYgV1JBUF9GTElQX0ZMQUcsXG4gICAgICAgICAgQ3RvciA9IGlzQmluZEtleSA/IHVuZGVmaW5lZCA6IGNyZWF0ZUN0b3IoZnVuYyk7XG5cbiAgICAgIGZ1bmN0aW9uIHdyYXBwZXIoKSB7XG4gICAgICAgIHZhciBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoLFxuICAgICAgICAgICAgYXJncyA9IEFycmF5KGxlbmd0aCksXG4gICAgICAgICAgICBpbmRleCA9IGxlbmd0aDtcblxuICAgICAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgICAgIGFyZ3NbaW5kZXhdID0gYXJndW1lbnRzW2luZGV4XTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNDdXJyaWVkKSB7XG4gICAgICAgICAgdmFyIHBsYWNlaG9sZGVyID0gZ2V0SG9sZGVyKHdyYXBwZXIpLFxuICAgICAgICAgICAgICBob2xkZXJzQ291bnQgPSBjb3VudEhvbGRlcnMoYXJncywgcGxhY2Vob2xkZXIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJ0aWFscykge1xuICAgICAgICAgIGFyZ3MgPSBjb21wb3NlQXJncyhhcmdzLCBwYXJ0aWFscywgaG9sZGVycywgaXNDdXJyaWVkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFydGlhbHNSaWdodCkge1xuICAgICAgICAgIGFyZ3MgPSBjb21wb3NlQXJnc1JpZ2h0KGFyZ3MsIHBhcnRpYWxzUmlnaHQsIGhvbGRlcnNSaWdodCwgaXNDdXJyaWVkKTtcbiAgICAgICAgfVxuICAgICAgICBsZW5ndGggLT0gaG9sZGVyc0NvdW50O1xuICAgICAgICBpZiAoaXNDdXJyaWVkICYmIGxlbmd0aCA8IGFyaXR5KSB7XG4gICAgICAgICAgdmFyIG5ld0hvbGRlcnMgPSByZXBsYWNlSG9sZGVycyhhcmdzLCBwbGFjZWhvbGRlcik7XG4gICAgICAgICAgcmV0dXJuIGNyZWF0ZVJlY3VycnkoXG4gICAgICAgICAgICBmdW5jLCBiaXRtYXNrLCBjcmVhdGVIeWJyaWQsIHdyYXBwZXIucGxhY2Vob2xkZXIsIHRoaXNBcmcsXG4gICAgICAgICAgICBhcmdzLCBuZXdIb2xkZXJzLCBhcmdQb3MsIGFyeSwgYXJpdHkgLSBsZW5ndGhcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0aGlzQmluZGluZyA9IGlzQmluZCA/IHRoaXNBcmcgOiB0aGlzLFxuICAgICAgICAgICAgZm4gPSBpc0JpbmRLZXkgPyB0aGlzQmluZGluZ1tmdW5jXSA6IGZ1bmM7XG5cbiAgICAgICAgbGVuZ3RoID0gYXJncy5sZW5ndGg7XG4gICAgICAgIGlmIChhcmdQb3MpIHtcbiAgICAgICAgICBhcmdzID0gcmVvcmRlcihhcmdzLCBhcmdQb3MpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzRmxpcCAmJiBsZW5ndGggPiAxKSB7XG4gICAgICAgICAgYXJncy5yZXZlcnNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQXJ5ICYmIGFyeSA8IGxlbmd0aCkge1xuICAgICAgICAgIGFyZ3MubGVuZ3RoID0gYXJ5O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzICYmIHRoaXMgIT09IHJvb3QgJiYgdGhpcyBpbnN0YW5jZW9mIHdyYXBwZXIpIHtcbiAgICAgICAgICBmbiA9IEN0b3IgfHwgY3JlYXRlQ3Rvcihmbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZuLmFwcGx5KHRoaXNCaW5kaW5nLCBhcmdzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB3cmFwcGVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLmludmVydEJ5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc2V0dGVyIFRoZSBmdW5jdGlvbiB0byBzZXQgYWNjdW11bGF0b3IgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHRvSXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIHRvIHJlc29sdmUgaXRlcmF0ZWVzLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGludmVydGVyIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUludmVydGVyKHNldHRlciwgdG9JdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VJbnZlcnRlcihvYmplY3QsIHNldHRlciwgdG9JdGVyYXRlZShpdGVyYXRlZSksIHt9KTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcGVyZm9ybXMgYSBtYXRoZW1hdGljYWwgb3BlcmF0aW9uIG9uIHR3byB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IG9wZXJhdG9yIFRoZSBmdW5jdGlvbiB0byBwZXJmb3JtIHRoZSBvcGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtkZWZhdWx0VmFsdWVdIFRoZSB2YWx1ZSB1c2VkIGZvciBgdW5kZWZpbmVkYCBhcmd1bWVudHMuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgbWF0aGVtYXRpY2FsIG9wZXJhdGlvbiBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVNYXRoT3BlcmF0aW9uKG9wZXJhdG9yLCBkZWZhdWx0VmFsdWUpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbih2YWx1ZSwgb3RoZXIpIHtcbiAgICAgICAgdmFyIHJlc3VsdDtcbiAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQgJiYgb3RoZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICByZXN1bHQgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3RoZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGlmIChyZXN1bHQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIG90aGVyO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnIHx8IHR5cGVvZiBvdGhlciA9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdmFsdWUgPSBiYXNlVG9TdHJpbmcodmFsdWUpO1xuICAgICAgICAgICAgb3RoZXIgPSBiYXNlVG9TdHJpbmcob3RoZXIpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YWx1ZSA9IGJhc2VUb051bWJlcih2YWx1ZSk7XG4gICAgICAgICAgICBvdGhlciA9IGJhc2VUb051bWJlcihvdGhlcik7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdCA9IG9wZXJhdG9yKHZhbHVlLCBvdGhlcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGxpa2UgYF8ub3ZlcmAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGFycmF5RnVuYyBUaGUgZnVuY3Rpb24gdG8gaXRlcmF0ZSBvdmVyIGl0ZXJhdGVlcy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBvdmVyIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZU92ZXIoYXJyYXlGdW5jKSB7XG4gICAgICByZXR1cm4gZmxhdFJlc3QoZnVuY3Rpb24oaXRlcmF0ZWVzKSB7XG4gICAgICAgIGl0ZXJhdGVlcyA9IGFycmF5TWFwKGl0ZXJhdGVlcywgYmFzZVVuYXJ5KGdldEl0ZXJhdGVlKCkpKTtcbiAgICAgICAgcmV0dXJuIGJhc2VSZXN0KGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgICB2YXIgdGhpc0FyZyA9IHRoaXM7XG4gICAgICAgICAgcmV0dXJuIGFycmF5RnVuYyhpdGVyYXRlZXMsIGZ1bmN0aW9uKGl0ZXJhdGVlKSB7XG4gICAgICAgICAgICByZXR1cm4gYXBwbHkoaXRlcmF0ZWUsIHRoaXNBcmcsIGFyZ3MpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgdGhlIHBhZGRpbmcgZm9yIGBzdHJpbmdgIGJhc2VkIG9uIGBsZW5ndGhgLiBUaGUgYGNoYXJzYCBzdHJpbmdcbiAgICAgKiBpcyB0cnVuY2F0ZWQgaWYgdGhlIG51bWJlciBvZiBjaGFyYWN0ZXJzIGV4Y2VlZHMgYGxlbmd0aGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBsZW5ndGggVGhlIHBhZGRpbmcgbGVuZ3RoLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcnM9JyAnXSBUaGUgc3RyaW5nIHVzZWQgYXMgcGFkZGluZy5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBwYWRkaW5nIGZvciBgc3RyaW5nYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVQYWRkaW5nKGxlbmd0aCwgY2hhcnMpIHtcbiAgICAgIGNoYXJzID0gY2hhcnMgPT09IHVuZGVmaW5lZCA/ICcgJyA6IGJhc2VUb1N0cmluZyhjaGFycyk7XG5cbiAgICAgIHZhciBjaGFyc0xlbmd0aCA9IGNoYXJzLmxlbmd0aDtcbiAgICAgIGlmIChjaGFyc0xlbmd0aCA8IDIpIHtcbiAgICAgICAgcmV0dXJuIGNoYXJzTGVuZ3RoID8gYmFzZVJlcGVhdChjaGFycywgbGVuZ3RoKSA6IGNoYXJzO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IGJhc2VSZXBlYXQoY2hhcnMsIG5hdGl2ZUNlaWwobGVuZ3RoIC8gc3RyaW5nU2l6ZShjaGFycykpKTtcbiAgICAgIHJldHVybiBoYXNVbmljb2RlKGNoYXJzKVxuICAgICAgICA/IGNhc3RTbGljZShzdHJpbmdUb0FycmF5KHJlc3VsdCksIDAsIGxlbmd0aCkuam9pbignJylcbiAgICAgICAgOiByZXN1bHQuc2xpY2UoMCwgbGVuZ3RoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCB3cmFwcyBgZnVuY2AgdG8gaW52b2tlIGl0IHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nXG4gICAgICogb2YgYHRoaXNBcmdgIGFuZCBgcGFydGlhbHNgIHByZXBlbmRlZCB0byB0aGUgYXJndW1lbnRzIGl0IHJlY2VpdmVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGNyZWF0ZVdyYXBgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHsqfSB0aGlzQXJnIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHtBcnJheX0gcGFydGlhbHMgVGhlIGFyZ3VtZW50cyB0byBwcmVwZW5kIHRvIHRob3NlIHByb3ZpZGVkIHRvXG4gICAgICogIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgd3JhcHBlZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVQYXJ0aWFsKGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcsIHBhcnRpYWxzKSB7XG4gICAgICB2YXIgaXNCaW5kID0gYml0bWFzayAmIFdSQVBfQklORF9GTEFHLFxuICAgICAgICAgIEN0b3IgPSBjcmVhdGVDdG9yKGZ1bmMpO1xuXG4gICAgICBmdW5jdGlvbiB3cmFwcGVyKCkge1xuICAgICAgICB2YXIgYXJnc0luZGV4ID0gLTEsXG4gICAgICAgICAgICBhcmdzTGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCxcbiAgICAgICAgICAgIGxlZnRJbmRleCA9IC0xLFxuICAgICAgICAgICAgbGVmdExlbmd0aCA9IHBhcnRpYWxzLmxlbmd0aCxcbiAgICAgICAgICAgIGFyZ3MgPSBBcnJheShsZWZ0TGVuZ3RoICsgYXJnc0xlbmd0aCksXG4gICAgICAgICAgICBmbiA9ICh0aGlzICYmIHRoaXMgIT09IHJvb3QgJiYgdGhpcyBpbnN0YW5jZW9mIHdyYXBwZXIpID8gQ3RvciA6IGZ1bmM7XG5cbiAgICAgICAgd2hpbGUgKCsrbGVmdEluZGV4IDwgbGVmdExlbmd0aCkge1xuICAgICAgICAgIGFyZ3NbbGVmdEluZGV4XSA9IHBhcnRpYWxzW2xlZnRJbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKGFyZ3NMZW5ndGgtLSkge1xuICAgICAgICAgIGFyZ3NbbGVmdEluZGV4KytdID0gYXJndW1lbnRzWysrYXJnc0luZGV4XTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXBwbHkoZm4sIGlzQmluZCA/IHRoaXNBcmcgOiB0aGlzLCBhcmdzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB3cmFwcGVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBgXy5yYW5nZWAgb3IgYF8ucmFuZ2VSaWdodGAgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHJhbmdlIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVJhbmdlKGZyb21SaWdodCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHN0YXJ0LCBlbmQsIHN0ZXApIHtcbiAgICAgICAgaWYgKHN0ZXAgJiYgdHlwZW9mIHN0ZXAgIT0gJ251bWJlcicgJiYgaXNJdGVyYXRlZUNhbGwoc3RhcnQsIGVuZCwgc3RlcCkpIHtcbiAgICAgICAgICBlbmQgPSBzdGVwID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIC8vIEVuc3VyZSB0aGUgc2lnbiBvZiBgLTBgIGlzIHByZXNlcnZlZC5cbiAgICAgICAgc3RhcnQgPSB0b0Zpbml0ZShzdGFydCk7XG4gICAgICAgIGlmIChlbmQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGVuZCA9IHN0YXJ0O1xuICAgICAgICAgIHN0YXJ0ID0gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlbmQgPSB0b0Zpbml0ZShlbmQpO1xuICAgICAgICB9XG4gICAgICAgIHN0ZXAgPSBzdGVwID09PSB1bmRlZmluZWQgPyAoc3RhcnQgPCBlbmQgPyAxIDogLTEpIDogdG9GaW5pdGUoc3RlcCk7XG4gICAgICAgIHJldHVybiBiYXNlUmFuZ2Uoc3RhcnQsIGVuZCwgc3RlcCwgZnJvbVJpZ2h0KTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcGVyZm9ybXMgYSByZWxhdGlvbmFsIG9wZXJhdGlvbiBvbiB0d28gdmFsdWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvcGVyYXRvciBUaGUgZnVuY3Rpb24gdG8gcGVyZm9ybSB0aGUgb3BlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHJlbGF0aW9uYWwgb3BlcmF0aW9uIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVJlbGF0aW9uYWxPcGVyYXRpb24ob3BlcmF0b3IpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbih2YWx1ZSwgb3RoZXIpIHtcbiAgICAgICAgaWYgKCEodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnICYmIHR5cGVvZiBvdGhlciA9PSAnc3RyaW5nJykpIHtcbiAgICAgICAgICB2YWx1ZSA9IHRvTnVtYmVyKHZhbHVlKTtcbiAgICAgICAgICBvdGhlciA9IHRvTnVtYmVyKG90aGVyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3BlcmF0b3IodmFsdWUsIG90aGVyKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgd3JhcHMgYGZ1bmNgIHRvIGNvbnRpbnVlIGN1cnJ5aW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGNyZWF0ZVdyYXBgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gd3JhcEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNyZWF0ZSB0aGUgYGZ1bmNgIHdyYXBwZXIuXG4gICAgICogQHBhcmFtIHsqfSBwbGFjZWhvbGRlciBUaGUgcGxhY2Vob2xkZXIgdmFsdWUuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcGFydGlhbHNdIFRoZSBhcmd1bWVudHMgdG8gcHJlcGVuZCB0byB0aG9zZSBwcm92aWRlZCB0b1xuICAgICAqICB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtob2xkZXJzXSBUaGUgYHBhcnRpYWxzYCBwbGFjZWhvbGRlciBpbmRleGVzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFthcmdQb3NdIFRoZSBhcmd1bWVudCBwb3NpdGlvbnMgb2YgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyeV0gVGhlIGFyaXR5IGNhcCBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcml0eV0gVGhlIGFyaXR5IG9mIGBmdW5jYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB3cmFwcGVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVJlY3VycnkoZnVuYywgYml0bWFzaywgd3JhcEZ1bmMsIHBsYWNlaG9sZGVyLCB0aGlzQXJnLCBwYXJ0aWFscywgaG9sZGVycywgYXJnUG9zLCBhcnksIGFyaXR5KSB7XG4gICAgICB2YXIgaXNDdXJyeSA9IGJpdG1hc2sgJiBXUkFQX0NVUlJZX0ZMQUcsXG4gICAgICAgICAgbmV3SG9sZGVycyA9IGlzQ3VycnkgPyBob2xkZXJzIDogdW5kZWZpbmVkLFxuICAgICAgICAgIG5ld0hvbGRlcnNSaWdodCA9IGlzQ3VycnkgPyB1bmRlZmluZWQgOiBob2xkZXJzLFxuICAgICAgICAgIG5ld1BhcnRpYWxzID0gaXNDdXJyeSA/IHBhcnRpYWxzIDogdW5kZWZpbmVkLFxuICAgICAgICAgIG5ld1BhcnRpYWxzUmlnaHQgPSBpc0N1cnJ5ID8gdW5kZWZpbmVkIDogcGFydGlhbHM7XG5cbiAgICAgIGJpdG1hc2sgfD0gKGlzQ3VycnkgPyBXUkFQX1BBUlRJQUxfRkxBRyA6IFdSQVBfUEFSVElBTF9SSUdIVF9GTEFHKTtcbiAgICAgIGJpdG1hc2sgJj0gfihpc0N1cnJ5ID8gV1JBUF9QQVJUSUFMX1JJR0hUX0ZMQUcgOiBXUkFQX1BBUlRJQUxfRkxBRyk7XG5cbiAgICAgIGlmICghKGJpdG1hc2sgJiBXUkFQX0NVUlJZX0JPVU5EX0ZMQUcpKSB7XG4gICAgICAgIGJpdG1hc2sgJj0gfihXUkFQX0JJTkRfRkxBRyB8IFdSQVBfQklORF9LRVlfRkxBRyk7XG4gICAgICB9XG4gICAgICB2YXIgbmV3RGF0YSA9IFtcbiAgICAgICAgZnVuYywgYml0bWFzaywgdGhpc0FyZywgbmV3UGFydGlhbHMsIG5ld0hvbGRlcnMsIG5ld1BhcnRpYWxzUmlnaHQsXG4gICAgICAgIG5ld0hvbGRlcnNSaWdodCwgYXJnUG9zLCBhcnksIGFyaXR5XG4gICAgICBdO1xuXG4gICAgICB2YXIgcmVzdWx0ID0gd3JhcEZ1bmMuYXBwbHkodW5kZWZpbmVkLCBuZXdEYXRhKTtcbiAgICAgIGlmIChpc0xhemlhYmxlKGZ1bmMpKSB7XG4gICAgICAgIHNldERhdGEocmVzdWx0LCBuZXdEYXRhKTtcbiAgICAgIH1cbiAgICAgIHJlc3VsdC5wbGFjZWhvbGRlciA9IHBsYWNlaG9sZGVyO1xuICAgICAgcmV0dXJuIHNldFdyYXBUb1N0cmluZyhyZXN1bHQsIGZ1bmMsIGJpdG1hc2spO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLnJvdW5kYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZE5hbWUgVGhlIG5hbWUgb2YgdGhlIGBNYXRoYCBtZXRob2QgdG8gdXNlIHdoZW4gcm91bmRpbmcuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcm91bmQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlUm91bmQobWV0aG9kTmFtZSkge1xuICAgICAgdmFyIGZ1bmMgPSBNYXRoW21ldGhvZE5hbWVdO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG51bWJlciwgcHJlY2lzaW9uKSB7XG4gICAgICAgIG51bWJlciA9IHRvTnVtYmVyKG51bWJlcik7XG4gICAgICAgIHByZWNpc2lvbiA9IHByZWNpc2lvbiA9PSBudWxsID8gMCA6IG5hdGl2ZU1pbih0b0ludGVnZXIocHJlY2lzaW9uKSwgMjkyKTtcbiAgICAgICAgaWYgKHByZWNpc2lvbiAmJiBuYXRpdmVJc0Zpbml0ZShudW1iZXIpKSB7XG4gICAgICAgICAgLy8gU2hpZnQgd2l0aCBleHBvbmVudGlhbCBub3RhdGlvbiB0byBhdm9pZCBmbG9hdGluZy1wb2ludCBpc3N1ZXMuXG4gICAgICAgICAgLy8gU2VlIFtNRE5dKGh0dHBzOi8vbWRuLmlvL3JvdW5kI0V4YW1wbGVzKSBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgICAgIHZhciBwYWlyID0gKHRvU3RyaW5nKG51bWJlcikgKyAnZScpLnNwbGl0KCdlJyksXG4gICAgICAgICAgICAgIHZhbHVlID0gZnVuYyhwYWlyWzBdICsgJ2UnICsgKCtwYWlyWzFdICsgcHJlY2lzaW9uKSk7XG5cbiAgICAgICAgICBwYWlyID0gKHRvU3RyaW5nKHZhbHVlKSArICdlJykuc3BsaXQoJ2UnKTtcbiAgICAgICAgICByZXR1cm4gKyhwYWlyWzBdICsgJ2UnICsgKCtwYWlyWzFdIC0gcHJlY2lzaW9uKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZ1bmMobnVtYmVyKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNldCBvYmplY3Qgb2YgYHZhbHVlc2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgdmFsdWVzIHRvIGFkZCB0byB0aGUgc2V0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBzZXQuXG4gICAgICovXG4gICAgdmFyIGNyZWF0ZVNldCA9ICEoU2V0ICYmICgxIC8gc2V0VG9BcnJheShuZXcgU2V0KFssLTBdKSlbMV0pID09IElORklOSVRZKSA/IG5vb3AgOiBmdW5jdGlvbih2YWx1ZXMpIHtcbiAgICAgIHJldHVybiBuZXcgU2V0KHZhbHVlcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBgXy50b1BhaXJzYCBvciBgXy50b1BhaXJzSW5gIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBrZXlzRnVuYyBUaGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBrZXlzIG9mIGEgZ2l2ZW4gb2JqZWN0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHBhaXJzIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVRvUGFpcnMoa2V5c0Z1bmMpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgdmFyIHRhZyA9IGdldFRhZyhvYmplY3QpO1xuICAgICAgICBpZiAodGFnID09IG1hcFRhZykge1xuICAgICAgICAgIHJldHVybiBtYXBUb0FycmF5KG9iamVjdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRhZyA9PSBzZXRUYWcpIHtcbiAgICAgICAgICByZXR1cm4gc2V0VG9QYWlycyhvYmplY3QpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBiYXNlVG9QYWlycyhvYmplY3QsIGtleXNGdW5jKG9iamVjdCkpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBlaXRoZXIgY3VycmllcyBvciBpbnZva2VzIGBmdW5jYCB3aXRoIG9wdGlvbmFsXG4gICAgICogYHRoaXNgIGJpbmRpbmcgYW5kIHBhcnRpYWxseSBhcHBsaWVkIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxzdHJpbmd9IGZ1bmMgVGhlIGZ1bmN0aW9uIG9yIG1ldGhvZCBuYW1lIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuXG4gICAgICogICAgMSAtIGBfLmJpbmRgXG4gICAgICogICAgMiAtIGBfLmJpbmRLZXlgXG4gICAgICogICAgNCAtIGBfLmN1cnJ5YCBvciBgXy5jdXJyeVJpZ2h0YCBvZiBhIGJvdW5kIGZ1bmN0aW9uXG4gICAgICogICAgOCAtIGBfLmN1cnJ5YFxuICAgICAqICAgMTYgLSBgXy5jdXJyeVJpZ2h0YFxuICAgICAqICAgMzIgLSBgXy5wYXJ0aWFsYFxuICAgICAqICAgNjQgLSBgXy5wYXJ0aWFsUmlnaHRgXG4gICAgICogIDEyOCAtIGBfLnJlYXJnYFxuICAgICAqICAyNTYgLSBgXy5hcnlgXG4gICAgICogIDUxMiAtIGBfLmZsaXBgXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcGFydGlhbHNdIFRoZSBhcmd1bWVudHMgdG8gYmUgcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2hvbGRlcnNdIFRoZSBgcGFydGlhbHNgIHBsYWNlaG9sZGVyIGluZGV4ZXMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2FyZ1Bvc10gVGhlIGFyZ3VtZW50IHBvc2l0aW9ucyBvZiB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJ5XSBUaGUgYXJpdHkgY2FwIG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyaXR5XSBUaGUgYXJpdHkgb2YgYGZ1bmNgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHdyYXBwZWQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlV3JhcChmdW5jLCBiaXRtYXNrLCB0aGlzQXJnLCBwYXJ0aWFscywgaG9sZGVycywgYXJnUG9zLCBhcnksIGFyaXR5KSB7XG4gICAgICB2YXIgaXNCaW5kS2V5ID0gYml0bWFzayAmIFdSQVBfQklORF9LRVlfRkxBRztcbiAgICAgIGlmICghaXNCaW5kS2V5ICYmIHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgdmFyIGxlbmd0aCA9IHBhcnRpYWxzID8gcGFydGlhbHMubGVuZ3RoIDogMDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIGJpdG1hc2sgJj0gfihXUkFQX1BBUlRJQUxfRkxBRyB8IFdSQVBfUEFSVElBTF9SSUdIVF9GTEFHKTtcbiAgICAgICAgcGFydGlhbHMgPSBob2xkZXJzID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgYXJ5ID0gYXJ5ID09PSB1bmRlZmluZWQgPyBhcnkgOiBuYXRpdmVNYXgodG9JbnRlZ2VyKGFyeSksIDApO1xuICAgICAgYXJpdHkgPSBhcml0eSA9PT0gdW5kZWZpbmVkID8gYXJpdHkgOiB0b0ludGVnZXIoYXJpdHkpO1xuICAgICAgbGVuZ3RoIC09IGhvbGRlcnMgPyBob2xkZXJzLmxlbmd0aCA6IDA7XG5cbiAgICAgIGlmIChiaXRtYXNrICYgV1JBUF9QQVJUSUFMX1JJR0hUX0ZMQUcpIHtcbiAgICAgICAgdmFyIHBhcnRpYWxzUmlnaHQgPSBwYXJ0aWFscyxcbiAgICAgICAgICAgIGhvbGRlcnNSaWdodCA9IGhvbGRlcnM7XG5cbiAgICAgICAgcGFydGlhbHMgPSBob2xkZXJzID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgdmFyIGRhdGEgPSBpc0JpbmRLZXkgPyB1bmRlZmluZWQgOiBnZXREYXRhKGZ1bmMpO1xuXG4gICAgICB2YXIgbmV3RGF0YSA9IFtcbiAgICAgICAgZnVuYywgYml0bWFzaywgdGhpc0FyZywgcGFydGlhbHMsIGhvbGRlcnMsIHBhcnRpYWxzUmlnaHQsIGhvbGRlcnNSaWdodCxcbiAgICAgICAgYXJnUG9zLCBhcnksIGFyaXR5XG4gICAgICBdO1xuXG4gICAgICBpZiAoZGF0YSkge1xuICAgICAgICBtZXJnZURhdGEobmV3RGF0YSwgZGF0YSk7XG4gICAgICB9XG4gICAgICBmdW5jID0gbmV3RGF0YVswXTtcbiAgICAgIGJpdG1hc2sgPSBuZXdEYXRhWzFdO1xuICAgICAgdGhpc0FyZyA9IG5ld0RhdGFbMl07XG4gICAgICBwYXJ0aWFscyA9IG5ld0RhdGFbM107XG4gICAgICBob2xkZXJzID0gbmV3RGF0YVs0XTtcbiAgICAgIGFyaXR5ID0gbmV3RGF0YVs5XSA9IG5ld0RhdGFbOV0gPT09IHVuZGVmaW5lZFxuICAgICAgICA/IChpc0JpbmRLZXkgPyAwIDogZnVuYy5sZW5ndGgpXG4gICAgICAgIDogbmF0aXZlTWF4KG5ld0RhdGFbOV0gLSBsZW5ndGgsIDApO1xuXG4gICAgICBpZiAoIWFyaXR5ICYmIGJpdG1hc2sgJiAoV1JBUF9DVVJSWV9GTEFHIHwgV1JBUF9DVVJSWV9SSUdIVF9GTEFHKSkge1xuICAgICAgICBiaXRtYXNrICY9IH4oV1JBUF9DVVJSWV9GTEFHIHwgV1JBUF9DVVJSWV9SSUdIVF9GTEFHKTtcbiAgICAgIH1cbiAgICAgIGlmICghYml0bWFzayB8fCBiaXRtYXNrID09IFdSQVBfQklORF9GTEFHKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBjcmVhdGVCaW5kKGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcpO1xuICAgICAgfSBlbHNlIGlmIChiaXRtYXNrID09IFdSQVBfQ1VSUllfRkxBRyB8fCBiaXRtYXNrID09IFdSQVBfQ1VSUllfUklHSFRfRkxBRykge1xuICAgICAgICByZXN1bHQgPSBjcmVhdGVDdXJyeShmdW5jLCBiaXRtYXNrLCBhcml0eSk7XG4gICAgICB9IGVsc2UgaWYgKChiaXRtYXNrID09IFdSQVBfUEFSVElBTF9GTEFHIHx8IGJpdG1hc2sgPT0gKFdSQVBfQklORF9GTEFHIHwgV1JBUF9QQVJUSUFMX0ZMQUcpKSAmJiAhaG9sZGVycy5sZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0ID0gY3JlYXRlUGFydGlhbChmdW5jLCBiaXRtYXNrLCB0aGlzQXJnLCBwYXJ0aWFscyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHQgPSBjcmVhdGVIeWJyaWQuYXBwbHkodW5kZWZpbmVkLCBuZXdEYXRhKTtcbiAgICAgIH1cbiAgICAgIHZhciBzZXR0ZXIgPSBkYXRhID8gYmFzZVNldERhdGEgOiBzZXREYXRhO1xuICAgICAgcmV0dXJuIHNldFdyYXBUb1N0cmluZyhzZXR0ZXIocmVzdWx0LCBuZXdEYXRhKSwgZnVuYywgYml0bWFzayk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXNlZCBieSBgXy5kZWZhdWx0c2AgdG8gY3VzdG9taXplIGl0cyBgXy5hc3NpZ25JbmAgdXNlIHRvIGFzc2lnbiBwcm9wZXJ0aWVzXG4gICAgICogb2Ygc291cmNlIG9iamVjdHMgdG8gdGhlIGRlc3RpbmF0aW9uIG9iamVjdCBmb3IgYWxsIGRlc3RpbmF0aW9uIHByb3BlcnRpZXNcbiAgICAgKiB0aGF0IHJlc29sdmUgdG8gYHVuZGVmaW5lZGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gb2JqVmFsdWUgVGhlIGRlc3RpbmF0aW9uIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7Kn0gc3JjVmFsdWUgVGhlIHNvdXJjZSB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGFzc2lnbi5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBwYXJlbnQgb2JqZWN0IG9mIGBvYmpWYWx1ZWAuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHZhbHVlIHRvIGFzc2lnbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjdXN0b21EZWZhdWx0c0Fzc2lnbkluKG9ialZhbHVlLCBzcmNWYWx1ZSwga2V5LCBvYmplY3QpIHtcbiAgICAgIGlmIChvYmpWYWx1ZSA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgKGVxKG9ialZhbHVlLCBvYmplY3RQcm90b1trZXldKSAmJiAhaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkpKSB7XG4gICAgICAgIHJldHVybiBzcmNWYWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmpWYWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVc2VkIGJ5IGBfLmRlZmF1bHRzRGVlcGAgdG8gY3VzdG9taXplIGl0cyBgXy5tZXJnZWAgdXNlIHRvIG1lcmdlIHNvdXJjZVxuICAgICAqIG9iamVjdHMgaW50byBkZXN0aW5hdGlvbiBvYmplY3RzIHRoYXQgYXJlIHBhc3NlZCB0aHJ1LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IG9ialZhbHVlIFRoZSBkZXN0aW5hdGlvbiB2YWx1ZS5cbiAgICAgKiBAcGFyYW0geyp9IHNyY1ZhbHVlIFRoZSBzb3VyY2UgdmFsdWUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBtZXJnZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBwYXJlbnQgb2JqZWN0IG9mIGBvYmpWYWx1ZWAuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgcGFyZW50IG9iamVjdCBvZiBgc3JjVmFsdWVgLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgc291cmNlIHZhbHVlcyBhbmQgdGhlaXIgbWVyZ2VkXG4gICAgICogIGNvdW50ZXJwYXJ0cy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgdmFsdWUgdG8gYXNzaWduLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGN1c3RvbURlZmF1bHRzTWVyZ2Uob2JqVmFsdWUsIHNyY1ZhbHVlLCBrZXksIG9iamVjdCwgc291cmNlLCBzdGFjaykge1xuICAgICAgaWYgKGlzT2JqZWN0KG9ialZhbHVlKSAmJiBpc09iamVjdChzcmNWYWx1ZSkpIHtcbiAgICAgICAgLy8gUmVjdXJzaXZlbHkgbWVyZ2Ugb2JqZWN0cyBhbmQgYXJyYXlzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgIHN0YWNrLnNldChzcmNWYWx1ZSwgb2JqVmFsdWUpO1xuICAgICAgICBiYXNlTWVyZ2Uob2JqVmFsdWUsIHNyY1ZhbHVlLCB1bmRlZmluZWQsIGN1c3RvbURlZmF1bHRzTWVyZ2UsIHN0YWNrKTtcbiAgICAgICAgc3RhY2tbJ2RlbGV0ZSddKHNyY1ZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmpWYWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVc2VkIGJ5IGBfLm9taXRgIHRvIGN1c3RvbWl6ZSBpdHMgYF8uY2xvbmVEZWVwYCB1c2UgdG8gb25seSBjbG9uZSBwbGFpblxuICAgICAqIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSB1bmNsb25lZCB2YWx1ZSBvciBgdW5kZWZpbmVkYCB0byBkZWZlciBjbG9uaW5nIHRvIGBfLmNsb25lRGVlcGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3VzdG9tT21pdENsb25lKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNQbGFpbk9iamVjdCh2YWx1ZSkgPyB1bmRlZmluZWQgOiB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VJc0VxdWFsRGVlcGAgZm9yIGFycmF5cyB3aXRoIHN1cHBvcnQgZm9yXG4gICAgICogcGFydGlhbCBkZWVwIGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBvdGhlciBUaGUgb3RoZXIgYXJyYXkgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBiYXNlSXNFcXVhbGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZXF1YWxGdW5jIFRoZSBmdW5jdGlvbiB0byBkZXRlcm1pbmUgZXF1aXZhbGVudHMgb2YgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzdGFjayBUcmFja3MgdHJhdmVyc2VkIGBhcnJheWAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGFycmF5cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVxdWFsQXJyYXlzKGFycmF5LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaykge1xuICAgICAgdmFyIGlzUGFydGlhbCA9IGJpdG1hc2sgJiBDT01QQVJFX1BBUlRJQUxfRkxBRyxcbiAgICAgICAgICBhcnJMZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgb3RoTGVuZ3RoID0gb3RoZXIubGVuZ3RoO1xuXG4gICAgICBpZiAoYXJyTGVuZ3RoICE9IG90aExlbmd0aCAmJiAhKGlzUGFydGlhbCAmJiBvdGhMZW5ndGggPiBhcnJMZW5ndGgpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIC8vIENoZWNrIHRoYXQgY3ljbGljIHZhbHVlcyBhcmUgZXF1YWwuXG4gICAgICB2YXIgYXJyU3RhY2tlZCA9IHN0YWNrLmdldChhcnJheSk7XG4gICAgICB2YXIgb3RoU3RhY2tlZCA9IHN0YWNrLmdldChvdGhlcik7XG4gICAgICBpZiAoYXJyU3RhY2tlZCAmJiBvdGhTdGFja2VkKSB7XG4gICAgICAgIHJldHVybiBhcnJTdGFja2VkID09IG90aGVyICYmIG90aFN0YWNrZWQgPT0gYXJyYXk7XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICByZXN1bHQgPSB0cnVlLFxuICAgICAgICAgIHNlZW4gPSAoYml0bWFzayAmIENPTVBBUkVfVU5PUkRFUkVEX0ZMQUcpID8gbmV3IFNldENhY2hlIDogdW5kZWZpbmVkO1xuXG4gICAgICBzdGFjay5zZXQoYXJyYXksIG90aGVyKTtcbiAgICAgIHN0YWNrLnNldChvdGhlciwgYXJyYXkpO1xuXG4gICAgICAvLyBJZ25vcmUgbm9uLWluZGV4IHByb3BlcnRpZXMuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGFyckxlbmd0aCkge1xuICAgICAgICB2YXIgYXJyVmFsdWUgPSBhcnJheVtpbmRleF0sXG4gICAgICAgICAgICBvdGhWYWx1ZSA9IG90aGVyW2luZGV4XTtcblxuICAgICAgICBpZiAoY3VzdG9taXplcikge1xuICAgICAgICAgIHZhciBjb21wYXJlZCA9IGlzUGFydGlhbFxuICAgICAgICAgICAgPyBjdXN0b21pemVyKG90aFZhbHVlLCBhcnJWYWx1ZSwgaW5kZXgsIG90aGVyLCBhcnJheSwgc3RhY2spXG4gICAgICAgICAgICA6IGN1c3RvbWl6ZXIoYXJyVmFsdWUsIG90aFZhbHVlLCBpbmRleCwgYXJyYXksIG90aGVyLCBzdGFjayk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbXBhcmVkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBpZiAoY29tcGFyZWQpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICAvLyBSZWN1cnNpdmVseSBjb21wYXJlIGFycmF5cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgICAgICBpZiAoc2Vlbikge1xuICAgICAgICAgIGlmICghYXJyYXlTb21lKG90aGVyLCBmdW5jdGlvbihvdGhWYWx1ZSwgb3RoSW5kZXgpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWNhY2hlSGFzKHNlZW4sIG90aEluZGV4KSAmJlxuICAgICAgICAgICAgICAgICAgICAoYXJyVmFsdWUgPT09IG90aFZhbHVlIHx8IGVxdWFsRnVuYyhhcnJWYWx1ZSwgb3RoVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKSkpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBzZWVuLnB1c2gob3RoSW5kZXgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSkpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKCEoXG4gICAgICAgICAgICAgIGFyclZhbHVlID09PSBvdGhWYWx1ZSB8fFxuICAgICAgICAgICAgICAgIGVxdWFsRnVuYyhhcnJWYWx1ZSwgb3RoVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKVxuICAgICAgICAgICAgKSkge1xuICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBzdGFja1snZGVsZXRlJ10oYXJyYXkpO1xuICAgICAgc3RhY2tbJ2RlbGV0ZSddKG90aGVyKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlSXNFcXVhbERlZXBgIGZvciBjb21wYXJpbmcgb2JqZWN0cyBvZlxuICAgICAqIHRoZSBzYW1lIGB0b1N0cmluZ1RhZ2AuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBmdW5jdGlvbiBvbmx5IHN1cHBvcnRzIGNvbXBhcmluZyB2YWx1ZXMgd2l0aCB0YWdzIG9mXG4gICAgICogYEJvb2xlYW5gLCBgRGF0ZWAsIGBFcnJvcmAsIGBOdW1iZXJgLCBgUmVnRXhwYCwgb3IgYFN0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvdGhlciBUaGUgb3RoZXIgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRhZyBUaGUgYHRvU3RyaW5nVGFnYCBvZiB0aGUgb2JqZWN0cyB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGJhc2VJc0VxdWFsYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcXVhbEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRldGVybWluZSBlcXVpdmFsZW50cyBvZiB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHN0YWNrIFRyYWNrcyB0cmF2ZXJzZWQgYG9iamVjdGAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG9iamVjdHMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlcXVhbEJ5VGFnKG9iamVjdCwgb3RoZXIsIHRhZywgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaykge1xuICAgICAgc3dpdGNoICh0YWcpIHtcbiAgICAgICAgY2FzZSBkYXRhVmlld1RhZzpcbiAgICAgICAgICBpZiAoKG9iamVjdC5ieXRlTGVuZ3RoICE9IG90aGVyLmJ5dGVMZW5ndGgpIHx8XG4gICAgICAgICAgICAgIChvYmplY3QuYnl0ZU9mZnNldCAhPSBvdGhlci5ieXRlT2Zmc2V0KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvYmplY3QgPSBvYmplY3QuYnVmZmVyO1xuICAgICAgICAgIG90aGVyID0gb3RoZXIuYnVmZmVyO1xuXG4gICAgICAgIGNhc2UgYXJyYXlCdWZmZXJUYWc6XG4gICAgICAgICAgaWYgKChvYmplY3QuYnl0ZUxlbmd0aCAhPSBvdGhlci5ieXRlTGVuZ3RoKSB8fFxuICAgICAgICAgICAgICAhZXF1YWxGdW5jKG5ldyBVaW50OEFycmF5KG9iamVjdCksIG5ldyBVaW50OEFycmF5KG90aGVyKSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICAgICAgY2FzZSBib29sVGFnOlxuICAgICAgICBjYXNlIGRhdGVUYWc6XG4gICAgICAgIGNhc2UgbnVtYmVyVGFnOlxuICAgICAgICAgIC8vIENvZXJjZSBib29sZWFucyB0byBgMWAgb3IgYDBgIGFuZCBkYXRlcyB0byBtaWxsaXNlY29uZHMuXG4gICAgICAgICAgLy8gSW52YWxpZCBkYXRlcyBhcmUgY29lcmNlZCB0byBgTmFOYC5cbiAgICAgICAgICByZXR1cm4gZXEoK29iamVjdCwgK290aGVyKTtcblxuICAgICAgICBjYXNlIGVycm9yVGFnOlxuICAgICAgICAgIHJldHVybiBvYmplY3QubmFtZSA9PSBvdGhlci5uYW1lICYmIG9iamVjdC5tZXNzYWdlID09IG90aGVyLm1lc3NhZ2U7XG5cbiAgICAgICAgY2FzZSByZWdleHBUYWc6XG4gICAgICAgIGNhc2Ugc3RyaW5nVGFnOlxuICAgICAgICAgIC8vIENvZXJjZSByZWdleGVzIHRvIHN0cmluZ3MgYW5kIHRyZWF0IHN0cmluZ3MsIHByaW1pdGl2ZXMgYW5kIG9iamVjdHMsXG4gICAgICAgICAgLy8gYXMgZXF1YWwuIFNlZSBodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtcmVnZXhwLnByb3RvdHlwZS50b3N0cmluZ1xuICAgICAgICAgIC8vIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICAgICAgcmV0dXJuIG9iamVjdCA9PSAob3RoZXIgKyAnJyk7XG5cbiAgICAgICAgY2FzZSBtYXBUYWc6XG4gICAgICAgICAgdmFyIGNvbnZlcnQgPSBtYXBUb0FycmF5O1xuXG4gICAgICAgIGNhc2Ugc2V0VGFnOlxuICAgICAgICAgIHZhciBpc1BhcnRpYWwgPSBiaXRtYXNrICYgQ09NUEFSRV9QQVJUSUFMX0ZMQUc7XG4gICAgICAgICAgY29udmVydCB8fCAoY29udmVydCA9IHNldFRvQXJyYXkpO1xuXG4gICAgICAgICAgaWYgKG9iamVjdC5zaXplICE9IG90aGVyLnNpemUgJiYgIWlzUGFydGlhbCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBBc3N1bWUgY3ljbGljIHZhbHVlcyBhcmUgZXF1YWwuXG4gICAgICAgICAgdmFyIHN0YWNrZWQgPSBzdGFjay5nZXQob2JqZWN0KTtcbiAgICAgICAgICBpZiAoc3RhY2tlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHN0YWNrZWQgPT0gb3RoZXI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJpdG1hc2sgfD0gQ09NUEFSRV9VTk9SREVSRURfRkxBRztcblxuICAgICAgICAgIC8vIFJlY3Vyc2l2ZWx5IGNvbXBhcmUgb2JqZWN0cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgICAgICAgIHN0YWNrLnNldChvYmplY3QsIG90aGVyKTtcbiAgICAgICAgICB2YXIgcmVzdWx0ID0gZXF1YWxBcnJheXMoY29udmVydChvYmplY3QpLCBjb252ZXJ0KG90aGVyKSwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjayk7XG4gICAgICAgICAgc3RhY2tbJ2RlbGV0ZSddKG9iamVjdCk7XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdDtcblxuICAgICAgICBjYXNlIHN5bWJvbFRhZzpcbiAgICAgICAgICBpZiAoc3ltYm9sVmFsdWVPZikge1xuICAgICAgICAgICAgcmV0dXJuIHN5bWJvbFZhbHVlT2YuY2FsbChvYmplY3QpID09IHN5bWJvbFZhbHVlT2YuY2FsbChvdGhlcik7XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxEZWVwYCBmb3Igb2JqZWN0cyB3aXRoIHN1cHBvcnQgZm9yXG4gICAgICogcGFydGlhbCBkZWVwIGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3RoZXIgVGhlIG90aGVyIG9iamVjdCB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGJhc2VJc0VxdWFsYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcXVhbEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRldGVybWluZSBlcXVpdmFsZW50cyBvZiB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHN0YWNrIFRyYWNrcyB0cmF2ZXJzZWQgYG9iamVjdGAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG9iamVjdHMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlcXVhbE9iamVjdHMob2JqZWN0LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaykge1xuICAgICAgdmFyIGlzUGFydGlhbCA9IGJpdG1hc2sgJiBDT01QQVJFX1BBUlRJQUxfRkxBRyxcbiAgICAgICAgICBvYmpQcm9wcyA9IGdldEFsbEtleXMob2JqZWN0KSxcbiAgICAgICAgICBvYmpMZW5ndGggPSBvYmpQcm9wcy5sZW5ndGgsXG4gICAgICAgICAgb3RoUHJvcHMgPSBnZXRBbGxLZXlzKG90aGVyKSxcbiAgICAgICAgICBvdGhMZW5ndGggPSBvdGhQcm9wcy5sZW5ndGg7XG5cbiAgICAgIGlmIChvYmpMZW5ndGggIT0gb3RoTGVuZ3RoICYmICFpc1BhcnRpYWwpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gb2JqTGVuZ3RoO1xuICAgICAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICAgICAgdmFyIGtleSA9IG9ialByb3BzW2luZGV4XTtcbiAgICAgICAgaWYgKCEoaXNQYXJ0aWFsID8ga2V5IGluIG90aGVyIDogaGFzT3duUHJvcGVydHkuY2FsbChvdGhlciwga2V5KSkpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIENoZWNrIHRoYXQgY3ljbGljIHZhbHVlcyBhcmUgZXF1YWwuXG4gICAgICB2YXIgb2JqU3RhY2tlZCA9IHN0YWNrLmdldChvYmplY3QpO1xuICAgICAgdmFyIG90aFN0YWNrZWQgPSBzdGFjay5nZXQob3RoZXIpO1xuICAgICAgaWYgKG9ialN0YWNrZWQgJiYgb3RoU3RhY2tlZCkge1xuICAgICAgICByZXR1cm4gb2JqU3RhY2tlZCA9PSBvdGhlciAmJiBvdGhTdGFja2VkID09IG9iamVjdDtcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSB0cnVlO1xuICAgICAgc3RhY2suc2V0KG9iamVjdCwgb3RoZXIpO1xuICAgICAgc3RhY2suc2V0KG90aGVyLCBvYmplY3QpO1xuXG4gICAgICB2YXIgc2tpcEN0b3IgPSBpc1BhcnRpYWw7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IG9iakxlbmd0aCkge1xuICAgICAgICBrZXkgPSBvYmpQcm9wc1tpbmRleF07XG4gICAgICAgIHZhciBvYmpWYWx1ZSA9IG9iamVjdFtrZXldLFxuICAgICAgICAgICAgb3RoVmFsdWUgPSBvdGhlcltrZXldO1xuXG4gICAgICAgIGlmIChjdXN0b21pemVyKSB7XG4gICAgICAgICAgdmFyIGNvbXBhcmVkID0gaXNQYXJ0aWFsXG4gICAgICAgICAgICA/IGN1c3RvbWl6ZXIob3RoVmFsdWUsIG9ialZhbHVlLCBrZXksIG90aGVyLCBvYmplY3QsIHN0YWNrKVxuICAgICAgICAgICAgOiBjdXN0b21pemVyKG9ialZhbHVlLCBvdGhWYWx1ZSwga2V5LCBvYmplY3QsIG90aGVyLCBzdGFjayk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVjdXJzaXZlbHkgY29tcGFyZSBvYmplY3RzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgIGlmICghKGNvbXBhcmVkID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgPyAob2JqVmFsdWUgPT09IG90aFZhbHVlIHx8IGVxdWFsRnVuYyhvYmpWYWx1ZSwgb3RoVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKSlcbiAgICAgICAgICAgICAgOiBjb21wYXJlZFxuICAgICAgICAgICAgKSkge1xuICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHNraXBDdG9yIHx8IChza2lwQ3RvciA9IGtleSA9PSAnY29uc3RydWN0b3InKTtcbiAgICAgIH1cbiAgICAgIGlmIChyZXN1bHQgJiYgIXNraXBDdG9yKSB7XG4gICAgICAgIHZhciBvYmpDdG9yID0gb2JqZWN0LmNvbnN0cnVjdG9yLFxuICAgICAgICAgICAgb3RoQ3RvciA9IG90aGVyLmNvbnN0cnVjdG9yO1xuXG4gICAgICAgIC8vIE5vbiBgT2JqZWN0YCBvYmplY3QgaW5zdGFuY2VzIHdpdGggZGlmZmVyZW50IGNvbnN0cnVjdG9ycyBhcmUgbm90IGVxdWFsLlxuICAgICAgICBpZiAob2JqQ3RvciAhPSBvdGhDdG9yICYmXG4gICAgICAgICAgICAoJ2NvbnN0cnVjdG9yJyBpbiBvYmplY3QgJiYgJ2NvbnN0cnVjdG9yJyBpbiBvdGhlcikgJiZcbiAgICAgICAgICAgICEodHlwZW9mIG9iakN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBvYmpDdG9yIGluc3RhbmNlb2Ygb2JqQ3RvciAmJlxuICAgICAgICAgICAgICB0eXBlb2Ygb3RoQ3RvciA9PSAnZnVuY3Rpb24nICYmIG90aEN0b3IgaW5zdGFuY2VvZiBvdGhDdG9yKSkge1xuICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBzdGFja1snZGVsZXRlJ10ob2JqZWN0KTtcbiAgICAgIHN0YWNrWydkZWxldGUnXShvdGhlcik7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZVJlc3RgIHdoaWNoIGZsYXR0ZW5zIHRoZSByZXN0IGFycmF5LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhcHBseSBhIHJlc3QgcGFyYW1ldGVyIHRvLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsYXRSZXN0KGZ1bmMpIHtcbiAgICAgIHJldHVybiBzZXRUb1N0cmluZyhvdmVyUmVzdChmdW5jLCB1bmRlZmluZWQsIGZsYXR0ZW4pLCBmdW5jICsgJycpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2Ygb3duIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgYW5kIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzIGFuZCBzeW1ib2xzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldEFsbEtleXMob2JqZWN0KSB7XG4gICAgICByZXR1cm4gYmFzZUdldEFsbEtleXMob2JqZWN0LCBrZXlzLCBnZXRTeW1ib2xzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgYW5kXG4gICAgICogc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMgYW5kIHN5bWJvbHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0QWxsS2V5c0luKG9iamVjdCkge1xuICAgICAgcmV0dXJuIGJhc2VHZXRBbGxLZXlzKG9iamVjdCwga2V5c0luLCBnZXRTeW1ib2xzSW4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgbWV0YWRhdGEgZm9yIGBmdW5jYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1ldGFkYXRhIGZvciBgZnVuY2AuXG4gICAgICovXG4gICAgdmFyIGdldERhdGEgPSAhbWV0YU1hcCA/IG5vb3AgOiBmdW5jdGlvbihmdW5jKSB7XG4gICAgICByZXR1cm4gbWV0YU1hcC5nZXQoZnVuYyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIG5hbWUgb2YgYGZ1bmNgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBmdW5jdGlvbiBuYW1lLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldEZ1bmNOYW1lKGZ1bmMpIHtcbiAgICAgIHZhciByZXN1bHQgPSAoZnVuYy5uYW1lICsgJycpLFxuICAgICAgICAgIGFycmF5ID0gcmVhbE5hbWVzW3Jlc3VsdF0sXG4gICAgICAgICAgbGVuZ3RoID0gaGFzT3duUHJvcGVydHkuY2FsbChyZWFsTmFtZXMsIHJlc3VsdCkgPyBhcnJheS5sZW5ndGggOiAwO1xuXG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgdmFyIGRhdGEgPSBhcnJheVtsZW5ndGhdLFxuICAgICAgICAgICAgb3RoZXJGdW5jID0gZGF0YS5mdW5jO1xuICAgICAgICBpZiAob3RoZXJGdW5jID09IG51bGwgfHwgb3RoZXJGdW5jID09IGZ1bmMpIHtcbiAgICAgICAgICByZXR1cm4gZGF0YS5uYW1lO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGFyZ3VtZW50IHBsYWNlaG9sZGVyIHZhbHVlIGZvciBgZnVuY2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHBsYWNlaG9sZGVyIHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldEhvbGRlcihmdW5jKSB7XG4gICAgICB2YXIgb2JqZWN0ID0gaGFzT3duUHJvcGVydHkuY2FsbChsb2Rhc2gsICdwbGFjZWhvbGRlcicpID8gbG9kYXNoIDogZnVuYztcbiAgICAgIHJldHVybiBvYmplY3QucGxhY2Vob2xkZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgYXBwcm9wcmlhdGUgXCJpdGVyYXRlZVwiIGZ1bmN0aW9uLiBJZiBgXy5pdGVyYXRlZWAgaXMgY3VzdG9taXplZCxcbiAgICAgKiB0aGlzIGZ1bmN0aW9uIHJldHVybnMgdGhlIGN1c3RvbSBtZXRob2QsIG90aGVyd2lzZSBpdCByZXR1cm5zIGBiYXNlSXRlcmF0ZWVgLlxuICAgICAqIElmIGFyZ3VtZW50cyBhcmUgcHJvdmlkZWQsIHRoZSBjaG9zZW4gZnVuY3Rpb24gaXMgaW52b2tlZCB3aXRoIHRoZW0gYW5kXG4gICAgICogaXRzIHJlc3VsdCBpcyByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSBbdmFsdWVdIFRoZSB2YWx1ZSB0byBjb252ZXJ0IHRvIGFuIGl0ZXJhdGVlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJpdHldIFRoZSBhcml0eSBvZiB0aGUgY3JlYXRlZCBpdGVyYXRlZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIGNob3NlbiBmdW5jdGlvbiBvciBpdHMgcmVzdWx0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldEl0ZXJhdGVlKCkge1xuICAgICAgdmFyIHJlc3VsdCA9IGxvZGFzaC5pdGVyYXRlZSB8fCBpdGVyYXRlZTtcbiAgICAgIHJlc3VsdCA9IHJlc3VsdCA9PT0gaXRlcmF0ZWUgPyBiYXNlSXRlcmF0ZWUgOiByZXN1bHQ7XG4gICAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IHJlc3VsdChhcmd1bWVudHNbMF0sIGFyZ3VtZW50c1sxXSkgOiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgZGF0YSBmb3IgYG1hcGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBtYXAgVGhlIG1hcCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSByZWZlcmVuY2Uga2V5LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBtYXAgZGF0YS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRNYXBEYXRhKG1hcCwga2V5KSB7XG4gICAgICB2YXIgZGF0YSA9IG1hcC5fX2RhdGFfXztcbiAgICAgIHJldHVybiBpc0tleWFibGUoa2V5KVxuICAgICAgICA/IGRhdGFbdHlwZW9mIGtleSA9PSAnc3RyaW5nJyA/ICdzdHJpbmcnIDogJ2hhc2gnXVxuICAgICAgICA6IGRhdGEubWFwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHByb3BlcnR5IG5hbWVzLCB2YWx1ZXMsIGFuZCBjb21wYXJlIGZsYWdzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBtYXRjaCBkYXRhIG9mIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldE1hdGNoRGF0YShvYmplY3QpIHtcbiAgICAgIHZhciByZXN1bHQgPSBrZXlzKG9iamVjdCksXG4gICAgICAgICAgbGVuZ3RoID0gcmVzdWx0Lmxlbmd0aDtcblxuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIHZhciBrZXkgPSByZXN1bHRbbGVuZ3RoXSxcbiAgICAgICAgICAgIHZhbHVlID0gb2JqZWN0W2tleV07XG5cbiAgICAgICAgcmVzdWx0W2xlbmd0aF0gPSBba2V5LCB2YWx1ZSwgaXNTdHJpY3RDb21wYXJhYmxlKHZhbHVlKV07XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIG5hdGl2ZSBmdW5jdGlvbiBhdCBga2V5YCBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgbWV0aG9kIHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZnVuY3Rpb24gaWYgaXQncyBuYXRpdmUsIGVsc2UgYHVuZGVmaW5lZGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0TmF0aXZlKG9iamVjdCwga2V5KSB7XG4gICAgICB2YXIgdmFsdWUgPSBnZXRWYWx1ZShvYmplY3QsIGtleSk7XG4gICAgICByZXR1cm4gYmFzZUlzTmF0aXZlKHZhbHVlKSA/IHZhbHVlIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUdldFRhZ2Agd2hpY2ggaWdub3JlcyBgU3ltYm9sLnRvU3RyaW5nVGFnYCB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHJhdyBgdG9TdHJpbmdUYWdgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldFJhd1RhZyh2YWx1ZSkge1xuICAgICAgdmFyIGlzT3duID0gaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgc3ltVG9TdHJpbmdUYWcpLFxuICAgICAgICAgIHRhZyA9IHZhbHVlW3N5bVRvU3RyaW5nVGFnXTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgdmFsdWVbc3ltVG9TdHJpbmdUYWddID0gdW5kZWZpbmVkO1xuICAgICAgICB2YXIgdW5tYXNrZWQgPSB0cnVlO1xuICAgICAgfSBjYXRjaCAoZSkge31cblxuICAgICAgdmFyIHJlc3VsdCA9IG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICAgICAgaWYgKHVubWFza2VkKSB7XG4gICAgICAgIGlmIChpc093bikge1xuICAgICAgICAgIHZhbHVlW3N5bVRvU3RyaW5nVGFnXSA9IHRhZztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkZWxldGUgdmFsdWVbc3ltVG9TdHJpbmdUYWddO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBlbnVtZXJhYmxlIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHN5bWJvbHMuXG4gICAgICovXG4gICAgdmFyIGdldFN5bWJvbHMgPSAhbmF0aXZlR2V0U3ltYm9scyA/IHN0dWJBcnJheSA6IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgaWYgKG9iamVjdCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuICAgICAgcmV0dXJuIGFycmF5RmlsdGVyKG5hdGl2ZUdldFN5bWJvbHMob2JqZWN0KSwgZnVuY3Rpb24oc3ltYm9sKSB7XG4gICAgICAgIHJldHVybiBwcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKG9iamVjdCwgc3ltYm9sKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHN5bWJvbHMuXG4gICAgICovXG4gICAgdmFyIGdldFN5bWJvbHNJbiA9ICFuYXRpdmVHZXRTeW1ib2xzID8gc3R1YkFycmF5IDogZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICB3aGlsZSAob2JqZWN0KSB7XG4gICAgICAgIGFycmF5UHVzaChyZXN1bHQsIGdldFN5bWJvbHMob2JqZWN0KSk7XG4gICAgICAgIG9iamVjdCA9IGdldFByb3RvdHlwZShvYmplY3QpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgYHRvU3RyaW5nVGFnYCBvZiBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBgdG9TdHJpbmdUYWdgLlxuICAgICAqL1xuICAgIHZhciBnZXRUYWcgPSBiYXNlR2V0VGFnO1xuXG4gICAgLy8gRmFsbGJhY2sgZm9yIGRhdGEgdmlld3MsIG1hcHMsIHNldHMsIGFuZCB3ZWFrIG1hcHMgaW4gSUUgMTEgYW5kIHByb21pc2VzIGluIE5vZGUuanMgPCA2LlxuICAgIGlmICgoRGF0YVZpZXcgJiYgZ2V0VGFnKG5ldyBEYXRhVmlldyhuZXcgQXJyYXlCdWZmZXIoMSkpKSAhPSBkYXRhVmlld1RhZykgfHxcbiAgICAgICAgKE1hcCAmJiBnZXRUYWcobmV3IE1hcCkgIT0gbWFwVGFnKSB8fFxuICAgICAgICAoUHJvbWlzZSAmJiBnZXRUYWcoUHJvbWlzZS5yZXNvbHZlKCkpICE9IHByb21pc2VUYWcpIHx8XG4gICAgICAgIChTZXQgJiYgZ2V0VGFnKG5ldyBTZXQpICE9IHNldFRhZykgfHxcbiAgICAgICAgKFdlYWtNYXAgJiYgZ2V0VGFnKG5ldyBXZWFrTWFwKSAhPSB3ZWFrTWFwVGFnKSkge1xuICAgICAgZ2V0VGFnID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGJhc2VHZXRUYWcodmFsdWUpLFxuICAgICAgICAgICAgQ3RvciA9IHJlc3VsdCA9PSBvYmplY3RUYWcgPyB2YWx1ZS5jb25zdHJ1Y3RvciA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGN0b3JTdHJpbmcgPSBDdG9yID8gdG9Tb3VyY2UoQ3RvcikgOiAnJztcblxuICAgICAgICBpZiAoY3RvclN0cmluZykge1xuICAgICAgICAgIHN3aXRjaCAoY3RvclN0cmluZykge1xuICAgICAgICAgICAgY2FzZSBkYXRhVmlld0N0b3JTdHJpbmc6IHJldHVybiBkYXRhVmlld1RhZztcbiAgICAgICAgICAgIGNhc2UgbWFwQ3RvclN0cmluZzogcmV0dXJuIG1hcFRhZztcbiAgICAgICAgICAgIGNhc2UgcHJvbWlzZUN0b3JTdHJpbmc6IHJldHVybiBwcm9taXNlVGFnO1xuICAgICAgICAgICAgY2FzZSBzZXRDdG9yU3RyaW5nOiByZXR1cm4gc2V0VGFnO1xuICAgICAgICAgICAgY2FzZSB3ZWFrTWFwQ3RvclN0cmluZzogcmV0dXJuIHdlYWtNYXBUYWc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHZpZXcsIGFwcGx5aW5nIGFueSBgdHJhbnNmb3Jtc2AgdG8gdGhlIGBzdGFydGAgYW5kIGBlbmRgIHBvc2l0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0IFRoZSBzdGFydCBvZiB0aGUgdmlldy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIFRoZSBlbmQgb2YgdGhlIHZpZXcuXG4gICAgICogQHBhcmFtIHtBcnJheX0gdHJhbnNmb3JtcyBUaGUgdHJhbnNmb3JtYXRpb25zIHRvIGFwcGx5IHRvIHRoZSB2aWV3LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIGBzdGFydGAgYW5kIGBlbmRgXG4gICAgICogIHBvc2l0aW9ucyBvZiB0aGUgdmlldy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRWaWV3KHN0YXJ0LCBlbmQsIHRyYW5zZm9ybXMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHRyYW5zZm9ybXMubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgZGF0YSA9IHRyYW5zZm9ybXNbaW5kZXhdLFxuICAgICAgICAgICAgc2l6ZSA9IGRhdGEuc2l6ZTtcblxuICAgICAgICBzd2l0Y2ggKGRhdGEudHlwZSkge1xuICAgICAgICAgIGNhc2UgJ2Ryb3AnOiAgICAgIHN0YXJ0ICs9IHNpemU7IGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ2Ryb3BSaWdodCc6IGVuZCAtPSBzaXplOyBicmVhaztcbiAgICAgICAgICBjYXNlICd0YWtlJzogICAgICBlbmQgPSBuYXRpdmVNaW4oZW5kLCBzdGFydCArIHNpemUpOyBicmVhaztcbiAgICAgICAgICBjYXNlICd0YWtlUmlnaHQnOiBzdGFydCA9IG5hdGl2ZU1heChzdGFydCwgZW5kIC0gc2l6ZSk7IGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4geyAnc3RhcnQnOiBzdGFydCwgJ2VuZCc6IGVuZCB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4dHJhY3RzIHdyYXBwZXIgZGV0YWlscyBmcm9tIHRoZSBgc291cmNlYCBib2R5IGNvbW1lbnQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzb3VyY2UgVGhlIHNvdXJjZSB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgd3JhcHBlciBkZXRhaWxzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldFdyYXBEZXRhaWxzKHNvdXJjZSkge1xuICAgICAgdmFyIG1hdGNoID0gc291cmNlLm1hdGNoKHJlV3JhcERldGFpbHMpO1xuICAgICAgcmV0dXJuIG1hdGNoID8gbWF0Y2hbMV0uc3BsaXQocmVTcGxpdERldGFpbHMpIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBwYXRoYCBleGlzdHMgb24gYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCB0byBjaGVjay5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYXNGdW5jIFRoZSBmdW5jdGlvbiB0byBjaGVjayBwcm9wZXJ0aWVzLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgcGF0aGAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzUGF0aChvYmplY3QsIHBhdGgsIGhhc0Z1bmMpIHtcbiAgICAgIHBhdGggPSBjYXN0UGF0aChwYXRoLCBvYmplY3QpO1xuXG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBwYXRoLmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGtleSA9IHRvS2V5KHBhdGhbaW5kZXhdKTtcbiAgICAgICAgaWYgKCEocmVzdWx0ID0gb2JqZWN0ICE9IG51bGwgJiYgaGFzRnVuYyhvYmplY3QsIGtleSkpKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgb2JqZWN0ID0gb2JqZWN0W2tleV07XG4gICAgICB9XG4gICAgICBpZiAocmVzdWx0IHx8ICsraW5kZXggIT0gbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICBsZW5ndGggPSBvYmplY3QgPT0gbnVsbCA/IDAgOiBvYmplY3QubGVuZ3RoO1xuICAgICAgcmV0dXJuICEhbGVuZ3RoICYmIGlzTGVuZ3RoKGxlbmd0aCkgJiYgaXNJbmRleChrZXksIGxlbmd0aCkgJiZcbiAgICAgICAgKGlzQXJyYXkob2JqZWN0KSB8fCBpc0FyZ3VtZW50cyhvYmplY3QpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyBhbiBhcnJheSBjbG9uZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgaW5pdGlhbGl6ZWQgY2xvbmUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5pdENsb25lQXJyYXkoYXJyYXkpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0gbmV3IGFycmF5LmNvbnN0cnVjdG9yKGxlbmd0aCk7XG5cbiAgICAgIC8vIEFkZCBwcm9wZXJ0aWVzIGFzc2lnbmVkIGJ5IGBSZWdFeHAjZXhlY2AuXG4gICAgICBpZiAobGVuZ3RoICYmIHR5cGVvZiBhcnJheVswXSA9PSAnc3RyaW5nJyAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGFycmF5LCAnaW5kZXgnKSkge1xuICAgICAgICByZXN1bHQuaW5kZXggPSBhcnJheS5pbmRleDtcbiAgICAgICAgcmVzdWx0LmlucHV0ID0gYXJyYXkuaW5wdXQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIGFuIG9iamVjdCBjbG9uZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGluaXRpYWxpemVkIGNsb25lLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluaXRDbG9uZU9iamVjdChvYmplY3QpIHtcbiAgICAgIHJldHVybiAodHlwZW9mIG9iamVjdC5jb25zdHJ1Y3RvciA9PSAnZnVuY3Rpb24nICYmICFpc1Byb3RvdHlwZShvYmplY3QpKVxuICAgICAgICA/IGJhc2VDcmVhdGUoZ2V0UHJvdG90eXBlKG9iamVjdCkpXG4gICAgICAgIDoge307XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgYW4gb2JqZWN0IGNsb25lIGJhc2VkIG9uIGl0cyBgdG9TdHJpbmdUYWdgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgZnVuY3Rpb24gb25seSBzdXBwb3J0cyBjbG9uaW5nIHZhbHVlcyB3aXRoIHRhZ3Mgb2ZcbiAgICAgKiBgQm9vbGVhbmAsIGBEYXRlYCwgYEVycm9yYCwgYE1hcGAsIGBOdW1iZXJgLCBgUmVnRXhwYCwgYFNldGAsIG9yIGBTdHJpbmdgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY2xvbmUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRhZyBUaGUgYHRvU3RyaW5nVGFnYCBvZiB0aGUgb2JqZWN0IHRvIGNsb25lLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzRGVlcF0gU3BlY2lmeSBhIGRlZXAgY2xvbmUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgaW5pdGlhbGl6ZWQgY2xvbmUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5pdENsb25lQnlUYWcob2JqZWN0LCB0YWcsIGlzRGVlcCkge1xuICAgICAgdmFyIEN0b3IgPSBvYmplY3QuY29uc3RydWN0b3I7XG4gICAgICBzd2l0Y2ggKHRhZykge1xuICAgICAgICBjYXNlIGFycmF5QnVmZmVyVGFnOlxuICAgICAgICAgIHJldHVybiBjbG9uZUFycmF5QnVmZmVyKG9iamVjdCk7XG5cbiAgICAgICAgY2FzZSBib29sVGFnOlxuICAgICAgICBjYXNlIGRhdGVUYWc6XG4gICAgICAgICAgcmV0dXJuIG5ldyBDdG9yKCtvYmplY3QpO1xuXG4gICAgICAgIGNhc2UgZGF0YVZpZXdUYWc6XG4gICAgICAgICAgcmV0dXJuIGNsb25lRGF0YVZpZXcob2JqZWN0LCBpc0RlZXApO1xuXG4gICAgICAgIGNhc2UgZmxvYXQzMlRhZzogY2FzZSBmbG9hdDY0VGFnOlxuICAgICAgICBjYXNlIGludDhUYWc6IGNhc2UgaW50MTZUYWc6IGNhc2UgaW50MzJUYWc6XG4gICAgICAgIGNhc2UgdWludDhUYWc6IGNhc2UgdWludDhDbGFtcGVkVGFnOiBjYXNlIHVpbnQxNlRhZzogY2FzZSB1aW50MzJUYWc6XG4gICAgICAgICAgcmV0dXJuIGNsb25lVHlwZWRBcnJheShvYmplY3QsIGlzRGVlcCk7XG5cbiAgICAgICAgY2FzZSBtYXBUYWc6XG4gICAgICAgICAgcmV0dXJuIG5ldyBDdG9yO1xuXG4gICAgICAgIGNhc2UgbnVtYmVyVGFnOlxuICAgICAgICBjYXNlIHN0cmluZ1RhZzpcbiAgICAgICAgICByZXR1cm4gbmV3IEN0b3Iob2JqZWN0KTtcblxuICAgICAgICBjYXNlIHJlZ2V4cFRhZzpcbiAgICAgICAgICByZXR1cm4gY2xvbmVSZWdFeHAob2JqZWN0KTtcblxuICAgICAgICBjYXNlIHNldFRhZzpcbiAgICAgICAgICByZXR1cm4gbmV3IEN0b3I7XG5cbiAgICAgICAgY2FzZSBzeW1ib2xUYWc6XG4gICAgICAgICAgcmV0dXJuIGNsb25lU3ltYm9sKG9iamVjdCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5zZXJ0cyB3cmFwcGVyIGBkZXRhaWxzYCBpbiBhIGNvbW1lbnQgYXQgdGhlIHRvcCBvZiB0aGUgYHNvdXJjZWAgYm9keS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNvdXJjZSBUaGUgc291cmNlIHRvIG1vZGlmeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IGRldGFpbHMgVGhlIGRldGFpbHMgdG8gaW5zZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIG1vZGlmaWVkIHNvdXJjZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbnNlcnRXcmFwRGV0YWlscyhzb3VyY2UsIGRldGFpbHMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBkZXRhaWxzLmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2U7XG4gICAgICB9XG4gICAgICB2YXIgbGFzdEluZGV4ID0gbGVuZ3RoIC0gMTtcbiAgICAgIGRldGFpbHNbbGFzdEluZGV4XSA9IChsZW5ndGggPiAxID8gJyYgJyA6ICcnKSArIGRldGFpbHNbbGFzdEluZGV4XTtcbiAgICAgIGRldGFpbHMgPSBkZXRhaWxzLmpvaW4obGVuZ3RoID4gMiA/ICcsICcgOiAnICcpO1xuICAgICAgcmV0dXJuIHNvdXJjZS5yZXBsYWNlKHJlV3JhcENvbW1lbnQsICd7XFxuLyogW3dyYXBwZWQgd2l0aCAnICsgZGV0YWlscyArICddICovXFxuJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBmbGF0dGVuYWJsZSBgYXJndW1lbnRzYCBvYmplY3Qgb3IgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGZsYXR0ZW5hYmxlLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNGbGF0dGVuYWJsZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzQXJyYXkodmFsdWUpIHx8IGlzQXJndW1lbnRzKHZhbHVlKSB8fFxuICAgICAgICAhIShzcHJlYWRhYmxlU3ltYm9sICYmIHZhbHVlICYmIHZhbHVlW3NwcmVhZGFibGVTeW1ib2xdKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGFycmF5LWxpa2UgaW5kZXguXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoPU1BWF9TQUZFX0lOVEVHRVJdIFRoZSB1cHBlciBib3VuZHMgb2YgYSB2YWxpZCBpbmRleC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGluZGV4LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNJbmRleCh2YWx1ZSwgbGVuZ3RoKSB7XG4gICAgICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgICAgIGxlbmd0aCA9IGxlbmd0aCA9PSBudWxsID8gTUFYX1NBRkVfSU5URUdFUiA6IGxlbmd0aDtcblxuICAgICAgcmV0dXJuICEhbGVuZ3RoICYmXG4gICAgICAgICh0eXBlID09ICdudW1iZXInIHx8XG4gICAgICAgICAgKHR5cGUgIT0gJ3N5bWJvbCcgJiYgcmVJc1VpbnQudGVzdCh2YWx1ZSkpKSAmJlxuICAgICAgICAgICAgKHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPCBsZW5ndGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiB0aGUgZ2l2ZW4gYXJndW1lbnRzIGFyZSBmcm9tIGFuIGl0ZXJhdGVlIGNhbGwuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHBvdGVudGlhbCBpdGVyYXRlZSB2YWx1ZSBhcmd1bWVudC5cbiAgICAgKiBAcGFyYW0geyp9IGluZGV4IFRoZSBwb3RlbnRpYWwgaXRlcmF0ZWUgaW5kZXggb3Iga2V5IGFyZ3VtZW50LlxuICAgICAqIEBwYXJhbSB7Kn0gb2JqZWN0IFRoZSBwb3RlbnRpYWwgaXRlcmF0ZWUgb2JqZWN0IGFyZ3VtZW50LlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYXJndW1lbnRzIGFyZSBmcm9tIGFuIGl0ZXJhdGVlIGNhbGwsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0l0ZXJhdGVlQ2FsbCh2YWx1ZSwgaW5kZXgsIG9iamVjdCkge1xuICAgICAgaWYgKCFpc09iamVjdChvYmplY3QpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciB0eXBlID0gdHlwZW9mIGluZGV4O1xuICAgICAgaWYgKHR5cGUgPT0gJ251bWJlcidcbiAgICAgICAgICAgID8gKGlzQXJyYXlMaWtlKG9iamVjdCkgJiYgaXNJbmRleChpbmRleCwgb2JqZWN0Lmxlbmd0aCkpXG4gICAgICAgICAgICA6ICh0eXBlID09ICdzdHJpbmcnICYmIGluZGV4IGluIG9iamVjdClcbiAgICAgICAgICApIHtcbiAgICAgICAgcmV0dXJuIGVxKG9iamVjdFtpbmRleF0sIHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHByb3BlcnR5IG5hbWUgYW5kIG5vdCBhIHByb3BlcnR5IHBhdGguXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5IGtleXMgb24uXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwcm9wZXJ0eSBuYW1lLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNLZXkodmFsdWUsIG9iamVjdCkge1xuICAgICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICAgICAgaWYgKHR5cGUgPT0gJ251bWJlcicgfHwgdHlwZSA9PSAnc3ltYm9sJyB8fCB0eXBlID09ICdib29sZWFuJyB8fFxuICAgICAgICAgIHZhbHVlID09IG51bGwgfHwgaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlSXNQbGFpblByb3AudGVzdCh2YWx1ZSkgfHwgIXJlSXNEZWVwUHJvcC50ZXN0KHZhbHVlKSB8fFxuICAgICAgICAob2JqZWN0ICE9IG51bGwgJiYgdmFsdWUgaW4gT2JqZWN0KG9iamVjdCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHN1aXRhYmxlIGZvciB1c2UgYXMgdW5pcXVlIG9iamVjdCBrZXkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIHN1aXRhYmxlLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNLZXlhYmxlKHZhbHVlKSB7XG4gICAgICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgICAgIHJldHVybiAodHlwZSA9PSAnc3RyaW5nJyB8fCB0eXBlID09ICdudW1iZXInIHx8IHR5cGUgPT0gJ3N5bWJvbCcgfHwgdHlwZSA9PSAnYm9vbGVhbicpXG4gICAgICAgID8gKHZhbHVlICE9PSAnX19wcm90b19fJylcbiAgICAgICAgOiAodmFsdWUgPT09IG51bGwpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgZnVuY2AgaGFzIGEgbGF6eSBjb3VudGVycGFydC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBmdW5jYCBoYXMgYSBsYXp5IGNvdW50ZXJwYXJ0LFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNMYXppYWJsZShmdW5jKSB7XG4gICAgICB2YXIgZnVuY05hbWUgPSBnZXRGdW5jTmFtZShmdW5jKSxcbiAgICAgICAgICBvdGhlciA9IGxvZGFzaFtmdW5jTmFtZV07XG5cbiAgICAgIGlmICh0eXBlb2Ygb3RoZXIgIT0gJ2Z1bmN0aW9uJyB8fCAhKGZ1bmNOYW1lIGluIExhenlXcmFwcGVyLnByb3RvdHlwZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKGZ1bmMgPT09IG90aGVyKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgdmFyIGRhdGEgPSBnZXREYXRhKG90aGVyKTtcbiAgICAgIHJldHVybiAhIWRhdGEgJiYgZnVuYyA9PT0gZGF0YVswXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYGZ1bmNgIGhhcyBpdHMgc291cmNlIG1hc2tlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBmdW5jYCBpcyBtYXNrZWQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc01hc2tlZChmdW5jKSB7XG4gICAgICByZXR1cm4gISFtYXNrU3JjS2V5ICYmIChtYXNrU3JjS2V5IGluIGZ1bmMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgZnVuY2AgaXMgY2FwYWJsZSBvZiBiZWluZyBtYXNrZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgZnVuY2AgaXMgbWFza2FibGUsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICB2YXIgaXNNYXNrYWJsZSA9IGNvcmVKc0RhdGEgPyBpc0Z1bmN0aW9uIDogc3R1YkZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGlrZWx5IGEgcHJvdG90eXBlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwcm90b3R5cGUsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1Byb3RvdHlwZSh2YWx1ZSkge1xuICAgICAgdmFyIEN0b3IgPSB2YWx1ZSAmJiB2YWx1ZS5jb25zdHJ1Y3RvcixcbiAgICAgICAgICBwcm90byA9ICh0eXBlb2YgQ3RvciA9PSAnZnVuY3Rpb24nICYmIEN0b3IucHJvdG90eXBlKSB8fCBvYmplY3RQcm90bztcblxuICAgICAgcmV0dXJuIHZhbHVlID09PSBwcm90bztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBzdWl0YWJsZSBmb3Igc3RyaWN0IGVxdWFsaXR5IGNvbXBhcmlzb25zLCBpLmUuIGA9PT1gLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpZiBzdWl0YWJsZSBmb3Igc3RyaWN0XG4gICAgICogIGVxdWFsaXR5IGNvbXBhcmlzb25zLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNTdHJpY3RDb21wYXJhYmxlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT09IHZhbHVlICYmICFpc09iamVjdCh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBtYXRjaGVzUHJvcGVydHlgIGZvciBzb3VyY2UgdmFsdWVzIHN1aXRhYmxlXG4gICAgICogZm9yIHN0cmljdCBlcXVhbGl0eSBjb21wYXJpc29ucywgaS5lLiBgPT09YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHBhcmFtIHsqfSBzcmNWYWx1ZSBUaGUgdmFsdWUgdG8gbWF0Y2guXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXRjaGVzU3RyaWN0Q29tcGFyYWJsZShrZXksIHNyY1ZhbHVlKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIGlmIChvYmplY3QgPT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JqZWN0W2tleV0gPT09IHNyY1ZhbHVlICYmXG4gICAgICAgICAgKHNyY1ZhbHVlICE9PSB1bmRlZmluZWQgfHwgKGtleSBpbiBPYmplY3Qob2JqZWN0KSkpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8ubWVtb2l6ZWAgd2hpY2ggY2xlYXJzIHRoZSBtZW1vaXplZCBmdW5jdGlvbidzXG4gICAgICogY2FjaGUgd2hlbiBpdCBleGNlZWRzIGBNQVhfTUVNT0laRV9TSVpFYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gaGF2ZSBpdHMgb3V0cHV0IG1lbW9pemVkLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IG1lbW9pemVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1lbW9pemVDYXBwZWQoZnVuYykge1xuICAgICAgdmFyIHJlc3VsdCA9IG1lbW9pemUoZnVuYywgZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgIGlmIChjYWNoZS5zaXplID09PSBNQVhfTUVNT0laRV9TSVpFKSB7XG4gICAgICAgICAgY2FjaGUuY2xlYXIoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ga2V5O1xuICAgICAgfSk7XG5cbiAgICAgIHZhciBjYWNoZSA9IHJlc3VsdC5jYWNoZTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTWVyZ2VzIHRoZSBmdW5jdGlvbiBtZXRhZGF0YSBvZiBgc291cmNlYCBpbnRvIGBkYXRhYC5cbiAgICAgKlxuICAgICAqIE1lcmdpbmcgbWV0YWRhdGEgcmVkdWNlcyB0aGUgbnVtYmVyIG9mIHdyYXBwZXJzIHVzZWQgdG8gaW52b2tlIGEgZnVuY3Rpb24uXG4gICAgICogVGhpcyBpcyBwb3NzaWJsZSBiZWNhdXNlIG1ldGhvZHMgbGlrZSBgXy5iaW5kYCwgYF8uY3VycnlgLCBhbmQgYF8ucGFydGlhbGBcbiAgICAgKiBtYXkgYmUgYXBwbGllZCByZWdhcmRsZXNzIG9mIGV4ZWN1dGlvbiBvcmRlci4gTWV0aG9kcyBsaWtlIGBfLmFyeWAgYW5kXG4gICAgICogYF8ucmVhcmdgIG1vZGlmeSBmdW5jdGlvbiBhcmd1bWVudHMsIG1ha2luZyB0aGUgb3JkZXIgaW4gd2hpY2ggdGhleSBhcmVcbiAgICAgKiBleGVjdXRlZCBpbXBvcnRhbnQsIHByZXZlbnRpbmcgdGhlIG1lcmdpbmcgb2YgbWV0YWRhdGEuIEhvd2V2ZXIsIHdlIG1ha2VcbiAgICAgKiBhbiBleGNlcHRpb24gZm9yIGEgc2FmZSBjb21iaW5lZCBjYXNlIHdoZXJlIGN1cnJpZWQgZnVuY3Rpb25zIGhhdmUgYF8uYXJ5YFxuICAgICAqIGFuZCBvciBgXy5yZWFyZ2AgYXBwbGllZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gZGF0YSBUaGUgZGVzdGluYXRpb24gbWV0YWRhdGEuXG4gICAgICogQHBhcmFtIHtBcnJheX0gc291cmNlIFRoZSBzb3VyY2UgbWV0YWRhdGEuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBkYXRhYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtZXJnZURhdGEoZGF0YSwgc291cmNlKSB7XG4gICAgICB2YXIgYml0bWFzayA9IGRhdGFbMV0sXG4gICAgICAgICAgc3JjQml0bWFzayA9IHNvdXJjZVsxXSxcbiAgICAgICAgICBuZXdCaXRtYXNrID0gYml0bWFzayB8IHNyY0JpdG1hc2ssXG4gICAgICAgICAgaXNDb21tb24gPSBuZXdCaXRtYXNrIDwgKFdSQVBfQklORF9GTEFHIHwgV1JBUF9CSU5EX0tFWV9GTEFHIHwgV1JBUF9BUllfRkxBRyk7XG5cbiAgICAgIHZhciBpc0NvbWJvID1cbiAgICAgICAgKChzcmNCaXRtYXNrID09IFdSQVBfQVJZX0ZMQUcpICYmIChiaXRtYXNrID09IFdSQVBfQ1VSUllfRkxBRykpIHx8XG4gICAgICAgICgoc3JjQml0bWFzayA9PSBXUkFQX0FSWV9GTEFHKSAmJiAoYml0bWFzayA9PSBXUkFQX1JFQVJHX0ZMQUcpICYmIChkYXRhWzddLmxlbmd0aCA8PSBzb3VyY2VbOF0pKSB8fFxuICAgICAgICAoKHNyY0JpdG1hc2sgPT0gKFdSQVBfQVJZX0ZMQUcgfCBXUkFQX1JFQVJHX0ZMQUcpKSAmJiAoc291cmNlWzddLmxlbmd0aCA8PSBzb3VyY2VbOF0pICYmIChiaXRtYXNrID09IFdSQVBfQ1VSUllfRkxBRykpO1xuXG4gICAgICAvLyBFeGl0IGVhcmx5IGlmIG1ldGFkYXRhIGNhbid0IGJlIG1lcmdlZC5cbiAgICAgIGlmICghKGlzQ29tbW9uIHx8IGlzQ29tYm8pKSB7XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgfVxuICAgICAgLy8gVXNlIHNvdXJjZSBgdGhpc0FyZ2AgaWYgYXZhaWxhYmxlLlxuICAgICAgaWYgKHNyY0JpdG1hc2sgJiBXUkFQX0JJTkRfRkxBRykge1xuICAgICAgICBkYXRhWzJdID0gc291cmNlWzJdO1xuICAgICAgICAvLyBTZXQgd2hlbiBjdXJyeWluZyBhIGJvdW5kIGZ1bmN0aW9uLlxuICAgICAgICBuZXdCaXRtYXNrIHw9IGJpdG1hc2sgJiBXUkFQX0JJTkRfRkxBRyA/IDAgOiBXUkFQX0NVUlJZX0JPVU5EX0ZMQUc7XG4gICAgICB9XG4gICAgICAvLyBDb21wb3NlIHBhcnRpYWwgYXJndW1lbnRzLlxuICAgICAgdmFyIHZhbHVlID0gc291cmNlWzNdO1xuICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIHZhciBwYXJ0aWFscyA9IGRhdGFbM107XG4gICAgICAgIGRhdGFbM10gPSBwYXJ0aWFscyA/IGNvbXBvc2VBcmdzKHBhcnRpYWxzLCB2YWx1ZSwgc291cmNlWzRdKSA6IHZhbHVlO1xuICAgICAgICBkYXRhWzRdID0gcGFydGlhbHMgPyByZXBsYWNlSG9sZGVycyhkYXRhWzNdLCBQTEFDRUhPTERFUikgOiBzb3VyY2VbNF07XG4gICAgICB9XG4gICAgICAvLyBDb21wb3NlIHBhcnRpYWwgcmlnaHQgYXJndW1lbnRzLlxuICAgICAgdmFsdWUgPSBzb3VyY2VbNV07XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgcGFydGlhbHMgPSBkYXRhWzVdO1xuICAgICAgICBkYXRhWzVdID0gcGFydGlhbHMgPyBjb21wb3NlQXJnc1JpZ2h0KHBhcnRpYWxzLCB2YWx1ZSwgc291cmNlWzZdKSA6IHZhbHVlO1xuICAgICAgICBkYXRhWzZdID0gcGFydGlhbHMgPyByZXBsYWNlSG9sZGVycyhkYXRhWzVdLCBQTEFDRUhPTERFUikgOiBzb3VyY2VbNl07XG4gICAgICB9XG4gICAgICAvLyBVc2Ugc291cmNlIGBhcmdQb3NgIGlmIGF2YWlsYWJsZS5cbiAgICAgIHZhbHVlID0gc291cmNlWzddO1xuICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIGRhdGFbN10gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIC8vIFVzZSBzb3VyY2UgYGFyeWAgaWYgaXQncyBzbWFsbGVyLlxuICAgICAgaWYgKHNyY0JpdG1hc2sgJiBXUkFQX0FSWV9GTEFHKSB7XG4gICAgICAgIGRhdGFbOF0gPSBkYXRhWzhdID09IG51bGwgPyBzb3VyY2VbOF0gOiBuYXRpdmVNaW4oZGF0YVs4XSwgc291cmNlWzhdKTtcbiAgICAgIH1cbiAgICAgIC8vIFVzZSBzb3VyY2UgYGFyaXR5YCBpZiBvbmUgaXMgbm90IHByb3ZpZGVkLlxuICAgICAgaWYgKGRhdGFbOV0gPT0gbnVsbCkge1xuICAgICAgICBkYXRhWzldID0gc291cmNlWzldO1xuICAgICAgfVxuICAgICAgLy8gVXNlIHNvdXJjZSBgZnVuY2AgYW5kIG1lcmdlIGJpdG1hc2tzLlxuICAgICAgZGF0YVswXSA9IHNvdXJjZVswXTtcbiAgICAgIGRhdGFbMV0gPSBuZXdCaXRtYXNrO1xuXG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGxpa2VcbiAgICAgKiBbYE9iamVjdC5rZXlzYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LmtleXMpXG4gICAgICogZXhjZXB0IHRoYXQgaXQgaW5jbHVkZXMgaW5oZXJpdGVkIGVudW1lcmFibGUgcHJvcGVydGllcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbmF0aXZlS2V5c0luKG9iamVjdCkge1xuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgaWYgKG9iamVjdCAhPSBudWxsKSB7XG4gICAgICAgIGZvciAodmFyIGtleSBpbiBPYmplY3Qob2JqZWN0KSkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZyB1c2luZyBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY29udmVydGVkIHN0cmluZy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvYmplY3RUb1N0cmluZyh2YWx1ZSkge1xuICAgICAgcmV0dXJuIG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZVJlc3RgIHdoaWNoIHRyYW5zZm9ybXMgdGhlIHJlc3QgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IGEgcmVzdCBwYXJhbWV0ZXIgdG8uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD1mdW5jLmxlbmd0aC0xXSBUaGUgc3RhcnQgcG9zaXRpb24gb2YgdGhlIHJlc3QgcGFyYW1ldGVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHRyYW5zZm9ybSBUaGUgcmVzdCBhcnJheSB0cmFuc2Zvcm0uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gb3ZlclJlc3QoZnVuYywgc3RhcnQsIHRyYW5zZm9ybSkge1xuICAgICAgc3RhcnQgPSBuYXRpdmVNYXgoc3RhcnQgPT09IHVuZGVmaW5lZCA/IChmdW5jLmxlbmd0aCAtIDEpIDogc3RhcnQsIDApO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgICAgIGluZGV4ID0gLTEsXG4gICAgICAgICAgICBsZW5ndGggPSBuYXRpdmVNYXgoYXJncy5sZW5ndGggLSBzdGFydCwgMCksXG4gICAgICAgICAgICBhcnJheSA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICBhcnJheVtpbmRleF0gPSBhcmdzW3N0YXJ0ICsgaW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIGluZGV4ID0gLTE7XG4gICAgICAgIHZhciBvdGhlckFyZ3MgPSBBcnJheShzdGFydCArIDEpO1xuICAgICAgICB3aGlsZSAoKytpbmRleCA8IHN0YXJ0KSB7XG4gICAgICAgICAgb3RoZXJBcmdzW2luZGV4XSA9IGFyZ3NbaW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIG90aGVyQXJnc1tzdGFydF0gPSB0cmFuc2Zvcm0oYXJyYXkpO1xuICAgICAgICByZXR1cm4gYXBwbHkoZnVuYywgdGhpcywgb3RoZXJBcmdzKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgcGFyZW50IHZhbHVlIGF0IGBwYXRoYCBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHBhdGggVGhlIHBhdGggdG8gZ2V0IHRoZSBwYXJlbnQgdmFsdWUgb2YuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHBhcmVudCB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwYXJlbnQob2JqZWN0LCBwYXRoKSB7XG4gICAgICByZXR1cm4gcGF0aC5sZW5ndGggPCAyID8gb2JqZWN0IDogYmFzZUdldChvYmplY3QsIGJhc2VTbGljZShwYXRoLCAwLCAtMSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlb3JkZXIgYGFycmF5YCBhY2NvcmRpbmcgdG8gdGhlIHNwZWNpZmllZCBpbmRleGVzIHdoZXJlIHRoZSBlbGVtZW50IGF0XG4gICAgICogdGhlIGZpcnN0IGluZGV4IGlzIGFzc2lnbmVkIGFzIHRoZSBmaXJzdCBlbGVtZW50LCB0aGUgZWxlbWVudCBhdFxuICAgICAqIHRoZSBzZWNvbmQgaW5kZXggaXMgYXNzaWduZWQgYXMgdGhlIHNlY29uZCBlbGVtZW50LCBhbmQgc28gb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byByZW9yZGVyLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGluZGV4ZXMgVGhlIGFycmFuZ2VkIGFycmF5IGluZGV4ZXMuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVvcmRlcihhcnJheSwgaW5kZXhlcykge1xuICAgICAgdmFyIGFyckxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICBsZW5ndGggPSBuYXRpdmVNaW4oaW5kZXhlcy5sZW5ndGgsIGFyckxlbmd0aCksXG4gICAgICAgICAgb2xkQXJyYXkgPSBjb3B5QXJyYXkoYXJyYXkpO1xuXG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgdmFyIGluZGV4ID0gaW5kZXhlc1tsZW5ndGhdO1xuICAgICAgICBhcnJheVtsZW5ndGhdID0gaXNJbmRleChpbmRleCwgYXJyTGVuZ3RoKSA/IG9sZEFycmF5W2luZGV4XSA6IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSB2YWx1ZSBhdCBga2V5YCwgdW5sZXNzIGBrZXlgIGlzIFwiX19wcm90b19fXCIgb3IgXCJjb25zdHJ1Y3RvclwiLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHByb3BlcnR5IHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNhZmVHZXQob2JqZWN0LCBrZXkpIHtcbiAgICAgIGlmIChrZXkgPT09ICdjb25zdHJ1Y3RvcicgJiYgdHlwZW9mIG9iamVjdFtrZXldID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGtleSA9PSAnX19wcm90b19fJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBvYmplY3Rba2V5XTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIG1ldGFkYXRhIGZvciBgZnVuY2AuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogSWYgdGhpcyBmdW5jdGlvbiBiZWNvbWVzIGhvdCwgaS5lLiBpcyBpbnZva2VkIGEgbG90IGluIGEgc2hvcnRcbiAgICAgKiBwZXJpb2Qgb2YgdGltZSwgaXQgd2lsbCB0cmlwIGl0cyBicmVha2VyIGFuZCB0cmFuc2l0aW9uIHRvIGFuIGlkZW50aXR5XG4gICAgICogZnVuY3Rpb24gdG8gYXZvaWQgZ2FyYmFnZSBjb2xsZWN0aW9uIHBhdXNlcyBpbiBWOC4gU2VlXG4gICAgICogW1Y4IGlzc3VlIDIwNzBdKGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTIwNzApXG4gICAgICogZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXNzb2NpYXRlIG1ldGFkYXRhIHdpdGguXG4gICAgICogQHBhcmFtIHsqfSBkYXRhIFRoZSBtZXRhZGF0YS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGZ1bmNgLlxuICAgICAqL1xuICAgIHZhciBzZXREYXRhID0gc2hvcnRPdXQoYmFzZVNldERhdGEpO1xuXG4gICAgLyoqXG4gICAgICogQSBzaW1wbGUgd3JhcHBlciBhcm91bmQgdGhlIGdsb2JhbCBbYHNldFRpbWVvdXRgXShodHRwczovL21kbi5pby9zZXRUaW1lb3V0KS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gZGVsYXkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdhaXQgVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gZGVsYXkgaW52b2NhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfE9iamVjdH0gUmV0dXJucyB0aGUgdGltZXIgaWQgb3IgdGltZW91dCBvYmplY3QuXG4gICAgICovXG4gICAgdmFyIHNldFRpbWVvdXQgPSBjdHhTZXRUaW1lb3V0IHx8IGZ1bmN0aW9uKGZ1bmMsIHdhaXQpIHtcbiAgICAgIHJldHVybiByb290LnNldFRpbWVvdXQoZnVuYywgd2FpdCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGB0b1N0cmluZ2AgbWV0aG9kIG9mIGBmdW5jYCB0byByZXR1cm4gYHN0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzdHJpbmcgVGhlIGB0b1N0cmluZ2AgcmVzdWx0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgZnVuY2AuXG4gICAgICovXG4gICAgdmFyIHNldFRvU3RyaW5nID0gc2hvcnRPdXQoYmFzZVNldFRvU3RyaW5nKTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGB0b1N0cmluZ2AgbWV0aG9kIG9mIGB3cmFwcGVyYCB0byBtaW1pYyB0aGUgc291cmNlIG9mIGByZWZlcmVuY2VgXG4gICAgICogd2l0aCB3cmFwcGVyIGRldGFpbHMgaW4gYSBjb21tZW50IGF0IHRoZSB0b3Agb2YgdGhlIHNvdXJjZSBib2R5LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB3cmFwcGVyIFRoZSBmdW5jdGlvbiB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcmVmZXJlbmNlIFRoZSByZWZlcmVuY2UgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgY3JlYXRlV3JhcGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYHdyYXBwZXJgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNldFdyYXBUb1N0cmluZyh3cmFwcGVyLCByZWZlcmVuY2UsIGJpdG1hc2spIHtcbiAgICAgIHZhciBzb3VyY2UgPSAocmVmZXJlbmNlICsgJycpO1xuICAgICAgcmV0dXJuIHNldFRvU3RyaW5nKHdyYXBwZXIsIGluc2VydFdyYXBEZXRhaWxzKHNvdXJjZSwgdXBkYXRlV3JhcERldGFpbHMoZ2V0V3JhcERldGFpbHMoc291cmNlKSwgYml0bWFzaykpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCdsbCBzaG9ydCBvdXQgYW5kIGludm9rZSBgaWRlbnRpdHlgIGluc3RlYWRcbiAgICAgKiBvZiBgZnVuY2Agd2hlbiBpdCdzIGNhbGxlZCBgSE9UX0NPVU5UYCBvciBtb3JlIHRpbWVzIGluIGBIT1RfU1BBTmBcbiAgICAgKiBtaWxsaXNlY29uZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHJlc3RyaWN0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNob3J0YWJsZSBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzaG9ydE91dChmdW5jKSB7XG4gICAgICB2YXIgY291bnQgPSAwLFxuICAgICAgICAgIGxhc3RDYWxsZWQgPSAwO1xuXG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBzdGFtcCA9IG5hdGl2ZU5vdygpLFxuICAgICAgICAgICAgcmVtYWluaW5nID0gSE9UX1NQQU4gLSAoc3RhbXAgLSBsYXN0Q2FsbGVkKTtcblxuICAgICAgICBsYXN0Q2FsbGVkID0gc3RhbXA7XG4gICAgICAgIGlmIChyZW1haW5pbmcgPiAwKSB7XG4gICAgICAgICAgaWYgKCsrY291bnQgPj0gSE9UX0NPVU5UKSB7XG4gICAgICAgICAgICByZXR1cm4gYXJndW1lbnRzWzBdO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb3VudCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkodW5kZWZpbmVkLCBhcmd1bWVudHMpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uc2h1ZmZsZWAgd2hpY2ggbXV0YXRlcyBhbmQgc2V0cyB0aGUgc2l6ZSBvZiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2h1ZmZsZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NpemU9YXJyYXkubGVuZ3RoXSBUaGUgc2l6ZSBvZiBgYXJyYXlgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNodWZmbGVTZWxmKGFycmF5LCBzaXplKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgbGFzdEluZGV4ID0gbGVuZ3RoIC0gMTtcblxuICAgICAgc2l6ZSA9IHNpemUgPT09IHVuZGVmaW5lZCA/IGxlbmd0aCA6IHNpemU7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IHNpemUpIHtcbiAgICAgICAgdmFyIHJhbmQgPSBiYXNlUmFuZG9tKGluZGV4LCBsYXN0SW5kZXgpLFxuICAgICAgICAgICAgdmFsdWUgPSBhcnJheVtyYW5kXTtcblxuICAgICAgICBhcnJheVtyYW5kXSA9IGFycmF5W2luZGV4XTtcbiAgICAgICAgYXJyYXlbaW5kZXhdID0gdmFsdWU7XG4gICAgICB9XG4gICAgICBhcnJheS5sZW5ndGggPSBzaXplO1xuICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgIHRvIGEgcHJvcGVydHkgcGF0aCBhcnJheS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICAgICAqL1xuICAgIHZhciBzdHJpbmdUb1BhdGggPSBtZW1vaXplQ2FwcGVkKGZ1bmN0aW9uKHN0cmluZykge1xuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgaWYgKHN0cmluZy5jaGFyQ29kZUF0KDApID09PSA0NiAvKiAuICovKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKCcnKTtcbiAgICAgIH1cbiAgICAgIHN0cmluZy5yZXBsYWNlKHJlUHJvcE5hbWUsIGZ1bmN0aW9uKG1hdGNoLCBudW1iZXIsIHF1b3RlLCBzdWJTdHJpbmcpIHtcbiAgICAgICAgcmVzdWx0LnB1c2gocXVvdGUgPyBzdWJTdHJpbmcucmVwbGFjZShyZUVzY2FwZUNoYXIsICckMScpIDogKG51bWJlciB8fCBtYXRjaCkpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZyBrZXkgaWYgaXQncyBub3QgYSBzdHJpbmcgb3Igc3ltYm9sLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd8c3ltYm9sfSBSZXR1cm5zIHRoZSBrZXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9LZXkodmFsdWUpIHtcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycgfHwgaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSAodmFsdWUgKyAnJyk7XG4gICAgICByZXR1cm4gKHJlc3VsdCA9PSAnMCcgJiYgKDEgLyB2YWx1ZSkgPT0gLUlORklOSVRZKSA/ICctMCcgOiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYGZ1bmNgIHRvIGl0cyBzb3VyY2UgY29kZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzb3VyY2UgY29kZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b1NvdXJjZShmdW5jKSB7XG4gICAgICBpZiAoZnVuYyAhPSBudWxsKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmNUb1N0cmluZy5jYWxsKGZ1bmMpO1xuICAgICAgICB9IGNhdGNoIChlKSB7fVxuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiAoZnVuYyArICcnKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgIH1cbiAgICAgIHJldHVybiAnJztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHdyYXBwZXIgYGRldGFpbHNgIGJhc2VkIG9uIGBiaXRtYXNrYCBmbGFncy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybnMge0FycmF5fSBkZXRhaWxzIFRoZSBkZXRhaWxzIHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBjcmVhdGVXcmFwYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgZGV0YWlsc2AuXG4gICAgICovXG4gICAgZnVuY3Rpb24gdXBkYXRlV3JhcERldGFpbHMoZGV0YWlscywgYml0bWFzaykge1xuICAgICAgYXJyYXlFYWNoKHdyYXBGbGFncywgZnVuY3Rpb24ocGFpcikge1xuICAgICAgICB2YXIgdmFsdWUgPSAnXy4nICsgcGFpclswXTtcbiAgICAgICAgaWYgKChiaXRtYXNrICYgcGFpclsxXSkgJiYgIWFycmF5SW5jbHVkZXMoZGV0YWlscywgdmFsdWUpKSB7XG4gICAgICAgICAgZGV0YWlscy5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gZGV0YWlscy5zb3J0KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIGB3cmFwcGVyYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHdyYXBwZXIgVGhlIHdyYXBwZXIgdG8gY2xvbmUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2xvbmVkIHdyYXBwZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlckNsb25lKHdyYXBwZXIpIHtcbiAgICAgIGlmICh3cmFwcGVyIGluc3RhbmNlb2YgTGF6eVdyYXBwZXIpIHtcbiAgICAgICAgcmV0dXJuIHdyYXBwZXIuY2xvbmUoKTtcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSBuZXcgTG9kYXNoV3JhcHBlcih3cmFwcGVyLl9fd3JhcHBlZF9fLCB3cmFwcGVyLl9fY2hhaW5fXyk7XG4gICAgICByZXN1bHQuX19hY3Rpb25zX18gPSBjb3B5QXJyYXkod3JhcHBlci5fX2FjdGlvbnNfXyk7XG4gICAgICByZXN1bHQuX19pbmRleF9fICA9IHdyYXBwZXIuX19pbmRleF9fO1xuICAgICAgcmVzdWx0Ll9fdmFsdWVzX18gPSB3cmFwcGVyLl9fdmFsdWVzX187XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgZWxlbWVudHMgc3BsaXQgaW50byBncm91cHMgdGhlIGxlbmd0aCBvZiBgc2l6ZWAuXG4gICAgICogSWYgYGFycmF5YCBjYW4ndCBiZSBzcGxpdCBldmVubHksIHRoZSBmaW5hbCBjaHVuayB3aWxsIGJlIHRoZSByZW1haW5pbmdcbiAgICAgKiBlbGVtZW50cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBwcm9jZXNzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2l6ZT0xXSBUaGUgbGVuZ3RoIG9mIGVhY2ggY2h1bmtcbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGNodW5rcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5jaHVuayhbJ2EnLCAnYicsICdjJywgJ2QnXSwgMik7XG4gICAgICogLy8gPT4gW1snYScsICdiJ10sIFsnYycsICdkJ11dXG4gICAgICpcbiAgICAgKiBfLmNodW5rKFsnYScsICdiJywgJ2MnLCAnZCddLCAzKTtcbiAgICAgKiAvLyA9PiBbWydhJywgJ2InLCAnYyddLCBbJ2QnXV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjaHVuayhhcnJheSwgc2l6ZSwgZ3VhcmQpIHtcbiAgICAgIGlmICgoZ3VhcmQgPyBpc0l0ZXJhdGVlQ2FsbChhcnJheSwgc2l6ZSwgZ3VhcmQpIDogc2l6ZSA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICBzaXplID0gMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNpemUgPSBuYXRpdmVNYXgodG9JbnRlZ2VyKHNpemUpLCAwKTtcbiAgICAgIH1cbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoIHx8IHNpemUgPCAxKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IDAsXG4gICAgICAgICAgcmVzSW5kZXggPSAwLFxuICAgICAgICAgIHJlc3VsdCA9IEFycmF5KG5hdGl2ZUNlaWwobGVuZ3RoIC8gc2l6ZSkpO1xuXG4gICAgICB3aGlsZSAoaW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0W3Jlc0luZGV4KytdID0gYmFzZVNsaWNlKGFycmF5LCBpbmRleCwgKGluZGV4ICs9IHNpemUpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSB3aXRoIGFsbCBmYWxzZXkgdmFsdWVzIHJlbW92ZWQuIFRoZSB2YWx1ZXMgYGZhbHNlYCwgYG51bGxgLFxuICAgICAqIGAwYCwgYFwiXCJgLCBgdW5kZWZpbmVkYCwgYW5kIGBOYU5gIGFyZSBmYWxzZXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gY29tcGFjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY29tcGFjdChbMCwgMSwgZmFsc2UsIDIsICcnLCAzXSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29tcGFjdChhcnJheSkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgcmVzSW5kZXggPSAwLFxuICAgICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgIHJlc3VsdFtyZXNJbmRleCsrXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgYXJyYXkgY29uY2F0ZW5hdGluZyBgYXJyYXlgIHdpdGggYW55IGFkZGl0aW9uYWwgYXJyYXlzXG4gICAgICogYW5kL29yIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBjb25jYXRlbmF0ZS5cbiAgICAgKiBAcGFyYW0gey4uLip9IFt2YWx1ZXNdIFRoZSB2YWx1ZXMgdG8gY29uY2F0ZW5hdGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgY29uY2F0ZW5hdGVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMV07XG4gICAgICogdmFyIG90aGVyID0gXy5jb25jYXQoYXJyYXksIDIsIFszXSwgW1s0XV0pO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2cob3RoZXIpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzLCBbNF1dXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWzFdXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29uY2F0KCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICB2YXIgYXJncyA9IEFycmF5KGxlbmd0aCAtIDEpLFxuICAgICAgICAgIGFycmF5ID0gYXJndW1lbnRzWzBdLFxuICAgICAgICAgIGluZGV4ID0gbGVuZ3RoO1xuXG4gICAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgICBhcmdzW2luZGV4IC0gMV0gPSBhcmd1bWVudHNbaW5kZXhdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5UHVzaChpc0FycmF5KGFycmF5KSA/IGNvcHlBcnJheShhcnJheSkgOiBbYXJyYXldLCBiYXNlRmxhdHRlbihhcmdzLCAxKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBgYXJyYXlgIHZhbHVlcyBub3QgaW5jbHVkZWQgaW4gdGhlIG90aGVyIGdpdmVuIGFycmF5c1xuICAgICAqIHVzaW5nIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLiBUaGUgb3JkZXIgYW5kIHJlZmVyZW5jZXMgb2YgcmVzdWx0IHZhbHVlcyBhcmVcbiAgICAgKiBkZXRlcm1pbmVkIGJ5IHRoZSBmaXJzdCBhcnJheS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8ucHVsbEFsbGAsIHRoaXMgbWV0aG9kIHJldHVybnMgYSBuZXcgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbdmFsdWVzXSBUaGUgdmFsdWVzIHRvIGV4Y2x1ZGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBzZWUgXy53aXRob3V0LCBfLnhvclxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRpZmZlcmVuY2UoWzIsIDFdLCBbMiwgM10pO1xuICAgICAqIC8vID0+IFsxXVxuICAgICAqL1xuICAgIHZhciBkaWZmZXJlbmNlID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXksIHZhbHVlcykge1xuICAgICAgcmV0dXJuIGlzQXJyYXlMaWtlT2JqZWN0KGFycmF5KVxuICAgICAgICA/IGJhc2VEaWZmZXJlbmNlKGFycmF5LCBiYXNlRmxhdHRlbih2YWx1ZXMsIDEsIGlzQXJyYXlMaWtlT2JqZWN0LCB0cnVlKSlcbiAgICAgICAgOiBbXTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZGlmZmVyZW5jZWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IG9mIGBhcnJheWAgYW5kIGB2YWx1ZXNgIHRvIGdlbmVyYXRlIHRoZSBjcml0ZXJpb25cbiAgICAgKiBieSB3aGljaCB0aGV5J3JlIGNvbXBhcmVkLiBUaGUgb3JkZXIgYW5kIHJlZmVyZW5jZXMgb2YgcmVzdWx0IHZhbHVlcyBhcmVcbiAgICAgKiBkZXRlcm1pbmVkIGJ5IHRoZSBmaXJzdCBhcnJheS4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6XG4gICAgICogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8ucHVsbEFsbEJ5YCwgdGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFt2YWx1ZXNdIFRoZSB2YWx1ZXMgdG8gZXhjbHVkZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRpZmZlcmVuY2VCeShbMi4xLCAxLjJdLCBbMi4zLCAzLjRdLCBNYXRoLmZsb29yKTtcbiAgICAgKiAvLyA9PiBbMS4yXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5kaWZmZXJlbmNlQnkoW3sgJ3gnOiAyIH0sIHsgJ3gnOiAxIH1dLCBbeyAneCc6IDEgfV0sICd4Jyk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAyIH1dXG4gICAgICovXG4gICAgdmFyIGRpZmZlcmVuY2VCeSA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5LCB2YWx1ZXMpIHtcbiAgICAgIHZhciBpdGVyYXRlZSA9IGxhc3QodmFsdWVzKTtcbiAgICAgIGlmIChpc0FycmF5TGlrZU9iamVjdChpdGVyYXRlZSkpIHtcbiAgICAgICAgaXRlcmF0ZWUgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXNBcnJheUxpa2VPYmplY3QoYXJyYXkpXG4gICAgICAgID8gYmFzZURpZmZlcmVuY2UoYXJyYXksIGJhc2VGbGF0dGVuKHZhbHVlcywgMSwgaXNBcnJheUxpa2VPYmplY3QsIHRydWUpLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpXG4gICAgICAgIDogW107XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmRpZmZlcmVuY2VgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGNvbXBhcmF0b3JgXG4gICAgICogd2hpY2ggaXMgaW52b2tlZCB0byBjb21wYXJlIGVsZW1lbnRzIG9mIGBhcnJheWAgdG8gYHZhbHVlc2AuIFRoZSBvcmRlciBhbmRcbiAgICAgKiByZWZlcmVuY2VzIG9mIHJlc3VsdCB2YWx1ZXMgYXJlIGRldGVybWluZWQgYnkgdGhlIGZpcnN0IGFycmF5LiBUaGUgY29tcGFyYXRvclxuICAgICAqIGlzIGludm9rZWQgd2l0aCB0d28gYXJndW1lbnRzOiAoYXJyVmFsLCBvdGhWYWwpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5wdWxsQWxsV2l0aGAsIHRoaXMgbWV0aG9kIHJldHVybnMgYSBuZXcgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbdmFsdWVzXSBUaGUgdmFsdWVzIHRvIGV4Y2x1ZGUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiAyLCAneSc6IDEgfV07XG4gICAgICpcbiAgICAgKiBfLmRpZmZlcmVuY2VXaXRoKG9iamVjdHMsIFt7ICd4JzogMSwgJ3knOiAyIH1dLCBfLmlzRXF1YWwpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMiwgJ3knOiAxIH1dXG4gICAgICovXG4gICAgdmFyIGRpZmZlcmVuY2VXaXRoID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXksIHZhbHVlcykge1xuICAgICAgdmFyIGNvbXBhcmF0b3IgPSBsYXN0KHZhbHVlcyk7XG4gICAgICBpZiAoaXNBcnJheUxpa2VPYmplY3QoY29tcGFyYXRvcikpIHtcbiAgICAgICAgY29tcGFyYXRvciA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpc0FycmF5TGlrZU9iamVjdChhcnJheSlcbiAgICAgICAgPyBiYXNlRGlmZmVyZW5jZShhcnJheSwgYmFzZUZsYXR0ZW4odmFsdWVzLCAxLCBpc0FycmF5TGlrZU9iamVjdCwgdHJ1ZSksIHVuZGVmaW5lZCwgY29tcGFyYXRvcilcbiAgICAgICAgOiBbXTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIHdpdGggYG5gIGVsZW1lbnRzIGRyb3BwZWQgZnJvbSB0aGUgYmVnaW5uaW5nLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuNS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj0xXSBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIGRyb3AuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZHJvcChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IFsyLCAzXVxuICAgICAqXG4gICAgICogXy5kcm9wKFsxLCAyLCAzXSwgMik7XG4gICAgICogLy8gPT4gWzNdXG4gICAgICpcbiAgICAgKiBfLmRyb3AoWzEsIDIsIDNdLCA1KTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqXG4gICAgICogXy5kcm9wKFsxLCAyLCAzXSwgMCk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gZHJvcChhcnJheSwgbiwgZ3VhcmQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIG4gPSAoZ3VhcmQgfHwgbiA9PT0gdW5kZWZpbmVkKSA/IDEgOiB0b0ludGVnZXIobik7XG4gICAgICByZXR1cm4gYmFzZVNsaWNlKGFycmF5LCBuIDwgMCA/IDAgOiBuLCBsZW5ndGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIHdpdGggYG5gIGVsZW1lbnRzIGRyb3BwZWQgZnJvbSB0aGUgZW5kLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj0xXSBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIGRyb3AuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZHJvcFJpZ2h0KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICpcbiAgICAgKiBfLmRyb3BSaWdodChbMSwgMiwgM10sIDIpO1xuICAgICAqIC8vID0+IFsxXVxuICAgICAqXG4gICAgICogXy5kcm9wUmlnaHQoWzEsIDIsIDNdLCA1KTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqXG4gICAgICogXy5kcm9wUmlnaHQoWzEsIDIsIDNdLCAwKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkcm9wUmlnaHQoYXJyYXksIG4sIGd1YXJkKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBuID0gKGd1YXJkIHx8IG4gPT09IHVuZGVmaW5lZCkgPyAxIDogdG9JbnRlZ2VyKG4pO1xuICAgICAgbiA9IGxlbmd0aCAtIG47XG4gICAgICByZXR1cm4gYmFzZVNsaWNlKGFycmF5LCAwLCBuIDwgMCA/IDAgOiBuKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCBleGNsdWRpbmcgZWxlbWVudHMgZHJvcHBlZCBmcm9tIHRoZSBlbmQuXG4gICAgICogRWxlbWVudHMgYXJlIGRyb3BwZWQgdW50aWwgYHByZWRpY2F0ZWAgcmV0dXJucyBmYWxzZXkuIFRoZSBwcmVkaWNhdGUgaXNcbiAgICAgKiBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4LCBhcnJheSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IGZhbHNlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5kcm9wUmlnaHRXaGlsZSh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gIW8uYWN0aXZlOyB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leSddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZHJvcFJpZ2h0V2hpbGUodXNlcnMsIHsgJ3VzZXInOiAncGViYmxlcycsICdhY3RpdmUnOiBmYWxzZSB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leScsICdmcmVkJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmRyb3BSaWdodFdoaWxlKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5kcm9wUmlnaHRXaGlsZSh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5JywgJ2ZyZWQnLCAncGViYmxlcyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gZHJvcFJpZ2h0V2hpbGUoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZVdoaWxlKGFycmF5LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpLCB0cnVlLCB0cnVlKVxuICAgICAgICA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIGV4Y2x1ZGluZyBlbGVtZW50cyBkcm9wcGVkIGZyb20gdGhlIGJlZ2lubmluZy5cbiAgICAgKiBFbGVtZW50cyBhcmUgZHJvcHBlZCB1bnRpbCBgcHJlZGljYXRlYCByZXR1cm5zIGZhbHNleS4gVGhlIHByZWRpY2F0ZSBpc1xuICAgICAqIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXgsIGFycmF5KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IHRydWUgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmRyb3BXaGlsZSh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gIW8uYWN0aXZlOyB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ3BlYmJsZXMnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmRyb3BXaGlsZSh1c2VycywgeyAndXNlcic6ICdiYXJuZXknLCAnYWN0aXZlJzogZmFsc2UgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydmcmVkJywgJ3BlYmJsZXMnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZHJvcFdoaWxlKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydwZWJibGVzJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZHJvcFdoaWxlKHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknLCAnZnJlZCcsICdwZWJibGVzJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkcm9wV2hpbGUoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZVdoaWxlKGFycmF5LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpLCB0cnVlKVxuICAgICAgICA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZpbGxzIGVsZW1lbnRzIG9mIGBhcnJheWAgd2l0aCBgdmFsdWVgIGZyb20gYHN0YXJ0YCB1cCB0bywgYnV0IG5vdFxuICAgICAqIGluY2x1ZGluZywgYGVuZGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMi4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGZpbGwuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZmlsbCBgYXJyYXlgIHdpdGguXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtlbmQ9YXJyYXkubGVuZ3RoXSBUaGUgZW5kIHBvc2l0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMSwgMiwgM107XG4gICAgICpcbiAgICAgKiBfLmZpbGwoYXJyYXksICdhJyk7XG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsnYScsICdhJywgJ2EnXVxuICAgICAqXG4gICAgICogXy5maWxsKEFycmF5KDMpLCAyKTtcbiAgICAgKiAvLyA9PiBbMiwgMiwgMl1cbiAgICAgKlxuICAgICAqIF8uZmlsbChbNCwgNiwgOCwgMTBdLCAnKicsIDEsIDMpO1xuICAgICAqIC8vID0+IFs0LCAnKicsICcqJywgMTBdXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmlsbChhcnJheSwgdmFsdWUsIHN0YXJ0LCBlbmQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIGlmIChzdGFydCAmJiB0eXBlb2Ygc3RhcnQgIT0gJ251bWJlcicgJiYgaXNJdGVyYXRlZUNhbGwoYXJyYXksIHZhbHVlLCBzdGFydCkpIHtcbiAgICAgICAgc3RhcnQgPSAwO1xuICAgICAgICBlbmQgPSBsZW5ndGg7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZUZpbGwoYXJyYXksIHZhbHVlLCBzdGFydCwgZW5kKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZpbmRgIGV4Y2VwdCB0aGF0IGl0IHJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBmaXJzdFxuICAgICAqIGVsZW1lbnQgYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yIGluc3RlYWQgb2YgdGhlIGVsZW1lbnQgaXRzZWxmLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZnJvbUluZGV4PTBdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgZm91bmQgZWxlbWVudCwgZWxzZSBgLTFgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IHRydWUgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbmRJbmRleCh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gby51c2VyID09ICdiYXJuZXknOyB9KTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZEluZGV4KHVzZXJzLCB7ICd1c2VyJzogJ2ZyZWQnLCAnYWN0aXZlJzogZmFsc2UgfSk7XG4gICAgICogLy8gPT4gMVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZEluZGV4KHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gMFxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kSW5kZXgodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmluZEluZGV4KGFycmF5LCBwcmVkaWNhdGUsIGZyb21JbmRleCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gZnJvbUluZGV4ID09IG51bGwgPyAwIDogdG9JbnRlZ2VyKGZyb21JbmRleCk7XG4gICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgIGluZGV4ID0gbmF0aXZlTWF4KGxlbmd0aCArIGluZGV4LCAwKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlRmluZEluZGV4KGFycmF5LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpLCBpbmRleCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5maW5kSW5kZXhgIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgZWxlbWVudHNcbiAgICAgKiBvZiBgY29sbGVjdGlvbmAgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZnJvbUluZGV4PWFycmF5Lmxlbmd0aC0xXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGZvdW5kIGVsZW1lbnQsIGVsc2UgYC0xYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IGZhbHNlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5maW5kTGFzdEluZGV4KHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLnVzZXIgPT0gJ3BlYmJsZXMnOyB9KTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZExhc3RJbmRleCh1c2VycywgeyAndXNlcic6ICdiYXJuZXknLCAnYWN0aXZlJzogdHJ1ZSB9KTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kTGFzdEluZGV4KHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gMlxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kTGFzdEluZGV4KHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbmRMYXN0SW5kZXgoYXJyYXksIHByZWRpY2F0ZSwgZnJvbUluZGV4KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSBsZW5ndGggLSAxO1xuICAgICAgaWYgKGZyb21JbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGluZGV4ID0gdG9JbnRlZ2VyKGZyb21JbmRleCk7XG4gICAgICAgIGluZGV4ID0gZnJvbUluZGV4IDwgMFxuICAgICAgICAgID8gbmF0aXZlTWF4KGxlbmd0aCArIGluZGV4LCAwKVxuICAgICAgICAgIDogbmF0aXZlTWluKGluZGV4LCBsZW5ndGggLSAxKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlRmluZEluZGV4KGFycmF5LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpLCBpbmRleCwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmxhdHRlbnMgYGFycmF5YCBhIHNpbmdsZSBsZXZlbCBkZWVwLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGZsYXR0ZW4uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmZsYXR0ZW4oWzEsIFsyLCBbMywgWzRdXSwgNV1dKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgWzMsIFs0XV0sIDVdXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxhdHRlbihhcnJheSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgcmV0dXJuIGxlbmd0aCA/IGJhc2VGbGF0dGVuKGFycmF5LCAxKSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlY3Vyc2l2ZWx5IGZsYXR0ZW5zIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gZmxhdHRlbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmbGF0dGVuZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZmxhdHRlbkRlZXAoWzEsIFsyLCBbMywgWzRdXSwgNV1dKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgMywgNCwgNV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmbGF0dGVuRGVlcChhcnJheSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgcmV0dXJuIGxlbmd0aCA/IGJhc2VGbGF0dGVuKGFycmF5LCBJTkZJTklUWSkgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWN1cnNpdmVseSBmbGF0dGVuIGBhcnJheWAgdXAgdG8gYGRlcHRoYCB0aW1lcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjQuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBmbGF0dGVuLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZGVwdGg9MV0gVGhlIG1heGltdW0gcmVjdXJzaW9uIGRlcHRoLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZsYXR0ZW5lZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzEsIFsyLCBbMywgWzRdXSwgNV1dO1xuICAgICAqXG4gICAgICogXy5mbGF0dGVuRGVwdGgoYXJyYXksIDEpO1xuICAgICAqIC8vID0+IFsxLCAyLCBbMywgWzRdXSwgNV1cbiAgICAgKlxuICAgICAqIF8uZmxhdHRlbkRlcHRoKGFycmF5LCAyKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgMywgWzRdLCA1XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsYXR0ZW5EZXB0aChhcnJheSwgZGVwdGgpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIGRlcHRoID0gZGVwdGggPT09IHVuZGVmaW5lZCA/IDEgOiB0b0ludGVnZXIoZGVwdGgpO1xuICAgICAgcmV0dXJuIGJhc2VGbGF0dGVuKGFycmF5LCBkZXB0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGludmVyc2Ugb2YgYF8udG9QYWlyc2A7IHRoaXMgbWV0aG9kIHJldHVybnMgYW4gb2JqZWN0IGNvbXBvc2VkXG4gICAgICogZnJvbSBrZXktdmFsdWUgYHBhaXJzYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHBhaXJzIFRoZSBrZXktdmFsdWUgcGFpcnMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5mcm9tUGFpcnMoW1snYScsIDFdLCBbJ2InLCAyXV0pO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZyb21QYWlycyhwYWlycykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gcGFpcnMgPT0gbnVsbCA/IDAgOiBwYWlycy5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0ge307XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBwYWlyID0gcGFpcnNbaW5kZXhdO1xuICAgICAgICByZXN1bHRbcGFpclswXV0gPSBwYWlyWzFdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBmaXJzdCBlbGVtZW50IG9mIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAYWxpYXMgZmlyc3RcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGZpcnN0IGVsZW1lbnQgb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5oZWFkKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gMVxuICAgICAqXG4gICAgICogXy5oZWFkKFtdKTtcbiAgICAgKiAvLyA9PiB1bmRlZmluZWRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoZWFkKGFycmF5KSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkgPyBhcnJheVswXSA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBpbmRleCBhdCB3aGljaCB0aGUgZmlyc3Qgb2NjdXJyZW5jZSBvZiBgdmFsdWVgIGlzIGZvdW5kIGluIGBhcnJheWBcbiAgICAgKiB1c2luZyBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy4gSWYgYGZyb21JbmRleGAgaXMgbmVnYXRpdmUsIGl0J3MgdXNlZCBhcyB0aGVcbiAgICAgKiBvZmZzZXQgZnJvbSB0aGUgZW5kIG9mIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZnJvbUluZGV4PTBdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmluZGV4T2YoWzEsIDIsIDEsIDJdLCAyKTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICpcbiAgICAgKiAvLyBTZWFyY2ggZnJvbSB0aGUgYGZyb21JbmRleGAuXG4gICAgICogXy5pbmRleE9mKFsxLCAyLCAxLCAyXSwgMiwgMik7XG4gICAgICogLy8gPT4gM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluZGV4T2YoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IGZyb21JbmRleCA9PSBudWxsID8gMCA6IHRvSW50ZWdlcihmcm9tSW5kZXgpO1xuICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICBpbmRleCA9IG5hdGl2ZU1heChsZW5ndGggKyBpbmRleCwgMCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZUluZGV4T2YoYXJyYXksIHZhbHVlLCBpbmRleCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBhbGwgYnV0IHRoZSBsYXN0IGVsZW1lbnQgb2YgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaW5pdGlhbChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluaXRpYWwoYXJyYXkpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIHJldHVybiBsZW5ndGggPyBiYXNlU2xpY2UoYXJyYXksIDAsIC0xKSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdW5pcXVlIHZhbHVlcyB0aGF0IGFyZSBpbmNsdWRlZCBpbiBhbGwgZ2l2ZW4gYXJyYXlzXG4gICAgICogdXNpbmcgW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuIFRoZSBvcmRlciBhbmQgcmVmZXJlbmNlcyBvZiByZXN1bHQgdmFsdWVzIGFyZVxuICAgICAqIGRldGVybWluZWQgYnkgdGhlIGZpcnN0IGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGludGVyc2VjdGluZyB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaW50ZXJzZWN0aW9uKFsyLCAxXSwgWzIsIDNdKTtcbiAgICAgKiAvLyA9PiBbMl1cbiAgICAgKi9cbiAgICB2YXIgaW50ZXJzZWN0aW9uID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICB2YXIgbWFwcGVkID0gYXJyYXlNYXAoYXJyYXlzLCBjYXN0QXJyYXlMaWtlT2JqZWN0KTtcbiAgICAgIHJldHVybiAobWFwcGVkLmxlbmd0aCAmJiBtYXBwZWRbMF0gPT09IGFycmF5c1swXSlcbiAgICAgICAgPyBiYXNlSW50ZXJzZWN0aW9uKG1hcHBlZClcbiAgICAgICAgOiBbXTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaW50ZXJzZWN0aW9uYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWBcbiAgICAgKiB3aGljaCBpcyBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgb2YgZWFjaCBgYXJyYXlzYCB0byBnZW5lcmF0ZSB0aGUgY3JpdGVyaW9uXG4gICAgICogYnkgd2hpY2ggdGhleSdyZSBjb21wYXJlZC4gVGhlIG9yZGVyIGFuZCByZWZlcmVuY2VzIG9mIHJlc3VsdCB2YWx1ZXMgYXJlXG4gICAgICogZGV0ZXJtaW5lZCBieSB0aGUgZmlyc3QgYXJyYXkuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OlxuICAgICAqICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGludGVyc2VjdGluZyB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaW50ZXJzZWN0aW9uQnkoWzIuMSwgMS4yXSwgWzIuMywgMy40XSwgTWF0aC5mbG9vcik7XG4gICAgICogLy8gPT4gWzIuMV1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uaW50ZXJzZWN0aW9uQnkoW3sgJ3gnOiAxIH1dLCBbeyAneCc6IDIgfSwgeyAneCc6IDEgfV0sICd4Jyk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAxIH1dXG4gICAgICovXG4gICAgdmFyIGludGVyc2VjdGlvbkJ5ID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICB2YXIgaXRlcmF0ZWUgPSBsYXN0KGFycmF5cyksXG4gICAgICAgICAgbWFwcGVkID0gYXJyYXlNYXAoYXJyYXlzLCBjYXN0QXJyYXlMaWtlT2JqZWN0KTtcblxuICAgICAgaWYgKGl0ZXJhdGVlID09PSBsYXN0KG1hcHBlZCkpIHtcbiAgICAgICAgaXRlcmF0ZWUgPSB1bmRlZmluZWQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtYXBwZWQucG9wKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gKG1hcHBlZC5sZW5ndGggJiYgbWFwcGVkWzBdID09PSBhcnJheXNbMF0pXG4gICAgICAgID8gYmFzZUludGVyc2VjdGlvbihtYXBwZWQsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSlcbiAgICAgICAgOiBbXTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaW50ZXJzZWN0aW9uYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjb21wYXJhdG9yYFxuICAgICAqIHdoaWNoIGlzIGludm9rZWQgdG8gY29tcGFyZSBlbGVtZW50cyBvZiBgYXJyYXlzYC4gVGhlIG9yZGVyIGFuZCByZWZlcmVuY2VzXG4gICAgICogb2YgcmVzdWx0IHZhbHVlcyBhcmUgZGV0ZXJtaW5lZCBieSB0aGUgZmlyc3QgYXJyYXkuIFRoZSBjb21wYXJhdG9yIGlzXG4gICAgICogaW52b2tlZCB3aXRoIHR3byBhcmd1bWVudHM6IChhcnJWYWwsIG90aFZhbCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgaW50ZXJzZWN0aW5nIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogMiwgJ3knOiAxIH1dO1xuICAgICAqIHZhciBvdGhlcnMgPSBbeyAneCc6IDEsICd5JzogMSB9LCB7ICd4JzogMSwgJ3knOiAyIH1dO1xuICAgICAqXG4gICAgICogXy5pbnRlcnNlY3Rpb25XaXRoKG9iamVjdHMsIG90aGVycywgXy5pc0VxdWFsKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDEsICd5JzogMiB9XVxuICAgICAqL1xuICAgIHZhciBpbnRlcnNlY3Rpb25XaXRoID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICB2YXIgY29tcGFyYXRvciA9IGxhc3QoYXJyYXlzKSxcbiAgICAgICAgICBtYXBwZWQgPSBhcnJheU1hcChhcnJheXMsIGNhc3RBcnJheUxpa2VPYmplY3QpO1xuXG4gICAgICBjb21wYXJhdG9yID0gdHlwZW9mIGNvbXBhcmF0b3IgPT0gJ2Z1bmN0aW9uJyA/IGNvbXBhcmF0b3IgOiB1bmRlZmluZWQ7XG4gICAgICBpZiAoY29tcGFyYXRvcikge1xuICAgICAgICBtYXBwZWQucG9wKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gKG1hcHBlZC5sZW5ndGggJiYgbWFwcGVkWzBdID09PSBhcnJheXNbMF0pXG4gICAgICAgID8gYmFzZUludGVyc2VjdGlvbihtYXBwZWQsIHVuZGVmaW5lZCwgY29tcGFyYXRvcilcbiAgICAgICAgOiBbXTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGFsbCBlbGVtZW50cyBpbiBgYXJyYXlgIGludG8gYSBzdHJpbmcgc2VwYXJhdGVkIGJ5IGBzZXBhcmF0b3JgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGNvbnZlcnQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzZXBhcmF0b3I9JywnXSBUaGUgZWxlbWVudCBzZXBhcmF0b3IuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgam9pbmVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5qb2luKFsnYScsICdiJywgJ2MnXSwgJ34nKTtcbiAgICAgKiAvLyA9PiAnYX5ifmMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gam9pbihhcnJheSwgc2VwYXJhdG9yKSB7XG4gICAgICByZXR1cm4gYXJyYXkgPT0gbnVsbCA/ICcnIDogbmF0aXZlSm9pbi5jYWxsKGFycmF5LCBzZXBhcmF0b3IpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGxhc3QgZWxlbWVudCBvZiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBsYXN0IGVsZW1lbnQgb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5sYXN0KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxhc3QoYXJyYXkpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIHJldHVybiBsZW5ndGggPyBhcnJheVtsZW5ndGggLSAxXSA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmluZGV4T2ZgIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2ZcbiAgICAgKiBgYXJyYXlgIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9YXJyYXkubGVuZ3RoLTFdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmxhc3RJbmRleE9mKFsxLCAyLCAxLCAyXSwgMik7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogLy8gU2VhcmNoIGZyb20gdGhlIGBmcm9tSW5kZXhgLlxuICAgICAqIF8ubGFzdEluZGV4T2YoWzEsIDIsIDEsIDJdLCAyLCAyKTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGFzdEluZGV4T2YoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IGxlbmd0aDtcbiAgICAgIGlmIChmcm9tSW5kZXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpbmRleCA9IHRvSW50ZWdlcihmcm9tSW5kZXgpO1xuICAgICAgICBpbmRleCA9IGluZGV4IDwgMCA/IG5hdGl2ZU1heChsZW5ndGggKyBpbmRleCwgMCkgOiBuYXRpdmVNaW4oaW5kZXgsIGxlbmd0aCAtIDEpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlID09PSB2YWx1ZVxuICAgICAgICA/IHN0cmljdExhc3RJbmRleE9mKGFycmF5LCB2YWx1ZSwgaW5kZXgpXG4gICAgICAgIDogYmFzZUZpbmRJbmRleChhcnJheSwgYmFzZUlzTmFOLCBpbmRleCwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgZWxlbWVudCBhdCBpbmRleCBgbmAgb2YgYGFycmF5YC4gSWYgYG5gIGlzIG5lZ2F0aXZlLCB0aGUgbnRoXG4gICAgICogZWxlbWVudCBmcm9tIHRoZSBlbmQgaXMgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj0wXSBUaGUgaW5kZXggb2YgdGhlIGVsZW1lbnQgdG8gcmV0dXJuLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBudGggZWxlbWVudCBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbJ2EnLCAnYicsICdjJywgJ2QnXTtcbiAgICAgKlxuICAgICAqIF8ubnRoKGFycmF5LCAxKTtcbiAgICAgKiAvLyA9PiAnYidcbiAgICAgKlxuICAgICAqIF8ubnRoKGFycmF5LCAtMik7XG4gICAgICogLy8gPT4gJ2MnO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIG50aChhcnJheSwgbikge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpID8gYmFzZU50aChhcnJheSwgdG9JbnRlZ2VyKG4pKSA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBnaXZlbiB2YWx1ZXMgZnJvbSBgYXJyYXlgIHVzaW5nXG4gICAgICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLndpdGhvdXRgLCB0aGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAuIFVzZSBgXy5yZW1vdmVgXG4gICAgICogdG8gcmVtb3ZlIGVsZW1lbnRzIGZyb20gYW4gYXJyYXkgYnkgcHJlZGljYXRlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0gey4uLip9IFt2YWx1ZXNdIFRoZSB2YWx1ZXMgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbJ2EnLCAnYicsICdjJywgJ2EnLCAnYicsICdjJ107XG4gICAgICpcbiAgICAgKiBfLnB1bGwoYXJyYXksICdhJywgJ2MnKTtcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWydiJywgJ2InXVxuICAgICAqL1xuICAgIHZhciBwdWxsID0gYmFzZVJlc3QocHVsbEFsbCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnB1bGxgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYW4gYXJyYXkgb2YgdmFsdWVzIHRvIHJlbW92ZS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8uZGlmZmVyZW5jZWAsIHRoaXMgbWV0aG9kIG11dGF0ZXMgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbJ2EnLCAnYicsICdjJywgJ2EnLCAnYicsICdjJ107XG4gICAgICpcbiAgICAgKiBfLnB1bGxBbGwoYXJyYXksIFsnYScsICdjJ10pO1xuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbJ2InLCAnYiddXG4gICAgICovXG4gICAgZnVuY3Rpb24gcHVsbEFsbChhcnJheSwgdmFsdWVzKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aCAmJiB2YWx1ZXMgJiYgdmFsdWVzLmxlbmd0aClcbiAgICAgICAgPyBiYXNlUHVsbEFsbChhcnJheSwgdmFsdWVzKVxuICAgICAgICA6IGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ucHVsbEFsbGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IG9mIGBhcnJheWAgYW5kIGB2YWx1ZXNgIHRvIGdlbmVyYXRlIHRoZSBjcml0ZXJpb25cbiAgICAgKiBieSB3aGljaCB0aGV5J3JlIGNvbXBhcmVkLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8uZGlmZmVyZW5jZUJ5YCwgdGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byByZW1vdmUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbeyAneCc6IDEgfSwgeyAneCc6IDIgfSwgeyAneCc6IDMgfSwgeyAneCc6IDEgfV07XG4gICAgICpcbiAgICAgKiBfLnB1bGxBbGxCeShhcnJheSwgW3sgJ3gnOiAxIH0sIHsgJ3gnOiAzIH1dLCAneCcpO1xuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDIgfV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwdWxsQWxsQnkoYXJyYXksIHZhbHVlcywgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoICYmIHZhbHVlcyAmJiB2YWx1ZXMubGVuZ3RoKVxuICAgICAgICA/IGJhc2VQdWxsQWxsKGFycmF5LCB2YWx1ZXMsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSlcbiAgICAgICAgOiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnB1bGxBbGxgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGNvbXBhcmF0b3JgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCB0byBjb21wYXJlIGVsZW1lbnRzIG9mIGBhcnJheWAgdG8gYHZhbHVlc2AuIFRoZSBjb21wYXJhdG9yIGlzXG4gICAgICogaW52b2tlZCB3aXRoIHR3byBhcmd1bWVudHM6IChhcnJWYWwsIG90aFZhbCkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLmRpZmZlcmVuY2VXaXRoYCwgdGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNi4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byByZW1vdmUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiAzLCAneSc6IDQgfSwgeyAneCc6IDUsICd5JzogNiB9XTtcbiAgICAgKlxuICAgICAqIF8ucHVsbEFsbFdpdGgoYXJyYXksIFt7ICd4JzogMywgJ3knOiA0IH1dLCBfLmlzRXF1YWwpO1xuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogNSwgJ3knOiA2IH1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gcHVsbEFsbFdpdGgoYXJyYXksIHZhbHVlcywgY29tcGFyYXRvcikge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGggJiYgdmFsdWVzICYmIHZhbHVlcy5sZW5ndGgpXG4gICAgICAgID8gYmFzZVB1bGxBbGwoYXJyYXksIHZhbHVlcywgdW5kZWZpbmVkLCBjb21wYXJhdG9yKVxuICAgICAgICA6IGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgZWxlbWVudHMgZnJvbSBgYXJyYXlgIGNvcnJlc3BvbmRpbmcgdG8gYGluZGV4ZXNgIGFuZCByZXR1cm5zIGFuXG4gICAgICogYXJyYXkgb2YgcmVtb3ZlZCBlbGVtZW50cy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8uYXRgLCB0aGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7Li4uKG51bWJlcnxudW1iZXJbXSl9IFtpbmRleGVzXSBUaGUgaW5kZXhlcyBvZiBlbGVtZW50cyB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgcmVtb3ZlZCBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWydhJywgJ2InLCAnYycsICdkJ107XG4gICAgICogdmFyIHB1bGxlZCA9IF8ucHVsbEF0KGFycmF5LCBbMSwgM10pO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsnYScsICdjJ11cbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKHB1bGxlZCk7XG4gICAgICogLy8gPT4gWydiJywgJ2QnXVxuICAgICAqL1xuICAgIHZhciBwdWxsQXQgPSBmbGF0UmVzdChmdW5jdGlvbihhcnJheSwgaW5kZXhlcykge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IGJhc2VBdChhcnJheSwgaW5kZXhlcyk7XG5cbiAgICAgIGJhc2VQdWxsQXQoYXJyYXksIGFycmF5TWFwKGluZGV4ZXMsIGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgICAgIHJldHVybiBpc0luZGV4KGluZGV4LCBsZW5ndGgpID8gK2luZGV4IDogaW5kZXg7XG4gICAgICB9KS5zb3J0KGNvbXBhcmVBc2NlbmRpbmcpKTtcblxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGVsZW1lbnRzIGZyb20gYGFycmF5YCB0aGF0IGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5IGZvclxuICAgICAqIGFuZCByZXR1cm5zIGFuIGFycmF5IG9mIHRoZSByZW1vdmVkIGVsZW1lbnRzLiBUaGUgcHJlZGljYXRlIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleCwgYXJyYXkpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5maWx0ZXJgLCB0aGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAuIFVzZSBgXy5wdWxsYFxuICAgICAqIHRvIHB1bGwgZWxlbWVudHMgZnJvbSBhbiBhcnJheSBieSB2YWx1ZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIHJlbW92ZWQgZWxlbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsxLCAyLCAzLCA0XTtcbiAgICAgKiB2YXIgZXZlbnMgPSBfLnJlbW92ZShhcnJheSwgZnVuY3Rpb24obikge1xuICAgICAqICAgcmV0dXJuIG4gJSAyID09IDA7XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWzEsIDNdXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhldmVucyk7XG4gICAgICogLy8gPT4gWzIsIDRdXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVtb3ZlKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgIGlmICghKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGluZGV4ZXMgPSBbXSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICAgIHByZWRpY2F0ZSA9IGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG4gICAgICAgIGlmIChwcmVkaWNhdGUodmFsdWUsIGluZGV4LCBhcnJheSkpIHtcbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgaW5kZXhlcy5wdXNoKGluZGV4KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgYmFzZVB1bGxBdChhcnJheSwgaW5kZXhlcyk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldmVyc2VzIGBhcnJheWAgc28gdGhhdCB0aGUgZmlyc3QgZWxlbWVudCBiZWNvbWVzIHRoZSBsYXN0LCB0aGUgc2Vjb25kXG4gICAgICogZWxlbWVudCBiZWNvbWVzIHRoZSBzZWNvbmQgdG8gbGFzdCwgYW5kIHNvIG9uLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYGFycmF5YCBhbmQgaXMgYmFzZWQgb25cbiAgICAgKiBbYEFycmF5I3JldmVyc2VgXShodHRwczovL21kbi5pby9BcnJheS9yZXZlcnNlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsxLCAyLCAzXTtcbiAgICAgKlxuICAgICAqIF8ucmV2ZXJzZShhcnJheSk7XG4gICAgICogLy8gPT4gWzMsIDIsIDFdXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWzMsIDIsIDFdXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmV2ZXJzZShhcnJheSkge1xuICAgICAgcmV0dXJuIGFycmF5ID09IG51bGwgPyBhcnJheSA6IG5hdGl2ZVJldmVyc2UuY2FsbChhcnJheSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgZnJvbSBgc3RhcnRgIHVwIHRvLCBidXQgbm90IGluY2x1ZGluZywgYGVuZGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgdXNlZCBpbnN0ZWFkIG9mXG4gICAgICogW2BBcnJheSNzbGljZWBdKGh0dHBzOi8vbWRuLmlvL0FycmF5L3NsaWNlKSB0byBlbnN1cmUgZGVuc2UgYXJyYXlzIGFyZVxuICAgICAqIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNsaWNlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kPWFycmF5Lmxlbmd0aF0gVGhlIGVuZCBwb3NpdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2xpY2UoYXJyYXksIHN0YXJ0LCBlbmQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIGlmIChlbmQgJiYgdHlwZW9mIGVuZCAhPSAnbnVtYmVyJyAmJiBpc0l0ZXJhdGVlQ2FsbChhcnJheSwgc3RhcnQsIGVuZCkpIHtcbiAgICAgICAgc3RhcnQgPSAwO1xuICAgICAgICBlbmQgPSBsZW5ndGg7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgc3RhcnQgPSBzdGFydCA9PSBudWxsID8gMCA6IHRvSW50ZWdlcihzdGFydCk7XG4gICAgICAgIGVuZCA9IGVuZCA9PT0gdW5kZWZpbmVkID8gbGVuZ3RoIDogdG9JbnRlZ2VyKGVuZCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZVNsaWNlKGFycmF5LCBzdGFydCwgZW5kKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVc2VzIGEgYmluYXJ5IHNlYXJjaCB0byBkZXRlcm1pbmUgdGhlIGxvd2VzdCBpbmRleCBhdCB3aGljaCBgdmFsdWVgXG4gICAgICogc2hvdWxkIGJlIGluc2VydGVkIGludG8gYGFycmF5YCBpbiBvcmRlciB0byBtYWludGFpbiBpdHMgc29ydCBvcmRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBzb3J0ZWQgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBldmFsdWF0ZS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBhdCB3aGljaCBgdmFsdWVgIHNob3VsZCBiZSBpbnNlcnRlZFxuICAgICAqICBpbnRvIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc29ydGVkSW5kZXgoWzMwLCA1MF0sIDQwKTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydGVkSW5kZXgoYXJyYXksIHZhbHVlKSB7XG4gICAgICByZXR1cm4gYmFzZVNvcnRlZEluZGV4KGFycmF5LCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5zb3J0ZWRJbmRleGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgXG4gICAgICogd2hpY2ggaXMgaW52b2tlZCBmb3IgYHZhbHVlYCBhbmQgZWFjaCBlbGVtZW50IG9mIGBhcnJheWAgdG8gY29tcHV0ZSB0aGVpclxuICAgICAqIHNvcnQgcmFua2luZy4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgc29ydGVkIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZXZhbHVhdGUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWAgc2hvdWxkIGJlIGluc2VydGVkXG4gICAgICogIGludG8gYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAneCc6IDQgfSwgeyAneCc6IDUgfV07XG4gICAgICpcbiAgICAgKiBfLnNvcnRlZEluZGV4Qnkob2JqZWN0cywgeyAneCc6IDQgfSwgZnVuY3Rpb24obykgeyByZXR1cm4gby54OyB9KTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnNvcnRlZEluZGV4Qnkob2JqZWN0cywgeyAneCc6IDQgfSwgJ3gnKTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydGVkSW5kZXhCeShhcnJheSwgdmFsdWUsIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gYmFzZVNvcnRlZEluZGV4QnkoYXJyYXksIHZhbHVlLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaW5kZXhPZmAgZXhjZXB0IHRoYXQgaXQgcGVyZm9ybXMgYSBiaW5hcnlcbiAgICAgKiBzZWFyY2ggb24gYSBzb3J0ZWQgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zb3J0ZWRJbmRleE9mKFs0LCA1LCA1LCA1LCA2XSwgNSk7XG4gICAgICogLy8gPT4gMVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvcnRlZEluZGV4T2YoYXJyYXksIHZhbHVlKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAobGVuZ3RoKSB7XG4gICAgICAgIHZhciBpbmRleCA9IGJhc2VTb3J0ZWRJbmRleChhcnJheSwgdmFsdWUpO1xuICAgICAgICBpZiAoaW5kZXggPCBsZW5ndGggJiYgZXEoYXJyYXlbaW5kZXhdLCB2YWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiAtMTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnNvcnRlZEluZGV4YCBleGNlcHQgdGhhdCBpdCByZXR1cm5zIHRoZSBoaWdoZXN0XG4gICAgICogaW5kZXggYXQgd2hpY2ggYHZhbHVlYCBzaG91bGQgYmUgaW5zZXJ0ZWQgaW50byBgYXJyYXlgIGluIG9yZGVyIHRvXG4gICAgICogbWFpbnRhaW4gaXRzIHNvcnQgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgc29ydGVkIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZXZhbHVhdGUuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggYXQgd2hpY2ggYHZhbHVlYCBzaG91bGQgYmUgaW5zZXJ0ZWRcbiAgICAgKiAgaW50byBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNvcnRlZExhc3RJbmRleChbNCwgNSwgNSwgNSwgNl0sIDUpO1xuICAgICAqIC8vID0+IDRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb3J0ZWRMYXN0SW5kZXgoYXJyYXksIHZhbHVlKSB7XG4gICAgICByZXR1cm4gYmFzZVNvcnRlZEluZGV4KGFycmF5LCB2YWx1ZSwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5zb3J0ZWRMYXN0SW5kZXhgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYFxuICAgICAqIHdoaWNoIGlzIGludm9rZWQgZm9yIGB2YWx1ZWAgYW5kIGVhY2ggZWxlbWVudCBvZiBgYXJyYXlgIHRvIGNvbXB1dGUgdGhlaXJcbiAgICAgKiBzb3J0IHJhbmtpbmcuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIHNvcnRlZCBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGV2YWx1YXRlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBhdCB3aGljaCBgdmFsdWVgIHNob3VsZCBiZSBpbnNlcnRlZFxuICAgICAqICBpbnRvIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ3gnOiA0IH0sIHsgJ3gnOiA1IH1dO1xuICAgICAqXG4gICAgICogXy5zb3J0ZWRMYXN0SW5kZXhCeShvYmplY3RzLCB7ICd4JzogNCB9LCBmdW5jdGlvbihvKSB7IHJldHVybiBvLng7IH0pO1xuICAgICAqIC8vID0+IDFcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uc29ydGVkTGFzdEluZGV4Qnkob2JqZWN0cywgeyAneCc6IDQgfSwgJ3gnKTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydGVkTGFzdEluZGV4QnkoYXJyYXksIHZhbHVlLCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIGJhc2VTb3J0ZWRJbmRleEJ5KGFycmF5LCB2YWx1ZSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpLCB0cnVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmxhc3RJbmRleE9mYCBleGNlcHQgdGhhdCBpdCBwZXJmb3JtcyBhIGJpbmFyeVxuICAgICAqIHNlYXJjaCBvbiBhIHNvcnRlZCBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNvcnRlZExhc3RJbmRleE9mKFs0LCA1LCA1LCA1LCA2XSwgNSk7XG4gICAgICogLy8gPT4gM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvcnRlZExhc3RJbmRleE9mKGFycmF5LCB2YWx1ZSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKGxlbmd0aCkge1xuICAgICAgICB2YXIgaW5kZXggPSBiYXNlU29ydGVkSW5kZXgoYXJyYXksIHZhbHVlLCB0cnVlKSAtIDE7XG4gICAgICAgIGlmIChlcShhcnJheVtpbmRleF0sIHZhbHVlKSkge1xuICAgICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIC0xO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udW5pcWAgZXhjZXB0IHRoYXQgaXQncyBkZXNpZ25lZCBhbmQgb3B0aW1pemVkXG4gICAgICogZm9yIHNvcnRlZCBhcnJheXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBkdXBsaWNhdGUgZnJlZSBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zb3J0ZWRVbmlxKFsxLCAxLCAyXSk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydGVkVW5pcShhcnJheSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZVNvcnRlZFVuaXEoYXJyYXkpXG4gICAgICAgIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy51bmlxQnlgIGV4Y2VwdCB0aGF0IGl0J3MgZGVzaWduZWQgYW5kIG9wdGltaXplZFxuICAgICAqIGZvciBzb3J0ZWQgYXJyYXlzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlXSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBkdXBsaWNhdGUgZnJlZSBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zb3J0ZWRVbmlxQnkoWzEuMSwgMS4yLCAyLjMsIDIuNF0sIE1hdGguZmxvb3IpO1xuICAgICAqIC8vID0+IFsxLjEsIDIuM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb3J0ZWRVbmlxQnkoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlU29ydGVkVW5pcShhcnJheSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKVxuICAgICAgICA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgYWxsIGJ1dCB0aGUgZmlyc3QgZWxlbWVudCBvZiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50YWlsKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gWzIsIDNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdGFpbChhcnJheSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgcmV0dXJuIGxlbmd0aCA/IGJhc2VTbGljZShhcnJheSwgMSwgbGVuZ3RoKSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIHdpdGggYG5gIGVsZW1lbnRzIHRha2VuIGZyb20gdGhlIGJlZ2lubmluZy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW249MV0gVGhlIG51bWJlciBvZiBlbGVtZW50cyB0byB0YWtlLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRha2UoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBbMV1cbiAgICAgKlxuICAgICAqIF8udGFrZShbMSwgMiwgM10sIDIpO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqXG4gICAgICogXy50YWtlKFsxLCAyLCAzXSwgNSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiBfLnRha2UoWzEsIDIsIDNdLCAwKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRha2UoYXJyYXksIG4sIGd1YXJkKSB7XG4gICAgICBpZiAoIShhcnJheSAmJiBhcnJheS5sZW5ndGgpKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIG4gPSAoZ3VhcmQgfHwgbiA9PT0gdW5kZWZpbmVkKSA/IDEgOiB0b0ludGVnZXIobik7XG4gICAgICByZXR1cm4gYmFzZVNsaWNlKGFycmF5LCAwLCBuIDwgMCA/IDAgOiBuKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCB3aXRoIGBuYCBlbGVtZW50cyB0YWtlbiBmcm9tIHRoZSBlbmQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTFdIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gdGFrZS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50YWtlUmlnaHQoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBbM11cbiAgICAgKlxuICAgICAqIF8udGFrZVJpZ2h0KFsxLCAyLCAzXSwgMik7XG4gICAgICogLy8gPT4gWzIsIDNdXG4gICAgICpcbiAgICAgKiBfLnRha2VSaWdodChbMSwgMiwgM10sIDUpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogXy50YWtlUmlnaHQoWzEsIDIsIDNdLCAwKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRha2VSaWdodChhcnJheSwgbiwgZ3VhcmQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIG4gPSAoZ3VhcmQgfHwgbiA9PT0gdW5kZWZpbmVkKSA/IDEgOiB0b0ludGVnZXIobik7XG4gICAgICBuID0gbGVuZ3RoIC0gbjtcbiAgICAgIHJldHVybiBiYXNlU2xpY2UoYXJyYXksIG4gPCAwID8gMCA6IG4sIGxlbmd0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgd2l0aCBlbGVtZW50cyB0YWtlbiBmcm9tIHRoZSBlbmQuIEVsZW1lbnRzIGFyZVxuICAgICAqIHRha2VuIHVudGlsIGBwcmVkaWNhdGVgIHJldHVybnMgZmFsc2V5LiBUaGUgcHJlZGljYXRlIGlzIGludm9rZWQgd2l0aFxuICAgICAqIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleCwgYXJyYXkpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhY3RpdmUnOiB0cnVlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhY3RpdmUnOiBmYWxzZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8udGFrZVJpZ2h0V2hpbGUodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuICFvLmFjdGl2ZTsgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydmcmVkJywgJ3BlYmJsZXMnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnRha2VSaWdodFdoaWxlKHVzZXJzLCB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWN0aXZlJzogZmFsc2UgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydwZWJibGVzJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnRha2VSaWdodFdoaWxlKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydmcmVkJywgJ3BlYmJsZXMnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy50YWtlUmlnaHRXaGlsZSh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IFtdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdGFrZVJpZ2h0V2hpbGUoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZVdoaWxlKGFycmF5LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpLCBmYWxzZSwgdHJ1ZSlcbiAgICAgICAgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCB3aXRoIGVsZW1lbnRzIHRha2VuIGZyb20gdGhlIGJlZ2lubmluZy4gRWxlbWVudHNcbiAgICAgKiBhcmUgdGFrZW4gdW50aWwgYHByZWRpY2F0ZWAgcmV0dXJucyBmYWxzZXkuIFRoZSBwcmVkaWNhdGUgaXMgaW52b2tlZCB3aXRoXG4gICAgICogdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4LCBhcnJheSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhY3RpdmUnOiB0cnVlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy50YWtlV2hpbGUodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuICFvLmFjdGl2ZTsgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknLCAnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8udGFrZVdoaWxlKHVzZXJzLCB7ICd1c2VyJzogJ2Jhcm5leScsICdhY3RpdmUnOiBmYWxzZSB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leSddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy50YWtlV2hpbGUodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leScsICdmcmVkJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8udGFrZVdoaWxlKHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0YWtlV2hpbGUoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZVdoaWxlKGFycmF5LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpKVxuICAgICAgICA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdW5pcXVlIHZhbHVlcywgaW4gb3JkZXIsIGZyb20gYWxsIGdpdmVuIGFycmF5cyB1c2luZ1xuICAgICAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGNvbWJpbmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51bmlvbihbMl0sIFsxLCAyXSk7XG4gICAgICogLy8gPT4gWzIsIDFdXG4gICAgICovXG4gICAgdmFyIHVuaW9uID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICByZXR1cm4gYmFzZVVuaXEoYmFzZUZsYXR0ZW4oYXJyYXlzLCAxLCBpc0FycmF5TGlrZU9iamVjdCwgdHJ1ZSkpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy51bmlvbmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IG9mIGVhY2ggYGFycmF5c2AgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvbiBieVxuICAgICAqIHdoaWNoIHVuaXF1ZW5lc3MgaXMgY29tcHV0ZWQuIFJlc3VsdCB2YWx1ZXMgYXJlIGNob3NlbiBmcm9tIHRoZSBmaXJzdFxuICAgICAqIGFycmF5IGluIHdoaWNoIHRoZSB2YWx1ZSBvY2N1cnMuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OlxuICAgICAqICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGNvbWJpbmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51bmlvbkJ5KFsyLjFdLCBbMS4yLCAyLjNdLCBNYXRoLmZsb29yKTtcbiAgICAgKiAvLyA9PiBbMi4xLCAxLjJdXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnVuaW9uQnkoW3sgJ3gnOiAxIH1dLCBbeyAneCc6IDIgfSwgeyAneCc6IDEgfV0sICd4Jyk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAxIH0sIHsgJ3gnOiAyIH1dXG4gICAgICovXG4gICAgdmFyIHVuaW9uQnkgPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHZhciBpdGVyYXRlZSA9IGxhc3QoYXJyYXlzKTtcbiAgICAgIGlmIChpc0FycmF5TGlrZU9iamVjdChpdGVyYXRlZSkpIHtcbiAgICAgICAgaXRlcmF0ZWUgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZVVuaXEoYmFzZUZsYXR0ZW4oYXJyYXlzLCAxLCBpc0FycmF5TGlrZU9iamVjdCwgdHJ1ZSksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnVuaW9uYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjb21wYXJhdG9yYCB3aGljaFxuICAgICAqIGlzIGludm9rZWQgdG8gY29tcGFyZSBlbGVtZW50cyBvZiBgYXJyYXlzYC4gUmVzdWx0IHZhbHVlcyBhcmUgY2hvc2VuIGZyb21cbiAgICAgKiB0aGUgZmlyc3QgYXJyYXkgaW4gd2hpY2ggdGhlIHZhbHVlIG9jY3Vycy4gVGhlIGNvbXBhcmF0b3IgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdHdvIGFyZ3VtZW50czogKGFyclZhbCwgb3RoVmFsKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBjb21iaW5lZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDIsICd5JzogMSB9XTtcbiAgICAgKiB2YXIgb3RoZXJzID0gW3sgJ3gnOiAxLCAneSc6IDEgfSwgeyAneCc6IDEsICd5JzogMiB9XTtcbiAgICAgKlxuICAgICAqIF8udW5pb25XaXRoKG9iamVjdHMsIG90aGVycywgXy5pc0VxdWFsKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogMiwgJ3knOiAxIH0sIHsgJ3gnOiAxLCAneSc6IDEgfV1cbiAgICAgKi9cbiAgICB2YXIgdW5pb25XaXRoID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICB2YXIgY29tcGFyYXRvciA9IGxhc3QoYXJyYXlzKTtcbiAgICAgIGNvbXBhcmF0b3IgPSB0eXBlb2YgY29tcGFyYXRvciA9PSAnZnVuY3Rpb24nID8gY29tcGFyYXRvciA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiBiYXNlVW5pcShiYXNlRmxhdHRlbihhcnJheXMsIDEsIGlzQXJyYXlMaWtlT2JqZWN0LCB0cnVlKSwgdW5kZWZpbmVkLCBjb21wYXJhdG9yKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBkdXBsaWNhdGUtZnJlZSB2ZXJzaW9uIG9mIGFuIGFycmF5LCB1c2luZ1xuICAgICAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLCBpbiB3aGljaCBvbmx5IHRoZSBmaXJzdCBvY2N1cnJlbmNlIG9mIGVhY2ggZWxlbWVudFxuICAgICAqIGlzIGtlcHQuIFRoZSBvcmRlciBvZiByZXN1bHQgdmFsdWVzIGlzIGRldGVybWluZWQgYnkgdGhlIG9yZGVyIHRoZXkgb2NjdXJcbiAgICAgKiBpbiB0aGUgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBkdXBsaWNhdGUgZnJlZSBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51bmlxKFsyLCAxLCAyXSk7XG4gICAgICogLy8gPT4gWzIsIDFdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5pcShhcnJheSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpID8gYmFzZVVuaXEoYXJyYXkpIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy51bmlxYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgaW4gYGFycmF5YCB0byBnZW5lcmF0ZSB0aGUgY3JpdGVyaW9uIGJ5IHdoaWNoXG4gICAgICogdW5pcXVlbmVzcyBpcyBjb21wdXRlZC4gVGhlIG9yZGVyIG9mIHJlc3VsdCB2YWx1ZXMgaXMgZGV0ZXJtaW5lZCBieSB0aGVcbiAgICAgKiBvcmRlciB0aGV5IG9jY3VyIGluIHRoZSBhcnJheS4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6XG4gICAgICogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBkdXBsaWNhdGUgZnJlZSBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51bmlxQnkoWzIuMSwgMS4yLCAyLjNdLCBNYXRoLmZsb29yKTtcbiAgICAgKiAvLyA9PiBbMi4xLCAxLjJdXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnVuaXFCeShbeyAneCc6IDEgfSwgeyAneCc6IDIgfSwgeyAneCc6IDEgfV0sICd4Jyk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAxIH0sIHsgJ3gnOiAyIH1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5pcUJ5KGFycmF5LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpID8gYmFzZVVuaXEoYXJyYXksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSkgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnVuaXFgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGNvbXBhcmF0b3JgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCB0byBjb21wYXJlIGVsZW1lbnRzIG9mIGBhcnJheWAuIFRoZSBvcmRlciBvZiByZXN1bHQgdmFsdWVzIGlzXG4gICAgICogZGV0ZXJtaW5lZCBieSB0aGUgb3JkZXIgdGhleSBvY2N1ciBpbiB0aGUgYXJyYXkuVGhlIGNvbXBhcmF0b3IgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdHdvIGFyZ3VtZW50czogKGFyclZhbCwgb3RoVmFsKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGR1cGxpY2F0ZSBmcmVlIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiAyLCAneSc6IDEgfSwgeyAneCc6IDEsICd5JzogMiB9XTtcbiAgICAgKlxuICAgICAqIF8udW5pcVdpdGgob2JqZWN0cywgXy5pc0VxdWFsKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogMiwgJ3knOiAxIH1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5pcVdpdGgoYXJyYXksIGNvbXBhcmF0b3IpIHtcbiAgICAgIGNvbXBhcmF0b3IgPSB0eXBlb2YgY29tcGFyYXRvciA9PSAnZnVuY3Rpb24nID8gY29tcGFyYXRvciA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSA/IGJhc2VVbmlxKGFycmF5LCB1bmRlZmluZWQsIGNvbXBhcmF0b3IpIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy56aXBgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYW4gYXJyYXkgb2YgZ3JvdXBlZFxuICAgICAqIGVsZW1lbnRzIGFuZCBjcmVhdGVzIGFuIGFycmF5IHJlZ3JvdXBpbmcgdGhlIGVsZW1lbnRzIHRvIHRoZWlyIHByZS16aXBcbiAgICAgKiBjb25maWd1cmF0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMi4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IG9mIGdyb3VwZWQgZWxlbWVudHMgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiByZWdyb3VwZWQgZWxlbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB6aXBwZWQgPSBfLnppcChbJ2EnLCAnYiddLCBbMSwgMl0sIFt0cnVlLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IFtbJ2EnLCAxLCB0cnVlXSwgWydiJywgMiwgZmFsc2VdXVxuICAgICAqXG4gICAgICogXy51bnppcCh6aXBwZWQpO1xuICAgICAqIC8vID0+IFtbJ2EnLCAnYiddLCBbMSwgMl0sIFt0cnVlLCBmYWxzZV1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW56aXAoYXJyYXkpIHtcbiAgICAgIGlmICghKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgdmFyIGxlbmd0aCA9IDA7XG4gICAgICBhcnJheSA9IGFycmF5RmlsdGVyKGFycmF5LCBmdW5jdGlvbihncm91cCkge1xuICAgICAgICBpZiAoaXNBcnJheUxpa2VPYmplY3QoZ3JvdXApKSB7XG4gICAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWF4KGdyb3VwLmxlbmd0aCwgbGVuZ3RoKTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gYmFzZVRpbWVzKGxlbmd0aCwgZnVuY3Rpb24oaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIGFycmF5TWFwKGFycmF5LCBiYXNlUHJvcGVydHkoaW5kZXgpKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udW56aXBgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB0byBzcGVjaWZ5XG4gICAgICogaG93IHJlZ3JvdXBlZCB2YWx1ZXMgc2hvdWxkIGJlIGNvbWJpbmVkLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIHRoZVxuICAgICAqIGVsZW1lbnRzIG9mIGVhY2ggZ3JvdXA6ICguLi5ncm91cCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy44LjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgb2YgZ3JvdXBlZCBlbGVtZW50cyB0byBwcm9jZXNzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gdG8gY29tYmluZVxuICAgICAqICByZWdyb3VwZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIHJlZ3JvdXBlZCBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHppcHBlZCA9IF8uemlwKFsxLCAyXSwgWzEwLCAyMF0sIFsxMDAsIDIwMF0pO1xuICAgICAqIC8vID0+IFtbMSwgMTAsIDEwMF0sIFsyLCAyMCwgMjAwXV1cbiAgICAgKlxuICAgICAqIF8udW56aXBXaXRoKHppcHBlZCwgXy5hZGQpO1xuICAgICAqIC8vID0+IFszLCAzMCwgMzAwXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuemlwV2l0aChhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIGlmICghKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IHVuemlwKGFycmF5KTtcbiAgICAgIGlmIChpdGVyYXRlZSA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyYXlNYXAocmVzdWx0LCBmdW5jdGlvbihncm91cCkge1xuICAgICAgICByZXR1cm4gYXBwbHkoaXRlcmF0ZWUsIHVuZGVmaW5lZCwgZ3JvdXApO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBleGNsdWRpbmcgYWxsIGdpdmVuIHZhbHVlcyB1c2luZ1xuICAgICAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5wdWxsYCwgdGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byBleGNsdWRlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKiBAc2VlIF8uZGlmZmVyZW5jZSwgXy54b3JcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy53aXRob3V0KFsyLCAxLCAyLCAzXSwgMSwgMik7XG4gICAgICogLy8gPT4gWzNdXG4gICAgICovXG4gICAgdmFyIHdpdGhvdXQgPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheSwgdmFsdWVzKSB7XG4gICAgICByZXR1cm4gaXNBcnJheUxpa2VPYmplY3QoYXJyYXkpXG4gICAgICAgID8gYmFzZURpZmZlcmVuY2UoYXJyYXksIHZhbHVlcylcbiAgICAgICAgOiBbXTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdW5pcXVlIHZhbHVlcyB0aGF0IGlzIHRoZVxuICAgICAqIFtzeW1tZXRyaWMgZGlmZmVyZW5jZV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvU3ltbWV0cmljX2RpZmZlcmVuY2UpXG4gICAgICogb2YgdGhlIGdpdmVuIGFycmF5cy4gVGhlIG9yZGVyIG9mIHJlc3VsdCB2YWx1ZXMgaXMgZGV0ZXJtaW5lZCBieSB0aGUgb3JkZXJcbiAgICAgKiB0aGV5IG9jY3VyIGluIHRoZSBhcnJheXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi40LjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBzZWUgXy5kaWZmZXJlbmNlLCBfLndpdGhvdXRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy54b3IoWzIsIDFdLCBbMiwgM10pO1xuICAgICAqIC8vID0+IFsxLCAzXVxuICAgICAqL1xuICAgIHZhciB4b3IgPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHJldHVybiBiYXNlWG9yKGFycmF5RmlsdGVyKGFycmF5cywgaXNBcnJheUxpa2VPYmplY3QpKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ueG9yYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgb2YgZWFjaCBgYXJyYXlzYCB0byBnZW5lcmF0ZSB0aGUgY3JpdGVyaW9uIGJ5XG4gICAgICogd2hpY2ggYnkgd2hpY2ggdGhleSdyZSBjb21wYXJlZC4gVGhlIG9yZGVyIG9mIHJlc3VsdCB2YWx1ZXMgaXMgZGV0ZXJtaW5lZFxuICAgICAqIGJ5IHRoZSBvcmRlciB0aGV5IG9jY3VyIGluIHRoZSBhcnJheXMuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lXG4gICAgICogYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy54b3JCeShbMi4xLCAxLjJdLCBbMi4zLCAzLjRdLCBNYXRoLmZsb29yKTtcbiAgICAgKiAvLyA9PiBbMS4yLCAzLjRdXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnhvckJ5KFt7ICd4JzogMSB9XSwgW3sgJ3gnOiAyIH0sIHsgJ3gnOiAxIH1dLCAneCcpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMiB9XVxuICAgICAqL1xuICAgIHZhciB4b3JCeSA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgdmFyIGl0ZXJhdGVlID0gbGFzdChhcnJheXMpO1xuICAgICAgaWYgKGlzQXJyYXlMaWtlT2JqZWN0KGl0ZXJhdGVlKSkge1xuICAgICAgICBpdGVyYXRlZSA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlWG9yKGFycmF5RmlsdGVyKGFycmF5cywgaXNBcnJheUxpa2VPYmplY3QpLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy54b3JgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGNvbXBhcmF0b3JgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCB0byBjb21wYXJlIGVsZW1lbnRzIG9mIGBhcnJheXNgLiBUaGUgb3JkZXIgb2YgcmVzdWx0IHZhbHVlcyBpc1xuICAgICAqIGRldGVybWluZWQgYnkgdGhlIG9yZGVyIHRoZXkgb2NjdXIgaW4gdGhlIGFycmF5cy4gVGhlIGNvbXBhcmF0b3IgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdHdvIGFyZ3VtZW50czogKGFyclZhbCwgb3RoVmFsKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDIsICd5JzogMSB9XTtcbiAgICAgKiB2YXIgb3RoZXJzID0gW3sgJ3gnOiAxLCAneSc6IDEgfSwgeyAneCc6IDEsICd5JzogMiB9XTtcbiAgICAgKlxuICAgICAqIF8ueG9yV2l0aChvYmplY3RzLCBvdGhlcnMsIF8uaXNFcXVhbCk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAyLCAneSc6IDEgfSwgeyAneCc6IDEsICd5JzogMSB9XVxuICAgICAqL1xuICAgIHZhciB4b3JXaXRoID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICB2YXIgY29tcGFyYXRvciA9IGxhc3QoYXJyYXlzKTtcbiAgICAgIGNvbXBhcmF0b3IgPSB0eXBlb2YgY29tcGFyYXRvciA9PSAnZnVuY3Rpb24nID8gY29tcGFyYXRvciA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiBiYXNlWG9yKGFycmF5RmlsdGVyKGFycmF5cywgaXNBcnJheUxpa2VPYmplY3QpLCB1bmRlZmluZWQsIGNvbXBhcmF0b3IpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBncm91cGVkIGVsZW1lbnRzLCB0aGUgZmlyc3Qgb2Ygd2hpY2ggY29udGFpbnMgdGhlXG4gICAgICogZmlyc3QgZWxlbWVudHMgb2YgdGhlIGdpdmVuIGFycmF5cywgdGhlIHNlY29uZCBvZiB3aGljaCBjb250YWlucyB0aGVcbiAgICAgKiBzZWNvbmQgZWxlbWVudHMgb2YgdGhlIGdpdmVuIGFycmF5cywgYW5kIHNvIG9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBwcm9jZXNzLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGdyb3VwZWQgZWxlbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uemlwKFsnYScsICdiJ10sIFsxLCAyXSwgW3RydWUsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gW1snYScsIDEsIHRydWVdLCBbJ2InLCAyLCBmYWxzZV1dXG4gICAgICovXG4gICAgdmFyIHppcCA9IGJhc2VSZXN0KHVuemlwKTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZnJvbVBhaXJzYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIHR3byBhcnJheXMsXG4gICAgICogb25lIG9mIHByb3BlcnR5IGlkZW50aWZpZXJzIGFuZCBvbmUgb2YgY29ycmVzcG9uZGluZyB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC40LjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcHJvcHM9W11dIFRoZSBwcm9wZXJ0eSBpZGVudGlmaWVycy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbdmFsdWVzPVtdXSBUaGUgcHJvcGVydHkgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uemlwT2JqZWN0KFsnYScsICdiJ10sIFsxLCAyXSk7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdiJzogMiB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gemlwT2JqZWN0KHByb3BzLCB2YWx1ZXMpIHtcbiAgICAgIHJldHVybiBiYXNlWmlwT2JqZWN0KHByb3BzIHx8IFtdLCB2YWx1ZXMgfHwgW10sIGFzc2lnblZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnppcE9iamVjdGAgZXhjZXB0IHRoYXQgaXQgc3VwcG9ydHMgcHJvcGVydHkgcGF0aHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcHJvcHM9W11dIFRoZSBwcm9wZXJ0eSBpZGVudGlmaWVycy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbdmFsdWVzPVtdXSBUaGUgcHJvcGVydHkgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uemlwT2JqZWN0RGVlcChbJ2EuYlswXS5jJywgJ2EuYlsxXS5kJ10sIFsxLCAyXSk7XG4gICAgICogLy8gPT4geyAnYSc6IHsgJ2InOiBbeyAnYyc6IDEgfSwgeyAnZCc6IDIgfV0gfSB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gemlwT2JqZWN0RGVlcChwcm9wcywgdmFsdWVzKSB7XG4gICAgICByZXR1cm4gYmFzZVppcE9iamVjdChwcm9wcyB8fCBbXSwgdmFsdWVzIHx8IFtdLCBiYXNlU2V0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnppcGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHRvIHNwZWNpZnlcbiAgICAgKiBob3cgZ3JvdXBlZCB2YWx1ZXMgc2hvdWxkIGJlIGNvbWJpbmVkLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIHRoZVxuICAgICAqIGVsZW1lbnRzIG9mIGVhY2ggZ3JvdXA6ICguLi5ncm91cCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy44LjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIHByb2Nlc3MuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiB0byBjb21iaW5lXG4gICAgICogIGdyb3VwZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGdyb3VwZWQgZWxlbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uemlwV2l0aChbMSwgMl0sIFsxMCwgMjBdLCBbMTAwLCAyMDBdLCBmdW5jdGlvbihhLCBiLCBjKSB7XG4gICAgICogICByZXR1cm4gYSArIGIgKyBjO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IFsxMTEsIDIyMl1cbiAgICAgKi9cbiAgICB2YXIgemlwV2l0aCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5cy5sZW5ndGgsXG4gICAgICAgICAgaXRlcmF0ZWUgPSBsZW5ndGggPiAxID8gYXJyYXlzW2xlbmd0aCAtIDFdIDogdW5kZWZpbmVkO1xuXG4gICAgICBpdGVyYXRlZSA9IHR5cGVvZiBpdGVyYXRlZSA9PSAnZnVuY3Rpb24nID8gKGFycmF5cy5wb3AoKSwgaXRlcmF0ZWUpIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIHVuemlwV2l0aChhcnJheXMsIGl0ZXJhdGVlKTtcbiAgICB9KTtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlIHRoYXQgd3JhcHMgYHZhbHVlYCB3aXRoIGV4cGxpY2l0IG1ldGhvZFxuICAgICAqIGNoYWluIHNlcXVlbmNlcyBlbmFibGVkLiBUaGUgcmVzdWx0IG9mIHN1Y2ggc2VxdWVuY2VzIG11c3QgYmUgdW53cmFwcGVkXG4gICAgICogd2l0aCBgXyN2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gd3JhcC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FnZSc6IDM2IH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWdlJzogNDAgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhZ2UnOiAxIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogdmFyIHlvdW5nZXN0ID0gX1xuICAgICAqICAgLmNoYWluKHVzZXJzKVxuICAgICAqICAgLnNvcnRCeSgnYWdlJylcbiAgICAgKiAgIC5tYXAoZnVuY3Rpb24obykge1xuICAgICAqICAgICByZXR1cm4gby51c2VyICsgJyBpcyAnICsgby5hZ2U7XG4gICAgICogICB9KVxuICAgICAqICAgLmhlYWQoKVxuICAgICAqICAgLnZhbHVlKCk7XG4gICAgICogLy8gPT4gJ3BlYmJsZXMgaXMgMSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjaGFpbih2YWx1ZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IGxvZGFzaCh2YWx1ZSk7XG4gICAgICByZXN1bHQuX19jaGFpbl9fID0gdHJ1ZTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaW52b2tlcyBgaW50ZXJjZXB0b3JgIGFuZCByZXR1cm5zIGB2YWx1ZWAuIFRoZSBpbnRlcmNlcHRvclxuICAgICAqIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ7ICh2YWx1ZSkuIFRoZSBwdXJwb3NlIG9mIHRoaXMgbWV0aG9kIGlzIHRvXG4gICAgICogXCJ0YXAgaW50b1wiIGEgbWV0aG9kIGNoYWluIHNlcXVlbmNlIGluIG9yZGVyIHRvIG1vZGlmeSBpbnRlcm1lZGlhdGUgcmVzdWx0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm92aWRlIHRvIGBpbnRlcmNlcHRvcmAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaW50ZXJjZXB0b3IgVGhlIGZ1bmN0aW9uIHRvIGludm9rZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyBgdmFsdWVgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfKFsxLCAyLCAzXSlcbiAgICAgKiAgLnRhcChmdW5jdGlvbihhcnJheSkge1xuICAgICAqICAgIC8vIE11dGF0ZSBpbnB1dCBhcnJheS5cbiAgICAgKiAgICBhcnJheS5wb3AoKTtcbiAgICAgKiAgfSlcbiAgICAgKiAgLnJldmVyc2UoKVxuICAgICAqICAudmFsdWUoKTtcbiAgICAgKiAvLyA9PiBbMiwgMV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0YXAodmFsdWUsIGludGVyY2VwdG9yKSB7XG4gICAgICBpbnRlcmNlcHRvcih2YWx1ZSk7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy50YXBgIGV4Y2VwdCB0aGF0IGl0IHJldHVybnMgdGhlIHJlc3VsdCBvZiBgaW50ZXJjZXB0b3JgLlxuICAgICAqIFRoZSBwdXJwb3NlIG9mIHRoaXMgbWV0aG9kIGlzIHRvIFwicGFzcyB0aHJ1XCIgdmFsdWVzIHJlcGxhY2luZyBpbnRlcm1lZGlhdGVcbiAgICAgKiByZXN1bHRzIGluIGEgbWV0aG9kIGNoYWluIHNlcXVlbmNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb3ZpZGUgdG8gYGludGVyY2VwdG9yYC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpbnRlcmNlcHRvciBUaGUgZnVuY3Rpb24gdG8gaW52b2tlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXN1bHQgb2YgYGludGVyY2VwdG9yYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXygnICBhYmMgICcpXG4gICAgICogIC5jaGFpbigpXG4gICAgICogIC50cmltKClcbiAgICAgKiAgLnRocnUoZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgKiAgICByZXR1cm4gW3ZhbHVlXTtcbiAgICAgKiAgfSlcbiAgICAgKiAgLnZhbHVlKCk7XG4gICAgICogLy8gPT4gWydhYmMnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRocnUodmFsdWUsIGludGVyY2VwdG9yKSB7XG4gICAgICByZXR1cm4gaW50ZXJjZXB0b3IodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIHRoZSB3cmFwcGVyIHZlcnNpb24gb2YgYF8uYXRgLlxuICAgICAqXG4gICAgICogQG5hbWUgYXRcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcGFyYW0gey4uLihzdHJpbmd8c3RyaW5nW10pfSBbcGF0aHNdIFRoZSBwcm9wZXJ0eSBwYXRocyB0byBwaWNrLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYyc6IDMgfSB9LCA0XSB9O1xuICAgICAqXG4gICAgICogXyhvYmplY3QpLmF0KFsnYVswXS5iLmMnLCAnYVsxXSddKS52YWx1ZSgpO1xuICAgICAqIC8vID0+IFszLCA0XVxuICAgICAqL1xuICAgIHZhciB3cmFwcGVyQXQgPSBmbGF0UmVzdChmdW5jdGlvbihwYXRocykge1xuICAgICAgdmFyIGxlbmd0aCA9IHBhdGhzLmxlbmd0aCxcbiAgICAgICAgICBzdGFydCA9IGxlbmd0aCA/IHBhdGhzWzBdIDogMCxcbiAgICAgICAgICB2YWx1ZSA9IHRoaXMuX193cmFwcGVkX18sXG4gICAgICAgICAgaW50ZXJjZXB0b3IgPSBmdW5jdGlvbihvYmplY3QpIHsgcmV0dXJuIGJhc2VBdChvYmplY3QsIHBhdGhzKTsgfTtcblxuICAgICAgaWYgKGxlbmd0aCA+IDEgfHwgdGhpcy5fX2FjdGlvbnNfXy5sZW5ndGggfHxcbiAgICAgICAgICAhKHZhbHVlIGluc3RhbmNlb2YgTGF6eVdyYXBwZXIpIHx8ICFpc0luZGV4KHN0YXJ0KSkge1xuICAgICAgICByZXR1cm4gdGhpcy50aHJ1KGludGVyY2VwdG9yKTtcbiAgICAgIH1cbiAgICAgIHZhbHVlID0gdmFsdWUuc2xpY2Uoc3RhcnQsICtzdGFydCArIChsZW5ndGggPyAxIDogMCkpO1xuICAgICAgdmFsdWUuX19hY3Rpb25zX18ucHVzaCh7XG4gICAgICAgICdmdW5jJzogdGhydSxcbiAgICAgICAgJ2FyZ3MnOiBbaW50ZXJjZXB0b3JdLFxuICAgICAgICAndGhpc0FyZyc6IHVuZGVmaW5lZFxuICAgICAgfSk7XG4gICAgICByZXR1cm4gbmV3IExvZGFzaFdyYXBwZXIodmFsdWUsIHRoaXMuX19jaGFpbl9fKS50aHJ1KGZ1bmN0aW9uKGFycmF5KSB7XG4gICAgICAgIGlmIChsZW5ndGggJiYgIWFycmF5Lmxlbmd0aCkge1xuICAgICAgICAgIGFycmF5LnB1c2godW5kZWZpbmVkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXJyYXk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlIHdpdGggZXhwbGljaXQgbWV0aG9kIGNoYWluIHNlcXVlbmNlcyBlbmFibGVkLlxuICAgICAqXG4gICAgICogQG5hbWUgY2hhaW5cbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzYgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQwIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gQSBzZXF1ZW5jZSB3aXRob3V0IGV4cGxpY2l0IGNoYWluaW5nLlxuICAgICAqIF8odXNlcnMpLmhlYWQoKTtcbiAgICAgKiAvLyA9PiB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiB9XG4gICAgICpcbiAgICAgKiAvLyBBIHNlcXVlbmNlIHdpdGggZXhwbGljaXQgY2hhaW5pbmcuXG4gICAgICogXyh1c2VycylcbiAgICAgKiAgIC5jaGFpbigpXG4gICAgICogICAuaGVhZCgpXG4gICAgICogICAucGljaygndXNlcicpXG4gICAgICogICAudmFsdWUoKTtcbiAgICAgKiAvLyA9PiB7ICd1c2VyJzogJ2Jhcm5leScgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJDaGFpbigpIHtcbiAgICAgIHJldHVybiBjaGFpbih0aGlzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeGVjdXRlcyB0aGUgY2hhaW4gc2VxdWVuY2UgYW5kIHJldHVybnMgdGhlIHdyYXBwZWQgcmVzdWx0LlxuICAgICAqXG4gICAgICogQG5hbWUgY29tbWl0XG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4yLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsxLCAyXTtcbiAgICAgKiB2YXIgd3JhcHBlZCA9IF8oYXJyYXkpLnB1c2goMyk7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICpcbiAgICAgKiB3cmFwcGVkID0gd3JhcHBlZC5jb21taXQoKTtcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiB3cmFwcGVkLmxhc3QoKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlckNvbW1pdCgpIHtcbiAgICAgIHJldHVybiBuZXcgTG9kYXNoV3JhcHBlcih0aGlzLnZhbHVlKCksIHRoaXMuX19jaGFpbl9fKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBuZXh0IHZhbHVlIG9uIGEgd3JhcHBlZCBvYmplY3QgZm9sbG93aW5nIHRoZVxuICAgICAqIFtpdGVyYXRvciBwcm90b2NvbF0oaHR0cHM6Ly9tZG4uaW8vaXRlcmF0aW9uX3Byb3RvY29scyNpdGVyYXRvcikuXG4gICAgICpcbiAgICAgKiBAbmFtZSBuZXh0XG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV4dCBpdGVyYXRvciB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHdyYXBwZWQgPSBfKFsxLCAyXSk7XG4gICAgICpcbiAgICAgKiB3cmFwcGVkLm5leHQoKTtcbiAgICAgKiAvLyA9PiB7ICdkb25lJzogZmFsc2UsICd2YWx1ZSc6IDEgfVxuICAgICAqXG4gICAgICogd3JhcHBlZC5uZXh0KCk7XG4gICAgICogLy8gPT4geyAnZG9uZSc6IGZhbHNlLCAndmFsdWUnOiAyIH1cbiAgICAgKlxuICAgICAqIHdyYXBwZWQubmV4dCgpO1xuICAgICAqIC8vID0+IHsgJ2RvbmUnOiB0cnVlLCAndmFsdWUnOiB1bmRlZmluZWQgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJOZXh0KCkge1xuICAgICAgaWYgKHRoaXMuX192YWx1ZXNfXyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMuX192YWx1ZXNfXyA9IHRvQXJyYXkodGhpcy52YWx1ZSgpKTtcbiAgICAgIH1cbiAgICAgIHZhciBkb25lID0gdGhpcy5fX2luZGV4X18gPj0gdGhpcy5fX3ZhbHVlc19fLmxlbmd0aCxcbiAgICAgICAgICB2YWx1ZSA9IGRvbmUgPyB1bmRlZmluZWQgOiB0aGlzLl9fdmFsdWVzX19bdGhpcy5fX2luZGV4X18rK107XG5cbiAgICAgIHJldHVybiB7ICdkb25lJzogZG9uZSwgJ3ZhbHVlJzogdmFsdWUgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbmFibGVzIHRoZSB3cmFwcGVyIHRvIGJlIGl0ZXJhYmxlLlxuICAgICAqXG4gICAgICogQG5hbWUgU3ltYm9sLml0ZXJhdG9yXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgd3JhcHBlciBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB3cmFwcGVkID0gXyhbMSwgMl0pO1xuICAgICAqXG4gICAgICogd3JhcHBlZFtTeW1ib2wuaXRlcmF0b3JdKCkgPT09IHdyYXBwZWQ7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogQXJyYXkuZnJvbSh3cmFwcGVkKTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwcGVyVG9JdGVyYXRvcigpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGUgY2hhaW4gc2VxdWVuY2UgcGxhbnRpbmcgYHZhbHVlYCBhcyB0aGUgd3JhcHBlZCB2YWx1ZS5cbiAgICAgKlxuICAgICAqIEBuYW1lIHBsYW50XG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4yLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcGxhbnQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIHNxdWFyZShuKSB7XG4gICAgICogICByZXR1cm4gbiAqIG47XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIHdyYXBwZWQgPSBfKFsxLCAyXSkubWFwKHNxdWFyZSk7XG4gICAgICogdmFyIG90aGVyID0gd3JhcHBlZC5wbGFudChbMywgNF0pO1xuICAgICAqXG4gICAgICogb3RoZXIudmFsdWUoKTtcbiAgICAgKiAvLyA9PiBbOSwgMTZdXG4gICAgICpcbiAgICAgKiB3cmFwcGVkLnZhbHVlKCk7XG4gICAgICogLy8gPT4gWzEsIDRdXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlclBsYW50KHZhbHVlKSB7XG4gICAgICB2YXIgcmVzdWx0LFxuICAgICAgICAgIHBhcmVudCA9IHRoaXM7XG5cbiAgICAgIHdoaWxlIChwYXJlbnQgaW5zdGFuY2VvZiBiYXNlTG9kYXNoKSB7XG4gICAgICAgIHZhciBjbG9uZSA9IHdyYXBwZXJDbG9uZShwYXJlbnQpO1xuICAgICAgICBjbG9uZS5fX2luZGV4X18gPSAwO1xuICAgICAgICBjbG9uZS5fX3ZhbHVlc19fID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgcHJldmlvdXMuX193cmFwcGVkX18gPSBjbG9uZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXN1bHQgPSBjbG9uZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcHJldmlvdXMgPSBjbG9uZTtcbiAgICAgICAgcGFyZW50ID0gcGFyZW50Ll9fd3JhcHBlZF9fO1xuICAgICAgfVxuICAgICAgcHJldmlvdXMuX193cmFwcGVkX18gPSB2YWx1ZTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgdGhlIHdyYXBwZXIgdmVyc2lvbiBvZiBgXy5yZXZlcnNlYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIHRoZSB3cmFwcGVkIGFycmF5LlxuICAgICAqXG4gICAgICogQG5hbWUgcmV2ZXJzZVxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMSwgMiwgM107XG4gICAgICpcbiAgICAgKiBfKGFycmF5KS5yZXZlcnNlKCkudmFsdWUoKVxuICAgICAqIC8vID0+IFszLCAyLCAxXVxuICAgICAqXG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFszLCAyLCAxXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJSZXZlcnNlKCkge1xuICAgICAgdmFyIHZhbHVlID0gdGhpcy5fX3dyYXBwZWRfXztcbiAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIExhenlXcmFwcGVyKSB7XG4gICAgICAgIHZhciB3cmFwcGVkID0gdmFsdWU7XG4gICAgICAgIGlmICh0aGlzLl9fYWN0aW9uc19fLmxlbmd0aCkge1xuICAgICAgICAgIHdyYXBwZWQgPSBuZXcgTGF6eVdyYXBwZXIodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgd3JhcHBlZCA9IHdyYXBwZWQucmV2ZXJzZSgpO1xuICAgICAgICB3cmFwcGVkLl9fYWN0aW9uc19fLnB1c2goe1xuICAgICAgICAgICdmdW5jJzogdGhydSxcbiAgICAgICAgICAnYXJncyc6IFtyZXZlcnNlXSxcbiAgICAgICAgICAndGhpc0FyZyc6IHVuZGVmaW5lZFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG5ldyBMb2Rhc2hXcmFwcGVyKHdyYXBwZWQsIHRoaXMuX19jaGFpbl9fKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLnRocnUocmV2ZXJzZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXhlY3V0ZXMgdGhlIGNoYWluIHNlcXVlbmNlIHRvIHJlc29sdmUgdGhlIHVud3JhcHBlZCB2YWx1ZS5cbiAgICAgKlxuICAgICAqIEBuYW1lIHZhbHVlXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAYWxpYXMgdG9KU09OLCB2YWx1ZU9mXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXNvbHZlZCB1bndyYXBwZWQgdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8oWzEsIDIsIDNdKS52YWx1ZSgpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJWYWx1ZSgpIHtcbiAgICAgIHJldHVybiBiYXNlV3JhcHBlclZhbHVlKHRoaXMuX193cmFwcGVkX18sIHRoaXMuX19hY3Rpb25zX18pO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIGtleXMgZ2VuZXJhdGVkIGZyb20gdGhlIHJlc3VsdHMgb2YgcnVubmluZ1xuICAgICAqIGVhY2ggZWxlbWVudCBvZiBgY29sbGVjdGlvbmAgdGhydSBgaXRlcmF0ZWVgLiBUaGUgY29ycmVzcG9uZGluZyB2YWx1ZSBvZlxuICAgICAqIGVhY2gga2V5IGlzIHRoZSBudW1iZXIgb2YgdGltZXMgdGhlIGtleSB3YXMgcmV0dXJuZWQgYnkgYGl0ZXJhdGVlYC4gVGhlXG4gICAgICogaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjUuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgdG8gdHJhbnNmb3JtIGtleXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY29tcG9zZWQgYWdncmVnYXRlIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5jb3VudEJ5KFs2LjEsIDQuMiwgNi4zXSwgTWF0aC5mbG9vcik7XG4gICAgICogLy8gPT4geyAnNCc6IDEsICc2JzogMiB9XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmNvdW50QnkoWydvbmUnLCAndHdvJywgJ3RocmVlJ10sICdsZW5ndGgnKTtcbiAgICAgKiAvLyA9PiB7ICczJzogMiwgJzUnOiAxIH1cbiAgICAgKi9cbiAgICB2YXIgY291bnRCeSA9IGNyZWF0ZUFnZ3JlZ2F0b3IoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChyZXN1bHQsIGtleSkpIHtcbiAgICAgICAgKytyZXN1bHRba2V5XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJhc2VBc3NpZ25WYWx1ZShyZXN1bHQsIGtleSwgMSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yICoqYWxsKiogZWxlbWVudHMgb2YgYGNvbGxlY3Rpb25gLlxuICAgICAqIEl0ZXJhdGlvbiBpcyBzdG9wcGVkIG9uY2UgYHByZWRpY2F0ZWAgcmV0dXJucyBmYWxzZXkuIFRoZSBwcmVkaWNhdGUgaXNcbiAgICAgKiBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgcmV0dXJucyBgdHJ1ZWAgZm9yXG4gICAgICogW2VtcHR5IGNvbGxlY3Rpb25zXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9FbXB0eV9zZXQpIGJlY2F1c2VcbiAgICAgKiBbZXZlcnl0aGluZyBpcyB0cnVlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9WYWN1b3VzX3RydXRoKSBvZlxuICAgICAqIGVsZW1lbnRzIG9mIGVtcHR5IGNvbGxlY3Rpb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFsbCBlbGVtZW50cyBwYXNzIHRoZSBwcmVkaWNhdGUgY2hlY2ssXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5ldmVyeShbdHJ1ZSwgMSwgbnVsbCwgJ3llcyddLCBCb29sZWFuKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzYsICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDAsICdhY3RpdmUnOiBmYWxzZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5ldmVyeSh1c2VycywgeyAndXNlcic6ICdiYXJuZXknLCAnYWN0aXZlJzogZmFsc2UgfSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmV2ZXJ5KHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5ldmVyeSh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gZXZlcnkoY29sbGVjdGlvbiwgcHJlZGljYXRlLCBndWFyZCkge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlFdmVyeSA6IGJhc2VFdmVyeTtcbiAgICAgIGlmIChndWFyZCAmJiBpc0l0ZXJhdGVlQ2FsbChjb2xsZWN0aW9uLCBwcmVkaWNhdGUsIGd1YXJkKSkge1xuICAgICAgICBwcmVkaWNhdGUgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mIGBjb2xsZWN0aW9uYCwgcmV0dXJuaW5nIGFuIGFycmF5IG9mIGFsbCBlbGVtZW50c1xuICAgICAqIGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5IGZvci4gVGhlIHByZWRpY2F0ZSBpcyBpbnZva2VkIHdpdGggdGhyZWVcbiAgICAgKiBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8ucmVtb3ZlYCwgdGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmaWx0ZXJlZCBhcnJheS5cbiAgICAgKiBAc2VlIF8ucmVqZWN0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDAsICdhY3RpdmUnOiBmYWxzZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZmlsdGVyKHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiAhby5hY3RpdmU7IH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmlsdGVyKHVzZXJzLCB7ICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmlsdGVyKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydmcmVkJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmlsdGVyKHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknXVxuICAgICAqXG4gICAgICogLy8gQ29tYmluaW5nIHNldmVyYWwgcHJlZGljYXRlcyB1c2luZyBgXy5vdmVyRXZlcnlgIG9yIGBfLm92ZXJTb21lYC5cbiAgICAgKiBfLmZpbHRlcih1c2VycywgXy5vdmVyU29tZShbeyAnYWdlJzogMzYgfSwgWydhZ2UnLCA0MF1dKSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydmcmVkJywgJ2Jhcm5leSddXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmlsdGVyKGNvbGxlY3Rpb24sIHByZWRpY2F0ZSkge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlGaWx0ZXIgOiBiYXNlRmlsdGVyO1xuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZiBgY29sbGVjdGlvbmAsIHJldHVybmluZyB0aGUgZmlyc3QgZWxlbWVudFxuICAgICAqIGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5IGZvci4gVGhlIHByZWRpY2F0ZSBpcyBpbnZva2VkIHdpdGggdGhyZWVcbiAgICAgKiBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9MF0gVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBtYXRjaGVkIGVsZW1lbnQsIGVsc2UgYHVuZGVmaW5lZGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWdlJzogMSwgICdhY3RpdmUnOiB0cnVlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5maW5kKHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLmFnZSA8IDQwOyB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3QgZm9yICdiYXJuZXknXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZCh1c2VycywgeyAnYWdlJzogMSwgJ2FjdGl2ZSc6IHRydWUgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0IGZvciAncGViYmxlcydcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmQodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBvYmplY3QgZm9yICdmcmVkJ1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kKHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gb2JqZWN0IGZvciAnYmFybmV5J1xuICAgICAqL1xuICAgIHZhciBmaW5kID0gY3JlYXRlRmluZChmaW5kSW5kZXgpO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5maW5kYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mXG4gICAgICogYGNvbGxlY3Rpb25gIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9Y29sbGVjdGlvbi5sZW5ndGgtMV0gVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBtYXRjaGVkIGVsZW1lbnQsIGVsc2UgYHVuZGVmaW5lZGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZmluZExhc3QoWzEsIDIsIDMsIDRdLCBmdW5jdGlvbihuKSB7XG4gICAgICogICByZXR1cm4gbiAlIDIgPT0gMTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICovXG4gICAgdmFyIGZpbmRMYXN0ID0gY3JlYXRlRmluZChmaW5kTGFzdEluZGV4KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmbGF0dGVuZWQgYXJyYXkgb2YgdmFsdWVzIGJ5IHJ1bm5pbmcgZWFjaCBlbGVtZW50IGluIGBjb2xsZWN0aW9uYFxuICAgICAqIHRocnUgYGl0ZXJhdGVlYCBhbmQgZmxhdHRlbmluZyB0aGUgbWFwcGVkIHJlc3VsdHMuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZsYXR0ZW5lZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gZHVwbGljYXRlKG4pIHtcbiAgICAgKiAgIHJldHVybiBbbiwgbl07XG4gICAgICogfVxuICAgICAqXG4gICAgICogXy5mbGF0TWFwKFsxLCAyXSwgZHVwbGljYXRlKTtcbiAgICAgKiAvLyA9PiBbMSwgMSwgMiwgMl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmbGF0TWFwKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gYmFzZUZsYXR0ZW4obWFwKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSwgMSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mbGF0TWFwYCBleGNlcHQgdGhhdCBpdCByZWN1cnNpdmVseSBmbGF0dGVucyB0aGVcbiAgICAgKiBtYXBwZWQgcmVzdWx0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjcuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZsYXR0ZW5lZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gZHVwbGljYXRlKG4pIHtcbiAgICAgKiAgIHJldHVybiBbW1tuLCBuXV1dO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIF8uZmxhdE1hcERlZXAoWzEsIDJdLCBkdXBsaWNhdGUpO1xuICAgICAqIC8vID0+IFsxLCAxLCAyLCAyXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsYXRNYXBEZWVwKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gYmFzZUZsYXR0ZW4obWFwKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSwgSU5GSU5JVFkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZmxhdE1hcGAgZXhjZXB0IHRoYXQgaXQgcmVjdXJzaXZlbHkgZmxhdHRlbnMgdGhlXG4gICAgICogbWFwcGVkIHJlc3VsdHMgdXAgdG8gYGRlcHRoYCB0aW1lcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjcuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZGVwdGg9MV0gVGhlIG1heGltdW0gcmVjdXJzaW9uIGRlcHRoLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZsYXR0ZW5lZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gZHVwbGljYXRlKG4pIHtcbiAgICAgKiAgIHJldHVybiBbW1tuLCBuXV1dO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIF8uZmxhdE1hcERlcHRoKFsxLCAyXSwgZHVwbGljYXRlLCAyKTtcbiAgICAgKiAvLyA9PiBbWzEsIDFdLCBbMiwgMl1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxhdE1hcERlcHRoKGNvbGxlY3Rpb24sIGl0ZXJhdGVlLCBkZXB0aCkge1xuICAgICAgZGVwdGggPSBkZXB0aCA9PT0gdW5kZWZpbmVkID8gMSA6IHRvSW50ZWdlcihkZXB0aCk7XG4gICAgICByZXR1cm4gYmFzZUZsYXR0ZW4obWFwKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSwgZGVwdGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2YgYGNvbGxlY3Rpb25gIGFuZCBpbnZva2VzIGBpdGVyYXRlZWAgZm9yIGVhY2ggZWxlbWVudC5cbiAgICAgKiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqIEl0ZXJhdGVlIGZ1bmN0aW9ucyBtYXkgZXhpdCBpdGVyYXRpb24gZWFybHkgYnkgZXhwbGljaXRseSByZXR1cm5pbmcgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBBcyB3aXRoIG90aGVyIFwiQ29sbGVjdGlvbnNcIiBtZXRob2RzLCBvYmplY3RzIHdpdGggYSBcImxlbmd0aFwiXG4gICAgICogcHJvcGVydHkgYXJlIGl0ZXJhdGVkIGxpa2UgYXJyYXlzLiBUbyBhdm9pZCB0aGlzIGJlaGF2aW9yIHVzZSBgXy5mb3JJbmBcbiAgICAgKiBvciBgXy5mb3JPd25gIGZvciBvYmplY3QgaXRlcmF0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGFsaWFzIGVhY2hcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl8T2JqZWN0fSBSZXR1cm5zIGBjb2xsZWN0aW9uYC5cbiAgICAgKiBAc2VlIF8uZm9yRWFjaFJpZ2h0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZm9yRWFjaChbMSwgMl0sIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICogICBjb25zb2xlLmxvZyh2YWx1ZSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyBgMWAgdGhlbiBgMmAuXG4gICAgICpcbiAgICAgKiBfLmZvckVhY2goeyAnYSc6IDEsICdiJzogMiB9LCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICogICBjb25zb2xlLmxvZyhrZXkpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgJ2EnIHRoZW4gJ2InIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZvckVhY2goY29sbGVjdGlvbiwgaXRlcmF0ZWUpIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5RWFjaCA6IGJhc2VFYWNoO1xuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZvckVhY2hgIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2ZcbiAgICAgKiBgY29sbGVjdGlvbmAgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGFsaWFzIGVhY2hSaWdodFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheXxPYmplY3R9IFJldHVybnMgYGNvbGxlY3Rpb25gLlxuICAgICAqIEBzZWUgXy5mb3JFYWNoXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZm9yRWFjaFJpZ2h0KFsxLCAyXSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKHZhbHVlKTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBMb2dzIGAyYCB0aGVuIGAxYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmb3JFYWNoUmlnaHQoY29sbGVjdGlvbiwgaXRlcmF0ZWUpIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5RWFjaFJpZ2h0IDogYmFzZUVhY2hSaWdodDtcbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2Yga2V5cyBnZW5lcmF0ZWQgZnJvbSB0aGUgcmVzdWx0cyBvZiBydW5uaW5nXG4gICAgICogZWFjaCBlbGVtZW50IG9mIGBjb2xsZWN0aW9uYCB0aHJ1IGBpdGVyYXRlZWAuIFRoZSBvcmRlciBvZiBncm91cGVkIHZhbHVlc1xuICAgICAqIGlzIGRldGVybWluZWQgYnkgdGhlIG9yZGVyIHRoZXkgb2NjdXIgaW4gYGNvbGxlY3Rpb25gLiBUaGUgY29ycmVzcG9uZGluZ1xuICAgICAqIHZhbHVlIG9mIGVhY2gga2V5IGlzIGFuIGFycmF5IG9mIGVsZW1lbnRzIHJlc3BvbnNpYmxlIGZvciBnZW5lcmF0aW5nIHRoZVxuICAgICAqIGtleS4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIHRvIHRyYW5zZm9ybSBrZXlzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNvbXBvc2VkIGFnZ3JlZ2F0ZSBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZ3JvdXBCeShbNi4xLCA0LjIsIDYuM10sIE1hdGguZmxvb3IpO1xuICAgICAqIC8vID0+IHsgJzQnOiBbNC4yXSwgJzYnOiBbNi4xLCA2LjNdIH1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZ3JvdXBCeShbJ29uZScsICd0d28nLCAndGhyZWUnXSwgJ2xlbmd0aCcpO1xuICAgICAqIC8vID0+IHsgJzMnOiBbJ29uZScsICd0d28nXSwgJzUnOiBbJ3RocmVlJ10gfVxuICAgICAqL1xuICAgIHZhciBncm91cEJ5ID0gY3JlYXRlQWdncmVnYXRvcihmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHJlc3VsdCwga2V5KSkge1xuICAgICAgICByZXN1bHRba2V5XS5wdXNoKHZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJhc2VBc3NpZ25WYWx1ZShyZXN1bHQsIGtleSwgW3ZhbHVlXSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBpbiBgY29sbGVjdGlvbmAuIElmIGBjb2xsZWN0aW9uYCBpcyBhIHN0cmluZywgaXQnc1xuICAgICAqIGNoZWNrZWQgZm9yIGEgc3Vic3RyaW5nIG9mIGB2YWx1ZWAsIG90aGVyd2lzZVxuICAgICAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogaXMgdXNlZCBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuIElmIGBmcm9tSW5kZXhgIGlzIG5lZ2F0aXZlLCBpdCdzIHVzZWQgYXNcbiAgICAgKiB0aGUgb2Zmc2V0IGZyb20gdGhlIGVuZCBvZiBgY29sbGVjdGlvbmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fHN0cmluZ30gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9MF0gVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLnJlZHVjZWAuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZm91bmQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pbmNsdWRlcyhbMSwgMiwgM10sIDEpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaW5jbHVkZXMoWzEsIDIsIDNdLCAxLCAyKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pbmNsdWRlcyh7ICdhJzogMSwgJ2InOiAyIH0sIDEpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaW5jbHVkZXMoJ2FiY2QnLCAnYmMnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5jbHVkZXMoY29sbGVjdGlvbiwgdmFsdWUsIGZyb21JbmRleCwgZ3VhcmQpIHtcbiAgICAgIGNvbGxlY3Rpb24gPSBpc0FycmF5TGlrZShjb2xsZWN0aW9uKSA/IGNvbGxlY3Rpb24gOiB2YWx1ZXMoY29sbGVjdGlvbik7XG4gICAgICBmcm9tSW5kZXggPSAoZnJvbUluZGV4ICYmICFndWFyZCkgPyB0b0ludGVnZXIoZnJvbUluZGV4KSA6IDA7XG5cbiAgICAgIHZhciBsZW5ndGggPSBjb2xsZWN0aW9uLmxlbmd0aDtcbiAgICAgIGlmIChmcm9tSW5kZXggPCAwKSB7XG4gICAgICAgIGZyb21JbmRleCA9IG5hdGl2ZU1heChsZW5ndGggKyBmcm9tSW5kZXgsIDApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGlzU3RyaW5nKGNvbGxlY3Rpb24pXG4gICAgICAgID8gKGZyb21JbmRleCA8PSBsZW5ndGggJiYgY29sbGVjdGlvbi5pbmRleE9mKHZhbHVlLCBmcm9tSW5kZXgpID4gLTEpXG4gICAgICAgIDogKCEhbGVuZ3RoICYmIGJhc2VJbmRleE9mKGNvbGxlY3Rpb24sIHZhbHVlLCBmcm9tSW5kZXgpID4gLTEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEludm9rZXMgdGhlIG1ldGhvZCBhdCBgcGF0aGAgb2YgZWFjaCBlbGVtZW50IGluIGBjb2xsZWN0aW9uYCwgcmV0dXJuaW5nXG4gICAgICogYW4gYXJyYXkgb2YgdGhlIHJlc3VsdHMgb2YgZWFjaCBpbnZva2VkIG1ldGhvZC4gQW55IGFkZGl0aW9uYWwgYXJndW1lbnRzXG4gICAgICogYXJlIHByb3ZpZGVkIHRvIGVhY2ggaW52b2tlZCBtZXRob2QuIElmIGBwYXRoYCBpcyBhIGZ1bmN0aW9uLCBpdCdzIGludm9rZWRcbiAgICAgKiBmb3IsIGFuZCBgdGhpc2AgYm91bmQgdG8sIGVhY2ggZWxlbWVudCBpbiBgY29sbGVjdGlvbmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0FycmF5fEZ1bmN0aW9ufHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgbWV0aG9kIHRvIGludm9rZSBvclxuICAgICAqICB0aGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ3NdIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIGVhY2ggbWV0aG9kIHdpdGguXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiByZXN1bHRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmludm9rZU1hcChbWzUsIDEsIDddLCBbMywgMiwgMV1dLCAnc29ydCcpO1xuICAgICAqIC8vID0+IFtbMSwgNSwgN10sIFsxLCAyLCAzXV1cbiAgICAgKlxuICAgICAqIF8uaW52b2tlTWFwKFsxMjMsIDQ1Nl0sIFN0cmluZy5wcm90b3R5cGUuc3BsaXQsICcnKTtcbiAgICAgKiAvLyA9PiBbWycxJywgJzInLCAnMyddLCBbJzQnLCAnNScsICc2J11dXG4gICAgICovXG4gICAgdmFyIGludm9rZU1hcCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGNvbGxlY3Rpb24sIHBhdGgsIGFyZ3MpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGlzRnVuYyA9IHR5cGVvZiBwYXRoID09ICdmdW5jdGlvbicsXG4gICAgICAgICAgcmVzdWx0ID0gaXNBcnJheUxpa2UoY29sbGVjdGlvbikgPyBBcnJheShjb2xsZWN0aW9uLmxlbmd0aCkgOiBbXTtcblxuICAgICAgYmFzZUVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmVzdWx0WysraW5kZXhdID0gaXNGdW5jID8gYXBwbHkocGF0aCwgdmFsdWUsIGFyZ3MpIDogYmFzZUludm9rZSh2YWx1ZSwgcGF0aCwgYXJncyk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCBjb21wb3NlZCBvZiBrZXlzIGdlbmVyYXRlZCBmcm9tIHRoZSByZXN1bHRzIG9mIHJ1bm5pbmdcbiAgICAgKiBlYWNoIGVsZW1lbnQgb2YgYGNvbGxlY3Rpb25gIHRocnUgYGl0ZXJhdGVlYC4gVGhlIGNvcnJlc3BvbmRpbmcgdmFsdWUgb2ZcbiAgICAgKiBlYWNoIGtleSBpcyB0aGUgbGFzdCBlbGVtZW50IHJlc3BvbnNpYmxlIGZvciBnZW5lcmF0aW5nIHRoZSBrZXkuIFRoZVxuICAgICAqIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIHRvIHRyYW5zZm9ybSBrZXlzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNvbXBvc2VkIGFnZ3JlZ2F0ZSBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFtcbiAgICAgKiAgIHsgJ2Rpcic6ICdsZWZ0JywgJ2NvZGUnOiA5NyB9LFxuICAgICAqICAgeyAnZGlyJzogJ3JpZ2h0JywgJ2NvZGUnOiAxMDAgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmtleUJ5KGFycmF5LCBmdW5jdGlvbihvKSB7XG4gICAgICogICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShvLmNvZGUpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IHsgJ2EnOiB7ICdkaXInOiAnbGVmdCcsICdjb2RlJzogOTcgfSwgJ2QnOiB7ICdkaXInOiAncmlnaHQnLCAnY29kZSc6IDEwMCB9IH1cbiAgICAgKlxuICAgICAqIF8ua2V5QnkoYXJyYXksICdkaXInKTtcbiAgICAgKiAvLyA9PiB7ICdsZWZ0JzogeyAnZGlyJzogJ2xlZnQnLCAnY29kZSc6IDk3IH0sICdyaWdodCc6IHsgJ2Rpcic6ICdyaWdodCcsICdjb2RlJzogMTAwIH0gfVxuICAgICAqL1xuICAgIHZhciBrZXlCeSA9IGNyZWF0ZUFnZ3JlZ2F0b3IoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgICBiYXNlQXNzaWduVmFsdWUocmVzdWx0LCBrZXksIHZhbHVlKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdmFsdWVzIGJ5IHJ1bm5pbmcgZWFjaCBlbGVtZW50IGluIGBjb2xsZWN0aW9uYCB0aHJ1XG4gICAgICogYGl0ZXJhdGVlYC4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM6XG4gICAgICogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogTWFueSBsb2Rhc2ggbWV0aG9kcyBhcmUgZ3VhcmRlZCB0byB3b3JrIGFzIGl0ZXJhdGVlcyBmb3IgbWV0aG9kcyBsaWtlXG4gICAgICogYF8uZXZlcnlgLCBgXy5maWx0ZXJgLCBgXy5tYXBgLCBgXy5tYXBWYWx1ZXNgLCBgXy5yZWplY3RgLCBhbmQgYF8uc29tZWAuXG4gICAgICpcbiAgICAgKiBUaGUgZ3VhcmRlZCBtZXRob2RzIGFyZTpcbiAgICAgKiBgYXJ5YCwgYGNodW5rYCwgYGN1cnJ5YCwgYGN1cnJ5UmlnaHRgLCBgZHJvcGAsIGBkcm9wUmlnaHRgLCBgZXZlcnlgLFxuICAgICAqIGBmaWxsYCwgYGludmVydGAsIGBwYXJzZUludGAsIGByYW5kb21gLCBgcmFuZ2VgLCBgcmFuZ2VSaWdodGAsIGByZXBlYXRgLFxuICAgICAqIGBzYW1wbGVTaXplYCwgYHNsaWNlYCwgYHNvbWVgLCBgc29ydEJ5YCwgYHNwbGl0YCwgYHRha2VgLCBgdGFrZVJpZ2h0YCxcbiAgICAgKiBgdGVtcGxhdGVgLCBgdHJpbWAsIGB0cmltRW5kYCwgYHRyaW1TdGFydGAsIGFuZCBgd29yZHNgXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBtYXBwZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIHNxdWFyZShuKSB7XG4gICAgICogICByZXR1cm4gbiAqIG47XG4gICAgICogfVxuICAgICAqXG4gICAgICogXy5tYXAoWzQsIDhdLCBzcXVhcmUpO1xuICAgICAqIC8vID0+IFsxNiwgNjRdXG4gICAgICpcbiAgICAgKiBfLm1hcCh7ICdhJzogNCwgJ2InOiA4IH0sIHNxdWFyZSk7XG4gICAgICogLy8gPT4gWzE2LCA2NF0gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JyB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJyB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ubWFwKHVzZXJzLCAndXNlcicpO1xuICAgICAqIC8vID0+IFsnYmFybmV5JywgJ2ZyZWQnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcChjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlNYXAgOiBiYXNlTWFwO1xuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnNvcnRCeWAgZXhjZXB0IHRoYXQgaXQgYWxsb3dzIHNwZWNpZnlpbmcgdGhlIHNvcnRcbiAgICAgKiBvcmRlcnMgb2YgdGhlIGl0ZXJhdGVlcyB0byBzb3J0IGJ5LiBJZiBgb3JkZXJzYCBpcyB1bnNwZWNpZmllZCwgYWxsIHZhbHVlc1xuICAgICAqIGFyZSBzb3J0ZWQgaW4gYXNjZW5kaW5nIG9yZGVyLiBPdGhlcndpc2UsIHNwZWNpZnkgYW4gb3JkZXIgb2YgXCJkZXNjXCIgZm9yXG4gICAgICogZGVzY2VuZGluZyBvciBcImFzY1wiIGZvciBhc2NlbmRpbmcgc29ydCBvcmRlciBvZiBjb3JyZXNwb25kaW5nIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7QXJyYXlbXXxGdW5jdGlvbltdfE9iamVjdFtdfHN0cmluZ1tdfSBbaXRlcmF0ZWVzPVtfLmlkZW50aXR5XV1cbiAgICAgKiAgVGhlIGl0ZXJhdGVlcyB0byBzb3J0IGJ5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IFtvcmRlcnNdIFRoZSBzb3J0IG9yZGVycyBvZiBgaXRlcmF0ZWVzYC5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5yZWR1Y2VgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IHNvcnRlZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDggfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM0IH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCB9LFxuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzYgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyBTb3J0IGJ5IGB1c2VyYCBpbiBhc2NlbmRpbmcgb3JkZXIgYW5kIGJ5IGBhZ2VgIGluIGRlc2NlbmRpbmcgb3JkZXIuXG4gICAgICogXy5vcmRlckJ5KHVzZXJzLCBbJ3VzZXInLCAnYWdlJ10sIFsnYXNjJywgJ2Rlc2MnXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgW1snYmFybmV5JywgMzZdLCBbJ2Jhcm5leScsIDM0XSwgWydmcmVkJywgNDhdLCBbJ2ZyZWQnLCA0MF1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gb3JkZXJCeShjb2xsZWN0aW9uLCBpdGVyYXRlZXMsIG9yZGVycywgZ3VhcmQpIHtcbiAgICAgIGlmIChjb2xsZWN0aW9uID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgaWYgKCFpc0FycmF5KGl0ZXJhdGVlcykpIHtcbiAgICAgICAgaXRlcmF0ZWVzID0gaXRlcmF0ZWVzID09IG51bGwgPyBbXSA6IFtpdGVyYXRlZXNdO1xuICAgICAgfVxuICAgICAgb3JkZXJzID0gZ3VhcmQgPyB1bmRlZmluZWQgOiBvcmRlcnM7XG4gICAgICBpZiAoIWlzQXJyYXkob3JkZXJzKSkge1xuICAgICAgICBvcmRlcnMgPSBvcmRlcnMgPT0gbnVsbCA/IFtdIDogW29yZGVyc107XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZU9yZGVyQnkoY29sbGVjdGlvbiwgaXRlcmF0ZWVzLCBvcmRlcnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgZWxlbWVudHMgc3BsaXQgaW50byB0d28gZ3JvdXBzLCB0aGUgZmlyc3Qgb2Ygd2hpY2hcbiAgICAgKiBjb250YWlucyBlbGVtZW50cyBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeSBmb3IsIHRoZSBzZWNvbmQgb2Ygd2hpY2hcbiAgICAgKiBjb250YWlucyBlbGVtZW50cyBgcHJlZGljYXRlYCByZXR1cm5zIGZhbHNleSBmb3IuIFRoZSBwcmVkaWNhdGUgaXNcbiAgICAgKiBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgZ3JvdXBlZCBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FnZSc6IDM2LCAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhZ2UnOiAxLCAgJ2FjdGl2ZSc6IGZhbHNlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5wYXJ0aXRpb24odXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8uYWN0aXZlOyB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbWydmcmVkJ10sIFsnYmFybmV5JywgJ3BlYmJsZXMnXV1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5wYXJ0aXRpb24odXNlcnMsIHsgJ2FnZSc6IDEsICdhY3RpdmUnOiBmYWxzZSB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbWydwZWJibGVzJ10sIFsnYmFybmV5JywgJ2ZyZWQnXV1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnBhcnRpdGlvbih1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFtbJ2Jhcm5leScsICdwZWJibGVzJ10sIFsnZnJlZCddXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5wYXJ0aXRpb24odXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbWydmcmVkJ10sIFsnYmFybmV5JywgJ3BlYmJsZXMnXV1cbiAgICAgKi9cbiAgICB2YXIgcGFydGl0aW9uID0gY3JlYXRlQWdncmVnYXRvcihmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICAgIHJlc3VsdFtrZXkgPyAwIDogMV0ucHVzaCh2YWx1ZSk7XG4gICAgfSwgZnVuY3Rpb24oKSB7IHJldHVybiBbW10sIFtdXTsgfSk7XG5cbiAgICAvKipcbiAgICAgKiBSZWR1Y2VzIGBjb2xsZWN0aW9uYCB0byBhIHZhbHVlIHdoaWNoIGlzIHRoZSBhY2N1bXVsYXRlZCByZXN1bHQgb2YgcnVubmluZ1xuICAgICAqIGVhY2ggZWxlbWVudCBpbiBgY29sbGVjdGlvbmAgdGhydSBgaXRlcmF0ZWVgLCB3aGVyZSBlYWNoIHN1Y2Nlc3NpdmVcbiAgICAgKiBpbnZvY2F0aW9uIGlzIHN1cHBsaWVkIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIHByZXZpb3VzLiBJZiBgYWNjdW11bGF0b3JgXG4gICAgICogaXMgbm90IGdpdmVuLCB0aGUgZmlyc3QgZWxlbWVudCBvZiBgY29sbGVjdGlvbmAgaXMgdXNlZCBhcyB0aGUgaW5pdGlhbFxuICAgICAqIHZhbHVlLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIGZvdXIgYXJndW1lbnRzOlxuICAgICAqIChhY2N1bXVsYXRvciwgdmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiBNYW55IGxvZGFzaCBtZXRob2RzIGFyZSBndWFyZGVkIHRvIHdvcmsgYXMgaXRlcmF0ZWVzIGZvciBtZXRob2RzIGxpa2VcbiAgICAgKiBgXy5yZWR1Y2VgLCBgXy5yZWR1Y2VSaWdodGAsIGFuZCBgXy50cmFuc2Zvcm1gLlxuICAgICAqXG4gICAgICogVGhlIGd1YXJkZWQgbWV0aG9kcyBhcmU6XG4gICAgICogYGFzc2lnbmAsIGBkZWZhdWx0c2AsIGBkZWZhdWx0c0RlZXBgLCBgaW5jbHVkZXNgLCBgbWVyZ2VgLCBgb3JkZXJCeWAsXG4gICAgICogYW5kIGBzb3J0QnlgXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0geyp9IFthY2N1bXVsYXRvcl0gVGhlIGluaXRpYWwgdmFsdWUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGFjY3VtdWxhdGVkIHZhbHVlLlxuICAgICAqIEBzZWUgXy5yZWR1Y2VSaWdodFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnJlZHVjZShbMSwgMl0sIGZ1bmN0aW9uKHN1bSwgbikge1xuICAgICAqICAgcmV0dXJuIHN1bSArIG47XG4gICAgICogfSwgMCk7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy5yZWR1Y2UoeyAnYSc6IDEsICdiJzogMiwgJ2MnOiAxIH0sIGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAqICAgKHJlc3VsdFt2YWx1ZV0gfHwgKHJlc3VsdFt2YWx1ZV0gPSBbXSkpLnB1c2goa2V5KTtcbiAgICAgKiAgIHJldHVybiByZXN1bHQ7XG4gICAgICogfSwge30pO1xuICAgICAqIC8vID0+IHsgJzEnOiBbJ2EnLCAnYyddLCAnMic6IFsnYiddIH0gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZWR1Y2UoY29sbGVjdGlvbiwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheVJlZHVjZSA6IGJhc2VSZWR1Y2UsXG4gICAgICAgICAgaW5pdEFjY3VtID0gYXJndW1lbnRzLmxlbmd0aCA8IDM7XG5cbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCA0KSwgYWNjdW11bGF0b3IsIGluaXRBY2N1bSwgYmFzZUVhY2gpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ucmVkdWNlYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mXG4gICAgICogYGNvbGxlY3Rpb25gIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7Kn0gW2FjY3VtdWxhdG9yXSBUaGUgaW5pdGlhbCB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYWNjdW11bGF0ZWQgdmFsdWUuXG4gICAgICogQHNlZSBfLnJlZHVjZVxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbWzAsIDFdLCBbMiwgM10sIFs0LCA1XV07XG4gICAgICpcbiAgICAgKiBfLnJlZHVjZVJpZ2h0KGFycmF5LCBmdW5jdGlvbihmbGF0dGVuZWQsIG90aGVyKSB7XG4gICAgICogICByZXR1cm4gZmxhdHRlbmVkLmNvbmNhdChvdGhlcik7XG4gICAgICogfSwgW10pO1xuICAgICAqIC8vID0+IFs0LCA1LCAyLCAzLCAwLCAxXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlZHVjZVJpZ2h0KGNvbGxlY3Rpb24sIGl0ZXJhdGVlLCBhY2N1bXVsYXRvcikge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlSZWR1Y2VSaWdodCA6IGJhc2VSZWR1Y2UsXG4gICAgICAgICAgaW5pdEFjY3VtID0gYXJndW1lbnRzLmxlbmd0aCA8IDM7XG5cbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCA0KSwgYWNjdW11bGF0b3IsIGluaXRBY2N1bSwgYmFzZUVhY2hSaWdodCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIG9wcG9zaXRlIG9mIGBfLmZpbHRlcmA7IHRoaXMgbWV0aG9kIHJldHVybnMgdGhlIGVsZW1lbnRzIG9mIGBjb2xsZWN0aW9uYFxuICAgICAqIHRoYXQgYHByZWRpY2F0ZWAgZG9lcyAqKm5vdCoqIHJldHVybiB0cnV0aHkgZm9yLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZpbHRlcmVkIGFycmF5LlxuICAgICAqIEBzZWUgXy5maWx0ZXJcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzYsICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDAsICdhY3RpdmUnOiB0cnVlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5yZWplY3QodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuICFvLmFjdGl2ZTsgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydmcmVkJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5yZWplY3QodXNlcnMsIHsgJ2FnZSc6IDQwLCAnYWN0aXZlJzogdHJ1ZSB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leSddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5yZWplY3QodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2ZyZWQnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5yZWplY3QodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leSddXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVqZWN0KGNvbGxlY3Rpb24sIHByZWRpY2F0ZSkge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlGaWx0ZXIgOiBiYXNlRmlsdGVyO1xuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgbmVnYXRlKGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMykpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGEgcmFuZG9tIGVsZW1lbnQgZnJvbSBgY29sbGVjdGlvbmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIHNhbXBsZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmFuZG9tIGVsZW1lbnQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc2FtcGxlKFsxLCAyLCAzLCA0XSk7XG4gICAgICogLy8gPT4gMlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNhbXBsZShjb2xsZWN0aW9uKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheVNhbXBsZSA6IGJhc2VTYW1wbGU7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGBuYCByYW5kb20gZWxlbWVudHMgYXQgdW5pcXVlIGtleXMgZnJvbSBgY29sbGVjdGlvbmAgdXAgdG8gdGhlXG4gICAgICogc2l6ZSBvZiBgY29sbGVjdGlvbmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIHNhbXBsZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW249MV0gVGhlIG51bWJlciBvZiBlbGVtZW50cyB0byBzYW1wbGUuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHJhbmRvbSBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zYW1wbGVTaXplKFsxLCAyLCAzXSwgMik7XG4gICAgICogLy8gPT4gWzMsIDFdXG4gICAgICpcbiAgICAgKiBfLnNhbXBsZVNpemUoWzEsIDIsIDNdLCA0KTtcbiAgICAgKiAvLyA9PiBbMiwgMywgMV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzYW1wbGVTaXplKGNvbGxlY3Rpb24sIG4sIGd1YXJkKSB7XG4gICAgICBpZiAoKGd1YXJkID8gaXNJdGVyYXRlZUNhbGwoY29sbGVjdGlvbiwgbiwgZ3VhcmQpIDogbiA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICBuID0gMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG4gPSB0b0ludGVnZXIobik7XG4gICAgICB9XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheVNhbXBsZVNpemUgOiBiYXNlU2FtcGxlU2l6ZTtcbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIG4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2Ygc2h1ZmZsZWQgdmFsdWVzLCB1c2luZyBhIHZlcnNpb24gb2YgdGhlXG4gICAgICogW0Zpc2hlci1ZYXRlcyBzaHVmZmxlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9GaXNoZXItWWF0ZXNfc2h1ZmZsZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIHNodWZmbGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgc2h1ZmZsZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc2h1ZmZsZShbMSwgMiwgMywgNF0pO1xuICAgICAqIC8vID0+IFs0LCAxLCAzLCAyXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNodWZmbGUoY29sbGVjdGlvbikge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlTaHVmZmxlIDogYmFzZVNodWZmbGU7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBzaXplIG9mIGBjb2xsZWN0aW9uYCBieSByZXR1cm5pbmcgaXRzIGxlbmd0aCBmb3IgYXJyYXktbGlrZVxuICAgICAqIHZhbHVlcyBvciB0aGUgbnVtYmVyIG9mIG93biBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzIGZvciBvYmplY3RzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdHxzdHJpbmd9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjb2xsZWN0aW9uIHNpemUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc2l6ZShbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIF8uc2l6ZSh7ICdhJzogMSwgJ2InOiAyIH0pO1xuICAgICAqIC8vID0+IDJcbiAgICAgKlxuICAgICAqIF8uc2l6ZSgncGViYmxlcycpO1xuICAgICAqIC8vID0+IDdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzaXplKGNvbGxlY3Rpb24pIHtcbiAgICAgIGlmIChjb2xsZWN0aW9uID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgICB9XG4gICAgICBpZiAoaXNBcnJheUxpa2UoY29sbGVjdGlvbikpIHtcbiAgICAgICAgcmV0dXJuIGlzU3RyaW5nKGNvbGxlY3Rpb24pID8gc3RyaW5nU2l6ZShjb2xsZWN0aW9uKSA6IGNvbGxlY3Rpb24ubGVuZ3RoO1xuICAgICAgfVxuICAgICAgdmFyIHRhZyA9IGdldFRhZyhjb2xsZWN0aW9uKTtcbiAgICAgIGlmICh0YWcgPT0gbWFwVGFnIHx8IHRhZyA9PSBzZXRUYWcpIHtcbiAgICAgICAgcmV0dXJuIGNvbGxlY3Rpb24uc2l6ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlS2V5cyhjb2xsZWN0aW9uKS5sZW5ndGg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5IGZvciAqKmFueSoqIGVsZW1lbnQgb2YgYGNvbGxlY3Rpb25gLlxuICAgICAqIEl0ZXJhdGlvbiBpcyBzdG9wcGVkIG9uY2UgYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkuIFRoZSBwcmVkaWNhdGUgaXNcbiAgICAgKiBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW55IGVsZW1lbnQgcGFzc2VzIHRoZSBwcmVkaWNhdGUgY2hlY2ssXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zb21lKFtudWxsLCAwLCAneWVzJywgZmFsc2VdLCBCb29sZWFuKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhY3RpdmUnOiB0cnVlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhY3RpdmUnOiBmYWxzZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5zb21lKHVzZXJzLCB7ICd1c2VyJzogJ2Jhcm5leScsICdhY3RpdmUnOiBmYWxzZSB9KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uc29tZSh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uc29tZSh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb21lKGNvbGxlY3Rpb24sIHByZWRpY2F0ZSwgZ3VhcmQpIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5U29tZSA6IGJhc2VTb21lO1xuICAgICAgaWYgKGd1YXJkICYmIGlzSXRlcmF0ZWVDYWxsKGNvbGxlY3Rpb24sIHByZWRpY2F0ZSwgZ3VhcmQpKSB7XG4gICAgICAgIHByZWRpY2F0ZSA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgZWxlbWVudHMsIHNvcnRlZCBpbiBhc2NlbmRpbmcgb3JkZXIgYnkgdGhlIHJlc3VsdHMgb2ZcbiAgICAgKiBydW5uaW5nIGVhY2ggZWxlbWVudCBpbiBhIGNvbGxlY3Rpb24gdGhydSBlYWNoIGl0ZXJhdGVlLiBUaGlzIG1ldGhvZFxuICAgICAqIHBlcmZvcm1zIGEgc3RhYmxlIHNvcnQsIHRoYXQgaXMsIGl0IHByZXNlcnZlcyB0aGUgb3JpZ2luYWwgc29ydCBvcmRlciBvZlxuICAgICAqIGVxdWFsIGVsZW1lbnRzLiBUaGUgaXRlcmF0ZWVzIGFyZSBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHsuLi4oRnVuY3Rpb258RnVuY3Rpb25bXSl9IFtpdGVyYXRlZXM9W18uaWRlbnRpdHldXVxuICAgICAqICBUaGUgaXRlcmF0ZWVzIHRvIHNvcnQgYnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgc29ydGVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0OCB9LFxuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzYgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDMwIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNCB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uc29ydEJ5KHVzZXJzLCBbZnVuY3Rpb24obykgeyByZXR1cm4gby51c2VyOyB9XSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgW1snYmFybmV5JywgMzZdLCBbJ2Jhcm5leScsIDM0XSwgWydmcmVkJywgNDhdLCBbJ2ZyZWQnLCAzMF1dXG4gICAgICpcbiAgICAgKiBfLnNvcnRCeSh1c2VycywgWyd1c2VyJywgJ2FnZSddKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbWydiYXJuZXknLCAzNF0sIFsnYmFybmV5JywgMzZdLCBbJ2ZyZWQnLCAzMF0sIFsnZnJlZCcsIDQ4XV1cbiAgICAgKi9cbiAgICB2YXIgc29ydEJ5ID0gYmFzZVJlc3QoZnVuY3Rpb24oY29sbGVjdGlvbiwgaXRlcmF0ZWVzKSB7XG4gICAgICBpZiAoY29sbGVjdGlvbiA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIHZhciBsZW5ndGggPSBpdGVyYXRlZXMubGVuZ3RoO1xuICAgICAgaWYgKGxlbmd0aCA+IDEgJiYgaXNJdGVyYXRlZUNhbGwoY29sbGVjdGlvbiwgaXRlcmF0ZWVzWzBdLCBpdGVyYXRlZXNbMV0pKSB7XG4gICAgICAgIGl0ZXJhdGVlcyA9IFtdO1xuICAgICAgfSBlbHNlIGlmIChsZW5ndGggPiAyICYmIGlzSXRlcmF0ZWVDYWxsKGl0ZXJhdGVlc1swXSwgaXRlcmF0ZWVzWzFdLCBpdGVyYXRlZXNbMl0pKSB7XG4gICAgICAgIGl0ZXJhdGVlcyA9IFtpdGVyYXRlZXNbMF1dO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VPcmRlckJ5KGNvbGxlY3Rpb24sIGJhc2VGbGF0dGVuKGl0ZXJhdGVlcywgMSksIFtdKTtcbiAgICB9KTtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHRpbWVzdGFtcCBvZiB0aGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0aGF0IGhhdmUgZWxhcHNlZCBzaW5jZVxuICAgICAqIHRoZSBVbml4IGVwb2NoICgxIEphbnVhcnkgMTk3MCAwMDowMDowMCBVVEMpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuNC4wXG4gICAgICogQGNhdGVnb3J5IERhdGVcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSB0aW1lc3RhbXAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGVmZXIoZnVuY3Rpb24oc3RhbXApIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKF8ubm93KCkgLSBzdGFtcCk7XG4gICAgICogfSwgXy5ub3coKSk7XG4gICAgICogLy8gPT4gTG9ncyB0aGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBpdCB0b29rIGZvciB0aGUgZGVmZXJyZWQgaW52b2NhdGlvbi5cbiAgICAgKi9cbiAgICB2YXIgbm93ID0gY3R4Tm93IHx8IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHJvb3QuRGF0ZS5ub3coKTtcbiAgICB9O1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogVGhlIG9wcG9zaXRlIG9mIGBfLmJlZm9yZWA7IHRoaXMgbWV0aG9kIGNyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXNcbiAgICAgKiBgZnVuY2Agb25jZSBpdCdzIGNhbGxlZCBgbmAgb3IgbW9yZSB0aW1lcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgY2FsbHMgYmVmb3JlIGBmdW5jYCBpcyBpbnZva2VkLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHJlc3RyaWN0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHJlc3RyaWN0ZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBzYXZlcyA9IFsncHJvZmlsZScsICdzZXR0aW5ncyddO1xuICAgICAqXG4gICAgICogdmFyIGRvbmUgPSBfLmFmdGVyKHNhdmVzLmxlbmd0aCwgZnVuY3Rpb24oKSB7XG4gICAgICogICBjb25zb2xlLmxvZygnZG9uZSBzYXZpbmchJyk7XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBfLmZvckVhY2goc2F2ZXMsIGZ1bmN0aW9uKHR5cGUpIHtcbiAgICAgKiAgIGFzeW5jU2F2ZSh7ICd0eXBlJzogdHlwZSwgJ2NvbXBsZXRlJzogZG9uZSB9KTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBMb2dzICdkb25lIHNhdmluZyEnIGFmdGVyIHRoZSB0d28gYXN5bmMgc2F2ZXMgaGF2ZSBjb21wbGV0ZWQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYWZ0ZXIobiwgZnVuYykge1xuICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgbiA9IHRvSW50ZWdlcihuKTtcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKC0tbiA8IDEpIHtcbiAgICAgICAgICByZXR1cm4gZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgLCB3aXRoIHVwIHRvIGBuYCBhcmd1bWVudHMsXG4gICAgICogaWdub3JpbmcgYW55IGFkZGl0aW9uYWwgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2FwIGFyZ3VtZW50cyBmb3IuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPWZ1bmMubGVuZ3RoXSBUaGUgYXJpdHkgY2FwLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY2FwcGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLm1hcChbJzYnLCAnOCcsICcxMCddLCBfLmFyeShwYXJzZUludCwgMSkpO1xuICAgICAqIC8vID0+IFs2LCA4LCAxMF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhcnkoZnVuYywgbiwgZ3VhcmQpIHtcbiAgICAgIG4gPSBndWFyZCA/IHVuZGVmaW5lZCA6IG47XG4gICAgICBuID0gKGZ1bmMgJiYgbiA9PSBudWxsKSA/IGZ1bmMubGVuZ3RoIDogbjtcbiAgICAgIHJldHVybiBjcmVhdGVXcmFwKGZ1bmMsIFdSQVBfQVJZX0ZMQUcsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2AsIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIGFuZCBhcmd1bWVudHNcbiAgICAgKiBvZiB0aGUgY3JlYXRlZCBmdW5jdGlvbiwgd2hpbGUgaXQncyBjYWxsZWQgbGVzcyB0aGFuIGBuYCB0aW1lcy4gU3Vic2VxdWVudFxuICAgICAqIGNhbGxzIHRvIHRoZSBjcmVhdGVkIGZ1bmN0aW9uIHJldHVybiB0aGUgcmVzdWx0IG9mIHRoZSBsYXN0IGBmdW5jYCBpbnZvY2F0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiBjYWxscyBhdCB3aGljaCBgZnVuY2AgaXMgbm8gbG9uZ2VyIGludm9rZWQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcmVzdHJpY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcmVzdHJpY3RlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogalF1ZXJ5KGVsZW1lbnQpLm9uKCdjbGljaycsIF8uYmVmb3JlKDUsIGFkZENvbnRhY3RUb0xpc3QpKTtcbiAgICAgKiAvLyA9PiBBbGxvd3MgYWRkaW5nIHVwIHRvIDQgY29udGFjdHMgdG8gdGhlIGxpc3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmVmb3JlKG4sIGZ1bmMpIHtcbiAgICAgIHZhciByZXN1bHQ7XG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICBuID0gdG9JbnRlZ2VyKG4pO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoLS1uID4gMCkge1xuICAgICAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobiA8PSAxKSB7XG4gICAgICAgICAgZnVuYyA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiBgdGhpc0FyZ2BcbiAgICAgKiBhbmQgYHBhcnRpYWxzYCBwcmVwZW5kZWQgdG8gdGhlIGFyZ3VtZW50cyBpdCByZWNlaXZlcy5cbiAgICAgKlxuICAgICAqIFRoZSBgXy5iaW5kLnBsYWNlaG9sZGVyYCB2YWx1ZSwgd2hpY2ggZGVmYXVsdHMgdG8gYF9gIGluIG1vbm9saXRoaWMgYnVpbGRzLFxuICAgICAqIG1heSBiZSB1c2VkIGFzIGEgcGxhY2Vob2xkZXIgZm9yIHBhcnRpYWxseSBhcHBsaWVkIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgbmF0aXZlIGBGdW5jdGlvbiNiaW5kYCwgdGhpcyBtZXRob2QgZG9lc24ndCBzZXQgdGhlIFwibGVuZ3RoXCJcbiAgICAgKiBwcm9wZXJ0eSBvZiBib3VuZCBmdW5jdGlvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBiaW5kLlxuICAgICAqIEBwYXJhbSB7Kn0gdGhpc0FyZyBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW3BhcnRpYWxzXSBUaGUgYXJndW1lbnRzIHRvIGJlIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGJvdW5kIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBncmVldChncmVldGluZywgcHVuY3R1YXRpb24pIHtcbiAgICAgKiAgIHJldHVybiBncmVldGluZyArICcgJyArIHRoaXMudXNlciArIHB1bmN0dWF0aW9uO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICd1c2VyJzogJ2ZyZWQnIH07XG4gICAgICpcbiAgICAgKiB2YXIgYm91bmQgPSBfLmJpbmQoZ3JlZXQsIG9iamVjdCwgJ2hpJyk7XG4gICAgICogYm91bmQoJyEnKTtcbiAgICAgKiAvLyA9PiAnaGkgZnJlZCEnXG4gICAgICpcbiAgICAgKiAvLyBCb3VuZCB3aXRoIHBsYWNlaG9sZGVycy5cbiAgICAgKiB2YXIgYm91bmQgPSBfLmJpbmQoZ3JlZXQsIG9iamVjdCwgXywgJyEnKTtcbiAgICAgKiBib3VuZCgnaGknKTtcbiAgICAgKiAvLyA9PiAnaGkgZnJlZCEnXG4gICAgICovXG4gICAgdmFyIGJpbmQgPSBiYXNlUmVzdChmdW5jdGlvbihmdW5jLCB0aGlzQXJnLCBwYXJ0aWFscykge1xuICAgICAgdmFyIGJpdG1hc2sgPSBXUkFQX0JJTkRfRkxBRztcbiAgICAgIGlmIChwYXJ0aWFscy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGhvbGRlcnMgPSByZXBsYWNlSG9sZGVycyhwYXJ0aWFscywgZ2V0SG9sZGVyKGJpbmQpKTtcbiAgICAgICAgYml0bWFzayB8PSBXUkFQX1BBUlRJQUxfRkxBRztcbiAgICAgIH1cbiAgICAgIHJldHVybiBjcmVhdGVXcmFwKGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcsIHBhcnRpYWxzLCBob2xkZXJzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgdGhlIG1ldGhvZCBhdCBgb2JqZWN0W2tleV1gIHdpdGggYHBhcnRpYWxzYFxuICAgICAqIHByZXBlbmRlZCB0byB0aGUgYXJndW1lbnRzIGl0IHJlY2VpdmVzLlxuICAgICAqXG4gICAgICogVGhpcyBtZXRob2QgZGlmZmVycyBmcm9tIGBfLmJpbmRgIGJ5IGFsbG93aW5nIGJvdW5kIGZ1bmN0aW9ucyB0byByZWZlcmVuY2VcbiAgICAgKiBtZXRob2RzIHRoYXQgbWF5IGJlIHJlZGVmaW5lZCBvciBkb24ndCB5ZXQgZXhpc3QuIFNlZVxuICAgICAqIFtQZXRlciBNaWNoYXV4J3MgYXJ0aWNsZV0oaHR0cDovL3BldGVyLm1pY2hhdXguY2EvYXJ0aWNsZXMvbGF6eS1mdW5jdGlvbi1kZWZpbml0aW9uLXBhdHRlcm4pXG4gICAgICogZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKlxuICAgICAqIFRoZSBgXy5iaW5kS2V5LnBsYWNlaG9sZGVyYCB2YWx1ZSwgd2hpY2ggZGVmYXVsdHMgdG8gYF9gIGluIG1vbm9saXRoaWNcbiAgICAgKiBidWlsZHMsIG1heSBiZSB1c2VkIGFzIGEgcGxhY2Vob2xkZXIgZm9yIHBhcnRpYWxseSBhcHBsaWVkIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEwLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW52b2tlIHRoZSBtZXRob2Qgb24uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBtZXRob2QuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbcGFydGlhbHNdIFRoZSBhcmd1bWVudHMgdG8gYmUgcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYm91bmQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7XG4gICAgICogICAndXNlcic6ICdmcmVkJyxcbiAgICAgKiAgICdncmVldCc6IGZ1bmN0aW9uKGdyZWV0aW5nLCBwdW5jdHVhdGlvbikge1xuICAgICAqICAgICByZXR1cm4gZ3JlZXRpbmcgKyAnICcgKyB0aGlzLnVzZXIgKyBwdW5jdHVhdGlvbjtcbiAgICAgKiAgIH1cbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogdmFyIGJvdW5kID0gXy5iaW5kS2V5KG9iamVjdCwgJ2dyZWV0JywgJ2hpJyk7XG4gICAgICogYm91bmQoJyEnKTtcbiAgICAgKiAvLyA9PiAnaGkgZnJlZCEnXG4gICAgICpcbiAgICAgKiBvYmplY3QuZ3JlZXQgPSBmdW5jdGlvbihncmVldGluZywgcHVuY3R1YXRpb24pIHtcbiAgICAgKiAgIHJldHVybiBncmVldGluZyArICd5YSAnICsgdGhpcy51c2VyICsgcHVuY3R1YXRpb247XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIGJvdW5kKCchJyk7XG4gICAgICogLy8gPT4gJ2hpeWEgZnJlZCEnXG4gICAgICpcbiAgICAgKiAvLyBCb3VuZCB3aXRoIHBsYWNlaG9sZGVycy5cbiAgICAgKiB2YXIgYm91bmQgPSBfLmJpbmRLZXkob2JqZWN0LCAnZ3JlZXQnLCBfLCAnIScpO1xuICAgICAqIGJvdW5kKCdoaScpO1xuICAgICAqIC8vID0+ICdoaXlhIGZyZWQhJ1xuICAgICAqL1xuICAgIHZhciBiaW5kS2V5ID0gYmFzZVJlc3QoZnVuY3Rpb24ob2JqZWN0LCBrZXksIHBhcnRpYWxzKSB7XG4gICAgICB2YXIgYml0bWFzayA9IFdSQVBfQklORF9GTEFHIHwgV1JBUF9CSU5EX0tFWV9GTEFHO1xuICAgICAgaWYgKHBhcnRpYWxzLmxlbmd0aCkge1xuICAgICAgICB2YXIgaG9sZGVycyA9IHJlcGxhY2VIb2xkZXJzKHBhcnRpYWxzLCBnZXRIb2xkZXIoYmluZEtleSkpO1xuICAgICAgICBiaXRtYXNrIHw9IFdSQVBfUEFSVElBTF9GTEFHO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNyZWF0ZVdyYXAoa2V5LCBiaXRtYXNrLCBvYmplY3QsIHBhcnRpYWxzLCBob2xkZXJzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGFjY2VwdHMgYXJndW1lbnRzIG9mIGBmdW5jYCBhbmQgZWl0aGVyIGludm9rZXNcbiAgICAgKiBgZnVuY2AgcmV0dXJuaW5nIGl0cyByZXN1bHQsIGlmIGF0IGxlYXN0IGBhcml0eWAgbnVtYmVyIG9mIGFyZ3VtZW50cyBoYXZlXG4gICAgICogYmVlbiBwcm92aWRlZCwgb3IgcmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgYWNjZXB0cyB0aGUgcmVtYWluaW5nIGBmdW5jYFxuICAgICAqIGFyZ3VtZW50cywgYW5kIHNvIG9uLiBUaGUgYXJpdHkgb2YgYGZ1bmNgIG1heSBiZSBzcGVjaWZpZWQgaWYgYGZ1bmMubGVuZ3RoYFxuICAgICAqIGlzIG5vdCBzdWZmaWNpZW50LlxuICAgICAqXG4gICAgICogVGhlIGBfLmN1cnJ5LnBsYWNlaG9sZGVyYCB2YWx1ZSwgd2hpY2ggZGVmYXVsdHMgdG8gYF9gIGluIG1vbm9saXRoaWMgYnVpbGRzLFxuICAgICAqIG1heSBiZSB1c2VkIGFzIGEgcGxhY2Vob2xkZXIgZm9yIHByb3ZpZGVkIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBkb2Vzbid0IHNldCB0aGUgXCJsZW5ndGhcIiBwcm9wZXJ0eSBvZiBjdXJyaWVkIGZ1bmN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGN1cnJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJpdHk9ZnVuYy5sZW5ndGhdIFRoZSBhcml0eSBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjdXJyaWVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYWJjID0gZnVuY3Rpb24oYSwgYiwgYykge1xuICAgICAqICAgcmV0dXJuIFthLCBiLCBjXTtcbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogdmFyIGN1cnJpZWQgPSBfLmN1cnJ5KGFiYyk7XG4gICAgICpcbiAgICAgKiBjdXJyaWVkKDEpKDIpKDMpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogY3VycmllZCgxLCAyKSgzKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIGN1cnJpZWQoMSwgMiwgMyk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiAvLyBDdXJyaWVkIHdpdGggcGxhY2Vob2xkZXJzLlxuICAgICAqIGN1cnJpZWQoMSkoXywgMykoMik7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3VycnkoZnVuYywgYXJpdHksIGd1YXJkKSB7XG4gICAgICBhcml0eSA9IGd1YXJkID8gdW5kZWZpbmVkIDogYXJpdHk7XG4gICAgICB2YXIgcmVzdWx0ID0gY3JlYXRlV3JhcChmdW5jLCBXUkFQX0NVUlJZX0ZMQUcsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBhcml0eSk7XG4gICAgICByZXN1bHQucGxhY2Vob2xkZXIgPSBjdXJyeS5wbGFjZWhvbGRlcjtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5jdXJyeWAgZXhjZXB0IHRoYXQgYXJndW1lbnRzIGFyZSBhcHBsaWVkIHRvIGBmdW5jYFxuICAgICAqIGluIHRoZSBtYW5uZXIgb2YgYF8ucGFydGlhbFJpZ2h0YCBpbnN0ZWFkIG9mIGBfLnBhcnRpYWxgLlxuICAgICAqXG4gICAgICogVGhlIGBfLmN1cnJ5UmlnaHQucGxhY2Vob2xkZXJgIHZhbHVlLCB3aGljaCBkZWZhdWx0cyB0byBgX2AgaW4gbW9ub2xpdGhpY1xuICAgICAqIGJ1aWxkcywgbWF5IGJlIHVzZWQgYXMgYSBwbGFjZWhvbGRlciBmb3IgcHJvdmlkZWQgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGRvZXNuJ3Qgc2V0IHRoZSBcImxlbmd0aFwiIHByb3BlcnR5IG9mIGN1cnJpZWQgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY3VycnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcml0eT1mdW5jLmxlbmd0aF0gVGhlIGFyaXR5IG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGN1cnJpZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhYmMgPSBmdW5jdGlvbihhLCBiLCBjKSB7XG4gICAgICogICByZXR1cm4gW2EsIGIsIGNdO1xuICAgICAqIH07XG4gICAgICpcbiAgICAgKiB2YXIgY3VycmllZCA9IF8uY3VycnlSaWdodChhYmMpO1xuICAgICAqXG4gICAgICogY3VycmllZCgzKSgyKSgxKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIGN1cnJpZWQoMiwgMykoMSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiBjdXJyaWVkKDEsIDIsIDMpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogLy8gQ3VycmllZCB3aXRoIHBsYWNlaG9sZGVycy5cbiAgICAgKiBjdXJyaWVkKDMpKDEsIF8pKDIpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGN1cnJ5UmlnaHQoZnVuYywgYXJpdHksIGd1YXJkKSB7XG4gICAgICBhcml0eSA9IGd1YXJkID8gdW5kZWZpbmVkIDogYXJpdHk7XG4gICAgICB2YXIgcmVzdWx0ID0gY3JlYXRlV3JhcChmdW5jLCBXUkFQX0NVUlJZX1JJR0hUX0ZMQUcsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBhcml0eSk7XG4gICAgICByZXN1bHQucGxhY2Vob2xkZXIgPSBjdXJyeVJpZ2h0LnBsYWNlaG9sZGVyO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZGVib3VuY2VkIGZ1bmN0aW9uIHRoYXQgZGVsYXlzIGludm9raW5nIGBmdW5jYCB1bnRpbCBhZnRlciBgd2FpdGBcbiAgICAgKiBtaWxsaXNlY29uZHMgaGF2ZSBlbGFwc2VkIHNpbmNlIHRoZSBsYXN0IHRpbWUgdGhlIGRlYm91bmNlZCBmdW5jdGlvbiB3YXNcbiAgICAgKiBpbnZva2VkLiBUaGUgZGVib3VuY2VkIGZ1bmN0aW9uIGNvbWVzIHdpdGggYSBgY2FuY2VsYCBtZXRob2QgdG8gY2FuY2VsXG4gICAgICogZGVsYXllZCBgZnVuY2AgaW52b2NhdGlvbnMgYW5kIGEgYGZsdXNoYCBtZXRob2QgdG8gaW1tZWRpYXRlbHkgaW52b2tlIHRoZW0uXG4gICAgICogUHJvdmlkZSBgb3B0aW9uc2AgdG8gaW5kaWNhdGUgd2hldGhlciBgZnVuY2Agc2hvdWxkIGJlIGludm9rZWQgb24gdGhlXG4gICAgICogbGVhZGluZyBhbmQvb3IgdHJhaWxpbmcgZWRnZSBvZiB0aGUgYHdhaXRgIHRpbWVvdXQuIFRoZSBgZnVuY2AgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdGhlIGxhc3QgYXJndW1lbnRzIHByb3ZpZGVkIHRvIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb24uIFN1YnNlcXVlbnRcbiAgICAgKiBjYWxscyB0byB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uIHJldHVybiB0aGUgcmVzdWx0IG9mIHRoZSBsYXN0IGBmdW5jYFxuICAgICAqIGludm9jYXRpb24uXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogSWYgYGxlYWRpbmdgIGFuZCBgdHJhaWxpbmdgIG9wdGlvbnMgYXJlIGB0cnVlYCwgYGZ1bmNgIGlzXG4gICAgICogaW52b2tlZCBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dCBvbmx5IGlmIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb25cbiAgICAgKiBpcyBpbnZva2VkIG1vcmUgdGhhbiBvbmNlIGR1cmluZyB0aGUgYHdhaXRgIHRpbWVvdXQuXG4gICAgICpcbiAgICAgKiBJZiBgd2FpdGAgaXMgYDBgIGFuZCBgbGVhZGluZ2AgaXMgYGZhbHNlYCwgYGZ1bmNgIGludm9jYXRpb24gaXMgZGVmZXJyZWRcbiAgICAgKiB1bnRpbCB0byB0aGUgbmV4dCB0aWNrLCBzaW1pbGFyIHRvIGBzZXRUaW1lb3V0YCB3aXRoIGEgdGltZW91dCBvZiBgMGAuXG4gICAgICpcbiAgICAgKiBTZWUgW0RhdmlkIENvcmJhY2hvJ3MgYXJ0aWNsZV0oaHR0cHM6Ly9jc3MtdHJpY2tzLmNvbS9kZWJvdW5jaW5nLXRocm90dGxpbmctZXhwbGFpbmVkLWV4YW1wbGVzLylcbiAgICAgKiBmb3IgZGV0YWlscyBvdmVyIHRoZSBkaWZmZXJlbmNlcyBiZXR3ZWVuIGBfLmRlYm91bmNlYCBhbmQgYF8udGhyb3R0bGVgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gZGVib3VuY2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt3YWl0PTBdIFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIGRlbGF5LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMubGVhZGluZz1mYWxzZV1cbiAgICAgKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgbGVhZGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5tYXhXYWl0XVxuICAgICAqICBUaGUgbWF4aW11bSB0aW1lIGBmdW5jYCBpcyBhbGxvd2VkIHRvIGJlIGRlbGF5ZWQgYmVmb3JlIGl0J3MgaW52b2tlZC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRyYWlsaW5nPXRydWVdXG4gICAgICogIFNwZWNpZnkgaW52b2tpbmcgb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZGVib3VuY2VkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAvLyBBdm9pZCBjb3N0bHkgY2FsY3VsYXRpb25zIHdoaWxlIHRoZSB3aW5kb3cgc2l6ZSBpcyBpbiBmbHV4LlxuICAgICAqIGpRdWVyeSh3aW5kb3cpLm9uKCdyZXNpemUnLCBfLmRlYm91bmNlKGNhbGN1bGF0ZUxheW91dCwgMTUwKSk7XG4gICAgICpcbiAgICAgKiAvLyBJbnZva2UgYHNlbmRNYWlsYCB3aGVuIGNsaWNrZWQsIGRlYm91bmNpbmcgc3Vic2VxdWVudCBjYWxscy5cbiAgICAgKiBqUXVlcnkoZWxlbWVudCkub24oJ2NsaWNrJywgXy5kZWJvdW5jZShzZW5kTWFpbCwgMzAwLCB7XG4gICAgICogICAnbGVhZGluZyc6IHRydWUsXG4gICAgICogICAndHJhaWxpbmcnOiBmYWxzZVxuICAgICAqIH0pKTtcbiAgICAgKlxuICAgICAqIC8vIEVuc3VyZSBgYmF0Y2hMb2dgIGlzIGludm9rZWQgb25jZSBhZnRlciAxIHNlY29uZCBvZiBkZWJvdW5jZWQgY2FsbHMuXG4gICAgICogdmFyIGRlYm91bmNlZCA9IF8uZGVib3VuY2UoYmF0Y2hMb2csIDI1MCwgeyAnbWF4V2FpdCc6IDEwMDAgfSk7XG4gICAgICogdmFyIHNvdXJjZSA9IG5ldyBFdmVudFNvdXJjZSgnL3N0cmVhbScpO1xuICAgICAqIGpRdWVyeShzb3VyY2UpLm9uKCdtZXNzYWdlJywgZGVib3VuY2VkKTtcbiAgICAgKlxuICAgICAqIC8vIENhbmNlbCB0aGUgdHJhaWxpbmcgZGVib3VuY2VkIGludm9jYXRpb24uXG4gICAgICogalF1ZXJ5KHdpbmRvdykub24oJ3BvcHN0YXRlJywgZGVib3VuY2VkLmNhbmNlbCk7XG4gICAgICovXG4gICAgZnVuY3Rpb24gZGVib3VuY2UoZnVuYywgd2FpdCwgb3B0aW9ucykge1xuICAgICAgdmFyIGxhc3RBcmdzLFxuICAgICAgICAgIGxhc3RUaGlzLFxuICAgICAgICAgIG1heFdhaXQsXG4gICAgICAgICAgcmVzdWx0LFxuICAgICAgICAgIHRpbWVySWQsXG4gICAgICAgICAgbGFzdENhbGxUaW1lLFxuICAgICAgICAgIGxhc3RJbnZva2VUaW1lID0gMCxcbiAgICAgICAgICBsZWFkaW5nID0gZmFsc2UsXG4gICAgICAgICAgbWF4aW5nID0gZmFsc2UsXG4gICAgICAgICAgdHJhaWxpbmcgPSB0cnVlO1xuXG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICB3YWl0ID0gdG9OdW1iZXIod2FpdCkgfHwgMDtcbiAgICAgIGlmIChpc09iamVjdChvcHRpb25zKSkge1xuICAgICAgICBsZWFkaW5nID0gISFvcHRpb25zLmxlYWRpbmc7XG4gICAgICAgIG1heGluZyA9ICdtYXhXYWl0JyBpbiBvcHRpb25zO1xuICAgICAgICBtYXhXYWl0ID0gbWF4aW5nID8gbmF0aXZlTWF4KHRvTnVtYmVyKG9wdGlvbnMubWF4V2FpdCkgfHwgMCwgd2FpdCkgOiBtYXhXYWl0O1xuICAgICAgICB0cmFpbGluZyA9ICd0cmFpbGluZycgaW4gb3B0aW9ucyA/ICEhb3B0aW9ucy50cmFpbGluZyA6IHRyYWlsaW5nO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBpbnZva2VGdW5jKHRpbWUpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBsYXN0QXJncyxcbiAgICAgICAgICAgIHRoaXNBcmcgPSBsYXN0VGhpcztcblxuICAgICAgICBsYXN0QXJncyA9IGxhc3RUaGlzID0gdW5kZWZpbmVkO1xuICAgICAgICBsYXN0SW52b2tlVGltZSA9IHRpbWU7XG4gICAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpc0FyZywgYXJncyk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGxlYWRpbmdFZGdlKHRpbWUpIHtcbiAgICAgICAgLy8gUmVzZXQgYW55IGBtYXhXYWl0YCB0aW1lci5cbiAgICAgICAgbGFzdEludm9rZVRpbWUgPSB0aW1lO1xuICAgICAgICAvLyBTdGFydCB0aGUgdGltZXIgZm9yIHRoZSB0cmFpbGluZyBlZGdlLlxuICAgICAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHdhaXQpO1xuICAgICAgICAvLyBJbnZva2UgdGhlIGxlYWRpbmcgZWRnZS5cbiAgICAgICAgcmV0dXJuIGxlYWRpbmcgPyBpbnZva2VGdW5jKHRpbWUpIDogcmVzdWx0O1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiByZW1haW5pbmdXYWl0KHRpbWUpIHtcbiAgICAgICAgdmFyIHRpbWVTaW5jZUxhc3RDYWxsID0gdGltZSAtIGxhc3RDYWxsVGltZSxcbiAgICAgICAgICAgIHRpbWVTaW5jZUxhc3RJbnZva2UgPSB0aW1lIC0gbGFzdEludm9rZVRpbWUsXG4gICAgICAgICAgICB0aW1lV2FpdGluZyA9IHdhaXQgLSB0aW1lU2luY2VMYXN0Q2FsbDtcblxuICAgICAgICByZXR1cm4gbWF4aW5nXG4gICAgICAgICAgPyBuYXRpdmVNaW4odGltZVdhaXRpbmcsIG1heFdhaXQgLSB0aW1lU2luY2VMYXN0SW52b2tlKVxuICAgICAgICAgIDogdGltZVdhaXRpbmc7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHNob3VsZEludm9rZSh0aW1lKSB7XG4gICAgICAgIHZhciB0aW1lU2luY2VMYXN0Q2FsbCA9IHRpbWUgLSBsYXN0Q2FsbFRpbWUsXG4gICAgICAgICAgICB0aW1lU2luY2VMYXN0SW52b2tlID0gdGltZSAtIGxhc3RJbnZva2VUaW1lO1xuXG4gICAgICAgIC8vIEVpdGhlciB0aGlzIGlzIHRoZSBmaXJzdCBjYWxsLCBhY3Rpdml0eSBoYXMgc3RvcHBlZCBhbmQgd2UncmUgYXQgdGhlXG4gICAgICAgIC8vIHRyYWlsaW5nIGVkZ2UsIHRoZSBzeXN0ZW0gdGltZSBoYXMgZ29uZSBiYWNrd2FyZHMgYW5kIHdlJ3JlIHRyZWF0aW5nXG4gICAgICAgIC8vIGl0IGFzIHRoZSB0cmFpbGluZyBlZGdlLCBvciB3ZSd2ZSBoaXQgdGhlIGBtYXhXYWl0YCBsaW1pdC5cbiAgICAgICAgcmV0dXJuIChsYXN0Q2FsbFRpbWUgPT09IHVuZGVmaW5lZCB8fCAodGltZVNpbmNlTGFzdENhbGwgPj0gd2FpdCkgfHxcbiAgICAgICAgICAodGltZVNpbmNlTGFzdENhbGwgPCAwKSB8fCAobWF4aW5nICYmIHRpbWVTaW5jZUxhc3RJbnZva2UgPj0gbWF4V2FpdCkpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiB0aW1lckV4cGlyZWQoKSB7XG4gICAgICAgIHZhciB0aW1lID0gbm93KCk7XG4gICAgICAgIGlmIChzaG91bGRJbnZva2UodGltZSkpIHtcbiAgICAgICAgICByZXR1cm4gdHJhaWxpbmdFZGdlKHRpbWUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlc3RhcnQgdGhlIHRpbWVyLlxuICAgICAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHJlbWFpbmluZ1dhaXQodGltZSkpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiB0cmFpbGluZ0VkZ2UodGltZSkge1xuICAgICAgICB0aW1lcklkID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIC8vIE9ubHkgaW52b2tlIGlmIHdlIGhhdmUgYGxhc3RBcmdzYCB3aGljaCBtZWFucyBgZnVuY2AgaGFzIGJlZW5cbiAgICAgICAgLy8gZGVib3VuY2VkIGF0IGxlYXN0IG9uY2UuXG4gICAgICAgIGlmICh0cmFpbGluZyAmJiBsYXN0QXJncykge1xuICAgICAgICAgIHJldHVybiBpbnZva2VGdW5jKHRpbWUpO1xuICAgICAgICB9XG4gICAgICAgIGxhc3RBcmdzID0gbGFzdFRoaXMgPSB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGNhbmNlbCgpIHtcbiAgICAgICAgaWYgKHRpbWVySWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lcklkKTtcbiAgICAgICAgfVxuICAgICAgICBsYXN0SW52b2tlVGltZSA9IDA7XG4gICAgICAgIGxhc3RBcmdzID0gbGFzdENhbGxUaW1lID0gbGFzdFRoaXMgPSB0aW1lcklkID0gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBmbHVzaCgpIHtcbiAgICAgICAgcmV0dXJuIHRpbWVySWQgPT09IHVuZGVmaW5lZCA/IHJlc3VsdCA6IHRyYWlsaW5nRWRnZShub3coKSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGRlYm91bmNlZCgpIHtcbiAgICAgICAgdmFyIHRpbWUgPSBub3coKSxcbiAgICAgICAgICAgIGlzSW52b2tpbmcgPSBzaG91bGRJbnZva2UodGltZSk7XG5cbiAgICAgICAgbGFzdEFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAgIGxhc3RUaGlzID0gdGhpcztcbiAgICAgICAgbGFzdENhbGxUaW1lID0gdGltZTtcblxuICAgICAgICBpZiAoaXNJbnZva2luZykge1xuICAgICAgICAgIGlmICh0aW1lcklkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBsZWFkaW5nRWRnZShsYXN0Q2FsbFRpbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAobWF4aW5nKSB7XG4gICAgICAgICAgICAvLyBIYW5kbGUgaW52b2NhdGlvbnMgaW4gYSB0aWdodCBsb29wLlxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVySWQpO1xuICAgICAgICAgICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCB3YWl0KTtcbiAgICAgICAgICAgIHJldHVybiBpbnZva2VGdW5jKGxhc3RDYWxsVGltZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aW1lcklkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHdhaXQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICBkZWJvdW5jZWQuY2FuY2VsID0gY2FuY2VsO1xuICAgICAgZGVib3VuY2VkLmZsdXNoID0gZmx1c2g7XG4gICAgICByZXR1cm4gZGVib3VuY2VkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlZmVycyBpbnZva2luZyB0aGUgYGZ1bmNgIHVudGlsIHRoZSBjdXJyZW50IGNhbGwgc3RhY2sgaGFzIGNsZWFyZWQuIEFueVxuICAgICAqIGFkZGl0aW9uYWwgYXJndW1lbnRzIGFyZSBwcm92aWRlZCB0byBgZnVuY2Agd2hlbiBpdCdzIGludm9rZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBkZWZlci5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmdzXSBUaGUgYXJndW1lbnRzIHRvIGludm9rZSBgZnVuY2Agd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSB0aW1lciBpZC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kZWZlcihmdW5jdGlvbih0ZXh0KSB7XG4gICAgICogICBjb25zb2xlLmxvZyh0ZXh0KTtcbiAgICAgKiB9LCAnZGVmZXJyZWQnKTtcbiAgICAgKiAvLyA9PiBMb2dzICdkZWZlcnJlZCcgYWZ0ZXIgb25lIG1pbGxpc2Vjb25kLlxuICAgICAqL1xuICAgIHZhciBkZWZlciA9IGJhc2VSZXN0KGZ1bmN0aW9uKGZ1bmMsIGFyZ3MpIHtcbiAgICAgIHJldHVybiBiYXNlRGVsYXkoZnVuYywgMSwgYXJncyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBJbnZva2VzIGBmdW5jYCBhZnRlciBgd2FpdGAgbWlsbGlzZWNvbmRzLiBBbnkgYWRkaXRpb25hbCBhcmd1bWVudHMgYXJlXG4gICAgICogcHJvdmlkZWQgdG8gYGZ1bmNgIHdoZW4gaXQncyBpbnZva2VkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gZGVsYXkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdhaXQgVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gZGVsYXkgaW52b2NhdGlvbi5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmdzXSBUaGUgYXJndW1lbnRzIHRvIGludm9rZSBgZnVuY2Agd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSB0aW1lciBpZC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kZWxheShmdW5jdGlvbih0ZXh0KSB7XG4gICAgICogICBjb25zb2xlLmxvZyh0ZXh0KTtcbiAgICAgKiB9LCAxMDAwLCAnbGF0ZXInKTtcbiAgICAgKiAvLyA9PiBMb2dzICdsYXRlcicgYWZ0ZXIgb25lIHNlY29uZC5cbiAgICAgKi9cbiAgICB2YXIgZGVsYXkgPSBiYXNlUmVzdChmdW5jdGlvbihmdW5jLCB3YWl0LCBhcmdzKSB7XG4gICAgICByZXR1cm4gYmFzZURlbGF5KGZ1bmMsIHRvTnVtYmVyKHdhaXQpIHx8IDAsIGFyZ3MpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCBhcmd1bWVudHMgcmV2ZXJzZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBmbGlwIGFyZ3VtZW50cyBmb3IuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZmxpcHBlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGZsaXBwZWQgPSBfLmZsaXAoZnVuY3Rpb24oKSB7XG4gICAgICogICByZXR1cm4gXy50b0FycmF5KGFyZ3VtZW50cyk7XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBmbGlwcGVkKCdhJywgJ2InLCAnYycsICdkJyk7XG4gICAgICogLy8gPT4gWydkJywgJ2MnLCAnYicsICdhJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmbGlwKGZ1bmMpIHtcbiAgICAgIHJldHVybiBjcmVhdGVXcmFwKGZ1bmMsIFdSQVBfRkxJUF9GTEFHKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBtZW1vaXplcyB0aGUgcmVzdWx0IG9mIGBmdW5jYC4gSWYgYHJlc29sdmVyYCBpc1xuICAgICAqIHByb3ZpZGVkLCBpdCBkZXRlcm1pbmVzIHRoZSBjYWNoZSBrZXkgZm9yIHN0b3JpbmcgdGhlIHJlc3VsdCBiYXNlZCBvbiB0aGVcbiAgICAgKiBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlIG1lbW9pemVkIGZ1bmN0aW9uLiBCeSBkZWZhdWx0LCB0aGUgZmlyc3QgYXJndW1lbnRcbiAgICAgKiBwcm92aWRlZCB0byB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24gaXMgdXNlZCBhcyB0aGUgbWFwIGNhY2hlIGtleS4gVGhlIGBmdW5jYFxuICAgICAqIGlzIGludm9rZWQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgdGhlIG1lbW9pemVkIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoZSBjYWNoZSBpcyBleHBvc2VkIGFzIHRoZSBgY2FjaGVgIHByb3BlcnR5IG9uIHRoZSBtZW1vaXplZFxuICAgICAqIGZ1bmN0aW9uLiBJdHMgY3JlYXRpb24gbWF5IGJlIGN1c3RvbWl6ZWQgYnkgcmVwbGFjaW5nIHRoZSBgXy5tZW1vaXplLkNhY2hlYFxuICAgICAqIGNvbnN0cnVjdG9yIHdpdGggb25lIHdob3NlIGluc3RhbmNlcyBpbXBsZW1lbnQgdGhlXG4gICAgICogW2BNYXBgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1wcm9wZXJ0aWVzLW9mLXRoZS1tYXAtcHJvdG90eXBlLW9iamVjdClcbiAgICAgKiBtZXRob2QgaW50ZXJmYWNlIG9mIGBjbGVhcmAsIGBkZWxldGVgLCBgZ2V0YCwgYGhhc2AsIGFuZCBgc2V0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGhhdmUgaXRzIG91dHB1dCBtZW1vaXplZC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcmVzb2x2ZXJdIFRoZSBmdW5jdGlvbiB0byByZXNvbHZlIHRoZSBjYWNoZSBrZXkuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgbWVtb2l6ZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAyIH07XG4gICAgICogdmFyIG90aGVyID0geyAnYyc6IDMsICdkJzogNCB9O1xuICAgICAqXG4gICAgICogdmFyIHZhbHVlcyA9IF8ubWVtb2l6ZShfLnZhbHVlcyk7XG4gICAgICogdmFsdWVzKG9iamVjdCk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICpcbiAgICAgKiB2YWx1ZXMob3RoZXIpO1xuICAgICAqIC8vID0+IFszLCA0XVxuICAgICAqXG4gICAgICogb2JqZWN0LmEgPSAyO1xuICAgICAqIHZhbHVlcyhvYmplY3QpO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqXG4gICAgICogLy8gTW9kaWZ5IHRoZSByZXN1bHQgY2FjaGUuXG4gICAgICogdmFsdWVzLmNhY2hlLnNldChvYmplY3QsIFsnYScsICdiJ10pO1xuICAgICAqIHZhbHVlcyhvYmplY3QpO1xuICAgICAqIC8vID0+IFsnYScsICdiJ11cbiAgICAgKlxuICAgICAqIC8vIFJlcGxhY2UgYF8ubWVtb2l6ZS5DYWNoZWAuXG4gICAgICogXy5tZW1vaXplLkNhY2hlID0gV2Vha01hcDtcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtZW1vaXplKGZ1bmMsIHJlc29sdmVyKSB7XG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJyB8fCAocmVzb2x2ZXIgIT0gbnVsbCAmJiB0eXBlb2YgcmVzb2x2ZXIgIT0gJ2Z1bmN0aW9uJykpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgdmFyIG1lbW9pemVkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzLFxuICAgICAgICAgICAga2V5ID0gcmVzb2x2ZXIgPyByZXNvbHZlci5hcHBseSh0aGlzLCBhcmdzKSA6IGFyZ3NbMF0sXG4gICAgICAgICAgICBjYWNoZSA9IG1lbW9pemVkLmNhY2hlO1xuXG4gICAgICAgIGlmIChjYWNoZS5oYXMoa2V5KSkge1xuICAgICAgICAgIHJldHVybiBjYWNoZS5nZXQoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVzdWx0ID0gZnVuYy5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgbWVtb2l6ZWQuY2FjaGUgPSBjYWNoZS5zZXQoa2V5LCByZXN1bHQpIHx8IGNhY2hlO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcbiAgICAgIG1lbW9pemVkLmNhY2hlID0gbmV3IChtZW1vaXplLkNhY2hlIHx8IE1hcENhY2hlKTtcbiAgICAgIHJldHVybiBtZW1vaXplZDtcbiAgICB9XG5cbiAgICAvLyBFeHBvc2UgYE1hcENhY2hlYC5cbiAgICBtZW1vaXplLkNhY2hlID0gTWFwQ2FjaGU7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBuZWdhdGVzIHRoZSByZXN1bHQgb2YgdGhlIHByZWRpY2F0ZSBgZnVuY2AuIFRoZVxuICAgICAqIGBmdW5jYCBwcmVkaWNhdGUgaXMgaW52b2tlZCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBhbmQgYXJndW1lbnRzIG9mIHRoZVxuICAgICAqIGNyZWF0ZWQgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIHByZWRpY2F0ZSB0byBuZWdhdGUuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgbmVnYXRlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gaXNFdmVuKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICUgMiA9PSAwO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIF8uZmlsdGVyKFsxLCAyLCAzLCA0LCA1LCA2XSwgXy5uZWdhdGUoaXNFdmVuKSk7XG4gICAgICogLy8gPT4gWzEsIDMsIDVdXG4gICAgICovXG4gICAgZnVuY3Rpb24gbmVnYXRlKHByZWRpY2F0ZSkge1xuICAgICAgaWYgKHR5cGVvZiBwcmVkaWNhdGUgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgICBzd2l0Y2ggKGFyZ3MubGVuZ3RoKSB7XG4gICAgICAgICAgY2FzZSAwOiByZXR1cm4gIXByZWRpY2F0ZS5jYWxsKHRoaXMpO1xuICAgICAgICAgIGNhc2UgMTogcmV0dXJuICFwcmVkaWNhdGUuY2FsbCh0aGlzLCBhcmdzWzBdKTtcbiAgICAgICAgICBjYXNlIDI6IHJldHVybiAhcHJlZGljYXRlLmNhbGwodGhpcywgYXJnc1swXSwgYXJnc1sxXSk7XG4gICAgICAgICAgY2FzZSAzOiByZXR1cm4gIXByZWRpY2F0ZS5jYWxsKHRoaXMsIGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAhcHJlZGljYXRlLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpcyByZXN0cmljdGVkIHRvIGludm9raW5nIGBmdW5jYCBvbmNlLiBSZXBlYXQgY2FsbHNcbiAgICAgKiB0byB0aGUgZnVuY3Rpb24gcmV0dXJuIHRoZSB2YWx1ZSBvZiB0aGUgZmlyc3QgaW52b2NhdGlvbi4gVGhlIGBmdW5jYCBpc1xuICAgICAqIGludm9rZWQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgYW5kIGFyZ3VtZW50cyBvZiB0aGUgY3JlYXRlZCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHJlc3RyaWN0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHJlc3RyaWN0ZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBpbml0aWFsaXplID0gXy5vbmNlKGNyZWF0ZUFwcGxpY2F0aW9uKTtcbiAgICAgKiBpbml0aWFsaXplKCk7XG4gICAgICogaW5pdGlhbGl6ZSgpO1xuICAgICAqIC8vID0+IGBjcmVhdGVBcHBsaWNhdGlvbmAgaXMgaW52b2tlZCBvbmNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gb25jZShmdW5jKSB7XG4gICAgICByZXR1cm4gYmVmb3JlKDIsIGZ1bmMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggaXRzIGFyZ3VtZW50cyB0cmFuc2Zvcm1lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHsuLi4oRnVuY3Rpb258RnVuY3Rpb25bXSl9IFt0cmFuc2Zvcm1zPVtfLmlkZW50aXR5XV1cbiAgICAgKiAgVGhlIGFyZ3VtZW50IHRyYW5zZm9ybXMuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGRvdWJsZWQobikge1xuICAgICAqICAgcmV0dXJuIG4gKiAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIHNxdWFyZShuKSB7XG4gICAgICogICByZXR1cm4gbiAqIG47XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGZ1bmMgPSBfLm92ZXJBcmdzKGZ1bmN0aW9uKHgsIHkpIHtcbiAgICAgKiAgIHJldHVybiBbeCwgeV07XG4gICAgICogfSwgW3NxdWFyZSwgZG91YmxlZF0pO1xuICAgICAqXG4gICAgICogZnVuYyg5LCAzKTtcbiAgICAgKiAvLyA9PiBbODEsIDZdXG4gICAgICpcbiAgICAgKiBmdW5jKDEwLCA1KTtcbiAgICAgKiAvLyA9PiBbMTAwLCAxMF1cbiAgICAgKi9cbiAgICB2YXIgb3ZlckFyZ3MgPSBjYXN0UmVzdChmdW5jdGlvbihmdW5jLCB0cmFuc2Zvcm1zKSB7XG4gICAgICB0cmFuc2Zvcm1zID0gKHRyYW5zZm9ybXMubGVuZ3RoID09IDEgJiYgaXNBcnJheSh0cmFuc2Zvcm1zWzBdKSlcbiAgICAgICAgPyBhcnJheU1hcCh0cmFuc2Zvcm1zWzBdLCBiYXNlVW5hcnkoZ2V0SXRlcmF0ZWUoKSkpXG4gICAgICAgIDogYXJyYXlNYXAoYmFzZUZsYXR0ZW4odHJhbnNmb3JtcywgMSksIGJhc2VVbmFyeShnZXRJdGVyYXRlZSgpKSk7XG5cbiAgICAgIHZhciBmdW5jc0xlbmd0aCA9IHRyYW5zZm9ybXMubGVuZ3RoO1xuICAgICAgcmV0dXJuIGJhc2VSZXN0KGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgICBsZW5ndGggPSBuYXRpdmVNaW4oYXJncy5sZW5ndGgsIGZ1bmNzTGVuZ3RoKTtcblxuICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIGFyZ3NbaW5kZXhdID0gdHJhbnNmb3Jtc1tpbmRleF0uY2FsbCh0aGlzLCBhcmdzW2luZGV4XSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFwcGx5KGZ1bmMsIHRoaXMsIGFyZ3MpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIGBwYXJ0aWFsc2AgcHJlcGVuZGVkIHRvIHRoZVxuICAgICAqIGFyZ3VtZW50cyBpdCByZWNlaXZlcy4gVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5iaW5kYCBleGNlcHQgaXQgZG9lcyAqKm5vdCoqXG4gICAgICogYWx0ZXIgdGhlIGB0aGlzYCBiaW5kaW5nLlxuICAgICAqXG4gICAgICogVGhlIGBfLnBhcnRpYWwucGxhY2Vob2xkZXJgIHZhbHVlLCB3aGljaCBkZWZhdWx0cyB0byBgX2AgaW4gbW9ub2xpdGhpY1xuICAgICAqIGJ1aWxkcywgbWF5IGJlIHVzZWQgYXMgYSBwbGFjZWhvbGRlciBmb3IgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGRvZXNuJ3Qgc2V0IHRoZSBcImxlbmd0aFwiIHByb3BlcnR5IG9mIHBhcnRpYWxseVxuICAgICAqIGFwcGxpZWQgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMi4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcGFydGlhbGx5IGFwcGx5IGFyZ3VtZW50cyB0by5cbiAgICAgKiBAcGFyYW0gey4uLip9IFtwYXJ0aWFsc10gVGhlIGFyZ3VtZW50cyB0byBiZSBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBwYXJ0aWFsbHkgYXBwbGllZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gZ3JlZXQoZ3JlZXRpbmcsIG5hbWUpIHtcbiAgICAgKiAgIHJldHVybiBncmVldGluZyArICcgJyArIG5hbWU7XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIHNheUhlbGxvVG8gPSBfLnBhcnRpYWwoZ3JlZXQsICdoZWxsbycpO1xuICAgICAqIHNheUhlbGxvVG8oJ2ZyZWQnKTtcbiAgICAgKiAvLyA9PiAnaGVsbG8gZnJlZCdcbiAgICAgKlxuICAgICAqIC8vIFBhcnRpYWxseSBhcHBsaWVkIHdpdGggcGxhY2Vob2xkZXJzLlxuICAgICAqIHZhciBncmVldEZyZWQgPSBfLnBhcnRpYWwoZ3JlZXQsIF8sICdmcmVkJyk7XG4gICAgICogZ3JlZXRGcmVkKCdoaScpO1xuICAgICAqIC8vID0+ICdoaSBmcmVkJ1xuICAgICAqL1xuICAgIHZhciBwYXJ0aWFsID0gYmFzZVJlc3QoZnVuY3Rpb24oZnVuYywgcGFydGlhbHMpIHtcbiAgICAgIHZhciBob2xkZXJzID0gcmVwbGFjZUhvbGRlcnMocGFydGlhbHMsIGdldEhvbGRlcihwYXJ0aWFsKSk7XG4gICAgICByZXR1cm4gY3JlYXRlV3JhcChmdW5jLCBXUkFQX1BBUlRJQUxfRkxBRywgdW5kZWZpbmVkLCBwYXJ0aWFscywgaG9sZGVycyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnBhcnRpYWxgIGV4Y2VwdCB0aGF0IHBhcnRpYWxseSBhcHBsaWVkIGFyZ3VtZW50c1xuICAgICAqIGFyZSBhcHBlbmRlZCB0byB0aGUgYXJndW1lbnRzIGl0IHJlY2VpdmVzLlxuICAgICAqXG4gICAgICogVGhlIGBfLnBhcnRpYWxSaWdodC5wbGFjZWhvbGRlcmAgdmFsdWUsIHdoaWNoIGRlZmF1bHRzIHRvIGBfYCBpbiBtb25vbGl0aGljXG4gICAgICogYnVpbGRzLCBtYXkgYmUgdXNlZCBhcyBhIHBsYWNlaG9sZGVyIGZvciBwYXJ0aWFsbHkgYXBwbGllZCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgZG9lc24ndCBzZXQgdGhlIFwibGVuZ3RoXCIgcHJvcGVydHkgb2YgcGFydGlhbGx5XG4gICAgICogYXBwbGllZCBmdW5jdGlvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBwYXJ0aWFsbHkgYXBwbHkgYXJndW1lbnRzIHRvLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW3BhcnRpYWxzXSBUaGUgYXJndW1lbnRzIHRvIGJlIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHBhcnRpYWxseSBhcHBsaWVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBncmVldChncmVldGluZywgbmFtZSkge1xuICAgICAqICAgcmV0dXJuIGdyZWV0aW5nICsgJyAnICsgbmFtZTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgZ3JlZXRGcmVkID0gXy5wYXJ0aWFsUmlnaHQoZ3JlZXQsICdmcmVkJyk7XG4gICAgICogZ3JlZXRGcmVkKCdoaScpO1xuICAgICAqIC8vID0+ICdoaSBmcmVkJ1xuICAgICAqXG4gICAgICogLy8gUGFydGlhbGx5IGFwcGxpZWQgd2l0aCBwbGFjZWhvbGRlcnMuXG4gICAgICogdmFyIHNheUhlbGxvVG8gPSBfLnBhcnRpYWxSaWdodChncmVldCwgJ2hlbGxvJywgXyk7XG4gICAgICogc2F5SGVsbG9UbygnZnJlZCcpO1xuICAgICAqIC8vID0+ICdoZWxsbyBmcmVkJ1xuICAgICAqL1xuICAgIHZhciBwYXJ0aWFsUmlnaHQgPSBiYXNlUmVzdChmdW5jdGlvbihmdW5jLCBwYXJ0aWFscykge1xuICAgICAgdmFyIGhvbGRlcnMgPSByZXBsYWNlSG9sZGVycyhwYXJ0aWFscywgZ2V0SG9sZGVyKHBhcnRpYWxSaWdodCkpO1xuICAgICAgcmV0dXJuIGNyZWF0ZVdyYXAoZnVuYywgV1JBUF9QQVJUSUFMX1JJR0hUX0ZMQUcsIHVuZGVmaW5lZCwgcGFydGlhbHMsIGhvbGRlcnMpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCBhcmd1bWVudHMgYXJyYW5nZWQgYWNjb3JkaW5nXG4gICAgICogdG8gdGhlIHNwZWNpZmllZCBgaW5kZXhlc2Agd2hlcmUgdGhlIGFyZ3VtZW50IHZhbHVlIGF0IHRoZSBmaXJzdCBpbmRleCBpc1xuICAgICAqIHByb3ZpZGVkIGFzIHRoZSBmaXJzdCBhcmd1bWVudCwgdGhlIGFyZ3VtZW50IHZhbHVlIGF0IHRoZSBzZWNvbmQgaW5kZXggaXNcbiAgICAgKiBwcm92aWRlZCBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50LCBhbmQgc28gb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byByZWFycmFuZ2UgYXJndW1lbnRzIGZvci5cbiAgICAgKiBAcGFyYW0gey4uLihudW1iZXJ8bnVtYmVyW10pfSBpbmRleGVzIFRoZSBhcnJhbmdlZCBhcmd1bWVudCBpbmRleGVzLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgcmVhcmdlZCA9IF8ucmVhcmcoZnVuY3Rpb24oYSwgYiwgYykge1xuICAgICAqICAgcmV0dXJuIFthLCBiLCBjXTtcbiAgICAgKiB9LCBbMiwgMCwgMV0pO1xuICAgICAqXG4gICAgICogcmVhcmdlZCgnYicsICdjJywgJ2EnKVxuICAgICAqIC8vID0+IFsnYScsICdiJywgJ2MnXVxuICAgICAqL1xuICAgIHZhciByZWFyZyA9IGZsYXRSZXN0KGZ1bmN0aW9uKGZ1bmMsIGluZGV4ZXMpIHtcbiAgICAgIHJldHVybiBjcmVhdGVXcmFwKGZ1bmMsIFdSQVBfUkVBUkdfRkxBRywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgaW5kZXhlcyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiB0aGVcbiAgICAgKiBjcmVhdGVkIGZ1bmN0aW9uIGFuZCBhcmd1bWVudHMgZnJvbSBgc3RhcnRgIGFuZCBiZXlvbmQgcHJvdmlkZWQgYXNcbiAgICAgKiBhbiBhcnJheS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvbiB0aGVcbiAgICAgKiBbcmVzdCBwYXJhbWV0ZXJdKGh0dHBzOi8vbWRuLmlvL3Jlc3RfcGFyYW1ldGVycykuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhcHBseSBhIHJlc3QgcGFyYW1ldGVyIHRvLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9ZnVuYy5sZW5ndGgtMV0gVGhlIHN0YXJ0IHBvc2l0aW9uIG9mIHRoZSByZXN0IHBhcmFtZXRlci5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHNheSA9IF8ucmVzdChmdW5jdGlvbih3aGF0LCBuYW1lcykge1xuICAgICAqICAgcmV0dXJuIHdoYXQgKyAnICcgKyBfLmluaXRpYWwobmFtZXMpLmpvaW4oJywgJykgK1xuICAgICAqICAgICAoXy5zaXplKG5hbWVzKSA+IDEgPyAnLCAmICcgOiAnJykgKyBfLmxhc3QobmFtZXMpO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogc2F5KCdoZWxsbycsICdmcmVkJywgJ2Jhcm5leScsICdwZWJibGVzJyk7XG4gICAgICogLy8gPT4gJ2hlbGxvIGZyZWQsIGJhcm5leSwgJiBwZWJibGVzJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlc3QoZnVuYywgc3RhcnQpIHtcbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHN0YXJ0ID0gc3RhcnQgPT09IHVuZGVmaW5lZCA/IHN0YXJ0IDogdG9JbnRlZ2VyKHN0YXJ0KTtcbiAgICAgIHJldHVybiBiYXNlUmVzdChmdW5jLCBzdGFydCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgdGhlXG4gICAgICogY3JlYXRlIGZ1bmN0aW9uIGFuZCBhbiBhcnJheSBvZiBhcmd1bWVudHMgbXVjaCBsaWtlXG4gICAgICogW2BGdW5jdGlvbiNhcHBseWBdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1mdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uIHRoZVxuICAgICAqIFtzcHJlYWQgb3BlcmF0b3JdKGh0dHBzOi8vbWRuLmlvL3NwcmVhZF9vcGVyYXRvcikuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4yLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBzcHJlYWQgYXJndW1lbnRzIG92ZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgcG9zaXRpb24gb2YgdGhlIHNwcmVhZC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHNheSA9IF8uc3ByZWFkKGZ1bmN0aW9uKHdobywgd2hhdCkge1xuICAgICAqICAgcmV0dXJuIHdobyArICcgc2F5cyAnICsgd2hhdDtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIHNheShbJ2ZyZWQnLCAnaGVsbG8nXSk7XG4gICAgICogLy8gPT4gJ2ZyZWQgc2F5cyBoZWxsbydcbiAgICAgKlxuICAgICAqIHZhciBudW1iZXJzID0gUHJvbWlzZS5hbGwoW1xuICAgICAqICAgUHJvbWlzZS5yZXNvbHZlKDQwKSxcbiAgICAgKiAgIFByb21pc2UucmVzb2x2ZSgzNilcbiAgICAgKiBdKTtcbiAgICAgKlxuICAgICAqIG51bWJlcnMudGhlbihfLnNwcmVhZChmdW5jdGlvbih4LCB5KSB7XG4gICAgICogICByZXR1cm4geCArIHk7XG4gICAgICogfSkpO1xuICAgICAqIC8vID0+IGEgUHJvbWlzZSBvZiA3NlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNwcmVhZChmdW5jLCBzdGFydCkge1xuICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgc3RhcnQgPSBzdGFydCA9PSBudWxsID8gMCA6IG5hdGl2ZU1heCh0b0ludGVnZXIoc3RhcnQpLCAwKTtcbiAgICAgIHJldHVybiBiYXNlUmVzdChmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgIHZhciBhcnJheSA9IGFyZ3Nbc3RhcnRdLFxuICAgICAgICAgICAgb3RoZXJBcmdzID0gY2FzdFNsaWNlKGFyZ3MsIDAsIHN0YXJ0KTtcblxuICAgICAgICBpZiAoYXJyYXkpIHtcbiAgICAgICAgICBhcnJheVB1c2gob3RoZXJBcmdzLCBhcnJheSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFwcGx5KGZ1bmMsIHRoaXMsIG90aGVyQXJncyk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgdGhyb3R0bGVkIGZ1bmN0aW9uIHRoYXQgb25seSBpbnZva2VzIGBmdW5jYCBhdCBtb3N0IG9uY2UgcGVyXG4gICAgICogZXZlcnkgYHdhaXRgIG1pbGxpc2Vjb25kcy4gVGhlIHRocm90dGxlZCBmdW5jdGlvbiBjb21lcyB3aXRoIGEgYGNhbmNlbGBcbiAgICAgKiBtZXRob2QgdG8gY2FuY2VsIGRlbGF5ZWQgYGZ1bmNgIGludm9jYXRpb25zIGFuZCBhIGBmbHVzaGAgbWV0aG9kIHRvXG4gICAgICogaW1tZWRpYXRlbHkgaW52b2tlIHRoZW0uIFByb3ZpZGUgYG9wdGlvbnNgIHRvIGluZGljYXRlIHdoZXRoZXIgYGZ1bmNgXG4gICAgICogc2hvdWxkIGJlIGludm9rZWQgb24gdGhlIGxlYWRpbmcgYW5kL29yIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIGB3YWl0YFxuICAgICAqIHRpbWVvdXQuIFRoZSBgZnVuY2AgaXMgaW52b2tlZCB3aXRoIHRoZSBsYXN0IGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGVcbiAgICAgKiB0aHJvdHRsZWQgZnVuY3Rpb24uIFN1YnNlcXVlbnQgY2FsbHMgdG8gdGhlIHRocm90dGxlZCBmdW5jdGlvbiByZXR1cm4gdGhlXG4gICAgICogcmVzdWx0IG9mIHRoZSBsYXN0IGBmdW5jYCBpbnZvY2F0aW9uLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIElmIGBsZWFkaW5nYCBhbmQgYHRyYWlsaW5nYCBvcHRpb25zIGFyZSBgdHJ1ZWAsIGBmdW5jYCBpc1xuICAgICAqIGludm9rZWQgb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQgb25seSBpZiB0aGUgdGhyb3R0bGVkIGZ1bmN0aW9uXG4gICAgICogaXMgaW52b2tlZCBtb3JlIHRoYW4gb25jZSBkdXJpbmcgdGhlIGB3YWl0YCB0aW1lb3V0LlxuICAgICAqXG4gICAgICogSWYgYHdhaXRgIGlzIGAwYCBhbmQgYGxlYWRpbmdgIGlzIGBmYWxzZWAsIGBmdW5jYCBpbnZvY2F0aW9uIGlzIGRlZmVycmVkXG4gICAgICogdW50aWwgdG8gdGhlIG5leHQgdGljaywgc2ltaWxhciB0byBgc2V0VGltZW91dGAgd2l0aCBhIHRpbWVvdXQgb2YgYDBgLlxuICAgICAqXG4gICAgICogU2VlIFtEYXZpZCBDb3JiYWNobydzIGFydGljbGVdKGh0dHBzOi8vY3NzLXRyaWNrcy5jb20vZGVib3VuY2luZy10aHJvdHRsaW5nLWV4cGxhaW5lZC1leGFtcGxlcy8pXG4gICAgICogZm9yIGRldGFpbHMgb3ZlciB0aGUgZGlmZmVyZW5jZXMgYmV0d2VlbiBgXy50aHJvdHRsZWAgYW5kIGBfLmRlYm91bmNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHRocm90dGxlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbd2FpdD0wXSBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byB0aHJvdHRsZSBpbnZvY2F0aW9ucyB0by5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmxlYWRpbmc9dHJ1ZV1cbiAgICAgKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgbGVhZGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudHJhaWxpbmc9dHJ1ZV1cbiAgICAgKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB0aHJvdHRsZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIC8vIEF2b2lkIGV4Y2Vzc2l2ZWx5IHVwZGF0aW5nIHRoZSBwb3NpdGlvbiB3aGlsZSBzY3JvbGxpbmcuXG4gICAgICogalF1ZXJ5KHdpbmRvdykub24oJ3Njcm9sbCcsIF8udGhyb3R0bGUodXBkYXRlUG9zaXRpb24sIDEwMCkpO1xuICAgICAqXG4gICAgICogLy8gSW52b2tlIGByZW5ld1Rva2VuYCB3aGVuIHRoZSBjbGljayBldmVudCBpcyBmaXJlZCwgYnV0IG5vdCBtb3JlIHRoYW4gb25jZSBldmVyeSA1IG1pbnV0ZXMuXG4gICAgICogdmFyIHRocm90dGxlZCA9IF8udGhyb3R0bGUocmVuZXdUb2tlbiwgMzAwMDAwLCB7ICd0cmFpbGluZyc6IGZhbHNlIH0pO1xuICAgICAqIGpRdWVyeShlbGVtZW50KS5vbignY2xpY2snLCB0aHJvdHRsZWQpO1xuICAgICAqXG4gICAgICogLy8gQ2FuY2VsIHRoZSB0cmFpbGluZyB0aHJvdHRsZWQgaW52b2NhdGlvbi5cbiAgICAgKiBqUXVlcnkod2luZG93KS5vbigncG9wc3RhdGUnLCB0aHJvdHRsZWQuY2FuY2VsKTtcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0aHJvdHRsZShmdW5jLCB3YWl0LCBvcHRpb25zKSB7XG4gICAgICB2YXIgbGVhZGluZyA9IHRydWUsXG4gICAgICAgICAgdHJhaWxpbmcgPSB0cnVlO1xuXG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICBpZiAoaXNPYmplY3Qob3B0aW9ucykpIHtcbiAgICAgICAgbGVhZGluZyA9ICdsZWFkaW5nJyBpbiBvcHRpb25zID8gISFvcHRpb25zLmxlYWRpbmcgOiBsZWFkaW5nO1xuICAgICAgICB0cmFpbGluZyA9ICd0cmFpbGluZycgaW4gb3B0aW9ucyA/ICEhb3B0aW9ucy50cmFpbGluZyA6IHRyYWlsaW5nO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGRlYm91bmNlKGZ1bmMsIHdhaXQsIHtcbiAgICAgICAgJ2xlYWRpbmcnOiBsZWFkaW5nLFxuICAgICAgICAnbWF4V2FpdCc6IHdhaXQsXG4gICAgICAgICd0cmFpbGluZyc6IHRyYWlsaW5nXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBhY2NlcHRzIHVwIHRvIG9uZSBhcmd1bWVudCwgaWdub3JpbmcgYW55XG4gICAgICogYWRkaXRpb25hbCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjYXAgYXJndW1lbnRzIGZvci5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjYXBwZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubWFwKFsnNicsICc4JywgJzEwJ10sIF8udW5hcnkocGFyc2VJbnQpKTtcbiAgICAgKiAvLyA9PiBbNiwgOCwgMTBdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5hcnkoZnVuYykge1xuICAgICAgcmV0dXJuIGFyeShmdW5jLCAxKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBwcm92aWRlcyBgdmFsdWVgIHRvIGB3cmFwcGVyYCBhcyBpdHMgZmlyc3RcbiAgICAgKiBhcmd1bWVudC4gQW55IGFkZGl0aW9uYWwgYXJndW1lbnRzIHByb3ZpZGVkIHRvIHRoZSBmdW5jdGlvbiBhcmUgYXBwZW5kZWRcbiAgICAgKiB0byB0aG9zZSBwcm92aWRlZCB0byB0aGUgYHdyYXBwZXJgLiBUaGUgd3JhcHBlciBpcyBpbnZva2VkIHdpdGggdGhlIGB0aGlzYFxuICAgICAqIGJpbmRpbmcgb2YgdGhlIGNyZWF0ZWQgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFt3cmFwcGVyPWlkZW50aXR5XSBUaGUgd3JhcHBlciBmdW5jdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHAgPSBfLndyYXAoXy5lc2NhcGUsIGZ1bmN0aW9uKGZ1bmMsIHRleHQpIHtcbiAgICAgKiAgIHJldHVybiAnPHA+JyArIGZ1bmModGV4dCkgKyAnPC9wPic7XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBwKCdmcmVkLCBiYXJuZXksICYgcGViYmxlcycpO1xuICAgICAqIC8vID0+ICc8cD5mcmVkLCBiYXJuZXksICZhbXA7IHBlYmJsZXM8L3A+J1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXAodmFsdWUsIHdyYXBwZXIpIHtcbiAgICAgIHJldHVybiBwYXJ0aWFsKGNhc3RGdW5jdGlvbih3cmFwcGVyKSwgdmFsdWUpO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENhc3RzIGB2YWx1ZWAgYXMgYW4gYXJyYXkgaWYgaXQncyBub3Qgb25lLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY2FzdCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5jYXN0QXJyYXkoMSk7XG4gICAgICogLy8gPT4gWzFdXG4gICAgICpcbiAgICAgKiBfLmNhc3RBcnJheSh7ICdhJzogMSB9KTtcbiAgICAgKiAvLyA9PiBbeyAnYSc6IDEgfV1cbiAgICAgKlxuICAgICAqIF8uY2FzdEFycmF5KCdhYmMnKTtcbiAgICAgKiAvLyA9PiBbJ2FiYyddXG4gICAgICpcbiAgICAgKiBfLmNhc3RBcnJheShudWxsKTtcbiAgICAgKiAvLyA9PiBbbnVsbF1cbiAgICAgKlxuICAgICAqIF8uY2FzdEFycmF5KHVuZGVmaW5lZCk7XG4gICAgICogLy8gPT4gW3VuZGVmaW5lZF1cbiAgICAgKlxuICAgICAqIF8uY2FzdEFycmF5KCk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsxLCAyLCAzXTtcbiAgICAgKiBjb25zb2xlLmxvZyhfLmNhc3RBcnJheShhcnJheSkgPT09IGFycmF5KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2FzdEFycmF5KCkge1xuICAgICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIHZhciB2YWx1ZSA9IGFyZ3VtZW50c1swXTtcbiAgICAgIHJldHVybiBpc0FycmF5KHZhbHVlKSA/IHZhbHVlIDogW3ZhbHVlXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2hhbGxvdyBjbG9uZSBvZiBgdmFsdWVgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGxvb3NlbHkgYmFzZWQgb24gdGhlXG4gICAgICogW3N0cnVjdHVyZWQgY2xvbmUgYWxnb3JpdGhtXShodHRwczovL21kbi5pby9TdHJ1Y3R1cmVkX2Nsb25lX2FsZ29yaXRobSlcbiAgICAgKiBhbmQgc3VwcG9ydHMgY2xvbmluZyBhcnJheXMsIGFycmF5IGJ1ZmZlcnMsIGJvb2xlYW5zLCBkYXRlIG9iamVjdHMsIG1hcHMsXG4gICAgICogbnVtYmVycywgYE9iamVjdGAgb2JqZWN0cywgcmVnZXhlcywgc2V0cywgc3RyaW5ncywgc3ltYm9scywgYW5kIHR5cGVkXG4gICAgICogYXJyYXlzLiBUaGUgb3duIGVudW1lcmFibGUgcHJvcGVydGllcyBvZiBgYXJndW1lbnRzYCBvYmplY3RzIGFyZSBjbG9uZWRcbiAgICAgKiBhcyBwbGFpbiBvYmplY3RzLiBBbiBlbXB0eSBvYmplY3QgaXMgcmV0dXJuZWQgZm9yIHVuY2xvbmVhYmxlIHZhbHVlcyBzdWNoXG4gICAgICogYXMgZXJyb3Igb2JqZWN0cywgZnVuY3Rpb25zLCBET00gbm9kZXMsIGFuZCBXZWFrTWFwcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2xvbmUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGNsb25lZCB2YWx1ZS5cbiAgICAgKiBAc2VlIF8uY2xvbmVEZWVwXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ2EnOiAxIH0sIHsgJ2InOiAyIH1dO1xuICAgICAqXG4gICAgICogdmFyIHNoYWxsb3cgPSBfLmNsb25lKG9iamVjdHMpO1xuICAgICAqIGNvbnNvbGUubG9nKHNoYWxsb3dbMF0gPT09IG9iamVjdHNbMF0pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGJhc2VDbG9uZSh2YWx1ZSwgQ0xPTkVfU1lNQk9MU19GTEFHKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmNsb25lYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjdXN0b21pemVyYCB3aGljaFxuICAgICAqIGlzIGludm9rZWQgdG8gcHJvZHVjZSB0aGUgY2xvbmVkIHZhbHVlLiBJZiBgY3VzdG9taXplcmAgcmV0dXJucyBgdW5kZWZpbmVkYCxcbiAgICAgKiBjbG9uaW5nIGlzIGhhbmRsZWQgYnkgdGhlIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgIGlzIGludm9rZWQgd2l0aFxuICAgICAqIHVwIHRvIGZvdXIgYXJndW1lbnRzOyAodmFsdWUgWywgaW5kZXh8a2V5LCBvYmplY3QsIHN0YWNrXSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNsb25lLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNsb25pbmcuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGNsb25lZCB2YWx1ZS5cbiAgICAgKiBAc2VlIF8uY2xvbmVEZWVwV2l0aFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBjdXN0b21pemVyKHZhbHVlKSB7XG4gICAgICogICBpZiAoXy5pc0VsZW1lbnQodmFsdWUpKSB7XG4gICAgICogICAgIHJldHVybiB2YWx1ZS5jbG9uZU5vZGUoZmFsc2UpO1xuICAgICAqICAgfVxuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBlbCA9IF8uY2xvbmVXaXRoKGRvY3VtZW50LmJvZHksIGN1c3RvbWl6ZXIpO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2coZWwgPT09IGRvY3VtZW50LmJvZHkpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICogY29uc29sZS5sb2coZWwubm9kZU5hbWUpO1xuICAgICAqIC8vID0+ICdCT0RZJ1xuICAgICAqIGNvbnNvbGUubG9nKGVsLmNoaWxkTm9kZXMubGVuZ3RoKTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVXaXRoKHZhbHVlLCBjdXN0b21pemVyKSB7XG4gICAgICBjdXN0b21pemVyID0gdHlwZW9mIGN1c3RvbWl6ZXIgPT0gJ2Z1bmN0aW9uJyA/IGN1c3RvbWl6ZXIgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gYmFzZUNsb25lKHZhbHVlLCBDTE9ORV9TWU1CT0xTX0ZMQUcsIGN1c3RvbWl6ZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uY2xvbmVgIGV4Y2VwdCB0aGF0IGl0IHJlY3Vyc2l2ZWx5IGNsb25lcyBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byByZWN1cnNpdmVseSBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZGVlcCBjbG9uZWQgdmFsdWUuXG4gICAgICogQHNlZSBfLmNsb25lXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ2EnOiAxIH0sIHsgJ2InOiAyIH1dO1xuICAgICAqXG4gICAgICogdmFyIGRlZXAgPSBfLmNsb25lRGVlcChvYmplY3RzKTtcbiAgICAgKiBjb25zb2xlLmxvZyhkZWVwWzBdID09PSBvYmplY3RzWzBdKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lRGVlcCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGJhc2VDbG9uZSh2YWx1ZSwgQ0xPTkVfREVFUF9GTEFHIHwgQ0xPTkVfU1lNQk9MU19GTEFHKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmNsb25lV2l0aGAgZXhjZXB0IHRoYXQgaXQgcmVjdXJzaXZlbHkgY2xvbmVzIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHJlY3Vyc2l2ZWx5IGNsb25lLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNsb25pbmcuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGRlZXAgY2xvbmVkIHZhbHVlLlxuICAgICAqIEBzZWUgXy5jbG9uZVdpdGhcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gY3VzdG9taXplcih2YWx1ZSkge1xuICAgICAqICAgaWYgKF8uaXNFbGVtZW50KHZhbHVlKSkge1xuICAgICAqICAgICByZXR1cm4gdmFsdWUuY2xvbmVOb2RlKHRydWUpO1xuICAgICAqICAgfVxuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBlbCA9IF8uY2xvbmVEZWVwV2l0aChkb2N1bWVudC5ib2R5LCBjdXN0b21pemVyKTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGVsID09PSBkb2N1bWVudC5ib2R5KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqIGNvbnNvbGUubG9nKGVsLm5vZGVOYW1lKTtcbiAgICAgKiAvLyA9PiAnQk9EWSdcbiAgICAgKiBjb25zb2xlLmxvZyhlbC5jaGlsZE5vZGVzLmxlbmd0aCk7XG4gICAgICogLy8gPT4gMjBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZURlZXBXaXRoKHZhbHVlLCBjdXN0b21pemVyKSB7XG4gICAgICBjdXN0b21pemVyID0gdHlwZW9mIGN1c3RvbWl6ZXIgPT0gJ2Z1bmN0aW9uJyA/IGN1c3RvbWl6ZXIgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gYmFzZUNsb25lKHZhbHVlLCBDTE9ORV9ERUVQX0ZMQUcgfCBDTE9ORV9TWU1CT0xTX0ZMQUcsIGN1c3RvbWl6ZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgb2JqZWN0YCBjb25mb3JtcyB0byBgc291cmNlYCBieSBpbnZva2luZyB0aGUgcHJlZGljYXRlXG4gICAgICogcHJvcGVydGllcyBvZiBgc291cmNlYCB3aXRoIHRoZSBjb3JyZXNwb25kaW5nIHByb3BlcnR5IHZhbHVlcyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBlcXVpdmFsZW50IHRvIGBfLmNvbmZvcm1zYCB3aGVuIGBzb3VyY2VgIGlzXG4gICAgICogcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xNC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgcHJlZGljYXRlcyB0byBjb25mb3JtIHRvLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgb2JqZWN0YCBjb25mb3JtcywgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogMiB9O1xuICAgICAqXG4gICAgICogXy5jb25mb3Jtc1RvKG9iamVjdCwgeyAnYic6IGZ1bmN0aW9uKG4pIHsgcmV0dXJuIG4gPiAxOyB9IH0pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uY29uZm9ybXNUbyhvYmplY3QsIHsgJ2InOiBmdW5jdGlvbihuKSB7IHJldHVybiBuID4gMjsgfSB9KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbmZvcm1zVG8ob2JqZWN0LCBzb3VyY2UpIHtcbiAgICAgIHJldHVybiBzb3VyY2UgPT0gbnVsbCB8fCBiYXNlQ29uZm9ybXNUbyhvYmplY3QsIHNvdXJjZSwga2V5cyhzb3VyY2UpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyBhXG4gICAgICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBjb21wYXJpc29uIGJldHdlZW4gdHdvIHZhbHVlcyB0byBkZXRlcm1pbmUgaWYgdGhleSBhcmUgZXF1aXZhbGVudC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSB9O1xuICAgICAqIHZhciBvdGhlciA9IHsgJ2EnOiAxIH07XG4gICAgICpcbiAgICAgKiBfLmVxKG9iamVjdCwgb2JqZWN0KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmVxKG9iamVjdCwgb3RoZXIpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmVxKCdhJywgJ2EnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmVxKCdhJywgT2JqZWN0KCdhJykpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmVxKE5hTiwgTmFOKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gZXEodmFsdWUsIG90aGVyKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT09IG90aGVyIHx8ICh2YWx1ZSAhPT0gdmFsdWUgJiYgb3RoZXIgIT09IG90aGVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBncmVhdGVyIHRoYW4gYG90aGVyYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjkuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGdyZWF0ZXIgdGhhbiBgb3RoZXJgLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQHNlZSBfLmx0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZ3QoMywgMSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5ndCgzLCAzKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5ndCgxLCAzKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBndCA9IGNyZWF0ZVJlbGF0aW9uYWxPcGVyYXRpb24oYmFzZUd0KTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byBgb3RoZXJgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuOS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvXG4gICAgICogIGBvdGhlcmAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAc2VlIF8ubHRlXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZ3RlKDMsIDEpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uZ3RlKDMsIDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uZ3RlKDEsIDMpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGd0ZSA9IGNyZWF0ZVJlbGF0aW9uYWxPcGVyYXRpb24oZnVuY3Rpb24odmFsdWUsIG90aGVyKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPj0gb3RoZXI7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsaWtlbHkgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBgYXJndW1lbnRzYCBvYmplY3QsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0FyZ3VtZW50cyhmdW5jdGlvbigpIHsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQXJndW1lbnRzKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNBcmd1bWVudHMgPSBiYXNlSXNBcmd1bWVudHMoZnVuY3Rpb24oKSB7IHJldHVybiBhcmd1bWVudHM7IH0oKSkgPyBiYXNlSXNBcmd1bWVudHMgOiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgJ2NhbGxlZScpICYmXG4gICAgICAgICFwcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHZhbHVlLCAnY2FsbGVlJyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYW4gYEFycmF5YCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheShbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheShkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5KCdhYmMnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5KF8ubm9vcCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGFuIGBBcnJheUJ1ZmZlcmAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMy4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBhcnJheSBidWZmZXIsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5QnVmZmVyKG5ldyBBcnJheUJ1ZmZlcigyKSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5QnVmZmVyKG5ldyBBcnJheSgyKSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNBcnJheUJ1ZmZlciA9IG5vZGVJc0FycmF5QnVmZmVyID8gYmFzZVVuYXJ5KG5vZGVJc0FycmF5QnVmZmVyKSA6IGJhc2VJc0FycmF5QnVmZmVyO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYXJyYXktbGlrZS4gQSB2YWx1ZSBpcyBjb25zaWRlcmVkIGFycmF5LWxpa2UgaWYgaXQnc1xuICAgICAqIG5vdCBhIGZ1bmN0aW9uIGFuZCBoYXMgYSBgdmFsdWUubGVuZ3RoYCB0aGF0J3MgYW4gaW50ZWdlciBncmVhdGVyIHRoYW4gb3JcbiAgICAgKiBlcXVhbCB0byBgMGAgYW5kIGxlc3MgdGhhbiBvciBlcXVhbCB0byBgTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVJgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhcnJheS1saWtlLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUxpa2UoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlMaWtlKGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUxpa2UoJ2FiYycpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUxpa2UoXy5ub29wKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzQXJyYXlMaWtlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiBpc0xlbmd0aCh2YWx1ZS5sZW5ndGgpICYmICFpc0Z1bmN0aW9uKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmlzQXJyYXlMaWtlYCBleGNlcHQgdGhhdCBpdCBhbHNvIGNoZWNrcyBpZiBgdmFsdWVgXG4gICAgICogaXMgYW4gb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBhcnJheS1saWtlIG9iamVjdCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlMaWtlT2JqZWN0KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5TGlrZU9iamVjdChkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlMaWtlT2JqZWN0KCdhYmMnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5TGlrZU9iamVjdChfLm5vb3ApO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNBcnJheUxpa2VPYmplY3QodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGlzQXJyYXlMaWtlKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYm9vbGVhbiBwcmltaXRpdmUgb3Igb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGJvb2xlYW4sIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0Jvb2xlYW4oZmFsc2UpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNCb29sZWFuKG51bGwpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNCb29sZWFuKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT09IHRydWUgfHwgdmFsdWUgPT09IGZhbHNlIHx8XG4gICAgICAgIChpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IGJvb2xUYWcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgYnVmZmVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMy4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGJ1ZmZlciwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzQnVmZmVyKG5ldyBCdWZmZXIoMikpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNCdWZmZXIobmV3IFVpbnQ4QXJyYXkoMikpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzQnVmZmVyID0gbmF0aXZlSXNCdWZmZXIgfHwgc3R1YkZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBEYXRlYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgZGF0ZSBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0RhdGUobmV3IERhdGUpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNEYXRlKCdNb24gQXByaWwgMjMgMjAxMicpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzRGF0ZSA9IG5vZGVJc0RhdGUgPyBiYXNlVW5hcnkobm9kZUlzRGF0ZSkgOiBiYXNlSXNEYXRlO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGlrZWx5IGEgRE9NIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgRE9NIGVsZW1lbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0VsZW1lbnQoZG9jdW1lbnQuYm9keSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0VsZW1lbnQoJzxib2R5PicpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNFbGVtZW50KHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiB2YWx1ZS5ub2RlVHlwZSA9PT0gMSAmJiAhaXNQbGFpbk9iamVjdCh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYW4gZW1wdHkgb2JqZWN0LCBjb2xsZWN0aW9uLCBtYXAsIG9yIHNldC5cbiAgICAgKlxuICAgICAqIE9iamVjdHMgYXJlIGNvbnNpZGVyZWQgZW1wdHkgaWYgdGhleSBoYXZlIG5vIG93biBlbnVtZXJhYmxlIHN0cmluZyBrZXllZFxuICAgICAqIHByb3BlcnRpZXMuXG4gICAgICpcbiAgICAgKiBBcnJheS1saWtlIHZhbHVlcyBzdWNoIGFzIGBhcmd1bWVudHNgIG9iamVjdHMsIGFycmF5cywgYnVmZmVycywgc3RyaW5ncywgb3JcbiAgICAgKiBqUXVlcnktbGlrZSBjb2xsZWN0aW9ucyBhcmUgY29uc2lkZXJlZCBlbXB0eSBpZiB0aGV5IGhhdmUgYSBgbGVuZ3RoYCBvZiBgMGAuXG4gICAgICogU2ltaWxhcmx5LCBtYXBzIGFuZCBzZXRzIGFyZSBjb25zaWRlcmVkIGVtcHR5IGlmIHRoZXkgaGF2ZSBhIGBzaXplYCBvZiBgMGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGVtcHR5LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNFbXB0eShudWxsKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRW1wdHkodHJ1ZSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0VtcHR5KDEpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNFbXB0eShbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzRW1wdHkoeyAnYSc6IDEgfSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0VtcHR5KHZhbHVlKSB7XG4gICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChpc0FycmF5TGlrZSh2YWx1ZSkgJiZcbiAgICAgICAgICAoaXNBcnJheSh2YWx1ZSkgfHwgdHlwZW9mIHZhbHVlID09ICdzdHJpbmcnIHx8IHR5cGVvZiB2YWx1ZS5zcGxpY2UgPT0gJ2Z1bmN0aW9uJyB8fFxuICAgICAgICAgICAgaXNCdWZmZXIodmFsdWUpIHx8IGlzVHlwZWRBcnJheSh2YWx1ZSkgfHwgaXNBcmd1bWVudHModmFsdWUpKSkge1xuICAgICAgICByZXR1cm4gIXZhbHVlLmxlbmd0aDtcbiAgICAgIH1cbiAgICAgIHZhciB0YWcgPSBnZXRUYWcodmFsdWUpO1xuICAgICAgaWYgKHRhZyA9PSBtYXBUYWcgfHwgdGFnID09IHNldFRhZykge1xuICAgICAgICByZXR1cm4gIXZhbHVlLnNpemU7XG4gICAgICB9XG4gICAgICBpZiAoaXNQcm90b3R5cGUodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiAhYmFzZUtleXModmFsdWUpLmxlbmd0aDtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIGtleSBpbiB2YWx1ZSkge1xuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwga2V5KSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgYSBkZWVwIGNvbXBhcmlzb24gYmV0d2VlbiB0d28gdmFsdWVzIHRvIGRldGVybWluZSBpZiB0aGV5IGFyZVxuICAgICAqIGVxdWl2YWxlbnQuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2Qgc3VwcG9ydHMgY29tcGFyaW5nIGFycmF5cywgYXJyYXkgYnVmZmVycywgYm9vbGVhbnMsXG4gICAgICogZGF0ZSBvYmplY3RzLCBlcnJvciBvYmplY3RzLCBtYXBzLCBudW1iZXJzLCBgT2JqZWN0YCBvYmplY3RzLCByZWdleGVzLFxuICAgICAqIHNldHMsIHN0cmluZ3MsIHN5bWJvbHMsIGFuZCB0eXBlZCBhcnJheXMuIGBPYmplY3RgIG9iamVjdHMgYXJlIGNvbXBhcmVkXG4gICAgICogYnkgdGhlaXIgb3duLCBub3QgaW5oZXJpdGVkLCBlbnVtZXJhYmxlIHByb3BlcnRpZXMuIEZ1bmN0aW9ucyBhbmQgRE9NXG4gICAgICogbm9kZXMgYXJlIGNvbXBhcmVkIGJ5IHN0cmljdCBlcXVhbGl0eSwgaS5lLiBgPT09YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSB9O1xuICAgICAqIHZhciBvdGhlciA9IHsgJ2EnOiAxIH07XG4gICAgICpcbiAgICAgKiBfLmlzRXF1YWwob2JqZWN0LCBvdGhlcik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogb2JqZWN0ID09PSBvdGhlcjtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRXF1YWwodmFsdWUsIG90aGVyKSB7XG4gICAgICByZXR1cm4gYmFzZUlzRXF1YWwodmFsdWUsIG90aGVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmlzRXF1YWxgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGN1c3RvbWl6ZXJgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCB0byBjb21wYXJlIHZhbHVlcy4gSWYgYGN1c3RvbWl6ZXJgIHJldHVybnMgYHVuZGVmaW5lZGAsIGNvbXBhcmlzb25zXG4gICAgICogYXJlIGhhbmRsZWQgYnkgdGhlIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgIGlzIGludm9rZWQgd2l0aCB1cCB0b1xuICAgICAqIHNpeCBhcmd1bWVudHM6IChvYmpWYWx1ZSwgb3RoVmFsdWUgWywgaW5kZXh8a2V5LCBvYmplY3QsIG90aGVyLCBzdGFja10pLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gaXNHcmVldGluZyh2YWx1ZSkge1xuICAgICAqICAgcmV0dXJuIC9eaCg/Oml8ZWxsbykkLy50ZXN0KHZhbHVlKTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBjdXN0b21pemVyKG9ialZhbHVlLCBvdGhWYWx1ZSkge1xuICAgICAqICAgaWYgKGlzR3JlZXRpbmcob2JqVmFsdWUpICYmIGlzR3JlZXRpbmcob3RoVmFsdWUpKSB7XG4gICAgICogICAgIHJldHVybiB0cnVlO1xuICAgICAqICAgfVxuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsnaGVsbG8nLCAnZ29vZGJ5ZSddO1xuICAgICAqIHZhciBvdGhlciA9IFsnaGknLCAnZ29vZGJ5ZSddO1xuICAgICAqXG4gICAgICogXy5pc0VxdWFsV2l0aChhcnJheSwgb3RoZXIsIGN1c3RvbWl6ZXIpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0VxdWFsV2l0aCh2YWx1ZSwgb3RoZXIsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGN1c3RvbWl6ZXIgPSB0eXBlb2YgY3VzdG9taXplciA9PSAnZnVuY3Rpb24nID8gY3VzdG9taXplciA6IHVuZGVmaW5lZDtcbiAgICAgIHZhciByZXN1bHQgPSBjdXN0b21pemVyID8gY3VzdG9taXplcih2YWx1ZSwgb3RoZXIpIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIHJlc3VsdCA9PT0gdW5kZWZpbmVkID8gYmFzZUlzRXF1YWwodmFsdWUsIG90aGVyLCB1bmRlZmluZWQsIGN1c3RvbWl6ZXIpIDogISFyZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYW4gYEVycm9yYCwgYEV2YWxFcnJvcmAsIGBSYW5nZUVycm9yYCwgYFJlZmVyZW5jZUVycm9yYCxcbiAgICAgKiBgU3ludGF4RXJyb3JgLCBgVHlwZUVycm9yYCwgb3IgYFVSSUVycm9yYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGVycm9yIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzRXJyb3IobmV3IEVycm9yKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRXJyb3IoRXJyb3IpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNFcnJvcih2YWx1ZSkge1xuICAgICAgaWYgKCFpc09iamVjdExpa2UodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciB0YWcgPSBiYXNlR2V0VGFnKHZhbHVlKTtcbiAgICAgIHJldHVybiB0YWcgPT0gZXJyb3JUYWcgfHwgdGFnID09IGRvbUV4Y1RhZyB8fFxuICAgICAgICAodHlwZW9mIHZhbHVlLm1lc3NhZ2UgPT0gJ3N0cmluZycgJiYgdHlwZW9mIHZhbHVlLm5hbWUgPT0gJ3N0cmluZycgJiYgIWlzUGxhaW5PYmplY3QodmFsdWUpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIGZpbml0ZSBwcmltaXRpdmUgbnVtYmVyLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uXG4gICAgICogW2BOdW1iZXIuaXNGaW5pdGVgXShodHRwczovL21kbi5pby9OdW1iZXIvaXNGaW5pdGUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGZpbml0ZSBudW1iZXIsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0Zpbml0ZSgzKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRmluaXRlKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNGaW5pdGUoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzRmluaXRlKCczJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0Zpbml0ZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyAmJiBuYXRpdmVJc0Zpbml0ZSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBGdW5jdGlvbmAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGZ1bmN0aW9uLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNGdW5jdGlvbihfKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRnVuY3Rpb24oL2FiYy8pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNGdW5jdGlvbih2YWx1ZSkge1xuICAgICAgaWYgKCFpc09iamVjdCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgLy8gVGhlIHVzZSBvZiBgT2JqZWN0I3RvU3RyaW5nYCBhdm9pZHMgaXNzdWVzIHdpdGggdGhlIGB0eXBlb2ZgIG9wZXJhdG9yXG4gICAgICAvLyBpbiBTYWZhcmkgOSB3aGljaCByZXR1cm5zICdvYmplY3QnIGZvciB0eXBlZCBhcnJheXMgYW5kIG90aGVyIGNvbnN0cnVjdG9ycy5cbiAgICAgIHZhciB0YWcgPSBiYXNlR2V0VGFnKHZhbHVlKTtcbiAgICAgIHJldHVybiB0YWcgPT0gZnVuY1RhZyB8fCB0YWcgPT0gZ2VuVGFnIHx8IHRhZyA9PSBhc3luY1RhZyB8fCB0YWcgPT0gcHJveHlUYWc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYW4gaW50ZWdlci5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvblxuICAgICAqIFtgTnVtYmVyLmlzSW50ZWdlcmBdKGh0dHBzOi8vbWRuLmlvL051bWJlci9pc0ludGVnZXIpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBpbnRlZ2VyLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNJbnRlZ2VyKDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNJbnRlZ2VyKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzSW50ZWdlcihJbmZpbml0eSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNJbnRlZ2VyKCczJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0ludGVnZXIodmFsdWUpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgJiYgdmFsdWUgPT0gdG9JbnRlZ2VyKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGFycmF5LWxpa2UgbGVuZ3RoLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGxvb3NlbHkgYmFzZWQgb25cbiAgICAgKiBbYFRvTGVuZ3RoYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtdG9sZW5ndGgpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGxlbmd0aCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzTGVuZ3RoKDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNMZW5ndGgoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNMZW5ndGgoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzTGVuZ3RoKCczJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0xlbmd0aCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyAmJlxuICAgICAgICB2YWx1ZSA+IC0xICYmIHZhbHVlICUgMSA9PSAwICYmIHZhbHVlIDw9IE1BWF9TQUZFX0lOVEVHRVI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgdGhlXG4gICAgICogW2xhbmd1YWdlIHR5cGVdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1lY21hc2NyaXB0LWxhbmd1YWdlLXR5cGVzKVxuICAgICAqIG9mIGBPYmplY3RgLiAoZS5nLiBhcnJheXMsIGZ1bmN0aW9ucywgb2JqZWN0cywgcmVnZXhlcywgYG5ldyBOdW1iZXIoMClgLCBhbmQgYG5ldyBTdHJpbmcoJycpYClcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3Qoe30pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3QoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzT2JqZWN0KF8ubm9vcCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdChudWxsKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gICAgICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgICAgIHJldHVybiB2YWx1ZSAhPSBudWxsICYmICh0eXBlID09ICdvYmplY3QnIHx8IHR5cGUgPT0gJ2Z1bmN0aW9uJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UuIEEgdmFsdWUgaXMgb2JqZWN0LWxpa2UgaWYgaXQncyBub3QgYG51bGxgXG4gICAgICogYW5kIGhhcyBhIGB0eXBlb2ZgIHJlc3VsdCBvZiBcIm9iamVjdFwiLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzT2JqZWN0TGlrZSh7fSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdExpa2UoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzT2JqZWN0TGlrZShfLm5vb3ApO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzT2JqZWN0TGlrZShudWxsKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgTWFwYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgbWFwLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNNYXAobmV3IE1hcCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc01hcChuZXcgV2Vha01hcCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNNYXAgPSBub2RlSXNNYXAgPyBiYXNlVW5hcnkobm9kZUlzTWFwKSA6IGJhc2VJc01hcDtcblxuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIGEgcGFydGlhbCBkZWVwIGNvbXBhcmlzb24gYmV0d2VlbiBgb2JqZWN0YCBhbmQgYHNvdXJjZWAgdG9cbiAgICAgKiBkZXRlcm1pbmUgaWYgYG9iamVjdGAgY29udGFpbnMgZXF1aXZhbGVudCBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgZXF1aXZhbGVudCB0byBgXy5tYXRjaGVzYCB3aGVuIGBzb3VyY2VgIGlzXG4gICAgICogcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICpcbiAgICAgKiBQYXJ0aWFsIGNvbXBhcmlzb25zIHdpbGwgbWF0Y2ggZW1wdHkgYXJyYXkgYW5kIGVtcHR5IG9iamVjdCBgc291cmNlYFxuICAgICAqIHZhbHVlcyBhZ2FpbnN0IGFueSBhcnJheSBvciBvYmplY3QgdmFsdWUsIHJlc3BlY3RpdmVseS4gU2VlIGBfLmlzRXF1YWxgXG4gICAgICogZm9yIGEgbGlzdCBvZiBzdXBwb3J0ZWQgdmFsdWUgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSB2YWx1ZXMgdG8gbWF0Y2guXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBvYmplY3RgIGlzIGEgbWF0Y2gsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6IDIgfTtcbiAgICAgKlxuICAgICAqIF8uaXNNYXRjaChvYmplY3QsIHsgJ2InOiAyIH0pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNNYXRjaChvYmplY3QsIHsgJ2InOiAxIH0pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNNYXRjaChvYmplY3QsIHNvdXJjZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PT0gc291cmNlIHx8IGJhc2VJc01hdGNoKG9iamVjdCwgc291cmNlLCBnZXRNYXRjaERhdGEoc291cmNlKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pc01hdGNoYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjdXN0b21pemVyYCB3aGljaFxuICAgICAqIGlzIGludm9rZWQgdG8gY29tcGFyZSB2YWx1ZXMuIElmIGBjdXN0b21pemVyYCByZXR1cm5zIGB1bmRlZmluZWRgLCBjb21wYXJpc29uc1xuICAgICAqIGFyZSBoYW5kbGVkIGJ5IHRoZSBtZXRob2QgaW5zdGVhZC4gVGhlIGBjdXN0b21pemVyYCBpcyBpbnZva2VkIHdpdGggZml2ZVxuICAgICAqIGFyZ3VtZW50czogKG9ialZhbHVlLCBzcmNWYWx1ZSwgaW5kZXh8a2V5LCBvYmplY3QsIHNvdXJjZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSB2YWx1ZXMgdG8gbWF0Y2guXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBvYmplY3RgIGlzIGEgbWF0Y2gsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gaXNHcmVldGluZyh2YWx1ZSkge1xuICAgICAqICAgcmV0dXJuIC9eaCg/Oml8ZWxsbykkLy50ZXN0KHZhbHVlKTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBjdXN0b21pemVyKG9ialZhbHVlLCBzcmNWYWx1ZSkge1xuICAgICAqICAgaWYgKGlzR3JlZXRpbmcob2JqVmFsdWUpICYmIGlzR3JlZXRpbmcoc3JjVmFsdWUpKSB7XG4gICAgICogICAgIHJldHVybiB0cnVlO1xuICAgICAqICAgfVxuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdncmVldGluZyc6ICdoZWxsbycgfTtcbiAgICAgKiB2YXIgc291cmNlID0geyAnZ3JlZXRpbmcnOiAnaGknIH07XG4gICAgICpcbiAgICAgKiBfLmlzTWF0Y2hXaXRoKG9iamVjdCwgc291cmNlLCBjdXN0b21pemVyKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNNYXRjaFdpdGgob2JqZWN0LCBzb3VyY2UsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGN1c3RvbWl6ZXIgPSB0eXBlb2YgY3VzdG9taXplciA9PSAnZnVuY3Rpb24nID8gY3VzdG9taXplciA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiBiYXNlSXNNYXRjaChvYmplY3QsIHNvdXJjZSwgZ2V0TWF0Y2hEYXRhKHNvdXJjZSksIGN1c3RvbWl6ZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGBOYU5gLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uXG4gICAgICogW2BOdW1iZXIuaXNOYU5gXShodHRwczovL21kbi5pby9OdW1iZXIvaXNOYU4pIGFuZCBpcyBub3QgdGhlIHNhbWUgYXNcbiAgICAgKiBnbG9iYWwgW2Bpc05hTmBdKGh0dHBzOi8vbWRuLmlvL2lzTmFOKSB3aGljaCByZXR1cm5zIGB0cnVlYCBmb3JcbiAgICAgKiBgdW5kZWZpbmVkYCBhbmQgb3RoZXIgbm9uLW51bWJlciB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGBOYU5gLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNOYU4oTmFOKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTmFOKG5ldyBOdW1iZXIoTmFOKSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogaXNOYU4odW5kZWZpbmVkKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTmFOKHVuZGVmaW5lZCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc05hTih2YWx1ZSkge1xuICAgICAgLy8gQW4gYE5hTmAgcHJpbWl0aXZlIGlzIHRoZSBvbmx5IHZhbHVlIHRoYXQgaXMgbm90IGVxdWFsIHRvIGl0c2VsZi5cbiAgICAgIC8vIFBlcmZvcm0gdGhlIGB0b1N0cmluZ1RhZ2AgY2hlY2sgZmlyc3QgdG8gYXZvaWQgZXJyb3JzIHdpdGggc29tZVxuICAgICAgLy8gQWN0aXZlWCBvYmplY3RzIGluIElFLlxuICAgICAgcmV0dXJuIGlzTnVtYmVyKHZhbHVlKSAmJiB2YWx1ZSAhPSArdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBwcmlzdGluZSBuYXRpdmUgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgY2FuJ3QgcmVsaWFibHkgZGV0ZWN0IG5hdGl2ZSBmdW5jdGlvbnMgaW4gdGhlIHByZXNlbmNlXG4gICAgICogb2YgdGhlIGNvcmUtanMgcGFja2FnZSBiZWNhdXNlIGNvcmUtanMgY2lyY3VtdmVudHMgdGhpcyBraW5kIG9mIGRldGVjdGlvbi5cbiAgICAgKiBEZXNwaXRlIG11bHRpcGxlIHJlcXVlc3RzLCB0aGUgY29yZS1qcyBtYWludGFpbmVyIGhhcyBtYWRlIGl0IGNsZWFyOiBhbnlcbiAgICAgKiBhdHRlbXB0IHRvIGZpeCB0aGUgZGV0ZWN0aW9uIHdpbGwgYmUgb2JzdHJ1Y3RlZC4gQXMgYSByZXN1bHQsIHdlJ3JlIGxlZnRcbiAgICAgKiB3aXRoIGxpdHRsZSBjaG9pY2UgYnV0IHRvIHRocm93IGFuIGVycm9yLiBVbmZvcnR1bmF0ZWx5LCB0aGlzIGFsc28gYWZmZWN0c1xuICAgICAqIHBhY2thZ2VzLCBsaWtlIFtiYWJlbC1wb2x5ZmlsbF0oaHR0cHM6Ly93d3cubnBtanMuY29tL3BhY2thZ2UvYmFiZWwtcG9seWZpbGwpLFxuICAgICAqIHdoaWNoIHJlbHkgb24gY29yZS1qcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBuYXRpdmUgZnVuY3Rpb24sXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc05hdGl2ZShBcnJheS5wcm90b3R5cGUucHVzaCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc05hdGl2ZShfKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTmF0aXZlKHZhbHVlKSB7XG4gICAgICBpZiAoaXNNYXNrYWJsZSh2YWx1ZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKENPUkVfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZUlzTmF0aXZlKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBgbnVsbGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGBudWxsYCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzTnVsbChudWxsKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTnVsbCh2b2lkIDApO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNOdWxsKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT09IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYG51bGxgIG9yIGB1bmRlZmluZWRgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBudWxsaXNoLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNOaWwobnVsbCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc05pbCh2b2lkIDApO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOaWwoTmFOKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTmlsKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYE51bWJlcmAgcHJpbWl0aXZlIG9yIG9iamVjdC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUbyBleGNsdWRlIGBJbmZpbml0eWAsIGAtSW5maW5pdHlgLCBhbmQgYE5hTmAsIHdoaWNoIGFyZVxuICAgICAqIGNsYXNzaWZpZWQgYXMgbnVtYmVycywgdXNlIHRoZSBgXy5pc0Zpbml0ZWAgbWV0aG9kLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG51bWJlciwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzTnVtYmVyKDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOdW1iZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc051bWJlcihJbmZpbml0eSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc051bWJlcignMycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNOdW1iZXIodmFsdWUpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgfHxcbiAgICAgICAgKGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gbnVtYmVyVGFnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHBsYWluIG9iamVjdCwgdGhhdCBpcywgYW4gb2JqZWN0IGNyZWF0ZWQgYnkgdGhlXG4gICAgICogYE9iamVjdGAgY29uc3RydWN0b3Igb3Igb25lIHdpdGggYSBgW1tQcm90b3R5cGVdXWAgb2YgYG51bGxgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuOC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHBsYWluIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIF8uaXNQbGFpbk9iamVjdChuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc1BsYWluT2JqZWN0KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNQbGFpbk9iamVjdCh7ICd4JzogMCwgJ3knOiAwIH0pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNQbGFpbk9iamVjdChPYmplY3QuY3JlYXRlKG51bGwpKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNQbGFpbk9iamVjdCh2YWx1ZSkge1xuICAgICAgaWYgKCFpc09iamVjdExpa2UodmFsdWUpIHx8IGJhc2VHZXRUYWcodmFsdWUpICE9IG9iamVjdFRhZykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgcHJvdG8gPSBnZXRQcm90b3R5cGUodmFsdWUpO1xuICAgICAgaWYgKHByb3RvID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgdmFyIEN0b3IgPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKHByb3RvLCAnY29uc3RydWN0b3InKSAmJiBwcm90by5jb25zdHJ1Y3RvcjtcbiAgICAgIHJldHVybiB0eXBlb2YgQ3RvciA9PSAnZnVuY3Rpb24nICYmIEN0b3IgaW5zdGFuY2VvZiBDdG9yICYmXG4gICAgICAgIGZ1bmNUb1N0cmluZy5jYWxsKEN0b3IpID09IG9iamVjdEN0b3JTdHJpbmc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBSZWdFeHBgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSByZWdleHAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1JlZ0V4cCgvYWJjLyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1JlZ0V4cCgnL2FiYy8nKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc1JlZ0V4cCA9IG5vZGVJc1JlZ0V4cCA/IGJhc2VVbmFyeShub2RlSXNSZWdFeHApIDogYmFzZUlzUmVnRXhwO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBzYWZlIGludGVnZXIuIEFuIGludGVnZXIgaXMgc2FmZSBpZiBpdCdzIGFuIElFRUUtNzU0XG4gICAgICogZG91YmxlIHByZWNpc2lvbiBudW1iZXIgd2hpY2ggaXNuJ3QgdGhlIHJlc3VsdCBvZiBhIHJvdW5kZWQgdW5zYWZlIGludGVnZXIuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb25cbiAgICAgKiBbYE51bWJlci5pc1NhZmVJbnRlZ2VyYF0oaHR0cHM6Ly9tZG4uaW8vTnVtYmVyL2lzU2FmZUludGVnZXIpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHNhZmUgaW50ZWdlciwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzU2FmZUludGVnZXIoMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1NhZmVJbnRlZ2VyKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzU2FmZUludGVnZXIoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzU2FmZUludGVnZXIoJzMnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzU2FmZUludGVnZXIodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc0ludGVnZXIodmFsdWUpICYmIHZhbHVlID49IC1NQVhfU0FGRV9JTlRFR0VSICYmIHZhbHVlIDw9IE1BWF9TQUZFX0lOVEVHRVI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBTZXRgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjMuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzZXQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1NldChuZXcgU2V0KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzU2V0KG5ldyBXZWFrU2V0KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc1NldCA9IG5vZGVJc1NldCA/IGJhc2VVbmFyeShub2RlSXNTZXQpIDogYmFzZUlzU2V0O1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBTdHJpbmdgIHByaW1pdGl2ZSBvciBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc3RyaW5nLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNTdHJpbmcoJ2FiYycpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNTdHJpbmcoMSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1N0cmluZyh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJyB8fFxuICAgICAgICAoIWlzQXJyYXkodmFsdWUpICYmIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gc3RyaW5nVGFnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFN5bWJvbGAgcHJpbWl0aXZlIG9yIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzeW1ib2wsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1N5bWJvbChTeW1ib2wuaXRlcmF0b3IpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNTeW1ib2woJ2FiYycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNTeW1ib2wodmFsdWUpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ3N5bWJvbCcgfHxcbiAgICAgICAgKGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gc3ltYm9sVGFnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgdHlwZWQgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdHlwZWQgYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1R5cGVkQXJyYXkobmV3IFVpbnQ4QXJyYXkpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNUeXBlZEFycmF5KFtdKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc1R5cGVkQXJyYXkgPSBub2RlSXNUeXBlZEFycmF5ID8gYmFzZVVuYXJ5KG5vZGVJc1R5cGVkQXJyYXkpIDogYmFzZUlzVHlwZWRBcnJheTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGB1bmRlZmluZWRgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBgdW5kZWZpbmVkYCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzVW5kZWZpbmVkKHZvaWQgMCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1VuZGVmaW5lZChudWxsKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzVW5kZWZpbmVkKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFdlYWtNYXBgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjMuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB3ZWFrIG1hcCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzV2Vha01hcChuZXcgV2Vha01hcCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1dlYWtNYXAobmV3IE1hcCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1dlYWtNYXAodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGdldFRhZyh2YWx1ZSkgPT0gd2Vha01hcFRhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFdlYWtTZXRgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjMuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB3ZWFrIHNldCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzV2Vha1NldChuZXcgV2Vha1NldCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1dlYWtTZXQobmV3IFNldCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1dlYWtTZXQodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IHdlYWtTZXRUYWc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGVzcyB0aGFuIGBvdGhlcmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy45LjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBsZXNzIHRoYW4gYG90aGVyYCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBzZWUgXy5ndFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmx0KDEsIDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8ubHQoMywgMyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8ubHQoMywgMSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgbHQgPSBjcmVhdGVSZWxhdGlvbmFsT3BlcmF0aW9uKGJhc2VMdCk7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gYG90aGVyYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjkuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGxlc3MgdGhhbiBvciBlcXVhbCB0b1xuICAgICAqICBgb3RoZXJgLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQHNlZSBfLmd0ZVxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmx0ZSgxLCAzKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmx0ZSgzLCAzKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmx0ZSgzLCAxKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBsdGUgPSBjcmVhdGVSZWxhdGlvbmFsT3BlcmF0aW9uKGZ1bmN0aW9uKHZhbHVlLCBvdGhlcikge1xuICAgICAgcmV0dXJuIHZhbHVlIDw9IG90aGVyO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhbiBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b0FycmF5KHsgJ2EnOiAxLCAnYic6IDIgfSk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICpcbiAgICAgKiBfLnRvQXJyYXkoJ2FiYycpO1xuICAgICAqIC8vID0+IFsnYScsICdiJywgJ2MnXVxuICAgICAqXG4gICAgICogXy50b0FycmF5KDEpO1xuICAgICAqIC8vID0+IFtdXG4gICAgICpcbiAgICAgKiBfLnRvQXJyYXkobnVsbCk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0FycmF5KHZhbHVlKSB7XG4gICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIGlmIChpc0FycmF5TGlrZSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGlzU3RyaW5nKHZhbHVlKSA/IHN0cmluZ1RvQXJyYXkodmFsdWUpIDogY29weUFycmF5KHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGlmIChzeW1JdGVyYXRvciAmJiB2YWx1ZVtzeW1JdGVyYXRvcl0pIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhdG9yVG9BcnJheSh2YWx1ZVtzeW1JdGVyYXRvcl0oKSk7XG4gICAgICB9XG4gICAgICB2YXIgdGFnID0gZ2V0VGFnKHZhbHVlKSxcbiAgICAgICAgICBmdW5jID0gdGFnID09IG1hcFRhZyA/IG1hcFRvQXJyYXkgOiAodGFnID09IHNldFRhZyA/IHNldFRvQXJyYXkgOiB2YWx1ZXMpO1xuXG4gICAgICByZXR1cm4gZnVuYyh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhIGZpbml0ZSBudW1iZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xMi4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBudW1iZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9GaW5pdGUoMy4yKTtcbiAgICAgKiAvLyA9PiAzLjJcbiAgICAgKlxuICAgICAqIF8udG9GaW5pdGUoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gNWUtMzI0XG4gICAgICpcbiAgICAgKiBfLnRvRmluaXRlKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiAxLjc5NzY5MzEzNDg2MjMxNTdlKzMwOFxuICAgICAqXG4gICAgICogXy50b0Zpbml0ZSgnMy4yJyk7XG4gICAgICogLy8gPT4gMy4yXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9GaW5pdGUodmFsdWUpIHtcbiAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlID09PSAwID8gdmFsdWUgOiAwO1xuICAgICAgfVxuICAgICAgdmFsdWUgPSB0b051bWJlcih2YWx1ZSk7XG4gICAgICBpZiAodmFsdWUgPT09IElORklOSVRZIHx8IHZhbHVlID09PSAtSU5GSU5JVFkpIHtcbiAgICAgICAgdmFyIHNpZ24gPSAodmFsdWUgPCAwID8gLTEgOiAxKTtcbiAgICAgICAgcmV0dXJuIHNpZ24gKiBNQVhfSU5URUdFUjtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gdmFsdWUgPyB2YWx1ZSA6IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhbiBpbnRlZ2VyLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGxvb3NlbHkgYmFzZWQgb25cbiAgICAgKiBbYFRvSW50ZWdlcmBdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy10b2ludGVnZXIpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBpbnRlZ2VyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvSW50ZWdlcigzLjIpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIF8udG9JbnRlZ2VyKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IDBcbiAgICAgKlxuICAgICAqIF8udG9JbnRlZ2VyKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiAxLjc5NzY5MzEzNDg2MjMxNTdlKzMwOFxuICAgICAqXG4gICAgICogXy50b0ludGVnZXIoJzMuMicpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0ludGVnZXIodmFsdWUpIHtcbiAgICAgIHZhciByZXN1bHQgPSB0b0Zpbml0ZSh2YWx1ZSksXG4gICAgICAgICAgcmVtYWluZGVyID0gcmVzdWx0ICUgMTtcblxuICAgICAgcmV0dXJuIHJlc3VsdCA9PT0gcmVzdWx0ID8gKHJlbWFpbmRlciA/IHJlc3VsdCAtIHJlbWFpbmRlciA6IHJlc3VsdCkgOiAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYW4gaW50ZWdlciBzdWl0YWJsZSBmb3IgdXNlIGFzIHRoZSBsZW5ndGggb2YgYW5cbiAgICAgKiBhcnJheS1saWtlIG9iamVjdC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvblxuICAgICAqIFtgVG9MZW5ndGhgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy10b2xlbmd0aCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY29udmVydGVkIGludGVnZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9MZW5ndGgoMy4yKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBfLnRvTGVuZ3RoKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IDBcbiAgICAgKlxuICAgICAqIF8udG9MZW5ndGgoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IDQyOTQ5NjcyOTVcbiAgICAgKlxuICAgICAqIF8udG9MZW5ndGgoJzMuMicpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0xlbmd0aCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlID8gYmFzZUNsYW1wKHRvSW50ZWdlcih2YWx1ZSksIDAsIE1BWF9BUlJBWV9MRU5HVEgpIDogMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgbnVtYmVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm9jZXNzLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIG51bWJlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b051bWJlcigzLjIpO1xuICAgICAqIC8vID0+IDMuMlxuICAgICAqXG4gICAgICogXy50b051bWJlcihOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiA1ZS0zMjRcbiAgICAgKlxuICAgICAqIF8udG9OdW1iZXIoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IEluZmluaXR5XG4gICAgICpcbiAgICAgKiBfLnRvTnVtYmVyKCczLjInKTtcbiAgICAgKiAvLyA9PiAzLjJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b051bWJlcih2YWx1ZSkge1xuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJykge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICBpZiAoaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBOQU47XG4gICAgICB9XG4gICAgICBpZiAoaXNPYmplY3QodmFsdWUpKSB7XG4gICAgICAgIHZhciBvdGhlciA9IHR5cGVvZiB2YWx1ZS52YWx1ZU9mID09ICdmdW5jdGlvbicgPyB2YWx1ZS52YWx1ZU9mKCkgOiB2YWx1ZTtcbiAgICAgICAgdmFsdWUgPSBpc09iamVjdChvdGhlcikgPyAob3RoZXIgKyAnJykgOiBvdGhlcjtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlID09PSAwID8gdmFsdWUgOiArdmFsdWU7XG4gICAgICB9XG4gICAgICB2YWx1ZSA9IGJhc2VUcmltKHZhbHVlKTtcbiAgICAgIHZhciBpc0JpbmFyeSA9IHJlSXNCaW5hcnkudGVzdCh2YWx1ZSk7XG4gICAgICByZXR1cm4gKGlzQmluYXJ5IHx8IHJlSXNPY3RhbC50ZXN0KHZhbHVlKSlcbiAgICAgICAgPyBmcmVlUGFyc2VJbnQodmFsdWUuc2xpY2UoMiksIGlzQmluYXJ5ID8gMiA6IDgpXG4gICAgICAgIDogKHJlSXNCYWRIZXgudGVzdCh2YWx1ZSkgPyBOQU4gOiArdmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBwbGFpbiBvYmplY3QgZmxhdHRlbmluZyBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmdcbiAgICAgKiBrZXllZCBwcm9wZXJ0aWVzIG9mIGB2YWx1ZWAgdG8gb3duIHByb3BlcnRpZXMgb2YgdGhlIHBsYWluIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgcGxhaW4gb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLmFzc2lnbih7ICdhJzogMSB9LCBuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyIH1cbiAgICAgKlxuICAgICAqIF8uYXNzaWduKHsgJ2EnOiAxIH0sIF8udG9QbGFpbk9iamVjdChuZXcgRm9vKSk7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdiJzogMiwgJ2MnOiAzIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b1BsYWluT2JqZWN0KHZhbHVlKSB7XG4gICAgICByZXR1cm4gY29weU9iamVjdCh2YWx1ZSwga2V5c0luKHZhbHVlKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhIHNhZmUgaW50ZWdlci4gQSBzYWZlIGludGVnZXIgY2FuIGJlIGNvbXBhcmVkIGFuZFxuICAgICAqIHJlcHJlc2VudGVkIGNvcnJlY3RseS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgaW50ZWdlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b1NhZmVJbnRlZ2VyKDMuMik7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy50b1NhZmVJbnRlZ2VyKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IDBcbiAgICAgKlxuICAgICAqIF8udG9TYWZlSW50ZWdlcihJbmZpbml0eSk7XG4gICAgICogLy8gPT4gOTAwNzE5OTI1NDc0MDk5MVxuICAgICAqXG4gICAgICogXy50b1NhZmVJbnRlZ2VyKCczLjInKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9TYWZlSW50ZWdlcih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlXG4gICAgICAgID8gYmFzZUNsYW1wKHRvSW50ZWdlcih2YWx1ZSksIC1NQVhfU0FGRV9JTlRFR0VSLCBNQVhfU0FGRV9JTlRFR0VSKVxuICAgICAgICA6ICh2YWx1ZSA9PT0gMCA/IHZhbHVlIDogMCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZy4gQW4gZW1wdHkgc3RyaW5nIGlzIHJldHVybmVkIGZvciBgbnVsbGBcbiAgICAgKiBhbmQgYHVuZGVmaW5lZGAgdmFsdWVzLiBUaGUgc2lnbiBvZiBgLTBgIGlzIHByZXNlcnZlZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvU3RyaW5nKG51bGwpO1xuICAgICAqIC8vID0+ICcnXG4gICAgICpcbiAgICAgKiBfLnRvU3RyaW5nKC0wKTtcbiAgICAgKiAvLyA9PiAnLTAnXG4gICAgICpcbiAgICAgKiBfLnRvU3RyaW5nKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gJzEsMiwzJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvU3RyaW5nKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT0gbnVsbCA/ICcnIDogYmFzZVRvU3RyaW5nKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBBc3NpZ25zIG93biBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzIG9mIHNvdXJjZSBvYmplY3RzIHRvIHRoZVxuICAgICAqIGRlc3RpbmF0aW9uIG9iamVjdC4gU291cmNlIG9iamVjdHMgYXJlIGFwcGxpZWQgZnJvbSBsZWZ0IHRvIHJpZ2h0LlxuICAgICAqIFN1YnNlcXVlbnQgc291cmNlcyBvdmVyd3JpdGUgcHJvcGVydHkgYXNzaWdubWVudHMgb2YgcHJldmlvdXMgc291cmNlcy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgIGFuZCBpcyBsb29zZWx5IGJhc2VkIG9uXG4gICAgICogW2BPYmplY3QuYXNzaWduYF0oaHR0cHM6Ly9tZG4uaW8vT2JqZWN0L2Fzc2lnbikuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gW3NvdXJjZXNdIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5hc3NpZ25JblxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEJhcigpIHtcbiAgICAgKiAgIHRoaXMuYyA9IDM7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5iID0gMjtcbiAgICAgKiBCYXIucHJvdG90eXBlLmQgPSA0O1xuICAgICAqXG4gICAgICogXy5hc3NpZ24oeyAnYSc6IDAgfSwgbmV3IEZvbywgbmV3IEJhcik7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdjJzogMyB9XG4gICAgICovXG4gICAgdmFyIGFzc2lnbiA9IGNyZWF0ZUFzc2lnbmVyKGZ1bmN0aW9uKG9iamVjdCwgc291cmNlKSB7XG4gICAgICBpZiAoaXNQcm90b3R5cGUoc291cmNlKSB8fCBpc0FycmF5TGlrZShzb3VyY2UpKSB7XG4gICAgICAgIGNvcHlPYmplY3Qoc291cmNlLCBrZXlzKHNvdXJjZSksIG9iamVjdCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgYXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHNvdXJjZVtrZXldKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5hc3NpZ25gIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgb3duIGFuZFxuICAgICAqIGluaGVyaXRlZCBzb3VyY2UgcHJvcGVydGllcy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGFsaWFzIGV4dGVuZFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi5PYmplY3R9IFtzb3VyY2VzXSBUaGUgc291cmNlIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uYXNzaWduXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogfVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gQmFyKCkge1xuICAgICAqICAgdGhpcy5jID0gMztcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmIgPSAyO1xuICAgICAqIEJhci5wcm90b3R5cGUuZCA9IDQ7XG4gICAgICpcbiAgICAgKiBfLmFzc2lnbkluKHsgJ2EnOiAwIH0sIG5ldyBGb28sIG5ldyBCYXIpO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMywgJ2QnOiA0IH1cbiAgICAgKi9cbiAgICB2YXIgYXNzaWduSW4gPSBjcmVhdGVBc3NpZ25lcihmdW5jdGlvbihvYmplY3QsIHNvdXJjZSkge1xuICAgICAgY29weU9iamVjdChzb3VyY2UsIGtleXNJbihzb3VyY2UpLCBvYmplY3QpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5hc3NpZ25JbmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmBcbiAgICAgKiB3aGljaCBpcyBpbnZva2VkIHRvIHByb2R1Y2UgdGhlIGFzc2lnbmVkIHZhbHVlcy4gSWYgYGN1c3RvbWl6ZXJgIHJldHVybnNcbiAgICAgKiBgdW5kZWZpbmVkYCwgYXNzaWdubWVudCBpcyBoYW5kbGVkIGJ5IHRoZSBtZXRob2QgaW5zdGVhZC4gVGhlIGBjdXN0b21pemVyYFxuICAgICAqIGlzIGludm9rZWQgd2l0aCBmaXZlIGFyZ3VtZW50czogKG9ialZhbHVlLCBzcmNWYWx1ZSwga2V5LCBvYmplY3QsIHNvdXJjZSkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBhbGlhcyBleHRlbmRXaXRoXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gc291cmNlcyBUaGUgc291cmNlIG9iamVjdHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgYXNzaWduZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmFzc2lnbldpdGhcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gY3VzdG9taXplcihvYmpWYWx1ZSwgc3JjVmFsdWUpIHtcbiAgICAgKiAgIHJldHVybiBfLmlzVW5kZWZpbmVkKG9ialZhbHVlKSA/IHNyY1ZhbHVlIDogb2JqVmFsdWU7XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGRlZmF1bHRzID0gXy5wYXJ0aWFsUmlnaHQoXy5hc3NpZ25JbldpdGgsIGN1c3RvbWl6ZXIpO1xuICAgICAqXG4gICAgICogZGVmYXVsdHMoeyAnYSc6IDEgfSwgeyAnYic6IDIgfSwgeyAnYSc6IDMgfSk7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdiJzogMiB9XG4gICAgICovXG4gICAgdmFyIGFzc2lnbkluV2l0aCA9IGNyZWF0ZUFzc2lnbmVyKGZ1bmN0aW9uKG9iamVjdCwgc291cmNlLCBzcmNJbmRleCwgY3VzdG9taXplcikge1xuICAgICAgY29weU9iamVjdChzb3VyY2UsIGtleXNJbihzb3VyY2UpLCBvYmplY3QsIGN1c3RvbWl6ZXIpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5hc3NpZ25gIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGN1c3RvbWl6ZXJgXG4gICAgICogd2hpY2ggaXMgaW52b2tlZCB0byBwcm9kdWNlIHRoZSBhc3NpZ25lZCB2YWx1ZXMuIElmIGBjdXN0b21pemVyYCByZXR1cm5zXG4gICAgICogYHVuZGVmaW5lZGAsIGFzc2lnbm1lbnQgaXMgaGFuZGxlZCBieSB0aGUgbWV0aG9kIGluc3RlYWQuIFRoZSBgY3VzdG9taXplcmBcbiAgICAgKiBpcyBpbnZva2VkIHdpdGggZml2ZSBhcmd1bWVudHM6IChvYmpWYWx1ZSwgc3JjVmFsdWUsIGtleSwgb2JqZWN0LCBzb3VyY2UpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBzb3VyY2VzIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBhc3NpZ25lZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uYXNzaWduSW5XaXRoXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGN1c3RvbWl6ZXIob2JqVmFsdWUsIHNyY1ZhbHVlKSB7XG4gICAgICogICByZXR1cm4gXy5pc1VuZGVmaW5lZChvYmpWYWx1ZSkgPyBzcmNWYWx1ZSA6IG9ialZhbHVlO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBkZWZhdWx0cyA9IF8ucGFydGlhbFJpZ2h0KF8uYXNzaWduV2l0aCwgY3VzdG9taXplcik7XG4gICAgICpcbiAgICAgKiBkZWZhdWx0cyh7ICdhJzogMSB9LCB7ICdiJzogMiB9LCB7ICdhJzogMyB9KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyIH1cbiAgICAgKi9cbiAgICB2YXIgYXNzaWduV2l0aCA9IGNyZWF0ZUFzc2lnbmVyKGZ1bmN0aW9uKG9iamVjdCwgc291cmNlLCBzcmNJbmRleCwgY3VzdG9taXplcikge1xuICAgICAgY29weU9iamVjdChzb3VyY2UsIGtleXMoc291cmNlKSwgb2JqZWN0LCBjdXN0b21pemVyKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdmFsdWVzIGNvcnJlc3BvbmRpbmcgdG8gYHBhdGhzYCBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7Li4uKHN0cmluZ3xzdHJpbmdbXSl9IFtwYXRoc10gVGhlIHByb3BlcnR5IHBhdGhzIHRvIHBpY2suXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBwaWNrZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYyc6IDMgfSB9LCA0XSB9O1xuICAgICAqXG4gICAgICogXy5hdChvYmplY3QsIFsnYVswXS5iLmMnLCAnYVsxXSddKTtcbiAgICAgKiAvLyA9PiBbMywgNF1cbiAgICAgKi9cbiAgICB2YXIgYXQgPSBmbGF0UmVzdChiYXNlQXQpO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgdGhhdCBpbmhlcml0cyBmcm9tIHRoZSBgcHJvdG90eXBlYCBvYmplY3QuIElmIGFcbiAgICAgKiBgcHJvcGVydGllc2Agb2JqZWN0IGlzIGdpdmVuLCBpdHMgb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXNcbiAgICAgKiBhcmUgYXNzaWduZWQgdG8gdGhlIGNyZWF0ZWQgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMy4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwcm90b3R5cGUgVGhlIG9iamVjdCB0byBpbmhlcml0IGZyb20uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtwcm9wZXJ0aWVzXSBUaGUgcHJvcGVydGllcyB0byBhc3NpZ24gdG8gdGhlIG9iamVjdC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBTaGFwZSgpIHtcbiAgICAgKiAgIHRoaXMueCA9IDA7XG4gICAgICogICB0aGlzLnkgPSAwO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIENpcmNsZSgpIHtcbiAgICAgKiAgIFNoYXBlLmNhbGwodGhpcyk7XG4gICAgICogfVxuICAgICAqXG4gICAgICogQ2lyY2xlLnByb3RvdHlwZSA9IF8uY3JlYXRlKFNoYXBlLnByb3RvdHlwZSwge1xuICAgICAqICAgJ2NvbnN0cnVjdG9yJzogQ2lyY2xlXG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiB2YXIgY2lyY2xlID0gbmV3IENpcmNsZTtcbiAgICAgKiBjaXJjbGUgaW5zdGFuY2VvZiBDaXJjbGU7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogY2lyY2xlIGluc3RhbmNlb2YgU2hhcGU7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZShwcm90b3R5cGUsIHByb3BlcnRpZXMpIHtcbiAgICAgIHZhciByZXN1bHQgPSBiYXNlQ3JlYXRlKHByb3RvdHlwZSk7XG4gICAgICByZXR1cm4gcHJvcGVydGllcyA9PSBudWxsID8gcmVzdWx0IDogYmFzZUFzc2lnbihyZXN1bHQsIHByb3BlcnRpZXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFzc2lnbnMgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyBvZiBzb3VyY2VcbiAgICAgKiBvYmplY3RzIHRvIHRoZSBkZXN0aW5hdGlvbiBvYmplY3QgZm9yIGFsbCBkZXN0aW5hdGlvbiBwcm9wZXJ0aWVzIHRoYXRcbiAgICAgKiByZXNvbHZlIHRvIGB1bmRlZmluZWRgLiBTb3VyY2Ugb2JqZWN0cyBhcmUgYXBwbGllZCBmcm9tIGxlZnQgdG8gcmlnaHQuXG4gICAgICogT25jZSBhIHByb3BlcnR5IGlzIHNldCwgYWRkaXRpb25hbCB2YWx1ZXMgb2YgdGhlIHNhbWUgcHJvcGVydHkgYXJlIGlnbm9yZWQuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi5PYmplY3R9IFtzb3VyY2VzXSBUaGUgc291cmNlIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uZGVmYXVsdHNEZWVwXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGVmYXVsdHMoeyAnYSc6IDEgfSwgeyAnYic6IDIgfSwgeyAnYSc6IDMgfSk7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdiJzogMiB9XG4gICAgICovXG4gICAgdmFyIGRlZmF1bHRzID0gYmFzZVJlc3QoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2VzKSB7XG4gICAgICBvYmplY3QgPSBPYmplY3Qob2JqZWN0KTtcblxuICAgICAgdmFyIGluZGV4ID0gLTE7XG4gICAgICB2YXIgbGVuZ3RoID0gc291cmNlcy5sZW5ndGg7XG4gICAgICB2YXIgZ3VhcmQgPSBsZW5ndGggPiAyID8gc291cmNlc1syXSA6IHVuZGVmaW5lZDtcblxuICAgICAgaWYgKGd1YXJkICYmIGlzSXRlcmF0ZWVDYWxsKHNvdXJjZXNbMF0sIHNvdXJjZXNbMV0sIGd1YXJkKSkge1xuICAgICAgICBsZW5ndGggPSAxO1xuICAgICAgfVxuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgc291cmNlID0gc291cmNlc1tpbmRleF07XG4gICAgICAgIHZhciBwcm9wcyA9IGtleXNJbihzb3VyY2UpO1xuICAgICAgICB2YXIgcHJvcHNJbmRleCA9IC0xO1xuICAgICAgICB2YXIgcHJvcHNMZW5ndGggPSBwcm9wcy5sZW5ndGg7XG5cbiAgICAgICAgd2hpbGUgKCsrcHJvcHNJbmRleCA8IHByb3BzTGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIGtleSA9IHByb3BzW3Byb3BzSW5kZXhdO1xuICAgICAgICAgIHZhciB2YWx1ZSA9IG9iamVjdFtrZXldO1xuXG4gICAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgICAgKGVxKHZhbHVlLCBvYmplY3RQcm90b1trZXldKSAmJiAhaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkpKSB7XG4gICAgICAgICAgICBvYmplY3Rba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5kZWZhdWx0c2AgZXhjZXB0IHRoYXQgaXQgcmVjdXJzaXZlbHkgYXNzaWduc1xuICAgICAqIGRlZmF1bHQgcHJvcGVydGllcy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMTAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi5PYmplY3R9IFtzb3VyY2VzXSBUaGUgc291cmNlIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uZGVmYXVsdHNcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kZWZhdWx0c0RlZXAoeyAnYSc6IHsgJ2InOiAyIH0gfSwgeyAnYSc6IHsgJ2InOiAxLCAnYyc6IDMgfSB9KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogeyAnYic6IDIsICdjJzogMyB9IH1cbiAgICAgKi9cbiAgICB2YXIgZGVmYXVsdHNEZWVwID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJncykge1xuICAgICAgYXJncy5wdXNoKHVuZGVmaW5lZCwgY3VzdG9tRGVmYXVsdHNNZXJnZSk7XG4gICAgICByZXR1cm4gYXBwbHkobWVyZ2VXaXRoLCB1bmRlZmluZWQsIGFyZ3MpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5maW5kYCBleGNlcHQgdGhhdCBpdCByZXR1cm5zIHRoZSBrZXkgb2YgdGhlIGZpcnN0XG4gICAgICogZWxlbWVudCBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeSBmb3IgaW5zdGVhZCBvZiB0aGUgZWxlbWVudCBpdHNlbGYuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd8dW5kZWZpbmVkfSBSZXR1cm5zIHRoZSBrZXkgb2YgdGhlIG1hdGNoZWQgZWxlbWVudCxcbiAgICAgKiAgZWxzZSBgdW5kZWZpbmVkYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0ge1xuICAgICAqICAgJ2Jhcm5leSc6ICB7ICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgICdmcmVkJzogICAgeyAnYWdlJzogNDAsICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgJ3BlYmJsZXMnOiB7ICdhZ2UnOiAxLCAgJ2FjdGl2ZSc6IHRydWUgfVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBfLmZpbmRLZXkodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8uYWdlIDwgNDA7IH0pO1xuICAgICAqIC8vID0+ICdiYXJuZXknIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZEtleSh1c2VycywgeyAnYWdlJzogMSwgJ2FjdGl2ZSc6IHRydWUgfSk7XG4gICAgICogLy8gPT4gJ3BlYmJsZXMnXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kS2V5KHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gJ2ZyZWQnXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRLZXkodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiAnYmFybmV5J1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbmRLZXkob2JqZWN0LCBwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiBiYXNlRmluZEtleShvYmplY3QsIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyksIGJhc2VGb3JPd24pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZmluZEtleWAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZlxuICAgICAqIGEgY29sbGVjdGlvbiBpbiB0aGUgb3Bwb3NpdGUgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd8dW5kZWZpbmVkfSBSZXR1cm5zIHRoZSBrZXkgb2YgdGhlIG1hdGNoZWQgZWxlbWVudCxcbiAgICAgKiAgZWxzZSBgdW5kZWZpbmVkYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0ge1xuICAgICAqICAgJ2Jhcm5leSc6ICB7ICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgICdmcmVkJzogICAgeyAnYWdlJzogNDAsICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgJ3BlYmJsZXMnOiB7ICdhZ2UnOiAxLCAgJ2FjdGl2ZSc6IHRydWUgfVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBfLmZpbmRMYXN0S2V5KHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLmFnZSA8IDQwOyB9KTtcbiAgICAgKiAvLyA9PiByZXR1cm5zICdwZWJibGVzJyBhc3N1bWluZyBgXy5maW5kS2V5YCByZXR1cm5zICdiYXJuZXknXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZExhc3RLZXkodXNlcnMsIHsgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9KTtcbiAgICAgKiAvLyA9PiAnYmFybmV5J1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZExhc3RLZXkodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiAnZnJlZCdcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZExhc3RLZXkodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiAncGViYmxlcydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaW5kTGFzdEtleShvYmplY3QsIHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIGJhc2VGaW5kS2V5KG9iamVjdCwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSwgYmFzZUZvck93blJpZ2h0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJdGVyYXRlcyBvdmVyIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgb2YgYW5cbiAgICAgKiBvYmplY3QgYW5kIGludm9rZXMgYGl0ZXJhdGVlYCBmb3IgZWFjaCBwcm9wZXJ0eS4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBrZXksIG9iamVjdCkuIEl0ZXJhdGVlIGZ1bmN0aW9ucyBtYXkgZXhpdFxuICAgICAqIGl0ZXJhdGlvbiBlYXJseSBieSBleHBsaWNpdGx5IHJldHVybmluZyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMy4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uZm9ySW5SaWdodFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy5mb3JJbihuZXcgRm9vLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICogICBjb25zb2xlLmxvZyhrZXkpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgJ2EnLCAnYicsIHRoZW4gJ2MnIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZvckluKG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbFxuICAgICAgICA/IG9iamVjdFxuICAgICAgICA6IGJhc2VGb3Iob2JqZWN0LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMyksIGtleXNJbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mb3JJbmAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBwcm9wZXJ0aWVzIG9mXG4gICAgICogYG9iamVjdGAgaW4gdGhlIG9wcG9zaXRlIG9yZGVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uZm9ySW5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8uZm9ySW5SaWdodChuZXcgRm9vLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICogICBjb25zb2xlLmxvZyhrZXkpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgJ2MnLCAnYicsIHRoZW4gJ2EnIGFzc3VtaW5nIGBfLmZvckluYCBsb2dzICdhJywgJ2InLCB0aGVuICdjJy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmb3JJblJpZ2h0KG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbFxuICAgICAgICA/IG9iamVjdFxuICAgICAgICA6IGJhc2VGb3JSaWdodChvYmplY3QsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSwga2V5c0luKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJdGVyYXRlcyBvdmVyIG93biBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzIG9mIGFuIG9iamVjdCBhbmRcbiAgICAgKiBpbnZva2VzIGBpdGVyYXRlZWAgZm9yIGVhY2ggcHJvcGVydHkuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggdGhyZWVcbiAgICAgKiBhcmd1bWVudHM6ICh2YWx1ZSwga2V5LCBvYmplY3QpLiBJdGVyYXRlZSBmdW5jdGlvbnMgbWF5IGV4aXQgaXRlcmF0aW9uXG4gICAgICogZWFybHkgYnkgZXhwbGljaXRseSByZXR1cm5pbmcgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjMuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmZvck93blJpZ2h0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLmZvck93bihuZXcgRm9vLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICogICBjb25zb2xlLmxvZyhrZXkpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgJ2EnIHRoZW4gJ2InIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZvck93bihvYmplY3QsIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICYmIGJhc2VGb3JPd24ob2JqZWN0LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZm9yT3duYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIHByb3BlcnRpZXMgb2ZcbiAgICAgKiBgb2JqZWN0YCBpbiB0aGUgb3Bwb3NpdGUgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5mb3JPd25cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8uZm9yT3duUmlnaHQobmV3IEZvbywgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAqICAgY29uc29sZS5sb2coa2V5KTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBMb2dzICdiJyB0aGVuICdhJyBhc3N1bWluZyBgXy5mb3JPd25gIGxvZ3MgJ2EnIHRoZW4gJ2InLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZvck93blJpZ2h0KG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBvYmplY3QgJiYgYmFzZUZvck93blJpZ2h0KG9iamVjdCwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIGZ1bmN0aW9uIHByb3BlcnR5IG5hbWVzIGZyb20gb3duIGVudW1lcmFibGUgcHJvcGVydGllc1xuICAgICAqIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgZnVuY3Rpb24gbmFtZXMuXG4gICAgICogQHNlZSBfLmZ1bmN0aW9uc0luXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IF8uY29uc3RhbnQoJ2EnKTtcbiAgICAgKiAgIHRoaXMuYiA9IF8uY29uc3RhbnQoJ2InKTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSBfLmNvbnN0YW50KCdjJyk7XG4gICAgICpcbiAgICAgKiBfLmZ1bmN0aW9ucyhuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYiddXG4gICAgICovXG4gICAgZnVuY3Rpb24gZnVuY3Rpb25zKG9iamVjdCkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gW10gOiBiYXNlRnVuY3Rpb25zKG9iamVjdCwga2V5cyhvYmplY3QpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIGZ1bmN0aW9uIHByb3BlcnR5IG5hbWVzIGZyb20gb3duIGFuZCBpbmhlcml0ZWRcbiAgICAgKiBlbnVtZXJhYmxlIHByb3BlcnRpZXMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBmdW5jdGlvbiBuYW1lcy5cbiAgICAgKiBAc2VlIF8uZnVuY3Rpb25zXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IF8uY29uc3RhbnQoJ2EnKTtcbiAgICAgKiAgIHRoaXMuYiA9IF8uY29uc3RhbnQoJ2InKTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSBfLmNvbnN0YW50KCdjJyk7XG4gICAgICpcbiAgICAgKiBfLmZ1bmN0aW9uc0luKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFsnYScsICdiJywgJ2MnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZ1bmN0aW9uc0luKG9iamVjdCkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gW10gOiBiYXNlRnVuY3Rpb25zKG9iamVjdCwga2V5c0luKG9iamVjdCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHZhbHVlIGF0IGBwYXRoYCBvZiBgb2JqZWN0YC4gSWYgdGhlIHJlc29sdmVkIHZhbHVlIGlzXG4gICAgICogYHVuZGVmaW5lZGAsIHRoZSBgZGVmYXVsdFZhbHVlYCBpcyByZXR1cm5lZCBpbiBpdHMgcGxhY2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy43LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHBhcmFtIHsqfSBbZGVmYXVsdFZhbHVlXSBUaGUgdmFsdWUgcmV0dXJuZWQgZm9yIGB1bmRlZmluZWRgIHJlc29sdmVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogMyB9IH1dIH07XG4gICAgICpcbiAgICAgKiBfLmdldChvYmplY3QsICdhWzBdLmIuYycpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIF8uZ2V0KG9iamVjdCwgWydhJywgJzAnLCAnYicsICdjJ10pO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIF8uZ2V0KG9iamVjdCwgJ2EuYi5jJywgJ2RlZmF1bHQnKTtcbiAgICAgKiAvLyA9PiAnZGVmYXVsdCdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXQob2JqZWN0LCBwYXRoLCBkZWZhdWx0VmFsdWUpIHtcbiAgICAgIHZhciByZXN1bHQgPSBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IGJhc2VHZXQob2JqZWN0LCBwYXRoKTtcbiAgICAgIHJldHVybiByZXN1bHQgPT09IHVuZGVmaW5lZCA/IGRlZmF1bHRWYWx1ZSA6IHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHBhdGhgIGlzIGEgZGlyZWN0IHByb3BlcnR5IG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHBhdGhgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IHsgJ2InOiAyIH0gfTtcbiAgICAgKiB2YXIgb3RoZXIgPSBfLmNyZWF0ZSh7ICdhJzogXy5jcmVhdGUoeyAnYic6IDIgfSkgfSk7XG4gICAgICpcbiAgICAgKiBfLmhhcyhvYmplY3QsICdhJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5oYXMob2JqZWN0LCAnYS5iJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5oYXMob2JqZWN0LCBbJ2EnLCAnYiddKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmhhcyhvdGhlciwgJ2EnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhcyhvYmplY3QsIHBhdGgpIHtcbiAgICAgIHJldHVybiBvYmplY3QgIT0gbnVsbCAmJiBoYXNQYXRoKG9iamVjdCwgcGF0aCwgYmFzZUhhcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBwYXRoYCBpcyBhIGRpcmVjdCBvciBpbmhlcml0ZWQgcHJvcGVydHkgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgcGF0aGAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSBfLmNyZWF0ZSh7ICdhJzogXy5jcmVhdGUoeyAnYic6IDIgfSkgfSk7XG4gICAgICpcbiAgICAgKiBfLmhhc0luKG9iamVjdCwgJ2EnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmhhc0luKG9iamVjdCwgJ2EuYicpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaGFzSW4ob2JqZWN0LCBbJ2EnLCAnYiddKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmhhc0luKG9iamVjdCwgJ2InKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhc0luKG9iamVjdCwgcGF0aCkge1xuICAgICAgcmV0dXJuIG9iamVjdCAhPSBudWxsICYmIGhhc1BhdGgob2JqZWN0LCBwYXRoLCBiYXNlSGFzSW4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIHRoZSBpbnZlcnRlZCBrZXlzIGFuZCB2YWx1ZXMgb2YgYG9iamVjdGAuXG4gICAgICogSWYgYG9iamVjdGAgY29udGFpbnMgZHVwbGljYXRlIHZhbHVlcywgc3Vic2VxdWVudCB2YWx1ZXMgb3ZlcndyaXRlXG4gICAgICogcHJvcGVydHkgYXNzaWdubWVudHMgb2YgcHJldmlvdXMgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuNy4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnZlcnQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGludmVydGVkIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMSB9O1xuICAgICAqXG4gICAgICogXy5pbnZlcnQob2JqZWN0KTtcbiAgICAgKiAvLyA9PiB7ICcxJzogJ2MnLCAnMic6ICdiJyB9XG4gICAgICovXG4gICAgdmFyIGludmVydCA9IGNyZWF0ZUludmVydGVyKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAgaWYgKHZhbHVlICE9IG51bGwgJiZcbiAgICAgICAgICB0eXBlb2YgdmFsdWUudG9TdHJpbmcgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB2YWx1ZSA9IG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICAgICAgfVxuXG4gICAgICByZXN1bHRbdmFsdWVdID0ga2V5O1xuICAgIH0sIGNvbnN0YW50KGlkZW50aXR5KSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmludmVydGAgZXhjZXB0IHRoYXQgdGhlIGludmVydGVkIG9iamVjdCBpcyBnZW5lcmF0ZWRcbiAgICAgKiBmcm9tIHRoZSByZXN1bHRzIG9mIHJ1bm5pbmcgZWFjaCBlbGVtZW50IG9mIGBvYmplY3RgIHRocnUgYGl0ZXJhdGVlYC4gVGhlXG4gICAgICogY29ycmVzcG9uZGluZyBpbnZlcnRlZCB2YWx1ZSBvZiBlYWNoIGludmVydGVkIGtleSBpcyBhbiBhcnJheSBvZiBrZXlzXG4gICAgICogcmVzcG9uc2libGUgZm9yIGdlbmVyYXRpbmcgdGhlIGludmVydGVkIHZhbHVlLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZFxuICAgICAqIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMS4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnZlcnQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBpbnZlcnRlZCBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDEgfTtcbiAgICAgKlxuICAgICAqIF8uaW52ZXJ0Qnkob2JqZWN0KTtcbiAgICAgKiAvLyA9PiB7ICcxJzogWydhJywgJ2MnXSwgJzInOiBbJ2InXSB9XG4gICAgICpcbiAgICAgKiBfLmludmVydEJ5KG9iamVjdCwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgKiAgIHJldHVybiAnZ3JvdXAnICsgdmFsdWU7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4geyAnZ3JvdXAxJzogWydhJywgJ2MnXSwgJ2dyb3VwMic6IFsnYiddIH1cbiAgICAgKi9cbiAgICB2YXIgaW52ZXJ0QnkgPSBjcmVhdGVJbnZlcnRlcihmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICAgIGlmICh2YWx1ZSAhPSBudWxsICYmXG4gICAgICAgICAgdHlwZW9mIHZhbHVlLnRvU3RyaW5nICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdmFsdWUgPSBuYXRpdmVPYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwocmVzdWx0LCB2YWx1ZSkpIHtcbiAgICAgICAgcmVzdWx0W3ZhbHVlXS5wdXNoKGtleSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHRbdmFsdWVdID0gW2tleV07XG4gICAgICB9XG4gICAgfSwgZ2V0SXRlcmF0ZWUpO1xuXG4gICAgLyoqXG4gICAgICogSW52b2tlcyB0aGUgbWV0aG9kIGF0IGBwYXRoYCBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIG1ldGhvZCB0byBpbnZva2UuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbYXJnc10gVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgdGhlIG1ldGhvZCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXN1bHQgb2YgdGhlIGludm9rZWQgbWV0aG9kLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYyc6IFsxLCAyLCAzLCA0XSB9IH1dIH07XG4gICAgICpcbiAgICAgKiBfLmludm9rZShvYmplY3QsICdhWzBdLmIuYy5zbGljZScsIDEsIDMpO1xuICAgICAqIC8vID0+IFsyLCAzXVxuICAgICAqL1xuICAgIHZhciBpbnZva2UgPSBiYXNlUmVzdChiYXNlSW52b2tlKTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIE5vbi1vYmplY3QgdmFsdWVzIGFyZSBjb2VyY2VkIHRvIG9iamVjdHMuIFNlZSB0aGVcbiAgICAgKiBbRVMgc3BlY10oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LmtleXMpXG4gICAgICogZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8ua2V5cyhuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYiddIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICpcbiAgICAgKiBfLmtleXMoJ2hpJyk7XG4gICAgICogLy8gPT4gWycwJywgJzEnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGtleXMob2JqZWN0KSB7XG4gICAgICByZXR1cm4gaXNBcnJheUxpa2Uob2JqZWN0KSA/IGFycmF5TGlrZUtleXMob2JqZWN0KSA6IGJhc2VLZXlzKG9iamVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBOb24tb2JqZWN0IHZhbHVlcyBhcmUgY29lcmNlZCB0byBvYmplY3RzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy5rZXlzSW4obmV3IEZvbyk7XG4gICAgICogLy8gPT4gWydhJywgJ2InLCAnYyddIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICovXG4gICAgZnVuY3Rpb24ga2V5c0luKG9iamVjdCkge1xuICAgICAgcmV0dXJuIGlzQXJyYXlMaWtlKG9iamVjdCkgPyBhcnJheUxpa2VLZXlzKG9iamVjdCwgdHJ1ZSkgOiBiYXNlS2V5c0luKG9iamVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIG9wcG9zaXRlIG9mIGBfLm1hcFZhbHVlc2A7IHRoaXMgbWV0aG9kIGNyZWF0ZXMgYW4gb2JqZWN0IHdpdGggdGhlXG4gICAgICogc2FtZSB2YWx1ZXMgYXMgYG9iamVjdGAgYW5kIGtleXMgZ2VuZXJhdGVkIGJ5IHJ1bm5pbmcgZWFjaCBvd24gZW51bWVyYWJsZVxuICAgICAqIHN0cmluZyBrZXllZCBwcm9wZXJ0eSBvZiBgb2JqZWN0YCB0aHJ1IGBpdGVyYXRlZWAuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwga2V5LCBvYmplY3QpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuOC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG1hcHBlZCBvYmplY3QuXG4gICAgICogQHNlZSBfLm1hcFZhbHVlc1xuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLm1hcEtleXMoeyAnYSc6IDEsICdiJzogMiB9LCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICogICByZXR1cm4ga2V5ICsgdmFsdWU7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4geyAnYTEnOiAxLCAnYjInOiAyIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXBLZXlzKG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICAgIGl0ZXJhdGVlID0gZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpO1xuXG4gICAgICBiYXNlRm9yT3duKG9iamVjdCwgZnVuY3Rpb24odmFsdWUsIGtleSwgb2JqZWN0KSB7XG4gICAgICAgIGJhc2VBc3NpZ25WYWx1ZShyZXN1bHQsIGl0ZXJhdGVlKHZhbHVlLCBrZXksIG9iamVjdCksIHZhbHVlKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCB3aXRoIHRoZSBzYW1lIGtleXMgYXMgYG9iamVjdGAgYW5kIHZhbHVlcyBnZW5lcmF0ZWRcbiAgICAgKiBieSBydW5uaW5nIGVhY2ggb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnR5IG9mIGBvYmplY3RgIHRocnVcbiAgICAgKiBgaXRlcmF0ZWVgLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czpcbiAgICAgKiAodmFsdWUsIGtleSwgb2JqZWN0KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjQuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBtYXBwZWQgb2JqZWN0LlxuICAgICAqIEBzZWUgXy5tYXBLZXlzXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IHtcbiAgICAgKiAgICdmcmVkJzogICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FnZSc6IDQwIH0sXG4gICAgICogICAncGViYmxlcyc6IHsgJ3VzZXInOiAncGViYmxlcycsICdhZ2UnOiAxIH1cbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogXy5tYXBWYWx1ZXModXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8uYWdlOyB9KTtcbiAgICAgKiAvLyA9PiB7ICdmcmVkJzogNDAsICdwZWJibGVzJzogMSB9IChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLm1hcFZhbHVlcyh1c2VycywgJ2FnZScpO1xuICAgICAqIC8vID0+IHsgJ2ZyZWQnOiA0MCwgJ3BlYmJsZXMnOiAxIH0gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXBWYWx1ZXMob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgICAgaXRlcmF0ZWUgPSBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMyk7XG5cbiAgICAgIGJhc2VGb3JPd24ob2JqZWN0LCBmdW5jdGlvbih2YWx1ZSwga2V5LCBvYmplY3QpIHtcbiAgICAgICAgYmFzZUFzc2lnblZhbHVlKHJlc3VsdCwga2V5LCBpdGVyYXRlZSh2YWx1ZSwga2V5LCBvYmplY3QpKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmFzc2lnbmAgZXhjZXB0IHRoYXQgaXQgcmVjdXJzaXZlbHkgbWVyZ2VzIG93biBhbmRcbiAgICAgKiBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyBvZiBzb3VyY2Ugb2JqZWN0cyBpbnRvIHRoZVxuICAgICAqIGRlc3RpbmF0aW9uIG9iamVjdC4gU291cmNlIHByb3BlcnRpZXMgdGhhdCByZXNvbHZlIHRvIGB1bmRlZmluZWRgIGFyZVxuICAgICAqIHNraXBwZWQgaWYgYSBkZXN0aW5hdGlvbiB2YWx1ZSBleGlzdHMuIEFycmF5IGFuZCBwbGFpbiBvYmplY3QgcHJvcGVydGllc1xuICAgICAqIGFyZSBtZXJnZWQgcmVjdXJzaXZlbHkuIE90aGVyIG9iamVjdHMgYW5kIHZhbHVlIHR5cGVzIGFyZSBvdmVycmlkZGVuIGJ5XG4gICAgICogYXNzaWdubWVudC4gU291cmNlIG9iamVjdHMgYXJlIGFwcGxpZWQgZnJvbSBsZWZ0IHRvIHJpZ2h0LiBTdWJzZXF1ZW50XG4gICAgICogc291cmNlcyBvdmVyd3JpdGUgcHJvcGVydHkgYXNzaWdubWVudHMgb2YgcHJldmlvdXMgc291cmNlcy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuNS4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gW3NvdXJjZXNdIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0ge1xuICAgICAqICAgJ2EnOiBbeyAnYic6IDIgfSwgeyAnZCc6IDQgfV1cbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogdmFyIG90aGVyID0ge1xuICAgICAqICAgJ2EnOiBbeyAnYyc6IDMgfSwgeyAnZSc6IDUgfV1cbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogXy5tZXJnZShvYmplY3QsIG90aGVyKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogW3sgJ2InOiAyLCAnYyc6IDMgfSwgeyAnZCc6IDQsICdlJzogNSB9XSB9XG4gICAgICovXG4gICAgdmFyIG1lcmdlID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4KSB7XG4gICAgICBiYXNlTWVyZ2Uob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4KTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ubWVyZ2VgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGN1c3RvbWl6ZXJgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCB0byBwcm9kdWNlIHRoZSBtZXJnZWQgdmFsdWVzIG9mIHRoZSBkZXN0aW5hdGlvbiBhbmQgc291cmNlXG4gICAgICogcHJvcGVydGllcy4gSWYgYGN1c3RvbWl6ZXJgIHJldHVybnMgYHVuZGVmaW5lZGAsIG1lcmdpbmcgaXMgaGFuZGxlZCBieSB0aGVcbiAgICAgKiBtZXRob2QgaW5zdGVhZC4gVGhlIGBjdXN0b21pemVyYCBpcyBpbnZva2VkIHdpdGggc2l4IGFyZ3VtZW50czpcbiAgICAgKiAob2JqVmFsdWUsIHNyY1ZhbHVlLCBrZXksIG9iamVjdCwgc291cmNlLCBzdGFjaykuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi5PYmplY3R9IHNvdXJjZXMgVGhlIHNvdXJjZSBvYmplY3RzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBhc3NpZ25lZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gY3VzdG9taXplcihvYmpWYWx1ZSwgc3JjVmFsdWUpIHtcbiAgICAgKiAgIGlmIChfLmlzQXJyYXkob2JqVmFsdWUpKSB7XG4gICAgICogICAgIHJldHVybiBvYmpWYWx1ZS5jb25jYXQoc3JjVmFsdWUpO1xuICAgICAqICAgfVxuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogWzFdLCAnYic6IFsyXSB9O1xuICAgICAqIHZhciBvdGhlciA9IHsgJ2EnOiBbM10sICdiJzogWzRdIH07XG4gICAgICpcbiAgICAgKiBfLm1lcmdlV2l0aChvYmplY3QsIG90aGVyLCBjdXN0b21pemVyKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogWzEsIDNdLCAnYic6IFsyLCA0XSB9XG4gICAgICovXG4gICAgdmFyIG1lcmdlV2l0aCA9IGNyZWF0ZUFzc2lnbmVyKGZ1bmN0aW9uKG9iamVjdCwgc291cmNlLCBzcmNJbmRleCwgY3VzdG9taXplcikge1xuICAgICAgYmFzZU1lcmdlKG9iamVjdCwgc291cmNlLCBzcmNJbmRleCwgY3VzdG9taXplcik7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8ucGlja2A7IHRoaXMgbWV0aG9kIGNyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIHRoZVxuICAgICAqIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgcHJvcGVydHkgcGF0aHMgb2YgYG9iamVjdGAgdGhhdCBhcmUgbm90IG9taXR0ZWQuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgY29uc2lkZXJhYmx5IHNsb3dlciB0aGFuIGBfLnBpY2tgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi4oc3RyaW5nfHN0cmluZ1tdKX0gW3BhdGhzXSBUaGUgcHJvcGVydHkgcGF0aHMgdG8gb21pdC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogJzInLCAnYyc6IDMgfTtcbiAgICAgKlxuICAgICAqIF8ub21pdChvYmplY3QsIFsnYScsICdjJ10pO1xuICAgICAqIC8vID0+IHsgJ2InOiAnMicgfVxuICAgICAqL1xuICAgIHZhciBvbWl0ID0gZmxhdFJlc3QoZnVuY3Rpb24ob2JqZWN0LCBwYXRocykge1xuICAgICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgICAgaWYgKG9iamVjdCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICB2YXIgaXNEZWVwID0gZmFsc2U7XG4gICAgICBwYXRocyA9IGFycmF5TWFwKHBhdGhzLCBmdW5jdGlvbihwYXRoKSB7XG4gICAgICAgIHBhdGggPSBjYXN0UGF0aChwYXRoLCBvYmplY3QpO1xuICAgICAgICBpc0RlZXAgfHwgKGlzRGVlcCA9IHBhdGgubGVuZ3RoID4gMSk7XG4gICAgICAgIHJldHVybiBwYXRoO1xuICAgICAgfSk7XG4gICAgICBjb3B5T2JqZWN0KG9iamVjdCwgZ2V0QWxsS2V5c0luKG9iamVjdCksIHJlc3VsdCk7XG4gICAgICBpZiAoaXNEZWVwKSB7XG4gICAgICAgIHJlc3VsdCA9IGJhc2VDbG9uZShyZXN1bHQsIENMT05FX0RFRVBfRkxBRyB8IENMT05FX0ZMQVRfRkxBRyB8IENMT05FX1NZTUJPTFNfRkxBRywgY3VzdG9tT21pdENsb25lKTtcbiAgICAgIH1cbiAgICAgIHZhciBsZW5ndGggPSBwYXRocy5sZW5ndGg7XG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgYmFzZVVuc2V0KHJlc3VsdCwgcGF0aHNbbGVuZ3RoXSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG9wcG9zaXRlIG9mIGBfLnBpY2tCeWA7IHRoaXMgbWV0aG9kIGNyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mXG4gICAgICogdGhlIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgb2YgYG9iamVjdGAgdGhhdFxuICAgICAqIGBwcmVkaWNhdGVgIGRvZXNuJ3QgcmV0dXJuIHRydXRoeSBmb3IuIFRoZSBwcmVkaWNhdGUgaXMgaW52b2tlZCB3aXRoIHR3b1xuICAgICAqIGFyZ3VtZW50czogKHZhbHVlLCBrZXkpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgcHJvcGVydHkuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6ICcyJywgJ2MnOiAzIH07XG4gICAgICpcbiAgICAgKiBfLm9taXRCeShvYmplY3QsIF8uaXNOdW1iZXIpO1xuICAgICAqIC8vID0+IHsgJ2InOiAnMicgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG9taXRCeShvYmplY3QsIHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIHBpY2tCeShvYmplY3QsIG5lZ2F0ZShnZXRJdGVyYXRlZShwcmVkaWNhdGUpKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2YgdGhlIHBpY2tlZCBgb2JqZWN0YCBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi4oc3RyaW5nfHN0cmluZ1tdKX0gW3BhdGhzXSBUaGUgcHJvcGVydHkgcGF0aHMgdG8gcGljay5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogJzInLCAnYyc6IDMgfTtcbiAgICAgKlxuICAgICAqIF8ucGljayhvYmplY3QsIFsnYScsICdjJ10pO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYyc6IDMgfVxuICAgICAqL1xuICAgIHZhciBwaWNrID0gZmxhdFJlc3QoZnVuY3Rpb24ob2JqZWN0LCBwYXRocykge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8ge30gOiBiYXNlUGljayhvYmplY3QsIHBhdGhzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIHRoZSBgb2JqZWN0YCBwcm9wZXJ0aWVzIGBwcmVkaWNhdGVgIHJldHVybnNcbiAgICAgKiB0cnV0aHkgZm9yLiBUaGUgcHJlZGljYXRlIGlzIGludm9rZWQgd2l0aCB0d28gYXJndW1lbnRzOiAodmFsdWUsIGtleSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBwcm9wZXJ0eS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogJzInLCAnYyc6IDMgfTtcbiAgICAgKlxuICAgICAqIF8ucGlja0J5KG9iamVjdCwgXy5pc051bWJlcik7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdjJzogMyB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gcGlja0J5KG9iamVjdCwgcHJlZGljYXRlKSB7XG4gICAgICBpZiAob2JqZWN0ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgfVxuICAgICAgdmFyIHByb3BzID0gYXJyYXlNYXAoZ2V0QWxsS2V5c0luKG9iamVjdCksIGZ1bmN0aW9uKHByb3ApIHtcbiAgICAgICAgcmV0dXJuIFtwcm9wXTtcbiAgICAgIH0pO1xuICAgICAgcHJlZGljYXRlID0gZ2V0SXRlcmF0ZWUocHJlZGljYXRlKTtcbiAgICAgIHJldHVybiBiYXNlUGlja0J5KG9iamVjdCwgcHJvcHMsIGZ1bmN0aW9uKHZhbHVlLCBwYXRoKSB7XG4gICAgICAgIHJldHVybiBwcmVkaWNhdGUodmFsdWUsIHBhdGhbMF0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5nZXRgIGV4Y2VwdCB0aGF0IGlmIHRoZSByZXNvbHZlZCB2YWx1ZSBpcyBhXG4gICAgICogZnVuY3Rpb24gaXQncyBpbnZva2VkIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIGl0cyBwYXJlbnQgb2JqZWN0IGFuZFxuICAgICAqIGl0cyByZXN1bHQgaXMgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byByZXNvbHZlLlxuICAgICAqIEBwYXJhbSB7Kn0gW2RlZmF1bHRWYWx1ZV0gVGhlIHZhbHVlIHJldHVybmVkIGZvciBgdW5kZWZpbmVkYCByZXNvbHZlZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc29sdmVkIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYzEnOiAzLCAnYzInOiBfLmNvbnN0YW50KDQpIH0gfV0gfTtcbiAgICAgKlxuICAgICAqIF8ucmVzdWx0KG9iamVjdCwgJ2FbMF0uYi5jMScpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIF8ucmVzdWx0KG9iamVjdCwgJ2FbMF0uYi5jMicpO1xuICAgICAqIC8vID0+IDRcbiAgICAgKlxuICAgICAqIF8ucmVzdWx0KG9iamVjdCwgJ2FbMF0uYi5jMycsICdkZWZhdWx0Jyk7XG4gICAgICogLy8gPT4gJ2RlZmF1bHQnXG4gICAgICpcbiAgICAgKiBfLnJlc3VsdChvYmplY3QsICdhWzBdLmIuYzMnLCBfLmNvbnN0YW50KCdkZWZhdWx0JykpO1xuICAgICAqIC8vID0+ICdkZWZhdWx0J1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlc3VsdChvYmplY3QsIHBhdGgsIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG5cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHBhdGgubGVuZ3RoO1xuXG4gICAgICAvLyBFbnN1cmUgdGhlIGxvb3AgaXMgZW50ZXJlZCB3aGVuIHBhdGggaXMgZW1wdHkuXG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICBsZW5ndGggPSAxO1xuICAgICAgICBvYmplY3QgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG9iamVjdFt0b0tleShwYXRoW2luZGV4XSldO1xuICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGluZGV4ID0gbGVuZ3RoO1xuICAgICAgICAgIHZhbHVlID0gZGVmYXVsdFZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIG9iamVjdCA9IGlzRnVuY3Rpb24odmFsdWUpID8gdmFsdWUuY2FsbChvYmplY3QpIDogdmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHZhbHVlIGF0IGBwYXRoYCBvZiBgb2JqZWN0YC4gSWYgYSBwb3J0aW9uIG9mIGBwYXRoYCBkb2Vzbid0IGV4aXN0LFxuICAgICAqIGl0J3MgY3JlYXRlZC4gQXJyYXlzIGFyZSBjcmVhdGVkIGZvciBtaXNzaW5nIGluZGV4IHByb3BlcnRpZXMgd2hpbGUgb2JqZWN0c1xuICAgICAqIGFyZSBjcmVhdGVkIGZvciBhbGwgb3RoZXIgbWlzc2luZyBwcm9wZXJ0aWVzLiBVc2UgYF8uc2V0V2l0aGAgdG8gY3VzdG9taXplXG4gICAgICogYHBhdGhgIGNyZWF0aW9uLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy43LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYyc6IDMgfSB9XSB9O1xuICAgICAqXG4gICAgICogXy5zZXQob2JqZWN0LCAnYVswXS5iLmMnLCA0KTtcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3QuYVswXS5iLmMpO1xuICAgICAqIC8vID0+IDRcbiAgICAgKlxuICAgICAqIF8uc2V0KG9iamVjdCwgWyd4JywgJzAnLCAneScsICd6J10sIDUpO1xuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdC54WzBdLnkueik7XG4gICAgICogLy8gPT4gNVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNldChvYmplY3QsIHBhdGgsIHZhbHVlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBvYmplY3QgOiBiYXNlU2V0KG9iamVjdCwgcGF0aCwgdmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uc2V0YCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjdXN0b21pemVyYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgdG8gcHJvZHVjZSB0aGUgb2JqZWN0cyBvZiBgcGF0aGAuICBJZiBgY3VzdG9taXplcmAgcmV0dXJucyBgdW5kZWZpbmVkYFxuICAgICAqIHBhdGggY3JlYXRpb24gaXMgaGFuZGxlZCBieSB0aGUgbWV0aG9kIGluc3RlYWQuIFRoZSBgY3VzdG9taXplcmAgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdGhyZWUgYXJndW1lbnRzOiAobnNWYWx1ZSwga2V5LCBuc09iamVjdCkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBzZXQuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGFzc2lnbmVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0ge307XG4gICAgICpcbiAgICAgKiBfLnNldFdpdGgob2JqZWN0LCAnWzBdWzFdJywgJ2EnLCBPYmplY3QpO1xuICAgICAqIC8vID0+IHsgJzAnOiB7ICcxJzogJ2EnIH0gfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNldFdpdGgob2JqZWN0LCBwYXRoLCB2YWx1ZSwgY3VzdG9taXplcikge1xuICAgICAgY3VzdG9taXplciA9IHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicgPyBjdXN0b21pemVyIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gb2JqZWN0IDogYmFzZVNldChvYmplY3QsIHBhdGgsIHZhbHVlLCBjdXN0b21pemVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIG93biBlbnVtZXJhYmxlIHN0cmluZyBrZXllZC12YWx1ZSBwYWlycyBmb3IgYG9iamVjdGBcbiAgICAgKiB3aGljaCBjYW4gYmUgY29uc3VtZWQgYnkgYF8uZnJvbVBhaXJzYC4gSWYgYG9iamVjdGAgaXMgYSBtYXAgb3Igc2V0LCBpdHNcbiAgICAgKiBlbnRyaWVzIGFyZSByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBhbGlhcyBlbnRyaWVzXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGtleS12YWx1ZSBwYWlycy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8udG9QYWlycyhuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiBbWydhJywgMV0sIFsnYicsIDJdXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqL1xuICAgIHZhciB0b1BhaXJzID0gY3JlYXRlVG9QYWlycyhrZXlzKTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2Ygb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQtdmFsdWUgcGFpcnNcbiAgICAgKiBmb3IgYG9iamVjdGAgd2hpY2ggY2FuIGJlIGNvbnN1bWVkIGJ5IGBfLmZyb21QYWlyc2AuIElmIGBvYmplY3RgIGlzIGEgbWFwXG4gICAgICogb3Igc2V0LCBpdHMgZW50cmllcyBhcmUgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAYWxpYXMgZW50cmllc0luXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGtleS12YWx1ZSBwYWlycy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8udG9QYWlyc0luKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFtbJ2EnLCAxXSwgWydiJywgMl0sIFsnYycsIDNdXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqL1xuICAgIHZhciB0b1BhaXJzSW4gPSBjcmVhdGVUb1BhaXJzKGtleXNJbik7XG5cbiAgICAvKipcbiAgICAgKiBBbiBhbHRlcm5hdGl2ZSB0byBgXy5yZWR1Y2VgOyB0aGlzIG1ldGhvZCB0cmFuc2Zvcm1zIGBvYmplY3RgIHRvIGEgbmV3XG4gICAgICogYGFjY3VtdWxhdG9yYCBvYmplY3Qgd2hpY2ggaXMgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGVhY2ggb2YgaXRzIG93blxuICAgICAqIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgdGhydSBgaXRlcmF0ZWVgLCB3aXRoIGVhY2ggaW52b2NhdGlvblxuICAgICAqIHBvdGVudGlhbGx5IG11dGF0aW5nIHRoZSBgYWNjdW11bGF0b3JgIG9iamVjdC4gSWYgYGFjY3VtdWxhdG9yYCBpcyBub3RcbiAgICAgKiBwcm92aWRlZCwgYSBuZXcgb2JqZWN0IHdpdGggdGhlIHNhbWUgYFtbUHJvdG90eXBlXV1gIHdpbGwgYmUgdXNlZC4gVGhlXG4gICAgICogaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIGZvdXIgYXJndW1lbnRzOiAoYWNjdW11bGF0b3IsIHZhbHVlLCBrZXksIG9iamVjdCkuXG4gICAgICogSXRlcmF0ZWUgZnVuY3Rpb25zIG1heSBleGl0IGl0ZXJhdGlvbiBlYXJseSBieSBleHBsaWNpdGx5IHJldHVybmluZyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMy4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHsqfSBbYWNjdW11bGF0b3JdIFRoZSBjdXN0b20gYWNjdW11bGF0b3IgdmFsdWUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGFjY3VtdWxhdGVkIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRyYW5zZm9ybShbMiwgMywgNF0sIGZ1bmN0aW9uKHJlc3VsdCwgbikge1xuICAgICAqICAgcmVzdWx0LnB1c2gobiAqPSBuKTtcbiAgICAgKiAgIHJldHVybiBuICUgMiA9PSAwO1xuICAgICAqIH0sIFtdKTtcbiAgICAgKiAvLyA9PiBbNCwgOV1cbiAgICAgKlxuICAgICAqIF8udHJhbnNmb3JtKHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMSB9LCBmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIChyZXN1bHRbdmFsdWVdIHx8IChyZXN1bHRbdmFsdWVdID0gW10pKS5wdXNoKGtleSk7XG4gICAgICogfSwge30pO1xuICAgICAqIC8vID0+IHsgJzEnOiBbJ2EnLCAnYyddLCAnMic6IFsnYiddIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0cmFuc2Zvcm0ob2JqZWN0LCBpdGVyYXRlZSwgYWNjdW11bGF0b3IpIHtcbiAgICAgIHZhciBpc0FyciA9IGlzQXJyYXkob2JqZWN0KSxcbiAgICAgICAgICBpc0Fyckxpa2UgPSBpc0FyciB8fCBpc0J1ZmZlcihvYmplY3QpIHx8IGlzVHlwZWRBcnJheShvYmplY3QpO1xuXG4gICAgICBpdGVyYXRlZSA9IGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCA0KTtcbiAgICAgIGlmIChhY2N1bXVsYXRvciA9PSBudWxsKSB7XG4gICAgICAgIHZhciBDdG9yID0gb2JqZWN0ICYmIG9iamVjdC5jb25zdHJ1Y3RvcjtcbiAgICAgICAgaWYgKGlzQXJyTGlrZSkge1xuICAgICAgICAgIGFjY3VtdWxhdG9yID0gaXNBcnIgPyBuZXcgQ3RvciA6IFtdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzT2JqZWN0KG9iamVjdCkpIHtcbiAgICAgICAgICBhY2N1bXVsYXRvciA9IGlzRnVuY3Rpb24oQ3RvcikgPyBiYXNlQ3JlYXRlKGdldFByb3RvdHlwZShvYmplY3QpKSA6IHt9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGFjY3VtdWxhdG9yID0ge307XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIChpc0Fyckxpa2UgPyBhcnJheUVhY2ggOiBiYXNlRm9yT3duKShvYmplY3QsIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgb2JqZWN0KSB7XG4gICAgICAgIHJldHVybiBpdGVyYXRlZShhY2N1bXVsYXRvciwgdmFsdWUsIGluZGV4LCBvYmplY3QpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgcHJvcGVydHkgYXQgYHBhdGhgIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gdW5zZXQuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBwcm9wZXJ0eSBpcyBkZWxldGVkLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogNyB9IH1dIH07XG4gICAgICogXy51bnNldChvYmplY3QsICdhWzBdLmIuYycpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdCk7XG4gICAgICogLy8gPT4geyAnYSc6IFt7ICdiJzoge30gfV0gfTtcbiAgICAgKlxuICAgICAqIF8udW5zZXQob2JqZWN0LCBbJ2EnLCAnMCcsICdiJywgJ2MnXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogY29uc29sZS5sb2cob2JqZWN0KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogW3sgJ2InOiB7fSB9XSB9O1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuc2V0KG9iamVjdCwgcGF0aCkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdHJ1ZSA6IGJhc2VVbnNldChvYmplY3QsIHBhdGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uc2V0YCBleGNlcHQgdGhhdCBhY2NlcHRzIGB1cGRhdGVyYCB0byBwcm9kdWNlIHRoZVxuICAgICAqIHZhbHVlIHRvIHNldC4gVXNlIGBfLnVwZGF0ZVdpdGhgIHRvIGN1c3RvbWl6ZSBgcGF0aGAgY3JlYXRpb24uIFRoZSBgdXBkYXRlcmBcbiAgICAgKiBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC42LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHVwZGF0ZXIgVGhlIGZ1bmN0aW9uIHRvIHByb2R1Y2UgdGhlIHVwZGF0ZWQgdmFsdWUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbeyAnYic6IHsgJ2MnOiAzIH0gfV0gfTtcbiAgICAgKlxuICAgICAqIF8udXBkYXRlKG9iamVjdCwgJ2FbMF0uYi5jJywgZnVuY3Rpb24obikgeyByZXR1cm4gbiAqIG47IH0pO1xuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdC5hWzBdLmIuYyk7XG4gICAgICogLy8gPT4gOVxuICAgICAqXG4gICAgICogXy51cGRhdGUob2JqZWN0LCAneFswXS55LnonLCBmdW5jdGlvbihuKSB7IHJldHVybiBuID8gbiArIDEgOiAwOyB9KTtcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3QueFswXS55LnopO1xuICAgICAqIC8vID0+IDBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1cGRhdGUob2JqZWN0LCBwYXRoLCB1cGRhdGVyKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBvYmplY3QgOiBiYXNlVXBkYXRlKG9iamVjdCwgcGF0aCwgY2FzdEZ1bmN0aW9uKHVwZGF0ZXIpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnVwZGF0ZWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIHRvIHByb2R1Y2UgdGhlIG9iamVjdHMgb2YgYHBhdGhgLiAgSWYgYGN1c3RvbWl6ZXJgIHJldHVybnMgYHVuZGVmaW5lZGBcbiAgICAgKiBwYXRoIGNyZWF0aW9uIGlzIGhhbmRsZWQgYnkgdGhlIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHRocmVlIGFyZ3VtZW50czogKG5zVmFsdWUsIGtleSwgbnNPYmplY3QpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC42LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHVwZGF0ZXIgVGhlIGZ1bmN0aW9uIHRvIHByb2R1Y2UgdGhlIHVwZGF0ZWQgdmFsdWUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgYXNzaWduZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7fTtcbiAgICAgKlxuICAgICAqIF8udXBkYXRlV2l0aChvYmplY3QsICdbMF1bMV0nLCBfLmNvbnN0YW50KCdhJyksIE9iamVjdCk7XG4gICAgICogLy8gPT4geyAnMCc6IHsgJzEnOiAnYScgfSB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gdXBkYXRlV2l0aChvYmplY3QsIHBhdGgsIHVwZGF0ZXIsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGN1c3RvbWl6ZXIgPSB0eXBlb2YgY3VzdG9taXplciA9PSAnZnVuY3Rpb24nID8gY3VzdG9taXplciA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IG9iamVjdCA6IGJhc2VVcGRhdGUob2JqZWN0LCBwYXRoLCBjYXN0RnVuY3Rpb24odXBkYXRlciksIGN1c3RvbWl6ZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0eSB2YWx1ZXMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogTm9uLW9iamVjdCB2YWx1ZXMgYXJlIGNvZXJjZWQgdG8gb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLnZhbHVlcyhuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiBbMSwgMl0gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKlxuICAgICAqIF8udmFsdWVzKCdoaScpO1xuICAgICAqIC8vID0+IFsnaCcsICdpJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB2YWx1ZXMob2JqZWN0KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBbXSA6IGJhc2VWYWx1ZXMob2JqZWN0LCBrZXlzKG9iamVjdCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnR5XG4gICAgICogdmFsdWVzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIE5vbi1vYmplY3QgdmFsdWVzIGFyZSBjb2VyY2VkIHRvIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy52YWx1ZXNJbihuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM10gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB2YWx1ZXNJbihvYmplY3QpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IFtdIDogYmFzZVZhbHVlcyhvYmplY3QsIGtleXNJbihvYmplY3QpKTtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDbGFtcHMgYG51bWJlcmAgd2l0aGluIHRoZSBpbmNsdXNpdmUgYGxvd2VyYCBhbmQgYHVwcGVyYCBib3VuZHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTnVtYmVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIGNsYW1wLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbG93ZXJdIFRoZSBsb3dlciBib3VuZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdXBwZXIgVGhlIHVwcGVyIGJvdW5kLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNsYW1wZWQgbnVtYmVyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNsYW1wKC0xMCwgLTUsIDUpO1xuICAgICAqIC8vID0+IC01XG4gICAgICpcbiAgICAgKiBfLmNsYW1wKDEwLCAtNSwgNSk7XG4gICAgICogLy8gPT4gNVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsYW1wKG51bWJlciwgbG93ZXIsIHVwcGVyKSB7XG4gICAgICBpZiAodXBwZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB1cHBlciA9IGxvd2VyO1xuICAgICAgICBsb3dlciA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIGlmICh1cHBlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHVwcGVyID0gdG9OdW1iZXIodXBwZXIpO1xuICAgICAgICB1cHBlciA9IHVwcGVyID09PSB1cHBlciA/IHVwcGVyIDogMDtcbiAgICAgIH1cbiAgICAgIGlmIChsb3dlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGxvd2VyID0gdG9OdW1iZXIobG93ZXIpO1xuICAgICAgICBsb3dlciA9IGxvd2VyID09PSBsb3dlciA/IGxvd2VyIDogMDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlQ2xhbXAodG9OdW1iZXIobnVtYmVyKSwgbG93ZXIsIHVwcGVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYG5gIGlzIGJldHdlZW4gYHN0YXJ0YCBhbmQgdXAgdG8sIGJ1dCBub3QgaW5jbHVkaW5nLCBgZW5kYC4gSWZcbiAgICAgKiBgZW5kYCBpcyBub3Qgc3BlY2lmaWVkLCBpdCdzIHNldCB0byBgc3RhcnRgIHdpdGggYHN0YXJ0YCB0aGVuIHNldCB0byBgMGAuXG4gICAgICogSWYgYHN0YXJ0YCBpcyBncmVhdGVyIHRoYW4gYGVuZGAgdGhlIHBhcmFtcyBhcmUgc3dhcHBlZCB0byBzdXBwb3J0XG4gICAgICogbmVnYXRpdmUgcmFuZ2VzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMy4wXG4gICAgICogQGNhdGVnb3J5IE51bWJlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBudW1iZXIgVGhlIG51bWJlciB0byBjaGVjay5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBUaGUgZW5kIG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYG51bWJlcmAgaXMgaW4gdGhlIHJhbmdlLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQHNlZSBfLnJhbmdlLCBfLnJhbmdlUmlnaHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pblJhbmdlKDMsIDIsIDQpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaW5SYW5nZSg0LCA4KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmluUmFuZ2UoNCwgMik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaW5SYW5nZSgyLCAyKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pblJhbmdlKDEuMiwgMik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pblJhbmdlKDUuMiwgNCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaW5SYW5nZSgtMywgLTIsIC02KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5SYW5nZShudW1iZXIsIHN0YXJ0LCBlbmQpIHtcbiAgICAgIHN0YXJ0ID0gdG9GaW5pdGUoc3RhcnQpO1xuICAgICAgaWYgKGVuZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGVuZCA9IHN0YXJ0O1xuICAgICAgICBzdGFydCA9IDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbmQgPSB0b0Zpbml0ZShlbmQpO1xuICAgICAgfVxuICAgICAgbnVtYmVyID0gdG9OdW1iZXIobnVtYmVyKTtcbiAgICAgIHJldHVybiBiYXNlSW5SYW5nZShudW1iZXIsIHN0YXJ0LCBlbmQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFByb2R1Y2VzIGEgcmFuZG9tIG51bWJlciBiZXR3ZWVuIHRoZSBpbmNsdXNpdmUgYGxvd2VyYCBhbmQgYHVwcGVyYCBib3VuZHMuXG4gICAgICogSWYgb25seSBvbmUgYXJndW1lbnQgaXMgcHJvdmlkZWQgYSBudW1iZXIgYmV0d2VlbiBgMGAgYW5kIHRoZSBnaXZlbiBudW1iZXJcbiAgICAgKiBpcyByZXR1cm5lZC4gSWYgYGZsb2F0aW5nYCBpcyBgdHJ1ZWAsIG9yIGVpdGhlciBgbG93ZXJgIG9yIGB1cHBlcmAgYXJlXG4gICAgICogZmxvYXRzLCBhIGZsb2F0aW5nLXBvaW50IG51bWJlciBpcyByZXR1cm5lZCBpbnN0ZWFkIG9mIGFuIGludGVnZXIuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogSmF2YVNjcmlwdCBmb2xsb3dzIHRoZSBJRUVFLTc1NCBzdGFuZGFyZCBmb3IgcmVzb2x2aW5nXG4gICAgICogZmxvYXRpbmctcG9pbnQgdmFsdWVzIHdoaWNoIGNhbiBwcm9kdWNlIHVuZXhwZWN0ZWQgcmVzdWx0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjcuMFxuICAgICAqIEBjYXRlZ29yeSBOdW1iZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xvd2VyPTBdIFRoZSBsb3dlciBib3VuZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3VwcGVyPTFdIFRoZSB1cHBlciBib3VuZC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmbG9hdGluZ10gU3BlY2lmeSByZXR1cm5pbmcgYSBmbG9hdGluZy1wb2ludCBudW1iZXIuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcmFuZG9tIG51bWJlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5yYW5kb20oMCwgNSk7XG4gICAgICogLy8gPT4gYW4gaW50ZWdlciBiZXR3ZWVuIDAgYW5kIDVcbiAgICAgKlxuICAgICAqIF8ucmFuZG9tKDUpO1xuICAgICAqIC8vID0+IGFsc28gYW4gaW50ZWdlciBiZXR3ZWVuIDAgYW5kIDVcbiAgICAgKlxuICAgICAqIF8ucmFuZG9tKDUsIHRydWUpO1xuICAgICAqIC8vID0+IGEgZmxvYXRpbmctcG9pbnQgbnVtYmVyIGJldHdlZW4gMCBhbmQgNVxuICAgICAqXG4gICAgICogXy5yYW5kb20oMS4yLCA1LjIpO1xuICAgICAqIC8vID0+IGEgZmxvYXRpbmctcG9pbnQgbnVtYmVyIGJldHdlZW4gMS4yIGFuZCA1LjJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByYW5kb20obG93ZXIsIHVwcGVyLCBmbG9hdGluZykge1xuICAgICAgaWYgKGZsb2F0aW5nICYmIHR5cGVvZiBmbG9hdGluZyAhPSAnYm9vbGVhbicgJiYgaXNJdGVyYXRlZUNhbGwobG93ZXIsIHVwcGVyLCBmbG9hdGluZykpIHtcbiAgICAgICAgdXBwZXIgPSBmbG9hdGluZyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIGlmIChmbG9hdGluZyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdXBwZXIgPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgZmxvYXRpbmcgPSB1cHBlcjtcbiAgICAgICAgICB1cHBlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgbG93ZXIgPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgZmxvYXRpbmcgPSBsb3dlcjtcbiAgICAgICAgICBsb3dlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGxvd2VyID09PSB1bmRlZmluZWQgJiYgdXBwZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBsb3dlciA9IDA7XG4gICAgICAgIHVwcGVyID0gMTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBsb3dlciA9IHRvRmluaXRlKGxvd2VyKTtcbiAgICAgICAgaWYgKHVwcGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB1cHBlciA9IGxvd2VyO1xuICAgICAgICAgIGxvd2VyID0gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB1cHBlciA9IHRvRmluaXRlKHVwcGVyKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGxvd2VyID4gdXBwZXIpIHtcbiAgICAgICAgdmFyIHRlbXAgPSBsb3dlcjtcbiAgICAgICAgbG93ZXIgPSB1cHBlcjtcbiAgICAgICAgdXBwZXIgPSB0ZW1wO1xuICAgICAgfVxuICAgICAgaWYgKGZsb2F0aW5nIHx8IGxvd2VyICUgMSB8fCB1cHBlciAlIDEpIHtcbiAgICAgICAgdmFyIHJhbmQgPSBuYXRpdmVSYW5kb20oKTtcbiAgICAgICAgcmV0dXJuIG5hdGl2ZU1pbihsb3dlciArIChyYW5kICogKHVwcGVyIC0gbG93ZXIgKyBmcmVlUGFyc2VGbG9hdCgnMWUtJyArICgocmFuZCArICcnKS5sZW5ndGggLSAxKSkpKSwgdXBwZXIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VSYW5kb20obG93ZXIsIHVwcGVyKTtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0byBbY2FtZWwgY2FzZV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ2FtZWxDYXNlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNhbWVsIGNhc2VkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5jYW1lbENhc2UoJ0ZvbyBCYXInKTtcbiAgICAgKiAvLyA9PiAnZm9vQmFyJ1xuICAgICAqXG4gICAgICogXy5jYW1lbENhc2UoJy0tZm9vLWJhci0tJyk7XG4gICAgICogLy8gPT4gJ2Zvb0JhcidcbiAgICAgKlxuICAgICAqIF8uY2FtZWxDYXNlKCdfX0ZPT19CQVJfXycpO1xuICAgICAqIC8vID0+ICdmb29CYXInXG4gICAgICovXG4gICAgdmFyIGNhbWVsQ2FzZSA9IGNyZWF0ZUNvbXBvdW5kZXIoZnVuY3Rpb24ocmVzdWx0LCB3b3JkLCBpbmRleCkge1xuICAgICAgd29yZCA9IHdvcmQudG9Mb3dlckNhc2UoKTtcbiAgICAgIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyBjYXBpdGFsaXplKHdvcmQpIDogd29yZCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0aGUgZmlyc3QgY2hhcmFjdGVyIG9mIGBzdHJpbmdgIHRvIHVwcGVyIGNhc2UgYW5kIHRoZSByZW1haW5pbmdcbiAgICAgKiB0byBsb3dlciBjYXNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNhcGl0YWxpemUuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY2FwaXRhbGl6ZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNhcGl0YWxpemUoJ0ZSRUQnKTtcbiAgICAgKiAvLyA9PiAnRnJlZCdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjYXBpdGFsaXplKHN0cmluZykge1xuICAgICAgcmV0dXJuIHVwcGVyRmlyc3QodG9TdHJpbmcoc3RyaW5nKS50b0xvd2VyQ2FzZSgpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZWJ1cnJzIGBzdHJpbmdgIGJ5IGNvbnZlcnRpbmdcbiAgICAgKiBbTGF0aW4tMSBTdXBwbGVtZW50XShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MYXRpbi0xX1N1cHBsZW1lbnRfKFVuaWNvZGVfYmxvY2spI0NoYXJhY3Rlcl90YWJsZSlcbiAgICAgKiBhbmQgW0xhdGluIEV4dGVuZGVkLUFdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xhdGluX0V4dGVuZGVkLUEpXG4gICAgICogbGV0dGVycyB0byBiYXNpYyBMYXRpbiBsZXR0ZXJzIGFuZCByZW1vdmluZ1xuICAgICAqIFtjb21iaW5pbmcgZGlhY3JpdGljYWwgbWFya3NdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NvbWJpbmluZ19EaWFjcml0aWNhbF9NYXJrcykuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gZGVidXJyLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGRlYnVycmVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kZWJ1cnIoJ2RcdTAwRTlqXHUwMEUwIHZ1Jyk7XG4gICAgICogLy8gPT4gJ2RlamEgdnUnXG4gICAgICovXG4gICAgZnVuY3Rpb24gZGVidXJyKHN0cmluZykge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIHJldHVybiBzdHJpbmcgJiYgc3RyaW5nLnJlcGxhY2UocmVMYXRpbiwgZGVidXJyTGV0dGVyKS5yZXBsYWNlKHJlQ29tYm9NYXJrLCAnJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBzdHJpbmdgIGVuZHMgd2l0aCB0aGUgZ2l2ZW4gdGFyZ2V0IHN0cmluZy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbdGFyZ2V0XSBUaGUgc3RyaW5nIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwb3NpdGlvbj1zdHJpbmcubGVuZ3RoXSBUaGUgcG9zaXRpb24gdG8gc2VhcmNoIHVwIHRvLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgc3RyaW5nYCBlbmRzIHdpdGggYHRhcmdldGAsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5lbmRzV2l0aCgnYWJjJywgJ2MnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmVuZHNXaXRoKCdhYmMnLCAnYicpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmVuZHNXaXRoKCdhYmMnLCAnYicsIDIpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlbmRzV2l0aChzdHJpbmcsIHRhcmdldCwgcG9zaXRpb24pIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICB0YXJnZXQgPSBiYXNlVG9TdHJpbmcodGFyZ2V0KTtcblxuICAgICAgdmFyIGxlbmd0aCA9IHN0cmluZy5sZW5ndGg7XG4gICAgICBwb3NpdGlvbiA9IHBvc2l0aW9uID09PSB1bmRlZmluZWRcbiAgICAgICAgPyBsZW5ndGhcbiAgICAgICAgOiBiYXNlQ2xhbXAodG9JbnRlZ2VyKHBvc2l0aW9uKSwgMCwgbGVuZ3RoKTtcblxuICAgICAgdmFyIGVuZCA9IHBvc2l0aW9uO1xuICAgICAgcG9zaXRpb24gLT0gdGFyZ2V0Lmxlbmd0aDtcbiAgICAgIHJldHVybiBwb3NpdGlvbiA+PSAwICYmIHN0cmluZy5zbGljZShwb3NpdGlvbiwgZW5kKSA9PSB0YXJnZXQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgdGhlIGNoYXJhY3RlcnMgXCImXCIsIFwiPFwiLCBcIj5cIiwgJ1wiJywgYW5kIFwiJ1wiIGluIGBzdHJpbmdgIHRvIHRoZWlyXG4gICAgICogY29ycmVzcG9uZGluZyBIVE1MIGVudGl0aWVzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIE5vIG90aGVyIGNoYXJhY3RlcnMgYXJlIGVzY2FwZWQuIFRvIGVzY2FwZSBhZGRpdGlvbmFsXG4gICAgICogY2hhcmFjdGVycyB1c2UgYSB0aGlyZC1wYXJ0eSBsaWJyYXJ5IGxpa2UgW19oZV9dKGh0dHBzOi8vbXRocy5iZS9oZSkuXG4gICAgICpcbiAgICAgKiBUaG91Z2ggdGhlIFwiPlwiIGNoYXJhY3RlciBpcyBlc2NhcGVkIGZvciBzeW1tZXRyeSwgY2hhcmFjdGVycyBsaWtlXG4gICAgICogXCI+XCIgYW5kIFwiL1wiIGRvbid0IG5lZWQgZXNjYXBpbmcgaW4gSFRNTCBhbmQgaGF2ZSBubyBzcGVjaWFsIG1lYW5pbmdcbiAgICAgKiB1bmxlc3MgdGhleSdyZSBwYXJ0IG9mIGEgdGFnIG9yIHVucXVvdGVkIGF0dHJpYnV0ZSB2YWx1ZS4gU2VlXG4gICAgICogW01hdGhpYXMgQnluZW5zJ3MgYXJ0aWNsZV0oaHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2FtYmlndW91cy1hbXBlcnNhbmRzKVxuICAgICAqICh1bmRlciBcInNlbWktcmVsYXRlZCBmdW4gZmFjdFwiKSBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqXG4gICAgICogV2hlbiB3b3JraW5nIHdpdGggSFRNTCB5b3Ugc2hvdWxkIGFsd2F5c1xuICAgICAqIFtxdW90ZSBhdHRyaWJ1dGUgdmFsdWVzXShodHRwOi8vd29ua28uY29tL3Bvc3QvaHRtbC1lc2NhcGluZykgdG8gcmVkdWNlXG4gICAgICogWFNTIHZlY3RvcnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gZXNjYXBlLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGVzY2FwZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmVzY2FwZSgnZnJlZCwgYmFybmV5LCAmIHBlYmJsZXMnKTtcbiAgICAgKiAvLyA9PiAnZnJlZCwgYmFybmV5LCAmYW1wOyBwZWJibGVzJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVzY2FwZShzdHJpbmcpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICByZXR1cm4gKHN0cmluZyAmJiByZUhhc1VuZXNjYXBlZEh0bWwudGVzdChzdHJpbmcpKVxuICAgICAgICA/IHN0cmluZy5yZXBsYWNlKHJlVW5lc2NhcGVkSHRtbCwgZXNjYXBlSHRtbENoYXIpXG4gICAgICAgIDogc3RyaW5nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVzY2FwZXMgdGhlIGBSZWdFeHBgIHNwZWNpYWwgY2hhcmFjdGVycyBcIl5cIiwgXCIkXCIsIFwiXFxcIiwgXCIuXCIsIFwiKlwiLCBcIitcIixcbiAgICAgKiBcIj9cIiwgXCIoXCIsIFwiKVwiLCBcIltcIiwgXCJdXCIsIFwie1wiLCBcIn1cIiwgYW5kIFwifFwiIGluIGBzdHJpbmdgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGVzY2FwZS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBlc2NhcGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5lc2NhcGVSZWdFeHAoJ1tsb2Rhc2hdKGh0dHBzOi8vbG9kYXNoLmNvbS8pJyk7XG4gICAgICogLy8gPT4gJ1xcW2xvZGFzaFxcXVxcKGh0dHBzOi8vbG9kYXNoXFwuY29tL1xcKSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlc2NhcGVSZWdFeHAoc3RyaW5nKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgcmV0dXJuIChzdHJpbmcgJiYgcmVIYXNSZWdFeHBDaGFyLnRlc3Qoc3RyaW5nKSlcbiAgICAgICAgPyBzdHJpbmcucmVwbGFjZShyZVJlZ0V4cENoYXIsICdcXFxcJCYnKVxuICAgICAgICA6IHN0cmluZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0b1xuICAgICAqIFtrZWJhYiBjYXNlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MZXR0ZXJfY2FzZSNTcGVjaWFsX2Nhc2Vfc3R5bGVzKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGtlYmFiIGNhc2VkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5rZWJhYkNhc2UoJ0ZvbyBCYXInKTtcbiAgICAgKiAvLyA9PiAnZm9vLWJhcidcbiAgICAgKlxuICAgICAqIF8ua2ViYWJDYXNlKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnZm9vLWJhcidcbiAgICAgKlxuICAgICAqIF8ua2ViYWJDYXNlKCdfX0ZPT19CQVJfXycpO1xuICAgICAqIC8vID0+ICdmb28tYmFyJ1xuICAgICAqL1xuICAgIHZhciBrZWJhYkNhc2UgPSBjcmVhdGVDb21wb3VuZGVyKGZ1bmN0aW9uKHJlc3VsdCwgd29yZCwgaW5kZXgpIHtcbiAgICAgIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyAnLScgOiAnJykgKyB3b3JkLnRvTG93ZXJDYXNlKCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCwgYXMgc3BhY2Ugc2VwYXJhdGVkIHdvcmRzLCB0byBsb3dlciBjYXNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgbG93ZXIgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmxvd2VyQ2FzZSgnLS1Gb28tQmFyLS0nKTtcbiAgICAgKiAvLyA9PiAnZm9vIGJhcidcbiAgICAgKlxuICAgICAqIF8ubG93ZXJDYXNlKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnZm9vIGJhcidcbiAgICAgKlxuICAgICAqIF8ubG93ZXJDYXNlKCdfX0ZPT19CQVJfXycpO1xuICAgICAqIC8vID0+ICdmb28gYmFyJ1xuICAgICAqL1xuICAgIHZhciBsb3dlckNhc2UgPSBjcmVhdGVDb21wb3VuZGVyKGZ1bmN0aW9uKHJlc3VsdCwgd29yZCwgaW5kZXgpIHtcbiAgICAgIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyAnICcgOiAnJykgKyB3b3JkLnRvTG93ZXJDYXNlKCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0aGUgZmlyc3QgY2hhcmFjdGVyIG9mIGBzdHJpbmdgIHRvIGxvd2VyIGNhc2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmxvd2VyRmlyc3QoJ0ZyZWQnKTtcbiAgICAgKiAvLyA9PiAnZnJlZCdcbiAgICAgKlxuICAgICAqIF8ubG93ZXJGaXJzdCgnRlJFRCcpO1xuICAgICAqIC8vID0+ICdmUkVEJ1xuICAgICAqL1xuICAgIHZhciBsb3dlckZpcnN0ID0gY3JlYXRlQ2FzZUZpcnN0KCd0b0xvd2VyQ2FzZScpO1xuXG4gICAgLyoqXG4gICAgICogUGFkcyBgc3RyaW5nYCBvbiB0aGUgbGVmdCBhbmQgcmlnaHQgc2lkZXMgaWYgaXQncyBzaG9ydGVyIHRoYW4gYGxlbmd0aGAuXG4gICAgICogUGFkZGluZyBjaGFyYWN0ZXJzIGFyZSB0cnVuY2F0ZWQgaWYgdGhleSBjYW4ndCBiZSBldmVubHkgZGl2aWRlZCBieSBgbGVuZ3RoYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBwYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGg9MF0gVGhlIHBhZGRpbmcgbGVuZ3RoLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcnM9JyAnXSBUaGUgc3RyaW5nIHVzZWQgYXMgcGFkZGluZy5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBwYWRkZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnBhZCgnYWJjJywgOCk7XG4gICAgICogLy8gPT4gJyAgYWJjICAgJ1xuICAgICAqXG4gICAgICogXy5wYWQoJ2FiYycsIDgsICdfLScpO1xuICAgICAqIC8vID0+ICdfLWFiY18tXydcbiAgICAgKlxuICAgICAqIF8ucGFkKCdhYmMnLCAzKTtcbiAgICAgKiAvLyA9PiAnYWJjJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBhZChzdHJpbmcsIGxlbmd0aCwgY2hhcnMpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBsZW5ndGggPSB0b0ludGVnZXIobGVuZ3RoKTtcblxuICAgICAgdmFyIHN0ckxlbmd0aCA9IGxlbmd0aCA/IHN0cmluZ1NpemUoc3RyaW5nKSA6IDA7XG4gICAgICBpZiAoIWxlbmd0aCB8fCBzdHJMZW5ndGggPj0gbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmc7XG4gICAgICB9XG4gICAgICB2YXIgbWlkID0gKGxlbmd0aCAtIHN0ckxlbmd0aCkgLyAyO1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgY3JlYXRlUGFkZGluZyhuYXRpdmVGbG9vcihtaWQpLCBjaGFycykgK1xuICAgICAgICBzdHJpbmcgK1xuICAgICAgICBjcmVhdGVQYWRkaW5nKG5hdGl2ZUNlaWwobWlkKSwgY2hhcnMpXG4gICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBhZHMgYHN0cmluZ2Agb24gdGhlIHJpZ2h0IHNpZGUgaWYgaXQncyBzaG9ydGVyIHRoYW4gYGxlbmd0aGAuIFBhZGRpbmdcbiAgICAgKiBjaGFyYWN0ZXJzIGFyZSB0cnVuY2F0ZWQgaWYgdGhleSBleGNlZWQgYGxlbmd0aGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gcGFkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoPTBdIFRoZSBwYWRkaW5nIGxlbmd0aC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPScgJ10gVGhlIHN0cmluZyB1c2VkIGFzIHBhZGRpbmcuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcGFkZGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5wYWRFbmQoJ2FiYycsIDYpO1xuICAgICAqIC8vID0+ICdhYmMgICAnXG4gICAgICpcbiAgICAgKiBfLnBhZEVuZCgnYWJjJywgNiwgJ18tJyk7XG4gICAgICogLy8gPT4gJ2FiY18tXydcbiAgICAgKlxuICAgICAqIF8ucGFkRW5kKCdhYmMnLCAzKTtcbiAgICAgKiAvLyA9PiAnYWJjJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBhZEVuZChzdHJpbmcsIGxlbmd0aCwgY2hhcnMpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBsZW5ndGggPSB0b0ludGVnZXIobGVuZ3RoKTtcblxuICAgICAgdmFyIHN0ckxlbmd0aCA9IGxlbmd0aCA/IHN0cmluZ1NpemUoc3RyaW5nKSA6IDA7XG4gICAgICByZXR1cm4gKGxlbmd0aCAmJiBzdHJMZW5ndGggPCBsZW5ndGgpXG4gICAgICAgID8gKHN0cmluZyArIGNyZWF0ZVBhZGRpbmcobGVuZ3RoIC0gc3RyTGVuZ3RoLCBjaGFycykpXG4gICAgICAgIDogc3RyaW5nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBhZHMgYHN0cmluZ2Agb24gdGhlIGxlZnQgc2lkZSBpZiBpdCdzIHNob3J0ZXIgdGhhbiBgbGVuZ3RoYC4gUGFkZGluZ1xuICAgICAqIGNoYXJhY3RlcnMgYXJlIHRydW5jYXRlZCBpZiB0aGV5IGV4Y2VlZCBgbGVuZ3RoYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBwYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGg9MF0gVGhlIHBhZGRpbmcgbGVuZ3RoLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcnM9JyAnXSBUaGUgc3RyaW5nIHVzZWQgYXMgcGFkZGluZy5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBwYWRkZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnBhZFN0YXJ0KCdhYmMnLCA2KTtcbiAgICAgKiAvLyA9PiAnICAgYWJjJ1xuICAgICAqXG4gICAgICogXy5wYWRTdGFydCgnYWJjJywgNiwgJ18tJyk7XG4gICAgICogLy8gPT4gJ18tX2FiYydcbiAgICAgKlxuICAgICAqIF8ucGFkU3RhcnQoJ2FiYycsIDMpO1xuICAgICAqIC8vID0+ICdhYmMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gcGFkU3RhcnQoc3RyaW5nLCBsZW5ndGgsIGNoYXJzKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgbGVuZ3RoID0gdG9JbnRlZ2VyKGxlbmd0aCk7XG5cbiAgICAgIHZhciBzdHJMZW5ndGggPSBsZW5ndGggPyBzdHJpbmdTaXplKHN0cmluZykgOiAwO1xuICAgICAgcmV0dXJuIChsZW5ndGggJiYgc3RyTGVuZ3RoIDwgbGVuZ3RoKVxuICAgICAgICA/IChjcmVhdGVQYWRkaW5nKGxlbmd0aCAtIHN0ckxlbmd0aCwgY2hhcnMpICsgc3RyaW5nKVxuICAgICAgICA6IHN0cmluZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0byBhbiBpbnRlZ2VyIG9mIHRoZSBzcGVjaWZpZWQgcmFkaXguIElmIGByYWRpeGAgaXNcbiAgICAgKiBgdW5kZWZpbmVkYCBvciBgMGAsIGEgYHJhZGl4YCBvZiBgMTBgIGlzIHVzZWQgdW5sZXNzIGB2YWx1ZWAgaXMgYVxuICAgICAqIGhleGFkZWNpbWFsLCBpbiB3aGljaCBjYXNlIGEgYHJhZGl4YCBvZiBgMTZgIGlzIHVzZWQuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgYWxpZ25zIHdpdGggdGhlXG4gICAgICogW0VTNSBpbXBsZW1lbnRhdGlvbl0oaHR0cHM6Ly9lczUuZ2l0aHViLmlvLyN4MTUuMS4yLjIpIG9mIGBwYXJzZUludGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyYWRpeD0xMF0gVGhlIHJhZGl4IHRvIGludGVycHJldCBgdmFsdWVgIGJ5LlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY29udmVydGVkIGludGVnZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucGFyc2VJbnQoJzA4Jyk7XG4gICAgICogLy8gPT4gOFxuICAgICAqXG4gICAgICogXy5tYXAoWyc2JywgJzA4JywgJzEwJ10sIF8ucGFyc2VJbnQpO1xuICAgICAqIC8vID0+IFs2LCA4LCAxMF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwYXJzZUludChzdHJpbmcsIHJhZGl4LCBndWFyZCkge1xuICAgICAgaWYgKGd1YXJkIHx8IHJhZGl4ID09IG51bGwpIHtcbiAgICAgICAgcmFkaXggPSAwO1xuICAgICAgfSBlbHNlIGlmIChyYWRpeCkge1xuICAgICAgICByYWRpeCA9ICtyYWRpeDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuYXRpdmVQYXJzZUludCh0b1N0cmluZyhzdHJpbmcpLnJlcGxhY2UocmVUcmltU3RhcnQsICcnKSwgcmFkaXggfHwgMCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVwZWF0cyB0aGUgZ2l2ZW4gc3RyaW5nIGBuYCB0aW1lcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byByZXBlYXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTFdIFRoZSBudW1iZXIgb2YgdGltZXMgdG8gcmVwZWF0IHRoZSBzdHJpbmcuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSByZXBlYXRlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucmVwZWF0KCcqJywgMyk7XG4gICAgICogLy8gPT4gJyoqKidcbiAgICAgKlxuICAgICAqIF8ucmVwZWF0KCdhYmMnLCAyKTtcbiAgICAgKiAvLyA9PiAnYWJjYWJjJ1xuICAgICAqXG4gICAgICogXy5yZXBlYXQoJ2FiYycsIDApO1xuICAgICAqIC8vID0+ICcnXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVwZWF0KHN0cmluZywgbiwgZ3VhcmQpIHtcbiAgICAgIGlmICgoZ3VhcmQgPyBpc0l0ZXJhdGVlQ2FsbChzdHJpbmcsIG4sIGd1YXJkKSA6IG4gPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgbiA9IDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuID0gdG9JbnRlZ2VyKG4pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VSZXBlYXQodG9TdHJpbmcoc3RyaW5nKSwgbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVwbGFjZXMgbWF0Y2hlcyBmb3IgYHBhdHRlcm5gIGluIGBzdHJpbmdgIHdpdGggYHJlcGxhY2VtZW50YC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvblxuICAgICAqIFtgU3RyaW5nI3JlcGxhY2VgXShodHRwczovL21kbi5pby9TdHJpbmcvcmVwbGFjZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7UmVnRXhwfHN0cmluZ30gcGF0dGVybiBUaGUgcGF0dGVybiB0byByZXBsYWNlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258c3RyaW5nfSByZXBsYWNlbWVudCBUaGUgbWF0Y2ggcmVwbGFjZW1lbnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgbW9kaWZpZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnJlcGxhY2UoJ0hpIEZyZWQnLCAnRnJlZCcsICdCYXJuZXknKTtcbiAgICAgKiAvLyA9PiAnSGkgQmFybmV5J1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlcGxhY2UoKSB7XG4gICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgICBzdHJpbmcgPSB0b1N0cmluZyhhcmdzWzBdKTtcblxuICAgICAgcmV0dXJuIGFyZ3MubGVuZ3RoIDwgMyA/IHN0cmluZyA6IHN0cmluZy5yZXBsYWNlKGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgIHRvXG4gICAgICogW3NuYWtlIGNhc2VdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1NuYWtlX2Nhc2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc25ha2UgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNuYWtlQ2FzZSgnRm9vIEJhcicpO1xuICAgICAqIC8vID0+ICdmb29fYmFyJ1xuICAgICAqXG4gICAgICogXy5zbmFrZUNhc2UoJ2Zvb0JhcicpO1xuICAgICAqIC8vID0+ICdmb29fYmFyJ1xuICAgICAqXG4gICAgICogXy5zbmFrZUNhc2UoJy0tRk9PLUJBUi0tJyk7XG4gICAgICogLy8gPT4gJ2Zvb19iYXInXG4gICAgICovXG4gICAgdmFyIHNuYWtlQ2FzZSA9IGNyZWF0ZUNvbXBvdW5kZXIoZnVuY3Rpb24ocmVzdWx0LCB3b3JkLCBpbmRleCkge1xuICAgICAgcmV0dXJuIHJlc3VsdCArIChpbmRleCA/ICdfJyA6ICcnKSArIHdvcmQudG9Mb3dlckNhc2UoKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFNwbGl0cyBgc3RyaW5nYCBieSBgc2VwYXJhdG9yYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvblxuICAgICAqIFtgU3RyaW5nI3NwbGl0YF0oaHR0cHM6Ly9tZG4uaW8vU3RyaW5nL3NwbGl0KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBzcGxpdC5cbiAgICAgKiBAcGFyYW0ge1JlZ0V4cHxzdHJpbmd9IHNlcGFyYXRvciBUaGUgc2VwYXJhdG9yIHBhdHRlcm4gdG8gc3BsaXQgYnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsaW1pdF0gVGhlIGxlbmd0aCB0byB0cnVuY2F0ZSByZXN1bHRzIHRvLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc3RyaW5nIHNlZ21lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNwbGl0KCdhLWItYycsICctJywgMik7XG4gICAgICogLy8gPT4gWydhJywgJ2InXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNwbGl0KHN0cmluZywgc2VwYXJhdG9yLCBsaW1pdCkge1xuICAgICAgaWYgKGxpbWl0ICYmIHR5cGVvZiBsaW1pdCAhPSAnbnVtYmVyJyAmJiBpc0l0ZXJhdGVlQ2FsbChzdHJpbmcsIHNlcGFyYXRvciwgbGltaXQpKSB7XG4gICAgICAgIHNlcGFyYXRvciA9IGxpbWl0ID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgbGltaXQgPSBsaW1pdCA9PT0gdW5kZWZpbmVkID8gTUFYX0FSUkFZX0xFTkdUSCA6IGxpbWl0ID4+PiAwO1xuICAgICAgaWYgKCFsaW1pdCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgaWYgKHN0cmluZyAmJiAoXG4gICAgICAgICAgICB0eXBlb2Ygc2VwYXJhdG9yID09ICdzdHJpbmcnIHx8XG4gICAgICAgICAgICAoc2VwYXJhdG9yICE9IG51bGwgJiYgIWlzUmVnRXhwKHNlcGFyYXRvcikpXG4gICAgICAgICAgKSkge1xuICAgICAgICBzZXBhcmF0b3IgPSBiYXNlVG9TdHJpbmcoc2VwYXJhdG9yKTtcbiAgICAgICAgaWYgKCFzZXBhcmF0b3IgJiYgaGFzVW5pY29kZShzdHJpbmcpKSB7XG4gICAgICAgICAgcmV0dXJuIGNhc3RTbGljZShzdHJpbmdUb0FycmF5KHN0cmluZyksIDAsIGxpbWl0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHN0cmluZy5zcGxpdChzZXBhcmF0b3IsIGxpbWl0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0b1xuICAgICAqIFtzdGFydCBjYXNlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MZXR0ZXJfY2FzZSNTdHlsaXN0aWNfb3Jfc3BlY2lhbGlzZWRfdXNhZ2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMS4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc3RhcnQgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnN0YXJ0Q2FzZSgnLS1mb28tYmFyLS0nKTtcbiAgICAgKiAvLyA9PiAnRm9vIEJhcidcbiAgICAgKlxuICAgICAqIF8uc3RhcnRDYXNlKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnRm9vIEJhcidcbiAgICAgKlxuICAgICAqIF8uc3RhcnRDYXNlKCdfX0ZPT19CQVJfXycpO1xuICAgICAqIC8vID0+ICdGT08gQkFSJ1xuICAgICAqL1xuICAgIHZhciBzdGFydENhc2UgPSBjcmVhdGVDb21wb3VuZGVyKGZ1bmN0aW9uKHJlc3VsdCwgd29yZCwgaW5kZXgpIHtcbiAgICAgIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyAnICcgOiAnJykgKyB1cHBlckZpcnN0KHdvcmQpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBzdHJpbmdgIHN0YXJ0cyB3aXRoIHRoZSBnaXZlbiB0YXJnZXQgc3RyaW5nLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFt0YXJnZXRdIFRoZSBzdHJpbmcgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Bvc2l0aW9uPTBdIFRoZSBwb3NpdGlvbiB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHN0cmluZ2Agc3RhcnRzIHdpdGggYHRhcmdldGAsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zdGFydHNXaXRoKCdhYmMnLCAnYScpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uc3RhcnRzV2l0aCgnYWJjJywgJ2InKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5zdGFydHNXaXRoKCdhYmMnLCAnYicsIDEpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdGFydHNXaXRoKHN0cmluZywgdGFyZ2V0LCBwb3NpdGlvbikge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIHBvc2l0aW9uID0gcG9zaXRpb24gPT0gbnVsbFxuICAgICAgICA/IDBcbiAgICAgICAgOiBiYXNlQ2xhbXAodG9JbnRlZ2VyKHBvc2l0aW9uKSwgMCwgc3RyaW5nLmxlbmd0aCk7XG5cbiAgICAgIHRhcmdldCA9IGJhc2VUb1N0cmluZyh0YXJnZXQpO1xuICAgICAgcmV0dXJuIHN0cmluZy5zbGljZShwb3NpdGlvbiwgcG9zaXRpb24gKyB0YXJnZXQubGVuZ3RoKSA9PSB0YXJnZXQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNvbXBpbGVkIHRlbXBsYXRlIGZ1bmN0aW9uIHRoYXQgY2FuIGludGVycG9sYXRlIGRhdGEgcHJvcGVydGllc1xuICAgICAqIGluIFwiaW50ZXJwb2xhdGVcIiBkZWxpbWl0ZXJzLCBIVE1MLWVzY2FwZSBpbnRlcnBvbGF0ZWQgZGF0YSBwcm9wZXJ0aWVzIGluXG4gICAgICogXCJlc2NhcGVcIiBkZWxpbWl0ZXJzLCBhbmQgZXhlY3V0ZSBKYXZhU2NyaXB0IGluIFwiZXZhbHVhdGVcIiBkZWxpbWl0ZXJzLiBEYXRhXG4gICAgICogcHJvcGVydGllcyBtYXkgYmUgYWNjZXNzZWQgYXMgZnJlZSB2YXJpYWJsZXMgaW4gdGhlIHRlbXBsYXRlLiBJZiBhIHNldHRpbmdcbiAgICAgKiBvYmplY3QgaXMgZ2l2ZW4sIGl0IHRha2VzIHByZWNlZGVuY2Ugb3ZlciBgXy50ZW1wbGF0ZVNldHRpbmdzYCB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogSW4gdGhlIGRldmVsb3BtZW50IGJ1aWxkIGBfLnRlbXBsYXRlYCB1dGlsaXplc1xuICAgICAqIFtzb3VyY2VVUkxzXShodHRwOi8vd3d3Lmh0bWw1cm9ja3MuY29tL2VuL3R1dG9yaWFscy9kZXZlbG9wZXJ0b29scy9zb3VyY2VtYXBzLyN0b2Mtc291cmNldXJsKVxuICAgICAqIGZvciBlYXNpZXIgZGVidWdnaW5nLlxuICAgICAqXG4gICAgICogRm9yIG1vcmUgaW5mb3JtYXRpb24gb24gcHJlY29tcGlsaW5nIHRlbXBsYXRlcyBzZWVcbiAgICAgKiBbbG9kYXNoJ3MgY3VzdG9tIGJ1aWxkcyBkb2N1bWVudGF0aW9uXShodHRwczovL2xvZGFzaC5jb20vY3VzdG9tLWJ1aWxkcykuXG4gICAgICpcbiAgICAgKiBGb3IgbW9yZSBpbmZvcm1hdGlvbiBvbiBDaHJvbWUgZXh0ZW5zaW9uIHNhbmRib3hlcyBzZWVcbiAgICAgKiBbQ2hyb21lJ3MgZXh0ZW5zaW9ucyBkb2N1bWVudGF0aW9uXShodHRwczovL2RldmVsb3Blci5jaHJvbWUuY29tL2V4dGVuc2lvbnMvc2FuZGJveGluZ0V2YWwpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgdGVtcGxhdGUgc3RyaW5nLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7UmVnRXhwfSBbb3B0aW9ucy5lc2NhcGU9Xy50ZW1wbGF0ZVNldHRpbmdzLmVzY2FwZV1cbiAgICAgKiAgVGhlIEhUTUwgXCJlc2NhcGVcIiBkZWxpbWl0ZXIuXG4gICAgICogQHBhcmFtIHtSZWdFeHB9IFtvcHRpb25zLmV2YWx1YXRlPV8udGVtcGxhdGVTZXR0aW5ncy5ldmFsdWF0ZV1cbiAgICAgKiAgVGhlIFwiZXZhbHVhdGVcIiBkZWxpbWl0ZXIuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLmltcG9ydHM9Xy50ZW1wbGF0ZVNldHRpbmdzLmltcG9ydHNdXG4gICAgICogIEFuIG9iamVjdCB0byBpbXBvcnQgaW50byB0aGUgdGVtcGxhdGUgYXMgZnJlZSB2YXJpYWJsZXMuXG4gICAgICogQHBhcmFtIHtSZWdFeHB9IFtvcHRpb25zLmludGVycG9sYXRlPV8udGVtcGxhdGVTZXR0aW5ncy5pbnRlcnBvbGF0ZV1cbiAgICAgKiAgVGhlIFwiaW50ZXJwb2xhdGVcIiBkZWxpbWl0ZXIuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnNvdXJjZVVSTD0nbG9kYXNoLnRlbXBsYXRlU291cmNlc1tuXSddXG4gICAgICogIFRoZSBzb3VyY2VVUkwgb2YgdGhlIGNvbXBpbGVkIHRlbXBsYXRlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy52YXJpYWJsZT0nb2JqJ11cbiAgICAgKiAgVGhlIGRhdGEgb2JqZWN0IHZhcmlhYmxlIG5hbWUuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIGNvbXBpbGVkIHRlbXBsYXRlIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIFwiaW50ZXJwb2xhdGVcIiBkZWxpbWl0ZXIgdG8gY3JlYXRlIGEgY29tcGlsZWQgdGVtcGxhdGUuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnaGVsbG8gPCU9IHVzZXIgJT4hJyk7XG4gICAgICogY29tcGlsZWQoeyAndXNlcic6ICdmcmVkJyB9KTtcbiAgICAgKiAvLyA9PiAnaGVsbG8gZnJlZCEnXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIEhUTUwgXCJlc2NhcGVcIiBkZWxpbWl0ZXIgdG8gZXNjYXBlIGRhdGEgcHJvcGVydHkgdmFsdWVzLlxuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJzxiPjwlLSB2YWx1ZSAlPjwvYj4nKTtcbiAgICAgKiBjb21waWxlZCh7ICd2YWx1ZSc6ICc8c2NyaXB0PicgfSk7XG4gICAgICogLy8gPT4gJzxiPiZsdDtzY3JpcHQmZ3Q7PC9iPidcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgXCJldmFsdWF0ZVwiIGRlbGltaXRlciB0byBleGVjdXRlIEphdmFTY3JpcHQgYW5kIGdlbmVyYXRlIEhUTUwuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnPCUgXy5mb3JFYWNoKHVzZXJzLCBmdW5jdGlvbih1c2VyKSB7ICU+PGxpPjwlLSB1c2VyICU+PC9saT48JSB9KTsgJT4nKTtcbiAgICAgKiBjb21waWxlZCh7ICd1c2Vycyc6IFsnZnJlZCcsICdiYXJuZXknXSB9KTtcbiAgICAgKiAvLyA9PiAnPGxpPmZyZWQ8L2xpPjxsaT5iYXJuZXk8L2xpPidcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgaW50ZXJuYWwgYHByaW50YCBmdW5jdGlvbiBpbiBcImV2YWx1YXRlXCIgZGVsaW1pdGVycy5cbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCc8JSBwcmludChcImhlbGxvIFwiICsgdXNlcik7ICU+IScpO1xuICAgICAqIGNvbXBpbGVkKHsgJ3VzZXInOiAnYmFybmV5JyB9KTtcbiAgICAgKiAvLyA9PiAnaGVsbG8gYmFybmV5ISdcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgRVMgdGVtcGxhdGUgbGl0ZXJhbCBkZWxpbWl0ZXIgYXMgYW4gXCJpbnRlcnBvbGF0ZVwiIGRlbGltaXRlci5cbiAgICAgKiAvLyBEaXNhYmxlIHN1cHBvcnQgYnkgcmVwbGFjaW5nIHRoZSBcImludGVycG9sYXRlXCIgZGVsaW1pdGVyLlxuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJ2hlbGxvICR7IHVzZXIgfSEnKTtcbiAgICAgKiBjb21waWxlZCh7ICd1c2VyJzogJ3BlYmJsZXMnIH0pO1xuICAgICAqIC8vID0+ICdoZWxsbyBwZWJibGVzISdcbiAgICAgKlxuICAgICAqIC8vIFVzZSBiYWNrc2xhc2hlcyB0byB0cmVhdCBkZWxpbWl0ZXJzIGFzIHBsYWluIHRleHQuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnPCU9IFwiXFxcXDwlLSB2YWx1ZSAlXFxcXD5cIiAlPicpO1xuICAgICAqIGNvbXBpbGVkKHsgJ3ZhbHVlJzogJ2lnbm9yZWQnIH0pO1xuICAgICAqIC8vID0+ICc8JS0gdmFsdWUgJT4nXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIGBpbXBvcnRzYCBvcHRpb24gdG8gaW1wb3J0IGBqUXVlcnlgIGFzIGBqcWAuXG4gICAgICogdmFyIHRleHQgPSAnPCUganEuZWFjaCh1c2VycywgZnVuY3Rpb24odXNlcikgeyAlPjxsaT48JS0gdXNlciAlPjwvbGk+PCUgfSk7ICU+JztcbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKHRleHQsIHsgJ2ltcG9ydHMnOiB7ICdqcSc6IGpRdWVyeSB9IH0pO1xuICAgICAqIGNvbXBpbGVkKHsgJ3VzZXJzJzogWydmcmVkJywgJ2Jhcm5leSddIH0pO1xuICAgICAqIC8vID0+ICc8bGk+ZnJlZDwvbGk+PGxpPmJhcm5leTwvbGk+J1xuICAgICAqXG4gICAgICogLy8gVXNlIHRoZSBgc291cmNlVVJMYCBvcHRpb24gdG8gc3BlY2lmeSBhIGN1c3RvbSBzb3VyY2VVUkwgZm9yIHRoZSB0ZW1wbGF0ZS5cbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCdoZWxsbyA8JT0gdXNlciAlPiEnLCB7ICdzb3VyY2VVUkwnOiAnL2Jhc2ljL2dyZWV0aW5nLmpzdCcgfSk7XG4gICAgICogY29tcGlsZWQoZGF0YSk7XG4gICAgICogLy8gPT4gRmluZCB0aGUgc291cmNlIG9mIFwiZ3JlZXRpbmcuanN0XCIgdW5kZXIgdGhlIFNvdXJjZXMgdGFiIG9yIFJlc291cmNlcyBwYW5lbCBvZiB0aGUgd2ViIGluc3BlY3Rvci5cbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgYHZhcmlhYmxlYCBvcHRpb24gdG8gZW5zdXJlIGEgd2l0aC1zdGF0ZW1lbnQgaXNuJ3QgdXNlZCBpbiB0aGUgY29tcGlsZWQgdGVtcGxhdGUuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnaGkgPCU9IGRhdGEudXNlciAlPiEnLCB7ICd2YXJpYWJsZSc6ICdkYXRhJyB9KTtcbiAgICAgKiBjb21waWxlZC5zb3VyY2U7XG4gICAgICogLy8gPT4gZnVuY3Rpb24oZGF0YSkge1xuICAgICAqIC8vICAgdmFyIF9fdCwgX19wID0gJyc7XG4gICAgICogLy8gICBfX3AgKz0gJ2hpICcgKyAoKF9fdCA9ICggZGF0YS51c2VyICkpID09IG51bGwgPyAnJyA6IF9fdCkgKyAnISc7XG4gICAgICogLy8gICByZXR1cm4gX19wO1xuICAgICAqIC8vIH1cbiAgICAgKlxuICAgICAqIC8vIFVzZSBjdXN0b20gdGVtcGxhdGUgZGVsaW1pdGVycy5cbiAgICAgKiBfLnRlbXBsYXRlU2V0dGluZ3MuaW50ZXJwb2xhdGUgPSAve3soW1xcc1xcU10rPyl9fS9nO1xuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJ2hlbGxvIHt7IHVzZXIgfX0hJyk7XG4gICAgICogY29tcGlsZWQoeyAndXNlcic6ICdtdXN0YWNoZScgfSk7XG4gICAgICogLy8gPT4gJ2hlbGxvIG11c3RhY2hlISdcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgYHNvdXJjZWAgcHJvcGVydHkgdG8gaW5saW5lIGNvbXBpbGVkIHRlbXBsYXRlcyBmb3IgbWVhbmluZ2Z1bFxuICAgICAqIC8vIGxpbmUgbnVtYmVycyBpbiBlcnJvciBtZXNzYWdlcyBhbmQgc3RhY2sgdHJhY2VzLlxuICAgICAqIGZzLndyaXRlRmlsZVN5bmMocGF0aC5qb2luKHByb2Nlc3MuY3dkKCksICdqc3QuanMnKSwgJ1xcXG4gICAgICogICB2YXIgSlNUID0ge1xcXG4gICAgICogICAgIFwibWFpblwiOiAnICsgXy50ZW1wbGF0ZShtYWluVGV4dCkuc291cmNlICsgJ1xcXG4gICAgICogICB9O1xcXG4gICAgICogJyk7XG4gICAgICovXG4gICAgZnVuY3Rpb24gdGVtcGxhdGUoc3RyaW5nLCBvcHRpb25zLCBndWFyZCkge1xuICAgICAgLy8gQmFzZWQgb24gSm9obiBSZXNpZydzIGB0bXBsYCBpbXBsZW1lbnRhdGlvblxuICAgICAgLy8gKGh0dHA6Ly9lam9obi5vcmcvYmxvZy9qYXZhc2NyaXB0LW1pY3JvLXRlbXBsYXRpbmcvKVxuICAgICAgLy8gYW5kIExhdXJhIERva3Rvcm92YSdzIGRvVC5qcyAoaHR0cHM6Ly9naXRodWIuY29tL29sYWRvL2RvVCkuXG4gICAgICB2YXIgc2V0dGluZ3MgPSBsb2Rhc2gudGVtcGxhdGVTZXR0aW5ncztcblxuICAgICAgaWYgKGd1YXJkICYmIGlzSXRlcmF0ZWVDYWxsKHN0cmluZywgb3B0aW9ucywgZ3VhcmQpKSB7XG4gICAgICAgIG9wdGlvbnMgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgb3B0aW9ucyA9IGFzc2lnbkluV2l0aCh7fSwgb3B0aW9ucywgc2V0dGluZ3MsIGN1c3RvbURlZmF1bHRzQXNzaWduSW4pO1xuXG4gICAgICB2YXIgaW1wb3J0cyA9IGFzc2lnbkluV2l0aCh7fSwgb3B0aW9ucy5pbXBvcnRzLCBzZXR0aW5ncy5pbXBvcnRzLCBjdXN0b21EZWZhdWx0c0Fzc2lnbkluKSxcbiAgICAgICAgICBpbXBvcnRzS2V5cyA9IGtleXMoaW1wb3J0cyksXG4gICAgICAgICAgaW1wb3J0c1ZhbHVlcyA9IGJhc2VWYWx1ZXMoaW1wb3J0cywgaW1wb3J0c0tleXMpO1xuXG4gICAgICB2YXIgaXNFc2NhcGluZyxcbiAgICAgICAgICBpc0V2YWx1YXRpbmcsXG4gICAgICAgICAgaW5kZXggPSAwLFxuICAgICAgICAgIGludGVycG9sYXRlID0gb3B0aW9ucy5pbnRlcnBvbGF0ZSB8fCByZU5vTWF0Y2gsXG4gICAgICAgICAgc291cmNlID0gXCJfX3AgKz0gJ1wiO1xuXG4gICAgICAvLyBDb21waWxlIHRoZSByZWdleHAgdG8gbWF0Y2ggZWFjaCBkZWxpbWl0ZXIuXG4gICAgICB2YXIgcmVEZWxpbWl0ZXJzID0gUmVnRXhwKFxuICAgICAgICAob3B0aW9ucy5lc2NhcGUgfHwgcmVOb01hdGNoKS5zb3VyY2UgKyAnfCcgK1xuICAgICAgICBpbnRlcnBvbGF0ZS5zb3VyY2UgKyAnfCcgK1xuICAgICAgICAoaW50ZXJwb2xhdGUgPT09IHJlSW50ZXJwb2xhdGUgPyByZUVzVGVtcGxhdGUgOiByZU5vTWF0Y2gpLnNvdXJjZSArICd8JyArXG4gICAgICAgIChvcHRpb25zLmV2YWx1YXRlIHx8IHJlTm9NYXRjaCkuc291cmNlICsgJ3wkJ1xuICAgICAgLCAnZycpO1xuXG4gICAgICAvLyBVc2UgYSBzb3VyY2VVUkwgZm9yIGVhc2llciBkZWJ1Z2dpbmcuXG4gICAgICAvLyBUaGUgc291cmNlVVJMIGdldHMgaW5qZWN0ZWQgaW50byB0aGUgc291cmNlIHRoYXQncyBldmFsLWVkLCBzbyBiZSBjYXJlZnVsXG4gICAgICAvLyB0byBub3JtYWxpemUgYWxsIGtpbmRzIG9mIHdoaXRlc3BhY2UsIHNvIGUuZy4gbmV3bGluZXMgKGFuZCB1bmljb2RlIHZlcnNpb25zIG9mIGl0KSBjYW4ndCBzbmVhayBpblxuICAgICAgLy8gYW5kIGVzY2FwZSB0aGUgY29tbWVudCwgdGh1cyBpbmplY3RpbmcgY29kZSB0aGF0IGdldHMgZXZhbGVkLlxuICAgICAgdmFyIHNvdXJjZVVSTCA9ICcvLyMgc291cmNlVVJMPScgK1xuICAgICAgICAoaGFzT3duUHJvcGVydHkuY2FsbChvcHRpb25zLCAnc291cmNlVVJMJylcbiAgICAgICAgICA/IChvcHRpb25zLnNvdXJjZVVSTCArICcnKS5yZXBsYWNlKC9cXHMvZywgJyAnKVxuICAgICAgICAgIDogKCdsb2Rhc2gudGVtcGxhdGVTb3VyY2VzWycgKyAoKyt0ZW1wbGF0ZUNvdW50ZXIpICsgJ10nKVxuICAgICAgICApICsgJ1xcbic7XG5cbiAgICAgIHN0cmluZy5yZXBsYWNlKHJlRGVsaW1pdGVycywgZnVuY3Rpb24obWF0Y2gsIGVzY2FwZVZhbHVlLCBpbnRlcnBvbGF0ZVZhbHVlLCBlc1RlbXBsYXRlVmFsdWUsIGV2YWx1YXRlVmFsdWUsIG9mZnNldCkge1xuICAgICAgICBpbnRlcnBvbGF0ZVZhbHVlIHx8IChpbnRlcnBvbGF0ZVZhbHVlID0gZXNUZW1wbGF0ZVZhbHVlKTtcblxuICAgICAgICAvLyBFc2NhcGUgY2hhcmFjdGVycyB0aGF0IGNhbid0IGJlIGluY2x1ZGVkIGluIHN0cmluZyBsaXRlcmFscy5cbiAgICAgICAgc291cmNlICs9IHN0cmluZy5zbGljZShpbmRleCwgb2Zmc2V0KS5yZXBsYWNlKHJlVW5lc2NhcGVkU3RyaW5nLCBlc2NhcGVTdHJpbmdDaGFyKTtcblxuICAgICAgICAvLyBSZXBsYWNlIGRlbGltaXRlcnMgd2l0aCBzbmlwcGV0cy5cbiAgICAgICAgaWYgKGVzY2FwZVZhbHVlKSB7XG4gICAgICAgICAgaXNFc2NhcGluZyA9IHRydWU7XG4gICAgICAgICAgc291cmNlICs9IFwiJyArXFxuX19lKFwiICsgZXNjYXBlVmFsdWUgKyBcIikgK1xcbidcIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXZhbHVhdGVWYWx1ZSkge1xuICAgICAgICAgIGlzRXZhbHVhdGluZyA9IHRydWU7XG4gICAgICAgICAgc291cmNlICs9IFwiJztcXG5cIiArIGV2YWx1YXRlVmFsdWUgKyBcIjtcXG5fX3AgKz0gJ1wiO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbnRlcnBvbGF0ZVZhbHVlKSB7XG4gICAgICAgICAgc291cmNlICs9IFwiJyArXFxuKChfX3QgPSAoXCIgKyBpbnRlcnBvbGF0ZVZhbHVlICsgXCIpKSA9PSBudWxsID8gJycgOiBfX3QpICtcXG4nXCI7XG4gICAgICAgIH1cbiAgICAgICAgaW5kZXggPSBvZmZzZXQgKyBtYXRjaC5sZW5ndGg7XG5cbiAgICAgICAgLy8gVGhlIEpTIGVuZ2luZSBlbWJlZGRlZCBpbiBBZG9iZSBwcm9kdWN0cyBuZWVkcyBgbWF0Y2hgIHJldHVybmVkIGluXG4gICAgICAgIC8vIG9yZGVyIHRvIHByb2R1Y2UgdGhlIGNvcnJlY3QgYG9mZnNldGAgdmFsdWUuXG4gICAgICAgIHJldHVybiBtYXRjaDtcbiAgICAgIH0pO1xuXG4gICAgICBzb3VyY2UgKz0gXCInO1xcblwiO1xuXG4gICAgICAvLyBJZiBgdmFyaWFibGVgIGlzIG5vdCBzcGVjaWZpZWQgd3JhcCBhIHdpdGgtc3RhdGVtZW50IGFyb3VuZCB0aGUgZ2VuZXJhdGVkXG4gICAgICAvLyBjb2RlIHRvIGFkZCB0aGUgZGF0YSBvYmplY3QgdG8gdGhlIHRvcCBvZiB0aGUgc2NvcGUgY2hhaW4uXG4gICAgICB2YXIgdmFyaWFibGUgPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKG9wdGlvbnMsICd2YXJpYWJsZScpICYmIG9wdGlvbnMudmFyaWFibGU7XG4gICAgICBpZiAoIXZhcmlhYmxlKSB7XG4gICAgICAgIHNvdXJjZSA9ICd3aXRoIChvYmopIHtcXG4nICsgc291cmNlICsgJ1xcbn1cXG4nO1xuICAgICAgfVxuICAgICAgLy8gVGhyb3cgYW4gZXJyb3IgaWYgYSBmb3JiaWRkZW4gY2hhcmFjdGVyIHdhcyBmb3VuZCBpbiBgdmFyaWFibGVgLCB0byBwcmV2ZW50XG4gICAgICAvLyBwb3RlbnRpYWwgY29tbWFuZCBpbmplY3Rpb24gYXR0YWNrcy5cbiAgICAgIGVsc2UgaWYgKHJlRm9yYmlkZGVuSWRlbnRpZmllckNoYXJzLnRlc3QodmFyaWFibGUpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihJTlZBTElEX1RFTVBMX1ZBUl9FUlJPUl9URVhUKTtcbiAgICAgIH1cblxuICAgICAgLy8gQ2xlYW51cCBjb2RlIGJ5IHN0cmlwcGluZyBlbXB0eSBzdHJpbmdzLlxuICAgICAgc291cmNlID0gKGlzRXZhbHVhdGluZyA/IHNvdXJjZS5yZXBsYWNlKHJlRW1wdHlTdHJpbmdMZWFkaW5nLCAnJykgOiBzb3VyY2UpXG4gICAgICAgIC5yZXBsYWNlKHJlRW1wdHlTdHJpbmdNaWRkbGUsICckMScpXG4gICAgICAgIC5yZXBsYWNlKHJlRW1wdHlTdHJpbmdUcmFpbGluZywgJyQxOycpO1xuXG4gICAgICAvLyBGcmFtZSBjb2RlIGFzIHRoZSBmdW5jdGlvbiBib2R5LlxuICAgICAgc291cmNlID0gJ2Z1bmN0aW9uKCcgKyAodmFyaWFibGUgfHwgJ29iaicpICsgJykge1xcbicgK1xuICAgICAgICAodmFyaWFibGVcbiAgICAgICAgICA/ICcnXG4gICAgICAgICAgOiAnb2JqIHx8IChvYmogPSB7fSk7XFxuJ1xuICAgICAgICApICtcbiAgICAgICAgXCJ2YXIgX190LCBfX3AgPSAnJ1wiICtcbiAgICAgICAgKGlzRXNjYXBpbmdcbiAgICAgICAgICAgPyAnLCBfX2UgPSBfLmVzY2FwZSdcbiAgICAgICAgICAgOiAnJ1xuICAgICAgICApICtcbiAgICAgICAgKGlzRXZhbHVhdGluZ1xuICAgICAgICAgID8gJywgX19qID0gQXJyYXkucHJvdG90eXBlLmpvaW47XFxuJyArXG4gICAgICAgICAgICBcImZ1bmN0aW9uIHByaW50KCkgeyBfX3AgKz0gX19qLmNhbGwoYXJndW1lbnRzLCAnJykgfVxcblwiXG4gICAgICAgICAgOiAnO1xcbidcbiAgICAgICAgKSArXG4gICAgICAgIHNvdXJjZSArXG4gICAgICAgICdyZXR1cm4gX19wXFxufSc7XG5cbiAgICAgIHZhciByZXN1bHQgPSBhdHRlbXB0KGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gRnVuY3Rpb24oaW1wb3J0c0tleXMsIHNvdXJjZVVSTCArICdyZXR1cm4gJyArIHNvdXJjZSlcbiAgICAgICAgICAuYXBwbHkodW5kZWZpbmVkLCBpbXBvcnRzVmFsdWVzKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBQcm92aWRlIHRoZSBjb21waWxlZCBmdW5jdGlvbidzIHNvdXJjZSBieSBpdHMgYHRvU3RyaW5nYCBtZXRob2Qgb3JcbiAgICAgIC8vIHRoZSBgc291cmNlYCBwcm9wZXJ0eSBhcyBhIGNvbnZlbmllbmNlIGZvciBpbmxpbmluZyBjb21waWxlZCB0ZW1wbGF0ZXMuXG4gICAgICByZXN1bHQuc291cmNlID0gc291cmNlO1xuICAgICAgaWYgKGlzRXJyb3IocmVzdWx0KSkge1xuICAgICAgICB0aHJvdyByZXN1bHQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgLCBhcyBhIHdob2xlLCB0byBsb3dlciBjYXNlIGp1c3QgbGlrZVxuICAgICAqIFtTdHJpbmcjdG9Mb3dlckNhc2VdKGh0dHBzOi8vbWRuLmlvL3RvTG93ZXJDYXNlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGxvd2VyIGNhc2VkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b0xvd2VyKCctLUZvby1CYXItLScpO1xuICAgICAqIC8vID0+ICctLWZvby1iYXItLSdcbiAgICAgKlxuICAgICAqIF8udG9Mb3dlcignZm9vQmFyJyk7XG4gICAgICogLy8gPT4gJ2Zvb2JhcidcbiAgICAgKlxuICAgICAqIF8udG9Mb3dlcignX19GT09fQkFSX18nKTtcbiAgICAgKiAvLyA9PiAnX19mb29fYmFyX18nXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9Mb3dlcih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRvU3RyaW5nKHZhbHVlKS50b0xvd2VyQ2FzZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgLCBhcyBhIHdob2xlLCB0byB1cHBlciBjYXNlIGp1c3QgbGlrZVxuICAgICAqIFtTdHJpbmcjdG9VcHBlckNhc2VdKGh0dHBzOi8vbWRuLmlvL3RvVXBwZXJDYXNlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHVwcGVyIGNhc2VkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b1VwcGVyKCctLWZvby1iYXItLScpO1xuICAgICAqIC8vID0+ICctLUZPTy1CQVItLSdcbiAgICAgKlxuICAgICAqIF8udG9VcHBlcignZm9vQmFyJyk7XG4gICAgICogLy8gPT4gJ0ZPT0JBUidcbiAgICAgKlxuICAgICAqIF8udG9VcHBlcignX19mb29fYmFyX18nKTtcbiAgICAgKiAvLyA9PiAnX19GT09fQkFSX18nXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9VcHBlcih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRvU3RyaW5nKHZhbHVlKS50b1VwcGVyQ2FzZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgbGVhZGluZyBhbmQgdHJhaWxpbmcgd2hpdGVzcGFjZSBvciBzcGVjaWZpZWQgY2hhcmFjdGVycyBmcm9tIGBzdHJpbmdgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIHRyaW0uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtjaGFycz13aGl0ZXNwYWNlXSBUaGUgY2hhcmFjdGVycyB0byB0cmltLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdHJpbW1lZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udHJpbSgnICBhYmMgICcpO1xuICAgICAqIC8vID0+ICdhYmMnXG4gICAgICpcbiAgICAgKiBfLnRyaW0oJy1fLWFiYy1fLScsICdfLScpO1xuICAgICAqIC8vID0+ICdhYmMnXG4gICAgICpcbiAgICAgKiBfLm1hcChbJyAgZm9vICAnLCAnICBiYXIgICddLCBfLnRyaW0pO1xuICAgICAqIC8vID0+IFsnZm9vJywgJ2JhciddXG4gICAgICovXG4gICAgZnVuY3Rpb24gdHJpbShzdHJpbmcsIGNoYXJzLCBndWFyZCkge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIGlmIChzdHJpbmcgJiYgKGd1YXJkIHx8IGNoYXJzID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgIHJldHVybiBiYXNlVHJpbShzdHJpbmcpO1xuICAgICAgfVxuICAgICAgaWYgKCFzdHJpbmcgfHwgIShjaGFycyA9IGJhc2VUb1N0cmluZyhjaGFycykpKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmc7XG4gICAgICB9XG4gICAgICB2YXIgc3RyU3ltYm9scyA9IHN0cmluZ1RvQXJyYXkoc3RyaW5nKSxcbiAgICAgICAgICBjaHJTeW1ib2xzID0gc3RyaW5nVG9BcnJheShjaGFycyksXG4gICAgICAgICAgc3RhcnQgPSBjaGFyc1N0YXJ0SW5kZXgoc3RyU3ltYm9scywgY2hyU3ltYm9scyksXG4gICAgICAgICAgZW5kID0gY2hhcnNFbmRJbmRleChzdHJTeW1ib2xzLCBjaHJTeW1ib2xzKSArIDE7XG5cbiAgICAgIHJldHVybiBjYXN0U2xpY2Uoc3RyU3ltYm9scywgc3RhcnQsIGVuZCkuam9pbignJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0cmFpbGluZyB3aGl0ZXNwYWNlIG9yIHNwZWNpZmllZCBjaGFyYWN0ZXJzIGZyb20gYHN0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gdHJpbS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPXdoaXRlc3BhY2VdIFRoZSBjaGFyYWN0ZXJzIHRvIHRyaW0uXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB0cmltbWVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50cmltRW5kKCcgIGFiYyAgJyk7XG4gICAgICogLy8gPT4gJyAgYWJjJ1xuICAgICAqXG4gICAgICogXy50cmltRW5kKCctXy1hYmMtXy0nLCAnXy0nKTtcbiAgICAgKiAvLyA9PiAnLV8tYWJjJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRyaW1FbmQoc3RyaW5nLCBjaGFycywgZ3VhcmQpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBpZiAoc3RyaW5nICYmIChndWFyZCB8fCBjaGFycyA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICByZXR1cm4gc3RyaW5nLnNsaWNlKDAsIHRyaW1tZWRFbmRJbmRleChzdHJpbmcpICsgMSk7XG4gICAgICB9XG4gICAgICBpZiAoIXN0cmluZyB8fCAhKGNoYXJzID0gYmFzZVRvU3RyaW5nKGNoYXJzKSkpIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZztcbiAgICAgIH1cbiAgICAgIHZhciBzdHJTeW1ib2xzID0gc3RyaW5nVG9BcnJheShzdHJpbmcpLFxuICAgICAgICAgIGVuZCA9IGNoYXJzRW5kSW5kZXgoc3RyU3ltYm9scywgc3RyaW5nVG9BcnJheShjaGFycykpICsgMTtcblxuICAgICAgcmV0dXJuIGNhc3RTbGljZShzdHJTeW1ib2xzLCAwLCBlbmQpLmpvaW4oJycpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgbGVhZGluZyB3aGl0ZXNwYWNlIG9yIHNwZWNpZmllZCBjaGFyYWN0ZXJzIGZyb20gYHN0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gdHJpbS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPXdoaXRlc3BhY2VdIFRoZSBjaGFyYWN0ZXJzIHRvIHRyaW0uXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB0cmltbWVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50cmltU3RhcnQoJyAgYWJjICAnKTtcbiAgICAgKiAvLyA9PiAnYWJjICAnXG4gICAgICpcbiAgICAgKiBfLnRyaW1TdGFydCgnLV8tYWJjLV8tJywgJ18tJyk7XG4gICAgICogLy8gPT4gJ2FiYy1fLSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0cmltU3RhcnQoc3RyaW5nLCBjaGFycywgZ3VhcmQpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBpZiAoc3RyaW5nICYmIChndWFyZCB8fCBjaGFycyA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2UocmVUcmltU3RhcnQsICcnKTtcbiAgICAgIH1cbiAgICAgIGlmICghc3RyaW5nIHx8ICEoY2hhcnMgPSBiYXNlVG9TdHJpbmcoY2hhcnMpKSkge1xuICAgICAgICByZXR1cm4gc3RyaW5nO1xuICAgICAgfVxuICAgICAgdmFyIHN0clN5bWJvbHMgPSBzdHJpbmdUb0FycmF5KHN0cmluZyksXG4gICAgICAgICAgc3RhcnQgPSBjaGFyc1N0YXJ0SW5kZXgoc3RyU3ltYm9scywgc3RyaW5nVG9BcnJheShjaGFycykpO1xuXG4gICAgICByZXR1cm4gY2FzdFNsaWNlKHN0clN5bWJvbHMsIHN0YXJ0KS5qb2luKCcnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUcnVuY2F0ZXMgYHN0cmluZ2AgaWYgaXQncyBsb25nZXIgdGhhbiB0aGUgZ2l2ZW4gbWF4aW11bSBzdHJpbmcgbGVuZ3RoLlxuICAgICAqIFRoZSBsYXN0IGNoYXJhY3RlcnMgb2YgdGhlIHRydW5jYXRlZCBzdHJpbmcgYXJlIHJlcGxhY2VkIHdpdGggdGhlIG9taXNzaW9uXG4gICAgICogc3RyaW5nIHdoaWNoIGRlZmF1bHRzIHRvIFwiLi4uXCIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gdHJ1bmNhdGUuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmxlbmd0aD0zMF0gVGhlIG1heGltdW0gc3RyaW5nIGxlbmd0aC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMub21pc3Npb249Jy4uLiddIFRoZSBzdHJpbmcgdG8gaW5kaWNhdGUgdGV4dCBpcyBvbWl0dGVkLlxuICAgICAqIEBwYXJhbSB7UmVnRXhwfHN0cmluZ30gW29wdGlvbnMuc2VwYXJhdG9yXSBUaGUgc2VwYXJhdG9yIHBhdHRlcm4gdG8gdHJ1bmNhdGUgdG8uXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdHJ1bmNhdGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50cnVuY2F0ZSgnaGktZGlkZGx5LWhvIHRoZXJlLCBuZWlnaGJvcmlubycpO1xuICAgICAqIC8vID0+ICdoaS1kaWRkbHktaG8gdGhlcmUsIG5laWdoYm8uLi4nXG4gICAgICpcbiAgICAgKiBfLnRydW5jYXRlKCdoaS1kaWRkbHktaG8gdGhlcmUsIG5laWdoYm9yaW5vJywge1xuICAgICAqICAgJ2xlbmd0aCc6IDI0LFxuICAgICAqICAgJ3NlcGFyYXRvcic6ICcgJ1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+ICdoaS1kaWRkbHktaG8gdGhlcmUsLi4uJ1xuICAgICAqXG4gICAgICogXy50cnVuY2F0ZSgnaGktZGlkZGx5LWhvIHRoZXJlLCBuZWlnaGJvcmlubycsIHtcbiAgICAgKiAgICdsZW5ndGgnOiAyNCxcbiAgICAgKiAgICdzZXBhcmF0b3InOiAvLD8gKy9cbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiAnaGktZGlkZGx5LWhvIHRoZXJlLi4uJ1xuICAgICAqXG4gICAgICogXy50cnVuY2F0ZSgnaGktZGlkZGx5LWhvIHRoZXJlLCBuZWlnaGJvcmlubycsIHtcbiAgICAgKiAgICdvbWlzc2lvbic6ICcgWy4uLl0nXG4gICAgICogfSk7XG4gICAgICogLy8gPT4gJ2hpLWRpZGRseS1obyB0aGVyZSwgbmVpZyBbLi4uXSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0cnVuY2F0ZShzdHJpbmcsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBERUZBVUxUX1RSVU5DX0xFTkdUSCxcbiAgICAgICAgICBvbWlzc2lvbiA9IERFRkFVTFRfVFJVTkNfT01JU1NJT047XG5cbiAgICAgIGlmIChpc09iamVjdChvcHRpb25zKSkge1xuICAgICAgICB2YXIgc2VwYXJhdG9yID0gJ3NlcGFyYXRvcicgaW4gb3B0aW9ucyA/IG9wdGlvbnMuc2VwYXJhdG9yIDogc2VwYXJhdG9yO1xuICAgICAgICBsZW5ndGggPSAnbGVuZ3RoJyBpbiBvcHRpb25zID8gdG9JbnRlZ2VyKG9wdGlvbnMubGVuZ3RoKSA6IGxlbmd0aDtcbiAgICAgICAgb21pc3Npb24gPSAnb21pc3Npb24nIGluIG9wdGlvbnMgPyBiYXNlVG9TdHJpbmcob3B0aW9ucy5vbWlzc2lvbikgOiBvbWlzc2lvbjtcbiAgICAgIH1cbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG5cbiAgICAgIHZhciBzdHJMZW5ndGggPSBzdHJpbmcubGVuZ3RoO1xuICAgICAgaWYgKGhhc1VuaWNvZGUoc3RyaW5nKSkge1xuICAgICAgICB2YXIgc3RyU3ltYm9scyA9IHN0cmluZ1RvQXJyYXkoc3RyaW5nKTtcbiAgICAgICAgc3RyTGVuZ3RoID0gc3RyU3ltYm9scy5sZW5ndGg7XG4gICAgICB9XG4gICAgICBpZiAobGVuZ3RoID49IHN0ckxlbmd0aCkge1xuICAgICAgICByZXR1cm4gc3RyaW5nO1xuICAgICAgfVxuICAgICAgdmFyIGVuZCA9IGxlbmd0aCAtIHN0cmluZ1NpemUob21pc3Npb24pO1xuICAgICAgaWYgKGVuZCA8IDEpIHtcbiAgICAgICAgcmV0dXJuIG9taXNzaW9uO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IHN0clN5bWJvbHNcbiAgICAgICAgPyBjYXN0U2xpY2Uoc3RyU3ltYm9scywgMCwgZW5kKS5qb2luKCcnKVxuICAgICAgICA6IHN0cmluZy5zbGljZSgwLCBlbmQpO1xuXG4gICAgICBpZiAoc2VwYXJhdG9yID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdCArIG9taXNzaW9uO1xuICAgICAgfVxuICAgICAgaWYgKHN0clN5bWJvbHMpIHtcbiAgICAgICAgZW5kICs9IChyZXN1bHQubGVuZ3RoIC0gZW5kKTtcbiAgICAgIH1cbiAgICAgIGlmIChpc1JlZ0V4cChzZXBhcmF0b3IpKSB7XG4gICAgICAgIGlmIChzdHJpbmcuc2xpY2UoZW5kKS5zZWFyY2goc2VwYXJhdG9yKSkge1xuICAgICAgICAgIHZhciBtYXRjaCxcbiAgICAgICAgICAgICAgc3Vic3RyaW5nID0gcmVzdWx0O1xuXG4gICAgICAgICAgaWYgKCFzZXBhcmF0b3IuZ2xvYmFsKSB7XG4gICAgICAgICAgICBzZXBhcmF0b3IgPSBSZWdFeHAoc2VwYXJhdG9yLnNvdXJjZSwgdG9TdHJpbmcocmVGbGFncy5leGVjKHNlcGFyYXRvcikpICsgJ2cnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2VwYXJhdG9yLmxhc3RJbmRleCA9IDA7XG4gICAgICAgICAgd2hpbGUgKChtYXRjaCA9IHNlcGFyYXRvci5leGVjKHN1YnN0cmluZykpKSB7XG4gICAgICAgICAgICB2YXIgbmV3RW5kID0gbWF0Y2guaW5kZXg7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5zbGljZSgwLCBuZXdFbmQgPT09IHVuZGVmaW5lZCA/IGVuZCA6IG5ld0VuZCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoc3RyaW5nLmluZGV4T2YoYmFzZVRvU3RyaW5nKHNlcGFyYXRvciksIGVuZCkgIT0gZW5kKSB7XG4gICAgICAgIHZhciBpbmRleCA9IHJlc3VsdC5sYXN0SW5kZXhPZihzZXBhcmF0b3IpO1xuICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5zbGljZSgwLCBpbmRleCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQgKyBvbWlzc2lvbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaW52ZXJzZSBvZiBgXy5lc2NhcGVgOyB0aGlzIG1ldGhvZCBjb252ZXJ0cyB0aGUgSFRNTCBlbnRpdGllc1xuICAgICAqIGAmYW1wO2AsIGAmbHQ7YCwgYCZndDtgLCBgJnF1b3Q7YCwgYW5kIGAmIzM5O2AgaW4gYHN0cmluZ2AgdG9cbiAgICAgKiB0aGVpciBjb3JyZXNwb25kaW5nIGNoYXJhY3RlcnMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogTm8gb3RoZXIgSFRNTCBlbnRpdGllcyBhcmUgdW5lc2NhcGVkLiBUbyB1bmVzY2FwZSBhZGRpdGlvbmFsXG4gICAgICogSFRNTCBlbnRpdGllcyB1c2UgYSB0aGlyZC1wYXJ0eSBsaWJyYXJ5IGxpa2UgW19oZV9dKGh0dHBzOi8vbXRocy5iZS9oZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC42LjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gdW5lc2NhcGUuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdW5lc2NhcGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51bmVzY2FwZSgnZnJlZCwgYmFybmV5LCAmYW1wOyBwZWJibGVzJyk7XG4gICAgICogLy8gPT4gJ2ZyZWQsIGJhcm5leSwgJiBwZWJibGVzJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuZXNjYXBlKHN0cmluZykge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIHJldHVybiAoc3RyaW5nICYmIHJlSGFzRXNjYXBlZEh0bWwudGVzdChzdHJpbmcpKVxuICAgICAgICA/IHN0cmluZy5yZXBsYWNlKHJlRXNjYXBlZEh0bWwsIHVuZXNjYXBlSHRtbENoYXIpXG4gICAgICAgIDogc3RyaW5nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgLCBhcyBzcGFjZSBzZXBhcmF0ZWQgd29yZHMsIHRvIHVwcGVyIGNhc2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB1cHBlciBjYXNlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udXBwZXJDYXNlKCctLWZvby1iYXInKTtcbiAgICAgKiAvLyA9PiAnRk9PIEJBUidcbiAgICAgKlxuICAgICAqIF8udXBwZXJDYXNlKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnRk9PIEJBUidcbiAgICAgKlxuICAgICAqIF8udXBwZXJDYXNlKCdfX2Zvb19iYXJfXycpO1xuICAgICAqIC8vID0+ICdGT08gQkFSJ1xuICAgICAqL1xuICAgIHZhciB1cHBlckNhc2UgPSBjcmVhdGVDb21wb3VuZGVyKGZ1bmN0aW9uKHJlc3VsdCwgd29yZCwgaW5kZXgpIHtcbiAgICAgIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyAnICcgOiAnJykgKyB3b3JkLnRvVXBwZXJDYXNlKCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0aGUgZmlyc3QgY2hhcmFjdGVyIG9mIGBzdHJpbmdgIHRvIHVwcGVyIGNhc2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnVwcGVyRmlyc3QoJ2ZyZWQnKTtcbiAgICAgKiAvLyA9PiAnRnJlZCdcbiAgICAgKlxuICAgICAqIF8udXBwZXJGaXJzdCgnRlJFRCcpO1xuICAgICAqIC8vID0+ICdGUkVEJ1xuICAgICAqL1xuICAgIHZhciB1cHBlckZpcnN0ID0gY3JlYXRlQ2FzZUZpcnN0KCd0b1VwcGVyQ2FzZScpO1xuXG4gICAgLyoqXG4gICAgICogU3BsaXRzIGBzdHJpbmdgIGludG8gYW4gYXJyYXkgb2YgaXRzIHdvcmRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtSZWdFeHB8c3RyaW5nfSBbcGF0dGVybl0gVGhlIHBhdHRlcm4gdG8gbWF0Y2ggd29yZHMuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHdvcmRzIG9mIGBzdHJpbmdgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLndvcmRzKCdmcmVkLCBiYXJuZXksICYgcGViYmxlcycpO1xuICAgICAqIC8vID0+IFsnZnJlZCcsICdiYXJuZXknLCAncGViYmxlcyddXG4gICAgICpcbiAgICAgKiBfLndvcmRzKCdmcmVkLCBiYXJuZXksICYgcGViYmxlcycsIC9bXiwgXSsvZyk7XG4gICAgICogLy8gPT4gWydmcmVkJywgJ2Jhcm5leScsICcmJywgJ3BlYmJsZXMnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdvcmRzKHN0cmluZywgcGF0dGVybiwgZ3VhcmQpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBwYXR0ZXJuID0gZ3VhcmQgPyB1bmRlZmluZWQgOiBwYXR0ZXJuO1xuXG4gICAgICBpZiAocGF0dGVybiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBoYXNVbmljb2RlV29yZChzdHJpbmcpID8gdW5pY29kZVdvcmRzKHN0cmluZykgOiBhc2NpaVdvcmRzKHN0cmluZyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gc3RyaW5nLm1hdGNoKHBhdHRlcm4pIHx8IFtdO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIEF0dGVtcHRzIHRvIGludm9rZSBgZnVuY2AsIHJldHVybmluZyBlaXRoZXIgdGhlIHJlc3VsdCBvciB0aGUgY2F1Z2h0IGVycm9yXG4gICAgICogb2JqZWN0LiBBbnkgYWRkaXRpb25hbCBhcmd1bWVudHMgYXJlIHByb3ZpZGVkIHRvIGBmdW5jYCB3aGVuIGl0J3MgaW52b2tlZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXR0ZW1wdC5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmdzXSBUaGUgYXJndW1lbnRzIHRvIGludm9rZSBgZnVuY2Agd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYGZ1bmNgIHJlc3VsdCBvciBlcnJvciBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIC8vIEF2b2lkIHRocm93aW5nIGVycm9ycyBmb3IgaW52YWxpZCBzZWxlY3RvcnMuXG4gICAgICogdmFyIGVsZW1lbnRzID0gXy5hdHRlbXB0KGZ1bmN0aW9uKHNlbGVjdG9yKSB7XG4gICAgICogICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XG4gICAgICogfSwgJz5fPicpO1xuICAgICAqXG4gICAgICogaWYgKF8uaXNFcnJvcihlbGVtZW50cykpIHtcbiAgICAgKiAgIGVsZW1lbnRzID0gW107XG4gICAgICogfVxuICAgICAqL1xuICAgIHZhciBhdHRlbXB0ID0gYmFzZVJlc3QoZnVuY3Rpb24oZnVuYywgYXJncykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGFwcGx5KGZ1bmMsIHVuZGVmaW5lZCwgYXJncyk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBpc0Vycm9yKGUpID8gZSA6IG5ldyBFcnJvcihlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEJpbmRzIG1ldGhvZHMgb2YgYW4gb2JqZWN0IHRvIHRoZSBvYmplY3QgaXRzZWxmLCBvdmVyd3JpdGluZyB0aGUgZXhpc3RpbmdcbiAgICAgKiBtZXRob2QuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgZG9lc24ndCBzZXQgdGhlIFwibGVuZ3RoXCIgcHJvcGVydHkgb2YgYm91bmQgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gYmluZCBhbmQgYXNzaWduIHRoZSBib3VuZCBtZXRob2RzIHRvLlxuICAgICAqIEBwYXJhbSB7Li4uKHN0cmluZ3xzdHJpbmdbXSl9IG1ldGhvZE5hbWVzIFRoZSBvYmplY3QgbWV0aG9kIG5hbWVzIHRvIGJpbmQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHZpZXcgPSB7XG4gICAgICogICAnbGFiZWwnOiAnZG9jcycsXG4gICAgICogICAnY2xpY2snOiBmdW5jdGlvbigpIHtcbiAgICAgKiAgICAgY29uc29sZS5sb2coJ2NsaWNrZWQgJyArIHRoaXMubGFiZWwpO1xuICAgICAqICAgfVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBfLmJpbmRBbGwodmlldywgWydjbGljayddKTtcbiAgICAgKiBqUXVlcnkoZWxlbWVudCkub24oJ2NsaWNrJywgdmlldy5jbGljayk7XG4gICAgICogLy8gPT4gTG9ncyAnY2xpY2tlZCBkb2NzJyB3aGVuIGNsaWNrZWQuXG4gICAgICovXG4gICAgdmFyIGJpbmRBbGwgPSBmbGF0UmVzdChmdW5jdGlvbihvYmplY3QsIG1ldGhvZE5hbWVzKSB7XG4gICAgICBhcnJheUVhY2gobWV0aG9kTmFtZXMsIGZ1bmN0aW9uKGtleSkge1xuICAgICAgICBrZXkgPSB0b0tleShrZXkpO1xuICAgICAgICBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIGJpbmQob2JqZWN0W2tleV0sIG9iamVjdCkpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaXRlcmF0ZXMgb3ZlciBgcGFpcnNgIGFuZCBpbnZva2VzIHRoZSBjb3JyZXNwb25kaW5nXG4gICAgICogZnVuY3Rpb24gb2YgdGhlIGZpcnN0IHByZWRpY2F0ZSB0byByZXR1cm4gdHJ1dGh5LiBUaGUgcHJlZGljYXRlLWZ1bmN0aW9uXG4gICAgICogcGFpcnMgYXJlIGludm9rZWQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgYW5kIGFyZ3VtZW50cyBvZiB0aGUgY3JlYXRlZFxuICAgICAqIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwYWlycyBUaGUgcHJlZGljYXRlLWZ1bmN0aW9uIHBhaXJzLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNvbXBvc2l0ZSBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGZ1bmMgPSBfLmNvbmQoW1xuICAgICAqICAgW18ubWF0Y2hlcyh7ICdhJzogMSB9KSwgICAgICAgICAgIF8uY29uc3RhbnQoJ21hdGNoZXMgQScpXSxcbiAgICAgKiAgIFtfLmNvbmZvcm1zKHsgJ2InOiBfLmlzTnVtYmVyIH0pLCBfLmNvbnN0YW50KCdtYXRjaGVzIEInKV0sXG4gICAgICogICBbXy5zdHViVHJ1ZSwgICAgICAgICAgICAgICAgICAgICAgXy5jb25zdGFudCgnbm8gbWF0Y2gnKV1cbiAgICAgKiBdKTtcbiAgICAgKlxuICAgICAqIGZ1bmMoeyAnYSc6IDEsICdiJzogMiB9KTtcbiAgICAgKiAvLyA9PiAnbWF0Y2hlcyBBJ1xuICAgICAqXG4gICAgICogZnVuYyh7ICdhJzogMCwgJ2InOiAxIH0pO1xuICAgICAqIC8vID0+ICdtYXRjaGVzIEInXG4gICAgICpcbiAgICAgKiBmdW5jKHsgJ2EnOiAnMScsICdiJzogJzInIH0pO1xuICAgICAqIC8vID0+ICdubyBtYXRjaCdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb25kKHBhaXJzKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gcGFpcnMgPT0gbnVsbCA/IDAgOiBwYWlycy5sZW5ndGgsXG4gICAgICAgICAgdG9JdGVyYXRlZSA9IGdldEl0ZXJhdGVlKCk7XG5cbiAgICAgIHBhaXJzID0gIWxlbmd0aCA/IFtdIDogYXJyYXlNYXAocGFpcnMsIGZ1bmN0aW9uKHBhaXIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBwYWlyWzFdICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFt0b0l0ZXJhdGVlKHBhaXJbMF0pLCBwYWlyWzFdXTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gYmFzZVJlc3QoZnVuY3Rpb24oYXJncykge1xuICAgICAgICB2YXIgaW5kZXggPSAtMTtcbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICB2YXIgcGFpciA9IHBhaXJzW2luZGV4XTtcbiAgICAgICAgICBpZiAoYXBwbHkocGFpclswXSwgdGhpcywgYXJncykpIHtcbiAgICAgICAgICAgIHJldHVybiBhcHBseShwYWlyWzFdLCB0aGlzLCBhcmdzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgdGhlIHByZWRpY2F0ZSBwcm9wZXJ0aWVzIG9mIGBzb3VyY2VgIHdpdGhcbiAgICAgKiB0aGUgY29ycmVzcG9uZGluZyBwcm9wZXJ0eSB2YWx1ZXMgb2YgYSBnaXZlbiBvYmplY3QsIHJldHVybmluZyBgdHJ1ZWAgaWZcbiAgICAgKiBhbGwgcHJlZGljYXRlcyByZXR1cm4gdHJ1dGh5LCBlbHNlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhlIGNyZWF0ZWQgZnVuY3Rpb24gaXMgZXF1aXZhbGVudCB0byBgXy5jb25mb3Jtc1RvYCB3aXRoXG4gICAgICogYHNvdXJjZWAgcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSBwcmVkaWNhdGVzIHRvIGNvbmZvcm0gdG8uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbXG4gICAgICogICB7ICdhJzogMiwgJ2InOiAxIH0sXG4gICAgICogICB7ICdhJzogMSwgJ2InOiAyIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5maWx0ZXIob2JqZWN0cywgXy5jb25mb3Jtcyh7ICdiJzogZnVuY3Rpb24obikgeyByZXR1cm4gbiA+IDE7IH0gfSkpO1xuICAgICAqIC8vID0+IFt7ICdhJzogMSwgJ2InOiAyIH1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29uZm9ybXMoc291cmNlKSB7XG4gICAgICByZXR1cm4gYmFzZUNvbmZvcm1zKGJhc2VDbG9uZShzb3VyY2UsIENMT05FX0RFRVBfRkxBRykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjQuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcmV0dXJuIGZyb20gdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjb25zdGFudCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBfLnRpbWVzKDIsIF8uY29uc3RhbnQoeyAnYSc6IDEgfSkpO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2cob2JqZWN0cyk7XG4gICAgICogLy8gPT4gW3sgJ2EnOiAxIH0sIHsgJ2EnOiAxIH1dXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3RzWzBdID09PSBvYmplY3RzWzFdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29uc3RhbnQodmFsdWUpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgYHZhbHVlYCB0byBkZXRlcm1pbmUgd2hldGhlciBhIGRlZmF1bHQgdmFsdWUgc2hvdWxkIGJlIHJldHVybmVkIGluXG4gICAgICogaXRzIHBsYWNlLiBUaGUgYGRlZmF1bHRWYWx1ZWAgaXMgcmV0dXJuZWQgaWYgYHZhbHVlYCBpcyBgTmFOYCwgYG51bGxgLFxuICAgICAqIG9yIGB1bmRlZmluZWRgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMTQuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHBhcmFtIHsqfSBkZWZhdWx0VmFsdWUgVGhlIGRlZmF1bHQgdmFsdWUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc29sdmVkIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlZmF1bHRUbygxLCAxMCk7XG4gICAgICogLy8gPT4gMVxuICAgICAqXG4gICAgICogXy5kZWZhdWx0VG8odW5kZWZpbmVkLCAxMCk7XG4gICAgICogLy8gPT4gMTBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkZWZhdWx0VG8odmFsdWUsIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgcmV0dXJuICh2YWx1ZSA9PSBudWxsIHx8IHZhbHVlICE9PSB2YWx1ZSkgPyBkZWZhdWx0VmFsdWUgOiB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSByZXN1bHQgb2YgaW52b2tpbmcgdGhlIGdpdmVuIGZ1bmN0aW9uc1xuICAgICAqIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIHRoZSBjcmVhdGVkIGZ1bmN0aW9uLCB3aGVyZSBlYWNoIHN1Y2Nlc3NpdmVcbiAgICAgKiBpbnZvY2F0aW9uIGlzIHN1cHBsaWVkIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIHByZXZpb3VzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0gey4uLihGdW5jdGlvbnxGdW5jdGlvbltdKX0gW2Z1bmNzXSBUaGUgZnVuY3Rpb25zIHRvIGludm9rZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjb21wb3NpdGUgZnVuY3Rpb24uXG4gICAgICogQHNlZSBfLmZsb3dSaWdodFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBzcXVhcmUobikge1xuICAgICAqICAgcmV0dXJuIG4gKiBuO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBhZGRTcXVhcmUgPSBfLmZsb3coW18uYWRkLCBzcXVhcmVdKTtcbiAgICAgKiBhZGRTcXVhcmUoMSwgMik7XG4gICAgICogLy8gPT4gOVxuICAgICAqL1xuICAgIHZhciBmbG93ID0gY3JlYXRlRmxvdygpO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mbG93YCBleGNlcHQgdGhhdCBpdCBjcmVhdGVzIGEgZnVuY3Rpb24gdGhhdFxuICAgICAqIGludm9rZXMgdGhlIGdpdmVuIGZ1bmN0aW9ucyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbZnVuY3NdIFRoZSBmdW5jdGlvbnMgdG8gaW52b2tlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNvbXBvc2l0ZSBmdW5jdGlvbi5cbiAgICAgKiBAc2VlIF8uZmxvd1xuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBzcXVhcmUobikge1xuICAgICAqICAgcmV0dXJuIG4gKiBuO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBhZGRTcXVhcmUgPSBfLmZsb3dSaWdodChbc3F1YXJlLCBfLmFkZF0pO1xuICAgICAqIGFkZFNxdWFyZSgxLCAyKTtcbiAgICAgKiAvLyA9PiA5XG4gICAgICovXG4gICAgdmFyIGZsb3dSaWdodCA9IGNyZWF0ZUZsb3codHJ1ZSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIHRoZSBmaXJzdCBhcmd1bWVudCBpdCByZWNlaXZlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBBbnkgdmFsdWUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgYHZhbHVlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhfLmlkZW50aXR5KG9iamVjdCkgPT09IG9iamVjdCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlkZW50aXR5KHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCB0aGUgYXJndW1lbnRzIG9mIHRoZSBjcmVhdGVkXG4gICAgICogZnVuY3Rpb24uIElmIGBmdW5jYCBpcyBhIHByb3BlcnR5IG5hbWUsIHRoZSBjcmVhdGVkIGZ1bmN0aW9uIHJldHVybnMgdGhlXG4gICAgICogcHJvcGVydHkgdmFsdWUgZm9yIGEgZ2l2ZW4gZWxlbWVudC4gSWYgYGZ1bmNgIGlzIGFuIGFycmF5IG9yIG9iamVjdCwgdGhlXG4gICAgICogY3JlYXRlZCBmdW5jdGlvbiByZXR1cm5zIGB0cnVlYCBmb3IgZWxlbWVudHMgdGhhdCBjb250YWluIHRoZSBlcXVpdmFsZW50XG4gICAgICogc291cmNlIHByb3BlcnRpZXMsIG90aGVyd2lzZSBpdCByZXR1cm5zIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Kn0gW2Z1bmM9Xy5pZGVudGl0eV0gVGhlIHZhbHVlIHRvIGNvbnZlcnQgdG8gYSBjYWxsYmFjay5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIGNhbGxiYWNrLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQwLCAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmlsdGVyKHVzZXJzLCBfLml0ZXJhdGVlKHsgJ3VzZXInOiAnYmFybmV5JywgJ2FjdGl2ZSc6IHRydWUgfSkpO1xuICAgICAqIC8vID0+IFt7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfV1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbHRlcih1c2VycywgXy5pdGVyYXRlZShbJ3VzZXInLCAnZnJlZCddKSk7XG4gICAgICogLy8gPT4gW3sgJ3VzZXInOiAnZnJlZCcsICdhZ2UnOiA0MCB9XVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5tYXAodXNlcnMsIF8uaXRlcmF0ZWUoJ3VzZXInKSk7XG4gICAgICogLy8gPT4gWydiYXJuZXknLCAnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBDcmVhdGUgY3VzdG9tIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICogXy5pdGVyYXRlZSA9IF8ud3JhcChfLml0ZXJhdGVlLCBmdW5jdGlvbihpdGVyYXRlZSwgZnVuYykge1xuICAgICAqICAgcmV0dXJuICFfLmlzUmVnRXhwKGZ1bmMpID8gaXRlcmF0ZWUoZnVuYykgOiBmdW5jdGlvbihzdHJpbmcpIHtcbiAgICAgKiAgICAgcmV0dXJuIGZ1bmMudGVzdChzdHJpbmcpO1xuICAgICAqICAgfTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIF8uZmlsdGVyKFsnYWJjJywgJ2RlZiddLCAvZWYvKTtcbiAgICAgKiAvLyA9PiBbJ2RlZiddXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXRlcmF0ZWUoZnVuYykge1xuICAgICAgcmV0dXJuIGJhc2VJdGVyYXRlZSh0eXBlb2YgZnVuYyA9PSAnZnVuY3Rpb24nID8gZnVuYyA6IGJhc2VDbG9uZShmdW5jLCBDTE9ORV9ERUVQX0ZMQUcpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBwZXJmb3JtcyBhIHBhcnRpYWwgZGVlcCBjb21wYXJpc29uIGJldHdlZW4gYSBnaXZlblxuICAgICAqIG9iamVjdCBhbmQgYHNvdXJjZWAsIHJldHVybmluZyBgdHJ1ZWAgaWYgdGhlIGdpdmVuIG9iamVjdCBoYXMgZXF1aXZhbGVudFxuICAgICAqIHByb3BlcnR5IHZhbHVlcywgZWxzZSBgZmFsc2VgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoZSBjcmVhdGVkIGZ1bmN0aW9uIGlzIGVxdWl2YWxlbnQgdG8gYF8uaXNNYXRjaGAgd2l0aCBgc291cmNlYFxuICAgICAqIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqXG4gICAgICogUGFydGlhbCBjb21wYXJpc29ucyB3aWxsIG1hdGNoIGVtcHR5IGFycmF5IGFuZCBlbXB0eSBvYmplY3QgYHNvdXJjZWBcbiAgICAgKiB2YWx1ZXMgYWdhaW5zdCBhbnkgYXJyYXkgb3Igb2JqZWN0IHZhbHVlLCByZXNwZWN0aXZlbHkuIFNlZSBgXy5pc0VxdWFsYFxuICAgICAqIGZvciBhIGxpc3Qgb2Ygc3VwcG9ydGVkIHZhbHVlIGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIE11bHRpcGxlIHZhbHVlcyBjYW4gYmUgY2hlY2tlZCBieSBjb21iaW5pbmcgc2V2ZXJhbCBtYXRjaGVyc1xuICAgICAqIHVzaW5nIGBfLm92ZXJTb21lYFxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgdmFsdWVzIHRvIG1hdGNoLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNwZWMgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW1xuICAgICAqICAgeyAnYSc6IDEsICdiJzogMiwgJ2MnOiAzIH0sXG4gICAgICogICB7ICdhJzogNCwgJ2InOiA1LCAnYyc6IDYgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbHRlcihvYmplY3RzLCBfLm1hdGNoZXMoeyAnYSc6IDQsICdjJzogNiB9KSk7XG4gICAgICogLy8gPT4gW3sgJ2EnOiA0LCAnYic6IDUsICdjJzogNiB9XVxuICAgICAqXG4gICAgICogLy8gQ2hlY2tpbmcgZm9yIHNldmVyYWwgcG9zc2libGUgdmFsdWVzXG4gICAgICogXy5maWx0ZXIob2JqZWN0cywgXy5vdmVyU29tZShbXy5tYXRjaGVzKHsgJ2EnOiAxIH0pLCBfLm1hdGNoZXMoeyAnYSc6IDQgfSldKSk7XG4gICAgICogLy8gPT4gW3sgJ2EnOiAxLCAnYic6IDIsICdjJzogMyB9LCB7ICdhJzogNCwgJ2InOiA1LCAnYyc6IDYgfV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXRjaGVzKHNvdXJjZSkge1xuICAgICAgcmV0dXJuIGJhc2VNYXRjaGVzKGJhc2VDbG9uZShzb3VyY2UsIENMT05FX0RFRVBfRkxBRykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHBlcmZvcm1zIGEgcGFydGlhbCBkZWVwIGNvbXBhcmlzb24gYmV0d2VlbiB0aGVcbiAgICAgKiB2YWx1ZSBhdCBgcGF0aGAgb2YgYSBnaXZlbiBvYmplY3QgdG8gYHNyY1ZhbHVlYCwgcmV0dXJuaW5nIGB0cnVlYCBpZiB0aGVcbiAgICAgKiBvYmplY3QgdmFsdWUgaXMgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFBhcnRpYWwgY29tcGFyaXNvbnMgd2lsbCBtYXRjaCBlbXB0eSBhcnJheSBhbmQgZW1wdHkgb2JqZWN0XG4gICAgICogYHNyY1ZhbHVlYCB2YWx1ZXMgYWdhaW5zdCBhbnkgYXJyYXkgb3Igb2JqZWN0IHZhbHVlLCByZXNwZWN0aXZlbHkuIFNlZVxuICAgICAqIGBfLmlzRXF1YWxgIGZvciBhIGxpc3Qgb2Ygc3VwcG9ydGVkIHZhbHVlIGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIE11bHRpcGxlIHZhbHVlcyBjYW4gYmUgY2hlY2tlZCBieSBjb21iaW5pbmcgc2V2ZXJhbCBtYXRjaGVyc1xuICAgICAqIHVzaW5nIGBfLm92ZXJTb21lYFxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMi4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gc3JjVmFsdWUgVGhlIHZhbHVlIHRvIG1hdGNoLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNwZWMgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW1xuICAgICAqICAgeyAnYSc6IDEsICdiJzogMiwgJ2MnOiAzIH0sXG4gICAgICogICB7ICdhJzogNCwgJ2InOiA1LCAnYyc6IDYgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbmQob2JqZWN0cywgXy5tYXRjaGVzUHJvcGVydHkoJ2EnLCA0KSk7XG4gICAgICogLy8gPT4geyAnYSc6IDQsICdiJzogNSwgJ2MnOiA2IH1cbiAgICAgKlxuICAgICAqIC8vIENoZWNraW5nIGZvciBzZXZlcmFsIHBvc3NpYmxlIHZhbHVlc1xuICAgICAqIF8uZmlsdGVyKG9iamVjdHMsIF8ub3ZlclNvbWUoW18ubWF0Y2hlc1Byb3BlcnR5KCdhJywgMSksIF8ubWF0Y2hlc1Byb3BlcnR5KCdhJywgNCldKSk7XG4gICAgICogLy8gPT4gW3sgJ2EnOiAxLCAnYic6IDIsICdjJzogMyB9LCB7ICdhJzogNCwgJ2InOiA1LCAnYyc6IDYgfV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXRjaGVzUHJvcGVydHkocGF0aCwgc3JjVmFsdWUpIHtcbiAgICAgIHJldHVybiBiYXNlTWF0Y2hlc1Byb3BlcnR5KHBhdGgsIGJhc2VDbG9uZShzcmNWYWx1ZSwgQ0xPTkVfREVFUF9GTEFHKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyB0aGUgbWV0aG9kIGF0IGBwYXRoYCBvZiBhIGdpdmVuIG9iamVjdC5cbiAgICAgKiBBbnkgYWRkaXRpb25hbCBhcmd1bWVudHMgYXJlIHByb3ZpZGVkIHRvIHRoZSBpbnZva2VkIG1ldGhvZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjcuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIG1ldGhvZCB0byBpbnZva2UuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbYXJnc10gVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgdGhlIG1ldGhvZCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGludm9rZXIgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW1xuICAgICAqICAgeyAnYSc6IHsgJ2InOiBfLmNvbnN0YW50KDIpIH0gfSxcbiAgICAgKiAgIHsgJ2EnOiB7ICdiJzogXy5jb25zdGFudCgxKSB9IH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5tYXAob2JqZWN0cywgXy5tZXRob2QoJ2EuYicpKTtcbiAgICAgKiAvLyA9PiBbMiwgMV1cbiAgICAgKlxuICAgICAqIF8ubWFwKG9iamVjdHMsIF8ubWV0aG9kKFsnYScsICdiJ10pKTtcbiAgICAgKiAvLyA9PiBbMiwgMV1cbiAgICAgKi9cbiAgICB2YXIgbWV0aG9kID0gYmFzZVJlc3QoZnVuY3Rpb24ocGF0aCwgYXJncykge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICByZXR1cm4gYmFzZUludm9rZShvYmplY3QsIHBhdGgsIGFyZ3MpO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBvcHBvc2l0ZSBvZiBgXy5tZXRob2RgOyB0aGlzIG1ldGhvZCBjcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzXG4gICAgICogdGhlIG1ldGhvZCBhdCBhIGdpdmVuIHBhdGggb2YgYG9iamVjdGAuIEFueSBhZGRpdGlvbmFsIGFyZ3VtZW50cyBhcmVcbiAgICAgKiBwcm92aWRlZCB0byB0aGUgaW52b2tlZCBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy43LjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmdzXSBUaGUgYXJndW1lbnRzIHRvIGludm9rZSB0aGUgbWV0aG9kIHdpdGguXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgaW52b2tlciBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gXy50aW1lcygzLCBfLmNvbnN0YW50KSxcbiAgICAgKiAgICAgb2JqZWN0ID0geyAnYSc6IGFycmF5LCAnYic6IGFycmF5LCAnYyc6IGFycmF5IH07XG4gICAgICpcbiAgICAgKiBfLm1hcChbJ2FbMl0nLCAnY1swXSddLCBfLm1ldGhvZE9mKG9iamVjdCkpO1xuICAgICAqIC8vID0+IFsyLCAwXVxuICAgICAqXG4gICAgICogXy5tYXAoW1snYScsICcyJ10sIFsnYycsICcwJ11dLCBfLm1ldGhvZE9mKG9iamVjdCkpO1xuICAgICAqIC8vID0+IFsyLCAwXVxuICAgICAqL1xuICAgIHZhciBtZXRob2RPZiA9IGJhc2VSZXN0KGZ1bmN0aW9uKG9iamVjdCwgYXJncykge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHBhdGgpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VJbnZva2Uob2JqZWN0LCBwYXRoLCBhcmdzKTtcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGFsbCBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgZnVuY3Rpb24gcHJvcGVydGllcyBvZiBhIHNvdXJjZVxuICAgICAqIG9iamVjdCB0byB0aGUgZGVzdGluYXRpb24gb2JqZWN0LiBJZiBgb2JqZWN0YCBpcyBhIGZ1bmN0aW9uLCB0aGVuIG1ldGhvZHNcbiAgICAgKiBhcmUgYWRkZWQgdG8gaXRzIHByb3RvdHlwZSBhcyB3ZWxsLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVzZSBgXy5ydW5JbkNvbnRleHRgIHRvIGNyZWF0ZSBhIHByaXN0aW5lIGBsb2Rhc2hgIGZ1bmN0aW9uIHRvXG4gICAgICogYXZvaWQgY29uZmxpY3RzIGNhdXNlZCBieSBtb2RpZnlpbmcgdGhlIG9yaWdpbmFsLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufE9iamVjdH0gW29iamVjdD1sb2Rhc2hdIFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIGZ1bmN0aW9ucyB0byBhZGQuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGFpbj10cnVlXSBTcGVjaWZ5IHdoZXRoZXIgbWl4aW5zIGFyZSBjaGFpbmFibGUuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufE9iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gdm93ZWxzKHN0cmluZykge1xuICAgICAqICAgcmV0dXJuIF8uZmlsdGVyKHN0cmluZywgZnVuY3Rpb24odikge1xuICAgICAqICAgICByZXR1cm4gL1thZWlvdV0vaS50ZXN0KHYpO1xuICAgICAqICAgfSk7XG4gICAgICogfVxuICAgICAqXG4gICAgICogXy5taXhpbih7ICd2b3dlbHMnOiB2b3dlbHMgfSk7XG4gICAgICogXy52b3dlbHMoJ2ZyZWQnKTtcbiAgICAgKiAvLyA9PiBbJ2UnXVxuICAgICAqXG4gICAgICogXygnZnJlZCcpLnZvd2VscygpLnZhbHVlKCk7XG4gICAgICogLy8gPT4gWydlJ11cbiAgICAgKlxuICAgICAqIF8ubWl4aW4oeyAndm93ZWxzJzogdm93ZWxzIH0sIHsgJ2NoYWluJzogZmFsc2UgfSk7XG4gICAgICogXygnZnJlZCcpLnZvd2VscygpO1xuICAgICAqIC8vID0+IFsnZSddXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWl4aW4ob2JqZWN0LCBzb3VyY2UsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBwcm9wcyA9IGtleXMoc291cmNlKSxcbiAgICAgICAgICBtZXRob2ROYW1lcyA9IGJhc2VGdW5jdGlvbnMoc291cmNlLCBwcm9wcyk7XG5cbiAgICAgIGlmIChvcHRpb25zID09IG51bGwgJiZcbiAgICAgICAgICAhKGlzT2JqZWN0KHNvdXJjZSkgJiYgKG1ldGhvZE5hbWVzLmxlbmd0aCB8fCAhcHJvcHMubGVuZ3RoKSkpIHtcbiAgICAgICAgb3B0aW9ucyA9IHNvdXJjZTtcbiAgICAgICAgc291cmNlID0gb2JqZWN0O1xuICAgICAgICBvYmplY3QgPSB0aGlzO1xuICAgICAgICBtZXRob2ROYW1lcyA9IGJhc2VGdW5jdGlvbnMoc291cmNlLCBrZXlzKHNvdXJjZSkpO1xuICAgICAgfVxuICAgICAgdmFyIGNoYWluID0gIShpc09iamVjdChvcHRpb25zKSAmJiAnY2hhaW4nIGluIG9wdGlvbnMpIHx8ICEhb3B0aW9ucy5jaGFpbixcbiAgICAgICAgICBpc0Z1bmMgPSBpc0Z1bmN0aW9uKG9iamVjdCk7XG5cbiAgICAgIGFycmF5RWFjaChtZXRob2ROYW1lcywgZnVuY3Rpb24obWV0aG9kTmFtZSkge1xuICAgICAgICB2YXIgZnVuYyA9IHNvdXJjZVttZXRob2ROYW1lXTtcbiAgICAgICAgb2JqZWN0W21ldGhvZE5hbWVdID0gZnVuYztcbiAgICAgICAgaWYgKGlzRnVuYykge1xuICAgICAgICAgIG9iamVjdC5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBjaGFpbkFsbCA9IHRoaXMuX19jaGFpbl9fO1xuICAgICAgICAgICAgaWYgKGNoYWluIHx8IGNoYWluQWxsKSB7XG4gICAgICAgICAgICAgIHZhciByZXN1bHQgPSBvYmplY3QodGhpcy5fX3dyYXBwZWRfXyksXG4gICAgICAgICAgICAgICAgICBhY3Rpb25zID0gcmVzdWx0Ll9fYWN0aW9uc19fID0gY29weUFycmF5KHRoaXMuX19hY3Rpb25zX18pO1xuXG4gICAgICAgICAgICAgIGFjdGlvbnMucHVzaCh7ICdmdW5jJzogZnVuYywgJ2FyZ3MnOiBhcmd1bWVudHMsICd0aGlzQXJnJzogb2JqZWN0IH0pO1xuICAgICAgICAgICAgICByZXN1bHQuX19jaGFpbl9fID0gY2hhaW5BbGw7XG4gICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZnVuYy5hcHBseShvYmplY3QsIGFycmF5UHVzaChbdGhpcy52YWx1ZSgpXSwgYXJndW1lbnRzKSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV2ZXJ0cyB0aGUgYF9gIHZhcmlhYmxlIHRvIGl0cyBwcmV2aW91cyB2YWx1ZSBhbmQgcmV0dXJucyBhIHJlZmVyZW5jZSB0b1xuICAgICAqIHRoZSBgbG9kYXNoYCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBgbG9kYXNoYCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGxvZGFzaCA9IF8ubm9Db25mbGljdCgpO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIG5vQ29uZmxpY3QoKSB7XG4gICAgICBpZiAocm9vdC5fID09PSB0aGlzKSB7XG4gICAgICAgIHJvb3QuXyA9IG9sZERhc2g7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIGB1bmRlZmluZWRgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50aW1lcygyLCBfLm5vb3ApO1xuICAgICAqIC8vID0+IFt1bmRlZmluZWQsIHVuZGVmaW5lZF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBub29wKCkge1xuICAgICAgLy8gTm8gb3BlcmF0aW9uIHBlcmZvcm1lZC5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBnZXRzIHRoZSBhcmd1bWVudCBhdCBpbmRleCBgbmAuIElmIGBuYCBpcyBuZWdhdGl2ZSxcbiAgICAgKiB0aGUgbnRoIGFyZ3VtZW50IGZyb20gdGhlIGVuZCBpcyByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTBdIFRoZSBpbmRleCBvZiB0aGUgYXJndW1lbnQgdG8gcmV0dXJuLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHBhc3MtdGhydSBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGZ1bmMgPSBfLm50aEFyZygxKTtcbiAgICAgKiBmdW5jKCdhJywgJ2InLCAnYycsICdkJyk7XG4gICAgICogLy8gPT4gJ2InXG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8ubnRoQXJnKC0yKTtcbiAgICAgKiBmdW5jKCdhJywgJ2InLCAnYycsICdkJyk7XG4gICAgICogLy8gPT4gJ2MnXG4gICAgICovXG4gICAgZnVuY3Rpb24gbnRoQXJnKG4pIHtcbiAgICAgIG4gPSB0b0ludGVnZXIobik7XG4gICAgICByZXR1cm4gYmFzZVJlc3QoZnVuY3Rpb24oYXJncykge1xuICAgICAgICByZXR1cm4gYmFzZU50aChhcmdzLCBuKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGl0ZXJhdGVlc2Agd2l0aCB0aGUgYXJndW1lbnRzIGl0IHJlY2VpdmVzXG4gICAgICogYW5kIHJldHVybnMgdGhlaXIgcmVzdWx0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsuLi4oRnVuY3Rpb258RnVuY3Rpb25bXSl9IFtpdGVyYXRlZXM9W18uaWRlbnRpdHldXVxuICAgICAqICBUaGUgaXRlcmF0ZWVzIHRvIGludm9rZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGZ1bmMgPSBfLm92ZXIoW01hdGgubWF4LCBNYXRoLm1pbl0pO1xuICAgICAqXG4gICAgICogZnVuYygxLCAyLCAzLCA0KTtcbiAgICAgKiAvLyA9PiBbNCwgMV1cbiAgICAgKi9cbiAgICB2YXIgb3ZlciA9IGNyZWF0ZU92ZXIoYXJyYXlNYXApO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgY2hlY2tzIGlmICoqYWxsKiogb2YgdGhlIGBwcmVkaWNhdGVzYCByZXR1cm5cbiAgICAgKiB0cnV0aHkgd2hlbiBpbnZva2VkIHdpdGggdGhlIGFyZ3VtZW50cyBpdCByZWNlaXZlcy5cbiAgICAgKlxuICAgICAqIEZvbGxvd2luZyBzaG9ydGhhbmRzIGFyZSBwb3NzaWJsZSBmb3IgcHJvdmlkaW5nIHByZWRpY2F0ZXMuXG4gICAgICogUGFzcyBhbiBgT2JqZWN0YCBhbmQgaXQgd2lsbCBiZSB1c2VkIGFzIGFuIHBhcmFtZXRlciBmb3IgYF8ubWF0Y2hlc2AgdG8gY3JlYXRlIHRoZSBwcmVkaWNhdGUuXG4gICAgICogUGFzcyBhbiBgQXJyYXlgIG9mIHBhcmFtZXRlcnMgZm9yIGBfLm1hdGNoZXNQcm9wZXJ0eWAgYW5kIHRoZSBwcmVkaWNhdGUgd2lsbCBiZSBjcmVhdGVkIHVzaW5nIHRoZW0uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbcHJlZGljYXRlcz1bXy5pZGVudGl0eV1dXG4gICAgICogIFRoZSBwcmVkaWNhdGVzIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8ub3ZlckV2ZXJ5KFtCb29sZWFuLCBpc0Zpbml0ZV0pO1xuICAgICAqXG4gICAgICogZnVuYygnMScpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIGZ1bmMobnVsbCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIGZ1bmMoTmFOKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBvdmVyRXZlcnkgPSBjcmVhdGVPdmVyKGFycmF5RXZlcnkpO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgY2hlY2tzIGlmICoqYW55Kiogb2YgdGhlIGBwcmVkaWNhdGVzYCByZXR1cm5cbiAgICAgKiB0cnV0aHkgd2hlbiBpbnZva2VkIHdpdGggdGhlIGFyZ3VtZW50cyBpdCByZWNlaXZlcy5cbiAgICAgKlxuICAgICAqIEZvbGxvd2luZyBzaG9ydGhhbmRzIGFyZSBwb3NzaWJsZSBmb3IgcHJvdmlkaW5nIHByZWRpY2F0ZXMuXG4gICAgICogUGFzcyBhbiBgT2JqZWN0YCBhbmQgaXQgd2lsbCBiZSB1c2VkIGFzIGFuIHBhcmFtZXRlciBmb3IgYF8ubWF0Y2hlc2AgdG8gY3JlYXRlIHRoZSBwcmVkaWNhdGUuXG4gICAgICogUGFzcyBhbiBgQXJyYXlgIG9mIHBhcmFtZXRlcnMgZm9yIGBfLm1hdGNoZXNQcm9wZXJ0eWAgYW5kIHRoZSBwcmVkaWNhdGUgd2lsbCBiZSBjcmVhdGVkIHVzaW5nIHRoZW0uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbcHJlZGljYXRlcz1bXy5pZGVudGl0eV1dXG4gICAgICogIFRoZSBwcmVkaWNhdGVzIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8ub3ZlclNvbWUoW0Jvb2xlYW4sIGlzRmluaXRlXSk7XG4gICAgICpcbiAgICAgKiBmdW5jKCcxJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogZnVuYyhudWxsKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBmdW5jKE5hTik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIHZhciBtYXRjaGVzRnVuYyA9IF8ub3ZlclNvbWUoW3sgJ2EnOiAxIH0sIHsgJ2EnOiAyIH1dKVxuICAgICAqIHZhciBtYXRjaGVzUHJvcGVydHlGdW5jID0gXy5vdmVyU29tZShbWydhJywgMV0sIFsnYScsIDJdXSlcbiAgICAgKi9cbiAgICB2YXIgb3ZlclNvbWUgPSBjcmVhdGVPdmVyKGFycmF5U29tZSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSB2YWx1ZSBhdCBgcGF0aGAgb2YgYSBnaXZlbiBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi40LjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWNjZXNzb3IgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW1xuICAgICAqICAgeyAnYSc6IHsgJ2InOiAyIH0gfSxcbiAgICAgKiAgIHsgJ2EnOiB7ICdiJzogMSB9IH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5tYXAob2JqZWN0cywgXy5wcm9wZXJ0eSgnYS5iJykpO1xuICAgICAqIC8vID0+IFsyLCAxXVxuICAgICAqXG4gICAgICogXy5tYXAoXy5zb3J0Qnkob2JqZWN0cywgXy5wcm9wZXJ0eShbJ2EnLCAnYiddKSksICdhLmInKTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwcm9wZXJ0eShwYXRoKSB7XG4gICAgICByZXR1cm4gaXNLZXkocGF0aCkgPyBiYXNlUHJvcGVydHkodG9LZXkocGF0aCkpIDogYmFzZVByb3BlcnR5RGVlcChwYXRoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8ucHJvcGVydHlgOyB0aGlzIG1ldGhvZCBjcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zXG4gICAgICogdGhlIHZhbHVlIGF0IGEgZ2l2ZW4gcGF0aCBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFjY2Vzc29yIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMCwgMSwgMl0sXG4gICAgICogICAgIG9iamVjdCA9IHsgJ2EnOiBhcnJheSwgJ2InOiBhcnJheSwgJ2MnOiBhcnJheSB9O1xuICAgICAqXG4gICAgICogXy5tYXAoWydhWzJdJywgJ2NbMF0nXSwgXy5wcm9wZXJ0eU9mKG9iamVjdCkpO1xuICAgICAqIC8vID0+IFsyLCAwXVxuICAgICAqXG4gICAgICogXy5tYXAoW1snYScsICcyJ10sIFsnYycsICcwJ11dLCBfLnByb3BlcnR5T2Yob2JqZWN0KSk7XG4gICAgICogLy8gPT4gWzIsIDBdXG4gICAgICovXG4gICAgZnVuY3Rpb24gcHJvcGVydHlPZihvYmplY3QpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihwYXRoKSB7XG4gICAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IGJhc2VHZXQob2JqZWN0LCBwYXRoKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBudW1iZXJzIChwb3NpdGl2ZSBhbmQvb3IgbmVnYXRpdmUpIHByb2dyZXNzaW5nIGZyb21cbiAgICAgKiBgc3RhcnRgIHVwIHRvLCBidXQgbm90IGluY2x1ZGluZywgYGVuZGAuIEEgc3RlcCBvZiBgLTFgIGlzIHVzZWQgaWYgYSBuZWdhdGl2ZVxuICAgICAqIGBzdGFydGAgaXMgc3BlY2lmaWVkIHdpdGhvdXQgYW4gYGVuZGAgb3IgYHN0ZXBgLiBJZiBgZW5kYCBpcyBub3Qgc3BlY2lmaWVkLFxuICAgICAqIGl0J3Mgc2V0IHRvIGBzdGFydGAgd2l0aCBgc3RhcnRgIHRoZW4gc2V0IHRvIGAwYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBKYXZhU2NyaXB0IGZvbGxvd3MgdGhlIElFRUUtNzU0IHN0YW5kYXJkIGZvciByZXNvbHZpbmdcbiAgICAgKiBmbG9hdGluZy1wb2ludCB2YWx1ZXMgd2hpY2ggY2FuIHByb2R1Y2UgdW5leHBlY3RlZCByZXN1bHRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBUaGUgZW5kIG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0ZXA9MV0gVGhlIHZhbHVlIHRvIGluY3JlbWVudCBvciBkZWNyZW1lbnQgYnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSByYW5nZSBvZiBudW1iZXJzLlxuICAgICAqIEBzZWUgXy5pblJhbmdlLCBfLnJhbmdlUmlnaHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5yYW5nZSg0KTtcbiAgICAgKiAvLyA9PiBbMCwgMSwgMiwgM11cbiAgICAgKlxuICAgICAqIF8ucmFuZ2UoLTQpO1xuICAgICAqIC8vID0+IFswLCAtMSwgLTIsIC0zXVxuICAgICAqXG4gICAgICogXy5yYW5nZSgxLCA1KTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgMywgNF1cbiAgICAgKlxuICAgICAqIF8ucmFuZ2UoMCwgMjAsIDUpO1xuICAgICAqIC8vID0+IFswLCA1LCAxMCwgMTVdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlKDAsIC00LCAtMSk7XG4gICAgICogLy8gPT4gWzAsIC0xLCAtMiwgLTNdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlKDEsIDQsIDApO1xuICAgICAqIC8vID0+IFsxLCAxLCAxXVxuICAgICAqXG4gICAgICogXy5yYW5nZSgwKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqL1xuICAgIHZhciByYW5nZSA9IGNyZWF0ZVJhbmdlKCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnJhbmdlYCBleGNlcHQgdGhhdCBpdCBwb3B1bGF0ZXMgdmFsdWVzIGluXG4gICAgICogZGVzY2VuZGluZyBvcmRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgVGhlIGVuZCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGVwPTFdIFRoZSB2YWx1ZSB0byBpbmNyZW1lbnQgb3IgZGVjcmVtZW50IGJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcmFuZ2Ugb2YgbnVtYmVycy5cbiAgICAgKiBAc2VlIF8uaW5SYW5nZSwgXy5yYW5nZVxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoNCk7XG4gICAgICogLy8gPT4gWzMsIDIsIDEsIDBdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoLTQpO1xuICAgICAqIC8vID0+IFstMywgLTIsIC0xLCAwXVxuICAgICAqXG4gICAgICogXy5yYW5nZVJpZ2h0KDEsIDUpO1xuICAgICAqIC8vID0+IFs0LCAzLCAyLCAxXVxuICAgICAqXG4gICAgICogXy5yYW5nZVJpZ2h0KDAsIDIwLCA1KTtcbiAgICAgKiAvLyA9PiBbMTUsIDEwLCA1LCAwXVxuICAgICAqXG4gICAgICogXy5yYW5nZVJpZ2h0KDAsIC00LCAtMSk7XG4gICAgICogLy8gPT4gWy0zLCAtMiwgLTEsIDBdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoMSwgNCwgMCk7XG4gICAgICogLy8gPT4gWzEsIDEsIDFdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoMCk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKi9cbiAgICB2YXIgcmFuZ2VSaWdodCA9IGNyZWF0ZVJhbmdlKHRydWUpO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBlbXB0eSBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjEzLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGVtcHR5IGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXlzID0gXy50aW1lcygyLCBfLnN0dWJBcnJheSk7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheXMpO1xuICAgICAqIC8vID0+IFtbXSwgW11dXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheXNbMF0gPT09IGFycmF5c1sxXSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdHViQXJyYXkoKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMTMuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50aW1lcygyLCBfLnN0dWJGYWxzZSk7XG4gICAgICogLy8gPT4gW2ZhbHNlLCBmYWxzZV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdHViRmFsc2UoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBlbXB0eSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xMy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgZW1wdHkgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IF8udGltZXMoMiwgXy5zdHViT2JqZWN0KTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdHMpO1xuICAgICAqIC8vID0+IFt7fSwge31dXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3RzWzBdID09PSBvYmplY3RzWzFdKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0dWJPYmplY3QoKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBhbiBlbXB0eSBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xMy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBlbXB0eSBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udGltZXMoMiwgXy5zdHViU3RyaW5nKTtcbiAgICAgKiAvLyA9PiBbJycsICcnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0dWJTdHJpbmcoKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBgdHJ1ZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xMy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udGltZXMoMiwgXy5zdHViVHJ1ZSk7XG4gICAgICogLy8gPT4gW3RydWUsIHRydWVdXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3R1YlRydWUoKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbnZva2VzIHRoZSBpdGVyYXRlZSBgbmAgdGltZXMsIHJldHVybmluZyBhbiBhcnJheSBvZiB0aGUgcmVzdWx0cyBvZlxuICAgICAqIGVhY2ggaW52b2NhdGlvbi4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ7IChpbmRleCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgdGltZXMgdG8gaW52b2tlIGBpdGVyYXRlZWAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiByZXN1bHRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRpbWVzKDMsIFN0cmluZyk7XG4gICAgICogLy8gPT4gWycwJywgJzEnLCAnMiddXG4gICAgICpcbiAgICAgKiAgXy50aW1lcyg0LCBfLmNvbnN0YW50KDApKTtcbiAgICAgKiAvLyA9PiBbMCwgMCwgMCwgMF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0aW1lcyhuLCBpdGVyYXRlZSkge1xuICAgICAgbiA9IHRvSW50ZWdlcihuKTtcbiAgICAgIGlmIChuIDwgMSB8fCBuID4gTUFYX1NBRkVfSU5URUdFUikge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSBNQVhfQVJSQVlfTEVOR1RILFxuICAgICAgICAgIGxlbmd0aCA9IG5hdGl2ZU1pbihuLCBNQVhfQVJSQVlfTEVOR1RIKTtcblxuICAgICAgaXRlcmF0ZWUgPSBnZXRJdGVyYXRlZShpdGVyYXRlZSk7XG4gICAgICBuIC09IE1BWF9BUlJBWV9MRU5HVEg7XG5cbiAgICAgIHZhciByZXN1bHQgPSBiYXNlVGltZXMobGVuZ3RoLCBpdGVyYXRlZSk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IG4pIHtcbiAgICAgICAgaXRlcmF0ZWUoaW5kZXgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgcHJvcGVydHkgcGF0aCBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvUGF0aCgnYS5iLmMnKTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYicsICdjJ11cbiAgICAgKlxuICAgICAqIF8udG9QYXRoKCdhWzBdLmIuYycpO1xuICAgICAqIC8vID0+IFsnYScsICcwJywgJ2InLCAnYyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9QYXRoKHZhbHVlKSB7XG4gICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGFycmF5TWFwKHZhbHVlLCB0b0tleSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXNTeW1ib2wodmFsdWUpID8gW3ZhbHVlXSA6IGNvcHlBcnJheShzdHJpbmdUb1BhdGgodG9TdHJpbmcodmFsdWUpKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIGEgdW5pcXVlIElELiBJZiBgcHJlZml4YCBpcyBnaXZlbiwgdGhlIElEIGlzIGFwcGVuZGVkIHRvIGl0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3ByZWZpeD0nJ10gVGhlIHZhbHVlIHRvIHByZWZpeCB0aGUgSUQgd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB1bmlxdWUgSUQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udW5pcXVlSWQoJ2NvbnRhY3RfJyk7XG4gICAgICogLy8gPT4gJ2NvbnRhY3RfMTA0J1xuICAgICAqXG4gICAgICogXy51bmlxdWVJZCgpO1xuICAgICAqIC8vID0+ICcxMDUnXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5pcXVlSWQocHJlZml4KSB7XG4gICAgICB2YXIgaWQgPSArK2lkQ291bnRlcjtcbiAgICAgIHJldHVybiB0b1N0cmluZyhwcmVmaXgpICsgaWQ7XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQWRkcyB0d28gbnVtYmVycy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjQuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGF1Z2VuZCBUaGUgZmlyc3QgbnVtYmVyIGluIGFuIGFkZGl0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhZGRlbmQgVGhlIHNlY29uZCBudW1iZXIgaW4gYW4gYWRkaXRpb24uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgdG90YWwuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uYWRkKDYsIDQpO1xuICAgICAqIC8vID0+IDEwXG4gICAgICovXG4gICAgdmFyIGFkZCA9IGNyZWF0ZU1hdGhPcGVyYXRpb24oZnVuY3Rpb24oYXVnZW5kLCBhZGRlbmQpIHtcbiAgICAgIHJldHVybiBhdWdlbmQgKyBhZGRlbmQ7XG4gICAgfSwgMCk7XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyBgbnVtYmVyYCByb3VuZGVkIHVwIHRvIGBwcmVjaXNpb25gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMTAuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIHJvdW5kIHVwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcHJlY2lzaW9uPTBdIFRoZSBwcmVjaXNpb24gdG8gcm91bmQgdXAgdG8uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcm91bmRlZCB1cCBudW1iZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY2VpbCg0LjAwNik7XG4gICAgICogLy8gPT4gNVxuICAgICAqXG4gICAgICogXy5jZWlsKDYuMDA0LCAyKTtcbiAgICAgKiAvLyA9PiA2LjAxXG4gICAgICpcbiAgICAgKiBfLmNlaWwoNjA0MCwgLTIpO1xuICAgICAqIC8vID0+IDYxMDBcbiAgICAgKi9cbiAgICB2YXIgY2VpbCA9IGNyZWF0ZVJvdW5kKCdjZWlsJyk7XG5cbiAgICAvKipcbiAgICAgKiBEaXZpZGUgdHdvIG51bWJlcnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkaXZpZGVuZCBUaGUgZmlyc3QgbnVtYmVyIGluIGEgZGl2aXNpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRpdmlzb3IgVGhlIHNlY29uZCBudW1iZXIgaW4gYSBkaXZpc2lvbi5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBxdW90aWVudC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kaXZpZGUoNiwgNCk7XG4gICAgICogLy8gPT4gMS41XG4gICAgICovXG4gICAgdmFyIGRpdmlkZSA9IGNyZWF0ZU1hdGhPcGVyYXRpb24oZnVuY3Rpb24oZGl2aWRlbmQsIGRpdmlzb3IpIHtcbiAgICAgIHJldHVybiBkaXZpZGVuZCAvIGRpdmlzb3I7XG4gICAgfSwgMSk7XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyBgbnVtYmVyYCByb3VuZGVkIGRvd24gdG8gYHByZWNpc2lvbmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4xMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgdG8gcm91bmQgZG93bi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3ByZWNpc2lvbj0wXSBUaGUgcHJlY2lzaW9uIHRvIHJvdW5kIGRvd24gdG8uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcm91bmRlZCBkb3duIG51bWJlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5mbG9vcig0LjAwNik7XG4gICAgICogLy8gPT4gNFxuICAgICAqXG4gICAgICogXy5mbG9vcigwLjA0NiwgMik7XG4gICAgICogLy8gPT4gMC4wNFxuICAgICAqXG4gICAgICogXy5mbG9vcig0MDYwLCAtMik7XG4gICAgICogLy8gPT4gNDAwMFxuICAgICAqL1xuICAgIHZhciBmbG9vciA9IGNyZWF0ZVJvdW5kKCdmbG9vcicpO1xuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgdGhlIG1heGltdW0gdmFsdWUgb2YgYGFycmF5YC4gSWYgYGFycmF5YCBpcyBlbXB0eSBvciBmYWxzZXksXG4gICAgICogYHVuZGVmaW5lZGAgaXMgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1heGltdW0gdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubWF4KFs0LCAyLCA4LCA2XSk7XG4gICAgICogLy8gPT4gOFxuICAgICAqXG4gICAgICogXy5tYXgoW10pO1xuICAgICAqIC8vID0+IHVuZGVmaW5lZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1heChhcnJheSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZUV4dHJlbXVtKGFycmF5LCBpZGVudGl0eSwgYmFzZUd0KVxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLm1heGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IGluIGBhcnJheWAgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvbiBieSB3aGljaFxuICAgICAqIHRoZSB2YWx1ZSBpcyByYW5rZWQuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWF4aW11bSB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAnbic6IDEgfSwgeyAnbic6IDIgfV07XG4gICAgICpcbiAgICAgKiBfLm1heEJ5KG9iamVjdHMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8ubjsgfSk7XG4gICAgICogLy8gPT4geyAnbic6IDIgfVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5tYXhCeShvYmplY3RzLCAnbicpO1xuICAgICAqIC8vID0+IHsgJ24nOiAyIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXhCeShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VFeHRyZW11bShhcnJheSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpLCBiYXNlR3QpXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIHRoZSBtZWFuIG9mIHRoZSB2YWx1ZXMgaW4gYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBtZWFuLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLm1lYW4oWzQsIDIsIDgsIDZdKTtcbiAgICAgKiAvLyA9PiA1XG4gICAgICovXG4gICAgZnVuY3Rpb24gbWVhbihhcnJheSkge1xuICAgICAgcmV0dXJuIGJhc2VNZWFuKGFycmF5LCBpZGVudGl0eSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5tZWFuYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgaW4gYGFycmF5YCB0byBnZW5lcmF0ZSB0aGUgdmFsdWUgdG8gYmUgYXZlcmFnZWQuXG4gICAgICogVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIG1lYW4uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ24nOiA0IH0sIHsgJ24nOiAyIH0sIHsgJ24nOiA4IH0sIHsgJ24nOiA2IH1dO1xuICAgICAqXG4gICAgICogXy5tZWFuQnkob2JqZWN0cywgZnVuY3Rpb24obykgeyByZXR1cm4gby5uOyB9KTtcbiAgICAgKiAvLyA9PiA1XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLm1lYW5CeShvYmplY3RzLCAnbicpO1xuICAgICAqIC8vID0+IDVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtZWFuQnkoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gYmFzZU1lYW4oYXJyYXksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgdGhlIG1pbmltdW0gdmFsdWUgb2YgYGFycmF5YC4gSWYgYGFycmF5YCBpcyBlbXB0eSBvciBmYWxzZXksXG4gICAgICogYHVuZGVmaW5lZGAgaXMgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1pbmltdW0gdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubWluKFs0LCAyLCA4LCA2XSk7XG4gICAgICogLy8gPT4gMlxuICAgICAqXG4gICAgICogXy5taW4oW10pO1xuICAgICAqIC8vID0+IHVuZGVmaW5lZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1pbihhcnJheSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZUV4dHJlbXVtKGFycmF5LCBpZGVudGl0eSwgYmFzZUx0KVxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLm1pbmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IGluIGBhcnJheWAgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvbiBieSB3aGljaFxuICAgICAqIHRoZSB2YWx1ZSBpcyByYW5rZWQuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWluaW11bSB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAnbic6IDEgfSwgeyAnbic6IDIgfV07XG4gICAgICpcbiAgICAgKiBfLm1pbkJ5KG9iamVjdHMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8ubjsgfSk7XG4gICAgICogLy8gPT4geyAnbic6IDEgfVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5taW5CeShvYmplY3RzLCAnbicpO1xuICAgICAqIC8vID0+IHsgJ24nOiAxIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtaW5CeShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VFeHRyZW11bShhcnJheSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpLCBiYXNlTHQpXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE11bHRpcGx5IHR3byBudW1iZXJzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNy4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbXVsdGlwbGllciBUaGUgZmlyc3QgbnVtYmVyIGluIGEgbXVsdGlwbGljYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG11bHRpcGxpY2FuZCBUaGUgc2Vjb25kIG51bWJlciBpbiBhIG11bHRpcGxpY2F0aW9uLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHByb2R1Y3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubXVsdGlwbHkoNiwgNCk7XG4gICAgICogLy8gPT4gMjRcbiAgICAgKi9cbiAgICB2YXIgbXVsdGlwbHkgPSBjcmVhdGVNYXRoT3BlcmF0aW9uKGZ1bmN0aW9uKG11bHRpcGxpZXIsIG11bHRpcGxpY2FuZCkge1xuICAgICAgcmV0dXJuIG11bHRpcGxpZXIgKiBtdWx0aXBsaWNhbmQ7XG4gICAgfSwgMSk7XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyBgbnVtYmVyYCByb3VuZGVkIHRvIGBwcmVjaXNpb25gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMTAuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIHJvdW5kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcHJlY2lzaW9uPTBdIFRoZSBwcmVjaXNpb24gdG8gcm91bmQgdG8uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcm91bmRlZCBudW1iZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucm91bmQoNC4wMDYpO1xuICAgICAqIC8vID0+IDRcbiAgICAgKlxuICAgICAqIF8ucm91bmQoNC4wMDYsIDIpO1xuICAgICAqIC8vID0+IDQuMDFcbiAgICAgKlxuICAgICAqIF8ucm91bmQoNDA2MCwgLTIpO1xuICAgICAqIC8vID0+IDQxMDBcbiAgICAgKi9cbiAgICB2YXIgcm91bmQgPSBjcmVhdGVSb3VuZCgncm91bmQnKTtcblxuICAgIC8qKlxuICAgICAqIFN1YnRyYWN0IHR3byBudW1iZXJzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWludWVuZCBUaGUgZmlyc3QgbnVtYmVyIGluIGEgc3VidHJhY3Rpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN1YnRyYWhlbmQgVGhlIHNlY29uZCBudW1iZXIgaW4gYSBzdWJ0cmFjdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBkaWZmZXJlbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnN1YnRyYWN0KDYsIDQpO1xuICAgICAqIC8vID0+IDJcbiAgICAgKi9cbiAgICB2YXIgc3VidHJhY3QgPSBjcmVhdGVNYXRoT3BlcmF0aW9uKGZ1bmN0aW9uKG1pbnVlbmQsIHN1YnRyYWhlbmQpIHtcbiAgICAgIHJldHVybiBtaW51ZW5kIC0gc3VidHJhaGVuZDtcbiAgICB9LCAwKTtcblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIHRoZSBzdW0gb2YgdGhlIHZhbHVlcyBpbiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuNC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHN1bS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zdW0oWzQsIDIsIDgsIDZdKTtcbiAgICAgKiAvLyA9PiAyMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN1bShhcnJheSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZVN1bShhcnJheSwgaWRlbnRpdHkpXG4gICAgICAgIDogMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnN1bWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IGluIGBhcnJheWAgdG8gZ2VuZXJhdGUgdGhlIHZhbHVlIHRvIGJlIHN1bW1lZC5cbiAgICAgKiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc3VtLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICduJzogNCB9LCB7ICduJzogMiB9LCB7ICduJzogOCB9LCB7ICduJzogNiB9XTtcbiAgICAgKlxuICAgICAqIF8uc3VtQnkob2JqZWN0cywgZnVuY3Rpb24obykgeyByZXR1cm4gby5uOyB9KTtcbiAgICAgKiAvLyA9PiAyMFxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5zdW1CeShvYmplY3RzLCAnbicpO1xuICAgICAqIC8vID0+IDIwXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3VtQnkoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlU3VtKGFycmF5LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpXG4gICAgICAgIDogMDtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0aGF0IHJldHVybiB3cmFwcGVkIHZhbHVlcyBpbiBjaGFpbiBzZXF1ZW5jZXMuXG4gICAgbG9kYXNoLmFmdGVyID0gYWZ0ZXI7XG4gICAgbG9kYXNoLmFyeSA9IGFyeTtcbiAgICBsb2Rhc2guYXNzaWduID0gYXNzaWduO1xuICAgIGxvZGFzaC5hc3NpZ25JbiA9IGFzc2lnbkluO1xuICAgIGxvZGFzaC5hc3NpZ25JbldpdGggPSBhc3NpZ25JbldpdGg7XG4gICAgbG9kYXNoLmFzc2lnbldpdGggPSBhc3NpZ25XaXRoO1xuICAgIGxvZGFzaC5hdCA9IGF0O1xuICAgIGxvZGFzaC5iZWZvcmUgPSBiZWZvcmU7XG4gICAgbG9kYXNoLmJpbmQgPSBiaW5kO1xuICAgIGxvZGFzaC5iaW5kQWxsID0gYmluZEFsbDtcbiAgICBsb2Rhc2guYmluZEtleSA9IGJpbmRLZXk7XG4gICAgbG9kYXNoLmNhc3RBcnJheSA9IGNhc3RBcnJheTtcbiAgICBsb2Rhc2guY2hhaW4gPSBjaGFpbjtcbiAgICBsb2Rhc2guY2h1bmsgPSBjaHVuaztcbiAgICBsb2Rhc2guY29tcGFjdCA9IGNvbXBhY3Q7XG4gICAgbG9kYXNoLmNvbmNhdCA9IGNvbmNhdDtcbiAgICBsb2Rhc2guY29uZCA9IGNvbmQ7XG4gICAgbG9kYXNoLmNvbmZvcm1zID0gY29uZm9ybXM7XG4gICAgbG9kYXNoLmNvbnN0YW50ID0gY29uc3RhbnQ7XG4gICAgbG9kYXNoLmNvdW50QnkgPSBjb3VudEJ5O1xuICAgIGxvZGFzaC5jcmVhdGUgPSBjcmVhdGU7XG4gICAgbG9kYXNoLmN1cnJ5ID0gY3Vycnk7XG4gICAgbG9kYXNoLmN1cnJ5UmlnaHQgPSBjdXJyeVJpZ2h0O1xuICAgIGxvZGFzaC5kZWJvdW5jZSA9IGRlYm91bmNlO1xuICAgIGxvZGFzaC5kZWZhdWx0cyA9IGRlZmF1bHRzO1xuICAgIGxvZGFzaC5kZWZhdWx0c0RlZXAgPSBkZWZhdWx0c0RlZXA7XG4gICAgbG9kYXNoLmRlZmVyID0gZGVmZXI7XG4gICAgbG9kYXNoLmRlbGF5ID0gZGVsYXk7XG4gICAgbG9kYXNoLmRpZmZlcmVuY2UgPSBkaWZmZXJlbmNlO1xuICAgIGxvZGFzaC5kaWZmZXJlbmNlQnkgPSBkaWZmZXJlbmNlQnk7XG4gICAgbG9kYXNoLmRpZmZlcmVuY2VXaXRoID0gZGlmZmVyZW5jZVdpdGg7XG4gICAgbG9kYXNoLmRyb3AgPSBkcm9wO1xuICAgIGxvZGFzaC5kcm9wUmlnaHQgPSBkcm9wUmlnaHQ7XG4gICAgbG9kYXNoLmRyb3BSaWdodFdoaWxlID0gZHJvcFJpZ2h0V2hpbGU7XG4gICAgbG9kYXNoLmRyb3BXaGlsZSA9IGRyb3BXaGlsZTtcbiAgICBsb2Rhc2guZmlsbCA9IGZpbGw7XG4gICAgbG9kYXNoLmZpbHRlciA9IGZpbHRlcjtcbiAgICBsb2Rhc2guZmxhdE1hcCA9IGZsYXRNYXA7XG4gICAgbG9kYXNoLmZsYXRNYXBEZWVwID0gZmxhdE1hcERlZXA7XG4gICAgbG9kYXNoLmZsYXRNYXBEZXB0aCA9IGZsYXRNYXBEZXB0aDtcbiAgICBsb2Rhc2guZmxhdHRlbiA9IGZsYXR0ZW47XG4gICAgbG9kYXNoLmZsYXR0ZW5EZWVwID0gZmxhdHRlbkRlZXA7XG4gICAgbG9kYXNoLmZsYXR0ZW5EZXB0aCA9IGZsYXR0ZW5EZXB0aDtcbiAgICBsb2Rhc2guZmxpcCA9IGZsaXA7XG4gICAgbG9kYXNoLmZsb3cgPSBmbG93O1xuICAgIGxvZGFzaC5mbG93UmlnaHQgPSBmbG93UmlnaHQ7XG4gICAgbG9kYXNoLmZyb21QYWlycyA9IGZyb21QYWlycztcbiAgICBsb2Rhc2guZnVuY3Rpb25zID0gZnVuY3Rpb25zO1xuICAgIGxvZGFzaC5mdW5jdGlvbnNJbiA9IGZ1bmN0aW9uc0luO1xuICAgIGxvZGFzaC5ncm91cEJ5ID0gZ3JvdXBCeTtcbiAgICBsb2Rhc2guaW5pdGlhbCA9IGluaXRpYWw7XG4gICAgbG9kYXNoLmludGVyc2VjdGlvbiA9IGludGVyc2VjdGlvbjtcbiAgICBsb2Rhc2guaW50ZXJzZWN0aW9uQnkgPSBpbnRlcnNlY3Rpb25CeTtcbiAgICBsb2Rhc2guaW50ZXJzZWN0aW9uV2l0aCA9IGludGVyc2VjdGlvbldpdGg7XG4gICAgbG9kYXNoLmludmVydCA9IGludmVydDtcbiAgICBsb2Rhc2guaW52ZXJ0QnkgPSBpbnZlcnRCeTtcbiAgICBsb2Rhc2guaW52b2tlTWFwID0gaW52b2tlTWFwO1xuICAgIGxvZGFzaC5pdGVyYXRlZSA9IGl0ZXJhdGVlO1xuICAgIGxvZGFzaC5rZXlCeSA9IGtleUJ5O1xuICAgIGxvZGFzaC5rZXlzID0ga2V5cztcbiAgICBsb2Rhc2gua2V5c0luID0ga2V5c0luO1xuICAgIGxvZGFzaC5tYXAgPSBtYXA7XG4gICAgbG9kYXNoLm1hcEtleXMgPSBtYXBLZXlzO1xuICAgIGxvZGFzaC5tYXBWYWx1ZXMgPSBtYXBWYWx1ZXM7XG4gICAgbG9kYXNoLm1hdGNoZXMgPSBtYXRjaGVzO1xuICAgIGxvZGFzaC5tYXRjaGVzUHJvcGVydHkgPSBtYXRjaGVzUHJvcGVydHk7XG4gICAgbG9kYXNoLm1lbW9pemUgPSBtZW1vaXplO1xuICAgIGxvZGFzaC5tZXJnZSA9IG1lcmdlO1xuICAgIGxvZGFzaC5tZXJnZVdpdGggPSBtZXJnZVdpdGg7XG4gICAgbG9kYXNoLm1ldGhvZCA9IG1ldGhvZDtcbiAgICBsb2Rhc2gubWV0aG9kT2YgPSBtZXRob2RPZjtcbiAgICBsb2Rhc2gubWl4aW4gPSBtaXhpbjtcbiAgICBsb2Rhc2gubmVnYXRlID0gbmVnYXRlO1xuICAgIGxvZGFzaC5udGhBcmcgPSBudGhBcmc7XG4gICAgbG9kYXNoLm9taXQgPSBvbWl0O1xuICAgIGxvZGFzaC5vbWl0QnkgPSBvbWl0Qnk7XG4gICAgbG9kYXNoLm9uY2UgPSBvbmNlO1xuICAgIGxvZGFzaC5vcmRlckJ5ID0gb3JkZXJCeTtcbiAgICBsb2Rhc2gub3ZlciA9IG92ZXI7XG4gICAgbG9kYXNoLm92ZXJBcmdzID0gb3ZlckFyZ3M7XG4gICAgbG9kYXNoLm92ZXJFdmVyeSA9IG92ZXJFdmVyeTtcbiAgICBsb2Rhc2gub3ZlclNvbWUgPSBvdmVyU29tZTtcbiAgICBsb2Rhc2gucGFydGlhbCA9IHBhcnRpYWw7XG4gICAgbG9kYXNoLnBhcnRpYWxSaWdodCA9IHBhcnRpYWxSaWdodDtcbiAgICBsb2Rhc2gucGFydGl0aW9uID0gcGFydGl0aW9uO1xuICAgIGxvZGFzaC5waWNrID0gcGljaztcbiAgICBsb2Rhc2gucGlja0J5ID0gcGlja0J5O1xuICAgIGxvZGFzaC5wcm9wZXJ0eSA9IHByb3BlcnR5O1xuICAgIGxvZGFzaC5wcm9wZXJ0eU9mID0gcHJvcGVydHlPZjtcbiAgICBsb2Rhc2gucHVsbCA9IHB1bGw7XG4gICAgbG9kYXNoLnB1bGxBbGwgPSBwdWxsQWxsO1xuICAgIGxvZGFzaC5wdWxsQWxsQnkgPSBwdWxsQWxsQnk7XG4gICAgbG9kYXNoLnB1bGxBbGxXaXRoID0gcHVsbEFsbFdpdGg7XG4gICAgbG9kYXNoLnB1bGxBdCA9IHB1bGxBdDtcbiAgICBsb2Rhc2gucmFuZ2UgPSByYW5nZTtcbiAgICBsb2Rhc2gucmFuZ2VSaWdodCA9IHJhbmdlUmlnaHQ7XG4gICAgbG9kYXNoLnJlYXJnID0gcmVhcmc7XG4gICAgbG9kYXNoLnJlamVjdCA9IHJlamVjdDtcbiAgICBsb2Rhc2gucmVtb3ZlID0gcmVtb3ZlO1xuICAgIGxvZGFzaC5yZXN0ID0gcmVzdDtcbiAgICBsb2Rhc2gucmV2ZXJzZSA9IHJldmVyc2U7XG4gICAgbG9kYXNoLnNhbXBsZVNpemUgPSBzYW1wbGVTaXplO1xuICAgIGxvZGFzaC5zZXQgPSBzZXQ7XG4gICAgbG9kYXNoLnNldFdpdGggPSBzZXRXaXRoO1xuICAgIGxvZGFzaC5zaHVmZmxlID0gc2h1ZmZsZTtcbiAgICBsb2Rhc2guc2xpY2UgPSBzbGljZTtcbiAgICBsb2Rhc2guc29ydEJ5ID0gc29ydEJ5O1xuICAgIGxvZGFzaC5zb3J0ZWRVbmlxID0gc29ydGVkVW5pcTtcbiAgICBsb2Rhc2guc29ydGVkVW5pcUJ5ID0gc29ydGVkVW5pcUJ5O1xuICAgIGxvZGFzaC5zcGxpdCA9IHNwbGl0O1xuICAgIGxvZGFzaC5zcHJlYWQgPSBzcHJlYWQ7XG4gICAgbG9kYXNoLnRhaWwgPSB0YWlsO1xuICAgIGxvZGFzaC50YWtlID0gdGFrZTtcbiAgICBsb2Rhc2gudGFrZVJpZ2h0ID0gdGFrZVJpZ2h0O1xuICAgIGxvZGFzaC50YWtlUmlnaHRXaGlsZSA9IHRha2VSaWdodFdoaWxlO1xuICAgIGxvZGFzaC50YWtlV2hpbGUgPSB0YWtlV2hpbGU7XG4gICAgbG9kYXNoLnRhcCA9IHRhcDtcbiAgICBsb2Rhc2gudGhyb3R0bGUgPSB0aHJvdHRsZTtcbiAgICBsb2Rhc2gudGhydSA9IHRocnU7XG4gICAgbG9kYXNoLnRvQXJyYXkgPSB0b0FycmF5O1xuICAgIGxvZGFzaC50b1BhaXJzID0gdG9QYWlycztcbiAgICBsb2Rhc2gudG9QYWlyc0luID0gdG9QYWlyc0luO1xuICAgIGxvZGFzaC50b1BhdGggPSB0b1BhdGg7XG4gICAgbG9kYXNoLnRvUGxhaW5PYmplY3QgPSB0b1BsYWluT2JqZWN0O1xuICAgIGxvZGFzaC50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gICAgbG9kYXNoLnVuYXJ5ID0gdW5hcnk7XG4gICAgbG9kYXNoLnVuaW9uID0gdW5pb247XG4gICAgbG9kYXNoLnVuaW9uQnkgPSB1bmlvbkJ5O1xuICAgIGxvZGFzaC51bmlvbldpdGggPSB1bmlvbldpdGg7XG4gICAgbG9kYXNoLnVuaXEgPSB1bmlxO1xuICAgIGxvZGFzaC51bmlxQnkgPSB1bmlxQnk7XG4gICAgbG9kYXNoLnVuaXFXaXRoID0gdW5pcVdpdGg7XG4gICAgbG9kYXNoLnVuc2V0ID0gdW5zZXQ7XG4gICAgbG9kYXNoLnVuemlwID0gdW56aXA7XG4gICAgbG9kYXNoLnVuemlwV2l0aCA9IHVuemlwV2l0aDtcbiAgICBsb2Rhc2gudXBkYXRlID0gdXBkYXRlO1xuICAgIGxvZGFzaC51cGRhdGVXaXRoID0gdXBkYXRlV2l0aDtcbiAgICBsb2Rhc2gudmFsdWVzID0gdmFsdWVzO1xuICAgIGxvZGFzaC52YWx1ZXNJbiA9IHZhbHVlc0luO1xuICAgIGxvZGFzaC53aXRob3V0ID0gd2l0aG91dDtcbiAgICBsb2Rhc2gud29yZHMgPSB3b3JkcztcbiAgICBsb2Rhc2gud3JhcCA9IHdyYXA7XG4gICAgbG9kYXNoLnhvciA9IHhvcjtcbiAgICBsb2Rhc2gueG9yQnkgPSB4b3JCeTtcbiAgICBsb2Rhc2gueG9yV2l0aCA9IHhvcldpdGg7XG4gICAgbG9kYXNoLnppcCA9IHppcDtcbiAgICBsb2Rhc2guemlwT2JqZWN0ID0gemlwT2JqZWN0O1xuICAgIGxvZGFzaC56aXBPYmplY3REZWVwID0gemlwT2JqZWN0RGVlcDtcbiAgICBsb2Rhc2guemlwV2l0aCA9IHppcFdpdGg7XG5cbiAgICAvLyBBZGQgYWxpYXNlcy5cbiAgICBsb2Rhc2guZW50cmllcyA9IHRvUGFpcnM7XG4gICAgbG9kYXNoLmVudHJpZXNJbiA9IHRvUGFpcnNJbjtcbiAgICBsb2Rhc2guZXh0ZW5kID0gYXNzaWduSW47XG4gICAgbG9kYXNoLmV4dGVuZFdpdGggPSBhc3NpZ25JbldpdGg7XG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0byBgbG9kYXNoLnByb3RvdHlwZWAuXG4gICAgbWl4aW4obG9kYXNoLCBsb2Rhc2gpO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLy8gQWRkIG1ldGhvZHMgdGhhdCByZXR1cm4gdW53cmFwcGVkIHZhbHVlcyBpbiBjaGFpbiBzZXF1ZW5jZXMuXG4gICAgbG9kYXNoLmFkZCA9IGFkZDtcbiAgICBsb2Rhc2guYXR0ZW1wdCA9IGF0dGVtcHQ7XG4gICAgbG9kYXNoLmNhbWVsQ2FzZSA9IGNhbWVsQ2FzZTtcbiAgICBsb2Rhc2guY2FwaXRhbGl6ZSA9IGNhcGl0YWxpemU7XG4gICAgbG9kYXNoLmNlaWwgPSBjZWlsO1xuICAgIGxvZGFzaC5jbGFtcCA9IGNsYW1wO1xuICAgIGxvZGFzaC5jbG9uZSA9IGNsb25lO1xuICAgIGxvZGFzaC5jbG9uZURlZXAgPSBjbG9uZURlZXA7XG4gICAgbG9kYXNoLmNsb25lRGVlcFdpdGggPSBjbG9uZURlZXBXaXRoO1xuICAgIGxvZGFzaC5jbG9uZVdpdGggPSBjbG9uZVdpdGg7XG4gICAgbG9kYXNoLmNvbmZvcm1zVG8gPSBjb25mb3Jtc1RvO1xuICAgIGxvZGFzaC5kZWJ1cnIgPSBkZWJ1cnI7XG4gICAgbG9kYXNoLmRlZmF1bHRUbyA9IGRlZmF1bHRUbztcbiAgICBsb2Rhc2guZGl2aWRlID0gZGl2aWRlO1xuICAgIGxvZGFzaC5lbmRzV2l0aCA9IGVuZHNXaXRoO1xuICAgIGxvZGFzaC5lcSA9IGVxO1xuICAgIGxvZGFzaC5lc2NhcGUgPSBlc2NhcGU7XG4gICAgbG9kYXNoLmVzY2FwZVJlZ0V4cCA9IGVzY2FwZVJlZ0V4cDtcbiAgICBsb2Rhc2guZXZlcnkgPSBldmVyeTtcbiAgICBsb2Rhc2guZmluZCA9IGZpbmQ7XG4gICAgbG9kYXNoLmZpbmRJbmRleCA9IGZpbmRJbmRleDtcbiAgICBsb2Rhc2guZmluZEtleSA9IGZpbmRLZXk7XG4gICAgbG9kYXNoLmZpbmRMYXN0ID0gZmluZExhc3Q7XG4gICAgbG9kYXNoLmZpbmRMYXN0SW5kZXggPSBmaW5kTGFzdEluZGV4O1xuICAgIGxvZGFzaC5maW5kTGFzdEtleSA9IGZpbmRMYXN0S2V5O1xuICAgIGxvZGFzaC5mbG9vciA9IGZsb29yO1xuICAgIGxvZGFzaC5mb3JFYWNoID0gZm9yRWFjaDtcbiAgICBsb2Rhc2guZm9yRWFjaFJpZ2h0ID0gZm9yRWFjaFJpZ2h0O1xuICAgIGxvZGFzaC5mb3JJbiA9IGZvckluO1xuICAgIGxvZGFzaC5mb3JJblJpZ2h0ID0gZm9ySW5SaWdodDtcbiAgICBsb2Rhc2guZm9yT3duID0gZm9yT3duO1xuICAgIGxvZGFzaC5mb3JPd25SaWdodCA9IGZvck93blJpZ2h0O1xuICAgIGxvZGFzaC5nZXQgPSBnZXQ7XG4gICAgbG9kYXNoLmd0ID0gZ3Q7XG4gICAgbG9kYXNoLmd0ZSA9IGd0ZTtcbiAgICBsb2Rhc2guaGFzID0gaGFzO1xuICAgIGxvZGFzaC5oYXNJbiA9IGhhc0luO1xuICAgIGxvZGFzaC5oZWFkID0gaGVhZDtcbiAgICBsb2Rhc2guaWRlbnRpdHkgPSBpZGVudGl0eTtcbiAgICBsb2Rhc2guaW5jbHVkZXMgPSBpbmNsdWRlcztcbiAgICBsb2Rhc2guaW5kZXhPZiA9IGluZGV4T2Y7XG4gICAgbG9kYXNoLmluUmFuZ2UgPSBpblJhbmdlO1xuICAgIGxvZGFzaC5pbnZva2UgPSBpbnZva2U7XG4gICAgbG9kYXNoLmlzQXJndW1lbnRzID0gaXNBcmd1bWVudHM7XG4gICAgbG9kYXNoLmlzQXJyYXkgPSBpc0FycmF5O1xuICAgIGxvZGFzaC5pc0FycmF5QnVmZmVyID0gaXNBcnJheUJ1ZmZlcjtcbiAgICBsb2Rhc2guaXNBcnJheUxpa2UgPSBpc0FycmF5TGlrZTtcbiAgICBsb2Rhc2guaXNBcnJheUxpa2VPYmplY3QgPSBpc0FycmF5TGlrZU9iamVjdDtcbiAgICBsb2Rhc2guaXNCb29sZWFuID0gaXNCb29sZWFuO1xuICAgIGxvZGFzaC5pc0J1ZmZlciA9IGlzQnVmZmVyO1xuICAgIGxvZGFzaC5pc0RhdGUgPSBpc0RhdGU7XG4gICAgbG9kYXNoLmlzRWxlbWVudCA9IGlzRWxlbWVudDtcbiAgICBsb2Rhc2guaXNFbXB0eSA9IGlzRW1wdHk7XG4gICAgbG9kYXNoLmlzRXF1YWwgPSBpc0VxdWFsO1xuICAgIGxvZGFzaC5pc0VxdWFsV2l0aCA9IGlzRXF1YWxXaXRoO1xuICAgIGxvZGFzaC5pc0Vycm9yID0gaXNFcnJvcjtcbiAgICBsb2Rhc2guaXNGaW5pdGUgPSBpc0Zpbml0ZTtcbiAgICBsb2Rhc2guaXNGdW5jdGlvbiA9IGlzRnVuY3Rpb247XG4gICAgbG9kYXNoLmlzSW50ZWdlciA9IGlzSW50ZWdlcjtcbiAgICBsb2Rhc2guaXNMZW5ndGggPSBpc0xlbmd0aDtcbiAgICBsb2Rhc2guaXNNYXAgPSBpc01hcDtcbiAgICBsb2Rhc2guaXNNYXRjaCA9IGlzTWF0Y2g7XG4gICAgbG9kYXNoLmlzTWF0Y2hXaXRoID0gaXNNYXRjaFdpdGg7XG4gICAgbG9kYXNoLmlzTmFOID0gaXNOYU47XG4gICAgbG9kYXNoLmlzTmF0aXZlID0gaXNOYXRpdmU7XG4gICAgbG9kYXNoLmlzTmlsID0gaXNOaWw7XG4gICAgbG9kYXNoLmlzTnVsbCA9IGlzTnVsbDtcbiAgICBsb2Rhc2guaXNOdW1iZXIgPSBpc051bWJlcjtcbiAgICBsb2Rhc2guaXNPYmplY3QgPSBpc09iamVjdDtcbiAgICBsb2Rhc2guaXNPYmplY3RMaWtlID0gaXNPYmplY3RMaWtlO1xuICAgIGxvZGFzaC5pc1BsYWluT2JqZWN0ID0gaXNQbGFpbk9iamVjdDtcbiAgICBsb2Rhc2guaXNSZWdFeHAgPSBpc1JlZ0V4cDtcbiAgICBsb2Rhc2guaXNTYWZlSW50ZWdlciA9IGlzU2FmZUludGVnZXI7XG4gICAgbG9kYXNoLmlzU2V0ID0gaXNTZXQ7XG4gICAgbG9kYXNoLmlzU3RyaW5nID0gaXNTdHJpbmc7XG4gICAgbG9kYXNoLmlzU3ltYm9sID0gaXNTeW1ib2w7XG4gICAgbG9kYXNoLmlzVHlwZWRBcnJheSA9IGlzVHlwZWRBcnJheTtcbiAgICBsb2Rhc2guaXNVbmRlZmluZWQgPSBpc1VuZGVmaW5lZDtcbiAgICBsb2Rhc2guaXNXZWFrTWFwID0gaXNXZWFrTWFwO1xuICAgIGxvZGFzaC5pc1dlYWtTZXQgPSBpc1dlYWtTZXQ7XG4gICAgbG9kYXNoLmpvaW4gPSBqb2luO1xuICAgIGxvZGFzaC5rZWJhYkNhc2UgPSBrZWJhYkNhc2U7XG4gICAgbG9kYXNoLmxhc3QgPSBsYXN0O1xuICAgIGxvZGFzaC5sYXN0SW5kZXhPZiA9IGxhc3RJbmRleE9mO1xuICAgIGxvZGFzaC5sb3dlckNhc2UgPSBsb3dlckNhc2U7XG4gICAgbG9kYXNoLmxvd2VyRmlyc3QgPSBsb3dlckZpcnN0O1xuICAgIGxvZGFzaC5sdCA9IGx0O1xuICAgIGxvZGFzaC5sdGUgPSBsdGU7XG4gICAgbG9kYXNoLm1heCA9IG1heDtcbiAgICBsb2Rhc2gubWF4QnkgPSBtYXhCeTtcbiAgICBsb2Rhc2gubWVhbiA9IG1lYW47XG4gICAgbG9kYXNoLm1lYW5CeSA9IG1lYW5CeTtcbiAgICBsb2Rhc2gubWluID0gbWluO1xuICAgIGxvZGFzaC5taW5CeSA9IG1pbkJ5O1xuICAgIGxvZGFzaC5zdHViQXJyYXkgPSBzdHViQXJyYXk7XG4gICAgbG9kYXNoLnN0dWJGYWxzZSA9IHN0dWJGYWxzZTtcbiAgICBsb2Rhc2guc3R1Yk9iamVjdCA9IHN0dWJPYmplY3Q7XG4gICAgbG9kYXNoLnN0dWJTdHJpbmcgPSBzdHViU3RyaW5nO1xuICAgIGxvZGFzaC5zdHViVHJ1ZSA9IHN0dWJUcnVlO1xuICAgIGxvZGFzaC5tdWx0aXBseSA9IG11bHRpcGx5O1xuICAgIGxvZGFzaC5udGggPSBudGg7XG4gICAgbG9kYXNoLm5vQ29uZmxpY3QgPSBub0NvbmZsaWN0O1xuICAgIGxvZGFzaC5ub29wID0gbm9vcDtcbiAgICBsb2Rhc2gubm93ID0gbm93O1xuICAgIGxvZGFzaC5wYWQgPSBwYWQ7XG4gICAgbG9kYXNoLnBhZEVuZCA9IHBhZEVuZDtcbiAgICBsb2Rhc2gucGFkU3RhcnQgPSBwYWRTdGFydDtcbiAgICBsb2Rhc2gucGFyc2VJbnQgPSBwYXJzZUludDtcbiAgICBsb2Rhc2gucmFuZG9tID0gcmFuZG9tO1xuICAgIGxvZGFzaC5yZWR1Y2UgPSByZWR1Y2U7XG4gICAgbG9kYXNoLnJlZHVjZVJpZ2h0ID0gcmVkdWNlUmlnaHQ7XG4gICAgbG9kYXNoLnJlcGVhdCA9IHJlcGVhdDtcbiAgICBsb2Rhc2gucmVwbGFjZSA9IHJlcGxhY2U7XG4gICAgbG9kYXNoLnJlc3VsdCA9IHJlc3VsdDtcbiAgICBsb2Rhc2gucm91bmQgPSByb3VuZDtcbiAgICBsb2Rhc2gucnVuSW5Db250ZXh0ID0gcnVuSW5Db250ZXh0O1xuICAgIGxvZGFzaC5zYW1wbGUgPSBzYW1wbGU7XG4gICAgbG9kYXNoLnNpemUgPSBzaXplO1xuICAgIGxvZGFzaC5zbmFrZUNhc2UgPSBzbmFrZUNhc2U7XG4gICAgbG9kYXNoLnNvbWUgPSBzb21lO1xuICAgIGxvZGFzaC5zb3J0ZWRJbmRleCA9IHNvcnRlZEluZGV4O1xuICAgIGxvZGFzaC5zb3J0ZWRJbmRleEJ5ID0gc29ydGVkSW5kZXhCeTtcbiAgICBsb2Rhc2guc29ydGVkSW5kZXhPZiA9IHNvcnRlZEluZGV4T2Y7XG4gICAgbG9kYXNoLnNvcnRlZExhc3RJbmRleCA9IHNvcnRlZExhc3RJbmRleDtcbiAgICBsb2Rhc2guc29ydGVkTGFzdEluZGV4QnkgPSBzb3J0ZWRMYXN0SW5kZXhCeTtcbiAgICBsb2Rhc2guc29ydGVkTGFzdEluZGV4T2YgPSBzb3J0ZWRMYXN0SW5kZXhPZjtcbiAgICBsb2Rhc2guc3RhcnRDYXNlID0gc3RhcnRDYXNlO1xuICAgIGxvZGFzaC5zdGFydHNXaXRoID0gc3RhcnRzV2l0aDtcbiAgICBsb2Rhc2guc3VidHJhY3QgPSBzdWJ0cmFjdDtcbiAgICBsb2Rhc2guc3VtID0gc3VtO1xuICAgIGxvZGFzaC5zdW1CeSA9IHN1bUJ5O1xuICAgIGxvZGFzaC50ZW1wbGF0ZSA9IHRlbXBsYXRlO1xuICAgIGxvZGFzaC50aW1lcyA9IHRpbWVzO1xuICAgIGxvZGFzaC50b0Zpbml0ZSA9IHRvRmluaXRlO1xuICAgIGxvZGFzaC50b0ludGVnZXIgPSB0b0ludGVnZXI7XG4gICAgbG9kYXNoLnRvTGVuZ3RoID0gdG9MZW5ndGg7XG4gICAgbG9kYXNoLnRvTG93ZXIgPSB0b0xvd2VyO1xuICAgIGxvZGFzaC50b051bWJlciA9IHRvTnVtYmVyO1xuICAgIGxvZGFzaC50b1NhZmVJbnRlZ2VyID0gdG9TYWZlSW50ZWdlcjtcbiAgICBsb2Rhc2gudG9TdHJpbmcgPSB0b1N0cmluZztcbiAgICBsb2Rhc2gudG9VcHBlciA9IHRvVXBwZXI7XG4gICAgbG9kYXNoLnRyaW0gPSB0cmltO1xuICAgIGxvZGFzaC50cmltRW5kID0gdHJpbUVuZDtcbiAgICBsb2Rhc2gudHJpbVN0YXJ0ID0gdHJpbVN0YXJ0O1xuICAgIGxvZGFzaC50cnVuY2F0ZSA9IHRydW5jYXRlO1xuICAgIGxvZGFzaC51bmVzY2FwZSA9IHVuZXNjYXBlO1xuICAgIGxvZGFzaC51bmlxdWVJZCA9IHVuaXF1ZUlkO1xuICAgIGxvZGFzaC51cHBlckNhc2UgPSB1cHBlckNhc2U7XG4gICAgbG9kYXNoLnVwcGVyRmlyc3QgPSB1cHBlckZpcnN0O1xuXG4gICAgLy8gQWRkIGFsaWFzZXMuXG4gICAgbG9kYXNoLmVhY2ggPSBmb3JFYWNoO1xuICAgIGxvZGFzaC5lYWNoUmlnaHQgPSBmb3JFYWNoUmlnaHQ7XG4gICAgbG9kYXNoLmZpcnN0ID0gaGVhZDtcblxuICAgIG1peGluKGxvZGFzaCwgKGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNvdXJjZSA9IHt9O1xuICAgICAgYmFzZUZvck93bihsb2Rhc2gsIGZ1bmN0aW9uKGZ1bmMsIG1ldGhvZE5hbWUpIHtcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wZXJ0eS5jYWxsKGxvZGFzaC5wcm90b3R5cGUsIG1ldGhvZE5hbWUpKSB7XG4gICAgICAgICAgc291cmNlW21ldGhvZE5hbWVdID0gZnVuYztcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gc291cmNlO1xuICAgIH0oKSksIHsgJ2NoYWluJzogZmFsc2UgfSk7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2VtYW50aWMgdmVyc2lvbiBudW1iZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgIGxvZGFzaC5WRVJTSU9OID0gVkVSU0lPTjtcblxuICAgIC8vIEFzc2lnbiBkZWZhdWx0IHBsYWNlaG9sZGVycy5cbiAgICBhcnJheUVhY2goWydiaW5kJywgJ2JpbmRLZXknLCAnY3VycnknLCAnY3VycnlSaWdodCcsICdwYXJ0aWFsJywgJ3BhcnRpYWxSaWdodCddLCBmdW5jdGlvbihtZXRob2ROYW1lKSB7XG4gICAgICBsb2Rhc2hbbWV0aG9kTmFtZV0ucGxhY2Vob2xkZXIgPSBsb2Rhc2g7XG4gICAgfSk7XG5cbiAgICAvLyBBZGQgYExhenlXcmFwcGVyYCBtZXRob2RzIGZvciBgXy5kcm9wYCBhbmQgYF8udGFrZWAgdmFyaWFudHMuXG4gICAgYXJyYXlFYWNoKFsnZHJvcCcsICd0YWtlJ10sIGZ1bmN0aW9uKG1ldGhvZE5hbWUsIGluZGV4KSB7XG4gICAgICBMYXp5V3JhcHBlci5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbihuKSB7XG4gICAgICAgIG4gPSBuID09PSB1bmRlZmluZWQgPyAxIDogbmF0aXZlTWF4KHRvSW50ZWdlcihuKSwgMCk7XG5cbiAgICAgICAgdmFyIHJlc3VsdCA9ICh0aGlzLl9fZmlsdGVyZWRfXyAmJiAhaW5kZXgpXG4gICAgICAgICAgPyBuZXcgTGF6eVdyYXBwZXIodGhpcylcbiAgICAgICAgICA6IHRoaXMuY2xvbmUoKTtcblxuICAgICAgICBpZiAocmVzdWx0Ll9fZmlsdGVyZWRfXykge1xuICAgICAgICAgIHJlc3VsdC5fX3Rha2VDb3VudF9fID0gbmF0aXZlTWluKG4sIHJlc3VsdC5fX3Rha2VDb3VudF9fKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXN1bHQuX192aWV3c19fLnB1c2goe1xuICAgICAgICAgICAgJ3NpemUnOiBuYXRpdmVNaW4obiwgTUFYX0FSUkFZX0xFTkdUSCksXG4gICAgICAgICAgICAndHlwZSc6IG1ldGhvZE5hbWUgKyAocmVzdWx0Ll9fZGlyX18gPCAwID8gJ1JpZ2h0JyA6ICcnKVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuXG4gICAgICBMYXp5V3JhcHBlci5wcm90b3R5cGVbbWV0aG9kTmFtZSArICdSaWdodCddID0gZnVuY3Rpb24obikge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXZlcnNlKClbbWV0aG9kTmFtZV0obikucmV2ZXJzZSgpO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIEFkZCBgTGF6eVdyYXBwZXJgIG1ldGhvZHMgdGhhdCBhY2NlcHQgYW4gYGl0ZXJhdGVlYCB2YWx1ZS5cbiAgICBhcnJheUVhY2goWydmaWx0ZXInLCAnbWFwJywgJ3Rha2VXaGlsZSddLCBmdW5jdGlvbihtZXRob2ROYW1lLCBpbmRleCkge1xuICAgICAgdmFyIHR5cGUgPSBpbmRleCArIDEsXG4gICAgICAgICAgaXNGaWx0ZXIgPSB0eXBlID09IExBWllfRklMVEVSX0ZMQUcgfHwgdHlwZSA9PSBMQVpZX1dISUxFX0ZMQUc7XG5cbiAgICAgIExhenlXcmFwcGVyLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKGl0ZXJhdGVlKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSB0aGlzLmNsb25lKCk7XG4gICAgICAgIHJlc3VsdC5fX2l0ZXJhdGVlc19fLnB1c2goe1xuICAgICAgICAgICdpdGVyYXRlZSc6IGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSxcbiAgICAgICAgICAndHlwZSc6IHR5cGVcbiAgICAgICAgfSk7XG4gICAgICAgIHJlc3VsdC5fX2ZpbHRlcmVkX18gPSByZXN1bHQuX19maWx0ZXJlZF9fIHx8IGlzRmlsdGVyO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIEFkZCBgTGF6eVdyYXBwZXJgIG1ldGhvZHMgZm9yIGBfLmhlYWRgIGFuZCBgXy5sYXN0YC5cbiAgICBhcnJheUVhY2goWydoZWFkJywgJ2xhc3QnXSwgZnVuY3Rpb24obWV0aG9kTmFtZSwgaW5kZXgpIHtcbiAgICAgIHZhciB0YWtlTmFtZSA9ICd0YWtlJyArIChpbmRleCA/ICdSaWdodCcgOiAnJyk7XG5cbiAgICAgIExhenlXcmFwcGVyLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpc1t0YWtlTmFtZV0oMSkudmFsdWUoKVswXTtcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICAvLyBBZGQgYExhenlXcmFwcGVyYCBtZXRob2RzIGZvciBgXy5pbml0aWFsYCBhbmQgYF8udGFpbGAuXG4gICAgYXJyYXlFYWNoKFsnaW5pdGlhbCcsICd0YWlsJ10sIGZ1bmN0aW9uKG1ldGhvZE5hbWUsIGluZGV4KSB7XG4gICAgICB2YXIgZHJvcE5hbWUgPSAnZHJvcCcgKyAoaW5kZXggPyAnJyA6ICdSaWdodCcpO1xuXG4gICAgICBMYXp5V3JhcHBlci5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX19maWx0ZXJlZF9fID8gbmV3IExhenlXcmFwcGVyKHRoaXMpIDogdGhpc1tkcm9wTmFtZV0oMSk7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLmNvbXBhY3QgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLmZpbHRlcihpZGVudGl0eSk7XG4gICAgfTtcblxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5maW5kID0gZnVuY3Rpb24ocHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gdGhpcy5maWx0ZXIocHJlZGljYXRlKS5oZWFkKCk7XG4gICAgfTtcblxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5maW5kTGFzdCA9IGZ1bmN0aW9uKHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIHRoaXMucmV2ZXJzZSgpLmZpbmQocHJlZGljYXRlKTtcbiAgICB9O1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLmludm9rZU1hcCA9IGJhc2VSZXN0KGZ1bmN0aW9uKHBhdGgsIGFyZ3MpIHtcbiAgICAgIGlmICh0eXBlb2YgcGF0aCA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBuZXcgTGF6eVdyYXBwZXIodGhpcyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VJbnZva2UodmFsdWUsIHBhdGgsIGFyZ3MpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUucmVqZWN0ID0gZnVuY3Rpb24ocHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gdGhpcy5maWx0ZXIobmVnYXRlKGdldEl0ZXJhdGVlKHByZWRpY2F0ZSkpKTtcbiAgICB9O1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLnNsaWNlID0gZnVuY3Rpb24oc3RhcnQsIGVuZCkge1xuICAgICAgc3RhcnQgPSB0b0ludGVnZXIoc3RhcnQpO1xuXG4gICAgICB2YXIgcmVzdWx0ID0gdGhpcztcbiAgICAgIGlmIChyZXN1bHQuX19maWx0ZXJlZF9fICYmIChzdGFydCA+IDAgfHwgZW5kIDwgMCkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBMYXp5V3JhcHBlcihyZXN1bHQpO1xuICAgICAgfVxuICAgICAgaWYgKHN0YXJ0IDwgMCkge1xuICAgICAgICByZXN1bHQgPSByZXN1bHQudGFrZVJpZ2h0KC1zdGFydCk7XG4gICAgICB9IGVsc2UgaWYgKHN0YXJ0KSB7XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdC5kcm9wKHN0YXJ0KTtcbiAgICAgIH1cbiAgICAgIGlmIChlbmQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBlbmQgPSB0b0ludGVnZXIoZW5kKTtcbiAgICAgICAgcmVzdWx0ID0gZW5kIDwgMCA/IHJlc3VsdC5kcm9wUmlnaHQoLWVuZCkgOiByZXN1bHQudGFrZShlbmQgLSBzdGFydCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUudGFrZVJpZ2h0V2hpbGUgPSBmdW5jdGlvbihwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiB0aGlzLnJldmVyc2UoKS50YWtlV2hpbGUocHJlZGljYXRlKS5yZXZlcnNlKCk7XG4gICAgfTtcblxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS50b0FycmF5ID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy50YWtlKE1BWF9BUlJBWV9MRU5HVEgpO1xuICAgIH07XG5cbiAgICAvLyBBZGQgYExhenlXcmFwcGVyYCBtZXRob2RzIHRvIGBsb2Rhc2gucHJvdG90eXBlYC5cbiAgICBiYXNlRm9yT3duKExhenlXcmFwcGVyLnByb3RvdHlwZSwgZnVuY3Rpb24oZnVuYywgbWV0aG9kTmFtZSkge1xuICAgICAgdmFyIGNoZWNrSXRlcmF0ZWUgPSAvXig/OmZpbHRlcnxmaW5kfG1hcHxyZWplY3QpfFdoaWxlJC8udGVzdChtZXRob2ROYW1lKSxcbiAgICAgICAgICBpc1Rha2VyID0gL14oPzpoZWFkfGxhc3QpJC8udGVzdChtZXRob2ROYW1lKSxcbiAgICAgICAgICBsb2Rhc2hGdW5jID0gbG9kYXNoW2lzVGFrZXIgPyAoJ3Rha2UnICsgKG1ldGhvZE5hbWUgPT0gJ2xhc3QnID8gJ1JpZ2h0JyA6ICcnKSkgOiBtZXRob2ROYW1lXSxcbiAgICAgICAgICByZXRVbndyYXBwZWQgPSBpc1Rha2VyIHx8IC9eZmluZC8udGVzdChtZXRob2ROYW1lKTtcblxuICAgICAgaWYgKCFsb2Rhc2hGdW5jKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGxvZGFzaC5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gdGhpcy5fX3dyYXBwZWRfXyxcbiAgICAgICAgICAgIGFyZ3MgPSBpc1Rha2VyID8gWzFdIDogYXJndW1lbnRzLFxuICAgICAgICAgICAgaXNMYXp5ID0gdmFsdWUgaW5zdGFuY2VvZiBMYXp5V3JhcHBlcixcbiAgICAgICAgICAgIGl0ZXJhdGVlID0gYXJnc1swXSxcbiAgICAgICAgICAgIHVzZUxhenkgPSBpc0xhenkgfHwgaXNBcnJheSh2YWx1ZSk7XG5cbiAgICAgICAgdmFyIGludGVyY2VwdG9yID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICB2YXIgcmVzdWx0ID0gbG9kYXNoRnVuYy5hcHBseShsb2Rhc2gsIGFycmF5UHVzaChbdmFsdWVdLCBhcmdzKSk7XG4gICAgICAgICAgcmV0dXJuIChpc1Rha2VyICYmIGNoYWluQWxsKSA/IHJlc3VsdFswXSA6IHJlc3VsdDtcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAodXNlTGF6eSAmJiBjaGVja0l0ZXJhdGVlICYmIHR5cGVvZiBpdGVyYXRlZSA9PSAnZnVuY3Rpb24nICYmIGl0ZXJhdGVlLmxlbmd0aCAhPSAxKSB7XG4gICAgICAgICAgLy8gQXZvaWQgbGF6eSB1c2UgaWYgdGhlIGl0ZXJhdGVlIGhhcyBhIFwibGVuZ3RoXCIgdmFsdWUgb3RoZXIgdGhhbiBgMWAuXG4gICAgICAgICAgaXNMYXp5ID0gdXNlTGF6eSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjaGFpbkFsbCA9IHRoaXMuX19jaGFpbl9fLFxuICAgICAgICAgICAgaXNIeWJyaWQgPSAhIXRoaXMuX19hY3Rpb25zX18ubGVuZ3RoLFxuICAgICAgICAgICAgaXNVbndyYXBwZWQgPSByZXRVbndyYXBwZWQgJiYgIWNoYWluQWxsLFxuICAgICAgICAgICAgb25seUxhenkgPSBpc0xhenkgJiYgIWlzSHlicmlkO1xuXG4gICAgICAgIGlmICghcmV0VW53cmFwcGVkICYmIHVzZUxhenkpIHtcbiAgICAgICAgICB2YWx1ZSA9IG9ubHlMYXp5ID8gdmFsdWUgOiBuZXcgTGF6eVdyYXBwZXIodGhpcyk7XG4gICAgICAgICAgdmFyIHJlc3VsdCA9IGZ1bmMuYXBwbHkodmFsdWUsIGFyZ3MpO1xuICAgICAgICAgIHJlc3VsdC5fX2FjdGlvbnNfXy5wdXNoKHsgJ2Z1bmMnOiB0aHJ1LCAnYXJncyc6IFtpbnRlcmNlcHRvcl0sICd0aGlzQXJnJzogdW5kZWZpbmVkIH0pO1xuICAgICAgICAgIHJldHVybiBuZXcgTG9kYXNoV3JhcHBlcihyZXN1bHQsIGNoYWluQWxsKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNVbndyYXBwZWQgJiYgb25seUxhenkpIHtcbiAgICAgICAgICByZXR1cm4gZnVuYy5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHQgPSB0aGlzLnRocnUoaW50ZXJjZXB0b3IpO1xuICAgICAgICByZXR1cm4gaXNVbndyYXBwZWQgPyAoaXNUYWtlciA/IHJlc3VsdC52YWx1ZSgpWzBdIDogcmVzdWx0LnZhbHVlKCkpIDogcmVzdWx0O1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIEFkZCBgQXJyYXlgIG1ldGhvZHMgdG8gYGxvZGFzaC5wcm90b3R5cGVgLlxuICAgIGFycmF5RWFjaChbJ3BvcCcsICdwdXNoJywgJ3NoaWZ0JywgJ3NvcnQnLCAnc3BsaWNlJywgJ3Vuc2hpZnQnXSwgZnVuY3Rpb24obWV0aG9kTmFtZSkge1xuICAgICAgdmFyIGZ1bmMgPSBhcnJheVByb3RvW21ldGhvZE5hbWVdLFxuICAgICAgICAgIGNoYWluTmFtZSA9IC9eKD86cHVzaHxzb3J0fHVuc2hpZnQpJC8udGVzdChtZXRob2ROYW1lKSA/ICd0YXAnIDogJ3RocnUnLFxuICAgICAgICAgIHJldFVud3JhcHBlZCA9IC9eKD86cG9wfHNoaWZ0KSQvLnRlc3QobWV0aG9kTmFtZSk7XG5cbiAgICAgIGxvZGFzaC5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAgIGlmIChyZXRVbndyYXBwZWQgJiYgIXRoaXMuX19jaGFpbl9fKSB7XG4gICAgICAgICAgdmFyIHZhbHVlID0gdGhpcy52YWx1ZSgpO1xuICAgICAgICAgIHJldHVybiBmdW5jLmFwcGx5KGlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBbXSwgYXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXNbY2hhaW5OYW1lXShmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIHJldHVybiBmdW5jLmFwcGx5KGlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBbXSwgYXJncyk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIE1hcCBtaW5pZmllZCBtZXRob2QgbmFtZXMgdG8gdGhlaXIgcmVhbCBuYW1lcy5cbiAgICBiYXNlRm9yT3duKExhenlXcmFwcGVyLnByb3RvdHlwZSwgZnVuY3Rpb24oZnVuYywgbWV0aG9kTmFtZSkge1xuICAgICAgdmFyIGxvZGFzaEZ1bmMgPSBsb2Rhc2hbbWV0aG9kTmFtZV07XG4gICAgICBpZiAobG9kYXNoRnVuYykge1xuICAgICAgICB2YXIga2V5ID0gbG9kYXNoRnVuYy5uYW1lICsgJyc7XG4gICAgICAgIGlmICghaGFzT3duUHJvcGVydHkuY2FsbChyZWFsTmFtZXMsIGtleSkpIHtcbiAgICAgICAgICByZWFsTmFtZXNba2V5XSA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHJlYWxOYW1lc1trZXldLnB1c2goeyAnbmFtZSc6IG1ldGhvZE5hbWUsICdmdW5jJzogbG9kYXNoRnVuYyB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJlYWxOYW1lc1tjcmVhdGVIeWJyaWQodW5kZWZpbmVkLCBXUkFQX0JJTkRfS0VZX0ZMQUcpLm5hbWVdID0gW3tcbiAgICAgICduYW1lJzogJ3dyYXBwZXInLFxuICAgICAgJ2Z1bmMnOiB1bmRlZmluZWRcbiAgICB9XTtcblxuICAgIC8vIEFkZCBtZXRob2RzIHRvIGBMYXp5V3JhcHBlcmAuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLmNsb25lID0gbGF6eUNsb25lO1xuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5yZXZlcnNlID0gbGF6eVJldmVyc2U7XG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLnZhbHVlID0gbGF6eVZhbHVlO1xuXG4gICAgLy8gQWRkIGNoYWluIHNlcXVlbmNlIG1ldGhvZHMgdG8gdGhlIGBsb2Rhc2hgIHdyYXBwZXIuXG4gICAgbG9kYXNoLnByb3RvdHlwZS5hdCA9IHdyYXBwZXJBdDtcbiAgICBsb2Rhc2gucHJvdG90eXBlLmNoYWluID0gd3JhcHBlckNoYWluO1xuICAgIGxvZGFzaC5wcm90b3R5cGUuY29tbWl0ID0gd3JhcHBlckNvbW1pdDtcbiAgICBsb2Rhc2gucHJvdG90eXBlLm5leHQgPSB3cmFwcGVyTmV4dDtcbiAgICBsb2Rhc2gucHJvdG90eXBlLnBsYW50ID0gd3JhcHBlclBsYW50O1xuICAgIGxvZGFzaC5wcm90b3R5cGUucmV2ZXJzZSA9IHdyYXBwZXJSZXZlcnNlO1xuICAgIGxvZGFzaC5wcm90b3R5cGUudG9KU09OID0gbG9kYXNoLnByb3RvdHlwZS52YWx1ZU9mID0gbG9kYXNoLnByb3RvdHlwZS52YWx1ZSA9IHdyYXBwZXJWYWx1ZTtcblxuICAgIC8vIEFkZCBsYXp5IGFsaWFzZXMuXG4gICAgbG9kYXNoLnByb3RvdHlwZS5maXJzdCA9IGxvZGFzaC5wcm90b3R5cGUuaGVhZDtcblxuICAgIGlmIChzeW1JdGVyYXRvcikge1xuICAgICAgbG9kYXNoLnByb3RvdHlwZVtzeW1JdGVyYXRvcl0gPSB3cmFwcGVyVG9JdGVyYXRvcjtcbiAgICB9XG4gICAgcmV0dXJuIGxvZGFzaDtcbiAgfSk7XG5cbiAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgLy8gRXhwb3J0IGxvZGFzaC5cbiAgdmFyIF8gPSBydW5JbkNvbnRleHQoKTtcblxuICAvLyBTb21lIEFNRCBidWlsZCBvcHRpbWl6ZXJzLCBsaWtlIHIuanMsIGNoZWNrIGZvciBjb25kaXRpb24gcGF0dGVybnMgbGlrZTpcbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZGVmaW5lLmFtZCA9PSAnb2JqZWN0JyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgLy8gRXhwb3NlIExvZGFzaCBvbiB0aGUgZ2xvYmFsIG9iamVjdCB0byBwcmV2ZW50IGVycm9ycyB3aGVuIExvZGFzaCBpc1xuICAgIC8vIGxvYWRlZCBieSBhIHNjcmlwdCB0YWcgaW4gdGhlIHByZXNlbmNlIG9mIGFuIEFNRCBsb2FkZXIuXG4gICAgLy8gU2VlIGh0dHA6Ly9yZXF1aXJlanMub3JnL2RvY3MvZXJyb3JzLmh0bWwjbWlzbWF0Y2ggZm9yIG1vcmUgZGV0YWlscy5cbiAgICAvLyBVc2UgYF8ubm9Db25mbGljdGAgdG8gcmVtb3ZlIExvZGFzaCBmcm9tIHRoZSBnbG9iYWwgb2JqZWN0LlxuICAgIHJvb3QuXyA9IF87XG5cbiAgICAvLyBEZWZpbmUgYXMgYW4gYW5vbnltb3VzIG1vZHVsZSBzbywgdGhyb3VnaCBwYXRoIG1hcHBpbmcsIGl0IGNhbiBiZVxuICAgIC8vIHJlZmVyZW5jZWQgYXMgdGhlIFwidW5kZXJzY29yZVwiIG1vZHVsZS5cbiAgICBkZWZpbmUoZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gXztcbiAgICB9KTtcbiAgfVxuICAvLyBDaGVjayBmb3IgYGV4cG9ydHNgIGFmdGVyIGBkZWZpbmVgIGluIGNhc2UgYSBidWlsZCBvcHRpbWl6ZXIgYWRkcyBpdC5cbiAgZWxzZSBpZiAoZnJlZU1vZHVsZSkge1xuICAgIC8vIEV4cG9ydCBmb3IgTm9kZS5qcy5cbiAgICAoZnJlZU1vZHVsZS5leHBvcnRzID0gXykuXyA9IF87XG4gICAgLy8gRXhwb3J0IGZvciBDb21tb25KUyBzdXBwb3J0LlxuICAgIGZyZWVFeHBvcnRzLl8gPSBfO1xuICB9XG4gIGVsc2Uge1xuICAgIC8vIEV4cG9ydCB0byB0aGUgZ2xvYmFsIG9iamVjdC5cbiAgICByb290Ll8gPSBfO1xuICB9XG59LmNhbGwodGhpcykpO1xuIiwgIid1c2Ugc3RyaWN0J1xuY29uc3QgXyA9IHJlcXVpcmUoJ2xvZGFzaCcpXG5cbmNvbnN0IENBVENIX0FMTCA9IC8oKSguKykvZ2lcbmNvbnN0IFNDSVNTT1IgPSAnIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gPjggLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tJ1xuXG5mdW5jdGlvbiB0cmltT2ZmTmV3bGluZXMgKGlucHV0KSB7XG4gIGNvbnN0IHJlc3VsdCA9IGlucHV0Lm1hdGNoKC9bXlxcclxcbl0vKVxuICBpZiAoIXJlc3VsdCkge1xuICAgIHJldHVybiAnJ1xuICB9XG4gIGNvbnN0IGZpcnN0SW5kZXggPSByZXN1bHQuaW5kZXhcbiAgbGV0IGxhc3RJbmRleCA9IGlucHV0Lmxlbmd0aCAtIDFcbiAgd2hpbGUgKGlucHV0W2xhc3RJbmRleF0gPT09ICdcXHInIHx8IGlucHV0W2xhc3RJbmRleF0gPT09ICdcXG4nKSB7XG4gICAgbGFzdEluZGV4LS1cbiAgfVxuICByZXR1cm4gaW5wdXQuc3Vic3RyaW5nKGZpcnN0SW5kZXgsIGxhc3RJbmRleCArIDEpXG59XG5cbmZ1bmN0aW9uIGFwcGVuZCAoc3JjLCBsaW5lKSB7XG4gIGlmIChzcmMpIHtcbiAgICBzcmMgKz0gJ1xcbicgKyBsaW5lXG4gIH0gZWxzZSB7XG4gICAgc3JjID0gbGluZVxuICB9XG5cbiAgcmV0dXJuIHNyY1xufVxuXG5mdW5jdGlvbiBnZXRDb21tZW50RmlsdGVyIChjaGFyKSB7XG4gIHJldHVybiBmdW5jdGlvbiAobGluZSkge1xuICAgIHJldHVybiBsaW5lLmNoYXJBdCgwKSAhPT0gY2hhclxuICB9XG59XG5cbmZ1bmN0aW9uIHRydW5jYXRlVG9TY2lzc29yIChsaW5lcykge1xuICBjb25zdCBzY2lzc29ySW5kZXggPSBsaW5lcy5pbmRleE9mKFNDSVNTT1IpXG5cbiAgaWYgKHNjaXNzb3JJbmRleCA9PT0gLTEpIHtcbiAgICByZXR1cm4gbGluZXNcbiAgfVxuXG4gIHJldHVybiBsaW5lcy5zbGljZSgwLCBzY2lzc29ySW5kZXgpXG59XG5cbmZ1bmN0aW9uIGdldFJlZmVyZW5jZXMgKGlucHV0LCByZWdleCkge1xuICBjb25zdCByZWZlcmVuY2VzID0gW11cbiAgbGV0IHJlZmVyZW5jZVNlbnRlbmNlc1xuICBsZXQgcmVmZXJlbmNlTWF0Y2hcblxuICBjb25zdCByZUFwcGxpY2FibGUgPSBpbnB1dC5tYXRjaChyZWdleC5yZWZlcmVuY2VzKSAhPT0gbnVsbFxuICAgID8gcmVnZXgucmVmZXJlbmNlc1xuICAgIDogQ0FUQ0hfQUxMXG5cbiAgd2hpbGUgKChyZWZlcmVuY2VTZW50ZW5jZXMgPSByZUFwcGxpY2FibGUuZXhlYyhpbnB1dCkpKSB7XG4gICAgY29uc3QgYWN0aW9uID0gcmVmZXJlbmNlU2VudGVuY2VzWzFdIHx8IG51bGxcbiAgICBjb25zdCBzZW50ZW5jZSA9IHJlZmVyZW5jZVNlbnRlbmNlc1syXVxuXG4gICAgd2hpbGUgKChyZWZlcmVuY2VNYXRjaCA9IHJlZ2V4LnJlZmVyZW5jZVBhcnRzLmV4ZWMoc2VudGVuY2UpKSkge1xuICAgICAgbGV0IG93bmVyID0gbnVsbFxuICAgICAgbGV0IHJlcG9zaXRvcnkgPSByZWZlcmVuY2VNYXRjaFsxXSB8fCAnJ1xuICAgICAgY29uc3Qgb3duZXJSZXBvID0gcmVwb3NpdG9yeS5zcGxpdCgnLycpXG5cbiAgICAgIGlmIChvd25lclJlcG8ubGVuZ3RoID4gMSkge1xuICAgICAgICBvd25lciA9IG93bmVyUmVwby5zaGlmdCgpXG4gICAgICAgIHJlcG9zaXRvcnkgPSBvd25lclJlcG8uam9pbignLycpXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHJlZmVyZW5jZSA9IHtcbiAgICAgICAgYWN0aW9uOiBhY3Rpb24sXG4gICAgICAgIG93bmVyOiBvd25lcixcbiAgICAgICAgcmVwb3NpdG9yeTogcmVwb3NpdG9yeSB8fCBudWxsLFxuICAgICAgICBpc3N1ZTogcmVmZXJlbmNlTWF0Y2hbM10sXG4gICAgICAgIHJhdzogcmVmZXJlbmNlTWF0Y2hbMF0sXG4gICAgICAgIHByZWZpeDogcmVmZXJlbmNlTWF0Y2hbMl1cbiAgICAgIH1cblxuICAgICAgcmVmZXJlbmNlcy5wdXNoKHJlZmVyZW5jZSlcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVmZXJlbmNlc1xufVxuXG5mdW5jdGlvbiBwYXNzVHJvdWdoICgpIHtcbiAgcmV0dXJuIHRydWVcbn1cblxuZnVuY3Rpb24gcGFyc2VyIChyYXcsIG9wdGlvbnMsIHJlZ2V4KSB7XG4gIGlmICghcmF3IHx8ICFyYXcudHJpbSgpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRXhwZWN0ZWQgYSByYXcgY29tbWl0JylcbiAgfVxuXG4gIGlmIChfLmlzRW1wdHkob3B0aW9ucykpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdFeHBlY3RlZCBvcHRpb25zJylcbiAgfVxuXG4gIGlmIChfLmlzRW1wdHkocmVnZXgpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRXhwZWN0ZWQgcmVnZXgnKVxuICB9XG5cbiAgbGV0IGN1cnJlbnRQcm9jZXNzZWRGaWVsZFxuICBsZXQgbWVudGlvbnNNYXRjaFxuICBjb25zdCBvdGhlckZpZWxkcyA9IHt9XG4gIGNvbnN0IGNvbW1lbnRGaWx0ZXIgPSB0eXBlb2Ygb3B0aW9ucy5jb21tZW50Q2hhciA9PT0gJ3N0cmluZydcbiAgICA/IGdldENvbW1lbnRGaWx0ZXIob3B0aW9ucy5jb21tZW50Q2hhcilcbiAgICA6IHBhc3NUcm91Z2hcbiAgY29uc3QgZ3BnRmlsdGVyID0gbGluZSA9PiAhbGluZS5tYXRjaCgvXlxccypncGc6LylcblxuICBjb25zdCByYXdMaW5lcyA9IHRyaW1PZmZOZXdsaW5lcyhyYXcpLnNwbGl0KC9cXHI/XFxuLylcbiAgY29uc3QgbGluZXMgPSB0cnVuY2F0ZVRvU2Npc3NvcihyYXdMaW5lcykuZmlsdGVyKGNvbW1lbnRGaWx0ZXIpLmZpbHRlcihncGdGaWx0ZXIpXG5cbiAgbGV0IGNvbnRpbnVlTm90ZSA9IGZhbHNlXG4gIGxldCBpc0JvZHkgPSB0cnVlXG4gIGNvbnN0IGhlYWRlckNvcnJlc3BvbmRlbmNlID0gXy5tYXAob3B0aW9ucy5oZWFkZXJDb3JyZXNwb25kZW5jZSwgZnVuY3Rpb24gKHBhcnQpIHtcbiAgICByZXR1cm4gcGFydC50cmltKClcbiAgfSlcbiAgY29uc3QgcmV2ZXJ0Q29ycmVzcG9uZGVuY2UgPSBfLm1hcChvcHRpb25zLnJldmVydENvcnJlc3BvbmRlbmNlLCBmdW5jdGlvbiAoZmllbGQpIHtcbiAgICByZXR1cm4gZmllbGQudHJpbSgpXG4gIH0pXG4gIGNvbnN0IG1lcmdlQ29ycmVzcG9uZGVuY2UgPSBfLm1hcChvcHRpb25zLm1lcmdlQ29ycmVzcG9uZGVuY2UsIGZ1bmN0aW9uIChmaWVsZCkge1xuICAgIHJldHVybiBmaWVsZC50cmltKClcbiAgfSlcblxuICBsZXQgYm9keSA9IG51bGxcbiAgbGV0IGZvb3RlciA9IG51bGxcbiAgbGV0IGhlYWRlciA9IG51bGxcbiAgY29uc3QgbWVudGlvbnMgPSBbXVxuICBsZXQgbWVyZ2UgPSBudWxsXG4gIGNvbnN0IG5vdGVzID0gW11cbiAgY29uc3QgcmVmZXJlbmNlcyA9IFtdXG4gIGxldCByZXZlcnQgPSBudWxsXG5cbiAgaWYgKGxpbmVzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiB7XG4gICAgICBib2R5OiBib2R5LFxuICAgICAgZm9vdGVyOiBmb290ZXIsXG4gICAgICBoZWFkZXI6IGhlYWRlcixcbiAgICAgIG1lbnRpb25zOiBtZW50aW9ucyxcbiAgICAgIG1lcmdlOiBtZXJnZSxcbiAgICAgIG5vdGVzOiBub3RlcyxcbiAgICAgIHJlZmVyZW5jZXM6IHJlZmVyZW5jZXMsXG4gICAgICByZXZlcnQ6IHJldmVydCxcbiAgICAgIHNjb3BlOiBudWxsLFxuICAgICAgc3ViamVjdDogbnVsbCxcbiAgICAgIHR5cGU6IG51bGxcbiAgICB9XG4gIH1cblxuICAvLyBtc2cgcGFydHNcbiAgbWVyZ2UgPSBsaW5lcy5zaGlmdCgpXG4gIGNvbnN0IG1lcmdlUGFydHMgPSB7fVxuICBjb25zdCBoZWFkZXJQYXJ0cyA9IHt9XG4gIGJvZHkgPSAnJ1xuICBmb290ZXIgPSAnJ1xuXG4gIGNvbnN0IG1lcmdlTWF0Y2ggPSBtZXJnZS5tYXRjaChvcHRpb25zLm1lcmdlUGF0dGVybilcbiAgaWYgKG1lcmdlTWF0Y2ggJiYgb3B0aW9ucy5tZXJnZVBhdHRlcm4pIHtcbiAgICBtZXJnZSA9IG1lcmdlTWF0Y2hbMF1cblxuICAgIGhlYWRlciA9IGxpbmVzLnNoaWZ0KClcbiAgICB3aGlsZSAoaGVhZGVyICE9PSB1bmRlZmluZWQgJiYgIWhlYWRlci50cmltKCkpIHtcbiAgICAgIGhlYWRlciA9IGxpbmVzLnNoaWZ0KClcbiAgICB9XG4gICAgaWYgKCFoZWFkZXIpIHtcbiAgICAgIGhlYWRlciA9ICcnXG4gICAgfVxuXG4gICAgXy5mb3JFYWNoKG1lcmdlQ29ycmVzcG9uZGVuY2UsIGZ1bmN0aW9uIChwYXJ0TmFtZSwgaW5kZXgpIHtcbiAgICAgIGNvbnN0IHBhcnRWYWx1ZSA9IG1lcmdlTWF0Y2hbaW5kZXggKyAxXSB8fCBudWxsXG4gICAgICBtZXJnZVBhcnRzW3BhcnROYW1lXSA9IHBhcnRWYWx1ZVxuICAgIH0pXG4gIH0gZWxzZSB7XG4gICAgaGVhZGVyID0gbWVyZ2VcbiAgICBtZXJnZSA9IG51bGxcblxuICAgIF8uZm9yRWFjaChtZXJnZUNvcnJlc3BvbmRlbmNlLCBmdW5jdGlvbiAocGFydE5hbWUpIHtcbiAgICAgIG1lcmdlUGFydHNbcGFydE5hbWVdID0gbnVsbFxuICAgIH0pXG4gIH1cblxuICBjb25zdCBoZWFkZXJNYXRjaCA9IGhlYWRlci5tYXRjaChvcHRpb25zLmhlYWRlclBhdHRlcm4pXG4gIGlmIChoZWFkZXJNYXRjaCkge1xuICAgIF8uZm9yRWFjaChoZWFkZXJDb3JyZXNwb25kZW5jZSwgZnVuY3Rpb24gKHBhcnROYW1lLCBpbmRleCkge1xuICAgICAgY29uc3QgcGFydFZhbHVlID0gaGVhZGVyTWF0Y2hbaW5kZXggKyAxXSB8fCBudWxsXG4gICAgICBoZWFkZXJQYXJ0c1twYXJ0TmFtZV0gPSBwYXJ0VmFsdWVcbiAgICB9KVxuICB9IGVsc2Uge1xuICAgIF8uZm9yRWFjaChoZWFkZXJDb3JyZXNwb25kZW5jZSwgZnVuY3Rpb24gKHBhcnROYW1lKSB7XG4gICAgICBoZWFkZXJQYXJ0c1twYXJ0TmFtZV0gPSBudWxsXG4gICAgfSlcbiAgfVxuXG4gIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KHJlZmVyZW5jZXMsIGdldFJlZmVyZW5jZXMoaGVhZGVyLCB7XG4gICAgcmVmZXJlbmNlczogcmVnZXgucmVmZXJlbmNlcyxcbiAgICByZWZlcmVuY2VQYXJ0czogcmVnZXgucmVmZXJlbmNlUGFydHNcbiAgfSkpXG5cbiAgLy8gYm9keSBvciBmb290ZXJcbiAgXy5mb3JFYWNoKGxpbmVzLCBmdW5jdGlvbiAobGluZSkge1xuICAgIGlmIChvcHRpb25zLmZpZWxkUGF0dGVybikge1xuICAgICAgY29uc3QgZmllbGRNYXRjaCA9IG9wdGlvbnMuZmllbGRQYXR0ZXJuLmV4ZWMobGluZSlcblxuICAgICAgaWYgKGZpZWxkTWF0Y2gpIHtcbiAgICAgICAgY3VycmVudFByb2Nlc3NlZEZpZWxkID0gZmllbGRNYXRjaFsxXVxuXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICBpZiAoY3VycmVudFByb2Nlc3NlZEZpZWxkKSB7XG4gICAgICAgIG90aGVyRmllbGRzW2N1cnJlbnRQcm9jZXNzZWRGaWVsZF0gPSBhcHBlbmQob3RoZXJGaWVsZHNbY3VycmVudFByb2Nlc3NlZEZpZWxkXSwgbGluZSlcblxuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICB9XG5cbiAgICBsZXQgcmVmZXJlbmNlTWF0Y2hlZFxuXG4gICAgLy8gdGhpcyBpcyBhIG5ldyBpbXBvcnRhbnQgbm90ZVxuICAgIGNvbnN0IG5vdGVzTWF0Y2ggPSBsaW5lLm1hdGNoKHJlZ2V4Lm5vdGVzKVxuICAgIGlmIChub3Rlc01hdGNoKSB7XG4gICAgICBjb250aW51ZU5vdGUgPSB0cnVlXG4gICAgICBpc0JvZHkgPSBmYWxzZVxuICAgICAgZm9vdGVyID0gYXBwZW5kKGZvb3RlciwgbGluZSlcblxuICAgICAgY29uc3Qgbm90ZSA9IHtcbiAgICAgICAgdGl0bGU6IG5vdGVzTWF0Y2hbMV0sXG4gICAgICAgIHRleHQ6IG5vdGVzTWF0Y2hbMl1cbiAgICAgIH1cblxuICAgICAgbm90ZXMucHVzaChub3RlKVxuXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBjb25zdCBsaW5lUmVmZXJlbmNlcyA9IGdldFJlZmVyZW5jZXMobGluZSwge1xuICAgICAgcmVmZXJlbmNlczogcmVnZXgucmVmZXJlbmNlcyxcbiAgICAgIHJlZmVyZW5jZVBhcnRzOiByZWdleC5yZWZlcmVuY2VQYXJ0c1xuICAgIH0pXG5cbiAgICBpZiAobGluZVJlZmVyZW5jZXMubGVuZ3RoID4gMCkge1xuICAgICAgaXNCb2R5ID0gZmFsc2VcbiAgICAgIHJlZmVyZW5jZU1hdGNoZWQgPSB0cnVlXG4gICAgICBjb250aW51ZU5vdGUgPSBmYWxzZVxuICAgIH1cblxuICAgIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KHJlZmVyZW5jZXMsIGxpbmVSZWZlcmVuY2VzKVxuXG4gICAgaWYgKHJlZmVyZW5jZU1hdGNoZWQpIHtcbiAgICAgIGZvb3RlciA9IGFwcGVuZChmb290ZXIsIGxpbmUpXG5cbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGlmIChjb250aW51ZU5vdGUpIHtcbiAgICAgIG5vdGVzW25vdGVzLmxlbmd0aCAtIDFdLnRleHQgPSBhcHBlbmQobm90ZXNbbm90ZXMubGVuZ3RoIC0gMV0udGV4dCwgbGluZSlcbiAgICAgIGZvb3RlciA9IGFwcGVuZChmb290ZXIsIGxpbmUpXG5cbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGlmIChpc0JvZHkpIHtcbiAgICAgIGJvZHkgPSBhcHBlbmQoYm9keSwgbGluZSlcbiAgICB9IGVsc2Uge1xuICAgICAgZm9vdGVyID0gYXBwZW5kKGZvb3RlciwgbGluZSlcbiAgICB9XG4gIH0pXG5cbiAgaWYgKG9wdGlvbnMuYnJlYWtpbmdIZWFkZXJQYXR0ZXJuICYmIG5vdGVzLmxlbmd0aCA9PT0gMCkge1xuICAgIGNvbnN0IGJyZWFraW5nSGVhZGVyID0gaGVhZGVyLm1hdGNoKG9wdGlvbnMuYnJlYWtpbmdIZWFkZXJQYXR0ZXJuKVxuICAgIGlmIChicmVha2luZ0hlYWRlcikge1xuICAgICAgY29uc3Qgbm90ZVRleHQgPSBicmVha2luZ0hlYWRlclszXSAvLyB0aGUgZGVzY3JpcHRpb24gb2YgdGhlIGNoYW5nZS5cbiAgICAgIG5vdGVzLnB1c2goe1xuICAgICAgICB0aXRsZTogJ0JSRUFLSU5HIENIQU5HRScsXG4gICAgICAgIHRleHQ6IG5vdGVUZXh0XG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIHdoaWxlICgobWVudGlvbnNNYXRjaCA9IHJlZ2V4Lm1lbnRpb25zLmV4ZWMocmF3KSkpIHtcbiAgICBtZW50aW9ucy5wdXNoKG1lbnRpb25zTWF0Y2hbMV0pXG4gIH1cblxuICAvLyBkb2VzIHRoaXMgY29tbWl0IHJldmVydCBhbnkgb3RoZXIgY29tbWl0P1xuICBjb25zdCByZXZlcnRNYXRjaCA9IHJhdy5tYXRjaChvcHRpb25zLnJldmVydFBhdHRlcm4pXG4gIGlmIChyZXZlcnRNYXRjaCkge1xuICAgIHJldmVydCA9IHt9XG4gICAgXy5mb3JFYWNoKHJldmVydENvcnJlc3BvbmRlbmNlLCBmdW5jdGlvbiAocGFydE5hbWUsIGluZGV4KSB7XG4gICAgICBjb25zdCBwYXJ0VmFsdWUgPSByZXZlcnRNYXRjaFtpbmRleCArIDFdIHx8IG51bGxcbiAgICAgIHJldmVydFtwYXJ0TmFtZV0gPSBwYXJ0VmFsdWVcbiAgICB9KVxuICB9IGVsc2Uge1xuICAgIHJldmVydCA9IG51bGxcbiAgfVxuXG4gIF8ubWFwKG5vdGVzLCBmdW5jdGlvbiAobm90ZSkge1xuICAgIG5vdGUudGV4dCA9IHRyaW1PZmZOZXdsaW5lcyhub3RlLnRleHQpXG5cbiAgICByZXR1cm4gbm90ZVxuICB9KVxuXG4gIGNvbnN0IG1zZyA9IF8ubWVyZ2UoaGVhZGVyUGFydHMsIG1lcmdlUGFydHMsIHtcbiAgICBtZXJnZTogbWVyZ2UsXG4gICAgaGVhZGVyOiBoZWFkZXIsXG4gICAgYm9keTogYm9keSA/IHRyaW1PZmZOZXdsaW5lcyhib2R5KSA6IG51bGwsXG4gICAgZm9vdGVyOiBmb290ZXIgPyB0cmltT2ZmTmV3bGluZXMoZm9vdGVyKSA6IG51bGwsXG4gICAgbm90ZXM6IG5vdGVzLFxuICAgIHJlZmVyZW5jZXM6IHJlZmVyZW5jZXMsXG4gICAgbWVudGlvbnM6IG1lbnRpb25zLFxuICAgIHJldmVydDogcmV2ZXJ0XG4gIH0sIG90aGVyRmllbGRzKVxuXG4gIHJldHVybiBtc2dcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBwYXJzZXJcbiIsICIndXNlIHN0cmljdCdcblxuY29uc3QgcmVOb21hdGNoID0gLyg/IS4qKS9cblxuZnVuY3Rpb24gam9pbiAoYXJyYXksIGpvaW5lcikge1xuICByZXR1cm4gYXJyYXlcbiAgICAubWFwKGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgIHJldHVybiB2YWwudHJpbSgpXG4gICAgfSlcbiAgICAuZmlsdGVyKGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgIHJldHVybiB2YWwubGVuZ3RoXG4gICAgfSlcbiAgICAuam9pbihqb2luZXIpXG59XG5cbmZ1bmN0aW9uIGdldE5vdGVzUmVnZXggKG5vdGVLZXl3b3Jkcywgbm90ZXNQYXR0ZXJuKSB7XG4gIGlmICghbm90ZUtleXdvcmRzKSB7XG4gICAgcmV0dXJuIHJlTm9tYXRjaFxuICB9XG5cbiAgY29uc3Qgbm90ZUtleXdvcmRzU2VsZWN0aW9uID0gam9pbihub3RlS2V5d29yZHMsICd8JylcblxuICBpZiAoIW5vdGVzUGF0dGVybikge1xuICAgIHJldHVybiBuZXcgUmVnRXhwKCdeW1xcXFxzfCpdKignICsgbm90ZUtleXdvcmRzU2VsZWN0aW9uICsgJylbOlxcXFxzXSsoLiopJywgJ2knKVxuICB9XG5cbiAgcmV0dXJuIG5vdGVzUGF0dGVybihub3RlS2V5d29yZHNTZWxlY3Rpb24pXG59XG5cbmZ1bmN0aW9uIGdldFJlZmVyZW5jZVBhcnRzUmVnZXggKGlzc3VlUHJlZml4ZXMsIGlzc3VlUHJlZml4ZXNDYXNlU2Vuc2l0aXZlKSB7XG4gIGlmICghaXNzdWVQcmVmaXhlcykge1xuICAgIHJldHVybiByZU5vbWF0Y2hcbiAgfVxuXG4gIGNvbnN0IGZsYWdzID0gaXNzdWVQcmVmaXhlc0Nhc2VTZW5zaXRpdmUgPyAnZycgOiAnZ2knXG4gIHJldHVybiBuZXcgUmVnRXhwKCcoPzouKj8pPz9cXFxccyooW1xcXFx3LVxcXFwuXFxcXC9dKj8pPz8oJyArIGpvaW4oaXNzdWVQcmVmaXhlcywgJ3wnKSArICcpKFtcXFxcdy1dKlxcXFxkKyknLCBmbGFncylcbn1cblxuZnVuY3Rpb24gZ2V0UmVmZXJlbmNlc1JlZ2V4IChyZWZlcmVuY2VBY3Rpb25zKSB7XG4gIGlmICghcmVmZXJlbmNlQWN0aW9ucykge1xuICAgIC8vIG1hdGNoZXMgZXZlcnl0aGluZ1xuICAgIHJldHVybiAvKCkoLispL2dpXG4gIH1cblxuICBjb25zdCBqb2luZWRLZXl3b3JkcyA9IGpvaW4ocmVmZXJlbmNlQWN0aW9ucywgJ3wnKVxuICByZXR1cm4gbmV3IFJlZ0V4cCgnKCcgKyBqb2luZWRLZXl3b3JkcyArICcpKD86XFxcXHMrKC4qPykpKD89KD86JyArIGpvaW5lZEtleXdvcmRzICsgJyl8JCknLCAnZ2knKVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9XG4gIGNvbnN0IHJlTm90ZXMgPSBnZXROb3Rlc1JlZ2V4KG9wdGlvbnMubm90ZUtleXdvcmRzLCBvcHRpb25zLm5vdGVzUGF0dGVybilcbiAgY29uc3QgcmVSZWZlcmVuY2VQYXJ0cyA9IGdldFJlZmVyZW5jZVBhcnRzUmVnZXgob3B0aW9ucy5pc3N1ZVByZWZpeGVzLCBvcHRpb25zLmlzc3VlUHJlZml4ZXNDYXNlU2Vuc2l0aXZlKVxuICBjb25zdCByZVJlZmVyZW5jZXMgPSBnZXRSZWZlcmVuY2VzUmVnZXgob3B0aW9ucy5yZWZlcmVuY2VBY3Rpb25zKVxuXG4gIHJldHVybiB7XG4gICAgbm90ZXM6IHJlTm90ZXMsXG4gICAgcmVmZXJlbmNlUGFydHM6IHJlUmVmZXJlbmNlUGFydHMsXG4gICAgcmVmZXJlbmNlczogcmVSZWZlcmVuY2VzLFxuICAgIG1lbnRpb25zOiAvQChbXFx3LV0rKS9nXG4gIH1cbn1cbiIsICJjb25zdCB7IFRyYW5zZm9ybSB9ID0gcmVxdWlyZSgncmVhZGFibGUtc3RyZWFtJylcblxuZnVuY3Rpb24gaW5oZXJpdHMgKGZuLCBzdXApIHtcbiAgZm4uc3VwZXJfID0gc3VwXG4gIGZuLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwLnByb3RvdHlwZSwge1xuICAgIGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBmbiwgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfVxuICB9KVxufVxuXG4vLyBjcmVhdGUgYSBuZXcgZXhwb3J0IGZ1bmN0aW9uLCB1c2VkIGJ5IGJvdGggdGhlIG1haW4gZXhwb3J0IGFuZFxuLy8gdGhlIC5jdG9yIGV4cG9ydCwgY29udGFpbnMgY29tbW9uIGxvZ2ljIGZvciBkZWFsaW5nIHdpdGggYXJndW1lbnRzXG5mdW5jdGlvbiB0aHJvdWdoMiAoY29uc3RydWN0KSB7XG4gIHJldHVybiAob3B0aW9ucywgdHJhbnNmb3JtLCBmbHVzaCkgPT4ge1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgZmx1c2ggPSB0cmFuc2Zvcm1cbiAgICAgIHRyYW5zZm9ybSA9IG9wdGlvbnNcbiAgICAgIG9wdGlvbnMgPSB7fVxuICAgIH1cblxuICAgIGlmICh0eXBlb2YgdHJhbnNmb3JtICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAvLyBub29wXG4gICAgICB0cmFuc2Zvcm0gPSAoY2h1bmssIGVuYywgY2IpID0+IGNiKG51bGwsIGNodW5rKVxuICAgIH1cblxuICAgIGlmICh0eXBlb2YgZmx1c2ggIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGZsdXNoID0gbnVsbFxuICAgIH1cblxuICAgIHJldHVybiBjb25zdHJ1Y3Qob3B0aW9ucywgdHJhbnNmb3JtLCBmbHVzaClcbiAgfVxufVxuXG4vLyBtYWluIGV4cG9ydCwganVzdCBtYWtlIG1lIGEgdHJhbnNmb3JtIHN0cmVhbSFcbmNvbnN0IG1ha2UgPSB0aHJvdWdoMigob3B0aW9ucywgdHJhbnNmb3JtLCBmbHVzaCkgPT4ge1xuICBjb25zdCB0MiA9IG5ldyBUcmFuc2Zvcm0ob3B0aW9ucylcblxuICB0Mi5fdHJhbnNmb3JtID0gdHJhbnNmb3JtXG5cbiAgaWYgKGZsdXNoKSB7XG4gICAgdDIuX2ZsdXNoID0gZmx1c2hcbiAgfVxuXG4gIHJldHVybiB0MlxufSlcblxuLy8gbWFrZSBtZSBhIHJldXNhYmxlIHByb3RvdHlwZSB0aGF0IEkgY2FuIGBuZXdgLCBvciBpbXBsaWNpdGx5IGBuZXdgXG4vLyB3aXRoIGEgY29uc3RydWN0b3IgY2FsbFxuY29uc3QgY3RvciA9IHRocm91Z2gyKChvcHRpb25zLCB0cmFuc2Zvcm0sIGZsdXNoKSA9PiB7XG4gIGZ1bmN0aW9uIFRocm91Z2gyIChvdmVycmlkZSkge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBUaHJvdWdoMikpIHtcbiAgICAgIHJldHVybiBuZXcgVGhyb3VnaDIob3ZlcnJpZGUpXG4gICAgfVxuXG4gICAgdGhpcy5vcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucywgb3ZlcnJpZGUpXG5cbiAgICBUcmFuc2Zvcm0uY2FsbCh0aGlzLCB0aGlzLm9wdGlvbnMpXG5cbiAgICB0aGlzLl90cmFuc2Zvcm0gPSB0cmFuc2Zvcm1cbiAgICBpZiAoZmx1c2gpIHtcbiAgICAgIHRoaXMuX2ZsdXNoID0gZmx1c2hcbiAgICB9XG4gIH1cblxuICBpbmhlcml0cyhUaHJvdWdoMiwgVHJhbnNmb3JtKVxuXG4gIHJldHVybiBUaHJvdWdoMlxufSlcblxuY29uc3Qgb2JqID0gdGhyb3VnaDIoZnVuY3Rpb24gKG9wdGlvbnMsIHRyYW5zZm9ybSwgZmx1c2gpIHtcbiAgY29uc3QgdDIgPSBuZXcgVHJhbnNmb3JtKE9iamVjdC5hc3NpZ24oeyBvYmplY3RNb2RlOiB0cnVlLCBoaWdoV2F0ZXJNYXJrOiAxNiB9LCBvcHRpb25zKSlcblxuICB0Mi5fdHJhbnNmb3JtID0gdHJhbnNmb3JtXG5cbiAgaWYgKGZsdXNoKSB7XG4gICAgdDIuX2ZsdXNoID0gZmx1c2hcbiAgfVxuXG4gIHJldHVybiB0MlxufSlcblxubW9kdWxlLmV4cG9ydHMgPSBtYWtlXG5tb2R1bGUuZXhwb3J0cy5jdG9yID0gY3RvclxubW9kdWxlLmV4cG9ydHMub2JqID0gb2JqXG4iLCAiJ3VzZSBzdHJpY3QnXG5cbmNvbnN0IHBhcnNlciA9IHJlcXVpcmUoJy4vbGliL3BhcnNlcicpXG5jb25zdCByZWdleCA9IHJlcXVpcmUoJy4vbGliL3JlZ2V4JylcbmNvbnN0IHRocm91Z2ggPSByZXF1aXJlKCd0aHJvdWdoMicpXG5jb25zdCBfID0gcmVxdWlyZSgnbG9kYXNoJylcblxuZnVuY3Rpb24gYXNzaWduT3B0cyAob3B0aW9ucykge1xuICBvcHRpb25zID0gXy5leHRlbmQoe1xuICAgIGhlYWRlclBhdHRlcm46IC9eKFxcdyopKD86XFwoKFtcXHckLlxcLSovIF0qKVxcKSk/OiAoLiopJC8sXG4gICAgaGVhZGVyQ29ycmVzcG9uZGVuY2U6IFsndHlwZScsICdzY29wZScsICdzdWJqZWN0J10sXG4gICAgcmVmZXJlbmNlQWN0aW9uczogW1xuICAgICAgJ2Nsb3NlJyxcbiAgICAgICdjbG9zZXMnLFxuICAgICAgJ2Nsb3NlZCcsXG4gICAgICAnZml4JyxcbiAgICAgICdmaXhlcycsXG4gICAgICAnZml4ZWQnLFxuICAgICAgJ3Jlc29sdmUnLFxuICAgICAgJ3Jlc29sdmVzJyxcbiAgICAgICdyZXNvbHZlZCdcbiAgICBdLFxuICAgIGlzc3VlUHJlZml4ZXM6IFsnIyddLFxuICAgIG5vdGVLZXl3b3JkczogWydCUkVBS0lORyBDSEFOR0UnLCAnQlJFQUtJTkctQ0hBTkdFJ10sXG4gICAgZmllbGRQYXR0ZXJuOiAvXi0oLio/KS0kLyxcbiAgICByZXZlcnRQYXR0ZXJuOiAvXlJldmVydFxcc1wiKFtcXHNcXFNdKilcIlxccypUaGlzIHJldmVydHMgY29tbWl0IChcXHcqKVxcLi8sXG4gICAgcmV2ZXJ0Q29ycmVzcG9uZGVuY2U6IFsnaGVhZGVyJywgJ2hhc2gnXSxcbiAgICB3YXJuOiBmdW5jdGlvbiAoKSB7fSxcbiAgICBtZXJnZVBhdHRlcm46IG51bGwsXG4gICAgbWVyZ2VDb3JyZXNwb25kZW5jZTogbnVsbFxuICB9LCBvcHRpb25zKVxuXG4gIGlmICh0eXBlb2Ygb3B0aW9ucy5oZWFkZXJQYXR0ZXJuID09PSAnc3RyaW5nJykge1xuICAgIG9wdGlvbnMuaGVhZGVyUGF0dGVybiA9IG5ldyBSZWdFeHAob3B0aW9ucy5oZWFkZXJQYXR0ZXJuKVxuICB9XG5cbiAgaWYgKHR5cGVvZiBvcHRpb25zLmhlYWRlckNvcnJlc3BvbmRlbmNlID09PSAnc3RyaW5nJykge1xuICAgIG9wdGlvbnMuaGVhZGVyQ29ycmVzcG9uZGVuY2UgPSBvcHRpb25zLmhlYWRlckNvcnJlc3BvbmRlbmNlLnNwbGl0KCcsJylcbiAgfVxuXG4gIGlmICh0eXBlb2Ygb3B0aW9ucy5yZWZlcmVuY2VBY3Rpb25zID09PSAnc3RyaW5nJykge1xuICAgIG9wdGlvbnMucmVmZXJlbmNlQWN0aW9ucyA9IG9wdGlvbnMucmVmZXJlbmNlQWN0aW9ucy5zcGxpdCgnLCcpXG4gIH1cblxuICBpZiAodHlwZW9mIG9wdGlvbnMuaXNzdWVQcmVmaXhlcyA9PT0gJ3N0cmluZycpIHtcbiAgICBvcHRpb25zLmlzc3VlUHJlZml4ZXMgPSBvcHRpb25zLmlzc3VlUHJlZml4ZXMuc3BsaXQoJywnKVxuICB9XG5cbiAgaWYgKHR5cGVvZiBvcHRpb25zLm5vdGVLZXl3b3JkcyA9PT0gJ3N0cmluZycpIHtcbiAgICBvcHRpb25zLm5vdGVLZXl3b3JkcyA9IG9wdGlvbnMubm90ZUtleXdvcmRzLnNwbGl0KCcsJylcbiAgfVxuXG4gIGlmICh0eXBlb2Ygb3B0aW9ucy5maWVsZFBhdHRlcm4gPT09ICdzdHJpbmcnKSB7XG4gICAgb3B0aW9ucy5maWVsZFBhdHRlcm4gPSBuZXcgUmVnRXhwKG9wdGlvbnMuZmllbGRQYXR0ZXJuKVxuICB9XG5cbiAgaWYgKHR5cGVvZiBvcHRpb25zLnJldmVydFBhdHRlcm4gPT09ICdzdHJpbmcnKSB7XG4gICAgb3B0aW9ucy5yZXZlcnRQYXR0ZXJuID0gbmV3IFJlZ0V4cChvcHRpb25zLnJldmVydFBhdHRlcm4pXG4gIH1cblxuICBpZiAodHlwZW9mIG9wdGlvbnMucmV2ZXJ0Q29ycmVzcG9uZGVuY2UgPT09ICdzdHJpbmcnKSB7XG4gICAgb3B0aW9ucy5yZXZlcnRDb3JyZXNwb25kZW5jZSA9IG9wdGlvbnMucmV2ZXJ0Q29ycmVzcG9uZGVuY2Uuc3BsaXQoJywnKVxuICB9XG5cbiAgaWYgKHR5cGVvZiBvcHRpb25zLm1lcmdlUGF0dGVybiA9PT0gJ3N0cmluZycpIHtcbiAgICBvcHRpb25zLm1lcmdlUGF0dGVybiA9IG5ldyBSZWdFeHAob3B0aW9ucy5tZXJnZVBhdHRlcm4pXG4gIH1cblxuICByZXR1cm4gb3B0aW9uc1xufVxuXG5mdW5jdGlvbiBjb252ZW50aW9uYWxDb21taXRzUGFyc2VyIChvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBhc3NpZ25PcHRzKG9wdGlvbnMpXG4gIGNvbnN0IHJlZyA9IHJlZ2V4KG9wdGlvbnMpXG5cbiAgcmV0dXJuIHRocm91Z2gub2JqKGZ1bmN0aW9uIChkYXRhLCBlbmMsIGNiKSB7XG4gICAgbGV0IGNvbW1pdFxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbW1pdCA9IHBhcnNlcihkYXRhLnRvU3RyaW5nKCksIG9wdGlvbnMsIHJlZylcbiAgICAgIGNiKG51bGwsIGNvbW1pdClcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGlmIChvcHRpb25zLndhcm4gPT09IHRydWUpIHtcbiAgICAgICAgY2IoZXJyKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3B0aW9ucy53YXJuKGVyci50b1N0cmluZygpKVxuICAgICAgICBjYihudWxsLCAnJylcbiAgICAgIH1cbiAgICB9XG4gIH0pXG59XG5cbmZ1bmN0aW9uIHN5bmMgKGNvbW1pdCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gYXNzaWduT3B0cyhvcHRpb25zKVxuICBjb25zdCByZWcgPSByZWdleChvcHRpb25zKVxuXG4gIHJldHVybiBwYXJzZXIoY29tbWl0LCBvcHRpb25zLCByZWcpXG59XG5cbm1vZHVsZS5leHBvcnRzID0gY29udmVudGlvbmFsQ29tbWl0c1BhcnNlclxubW9kdWxlLmV4cG9ydHMuc3luYyA9IHN5bmNcbiIsICIndXNlIHN0cmljdCdcblxuY29uc3Qgbm9kZVBhdGggPSByZXF1aXJlKCdwYXRoJylcblxubW9kdWxlLmV4cG9ydHMgPSBwcmVzZXRMb2FkZXIocmVxdWlyZSlcbm1vZHVsZS5leHBvcnRzLnByZXNldExvYWRlciA9IHByZXNldExvYWRlclxuXG5mdW5jdGlvbiBwcmVzZXRMb2FkZXIgKHJlcXVpcmVNZXRob2QpIHtcbiAgcmV0dXJuIHBhdGggPT4ge1xuICAgIGxldCBuYW1lID0gJydcbiAgICBsZXQgc2NvcGUgPSAnJ1xuICAgIGxldCBhYnNvbHV0ZVBhdGggPSAnJ1xuXG4gICAgaWYgKHR5cGVvZiBwYXRoID09PSAnc3RyaW5nJykge1xuICAgICAgbmFtZSA9IHBhdGgudG9Mb3dlckNhc2UoKVxuICAgICAgaWYgKG5vZGVQYXRoLmlzQWJzb2x1dGUocGF0aCkpIHtcbiAgICAgICAgYWJzb2x1dGVQYXRoID0gcGF0aFxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodHlwZW9mIHBhdGggPT09ICdvYmplY3QnICYmIHBhdGgubmFtZSkge1xuICAgICAgLy8gUmF0aGVyIHRoYW4gYSBzdHJpbmcgcHJlc2V0IG5hbWUsIG9wdGlvbnMucHJlc2V0IGNhbiBiZSBhbiBvYmplY3RcbiAgICAgIC8vIHdpdGggYSBcIm5hbWVcIiBrZXkgaW5kaWNhdGluZyB0aGUgcHJlc2V0IHRvIGxvYWQ7IGFkZGl0aW5vYWwga2V5L3ZhbHVlXG4gICAgICAvLyBwYWlycyBhcmUgYXNzdW1lZCB0byBiZSBjb25maWd1cmF0aW9uIGZvciB0aGUgcHJlc2V0LiBTZWUgdGhlIGRvY3VtZW50YXRpb25cbiAgICAgIC8vIGZvciBhIGdpdmVuIHByZXNldCBmb3IgY29uZmlndXJhdGlvbiBhdmFpbGFibGUuXG4gICAgICBuYW1lID0gcGF0aC5uYW1lLnRvTG93ZXJDYXNlKClcbiAgICAgIGlmIChub2RlUGF0aC5pc0Fic29sdXRlKHBhdGgubmFtZSkpIHtcbiAgICAgICAgYWJzb2x1dGVQYXRoID0gcGF0aC5uYW1lXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IEVycm9yKCdwcmVzZXQgbXVzdCBiZSBzdHJpbmcgb3Igb2JqZWN0IHdpdGgga2V5IG5hbWUnKVxuICAgIH1cblxuICAgIGlmICghYWJzb2x1dGVQYXRoKSB7XG4gICAgICBpZiAobmFtZVswXSA9PT0gJ0AnKSB7XG4gICAgICAgIGNvbnN0IHBhcnRzID0gbmFtZS5zcGxpdCgnLycpXG4gICAgICAgIHNjb3BlID0gcGFydHMuc2hpZnQoKSArICcvJ1xuICAgICAgICBuYW1lID0gcGFydHMuam9pbignLycpXG4gICAgICB9XG5cbiAgICAgIGlmICghbmFtZS5zdGFydHNXaXRoKCdjb252ZW50aW9uYWwtY2hhbmdlbG9nLScpKSB7XG4gICAgICAgIG5hbWUgPSBgY29udmVudGlvbmFsLWNoYW5nZWxvZy0ke25hbWV9YFxuICAgICAgfVxuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBjb25maWcgPSByZXF1aXJlTWV0aG9kKGFic29sdXRlUGF0aCB8fCBgJHtzY29wZX0ke25hbWV9YClcbiAgICAgIC8vIHJhdGhlciB0aGFuIHJldHVybmluZyBhIHByb21pc2UsIHByZXNldHMgY2FuIHJldHVybiBhIGJ1aWxkZXIgZnVuY3Rpb25cbiAgICAgIC8vIHdoaWNoIGFjY2VwdHMgYSBjb25maWcgb2JqZWN0IChhbGxvd2luZyBmb3IgY3VzdG9taXphdGlvbikgYW5kIHJldHVybnNcbiAgICAgIC8vIGEgcHJvbWlzZS5cbiAgICAgIGlmIChjb25maWcgJiYgIWNvbmZpZy50aGVuICYmIHR5cGVvZiBwYXRoID09PSAnb2JqZWN0Jykge1xuICAgICAgICByZXR1cm4gY29uZmlnKHBhdGgpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyByZXF1aXJlIHJldHVybmVkIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIGEgY29uZmlnIG9iamVjdC5cbiAgICAgICAgcmV0dXJuIGNvbmZpZ1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKF8pIHtcbiAgICAgIHRocm93IEVycm9yKCdkb2VzIG5vdCBleGlzdCcpXG4gICAgfVxuICB9XG59XG4iLCAiJ3VzZSBzdHJpY3QnXG5cbmNvbnN0IHByb2MgPSByZXF1aXJlKCdwcm9jZXNzJylcbmNvbnN0IGV4ZWMgPSByZXF1aXJlKCdjaGlsZF9wcm9jZXNzJykuZXhlY1xuY29uc3Qgc2VtdmVyVmFsaWQgPSByZXF1aXJlKCdzZW12ZXInKS52YWxpZFxuY29uc3QgcmVnZXggPSAvdGFnOlxccyooLis/KVssKV0vZ2lcbmNvbnN0IGNtZCA9ICdnaXQgbG9nIC0tZGVjb3JhdGUgLS1uby1jb2xvcidcbmNvbnN0IHVuc3RhYmxlVGFnVGVzdCA9IC8uKy1cXHcrXFwuXFxkKyQvXG5cbmZ1bmN0aW9uIGxlcm5hVGFnICh0YWcsIHBrZykge1xuICBpZiAocGtnICYmICEobmV3IFJlZ0V4cCgnXicgKyBwa2cgKyAnQCcpKS50ZXN0KHRhZykpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gL14uK0BbMC05XStcXC5bMC05XStcXC5bMC05XSsoLS4rKT8kLy50ZXN0KHRhZylcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGdpdFNlbXZlclRhZ3MgKG9wdHMsIGNhbGxiYWNrKSB7XG4gIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNhbGxiYWNrID0gb3B0c1xuICAgIG9wdHMgPSB7fVxuICB9XG4gIGNvbnN0IG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHsgbWF4QnVmZmVyOiBJbmZpbml0eSwgY3dkOiBwcm9jLmN3ZCgpIH0sIG9wdHMpXG5cbiAgaWYgKG9wdGlvbnMucGFja2FnZSAmJiAhb3B0aW9ucy5sZXJuYVRhZ3MpIHtcbiAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ29wdHMucGFja2FnZSBzaG91bGQgb25seSBiZSB1c2VkIHdoZW4gcnVubmluZyBpbiBsZXJuYSBtb2RlJykpXG4gICAgcmV0dXJuXG4gIH1cblxuICBleGVjKGNtZCwgb3B0aW9ucywgZnVuY3Rpb24gKGVyciwgZGF0YSkge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIGNhbGxiYWNrKGVycilcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGNvbnN0IHRhZ3MgPSBbXVxuICAgIGxldCB0YWdQcmVmaXhSZWdleHBcbiAgICBpZiAob3B0aW9ucy50YWdQcmVmaXgpIHtcbiAgICAgIHRhZ1ByZWZpeFJlZ2V4cCA9IG5ldyBSZWdFeHAoJ14nICsgb3B0aW9ucy50YWdQcmVmaXggKyAnKC4qKScpXG4gICAgfVxuICAgIGRhdGEuc3BsaXQoJ1xcbicpLmZvckVhY2goZnVuY3Rpb24gKGRlY29yYXRpb25zKSB7XG4gICAgICBsZXQgbWF0Y2hcbiAgICAgIHdoaWxlICgobWF0Y2ggPSByZWdleC5leGVjKGRlY29yYXRpb25zKSkpIHtcbiAgICAgICAgY29uc3QgdGFnID0gbWF0Y2hbMV1cblxuICAgICAgICBpZiAob3B0aW9ucy5za2lwVW5zdGFibGUgJiYgdW5zdGFibGVUYWdUZXN0LnRlc3QodGFnKSkge1xuICAgICAgICAgIC8vIHNraXAgdW5zdGFibGUgdGFnXG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRpb25zLmxlcm5hVGFncykge1xuICAgICAgICAgIGlmIChsZXJuYVRhZyh0YWcsIG9wdGlvbnMucGFja2FnZSkpIHtcbiAgICAgICAgICAgIHRhZ3MucHVzaCh0YWcpXG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbnMudGFnUHJlZml4KSB7XG4gICAgICAgICAgY29uc3QgbWF0Y2hlcyA9IHRhZy5tYXRjaCh0YWdQcmVmaXhSZWdleHApXG4gICAgICAgICAgaWYgKG1hdGNoZXMgJiYgc2VtdmVyVmFsaWQobWF0Y2hlc1sxXSkpIHtcbiAgICAgICAgICAgIHRhZ3MucHVzaCh0YWcpXG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHNlbXZlclZhbGlkKHRhZykpIHtcbiAgICAgICAgICB0YWdzLnB1c2godGFnKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSlcblxuICAgIGNhbGxiYWNrKG51bGwsIHRhZ3MpXG4gIH0pXG59XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBtYXRjaCA9IChhcnJheSwgdmFsdWUpID0+XG5cdGFycmF5LnNvbWUoeCA9PiAoeCBpbnN0YW5jZW9mIFJlZ0V4cCA/IHgudGVzdCh2YWx1ZSkgOiB4ID09PSB2YWx1ZSkpO1xuXG5jb25zdCBkYXJncyA9IChvYmplY3QsIG9wdGlvbnMpID0+IHtcblx0Y29uc3QgYXJndW1lbnRzXyA9IFtdO1xuXHRsZXQgZXh0cmFBcmd1bWVudHMgPSBbXTtcblx0bGV0IHNlcGFyYXRlZEFyZ3VtZW50cyA9IFtdO1xuXG5cdG9wdGlvbnMgPSB7XG5cdFx0dXNlRXF1YWxzOiB0cnVlLFxuXHRcdHNob3J0RmxhZzogdHJ1ZSxcblx0XHQuLi5vcHRpb25zXG5cdH07XG5cblx0Y29uc3QgbWFrZUFyZ3VtZW50cyA9IChrZXksIHZhbHVlKSA9PiB7XG5cdFx0Y29uc3QgcHJlZml4ID0gb3B0aW9ucy5zaG9ydEZsYWcgJiYga2V5Lmxlbmd0aCA9PT0gMSA/ICctJyA6ICctLSc7XG5cdFx0Y29uc3QgdGhlS2V5ID0gKG9wdGlvbnMuYWxsb3dDYW1lbENhc2UgP1xuXHRcdFx0a2V5IDpcblx0XHRcdGtleS5yZXBsYWNlKC9bQS1aXS9nLCAnLSQmJykudG9Mb3dlckNhc2UoKSk7XG5cblx0XHRrZXkgPSBwcmVmaXggKyB0aGVLZXk7XG5cblx0XHRpZiAob3B0aW9ucy51c2VFcXVhbHMpIHtcblx0XHRcdGFyZ3VtZW50c18ucHVzaChrZXkgKyAodmFsdWUgPyBgPSR7dmFsdWV9YCA6ICcnKSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGFyZ3VtZW50c18ucHVzaChrZXkpO1xuXG5cdFx0XHRpZiAodmFsdWUpIHtcblx0XHRcdFx0YXJndW1lbnRzXy5wdXNoKHZhbHVlKTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG5cblx0Y29uc3QgbWFrZUFsaWFzQXJnID0gKGtleSwgdmFsdWUpID0+IHtcblx0XHRhcmd1bWVudHNfLnB1c2goYC0ke2tleX1gKTtcblxuXHRcdGlmICh2YWx1ZSkge1xuXHRcdFx0YXJndW1lbnRzXy5wdXNoKHZhbHVlKTtcblx0XHR9XG5cdH07XG5cblx0Zm9yIChsZXQgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKG9iamVjdCkpIHtcblx0XHRsZXQgcHVzaEFyZ3VtZW50cyA9IG1ha2VBcmd1bWVudHM7XG5cblx0XHRpZiAoQXJyYXkuaXNBcnJheShvcHRpb25zLmV4Y2x1ZGVzKSAmJiBtYXRjaChvcHRpb25zLmV4Y2x1ZGVzLCBrZXkpKSB7XG5cdFx0XHRjb250aW51ZTtcblx0XHR9XG5cblx0XHRpZiAoQXJyYXkuaXNBcnJheShvcHRpb25zLmluY2x1ZGVzKSAmJiAhbWF0Y2gob3B0aW9ucy5pbmNsdWRlcywga2V5KSkge1xuXHRcdFx0Y29udGludWU7XG5cdFx0fVxuXG5cdFx0aWYgKHR5cGVvZiBvcHRpb25zLmFsaWFzZXMgPT09ICdvYmplY3QnICYmIG9wdGlvbnMuYWxpYXNlc1trZXldKSB7XG5cdFx0XHRrZXkgPSBvcHRpb25zLmFsaWFzZXNba2V5XTtcblx0XHRcdHB1c2hBcmd1bWVudHMgPSBtYWtlQWxpYXNBcmc7XG5cdFx0fVxuXG5cdFx0aWYgKGtleSA9PT0gJy0tJykge1xuXHRcdFx0aWYgKCFBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuXHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKFxuXHRcdFx0XHRcdGBFeHBlY3RlZCBrZXkgXFxgLS1cXGAgdG8gYmUgQXJyYXksIGdvdCAke3R5cGVvZiB2YWx1ZX1gXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cblx0XHRcdHNlcGFyYXRlZEFyZ3VtZW50cyA9IHZhbHVlO1xuXHRcdFx0Y29udGludWU7XG5cdFx0fVxuXG5cdFx0aWYgKGtleSA9PT0gJ18nKSB7XG5cdFx0XHRpZiAoIUFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG5cdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoXG5cdFx0XHRcdFx0YEV4cGVjdGVkIGtleSBcXGBfXFxgIHRvIGJlIEFycmF5LCBnb3QgJHt0eXBlb2YgdmFsdWV9YFxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXG5cdFx0XHRleHRyYUFyZ3VtZW50cyA9IHZhbHVlO1xuXHRcdFx0Y29udGludWU7XG5cdFx0fVxuXG5cdFx0aWYgKHZhbHVlID09PSB0cnVlKSB7XG5cdFx0XHRwdXNoQXJndW1lbnRzKGtleSwgJycpO1xuXHRcdH1cblxuXHRcdGlmICh2YWx1ZSA9PT0gZmFsc2UgJiYgIW9wdGlvbnMuaWdub3JlRmFsc2UpIHtcblx0XHRcdHB1c2hBcmd1bWVudHMoYG5vLSR7a2V5fWApO1xuXHRcdH1cblxuXHRcdGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG5cdFx0XHRwdXNoQXJndW1lbnRzKGtleSwgdmFsdWUpO1xuXHRcdH1cblxuXHRcdGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInICYmICFOdW1iZXIuaXNOYU4odmFsdWUpKSB7XG5cdFx0XHRwdXNoQXJndW1lbnRzKGtleSwgU3RyaW5nKHZhbHVlKSk7XG5cdFx0fVxuXG5cdFx0aWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG5cdFx0XHRmb3IgKGNvbnN0IGFycmF5VmFsdWUgb2YgdmFsdWUpIHtcblx0XHRcdFx0cHVzaEFyZ3VtZW50cyhrZXksIGFycmF5VmFsdWUpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGZvciAoY29uc3QgYXJndW1lbnQgb2YgZXh0cmFBcmd1bWVudHMpIHtcblx0XHRhcmd1bWVudHNfLnB1c2goU3RyaW5nKGFyZ3VtZW50KSk7XG5cdH1cblxuXHRpZiAoc2VwYXJhdGVkQXJndW1lbnRzLmxlbmd0aCA+IDApIHtcblx0XHRhcmd1bWVudHNfLnB1c2goJy0tJyk7XG5cdH1cblxuXHRmb3IgKGNvbnN0IGFyZ3VtZW50IG9mIHNlcGFyYXRlZEFyZ3VtZW50cykge1xuXHRcdGFyZ3VtZW50c18ucHVzaChTdHJpbmcoYXJndW1lbnQpKTtcblx0fVxuXG5cdHJldHVybiBhcmd1bWVudHNfO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBkYXJncztcbiIsICIvKlxuQ29weXJpZ2h0IChjKSAyMDE0LTIwMTgsIE1hdHRlbyBDb2xsaW5hIDxoZWxsb0BtYXR0ZW9jb2xsaW5hLmNvbT5cblxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQsIHByb3ZpZGVkIHRoYXQgdGhlIGFib3ZlXG5jb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIGFwcGVhciBpbiBhbGwgY29waWVzLlxuXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFU1xuV0lUSCBSRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRlxuTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1JcbkFOWSBTUEVDSUFMLCBESVJFQ1QsIElORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVNcbldIQVRTT0VWRVIgUkVTVUxUSU5HIEZST00gTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTlxuQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SIE9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1JcbklOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SIFBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXG4qL1xuXG4ndXNlIHN0cmljdCdcblxuY29uc3QgeyBUcmFuc2Zvcm0gfSA9IHJlcXVpcmUoJ3JlYWRhYmxlLXN0cmVhbScpXG5jb25zdCB7IFN0cmluZ0RlY29kZXIgfSA9IHJlcXVpcmUoJ3N0cmluZ19kZWNvZGVyJylcbmNvbnN0IGtMYXN0ID0gU3ltYm9sKCdsYXN0JylcbmNvbnN0IGtEZWNvZGVyID0gU3ltYm9sKCdkZWNvZGVyJylcblxuZnVuY3Rpb24gdHJhbnNmb3JtIChjaHVuaywgZW5jLCBjYikge1xuICB2YXIgbGlzdFxuICBpZiAodGhpcy5vdmVyZmxvdykgeyAvLyBMaW5lIGJ1ZmZlciBpcyBmdWxsLiBTa2lwIHRvIHN0YXJ0IG9mIG5leHQgbGluZS5cbiAgICB2YXIgYnVmID0gdGhpc1trRGVjb2Rlcl0ud3JpdGUoY2h1bmspXG4gICAgbGlzdCA9IGJ1Zi5zcGxpdCh0aGlzLm1hdGNoZXIpXG5cbiAgICBpZiAobGlzdC5sZW5ndGggPT09IDEpIHJldHVybiBjYigpIC8vIExpbmUgZW5kaW5nIG5vdCBmb3VuZC4gRGlzY2FyZCBlbnRpcmUgY2h1bmsuXG5cbiAgICAvLyBMaW5lIGVuZGluZyBmb3VuZC4gRGlzY2FyZCB0cmFpbGluZyBmcmFnbWVudCBvZiBwcmV2aW91cyBsaW5lIGFuZCByZXNldCBvdmVyZmxvdyBzdGF0ZS5cbiAgICBsaXN0LnNoaWZ0KClcbiAgICB0aGlzLm92ZXJmbG93ID0gZmFsc2VcbiAgfSBlbHNlIHtcbiAgICB0aGlzW2tMYXN0XSArPSB0aGlzW2tEZWNvZGVyXS53cml0ZShjaHVuaylcbiAgICBsaXN0ID0gdGhpc1trTGFzdF0uc3BsaXQodGhpcy5tYXRjaGVyKVxuICB9XG5cbiAgdGhpc1trTGFzdF0gPSBsaXN0LnBvcCgpXG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdHJ5IHtcbiAgICAgIHB1c2godGhpcywgdGhpcy5tYXBwZXIobGlzdFtpXSkpXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJldHVybiBjYihlcnJvcilcbiAgICB9XG4gIH1cblxuICB0aGlzLm92ZXJmbG93ID0gdGhpc1trTGFzdF0ubGVuZ3RoID4gdGhpcy5tYXhMZW5ndGhcbiAgaWYgKHRoaXMub3ZlcmZsb3cgJiYgIXRoaXMuc2tpcE92ZXJmbG93KSByZXR1cm4gY2IobmV3IEVycm9yKCdtYXhpbXVtIGJ1ZmZlciByZWFjaGVkJykpXG5cbiAgY2IoKVxufVxuXG5mdW5jdGlvbiBmbHVzaCAoY2IpIHtcbiAgLy8gZm9yd2FyZCBhbnkgZ2liYmVyaXNoIGxlZnQgaW4gdGhlcmVcbiAgdGhpc1trTGFzdF0gKz0gdGhpc1trRGVjb2Rlcl0uZW5kKClcblxuICBpZiAodGhpc1trTGFzdF0pIHtcbiAgICB0cnkge1xuICAgICAgcHVzaCh0aGlzLCB0aGlzLm1hcHBlcih0aGlzW2tMYXN0XSkpXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJldHVybiBjYihlcnJvcilcbiAgICB9XG4gIH1cblxuICBjYigpXG59XG5cbmZ1bmN0aW9uIHB1c2ggKHNlbGYsIHZhbCkge1xuICBpZiAodmFsICE9PSB1bmRlZmluZWQpIHtcbiAgICBzZWxmLnB1c2godmFsKVxuICB9XG59XG5cbmZ1bmN0aW9uIG5vb3AgKGluY29taW5nKSB7XG4gIHJldHVybiBpbmNvbWluZ1xufVxuXG5mdW5jdGlvbiBzcGxpdCAobWF0Y2hlciwgbWFwcGVyLCBvcHRpb25zKSB7XG4gIC8vIFNldCBkZWZhdWx0cyBmb3IgYW55IGFyZ3VtZW50cyBub3Qgc3VwcGxpZWQuXG4gIG1hdGNoZXIgPSBtYXRjaGVyIHx8IC9cXHI/XFxuL1xuICBtYXBwZXIgPSBtYXBwZXIgfHwgbm9vcFxuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fVxuXG4gIC8vIFRlc3QgYXJndW1lbnRzIGV4cGxpY2l0bHkuXG4gIHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgIGNhc2UgMTpcbiAgICAgIC8vIElmIG1hcHBlciBpcyBvbmx5IGFyZ3VtZW50LlxuICAgICAgaWYgKHR5cGVvZiBtYXRjaGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIG1hcHBlciA9IG1hdGNoZXJcbiAgICAgICAgbWF0Y2hlciA9IC9cXHI/XFxuL1xuICAgICAgLy8gSWYgb3B0aW9ucyBpcyBvbmx5IGFyZ3VtZW50LlxuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgbWF0Y2hlciA9PT0gJ29iamVjdCcgJiYgIShtYXRjaGVyIGluc3RhbmNlb2YgUmVnRXhwKSkge1xuICAgICAgICBvcHRpb25zID0gbWF0Y2hlclxuICAgICAgICBtYXRjaGVyID0gL1xccj9cXG4vXG4gICAgICB9XG4gICAgICBicmVha1xuXG4gICAgY2FzZSAyOlxuICAgICAgLy8gSWYgbWFwcGVyIGFuZCBvcHRpb25zIGFyZSBhcmd1bWVudHMuXG4gICAgICBpZiAodHlwZW9mIG1hdGNoZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgb3B0aW9ucyA9IG1hcHBlclxuICAgICAgICBtYXBwZXIgPSBtYXRjaGVyXG4gICAgICAgIG1hdGNoZXIgPSAvXFxyP1xcbi9cbiAgICAgIC8vIElmIG1hdGNoZXIgYW5kIG9wdGlvbnMgYXJlIGFyZ3VtZW50cy5cbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG1hcHBlciA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgb3B0aW9ucyA9IG1hcHBlclxuICAgICAgICBtYXBwZXIgPSBub29wXG4gICAgICB9XG4gIH1cblxuICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucylcbiAgb3B0aW9ucy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm1cbiAgb3B0aW9ucy5mbHVzaCA9IGZsdXNoXG4gIG9wdGlvbnMucmVhZGFibGVPYmplY3RNb2RlID0gdHJ1ZVxuXG4gIGNvbnN0IHN0cmVhbSA9IG5ldyBUcmFuc2Zvcm0ob3B0aW9ucylcblxuICBzdHJlYW1ba0xhc3RdID0gJydcbiAgc3RyZWFtW2tEZWNvZGVyXSA9IG5ldyBTdHJpbmdEZWNvZGVyKCd1dGY4JylcbiAgc3RyZWFtLm1hdGNoZXIgPSBtYXRjaGVyXG4gIHN0cmVhbS5tYXBwZXIgPSBtYXBwZXJcbiAgc3RyZWFtLm1heExlbmd0aCA9IG9wdGlvbnMubWF4TGVuZ3RoXG4gIHN0cmVhbS5za2lwT3ZlcmZsb3cgPSBvcHRpb25zLnNraXBPdmVyZmxvd1xuICBzdHJlYW0ub3ZlcmZsb3cgPSBmYWxzZVxuXG4gIHJldHVybiBzdHJlYW1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzcGxpdFxuIiwgIi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZ2xvYmFsYCBmcm9tIE5vZGUuanMuICovXG52YXIgZnJlZUdsb2JhbCA9IHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgZ2xvYmFsICYmIGdsb2JhbC5PYmplY3QgPT09IE9iamVjdCAmJiBnbG9iYWw7XG5cbm1vZHVsZS5leHBvcnRzID0gZnJlZUdsb2JhbDtcbiIsICJ2YXIgZnJlZUdsb2JhbCA9IHJlcXVpcmUoJy4vX2ZyZWVHbG9iYWwnKTtcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBzZWxmYC4gKi9cbnZhciBmcmVlU2VsZiA9IHR5cGVvZiBzZWxmID09ICdvYmplY3QnICYmIHNlbGYgJiYgc2VsZi5PYmplY3QgPT09IE9iamVjdCAmJiBzZWxmO1xuXG4vKiogVXNlZCBhcyBhIHJlZmVyZW5jZSB0byB0aGUgZ2xvYmFsIG9iamVjdC4gKi9cbnZhciByb290ID0gZnJlZUdsb2JhbCB8fCBmcmVlU2VsZiB8fCBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJvb3Q7XG4iLCAidmFyIHJvb3QgPSByZXF1aXJlKCcuL19yb290Jyk7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIFN5bWJvbCA9IHJvb3QuU3ltYm9sO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFN5bWJvbDtcbiIsICJ2YXIgU3ltYm9sID0gcmVxdWlyZSgnLi9fU3ltYm9sJyk7XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKlxuICogVXNlZCB0byByZXNvbHZlIHRoZVxuICogW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG4gKiBvZiB2YWx1ZXMuXG4gKi9cbnZhciBuYXRpdmVPYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBzeW1Ub1N0cmluZ1RhZyA9IFN5bWJvbCA/IFN5bWJvbC50b1N0cmluZ1RhZyA6IHVuZGVmaW5lZDtcblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VHZXRUYWdgIHdoaWNoIGlnbm9yZXMgYFN5bWJvbC50b1N0cmluZ1RhZ2AgdmFsdWVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHJhdyBgdG9TdHJpbmdUYWdgLlxuICovXG5mdW5jdGlvbiBnZXRSYXdUYWcodmFsdWUpIHtcbiAgdmFyIGlzT3duID0gaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgc3ltVG9TdHJpbmdUYWcpLFxuICAgICAgdGFnID0gdmFsdWVbc3ltVG9TdHJpbmdUYWddO1xuXG4gIHRyeSB7XG4gICAgdmFsdWVbc3ltVG9TdHJpbmdUYWddID0gdW5kZWZpbmVkO1xuICAgIHZhciB1bm1hc2tlZCA9IHRydWU7XG4gIH0gY2F0Y2ggKGUpIHt9XG5cbiAgdmFyIHJlc3VsdCA9IG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICBpZiAodW5tYXNrZWQpIHtcbiAgICBpZiAoaXNPd24pIHtcbiAgICAgIHZhbHVlW3N5bVRvU3RyaW5nVGFnXSA9IHRhZztcbiAgICB9IGVsc2Uge1xuICAgICAgZGVsZXRlIHZhbHVlW3N5bVRvU3RyaW5nVGFnXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBnZXRSYXdUYWc7XG4iLCAiLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqXG4gKiBVc2VkIHRvIHJlc29sdmUgdGhlXG4gKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcbiAqIG9mIHZhbHVlcy5cbiAqL1xudmFyIG5hdGl2ZU9iamVjdFRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZyB1c2luZyBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZ2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBvYmplY3RUb1N0cmluZyh2YWx1ZSkge1xuICByZXR1cm4gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gb2JqZWN0VG9TdHJpbmc7XG4iLCAidmFyIFN5bWJvbCA9IHJlcXVpcmUoJy4vX1N5bWJvbCcpLFxuICAgIGdldFJhd1RhZyA9IHJlcXVpcmUoJy4vX2dldFJhd1RhZycpLFxuICAgIG9iamVjdFRvU3RyaW5nID0gcmVxdWlyZSgnLi9fb2JqZWN0VG9TdHJpbmcnKTtcblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIG51bGxUYWcgPSAnW29iamVjdCBOdWxsXScsXG4gICAgdW5kZWZpbmVkVGFnID0gJ1tvYmplY3QgVW5kZWZpbmVkXSc7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIHN5bVRvU3RyaW5nVGFnID0gU3ltYm9sID8gU3ltYm9sLnRvU3RyaW5nVGFnIDogdW5kZWZpbmVkO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBnZXRUYWdgIHdpdGhvdXQgZmFsbGJhY2tzIGZvciBidWdneSBlbnZpcm9ubWVudHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgYHRvU3RyaW5nVGFnYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUdldFRhZyh2YWx1ZSkge1xuICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gdW5kZWZpbmVkVGFnIDogbnVsbFRhZztcbiAgfVxuICByZXR1cm4gKHN5bVRvU3RyaW5nVGFnICYmIHN5bVRvU3RyaW5nVGFnIGluIE9iamVjdCh2YWx1ZSkpXG4gICAgPyBnZXRSYXdUYWcodmFsdWUpXG4gICAgOiBvYmplY3RUb1N0cmluZyh2YWx1ZSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZUdldFRhZztcbiIsICIvKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHRoZVxuICogW2xhbmd1YWdlIHR5cGVdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1lY21hc2NyaXB0LWxhbmd1YWdlLXR5cGVzKVxuICogb2YgYE9iamVjdGAuIChlLmcuIGFycmF5cywgZnVuY3Rpb25zLCBvYmplY3RzLCByZWdleGVzLCBgbmV3IE51bWJlcigwKWAsIGFuZCBgbmV3IFN0cmluZygnJylgKVxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0KHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChfLm5vb3ApO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgKHR5cGUgPT0gJ29iamVjdCcgfHwgdHlwZSA9PSAnZnVuY3Rpb24nKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc09iamVjdDtcbiIsICJ2YXIgYmFzZUdldFRhZyA9IHJlcXVpcmUoJy4vX2Jhc2VHZXRUYWcnKSxcbiAgICBpc09iamVjdCA9IHJlcXVpcmUoJy4vaXNPYmplY3QnKTtcblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIGFzeW5jVGFnID0gJ1tvYmplY3QgQXN5bmNGdW5jdGlvbl0nLFxuICAgIGZ1bmNUYWcgPSAnW29iamVjdCBGdW5jdGlvbl0nLFxuICAgIGdlblRhZyA9ICdbb2JqZWN0IEdlbmVyYXRvckZ1bmN0aW9uXScsXG4gICAgcHJveHlUYWcgPSAnW29iamVjdCBQcm94eV0nO1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgRnVuY3Rpb25gIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGZ1bmN0aW9uLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNGdW5jdGlvbihfKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzRnVuY3Rpb24oL2FiYy8pO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNGdW5jdGlvbih2YWx1ZSkge1xuICBpZiAoIWlzT2JqZWN0KHZhbHVlKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICAvLyBUaGUgdXNlIG9mIGBPYmplY3QjdG9TdHJpbmdgIGF2b2lkcyBpc3N1ZXMgd2l0aCB0aGUgYHR5cGVvZmAgb3BlcmF0b3JcbiAgLy8gaW4gU2FmYXJpIDkgd2hpY2ggcmV0dXJucyAnb2JqZWN0JyBmb3IgdHlwZWQgYXJyYXlzIGFuZCBvdGhlciBjb25zdHJ1Y3RvcnMuXG4gIHZhciB0YWcgPSBiYXNlR2V0VGFnKHZhbHVlKTtcbiAgcmV0dXJuIHRhZyA9PSBmdW5jVGFnIHx8IHRhZyA9PSBnZW5UYWcgfHwgdGFnID09IGFzeW5jVGFnIHx8IHRhZyA9PSBwcm94eVRhZztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc0Z1bmN0aW9uO1xuIiwgInZhciByb290ID0gcmVxdWlyZSgnLi9fcm9vdCcpO1xuXG4vKiogVXNlZCB0byBkZXRlY3Qgb3ZlcnJlYWNoaW5nIGNvcmUtanMgc2hpbXMuICovXG52YXIgY29yZUpzRGF0YSA9IHJvb3RbJ19fY29yZS1qc19zaGFyZWRfXyddO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGNvcmVKc0RhdGE7XG4iLCAidmFyIGNvcmVKc0RhdGEgPSByZXF1aXJlKCcuL19jb3JlSnNEYXRhJyk7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBtZXRob2RzIG1hc3F1ZXJhZGluZyBhcyBuYXRpdmUuICovXG52YXIgbWFza1NyY0tleSA9IChmdW5jdGlvbigpIHtcbiAgdmFyIHVpZCA9IC9bXi5dKyQvLmV4ZWMoY29yZUpzRGF0YSAmJiBjb3JlSnNEYXRhLmtleXMgJiYgY29yZUpzRGF0YS5rZXlzLklFX1BST1RPIHx8ICcnKTtcbiAgcmV0dXJuIHVpZCA/ICgnU3ltYm9sKHNyYylfMS4nICsgdWlkKSA6ICcnO1xufSgpKTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYGZ1bmNgIGhhcyBpdHMgc291cmNlIG1hc2tlZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGZ1bmNgIGlzIG1hc2tlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc01hc2tlZChmdW5jKSB7XG4gIHJldHVybiAhIW1hc2tTcmNLZXkgJiYgKG1hc2tTcmNLZXkgaW4gZnVuYyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNNYXNrZWQ7XG4iLCAiLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIGZ1bmNQcm90byA9IEZ1bmN0aW9uLnByb3RvdHlwZTtcblxuLyoqIFVzZWQgdG8gcmVzb2x2ZSB0aGUgZGVjb21waWxlZCBzb3VyY2Ugb2YgZnVuY3Rpb25zLiAqL1xudmFyIGZ1bmNUb1N0cmluZyA9IGZ1bmNQcm90by50b1N0cmluZztcblxuLyoqXG4gKiBDb252ZXJ0cyBgZnVuY2AgdG8gaXRzIHNvdXJjZSBjb2RlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjb252ZXJ0LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc291cmNlIGNvZGUuXG4gKi9cbmZ1bmN0aW9uIHRvU291cmNlKGZ1bmMpIHtcbiAgaWYgKGZ1bmMgIT0gbnVsbCkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gZnVuY1RvU3RyaW5nLmNhbGwoZnVuYyk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgICB0cnkge1xuICAgICAgcmV0dXJuIChmdW5jICsgJycpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gIH1cbiAgcmV0dXJuICcnO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHRvU291cmNlO1xuIiwgInZhciBpc0Z1bmN0aW9uID0gcmVxdWlyZSgnLi9pc0Z1bmN0aW9uJyksXG4gICAgaXNNYXNrZWQgPSByZXF1aXJlKCcuL19pc01hc2tlZCcpLFxuICAgIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9pc09iamVjdCcpLFxuICAgIHRvU291cmNlID0gcmVxdWlyZSgnLi9fdG9Tb3VyY2UnKTtcblxuLyoqXG4gKiBVc2VkIHRvIG1hdGNoIGBSZWdFeHBgXG4gKiBbc3ludGF4IGNoYXJhY3RlcnNdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXBhdHRlcm5zKS5cbiAqL1xudmFyIHJlUmVnRXhwQ2hhciA9IC9bXFxcXF4kLiorPygpW1xcXXt9fF0vZztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGhvc3QgY29uc3RydWN0b3JzIChTYWZhcmkpLiAqL1xudmFyIHJlSXNIb3N0Q3RvciA9IC9eXFxbb2JqZWN0IC4rP0NvbnN0cnVjdG9yXFxdJC87XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBmdW5jUHJvdG8gPSBGdW5jdGlvbi5wcm90b3R5cGUsXG4gICAgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKiogVXNlZCB0byByZXNvbHZlIHRoZSBkZWNvbXBpbGVkIHNvdXJjZSBvZiBmdW5jdGlvbnMuICovXG52YXIgZnVuY1RvU3RyaW5nID0gZnVuY1Byb3RvLnRvU3RyaW5nO1xuXG4vKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4vKiogVXNlZCB0byBkZXRlY3QgaWYgYSBtZXRob2QgaXMgbmF0aXZlLiAqL1xudmFyIHJlSXNOYXRpdmUgPSBSZWdFeHAoJ14nICtcbiAgZnVuY1RvU3RyaW5nLmNhbGwoaGFzT3duUHJvcGVydHkpLnJlcGxhY2UocmVSZWdFeHBDaGFyLCAnXFxcXCQmJylcbiAgLnJlcGxhY2UoL2hhc093blByb3BlcnR5fChmdW5jdGlvbikuKj8oPz1cXFxcXFwoKXwgZm9yIC4rPyg/PVxcXFxcXF0pL2csICckMS4qPycpICsgJyQnXG4pO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzTmF0aXZlYCB3aXRob3V0IGJhZCBzaGltIGNoZWNrcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG5hdGl2ZSBmdW5jdGlvbixcbiAqICBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VJc05hdGl2ZSh2YWx1ZSkge1xuICBpZiAoIWlzT2JqZWN0KHZhbHVlKSB8fCBpc01hc2tlZCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIHBhdHRlcm4gPSBpc0Z1bmN0aW9uKHZhbHVlKSA/IHJlSXNOYXRpdmUgOiByZUlzSG9zdEN0b3I7XG4gIHJldHVybiBwYXR0ZXJuLnRlc3QodG9Tb3VyY2UodmFsdWUpKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlSXNOYXRpdmU7XG4iLCAiLyoqXG4gKiBHZXRzIHRoZSB2YWx1ZSBhdCBga2V5YCBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gZ2V0VmFsdWUob2JqZWN0LCBrZXkpIHtcbiAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W2tleV07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZ2V0VmFsdWU7XG4iLCAidmFyIGJhc2VJc05hdGl2ZSA9IHJlcXVpcmUoJy4vX2Jhc2VJc05hdGl2ZScpLFxuICAgIGdldFZhbHVlID0gcmVxdWlyZSgnLi9fZ2V0VmFsdWUnKTtcblxuLyoqXG4gKiBHZXRzIHRoZSBuYXRpdmUgZnVuY3Rpb24gYXQgYGtleWAgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgbWV0aG9kIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBmdW5jdGlvbiBpZiBpdCdzIG5hdGl2ZSwgZWxzZSBgdW5kZWZpbmVkYC5cbiAqL1xuZnVuY3Rpb24gZ2V0TmF0aXZlKG9iamVjdCwga2V5KSB7XG4gIHZhciB2YWx1ZSA9IGdldFZhbHVlKG9iamVjdCwga2V5KTtcbiAgcmV0dXJuIGJhc2VJc05hdGl2ZSh2YWx1ZSkgPyB2YWx1ZSA6IHVuZGVmaW5lZDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBnZXROYXRpdmU7XG4iLCAidmFyIGdldE5hdGl2ZSA9IHJlcXVpcmUoJy4vX2dldE5hdGl2ZScpO1xuXG52YXIgZGVmaW5lUHJvcGVydHkgPSAoZnVuY3Rpb24oKSB7XG4gIHRyeSB7XG4gICAgdmFyIGZ1bmMgPSBnZXROYXRpdmUoT2JqZWN0LCAnZGVmaW5lUHJvcGVydHknKTtcbiAgICBmdW5jKHt9LCAnJywge30pO1xuICAgIHJldHVybiBmdW5jO1xuICB9IGNhdGNoIChlKSB7fVxufSgpKTtcblxubW9kdWxlLmV4cG9ydHMgPSBkZWZpbmVQcm9wZXJ0eTtcbiIsICJ2YXIgZGVmaW5lUHJvcGVydHkgPSByZXF1aXJlKCcuL19kZWZpbmVQcm9wZXJ0eScpO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBhc3NpZ25WYWx1ZWAgYW5kIGBhc3NpZ25NZXJnZVZhbHVlYCB3aXRob3V0XG4gKiB2YWx1ZSBjaGVja3MuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGFzc2lnbi5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGFzc2lnbi5cbiAqL1xuZnVuY3Rpb24gYmFzZUFzc2lnblZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICBpZiAoa2V5ID09ICdfX3Byb3RvX18nICYmIGRlZmluZVByb3BlcnR5KSB7XG4gICAgZGVmaW5lUHJvcGVydHkob2JqZWN0LCBrZXksIHtcbiAgICAgICdjb25maWd1cmFibGUnOiB0cnVlLFxuICAgICAgJ2VudW1lcmFibGUnOiB0cnVlLFxuICAgICAgJ3ZhbHVlJzogdmFsdWUsXG4gICAgICAnd3JpdGFibGUnOiB0cnVlXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VBc3NpZ25WYWx1ZTtcbiIsICIvKipcbiAqIFBlcmZvcm1zIGFcbiAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gKiBjb21wYXJpc29uIGJldHdlZW4gdHdvIHZhbHVlcyB0byBkZXRlcm1pbmUgaWYgdGhleSBhcmUgZXF1aXZhbGVudC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEgfTtcbiAqIHZhciBvdGhlciA9IHsgJ2EnOiAxIH07XG4gKlxuICogXy5lcShvYmplY3QsIG9iamVjdCk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5lcShvYmplY3QsIG90aGVyKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5lcSgnYScsICdhJyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5lcSgnYScsIE9iamVjdCgnYScpKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5lcShOYU4sIE5hTik7XG4gKiAvLyA9PiB0cnVlXG4gKi9cbmZ1bmN0aW9uIGVxKHZhbHVlLCBvdGhlcikge1xuICByZXR1cm4gdmFsdWUgPT09IG90aGVyIHx8ICh2YWx1ZSAhPT0gdmFsdWUgJiYgb3RoZXIgIT09IG90aGVyKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBlcTtcbiIsICJ2YXIgYmFzZUFzc2lnblZhbHVlID0gcmVxdWlyZSgnLi9fYmFzZUFzc2lnblZhbHVlJyksXG4gICAgZXEgPSByZXF1aXJlKCcuL2VxJyk7XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKlxuICogQXNzaWducyBgdmFsdWVgIHRvIGBrZXlgIG9mIGBvYmplY3RgIGlmIHRoZSBleGlzdGluZyB2YWx1ZSBpcyBub3QgZXF1aXZhbGVudFxuICogdXNpbmcgW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gYXNzaWduLlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gYXNzaWduLlxuICovXG5mdW5jdGlvbiBhc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgdmFyIG9ialZhbHVlID0gb2JqZWN0W2tleV07XG4gIGlmICghKGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpICYmIGVxKG9ialZhbHVlLCB2YWx1ZSkpIHx8XG4gICAgICAodmFsdWUgPT09IHVuZGVmaW5lZCAmJiAhKGtleSBpbiBvYmplY3QpKSkge1xuICAgIGJhc2VBc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYXNzaWduVmFsdWU7XG4iLCAidmFyIGFzc2lnblZhbHVlID0gcmVxdWlyZSgnLi9fYXNzaWduVmFsdWUnKSxcbiAgICBiYXNlQXNzaWduVmFsdWUgPSByZXF1aXJlKCcuL19iYXNlQXNzaWduVmFsdWUnKTtcblxuLyoqXG4gKiBDb3BpZXMgcHJvcGVydGllcyBvZiBgc291cmNlYCB0byBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyBmcm9tLlxuICogQHBhcmFtIHtBcnJheX0gcHJvcHMgVGhlIHByb3BlcnR5IGlkZW50aWZpZXJzIHRvIGNvcHkuXG4gKiBAcGFyYW0ge09iamVjdH0gW29iamVjdD17fV0gVGhlIG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgdG8uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb3BpZWQgdmFsdWVzLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAqL1xuZnVuY3Rpb24gY29weU9iamVjdChzb3VyY2UsIHByb3BzLCBvYmplY3QsIGN1c3RvbWl6ZXIpIHtcbiAgdmFyIGlzTmV3ID0gIW9iamVjdDtcbiAgb2JqZWN0IHx8IChvYmplY3QgPSB7fSk7XG5cbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBwcm9wcy5sZW5ndGg7XG5cbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIga2V5ID0gcHJvcHNbaW5kZXhdO1xuXG4gICAgdmFyIG5ld1ZhbHVlID0gY3VzdG9taXplclxuICAgICAgPyBjdXN0b21pemVyKG9iamVjdFtrZXldLCBzb3VyY2Vba2V5XSwga2V5LCBvYmplY3QsIHNvdXJjZSlcbiAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgaWYgKG5ld1ZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIG5ld1ZhbHVlID0gc291cmNlW2tleV07XG4gICAgfVxuICAgIGlmIChpc05ldykge1xuICAgICAgYmFzZUFzc2lnblZhbHVlKG9iamVjdCwga2V5LCBuZXdWYWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFzc2lnblZhbHVlKG9iamVjdCwga2V5LCBuZXdWYWx1ZSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBvYmplY3Q7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gY29weU9iamVjdDtcbiIsICIvKipcbiAqIFRoaXMgbWV0aG9kIHJldHVybnMgdGhlIGZpcnN0IGFyZ3VtZW50IGl0IHJlY2VpdmVzLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBzaW5jZSAwLjEuMFxuICogQG1lbWJlck9mIF9cbiAqIEBjYXRlZ29yeSBVdGlsXG4gKiBAcGFyYW0geyp9IHZhbHVlIEFueSB2YWx1ZS5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIGB2YWx1ZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3QgPSB7ICdhJzogMSB9O1xuICpcbiAqIGNvbnNvbGUubG9nKF8uaWRlbnRpdHkob2JqZWN0KSA9PT0gb2JqZWN0KTtcbiAqIC8vID0+IHRydWVcbiAqL1xuZnVuY3Rpb24gaWRlbnRpdHkodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlkZW50aXR5O1xuIiwgIi8qKlxuICogQSBmYXN0ZXIgYWx0ZXJuYXRpdmUgdG8gYEZ1bmN0aW9uI2FwcGx5YCwgdGhpcyBmdW5jdGlvbiBpbnZva2VzIGBmdW5jYFxuICogd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgYHRoaXNBcmdgIGFuZCB0aGUgYXJndW1lbnRzIG9mIGBhcmdzYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gaW52b2tlLlxuICogQHBhcmFtIHsqfSB0aGlzQXJnIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gKiBAcGFyYW0ge0FycmF5fSBhcmdzIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIGBmdW5jYCB3aXRoLlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc3VsdCBvZiBgZnVuY2AuXG4gKi9cbmZ1bmN0aW9uIGFwcGx5KGZ1bmMsIHRoaXNBcmcsIGFyZ3MpIHtcbiAgc3dpdGNoIChhcmdzLmxlbmd0aCkge1xuICAgIGNhc2UgMDogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnKTtcbiAgICBjYXNlIDE6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgYXJnc1swXSk7XG4gICAgY2FzZSAyOiByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsIGFyZ3NbMF0sIGFyZ3NbMV0pO1xuICAgIGNhc2UgMzogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLCBhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgfVxuICByZXR1cm4gZnVuYy5hcHBseSh0aGlzQXJnLCBhcmdzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBhcHBseTtcbiIsICJ2YXIgYXBwbHkgPSByZXF1aXJlKCcuL19hcHBseScpO1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyBmb3IgdGhvc2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMuICovXG52YXIgbmF0aXZlTWF4ID0gTWF0aC5tYXg7XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlUmVzdGAgd2hpY2ggdHJhbnNmb3JtcyB0aGUgcmVzdCBhcnJheS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXBwbHkgYSByZXN0IHBhcmFtZXRlciB0by5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9ZnVuYy5sZW5ndGgtMV0gVGhlIHN0YXJ0IHBvc2l0aW9uIG9mIHRoZSByZXN0IHBhcmFtZXRlci5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHRyYW5zZm9ybSBUaGUgcmVzdCBhcnJheSB0cmFuc2Zvcm0uXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gb3ZlclJlc3QoZnVuYywgc3RhcnQsIHRyYW5zZm9ybSkge1xuICBzdGFydCA9IG5hdGl2ZU1heChzdGFydCA9PT0gdW5kZWZpbmVkID8gKGZ1bmMubGVuZ3RoIC0gMSkgOiBzdGFydCwgMCk7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWF4KGFyZ3MubGVuZ3RoIC0gc3RhcnQsIDApLFxuICAgICAgICBhcnJheSA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgYXJyYXlbaW5kZXhdID0gYXJnc1tzdGFydCArIGluZGV4XTtcbiAgICB9XG4gICAgaW5kZXggPSAtMTtcbiAgICB2YXIgb3RoZXJBcmdzID0gQXJyYXkoc3RhcnQgKyAxKTtcbiAgICB3aGlsZSAoKytpbmRleCA8IHN0YXJ0KSB7XG4gICAgICBvdGhlckFyZ3NbaW5kZXhdID0gYXJnc1tpbmRleF07XG4gICAgfVxuICAgIG90aGVyQXJnc1tzdGFydF0gPSB0cmFuc2Zvcm0oYXJyYXkpO1xuICAgIHJldHVybiBhcHBseShmdW5jLCB0aGlzLCBvdGhlckFyZ3MpO1xuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG92ZXJSZXN0O1xuIiwgIi8qKlxuICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBgdmFsdWVgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMi40LjBcbiAqIEBjYXRlZ29yeSBVdGlsXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byByZXR1cm4gZnJvbSB0aGUgbmV3IGZ1bmN0aW9uLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY29uc3RhbnQgZnVuY3Rpb24uXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3RzID0gXy50aW1lcygyLCBfLmNvbnN0YW50KHsgJ2EnOiAxIH0pKTtcbiAqXG4gKiBjb25zb2xlLmxvZyhvYmplY3RzKTtcbiAqIC8vID0+IFt7ICdhJzogMSB9LCB7ICdhJzogMSB9XVxuICpcbiAqIGNvbnNvbGUubG9nKG9iamVjdHNbMF0gPT09IG9iamVjdHNbMV0pO1xuICogLy8gPT4gdHJ1ZVxuICovXG5mdW5jdGlvbiBjb25zdGFudCh2YWx1ZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNvbnN0YW50O1xuIiwgInZhciBjb25zdGFudCA9IHJlcXVpcmUoJy4vY29uc3RhbnQnKSxcbiAgICBkZWZpbmVQcm9wZXJ0eSA9IHJlcXVpcmUoJy4vX2RlZmluZVByb3BlcnR5JyksXG4gICAgaWRlbnRpdHkgPSByZXF1aXJlKCcuL2lkZW50aXR5Jyk7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYHNldFRvU3RyaW5nYCB3aXRob3V0IHN1cHBvcnQgZm9yIGhvdCBsb29wIHNob3J0aW5nLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBzdHJpbmcgVGhlIGB0b1N0cmluZ2AgcmVzdWx0LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBmdW5jYC5cbiAqL1xudmFyIGJhc2VTZXRUb1N0cmluZyA9ICFkZWZpbmVQcm9wZXJ0eSA/IGlkZW50aXR5IDogZnVuY3Rpb24oZnVuYywgc3RyaW5nKSB7XG4gIHJldHVybiBkZWZpbmVQcm9wZXJ0eShmdW5jLCAndG9TdHJpbmcnLCB7XG4gICAgJ2NvbmZpZ3VyYWJsZSc6IHRydWUsXG4gICAgJ2VudW1lcmFibGUnOiBmYWxzZSxcbiAgICAndmFsdWUnOiBjb25zdGFudChzdHJpbmcpLFxuICAgICd3cml0YWJsZSc6IHRydWVcbiAgfSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VTZXRUb1N0cmluZztcbiIsICIvKiogVXNlZCB0byBkZXRlY3QgaG90IGZ1bmN0aW9ucyBieSBudW1iZXIgb2YgY2FsbHMgd2l0aGluIGEgc3BhbiBvZiBtaWxsaXNlY29uZHMuICovXG52YXIgSE9UX0NPVU5UID0gODAwLFxuICAgIEhPVF9TUEFOID0gMTY7XG5cbi8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIGZvciB0aG9zZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgb3RoZXIgYGxvZGFzaGAgbWV0aG9kcy4gKi9cbnZhciBuYXRpdmVOb3cgPSBEYXRlLm5vdztcblxuLyoqXG4gKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCdsbCBzaG9ydCBvdXQgYW5kIGludm9rZSBgaWRlbnRpdHlgIGluc3RlYWRcbiAqIG9mIGBmdW5jYCB3aGVuIGl0J3MgY2FsbGVkIGBIT1RfQ09VTlRgIG9yIG1vcmUgdGltZXMgaW4gYEhPVF9TUEFOYFxuICogbWlsbGlzZWNvbmRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byByZXN0cmljdC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNob3J0YWJsZSBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gc2hvcnRPdXQoZnVuYykge1xuICB2YXIgY291bnQgPSAwLFxuICAgICAgbGFzdENhbGxlZCA9IDA7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBzdGFtcCA9IG5hdGl2ZU5vdygpLFxuICAgICAgICByZW1haW5pbmcgPSBIT1RfU1BBTiAtIChzdGFtcCAtIGxhc3RDYWxsZWQpO1xuXG4gICAgbGFzdENhbGxlZCA9IHN0YW1wO1xuICAgIGlmIChyZW1haW5pbmcgPiAwKSB7XG4gICAgICBpZiAoKytjb3VudCA+PSBIT1RfQ09VTlQpIHtcbiAgICAgICAgcmV0dXJuIGFyZ3VtZW50c1swXTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY291bnQgPSAwO1xuICAgIH1cbiAgICByZXR1cm4gZnVuYy5hcHBseSh1bmRlZmluZWQsIGFyZ3VtZW50cyk7XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2hvcnRPdXQ7XG4iLCAidmFyIGJhc2VTZXRUb1N0cmluZyA9IHJlcXVpcmUoJy4vX2Jhc2VTZXRUb1N0cmluZycpLFxuICAgIHNob3J0T3V0ID0gcmVxdWlyZSgnLi9fc2hvcnRPdXQnKTtcblxuLyoqXG4gKiBTZXRzIHRoZSBgdG9TdHJpbmdgIG1ldGhvZCBvZiBgZnVuY2AgdG8gcmV0dXJuIGBzdHJpbmdgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBzdHJpbmcgVGhlIGB0b1N0cmluZ2AgcmVzdWx0LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBmdW5jYC5cbiAqL1xudmFyIHNldFRvU3RyaW5nID0gc2hvcnRPdXQoYmFzZVNldFRvU3RyaW5nKTtcblxubW9kdWxlLmV4cG9ydHMgPSBzZXRUb1N0cmluZztcbiIsICJ2YXIgaWRlbnRpdHkgPSByZXF1aXJlKCcuL2lkZW50aXR5JyksXG4gICAgb3ZlclJlc3QgPSByZXF1aXJlKCcuL19vdmVyUmVzdCcpLFxuICAgIHNldFRvU3RyaW5nID0gcmVxdWlyZSgnLi9fc2V0VG9TdHJpbmcnKTtcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5yZXN0YCB3aGljaCBkb2Vzbid0IHZhbGlkYXRlIG9yIGNvZXJjZSBhcmd1bWVudHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IGEgcmVzdCBwYXJhbWV0ZXIgdG8uXG4gKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PWZ1bmMubGVuZ3RoLTFdIFRoZSBzdGFydCBwb3NpdGlvbiBvZiB0aGUgcmVzdCBwYXJhbWV0ZXIuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gYmFzZVJlc3QoZnVuYywgc3RhcnQpIHtcbiAgcmV0dXJuIHNldFRvU3RyaW5nKG92ZXJSZXN0KGZ1bmMsIHN0YXJ0LCBpZGVudGl0eSksIGZ1bmMgKyAnJyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZVJlc3Q7XG4iLCAiLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG52YXIgTUFYX1NBRkVfSU5URUdFUiA9IDkwMDcxOTkyNTQ3NDA5OTE7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBhcnJheS1saWtlIGxlbmd0aC5cbiAqXG4gKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgbG9vc2VseSBiYXNlZCBvblxuICogW2BUb0xlbmd0aGBdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXRvbGVuZ3RoKS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGxlbmd0aCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzTGVuZ3RoKDMpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNMZW5ndGgoTnVtYmVyLk1JTl9WQUxVRSk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNMZW5ndGgoSW5maW5pdHkpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzTGVuZ3RoKCczJyk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0xlbmd0aCh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdudW1iZXInICYmXG4gICAgdmFsdWUgPiAtMSAmJiB2YWx1ZSAlIDEgPT0gMCAmJiB2YWx1ZSA8PSBNQVhfU0FGRV9JTlRFR0VSO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzTGVuZ3RoO1xuIiwgInZhciBpc0Z1bmN0aW9uID0gcmVxdWlyZSgnLi9pc0Z1bmN0aW9uJyksXG4gICAgaXNMZW5ndGggPSByZXF1aXJlKCcuL2lzTGVuZ3RoJyk7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYXJyYXktbGlrZS4gQSB2YWx1ZSBpcyBjb25zaWRlcmVkIGFycmF5LWxpa2UgaWYgaXQnc1xuICogbm90IGEgZnVuY3Rpb24gYW5kIGhhcyBhIGB2YWx1ZS5sZW5ndGhgIHRoYXQncyBhbiBpbnRlZ2VyIGdyZWF0ZXIgdGhhbiBvclxuICogZXF1YWwgdG8gYDBgIGFuZCBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gYE51bWJlci5NQVhfU0FGRV9JTlRFR0VSYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhcnJheS1saWtlLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlKGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoJ2FiYycpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXlMaWtlKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIGlzTGVuZ3RoKHZhbHVlLmxlbmd0aCkgJiYgIWlzRnVuY3Rpb24odmFsdWUpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzQXJyYXlMaWtlO1xuIiwgIi8qKiBVc2VkIGFzIHJlZmVyZW5jZXMgZm9yIHZhcmlvdXMgYE51bWJlcmAgY29uc3RhbnRzLiAqL1xudmFyIE1BWF9TQUZFX0lOVEVHRVIgPSA5MDA3MTk5MjU0NzQwOTkxO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgdW5zaWduZWQgaW50ZWdlciB2YWx1ZXMuICovXG52YXIgcmVJc1VpbnQgPSAvXig/OjB8WzEtOV1cXGQqKSQvO1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBpbmRleC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aD1NQVhfU0FGRV9JTlRFR0VSXSBUaGUgdXBwZXIgYm91bmRzIG9mIGEgdmFsaWQgaW5kZXguXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGluZGV4LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzSW5kZXgodmFsdWUsIGxlbmd0aCkge1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgbGVuZ3RoID0gbGVuZ3RoID09IG51bGwgPyBNQVhfU0FGRV9JTlRFR0VSIDogbGVuZ3RoO1xuXG4gIHJldHVybiAhIWxlbmd0aCAmJlxuICAgICh0eXBlID09ICdudW1iZXInIHx8XG4gICAgICAodHlwZSAhPSAnc3ltYm9sJyAmJiByZUlzVWludC50ZXN0KHZhbHVlKSkpICYmXG4gICAgICAgICh2YWx1ZSA+IC0xICYmIHZhbHVlICUgMSA9PSAwICYmIHZhbHVlIDwgbGVuZ3RoKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc0luZGV4O1xuIiwgInZhciBlcSA9IHJlcXVpcmUoJy4vZXEnKSxcbiAgICBpc0FycmF5TGlrZSA9IHJlcXVpcmUoJy4vaXNBcnJheUxpa2UnKSxcbiAgICBpc0luZGV4ID0gcmVxdWlyZSgnLi9faXNJbmRleCcpLFxuICAgIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9pc09iamVjdCcpO1xuXG4vKipcbiAqIENoZWNrcyBpZiB0aGUgZ2l2ZW4gYXJndW1lbnRzIGFyZSBmcm9tIGFuIGl0ZXJhdGVlIGNhbGwuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHBvdGVudGlhbCBpdGVyYXRlZSB2YWx1ZSBhcmd1bWVudC5cbiAqIEBwYXJhbSB7Kn0gaW5kZXggVGhlIHBvdGVudGlhbCBpdGVyYXRlZSBpbmRleCBvciBrZXkgYXJndW1lbnQuXG4gKiBAcGFyYW0geyp9IG9iamVjdCBUaGUgcG90ZW50aWFsIGl0ZXJhdGVlIG9iamVjdCBhcmd1bWVudC5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYXJndW1lbnRzIGFyZSBmcm9tIGFuIGl0ZXJhdGVlIGNhbGwsXG4gKiAgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0l0ZXJhdGVlQ2FsbCh2YWx1ZSwgaW5kZXgsIG9iamVjdCkge1xuICBpZiAoIWlzT2JqZWN0KG9iamVjdCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIHR5cGUgPSB0eXBlb2YgaW5kZXg7XG4gIGlmICh0eXBlID09ICdudW1iZXInXG4gICAgICAgID8gKGlzQXJyYXlMaWtlKG9iamVjdCkgJiYgaXNJbmRleChpbmRleCwgb2JqZWN0Lmxlbmd0aCkpXG4gICAgICAgIDogKHR5cGUgPT0gJ3N0cmluZycgJiYgaW5kZXggaW4gb2JqZWN0KVxuICAgICAgKSB7XG4gICAgcmV0dXJuIGVxKG9iamVjdFtpbmRleF0sIHZhbHVlKTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNJdGVyYXRlZUNhbGw7XG4iLCAidmFyIGJhc2VSZXN0ID0gcmVxdWlyZSgnLi9fYmFzZVJlc3QnKSxcbiAgICBpc0l0ZXJhdGVlQ2FsbCA9IHJlcXVpcmUoJy4vX2lzSXRlcmF0ZWVDYWxsJyk7XG5cbi8qKlxuICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGxpa2UgYF8uYXNzaWduYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gYXNzaWduZXIgVGhlIGZ1bmN0aW9uIHRvIGFzc2lnbiB2YWx1ZXMuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhc3NpZ25lciBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlQXNzaWduZXIoYXNzaWduZXIpIHtcbiAgcmV0dXJuIGJhc2VSZXN0KGZ1bmN0aW9uKG9iamVjdCwgc291cmNlcykge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBzb3VyY2VzLmxlbmd0aCxcbiAgICAgICAgY3VzdG9taXplciA9IGxlbmd0aCA+IDEgPyBzb3VyY2VzW2xlbmd0aCAtIDFdIDogdW5kZWZpbmVkLFxuICAgICAgICBndWFyZCA9IGxlbmd0aCA+IDIgPyBzb3VyY2VzWzJdIDogdW5kZWZpbmVkO1xuXG4gICAgY3VzdG9taXplciA9IChhc3NpZ25lci5sZW5ndGggPiAzICYmIHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicpXG4gICAgICA/IChsZW5ndGgtLSwgY3VzdG9taXplcilcbiAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgaWYgKGd1YXJkICYmIGlzSXRlcmF0ZWVDYWxsKHNvdXJjZXNbMF0sIHNvdXJjZXNbMV0sIGd1YXJkKSkge1xuICAgICAgY3VzdG9taXplciA9IGxlbmd0aCA8IDMgPyB1bmRlZmluZWQgOiBjdXN0b21pemVyO1xuICAgICAgbGVuZ3RoID0gMTtcbiAgICB9XG4gICAgb2JqZWN0ID0gT2JqZWN0KG9iamVjdCk7XG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIHZhciBzb3VyY2UgPSBzb3VyY2VzW2luZGV4XTtcbiAgICAgIGlmIChzb3VyY2UpIHtcbiAgICAgICAgYXNzaWduZXIob2JqZWN0LCBzb3VyY2UsIGluZGV4LCBjdXN0b21pemVyKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG9iamVjdDtcbiAgfSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gY3JlYXRlQXNzaWduZXI7XG4iLCAiLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50aW1lc2Agd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzXG4gKiBvciBtYXggYXJyYXkgbGVuZ3RoIGNoZWNrcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiB0aW1lcyB0byBpbnZva2UgYGl0ZXJhdGVlYC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHJlc3VsdHMuXG4gKi9cbmZ1bmN0aW9uIGJhc2VUaW1lcyhuLCBpdGVyYXRlZSkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIHJlc3VsdCA9IEFycmF5KG4pO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbikge1xuICAgIHJlc3VsdFtpbmRleF0gPSBpdGVyYXRlZShpbmRleCk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlVGltZXM7XG4iLCAiLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS4gQSB2YWx1ZSBpcyBvYmplY3QtbGlrZSBpZiBpdCdzIG5vdCBgbnVsbGBcbiAqIGFuZCBoYXMgYSBgdHlwZW9mYCByZXN1bHQgb2YgXCJvYmplY3RcIi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZSh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNPYmplY3RMaWtlO1xuIiwgInZhciBiYXNlR2V0VGFnID0gcmVxdWlyZSgnLi9fYmFzZUdldFRhZycpLFxuICAgIGlzT2JqZWN0TGlrZSA9IHJlcXVpcmUoJy4vaXNPYmplY3RMaWtlJyk7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBhcmdzVGFnID0gJ1tvYmplY3QgQXJndW1lbnRzXSc7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNBcmd1bWVudHNgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGBhcmd1bWVudHNgIG9iamVjdCxcbiAqL1xuZnVuY3Rpb24gYmFzZUlzQXJndW1lbnRzKHZhbHVlKSB7XG4gIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IGFyZ3NUYWc7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZUlzQXJndW1lbnRzO1xuIiwgInZhciBiYXNlSXNBcmd1bWVudHMgPSByZXF1aXJlKCcuL19iYXNlSXNBcmd1bWVudHMnKSxcbiAgICBpc09iamVjdExpa2UgPSByZXF1aXJlKCcuL2lzT2JqZWN0TGlrZScpO1xuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBwcm9wZXJ0eUlzRW51bWVyYWJsZSA9IG9iamVjdFByb3RvLnByb3BlcnR5SXNFbnVtZXJhYmxlO1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxpa2VseSBhbiBgYXJndW1lbnRzYCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LFxuICogIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FyZ3VtZW50cyhmdW5jdGlvbigpIHsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJndW1lbnRzKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG52YXIgaXNBcmd1bWVudHMgPSBiYXNlSXNBcmd1bWVudHMoZnVuY3Rpb24oKSB7IHJldHVybiBhcmd1bWVudHM7IH0oKSkgPyBiYXNlSXNBcmd1bWVudHMgOiBmdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCAnY2FsbGVlJykgJiZcbiAgICAhcHJvcGVydHlJc0VudW1lcmFibGUuY2FsbCh2YWx1ZSwgJ2NhbGxlZScpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBpc0FyZ3VtZW50cztcbiIsICIvKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYW4gYEFycmF5YCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FycmF5KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5KGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzQXJyYXkoJ2FiYycpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzQXJyYXkoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcblxubW9kdWxlLmV4cG9ydHMgPSBpc0FycmF5O1xuIiwgIi8qKlxuICogVGhpcyBtZXRob2QgcmV0dXJucyBgZmFsc2VgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4xMy4wXG4gKiBAY2F0ZWdvcnkgVXRpbFxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy50aW1lcygyLCBfLnN0dWJGYWxzZSk7XG4gKiAvLyA9PiBbZmFsc2UsIGZhbHNlXVxuICovXG5mdW5jdGlvbiBzdHViRmFsc2UoKSB7XG4gIHJldHVybiBmYWxzZTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzdHViRmFsc2U7XG4iLCAidmFyIHJvb3QgPSByZXF1aXJlKCcuL19yb290JyksXG4gICAgc3R1YkZhbHNlID0gcmVxdWlyZSgnLi9zdHViRmFsc2UnKTtcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBleHBvcnRzYC4gKi9cbnZhciBmcmVlRXhwb3J0cyA9IHR5cGVvZiBleHBvcnRzID09ICdvYmplY3QnICYmIGV4cG9ydHMgJiYgIWV4cG9ydHMubm9kZVR5cGUgJiYgZXhwb3J0cztcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBtb2R1bGVgLiAqL1xudmFyIGZyZWVNb2R1bGUgPSBmcmVlRXhwb3J0cyAmJiB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZSAmJiAhbW9kdWxlLm5vZGVUeXBlICYmIG1vZHVsZTtcblxuLyoqIERldGVjdCB0aGUgcG9wdWxhciBDb21tb25KUyBleHRlbnNpb24gYG1vZHVsZS5leHBvcnRzYC4gKi9cbnZhciBtb2R1bGVFeHBvcnRzID0gZnJlZU1vZHVsZSAmJiBmcmVlTW9kdWxlLmV4cG9ydHMgPT09IGZyZWVFeHBvcnRzO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBCdWZmZXIgPSBtb2R1bGVFeHBvcnRzID8gcm9vdC5CdWZmZXIgOiB1bmRlZmluZWQ7XG5cbi8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIGZvciB0aG9zZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgb3RoZXIgYGxvZGFzaGAgbWV0aG9kcy4gKi9cbnZhciBuYXRpdmVJc0J1ZmZlciA9IEJ1ZmZlciA/IEJ1ZmZlci5pc0J1ZmZlciA6IHVuZGVmaW5lZDtcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIGJ1ZmZlci5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMy4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGJ1ZmZlciwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQnVmZmVyKG5ldyBCdWZmZXIoMikpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNCdWZmZXIobmV3IFVpbnQ4QXJyYXkoMikpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xudmFyIGlzQnVmZmVyID0gbmF0aXZlSXNCdWZmZXIgfHwgc3R1YkZhbHNlO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGlzQnVmZmVyO1xuIiwgInZhciBiYXNlR2V0VGFnID0gcmVxdWlyZSgnLi9fYmFzZUdldFRhZycpLFxuICAgIGlzTGVuZ3RoID0gcmVxdWlyZSgnLi9pc0xlbmd0aCcpLFxuICAgIGlzT2JqZWN0TGlrZSA9IHJlcXVpcmUoJy4vaXNPYmplY3RMaWtlJyk7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBhcmdzVGFnID0gJ1tvYmplY3QgQXJndW1lbnRzXScsXG4gICAgYXJyYXlUYWcgPSAnW29iamVjdCBBcnJheV0nLFxuICAgIGJvb2xUYWcgPSAnW29iamVjdCBCb29sZWFuXScsXG4gICAgZGF0ZVRhZyA9ICdbb2JqZWN0IERhdGVdJyxcbiAgICBlcnJvclRhZyA9ICdbb2JqZWN0IEVycm9yXScsXG4gICAgZnVuY1RhZyA9ICdbb2JqZWN0IEZ1bmN0aW9uXScsXG4gICAgbWFwVGFnID0gJ1tvYmplY3QgTWFwXScsXG4gICAgbnVtYmVyVGFnID0gJ1tvYmplY3QgTnVtYmVyXScsXG4gICAgb2JqZWN0VGFnID0gJ1tvYmplY3QgT2JqZWN0XScsXG4gICAgcmVnZXhwVGFnID0gJ1tvYmplY3QgUmVnRXhwXScsXG4gICAgc2V0VGFnID0gJ1tvYmplY3QgU2V0XScsXG4gICAgc3RyaW5nVGFnID0gJ1tvYmplY3QgU3RyaW5nXScsXG4gICAgd2Vha01hcFRhZyA9ICdbb2JqZWN0IFdlYWtNYXBdJztcblxudmFyIGFycmF5QnVmZmVyVGFnID0gJ1tvYmplY3QgQXJyYXlCdWZmZXJdJyxcbiAgICBkYXRhVmlld1RhZyA9ICdbb2JqZWN0IERhdGFWaWV3XScsXG4gICAgZmxvYXQzMlRhZyA9ICdbb2JqZWN0IEZsb2F0MzJBcnJheV0nLFxuICAgIGZsb2F0NjRUYWcgPSAnW29iamVjdCBGbG9hdDY0QXJyYXldJyxcbiAgICBpbnQ4VGFnID0gJ1tvYmplY3QgSW50OEFycmF5XScsXG4gICAgaW50MTZUYWcgPSAnW29iamVjdCBJbnQxNkFycmF5XScsXG4gICAgaW50MzJUYWcgPSAnW29iamVjdCBJbnQzMkFycmF5XScsXG4gICAgdWludDhUYWcgPSAnW29iamVjdCBVaW50OEFycmF5XScsXG4gICAgdWludDhDbGFtcGVkVGFnID0gJ1tvYmplY3QgVWludDhDbGFtcGVkQXJyYXldJyxcbiAgICB1aW50MTZUYWcgPSAnW29iamVjdCBVaW50MTZBcnJheV0nLFxuICAgIHVpbnQzMlRhZyA9ICdbb2JqZWN0IFVpbnQzMkFycmF5XSc7XG5cbi8qKiBVc2VkIHRvIGlkZW50aWZ5IGB0b1N0cmluZ1RhZ2AgdmFsdWVzIG9mIHR5cGVkIGFycmF5cy4gKi9cbnZhciB0eXBlZEFycmF5VGFncyA9IHt9O1xudHlwZWRBcnJheVRhZ3NbZmxvYXQzMlRhZ10gPSB0eXBlZEFycmF5VGFnc1tmbG9hdDY0VGFnXSA9XG50eXBlZEFycmF5VGFnc1tpbnQ4VGFnXSA9IHR5cGVkQXJyYXlUYWdzW2ludDE2VGFnXSA9XG50eXBlZEFycmF5VGFnc1tpbnQzMlRhZ10gPSB0eXBlZEFycmF5VGFnc1t1aW50OFRhZ10gPVxudHlwZWRBcnJheVRhZ3NbdWludDhDbGFtcGVkVGFnXSA9IHR5cGVkQXJyYXlUYWdzW3VpbnQxNlRhZ10gPVxudHlwZWRBcnJheVRhZ3NbdWludDMyVGFnXSA9IHRydWU7XG50eXBlZEFycmF5VGFnc1thcmdzVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2FycmF5VGFnXSA9XG50eXBlZEFycmF5VGFnc1thcnJheUJ1ZmZlclRhZ10gPSB0eXBlZEFycmF5VGFnc1tib29sVGFnXSA9XG50eXBlZEFycmF5VGFnc1tkYXRhVmlld1RhZ10gPSB0eXBlZEFycmF5VGFnc1tkYXRlVGFnXSA9XG50eXBlZEFycmF5VGFnc1tlcnJvclRhZ10gPSB0eXBlZEFycmF5VGFnc1tmdW5jVGFnXSA9XG50eXBlZEFycmF5VGFnc1ttYXBUYWddID0gdHlwZWRBcnJheVRhZ3NbbnVtYmVyVGFnXSA9XG50eXBlZEFycmF5VGFnc1tvYmplY3RUYWddID0gdHlwZWRBcnJheVRhZ3NbcmVnZXhwVGFnXSA9XG50eXBlZEFycmF5VGFnc1tzZXRUYWddID0gdHlwZWRBcnJheVRhZ3Nbc3RyaW5nVGFnXSA9XG50eXBlZEFycmF5VGFnc1t3ZWFrTWFwVGFnXSA9IGZhbHNlO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzVHlwZWRBcnJheWAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB0eXBlZCBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBiYXNlSXNUeXBlZEFycmF5KHZhbHVlKSB7XG4gIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmXG4gICAgaXNMZW5ndGgodmFsdWUubGVuZ3RoKSAmJiAhIXR5cGVkQXJyYXlUYWdzW2Jhc2VHZXRUYWcodmFsdWUpXTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlSXNUeXBlZEFycmF5O1xuIiwgIi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udW5hcnlgIHdpdGhvdXQgc3VwcG9ydCBmb3Igc3RvcmluZyBtZXRhZGF0YS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2FwIGFyZ3VtZW50cyBmb3IuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjYXBwZWQgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGJhc2VVbmFyeShmdW5jKSB7XG4gIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiBmdW5jKHZhbHVlKTtcbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlVW5hcnk7XG4iLCAidmFyIGZyZWVHbG9iYWwgPSByZXF1aXJlKCcuL19mcmVlR2xvYmFsJyk7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZXhwb3J0c2AuICovXG52YXIgZnJlZUV4cG9ydHMgPSB0eXBlb2YgZXhwb3J0cyA9PSAnb2JqZWN0JyAmJiBleHBvcnRzICYmICFleHBvcnRzLm5vZGVUeXBlICYmIGV4cG9ydHM7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgbW9kdWxlYC4gKi9cbnZhciBmcmVlTW9kdWxlID0gZnJlZUV4cG9ydHMgJiYgdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUgJiYgIW1vZHVsZS5ub2RlVHlwZSAmJiBtb2R1bGU7XG5cbi8qKiBEZXRlY3QgdGhlIHBvcHVsYXIgQ29tbW9uSlMgZXh0ZW5zaW9uIGBtb2R1bGUuZXhwb3J0c2AuICovXG52YXIgbW9kdWxlRXhwb3J0cyA9IGZyZWVNb2R1bGUgJiYgZnJlZU1vZHVsZS5leHBvcnRzID09PSBmcmVlRXhwb3J0cztcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBwcm9jZXNzYCBmcm9tIE5vZGUuanMuICovXG52YXIgZnJlZVByb2Nlc3MgPSBtb2R1bGVFeHBvcnRzICYmIGZyZWVHbG9iYWwucHJvY2VzcztcblxuLyoqIFVzZWQgdG8gYWNjZXNzIGZhc3RlciBOb2RlLmpzIGhlbHBlcnMuICovXG52YXIgbm9kZVV0aWwgPSAoZnVuY3Rpb24oKSB7XG4gIHRyeSB7XG4gICAgLy8gVXNlIGB1dGlsLnR5cGVzYCBmb3IgTm9kZS5qcyAxMCsuXG4gICAgdmFyIHR5cGVzID0gZnJlZU1vZHVsZSAmJiBmcmVlTW9kdWxlLnJlcXVpcmUgJiYgZnJlZU1vZHVsZS5yZXF1aXJlKCd1dGlsJykudHlwZXM7XG5cbiAgICBpZiAodHlwZXMpIHtcbiAgICAgIHJldHVybiB0eXBlcztcbiAgICB9XG5cbiAgICAvLyBMZWdhY3kgYHByb2Nlc3MuYmluZGluZygndXRpbCcpYCBmb3IgTm9kZS5qcyA8IDEwLlxuICAgIHJldHVybiBmcmVlUHJvY2VzcyAmJiBmcmVlUHJvY2Vzcy5iaW5kaW5nICYmIGZyZWVQcm9jZXNzLmJpbmRpbmcoJ3V0aWwnKTtcbiAgfSBjYXRjaCAoZSkge31cbn0oKSk7XG5cbm1vZHVsZS5leHBvcnRzID0gbm9kZVV0aWw7XG4iLCAidmFyIGJhc2VJc1R5cGVkQXJyYXkgPSByZXF1aXJlKCcuL19iYXNlSXNUeXBlZEFycmF5JyksXG4gICAgYmFzZVVuYXJ5ID0gcmVxdWlyZSgnLi9fYmFzZVVuYXJ5JyksXG4gICAgbm9kZVV0aWwgPSByZXF1aXJlKCcuL19ub2RlVXRpbCcpO1xuXG4vKiBOb2RlLmpzIGhlbHBlciByZWZlcmVuY2VzLiAqL1xudmFyIG5vZGVJc1R5cGVkQXJyYXkgPSBub2RlVXRpbCAmJiBub2RlVXRpbC5pc1R5cGVkQXJyYXk7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIHR5cGVkIGFycmF5LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMy4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdHlwZWQgYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc1R5cGVkQXJyYXkobmV3IFVpbnQ4QXJyYXkpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNUeXBlZEFycmF5KFtdKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbnZhciBpc1R5cGVkQXJyYXkgPSBub2RlSXNUeXBlZEFycmF5ID8gYmFzZVVuYXJ5KG5vZGVJc1R5cGVkQXJyYXkpIDogYmFzZUlzVHlwZWRBcnJheTtcblxubW9kdWxlLmV4cG9ydHMgPSBpc1R5cGVkQXJyYXk7XG4iLCAidmFyIGJhc2VUaW1lcyA9IHJlcXVpcmUoJy4vX2Jhc2VUaW1lcycpLFxuICAgIGlzQXJndW1lbnRzID0gcmVxdWlyZSgnLi9pc0FyZ3VtZW50cycpLFxuICAgIGlzQXJyYXkgPSByZXF1aXJlKCcuL2lzQXJyYXknKSxcbiAgICBpc0J1ZmZlciA9IHJlcXVpcmUoJy4vaXNCdWZmZXInKSxcbiAgICBpc0luZGV4ID0gcmVxdWlyZSgnLi9faXNJbmRleCcpLFxuICAgIGlzVHlwZWRBcnJheSA9IHJlcXVpcmUoJy4vaXNUeXBlZEFycmF5Jyk7XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBvZiB0aGUgYXJyYXktbGlrZSBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaW5oZXJpdGVkIFNwZWNpZnkgcmV0dXJuaW5nIGluaGVyaXRlZCBwcm9wZXJ0eSBuYW1lcy5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gKi9cbmZ1bmN0aW9uIGFycmF5TGlrZUtleXModmFsdWUsIGluaGVyaXRlZCkge1xuICB2YXIgaXNBcnIgPSBpc0FycmF5KHZhbHVlKSxcbiAgICAgIGlzQXJnID0gIWlzQXJyICYmIGlzQXJndW1lbnRzKHZhbHVlKSxcbiAgICAgIGlzQnVmZiA9ICFpc0FyciAmJiAhaXNBcmcgJiYgaXNCdWZmZXIodmFsdWUpLFxuICAgICAgaXNUeXBlID0gIWlzQXJyICYmICFpc0FyZyAmJiAhaXNCdWZmICYmIGlzVHlwZWRBcnJheSh2YWx1ZSksXG4gICAgICBza2lwSW5kZXhlcyA9IGlzQXJyIHx8IGlzQXJnIHx8IGlzQnVmZiB8fCBpc1R5cGUsXG4gICAgICByZXN1bHQgPSBza2lwSW5kZXhlcyA/IGJhc2VUaW1lcyh2YWx1ZS5sZW5ndGgsIFN0cmluZykgOiBbXSxcbiAgICAgIGxlbmd0aCA9IHJlc3VsdC5sZW5ndGg7XG5cbiAgZm9yICh2YXIga2V5IGluIHZhbHVlKSB7XG4gICAgaWYgKChpbmhlcml0ZWQgfHwgaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwga2V5KSkgJiZcbiAgICAgICAgIShza2lwSW5kZXhlcyAmJiAoXG4gICAgICAgICAgIC8vIFNhZmFyaSA5IGhhcyBlbnVtZXJhYmxlIGBhcmd1bWVudHMubGVuZ3RoYCBpbiBzdHJpY3QgbW9kZS5cbiAgICAgICAgICAga2V5ID09ICdsZW5ndGgnIHx8XG4gICAgICAgICAgIC8vIE5vZGUuanMgMC4xMCBoYXMgZW51bWVyYWJsZSBub24taW5kZXggcHJvcGVydGllcyBvbiBidWZmZXJzLlxuICAgICAgICAgICAoaXNCdWZmICYmIChrZXkgPT0gJ29mZnNldCcgfHwga2V5ID09ICdwYXJlbnQnKSkgfHxcbiAgICAgICAgICAgLy8gUGhhbnRvbUpTIDIgaGFzIGVudW1lcmFibGUgbm9uLWluZGV4IHByb3BlcnRpZXMgb24gdHlwZWQgYXJyYXlzLlxuICAgICAgICAgICAoaXNUeXBlICYmIChrZXkgPT0gJ2J1ZmZlcicgfHwga2V5ID09ICdieXRlTGVuZ3RoJyB8fCBrZXkgPT0gJ2J5dGVPZmZzZXQnKSkgfHxcbiAgICAgICAgICAgLy8gU2tpcCBpbmRleCBwcm9wZXJ0aWVzLlxuICAgICAgICAgICBpc0luZGV4KGtleSwgbGVuZ3RoKVxuICAgICAgICApKSkge1xuICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBhcnJheUxpa2VLZXlzO1xuIiwgIi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGlrZWx5IGEgcHJvdG90eXBlIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHByb3RvdHlwZSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc1Byb3RvdHlwZSh2YWx1ZSkge1xuICB2YXIgQ3RvciA9IHZhbHVlICYmIHZhbHVlLmNvbnN0cnVjdG9yLFxuICAgICAgcHJvdG8gPSAodHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBDdG9yLnByb3RvdHlwZSkgfHwgb2JqZWN0UHJvdG87XG5cbiAgcmV0dXJuIHZhbHVlID09PSBwcm90bztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc1Byb3RvdHlwZTtcbiIsICIvKipcbiAqIFRoaXMgZnVuY3Rpb24gaXMgbGlrZVxuICogW2BPYmplY3Qua2V5c2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5rZXlzKVxuICogZXhjZXB0IHRoYXQgaXQgaW5jbHVkZXMgaW5oZXJpdGVkIGVudW1lcmFibGUgcHJvcGVydGllcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAqL1xuZnVuY3Rpb24gbmF0aXZlS2V5c0luKG9iamVjdCkge1xuICB2YXIgcmVzdWx0ID0gW107XG4gIGlmIChvYmplY3QgIT0gbnVsbCkge1xuICAgIGZvciAodmFyIGtleSBpbiBPYmplY3Qob2JqZWN0KSkge1xuICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBuYXRpdmVLZXlzSW47XG4iLCAidmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9pc09iamVjdCcpLFxuICAgIGlzUHJvdG90eXBlID0gcmVxdWlyZSgnLi9faXNQcm90b3R5cGUnKSxcbiAgICBuYXRpdmVLZXlzSW4gPSByZXF1aXJlKCcuL19uYXRpdmVLZXlzSW4nKTtcblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG52YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5rZXlzSW5gIHdoaWNoIGRvZXNuJ3QgdHJlYXQgc3BhcnNlIGFycmF5cyBhcyBkZW5zZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAqL1xuZnVuY3Rpb24gYmFzZUtleXNJbihvYmplY3QpIHtcbiAgaWYgKCFpc09iamVjdChvYmplY3QpKSB7XG4gICAgcmV0dXJuIG5hdGl2ZUtleXNJbihvYmplY3QpO1xuICB9XG4gIHZhciBpc1Byb3RvID0gaXNQcm90b3R5cGUob2JqZWN0KSxcbiAgICAgIHJlc3VsdCA9IFtdO1xuXG4gIGZvciAodmFyIGtleSBpbiBvYmplY3QpIHtcbiAgICBpZiAoIShrZXkgPT0gJ2NvbnN0cnVjdG9yJyAmJiAoaXNQcm90byB8fCAhaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkpKSkge1xuICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlS2V5c0luO1xuIiwgInZhciBhcnJheUxpa2VLZXlzID0gcmVxdWlyZSgnLi9fYXJyYXlMaWtlS2V5cycpLFxuICAgIGJhc2VLZXlzSW4gPSByZXF1aXJlKCcuL19iYXNlS2V5c0luJyksXG4gICAgaXNBcnJheUxpa2UgPSByZXF1aXJlKCcuL2lzQXJyYXlMaWtlJyk7XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBvZiBgb2JqZWN0YC5cbiAqXG4gKiAqKk5vdGU6KiogTm9uLW9iamVjdCB2YWx1ZXMgYXJlIGNvZXJjZWQgdG8gb2JqZWN0cy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDMuMC4wXG4gKiBAY2F0ZWdvcnkgT2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICogQGV4YW1wbGVcbiAqXG4gKiBmdW5jdGlvbiBGb28oKSB7XG4gKiAgIHRoaXMuYSA9IDE7XG4gKiAgIHRoaXMuYiA9IDI7XG4gKiB9XG4gKlxuICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAqXG4gKiBfLmtleXNJbihuZXcgRm9vKTtcbiAqIC8vID0+IFsnYScsICdiJywgJ2MnXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICovXG5mdW5jdGlvbiBrZXlzSW4ob2JqZWN0KSB7XG4gIHJldHVybiBpc0FycmF5TGlrZShvYmplY3QpID8gYXJyYXlMaWtlS2V5cyhvYmplY3QsIHRydWUpIDogYmFzZUtleXNJbihvYmplY3QpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGtleXNJbjtcbiIsICJ2YXIgY29weU9iamVjdCA9IHJlcXVpcmUoJy4vX2NvcHlPYmplY3QnKSxcbiAgICBjcmVhdGVBc3NpZ25lciA9IHJlcXVpcmUoJy4vX2NyZWF0ZUFzc2lnbmVyJyksXG4gICAga2V5c0luID0gcmVxdWlyZSgnLi9rZXlzSW4nKTtcblxuLyoqXG4gKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmFzc2lnbkluYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjdXN0b21pemVyYFxuICogd2hpY2ggaXMgaW52b2tlZCB0byBwcm9kdWNlIHRoZSBhc3NpZ25lZCB2YWx1ZXMuIElmIGBjdXN0b21pemVyYCByZXR1cm5zXG4gKiBgdW5kZWZpbmVkYCwgYXNzaWdubWVudCBpcyBoYW5kbGVkIGJ5IHRoZSBtZXRob2QgaW5zdGVhZC4gVGhlIGBjdXN0b21pemVyYFxuICogaXMgaW52b2tlZCB3aXRoIGZpdmUgYXJndW1lbnRzOiAob2JqVmFsdWUsIHNyY1ZhbHVlLCBrZXksIG9iamVjdCwgc291cmNlKS5cbiAqXG4gKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAYWxpYXMgZXh0ZW5kV2l0aFxuICogQGNhdGVnb3J5IE9iamVjdFxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICogQHBhcmFtIHsuLi5PYmplY3R9IHNvdXJjZXMgVGhlIHNvdXJjZSBvYmplY3RzLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgYXNzaWduZWQgdmFsdWVzLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAqIEBzZWUgXy5hc3NpZ25XaXRoXG4gKiBAZXhhbXBsZVxuICpcbiAqIGZ1bmN0aW9uIGN1c3RvbWl6ZXIob2JqVmFsdWUsIHNyY1ZhbHVlKSB7XG4gKiAgIHJldHVybiBfLmlzVW5kZWZpbmVkKG9ialZhbHVlKSA/IHNyY1ZhbHVlIDogb2JqVmFsdWU7XG4gKiB9XG4gKlxuICogdmFyIGRlZmF1bHRzID0gXy5wYXJ0aWFsUmlnaHQoXy5hc3NpZ25JbldpdGgsIGN1c3RvbWl6ZXIpO1xuICpcbiAqIGRlZmF1bHRzKHsgJ2EnOiAxIH0sIHsgJ2InOiAyIH0sIHsgJ2EnOiAzIH0pO1xuICogLy8gPT4geyAnYSc6IDEsICdiJzogMiB9XG4gKi9cbnZhciBhc3NpZ25JbldpdGggPSBjcmVhdGVBc3NpZ25lcihmdW5jdGlvbihvYmplY3QsIHNvdXJjZSwgc3JjSW5kZXgsIGN1c3RvbWl6ZXIpIHtcbiAgY29weU9iamVjdChzb3VyY2UsIGtleXNJbihzb3VyY2UpLCBvYmplY3QsIGN1c3RvbWl6ZXIpO1xufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gYXNzaWduSW5XaXRoO1xuIiwgIi8qKlxuICogQ3JlYXRlcyBhIHVuYXJ5IGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCBpdHMgYXJndW1lbnQgdHJhbnNmb3JtZWQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSB0cmFuc2Zvcm0gVGhlIGFyZ3VtZW50IHRyYW5zZm9ybS5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBvdmVyQXJnKGZ1bmMsIHRyYW5zZm9ybSkge1xuICByZXR1cm4gZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIGZ1bmModHJhbnNmb3JtKGFyZykpO1xuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG92ZXJBcmc7XG4iLCAidmFyIG92ZXJBcmcgPSByZXF1aXJlKCcuL19vdmVyQXJnJyk7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIGdldFByb3RvdHlwZSA9IG92ZXJBcmcoT2JqZWN0LmdldFByb3RvdHlwZU9mLCBPYmplY3QpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGdldFByb3RvdHlwZTtcbiIsICJ2YXIgYmFzZUdldFRhZyA9IHJlcXVpcmUoJy4vX2Jhc2VHZXRUYWcnKSxcbiAgICBnZXRQcm90b3R5cGUgPSByZXF1aXJlKCcuL19nZXRQcm90b3R5cGUnKSxcbiAgICBpc09iamVjdExpa2UgPSByZXF1aXJlKCcuL2lzT2JqZWN0TGlrZScpO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0VGFnID0gJ1tvYmplY3QgT2JqZWN0XSc7XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBmdW5jUHJvdG8gPSBGdW5jdGlvbi5wcm90b3R5cGUsXG4gICAgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKiogVXNlZCB0byByZXNvbHZlIHRoZSBkZWNvbXBpbGVkIHNvdXJjZSBvZiBmdW5jdGlvbnMuICovXG52YXIgZnVuY1RvU3RyaW5nID0gZnVuY1Byb3RvLnRvU3RyaW5nO1xuXG4vKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4vKiogVXNlZCB0byBpbmZlciB0aGUgYE9iamVjdGAgY29uc3RydWN0b3IuICovXG52YXIgb2JqZWN0Q3RvclN0cmluZyA9IGZ1bmNUb1N0cmluZy5jYWxsKE9iamVjdCk7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBwbGFpbiBvYmplY3QsIHRoYXQgaXMsIGFuIG9iamVjdCBjcmVhdGVkIGJ5IHRoZVxuICogYE9iamVjdGAgY29uc3RydWN0b3Igb3Igb25lIHdpdGggYSBgW1tQcm90b3R5cGVdXWAgb2YgYG51bGxgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC44LjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcGxhaW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIGZ1bmN0aW9uIEZvbygpIHtcbiAqICAgdGhpcy5hID0gMTtcbiAqIH1cbiAqXG4gKiBfLmlzUGxhaW5PYmplY3QobmV3IEZvbyk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNQbGFpbk9iamVjdChbMSwgMiwgM10pO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzUGxhaW5PYmplY3QoeyAneCc6IDAsICd5JzogMCB9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzUGxhaW5PYmplY3QoT2JqZWN0LmNyZWF0ZShudWxsKSk7XG4gKiAvLyA9PiB0cnVlXG4gKi9cbmZ1bmN0aW9uIGlzUGxhaW5PYmplY3QodmFsdWUpIHtcbiAgaWYgKCFpc09iamVjdExpa2UodmFsdWUpIHx8IGJhc2VHZXRUYWcodmFsdWUpICE9IG9iamVjdFRhZykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgcHJvdG8gPSBnZXRQcm90b3R5cGUodmFsdWUpO1xuICBpZiAocHJvdG8gPT09IG51bGwpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICB2YXIgQ3RvciA9IGhhc093blByb3BlcnR5LmNhbGwocHJvdG8sICdjb25zdHJ1Y3RvcicpICYmIHByb3RvLmNvbnN0cnVjdG9yO1xuICByZXR1cm4gdHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBDdG9yIGluc3RhbmNlb2YgQ3RvciAmJlxuICAgIGZ1bmNUb1N0cmluZy5jYWxsKEN0b3IpID09IG9iamVjdEN0b3JTdHJpbmc7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNQbGFpbk9iamVjdDtcbiIsICJ2YXIgYmFzZUdldFRhZyA9IHJlcXVpcmUoJy4vX2Jhc2VHZXRUYWcnKSxcbiAgICBpc09iamVjdExpa2UgPSByZXF1aXJlKCcuL2lzT2JqZWN0TGlrZScpLFxuICAgIGlzUGxhaW5PYmplY3QgPSByZXF1aXJlKCcuL2lzUGxhaW5PYmplY3QnKTtcblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIGRvbUV4Y1RhZyA9ICdbb2JqZWN0IERPTUV4Y2VwdGlvbl0nLFxuICAgIGVycm9yVGFnID0gJ1tvYmplY3QgRXJyb3JdJztcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhbiBgRXJyb3JgLCBgRXZhbEVycm9yYCwgYFJhbmdlRXJyb3JgLCBgUmVmZXJlbmNlRXJyb3JgLFxuICogYFN5bnRheEVycm9yYCwgYFR5cGVFcnJvcmAsIG9yIGBVUklFcnJvcmAgb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMy4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGVycm9yIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzRXJyb3IobmV3IEVycm9yKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzRXJyb3IoRXJyb3IpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNFcnJvcih2YWx1ZSkge1xuICBpZiAoIWlzT2JqZWN0TGlrZSh2YWx1ZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIHRhZyA9IGJhc2VHZXRUYWcodmFsdWUpO1xuICByZXR1cm4gdGFnID09IGVycm9yVGFnIHx8IHRhZyA9PSBkb21FeGNUYWcgfHxcbiAgICAodHlwZW9mIHZhbHVlLm1lc3NhZ2UgPT0gJ3N0cmluZycgJiYgdHlwZW9mIHZhbHVlLm5hbWUgPT0gJ3N0cmluZycgJiYgIWlzUGxhaW5PYmplY3QodmFsdWUpKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc0Vycm9yO1xuIiwgInZhciBhcHBseSA9IHJlcXVpcmUoJy4vX2FwcGx5JyksXG4gICAgYmFzZVJlc3QgPSByZXF1aXJlKCcuL19iYXNlUmVzdCcpLFxuICAgIGlzRXJyb3IgPSByZXF1aXJlKCcuL2lzRXJyb3InKTtcblxuLyoqXG4gKiBBdHRlbXB0cyB0byBpbnZva2UgYGZ1bmNgLCByZXR1cm5pbmcgZWl0aGVyIHRoZSByZXN1bHQgb3IgdGhlIGNhdWdodCBlcnJvclxuICogb2JqZWN0LiBBbnkgYWRkaXRpb25hbCBhcmd1bWVudHMgYXJlIHByb3ZpZGVkIHRvIGBmdW5jYCB3aGVuIGl0J3MgaW52b2tlZC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDMuMC4wXG4gKiBAY2F0ZWdvcnkgVXRpbFxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXR0ZW1wdC5cbiAqIEBwYXJhbSB7Li4uKn0gW2FyZ3NdIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIGBmdW5jYCB3aXRoLlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGBmdW5jYCByZXN1bHQgb3IgZXJyb3Igb2JqZWN0LlxuICogQGV4YW1wbGVcbiAqXG4gKiAvLyBBdm9pZCB0aHJvd2luZyBlcnJvcnMgZm9yIGludmFsaWQgc2VsZWN0b3JzLlxuICogdmFyIGVsZW1lbnRzID0gXy5hdHRlbXB0KGZ1bmN0aW9uKHNlbGVjdG9yKSB7XG4gKiAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcbiAqIH0sICc+Xz4nKTtcbiAqXG4gKiBpZiAoXy5pc0Vycm9yKGVsZW1lbnRzKSkge1xuICogICBlbGVtZW50cyA9IFtdO1xuICogfVxuICovXG52YXIgYXR0ZW1wdCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGZ1bmMsIGFyZ3MpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gYXBwbHkoZnVuYywgdW5kZWZpbmVkLCBhcmdzKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBpc0Vycm9yKGUpID8gZSA6IG5ldyBFcnJvcihlKTtcbiAgfVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gYXR0ZW1wdDtcbiIsICIvKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5tYXBgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZVxuICogc2hvcnRoYW5kcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IG1hcHBlZCBhcnJheS5cbiAqL1xuZnVuY3Rpb24gYXJyYXlNYXAoYXJyYXksIGl0ZXJhdGVlKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGgsXG4gICAgICByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgcmVzdWx0W2luZGV4XSA9IGl0ZXJhdGVlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGFycmF5TWFwO1xuIiwgInZhciBhcnJheU1hcCA9IHJlcXVpcmUoJy4vX2FycmF5TWFwJyk7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udmFsdWVzYCBhbmQgYF8udmFsdWVzSW5gIHdoaWNoIGNyZWF0ZXMgYW5cbiAqIGFycmF5IG9mIGBvYmplY3RgIHByb3BlcnR5IHZhbHVlcyBjb3JyZXNwb25kaW5nIHRvIHRoZSBwcm9wZXJ0eSBuYW1lc1xuICogb2YgYHByb3BzYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtBcnJheX0gcHJvcHMgVGhlIHByb3BlcnR5IG5hbWVzIHRvIGdldCB2YWx1ZXMgZm9yLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgdmFsdWVzLlxuICovXG5mdW5jdGlvbiBiYXNlVmFsdWVzKG9iamVjdCwgcHJvcHMpIHtcbiAgcmV0dXJuIGFycmF5TWFwKHByb3BzLCBmdW5jdGlvbihrZXkpIHtcbiAgICByZXR1cm4gb2JqZWN0W2tleV07XG4gIH0pO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VWYWx1ZXM7XG4iLCAidmFyIGVxID0gcmVxdWlyZSgnLi9lcScpO1xuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4vKipcbiAqIFVzZWQgYnkgYF8uZGVmYXVsdHNgIHRvIGN1c3RvbWl6ZSBpdHMgYF8uYXNzaWduSW5gIHVzZSB0byBhc3NpZ24gcHJvcGVydGllc1xuICogb2Ygc291cmNlIG9iamVjdHMgdG8gdGhlIGRlc3RpbmF0aW9uIG9iamVjdCBmb3IgYWxsIGRlc3RpbmF0aW9uIHByb3BlcnRpZXNcbiAqIHRoYXQgcmVzb2x2ZSB0byBgdW5kZWZpbmVkYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSBvYmpWYWx1ZSBUaGUgZGVzdGluYXRpb24gdmFsdWUuXG4gKiBAcGFyYW0geyp9IHNyY1ZhbHVlIFRoZSBzb3VyY2UgdmFsdWUuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGFzc2lnbi5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHBhcmVudCBvYmplY3Qgb2YgYG9ialZhbHVlYC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSB2YWx1ZSB0byBhc3NpZ24uXG4gKi9cbmZ1bmN0aW9uIGN1c3RvbURlZmF1bHRzQXNzaWduSW4ob2JqVmFsdWUsIHNyY1ZhbHVlLCBrZXksIG9iamVjdCkge1xuICBpZiAob2JqVmFsdWUgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgKGVxKG9ialZhbHVlLCBvYmplY3RQcm90b1trZXldKSAmJiAhaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkpKSB7XG4gICAgcmV0dXJuIHNyY1ZhbHVlO1xuICB9XG4gIHJldHVybiBvYmpWYWx1ZTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjdXN0b21EZWZhdWx0c0Fzc2lnbkluO1xuIiwgIi8qKiBVc2VkIHRvIGVzY2FwZSBjaGFyYWN0ZXJzIGZvciBpbmNsdXNpb24gaW4gY29tcGlsZWQgc3RyaW5nIGxpdGVyYWxzLiAqL1xudmFyIHN0cmluZ0VzY2FwZXMgPSB7XG4gICdcXFxcJzogJ1xcXFwnLFxuICBcIidcIjogXCInXCIsXG4gICdcXG4nOiAnbicsXG4gICdcXHInOiAncicsXG4gICdcXHUyMDI4JzogJ3UyMDI4JyxcbiAgJ1xcdTIwMjknOiAndTIwMjknXG59O1xuXG4vKipcbiAqIFVzZWQgYnkgYF8udGVtcGxhdGVgIHRvIGVzY2FwZSBjaGFyYWN0ZXJzIGZvciBpbmNsdXNpb24gaW4gY29tcGlsZWQgc3RyaW5nIGxpdGVyYWxzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gY2hyIFRoZSBtYXRjaGVkIGNoYXJhY3RlciB0byBlc2NhcGUuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBlc2NhcGVkIGNoYXJhY3Rlci5cbiAqL1xuZnVuY3Rpb24gZXNjYXBlU3RyaW5nQ2hhcihjaHIpIHtcbiAgcmV0dXJuICdcXFxcJyArIHN0cmluZ0VzY2FwZXNbY2hyXTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBlc2NhcGVTdHJpbmdDaGFyO1xuIiwgInZhciBvdmVyQXJnID0gcmVxdWlyZSgnLi9fb3ZlckFyZycpO1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyBmb3IgdGhvc2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMuICovXG52YXIgbmF0aXZlS2V5cyA9IG92ZXJBcmcoT2JqZWN0LmtleXMsIE9iamVjdCk7XG5cbm1vZHVsZS5leHBvcnRzID0gbmF0aXZlS2V5cztcbiIsICJ2YXIgaXNQcm90b3R5cGUgPSByZXF1aXJlKCcuL19pc1Byb3RvdHlwZScpLFxuICAgIG5hdGl2ZUtleXMgPSByZXF1aXJlKCcuL19uYXRpdmVLZXlzJyk7XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ua2V5c2Agd2hpY2ggZG9lc24ndCB0cmVhdCBzcGFyc2UgYXJyYXlzIGFzIGRlbnNlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICovXG5mdW5jdGlvbiBiYXNlS2V5cyhvYmplY3QpIHtcbiAgaWYgKCFpc1Byb3RvdHlwZShvYmplY3QpKSB7XG4gICAgcmV0dXJuIG5hdGl2ZUtleXMob2JqZWN0KTtcbiAgfVxuICB2YXIgcmVzdWx0ID0gW107XG4gIGZvciAodmFyIGtleSBpbiBPYmplY3Qob2JqZWN0KSkge1xuICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSAmJiBrZXkgIT0gJ2NvbnN0cnVjdG9yJykge1xuICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlS2V5cztcbiIsICJ2YXIgYXJyYXlMaWtlS2V5cyA9IHJlcXVpcmUoJy4vX2FycmF5TGlrZUtleXMnKSxcbiAgICBiYXNlS2V5cyA9IHJlcXVpcmUoJy4vX2Jhc2VLZXlzJyksXG4gICAgaXNBcnJheUxpa2UgPSByZXF1aXJlKCcuL2lzQXJyYXlMaWtlJyk7XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgb2YgYG9iamVjdGAuXG4gKlxuICogKipOb3RlOioqIE5vbi1vYmplY3QgdmFsdWVzIGFyZSBjb2VyY2VkIHRvIG9iamVjdHMuIFNlZSB0aGVcbiAqIFtFUyBzcGVjXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3Qua2V5cylcbiAqIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogQHN0YXRpY1xuICogQHNpbmNlIDAuMS4wXG4gKiBAbWVtYmVyT2YgX1xuICogQGNhdGVnb3J5IE9iamVjdFxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAqIEBleGFtcGxlXG4gKlxuICogZnVuY3Rpb24gRm9vKCkge1xuICogICB0aGlzLmEgPSAxO1xuICogICB0aGlzLmIgPSAyO1xuICogfVxuICpcbiAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gKlxuICogXy5rZXlzKG5ldyBGb28pO1xuICogLy8gPT4gWydhJywgJ2InXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICpcbiAqIF8ua2V5cygnaGknKTtcbiAqIC8vID0+IFsnMCcsICcxJ11cbiAqL1xuZnVuY3Rpb24ga2V5cyhvYmplY3QpIHtcbiAgcmV0dXJuIGlzQXJyYXlMaWtlKG9iamVjdCkgPyBhcnJheUxpa2VLZXlzKG9iamVjdCkgOiBiYXNlS2V5cyhvYmplY3QpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGtleXM7XG4iLCAiLyoqIFVzZWQgdG8gbWF0Y2ggdGVtcGxhdGUgZGVsaW1pdGVycy4gKi9cbnZhciByZUludGVycG9sYXRlID0gLzwlPShbXFxzXFxTXSs/KSU+L2c7XG5cbm1vZHVsZS5leHBvcnRzID0gcmVJbnRlcnBvbGF0ZTtcbiIsICIvKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnByb3BlcnR5T2ZgIHdpdGhvdXQgc3VwcG9ydCBmb3IgZGVlcCBwYXRocy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWNjZXNzb3IgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGJhc2VQcm9wZXJ0eU9mKG9iamVjdCkge1xuICByZXR1cm4gZnVuY3Rpb24oa2V5KSB7XG4gICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W2tleV07XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZVByb3BlcnR5T2Y7XG4iLCAidmFyIGJhc2VQcm9wZXJ0eU9mID0gcmVxdWlyZSgnLi9fYmFzZVByb3BlcnR5T2YnKTtcblxuLyoqIFVzZWQgdG8gbWFwIGNoYXJhY3RlcnMgdG8gSFRNTCBlbnRpdGllcy4gKi9cbnZhciBodG1sRXNjYXBlcyA9IHtcbiAgJyYnOiAnJmFtcDsnLFxuICAnPCc6ICcmbHQ7JyxcbiAgJz4nOiAnJmd0OycsXG4gICdcIic6ICcmcXVvdDsnLFxuICBcIidcIjogJyYjMzk7J1xufTtcblxuLyoqXG4gKiBVc2VkIGJ5IGBfLmVzY2FwZWAgdG8gY29udmVydCBjaGFyYWN0ZXJzIHRvIEhUTUwgZW50aXRpZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBjaHIgVGhlIG1hdGNoZWQgY2hhcmFjdGVyIHRvIGVzY2FwZS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGVzY2FwZWQgY2hhcmFjdGVyLlxuICovXG52YXIgZXNjYXBlSHRtbENoYXIgPSBiYXNlUHJvcGVydHlPZihodG1sRXNjYXBlcyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZXNjYXBlSHRtbENoYXI7XG4iLCAidmFyIGJhc2VHZXRUYWcgPSByZXF1aXJlKCcuL19iYXNlR2V0VGFnJyksXG4gICAgaXNPYmplY3RMaWtlID0gcmVxdWlyZSgnLi9pc09iamVjdExpa2UnKTtcblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIHN5bWJvbFRhZyA9ICdbb2JqZWN0IFN5bWJvbF0nO1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgU3ltYm9sYCBwcmltaXRpdmUgb3Igb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc3ltYm9sLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNTeW1ib2woU3ltYm9sLml0ZXJhdG9yKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzU3ltYm9sKCdhYmMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzU3ltYm9sKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ3N5bWJvbCcgfHxcbiAgICAoaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBzeW1ib2xUYWcpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzU3ltYm9sO1xuIiwgInZhciBTeW1ib2wgPSByZXF1aXJlKCcuL19TeW1ib2wnKSxcbiAgICBhcnJheU1hcCA9IHJlcXVpcmUoJy4vX2FycmF5TWFwJyksXG4gICAgaXNBcnJheSA9IHJlcXVpcmUoJy4vaXNBcnJheScpLFxuICAgIGlzU3ltYm9sID0gcmVxdWlyZSgnLi9pc1N5bWJvbCcpO1xuXG4vKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB2YXJpb3VzIGBOdW1iZXJgIGNvbnN0YW50cy4gKi9cbnZhciBJTkZJTklUWSA9IDEgLyAwO1xuXG4vKiogVXNlZCB0byBjb252ZXJ0IHN5bWJvbHMgdG8gcHJpbWl0aXZlcyBhbmQgc3RyaW5ncy4gKi9cbnZhciBzeW1ib2xQcm90byA9IFN5bWJvbCA/IFN5bWJvbC5wcm90b3R5cGUgOiB1bmRlZmluZWQsXG4gICAgc3ltYm9sVG9TdHJpbmcgPSBzeW1ib2xQcm90byA/IHN5bWJvbFByb3RvLnRvU3RyaW5nIDogdW5kZWZpbmVkO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnRvU3RyaW5nYCB3aGljaCBkb2Vzbid0IGNvbnZlcnQgbnVsbGlzaFxuICogdmFsdWVzIHRvIGVtcHR5IHN0cmluZ3MuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIGJhc2VUb1N0cmluZyh2YWx1ZSkge1xuICAvLyBFeGl0IGVhcmx5IGZvciBzdHJpbmdzIHRvIGF2b2lkIGEgcGVyZm9ybWFuY2UgaGl0IGluIHNvbWUgZW52aXJvbm1lbnRzLlxuICBpZiAodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgIC8vIFJlY3Vyc2l2ZWx5IGNvbnZlcnQgdmFsdWVzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgcmV0dXJuIGFycmF5TWFwKHZhbHVlLCBiYXNlVG9TdHJpbmcpICsgJyc7XG4gIH1cbiAgaWYgKGlzU3ltYm9sKHZhbHVlKSkge1xuICAgIHJldHVybiBzeW1ib2xUb1N0cmluZyA/IHN5bWJvbFRvU3RyaW5nLmNhbGwodmFsdWUpIDogJyc7XG4gIH1cbiAgdmFyIHJlc3VsdCA9ICh2YWx1ZSArICcnKTtcbiAgcmV0dXJuIChyZXN1bHQgPT0gJzAnICYmICgxIC8gdmFsdWUpID09IC1JTkZJTklUWSkgPyAnLTAnIDogcmVzdWx0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VUb1N0cmluZztcbiIsICJ2YXIgYmFzZVRvU3RyaW5nID0gcmVxdWlyZSgnLi9fYmFzZVRvU3RyaW5nJyk7XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZy4gQW4gZW1wdHkgc3RyaW5nIGlzIHJldHVybmVkIGZvciBgbnVsbGBcbiAqIGFuZCBgdW5kZWZpbmVkYCB2YWx1ZXMuIFRoZSBzaWduIG9mIGAtMGAgaXMgcHJlc2VydmVkLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY29udmVydGVkIHN0cmluZy5cbiAqIEBleGFtcGxlXG4gKlxuICogXy50b1N0cmluZyhudWxsKTtcbiAqIC8vID0+ICcnXG4gKlxuICogXy50b1N0cmluZygtMCk7XG4gKiAvLyA9PiAnLTAnXG4gKlxuICogXy50b1N0cmluZyhbMSwgMiwgM10pO1xuICogLy8gPT4gJzEsMiwzJ1xuICovXG5mdW5jdGlvbiB0b1N0cmluZyh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgPT0gbnVsbCA/ICcnIDogYmFzZVRvU3RyaW5nKHZhbHVlKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB0b1N0cmluZztcbiIsICJ2YXIgZXNjYXBlSHRtbENoYXIgPSByZXF1aXJlKCcuL19lc2NhcGVIdG1sQ2hhcicpLFxuICAgIHRvU3RyaW5nID0gcmVxdWlyZSgnLi90b1N0cmluZycpO1xuXG4vKiogVXNlZCB0byBtYXRjaCBIVE1MIGVudGl0aWVzIGFuZCBIVE1MIGNoYXJhY3RlcnMuICovXG52YXIgcmVVbmVzY2FwZWRIdG1sID0gL1smPD5cIiddL2csXG4gICAgcmVIYXNVbmVzY2FwZWRIdG1sID0gUmVnRXhwKHJlVW5lc2NhcGVkSHRtbC5zb3VyY2UpO1xuXG4vKipcbiAqIENvbnZlcnRzIHRoZSBjaGFyYWN0ZXJzIFwiJlwiLCBcIjxcIiwgXCI+XCIsICdcIicsIGFuZCBcIidcIiBpbiBgc3RyaW5nYCB0byB0aGVpclxuICogY29ycmVzcG9uZGluZyBIVE1MIGVudGl0aWVzLlxuICpcbiAqICoqTm90ZToqKiBObyBvdGhlciBjaGFyYWN0ZXJzIGFyZSBlc2NhcGVkLiBUbyBlc2NhcGUgYWRkaXRpb25hbFxuICogY2hhcmFjdGVycyB1c2UgYSB0aGlyZC1wYXJ0eSBsaWJyYXJ5IGxpa2UgW19oZV9dKGh0dHBzOi8vbXRocy5iZS9oZSkuXG4gKlxuICogVGhvdWdoIHRoZSBcIj5cIiBjaGFyYWN0ZXIgaXMgZXNjYXBlZCBmb3Igc3ltbWV0cnksIGNoYXJhY3RlcnMgbGlrZVxuICogXCI+XCIgYW5kIFwiL1wiIGRvbid0IG5lZWQgZXNjYXBpbmcgaW4gSFRNTCBhbmQgaGF2ZSBubyBzcGVjaWFsIG1lYW5pbmdcbiAqIHVubGVzcyB0aGV5J3JlIHBhcnQgb2YgYSB0YWcgb3IgdW5xdW90ZWQgYXR0cmlidXRlIHZhbHVlLiBTZWVcbiAqIFtNYXRoaWFzIEJ5bmVucydzIGFydGljbGVdKGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9hbWJpZ3VvdXMtYW1wZXJzYW5kcylcbiAqICh1bmRlciBcInNlbWktcmVsYXRlZCBmdW4gZmFjdFwiKSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFdoZW4gd29ya2luZyB3aXRoIEhUTUwgeW91IHNob3VsZCBhbHdheXNcbiAqIFtxdW90ZSBhdHRyaWJ1dGUgdmFsdWVzXShodHRwOi8vd29ua28uY29tL3Bvc3QvaHRtbC1lc2NhcGluZykgdG8gcmVkdWNlXG4gKiBYU1MgdmVjdG9ycy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBtZW1iZXJPZiBfXG4gKiBAY2F0ZWdvcnkgU3RyaW5nXG4gKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBlc2NhcGUuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBlc2NhcGVkIHN0cmluZy5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5lc2NhcGUoJ2ZyZWQsIGJhcm5leSwgJiBwZWJibGVzJyk7XG4gKiAvLyA9PiAnZnJlZCwgYmFybmV5LCAmYW1wOyBwZWJibGVzJ1xuICovXG5mdW5jdGlvbiBlc2NhcGUoc3RyaW5nKSB7XG4gIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gIHJldHVybiAoc3RyaW5nICYmIHJlSGFzVW5lc2NhcGVkSHRtbC50ZXN0KHN0cmluZykpXG4gICAgPyBzdHJpbmcucmVwbGFjZShyZVVuZXNjYXBlZEh0bWwsIGVzY2FwZUh0bWxDaGFyKVxuICAgIDogc3RyaW5nO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGVzY2FwZTtcbiIsICIvKiogVXNlZCB0byBtYXRjaCB0ZW1wbGF0ZSBkZWxpbWl0ZXJzLiAqL1xudmFyIHJlRXNjYXBlID0gLzwlLShbXFxzXFxTXSs/KSU+L2c7XG5cbm1vZHVsZS5leHBvcnRzID0gcmVFc2NhcGU7XG4iLCAiLyoqIFVzZWQgdG8gbWF0Y2ggdGVtcGxhdGUgZGVsaW1pdGVycy4gKi9cbnZhciByZUV2YWx1YXRlID0gLzwlKFtcXHNcXFNdKz8pJT4vZztcblxubW9kdWxlLmV4cG9ydHMgPSByZUV2YWx1YXRlO1xuIiwgInZhciBlc2NhcGUgPSByZXF1aXJlKCcuL2VzY2FwZScpLFxuICAgIHJlRXNjYXBlID0gcmVxdWlyZSgnLi9fcmVFc2NhcGUnKSxcbiAgICByZUV2YWx1YXRlID0gcmVxdWlyZSgnLi9fcmVFdmFsdWF0ZScpLFxuICAgIHJlSW50ZXJwb2xhdGUgPSByZXF1aXJlKCcuL19yZUludGVycG9sYXRlJyk7XG5cbi8qKlxuICogQnkgZGVmYXVsdCwgdGhlIHRlbXBsYXRlIGRlbGltaXRlcnMgdXNlZCBieSBsb2Rhc2ggYXJlIGxpa2UgdGhvc2UgaW5cbiAqIGVtYmVkZGVkIFJ1YnkgKEVSQikgYXMgd2VsbCBhcyBFUzIwMTUgdGVtcGxhdGUgc3RyaW5ncy4gQ2hhbmdlIHRoZVxuICogZm9sbG93aW5nIHRlbXBsYXRlIHNldHRpbmdzIHRvIHVzZSBhbHRlcm5hdGl2ZSBkZWxpbWl0ZXJzLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAdHlwZSB7T2JqZWN0fVxuICovXG52YXIgdGVtcGxhdGVTZXR0aW5ncyA9IHtcblxuICAvKipcbiAgICogVXNlZCB0byBkZXRlY3QgYGRhdGFgIHByb3BlcnR5IHZhbHVlcyB0byBiZSBIVE1MLWVzY2FwZWQuXG4gICAqXG4gICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3NcbiAgICogQHR5cGUge1JlZ0V4cH1cbiAgICovXG4gICdlc2NhcGUnOiByZUVzY2FwZSxcblxuICAvKipcbiAgICogVXNlZCB0byBkZXRlY3QgY29kZSB0byBiZSBldmFsdWF0ZWQuXG4gICAqXG4gICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3NcbiAgICogQHR5cGUge1JlZ0V4cH1cbiAgICovXG4gICdldmFsdWF0ZSc6IHJlRXZhbHVhdGUsXG5cbiAgLyoqXG4gICAqIFVzZWQgdG8gZGV0ZWN0IGBkYXRhYCBwcm9wZXJ0eSB2YWx1ZXMgdG8gaW5qZWN0LlxuICAgKlxuICAgKiBAbWVtYmVyT2YgXy50ZW1wbGF0ZVNldHRpbmdzXG4gICAqIEB0eXBlIHtSZWdFeHB9XG4gICAqL1xuICAnaW50ZXJwb2xhdGUnOiByZUludGVycG9sYXRlLFxuXG4gIC8qKlxuICAgKiBVc2VkIHRvIHJlZmVyZW5jZSB0aGUgZGF0YSBvYmplY3QgaW4gdGhlIHRlbXBsYXRlIHRleHQuXG4gICAqXG4gICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3NcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICovXG4gICd2YXJpYWJsZSc6ICcnLFxuXG4gIC8qKlxuICAgKiBVc2VkIHRvIGltcG9ydCB2YXJpYWJsZXMgaW50byB0aGUgY29tcGlsZWQgdGVtcGxhdGUuXG4gICAqXG4gICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3NcbiAgICogQHR5cGUge09iamVjdH1cbiAgICovXG4gICdpbXBvcnRzJzoge1xuXG4gICAgLyoqXG4gICAgICogQSByZWZlcmVuY2UgdG8gdGhlIGBsb2Rhc2hgIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQG1lbWJlck9mIF8udGVtcGxhdGVTZXR0aW5ncy5pbXBvcnRzXG4gICAgICogQHR5cGUge0Z1bmN0aW9ufVxuICAgICAqL1xuICAgICdfJzogeyAnZXNjYXBlJzogZXNjYXBlIH1cbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSB0ZW1wbGF0ZVNldHRpbmdzO1xuIiwgInZhciBhc3NpZ25JbldpdGggPSByZXF1aXJlKCcuL2Fzc2lnbkluV2l0aCcpLFxuICAgIGF0dGVtcHQgPSByZXF1aXJlKCcuL2F0dGVtcHQnKSxcbiAgICBiYXNlVmFsdWVzID0gcmVxdWlyZSgnLi9fYmFzZVZhbHVlcycpLFxuICAgIGN1c3RvbURlZmF1bHRzQXNzaWduSW4gPSByZXF1aXJlKCcuL19jdXN0b21EZWZhdWx0c0Fzc2lnbkluJyksXG4gICAgZXNjYXBlU3RyaW5nQ2hhciA9IHJlcXVpcmUoJy4vX2VzY2FwZVN0cmluZ0NoYXInKSxcbiAgICBpc0Vycm9yID0gcmVxdWlyZSgnLi9pc0Vycm9yJyksXG4gICAgaXNJdGVyYXRlZUNhbGwgPSByZXF1aXJlKCcuL19pc0l0ZXJhdGVlQ2FsbCcpLFxuICAgIGtleXMgPSByZXF1aXJlKCcuL2tleXMnKSxcbiAgICByZUludGVycG9sYXRlID0gcmVxdWlyZSgnLi9fcmVJbnRlcnBvbGF0ZScpLFxuICAgIHRlbXBsYXRlU2V0dGluZ3MgPSByZXF1aXJlKCcuL3RlbXBsYXRlU2V0dGluZ3MnKSxcbiAgICB0b1N0cmluZyA9IHJlcXVpcmUoJy4vdG9TdHJpbmcnKTtcblxuLyoqIEVycm9yIG1lc3NhZ2UgY29uc3RhbnRzLiAqL1xudmFyIElOVkFMSURfVEVNUExfVkFSX0VSUk9SX1RFWFQgPSAnSW52YWxpZCBgdmFyaWFibGVgIG9wdGlvbiBwYXNzZWQgaW50byBgXy50ZW1wbGF0ZWAnO1xuXG4vKiogVXNlZCB0byBtYXRjaCBlbXB0eSBzdHJpbmcgbGl0ZXJhbHMgaW4gY29tcGlsZWQgdGVtcGxhdGUgc291cmNlLiAqL1xudmFyIHJlRW1wdHlTdHJpbmdMZWFkaW5nID0gL1xcYl9fcCBcXCs9ICcnOy9nLFxuICAgIHJlRW1wdHlTdHJpbmdNaWRkbGUgPSAvXFxiKF9fcCBcXCs9KSAnJyBcXCsvZyxcbiAgICByZUVtcHR5U3RyaW5nVHJhaWxpbmcgPSAvKF9fZVxcKC4qP1xcKXxcXGJfX3RcXCkpIFxcK1xcbicnOy9nO1xuXG4vKipcbiAqIFVzZWQgdG8gdmFsaWRhdGUgdGhlIGB2YWxpZGF0ZWAgb3B0aW9uIGluIGBfLnRlbXBsYXRlYCB2YXJpYWJsZS5cbiAqXG4gKiBGb3JiaWRzIGNoYXJhY3RlcnMgd2hpY2ggY291bGQgcG90ZW50aWFsbHkgY2hhbmdlIHRoZSBtZWFuaW5nIG9mIHRoZSBmdW5jdGlvbiBhcmd1bWVudCBkZWZpbml0aW9uOlxuICogLSBcIigpLFwiIChtb2RpZmljYXRpb24gb2YgZnVuY3Rpb24gcGFyYW1ldGVycylcbiAqIC0gXCI9XCIgKGRlZmF1bHQgdmFsdWUpXG4gKiAtIFwiW117fVwiIChkZXN0cnVjdHVyaW5nIG9mIGZ1bmN0aW9uIHBhcmFtZXRlcnMpXG4gKiAtIFwiL1wiIChiZWdpbm5pbmcgb2YgYSBjb21tZW50KVxuICogLSB3aGl0ZXNwYWNlXG4gKi9cbnZhciByZUZvcmJpZGRlbklkZW50aWZpZXJDaGFycyA9IC9bKCk9LHt9XFxbXFxdXFwvXFxzXS87XG5cbi8qKlxuICogVXNlZCB0byBtYXRjaFxuICogW0VTIHRlbXBsYXRlIGRlbGltaXRlcnNdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXRlbXBsYXRlLWxpdGVyYWwtbGV4aWNhbC1jb21wb25lbnRzKS5cbiAqL1xudmFyIHJlRXNUZW1wbGF0ZSA9IC9cXCRcXHsoW15cXFxcfV0qKD86XFxcXC5bXlxcXFx9XSopKilcXH0vZztcblxuLyoqIFVzZWQgdG8gZW5zdXJlIGNhcHR1cmluZyBvcmRlciBvZiB0ZW1wbGF0ZSBkZWxpbWl0ZXJzLiAqL1xudmFyIHJlTm9NYXRjaCA9IC8oJF4pLztcblxuLyoqIFVzZWQgdG8gbWF0Y2ggdW5lc2NhcGVkIGNoYXJhY3RlcnMgaW4gY29tcGlsZWQgc3RyaW5nIGxpdGVyYWxzLiAqL1xudmFyIHJlVW5lc2NhcGVkU3RyaW5nID0gL1snXFxuXFxyXFx1MjAyOFxcdTIwMjlcXFxcXS9nO1xuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBjb21waWxlZCB0ZW1wbGF0ZSBmdW5jdGlvbiB0aGF0IGNhbiBpbnRlcnBvbGF0ZSBkYXRhIHByb3BlcnRpZXNcbiAqIGluIFwiaW50ZXJwb2xhdGVcIiBkZWxpbWl0ZXJzLCBIVE1MLWVzY2FwZSBpbnRlcnBvbGF0ZWQgZGF0YSBwcm9wZXJ0aWVzIGluXG4gKiBcImVzY2FwZVwiIGRlbGltaXRlcnMsIGFuZCBleGVjdXRlIEphdmFTY3JpcHQgaW4gXCJldmFsdWF0ZVwiIGRlbGltaXRlcnMuIERhdGFcbiAqIHByb3BlcnRpZXMgbWF5IGJlIGFjY2Vzc2VkIGFzIGZyZWUgdmFyaWFibGVzIGluIHRoZSB0ZW1wbGF0ZS4gSWYgYSBzZXR0aW5nXG4gKiBvYmplY3QgaXMgZ2l2ZW4sIGl0IHRha2VzIHByZWNlZGVuY2Ugb3ZlciBgXy50ZW1wbGF0ZVNldHRpbmdzYCB2YWx1ZXMuXG4gKlxuICogKipOb3RlOioqIEluIHRoZSBkZXZlbG9wbWVudCBidWlsZCBgXy50ZW1wbGF0ZWAgdXRpbGl6ZXNcbiAqIFtzb3VyY2VVUkxzXShodHRwOi8vd3d3Lmh0bWw1cm9ja3MuY29tL2VuL3R1dG9yaWFscy9kZXZlbG9wZXJ0b29scy9zb3VyY2VtYXBzLyN0b2Mtc291cmNldXJsKVxuICogZm9yIGVhc2llciBkZWJ1Z2dpbmcuXG4gKlxuICogRm9yIG1vcmUgaW5mb3JtYXRpb24gb24gcHJlY29tcGlsaW5nIHRlbXBsYXRlcyBzZWVcbiAqIFtsb2Rhc2gncyBjdXN0b20gYnVpbGRzIGRvY3VtZW50YXRpb25dKGh0dHBzOi8vbG9kYXNoLmNvbS9jdXN0b20tYnVpbGRzKS5cbiAqXG4gKiBGb3IgbW9yZSBpbmZvcm1hdGlvbiBvbiBDaHJvbWUgZXh0ZW5zaW9uIHNhbmRib3hlcyBzZWVcbiAqIFtDaHJvbWUncyBleHRlbnNpb25zIGRvY3VtZW50YXRpb25dKGh0dHBzOi8vZGV2ZWxvcGVyLmNocm9tZS5jb20vZXh0ZW5zaW9ucy9zYW5kYm94aW5nRXZhbCkuXG4gKlxuICogQHN0YXRpY1xuICogQHNpbmNlIDAuMS4wXG4gKiBAbWVtYmVyT2YgX1xuICogQGNhdGVnb3J5IFN0cmluZ1xuICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSB0ZW1wbGF0ZSBzdHJpbmcuXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIFRoZSBvcHRpb25zIG9iamVjdC5cbiAqIEBwYXJhbSB7UmVnRXhwfSBbb3B0aW9ucy5lc2NhcGU9Xy50ZW1wbGF0ZVNldHRpbmdzLmVzY2FwZV1cbiAqICBUaGUgSFRNTCBcImVzY2FwZVwiIGRlbGltaXRlci5cbiAqIEBwYXJhbSB7UmVnRXhwfSBbb3B0aW9ucy5ldmFsdWF0ZT1fLnRlbXBsYXRlU2V0dGluZ3MuZXZhbHVhdGVdXG4gKiAgVGhlIFwiZXZhbHVhdGVcIiBkZWxpbWl0ZXIuXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMuaW1wb3J0cz1fLnRlbXBsYXRlU2V0dGluZ3MuaW1wb3J0c11cbiAqICBBbiBvYmplY3QgdG8gaW1wb3J0IGludG8gdGhlIHRlbXBsYXRlIGFzIGZyZWUgdmFyaWFibGVzLlxuICogQHBhcmFtIHtSZWdFeHB9IFtvcHRpb25zLmludGVycG9sYXRlPV8udGVtcGxhdGVTZXR0aW5ncy5pbnRlcnBvbGF0ZV1cbiAqICBUaGUgXCJpbnRlcnBvbGF0ZVwiIGRlbGltaXRlci5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5zb3VyY2VVUkw9J3RlbXBsYXRlU291cmNlc1tuXSddXG4gKiAgVGhlIHNvdXJjZVVSTCBvZiB0aGUgY29tcGlsZWQgdGVtcGxhdGUuXG4gKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMudmFyaWFibGU9J29iaiddXG4gKiAgVGhlIGRhdGEgb2JqZWN0IHZhcmlhYmxlIG5hbWUuXG4gKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBjb21waWxlZCB0ZW1wbGF0ZSBmdW5jdGlvbi5cbiAqIEBleGFtcGxlXG4gKlxuICogLy8gVXNlIHRoZSBcImludGVycG9sYXRlXCIgZGVsaW1pdGVyIHRvIGNyZWF0ZSBhIGNvbXBpbGVkIHRlbXBsYXRlLlxuICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnaGVsbG8gPCU9IHVzZXIgJT4hJyk7XG4gKiBjb21waWxlZCh7ICd1c2VyJzogJ2ZyZWQnIH0pO1xuICogLy8gPT4gJ2hlbGxvIGZyZWQhJ1xuICpcbiAqIC8vIFVzZSB0aGUgSFRNTCBcImVzY2FwZVwiIGRlbGltaXRlciB0byBlc2NhcGUgZGF0YSBwcm9wZXJ0eSB2YWx1ZXMuXG4gKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCc8Yj48JS0gdmFsdWUgJT48L2I+Jyk7XG4gKiBjb21waWxlZCh7ICd2YWx1ZSc6ICc8c2NyaXB0PicgfSk7XG4gKiAvLyA9PiAnPGI+Jmx0O3NjcmlwdCZndDs8L2I+J1xuICpcbiAqIC8vIFVzZSB0aGUgXCJldmFsdWF0ZVwiIGRlbGltaXRlciB0byBleGVjdXRlIEphdmFTY3JpcHQgYW5kIGdlbmVyYXRlIEhUTUwuXG4gKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCc8JSBfLmZvckVhY2godXNlcnMsIGZ1bmN0aW9uKHVzZXIpIHsgJT48bGk+PCUtIHVzZXIgJT48L2xpPjwlIH0pOyAlPicpO1xuICogY29tcGlsZWQoeyAndXNlcnMnOiBbJ2ZyZWQnLCAnYmFybmV5J10gfSk7XG4gKiAvLyA9PiAnPGxpPmZyZWQ8L2xpPjxsaT5iYXJuZXk8L2xpPidcbiAqXG4gKiAvLyBVc2UgdGhlIGludGVybmFsIGBwcmludGAgZnVuY3Rpb24gaW4gXCJldmFsdWF0ZVwiIGRlbGltaXRlcnMuXG4gKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCc8JSBwcmludChcImhlbGxvIFwiICsgdXNlcik7ICU+IScpO1xuICogY29tcGlsZWQoeyAndXNlcic6ICdiYXJuZXknIH0pO1xuICogLy8gPT4gJ2hlbGxvIGJhcm5leSEnXG4gKlxuICogLy8gVXNlIHRoZSBFUyB0ZW1wbGF0ZSBsaXRlcmFsIGRlbGltaXRlciBhcyBhbiBcImludGVycG9sYXRlXCIgZGVsaW1pdGVyLlxuICogLy8gRGlzYWJsZSBzdXBwb3J0IGJ5IHJlcGxhY2luZyB0aGUgXCJpbnRlcnBvbGF0ZVwiIGRlbGltaXRlci5cbiAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJ2hlbGxvICR7IHVzZXIgfSEnKTtcbiAqIGNvbXBpbGVkKHsgJ3VzZXInOiAncGViYmxlcycgfSk7XG4gKiAvLyA9PiAnaGVsbG8gcGViYmxlcyEnXG4gKlxuICogLy8gVXNlIGJhY2tzbGFzaGVzIHRvIHRyZWF0IGRlbGltaXRlcnMgYXMgcGxhaW4gdGV4dC5cbiAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJzwlPSBcIlxcXFw8JS0gdmFsdWUgJVxcXFw+XCIgJT4nKTtcbiAqIGNvbXBpbGVkKHsgJ3ZhbHVlJzogJ2lnbm9yZWQnIH0pO1xuICogLy8gPT4gJzwlLSB2YWx1ZSAlPidcbiAqXG4gKiAvLyBVc2UgdGhlIGBpbXBvcnRzYCBvcHRpb24gdG8gaW1wb3J0IGBqUXVlcnlgIGFzIGBqcWAuXG4gKiB2YXIgdGV4dCA9ICc8JSBqcS5lYWNoKHVzZXJzLCBmdW5jdGlvbih1c2VyKSB7ICU+PGxpPjwlLSB1c2VyICU+PC9saT48JSB9KTsgJT4nO1xuICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSh0ZXh0LCB7ICdpbXBvcnRzJzogeyAnanEnOiBqUXVlcnkgfSB9KTtcbiAqIGNvbXBpbGVkKHsgJ3VzZXJzJzogWydmcmVkJywgJ2Jhcm5leSddIH0pO1xuICogLy8gPT4gJzxsaT5mcmVkPC9saT48bGk+YmFybmV5PC9saT4nXG4gKlxuICogLy8gVXNlIHRoZSBgc291cmNlVVJMYCBvcHRpb24gdG8gc3BlY2lmeSBhIGN1c3RvbSBzb3VyY2VVUkwgZm9yIHRoZSB0ZW1wbGF0ZS5cbiAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJ2hlbGxvIDwlPSB1c2VyICU+IScsIHsgJ3NvdXJjZVVSTCc6ICcvYmFzaWMvZ3JlZXRpbmcuanN0JyB9KTtcbiAqIGNvbXBpbGVkKGRhdGEpO1xuICogLy8gPT4gRmluZCB0aGUgc291cmNlIG9mIFwiZ3JlZXRpbmcuanN0XCIgdW5kZXIgdGhlIFNvdXJjZXMgdGFiIG9yIFJlc291cmNlcyBwYW5lbCBvZiB0aGUgd2ViIGluc3BlY3Rvci5cbiAqXG4gKiAvLyBVc2UgdGhlIGB2YXJpYWJsZWAgb3B0aW9uIHRvIGVuc3VyZSBhIHdpdGgtc3RhdGVtZW50IGlzbid0IHVzZWQgaW4gdGhlIGNvbXBpbGVkIHRlbXBsYXRlLlxuICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnaGkgPCU9IGRhdGEudXNlciAlPiEnLCB7ICd2YXJpYWJsZSc6ICdkYXRhJyB9KTtcbiAqIGNvbXBpbGVkLnNvdXJjZTtcbiAqIC8vID0+IGZ1bmN0aW9uKGRhdGEpIHtcbiAqIC8vICAgdmFyIF9fdCwgX19wID0gJyc7XG4gKiAvLyAgIF9fcCArPSAnaGkgJyArICgoX190ID0gKCBkYXRhLnVzZXIgKSkgPT0gbnVsbCA/ICcnIDogX190KSArICchJztcbiAqIC8vICAgcmV0dXJuIF9fcDtcbiAqIC8vIH1cbiAqXG4gKiAvLyBVc2UgY3VzdG9tIHRlbXBsYXRlIGRlbGltaXRlcnMuXG4gKiBfLnRlbXBsYXRlU2V0dGluZ3MuaW50ZXJwb2xhdGUgPSAve3soW1xcc1xcU10rPyl9fS9nO1xuICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnaGVsbG8ge3sgdXNlciB9fSEnKTtcbiAqIGNvbXBpbGVkKHsgJ3VzZXInOiAnbXVzdGFjaGUnIH0pO1xuICogLy8gPT4gJ2hlbGxvIG11c3RhY2hlISdcbiAqXG4gKiAvLyBVc2UgdGhlIGBzb3VyY2VgIHByb3BlcnR5IHRvIGlubGluZSBjb21waWxlZCB0ZW1wbGF0ZXMgZm9yIG1lYW5pbmdmdWxcbiAqIC8vIGxpbmUgbnVtYmVycyBpbiBlcnJvciBtZXNzYWdlcyBhbmQgc3RhY2sgdHJhY2VzLlxuICogZnMud3JpdGVGaWxlU3luYyhwYXRoLmpvaW4ocHJvY2Vzcy5jd2QoKSwgJ2pzdC5qcycpLCAnXFxcbiAqICAgdmFyIEpTVCA9IHtcXFxuICogICAgIFwibWFpblwiOiAnICsgXy50ZW1wbGF0ZShtYWluVGV4dCkuc291cmNlICsgJ1xcXG4gKiAgIH07XFxcbiAqICcpO1xuICovXG5mdW5jdGlvbiB0ZW1wbGF0ZShzdHJpbmcsIG9wdGlvbnMsIGd1YXJkKSB7XG4gIC8vIEJhc2VkIG9uIEpvaG4gUmVzaWcncyBgdG1wbGAgaW1wbGVtZW50YXRpb25cbiAgLy8gKGh0dHA6Ly9lam9obi5vcmcvYmxvZy9qYXZhc2NyaXB0LW1pY3JvLXRlbXBsYXRpbmcvKVxuICAvLyBhbmQgTGF1cmEgRG9rdG9yb3ZhJ3MgZG9ULmpzIChodHRwczovL2dpdGh1Yi5jb20vb2xhZG8vZG9UKS5cbiAgdmFyIHNldHRpbmdzID0gdGVtcGxhdGVTZXR0aW5ncy5pbXBvcnRzLl8udGVtcGxhdGVTZXR0aW5ncyB8fCB0ZW1wbGF0ZVNldHRpbmdzO1xuXG4gIGlmIChndWFyZCAmJiBpc0l0ZXJhdGVlQ2FsbChzdHJpbmcsIG9wdGlvbnMsIGd1YXJkKSkge1xuICAgIG9wdGlvbnMgPSB1bmRlZmluZWQ7XG4gIH1cbiAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgb3B0aW9ucyA9IGFzc2lnbkluV2l0aCh7fSwgb3B0aW9ucywgc2V0dGluZ3MsIGN1c3RvbURlZmF1bHRzQXNzaWduSW4pO1xuXG4gIHZhciBpbXBvcnRzID0gYXNzaWduSW5XaXRoKHt9LCBvcHRpb25zLmltcG9ydHMsIHNldHRpbmdzLmltcG9ydHMsIGN1c3RvbURlZmF1bHRzQXNzaWduSW4pLFxuICAgICAgaW1wb3J0c0tleXMgPSBrZXlzKGltcG9ydHMpLFxuICAgICAgaW1wb3J0c1ZhbHVlcyA9IGJhc2VWYWx1ZXMoaW1wb3J0cywgaW1wb3J0c0tleXMpO1xuXG4gIHZhciBpc0VzY2FwaW5nLFxuICAgICAgaXNFdmFsdWF0aW5nLFxuICAgICAgaW5kZXggPSAwLFxuICAgICAgaW50ZXJwb2xhdGUgPSBvcHRpb25zLmludGVycG9sYXRlIHx8IHJlTm9NYXRjaCxcbiAgICAgIHNvdXJjZSA9IFwiX19wICs9ICdcIjtcblxuICAvLyBDb21waWxlIHRoZSByZWdleHAgdG8gbWF0Y2ggZWFjaCBkZWxpbWl0ZXIuXG4gIHZhciByZURlbGltaXRlcnMgPSBSZWdFeHAoXG4gICAgKG9wdGlvbnMuZXNjYXBlIHx8IHJlTm9NYXRjaCkuc291cmNlICsgJ3wnICtcbiAgICBpbnRlcnBvbGF0ZS5zb3VyY2UgKyAnfCcgK1xuICAgIChpbnRlcnBvbGF0ZSA9PT0gcmVJbnRlcnBvbGF0ZSA/IHJlRXNUZW1wbGF0ZSA6IHJlTm9NYXRjaCkuc291cmNlICsgJ3wnICtcbiAgICAob3B0aW9ucy5ldmFsdWF0ZSB8fCByZU5vTWF0Y2gpLnNvdXJjZSArICd8JCdcbiAgLCAnZycpO1xuXG4gIC8vIFVzZSBhIHNvdXJjZVVSTCBmb3IgZWFzaWVyIGRlYnVnZ2luZy5cbiAgLy8gVGhlIHNvdXJjZVVSTCBnZXRzIGluamVjdGVkIGludG8gdGhlIHNvdXJjZSB0aGF0J3MgZXZhbC1lZCwgc28gYmUgY2FyZWZ1bFxuICAvLyB0byBub3JtYWxpemUgYWxsIGtpbmRzIG9mIHdoaXRlc3BhY2UsIHNvIGUuZy4gbmV3bGluZXMgKGFuZCB1bmljb2RlIHZlcnNpb25zIG9mIGl0KSBjYW4ndCBzbmVhayBpblxuICAvLyBhbmQgZXNjYXBlIHRoZSBjb21tZW50LCB0aHVzIGluamVjdGluZyBjb2RlIHRoYXQgZ2V0cyBldmFsZWQuXG4gIHZhciBzb3VyY2VVUkwgPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKG9wdGlvbnMsICdzb3VyY2VVUkwnKVxuICAgID8gKCcvLyMgc291cmNlVVJMPScgK1xuICAgICAgIChvcHRpb25zLnNvdXJjZVVSTCArICcnKS5yZXBsYWNlKC9cXHMvZywgJyAnKSArXG4gICAgICAgJ1xcbicpXG4gICAgOiAnJztcblxuICBzdHJpbmcucmVwbGFjZShyZURlbGltaXRlcnMsIGZ1bmN0aW9uKG1hdGNoLCBlc2NhcGVWYWx1ZSwgaW50ZXJwb2xhdGVWYWx1ZSwgZXNUZW1wbGF0ZVZhbHVlLCBldmFsdWF0ZVZhbHVlLCBvZmZzZXQpIHtcbiAgICBpbnRlcnBvbGF0ZVZhbHVlIHx8IChpbnRlcnBvbGF0ZVZhbHVlID0gZXNUZW1wbGF0ZVZhbHVlKTtcblxuICAgIC8vIEVzY2FwZSBjaGFyYWN0ZXJzIHRoYXQgY2FuJ3QgYmUgaW5jbHVkZWQgaW4gc3RyaW5nIGxpdGVyYWxzLlxuICAgIHNvdXJjZSArPSBzdHJpbmcuc2xpY2UoaW5kZXgsIG9mZnNldCkucmVwbGFjZShyZVVuZXNjYXBlZFN0cmluZywgZXNjYXBlU3RyaW5nQ2hhcik7XG5cbiAgICAvLyBSZXBsYWNlIGRlbGltaXRlcnMgd2l0aCBzbmlwcGV0cy5cbiAgICBpZiAoZXNjYXBlVmFsdWUpIHtcbiAgICAgIGlzRXNjYXBpbmcgPSB0cnVlO1xuICAgICAgc291cmNlICs9IFwiJyArXFxuX19lKFwiICsgZXNjYXBlVmFsdWUgKyBcIikgK1xcbidcIjtcbiAgICB9XG4gICAgaWYgKGV2YWx1YXRlVmFsdWUpIHtcbiAgICAgIGlzRXZhbHVhdGluZyA9IHRydWU7XG4gICAgICBzb3VyY2UgKz0gXCInO1xcblwiICsgZXZhbHVhdGVWYWx1ZSArIFwiO1xcbl9fcCArPSAnXCI7XG4gICAgfVxuICAgIGlmIChpbnRlcnBvbGF0ZVZhbHVlKSB7XG4gICAgICBzb3VyY2UgKz0gXCInICtcXG4oKF9fdCA9IChcIiArIGludGVycG9sYXRlVmFsdWUgKyBcIikpID09IG51bGwgPyAnJyA6IF9fdCkgK1xcbidcIjtcbiAgICB9XG4gICAgaW5kZXggPSBvZmZzZXQgKyBtYXRjaC5sZW5ndGg7XG5cbiAgICAvLyBUaGUgSlMgZW5naW5lIGVtYmVkZGVkIGluIEFkb2JlIHByb2R1Y3RzIG5lZWRzIGBtYXRjaGAgcmV0dXJuZWQgaW5cbiAgICAvLyBvcmRlciB0byBwcm9kdWNlIHRoZSBjb3JyZWN0IGBvZmZzZXRgIHZhbHVlLlxuICAgIHJldHVybiBtYXRjaDtcbiAgfSk7XG5cbiAgc291cmNlICs9IFwiJztcXG5cIjtcblxuICAvLyBJZiBgdmFyaWFibGVgIGlzIG5vdCBzcGVjaWZpZWQgd3JhcCBhIHdpdGgtc3RhdGVtZW50IGFyb3VuZCB0aGUgZ2VuZXJhdGVkXG4gIC8vIGNvZGUgdG8gYWRkIHRoZSBkYXRhIG9iamVjdCB0byB0aGUgdG9wIG9mIHRoZSBzY29wZSBjaGFpbi5cbiAgdmFyIHZhcmlhYmxlID0gaGFzT3duUHJvcGVydHkuY2FsbChvcHRpb25zLCAndmFyaWFibGUnKSAmJiBvcHRpb25zLnZhcmlhYmxlO1xuICBpZiAoIXZhcmlhYmxlKSB7XG4gICAgc291cmNlID0gJ3dpdGggKG9iaikge1xcbicgKyBzb3VyY2UgKyAnXFxufVxcbic7XG4gIH1cbiAgLy8gVGhyb3cgYW4gZXJyb3IgaWYgYSBmb3JiaWRkZW4gY2hhcmFjdGVyIHdhcyBmb3VuZCBpbiBgdmFyaWFibGVgLCB0byBwcmV2ZW50XG4gIC8vIHBvdGVudGlhbCBjb21tYW5kIGluamVjdGlvbiBhdHRhY2tzLlxuICBlbHNlIGlmIChyZUZvcmJpZGRlbklkZW50aWZpZXJDaGFycy50ZXN0KHZhcmlhYmxlKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihJTlZBTElEX1RFTVBMX1ZBUl9FUlJPUl9URVhUKTtcbiAgfVxuXG4gIC8vIENsZWFudXAgY29kZSBieSBzdHJpcHBpbmcgZW1wdHkgc3RyaW5ncy5cbiAgc291cmNlID0gKGlzRXZhbHVhdGluZyA/IHNvdXJjZS5yZXBsYWNlKHJlRW1wdHlTdHJpbmdMZWFkaW5nLCAnJykgOiBzb3VyY2UpXG4gICAgLnJlcGxhY2UocmVFbXB0eVN0cmluZ01pZGRsZSwgJyQxJylcbiAgICAucmVwbGFjZShyZUVtcHR5U3RyaW5nVHJhaWxpbmcsICckMTsnKTtcblxuICAvLyBGcmFtZSBjb2RlIGFzIHRoZSBmdW5jdGlvbiBib2R5LlxuICBzb3VyY2UgPSAnZnVuY3Rpb24oJyArICh2YXJpYWJsZSB8fCAnb2JqJykgKyAnKSB7XFxuJyArXG4gICAgKHZhcmlhYmxlXG4gICAgICA/ICcnXG4gICAgICA6ICdvYmogfHwgKG9iaiA9IHt9KTtcXG4nXG4gICAgKSArXG4gICAgXCJ2YXIgX190LCBfX3AgPSAnJ1wiICtcbiAgICAoaXNFc2NhcGluZ1xuICAgICAgID8gJywgX19lID0gXy5lc2NhcGUnXG4gICAgICAgOiAnJ1xuICAgICkgK1xuICAgIChpc0V2YWx1YXRpbmdcbiAgICAgID8gJywgX19qID0gQXJyYXkucHJvdG90eXBlLmpvaW47XFxuJyArXG4gICAgICAgIFwiZnVuY3Rpb24gcHJpbnQoKSB7IF9fcCArPSBfX2ouY2FsbChhcmd1bWVudHMsICcnKSB9XFxuXCJcbiAgICAgIDogJztcXG4nXG4gICAgKSArXG4gICAgc291cmNlICtcbiAgICAncmV0dXJuIF9fcFxcbn0nO1xuXG4gIHZhciByZXN1bHQgPSBhdHRlbXB0KGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBGdW5jdGlvbihpbXBvcnRzS2V5cywgc291cmNlVVJMICsgJ3JldHVybiAnICsgc291cmNlKVxuICAgICAgLmFwcGx5KHVuZGVmaW5lZCwgaW1wb3J0c1ZhbHVlcyk7XG4gIH0pO1xuXG4gIC8vIFByb3ZpZGUgdGhlIGNvbXBpbGVkIGZ1bmN0aW9uJ3Mgc291cmNlIGJ5IGl0cyBgdG9TdHJpbmdgIG1ldGhvZCBvclxuICAvLyB0aGUgYHNvdXJjZWAgcHJvcGVydHkgYXMgYSBjb252ZW5pZW5jZSBmb3IgaW5saW5pbmcgY29tcGlsZWQgdGVtcGxhdGVzLlxuICByZXN1bHQuc291cmNlID0gc291cmNlO1xuICBpZiAoaXNFcnJvcihyZXN1bHQpKSB7XG4gICAgdGhyb3cgcmVzdWx0O1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gdGVtcGxhdGU7XG4iLCAiJ3VzZSBzdHJpY3QnXG5cbmNvbnN0IGRhcmdzID0gcmVxdWlyZSgnZGFyZ3MnKVxuY29uc3QgZXhlY0ZpbGUgPSByZXF1aXJlKCdjaGlsZF9wcm9jZXNzJykuZXhlY0ZpbGVcbmNvbnN0IHNwbGl0ID0gcmVxdWlyZSgnc3BsaXQyJylcbmNvbnN0IHN0cmVhbSA9IHJlcXVpcmUoJ3N0cmVhbScpXG5jb25zdCB0ZW1wbGF0ZSA9IHJlcXVpcmUoJ2xvZGFzaC90ZW1wbGF0ZScpXG5jb25zdCB0aHJvdWdoID0gcmVxdWlyZSgndGhyb3VnaDInKVxuXG5jb25zdCBERUxJTUlURVIgPSAnLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tID44IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSdcblxuZnVuY3Rpb24gbm9ybWFsaXplRXhlY09wdHMgKGV4ZWNPcHRzKSB7XG4gIGV4ZWNPcHRzID0gZXhlY09wdHMgfHwge31cbiAgZXhlY09wdHMuY3dkID0gZXhlY09wdHMuY3dkIHx8IHByb2Nlc3MuY3dkKClcbiAgcmV0dXJuIGV4ZWNPcHRzXG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZUdpdE9wdHMgKGdpdE9wdHMpIHtcbiAgZ2l0T3B0cyA9IGdpdE9wdHMgfHwge31cbiAgZ2l0T3B0cy5mb3JtYXQgPSBnaXRPcHRzLmZvcm1hdCB8fCAnJUInXG4gIGdpdE9wdHMuZnJvbSA9IGdpdE9wdHMuZnJvbSB8fCAnJ1xuICBnaXRPcHRzLnRvID0gZ2l0T3B0cy50byB8fCAnSEVBRCdcbiAgcmV0dXJuIGdpdE9wdHNcbn1cblxuZnVuY3Rpb24gZ2V0R2l0QXJncyAoZ2l0T3B0cykge1xuICBjb25zdCBnaXRGb3JtYXQgPSB0ZW1wbGF0ZSgnLS1mb3JtYXQ9PCU9IGZvcm1hdCAlPiVuJyArIERFTElNSVRFUikoZ2l0T3B0cylcbiAgY29uc3QgZ2l0RnJvbVRvID0gW2dpdE9wdHMuZnJvbSwgZ2l0T3B0cy50b10uZmlsdGVyKEJvb2xlYW4pLmpvaW4oJy4uJylcblxuICBjb25zdCBnaXRBcmdzID0gWydsb2cnLCBnaXRGb3JtYXQsIGdpdEZyb21Ub11cbiAgICAuY29uY2F0KGRhcmdzKGdpdE9wdHMsIHtcbiAgICAgIGV4Y2x1ZGVzOiBbJ2RlYnVnJywgJ2Zyb20nLCAndG8nLCAnZm9ybWF0JywgJ3BhdGgnXVxuICAgIH0pKVxuXG4gIC8vIGFsbG93IGNvbW1pdHMgdG8gZm9jdXMgb24gYSBzaW5nbGUgZGlyZWN0b3J5XG4gIC8vIHRoaXMgaXMgdXNlZnVsIGZvciBtb25vcmVwb3MuXG4gIGlmIChnaXRPcHRzLnBhdGgpIHtcbiAgICBnaXRBcmdzLnB1c2goJy0tJywgZ2l0T3B0cy5wYXRoKVxuICB9XG5cbiAgcmV0dXJuIGdpdEFyZ3Ncbn1cblxuZnVuY3Rpb24gZ2l0UmF3Q29tbWl0cyAocmF3R2l0T3B0cywgcmF3RXhlY09wdHMpIHtcbiAgY29uc3QgcmVhZGFibGUgPSBuZXcgc3RyZWFtLlJlYWRhYmxlKClcbiAgcmVhZGFibGUuX3JlYWQgPSBmdW5jdGlvbiAoKSB7fVxuXG4gIGNvbnN0IGdpdE9wdHMgPSBub3JtYWxpemVHaXRPcHRzKHJhd0dpdE9wdHMpXG4gIGNvbnN0IGV4ZWNPcHRzID0gbm9ybWFsaXplRXhlY09wdHMocmF3RXhlY09wdHMpXG4gIGNvbnN0IGFyZ3MgPSBnZXRHaXRBcmdzKGdpdE9wdHMpXG5cbiAgaWYgKGdpdE9wdHMuZGVidWcpIHtcbiAgICBnaXRPcHRzLmRlYnVnKCdZb3VyIGdpdC1sb2cgY29tbWFuZCBpczpcXG5naXQgJyArIGFyZ3Muam9pbignICcpKVxuICB9XG5cbiAgbGV0IGlzRXJyb3IgPSBmYWxzZVxuXG4gIGNvbnN0IGNoaWxkID0gZXhlY0ZpbGUoJ2dpdCcsIGFyZ3MsIHtcbiAgICBjd2Q6IGV4ZWNPcHRzLmN3ZCxcbiAgICBtYXhCdWZmZXI6IEluZmluaXR5XG4gIH0pXG5cbiAgY2hpbGQuc3Rkb3V0XG4gICAgLnBpcGUoc3BsaXQoREVMSU1JVEVSICsgJ1xcbicpKVxuICAgIC5waXBlKHRocm91Z2goZnVuY3Rpb24gKGNodW5rLCBlbmMsIGNiKSB7XG4gICAgICByZWFkYWJsZS5wdXNoKGNodW5rKVxuICAgICAgaXNFcnJvciA9IGZhbHNlXG5cbiAgICAgIGNiKClcbiAgICB9LCBmdW5jdGlvbiAoY2IpIHtcbiAgICAgIHNldEltbWVkaWF0ZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghaXNFcnJvcikge1xuICAgICAgICAgIHJlYWRhYmxlLnB1c2gobnVsbClcbiAgICAgICAgICByZWFkYWJsZS5lbWl0KCdjbG9zZScpXG4gICAgICAgIH1cblxuICAgICAgICBjYigpXG4gICAgICB9KVxuICAgIH0pKVxuXG4gIGNoaWxkLnN0ZGVyclxuICAgIC5waXBlKHRocm91Z2gub2JqKGZ1bmN0aW9uIChjaHVuaykge1xuICAgICAgaXNFcnJvciA9IHRydWVcbiAgICAgIHJlYWRhYmxlLmVtaXQoJ2Vycm9yJywgbmV3IEVycm9yKGNodW5rKSlcbiAgICAgIHJlYWRhYmxlLmVtaXQoJ2Nsb3NlJylcbiAgICB9KSlcblxuICByZXR1cm4gcmVhZGFibGVcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBnaXRSYXdDb21taXRzXG4iLCAiLy8gdmltOnRzPTQ6c3RzPTQ6c3c9NDpcbi8qIVxuICpcbiAqIENvcHlyaWdodCAyMDA5LTIwMTcgS3JpcyBLb3dhbCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1JVFxuICogbGljZW5zZSBmb3VuZCBhdCBodHRwczovL2dpdGh1Yi5jb20va3Jpc2tvd2FsL3EvYmxvYi92MS9MSUNFTlNFXG4gKlxuICogV2l0aCBwYXJ0cyBieSBUeWxlciBDbG9zZVxuICogQ29weXJpZ2h0IDIwMDctMjAwOSBUeWxlciBDbG9zZSB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1JVCBYIGxpY2Vuc2UgZm91bmRcbiAqIGF0IGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UuaHRtbFxuICogRm9ya2VkIGF0IHJlZl9zZW5kLmpzIHZlcnNpb246IDIwMDktMDUtMTFcbiAqXG4gKiBXaXRoIHBhcnRzIGJ5IE1hcmsgTWlsbGVyXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTEgR29vZ2xlIEluYy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cblxuKGZ1bmN0aW9uIChkZWZpbml0aW9uKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgICAvLyBUaGlzIGZpbGUgd2lsbCBmdW5jdGlvbiBwcm9wZXJseSBhcyBhIDxzY3JpcHQ+IHRhZywgb3IgYSBtb2R1bGVcbiAgICAvLyB1c2luZyBDb21tb25KUyBhbmQgTm9kZUpTIG9yIFJlcXVpcmVKUyBtb2R1bGUgZm9ybWF0cy4gIEluXG4gICAgLy8gQ29tbW9uL05vZGUvUmVxdWlyZUpTLCB0aGUgbW9kdWxlIGV4cG9ydHMgdGhlIFEgQVBJIGFuZCB3aGVuXG4gICAgLy8gZXhlY3V0ZWQgYXMgYSBzaW1wbGUgPHNjcmlwdD4sIGl0IGNyZWF0ZXMgYSBRIGdsb2JhbCBpbnN0ZWFkLlxuXG4gICAgLy8gTW9udGFnZSBSZXF1aXJlXG4gICAgaWYgKHR5cGVvZiBib290c3RyYXAgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBib290c3RyYXAoXCJwcm9taXNlXCIsIGRlZmluaXRpb24pO1xuXG4gICAgLy8gQ29tbW9uSlNcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBtb2R1bGUgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBkZWZpbml0aW9uKCk7XG5cbiAgICAvLyBSZXF1aXJlSlNcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kKSB7XG4gICAgICAgIGRlZmluZShkZWZpbml0aW9uKTtcblxuICAgIC8vIFNFUyAoU2VjdXJlIEVjbWFTY3JpcHQpXG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygc2VzICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIGlmICghc2VzLm9rKCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNlcy5tYWtlUSA9IGRlZmluaXRpb247XG4gICAgICAgIH1cblxuICAgIC8vIDxzY3JpcHQ+XG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiIHx8IHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIC8vIFByZWZlciB3aW5kb3cgb3ZlciBzZWxmIGZvciBhZGQtb24gc2NyaXB0cy4gVXNlIHNlbGYgZm9yXG4gICAgICAgIC8vIG5vbi13aW5kb3dlZCBjb250ZXh0cy5cbiAgICAgICAgdmFyIGdsb2JhbCA9IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiBzZWxmO1xuXG4gICAgICAgIC8vIEdldCB0aGUgYHdpbmRvd2Agb2JqZWN0LCBzYXZlIHRoZSBwcmV2aW91cyBRIGdsb2JhbFxuICAgICAgICAvLyBhbmQgaW5pdGlhbGl6ZSBRIGFzIGEgZ2xvYmFsLlxuICAgICAgICB2YXIgcHJldmlvdXNRID0gZ2xvYmFsLlE7XG4gICAgICAgIGdsb2JhbC5RID0gZGVmaW5pdGlvbigpO1xuXG4gICAgICAgIC8vIEFkZCBhIG5vQ29uZmxpY3QgZnVuY3Rpb24gc28gUSBjYW4gYmUgcmVtb3ZlZCBmcm9tIHRoZVxuICAgICAgICAvLyBnbG9iYWwgbmFtZXNwYWNlLlxuICAgICAgICBnbG9iYWwuUS5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZ2xvYmFsLlEgPSBwcmV2aW91c1E7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfTtcblxuICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoaXMgZW52aXJvbm1lbnQgd2FzIG5vdCBhbnRpY2lwYXRlZCBieSBRLiBQbGVhc2UgZmlsZSBhIGJ1Zy5cIik7XG4gICAgfVxuXG59KShmdW5jdGlvbiAoKSB7XG5cInVzZSBzdHJpY3RcIjtcblxudmFyIGhhc1N0YWNrcyA9IGZhbHNlO1xudHJ5IHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoKTtcbn0gY2F0Y2ggKGUpIHtcbiAgICBoYXNTdGFja3MgPSAhIWUuc3RhY2s7XG59XG5cbi8vIEFsbCBjb2RlIGFmdGVyIHRoaXMgcG9pbnQgd2lsbCBiZSBmaWx0ZXJlZCBmcm9tIHN0YWNrIHRyYWNlcyByZXBvcnRlZFxuLy8gYnkgUS5cbnZhciBxU3RhcnRpbmdMaW5lID0gY2FwdHVyZUxpbmUoKTtcbnZhciBxRmlsZU5hbWU7XG5cbi8vIHNoaW1zXG5cbi8vIHVzZWQgZm9yIGZhbGxiYWNrIGluIFwiYWxsUmVzb2x2ZWRcIlxudmFyIG5vb3AgPSBmdW5jdGlvbiAoKSB7fTtcblxuLy8gVXNlIHRoZSBmYXN0ZXN0IHBvc3NpYmxlIG1lYW5zIHRvIGV4ZWN1dGUgYSB0YXNrIGluIGEgZnV0dXJlIHR1cm5cbi8vIG9mIHRoZSBldmVudCBsb29wLlxudmFyIG5leHRUaWNrID0oZnVuY3Rpb24gKCkge1xuICAgIC8vIGxpbmtlZCBsaXN0IG9mIHRhc2tzIChzaW5nbGUsIHdpdGggaGVhZCBub2RlKVxuICAgIHZhciBoZWFkID0ge3Rhc2s6IHZvaWQgMCwgbmV4dDogbnVsbH07XG4gICAgdmFyIHRhaWwgPSBoZWFkO1xuICAgIHZhciBmbHVzaGluZyA9IGZhbHNlO1xuICAgIHZhciByZXF1ZXN0VGljayA9IHZvaWQgMDtcbiAgICB2YXIgaXNOb2RlSlMgPSBmYWxzZTtcbiAgICAvLyBxdWV1ZSBmb3IgbGF0ZSB0YXNrcywgdXNlZCBieSB1bmhhbmRsZWQgcmVqZWN0aW9uIHRyYWNraW5nXG4gICAgdmFyIGxhdGVyUXVldWUgPSBbXTtcblxuICAgIGZ1bmN0aW9uIGZsdXNoKCkge1xuICAgICAgICAvKiBqc2hpbnQgbG9vcGZ1bmM6IHRydWUgKi9cbiAgICAgICAgdmFyIHRhc2ssIGRvbWFpbjtcblxuICAgICAgICB3aGlsZSAoaGVhZC5uZXh0KSB7XG4gICAgICAgICAgICBoZWFkID0gaGVhZC5uZXh0O1xuICAgICAgICAgICAgdGFzayA9IGhlYWQudGFzaztcbiAgICAgICAgICAgIGhlYWQudGFzayA9IHZvaWQgMDtcbiAgICAgICAgICAgIGRvbWFpbiA9IGhlYWQuZG9tYWluO1xuXG4gICAgICAgICAgICBpZiAoZG9tYWluKSB7XG4gICAgICAgICAgICAgICAgaGVhZC5kb21haW4gPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgZG9tYWluLmVudGVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBydW5TaW5nbGUodGFzaywgZG9tYWluKTtcblxuICAgICAgICB9XG4gICAgICAgIHdoaWxlIChsYXRlclF1ZXVlLmxlbmd0aCkge1xuICAgICAgICAgICAgdGFzayA9IGxhdGVyUXVldWUucG9wKCk7XG4gICAgICAgICAgICBydW5TaW5nbGUodGFzayk7XG4gICAgICAgIH1cbiAgICAgICAgZmx1c2hpbmcgPSBmYWxzZTtcbiAgICB9XG4gICAgLy8gcnVucyBhIHNpbmdsZSBmdW5jdGlvbiBpbiB0aGUgYXN5bmMgcXVldWVcbiAgICBmdW5jdGlvbiBydW5TaW5nbGUodGFzaywgZG9tYWluKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0YXNrKCk7XG5cbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgaWYgKGlzTm9kZUpTKSB7XG4gICAgICAgICAgICAgICAgLy8gSW4gbm9kZSwgdW5jYXVnaHQgZXhjZXB0aW9ucyBhcmUgY29uc2lkZXJlZCBmYXRhbCBlcnJvcnMuXG4gICAgICAgICAgICAgICAgLy8gUmUtdGhyb3cgdGhlbSBzeW5jaHJvbm91c2x5IHRvIGludGVycnVwdCBmbHVzaGluZyFcblxuICAgICAgICAgICAgICAgIC8vIEVuc3VyZSBjb250aW51YXRpb24gaWYgdGhlIHVuY2F1Z2h0IGV4Y2VwdGlvbiBpcyBzdXBwcmVzc2VkXG4gICAgICAgICAgICAgICAgLy8gbGlzdGVuaW5nIFwidW5jYXVnaHRFeGNlcHRpb25cIiBldmVudHMgKGFzIGRvbWFpbnMgZG9lcykuXG4gICAgICAgICAgICAgICAgLy8gQ29udGludWUgaW4gbmV4dCBldmVudCB0byBhdm9pZCB0aWNrIHJlY3Vyc2lvbi5cbiAgICAgICAgICAgICAgICBpZiAoZG9tYWluKSB7XG4gICAgICAgICAgICAgICAgICAgIGRvbWFpbi5leGl0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZmx1c2gsIDApO1xuICAgICAgICAgICAgICAgIGlmIChkb21haW4pIHtcbiAgICAgICAgICAgICAgICAgICAgZG9tYWluLmVudGVyKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhyb3cgZTtcblxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBJbiBicm93c2VycywgdW5jYXVnaHQgZXhjZXB0aW9ucyBhcmUgbm90IGZhdGFsLlxuICAgICAgICAgICAgICAgIC8vIFJlLXRocm93IHRoZW0gYXN5bmNocm9ub3VzbHkgdG8gYXZvaWQgc2xvdy1kb3ducy5cbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkb21haW4pIHtcbiAgICAgICAgICAgIGRvbWFpbi5leGl0KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBuZXh0VGljayA9IGZ1bmN0aW9uICh0YXNrKSB7XG4gICAgICAgIHRhaWwgPSB0YWlsLm5leHQgPSB7XG4gICAgICAgICAgICB0YXNrOiB0YXNrLFxuICAgICAgICAgICAgZG9tYWluOiBpc05vZGVKUyAmJiBwcm9jZXNzLmRvbWFpbixcbiAgICAgICAgICAgIG5leHQ6IG51bGxcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoIWZsdXNoaW5nKSB7XG4gICAgICAgICAgICBmbHVzaGluZyA9IHRydWU7XG4gICAgICAgICAgICByZXF1ZXN0VGljaygpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGlmICh0eXBlb2YgcHJvY2VzcyA9PT0gXCJvYmplY3RcIiAmJlxuICAgICAgICBwcm9jZXNzLnRvU3RyaW5nKCkgPT09IFwiW29iamVjdCBwcm9jZXNzXVwiICYmIHByb2Nlc3MubmV4dFRpY2spIHtcbiAgICAgICAgLy8gRW5zdXJlIFEgaXMgaW4gYSByZWFsIE5vZGUgZW52aXJvbm1lbnQsIHdpdGggYSBgcHJvY2Vzcy5uZXh0VGlja2AuXG4gICAgICAgIC8vIFRvIHNlZSB0aHJvdWdoIGZha2UgTm9kZSBlbnZpcm9ubWVudHM6XG4gICAgICAgIC8vICogTW9jaGEgdGVzdCBydW5uZXIgLSBleHBvc2VzIGEgYHByb2Nlc3NgIGdsb2JhbCB3aXRob3V0IGEgYG5leHRUaWNrYFxuICAgICAgICAvLyAqIEJyb3dzZXJpZnkgLSBleHBvc2VzIGEgYHByb2Nlc3MubmV4VGlja2AgZnVuY3Rpb24gdGhhdCB1c2VzXG4gICAgICAgIC8vICAgYHNldFRpbWVvdXRgLiBJbiB0aGlzIGNhc2UgYHNldEltbWVkaWF0ZWAgaXMgcHJlZmVycmVkIGJlY2F1c2VcbiAgICAgICAgLy8gICAgaXQgaXMgZmFzdGVyLiBCcm93c2VyaWZ5J3MgYHByb2Nlc3MudG9TdHJpbmcoKWAgeWllbGRzXG4gICAgICAgIC8vICAgXCJbb2JqZWN0IE9iamVjdF1cIiwgd2hpbGUgaW4gYSByZWFsIE5vZGUgZW52aXJvbm1lbnRcbiAgICAgICAgLy8gICBgcHJvY2Vzcy50b1N0cmluZygpYCB5aWVsZHMgXCJbb2JqZWN0IHByb2Nlc3NdXCIuXG4gICAgICAgIGlzTm9kZUpTID0gdHJ1ZTtcblxuICAgICAgICByZXF1ZXN0VGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHByb2Nlc3MubmV4dFRpY2soZmx1c2gpO1xuICAgICAgICB9O1xuXG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygc2V0SW1tZWRpYXRlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgLy8gSW4gSUUxMCwgTm9kZS5qcyAwLjkrLCBvciBodHRwczovL2dpdGh1Yi5jb20vTm9ibGVKUy9zZXRJbW1lZGlhdGVcbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIHJlcXVlc3RUaWNrID0gc2V0SW1tZWRpYXRlLmJpbmQod2luZG93LCBmbHVzaCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXF1ZXN0VGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBzZXRJbW1lZGlhdGUoZmx1c2gpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgTWVzc2FnZUNoYW5uZWwgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgLy8gbW9kZXJuIGJyb3dzZXJzXG4gICAgICAgIC8vIGh0dHA6Ly93d3cubm9uYmxvY2tpbmcuaW8vMjAxMS8wNi93aW5kb3duZXh0dGljay5odG1sXG4gICAgICAgIHZhciBjaGFubmVsID0gbmV3IE1lc3NhZ2VDaGFubmVsKCk7XG4gICAgICAgIC8vIEF0IGxlYXN0IFNhZmFyaSBWZXJzaW9uIDYuMC41ICg4NTM2LjMwLjEpIGludGVybWl0dGVudGx5IGNhbm5vdCBjcmVhdGVcbiAgICAgICAgLy8gd29ya2luZyBtZXNzYWdlIHBvcnRzIHRoZSBmaXJzdCB0aW1lIGEgcGFnZSBsb2Fkcy5cbiAgICAgICAgY2hhbm5lbC5wb3J0MS5vbm1lc3NhZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXF1ZXN0VGljayA9IHJlcXVlc3RQb3J0VGljaztcbiAgICAgICAgICAgIGNoYW5uZWwucG9ydDEub25tZXNzYWdlID0gZmx1c2g7XG4gICAgICAgICAgICBmbHVzaCgpO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgcmVxdWVzdFBvcnRUaWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gT3BlcmEgcmVxdWlyZXMgdXMgdG8gcHJvdmlkZSBhIG1lc3NhZ2UgcGF5bG9hZCwgcmVnYXJkbGVzcyBvZlxuICAgICAgICAgICAgLy8gd2hldGhlciB3ZSB1c2UgaXQuXG4gICAgICAgICAgICBjaGFubmVsLnBvcnQyLnBvc3RNZXNzYWdlKDApO1xuICAgICAgICB9O1xuICAgICAgICByZXF1ZXN0VGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZmx1c2gsIDApO1xuICAgICAgICAgICAgcmVxdWVzdFBvcnRUaWNrKCk7XG4gICAgICAgIH07XG5cbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBvbGQgYnJvd3NlcnNcbiAgICAgICAgcmVxdWVzdFRpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZsdXNoLCAwKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLy8gcnVucyBhIHRhc2sgYWZ0ZXIgYWxsIG90aGVyIHRhc2tzIGhhdmUgYmVlbiBydW5cbiAgICAvLyB0aGlzIGlzIHVzZWZ1bCBmb3IgdW5oYW5kbGVkIHJlamVjdGlvbiB0cmFja2luZyB0aGF0IG5lZWRzIHRvIGhhcHBlblxuICAgIC8vIGFmdGVyIGFsbCBgdGhlbmBkIHRhc2tzIGhhdmUgYmVlbiBydW4uXG4gICAgbmV4dFRpY2sucnVuQWZ0ZXIgPSBmdW5jdGlvbiAodGFzaykge1xuICAgICAgICBsYXRlclF1ZXVlLnB1c2godGFzayk7XG4gICAgICAgIGlmICghZmx1c2hpbmcpIHtcbiAgICAgICAgICAgIGZsdXNoaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIHJlcXVlc3RUaWNrKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBuZXh0VGljaztcbn0pKCk7XG5cbi8vIEF0dGVtcHQgdG8gbWFrZSBnZW5lcmljcyBzYWZlIGluIHRoZSBmYWNlIG9mIGRvd25zdHJlYW1cbi8vIG1vZGlmaWNhdGlvbnMuXG4vLyBUaGVyZSBpcyBubyBzaXR1YXRpb24gd2hlcmUgdGhpcyBpcyBuZWNlc3NhcnkuXG4vLyBJZiB5b3UgbmVlZCBhIHNlY3VyaXR5IGd1YXJhbnRlZSwgdGhlc2UgcHJpbW9yZGlhbHMgbmVlZCB0byBiZVxuLy8gZGVlcGx5IGZyb3plbiBhbnl3YXksIGFuZCBpZiB5b3UgZG9uXHUyMDE5dCBuZWVkIGEgc2VjdXJpdHkgZ3VhcmFudGVlLFxuLy8gdGhpcyBpcyBqdXN0IHBsYWluIHBhcmFub2lkLlxuLy8gSG93ZXZlciwgdGhpcyAqKm1pZ2h0KiogaGF2ZSB0aGUgbmljZSBzaWRlLWVmZmVjdCBvZiByZWR1Y2luZyB0aGUgc2l6ZSBvZlxuLy8gdGhlIG1pbmlmaWVkIGNvZGUgYnkgcmVkdWNpbmcgeC5jYWxsKCkgdG8gbWVyZWx5IHgoKVxuLy8gU2VlIE1hcmsgTWlsbGVyXHUyMDE5cyBleHBsYW5hdGlvbiBvZiB3aGF0IHRoaXMgZG9lcy5cbi8vIGh0dHA6Ly93aWtpLmVjbWFzY3JpcHQub3JnL2Rva3UucGhwP2lkPWNvbnZlbnRpb25zOnNhZmVfbWV0YV9wcm9ncmFtbWluZ1xudmFyIGNhbGwgPSBGdW5jdGlvbi5jYWxsO1xuZnVuY3Rpb24gdW5jdXJyeVRoaXMoZikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBjYWxsLmFwcGx5KGYsIGFyZ3VtZW50cyk7XG4gICAgfTtcbn1cbi8vIFRoaXMgaXMgZXF1aXZhbGVudCwgYnV0IHNsb3dlcjpcbi8vIHVuY3VycnlUaGlzID0gRnVuY3Rpb25fYmluZC5iaW5kKEZ1bmN0aW9uX2JpbmQuY2FsbCk7XG4vLyBodHRwOi8vanNwZXJmLmNvbS91bmN1cnJ5dGhpc1xuXG52YXIgYXJyYXlfc2xpY2UgPSB1bmN1cnJ5VGhpcyhBcnJheS5wcm90b3R5cGUuc2xpY2UpO1xuXG52YXIgYXJyYXlfcmVkdWNlID0gdW5jdXJyeVRoaXMoXG4gICAgQXJyYXkucHJvdG90eXBlLnJlZHVjZSB8fCBmdW5jdGlvbiAoY2FsbGJhY2ssIGJhc2lzKSB7XG4gICAgICAgIHZhciBpbmRleCA9IDAsXG4gICAgICAgICAgICBsZW5ndGggPSB0aGlzLmxlbmd0aDtcbiAgICAgICAgLy8gY29uY2VybmluZyB0aGUgaW5pdGlhbCB2YWx1ZSwgaWYgb25lIGlzIG5vdCBwcm92aWRlZFxuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgLy8gc2VlayB0byB0aGUgZmlyc3QgdmFsdWUgaW4gdGhlIGFycmF5LCBhY2NvdW50aW5nXG4gICAgICAgICAgICAvLyBmb3IgdGhlIHBvc3NpYmlsaXR5IHRoYXQgaXMgaXMgYSBzcGFyc2UgYXJyYXlcbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggaW4gdGhpcykge1xuICAgICAgICAgICAgICAgICAgICBiYXNpcyA9IHRoaXNbaW5kZXgrK107XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoKytpbmRleCA+PSBsZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gd2hpbGUgKDEpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHJlZHVjZVxuICAgICAgICBmb3IgKDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgIC8vIGFjY291bnQgZm9yIHRoZSBwb3NzaWJpbGl0eSB0aGF0IHRoZSBhcnJheSBpcyBzcGFyc2VcbiAgICAgICAgICAgIGlmIChpbmRleCBpbiB0aGlzKSB7XG4gICAgICAgICAgICAgICAgYmFzaXMgPSBjYWxsYmFjayhiYXNpcywgdGhpc1tpbmRleF0sIGluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYmFzaXM7XG4gICAgfVxuKTtcblxudmFyIGFycmF5X2luZGV4T2YgPSB1bmN1cnJ5VGhpcyhcbiAgICBBcnJheS5wcm90b3R5cGUuaW5kZXhPZiB8fCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgLy8gbm90IGEgdmVyeSBnb29kIHNoaW0sIGJ1dCBnb29kIGVub3VnaCBmb3Igb3VyIG9uZSB1c2Ugb2YgaXRcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAodGhpc1tpXSA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gLTE7XG4gICAgfVxuKTtcblxudmFyIGFycmF5X21hcCA9IHVuY3VycnlUaGlzKFxuICAgIEFycmF5LnByb3RvdHlwZS5tYXAgfHwgZnVuY3Rpb24gKGNhbGxiYWNrLCB0aGlzcCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHZhciBjb2xsZWN0ID0gW107XG4gICAgICAgIGFycmF5X3JlZHVjZShzZWxmLCBmdW5jdGlvbiAodW5kZWZpbmVkLCB2YWx1ZSwgaW5kZXgpIHtcbiAgICAgICAgICAgIGNvbGxlY3QucHVzaChjYWxsYmFjay5jYWxsKHRoaXNwLCB2YWx1ZSwgaW5kZXgsIHNlbGYpKTtcbiAgICAgICAgfSwgdm9pZCAwKTtcbiAgICAgICAgcmV0dXJuIGNvbGxlY3Q7XG4gICAgfVxuKTtcblxudmFyIG9iamVjdF9jcmVhdGUgPSBPYmplY3QuY3JlYXRlIHx8IGZ1bmN0aW9uIChwcm90b3R5cGUpIHtcbiAgICBmdW5jdGlvbiBUeXBlKCkgeyB9XG4gICAgVHlwZS5wcm90b3R5cGUgPSBwcm90b3R5cGU7XG4gICAgcmV0dXJuIG5ldyBUeXBlKCk7XG59O1xuXG52YXIgb2JqZWN0X2RlZmluZVByb3BlcnR5ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5IHx8IGZ1bmN0aW9uIChvYmosIHByb3AsIGRlc2NyaXB0b3IpIHtcbiAgICBvYmpbcHJvcF0gPSBkZXNjcmlwdG9yLnZhbHVlO1xuICAgIHJldHVybiBvYmo7XG59O1xuXG52YXIgb2JqZWN0X2hhc093blByb3BlcnR5ID0gdW5jdXJyeVRoaXMoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSk7XG5cbnZhciBvYmplY3Rfa2V5cyA9IE9iamVjdC5rZXlzIHx8IGZ1bmN0aW9uIChvYmplY3QpIHtcbiAgICB2YXIga2V5cyA9IFtdO1xuICAgIGZvciAodmFyIGtleSBpbiBvYmplY3QpIHtcbiAgICAgICAgaWYgKG9iamVjdF9oYXNPd25Qcm9wZXJ0eShvYmplY3QsIGtleSkpIHtcbiAgICAgICAgICAgIGtleXMucHVzaChrZXkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBrZXlzO1xufTtcblxudmFyIG9iamVjdF90b1N0cmluZyA9IHVuY3VycnlUaGlzKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcpO1xuXG5mdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gT2JqZWN0KHZhbHVlKTtcbn1cblxuLy8gZ2VuZXJhdG9yIHJlbGF0ZWQgc2hpbXNcblxuLy8gRklYTUU6IFJlbW92ZSB0aGlzIGZ1bmN0aW9uIG9uY2UgRVM2IGdlbmVyYXRvcnMgYXJlIGluIFNwaWRlck1vbmtleS5cbmZ1bmN0aW9uIGlzU3RvcEl0ZXJhdGlvbihleGNlcHRpb24pIHtcbiAgICByZXR1cm4gKFxuICAgICAgICBvYmplY3RfdG9TdHJpbmcoZXhjZXB0aW9uKSA9PT0gXCJbb2JqZWN0IFN0b3BJdGVyYXRpb25dXCIgfHxcbiAgICAgICAgZXhjZXB0aW9uIGluc3RhbmNlb2YgUVJldHVyblZhbHVlXG4gICAgKTtcbn1cblxuLy8gRklYTUU6IFJlbW92ZSB0aGlzIGhlbHBlciBhbmQgUS5yZXR1cm4gb25jZSBFUzYgZ2VuZXJhdG9ycyBhcmUgaW5cbi8vIFNwaWRlck1vbmtleS5cbnZhciBRUmV0dXJuVmFsdWU7XG5pZiAodHlwZW9mIFJldHVyblZhbHVlICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgUVJldHVyblZhbHVlID0gUmV0dXJuVmFsdWU7XG59IGVsc2Uge1xuICAgIFFSZXR1cm5WYWx1ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgfTtcbn1cblxuLy8gbG9uZyBzdGFjayB0cmFjZXNcblxudmFyIFNUQUNLX0pVTVBfU0VQQVJBVE9SID0gXCJGcm9tIHByZXZpb3VzIGV2ZW50OlwiO1xuXG5mdW5jdGlvbiBtYWtlU3RhY2tUcmFjZUxvbmcoZXJyb3IsIHByb21pc2UpIHtcbiAgICAvLyBJZiBwb3NzaWJsZSwgdHJhbnNmb3JtIHRoZSBlcnJvciBzdGFjayB0cmFjZSBieSByZW1vdmluZyBOb2RlIGFuZCBRXG4gICAgLy8gY3J1ZnQsIHRoZW4gY29uY2F0ZW5hdGluZyB3aXRoIHRoZSBzdGFjayB0cmFjZSBvZiBgcHJvbWlzZWAuIFNlZSAjNTcuXG4gICAgaWYgKGhhc1N0YWNrcyAmJlxuICAgICAgICBwcm9taXNlLnN0YWNrICYmXG4gICAgICAgIHR5cGVvZiBlcnJvciA9PT0gXCJvYmplY3RcIiAmJlxuICAgICAgICBlcnJvciAhPT0gbnVsbCAmJlxuICAgICAgICBlcnJvci5zdGFja1xuICAgICkge1xuICAgICAgICB2YXIgc3RhY2tzID0gW107XG4gICAgICAgIGZvciAodmFyIHAgPSBwcm9taXNlOyAhIXA7IHAgPSBwLnNvdXJjZSkge1xuICAgICAgICAgICAgaWYgKHAuc3RhY2sgJiYgKCFlcnJvci5fX21pbmltdW1TdGFja0NvdW50ZXJfXyB8fCBlcnJvci5fX21pbmltdW1TdGFja0NvdW50ZXJfXyA+IHAuc3RhY2tDb3VudGVyKSkge1xuICAgICAgICAgICAgICAgIG9iamVjdF9kZWZpbmVQcm9wZXJ0eShlcnJvciwgXCJfX21pbmltdW1TdGFja0NvdW50ZXJfX1wiLCB7dmFsdWU6IHAuc3RhY2tDb3VudGVyLCBjb25maWd1cmFibGU6IHRydWV9KTtcbiAgICAgICAgICAgICAgICBzdGFja3MudW5zaGlmdChwLnN0YWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzdGFja3MudW5zaGlmdChlcnJvci5zdGFjayk7XG5cbiAgICAgICAgdmFyIGNvbmNhdGVkU3RhY2tzID0gc3RhY2tzLmpvaW4oXCJcXG5cIiArIFNUQUNLX0pVTVBfU0VQQVJBVE9SICsgXCJcXG5cIik7XG4gICAgICAgIHZhciBzdGFjayA9IGZpbHRlclN0YWNrU3RyaW5nKGNvbmNhdGVkU3RhY2tzKTtcbiAgICAgICAgb2JqZWN0X2RlZmluZVByb3BlcnR5KGVycm9yLCBcInN0YWNrXCIsIHt2YWx1ZTogc3RhY2ssIGNvbmZpZ3VyYWJsZTogdHJ1ZX0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZmlsdGVyU3RhY2tTdHJpbmcoc3RhY2tTdHJpbmcpIHtcbiAgICB2YXIgbGluZXMgPSBzdGFja1N0cmluZy5zcGxpdChcIlxcblwiKTtcbiAgICB2YXIgZGVzaXJlZExpbmVzID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7ICsraSkge1xuICAgICAgICB2YXIgbGluZSA9IGxpbmVzW2ldO1xuXG4gICAgICAgIGlmICghaXNJbnRlcm5hbEZyYW1lKGxpbmUpICYmICFpc05vZGVGcmFtZShsaW5lKSAmJiBsaW5lKSB7XG4gICAgICAgICAgICBkZXNpcmVkTGluZXMucHVzaChsaW5lKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZGVzaXJlZExpbmVzLmpvaW4oXCJcXG5cIik7XG59XG5cbmZ1bmN0aW9uIGlzTm9kZUZyYW1lKHN0YWNrTGluZSkge1xuICAgIHJldHVybiBzdGFja0xpbmUuaW5kZXhPZihcIihtb2R1bGUuanM6XCIpICE9PSAtMSB8fFxuICAgICAgICAgICBzdGFja0xpbmUuaW5kZXhPZihcIihub2RlLmpzOlwiKSAhPT0gLTE7XG59XG5cbmZ1bmN0aW9uIGdldEZpbGVOYW1lQW5kTGluZU51bWJlcihzdGFja0xpbmUpIHtcbiAgICAvLyBOYW1lZCBmdW5jdGlvbnM6IFwiYXQgZnVuY3Rpb25OYW1lIChmaWxlbmFtZTpsaW5lTnVtYmVyOmNvbHVtbk51bWJlcilcIlxuICAgIC8vIEluIElFMTAgZnVuY3Rpb24gbmFtZSBjYW4gaGF2ZSBzcGFjZXMgKFwiQW5vbnltb3VzIGZ1bmN0aW9uXCIpIE9fb1xuICAgIHZhciBhdHRlbXB0MSA9IC9hdCAuKyBcXCgoLispOihcXGQrKTooPzpcXGQrKVxcKSQvLmV4ZWMoc3RhY2tMaW5lKTtcbiAgICBpZiAoYXR0ZW1wdDEpIHtcbiAgICAgICAgcmV0dXJuIFthdHRlbXB0MVsxXSwgTnVtYmVyKGF0dGVtcHQxWzJdKV07XG4gICAgfVxuXG4gICAgLy8gQW5vbnltb3VzIGZ1bmN0aW9uczogXCJhdCBmaWxlbmFtZTpsaW5lTnVtYmVyOmNvbHVtbk51bWJlclwiXG4gICAgdmFyIGF0dGVtcHQyID0gL2F0IChbXiBdKyk6KFxcZCspOig/OlxcZCspJC8uZXhlYyhzdGFja0xpbmUpO1xuICAgIGlmIChhdHRlbXB0Mikge1xuICAgICAgICByZXR1cm4gW2F0dGVtcHQyWzFdLCBOdW1iZXIoYXR0ZW1wdDJbMl0pXTtcbiAgICB9XG5cbiAgICAvLyBGaXJlZm94IHN0eWxlOiBcImZ1bmN0aW9uQGZpbGVuYW1lOmxpbmVOdW1iZXIgb3IgQGZpbGVuYW1lOmxpbmVOdW1iZXJcIlxuICAgIHZhciBhdHRlbXB0MyA9IC8uKkAoLispOihcXGQrKSQvLmV4ZWMoc3RhY2tMaW5lKTtcbiAgICBpZiAoYXR0ZW1wdDMpIHtcbiAgICAgICAgcmV0dXJuIFthdHRlbXB0M1sxXSwgTnVtYmVyKGF0dGVtcHQzWzJdKV07XG4gICAgfVxufVxuXG5mdW5jdGlvbiBpc0ludGVybmFsRnJhbWUoc3RhY2tMaW5lKSB7XG4gICAgdmFyIGZpbGVOYW1lQW5kTGluZU51bWJlciA9IGdldEZpbGVOYW1lQW5kTGluZU51bWJlcihzdGFja0xpbmUpO1xuXG4gICAgaWYgKCFmaWxlTmFtZUFuZExpbmVOdW1iZXIpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHZhciBmaWxlTmFtZSA9IGZpbGVOYW1lQW5kTGluZU51bWJlclswXTtcbiAgICB2YXIgbGluZU51bWJlciA9IGZpbGVOYW1lQW5kTGluZU51bWJlclsxXTtcblxuICAgIHJldHVybiBmaWxlTmFtZSA9PT0gcUZpbGVOYW1lICYmXG4gICAgICAgIGxpbmVOdW1iZXIgPj0gcVN0YXJ0aW5nTGluZSAmJlxuICAgICAgICBsaW5lTnVtYmVyIDw9IHFFbmRpbmdMaW5lO1xufVxuXG4vLyBkaXNjb3ZlciBvd24gZmlsZSBuYW1lIGFuZCBsaW5lIG51bWJlciByYW5nZSBmb3IgZmlsdGVyaW5nIHN0YWNrXG4vLyB0cmFjZXNcbmZ1bmN0aW9uIGNhcHR1cmVMaW5lKCkge1xuICAgIGlmICghaGFzU3RhY2tzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHZhciBsaW5lcyA9IGUuc3RhY2suc3BsaXQoXCJcXG5cIik7XG4gICAgICAgIHZhciBmaXJzdExpbmUgPSBsaW5lc1swXS5pbmRleE9mKFwiQFwiKSA+IDAgPyBsaW5lc1sxXSA6IGxpbmVzWzJdO1xuICAgICAgICB2YXIgZmlsZU5hbWVBbmRMaW5lTnVtYmVyID0gZ2V0RmlsZU5hbWVBbmRMaW5lTnVtYmVyKGZpcnN0TGluZSk7XG4gICAgICAgIGlmICghZmlsZU5hbWVBbmRMaW5lTnVtYmVyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBxRmlsZU5hbWUgPSBmaWxlTmFtZUFuZExpbmVOdW1iZXJbMF07XG4gICAgICAgIHJldHVybiBmaWxlTmFtZUFuZExpbmVOdW1iZXJbMV07XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkZXByZWNhdGUoY2FsbGJhY2ssIG5hbWUsIGFsdGVybmF0aXZlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBjb25zb2xlICE9PSBcInVuZGVmaW5lZFwiICYmXG4gICAgICAgICAgICB0eXBlb2YgY29uc29sZS53YXJuID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihuYW1lICsgXCIgaXMgZGVwcmVjYXRlZCwgdXNlIFwiICsgYWx0ZXJuYXRpdmUgK1xuICAgICAgICAgICAgICAgICAgICAgICAgIFwiIGluc3RlYWQuXCIsIG5ldyBFcnJvcihcIlwiKS5zdGFjayk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrLmFwcGx5KGNhbGxiYWNrLCBhcmd1bWVudHMpO1xuICAgIH07XG59XG5cbi8vIGVuZCBvZiBzaGltc1xuLy8gYmVnaW5uaW5nIG9mIHJlYWwgd29ya1xuXG4vKipcbiAqIENvbnN0cnVjdHMgYSBwcm9taXNlIGZvciBhbiBpbW1lZGlhdGUgcmVmZXJlbmNlLCBwYXNzZXMgcHJvbWlzZXMgdGhyb3VnaCwgb3JcbiAqIGNvZXJjZXMgcHJvbWlzZXMgZnJvbSBkaWZmZXJlbnQgc3lzdGVtcy5cbiAqIEBwYXJhbSB2YWx1ZSBpbW1lZGlhdGUgcmVmZXJlbmNlIG9yIHByb21pc2VcbiAqL1xuZnVuY3Rpb24gUSh2YWx1ZSkge1xuICAgIC8vIElmIHRoZSBvYmplY3QgaXMgYWxyZWFkeSBhIFByb21pc2UsIHJldHVybiBpdCBkaXJlY3RseS4gIFRoaXMgZW5hYmxlc1xuICAgIC8vIHRoZSByZXNvbHZlIGZ1bmN0aW9uIHRvIGJvdGggYmUgdXNlZCB0byBjcmVhdGVkIHJlZmVyZW5jZXMgZnJvbSBvYmplY3RzLFxuICAgIC8vIGJ1dCB0byB0b2xlcmFibHkgY29lcmNlIG5vbi1wcm9taXNlcyB0byBwcm9taXNlcy5cbiAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICAvLyBhc3NpbWlsYXRlIHRoZW5hYmxlc1xuICAgIGlmIChpc1Byb21pc2VBbGlrZSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGNvZXJjZSh2YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZ1bGZpbGwodmFsdWUpO1xuICAgIH1cbn1cblEucmVzb2x2ZSA9IFE7XG5cbi8qKlxuICogUGVyZm9ybXMgYSB0YXNrIGluIGEgZnV0dXJlIHR1cm4gb2YgdGhlIGV2ZW50IGxvb3AuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSB0YXNrXG4gKi9cblEubmV4dFRpY2sgPSBuZXh0VGljaztcblxuLyoqXG4gKiBDb250cm9scyB3aGV0aGVyIG9yIG5vdCBsb25nIHN0YWNrIHRyYWNlcyB3aWxsIGJlIG9uXG4gKi9cblEubG9uZ1N0YWNrU3VwcG9ydCA9IGZhbHNlO1xuXG4vKipcbiAqIFRoZSBjb3VudGVyIGlzIHVzZWQgdG8gZGV0ZXJtaW5lIHRoZSBzdG9wcGluZyBwb2ludCBmb3IgYnVpbGRpbmdcbiAqIGxvbmcgc3RhY2sgdHJhY2VzLiBJbiBtYWtlU3RhY2tUcmFjZUxvbmcgd2Ugd2FsayBiYWNrd2FyZHMgdGhyb3VnaFxuICogdGhlIGxpbmtlZCBsaXN0IG9mIHByb21pc2VzLCBvbmx5IHN0YWNrcyB3aGljaCB3ZXJlIGNyZWF0ZWQgYmVmb3JlXG4gKiB0aGUgcmVqZWN0aW9uIGFyZSBjb25jYXRlbmF0ZWQuXG4gKi9cbnZhciBsb25nU3RhY2tDb3VudGVyID0gMTtcblxuLy8gZW5hYmxlIGxvbmcgc3RhY2tzIGlmIFFfREVCVUcgaXMgc2V0XG5pZiAodHlwZW9mIHByb2Nlc3MgPT09IFwib2JqZWN0XCIgJiYgcHJvY2VzcyAmJiBwcm9jZXNzLmVudiAmJiBwcm9jZXNzLmVudi5RX0RFQlVHKSB7XG4gICAgUS5sb25nU3RhY2tTdXBwb3J0ID0gdHJ1ZTtcbn1cblxuLyoqXG4gKiBDb25zdHJ1Y3RzIGEge3Byb21pc2UsIHJlc29sdmUsIHJlamVjdH0gb2JqZWN0LlxuICpcbiAqIGByZXNvbHZlYCBpcyBhIGNhbGxiYWNrIHRvIGludm9rZSB3aXRoIGEgbW9yZSByZXNvbHZlZCB2YWx1ZSBmb3IgdGhlXG4gKiBwcm9taXNlLiBUbyBmdWxmaWxsIHRoZSBwcm9taXNlLCBpbnZva2UgYHJlc29sdmVgIHdpdGggYW55IHZhbHVlIHRoYXQgaXNcbiAqIG5vdCBhIHRoZW5hYmxlLiBUbyByZWplY3QgdGhlIHByb21pc2UsIGludm9rZSBgcmVzb2x2ZWAgd2l0aCBhIHJlamVjdGVkXG4gKiB0aGVuYWJsZSwgb3IgaW52b2tlIGByZWplY3RgIHdpdGggdGhlIHJlYXNvbiBkaXJlY3RseS4gVG8gcmVzb2x2ZSB0aGVcbiAqIHByb21pc2UgdG8gYW5vdGhlciB0aGVuYWJsZSwgdGh1cyBwdXR0aW5nIGl0IGluIHRoZSBzYW1lIHN0YXRlLCBpbnZva2VcbiAqIGByZXNvbHZlYCB3aXRoIHRoYXQgb3RoZXIgdGhlbmFibGUuXG4gKi9cblEuZGVmZXIgPSBkZWZlcjtcbmZ1bmN0aW9uIGRlZmVyKCkge1xuICAgIC8vIGlmIFwibWVzc2FnZXNcIiBpcyBhbiBcIkFycmF5XCIsIHRoYXQgaW5kaWNhdGVzIHRoYXQgdGhlIHByb21pc2UgaGFzIG5vdCB5ZXRcbiAgICAvLyBiZWVuIHJlc29sdmVkLiAgSWYgaXQgaXMgXCJ1bmRlZmluZWRcIiwgaXQgaGFzIGJlZW4gcmVzb2x2ZWQuICBFYWNoXG4gICAgLy8gZWxlbWVudCBvZiB0aGUgbWVzc2FnZXMgYXJyYXkgaXMgaXRzZWxmIGFuIGFycmF5IG9mIGNvbXBsZXRlIGFyZ3VtZW50cyB0b1xuICAgIC8vIGZvcndhcmQgdG8gdGhlIHJlc29sdmVkIHByb21pc2UuICBXZSBjb2VyY2UgdGhlIHJlc29sdXRpb24gdmFsdWUgdG8gYVxuICAgIC8vIHByb21pc2UgdXNpbmcgdGhlIGByZXNvbHZlYCBmdW5jdGlvbiBiZWNhdXNlIGl0IGhhbmRsZXMgYm90aCBmdWxseVxuICAgIC8vIG5vbi10aGVuYWJsZSB2YWx1ZXMgYW5kIG90aGVyIHRoZW5hYmxlcyBncmFjZWZ1bGx5LlxuICAgIHZhciBtZXNzYWdlcyA9IFtdLCBwcm9ncmVzc0xpc3RlbmVycyA9IFtdLCByZXNvbHZlZFByb21pc2U7XG5cbiAgICB2YXIgZGVmZXJyZWQgPSBvYmplY3RfY3JlYXRlKGRlZmVyLnByb3RvdHlwZSk7XG4gICAgdmFyIHByb21pc2UgPSBvYmplY3RfY3JlYXRlKFByb21pc2UucHJvdG90eXBlKTtcblxuICAgIHByb21pc2UucHJvbWlzZURpc3BhdGNoID0gZnVuY3Rpb24gKHJlc29sdmUsIG9wLCBvcGVyYW5kcykge1xuICAgICAgICB2YXIgYXJncyA9IGFycmF5X3NsaWNlKGFyZ3VtZW50cyk7XG4gICAgICAgIGlmIChtZXNzYWdlcykge1xuICAgICAgICAgICAgbWVzc2FnZXMucHVzaChhcmdzKTtcbiAgICAgICAgICAgIGlmIChvcCA9PT0gXCJ3aGVuXCIgJiYgb3BlcmFuZHNbMV0pIHsgLy8gcHJvZ3Jlc3Mgb3BlcmFuZFxuICAgICAgICAgICAgICAgIHByb2dyZXNzTGlzdGVuZXJzLnB1c2gob3BlcmFuZHNbMV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgUS5uZXh0VGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZWRQcm9taXNlLnByb21pc2VEaXNwYXRjaC5hcHBseShyZXNvbHZlZFByb21pc2UsIGFyZ3MpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gWFhYIGRlcHJlY2F0ZWRcbiAgICBwcm9taXNlLnZhbHVlT2YgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChtZXNzYWdlcykge1xuICAgICAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG5lYXJlclZhbHVlID0gbmVhcmVyKHJlc29sdmVkUHJvbWlzZSk7XG4gICAgICAgIGlmIChpc1Byb21pc2UobmVhcmVyVmFsdWUpKSB7XG4gICAgICAgICAgICByZXNvbHZlZFByb21pc2UgPSBuZWFyZXJWYWx1ZTsgLy8gc2hvcnRlbiBjaGFpblxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZWFyZXJWYWx1ZTtcbiAgICB9O1xuXG4gICAgcHJvbWlzZS5pbnNwZWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXJlc29sdmVkUHJvbWlzZSkge1xuICAgICAgICAgICAgcmV0dXJuIHsgc3RhdGU6IFwicGVuZGluZ1wiIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc29sdmVkUHJvbWlzZS5pbnNwZWN0KCk7XG4gICAgfTtcblxuICAgIGlmIChRLmxvbmdTdGFja1N1cHBvcnQgJiYgaGFzU3RhY2tzKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgLy8gTk9URTogZG9uJ3QgdHJ5IHRvIHVzZSBgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2VgIG9yIHRyYW5zZmVyIHRoZVxuICAgICAgICAgICAgLy8gYWNjZXNzb3IgYXJvdW5kOyB0aGF0IGNhdXNlcyBtZW1vcnkgbGVha3MgYXMgcGVyIEdILTExMS4gSnVzdFxuICAgICAgICAgICAgLy8gcmVpZnkgdGhlIHN0YWNrIHRyYWNlIGFzIGEgc3RyaW5nIEFTQVAuXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gQXQgdGhlIHNhbWUgdGltZSwgY3V0IG9mZiB0aGUgZmlyc3QgbGluZTsgaXQncyBhbHdheXMganVzdFxuICAgICAgICAgICAgLy8gXCJbb2JqZWN0IFByb21pc2VdXFxuXCIsIGFzIHBlciB0aGUgYHRvU3RyaW5nYC5cbiAgICAgICAgICAgIHByb21pc2Uuc3RhY2sgPSBlLnN0YWNrLnN1YnN0cmluZyhlLnN0YWNrLmluZGV4T2YoXCJcXG5cIikgKyAxKTtcbiAgICAgICAgICAgIHByb21pc2Uuc3RhY2tDb3VudGVyID0gbG9uZ1N0YWNrQ291bnRlcisrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gTk9URTogd2UgZG8gdGhlIGNoZWNrcyBmb3IgYHJlc29sdmVkUHJvbWlzZWAgaW4gZWFjaCBtZXRob2QsIGluc3RlYWQgb2ZcbiAgICAvLyBjb25zb2xpZGF0aW5nIHRoZW0gaW50byBgYmVjb21lYCwgc2luY2Ugb3RoZXJ3aXNlIHdlJ2QgY3JlYXRlIG5ld1xuICAgIC8vIHByb21pc2VzIHdpdGggdGhlIGxpbmVzIGBiZWNvbWUod2hhdGV2ZXIodmFsdWUpKWAuIFNlZSBlLmcuIEdILTI1Mi5cblxuICAgIGZ1bmN0aW9uIGJlY29tZShuZXdQcm9taXNlKSB7XG4gICAgICAgIHJlc29sdmVkUHJvbWlzZSA9IG5ld1Byb21pc2U7XG5cbiAgICAgICAgaWYgKFEubG9uZ1N0YWNrU3VwcG9ydCAmJiBoYXNTdGFja3MpIHtcbiAgICAgICAgICAgIC8vIE9ubHkgaG9sZCBhIHJlZmVyZW5jZSB0byB0aGUgbmV3IHByb21pc2UgaWYgbG9uZyBzdGFja3NcbiAgICAgICAgICAgIC8vIGFyZSBlbmFibGVkIHRvIHJlZHVjZSBtZW1vcnkgdXNhZ2VcbiAgICAgICAgICAgIHByb21pc2Uuc291cmNlID0gbmV3UHJvbWlzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGFycmF5X3JlZHVjZShtZXNzYWdlcywgZnVuY3Rpb24gKHVuZGVmaW5lZCwgbWVzc2FnZSkge1xuICAgICAgICAgICAgUS5uZXh0VGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgbmV3UHJvbWlzZS5wcm9taXNlRGlzcGF0Y2guYXBwbHkobmV3UHJvbWlzZSwgbWVzc2FnZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgdm9pZCAwKTtcblxuICAgICAgICBtZXNzYWdlcyA9IHZvaWQgMDtcbiAgICAgICAgcHJvZ3Jlc3NMaXN0ZW5lcnMgPSB2b2lkIDA7XG4gICAgfVxuXG4gICAgZGVmZXJyZWQucHJvbWlzZSA9IHByb21pc2U7XG4gICAgZGVmZXJyZWQucmVzb2x2ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAocmVzb2x2ZWRQcm9taXNlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBiZWNvbWUoUSh2YWx1ZSkpO1xuICAgIH07XG5cbiAgICBkZWZlcnJlZC5mdWxmaWxsID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmIChyZXNvbHZlZFByb21pc2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGJlY29tZShmdWxmaWxsKHZhbHVlKSk7XG4gICAgfTtcbiAgICBkZWZlcnJlZC5yZWplY3QgPSBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICAgIGlmIChyZXNvbHZlZFByb21pc2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGJlY29tZShyZWplY3QocmVhc29uKSk7XG4gICAgfTtcbiAgICBkZWZlcnJlZC5ub3RpZnkgPSBmdW5jdGlvbiAocHJvZ3Jlc3MpIHtcbiAgICAgICAgaWYgKHJlc29sdmVkUHJvbWlzZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgYXJyYXlfcmVkdWNlKHByb2dyZXNzTGlzdGVuZXJzLCBmdW5jdGlvbiAodW5kZWZpbmVkLCBwcm9ncmVzc0xpc3RlbmVyKSB7XG4gICAgICAgICAgICBRLm5leHRUaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBwcm9ncmVzc0xpc3RlbmVyKHByb2dyZXNzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCB2b2lkIDApO1xuICAgIH07XG5cbiAgICByZXR1cm4gZGVmZXJyZWQ7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIE5vZGUtc3R5bGUgY2FsbGJhY2sgdGhhdCB3aWxsIHJlc29sdmUgb3IgcmVqZWN0IHRoZSBkZWZlcnJlZFxuICogcHJvbWlzZS5cbiAqIEByZXR1cm5zIGEgbm9kZWJhY2tcbiAqL1xuZGVmZXIucHJvdG90eXBlLm1ha2VOb2RlUmVzb2x2ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHJldHVybiBmdW5jdGlvbiAoZXJyb3IsIHZhbHVlKSB7XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgc2VsZi5yZWplY3QoZXJyb3IpO1xuICAgICAgICB9IGVsc2UgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAyKSB7XG4gICAgICAgICAgICBzZWxmLnJlc29sdmUoYXJyYXlfc2xpY2UoYXJndW1lbnRzLCAxKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZWxmLnJlc29sdmUodmFsdWUpO1xuICAgICAgICB9XG4gICAgfTtcbn07XG5cbi8qKlxuICogQHBhcmFtIHJlc29sdmVyIHtGdW5jdGlvbn0gYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgbm90aGluZyBhbmQgYWNjZXB0c1xuICogdGhlIHJlc29sdmUsIHJlamVjdCwgYW5kIG5vdGlmeSBmdW5jdGlvbnMgZm9yIGEgZGVmZXJyZWQuXG4gKiBAcmV0dXJucyBhIHByb21pc2UgdGhhdCBtYXkgYmUgcmVzb2x2ZWQgd2l0aCB0aGUgZ2l2ZW4gcmVzb2x2ZSBhbmQgcmVqZWN0XG4gKiBmdW5jdGlvbnMsIG9yIHJlamVjdGVkIGJ5IGEgdGhyb3duIGV4Y2VwdGlvbiBpbiByZXNvbHZlclxuICovXG5RLlByb21pc2UgPSBwcm9taXNlOyAvLyBFUzZcblEucHJvbWlzZSA9IHByb21pc2U7XG5mdW5jdGlvbiBwcm9taXNlKHJlc29sdmVyKSB7XG4gICAgaWYgKHR5cGVvZiByZXNvbHZlciAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJyZXNvbHZlciBtdXN0IGJlIGEgZnVuY3Rpb24uXCIpO1xuICAgIH1cbiAgICB2YXIgZGVmZXJyZWQgPSBkZWZlcigpO1xuICAgIHRyeSB7XG4gICAgICAgIHJlc29sdmVyKGRlZmVycmVkLnJlc29sdmUsIGRlZmVycmVkLnJlamVjdCwgZGVmZXJyZWQubm90aWZ5KTtcbiAgICB9IGNhdGNoIChyZWFzb24pIHtcbiAgICAgICAgZGVmZXJyZWQucmVqZWN0KHJlYXNvbik7XG4gICAgfVxuICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xufVxuXG5wcm9taXNlLnJhY2UgPSByYWNlOyAvLyBFUzZcbnByb21pc2UuYWxsID0gYWxsOyAvLyBFUzZcbnByb21pc2UucmVqZWN0ID0gcmVqZWN0OyAvLyBFUzZcbnByb21pc2UucmVzb2x2ZSA9IFE7IC8vIEVTNlxuXG4vLyBYWFggZXhwZXJpbWVudGFsLiAgVGhpcyBtZXRob2QgaXMgYSB3YXkgdG8gZGVub3RlIHRoYXQgYSBsb2NhbCB2YWx1ZSBpc1xuLy8gc2VyaWFsaXphYmxlIGFuZCBzaG91bGQgYmUgaW1tZWRpYXRlbHkgZGlzcGF0Y2hlZCB0byBhIHJlbW90ZSB1cG9uIHJlcXVlc3QsXG4vLyBpbnN0ZWFkIG9mIHBhc3NpbmcgYSByZWZlcmVuY2UuXG5RLnBhc3NCeUNvcHkgPSBmdW5jdGlvbiAob2JqZWN0KSB7XG4gICAgLy9mcmVlemUob2JqZWN0KTtcbiAgICAvL3Bhc3NCeUNvcGllcy5zZXQob2JqZWN0LCB0cnVlKTtcbiAgICByZXR1cm4gb2JqZWN0O1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUucGFzc0J5Q29weSA9IGZ1bmN0aW9uICgpIHtcbiAgICAvL2ZyZWV6ZShvYmplY3QpO1xuICAgIC8vcGFzc0J5Q29waWVzLnNldChvYmplY3QsIHRydWUpO1xuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBJZiB0d28gcHJvbWlzZXMgZXZlbnR1YWxseSBmdWxmaWxsIHRvIHRoZSBzYW1lIHZhbHVlLCBwcm9taXNlcyB0aGF0IHZhbHVlLFxuICogYnV0IG90aGVyd2lzZSByZWplY3RzLlxuICogQHBhcmFtIHgge0FueSp9XG4gKiBAcGFyYW0geSB7QW55Kn1cbiAqIEByZXR1cm5zIHtBbnkqfSBhIHByb21pc2UgZm9yIHggYW5kIHkgaWYgdGhleSBhcmUgdGhlIHNhbWUsIGJ1dCBhIHJlamVjdGlvblxuICogb3RoZXJ3aXNlLlxuICpcbiAqL1xuUS5qb2luID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICByZXR1cm4gUSh4KS5qb2luKHkpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuam9pbiA9IGZ1bmN0aW9uICh0aGF0KSB7XG4gICAgcmV0dXJuIFEoW3RoaXMsIHRoYXRdKS5zcHJlYWQoZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgaWYgKHggPT09IHkpIHtcbiAgICAgICAgICAgIC8vIFRPRE86IFwiPT09XCIgc2hvdWxkIGJlIE9iamVjdC5pcyBvciBlcXVpdlxuICAgICAgICAgICAgcmV0dXJuIHg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJRIGNhbid0IGpvaW46IG5vdCB0aGUgc2FtZTogXCIgKyB4ICsgXCIgXCIgKyB5KTtcbiAgICAgICAgfVxuICAgIH0pO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIGEgcHJvbWlzZSBmb3IgdGhlIGZpcnN0IG9mIGFuIGFycmF5IG9mIHByb21pc2VzIHRvIGJlY29tZSBzZXR0bGVkLlxuICogQHBhcmFtIGFuc3dlcnMge0FycmF5W0FueSpdfSBwcm9taXNlcyB0byByYWNlXG4gKiBAcmV0dXJucyB7QW55Kn0gdGhlIGZpcnN0IHByb21pc2UgdG8gYmUgc2V0dGxlZFxuICovXG5RLnJhY2UgPSByYWNlO1xuZnVuY3Rpb24gcmFjZShhbnN3ZXJQcykge1xuICAgIHJldHVybiBwcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgLy8gU3dpdGNoIHRvIHRoaXMgb25jZSB3ZSBjYW4gYXNzdW1lIGF0IGxlYXN0IEVTNVxuICAgICAgICAvLyBhbnN3ZXJQcy5mb3JFYWNoKGZ1bmN0aW9uIChhbnN3ZXJQKSB7XG4gICAgICAgIC8vICAgICBRKGFuc3dlclApLnRoZW4ocmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgLy8gfSk7XG4gICAgICAgIC8vIFVzZSB0aGlzIGluIHRoZSBtZWFudGltZVxuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gYW5zd2VyUHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIFEoYW5zd2VyUHNbaV0pLnRoZW4ocmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5Qcm9taXNlLnByb3RvdHlwZS5yYWNlID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnRoZW4oUS5yYWNlKTtcbn07XG5cbi8qKlxuICogQ29uc3RydWN0cyBhIFByb21pc2Ugd2l0aCBhIHByb21pc2UgZGVzY3JpcHRvciBvYmplY3QgYW5kIG9wdGlvbmFsIGZhbGxiYWNrXG4gKiBmdW5jdGlvbi4gIFRoZSBkZXNjcmlwdG9yIGNvbnRhaW5zIG1ldGhvZHMgbGlrZSB3aGVuKHJlamVjdGVkKSwgZ2V0KG5hbWUpLFxuICogc2V0KG5hbWUsIHZhbHVlKSwgcG9zdChuYW1lLCBhcmdzKSwgYW5kIGRlbGV0ZShuYW1lKSwgd2hpY2ggYWxsXG4gKiByZXR1cm4gZWl0aGVyIGEgdmFsdWUsIGEgcHJvbWlzZSBmb3IgYSB2YWx1ZSwgb3IgYSByZWplY3Rpb24uICBUaGUgZmFsbGJhY2tcbiAqIGFjY2VwdHMgdGhlIG9wZXJhdGlvbiBuYW1lLCBhIHJlc29sdmVyLCBhbmQgYW55IGZ1cnRoZXIgYXJndW1lbnRzIHRoYXQgd291bGRcbiAqIGhhdmUgYmVlbiBmb3J3YXJkZWQgdG8gdGhlIGFwcHJvcHJpYXRlIG1ldGhvZCBhYm92ZSBoYWQgYSBtZXRob2QgYmVlblxuICogcHJvdmlkZWQgd2l0aCB0aGUgcHJvcGVyIG5hbWUuICBUaGUgQVBJIG1ha2VzIG5vIGd1YXJhbnRlZXMgYWJvdXQgdGhlIG5hdHVyZVxuICogb2YgdGhlIHJldHVybmVkIG9iamVjdCwgYXBhcnQgZnJvbSB0aGF0IGl0IGlzIHVzYWJsZSB3aGVyZWV2ZXIgcHJvbWlzZXMgYXJlXG4gKiBib3VnaHQgYW5kIHNvbGQuXG4gKi9cblEubWFrZVByb21pc2UgPSBQcm9taXNlO1xuZnVuY3Rpb24gUHJvbWlzZShkZXNjcmlwdG9yLCBmYWxsYmFjaywgaW5zcGVjdCkge1xuICAgIGlmIChmYWxsYmFjayA9PT0gdm9pZCAwKSB7XG4gICAgICAgIGZhbGxiYWNrID0gZnVuY3Rpb24gKG9wKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVqZWN0KG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgICBcIlByb21pc2UgZG9lcyBub3Qgc3VwcG9ydCBvcGVyYXRpb246IFwiICsgb3BcbiAgICAgICAgICAgICkpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAoaW5zcGVjdCA9PT0gdm9pZCAwKSB7XG4gICAgICAgIGluc3BlY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4ge3N0YXRlOiBcInVua25vd25cIn07XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgdmFyIHByb21pc2UgPSBvYmplY3RfY3JlYXRlKFByb21pc2UucHJvdG90eXBlKTtcblxuICAgIHByb21pc2UucHJvbWlzZURpc3BhdGNoID0gZnVuY3Rpb24gKHJlc29sdmUsIG9wLCBhcmdzKSB7XG4gICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoZGVzY3JpcHRvcltvcF0pIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBkZXNjcmlwdG9yW29wXS5hcHBseShwcm9taXNlLCBhcmdzKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gZmFsbGJhY2suY2FsbChwcm9taXNlLCBvcCwgYXJncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGV4Y2VwdGlvbikge1xuICAgICAgICAgICAgcmVzdWx0ID0gcmVqZWN0KGV4Y2VwdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlc29sdmUpIHtcbiAgICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBwcm9taXNlLmluc3BlY3QgPSBpbnNwZWN0O1xuXG4gICAgLy8gWFhYIGRlcHJlY2F0ZWQgYHZhbHVlT2ZgIGFuZCBgZXhjZXB0aW9uYCBzdXBwb3J0XG4gICAgaWYgKGluc3BlY3QpIHtcbiAgICAgICAgdmFyIGluc3BlY3RlZCA9IGluc3BlY3QoKTtcbiAgICAgICAgaWYgKGluc3BlY3RlZC5zdGF0ZSA9PT0gXCJyZWplY3RlZFwiKSB7XG4gICAgICAgICAgICBwcm9taXNlLmV4Y2VwdGlvbiA9IGluc3BlY3RlZC5yZWFzb247XG4gICAgICAgIH1cblxuICAgICAgICBwcm9taXNlLnZhbHVlT2YgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgaW5zcGVjdGVkID0gaW5zcGVjdCgpO1xuICAgICAgICAgICAgaWYgKGluc3BlY3RlZC5zdGF0ZSA9PT0gXCJwZW5kaW5nXCIgfHxcbiAgICAgICAgICAgICAgICBpbnNwZWN0ZWQuc3RhdGUgPT09IFwicmVqZWN0ZWRcIikge1xuICAgICAgICAgICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGluc3BlY3RlZC52YWx1ZTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gcHJvbWlzZTtcbn1cblxuUHJvbWlzZS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIFwiW29iamVjdCBQcm9taXNlXVwiO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUudGhlbiA9IGZ1bmN0aW9uIChmdWxmaWxsZWQsIHJlamVjdGVkLCBwcm9ncmVzc2VkKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBkZWZlcnJlZCA9IGRlZmVyKCk7XG4gICAgdmFyIGRvbmUgPSBmYWxzZTsgICAvLyBlbnN1cmUgdGhlIHVudHJ1c3RlZCBwcm9taXNlIG1ha2VzIGF0IG1vc3QgYVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2luZ2xlIGNhbGwgdG8gb25lIG9mIHRoZSBjYWxsYmFja3NcblxuICAgIGZ1bmN0aW9uIF9mdWxmaWxsZWQodmFsdWUpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiB0eXBlb2YgZnVsZmlsbGVkID09PSBcImZ1bmN0aW9uXCIgPyBmdWxmaWxsZWQodmFsdWUpIDogdmFsdWU7XG4gICAgICAgIH0gY2F0Y2ggKGV4Y2VwdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuIHJlamVjdChleGNlcHRpb24pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX3JlamVjdGVkKGV4Y2VwdGlvbikge1xuICAgICAgICBpZiAodHlwZW9mIHJlamVjdGVkID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIG1ha2VTdGFja1RyYWNlTG9uZyhleGNlcHRpb24sIHNlbGYpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0ZWQoZXhjZXB0aW9uKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKG5ld0V4Y2VwdGlvbikge1xuICAgICAgICAgICAgICAgIHJldHVybiByZWplY3QobmV3RXhjZXB0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVqZWN0KGV4Y2VwdGlvbik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX3Byb2dyZXNzZWQodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBwcm9ncmVzc2VkID09PSBcImZ1bmN0aW9uXCIgPyBwcm9ncmVzc2VkKHZhbHVlKSA6IHZhbHVlO1xuICAgIH1cblxuICAgIFEubmV4dFRpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICBzZWxmLnByb21pc2VEaXNwYXRjaChmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmIChkb25lKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZG9uZSA9IHRydWU7XG5cbiAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoX2Z1bGZpbGxlZCh2YWx1ZSkpO1xuICAgICAgICB9LCBcIndoZW5cIiwgW2Z1bmN0aW9uIChleGNlcHRpb24pIHtcbiAgICAgICAgICAgIGlmIChkb25lKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZG9uZSA9IHRydWU7XG5cbiAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoX3JlamVjdGVkKGV4Y2VwdGlvbikpO1xuICAgICAgICB9XSk7XG4gICAgfSk7XG5cbiAgICAvLyBQcm9ncmVzcyBwcm9wYWdhdG9yIG5lZWQgdG8gYmUgYXR0YWNoZWQgaW4gdGhlIGN1cnJlbnQgdGljay5cbiAgICBzZWxmLnByb21pc2VEaXNwYXRjaCh2b2lkIDAsIFwid2hlblwiLCBbdm9pZCAwLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIG5ld1ZhbHVlO1xuICAgICAgICB2YXIgdGhyZXcgPSBmYWxzZTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gX3Byb2dyZXNzZWQodmFsdWUpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICB0aHJldyA9IHRydWU7XG4gICAgICAgICAgICBpZiAoUS5vbmVycm9yKSB7XG4gICAgICAgICAgICAgICAgUS5vbmVycm9yKGUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aHJldykge1xuICAgICAgICAgICAgZGVmZXJyZWQubm90aWZ5KG5ld1ZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xufTtcblxuUS50YXAgPSBmdW5jdGlvbiAocHJvbWlzZSwgY2FsbGJhY2spIHtcbiAgICByZXR1cm4gUShwcm9taXNlKS50YXAoY2FsbGJhY2spO1xufTtcblxuLyoqXG4gKiBXb3JrcyBhbG1vc3QgbGlrZSBcImZpbmFsbHlcIiwgYnV0IG5vdCBjYWxsZWQgZm9yIHJlamVjdGlvbnMuXG4gKiBPcmlnaW5hbCByZXNvbHV0aW9uIHZhbHVlIGlzIHBhc3NlZCB0aHJvdWdoIGNhbGxiYWNrIHVuYWZmZWN0ZWQuXG4gKiBDYWxsYmFjayBtYXkgcmV0dXJuIGEgcHJvbWlzZSB0aGF0IHdpbGwgYmUgYXdhaXRlZCBmb3IuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICogQHJldHVybnMge1EuUHJvbWlzZX1cbiAqIEBleGFtcGxlXG4gKiBkb1NvbWV0aGluZygpXG4gKiAgIC50aGVuKC4uLilcbiAqICAgLnRhcChjb25zb2xlLmxvZylcbiAqICAgLnRoZW4oLi4uKTtcbiAqL1xuUHJvbWlzZS5wcm90b3R5cGUudGFwID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgY2FsbGJhY2sgPSBRKGNhbGxiYWNrKTtcblxuICAgIHJldHVybiB0aGlzLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjay5mY2FsbCh2YWx1ZSkudGhlblJlc29sdmUodmFsdWUpO1xuICAgIH0pO1xufTtcblxuLyoqXG4gKiBSZWdpc3RlcnMgYW4gb2JzZXJ2ZXIgb24gYSBwcm9taXNlLlxuICpcbiAqIEd1YXJhbnRlZXM6XG4gKlxuICogMS4gdGhhdCBmdWxmaWxsZWQgYW5kIHJlamVjdGVkIHdpbGwgYmUgY2FsbGVkIG9ubHkgb25jZS5cbiAqIDIuIHRoYXQgZWl0aGVyIHRoZSBmdWxmaWxsZWQgY2FsbGJhY2sgb3IgdGhlIHJlamVjdGVkIGNhbGxiYWNrIHdpbGwgYmVcbiAqICAgIGNhbGxlZCwgYnV0IG5vdCBib3RoLlxuICogMy4gdGhhdCBmdWxmaWxsZWQgYW5kIHJlamVjdGVkIHdpbGwgbm90IGJlIGNhbGxlZCBpbiB0aGlzIHR1cm4uXG4gKlxuICogQHBhcmFtIHZhbHVlICAgICAgcHJvbWlzZSBvciBpbW1lZGlhdGUgcmVmZXJlbmNlIHRvIG9ic2VydmVcbiAqIEBwYXJhbSBmdWxmaWxsZWQgIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCB3aXRoIHRoZSBmdWxmaWxsZWQgdmFsdWVcbiAqIEBwYXJhbSByZWplY3RlZCAgIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCB3aXRoIHRoZSByZWplY3Rpb24gZXhjZXB0aW9uXG4gKiBAcGFyYW0gcHJvZ3Jlc3NlZCBmdW5jdGlvbiB0byBiZSBjYWxsZWQgb24gYW55IHByb2dyZXNzIG5vdGlmaWNhdGlvbnNcbiAqIEByZXR1cm4gcHJvbWlzZSBmb3IgdGhlIHJldHVybiB2YWx1ZSBmcm9tIHRoZSBpbnZva2VkIGNhbGxiYWNrXG4gKi9cblEud2hlbiA9IHdoZW47XG5mdW5jdGlvbiB3aGVuKHZhbHVlLCBmdWxmaWxsZWQsIHJlamVjdGVkLCBwcm9ncmVzc2VkKSB7XG4gICAgcmV0dXJuIFEodmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCwgcHJvZ3Jlc3NlZCk7XG59XG5cblByb21pc2UucHJvdG90eXBlLnRoZW5SZXNvbHZlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMudGhlbihmdW5jdGlvbiAoKSB7IHJldHVybiB2YWx1ZTsgfSk7XG59O1xuXG5RLnRoZW5SZXNvbHZlID0gZnVuY3Rpb24gKHByb21pc2UsIHZhbHVlKSB7XG4gICAgcmV0dXJuIFEocHJvbWlzZSkudGhlblJlc29sdmUodmFsdWUpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUudGhlblJlamVjdCA9IGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICByZXR1cm4gdGhpcy50aGVuKGZ1bmN0aW9uICgpIHsgdGhyb3cgcmVhc29uOyB9KTtcbn07XG5cblEudGhlblJlamVjdCA9IGZ1bmN0aW9uIChwcm9taXNlLCByZWFzb24pIHtcbiAgICByZXR1cm4gUShwcm9taXNlKS50aGVuUmVqZWN0KHJlYXNvbik7XG59O1xuXG4vKipcbiAqIElmIGFuIG9iamVjdCBpcyBub3QgYSBwcm9taXNlLCBpdCBpcyBhcyBcIm5lYXJcIiBhcyBwb3NzaWJsZS5cbiAqIElmIGEgcHJvbWlzZSBpcyByZWplY3RlZCwgaXQgaXMgYXMgXCJuZWFyXCIgYXMgcG9zc2libGUgdG9vLlxuICogSWYgaXRcdTIwMTlzIGEgZnVsZmlsbGVkIHByb21pc2UsIHRoZSBmdWxmaWxsbWVudCB2YWx1ZSBpcyBuZWFyZXIuXG4gKiBJZiBpdFx1MjAxOXMgYSBkZWZlcnJlZCBwcm9taXNlIGFuZCB0aGUgZGVmZXJyZWQgaGFzIGJlZW4gcmVzb2x2ZWQsIHRoZVxuICogcmVzb2x1dGlvbiBpcyBcIm5lYXJlclwiLlxuICogQHBhcmFtIG9iamVjdFxuICogQHJldHVybnMgbW9zdCByZXNvbHZlZCAobmVhcmVzdCkgZm9ybSBvZiB0aGUgb2JqZWN0XG4gKi9cblxuLy8gWFhYIHNob3VsZCB3ZSByZS1kbyB0aGlzP1xuUS5uZWFyZXIgPSBuZWFyZXI7XG5mdW5jdGlvbiBuZWFyZXIodmFsdWUpIHtcbiAgICBpZiAoaXNQcm9taXNlKHZhbHVlKSkge1xuICAgICAgICB2YXIgaW5zcGVjdGVkID0gdmFsdWUuaW5zcGVjdCgpO1xuICAgICAgICBpZiAoaW5zcGVjdGVkLnN0YXRlID09PSBcImZ1bGZpbGxlZFwiKSB7XG4gICAgICAgICAgICByZXR1cm4gaW5zcGVjdGVkLnZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB3aGV0aGVyIHRoZSBnaXZlbiBvYmplY3QgaXMgYSBwcm9taXNlLlxuICogT3RoZXJ3aXNlIGl0IGlzIGEgZnVsZmlsbGVkIHZhbHVlLlxuICovXG5RLmlzUHJvbWlzZSA9IGlzUHJvbWlzZTtcbmZ1bmN0aW9uIGlzUHJvbWlzZShvYmplY3QpIHtcbiAgICByZXR1cm4gb2JqZWN0IGluc3RhbmNlb2YgUHJvbWlzZTtcbn1cblxuUS5pc1Byb21pc2VBbGlrZSA9IGlzUHJvbWlzZUFsaWtlO1xuZnVuY3Rpb24gaXNQcm9taXNlQWxpa2Uob2JqZWN0KSB7XG4gICAgcmV0dXJuIGlzT2JqZWN0KG9iamVjdCkgJiYgdHlwZW9mIG9iamVjdC50aGVuID09PSBcImZ1bmN0aW9uXCI7XG59XG5cbi8qKlxuICogQHJldHVybnMgd2hldGhlciB0aGUgZ2l2ZW4gb2JqZWN0IGlzIGEgcGVuZGluZyBwcm9taXNlLCBtZWFuaW5nIG5vdFxuICogZnVsZmlsbGVkIG9yIHJlamVjdGVkLlxuICovXG5RLmlzUGVuZGluZyA9IGlzUGVuZGluZztcbmZ1bmN0aW9uIGlzUGVuZGluZyhvYmplY3QpIHtcbiAgICByZXR1cm4gaXNQcm9taXNlKG9iamVjdCkgJiYgb2JqZWN0Lmluc3BlY3QoKS5zdGF0ZSA9PT0gXCJwZW5kaW5nXCI7XG59XG5cblByb21pc2UucHJvdG90eXBlLmlzUGVuZGluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5pbnNwZWN0KCkuc3RhdGUgPT09IFwicGVuZGluZ1wiO1xufTtcblxuLyoqXG4gKiBAcmV0dXJucyB3aGV0aGVyIHRoZSBnaXZlbiBvYmplY3QgaXMgYSB2YWx1ZSBvciBmdWxmaWxsZWRcbiAqIHByb21pc2UuXG4gKi9cblEuaXNGdWxmaWxsZWQgPSBpc0Z1bGZpbGxlZDtcbmZ1bmN0aW9uIGlzRnVsZmlsbGVkKG9iamVjdCkge1xuICAgIHJldHVybiAhaXNQcm9taXNlKG9iamVjdCkgfHwgb2JqZWN0Lmluc3BlY3QoKS5zdGF0ZSA9PT0gXCJmdWxmaWxsZWRcIjtcbn1cblxuUHJvbWlzZS5wcm90b3R5cGUuaXNGdWxmaWxsZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuaW5zcGVjdCgpLnN0YXRlID09PSBcImZ1bGZpbGxlZFwiO1xufTtcblxuLyoqXG4gKiBAcmV0dXJucyB3aGV0aGVyIHRoZSBnaXZlbiBvYmplY3QgaXMgYSByZWplY3RlZCBwcm9taXNlLlxuICovXG5RLmlzUmVqZWN0ZWQgPSBpc1JlamVjdGVkO1xuZnVuY3Rpb24gaXNSZWplY3RlZChvYmplY3QpIHtcbiAgICByZXR1cm4gaXNQcm9taXNlKG9iamVjdCkgJiYgb2JqZWN0Lmluc3BlY3QoKS5zdGF0ZSA9PT0gXCJyZWplY3RlZFwiO1xufVxuXG5Qcm9taXNlLnByb3RvdHlwZS5pc1JlamVjdGVkID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmluc3BlY3QoKS5zdGF0ZSA9PT0gXCJyZWplY3RlZFwiO1xufTtcblxuLy8vLyBCRUdJTiBVTkhBTkRMRUQgUkVKRUNUSU9OIFRSQUNLSU5HXG5cbi8vIFRoaXMgcHJvbWlzZSBsaWJyYXJ5IGNvbnN1bWVzIGV4Y2VwdGlvbnMgdGhyb3duIGluIGhhbmRsZXJzIHNvIHRoZXkgY2FuIGJlXG4vLyBoYW5kbGVkIGJ5IGEgc3Vic2VxdWVudCBwcm9taXNlLiAgVGhlIGV4Y2VwdGlvbnMgZ2V0IGFkZGVkIHRvIHRoaXMgYXJyYXkgd2hlblxuLy8gdGhleSBhcmUgY3JlYXRlZCwgYW5kIHJlbW92ZWQgd2hlbiB0aGV5IGFyZSBoYW5kbGVkLiAgTm90ZSB0aGF0IGluIEVTNiBvclxuLy8gc2hpbW1lZCBlbnZpcm9ubWVudHMsIHRoaXMgd291bGQgbmF0dXJhbGx5IGJlIGEgYFNldGAuXG52YXIgdW5oYW5kbGVkUmVhc29ucyA9IFtdO1xudmFyIHVuaGFuZGxlZFJlamVjdGlvbnMgPSBbXTtcbnZhciByZXBvcnRlZFVuaGFuZGxlZFJlamVjdGlvbnMgPSBbXTtcbnZhciB0cmFja1VuaGFuZGxlZFJlamVjdGlvbnMgPSB0cnVlO1xuXG5mdW5jdGlvbiByZXNldFVuaGFuZGxlZFJlamVjdGlvbnMoKSB7XG4gICAgdW5oYW5kbGVkUmVhc29ucy5sZW5ndGggPSAwO1xuICAgIHVuaGFuZGxlZFJlamVjdGlvbnMubGVuZ3RoID0gMDtcblxuICAgIGlmICghdHJhY2tVbmhhbmRsZWRSZWplY3Rpb25zKSB7XG4gICAgICAgIHRyYWNrVW5oYW5kbGVkUmVqZWN0aW9ucyA9IHRydWU7XG4gICAgfVxufVxuXG5mdW5jdGlvbiB0cmFja1JlamVjdGlvbihwcm9taXNlLCByZWFzb24pIHtcbiAgICBpZiAoIXRyYWNrVW5oYW5kbGVkUmVqZWN0aW9ucykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0eXBlb2YgcHJvY2VzcyA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgcHJvY2Vzcy5lbWl0ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgUS5uZXh0VGljay5ydW5BZnRlcihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoYXJyYXlfaW5kZXhPZih1bmhhbmRsZWRSZWplY3Rpb25zLCBwcm9taXNlKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBwcm9jZXNzLmVtaXQoXCJ1bmhhbmRsZWRSZWplY3Rpb25cIiwgcmVhc29uLCBwcm9taXNlKTtcbiAgICAgICAgICAgICAgICByZXBvcnRlZFVuaGFuZGxlZFJlamVjdGlvbnMucHVzaChwcm9taXNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgdW5oYW5kbGVkUmVqZWN0aW9ucy5wdXNoKHByb21pc2UpO1xuICAgIGlmIChyZWFzb24gJiYgdHlwZW9mIHJlYXNvbi5zdGFjayAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICB1bmhhbmRsZWRSZWFzb25zLnB1c2gocmVhc29uLnN0YWNrKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB1bmhhbmRsZWRSZWFzb25zLnB1c2goXCIobm8gc3RhY2spIFwiICsgcmVhc29uKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHVudHJhY2tSZWplY3Rpb24ocHJvbWlzZSkge1xuICAgIGlmICghdHJhY2tVbmhhbmRsZWRSZWplY3Rpb25zKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgYXQgPSBhcnJheV9pbmRleE9mKHVuaGFuZGxlZFJlamVjdGlvbnMsIHByb21pc2UpO1xuICAgIGlmIChhdCAhPT0gLTEpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBwcm9jZXNzID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBwcm9jZXNzLmVtaXQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgUS5uZXh0VGljay5ydW5BZnRlcihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGF0UmVwb3J0ID0gYXJyYXlfaW5kZXhPZihyZXBvcnRlZFVuaGFuZGxlZFJlamVjdGlvbnMsIHByb21pc2UpO1xuICAgICAgICAgICAgICAgIGlmIChhdFJlcG9ydCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzcy5lbWl0KFwicmVqZWN0aW9uSGFuZGxlZFwiLCB1bmhhbmRsZWRSZWFzb25zW2F0XSwgcHJvbWlzZSk7XG4gICAgICAgICAgICAgICAgICAgIHJlcG9ydGVkVW5oYW5kbGVkUmVqZWN0aW9ucy5zcGxpY2UoYXRSZXBvcnQsIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHVuaGFuZGxlZFJlamVjdGlvbnMuc3BsaWNlKGF0LCAxKTtcbiAgICAgICAgdW5oYW5kbGVkUmVhc29ucy5zcGxpY2UoYXQsIDEpO1xuICAgIH1cbn1cblxuUS5yZXNldFVuaGFuZGxlZFJlamVjdGlvbnMgPSByZXNldFVuaGFuZGxlZFJlamVjdGlvbnM7XG5cblEuZ2V0VW5oYW5kbGVkUmVhc29ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBNYWtlIGEgY29weSBzbyB0aGF0IGNvbnN1bWVycyBjYW4ndCBpbnRlcmZlcmUgd2l0aCBvdXIgaW50ZXJuYWwgc3RhdGUuXG4gICAgcmV0dXJuIHVuaGFuZGxlZFJlYXNvbnMuc2xpY2UoKTtcbn07XG5cblEuc3RvcFVuaGFuZGxlZFJlamVjdGlvblRyYWNraW5nID0gZnVuY3Rpb24gKCkge1xuICAgIHJlc2V0VW5oYW5kbGVkUmVqZWN0aW9ucygpO1xuICAgIHRyYWNrVW5oYW5kbGVkUmVqZWN0aW9ucyA9IGZhbHNlO1xufTtcblxucmVzZXRVbmhhbmRsZWRSZWplY3Rpb25zKCk7XG5cbi8vLy8gRU5EIFVOSEFORExFRCBSRUpFQ1RJT04gVFJBQ0tJTkdcblxuLyoqXG4gKiBDb25zdHJ1Y3RzIGEgcmVqZWN0ZWQgcHJvbWlzZS5cbiAqIEBwYXJhbSByZWFzb24gdmFsdWUgZGVzY3JpYmluZyB0aGUgZmFpbHVyZVxuICovXG5RLnJlamVjdCA9IHJlamVjdDtcbmZ1bmN0aW9uIHJlamVjdChyZWFzb24pIHtcbiAgICB2YXIgcmVqZWN0aW9uID0gUHJvbWlzZSh7XG4gICAgICAgIFwid2hlblwiOiBmdW5jdGlvbiAocmVqZWN0ZWQpIHtcbiAgICAgICAgICAgIC8vIG5vdGUgdGhhdCB0aGUgZXJyb3IgaGFzIGJlZW4gaGFuZGxlZFxuICAgICAgICAgICAgaWYgKHJlamVjdGVkKSB7XG4gICAgICAgICAgICAgICAgdW50cmFja1JlamVjdGlvbih0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZWplY3RlZCA/IHJlamVjdGVkKHJlYXNvbikgOiB0aGlzO1xuICAgICAgICB9XG4gICAgfSwgZnVuY3Rpb24gZmFsbGJhY2soKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sIGZ1bmN0aW9uIGluc3BlY3QoKSB7XG4gICAgICAgIHJldHVybiB7IHN0YXRlOiBcInJlamVjdGVkXCIsIHJlYXNvbjogcmVhc29uIH07XG4gICAgfSk7XG5cbiAgICAvLyBOb3RlIHRoYXQgdGhlIHJlYXNvbiBoYXMgbm90IGJlZW4gaGFuZGxlZC5cbiAgICB0cmFja1JlamVjdGlvbihyZWplY3Rpb24sIHJlYXNvbik7XG5cbiAgICByZXR1cm4gcmVqZWN0aW9uO1xufVxuXG4vKipcbiAqIENvbnN0cnVjdHMgYSBmdWxmaWxsZWQgcHJvbWlzZSBmb3IgYW4gaW1tZWRpYXRlIHJlZmVyZW5jZS5cbiAqIEBwYXJhbSB2YWx1ZSBpbW1lZGlhdGUgcmVmZXJlbmNlXG4gKi9cblEuZnVsZmlsbCA9IGZ1bGZpbGw7XG5mdW5jdGlvbiBmdWxmaWxsKHZhbHVlKSB7XG4gICAgcmV0dXJuIFByb21pc2Uoe1xuICAgICAgICBcIndoZW5cIjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBcImdldFwiOiBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlW25hbWVdO1xuICAgICAgICB9LFxuICAgICAgICBcInNldFwiOiBmdW5jdGlvbiAobmFtZSwgcmhzKSB7XG4gICAgICAgICAgICB2YWx1ZVtuYW1lXSA9IHJocztcbiAgICAgICAgfSxcbiAgICAgICAgXCJkZWxldGVcIjogZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgICAgIGRlbGV0ZSB2YWx1ZVtuYW1lXTtcbiAgICAgICAgfSxcbiAgICAgICAgXCJwb3N0XCI6IGZ1bmN0aW9uIChuYW1lLCBhcmdzKSB7XG4gICAgICAgICAgICAvLyBNYXJrIE1pbGxlciBwcm9wb3NlcyB0aGF0IHBvc3Qgd2l0aCBubyBuYW1lIHNob3VsZCBhcHBseSBhXG4gICAgICAgICAgICAvLyBwcm9taXNlZCBmdW5jdGlvbi5cbiAgICAgICAgICAgIGlmIChuYW1lID09PSBudWxsIHx8IG5hbWUgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZS5hcHBseSh2b2lkIDAsIGFyZ3MpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWVbbmFtZV0uYXBwbHkodmFsdWUsIGFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcImFwcGx5XCI6IGZ1bmN0aW9uICh0aGlzcCwgYXJncykge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlLmFwcGx5KHRoaXNwLCBhcmdzKTtcbiAgICAgICAgfSxcbiAgICAgICAgXCJrZXlzXCI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBvYmplY3Rfa2V5cyh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9LCB2b2lkIDAsIGZ1bmN0aW9uIGluc3BlY3QoKSB7XG4gICAgICAgIHJldHVybiB7IHN0YXRlOiBcImZ1bGZpbGxlZFwiLCB2YWx1ZTogdmFsdWUgfTtcbiAgICB9KTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyB0aGVuYWJsZXMgdG8gUSBwcm9taXNlcy5cbiAqIEBwYXJhbSBwcm9taXNlIHRoZW5hYmxlIHByb21pc2VcbiAqIEByZXR1cm5zIGEgUSBwcm9taXNlXG4gKi9cbmZ1bmN0aW9uIGNvZXJjZShwcm9taXNlKSB7XG4gICAgdmFyIGRlZmVycmVkID0gZGVmZXIoKTtcbiAgICBRLm5leHRUaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHByb21pc2UudGhlbihkZWZlcnJlZC5yZXNvbHZlLCBkZWZlcnJlZC5yZWplY3QsIGRlZmVycmVkLm5vdGlmeSk7XG4gICAgICAgIH0gY2F0Y2ggKGV4Y2VwdGlvbikge1xuICAgICAgICAgICAgZGVmZXJyZWQucmVqZWN0KGV4Y2VwdGlvbik7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbn1cblxuLyoqXG4gKiBBbm5vdGF0ZXMgYW4gb2JqZWN0IHN1Y2ggdGhhdCBpdCB3aWxsIG5ldmVyIGJlXG4gKiB0cmFuc2ZlcnJlZCBhd2F5IGZyb20gdGhpcyBwcm9jZXNzIG92ZXIgYW55IHByb21pc2VcbiAqIGNvbW11bmljYXRpb24gY2hhbm5lbC5cbiAqIEBwYXJhbSBvYmplY3RcbiAqIEByZXR1cm5zIHByb21pc2UgYSB3cmFwcGluZyBvZiB0aGF0IG9iamVjdCB0aGF0XG4gKiBhZGRpdGlvbmFsbHkgcmVzcG9uZHMgdG8gdGhlIFwiaXNEZWZcIiBtZXNzYWdlXG4gKiB3aXRob3V0IGEgcmVqZWN0aW9uLlxuICovXG5RLm1hc3RlciA9IG1hc3RlcjtcbmZ1bmN0aW9uIG1hc3RlcihvYmplY3QpIHtcbiAgICByZXR1cm4gUHJvbWlzZSh7XG4gICAgICAgIFwiaXNEZWZcIjogZnVuY3Rpb24gKCkge31cbiAgICB9LCBmdW5jdGlvbiBmYWxsYmFjayhvcCwgYXJncykge1xuICAgICAgICByZXR1cm4gZGlzcGF0Y2gob2JqZWN0LCBvcCwgYXJncyk7XG4gICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gUShvYmplY3QpLmluc3BlY3QoKTtcbiAgICB9KTtcbn1cblxuLyoqXG4gKiBTcHJlYWRzIHRoZSB2YWx1ZXMgb2YgYSBwcm9taXNlZCBhcnJheSBvZiBhcmd1bWVudHMgaW50byB0aGVcbiAqIGZ1bGZpbGxtZW50IGNhbGxiYWNrLlxuICogQHBhcmFtIGZ1bGZpbGxlZCBjYWxsYmFjayB0aGF0IHJlY2VpdmVzIHZhcmlhZGljIGFyZ3VtZW50cyBmcm9tIHRoZVxuICogcHJvbWlzZWQgYXJyYXlcbiAqIEBwYXJhbSByZWplY3RlZCBjYWxsYmFjayB0aGF0IHJlY2VpdmVzIHRoZSBleGNlcHRpb24gaWYgdGhlIHByb21pc2VcbiAqIGlzIHJlamVjdGVkLlxuICogQHJldHVybnMgYSBwcm9taXNlIGZvciB0aGUgcmV0dXJuIHZhbHVlIG9yIHRocm93biBleGNlcHRpb24gb2ZcbiAqIGVpdGhlciBjYWxsYmFjay5cbiAqL1xuUS5zcHJlYWQgPSBzcHJlYWQ7XG5mdW5jdGlvbiBzcHJlYWQodmFsdWUsIGZ1bGZpbGxlZCwgcmVqZWN0ZWQpIHtcbiAgICByZXR1cm4gUSh2YWx1ZSkuc3ByZWFkKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpO1xufVxuXG5Qcm9taXNlLnByb3RvdHlwZS5zcHJlYWQgPSBmdW5jdGlvbiAoZnVsZmlsbGVkLCByZWplY3RlZCkge1xuICAgIHJldHVybiB0aGlzLmFsbCgpLnRoZW4oZnVuY3Rpb24gKGFycmF5KSB7XG4gICAgICAgIHJldHVybiBmdWxmaWxsZWQuYXBwbHkodm9pZCAwLCBhcnJheSk7XG4gICAgfSwgcmVqZWN0ZWQpO1xufTtcblxuLyoqXG4gKiBUaGUgYXN5bmMgZnVuY3Rpb24gaXMgYSBkZWNvcmF0b3IgZm9yIGdlbmVyYXRvciBmdW5jdGlvbnMsIHR1cm5pbmdcbiAqIHRoZW0gaW50byBhc3luY2hyb25vdXMgZ2VuZXJhdG9ycy4gIEFsdGhvdWdoIGdlbmVyYXRvcnMgYXJlIG9ubHkgcGFydFxuICogb2YgdGhlIG5ld2VzdCBFQ01BU2NyaXB0IDYgZHJhZnRzLCB0aGlzIGNvZGUgZG9lcyBub3QgY2F1c2Ugc3ludGF4XG4gKiBlcnJvcnMgaW4gb2xkZXIgZW5naW5lcy4gIFRoaXMgY29kZSBzaG91bGQgY29udGludWUgdG8gd29yayBhbmQgd2lsbFxuICogaW4gZmFjdCBpbXByb3ZlIG92ZXIgdGltZSBhcyB0aGUgbGFuZ3VhZ2UgaW1wcm92ZXMuXG4gKlxuICogRVM2IGdlbmVyYXRvcnMgYXJlIGN1cnJlbnRseSBwYXJ0IG9mIFY4IHZlcnNpb24gMy4xOSB3aXRoIHRoZVxuICogLS1oYXJtb255LWdlbmVyYXRvcnMgcnVudGltZSBmbGFnIGVuYWJsZWQuICBTcGlkZXJNb25rZXkgaGFzIGhhZCB0aGVtXG4gKiBmb3IgbG9uZ2VyLCBidXQgdW5kZXIgYW4gb2xkZXIgUHl0aG9uLWluc3BpcmVkIGZvcm0uICBUaGlzIGZ1bmN0aW9uXG4gKiB3b3JrcyBvbiBib3RoIGtpbmRzIG9mIGdlbmVyYXRvcnMuXG4gKlxuICogRGVjb3JhdGVzIGEgZ2VuZXJhdG9yIGZ1bmN0aW9uIHN1Y2ggdGhhdDpcbiAqICAtIGl0IG1heSB5aWVsZCBwcm9taXNlc1xuICogIC0gZXhlY3V0aW9uIHdpbGwgY29udGludWUgd2hlbiB0aGF0IHByb21pc2UgaXMgZnVsZmlsbGVkXG4gKiAgLSB0aGUgdmFsdWUgb2YgdGhlIHlpZWxkIGV4cHJlc3Npb24gd2lsbCBiZSB0aGUgZnVsZmlsbGVkIHZhbHVlXG4gKiAgLSBpdCByZXR1cm5zIGEgcHJvbWlzZSBmb3IgdGhlIHJldHVybiB2YWx1ZSAod2hlbiB0aGUgZ2VuZXJhdG9yXG4gKiAgICBzdG9wcyBpdGVyYXRpbmcpXG4gKiAgLSB0aGUgZGVjb3JhdGVkIGZ1bmN0aW9uIHJldHVybnMgYSBwcm9taXNlIGZvciB0aGUgcmV0dXJuIHZhbHVlXG4gKiAgICBvZiB0aGUgZ2VuZXJhdG9yIG9yIHRoZSBmaXJzdCByZWplY3RlZCBwcm9taXNlIGFtb25nIHRob3NlXG4gKiAgICB5aWVsZGVkLlxuICogIC0gaWYgYW4gZXJyb3IgaXMgdGhyb3duIGluIHRoZSBnZW5lcmF0b3IsIGl0IHByb3BhZ2F0ZXMgdGhyb3VnaFxuICogICAgZXZlcnkgZm9sbG93aW5nIHlpZWxkIHVudGlsIGl0IGlzIGNhdWdodCwgb3IgdW50aWwgaXQgZXNjYXBlc1xuICogICAgdGhlIGdlbmVyYXRvciBmdW5jdGlvbiBhbHRvZ2V0aGVyLCBhbmQgaXMgdHJhbnNsYXRlZCBpbnRvIGFcbiAqICAgIHJlamVjdGlvbiBmb3IgdGhlIHByb21pc2UgcmV0dXJuZWQgYnkgdGhlIGRlY29yYXRlZCBnZW5lcmF0b3IuXG4gKi9cblEuYXN5bmMgPSBhc3luYztcbmZ1bmN0aW9uIGFzeW5jKG1ha2VHZW5lcmF0b3IpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyB3aGVuIHZlcmIgaXMgXCJzZW5kXCIsIGFyZyBpcyBhIHZhbHVlXG4gICAgICAgIC8vIHdoZW4gdmVyYiBpcyBcInRocm93XCIsIGFyZyBpcyBhbiBleGNlcHRpb25cbiAgICAgICAgZnVuY3Rpb24gY29udGludWVyKHZlcmIsIGFyZykge1xuICAgICAgICAgICAgdmFyIHJlc3VsdDtcblxuICAgICAgICAgICAgLy8gVW50aWwgVjggMy4xOSAvIENocm9taXVtIDI5IGlzIHJlbGVhc2VkLCBTcGlkZXJNb25rZXkgaXMgdGhlIG9ubHlcbiAgICAgICAgICAgIC8vIGVuZ2luZSB0aGF0IGhhcyBhIGRlcGxveWVkIGJhc2Ugb2YgYnJvd3NlcnMgdGhhdCBzdXBwb3J0IGdlbmVyYXRvcnMuXG4gICAgICAgICAgICAvLyBIb3dldmVyLCBTTSdzIGdlbmVyYXRvcnMgdXNlIHRoZSBQeXRob24taW5zcGlyZWQgc2VtYW50aWNzIG9mXG4gICAgICAgICAgICAvLyBvdXRkYXRlZCBFUzYgZHJhZnRzLiAgV2Ugd291bGQgbGlrZSB0byBzdXBwb3J0IEVTNiwgYnV0IHdlJ2QgYWxzb1xuICAgICAgICAgICAgLy8gbGlrZSB0byBtYWtlIGl0IHBvc3NpYmxlIHRvIHVzZSBnZW5lcmF0b3JzIGluIGRlcGxveWVkIGJyb3dzZXJzLCBzb1xuICAgICAgICAgICAgLy8gd2UgYWxzbyBzdXBwb3J0IFB5dGhvbi1zdHlsZSBnZW5lcmF0b3JzLiAgQXQgc29tZSBwb2ludCB3ZSBjYW4gcmVtb3ZlXG4gICAgICAgICAgICAvLyB0aGlzIGJsb2NrLlxuXG4gICAgICAgICAgICBpZiAodHlwZW9mIFN0b3BJdGVyYXRpb24gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgICAvLyBFUzYgR2VuZXJhdG9yc1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGdlbmVyYXRvclt2ZXJiXShhcmcpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGV4Y2VwdGlvbikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0KGV4Y2VwdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuZG9uZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUShyZXN1bHQudmFsdWUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3aGVuKHJlc3VsdC52YWx1ZSwgY2FsbGJhY2ssIGVycmJhY2spO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gU3BpZGVyTW9ua2V5IEdlbmVyYXRvcnNcbiAgICAgICAgICAgICAgICAvLyBGSVhNRTogUmVtb3ZlIHRoaXMgY2FzZSB3aGVuIFNNIGRvZXMgRVM2IGdlbmVyYXRvcnMuXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gZ2VuZXJhdG9yW3ZlcmJdKGFyZyk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXhjZXB0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc1N0b3BJdGVyYXRpb24oZXhjZXB0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFEoZXhjZXB0aW9uLnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZWplY3QoZXhjZXB0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gd2hlbihyZXN1bHQsIGNhbGxiYWNrLCBlcnJiYWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgZ2VuZXJhdG9yID0gbWFrZUdlbmVyYXRvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB2YXIgY2FsbGJhY2sgPSBjb250aW51ZXIuYmluZChjb250aW51ZXIsIFwibmV4dFwiKTtcbiAgICAgICAgdmFyIGVycmJhY2sgPSBjb250aW51ZXIuYmluZChjb250aW51ZXIsIFwidGhyb3dcIik7XG4gICAgICAgIHJldHVybiBjYWxsYmFjaygpO1xuICAgIH07XG59XG5cbi8qKlxuICogVGhlIHNwYXduIGZ1bmN0aW9uIGlzIGEgc21hbGwgd3JhcHBlciBhcm91bmQgYXN5bmMgdGhhdCBpbW1lZGlhdGVseVxuICogY2FsbHMgdGhlIGdlbmVyYXRvciBhbmQgYWxzbyBlbmRzIHRoZSBwcm9taXNlIGNoYWluLCBzbyB0aGF0IGFueVxuICogdW5oYW5kbGVkIGVycm9ycyBhcmUgdGhyb3duIGluc3RlYWQgb2YgZm9yd2FyZGVkIHRvIHRoZSBlcnJvclxuICogaGFuZGxlci4gVGhpcyBpcyB1c2VmdWwgYmVjYXVzZSBpdCdzIGV4dHJlbWVseSBjb21tb24gdG8gcnVuXG4gKiBnZW5lcmF0b3JzIGF0IHRoZSB0b3AtbGV2ZWwgdG8gd29yayB3aXRoIGxpYnJhcmllcy5cbiAqL1xuUS5zcGF3biA9IHNwYXduO1xuZnVuY3Rpb24gc3Bhd24obWFrZUdlbmVyYXRvcikge1xuICAgIFEuZG9uZShRLmFzeW5jKG1ha2VHZW5lcmF0b3IpKCkpO1xufVxuXG4vLyBGSVhNRTogUmVtb3ZlIHRoaXMgaW50ZXJmYWNlIG9uY2UgRVM2IGdlbmVyYXRvcnMgYXJlIGluIFNwaWRlck1vbmtleS5cbi8qKlxuICogVGhyb3dzIGEgUmV0dXJuVmFsdWUgZXhjZXB0aW9uIHRvIHN0b3AgYW4gYXN5bmNocm9ub3VzIGdlbmVyYXRvci5cbiAqXG4gKiBUaGlzIGludGVyZmFjZSBpcyBhIHN0b3AtZ2FwIG1lYXN1cmUgdG8gc3VwcG9ydCBnZW5lcmF0b3IgcmV0dXJuXG4gKiB2YWx1ZXMgaW4gb2xkZXIgRmlyZWZveC9TcGlkZXJNb25rZXkuICBJbiBicm93c2VycyB0aGF0IHN1cHBvcnQgRVM2XG4gKiBnZW5lcmF0b3JzIGxpa2UgQ2hyb21pdW0gMjksIGp1c3QgdXNlIFwicmV0dXJuXCIgaW4geW91ciBnZW5lcmF0b3JcbiAqIGZ1bmN0aW9ucy5cbiAqXG4gKiBAcGFyYW0gdmFsdWUgdGhlIHJldHVybiB2YWx1ZSBmb3IgdGhlIHN1cnJvdW5kaW5nIGdlbmVyYXRvclxuICogQHRocm93cyBSZXR1cm5WYWx1ZSBleGNlcHRpb24gd2l0aCB0aGUgdmFsdWUuXG4gKiBAZXhhbXBsZVxuICogLy8gRVM2IHN0eWxlXG4gKiBRLmFzeW5jKGZ1bmN0aW9uKiAoKSB7XG4gKiAgICAgIHZhciBmb28gPSB5aWVsZCBnZXRGb29Qcm9taXNlKCk7XG4gKiAgICAgIHZhciBiYXIgPSB5aWVsZCBnZXRCYXJQcm9taXNlKCk7XG4gKiAgICAgIHJldHVybiBmb28gKyBiYXI7XG4gKiB9KVxuICogLy8gT2xkZXIgU3BpZGVyTW9ua2V5IHN0eWxlXG4gKiBRLmFzeW5jKGZ1bmN0aW9uICgpIHtcbiAqICAgICAgdmFyIGZvbyA9IHlpZWxkIGdldEZvb1Byb21pc2UoKTtcbiAqICAgICAgdmFyIGJhciA9IHlpZWxkIGdldEJhclByb21pc2UoKTtcbiAqICAgICAgUS5yZXR1cm4oZm9vICsgYmFyKTtcbiAqIH0pXG4gKi9cblFbXCJyZXR1cm5cIl0gPSBfcmV0dXJuO1xuZnVuY3Rpb24gX3JldHVybih2YWx1ZSkge1xuICAgIHRocm93IG5ldyBRUmV0dXJuVmFsdWUodmFsdWUpO1xufVxuXG4vKipcbiAqIFRoZSBwcm9taXNlZCBmdW5jdGlvbiBkZWNvcmF0b3IgZW5zdXJlcyB0aGF0IGFueSBwcm9taXNlIGFyZ3VtZW50c1xuICogYXJlIHNldHRsZWQgYW5kIHBhc3NlZCBhcyB2YWx1ZXMgKGB0aGlzYCBpcyBhbHNvIHNldHRsZWQgYW5kIHBhc3NlZFxuICogYXMgYSB2YWx1ZSkuICBJdCB3aWxsIGFsc28gZW5zdXJlIHRoYXQgdGhlIHJlc3VsdCBvZiBhIGZ1bmN0aW9uIGlzXG4gKiBhbHdheXMgYSBwcm9taXNlLlxuICpcbiAqIEBleGFtcGxlXG4gKiB2YXIgYWRkID0gUS5wcm9taXNlZChmdW5jdGlvbiAoYSwgYikge1xuICogICAgIHJldHVybiBhICsgYjtcbiAqIH0pO1xuICogYWRkKFEoYSksIFEoQikpO1xuICpcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrIFRoZSBmdW5jdGlvbiB0byBkZWNvcmF0ZVxuICogQHJldHVybnMge2Z1bmN0aW9ufSBhIGZ1bmN0aW9uIHRoYXQgaGFzIGJlZW4gZGVjb3JhdGVkLlxuICovXG5RLnByb21pc2VkID0gcHJvbWlzZWQ7XG5mdW5jdGlvbiBwcm9taXNlZChjYWxsYmFjaykge1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBzcHJlYWQoW3RoaXMsIGFsbChhcmd1bWVudHMpXSwgZnVuY3Rpb24gKHNlbGYsIGFyZ3MpIHtcbiAgICAgICAgICAgIHJldHVybiBjYWxsYmFjay5hcHBseShzZWxmLCBhcmdzKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbn1cblxuLyoqXG4gKiBzZW5kcyBhIG1lc3NhZ2UgdG8gYSB2YWx1ZSBpbiBhIGZ1dHVyZSB0dXJuXG4gKiBAcGFyYW0gb2JqZWN0KiB0aGUgcmVjaXBpZW50XG4gKiBAcGFyYW0gb3AgdGhlIG5hbWUgb2YgdGhlIG1lc3NhZ2Ugb3BlcmF0aW9uLCBlLmcuLCBcIndoZW5cIixcbiAqIEBwYXJhbSBhcmdzIGZ1cnRoZXIgYXJndW1lbnRzIHRvIGJlIGZvcndhcmRlZCB0byB0aGUgb3BlcmF0aW9uXG4gKiBAcmV0dXJucyByZXN1bHQge1Byb21pc2V9IGEgcHJvbWlzZSBmb3IgdGhlIHJlc3VsdCBvZiB0aGUgb3BlcmF0aW9uXG4gKi9cblEuZGlzcGF0Y2ggPSBkaXNwYXRjaDtcbmZ1bmN0aW9uIGRpc3BhdGNoKG9iamVjdCwgb3AsIGFyZ3MpIHtcbiAgICByZXR1cm4gUShvYmplY3QpLmRpc3BhdGNoKG9wLCBhcmdzKTtcbn1cblxuUHJvbWlzZS5wcm90b3R5cGUuZGlzcGF0Y2ggPSBmdW5jdGlvbiAob3AsIGFyZ3MpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIGRlZmVycmVkID0gZGVmZXIoKTtcbiAgICBRLm5leHRUaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc2VsZi5wcm9taXNlRGlzcGF0Y2goZGVmZXJyZWQucmVzb2x2ZSwgb3AsIGFyZ3MpO1xuICAgIH0pO1xuICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xufTtcblxuLyoqXG4gKiBHZXRzIHRoZSB2YWx1ZSBvZiBhIHByb3BlcnR5IGluIGEgZnV0dXJlIHR1cm4uXG4gKiBAcGFyYW0gb2JqZWN0ICAgIHByb21pc2Ugb3IgaW1tZWRpYXRlIHJlZmVyZW5jZSBmb3IgdGFyZ2V0IG9iamVjdFxuICogQHBhcmFtIG5hbWUgICAgICBuYW1lIG9mIHByb3BlcnR5IHRvIGdldFxuICogQHJldHVybiBwcm9taXNlIGZvciB0aGUgcHJvcGVydHkgdmFsdWVcbiAqL1xuUS5nZXQgPSBmdW5jdGlvbiAob2JqZWN0LCBrZXkpIHtcbiAgICByZXR1cm4gUShvYmplY3QpLmRpc3BhdGNoKFwiZ2V0XCIsIFtrZXldKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICByZXR1cm4gdGhpcy5kaXNwYXRjaChcImdldFwiLCBba2V5XSk7XG59O1xuXG4vKipcbiAqIFNldHMgdGhlIHZhbHVlIG9mIGEgcHJvcGVydHkgaW4gYSBmdXR1cmUgdHVybi5cbiAqIEBwYXJhbSBvYmplY3QgICAgcHJvbWlzZSBvciBpbW1lZGlhdGUgcmVmZXJlbmNlIGZvciBvYmplY3Qgb2JqZWN0XG4gKiBAcGFyYW0gbmFtZSAgICAgIG5hbWUgb2YgcHJvcGVydHkgdG8gc2V0XG4gKiBAcGFyYW0gdmFsdWUgICAgIG5ldyB2YWx1ZSBvZiBwcm9wZXJ0eVxuICogQHJldHVybiBwcm9taXNlIGZvciB0aGUgcmV0dXJuIHZhbHVlXG4gKi9cblEuc2V0ID0gZnVuY3Rpb24gKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICAgIHJldHVybiBRKG9iamVjdCkuZGlzcGF0Y2goXCJzZXRcIiwgW2tleSwgdmFsdWVdKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMuZGlzcGF0Y2goXCJzZXRcIiwgW2tleSwgdmFsdWVdKTtcbn07XG5cbi8qKlxuICogRGVsZXRlcyBhIHByb3BlcnR5IGluIGEgZnV0dXJlIHR1cm4uXG4gKiBAcGFyYW0gb2JqZWN0ICAgIHByb21pc2Ugb3IgaW1tZWRpYXRlIHJlZmVyZW5jZSBmb3IgdGFyZ2V0IG9iamVjdFxuICogQHBhcmFtIG5hbWUgICAgICBuYW1lIG9mIHByb3BlcnR5IHRvIGRlbGV0ZVxuICogQHJldHVybiBwcm9taXNlIGZvciB0aGUgcmV0dXJuIHZhbHVlXG4gKi9cblEuZGVsID0gLy8gWFhYIGxlZ2FjeVxuUVtcImRlbGV0ZVwiXSA9IGZ1bmN0aW9uIChvYmplY3QsIGtleSkge1xuICAgIHJldHVybiBRKG9iamVjdCkuZGlzcGF0Y2goXCJkZWxldGVcIiwgW2tleV0pO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuZGVsID0gLy8gWFhYIGxlZ2FjeVxuUHJvbWlzZS5wcm90b3R5cGVbXCJkZWxldGVcIl0gPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgcmV0dXJuIHRoaXMuZGlzcGF0Y2goXCJkZWxldGVcIiwgW2tleV0pO1xufTtcblxuLyoqXG4gKiBJbnZva2VzIGEgbWV0aG9kIGluIGEgZnV0dXJlIHR1cm4uXG4gKiBAcGFyYW0gb2JqZWN0ICAgIHByb21pc2Ugb3IgaW1tZWRpYXRlIHJlZmVyZW5jZSBmb3IgdGFyZ2V0IG9iamVjdFxuICogQHBhcmFtIG5hbWUgICAgICBuYW1lIG9mIG1ldGhvZCB0byBpbnZva2VcbiAqIEBwYXJhbSB2YWx1ZSAgICAgYSB2YWx1ZSB0byBwb3N0LCB0eXBpY2FsbHkgYW4gYXJyYXkgb2ZcbiAqICAgICAgICAgICAgICAgICAgaW52b2NhdGlvbiBhcmd1bWVudHMgZm9yIHByb21pc2VzIHRoYXRcbiAqICAgICAgICAgICAgICAgICAgYXJlIHVsdGltYXRlbHkgYmFja2VkIHdpdGggYHJlc29sdmVgIHZhbHVlcyxcbiAqICAgICAgICAgICAgICAgICAgYXMgb3Bwb3NlZCB0byB0aG9zZSBiYWNrZWQgd2l0aCBVUkxzXG4gKiAgICAgICAgICAgICAgICAgIHdoZXJlaW4gdGhlIHBvc3RlZCB2YWx1ZSBjYW4gYmUgYW55XG4gKiAgICAgICAgICAgICAgICAgIEpTT04gc2VyaWFsaXphYmxlIG9iamVjdC5cbiAqIEByZXR1cm4gcHJvbWlzZSBmb3IgdGhlIHJldHVybiB2YWx1ZVxuICovXG4vLyBib3VuZCBsb2NhbGx5IGJlY2F1c2UgaXQgaXMgdXNlZCBieSBvdGhlciBtZXRob2RzXG5RLm1hcHBseSA9IC8vIFhYWCBBcyBwcm9wb3NlZCBieSBcIlJlZHNhbmRyb1wiXG5RLnBvc3QgPSBmdW5jdGlvbiAob2JqZWN0LCBuYW1lLCBhcmdzKSB7XG4gICAgcmV0dXJuIFEob2JqZWN0KS5kaXNwYXRjaChcInBvc3RcIiwgW25hbWUsIGFyZ3NdKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLm1hcHBseSA9IC8vIFhYWCBBcyBwcm9wb3NlZCBieSBcIlJlZHNhbmRyb1wiXG5Qcm9taXNlLnByb3RvdHlwZS5wb3N0ID0gZnVuY3Rpb24gKG5hbWUsIGFyZ3MpIHtcbiAgICByZXR1cm4gdGhpcy5kaXNwYXRjaChcInBvc3RcIiwgW25hbWUsIGFyZ3NdKTtcbn07XG5cbi8qKlxuICogSW52b2tlcyBhIG1ldGhvZCBpbiBhIGZ1dHVyZSB0dXJuLlxuICogQHBhcmFtIG9iamVjdCAgICBwcm9taXNlIG9yIGltbWVkaWF0ZSByZWZlcmVuY2UgZm9yIHRhcmdldCBvYmplY3RcbiAqIEBwYXJhbSBuYW1lICAgICAgbmFtZSBvZiBtZXRob2QgdG8gaW52b2tlXG4gKiBAcGFyYW0gLi4uYXJncyAgIGFycmF5IG9mIGludm9jYXRpb24gYXJndW1lbnRzXG4gKiBAcmV0dXJuIHByb21pc2UgZm9yIHRoZSByZXR1cm4gdmFsdWVcbiAqL1xuUS5zZW5kID0gLy8gWFhYIE1hcmsgTWlsbGVyJ3MgcHJvcG9zZWQgcGFybGFuY2VcblEubWNhbGwgPSAvLyBYWFggQXMgcHJvcG9zZWQgYnkgXCJSZWRzYW5kcm9cIlxuUS5pbnZva2UgPSBmdW5jdGlvbiAob2JqZWN0LCBuYW1lIC8qLi4uYXJncyovKSB7XG4gICAgcmV0dXJuIFEob2JqZWN0KS5kaXNwYXRjaChcInBvc3RcIiwgW25hbWUsIGFycmF5X3NsaWNlKGFyZ3VtZW50cywgMildKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLnNlbmQgPSAvLyBYWFggTWFyayBNaWxsZXIncyBwcm9wb3NlZCBwYXJsYW5jZVxuUHJvbWlzZS5wcm90b3R5cGUubWNhbGwgPSAvLyBYWFggQXMgcHJvcG9zZWQgYnkgXCJSZWRzYW5kcm9cIlxuUHJvbWlzZS5wcm90b3R5cGUuaW52b2tlID0gZnVuY3Rpb24gKG5hbWUgLyouLi5hcmdzKi8pIHtcbiAgICByZXR1cm4gdGhpcy5kaXNwYXRjaChcInBvc3RcIiwgW25hbWUsIGFycmF5X3NsaWNlKGFyZ3VtZW50cywgMSldKTtcbn07XG5cbi8qKlxuICogQXBwbGllcyB0aGUgcHJvbWlzZWQgZnVuY3Rpb24gaW4gYSBmdXR1cmUgdHVybi5cbiAqIEBwYXJhbSBvYmplY3QgICAgcHJvbWlzZSBvciBpbW1lZGlhdGUgcmVmZXJlbmNlIGZvciB0YXJnZXQgZnVuY3Rpb25cbiAqIEBwYXJhbSBhcmdzICAgICAgYXJyYXkgb2YgYXBwbGljYXRpb24gYXJndW1lbnRzXG4gKi9cblEuZmFwcGx5ID0gZnVuY3Rpb24gKG9iamVjdCwgYXJncykge1xuICAgIHJldHVybiBRKG9iamVjdCkuZGlzcGF0Y2goXCJhcHBseVwiLCBbdm9pZCAwLCBhcmdzXSk7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5mYXBwbHkgPSBmdW5jdGlvbiAoYXJncykge1xuICAgIHJldHVybiB0aGlzLmRpc3BhdGNoKFwiYXBwbHlcIiwgW3ZvaWQgMCwgYXJnc10pO1xufTtcblxuLyoqXG4gKiBDYWxscyB0aGUgcHJvbWlzZWQgZnVuY3Rpb24gaW4gYSBmdXR1cmUgdHVybi5cbiAqIEBwYXJhbSBvYmplY3QgICAgcHJvbWlzZSBvciBpbW1lZGlhdGUgcmVmZXJlbmNlIGZvciB0YXJnZXQgZnVuY3Rpb25cbiAqIEBwYXJhbSAuLi5hcmdzICAgYXJyYXkgb2YgYXBwbGljYXRpb24gYXJndW1lbnRzXG4gKi9cblFbXCJ0cnlcIl0gPVxuUS5mY2FsbCA9IGZ1bmN0aW9uIChvYmplY3QgLyogLi4uYXJncyovKSB7XG4gICAgcmV0dXJuIFEob2JqZWN0KS5kaXNwYXRjaChcImFwcGx5XCIsIFt2b2lkIDAsIGFycmF5X3NsaWNlKGFyZ3VtZW50cywgMSldKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLmZjYWxsID0gZnVuY3Rpb24gKC8qLi4uYXJncyovKSB7XG4gICAgcmV0dXJuIHRoaXMuZGlzcGF0Y2goXCJhcHBseVwiLCBbdm9pZCAwLCBhcnJheV9zbGljZShhcmd1bWVudHMpXSk7XG59O1xuXG4vKipcbiAqIEJpbmRzIHRoZSBwcm9taXNlZCBmdW5jdGlvbiwgdHJhbnNmb3JtaW5nIHJldHVybiB2YWx1ZXMgaW50byBhIGZ1bGZpbGxlZFxuICogcHJvbWlzZSBhbmQgdGhyb3duIGVycm9ycyBpbnRvIGEgcmVqZWN0ZWQgb25lLlxuICogQHBhcmFtIG9iamVjdCAgICBwcm9taXNlIG9yIGltbWVkaWF0ZSByZWZlcmVuY2UgZm9yIHRhcmdldCBmdW5jdGlvblxuICogQHBhcmFtIC4uLmFyZ3MgICBhcnJheSBvZiBhcHBsaWNhdGlvbiBhcmd1bWVudHNcbiAqL1xuUS5mYmluZCA9IGZ1bmN0aW9uIChvYmplY3QgLyouLi5hcmdzKi8pIHtcbiAgICB2YXIgcHJvbWlzZSA9IFEob2JqZWN0KTtcbiAgICB2YXIgYXJncyA9IGFycmF5X3NsaWNlKGFyZ3VtZW50cywgMSk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGZib3VuZCgpIHtcbiAgICAgICAgcmV0dXJuIHByb21pc2UuZGlzcGF0Y2goXCJhcHBseVwiLCBbXG4gICAgICAgICAgICB0aGlzLFxuICAgICAgICAgICAgYXJncy5jb25jYXQoYXJyYXlfc2xpY2UoYXJndW1lbnRzKSlcbiAgICAgICAgXSk7XG4gICAgfTtcbn07XG5Qcm9taXNlLnByb3RvdHlwZS5mYmluZCA9IGZ1bmN0aW9uICgvKi4uLmFyZ3MqLykge1xuICAgIHZhciBwcm9taXNlID0gdGhpcztcbiAgICB2YXIgYXJncyA9IGFycmF5X3NsaWNlKGFyZ3VtZW50cyk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGZib3VuZCgpIHtcbiAgICAgICAgcmV0dXJuIHByb21pc2UuZGlzcGF0Y2goXCJhcHBseVwiLCBbXG4gICAgICAgICAgICB0aGlzLFxuICAgICAgICAgICAgYXJncy5jb25jYXQoYXJyYXlfc2xpY2UoYXJndW1lbnRzKSlcbiAgICAgICAgXSk7XG4gICAgfTtcbn07XG5cbi8qKlxuICogUmVxdWVzdHMgdGhlIG5hbWVzIG9mIHRoZSBvd25lZCBwcm9wZXJ0aWVzIG9mIGEgcHJvbWlzZWRcbiAqIG9iamVjdCBpbiBhIGZ1dHVyZSB0dXJuLlxuICogQHBhcmFtIG9iamVjdCAgICBwcm9taXNlIG9yIGltbWVkaWF0ZSByZWZlcmVuY2UgZm9yIHRhcmdldCBvYmplY3RcbiAqIEByZXR1cm4gcHJvbWlzZSBmb3IgdGhlIGtleXMgb2YgdGhlIGV2ZW50dWFsbHkgc2V0dGxlZCBvYmplY3RcbiAqL1xuUS5rZXlzID0gZnVuY3Rpb24gKG9iamVjdCkge1xuICAgIHJldHVybiBRKG9iamVjdCkuZGlzcGF0Y2goXCJrZXlzXCIsIFtdKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLmtleXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGlzcGF0Y2goXCJrZXlzXCIsIFtdKTtcbn07XG5cbi8qKlxuICogVHVybnMgYW4gYXJyYXkgb2YgcHJvbWlzZXMgaW50byBhIHByb21pc2UgZm9yIGFuIGFycmF5LiAgSWYgYW55IG9mXG4gKiB0aGUgcHJvbWlzZXMgZ2V0cyByZWplY3RlZCwgdGhlIHdob2xlIGFycmF5IGlzIHJlamVjdGVkIGltbWVkaWF0ZWx5LlxuICogQHBhcmFtIHtBcnJheSp9IGFuIGFycmF5IChvciBwcm9taXNlIGZvciBhbiBhcnJheSkgb2YgdmFsdWVzIChvclxuICogcHJvbWlzZXMgZm9yIHZhbHVlcylcbiAqIEByZXR1cm5zIGEgcHJvbWlzZSBmb3IgYW4gYXJyYXkgb2YgdGhlIGNvcnJlc3BvbmRpbmcgdmFsdWVzXG4gKi9cbi8vIEJ5IE1hcmsgTWlsbGVyXG4vLyBodHRwOi8vd2lraS5lY21hc2NyaXB0Lm9yZy9kb2t1LnBocD9pZD1zdHJhd21hbjpjb25jdXJyZW5jeSZyZXY9MTMwODc3NjUyMSNhbGxmdWxmaWxsZWRcblEuYWxsID0gYWxsO1xuZnVuY3Rpb24gYWxsKHByb21pc2VzKSB7XG4gICAgcmV0dXJuIHdoZW4ocHJvbWlzZXMsIGZ1bmN0aW9uIChwcm9taXNlcykge1xuICAgICAgICB2YXIgcGVuZGluZ0NvdW50ID0gMDtcbiAgICAgICAgdmFyIGRlZmVycmVkID0gZGVmZXIoKTtcbiAgICAgICAgYXJyYXlfcmVkdWNlKHByb21pc2VzLCBmdW5jdGlvbiAodW5kZWZpbmVkLCBwcm9taXNlLCBpbmRleCkge1xuICAgICAgICAgICAgdmFyIHNuYXBzaG90O1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIGlzUHJvbWlzZShwcm9taXNlKSAmJlxuICAgICAgICAgICAgICAgIChzbmFwc2hvdCA9IHByb21pc2UuaW5zcGVjdCgpKS5zdGF0ZSA9PT0gXCJmdWxmaWxsZWRcIlxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgcHJvbWlzZXNbaW5kZXhdID0gc25hcHNob3QudmFsdWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICsrcGVuZGluZ0NvdW50O1xuICAgICAgICAgICAgICAgIHdoZW4oXG4gICAgICAgICAgICAgICAgICAgIHByb21pc2UsXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvbWlzZXNbaW5kZXhdID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoLS1wZW5kaW5nQ291bnQgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHByb21pc2VzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVqZWN0LFxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAocHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLm5vdGlmeSh7IGluZGV4OiBpbmRleCwgdmFsdWU6IHByb2dyZXNzIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgdm9pZCAwKTtcbiAgICAgICAgaWYgKHBlbmRpbmdDb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShwcm9taXNlcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgfSk7XG59XG5cblByb21pc2UucHJvdG90eXBlLmFsbCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gYWxsKHRoaXMpO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBmaXJzdCByZXNvbHZlZCBwcm9taXNlIG9mIGFuIGFycmF5LiBQcmlvciByZWplY3RlZCBwcm9taXNlcyBhcmVcbiAqIGlnbm9yZWQuICBSZWplY3RzIG9ubHkgaWYgYWxsIHByb21pc2VzIGFyZSByZWplY3RlZC5cbiAqIEBwYXJhbSB7QXJyYXkqfSBhbiBhcnJheSBjb250YWluaW5nIHZhbHVlcyBvciBwcm9taXNlcyBmb3IgdmFsdWVzXG4gKiBAcmV0dXJucyBhIHByb21pc2UgZnVsZmlsbGVkIHdpdGggdGhlIHZhbHVlIG9mIHRoZSBmaXJzdCByZXNvbHZlZCBwcm9taXNlLFxuICogb3IgYSByZWplY3RlZCBwcm9taXNlIGlmIGFsbCBwcm9taXNlcyBhcmUgcmVqZWN0ZWQuXG4gKi9cblEuYW55ID0gYW55O1xuXG5mdW5jdGlvbiBhbnkocHJvbWlzZXMpIHtcbiAgICBpZiAocHJvbWlzZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBRLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICB2YXIgZGVmZXJyZWQgPSBRLmRlZmVyKCk7XG4gICAgdmFyIHBlbmRpbmdDb3VudCA9IDA7XG4gICAgYXJyYXlfcmVkdWNlKHByb21pc2VzLCBmdW5jdGlvbiAocHJldiwgY3VycmVudCwgaW5kZXgpIHtcbiAgICAgICAgdmFyIHByb21pc2UgPSBwcm9taXNlc1tpbmRleF07XG5cbiAgICAgICAgcGVuZGluZ0NvdW50Kys7XG5cbiAgICAgICAgd2hlbihwcm9taXNlLCBvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCwgb25Qcm9ncmVzcyk7XG4gICAgICAgIGZ1bmN0aW9uIG9uRnVsZmlsbGVkKHJlc3VsdCkge1xuICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIG9uUmVqZWN0ZWQoZXJyKSB7XG4gICAgICAgICAgICBwZW5kaW5nQ291bnQtLTtcbiAgICAgICAgICAgIGlmIChwZW5kaW5nQ291bnQgPT09IDApIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVqZWN0aW9uID0gZXJyIHx8IG5ldyBFcnJvcihcIlwiICsgZXJyKTtcblxuICAgICAgICAgICAgICAgIHJlamVjdGlvbi5tZXNzYWdlID0gKFwiUSBjYW4ndCBnZXQgZnVsZmlsbG1lbnQgdmFsdWUgZnJvbSBhbnkgcHJvbWlzZSwgYWxsIFwiICtcbiAgICAgICAgICAgICAgICAgICAgXCJwcm9taXNlcyB3ZXJlIHJlamVjdGVkLiBMYXN0IGVycm9yIG1lc3NhZ2U6IFwiICsgcmVqZWN0aW9uLm1lc3NhZ2UpO1xuXG4gICAgICAgICAgICAgICAgZGVmZXJyZWQucmVqZWN0KHJlamVjdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gb25Qcm9ncmVzcyhwcm9ncmVzcykge1xuICAgICAgICAgICAgZGVmZXJyZWQubm90aWZ5KHtcbiAgICAgICAgICAgICAgICBpbmRleDogaW5kZXgsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHByb2dyZXNzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0sIHVuZGVmaW5lZCk7XG5cbiAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbn1cblxuUHJvbWlzZS5wcm90b3R5cGUuYW55ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBhbnkodGhpcyk7XG59O1xuXG4vKipcbiAqIFdhaXRzIGZvciBhbGwgcHJvbWlzZXMgdG8gYmUgc2V0dGxlZCwgZWl0aGVyIGZ1bGZpbGxlZCBvclxuICogcmVqZWN0ZWQuICBUaGlzIGlzIGRpc3RpbmN0IGZyb20gYGFsbGAgc2luY2UgdGhhdCB3b3VsZCBzdG9wXG4gKiB3YWl0aW5nIGF0IHRoZSBmaXJzdCByZWplY3Rpb24uICBUaGUgcHJvbWlzZSByZXR1cm5lZCBieVxuICogYGFsbFJlc29sdmVkYCB3aWxsIG5ldmVyIGJlIHJlamVjdGVkLlxuICogQHBhcmFtIHByb21pc2VzIGEgcHJvbWlzZSBmb3IgYW4gYXJyYXkgKG9yIGFuIGFycmF5KSBvZiBwcm9taXNlc1xuICogKG9yIHZhbHVlcylcbiAqIEByZXR1cm4gYSBwcm9taXNlIGZvciBhbiBhcnJheSBvZiBwcm9taXNlc1xuICovXG5RLmFsbFJlc29sdmVkID0gZGVwcmVjYXRlKGFsbFJlc29sdmVkLCBcImFsbFJlc29sdmVkXCIsIFwiYWxsU2V0dGxlZFwiKTtcbmZ1bmN0aW9uIGFsbFJlc29sdmVkKHByb21pc2VzKSB7XG4gICAgcmV0dXJuIHdoZW4ocHJvbWlzZXMsIGZ1bmN0aW9uIChwcm9taXNlcykge1xuICAgICAgICBwcm9taXNlcyA9IGFycmF5X21hcChwcm9taXNlcywgUSk7XG4gICAgICAgIHJldHVybiB3aGVuKGFsbChhcnJheV9tYXAocHJvbWlzZXMsIGZ1bmN0aW9uIChwcm9taXNlKSB7XG4gICAgICAgICAgICByZXR1cm4gd2hlbihwcm9taXNlLCBub29wLCBub29wKTtcbiAgICAgICAgfSkpLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvbWlzZXM7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuXG5Qcm9taXNlLnByb3RvdHlwZS5hbGxSZXNvbHZlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gYWxsUmVzb2x2ZWQodGhpcyk7XG59O1xuXG4vKipcbiAqIEBzZWUgUHJvbWlzZSNhbGxTZXR0bGVkXG4gKi9cblEuYWxsU2V0dGxlZCA9IGFsbFNldHRsZWQ7XG5mdW5jdGlvbiBhbGxTZXR0bGVkKHByb21pc2VzKSB7XG4gICAgcmV0dXJuIFEocHJvbWlzZXMpLmFsbFNldHRsZWQoKTtcbn1cblxuLyoqXG4gKiBUdXJucyBhbiBhcnJheSBvZiBwcm9taXNlcyBpbnRvIGEgcHJvbWlzZSBmb3IgYW4gYXJyYXkgb2YgdGhlaXIgc3RhdGVzIChhc1xuICogcmV0dXJuZWQgYnkgYGluc3BlY3RgKSB3aGVuIHRoZXkgaGF2ZSBhbGwgc2V0dGxlZC5cbiAqIEBwYXJhbSB7QXJyYXlbQW55Kl19IHZhbHVlcyBhbiBhcnJheSAob3IgcHJvbWlzZSBmb3IgYW4gYXJyYXkpIG9mIHZhbHVlcyAob3JcbiAqIHByb21pc2VzIGZvciB2YWx1ZXMpXG4gKiBAcmV0dXJucyB7QXJyYXlbU3RhdGVdfSBhbiBhcnJheSBvZiBzdGF0ZXMgZm9yIHRoZSByZXNwZWN0aXZlIHZhbHVlcy5cbiAqL1xuUHJvbWlzZS5wcm90b3R5cGUuYWxsU2V0dGxlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy50aGVuKGZ1bmN0aW9uIChwcm9taXNlcykge1xuICAgICAgICByZXR1cm4gYWxsKGFycmF5X21hcChwcm9taXNlcywgZnVuY3Rpb24gKHByb21pc2UpIHtcbiAgICAgICAgICAgIHByb21pc2UgPSBRKHByb21pc2UpO1xuICAgICAgICAgICAgZnVuY3Rpb24gcmVnYXJkbGVzcygpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJvbWlzZS5pbnNwZWN0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcHJvbWlzZS50aGVuKHJlZ2FyZGxlc3MsIHJlZ2FyZGxlc3MpO1xuICAgICAgICB9KSk7XG4gICAgfSk7XG59O1xuXG4vKipcbiAqIENhcHR1cmVzIHRoZSBmYWlsdXJlIG9mIGEgcHJvbWlzZSwgZ2l2aW5nIGFuIG9wb3J0dW5pdHkgdG8gcmVjb3ZlclxuICogd2l0aCBhIGNhbGxiYWNrLiAgSWYgdGhlIGdpdmVuIHByb21pc2UgaXMgZnVsZmlsbGVkLCB0aGUgcmV0dXJuZWRcbiAqIHByb21pc2UgaXMgZnVsZmlsbGVkLlxuICogQHBhcmFtIHtBbnkqfSBwcm9taXNlIGZvciBzb21ldGhpbmdcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIHRvIGZ1bGZpbGwgdGhlIHJldHVybmVkIHByb21pc2UgaWYgdGhlXG4gKiBnaXZlbiBwcm9taXNlIGlzIHJlamVjdGVkXG4gKiBAcmV0dXJucyBhIHByb21pc2UgZm9yIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIGNhbGxiYWNrXG4gKi9cblEuZmFpbCA9IC8vIFhYWCBsZWdhY3lcblFbXCJjYXRjaFwiXSA9IGZ1bmN0aW9uIChvYmplY3QsIHJlamVjdGVkKSB7XG4gICAgcmV0dXJuIFEob2JqZWN0KS50aGVuKHZvaWQgMCwgcmVqZWN0ZWQpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuZmFpbCA9IC8vIFhYWCBsZWdhY3lcblByb21pc2UucHJvdG90eXBlW1wiY2F0Y2hcIl0gPSBmdW5jdGlvbiAocmVqZWN0ZWQpIHtcbiAgICByZXR1cm4gdGhpcy50aGVuKHZvaWQgMCwgcmVqZWN0ZWQpO1xufTtcblxuLyoqXG4gKiBBdHRhY2hlcyBhIGxpc3RlbmVyIHRoYXQgY2FuIHJlc3BvbmQgdG8gcHJvZ3Jlc3Mgbm90aWZpY2F0aW9ucyBmcm9tIGFcbiAqIHByb21pc2UncyBvcmlnaW5hdGluZyBkZWZlcnJlZC4gVGhpcyBsaXN0ZW5lciByZWNlaXZlcyB0aGUgZXhhY3QgYXJndW1lbnRzXG4gKiBwYXNzZWQgdG8gYGBkZWZlcnJlZC5ub3RpZnlgYC5cbiAqIEBwYXJhbSB7QW55Kn0gcHJvbWlzZSBmb3Igc29tZXRoaW5nXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayB0byByZWNlaXZlIGFueSBwcm9ncmVzcyBub3RpZmljYXRpb25zXG4gKiBAcmV0dXJucyB0aGUgZ2l2ZW4gcHJvbWlzZSwgdW5jaGFuZ2VkXG4gKi9cblEucHJvZ3Jlc3MgPSBwcm9ncmVzcztcbmZ1bmN0aW9uIHByb2dyZXNzKG9iamVjdCwgcHJvZ3Jlc3NlZCkge1xuICAgIHJldHVybiBRKG9iamVjdCkudGhlbih2b2lkIDAsIHZvaWQgMCwgcHJvZ3Jlc3NlZCk7XG59XG5cblByb21pc2UucHJvdG90eXBlLnByb2dyZXNzID0gZnVuY3Rpb24gKHByb2dyZXNzZWQpIHtcbiAgICByZXR1cm4gdGhpcy50aGVuKHZvaWQgMCwgdm9pZCAwLCBwcm9ncmVzc2VkKTtcbn07XG5cbi8qKlxuICogUHJvdmlkZXMgYW4gb3Bwb3J0dW5pdHkgdG8gb2JzZXJ2ZSB0aGUgc2V0dGxpbmcgb2YgYSBwcm9taXNlLFxuICogcmVnYXJkbGVzcyBvZiB3aGV0aGVyIHRoZSBwcm9taXNlIGlzIGZ1bGZpbGxlZCBvciByZWplY3RlZC4gIEZvcndhcmRzXG4gKiB0aGUgcmVzb2x1dGlvbiB0byB0aGUgcmV0dXJuZWQgcHJvbWlzZSB3aGVuIHRoZSBjYWxsYmFjayBpcyBkb25lLlxuICogVGhlIGNhbGxiYWNrIGNhbiByZXR1cm4gYSBwcm9taXNlIHRvIGRlZmVyIGNvbXBsZXRpb24uXG4gKiBAcGFyYW0ge0FueSp9IHByb21pc2VcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIHRvIG9ic2VydmUgdGhlIHJlc29sdXRpb24gb2YgdGhlIGdpdmVuXG4gKiBwcm9taXNlLCB0YWtlcyBubyBhcmd1bWVudHMuXG4gKiBAcmV0dXJucyBhIHByb21pc2UgZm9yIHRoZSByZXNvbHV0aW9uIG9mIHRoZSBnaXZlbiBwcm9taXNlIHdoZW5cbiAqIGBgZmluYGAgaXMgZG9uZS5cbiAqL1xuUS5maW4gPSAvLyBYWFggbGVnYWN5XG5RW1wiZmluYWxseVwiXSA9IGZ1bmN0aW9uIChvYmplY3QsIGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIFEob2JqZWN0KVtcImZpbmFsbHlcIl0oY2FsbGJhY2spO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuZmluID0gLy8gWFhYIGxlZ2FjeVxuUHJvbWlzZS5wcm90b3R5cGVbXCJmaW5hbGx5XCJdID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgaWYgKCFjYWxsYmFjayB8fCB0eXBlb2YgY2FsbGJhY2suYXBwbHkgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJRIGNhbid0IGFwcGx5IGZpbmFsbHkgY2FsbGJhY2tcIik7XG4gICAgfVxuICAgIGNhbGxiYWNrID0gUShjYWxsYmFjayk7XG4gICAgcmV0dXJuIHRoaXMudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrLmZjYWxsKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgICAgLy8gVE9ETyBhdHRlbXB0IHRvIHJlY3ljbGUgdGhlIHJlamVjdGlvbiB3aXRoIFwidGhpc1wiLlxuICAgICAgICByZXR1cm4gY2FsbGJhY2suZmNhbGwoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRocm93IHJlYXNvbjtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59O1xuXG4vKipcbiAqIFRlcm1pbmF0ZXMgYSBjaGFpbiBvZiBwcm9taXNlcywgZm9yY2luZyByZWplY3Rpb25zIHRvIGJlXG4gKiB0aHJvd24gYXMgZXhjZXB0aW9ucy5cbiAqIEBwYXJhbSB7QW55Kn0gcHJvbWlzZSBhdCB0aGUgZW5kIG9mIGEgY2hhaW4gb2YgcHJvbWlzZXNcbiAqIEByZXR1cm5zIG5vdGhpbmdcbiAqL1xuUS5kb25lID0gZnVuY3Rpb24gKG9iamVjdCwgZnVsZmlsbGVkLCByZWplY3RlZCwgcHJvZ3Jlc3MpIHtcbiAgICByZXR1cm4gUShvYmplY3QpLmRvbmUoZnVsZmlsbGVkLCByZWplY3RlZCwgcHJvZ3Jlc3MpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuZG9uZSA9IGZ1bmN0aW9uIChmdWxmaWxsZWQsIHJlamVjdGVkLCBwcm9ncmVzcykge1xuICAgIHZhciBvblVuaGFuZGxlZEVycm9yID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgIC8vIGZvcndhcmQgdG8gYSBmdXR1cmUgdHVybiBzbyB0aGF0IGBgd2hlbmBgXG4gICAgICAgIC8vIGRvZXMgbm90IGNhdGNoIGl0IGFuZCB0dXJuIGl0IGludG8gYSByZWplY3Rpb24uXG4gICAgICAgIFEubmV4dFRpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgbWFrZVN0YWNrVHJhY2VMb25nKGVycm9yLCBwcm9taXNlKTtcbiAgICAgICAgICAgIGlmIChRLm9uZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBRLm9uZXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8vIEF2b2lkIHVubmVjZXNzYXJ5IGBuZXh0VGlja2BpbmcgdmlhIGFuIHVubmVjZXNzYXJ5IGB3aGVuYC5cbiAgICB2YXIgcHJvbWlzZSA9IGZ1bGZpbGxlZCB8fCByZWplY3RlZCB8fCBwcm9ncmVzcyA/XG4gICAgICAgIHRoaXMudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkLCBwcm9ncmVzcykgOlxuICAgICAgICB0aGlzO1xuXG4gICAgaWYgKHR5cGVvZiBwcm9jZXNzID09PSBcIm9iamVjdFwiICYmIHByb2Nlc3MgJiYgcHJvY2Vzcy5kb21haW4pIHtcbiAgICAgICAgb25VbmhhbmRsZWRFcnJvciA9IHByb2Nlc3MuZG9tYWluLmJpbmQob25VbmhhbmRsZWRFcnJvcik7XG4gICAgfVxuXG4gICAgcHJvbWlzZS50aGVuKHZvaWQgMCwgb25VbmhhbmRsZWRFcnJvcik7XG59O1xuXG4vKipcbiAqIENhdXNlcyBhIHByb21pc2UgdG8gYmUgcmVqZWN0ZWQgaWYgaXQgZG9lcyBub3QgZ2V0IGZ1bGZpbGxlZCBiZWZvcmVcbiAqIHNvbWUgbWlsbGlzZWNvbmRzIHRpbWUgb3V0LlxuICogQHBhcmFtIHtBbnkqfSBwcm9taXNlXG4gKiBAcGFyYW0ge051bWJlcn0gbWlsbGlzZWNvbmRzIHRpbWVvdXRcbiAqIEBwYXJhbSB7QW55Kn0gY3VzdG9tIGVycm9yIG1lc3NhZ2Ugb3IgRXJyb3Igb2JqZWN0IChvcHRpb25hbClcbiAqIEByZXR1cm5zIGEgcHJvbWlzZSBmb3IgdGhlIHJlc29sdXRpb24gb2YgdGhlIGdpdmVuIHByb21pc2UgaWYgaXQgaXNcbiAqIGZ1bGZpbGxlZCBiZWZvcmUgdGhlIHRpbWVvdXQsIG90aGVyd2lzZSByZWplY3RlZC5cbiAqL1xuUS50aW1lb3V0ID0gZnVuY3Rpb24gKG9iamVjdCwgbXMsIGVycm9yKSB7XG4gICAgcmV0dXJuIFEob2JqZWN0KS50aW1lb3V0KG1zLCBlcnJvcik7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS50aW1lb3V0ID0gZnVuY3Rpb24gKG1zLCBlcnJvcikge1xuICAgIHZhciBkZWZlcnJlZCA9IGRlZmVyKCk7XG4gICAgdmFyIHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIWVycm9yIHx8IFwic3RyaW5nXCIgPT09IHR5cGVvZiBlcnJvcikge1xuICAgICAgICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoZXJyb3IgfHwgXCJUaW1lZCBvdXQgYWZ0ZXIgXCIgKyBtcyArIFwiIG1zXCIpO1xuICAgICAgICAgICAgZXJyb3IuY29kZSA9IFwiRVRJTUVET1VUXCI7XG4gICAgICAgIH1cbiAgICAgICAgZGVmZXJyZWQucmVqZWN0KGVycm9yKTtcbiAgICB9LCBtcyk7XG5cbiAgICB0aGlzLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHZhbHVlKTtcbiAgICB9LCBmdW5jdGlvbiAoZXhjZXB0aW9uKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICAgICAgICBkZWZlcnJlZC5yZWplY3QoZXhjZXB0aW9uKTtcbiAgICB9LCBkZWZlcnJlZC5ub3RpZnkpO1xuXG4gICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG59O1xuXG4vKipcbiAqIFJldHVybnMgYSBwcm9taXNlIGZvciB0aGUgZ2l2ZW4gdmFsdWUgKG9yIHByb21pc2VkIHZhbHVlKSwgc29tZVxuICogbWlsbGlzZWNvbmRzIGFmdGVyIGl0IHJlc29sdmVkLiBQYXNzZXMgcmVqZWN0aW9ucyBpbW1lZGlhdGVseS5cbiAqIEBwYXJhbSB7QW55Kn0gcHJvbWlzZVxuICogQHBhcmFtIHtOdW1iZXJ9IG1pbGxpc2Vjb25kc1xuICogQHJldHVybnMgYSBwcm9taXNlIGZvciB0aGUgcmVzb2x1dGlvbiBvZiB0aGUgZ2l2ZW4gcHJvbWlzZSBhZnRlciBtaWxsaXNlY29uZHNcbiAqIHRpbWUgaGFzIGVsYXBzZWQgc2luY2UgdGhlIHJlc29sdXRpb24gb2YgdGhlIGdpdmVuIHByb21pc2UuXG4gKiBJZiB0aGUgZ2l2ZW4gcHJvbWlzZSByZWplY3RzLCB0aGF0IGlzIHBhc3NlZCBpbW1lZGlhdGVseS5cbiAqL1xuUS5kZWxheSA9IGZ1bmN0aW9uIChvYmplY3QsIHRpbWVvdXQpIHtcbiAgICBpZiAodGltZW91dCA9PT0gdm9pZCAwKSB7XG4gICAgICAgIHRpbWVvdXQgPSBvYmplY3Q7XG4gICAgICAgIG9iamVjdCA9IHZvaWQgMDtcbiAgICB9XG4gICAgcmV0dXJuIFEob2JqZWN0KS5kZWxheSh0aW1lb3V0KTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLmRlbGF5ID0gZnVuY3Rpb24gKHRpbWVvdXQpIHtcbiAgICByZXR1cm4gdGhpcy50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgZGVmZXJyZWQgPSBkZWZlcigpO1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUodmFsdWUpO1xuICAgICAgICB9LCB0aW1lb3V0KTtcbiAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgfSk7XG59O1xuXG4vKipcbiAqIFBhc3NlcyBhIGNvbnRpbnVhdGlvbiB0byBhIE5vZGUgZnVuY3Rpb24sIHdoaWNoIGlzIGNhbGxlZCB3aXRoIHRoZSBnaXZlblxuICogYXJndW1lbnRzIHByb3ZpZGVkIGFzIGFuIGFycmF5LCBhbmQgcmV0dXJucyBhIHByb21pc2UuXG4gKlxuICogICAgICBRLm5mYXBwbHkoRlMucmVhZEZpbGUsIFtfX2ZpbGVuYW1lXSlcbiAqICAgICAgLnRoZW4oZnVuY3Rpb24gKGNvbnRlbnQpIHtcbiAqICAgICAgfSlcbiAqXG4gKi9cblEubmZhcHBseSA9IGZ1bmN0aW9uIChjYWxsYmFjaywgYXJncykge1xuICAgIHJldHVybiBRKGNhbGxiYWNrKS5uZmFwcGx5KGFyZ3MpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUubmZhcHBseSA9IGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgdmFyIGRlZmVycmVkID0gZGVmZXIoKTtcbiAgICB2YXIgbm9kZUFyZ3MgPSBhcnJheV9zbGljZShhcmdzKTtcbiAgICBub2RlQXJncy5wdXNoKGRlZmVycmVkLm1ha2VOb2RlUmVzb2x2ZXIoKSk7XG4gICAgdGhpcy5mYXBwbHkobm9kZUFyZ3MpLmZhaWwoZGVmZXJyZWQucmVqZWN0KTtcbiAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbn07XG5cbi8qKlxuICogUGFzc2VzIGEgY29udGludWF0aW9uIHRvIGEgTm9kZSBmdW5jdGlvbiwgd2hpY2ggaXMgY2FsbGVkIHdpdGggdGhlIGdpdmVuXG4gKiBhcmd1bWVudHMgcHJvdmlkZWQgaW5kaXZpZHVhbGx5LCBhbmQgcmV0dXJucyBhIHByb21pc2UuXG4gKiBAZXhhbXBsZVxuICogUS5uZmNhbGwoRlMucmVhZEZpbGUsIF9fZmlsZW5hbWUpXG4gKiAudGhlbihmdW5jdGlvbiAoY29udGVudCkge1xuICogfSlcbiAqXG4gKi9cblEubmZjYWxsID0gZnVuY3Rpb24gKGNhbGxiYWNrIC8qLi4uYXJncyovKSB7XG4gICAgdmFyIGFyZ3MgPSBhcnJheV9zbGljZShhcmd1bWVudHMsIDEpO1xuICAgIHJldHVybiBRKGNhbGxiYWNrKS5uZmFwcGx5KGFyZ3MpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUubmZjYWxsID0gZnVuY3Rpb24gKC8qLi4uYXJncyovKSB7XG4gICAgdmFyIG5vZGVBcmdzID0gYXJyYXlfc2xpY2UoYXJndW1lbnRzKTtcbiAgICB2YXIgZGVmZXJyZWQgPSBkZWZlcigpO1xuICAgIG5vZGVBcmdzLnB1c2goZGVmZXJyZWQubWFrZU5vZGVSZXNvbHZlcigpKTtcbiAgICB0aGlzLmZhcHBseShub2RlQXJncykuZmFpbChkZWZlcnJlZC5yZWplY3QpO1xuICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xufTtcblxuLyoqXG4gKiBXcmFwcyBhIE5vZGVKUyBjb250aW51YXRpb24gcGFzc2luZyBmdW5jdGlvbiBhbmQgcmV0dXJucyBhbiBlcXVpdmFsZW50XG4gKiB2ZXJzaW9uIHRoYXQgcmV0dXJucyBhIHByb21pc2UuXG4gKiBAZXhhbXBsZVxuICogUS5uZmJpbmQoRlMucmVhZEZpbGUsIF9fZmlsZW5hbWUpKFwidXRmLThcIilcbiAqIC50aGVuKGNvbnNvbGUubG9nKVxuICogLmRvbmUoKVxuICovXG5RLm5mYmluZCA9XG5RLmRlbm9kZWlmeSA9IGZ1bmN0aW9uIChjYWxsYmFjayAvKi4uLmFyZ3MqLykge1xuICAgIGlmIChjYWxsYmFjayA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlEgY2FuJ3Qgd3JhcCBhbiB1bmRlZmluZWQgZnVuY3Rpb25cIik7XG4gICAgfVxuICAgIHZhciBiYXNlQXJncyA9IGFycmF5X3NsaWNlKGFyZ3VtZW50cywgMSk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG5vZGVBcmdzID0gYmFzZUFyZ3MuY29uY2F0KGFycmF5X3NsaWNlKGFyZ3VtZW50cykpO1xuICAgICAgICB2YXIgZGVmZXJyZWQgPSBkZWZlcigpO1xuICAgICAgICBub2RlQXJncy5wdXNoKGRlZmVycmVkLm1ha2VOb2RlUmVzb2x2ZXIoKSk7XG4gICAgICAgIFEoY2FsbGJhY2spLmZhcHBseShub2RlQXJncykuZmFpbChkZWZlcnJlZC5yZWplY3QpO1xuICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICB9O1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUubmZiaW5kID1cblByb21pc2UucHJvdG90eXBlLmRlbm9kZWlmeSA9IGZ1bmN0aW9uICgvKi4uLmFyZ3MqLykge1xuICAgIHZhciBhcmdzID0gYXJyYXlfc2xpY2UoYXJndW1lbnRzKTtcbiAgICBhcmdzLnVuc2hpZnQodGhpcyk7XG4gICAgcmV0dXJuIFEuZGVub2RlaWZ5LmFwcGx5KHZvaWQgMCwgYXJncyk7XG59O1xuXG5RLm5iaW5kID0gZnVuY3Rpb24gKGNhbGxiYWNrLCB0aGlzcCAvKi4uLmFyZ3MqLykge1xuICAgIHZhciBiYXNlQXJncyA9IGFycmF5X3NsaWNlKGFyZ3VtZW50cywgMik7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG5vZGVBcmdzID0gYmFzZUFyZ3MuY29uY2F0KGFycmF5X3NsaWNlKGFyZ3VtZW50cykpO1xuICAgICAgICB2YXIgZGVmZXJyZWQgPSBkZWZlcigpO1xuICAgICAgICBub2RlQXJncy5wdXNoKGRlZmVycmVkLm1ha2VOb2RlUmVzb2x2ZXIoKSk7XG4gICAgICAgIGZ1bmN0aW9uIGJvdW5kKCkge1xuICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrLmFwcGx5KHRoaXNwLCBhcmd1bWVudHMpO1xuICAgICAgICB9XG4gICAgICAgIFEoYm91bmQpLmZhcHBseShub2RlQXJncykuZmFpbChkZWZlcnJlZC5yZWplY3QpO1xuICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICB9O1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUubmJpbmQgPSBmdW5jdGlvbiAoLyp0aGlzcCwgLi4uYXJncyovKSB7XG4gICAgdmFyIGFyZ3MgPSBhcnJheV9zbGljZShhcmd1bWVudHMsIDApO1xuICAgIGFyZ3MudW5zaGlmdCh0aGlzKTtcbiAgICByZXR1cm4gUS5uYmluZC5hcHBseSh2b2lkIDAsIGFyZ3MpO1xufTtcblxuLyoqXG4gKiBDYWxscyBhIG1ldGhvZCBvZiBhIE5vZGUtc3R5bGUgb2JqZWN0IHRoYXQgYWNjZXB0cyBhIE5vZGUtc3R5bGVcbiAqIGNhbGxiYWNrIHdpdGggYSBnaXZlbiBhcnJheSBvZiBhcmd1bWVudHMsIHBsdXMgYSBwcm92aWRlZCBjYWxsYmFjay5cbiAqIEBwYXJhbSBvYmplY3QgYW4gb2JqZWN0IHRoYXQgaGFzIHRoZSBuYW1lZCBtZXRob2RcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIG5hbWUgb2YgdGhlIG1ldGhvZCBvZiBvYmplY3RcbiAqIEBwYXJhbSB7QXJyYXl9IGFyZ3MgYXJndW1lbnRzIHRvIHBhc3MgdG8gdGhlIG1ldGhvZDsgdGhlIGNhbGxiYWNrXG4gKiB3aWxsIGJlIHByb3ZpZGVkIGJ5IFEgYW5kIGFwcGVuZGVkIHRvIHRoZXNlIGFyZ3VtZW50cy5cbiAqIEByZXR1cm5zIGEgcHJvbWlzZSBmb3IgdGhlIHZhbHVlIG9yIGVycm9yXG4gKi9cblEubm1hcHBseSA9IC8vIFhYWCBBcyBwcm9wb3NlZCBieSBcIlJlZHNhbmRyb1wiXG5RLm5wb3N0ID0gZnVuY3Rpb24gKG9iamVjdCwgbmFtZSwgYXJncykge1xuICAgIHJldHVybiBRKG9iamVjdCkubnBvc3QobmFtZSwgYXJncyk7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5ubWFwcGx5ID0gLy8gWFhYIEFzIHByb3Bvc2VkIGJ5IFwiUmVkc2FuZHJvXCJcblByb21pc2UucHJvdG90eXBlLm5wb3N0ID0gZnVuY3Rpb24gKG5hbWUsIGFyZ3MpIHtcbiAgICB2YXIgbm9kZUFyZ3MgPSBhcnJheV9zbGljZShhcmdzIHx8IFtdKTtcbiAgICB2YXIgZGVmZXJyZWQgPSBkZWZlcigpO1xuICAgIG5vZGVBcmdzLnB1c2goZGVmZXJyZWQubWFrZU5vZGVSZXNvbHZlcigpKTtcbiAgICB0aGlzLmRpc3BhdGNoKFwicG9zdFwiLCBbbmFtZSwgbm9kZUFyZ3NdKS5mYWlsKGRlZmVycmVkLnJlamVjdCk7XG4gICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG59O1xuXG4vKipcbiAqIENhbGxzIGEgbWV0aG9kIG9mIGEgTm9kZS1zdHlsZSBvYmplY3QgdGhhdCBhY2NlcHRzIGEgTm9kZS1zdHlsZVxuICogY2FsbGJhY2ssIGZvcndhcmRpbmcgdGhlIGdpdmVuIHZhcmlhZGljIGFyZ3VtZW50cywgcGx1cyBhIHByb3ZpZGVkXG4gKiBjYWxsYmFjayBhcmd1bWVudC5cbiAqIEBwYXJhbSBvYmplY3QgYW4gb2JqZWN0IHRoYXQgaGFzIHRoZSBuYW1lZCBtZXRob2RcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIG5hbWUgb2YgdGhlIG1ldGhvZCBvZiBvYmplY3RcbiAqIEBwYXJhbSAuLi5hcmdzIGFyZ3VtZW50cyB0byBwYXNzIHRvIHRoZSBtZXRob2Q7IHRoZSBjYWxsYmFjayB3aWxsXG4gKiBiZSBwcm92aWRlZCBieSBRIGFuZCBhcHBlbmRlZCB0byB0aGVzZSBhcmd1bWVudHMuXG4gKiBAcmV0dXJucyBhIHByb21pc2UgZm9yIHRoZSB2YWx1ZSBvciBlcnJvclxuICovXG5RLm5zZW5kID0gLy8gWFhYIEJhc2VkIG9uIE1hcmsgTWlsbGVyJ3MgcHJvcG9zZWQgXCJzZW5kXCJcblEubm1jYWxsID0gLy8gWFhYIEJhc2VkIG9uIFwiUmVkc2FuZHJvJ3NcIiBwcm9wb3NhbFxuUS5uaW52b2tlID0gZnVuY3Rpb24gKG9iamVjdCwgbmFtZSAvKi4uLmFyZ3MqLykge1xuICAgIHZhciBub2RlQXJncyA9IGFycmF5X3NsaWNlKGFyZ3VtZW50cywgMik7XG4gICAgdmFyIGRlZmVycmVkID0gZGVmZXIoKTtcbiAgICBub2RlQXJncy5wdXNoKGRlZmVycmVkLm1ha2VOb2RlUmVzb2x2ZXIoKSk7XG4gICAgUShvYmplY3QpLmRpc3BhdGNoKFwicG9zdFwiLCBbbmFtZSwgbm9kZUFyZ3NdKS5mYWlsKGRlZmVycmVkLnJlamVjdCk7XG4gICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5uc2VuZCA9IC8vIFhYWCBCYXNlZCBvbiBNYXJrIE1pbGxlcidzIHByb3Bvc2VkIFwic2VuZFwiXG5Qcm9taXNlLnByb3RvdHlwZS5ubWNhbGwgPSAvLyBYWFggQmFzZWQgb24gXCJSZWRzYW5kcm8nc1wiIHByb3Bvc2FsXG5Qcm9taXNlLnByb3RvdHlwZS5uaW52b2tlID0gZnVuY3Rpb24gKG5hbWUgLyouLi5hcmdzKi8pIHtcbiAgICB2YXIgbm9kZUFyZ3MgPSBhcnJheV9zbGljZShhcmd1bWVudHMsIDEpO1xuICAgIHZhciBkZWZlcnJlZCA9IGRlZmVyKCk7XG4gICAgbm9kZUFyZ3MucHVzaChkZWZlcnJlZC5tYWtlTm9kZVJlc29sdmVyKCkpO1xuICAgIHRoaXMuZGlzcGF0Y2goXCJwb3N0XCIsIFtuYW1lLCBub2RlQXJnc10pLmZhaWwoZGVmZXJyZWQucmVqZWN0KTtcbiAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbn07XG5cbi8qKlxuICogSWYgYSBmdW5jdGlvbiB3b3VsZCBsaWtlIHRvIHN1cHBvcnQgYm90aCBOb2RlIGNvbnRpbnVhdGlvbi1wYXNzaW5nLXN0eWxlIGFuZFxuICogcHJvbWlzZS1yZXR1cm5pbmctc3R5bGUsIGl0IGNhbiBlbmQgaXRzIGludGVybmFsIHByb21pc2UgY2hhaW4gd2l0aFxuICogYG5vZGVpZnkobm9kZWJhY2spYCwgZm9yd2FyZGluZyB0aGUgb3B0aW9uYWwgbm9kZWJhY2sgYXJndW1lbnQuICBJZiB0aGUgdXNlclxuICogZWxlY3RzIHRvIHVzZSBhIG5vZGViYWNrLCB0aGUgcmVzdWx0IHdpbGwgYmUgc2VudCB0aGVyZS4gIElmIHRoZXkgZG8gbm90XG4gKiBwYXNzIGEgbm9kZWJhY2ssIHRoZXkgd2lsbCByZWNlaXZlIHRoZSByZXN1bHQgcHJvbWlzZS5cbiAqIEBwYXJhbSBvYmplY3QgYSByZXN1bHQgKG9yIGEgcHJvbWlzZSBmb3IgYSByZXN1bHQpXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBub2RlYmFjayBhIE5vZGUuanMtc3R5bGUgY2FsbGJhY2tcbiAqIEByZXR1cm5zIGVpdGhlciB0aGUgcHJvbWlzZSBvciBub3RoaW5nXG4gKi9cblEubm9kZWlmeSA9IG5vZGVpZnk7XG5mdW5jdGlvbiBub2RlaWZ5KG9iamVjdCwgbm9kZWJhY2spIHtcbiAgICByZXR1cm4gUShvYmplY3QpLm5vZGVpZnkobm9kZWJhY2spO1xufVxuXG5Qcm9taXNlLnByb3RvdHlwZS5ub2RlaWZ5ID0gZnVuY3Rpb24gKG5vZGViYWNrKSB7XG4gICAgaWYgKG5vZGViYWNrKSB7XG4gICAgICAgIHRoaXMudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIFEubmV4dFRpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIG5vZGViYWNrKG51bGwsIHZhbHVlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgIFEubmV4dFRpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIG5vZGViYWNrKGVycm9yKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59O1xuXG5RLm5vQ29uZmxpY3QgPSBmdW5jdGlvbigpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJRLm5vQ29uZmxpY3Qgb25seSB3b3JrcyB3aGVuIFEgaXMgdXNlZCBhcyBhIGdsb2JhbFwiKTtcbn07XG5cbi8vIEFsbCBjb2RlIGJlZm9yZSB0aGlzIHBvaW50IHdpbGwgYmUgZmlsdGVyZWQgZnJvbSBzdGFjayB0cmFjZXMuXG52YXIgcUVuZGluZ0xpbmUgPSBjYXB0dXJlTGluZSgpO1xuXG5yZXR1cm4gUTtcblxufSk7XG4iLCAiJ3VzZSBzdHJpY3QnXG5cbmNvbnN0IFEgPSByZXF1aXJlKCdxJylcblxubW9kdWxlLmV4cG9ydHMgPSBwcmVzZXRSZXNvbHZlclxuXG5mdW5jdGlvbiBwcmVzZXRSZXNvbHZlciAocHJlc2V0UGFja2FnZSkge1xuICAvLyBzdGFydCB0aGUgY2hhaW4gYXMgYSBRLlByb21pc2VcbiAgcmV0dXJuIFEucmVzb2x2ZSgpLnRoZW4oKCkgPT4ge1xuICAgIC8vIGhhbmRsZSB0cmFkaXRpb25hbCBub2RlLXN0eWxlIGNhbGxiYWNrc1xuICAgIGlmICh0eXBlb2YgcHJlc2V0UGFja2FnZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIFEubmZjYWxsKHByZXNldFBhY2thZ2UpXG4gICAgfVxuXG4gICAgLy8gaGFuZGxlIG9iamVjdCBsaXRlcmFsIG9yIFByb21pc2UgaW5zdGFuY2VcbiAgICBpZiAodHlwZW9mIHByZXNldFBhY2thZ2UgPT09ICdvYmplY3QnKSB7XG4gICAgICByZXR1cm4gUShwcmVzZXRQYWNrYWdlKVxuICAgIH1cblxuICAgIHRocm93IG5ldyBFcnJvcigncHJlc2V0IHBhY2thZ2UgbXVzdCBiZSBhIHByb21pc2UsIGZ1bmN0aW9uLCBvciBvYmplY3QnKVxuICB9KVxufVxuIiwgIid1c2Ugc3RyaWN0J1xuY29uc3QgY29uY2F0ID0gcmVxdWlyZSgnY29uY2F0LXN0cmVhbScpXG5jb25zdCBjb252ZW50aW9uYWxDb21taXRzRmlsdGVyID0gcmVxdWlyZSgnY29udmVudGlvbmFsLWNvbW1pdHMtZmlsdGVyJylcbmNvbnN0IGNvbnZlbnRpb25hbENvbW1pdHNQYXJzZXIgPSByZXF1aXJlKCdjb252ZW50aW9uYWwtY29tbWl0cy1wYXJzZXInKVxuY29uc3QgY29udmVudGlvbmFsQ2hhbmdlbG9nUHJlc2V0TG9hZGVyID0gcmVxdWlyZSgnY29udmVudGlvbmFsLWNoYW5nZWxvZy1wcmVzZXQtbG9hZGVyJylcbmNvbnN0IGdpdFNlbXZlclRhZ3MgPSByZXF1aXJlKCdnaXQtc2VtdmVyLXRhZ3MnKVxuY29uc3QgZ2l0UmF3Q29tbWl0cyA9IHJlcXVpcmUoJ2dpdC1yYXctY29tbWl0cycpXG5jb25zdCBwcmVzZXRSZXNvbHZlciA9IHJlcXVpcmUoJy4vcHJlc2V0LXJlc29sdmVyJylcblxuY29uc3QgVkVSU0lPTlMgPSBbJ21ham9yJywgJ21pbm9yJywgJ3BhdGNoJ11cblxubW9kdWxlLmV4cG9ydHMgPSBjb252ZW50aW9uYWxSZWNvbW1lbmRlZEJ1bXBcblxuZnVuY3Rpb24gY29udmVudGlvbmFsUmVjb21tZW5kZWRCdW1wIChvcHRpb25zQXJndW1lbnQsIHBhcnNlck9wdHNBcmd1bWVudCwgY2JBcmd1bWVudCkge1xuICBpZiAodHlwZW9mIG9wdGlvbnNBcmd1bWVudCAhPT0gJ29iamVjdCcpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBcXCdvcHRpb25zXFwnIGFyZ3VtZW50IG11c3QgYmUgYW4gb2JqZWN0LicpXG4gIH1cblxuICBjb25zdCBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7IGlnbm9yZVJldmVydGVkOiB0cnVlIH0sIG9wdGlvbnNBcmd1bWVudClcblxuICBjb25zdCBjYiA9IHR5cGVvZiBwYXJzZXJPcHRzQXJndW1lbnQgPT09ICdmdW5jdGlvbicgPyBwYXJzZXJPcHRzQXJndW1lbnQgOiBjYkFyZ3VtZW50XG5cbiAgaWYgKHR5cGVvZiBjYiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBFcnJvcignWW91IG11c3QgcHJvdmlkZSBhIGNhbGxiYWNrIGZ1bmN0aW9uLicpXG4gIH1cblxuICBsZXQgcHJlc2V0UGFja2FnZSA9IG9wdGlvbnMuY29uZmlnIHx8IHt9XG4gIGlmIChvcHRpb25zLnByZXNldCkge1xuICAgIHRyeSB7XG4gICAgICBwcmVzZXRQYWNrYWdlID0gY29udmVudGlvbmFsQ2hhbmdlbG9nUHJlc2V0TG9hZGVyKG9wdGlvbnMucHJlc2V0KVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgaWYgKGVyci5tZXNzYWdlID09PSAnZG9lcyBub3QgZXhpc3QnKSB7XG4gICAgICAgIGNvbnN0IHByZXNldCA9IHR5cGVvZiBvcHRpb25zLnByZXNldCA9PT0gJ29iamVjdCcgPyBvcHRpb25zLnByZXNldC5uYW1lIDogb3B0aW9ucy5wcmVzZXRcbiAgICAgICAgcmV0dXJuIGNiKG5ldyBFcnJvcihgVW5hYmxlIHRvIGxvYWQgdGhlIFwiJHtwcmVzZXR9XCIgcHJlc2V0IHBhY2thZ2UuIFBsZWFzZSBtYWtlIHN1cmUgaXQncyBpbnN0YWxsZWQuYCkpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gY2IoZXJyKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByZXNldFJlc29sdmVyKHByZXNldFBhY2thZ2UpLnRoZW4oY29uZmlnID0+IHtcbiAgICBjb25zdCB3aGF0QnVtcCA9IG9wdGlvbnMud2hhdEJ1bXAgfHxcbiAgICAgICgoY29uZmlnLnJlY29tbWVuZGVkQnVtcE9wdHMgJiYgY29uZmlnLnJlY29tbWVuZGVkQnVtcE9wdHMud2hhdEJ1bXApXG4gICAgICAgID8gY29uZmlnLnJlY29tbWVuZGVkQnVtcE9wdHMud2hhdEJ1bXBcbiAgICAgICAgOiBub29wKVxuXG4gICAgaWYgKHR5cGVvZiB3aGF0QnVtcCAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgRXJyb3IoJ3doYXRCdW1wIG11c3QgYmUgYSBmdW5jdGlvbicpXG4gICAgfVxuXG4gICAgLy8gVE9ETzogRm9yIG5vdyB3ZSBkZWZlciB0byBgY29uZmlnLnJlY29tbWVuZGVkQnVtcE9wdHMucGFyc2VyT3B0c2AgaWYgaXQgZXhpc3RzLCBhcyBvdXIgaW5pdGlhbCByZWZhY3RvclxuICAgIC8vIGVmZm9ydHMgY3JlYXRlZCBhIGBwYXJzZXJPcHRzYCBvYmplY3QgdW5kZXIgdGhlIGByZWNvbW1lbmRlZEJ1bXBPcHRzYCBvYmplY3QgaW4gZWFjaCBwcmVzZXQgcGFja2FnZS5cbiAgICAvLyBJbiB0aGUgZnV0dXJlIHdlIHdhbnQgdG8gbWVyZ2UgZGlmZmVyZW5jZXMgZm91bmQgaW4gYHJlY29tbWVuZGVkQnVtcE9wdHMucGFyc2VyT3B0c2AgaW50byB0aGUgdG9wLWxldmVsXG4gICAgLy8gYHBhcnNlck9wdHNgIG9iamVjdCBhbmQgcmVtb3ZlIGByZWNvbW1lbmRlZEJ1bXBPcHRzLnBhcnNlck9wdHNgIGZyb20gZWFjaCBwcmVzZXQgcGFja2FnZSBpZiBpdCBleGlzdHMuXG4gICAgY29uc3QgcGFyc2VyT3B0cyA9IE9iamVjdC5hc3NpZ24oe30sXG4gICAgICBjb25maWcucmVjb21tZW5kZWRCdW1wT3B0cyAmJiBjb25maWcucmVjb21tZW5kZWRCdW1wT3B0cy5wYXJzZXJPcHRzXG4gICAgICAgID8gY29uZmlnLnJlY29tbWVuZGVkQnVtcE9wdHMucGFyc2VyT3B0c1xuICAgICAgICA6IGNvbmZpZy5wYXJzZXJPcHRzLFxuICAgICAgcGFyc2VyT3B0c0FyZ3VtZW50KVxuXG4gICAgY29uc3Qgd2FybiA9IHR5cGVvZiBwYXJzZXJPcHRzLndhcm4gPT09ICdmdW5jdGlvbicgPyBwYXJzZXJPcHRzLndhcm4gOiBub29wXG5cbiAgICBnaXRTZW12ZXJUYWdzKHtcbiAgICAgIGxlcm5hVGFnczogISFvcHRpb25zLmxlcm5hUGFja2FnZSxcbiAgICAgIHBhY2thZ2U6IG9wdGlvbnMubGVybmFQYWNrYWdlLFxuICAgICAgdGFnUHJlZml4OiBvcHRpb25zLnRhZ1ByZWZpeCxcbiAgICAgIHNraXBVbnN0YWJsZTogb3B0aW9ucy5za2lwVW5zdGFibGVcbiAgICB9LCAoZXJyLCB0YWdzKSA9PiB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHJldHVybiBjYihlcnIpXG4gICAgICB9XG5cbiAgICAgIGdpdFJhd0NvbW1pdHMoe1xuICAgICAgICBmb3JtYXQ6ICclQiVuLWhhc2gtJW4lSCcsXG4gICAgICAgIGZyb206IHRhZ3NbMF0gfHwgJycsXG4gICAgICAgIHBhdGg6IG9wdGlvbnMucGF0aFxuICAgICAgfSlcbiAgICAgICAgLnBpcGUoY29udmVudGlvbmFsQ29tbWl0c1BhcnNlcihwYXJzZXJPcHRzKSlcbiAgICAgICAgLnBpcGUoY29uY2F0KGRhdGEgPT4ge1xuICAgICAgICAgIGNvbnN0IGNvbW1pdHMgPSBvcHRpb25zLmlnbm9yZVJldmVydGVkID8gY29udmVudGlvbmFsQ29tbWl0c0ZpbHRlcihkYXRhKSA6IGRhdGFcblxuICAgICAgICAgIGlmICghY29tbWl0cyB8fCAhY29tbWl0cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHdhcm4oJ05vIGNvbW1pdHMgc2luY2UgbGFzdCByZWxlYXNlJylcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBsZXQgcmVzdWx0ID0gd2hhdEJ1bXAoY29tbWl0cywgb3B0aW9ucylcblxuICAgICAgICAgIGlmIChyZXN1bHQgJiYgcmVzdWx0LmxldmVsICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJlc3VsdC5yZWxlYXNlVHlwZSA9IFZFUlNJT05TW3Jlc3VsdC5sZXZlbF1cbiAgICAgICAgICB9IGVsc2UgaWYgKHJlc3VsdCA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXN1bHQgPSB7fVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGNiKG51bGwsIHJlc3VsdClcbiAgICAgICAgfSkpXG4gICAgfSlcbiAgfSkuY2F0Y2goZXJyID0+IGNiKGVycikpXG59XG5cbmZ1bmN0aW9uIG5vb3AgKCkge31cbiIsICIndXNlIHN0cmljdCdcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY29uZmlnKSB7XG4gIGNvbmZpZyA9IGRlZmF1bHRDb25maWcoY29uZmlnKVxuICByZXR1cm4ge1xuICAgIGhlYWRlclBhdHRlcm46IC9eKFxcdyopKD86XFwoKC4qKVxcKSk/IT86ICguKikkLyxcbiAgICBicmVha2luZ0hlYWRlclBhdHRlcm46IC9eKFxcdyopKD86XFwoKC4qKVxcKSk/ITogKC4qKSQvLFxuICAgIGhlYWRlckNvcnJlc3BvbmRlbmNlOiBbXG4gICAgICAndHlwZScsXG4gICAgICAnc2NvcGUnLFxuICAgICAgJ3N1YmplY3QnXG4gICAgXSxcbiAgICBub3RlS2V5d29yZHM6IFsnQlJFQUtJTkcgQ0hBTkdFJywgJ0JSRUFLSU5HLUNIQU5HRSddLFxuICAgIHJldmVydFBhdHRlcm46IC9eKD86UmV2ZXJ0fHJldmVydDopXFxzXCI/KFtcXHNcXFNdKz8pXCI/XFxzKlRoaXMgcmV2ZXJ0cyBjb21taXQgKFxcdyopXFwuL2ksXG4gICAgcmV2ZXJ0Q29ycmVzcG9uZGVuY2U6IFsnaGVhZGVyJywgJ2hhc2gnXSxcbiAgICBpc3N1ZVByZWZpeGVzOiBjb25maWcuaXNzdWVQcmVmaXhlc1xuICB9XG59XG5cbi8vIG1lcmdlIHVzZXIgc2V0IGNvbmZpZ3VyYXRpb24gd2l0aCBkZWZhdWx0IGNvbmZpZ3VyYXRpb24uXG5mdW5jdGlvbiBkZWZhdWx0Q29uZmlnIChjb25maWcpIHtcbiAgY29uZmlnID0gY29uZmlnIHx8IHt9XG4gIGNvbmZpZy5pc3N1ZVByZWZpeGVzID0gY29uZmlnLmlzc3VlUHJlZml4ZXMgfHwgWycjJ11cbiAgcmV0dXJuIGNvbmZpZ1xufVxuIiwgImNvbnN0IHsgYnJlYWtpbmdIZWFkZXJQYXR0ZXJuIH0gPSByZXF1aXJlKCcuL3BhcnNlci1vcHRzJykoKVxuXG5tb2R1bGUuZXhwb3J0cyA9IChjb21taXQpID0+IHtcbiAgY29uc3QgbWF0Y2ggPSBjb21taXQuaGVhZGVyLm1hdGNoKGJyZWFraW5nSGVhZGVyUGF0dGVybilcbiAgaWYgKG1hdGNoICYmIGNvbW1pdC5ub3Rlcy5sZW5ndGggPT09IDApIHtcbiAgICBjb25zdCBub3RlVGV4dCA9IG1hdGNoWzNdIC8vIHRoZSBkZXNjcmlwdGlvbiBvZiB0aGUgY2hhbmdlLlxuICAgIGNvbW1pdC5ub3Rlcy5wdXNoKHtcbiAgICAgIHRleHQ6IG5vdGVUZXh0XG4gICAgfSlcbiAgfVxufVxuIiwgIid1c2Ugc3RyaWN0Jztcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24odmFsKSB7XG4gIHJldHVybiBBcnJheS5pc0FycmF5KHZhbCkgPyB2YWwgOiBbdmFsXTtcbn07XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHZhbHVlID0+IHtcblx0Y29uc3QgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcblx0cmV0dXJuIHZhbHVlICE9PSBudWxsICYmICh0eXBlID09PSAnb2JqZWN0JyB8fCB0eXBlID09PSAnZnVuY3Rpb24nKTtcbn07XG4iLCAiJ3VzZSBzdHJpY3QnO1xuY29uc3QgaXNPYmogPSByZXF1aXJlKCdpcy1vYmonKTtcblxuY29uc3QgZGlzYWxsb3dlZEtleXMgPSBbXG5cdCdfX3Byb3RvX18nLFxuXHQncHJvdG90eXBlJyxcblx0J2NvbnN0cnVjdG9yJ1xuXTtcblxuY29uc3QgaXNWYWxpZFBhdGggPSBwYXRoU2VnbWVudHMgPT4gIXBhdGhTZWdtZW50cy5zb21lKHNlZ21lbnQgPT4gZGlzYWxsb3dlZEtleXMuaW5jbHVkZXMoc2VnbWVudCkpO1xuXG5mdW5jdGlvbiBnZXRQYXRoU2VnbWVudHMocGF0aCkge1xuXHRjb25zdCBwYXRoQXJyYXkgPSBwYXRoLnNwbGl0KCcuJyk7XG5cdGNvbnN0IHBhcnRzID0gW107XG5cblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBwYXRoQXJyYXkubGVuZ3RoOyBpKyspIHtcblx0XHRsZXQgcCA9IHBhdGhBcnJheVtpXTtcblxuXHRcdHdoaWxlIChwW3AubGVuZ3RoIC0gMV0gPT09ICdcXFxcJyAmJiBwYXRoQXJyYXlbaSArIDFdICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdHAgPSBwLnNsaWNlKDAsIC0xKSArICcuJztcblx0XHRcdHAgKz0gcGF0aEFycmF5WysraV07XG5cdFx0fVxuXG5cdFx0cGFydHMucHVzaChwKTtcblx0fVxuXG5cdGlmICghaXNWYWxpZFBhdGgocGFydHMpKSB7XG5cdFx0cmV0dXJuIFtdO1xuXHR9XG5cblx0cmV0dXJuIHBhcnRzO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcblx0Z2V0KG9iamVjdCwgcGF0aCwgdmFsdWUpIHtcblx0XHRpZiAoIWlzT2JqKG9iamVjdCkgfHwgdHlwZW9mIHBhdGggIT09ICdzdHJpbmcnKSB7XG5cdFx0XHRyZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZCA/IG9iamVjdCA6IHZhbHVlO1xuXHRcdH1cblxuXHRcdGNvbnN0IHBhdGhBcnJheSA9IGdldFBhdGhTZWdtZW50cyhwYXRoKTtcblx0XHRpZiAocGF0aEFycmF5Lmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgcGF0aEFycmF5Lmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRpZiAoIU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChvYmplY3QsIHBhdGhBcnJheVtpXSkpIHtcblx0XHRcdFx0cmV0dXJuIHZhbHVlO1xuXHRcdFx0fVxuXG5cdFx0XHRvYmplY3QgPSBvYmplY3RbcGF0aEFycmF5W2ldXTtcblxuXHRcdFx0aWYgKG9iamVjdCA9PT0gdW5kZWZpbmVkIHx8IG9iamVjdCA9PT0gbnVsbCkge1xuXHRcdFx0XHQvLyBgb2JqZWN0YCBpcyBlaXRoZXIgYHVuZGVmaW5lZGAgb3IgYG51bGxgIHNvIHdlIHdhbnQgdG8gc3RvcCB0aGUgbG9vcCwgYW5kXG5cdFx0XHRcdC8vIGlmIHRoaXMgaXMgbm90IHRoZSBsYXN0IGJpdCBvZiB0aGUgcGF0aCwgYW5kXG5cdFx0XHRcdC8vIGlmIGl0IGRpZCd0IHJldHVybiBgdW5kZWZpbmVkYFxuXHRcdFx0XHQvLyBpdCB3b3VsZCByZXR1cm4gYG51bGxgIGlmIGBvYmplY3RgIGlzIGBudWxsYFxuXHRcdFx0XHQvLyBidXQgd2Ugd2FudCBgZ2V0KHtmb286IG51bGx9LCAnZm9vLmJhcicpYCB0byBlcXVhbCBgdW5kZWZpbmVkYCwgb3IgdGhlIHN1cHBsaWVkIHZhbHVlLCBub3QgYG51bGxgXG5cdFx0XHRcdGlmIChpICE9PSBwYXRoQXJyYXkubGVuZ3RoIC0gMSkge1xuXHRcdFx0XHRcdHJldHVybiB2YWx1ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBvYmplY3Q7XG5cdH0sXG5cblx0c2V0KG9iamVjdCwgcGF0aCwgdmFsdWUpIHtcblx0XHRpZiAoIWlzT2JqKG9iamVjdCkgfHwgdHlwZW9mIHBhdGggIT09ICdzdHJpbmcnKSB7XG5cdFx0XHRyZXR1cm4gb2JqZWN0O1xuXHRcdH1cblxuXHRcdGNvbnN0IHJvb3QgPSBvYmplY3Q7XG5cdFx0Y29uc3QgcGF0aEFycmF5ID0gZ2V0UGF0aFNlZ21lbnRzKHBhdGgpO1xuXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBwYXRoQXJyYXkubGVuZ3RoOyBpKyspIHtcblx0XHRcdGNvbnN0IHAgPSBwYXRoQXJyYXlbaV07XG5cblx0XHRcdGlmICghaXNPYmoob2JqZWN0W3BdKSkge1xuXHRcdFx0XHRvYmplY3RbcF0gPSB7fTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGkgPT09IHBhdGhBcnJheS5sZW5ndGggLSAxKSB7XG5cdFx0XHRcdG9iamVjdFtwXSA9IHZhbHVlO1xuXHRcdFx0fVxuXG5cdFx0XHRvYmplY3QgPSBvYmplY3RbcF07XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHJvb3Q7XG5cdH0sXG5cblx0ZGVsZXRlKG9iamVjdCwgcGF0aCkge1xuXHRcdGlmICghaXNPYmoob2JqZWN0KSB8fCB0eXBlb2YgcGF0aCAhPT0gJ3N0cmluZycpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHRjb25zdCBwYXRoQXJyYXkgPSBnZXRQYXRoU2VnbWVudHMocGF0aCk7XG5cblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHBhdGhBcnJheS5sZW5ndGg7IGkrKykge1xuXHRcdFx0Y29uc3QgcCA9IHBhdGhBcnJheVtpXTtcblxuXHRcdFx0aWYgKGkgPT09IHBhdGhBcnJheS5sZW5ndGggLSAxKSB7XG5cdFx0XHRcdGRlbGV0ZSBvYmplY3RbcF07XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRvYmplY3QgPSBvYmplY3RbcF07XG5cblx0XHRcdGlmICghaXNPYmoob2JqZWN0KSkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXG5cdGhhcyhvYmplY3QsIHBhdGgpIHtcblx0XHRpZiAoIWlzT2JqKG9iamVjdCkgfHwgdHlwZW9mIHBhdGggIT09ICdzdHJpbmcnKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Y29uc3QgcGF0aEFycmF5ID0gZ2V0UGF0aFNlZ21lbnRzKHBhdGgpO1xuXHRcdGlmIChwYXRoQXJyYXkubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHVuaWNvcm4vbm8tZm9yLWxvb3Bcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHBhdGhBcnJheS5sZW5ndGg7IGkrKykge1xuXHRcdFx0aWYgKGlzT2JqKG9iamVjdCkpIHtcblx0XHRcdFx0aWYgKCEocGF0aEFycmF5W2ldIGluIG9iamVjdCkpIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRvYmplY3QgPSBvYmplY3RbcGF0aEFycmF5W2ldXTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxufTtcbiIsICIndXNlIHN0cmljdCc7XG52YXIgYXJyYXlpZnkgPSByZXF1aXJlKCdhcnJheS1pZnknKTtcbnZhciBkb3RQcm9wR2V0ID0gcmVxdWlyZSgnZG90LXByb3AnKS5nZXQ7XG5cbmZ1bmN0aW9uIGNvbXBhcmVGdW5jKHByb3ApIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGEsIGIpIHtcbiAgICB2YXIgcmV0ID0gMDtcblxuICAgIGFycmF5aWZ5KHByb3ApLnNvbWUoZnVuY3Rpb24oZWwpIHtcbiAgICAgIHZhciB4O1xuICAgICAgdmFyIHk7XG5cbiAgICAgIGlmICh0eXBlb2YgZWwgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgeCA9IGVsKGEpO1xuICAgICAgICB5ID0gZWwoYik7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBlbCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgeCA9IGRvdFByb3BHZXQoYSwgZWwpO1xuICAgICAgICB5ID0gZG90UHJvcEdldChiLCBlbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB4ID0gYTtcbiAgICAgICAgeSA9IGI7XG4gICAgICB9XG5cbiAgICAgIGlmICh4ID09PSB5KSB7XG4gICAgICAgIHJldCA9IDA7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiB4ID09PSAnc3RyaW5nJyAmJiB0eXBlb2YgeSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0ID0geC5sb2NhbGVDb21wYXJlKHkpO1xuICAgICAgICByZXR1cm4gcmV0ICE9PSAwO1xuICAgICAgfVxuXG4gICAgICByZXQgPSB4IDwgeSA/IC0xIDogMTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHJldDtcbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjb21wYXJlRnVuYztcbiIsICIndXNlIHN0cmljdCdcblxuY29uc3QgYWRkQmFuZ05vdGVzID0gcmVxdWlyZSgnLi9hZGQtYmFuZy1ub3RlcycpXG5jb25zdCBjb21wYXJlRnVuYyA9IHJlcXVpcmUoJ2NvbXBhcmUtZnVuYycpXG5jb25zdCBRID0gcmVxdWlyZSgncScpXG5jb25zdCByZWFkRmlsZSA9IFEuZGVub2RlaWZ5KHJlcXVpcmUoJ2ZzJykucmVhZEZpbGUpXG5jb25zdCByZXNvbHZlID0gcmVxdWlyZSgncGF0aCcpLnJlc29sdmVcbmNvbnN0IHJlbGVhc2VBc1JlID0gL3JlbGVhc2UtYXM6XFxzKlxcdypAPyhbMC05XStcXC5bMC05XStcXC5bMC05YS16XSsoLVswLTlhLXouXSspPylcXHMqL2lcblxuLyoqXG4gKiBIYW5kbGViYXIgcGFydGlhbHMgZm9yIHZhcmlvdXMgcHJvcGVydHkgc3Vic3RpdHV0aW9ucyBiYXNlZCBvbiBjb21taXQgY29udGV4dC5cbiAqL1xuY29uc3Qgb3duZXIgPSAne3sjaWYgdGhpcy5vd25lcn19e3t+dGhpcy5vd25lcn19e3tlbHNlfX17e35Acm9vdC5vd25lcn19e3svaWZ9fSdcbmNvbnN0IGhvc3QgPSAne3t+QHJvb3QuaG9zdH19J1xuY29uc3QgcmVwb3NpdG9yeSA9ICd7eyNpZiB0aGlzLnJlcG9zaXRvcnl9fXt7fnRoaXMucmVwb3NpdG9yeX19e3tlbHNlfX17e35Acm9vdC5yZXBvc2l0b3J5fX17ey9pZn19J1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjb25maWcpIHtcbiAgY29uZmlnID0gZGVmYXVsdENvbmZpZyhjb25maWcpXG4gIGNvbnN0IGNvbW1pdFVybEZvcm1hdCA9IGV4cGFuZFRlbXBsYXRlKGNvbmZpZy5jb21taXRVcmxGb3JtYXQsIHtcbiAgICBob3N0LFxuICAgIG93bmVyLFxuICAgIHJlcG9zaXRvcnlcbiAgfSlcbiAgY29uc3QgY29tcGFyZVVybEZvcm1hdCA9IGV4cGFuZFRlbXBsYXRlKGNvbmZpZy5jb21wYXJlVXJsRm9ybWF0LCB7XG4gICAgaG9zdCxcbiAgICBvd25lcixcbiAgICByZXBvc2l0b3J5XG4gIH0pXG4gIGNvbnN0IGlzc3VlVXJsRm9ybWF0ID0gZXhwYW5kVGVtcGxhdGUoY29uZmlnLmlzc3VlVXJsRm9ybWF0LCB7XG4gICAgaG9zdCxcbiAgICBvd25lcixcbiAgICByZXBvc2l0b3J5LFxuICAgIGlkOiAne3t0aGlzLmlzc3VlfX0nLFxuICAgIHByZWZpeDogJ3t7dGhpcy5wcmVmaXh9fSdcbiAgfSlcblxuICByZXR1cm4gUS5hbGwoW1xuICAgIHJlYWRGaWxlKHJlc29sdmUoX19kaXJuYW1lLCAnLi90ZW1wbGF0ZXMvdGVtcGxhdGUuaGJzJyksICd1dGYtOCcpLFxuICAgIHJlYWRGaWxlKHJlc29sdmUoX19kaXJuYW1lLCAnLi90ZW1wbGF0ZXMvaGVhZGVyLmhicycpLCAndXRmLTgnKSxcbiAgICByZWFkRmlsZShyZXNvbHZlKF9fZGlybmFtZSwgJy4vdGVtcGxhdGVzL2NvbW1pdC5oYnMnKSwgJ3V0Zi04JyksXG4gICAgcmVhZEZpbGUocmVzb2x2ZShfX2Rpcm5hbWUsICcuL3RlbXBsYXRlcy9mb290ZXIuaGJzJyksICd1dGYtOCcpXG4gIF0pXG4gICAgLnNwcmVhZCgodGVtcGxhdGUsIGhlYWRlciwgY29tbWl0LCBmb290ZXIpID0+IHtcbiAgICAgIGNvbnN0IHdyaXRlck9wdHMgPSBnZXRXcml0ZXJPcHRzKGNvbmZpZylcblxuICAgICAgd3JpdGVyT3B0cy5tYWluVGVtcGxhdGUgPSB0ZW1wbGF0ZVxuICAgICAgd3JpdGVyT3B0cy5oZWFkZXJQYXJ0aWFsID0gaGVhZGVyXG4gICAgICAgIC5yZXBsYWNlKC97e2NvbXBhcmVVcmxGb3JtYXR9fS9nLCBjb21wYXJlVXJsRm9ybWF0KVxuICAgICAgd3JpdGVyT3B0cy5jb21taXRQYXJ0aWFsID0gY29tbWl0XG4gICAgICAgIC5yZXBsYWNlKC97e2NvbW1pdFVybEZvcm1hdH19L2csIGNvbW1pdFVybEZvcm1hdClcbiAgICAgICAgLnJlcGxhY2UoL3t7aXNzdWVVcmxGb3JtYXR9fS9nLCBpc3N1ZVVybEZvcm1hdClcbiAgICAgIHdyaXRlck9wdHMuZm9vdGVyUGFydGlhbCA9IGZvb3RlclxuXG4gICAgICByZXR1cm4gd3JpdGVyT3B0c1xuICAgIH0pXG59XG5cbmZ1bmN0aW9uIGZpbmRUeXBlRW50cnkgKHR5cGVzLCBjb21taXQpIHtcbiAgY29uc3QgdHlwZUtleSA9IChjb21taXQucmV2ZXJ0ID8gJ3JldmVydCcgOiAoY29tbWl0LnR5cGUgfHwgJycpKS50b0xvd2VyQ2FzZSgpXG4gIHJldHVybiB0eXBlcy5maW5kKChlbnRyeSkgPT4ge1xuICAgIGlmIChlbnRyeS50eXBlICE9PSB0eXBlS2V5KSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gICAgaWYgKGVudHJ5LnNjb3BlICYmIGVudHJ5LnNjb3BlICE9PSBjb21taXQuc2NvcGUpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZVxuICB9KVxufVxuXG5mdW5jdGlvbiBnZXRXcml0ZXJPcHRzIChjb25maWcpIHtcbiAgY29uZmlnID0gZGVmYXVsdENvbmZpZyhjb25maWcpXG5cbiAgcmV0dXJuIHtcbiAgICB0cmFuc2Zvcm06IChjb21taXQsIGNvbnRleHQpID0+IHtcbiAgICAgIGxldCBkaXNjYXJkID0gdHJ1ZVxuICAgICAgY29uc3QgaXNzdWVzID0gW11cbiAgICAgIGNvbnN0IGVudHJ5ID0gZmluZFR5cGVFbnRyeShjb25maWcudHlwZXMsIGNvbW1pdClcblxuICAgICAgLy8gYWRkcyBhZGRpdGlvbmFsIGJyZWFraW5nIGNoYW5nZSBub3Rlc1xuICAgICAgLy8gZm9yIHRoZSBzcGVjaWFsIGNhc2UsIHRlc3Qoc3lzdGVtKSE6IGhlbGxvIHdvcmxkLCB3aGVyZSB0aGVyZSBpc1xuICAgICAgLy8gYSAnIScgYnV0IG5vICdCUkVBS0lORyBDSEFOR0UnIGluIGJvZHk6XG4gICAgICBhZGRCYW5nTm90ZXMoY29tbWl0KVxuXG4gICAgICAvLyBBZGQgYW4gZW50cnkgaW4gdGhlIENIQU5HRUxPRyBpZiBzcGVjaWFsIFJlbGVhc2UtQXMgZm9vdGVyXG4gICAgICAvLyBpcyB1c2VkOlxuICAgICAgaWYgKChjb21taXQuZm9vdGVyICYmIHJlbGVhc2VBc1JlLnRlc3QoY29tbWl0LmZvb3RlcikpIHx8XG4gICAgICAgICAgKGNvbW1pdC5ib2R5ICYmIHJlbGVhc2VBc1JlLnRlc3QoY29tbWl0LmJvZHkpKSkge1xuICAgICAgICBkaXNjYXJkID0gZmFsc2VcbiAgICAgIH1cblxuICAgICAgY29tbWl0Lm5vdGVzLmZvckVhY2gobm90ZSA9PiB7XG4gICAgICAgIG5vdGUudGl0bGUgPSAnQlJFQUtJTkcgQ0hBTkdFUydcbiAgICAgICAgZGlzY2FyZCA9IGZhbHNlXG4gICAgICB9KVxuXG4gICAgICAvLyBicmVha2luZyBjaGFuZ2VzIGF0dGFjaGVkIHRvIGFueSB0eXBlIGFyZSBzdGlsbCBkaXNwbGF5ZWQuXG4gICAgICBpZiAoZGlzY2FyZCAmJiAoZW50cnkgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgIGVudHJ5LmhpZGRlbikpIHJldHVyblxuXG4gICAgICBpZiAoZW50cnkpIGNvbW1pdC50eXBlID0gZW50cnkuc2VjdGlvblxuXG4gICAgICBpZiAoY29tbWl0LnNjb3BlID09PSAnKicpIHtcbiAgICAgICAgY29tbWl0LnNjb3BlID0gJydcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBjb21taXQuaGFzaCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgY29tbWl0LnNob3J0SGFzaCA9IGNvbW1pdC5oYXNoLnN1YnN0cmluZygwLCA3KVxuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIGNvbW1pdC5zdWJqZWN0ID09PSAnc3RyaW5nJykge1xuICAgICAgICAvLyBJc3N1ZSBVUkxzLlxuICAgICAgICBjb25maWcuaXNzdWVQcmVmaXhlcy5qb2luKCd8JylcbiAgICAgICAgY29uc3QgaXNzdWVSZWdFeCA9ICcoJyArIGNvbmZpZy5pc3N1ZVByZWZpeGVzLmpvaW4oJ3wnKSArICcpJyArICcoWzAtOV0rKSdcbiAgICAgICAgY29uc3QgcmUgPSBuZXcgUmVnRXhwKGlzc3VlUmVnRXgsICdnJylcblxuICAgICAgICBjb21taXQuc3ViamVjdCA9IGNvbW1pdC5zdWJqZWN0LnJlcGxhY2UocmUsIChfLCBwcmVmaXgsIGlzc3VlKSA9PiB7XG4gICAgICAgICAgaXNzdWVzLnB1c2gocHJlZml4ICsgaXNzdWUpXG4gICAgICAgICAgY29uc3QgdXJsID0gZXhwYW5kVGVtcGxhdGUoY29uZmlnLmlzc3VlVXJsRm9ybWF0LCB7XG4gICAgICAgICAgICBob3N0OiBjb250ZXh0Lmhvc3QsXG4gICAgICAgICAgICBvd25lcjogY29udGV4dC5vd25lcixcbiAgICAgICAgICAgIHJlcG9zaXRvcnk6IGNvbnRleHQucmVwb3NpdG9yeSxcbiAgICAgICAgICAgIGlkOiBpc3N1ZSxcbiAgICAgICAgICAgIHByZWZpeDogcHJlZml4XG4gICAgICAgICAgfSlcbiAgICAgICAgICByZXR1cm4gYFske3ByZWZpeH0ke2lzc3VlfV0oJHt1cmx9KWBcbiAgICAgICAgfSlcbiAgICAgICAgLy8gVXNlciBVUkxzLlxuICAgICAgICBjb21taXQuc3ViamVjdCA9IGNvbW1pdC5zdWJqZWN0LnJlcGxhY2UoL1xcQkAoW2EtejAtOV0oPzotP1thLXowLTkvXSl7MCwzOH0pL2csIChfLCB1c2VyKSA9PiB7XG4gICAgICAgICAgLy8gVE9ETzogaW52ZXN0aWdhdGUgd2h5IHRoaXMgY29kZSBleGlzdHMuXG4gICAgICAgICAgaWYgKHVzZXIuaW5jbHVkZXMoJy8nKSkge1xuICAgICAgICAgICAgcmV0dXJuIGBAJHt1c2VyfWBcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCB1c2VybmFtZVVybCA9IGV4cGFuZFRlbXBsYXRlKGNvbmZpZy51c2VyVXJsRm9ybWF0LCB7XG4gICAgICAgICAgICBob3N0OiBjb250ZXh0Lmhvc3QsXG4gICAgICAgICAgICBvd25lcjogY29udGV4dC5vd25lcixcbiAgICAgICAgICAgIHJlcG9zaXRvcnk6IGNvbnRleHQucmVwb3NpdG9yeSxcbiAgICAgICAgICAgIHVzZXI6IHVzZXJcbiAgICAgICAgICB9KVxuXG4gICAgICAgICAgcmV0dXJuIGBbQCR7dXNlcn1dKCR7dXNlcm5hbWVVcmx9KWBcbiAgICAgICAgfSlcbiAgICAgIH1cblxuICAgICAgLy8gcmVtb3ZlIHJlZmVyZW5jZXMgdGhhdCBhbHJlYWR5IGFwcGVhciBpbiB0aGUgc3ViamVjdFxuICAgICAgY29tbWl0LnJlZmVyZW5jZXMgPSBjb21taXQucmVmZXJlbmNlcy5maWx0ZXIocmVmZXJlbmNlID0+IHtcbiAgICAgICAgaWYgKGlzc3Vlcy5pbmRleE9mKHJlZmVyZW5jZS5wcmVmaXggKyByZWZlcmVuY2UuaXNzdWUpID09PSAtMSkge1xuICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH0pXG5cbiAgICAgIHJldHVybiBjb21taXRcbiAgICB9LFxuICAgIGdyb3VwQnk6ICd0eXBlJyxcbiAgICAvLyB0aGUgZ3JvdXBpbmdzIG9mIGNvbW1pdCBtZXNzYWdlcywgZS5nLiwgRmVhdHVyZXMgdnMuLCBCdWcgRml4ZXMsIGFyZVxuICAgIC8vIHNvcnRlZCBiYXNlZCBvbiB0aGVpciBwcm9iYWJsZSBpbXBvcnRhbmNlOlxuICAgIGNvbW1pdEdyb3Vwc1NvcnQ6IChhLCBiKSA9PiB7XG4gICAgICBjb25zdCBjb21taXRHcm91cE9yZGVyID0gWydSZXZlcnRzJywgJ1BlcmZvcm1hbmNlIEltcHJvdmVtZW50cycsICdCdWcgRml4ZXMnLCAnRmVhdHVyZXMnXVxuICAgICAgY29uc3QgZ1JhbmtBID0gY29tbWl0R3JvdXBPcmRlci5pbmRleE9mKGEudGl0bGUpXG4gICAgICBjb25zdCBnUmFua0IgPSBjb21taXRHcm91cE9yZGVyLmluZGV4T2YoYi50aXRsZSlcbiAgICAgIGlmIChnUmFua0EgPj0gZ1JhbmtCKSB7XG4gICAgICAgIHJldHVybiAtMVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIDFcbiAgICAgIH1cbiAgICB9LFxuICAgIGNvbW1pdHNTb3J0OiBbJ3Njb3BlJywgJ3N1YmplY3QnXSxcbiAgICBub3RlR3JvdXBzU29ydDogJ3RpdGxlJyxcbiAgICBub3Rlc1NvcnQ6IGNvbXBhcmVGdW5jXG4gIH1cbn1cblxuLy8gbWVyZ2UgdXNlciBzZXQgY29uZmlndXJhdGlvbiB3aXRoIGRlZmF1bHQgY29uZmlndXJhdGlvbi5cbmZ1bmN0aW9uIGRlZmF1bHRDb25maWcgKGNvbmZpZykge1xuICBjb25maWcgPSBjb25maWcgfHwge31cbiAgY29uZmlnLnR5cGVzID0gY29uZmlnLnR5cGVzIHx8IFtcbiAgICB7IHR5cGU6ICdmZWF0Jywgc2VjdGlvbjogJ0ZlYXR1cmVzJyB9LFxuICAgIHsgdHlwZTogJ2ZlYXR1cmUnLCBzZWN0aW9uOiAnRmVhdHVyZXMnIH0sXG4gICAgeyB0eXBlOiAnZml4Jywgc2VjdGlvbjogJ0J1ZyBGaXhlcycgfSxcbiAgICB7IHR5cGU6ICdwZXJmJywgc2VjdGlvbjogJ1BlcmZvcm1hbmNlIEltcHJvdmVtZW50cycgfSxcbiAgICB7IHR5cGU6ICdyZXZlcnQnLCBzZWN0aW9uOiAnUmV2ZXJ0cycgfSxcbiAgICB7IHR5cGU6ICdkb2NzJywgc2VjdGlvbjogJ0RvY3VtZW50YXRpb24nLCBoaWRkZW46IHRydWUgfSxcbiAgICB7IHR5cGU6ICdzdHlsZScsIHNlY3Rpb246ICdTdHlsZXMnLCBoaWRkZW46IHRydWUgfSxcbiAgICB7IHR5cGU6ICdjaG9yZScsIHNlY3Rpb246ICdNaXNjZWxsYW5lb3VzIENob3JlcycsIGhpZGRlbjogdHJ1ZSB9LFxuICAgIHsgdHlwZTogJ3JlZmFjdG9yJywgc2VjdGlvbjogJ0NvZGUgUmVmYWN0b3JpbmcnLCBoaWRkZW46IHRydWUgfSxcbiAgICB7IHR5cGU6ICd0ZXN0Jywgc2VjdGlvbjogJ1Rlc3RzJywgaGlkZGVuOiB0cnVlIH0sXG4gICAgeyB0eXBlOiAnYnVpbGQnLCBzZWN0aW9uOiAnQnVpbGQgU3lzdGVtJywgaGlkZGVuOiB0cnVlIH0sXG4gICAgeyB0eXBlOiAnY2knLCBzZWN0aW9uOiAnQ29udGludW91cyBJbnRlZ3JhdGlvbicsIGhpZGRlbjogdHJ1ZSB9XG4gIF1cbiAgY29uZmlnLmlzc3VlVXJsRm9ybWF0ID0gY29uZmlnLmlzc3VlVXJsRm9ybWF0IHx8XG4gICAgJ3t7aG9zdH19L3t7b3duZXJ9fS97e3JlcG9zaXRvcnl9fS9pc3N1ZXMve3tpZH19J1xuICBjb25maWcuY29tbWl0VXJsRm9ybWF0ID0gY29uZmlnLmNvbW1pdFVybEZvcm1hdCB8fFxuICAgICd7e2hvc3R9fS97e293bmVyfX0ve3tyZXBvc2l0b3J5fX0vY29tbWl0L3t7aGFzaH19J1xuICBjb25maWcuY29tcGFyZVVybEZvcm1hdCA9IGNvbmZpZy5jb21wYXJlVXJsRm9ybWF0IHx8XG4gICAgJ3t7aG9zdH19L3t7b3duZXJ9fS97e3JlcG9zaXRvcnl9fS9jb21wYXJlL3t7cHJldmlvdXNUYWd9fS4uLnt7Y3VycmVudFRhZ319J1xuICBjb25maWcudXNlclVybEZvcm1hdCA9IGNvbmZpZy51c2VyVXJsRm9ybWF0IHx8XG4gICAgJ3t7aG9zdH19L3t7dXNlcn19J1xuICBjb25maWcuaXNzdWVQcmVmaXhlcyA9IGNvbmZpZy5pc3N1ZVByZWZpeGVzIHx8IFsnIyddXG5cbiAgcmV0dXJuIGNvbmZpZ1xufVxuXG4vLyBleHBhbmQgb24gdGhlIHNpbXBsZSBtdXN0YWNoZS1zdHlsZSB0ZW1wbGF0ZXMgc3VwcG9ydGVkIGluXG4vLyBjb25maWd1cmF0aW9uICh3ZSBtYXkgZXZlbnR1YWxseSB3YW50IHRvIHVzZSBoYW5kbGViYXJzIGZvciB0aGlzKS5cbmZ1bmN0aW9uIGV4cGFuZFRlbXBsYXRlICh0ZW1wbGF0ZSwgY29udGV4dCkge1xuICBsZXQgZXhwYW5kZWQgPSB0ZW1wbGF0ZVxuICBPYmplY3Qua2V5cyhjb250ZXh0KS5mb3JFYWNoKGtleSA9PiB7XG4gICAgZXhwYW5kZWQgPSBleHBhbmRlZC5yZXBsYWNlKG5ldyBSZWdFeHAoYHt7JHtrZXl9fX1gLCAnZycpLCBjb250ZXh0W2tleV0pXG4gIH0pXG4gIHJldHVybiBleHBhbmRlZFxufVxuIiwgIid1c2Ugc3RyaWN0J1xuXG5jb25zdCBRID0gcmVxdWlyZSgncScpXG5jb25zdCBwYXJzZXJPcHRzID0gcmVxdWlyZSgnLi9wYXJzZXItb3B0cycpXG5jb25zdCB3cml0ZXJPcHRzID0gcmVxdWlyZSgnLi93cml0ZXItb3B0cycpXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGNvbmZpZykge1xuICByZXR1cm4gUS5hbGwoW3BhcnNlck9wdHMoY29uZmlnKSwgd3JpdGVyT3B0cyhjb25maWcpXSlcbiAgICAuc3ByZWFkKChwYXJzZXJPcHRzLCB3cml0ZXJPcHRzKSA9PiB7XG4gICAgICByZXR1cm4geyBwYXJzZXJPcHRzLCB3cml0ZXJPcHRzIH1cbiAgICB9KVxufVxuIiwgIid1c2Ugc3RyaWN0J1xuXG5jb25zdCBhZGRCYW5nTm90ZXMgPSByZXF1aXJlKCcuL2FkZC1iYW5nLW5vdGVzJylcbmNvbnN0IHBhcnNlck9wdHMgPSByZXF1aXJlKCcuL3BhcnNlci1vcHRzJylcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY29uZmlnKSB7XG4gIHJldHVybiB7XG4gICAgcGFyc2VyT3B0czogcGFyc2VyT3B0cyhjb25maWcpLFxuXG4gICAgd2hhdEJ1bXA6IChjb21taXRzKSA9PiB7XG4gICAgICBsZXQgbGV2ZWwgPSAyXG4gICAgICBsZXQgYnJlYWtpbmdzID0gMFxuICAgICAgbGV0IGZlYXR1cmVzID0gMFxuXG4gICAgICBjb21taXRzLmZvckVhY2goY29tbWl0ID0+IHtcbiAgICAgICAgLy8gYWRkcyBhZGRpdGlvbmFsIGJyZWFraW5nIGNoYW5nZSBub3Rlc1xuICAgICAgICAvLyBmb3IgdGhlIHNwZWNpYWwgY2FzZSwgdGVzdChzeXN0ZW0pITogaGVsbG8gd29ybGQsIHdoZXJlIHRoZXJlIGlzXG4gICAgICAgIC8vIGEgJyEnIGJ1dCBubyAnQlJFQUtJTkcgQ0hBTkdFJyBpbiBib2R5OlxuICAgICAgICBhZGRCYW5nTm90ZXMoY29tbWl0KVxuICAgICAgICBpZiAoY29tbWl0Lm5vdGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBicmVha2luZ3MgKz0gY29tbWl0Lm5vdGVzLmxlbmd0aFxuICAgICAgICAgIGxldmVsID0gMFxuICAgICAgICB9IGVsc2UgaWYgKGNvbW1pdC50eXBlID09PSAnZmVhdCcgfHwgY29tbWl0LnR5cGUgPT09ICdmZWF0dXJlJykge1xuICAgICAgICAgIGZlYXR1cmVzICs9IDFcbiAgICAgICAgICBpZiAobGV2ZWwgPT09IDIpIHtcbiAgICAgICAgICAgIGxldmVsID0gMVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSlcblxuICAgICAgaWYgKGNvbmZpZy5wcmVNYWpvciAmJiBsZXZlbCA8IDIpIHtcbiAgICAgICAgbGV2ZWwrK1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBsZXZlbDogbGV2ZWwsXG4gICAgICAgIHJlYXNvbjogYnJlYWtpbmdzID09PSAxXG4gICAgICAgICAgPyBgVGhlcmUgaXMgJHticmVha2luZ3N9IEJSRUFLSU5HIENIQU5HRSBhbmQgJHtmZWF0dXJlc30gZmVhdHVyZXNgXG4gICAgICAgICAgOiBgVGhlcmUgYXJlICR7YnJlYWtpbmdzfSBCUkVBS0lORyBDSEFOR0VTIGFuZCAke2ZlYXR1cmVzfSBmZWF0dXJlc2BcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiIsICIndXNlIHN0cmljdCdcbmNvbnN0IFEgPSByZXF1aXJlKCdxJylcbmNvbnN0IF8gPSByZXF1aXJlKCdsb2Rhc2gnKVxuY29uc3QgY29udmVudGlvbmFsQ2hhbmdlbG9nID0gcmVxdWlyZSgnLi9jb252ZW50aW9uYWwtY2hhbmdlbG9nJylcbmNvbnN0IHBhcnNlck9wdHMgPSByZXF1aXJlKCcuL3BhcnNlci1vcHRzJylcbmNvbnN0IHJlY29tbWVuZGVkQnVtcE9wdHMgPSByZXF1aXJlKCcuL2NvbnZlbnRpb25hbC1yZWNvbW1lbmRlZC1idW1wJylcbmNvbnN0IHdyaXRlck9wdHMgPSByZXF1aXJlKCcuL3dyaXRlci1vcHRzJylcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAocGFyYW1ldGVyKSB7XG4gIC8vIHBhcmFtZXRlciBwYXNzZWQgY2FuIGJlIGVpdGhlciBhIGNvbmZpZyBvYmplY3Qgb3IgYSBjYWxsYmFjayBmdW5jdGlvblxuICBpZiAoXy5pc0Z1bmN0aW9uKHBhcmFtZXRlcikpIHtcbiAgICAvLyBwYXJhbWV0ZXIgaXMgYSBjYWxsYmFjayBvYmplY3RcbiAgICBjb25zdCBjb25maWcgPSB7fVxuICAgIC8vIEZJWE1FOiB1c2UgcHJlc2V0T3B0cyhjb25maWcpIGZvciBjYWxsYmFja1xuICAgIFEuYWxsKFtcbiAgICAgIGNvbnZlbnRpb25hbENoYW5nZWxvZyhjb25maWcpLFxuICAgICAgcGFyc2VyT3B0cyhjb25maWcpLFxuICAgICAgcmVjb21tZW5kZWRCdW1wT3B0cyhjb25maWcpLFxuICAgICAgd3JpdGVyT3B0cyhjb25maWcpXG4gICAgXSkuc3ByZWFkKChjb252ZW50aW9uYWxDaGFuZ2Vsb2csIHBhcnNlck9wdHMsIHJlY29tbWVuZGVkQnVtcE9wdHMsIHdyaXRlck9wdHMpID0+IHtcbiAgICAgIHBhcmFtZXRlcihudWxsLCB7IGdpdFJhd0NvbW1pdHNPcHRzOiB7IG5vTWVyZ2VzOiBudWxsIH0sIGNvbnZlbnRpb25hbENoYW5nZWxvZywgcGFyc2VyT3B0cywgcmVjb21tZW5kZWRCdW1wT3B0cywgd3JpdGVyT3B0cyB9KVxuICAgIH0pXG4gIH0gZWxzZSB7XG4gICAgY29uc3QgY29uZmlnID0gcGFyYW1ldGVyIHx8IHt9XG4gICAgcmV0dXJuIHByZXNldE9wdHMoY29uZmlnKVxuICB9XG59XG5cbmZ1bmN0aW9uIHByZXNldE9wdHMgKGNvbmZpZykge1xuICByZXR1cm4gUS5hbGwoW1xuICAgIGNvbnZlbnRpb25hbENoYW5nZWxvZyhjb25maWcpLFxuICAgIHBhcnNlck9wdHMoY29uZmlnKSxcbiAgICByZWNvbW1lbmRlZEJ1bXBPcHRzKGNvbmZpZyksXG4gICAgd3JpdGVyT3B0cyhjb25maWcpXG4gIF0pLnNwcmVhZCgoY29udmVudGlvbmFsQ2hhbmdlbG9nLCBwYXJzZXJPcHRzLCByZWNvbW1lbmRlZEJ1bXBPcHRzLCB3cml0ZXJPcHRzKSA9PiB7XG4gICAgcmV0dXJuIHsgY29udmVudGlvbmFsQ2hhbmdlbG9nLCBwYXJzZXJPcHRzLCByZWNvbW1lbmRlZEJ1bXBPcHRzLCB3cml0ZXJPcHRzIH1cbiAgfSlcbn1cbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciBQYXNzVGhyb3VnaCA9IHJlcXVpcmUoJ3N0cmVhbScpLlBhc3NUaHJvdWdoO1xudmFyIFdyaXRhYmxlID0gcmVxdWlyZSgnc3RyZWFtJykuV3JpdGFibGU7XG52YXIgdXRpbCA9IHJlcXVpcmUoJ3V0aWwnKTtcblxudXRpbC5pbmhlcml0cyhBcHBlbmRlZSwgUGFzc1Rocm91Z2gpO1xudXRpbC5pbmhlcml0cyhBcHBlbmRlciwgV3JpdGFibGUpO1xuXG5mdW5jdGlvbiBBcHBlbmRlZShmYWN0b3J5LCBvcHRzKSB7XG5cdFBhc3NUaHJvdWdoLmNhbGwodGhpcywgb3B0cyk7XG5cdHRoaXMuZmFjdG9yeSA9IGZhY3Rvcnk7XG5cdHRoaXMub3B0cyA9IG9wdHM7XG59XG5cbi8vbm9pbnNwZWN0aW9uIEpTVW51c2VkR2xvYmFsU3ltYm9sc1xuQXBwZW5kZWUucHJvdG90eXBlLl9mbHVzaCA9IGZ1bmN0aW9uIChlbmQpIHtcblx0dmFyIHN0cmVhbSA9IHRoaXMuZmFjdG9yeSgpO1xuXHRzdHJlYW0ucGlwZShuZXcgQXBwZW5kZXIodGhpcywgdGhpcy5vcHRzKSlcblx0XHQub24oJ2ZpbmlzaCcsIGVuZCk7XG5cdHN0cmVhbS5yZXN1bWUoKTtcbn07XG5cbmZ1bmN0aW9uIEFwcGVuZGVyKHRhcmdldCwgb3B0cykge1xuXHRXcml0YWJsZS5jYWxsKHRoaXMsIG9wdHMpO1xuXHR0aGlzLnRhcmdldCA9IHRhcmdldDtcbn1cblxuLy9ub2luc3BlY3Rpb24gSlNVbnVzZWRHbG9iYWxTeW1ib2xzXG5BcHBlbmRlci5wcm90b3R5cGUuX3dyaXRlID0gZnVuY3Rpb24gKGNodW5rLCBlbmMsIGNiKSB7XG5cdHRoaXMudGFyZ2V0LnB1c2goY2h1bmspO1xuXHRjYigpO1xufTtcblxuZnVuY3Rpb24gYWRkU3RyZWFtKHN0cmVhbSwgb3B0cykge1xuXHRvcHRzID0gb3B0cyB8fCB7fTtcblx0dmFyIGZhY3Rvcnk7XG5cdGlmICh0eXBlb2Ygc3RyZWFtID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0ZmFjdG9yeSA9IHN0cmVhbTtcblx0fVxuXHRlbHNlIHtcblx0XHRzdHJlYW0ucGF1c2UoKTtcblx0XHRmYWN0b3J5ID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0cmV0dXJuIHN0cmVhbTtcblx0XHR9O1xuXHR9XG5cdHJldHVybiBuZXcgQXBwZW5kZWUoZmFjdG9yeSwgb3B0cyk7XG59XG5cbmFkZFN0cmVhbS5vYmogPSBmdW5jdGlvbiAoc3RyZWFtLCBvcHRzKSB7XG5cdG9wdHMgPSBvcHRzIHx8IHt9O1xuXHRvcHRzLm9iamVjdE1vZGUgPSB0cnVlO1xuXHRyZXR1cm4gYWRkU3RyZWFtKHN0cmVhbSwgb3B0cyk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGFkZFN0cmVhbTtcbiIsICIvKlxuICogRGF0ZSBGb3JtYXQgMS4yLjNcbiAqIChjKSAyMDA3LTIwMDkgU3RldmVuIExldml0aGFuIDxzdGV2ZW5sZXZpdGhhbi5jb20+XG4gKiBNSVQgbGljZW5zZVxuICpcbiAqIEluY2x1ZGVzIGVuaGFuY2VtZW50cyBieSBTY290dCBUcmVuZGEgPHNjb3R0LnRyZW5kYS5uZXQ+XG4gKiBhbmQgS3JpcyBLb3dhbCA8Y2l4YXIuY29tL35rcmlzLmtvd2FsLz5cbiAqXG4gKiBBY2NlcHRzIGEgZGF0ZSwgYSBtYXNrLCBvciBhIGRhdGUgYW5kIGEgbWFzay5cbiAqIFJldHVybnMgYSBmb3JtYXR0ZWQgdmVyc2lvbiBvZiB0aGUgZ2l2ZW4gZGF0ZS5cbiAqIFRoZSBkYXRlIGRlZmF1bHRzIHRvIHRoZSBjdXJyZW50IGRhdGUvdGltZS5cbiAqIFRoZSBtYXNrIGRlZmF1bHRzIHRvIGRhdGVGb3JtYXQubWFza3MuZGVmYXVsdC5cbiAqL1xuXG4oZnVuY3Rpb24oZ2xvYmFsKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgZGF0ZUZvcm1hdCA9IChmdW5jdGlvbigpIHtcbiAgICAgIHZhciB0b2tlbiA9IC9kezEsNH18bXsxLDR9fHl5KD86eXkpP3woW0hoTXNUdF0pXFwxP3xbTGxvU1pXTl18XCJbXlwiXSpcInwnW14nXSonL2c7XG4gICAgICB2YXIgdGltZXpvbmUgPSAvXFxiKD86W1BNQ0VBXVtTRFBdVHwoPzpQYWNpZmljfE1vdW50YWlufENlbnRyYWx8RWFzdGVybnxBdGxhbnRpYykgKD86U3RhbmRhcmR8RGF5bGlnaHR8UHJldmFpbGluZykgVGltZXwoPzpHTVR8VVRDKSg/OlstK11cXGR7NH0pPylcXGIvZztcbiAgICAgIHZhciB0aW1lem9uZUNsaXAgPSAvW14tK1xcZEEtWl0vZztcbiAgXG4gICAgICAvLyBSZWdleGVzIGFuZCBzdXBwb3J0aW5nIGZ1bmN0aW9ucyBhcmUgY2FjaGVkIHRocm91Z2ggY2xvc3VyZVxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChkYXRlLCBtYXNrLCB1dGMsIGdtdCkge1xuICBcbiAgICAgICAgLy8gWW91IGNhbid0IHByb3ZpZGUgdXRjIGlmIHlvdSBza2lwIG90aGVyIGFyZ3MgKHVzZSB0aGUgJ1VUQzonIG1hc2sgcHJlZml4KVxuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSAmJiBraW5kT2YoZGF0ZSkgPT09ICdzdHJpbmcnICYmICEvXFxkLy50ZXN0KGRhdGUpKSB7XG4gICAgICAgICAgbWFzayA9IGRhdGU7XG4gICAgICAgICAgZGF0ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICBcbiAgICAgICAgZGF0ZSA9IGRhdGUgfHwgbmV3IERhdGU7XG4gIFxuICAgICAgICBpZighKGRhdGUgaW5zdGFuY2VvZiBEYXRlKSkge1xuICAgICAgICAgIGRhdGUgPSBuZXcgRGF0ZShkYXRlKTtcbiAgICAgICAgfVxuICBcbiAgICAgICAgaWYgKGlzTmFOKGRhdGUpKSB7XG4gICAgICAgICAgdGhyb3cgVHlwZUVycm9yKCdJbnZhbGlkIGRhdGUnKTtcbiAgICAgICAgfVxuICBcbiAgICAgICAgbWFzayA9IFN0cmluZyhkYXRlRm9ybWF0Lm1hc2tzW21hc2tdIHx8IG1hc2sgfHwgZGF0ZUZvcm1hdC5tYXNrc1snZGVmYXVsdCddKTtcbiAgXG4gICAgICAgIC8vIEFsbG93IHNldHRpbmcgdGhlIHV0Yy9nbXQgYXJndW1lbnQgdmlhIHRoZSBtYXNrXG4gICAgICAgIHZhciBtYXNrU2xpY2UgPSBtYXNrLnNsaWNlKDAsIDQpO1xuICAgICAgICBpZiAobWFza1NsaWNlID09PSAnVVRDOicgfHwgbWFza1NsaWNlID09PSAnR01UOicpIHtcbiAgICAgICAgICBtYXNrID0gbWFzay5zbGljZSg0KTtcbiAgICAgICAgICB1dGMgPSB0cnVlO1xuICAgICAgICAgIGlmIChtYXNrU2xpY2UgPT09ICdHTVQ6Jykge1xuICAgICAgICAgICAgZ210ID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgXG4gICAgICAgIHZhciBfID0gdXRjID8gJ2dldFVUQycgOiAnZ2V0JztcbiAgICAgICAgdmFyIGQgPSBkYXRlW18gKyAnRGF0ZSddKCk7XG4gICAgICAgIHZhciBEID0gZGF0ZVtfICsgJ0RheSddKCk7XG4gICAgICAgIHZhciBtID0gZGF0ZVtfICsgJ01vbnRoJ10oKTtcbiAgICAgICAgdmFyIHkgPSBkYXRlW18gKyAnRnVsbFllYXInXSgpO1xuICAgICAgICB2YXIgSCA9IGRhdGVbXyArICdIb3VycyddKCk7XG4gICAgICAgIHZhciBNID0gZGF0ZVtfICsgJ01pbnV0ZXMnXSgpO1xuICAgICAgICB2YXIgcyA9IGRhdGVbXyArICdTZWNvbmRzJ10oKTtcbiAgICAgICAgdmFyIEwgPSBkYXRlW18gKyAnTWlsbGlzZWNvbmRzJ10oKTtcbiAgICAgICAgdmFyIG8gPSB1dGMgPyAwIDogZGF0ZS5nZXRUaW1lem9uZU9mZnNldCgpO1xuICAgICAgICB2YXIgVyA9IGdldFdlZWsoZGF0ZSk7XG4gICAgICAgIHZhciBOID0gZ2V0RGF5T2ZXZWVrKGRhdGUpO1xuICAgICAgICB2YXIgZmxhZ3MgPSB7XG4gICAgICAgICAgZDogICAgZCxcbiAgICAgICAgICBkZDogICBwYWQoZCksXG4gICAgICAgICAgZGRkOiAgZGF0ZUZvcm1hdC5pMThuLmRheU5hbWVzW0RdLFxuICAgICAgICAgIGRkZGQ6IGRhdGVGb3JtYXQuaTE4bi5kYXlOYW1lc1tEICsgN10sXG4gICAgICAgICAgbTogICAgbSArIDEsXG4gICAgICAgICAgbW06ICAgcGFkKG0gKyAxKSxcbiAgICAgICAgICBtbW06ICBkYXRlRm9ybWF0LmkxOG4ubW9udGhOYW1lc1ttXSxcbiAgICAgICAgICBtbW1tOiBkYXRlRm9ybWF0LmkxOG4ubW9udGhOYW1lc1ttICsgMTJdLFxuICAgICAgICAgIHl5OiAgIFN0cmluZyh5KS5zbGljZSgyKSxcbiAgICAgICAgICB5eXl5OiB5LFxuICAgICAgICAgIGg6ICAgIEggJSAxMiB8fCAxMixcbiAgICAgICAgICBoaDogICBwYWQoSCAlIDEyIHx8IDEyKSxcbiAgICAgICAgICBIOiAgICBILFxuICAgICAgICAgIEhIOiAgIHBhZChIKSxcbiAgICAgICAgICBNOiAgICBNLFxuICAgICAgICAgIE1NOiAgIHBhZChNKSxcbiAgICAgICAgICBzOiAgICBzLFxuICAgICAgICAgIHNzOiAgIHBhZChzKSxcbiAgICAgICAgICBsOiAgICBwYWQoTCwgMyksXG4gICAgICAgICAgTDogICAgcGFkKE1hdGgucm91bmQoTCAvIDEwKSksXG4gICAgICAgICAgdDogICAgSCA8IDEyID8gZGF0ZUZvcm1hdC5pMThuLnRpbWVOYW1lc1swXSA6IGRhdGVGb3JtYXQuaTE4bi50aW1lTmFtZXNbMV0sXG4gICAgICAgICAgdHQ6ICAgSCA8IDEyID8gZGF0ZUZvcm1hdC5pMThuLnRpbWVOYW1lc1syXSA6IGRhdGVGb3JtYXQuaTE4bi50aW1lTmFtZXNbM10sXG4gICAgICAgICAgVDogICAgSCA8IDEyID8gZGF0ZUZvcm1hdC5pMThuLnRpbWVOYW1lc1s0XSA6IGRhdGVGb3JtYXQuaTE4bi50aW1lTmFtZXNbNV0sXG4gICAgICAgICAgVFQ6ICAgSCA8IDEyID8gZGF0ZUZvcm1hdC5pMThuLnRpbWVOYW1lc1s2XSA6IGRhdGVGb3JtYXQuaTE4bi50aW1lTmFtZXNbN10sXG4gICAgICAgICAgWjogICAgZ210ID8gJ0dNVCcgOiB1dGMgPyAnVVRDJyA6IChTdHJpbmcoZGF0ZSkubWF0Y2godGltZXpvbmUpIHx8IFsnJ10pLnBvcCgpLnJlcGxhY2UodGltZXpvbmVDbGlwLCAnJyksXG4gICAgICAgICAgbzogICAgKG8gPiAwID8gJy0nIDogJysnKSArIHBhZChNYXRoLmZsb29yKE1hdGguYWJzKG8pIC8gNjApICogMTAwICsgTWF0aC5hYnMobykgJSA2MCwgNCksXG4gICAgICAgICAgUzogICAgWyd0aCcsICdzdCcsICduZCcsICdyZCddW2QgJSAxMCA+IDMgPyAwIDogKGQgJSAxMDAgLSBkICUgMTAgIT0gMTApICogZCAlIDEwXSxcbiAgICAgICAgICBXOiAgICBXLFxuICAgICAgICAgIE46ICAgIE5cbiAgICAgICAgfTtcbiAgXG4gICAgICAgIHJldHVybiBtYXNrLnJlcGxhY2UodG9rZW4sIGZ1bmN0aW9uIChtYXRjaCkge1xuICAgICAgICAgIGlmIChtYXRjaCBpbiBmbGFncykge1xuICAgICAgICAgICAgcmV0dXJuIGZsYWdzW21hdGNoXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIG1hdGNoLnNsaWNlKDEsIG1hdGNoLmxlbmd0aCAtIDEpO1xuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgfSkoKTtcblxuICBkYXRlRm9ybWF0Lm1hc2tzID0ge1xuICAgICdkZWZhdWx0JzogICAgICAgICAgICAgICAnZGRkIG1tbSBkZCB5eXl5IEhIOk1NOnNzJyxcbiAgICAnc2hvcnREYXRlJzogICAgICAgICAgICAgJ20vZC95eScsXG4gICAgJ21lZGl1bURhdGUnOiAgICAgICAgICAgICdtbW0gZCwgeXl5eScsXG4gICAgJ2xvbmdEYXRlJzogICAgICAgICAgICAgICdtbW1tIGQsIHl5eXknLFxuICAgICdmdWxsRGF0ZSc6ICAgICAgICAgICAgICAnZGRkZCwgbW1tbSBkLCB5eXl5JyxcbiAgICAnc2hvcnRUaW1lJzogICAgICAgICAgICAgJ2g6TU0gVFQnLFxuICAgICdtZWRpdW1UaW1lJzogICAgICAgICAgICAnaDpNTTpzcyBUVCcsXG4gICAgJ2xvbmdUaW1lJzogICAgICAgICAgICAgICdoOk1NOnNzIFRUIFonLFxuICAgICdpc29EYXRlJzogICAgICAgICAgICAgICAneXl5eS1tbS1kZCcsXG4gICAgJ2lzb1RpbWUnOiAgICAgICAgICAgICAgICdISDpNTTpzcycsXG4gICAgJ2lzb0RhdGVUaW1lJzogICAgICAgICAgICd5eXl5LW1tLWRkXFwnVFxcJ0hIOk1NOnNzbycsXG4gICAgJ2lzb1V0Y0RhdGVUaW1lJzogICAgICAgICdVVEM6eXl5eS1tbS1kZFxcJ1RcXCdISDpNTTpzc1xcJ1pcXCcnLFxuICAgICdleHBpcmVzSGVhZGVyRm9ybWF0JzogICAnZGRkLCBkZCBtbW0geXl5eSBISDpNTTpzcyBaJ1xuICB9O1xuXG4gIC8vIEludGVybmF0aW9uYWxpemF0aW9uIHN0cmluZ3NcbiAgZGF0ZUZvcm1hdC5pMThuID0ge1xuICAgIGRheU5hbWVzOiBbXG4gICAgICAnU3VuJywgJ01vbicsICdUdWUnLCAnV2VkJywgJ1RodScsICdGcmknLCAnU2F0JyxcbiAgICAgICdTdW5kYXknLCAnTW9uZGF5JywgJ1R1ZXNkYXknLCAnV2VkbmVzZGF5JywgJ1RodXJzZGF5JywgJ0ZyaWRheScsICdTYXR1cmRheSdcbiAgICBdLFxuICAgIG1vbnRoTmFtZXM6IFtcbiAgICAgICdKYW4nLCAnRmViJywgJ01hcicsICdBcHInLCAnTWF5JywgJ0p1bicsICdKdWwnLCAnQXVnJywgJ1NlcCcsICdPY3QnLCAnTm92JywgJ0RlYycsXG4gICAgICAnSmFudWFyeScsICdGZWJydWFyeScsICdNYXJjaCcsICdBcHJpbCcsICdNYXknLCAnSnVuZScsICdKdWx5JywgJ0F1Z3VzdCcsICdTZXB0ZW1iZXInLCAnT2N0b2JlcicsICdOb3ZlbWJlcicsICdEZWNlbWJlcidcbiAgICBdLFxuICAgIHRpbWVOYW1lczogW1xuICAgICAgJ2EnLCAncCcsICdhbScsICdwbScsICdBJywgJ1AnLCAnQU0nLCAnUE0nXG4gICAgXVxuICB9O1xuXG5mdW5jdGlvbiBwYWQodmFsLCBsZW4pIHtcbiAgdmFsID0gU3RyaW5nKHZhbCk7XG4gIGxlbiA9IGxlbiB8fCAyO1xuICB3aGlsZSAodmFsLmxlbmd0aCA8IGxlbikge1xuICAgIHZhbCA9ICcwJyArIHZhbDtcbiAgfVxuICByZXR1cm4gdmFsO1xufVxuXG4vKipcbiAqIEdldCB0aGUgSVNPIDg2MDEgd2VlayBudW1iZXJcbiAqIEJhc2VkIG9uIGNvbW1lbnRzIGZyb21cbiAqIGh0dHA6Ly90ZWNoYmxvZy5wcm9jdXJpb3Mubmwvay9uNjE4L25ld3Mvdmlldy8zMzc5Ni8xNDg2My9DYWxjdWxhdGUtSVNPLTg2MDEtd2Vlay1hbmQteWVhci1pbi1qYXZhc2NyaXB0Lmh0bWxcbiAqXG4gKiBAcGFyYW0gIHtPYmplY3R9IGBkYXRlYFxuICogQHJldHVybiB7TnVtYmVyfVxuICovXG5mdW5jdGlvbiBnZXRXZWVrKGRhdGUpIHtcbiAgLy8gUmVtb3ZlIHRpbWUgY29tcG9uZW50cyBvZiBkYXRlXG4gIHZhciB0YXJnZXRUaHVyc2RheSA9IG5ldyBEYXRlKGRhdGUuZ2V0RnVsbFllYXIoKSwgZGF0ZS5nZXRNb250aCgpLCBkYXRlLmdldERhdGUoKSk7XG5cbiAgLy8gQ2hhbmdlIGRhdGUgdG8gVGh1cnNkYXkgc2FtZSB3ZWVrXG4gIHRhcmdldFRodXJzZGF5LnNldERhdGUodGFyZ2V0VGh1cnNkYXkuZ2V0RGF0ZSgpIC0gKCh0YXJnZXRUaHVyc2RheS5nZXREYXkoKSArIDYpICUgNykgKyAzKTtcblxuICAvLyBUYWtlIEphbnVhcnkgNHRoIGFzIGl0IGlzIGFsd2F5cyBpbiB3ZWVrIDEgKHNlZSBJU08gODYwMSlcbiAgdmFyIGZpcnN0VGh1cnNkYXkgPSBuZXcgRGF0ZSh0YXJnZXRUaHVyc2RheS5nZXRGdWxsWWVhcigpLCAwLCA0KTtcblxuICAvLyBDaGFuZ2UgZGF0ZSB0byBUaHVyc2RheSBzYW1lIHdlZWtcbiAgZmlyc3RUaHVyc2RheS5zZXREYXRlKGZpcnN0VGh1cnNkYXkuZ2V0RGF0ZSgpIC0gKChmaXJzdFRodXJzZGF5LmdldERheSgpICsgNikgJSA3KSArIDMpO1xuXG4gIC8vIENoZWNrIGlmIGRheWxpZ2h0LXNhdmluZy10aW1lLXN3aXRjaCBvY2N1cnJlZCBhbmQgY29ycmVjdCBmb3IgaXRcbiAgdmFyIGRzID0gdGFyZ2V0VGh1cnNkYXkuZ2V0VGltZXpvbmVPZmZzZXQoKSAtIGZpcnN0VGh1cnNkYXkuZ2V0VGltZXpvbmVPZmZzZXQoKTtcbiAgdGFyZ2V0VGh1cnNkYXkuc2V0SG91cnModGFyZ2V0VGh1cnNkYXkuZ2V0SG91cnMoKSAtIGRzKTtcblxuICAvLyBOdW1iZXIgb2Ygd2Vla3MgYmV0d2VlbiB0YXJnZXQgVGh1cnNkYXkgYW5kIGZpcnN0IFRodXJzZGF5XG4gIHZhciB3ZWVrRGlmZiA9ICh0YXJnZXRUaHVyc2RheSAtIGZpcnN0VGh1cnNkYXkpIC8gKDg2NDAwMDAwKjcpO1xuICByZXR1cm4gMSArIE1hdGguZmxvb3Iod2Vla0RpZmYpO1xufVxuXG4vKipcbiAqIEdldCBJU08tODYwMSBudW1lcmljIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBkYXkgb2YgdGhlIHdlZWtcbiAqIDEgKGZvciBNb25kYXkpIHRocm91Z2ggNyAoZm9yIFN1bmRheSlcbiAqIFxuICogQHBhcmFtICB7T2JqZWN0fSBgZGF0ZWBcbiAqIEByZXR1cm4ge051bWJlcn1cbiAqL1xuZnVuY3Rpb24gZ2V0RGF5T2ZXZWVrKGRhdGUpIHtcbiAgdmFyIGRvdyA9IGRhdGUuZ2V0RGF5KCk7XG4gIGlmKGRvdyA9PT0gMCkge1xuICAgIGRvdyA9IDc7XG4gIH1cbiAgcmV0dXJuIGRvdztcbn1cblxuLyoqXG4gKiBraW5kLW9mIHNob3J0Y3V0XG4gKiBAcGFyYW0gIHsqfSB2YWxcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqL1xuZnVuY3Rpb24ga2luZE9mKHZhbCkge1xuICBpZiAodmFsID09PSBudWxsKSB7XG4gICAgcmV0dXJuICdudWxsJztcbiAgfVxuXG4gIGlmICh2YWwgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiAndW5kZWZpbmVkJztcbiAgfVxuXG4gIGlmICh0eXBlb2YgdmFsICE9PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiB0eXBlb2YgdmFsO1xuICB9XG5cbiAgaWYgKEFycmF5LmlzQXJyYXkodmFsKSkge1xuICAgIHJldHVybiAnYXJyYXknO1xuICB9XG5cbiAgcmV0dXJuIHt9LnRvU3RyaW5nLmNhbGwodmFsKVxuICAgIC5zbGljZSg4LCAtMSkudG9Mb3dlckNhc2UoKTtcbn07XG5cblxuXG4gIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICBkZWZpbmUoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGRhdGVGb3JtYXQ7XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBkYXRlRm9ybWF0O1xuICB9IGVsc2Uge1xuICAgIGdsb2JhbC5kYXRlRm9ybWF0ID0gZGF0ZUZvcm1hdDtcbiAgfVxufSkodGhpcyk7XG4iLCAiY29uc3QgZXNjYXBlID0ge1xuICAnJic6ICcmYW1wOycsXG4gICc8JzogJyZsdDsnLFxuICAnPic6ICcmZ3Q7JyxcbiAgJ1wiJzogJyZxdW90OycsXG4gIFwiJ1wiOiAnJiN4Mjc7JyxcbiAgJ2AnOiAnJiN4NjA7JyxcbiAgJz0nOiAnJiN4M0Q7J1xufTtcblxuY29uc3QgYmFkQ2hhcnMgPSAvWyY8PlwiJ2A9XS9nLFxuICBwb3NzaWJsZSA9IC9bJjw+XCInYD1dLztcblxuZnVuY3Rpb24gZXNjYXBlQ2hhcihjaHIpIHtcbiAgcmV0dXJuIGVzY2FwZVtjaHJdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZXh0ZW5kKG9iaiAvKiAsIC4uLnNvdXJjZSAqLykge1xuICBmb3IgKGxldCBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIGZvciAobGV0IGtleSBpbiBhcmd1bWVudHNbaV0pIHtcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYXJndW1lbnRzW2ldLCBrZXkpKSB7XG4gICAgICAgIG9ialtrZXldID0gYXJndW1lbnRzW2ldW2tleV07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG9iajtcbn1cblxuZXhwb3J0IGxldCB0b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5cbi8vIFNvdXJjZWQgZnJvbSBsb2Rhc2hcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9iZXN0aWVqcy9sb2Rhc2gvYmxvYi9tYXN0ZXIvTElDRU5TRS50eHRcbi8qIGVzbGludC1kaXNhYmxlIGZ1bmMtc3R5bGUgKi9cbmxldCBpc0Z1bmN0aW9uID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJztcbn07XG4vLyBmYWxsYmFjayBmb3Igb2xkZXIgdmVyc2lvbnMgb2YgQ2hyb21lIGFuZCBTYWZhcmlcbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5pZiAoaXNGdW5jdGlvbigveC8pKSB7XG4gIGlzRnVuY3Rpb24gPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiAoXG4gICAgICB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicgJiZcbiAgICAgIHRvU3RyaW5nLmNhbGwodmFsdWUpID09PSAnW29iamVjdCBGdW5jdGlvbl0nXG4gICAgKTtcbiAgfTtcbn1cbmV4cG9ydCB7IGlzRnVuY3Rpb24gfTtcbi8qIGVzbGludC1lbmFibGUgZnVuYy1zdHlsZSAqL1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuZXhwb3J0IGNvbnN0IGlzQXJyYXkgPVxuICBBcnJheS5pc0FycmF5IHx8XG4gIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCdcbiAgICAgID8gdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IEFycmF5XSdcbiAgICAgIDogZmFsc2U7XG4gIH07XG5cbi8vIE9sZGVyIElFIHZlcnNpb25zIGRvIG5vdCBkaXJlY3RseSBzdXBwb3J0IGluZGV4T2Ygc28gd2UgbXVzdCBpbXBsZW1lbnQgb3VyIG93biwgc2FkbHkuXG5leHBvcnQgZnVuY3Rpb24gaW5kZXhPZihhcnJheSwgdmFsdWUpIHtcbiAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGFycmF5Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgaWYgKGFycmF5W2ldID09PSB2YWx1ZSkge1xuICAgICAgcmV0dXJuIGk7XG4gICAgfVxuICB9XG4gIHJldHVybiAtMTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVzY2FwZUV4cHJlc3Npb24oc3RyaW5nKSB7XG4gIGlmICh0eXBlb2Ygc3RyaW5nICE9PSAnc3RyaW5nJykge1xuICAgIC8vIGRvbid0IGVzY2FwZSBTYWZlU3RyaW5ncywgc2luY2UgdGhleSdyZSBhbHJlYWR5IHNhZmVcbiAgICBpZiAoc3RyaW5nICYmIHN0cmluZy50b0hUTUwpIHtcbiAgICAgIHJldHVybiBzdHJpbmcudG9IVE1MKCk7XG4gICAgfSBlbHNlIGlmIChzdHJpbmcgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH0gZWxzZSBpZiAoIXN0cmluZykge1xuICAgICAgcmV0dXJuIHN0cmluZyArICcnO1xuICAgIH1cblxuICAgIC8vIEZvcmNlIGEgc3RyaW5nIGNvbnZlcnNpb24gYXMgdGhpcyB3aWxsIGJlIGRvbmUgYnkgdGhlIGFwcGVuZCByZWdhcmRsZXNzIGFuZFxuICAgIC8vIHRoZSByZWdleCB0ZXN0IHdpbGwgZG8gdGhpcyB0cmFuc3BhcmVudGx5IGJlaGluZCB0aGUgc2NlbmVzLCBjYXVzaW5nIGlzc3VlcyBpZlxuICAgIC8vIGFuIG9iamVjdCdzIHRvIHN0cmluZyBoYXMgZXNjYXBlZCBjaGFyYWN0ZXJzIGluIGl0LlxuICAgIHN0cmluZyA9ICcnICsgc3RyaW5nO1xuICB9XG5cbiAgaWYgKCFwb3NzaWJsZS50ZXN0KHN0cmluZykpIHtcbiAgICByZXR1cm4gc3RyaW5nO1xuICB9XG4gIHJldHVybiBzdHJpbmcucmVwbGFjZShiYWRDaGFycywgZXNjYXBlQ2hhcik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0VtcHR5KHZhbHVlKSB7XG4gIGlmICghdmFsdWUgJiYgdmFsdWUgIT09IDApIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBlbHNlIGlmIChpc0FycmF5KHZhbHVlKSAmJiB2YWx1ZS5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUZyYW1lKG9iamVjdCkge1xuICBsZXQgZnJhbWUgPSBleHRlbmQoe30sIG9iamVjdCk7XG4gIGZyYW1lLl9wYXJlbnQgPSBvYmplY3Q7XG4gIHJldHVybiBmcmFtZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJsb2NrUGFyYW1zKHBhcmFtcywgaWRzKSB7XG4gIHBhcmFtcy5wYXRoID0gaWRzO1xuICByZXR1cm4gcGFyYW1zO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYXBwZW5kQ29udGV4dFBhdGgoY29udGV4dFBhdGgsIGlkKSB7XG4gIHJldHVybiAoY29udGV4dFBhdGggPyBjb250ZXh0UGF0aCArICcuJyA6ICcnKSArIGlkO1xufVxuIiwgImNvbnN0IGVycm9yUHJvcHMgPSBbXG4gICdkZXNjcmlwdGlvbicsXG4gICdmaWxlTmFtZScsXG4gICdsaW5lTnVtYmVyJyxcbiAgJ2VuZExpbmVOdW1iZXInLFxuICAnbWVzc2FnZScsXG4gICduYW1lJyxcbiAgJ251bWJlcicsXG4gICdzdGFjaydcbl07XG5cbmZ1bmN0aW9uIEV4Y2VwdGlvbihtZXNzYWdlLCBub2RlKSB7XG4gIGxldCBsb2MgPSBub2RlICYmIG5vZGUubG9jLFxuICAgIGxpbmUsXG4gICAgZW5kTGluZU51bWJlcixcbiAgICBjb2x1bW4sXG4gICAgZW5kQ29sdW1uO1xuXG4gIGlmIChsb2MpIHtcbiAgICBsaW5lID0gbG9jLnN0YXJ0LmxpbmU7XG4gICAgZW5kTGluZU51bWJlciA9IGxvYy5lbmQubGluZTtcbiAgICBjb2x1bW4gPSBsb2Muc3RhcnQuY29sdW1uO1xuICAgIGVuZENvbHVtbiA9IGxvYy5lbmQuY29sdW1uO1xuXG4gICAgbWVzc2FnZSArPSAnIC0gJyArIGxpbmUgKyAnOicgKyBjb2x1bW47XG4gIH1cblxuICBsZXQgdG1wID0gRXJyb3IucHJvdG90eXBlLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgbWVzc2FnZSk7XG5cbiAgLy8gVW5mb3J0dW5hdGVseSBlcnJvcnMgYXJlIG5vdCBlbnVtZXJhYmxlIGluIENocm9tZSAoYXQgbGVhc3QpLCBzbyBgZm9yIHByb3AgaW4gdG1wYCBkb2Vzbid0IHdvcmsuXG4gIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IGVycm9yUHJvcHMubGVuZ3RoOyBpZHgrKykge1xuICAgIHRoaXNbZXJyb3JQcm9wc1tpZHhdXSA9IHRtcFtlcnJvclByb3BzW2lkeF1dO1xuICB9XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgaWYgKEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKSB7XG4gICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgRXhjZXB0aW9uKTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgaWYgKGxvYykge1xuICAgICAgdGhpcy5saW5lTnVtYmVyID0gbGluZTtcbiAgICAgIHRoaXMuZW5kTGluZU51bWJlciA9IGVuZExpbmVOdW1iZXI7XG5cbiAgICAgIC8vIFdvcmsgYXJvdW5kIGlzc3VlIHVuZGVyIHNhZmFyaSB3aGVyZSB3ZSBjYW4ndCBkaXJlY3RseSBzZXQgdGhlIGNvbHVtbiB2YWx1ZVxuICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdjb2x1bW4nLCB7XG4gICAgICAgICAgdmFsdWU6IGNvbHVtbixcbiAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ2VuZENvbHVtbicsIHtcbiAgICAgICAgICB2YWx1ZTogZW5kQ29sdW1uLFxuICAgICAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmNvbHVtbiA9IGNvbHVtbjtcbiAgICAgICAgdGhpcy5lbmRDb2x1bW4gPSBlbmRDb2x1bW47XG4gICAgICB9XG4gICAgfVxuICB9IGNhdGNoIChub3ApIHtcbiAgICAvKiBJZ25vcmUgaWYgdGhlIGJyb3dzZXIgaXMgdmVyeSBwYXJ0aWN1bGFyICovXG4gIH1cbn1cblxuRXhjZXB0aW9uLnByb3RvdHlwZSA9IG5ldyBFcnJvcigpO1xuXG5leHBvcnQgZGVmYXVsdCBFeGNlcHRpb247XG4iLCAiaW1wb3J0IHsgYXBwZW5kQ29udGV4dFBhdGgsIGNyZWF0ZUZyYW1lLCBpc0FycmF5IH0gZnJvbSAnLi4vdXRpbHMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihpbnN0YW5jZSkge1xuICBpbnN0YW5jZS5yZWdpc3RlckhlbHBlcignYmxvY2tIZWxwZXJNaXNzaW5nJywgZnVuY3Rpb24oY29udGV4dCwgb3B0aW9ucykge1xuICAgIGxldCBpbnZlcnNlID0gb3B0aW9ucy5pbnZlcnNlLFxuICAgICAgZm4gPSBvcHRpb25zLmZuO1xuXG4gICAgaWYgKGNvbnRleHQgPT09IHRydWUpIHtcbiAgICAgIHJldHVybiBmbih0aGlzKTtcbiAgICB9IGVsc2UgaWYgKGNvbnRleHQgPT09IGZhbHNlIHx8IGNvbnRleHQgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIGludmVyc2UodGhpcyk7XG4gICAgfSBlbHNlIGlmIChpc0FycmF5KGNvbnRleHQpKSB7XG4gICAgICBpZiAoY29udGV4dC5sZW5ndGggPiAwKSB7XG4gICAgICAgIGlmIChvcHRpb25zLmlkcykge1xuICAgICAgICAgIG9wdGlvbnMuaWRzID0gW29wdGlvbnMubmFtZV07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaW5zdGFuY2UuaGVscGVycy5lYWNoKGNvbnRleHQsIG9wdGlvbnMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGludmVyc2UodGhpcyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChvcHRpb25zLmRhdGEgJiYgb3B0aW9ucy5pZHMpIHtcbiAgICAgICAgbGV0IGRhdGEgPSBjcmVhdGVGcmFtZShvcHRpb25zLmRhdGEpO1xuICAgICAgICBkYXRhLmNvbnRleHRQYXRoID0gYXBwZW5kQ29udGV4dFBhdGgoXG4gICAgICAgICAgb3B0aW9ucy5kYXRhLmNvbnRleHRQYXRoLFxuICAgICAgICAgIG9wdGlvbnMubmFtZVxuICAgICAgICApO1xuICAgICAgICBvcHRpb25zID0geyBkYXRhOiBkYXRhIH07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmbihjb250ZXh0LCBvcHRpb25zKTtcbiAgICB9XG4gIH0pO1xufVxuIiwgImltcG9ydCB7XG4gIGFwcGVuZENvbnRleHRQYXRoLFxuICBibG9ja1BhcmFtcyxcbiAgY3JlYXRlRnJhbWUsXG4gIGlzQXJyYXksXG4gIGlzRnVuY3Rpb25cbn0gZnJvbSAnLi4vdXRpbHMnO1xuaW1wb3J0IEV4Y2VwdGlvbiBmcm9tICcuLi9leGNlcHRpb24nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihpbnN0YW5jZSkge1xuICBpbnN0YW5jZS5yZWdpc3RlckhlbHBlcignZWFjaCcsIGZ1bmN0aW9uKGNvbnRleHQsIG9wdGlvbnMpIHtcbiAgICBpZiAoIW9wdGlvbnMpIHtcbiAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oJ011c3QgcGFzcyBpdGVyYXRvciB0byAjZWFjaCcpO1xuICAgIH1cblxuICAgIGxldCBmbiA9IG9wdGlvbnMuZm4sXG4gICAgICBpbnZlcnNlID0gb3B0aW9ucy5pbnZlcnNlLFxuICAgICAgaSA9IDAsXG4gICAgICByZXQgPSAnJyxcbiAgICAgIGRhdGEsXG4gICAgICBjb250ZXh0UGF0aDtcblxuICAgIGlmIChvcHRpb25zLmRhdGEgJiYgb3B0aW9ucy5pZHMpIHtcbiAgICAgIGNvbnRleHRQYXRoID1cbiAgICAgICAgYXBwZW5kQ29udGV4dFBhdGgob3B0aW9ucy5kYXRhLmNvbnRleHRQYXRoLCBvcHRpb25zLmlkc1swXSkgKyAnLic7XG4gICAgfVxuXG4gICAgaWYgKGlzRnVuY3Rpb24oY29udGV4dCkpIHtcbiAgICAgIGNvbnRleHQgPSBjb250ZXh0LmNhbGwodGhpcyk7XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMuZGF0YSkge1xuICAgICAgZGF0YSA9IGNyZWF0ZUZyYW1lKG9wdGlvbnMuZGF0YSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZXhlY0l0ZXJhdGlvbihmaWVsZCwgaW5kZXgsIGxhc3QpIHtcbiAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgIGRhdGEua2V5ID0gZmllbGQ7XG4gICAgICAgIGRhdGEuaW5kZXggPSBpbmRleDtcbiAgICAgICAgZGF0YS5maXJzdCA9IGluZGV4ID09PSAwO1xuICAgICAgICBkYXRhLmxhc3QgPSAhIWxhc3Q7XG5cbiAgICAgICAgaWYgKGNvbnRleHRQYXRoKSB7XG4gICAgICAgICAgZGF0YS5jb250ZXh0UGF0aCA9IGNvbnRleHRQYXRoICsgZmllbGQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0ID1cbiAgICAgICAgcmV0ICtcbiAgICAgICAgZm4oY29udGV4dFtmaWVsZF0sIHtcbiAgICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICAgIGJsb2NrUGFyYW1zOiBibG9ja1BhcmFtcyhcbiAgICAgICAgICAgIFtjb250ZXh0W2ZpZWxkXSwgZmllbGRdLFxuICAgICAgICAgICAgW2NvbnRleHRQYXRoICsgZmllbGQsIG51bGxdXG4gICAgICAgICAgKVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoY29udGV4dCAmJiB0eXBlb2YgY29udGV4dCA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGlmIChpc0FycmF5KGNvbnRleHQpKSB7XG4gICAgICAgIGZvciAobGV0IGogPSBjb250ZXh0Lmxlbmd0aDsgaSA8IGo7IGkrKykge1xuICAgICAgICAgIGlmIChpIGluIGNvbnRleHQpIHtcbiAgICAgICAgICAgIGV4ZWNJdGVyYXRpb24oaSwgaSwgaSA9PT0gY29udGV4dC5sZW5ndGggLSAxKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoZ2xvYmFsLlN5bWJvbCAmJiBjb250ZXh0W2dsb2JhbC5TeW1ib2wuaXRlcmF0b3JdKSB7XG4gICAgICAgIGNvbnN0IG5ld0NvbnRleHQgPSBbXTtcbiAgICAgICAgY29uc3QgaXRlcmF0b3IgPSBjb250ZXh0W2dsb2JhbC5TeW1ib2wuaXRlcmF0b3JdKCk7XG4gICAgICAgIGZvciAobGV0IGl0ID0gaXRlcmF0b3IubmV4dCgpOyAhaXQuZG9uZTsgaXQgPSBpdGVyYXRvci5uZXh0KCkpIHtcbiAgICAgICAgICBuZXdDb250ZXh0LnB1c2goaXQudmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRleHQgPSBuZXdDb250ZXh0O1xuICAgICAgICBmb3IgKGxldCBqID0gY29udGV4dC5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICAgICAgICBleGVjSXRlcmF0aW9uKGksIGksIGkgPT09IGNvbnRleHQubGVuZ3RoIC0gMSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCBwcmlvcktleTtcblxuICAgICAgICBPYmplY3Qua2V5cyhjb250ZXh0KS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgICAgLy8gV2UncmUgcnVubmluZyB0aGUgaXRlcmF0aW9ucyBvbmUgc3RlcCBvdXQgb2Ygc3luYyBzbyB3ZSBjYW4gZGV0ZWN0XG4gICAgICAgICAgLy8gdGhlIGxhc3QgaXRlcmF0aW9uIHdpdGhvdXQgaGF2ZSB0byBzY2FuIHRoZSBvYmplY3QgdHdpY2UgYW5kIGNyZWF0ZVxuICAgICAgICAgIC8vIGFuIGl0ZXJtZWRpYXRlIGtleXMgYXJyYXkuXG4gICAgICAgICAgaWYgKHByaW9yS2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGV4ZWNJdGVyYXRpb24ocHJpb3JLZXksIGkgLSAxKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcHJpb3JLZXkgPSBrZXk7XG4gICAgICAgICAgaSsrO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHByaW9yS2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBleGVjSXRlcmF0aW9uKHByaW9yS2V5LCBpIC0gMSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgcmV0ID0gaW52ZXJzZSh0aGlzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmV0O1xuICB9KTtcbn1cbiIsICJpbXBvcnQgRXhjZXB0aW9uIGZyb20gJy4uL2V4Y2VwdGlvbic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGluc3RhbmNlKSB7XG4gIGluc3RhbmNlLnJlZ2lzdGVySGVscGVyKCdoZWxwZXJNaXNzaW5nJywgZnVuY3Rpb24oLyogW2FyZ3MsIF1vcHRpb25zICovKSB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICAgIC8vIEEgbWlzc2luZyBmaWVsZCBpbiBhIHt7Zm9vfX0gY29uc3RydWN0LlxuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gU29tZW9uZSBpcyBhY3R1YWxseSB0cnlpbmcgdG8gY2FsbCBzb21ldGhpbmcsIGJsb3cgdXAuXG4gICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKFxuICAgICAgICAnTWlzc2luZyBoZWxwZXI6IFwiJyArIGFyZ3VtZW50c1thcmd1bWVudHMubGVuZ3RoIC0gMV0ubmFtZSArICdcIidcbiAgICAgICk7XG4gICAgfVxuICB9KTtcbn1cbiIsICJpbXBvcnQgeyBpc0VtcHR5LCBpc0Z1bmN0aW9uIH0gZnJvbSAnLi4vdXRpbHMnO1xuaW1wb3J0IEV4Y2VwdGlvbiBmcm9tICcuLi9leGNlcHRpb24nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihpbnN0YW5jZSkge1xuICBpbnN0YW5jZS5yZWdpc3RlckhlbHBlcignaWYnLCBmdW5jdGlvbihjb25kaXRpb25hbCwgb3B0aW9ucykge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoICE9IDIpIHtcbiAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oJyNpZiByZXF1aXJlcyBleGFjdGx5IG9uZSBhcmd1bWVudCcpO1xuICAgIH1cbiAgICBpZiAoaXNGdW5jdGlvbihjb25kaXRpb25hbCkpIHtcbiAgICAgIGNvbmRpdGlvbmFsID0gY29uZGl0aW9uYWwuY2FsbCh0aGlzKTtcbiAgICB9XG5cbiAgICAvLyBEZWZhdWx0IGJlaGF2aW9yIGlzIHRvIHJlbmRlciB0aGUgcG9zaXRpdmUgcGF0aCBpZiB0aGUgdmFsdWUgaXMgdHJ1dGh5IGFuZCBub3QgZW1wdHkuXG4gICAgLy8gVGhlIGBpbmNsdWRlWmVyb2Agb3B0aW9uIG1heSBiZSBzZXQgdG8gdHJlYXQgdGhlIGNvbmR0aW9uYWwgYXMgcHVyZWx5IG5vdCBlbXB0eSBiYXNlZCBvbiB0aGVcbiAgICAvLyBiZWhhdmlvciBvZiBpc0VtcHR5LiBFZmZlY3RpdmVseSB0aGlzIGRldGVybWluZXMgaWYgMCBpcyBoYW5kbGVkIGJ5IHRoZSBwb3NpdGl2ZSBwYXRoIG9yIG5lZ2F0aXZlLlxuICAgIGlmICgoIW9wdGlvbnMuaGFzaC5pbmNsdWRlWmVybyAmJiAhY29uZGl0aW9uYWwpIHx8IGlzRW1wdHkoY29uZGl0aW9uYWwpKSB7XG4gICAgICByZXR1cm4gb3B0aW9ucy5pbnZlcnNlKHRoaXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gb3B0aW9ucy5mbih0aGlzKTtcbiAgICB9XG4gIH0pO1xuXG4gIGluc3RhbmNlLnJlZ2lzdGVySGVscGVyKCd1bmxlc3MnLCBmdW5jdGlvbihjb25kaXRpb25hbCwgb3B0aW9ucykge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoICE9IDIpIHtcbiAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oJyN1bmxlc3MgcmVxdWlyZXMgZXhhY3RseSBvbmUgYXJndW1lbnQnKTtcbiAgICB9XG4gICAgcmV0dXJuIGluc3RhbmNlLmhlbHBlcnNbJ2lmJ10uY2FsbCh0aGlzLCBjb25kaXRpb25hbCwge1xuICAgICAgZm46IG9wdGlvbnMuaW52ZXJzZSxcbiAgICAgIGludmVyc2U6IG9wdGlvbnMuZm4sXG4gICAgICBoYXNoOiBvcHRpb25zLmhhc2hcbiAgICB9KTtcbiAgfSk7XG59XG4iLCAiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgaW5zdGFuY2UucmVnaXN0ZXJIZWxwZXIoJ2xvZycsIGZ1bmN0aW9uKC8qIG1lc3NhZ2UsIG9wdGlvbnMgKi8pIHtcbiAgICBsZXQgYXJncyA9IFt1bmRlZmluZWRdLFxuICAgICAgb3B0aW9ucyA9IGFyZ3VtZW50c1thcmd1bWVudHMubGVuZ3RoIC0gMV07XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICBhcmdzLnB1c2goYXJndW1lbnRzW2ldKTtcbiAgICB9XG5cbiAgICBsZXQgbGV2ZWwgPSAxO1xuICAgIGlmIChvcHRpb25zLmhhc2gubGV2ZWwgIT0gbnVsbCkge1xuICAgICAgbGV2ZWwgPSBvcHRpb25zLmhhc2gubGV2ZWw7XG4gICAgfSBlbHNlIGlmIChvcHRpb25zLmRhdGEgJiYgb3B0aW9ucy5kYXRhLmxldmVsICE9IG51bGwpIHtcbiAgICAgIGxldmVsID0gb3B0aW9ucy5kYXRhLmxldmVsO1xuICAgIH1cbiAgICBhcmdzWzBdID0gbGV2ZWw7XG5cbiAgICBpbnN0YW5jZS5sb2coLi4uYXJncyk7XG4gIH0pO1xufVxuIiwgImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGluc3RhbmNlKSB7XG4gIGluc3RhbmNlLnJlZ2lzdGVySGVscGVyKCdsb29rdXAnLCBmdW5jdGlvbihvYmosIGZpZWxkLCBvcHRpb25zKSB7XG4gICAgaWYgKCFvYmopIHtcbiAgICAgIC8vIE5vdGUgZm9yIDUuMDogQ2hhbmdlIHRvIFwib2JqID09IG51bGxcIiBpbiA1LjBcbiAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuICAgIHJldHVybiBvcHRpb25zLmxvb2t1cFByb3BlcnR5KG9iaiwgZmllbGQpO1xuICB9KTtcbn1cbiIsICJpbXBvcnQge1xuICBhcHBlbmRDb250ZXh0UGF0aCxcbiAgYmxvY2tQYXJhbXMsXG4gIGNyZWF0ZUZyYW1lLFxuICBpc0VtcHR5LFxuICBpc0Z1bmN0aW9uXG59IGZyb20gJy4uL3V0aWxzJztcbmltcG9ydCBFeGNlcHRpb24gZnJvbSAnLi4vZXhjZXB0aW9uJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgaW5zdGFuY2UucmVnaXN0ZXJIZWxwZXIoJ3dpdGgnLCBmdW5jdGlvbihjb250ZXh0LCBvcHRpb25zKSB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggIT0gMikge1xuICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbignI3dpdGggcmVxdWlyZXMgZXhhY3RseSBvbmUgYXJndW1lbnQnKTtcbiAgICB9XG4gICAgaWYgKGlzRnVuY3Rpb24oY29udGV4dCkpIHtcbiAgICAgIGNvbnRleHQgPSBjb250ZXh0LmNhbGwodGhpcyk7XG4gICAgfVxuXG4gICAgbGV0IGZuID0gb3B0aW9ucy5mbjtcblxuICAgIGlmICghaXNFbXB0eShjb250ZXh0KSkge1xuICAgICAgbGV0IGRhdGEgPSBvcHRpb25zLmRhdGE7XG4gICAgICBpZiAob3B0aW9ucy5kYXRhICYmIG9wdGlvbnMuaWRzKSB7XG4gICAgICAgIGRhdGEgPSBjcmVhdGVGcmFtZShvcHRpb25zLmRhdGEpO1xuICAgICAgICBkYXRhLmNvbnRleHRQYXRoID0gYXBwZW5kQ29udGV4dFBhdGgoXG4gICAgICAgICAgb3B0aW9ucy5kYXRhLmNvbnRleHRQYXRoLFxuICAgICAgICAgIG9wdGlvbnMuaWRzWzBdXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmbihjb250ZXh0LCB7XG4gICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgIGJsb2NrUGFyYW1zOiBibG9ja1BhcmFtcyhbY29udGV4dF0sIFtkYXRhICYmIGRhdGEuY29udGV4dFBhdGhdKVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBvcHRpb25zLmludmVyc2UodGhpcyk7XG4gICAgfVxuICB9KTtcbn1cbiIsICJpbXBvcnQgcmVnaXN0ZXJCbG9ja0hlbHBlck1pc3NpbmcgZnJvbSAnLi9oZWxwZXJzL2Jsb2NrLWhlbHBlci1taXNzaW5nJztcbmltcG9ydCByZWdpc3RlckVhY2ggZnJvbSAnLi9oZWxwZXJzL2VhY2gnO1xuaW1wb3J0IHJlZ2lzdGVySGVscGVyTWlzc2luZyBmcm9tICcuL2hlbHBlcnMvaGVscGVyLW1pc3NpbmcnO1xuaW1wb3J0IHJlZ2lzdGVySWYgZnJvbSAnLi9oZWxwZXJzL2lmJztcbmltcG9ydCByZWdpc3RlckxvZyBmcm9tICcuL2hlbHBlcnMvbG9nJztcbmltcG9ydCByZWdpc3Rlckxvb2t1cCBmcm9tICcuL2hlbHBlcnMvbG9va3VwJztcbmltcG9ydCByZWdpc3RlcldpdGggZnJvbSAnLi9oZWxwZXJzL3dpdGgnO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJEZWZhdWx0SGVscGVycyhpbnN0YW5jZSkge1xuICByZWdpc3RlckJsb2NrSGVscGVyTWlzc2luZyhpbnN0YW5jZSk7XG4gIHJlZ2lzdGVyRWFjaChpbnN0YW5jZSk7XG4gIHJlZ2lzdGVySGVscGVyTWlzc2luZyhpbnN0YW5jZSk7XG4gIHJlZ2lzdGVySWYoaW5zdGFuY2UpO1xuICByZWdpc3RlckxvZyhpbnN0YW5jZSk7XG4gIHJlZ2lzdGVyTG9va3VwKGluc3RhbmNlKTtcbiAgcmVnaXN0ZXJXaXRoKGluc3RhbmNlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1vdmVIZWxwZXJUb0hvb2tzKGluc3RhbmNlLCBoZWxwZXJOYW1lLCBrZWVwSGVscGVyKSB7XG4gIGlmIChpbnN0YW5jZS5oZWxwZXJzW2hlbHBlck5hbWVdKSB7XG4gICAgaW5zdGFuY2UuaG9va3NbaGVscGVyTmFtZV0gPSBpbnN0YW5jZS5oZWxwZXJzW2hlbHBlck5hbWVdO1xuICAgIGlmICgha2VlcEhlbHBlcikge1xuICAgICAgZGVsZXRlIGluc3RhbmNlLmhlbHBlcnNbaGVscGVyTmFtZV07XG4gICAgfVxuICB9XG59XG4iLCAiaW1wb3J0IHsgZXh0ZW5kIH0gZnJvbSAnLi4vdXRpbHMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihpbnN0YW5jZSkge1xuICBpbnN0YW5jZS5yZWdpc3RlckRlY29yYXRvcignaW5saW5lJywgZnVuY3Rpb24oZm4sIHByb3BzLCBjb250YWluZXIsIG9wdGlvbnMpIHtcbiAgICBsZXQgcmV0ID0gZm47XG4gICAgaWYgKCFwcm9wcy5wYXJ0aWFscykge1xuICAgICAgcHJvcHMucGFydGlhbHMgPSB7fTtcbiAgICAgIHJldCA9IGZ1bmN0aW9uKGNvbnRleHQsIG9wdGlvbnMpIHtcbiAgICAgICAgLy8gQ3JlYXRlIGEgbmV3IHBhcnRpYWxzIHN0YWNrIGZyYW1lIHByaW9yIHRvIGV4ZWMuXG4gICAgICAgIGxldCBvcmlnaW5hbCA9IGNvbnRhaW5lci5wYXJ0aWFscztcbiAgICAgICAgY29udGFpbmVyLnBhcnRpYWxzID0gZXh0ZW5kKHt9LCBvcmlnaW5hbCwgcHJvcHMucGFydGlhbHMpO1xuICAgICAgICBsZXQgcmV0ID0gZm4oY29udGV4dCwgb3B0aW9ucyk7XG4gICAgICAgIGNvbnRhaW5lci5wYXJ0aWFscyA9IG9yaWdpbmFsO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgfTtcbiAgICB9XG5cbiAgICBwcm9wcy5wYXJ0aWFsc1tvcHRpb25zLmFyZ3NbMF1dID0gb3B0aW9ucy5mbjtcblxuICAgIHJldHVybiByZXQ7XG4gIH0pO1xufVxuIiwgImltcG9ydCByZWdpc3RlcklubGluZSBmcm9tICcuL2RlY29yYXRvcnMvaW5saW5lJztcblxuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyRGVmYXVsdERlY29yYXRvcnMoaW5zdGFuY2UpIHtcbiAgcmVnaXN0ZXJJbmxpbmUoaW5zdGFuY2UpO1xufVxuIiwgImltcG9ydCB7IGluZGV4T2YgfSBmcm9tICcuL3V0aWxzJztcblxubGV0IGxvZ2dlciA9IHtcbiAgbWV0aG9kTWFwOiBbJ2RlYnVnJywgJ2luZm8nLCAnd2FybicsICdlcnJvciddLFxuICBsZXZlbDogJ2luZm8nLFxuXG4gIC8vIE1hcHMgYSBnaXZlbiBsZXZlbCB2YWx1ZSB0byB0aGUgYG1ldGhvZE1hcGAgaW5kZXhlcyBhYm92ZS5cbiAgbG9va3VwTGV2ZWw6IGZ1bmN0aW9uKGxldmVsKSB7XG4gICAgaWYgKHR5cGVvZiBsZXZlbCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGxldCBsZXZlbE1hcCA9IGluZGV4T2YobG9nZ2VyLm1ldGhvZE1hcCwgbGV2ZWwudG9Mb3dlckNhc2UoKSk7XG4gICAgICBpZiAobGV2ZWxNYXAgPj0gMCkge1xuICAgICAgICBsZXZlbCA9IGxldmVsTWFwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGV2ZWwgPSBwYXJzZUludChsZXZlbCwgMTApO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBsZXZlbDtcbiAgfSxcblxuICAvLyBDYW4gYmUgb3ZlcnJpZGRlbiBpbiB0aGUgaG9zdCBlbnZpcm9ubWVudFxuICBsb2c6IGZ1bmN0aW9uKGxldmVsLCAuLi5tZXNzYWdlKSB7XG4gICAgbGV2ZWwgPSBsb2dnZXIubG9va3VwTGV2ZWwobGV2ZWwpO1xuXG4gICAgaWYgKFxuICAgICAgdHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICBsb2dnZXIubG9va3VwTGV2ZWwobG9nZ2VyLmxldmVsKSA8PSBsZXZlbFxuICAgICkge1xuICAgICAgbGV0IG1ldGhvZCA9IGxvZ2dlci5tZXRob2RNYXBbbGV2ZWxdO1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgIGlmICghY29uc29sZVttZXRob2RdKSB7XG4gICAgICAgIG1ldGhvZCA9ICdsb2cnO1xuICAgICAgfVxuICAgICAgY29uc29sZVttZXRob2RdKC4uLm1lc3NhZ2UpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcbiAgICB9XG4gIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IGxvZ2dlcjtcbiIsICJpbXBvcnQgeyBleHRlbmQgfSBmcm9tICcuLi91dGlscyc7XG5cbi8qKlxuICogQ3JlYXRlIGEgbmV3IG9iamVjdCB3aXRoIFwibnVsbFwiLXByb3RvdHlwZSB0byBhdm9pZCB0cnV0aHkgcmVzdWx0cyBvbiBwcm90b3R5cGUgcHJvcGVydGllcy5cbiAqIFRoZSByZXN1bHRpbmcgb2JqZWN0IGNhbiBiZSB1c2VkIHdpdGggXCJvYmplY3RbcHJvcGVydHldXCIgdG8gY2hlY2sgaWYgYSBwcm9wZXJ0eSBleGlzdHNcbiAqIEBwYXJhbSB7Li4ub2JqZWN0fSBzb3VyY2VzIGEgdmFyYXJncyBwYXJhbWV0ZXIgb2Ygc291cmNlIG9iamVjdHMgdGhhdCB3aWxsIGJlIG1lcmdlZFxuICogQHJldHVybnMge29iamVjdH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU5ld0xvb2t1cE9iamVjdCguLi5zb3VyY2VzKSB7XG4gIHJldHVybiBleHRlbmQoT2JqZWN0LmNyZWF0ZShudWxsKSwgLi4uc291cmNlcyk7XG59XG4iLCAiaW1wb3J0IHsgY3JlYXRlTmV3TG9va3VwT2JqZWN0IH0gZnJvbSAnLi9jcmVhdGUtbmV3LWxvb2t1cC1vYmplY3QnO1xuaW1wb3J0ICogYXMgbG9nZ2VyIGZyb20gJy4uL2xvZ2dlcic7XG5cbmNvbnN0IGxvZ2dlZFByb3BlcnRpZXMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUHJvdG9BY2Nlc3NDb250cm9sKHJ1bnRpbWVPcHRpb25zKSB7XG4gIGxldCBkZWZhdWx0TWV0aG9kV2hpdGVMaXN0ID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgZGVmYXVsdE1ldGhvZFdoaXRlTGlzdFsnY29uc3RydWN0b3InXSA9IGZhbHNlO1xuICBkZWZhdWx0TWV0aG9kV2hpdGVMaXN0WydfX2RlZmluZUdldHRlcl9fJ10gPSBmYWxzZTtcbiAgZGVmYXVsdE1ldGhvZFdoaXRlTGlzdFsnX19kZWZpbmVTZXR0ZXJfXyddID0gZmFsc2U7XG4gIGRlZmF1bHRNZXRob2RXaGl0ZUxpc3RbJ19fbG9va3VwR2V0dGVyX18nXSA9IGZhbHNlO1xuXG4gIGxldCBkZWZhdWx0UHJvcGVydHlXaGl0ZUxpc3QgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcHJvdG9cbiAgZGVmYXVsdFByb3BlcnR5V2hpdGVMaXN0WydfX3Byb3RvX18nXSA9IGZhbHNlO1xuXG4gIHJldHVybiB7XG4gICAgcHJvcGVydGllczoge1xuICAgICAgd2hpdGVsaXN0OiBjcmVhdGVOZXdMb29rdXBPYmplY3QoXG4gICAgICAgIGRlZmF1bHRQcm9wZXJ0eVdoaXRlTGlzdCxcbiAgICAgICAgcnVudGltZU9wdGlvbnMuYWxsb3dlZFByb3RvUHJvcGVydGllc1xuICAgICAgKSxcbiAgICAgIGRlZmF1bHRWYWx1ZTogcnVudGltZU9wdGlvbnMuYWxsb3dQcm90b1Byb3BlcnRpZXNCeURlZmF1bHRcbiAgICB9LFxuICAgIG1ldGhvZHM6IHtcbiAgICAgIHdoaXRlbGlzdDogY3JlYXRlTmV3TG9va3VwT2JqZWN0KFxuICAgICAgICBkZWZhdWx0TWV0aG9kV2hpdGVMaXN0LFxuICAgICAgICBydW50aW1lT3B0aW9ucy5hbGxvd2VkUHJvdG9NZXRob2RzXG4gICAgICApLFxuICAgICAgZGVmYXVsdFZhbHVlOiBydW50aW1lT3B0aW9ucy5hbGxvd1Byb3RvTWV0aG9kc0J5RGVmYXVsdFxuICAgIH1cbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlc3VsdElzQWxsb3dlZChyZXN1bHQsIHByb3RvQWNjZXNzQ29udHJvbCwgcHJvcGVydHlOYW1lKSB7XG4gIGlmICh0eXBlb2YgcmVzdWx0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIGNoZWNrV2hpdGVMaXN0KHByb3RvQWNjZXNzQ29udHJvbC5tZXRob2RzLCBwcm9wZXJ0eU5hbWUpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBjaGVja1doaXRlTGlzdChwcm90b0FjY2Vzc0NvbnRyb2wucHJvcGVydGllcywgcHJvcGVydHlOYW1lKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjaGVja1doaXRlTGlzdChwcm90b0FjY2Vzc0NvbnRyb2xGb3JUeXBlLCBwcm9wZXJ0eU5hbWUpIHtcbiAgaWYgKHByb3RvQWNjZXNzQ29udHJvbEZvclR5cGUud2hpdGVsaXN0W3Byb3BlcnR5TmFtZV0gIT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBwcm90b0FjY2Vzc0NvbnRyb2xGb3JUeXBlLndoaXRlbGlzdFtwcm9wZXJ0eU5hbWVdID09PSB0cnVlO1xuICB9XG4gIGlmIChwcm90b0FjY2Vzc0NvbnRyb2xGb3JUeXBlLmRlZmF1bHRWYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIHByb3RvQWNjZXNzQ29udHJvbEZvclR5cGUuZGVmYXVsdFZhbHVlO1xuICB9XG4gIGxvZ1VuZXhwZWNlZFByb3BlcnR5QWNjZXNzT25jZShwcm9wZXJ0eU5hbWUpO1xuICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGxvZ1VuZXhwZWNlZFByb3BlcnR5QWNjZXNzT25jZShwcm9wZXJ0eU5hbWUpIHtcbiAgaWYgKGxvZ2dlZFByb3BlcnRpZXNbcHJvcGVydHlOYW1lXSAhPT0gdHJ1ZSkge1xuICAgIGxvZ2dlZFByb3BlcnRpZXNbcHJvcGVydHlOYW1lXSA9IHRydWU7XG4gICAgbG9nZ2VyLmxvZyhcbiAgICAgICdlcnJvcicsXG4gICAgICBgSGFuZGxlYmFyczogQWNjZXNzIGhhcyBiZWVuIGRlbmllZCB0byByZXNvbHZlIHRoZSBwcm9wZXJ0eSBcIiR7cHJvcGVydHlOYW1lfVwiIGJlY2F1c2UgaXQgaXMgbm90IGFuIFwib3duIHByb3BlcnR5XCIgb2YgaXRzIHBhcmVudC5cXG5gICtcbiAgICAgICAgYFlvdSBjYW4gYWRkIGEgcnVudGltZSBvcHRpb24gdG8gZGlzYWJsZSB0aGUgY2hlY2sgb3IgdGhpcyB3YXJuaW5nOlxcbmAgK1xuICAgICAgICBgU2VlIGh0dHBzOi8vaGFuZGxlYmFyc2pzLmNvbS9hcGktcmVmZXJlbmNlL3J1bnRpbWUtb3B0aW9ucy5odG1sI29wdGlvbnMtdG8tY29udHJvbC1wcm90b3R5cGUtYWNjZXNzIGZvciBkZXRhaWxzYFxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlc2V0TG9nZ2VkUHJvcGVydGllcygpIHtcbiAgT2JqZWN0LmtleXMobG9nZ2VkUHJvcGVydGllcykuZm9yRWFjaChwcm9wZXJ0eU5hbWUgPT4ge1xuICAgIGRlbGV0ZSBsb2dnZWRQcm9wZXJ0aWVzW3Byb3BlcnR5TmFtZV07XG4gIH0pO1xufVxuIiwgImltcG9ydCB7IGNyZWF0ZUZyYW1lLCBleHRlbmQsIHRvU3RyaW5nIH0gZnJvbSAnLi91dGlscyc7XG5pbXBvcnQgRXhjZXB0aW9uIGZyb20gJy4vZXhjZXB0aW9uJztcbmltcG9ydCB7IHJlZ2lzdGVyRGVmYXVsdEhlbHBlcnMgfSBmcm9tICcuL2hlbHBlcnMnO1xuaW1wb3J0IHsgcmVnaXN0ZXJEZWZhdWx0RGVjb3JhdG9ycyB9IGZyb20gJy4vZGVjb3JhdG9ycyc7XG5pbXBvcnQgbG9nZ2VyIGZyb20gJy4vbG9nZ2VyJztcbmltcG9ydCB7IHJlc2V0TG9nZ2VkUHJvcGVydGllcyB9IGZyb20gJy4vaW50ZXJuYWwvcHJvdG8tYWNjZXNzJztcblxuZXhwb3J0IGNvbnN0IFZFUlNJT04gPSAnNC43LjcnO1xuZXhwb3J0IGNvbnN0IENPTVBJTEVSX1JFVklTSU9OID0gODtcbmV4cG9ydCBjb25zdCBMQVNUX0NPTVBBVElCTEVfQ09NUElMRVJfUkVWSVNJT04gPSA3O1xuXG5leHBvcnQgY29uc3QgUkVWSVNJT05fQ0hBTkdFUyA9IHtcbiAgMTogJzw9IDEuMC5yYy4yJywgLy8gMS4wLnJjLjIgaXMgYWN0dWFsbHkgcmV2MiBidXQgZG9lc24ndCByZXBvcnQgaXRcbiAgMjogJz09IDEuMC4wLXJjLjMnLFxuICAzOiAnPT0gMS4wLjAtcmMuNCcsXG4gIDQ6ICc9PSAxLngueCcsXG4gIDU6ICc9PSAyLjAuMC1hbHBoYS54JyxcbiAgNjogJz49IDIuMC4wLWJldGEuMScsXG4gIDc6ICc+PSA0LjAuMCA8NC4zLjAnLFxuICA4OiAnPj0gNC4zLjAnXG59O1xuXG5jb25zdCBvYmplY3RUeXBlID0gJ1tvYmplY3QgT2JqZWN0XSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBIYW5kbGViYXJzRW52aXJvbm1lbnQoaGVscGVycywgcGFydGlhbHMsIGRlY29yYXRvcnMpIHtcbiAgdGhpcy5oZWxwZXJzID0gaGVscGVycyB8fCB7fTtcbiAgdGhpcy5wYXJ0aWFscyA9IHBhcnRpYWxzIHx8IHt9O1xuICB0aGlzLmRlY29yYXRvcnMgPSBkZWNvcmF0b3JzIHx8IHt9O1xuXG4gIHJlZ2lzdGVyRGVmYXVsdEhlbHBlcnModGhpcyk7XG4gIHJlZ2lzdGVyRGVmYXVsdERlY29yYXRvcnModGhpcyk7XG59XG5cbkhhbmRsZWJhcnNFbnZpcm9ubWVudC5wcm90b3R5cGUgPSB7XG4gIGNvbnN0cnVjdG9yOiBIYW5kbGViYXJzRW52aXJvbm1lbnQsXG5cbiAgbG9nZ2VyOiBsb2dnZXIsXG4gIGxvZzogbG9nZ2VyLmxvZyxcblxuICByZWdpc3RlckhlbHBlcjogZnVuY3Rpb24obmFtZSwgZm4pIHtcbiAgICBpZiAodG9TdHJpbmcuY2FsbChuYW1lKSA9PT0gb2JqZWN0VHlwZSkge1xuICAgICAgaWYgKGZuKSB7XG4gICAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oJ0FyZyBub3Qgc3VwcG9ydGVkIHdpdGggbXVsdGlwbGUgaGVscGVycycpO1xuICAgICAgfVxuICAgICAgZXh0ZW5kKHRoaXMuaGVscGVycywgbmFtZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaGVscGVyc1tuYW1lXSA9IGZuO1xuICAgIH1cbiAgfSxcbiAgdW5yZWdpc3RlckhlbHBlcjogZnVuY3Rpb24obmFtZSkge1xuICAgIGRlbGV0ZSB0aGlzLmhlbHBlcnNbbmFtZV07XG4gIH0sXG5cbiAgcmVnaXN0ZXJQYXJ0aWFsOiBmdW5jdGlvbihuYW1lLCBwYXJ0aWFsKSB7XG4gICAgaWYgKHRvU3RyaW5nLmNhbGwobmFtZSkgPT09IG9iamVjdFR5cGUpIHtcbiAgICAgIGV4dGVuZCh0aGlzLnBhcnRpYWxzLCBuYW1lKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHR5cGVvZiBwYXJ0aWFsID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKFxuICAgICAgICAgIGBBdHRlbXB0aW5nIHRvIHJlZ2lzdGVyIGEgcGFydGlhbCBjYWxsZWQgXCIke25hbWV9XCIgYXMgdW5kZWZpbmVkYFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgdGhpcy5wYXJ0aWFsc1tuYW1lXSA9IHBhcnRpYWw7XG4gICAgfVxuICB9LFxuICB1bnJlZ2lzdGVyUGFydGlhbDogZnVuY3Rpb24obmFtZSkge1xuICAgIGRlbGV0ZSB0aGlzLnBhcnRpYWxzW25hbWVdO1xuICB9LFxuXG4gIHJlZ2lzdGVyRGVjb3JhdG9yOiBmdW5jdGlvbihuYW1lLCBmbikge1xuICAgIGlmICh0b1N0cmluZy5jYWxsKG5hbWUpID09PSBvYmplY3RUeXBlKSB7XG4gICAgICBpZiAoZm4pIHtcbiAgICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbignQXJnIG5vdCBzdXBwb3J0ZWQgd2l0aCBtdWx0aXBsZSBkZWNvcmF0b3JzJyk7XG4gICAgICB9XG4gICAgICBleHRlbmQodGhpcy5kZWNvcmF0b3JzLCBuYW1lKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5kZWNvcmF0b3JzW25hbWVdID0gZm47XG4gICAgfVxuICB9LFxuICB1bnJlZ2lzdGVyRGVjb3JhdG9yOiBmdW5jdGlvbihuYW1lKSB7XG4gICAgZGVsZXRlIHRoaXMuZGVjb3JhdG9yc1tuYW1lXTtcbiAgfSxcbiAgLyoqXG4gICAqIFJlc2V0IHRoZSBtZW1vcnkgb2YgaWxsZWdhbCBwcm9wZXJ0eSBhY2Nlc3NlcyB0aGF0IGhhdmUgYWxyZWFkeSBiZWVuIGxvZ2dlZC5cbiAgICogQGRlcHJlY2F0ZWQgc2hvdWxkIG9ubHkgYmUgdXNlZCBpbiBoYW5kbGViYXJzIHRlc3QtY2FzZXNcbiAgICovXG4gIHJlc2V0TG9nZ2VkUHJvcGVydHlBY2Nlc3NlcygpIHtcbiAgICByZXNldExvZ2dlZFByb3BlcnRpZXMoKTtcbiAgfVxufTtcblxuZXhwb3J0IGxldCBsb2cgPSBsb2dnZXIubG9nO1xuXG5leHBvcnQgeyBjcmVhdGVGcmFtZSwgbG9nZ2VyIH07XG4iLCAiLy8gQnVpbGQgb3V0IG91ciBiYXNpYyBTYWZlU3RyaW5nIHR5cGVcbmZ1bmN0aW9uIFNhZmVTdHJpbmcoc3RyaW5nKSB7XG4gIHRoaXMuc3RyaW5nID0gc3RyaW5nO1xufVxuXG5TYWZlU3RyaW5nLnByb3RvdHlwZS50b1N0cmluZyA9IFNhZmVTdHJpbmcucHJvdG90eXBlLnRvSFRNTCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gJycgKyB0aGlzLnN0cmluZztcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFNhZmVTdHJpbmc7XG4iLCAiZXhwb3J0IGZ1bmN0aW9uIHdyYXBIZWxwZXIoaGVscGVyLCB0cmFuc2Zvcm1PcHRpb25zRm4pIHtcbiAgaWYgKHR5cGVvZiBoZWxwZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAvLyBUaGlzIHNob3VsZCBub3QgaGFwcGVuLCBidXQgYXBwYXJlbnRseSBpdCBkb2VzIGluIGh0dHBzOi8vZ2l0aHViLmNvbS93eWNhdHMvaGFuZGxlYmFycy5qcy9pc3N1ZXMvMTYzOVxuICAgIC8vIFdlIHRyeSB0byBtYWtlIHRoZSB3cmFwcGVyIGxlYXN0LWludmFzaXZlIGJ5IG5vdCB3cmFwcGluZyBpdCwgaWYgdGhlIGhlbHBlciBpcyBub3QgYSBmdW5jdGlvbi5cbiAgICByZXR1cm4gaGVscGVyO1xuICB9XG4gIGxldCB3cmFwcGVyID0gZnVuY3Rpb24oLyogZHluYW1pYyBhcmd1bWVudHMgKi8pIHtcbiAgICBjb25zdCBvcHRpb25zID0gYXJndW1lbnRzW2FyZ3VtZW50cy5sZW5ndGggLSAxXTtcbiAgICBhcmd1bWVudHNbYXJndW1lbnRzLmxlbmd0aCAtIDFdID0gdHJhbnNmb3JtT3B0aW9uc0ZuKG9wdGlvbnMpO1xuICAgIHJldHVybiBoZWxwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfTtcbiAgcmV0dXJuIHdyYXBwZXI7XG59XG4iLCAiaW1wb3J0ICogYXMgVXRpbHMgZnJvbSAnLi91dGlscyc7XG5pbXBvcnQgRXhjZXB0aW9uIGZyb20gJy4vZXhjZXB0aW9uJztcbmltcG9ydCB7XG4gIENPTVBJTEVSX1JFVklTSU9OLFxuICBjcmVhdGVGcmFtZSxcbiAgTEFTVF9DT01QQVRJQkxFX0NPTVBJTEVSX1JFVklTSU9OLFxuICBSRVZJU0lPTl9DSEFOR0VTXG59IGZyb20gJy4vYmFzZSc7XG5pbXBvcnQgeyBtb3ZlSGVscGVyVG9Ib29rcyB9IGZyb20gJy4vaGVscGVycyc7XG5pbXBvcnQgeyB3cmFwSGVscGVyIH0gZnJvbSAnLi9pbnRlcm5hbC93cmFwSGVscGVyJztcbmltcG9ydCB7XG4gIGNyZWF0ZVByb3RvQWNjZXNzQ29udHJvbCxcbiAgcmVzdWx0SXNBbGxvd2VkXG59IGZyb20gJy4vaW50ZXJuYWwvcHJvdG8tYWNjZXNzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrUmV2aXNpb24oY29tcGlsZXJJbmZvKSB7XG4gIGNvbnN0IGNvbXBpbGVyUmV2aXNpb24gPSAoY29tcGlsZXJJbmZvICYmIGNvbXBpbGVySW5mb1swXSkgfHwgMSxcbiAgICBjdXJyZW50UmV2aXNpb24gPSBDT01QSUxFUl9SRVZJU0lPTjtcblxuICBpZiAoXG4gICAgY29tcGlsZXJSZXZpc2lvbiA+PSBMQVNUX0NPTVBBVElCTEVfQ09NUElMRVJfUkVWSVNJT04gJiZcbiAgICBjb21waWxlclJldmlzaW9uIDw9IENPTVBJTEVSX1JFVklTSU9OXG4gICkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChjb21waWxlclJldmlzaW9uIDwgTEFTVF9DT01QQVRJQkxFX0NPTVBJTEVSX1JFVklTSU9OKSB7XG4gICAgY29uc3QgcnVudGltZVZlcnNpb25zID0gUkVWSVNJT05fQ0hBTkdFU1tjdXJyZW50UmV2aXNpb25dLFxuICAgICAgY29tcGlsZXJWZXJzaW9ucyA9IFJFVklTSU9OX0NIQU5HRVNbY29tcGlsZXJSZXZpc2lvbl07XG4gICAgdGhyb3cgbmV3IEV4Y2VwdGlvbihcbiAgICAgICdUZW1wbGF0ZSB3YXMgcHJlY29tcGlsZWQgd2l0aCBhbiBvbGRlciB2ZXJzaW9uIG9mIEhhbmRsZWJhcnMgdGhhbiB0aGUgY3VycmVudCBydW50aW1lLiAnICtcbiAgICAgICAgJ1BsZWFzZSB1cGRhdGUgeW91ciBwcmVjb21waWxlciB0byBhIG5ld2VyIHZlcnNpb24gKCcgK1xuICAgICAgICBydW50aW1lVmVyc2lvbnMgK1xuICAgICAgICAnKSBvciBkb3duZ3JhZGUgeW91ciBydW50aW1lIHRvIGFuIG9sZGVyIHZlcnNpb24gKCcgK1xuICAgICAgICBjb21waWxlclZlcnNpb25zICtcbiAgICAgICAgJykuJ1xuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgLy8gVXNlIHRoZSBlbWJlZGRlZCB2ZXJzaW9uIGluZm8gc2luY2UgdGhlIHJ1bnRpbWUgZG9lc24ndCBrbm93IGFib3V0IHRoaXMgcmV2aXNpb24geWV0XG4gICAgdGhyb3cgbmV3IEV4Y2VwdGlvbihcbiAgICAgICdUZW1wbGF0ZSB3YXMgcHJlY29tcGlsZWQgd2l0aCBhIG5ld2VyIHZlcnNpb24gb2YgSGFuZGxlYmFycyB0aGFuIHRoZSBjdXJyZW50IHJ1bnRpbWUuICcgK1xuICAgICAgICAnUGxlYXNlIHVwZGF0ZSB5b3VyIHJ1bnRpbWUgdG8gYSBuZXdlciB2ZXJzaW9uICgnICtcbiAgICAgICAgY29tcGlsZXJJbmZvWzFdICtcbiAgICAgICAgJykuJ1xuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRlbXBsYXRlKHRlbXBsYXRlU3BlYywgZW52KSB7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIGlmICghZW52KSB7XG4gICAgdGhyb3cgbmV3IEV4Y2VwdGlvbignTm8gZW52aXJvbm1lbnQgcGFzc2VkIHRvIHRlbXBsYXRlJyk7XG4gIH1cbiAgaWYgKCF0ZW1wbGF0ZVNwZWMgfHwgIXRlbXBsYXRlU3BlYy5tYWluKSB7XG4gICAgdGhyb3cgbmV3IEV4Y2VwdGlvbignVW5rbm93biB0ZW1wbGF0ZSBvYmplY3Q6ICcgKyB0eXBlb2YgdGVtcGxhdGVTcGVjKTtcbiAgfVxuXG4gIHRlbXBsYXRlU3BlYy5tYWluLmRlY29yYXRvciA9IHRlbXBsYXRlU3BlYy5tYWluX2Q7XG5cbiAgLy8gTm90ZTogVXNpbmcgZW52LlZNIHJlZmVyZW5jZXMgcmF0aGVyIHRoYW4gbG9jYWwgdmFyIHJlZmVyZW5jZXMgdGhyb3VnaG91dCB0aGlzIHNlY3Rpb24gdG8gYWxsb3dcbiAgLy8gZm9yIGV4dGVybmFsIHVzZXJzIHRvIG92ZXJyaWRlIHRoZXNlIGFzIHBzZXVkby1zdXBwb3J0ZWQgQVBJcy5cbiAgZW52LlZNLmNoZWNrUmV2aXNpb24odGVtcGxhdGVTcGVjLmNvbXBpbGVyKTtcblxuICAvLyBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSBmb3IgcHJlY29tcGlsZWQgdGVtcGxhdGVzIHdpdGggY29tcGlsZXItdmVyc2lvbiA3ICg8NC4zLjApXG4gIGNvbnN0IHRlbXBsYXRlV2FzUHJlY29tcGlsZWRXaXRoQ29tcGlsZXJWNyA9XG4gICAgdGVtcGxhdGVTcGVjLmNvbXBpbGVyICYmIHRlbXBsYXRlU3BlYy5jb21waWxlclswXSA9PT0gNztcblxuICBmdW5jdGlvbiBpbnZva2VQYXJ0aWFsV3JhcHBlcihwYXJ0aWFsLCBjb250ZXh0LCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMuaGFzaCkge1xuICAgICAgY29udGV4dCA9IFV0aWxzLmV4dGVuZCh7fSwgY29udGV4dCwgb3B0aW9ucy5oYXNoKTtcbiAgICAgIGlmIChvcHRpb25zLmlkcykge1xuICAgICAgICBvcHRpb25zLmlkc1swXSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHBhcnRpYWwgPSBlbnYuVk0ucmVzb2x2ZVBhcnRpYWwuY2FsbCh0aGlzLCBwYXJ0aWFsLCBjb250ZXh0LCBvcHRpb25zKTtcblxuICAgIGxldCBleHRlbmRlZE9wdGlvbnMgPSBVdGlscy5leHRlbmQoe30sIG9wdGlvbnMsIHtcbiAgICAgIGhvb2tzOiB0aGlzLmhvb2tzLFxuICAgICAgcHJvdG9BY2Nlc3NDb250cm9sOiB0aGlzLnByb3RvQWNjZXNzQ29udHJvbFxuICAgIH0pO1xuXG4gICAgbGV0IHJlc3VsdCA9IGVudi5WTS5pbnZva2VQYXJ0aWFsLmNhbGwoXG4gICAgICB0aGlzLFxuICAgICAgcGFydGlhbCxcbiAgICAgIGNvbnRleHQsXG4gICAgICBleHRlbmRlZE9wdGlvbnNcbiAgICApO1xuXG4gICAgaWYgKHJlc3VsdCA9PSBudWxsICYmIGVudi5jb21waWxlKSB7XG4gICAgICBvcHRpb25zLnBhcnRpYWxzW29wdGlvbnMubmFtZV0gPSBlbnYuY29tcGlsZShcbiAgICAgICAgcGFydGlhbCxcbiAgICAgICAgdGVtcGxhdGVTcGVjLmNvbXBpbGVyT3B0aW9ucyxcbiAgICAgICAgZW52XG4gICAgICApO1xuICAgICAgcmVzdWx0ID0gb3B0aW9ucy5wYXJ0aWFsc1tvcHRpb25zLm5hbWVdKGNvbnRleHQsIGV4dGVuZGVkT3B0aW9ucyk7XG4gICAgfVxuICAgIGlmIChyZXN1bHQgIT0gbnVsbCkge1xuICAgICAgaWYgKG9wdGlvbnMuaW5kZW50KSB7XG4gICAgICAgIGxldCBsaW5lcyA9IHJlc3VsdC5zcGxpdCgnXFxuJyk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gbGluZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgaWYgKCFsaW5lc1tpXSAmJiBpICsgMSA9PT0gbCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbGluZXNbaV0gPSBvcHRpb25zLmluZGVudCArIGxpbmVzW2ldO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdCA9IGxpbmVzLmpvaW4oJ1xcbicpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbihcbiAgICAgICAgJ1RoZSBwYXJ0aWFsICcgK1xuICAgICAgICAgIG9wdGlvbnMubmFtZSArXG4gICAgICAgICAgJyBjb3VsZCBub3QgYmUgY29tcGlsZWQgd2hlbiBydW5uaW5nIGluIHJ1bnRpbWUtb25seSBtb2RlJ1xuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICAvLyBKdXN0IGFkZCB3YXRlclxuICBsZXQgY29udGFpbmVyID0ge1xuICAgIHN0cmljdDogZnVuY3Rpb24ob2JqLCBuYW1lLCBsb2MpIHtcbiAgICAgIGlmICghb2JqIHx8ICEobmFtZSBpbiBvYmopKSB7XG4gICAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oJ1wiJyArIG5hbWUgKyAnXCIgbm90IGRlZmluZWQgaW4gJyArIG9iaiwge1xuICAgICAgICAgIGxvYzogbG9jXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNvbnRhaW5lci5sb29rdXBQcm9wZXJ0eShvYmosIG5hbWUpO1xuICAgIH0sXG4gICAgbG9va3VwUHJvcGVydHk6IGZ1bmN0aW9uKHBhcmVudCwgcHJvcGVydHlOYW1lKSB7XG4gICAgICBsZXQgcmVzdWx0ID0gcGFyZW50W3Byb3BlcnR5TmFtZV07XG4gICAgICBpZiAocmVzdWx0ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocGFyZW50LCBwcm9wZXJ0eU5hbWUpKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG5cbiAgICAgIGlmIChyZXN1bHRJc0FsbG93ZWQocmVzdWx0LCBjb250YWluZXIucHJvdG9BY2Nlc3NDb250cm9sLCBwcm9wZXJ0eU5hbWUpKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0sXG4gICAgbG9va3VwOiBmdW5jdGlvbihkZXB0aHMsIG5hbWUpIHtcbiAgICAgIGNvbnN0IGxlbiA9IGRlcHRocy5sZW5ndGg7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGxldCByZXN1bHQgPSBkZXB0aHNbaV0gJiYgY29udGFpbmVyLmxvb2t1cFByb3BlcnR5KGRlcHRoc1tpXSwgbmFtZSk7XG4gICAgICAgIGlmIChyZXN1bHQgIT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiBkZXB0aHNbaV1bbmFtZV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIGxhbWJkYTogZnVuY3Rpb24oY3VycmVudCwgY29udGV4dCkge1xuICAgICAgcmV0dXJuIHR5cGVvZiBjdXJyZW50ID09PSAnZnVuY3Rpb24nID8gY3VycmVudC5jYWxsKGNvbnRleHQpIDogY3VycmVudDtcbiAgICB9LFxuXG4gICAgZXNjYXBlRXhwcmVzc2lvbjogVXRpbHMuZXNjYXBlRXhwcmVzc2lvbixcbiAgICBpbnZva2VQYXJ0aWFsOiBpbnZva2VQYXJ0aWFsV3JhcHBlcixcblxuICAgIGZuOiBmdW5jdGlvbihpKSB7XG4gICAgICBsZXQgcmV0ID0gdGVtcGxhdGVTcGVjW2ldO1xuICAgICAgcmV0LmRlY29yYXRvciA9IHRlbXBsYXRlU3BlY1tpICsgJ19kJ107XG4gICAgICByZXR1cm4gcmV0O1xuICAgIH0sXG5cbiAgICBwcm9ncmFtczogW10sXG4gICAgcHJvZ3JhbTogZnVuY3Rpb24oaSwgZGF0YSwgZGVjbGFyZWRCbG9ja1BhcmFtcywgYmxvY2tQYXJhbXMsIGRlcHRocykge1xuICAgICAgbGV0IHByb2dyYW1XcmFwcGVyID0gdGhpcy5wcm9ncmFtc1tpXSxcbiAgICAgICAgZm4gPSB0aGlzLmZuKGkpO1xuICAgICAgaWYgKGRhdGEgfHwgZGVwdGhzIHx8IGJsb2NrUGFyYW1zIHx8IGRlY2xhcmVkQmxvY2tQYXJhbXMpIHtcbiAgICAgICAgcHJvZ3JhbVdyYXBwZXIgPSB3cmFwUHJvZ3JhbShcbiAgICAgICAgICB0aGlzLFxuICAgICAgICAgIGksXG4gICAgICAgICAgZm4sXG4gICAgICAgICAgZGF0YSxcbiAgICAgICAgICBkZWNsYXJlZEJsb2NrUGFyYW1zLFxuICAgICAgICAgIGJsb2NrUGFyYW1zLFxuICAgICAgICAgIGRlcHRoc1xuICAgICAgICApO1xuICAgICAgfSBlbHNlIGlmICghcHJvZ3JhbVdyYXBwZXIpIHtcbiAgICAgICAgcHJvZ3JhbVdyYXBwZXIgPSB0aGlzLnByb2dyYW1zW2ldID0gd3JhcFByb2dyYW0odGhpcywgaSwgZm4pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHByb2dyYW1XcmFwcGVyO1xuICAgIH0sXG5cbiAgICBkYXRhOiBmdW5jdGlvbih2YWx1ZSwgZGVwdGgpIHtcbiAgICAgIHdoaWxlICh2YWx1ZSAmJiBkZXB0aC0tKSB7XG4gICAgICAgIHZhbHVlID0gdmFsdWUuX3BhcmVudDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9LFxuICAgIG1lcmdlSWZOZWVkZWQ6IGZ1bmN0aW9uKHBhcmFtLCBjb21tb24pIHtcbiAgICAgIGxldCBvYmogPSBwYXJhbSB8fCBjb21tb247XG5cbiAgICAgIGlmIChwYXJhbSAmJiBjb21tb24gJiYgcGFyYW0gIT09IGNvbW1vbikge1xuICAgICAgICBvYmogPSBVdGlscy5leHRlbmQoe30sIGNvbW1vbiwgcGFyYW0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gb2JqO1xuICAgIH0sXG4gICAgLy8gQW4gZW1wdHkgb2JqZWN0IHRvIHVzZSBhcyByZXBsYWNlbWVudCBmb3IgbnVsbC1jb250ZXh0c1xuICAgIG51bGxDb250ZXh0OiBPYmplY3Quc2VhbCh7fSksXG5cbiAgICBub29wOiBlbnYuVk0ubm9vcCxcbiAgICBjb21waWxlckluZm86IHRlbXBsYXRlU3BlYy5jb21waWxlclxuICB9O1xuXG4gIGZ1bmN0aW9uIHJldChjb250ZXh0LCBvcHRpb25zID0ge30pIHtcbiAgICBsZXQgZGF0YSA9IG9wdGlvbnMuZGF0YTtcblxuICAgIHJldC5fc2V0dXAob3B0aW9ucyk7XG4gICAgaWYgKCFvcHRpb25zLnBhcnRpYWwgJiYgdGVtcGxhdGVTcGVjLnVzZURhdGEpIHtcbiAgICAgIGRhdGEgPSBpbml0RGF0YShjb250ZXh0LCBkYXRhKTtcbiAgICB9XG4gICAgbGV0IGRlcHRocyxcbiAgICAgIGJsb2NrUGFyYW1zID0gdGVtcGxhdGVTcGVjLnVzZUJsb2NrUGFyYW1zID8gW10gOiB1bmRlZmluZWQ7XG4gICAgaWYgKHRlbXBsYXRlU3BlYy51c2VEZXB0aHMpIHtcbiAgICAgIGlmIChvcHRpb25zLmRlcHRocykge1xuICAgICAgICBkZXB0aHMgPVxuICAgICAgICAgIGNvbnRleHQgIT0gb3B0aW9ucy5kZXB0aHNbMF1cbiAgICAgICAgICAgID8gW2NvbnRleHRdLmNvbmNhdChvcHRpb25zLmRlcHRocylcbiAgICAgICAgICAgIDogb3B0aW9ucy5kZXB0aHM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkZXB0aHMgPSBbY29udGV4dF07XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWFpbihjb250ZXh0IC8qLCBvcHRpb25zKi8pIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgICcnICtcbiAgICAgICAgdGVtcGxhdGVTcGVjLm1haW4oXG4gICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgIGNvbnRleHQsXG4gICAgICAgICAgY29udGFpbmVyLmhlbHBlcnMsXG4gICAgICAgICAgY29udGFpbmVyLnBhcnRpYWxzLFxuICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgYmxvY2tQYXJhbXMsXG4gICAgICAgICAgZGVwdGhzXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuXG4gICAgbWFpbiA9IGV4ZWN1dGVEZWNvcmF0b3JzKFxuICAgICAgdGVtcGxhdGVTcGVjLm1haW4sXG4gICAgICBtYWluLFxuICAgICAgY29udGFpbmVyLFxuICAgICAgb3B0aW9ucy5kZXB0aHMgfHwgW10sXG4gICAgICBkYXRhLFxuICAgICAgYmxvY2tQYXJhbXNcbiAgICApO1xuICAgIHJldHVybiBtYWluKGNvbnRleHQsIG9wdGlvbnMpO1xuICB9XG5cbiAgcmV0LmlzVG9wID0gdHJ1ZTtcblxuICByZXQuX3NldHVwID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIGlmICghb3B0aW9ucy5wYXJ0aWFsKSB7XG4gICAgICBsZXQgbWVyZ2VkSGVscGVycyA9IFV0aWxzLmV4dGVuZCh7fSwgZW52LmhlbHBlcnMsIG9wdGlvbnMuaGVscGVycyk7XG4gICAgICB3cmFwSGVscGVyc1RvUGFzc0xvb2t1cFByb3BlcnR5KG1lcmdlZEhlbHBlcnMsIGNvbnRhaW5lcik7XG4gICAgICBjb250YWluZXIuaGVscGVycyA9IG1lcmdlZEhlbHBlcnM7XG5cbiAgICAgIGlmICh0ZW1wbGF0ZVNwZWMudXNlUGFydGlhbCkge1xuICAgICAgICAvLyBVc2UgbWVyZ2VJZk5lZWRlZCBoZXJlIHRvIHByZXZlbnQgY29tcGlsaW5nIGdsb2JhbCBwYXJ0aWFscyBtdWx0aXBsZSB0aW1lc1xuICAgICAgICBjb250YWluZXIucGFydGlhbHMgPSBjb250YWluZXIubWVyZ2VJZk5lZWRlZChcbiAgICAgICAgICBvcHRpb25zLnBhcnRpYWxzLFxuICAgICAgICAgIGVudi5wYXJ0aWFsc1xuICAgICAgICApO1xuICAgICAgfVxuICAgICAgaWYgKHRlbXBsYXRlU3BlYy51c2VQYXJ0aWFsIHx8IHRlbXBsYXRlU3BlYy51c2VEZWNvcmF0b3JzKSB7XG4gICAgICAgIGNvbnRhaW5lci5kZWNvcmF0b3JzID0gVXRpbHMuZXh0ZW5kKFxuICAgICAgICAgIHt9LFxuICAgICAgICAgIGVudi5kZWNvcmF0b3JzLFxuICAgICAgICAgIG9wdGlvbnMuZGVjb3JhdG9yc1xuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICBjb250YWluZXIuaG9va3MgPSB7fTtcbiAgICAgIGNvbnRhaW5lci5wcm90b0FjY2Vzc0NvbnRyb2wgPSBjcmVhdGVQcm90b0FjY2Vzc0NvbnRyb2wob3B0aW9ucyk7XG5cbiAgICAgIGxldCBrZWVwSGVscGVySW5IZWxwZXJzID1cbiAgICAgICAgb3B0aW9ucy5hbGxvd0NhbGxzVG9IZWxwZXJNaXNzaW5nIHx8XG4gICAgICAgIHRlbXBsYXRlV2FzUHJlY29tcGlsZWRXaXRoQ29tcGlsZXJWNztcbiAgICAgIG1vdmVIZWxwZXJUb0hvb2tzKGNvbnRhaW5lciwgJ2hlbHBlck1pc3NpbmcnLCBrZWVwSGVscGVySW5IZWxwZXJzKTtcbiAgICAgIG1vdmVIZWxwZXJUb0hvb2tzKGNvbnRhaW5lciwgJ2Jsb2NrSGVscGVyTWlzc2luZycsIGtlZXBIZWxwZXJJbkhlbHBlcnMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb250YWluZXIucHJvdG9BY2Nlc3NDb250cm9sID0gb3B0aW9ucy5wcm90b0FjY2Vzc0NvbnRyb2w7IC8vIGludGVybmFsIG9wdGlvblxuICAgICAgY29udGFpbmVyLmhlbHBlcnMgPSBvcHRpb25zLmhlbHBlcnM7XG4gICAgICBjb250YWluZXIucGFydGlhbHMgPSBvcHRpb25zLnBhcnRpYWxzO1xuICAgICAgY29udGFpbmVyLmRlY29yYXRvcnMgPSBvcHRpb25zLmRlY29yYXRvcnM7XG4gICAgICBjb250YWluZXIuaG9va3MgPSBvcHRpb25zLmhvb2tzO1xuICAgIH1cbiAgfTtcblxuICByZXQuX2NoaWxkID0gZnVuY3Rpb24oaSwgZGF0YSwgYmxvY2tQYXJhbXMsIGRlcHRocykge1xuICAgIGlmICh0ZW1wbGF0ZVNwZWMudXNlQmxvY2tQYXJhbXMgJiYgIWJsb2NrUGFyYW1zKSB7XG4gICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKCdtdXN0IHBhc3MgYmxvY2sgcGFyYW1zJyk7XG4gICAgfVxuICAgIGlmICh0ZW1wbGF0ZVNwZWMudXNlRGVwdGhzICYmICFkZXB0aHMpIHtcbiAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oJ211c3QgcGFzcyBwYXJlbnQgZGVwdGhzJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHdyYXBQcm9ncmFtKFxuICAgICAgY29udGFpbmVyLFxuICAgICAgaSxcbiAgICAgIHRlbXBsYXRlU3BlY1tpXSxcbiAgICAgIGRhdGEsXG4gICAgICAwLFxuICAgICAgYmxvY2tQYXJhbXMsXG4gICAgICBkZXB0aHNcbiAgICApO1xuICB9O1xuICByZXR1cm4gcmV0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gd3JhcFByb2dyYW0oXG4gIGNvbnRhaW5lcixcbiAgaSxcbiAgZm4sXG4gIGRhdGEsXG4gIGRlY2xhcmVkQmxvY2tQYXJhbXMsXG4gIGJsb2NrUGFyYW1zLFxuICBkZXB0aHNcbikge1xuICBmdW5jdGlvbiBwcm9nKGNvbnRleHQsIG9wdGlvbnMgPSB7fSkge1xuICAgIGxldCBjdXJyZW50RGVwdGhzID0gZGVwdGhzO1xuICAgIGlmIChcbiAgICAgIGRlcHRocyAmJlxuICAgICAgY29udGV4dCAhPSBkZXB0aHNbMF0gJiZcbiAgICAgICEoY29udGV4dCA9PT0gY29udGFpbmVyLm51bGxDb250ZXh0ICYmIGRlcHRoc1swXSA9PT0gbnVsbClcbiAgICApIHtcbiAgICAgIGN1cnJlbnREZXB0aHMgPSBbY29udGV4dF0uY29uY2F0KGRlcHRocyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZuKFxuICAgICAgY29udGFpbmVyLFxuICAgICAgY29udGV4dCxcbiAgICAgIGNvbnRhaW5lci5oZWxwZXJzLFxuICAgICAgY29udGFpbmVyLnBhcnRpYWxzLFxuICAgICAgb3B0aW9ucy5kYXRhIHx8IGRhdGEsXG4gICAgICBibG9ja1BhcmFtcyAmJiBbb3B0aW9ucy5ibG9ja1BhcmFtc10uY29uY2F0KGJsb2NrUGFyYW1zKSxcbiAgICAgIGN1cnJlbnREZXB0aHNcbiAgICApO1xuICB9XG5cbiAgcHJvZyA9IGV4ZWN1dGVEZWNvcmF0b3JzKGZuLCBwcm9nLCBjb250YWluZXIsIGRlcHRocywgZGF0YSwgYmxvY2tQYXJhbXMpO1xuXG4gIHByb2cucHJvZ3JhbSA9IGk7XG4gIHByb2cuZGVwdGggPSBkZXB0aHMgPyBkZXB0aHMubGVuZ3RoIDogMDtcbiAgcHJvZy5ibG9ja1BhcmFtcyA9IGRlY2xhcmVkQmxvY2tQYXJhbXMgfHwgMDtcbiAgcmV0dXJuIHByb2c7XG59XG5cbi8qKlxuICogVGhpcyBpcyBjdXJyZW50bHkgcGFydCBvZiB0aGUgb2ZmaWNpYWwgQVBJLCB0aGVyZWZvcmUgaW1wbGVtZW50YXRpb24gZGV0YWlscyBzaG91bGQgbm90IGJlIGNoYW5nZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlUGFydGlhbChwYXJ0aWFsLCBjb250ZXh0LCBvcHRpb25zKSB7XG4gIGlmICghcGFydGlhbCkge1xuICAgIGlmIChvcHRpb25zLm5hbWUgPT09ICdAcGFydGlhbC1ibG9jaycpIHtcbiAgICAgIHBhcnRpYWwgPSBvcHRpb25zLmRhdGFbJ3BhcnRpYWwtYmxvY2snXTtcbiAgICB9IGVsc2Uge1xuICAgICAgcGFydGlhbCA9IG9wdGlvbnMucGFydGlhbHNbb3B0aW9ucy5uYW1lXTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoIXBhcnRpYWwuY2FsbCAmJiAhb3B0aW9ucy5uYW1lKSB7XG4gICAgLy8gVGhpcyBpcyBhIGR5bmFtaWMgcGFydGlhbCB0aGF0IHJldHVybmVkIGEgc3RyaW5nXG4gICAgb3B0aW9ucy5uYW1lID0gcGFydGlhbDtcbiAgICBwYXJ0aWFsID0gb3B0aW9ucy5wYXJ0aWFsc1twYXJ0aWFsXTtcbiAgfVxuICByZXR1cm4gcGFydGlhbDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGludm9rZVBhcnRpYWwocGFydGlhbCwgY29udGV4dCwgb3B0aW9ucykge1xuICAvLyBVc2UgdGhlIGN1cnJlbnQgY2xvc3VyZSBjb250ZXh0IHRvIHNhdmUgdGhlIHBhcnRpYWwtYmxvY2sgaWYgdGhpcyBwYXJ0aWFsXG4gIGNvbnN0IGN1cnJlbnRQYXJ0aWFsQmxvY2sgPSBvcHRpb25zLmRhdGEgJiYgb3B0aW9ucy5kYXRhWydwYXJ0aWFsLWJsb2NrJ107XG4gIG9wdGlvbnMucGFydGlhbCA9IHRydWU7XG4gIGlmIChvcHRpb25zLmlkcykge1xuICAgIG9wdGlvbnMuZGF0YS5jb250ZXh0UGF0aCA9IG9wdGlvbnMuaWRzWzBdIHx8IG9wdGlvbnMuZGF0YS5jb250ZXh0UGF0aDtcbiAgfVxuXG4gIGxldCBwYXJ0aWFsQmxvY2s7XG4gIGlmIChvcHRpb25zLmZuICYmIG9wdGlvbnMuZm4gIT09IG5vb3ApIHtcbiAgICBvcHRpb25zLmRhdGEgPSBjcmVhdGVGcmFtZShvcHRpb25zLmRhdGEpO1xuICAgIC8vIFdyYXBwZXIgZnVuY3Rpb24gdG8gZ2V0IGFjY2VzcyB0byBjdXJyZW50UGFydGlhbEJsb2NrIGZyb20gdGhlIGNsb3N1cmVcbiAgICBsZXQgZm4gPSBvcHRpb25zLmZuO1xuICAgIHBhcnRpYWxCbG9jayA9IG9wdGlvbnMuZGF0YVsncGFydGlhbC1ibG9jayddID0gZnVuY3Rpb24gcGFydGlhbEJsb2NrV3JhcHBlcihcbiAgICAgIGNvbnRleHQsXG4gICAgICBvcHRpb25zID0ge31cbiAgICApIHtcbiAgICAgIC8vIFJlc3RvcmUgdGhlIHBhcnRpYWwtYmxvY2sgZnJvbSB0aGUgY2xvc3VyZSBmb3IgdGhlIGV4ZWN1dGlvbiBvZiB0aGUgYmxvY2tcbiAgICAgIC8vIGkuZS4gdGhlIHBhcnQgaW5zaWRlIHRoZSBibG9jayBvZiB0aGUgcGFydGlhbCBjYWxsLlxuICAgICAgb3B0aW9ucy5kYXRhID0gY3JlYXRlRnJhbWUob3B0aW9ucy5kYXRhKTtcbiAgICAgIG9wdGlvbnMuZGF0YVsncGFydGlhbC1ibG9jayddID0gY3VycmVudFBhcnRpYWxCbG9jaztcbiAgICAgIHJldHVybiBmbihjb250ZXh0LCBvcHRpb25zKTtcbiAgICB9O1xuICAgIGlmIChmbi5wYXJ0aWFscykge1xuICAgICAgb3B0aW9ucy5wYXJ0aWFscyA9IFV0aWxzLmV4dGVuZCh7fSwgb3B0aW9ucy5wYXJ0aWFscywgZm4ucGFydGlhbHMpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChwYXJ0aWFsID09PSB1bmRlZmluZWQgJiYgcGFydGlhbEJsb2NrKSB7XG4gICAgcGFydGlhbCA9IHBhcnRpYWxCbG9jaztcbiAgfVxuXG4gIGlmIChwYXJ0aWFsID09PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKCdUaGUgcGFydGlhbCAnICsgb3B0aW9ucy5uYW1lICsgJyBjb3VsZCBub3QgYmUgZm91bmQnKTtcbiAgfSBlbHNlIGlmIChwYXJ0aWFsIGluc3RhbmNlb2YgRnVuY3Rpb24pIHtcbiAgICByZXR1cm4gcGFydGlhbChjb250ZXh0LCBvcHRpb25zKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbm9vcCgpIHtcbiAgcmV0dXJuICcnO1xufVxuXG5mdW5jdGlvbiBpbml0RGF0YShjb250ZXh0LCBkYXRhKSB7XG4gIGlmICghZGF0YSB8fCAhKCdyb290JyBpbiBkYXRhKSkge1xuICAgIGRhdGEgPSBkYXRhID8gY3JlYXRlRnJhbWUoZGF0YSkgOiB7fTtcbiAgICBkYXRhLnJvb3QgPSBjb250ZXh0O1xuICB9XG4gIHJldHVybiBkYXRhO1xufVxuXG5mdW5jdGlvbiBleGVjdXRlRGVjb3JhdG9ycyhmbiwgcHJvZywgY29udGFpbmVyLCBkZXB0aHMsIGRhdGEsIGJsb2NrUGFyYW1zKSB7XG4gIGlmIChmbi5kZWNvcmF0b3IpIHtcbiAgICBsZXQgcHJvcHMgPSB7fTtcbiAgICBwcm9nID0gZm4uZGVjb3JhdG9yKFxuICAgICAgcHJvZyxcbiAgICAgIHByb3BzLFxuICAgICAgY29udGFpbmVyLFxuICAgICAgZGVwdGhzICYmIGRlcHRoc1swXSxcbiAgICAgIGRhdGEsXG4gICAgICBibG9ja1BhcmFtcyxcbiAgICAgIGRlcHRoc1xuICAgICk7XG4gICAgVXRpbHMuZXh0ZW5kKHByb2csIHByb3BzKTtcbiAgfVxuICByZXR1cm4gcHJvZztcbn1cblxuZnVuY3Rpb24gd3JhcEhlbHBlcnNUb1Bhc3NMb29rdXBQcm9wZXJ0eShtZXJnZWRIZWxwZXJzLCBjb250YWluZXIpIHtcbiAgT2JqZWN0LmtleXMobWVyZ2VkSGVscGVycykuZm9yRWFjaChoZWxwZXJOYW1lID0+IHtcbiAgICBsZXQgaGVscGVyID0gbWVyZ2VkSGVscGVyc1toZWxwZXJOYW1lXTtcbiAgICBtZXJnZWRIZWxwZXJzW2hlbHBlck5hbWVdID0gcGFzc0xvb2t1cFByb3BlcnR5T3B0aW9uKGhlbHBlciwgY29udGFpbmVyKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHBhc3NMb29rdXBQcm9wZXJ0eU9wdGlvbihoZWxwZXIsIGNvbnRhaW5lcikge1xuICBjb25zdCBsb29rdXBQcm9wZXJ0eSA9IGNvbnRhaW5lci5sb29rdXBQcm9wZXJ0eTtcbiAgcmV0dXJuIHdyYXBIZWxwZXIoaGVscGVyLCBvcHRpb25zID0+IHtcbiAgICByZXR1cm4gVXRpbHMuZXh0ZW5kKHsgbG9va3VwUHJvcGVydHkgfSwgb3B0aW9ucyk7XG4gIH0pO1xufVxuIiwgImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKEhhbmRsZWJhcnMpIHtcbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgbGV0IHJvb3QgPSB0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbCA6IHdpbmRvdyxcbiAgICAkSGFuZGxlYmFycyA9IHJvb3QuSGFuZGxlYmFycztcbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgSGFuZGxlYmFycy5ub0NvbmZsaWN0ID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHJvb3QuSGFuZGxlYmFycyA9PT0gSGFuZGxlYmFycykge1xuICAgICAgcm9vdC5IYW5kbGViYXJzID0gJEhhbmRsZWJhcnM7XG4gICAgfVxuICAgIHJldHVybiBIYW5kbGViYXJzO1xuICB9O1xufVxuIiwgImltcG9ydCAqIGFzIGJhc2UgZnJvbSAnLi9oYW5kbGViYXJzL2Jhc2UnO1xuXG4vLyBFYWNoIG9mIHRoZXNlIGF1Z21lbnQgdGhlIEhhbmRsZWJhcnMgb2JqZWN0LiBObyBuZWVkIHRvIHNldHVwIGhlcmUuXG4vLyAoVGhpcyBpcyBkb25lIHRvIGVhc2lseSBzaGFyZSBjb2RlIGJldHdlZW4gY29tbW9uanMgYW5kIGJyb3dzZSBlbnZzKVxuaW1wb3J0IFNhZmVTdHJpbmcgZnJvbSAnLi9oYW5kbGViYXJzL3NhZmUtc3RyaW5nJztcbmltcG9ydCBFeGNlcHRpb24gZnJvbSAnLi9oYW5kbGViYXJzL2V4Y2VwdGlvbic7XG5pbXBvcnQgKiBhcyBVdGlscyBmcm9tICcuL2hhbmRsZWJhcnMvdXRpbHMnO1xuaW1wb3J0ICogYXMgcnVudGltZSBmcm9tICcuL2hhbmRsZWJhcnMvcnVudGltZSc7XG5cbmltcG9ydCBub0NvbmZsaWN0IGZyb20gJy4vaGFuZGxlYmFycy9uby1jb25mbGljdCc7XG5cbi8vIEZvciBjb21wYXRpYmlsaXR5IGFuZCB1c2FnZSBvdXRzaWRlIG9mIG1vZHVsZSBzeXN0ZW1zLCBtYWtlIHRoZSBIYW5kbGViYXJzIG9iamVjdCBhIG5hbWVzcGFjZVxuZnVuY3Rpb24gY3JlYXRlKCkge1xuICBsZXQgaGIgPSBuZXcgYmFzZS5IYW5kbGViYXJzRW52aXJvbm1lbnQoKTtcblxuICBVdGlscy5leHRlbmQoaGIsIGJhc2UpO1xuICBoYi5TYWZlU3RyaW5nID0gU2FmZVN0cmluZztcbiAgaGIuRXhjZXB0aW9uID0gRXhjZXB0aW9uO1xuICBoYi5VdGlscyA9IFV0aWxzO1xuICBoYi5lc2NhcGVFeHByZXNzaW9uID0gVXRpbHMuZXNjYXBlRXhwcmVzc2lvbjtcblxuICBoYi5WTSA9IHJ1bnRpbWU7XG4gIGhiLnRlbXBsYXRlID0gZnVuY3Rpb24oc3BlYykge1xuICAgIHJldHVybiBydW50aW1lLnRlbXBsYXRlKHNwZWMsIGhiKTtcbiAgfTtcblxuICByZXR1cm4gaGI7XG59XG5cbmxldCBpbnN0ID0gY3JlYXRlKCk7XG5pbnN0LmNyZWF0ZSA9IGNyZWF0ZTtcblxubm9Db25mbGljdChpbnN0KTtcblxuaW5zdFsnZGVmYXVsdCddID0gaW5zdDtcblxuZXhwb3J0IGRlZmF1bHQgaW5zdDtcbiIsICJsZXQgQVNUID0ge1xuICAvLyBQdWJsaWMgQVBJIHVzZWQgdG8gZXZhbHVhdGUgZGVyaXZlZCBhdHRyaWJ1dGVzIHJlZ2FyZGluZyBBU1Qgbm9kZXNcbiAgaGVscGVyczoge1xuICAgIC8vIGEgbXVzdGFjaGUgaXMgZGVmaW5pdGVseSBhIGhlbHBlciBpZjpcbiAgICAvLyAqIGl0IGlzIGFuIGVsaWdpYmxlIGhlbHBlciwgYW5kXG4gICAgLy8gKiBpdCBoYXMgYXQgbGVhc3Qgb25lIHBhcmFtZXRlciBvciBoYXNoIHNlZ21lbnRcbiAgICBoZWxwZXJFeHByZXNzaW9uOiBmdW5jdGlvbihub2RlKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICBub2RlLnR5cGUgPT09ICdTdWJFeHByZXNzaW9uJyB8fFxuICAgICAgICAoKG5vZGUudHlwZSA9PT0gJ011c3RhY2hlU3RhdGVtZW50JyB8fFxuICAgICAgICAgIG5vZGUudHlwZSA9PT0gJ0Jsb2NrU3RhdGVtZW50JykgJiZcbiAgICAgICAgICAhISgobm9kZS5wYXJhbXMgJiYgbm9kZS5wYXJhbXMubGVuZ3RoKSB8fCBub2RlLmhhc2gpKVxuICAgICAgKTtcbiAgICB9LFxuXG4gICAgc2NvcGVkSWQ6IGZ1bmN0aW9uKHBhdGgpIHtcbiAgICAgIHJldHVybiAvXlxcLnx0aGlzXFxiLy50ZXN0KHBhdGgub3JpZ2luYWwpO1xuICAgIH0sXG5cbiAgICAvLyBhbiBJRCBpcyBzaW1wbGUgaWYgaXQgb25seSBoYXMgb25lIHBhcnQsIGFuZCB0aGF0IHBhcnQgaXMgbm90XG4gICAgLy8gYC4uYCBvciBgdGhpc2AuXG4gICAgc2ltcGxlSWQ6IGZ1bmN0aW9uKHBhdGgpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIHBhdGgucGFydHMubGVuZ3RoID09PSAxICYmICFBU1QuaGVscGVycy5zY29wZWRJZChwYXRoKSAmJiAhcGF0aC5kZXB0aFxuICAgICAgKTtcbiAgICB9XG4gIH1cbn07XG5cbi8vIE11c3QgYmUgZXhwb3J0ZWQgYXMgYW4gb2JqZWN0IHJhdGhlciB0aGFuIHRoZSByb290IG9mIHRoZSBtb2R1bGUgYXMgdGhlIGppc29uIGxleGVyXG4vLyBtdXN0IG1vZGlmeSB0aGUgb2JqZWN0IHRvIG9wZXJhdGUgcHJvcGVybHkuXG5leHBvcnQgZGVmYXVsdCBBU1Q7XG4iLCAiLy8gRmlsZSBpZ25vcmVkIGluIGNvdmVyYWdlIHRlc3RzIHZpYSBzZXR0aW5nIGluIC5pc3RhbmJ1bC55bWxcbi8qIEppc29uIGdlbmVyYXRlZCBwYXJzZXIgKi9cbnZhciBoYW5kbGViYXJzID0gKGZ1bmN0aW9uKCl7XG52YXIgcGFyc2VyID0ge3RyYWNlOiBmdW5jdGlvbiB0cmFjZSAoKSB7IH0sXG55eToge30sXG5zeW1ib2xzXzoge1wiZXJyb3JcIjoyLFwicm9vdFwiOjMsXCJwcm9ncmFtXCI6NCxcIkVPRlwiOjUsXCJwcm9ncmFtX3JlcGV0aXRpb24wXCI6NixcInN0YXRlbWVudFwiOjcsXCJtdXN0YWNoZVwiOjgsXCJibG9ja1wiOjksXCJyYXdCbG9ja1wiOjEwLFwicGFydGlhbFwiOjExLFwicGFydGlhbEJsb2NrXCI6MTIsXCJjb250ZW50XCI6MTMsXCJDT01NRU5UXCI6MTQsXCJDT05URU5UXCI6MTUsXCJvcGVuUmF3QmxvY2tcIjoxNixcInJhd0Jsb2NrX3JlcGV0aXRpb24wXCI6MTcsXCJFTkRfUkFXX0JMT0NLXCI6MTgsXCJPUEVOX1JBV19CTE9DS1wiOjE5LFwiaGVscGVyTmFtZVwiOjIwLFwib3BlblJhd0Jsb2NrX3JlcGV0aXRpb24wXCI6MjEsXCJvcGVuUmF3QmxvY2tfb3B0aW9uMFwiOjIyLFwiQ0xPU0VfUkFXX0JMT0NLXCI6MjMsXCJvcGVuQmxvY2tcIjoyNCxcImJsb2NrX29wdGlvbjBcIjoyNSxcImNsb3NlQmxvY2tcIjoyNixcIm9wZW5JbnZlcnNlXCI6MjcsXCJibG9ja19vcHRpb24xXCI6MjgsXCJPUEVOX0JMT0NLXCI6MjksXCJvcGVuQmxvY2tfcmVwZXRpdGlvbjBcIjozMCxcIm9wZW5CbG9ja19vcHRpb24wXCI6MzEsXCJvcGVuQmxvY2tfb3B0aW9uMVwiOjMyLFwiQ0xPU0VcIjozMyxcIk9QRU5fSU5WRVJTRVwiOjM0LFwib3BlbkludmVyc2VfcmVwZXRpdGlvbjBcIjozNSxcIm9wZW5JbnZlcnNlX29wdGlvbjBcIjozNixcIm9wZW5JbnZlcnNlX29wdGlvbjFcIjozNyxcIm9wZW5JbnZlcnNlQ2hhaW5cIjozOCxcIk9QRU5fSU5WRVJTRV9DSEFJTlwiOjM5LFwib3BlbkludmVyc2VDaGFpbl9yZXBldGl0aW9uMFwiOjQwLFwib3BlbkludmVyc2VDaGFpbl9vcHRpb24wXCI6NDEsXCJvcGVuSW52ZXJzZUNoYWluX29wdGlvbjFcIjo0MixcImludmVyc2VBbmRQcm9ncmFtXCI6NDMsXCJJTlZFUlNFXCI6NDQsXCJpbnZlcnNlQ2hhaW5cIjo0NSxcImludmVyc2VDaGFpbl9vcHRpb24wXCI6NDYsXCJPUEVOX0VOREJMT0NLXCI6NDcsXCJPUEVOXCI6NDgsXCJtdXN0YWNoZV9yZXBldGl0aW9uMFwiOjQ5LFwibXVzdGFjaGVfb3B0aW9uMFwiOjUwLFwiT1BFTl9VTkVTQ0FQRURcIjo1MSxcIm11c3RhY2hlX3JlcGV0aXRpb24xXCI6NTIsXCJtdXN0YWNoZV9vcHRpb24xXCI6NTMsXCJDTE9TRV9VTkVTQ0FQRURcIjo1NCxcIk9QRU5fUEFSVElBTFwiOjU1LFwicGFydGlhbE5hbWVcIjo1NixcInBhcnRpYWxfcmVwZXRpdGlvbjBcIjo1NyxcInBhcnRpYWxfb3B0aW9uMFwiOjU4LFwib3BlblBhcnRpYWxCbG9ja1wiOjU5LFwiT1BFTl9QQVJUSUFMX0JMT0NLXCI6NjAsXCJvcGVuUGFydGlhbEJsb2NrX3JlcGV0aXRpb24wXCI6NjEsXCJvcGVuUGFydGlhbEJsb2NrX29wdGlvbjBcIjo2MixcInBhcmFtXCI6NjMsXCJzZXhwclwiOjY0LFwiT1BFTl9TRVhQUlwiOjY1LFwic2V4cHJfcmVwZXRpdGlvbjBcIjo2NixcInNleHByX29wdGlvbjBcIjo2NyxcIkNMT1NFX1NFWFBSXCI6NjgsXCJoYXNoXCI6NjksXCJoYXNoX3JlcGV0aXRpb25fcGx1czBcIjo3MCxcImhhc2hTZWdtZW50XCI6NzEsXCJJRFwiOjcyLFwiRVFVQUxTXCI6NzMsXCJibG9ja1BhcmFtc1wiOjc0LFwiT1BFTl9CTE9DS19QQVJBTVNcIjo3NSxcImJsb2NrUGFyYW1zX3JlcGV0aXRpb25fcGx1czBcIjo3NixcIkNMT1NFX0JMT0NLX1BBUkFNU1wiOjc3LFwicGF0aFwiOjc4LFwiZGF0YU5hbWVcIjo3OSxcIlNUUklOR1wiOjgwLFwiTlVNQkVSXCI6ODEsXCJCT09MRUFOXCI6ODIsXCJVTkRFRklORURcIjo4MyxcIk5VTExcIjo4NCxcIkRBVEFcIjo4NSxcInBhdGhTZWdtZW50c1wiOjg2LFwiU0VQXCI6ODcsXCIkYWNjZXB0XCI6MCxcIiRlbmRcIjoxfSxcbnRlcm1pbmFsc186IHsyOlwiZXJyb3JcIiw1OlwiRU9GXCIsMTQ6XCJDT01NRU5UXCIsMTU6XCJDT05URU5UXCIsMTg6XCJFTkRfUkFXX0JMT0NLXCIsMTk6XCJPUEVOX1JBV19CTE9DS1wiLDIzOlwiQ0xPU0VfUkFXX0JMT0NLXCIsMjk6XCJPUEVOX0JMT0NLXCIsMzM6XCJDTE9TRVwiLDM0OlwiT1BFTl9JTlZFUlNFXCIsMzk6XCJPUEVOX0lOVkVSU0VfQ0hBSU5cIiw0NDpcIklOVkVSU0VcIiw0NzpcIk9QRU5fRU5EQkxPQ0tcIiw0ODpcIk9QRU5cIiw1MTpcIk9QRU5fVU5FU0NBUEVEXCIsNTQ6XCJDTE9TRV9VTkVTQ0FQRURcIiw1NTpcIk9QRU5fUEFSVElBTFwiLDYwOlwiT1BFTl9QQVJUSUFMX0JMT0NLXCIsNjU6XCJPUEVOX1NFWFBSXCIsNjg6XCJDTE9TRV9TRVhQUlwiLDcyOlwiSURcIiw3MzpcIkVRVUFMU1wiLDc1OlwiT1BFTl9CTE9DS19QQVJBTVNcIiw3NzpcIkNMT1NFX0JMT0NLX1BBUkFNU1wiLDgwOlwiU1RSSU5HXCIsODE6XCJOVU1CRVJcIiw4MjpcIkJPT0xFQU5cIiw4MzpcIlVOREVGSU5FRFwiLDg0OlwiTlVMTFwiLDg1OlwiREFUQVwiLDg3OlwiU0VQXCJ9LFxucHJvZHVjdGlvbnNfOiBbMCxbMywyXSxbNCwxXSxbNywxXSxbNywxXSxbNywxXSxbNywxXSxbNywxXSxbNywxXSxbNywxXSxbMTMsMV0sWzEwLDNdLFsxNiw1XSxbOSw0XSxbOSw0XSxbMjQsNl0sWzI3LDZdLFszOCw2XSxbNDMsMl0sWzQ1LDNdLFs0NSwxXSxbMjYsM10sWzgsNV0sWzgsNV0sWzExLDVdLFsxMiwzXSxbNTksNV0sWzYzLDFdLFs2MywxXSxbNjQsNV0sWzY5LDFdLFs3MSwzXSxbNzQsM10sWzIwLDFdLFsyMCwxXSxbMjAsMV0sWzIwLDFdLFsyMCwxXSxbMjAsMV0sWzIwLDFdLFs1NiwxXSxbNTYsMV0sWzc5LDJdLFs3OCwxXSxbODYsM10sWzg2LDFdLFs2LDBdLFs2LDJdLFsxNywwXSxbMTcsMl0sWzIxLDBdLFsyMSwyXSxbMjIsMF0sWzIyLDFdLFsyNSwwXSxbMjUsMV0sWzI4LDBdLFsyOCwxXSxbMzAsMF0sWzMwLDJdLFszMSwwXSxbMzEsMV0sWzMyLDBdLFszMiwxXSxbMzUsMF0sWzM1LDJdLFszNiwwXSxbMzYsMV0sWzM3LDBdLFszNywxXSxbNDAsMF0sWzQwLDJdLFs0MSwwXSxbNDEsMV0sWzQyLDBdLFs0MiwxXSxbNDYsMF0sWzQ2LDFdLFs0OSwwXSxbNDksMl0sWzUwLDBdLFs1MCwxXSxbNTIsMF0sWzUyLDJdLFs1MywwXSxbNTMsMV0sWzU3LDBdLFs1NywyXSxbNTgsMF0sWzU4LDFdLFs2MSwwXSxbNjEsMl0sWzYyLDBdLFs2MiwxXSxbNjYsMF0sWzY2LDJdLFs2NywwXSxbNjcsMV0sWzcwLDFdLFs3MCwyXSxbNzYsMV0sWzc2LDJdXSxcbnBlcmZvcm1BY3Rpb246IGZ1bmN0aW9uIGFub255bW91cyh5eXRleHQseXlsZW5nLHl5bGluZW5vLHl5LHl5c3RhdGUsJCQsXyRcbikge1xuXG52YXIgJDAgPSAkJC5sZW5ndGggLSAxO1xuc3dpdGNoICh5eXN0YXRlKSB7XG5jYXNlIDE6IHJldHVybiAkJFskMC0xXTsgXG5icmVhaztcbmNhc2UgMjp0aGlzLiQgPSB5eS5wcmVwYXJlUHJvZ3JhbSgkJFskMF0pO1xuYnJlYWs7XG5jYXNlIDM6dGhpcy4kID0gJCRbJDBdO1xuYnJlYWs7XG5jYXNlIDQ6dGhpcy4kID0gJCRbJDBdO1xuYnJlYWs7XG5jYXNlIDU6dGhpcy4kID0gJCRbJDBdO1xuYnJlYWs7XG5jYXNlIDY6dGhpcy4kID0gJCRbJDBdO1xuYnJlYWs7XG5jYXNlIDc6dGhpcy4kID0gJCRbJDBdO1xuYnJlYWs7XG5jYXNlIDg6dGhpcy4kID0gJCRbJDBdO1xuYnJlYWs7XG5jYXNlIDk6XG4gICAgdGhpcy4kID0ge1xuICAgICAgdHlwZTogJ0NvbW1lbnRTdGF0ZW1lbnQnLFxuICAgICAgdmFsdWU6IHl5LnN0cmlwQ29tbWVudCgkJFskMF0pLFxuICAgICAgc3RyaXA6IHl5LnN0cmlwRmxhZ3MoJCRbJDBdLCAkJFskMF0pLFxuICAgICAgbG9jOiB5eS5sb2NJbmZvKHRoaXMuXyQpXG4gICAgfTtcbiAgXG5icmVhaztcbmNhc2UgMTA6XG4gICAgdGhpcy4kID0ge1xuICAgICAgdHlwZTogJ0NvbnRlbnRTdGF0ZW1lbnQnLFxuICAgICAgb3JpZ2luYWw6ICQkWyQwXSxcbiAgICAgIHZhbHVlOiAkJFskMF0sXG4gICAgICBsb2M6IHl5LmxvY0luZm8odGhpcy5fJClcbiAgICB9O1xuICBcbmJyZWFrO1xuY2FzZSAxMTp0aGlzLiQgPSB5eS5wcmVwYXJlUmF3QmxvY2soJCRbJDAtMl0sICQkWyQwLTFdLCAkJFskMF0sIHRoaXMuXyQpO1xuYnJlYWs7XG5jYXNlIDEyOnRoaXMuJCA9IHsgcGF0aDogJCRbJDAtM10sIHBhcmFtczogJCRbJDAtMl0sIGhhc2g6ICQkWyQwLTFdIH07XG5icmVhaztcbmNhc2UgMTM6dGhpcy4kID0geXkucHJlcGFyZUJsb2NrKCQkWyQwLTNdLCAkJFskMC0yXSwgJCRbJDAtMV0sICQkWyQwXSwgZmFsc2UsIHRoaXMuXyQpO1xuYnJlYWs7XG5jYXNlIDE0OnRoaXMuJCA9IHl5LnByZXBhcmVCbG9jaygkJFskMC0zXSwgJCRbJDAtMl0sICQkWyQwLTFdLCAkJFskMF0sIHRydWUsIHRoaXMuXyQpO1xuYnJlYWs7XG5jYXNlIDE1OnRoaXMuJCA9IHsgb3BlbjogJCRbJDAtNV0sIHBhdGg6ICQkWyQwLTRdLCBwYXJhbXM6ICQkWyQwLTNdLCBoYXNoOiAkJFskMC0yXSwgYmxvY2tQYXJhbXM6ICQkWyQwLTFdLCBzdHJpcDogeXkuc3RyaXBGbGFncygkJFskMC01XSwgJCRbJDBdKSB9O1xuYnJlYWs7XG5jYXNlIDE2OnRoaXMuJCA9IHsgcGF0aDogJCRbJDAtNF0sIHBhcmFtczogJCRbJDAtM10sIGhhc2g6ICQkWyQwLTJdLCBibG9ja1BhcmFtczogJCRbJDAtMV0sIHN0cmlwOiB5eS5zdHJpcEZsYWdzKCQkWyQwLTVdLCAkJFskMF0pIH07XG5icmVhaztcbmNhc2UgMTc6dGhpcy4kID0geyBwYXRoOiAkJFskMC00XSwgcGFyYW1zOiAkJFskMC0zXSwgaGFzaDogJCRbJDAtMl0sIGJsb2NrUGFyYW1zOiAkJFskMC0xXSwgc3RyaXA6IHl5LnN0cmlwRmxhZ3MoJCRbJDAtNV0sICQkWyQwXSkgfTtcbmJyZWFrO1xuY2FzZSAxODp0aGlzLiQgPSB7IHN0cmlwOiB5eS5zdHJpcEZsYWdzKCQkWyQwLTFdLCAkJFskMC0xXSksIHByb2dyYW06ICQkWyQwXSB9O1xuYnJlYWs7XG5jYXNlIDE5OlxuICAgIHZhciBpbnZlcnNlID0geXkucHJlcGFyZUJsb2NrKCQkWyQwLTJdLCAkJFskMC0xXSwgJCRbJDBdLCAkJFskMF0sIGZhbHNlLCB0aGlzLl8kKSxcbiAgICAgICAgcHJvZ3JhbSA9IHl5LnByZXBhcmVQcm9ncmFtKFtpbnZlcnNlXSwgJCRbJDAtMV0ubG9jKTtcbiAgICBwcm9ncmFtLmNoYWluZWQgPSB0cnVlO1xuXG4gICAgdGhpcy4kID0geyBzdHJpcDogJCRbJDAtMl0uc3RyaXAsIHByb2dyYW06IHByb2dyYW0sIGNoYWluOiB0cnVlIH07XG4gIFxuYnJlYWs7XG5jYXNlIDIwOnRoaXMuJCA9ICQkWyQwXTtcbmJyZWFrO1xuY2FzZSAyMTp0aGlzLiQgPSB7cGF0aDogJCRbJDAtMV0sIHN0cmlwOiB5eS5zdHJpcEZsYWdzKCQkWyQwLTJdLCAkJFskMF0pfTtcbmJyZWFrO1xuY2FzZSAyMjp0aGlzLiQgPSB5eS5wcmVwYXJlTXVzdGFjaGUoJCRbJDAtM10sICQkWyQwLTJdLCAkJFskMC0xXSwgJCRbJDAtNF0sIHl5LnN0cmlwRmxhZ3MoJCRbJDAtNF0sICQkWyQwXSksIHRoaXMuXyQpO1xuYnJlYWs7XG5jYXNlIDIzOnRoaXMuJCA9IHl5LnByZXBhcmVNdXN0YWNoZSgkJFskMC0zXSwgJCRbJDAtMl0sICQkWyQwLTFdLCAkJFskMC00XSwgeXkuc3RyaXBGbGFncygkJFskMC00XSwgJCRbJDBdKSwgdGhpcy5fJCk7XG5icmVhaztcbmNhc2UgMjQ6XG4gICAgdGhpcy4kID0ge1xuICAgICAgdHlwZTogJ1BhcnRpYWxTdGF0ZW1lbnQnLFxuICAgICAgbmFtZTogJCRbJDAtM10sXG4gICAgICBwYXJhbXM6ICQkWyQwLTJdLFxuICAgICAgaGFzaDogJCRbJDAtMV0sXG4gICAgICBpbmRlbnQ6ICcnLFxuICAgICAgc3RyaXA6IHl5LnN0cmlwRmxhZ3MoJCRbJDAtNF0sICQkWyQwXSksXG4gICAgICBsb2M6IHl5LmxvY0luZm8odGhpcy5fJClcbiAgICB9O1xuICBcbmJyZWFrO1xuY2FzZSAyNTp0aGlzLiQgPSB5eS5wcmVwYXJlUGFydGlhbEJsb2NrKCQkWyQwLTJdLCAkJFskMC0xXSwgJCRbJDBdLCB0aGlzLl8kKTtcbmJyZWFrO1xuY2FzZSAyNjp0aGlzLiQgPSB7IHBhdGg6ICQkWyQwLTNdLCBwYXJhbXM6ICQkWyQwLTJdLCBoYXNoOiAkJFskMC0xXSwgc3RyaXA6IHl5LnN0cmlwRmxhZ3MoJCRbJDAtNF0sICQkWyQwXSkgfTtcbmJyZWFrO1xuY2FzZSAyNzp0aGlzLiQgPSAkJFskMF07XG5icmVhaztcbmNhc2UgMjg6dGhpcy4kID0gJCRbJDBdO1xuYnJlYWs7XG5jYXNlIDI5OlxuICAgIHRoaXMuJCA9IHtcbiAgICAgIHR5cGU6ICdTdWJFeHByZXNzaW9uJyxcbiAgICAgIHBhdGg6ICQkWyQwLTNdLFxuICAgICAgcGFyYW1zOiAkJFskMC0yXSxcbiAgICAgIGhhc2g6ICQkWyQwLTFdLFxuICAgICAgbG9jOiB5eS5sb2NJbmZvKHRoaXMuXyQpXG4gICAgfTtcbiAgXG5icmVhaztcbmNhc2UgMzA6dGhpcy4kID0ge3R5cGU6ICdIYXNoJywgcGFpcnM6ICQkWyQwXSwgbG9jOiB5eS5sb2NJbmZvKHRoaXMuXyQpfTtcbmJyZWFrO1xuY2FzZSAzMTp0aGlzLiQgPSB7dHlwZTogJ0hhc2hQYWlyJywga2V5OiB5eS5pZCgkJFskMC0yXSksIHZhbHVlOiAkJFskMF0sIGxvYzogeXkubG9jSW5mbyh0aGlzLl8kKX07XG5icmVhaztcbmNhc2UgMzI6dGhpcy4kID0geXkuaWQoJCRbJDAtMV0pO1xuYnJlYWs7XG5jYXNlIDMzOnRoaXMuJCA9ICQkWyQwXTtcbmJyZWFrO1xuY2FzZSAzNDp0aGlzLiQgPSAkJFskMF07XG5icmVhaztcbmNhc2UgMzU6dGhpcy4kID0ge3R5cGU6ICdTdHJpbmdMaXRlcmFsJywgdmFsdWU6ICQkWyQwXSwgb3JpZ2luYWw6ICQkWyQwXSwgbG9jOiB5eS5sb2NJbmZvKHRoaXMuXyQpfTtcbmJyZWFrO1xuY2FzZSAzNjp0aGlzLiQgPSB7dHlwZTogJ051bWJlckxpdGVyYWwnLCB2YWx1ZTogTnVtYmVyKCQkWyQwXSksIG9yaWdpbmFsOiBOdW1iZXIoJCRbJDBdKSwgbG9jOiB5eS5sb2NJbmZvKHRoaXMuXyQpfTtcbmJyZWFrO1xuY2FzZSAzNzp0aGlzLiQgPSB7dHlwZTogJ0Jvb2xlYW5MaXRlcmFsJywgdmFsdWU6ICQkWyQwXSA9PT0gJ3RydWUnLCBvcmlnaW5hbDogJCRbJDBdID09PSAndHJ1ZScsIGxvYzogeXkubG9jSW5mbyh0aGlzLl8kKX07XG5icmVhaztcbmNhc2UgMzg6dGhpcy4kID0ge3R5cGU6ICdVbmRlZmluZWRMaXRlcmFsJywgb3JpZ2luYWw6IHVuZGVmaW5lZCwgdmFsdWU6IHVuZGVmaW5lZCwgbG9jOiB5eS5sb2NJbmZvKHRoaXMuXyQpfTtcbmJyZWFrO1xuY2FzZSAzOTp0aGlzLiQgPSB7dHlwZTogJ051bGxMaXRlcmFsJywgb3JpZ2luYWw6IG51bGwsIHZhbHVlOiBudWxsLCBsb2M6IHl5LmxvY0luZm8odGhpcy5fJCl9O1xuYnJlYWs7XG5jYXNlIDQwOnRoaXMuJCA9ICQkWyQwXTtcbmJyZWFrO1xuY2FzZSA0MTp0aGlzLiQgPSAkJFskMF07XG5icmVhaztcbmNhc2UgNDI6dGhpcy4kID0geXkucHJlcGFyZVBhdGgodHJ1ZSwgJCRbJDBdLCB0aGlzLl8kKTtcbmJyZWFrO1xuY2FzZSA0Mzp0aGlzLiQgPSB5eS5wcmVwYXJlUGF0aChmYWxzZSwgJCRbJDBdLCB0aGlzLl8kKTtcbmJyZWFrO1xuY2FzZSA0NDogJCRbJDAtMl0ucHVzaCh7cGFydDogeXkuaWQoJCRbJDBdKSwgb3JpZ2luYWw6ICQkWyQwXSwgc2VwYXJhdG9yOiAkJFskMC0xXX0pOyB0aGlzLiQgPSAkJFskMC0yXTsgXG5icmVhaztcbmNhc2UgNDU6dGhpcy4kID0gW3twYXJ0OiB5eS5pZCgkJFskMF0pLCBvcmlnaW5hbDogJCRbJDBdfV07XG5icmVhaztcbmNhc2UgNDY6dGhpcy4kID0gW107XG5icmVhaztcbmNhc2UgNDc6JCRbJDAtMV0ucHVzaCgkJFskMF0pO1xuYnJlYWs7XG5jYXNlIDQ4OnRoaXMuJCA9IFtdO1xuYnJlYWs7XG5jYXNlIDQ5OiQkWyQwLTFdLnB1c2goJCRbJDBdKTtcbmJyZWFrO1xuY2FzZSA1MDp0aGlzLiQgPSBbXTtcbmJyZWFrO1xuY2FzZSA1MTokJFskMC0xXS5wdXNoKCQkWyQwXSk7XG5icmVhaztcbmNhc2UgNTg6dGhpcy4kID0gW107XG5icmVhaztcbmNhc2UgNTk6JCRbJDAtMV0ucHVzaCgkJFskMF0pO1xuYnJlYWs7XG5jYXNlIDY0OnRoaXMuJCA9IFtdO1xuYnJlYWs7XG5jYXNlIDY1OiQkWyQwLTFdLnB1c2goJCRbJDBdKTtcbmJyZWFrO1xuY2FzZSA3MDp0aGlzLiQgPSBbXTtcbmJyZWFrO1xuY2FzZSA3MTokJFskMC0xXS5wdXNoKCQkWyQwXSk7XG5icmVhaztcbmNhc2UgNzg6dGhpcy4kID0gW107XG5icmVhaztcbmNhc2UgNzk6JCRbJDAtMV0ucHVzaCgkJFskMF0pO1xuYnJlYWs7XG5jYXNlIDgyOnRoaXMuJCA9IFtdO1xuYnJlYWs7XG5jYXNlIDgzOiQkWyQwLTFdLnB1c2goJCRbJDBdKTtcbmJyZWFrO1xuY2FzZSA4Njp0aGlzLiQgPSBbXTtcbmJyZWFrO1xuY2FzZSA4NzokJFskMC0xXS5wdXNoKCQkWyQwXSk7XG5icmVhaztcbmNhc2UgOTA6dGhpcy4kID0gW107XG5icmVhaztcbmNhc2UgOTE6JCRbJDAtMV0ucHVzaCgkJFskMF0pO1xuYnJlYWs7XG5jYXNlIDk0OnRoaXMuJCA9IFtdO1xuYnJlYWs7XG5jYXNlIDk1OiQkWyQwLTFdLnB1c2goJCRbJDBdKTtcbmJyZWFrO1xuY2FzZSA5ODp0aGlzLiQgPSBbJCRbJDBdXTtcbmJyZWFrO1xuY2FzZSA5OTokJFskMC0xXS5wdXNoKCQkWyQwXSk7XG5icmVhaztcbmNhc2UgMTAwOnRoaXMuJCA9IFskJFskMF1dO1xuYnJlYWs7XG5jYXNlIDEwMTokJFskMC0xXS5wdXNoKCQkWyQwXSk7XG5icmVhaztcbn1cbn0sXG50YWJsZTogW3szOjEsNDoyLDU6WzIsNDZdLDY6MywxNDpbMiw0Nl0sMTU6WzIsNDZdLDE5OlsyLDQ2XSwyOTpbMiw0Nl0sMzQ6WzIsNDZdLDQ4OlsyLDQ2XSw1MTpbMiw0Nl0sNTU6WzIsNDZdLDYwOlsyLDQ2XX0sezE6WzNdfSx7NTpbMSw0XX0sezU6WzIsMl0sNzo1LDg6Niw5OjcsMTA6OCwxMTo5LDEyOjEwLDEzOjExLDE0OlsxLDEyXSwxNTpbMSwyMF0sMTY6MTcsMTk6WzEsMjNdLDI0OjE1LDI3OjE2LDI5OlsxLDIxXSwzNDpbMSwyMl0sMzk6WzIsMl0sNDQ6WzIsMl0sNDc6WzIsMl0sNDg6WzEsMTNdLDUxOlsxLDE0XSw1NTpbMSwxOF0sNTk6MTksNjA6WzEsMjRdfSx7MTpbMiwxXX0sezU6WzIsNDddLDE0OlsyLDQ3XSwxNTpbMiw0N10sMTk6WzIsNDddLDI5OlsyLDQ3XSwzNDpbMiw0N10sMzk6WzIsNDddLDQ0OlsyLDQ3XSw0NzpbMiw0N10sNDg6WzIsNDddLDUxOlsyLDQ3XSw1NTpbMiw0N10sNjA6WzIsNDddfSx7NTpbMiwzXSwxNDpbMiwzXSwxNTpbMiwzXSwxOTpbMiwzXSwyOTpbMiwzXSwzNDpbMiwzXSwzOTpbMiwzXSw0NDpbMiwzXSw0NzpbMiwzXSw0ODpbMiwzXSw1MTpbMiwzXSw1NTpbMiwzXSw2MDpbMiwzXX0sezU6WzIsNF0sMTQ6WzIsNF0sMTU6WzIsNF0sMTk6WzIsNF0sMjk6WzIsNF0sMzQ6WzIsNF0sMzk6WzIsNF0sNDQ6WzIsNF0sNDc6WzIsNF0sNDg6WzIsNF0sNTE6WzIsNF0sNTU6WzIsNF0sNjA6WzIsNF19LHs1OlsyLDVdLDE0OlsyLDVdLDE1OlsyLDVdLDE5OlsyLDVdLDI5OlsyLDVdLDM0OlsyLDVdLDM5OlsyLDVdLDQ0OlsyLDVdLDQ3OlsyLDVdLDQ4OlsyLDVdLDUxOlsyLDVdLDU1OlsyLDVdLDYwOlsyLDVdfSx7NTpbMiw2XSwxNDpbMiw2XSwxNTpbMiw2XSwxOTpbMiw2XSwyOTpbMiw2XSwzNDpbMiw2XSwzOTpbMiw2XSw0NDpbMiw2XSw0NzpbMiw2XSw0ODpbMiw2XSw1MTpbMiw2XSw1NTpbMiw2XSw2MDpbMiw2XX0sezU6WzIsN10sMTQ6WzIsN10sMTU6WzIsN10sMTk6WzIsN10sMjk6WzIsN10sMzQ6WzIsN10sMzk6WzIsN10sNDQ6WzIsN10sNDc6WzIsN10sNDg6WzIsN10sNTE6WzIsN10sNTU6WzIsN10sNjA6WzIsN119LHs1OlsyLDhdLDE0OlsyLDhdLDE1OlsyLDhdLDE5OlsyLDhdLDI5OlsyLDhdLDM0OlsyLDhdLDM5OlsyLDhdLDQ0OlsyLDhdLDQ3OlsyLDhdLDQ4OlsyLDhdLDUxOlsyLDhdLDU1OlsyLDhdLDYwOlsyLDhdfSx7NTpbMiw5XSwxNDpbMiw5XSwxNTpbMiw5XSwxOTpbMiw5XSwyOTpbMiw5XSwzNDpbMiw5XSwzOTpbMiw5XSw0NDpbMiw5XSw0NzpbMiw5XSw0ODpbMiw5XSw1MTpbMiw5XSw1NTpbMiw5XSw2MDpbMiw5XX0sezIwOjI1LDcyOlsxLDM1XSw3ODoyNiw3OToyNyw4MDpbMSwyOF0sODE6WzEsMjldLDgyOlsxLDMwXSw4MzpbMSwzMV0sODQ6WzEsMzJdLDg1OlsxLDM0XSw4NjozM30sezIwOjM2LDcyOlsxLDM1XSw3ODoyNiw3OToyNyw4MDpbMSwyOF0sODE6WzEsMjldLDgyOlsxLDMwXSw4MzpbMSwzMV0sODQ6WzEsMzJdLDg1OlsxLDM0XSw4NjozM30sezQ6MzcsNjozLDE0OlsyLDQ2XSwxNTpbMiw0Nl0sMTk6WzIsNDZdLDI5OlsyLDQ2XSwzNDpbMiw0Nl0sMzk6WzIsNDZdLDQ0OlsyLDQ2XSw0NzpbMiw0Nl0sNDg6WzIsNDZdLDUxOlsyLDQ2XSw1NTpbMiw0Nl0sNjA6WzIsNDZdfSx7NDozOCw2OjMsMTQ6WzIsNDZdLDE1OlsyLDQ2XSwxOTpbMiw0Nl0sMjk6WzIsNDZdLDM0OlsyLDQ2XSw0NDpbMiw0Nl0sNDc6WzIsNDZdLDQ4OlsyLDQ2XSw1MTpbMiw0Nl0sNTU6WzIsNDZdLDYwOlsyLDQ2XX0sezE1OlsyLDQ4XSwxNzozOSwxODpbMiw0OF19LHsyMDo0MSw1Njo0MCw2NDo0Miw2NTpbMSw0M10sNzI6WzEsMzVdLDc4OjI2LDc5OjI3LDgwOlsxLDI4XSw4MTpbMSwyOV0sODI6WzEsMzBdLDgzOlsxLDMxXSw4NDpbMSwzMl0sODU6WzEsMzRdLDg2OjMzfSx7NDo0NCw2OjMsMTQ6WzIsNDZdLDE1OlsyLDQ2XSwxOTpbMiw0Nl0sMjk6WzIsNDZdLDM0OlsyLDQ2XSw0NzpbMiw0Nl0sNDg6WzIsNDZdLDUxOlsyLDQ2XSw1NTpbMiw0Nl0sNjA6WzIsNDZdfSx7NTpbMiwxMF0sMTQ6WzIsMTBdLDE1OlsyLDEwXSwxODpbMiwxMF0sMTk6WzIsMTBdLDI5OlsyLDEwXSwzNDpbMiwxMF0sMzk6WzIsMTBdLDQ0OlsyLDEwXSw0NzpbMiwxMF0sNDg6WzIsMTBdLDUxOlsyLDEwXSw1NTpbMiwxMF0sNjA6WzIsMTBdfSx7MjA6NDUsNzI6WzEsMzVdLDc4OjI2LDc5OjI3LDgwOlsxLDI4XSw4MTpbMSwyOV0sODI6WzEsMzBdLDgzOlsxLDMxXSw4NDpbMSwzMl0sODU6WzEsMzRdLDg2OjMzfSx7MjA6NDYsNzI6WzEsMzVdLDc4OjI2LDc5OjI3LDgwOlsxLDI4XSw4MTpbMSwyOV0sODI6WzEsMzBdLDgzOlsxLDMxXSw4NDpbMSwzMl0sODU6WzEsMzRdLDg2OjMzfSx7MjA6NDcsNzI6WzEsMzVdLDc4OjI2LDc5OjI3LDgwOlsxLDI4XSw4MTpbMSwyOV0sODI6WzEsMzBdLDgzOlsxLDMxXSw4NDpbMSwzMl0sODU6WzEsMzRdLDg2OjMzfSx7MjA6NDEsNTY6NDgsNjQ6NDIsNjU6WzEsNDNdLDcyOlsxLDM1XSw3ODoyNiw3OToyNyw4MDpbMSwyOF0sODE6WzEsMjldLDgyOlsxLDMwXSw4MzpbMSwzMV0sODQ6WzEsMzJdLDg1OlsxLDM0XSw4NjozM30sezMzOlsyLDc4XSw0OTo0OSw2NTpbMiw3OF0sNzI6WzIsNzhdLDgwOlsyLDc4XSw4MTpbMiw3OF0sODI6WzIsNzhdLDgzOlsyLDc4XSw4NDpbMiw3OF0sODU6WzIsNzhdfSx7MjM6WzIsMzNdLDMzOlsyLDMzXSw1NDpbMiwzM10sNjU6WzIsMzNdLDY4OlsyLDMzXSw3MjpbMiwzM10sNzU6WzIsMzNdLDgwOlsyLDMzXSw4MTpbMiwzM10sODI6WzIsMzNdLDgzOlsyLDMzXSw4NDpbMiwzM10sODU6WzIsMzNdfSx7MjM6WzIsMzRdLDMzOlsyLDM0XSw1NDpbMiwzNF0sNjU6WzIsMzRdLDY4OlsyLDM0XSw3MjpbMiwzNF0sNzU6WzIsMzRdLDgwOlsyLDM0XSw4MTpbMiwzNF0sODI6WzIsMzRdLDgzOlsyLDM0XSw4NDpbMiwzNF0sODU6WzIsMzRdfSx7MjM6WzIsMzVdLDMzOlsyLDM1XSw1NDpbMiwzNV0sNjU6WzIsMzVdLDY4OlsyLDM1XSw3MjpbMiwzNV0sNzU6WzIsMzVdLDgwOlsyLDM1XSw4MTpbMiwzNV0sODI6WzIsMzVdLDgzOlsyLDM1XSw4NDpbMiwzNV0sODU6WzIsMzVdfSx7MjM6WzIsMzZdLDMzOlsyLDM2XSw1NDpbMiwzNl0sNjU6WzIsMzZdLDY4OlsyLDM2XSw3MjpbMiwzNl0sNzU6WzIsMzZdLDgwOlsyLDM2XSw4MTpbMiwzNl0sODI6WzIsMzZdLDgzOlsyLDM2XSw4NDpbMiwzNl0sODU6WzIsMzZdfSx7MjM6WzIsMzddLDMzOlsyLDM3XSw1NDpbMiwzN10sNjU6WzIsMzddLDY4OlsyLDM3XSw3MjpbMiwzN10sNzU6WzIsMzddLDgwOlsyLDM3XSw4MTpbMiwzN10sODI6WzIsMzddLDgzOlsyLDM3XSw4NDpbMiwzN10sODU6WzIsMzddfSx7MjM6WzIsMzhdLDMzOlsyLDM4XSw1NDpbMiwzOF0sNjU6WzIsMzhdLDY4OlsyLDM4XSw3MjpbMiwzOF0sNzU6WzIsMzhdLDgwOlsyLDM4XSw4MTpbMiwzOF0sODI6WzIsMzhdLDgzOlsyLDM4XSw4NDpbMiwzOF0sODU6WzIsMzhdfSx7MjM6WzIsMzldLDMzOlsyLDM5XSw1NDpbMiwzOV0sNjU6WzIsMzldLDY4OlsyLDM5XSw3MjpbMiwzOV0sNzU6WzIsMzldLDgwOlsyLDM5XSw4MTpbMiwzOV0sODI6WzIsMzldLDgzOlsyLDM5XSw4NDpbMiwzOV0sODU6WzIsMzldfSx7MjM6WzIsNDNdLDMzOlsyLDQzXSw1NDpbMiw0M10sNjU6WzIsNDNdLDY4OlsyLDQzXSw3MjpbMiw0M10sNzU6WzIsNDNdLDgwOlsyLDQzXSw4MTpbMiw0M10sODI6WzIsNDNdLDgzOlsyLDQzXSw4NDpbMiw0M10sODU6WzIsNDNdLDg3OlsxLDUwXX0sezcyOlsxLDM1XSw4Njo1MX0sezIzOlsyLDQ1XSwzMzpbMiw0NV0sNTQ6WzIsNDVdLDY1OlsyLDQ1XSw2ODpbMiw0NV0sNzI6WzIsNDVdLDc1OlsyLDQ1XSw4MDpbMiw0NV0sODE6WzIsNDVdLDgyOlsyLDQ1XSw4MzpbMiw0NV0sODQ6WzIsNDVdLDg1OlsyLDQ1XSw4NzpbMiw0NV19LHs1Mjo1Miw1NDpbMiw4Ml0sNjU6WzIsODJdLDcyOlsyLDgyXSw4MDpbMiw4Ml0sODE6WzIsODJdLDgyOlsyLDgyXSw4MzpbMiw4Ml0sODQ6WzIsODJdLDg1OlsyLDgyXX0sezI1OjUzLDM4OjU1LDM5OlsxLDU3XSw0Mzo1Niw0NDpbMSw1OF0sNDU6NTQsNDc6WzIsNTRdfSx7Mjg6NTksNDM6NjAsNDQ6WzEsNThdLDQ3OlsyLDU2XX0sezEzOjYyLDE1OlsxLDIwXSwxODpbMSw2MV19LHszMzpbMiw4Nl0sNTc6NjMsNjU6WzIsODZdLDcyOlsyLDg2XSw4MDpbMiw4Nl0sODE6WzIsODZdLDgyOlsyLDg2XSw4MzpbMiw4Nl0sODQ6WzIsODZdLDg1OlsyLDg2XX0sezMzOlsyLDQwXSw2NTpbMiw0MF0sNzI6WzIsNDBdLDgwOlsyLDQwXSw4MTpbMiw0MF0sODI6WzIsNDBdLDgzOlsyLDQwXSw4NDpbMiw0MF0sODU6WzIsNDBdfSx7MzM6WzIsNDFdLDY1OlsyLDQxXSw3MjpbMiw0MV0sODA6WzIsNDFdLDgxOlsyLDQxXSw4MjpbMiw0MV0sODM6WzIsNDFdLDg0OlsyLDQxXSw4NTpbMiw0MV19LHsyMDo2NCw3MjpbMSwzNV0sNzg6MjYsNzk6MjcsODA6WzEsMjhdLDgxOlsxLDI5XSw4MjpbMSwzMF0sODM6WzEsMzFdLDg0OlsxLDMyXSw4NTpbMSwzNF0sODY6MzN9LHsyNjo2NSw0NzpbMSw2Nl19LHszMDo2NywzMzpbMiw1OF0sNjU6WzIsNThdLDcyOlsyLDU4XSw3NTpbMiw1OF0sODA6WzIsNThdLDgxOlsyLDU4XSw4MjpbMiw1OF0sODM6WzIsNThdLDg0OlsyLDU4XSw4NTpbMiw1OF19LHszMzpbMiw2NF0sMzU6NjgsNjU6WzIsNjRdLDcyOlsyLDY0XSw3NTpbMiw2NF0sODA6WzIsNjRdLDgxOlsyLDY0XSw4MjpbMiw2NF0sODM6WzIsNjRdLDg0OlsyLDY0XSw4NTpbMiw2NF19LHsyMTo2OSwyMzpbMiw1MF0sNjU6WzIsNTBdLDcyOlsyLDUwXSw4MDpbMiw1MF0sODE6WzIsNTBdLDgyOlsyLDUwXSw4MzpbMiw1MF0sODQ6WzIsNTBdLDg1OlsyLDUwXX0sezMzOlsyLDkwXSw2MTo3MCw2NTpbMiw5MF0sNzI6WzIsOTBdLDgwOlsyLDkwXSw4MTpbMiw5MF0sODI6WzIsOTBdLDgzOlsyLDkwXSw4NDpbMiw5MF0sODU6WzIsOTBdfSx7MjA6NzQsMzM6WzIsODBdLDUwOjcxLDYzOjcyLDY0Ojc1LDY1OlsxLDQzXSw2OTo3Myw3MDo3Niw3MTo3Nyw3MjpbMSw3OF0sNzg6MjYsNzk6MjcsODA6WzEsMjhdLDgxOlsxLDI5XSw4MjpbMSwzMF0sODM6WzEsMzFdLDg0OlsxLDMyXSw4NTpbMSwzNF0sODY6MzN9LHs3MjpbMSw3OV19LHsyMzpbMiw0Ml0sMzM6WzIsNDJdLDU0OlsyLDQyXSw2NTpbMiw0Ml0sNjg6WzIsNDJdLDcyOlsyLDQyXSw3NTpbMiw0Ml0sODA6WzIsNDJdLDgxOlsyLDQyXSw4MjpbMiw0Ml0sODM6WzIsNDJdLDg0OlsyLDQyXSw4NTpbMiw0Ml0sODc6WzEsNTBdfSx7MjA6NzQsNTM6ODAsNTQ6WzIsODRdLDYzOjgxLDY0Ojc1LDY1OlsxLDQzXSw2OTo4Miw3MDo3Niw3MTo3Nyw3MjpbMSw3OF0sNzg6MjYsNzk6MjcsODA6WzEsMjhdLDgxOlsxLDI5XSw4MjpbMSwzMF0sODM6WzEsMzFdLDg0OlsxLDMyXSw4NTpbMSwzNF0sODY6MzN9LHsyNjo4Myw0NzpbMSw2Nl19LHs0NzpbMiw1NV19LHs0Ojg0LDY6MywxNDpbMiw0Nl0sMTU6WzIsNDZdLDE5OlsyLDQ2XSwyOTpbMiw0Nl0sMzQ6WzIsNDZdLDM5OlsyLDQ2XSw0NDpbMiw0Nl0sNDc6WzIsNDZdLDQ4OlsyLDQ2XSw1MTpbMiw0Nl0sNTU6WzIsNDZdLDYwOlsyLDQ2XX0sezQ3OlsyLDIwXX0sezIwOjg1LDcyOlsxLDM1XSw3ODoyNiw3OToyNyw4MDpbMSwyOF0sODE6WzEsMjldLDgyOlsxLDMwXSw4MzpbMSwzMV0sODQ6WzEsMzJdLDg1OlsxLDM0XSw4NjozM30sezQ6ODYsNjozLDE0OlsyLDQ2XSwxNTpbMiw0Nl0sMTk6WzIsNDZdLDI5OlsyLDQ2XSwzNDpbMiw0Nl0sNDc6WzIsNDZdLDQ4OlsyLDQ2XSw1MTpbMiw0Nl0sNTU6WzIsNDZdLDYwOlsyLDQ2XX0sezI2Ojg3LDQ3OlsxLDY2XX0sezQ3OlsyLDU3XX0sezU6WzIsMTFdLDE0OlsyLDExXSwxNTpbMiwxMV0sMTk6WzIsMTFdLDI5OlsyLDExXSwzNDpbMiwxMV0sMzk6WzIsMTFdLDQ0OlsyLDExXSw0NzpbMiwxMV0sNDg6WzIsMTFdLDUxOlsyLDExXSw1NTpbMiwxMV0sNjA6WzIsMTFdfSx7MTU6WzIsNDldLDE4OlsyLDQ5XX0sezIwOjc0LDMzOlsyLDg4XSw1ODo4OCw2Mzo4OSw2NDo3NSw2NTpbMSw0M10sNjk6OTAsNzA6NzYsNzE6NzcsNzI6WzEsNzhdLDc4OjI2LDc5OjI3LDgwOlsxLDI4XSw4MTpbMSwyOV0sODI6WzEsMzBdLDgzOlsxLDMxXSw4NDpbMSwzMl0sODU6WzEsMzRdLDg2OjMzfSx7NjU6WzIsOTRdLDY2OjkxLDY4OlsyLDk0XSw3MjpbMiw5NF0sODA6WzIsOTRdLDgxOlsyLDk0XSw4MjpbMiw5NF0sODM6WzIsOTRdLDg0OlsyLDk0XSw4NTpbMiw5NF19LHs1OlsyLDI1XSwxNDpbMiwyNV0sMTU6WzIsMjVdLDE5OlsyLDI1XSwyOTpbMiwyNV0sMzQ6WzIsMjVdLDM5OlsyLDI1XSw0NDpbMiwyNV0sNDc6WzIsMjVdLDQ4OlsyLDI1XSw1MTpbMiwyNV0sNTU6WzIsMjVdLDYwOlsyLDI1XX0sezIwOjkyLDcyOlsxLDM1XSw3ODoyNiw3OToyNyw4MDpbMSwyOF0sODE6WzEsMjldLDgyOlsxLDMwXSw4MzpbMSwzMV0sODQ6WzEsMzJdLDg1OlsxLDM0XSw4NjozM30sezIwOjc0LDMxOjkzLDMzOlsyLDYwXSw2Mzo5NCw2NDo3NSw2NTpbMSw0M10sNjk6OTUsNzA6NzYsNzE6NzcsNzI6WzEsNzhdLDc1OlsyLDYwXSw3ODoyNiw3OToyNyw4MDpbMSwyOF0sODE6WzEsMjldLDgyOlsxLDMwXSw4MzpbMSwzMV0sODQ6WzEsMzJdLDg1OlsxLDM0XSw4NjozM30sezIwOjc0LDMzOlsyLDY2XSwzNjo5Niw2Mzo5Nyw2NDo3NSw2NTpbMSw0M10sNjk6OTgsNzA6NzYsNzE6NzcsNzI6WzEsNzhdLDc1OlsyLDY2XSw3ODoyNiw3OToyNyw4MDpbMSwyOF0sODE6WzEsMjldLDgyOlsxLDMwXSw4MzpbMSwzMV0sODQ6WzEsMzJdLDg1OlsxLDM0XSw4NjozM30sezIwOjc0LDIyOjk5LDIzOlsyLDUyXSw2MzoxMDAsNjQ6NzUsNjU6WzEsNDNdLDY5OjEwMSw3MDo3Niw3MTo3Nyw3MjpbMSw3OF0sNzg6MjYsNzk6MjcsODA6WzEsMjhdLDgxOlsxLDI5XSw4MjpbMSwzMF0sODM6WzEsMzFdLDg0OlsxLDMyXSw4NTpbMSwzNF0sODY6MzN9LHsyMDo3NCwzMzpbMiw5Ml0sNjI6MTAyLDYzOjEwMyw2NDo3NSw2NTpbMSw0M10sNjk6MTA0LDcwOjc2LDcxOjc3LDcyOlsxLDc4XSw3ODoyNiw3OToyNyw4MDpbMSwyOF0sODE6WzEsMjldLDgyOlsxLDMwXSw4MzpbMSwzMV0sODQ6WzEsMzJdLDg1OlsxLDM0XSw4NjozM30sezMzOlsxLDEwNV19LHszMzpbMiw3OV0sNjU6WzIsNzldLDcyOlsyLDc5XSw4MDpbMiw3OV0sODE6WzIsNzldLDgyOlsyLDc5XSw4MzpbMiw3OV0sODQ6WzIsNzldLDg1OlsyLDc5XX0sezMzOlsyLDgxXX0sezIzOlsyLDI3XSwzMzpbMiwyN10sNTQ6WzIsMjddLDY1OlsyLDI3XSw2ODpbMiwyN10sNzI6WzIsMjddLDc1OlsyLDI3XSw4MDpbMiwyN10sODE6WzIsMjddLDgyOlsyLDI3XSw4MzpbMiwyN10sODQ6WzIsMjddLDg1OlsyLDI3XX0sezIzOlsyLDI4XSwzMzpbMiwyOF0sNTQ6WzIsMjhdLDY1OlsyLDI4XSw2ODpbMiwyOF0sNzI6WzIsMjhdLDc1OlsyLDI4XSw4MDpbMiwyOF0sODE6WzIsMjhdLDgyOlsyLDI4XSw4MzpbMiwyOF0sODQ6WzIsMjhdLDg1OlsyLDI4XX0sezIzOlsyLDMwXSwzMzpbMiwzMF0sNTQ6WzIsMzBdLDY4OlsyLDMwXSw3MToxMDYsNzI6WzEsMTA3XSw3NTpbMiwzMF19LHsyMzpbMiw5OF0sMzM6WzIsOThdLDU0OlsyLDk4XSw2ODpbMiw5OF0sNzI6WzIsOThdLDc1OlsyLDk4XX0sezIzOlsyLDQ1XSwzMzpbMiw0NV0sNTQ6WzIsNDVdLDY1OlsyLDQ1XSw2ODpbMiw0NV0sNzI6WzIsNDVdLDczOlsxLDEwOF0sNzU6WzIsNDVdLDgwOlsyLDQ1XSw4MTpbMiw0NV0sODI6WzIsNDVdLDgzOlsyLDQ1XSw4NDpbMiw0NV0sODU6WzIsNDVdLDg3OlsyLDQ1XX0sezIzOlsyLDQ0XSwzMzpbMiw0NF0sNTQ6WzIsNDRdLDY1OlsyLDQ0XSw2ODpbMiw0NF0sNzI6WzIsNDRdLDc1OlsyLDQ0XSw4MDpbMiw0NF0sODE6WzIsNDRdLDgyOlsyLDQ0XSw4MzpbMiw0NF0sODQ6WzIsNDRdLDg1OlsyLDQ0XSw4NzpbMiw0NF19LHs1NDpbMSwxMDldfSx7NTQ6WzIsODNdLDY1OlsyLDgzXSw3MjpbMiw4M10sODA6WzIsODNdLDgxOlsyLDgzXSw4MjpbMiw4M10sODM6WzIsODNdLDg0OlsyLDgzXSw4NTpbMiw4M119LHs1NDpbMiw4NV19LHs1OlsyLDEzXSwxNDpbMiwxM10sMTU6WzIsMTNdLDE5OlsyLDEzXSwyOTpbMiwxM10sMzQ6WzIsMTNdLDM5OlsyLDEzXSw0NDpbMiwxM10sNDc6WzIsMTNdLDQ4OlsyLDEzXSw1MTpbMiwxM10sNTU6WzIsMTNdLDYwOlsyLDEzXX0sezM4OjU1LDM5OlsxLDU3XSw0Mzo1Niw0NDpbMSw1OF0sNDU6MTExLDQ2OjExMCw0NzpbMiw3Nl19LHszMzpbMiw3MF0sNDA6MTEyLDY1OlsyLDcwXSw3MjpbMiw3MF0sNzU6WzIsNzBdLDgwOlsyLDcwXSw4MTpbMiw3MF0sODI6WzIsNzBdLDgzOlsyLDcwXSw4NDpbMiw3MF0sODU6WzIsNzBdfSx7NDc6WzIsMThdfSx7NTpbMiwxNF0sMTQ6WzIsMTRdLDE1OlsyLDE0XSwxOTpbMiwxNF0sMjk6WzIsMTRdLDM0OlsyLDE0XSwzOTpbMiwxNF0sNDQ6WzIsMTRdLDQ3OlsyLDE0XSw0ODpbMiwxNF0sNTE6WzIsMTRdLDU1OlsyLDE0XSw2MDpbMiwxNF19LHszMzpbMSwxMTNdfSx7MzM6WzIsODddLDY1OlsyLDg3XSw3MjpbMiw4N10sODA6WzIsODddLDgxOlsyLDg3XSw4MjpbMiw4N10sODM6WzIsODddLDg0OlsyLDg3XSw4NTpbMiw4N119LHszMzpbMiw4OV19LHsyMDo3NCw2MzoxMTUsNjQ6NzUsNjU6WzEsNDNdLDY3OjExNCw2ODpbMiw5Nl0sNjk6MTE2LDcwOjc2LDcxOjc3LDcyOlsxLDc4XSw3ODoyNiw3OToyNyw4MDpbMSwyOF0sODE6WzEsMjldLDgyOlsxLDMwXSw4MzpbMSwzMV0sODQ6WzEsMzJdLDg1OlsxLDM0XSw4NjozM30sezMzOlsxLDExN119LHszMjoxMTgsMzM6WzIsNjJdLDc0OjExOSw3NTpbMSwxMjBdfSx7MzM6WzIsNTldLDY1OlsyLDU5XSw3MjpbMiw1OV0sNzU6WzIsNTldLDgwOlsyLDU5XSw4MTpbMiw1OV0sODI6WzIsNTldLDgzOlsyLDU5XSw4NDpbMiw1OV0sODU6WzIsNTldfSx7MzM6WzIsNjFdLDc1OlsyLDYxXX0sezMzOlsyLDY4XSwzNzoxMjEsNzQ6MTIyLDc1OlsxLDEyMF19LHszMzpbMiw2NV0sNjU6WzIsNjVdLDcyOlsyLDY1XSw3NTpbMiw2NV0sODA6WzIsNjVdLDgxOlsyLDY1XSw4MjpbMiw2NV0sODM6WzIsNjVdLDg0OlsyLDY1XSw4NTpbMiw2NV19LHszMzpbMiw2N10sNzU6WzIsNjddfSx7MjM6WzEsMTIzXX0sezIzOlsyLDUxXSw2NTpbMiw1MV0sNzI6WzIsNTFdLDgwOlsyLDUxXSw4MTpbMiw1MV0sODI6WzIsNTFdLDgzOlsyLDUxXSw4NDpbMiw1MV0sODU6WzIsNTFdfSx7MjM6WzIsNTNdfSx7MzM6WzEsMTI0XX0sezMzOlsyLDkxXSw2NTpbMiw5MV0sNzI6WzIsOTFdLDgwOlsyLDkxXSw4MTpbMiw5MV0sODI6WzIsOTFdLDgzOlsyLDkxXSw4NDpbMiw5MV0sODU6WzIsOTFdfSx7MzM6WzIsOTNdfSx7NTpbMiwyMl0sMTQ6WzIsMjJdLDE1OlsyLDIyXSwxOTpbMiwyMl0sMjk6WzIsMjJdLDM0OlsyLDIyXSwzOTpbMiwyMl0sNDQ6WzIsMjJdLDQ3OlsyLDIyXSw0ODpbMiwyMl0sNTE6WzIsMjJdLDU1OlsyLDIyXSw2MDpbMiwyMl19LHsyMzpbMiw5OV0sMzM6WzIsOTldLDU0OlsyLDk5XSw2ODpbMiw5OV0sNzI6WzIsOTldLDc1OlsyLDk5XX0sezczOlsxLDEwOF19LHsyMDo3NCw2MzoxMjUsNjQ6NzUsNjU6WzEsNDNdLDcyOlsxLDM1XSw3ODoyNiw3OToyNyw4MDpbMSwyOF0sODE6WzEsMjldLDgyOlsxLDMwXSw4MzpbMSwzMV0sODQ6WzEsMzJdLDg1OlsxLDM0XSw4NjozM30sezU6WzIsMjNdLDE0OlsyLDIzXSwxNTpbMiwyM10sMTk6WzIsMjNdLDI5OlsyLDIzXSwzNDpbMiwyM10sMzk6WzIsMjNdLDQ0OlsyLDIzXSw0NzpbMiwyM10sNDg6WzIsMjNdLDUxOlsyLDIzXSw1NTpbMiwyM10sNjA6WzIsMjNdfSx7NDc6WzIsMTldfSx7NDc6WzIsNzddfSx7MjA6NzQsMzM6WzIsNzJdLDQxOjEyNiw2MzoxMjcsNjQ6NzUsNjU6WzEsNDNdLDY5OjEyOCw3MDo3Niw3MTo3Nyw3MjpbMSw3OF0sNzU6WzIsNzJdLDc4OjI2LDc5OjI3LDgwOlsxLDI4XSw4MTpbMSwyOV0sODI6WzEsMzBdLDgzOlsxLDMxXSw4NDpbMSwzMl0sODU6WzEsMzRdLDg2OjMzfSx7NTpbMiwyNF0sMTQ6WzIsMjRdLDE1OlsyLDI0XSwxOTpbMiwyNF0sMjk6WzIsMjRdLDM0OlsyLDI0XSwzOTpbMiwyNF0sNDQ6WzIsMjRdLDQ3OlsyLDI0XSw0ODpbMiwyNF0sNTE6WzIsMjRdLDU1OlsyLDI0XSw2MDpbMiwyNF19LHs2ODpbMSwxMjldfSx7NjU6WzIsOTVdLDY4OlsyLDk1XSw3MjpbMiw5NV0sODA6WzIsOTVdLDgxOlsyLDk1XSw4MjpbMiw5NV0sODM6WzIsOTVdLDg0OlsyLDk1XSw4NTpbMiw5NV19LHs2ODpbMiw5N119LHs1OlsyLDIxXSwxNDpbMiwyMV0sMTU6WzIsMjFdLDE5OlsyLDIxXSwyOTpbMiwyMV0sMzQ6WzIsMjFdLDM5OlsyLDIxXSw0NDpbMiwyMV0sNDc6WzIsMjFdLDQ4OlsyLDIxXSw1MTpbMiwyMV0sNTU6WzIsMjFdLDYwOlsyLDIxXX0sezMzOlsxLDEzMF19LHszMzpbMiw2M119LHs3MjpbMSwxMzJdLDc2OjEzMX0sezMzOlsxLDEzM119LHszMzpbMiw2OV19LHsxNTpbMiwxMl0sMTg6WzIsMTJdfSx7MTQ6WzIsMjZdLDE1OlsyLDI2XSwxOTpbMiwyNl0sMjk6WzIsMjZdLDM0OlsyLDI2XSw0NzpbMiwyNl0sNDg6WzIsMjZdLDUxOlsyLDI2XSw1NTpbMiwyNl0sNjA6WzIsMjZdfSx7MjM6WzIsMzFdLDMzOlsyLDMxXSw1NDpbMiwzMV0sNjg6WzIsMzFdLDcyOlsyLDMxXSw3NTpbMiwzMV19LHszMzpbMiw3NF0sNDI6MTM0LDc0OjEzNSw3NTpbMSwxMjBdfSx7MzM6WzIsNzFdLDY1OlsyLDcxXSw3MjpbMiw3MV0sNzU6WzIsNzFdLDgwOlsyLDcxXSw4MTpbMiw3MV0sODI6WzIsNzFdLDgzOlsyLDcxXSw4NDpbMiw3MV0sODU6WzIsNzFdfSx7MzM6WzIsNzNdLDc1OlsyLDczXX0sezIzOlsyLDI5XSwzMzpbMiwyOV0sNTQ6WzIsMjldLDY1OlsyLDI5XSw2ODpbMiwyOV0sNzI6WzIsMjldLDc1OlsyLDI5XSw4MDpbMiwyOV0sODE6WzIsMjldLDgyOlsyLDI5XSw4MzpbMiwyOV0sODQ6WzIsMjldLDg1OlsyLDI5XX0sezE0OlsyLDE1XSwxNTpbMiwxNV0sMTk6WzIsMTVdLDI5OlsyLDE1XSwzNDpbMiwxNV0sMzk6WzIsMTVdLDQ0OlsyLDE1XSw0NzpbMiwxNV0sNDg6WzIsMTVdLDUxOlsyLDE1XSw1NTpbMiwxNV0sNjA6WzIsMTVdfSx7NzI6WzEsMTM3XSw3NzpbMSwxMzZdfSx7NzI6WzIsMTAwXSw3NzpbMiwxMDBdfSx7MTQ6WzIsMTZdLDE1OlsyLDE2XSwxOTpbMiwxNl0sMjk6WzIsMTZdLDM0OlsyLDE2XSw0NDpbMiwxNl0sNDc6WzIsMTZdLDQ4OlsyLDE2XSw1MTpbMiwxNl0sNTU6WzIsMTZdLDYwOlsyLDE2XX0sezMzOlsxLDEzOF19LHszMzpbMiw3NV19LHszMzpbMiwzMl19LHs3MjpbMiwxMDFdLDc3OlsyLDEwMV19LHsxNDpbMiwxN10sMTU6WzIsMTddLDE5OlsyLDE3XSwyOTpbMiwxN10sMzQ6WzIsMTddLDM5OlsyLDE3XSw0NDpbMiwxN10sNDc6WzIsMTddLDQ4OlsyLDE3XSw1MTpbMiwxN10sNTU6WzIsMTddLDYwOlsyLDE3XX1dLFxuZGVmYXVsdEFjdGlvbnM6IHs0OlsyLDFdLDU0OlsyLDU1XSw1NjpbMiwyMF0sNjA6WzIsNTddLDczOlsyLDgxXSw4MjpbMiw4NV0sODY6WzIsMThdLDkwOlsyLDg5XSwxMDE6WzIsNTNdLDEwNDpbMiw5M10sMTEwOlsyLDE5XSwxMTE6WzIsNzddLDExNjpbMiw5N10sMTE5OlsyLDYzXSwxMjI6WzIsNjldLDEzNTpbMiw3NV0sMTM2OlsyLDMyXX0sXG5wYXJzZUVycm9yOiBmdW5jdGlvbiBwYXJzZUVycm9yIChzdHIsIGhhc2gpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3Ioc3RyKTtcbn0sXG5wYXJzZTogZnVuY3Rpb24gcGFyc2UoaW5wdXQpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXMsIHN0YWNrID0gWzBdLCB2c3RhY2sgPSBbbnVsbF0sIGxzdGFjayA9IFtdLCB0YWJsZSA9IHRoaXMudGFibGUsIHl5dGV4dCA9IFwiXCIsIHl5bGluZW5vID0gMCwgeXlsZW5nID0gMCwgcmVjb3ZlcmluZyA9IDAsIFRFUlJPUiA9IDIsIEVPRiA9IDE7XG4gICAgdGhpcy5sZXhlci5zZXRJbnB1dChpbnB1dCk7XG4gICAgdGhpcy5sZXhlci55eSA9IHRoaXMueXk7XG4gICAgdGhpcy55eS5sZXhlciA9IHRoaXMubGV4ZXI7XG4gICAgdGhpcy55eS5wYXJzZXIgPSB0aGlzO1xuICAgIGlmICh0eXBlb2YgdGhpcy5sZXhlci55eWxsb2MgPT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgdGhpcy5sZXhlci55eWxsb2MgPSB7fTtcbiAgICB2YXIgeXlsb2MgPSB0aGlzLmxleGVyLnl5bGxvYztcbiAgICBsc3RhY2sucHVzaCh5eWxvYyk7XG4gICAgdmFyIHJhbmdlcyA9IHRoaXMubGV4ZXIub3B0aW9ucyAmJiB0aGlzLmxleGVyLm9wdGlvbnMucmFuZ2VzO1xuICAgIGlmICh0eXBlb2YgdGhpcy55eS5wYXJzZUVycm9yID09PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgIHRoaXMucGFyc2VFcnJvciA9IHRoaXMueXkucGFyc2VFcnJvcjtcbiAgICBmdW5jdGlvbiBwb3BTdGFjayhuKSB7XG4gICAgICAgIHN0YWNrLmxlbmd0aCA9IHN0YWNrLmxlbmd0aCAtIDIgKiBuO1xuICAgICAgICB2c3RhY2subGVuZ3RoID0gdnN0YWNrLmxlbmd0aCAtIG47XG4gICAgICAgIGxzdGFjay5sZW5ndGggPSBsc3RhY2subGVuZ3RoIC0gbjtcbiAgICB9XG4gICAgZnVuY3Rpb24gbGV4KCkge1xuICAgICAgICB2YXIgdG9rZW47XG4gICAgICAgIHRva2VuID0gc2VsZi5sZXhlci5sZXgoKSB8fCAxO1xuICAgICAgICBpZiAodHlwZW9mIHRva2VuICE9PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICB0b2tlbiA9IHNlbGYuc3ltYm9sc19bdG9rZW5dIHx8IHRva2VuO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0b2tlbjtcbiAgICB9XG4gICAgdmFyIHN5bWJvbCwgcHJlRXJyb3JTeW1ib2wsIHN0YXRlLCBhY3Rpb24sIGEsIHIsIHl5dmFsID0ge30sIHAsIGxlbiwgbmV3U3RhdGUsIGV4cGVjdGVkO1xuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIHN0YXRlID0gc3RhY2tbc3RhY2subGVuZ3RoIC0gMV07XG4gICAgICAgIGlmICh0aGlzLmRlZmF1bHRBY3Rpb25zW3N0YXRlXSkge1xuICAgICAgICAgICAgYWN0aW9uID0gdGhpcy5kZWZhdWx0QWN0aW9uc1tzdGF0ZV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoc3ltYm9sID09PSBudWxsIHx8IHR5cGVvZiBzeW1ib2wgPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgICAgIHN5bWJvbCA9IGxleCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYWN0aW9uID0gdGFibGVbc3RhdGVdICYmIHRhYmxlW3N0YXRlXVtzeW1ib2xdO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgYWN0aW9uID09PSBcInVuZGVmaW5lZFwiIHx8ICFhY3Rpb24ubGVuZ3RoIHx8ICFhY3Rpb25bMF0pIHtcbiAgICAgICAgICAgIHZhciBlcnJTdHIgPSBcIlwiO1xuICAgICAgICAgICAgaWYgKCFyZWNvdmVyaW5nKSB7XG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQgPSBbXTtcbiAgICAgICAgICAgICAgICBmb3IgKHAgaW4gdGFibGVbc3RhdGVdKVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy50ZXJtaW5hbHNfW3BdICYmIHAgPiAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBleHBlY3RlZC5wdXNoKFwiJ1wiICsgdGhpcy50ZXJtaW5hbHNfW3BdICsgXCInXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubGV4ZXIuc2hvd1Bvc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGVyclN0ciA9IFwiUGFyc2UgZXJyb3Igb24gbGluZSBcIiArICh5eWxpbmVubyArIDEpICsgXCI6XFxuXCIgKyB0aGlzLmxleGVyLnNob3dQb3NpdGlvbigpICsgXCJcXG5FeHBlY3RpbmcgXCIgKyBleHBlY3RlZC5qb2luKFwiLCBcIikgKyBcIiwgZ290ICdcIiArICh0aGlzLnRlcm1pbmFsc19bc3ltYm9sXSB8fCBzeW1ib2wpICsgXCInXCI7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZXJyU3RyID0gXCJQYXJzZSBlcnJvciBvbiBsaW5lIFwiICsgKHl5bGluZW5vICsgMSkgKyBcIjogVW5leHBlY3RlZCBcIiArIChzeW1ib2wgPT0gMT9cImVuZCBvZiBpbnB1dFwiOlwiJ1wiICsgKHRoaXMudGVybWluYWxzX1tzeW1ib2xdIHx8IHN5bWJvbCkgKyBcIidcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMucGFyc2VFcnJvcihlcnJTdHIsIHt0ZXh0OiB0aGlzLmxleGVyLm1hdGNoLCB0b2tlbjogdGhpcy50ZXJtaW5hbHNfW3N5bWJvbF0gfHwgc3ltYm9sLCBsaW5lOiB0aGlzLmxleGVyLnl5bGluZW5vLCBsb2M6IHl5bG9jLCBleHBlY3RlZDogZXhwZWN0ZWR9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoYWN0aW9uWzBdIGluc3RhbmNlb2YgQXJyYXkgJiYgYWN0aW9uLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlBhcnNlIEVycm9yOiBtdWx0aXBsZSBhY3Rpb25zIHBvc3NpYmxlIGF0IHN0YXRlOiBcIiArIHN0YXRlICsgXCIsIHRva2VuOiBcIiArIHN5bWJvbCk7XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoIChhY3Rpb25bMF0pIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgc3RhY2sucHVzaChzeW1ib2wpO1xuICAgICAgICAgICAgdnN0YWNrLnB1c2godGhpcy5sZXhlci55eXRleHQpO1xuICAgICAgICAgICAgbHN0YWNrLnB1c2godGhpcy5sZXhlci55eWxsb2MpO1xuICAgICAgICAgICAgc3RhY2sucHVzaChhY3Rpb25bMV0pO1xuICAgICAgICAgICAgc3ltYm9sID0gbnVsbDtcbiAgICAgICAgICAgIGlmICghcHJlRXJyb3JTeW1ib2wpIHtcbiAgICAgICAgICAgICAgICB5eWxlbmcgPSB0aGlzLmxleGVyLnl5bGVuZztcbiAgICAgICAgICAgICAgICB5eXRleHQgPSB0aGlzLmxleGVyLnl5dGV4dDtcbiAgICAgICAgICAgICAgICB5eWxpbmVubyA9IHRoaXMubGV4ZXIueXlsaW5lbm87XG4gICAgICAgICAgICAgICAgeXlsb2MgPSB0aGlzLmxleGVyLnl5bGxvYztcbiAgICAgICAgICAgICAgICBpZiAocmVjb3ZlcmluZyA+IDApXG4gICAgICAgICAgICAgICAgICAgIHJlY292ZXJpbmctLTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc3ltYm9sID0gcHJlRXJyb3JTeW1ib2w7XG4gICAgICAgICAgICAgICAgcHJlRXJyb3JTeW1ib2wgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIGxlbiA9IHRoaXMucHJvZHVjdGlvbnNfW2FjdGlvblsxXV1bMV07XG4gICAgICAgICAgICB5eXZhbC4kID0gdnN0YWNrW3ZzdGFjay5sZW5ndGggLSBsZW5dO1xuICAgICAgICAgICAgeXl2YWwuXyQgPSB7Zmlyc3RfbGluZTogbHN0YWNrW2xzdGFjay5sZW5ndGggLSAobGVuIHx8IDEpXS5maXJzdF9saW5lLCBsYXN0X2xpbmU6IGxzdGFja1tsc3RhY2subGVuZ3RoIC0gMV0ubGFzdF9saW5lLCBmaXJzdF9jb2x1bW46IGxzdGFja1tsc3RhY2subGVuZ3RoIC0gKGxlbiB8fCAxKV0uZmlyc3RfY29sdW1uLCBsYXN0X2NvbHVtbjogbHN0YWNrW2xzdGFjay5sZW5ndGggLSAxXS5sYXN0X2NvbHVtbn07XG4gICAgICAgICAgICBpZiAocmFuZ2VzKSB7XG4gICAgICAgICAgICAgICAgeXl2YWwuXyQucmFuZ2UgPSBbbHN0YWNrW2xzdGFjay5sZW5ndGggLSAobGVuIHx8IDEpXS5yYW5nZVswXSwgbHN0YWNrW2xzdGFjay5sZW5ndGggLSAxXS5yYW5nZVsxXV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByID0gdGhpcy5wZXJmb3JtQWN0aW9uLmNhbGwoeXl2YWwsIHl5dGV4dCwgeXlsZW5nLCB5eWxpbmVubywgdGhpcy55eSwgYWN0aW9uWzFdLCB2c3RhY2ssIGxzdGFjayk7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHIgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChsZW4pIHtcbiAgICAgICAgICAgICAgICBzdGFjayA9IHN0YWNrLnNsaWNlKDAsIC0xICogbGVuICogMik7XG4gICAgICAgICAgICAgICAgdnN0YWNrID0gdnN0YWNrLnNsaWNlKDAsIC0xICogbGVuKTtcbiAgICAgICAgICAgICAgICBsc3RhY2sgPSBsc3RhY2suc2xpY2UoMCwgLTEgKiBsZW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RhY2sucHVzaCh0aGlzLnByb2R1Y3Rpb25zX1thY3Rpb25bMV1dWzBdKTtcbiAgICAgICAgICAgIHZzdGFjay5wdXNoKHl5dmFsLiQpO1xuICAgICAgICAgICAgbHN0YWNrLnB1c2goeXl2YWwuXyQpO1xuICAgICAgICAgICAgbmV3U3RhdGUgPSB0YWJsZVtzdGFja1tzdGFjay5sZW5ndGggLSAyXV1bc3RhY2tbc3RhY2subGVuZ3RoIC0gMV1dO1xuICAgICAgICAgICAgc3RhY2sucHVzaChuZXdTdGF0ZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG59O1xuLyogSmlzb24gZ2VuZXJhdGVkIGxleGVyICovXG52YXIgbGV4ZXIgPSAoZnVuY3Rpb24oKXtcbnZhciBsZXhlciA9ICh7RU9GOjEsXG5wYXJzZUVycm9yOmZ1bmN0aW9uIHBhcnNlRXJyb3Ioc3RyLCBoYXNoKSB7XG4gICAgICAgIGlmICh0aGlzLnl5LnBhcnNlcikge1xuICAgICAgICAgICAgdGhpcy55eS5wYXJzZXIucGFyc2VFcnJvcihzdHIsIGhhc2gpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHN0cik7XG4gICAgICAgIH1cbiAgICB9LFxuc2V0SW5wdXQ6ZnVuY3Rpb24gKGlucHV0KSB7XG4gICAgICAgIHRoaXMuX2lucHV0ID0gaW5wdXQ7XG4gICAgICAgIHRoaXMuX21vcmUgPSB0aGlzLl9sZXNzID0gdGhpcy5kb25lID0gZmFsc2U7XG4gICAgICAgIHRoaXMueXlsaW5lbm8gPSB0aGlzLnl5bGVuZyA9IDA7XG4gICAgICAgIHRoaXMueXl0ZXh0ID0gdGhpcy5tYXRjaGVkID0gdGhpcy5tYXRjaCA9ICcnO1xuICAgICAgICB0aGlzLmNvbmRpdGlvblN0YWNrID0gWydJTklUSUFMJ107XG4gICAgICAgIHRoaXMueXlsbG9jID0ge2ZpcnN0X2xpbmU6MSxmaXJzdF9jb2x1bW46MCxsYXN0X2xpbmU6MSxsYXN0X2NvbHVtbjowfTtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5yYW5nZXMpIHRoaXMueXlsbG9jLnJhbmdlID0gWzAsMF07XG4gICAgICAgIHRoaXMub2Zmc2V0ID0gMDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbmlucHV0OmZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNoID0gdGhpcy5faW5wdXRbMF07XG4gICAgICAgIHRoaXMueXl0ZXh0ICs9IGNoO1xuICAgICAgICB0aGlzLnl5bGVuZysrO1xuICAgICAgICB0aGlzLm9mZnNldCsrO1xuICAgICAgICB0aGlzLm1hdGNoICs9IGNoO1xuICAgICAgICB0aGlzLm1hdGNoZWQgKz0gY2g7XG4gICAgICAgIHZhciBsaW5lcyA9IGNoLm1hdGNoKC8oPzpcXHJcXG4/fFxcbikuKi9nKTtcbiAgICAgICAgaWYgKGxpbmVzKSB7XG4gICAgICAgICAgICB0aGlzLnl5bGluZW5vKys7XG4gICAgICAgICAgICB0aGlzLnl5bGxvYy5sYXN0X2xpbmUrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMueXlsbG9jLmxhc3RfY29sdW1uKys7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5yYW5nZXMpIHRoaXMueXlsbG9jLnJhbmdlWzFdKys7XG5cbiAgICAgICAgdGhpcy5faW5wdXQgPSB0aGlzLl9pbnB1dC5zbGljZSgxKTtcbiAgICAgICAgcmV0dXJuIGNoO1xuICAgIH0sXG51bnB1dDpmdW5jdGlvbiAoY2gpIHtcbiAgICAgICAgdmFyIGxlbiA9IGNoLmxlbmd0aDtcbiAgICAgICAgdmFyIGxpbmVzID0gY2guc3BsaXQoLyg/Olxcclxcbj98XFxuKS9nKTtcblxuICAgICAgICB0aGlzLl9pbnB1dCA9IGNoICsgdGhpcy5faW5wdXQ7XG4gICAgICAgIHRoaXMueXl0ZXh0ID0gdGhpcy55eXRleHQuc3Vic3RyKDAsIHRoaXMueXl0ZXh0Lmxlbmd0aC1sZW4tMSk7XG4gICAgICAgIC8vdGhpcy55eWxlbmcgLT0gbGVuO1xuICAgICAgICB0aGlzLm9mZnNldCAtPSBsZW47XG4gICAgICAgIHZhciBvbGRMaW5lcyA9IHRoaXMubWF0Y2guc3BsaXQoLyg/Olxcclxcbj98XFxuKS9nKTtcbiAgICAgICAgdGhpcy5tYXRjaCA9IHRoaXMubWF0Y2guc3Vic3RyKDAsIHRoaXMubWF0Y2gubGVuZ3RoLTEpO1xuICAgICAgICB0aGlzLm1hdGNoZWQgPSB0aGlzLm1hdGNoZWQuc3Vic3RyKDAsIHRoaXMubWF0Y2hlZC5sZW5ndGgtMSk7XG5cbiAgICAgICAgaWYgKGxpbmVzLmxlbmd0aC0xKSB0aGlzLnl5bGluZW5vIC09IGxpbmVzLmxlbmd0aC0xO1xuICAgICAgICB2YXIgciA9IHRoaXMueXlsbG9jLnJhbmdlO1xuXG4gICAgICAgIHRoaXMueXlsbG9jID0ge2ZpcnN0X2xpbmU6IHRoaXMueXlsbG9jLmZpcnN0X2xpbmUsXG4gICAgICAgICAgbGFzdF9saW5lOiB0aGlzLnl5bGluZW5vKzEsXG4gICAgICAgICAgZmlyc3RfY29sdW1uOiB0aGlzLnl5bGxvYy5maXJzdF9jb2x1bW4sXG4gICAgICAgICAgbGFzdF9jb2x1bW46IGxpbmVzID9cbiAgICAgICAgICAgICAgKGxpbmVzLmxlbmd0aCA9PT0gb2xkTGluZXMubGVuZ3RoID8gdGhpcy55eWxsb2MuZmlyc3RfY29sdW1uIDogMCkgKyBvbGRMaW5lc1tvbGRMaW5lcy5sZW5ndGggLSBsaW5lcy5sZW5ndGhdLmxlbmd0aCAtIGxpbmVzWzBdLmxlbmd0aDpcbiAgICAgICAgICAgICAgdGhpcy55eWxsb2MuZmlyc3RfY29sdW1uIC0gbGVuXG4gICAgICAgICAgfTtcblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnJhbmdlcykge1xuICAgICAgICAgICAgdGhpcy55eWxsb2MucmFuZ2UgPSBbclswXSwgclswXSArIHRoaXMueXlsZW5nIC0gbGVuXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxubW9yZTpmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX21vcmUgPSB0cnVlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxubGVzczpmdW5jdGlvbiAobikge1xuICAgICAgICB0aGlzLnVucHV0KHRoaXMubWF0Y2guc2xpY2UobikpO1xuICAgIH0sXG5wYXN0SW5wdXQ6ZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcGFzdCA9IHRoaXMubWF0Y2hlZC5zdWJzdHIoMCwgdGhpcy5tYXRjaGVkLmxlbmd0aCAtIHRoaXMubWF0Y2gubGVuZ3RoKTtcbiAgICAgICAgcmV0dXJuIChwYXN0Lmxlbmd0aCA+IDIwID8gJy4uLic6JycpICsgcGFzdC5zdWJzdHIoLTIwKS5yZXBsYWNlKC9cXG4vZywgXCJcIik7XG4gICAgfSxcbnVwY29taW5nSW5wdXQ6ZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbmV4dCA9IHRoaXMubWF0Y2g7XG4gICAgICAgIGlmIChuZXh0Lmxlbmd0aCA8IDIwKSB7XG4gICAgICAgICAgICBuZXh0ICs9IHRoaXMuX2lucHV0LnN1YnN0cigwLCAyMC1uZXh0Lmxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChuZXh0LnN1YnN0cigwLDIwKSsobmV4dC5sZW5ndGggPiAyMCA/ICcuLi4nOicnKSkucmVwbGFjZSgvXFxuL2csIFwiXCIpO1xuICAgIH0sXG5zaG93UG9zaXRpb246ZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcHJlID0gdGhpcy5wYXN0SW5wdXQoKTtcbiAgICAgICAgdmFyIGMgPSBuZXcgQXJyYXkocHJlLmxlbmd0aCArIDEpLmpvaW4oXCItXCIpO1xuICAgICAgICByZXR1cm4gcHJlICsgdGhpcy51cGNvbWluZ0lucHV0KCkgKyBcIlxcblwiICsgYytcIl5cIjtcbiAgICB9LFxubmV4dDpmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmRvbmUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLkVPRjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX2lucHV0KSB0aGlzLmRvbmUgPSB0cnVlO1xuXG4gICAgICAgIHZhciB0b2tlbixcbiAgICAgICAgICAgIG1hdGNoLFxuICAgICAgICAgICAgdGVtcE1hdGNoLFxuICAgICAgICAgICAgaW5kZXgsXG4gICAgICAgICAgICBjb2wsXG4gICAgICAgICAgICBsaW5lcztcbiAgICAgICAgaWYgKCF0aGlzLl9tb3JlKSB7XG4gICAgICAgICAgICB0aGlzLnl5dGV4dCA9ICcnO1xuICAgICAgICAgICAgdGhpcy5tYXRjaCA9ICcnO1xuICAgICAgICB9XG4gICAgICAgIHZhciBydWxlcyA9IHRoaXMuX2N1cnJlbnRSdWxlcygpO1xuICAgICAgICBmb3IgKHZhciBpPTA7aSA8IHJ1bGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0ZW1wTWF0Y2ggPSB0aGlzLl9pbnB1dC5tYXRjaCh0aGlzLnJ1bGVzW3J1bGVzW2ldXSk7XG4gICAgICAgICAgICBpZiAodGVtcE1hdGNoICYmICghbWF0Y2ggfHwgdGVtcE1hdGNoWzBdLmxlbmd0aCA+IG1hdGNoWzBdLmxlbmd0aCkpIHtcbiAgICAgICAgICAgICAgICBtYXRjaCA9IHRlbXBNYXRjaDtcbiAgICAgICAgICAgICAgICBpbmRleCA9IGk7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMuZmxleCkgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgICBsaW5lcyA9IG1hdGNoWzBdLm1hdGNoKC8oPzpcXHJcXG4/fFxcbikuKi9nKTtcbiAgICAgICAgICAgIGlmIChsaW5lcykgdGhpcy55eWxpbmVubyArPSBsaW5lcy5sZW5ndGg7XG4gICAgICAgICAgICB0aGlzLnl5bGxvYyA9IHtmaXJzdF9saW5lOiB0aGlzLnl5bGxvYy5sYXN0X2xpbmUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0X2xpbmU6IHRoaXMueXlsaW5lbm8rMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpcnN0X2NvbHVtbjogdGhpcy55eWxsb2MubGFzdF9jb2x1bW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0X2NvbHVtbjogbGluZXMgPyBsaW5lc1tsaW5lcy5sZW5ndGgtMV0ubGVuZ3RoLWxpbmVzW2xpbmVzLmxlbmd0aC0xXS5tYXRjaCgvXFxyP1xcbj8vKVswXS5sZW5ndGggOiB0aGlzLnl5bGxvYy5sYXN0X2NvbHVtbiArIG1hdGNoWzBdLmxlbmd0aH07XG4gICAgICAgICAgICB0aGlzLnl5dGV4dCArPSBtYXRjaFswXTtcbiAgICAgICAgICAgIHRoaXMubWF0Y2ggKz0gbWF0Y2hbMF07XG4gICAgICAgICAgICB0aGlzLm1hdGNoZXMgPSBtYXRjaDtcbiAgICAgICAgICAgIHRoaXMueXlsZW5nID0gdGhpcy55eXRleHQubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5yYW5nZXMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnl5bGxvYy5yYW5nZSA9IFt0aGlzLm9mZnNldCwgdGhpcy5vZmZzZXQgKz0gdGhpcy55eWxlbmddO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fbW9yZSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5faW5wdXQgPSB0aGlzLl9pbnB1dC5zbGljZShtYXRjaFswXS5sZW5ndGgpO1xuICAgICAgICAgICAgdGhpcy5tYXRjaGVkICs9IG1hdGNoWzBdO1xuICAgICAgICAgICAgdG9rZW4gPSB0aGlzLnBlcmZvcm1BY3Rpb24uY2FsbCh0aGlzLCB0aGlzLnl5LCB0aGlzLCBydWxlc1tpbmRleF0sdGhpcy5jb25kaXRpb25TdGFja1t0aGlzLmNvbmRpdGlvblN0YWNrLmxlbmd0aC0xXSk7XG4gICAgICAgICAgICBpZiAodGhpcy5kb25lICYmIHRoaXMuX2lucHV0KSB0aGlzLmRvbmUgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmICh0b2tlbikgcmV0dXJuIHRva2VuO1xuICAgICAgICAgICAgZWxzZSByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2lucHV0ID09PSBcIlwiKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5FT0Y7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wYXJzZUVycm9yKCdMZXhpY2FsIGVycm9yIG9uIGxpbmUgJysodGhpcy55eWxpbmVubysxKSsnLiBVbnJlY29nbml6ZWQgdGV4dC5cXG4nK3RoaXMuc2hvd1Bvc2l0aW9uKCksXG4gICAgICAgICAgICAgICAgICAgIHt0ZXh0OiBcIlwiLCB0b2tlbjogbnVsbCwgbGluZTogdGhpcy55eWxpbmVub30pO1xuICAgICAgICB9XG4gICAgfSxcbmxleDpmdW5jdGlvbiBsZXggKCkge1xuICAgICAgICB2YXIgciA9IHRoaXMubmV4dCgpO1xuICAgICAgICBpZiAodHlwZW9mIHIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICByZXR1cm4gcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxleCgpO1xuICAgICAgICB9XG4gICAgfSxcbmJlZ2luOmZ1bmN0aW9uIGJlZ2luIChjb25kaXRpb24pIHtcbiAgICAgICAgdGhpcy5jb25kaXRpb25TdGFjay5wdXNoKGNvbmRpdGlvbik7XG4gICAgfSxcbnBvcFN0YXRlOmZ1bmN0aW9uIHBvcFN0YXRlICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZGl0aW9uU3RhY2sucG9wKCk7XG4gICAgfSxcbl9jdXJyZW50UnVsZXM6ZnVuY3Rpb24gX2N1cnJlbnRSdWxlcyAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbmRpdGlvbnNbdGhpcy5jb25kaXRpb25TdGFja1t0aGlzLmNvbmRpdGlvblN0YWNrLmxlbmd0aC0xXV0ucnVsZXM7XG4gICAgfSxcbnRvcFN0YXRlOmZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZGl0aW9uU3RhY2tbdGhpcy5jb25kaXRpb25TdGFjay5sZW5ndGgtMl07XG4gICAgfSxcbnB1c2hTdGF0ZTpmdW5jdGlvbiBiZWdpbiAoY29uZGl0aW9uKSB7XG4gICAgICAgIHRoaXMuYmVnaW4oY29uZGl0aW9uKTtcbiAgICB9fSk7XG5sZXhlci5vcHRpb25zID0ge307XG5sZXhlci5wZXJmb3JtQWN0aW9uID0gZnVuY3Rpb24gYW5vbnltb3VzKHl5LHl5XywkYXZvaWRpbmdfbmFtZV9jb2xsaXNpb25zLFlZX1NUQVJUXG4pIHtcblxuXG5mdW5jdGlvbiBzdHJpcChzdGFydCwgZW5kKSB7XG4gIHJldHVybiB5eV8ueXl0ZXh0ID0geXlfLnl5dGV4dC5zdWJzdHJpbmcoc3RhcnQsIHl5Xy55eWxlbmcgLSBlbmQgKyBzdGFydCk7XG59XG5cblxudmFyIFlZU1RBVEU9WVlfU1RBUlRcbnN3aXRjaCgkYXZvaWRpbmdfbmFtZV9jb2xsaXNpb25zKSB7XG5jYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHl5Xy55eXRleHQuc2xpY2UoLTIpID09PSBcIlxcXFxcXFxcXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJpcCgwLDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYmVnaW4oXCJtdVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmKHl5Xy55eXRleHQuc2xpY2UoLTEpID09PSBcIlxcXFxcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cmlwKDAsMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5iZWdpbihcImVtdVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJlZ2luKFwibXVcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoeXlfLnl5dGV4dCkgcmV0dXJuIDE1O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG5icmVhaztcbmNhc2UgMTpyZXR1cm4gMTU7XG5icmVhaztcbmNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wb3BTdGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbmJyZWFrO1xuY2FzZSAzOnRoaXMuYmVnaW4oJ3JhdycpOyByZXR1cm4gMTU7XG5icmVhaztcbmNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBvcFN0YXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2hvdWxkIGJlIHVzaW5nIGB0aGlzLnRvcFN0YXRlKClgIGJlbG93LCBidXQgaXQgY3VycmVudGx5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmV0dXJucyB0aGUgc2Vjb25kIHRvcCBpbnN0ZWFkIG9mIHRoZSBmaXJzdCB0b3AuIE9wZW5lZCBhblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlzc3VlIGFib3V0IGl0IGF0IGh0dHBzOi8vZ2l0aHViLmNvbS96YWFjaC9qaXNvbi9pc3N1ZXMvMjkxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY29uZGl0aW9uU3RhY2tbdGhpcy5jb25kaXRpb25TdGFjay5sZW5ndGgtMV0gPT09ICdyYXcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cmlwKDUsIDkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdFTkRfUkFXX0JMT0NLJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbmJyZWFrO1xuY2FzZSA1OiByZXR1cm4gMTU7IFxuYnJlYWs7XG5jYXNlIDY6XG4gIHRoaXMucG9wU3RhdGUoKTtcbiAgcmV0dXJuIDE0O1xuXG5icmVhaztcbmNhc2UgNzpyZXR1cm4gNjU7XG5icmVhaztcbmNhc2UgODpyZXR1cm4gNjg7XG5icmVhaztcbmNhc2UgOTogcmV0dXJuIDE5OyBcbmJyZWFrO1xuY2FzZSAxMDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBvcFN0YXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5iZWdpbigncmF3Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDIzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG5icmVhaztcbmNhc2UgMTE6cmV0dXJuIDU1O1xuYnJlYWs7XG5jYXNlIDEyOnJldHVybiA2MDtcbmJyZWFrO1xuY2FzZSAxMzpyZXR1cm4gMjk7XG5icmVhaztcbmNhc2UgMTQ6cmV0dXJuIDQ3O1xuYnJlYWs7XG5jYXNlIDE1OnRoaXMucG9wU3RhdGUoKTsgcmV0dXJuIDQ0O1xuYnJlYWs7XG5jYXNlIDE2OnRoaXMucG9wU3RhdGUoKTsgcmV0dXJuIDQ0O1xuYnJlYWs7XG5jYXNlIDE3OnJldHVybiAzNDtcbmJyZWFrO1xuY2FzZSAxODpyZXR1cm4gMzk7XG5icmVhaztcbmNhc2UgMTk6cmV0dXJuIDUxO1xuYnJlYWs7XG5jYXNlIDIwOnJldHVybiA0ODtcbmJyZWFrO1xuY2FzZSAyMTpcbiAgdGhpcy51bnB1dCh5eV8ueXl0ZXh0KTtcbiAgdGhpcy5wb3BTdGF0ZSgpO1xuICB0aGlzLmJlZ2luKCdjb20nKTtcblxuYnJlYWs7XG5jYXNlIDIyOlxuICB0aGlzLnBvcFN0YXRlKCk7XG4gIHJldHVybiAxNDtcblxuYnJlYWs7XG5jYXNlIDIzOnJldHVybiA0ODtcbmJyZWFrO1xuY2FzZSAyNDpyZXR1cm4gNzM7XG5icmVhaztcbmNhc2UgMjU6cmV0dXJuIDcyO1xuYnJlYWs7XG5jYXNlIDI2OnJldHVybiA3MjtcbmJyZWFrO1xuY2FzZSAyNzpyZXR1cm4gODc7XG5icmVhaztcbmNhc2UgMjg6Ly8gaWdub3JlIHdoaXRlc3BhY2VcbmJyZWFrO1xuY2FzZSAyOTp0aGlzLnBvcFN0YXRlKCk7IHJldHVybiA1NDtcbmJyZWFrO1xuY2FzZSAzMDp0aGlzLnBvcFN0YXRlKCk7IHJldHVybiAzMztcbmJyZWFrO1xuY2FzZSAzMTp5eV8ueXl0ZXh0ID0gc3RyaXAoMSwyKS5yZXBsYWNlKC9cXFxcXCIvZywnXCInKTsgcmV0dXJuIDgwO1xuYnJlYWs7XG5jYXNlIDMyOnl5Xy55eXRleHQgPSBzdHJpcCgxLDIpLnJlcGxhY2UoL1xcXFwnL2csXCInXCIpOyByZXR1cm4gODA7XG5icmVhaztcbmNhc2UgMzM6cmV0dXJuIDg1O1xuYnJlYWs7XG5jYXNlIDM0OnJldHVybiA4MjtcbmJyZWFrO1xuY2FzZSAzNTpyZXR1cm4gODI7XG5icmVhaztcbmNhc2UgMzY6cmV0dXJuIDgzO1xuYnJlYWs7XG5jYXNlIDM3OnJldHVybiA4NDtcbmJyZWFrO1xuY2FzZSAzODpyZXR1cm4gODE7XG5icmVhaztcbmNhc2UgMzk6cmV0dXJuIDc1O1xuYnJlYWs7XG5jYXNlIDQwOnJldHVybiA3NztcbmJyZWFrO1xuY2FzZSA0MTpyZXR1cm4gNzI7XG5icmVhaztcbmNhc2UgNDI6eXlfLnl5dGV4dCA9IHl5Xy55eXRleHQucmVwbGFjZSgvXFxcXChbXFxcXFxcXV0pL2csJyQxJyk7IHJldHVybiA3MjtcbmJyZWFrO1xuY2FzZSA0MzpyZXR1cm4gJ0lOVkFMSUQnO1xuYnJlYWs7XG5jYXNlIDQ0OnJldHVybiA1O1xuYnJlYWs7XG59XG59O1xubGV4ZXIucnVsZXMgPSBbL14oPzpbXlxceDAwXSo/KD89KFxce1xceykpKS8sL14oPzpbXlxceDAwXSspLywvXig/OlteXFx4MDBdezIsfT8oPz0oXFx7XFx7fFxcXFxcXHtcXHt8XFxcXFxcXFxcXHtcXHt8JCkpKS8sL14oPzpcXHtcXHtcXHtcXHsoPz1bXlxcL10pKS8sL14oPzpcXHtcXHtcXHtcXHtcXC9bXlxccyFcIiMlLSxcXC5cXC87LT5AXFxbLVxcXmBcXHstfl0rKD89Wz19XFxzXFwvLl0pXFx9XFx9XFx9XFx9KS8sL14oPzpbXlxceDAwXSs/KD89KFxce1xce1xce1xceykpKS8sL14oPzpbXFxzXFxTXSo/LS0ofik/XFx9XFx9KS8sL14oPzpcXCgpLywvXig/OlxcKSkvLC9eKD86XFx7XFx7XFx7XFx7KS8sL14oPzpcXH1cXH1cXH1cXH0pLywvXig/Olxce1xceyh+KT8+KS8sL14oPzpcXHtcXHsofik/Iz4pLywvXig/Olxce1xceyh+KT8jXFwqPykvLC9eKD86XFx7XFx7KH4pP1xcLykvLC9eKD86XFx7XFx7KH4pP1xcXlxccyoofik/XFx9XFx9KS8sL14oPzpcXHtcXHsofik/XFxzKmVsc2VcXHMqKH4pP1xcfVxcfSkvLC9eKD86XFx7XFx7KH4pP1xcXikvLC9eKD86XFx7XFx7KH4pP1xccyplbHNlXFxiKS8sL14oPzpcXHtcXHsofik/XFx7KS8sL14oPzpcXHtcXHsofik/JikvLC9eKD86XFx7XFx7KH4pPyEtLSkvLC9eKD86XFx7XFx7KH4pPyFbXFxzXFxTXSo/XFx9XFx9KS8sL14oPzpcXHtcXHsofik/XFwqPykvLC9eKD86PSkvLC9eKD86XFwuXFwuKS8sL14oPzpcXC4oPz0oWz1+fVxcc1xcLy4pfF0pKSkvLC9eKD86W1xcLy5dKS8sL14oPzpcXHMrKS8sL14oPzpcXH0ofik/XFx9XFx9KS8sL14oPzoofik/XFx9XFx9KS8sL14oPzpcIihcXFxcW1wiXXxbXlwiXSkqXCIpLywvXig/OicoXFxcXFsnXXxbXiddKSonKS8sL14oPzpAKS8sL14oPzp0cnVlKD89KFt+fVxccyldKSkpLywvXig/OmZhbHNlKD89KFt+fVxccyldKSkpLywvXig/OnVuZGVmaW5lZCg/PShbfn1cXHMpXSkpKS8sL14oPzpudWxsKD89KFt+fVxccyldKSkpLywvXig/Oi0/WzAtOV0rKD86XFwuWzAtOV0rKT8oPz0oW359XFxzKV0pKSkvLC9eKD86YXNcXHMrXFx8KS8sL14oPzpcXHwpLywvXig/OihbXlxccyFcIiMlLSxcXC5cXC87LT5AXFxbLVxcXmBcXHstfl0rKD89KFs9fn1cXHNcXC8uKXxdKSkpKS8sL14oPzpcXFsoXFxcXFxcXXxbXlxcXV0pKlxcXSkvLC9eKD86LikvLC9eKD86JCkvXTtcbmxleGVyLmNvbmRpdGlvbnMgPSB7XCJtdVwiOntcInJ1bGVzXCI6WzcsOCw5LDEwLDExLDEyLDEzLDE0LDE1LDE2LDE3LDE4LDE5LDIwLDIxLDIyLDIzLDI0LDI1LDI2LDI3LDI4LDI5LDMwLDMxLDMyLDMzLDM0LDM1LDM2LDM3LDM4LDM5LDQwLDQxLDQyLDQzLDQ0XSxcImluY2x1c2l2ZVwiOmZhbHNlfSxcImVtdVwiOntcInJ1bGVzXCI6WzJdLFwiaW5jbHVzaXZlXCI6ZmFsc2V9LFwiY29tXCI6e1wicnVsZXNcIjpbNl0sXCJpbmNsdXNpdmVcIjpmYWxzZX0sXCJyYXdcIjp7XCJydWxlc1wiOlszLDQsNV0sXCJpbmNsdXNpdmVcIjpmYWxzZX0sXCJJTklUSUFMXCI6e1wicnVsZXNcIjpbMCwxLDQ0XSxcImluY2x1c2l2ZVwiOnRydWV9fTtcbnJldHVybiBsZXhlcjt9KSgpXG5wYXJzZXIubGV4ZXIgPSBsZXhlcjtcbmZ1bmN0aW9uIFBhcnNlciAoKSB7IHRoaXMueXkgPSB7fTsgfVBhcnNlci5wcm90b3R5cGUgPSBwYXJzZXI7cGFyc2VyLlBhcnNlciA9IFBhcnNlcjtcbnJldHVybiBuZXcgUGFyc2VyO1xufSkoKTtleHBvcnQgZGVmYXVsdCBoYW5kbGViYXJzO1xuIiwgImltcG9ydCBFeGNlcHRpb24gZnJvbSAnLi4vZXhjZXB0aW9uJztcblxuZnVuY3Rpb24gVmlzaXRvcigpIHtcbiAgdGhpcy5wYXJlbnRzID0gW107XG59XG5cblZpc2l0b3IucHJvdG90eXBlID0ge1xuICBjb25zdHJ1Y3RvcjogVmlzaXRvcixcbiAgbXV0YXRpbmc6IGZhbHNlLFxuXG4gIC8vIFZpc2l0cyBhIGdpdmVuIHZhbHVlLiBJZiBtdXRhdGluZywgd2lsbCByZXBsYWNlIHRoZSB2YWx1ZSBpZiBuZWNlc3NhcnkuXG4gIGFjY2VwdEtleTogZnVuY3Rpb24obm9kZSwgbmFtZSkge1xuICAgIGxldCB2YWx1ZSA9IHRoaXMuYWNjZXB0KG5vZGVbbmFtZV0pO1xuICAgIGlmICh0aGlzLm11dGF0aW5nKSB7XG4gICAgICAvLyBIYWNreSBzYW5pdHkgY2hlY2s6IFRoaXMgbWF5IGhhdmUgYSBmZXcgZmFsc2UgcG9zaXRpdmVzIGZvciB0eXBlIGZvciB0aGUgaGVscGVyXG4gICAgICAvLyBtZXRob2RzIGJ1dCB3aWxsIGdlbmVyYWxseSBkbyB0aGUgcmlnaHQgdGhpbmcgd2l0aG91dCBhIGxvdCBvZiBvdmVyaGVhZC5cbiAgICAgIGlmICh2YWx1ZSAmJiAhVmlzaXRvci5wcm90b3R5cGVbdmFsdWUudHlwZV0pIHtcbiAgICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbihcbiAgICAgICAgICAnVW5leHBlY3RlZCBub2RlIHR5cGUgXCInICtcbiAgICAgICAgICAgIHZhbHVlLnR5cGUgK1xuICAgICAgICAgICAgJ1wiIGZvdW5kIHdoZW4gYWNjZXB0aW5nICcgK1xuICAgICAgICAgICAgbmFtZSArXG4gICAgICAgICAgICAnIG9uICcgK1xuICAgICAgICAgICAgbm9kZS50eXBlXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBub2RlW25hbWVdID0gdmFsdWU7XG4gICAgfVxuICB9LFxuXG4gIC8vIFBlcmZvcm1zIGFuIGFjY2VwdCBvcGVyYXRpb24gd2l0aCBhZGRlZCBzYW5pdHkgY2hlY2sgdG8gZW5zdXJlXG4gIC8vIHJlcXVpcmVkIGtleXMgYXJlIG5vdCByZW1vdmVkLlxuICBhY2NlcHRSZXF1aXJlZDogZnVuY3Rpb24obm9kZSwgbmFtZSkge1xuICAgIHRoaXMuYWNjZXB0S2V5KG5vZGUsIG5hbWUpO1xuXG4gICAgaWYgKCFub2RlW25hbWVdKSB7XG4gICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKG5vZGUudHlwZSArICcgcmVxdWlyZXMgJyArIG5hbWUpO1xuICAgIH1cbiAgfSxcblxuICAvLyBUcmF2ZXJzZXMgYSBnaXZlbiBhcnJheS4gSWYgbXV0YXRpbmcsIGVtcHR5IHJlc3Buc2VzIHdpbGwgYmUgcmVtb3ZlZFxuICAvLyBmb3IgY2hpbGQgZWxlbWVudHMuXG4gIGFjY2VwdEFycmF5OiBmdW5jdGlvbihhcnJheSkge1xuICAgIGZvciAobGV0IGkgPSAwLCBsID0gYXJyYXkubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICB0aGlzLmFjY2VwdEtleShhcnJheSwgaSk7XG5cbiAgICAgIGlmICghYXJyYXlbaV0pIHtcbiAgICAgICAgYXJyYXkuc3BsaWNlKGksIDEpO1xuICAgICAgICBpLS07XG4gICAgICAgIGwtLTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgYWNjZXB0OiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICBpZiAoIW9iamVjdCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0OiBTYW5pdHkgY29kZSAqL1xuICAgIGlmICghdGhpc1tvYmplY3QudHlwZV0pIHtcbiAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oJ1Vua25vd24gdHlwZTogJyArIG9iamVjdC50eXBlLCBvYmplY3QpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmN1cnJlbnQpIHtcbiAgICAgIHRoaXMucGFyZW50cy51bnNoaWZ0KHRoaXMuY3VycmVudCk7XG4gICAgfVxuICAgIHRoaXMuY3VycmVudCA9IG9iamVjdDtcblxuICAgIGxldCByZXQgPSB0aGlzW29iamVjdC50eXBlXShvYmplY3QpO1xuXG4gICAgdGhpcy5jdXJyZW50ID0gdGhpcy5wYXJlbnRzLnNoaWZ0KCk7XG5cbiAgICBpZiAoIXRoaXMubXV0YXRpbmcgfHwgcmV0KSB7XG4gICAgICByZXR1cm4gcmV0O1xuICAgIH0gZWxzZSBpZiAocmV0ICE9PSBmYWxzZSkge1xuICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9XG4gIH0sXG5cbiAgUHJvZ3JhbTogZnVuY3Rpb24ocHJvZ3JhbSkge1xuICAgIHRoaXMuYWNjZXB0QXJyYXkocHJvZ3JhbS5ib2R5KTtcbiAgfSxcblxuICBNdXN0YWNoZVN0YXRlbWVudDogdmlzaXRTdWJFeHByZXNzaW9uLFxuICBEZWNvcmF0b3I6IHZpc2l0U3ViRXhwcmVzc2lvbixcblxuICBCbG9ja1N0YXRlbWVudDogdmlzaXRCbG9jayxcbiAgRGVjb3JhdG9yQmxvY2s6IHZpc2l0QmxvY2ssXG5cbiAgUGFydGlhbFN0YXRlbWVudDogdmlzaXRQYXJ0aWFsLFxuICBQYXJ0aWFsQmxvY2tTdGF0ZW1lbnQ6IGZ1bmN0aW9uKHBhcnRpYWwpIHtcbiAgICB2aXNpdFBhcnRpYWwuY2FsbCh0aGlzLCBwYXJ0aWFsKTtcblxuICAgIHRoaXMuYWNjZXB0S2V5KHBhcnRpYWwsICdwcm9ncmFtJyk7XG4gIH0sXG5cbiAgQ29udGVudFN0YXRlbWVudDogZnVuY3Rpb24oLyogY29udGVudCAqLykge30sXG4gIENvbW1lbnRTdGF0ZW1lbnQ6IGZ1bmN0aW9uKC8qIGNvbW1lbnQgKi8pIHt9LFxuXG4gIFN1YkV4cHJlc3Npb246IHZpc2l0U3ViRXhwcmVzc2lvbixcblxuICBQYXRoRXhwcmVzc2lvbjogZnVuY3Rpb24oLyogcGF0aCAqLykge30sXG5cbiAgU3RyaW5nTGl0ZXJhbDogZnVuY3Rpb24oLyogc3RyaW5nICovKSB7fSxcbiAgTnVtYmVyTGl0ZXJhbDogZnVuY3Rpb24oLyogbnVtYmVyICovKSB7fSxcbiAgQm9vbGVhbkxpdGVyYWw6IGZ1bmN0aW9uKC8qIGJvb2wgKi8pIHt9LFxuICBVbmRlZmluZWRMaXRlcmFsOiBmdW5jdGlvbigvKiBsaXRlcmFsICovKSB7fSxcbiAgTnVsbExpdGVyYWw6IGZ1bmN0aW9uKC8qIGxpdGVyYWwgKi8pIHt9LFxuXG4gIEhhc2g6IGZ1bmN0aW9uKGhhc2gpIHtcbiAgICB0aGlzLmFjY2VwdEFycmF5KGhhc2gucGFpcnMpO1xuICB9LFxuICBIYXNoUGFpcjogZnVuY3Rpb24ocGFpcikge1xuICAgIHRoaXMuYWNjZXB0UmVxdWlyZWQocGFpciwgJ3ZhbHVlJyk7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIHZpc2l0U3ViRXhwcmVzc2lvbihtdXN0YWNoZSkge1xuICB0aGlzLmFjY2VwdFJlcXVpcmVkKG11c3RhY2hlLCAncGF0aCcpO1xuICB0aGlzLmFjY2VwdEFycmF5KG11c3RhY2hlLnBhcmFtcyk7XG4gIHRoaXMuYWNjZXB0S2V5KG11c3RhY2hlLCAnaGFzaCcpO1xufVxuZnVuY3Rpb24gdmlzaXRCbG9jayhibG9jaykge1xuICB2aXNpdFN1YkV4cHJlc3Npb24uY2FsbCh0aGlzLCBibG9jayk7XG5cbiAgdGhpcy5hY2NlcHRLZXkoYmxvY2ssICdwcm9ncmFtJyk7XG4gIHRoaXMuYWNjZXB0S2V5KGJsb2NrLCAnaW52ZXJzZScpO1xufVxuZnVuY3Rpb24gdmlzaXRQYXJ0aWFsKHBhcnRpYWwpIHtcbiAgdGhpcy5hY2NlcHRSZXF1aXJlZChwYXJ0aWFsLCAnbmFtZScpO1xuICB0aGlzLmFjY2VwdEFycmF5KHBhcnRpYWwucGFyYW1zKTtcbiAgdGhpcy5hY2NlcHRLZXkocGFydGlhbCwgJ2hhc2gnKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgVmlzaXRvcjtcbiIsICJpbXBvcnQgVmlzaXRvciBmcm9tICcuL3Zpc2l0b3InO1xuXG5mdW5jdGlvbiBXaGl0ZXNwYWNlQ29udHJvbChvcHRpb25zID0ge30pIHtcbiAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbn1cbldoaXRlc3BhY2VDb250cm9sLnByb3RvdHlwZSA9IG5ldyBWaXNpdG9yKCk7XG5cbldoaXRlc3BhY2VDb250cm9sLnByb3RvdHlwZS5Qcm9ncmFtID0gZnVuY3Rpb24ocHJvZ3JhbSkge1xuICBjb25zdCBkb1N0YW5kYWxvbmUgPSAhdGhpcy5vcHRpb25zLmlnbm9yZVN0YW5kYWxvbmU7XG5cbiAgbGV0IGlzUm9vdCA9ICF0aGlzLmlzUm9vdFNlZW47XG4gIHRoaXMuaXNSb290U2VlbiA9IHRydWU7XG5cbiAgbGV0IGJvZHkgPSBwcm9ncmFtLmJvZHk7XG4gIGZvciAobGV0IGkgPSAwLCBsID0gYm9keS5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBsZXQgY3VycmVudCA9IGJvZHlbaV0sXG4gICAgICBzdHJpcCA9IHRoaXMuYWNjZXB0KGN1cnJlbnQpO1xuXG4gICAgaWYgKCFzdHJpcCkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgbGV0IF9pc1ByZXZXaGl0ZXNwYWNlID0gaXNQcmV2V2hpdGVzcGFjZShib2R5LCBpLCBpc1Jvb3QpLFxuICAgICAgX2lzTmV4dFdoaXRlc3BhY2UgPSBpc05leHRXaGl0ZXNwYWNlKGJvZHksIGksIGlzUm9vdCksXG4gICAgICBvcGVuU3RhbmRhbG9uZSA9IHN0cmlwLm9wZW5TdGFuZGFsb25lICYmIF9pc1ByZXZXaGl0ZXNwYWNlLFxuICAgICAgY2xvc2VTdGFuZGFsb25lID0gc3RyaXAuY2xvc2VTdGFuZGFsb25lICYmIF9pc05leHRXaGl0ZXNwYWNlLFxuICAgICAgaW5saW5lU3RhbmRhbG9uZSA9XG4gICAgICAgIHN0cmlwLmlubGluZVN0YW5kYWxvbmUgJiYgX2lzUHJldldoaXRlc3BhY2UgJiYgX2lzTmV4dFdoaXRlc3BhY2U7XG5cbiAgICBpZiAoc3RyaXAuY2xvc2UpIHtcbiAgICAgIG9taXRSaWdodChib2R5LCBpLCB0cnVlKTtcbiAgICB9XG4gICAgaWYgKHN0cmlwLm9wZW4pIHtcbiAgICAgIG9taXRMZWZ0KGJvZHksIGksIHRydWUpO1xuICAgIH1cblxuICAgIGlmIChkb1N0YW5kYWxvbmUgJiYgaW5saW5lU3RhbmRhbG9uZSkge1xuICAgICAgb21pdFJpZ2h0KGJvZHksIGkpO1xuXG4gICAgICBpZiAob21pdExlZnQoYm9keSwgaSkpIHtcbiAgICAgICAgLy8gSWYgd2UgYXJlIG9uIGEgc3RhbmRhbG9uZSBub2RlLCBzYXZlIHRoZSBpbmRlbnQgaW5mbyBmb3IgcGFydGlhbHNcbiAgICAgICAgaWYgKGN1cnJlbnQudHlwZSA9PT0gJ1BhcnRpYWxTdGF0ZW1lbnQnKSB7XG4gICAgICAgICAgLy8gUHVsbCBvdXQgdGhlIHdoaXRlc3BhY2UgZnJvbSB0aGUgZmluYWwgbGluZVxuICAgICAgICAgIGN1cnJlbnQuaW5kZW50ID0gLyhbIFxcdF0rJCkvLmV4ZWMoYm9keVtpIC0gMV0ub3JpZ2luYWwpWzFdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChkb1N0YW5kYWxvbmUgJiYgb3BlblN0YW5kYWxvbmUpIHtcbiAgICAgIG9taXRSaWdodCgoY3VycmVudC5wcm9ncmFtIHx8IGN1cnJlbnQuaW52ZXJzZSkuYm9keSk7XG5cbiAgICAgIC8vIFN0cmlwIG91dCB0aGUgcHJldmlvdXMgY29udGVudCBub2RlIGlmIGl0J3Mgd2hpdGVzcGFjZSBvbmx5XG4gICAgICBvbWl0TGVmdChib2R5LCBpKTtcbiAgICB9XG4gICAgaWYgKGRvU3RhbmRhbG9uZSAmJiBjbG9zZVN0YW5kYWxvbmUpIHtcbiAgICAgIC8vIEFsd2F5cyBzdHJpcCB0aGUgbmV4dCBub2RlXG4gICAgICBvbWl0UmlnaHQoYm9keSwgaSk7XG5cbiAgICAgIG9taXRMZWZ0KChjdXJyZW50LmludmVyc2UgfHwgY3VycmVudC5wcm9ncmFtKS5ib2R5KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcHJvZ3JhbTtcbn07XG5cbldoaXRlc3BhY2VDb250cm9sLnByb3RvdHlwZS5CbG9ja1N0YXRlbWVudCA9IFdoaXRlc3BhY2VDb250cm9sLnByb3RvdHlwZS5EZWNvcmF0b3JCbG9jayA9IFdoaXRlc3BhY2VDb250cm9sLnByb3RvdHlwZS5QYXJ0aWFsQmxvY2tTdGF0ZW1lbnQgPSBmdW5jdGlvbihcbiAgYmxvY2tcbikge1xuICB0aGlzLmFjY2VwdChibG9jay5wcm9ncmFtKTtcbiAgdGhpcy5hY2NlcHQoYmxvY2suaW52ZXJzZSk7XG5cbiAgLy8gRmluZCB0aGUgaW52ZXJzZSBwcm9ncmFtIHRoYXQgaXMgaW52b2xlZCB3aXRoIHdoaXRlc3BhY2Ugc3RyaXBwaW5nLlxuICBsZXQgcHJvZ3JhbSA9IGJsb2NrLnByb2dyYW0gfHwgYmxvY2suaW52ZXJzZSxcbiAgICBpbnZlcnNlID0gYmxvY2sucHJvZ3JhbSAmJiBibG9jay5pbnZlcnNlLFxuICAgIGZpcnN0SW52ZXJzZSA9IGludmVyc2UsXG4gICAgbGFzdEludmVyc2UgPSBpbnZlcnNlO1xuXG4gIGlmIChpbnZlcnNlICYmIGludmVyc2UuY2hhaW5lZCkge1xuICAgIGZpcnN0SW52ZXJzZSA9IGludmVyc2UuYm9keVswXS5wcm9ncmFtO1xuXG4gICAgLy8gV2FsayB0aGUgaW52ZXJzZSBjaGFpbiB0byBmaW5kIHRoZSBsYXN0IGludmVyc2UgdGhhdCBpcyBhY3R1YWxseSBpbiB0aGUgY2hhaW4uXG4gICAgd2hpbGUgKGxhc3RJbnZlcnNlLmNoYWluZWQpIHtcbiAgICAgIGxhc3RJbnZlcnNlID0gbGFzdEludmVyc2UuYm9keVtsYXN0SW52ZXJzZS5ib2R5Lmxlbmd0aCAtIDFdLnByb2dyYW07XG4gICAgfVxuICB9XG5cbiAgbGV0IHN0cmlwID0ge1xuICAgIG9wZW46IGJsb2NrLm9wZW5TdHJpcC5vcGVuLFxuICAgIGNsb3NlOiBibG9jay5jbG9zZVN0cmlwLmNsb3NlLFxuXG4gICAgLy8gRGV0ZXJtaW5lIHRoZSBzdGFuZGFsb25lIGNhbmRpYWN5LiBCYXNpY2FsbHkgZmxhZyBvdXIgY29udGVudCBhcyBiZWluZyBwb3NzaWJseSBzdGFuZGFsb25lXG4gICAgLy8gc28gb3VyIHBhcmVudCBjYW4gZGV0ZXJtaW5lIGlmIHdlIGFjdHVhbGx5IGFyZSBzdGFuZGFsb25lXG4gICAgb3BlblN0YW5kYWxvbmU6IGlzTmV4dFdoaXRlc3BhY2UocHJvZ3JhbS5ib2R5KSxcbiAgICBjbG9zZVN0YW5kYWxvbmU6IGlzUHJldldoaXRlc3BhY2UoKGZpcnN0SW52ZXJzZSB8fCBwcm9ncmFtKS5ib2R5KVxuICB9O1xuXG4gIGlmIChibG9jay5vcGVuU3RyaXAuY2xvc2UpIHtcbiAgICBvbWl0UmlnaHQocHJvZ3JhbS5ib2R5LCBudWxsLCB0cnVlKTtcbiAgfVxuXG4gIGlmIChpbnZlcnNlKSB7XG4gICAgbGV0IGludmVyc2VTdHJpcCA9IGJsb2NrLmludmVyc2VTdHJpcDtcblxuICAgIGlmIChpbnZlcnNlU3RyaXAub3Blbikge1xuICAgICAgb21pdExlZnQocHJvZ3JhbS5ib2R5LCBudWxsLCB0cnVlKTtcbiAgICB9XG5cbiAgICBpZiAoaW52ZXJzZVN0cmlwLmNsb3NlKSB7XG4gICAgICBvbWl0UmlnaHQoZmlyc3RJbnZlcnNlLmJvZHksIG51bGwsIHRydWUpO1xuICAgIH1cbiAgICBpZiAoYmxvY2suY2xvc2VTdHJpcC5vcGVuKSB7XG4gICAgICBvbWl0TGVmdChsYXN0SW52ZXJzZS5ib2R5LCBudWxsLCB0cnVlKTtcbiAgICB9XG5cbiAgICAvLyBGaW5kIHN0YW5kYWxvbmUgZWxzZSBzdGF0bWVudHNcbiAgICBpZiAoXG4gICAgICAhdGhpcy5vcHRpb25zLmlnbm9yZVN0YW5kYWxvbmUgJiZcbiAgICAgIGlzUHJldldoaXRlc3BhY2UocHJvZ3JhbS5ib2R5KSAmJlxuICAgICAgaXNOZXh0V2hpdGVzcGFjZShmaXJzdEludmVyc2UuYm9keSlcbiAgICApIHtcbiAgICAgIG9taXRMZWZ0KHByb2dyYW0uYm9keSk7XG4gICAgICBvbWl0UmlnaHQoZmlyc3RJbnZlcnNlLmJvZHkpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChibG9jay5jbG9zZVN0cmlwLm9wZW4pIHtcbiAgICBvbWl0TGVmdChwcm9ncmFtLmJvZHksIG51bGwsIHRydWUpO1xuICB9XG5cbiAgcmV0dXJuIHN0cmlwO1xufTtcblxuV2hpdGVzcGFjZUNvbnRyb2wucHJvdG90eXBlLkRlY29yYXRvciA9IFdoaXRlc3BhY2VDb250cm9sLnByb3RvdHlwZS5NdXN0YWNoZVN0YXRlbWVudCA9IGZ1bmN0aW9uKFxuICBtdXN0YWNoZVxuKSB7XG4gIHJldHVybiBtdXN0YWNoZS5zdHJpcDtcbn07XG5cbldoaXRlc3BhY2VDb250cm9sLnByb3RvdHlwZS5QYXJ0aWFsU3RhdGVtZW50ID0gV2hpdGVzcGFjZUNvbnRyb2wucHJvdG90eXBlLkNvbW1lbnRTdGF0ZW1lbnQgPSBmdW5jdGlvbihcbiAgbm9kZVxuKSB7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIGxldCBzdHJpcCA9IG5vZGUuc3RyaXAgfHwge307XG4gIHJldHVybiB7XG4gICAgaW5saW5lU3RhbmRhbG9uZTogdHJ1ZSxcbiAgICBvcGVuOiBzdHJpcC5vcGVuLFxuICAgIGNsb3NlOiBzdHJpcC5jbG9zZVxuICB9O1xufTtcblxuZnVuY3Rpb24gaXNQcmV2V2hpdGVzcGFjZShib2R5LCBpLCBpc1Jvb3QpIHtcbiAgaWYgKGkgPT09IHVuZGVmaW5lZCkge1xuICAgIGkgPSBib2R5Lmxlbmd0aDtcbiAgfVxuXG4gIC8vIE5vZGVzIHRoYXQgZW5kIHdpdGggbmV3bGluZXMgYXJlIGNvbnNpZGVyZWQgd2hpdGVzcGFjZSAoYnV0IGFyZSBzcGVjaWFsXG4gIC8vIGNhc2VkIGZvciBzdHJpcCBvcGVyYXRpb25zKVxuICBsZXQgcHJldiA9IGJvZHlbaSAtIDFdLFxuICAgIHNpYmxpbmcgPSBib2R5W2kgLSAyXTtcbiAgaWYgKCFwcmV2KSB7XG4gICAgcmV0dXJuIGlzUm9vdDtcbiAgfVxuXG4gIGlmIChwcmV2LnR5cGUgPT09ICdDb250ZW50U3RhdGVtZW50Jykge1xuICAgIHJldHVybiAoc2libGluZyB8fCAhaXNSb290ID8gL1xccj9cXG5cXHMqPyQvIDogLyhefFxccj9cXG4pXFxzKj8kLykudGVzdChcbiAgICAgIHByZXYub3JpZ2luYWxcbiAgICApO1xuICB9XG59XG5mdW5jdGlvbiBpc05leHRXaGl0ZXNwYWNlKGJvZHksIGksIGlzUm9vdCkge1xuICBpZiAoaSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgaSA9IC0xO1xuICB9XG5cbiAgbGV0IG5leHQgPSBib2R5W2kgKyAxXSxcbiAgICBzaWJsaW5nID0gYm9keVtpICsgMl07XG4gIGlmICghbmV4dCkge1xuICAgIHJldHVybiBpc1Jvb3Q7XG4gIH1cblxuICBpZiAobmV4dC50eXBlID09PSAnQ29udGVudFN0YXRlbWVudCcpIHtcbiAgICByZXR1cm4gKHNpYmxpbmcgfHwgIWlzUm9vdCA/IC9eXFxzKj9cXHI/XFxuLyA6IC9eXFxzKj8oXFxyP1xcbnwkKS8pLnRlc3QoXG4gICAgICBuZXh0Lm9yaWdpbmFsXG4gICAgKTtcbiAgfVxufVxuXG4vLyBNYXJrcyB0aGUgbm9kZSB0byB0aGUgcmlnaHQgb2YgdGhlIHBvc2l0aW9uIGFzIG9taXR0ZWQuXG4vLyBJLmUuIHt7Zm9vfX0nICcgd2lsbCBtYXJrIHRoZSAnICcgbm9kZSBhcyBvbWl0dGVkLlxuLy9cbi8vIElmIGkgaXMgdW5kZWZpbmVkLCB0aGVuIHRoZSBmaXJzdCBjaGlsZCB3aWxsIGJlIG1hcmtlZCBhcyBzdWNoLlxuLy9cbi8vIElmIG11bGl0cGxlIGlzIHRydXRoeSB0aGVuIGFsbCB3aGl0ZXNwYWNlIHdpbGwgYmUgc3RyaXBwZWQgb3V0IHVudGlsIG5vbi13aGl0ZXNwYWNlXG4vLyBjb250ZW50IGlzIG1ldC5cbmZ1bmN0aW9uIG9taXRSaWdodChib2R5LCBpLCBtdWx0aXBsZSkge1xuICBsZXQgY3VycmVudCA9IGJvZHlbaSA9PSBudWxsID8gMCA6IGkgKyAxXTtcbiAgaWYgKFxuICAgICFjdXJyZW50IHx8XG4gICAgY3VycmVudC50eXBlICE9PSAnQ29udGVudFN0YXRlbWVudCcgfHxcbiAgICAoIW11bHRpcGxlICYmIGN1cnJlbnQucmlnaHRTdHJpcHBlZClcbiAgKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgbGV0IG9yaWdpbmFsID0gY3VycmVudC52YWx1ZTtcbiAgY3VycmVudC52YWx1ZSA9IGN1cnJlbnQudmFsdWUucmVwbGFjZShcbiAgICBtdWx0aXBsZSA/IC9eXFxzKy8gOiAvXlsgXFx0XSpcXHI/XFxuPy8sXG4gICAgJydcbiAgKTtcbiAgY3VycmVudC5yaWdodFN0cmlwcGVkID0gY3VycmVudC52YWx1ZSAhPT0gb3JpZ2luYWw7XG59XG5cbi8vIE1hcmtzIHRoZSBub2RlIHRvIHRoZSBsZWZ0IG9mIHRoZSBwb3NpdGlvbiBhcyBvbWl0dGVkLlxuLy8gSS5lLiAnICd7e2Zvb319IHdpbGwgbWFyayB0aGUgJyAnIG5vZGUgYXMgb21pdHRlZC5cbi8vXG4vLyBJZiBpIGlzIHVuZGVmaW5lZCB0aGVuIHRoZSBsYXN0IGNoaWxkIHdpbGwgYmUgbWFya2VkIGFzIHN1Y2guXG4vL1xuLy8gSWYgbXVsaXRwbGUgaXMgdHJ1dGh5IHRoZW4gYWxsIHdoaXRlc3BhY2Ugd2lsbCBiZSBzdHJpcHBlZCBvdXQgdW50aWwgbm9uLXdoaXRlc3BhY2Vcbi8vIGNvbnRlbnQgaXMgbWV0LlxuZnVuY3Rpb24gb21pdExlZnQoYm9keSwgaSwgbXVsdGlwbGUpIHtcbiAgbGV0IGN1cnJlbnQgPSBib2R5W2kgPT0gbnVsbCA/IGJvZHkubGVuZ3RoIC0gMSA6IGkgLSAxXTtcbiAgaWYgKFxuICAgICFjdXJyZW50IHx8XG4gICAgY3VycmVudC50eXBlICE9PSAnQ29udGVudFN0YXRlbWVudCcgfHxcbiAgICAoIW11bHRpcGxlICYmIGN1cnJlbnQubGVmdFN0cmlwcGVkKVxuICApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBXZSBvbWl0IHRoZSBsYXN0IG5vZGUgaWYgaXQncyB3aGl0ZXNwYWNlIG9ubHkgYW5kIG5vdCBwcmVjZWRlZCBieSBhIG5vbi1jb250ZW50IG5vZGUuXG4gIGxldCBvcmlnaW5hbCA9IGN1cnJlbnQudmFsdWU7XG4gIGN1cnJlbnQudmFsdWUgPSBjdXJyZW50LnZhbHVlLnJlcGxhY2UobXVsdGlwbGUgPyAvXFxzKyQvIDogL1sgXFx0XSskLywgJycpO1xuICBjdXJyZW50LmxlZnRTdHJpcHBlZCA9IGN1cnJlbnQudmFsdWUgIT09IG9yaWdpbmFsO1xuICByZXR1cm4gY3VycmVudC5sZWZ0U3RyaXBwZWQ7XG59XG5cbmV4cG9ydCBkZWZhdWx0IFdoaXRlc3BhY2VDb250cm9sO1xuIiwgImltcG9ydCBFeGNlcHRpb24gZnJvbSAnLi4vZXhjZXB0aW9uJztcblxuZnVuY3Rpb24gdmFsaWRhdGVDbG9zZShvcGVuLCBjbG9zZSkge1xuICBjbG9zZSA9IGNsb3NlLnBhdGggPyBjbG9zZS5wYXRoLm9yaWdpbmFsIDogY2xvc2U7XG5cbiAgaWYgKG9wZW4ucGF0aC5vcmlnaW5hbCAhPT0gY2xvc2UpIHtcbiAgICBsZXQgZXJyb3JOb2RlID0geyBsb2M6IG9wZW4ucGF0aC5sb2MgfTtcblxuICAgIHRocm93IG5ldyBFeGNlcHRpb24oXG4gICAgICBvcGVuLnBhdGgub3JpZ2luYWwgKyBcIiBkb2Vzbid0IG1hdGNoIFwiICsgY2xvc2UsXG4gICAgICBlcnJvck5vZGVcbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBTb3VyY2VMb2NhdGlvbihzb3VyY2UsIGxvY0luZm8pIHtcbiAgdGhpcy5zb3VyY2UgPSBzb3VyY2U7XG4gIHRoaXMuc3RhcnQgPSB7XG4gICAgbGluZTogbG9jSW5mby5maXJzdF9saW5lLFxuICAgIGNvbHVtbjogbG9jSW5mby5maXJzdF9jb2x1bW5cbiAgfTtcbiAgdGhpcy5lbmQgPSB7XG4gICAgbGluZTogbG9jSW5mby5sYXN0X2xpbmUsXG4gICAgY29sdW1uOiBsb2NJbmZvLmxhc3RfY29sdW1uXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpZCh0b2tlbikge1xuICBpZiAoL15cXFsuKlxcXSQvLnRlc3QodG9rZW4pKSB7XG4gICAgcmV0dXJuIHRva2VuLnN1YnN0cmluZygxLCB0b2tlbi5sZW5ndGggLSAxKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gdG9rZW47XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0cmlwRmxhZ3Mob3BlbiwgY2xvc2UpIHtcbiAgcmV0dXJuIHtcbiAgICBvcGVuOiBvcGVuLmNoYXJBdCgyKSA9PT0gJ34nLFxuICAgIGNsb3NlOiBjbG9zZS5jaGFyQXQoY2xvc2UubGVuZ3RoIC0gMykgPT09ICd+J1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc3RyaXBDb21tZW50KGNvbW1lbnQpIHtcbiAgcmV0dXJuIGNvbW1lbnQucmVwbGFjZSgvXlxce1xce34/IS0/LT8vLCAnJykucmVwbGFjZSgvLT8tP34/XFx9XFx9JC8sICcnKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHByZXBhcmVQYXRoKGRhdGEsIHBhcnRzLCBsb2MpIHtcbiAgbG9jID0gdGhpcy5sb2NJbmZvKGxvYyk7XG5cbiAgbGV0IG9yaWdpbmFsID0gZGF0YSA/ICdAJyA6ICcnLFxuICAgIGRpZyA9IFtdLFxuICAgIGRlcHRoID0gMDtcblxuICBmb3IgKGxldCBpID0gMCwgbCA9IHBhcnRzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGxldCBwYXJ0ID0gcGFydHNbaV0ucGFydCxcbiAgICAgIC8vIElmIHdlIGhhdmUgW10gc3ludGF4IHRoZW4gd2UgZG8gbm90IHRyZWF0IHBhdGggcmVmZXJlbmNlcyBhcyBvcGVyYXRvcnMsXG4gICAgICAvLyBpLmUuIGZvby5bdGhpc10gcmVzb2x2ZXMgdG8gYXBwcm94aW1hdGVseSBjb250ZXh0LmZvb1sndGhpcyddXG4gICAgICBpc0xpdGVyYWwgPSBwYXJ0c1tpXS5vcmlnaW5hbCAhPT0gcGFydDtcbiAgICBvcmlnaW5hbCArPSAocGFydHNbaV0uc2VwYXJhdG9yIHx8ICcnKSArIHBhcnQ7XG5cbiAgICBpZiAoIWlzTGl0ZXJhbCAmJiAocGFydCA9PT0gJy4uJyB8fCBwYXJ0ID09PSAnLicgfHwgcGFydCA9PT0gJ3RoaXMnKSkge1xuICAgICAgaWYgKGRpZy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oJ0ludmFsaWQgcGF0aDogJyArIG9yaWdpbmFsLCB7IGxvYyB9KTtcbiAgICAgIH0gZWxzZSBpZiAocGFydCA9PT0gJy4uJykge1xuICAgICAgICBkZXB0aCsrO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBkaWcucHVzaChwYXJ0KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHR5cGU6ICdQYXRoRXhwcmVzc2lvbicsXG4gICAgZGF0YSxcbiAgICBkZXB0aCxcbiAgICBwYXJ0czogZGlnLFxuICAgIG9yaWdpbmFsLFxuICAgIGxvY1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcHJlcGFyZU11c3RhY2hlKHBhdGgsIHBhcmFtcywgaGFzaCwgb3Blbiwgc3RyaXAsIGxvY0luZm8pIHtcbiAgLy8gTXVzdCB1c2UgY2hhckF0IHRvIHN1cHBvcnQgSUUgcHJlLTEwXG4gIGxldCBlc2NhcGVGbGFnID0gb3Blbi5jaGFyQXQoMykgfHwgb3Blbi5jaGFyQXQoMiksXG4gICAgZXNjYXBlZCA9IGVzY2FwZUZsYWcgIT09ICd7JyAmJiBlc2NhcGVGbGFnICE9PSAnJic7XG5cbiAgbGV0IGRlY29yYXRvciA9IC9cXCovLnRlc3Qob3Blbik7XG4gIHJldHVybiB7XG4gICAgdHlwZTogZGVjb3JhdG9yID8gJ0RlY29yYXRvcicgOiAnTXVzdGFjaGVTdGF0ZW1lbnQnLFxuICAgIHBhdGgsXG4gICAgcGFyYW1zLFxuICAgIGhhc2gsXG4gICAgZXNjYXBlZCxcbiAgICBzdHJpcCxcbiAgICBsb2M6IHRoaXMubG9jSW5mbyhsb2NJbmZvKVxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcHJlcGFyZVJhd0Jsb2NrKG9wZW5SYXdCbG9jaywgY29udGVudHMsIGNsb3NlLCBsb2NJbmZvKSB7XG4gIHZhbGlkYXRlQ2xvc2Uob3BlblJhd0Jsb2NrLCBjbG9zZSk7XG5cbiAgbG9jSW5mbyA9IHRoaXMubG9jSW5mbyhsb2NJbmZvKTtcbiAgbGV0IHByb2dyYW0gPSB7XG4gICAgdHlwZTogJ1Byb2dyYW0nLFxuICAgIGJvZHk6IGNvbnRlbnRzLFxuICAgIHN0cmlwOiB7fSxcbiAgICBsb2M6IGxvY0luZm9cbiAgfTtcblxuICByZXR1cm4ge1xuICAgIHR5cGU6ICdCbG9ja1N0YXRlbWVudCcsXG4gICAgcGF0aDogb3BlblJhd0Jsb2NrLnBhdGgsXG4gICAgcGFyYW1zOiBvcGVuUmF3QmxvY2sucGFyYW1zLFxuICAgIGhhc2g6IG9wZW5SYXdCbG9jay5oYXNoLFxuICAgIHByb2dyYW0sXG4gICAgb3BlblN0cmlwOiB7fSxcbiAgICBpbnZlcnNlU3RyaXA6IHt9LFxuICAgIGNsb3NlU3RyaXA6IHt9LFxuICAgIGxvYzogbG9jSW5mb1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcHJlcGFyZUJsb2NrKFxuICBvcGVuQmxvY2ssXG4gIHByb2dyYW0sXG4gIGludmVyc2VBbmRQcm9ncmFtLFxuICBjbG9zZSxcbiAgaW52ZXJ0ZWQsXG4gIGxvY0luZm9cbikge1xuICBpZiAoY2xvc2UgJiYgY2xvc2UucGF0aCkge1xuICAgIHZhbGlkYXRlQ2xvc2Uob3BlbkJsb2NrLCBjbG9zZSk7XG4gIH1cblxuICBsZXQgZGVjb3JhdG9yID0gL1xcKi8udGVzdChvcGVuQmxvY2sub3Blbik7XG5cbiAgcHJvZ3JhbS5ibG9ja1BhcmFtcyA9IG9wZW5CbG9jay5ibG9ja1BhcmFtcztcblxuICBsZXQgaW52ZXJzZSwgaW52ZXJzZVN0cmlwO1xuXG4gIGlmIChpbnZlcnNlQW5kUHJvZ3JhbSkge1xuICAgIGlmIChkZWNvcmF0b3IpIHtcbiAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oXG4gICAgICAgICdVbmV4cGVjdGVkIGludmVyc2UgYmxvY2sgb24gZGVjb3JhdG9yJyxcbiAgICAgICAgaW52ZXJzZUFuZFByb2dyYW1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKGludmVyc2VBbmRQcm9ncmFtLmNoYWluKSB7XG4gICAgICBpbnZlcnNlQW5kUHJvZ3JhbS5wcm9ncmFtLmJvZHlbMF0uY2xvc2VTdHJpcCA9IGNsb3NlLnN0cmlwO1xuICAgIH1cblxuICAgIGludmVyc2VTdHJpcCA9IGludmVyc2VBbmRQcm9ncmFtLnN0cmlwO1xuICAgIGludmVyc2UgPSBpbnZlcnNlQW5kUHJvZ3JhbS5wcm9ncmFtO1xuICB9XG5cbiAgaWYgKGludmVydGVkKSB7XG4gICAgaW52ZXJ0ZWQgPSBpbnZlcnNlO1xuICAgIGludmVyc2UgPSBwcm9ncmFtO1xuICAgIHByb2dyYW0gPSBpbnZlcnRlZDtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgdHlwZTogZGVjb3JhdG9yID8gJ0RlY29yYXRvckJsb2NrJyA6ICdCbG9ja1N0YXRlbWVudCcsXG4gICAgcGF0aDogb3BlbkJsb2NrLnBhdGgsXG4gICAgcGFyYW1zOiBvcGVuQmxvY2sucGFyYW1zLFxuICAgIGhhc2g6IG9wZW5CbG9jay5oYXNoLFxuICAgIHByb2dyYW0sXG4gICAgaW52ZXJzZSxcbiAgICBvcGVuU3RyaXA6IG9wZW5CbG9jay5zdHJpcCxcbiAgICBpbnZlcnNlU3RyaXAsXG4gICAgY2xvc2VTdHJpcDogY2xvc2UgJiYgY2xvc2Uuc3RyaXAsXG4gICAgbG9jOiB0aGlzLmxvY0luZm8obG9jSW5mbylcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHByZXBhcmVQcm9ncmFtKHN0YXRlbWVudHMsIGxvYykge1xuICBpZiAoIWxvYyAmJiBzdGF0ZW1lbnRzLmxlbmd0aCkge1xuICAgIGNvbnN0IGZpcnN0TG9jID0gc3RhdGVtZW50c1swXS5sb2MsXG4gICAgICBsYXN0TG9jID0gc3RhdGVtZW50c1tzdGF0ZW1lbnRzLmxlbmd0aCAtIDFdLmxvYztcblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgaWYgKGZpcnN0TG9jICYmIGxhc3RMb2MpIHtcbiAgICAgIGxvYyA9IHtcbiAgICAgICAgc291cmNlOiBmaXJzdExvYy5zb3VyY2UsXG4gICAgICAgIHN0YXJ0OiB7XG4gICAgICAgICAgbGluZTogZmlyc3RMb2Muc3RhcnQubGluZSxcbiAgICAgICAgICBjb2x1bW46IGZpcnN0TG9jLnN0YXJ0LmNvbHVtblxuICAgICAgICB9LFxuICAgICAgICBlbmQ6IHtcbiAgICAgICAgICBsaW5lOiBsYXN0TG9jLmVuZC5saW5lLFxuICAgICAgICAgIGNvbHVtbjogbGFzdExvYy5lbmQuY29sdW1uXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICB0eXBlOiAnUHJvZ3JhbScsXG4gICAgYm9keTogc3RhdGVtZW50cyxcbiAgICBzdHJpcDoge30sXG4gICAgbG9jOiBsb2NcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHByZXBhcmVQYXJ0aWFsQmxvY2sob3BlbiwgcHJvZ3JhbSwgY2xvc2UsIGxvY0luZm8pIHtcbiAgdmFsaWRhdGVDbG9zZShvcGVuLCBjbG9zZSk7XG5cbiAgcmV0dXJuIHtcbiAgICB0eXBlOiAnUGFydGlhbEJsb2NrU3RhdGVtZW50JyxcbiAgICBuYW1lOiBvcGVuLnBhdGgsXG4gICAgcGFyYW1zOiBvcGVuLnBhcmFtcyxcbiAgICBoYXNoOiBvcGVuLmhhc2gsXG4gICAgcHJvZ3JhbSxcbiAgICBvcGVuU3RyaXA6IG9wZW4uc3RyaXAsXG4gICAgY2xvc2VTdHJpcDogY2xvc2UgJiYgY2xvc2Uuc3RyaXAsXG4gICAgbG9jOiB0aGlzLmxvY0luZm8obG9jSW5mbylcbiAgfTtcbn1cbiIsICJpbXBvcnQgcGFyc2VyIGZyb20gJy4vcGFyc2VyJztcbmltcG9ydCBXaGl0ZXNwYWNlQ29udHJvbCBmcm9tICcuL3doaXRlc3BhY2UtY29udHJvbCc7XG5pbXBvcnQgKiBhcyBIZWxwZXJzIGZyb20gJy4vaGVscGVycyc7XG5pbXBvcnQgeyBleHRlbmQgfSBmcm9tICcuLi91dGlscyc7XG5cbmV4cG9ydCB7IHBhcnNlciB9O1xuXG5sZXQgeXkgPSB7fTtcbmV4dGVuZCh5eSwgSGVscGVycyk7XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVdpdGhvdXRQcm9jZXNzaW5nKGlucHV0LCBvcHRpb25zKSB7XG4gIC8vIEp1c3QgcmV0dXJuIGlmIGFuIGFscmVhZHktY29tcGlsZWQgQVNUIHdhcyBwYXNzZWQgaW4uXG4gIGlmIChpbnB1dC50eXBlID09PSAnUHJvZ3JhbScpIHtcbiAgICByZXR1cm4gaW5wdXQ7XG4gIH1cblxuICBwYXJzZXIueXkgPSB5eTtcblxuICAvLyBBbHRlcmluZyB0aGUgc2hhcmVkIG9iamVjdCBoZXJlLCBidXQgdGhpcyBpcyBvayBhcyBwYXJzZXIgaXMgYSBzeW5jIG9wZXJhdGlvblxuICB5eS5sb2NJbmZvID0gZnVuY3Rpb24obG9jSW5mbykge1xuICAgIHJldHVybiBuZXcgeXkuU291cmNlTG9jYXRpb24ob3B0aW9ucyAmJiBvcHRpb25zLnNyY05hbWUsIGxvY0luZm8pO1xuICB9O1xuXG4gIGxldCBhc3QgPSBwYXJzZXIucGFyc2UoaW5wdXQpO1xuXG4gIHJldHVybiBhc3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZShpbnB1dCwgb3B0aW9ucykge1xuICBsZXQgYXN0ID0gcGFyc2VXaXRob3V0UHJvY2Vzc2luZyhpbnB1dCwgb3B0aW9ucyk7XG4gIGxldCBzdHJpcCA9IG5ldyBXaGl0ZXNwYWNlQ29udHJvbChvcHRpb25zKTtcblxuICByZXR1cm4gc3RyaXAuYWNjZXB0KGFzdCk7XG59XG4iLCAiLyogZXNsaW50LWRpc2FibGUgbmV3LWNhcCAqL1xuXG5pbXBvcnQgRXhjZXB0aW9uIGZyb20gJy4uL2V4Y2VwdGlvbic7XG5pbXBvcnQgeyBpc0FycmF5LCBpbmRleE9mLCBleHRlbmQgfSBmcm9tICcuLi91dGlscyc7XG5pbXBvcnQgQVNUIGZyb20gJy4vYXN0JztcblxuY29uc3Qgc2xpY2UgPSBbXS5zbGljZTtcblxuZXhwb3J0IGZ1bmN0aW9uIENvbXBpbGVyKCkge31cblxuLy8gdGhlIGZvdW5kSGVscGVyIHJlZ2lzdGVyIHdpbGwgZGlzYW1iaWd1YXRlIGhlbHBlciBsb29rdXAgZnJvbSBmaW5kaW5nIGFcbi8vIGZ1bmN0aW9uIGluIGEgY29udGV4dC4gVGhpcyBpcyBuZWNlc3NhcnkgZm9yIG11c3RhY2hlIGNvbXBhdGliaWxpdHksIHdoaWNoXG4vLyByZXF1aXJlcyB0aGF0IGNvbnRleHQgZnVuY3Rpb25zIGluIGJsb2NrcyBhcmUgZXZhbHVhdGVkIGJ5IGJsb2NrSGVscGVyTWlzc2luZyxcbi8vIGFuZCB0aGVuIHByb2NlZWQgYXMgaWYgdGhlIHJlc3VsdGluZyB2YWx1ZSB3YXMgcHJvdmlkZWQgdG8gYmxvY2tIZWxwZXJNaXNzaW5nLlxuXG5Db21waWxlci5wcm90b3R5cGUgPSB7XG4gIGNvbXBpbGVyOiBDb21waWxlcixcblxuICBlcXVhbHM6IGZ1bmN0aW9uKG90aGVyKSB7XG4gICAgbGV0IGxlbiA9IHRoaXMub3Bjb2Rlcy5sZW5ndGg7XG4gICAgaWYgKG90aGVyLm9wY29kZXMubGVuZ3RoICE9PSBsZW4pIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBsZXQgb3Bjb2RlID0gdGhpcy5vcGNvZGVzW2ldLFxuICAgICAgICBvdGhlck9wY29kZSA9IG90aGVyLm9wY29kZXNbaV07XG4gICAgICBpZiAoXG4gICAgICAgIG9wY29kZS5vcGNvZGUgIT09IG90aGVyT3Bjb2RlLm9wY29kZSB8fFxuICAgICAgICAhYXJnRXF1YWxzKG9wY29kZS5hcmdzLCBvdGhlck9wY29kZS5hcmdzKVxuICAgICAgKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBXZSBrbm93IHRoYXQgbGVuZ3RoIGlzIHRoZSBzYW1lIGJldHdlZW4gdGhlIHR3byBhcnJheXMgYmVjYXVzZSB0aGV5IGFyZSBkaXJlY3RseSB0aWVkXG4gICAgLy8gdG8gdGhlIG9wY29kZSBiZWhhdmlvciBhYm92ZS5cbiAgICBsZW4gPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBpZiAoIXRoaXMuY2hpbGRyZW5baV0uZXF1YWxzKG90aGVyLmNoaWxkcmVuW2ldKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH0sXG5cbiAgZ3VpZDogMCxcblxuICBjb21waWxlOiBmdW5jdGlvbihwcm9ncmFtLCBvcHRpb25zKSB7XG4gICAgdGhpcy5zb3VyY2VOb2RlID0gW107XG4gICAgdGhpcy5vcGNvZGVzID0gW107XG4gICAgdGhpcy5jaGlsZHJlbiA9IFtdO1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgdGhpcy5zdHJpbmdQYXJhbXMgPSBvcHRpb25zLnN0cmluZ1BhcmFtcztcbiAgICB0aGlzLnRyYWNrSWRzID0gb3B0aW9ucy50cmFja0lkcztcblxuICAgIG9wdGlvbnMuYmxvY2tQYXJhbXMgPSBvcHRpb25zLmJsb2NrUGFyYW1zIHx8IFtdO1xuXG4gICAgb3B0aW9ucy5rbm93bkhlbHBlcnMgPSBleHRlbmQoXG4gICAgICBPYmplY3QuY3JlYXRlKG51bGwpLFxuICAgICAge1xuICAgICAgICBoZWxwZXJNaXNzaW5nOiB0cnVlLFxuICAgICAgICBibG9ja0hlbHBlck1pc3Npbmc6IHRydWUsXG4gICAgICAgIGVhY2g6IHRydWUsXG4gICAgICAgIGlmOiB0cnVlLFxuICAgICAgICB1bmxlc3M6IHRydWUsXG4gICAgICAgIHdpdGg6IHRydWUsXG4gICAgICAgIGxvZzogdHJ1ZSxcbiAgICAgICAgbG9va3VwOiB0cnVlXG4gICAgICB9LFxuICAgICAgb3B0aW9ucy5rbm93bkhlbHBlcnNcbiAgICApO1xuXG4gICAgcmV0dXJuIHRoaXMuYWNjZXB0KHByb2dyYW0pO1xuICB9LFxuXG4gIGNvbXBpbGVQcm9ncmFtOiBmdW5jdGlvbihwcm9ncmFtKSB7XG4gICAgbGV0IGNoaWxkQ29tcGlsZXIgPSBuZXcgdGhpcy5jb21waWxlcigpLCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5ldy1jYXBcbiAgICAgIHJlc3VsdCA9IGNoaWxkQ29tcGlsZXIuY29tcGlsZShwcm9ncmFtLCB0aGlzLm9wdGlvbnMpLFxuICAgICAgZ3VpZCA9IHRoaXMuZ3VpZCsrO1xuXG4gICAgdGhpcy51c2VQYXJ0aWFsID0gdGhpcy51c2VQYXJ0aWFsIHx8IHJlc3VsdC51c2VQYXJ0aWFsO1xuXG4gICAgdGhpcy5jaGlsZHJlbltndWlkXSA9IHJlc3VsdDtcbiAgICB0aGlzLnVzZURlcHRocyA9IHRoaXMudXNlRGVwdGhzIHx8IHJlc3VsdC51c2VEZXB0aHM7XG5cbiAgICByZXR1cm4gZ3VpZDtcbiAgfSxcblxuICBhY2NlcHQ6IGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dDogU2FuaXR5IGNvZGUgKi9cbiAgICBpZiAoIXRoaXNbbm9kZS50eXBlXSkge1xuICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbignVW5rbm93biB0eXBlOiAnICsgbm9kZS50eXBlLCBub2RlKTtcbiAgICB9XG5cbiAgICB0aGlzLnNvdXJjZU5vZGUudW5zaGlmdChub2RlKTtcbiAgICBsZXQgcmV0ID0gdGhpc1tub2RlLnR5cGVdKG5vZGUpO1xuICAgIHRoaXMuc291cmNlTm9kZS5zaGlmdCgpO1xuICAgIHJldHVybiByZXQ7XG4gIH0sXG5cbiAgUHJvZ3JhbTogZnVuY3Rpb24ocHJvZ3JhbSkge1xuICAgIHRoaXMub3B0aW9ucy5ibG9ja1BhcmFtcy51bnNoaWZ0KHByb2dyYW0uYmxvY2tQYXJhbXMpO1xuXG4gICAgbGV0IGJvZHkgPSBwcm9ncmFtLmJvZHksXG4gICAgICBib2R5TGVuZ3RoID0gYm9keS5sZW5ndGg7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBib2R5TGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuYWNjZXB0KGJvZHlbaV0pO1xuICAgIH1cblxuICAgIHRoaXMub3B0aW9ucy5ibG9ja1BhcmFtcy5zaGlmdCgpO1xuXG4gICAgdGhpcy5pc1NpbXBsZSA9IGJvZHlMZW5ndGggPT09IDE7XG4gICAgdGhpcy5ibG9ja1BhcmFtcyA9IHByb2dyYW0uYmxvY2tQYXJhbXMgPyBwcm9ncmFtLmJsb2NrUGFyYW1zLmxlbmd0aCA6IDA7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICBCbG9ja1N0YXRlbWVudDogZnVuY3Rpb24oYmxvY2spIHtcbiAgICB0cmFuc2Zvcm1MaXRlcmFsVG9QYXRoKGJsb2NrKTtcblxuICAgIGxldCBwcm9ncmFtID0gYmxvY2sucHJvZ3JhbSxcbiAgICAgIGludmVyc2UgPSBibG9jay5pbnZlcnNlO1xuXG4gICAgcHJvZ3JhbSA9IHByb2dyYW0gJiYgdGhpcy5jb21waWxlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICBpbnZlcnNlID0gaW52ZXJzZSAmJiB0aGlzLmNvbXBpbGVQcm9ncmFtKGludmVyc2UpO1xuXG4gICAgbGV0IHR5cGUgPSB0aGlzLmNsYXNzaWZ5U2V4cHIoYmxvY2spO1xuXG4gICAgaWYgKHR5cGUgPT09ICdoZWxwZXInKSB7XG4gICAgICB0aGlzLmhlbHBlclNleHByKGJsb2NrLCBwcm9ncmFtLCBpbnZlcnNlKTtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdzaW1wbGUnKSB7XG4gICAgICB0aGlzLnNpbXBsZVNleHByKGJsb2NrKTtcblxuICAgICAgLy8gbm93IHRoYXQgdGhlIHNpbXBsZSBtdXN0YWNoZSBpcyByZXNvbHZlZCwgd2UgbmVlZCB0b1xuICAgICAgLy8gZXZhbHVhdGUgaXQgYnkgZXhlY3V0aW5nIGBibG9ja0hlbHBlck1pc3NpbmdgXG4gICAgICB0aGlzLm9wY29kZSgncHVzaFByb2dyYW0nLCBwcm9ncmFtKTtcbiAgICAgIHRoaXMub3Bjb2RlKCdwdXNoUHJvZ3JhbScsIGludmVyc2UpO1xuICAgICAgdGhpcy5vcGNvZGUoJ2VtcHR5SGFzaCcpO1xuICAgICAgdGhpcy5vcGNvZGUoJ2Jsb2NrVmFsdWUnLCBibG9jay5wYXRoLm9yaWdpbmFsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5hbWJpZ3VvdXNTZXhwcihibG9jaywgcHJvZ3JhbSwgaW52ZXJzZSk7XG5cbiAgICAgIC8vIG5vdyB0aGF0IHRoZSBzaW1wbGUgbXVzdGFjaGUgaXMgcmVzb2x2ZWQsIHdlIG5lZWQgdG9cbiAgICAgIC8vIGV2YWx1YXRlIGl0IGJ5IGV4ZWN1dGluZyBgYmxvY2tIZWxwZXJNaXNzaW5nYFxuICAgICAgdGhpcy5vcGNvZGUoJ3B1c2hQcm9ncmFtJywgcHJvZ3JhbSk7XG4gICAgICB0aGlzLm9wY29kZSgncHVzaFByb2dyYW0nLCBpbnZlcnNlKTtcbiAgICAgIHRoaXMub3Bjb2RlKCdlbXB0eUhhc2gnKTtcbiAgICAgIHRoaXMub3Bjb2RlKCdhbWJpZ3VvdXNCbG9ja1ZhbHVlJyk7XG4gICAgfVxuXG4gICAgdGhpcy5vcGNvZGUoJ2FwcGVuZCcpO1xuICB9LFxuXG4gIERlY29yYXRvckJsb2NrKGRlY29yYXRvcikge1xuICAgIGxldCBwcm9ncmFtID0gZGVjb3JhdG9yLnByb2dyYW0gJiYgdGhpcy5jb21waWxlUHJvZ3JhbShkZWNvcmF0b3IucHJvZ3JhbSk7XG4gICAgbGV0IHBhcmFtcyA9IHRoaXMuc2V0dXBGdWxsTXVzdGFjaGVQYXJhbXMoZGVjb3JhdG9yLCBwcm9ncmFtLCB1bmRlZmluZWQpLFxuICAgICAgcGF0aCA9IGRlY29yYXRvci5wYXRoO1xuXG4gICAgdGhpcy51c2VEZWNvcmF0b3JzID0gdHJ1ZTtcbiAgICB0aGlzLm9wY29kZSgncmVnaXN0ZXJEZWNvcmF0b3InLCBwYXJhbXMubGVuZ3RoLCBwYXRoLm9yaWdpbmFsKTtcbiAgfSxcblxuICBQYXJ0aWFsU3RhdGVtZW50OiBmdW5jdGlvbihwYXJ0aWFsKSB7XG4gICAgdGhpcy51c2VQYXJ0aWFsID0gdHJ1ZTtcblxuICAgIGxldCBwcm9ncmFtID0gcGFydGlhbC5wcm9ncmFtO1xuICAgIGlmIChwcm9ncmFtKSB7XG4gICAgICBwcm9ncmFtID0gdGhpcy5jb21waWxlUHJvZ3JhbShwYXJ0aWFsLnByb2dyYW0pO1xuICAgIH1cblxuICAgIGxldCBwYXJhbXMgPSBwYXJ0aWFsLnBhcmFtcztcbiAgICBpZiAocGFyYW1zLmxlbmd0aCA+IDEpIHtcbiAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oXG4gICAgICAgICdVbnN1cHBvcnRlZCBudW1iZXIgb2YgcGFydGlhbCBhcmd1bWVudHM6ICcgKyBwYXJhbXMubGVuZ3RoLFxuICAgICAgICBwYXJ0aWFsXG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAoIXBhcmFtcy5sZW5ndGgpIHtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuZXhwbGljaXRQYXJ0aWFsQ29udGV4dCkge1xuICAgICAgICB0aGlzLm9wY29kZSgncHVzaExpdGVyYWwnLCAndW5kZWZpbmVkJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXJhbXMucHVzaCh7IHR5cGU6ICdQYXRoRXhwcmVzc2lvbicsIHBhcnRzOiBbXSwgZGVwdGg6IDAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGV0IHBhcnRpYWxOYW1lID0gcGFydGlhbC5uYW1lLm9yaWdpbmFsLFxuICAgICAgaXNEeW5hbWljID0gcGFydGlhbC5uYW1lLnR5cGUgPT09ICdTdWJFeHByZXNzaW9uJztcbiAgICBpZiAoaXNEeW5hbWljKSB7XG4gICAgICB0aGlzLmFjY2VwdChwYXJ0aWFsLm5hbWUpO1xuICAgIH1cblxuICAgIHRoaXMuc2V0dXBGdWxsTXVzdGFjaGVQYXJhbXMocGFydGlhbCwgcHJvZ3JhbSwgdW5kZWZpbmVkLCB0cnVlKTtcblxuICAgIGxldCBpbmRlbnQgPSBwYXJ0aWFsLmluZGVudCB8fCAnJztcbiAgICBpZiAodGhpcy5vcHRpb25zLnByZXZlbnRJbmRlbnQgJiYgaW5kZW50KSB7XG4gICAgICB0aGlzLm9wY29kZSgnYXBwZW5kQ29udGVudCcsIGluZGVudCk7XG4gICAgICBpbmRlbnQgPSAnJztcbiAgICB9XG5cbiAgICB0aGlzLm9wY29kZSgnaW52b2tlUGFydGlhbCcsIGlzRHluYW1pYywgcGFydGlhbE5hbWUsIGluZGVudCk7XG4gICAgdGhpcy5vcGNvZGUoJ2FwcGVuZCcpO1xuICB9LFxuICBQYXJ0aWFsQmxvY2tTdGF0ZW1lbnQ6IGZ1bmN0aW9uKHBhcnRpYWxCbG9jaykge1xuICAgIHRoaXMuUGFydGlhbFN0YXRlbWVudChwYXJ0aWFsQmxvY2spO1xuICB9LFxuXG4gIE11c3RhY2hlU3RhdGVtZW50OiBmdW5jdGlvbihtdXN0YWNoZSkge1xuICAgIHRoaXMuU3ViRXhwcmVzc2lvbihtdXN0YWNoZSk7XG5cbiAgICBpZiAobXVzdGFjaGUuZXNjYXBlZCAmJiAhdGhpcy5vcHRpb25zLm5vRXNjYXBlKSB7XG4gICAgICB0aGlzLm9wY29kZSgnYXBwZW5kRXNjYXBlZCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm9wY29kZSgnYXBwZW5kJyk7XG4gICAgfVxuICB9LFxuICBEZWNvcmF0b3IoZGVjb3JhdG9yKSB7XG4gICAgdGhpcy5EZWNvcmF0b3JCbG9jayhkZWNvcmF0b3IpO1xuICB9LFxuXG4gIENvbnRlbnRTdGF0ZW1lbnQ6IGZ1bmN0aW9uKGNvbnRlbnQpIHtcbiAgICBpZiAoY29udGVudC52YWx1ZSkge1xuICAgICAgdGhpcy5vcGNvZGUoJ2FwcGVuZENvbnRlbnQnLCBjb250ZW50LnZhbHVlKTtcbiAgICB9XG4gIH0sXG5cbiAgQ29tbWVudFN0YXRlbWVudDogZnVuY3Rpb24oKSB7fSxcblxuICBTdWJFeHByZXNzaW9uOiBmdW5jdGlvbihzZXhwcikge1xuICAgIHRyYW5zZm9ybUxpdGVyYWxUb1BhdGgoc2V4cHIpO1xuICAgIGxldCB0eXBlID0gdGhpcy5jbGFzc2lmeVNleHByKHNleHByKTtcblxuICAgIGlmICh0eXBlID09PSAnc2ltcGxlJykge1xuICAgICAgdGhpcy5zaW1wbGVTZXhwcihzZXhwcik7XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAnaGVscGVyJykge1xuICAgICAgdGhpcy5oZWxwZXJTZXhwcihzZXhwcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYW1iaWd1b3VzU2V4cHIoc2V4cHIpO1xuICAgIH1cbiAgfSxcbiAgYW1iaWd1b3VzU2V4cHI6IGZ1bmN0aW9uKHNleHByLCBwcm9ncmFtLCBpbnZlcnNlKSB7XG4gICAgbGV0IHBhdGggPSBzZXhwci5wYXRoLFxuICAgICAgbmFtZSA9IHBhdGgucGFydHNbMF0sXG4gICAgICBpc0Jsb2NrID0gcHJvZ3JhbSAhPSBudWxsIHx8IGludmVyc2UgIT0gbnVsbDtcblxuICAgIHRoaXMub3Bjb2RlKCdnZXRDb250ZXh0JywgcGF0aC5kZXB0aCk7XG5cbiAgICB0aGlzLm9wY29kZSgncHVzaFByb2dyYW0nLCBwcm9ncmFtKTtcbiAgICB0aGlzLm9wY29kZSgncHVzaFByb2dyYW0nLCBpbnZlcnNlKTtcblxuICAgIHBhdGguc3RyaWN0ID0gdHJ1ZTtcbiAgICB0aGlzLmFjY2VwdChwYXRoKTtcblxuICAgIHRoaXMub3Bjb2RlKCdpbnZva2VBbWJpZ3VvdXMnLCBuYW1lLCBpc0Jsb2NrKTtcbiAgfSxcblxuICBzaW1wbGVTZXhwcjogZnVuY3Rpb24oc2V4cHIpIHtcbiAgICBsZXQgcGF0aCA9IHNleHByLnBhdGg7XG4gICAgcGF0aC5zdHJpY3QgPSB0cnVlO1xuICAgIHRoaXMuYWNjZXB0KHBhdGgpO1xuICAgIHRoaXMub3Bjb2RlKCdyZXNvbHZlUG9zc2libGVMYW1iZGEnKTtcbiAgfSxcblxuICBoZWxwZXJTZXhwcjogZnVuY3Rpb24oc2V4cHIsIHByb2dyYW0sIGludmVyc2UpIHtcbiAgICBsZXQgcGFyYW1zID0gdGhpcy5zZXR1cEZ1bGxNdXN0YWNoZVBhcmFtcyhzZXhwciwgcHJvZ3JhbSwgaW52ZXJzZSksXG4gICAgICBwYXRoID0gc2V4cHIucGF0aCxcbiAgICAgIG5hbWUgPSBwYXRoLnBhcnRzWzBdO1xuXG4gICAgaWYgKHRoaXMub3B0aW9ucy5rbm93bkhlbHBlcnNbbmFtZV0pIHtcbiAgICAgIHRoaXMub3Bjb2RlKCdpbnZva2VLbm93bkhlbHBlcicsIHBhcmFtcy5sZW5ndGgsIG5hbWUpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5vcHRpb25zLmtub3duSGVscGVyc09ubHkpIHtcbiAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oXG4gICAgICAgICdZb3Ugc3BlY2lmaWVkIGtub3duSGVscGVyc09ubHksIGJ1dCB1c2VkIHRoZSB1bmtub3duIGhlbHBlciAnICsgbmFtZSxcbiAgICAgICAgc2V4cHJcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhdGguc3RyaWN0ID0gdHJ1ZTtcbiAgICAgIHBhdGguZmFsc3kgPSB0cnVlO1xuXG4gICAgICB0aGlzLmFjY2VwdChwYXRoKTtcbiAgICAgIHRoaXMub3Bjb2RlKFxuICAgICAgICAnaW52b2tlSGVscGVyJyxcbiAgICAgICAgcGFyYW1zLmxlbmd0aCxcbiAgICAgICAgcGF0aC5vcmlnaW5hbCxcbiAgICAgICAgQVNULmhlbHBlcnMuc2ltcGxlSWQocGF0aClcbiAgICAgICk7XG4gICAgfVxuICB9LFxuXG4gIFBhdGhFeHByZXNzaW9uOiBmdW5jdGlvbihwYXRoKSB7XG4gICAgdGhpcy5hZGREZXB0aChwYXRoLmRlcHRoKTtcbiAgICB0aGlzLm9wY29kZSgnZ2V0Q29udGV4dCcsIHBhdGguZGVwdGgpO1xuXG4gICAgbGV0IG5hbWUgPSBwYXRoLnBhcnRzWzBdLFxuICAgICAgc2NvcGVkID0gQVNULmhlbHBlcnMuc2NvcGVkSWQocGF0aCksXG4gICAgICBibG9ja1BhcmFtSWQgPSAhcGF0aC5kZXB0aCAmJiAhc2NvcGVkICYmIHRoaXMuYmxvY2tQYXJhbUluZGV4KG5hbWUpO1xuXG4gICAgaWYgKGJsb2NrUGFyYW1JZCkge1xuICAgICAgdGhpcy5vcGNvZGUoJ2xvb2t1cEJsb2NrUGFyYW0nLCBibG9ja1BhcmFtSWQsIHBhdGgucGFydHMpO1xuICAgIH0gZWxzZSBpZiAoIW5hbWUpIHtcbiAgICAgIC8vIENvbnRleHQgcmVmZXJlbmNlLCBpLmUuIGB7e2ZvbyAufX1gIG9yIGB7e2ZvbyAuLn19YFxuICAgICAgdGhpcy5vcGNvZGUoJ3B1c2hDb250ZXh0Jyk7XG4gICAgfSBlbHNlIGlmIChwYXRoLmRhdGEpIHtcbiAgICAgIHRoaXMub3B0aW9ucy5kYXRhID0gdHJ1ZTtcbiAgICAgIHRoaXMub3Bjb2RlKCdsb29rdXBEYXRhJywgcGF0aC5kZXB0aCwgcGF0aC5wYXJ0cywgcGF0aC5zdHJpY3QpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm9wY29kZShcbiAgICAgICAgJ2xvb2t1cE9uQ29udGV4dCcsXG4gICAgICAgIHBhdGgucGFydHMsXG4gICAgICAgIHBhdGguZmFsc3ksXG4gICAgICAgIHBhdGguc3RyaWN0LFxuICAgICAgICBzY29wZWRcbiAgICAgICk7XG4gICAgfVxuICB9LFxuXG4gIFN0cmluZ0xpdGVyYWw6IGZ1bmN0aW9uKHN0cmluZykge1xuICAgIHRoaXMub3Bjb2RlKCdwdXNoU3RyaW5nJywgc3RyaW5nLnZhbHVlKTtcbiAgfSxcblxuICBOdW1iZXJMaXRlcmFsOiBmdW5jdGlvbihudW1iZXIpIHtcbiAgICB0aGlzLm9wY29kZSgncHVzaExpdGVyYWwnLCBudW1iZXIudmFsdWUpO1xuICB9LFxuXG4gIEJvb2xlYW5MaXRlcmFsOiBmdW5jdGlvbihib29sKSB7XG4gICAgdGhpcy5vcGNvZGUoJ3B1c2hMaXRlcmFsJywgYm9vbC52YWx1ZSk7XG4gIH0sXG5cbiAgVW5kZWZpbmVkTGl0ZXJhbDogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5vcGNvZGUoJ3B1c2hMaXRlcmFsJywgJ3VuZGVmaW5lZCcpO1xuICB9LFxuXG4gIE51bGxMaXRlcmFsOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLm9wY29kZSgncHVzaExpdGVyYWwnLCAnbnVsbCcpO1xuICB9LFxuXG4gIEhhc2g6IGZ1bmN0aW9uKGhhc2gpIHtcbiAgICBsZXQgcGFpcnMgPSBoYXNoLnBhaXJzLFxuICAgICAgaSA9IDAsXG4gICAgICBsID0gcGFpcnMubGVuZ3RoO1xuXG4gICAgdGhpcy5vcGNvZGUoJ3B1c2hIYXNoJyk7XG5cbiAgICBmb3IgKDsgaSA8IGw7IGkrKykge1xuICAgICAgdGhpcy5wdXNoUGFyYW0ocGFpcnNbaV0udmFsdWUpO1xuICAgIH1cbiAgICB3aGlsZSAoaS0tKSB7XG4gICAgICB0aGlzLm9wY29kZSgnYXNzaWduVG9IYXNoJywgcGFpcnNbaV0ua2V5KTtcbiAgICB9XG4gICAgdGhpcy5vcGNvZGUoJ3BvcEhhc2gnKTtcbiAgfSxcblxuICAvLyBIRUxQRVJTXG4gIG9wY29kZTogZnVuY3Rpb24obmFtZSkge1xuICAgIHRoaXMub3Bjb2Rlcy5wdXNoKHtcbiAgICAgIG9wY29kZTogbmFtZSxcbiAgICAgIGFyZ3M6IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSxcbiAgICAgIGxvYzogdGhpcy5zb3VyY2VOb2RlWzBdLmxvY1xuICAgIH0pO1xuICB9LFxuXG4gIGFkZERlcHRoOiBmdW5jdGlvbihkZXB0aCkge1xuICAgIGlmICghZGVwdGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnVzZURlcHRocyA9IHRydWU7XG4gIH0sXG5cbiAgY2xhc3NpZnlTZXhwcjogZnVuY3Rpb24oc2V4cHIpIHtcbiAgICBsZXQgaXNTaW1wbGUgPSBBU1QuaGVscGVycy5zaW1wbGVJZChzZXhwci5wYXRoKTtcblxuICAgIGxldCBpc0Jsb2NrUGFyYW0gPSBpc1NpbXBsZSAmJiAhIXRoaXMuYmxvY2tQYXJhbUluZGV4KHNleHByLnBhdGgucGFydHNbMF0pO1xuXG4gICAgLy8gYSBtdXN0YWNoZSBpcyBhbiBlbGlnaWJsZSBoZWxwZXIgaWY6XG4gICAgLy8gKiBpdHMgaWQgaXMgc2ltcGxlIChhIHNpbmdsZSBwYXJ0LCBub3QgYHRoaXNgIG9yIGAuLmApXG4gICAgbGV0IGlzSGVscGVyID0gIWlzQmxvY2tQYXJhbSAmJiBBU1QuaGVscGVycy5oZWxwZXJFeHByZXNzaW9uKHNleHByKTtcblxuICAgIC8vIGlmIGEgbXVzdGFjaGUgaXMgYW4gZWxpZ2libGUgaGVscGVyIGJ1dCBub3QgYSBkZWZpbml0ZVxuICAgIC8vIGhlbHBlciwgaXQgaXMgYW1iaWd1b3VzLCBhbmQgd2lsbCBiZSByZXNvbHZlZCBpbiBhIGxhdGVyXG4gICAgLy8gcGFzcyBvciBhdCBydW50aW1lLlxuICAgIGxldCBpc0VsaWdpYmxlID0gIWlzQmxvY2tQYXJhbSAmJiAoaXNIZWxwZXIgfHwgaXNTaW1wbGUpO1xuXG4gICAgLy8gaWYgYW1iaWd1b3VzLCB3ZSBjYW4gcG9zc2libHkgcmVzb2x2ZSB0aGUgYW1iaWd1aXR5IG5vd1xuICAgIC8vIEFuIGVsaWdpYmxlIGhlbHBlciBpcyBvbmUgdGhhdCBkb2VzIG5vdCBoYXZlIGEgY29tcGxleCBwYXRoLCBpLmUuIGB0aGlzLmZvb2AsIGAuLi9mb29gIGV0Yy5cbiAgICBpZiAoaXNFbGlnaWJsZSAmJiAhaXNIZWxwZXIpIHtcbiAgICAgIGxldCBuYW1lID0gc2V4cHIucGF0aC5wYXJ0c1swXSxcbiAgICAgICAgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgIGlmIChvcHRpb25zLmtub3duSGVscGVyc1tuYW1lXSkge1xuICAgICAgICBpc0hlbHBlciA9IHRydWU7XG4gICAgICB9IGVsc2UgaWYgKG9wdGlvbnMua25vd25IZWxwZXJzT25seSkge1xuICAgICAgICBpc0VsaWdpYmxlID0gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGlzSGVscGVyKSB7XG4gICAgICByZXR1cm4gJ2hlbHBlcic7XG4gICAgfSBlbHNlIGlmIChpc0VsaWdpYmxlKSB7XG4gICAgICByZXR1cm4gJ2FtYmlndW91cyc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAnc2ltcGxlJztcbiAgICB9XG4gIH0sXG5cbiAgcHVzaFBhcmFtczogZnVuY3Rpb24ocGFyYW1zKSB7XG4gICAgZm9yIChsZXQgaSA9IDAsIGwgPSBwYXJhbXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICB0aGlzLnB1c2hQYXJhbShwYXJhbXNbaV0pO1xuICAgIH1cbiAgfSxcblxuICBwdXNoUGFyYW06IGZ1bmN0aW9uKHZhbCkge1xuICAgIGxldCB2YWx1ZSA9IHZhbC52YWx1ZSAhPSBudWxsID8gdmFsLnZhbHVlIDogdmFsLm9yaWdpbmFsIHx8ICcnO1xuXG4gICAgaWYgKHRoaXMuc3RyaW5nUGFyYW1zKSB7XG4gICAgICBpZiAodmFsdWUucmVwbGFjZSkge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoL14oXFwuP1xcLlxcLykqL2csICcnKS5yZXBsYWNlKC9cXC8vZywgJy4nKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHZhbC5kZXB0aCkge1xuICAgICAgICB0aGlzLmFkZERlcHRoKHZhbC5kZXB0aCk7XG4gICAgICB9XG4gICAgICB0aGlzLm9wY29kZSgnZ2V0Q29udGV4dCcsIHZhbC5kZXB0aCB8fCAwKTtcbiAgICAgIHRoaXMub3Bjb2RlKCdwdXNoU3RyaW5nUGFyYW0nLCB2YWx1ZSwgdmFsLnR5cGUpO1xuXG4gICAgICBpZiAodmFsLnR5cGUgPT09ICdTdWJFeHByZXNzaW9uJykge1xuICAgICAgICAvLyBTdWJFeHByZXNzaW9ucyBnZXQgZXZhbHVhdGVkIGFuZCBwYXNzZWQgaW5cbiAgICAgICAgLy8gaW4gc3RyaW5nIHBhcmFtcyBtb2RlLlxuICAgICAgICB0aGlzLmFjY2VwdCh2YWwpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodGhpcy50cmFja0lkcykge1xuICAgICAgICBsZXQgYmxvY2tQYXJhbUluZGV4O1xuICAgICAgICBpZiAodmFsLnBhcnRzICYmICFBU1QuaGVscGVycy5zY29wZWRJZCh2YWwpICYmICF2YWwuZGVwdGgpIHtcbiAgICAgICAgICBibG9ja1BhcmFtSW5kZXggPSB0aGlzLmJsb2NrUGFyYW1JbmRleCh2YWwucGFydHNbMF0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChibG9ja1BhcmFtSW5kZXgpIHtcbiAgICAgICAgICBsZXQgYmxvY2tQYXJhbUNoaWxkID0gdmFsLnBhcnRzLnNsaWNlKDEpLmpvaW4oJy4nKTtcbiAgICAgICAgICB0aGlzLm9wY29kZSgncHVzaElkJywgJ0Jsb2NrUGFyYW0nLCBibG9ja1BhcmFtSW5kZXgsIGJsb2NrUGFyYW1DaGlsZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFsdWUgPSB2YWwub3JpZ2luYWwgfHwgdmFsdWU7XG4gICAgICAgICAgaWYgKHZhbHVlLnJlcGxhY2UpIHtcbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWVcbiAgICAgICAgICAgICAgLnJlcGxhY2UoL150aGlzKD86XFwufCQpLywgJycpXG4gICAgICAgICAgICAgIC5yZXBsYWNlKC9eXFwuXFwvLywgJycpXG4gICAgICAgICAgICAgIC5yZXBsYWNlKC9eXFwuJC8sICcnKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0aGlzLm9wY29kZSgncHVzaElkJywgdmFsLnR5cGUsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5hY2NlcHQodmFsKTtcbiAgICB9XG4gIH0sXG5cbiAgc2V0dXBGdWxsTXVzdGFjaGVQYXJhbXM6IGZ1bmN0aW9uKHNleHByLCBwcm9ncmFtLCBpbnZlcnNlLCBvbWl0RW1wdHkpIHtcbiAgICBsZXQgcGFyYW1zID0gc2V4cHIucGFyYW1zO1xuICAgIHRoaXMucHVzaFBhcmFtcyhwYXJhbXMpO1xuXG4gICAgdGhpcy5vcGNvZGUoJ3B1c2hQcm9ncmFtJywgcHJvZ3JhbSk7XG4gICAgdGhpcy5vcGNvZGUoJ3B1c2hQcm9ncmFtJywgaW52ZXJzZSk7XG5cbiAgICBpZiAoc2V4cHIuaGFzaCkge1xuICAgICAgdGhpcy5hY2NlcHQoc2V4cHIuaGFzaCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMub3Bjb2RlKCdlbXB0eUhhc2gnLCBvbWl0RW1wdHkpO1xuICAgIH1cblxuICAgIHJldHVybiBwYXJhbXM7XG4gIH0sXG5cbiAgYmxvY2tQYXJhbUluZGV4OiBmdW5jdGlvbihuYW1lKSB7XG4gICAgZm9yIChcbiAgICAgIGxldCBkZXB0aCA9IDAsIGxlbiA9IHRoaXMub3B0aW9ucy5ibG9ja1BhcmFtcy5sZW5ndGg7XG4gICAgICBkZXB0aCA8IGxlbjtcbiAgICAgIGRlcHRoKytcbiAgICApIHtcbiAgICAgIGxldCBibG9ja1BhcmFtcyA9IHRoaXMub3B0aW9ucy5ibG9ja1BhcmFtc1tkZXB0aF0sXG4gICAgICAgIHBhcmFtID0gYmxvY2tQYXJhbXMgJiYgaW5kZXhPZihibG9ja1BhcmFtcywgbmFtZSk7XG4gICAgICBpZiAoYmxvY2tQYXJhbXMgJiYgcGFyYW0gPj0gMCkge1xuICAgICAgICByZXR1cm4gW2RlcHRoLCBwYXJhbV07XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gcHJlY29tcGlsZShpbnB1dCwgb3B0aW9ucywgZW52KSB7XG4gIGlmIChcbiAgICBpbnB1dCA9PSBudWxsIHx8XG4gICAgKHR5cGVvZiBpbnB1dCAhPT0gJ3N0cmluZycgJiYgaW5wdXQudHlwZSAhPT0gJ1Byb2dyYW0nKVxuICApIHtcbiAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKFxuICAgICAgJ1lvdSBtdXN0IHBhc3MgYSBzdHJpbmcgb3IgSGFuZGxlYmFycyBBU1QgdG8gSGFuZGxlYmFycy5wcmVjb21waWxlLiBZb3UgcGFzc2VkICcgK1xuICAgICAgICBpbnB1dFxuICAgICk7XG4gIH1cblxuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgaWYgKCEoJ2RhdGEnIGluIG9wdGlvbnMpKSB7XG4gICAgb3B0aW9ucy5kYXRhID0gdHJ1ZTtcbiAgfVxuICBpZiAob3B0aW9ucy5jb21wYXQpIHtcbiAgICBvcHRpb25zLnVzZURlcHRocyA9IHRydWU7XG4gIH1cblxuICBsZXQgYXN0ID0gZW52LnBhcnNlKGlucHV0LCBvcHRpb25zKSxcbiAgICBlbnZpcm9ubWVudCA9IG5ldyBlbnYuQ29tcGlsZXIoKS5jb21waWxlKGFzdCwgb3B0aW9ucyk7XG4gIHJldHVybiBuZXcgZW52LkphdmFTY3JpcHRDb21waWxlcigpLmNvbXBpbGUoZW52aXJvbm1lbnQsIG9wdGlvbnMpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29tcGlsZShpbnB1dCwgb3B0aW9ucyA9IHt9LCBlbnYpIHtcbiAgaWYgKFxuICAgIGlucHV0ID09IG51bGwgfHxcbiAgICAodHlwZW9mIGlucHV0ICE9PSAnc3RyaW5nJyAmJiBpbnB1dC50eXBlICE9PSAnUHJvZ3JhbScpXG4gICkge1xuICAgIHRocm93IG5ldyBFeGNlcHRpb24oXG4gICAgICAnWW91IG11c3QgcGFzcyBhIHN0cmluZyBvciBIYW5kbGViYXJzIEFTVCB0byBIYW5kbGViYXJzLmNvbXBpbGUuIFlvdSBwYXNzZWQgJyArXG4gICAgICAgIGlucHV0XG4gICAgKTtcbiAgfVxuXG4gIG9wdGlvbnMgPSBleHRlbmQoe30sIG9wdGlvbnMpO1xuICBpZiAoISgnZGF0YScgaW4gb3B0aW9ucykpIHtcbiAgICBvcHRpb25zLmRhdGEgPSB0cnVlO1xuICB9XG4gIGlmIChvcHRpb25zLmNvbXBhdCkge1xuICAgIG9wdGlvbnMudXNlRGVwdGhzID0gdHJ1ZTtcbiAgfVxuXG4gIGxldCBjb21waWxlZDtcblxuICBmdW5jdGlvbiBjb21waWxlSW5wdXQoKSB7XG4gICAgbGV0IGFzdCA9IGVudi5wYXJzZShpbnB1dCwgb3B0aW9ucyksXG4gICAgICBlbnZpcm9ubWVudCA9IG5ldyBlbnYuQ29tcGlsZXIoKS5jb21waWxlKGFzdCwgb3B0aW9ucyksXG4gICAgICB0ZW1wbGF0ZVNwZWMgPSBuZXcgZW52LkphdmFTY3JpcHRDb21waWxlcigpLmNvbXBpbGUoXG4gICAgICAgIGVudmlyb25tZW50LFxuICAgICAgICBvcHRpb25zLFxuICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgIHRydWVcbiAgICAgICk7XG4gICAgcmV0dXJuIGVudi50ZW1wbGF0ZSh0ZW1wbGF0ZVNwZWMpO1xuICB9XG5cbiAgLy8gVGVtcGxhdGUgaXMgb25seSBjb21waWxlZCBvbiBmaXJzdCB1c2UgYW5kIGNhY2hlZCBhZnRlciB0aGF0IHBvaW50LlxuICBmdW5jdGlvbiByZXQoY29udGV4dCwgZXhlY09wdGlvbnMpIHtcbiAgICBpZiAoIWNvbXBpbGVkKSB7XG4gICAgICBjb21waWxlZCA9IGNvbXBpbGVJbnB1dCgpO1xuICAgIH1cbiAgICByZXR1cm4gY29tcGlsZWQuY2FsbCh0aGlzLCBjb250ZXh0LCBleGVjT3B0aW9ucyk7XG4gIH1cbiAgcmV0Ll9zZXR1cCA9IGZ1bmN0aW9uKHNldHVwT3B0aW9ucykge1xuICAgIGlmICghY29tcGlsZWQpIHtcbiAgICAgIGNvbXBpbGVkID0gY29tcGlsZUlucHV0KCk7XG4gICAgfVxuICAgIHJldHVybiBjb21waWxlZC5fc2V0dXAoc2V0dXBPcHRpb25zKTtcbiAgfTtcbiAgcmV0Ll9jaGlsZCA9IGZ1bmN0aW9uKGksIGRhdGEsIGJsb2NrUGFyYW1zLCBkZXB0aHMpIHtcbiAgICBpZiAoIWNvbXBpbGVkKSB7XG4gICAgICBjb21waWxlZCA9IGNvbXBpbGVJbnB1dCgpO1xuICAgIH1cbiAgICByZXR1cm4gY29tcGlsZWQuX2NoaWxkKGksIGRhdGEsIGJsb2NrUGFyYW1zLCBkZXB0aHMpO1xuICB9O1xuICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBhcmdFcXVhbHMoYSwgYikge1xuICBpZiAoYSA9PT0gYikge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgaWYgKGlzQXJyYXkoYSkgJiYgaXNBcnJheShiKSAmJiBhLmxlbmd0aCA9PT0gYi5sZW5ndGgpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGEubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICghYXJnRXF1YWxzKGFbaV0sIGJbaV0pKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn1cblxuZnVuY3Rpb24gdHJhbnNmb3JtTGl0ZXJhbFRvUGF0aChzZXhwcikge1xuICBpZiAoIXNleHByLnBhdGgucGFydHMpIHtcbiAgICBsZXQgbGl0ZXJhbCA9IHNleHByLnBhdGg7XG4gICAgLy8gQ2FzdGluZyB0byBzdHJpbmcgaGVyZSB0byBtYWtlIGZhbHNlIGFuZCAwIGxpdGVyYWwgdmFsdWVzIHBsYXkgbmljZWx5IHdpdGggdGhlIHJlc3RcbiAgICAvLyBvZiB0aGUgc3lzdGVtLlxuICAgIHNleHByLnBhdGggPSB7XG4gICAgICB0eXBlOiAnUGF0aEV4cHJlc3Npb24nLFxuICAgICAgZGF0YTogZmFsc2UsXG4gICAgICBkZXB0aDogMCxcbiAgICAgIHBhcnRzOiBbbGl0ZXJhbC5vcmlnaW5hbCArICcnXSxcbiAgICAgIG9yaWdpbmFsOiBsaXRlcmFsLm9yaWdpbmFsICsgJycsXG4gICAgICBsb2M6IGxpdGVyYWwubG9jXG4gICAgfTtcbiAgfVxufVxuIiwgIi8qIC0qLSBNb2RlOiBqczsganMtaW5kZW50LWxldmVsOiAyOyAtKi0gKi9cbi8qXG4gKiBDb3B5cmlnaHQgMjAxMSBNb3ppbGxhIEZvdW5kYXRpb24gYW5kIGNvbnRyaWJ1dG9yc1xuICogTGljZW5zZWQgdW5kZXIgdGhlIE5ldyBCU0QgbGljZW5zZS4gU2VlIExJQ0VOU0Ugb3I6XG4gKiBodHRwOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvQlNELTMtQ2xhdXNlXG4gKi9cblxudmFyIGludFRvQ2hhck1hcCA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvJy5zcGxpdCgnJyk7XG5cbi8qKlxuICogRW5jb2RlIGFuIGludGVnZXIgaW4gdGhlIHJhbmdlIG9mIDAgdG8gNjMgdG8gYSBzaW5nbGUgYmFzZSA2NCBkaWdpdC5cbiAqL1xuZXhwb3J0cy5lbmNvZGUgPSBmdW5jdGlvbiAobnVtYmVyKSB7XG4gIGlmICgwIDw9IG51bWJlciAmJiBudW1iZXIgPCBpbnRUb0NoYXJNYXAubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGludFRvQ2hhck1hcFtudW1iZXJdO1xuICB9XG4gIHRocm93IG5ldyBUeXBlRXJyb3IoXCJNdXN0IGJlIGJldHdlZW4gMCBhbmQgNjM6IFwiICsgbnVtYmVyKTtcbn07XG5cbi8qKlxuICogRGVjb2RlIGEgc2luZ2xlIGJhc2UgNjQgY2hhcmFjdGVyIGNvZGUgZGlnaXQgdG8gYW4gaW50ZWdlci4gUmV0dXJucyAtMSBvblxuICogZmFpbHVyZS5cbiAqL1xuZXhwb3J0cy5kZWNvZGUgPSBmdW5jdGlvbiAoY2hhckNvZGUpIHtcbiAgdmFyIGJpZ0EgPSA2NTsgICAgIC8vICdBJ1xuICB2YXIgYmlnWiA9IDkwOyAgICAgLy8gJ1onXG5cbiAgdmFyIGxpdHRsZUEgPSA5NzsgIC8vICdhJ1xuICB2YXIgbGl0dGxlWiA9IDEyMjsgLy8gJ3onXG5cbiAgdmFyIHplcm8gPSA0ODsgICAgIC8vICcwJ1xuICB2YXIgbmluZSA9IDU3OyAgICAgLy8gJzknXG5cbiAgdmFyIHBsdXMgPSA0MzsgICAgIC8vICcrJ1xuICB2YXIgc2xhc2ggPSA0NzsgICAgLy8gJy8nXG5cbiAgdmFyIGxpdHRsZU9mZnNldCA9IDI2O1xuICB2YXIgbnVtYmVyT2Zmc2V0ID0gNTI7XG5cbiAgLy8gMCAtIDI1OiBBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWlxuICBpZiAoYmlnQSA8PSBjaGFyQ29kZSAmJiBjaGFyQ29kZSA8PSBiaWdaKSB7XG4gICAgcmV0dXJuIChjaGFyQ29kZSAtIGJpZ0EpO1xuICB9XG5cbiAgLy8gMjYgLSA1MTogYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpcbiAgaWYgKGxpdHRsZUEgPD0gY2hhckNvZGUgJiYgY2hhckNvZGUgPD0gbGl0dGxlWikge1xuICAgIHJldHVybiAoY2hhckNvZGUgLSBsaXR0bGVBICsgbGl0dGxlT2Zmc2V0KTtcbiAgfVxuXG4gIC8vIDUyIC0gNjE6IDAxMjM0NTY3ODlcbiAgaWYgKHplcm8gPD0gY2hhckNvZGUgJiYgY2hhckNvZGUgPD0gbmluZSkge1xuICAgIHJldHVybiAoY2hhckNvZGUgLSB6ZXJvICsgbnVtYmVyT2Zmc2V0KTtcbiAgfVxuXG4gIC8vIDYyOiArXG4gIGlmIChjaGFyQ29kZSA9PSBwbHVzKSB7XG4gICAgcmV0dXJuIDYyO1xuICB9XG5cbiAgLy8gNjM6IC9cbiAgaWYgKGNoYXJDb2RlID09IHNsYXNoKSB7XG4gICAgcmV0dXJuIDYzO1xuICB9XG5cbiAgLy8gSW52YWxpZCBiYXNlNjQgZGlnaXQuXG4gIHJldHVybiAtMTtcbn07XG4iLCAiLyogLSotIE1vZGU6IGpzOyBqcy1pbmRlbnQtbGV2ZWw6IDI7IC0qLSAqL1xuLypcbiAqIENvcHlyaWdodCAyMDExIE1vemlsbGEgRm91bmRhdGlvbiBhbmQgY29udHJpYnV0b3JzXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTmV3IEJTRCBsaWNlbnNlLiBTZWUgTElDRU5TRSBvcjpcbiAqIGh0dHA6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9CU0QtMy1DbGF1c2VcbiAqXG4gKiBCYXNlZCBvbiB0aGUgQmFzZSA2NCBWTFEgaW1wbGVtZW50YXRpb24gaW4gQ2xvc3VyZSBDb21waWxlcjpcbiAqIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvY2xvc3VyZS1jb21waWxlci9zb3VyY2UvYnJvd3NlL3RydW5rL3NyYy9jb20vZ29vZ2xlL2RlYnVnZ2luZy9zb3VyY2VtYXAvQmFzZTY0VkxRLmphdmFcbiAqXG4gKiBDb3B5cmlnaHQgMjAxMSBUaGUgQ2xvc3VyZSBDb21waWxlciBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0XG4gKiBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlXG4gKiBtZXQ6XG4gKlxuICogICogUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHRcbiAqICAgIG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cbiAqICAqIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmVcbiAqICAgIGNvcHlyaWdodCBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nXG4gKiAgICBkaXNjbGFpbWVyIGluIHRoZSBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWRcbiAqICAgIHdpdGggdGhlIGRpc3RyaWJ1dGlvbi5cbiAqICAqIE5laXRoZXIgdGhlIG5hbWUgb2YgR29vZ2xlIEluYy4gbm9yIHRoZSBuYW1lcyBvZiBpdHNcbiAqICAgIGNvbnRyaWJ1dG9ycyBtYXkgYmUgdXNlZCB0byBlbmRvcnNlIG9yIHByb21vdGUgcHJvZHVjdHMgZGVyaXZlZFxuICogICAgZnJvbSB0aGlzIHNvZnR3YXJlIHdpdGhvdXQgc3BlY2lmaWMgcHJpb3Igd3JpdHRlbiBwZXJtaXNzaW9uLlxuICpcbiAqIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlNcbiAqIFwiQVMgSVNcIiBBTkQgQU5ZIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1RcbiAqIExJTUlURUQgVE8sIFRIRSBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUlxuICogQSBQQVJUSUNVTEFSIFBVUlBPU0UgQVJFIERJU0NMQUlNRUQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFRcbiAqIE9XTkVSIE9SIENPTlRSSUJVVE9SUyBCRSBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLFxuICogU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUIE5PVFxuICogTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsXG4gKiBEQVRBLCBPUiBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTllcbiAqIFRIRU9SWSBPRiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlRcbiAqIChJTkNMVURJTkcgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRVxuICogT0YgVEhJUyBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRSBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cbiAqL1xuXG52YXIgYmFzZTY0ID0gcmVxdWlyZSgnLi9iYXNlNjQnKTtcblxuLy8gQSBzaW5nbGUgYmFzZSA2NCBkaWdpdCBjYW4gY29udGFpbiA2IGJpdHMgb2YgZGF0YS4gRm9yIHRoZSBiYXNlIDY0IHZhcmlhYmxlXG4vLyBsZW5ndGggcXVhbnRpdGllcyB3ZSB1c2UgaW4gdGhlIHNvdXJjZSBtYXAgc3BlYywgdGhlIGZpcnN0IGJpdCBpcyB0aGUgc2lnbixcbi8vIHRoZSBuZXh0IGZvdXIgYml0cyBhcmUgdGhlIGFjdHVhbCB2YWx1ZSwgYW5kIHRoZSA2dGggYml0IGlzIHRoZVxuLy8gY29udGludWF0aW9uIGJpdC4gVGhlIGNvbnRpbnVhdGlvbiBiaXQgdGVsbHMgdXMgd2hldGhlciB0aGVyZSBhcmUgbW9yZVxuLy8gZGlnaXRzIGluIHRoaXMgdmFsdWUgZm9sbG93aW5nIHRoaXMgZGlnaXQuXG4vL1xuLy8gICBDb250aW51YXRpb25cbi8vICAgfCAgICBTaWduXG4vLyAgIHwgICAgfFxuLy8gICBWICAgIFZcbi8vICAgMTAxMDExXG5cbnZhciBWTFFfQkFTRV9TSElGVCA9IDU7XG5cbi8vIGJpbmFyeTogMTAwMDAwXG52YXIgVkxRX0JBU0UgPSAxIDw8IFZMUV9CQVNFX1NISUZUO1xuXG4vLyBiaW5hcnk6IDAxMTExMVxudmFyIFZMUV9CQVNFX01BU0sgPSBWTFFfQkFTRSAtIDE7XG5cbi8vIGJpbmFyeTogMTAwMDAwXG52YXIgVkxRX0NPTlRJTlVBVElPTl9CSVQgPSBWTFFfQkFTRTtcblxuLyoqXG4gKiBDb252ZXJ0cyBmcm9tIGEgdHdvLWNvbXBsZW1lbnQgdmFsdWUgdG8gYSB2YWx1ZSB3aGVyZSB0aGUgc2lnbiBiaXQgaXNcbiAqIHBsYWNlZCBpbiB0aGUgbGVhc3Qgc2lnbmlmaWNhbnQgYml0LiAgRm9yIGV4YW1wbGUsIGFzIGRlY2ltYWxzOlxuICogICAxIGJlY29tZXMgMiAoMTAgYmluYXJ5KSwgLTEgYmVjb21lcyAzICgxMSBiaW5hcnkpXG4gKiAgIDIgYmVjb21lcyA0ICgxMDAgYmluYXJ5KSwgLTIgYmVjb21lcyA1ICgxMDEgYmluYXJ5KVxuICovXG5mdW5jdGlvbiB0b1ZMUVNpZ25lZChhVmFsdWUpIHtcbiAgcmV0dXJuIGFWYWx1ZSA8IDBcbiAgICA/ICgoLWFWYWx1ZSkgPDwgMSkgKyAxXG4gICAgOiAoYVZhbHVlIDw8IDEpICsgMDtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyB0byBhIHR3by1jb21wbGVtZW50IHZhbHVlIGZyb20gYSB2YWx1ZSB3aGVyZSB0aGUgc2lnbiBiaXQgaXNcbiAqIHBsYWNlZCBpbiB0aGUgbGVhc3Qgc2lnbmlmaWNhbnQgYml0LiAgRm9yIGV4YW1wbGUsIGFzIGRlY2ltYWxzOlxuICogICAyICgxMCBiaW5hcnkpIGJlY29tZXMgMSwgMyAoMTEgYmluYXJ5KSBiZWNvbWVzIC0xXG4gKiAgIDQgKDEwMCBiaW5hcnkpIGJlY29tZXMgMiwgNSAoMTAxIGJpbmFyeSkgYmVjb21lcyAtMlxuICovXG5mdW5jdGlvbiBmcm9tVkxRU2lnbmVkKGFWYWx1ZSkge1xuICB2YXIgaXNOZWdhdGl2ZSA9IChhVmFsdWUgJiAxKSA9PT0gMTtcbiAgdmFyIHNoaWZ0ZWQgPSBhVmFsdWUgPj4gMTtcbiAgcmV0dXJuIGlzTmVnYXRpdmVcbiAgICA/IC1zaGlmdGVkXG4gICAgOiBzaGlmdGVkO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIGJhc2UgNjQgVkxRIGVuY29kZWQgdmFsdWUuXG4gKi9cbmV4cG9ydHMuZW5jb2RlID0gZnVuY3Rpb24gYmFzZTY0VkxRX2VuY29kZShhVmFsdWUpIHtcbiAgdmFyIGVuY29kZWQgPSBcIlwiO1xuICB2YXIgZGlnaXQ7XG5cbiAgdmFyIHZscSA9IHRvVkxRU2lnbmVkKGFWYWx1ZSk7XG5cbiAgZG8ge1xuICAgIGRpZ2l0ID0gdmxxICYgVkxRX0JBU0VfTUFTSztcbiAgICB2bHEgPj4+PSBWTFFfQkFTRV9TSElGVDtcbiAgICBpZiAodmxxID4gMCkge1xuICAgICAgLy8gVGhlcmUgYXJlIHN0aWxsIG1vcmUgZGlnaXRzIGluIHRoaXMgdmFsdWUsIHNvIHdlIG11c3QgbWFrZSBzdXJlIHRoZVxuICAgICAgLy8gY29udGludWF0aW9uIGJpdCBpcyBtYXJrZWQuXG4gICAgICBkaWdpdCB8PSBWTFFfQ09OVElOVUFUSU9OX0JJVDtcbiAgICB9XG4gICAgZW5jb2RlZCArPSBiYXNlNjQuZW5jb2RlKGRpZ2l0KTtcbiAgfSB3aGlsZSAodmxxID4gMCk7XG5cbiAgcmV0dXJuIGVuY29kZWQ7XG59O1xuXG4vKipcbiAqIERlY29kZXMgdGhlIG5leHQgYmFzZSA2NCBWTFEgdmFsdWUgZnJvbSB0aGUgZ2l2ZW4gc3RyaW5nIGFuZCByZXR1cm5zIHRoZVxuICogdmFsdWUgYW5kIHRoZSByZXN0IG9mIHRoZSBzdHJpbmcgdmlhIHRoZSBvdXQgcGFyYW1ldGVyLlxuICovXG5leHBvcnRzLmRlY29kZSA9IGZ1bmN0aW9uIGJhc2U2NFZMUV9kZWNvZGUoYVN0ciwgYUluZGV4LCBhT3V0UGFyYW0pIHtcbiAgdmFyIHN0ckxlbiA9IGFTdHIubGVuZ3RoO1xuICB2YXIgcmVzdWx0ID0gMDtcbiAgdmFyIHNoaWZ0ID0gMDtcbiAgdmFyIGNvbnRpbnVhdGlvbiwgZGlnaXQ7XG5cbiAgZG8ge1xuICAgIGlmIChhSW5kZXggPj0gc3RyTGVuKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFeHBlY3RlZCBtb3JlIGRpZ2l0cyBpbiBiYXNlIDY0IFZMUSB2YWx1ZS5cIik7XG4gICAgfVxuXG4gICAgZGlnaXQgPSBiYXNlNjQuZGVjb2RlKGFTdHIuY2hhckNvZGVBdChhSW5kZXgrKykpO1xuICAgIGlmIChkaWdpdCA9PT0gLTEpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgYmFzZTY0IGRpZ2l0OiBcIiArIGFTdHIuY2hhckF0KGFJbmRleCAtIDEpKTtcbiAgICB9XG5cbiAgICBjb250aW51YXRpb24gPSAhIShkaWdpdCAmIFZMUV9DT05USU5VQVRJT05fQklUKTtcbiAgICBkaWdpdCAmPSBWTFFfQkFTRV9NQVNLO1xuICAgIHJlc3VsdCA9IHJlc3VsdCArIChkaWdpdCA8PCBzaGlmdCk7XG4gICAgc2hpZnQgKz0gVkxRX0JBU0VfU0hJRlQ7XG4gIH0gd2hpbGUgKGNvbnRpbnVhdGlvbik7XG5cbiAgYU91dFBhcmFtLnZhbHVlID0gZnJvbVZMUVNpZ25lZChyZXN1bHQpO1xuICBhT3V0UGFyYW0ucmVzdCA9IGFJbmRleDtcbn07XG4iLCAiLyogLSotIE1vZGU6IGpzOyBqcy1pbmRlbnQtbGV2ZWw6IDI7IC0qLSAqL1xuLypcbiAqIENvcHlyaWdodCAyMDExIE1vemlsbGEgRm91bmRhdGlvbiBhbmQgY29udHJpYnV0b3JzXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTmV3IEJTRCBsaWNlbnNlLiBTZWUgTElDRU5TRSBvcjpcbiAqIGh0dHA6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9CU0QtMy1DbGF1c2VcbiAqL1xuXG4vKipcbiAqIFRoaXMgaXMgYSBoZWxwZXIgZnVuY3Rpb24gZm9yIGdldHRpbmcgdmFsdWVzIGZyb20gcGFyYW1ldGVyL29wdGlvbnNcbiAqIG9iamVjdHMuXG4gKlxuICogQHBhcmFtIGFyZ3MgVGhlIG9iamVjdCB3ZSBhcmUgZXh0cmFjdGluZyB2YWx1ZXMgZnJvbVxuICogQHBhcmFtIG5hbWUgVGhlIG5hbWUgb2YgdGhlIHByb3BlcnR5IHdlIGFyZSBnZXR0aW5nLlxuICogQHBhcmFtIGRlZmF1bHRWYWx1ZSBBbiBvcHRpb25hbCB2YWx1ZSB0byByZXR1cm4gaWYgdGhlIHByb3BlcnR5IGlzIG1pc3NpbmdcbiAqIGZyb20gdGhlIG9iamVjdC4gSWYgdGhpcyBpcyBub3Qgc3BlY2lmaWVkIGFuZCB0aGUgcHJvcGVydHkgaXMgbWlzc2luZywgYW5cbiAqIGVycm9yIHdpbGwgYmUgdGhyb3duLlxuICovXG5mdW5jdGlvbiBnZXRBcmcoYUFyZ3MsIGFOYW1lLCBhRGVmYXVsdFZhbHVlKSB7XG4gIGlmIChhTmFtZSBpbiBhQXJncykge1xuICAgIHJldHVybiBhQXJnc1thTmFtZV07XG4gIH0gZWxzZSBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMykge1xuICAgIHJldHVybiBhRGVmYXVsdFZhbHVlO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcignXCInICsgYU5hbWUgKyAnXCIgaXMgYSByZXF1aXJlZCBhcmd1bWVudC4nKTtcbiAgfVxufVxuZXhwb3J0cy5nZXRBcmcgPSBnZXRBcmc7XG5cbnZhciB1cmxSZWdleHAgPSAvXig/OihbXFx3K1xcLS5dKyk6KT9cXC9cXC8oPzooXFx3KzpcXHcrKUApPyhbXFx3Li1dKikoPzo6KFxcZCspKT8oLiopJC87XG52YXIgZGF0YVVybFJlZ2V4cCA9IC9eZGF0YTouK1xcLC4rJC87XG5cbmZ1bmN0aW9uIHVybFBhcnNlKGFVcmwpIHtcbiAgdmFyIG1hdGNoID0gYVVybC5tYXRjaCh1cmxSZWdleHApO1xuICBpZiAoIW1hdGNoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBzY2hlbWU6IG1hdGNoWzFdLFxuICAgIGF1dGg6IG1hdGNoWzJdLFxuICAgIGhvc3Q6IG1hdGNoWzNdLFxuICAgIHBvcnQ6IG1hdGNoWzRdLFxuICAgIHBhdGg6IG1hdGNoWzVdXG4gIH07XG59XG5leHBvcnRzLnVybFBhcnNlID0gdXJsUGFyc2U7XG5cbmZ1bmN0aW9uIHVybEdlbmVyYXRlKGFQYXJzZWRVcmwpIHtcbiAgdmFyIHVybCA9ICcnO1xuICBpZiAoYVBhcnNlZFVybC5zY2hlbWUpIHtcbiAgICB1cmwgKz0gYVBhcnNlZFVybC5zY2hlbWUgKyAnOic7XG4gIH1cbiAgdXJsICs9ICcvLyc7XG4gIGlmIChhUGFyc2VkVXJsLmF1dGgpIHtcbiAgICB1cmwgKz0gYVBhcnNlZFVybC5hdXRoICsgJ0AnO1xuICB9XG4gIGlmIChhUGFyc2VkVXJsLmhvc3QpIHtcbiAgICB1cmwgKz0gYVBhcnNlZFVybC5ob3N0O1xuICB9XG4gIGlmIChhUGFyc2VkVXJsLnBvcnQpIHtcbiAgICB1cmwgKz0gXCI6XCIgKyBhUGFyc2VkVXJsLnBvcnRcbiAgfVxuICBpZiAoYVBhcnNlZFVybC5wYXRoKSB7XG4gICAgdXJsICs9IGFQYXJzZWRVcmwucGF0aDtcbiAgfVxuICByZXR1cm4gdXJsO1xufVxuZXhwb3J0cy51cmxHZW5lcmF0ZSA9IHVybEdlbmVyYXRlO1xuXG4vKipcbiAqIE5vcm1hbGl6ZXMgYSBwYXRoLCBvciB0aGUgcGF0aCBwb3J0aW9uIG9mIGEgVVJMOlxuICpcbiAqIC0gUmVwbGFjZXMgY29uc2VjdXRpdmUgc2xhc2hlcyB3aXRoIG9uZSBzbGFzaC5cbiAqIC0gUmVtb3ZlcyB1bm5lY2Vzc2FyeSAnLicgcGFydHMuXG4gKiAtIFJlbW92ZXMgdW5uZWNlc3NhcnkgJzxkaXI+Ly4uJyBwYXJ0cy5cbiAqXG4gKiBCYXNlZCBvbiBjb2RlIGluIHRoZSBOb2RlLmpzICdwYXRoJyBjb3JlIG1vZHVsZS5cbiAqXG4gKiBAcGFyYW0gYVBhdGggVGhlIHBhdGggb3IgdXJsIHRvIG5vcm1hbGl6ZS5cbiAqL1xuZnVuY3Rpb24gbm9ybWFsaXplKGFQYXRoKSB7XG4gIHZhciBwYXRoID0gYVBhdGg7XG4gIHZhciB1cmwgPSB1cmxQYXJzZShhUGF0aCk7XG4gIGlmICh1cmwpIHtcbiAgICBpZiAoIXVybC5wYXRoKSB7XG4gICAgICByZXR1cm4gYVBhdGg7XG4gICAgfVxuICAgIHBhdGggPSB1cmwucGF0aDtcbiAgfVxuICB2YXIgaXNBYnNvbHV0ZSA9IGV4cG9ydHMuaXNBYnNvbHV0ZShwYXRoKTtcblxuICB2YXIgcGFydHMgPSBwYXRoLnNwbGl0KC9cXC8rLyk7XG4gIGZvciAodmFyIHBhcnQsIHVwID0gMCwgaSA9IHBhcnRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgcGFydCA9IHBhcnRzW2ldO1xuICAgIGlmIChwYXJ0ID09PSAnLicpIHtcbiAgICAgIHBhcnRzLnNwbGljZShpLCAxKTtcbiAgICB9IGVsc2UgaWYgKHBhcnQgPT09ICcuLicpIHtcbiAgICAgIHVwKys7XG4gICAgfSBlbHNlIGlmICh1cCA+IDApIHtcbiAgICAgIGlmIChwYXJ0ID09PSAnJykge1xuICAgICAgICAvLyBUaGUgZmlyc3QgcGFydCBpcyBibGFuayBpZiB0aGUgcGF0aCBpcyBhYnNvbHV0ZS4gVHJ5aW5nIHRvIGdvXG4gICAgICAgIC8vIGFib3ZlIHRoZSByb290IGlzIGEgbm8tb3AuIFRoZXJlZm9yZSB3ZSBjYW4gcmVtb3ZlIGFsbCAnLi4nIHBhcnRzXG4gICAgICAgIC8vIGRpcmVjdGx5IGFmdGVyIHRoZSByb290LlxuICAgICAgICBwYXJ0cy5zcGxpY2UoaSArIDEsIHVwKTtcbiAgICAgICAgdXAgPSAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFydHMuc3BsaWNlKGksIDIpO1xuICAgICAgICB1cC0tO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBwYXRoID0gcGFydHMuam9pbignLycpO1xuXG4gIGlmIChwYXRoID09PSAnJykge1xuICAgIHBhdGggPSBpc0Fic29sdXRlID8gJy8nIDogJy4nO1xuICB9XG5cbiAgaWYgKHVybCkge1xuICAgIHVybC5wYXRoID0gcGF0aDtcbiAgICByZXR1cm4gdXJsR2VuZXJhdGUodXJsKTtcbiAgfVxuICByZXR1cm4gcGF0aDtcbn1cbmV4cG9ydHMubm9ybWFsaXplID0gbm9ybWFsaXplO1xuXG4vKipcbiAqIEpvaW5zIHR3byBwYXRocy9VUkxzLlxuICpcbiAqIEBwYXJhbSBhUm9vdCBUaGUgcm9vdCBwYXRoIG9yIFVSTC5cbiAqIEBwYXJhbSBhUGF0aCBUaGUgcGF0aCBvciBVUkwgdG8gYmUgam9pbmVkIHdpdGggdGhlIHJvb3QuXG4gKlxuICogLSBJZiBhUGF0aCBpcyBhIFVSTCBvciBhIGRhdGEgVVJJLCBhUGF0aCBpcyByZXR1cm5lZCwgdW5sZXNzIGFQYXRoIGlzIGFcbiAqICAgc2NoZW1lLXJlbGF0aXZlIFVSTDogVGhlbiB0aGUgc2NoZW1lIG9mIGFSb290LCBpZiBhbnksIGlzIHByZXBlbmRlZFxuICogICBmaXJzdC5cbiAqIC0gT3RoZXJ3aXNlIGFQYXRoIGlzIGEgcGF0aC4gSWYgYVJvb3QgaXMgYSBVUkwsIHRoZW4gaXRzIHBhdGggcG9ydGlvblxuICogICBpcyB1cGRhdGVkIHdpdGggdGhlIHJlc3VsdCBhbmQgYVJvb3QgaXMgcmV0dXJuZWQuIE90aGVyd2lzZSB0aGUgcmVzdWx0XG4gKiAgIGlzIHJldHVybmVkLlxuICogICAtIElmIGFQYXRoIGlzIGFic29sdXRlLCB0aGUgcmVzdWx0IGlzIGFQYXRoLlxuICogICAtIE90aGVyd2lzZSB0aGUgdHdvIHBhdGhzIGFyZSBqb2luZWQgd2l0aCBhIHNsYXNoLlxuICogLSBKb2luaW5nIGZvciBleGFtcGxlICdodHRwOi8vJyBhbmQgJ3d3dy5leGFtcGxlLmNvbScgaXMgYWxzbyBzdXBwb3J0ZWQuXG4gKi9cbmZ1bmN0aW9uIGpvaW4oYVJvb3QsIGFQYXRoKSB7XG4gIGlmIChhUm9vdCA9PT0gXCJcIikge1xuICAgIGFSb290ID0gXCIuXCI7XG4gIH1cbiAgaWYgKGFQYXRoID09PSBcIlwiKSB7XG4gICAgYVBhdGggPSBcIi5cIjtcbiAgfVxuICB2YXIgYVBhdGhVcmwgPSB1cmxQYXJzZShhUGF0aCk7XG4gIHZhciBhUm9vdFVybCA9IHVybFBhcnNlKGFSb290KTtcbiAgaWYgKGFSb290VXJsKSB7XG4gICAgYVJvb3QgPSBhUm9vdFVybC5wYXRoIHx8ICcvJztcbiAgfVxuXG4gIC8vIGBqb2luKGZvbywgJy8vd3d3LmV4YW1wbGUub3JnJylgXG4gIGlmIChhUGF0aFVybCAmJiAhYVBhdGhVcmwuc2NoZW1lKSB7XG4gICAgaWYgKGFSb290VXJsKSB7XG4gICAgICBhUGF0aFVybC5zY2hlbWUgPSBhUm9vdFVybC5zY2hlbWU7XG4gICAgfVxuICAgIHJldHVybiB1cmxHZW5lcmF0ZShhUGF0aFVybCk7XG4gIH1cblxuICBpZiAoYVBhdGhVcmwgfHwgYVBhdGgubWF0Y2goZGF0YVVybFJlZ2V4cCkpIHtcbiAgICByZXR1cm4gYVBhdGg7XG4gIH1cblxuICAvLyBgam9pbignaHR0cDovLycsICd3d3cuZXhhbXBsZS5jb20nKWBcbiAgaWYgKGFSb290VXJsICYmICFhUm9vdFVybC5ob3N0ICYmICFhUm9vdFVybC5wYXRoKSB7XG4gICAgYVJvb3RVcmwuaG9zdCA9IGFQYXRoO1xuICAgIHJldHVybiB1cmxHZW5lcmF0ZShhUm9vdFVybCk7XG4gIH1cblxuICB2YXIgam9pbmVkID0gYVBhdGguY2hhckF0KDApID09PSAnLydcbiAgICA/IGFQYXRoXG4gICAgOiBub3JtYWxpemUoYVJvb3QucmVwbGFjZSgvXFwvKyQvLCAnJykgKyAnLycgKyBhUGF0aCk7XG5cbiAgaWYgKGFSb290VXJsKSB7XG4gICAgYVJvb3RVcmwucGF0aCA9IGpvaW5lZDtcbiAgICByZXR1cm4gdXJsR2VuZXJhdGUoYVJvb3RVcmwpO1xuICB9XG4gIHJldHVybiBqb2luZWQ7XG59XG5leHBvcnRzLmpvaW4gPSBqb2luO1xuXG5leHBvcnRzLmlzQWJzb2x1dGUgPSBmdW5jdGlvbiAoYVBhdGgpIHtcbiAgcmV0dXJuIGFQYXRoLmNoYXJBdCgwKSA9PT0gJy8nIHx8IHVybFJlZ2V4cC50ZXN0KGFQYXRoKTtcbn07XG5cbi8qKlxuICogTWFrZSBhIHBhdGggcmVsYXRpdmUgdG8gYSBVUkwgb3IgYW5vdGhlciBwYXRoLlxuICpcbiAqIEBwYXJhbSBhUm9vdCBUaGUgcm9vdCBwYXRoIG9yIFVSTC5cbiAqIEBwYXJhbSBhUGF0aCBUaGUgcGF0aCBvciBVUkwgdG8gYmUgbWFkZSByZWxhdGl2ZSB0byBhUm9vdC5cbiAqL1xuZnVuY3Rpb24gcmVsYXRpdmUoYVJvb3QsIGFQYXRoKSB7XG4gIGlmIChhUm9vdCA9PT0gXCJcIikge1xuICAgIGFSb290ID0gXCIuXCI7XG4gIH1cblxuICBhUm9vdCA9IGFSb290LnJlcGxhY2UoL1xcLyQvLCAnJyk7XG5cbiAgLy8gSXQgaXMgcG9zc2libGUgZm9yIHRoZSBwYXRoIHRvIGJlIGFib3ZlIHRoZSByb290LiBJbiB0aGlzIGNhc2UsIHNpbXBseVxuICAvLyBjaGVja2luZyB3aGV0aGVyIHRoZSByb290IGlzIGEgcHJlZml4IG9mIHRoZSBwYXRoIHdvbid0IHdvcmsuIEluc3RlYWQsIHdlXG4gIC8vIG5lZWQgdG8gcmVtb3ZlIGNvbXBvbmVudHMgZnJvbSB0aGUgcm9vdCBvbmUgYnkgb25lLCB1bnRpbCBlaXRoZXIgd2UgZmluZFxuICAvLyBhIHByZWZpeCB0aGF0IGZpdHMsIG9yIHdlIHJ1biBvdXQgb2YgY29tcG9uZW50cyB0byByZW1vdmUuXG4gIHZhciBsZXZlbCA9IDA7XG4gIHdoaWxlIChhUGF0aC5pbmRleE9mKGFSb290ICsgJy8nKSAhPT0gMCkge1xuICAgIHZhciBpbmRleCA9IGFSb290Lmxhc3RJbmRleE9mKFwiL1wiKTtcbiAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICByZXR1cm4gYVBhdGg7XG4gICAgfVxuXG4gICAgLy8gSWYgdGhlIG9ubHkgcGFydCBvZiB0aGUgcm9vdCB0aGF0IGlzIGxlZnQgaXMgdGhlIHNjaGVtZSAoaS5lLiBodHRwOi8vLFxuICAgIC8vIGZpbGU6Ly8vLCBldGMuKSwgb25lIG9yIG1vcmUgc2xhc2hlcyAoLyksIG9yIHNpbXBseSBub3RoaW5nIGF0IGFsbCwgd2VcbiAgICAvLyBoYXZlIGV4aGF1c3RlZCBhbGwgY29tcG9uZW50cywgc28gdGhlIHBhdGggaXMgbm90IHJlbGF0aXZlIHRvIHRoZSByb290LlxuICAgIGFSb290ID0gYVJvb3Quc2xpY2UoMCwgaW5kZXgpO1xuICAgIGlmIChhUm9vdC5tYXRjaCgvXihbXlxcL10rOlxcLyk/XFwvKiQvKSkge1xuICAgICAgcmV0dXJuIGFQYXRoO1xuICAgIH1cblxuICAgICsrbGV2ZWw7XG4gIH1cblxuICAvLyBNYWtlIHN1cmUgd2UgYWRkIGEgXCIuLi9cIiBmb3IgZWFjaCBjb21wb25lbnQgd2UgcmVtb3ZlZCBmcm9tIHRoZSByb290LlxuICByZXR1cm4gQXJyYXkobGV2ZWwgKyAxKS5qb2luKFwiLi4vXCIpICsgYVBhdGguc3Vic3RyKGFSb290Lmxlbmd0aCArIDEpO1xufVxuZXhwb3J0cy5yZWxhdGl2ZSA9IHJlbGF0aXZlO1xuXG52YXIgc3VwcG9ydHNOdWxsUHJvdG8gPSAoZnVuY3Rpb24gKCkge1xuICB2YXIgb2JqID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgcmV0dXJuICEoJ19fcHJvdG9fXycgaW4gb2JqKTtcbn0oKSk7XG5cbmZ1bmN0aW9uIGlkZW50aXR5IChzKSB7XG4gIHJldHVybiBzO1xufVxuXG4vKipcbiAqIEJlY2F1c2UgYmVoYXZpb3IgZ29lcyB3YWNreSB3aGVuIHlvdSBzZXQgYF9fcHJvdG9fX2Agb24gb2JqZWN0cywgd2VcbiAqIGhhdmUgdG8gcHJlZml4IGFsbCB0aGUgc3RyaW5ncyBpbiBvdXIgc2V0IHdpdGggYW4gYXJiaXRyYXJ5IGNoYXJhY3Rlci5cbiAqXG4gKiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL21vemlsbGEvc291cmNlLW1hcC9wdWxsLzMxIGFuZFxuICogaHR0cHM6Ly9naXRodWIuY29tL21vemlsbGEvc291cmNlLW1hcC9pc3N1ZXMvMzBcbiAqXG4gKiBAcGFyYW0gU3RyaW5nIGFTdHJcbiAqL1xuZnVuY3Rpb24gdG9TZXRTdHJpbmcoYVN0cikge1xuICBpZiAoaXNQcm90b1N0cmluZyhhU3RyKSkge1xuICAgIHJldHVybiAnJCcgKyBhU3RyO1xuICB9XG5cbiAgcmV0dXJuIGFTdHI7XG59XG5leHBvcnRzLnRvU2V0U3RyaW5nID0gc3VwcG9ydHNOdWxsUHJvdG8gPyBpZGVudGl0eSA6IHRvU2V0U3RyaW5nO1xuXG5mdW5jdGlvbiBmcm9tU2V0U3RyaW5nKGFTdHIpIHtcbiAgaWYgKGlzUHJvdG9TdHJpbmcoYVN0cikpIHtcbiAgICByZXR1cm4gYVN0ci5zbGljZSgxKTtcbiAgfVxuXG4gIHJldHVybiBhU3RyO1xufVxuZXhwb3J0cy5mcm9tU2V0U3RyaW5nID0gc3VwcG9ydHNOdWxsUHJvdG8gPyBpZGVudGl0eSA6IGZyb21TZXRTdHJpbmc7XG5cbmZ1bmN0aW9uIGlzUHJvdG9TdHJpbmcocykge1xuICBpZiAoIXMpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB2YXIgbGVuZ3RoID0gcy5sZW5ndGg7XG5cbiAgaWYgKGxlbmd0aCA8IDkgLyogXCJfX3Byb3RvX19cIi5sZW5ndGggKi8pIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAocy5jaGFyQ29kZUF0KGxlbmd0aCAtIDEpICE9PSA5NSAgLyogJ18nICovIHx8XG4gICAgICBzLmNoYXJDb2RlQXQobGVuZ3RoIC0gMikgIT09IDk1ICAvKiAnXycgKi8gfHxcbiAgICAgIHMuY2hhckNvZGVBdChsZW5ndGggLSAzKSAhPT0gMTExIC8qICdvJyAqLyB8fFxuICAgICAgcy5jaGFyQ29kZUF0KGxlbmd0aCAtIDQpICE9PSAxMTYgLyogJ3QnICovIHx8XG4gICAgICBzLmNoYXJDb2RlQXQobGVuZ3RoIC0gNSkgIT09IDExMSAvKiAnbycgKi8gfHxcbiAgICAgIHMuY2hhckNvZGVBdChsZW5ndGggLSA2KSAhPT0gMTE0IC8qICdyJyAqLyB8fFxuICAgICAgcy5jaGFyQ29kZUF0KGxlbmd0aCAtIDcpICE9PSAxMTIgLyogJ3AnICovIHx8XG4gICAgICBzLmNoYXJDb2RlQXQobGVuZ3RoIC0gOCkgIT09IDk1ICAvKiAnXycgKi8gfHxcbiAgICAgIHMuY2hhckNvZGVBdChsZW5ndGggLSA5KSAhPT0gOTUgIC8qICdfJyAqLykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGZvciAodmFyIGkgPSBsZW5ndGggLSAxMDsgaSA+PSAwOyBpLS0pIHtcbiAgICBpZiAocy5jaGFyQ29kZUF0KGkpICE9PSAzNiAvKiAnJCcgKi8pIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBDb21wYXJhdG9yIGJldHdlZW4gdHdvIG1hcHBpbmdzIHdoZXJlIHRoZSBvcmlnaW5hbCBwb3NpdGlvbnMgYXJlIGNvbXBhcmVkLlxuICpcbiAqIE9wdGlvbmFsbHkgcGFzcyBpbiBgdHJ1ZWAgYXMgYG9ubHlDb21wYXJlR2VuZXJhdGVkYCB0byBjb25zaWRlciB0d29cbiAqIG1hcHBpbmdzIHdpdGggdGhlIHNhbWUgb3JpZ2luYWwgc291cmNlL2xpbmUvY29sdW1uLCBidXQgZGlmZmVyZW50IGdlbmVyYXRlZFxuICogbGluZSBhbmQgY29sdW1uIHRoZSBzYW1lLiBVc2VmdWwgd2hlbiBzZWFyY2hpbmcgZm9yIGEgbWFwcGluZyB3aXRoIGFcbiAqIHN0dWJiZWQgb3V0IG1hcHBpbmcuXG4gKi9cbmZ1bmN0aW9uIGNvbXBhcmVCeU9yaWdpbmFsUG9zaXRpb25zKG1hcHBpbmdBLCBtYXBwaW5nQiwgb25seUNvbXBhcmVPcmlnaW5hbCkge1xuICB2YXIgY21wID0gc3RyY21wKG1hcHBpbmdBLnNvdXJjZSwgbWFwcGluZ0Iuc291cmNlKTtcbiAgaWYgKGNtcCAhPT0gMCkge1xuICAgIHJldHVybiBjbXA7XG4gIH1cblxuICBjbXAgPSBtYXBwaW5nQS5vcmlnaW5hbExpbmUgLSBtYXBwaW5nQi5vcmlnaW5hbExpbmU7XG4gIGlmIChjbXAgIT09IDApIHtcbiAgICByZXR1cm4gY21wO1xuICB9XG5cbiAgY21wID0gbWFwcGluZ0Eub3JpZ2luYWxDb2x1bW4gLSBtYXBwaW5nQi5vcmlnaW5hbENvbHVtbjtcbiAgaWYgKGNtcCAhPT0gMCB8fCBvbmx5Q29tcGFyZU9yaWdpbmFsKSB7XG4gICAgcmV0dXJuIGNtcDtcbiAgfVxuXG4gIGNtcCA9IG1hcHBpbmdBLmdlbmVyYXRlZENvbHVtbiAtIG1hcHBpbmdCLmdlbmVyYXRlZENvbHVtbjtcbiAgaWYgKGNtcCAhPT0gMCkge1xuICAgIHJldHVybiBjbXA7XG4gIH1cblxuICBjbXAgPSBtYXBwaW5nQS5nZW5lcmF0ZWRMaW5lIC0gbWFwcGluZ0IuZ2VuZXJhdGVkTGluZTtcbiAgaWYgKGNtcCAhPT0gMCkge1xuICAgIHJldHVybiBjbXA7XG4gIH1cblxuICByZXR1cm4gc3RyY21wKG1hcHBpbmdBLm5hbWUsIG1hcHBpbmdCLm5hbWUpO1xufVxuZXhwb3J0cy5jb21wYXJlQnlPcmlnaW5hbFBvc2l0aW9ucyA9IGNvbXBhcmVCeU9yaWdpbmFsUG9zaXRpb25zO1xuXG4vKipcbiAqIENvbXBhcmF0b3IgYmV0d2VlbiB0d28gbWFwcGluZ3Mgd2l0aCBkZWZsYXRlZCBzb3VyY2UgYW5kIG5hbWUgaW5kaWNlcyB3aGVyZVxuICogdGhlIGdlbmVyYXRlZCBwb3NpdGlvbnMgYXJlIGNvbXBhcmVkLlxuICpcbiAqIE9wdGlvbmFsbHkgcGFzcyBpbiBgdHJ1ZWAgYXMgYG9ubHlDb21wYXJlR2VuZXJhdGVkYCB0byBjb25zaWRlciB0d29cbiAqIG1hcHBpbmdzIHdpdGggdGhlIHNhbWUgZ2VuZXJhdGVkIGxpbmUgYW5kIGNvbHVtbiwgYnV0IGRpZmZlcmVudFxuICogc291cmNlL25hbWUvb3JpZ2luYWwgbGluZSBhbmQgY29sdW1uIHRoZSBzYW1lLiBVc2VmdWwgd2hlbiBzZWFyY2hpbmcgZm9yIGFcbiAqIG1hcHBpbmcgd2l0aCBhIHN0dWJiZWQgb3V0IG1hcHBpbmcuXG4gKi9cbmZ1bmN0aW9uIGNvbXBhcmVCeUdlbmVyYXRlZFBvc2l0aW9uc0RlZmxhdGVkKG1hcHBpbmdBLCBtYXBwaW5nQiwgb25seUNvbXBhcmVHZW5lcmF0ZWQpIHtcbiAgdmFyIGNtcCA9IG1hcHBpbmdBLmdlbmVyYXRlZExpbmUgLSBtYXBwaW5nQi5nZW5lcmF0ZWRMaW5lO1xuICBpZiAoY21wICE9PSAwKSB7XG4gICAgcmV0dXJuIGNtcDtcbiAgfVxuXG4gIGNtcCA9IG1hcHBpbmdBLmdlbmVyYXRlZENvbHVtbiAtIG1hcHBpbmdCLmdlbmVyYXRlZENvbHVtbjtcbiAgaWYgKGNtcCAhPT0gMCB8fCBvbmx5Q29tcGFyZUdlbmVyYXRlZCkge1xuICAgIHJldHVybiBjbXA7XG4gIH1cblxuICBjbXAgPSBzdHJjbXAobWFwcGluZ0Euc291cmNlLCBtYXBwaW5nQi5zb3VyY2UpO1xuICBpZiAoY21wICE9PSAwKSB7XG4gICAgcmV0dXJuIGNtcDtcbiAgfVxuXG4gIGNtcCA9IG1hcHBpbmdBLm9yaWdpbmFsTGluZSAtIG1hcHBpbmdCLm9yaWdpbmFsTGluZTtcbiAgaWYgKGNtcCAhPT0gMCkge1xuICAgIHJldHVybiBjbXA7XG4gIH1cblxuICBjbXAgPSBtYXBwaW5nQS5vcmlnaW5hbENvbHVtbiAtIG1hcHBpbmdCLm9yaWdpbmFsQ29sdW1uO1xuICBpZiAoY21wICE9PSAwKSB7XG4gICAgcmV0dXJuIGNtcDtcbiAgfVxuXG4gIHJldHVybiBzdHJjbXAobWFwcGluZ0EubmFtZSwgbWFwcGluZ0IubmFtZSk7XG59XG5leHBvcnRzLmNvbXBhcmVCeUdlbmVyYXRlZFBvc2l0aW9uc0RlZmxhdGVkID0gY29tcGFyZUJ5R2VuZXJhdGVkUG9zaXRpb25zRGVmbGF0ZWQ7XG5cbmZ1bmN0aW9uIHN0cmNtcChhU3RyMSwgYVN0cjIpIHtcbiAgaWYgKGFTdHIxID09PSBhU3RyMikge1xuICAgIHJldHVybiAwO1xuICB9XG5cbiAgaWYgKGFTdHIxID09PSBudWxsKSB7XG4gICAgcmV0dXJuIDE7IC8vIGFTdHIyICE9PSBudWxsXG4gIH1cblxuICBpZiAoYVN0cjIgPT09IG51bGwpIHtcbiAgICByZXR1cm4gLTE7IC8vIGFTdHIxICE9PSBudWxsXG4gIH1cblxuICBpZiAoYVN0cjEgPiBhU3RyMikge1xuICAgIHJldHVybiAxO1xuICB9XG5cbiAgcmV0dXJuIC0xO1xufVxuXG4vKipcbiAqIENvbXBhcmF0b3IgYmV0d2VlbiB0d28gbWFwcGluZ3Mgd2l0aCBpbmZsYXRlZCBzb3VyY2UgYW5kIG5hbWUgc3RyaW5ncyB3aGVyZVxuICogdGhlIGdlbmVyYXRlZCBwb3NpdGlvbnMgYXJlIGNvbXBhcmVkLlxuICovXG5mdW5jdGlvbiBjb21wYXJlQnlHZW5lcmF0ZWRQb3NpdGlvbnNJbmZsYXRlZChtYXBwaW5nQSwgbWFwcGluZ0IpIHtcbiAgdmFyIGNtcCA9IG1hcHBpbmdBLmdlbmVyYXRlZExpbmUgLSBtYXBwaW5nQi5nZW5lcmF0ZWRMaW5lO1xuICBpZiAoY21wICE9PSAwKSB7XG4gICAgcmV0dXJuIGNtcDtcbiAgfVxuXG4gIGNtcCA9IG1hcHBpbmdBLmdlbmVyYXRlZENvbHVtbiAtIG1hcHBpbmdCLmdlbmVyYXRlZENvbHVtbjtcbiAgaWYgKGNtcCAhPT0gMCkge1xuICAgIHJldHVybiBjbXA7XG4gIH1cblxuICBjbXAgPSBzdHJjbXAobWFwcGluZ0Euc291cmNlLCBtYXBwaW5nQi5zb3VyY2UpO1xuICBpZiAoY21wICE9PSAwKSB7XG4gICAgcmV0dXJuIGNtcDtcbiAgfVxuXG4gIGNtcCA9IG1hcHBpbmdBLm9yaWdpbmFsTGluZSAtIG1hcHBpbmdCLm9yaWdpbmFsTGluZTtcbiAgaWYgKGNtcCAhPT0gMCkge1xuICAgIHJldHVybiBjbXA7XG4gIH1cblxuICBjbXAgPSBtYXBwaW5nQS5vcmlnaW5hbENvbHVtbiAtIG1hcHBpbmdCLm9yaWdpbmFsQ29sdW1uO1xuICBpZiAoY21wICE9PSAwKSB7XG4gICAgcmV0dXJuIGNtcDtcbiAgfVxuXG4gIHJldHVybiBzdHJjbXAobWFwcGluZ0EubmFtZSwgbWFwcGluZ0IubmFtZSk7XG59XG5leHBvcnRzLmNvbXBhcmVCeUdlbmVyYXRlZFBvc2l0aW9uc0luZmxhdGVkID0gY29tcGFyZUJ5R2VuZXJhdGVkUG9zaXRpb25zSW5mbGF0ZWQ7XG5cbi8qKlxuICogU3RyaXAgYW55IEpTT04gWFNTSSBhdm9pZGFuY2UgcHJlZml4IGZyb20gdGhlIHN0cmluZyAoYXMgZG9jdW1lbnRlZFxuICogaW4gdGhlIHNvdXJjZSBtYXBzIHNwZWNpZmljYXRpb24pLCBhbmQgdGhlbiBwYXJzZSB0aGUgc3RyaW5nIGFzXG4gKiBKU09OLlxuICovXG5mdW5jdGlvbiBwYXJzZVNvdXJjZU1hcElucHV0KHN0cikge1xuICByZXR1cm4gSlNPTi5wYXJzZShzdHIucmVwbGFjZSgvXlxcKV19J1teXFxuXSpcXG4vLCAnJykpO1xufVxuZXhwb3J0cy5wYXJzZVNvdXJjZU1hcElucHV0ID0gcGFyc2VTb3VyY2VNYXBJbnB1dDtcblxuLyoqXG4gKiBDb21wdXRlIHRoZSBVUkwgb2YgYSBzb3VyY2UgZ2l2ZW4gdGhlIHRoZSBzb3VyY2Ugcm9vdCwgdGhlIHNvdXJjZSdzXG4gKiBVUkwsIGFuZCB0aGUgc291cmNlIG1hcCdzIFVSTC5cbiAqL1xuZnVuY3Rpb24gY29tcHV0ZVNvdXJjZVVSTChzb3VyY2VSb290LCBzb3VyY2VVUkwsIHNvdXJjZU1hcFVSTCkge1xuICBzb3VyY2VVUkwgPSBzb3VyY2VVUkwgfHwgJyc7XG5cbiAgaWYgKHNvdXJjZVJvb3QpIHtcbiAgICAvLyBUaGlzIGZvbGxvd3Mgd2hhdCBDaHJvbWUgZG9lcy5cbiAgICBpZiAoc291cmNlUm9vdFtzb3VyY2VSb290Lmxlbmd0aCAtIDFdICE9PSAnLycgJiYgc291cmNlVVJMWzBdICE9PSAnLycpIHtcbiAgICAgIHNvdXJjZVJvb3QgKz0gJy8nO1xuICAgIH1cbiAgICAvLyBUaGUgc3BlYyBzYXlzOlxuICAgIC8vICAgTGluZSA0OiBBbiBvcHRpb25hbCBzb3VyY2Ugcm9vdCwgdXNlZnVsIGZvciByZWxvY2F0aW5nIHNvdXJjZVxuICAgIC8vICAgZmlsZXMgb24gYSBzZXJ2ZXIgb3IgcmVtb3ZpbmcgcmVwZWF0ZWQgdmFsdWVzIGluIHRoZVxuICAgIC8vICAgXHUyMDFDc291cmNlc1x1MjAxRCBlbnRyeS4gIFRoaXMgdmFsdWUgaXMgcHJlcGVuZGVkIHRvIHRoZSBpbmRpdmlkdWFsXG4gICAgLy8gICBlbnRyaWVzIGluIHRoZSBcdTIwMUNzb3VyY2VcdTIwMUQgZmllbGQuXG4gICAgc291cmNlVVJMID0gc291cmNlUm9vdCArIHNvdXJjZVVSTDtcbiAgfVxuXG4gIC8vIEhpc3RvcmljYWxseSwgU291cmNlTWFwQ29uc3VtZXIgZGlkIG5vdCB0YWtlIHRoZSBzb3VyY2VNYXBVUkwgYXNcbiAgLy8gYSBwYXJhbWV0ZXIuICBUaGlzIG1vZGUgaXMgc3RpbGwgc29tZXdoYXQgc3VwcG9ydGVkLCB3aGljaCBpcyB3aHlcbiAgLy8gdGhpcyBjb2RlIGJsb2NrIGlzIGNvbmRpdGlvbmFsLiAgSG93ZXZlciwgaXQncyBwcmVmZXJhYmxlIHRvIHBhc3NcbiAgLy8gdGhlIHNvdXJjZSBtYXAgVVJMIHRvIFNvdXJjZU1hcENvbnN1bWVyLCBzbyB0aGF0IHRoaXMgZnVuY3Rpb25cbiAgLy8gY2FuIGltcGxlbWVudCB0aGUgc291cmNlIFVSTCByZXNvbHV0aW9uIGFsZ29yaXRobSBhcyBvdXRsaW5lZCBpblxuICAvLyB0aGUgc3BlYy4gIFRoaXMgYmxvY2sgaXMgYmFzaWNhbGx5IHRoZSBlcXVpdmFsZW50IG9mOlxuICAvLyAgICBuZXcgVVJMKHNvdXJjZVVSTCwgc291cmNlTWFwVVJMKS50b1N0cmluZygpXG4gIC8vIC4uLiBleGNlcHQgaXQgYXZvaWRzIHVzaW5nIFVSTCwgd2hpY2ggd2Fzbid0IGF2YWlsYWJsZSBpbiB0aGVcbiAgLy8gb2xkZXIgcmVsZWFzZXMgb2Ygbm9kZSBzdGlsbCBzdXBwb3J0ZWQgYnkgdGhpcyBsaWJyYXJ5LlxuICAvL1xuICAvLyBUaGUgc3BlYyBzYXlzOlxuICAvLyAgIElmIHRoZSBzb3VyY2VzIGFyZSBub3QgYWJzb2x1dGUgVVJMcyBhZnRlciBwcmVwZW5kaW5nIG9mIHRoZVxuICAvLyAgIFx1MjAxQ3NvdXJjZVJvb3RcdTIwMUQsIHRoZSBzb3VyY2VzIGFyZSByZXNvbHZlZCByZWxhdGl2ZSB0byB0aGVcbiAgLy8gICBTb3VyY2VNYXAgKGxpa2UgcmVzb2x2aW5nIHNjcmlwdCBzcmMgaW4gYSBodG1sIGRvY3VtZW50KS5cbiAgaWYgKHNvdXJjZU1hcFVSTCkge1xuICAgIHZhciBwYXJzZWQgPSB1cmxQYXJzZShzb3VyY2VNYXBVUkwpO1xuICAgIGlmICghcGFyc2VkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJzb3VyY2VNYXBVUkwgY291bGQgbm90IGJlIHBhcnNlZFwiKTtcbiAgICB9XG4gICAgaWYgKHBhcnNlZC5wYXRoKSB7XG4gICAgICAvLyBTdHJpcCB0aGUgbGFzdCBwYXRoIGNvbXBvbmVudCwgYnV0IGtlZXAgdGhlIFwiL1wiLlxuICAgICAgdmFyIGluZGV4ID0gcGFyc2VkLnBhdGgubGFzdEluZGV4T2YoJy8nKTtcbiAgICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgIHBhcnNlZC5wYXRoID0gcGFyc2VkLnBhdGguc3Vic3RyaW5nKDAsIGluZGV4ICsgMSk7XG4gICAgICB9XG4gICAgfVxuICAgIHNvdXJjZVVSTCA9IGpvaW4odXJsR2VuZXJhdGUocGFyc2VkKSwgc291cmNlVVJMKTtcbiAgfVxuXG4gIHJldHVybiBub3JtYWxpemUoc291cmNlVVJMKTtcbn1cbmV4cG9ydHMuY29tcHV0ZVNvdXJjZVVSTCA9IGNvbXB1dGVTb3VyY2VVUkw7XG4iLCAiLyogLSotIE1vZGU6IGpzOyBqcy1pbmRlbnQtbGV2ZWw6IDI7IC0qLSAqL1xuLypcbiAqIENvcHlyaWdodCAyMDExIE1vemlsbGEgRm91bmRhdGlvbiBhbmQgY29udHJpYnV0b3JzXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTmV3IEJTRCBsaWNlbnNlLiBTZWUgTElDRU5TRSBvcjpcbiAqIGh0dHA6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9CU0QtMy1DbGF1c2VcbiAqL1xuXG52YXIgdXRpbCA9IHJlcXVpcmUoJy4vdXRpbCcpO1xudmFyIGhhcyA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgaGFzTmF0aXZlTWFwID0gdHlwZW9mIE1hcCAhPT0gXCJ1bmRlZmluZWRcIjtcblxuLyoqXG4gKiBBIGRhdGEgc3RydWN0dXJlIHdoaWNoIGlzIGEgY29tYmluYXRpb24gb2YgYW4gYXJyYXkgYW5kIGEgc2V0LiBBZGRpbmcgYSBuZXdcbiAqIG1lbWJlciBpcyBPKDEpLCB0ZXN0aW5nIGZvciBtZW1iZXJzaGlwIGlzIE8oMSksIGFuZCBmaW5kaW5nIHRoZSBpbmRleCBvZiBhblxuICogZWxlbWVudCBpcyBPKDEpLiBSZW1vdmluZyBlbGVtZW50cyBmcm9tIHRoZSBzZXQgaXMgbm90IHN1cHBvcnRlZC4gT25seVxuICogc3RyaW5ncyBhcmUgc3VwcG9ydGVkIGZvciBtZW1iZXJzaGlwLlxuICovXG5mdW5jdGlvbiBBcnJheVNldCgpIHtcbiAgdGhpcy5fYXJyYXkgPSBbXTtcbiAgdGhpcy5fc2V0ID0gaGFzTmF0aXZlTWFwID8gbmV3IE1hcCgpIDogT2JqZWN0LmNyZWF0ZShudWxsKTtcbn1cblxuLyoqXG4gKiBTdGF0aWMgbWV0aG9kIGZvciBjcmVhdGluZyBBcnJheVNldCBpbnN0YW5jZXMgZnJvbSBhbiBleGlzdGluZyBhcnJheS5cbiAqL1xuQXJyYXlTZXQuZnJvbUFycmF5ID0gZnVuY3Rpb24gQXJyYXlTZXRfZnJvbUFycmF5KGFBcnJheSwgYUFsbG93RHVwbGljYXRlcykge1xuICB2YXIgc2V0ID0gbmV3IEFycmF5U2V0KCk7XG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBhQXJyYXkubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICBzZXQuYWRkKGFBcnJheVtpXSwgYUFsbG93RHVwbGljYXRlcyk7XG4gIH1cbiAgcmV0dXJuIHNldDtcbn07XG5cbi8qKlxuICogUmV0dXJuIGhvdyBtYW55IHVuaXF1ZSBpdGVtcyBhcmUgaW4gdGhpcyBBcnJheVNldC4gSWYgZHVwbGljYXRlcyBoYXZlIGJlZW5cbiAqIGFkZGVkLCB0aGFuIHRob3NlIGRvIG5vdCBjb3VudCB0b3dhcmRzIHRoZSBzaXplLlxuICpcbiAqIEByZXR1cm5zIE51bWJlclxuICovXG5BcnJheVNldC5wcm90b3R5cGUuc2l6ZSA9IGZ1bmN0aW9uIEFycmF5U2V0X3NpemUoKSB7XG4gIHJldHVybiBoYXNOYXRpdmVNYXAgPyB0aGlzLl9zZXQuc2l6ZSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRoaXMuX3NldCkubGVuZ3RoO1xufTtcblxuLyoqXG4gKiBBZGQgdGhlIGdpdmVuIHN0cmluZyB0byB0aGlzIHNldC5cbiAqXG4gKiBAcGFyYW0gU3RyaW5nIGFTdHJcbiAqL1xuQXJyYXlTZXQucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIEFycmF5U2V0X2FkZChhU3RyLCBhQWxsb3dEdXBsaWNhdGVzKSB7XG4gIHZhciBzU3RyID0gaGFzTmF0aXZlTWFwID8gYVN0ciA6IHV0aWwudG9TZXRTdHJpbmcoYVN0cik7XG4gIHZhciBpc0R1cGxpY2F0ZSA9IGhhc05hdGl2ZU1hcCA/IHRoaXMuaGFzKGFTdHIpIDogaGFzLmNhbGwodGhpcy5fc2V0LCBzU3RyKTtcbiAgdmFyIGlkeCA9IHRoaXMuX2FycmF5Lmxlbmd0aDtcbiAgaWYgKCFpc0R1cGxpY2F0ZSB8fCBhQWxsb3dEdXBsaWNhdGVzKSB7XG4gICAgdGhpcy5fYXJyYXkucHVzaChhU3RyKTtcbiAgfVxuICBpZiAoIWlzRHVwbGljYXRlKSB7XG4gICAgaWYgKGhhc05hdGl2ZU1hcCkge1xuICAgICAgdGhpcy5fc2V0LnNldChhU3RyLCBpZHgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9zZXRbc1N0cl0gPSBpZHg7XG4gICAgfVxuICB9XG59O1xuXG4vKipcbiAqIElzIHRoZSBnaXZlbiBzdHJpbmcgYSBtZW1iZXIgb2YgdGhpcyBzZXQ/XG4gKlxuICogQHBhcmFtIFN0cmluZyBhU3RyXG4gKi9cbkFycmF5U2V0LnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbiBBcnJheVNldF9oYXMoYVN0cikge1xuICBpZiAoaGFzTmF0aXZlTWFwKSB7XG4gICAgcmV0dXJuIHRoaXMuX3NldC5oYXMoYVN0cik7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHNTdHIgPSB1dGlsLnRvU2V0U3RyaW5nKGFTdHIpO1xuICAgIHJldHVybiBoYXMuY2FsbCh0aGlzLl9zZXQsIHNTdHIpO1xuICB9XG59O1xuXG4vKipcbiAqIFdoYXQgaXMgdGhlIGluZGV4IG9mIHRoZSBnaXZlbiBzdHJpbmcgaW4gdGhlIGFycmF5P1xuICpcbiAqIEBwYXJhbSBTdHJpbmcgYVN0clxuICovXG5BcnJheVNldC5wcm90b3R5cGUuaW5kZXhPZiA9IGZ1bmN0aW9uIEFycmF5U2V0X2luZGV4T2YoYVN0cikge1xuICBpZiAoaGFzTmF0aXZlTWFwKSB7XG4gICAgdmFyIGlkeCA9IHRoaXMuX3NldC5nZXQoYVN0cik7XG4gICAgaWYgKGlkeCA+PSAwKSB7XG4gICAgICAgIHJldHVybiBpZHg7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHZhciBzU3RyID0gdXRpbC50b1NldFN0cmluZyhhU3RyKTtcbiAgICBpZiAoaGFzLmNhbGwodGhpcy5fc2V0LCBzU3RyKSkge1xuICAgICAgcmV0dXJuIHRoaXMuX3NldFtzU3RyXTtcbiAgICB9XG4gIH1cblxuICB0aHJvdyBuZXcgRXJyb3IoJ1wiJyArIGFTdHIgKyAnXCIgaXMgbm90IGluIHRoZSBzZXQuJyk7XG59O1xuXG4vKipcbiAqIFdoYXQgaXMgdGhlIGVsZW1lbnQgYXQgdGhlIGdpdmVuIGluZGV4P1xuICpcbiAqIEBwYXJhbSBOdW1iZXIgYUlkeFxuICovXG5BcnJheVNldC5wcm90b3R5cGUuYXQgPSBmdW5jdGlvbiBBcnJheVNldF9hdChhSWR4KSB7XG4gIGlmIChhSWR4ID49IDAgJiYgYUlkeCA8IHRoaXMuX2FycmF5Lmxlbmd0aCkge1xuICAgIHJldHVybiB0aGlzLl9hcnJheVthSWR4XTtcbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IoJ05vIGVsZW1lbnQgaW5kZXhlZCBieSAnICsgYUlkeCk7XG59O1xuXG4vKipcbiAqIFJldHVybnMgdGhlIGFycmF5IHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgc2V0ICh3aGljaCBoYXMgdGhlIHByb3BlciBpbmRpY2VzXG4gKiBpbmRpY2F0ZWQgYnkgaW5kZXhPZikuIE5vdGUgdGhhdCB0aGlzIGlzIGEgY29weSBvZiB0aGUgaW50ZXJuYWwgYXJyYXkgdXNlZFxuICogZm9yIHN0b3JpbmcgdGhlIG1lbWJlcnMgc28gdGhhdCBubyBvbmUgY2FuIG1lc3Mgd2l0aCBpbnRlcm5hbCBzdGF0ZS5cbiAqL1xuQXJyYXlTZXQucHJvdG90eXBlLnRvQXJyYXkgPSBmdW5jdGlvbiBBcnJheVNldF90b0FycmF5KCkge1xuICByZXR1cm4gdGhpcy5fYXJyYXkuc2xpY2UoKTtcbn07XG5cbmV4cG9ydHMuQXJyYXlTZXQgPSBBcnJheVNldDtcbiIsICIvKiAtKi0gTW9kZToganM7IGpzLWluZGVudC1sZXZlbDogMjsgLSotICovXG4vKlxuICogQ29weXJpZ2h0IDIwMTQgTW96aWxsYSBGb3VuZGF0aW9uIGFuZCBjb250cmlidXRvcnNcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBOZXcgQlNEIGxpY2Vuc2UuIFNlZSBMSUNFTlNFIG9yOlxuICogaHR0cDovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL0JTRC0zLUNsYXVzZVxuICovXG5cbnZhciB1dGlsID0gcmVxdWlyZSgnLi91dGlsJyk7XG5cbi8qKlxuICogRGV0ZXJtaW5lIHdoZXRoZXIgbWFwcGluZ0IgaXMgYWZ0ZXIgbWFwcGluZ0Egd2l0aCByZXNwZWN0IHRvIGdlbmVyYXRlZFxuICogcG9zaXRpb24uXG4gKi9cbmZ1bmN0aW9uIGdlbmVyYXRlZFBvc2l0aW9uQWZ0ZXIobWFwcGluZ0EsIG1hcHBpbmdCKSB7XG4gIC8vIE9wdGltaXplZCBmb3IgbW9zdCBjb21tb24gY2FzZVxuICB2YXIgbGluZUEgPSBtYXBwaW5nQS5nZW5lcmF0ZWRMaW5lO1xuICB2YXIgbGluZUIgPSBtYXBwaW5nQi5nZW5lcmF0ZWRMaW5lO1xuICB2YXIgY29sdW1uQSA9IG1hcHBpbmdBLmdlbmVyYXRlZENvbHVtbjtcbiAgdmFyIGNvbHVtbkIgPSBtYXBwaW5nQi5nZW5lcmF0ZWRDb2x1bW47XG4gIHJldHVybiBsaW5lQiA+IGxpbmVBIHx8IGxpbmVCID09IGxpbmVBICYmIGNvbHVtbkIgPj0gY29sdW1uQSB8fFxuICAgICAgICAgdXRpbC5jb21wYXJlQnlHZW5lcmF0ZWRQb3NpdGlvbnNJbmZsYXRlZChtYXBwaW5nQSwgbWFwcGluZ0IpIDw9IDA7XG59XG5cbi8qKlxuICogQSBkYXRhIHN0cnVjdHVyZSB0byBwcm92aWRlIGEgc29ydGVkIHZpZXcgb2YgYWNjdW11bGF0ZWQgbWFwcGluZ3MgaW4gYVxuICogcGVyZm9ybWFuY2UgY29uc2Npb3VzIG1hbm5lci4gSXQgdHJhZGVzIGEgbmVnbGliYWJsZSBvdmVyaGVhZCBpbiBnZW5lcmFsXG4gKiBjYXNlIGZvciBhIGxhcmdlIHNwZWVkdXAgaW4gY2FzZSBvZiBtYXBwaW5ncyBiZWluZyBhZGRlZCBpbiBvcmRlci5cbiAqL1xuZnVuY3Rpb24gTWFwcGluZ0xpc3QoKSB7XG4gIHRoaXMuX2FycmF5ID0gW107XG4gIHRoaXMuX3NvcnRlZCA9IHRydWU7XG4gIC8vIFNlcnZlcyBhcyBpbmZpbXVtXG4gIHRoaXMuX2xhc3QgPSB7Z2VuZXJhdGVkTGluZTogLTEsIGdlbmVyYXRlZENvbHVtbjogMH07XG59XG5cbi8qKlxuICogSXRlcmF0ZSB0aHJvdWdoIGludGVybmFsIGl0ZW1zLiBUaGlzIG1ldGhvZCB0YWtlcyB0aGUgc2FtZSBhcmd1bWVudHMgdGhhdFxuICogYEFycmF5LnByb3RvdHlwZS5mb3JFYWNoYCB0YWtlcy5cbiAqXG4gKiBOT1RFOiBUaGUgb3JkZXIgb2YgdGhlIG1hcHBpbmdzIGlzIE5PVCBndWFyYW50ZWVkLlxuICovXG5NYXBwaW5nTGlzdC5wcm90b3R5cGUudW5zb3J0ZWRGb3JFYWNoID1cbiAgZnVuY3Rpb24gTWFwcGluZ0xpc3RfZm9yRWFjaChhQ2FsbGJhY2ssIGFUaGlzQXJnKSB7XG4gICAgdGhpcy5fYXJyYXkuZm9yRWFjaChhQ2FsbGJhY2ssIGFUaGlzQXJnKTtcbiAgfTtcblxuLyoqXG4gKiBBZGQgdGhlIGdpdmVuIHNvdXJjZSBtYXBwaW5nLlxuICpcbiAqIEBwYXJhbSBPYmplY3QgYU1hcHBpbmdcbiAqL1xuTWFwcGluZ0xpc3QucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIE1hcHBpbmdMaXN0X2FkZChhTWFwcGluZykge1xuICBpZiAoZ2VuZXJhdGVkUG9zaXRpb25BZnRlcih0aGlzLl9sYXN0LCBhTWFwcGluZykpIHtcbiAgICB0aGlzLl9sYXN0ID0gYU1hcHBpbmc7XG4gICAgdGhpcy5fYXJyYXkucHVzaChhTWFwcGluZyk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5fc29ydGVkID0gZmFsc2U7XG4gICAgdGhpcy5fYXJyYXkucHVzaChhTWFwcGluZyk7XG4gIH1cbn07XG5cbi8qKlxuICogUmV0dXJucyB0aGUgZmxhdCwgc29ydGVkIGFycmF5IG9mIG1hcHBpbmdzLiBUaGUgbWFwcGluZ3MgYXJlIHNvcnRlZCBieVxuICogZ2VuZXJhdGVkIHBvc2l0aW9uLlxuICpcbiAqIFdBUk5JTkc6IFRoaXMgbWV0aG9kIHJldHVybnMgaW50ZXJuYWwgZGF0YSB3aXRob3V0IGNvcHlpbmcsIGZvclxuICogcGVyZm9ybWFuY2UuIFRoZSByZXR1cm4gdmFsdWUgbXVzdCBOT1QgYmUgbXV0YXRlZCwgYW5kIHNob3VsZCBiZSB0cmVhdGVkIGFzXG4gKiBhbiBpbW11dGFibGUgYm9ycm93LiBJZiB5b3Ugd2FudCB0byB0YWtlIG93bmVyc2hpcCwgeW91IG11c3QgbWFrZSB5b3VyIG93blxuICogY29weS5cbiAqL1xuTWFwcGluZ0xpc3QucHJvdG90eXBlLnRvQXJyYXkgPSBmdW5jdGlvbiBNYXBwaW5nTGlzdF90b0FycmF5KCkge1xuICBpZiAoIXRoaXMuX3NvcnRlZCkge1xuICAgIHRoaXMuX2FycmF5LnNvcnQodXRpbC5jb21wYXJlQnlHZW5lcmF0ZWRQb3NpdGlvbnNJbmZsYXRlZCk7XG4gICAgdGhpcy5fc29ydGVkID0gdHJ1ZTtcbiAgfVxuICByZXR1cm4gdGhpcy5fYXJyYXk7XG59O1xuXG5leHBvcnRzLk1hcHBpbmdMaXN0ID0gTWFwcGluZ0xpc3Q7XG4iLCAiLyogLSotIE1vZGU6IGpzOyBqcy1pbmRlbnQtbGV2ZWw6IDI7IC0qLSAqL1xuLypcbiAqIENvcHlyaWdodCAyMDExIE1vemlsbGEgRm91bmRhdGlvbiBhbmQgY29udHJpYnV0b3JzXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTmV3IEJTRCBsaWNlbnNlLiBTZWUgTElDRU5TRSBvcjpcbiAqIGh0dHA6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9CU0QtMy1DbGF1c2VcbiAqL1xuXG52YXIgYmFzZTY0VkxRID0gcmVxdWlyZSgnLi9iYXNlNjQtdmxxJyk7XG52YXIgdXRpbCA9IHJlcXVpcmUoJy4vdXRpbCcpO1xudmFyIEFycmF5U2V0ID0gcmVxdWlyZSgnLi9hcnJheS1zZXQnKS5BcnJheVNldDtcbnZhciBNYXBwaW5nTGlzdCA9IHJlcXVpcmUoJy4vbWFwcGluZy1saXN0JykuTWFwcGluZ0xpc3Q7XG5cbi8qKlxuICogQW4gaW5zdGFuY2Ugb2YgdGhlIFNvdXJjZU1hcEdlbmVyYXRvciByZXByZXNlbnRzIGEgc291cmNlIG1hcCB3aGljaCBpc1xuICogYmVpbmcgYnVpbHQgaW5jcmVtZW50YWxseS4gWW91IG1heSBwYXNzIGFuIG9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmdcbiAqIHByb3BlcnRpZXM6XG4gKlxuICogICAtIGZpbGU6IFRoZSBmaWxlbmFtZSBvZiB0aGUgZ2VuZXJhdGVkIHNvdXJjZS5cbiAqICAgLSBzb3VyY2VSb290OiBBIHJvb3QgZm9yIGFsbCByZWxhdGl2ZSBVUkxzIGluIHRoaXMgc291cmNlIG1hcC5cbiAqL1xuZnVuY3Rpb24gU291cmNlTWFwR2VuZXJhdG9yKGFBcmdzKSB7XG4gIGlmICghYUFyZ3MpIHtcbiAgICBhQXJncyA9IHt9O1xuICB9XG4gIHRoaXMuX2ZpbGUgPSB1dGlsLmdldEFyZyhhQXJncywgJ2ZpbGUnLCBudWxsKTtcbiAgdGhpcy5fc291cmNlUm9vdCA9IHV0aWwuZ2V0QXJnKGFBcmdzLCAnc291cmNlUm9vdCcsIG51bGwpO1xuICB0aGlzLl9za2lwVmFsaWRhdGlvbiA9IHV0aWwuZ2V0QXJnKGFBcmdzLCAnc2tpcFZhbGlkYXRpb24nLCBmYWxzZSk7XG4gIHRoaXMuX3NvdXJjZXMgPSBuZXcgQXJyYXlTZXQoKTtcbiAgdGhpcy5fbmFtZXMgPSBuZXcgQXJyYXlTZXQoKTtcbiAgdGhpcy5fbWFwcGluZ3MgPSBuZXcgTWFwcGluZ0xpc3QoKTtcbiAgdGhpcy5fc291cmNlc0NvbnRlbnRzID0gbnVsbDtcbn1cblxuU291cmNlTWFwR2VuZXJhdG9yLnByb3RvdHlwZS5fdmVyc2lvbiA9IDM7XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBTb3VyY2VNYXBHZW5lcmF0b3IgYmFzZWQgb24gYSBTb3VyY2VNYXBDb25zdW1lclxuICpcbiAqIEBwYXJhbSBhU291cmNlTWFwQ29uc3VtZXIgVGhlIFNvdXJjZU1hcC5cbiAqL1xuU291cmNlTWFwR2VuZXJhdG9yLmZyb21Tb3VyY2VNYXAgPVxuICBmdW5jdGlvbiBTb3VyY2VNYXBHZW5lcmF0b3JfZnJvbVNvdXJjZU1hcChhU291cmNlTWFwQ29uc3VtZXIpIHtcbiAgICB2YXIgc291cmNlUm9vdCA9IGFTb3VyY2VNYXBDb25zdW1lci5zb3VyY2VSb290O1xuICAgIHZhciBnZW5lcmF0b3IgPSBuZXcgU291cmNlTWFwR2VuZXJhdG9yKHtcbiAgICAgIGZpbGU6IGFTb3VyY2VNYXBDb25zdW1lci5maWxlLFxuICAgICAgc291cmNlUm9vdDogc291cmNlUm9vdFxuICAgIH0pO1xuICAgIGFTb3VyY2VNYXBDb25zdW1lci5lYWNoTWFwcGluZyhmdW5jdGlvbiAobWFwcGluZykge1xuICAgICAgdmFyIG5ld01hcHBpbmcgPSB7XG4gICAgICAgIGdlbmVyYXRlZDoge1xuICAgICAgICAgIGxpbmU6IG1hcHBpbmcuZ2VuZXJhdGVkTGluZSxcbiAgICAgICAgICBjb2x1bW46IG1hcHBpbmcuZ2VuZXJhdGVkQ29sdW1uXG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGlmIChtYXBwaW5nLnNvdXJjZSAhPSBudWxsKSB7XG4gICAgICAgIG5ld01hcHBpbmcuc291cmNlID0gbWFwcGluZy5zb3VyY2U7XG4gICAgICAgIGlmIChzb3VyY2VSb290ICE9IG51bGwpIHtcbiAgICAgICAgICBuZXdNYXBwaW5nLnNvdXJjZSA9IHV0aWwucmVsYXRpdmUoc291cmNlUm9vdCwgbmV3TWFwcGluZy5zb3VyY2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgbmV3TWFwcGluZy5vcmlnaW5hbCA9IHtcbiAgICAgICAgICBsaW5lOiBtYXBwaW5nLm9yaWdpbmFsTGluZSxcbiAgICAgICAgICBjb2x1bW46IG1hcHBpbmcub3JpZ2luYWxDb2x1bW5cbiAgICAgICAgfTtcblxuICAgICAgICBpZiAobWFwcGluZy5uYW1lICE9IG51bGwpIHtcbiAgICAgICAgICBuZXdNYXBwaW5nLm5hbWUgPSBtYXBwaW5nLm5hbWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZ2VuZXJhdG9yLmFkZE1hcHBpbmcobmV3TWFwcGluZyk7XG4gICAgfSk7XG4gICAgYVNvdXJjZU1hcENvbnN1bWVyLnNvdXJjZXMuZm9yRWFjaChmdW5jdGlvbiAoc291cmNlRmlsZSkge1xuICAgICAgdmFyIHNvdXJjZVJlbGF0aXZlID0gc291cmNlRmlsZTtcbiAgICAgIGlmIChzb3VyY2VSb290ICE9PSBudWxsKSB7XG4gICAgICAgIHNvdXJjZVJlbGF0aXZlID0gdXRpbC5yZWxhdGl2ZShzb3VyY2VSb290LCBzb3VyY2VGaWxlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFnZW5lcmF0b3IuX3NvdXJjZXMuaGFzKHNvdXJjZVJlbGF0aXZlKSkge1xuICAgICAgICBnZW5lcmF0b3IuX3NvdXJjZXMuYWRkKHNvdXJjZVJlbGF0aXZlKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGNvbnRlbnQgPSBhU291cmNlTWFwQ29uc3VtZXIuc291cmNlQ29udGVudEZvcihzb3VyY2VGaWxlKTtcbiAgICAgIGlmIChjb250ZW50ICE9IG51bGwpIHtcbiAgICAgICAgZ2VuZXJhdG9yLnNldFNvdXJjZUNvbnRlbnQoc291cmNlRmlsZSwgY29udGVudCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGdlbmVyYXRvcjtcbiAgfTtcblxuLyoqXG4gKiBBZGQgYSBzaW5nbGUgbWFwcGluZyBmcm9tIG9yaWdpbmFsIHNvdXJjZSBsaW5lIGFuZCBjb2x1bW4gdG8gdGhlIGdlbmVyYXRlZFxuICogc291cmNlJ3MgbGluZSBhbmQgY29sdW1uIGZvciB0aGlzIHNvdXJjZSBtYXAgYmVpbmcgY3JlYXRlZC4gVGhlIG1hcHBpbmdcbiAqIG9iamVjdCBzaG91bGQgaGF2ZSB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gKlxuICogICAtIGdlbmVyYXRlZDogQW4gb2JqZWN0IHdpdGggdGhlIGdlbmVyYXRlZCBsaW5lIGFuZCBjb2x1bW4gcG9zaXRpb25zLlxuICogICAtIG9yaWdpbmFsOiBBbiBvYmplY3Qgd2l0aCB0aGUgb3JpZ2luYWwgbGluZSBhbmQgY29sdW1uIHBvc2l0aW9ucy5cbiAqICAgLSBzb3VyY2U6IFRoZSBvcmlnaW5hbCBzb3VyY2UgZmlsZSAocmVsYXRpdmUgdG8gdGhlIHNvdXJjZVJvb3QpLlxuICogICAtIG5hbWU6IEFuIG9wdGlvbmFsIG9yaWdpbmFsIHRva2VuIG5hbWUgZm9yIHRoaXMgbWFwcGluZy5cbiAqL1xuU291cmNlTWFwR2VuZXJhdG9yLnByb3RvdHlwZS5hZGRNYXBwaW5nID1cbiAgZnVuY3Rpb24gU291cmNlTWFwR2VuZXJhdG9yX2FkZE1hcHBpbmcoYUFyZ3MpIHtcbiAgICB2YXIgZ2VuZXJhdGVkID0gdXRpbC5nZXRBcmcoYUFyZ3MsICdnZW5lcmF0ZWQnKTtcbiAgICB2YXIgb3JpZ2luYWwgPSB1dGlsLmdldEFyZyhhQXJncywgJ29yaWdpbmFsJywgbnVsbCk7XG4gICAgdmFyIHNvdXJjZSA9IHV0aWwuZ2V0QXJnKGFBcmdzLCAnc291cmNlJywgbnVsbCk7XG4gICAgdmFyIG5hbWUgPSB1dGlsLmdldEFyZyhhQXJncywgJ25hbWUnLCBudWxsKTtcblxuICAgIGlmICghdGhpcy5fc2tpcFZhbGlkYXRpb24pIHtcbiAgICAgIHRoaXMuX3ZhbGlkYXRlTWFwcGluZyhnZW5lcmF0ZWQsIG9yaWdpbmFsLCBzb3VyY2UsIG5hbWUpO1xuICAgIH1cblxuICAgIGlmIChzb3VyY2UgIT0gbnVsbCkge1xuICAgICAgc291cmNlID0gU3RyaW5nKHNvdXJjZSk7XG4gICAgICBpZiAoIXRoaXMuX3NvdXJjZXMuaGFzKHNvdXJjZSkpIHtcbiAgICAgICAgdGhpcy5fc291cmNlcy5hZGQoc291cmNlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAobmFtZSAhPSBudWxsKSB7XG4gICAgICBuYW1lID0gU3RyaW5nKG5hbWUpO1xuICAgICAgaWYgKCF0aGlzLl9uYW1lcy5oYXMobmFtZSkpIHtcbiAgICAgICAgdGhpcy5fbmFtZXMuYWRkKG5hbWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuX21hcHBpbmdzLmFkZCh7XG4gICAgICBnZW5lcmF0ZWRMaW5lOiBnZW5lcmF0ZWQubGluZSxcbiAgICAgIGdlbmVyYXRlZENvbHVtbjogZ2VuZXJhdGVkLmNvbHVtbixcbiAgICAgIG9yaWdpbmFsTGluZTogb3JpZ2luYWwgIT0gbnVsbCAmJiBvcmlnaW5hbC5saW5lLFxuICAgICAgb3JpZ2luYWxDb2x1bW46IG9yaWdpbmFsICE9IG51bGwgJiYgb3JpZ2luYWwuY29sdW1uLFxuICAgICAgc291cmNlOiBzb3VyY2UsXG4gICAgICBuYW1lOiBuYW1lXG4gICAgfSk7XG4gIH07XG5cbi8qKlxuICogU2V0IHRoZSBzb3VyY2UgY29udGVudCBmb3IgYSBzb3VyY2UgZmlsZS5cbiAqL1xuU291cmNlTWFwR2VuZXJhdG9yLnByb3RvdHlwZS5zZXRTb3VyY2VDb250ZW50ID1cbiAgZnVuY3Rpb24gU291cmNlTWFwR2VuZXJhdG9yX3NldFNvdXJjZUNvbnRlbnQoYVNvdXJjZUZpbGUsIGFTb3VyY2VDb250ZW50KSB7XG4gICAgdmFyIHNvdXJjZSA9IGFTb3VyY2VGaWxlO1xuICAgIGlmICh0aGlzLl9zb3VyY2VSb290ICE9IG51bGwpIHtcbiAgICAgIHNvdXJjZSA9IHV0aWwucmVsYXRpdmUodGhpcy5fc291cmNlUm9vdCwgc291cmNlKTtcbiAgICB9XG5cbiAgICBpZiAoYVNvdXJjZUNvbnRlbnQgIT0gbnVsbCkge1xuICAgICAgLy8gQWRkIHRoZSBzb3VyY2UgY29udGVudCB0byB0aGUgX3NvdXJjZXNDb250ZW50cyBtYXAuXG4gICAgICAvLyBDcmVhdGUgYSBuZXcgX3NvdXJjZXNDb250ZW50cyBtYXAgaWYgdGhlIHByb3BlcnR5IGlzIG51bGwuXG4gICAgICBpZiAoIXRoaXMuX3NvdXJjZXNDb250ZW50cykge1xuICAgICAgICB0aGlzLl9zb3VyY2VzQ29udGVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgfVxuICAgICAgdGhpcy5fc291cmNlc0NvbnRlbnRzW3V0aWwudG9TZXRTdHJpbmcoc291cmNlKV0gPSBhU291cmNlQ29udGVudDtcbiAgICB9IGVsc2UgaWYgKHRoaXMuX3NvdXJjZXNDb250ZW50cykge1xuICAgICAgLy8gUmVtb3ZlIHRoZSBzb3VyY2UgZmlsZSBmcm9tIHRoZSBfc291cmNlc0NvbnRlbnRzIG1hcC5cbiAgICAgIC8vIElmIHRoZSBfc291cmNlc0NvbnRlbnRzIG1hcCBpcyBlbXB0eSwgc2V0IHRoZSBwcm9wZXJ0eSB0byBudWxsLlxuICAgICAgZGVsZXRlIHRoaXMuX3NvdXJjZXNDb250ZW50c1t1dGlsLnRvU2V0U3RyaW5nKHNvdXJjZSldO1xuICAgICAgaWYgKE9iamVjdC5rZXlzKHRoaXMuX3NvdXJjZXNDb250ZW50cykubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRoaXMuX3NvdXJjZXNDb250ZW50cyA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4vKipcbiAqIEFwcGxpZXMgdGhlIG1hcHBpbmdzIG9mIGEgc3ViLXNvdXJjZS1tYXAgZm9yIGEgc3BlY2lmaWMgc291cmNlIGZpbGUgdG8gdGhlXG4gKiBzb3VyY2UgbWFwIGJlaW5nIGdlbmVyYXRlZC4gRWFjaCBtYXBwaW5nIHRvIHRoZSBzdXBwbGllZCBzb3VyY2UgZmlsZSBpc1xuICogcmV3cml0dGVuIHVzaW5nIHRoZSBzdXBwbGllZCBzb3VyY2UgbWFwLiBOb3RlOiBUaGUgcmVzb2x1dGlvbiBmb3IgdGhlXG4gKiByZXN1bHRpbmcgbWFwcGluZ3MgaXMgdGhlIG1pbmltaXVtIG9mIHRoaXMgbWFwIGFuZCB0aGUgc3VwcGxpZWQgbWFwLlxuICpcbiAqIEBwYXJhbSBhU291cmNlTWFwQ29uc3VtZXIgVGhlIHNvdXJjZSBtYXAgdG8gYmUgYXBwbGllZC5cbiAqIEBwYXJhbSBhU291cmNlRmlsZSBPcHRpb25hbC4gVGhlIGZpbGVuYW1lIG9mIHRoZSBzb3VyY2UgZmlsZS5cbiAqICAgICAgICBJZiBvbWl0dGVkLCBTb3VyY2VNYXBDb25zdW1lcidzIGZpbGUgcHJvcGVydHkgd2lsbCBiZSB1c2VkLlxuICogQHBhcmFtIGFTb3VyY2VNYXBQYXRoIE9wdGlvbmFsLiBUaGUgZGlybmFtZSBvZiB0aGUgcGF0aCB0byB0aGUgc291cmNlIG1hcFxuICogICAgICAgIHRvIGJlIGFwcGxpZWQuIElmIHJlbGF0aXZlLCBpdCBpcyByZWxhdGl2ZSB0byB0aGUgU291cmNlTWFwQ29uc3VtZXIuXG4gKiAgICAgICAgVGhpcyBwYXJhbWV0ZXIgaXMgbmVlZGVkIHdoZW4gdGhlIHR3byBzb3VyY2UgbWFwcyBhcmVuJ3QgaW4gdGhlIHNhbWVcbiAqICAgICAgICBkaXJlY3RvcnksIGFuZCB0aGUgc291cmNlIG1hcCB0byBiZSBhcHBsaWVkIGNvbnRhaW5zIHJlbGF0aXZlIHNvdXJjZVxuICogICAgICAgIHBhdGhzLiBJZiBzbywgdGhvc2UgcmVsYXRpdmUgc291cmNlIHBhdGhzIG5lZWQgdG8gYmUgcmV3cml0dGVuXG4gKiAgICAgICAgcmVsYXRpdmUgdG8gdGhlIFNvdXJjZU1hcEdlbmVyYXRvci5cbiAqL1xuU291cmNlTWFwR2VuZXJhdG9yLnByb3RvdHlwZS5hcHBseVNvdXJjZU1hcCA9XG4gIGZ1bmN0aW9uIFNvdXJjZU1hcEdlbmVyYXRvcl9hcHBseVNvdXJjZU1hcChhU291cmNlTWFwQ29uc3VtZXIsIGFTb3VyY2VGaWxlLCBhU291cmNlTWFwUGF0aCkge1xuICAgIHZhciBzb3VyY2VGaWxlID0gYVNvdXJjZUZpbGU7XG4gICAgLy8gSWYgYVNvdXJjZUZpbGUgaXMgb21pdHRlZCwgd2Ugd2lsbCB1c2UgdGhlIGZpbGUgcHJvcGVydHkgb2YgdGhlIFNvdXJjZU1hcFxuICAgIGlmIChhU291cmNlRmlsZSA9PSBudWxsKSB7XG4gICAgICBpZiAoYVNvdXJjZU1hcENvbnN1bWVyLmZpbGUgPT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgJ1NvdXJjZU1hcEdlbmVyYXRvci5wcm90b3R5cGUuYXBwbHlTb3VyY2VNYXAgcmVxdWlyZXMgZWl0aGVyIGFuIGV4cGxpY2l0IHNvdXJjZSBmaWxlLCAnICtcbiAgICAgICAgICAnb3IgdGhlIHNvdXJjZSBtYXBcXCdzIFwiZmlsZVwiIHByb3BlcnR5LiBCb3RoIHdlcmUgb21pdHRlZC4nXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBzb3VyY2VGaWxlID0gYVNvdXJjZU1hcENvbnN1bWVyLmZpbGU7XG4gICAgfVxuICAgIHZhciBzb3VyY2VSb290ID0gdGhpcy5fc291cmNlUm9vdDtcbiAgICAvLyBNYWtlIFwic291cmNlRmlsZVwiIHJlbGF0aXZlIGlmIGFuIGFic29sdXRlIFVybCBpcyBwYXNzZWQuXG4gICAgaWYgKHNvdXJjZVJvb3QgIT0gbnVsbCkge1xuICAgICAgc291cmNlRmlsZSA9IHV0aWwucmVsYXRpdmUoc291cmNlUm9vdCwgc291cmNlRmlsZSk7XG4gICAgfVxuICAgIC8vIEFwcGx5aW5nIHRoZSBTb3VyY2VNYXAgY2FuIGFkZCBhbmQgcmVtb3ZlIGl0ZW1zIGZyb20gdGhlIHNvdXJjZXMgYW5kXG4gICAgLy8gdGhlIG5hbWVzIGFycmF5LlxuICAgIHZhciBuZXdTb3VyY2VzID0gbmV3IEFycmF5U2V0KCk7XG4gICAgdmFyIG5ld05hbWVzID0gbmV3IEFycmF5U2V0KCk7XG5cbiAgICAvLyBGaW5kIG1hcHBpbmdzIGZvciB0aGUgXCJzb3VyY2VGaWxlXCJcbiAgICB0aGlzLl9tYXBwaW5ncy51bnNvcnRlZEZvckVhY2goZnVuY3Rpb24gKG1hcHBpbmcpIHtcbiAgICAgIGlmIChtYXBwaW5nLnNvdXJjZSA9PT0gc291cmNlRmlsZSAmJiBtYXBwaW5nLm9yaWdpbmFsTGluZSAhPSBudWxsKSB7XG4gICAgICAgIC8vIENoZWNrIGlmIGl0IGNhbiBiZSBtYXBwZWQgYnkgdGhlIHNvdXJjZSBtYXAsIHRoZW4gdXBkYXRlIHRoZSBtYXBwaW5nLlxuICAgICAgICB2YXIgb3JpZ2luYWwgPSBhU291cmNlTWFwQ29uc3VtZXIub3JpZ2luYWxQb3NpdGlvbkZvcih7XG4gICAgICAgICAgbGluZTogbWFwcGluZy5vcmlnaW5hbExpbmUsXG4gICAgICAgICAgY29sdW1uOiBtYXBwaW5nLm9yaWdpbmFsQ29sdW1uXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAob3JpZ2luYWwuc291cmNlICE9IG51bGwpIHtcbiAgICAgICAgICAvLyBDb3B5IG1hcHBpbmdcbiAgICAgICAgICBtYXBwaW5nLnNvdXJjZSA9IG9yaWdpbmFsLnNvdXJjZTtcbiAgICAgICAgICBpZiAoYVNvdXJjZU1hcFBhdGggIT0gbnVsbCkge1xuICAgICAgICAgICAgbWFwcGluZy5zb3VyY2UgPSB1dGlsLmpvaW4oYVNvdXJjZU1hcFBhdGgsIG1hcHBpbmcuc291cmNlKVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoc291cmNlUm9vdCAhPSBudWxsKSB7XG4gICAgICAgICAgICBtYXBwaW5nLnNvdXJjZSA9IHV0aWwucmVsYXRpdmUoc291cmNlUm9vdCwgbWFwcGluZy5zb3VyY2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtYXBwaW5nLm9yaWdpbmFsTGluZSA9IG9yaWdpbmFsLmxpbmU7XG4gICAgICAgICAgbWFwcGluZy5vcmlnaW5hbENvbHVtbiA9IG9yaWdpbmFsLmNvbHVtbjtcbiAgICAgICAgICBpZiAob3JpZ2luYWwubmFtZSAhPSBudWxsKSB7XG4gICAgICAgICAgICBtYXBwaW5nLm5hbWUgPSBvcmlnaW5hbC5uYW1lO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgc291cmNlID0gbWFwcGluZy5zb3VyY2U7XG4gICAgICBpZiAoc291cmNlICE9IG51bGwgJiYgIW5ld1NvdXJjZXMuaGFzKHNvdXJjZSkpIHtcbiAgICAgICAgbmV3U291cmNlcy5hZGQoc291cmNlKTtcbiAgICAgIH1cblxuICAgICAgdmFyIG5hbWUgPSBtYXBwaW5nLm5hbWU7XG4gICAgICBpZiAobmFtZSAhPSBudWxsICYmICFuZXdOYW1lcy5oYXMobmFtZSkpIHtcbiAgICAgICAgbmV3TmFtZXMuYWRkKG5hbWUpO1xuICAgICAgfVxuXG4gICAgfSwgdGhpcyk7XG4gICAgdGhpcy5fc291cmNlcyA9IG5ld1NvdXJjZXM7XG4gICAgdGhpcy5fbmFtZXMgPSBuZXdOYW1lcztcblxuICAgIC8vIENvcHkgc291cmNlc0NvbnRlbnRzIG9mIGFwcGxpZWQgbWFwLlxuICAgIGFTb3VyY2VNYXBDb25zdW1lci5zb3VyY2VzLmZvckVhY2goZnVuY3Rpb24gKHNvdXJjZUZpbGUpIHtcbiAgICAgIHZhciBjb250ZW50ID0gYVNvdXJjZU1hcENvbnN1bWVyLnNvdXJjZUNvbnRlbnRGb3Ioc291cmNlRmlsZSk7XG4gICAgICBpZiAoY29udGVudCAhPSBudWxsKSB7XG4gICAgICAgIGlmIChhU291cmNlTWFwUGF0aCAhPSBudWxsKSB7XG4gICAgICAgICAgc291cmNlRmlsZSA9IHV0aWwuam9pbihhU291cmNlTWFwUGF0aCwgc291cmNlRmlsZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNvdXJjZVJvb3QgIT0gbnVsbCkge1xuICAgICAgICAgIHNvdXJjZUZpbGUgPSB1dGlsLnJlbGF0aXZlKHNvdXJjZVJvb3QsIHNvdXJjZUZpbGUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0U291cmNlQ29udGVudChzb3VyY2VGaWxlLCBjb250ZW50KTtcbiAgICAgIH1cbiAgICB9LCB0aGlzKTtcbiAgfTtcblxuLyoqXG4gKiBBIG1hcHBpbmcgY2FuIGhhdmUgb25lIG9mIHRoZSB0aHJlZSBsZXZlbHMgb2YgZGF0YTpcbiAqXG4gKiAgIDEuIEp1c3QgdGhlIGdlbmVyYXRlZCBwb3NpdGlvbi5cbiAqICAgMi4gVGhlIEdlbmVyYXRlZCBwb3NpdGlvbiwgb3JpZ2luYWwgcG9zaXRpb24sIGFuZCBvcmlnaW5hbCBzb3VyY2UuXG4gKiAgIDMuIEdlbmVyYXRlZCBhbmQgb3JpZ2luYWwgcG9zaXRpb24sIG9yaWdpbmFsIHNvdXJjZSwgYXMgd2VsbCBhcyBhIG5hbWVcbiAqICAgICAgdG9rZW4uXG4gKlxuICogVG8gbWFpbnRhaW4gY29uc2lzdGVuY3ksIHdlIHZhbGlkYXRlIHRoYXQgYW55IG5ldyBtYXBwaW5nIGJlaW5nIGFkZGVkIGZhbGxzXG4gKiBpbiB0byBvbmUgb2YgdGhlc2UgY2F0ZWdvcmllcy5cbiAqL1xuU291cmNlTWFwR2VuZXJhdG9yLnByb3RvdHlwZS5fdmFsaWRhdGVNYXBwaW5nID1cbiAgZnVuY3Rpb24gU291cmNlTWFwR2VuZXJhdG9yX3ZhbGlkYXRlTWFwcGluZyhhR2VuZXJhdGVkLCBhT3JpZ2luYWwsIGFTb3VyY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYU5hbWUpIHtcbiAgICAvLyBXaGVuIGFPcmlnaW5hbCBpcyB0cnV0aHkgYnV0IGhhcyBlbXB0eSB2YWx1ZXMgZm9yIC5saW5lIGFuZCAuY29sdW1uLFxuICAgIC8vIGl0IGlzIG1vc3QgbGlrZWx5IGEgcHJvZ3JhbW1lciBlcnJvci4gSW4gdGhpcyBjYXNlIHdlIHRocm93IGEgdmVyeVxuICAgIC8vIHNwZWNpZmljIGVycm9yIG1lc3NhZ2UgdG8gdHJ5IHRvIGd1aWRlIHRoZW0gdGhlIHJpZ2h0IHdheS5cbiAgICAvLyBGb3IgZXhhbXBsZTogaHR0cHM6Ly9naXRodWIuY29tL1BvbHltZXIvcG9seW1lci1idW5kbGVyL3B1bGwvNTE5XG4gICAgaWYgKGFPcmlnaW5hbCAmJiB0eXBlb2YgYU9yaWdpbmFsLmxpbmUgIT09ICdudW1iZXInICYmIHR5cGVvZiBhT3JpZ2luYWwuY29sdW1uICE9PSAnbnVtYmVyJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAnb3JpZ2luYWwubGluZSBhbmQgb3JpZ2luYWwuY29sdW1uIGFyZSBub3QgbnVtYmVycyAtLSB5b3UgcHJvYmFibHkgbWVhbnQgdG8gb21pdCAnICtcbiAgICAgICAgICAgICd0aGUgb3JpZ2luYWwgbWFwcGluZyBlbnRpcmVseSBhbmQgb25seSBtYXAgdGhlIGdlbmVyYXRlZCBwb3NpdGlvbi4gSWYgc28sIHBhc3MgJyArXG4gICAgICAgICAgICAnbnVsbCBmb3IgdGhlIG9yaWdpbmFsIG1hcHBpbmcgaW5zdGVhZCBvZiBhbiBvYmplY3Qgd2l0aCBlbXB0eSBvciBudWxsIHZhbHVlcy4nXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKGFHZW5lcmF0ZWQgJiYgJ2xpbmUnIGluIGFHZW5lcmF0ZWQgJiYgJ2NvbHVtbicgaW4gYUdlbmVyYXRlZFxuICAgICAgICAmJiBhR2VuZXJhdGVkLmxpbmUgPiAwICYmIGFHZW5lcmF0ZWQuY29sdW1uID49IDBcbiAgICAgICAgJiYgIWFPcmlnaW5hbCAmJiAhYVNvdXJjZSAmJiAhYU5hbWUpIHtcbiAgICAgIC8vIENhc2UgMS5cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZWxzZSBpZiAoYUdlbmVyYXRlZCAmJiAnbGluZScgaW4gYUdlbmVyYXRlZCAmJiAnY29sdW1uJyBpbiBhR2VuZXJhdGVkXG4gICAgICAgICAgICAgJiYgYU9yaWdpbmFsICYmICdsaW5lJyBpbiBhT3JpZ2luYWwgJiYgJ2NvbHVtbicgaW4gYU9yaWdpbmFsXG4gICAgICAgICAgICAgJiYgYUdlbmVyYXRlZC5saW5lID4gMCAmJiBhR2VuZXJhdGVkLmNvbHVtbiA+PSAwXG4gICAgICAgICAgICAgJiYgYU9yaWdpbmFsLmxpbmUgPiAwICYmIGFPcmlnaW5hbC5jb2x1bW4gPj0gMFxuICAgICAgICAgICAgICYmIGFTb3VyY2UpIHtcbiAgICAgIC8vIENhc2VzIDIgYW5kIDMuXG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIG1hcHBpbmc6ICcgKyBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIGdlbmVyYXRlZDogYUdlbmVyYXRlZCxcbiAgICAgICAgc291cmNlOiBhU291cmNlLFxuICAgICAgICBvcmlnaW5hbDogYU9yaWdpbmFsLFxuICAgICAgICBuYW1lOiBhTmFtZVxuICAgICAgfSkpO1xuICAgIH1cbiAgfTtcblxuLyoqXG4gKiBTZXJpYWxpemUgdGhlIGFjY3VtdWxhdGVkIG1hcHBpbmdzIGluIHRvIHRoZSBzdHJlYW0gb2YgYmFzZSA2NCBWTFFzXG4gKiBzcGVjaWZpZWQgYnkgdGhlIHNvdXJjZSBtYXAgZm9ybWF0LlxuICovXG5Tb3VyY2VNYXBHZW5lcmF0b3IucHJvdG90eXBlLl9zZXJpYWxpemVNYXBwaW5ncyA9XG4gIGZ1bmN0aW9uIFNvdXJjZU1hcEdlbmVyYXRvcl9zZXJpYWxpemVNYXBwaW5ncygpIHtcbiAgICB2YXIgcHJldmlvdXNHZW5lcmF0ZWRDb2x1bW4gPSAwO1xuICAgIHZhciBwcmV2aW91c0dlbmVyYXRlZExpbmUgPSAxO1xuICAgIHZhciBwcmV2aW91c09yaWdpbmFsQ29sdW1uID0gMDtcbiAgICB2YXIgcHJldmlvdXNPcmlnaW5hbExpbmUgPSAwO1xuICAgIHZhciBwcmV2aW91c05hbWUgPSAwO1xuICAgIHZhciBwcmV2aW91c1NvdXJjZSA9IDA7XG4gICAgdmFyIHJlc3VsdCA9ICcnO1xuICAgIHZhciBuZXh0O1xuICAgIHZhciBtYXBwaW5nO1xuICAgIHZhciBuYW1lSWR4O1xuICAgIHZhciBzb3VyY2VJZHg7XG5cbiAgICB2YXIgbWFwcGluZ3MgPSB0aGlzLl9tYXBwaW5ncy50b0FycmF5KCk7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IG1hcHBpbmdzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBtYXBwaW5nID0gbWFwcGluZ3NbaV07XG4gICAgICBuZXh0ID0gJydcblxuICAgICAgaWYgKG1hcHBpbmcuZ2VuZXJhdGVkTGluZSAhPT0gcHJldmlvdXNHZW5lcmF0ZWRMaW5lKSB7XG4gICAgICAgIHByZXZpb3VzR2VuZXJhdGVkQ29sdW1uID0gMDtcbiAgICAgICAgd2hpbGUgKG1hcHBpbmcuZ2VuZXJhdGVkTGluZSAhPT0gcHJldmlvdXNHZW5lcmF0ZWRMaW5lKSB7XG4gICAgICAgICAgbmV4dCArPSAnOyc7XG4gICAgICAgICAgcHJldmlvdXNHZW5lcmF0ZWRMaW5lKys7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgICBpZiAoIXV0aWwuY29tcGFyZUJ5R2VuZXJhdGVkUG9zaXRpb25zSW5mbGF0ZWQobWFwcGluZywgbWFwcGluZ3NbaSAtIDFdKSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIG5leHQgKz0gJywnO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIG5leHQgKz0gYmFzZTY0VkxRLmVuY29kZShtYXBwaW5nLmdlbmVyYXRlZENvbHVtblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLSBwcmV2aW91c0dlbmVyYXRlZENvbHVtbik7XG4gICAgICBwcmV2aW91c0dlbmVyYXRlZENvbHVtbiA9IG1hcHBpbmcuZ2VuZXJhdGVkQ29sdW1uO1xuXG4gICAgICBpZiAobWFwcGluZy5zb3VyY2UgIT0gbnVsbCkge1xuICAgICAgICBzb3VyY2VJZHggPSB0aGlzLl9zb3VyY2VzLmluZGV4T2YobWFwcGluZy5zb3VyY2UpO1xuICAgICAgICBuZXh0ICs9IGJhc2U2NFZMUS5lbmNvZGUoc291cmNlSWR4IC0gcHJldmlvdXNTb3VyY2UpO1xuICAgICAgICBwcmV2aW91c1NvdXJjZSA9IHNvdXJjZUlkeDtcblxuICAgICAgICAvLyBsaW5lcyBhcmUgc3RvcmVkIDAtYmFzZWQgaW4gU291cmNlTWFwIHNwZWMgdmVyc2lvbiAzXG4gICAgICAgIG5leHQgKz0gYmFzZTY0VkxRLmVuY29kZShtYXBwaW5nLm9yaWdpbmFsTGluZSAtIDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLSBwcmV2aW91c09yaWdpbmFsTGluZSk7XG4gICAgICAgIHByZXZpb3VzT3JpZ2luYWxMaW5lID0gbWFwcGluZy5vcmlnaW5hbExpbmUgLSAxO1xuXG4gICAgICAgIG5leHQgKz0gYmFzZTY0VkxRLmVuY29kZShtYXBwaW5nLm9yaWdpbmFsQ29sdW1uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0gcHJldmlvdXNPcmlnaW5hbENvbHVtbik7XG4gICAgICAgIHByZXZpb3VzT3JpZ2luYWxDb2x1bW4gPSBtYXBwaW5nLm9yaWdpbmFsQ29sdW1uO1xuXG4gICAgICAgIGlmIChtYXBwaW5nLm5hbWUgIT0gbnVsbCkge1xuICAgICAgICAgIG5hbWVJZHggPSB0aGlzLl9uYW1lcy5pbmRleE9mKG1hcHBpbmcubmFtZSk7XG4gICAgICAgICAgbmV4dCArPSBiYXNlNjRWTFEuZW5jb2RlKG5hbWVJZHggLSBwcmV2aW91c05hbWUpO1xuICAgICAgICAgIHByZXZpb3VzTmFtZSA9IG5hbWVJZHg7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmVzdWx0ICs9IG5leHQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuU291cmNlTWFwR2VuZXJhdG9yLnByb3RvdHlwZS5fZ2VuZXJhdGVTb3VyY2VzQ29udGVudCA9XG4gIGZ1bmN0aW9uIFNvdXJjZU1hcEdlbmVyYXRvcl9nZW5lcmF0ZVNvdXJjZXNDb250ZW50KGFTb3VyY2VzLCBhU291cmNlUm9vdCkge1xuICAgIHJldHVybiBhU291cmNlcy5tYXAoZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgaWYgKCF0aGlzLl9zb3VyY2VzQ29udGVudHMpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICBpZiAoYVNvdXJjZVJvb3QgIT0gbnVsbCkge1xuICAgICAgICBzb3VyY2UgPSB1dGlsLnJlbGF0aXZlKGFTb3VyY2VSb290LCBzb3VyY2UpO1xuICAgICAgfVxuICAgICAgdmFyIGtleSA9IHV0aWwudG9TZXRTdHJpbmcoc291cmNlKTtcbiAgICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5fc291cmNlc0NvbnRlbnRzLCBrZXkpXG4gICAgICAgID8gdGhpcy5fc291cmNlc0NvbnRlbnRzW2tleV1cbiAgICAgICAgOiBudWxsO1xuICAgIH0sIHRoaXMpO1xuICB9O1xuXG4vKipcbiAqIEV4dGVybmFsaXplIHRoZSBzb3VyY2UgbWFwLlxuICovXG5Tb3VyY2VNYXBHZW5lcmF0b3IucHJvdG90eXBlLnRvSlNPTiA9XG4gIGZ1bmN0aW9uIFNvdXJjZU1hcEdlbmVyYXRvcl90b0pTT04oKSB7XG4gICAgdmFyIG1hcCA9IHtcbiAgICAgIHZlcnNpb246IHRoaXMuX3ZlcnNpb24sXG4gICAgICBzb3VyY2VzOiB0aGlzLl9zb3VyY2VzLnRvQXJyYXkoKSxcbiAgICAgIG5hbWVzOiB0aGlzLl9uYW1lcy50b0FycmF5KCksXG4gICAgICBtYXBwaW5nczogdGhpcy5fc2VyaWFsaXplTWFwcGluZ3MoKVxuICAgIH07XG4gICAgaWYgKHRoaXMuX2ZpbGUgIT0gbnVsbCkge1xuICAgICAgbWFwLmZpbGUgPSB0aGlzLl9maWxlO1xuICAgIH1cbiAgICBpZiAodGhpcy5fc291cmNlUm9vdCAhPSBudWxsKSB7XG4gICAgICBtYXAuc291cmNlUm9vdCA9IHRoaXMuX3NvdXJjZVJvb3Q7XG4gICAgfVxuICAgIGlmICh0aGlzLl9zb3VyY2VzQ29udGVudHMpIHtcbiAgICAgIG1hcC5zb3VyY2VzQ29udGVudCA9IHRoaXMuX2dlbmVyYXRlU291cmNlc0NvbnRlbnQobWFwLnNvdXJjZXMsIG1hcC5zb3VyY2VSb290KTtcbiAgICB9XG5cbiAgICByZXR1cm4gbWFwO1xuICB9O1xuXG4vKipcbiAqIFJlbmRlciB0aGUgc291cmNlIG1hcCBiZWluZyBnZW5lcmF0ZWQgdG8gYSBzdHJpbmcuXG4gKi9cblNvdXJjZU1hcEdlbmVyYXRvci5wcm90b3R5cGUudG9TdHJpbmcgPVxuICBmdW5jdGlvbiBTb3VyY2VNYXBHZW5lcmF0b3JfdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHRoaXMudG9KU09OKCkpO1xuICB9O1xuXG5leHBvcnRzLlNvdXJjZU1hcEdlbmVyYXRvciA9IFNvdXJjZU1hcEdlbmVyYXRvcjtcbiIsICIvKiAtKi0gTW9kZToganM7IGpzLWluZGVudC1sZXZlbDogMjsgLSotICovXG4vKlxuICogQ29weXJpZ2h0IDIwMTEgTW96aWxsYSBGb3VuZGF0aW9uIGFuZCBjb250cmlidXRvcnNcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBOZXcgQlNEIGxpY2Vuc2UuIFNlZSBMSUNFTlNFIG9yOlxuICogaHR0cDovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL0JTRC0zLUNsYXVzZVxuICovXG5cbmV4cG9ydHMuR1JFQVRFU1RfTE9XRVJfQk9VTkQgPSAxO1xuZXhwb3J0cy5MRUFTVF9VUFBFUl9CT1VORCA9IDI7XG5cbi8qKlxuICogUmVjdXJzaXZlIGltcGxlbWVudGF0aW9uIG9mIGJpbmFyeSBzZWFyY2guXG4gKlxuICogQHBhcmFtIGFMb3cgSW5kaWNlcyBoZXJlIGFuZCBsb3dlciBkbyBub3QgY29udGFpbiB0aGUgbmVlZGxlLlxuICogQHBhcmFtIGFIaWdoIEluZGljZXMgaGVyZSBhbmQgaGlnaGVyIGRvIG5vdCBjb250YWluIHRoZSBuZWVkbGUuXG4gKiBAcGFyYW0gYU5lZWRsZSBUaGUgZWxlbWVudCBiZWluZyBzZWFyY2hlZCBmb3IuXG4gKiBAcGFyYW0gYUhheXN0YWNrIFRoZSBub24tZW1wdHkgYXJyYXkgYmVpbmcgc2VhcmNoZWQuXG4gKiBAcGFyYW0gYUNvbXBhcmUgRnVuY3Rpb24gd2hpY2ggdGFrZXMgdHdvIGVsZW1lbnRzIGFuZCByZXR1cm5zIC0xLCAwLCBvciAxLlxuICogQHBhcmFtIGFCaWFzIEVpdGhlciAnYmluYXJ5U2VhcmNoLkdSRUFURVNUX0xPV0VSX0JPVU5EJyBvclxuICogICAgICdiaW5hcnlTZWFyY2guTEVBU1RfVVBQRVJfQk9VTkQnLiBTcGVjaWZpZXMgd2hldGhlciB0byByZXR1cm4gdGhlXG4gKiAgICAgY2xvc2VzdCBlbGVtZW50IHRoYXQgaXMgc21hbGxlciB0aGFuIG9yIGdyZWF0ZXIgdGhhbiB0aGUgb25lIHdlIGFyZVxuICogICAgIHNlYXJjaGluZyBmb3IsIHJlc3BlY3RpdmVseSwgaWYgdGhlIGV4YWN0IGVsZW1lbnQgY2Fubm90IGJlIGZvdW5kLlxuICovXG5mdW5jdGlvbiByZWN1cnNpdmVTZWFyY2goYUxvdywgYUhpZ2gsIGFOZWVkbGUsIGFIYXlzdGFjaywgYUNvbXBhcmUsIGFCaWFzKSB7XG4gIC8vIFRoaXMgZnVuY3Rpb24gdGVybWluYXRlcyB3aGVuIG9uZSBvZiB0aGUgZm9sbG93aW5nIGlzIHRydWU6XG4gIC8vXG4gIC8vICAgMS4gV2UgZmluZCB0aGUgZXhhY3QgZWxlbWVudCB3ZSBhcmUgbG9va2luZyBmb3IuXG4gIC8vXG4gIC8vICAgMi4gV2UgZGlkIG5vdCBmaW5kIHRoZSBleGFjdCBlbGVtZW50LCBidXQgd2UgY2FuIHJldHVybiB0aGUgaW5kZXggb2ZcbiAgLy8gICAgICB0aGUgbmV4dC1jbG9zZXN0IGVsZW1lbnQuXG4gIC8vXG4gIC8vICAgMy4gV2UgZGlkIG5vdCBmaW5kIHRoZSBleGFjdCBlbGVtZW50LCBhbmQgdGhlcmUgaXMgbm8gbmV4dC1jbG9zZXN0XG4gIC8vICAgICAgZWxlbWVudCB0aGFuIHRoZSBvbmUgd2UgYXJlIHNlYXJjaGluZyBmb3IsIHNvIHdlIHJldHVybiAtMS5cbiAgdmFyIG1pZCA9IE1hdGguZmxvb3IoKGFIaWdoIC0gYUxvdykgLyAyKSArIGFMb3c7XG4gIHZhciBjbXAgPSBhQ29tcGFyZShhTmVlZGxlLCBhSGF5c3RhY2tbbWlkXSwgdHJ1ZSk7XG4gIGlmIChjbXAgPT09IDApIHtcbiAgICAvLyBGb3VuZCB0aGUgZWxlbWVudCB3ZSBhcmUgbG9va2luZyBmb3IuXG4gICAgcmV0dXJuIG1pZDtcbiAgfVxuICBlbHNlIGlmIChjbXAgPiAwKSB7XG4gICAgLy8gT3VyIG5lZWRsZSBpcyBncmVhdGVyIHRoYW4gYUhheXN0YWNrW21pZF0uXG4gICAgaWYgKGFIaWdoIC0gbWlkID4gMSkge1xuICAgICAgLy8gVGhlIGVsZW1lbnQgaXMgaW4gdGhlIHVwcGVyIGhhbGYuXG4gICAgICByZXR1cm4gcmVjdXJzaXZlU2VhcmNoKG1pZCwgYUhpZ2gsIGFOZWVkbGUsIGFIYXlzdGFjaywgYUNvbXBhcmUsIGFCaWFzKTtcbiAgICB9XG5cbiAgICAvLyBUaGUgZXhhY3QgbmVlZGxlIGVsZW1lbnQgd2FzIG5vdCBmb3VuZCBpbiB0aGlzIGhheXN0YWNrLiBEZXRlcm1pbmUgaWZcbiAgICAvLyB3ZSBhcmUgaW4gdGVybWluYXRpb24gY2FzZSAoMykgb3IgKDIpIGFuZCByZXR1cm4gdGhlIGFwcHJvcHJpYXRlIHRoaW5nLlxuICAgIGlmIChhQmlhcyA9PSBleHBvcnRzLkxFQVNUX1VQUEVSX0JPVU5EKSB7XG4gICAgICByZXR1cm4gYUhpZ2ggPCBhSGF5c3RhY2subGVuZ3RoID8gYUhpZ2ggOiAtMTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG1pZDtcbiAgICB9XG4gIH1cbiAgZWxzZSB7XG4gICAgLy8gT3VyIG5lZWRsZSBpcyBsZXNzIHRoYW4gYUhheXN0YWNrW21pZF0uXG4gICAgaWYgKG1pZCAtIGFMb3cgPiAxKSB7XG4gICAgICAvLyBUaGUgZWxlbWVudCBpcyBpbiB0aGUgbG93ZXIgaGFsZi5cbiAgICAgIHJldHVybiByZWN1cnNpdmVTZWFyY2goYUxvdywgbWlkLCBhTmVlZGxlLCBhSGF5c3RhY2ssIGFDb21wYXJlLCBhQmlhcyk7XG4gICAgfVxuXG4gICAgLy8gd2UgYXJlIGluIHRlcm1pbmF0aW9uIGNhc2UgKDMpIG9yICgyKSBhbmQgcmV0dXJuIHRoZSBhcHByb3ByaWF0ZSB0aGluZy5cbiAgICBpZiAoYUJpYXMgPT0gZXhwb3J0cy5MRUFTVF9VUFBFUl9CT1VORCkge1xuICAgICAgcmV0dXJuIG1pZDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGFMb3cgPCAwID8gLTEgOiBhTG93O1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIFRoaXMgaXMgYW4gaW1wbGVtZW50YXRpb24gb2YgYmluYXJ5IHNlYXJjaCB3aGljaCB3aWxsIGFsd2F5cyB0cnkgYW5kIHJldHVyblxuICogdGhlIGluZGV4IG9mIHRoZSBjbG9zZXN0IGVsZW1lbnQgaWYgdGhlcmUgaXMgbm8gZXhhY3QgaGl0LiBUaGlzIGlzIGJlY2F1c2VcbiAqIG1hcHBpbmdzIGJldHdlZW4gb3JpZ2luYWwgYW5kIGdlbmVyYXRlZCBsaW5lL2NvbCBwYWlycyBhcmUgc2luZ2xlIHBvaW50cyxcbiAqIGFuZCB0aGVyZSBpcyBhbiBpbXBsaWNpdCByZWdpb24gYmV0d2VlbiBlYWNoIG9mIHRoZW0sIHNvIGEgbWlzcyBqdXN0IG1lYW5zXG4gKiB0aGF0IHlvdSBhcmVuJ3Qgb24gdGhlIHZlcnkgc3RhcnQgb2YgYSByZWdpb24uXG4gKlxuICogQHBhcmFtIGFOZWVkbGUgVGhlIGVsZW1lbnQgeW91IGFyZSBsb29raW5nIGZvci5cbiAqIEBwYXJhbSBhSGF5c3RhY2sgVGhlIGFycmF5IHRoYXQgaXMgYmVpbmcgc2VhcmNoZWQuXG4gKiBAcGFyYW0gYUNvbXBhcmUgQSBmdW5jdGlvbiB3aGljaCB0YWtlcyB0aGUgbmVlZGxlIGFuZCBhbiBlbGVtZW50IGluIHRoZVxuICogICAgIGFycmF5IGFuZCByZXR1cm5zIC0xLCAwLCBvciAxIGRlcGVuZGluZyBvbiB3aGV0aGVyIHRoZSBuZWVkbGUgaXMgbGVzc1xuICogICAgIHRoYW4sIGVxdWFsIHRvLCBvciBncmVhdGVyIHRoYW4gdGhlIGVsZW1lbnQsIHJlc3BlY3RpdmVseS5cbiAqIEBwYXJhbSBhQmlhcyBFaXRoZXIgJ2JpbmFyeVNlYXJjaC5HUkVBVEVTVF9MT1dFUl9CT1VORCcgb3JcbiAqICAgICAnYmluYXJ5U2VhcmNoLkxFQVNUX1VQUEVSX0JPVU5EJy4gU3BlY2lmaWVzIHdoZXRoZXIgdG8gcmV0dXJuIHRoZVxuICogICAgIGNsb3Nlc3QgZWxlbWVudCB0aGF0IGlzIHNtYWxsZXIgdGhhbiBvciBncmVhdGVyIHRoYW4gdGhlIG9uZSB3ZSBhcmVcbiAqICAgICBzZWFyY2hpbmcgZm9yLCByZXNwZWN0aXZlbHksIGlmIHRoZSBleGFjdCBlbGVtZW50IGNhbm5vdCBiZSBmb3VuZC5cbiAqICAgICBEZWZhdWx0cyB0byAnYmluYXJ5U2VhcmNoLkdSRUFURVNUX0xPV0VSX0JPVU5EJy5cbiAqL1xuZXhwb3J0cy5zZWFyY2ggPSBmdW5jdGlvbiBzZWFyY2goYU5lZWRsZSwgYUhheXN0YWNrLCBhQ29tcGFyZSwgYUJpYXMpIHtcbiAgaWYgKGFIYXlzdGFjay5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gLTE7XG4gIH1cblxuICB2YXIgaW5kZXggPSByZWN1cnNpdmVTZWFyY2goLTEsIGFIYXlzdGFjay5sZW5ndGgsIGFOZWVkbGUsIGFIYXlzdGFjayxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFDb21wYXJlLCBhQmlhcyB8fCBleHBvcnRzLkdSRUFURVNUX0xPV0VSX0JPVU5EKTtcbiAgaWYgKGluZGV4IDwgMCkge1xuICAgIHJldHVybiAtMTtcbiAgfVxuXG4gIC8vIFdlIGhhdmUgZm91bmQgZWl0aGVyIHRoZSBleGFjdCBlbGVtZW50LCBvciB0aGUgbmV4dC1jbG9zZXN0IGVsZW1lbnQgdGhhblxuICAvLyB0aGUgb25lIHdlIGFyZSBzZWFyY2hpbmcgZm9yLiBIb3dldmVyLCB0aGVyZSBtYXkgYmUgbW9yZSB0aGFuIG9uZSBzdWNoXG4gIC8vIGVsZW1lbnQuIE1ha2Ugc3VyZSB3ZSBhbHdheXMgcmV0dXJuIHRoZSBzbWFsbGVzdCBvZiB0aGVzZS5cbiAgd2hpbGUgKGluZGV4IC0gMSA+PSAwKSB7XG4gICAgaWYgKGFDb21wYXJlKGFIYXlzdGFja1tpbmRleF0sIGFIYXlzdGFja1tpbmRleCAtIDFdLCB0cnVlKSAhPT0gMCkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIC0taW5kZXg7XG4gIH1cblxuICByZXR1cm4gaW5kZXg7XG59O1xuIiwgIi8qIC0qLSBNb2RlOiBqczsganMtaW5kZW50LWxldmVsOiAyOyAtKi0gKi9cbi8qXG4gKiBDb3B5cmlnaHQgMjAxMSBNb3ppbGxhIEZvdW5kYXRpb24gYW5kIGNvbnRyaWJ1dG9yc1xuICogTGljZW5zZWQgdW5kZXIgdGhlIE5ldyBCU0QgbGljZW5zZS4gU2VlIExJQ0VOU0Ugb3I6XG4gKiBodHRwOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvQlNELTMtQ2xhdXNlXG4gKi9cblxuLy8gSXQgdHVybnMgb3V0IHRoYXQgc29tZSAobW9zdD8pIEphdmFTY3JpcHQgZW5naW5lcyBkb24ndCBzZWxmLWhvc3Rcbi8vIGBBcnJheS5wcm90b3R5cGUuc29ydGAuIFRoaXMgbWFrZXMgc2Vuc2UgYmVjYXVzZSBDKysgd2lsbCBsaWtlbHkgcmVtYWluXG4vLyBmYXN0ZXIgdGhhbiBKUyB3aGVuIGRvaW5nIHJhdyBDUFUtaW50ZW5zaXZlIHNvcnRpbmcuIEhvd2V2ZXIsIHdoZW4gdXNpbmcgYVxuLy8gY3VzdG9tIGNvbXBhcmF0b3IgZnVuY3Rpb24sIGNhbGxpbmcgYmFjayBhbmQgZm9ydGggYmV0d2VlbiB0aGUgVk0ncyBDKysgYW5kXG4vLyBKSVQnZCBKUyBpcyByYXRoZXIgc2xvdyAqYW5kKiBsb3NlcyBKSVQgdHlwZSBpbmZvcm1hdGlvbiwgcmVzdWx0aW5nIGluXG4vLyB3b3JzZSBnZW5lcmF0ZWQgY29kZSBmb3IgdGhlIGNvbXBhcmF0b3IgZnVuY3Rpb24gdGhhbiB3b3VsZCBiZSBvcHRpbWFsLiBJblxuLy8gZmFjdCwgd2hlbiBzb3J0aW5nIHdpdGggYSBjb21wYXJhdG9yLCB0aGVzZSBjb3N0cyBvdXR3ZWlnaCB0aGUgYmVuZWZpdHMgb2Zcbi8vIHNvcnRpbmcgaW4gQysrLiBCeSB1c2luZyBvdXIgb3duIEpTLWltcGxlbWVudGVkIFF1aWNrIFNvcnQgKGJlbG93KSwgd2UgZ2V0XG4vLyBhIH4zNTAwbXMgbWVhbiBzcGVlZC11cCBpbiBgYmVuY2gvYmVuY2guaHRtbGAuXG5cbi8qKlxuICogU3dhcCB0aGUgZWxlbWVudHMgaW5kZXhlZCBieSBgeGAgYW5kIGB5YCBpbiB0aGUgYXJyYXkgYGFyeWAuXG4gKlxuICogQHBhcmFtIHtBcnJheX0gYXJ5XG4gKiAgICAgICAgVGhlIGFycmF5LlxuICogQHBhcmFtIHtOdW1iZXJ9IHhcbiAqICAgICAgICBUaGUgaW5kZXggb2YgdGhlIGZpcnN0IGl0ZW0uXG4gKiBAcGFyYW0ge051bWJlcn0geVxuICogICAgICAgIFRoZSBpbmRleCBvZiB0aGUgc2Vjb25kIGl0ZW0uXG4gKi9cbmZ1bmN0aW9uIHN3YXAoYXJ5LCB4LCB5KSB7XG4gIHZhciB0ZW1wID0gYXJ5W3hdO1xuICBhcnlbeF0gPSBhcnlbeV07XG4gIGFyeVt5XSA9IHRlbXA7XG59XG5cbi8qKlxuICogUmV0dXJucyBhIHJhbmRvbSBpbnRlZ2VyIHdpdGhpbiB0aGUgcmFuZ2UgYGxvdyAuLiBoaWdoYCBpbmNsdXNpdmUuXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IGxvd1xuICogICAgICAgIFRoZSBsb3dlciBib3VuZCBvbiB0aGUgcmFuZ2UuXG4gKiBAcGFyYW0ge051bWJlcn0gaGlnaFxuICogICAgICAgIFRoZSB1cHBlciBib3VuZCBvbiB0aGUgcmFuZ2UuXG4gKi9cbmZ1bmN0aW9uIHJhbmRvbUludEluUmFuZ2UobG93LCBoaWdoKSB7XG4gIHJldHVybiBNYXRoLnJvdW5kKGxvdyArIChNYXRoLnJhbmRvbSgpICogKGhpZ2ggLSBsb3cpKSk7XG59XG5cbi8qKlxuICogVGhlIFF1aWNrIFNvcnQgYWxnb3JpdGhtLlxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IGFyeVxuICogICAgICAgIEFuIGFycmF5IHRvIHNvcnQuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjb21wYXJhdG9yXG4gKiAgICAgICAgRnVuY3Rpb24gdG8gdXNlIHRvIGNvbXBhcmUgdHdvIGl0ZW1zLlxuICogQHBhcmFtIHtOdW1iZXJ9IHBcbiAqICAgICAgICBTdGFydCBpbmRleCBvZiB0aGUgYXJyYXlcbiAqIEBwYXJhbSB7TnVtYmVyfSByXG4gKiAgICAgICAgRW5kIGluZGV4IG9mIHRoZSBhcnJheVxuICovXG5mdW5jdGlvbiBkb1F1aWNrU29ydChhcnksIGNvbXBhcmF0b3IsIHAsIHIpIHtcbiAgLy8gSWYgb3VyIGxvd2VyIGJvdW5kIGlzIGxlc3MgdGhhbiBvdXIgdXBwZXIgYm91bmQsIHdlICgxKSBwYXJ0aXRpb24gdGhlXG4gIC8vIGFycmF5IGludG8gdHdvIHBpZWNlcyBhbmQgKDIpIHJlY3Vyc2Ugb24gZWFjaCBoYWxmLiBJZiBpdCBpcyBub3QsIHRoaXMgaXNcbiAgLy8gdGhlIGVtcHR5IGFycmF5IGFuZCBvdXIgYmFzZSBjYXNlLlxuXG4gIGlmIChwIDwgcikge1xuICAgIC8vICgxKSBQYXJ0aXRpb25pbmcuXG4gICAgLy9cbiAgICAvLyBUaGUgcGFydGl0aW9uaW5nIGNob29zZXMgYSBwaXZvdCBiZXR3ZWVuIGBwYCBhbmQgYHJgIGFuZCBtb3ZlcyBhbGxcbiAgICAvLyBlbGVtZW50cyB0aGF0IGFyZSBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gdGhlIHBpdm90IHRvIHRoZSBiZWZvcmUgaXQsIGFuZFxuICAgIC8vIGFsbCB0aGUgZWxlbWVudHMgdGhhdCBhcmUgZ3JlYXRlciB0aGFuIGl0IGFmdGVyIGl0LiBUaGUgZWZmZWN0IGlzIHRoYXRcbiAgICAvLyBvbmNlIHBhcnRpdGlvbiBpcyBkb25lLCB0aGUgcGl2b3QgaXMgaW4gdGhlIGV4YWN0IHBsYWNlIGl0IHdpbGwgYmUgd2hlblxuICAgIC8vIHRoZSBhcnJheSBpcyBwdXQgaW4gc29ydGVkIG9yZGVyLCBhbmQgaXQgd2lsbCBub3QgbmVlZCB0byBiZSBtb3ZlZFxuICAgIC8vIGFnYWluLiBUaGlzIHJ1bnMgaW4gTyhuKSB0aW1lLlxuXG4gICAgLy8gQWx3YXlzIGNob29zZSBhIHJhbmRvbSBwaXZvdCBzbyB0aGF0IGFuIGlucHV0IGFycmF5IHdoaWNoIGlzIHJldmVyc2VcbiAgICAvLyBzb3J0ZWQgZG9lcyBub3QgY2F1c2UgTyhuXjIpIHJ1bm5pbmcgdGltZS5cbiAgICB2YXIgcGl2b3RJbmRleCA9IHJhbmRvbUludEluUmFuZ2UocCwgcik7XG4gICAgdmFyIGkgPSBwIC0gMTtcblxuICAgIHN3YXAoYXJ5LCBwaXZvdEluZGV4LCByKTtcbiAgICB2YXIgcGl2b3QgPSBhcnlbcl07XG5cbiAgICAvLyBJbW1lZGlhdGVseSBhZnRlciBgamAgaXMgaW5jcmVtZW50ZWQgaW4gdGhpcyBsb29wLCB0aGUgZm9sbG93aW5nIGhvbGRcbiAgICAvLyB0cnVlOlxuICAgIC8vXG4gICAgLy8gICAqIEV2ZXJ5IGVsZW1lbnQgaW4gYGFyeVtwIC4uIGldYCBpcyBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gdGhlIHBpdm90LlxuICAgIC8vXG4gICAgLy8gICAqIEV2ZXJ5IGVsZW1lbnQgaW4gYGFyeVtpKzEgLi4gai0xXWAgaXMgZ3JlYXRlciB0aGFuIHRoZSBwaXZvdC5cbiAgICBmb3IgKHZhciBqID0gcDsgaiA8IHI7IGorKykge1xuICAgICAgaWYgKGNvbXBhcmF0b3IoYXJ5W2pdLCBwaXZvdCkgPD0gMCkge1xuICAgICAgICBpICs9IDE7XG4gICAgICAgIHN3YXAoYXJ5LCBpLCBqKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBzd2FwKGFyeSwgaSArIDEsIGopO1xuICAgIHZhciBxID0gaSArIDE7XG5cbiAgICAvLyAoMikgUmVjdXJzZSBvbiBlYWNoIGhhbGYuXG5cbiAgICBkb1F1aWNrU29ydChhcnksIGNvbXBhcmF0b3IsIHAsIHEgLSAxKTtcbiAgICBkb1F1aWNrU29ydChhcnksIGNvbXBhcmF0b3IsIHEgKyAxLCByKTtcbiAgfVxufVxuXG4vKipcbiAqIFNvcnQgdGhlIGdpdmVuIGFycmF5IGluLXBsYWNlIHdpdGggdGhlIGdpdmVuIGNvbXBhcmF0b3IgZnVuY3Rpb24uXG4gKlxuICogQHBhcmFtIHtBcnJheX0gYXJ5XG4gKiAgICAgICAgQW4gYXJyYXkgdG8gc29ydC5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNvbXBhcmF0b3JcbiAqICAgICAgICBGdW5jdGlvbiB0byB1c2UgdG8gY29tcGFyZSB0d28gaXRlbXMuXG4gKi9cbmV4cG9ydHMucXVpY2tTb3J0ID0gZnVuY3Rpb24gKGFyeSwgY29tcGFyYXRvcikge1xuICBkb1F1aWNrU29ydChhcnksIGNvbXBhcmF0b3IsIDAsIGFyeS5sZW5ndGggLSAxKTtcbn07XG4iLCAiLyogLSotIE1vZGU6IGpzOyBqcy1pbmRlbnQtbGV2ZWw6IDI7IC0qLSAqL1xuLypcbiAqIENvcHlyaWdodCAyMDExIE1vemlsbGEgRm91bmRhdGlvbiBhbmQgY29udHJpYnV0b3JzXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTmV3IEJTRCBsaWNlbnNlLiBTZWUgTElDRU5TRSBvcjpcbiAqIGh0dHA6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9CU0QtMy1DbGF1c2VcbiAqL1xuXG52YXIgdXRpbCA9IHJlcXVpcmUoJy4vdXRpbCcpO1xudmFyIGJpbmFyeVNlYXJjaCA9IHJlcXVpcmUoJy4vYmluYXJ5LXNlYXJjaCcpO1xudmFyIEFycmF5U2V0ID0gcmVxdWlyZSgnLi9hcnJheS1zZXQnKS5BcnJheVNldDtcbnZhciBiYXNlNjRWTFEgPSByZXF1aXJlKCcuL2Jhc2U2NC12bHEnKTtcbnZhciBxdWlja1NvcnQgPSByZXF1aXJlKCcuL3F1aWNrLXNvcnQnKS5xdWlja1NvcnQ7XG5cbmZ1bmN0aW9uIFNvdXJjZU1hcENvbnN1bWVyKGFTb3VyY2VNYXAsIGFTb3VyY2VNYXBVUkwpIHtcbiAgdmFyIHNvdXJjZU1hcCA9IGFTb3VyY2VNYXA7XG4gIGlmICh0eXBlb2YgYVNvdXJjZU1hcCA9PT0gJ3N0cmluZycpIHtcbiAgICBzb3VyY2VNYXAgPSB1dGlsLnBhcnNlU291cmNlTWFwSW5wdXQoYVNvdXJjZU1hcCk7XG4gIH1cblxuICByZXR1cm4gc291cmNlTWFwLnNlY3Rpb25zICE9IG51bGxcbiAgICA/IG5ldyBJbmRleGVkU291cmNlTWFwQ29uc3VtZXIoc291cmNlTWFwLCBhU291cmNlTWFwVVJMKVxuICAgIDogbmV3IEJhc2ljU291cmNlTWFwQ29uc3VtZXIoc291cmNlTWFwLCBhU291cmNlTWFwVVJMKTtcbn1cblxuU291cmNlTWFwQ29uc3VtZXIuZnJvbVNvdXJjZU1hcCA9IGZ1bmN0aW9uKGFTb3VyY2VNYXAsIGFTb3VyY2VNYXBVUkwpIHtcbiAgcmV0dXJuIEJhc2ljU291cmNlTWFwQ29uc3VtZXIuZnJvbVNvdXJjZU1hcChhU291cmNlTWFwLCBhU291cmNlTWFwVVJMKTtcbn1cblxuLyoqXG4gKiBUaGUgdmVyc2lvbiBvZiB0aGUgc291cmNlIG1hcHBpbmcgc3BlYyB0aGF0IHdlIGFyZSBjb25zdW1pbmcuXG4gKi9cblNvdXJjZU1hcENvbnN1bWVyLnByb3RvdHlwZS5fdmVyc2lvbiA9IDM7XG5cbi8vIGBfX2dlbmVyYXRlZE1hcHBpbmdzYCBhbmQgYF9fb3JpZ2luYWxNYXBwaW5nc2AgYXJlIGFycmF5cyB0aGF0IGhvbGQgdGhlXG4vLyBwYXJzZWQgbWFwcGluZyBjb29yZGluYXRlcyBmcm9tIHRoZSBzb3VyY2UgbWFwJ3MgXCJtYXBwaW5nc1wiIGF0dHJpYnV0ZS4gVGhleVxuLy8gYXJlIGxhemlseSBpbnN0YW50aWF0ZWQsIGFjY2Vzc2VkIHZpYSB0aGUgYF9nZW5lcmF0ZWRNYXBwaW5nc2AgYW5kXG4vLyBgX29yaWdpbmFsTWFwcGluZ3NgIGdldHRlcnMgcmVzcGVjdGl2ZWx5LCBhbmQgd2Ugb25seSBwYXJzZSB0aGUgbWFwcGluZ3Ncbi8vIGFuZCBjcmVhdGUgdGhlc2UgYXJyYXlzIG9uY2UgcXVlcmllZCBmb3IgYSBzb3VyY2UgbG9jYXRpb24uIFdlIGp1bXAgdGhyb3VnaFxuLy8gdGhlc2UgaG9vcHMgYmVjYXVzZSB0aGVyZSBjYW4gYmUgbWFueSB0aG91c2FuZHMgb2YgbWFwcGluZ3MsIGFuZCBwYXJzaW5nXG4vLyB0aGVtIGlzIGV4cGVuc2l2ZSwgc28gd2Ugb25seSB3YW50IHRvIGRvIGl0IGlmIHdlIG11c3QuXG4vL1xuLy8gRWFjaCBvYmplY3QgaW4gdGhlIGFycmF5cyBpcyBvZiB0aGUgZm9ybTpcbi8vXG4vLyAgICAge1xuLy8gICAgICAgZ2VuZXJhdGVkTGluZTogVGhlIGxpbmUgbnVtYmVyIGluIHRoZSBnZW5lcmF0ZWQgY29kZSxcbi8vICAgICAgIGdlbmVyYXRlZENvbHVtbjogVGhlIGNvbHVtbiBudW1iZXIgaW4gdGhlIGdlbmVyYXRlZCBjb2RlLFxuLy8gICAgICAgc291cmNlOiBUaGUgcGF0aCB0byB0aGUgb3JpZ2luYWwgc291cmNlIGZpbGUgdGhhdCBnZW5lcmF0ZWQgdGhpc1xuLy8gICAgICAgICAgICAgICBjaHVuayBvZiBjb2RlLFxuLy8gICAgICAgb3JpZ2luYWxMaW5lOiBUaGUgbGluZSBudW1iZXIgaW4gdGhlIG9yaWdpbmFsIHNvdXJjZSB0aGF0XG4vLyAgICAgICAgICAgICAgICAgICAgIGNvcnJlc3BvbmRzIHRvIHRoaXMgY2h1bmsgb2YgZ2VuZXJhdGVkIGNvZGUsXG4vLyAgICAgICBvcmlnaW5hbENvbHVtbjogVGhlIGNvbHVtbiBudW1iZXIgaW4gdGhlIG9yaWdpbmFsIHNvdXJjZSB0aGF0XG4vLyAgICAgICAgICAgICAgICAgICAgICAgY29ycmVzcG9uZHMgdG8gdGhpcyBjaHVuayBvZiBnZW5lcmF0ZWQgY29kZSxcbi8vICAgICAgIG5hbWU6IFRoZSBuYW1lIG9mIHRoZSBvcmlnaW5hbCBzeW1ib2wgd2hpY2ggZ2VuZXJhdGVkIHRoaXMgY2h1bmsgb2Zcbi8vICAgICAgICAgICAgIGNvZGUuXG4vLyAgICAgfVxuLy9cbi8vIEFsbCBwcm9wZXJ0aWVzIGV4Y2VwdCBmb3IgYGdlbmVyYXRlZExpbmVgIGFuZCBgZ2VuZXJhdGVkQ29sdW1uYCBjYW4gYmVcbi8vIGBudWxsYC5cbi8vXG4vLyBgX2dlbmVyYXRlZE1hcHBpbmdzYCBpcyBvcmRlcmVkIGJ5IHRoZSBnZW5lcmF0ZWQgcG9zaXRpb25zLlxuLy9cbi8vIGBfb3JpZ2luYWxNYXBwaW5nc2AgaXMgb3JkZXJlZCBieSB0aGUgb3JpZ2luYWwgcG9zaXRpb25zLlxuXG5Tb3VyY2VNYXBDb25zdW1lci5wcm90b3R5cGUuX19nZW5lcmF0ZWRNYXBwaW5ncyA9IG51bGw7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoU291cmNlTWFwQ29uc3VtZXIucHJvdG90eXBlLCAnX2dlbmVyYXRlZE1hcHBpbmdzJywge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gKCkge1xuICAgIGlmICghdGhpcy5fX2dlbmVyYXRlZE1hcHBpbmdzKSB7XG4gICAgICB0aGlzLl9wYXJzZU1hcHBpbmdzKHRoaXMuX21hcHBpbmdzLCB0aGlzLnNvdXJjZVJvb3QpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl9fZ2VuZXJhdGVkTWFwcGluZ3M7XG4gIH1cbn0pO1xuXG5Tb3VyY2VNYXBDb25zdW1lci5wcm90b3R5cGUuX19vcmlnaW5hbE1hcHBpbmdzID0gbnVsbDtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShTb3VyY2VNYXBDb25zdW1lci5wcm90b3R5cGUsICdfb3JpZ2luYWxNYXBwaW5ncycsIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIXRoaXMuX19vcmlnaW5hbE1hcHBpbmdzKSB7XG4gICAgICB0aGlzLl9wYXJzZU1hcHBpbmdzKHRoaXMuX21hcHBpbmdzLCB0aGlzLnNvdXJjZVJvb3QpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl9fb3JpZ2luYWxNYXBwaW5ncztcbiAgfVxufSk7XG5cblNvdXJjZU1hcENvbnN1bWVyLnByb3RvdHlwZS5fY2hhcklzTWFwcGluZ1NlcGFyYXRvciA9XG4gIGZ1bmN0aW9uIFNvdXJjZU1hcENvbnN1bWVyX2NoYXJJc01hcHBpbmdTZXBhcmF0b3IoYVN0ciwgaW5kZXgpIHtcbiAgICB2YXIgYyA9IGFTdHIuY2hhckF0KGluZGV4KTtcbiAgICByZXR1cm4gYyA9PT0gXCI7XCIgfHwgYyA9PT0gXCIsXCI7XG4gIH07XG5cbi8qKlxuICogUGFyc2UgdGhlIG1hcHBpbmdzIGluIGEgc3RyaW5nIGluIHRvIGEgZGF0YSBzdHJ1Y3R1cmUgd2hpY2ggd2UgY2FuIGVhc2lseVxuICogcXVlcnkgKHRoZSBvcmRlcmVkIGFycmF5cyBpbiB0aGUgYHRoaXMuX19nZW5lcmF0ZWRNYXBwaW5nc2AgYW5kXG4gKiBgdGhpcy5fX29yaWdpbmFsTWFwcGluZ3NgIHByb3BlcnRpZXMpLlxuICovXG5Tb3VyY2VNYXBDb25zdW1lci5wcm90b3R5cGUuX3BhcnNlTWFwcGluZ3MgPVxuICBmdW5jdGlvbiBTb3VyY2VNYXBDb25zdW1lcl9wYXJzZU1hcHBpbmdzKGFTdHIsIGFTb3VyY2VSb290KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiU3ViY2xhc3NlcyBtdXN0IGltcGxlbWVudCBfcGFyc2VNYXBwaW5nc1wiKTtcbiAgfTtcblxuU291cmNlTWFwQ29uc3VtZXIuR0VORVJBVEVEX09SREVSID0gMTtcblNvdXJjZU1hcENvbnN1bWVyLk9SSUdJTkFMX09SREVSID0gMjtcblxuU291cmNlTWFwQ29uc3VtZXIuR1JFQVRFU1RfTE9XRVJfQk9VTkQgPSAxO1xuU291cmNlTWFwQ29uc3VtZXIuTEVBU1RfVVBQRVJfQk9VTkQgPSAyO1xuXG4vKipcbiAqIEl0ZXJhdGUgb3ZlciBlYWNoIG1hcHBpbmcgYmV0d2VlbiBhbiBvcmlnaW5hbCBzb3VyY2UvbGluZS9jb2x1bW4gYW5kIGFcbiAqIGdlbmVyYXRlZCBsaW5lL2NvbHVtbiBpbiB0aGlzIHNvdXJjZSBtYXAuXG4gKlxuICogQHBhcmFtIEZ1bmN0aW9uIGFDYWxsYmFja1xuICogICAgICAgIFRoZSBmdW5jdGlvbiB0aGF0IGlzIGNhbGxlZCB3aXRoIGVhY2ggbWFwcGluZy5cbiAqIEBwYXJhbSBPYmplY3QgYUNvbnRleHRcbiAqICAgICAgICBPcHRpb25hbC4gSWYgc3BlY2lmaWVkLCB0aGlzIG9iamVjdCB3aWxsIGJlIHRoZSB2YWx1ZSBvZiBgdGhpc2AgZXZlcnlcbiAqICAgICAgICB0aW1lIHRoYXQgYGFDYWxsYmFja2AgaXMgY2FsbGVkLlxuICogQHBhcmFtIGFPcmRlclxuICogICAgICAgIEVpdGhlciBgU291cmNlTWFwQ29uc3VtZXIuR0VORVJBVEVEX09SREVSYCBvclxuICogICAgICAgIGBTb3VyY2VNYXBDb25zdW1lci5PUklHSU5BTF9PUkRFUmAuIFNwZWNpZmllcyB3aGV0aGVyIHlvdSB3YW50IHRvXG4gKiAgICAgICAgaXRlcmF0ZSBvdmVyIHRoZSBtYXBwaW5ncyBzb3J0ZWQgYnkgdGhlIGdlbmVyYXRlZCBmaWxlJ3MgbGluZS9jb2x1bW5cbiAqICAgICAgICBvcmRlciBvciB0aGUgb3JpZ2luYWwncyBzb3VyY2UvbGluZS9jb2x1bW4gb3JkZXIsIHJlc3BlY3RpdmVseS4gRGVmYXVsdHMgdG9cbiAqICAgICAgICBgU291cmNlTWFwQ29uc3VtZXIuR0VORVJBVEVEX09SREVSYC5cbiAqL1xuU291cmNlTWFwQ29uc3VtZXIucHJvdG90eXBlLmVhY2hNYXBwaW5nID1cbiAgZnVuY3Rpb24gU291cmNlTWFwQ29uc3VtZXJfZWFjaE1hcHBpbmcoYUNhbGxiYWNrLCBhQ29udGV4dCwgYU9yZGVyKSB7XG4gICAgdmFyIGNvbnRleHQgPSBhQ29udGV4dCB8fCBudWxsO1xuICAgIHZhciBvcmRlciA9IGFPcmRlciB8fCBTb3VyY2VNYXBDb25zdW1lci5HRU5FUkFURURfT1JERVI7XG5cbiAgICB2YXIgbWFwcGluZ3M7XG4gICAgc3dpdGNoIChvcmRlcikge1xuICAgIGNhc2UgU291cmNlTWFwQ29uc3VtZXIuR0VORVJBVEVEX09SREVSOlxuICAgICAgbWFwcGluZ3MgPSB0aGlzLl9nZW5lcmF0ZWRNYXBwaW5ncztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgU291cmNlTWFwQ29uc3VtZXIuT1JJR0lOQUxfT1JERVI6XG4gICAgICBtYXBwaW5ncyA9IHRoaXMuX29yaWdpbmFsTWFwcGluZ3M7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBvcmRlciBvZiBpdGVyYXRpb24uXCIpO1xuICAgIH1cblxuICAgIHZhciBzb3VyY2VSb290ID0gdGhpcy5zb3VyY2VSb290O1xuICAgIG1hcHBpbmdzLm1hcChmdW5jdGlvbiAobWFwcGluZykge1xuICAgICAgdmFyIHNvdXJjZSA9IG1hcHBpbmcuc291cmNlID09PSBudWxsID8gbnVsbCA6IHRoaXMuX3NvdXJjZXMuYXQobWFwcGluZy5zb3VyY2UpO1xuICAgICAgc291cmNlID0gdXRpbC5jb21wdXRlU291cmNlVVJMKHNvdXJjZVJvb3QsIHNvdXJjZSwgdGhpcy5fc291cmNlTWFwVVJMKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHNvdXJjZTogc291cmNlLFxuICAgICAgICBnZW5lcmF0ZWRMaW5lOiBtYXBwaW5nLmdlbmVyYXRlZExpbmUsXG4gICAgICAgIGdlbmVyYXRlZENvbHVtbjogbWFwcGluZy5nZW5lcmF0ZWRDb2x1bW4sXG4gICAgICAgIG9yaWdpbmFsTGluZTogbWFwcGluZy5vcmlnaW5hbExpbmUsXG4gICAgICAgIG9yaWdpbmFsQ29sdW1uOiBtYXBwaW5nLm9yaWdpbmFsQ29sdW1uLFxuICAgICAgICBuYW1lOiBtYXBwaW5nLm5hbWUgPT09IG51bGwgPyBudWxsIDogdGhpcy5fbmFtZXMuYXQobWFwcGluZy5uYW1lKVxuICAgICAgfTtcbiAgICB9LCB0aGlzKS5mb3JFYWNoKGFDYWxsYmFjaywgY29udGV4dCk7XG4gIH07XG5cbi8qKlxuICogUmV0dXJucyBhbGwgZ2VuZXJhdGVkIGxpbmUgYW5kIGNvbHVtbiBpbmZvcm1hdGlvbiBmb3IgdGhlIG9yaWdpbmFsIHNvdXJjZSxcbiAqIGxpbmUsIGFuZCBjb2x1bW4gcHJvdmlkZWQuIElmIG5vIGNvbHVtbiBpcyBwcm92aWRlZCwgcmV0dXJucyBhbGwgbWFwcGluZ3NcbiAqIGNvcnJlc3BvbmRpbmcgdG8gYSBlaXRoZXIgdGhlIGxpbmUgd2UgYXJlIHNlYXJjaGluZyBmb3Igb3IgdGhlIG5leHRcbiAqIGNsb3Nlc3QgbGluZSB0aGF0IGhhcyBhbnkgbWFwcGluZ3MuIE90aGVyd2lzZSwgcmV0dXJucyBhbGwgbWFwcGluZ3NcbiAqIGNvcnJlc3BvbmRpbmcgdG8gdGhlIGdpdmVuIGxpbmUgYW5kIGVpdGhlciB0aGUgY29sdW1uIHdlIGFyZSBzZWFyY2hpbmcgZm9yXG4gKiBvciB0aGUgbmV4dCBjbG9zZXN0IGNvbHVtbiB0aGF0IGhhcyBhbnkgb2Zmc2V0cy5cbiAqXG4gKiBUaGUgb25seSBhcmd1bWVudCBpcyBhbiBvYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gKlxuICogICAtIHNvdXJjZTogVGhlIGZpbGVuYW1lIG9mIHRoZSBvcmlnaW5hbCBzb3VyY2UuXG4gKiAgIC0gbGluZTogVGhlIGxpbmUgbnVtYmVyIGluIHRoZSBvcmlnaW5hbCBzb3VyY2UuICBUaGUgbGluZSBudW1iZXIgaXMgMS1iYXNlZC5cbiAqICAgLSBjb2x1bW46IE9wdGlvbmFsLiB0aGUgY29sdW1uIG51bWJlciBpbiB0aGUgb3JpZ2luYWwgc291cmNlLlxuICogICAgVGhlIGNvbHVtbiBudW1iZXIgaXMgMC1iYXNlZC5cbiAqXG4gKiBhbmQgYW4gYXJyYXkgb2Ygb2JqZWN0cyBpcyByZXR1cm5lZCwgZWFjaCB3aXRoIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAqXG4gKiAgIC0gbGluZTogVGhlIGxpbmUgbnVtYmVyIGluIHRoZSBnZW5lcmF0ZWQgc291cmNlLCBvciBudWxsLiAgVGhlXG4gKiAgICBsaW5lIG51bWJlciBpcyAxLWJhc2VkLlxuICogICAtIGNvbHVtbjogVGhlIGNvbHVtbiBudW1iZXIgaW4gdGhlIGdlbmVyYXRlZCBzb3VyY2UsIG9yIG51bGwuXG4gKiAgICBUaGUgY29sdW1uIG51bWJlciBpcyAwLWJhc2VkLlxuICovXG5Tb3VyY2VNYXBDb25zdW1lci5wcm90b3R5cGUuYWxsR2VuZXJhdGVkUG9zaXRpb25zRm9yID1cbiAgZnVuY3Rpb24gU291cmNlTWFwQ29uc3VtZXJfYWxsR2VuZXJhdGVkUG9zaXRpb25zRm9yKGFBcmdzKSB7XG4gICAgdmFyIGxpbmUgPSB1dGlsLmdldEFyZyhhQXJncywgJ2xpbmUnKTtcblxuICAgIC8vIFdoZW4gdGhlcmUgaXMgbm8gZXhhY3QgbWF0Y2gsIEJhc2ljU291cmNlTWFwQ29uc3VtZXIucHJvdG90eXBlLl9maW5kTWFwcGluZ1xuICAgIC8vIHJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBjbG9zZXN0IG1hcHBpbmcgbGVzcyB0aGFuIHRoZSBuZWVkbGUuIEJ5XG4gICAgLy8gc2V0dGluZyBuZWVkbGUub3JpZ2luYWxDb2x1bW4gdG8gMCwgd2UgdGh1cyBmaW5kIHRoZSBsYXN0IG1hcHBpbmcgZm9yXG4gICAgLy8gdGhlIGdpdmVuIGxpbmUsIHByb3ZpZGVkIHN1Y2ggYSBtYXBwaW5nIGV4aXN0cy5cbiAgICB2YXIgbmVlZGxlID0ge1xuICAgICAgc291cmNlOiB1dGlsLmdldEFyZyhhQXJncywgJ3NvdXJjZScpLFxuICAgICAgb3JpZ2luYWxMaW5lOiBsaW5lLFxuICAgICAgb3JpZ2luYWxDb2x1bW46IHV0aWwuZ2V0QXJnKGFBcmdzLCAnY29sdW1uJywgMClcbiAgICB9O1xuXG4gICAgbmVlZGxlLnNvdXJjZSA9IHRoaXMuX2ZpbmRTb3VyY2VJbmRleChuZWVkbGUuc291cmNlKTtcbiAgICBpZiAobmVlZGxlLnNvdXJjZSA8IDApIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICB2YXIgbWFwcGluZ3MgPSBbXTtcblxuICAgIHZhciBpbmRleCA9IHRoaXMuX2ZpbmRNYXBwaW5nKG5lZWRsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9vcmlnaW5hbE1hcHBpbmdzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwib3JpZ2luYWxMaW5lXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJvcmlnaW5hbENvbHVtblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV0aWwuY29tcGFyZUJ5T3JpZ2luYWxQb3NpdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmluYXJ5U2VhcmNoLkxFQVNUX1VQUEVSX0JPVU5EKTtcbiAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgdmFyIG1hcHBpbmcgPSB0aGlzLl9vcmlnaW5hbE1hcHBpbmdzW2luZGV4XTtcblxuICAgICAgaWYgKGFBcmdzLmNvbHVtbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHZhciBvcmlnaW5hbExpbmUgPSBtYXBwaW5nLm9yaWdpbmFsTGluZTtcblxuICAgICAgICAvLyBJdGVyYXRlIHVudGlsIGVpdGhlciB3ZSBydW4gb3V0IG9mIG1hcHBpbmdzLCBvciB3ZSBydW4gaW50b1xuICAgICAgICAvLyBhIG1hcHBpbmcgZm9yIGEgZGlmZmVyZW50IGxpbmUgdGhhbiB0aGUgb25lIHdlIGZvdW5kLiBTaW5jZVxuICAgICAgICAvLyBtYXBwaW5ncyBhcmUgc29ydGVkLCB0aGlzIGlzIGd1YXJhbnRlZWQgdG8gZmluZCBhbGwgbWFwcGluZ3MgZm9yXG4gICAgICAgIC8vIHRoZSBsaW5lIHdlIGZvdW5kLlxuICAgICAgICB3aGlsZSAobWFwcGluZyAmJiBtYXBwaW5nLm9yaWdpbmFsTGluZSA9PT0gb3JpZ2luYWxMaW5lKSB7XG4gICAgICAgICAgbWFwcGluZ3MucHVzaCh7XG4gICAgICAgICAgICBsaW5lOiB1dGlsLmdldEFyZyhtYXBwaW5nLCAnZ2VuZXJhdGVkTGluZScsIG51bGwpLFxuICAgICAgICAgICAgY29sdW1uOiB1dGlsLmdldEFyZyhtYXBwaW5nLCAnZ2VuZXJhdGVkQ29sdW1uJywgbnVsbCksXG4gICAgICAgICAgICBsYXN0Q29sdW1uOiB1dGlsLmdldEFyZyhtYXBwaW5nLCAnbGFzdEdlbmVyYXRlZENvbHVtbicsIG51bGwpXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBtYXBwaW5nID0gdGhpcy5fb3JpZ2luYWxNYXBwaW5nc1srK2luZGV4XTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIG9yaWdpbmFsQ29sdW1uID0gbWFwcGluZy5vcmlnaW5hbENvbHVtbjtcblxuICAgICAgICAvLyBJdGVyYXRlIHVudGlsIGVpdGhlciB3ZSBydW4gb3V0IG9mIG1hcHBpbmdzLCBvciB3ZSBydW4gaW50b1xuICAgICAgICAvLyBhIG1hcHBpbmcgZm9yIGEgZGlmZmVyZW50IGxpbmUgdGhhbiB0aGUgb25lIHdlIHdlcmUgc2VhcmNoaW5nIGZvci5cbiAgICAgICAgLy8gU2luY2UgbWFwcGluZ3MgYXJlIHNvcnRlZCwgdGhpcyBpcyBndWFyYW50ZWVkIHRvIGZpbmQgYWxsIG1hcHBpbmdzIGZvclxuICAgICAgICAvLyB0aGUgbGluZSB3ZSBhcmUgc2VhcmNoaW5nIGZvci5cbiAgICAgICAgd2hpbGUgKG1hcHBpbmcgJiZcbiAgICAgICAgICAgICAgIG1hcHBpbmcub3JpZ2luYWxMaW5lID09PSBsaW5lICYmXG4gICAgICAgICAgICAgICBtYXBwaW5nLm9yaWdpbmFsQ29sdW1uID09IG9yaWdpbmFsQ29sdW1uKSB7XG4gICAgICAgICAgbWFwcGluZ3MucHVzaCh7XG4gICAgICAgICAgICBsaW5lOiB1dGlsLmdldEFyZyhtYXBwaW5nLCAnZ2VuZXJhdGVkTGluZScsIG51bGwpLFxuICAgICAgICAgICAgY29sdW1uOiB1dGlsLmdldEFyZyhtYXBwaW5nLCAnZ2VuZXJhdGVkQ29sdW1uJywgbnVsbCksXG4gICAgICAgICAgICBsYXN0Q29sdW1uOiB1dGlsLmdldEFyZyhtYXBwaW5nLCAnbGFzdEdlbmVyYXRlZENvbHVtbicsIG51bGwpXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBtYXBwaW5nID0gdGhpcy5fb3JpZ2luYWxNYXBwaW5nc1srK2luZGV4XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBtYXBwaW5ncztcbiAgfTtcblxuZXhwb3J0cy5Tb3VyY2VNYXBDb25zdW1lciA9IFNvdXJjZU1hcENvbnN1bWVyO1xuXG4vKipcbiAqIEEgQmFzaWNTb3VyY2VNYXBDb25zdW1lciBpbnN0YW5jZSByZXByZXNlbnRzIGEgcGFyc2VkIHNvdXJjZSBtYXAgd2hpY2ggd2UgY2FuXG4gKiBxdWVyeSBmb3IgaW5mb3JtYXRpb24gYWJvdXQgdGhlIG9yaWdpbmFsIGZpbGUgcG9zaXRpb25zIGJ5IGdpdmluZyBpdCBhIGZpbGVcbiAqIHBvc2l0aW9uIGluIHRoZSBnZW5lcmF0ZWQgc291cmNlLlxuICpcbiAqIFRoZSBmaXJzdCBwYXJhbWV0ZXIgaXMgdGhlIHJhdyBzb3VyY2UgbWFwIChlaXRoZXIgYXMgYSBKU09OIHN0cmluZywgb3JcbiAqIGFscmVhZHkgcGFyc2VkIHRvIGFuIG9iamVjdCkuIEFjY29yZGluZyB0byB0aGUgc3BlYywgc291cmNlIG1hcHMgaGF2ZSB0aGVcbiAqIGZvbGxvd2luZyBhdHRyaWJ1dGVzOlxuICpcbiAqICAgLSB2ZXJzaW9uOiBXaGljaCB2ZXJzaW9uIG9mIHRoZSBzb3VyY2UgbWFwIHNwZWMgdGhpcyBtYXAgaXMgZm9sbG93aW5nLlxuICogICAtIHNvdXJjZXM6IEFuIGFycmF5IG9mIFVSTHMgdG8gdGhlIG9yaWdpbmFsIHNvdXJjZSBmaWxlcy5cbiAqICAgLSBuYW1lczogQW4gYXJyYXkgb2YgaWRlbnRpZmllcnMgd2hpY2ggY2FuIGJlIHJlZmVycmVuY2VkIGJ5IGluZGl2aWR1YWwgbWFwcGluZ3MuXG4gKiAgIC0gc291cmNlUm9vdDogT3B0aW9uYWwuIFRoZSBVUkwgcm9vdCBmcm9tIHdoaWNoIGFsbCBzb3VyY2VzIGFyZSByZWxhdGl2ZS5cbiAqICAgLSBzb3VyY2VzQ29udGVudDogT3B0aW9uYWwuIEFuIGFycmF5IG9mIGNvbnRlbnRzIG9mIHRoZSBvcmlnaW5hbCBzb3VyY2UgZmlsZXMuXG4gKiAgIC0gbWFwcGluZ3M6IEEgc3RyaW5nIG9mIGJhc2U2NCBWTFFzIHdoaWNoIGNvbnRhaW4gdGhlIGFjdHVhbCBtYXBwaW5ncy5cbiAqICAgLSBmaWxlOiBPcHRpb25hbC4gVGhlIGdlbmVyYXRlZCBmaWxlIHRoaXMgc291cmNlIG1hcCBpcyBhc3NvY2lhdGVkIHdpdGguXG4gKlxuICogSGVyZSBpcyBhbiBleGFtcGxlIHNvdXJjZSBtYXAsIHRha2VuIGZyb20gdGhlIHNvdXJjZSBtYXAgc3BlY1swXTpcbiAqXG4gKiAgICAge1xuICogICAgICAgdmVyc2lvbiA6IDMsXG4gKiAgICAgICBmaWxlOiBcIm91dC5qc1wiLFxuICogICAgICAgc291cmNlUm9vdCA6IFwiXCIsXG4gKiAgICAgICBzb3VyY2VzOiBbXCJmb28uanNcIiwgXCJiYXIuanNcIl0sXG4gKiAgICAgICBuYW1lczogW1wic3JjXCIsIFwibWFwc1wiLCBcImFyZVwiLCBcImZ1blwiXSxcbiAqICAgICAgIG1hcHBpbmdzOiBcIkFBLEFCOztBQkNERTtcIlxuICogICAgIH1cbiAqXG4gKiBUaGUgc2Vjb25kIHBhcmFtZXRlciwgaWYgZ2l2ZW4sIGlzIGEgc3RyaW5nIHdob3NlIHZhbHVlIGlzIHRoZSBVUkxcbiAqIGF0IHdoaWNoIHRoZSBzb3VyY2UgbWFwIHdhcyBmb3VuZC4gIFRoaXMgVVJMIGlzIHVzZWQgdG8gY29tcHV0ZSB0aGVcbiAqIHNvdXJjZXMgYXJyYXkuXG4gKlxuICogWzBdOiBodHRwczovL2RvY3MuZ29vZ2xlLmNvbS9kb2N1bWVudC9kLzFVMVJHQWVoUXdSeXBVVG92RjFLUmxwaU9GemUwYi1fMmdjNmZBSDBLWTBrL2VkaXQ/cGxpPTEjXG4gKi9cbmZ1bmN0aW9uIEJhc2ljU291cmNlTWFwQ29uc3VtZXIoYVNvdXJjZU1hcCwgYVNvdXJjZU1hcFVSTCkge1xuICB2YXIgc291cmNlTWFwID0gYVNvdXJjZU1hcDtcbiAgaWYgKHR5cGVvZiBhU291cmNlTWFwID09PSAnc3RyaW5nJykge1xuICAgIHNvdXJjZU1hcCA9IHV0aWwucGFyc2VTb3VyY2VNYXBJbnB1dChhU291cmNlTWFwKTtcbiAgfVxuXG4gIHZhciB2ZXJzaW9uID0gdXRpbC5nZXRBcmcoc291cmNlTWFwLCAndmVyc2lvbicpO1xuICB2YXIgc291cmNlcyA9IHV0aWwuZ2V0QXJnKHNvdXJjZU1hcCwgJ3NvdXJjZXMnKTtcbiAgLy8gU2FzcyAzLjMgbGVhdmVzIG91dCB0aGUgJ25hbWVzJyBhcnJheSwgc28gd2UgZGV2aWF0ZSBmcm9tIHRoZSBzcGVjICh3aGljaFxuICAvLyByZXF1aXJlcyB0aGUgYXJyYXkpIHRvIHBsYXkgbmljZSBoZXJlLlxuICB2YXIgbmFtZXMgPSB1dGlsLmdldEFyZyhzb3VyY2VNYXAsICduYW1lcycsIFtdKTtcbiAgdmFyIHNvdXJjZVJvb3QgPSB1dGlsLmdldEFyZyhzb3VyY2VNYXAsICdzb3VyY2VSb290JywgbnVsbCk7XG4gIHZhciBzb3VyY2VzQ29udGVudCA9IHV0aWwuZ2V0QXJnKHNvdXJjZU1hcCwgJ3NvdXJjZXNDb250ZW50JywgbnVsbCk7XG4gIHZhciBtYXBwaW5ncyA9IHV0aWwuZ2V0QXJnKHNvdXJjZU1hcCwgJ21hcHBpbmdzJyk7XG4gIHZhciBmaWxlID0gdXRpbC5nZXRBcmcoc291cmNlTWFwLCAnZmlsZScsIG51bGwpO1xuXG4gIC8vIE9uY2UgYWdhaW4sIFNhc3MgZGV2aWF0ZXMgZnJvbSB0aGUgc3BlYyBhbmQgc3VwcGxpZXMgdGhlIHZlcnNpb24gYXMgYVxuICAvLyBzdHJpbmcgcmF0aGVyIHRoYW4gYSBudW1iZXIsIHNvIHdlIHVzZSBsb29zZSBlcXVhbGl0eSBjaGVja2luZyBoZXJlLlxuICBpZiAodmVyc2lvbiAhPSB0aGlzLl92ZXJzaW9uKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdVbnN1cHBvcnRlZCB2ZXJzaW9uOiAnICsgdmVyc2lvbik7XG4gIH1cblxuICBpZiAoc291cmNlUm9vdCkge1xuICAgIHNvdXJjZVJvb3QgPSB1dGlsLm5vcm1hbGl6ZShzb3VyY2VSb290KTtcbiAgfVxuXG4gIHNvdXJjZXMgPSBzb3VyY2VzXG4gICAgLm1hcChTdHJpbmcpXG4gICAgLy8gU29tZSBzb3VyY2UgbWFwcyBwcm9kdWNlIHJlbGF0aXZlIHNvdXJjZSBwYXRocyBsaWtlIFwiLi9mb28uanNcIiBpbnN0ZWFkIG9mXG4gICAgLy8gXCJmb28uanNcIi4gIE5vcm1hbGl6ZSB0aGVzZSBmaXJzdCBzbyB0aGF0IGZ1dHVyZSBjb21wYXJpc29ucyB3aWxsIHN1Y2NlZWQuXG4gICAgLy8gU2VlIGJ1Z3ppbC5sYS8xMDkwNzY4LlxuICAgIC5tYXAodXRpbC5ub3JtYWxpemUpXG4gICAgLy8gQWx3YXlzIGVuc3VyZSB0aGF0IGFic29sdXRlIHNvdXJjZXMgYXJlIGludGVybmFsbHkgc3RvcmVkIHJlbGF0aXZlIHRvXG4gICAgLy8gdGhlIHNvdXJjZSByb290LCBpZiB0aGUgc291cmNlIHJvb3QgaXMgYWJzb2x1dGUuIE5vdCBkb2luZyB0aGlzIHdvdWxkXG4gICAgLy8gYmUgcGFydGljdWxhcmx5IHByb2JsZW1hdGljIHdoZW4gdGhlIHNvdXJjZSByb290IGlzIGEgcHJlZml4IG9mIHRoZVxuICAgIC8vIHNvdXJjZSAodmFsaWQsIGJ1dCB3aHk/PykuIFNlZSBnaXRodWIgaXNzdWUgIzE5OSBhbmQgYnVnemlsLmxhLzExODg5ODIuXG4gICAgLm1hcChmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICByZXR1cm4gc291cmNlUm9vdCAmJiB1dGlsLmlzQWJzb2x1dGUoc291cmNlUm9vdCkgJiYgdXRpbC5pc0Fic29sdXRlKHNvdXJjZSlcbiAgICAgICAgPyB1dGlsLnJlbGF0aXZlKHNvdXJjZVJvb3QsIHNvdXJjZSlcbiAgICAgICAgOiBzb3VyY2U7XG4gICAgfSk7XG5cbiAgLy8gUGFzcyBgdHJ1ZWAgYmVsb3cgdG8gYWxsb3cgZHVwbGljYXRlIG5hbWVzIGFuZCBzb3VyY2VzLiBXaGlsZSBzb3VyY2UgbWFwc1xuICAvLyBhcmUgaW50ZW5kZWQgdG8gYmUgY29tcHJlc3NlZCBhbmQgZGVkdXBsaWNhdGVkLCB0aGUgVHlwZVNjcmlwdCBjb21waWxlclxuICAvLyBzb21ldGltZXMgZ2VuZXJhdGVzIHNvdXJjZSBtYXBzIHdpdGggZHVwbGljYXRlcyBpbiB0aGVtLiBTZWUgR2l0aHViIGlzc3VlXG4gIC8vICM3MiBhbmQgYnVnemlsLmxhLzg4OTQ5Mi5cbiAgdGhpcy5fbmFtZXMgPSBBcnJheVNldC5mcm9tQXJyYXkobmFtZXMubWFwKFN0cmluZyksIHRydWUpO1xuICB0aGlzLl9zb3VyY2VzID0gQXJyYXlTZXQuZnJvbUFycmF5KHNvdXJjZXMsIHRydWUpO1xuXG4gIHRoaXMuX2Fic29sdXRlU291cmNlcyA9IHRoaXMuX3NvdXJjZXMudG9BcnJheSgpLm1hcChmdW5jdGlvbiAocykge1xuICAgIHJldHVybiB1dGlsLmNvbXB1dGVTb3VyY2VVUkwoc291cmNlUm9vdCwgcywgYVNvdXJjZU1hcFVSTCk7XG4gIH0pO1xuXG4gIHRoaXMuc291cmNlUm9vdCA9IHNvdXJjZVJvb3Q7XG4gIHRoaXMuc291cmNlc0NvbnRlbnQgPSBzb3VyY2VzQ29udGVudDtcbiAgdGhpcy5fbWFwcGluZ3MgPSBtYXBwaW5ncztcbiAgdGhpcy5fc291cmNlTWFwVVJMID0gYVNvdXJjZU1hcFVSTDtcbiAgdGhpcy5maWxlID0gZmlsZTtcbn1cblxuQmFzaWNTb3VyY2VNYXBDb25zdW1lci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFNvdXJjZU1hcENvbnN1bWVyLnByb3RvdHlwZSk7XG5CYXNpY1NvdXJjZU1hcENvbnN1bWVyLnByb3RvdHlwZS5jb25zdW1lciA9IFNvdXJjZU1hcENvbnN1bWVyO1xuXG4vKipcbiAqIFV0aWxpdHkgZnVuY3Rpb24gdG8gZmluZCB0aGUgaW5kZXggb2YgYSBzb3VyY2UuICBSZXR1cm5zIC0xIGlmIG5vdFxuICogZm91bmQuXG4gKi9cbkJhc2ljU291cmNlTWFwQ29uc3VtZXIucHJvdG90eXBlLl9maW5kU291cmNlSW5kZXggPSBmdW5jdGlvbihhU291cmNlKSB7XG4gIHZhciByZWxhdGl2ZVNvdXJjZSA9IGFTb3VyY2U7XG4gIGlmICh0aGlzLnNvdXJjZVJvb3QgIT0gbnVsbCkge1xuICAgIHJlbGF0aXZlU291cmNlID0gdXRpbC5yZWxhdGl2ZSh0aGlzLnNvdXJjZVJvb3QsIHJlbGF0aXZlU291cmNlKTtcbiAgfVxuXG4gIGlmICh0aGlzLl9zb3VyY2VzLmhhcyhyZWxhdGl2ZVNvdXJjZSkpIHtcbiAgICByZXR1cm4gdGhpcy5fc291cmNlcy5pbmRleE9mKHJlbGF0aXZlU291cmNlKTtcbiAgfVxuXG4gIC8vIE1heWJlIGFTb3VyY2UgaXMgYW4gYWJzb2x1dGUgVVJMIGFzIHJldHVybmVkIGJ5IHxzb3VyY2VzfC4gIEluXG4gIC8vIHRoaXMgY2FzZSB3ZSBjYW4ndCBzaW1wbHkgdW5kbyB0aGUgdHJhbnNmb3JtLlxuICB2YXIgaTtcbiAgZm9yIChpID0gMDsgaSA8IHRoaXMuX2Fic29sdXRlU291cmNlcy5sZW5ndGg7ICsraSkge1xuICAgIGlmICh0aGlzLl9hYnNvbHV0ZVNvdXJjZXNbaV0gPT0gYVNvdXJjZSkge1xuICAgICAgcmV0dXJuIGk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIC0xO1xufTtcblxuLyoqXG4gKiBDcmVhdGUgYSBCYXNpY1NvdXJjZU1hcENvbnN1bWVyIGZyb20gYSBTb3VyY2VNYXBHZW5lcmF0b3IuXG4gKlxuICogQHBhcmFtIFNvdXJjZU1hcEdlbmVyYXRvciBhU291cmNlTWFwXG4gKiAgICAgICAgVGhlIHNvdXJjZSBtYXAgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuICogQHBhcmFtIFN0cmluZyBhU291cmNlTWFwVVJMXG4gKiAgICAgICAgVGhlIFVSTCBhdCB3aGljaCB0aGUgc291cmNlIG1hcCBjYW4gYmUgZm91bmQgKG9wdGlvbmFsKVxuICogQHJldHVybnMgQmFzaWNTb3VyY2VNYXBDb25zdW1lclxuICovXG5CYXNpY1NvdXJjZU1hcENvbnN1bWVyLmZyb21Tb3VyY2VNYXAgPVxuICBmdW5jdGlvbiBTb3VyY2VNYXBDb25zdW1lcl9mcm9tU291cmNlTWFwKGFTb3VyY2VNYXAsIGFTb3VyY2VNYXBVUkwpIHtcbiAgICB2YXIgc21jID0gT2JqZWN0LmNyZWF0ZShCYXNpY1NvdXJjZU1hcENvbnN1bWVyLnByb3RvdHlwZSk7XG5cbiAgICB2YXIgbmFtZXMgPSBzbWMuX25hbWVzID0gQXJyYXlTZXQuZnJvbUFycmF5KGFTb3VyY2VNYXAuX25hbWVzLnRvQXJyYXkoKSwgdHJ1ZSk7XG4gICAgdmFyIHNvdXJjZXMgPSBzbWMuX3NvdXJjZXMgPSBBcnJheVNldC5mcm9tQXJyYXkoYVNvdXJjZU1hcC5fc291cmNlcy50b0FycmF5KCksIHRydWUpO1xuICAgIHNtYy5zb3VyY2VSb290ID0gYVNvdXJjZU1hcC5fc291cmNlUm9vdDtcbiAgICBzbWMuc291cmNlc0NvbnRlbnQgPSBhU291cmNlTWFwLl9nZW5lcmF0ZVNvdXJjZXNDb250ZW50KHNtYy5fc291cmNlcy50b0FycmF5KCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbWMuc291cmNlUm9vdCk7XG4gICAgc21jLmZpbGUgPSBhU291cmNlTWFwLl9maWxlO1xuICAgIHNtYy5fc291cmNlTWFwVVJMID0gYVNvdXJjZU1hcFVSTDtcbiAgICBzbWMuX2Fic29sdXRlU291cmNlcyA9IHNtYy5fc291cmNlcy50b0FycmF5KCkubWFwKGZ1bmN0aW9uIChzKSB7XG4gICAgICByZXR1cm4gdXRpbC5jb21wdXRlU291cmNlVVJMKHNtYy5zb3VyY2VSb290LCBzLCBhU291cmNlTWFwVVJMKTtcbiAgICB9KTtcblxuICAgIC8vIEJlY2F1c2Ugd2UgYXJlIG1vZGlmeWluZyB0aGUgZW50cmllcyAoYnkgY29udmVydGluZyBzdHJpbmcgc291cmNlcyBhbmRcbiAgICAvLyBuYW1lcyB0byBpbmRpY2VzIGludG8gdGhlIHNvdXJjZXMgYW5kIG5hbWVzIEFycmF5U2V0cyksIHdlIGhhdmUgdG8gbWFrZVxuICAgIC8vIGEgY29weSBvZiB0aGUgZW50cnkgb3IgZWxzZSBiYWQgdGhpbmdzIGhhcHBlbi4gU2hhcmVkIG11dGFibGUgc3RhdGVcbiAgICAvLyBzdHJpa2VzIGFnYWluISBTZWUgZ2l0aHViIGlzc3VlICMxOTEuXG5cbiAgICB2YXIgZ2VuZXJhdGVkTWFwcGluZ3MgPSBhU291cmNlTWFwLl9tYXBwaW5ncy50b0FycmF5KCkuc2xpY2UoKTtcbiAgICB2YXIgZGVzdEdlbmVyYXRlZE1hcHBpbmdzID0gc21jLl9fZ2VuZXJhdGVkTWFwcGluZ3MgPSBbXTtcbiAgICB2YXIgZGVzdE9yaWdpbmFsTWFwcGluZ3MgPSBzbWMuX19vcmlnaW5hbE1hcHBpbmdzID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gZ2VuZXJhdGVkTWFwcGluZ3MubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzcmNNYXBwaW5nID0gZ2VuZXJhdGVkTWFwcGluZ3NbaV07XG4gICAgICB2YXIgZGVzdE1hcHBpbmcgPSBuZXcgTWFwcGluZztcbiAgICAgIGRlc3RNYXBwaW5nLmdlbmVyYXRlZExpbmUgPSBzcmNNYXBwaW5nLmdlbmVyYXRlZExpbmU7XG4gICAgICBkZXN0TWFwcGluZy5nZW5lcmF0ZWRDb2x1bW4gPSBzcmNNYXBwaW5nLmdlbmVyYXRlZENvbHVtbjtcblxuICAgICAgaWYgKHNyY01hcHBpbmcuc291cmNlKSB7XG4gICAgICAgIGRlc3RNYXBwaW5nLnNvdXJjZSA9IHNvdXJjZXMuaW5kZXhPZihzcmNNYXBwaW5nLnNvdXJjZSk7XG4gICAgICAgIGRlc3RNYXBwaW5nLm9yaWdpbmFsTGluZSA9IHNyY01hcHBpbmcub3JpZ2luYWxMaW5lO1xuICAgICAgICBkZXN0TWFwcGluZy5vcmlnaW5hbENvbHVtbiA9IHNyY01hcHBpbmcub3JpZ2luYWxDb2x1bW47XG5cbiAgICAgICAgaWYgKHNyY01hcHBpbmcubmFtZSkge1xuICAgICAgICAgIGRlc3RNYXBwaW5nLm5hbWUgPSBuYW1lcy5pbmRleE9mKHNyY01hcHBpbmcubmFtZSk7XG4gICAgICAgIH1cblxuICAgICAgICBkZXN0T3JpZ2luYWxNYXBwaW5ncy5wdXNoKGRlc3RNYXBwaW5nKTtcbiAgICAgIH1cblxuICAgICAgZGVzdEdlbmVyYXRlZE1hcHBpbmdzLnB1c2goZGVzdE1hcHBpbmcpO1xuICAgIH1cblxuICAgIHF1aWNrU29ydChzbWMuX19vcmlnaW5hbE1hcHBpbmdzLCB1dGlsLmNvbXBhcmVCeU9yaWdpbmFsUG9zaXRpb25zKTtcblxuICAgIHJldHVybiBzbWM7XG4gIH07XG5cbi8qKlxuICogVGhlIHZlcnNpb24gb2YgdGhlIHNvdXJjZSBtYXBwaW5nIHNwZWMgdGhhdCB3ZSBhcmUgY29uc3VtaW5nLlxuICovXG5CYXNpY1NvdXJjZU1hcENvbnN1bWVyLnByb3RvdHlwZS5fdmVyc2lvbiA9IDM7XG5cbi8qKlxuICogVGhlIGxpc3Qgb2Ygb3JpZ2luYWwgc291cmNlcy5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KEJhc2ljU291cmNlTWFwQ29uc3VtZXIucHJvdG90eXBlLCAnc291cmNlcycsIHtcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2Fic29sdXRlU291cmNlcy5zbGljZSgpO1xuICB9XG59KTtcblxuLyoqXG4gKiBQcm92aWRlIHRoZSBKSVQgd2l0aCBhIG5pY2Ugc2hhcGUgLyBoaWRkZW4gY2xhc3MuXG4gKi9cbmZ1bmN0aW9uIE1hcHBpbmcoKSB7XG4gIHRoaXMuZ2VuZXJhdGVkTGluZSA9IDA7XG4gIHRoaXMuZ2VuZXJhdGVkQ29sdW1uID0gMDtcbiAgdGhpcy5zb3VyY2UgPSBudWxsO1xuICB0aGlzLm9yaWdpbmFsTGluZSA9IG51bGw7XG4gIHRoaXMub3JpZ2luYWxDb2x1bW4gPSBudWxsO1xuICB0aGlzLm5hbWUgPSBudWxsO1xufVxuXG4vKipcbiAqIFBhcnNlIHRoZSBtYXBwaW5ncyBpbiBhIHN0cmluZyBpbiB0byBhIGRhdGEgc3RydWN0dXJlIHdoaWNoIHdlIGNhbiBlYXNpbHlcbiAqIHF1ZXJ5ICh0aGUgb3JkZXJlZCBhcnJheXMgaW4gdGhlIGB0aGlzLl9fZ2VuZXJhdGVkTWFwcGluZ3NgIGFuZFxuICogYHRoaXMuX19vcmlnaW5hbE1hcHBpbmdzYCBwcm9wZXJ0aWVzKS5cbiAqL1xuQmFzaWNTb3VyY2VNYXBDb25zdW1lci5wcm90b3R5cGUuX3BhcnNlTWFwcGluZ3MgPVxuICBmdW5jdGlvbiBTb3VyY2VNYXBDb25zdW1lcl9wYXJzZU1hcHBpbmdzKGFTdHIsIGFTb3VyY2VSb290KSB7XG4gICAgdmFyIGdlbmVyYXRlZExpbmUgPSAxO1xuICAgIHZhciBwcmV2aW91c0dlbmVyYXRlZENvbHVtbiA9IDA7XG4gICAgdmFyIHByZXZpb3VzT3JpZ2luYWxMaW5lID0gMDtcbiAgICB2YXIgcHJldmlvdXNPcmlnaW5hbENvbHVtbiA9IDA7XG4gICAgdmFyIHByZXZpb3VzU291cmNlID0gMDtcbiAgICB2YXIgcHJldmlvdXNOYW1lID0gMDtcbiAgICB2YXIgbGVuZ3RoID0gYVN0ci5sZW5ndGg7XG4gICAgdmFyIGluZGV4ID0gMDtcbiAgICB2YXIgY2FjaGVkU2VnbWVudHMgPSB7fTtcbiAgICB2YXIgdGVtcCA9IHt9O1xuICAgIHZhciBvcmlnaW5hbE1hcHBpbmdzID0gW107XG4gICAgdmFyIGdlbmVyYXRlZE1hcHBpbmdzID0gW107XG4gICAgdmFyIG1hcHBpbmcsIHN0ciwgc2VnbWVudCwgZW5kLCB2YWx1ZTtcblxuICAgIHdoaWxlIChpbmRleCA8IGxlbmd0aCkge1xuICAgICAgaWYgKGFTdHIuY2hhckF0KGluZGV4KSA9PT0gJzsnKSB7XG4gICAgICAgIGdlbmVyYXRlZExpbmUrKztcbiAgICAgICAgaW5kZXgrKztcbiAgICAgICAgcHJldmlvdXNHZW5lcmF0ZWRDb2x1bW4gPSAwO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoYVN0ci5jaGFyQXQoaW5kZXgpID09PSAnLCcpIHtcbiAgICAgICAgaW5kZXgrKztcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBtYXBwaW5nID0gbmV3IE1hcHBpbmcoKTtcbiAgICAgICAgbWFwcGluZy5nZW5lcmF0ZWRMaW5lID0gZ2VuZXJhdGVkTGluZTtcblxuICAgICAgICAvLyBCZWNhdXNlIGVhY2ggb2Zmc2V0IGlzIGVuY29kZWQgcmVsYXRpdmUgdG8gdGhlIHByZXZpb3VzIG9uZSxcbiAgICAgICAgLy8gbWFueSBzZWdtZW50cyBvZnRlbiBoYXZlIHRoZSBzYW1lIGVuY29kaW5nLiBXZSBjYW4gZXhwbG9pdCB0aGlzXG4gICAgICAgIC8vIGZhY3QgYnkgY2FjaGluZyB0aGUgcGFyc2VkIHZhcmlhYmxlIGxlbmd0aCBmaWVsZHMgb2YgZWFjaCBzZWdtZW50LFxuICAgICAgICAvLyBhbGxvd2luZyB1cyB0byBhdm9pZCBhIHNlY29uZCBwYXJzZSBpZiB3ZSBlbmNvdW50ZXIgdGhlIHNhbWVcbiAgICAgICAgLy8gc2VnbWVudCBhZ2Fpbi5cbiAgICAgICAgZm9yIChlbmQgPSBpbmRleDsgZW5kIDwgbGVuZ3RoOyBlbmQrKykge1xuICAgICAgICAgIGlmICh0aGlzLl9jaGFySXNNYXBwaW5nU2VwYXJhdG9yKGFTdHIsIGVuZCkpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzdHIgPSBhU3RyLnNsaWNlKGluZGV4LCBlbmQpO1xuXG4gICAgICAgIHNlZ21lbnQgPSBjYWNoZWRTZWdtZW50c1tzdHJdO1xuICAgICAgICBpZiAoc2VnbWVudCkge1xuICAgICAgICAgIGluZGV4ICs9IHN0ci5sZW5ndGg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2VnbWVudCA9IFtdO1xuICAgICAgICAgIHdoaWxlIChpbmRleCA8IGVuZCkge1xuICAgICAgICAgICAgYmFzZTY0VkxRLmRlY29kZShhU3RyLCBpbmRleCwgdGVtcCk7XG4gICAgICAgICAgICB2YWx1ZSA9IHRlbXAudmFsdWU7XG4gICAgICAgICAgICBpbmRleCA9IHRlbXAucmVzdDtcbiAgICAgICAgICAgIHNlZ21lbnQucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHNlZ21lbnQubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZvdW5kIGEgc291cmNlLCBidXQgbm8gbGluZSBhbmQgY29sdW1uJyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHNlZ21lbnQubGVuZ3RoID09PSAzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZvdW5kIGEgc291cmNlIGFuZCBsaW5lLCBidXQgbm8gY29sdW1uJyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY2FjaGVkU2VnbWVudHNbc3RyXSA9IHNlZ21lbnQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBHZW5lcmF0ZWQgY29sdW1uLlxuICAgICAgICBtYXBwaW5nLmdlbmVyYXRlZENvbHVtbiA9IHByZXZpb3VzR2VuZXJhdGVkQ29sdW1uICsgc2VnbWVudFswXTtcbiAgICAgICAgcHJldmlvdXNHZW5lcmF0ZWRDb2x1bW4gPSBtYXBwaW5nLmdlbmVyYXRlZENvbHVtbjtcblxuICAgICAgICBpZiAoc2VnbWVudC5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgLy8gT3JpZ2luYWwgc291cmNlLlxuICAgICAgICAgIG1hcHBpbmcuc291cmNlID0gcHJldmlvdXNTb3VyY2UgKyBzZWdtZW50WzFdO1xuICAgICAgICAgIHByZXZpb3VzU291cmNlICs9IHNlZ21lbnRbMV07XG5cbiAgICAgICAgICAvLyBPcmlnaW5hbCBsaW5lLlxuICAgICAgICAgIG1hcHBpbmcub3JpZ2luYWxMaW5lID0gcHJldmlvdXNPcmlnaW5hbExpbmUgKyBzZWdtZW50WzJdO1xuICAgICAgICAgIHByZXZpb3VzT3JpZ2luYWxMaW5lID0gbWFwcGluZy5vcmlnaW5hbExpbmU7XG4gICAgICAgICAgLy8gTGluZXMgYXJlIHN0b3JlZCAwLWJhc2VkXG4gICAgICAgICAgbWFwcGluZy5vcmlnaW5hbExpbmUgKz0gMTtcblxuICAgICAgICAgIC8vIE9yaWdpbmFsIGNvbHVtbi5cbiAgICAgICAgICBtYXBwaW5nLm9yaWdpbmFsQ29sdW1uID0gcHJldmlvdXNPcmlnaW5hbENvbHVtbiArIHNlZ21lbnRbM107XG4gICAgICAgICAgcHJldmlvdXNPcmlnaW5hbENvbHVtbiA9IG1hcHBpbmcub3JpZ2luYWxDb2x1bW47XG5cbiAgICAgICAgICBpZiAoc2VnbWVudC5sZW5ndGggPiA0KSB7XG4gICAgICAgICAgICAvLyBPcmlnaW5hbCBuYW1lLlxuICAgICAgICAgICAgbWFwcGluZy5uYW1lID0gcHJldmlvdXNOYW1lICsgc2VnbWVudFs0XTtcbiAgICAgICAgICAgIHByZXZpb3VzTmFtZSArPSBzZWdtZW50WzRdO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGdlbmVyYXRlZE1hcHBpbmdzLnB1c2gobWFwcGluZyk7XG4gICAgICAgIGlmICh0eXBlb2YgbWFwcGluZy5vcmlnaW5hbExpbmUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgb3JpZ2luYWxNYXBwaW5ncy5wdXNoKG1hcHBpbmcpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcXVpY2tTb3J0KGdlbmVyYXRlZE1hcHBpbmdzLCB1dGlsLmNvbXBhcmVCeUdlbmVyYXRlZFBvc2l0aW9uc0RlZmxhdGVkKTtcbiAgICB0aGlzLl9fZ2VuZXJhdGVkTWFwcGluZ3MgPSBnZW5lcmF0ZWRNYXBwaW5ncztcblxuICAgIHF1aWNrU29ydChvcmlnaW5hbE1hcHBpbmdzLCB1dGlsLmNvbXBhcmVCeU9yaWdpbmFsUG9zaXRpb25zKTtcbiAgICB0aGlzLl9fb3JpZ2luYWxNYXBwaW5ncyA9IG9yaWdpbmFsTWFwcGluZ3M7XG4gIH07XG5cbi8qKlxuICogRmluZCB0aGUgbWFwcGluZyB0aGF0IGJlc3QgbWF0Y2hlcyB0aGUgaHlwb3RoZXRpY2FsIFwibmVlZGxlXCIgbWFwcGluZyB0aGF0XG4gKiB3ZSBhcmUgc2VhcmNoaW5nIGZvciBpbiB0aGUgZ2l2ZW4gXCJoYXlzdGFja1wiIG9mIG1hcHBpbmdzLlxuICovXG5CYXNpY1NvdXJjZU1hcENvbnN1bWVyLnByb3RvdHlwZS5fZmluZE1hcHBpbmcgPVxuICBmdW5jdGlvbiBTb3VyY2VNYXBDb25zdW1lcl9maW5kTWFwcGluZyhhTmVlZGxlLCBhTWFwcGluZ3MsIGFMaW5lTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYUNvbHVtbk5hbWUsIGFDb21wYXJhdG9yLCBhQmlhcykge1xuICAgIC8vIFRvIHJldHVybiB0aGUgcG9zaXRpb24gd2UgYXJlIHNlYXJjaGluZyBmb3IsIHdlIG11c3QgZmlyc3QgZmluZCB0aGVcbiAgICAvLyBtYXBwaW5nIGZvciB0aGUgZ2l2ZW4gcG9zaXRpb24gYW5kIHRoZW4gcmV0dXJuIHRoZSBvcHBvc2l0ZSBwb3NpdGlvbiBpdFxuICAgIC8vIHBvaW50cyB0by4gQmVjYXVzZSB0aGUgbWFwcGluZ3MgYXJlIHNvcnRlZCwgd2UgY2FuIHVzZSBiaW5hcnkgc2VhcmNoIHRvXG4gICAgLy8gZmluZCB0aGUgYmVzdCBtYXBwaW5nLlxuXG4gICAgaWYgKGFOZWVkbGVbYUxpbmVOYW1lXSA8PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdMaW5lIG11c3QgYmUgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIDEsIGdvdCAnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICsgYU5lZWRsZVthTGluZU5hbWVdKTtcbiAgICB9XG4gICAgaWYgKGFOZWVkbGVbYUNvbHVtbk5hbWVdIDwgMCkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ29sdW1uIG11c3QgYmUgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIDAsIGdvdCAnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICsgYU5lZWRsZVthQ29sdW1uTmFtZV0pO1xuICAgIH1cblxuICAgIHJldHVybiBiaW5hcnlTZWFyY2guc2VhcmNoKGFOZWVkbGUsIGFNYXBwaW5ncywgYUNvbXBhcmF0b3IsIGFCaWFzKTtcbiAgfTtcblxuLyoqXG4gKiBDb21wdXRlIHRoZSBsYXN0IGNvbHVtbiBmb3IgZWFjaCBnZW5lcmF0ZWQgbWFwcGluZy4gVGhlIGxhc3QgY29sdW1uIGlzXG4gKiBpbmNsdXNpdmUuXG4gKi9cbkJhc2ljU291cmNlTWFwQ29uc3VtZXIucHJvdG90eXBlLmNvbXB1dGVDb2x1bW5TcGFucyA9XG4gIGZ1bmN0aW9uIFNvdXJjZU1hcENvbnN1bWVyX2NvbXB1dGVDb2x1bW5TcGFucygpIHtcbiAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgdGhpcy5fZ2VuZXJhdGVkTWFwcGluZ3MubGVuZ3RoOyArK2luZGV4KSB7XG4gICAgICB2YXIgbWFwcGluZyA9IHRoaXMuX2dlbmVyYXRlZE1hcHBpbmdzW2luZGV4XTtcblxuICAgICAgLy8gTWFwcGluZ3MgZG8gbm90IGNvbnRhaW4gYSBmaWVsZCBmb3IgdGhlIGxhc3QgZ2VuZXJhdGVkIGNvbHVtbnQuIFdlXG4gICAgICAvLyBjYW4gY29tZSB1cCB3aXRoIGFuIG9wdGltaXN0aWMgZXN0aW1hdGUsIGhvd2V2ZXIsIGJ5IGFzc3VtaW5nIHRoYXRcbiAgICAgIC8vIG1hcHBpbmdzIGFyZSBjb250aWd1b3VzIChpLmUuIGdpdmVuIHR3byBjb25zZWN1dGl2ZSBtYXBwaW5ncywgdGhlXG4gICAgICAvLyBmaXJzdCBtYXBwaW5nIGVuZHMgd2hlcmUgdGhlIHNlY29uZCBvbmUgc3RhcnRzKS5cbiAgICAgIGlmIChpbmRleCArIDEgPCB0aGlzLl9nZW5lcmF0ZWRNYXBwaW5ncy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIG5leHRNYXBwaW5nID0gdGhpcy5fZ2VuZXJhdGVkTWFwcGluZ3NbaW5kZXggKyAxXTtcblxuICAgICAgICBpZiAobWFwcGluZy5nZW5lcmF0ZWRMaW5lID09PSBuZXh0TWFwcGluZy5nZW5lcmF0ZWRMaW5lKSB7XG4gICAgICAgICAgbWFwcGluZy5sYXN0R2VuZXJhdGVkQ29sdW1uID0gbmV4dE1hcHBpbmcuZ2VuZXJhdGVkQ29sdW1uIC0gMTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBUaGUgbGFzdCBtYXBwaW5nIGZvciBlYWNoIGxpbmUgc3BhbnMgdGhlIGVudGlyZSBsaW5lLlxuICAgICAgbWFwcGluZy5sYXN0R2VuZXJhdGVkQ29sdW1uID0gSW5maW5pdHk7XG4gICAgfVxuICB9O1xuXG4vKipcbiAqIFJldHVybnMgdGhlIG9yaWdpbmFsIHNvdXJjZSwgbGluZSwgYW5kIGNvbHVtbiBpbmZvcm1hdGlvbiBmb3IgdGhlIGdlbmVyYXRlZFxuICogc291cmNlJ3MgbGluZSBhbmQgY29sdW1uIHBvc2l0aW9ucyBwcm92aWRlZC4gVGhlIG9ubHkgYXJndW1lbnQgaXMgYW4gb2JqZWN0XG4gKiB3aXRoIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAqXG4gKiAgIC0gbGluZTogVGhlIGxpbmUgbnVtYmVyIGluIHRoZSBnZW5lcmF0ZWQgc291cmNlLiAgVGhlIGxpbmUgbnVtYmVyXG4gKiAgICAgaXMgMS1iYXNlZC5cbiAqICAgLSBjb2x1bW46IFRoZSBjb2x1bW4gbnVtYmVyIGluIHRoZSBnZW5lcmF0ZWQgc291cmNlLiAgVGhlIGNvbHVtblxuICogICAgIG51bWJlciBpcyAwLWJhc2VkLlxuICogICAtIGJpYXM6IEVpdGhlciAnU291cmNlTWFwQ29uc3VtZXIuR1JFQVRFU1RfTE9XRVJfQk9VTkQnIG9yXG4gKiAgICAgJ1NvdXJjZU1hcENvbnN1bWVyLkxFQVNUX1VQUEVSX0JPVU5EJy4gU3BlY2lmaWVzIHdoZXRoZXIgdG8gcmV0dXJuIHRoZVxuICogICAgIGNsb3Nlc3QgZWxlbWVudCB0aGF0IGlzIHNtYWxsZXIgdGhhbiBvciBncmVhdGVyIHRoYW4gdGhlIG9uZSB3ZSBhcmVcbiAqICAgICBzZWFyY2hpbmcgZm9yLCByZXNwZWN0aXZlbHksIGlmIHRoZSBleGFjdCBlbGVtZW50IGNhbm5vdCBiZSBmb3VuZC5cbiAqICAgICBEZWZhdWx0cyB0byAnU291cmNlTWFwQ29uc3VtZXIuR1JFQVRFU1RfTE9XRVJfQk9VTkQnLlxuICpcbiAqIGFuZCBhbiBvYmplY3QgaXMgcmV0dXJuZWQgd2l0aCB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gKlxuICogICAtIHNvdXJjZTogVGhlIG9yaWdpbmFsIHNvdXJjZSBmaWxlLCBvciBudWxsLlxuICogICAtIGxpbmU6IFRoZSBsaW5lIG51bWJlciBpbiB0aGUgb3JpZ2luYWwgc291cmNlLCBvciBudWxsLiAgVGhlXG4gKiAgICAgbGluZSBudW1iZXIgaXMgMS1iYXNlZC5cbiAqICAgLSBjb2x1bW46IFRoZSBjb2x1bW4gbnVtYmVyIGluIHRoZSBvcmlnaW5hbCBzb3VyY2UsIG9yIG51bGwuICBUaGVcbiAqICAgICBjb2x1bW4gbnVtYmVyIGlzIDAtYmFzZWQuXG4gKiAgIC0gbmFtZTogVGhlIG9yaWdpbmFsIGlkZW50aWZpZXIsIG9yIG51bGwuXG4gKi9cbkJhc2ljU291cmNlTWFwQ29uc3VtZXIucHJvdG90eXBlLm9yaWdpbmFsUG9zaXRpb25Gb3IgPVxuICBmdW5jdGlvbiBTb3VyY2VNYXBDb25zdW1lcl9vcmlnaW5hbFBvc2l0aW9uRm9yKGFBcmdzKSB7XG4gICAgdmFyIG5lZWRsZSA9IHtcbiAgICAgIGdlbmVyYXRlZExpbmU6IHV0aWwuZ2V0QXJnKGFBcmdzLCAnbGluZScpLFxuICAgICAgZ2VuZXJhdGVkQ29sdW1uOiB1dGlsLmdldEFyZyhhQXJncywgJ2NvbHVtbicpXG4gICAgfTtcblxuICAgIHZhciBpbmRleCA9IHRoaXMuX2ZpbmRNYXBwaW5nKFxuICAgICAgbmVlZGxlLFxuICAgICAgdGhpcy5fZ2VuZXJhdGVkTWFwcGluZ3MsXG4gICAgICBcImdlbmVyYXRlZExpbmVcIixcbiAgICAgIFwiZ2VuZXJhdGVkQ29sdW1uXCIsXG4gICAgICB1dGlsLmNvbXBhcmVCeUdlbmVyYXRlZFBvc2l0aW9uc0RlZmxhdGVkLFxuICAgICAgdXRpbC5nZXRBcmcoYUFyZ3MsICdiaWFzJywgU291cmNlTWFwQ29uc3VtZXIuR1JFQVRFU1RfTE9XRVJfQk9VTkQpXG4gICAgKTtcblxuICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICB2YXIgbWFwcGluZyA9IHRoaXMuX2dlbmVyYXRlZE1hcHBpbmdzW2luZGV4XTtcblxuICAgICAgaWYgKG1hcHBpbmcuZ2VuZXJhdGVkTGluZSA9PT0gbmVlZGxlLmdlbmVyYXRlZExpbmUpIHtcbiAgICAgICAgdmFyIHNvdXJjZSA9IHV0aWwuZ2V0QXJnKG1hcHBpbmcsICdzb3VyY2UnLCBudWxsKTtcbiAgICAgICAgaWYgKHNvdXJjZSAhPT0gbnVsbCkge1xuICAgICAgICAgIHNvdXJjZSA9IHRoaXMuX3NvdXJjZXMuYXQoc291cmNlKTtcbiAgICAgICAgICBzb3VyY2UgPSB1dGlsLmNvbXB1dGVTb3VyY2VVUkwodGhpcy5zb3VyY2VSb290LCBzb3VyY2UsIHRoaXMuX3NvdXJjZU1hcFVSTCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG5hbWUgPSB1dGlsLmdldEFyZyhtYXBwaW5nLCAnbmFtZScsIG51bGwpO1xuICAgICAgICBpZiAobmFtZSAhPT0gbnVsbCkge1xuICAgICAgICAgIG5hbWUgPSB0aGlzLl9uYW1lcy5hdChuYW1lKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHNvdXJjZTogc291cmNlLFxuICAgICAgICAgIGxpbmU6IHV0aWwuZ2V0QXJnKG1hcHBpbmcsICdvcmlnaW5hbExpbmUnLCBudWxsKSxcbiAgICAgICAgICBjb2x1bW46IHV0aWwuZ2V0QXJnKG1hcHBpbmcsICdvcmlnaW5hbENvbHVtbicsIG51bGwpLFxuICAgICAgICAgIG5hbWU6IG5hbWVcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgc291cmNlOiBudWxsLFxuICAgICAgbGluZTogbnVsbCxcbiAgICAgIGNvbHVtbjogbnVsbCxcbiAgICAgIG5hbWU6IG51bGxcbiAgICB9O1xuICB9O1xuXG4vKipcbiAqIFJldHVybiB0cnVlIGlmIHdlIGhhdmUgdGhlIHNvdXJjZSBjb250ZW50IGZvciBldmVyeSBzb3VyY2UgaW4gdGhlIHNvdXJjZVxuICogbWFwLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cbkJhc2ljU291cmNlTWFwQ29uc3VtZXIucHJvdG90eXBlLmhhc0NvbnRlbnRzT2ZBbGxTb3VyY2VzID1cbiAgZnVuY3Rpb24gQmFzaWNTb3VyY2VNYXBDb25zdW1lcl9oYXNDb250ZW50c09mQWxsU291cmNlcygpIHtcbiAgICBpZiAoIXRoaXMuc291cmNlc0NvbnRlbnQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc291cmNlc0NvbnRlbnQubGVuZ3RoID49IHRoaXMuX3NvdXJjZXMuc2l6ZSgpICYmXG4gICAgICAhdGhpcy5zb3VyY2VzQ29udGVudC5zb21lKGZ1bmN0aW9uIChzYykgeyByZXR1cm4gc2MgPT0gbnVsbDsgfSk7XG4gIH07XG5cbi8qKlxuICogUmV0dXJucyB0aGUgb3JpZ2luYWwgc291cmNlIGNvbnRlbnQuIFRoZSBvbmx5IGFyZ3VtZW50IGlzIHRoZSB1cmwgb2YgdGhlXG4gKiBvcmlnaW5hbCBzb3VyY2UgZmlsZS4gUmV0dXJucyBudWxsIGlmIG5vIG9yaWdpbmFsIHNvdXJjZSBjb250ZW50IGlzXG4gKiBhdmFpbGFibGUuXG4gKi9cbkJhc2ljU291cmNlTWFwQ29uc3VtZXIucHJvdG90eXBlLnNvdXJjZUNvbnRlbnRGb3IgPVxuICBmdW5jdGlvbiBTb3VyY2VNYXBDb25zdW1lcl9zb3VyY2VDb250ZW50Rm9yKGFTb3VyY2UsIG51bGxPbk1pc3NpbmcpIHtcbiAgICBpZiAoIXRoaXMuc291cmNlc0NvbnRlbnQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHZhciBpbmRleCA9IHRoaXMuX2ZpbmRTb3VyY2VJbmRleChhU291cmNlKTtcbiAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgcmV0dXJuIHRoaXMuc291cmNlc0NvbnRlbnRbaW5kZXhdO1xuICAgIH1cblxuICAgIHZhciByZWxhdGl2ZVNvdXJjZSA9IGFTb3VyY2U7XG4gICAgaWYgKHRoaXMuc291cmNlUm9vdCAhPSBudWxsKSB7XG4gICAgICByZWxhdGl2ZVNvdXJjZSA9IHV0aWwucmVsYXRpdmUodGhpcy5zb3VyY2VSb290LCByZWxhdGl2ZVNvdXJjZSk7XG4gICAgfVxuXG4gICAgdmFyIHVybDtcbiAgICBpZiAodGhpcy5zb3VyY2VSb290ICE9IG51bGxcbiAgICAgICAgJiYgKHVybCA9IHV0aWwudXJsUGFyc2UodGhpcy5zb3VyY2VSb290KSkpIHtcbiAgICAgIC8vIFhYWDogZmlsZTovLyBVUklzIGFuZCBhYnNvbHV0ZSBwYXRocyBsZWFkIHRvIHVuZXhwZWN0ZWQgYmVoYXZpb3IgZm9yXG4gICAgICAvLyBtYW55IHVzZXJzLiBXZSBjYW4gaGVscCB0aGVtIG91dCB3aGVuIHRoZXkgZXhwZWN0IGZpbGU6Ly8gVVJJcyB0b1xuICAgICAgLy8gYmVoYXZlIGxpa2UgaXQgd291bGQgaWYgdGhleSB3ZXJlIHJ1bm5pbmcgYSBsb2NhbCBIVFRQIHNlcnZlci4gU2VlXG4gICAgICAvLyBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD04ODU1OTcuXG4gICAgICB2YXIgZmlsZVVyaUFic1BhdGggPSByZWxhdGl2ZVNvdXJjZS5yZXBsYWNlKC9eZmlsZTpcXC9cXC8vLCBcIlwiKTtcbiAgICAgIGlmICh1cmwuc2NoZW1lID09IFwiZmlsZVwiXG4gICAgICAgICAgJiYgdGhpcy5fc291cmNlcy5oYXMoZmlsZVVyaUFic1BhdGgpKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNvdXJjZXNDb250ZW50W3RoaXMuX3NvdXJjZXMuaW5kZXhPZihmaWxlVXJpQWJzUGF0aCldXG4gICAgICB9XG5cbiAgICAgIGlmICgoIXVybC5wYXRoIHx8IHVybC5wYXRoID09IFwiL1wiKVxuICAgICAgICAgICYmIHRoaXMuX3NvdXJjZXMuaGFzKFwiL1wiICsgcmVsYXRpdmVTb3VyY2UpKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNvdXJjZXNDb250ZW50W3RoaXMuX3NvdXJjZXMuaW5kZXhPZihcIi9cIiArIHJlbGF0aXZlU291cmNlKV07XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHJlY3Vyc2l2ZWx5IGZyb21cbiAgICAvLyBJbmRleGVkU291cmNlTWFwQ29uc3VtZXIucHJvdG90eXBlLnNvdXJjZUNvbnRlbnRGb3IuIEluIHRoYXQgY2FzZSwgd2VcbiAgICAvLyBkb24ndCB3YW50IHRvIHRocm93IGlmIHdlIGNhbid0IGZpbmQgdGhlIHNvdXJjZSAtIHdlIGp1c3Qgd2FudCB0b1xuICAgIC8vIHJldHVybiBudWxsLCBzbyB3ZSBwcm92aWRlIGEgZmxhZyB0byBleGl0IGdyYWNlZnVsbHkuXG4gICAgaWYgKG51bGxPbk1pc3NpbmcpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignXCInICsgcmVsYXRpdmVTb3VyY2UgKyAnXCIgaXMgbm90IGluIHRoZSBTb3VyY2VNYXAuJyk7XG4gICAgfVxuICB9O1xuXG4vKipcbiAqIFJldHVybnMgdGhlIGdlbmVyYXRlZCBsaW5lIGFuZCBjb2x1bW4gaW5mb3JtYXRpb24gZm9yIHRoZSBvcmlnaW5hbCBzb3VyY2UsXG4gKiBsaW5lLCBhbmQgY29sdW1uIHBvc2l0aW9ucyBwcm92aWRlZC4gVGhlIG9ubHkgYXJndW1lbnQgaXMgYW4gb2JqZWN0IHdpdGhcbiAqIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAqXG4gKiAgIC0gc291cmNlOiBUaGUgZmlsZW5hbWUgb2YgdGhlIG9yaWdpbmFsIHNvdXJjZS5cbiAqICAgLSBsaW5lOiBUaGUgbGluZSBudW1iZXIgaW4gdGhlIG9yaWdpbmFsIHNvdXJjZS4gIFRoZSBsaW5lIG51bWJlclxuICogICAgIGlzIDEtYmFzZWQuXG4gKiAgIC0gY29sdW1uOiBUaGUgY29sdW1uIG51bWJlciBpbiB0aGUgb3JpZ2luYWwgc291cmNlLiAgVGhlIGNvbHVtblxuICogICAgIG51bWJlciBpcyAwLWJhc2VkLlxuICogICAtIGJpYXM6IEVpdGhlciAnU291cmNlTWFwQ29uc3VtZXIuR1JFQVRFU1RfTE9XRVJfQk9VTkQnIG9yXG4gKiAgICAgJ1NvdXJjZU1hcENvbnN1bWVyLkxFQVNUX1VQUEVSX0JPVU5EJy4gU3BlY2lmaWVzIHdoZXRoZXIgdG8gcmV0dXJuIHRoZVxuICogICAgIGNsb3Nlc3QgZWxlbWVudCB0aGF0IGlzIHNtYWxsZXIgdGhhbiBvciBncmVhdGVyIHRoYW4gdGhlIG9uZSB3ZSBhcmVcbiAqICAgICBzZWFyY2hpbmcgZm9yLCByZXNwZWN0aXZlbHksIGlmIHRoZSBleGFjdCBlbGVtZW50IGNhbm5vdCBiZSBmb3VuZC5cbiAqICAgICBEZWZhdWx0cyB0byAnU291cmNlTWFwQ29uc3VtZXIuR1JFQVRFU1RfTE9XRVJfQk9VTkQnLlxuICpcbiAqIGFuZCBhbiBvYmplY3QgaXMgcmV0dXJuZWQgd2l0aCB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gKlxuICogICAtIGxpbmU6IFRoZSBsaW5lIG51bWJlciBpbiB0aGUgZ2VuZXJhdGVkIHNvdXJjZSwgb3IgbnVsbC4gIFRoZVxuICogICAgIGxpbmUgbnVtYmVyIGlzIDEtYmFzZWQuXG4gKiAgIC0gY29sdW1uOiBUaGUgY29sdW1uIG51bWJlciBpbiB0aGUgZ2VuZXJhdGVkIHNvdXJjZSwgb3IgbnVsbC5cbiAqICAgICBUaGUgY29sdW1uIG51bWJlciBpcyAwLWJhc2VkLlxuICovXG5CYXNpY1NvdXJjZU1hcENvbnN1bWVyLnByb3RvdHlwZS5nZW5lcmF0ZWRQb3NpdGlvbkZvciA9XG4gIGZ1bmN0aW9uIFNvdXJjZU1hcENvbnN1bWVyX2dlbmVyYXRlZFBvc2l0aW9uRm9yKGFBcmdzKSB7XG4gICAgdmFyIHNvdXJjZSA9IHV0aWwuZ2V0QXJnKGFBcmdzLCAnc291cmNlJyk7XG4gICAgc291cmNlID0gdGhpcy5fZmluZFNvdXJjZUluZGV4KHNvdXJjZSk7XG4gICAgaWYgKHNvdXJjZSA8IDApIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGxpbmU6IG51bGwsXG4gICAgICAgIGNvbHVtbjogbnVsbCxcbiAgICAgICAgbGFzdENvbHVtbjogbnVsbFxuICAgICAgfTtcbiAgICB9XG5cbiAgICB2YXIgbmVlZGxlID0ge1xuICAgICAgc291cmNlOiBzb3VyY2UsXG4gICAgICBvcmlnaW5hbExpbmU6IHV0aWwuZ2V0QXJnKGFBcmdzLCAnbGluZScpLFxuICAgICAgb3JpZ2luYWxDb2x1bW46IHV0aWwuZ2V0QXJnKGFBcmdzLCAnY29sdW1uJylcbiAgICB9O1xuXG4gICAgdmFyIGluZGV4ID0gdGhpcy5fZmluZE1hcHBpbmcoXG4gICAgICBuZWVkbGUsXG4gICAgICB0aGlzLl9vcmlnaW5hbE1hcHBpbmdzLFxuICAgICAgXCJvcmlnaW5hbExpbmVcIixcbiAgICAgIFwib3JpZ2luYWxDb2x1bW5cIixcbiAgICAgIHV0aWwuY29tcGFyZUJ5T3JpZ2luYWxQb3NpdGlvbnMsXG4gICAgICB1dGlsLmdldEFyZyhhQXJncywgJ2JpYXMnLCBTb3VyY2VNYXBDb25zdW1lci5HUkVBVEVTVF9MT1dFUl9CT1VORClcbiAgICApO1xuXG4gICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgIHZhciBtYXBwaW5nID0gdGhpcy5fb3JpZ2luYWxNYXBwaW5nc1tpbmRleF07XG5cbiAgICAgIGlmIChtYXBwaW5nLnNvdXJjZSA9PT0gbmVlZGxlLnNvdXJjZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGxpbmU6IHV0aWwuZ2V0QXJnKG1hcHBpbmcsICdnZW5lcmF0ZWRMaW5lJywgbnVsbCksXG4gICAgICAgICAgY29sdW1uOiB1dGlsLmdldEFyZyhtYXBwaW5nLCAnZ2VuZXJhdGVkQ29sdW1uJywgbnVsbCksXG4gICAgICAgICAgbGFzdENvbHVtbjogdXRpbC5nZXRBcmcobWFwcGluZywgJ2xhc3RHZW5lcmF0ZWRDb2x1bW4nLCBudWxsKVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBsaW5lOiBudWxsLFxuICAgICAgY29sdW1uOiBudWxsLFxuICAgICAgbGFzdENvbHVtbjogbnVsbFxuICAgIH07XG4gIH07XG5cbmV4cG9ydHMuQmFzaWNTb3VyY2VNYXBDb25zdW1lciA9IEJhc2ljU291cmNlTWFwQ29uc3VtZXI7XG5cbi8qKlxuICogQW4gSW5kZXhlZFNvdXJjZU1hcENvbnN1bWVyIGluc3RhbmNlIHJlcHJlc2VudHMgYSBwYXJzZWQgc291cmNlIG1hcCB3aGljaFxuICogd2UgY2FuIHF1ZXJ5IGZvciBpbmZvcm1hdGlvbi4gSXQgZGlmZmVycyBmcm9tIEJhc2ljU291cmNlTWFwQ29uc3VtZXIgaW5cbiAqIHRoYXQgaXQgdGFrZXMgXCJpbmRleGVkXCIgc291cmNlIG1hcHMgKGkuZS4gb25lcyB3aXRoIGEgXCJzZWN0aW9uc1wiIGZpZWxkKSBhc1xuICogaW5wdXQuXG4gKlxuICogVGhlIGZpcnN0IHBhcmFtZXRlciBpcyBhIHJhdyBzb3VyY2UgbWFwIChlaXRoZXIgYXMgYSBKU09OIHN0cmluZywgb3IgYWxyZWFkeVxuICogcGFyc2VkIHRvIGFuIG9iamVjdCkuIEFjY29yZGluZyB0byB0aGUgc3BlYyBmb3IgaW5kZXhlZCBzb3VyY2UgbWFwcywgdGhleVxuICogaGF2ZSB0aGUgZm9sbG93aW5nIGF0dHJpYnV0ZXM6XG4gKlxuICogICAtIHZlcnNpb246IFdoaWNoIHZlcnNpb24gb2YgdGhlIHNvdXJjZSBtYXAgc3BlYyB0aGlzIG1hcCBpcyBmb2xsb3dpbmcuXG4gKiAgIC0gZmlsZTogT3B0aW9uYWwuIFRoZSBnZW5lcmF0ZWQgZmlsZSB0aGlzIHNvdXJjZSBtYXAgaXMgYXNzb2NpYXRlZCB3aXRoLlxuICogICAtIHNlY3Rpb25zOiBBIGxpc3Qgb2Ygc2VjdGlvbiBkZWZpbml0aW9ucy5cbiAqXG4gKiBFYWNoIHZhbHVlIHVuZGVyIHRoZSBcInNlY3Rpb25zXCIgZmllbGQgaGFzIHR3byBmaWVsZHM6XG4gKiAgIC0gb2Zmc2V0OiBUaGUgb2Zmc2V0IGludG8gdGhlIG9yaWdpbmFsIHNwZWNpZmllZCBhdCB3aGljaCB0aGlzIHNlY3Rpb25cbiAqICAgICAgIGJlZ2lucyB0byBhcHBseSwgZGVmaW5lZCBhcyBhbiBvYmplY3Qgd2l0aCBhIFwibGluZVwiIGFuZCBcImNvbHVtblwiXG4gKiAgICAgICBmaWVsZC5cbiAqICAgLSBtYXA6IEEgc291cmNlIG1hcCBkZWZpbml0aW9uLiBUaGlzIHNvdXJjZSBtYXAgY291bGQgYWxzbyBiZSBpbmRleGVkLFxuICogICAgICAgYnV0IGRvZXNuJ3QgaGF2ZSB0byBiZS5cbiAqXG4gKiBJbnN0ZWFkIG9mIHRoZSBcIm1hcFwiIGZpZWxkLCBpdCdzIGFsc28gcG9zc2libGUgdG8gaGF2ZSBhIFwidXJsXCIgZmllbGRcbiAqIHNwZWNpZnlpbmcgYSBVUkwgdG8gcmV0cmlldmUgYSBzb3VyY2UgbWFwIGZyb20sIGJ1dCB0aGF0J3MgY3VycmVudGx5XG4gKiB1bnN1cHBvcnRlZC5cbiAqXG4gKiBIZXJlJ3MgYW4gZXhhbXBsZSBzb3VyY2UgbWFwLCB0YWtlbiBmcm9tIHRoZSBzb3VyY2UgbWFwIHNwZWNbMF0sIGJ1dFxuICogbW9kaWZpZWQgdG8gb21pdCBhIHNlY3Rpb24gd2hpY2ggdXNlcyB0aGUgXCJ1cmxcIiBmaWVsZC5cbiAqXG4gKiAge1xuICogICAgdmVyc2lvbiA6IDMsXG4gKiAgICBmaWxlOiBcImFwcC5qc1wiLFxuICogICAgc2VjdGlvbnM6IFt7XG4gKiAgICAgIG9mZnNldDoge2xpbmU6MTAwLCBjb2x1bW46MTB9LFxuICogICAgICBtYXA6IHtcbiAqICAgICAgICB2ZXJzaW9uIDogMyxcbiAqICAgICAgICBmaWxlOiBcInNlY3Rpb24uanNcIixcbiAqICAgICAgICBzb3VyY2VzOiBbXCJmb28uanNcIiwgXCJiYXIuanNcIl0sXG4gKiAgICAgICAgbmFtZXM6IFtcInNyY1wiLCBcIm1hcHNcIiwgXCJhcmVcIiwgXCJmdW5cIl0sXG4gKiAgICAgICAgbWFwcGluZ3M6IFwiQUFBQSxFOztBQkNERTtcIlxuICogICAgICB9XG4gKiAgICB9XSxcbiAqICB9XG4gKlxuICogVGhlIHNlY29uZCBwYXJhbWV0ZXIsIGlmIGdpdmVuLCBpcyBhIHN0cmluZyB3aG9zZSB2YWx1ZSBpcyB0aGUgVVJMXG4gKiBhdCB3aGljaCB0aGUgc291cmNlIG1hcCB3YXMgZm91bmQuICBUaGlzIFVSTCBpcyB1c2VkIHRvIGNvbXB1dGUgdGhlXG4gKiBzb3VyY2VzIGFycmF5LlxuICpcbiAqIFswXTogaHR0cHM6Ly9kb2NzLmdvb2dsZS5jb20vZG9jdW1lbnQvZC8xVTFSR0FlaFF3UnlwVVRvdkYxS1JscGlPRnplMGItXzJnYzZmQUgwS1kway9lZGl0I2hlYWRpbmc9aC41MzVlczN4ZXByZ3RcbiAqL1xuZnVuY3Rpb24gSW5kZXhlZFNvdXJjZU1hcENvbnN1bWVyKGFTb3VyY2VNYXAsIGFTb3VyY2VNYXBVUkwpIHtcbiAgdmFyIHNvdXJjZU1hcCA9IGFTb3VyY2VNYXA7XG4gIGlmICh0eXBlb2YgYVNvdXJjZU1hcCA9PT0gJ3N0cmluZycpIHtcbiAgICBzb3VyY2VNYXAgPSB1dGlsLnBhcnNlU291cmNlTWFwSW5wdXQoYVNvdXJjZU1hcCk7XG4gIH1cblxuICB2YXIgdmVyc2lvbiA9IHV0aWwuZ2V0QXJnKHNvdXJjZU1hcCwgJ3ZlcnNpb24nKTtcbiAgdmFyIHNlY3Rpb25zID0gdXRpbC5nZXRBcmcoc291cmNlTWFwLCAnc2VjdGlvbnMnKTtcblxuICBpZiAodmVyc2lvbiAhPSB0aGlzLl92ZXJzaW9uKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdVbnN1cHBvcnRlZCB2ZXJzaW9uOiAnICsgdmVyc2lvbik7XG4gIH1cblxuICB0aGlzLl9zb3VyY2VzID0gbmV3IEFycmF5U2V0KCk7XG4gIHRoaXMuX25hbWVzID0gbmV3IEFycmF5U2V0KCk7XG5cbiAgdmFyIGxhc3RPZmZzZXQgPSB7XG4gICAgbGluZTogLTEsXG4gICAgY29sdW1uOiAwXG4gIH07XG4gIHRoaXMuX3NlY3Rpb25zID0gc2VjdGlvbnMubWFwKGZ1bmN0aW9uIChzKSB7XG4gICAgaWYgKHMudXJsKSB7XG4gICAgICAvLyBUaGUgdXJsIGZpZWxkIHdpbGwgcmVxdWlyZSBzdXBwb3J0IGZvciBhc3luY2hyb25pY2l0eS5cbiAgICAgIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vbW96aWxsYS9zb3VyY2UtbWFwL2lzc3Vlcy8xNlxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdTdXBwb3J0IGZvciB1cmwgZmllbGQgaW4gc2VjdGlvbnMgbm90IGltcGxlbWVudGVkLicpO1xuICAgIH1cbiAgICB2YXIgb2Zmc2V0ID0gdXRpbC5nZXRBcmcocywgJ29mZnNldCcpO1xuICAgIHZhciBvZmZzZXRMaW5lID0gdXRpbC5nZXRBcmcob2Zmc2V0LCAnbGluZScpO1xuICAgIHZhciBvZmZzZXRDb2x1bW4gPSB1dGlsLmdldEFyZyhvZmZzZXQsICdjb2x1bW4nKTtcblxuICAgIGlmIChvZmZzZXRMaW5lIDwgbGFzdE9mZnNldC5saW5lIHx8XG4gICAgICAgIChvZmZzZXRMaW5lID09PSBsYXN0T2Zmc2V0LmxpbmUgJiYgb2Zmc2V0Q29sdW1uIDwgbGFzdE9mZnNldC5jb2x1bW4pKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NlY3Rpb24gb2Zmc2V0cyBtdXN0IGJlIG9yZGVyZWQgYW5kIG5vbi1vdmVybGFwcGluZy4nKTtcbiAgICB9XG4gICAgbGFzdE9mZnNldCA9IG9mZnNldDtcblxuICAgIHJldHVybiB7XG4gICAgICBnZW5lcmF0ZWRPZmZzZXQ6IHtcbiAgICAgICAgLy8gVGhlIG9mZnNldCBmaWVsZHMgYXJlIDAtYmFzZWQsIGJ1dCB3ZSB1c2UgMS1iYXNlZCBpbmRpY2VzIHdoZW5cbiAgICAgICAgLy8gZW5jb2RpbmcvZGVjb2RpbmcgZnJvbSBWTFEuXG4gICAgICAgIGdlbmVyYXRlZExpbmU6IG9mZnNldExpbmUgKyAxLFxuICAgICAgICBnZW5lcmF0ZWRDb2x1bW46IG9mZnNldENvbHVtbiArIDFcbiAgICAgIH0sXG4gICAgICBjb25zdW1lcjogbmV3IFNvdXJjZU1hcENvbnN1bWVyKHV0aWwuZ2V0QXJnKHMsICdtYXAnKSwgYVNvdXJjZU1hcFVSTClcbiAgICB9XG4gIH0pO1xufVxuXG5JbmRleGVkU291cmNlTWFwQ29uc3VtZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShTb3VyY2VNYXBDb25zdW1lci5wcm90b3R5cGUpO1xuSW5kZXhlZFNvdXJjZU1hcENvbnN1bWVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFNvdXJjZU1hcENvbnN1bWVyO1xuXG4vKipcbiAqIFRoZSB2ZXJzaW9uIG9mIHRoZSBzb3VyY2UgbWFwcGluZyBzcGVjIHRoYXQgd2UgYXJlIGNvbnN1bWluZy5cbiAqL1xuSW5kZXhlZFNvdXJjZU1hcENvbnN1bWVyLnByb3RvdHlwZS5fdmVyc2lvbiA9IDM7XG5cbi8qKlxuICogVGhlIGxpc3Qgb2Ygb3JpZ2luYWwgc291cmNlcy5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KEluZGV4ZWRTb3VyY2VNYXBDb25zdW1lci5wcm90b3R5cGUsICdzb3VyY2VzJywge1xuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc291cmNlcyA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fc2VjdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGhpcy5fc2VjdGlvbnNbaV0uY29uc3VtZXIuc291cmNlcy5sZW5ndGg7IGorKykge1xuICAgICAgICBzb3VyY2VzLnB1c2godGhpcy5fc2VjdGlvbnNbaV0uY29uc3VtZXIuc291cmNlc1tqXSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzb3VyY2VzO1xuICB9XG59KTtcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBvcmlnaW5hbCBzb3VyY2UsIGxpbmUsIGFuZCBjb2x1bW4gaW5mb3JtYXRpb24gZm9yIHRoZSBnZW5lcmF0ZWRcbiAqIHNvdXJjZSdzIGxpbmUgYW5kIGNvbHVtbiBwb3NpdGlvbnMgcHJvdmlkZWQuIFRoZSBvbmx5IGFyZ3VtZW50IGlzIGFuIG9iamVjdFxuICogd2l0aCB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gKlxuICogICAtIGxpbmU6IFRoZSBsaW5lIG51bWJlciBpbiB0aGUgZ2VuZXJhdGVkIHNvdXJjZS4gIFRoZSBsaW5lIG51bWJlclxuICogICAgIGlzIDEtYmFzZWQuXG4gKiAgIC0gY29sdW1uOiBUaGUgY29sdW1uIG51bWJlciBpbiB0aGUgZ2VuZXJhdGVkIHNvdXJjZS4gIFRoZSBjb2x1bW5cbiAqICAgICBudW1iZXIgaXMgMC1iYXNlZC5cbiAqXG4gKiBhbmQgYW4gb2JqZWN0IGlzIHJldHVybmVkIHdpdGggdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICpcbiAqICAgLSBzb3VyY2U6IFRoZSBvcmlnaW5hbCBzb3VyY2UgZmlsZSwgb3IgbnVsbC5cbiAqICAgLSBsaW5lOiBUaGUgbGluZSBudW1iZXIgaW4gdGhlIG9yaWdpbmFsIHNvdXJjZSwgb3IgbnVsbC4gIFRoZVxuICogICAgIGxpbmUgbnVtYmVyIGlzIDEtYmFzZWQuXG4gKiAgIC0gY29sdW1uOiBUaGUgY29sdW1uIG51bWJlciBpbiB0aGUgb3JpZ2luYWwgc291cmNlLCBvciBudWxsLiAgVGhlXG4gKiAgICAgY29sdW1uIG51bWJlciBpcyAwLWJhc2VkLlxuICogICAtIG5hbWU6IFRoZSBvcmlnaW5hbCBpZGVudGlmaWVyLCBvciBudWxsLlxuICovXG5JbmRleGVkU291cmNlTWFwQ29uc3VtZXIucHJvdG90eXBlLm9yaWdpbmFsUG9zaXRpb25Gb3IgPVxuICBmdW5jdGlvbiBJbmRleGVkU291cmNlTWFwQ29uc3VtZXJfb3JpZ2luYWxQb3NpdGlvbkZvcihhQXJncykge1xuICAgIHZhciBuZWVkbGUgPSB7XG4gICAgICBnZW5lcmF0ZWRMaW5lOiB1dGlsLmdldEFyZyhhQXJncywgJ2xpbmUnKSxcbiAgICAgIGdlbmVyYXRlZENvbHVtbjogdXRpbC5nZXRBcmcoYUFyZ3MsICdjb2x1bW4nKVxuICAgIH07XG5cbiAgICAvLyBGaW5kIHRoZSBzZWN0aW9uIGNvbnRhaW5pbmcgdGhlIGdlbmVyYXRlZCBwb3NpdGlvbiB3ZSdyZSB0cnlpbmcgdG8gbWFwXG4gICAgLy8gdG8gYW4gb3JpZ2luYWwgcG9zaXRpb24uXG4gICAgdmFyIHNlY3Rpb25JbmRleCA9IGJpbmFyeVNlYXJjaC5zZWFyY2gobmVlZGxlLCB0aGlzLl9zZWN0aW9ucyxcbiAgICAgIGZ1bmN0aW9uKG5lZWRsZSwgc2VjdGlvbikge1xuICAgICAgICB2YXIgY21wID0gbmVlZGxlLmdlbmVyYXRlZExpbmUgLSBzZWN0aW9uLmdlbmVyYXRlZE9mZnNldC5nZW5lcmF0ZWRMaW5lO1xuICAgICAgICBpZiAoY21wKSB7XG4gICAgICAgICAgcmV0dXJuIGNtcDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAobmVlZGxlLmdlbmVyYXRlZENvbHVtbiAtXG4gICAgICAgICAgICAgICAgc2VjdGlvbi5nZW5lcmF0ZWRPZmZzZXQuZ2VuZXJhdGVkQ29sdW1uKTtcbiAgICAgIH0pO1xuICAgIHZhciBzZWN0aW9uID0gdGhpcy5fc2VjdGlvbnNbc2VjdGlvbkluZGV4XTtcblxuICAgIGlmICghc2VjdGlvbikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc291cmNlOiBudWxsLFxuICAgICAgICBsaW5lOiBudWxsLFxuICAgICAgICBjb2x1bW46IG51bGwsXG4gICAgICAgIG5hbWU6IG51bGxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHNlY3Rpb24uY29uc3VtZXIub3JpZ2luYWxQb3NpdGlvbkZvcih7XG4gICAgICBsaW5lOiBuZWVkbGUuZ2VuZXJhdGVkTGluZSAtXG4gICAgICAgIChzZWN0aW9uLmdlbmVyYXRlZE9mZnNldC5nZW5lcmF0ZWRMaW5lIC0gMSksXG4gICAgICBjb2x1bW46IG5lZWRsZS5nZW5lcmF0ZWRDb2x1bW4gLVxuICAgICAgICAoc2VjdGlvbi5nZW5lcmF0ZWRPZmZzZXQuZ2VuZXJhdGVkTGluZSA9PT0gbmVlZGxlLmdlbmVyYXRlZExpbmVcbiAgICAgICAgID8gc2VjdGlvbi5nZW5lcmF0ZWRPZmZzZXQuZ2VuZXJhdGVkQ29sdW1uIC0gMVxuICAgICAgICAgOiAwKSxcbiAgICAgIGJpYXM6IGFBcmdzLmJpYXNcbiAgICB9KTtcbiAgfTtcblxuLyoqXG4gKiBSZXR1cm4gdHJ1ZSBpZiB3ZSBoYXZlIHRoZSBzb3VyY2UgY29udGVudCBmb3IgZXZlcnkgc291cmNlIGluIHRoZSBzb3VyY2VcbiAqIG1hcCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5JbmRleGVkU291cmNlTWFwQ29uc3VtZXIucHJvdG90eXBlLmhhc0NvbnRlbnRzT2ZBbGxTb3VyY2VzID1cbiAgZnVuY3Rpb24gSW5kZXhlZFNvdXJjZU1hcENvbnN1bWVyX2hhc0NvbnRlbnRzT2ZBbGxTb3VyY2VzKCkge1xuICAgIHJldHVybiB0aGlzLl9zZWN0aW9ucy5ldmVyeShmdW5jdGlvbiAocykge1xuICAgICAgcmV0dXJuIHMuY29uc3VtZXIuaGFzQ29udGVudHNPZkFsbFNvdXJjZXMoKTtcbiAgICB9KTtcbiAgfTtcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBvcmlnaW5hbCBzb3VyY2UgY29udGVudC4gVGhlIG9ubHkgYXJndW1lbnQgaXMgdGhlIHVybCBvZiB0aGVcbiAqIG9yaWdpbmFsIHNvdXJjZSBmaWxlLiBSZXR1cm5zIG51bGwgaWYgbm8gb3JpZ2luYWwgc291cmNlIGNvbnRlbnQgaXNcbiAqIGF2YWlsYWJsZS5cbiAqL1xuSW5kZXhlZFNvdXJjZU1hcENvbnN1bWVyLnByb3RvdHlwZS5zb3VyY2VDb250ZW50Rm9yID1cbiAgZnVuY3Rpb24gSW5kZXhlZFNvdXJjZU1hcENvbnN1bWVyX3NvdXJjZUNvbnRlbnRGb3IoYVNvdXJjZSwgbnVsbE9uTWlzc2luZykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fc2VjdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzZWN0aW9uID0gdGhpcy5fc2VjdGlvbnNbaV07XG5cbiAgICAgIHZhciBjb250ZW50ID0gc2VjdGlvbi5jb25zdW1lci5zb3VyY2VDb250ZW50Rm9yKGFTb3VyY2UsIHRydWUpO1xuICAgICAgaWYgKGNvbnRlbnQpIHtcbiAgICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChudWxsT25NaXNzaW5nKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1wiJyArIGFTb3VyY2UgKyAnXCIgaXMgbm90IGluIHRoZSBTb3VyY2VNYXAuJyk7XG4gICAgfVxuICB9O1xuXG4vKipcbiAqIFJldHVybnMgdGhlIGdlbmVyYXRlZCBsaW5lIGFuZCBjb2x1bW4gaW5mb3JtYXRpb24gZm9yIHRoZSBvcmlnaW5hbCBzb3VyY2UsXG4gKiBsaW5lLCBhbmQgY29sdW1uIHBvc2l0aW9ucyBwcm92aWRlZC4gVGhlIG9ubHkgYXJndW1lbnQgaXMgYW4gb2JqZWN0IHdpdGhcbiAqIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAqXG4gKiAgIC0gc291cmNlOiBUaGUgZmlsZW5hbWUgb2YgdGhlIG9yaWdpbmFsIHNvdXJjZS5cbiAqICAgLSBsaW5lOiBUaGUgbGluZSBudW1iZXIgaW4gdGhlIG9yaWdpbmFsIHNvdXJjZS4gIFRoZSBsaW5lIG51bWJlclxuICogICAgIGlzIDEtYmFzZWQuXG4gKiAgIC0gY29sdW1uOiBUaGUgY29sdW1uIG51bWJlciBpbiB0aGUgb3JpZ2luYWwgc291cmNlLiAgVGhlIGNvbHVtblxuICogICAgIG51bWJlciBpcyAwLWJhc2VkLlxuICpcbiAqIGFuZCBhbiBvYmplY3QgaXMgcmV0dXJuZWQgd2l0aCB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gKlxuICogICAtIGxpbmU6IFRoZSBsaW5lIG51bWJlciBpbiB0aGUgZ2VuZXJhdGVkIHNvdXJjZSwgb3IgbnVsbC4gIFRoZVxuICogICAgIGxpbmUgbnVtYmVyIGlzIDEtYmFzZWQuIFxuICogICAtIGNvbHVtbjogVGhlIGNvbHVtbiBudW1iZXIgaW4gdGhlIGdlbmVyYXRlZCBzb3VyY2UsIG9yIG51bGwuXG4gKiAgICAgVGhlIGNvbHVtbiBudW1iZXIgaXMgMC1iYXNlZC5cbiAqL1xuSW5kZXhlZFNvdXJjZU1hcENvbnN1bWVyLnByb3RvdHlwZS5nZW5lcmF0ZWRQb3NpdGlvbkZvciA9XG4gIGZ1bmN0aW9uIEluZGV4ZWRTb3VyY2VNYXBDb25zdW1lcl9nZW5lcmF0ZWRQb3NpdGlvbkZvcihhQXJncykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fc2VjdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzZWN0aW9uID0gdGhpcy5fc2VjdGlvbnNbaV07XG5cbiAgICAgIC8vIE9ubHkgY29uc2lkZXIgdGhpcyBzZWN0aW9uIGlmIHRoZSByZXF1ZXN0ZWQgc291cmNlIGlzIGluIHRoZSBsaXN0IG9mXG4gICAgICAvLyBzb3VyY2VzIG9mIHRoZSBjb25zdW1lci5cbiAgICAgIGlmIChzZWN0aW9uLmNvbnN1bWVyLl9maW5kU291cmNlSW5kZXgodXRpbC5nZXRBcmcoYUFyZ3MsICdzb3VyY2UnKSkgPT09IC0xKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgdmFyIGdlbmVyYXRlZFBvc2l0aW9uID0gc2VjdGlvbi5jb25zdW1lci5nZW5lcmF0ZWRQb3NpdGlvbkZvcihhQXJncyk7XG4gICAgICBpZiAoZ2VuZXJhdGVkUG9zaXRpb24pIHtcbiAgICAgICAgdmFyIHJldCA9IHtcbiAgICAgICAgICBsaW5lOiBnZW5lcmF0ZWRQb3NpdGlvbi5saW5lICtcbiAgICAgICAgICAgIChzZWN0aW9uLmdlbmVyYXRlZE9mZnNldC5nZW5lcmF0ZWRMaW5lIC0gMSksXG4gICAgICAgICAgY29sdW1uOiBnZW5lcmF0ZWRQb3NpdGlvbi5jb2x1bW4gK1xuICAgICAgICAgICAgKHNlY3Rpb24uZ2VuZXJhdGVkT2Zmc2V0LmdlbmVyYXRlZExpbmUgPT09IGdlbmVyYXRlZFBvc2l0aW9uLmxpbmVcbiAgICAgICAgICAgICA/IHNlY3Rpb24uZ2VuZXJhdGVkT2Zmc2V0LmdlbmVyYXRlZENvbHVtbiAtIDFcbiAgICAgICAgICAgICA6IDApXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGxpbmU6IG51bGwsXG4gICAgICBjb2x1bW46IG51bGxcbiAgICB9O1xuICB9O1xuXG4vKipcbiAqIFBhcnNlIHRoZSBtYXBwaW5ncyBpbiBhIHN0cmluZyBpbiB0byBhIGRhdGEgc3RydWN0dXJlIHdoaWNoIHdlIGNhbiBlYXNpbHlcbiAqIHF1ZXJ5ICh0aGUgb3JkZXJlZCBhcnJheXMgaW4gdGhlIGB0aGlzLl9fZ2VuZXJhdGVkTWFwcGluZ3NgIGFuZFxuICogYHRoaXMuX19vcmlnaW5hbE1hcHBpbmdzYCBwcm9wZXJ0aWVzKS5cbiAqL1xuSW5kZXhlZFNvdXJjZU1hcENvbnN1bWVyLnByb3RvdHlwZS5fcGFyc2VNYXBwaW5ncyA9XG4gIGZ1bmN0aW9uIEluZGV4ZWRTb3VyY2VNYXBDb25zdW1lcl9wYXJzZU1hcHBpbmdzKGFTdHIsIGFTb3VyY2VSb290KSB7XG4gICAgdGhpcy5fX2dlbmVyYXRlZE1hcHBpbmdzID0gW107XG4gICAgdGhpcy5fX29yaWdpbmFsTWFwcGluZ3MgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX3NlY3Rpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgc2VjdGlvbiA9IHRoaXMuX3NlY3Rpb25zW2ldO1xuICAgICAgdmFyIHNlY3Rpb25NYXBwaW5ncyA9IHNlY3Rpb24uY29uc3VtZXIuX2dlbmVyYXRlZE1hcHBpbmdzO1xuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBzZWN0aW9uTWFwcGluZ3MubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgdmFyIG1hcHBpbmcgPSBzZWN0aW9uTWFwcGluZ3Nbal07XG5cbiAgICAgICAgdmFyIHNvdXJjZSA9IHNlY3Rpb24uY29uc3VtZXIuX3NvdXJjZXMuYXQobWFwcGluZy5zb3VyY2UpO1xuICAgICAgICBzb3VyY2UgPSB1dGlsLmNvbXB1dGVTb3VyY2VVUkwoc2VjdGlvbi5jb25zdW1lci5zb3VyY2VSb290LCBzb3VyY2UsIHRoaXMuX3NvdXJjZU1hcFVSTCk7XG4gICAgICAgIHRoaXMuX3NvdXJjZXMuYWRkKHNvdXJjZSk7XG4gICAgICAgIHNvdXJjZSA9IHRoaXMuX3NvdXJjZXMuaW5kZXhPZihzb3VyY2UpO1xuXG4gICAgICAgIHZhciBuYW1lID0gbnVsbDtcbiAgICAgICAgaWYgKG1hcHBpbmcubmFtZSkge1xuICAgICAgICAgIG5hbWUgPSBzZWN0aW9uLmNvbnN1bWVyLl9uYW1lcy5hdChtYXBwaW5nLm5hbWUpO1xuICAgICAgICAgIHRoaXMuX25hbWVzLmFkZChuYW1lKTtcbiAgICAgICAgICBuYW1lID0gdGhpcy5fbmFtZXMuaW5kZXhPZihuYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRoZSBtYXBwaW5ncyBjb21pbmcgZnJvbSB0aGUgY29uc3VtZXIgZm9yIHRoZSBzZWN0aW9uIGhhdmVcbiAgICAgICAgLy8gZ2VuZXJhdGVkIHBvc2l0aW9ucyByZWxhdGl2ZSB0byB0aGUgc3RhcnQgb2YgdGhlIHNlY3Rpb24sIHNvIHdlXG4gICAgICAgIC8vIG5lZWQgdG8gb2Zmc2V0IHRoZW0gdG8gYmUgcmVsYXRpdmUgdG8gdGhlIHN0YXJ0IG9mIHRoZSBjb25jYXRlbmF0ZWRcbiAgICAgICAgLy8gZ2VuZXJhdGVkIGZpbGUuXG4gICAgICAgIHZhciBhZGp1c3RlZE1hcHBpbmcgPSB7XG4gICAgICAgICAgc291cmNlOiBzb3VyY2UsXG4gICAgICAgICAgZ2VuZXJhdGVkTGluZTogbWFwcGluZy5nZW5lcmF0ZWRMaW5lICtcbiAgICAgICAgICAgIChzZWN0aW9uLmdlbmVyYXRlZE9mZnNldC5nZW5lcmF0ZWRMaW5lIC0gMSksXG4gICAgICAgICAgZ2VuZXJhdGVkQ29sdW1uOiBtYXBwaW5nLmdlbmVyYXRlZENvbHVtbiArXG4gICAgICAgICAgICAoc2VjdGlvbi5nZW5lcmF0ZWRPZmZzZXQuZ2VuZXJhdGVkTGluZSA9PT0gbWFwcGluZy5nZW5lcmF0ZWRMaW5lXG4gICAgICAgICAgICA/IHNlY3Rpb24uZ2VuZXJhdGVkT2Zmc2V0LmdlbmVyYXRlZENvbHVtbiAtIDFcbiAgICAgICAgICAgIDogMCksXG4gICAgICAgICAgb3JpZ2luYWxMaW5lOiBtYXBwaW5nLm9yaWdpbmFsTGluZSxcbiAgICAgICAgICBvcmlnaW5hbENvbHVtbjogbWFwcGluZy5vcmlnaW5hbENvbHVtbixcbiAgICAgICAgICBuYW1lOiBuYW1lXG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5fX2dlbmVyYXRlZE1hcHBpbmdzLnB1c2goYWRqdXN0ZWRNYXBwaW5nKTtcbiAgICAgICAgaWYgKHR5cGVvZiBhZGp1c3RlZE1hcHBpbmcub3JpZ2luYWxMaW5lID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIHRoaXMuX19vcmlnaW5hbE1hcHBpbmdzLnB1c2goYWRqdXN0ZWRNYXBwaW5nKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHF1aWNrU29ydCh0aGlzLl9fZ2VuZXJhdGVkTWFwcGluZ3MsIHV0aWwuY29tcGFyZUJ5R2VuZXJhdGVkUG9zaXRpb25zRGVmbGF0ZWQpO1xuICAgIHF1aWNrU29ydCh0aGlzLl9fb3JpZ2luYWxNYXBwaW5ncywgdXRpbC5jb21wYXJlQnlPcmlnaW5hbFBvc2l0aW9ucyk7XG4gIH07XG5cbmV4cG9ydHMuSW5kZXhlZFNvdXJjZU1hcENvbnN1bWVyID0gSW5kZXhlZFNvdXJjZU1hcENvbnN1bWVyO1xuIiwgIi8qIC0qLSBNb2RlOiBqczsganMtaW5kZW50LWxldmVsOiAyOyAtKi0gKi9cbi8qXG4gKiBDb3B5cmlnaHQgMjAxMSBNb3ppbGxhIEZvdW5kYXRpb24gYW5kIGNvbnRyaWJ1dG9yc1xuICogTGljZW5zZWQgdW5kZXIgdGhlIE5ldyBCU0QgbGljZW5zZS4gU2VlIExJQ0VOU0Ugb3I6XG4gKiBodHRwOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvQlNELTMtQ2xhdXNlXG4gKi9cblxudmFyIFNvdXJjZU1hcEdlbmVyYXRvciA9IHJlcXVpcmUoJy4vc291cmNlLW1hcC1nZW5lcmF0b3InKS5Tb3VyY2VNYXBHZW5lcmF0b3I7XG52YXIgdXRpbCA9IHJlcXVpcmUoJy4vdXRpbCcpO1xuXG4vLyBNYXRjaGVzIGEgV2luZG93cy1zdHlsZSBgXFxyXFxuYCBuZXdsaW5lIG9yIGEgYFxcbmAgbmV3bGluZSB1c2VkIGJ5IGFsbCBvdGhlclxuLy8gb3BlcmF0aW5nIHN5c3RlbXMgdGhlc2UgZGF5cyAoY2FwdHVyaW5nIHRoZSByZXN1bHQpLlxudmFyIFJFR0VYX05FV0xJTkUgPSAvKFxccj9cXG4pLztcblxuLy8gTmV3bGluZSBjaGFyYWN0ZXIgY29kZSBmb3IgY2hhckNvZGVBdCgpIGNvbXBhcmlzb25zXG52YXIgTkVXTElORV9DT0RFID0gMTA7XG5cbi8vIFByaXZhdGUgc3ltYm9sIGZvciBpZGVudGlmeWluZyBgU291cmNlTm9kZWBzIHdoZW4gbXVsdGlwbGUgdmVyc2lvbnMgb2Zcbi8vIHRoZSBzb3VyY2UtbWFwIGxpYnJhcnkgYXJlIGxvYWRlZC4gVGhpcyBNVVNUIE5PVCBDSEFOR0UgYWNyb3NzXG4vLyB2ZXJzaW9ucyFcbnZhciBpc1NvdXJjZU5vZGUgPSBcIiQkJGlzU291cmNlTm9kZSQkJFwiO1xuXG4vKipcbiAqIFNvdXJjZU5vZGVzIHByb3ZpZGUgYSB3YXkgdG8gYWJzdHJhY3Qgb3ZlciBpbnRlcnBvbGF0aW5nL2NvbmNhdGVuYXRpbmdcbiAqIHNuaXBwZXRzIG9mIGdlbmVyYXRlZCBKYXZhU2NyaXB0IHNvdXJjZSBjb2RlIHdoaWxlIG1haW50YWluaW5nIHRoZSBsaW5lIGFuZFxuICogY29sdW1uIGluZm9ybWF0aW9uIGFzc29jaWF0ZWQgd2l0aCB0aGUgb3JpZ2luYWwgc291cmNlIGNvZGUuXG4gKlxuICogQHBhcmFtIGFMaW5lIFRoZSBvcmlnaW5hbCBsaW5lIG51bWJlci5cbiAqIEBwYXJhbSBhQ29sdW1uIFRoZSBvcmlnaW5hbCBjb2x1bW4gbnVtYmVyLlxuICogQHBhcmFtIGFTb3VyY2UgVGhlIG9yaWdpbmFsIHNvdXJjZSdzIGZpbGVuYW1lLlxuICogQHBhcmFtIGFDaHVua3MgT3B0aW9uYWwuIEFuIGFycmF5IG9mIHN0cmluZ3Mgd2hpY2ggYXJlIHNuaXBwZXRzIG9mXG4gKiAgICAgICAgZ2VuZXJhdGVkIEpTLCBvciBvdGhlciBTb3VyY2VOb2Rlcy5cbiAqIEBwYXJhbSBhTmFtZSBUaGUgb3JpZ2luYWwgaWRlbnRpZmllci5cbiAqL1xuZnVuY3Rpb24gU291cmNlTm9kZShhTGluZSwgYUNvbHVtbiwgYVNvdXJjZSwgYUNodW5rcywgYU5hbWUpIHtcbiAgdGhpcy5jaGlsZHJlbiA9IFtdO1xuICB0aGlzLnNvdXJjZUNvbnRlbnRzID0ge307XG4gIHRoaXMubGluZSA9IGFMaW5lID09IG51bGwgPyBudWxsIDogYUxpbmU7XG4gIHRoaXMuY29sdW1uID0gYUNvbHVtbiA9PSBudWxsID8gbnVsbCA6IGFDb2x1bW47XG4gIHRoaXMuc291cmNlID0gYVNvdXJjZSA9PSBudWxsID8gbnVsbCA6IGFTb3VyY2U7XG4gIHRoaXMubmFtZSA9IGFOYW1lID09IG51bGwgPyBudWxsIDogYU5hbWU7XG4gIHRoaXNbaXNTb3VyY2VOb2RlXSA9IHRydWU7XG4gIGlmIChhQ2h1bmtzICE9IG51bGwpIHRoaXMuYWRkKGFDaHVua3MpO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBTb3VyY2VOb2RlIGZyb20gZ2VuZXJhdGVkIGNvZGUgYW5kIGEgU291cmNlTWFwQ29uc3VtZXIuXG4gKlxuICogQHBhcmFtIGFHZW5lcmF0ZWRDb2RlIFRoZSBnZW5lcmF0ZWQgY29kZVxuICogQHBhcmFtIGFTb3VyY2VNYXBDb25zdW1lciBUaGUgU291cmNlTWFwIGZvciB0aGUgZ2VuZXJhdGVkIGNvZGVcbiAqIEBwYXJhbSBhUmVsYXRpdmVQYXRoIE9wdGlvbmFsLiBUaGUgcGF0aCB0aGF0IHJlbGF0aXZlIHNvdXJjZXMgaW4gdGhlXG4gKiAgICAgICAgU291cmNlTWFwQ29uc3VtZXIgc2hvdWxkIGJlIHJlbGF0aXZlIHRvLlxuICovXG5Tb3VyY2VOb2RlLmZyb21TdHJpbmdXaXRoU291cmNlTWFwID1cbiAgZnVuY3Rpb24gU291cmNlTm9kZV9mcm9tU3RyaW5nV2l0aFNvdXJjZU1hcChhR2VuZXJhdGVkQ29kZSwgYVNvdXJjZU1hcENvbnN1bWVyLCBhUmVsYXRpdmVQYXRoKSB7XG4gICAgLy8gVGhlIFNvdXJjZU5vZGUgd2Ugd2FudCB0byBmaWxsIHdpdGggdGhlIGdlbmVyYXRlZCBjb2RlXG4gICAgLy8gYW5kIHRoZSBTb3VyY2VNYXBcbiAgICB2YXIgbm9kZSA9IG5ldyBTb3VyY2VOb2RlKCk7XG5cbiAgICAvLyBBbGwgZXZlbiBpbmRpY2VzIG9mIHRoaXMgYXJyYXkgYXJlIG9uZSBsaW5lIG9mIHRoZSBnZW5lcmF0ZWQgY29kZSxcbiAgICAvLyB3aGlsZSBhbGwgb2RkIGluZGljZXMgYXJlIHRoZSBuZXdsaW5lcyBiZXR3ZWVuIHR3byBhZGphY2VudCBsaW5lc1xuICAgIC8vIChzaW5jZSBgUkVHRVhfTkVXTElORWAgY2FwdHVyZXMgaXRzIG1hdGNoKS5cbiAgICAvLyBQcm9jZXNzZWQgZnJhZ21lbnRzIGFyZSBhY2Nlc3NlZCBieSBjYWxsaW5nIGBzaGlmdE5leHRMaW5lYC5cbiAgICB2YXIgcmVtYWluaW5nTGluZXMgPSBhR2VuZXJhdGVkQ29kZS5zcGxpdChSRUdFWF9ORVdMSU5FKTtcbiAgICB2YXIgcmVtYWluaW5nTGluZXNJbmRleCA9IDA7XG4gICAgdmFyIHNoaWZ0TmV4dExpbmUgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBsaW5lQ29udGVudHMgPSBnZXROZXh0TGluZSgpO1xuICAgICAgLy8gVGhlIGxhc3QgbGluZSBvZiBhIGZpbGUgbWlnaHQgbm90IGhhdmUgYSBuZXdsaW5lLlxuICAgICAgdmFyIG5ld0xpbmUgPSBnZXROZXh0TGluZSgpIHx8IFwiXCI7XG4gICAgICByZXR1cm4gbGluZUNvbnRlbnRzICsgbmV3TGluZTtcblxuICAgICAgZnVuY3Rpb24gZ2V0TmV4dExpbmUoKSB7XG4gICAgICAgIHJldHVybiByZW1haW5pbmdMaW5lc0luZGV4IDwgcmVtYWluaW5nTGluZXMubGVuZ3RoID9cbiAgICAgICAgICAgIHJlbWFpbmluZ0xpbmVzW3JlbWFpbmluZ0xpbmVzSW5kZXgrK10gOiB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIFdlIG5lZWQgdG8gcmVtZW1iZXIgdGhlIHBvc2l0aW9uIG9mIFwicmVtYWluaW5nTGluZXNcIlxuICAgIHZhciBsYXN0R2VuZXJhdGVkTGluZSA9IDEsIGxhc3RHZW5lcmF0ZWRDb2x1bW4gPSAwO1xuXG4gICAgLy8gVGhlIGdlbmVyYXRlIFNvdXJjZU5vZGVzIHdlIG5lZWQgYSBjb2RlIHJhbmdlLlxuICAgIC8vIFRvIGV4dHJhY3QgaXQgY3VycmVudCBhbmQgbGFzdCBtYXBwaW5nIGlzIHVzZWQuXG4gICAgLy8gSGVyZSB3ZSBzdG9yZSB0aGUgbGFzdCBtYXBwaW5nLlxuICAgIHZhciBsYXN0TWFwcGluZyA9IG51bGw7XG5cbiAgICBhU291cmNlTWFwQ29uc3VtZXIuZWFjaE1hcHBpbmcoZnVuY3Rpb24gKG1hcHBpbmcpIHtcbiAgICAgIGlmIChsYXN0TWFwcGluZyAhPT0gbnVsbCkge1xuICAgICAgICAvLyBXZSBhZGQgdGhlIGNvZGUgZnJvbSBcImxhc3RNYXBwaW5nXCIgdG8gXCJtYXBwaW5nXCI6XG4gICAgICAgIC8vIEZpcnN0IGNoZWNrIGlmIHRoZXJlIGlzIGEgbmV3IGxpbmUgaW4gYmV0d2Vlbi5cbiAgICAgICAgaWYgKGxhc3RHZW5lcmF0ZWRMaW5lIDwgbWFwcGluZy5nZW5lcmF0ZWRMaW5lKSB7XG4gICAgICAgICAgLy8gQXNzb2NpYXRlIGZpcnN0IGxpbmUgd2l0aCBcImxhc3RNYXBwaW5nXCJcbiAgICAgICAgICBhZGRNYXBwaW5nV2l0aENvZGUobGFzdE1hcHBpbmcsIHNoaWZ0TmV4dExpbmUoKSk7XG4gICAgICAgICAgbGFzdEdlbmVyYXRlZExpbmUrKztcbiAgICAgICAgICBsYXN0R2VuZXJhdGVkQ29sdW1uID0gMDtcbiAgICAgICAgICAvLyBUaGUgcmVtYWluaW5nIGNvZGUgaXMgYWRkZWQgd2l0aG91dCBtYXBwaW5nXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gVGhlcmUgaXMgbm8gbmV3IGxpbmUgaW4gYmV0d2Vlbi5cbiAgICAgICAgICAvLyBBc3NvY2lhdGUgdGhlIGNvZGUgYmV0d2VlbiBcImxhc3RHZW5lcmF0ZWRDb2x1bW5cIiBhbmRcbiAgICAgICAgICAvLyBcIm1hcHBpbmcuZ2VuZXJhdGVkQ29sdW1uXCIgd2l0aCBcImxhc3RNYXBwaW5nXCJcbiAgICAgICAgICB2YXIgbmV4dExpbmUgPSByZW1haW5pbmdMaW5lc1tyZW1haW5pbmdMaW5lc0luZGV4XSB8fCAnJztcbiAgICAgICAgICB2YXIgY29kZSA9IG5leHRMaW5lLnN1YnN0cigwLCBtYXBwaW5nLmdlbmVyYXRlZENvbHVtbiAtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdEdlbmVyYXRlZENvbHVtbik7XG4gICAgICAgICAgcmVtYWluaW5nTGluZXNbcmVtYWluaW5nTGluZXNJbmRleF0gPSBuZXh0TGluZS5zdWJzdHIobWFwcGluZy5nZW5lcmF0ZWRDb2x1bW4gLVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RHZW5lcmF0ZWRDb2x1bW4pO1xuICAgICAgICAgIGxhc3RHZW5lcmF0ZWRDb2x1bW4gPSBtYXBwaW5nLmdlbmVyYXRlZENvbHVtbjtcbiAgICAgICAgICBhZGRNYXBwaW5nV2l0aENvZGUobGFzdE1hcHBpbmcsIGNvZGUpO1xuICAgICAgICAgIC8vIE5vIG1vcmUgcmVtYWluaW5nIGNvZGUsIGNvbnRpbnVlXG4gICAgICAgICAgbGFzdE1hcHBpbmcgPSBtYXBwaW5nO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gV2UgYWRkIHRoZSBnZW5lcmF0ZWQgY29kZSB1bnRpbCB0aGUgZmlyc3QgbWFwcGluZ1xuICAgICAgLy8gdG8gdGhlIFNvdXJjZU5vZGUgd2l0aG91dCBhbnkgbWFwcGluZy5cbiAgICAgIC8vIEVhY2ggbGluZSBpcyBhZGRlZCBhcyBzZXBhcmF0ZSBzdHJpbmcuXG4gICAgICB3aGlsZSAobGFzdEdlbmVyYXRlZExpbmUgPCBtYXBwaW5nLmdlbmVyYXRlZExpbmUpIHtcbiAgICAgICAgbm9kZS5hZGQoc2hpZnROZXh0TGluZSgpKTtcbiAgICAgICAgbGFzdEdlbmVyYXRlZExpbmUrKztcbiAgICAgIH1cbiAgICAgIGlmIChsYXN0R2VuZXJhdGVkQ29sdW1uIDwgbWFwcGluZy5nZW5lcmF0ZWRDb2x1bW4pIHtcbiAgICAgICAgdmFyIG5leHRMaW5lID0gcmVtYWluaW5nTGluZXNbcmVtYWluaW5nTGluZXNJbmRleF0gfHwgJyc7XG4gICAgICAgIG5vZGUuYWRkKG5leHRMaW5lLnN1YnN0cigwLCBtYXBwaW5nLmdlbmVyYXRlZENvbHVtbikpO1xuICAgICAgICByZW1haW5pbmdMaW5lc1tyZW1haW5pbmdMaW5lc0luZGV4XSA9IG5leHRMaW5lLnN1YnN0cihtYXBwaW5nLmdlbmVyYXRlZENvbHVtbik7XG4gICAgICAgIGxhc3RHZW5lcmF0ZWRDb2x1bW4gPSBtYXBwaW5nLmdlbmVyYXRlZENvbHVtbjtcbiAgICAgIH1cbiAgICAgIGxhc3RNYXBwaW5nID0gbWFwcGluZztcbiAgICB9LCB0aGlzKTtcbiAgICAvLyBXZSBoYXZlIHByb2Nlc3NlZCBhbGwgbWFwcGluZ3MuXG4gICAgaWYgKHJlbWFpbmluZ0xpbmVzSW5kZXggPCByZW1haW5pbmdMaW5lcy5sZW5ndGgpIHtcbiAgICAgIGlmIChsYXN0TWFwcGluZykge1xuICAgICAgICAvLyBBc3NvY2lhdGUgdGhlIHJlbWFpbmluZyBjb2RlIGluIHRoZSBjdXJyZW50IGxpbmUgd2l0aCBcImxhc3RNYXBwaW5nXCJcbiAgICAgICAgYWRkTWFwcGluZ1dpdGhDb2RlKGxhc3RNYXBwaW5nLCBzaGlmdE5leHRMaW5lKCkpO1xuICAgICAgfVxuICAgICAgLy8gYW5kIGFkZCB0aGUgcmVtYWluaW5nIGxpbmVzIHdpdGhvdXQgYW55IG1hcHBpbmdcbiAgICAgIG5vZGUuYWRkKHJlbWFpbmluZ0xpbmVzLnNwbGljZShyZW1haW5pbmdMaW5lc0luZGV4KS5qb2luKFwiXCIpKTtcbiAgICB9XG5cbiAgICAvLyBDb3B5IHNvdXJjZXNDb250ZW50IGludG8gU291cmNlTm9kZVxuICAgIGFTb3VyY2VNYXBDb25zdW1lci5zb3VyY2VzLmZvckVhY2goZnVuY3Rpb24gKHNvdXJjZUZpbGUpIHtcbiAgICAgIHZhciBjb250ZW50ID0gYVNvdXJjZU1hcENvbnN1bWVyLnNvdXJjZUNvbnRlbnRGb3Ioc291cmNlRmlsZSk7XG4gICAgICBpZiAoY29udGVudCAhPSBudWxsKSB7XG4gICAgICAgIGlmIChhUmVsYXRpdmVQYXRoICE9IG51bGwpIHtcbiAgICAgICAgICBzb3VyY2VGaWxlID0gdXRpbC5qb2luKGFSZWxhdGl2ZVBhdGgsIHNvdXJjZUZpbGUpO1xuICAgICAgICB9XG4gICAgICAgIG5vZGUuc2V0U291cmNlQ29udGVudChzb3VyY2VGaWxlLCBjb250ZW50KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiBub2RlO1xuXG4gICAgZnVuY3Rpb24gYWRkTWFwcGluZ1dpdGhDb2RlKG1hcHBpbmcsIGNvZGUpIHtcbiAgICAgIGlmIChtYXBwaW5nID09PSBudWxsIHx8IG1hcHBpbmcuc291cmNlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbm9kZS5hZGQoY29kZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgc291cmNlID0gYVJlbGF0aXZlUGF0aFxuICAgICAgICAgID8gdXRpbC5qb2luKGFSZWxhdGl2ZVBhdGgsIG1hcHBpbmcuc291cmNlKVxuICAgICAgICAgIDogbWFwcGluZy5zb3VyY2U7XG4gICAgICAgIG5vZGUuYWRkKG5ldyBTb3VyY2VOb2RlKG1hcHBpbmcub3JpZ2luYWxMaW5lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXBwaW5nLm9yaWdpbmFsQ29sdW1uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcHBpbmcubmFtZSkpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuLyoqXG4gKiBBZGQgYSBjaHVuayBvZiBnZW5lcmF0ZWQgSlMgdG8gdGhpcyBzb3VyY2Ugbm9kZS5cbiAqXG4gKiBAcGFyYW0gYUNodW5rIEEgc3RyaW5nIHNuaXBwZXQgb2YgZ2VuZXJhdGVkIEpTIGNvZGUsIGFub3RoZXIgaW5zdGFuY2Ugb2ZcbiAqICAgICAgICBTb3VyY2VOb2RlLCBvciBhbiBhcnJheSB3aGVyZSBlYWNoIG1lbWJlciBpcyBvbmUgb2YgdGhvc2UgdGhpbmdzLlxuICovXG5Tb3VyY2VOb2RlLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiBTb3VyY2VOb2RlX2FkZChhQ2h1bmspIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYUNodW5rKSkge1xuICAgIGFDaHVuay5mb3JFYWNoKGZ1bmN0aW9uIChjaHVuaykge1xuICAgICAgdGhpcy5hZGQoY2h1bmspO1xuICAgIH0sIHRoaXMpO1xuICB9XG4gIGVsc2UgaWYgKGFDaHVua1tpc1NvdXJjZU5vZGVdIHx8IHR5cGVvZiBhQ2h1bmsgPT09IFwic3RyaW5nXCIpIHtcbiAgICBpZiAoYUNodW5rKSB7XG4gICAgICB0aGlzLmNoaWxkcmVuLnB1c2goYUNodW5rKTtcbiAgICB9XG4gIH1cbiAgZWxzZSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgIFwiRXhwZWN0ZWQgYSBTb3VyY2VOb2RlLCBzdHJpbmcsIG9yIGFuIGFycmF5IG9mIFNvdXJjZU5vZGVzIGFuZCBzdHJpbmdzLiBHb3QgXCIgKyBhQ2h1bmtcbiAgICApO1xuICB9XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBBZGQgYSBjaHVuayBvZiBnZW5lcmF0ZWQgSlMgdG8gdGhlIGJlZ2lubmluZyBvZiB0aGlzIHNvdXJjZSBub2RlLlxuICpcbiAqIEBwYXJhbSBhQ2h1bmsgQSBzdHJpbmcgc25pcHBldCBvZiBnZW5lcmF0ZWQgSlMgY29kZSwgYW5vdGhlciBpbnN0YW5jZSBvZlxuICogICAgICAgIFNvdXJjZU5vZGUsIG9yIGFuIGFycmF5IHdoZXJlIGVhY2ggbWVtYmVyIGlzIG9uZSBvZiB0aG9zZSB0aGluZ3MuXG4gKi9cblNvdXJjZU5vZGUucHJvdG90eXBlLnByZXBlbmQgPSBmdW5jdGlvbiBTb3VyY2VOb2RlX3ByZXBlbmQoYUNodW5rKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGFDaHVuaykpIHtcbiAgICBmb3IgKHZhciBpID0gYUNodW5rLmxlbmd0aC0xOyBpID49IDA7IGktLSkge1xuICAgICAgdGhpcy5wcmVwZW5kKGFDaHVua1tpXSk7XG4gICAgfVxuICB9XG4gIGVsc2UgaWYgKGFDaHVua1tpc1NvdXJjZU5vZGVdIHx8IHR5cGVvZiBhQ2h1bmsgPT09IFwic3RyaW5nXCIpIHtcbiAgICB0aGlzLmNoaWxkcmVuLnVuc2hpZnQoYUNodW5rKTtcbiAgfVxuICBlbHNlIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgXCJFeHBlY3RlZCBhIFNvdXJjZU5vZGUsIHN0cmluZywgb3IgYW4gYXJyYXkgb2YgU291cmNlTm9kZXMgYW5kIHN0cmluZ3MuIEdvdCBcIiArIGFDaHVua1xuICAgICk7XG4gIH1cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFdhbGsgb3ZlciB0aGUgdHJlZSBvZiBKUyBzbmlwcGV0cyBpbiB0aGlzIG5vZGUgYW5kIGl0cyBjaGlsZHJlbi4gVGhlXG4gKiB3YWxraW5nIGZ1bmN0aW9uIGlzIGNhbGxlZCBvbmNlIGZvciBlYWNoIHNuaXBwZXQgb2YgSlMgYW5kIGlzIHBhc3NlZCB0aGF0XG4gKiBzbmlwcGV0IGFuZCB0aGUgaXRzIG9yaWdpbmFsIGFzc29jaWF0ZWQgc291cmNlJ3MgbGluZS9jb2x1bW4gbG9jYXRpb24uXG4gKlxuICogQHBhcmFtIGFGbiBUaGUgdHJhdmVyc2FsIGZ1bmN0aW9uLlxuICovXG5Tb3VyY2VOb2RlLnByb3RvdHlwZS53YWxrID0gZnVuY3Rpb24gU291cmNlTm9kZV93YWxrKGFGbikge1xuICB2YXIgY2h1bms7XG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgY2h1bmsgPSB0aGlzLmNoaWxkcmVuW2ldO1xuICAgIGlmIChjaHVua1tpc1NvdXJjZU5vZGVdKSB7XG4gICAgICBjaHVuay53YWxrKGFGbik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgaWYgKGNodW5rICE9PSAnJykge1xuICAgICAgICBhRm4oY2h1bmssIHsgc291cmNlOiB0aGlzLnNvdXJjZSxcbiAgICAgICAgICAgICAgICAgICAgIGxpbmU6IHRoaXMubGluZSxcbiAgICAgICAgICAgICAgICAgICAgIGNvbHVtbjogdGhpcy5jb2x1bW4sXG4gICAgICAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLm5hbWUgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG4vKipcbiAqIExpa2UgYFN0cmluZy5wcm90b3R5cGUuam9pbmAgZXhjZXB0IGZvciBTb3VyY2VOb2Rlcy4gSW5zZXJ0cyBgYVN0cmAgYmV0d2VlblxuICogZWFjaCBvZiBgdGhpcy5jaGlsZHJlbmAuXG4gKlxuICogQHBhcmFtIGFTZXAgVGhlIHNlcGFyYXRvci5cbiAqL1xuU291cmNlTm9kZS5wcm90b3R5cGUuam9pbiA9IGZ1bmN0aW9uIFNvdXJjZU5vZGVfam9pbihhU2VwKSB7XG4gIHZhciBuZXdDaGlsZHJlbjtcbiAgdmFyIGk7XG4gIHZhciBsZW4gPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDtcbiAgaWYgKGxlbiA+IDApIHtcbiAgICBuZXdDaGlsZHJlbiA9IFtdO1xuICAgIGZvciAoaSA9IDA7IGkgPCBsZW4tMTsgaSsrKSB7XG4gICAgICBuZXdDaGlsZHJlbi5wdXNoKHRoaXMuY2hpbGRyZW5baV0pO1xuICAgICAgbmV3Q2hpbGRyZW4ucHVzaChhU2VwKTtcbiAgICB9XG4gICAgbmV3Q2hpbGRyZW4ucHVzaCh0aGlzLmNoaWxkcmVuW2ldKTtcbiAgICB0aGlzLmNoaWxkcmVuID0gbmV3Q2hpbGRyZW47XG4gIH1cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIENhbGwgU3RyaW5nLnByb3RvdHlwZS5yZXBsYWNlIG9uIHRoZSB2ZXJ5IHJpZ2h0LW1vc3Qgc291cmNlIHNuaXBwZXQuIFVzZWZ1bFxuICogZm9yIHRyaW1taW5nIHdoaXRlc3BhY2UgZnJvbSB0aGUgZW5kIG9mIGEgc291cmNlIG5vZGUsIGV0Yy5cbiAqXG4gKiBAcGFyYW0gYVBhdHRlcm4gVGhlIHBhdHRlcm4gdG8gcmVwbGFjZS5cbiAqIEBwYXJhbSBhUmVwbGFjZW1lbnQgVGhlIHRoaW5nIHRvIHJlcGxhY2UgdGhlIHBhdHRlcm4gd2l0aC5cbiAqL1xuU291cmNlTm9kZS5wcm90b3R5cGUucmVwbGFjZVJpZ2h0ID0gZnVuY3Rpb24gU291cmNlTm9kZV9yZXBsYWNlUmlnaHQoYVBhdHRlcm4sIGFSZXBsYWNlbWVudCkge1xuICB2YXIgbGFzdENoaWxkID0gdGhpcy5jaGlsZHJlblt0aGlzLmNoaWxkcmVuLmxlbmd0aCAtIDFdO1xuICBpZiAobGFzdENoaWxkW2lzU291cmNlTm9kZV0pIHtcbiAgICBsYXN0Q2hpbGQucmVwbGFjZVJpZ2h0KGFQYXR0ZXJuLCBhUmVwbGFjZW1lbnQpO1xuICB9XG4gIGVsc2UgaWYgKHR5cGVvZiBsYXN0Q2hpbGQgPT09ICdzdHJpbmcnKSB7XG4gICAgdGhpcy5jaGlsZHJlblt0aGlzLmNoaWxkcmVuLmxlbmd0aCAtIDFdID0gbGFzdENoaWxkLnJlcGxhY2UoYVBhdHRlcm4sIGFSZXBsYWNlbWVudCk7XG4gIH1cbiAgZWxzZSB7XG4gICAgdGhpcy5jaGlsZHJlbi5wdXNoKCcnLnJlcGxhY2UoYVBhdHRlcm4sIGFSZXBsYWNlbWVudCkpO1xuICB9XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBTZXQgdGhlIHNvdXJjZSBjb250ZW50IGZvciBhIHNvdXJjZSBmaWxlLiBUaGlzIHdpbGwgYmUgYWRkZWQgdG8gdGhlIFNvdXJjZU1hcEdlbmVyYXRvclxuICogaW4gdGhlIHNvdXJjZXNDb250ZW50IGZpZWxkLlxuICpcbiAqIEBwYXJhbSBhU291cmNlRmlsZSBUaGUgZmlsZW5hbWUgb2YgdGhlIHNvdXJjZSBmaWxlXG4gKiBAcGFyYW0gYVNvdXJjZUNvbnRlbnQgVGhlIGNvbnRlbnQgb2YgdGhlIHNvdXJjZSBmaWxlXG4gKi9cblNvdXJjZU5vZGUucHJvdG90eXBlLnNldFNvdXJjZUNvbnRlbnQgPVxuICBmdW5jdGlvbiBTb3VyY2VOb2RlX3NldFNvdXJjZUNvbnRlbnQoYVNvdXJjZUZpbGUsIGFTb3VyY2VDb250ZW50KSB7XG4gICAgdGhpcy5zb3VyY2VDb250ZW50c1t1dGlsLnRvU2V0U3RyaW5nKGFTb3VyY2VGaWxlKV0gPSBhU291cmNlQ29udGVudDtcbiAgfTtcblxuLyoqXG4gKiBXYWxrIG92ZXIgdGhlIHRyZWUgb2YgU291cmNlTm9kZXMuIFRoZSB3YWxraW5nIGZ1bmN0aW9uIGlzIGNhbGxlZCBmb3IgZWFjaFxuICogc291cmNlIGZpbGUgY29udGVudCBhbmQgaXMgcGFzc2VkIHRoZSBmaWxlbmFtZSBhbmQgc291cmNlIGNvbnRlbnQuXG4gKlxuICogQHBhcmFtIGFGbiBUaGUgdHJhdmVyc2FsIGZ1bmN0aW9uLlxuICovXG5Tb3VyY2VOb2RlLnByb3RvdHlwZS53YWxrU291cmNlQ29udGVudHMgPVxuICBmdW5jdGlvbiBTb3VyY2VOb2RlX3dhbGtTb3VyY2VDb250ZW50cyhhRm4pIHtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgaWYgKHRoaXMuY2hpbGRyZW5baV1baXNTb3VyY2VOb2RlXSkge1xuICAgICAgICB0aGlzLmNoaWxkcmVuW2ldLndhbGtTb3VyY2VDb250ZW50cyhhRm4pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBzb3VyY2VzID0gT2JqZWN0LmtleXModGhpcy5zb3VyY2VDb250ZW50cyk7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHNvdXJjZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGFGbih1dGlsLmZyb21TZXRTdHJpbmcoc291cmNlc1tpXSksIHRoaXMuc291cmNlQ29udGVudHNbc291cmNlc1tpXV0pO1xuICAgIH1cbiAgfTtcblxuLyoqXG4gKiBSZXR1cm4gdGhlIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGlzIHNvdXJjZSBub2RlLiBXYWxrcyBvdmVyIHRoZSB0cmVlXG4gKiBhbmQgY29uY2F0ZW5hdGVzIGFsbCB0aGUgdmFyaW91cyBzbmlwcGV0cyB0b2dldGhlciB0byBvbmUgc3RyaW5nLlxuICovXG5Tb3VyY2VOb2RlLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIFNvdXJjZU5vZGVfdG9TdHJpbmcoKSB7XG4gIHZhciBzdHIgPSBcIlwiO1xuICB0aGlzLndhbGsoZnVuY3Rpb24gKGNodW5rKSB7XG4gICAgc3RyICs9IGNodW5rO1xuICB9KTtcbiAgcmV0dXJuIHN0cjtcbn07XG5cbi8qKlxuICogUmV0dXJucyB0aGUgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgc291cmNlIG5vZGUgYWxvbmcgd2l0aCBhIHNvdXJjZVxuICogbWFwLlxuICovXG5Tb3VyY2VOb2RlLnByb3RvdHlwZS50b1N0cmluZ1dpdGhTb3VyY2VNYXAgPSBmdW5jdGlvbiBTb3VyY2VOb2RlX3RvU3RyaW5nV2l0aFNvdXJjZU1hcChhQXJncykge1xuICB2YXIgZ2VuZXJhdGVkID0ge1xuICAgIGNvZGU6IFwiXCIsXG4gICAgbGluZTogMSxcbiAgICBjb2x1bW46IDBcbiAgfTtcbiAgdmFyIG1hcCA9IG5ldyBTb3VyY2VNYXBHZW5lcmF0b3IoYUFyZ3MpO1xuICB2YXIgc291cmNlTWFwcGluZ0FjdGl2ZSA9IGZhbHNlO1xuICB2YXIgbGFzdE9yaWdpbmFsU291cmNlID0gbnVsbDtcbiAgdmFyIGxhc3RPcmlnaW5hbExpbmUgPSBudWxsO1xuICB2YXIgbGFzdE9yaWdpbmFsQ29sdW1uID0gbnVsbDtcbiAgdmFyIGxhc3RPcmlnaW5hbE5hbWUgPSBudWxsO1xuICB0aGlzLndhbGsoZnVuY3Rpb24gKGNodW5rLCBvcmlnaW5hbCkge1xuICAgIGdlbmVyYXRlZC5jb2RlICs9IGNodW5rO1xuICAgIGlmIChvcmlnaW5hbC5zb3VyY2UgIT09IG51bGxcbiAgICAgICAgJiYgb3JpZ2luYWwubGluZSAhPT0gbnVsbFxuICAgICAgICAmJiBvcmlnaW5hbC5jb2x1bW4gIT09IG51bGwpIHtcbiAgICAgIGlmKGxhc3RPcmlnaW5hbFNvdXJjZSAhPT0gb3JpZ2luYWwuc291cmNlXG4gICAgICAgICB8fCBsYXN0T3JpZ2luYWxMaW5lICE9PSBvcmlnaW5hbC5saW5lXG4gICAgICAgICB8fCBsYXN0T3JpZ2luYWxDb2x1bW4gIT09IG9yaWdpbmFsLmNvbHVtblxuICAgICAgICAgfHwgbGFzdE9yaWdpbmFsTmFtZSAhPT0gb3JpZ2luYWwubmFtZSkge1xuICAgICAgICBtYXAuYWRkTWFwcGluZyh7XG4gICAgICAgICAgc291cmNlOiBvcmlnaW5hbC5zb3VyY2UsXG4gICAgICAgICAgb3JpZ2luYWw6IHtcbiAgICAgICAgICAgIGxpbmU6IG9yaWdpbmFsLmxpbmUsXG4gICAgICAgICAgICBjb2x1bW46IG9yaWdpbmFsLmNvbHVtblxuICAgICAgICAgIH0sXG4gICAgICAgICAgZ2VuZXJhdGVkOiB7XG4gICAgICAgICAgICBsaW5lOiBnZW5lcmF0ZWQubGluZSxcbiAgICAgICAgICAgIGNvbHVtbjogZ2VuZXJhdGVkLmNvbHVtblxuICAgICAgICAgIH0sXG4gICAgICAgICAgbmFtZTogb3JpZ2luYWwubmFtZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGxhc3RPcmlnaW5hbFNvdXJjZSA9IG9yaWdpbmFsLnNvdXJjZTtcbiAgICAgIGxhc3RPcmlnaW5hbExpbmUgPSBvcmlnaW5hbC5saW5lO1xuICAgICAgbGFzdE9yaWdpbmFsQ29sdW1uID0gb3JpZ2luYWwuY29sdW1uO1xuICAgICAgbGFzdE9yaWdpbmFsTmFtZSA9IG9yaWdpbmFsLm5hbWU7XG4gICAgICBzb3VyY2VNYXBwaW5nQWN0aXZlID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKHNvdXJjZU1hcHBpbmdBY3RpdmUpIHtcbiAgICAgIG1hcC5hZGRNYXBwaW5nKHtcbiAgICAgICAgZ2VuZXJhdGVkOiB7XG4gICAgICAgICAgbGluZTogZ2VuZXJhdGVkLmxpbmUsXG4gICAgICAgICAgY29sdW1uOiBnZW5lcmF0ZWQuY29sdW1uXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgbGFzdE9yaWdpbmFsU291cmNlID0gbnVsbDtcbiAgICAgIHNvdXJjZU1hcHBpbmdBY3RpdmUgPSBmYWxzZTtcbiAgICB9XG4gICAgZm9yICh2YXIgaWR4ID0gMCwgbGVuZ3RoID0gY2h1bmsubGVuZ3RoOyBpZHggPCBsZW5ndGg7IGlkeCsrKSB7XG4gICAgICBpZiAoY2h1bmsuY2hhckNvZGVBdChpZHgpID09PSBORVdMSU5FX0NPREUpIHtcbiAgICAgICAgZ2VuZXJhdGVkLmxpbmUrKztcbiAgICAgICAgZ2VuZXJhdGVkLmNvbHVtbiA9IDA7XG4gICAgICAgIC8vIE1hcHBpbmdzIGVuZCBhdCBlb2xcbiAgICAgICAgaWYgKGlkeCArIDEgPT09IGxlbmd0aCkge1xuICAgICAgICAgIGxhc3RPcmlnaW5hbFNvdXJjZSA9IG51bGw7XG4gICAgICAgICAgc291cmNlTWFwcGluZ0FjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB9IGVsc2UgaWYgKHNvdXJjZU1hcHBpbmdBY3RpdmUpIHtcbiAgICAgICAgICBtYXAuYWRkTWFwcGluZyh7XG4gICAgICAgICAgICBzb3VyY2U6IG9yaWdpbmFsLnNvdXJjZSxcbiAgICAgICAgICAgIG9yaWdpbmFsOiB7XG4gICAgICAgICAgICAgIGxpbmU6IG9yaWdpbmFsLmxpbmUsXG4gICAgICAgICAgICAgIGNvbHVtbjogb3JpZ2luYWwuY29sdW1uXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2VuZXJhdGVkOiB7XG4gICAgICAgICAgICAgIGxpbmU6IGdlbmVyYXRlZC5saW5lLFxuICAgICAgICAgICAgICBjb2x1bW46IGdlbmVyYXRlZC5jb2x1bW5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBuYW1lOiBvcmlnaW5hbC5uYW1lXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGdlbmVyYXRlZC5jb2x1bW4rKztcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICB0aGlzLndhbGtTb3VyY2VDb250ZW50cyhmdW5jdGlvbiAoc291cmNlRmlsZSwgc291cmNlQ29udGVudCkge1xuICAgIG1hcC5zZXRTb3VyY2VDb250ZW50KHNvdXJjZUZpbGUsIHNvdXJjZUNvbnRlbnQpO1xuICB9KTtcblxuICByZXR1cm4geyBjb2RlOiBnZW5lcmF0ZWQuY29kZSwgbWFwOiBtYXAgfTtcbn07XG5cbmV4cG9ydHMuU291cmNlTm9kZSA9IFNvdXJjZU5vZGU7XG4iLCAiLypcbiAqIENvcHlyaWdodCAyMDA5LTIwMTEgTW96aWxsYSBGb3VuZGF0aW9uIGFuZCBjb250cmlidXRvcnNcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBOZXcgQlNEIGxpY2Vuc2UuIFNlZSBMSUNFTlNFLnR4dCBvcjpcbiAqIGh0dHA6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9CU0QtMy1DbGF1c2VcbiAqL1xuZXhwb3J0cy5Tb3VyY2VNYXBHZW5lcmF0b3IgPSByZXF1aXJlKCcuL2xpYi9zb3VyY2UtbWFwLWdlbmVyYXRvcicpLlNvdXJjZU1hcEdlbmVyYXRvcjtcbmV4cG9ydHMuU291cmNlTWFwQ29uc3VtZXIgPSByZXF1aXJlKCcuL2xpYi9zb3VyY2UtbWFwLWNvbnN1bWVyJykuU291cmNlTWFwQ29uc3VtZXI7XG5leHBvcnRzLlNvdXJjZU5vZGUgPSByZXF1aXJlKCcuL2xpYi9zb3VyY2Utbm9kZScpLlNvdXJjZU5vZGU7XG4iLCAiLyogZ2xvYmFsIGRlZmluZSAqL1xuaW1wb3J0IHsgaXNBcnJheSB9IGZyb20gJy4uL3V0aWxzJztcblxubGV0IFNvdXJjZU5vZGU7XG5cbnRyeSB7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIGlmICh0eXBlb2YgZGVmaW5lICE9PSAnZnVuY3Rpb24nIHx8ICFkZWZpbmUuYW1kKSB7XG4gICAgLy8gV2UgZG9uJ3Qgc3VwcG9ydCB0aGlzIGluIEFNRCBlbnZpcm9ubWVudHMuIEZvciB0aGVzZSBlbnZpcm9ubWVudHMsIHdlIGFzdXNtZSB0aGF0XG4gICAgLy8gdGhleSBhcmUgcnVubmluZyBvbiB0aGUgYnJvd3NlciBhbmQgdGh1cyBoYXZlIG5vIG5lZWQgZm9yIHRoZSBzb3VyY2UtbWFwIGxpYnJhcnkuXG4gICAgbGV0IFNvdXJjZU1hcCA9IHJlcXVpcmUoJ3NvdXJjZS1tYXAnKTtcbiAgICBTb3VyY2VOb2RlID0gU291cmNlTWFwLlNvdXJjZU5vZGU7XG4gIH1cbn0gY2F0Y2ggKGVycikge1xuICAvKiBOT1AgKi9cbn1cblxuLyogaXN0YW5idWwgaWdub3JlIGlmOiB0ZXN0ZWQgYnV0IG5vdCBjb3ZlcmVkIGluIGlzdGFuYnVsIGR1ZSB0byBkaXN0IGJ1aWxkICAqL1xuaWYgKCFTb3VyY2VOb2RlKSB7XG4gIFNvdXJjZU5vZGUgPSBmdW5jdGlvbihsaW5lLCBjb2x1bW4sIHNyY0ZpbGUsIGNodW5rcykge1xuICAgIHRoaXMuc3JjID0gJyc7XG4gICAgaWYgKGNodW5rcykge1xuICAgICAgdGhpcy5hZGQoY2h1bmtzKTtcbiAgICB9XG4gIH07XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIFNvdXJjZU5vZGUucHJvdG90eXBlID0ge1xuICAgIGFkZDogZnVuY3Rpb24oY2h1bmtzKSB7XG4gICAgICBpZiAoaXNBcnJheShjaHVua3MpKSB7XG4gICAgICAgIGNodW5rcyA9IGNodW5rcy5qb2luKCcnKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuc3JjICs9IGNodW5rcztcbiAgICB9LFxuICAgIHByZXBlbmQ6IGZ1bmN0aW9uKGNodW5rcykge1xuICAgICAgaWYgKGlzQXJyYXkoY2h1bmtzKSkge1xuICAgICAgICBjaHVua3MgPSBjaHVua3Muam9pbignJyk7XG4gICAgICB9XG4gICAgICB0aGlzLnNyYyA9IGNodW5rcyArIHRoaXMuc3JjO1xuICAgIH0sXG4gICAgdG9TdHJpbmdXaXRoU291cmNlTWFwOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB7IGNvZGU6IHRoaXMudG9TdHJpbmcoKSB9O1xuICAgIH0sXG4gICAgdG9TdHJpbmc6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuc3JjO1xuICAgIH1cbiAgfTtcbn1cblxuZnVuY3Rpb24gY2FzdENodW5rKGNodW5rLCBjb2RlR2VuLCBsb2MpIHtcbiAgaWYgKGlzQXJyYXkoY2h1bmspKSB7XG4gICAgbGV0IHJldCA9IFtdO1xuXG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGNodW5rLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICByZXQucHVzaChjb2RlR2VuLndyYXAoY2h1bmtbaV0sIGxvYykpO1xuICAgIH1cbiAgICByZXR1cm4gcmV0O1xuICB9IGVsc2UgaWYgKHR5cGVvZiBjaHVuayA9PT0gJ2Jvb2xlYW4nIHx8IHR5cGVvZiBjaHVuayA9PT0gJ251bWJlcicpIHtcbiAgICAvLyBIYW5kbGUgcHJpbWl0aXZlcyB0aGF0IHRoZSBTb3VyY2VOb2RlIHdpbGwgdGhyb3cgdXAgb25cbiAgICByZXR1cm4gY2h1bmsgKyAnJztcbiAgfVxuICByZXR1cm4gY2h1bms7XG59XG5cbmZ1bmN0aW9uIENvZGVHZW4oc3JjRmlsZSkge1xuICB0aGlzLnNyY0ZpbGUgPSBzcmNGaWxlO1xuICB0aGlzLnNvdXJjZSA9IFtdO1xufVxuXG5Db2RlR2VuLnByb3RvdHlwZSA9IHtcbiAgaXNFbXB0eSgpIHtcbiAgICByZXR1cm4gIXRoaXMuc291cmNlLmxlbmd0aDtcbiAgfSxcbiAgcHJlcGVuZDogZnVuY3Rpb24oc291cmNlLCBsb2MpIHtcbiAgICB0aGlzLnNvdXJjZS51bnNoaWZ0KHRoaXMud3JhcChzb3VyY2UsIGxvYykpO1xuICB9LFxuICBwdXNoOiBmdW5jdGlvbihzb3VyY2UsIGxvYykge1xuICAgIHRoaXMuc291cmNlLnB1c2godGhpcy53cmFwKHNvdXJjZSwgbG9jKSk7XG4gIH0sXG5cbiAgbWVyZ2U6IGZ1bmN0aW9uKCkge1xuICAgIGxldCBzb3VyY2UgPSB0aGlzLmVtcHR5KCk7XG4gICAgdGhpcy5lYWNoKGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgIHNvdXJjZS5hZGQoWycgICcsIGxpbmUsICdcXG4nXSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHNvdXJjZTtcbiAgfSxcblxuICBlYWNoOiBmdW5jdGlvbihpdGVyKSB7XG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHRoaXMuc291cmNlLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBpdGVyKHRoaXMuc291cmNlW2ldKTtcbiAgICB9XG4gIH0sXG5cbiAgZW1wdHk6IGZ1bmN0aW9uKCkge1xuICAgIGxldCBsb2MgPSB0aGlzLmN1cnJlbnRMb2NhdGlvbiB8fCB7IHN0YXJ0OiB7fSB9O1xuICAgIHJldHVybiBuZXcgU291cmNlTm9kZShsb2Muc3RhcnQubGluZSwgbG9jLnN0YXJ0LmNvbHVtbiwgdGhpcy5zcmNGaWxlKTtcbiAgfSxcbiAgd3JhcDogZnVuY3Rpb24oY2h1bmssIGxvYyA9IHRoaXMuY3VycmVudExvY2F0aW9uIHx8IHsgc3RhcnQ6IHt9IH0pIHtcbiAgICBpZiAoY2h1bmsgaW5zdGFuY2VvZiBTb3VyY2VOb2RlKSB7XG4gICAgICByZXR1cm4gY2h1bms7XG4gICAgfVxuXG4gICAgY2h1bmsgPSBjYXN0Q2h1bmsoY2h1bmssIHRoaXMsIGxvYyk7XG5cbiAgICByZXR1cm4gbmV3IFNvdXJjZU5vZGUoXG4gICAgICBsb2Muc3RhcnQubGluZSxcbiAgICAgIGxvYy5zdGFydC5jb2x1bW4sXG4gICAgICB0aGlzLnNyY0ZpbGUsXG4gICAgICBjaHVua1xuICAgICk7XG4gIH0sXG5cbiAgZnVuY3Rpb25DYWxsOiBmdW5jdGlvbihmbiwgdHlwZSwgcGFyYW1zKSB7XG4gICAgcGFyYW1zID0gdGhpcy5nZW5lcmF0ZUxpc3QocGFyYW1zKTtcbiAgICByZXR1cm4gdGhpcy53cmFwKFtmbiwgdHlwZSA/ICcuJyArIHR5cGUgKyAnKCcgOiAnKCcsIHBhcmFtcywgJyknXSk7XG4gIH0sXG5cbiAgcXVvdGVkU3RyaW5nOiBmdW5jdGlvbihzdHIpIHtcbiAgICByZXR1cm4gKFxuICAgICAgJ1wiJyArXG4gICAgICAoc3RyICsgJycpXG4gICAgICAgIC5yZXBsYWNlKC9cXFxcL2csICdcXFxcXFxcXCcpXG4gICAgICAgIC5yZXBsYWNlKC9cIi9nLCAnXFxcXFwiJylcbiAgICAgICAgLnJlcGxhY2UoL1xcbi9nLCAnXFxcXG4nKVxuICAgICAgICAucmVwbGFjZSgvXFxyL2csICdcXFxccicpXG4gICAgICAgIC5yZXBsYWNlKC9cXHUyMDI4L2csICdcXFxcdTIwMjgnKSAvLyBQZXIgRWNtYS0yNjIgNy4zICsgNy44LjRcbiAgICAgICAgLnJlcGxhY2UoL1xcdTIwMjkvZywgJ1xcXFx1MjAyOScpICtcbiAgICAgICdcIidcbiAgICApO1xuICB9LFxuXG4gIG9iamVjdExpdGVyYWw6IGZ1bmN0aW9uKG9iaikge1xuICAgIGxldCBwYWlycyA9IFtdO1xuXG4gICAgT2JqZWN0LmtleXMob2JqKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICBsZXQgdmFsdWUgPSBjYXN0Q2h1bmsob2JqW2tleV0sIHRoaXMpO1xuICAgICAgaWYgKHZhbHVlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBwYWlycy5wdXNoKFt0aGlzLnF1b3RlZFN0cmluZyhrZXkpLCAnOicsIHZhbHVlXSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBsZXQgcmV0ID0gdGhpcy5nZW5lcmF0ZUxpc3QocGFpcnMpO1xuICAgIHJldC5wcmVwZW5kKCd7Jyk7XG4gICAgcmV0LmFkZCgnfScpO1xuICAgIHJldHVybiByZXQ7XG4gIH0sXG5cbiAgZ2VuZXJhdGVMaXN0OiBmdW5jdGlvbihlbnRyaWVzKSB7XG4gICAgbGV0IHJldCA9IHRoaXMuZW1wdHkoKTtcblxuICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBlbnRyaWVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBpZiAoaSkge1xuICAgICAgICByZXQuYWRkKCcsJyk7XG4gICAgICB9XG5cbiAgICAgIHJldC5hZGQoY2FzdENodW5rKGVudHJpZXNbaV0sIHRoaXMpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmV0O1xuICB9LFxuXG4gIGdlbmVyYXRlQXJyYXk6IGZ1bmN0aW9uKGVudHJpZXMpIHtcbiAgICBsZXQgcmV0ID0gdGhpcy5nZW5lcmF0ZUxpc3QoZW50cmllcyk7XG4gICAgcmV0LnByZXBlbmQoJ1snKTtcbiAgICByZXQuYWRkKCddJyk7XG5cbiAgICByZXR1cm4gcmV0O1xuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBDb2RlR2VuO1xuIiwgImltcG9ydCB7IENPTVBJTEVSX1JFVklTSU9OLCBSRVZJU0lPTl9DSEFOR0VTIH0gZnJvbSAnLi4vYmFzZSc7XG5pbXBvcnQgRXhjZXB0aW9uIGZyb20gJy4uL2V4Y2VwdGlvbic7XG5pbXBvcnQgeyBpc0FycmF5IH0gZnJvbSAnLi4vdXRpbHMnO1xuaW1wb3J0IENvZGVHZW4gZnJvbSAnLi9jb2RlLWdlbic7XG5cbmZ1bmN0aW9uIExpdGVyYWwodmFsdWUpIHtcbiAgdGhpcy52YWx1ZSA9IHZhbHVlO1xufVxuXG5mdW5jdGlvbiBKYXZhU2NyaXB0Q29tcGlsZXIoKSB7fVxuXG5KYXZhU2NyaXB0Q29tcGlsZXIucHJvdG90eXBlID0ge1xuICAvLyBQVUJMSUMgQVBJOiBZb3UgY2FuIG92ZXJyaWRlIHRoZXNlIG1ldGhvZHMgaW4gYSBzdWJjbGFzcyB0byBwcm92aWRlXG4gIC8vIGFsdGVybmF0aXZlIGNvbXBpbGVkIGZvcm1zIGZvciBuYW1lIGxvb2t1cCBhbmQgYnVmZmVyaW5nIHNlbWFudGljc1xuICBuYW1lTG9va3VwOiBmdW5jdGlvbihwYXJlbnQsIG5hbWUgLyosICB0eXBlICovKSB7XG4gICAgcmV0dXJuIHRoaXMuaW50ZXJuYWxOYW1lTG9va3VwKHBhcmVudCwgbmFtZSk7XG4gIH0sXG4gIGRlcHRoZWRMb29rdXA6IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICByZXR1cm4gW1xuICAgICAgdGhpcy5hbGlhc2FibGUoJ2NvbnRhaW5lci5sb29rdXAnKSxcbiAgICAgICcoZGVwdGhzLCAnLFxuICAgICAgSlNPTi5zdHJpbmdpZnkobmFtZSksXG4gICAgICAnKSdcbiAgICBdO1xuICB9LFxuXG4gIGNvbXBpbGVySW5mbzogZnVuY3Rpb24oKSB7XG4gICAgY29uc3QgcmV2aXNpb24gPSBDT01QSUxFUl9SRVZJU0lPTixcbiAgICAgIHZlcnNpb25zID0gUkVWSVNJT05fQ0hBTkdFU1tyZXZpc2lvbl07XG4gICAgcmV0dXJuIFtyZXZpc2lvbiwgdmVyc2lvbnNdO1xuICB9LFxuXG4gIGFwcGVuZFRvQnVmZmVyOiBmdW5jdGlvbihzb3VyY2UsIGxvY2F0aW9uLCBleHBsaWNpdCkge1xuICAgIC8vIEZvcmNlIGEgc291cmNlIGFzIHRoaXMgc2ltcGxpZmllcyB0aGUgbWVyZ2UgbG9naWMuXG4gICAgaWYgKCFpc0FycmF5KHNvdXJjZSkpIHtcbiAgICAgIHNvdXJjZSA9IFtzb3VyY2VdO1xuICAgIH1cbiAgICBzb3VyY2UgPSB0aGlzLnNvdXJjZS53cmFwKHNvdXJjZSwgbG9jYXRpb24pO1xuXG4gICAgaWYgKHRoaXMuZW52aXJvbm1lbnQuaXNTaW1wbGUpIHtcbiAgICAgIHJldHVybiBbJ3JldHVybiAnLCBzb3VyY2UsICc7J107XG4gICAgfSBlbHNlIGlmIChleHBsaWNpdCkge1xuICAgICAgLy8gVGhpcyBpcyBhIGNhc2Ugd2hlcmUgdGhlIGJ1ZmZlciBvcGVyYXRpb24gb2NjdXJzIGFzIGEgY2hpbGQgb2YgYW5vdGhlclxuICAgICAgLy8gY29uc3RydWN0LCBnZW5lcmFsbHkgYnJhY2VzLiBXZSBoYXZlIHRvIGV4cGxpY2l0bHkgb3V0cHV0IHRoZXNlIGJ1ZmZlclxuICAgICAgLy8gb3BlcmF0aW9ucyB0byBlbnN1cmUgdGhhdCB0aGUgZW1pdHRlZCBjb2RlIGdvZXMgaW4gdGhlIGNvcnJlY3QgbG9jYXRpb24uXG4gICAgICByZXR1cm4gWydidWZmZXIgKz0gJywgc291cmNlLCAnOyddO1xuICAgIH0gZWxzZSB7XG4gICAgICBzb3VyY2UuYXBwZW5kVG9CdWZmZXIgPSB0cnVlO1xuICAgICAgcmV0dXJuIHNvdXJjZTtcbiAgICB9XG4gIH0sXG5cbiAgaW5pdGlhbGl6ZUJ1ZmZlcjogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMucXVvdGVkU3RyaW5nKCcnKTtcbiAgfSxcbiAgLy8gRU5EIFBVQkxJQyBBUElcbiAgaW50ZXJuYWxOYW1lTG9va3VwOiBmdW5jdGlvbihwYXJlbnQsIG5hbWUpIHtcbiAgICB0aGlzLmxvb2t1cFByb3BlcnR5RnVuY3Rpb25Jc1VzZWQgPSB0cnVlO1xuICAgIHJldHVybiBbJ2xvb2t1cFByb3BlcnR5KCcsIHBhcmVudCwgJywnLCBKU09OLnN0cmluZ2lmeShuYW1lKSwgJyknXTtcbiAgfSxcblxuICBsb29rdXBQcm9wZXJ0eUZ1bmN0aW9uSXNVc2VkOiBmYWxzZSxcblxuICBjb21waWxlOiBmdW5jdGlvbihlbnZpcm9ubWVudCwgb3B0aW9ucywgY29udGV4dCwgYXNPYmplY3QpIHtcbiAgICB0aGlzLmVudmlyb25tZW50ID0gZW52aXJvbm1lbnQ7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB0aGlzLnN0cmluZ1BhcmFtcyA9IHRoaXMub3B0aW9ucy5zdHJpbmdQYXJhbXM7XG4gICAgdGhpcy50cmFja0lkcyA9IHRoaXMub3B0aW9ucy50cmFja0lkcztcbiAgICB0aGlzLnByZWNvbXBpbGUgPSAhYXNPYmplY3Q7XG5cbiAgICB0aGlzLm5hbWUgPSB0aGlzLmVudmlyb25tZW50Lm5hbWU7XG4gICAgdGhpcy5pc0NoaWxkID0gISFjb250ZXh0O1xuICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQgfHwge1xuICAgICAgZGVjb3JhdG9yczogW10sXG4gICAgICBwcm9ncmFtczogW10sXG4gICAgICBlbnZpcm9ubWVudHM6IFtdXG4gICAgfTtcblxuICAgIHRoaXMucHJlYW1ibGUoKTtcblxuICAgIHRoaXMuc3RhY2tTbG90ID0gMDtcbiAgICB0aGlzLnN0YWNrVmFycyA9IFtdO1xuICAgIHRoaXMuYWxpYXNlcyA9IHt9O1xuICAgIHRoaXMucmVnaXN0ZXJzID0geyBsaXN0OiBbXSB9O1xuICAgIHRoaXMuaGFzaGVzID0gW107XG4gICAgdGhpcy5jb21waWxlU3RhY2sgPSBbXTtcbiAgICB0aGlzLmlubGluZVN0YWNrID0gW107XG4gICAgdGhpcy5ibG9ja1BhcmFtcyA9IFtdO1xuXG4gICAgdGhpcy5jb21waWxlQ2hpbGRyZW4oZW52aXJvbm1lbnQsIG9wdGlvbnMpO1xuXG4gICAgdGhpcy51c2VEZXB0aHMgPVxuICAgICAgdGhpcy51c2VEZXB0aHMgfHxcbiAgICAgIGVudmlyb25tZW50LnVzZURlcHRocyB8fFxuICAgICAgZW52aXJvbm1lbnQudXNlRGVjb3JhdG9ycyB8fFxuICAgICAgdGhpcy5vcHRpb25zLmNvbXBhdDtcbiAgICB0aGlzLnVzZUJsb2NrUGFyYW1zID0gdGhpcy51c2VCbG9ja1BhcmFtcyB8fCBlbnZpcm9ubWVudC51c2VCbG9ja1BhcmFtcztcblxuICAgIGxldCBvcGNvZGVzID0gZW52aXJvbm1lbnQub3Bjb2RlcyxcbiAgICAgIG9wY29kZSxcbiAgICAgIGZpcnN0TG9jLFxuICAgICAgaSxcbiAgICAgIGw7XG5cbiAgICBmb3IgKGkgPSAwLCBsID0gb3Bjb2Rlcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIG9wY29kZSA9IG9wY29kZXNbaV07XG5cbiAgICAgIHRoaXMuc291cmNlLmN1cnJlbnRMb2NhdGlvbiA9IG9wY29kZS5sb2M7XG4gICAgICBmaXJzdExvYyA9IGZpcnN0TG9jIHx8IG9wY29kZS5sb2M7XG4gICAgICB0aGlzW29wY29kZS5vcGNvZGVdLmFwcGx5KHRoaXMsIG9wY29kZS5hcmdzKTtcbiAgICB9XG5cbiAgICAvLyBGbHVzaCBhbnkgdHJhaWxpbmcgY29udGVudCB0aGF0IG1pZ2h0IGJlIHBlbmRpbmcuXG4gICAgdGhpcy5zb3VyY2UuY3VycmVudExvY2F0aW9uID0gZmlyc3RMb2M7XG4gICAgdGhpcy5wdXNoU291cmNlKCcnKTtcblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgaWYgKHRoaXMuc3RhY2tTbG90IHx8IHRoaXMuaW5saW5lU3RhY2subGVuZ3RoIHx8IHRoaXMuY29tcGlsZVN0YWNrLmxlbmd0aCkge1xuICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbignQ29tcGlsZSBjb21wbGV0ZWQgd2l0aCBjb250ZW50IGxlZnQgb24gc3RhY2snKTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuZGVjb3JhdG9ycy5pc0VtcHR5KCkpIHtcbiAgICAgIHRoaXMudXNlRGVjb3JhdG9ycyA9IHRydWU7XG5cbiAgICAgIHRoaXMuZGVjb3JhdG9ycy5wcmVwZW5kKFtcbiAgICAgICAgJ3ZhciBkZWNvcmF0b3JzID0gY29udGFpbmVyLmRlY29yYXRvcnMsICcsXG4gICAgICAgIHRoaXMubG9va3VwUHJvcGVydHlGdW5jdGlvblZhckRlY2xhcmF0aW9uKCksXG4gICAgICAgICc7XFxuJ1xuICAgICAgXSk7XG4gICAgICB0aGlzLmRlY29yYXRvcnMucHVzaCgncmV0dXJuIGZuOycpO1xuXG4gICAgICBpZiAoYXNPYmplY3QpIHtcbiAgICAgICAgdGhpcy5kZWNvcmF0b3JzID0gRnVuY3Rpb24uYXBwbHkodGhpcywgW1xuICAgICAgICAgICdmbicsXG4gICAgICAgICAgJ3Byb3BzJyxcbiAgICAgICAgICAnY29udGFpbmVyJyxcbiAgICAgICAgICAnZGVwdGgwJyxcbiAgICAgICAgICAnZGF0YScsXG4gICAgICAgICAgJ2Jsb2NrUGFyYW1zJyxcbiAgICAgICAgICAnZGVwdGhzJyxcbiAgICAgICAgICB0aGlzLmRlY29yYXRvcnMubWVyZ2UoKVxuICAgICAgICBdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZGVjb3JhdG9ycy5wcmVwZW5kKFxuICAgICAgICAgICdmdW5jdGlvbihmbiwgcHJvcHMsIGNvbnRhaW5lciwgZGVwdGgwLCBkYXRhLCBibG9ja1BhcmFtcywgZGVwdGhzKSB7XFxuJ1xuICAgICAgICApO1xuICAgICAgICB0aGlzLmRlY29yYXRvcnMucHVzaCgnfVxcbicpO1xuICAgICAgICB0aGlzLmRlY29yYXRvcnMgPSB0aGlzLmRlY29yYXRvcnMubWVyZ2UoKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5kZWNvcmF0b3JzID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGxldCBmbiA9IHRoaXMuY3JlYXRlRnVuY3Rpb25Db250ZXh0KGFzT2JqZWN0KTtcbiAgICBpZiAoIXRoaXMuaXNDaGlsZCkge1xuICAgICAgbGV0IHJldCA9IHtcbiAgICAgICAgY29tcGlsZXI6IHRoaXMuY29tcGlsZXJJbmZvKCksXG4gICAgICAgIG1haW46IGZuXG4gICAgICB9O1xuXG4gICAgICBpZiAodGhpcy5kZWNvcmF0b3JzKSB7XG4gICAgICAgIHJldC5tYWluX2QgPSB0aGlzLmRlY29yYXRvcnM7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgY2FtZWxjYXNlXG4gICAgICAgIHJldC51c2VEZWNvcmF0b3JzID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgbGV0IHsgcHJvZ3JhbXMsIGRlY29yYXRvcnMgfSA9IHRoaXMuY29udGV4dDtcbiAgICAgIGZvciAoaSA9IDAsIGwgPSBwcm9ncmFtcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgaWYgKHByb2dyYW1zW2ldKSB7XG4gICAgICAgICAgcmV0W2ldID0gcHJvZ3JhbXNbaV07XG4gICAgICAgICAgaWYgKGRlY29yYXRvcnNbaV0pIHtcbiAgICAgICAgICAgIHJldFtpICsgJ19kJ10gPSBkZWNvcmF0b3JzW2ldO1xuICAgICAgICAgICAgcmV0LnVzZURlY29yYXRvcnMgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5lbnZpcm9ubWVudC51c2VQYXJ0aWFsKSB7XG4gICAgICAgIHJldC51c2VQYXJ0aWFsID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuZGF0YSkge1xuICAgICAgICByZXQudXNlRGF0YSA9IHRydWU7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy51c2VEZXB0aHMpIHtcbiAgICAgICAgcmV0LnVzZURlcHRocyA9IHRydWU7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy51c2VCbG9ja1BhcmFtcykge1xuICAgICAgICByZXQudXNlQmxvY2tQYXJhbXMgPSB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5jb21wYXQpIHtcbiAgICAgICAgcmV0LmNvbXBhdCA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIGlmICghYXNPYmplY3QpIHtcbiAgICAgICAgcmV0LmNvbXBpbGVyID0gSlNPTi5zdHJpbmdpZnkocmV0LmNvbXBpbGVyKTtcblxuICAgICAgICB0aGlzLnNvdXJjZS5jdXJyZW50TG9jYXRpb24gPSB7IHN0YXJ0OiB7IGxpbmU6IDEsIGNvbHVtbjogMCB9IH07XG4gICAgICAgIHJldCA9IHRoaXMub2JqZWN0TGl0ZXJhbChyZXQpO1xuXG4gICAgICAgIGlmIChvcHRpb25zLnNyY05hbWUpIHtcbiAgICAgICAgICByZXQgPSByZXQudG9TdHJpbmdXaXRoU291cmNlTWFwKHsgZmlsZTogb3B0aW9ucy5kZXN0TmFtZSB9KTtcbiAgICAgICAgICByZXQubWFwID0gcmV0Lm1hcCAmJiByZXQubWFwLnRvU3RyaW5nKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0ID0gcmV0LnRvU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldC5jb21waWxlck9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmbjtcbiAgICB9XG4gIH0sXG5cbiAgcHJlYW1ibGU6IGZ1bmN0aW9uKCkge1xuICAgIC8vIHRyYWNrIHRoZSBsYXN0IGNvbnRleHQgcHVzaGVkIGludG8gcGxhY2UgdG8gYWxsb3cgc2tpcHBpbmcgdGhlXG4gICAgLy8gZ2V0Q29udGV4dCBvcGNvZGUgd2hlbiBpdCB3b3VsZCBiZSBhIG5vb3BcbiAgICB0aGlzLmxhc3RDb250ZXh0ID0gMDtcbiAgICB0aGlzLnNvdXJjZSA9IG5ldyBDb2RlR2VuKHRoaXMub3B0aW9ucy5zcmNOYW1lKTtcbiAgICB0aGlzLmRlY29yYXRvcnMgPSBuZXcgQ29kZUdlbih0aGlzLm9wdGlvbnMuc3JjTmFtZSk7XG4gIH0sXG5cbiAgY3JlYXRlRnVuY3Rpb25Db250ZXh0OiBmdW5jdGlvbihhc09iamVjdCkge1xuICAgIGxldCB2YXJEZWNsYXJhdGlvbnMgPSAnJztcblxuICAgIGxldCBsb2NhbHMgPSB0aGlzLnN0YWNrVmFycy5jb25jYXQodGhpcy5yZWdpc3RlcnMubGlzdCk7XG4gICAgaWYgKGxvY2Fscy5sZW5ndGggPiAwKSB7XG4gICAgICB2YXJEZWNsYXJhdGlvbnMgKz0gJywgJyArIGxvY2Fscy5qb2luKCcsICcpO1xuICAgIH1cblxuICAgIC8vIEdlbmVyYXRlIG1pbmltaXplciBhbGlhcyBtYXBwaW5nc1xuICAgIC8vXG4gICAgLy8gV2hlbiB1c2luZyB0cnVlIFNvdXJjZU5vZGVzLCB0aGlzIHdpbGwgdXBkYXRlIGFsbCByZWZlcmVuY2VzIHRvIHRoZSBnaXZlbiBhbGlhc1xuICAgIC8vIGFzIHRoZSBzb3VyY2Ugbm9kZXMgYXJlIHJldXNlZCBpbiBzaXR1LiBGb3IgdGhlIG5vbi1zb3VyY2Ugbm9kZSBjb21waWxhdGlvbiBtb2RlLFxuICAgIC8vIGFsaWFzZXMgd2lsbCBub3QgYmUgdXNlZCwgYnV0IHRoaXMgY2FzZSBpcyBhbHJlYWR5IGJlaW5nIHJ1biBvbiB0aGUgY2xpZW50IGFuZFxuICAgIC8vIHdlIGFyZW4ndCBjb25jZXJuIGFib3V0IG1pbmltaXppbmcgdGhlIHRlbXBsYXRlIHNpemUuXG4gICAgbGV0IGFsaWFzQ291bnQgPSAwO1xuICAgIE9iamVjdC5rZXlzKHRoaXMuYWxpYXNlcykuZm9yRWFjaChhbGlhcyA9PiB7XG4gICAgICBsZXQgbm9kZSA9IHRoaXMuYWxpYXNlc1thbGlhc107XG4gICAgICBpZiAobm9kZS5jaGlsZHJlbiAmJiBub2RlLnJlZmVyZW5jZUNvdW50ID4gMSkge1xuICAgICAgICB2YXJEZWNsYXJhdGlvbnMgKz0gJywgYWxpYXMnICsgKythbGlhc0NvdW50ICsgJz0nICsgYWxpYXM7XG4gICAgICAgIG5vZGUuY2hpbGRyZW5bMF0gPSAnYWxpYXMnICsgYWxpYXNDb3VudDtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmICh0aGlzLmxvb2t1cFByb3BlcnR5RnVuY3Rpb25Jc1VzZWQpIHtcbiAgICAgIHZhckRlY2xhcmF0aW9ucyArPSAnLCAnICsgdGhpcy5sb29rdXBQcm9wZXJ0eUZ1bmN0aW9uVmFyRGVjbGFyYXRpb24oKTtcbiAgICB9XG5cbiAgICBsZXQgcGFyYW1zID0gWydjb250YWluZXInLCAnZGVwdGgwJywgJ2hlbHBlcnMnLCAncGFydGlhbHMnLCAnZGF0YSddO1xuXG4gICAgaWYgKHRoaXMudXNlQmxvY2tQYXJhbXMgfHwgdGhpcy51c2VEZXB0aHMpIHtcbiAgICAgIHBhcmFtcy5wdXNoKCdibG9ja1BhcmFtcycpO1xuICAgIH1cbiAgICBpZiAodGhpcy51c2VEZXB0aHMpIHtcbiAgICAgIHBhcmFtcy5wdXNoKCdkZXB0aHMnKTtcbiAgICB9XG5cbiAgICAvLyBQZXJmb3JtIGEgc2Vjb25kIHBhc3Mgb3ZlciB0aGUgb3V0cHV0IHRvIG1lcmdlIGNvbnRlbnQgd2hlbiBwb3NzaWJsZVxuICAgIGxldCBzb3VyY2UgPSB0aGlzLm1lcmdlU291cmNlKHZhckRlY2xhcmF0aW9ucyk7XG5cbiAgICBpZiAoYXNPYmplY3QpIHtcbiAgICAgIHBhcmFtcy5wdXNoKHNvdXJjZSk7XG5cbiAgICAgIHJldHVybiBGdW5jdGlvbi5hcHBseSh0aGlzLCBwYXJhbXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5zb3VyY2Uud3JhcChbXG4gICAgICAgICdmdW5jdGlvbignLFxuICAgICAgICBwYXJhbXMuam9pbignLCcpLFxuICAgICAgICAnKSB7XFxuICAnLFxuICAgICAgICBzb3VyY2UsXG4gICAgICAgICd9J1xuICAgICAgXSk7XG4gICAgfVxuICB9LFxuICBtZXJnZVNvdXJjZTogZnVuY3Rpb24odmFyRGVjbGFyYXRpb25zKSB7XG4gICAgbGV0IGlzU2ltcGxlID0gdGhpcy5lbnZpcm9ubWVudC5pc1NpbXBsZSxcbiAgICAgIGFwcGVuZE9ubHkgPSAhdGhpcy5mb3JjZUJ1ZmZlcixcbiAgICAgIGFwcGVuZEZpcnN0LFxuICAgICAgc291cmNlU2VlbixcbiAgICAgIGJ1ZmZlclN0YXJ0LFxuICAgICAgYnVmZmVyRW5kO1xuICAgIHRoaXMuc291cmNlLmVhY2gobGluZSA9PiB7XG4gICAgICBpZiAobGluZS5hcHBlbmRUb0J1ZmZlcikge1xuICAgICAgICBpZiAoYnVmZmVyU3RhcnQpIHtcbiAgICAgICAgICBsaW5lLnByZXBlbmQoJyAgKyAnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBidWZmZXJTdGFydCA9IGxpbmU7XG4gICAgICAgIH1cbiAgICAgICAgYnVmZmVyRW5kID0gbGluZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChidWZmZXJTdGFydCkge1xuICAgICAgICAgIGlmICghc291cmNlU2Vlbikge1xuICAgICAgICAgICAgYXBwZW5kRmlyc3QgPSB0cnVlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBidWZmZXJTdGFydC5wcmVwZW5kKCdidWZmZXIgKz0gJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJ1ZmZlckVuZC5hZGQoJzsnKTtcbiAgICAgICAgICBidWZmZXJTdGFydCA9IGJ1ZmZlckVuZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHNvdXJjZVNlZW4gPSB0cnVlO1xuICAgICAgICBpZiAoIWlzU2ltcGxlKSB7XG4gICAgICAgICAgYXBwZW5kT25seSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAoYXBwZW5kT25seSkge1xuICAgICAgaWYgKGJ1ZmZlclN0YXJ0KSB7XG4gICAgICAgIGJ1ZmZlclN0YXJ0LnByZXBlbmQoJ3JldHVybiAnKTtcbiAgICAgICAgYnVmZmVyRW5kLmFkZCgnOycpO1xuICAgICAgfSBlbHNlIGlmICghc291cmNlU2Vlbikge1xuICAgICAgICB0aGlzLnNvdXJjZS5wdXNoKCdyZXR1cm4gXCJcIjsnKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdmFyRGVjbGFyYXRpb25zICs9XG4gICAgICAgICcsIGJ1ZmZlciA9ICcgKyAoYXBwZW5kRmlyc3QgPyAnJyA6IHRoaXMuaW5pdGlhbGl6ZUJ1ZmZlcigpKTtcblxuICAgICAgaWYgKGJ1ZmZlclN0YXJ0KSB7XG4gICAgICAgIGJ1ZmZlclN0YXJ0LnByZXBlbmQoJ3JldHVybiBidWZmZXIgKyAnKTtcbiAgICAgICAgYnVmZmVyRW5kLmFkZCgnOycpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zb3VyY2UucHVzaCgncmV0dXJuIGJ1ZmZlcjsnKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodmFyRGVjbGFyYXRpb25zKSB7XG4gICAgICB0aGlzLnNvdXJjZS5wcmVwZW5kKFxuICAgICAgICAndmFyICcgKyB2YXJEZWNsYXJhdGlvbnMuc3Vic3RyaW5nKDIpICsgKGFwcGVuZEZpcnN0ID8gJycgOiAnO1xcbicpXG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnNvdXJjZS5tZXJnZSgpO1xuICB9LFxuXG4gIGxvb2t1cFByb3BlcnR5RnVuY3Rpb25WYXJEZWNsYXJhdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGBcbiAgICAgIGxvb2t1cFByb3BlcnR5ID0gY29udGFpbmVyLmxvb2t1cFByb3BlcnR5IHx8IGZ1bmN0aW9uKHBhcmVudCwgcHJvcGVydHlOYW1lKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocGFyZW50LCBwcm9wZXJ0eU5hbWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcmVudFtwcm9wZXJ0eU5hbWVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICB9XG4gICAgYC50cmltKCk7XG4gIH0sXG5cbiAgLy8gW2Jsb2NrVmFsdWVdXG4gIC8vXG4gIC8vIE9uIHN0YWNrLCBiZWZvcmU6IGhhc2gsIGludmVyc2UsIHByb2dyYW0sIHZhbHVlXG4gIC8vIE9uIHN0YWNrLCBhZnRlcjogcmV0dXJuIHZhbHVlIG9mIGJsb2NrSGVscGVyTWlzc2luZ1xuICAvL1xuICAvLyBUaGUgcHVycG9zZSBvZiB0aGlzIG9wY29kZSBpcyB0byB0YWtlIGEgYmxvY2sgb2YgdGhlIGZvcm1cbiAgLy8gYHt7I3RoaXMuZm9vfX0uLi57ey90aGlzLmZvb319YCwgcmVzb2x2ZSB0aGUgdmFsdWUgb2YgYGZvb2AsIGFuZFxuICAvLyByZXBsYWNlIGl0IG9uIHRoZSBzdGFjayB3aXRoIHRoZSByZXN1bHQgb2YgcHJvcGVybHlcbiAgLy8gaW52b2tpbmcgYmxvY2tIZWxwZXJNaXNzaW5nLlxuICBibG9ja1ZhbHVlOiBmdW5jdGlvbihuYW1lKSB7XG4gICAgbGV0IGJsb2NrSGVscGVyTWlzc2luZyA9IHRoaXMuYWxpYXNhYmxlKFxuICAgICAgICAnY29udGFpbmVyLmhvb2tzLmJsb2NrSGVscGVyTWlzc2luZydcbiAgICAgICksXG4gICAgICBwYXJhbXMgPSBbdGhpcy5jb250ZXh0TmFtZSgwKV07XG4gICAgdGhpcy5zZXR1cEhlbHBlckFyZ3MobmFtZSwgMCwgcGFyYW1zKTtcblxuICAgIGxldCBibG9ja05hbWUgPSB0aGlzLnBvcFN0YWNrKCk7XG4gICAgcGFyYW1zLnNwbGljZSgxLCAwLCBibG9ja05hbWUpO1xuXG4gICAgdGhpcy5wdXNoKHRoaXMuc291cmNlLmZ1bmN0aW9uQ2FsbChibG9ja0hlbHBlck1pc3NpbmcsICdjYWxsJywgcGFyYW1zKSk7XG4gIH0sXG5cbiAgLy8gW2FtYmlndW91c0Jsb2NrVmFsdWVdXG4gIC8vXG4gIC8vIE9uIHN0YWNrLCBiZWZvcmU6IGhhc2gsIGludmVyc2UsIHByb2dyYW0sIHZhbHVlXG4gIC8vIENvbXBpbGVyIHZhbHVlLCBiZWZvcmU6IGxhc3RIZWxwZXI9dmFsdWUgb2YgbGFzdCBmb3VuZCBoZWxwZXIsIGlmIGFueVxuICAvLyBPbiBzdGFjaywgYWZ0ZXIsIGlmIG5vIGxhc3RIZWxwZXI6IHNhbWUgYXMgW2Jsb2NrVmFsdWVdXG4gIC8vIE9uIHN0YWNrLCBhZnRlciwgaWYgbGFzdEhlbHBlcjogdmFsdWVcbiAgYW1iaWd1b3VzQmxvY2tWYWx1ZTogZnVuY3Rpb24oKSB7XG4gICAgLy8gV2UncmUgYmVpbmcgYSBiaXQgY2hlZWt5IGFuZCByZXVzaW5nIHRoZSBvcHRpb25zIHZhbHVlIGZyb20gdGhlIHByaW9yIGV4ZWNcbiAgICBsZXQgYmxvY2tIZWxwZXJNaXNzaW5nID0gdGhpcy5hbGlhc2FibGUoXG4gICAgICAgICdjb250YWluZXIuaG9va3MuYmxvY2tIZWxwZXJNaXNzaW5nJ1xuICAgICAgKSxcbiAgICAgIHBhcmFtcyA9IFt0aGlzLmNvbnRleHROYW1lKDApXTtcbiAgICB0aGlzLnNldHVwSGVscGVyQXJncygnJywgMCwgcGFyYW1zLCB0cnVlKTtcblxuICAgIHRoaXMuZmx1c2hJbmxpbmUoKTtcblxuICAgIGxldCBjdXJyZW50ID0gdGhpcy50b3BTdGFjaygpO1xuICAgIHBhcmFtcy5zcGxpY2UoMSwgMCwgY3VycmVudCk7XG5cbiAgICB0aGlzLnB1c2hTb3VyY2UoW1xuICAgICAgJ2lmICghJyxcbiAgICAgIHRoaXMubGFzdEhlbHBlcixcbiAgICAgICcpIHsgJyxcbiAgICAgIGN1cnJlbnQsXG4gICAgICAnID0gJyxcbiAgICAgIHRoaXMuc291cmNlLmZ1bmN0aW9uQ2FsbChibG9ja0hlbHBlck1pc3NpbmcsICdjYWxsJywgcGFyYW1zKSxcbiAgICAgICd9J1xuICAgIF0pO1xuICB9LFxuXG4gIC8vIFthcHBlbmRDb250ZW50XVxuICAvL1xuICAvLyBPbiBzdGFjaywgYmVmb3JlOiAuLi5cbiAgLy8gT24gc3RhY2ssIGFmdGVyOiAuLi5cbiAgLy9cbiAgLy8gQXBwZW5kcyB0aGUgc3RyaW5nIHZhbHVlIG9mIGBjb250ZW50YCB0byB0aGUgY3VycmVudCBidWZmZXJcbiAgYXBwZW5kQ29udGVudDogZnVuY3Rpb24oY29udGVudCkge1xuICAgIGlmICh0aGlzLnBlbmRpbmdDb250ZW50KSB7XG4gICAgICBjb250ZW50ID0gdGhpcy5wZW5kaW5nQ29udGVudCArIGNvbnRlbnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucGVuZGluZ0xvY2F0aW9uID0gdGhpcy5zb3VyY2UuY3VycmVudExvY2F0aW9uO1xuICAgIH1cblxuICAgIHRoaXMucGVuZGluZ0NvbnRlbnQgPSBjb250ZW50O1xuICB9LFxuXG4gIC8vIFthcHBlbmRdXG4gIC8vXG4gIC8vIE9uIHN0YWNrLCBiZWZvcmU6IHZhbHVlLCAuLi5cbiAgLy8gT24gc3RhY2ssIGFmdGVyOiAuLi5cbiAgLy9cbiAgLy8gQ29lcmNlcyBgdmFsdWVgIHRvIGEgU3RyaW5nIGFuZCBhcHBlbmRzIGl0IHRvIHRoZSBjdXJyZW50IGJ1ZmZlci5cbiAgLy9cbiAgLy8gSWYgYHZhbHVlYCBpcyB0cnV0aHksIG9yIDAsIGl0IGlzIGNvZXJjZWQgaW50byBhIHN0cmluZyBhbmQgYXBwZW5kZWRcbiAgLy8gT3RoZXJ3aXNlLCB0aGUgZW1wdHkgc3RyaW5nIGlzIGFwcGVuZGVkXG4gIGFwcGVuZDogZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMuaXNJbmxpbmUoKSkge1xuICAgICAgdGhpcy5yZXBsYWNlU3RhY2soY3VycmVudCA9PiBbJyAhPSBudWxsID8gJywgY3VycmVudCwgJyA6IFwiXCInXSk7XG5cbiAgICAgIHRoaXMucHVzaFNvdXJjZSh0aGlzLmFwcGVuZFRvQnVmZmVyKHRoaXMucG9wU3RhY2soKSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgbG9jYWwgPSB0aGlzLnBvcFN0YWNrKCk7XG4gICAgICB0aGlzLnB1c2hTb3VyY2UoW1xuICAgICAgICAnaWYgKCcsXG4gICAgICAgIGxvY2FsLFxuICAgICAgICAnICE9IG51bGwpIHsgJyxcbiAgICAgICAgdGhpcy5hcHBlbmRUb0J1ZmZlcihsb2NhbCwgdW5kZWZpbmVkLCB0cnVlKSxcbiAgICAgICAgJyB9J1xuICAgICAgXSk7XG4gICAgICBpZiAodGhpcy5lbnZpcm9ubWVudC5pc1NpbXBsZSkge1xuICAgICAgICB0aGlzLnB1c2hTb3VyY2UoW1xuICAgICAgICAgICdlbHNlIHsgJyxcbiAgICAgICAgICB0aGlzLmFwcGVuZFRvQnVmZmVyKFwiJydcIiwgdW5kZWZpbmVkLCB0cnVlKSxcbiAgICAgICAgICAnIH0nXG4gICAgICAgIF0pO1xuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICAvLyBbYXBwZW5kRXNjYXBlZF1cbiAgLy9cbiAgLy8gT24gc3RhY2ssIGJlZm9yZTogdmFsdWUsIC4uLlxuICAvLyBPbiBzdGFjaywgYWZ0ZXI6IC4uLlxuICAvL1xuICAvLyBFc2NhcGUgYHZhbHVlYCBhbmQgYXBwZW5kIGl0IHRvIHRoZSBidWZmZXJcbiAgYXBwZW5kRXNjYXBlZDogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5wdXNoU291cmNlKFxuICAgICAgdGhpcy5hcHBlbmRUb0J1ZmZlcihbXG4gICAgICAgIHRoaXMuYWxpYXNhYmxlKCdjb250YWluZXIuZXNjYXBlRXhwcmVzc2lvbicpLFxuICAgICAgICAnKCcsXG4gICAgICAgIHRoaXMucG9wU3RhY2soKSxcbiAgICAgICAgJyknXG4gICAgICBdKVxuICAgICk7XG4gIH0sXG5cbiAgLy8gW2dldENvbnRleHRdXG4gIC8vXG4gIC8vIE9uIHN0YWNrLCBiZWZvcmU6IC4uLlxuICAvLyBPbiBzdGFjaywgYWZ0ZXI6IC4uLlxuICAvLyBDb21waWxlciB2YWx1ZSwgYWZ0ZXI6IGxhc3RDb250ZXh0PWRlcHRoXG4gIC8vXG4gIC8vIFNldCB0aGUgdmFsdWUgb2YgdGhlIGBsYXN0Q29udGV4dGAgY29tcGlsZXIgdmFsdWUgdG8gdGhlIGRlcHRoXG4gIGdldENvbnRleHQ6IGZ1bmN0aW9uKGRlcHRoKSB7XG4gICAgdGhpcy5sYXN0Q29udGV4dCA9IGRlcHRoO1xuICB9LFxuXG4gIC8vIFtwdXNoQ29udGV4dF1cbiAgLy9cbiAgLy8gT24gc3RhY2ssIGJlZm9yZTogLi4uXG4gIC8vIE9uIHN0YWNrLCBhZnRlcjogY3VycmVudENvbnRleHQsIC4uLlxuICAvL1xuICAvLyBQdXNoZXMgdGhlIHZhbHVlIG9mIHRoZSBjdXJyZW50IGNvbnRleHQgb250byB0aGUgc3RhY2suXG4gIHB1c2hDb250ZXh0OiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnB1c2hTdGFja0xpdGVyYWwodGhpcy5jb250ZXh0TmFtZSh0aGlzLmxhc3RDb250ZXh0KSk7XG4gIH0sXG5cbiAgLy8gW2xvb2t1cE9uQ29udGV4dF1cbiAgLy9cbiAgLy8gT24gc3RhY2ssIGJlZm9yZTogLi4uXG4gIC8vIE9uIHN0YWNrLCBhZnRlcjogY3VycmVudENvbnRleHRbbmFtZV0sIC4uLlxuICAvL1xuICAvLyBMb29rcyB1cCB0aGUgdmFsdWUgb2YgYG5hbWVgIG9uIHRoZSBjdXJyZW50IGNvbnRleHQgYW5kIHB1c2hlc1xuICAvLyBpdCBvbnRvIHRoZSBzdGFjay5cbiAgbG9va3VwT25Db250ZXh0OiBmdW5jdGlvbihwYXJ0cywgZmFsc3ksIHN0cmljdCwgc2NvcGVkKSB7XG4gICAgbGV0IGkgPSAwO1xuXG4gICAgaWYgKCFzY29wZWQgJiYgdGhpcy5vcHRpb25zLmNvbXBhdCAmJiAhdGhpcy5sYXN0Q29udGV4dCkge1xuICAgICAgLy8gVGhlIGRlcHRoZWQgcXVlcnkgaXMgZXhwZWN0ZWQgdG8gaGFuZGxlIHRoZSB1bmRlZmluZWQgbG9naWMgZm9yIHRoZSByb290IGxldmVsIHRoYXRcbiAgICAgIC8vIGlzIGltcGxlbWVudGVkIGJlbG93LCBzbyB3ZSBldmFsdWF0ZSB0aGF0IGRpcmVjdGx5IGluIGNvbXBhdCBtb2RlXG4gICAgICB0aGlzLnB1c2godGhpcy5kZXB0aGVkTG9va3VwKHBhcnRzW2krK10pKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5wdXNoQ29udGV4dCgpO1xuICAgIH1cblxuICAgIHRoaXMucmVzb2x2ZVBhdGgoJ2NvbnRleHQnLCBwYXJ0cywgaSwgZmFsc3ksIHN0cmljdCk7XG4gIH0sXG5cbiAgLy8gW2xvb2t1cEJsb2NrUGFyYW1dXG4gIC8vXG4gIC8vIE9uIHN0YWNrLCBiZWZvcmU6IC4uLlxuICAvLyBPbiBzdGFjaywgYWZ0ZXI6IGJsb2NrUGFyYW1bbmFtZV0sIC4uLlxuICAvL1xuICAvLyBMb29rcyB1cCB0aGUgdmFsdWUgb2YgYHBhcnRzYCBvbiB0aGUgZ2l2ZW4gYmxvY2sgcGFyYW0gYW5kIHB1c2hlc1xuICAvLyBpdCBvbnRvIHRoZSBzdGFjay5cbiAgbG9va3VwQmxvY2tQYXJhbTogZnVuY3Rpb24oYmxvY2tQYXJhbUlkLCBwYXJ0cykge1xuICAgIHRoaXMudXNlQmxvY2tQYXJhbXMgPSB0cnVlO1xuXG4gICAgdGhpcy5wdXNoKFsnYmxvY2tQYXJhbXNbJywgYmxvY2tQYXJhbUlkWzBdLCAnXVsnLCBibG9ja1BhcmFtSWRbMV0sICddJ10pO1xuICAgIHRoaXMucmVzb2x2ZVBhdGgoJ2NvbnRleHQnLCBwYXJ0cywgMSk7XG4gIH0sXG5cbiAgLy8gW2xvb2t1cERhdGFdXG4gIC8vXG4gIC8vIE9uIHN0YWNrLCBiZWZvcmU6IC4uLlxuICAvLyBPbiBzdGFjaywgYWZ0ZXI6IGRhdGEsIC4uLlxuICAvL1xuICAvLyBQdXNoIHRoZSBkYXRhIGxvb2t1cCBvcGVyYXRvclxuICBsb29rdXBEYXRhOiBmdW5jdGlvbihkZXB0aCwgcGFydHMsIHN0cmljdCkge1xuICAgIGlmICghZGVwdGgpIHtcbiAgICAgIHRoaXMucHVzaFN0YWNrTGl0ZXJhbCgnZGF0YScpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnB1c2hTdGFja0xpdGVyYWwoJ2NvbnRhaW5lci5kYXRhKGRhdGEsICcgKyBkZXB0aCArICcpJyk7XG4gICAgfVxuXG4gICAgdGhpcy5yZXNvbHZlUGF0aCgnZGF0YScsIHBhcnRzLCAwLCB0cnVlLCBzdHJpY3QpO1xuICB9LFxuXG4gIHJlc29sdmVQYXRoOiBmdW5jdGlvbih0eXBlLCBwYXJ0cywgaSwgZmFsc3ksIHN0cmljdCkge1xuICAgIGlmICh0aGlzLm9wdGlvbnMuc3RyaWN0IHx8IHRoaXMub3B0aW9ucy5hc3N1bWVPYmplY3RzKSB7XG4gICAgICB0aGlzLnB1c2goc3RyaWN0TG9va3VwKHRoaXMub3B0aW9ucy5zdHJpY3QgJiYgc3RyaWN0LCB0aGlzLCBwYXJ0cywgdHlwZSkpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCBsZW4gPSBwYXJ0cy5sZW5ndGg7XG4gICAgZm9yICg7IGkgPCBsZW47IGkrKykge1xuICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tbG9vcC1mdW5jICovXG4gICAgICB0aGlzLnJlcGxhY2VTdGFjayhjdXJyZW50ID0+IHtcbiAgICAgICAgbGV0IGxvb2t1cCA9IHRoaXMubmFtZUxvb2t1cChjdXJyZW50LCBwYXJ0c1tpXSwgdHlwZSk7XG4gICAgICAgIC8vIFdlIHdhbnQgdG8gZW5zdXJlIHRoYXQgemVybyBhbmQgZmFsc2UgYXJlIGhhbmRsZWQgcHJvcGVybHkgaWYgdGhlIGNvbnRleHQgKGZhbHN5IGZsYWcpXG4gICAgICAgIC8vIG5lZWRzIHRvIGhhdmUgdGhlIHNwZWNpYWwgaGFuZGxpbmcgZm9yIHRoZXNlIHZhbHVlcy5cbiAgICAgICAgaWYgKCFmYWxzeSkge1xuICAgICAgICAgIHJldHVybiBbJyAhPSBudWxsID8gJywgbG9va3VwLCAnIDogJywgY3VycmVudF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gT3RoZXJ3aXNlIHdlIGNhbiB1c2UgZ2VuZXJpYyBmYWxzeSBoYW5kbGluZ1xuICAgICAgICAgIHJldHVybiBbJyAmJiAnLCBsb29rdXBdO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIC8qIGVzbGludC1lbmFibGUgbm8tbG9vcC1mdW5jICovXG4gICAgfVxuICB9LFxuXG4gIC8vIFtyZXNvbHZlUG9zc2libGVMYW1iZGFdXG4gIC8vXG4gIC8vIE9uIHN0YWNrLCBiZWZvcmU6IHZhbHVlLCAuLi5cbiAgLy8gT24gc3RhY2ssIGFmdGVyOiByZXNvbHZlZCB2YWx1ZSwgLi4uXG4gIC8vXG4gIC8vIElmIHRoZSBgdmFsdWVgIGlzIGEgbGFtYmRhLCByZXBsYWNlIGl0IG9uIHRoZSBzdGFjayBieVxuICAvLyB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBsYW1iZGFcbiAgcmVzb2x2ZVBvc3NpYmxlTGFtYmRhOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnB1c2goW1xuICAgICAgdGhpcy5hbGlhc2FibGUoJ2NvbnRhaW5lci5sYW1iZGEnKSxcbiAgICAgICcoJyxcbiAgICAgIHRoaXMucG9wU3RhY2soKSxcbiAgICAgICcsICcsXG4gICAgICB0aGlzLmNvbnRleHROYW1lKDApLFxuICAgICAgJyknXG4gICAgXSk7XG4gIH0sXG5cbiAgLy8gW3B1c2hTdHJpbmdQYXJhbV1cbiAgLy9cbiAgLy8gT24gc3RhY2ssIGJlZm9yZTogLi4uXG4gIC8vIE9uIHN0YWNrLCBhZnRlcjogc3RyaW5nLCBjdXJyZW50Q29udGV4dCwgLi4uXG4gIC8vXG4gIC8vIFRoaXMgb3Bjb2RlIGlzIGRlc2lnbmVkIGZvciB1c2UgaW4gc3RyaW5nIG1vZGUsIHdoaWNoXG4gIC8vIHByb3ZpZGVzIHRoZSBzdHJpbmcgdmFsdWUgb2YgYSBwYXJhbWV0ZXIgYWxvbmcgd2l0aCBpdHNcbiAgLy8gZGVwdGggcmF0aGVyIHRoYW4gcmVzb2x2aW5nIGl0IGltbWVkaWF0ZWx5LlxuICBwdXNoU3RyaW5nUGFyYW06IGZ1bmN0aW9uKHN0cmluZywgdHlwZSkge1xuICAgIHRoaXMucHVzaENvbnRleHQoKTtcbiAgICB0aGlzLnB1c2hTdHJpbmcodHlwZSk7XG5cbiAgICAvLyBJZiBpdCdzIGEgc3ViZXhwcmVzc2lvbiwgdGhlIHN0cmluZyByZXN1bHRcbiAgICAvLyB3aWxsIGJlIHB1c2hlZCBhZnRlciB0aGlzIG9wY29kZS5cbiAgICBpZiAodHlwZSAhPT0gJ1N1YkV4cHJlc3Npb24nKSB7XG4gICAgICBpZiAodHlwZW9mIHN0cmluZyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdGhpcy5wdXNoU3RyaW5nKHN0cmluZyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnB1c2hTdGFja0xpdGVyYWwoc3RyaW5nKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgZW1wdHlIYXNoOiBmdW5jdGlvbihvbWl0RW1wdHkpIHtcbiAgICBpZiAodGhpcy50cmFja0lkcykge1xuICAgICAgdGhpcy5wdXNoKCd7fScpOyAvLyBoYXNoSWRzXG4gICAgfVxuICAgIGlmICh0aGlzLnN0cmluZ1BhcmFtcykge1xuICAgICAgdGhpcy5wdXNoKCd7fScpOyAvLyBoYXNoQ29udGV4dHNcbiAgICAgIHRoaXMucHVzaCgne30nKTsgLy8gaGFzaFR5cGVzXG4gICAgfVxuICAgIHRoaXMucHVzaFN0YWNrTGl0ZXJhbChvbWl0RW1wdHkgPyAndW5kZWZpbmVkJyA6ICd7fScpO1xuICB9LFxuICBwdXNoSGFzaDogZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMuaGFzaCkge1xuICAgICAgdGhpcy5oYXNoZXMucHVzaCh0aGlzLmhhc2gpO1xuICAgIH1cbiAgICB0aGlzLmhhc2ggPSB7IHZhbHVlczoge30sIHR5cGVzOiBbXSwgY29udGV4dHM6IFtdLCBpZHM6IFtdIH07XG4gIH0sXG4gIHBvcEhhc2g6IGZ1bmN0aW9uKCkge1xuICAgIGxldCBoYXNoID0gdGhpcy5oYXNoO1xuICAgIHRoaXMuaGFzaCA9IHRoaXMuaGFzaGVzLnBvcCgpO1xuXG4gICAgaWYgKHRoaXMudHJhY2tJZHMpIHtcbiAgICAgIHRoaXMucHVzaCh0aGlzLm9iamVjdExpdGVyYWwoaGFzaC5pZHMpKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuc3RyaW5nUGFyYW1zKSB7XG4gICAgICB0aGlzLnB1c2godGhpcy5vYmplY3RMaXRlcmFsKGhhc2guY29udGV4dHMpKTtcbiAgICAgIHRoaXMucHVzaCh0aGlzLm9iamVjdExpdGVyYWwoaGFzaC50eXBlcykpO1xuICAgIH1cblxuICAgIHRoaXMucHVzaCh0aGlzLm9iamVjdExpdGVyYWwoaGFzaC52YWx1ZXMpKTtcbiAgfSxcblxuICAvLyBbcHVzaFN0cmluZ11cbiAgLy9cbiAgLy8gT24gc3RhY2ssIGJlZm9yZTogLi4uXG4gIC8vIE9uIHN0YWNrLCBhZnRlcjogcXVvdGVkU3RyaW5nKHN0cmluZyksIC4uLlxuICAvL1xuICAvLyBQdXNoIGEgcXVvdGVkIHZlcnNpb24gb2YgYHN0cmluZ2Agb250byB0aGUgc3RhY2tcbiAgcHVzaFN0cmluZzogZnVuY3Rpb24oc3RyaW5nKSB7XG4gICAgdGhpcy5wdXNoU3RhY2tMaXRlcmFsKHRoaXMucXVvdGVkU3RyaW5nKHN0cmluZykpO1xuICB9LFxuXG4gIC8vIFtwdXNoTGl0ZXJhbF1cbiAgLy9cbiAgLy8gT24gc3RhY2ssIGJlZm9yZTogLi4uXG4gIC8vIE9uIHN0YWNrLCBhZnRlcjogdmFsdWUsIC4uLlxuICAvL1xuICAvLyBQdXNoZXMgYSB2YWx1ZSBvbnRvIHRoZSBzdGFjay4gVGhpcyBvcGVyYXRpb24gcHJldmVudHNcbiAgLy8gdGhlIGNvbXBpbGVyIGZyb20gY3JlYXRpbmcgYSB0ZW1wb3JhcnkgdmFyaWFibGUgdG8gaG9sZFxuICAvLyBpdC5cbiAgcHVzaExpdGVyYWw6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgdGhpcy5wdXNoU3RhY2tMaXRlcmFsKHZhbHVlKTtcbiAgfSxcblxuICAvLyBbcHVzaFByb2dyYW1dXG4gIC8vXG4gIC8vIE9uIHN0YWNrLCBiZWZvcmU6IC4uLlxuICAvLyBPbiBzdGFjaywgYWZ0ZXI6IHByb2dyYW0oZ3VpZCksIC4uLlxuICAvL1xuICAvLyBQdXNoIGEgcHJvZ3JhbSBleHByZXNzaW9uIG9udG8gdGhlIHN0YWNrLiBUaGlzIHRha2VzXG4gIC8vIGEgY29tcGlsZS10aW1lIGd1aWQgYW5kIGNvbnZlcnRzIGl0IGludG8gYSBydW50aW1lLWFjY2Vzc2libGVcbiAgLy8gZXhwcmVzc2lvbi5cbiAgcHVzaFByb2dyYW06IGZ1bmN0aW9uKGd1aWQpIHtcbiAgICBpZiAoZ3VpZCAhPSBudWxsKSB7XG4gICAgICB0aGlzLnB1c2hTdGFja0xpdGVyYWwodGhpcy5wcm9ncmFtRXhwcmVzc2lvbihndWlkKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucHVzaFN0YWNrTGl0ZXJhbChudWxsKTtcbiAgICB9XG4gIH0sXG5cbiAgLy8gW3JlZ2lzdGVyRGVjb3JhdG9yXVxuICAvL1xuICAvLyBPbiBzdGFjaywgYmVmb3JlOiBoYXNoLCBwcm9ncmFtLCBwYXJhbXMuLi4sIC4uLlxuICAvLyBPbiBzdGFjaywgYWZ0ZXI6IC4uLlxuICAvL1xuICAvLyBQb3BzIG9mZiB0aGUgZGVjb3JhdG9yJ3MgcGFyYW1ldGVycywgaW52b2tlcyB0aGUgZGVjb3JhdG9yLFxuICAvLyBhbmQgaW5zZXJ0cyB0aGUgZGVjb3JhdG9yIGludG8gdGhlIGRlY29yYXRvcnMgbGlzdC5cbiAgcmVnaXN0ZXJEZWNvcmF0b3IocGFyYW1TaXplLCBuYW1lKSB7XG4gICAgbGV0IGZvdW5kRGVjb3JhdG9yID0gdGhpcy5uYW1lTG9va3VwKCdkZWNvcmF0b3JzJywgbmFtZSwgJ2RlY29yYXRvcicpLFxuICAgICAgb3B0aW9ucyA9IHRoaXMuc2V0dXBIZWxwZXJBcmdzKG5hbWUsIHBhcmFtU2l6ZSk7XG5cbiAgICB0aGlzLmRlY29yYXRvcnMucHVzaChbXG4gICAgICAnZm4gPSAnLFxuICAgICAgdGhpcy5kZWNvcmF0b3JzLmZ1bmN0aW9uQ2FsbChmb3VuZERlY29yYXRvciwgJycsIFtcbiAgICAgICAgJ2ZuJyxcbiAgICAgICAgJ3Byb3BzJyxcbiAgICAgICAgJ2NvbnRhaW5lcicsXG4gICAgICAgIG9wdGlvbnNcbiAgICAgIF0pLFxuICAgICAgJyB8fCBmbjsnXG4gICAgXSk7XG4gIH0sXG5cbiAgLy8gW2ludm9rZUhlbHBlcl1cbiAgLy9cbiAgLy8gT24gc3RhY2ssIGJlZm9yZTogaGFzaCwgaW52ZXJzZSwgcHJvZ3JhbSwgcGFyYW1zLi4uLCAuLi5cbiAgLy8gT24gc3RhY2ssIGFmdGVyOiByZXN1bHQgb2YgaGVscGVyIGludm9jYXRpb25cbiAgLy9cbiAgLy8gUG9wcyBvZmYgdGhlIGhlbHBlcidzIHBhcmFtZXRlcnMsIGludm9rZXMgdGhlIGhlbHBlcixcbiAgLy8gYW5kIHB1c2hlcyB0aGUgaGVscGVyJ3MgcmV0dXJuIHZhbHVlIG9udG8gdGhlIHN0YWNrLlxuICAvL1xuICAvLyBJZiB0aGUgaGVscGVyIGlzIG5vdCBmb3VuZCwgYGhlbHBlck1pc3NpbmdgIGlzIGNhbGxlZC5cbiAgaW52b2tlSGVscGVyOiBmdW5jdGlvbihwYXJhbVNpemUsIG5hbWUsIGlzU2ltcGxlKSB7XG4gICAgbGV0IG5vbkhlbHBlciA9IHRoaXMucG9wU3RhY2soKSxcbiAgICAgIGhlbHBlciA9IHRoaXMuc2V0dXBIZWxwZXIocGFyYW1TaXplLCBuYW1lKTtcblxuICAgIGxldCBwb3NzaWJsZUZ1bmN0aW9uQ2FsbHMgPSBbXTtcblxuICAgIGlmIChpc1NpbXBsZSkge1xuICAgICAgLy8gZGlyZWN0IGNhbGwgdG8gaGVscGVyXG4gICAgICBwb3NzaWJsZUZ1bmN0aW9uQ2FsbHMucHVzaChoZWxwZXIubmFtZSk7XG4gICAgfVxuICAgIC8vIGNhbGwgYSBmdW5jdGlvbiBmcm9tIHRoZSBpbnB1dCBvYmplY3RcbiAgICBwb3NzaWJsZUZ1bmN0aW9uQ2FsbHMucHVzaChub25IZWxwZXIpO1xuICAgIGlmICghdGhpcy5vcHRpb25zLnN0cmljdCkge1xuICAgICAgcG9zc2libGVGdW5jdGlvbkNhbGxzLnB1c2goXG4gICAgICAgIHRoaXMuYWxpYXNhYmxlKCdjb250YWluZXIuaG9va3MuaGVscGVyTWlzc2luZycpXG4gICAgICApO1xuICAgIH1cblxuICAgIGxldCBmdW5jdGlvbkxvb2t1cENvZGUgPSBbXG4gICAgICAnKCcsXG4gICAgICB0aGlzLml0ZW1zU2VwYXJhdGVkQnkocG9zc2libGVGdW5jdGlvbkNhbGxzLCAnfHwnKSxcbiAgICAgICcpJ1xuICAgIF07XG4gICAgbGV0IGZ1bmN0aW9uQ2FsbCA9IHRoaXMuc291cmNlLmZ1bmN0aW9uQ2FsbChcbiAgICAgIGZ1bmN0aW9uTG9va3VwQ29kZSxcbiAgICAgICdjYWxsJyxcbiAgICAgIGhlbHBlci5jYWxsUGFyYW1zXG4gICAgKTtcbiAgICB0aGlzLnB1c2goZnVuY3Rpb25DYWxsKTtcbiAgfSxcblxuICBpdGVtc1NlcGFyYXRlZEJ5OiBmdW5jdGlvbihpdGVtcywgc2VwYXJhdG9yKSB7XG4gICAgbGV0IHJlc3VsdCA9IFtdO1xuICAgIHJlc3VsdC5wdXNoKGl0ZW1zWzBdKTtcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICByZXN1bHQucHVzaChzZXBhcmF0b3IsIGl0ZW1zW2ldKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSxcbiAgLy8gW2ludm9rZUtub3duSGVscGVyXVxuICAvL1xuICAvLyBPbiBzdGFjaywgYmVmb3JlOiBoYXNoLCBpbnZlcnNlLCBwcm9ncmFtLCBwYXJhbXMuLi4sIC4uLlxuICAvLyBPbiBzdGFjaywgYWZ0ZXI6IHJlc3VsdCBvZiBoZWxwZXIgaW52b2NhdGlvblxuICAvL1xuICAvLyBUaGlzIG9wZXJhdGlvbiBpcyB1c2VkIHdoZW4gdGhlIGhlbHBlciBpcyBrbm93biB0byBleGlzdCxcbiAgLy8gc28gYSBgaGVscGVyTWlzc2luZ2AgZmFsbGJhY2sgaXMgbm90IHJlcXVpcmVkLlxuICBpbnZva2VLbm93bkhlbHBlcjogZnVuY3Rpb24ocGFyYW1TaXplLCBuYW1lKSB7XG4gICAgbGV0IGhlbHBlciA9IHRoaXMuc2V0dXBIZWxwZXIocGFyYW1TaXplLCBuYW1lKTtcbiAgICB0aGlzLnB1c2godGhpcy5zb3VyY2UuZnVuY3Rpb25DYWxsKGhlbHBlci5uYW1lLCAnY2FsbCcsIGhlbHBlci5jYWxsUGFyYW1zKSk7XG4gIH0sXG5cbiAgLy8gW2ludm9rZUFtYmlndW91c11cbiAgLy9cbiAgLy8gT24gc3RhY2ssIGJlZm9yZTogaGFzaCwgaW52ZXJzZSwgcHJvZ3JhbSwgcGFyYW1zLi4uLCAuLi5cbiAgLy8gT24gc3RhY2ssIGFmdGVyOiByZXN1bHQgb2YgZGlzYW1iaWd1YXRpb25cbiAgLy9cbiAgLy8gVGhpcyBvcGVyYXRpb24gaXMgdXNlZCB3aGVuIGFuIGV4cHJlc3Npb24gbGlrZSBge3tmb299fWBcbiAgLy8gaXMgcHJvdmlkZWQsIGJ1dCB3ZSBkb24ndCBrbm93IGF0IGNvbXBpbGUtdGltZSB3aGV0aGVyIGl0XG4gIC8vIGlzIGEgaGVscGVyIG9yIGEgcGF0aC5cbiAgLy9cbiAgLy8gVGhpcyBvcGVyYXRpb24gZW1pdHMgbW9yZSBjb2RlIHRoYW4gdGhlIG90aGVyIG9wdGlvbnMsXG4gIC8vIGFuZCBjYW4gYmUgYXZvaWRlZCBieSBwYXNzaW5nIHRoZSBga25vd25IZWxwZXJzYCBhbmRcbiAgLy8gYGtub3duSGVscGVyc09ubHlgIGZsYWdzIGF0IGNvbXBpbGUtdGltZS5cbiAgaW52b2tlQW1iaWd1b3VzOiBmdW5jdGlvbihuYW1lLCBoZWxwZXJDYWxsKSB7XG4gICAgdGhpcy51c2VSZWdpc3RlcignaGVscGVyJyk7XG5cbiAgICBsZXQgbm9uSGVscGVyID0gdGhpcy5wb3BTdGFjaygpO1xuXG4gICAgdGhpcy5lbXB0eUhhc2goKTtcbiAgICBsZXQgaGVscGVyID0gdGhpcy5zZXR1cEhlbHBlcigwLCBuYW1lLCBoZWxwZXJDYWxsKTtcblxuICAgIGxldCBoZWxwZXJOYW1lID0gKHRoaXMubGFzdEhlbHBlciA9IHRoaXMubmFtZUxvb2t1cChcbiAgICAgICdoZWxwZXJzJyxcbiAgICAgIG5hbWUsXG4gICAgICAnaGVscGVyJ1xuICAgICkpO1xuXG4gICAgbGV0IGxvb2t1cCA9IFsnKCcsICcoaGVscGVyID0gJywgaGVscGVyTmFtZSwgJyB8fCAnLCBub25IZWxwZXIsICcpJ107XG4gICAgaWYgKCF0aGlzLm9wdGlvbnMuc3RyaWN0KSB7XG4gICAgICBsb29rdXBbMF0gPSAnKGhlbHBlciA9ICc7XG4gICAgICBsb29rdXAucHVzaChcbiAgICAgICAgJyAhPSBudWxsID8gaGVscGVyIDogJyxcbiAgICAgICAgdGhpcy5hbGlhc2FibGUoJ2NvbnRhaW5lci5ob29rcy5oZWxwZXJNaXNzaW5nJylcbiAgICAgICk7XG4gICAgfVxuXG4gICAgdGhpcy5wdXNoKFtcbiAgICAgICcoJyxcbiAgICAgIGxvb2t1cCxcbiAgICAgIGhlbHBlci5wYXJhbXNJbml0ID8gWycpLCgnLCBoZWxwZXIucGFyYW1zSW5pdF0gOiBbXSxcbiAgICAgICcpLCcsXG4gICAgICAnKHR5cGVvZiBoZWxwZXIgPT09ICcsXG4gICAgICB0aGlzLmFsaWFzYWJsZSgnXCJmdW5jdGlvblwiJyksXG4gICAgICAnID8gJyxcbiAgICAgIHRoaXMuc291cmNlLmZ1bmN0aW9uQ2FsbCgnaGVscGVyJywgJ2NhbGwnLCBoZWxwZXIuY2FsbFBhcmFtcyksXG4gICAgICAnIDogaGVscGVyKSknXG4gICAgXSk7XG4gIH0sXG5cbiAgLy8gW2ludm9rZVBhcnRpYWxdXG4gIC8vXG4gIC8vIE9uIHN0YWNrLCBiZWZvcmU6IGNvbnRleHQsIC4uLlxuICAvLyBPbiBzdGFjayBhZnRlcjogcmVzdWx0IG9mIHBhcnRpYWwgaW52b2NhdGlvblxuICAvL1xuICAvLyBUaGlzIG9wZXJhdGlvbiBwb3BzIG9mZiBhIGNvbnRleHQsIGludm9rZXMgYSBwYXJ0aWFsIHdpdGggdGhhdCBjb250ZXh0LFxuICAvLyBhbmQgcHVzaGVzIHRoZSByZXN1bHQgb2YgdGhlIGludm9jYXRpb24gYmFjay5cbiAgaW52b2tlUGFydGlhbDogZnVuY3Rpb24oaXNEeW5hbWljLCBuYW1lLCBpbmRlbnQpIHtcbiAgICBsZXQgcGFyYW1zID0gW10sXG4gICAgICBvcHRpb25zID0gdGhpcy5zZXR1cFBhcmFtcyhuYW1lLCAxLCBwYXJhbXMpO1xuXG4gICAgaWYgKGlzRHluYW1pYykge1xuICAgICAgbmFtZSA9IHRoaXMucG9wU3RhY2soKTtcbiAgICAgIGRlbGV0ZSBvcHRpb25zLm5hbWU7XG4gICAgfVxuXG4gICAgaWYgKGluZGVudCkge1xuICAgICAgb3B0aW9ucy5pbmRlbnQgPSBKU09OLnN0cmluZ2lmeShpbmRlbnQpO1xuICAgIH1cbiAgICBvcHRpb25zLmhlbHBlcnMgPSAnaGVscGVycyc7XG4gICAgb3B0aW9ucy5wYXJ0aWFscyA9ICdwYXJ0aWFscyc7XG4gICAgb3B0aW9ucy5kZWNvcmF0b3JzID0gJ2NvbnRhaW5lci5kZWNvcmF0b3JzJztcblxuICAgIGlmICghaXNEeW5hbWljKSB7XG4gICAgICBwYXJhbXMudW5zaGlmdCh0aGlzLm5hbWVMb29rdXAoJ3BhcnRpYWxzJywgbmFtZSwgJ3BhcnRpYWwnKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhcmFtcy51bnNoaWZ0KG5hbWUpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLm9wdGlvbnMuY29tcGF0KSB7XG4gICAgICBvcHRpb25zLmRlcHRocyA9ICdkZXB0aHMnO1xuICAgIH1cbiAgICBvcHRpb25zID0gdGhpcy5vYmplY3RMaXRlcmFsKG9wdGlvbnMpO1xuICAgIHBhcmFtcy5wdXNoKG9wdGlvbnMpO1xuXG4gICAgdGhpcy5wdXNoKHRoaXMuc291cmNlLmZ1bmN0aW9uQ2FsbCgnY29udGFpbmVyLmludm9rZVBhcnRpYWwnLCAnJywgcGFyYW1zKSk7XG4gIH0sXG5cbiAgLy8gW2Fzc2lnblRvSGFzaF1cbiAgLy9cbiAgLy8gT24gc3RhY2ssIGJlZm9yZTogdmFsdWUsIC4uLiwgaGFzaCwgLi4uXG4gIC8vIE9uIHN0YWNrLCBhZnRlcjogLi4uLCBoYXNoLCAuLi5cbiAgLy9cbiAgLy8gUG9wcyBhIHZhbHVlIG9mZiB0aGUgc3RhY2sgYW5kIGFzc2lnbnMgaXQgdG8gdGhlIGN1cnJlbnQgaGFzaFxuICBhc3NpZ25Ub0hhc2g6IGZ1bmN0aW9uKGtleSkge1xuICAgIGxldCB2YWx1ZSA9IHRoaXMucG9wU3RhY2soKSxcbiAgICAgIGNvbnRleHQsXG4gICAgICB0eXBlLFxuICAgICAgaWQ7XG5cbiAgICBpZiAodGhpcy50cmFja0lkcykge1xuICAgICAgaWQgPSB0aGlzLnBvcFN0YWNrKCk7XG4gICAgfVxuICAgIGlmICh0aGlzLnN0cmluZ1BhcmFtcykge1xuICAgICAgdHlwZSA9IHRoaXMucG9wU3RhY2soKTtcbiAgICAgIGNvbnRleHQgPSB0aGlzLnBvcFN0YWNrKCk7XG4gICAgfVxuXG4gICAgbGV0IGhhc2ggPSB0aGlzLmhhc2g7XG4gICAgaWYgKGNvbnRleHQpIHtcbiAgICAgIGhhc2guY29udGV4dHNba2V5XSA9IGNvbnRleHQ7XG4gICAgfVxuICAgIGlmICh0eXBlKSB7XG4gICAgICBoYXNoLnR5cGVzW2tleV0gPSB0eXBlO1xuICAgIH1cbiAgICBpZiAoaWQpIHtcbiAgICAgIGhhc2guaWRzW2tleV0gPSBpZDtcbiAgICB9XG4gICAgaGFzaC52YWx1ZXNba2V5XSA9IHZhbHVlO1xuICB9LFxuXG4gIHB1c2hJZDogZnVuY3Rpb24odHlwZSwgbmFtZSwgY2hpbGQpIHtcbiAgICBpZiAodHlwZSA9PT0gJ0Jsb2NrUGFyYW0nKSB7XG4gICAgICB0aGlzLnB1c2hTdGFja0xpdGVyYWwoXG4gICAgICAgICdibG9ja1BhcmFtc1snICtcbiAgICAgICAgICBuYW1lWzBdICtcbiAgICAgICAgICAnXS5wYXRoWycgK1xuICAgICAgICAgIG5hbWVbMV0gK1xuICAgICAgICAgICddJyArXG4gICAgICAgICAgKGNoaWxkID8gJyArICcgKyBKU09OLnN0cmluZ2lmeSgnLicgKyBjaGlsZCkgOiAnJylcbiAgICAgICk7XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAnUGF0aEV4cHJlc3Npb24nKSB7XG4gICAgICB0aGlzLnB1c2hTdHJpbmcobmFtZSk7XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAnU3ViRXhwcmVzc2lvbicpIHtcbiAgICAgIHRoaXMucHVzaFN0YWNrTGl0ZXJhbCgndHJ1ZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnB1c2hTdGFja0xpdGVyYWwoJ251bGwnKTtcbiAgICB9XG4gIH0sXG5cbiAgLy8gSEVMUEVSU1xuXG4gIGNvbXBpbGVyOiBKYXZhU2NyaXB0Q29tcGlsZXIsXG5cbiAgY29tcGlsZUNoaWxkcmVuOiBmdW5jdGlvbihlbnZpcm9ubWVudCwgb3B0aW9ucykge1xuICAgIGxldCBjaGlsZHJlbiA9IGVudmlyb25tZW50LmNoaWxkcmVuLFxuICAgICAgY2hpbGQsXG4gICAgICBjb21waWxlcjtcblxuICAgIGZvciAobGV0IGkgPSAwLCBsID0gY2hpbGRyZW4ubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuICAgICAgY29tcGlsZXIgPSBuZXcgdGhpcy5jb21waWxlcigpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5ldy1jYXBcblxuICAgICAgbGV0IGV4aXN0aW5nID0gdGhpcy5tYXRjaEV4aXN0aW5nUHJvZ3JhbShjaGlsZCk7XG5cbiAgICAgIGlmIChleGlzdGluZyA9PSBudWxsKSB7XG4gICAgICAgIHRoaXMuY29udGV4dC5wcm9ncmFtcy5wdXNoKCcnKTsgLy8gUGxhY2Vob2xkZXIgdG8gcHJldmVudCBuYW1lIGNvbmZsaWN0cyBmb3IgbmVzdGVkIGNoaWxkcmVuXG4gICAgICAgIGxldCBpbmRleCA9IHRoaXMuY29udGV4dC5wcm9ncmFtcy5sZW5ndGg7XG4gICAgICAgIGNoaWxkLmluZGV4ID0gaW5kZXg7XG4gICAgICAgIGNoaWxkLm5hbWUgPSAncHJvZ3JhbScgKyBpbmRleDtcbiAgICAgICAgdGhpcy5jb250ZXh0LnByb2dyYW1zW2luZGV4XSA9IGNvbXBpbGVyLmNvbXBpbGUoXG4gICAgICAgICAgY2hpbGQsXG4gICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICB0aGlzLmNvbnRleHQsXG4gICAgICAgICAgIXRoaXMucHJlY29tcGlsZVxuICAgICAgICApO1xuICAgICAgICB0aGlzLmNvbnRleHQuZGVjb3JhdG9yc1tpbmRleF0gPSBjb21waWxlci5kZWNvcmF0b3JzO1xuICAgICAgICB0aGlzLmNvbnRleHQuZW52aXJvbm1lbnRzW2luZGV4XSA9IGNoaWxkO1xuXG4gICAgICAgIHRoaXMudXNlRGVwdGhzID0gdGhpcy51c2VEZXB0aHMgfHwgY29tcGlsZXIudXNlRGVwdGhzO1xuICAgICAgICB0aGlzLnVzZUJsb2NrUGFyYW1zID0gdGhpcy51c2VCbG9ja1BhcmFtcyB8fCBjb21waWxlci51c2VCbG9ja1BhcmFtcztcbiAgICAgICAgY2hpbGQudXNlRGVwdGhzID0gdGhpcy51c2VEZXB0aHM7XG4gICAgICAgIGNoaWxkLnVzZUJsb2NrUGFyYW1zID0gdGhpcy51c2VCbG9ja1BhcmFtcztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNoaWxkLmluZGV4ID0gZXhpc3RpbmcuaW5kZXg7XG4gICAgICAgIGNoaWxkLm5hbWUgPSAncHJvZ3JhbScgKyBleGlzdGluZy5pbmRleDtcblxuICAgICAgICB0aGlzLnVzZURlcHRocyA9IHRoaXMudXNlRGVwdGhzIHx8IGV4aXN0aW5nLnVzZURlcHRocztcbiAgICAgICAgdGhpcy51c2VCbG9ja1BhcmFtcyA9IHRoaXMudXNlQmxvY2tQYXJhbXMgfHwgZXhpc3RpbmcudXNlQmxvY2tQYXJhbXM7XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBtYXRjaEV4aXN0aW5nUHJvZ3JhbTogZnVuY3Rpb24oY2hpbGQpIHtcbiAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gdGhpcy5jb250ZXh0LmVudmlyb25tZW50cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgbGV0IGVudmlyb25tZW50ID0gdGhpcy5jb250ZXh0LmVudmlyb25tZW50c1tpXTtcbiAgICAgIGlmIChlbnZpcm9ubWVudCAmJiBlbnZpcm9ubWVudC5lcXVhbHMoY2hpbGQpKSB7XG4gICAgICAgIHJldHVybiBlbnZpcm9ubWVudDtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgcHJvZ3JhbUV4cHJlc3Npb246IGZ1bmN0aW9uKGd1aWQpIHtcbiAgICBsZXQgY2hpbGQgPSB0aGlzLmVudmlyb25tZW50LmNoaWxkcmVuW2d1aWRdLFxuICAgICAgcHJvZ3JhbVBhcmFtcyA9IFtjaGlsZC5pbmRleCwgJ2RhdGEnLCBjaGlsZC5ibG9ja1BhcmFtc107XG5cbiAgICBpZiAodGhpcy51c2VCbG9ja1BhcmFtcyB8fCB0aGlzLnVzZURlcHRocykge1xuICAgICAgcHJvZ3JhbVBhcmFtcy5wdXNoKCdibG9ja1BhcmFtcycpO1xuICAgIH1cbiAgICBpZiAodGhpcy51c2VEZXB0aHMpIHtcbiAgICAgIHByb2dyYW1QYXJhbXMucHVzaCgnZGVwdGhzJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuICdjb250YWluZXIucHJvZ3JhbSgnICsgcHJvZ3JhbVBhcmFtcy5qb2luKCcsICcpICsgJyknO1xuICB9LFxuXG4gIHVzZVJlZ2lzdGVyOiBmdW5jdGlvbihuYW1lKSB7XG4gICAgaWYgKCF0aGlzLnJlZ2lzdGVyc1tuYW1lXSkge1xuICAgICAgdGhpcy5yZWdpc3RlcnNbbmFtZV0gPSB0cnVlO1xuICAgICAgdGhpcy5yZWdpc3RlcnMubGlzdC5wdXNoKG5hbWUpO1xuICAgIH1cbiAgfSxcblxuICBwdXNoOiBmdW5jdGlvbihleHByKSB7XG4gICAgaWYgKCEoZXhwciBpbnN0YW5jZW9mIExpdGVyYWwpKSB7XG4gICAgICBleHByID0gdGhpcy5zb3VyY2Uud3JhcChleHByKTtcbiAgICB9XG5cbiAgICB0aGlzLmlubGluZVN0YWNrLnB1c2goZXhwcik7XG4gICAgcmV0dXJuIGV4cHI7XG4gIH0sXG5cbiAgcHVzaFN0YWNrTGl0ZXJhbDogZnVuY3Rpb24oaXRlbSkge1xuICAgIHRoaXMucHVzaChuZXcgTGl0ZXJhbChpdGVtKSk7XG4gIH0sXG5cbiAgcHVzaFNvdXJjZTogZnVuY3Rpb24oc291cmNlKSB7XG4gICAgaWYgKHRoaXMucGVuZGluZ0NvbnRlbnQpIHtcbiAgICAgIHRoaXMuc291cmNlLnB1c2goXG4gICAgICAgIHRoaXMuYXBwZW5kVG9CdWZmZXIoXG4gICAgICAgICAgdGhpcy5zb3VyY2UucXVvdGVkU3RyaW5nKHRoaXMucGVuZGluZ0NvbnRlbnQpLFxuICAgICAgICAgIHRoaXMucGVuZGluZ0xvY2F0aW9uXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgICB0aGlzLnBlbmRpbmdDb250ZW50ID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGlmIChzb3VyY2UpIHtcbiAgICAgIHRoaXMuc291cmNlLnB1c2goc291cmNlKTtcbiAgICB9XG4gIH0sXG5cbiAgcmVwbGFjZVN0YWNrOiBmdW5jdGlvbihjYWxsYmFjaykge1xuICAgIGxldCBwcmVmaXggPSBbJygnXSxcbiAgICAgIHN0YWNrLFxuICAgICAgY3JlYXRlZFN0YWNrLFxuICAgICAgdXNlZExpdGVyYWw7XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIGlmICghdGhpcy5pc0lubGluZSgpKSB7XG4gICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKCdyZXBsYWNlU3RhY2sgb24gbm9uLWlubGluZScpO1xuICAgIH1cblxuICAgIC8vIFdlIHdhbnQgdG8gbWVyZ2UgdGhlIGlubGluZSBzdGF0ZW1lbnQgaW50byB0aGUgcmVwbGFjZW1lbnQgc3RhdGVtZW50IHZpYSAnLCdcbiAgICBsZXQgdG9wID0gdGhpcy5wb3BTdGFjayh0cnVlKTtcblxuICAgIGlmICh0b3AgaW5zdGFuY2VvZiBMaXRlcmFsKSB7XG4gICAgICAvLyBMaXRlcmFscyBkbyBub3QgbmVlZCB0byBiZSBpbmxpbmVkXG4gICAgICBzdGFjayA9IFt0b3AudmFsdWVdO1xuICAgICAgcHJlZml4ID0gWycoJywgc3RhY2tdO1xuICAgICAgdXNlZExpdGVyYWwgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBHZXQgb3IgY3JlYXRlIHRoZSBjdXJyZW50IHN0YWNrIG5hbWUgZm9yIHVzZSBieSB0aGUgaW5saW5lXG4gICAgICBjcmVhdGVkU3RhY2sgPSB0cnVlO1xuICAgICAgbGV0IG5hbWUgPSB0aGlzLmluY3JTdGFjaygpO1xuXG4gICAgICBwcmVmaXggPSBbJygoJywgdGhpcy5wdXNoKG5hbWUpLCAnID0gJywgdG9wLCAnKSddO1xuICAgICAgc3RhY2sgPSB0aGlzLnRvcFN0YWNrKCk7XG4gICAgfVxuXG4gICAgbGV0IGl0ZW0gPSBjYWxsYmFjay5jYWxsKHRoaXMsIHN0YWNrKTtcblxuICAgIGlmICghdXNlZExpdGVyYWwpIHtcbiAgICAgIHRoaXMucG9wU3RhY2soKTtcbiAgICB9XG4gICAgaWYgKGNyZWF0ZWRTdGFjaykge1xuICAgICAgdGhpcy5zdGFja1Nsb3QtLTtcbiAgICB9XG4gICAgdGhpcy5wdXNoKHByZWZpeC5jb25jYXQoaXRlbSwgJyknKSk7XG4gIH0sXG5cbiAgaW5jclN0YWNrOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnN0YWNrU2xvdCsrO1xuICAgIGlmICh0aGlzLnN0YWNrU2xvdCA+IHRoaXMuc3RhY2tWYXJzLmxlbmd0aCkge1xuICAgICAgdGhpcy5zdGFja1ZhcnMucHVzaCgnc3RhY2snICsgdGhpcy5zdGFja1Nsb3QpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy50b3BTdGFja05hbWUoKTtcbiAgfSxcbiAgdG9wU3RhY2tOYW1lOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gJ3N0YWNrJyArIHRoaXMuc3RhY2tTbG90O1xuICB9LFxuICBmbHVzaElubGluZTogZnVuY3Rpb24oKSB7XG4gICAgbGV0IGlubGluZVN0YWNrID0gdGhpcy5pbmxpbmVTdGFjaztcbiAgICB0aGlzLmlubGluZVN0YWNrID0gW107XG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGlubGluZVN0YWNrLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBsZXQgZW50cnkgPSBpbmxpbmVTdGFja1tpXTtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKGVudHJ5IGluc3RhbmNlb2YgTGl0ZXJhbCkge1xuICAgICAgICB0aGlzLmNvbXBpbGVTdGFjay5wdXNoKGVudHJ5KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCBzdGFjayA9IHRoaXMuaW5jclN0YWNrKCk7XG4gICAgICAgIHRoaXMucHVzaFNvdXJjZShbc3RhY2ssICcgPSAnLCBlbnRyeSwgJzsnXSk7XG4gICAgICAgIHRoaXMuY29tcGlsZVN0YWNrLnB1c2goc3RhY2spO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgaXNJbmxpbmU6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmlubGluZVN0YWNrLmxlbmd0aDtcbiAgfSxcblxuICBwb3BTdGFjazogZnVuY3Rpb24od3JhcHBlZCkge1xuICAgIGxldCBpbmxpbmUgPSB0aGlzLmlzSW5saW5lKCksXG4gICAgICBpdGVtID0gKGlubGluZSA/IHRoaXMuaW5saW5lU3RhY2sgOiB0aGlzLmNvbXBpbGVTdGFjaykucG9wKCk7XG5cbiAgICBpZiAoIXdyYXBwZWQgJiYgaXRlbSBpbnN0YW5jZW9mIExpdGVyYWwpIHtcbiAgICAgIHJldHVybiBpdGVtLnZhbHVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIWlubGluZSkge1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICBpZiAoIXRoaXMuc3RhY2tTbG90KSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbignSW52YWxpZCBzdGFjayBwb3AnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0YWNrU2xvdC0tO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGl0ZW07XG4gICAgfVxuICB9LFxuXG4gIHRvcFN0YWNrOiBmdW5jdGlvbigpIHtcbiAgICBsZXQgc3RhY2sgPSB0aGlzLmlzSW5saW5lKCkgPyB0aGlzLmlubGluZVN0YWNrIDogdGhpcy5jb21waWxlU3RhY2ssXG4gICAgICBpdGVtID0gc3RhY2tbc3RhY2subGVuZ3RoIC0gMV07XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIExpdGVyYWwpIHtcbiAgICAgIHJldHVybiBpdGVtLnZhbHVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gaXRlbTtcbiAgICB9XG4gIH0sXG5cbiAgY29udGV4dE5hbWU6IGZ1bmN0aW9uKGNvbnRleHQpIHtcbiAgICBpZiAodGhpcy51c2VEZXB0aHMgJiYgY29udGV4dCkge1xuICAgICAgcmV0dXJuICdkZXB0aHNbJyArIGNvbnRleHQgKyAnXSc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAnZGVwdGgnICsgY29udGV4dDtcbiAgICB9XG4gIH0sXG5cbiAgcXVvdGVkU3RyaW5nOiBmdW5jdGlvbihzdHIpIHtcbiAgICByZXR1cm4gdGhpcy5zb3VyY2UucXVvdGVkU3RyaW5nKHN0cik7XG4gIH0sXG5cbiAgb2JqZWN0TGl0ZXJhbDogZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuIHRoaXMuc291cmNlLm9iamVjdExpdGVyYWwob2JqKTtcbiAgfSxcblxuICBhbGlhc2FibGU6IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICBsZXQgcmV0ID0gdGhpcy5hbGlhc2VzW25hbWVdO1xuICAgIGlmIChyZXQpIHtcbiAgICAgIHJldC5yZWZlcmVuY2VDb3VudCsrO1xuICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG5cbiAgICByZXQgPSB0aGlzLmFsaWFzZXNbbmFtZV0gPSB0aGlzLnNvdXJjZS53cmFwKG5hbWUpO1xuICAgIHJldC5hbGlhc2FibGUgPSB0cnVlO1xuICAgIHJldC5yZWZlcmVuY2VDb3VudCA9IDE7XG5cbiAgICByZXR1cm4gcmV0O1xuICB9LFxuXG4gIHNldHVwSGVscGVyOiBmdW5jdGlvbihwYXJhbVNpemUsIG5hbWUsIGJsb2NrSGVscGVyKSB7XG4gICAgbGV0IHBhcmFtcyA9IFtdLFxuICAgICAgcGFyYW1zSW5pdCA9IHRoaXMuc2V0dXBIZWxwZXJBcmdzKG5hbWUsIHBhcmFtU2l6ZSwgcGFyYW1zLCBibG9ja0hlbHBlcik7XG4gICAgbGV0IGZvdW5kSGVscGVyID0gdGhpcy5uYW1lTG9va3VwKCdoZWxwZXJzJywgbmFtZSwgJ2hlbHBlcicpLFxuICAgICAgY2FsbENvbnRleHQgPSB0aGlzLmFsaWFzYWJsZShcbiAgICAgICAgYCR7dGhpcy5jb250ZXh0TmFtZSgwKX0gIT0gbnVsbCA/ICR7dGhpcy5jb250ZXh0TmFtZShcbiAgICAgICAgICAwXG4gICAgICAgICl9IDogKGNvbnRhaW5lci5udWxsQ29udGV4dCB8fCB7fSlgXG4gICAgICApO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHBhcmFtczogcGFyYW1zLFxuICAgICAgcGFyYW1zSW5pdDogcGFyYW1zSW5pdCxcbiAgICAgIG5hbWU6IGZvdW5kSGVscGVyLFxuICAgICAgY2FsbFBhcmFtczogW2NhbGxDb250ZXh0XS5jb25jYXQocGFyYW1zKVxuICAgIH07XG4gIH0sXG5cbiAgc2V0dXBQYXJhbXM6IGZ1bmN0aW9uKGhlbHBlciwgcGFyYW1TaXplLCBwYXJhbXMpIHtcbiAgICBsZXQgb3B0aW9ucyA9IHt9LFxuICAgICAgY29udGV4dHMgPSBbXSxcbiAgICAgIHR5cGVzID0gW10sXG4gICAgICBpZHMgPSBbXSxcbiAgICAgIG9iamVjdEFyZ3MgPSAhcGFyYW1zLFxuICAgICAgcGFyYW07XG5cbiAgICBpZiAob2JqZWN0QXJncykge1xuICAgICAgcGFyYW1zID0gW107XG4gICAgfVxuXG4gICAgb3B0aW9ucy5uYW1lID0gdGhpcy5xdW90ZWRTdHJpbmcoaGVscGVyKTtcbiAgICBvcHRpb25zLmhhc2ggPSB0aGlzLnBvcFN0YWNrKCk7XG5cbiAgICBpZiAodGhpcy50cmFja0lkcykge1xuICAgICAgb3B0aW9ucy5oYXNoSWRzID0gdGhpcy5wb3BTdGFjaygpO1xuICAgIH1cbiAgICBpZiAodGhpcy5zdHJpbmdQYXJhbXMpIHtcbiAgICAgIG9wdGlvbnMuaGFzaFR5cGVzID0gdGhpcy5wb3BTdGFjaygpO1xuICAgICAgb3B0aW9ucy5oYXNoQ29udGV4dHMgPSB0aGlzLnBvcFN0YWNrKCk7XG4gICAgfVxuXG4gICAgbGV0IGludmVyc2UgPSB0aGlzLnBvcFN0YWNrKCksXG4gICAgICBwcm9ncmFtID0gdGhpcy5wb3BTdGFjaygpO1xuXG4gICAgLy8gQXZvaWQgc2V0dGluZyBmbiBhbmQgaW52ZXJzZSBpZiBuZWl0aGVyIGFyZSBzZXQuIFRoaXMgYWxsb3dzXG4gICAgLy8gaGVscGVycyB0byBkbyBhIGNoZWNrIGZvciBgaWYgKG9wdGlvbnMuZm4pYFxuICAgIGlmIChwcm9ncmFtIHx8IGludmVyc2UpIHtcbiAgICAgIG9wdGlvbnMuZm4gPSBwcm9ncmFtIHx8ICdjb250YWluZXIubm9vcCc7XG4gICAgICBvcHRpb25zLmludmVyc2UgPSBpbnZlcnNlIHx8ICdjb250YWluZXIubm9vcCc7XG4gICAgfVxuXG4gICAgLy8gVGhlIHBhcmFtZXRlcnMgZ28gb24gdG8gdGhlIHN0YWNrIGluIG9yZGVyIChtYWtpbmcgc3VyZSB0aGF0IHRoZXkgYXJlIGV2YWx1YXRlZCBpbiBvcmRlcilcbiAgICAvLyBzbyB3ZSBuZWVkIHRvIHBvcCB0aGVtIG9mZiB0aGUgc3RhY2sgaW4gcmV2ZXJzZSBvcmRlclxuICAgIGxldCBpID0gcGFyYW1TaXplO1xuICAgIHdoaWxlIChpLS0pIHtcbiAgICAgIHBhcmFtID0gdGhpcy5wb3BTdGFjaygpO1xuICAgICAgcGFyYW1zW2ldID0gcGFyYW07XG5cbiAgICAgIGlmICh0aGlzLnRyYWNrSWRzKSB7XG4gICAgICAgIGlkc1tpXSA9IHRoaXMucG9wU3RhY2soKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnN0cmluZ1BhcmFtcykge1xuICAgICAgICB0eXBlc1tpXSA9IHRoaXMucG9wU3RhY2soKTtcbiAgICAgICAgY29udGV4dHNbaV0gPSB0aGlzLnBvcFN0YWNrKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG9iamVjdEFyZ3MpIHtcbiAgICAgIG9wdGlvbnMuYXJncyA9IHRoaXMuc291cmNlLmdlbmVyYXRlQXJyYXkocGFyYW1zKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy50cmFja0lkcykge1xuICAgICAgb3B0aW9ucy5pZHMgPSB0aGlzLnNvdXJjZS5nZW5lcmF0ZUFycmF5KGlkcyk7XG4gICAgfVxuICAgIGlmICh0aGlzLnN0cmluZ1BhcmFtcykge1xuICAgICAgb3B0aW9ucy50eXBlcyA9IHRoaXMuc291cmNlLmdlbmVyYXRlQXJyYXkodHlwZXMpO1xuICAgICAgb3B0aW9ucy5jb250ZXh0cyA9IHRoaXMuc291cmNlLmdlbmVyYXRlQXJyYXkoY29udGV4dHMpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLm9wdGlvbnMuZGF0YSkge1xuICAgICAgb3B0aW9ucy5kYXRhID0gJ2RhdGEnO1xuICAgIH1cbiAgICBpZiAodGhpcy51c2VCbG9ja1BhcmFtcykge1xuICAgICAgb3B0aW9ucy5ibG9ja1BhcmFtcyA9ICdibG9ja1BhcmFtcyc7XG4gICAgfVxuICAgIHJldHVybiBvcHRpb25zO1xuICB9LFxuXG4gIHNldHVwSGVscGVyQXJnczogZnVuY3Rpb24oaGVscGVyLCBwYXJhbVNpemUsIHBhcmFtcywgdXNlUmVnaXN0ZXIpIHtcbiAgICBsZXQgb3B0aW9ucyA9IHRoaXMuc2V0dXBQYXJhbXMoaGVscGVyLCBwYXJhbVNpemUsIHBhcmFtcyk7XG4gICAgb3B0aW9ucy5sb2MgPSBKU09OLnN0cmluZ2lmeSh0aGlzLnNvdXJjZS5jdXJyZW50TG9jYXRpb24pO1xuICAgIG9wdGlvbnMgPSB0aGlzLm9iamVjdExpdGVyYWwob3B0aW9ucyk7XG4gICAgaWYgKHVzZVJlZ2lzdGVyKSB7XG4gICAgICB0aGlzLnVzZVJlZ2lzdGVyKCdvcHRpb25zJyk7XG4gICAgICBwYXJhbXMucHVzaCgnb3B0aW9ucycpO1xuICAgICAgcmV0dXJuIFsnb3B0aW9ucz0nLCBvcHRpb25zXTtcbiAgICB9IGVsc2UgaWYgKHBhcmFtcykge1xuICAgICAgcGFyYW1zLnB1c2gob3B0aW9ucyk7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBvcHRpb25zO1xuICAgIH1cbiAgfVxufTtcblxuKGZ1bmN0aW9uKCkge1xuICBjb25zdCByZXNlcnZlZFdvcmRzID0gKFxuICAgICdicmVhayBlbHNlIG5ldyB2YXInICtcbiAgICAnIGNhc2UgZmluYWxseSByZXR1cm4gdm9pZCcgK1xuICAgICcgY2F0Y2ggZm9yIHN3aXRjaCB3aGlsZScgK1xuICAgICcgY29udGludWUgZnVuY3Rpb24gdGhpcyB3aXRoJyArXG4gICAgJyBkZWZhdWx0IGlmIHRocm93JyArXG4gICAgJyBkZWxldGUgaW4gdHJ5JyArXG4gICAgJyBkbyBpbnN0YW5jZW9mIHR5cGVvZicgK1xuICAgICcgYWJzdHJhY3QgZW51bSBpbnQgc2hvcnQnICtcbiAgICAnIGJvb2xlYW4gZXhwb3J0IGludGVyZmFjZSBzdGF0aWMnICtcbiAgICAnIGJ5dGUgZXh0ZW5kcyBsb25nIHN1cGVyJyArXG4gICAgJyBjaGFyIGZpbmFsIG5hdGl2ZSBzeW5jaHJvbml6ZWQnICtcbiAgICAnIGNsYXNzIGZsb2F0IHBhY2thZ2UgdGhyb3dzJyArXG4gICAgJyBjb25zdCBnb3RvIHByaXZhdGUgdHJhbnNpZW50JyArXG4gICAgJyBkZWJ1Z2dlciBpbXBsZW1lbnRzIHByb3RlY3RlZCB2b2xhdGlsZScgK1xuICAgICcgZG91YmxlIGltcG9ydCBwdWJsaWMgbGV0IHlpZWxkIGF3YWl0JyArXG4gICAgJyBudWxsIHRydWUgZmFsc2UnXG4gICkuc3BsaXQoJyAnKTtcblxuICBjb25zdCBjb21waWxlcldvcmRzID0gKEphdmFTY3JpcHRDb21waWxlci5SRVNFUlZFRF9XT1JEUyA9IHt9KTtcblxuICBmb3IgKGxldCBpID0gMCwgbCA9IHJlc2VydmVkV29yZHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgY29tcGlsZXJXb3Jkc1tyZXNlcnZlZFdvcmRzW2ldXSA9IHRydWU7XG4gIH1cbn0pKCk7XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQgTWF5IGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgdmVyc2lvblxuICovXG5KYXZhU2NyaXB0Q29tcGlsZXIuaXNWYWxpZEphdmFTY3JpcHRWYXJpYWJsZU5hbWUgPSBmdW5jdGlvbihuYW1lKSB7XG4gIHJldHVybiAoXG4gICAgIUphdmFTY3JpcHRDb21waWxlci5SRVNFUlZFRF9XT1JEU1tuYW1lXSAmJlxuICAgIC9eW2EtekEtWl8kXVswLTlhLXpBLVpfJF0qJC8udGVzdChuYW1lKVxuICApO1xufTtcblxuZnVuY3Rpb24gc3RyaWN0TG9va3VwKHJlcXVpcmVUZXJtaW5hbCwgY29tcGlsZXIsIHBhcnRzLCB0eXBlKSB7XG4gIGxldCBzdGFjayA9IGNvbXBpbGVyLnBvcFN0YWNrKCksXG4gICAgaSA9IDAsXG4gICAgbGVuID0gcGFydHMubGVuZ3RoO1xuICBpZiAocmVxdWlyZVRlcm1pbmFsKSB7XG4gICAgbGVuLS07XG4gIH1cblxuICBmb3IgKDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgc3RhY2sgPSBjb21waWxlci5uYW1lTG9va3VwKHN0YWNrLCBwYXJ0c1tpXSwgdHlwZSk7XG4gIH1cblxuICBpZiAocmVxdWlyZVRlcm1pbmFsKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIGNvbXBpbGVyLmFsaWFzYWJsZSgnY29udGFpbmVyLnN0cmljdCcpLFxuICAgICAgJygnLFxuICAgICAgc3RhY2ssXG4gICAgICAnLCAnLFxuICAgICAgY29tcGlsZXIucXVvdGVkU3RyaW5nKHBhcnRzW2ldKSxcbiAgICAgICcsICcsXG4gICAgICBKU09OLnN0cmluZ2lmeShjb21waWxlci5zb3VyY2UuY3VycmVudExvY2F0aW9uKSxcbiAgICAgICcgKSdcbiAgICBdO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBzdGFjaztcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBKYXZhU2NyaXB0Q29tcGlsZXI7XG4iLCAiaW1wb3J0IHJ1bnRpbWUgZnJvbSAnLi9oYW5kbGViYXJzLnJ1bnRpbWUnO1xuXG4vLyBDb21waWxlciBpbXBvcnRzXG5pbXBvcnQgQVNUIGZyb20gJy4vaGFuZGxlYmFycy9jb21waWxlci9hc3QnO1xuaW1wb3J0IHtcbiAgcGFyc2VyIGFzIFBhcnNlcixcbiAgcGFyc2UsXG4gIHBhcnNlV2l0aG91dFByb2Nlc3Npbmdcbn0gZnJvbSAnLi9oYW5kbGViYXJzL2NvbXBpbGVyL2Jhc2UnO1xuaW1wb3J0IHsgQ29tcGlsZXIsIGNvbXBpbGUsIHByZWNvbXBpbGUgfSBmcm9tICcuL2hhbmRsZWJhcnMvY29tcGlsZXIvY29tcGlsZXInO1xuaW1wb3J0IEphdmFTY3JpcHRDb21waWxlciBmcm9tICcuL2hhbmRsZWJhcnMvY29tcGlsZXIvamF2YXNjcmlwdC1jb21waWxlcic7XG5pbXBvcnQgVmlzaXRvciBmcm9tICcuL2hhbmRsZWJhcnMvY29tcGlsZXIvdmlzaXRvcic7XG5cbmltcG9ydCBub0NvbmZsaWN0IGZyb20gJy4vaGFuZGxlYmFycy9uby1jb25mbGljdCc7XG5cbmxldCBfY3JlYXRlID0gcnVudGltZS5jcmVhdGU7XG5mdW5jdGlvbiBjcmVhdGUoKSB7XG4gIGxldCBoYiA9IF9jcmVhdGUoKTtcblxuICBoYi5jb21waWxlID0gZnVuY3Rpb24oaW5wdXQsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gY29tcGlsZShpbnB1dCwgb3B0aW9ucywgaGIpO1xuICB9O1xuICBoYi5wcmVjb21waWxlID0gZnVuY3Rpb24oaW5wdXQsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gcHJlY29tcGlsZShpbnB1dCwgb3B0aW9ucywgaGIpO1xuICB9O1xuXG4gIGhiLkFTVCA9IEFTVDtcbiAgaGIuQ29tcGlsZXIgPSBDb21waWxlcjtcbiAgaGIuSmF2YVNjcmlwdENvbXBpbGVyID0gSmF2YVNjcmlwdENvbXBpbGVyO1xuICBoYi5QYXJzZXIgPSBQYXJzZXI7XG4gIGhiLnBhcnNlID0gcGFyc2U7XG4gIGhiLnBhcnNlV2l0aG91dFByb2Nlc3NpbmcgPSBwYXJzZVdpdGhvdXRQcm9jZXNzaW5nO1xuXG4gIHJldHVybiBoYjtcbn1cblxubGV0IGluc3QgPSBjcmVhdGUoKTtcbmluc3QuY3JlYXRlID0gY3JlYXRlO1xuXG5ub0NvbmZsaWN0KGluc3QpO1xuXG5pbnN0LlZpc2l0b3IgPSBWaXNpdG9yO1xuXG5pbnN0WydkZWZhdWx0J10gPSBpbnN0O1xuXG5leHBvcnQgZGVmYXVsdCBpbnN0O1xuIiwgIi8qIGVzbGludC1kaXNhYmxlIG5ldy1jYXAgKi9cbmltcG9ydCBWaXNpdG9yIGZyb20gJy4vdmlzaXRvcic7XG5cbmV4cG9ydCBmdW5jdGlvbiBwcmludChhc3QpIHtcbiAgcmV0dXJuIG5ldyBQcmludFZpc2l0b3IoKS5hY2NlcHQoYXN0KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFByaW50VmlzaXRvcigpIHtcbiAgdGhpcy5wYWRkaW5nID0gMDtcbn1cblxuUHJpbnRWaXNpdG9yLnByb3RvdHlwZSA9IG5ldyBWaXNpdG9yKCk7XG5cblByaW50VmlzaXRvci5wcm90b3R5cGUucGFkID0gZnVuY3Rpb24oc3RyaW5nKSB7XG4gIGxldCBvdXQgPSAnJztcblxuICBmb3IgKGxldCBpID0gMCwgbCA9IHRoaXMucGFkZGluZzsgaSA8IGw7IGkrKykge1xuICAgIG91dCArPSAnICAnO1xuICB9XG5cbiAgb3V0ICs9IHN0cmluZyArICdcXG4nO1xuICByZXR1cm4gb3V0O1xufTtcblxuUHJpbnRWaXNpdG9yLnByb3RvdHlwZS5Qcm9ncmFtID0gZnVuY3Rpb24ocHJvZ3JhbSkge1xuICBsZXQgb3V0ID0gJycsXG4gICAgYm9keSA9IHByb2dyYW0uYm9keSxcbiAgICBpLFxuICAgIGw7XG5cbiAgaWYgKHByb2dyYW0uYmxvY2tQYXJhbXMpIHtcbiAgICBsZXQgYmxvY2tQYXJhbXMgPSAnQkxPQ0sgUEFSQU1TOiBbJztcbiAgICBmb3IgKGkgPSAwLCBsID0gcHJvZ3JhbS5ibG9ja1BhcmFtcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIGJsb2NrUGFyYW1zICs9ICcgJyArIHByb2dyYW0uYmxvY2tQYXJhbXNbaV07XG4gICAgfVxuICAgIGJsb2NrUGFyYW1zICs9ICcgXSc7XG4gICAgb3V0ICs9IHRoaXMucGFkKGJsb2NrUGFyYW1zKTtcbiAgfVxuXG4gIGZvciAoaSA9IDAsIGwgPSBib2R5Lmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIG91dCArPSB0aGlzLmFjY2VwdChib2R5W2ldKTtcbiAgfVxuXG4gIHRoaXMucGFkZGluZy0tO1xuXG4gIHJldHVybiBvdXQ7XG59O1xuXG5QcmludFZpc2l0b3IucHJvdG90eXBlLk11c3RhY2hlU3RhdGVtZW50ID0gZnVuY3Rpb24obXVzdGFjaGUpIHtcbiAgcmV0dXJuIHRoaXMucGFkKCd7eyAnICsgdGhpcy5TdWJFeHByZXNzaW9uKG11c3RhY2hlKSArICcgfX0nKTtcbn07XG5QcmludFZpc2l0b3IucHJvdG90eXBlLkRlY29yYXRvciA9IGZ1bmN0aW9uKG11c3RhY2hlKSB7XG4gIHJldHVybiB0aGlzLnBhZCgne3sgRElSRUNUSVZFICcgKyB0aGlzLlN1YkV4cHJlc3Npb24obXVzdGFjaGUpICsgJyB9fScpO1xufTtcblxuUHJpbnRWaXNpdG9yLnByb3RvdHlwZS5CbG9ja1N0YXRlbWVudCA9IFByaW50VmlzaXRvci5wcm90b3R5cGUuRGVjb3JhdG9yQmxvY2sgPSBmdW5jdGlvbihcbiAgYmxvY2tcbikge1xuICBsZXQgb3V0ID0gJyc7XG5cbiAgb3V0ICs9IHRoaXMucGFkKFxuICAgIChibG9jay50eXBlID09PSAnRGVjb3JhdG9yQmxvY2snID8gJ0RJUkVDVElWRSAnIDogJycpICsgJ0JMT0NLOidcbiAgKTtcbiAgdGhpcy5wYWRkaW5nKys7XG4gIG91dCArPSB0aGlzLnBhZCh0aGlzLlN1YkV4cHJlc3Npb24oYmxvY2spKTtcbiAgaWYgKGJsb2NrLnByb2dyYW0pIHtcbiAgICBvdXQgKz0gdGhpcy5wYWQoJ1BST0dSQU06Jyk7XG4gICAgdGhpcy5wYWRkaW5nKys7XG4gICAgb3V0ICs9IHRoaXMuYWNjZXB0KGJsb2NrLnByb2dyYW0pO1xuICAgIHRoaXMucGFkZGluZy0tO1xuICB9XG4gIGlmIChibG9jay5pbnZlcnNlKSB7XG4gICAgaWYgKGJsb2NrLnByb2dyYW0pIHtcbiAgICAgIHRoaXMucGFkZGluZysrO1xuICAgIH1cbiAgICBvdXQgKz0gdGhpcy5wYWQoJ3t7Xn19Jyk7XG4gICAgdGhpcy5wYWRkaW5nKys7XG4gICAgb3V0ICs9IHRoaXMuYWNjZXB0KGJsb2NrLmludmVyc2UpO1xuICAgIHRoaXMucGFkZGluZy0tO1xuICAgIGlmIChibG9jay5wcm9ncmFtKSB7XG4gICAgICB0aGlzLnBhZGRpbmctLTtcbiAgICB9XG4gIH1cbiAgdGhpcy5wYWRkaW5nLS07XG5cbiAgcmV0dXJuIG91dDtcbn07XG5cblByaW50VmlzaXRvci5wcm90b3R5cGUuUGFydGlhbFN0YXRlbWVudCA9IGZ1bmN0aW9uKHBhcnRpYWwpIHtcbiAgbGV0IGNvbnRlbnQgPSAnUEFSVElBTDonICsgcGFydGlhbC5uYW1lLm9yaWdpbmFsO1xuICBpZiAocGFydGlhbC5wYXJhbXNbMF0pIHtcbiAgICBjb250ZW50ICs9ICcgJyArIHRoaXMuYWNjZXB0KHBhcnRpYWwucGFyYW1zWzBdKTtcbiAgfVxuICBpZiAocGFydGlhbC5oYXNoKSB7XG4gICAgY29udGVudCArPSAnICcgKyB0aGlzLmFjY2VwdChwYXJ0aWFsLmhhc2gpO1xuICB9XG4gIHJldHVybiB0aGlzLnBhZCgne3s+ICcgKyBjb250ZW50ICsgJyB9fScpO1xufTtcblByaW50VmlzaXRvci5wcm90b3R5cGUuUGFydGlhbEJsb2NrU3RhdGVtZW50ID0gZnVuY3Rpb24ocGFydGlhbCkge1xuICBsZXQgY29udGVudCA9ICdQQVJUSUFMIEJMT0NLOicgKyBwYXJ0aWFsLm5hbWUub3JpZ2luYWw7XG4gIGlmIChwYXJ0aWFsLnBhcmFtc1swXSkge1xuICAgIGNvbnRlbnQgKz0gJyAnICsgdGhpcy5hY2NlcHQocGFydGlhbC5wYXJhbXNbMF0pO1xuICB9XG4gIGlmIChwYXJ0aWFsLmhhc2gpIHtcbiAgICBjb250ZW50ICs9ICcgJyArIHRoaXMuYWNjZXB0KHBhcnRpYWwuaGFzaCk7XG4gIH1cblxuICBjb250ZW50ICs9ICcgJyArIHRoaXMucGFkKCdQUk9HUkFNOicpO1xuICB0aGlzLnBhZGRpbmcrKztcbiAgY29udGVudCArPSB0aGlzLmFjY2VwdChwYXJ0aWFsLnByb2dyYW0pO1xuICB0aGlzLnBhZGRpbmctLTtcblxuICByZXR1cm4gdGhpcy5wYWQoJ3t7PiAnICsgY29udGVudCArICcgfX0nKTtcbn07XG5cblByaW50VmlzaXRvci5wcm90b3R5cGUuQ29udGVudFN0YXRlbWVudCA9IGZ1bmN0aW9uKGNvbnRlbnQpIHtcbiAgcmV0dXJuIHRoaXMucGFkKFwiQ09OVEVOVFsgJ1wiICsgY29udGVudC52YWx1ZSArIFwiJyBdXCIpO1xufTtcblxuUHJpbnRWaXNpdG9yLnByb3RvdHlwZS5Db21tZW50U3RhdGVtZW50ID0gZnVuY3Rpb24oY29tbWVudCkge1xuICByZXR1cm4gdGhpcy5wYWQoXCJ7eyEgJ1wiICsgY29tbWVudC52YWx1ZSArIFwiJyB9fVwiKTtcbn07XG5cblByaW50VmlzaXRvci5wcm90b3R5cGUuU3ViRXhwcmVzc2lvbiA9IGZ1bmN0aW9uKHNleHByKSB7XG4gIGxldCBwYXJhbXMgPSBzZXhwci5wYXJhbXMsXG4gICAgcGFyYW1TdHJpbmdzID0gW10sXG4gICAgaGFzaDtcblxuICBmb3IgKGxldCBpID0gMCwgbCA9IHBhcmFtcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBwYXJhbVN0cmluZ3MucHVzaCh0aGlzLmFjY2VwdChwYXJhbXNbaV0pKTtcbiAgfVxuXG4gIHBhcmFtcyA9ICdbJyArIHBhcmFtU3RyaW5ncy5qb2luKCcsICcpICsgJ10nO1xuXG4gIGhhc2ggPSBzZXhwci5oYXNoID8gJyAnICsgdGhpcy5hY2NlcHQoc2V4cHIuaGFzaCkgOiAnJztcblxuICByZXR1cm4gdGhpcy5hY2NlcHQoc2V4cHIucGF0aCkgKyAnICcgKyBwYXJhbXMgKyBoYXNoO1xufTtcblxuUHJpbnRWaXNpdG9yLnByb3RvdHlwZS5QYXRoRXhwcmVzc2lvbiA9IGZ1bmN0aW9uKGlkKSB7XG4gIGxldCBwYXRoID0gaWQucGFydHMuam9pbignLycpO1xuICByZXR1cm4gKGlkLmRhdGEgPyAnQCcgOiAnJykgKyAnUEFUSDonICsgcGF0aDtcbn07XG5cblByaW50VmlzaXRvci5wcm90b3R5cGUuU3RyaW5nTGl0ZXJhbCA9IGZ1bmN0aW9uKHN0cmluZykge1xuICByZXR1cm4gJ1wiJyArIHN0cmluZy52YWx1ZSArICdcIic7XG59O1xuXG5QcmludFZpc2l0b3IucHJvdG90eXBlLk51bWJlckxpdGVyYWwgPSBmdW5jdGlvbihudW1iZXIpIHtcbiAgcmV0dXJuICdOVU1CRVJ7JyArIG51bWJlci52YWx1ZSArICd9Jztcbn07XG5cblByaW50VmlzaXRvci5wcm90b3R5cGUuQm9vbGVhbkxpdGVyYWwgPSBmdW5jdGlvbihib29sKSB7XG4gIHJldHVybiAnQk9PTEVBTnsnICsgYm9vbC52YWx1ZSArICd9Jztcbn07XG5cblByaW50VmlzaXRvci5wcm90b3R5cGUuVW5kZWZpbmVkTGl0ZXJhbCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gJ1VOREVGSU5FRCc7XG59O1xuXG5QcmludFZpc2l0b3IucHJvdG90eXBlLk51bGxMaXRlcmFsID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAnTlVMTCc7XG59O1xuXG5QcmludFZpc2l0b3IucHJvdG90eXBlLkhhc2ggPSBmdW5jdGlvbihoYXNoKSB7XG4gIGxldCBwYWlycyA9IGhhc2gucGFpcnMsXG4gICAgam9pbmVkUGFpcnMgPSBbXTtcblxuICBmb3IgKGxldCBpID0gMCwgbCA9IHBhaXJzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGpvaW5lZFBhaXJzLnB1c2godGhpcy5hY2NlcHQocGFpcnNbaV0pKTtcbiAgfVxuXG4gIHJldHVybiAnSEFTSHsnICsgam9pbmVkUGFpcnMuam9pbignLCAnKSArICd9Jztcbn07XG5QcmludFZpc2l0b3IucHJvdG90eXBlLkhhc2hQYWlyID0gZnVuY3Rpb24ocGFpcikge1xuICByZXR1cm4gcGFpci5rZXkgKyAnPScgKyB0aGlzLmFjY2VwdChwYWlyLnZhbHVlKTtcbn07XG4vKiBlc2xpbnQtZW5hYmxlIG5ldy1jYXAgKi9cbiIsICIvLyBVU0FHRTpcbi8vIHZhciBoYW5kbGViYXJzID0gcmVxdWlyZSgnaGFuZGxlYmFycycpO1xuLyogZXNsaW50LWRpc2FibGUgbm8tdmFyICovXG5cbi8vIHZhciBsb2NhbCA9IGhhbmRsZWJhcnMuY3JlYXRlKCk7XG5cbnZhciBoYW5kbGViYXJzID0gcmVxdWlyZSgnLi4vZGlzdC9janMvaGFuZGxlYmFycycpWydkZWZhdWx0J107XG5cbnZhciBwcmludGVyID0gcmVxdWlyZSgnLi4vZGlzdC9janMvaGFuZGxlYmFycy9jb21waWxlci9wcmludGVyJyk7XG5oYW5kbGViYXJzLlByaW50VmlzaXRvciA9IHByaW50ZXIuUHJpbnRWaXNpdG9yO1xuaGFuZGxlYmFycy5wcmludCA9IHByaW50ZXIucHJpbnQ7XG5cbm1vZHVsZS5leHBvcnRzID0gaGFuZGxlYmFycztcblxuLy8gUHVibGlzaCBhIE5vZGUuanMgcmVxdWlyZSgpIGhhbmRsZXIgZm9yIC5oYW5kbGViYXJzIGFuZCAuaGJzIGZpbGVzXG5mdW5jdGlvbiBleHRlbnNpb24obW9kdWxlLCBmaWxlbmFtZSkge1xuICB2YXIgZnMgPSByZXF1aXJlKCdmcycpO1xuICB2YXIgdGVtcGxhdGVTdHJpbmcgPSBmcy5yZWFkRmlsZVN5bmMoZmlsZW5hbWUsICd1dGY4Jyk7XG4gIG1vZHVsZS5leHBvcnRzID0gaGFuZGxlYmFycy5jb21waWxlKHRlbXBsYXRlU3RyaW5nKTtcbn1cbi8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG5pZiAodHlwZW9mIHJlcXVpcmUgIT09ICd1bmRlZmluZWQnICYmIHJlcXVpcmUuZXh0ZW5zaW9ucykge1xuICByZXF1aXJlLmV4dGVuc2lvbnNbJy5oYW5kbGViYXJzJ10gPSBleHRlbnNpb247XG4gIHJlcXVpcmUuZXh0ZW5zaW9uc1snLmhicyddID0gZXh0ZW5zaW9uO1xufVxuIiwgImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHN0cmluZ2lmeVxuZXhwb3J0cy5nZXRTZXJpYWxpemUgPSBzZXJpYWxpemVyXG5cbmZ1bmN0aW9uIHN0cmluZ2lmeShvYmosIHJlcGxhY2VyLCBzcGFjZXMsIGN5Y2xlUmVwbGFjZXIpIHtcbiAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KG9iaiwgc2VyaWFsaXplcihyZXBsYWNlciwgY3ljbGVSZXBsYWNlciksIHNwYWNlcylcbn1cblxuZnVuY3Rpb24gc2VyaWFsaXplcihyZXBsYWNlciwgY3ljbGVSZXBsYWNlcikge1xuICB2YXIgc3RhY2sgPSBbXSwga2V5cyA9IFtdXG5cbiAgaWYgKGN5Y2xlUmVwbGFjZXIgPT0gbnVsbCkgY3ljbGVSZXBsYWNlciA9IGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgICBpZiAoc3RhY2tbMF0gPT09IHZhbHVlKSByZXR1cm4gXCJbQ2lyY3VsYXIgfl1cIlxuICAgIHJldHVybiBcIltDaXJjdWxhciB+LlwiICsga2V5cy5zbGljZSgwLCBzdGFjay5pbmRleE9mKHZhbHVlKSkuam9pbihcIi5cIikgKyBcIl1cIlxuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgICBpZiAoc3RhY2subGVuZ3RoID4gMCkge1xuICAgICAgdmFyIHRoaXNQb3MgPSBzdGFjay5pbmRleE9mKHRoaXMpXG4gICAgICB+dGhpc1BvcyA/IHN0YWNrLnNwbGljZSh0aGlzUG9zICsgMSkgOiBzdGFjay5wdXNoKHRoaXMpXG4gICAgICB+dGhpc1BvcyA/IGtleXMuc3BsaWNlKHRoaXNQb3MsIEluZmluaXR5LCBrZXkpIDoga2V5cy5wdXNoKGtleSlcbiAgICAgIGlmICh+c3RhY2suaW5kZXhPZih2YWx1ZSkpIHZhbHVlID0gY3ljbGVSZXBsYWNlci5jYWxsKHRoaXMsIGtleSwgdmFsdWUpXG4gICAgfVxuICAgIGVsc2Ugc3RhY2sucHVzaCh2YWx1ZSlcblxuICAgIHJldHVybiByZXBsYWNlciA9PSBudWxsID8gdmFsdWUgOiByZXBsYWNlci5jYWxsKHRoaXMsIGtleSwgdmFsdWUpXG4gIH1cbn1cbiIsICIndXNlIHN0cmljdCdcbmNvbnN0IGNvbnZlbnRpb25hbENvbW1pdHNGaWx0ZXIgPSByZXF1aXJlKCdjb252ZW50aW9uYWwtY29tbWl0cy1maWx0ZXInKVxuY29uc3QgSGFuZGxlYmFycyA9IHJlcXVpcmUoJ2hhbmRsZWJhcnMnKVxuY29uc3Qgc2VtdmVyID0gcmVxdWlyZSgnc2VtdmVyJylcbmNvbnN0IF8gPSByZXF1aXJlKCdsb2Rhc2gnKVxuY29uc3Qgc3RyaW5naWZ5ID0gcmVxdWlyZSgnanNvbi1zdHJpbmdpZnktc2FmZScpXG5cbmZ1bmN0aW9uIGNvbXBpbGVUZW1wbGF0ZXMgKHRlbXBsYXRlcykge1xuICBjb25zdCBtYWluID0gdGVtcGxhdGVzLm1haW5UZW1wbGF0ZVxuICBjb25zdCBoZWFkZXJQYXJ0aWFsID0gdGVtcGxhdGVzLmhlYWRlclBhcnRpYWxcbiAgY29uc3QgY29tbWl0UGFydGlhbCA9IHRlbXBsYXRlcy5jb21taXRQYXJ0aWFsXG4gIGNvbnN0IGZvb3RlclBhcnRpYWwgPSB0ZW1wbGF0ZXMuZm9vdGVyUGFydGlhbFxuICBjb25zdCBwYXJ0aWFscyA9IHRlbXBsYXRlcy5wYXJ0aWFsc1xuXG4gIGlmIChfLmlzU3RyaW5nKGhlYWRlclBhcnRpYWwpKSB7XG4gICAgSGFuZGxlYmFycy5yZWdpc3RlclBhcnRpYWwoJ2hlYWRlcicsIGhlYWRlclBhcnRpYWwpXG4gIH1cblxuICBpZiAoXy5pc1N0cmluZyhjb21taXRQYXJ0aWFsKSkge1xuICAgIEhhbmRsZWJhcnMucmVnaXN0ZXJQYXJ0aWFsKCdjb21taXQnLCBjb21taXRQYXJ0aWFsKVxuICB9XG5cbiAgaWYgKF8uaXNTdHJpbmcoZm9vdGVyUGFydGlhbCkpIHtcbiAgICBIYW5kbGViYXJzLnJlZ2lzdGVyUGFydGlhbCgnZm9vdGVyJywgZm9vdGVyUGFydGlhbClcbiAgfVxuXG4gIF8uZm9yRWFjaChwYXJ0aWFscywgZnVuY3Rpb24gKHBhcnRpYWwsIG5hbWUpIHtcbiAgICBpZiAoXy5pc1N0cmluZyhwYXJ0aWFsKSkge1xuICAgICAgSGFuZGxlYmFycy5yZWdpc3RlclBhcnRpYWwobmFtZSwgcGFydGlhbClcbiAgICB9XG4gIH0pXG5cbiAgcmV0dXJuIEhhbmRsZWJhcnMuY29tcGlsZShtYWluLCB7XG4gICAgbm9Fc2NhcGU6IHRydWVcbiAgfSlcbn1cblxuZnVuY3Rpb24gZnVuY3Rpb25pZnkgKHN0ck9yQXJyKSB7XG4gIGlmIChzdHJPckFyciAmJiAhXy5pc0Z1bmN0aW9uKHN0ck9yQXJyKSkge1xuICAgIHJldHVybiAoYSwgYikgPT4ge1xuICAgICAgbGV0IHN0cjEgPSAnJ1xuICAgICAgbGV0IHN0cjIgPSAnJ1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoc3RyT3JBcnIpKSB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIHN0ck9yQXJyKSB7XG4gICAgICAgICAgc3RyMSArPSBhW2tleV0gfHwgJydcbiAgICAgICAgICBzdHIyICs9IGJba2V5XSB8fCAnJ1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdHIxICs9IGFbc3RyT3JBcnJdXG4gICAgICAgIHN0cjIgKz0gYltzdHJPckFycl1cbiAgICAgIH1cbiAgICAgIHJldHVybiBzdHIxLmxvY2FsZUNvbXBhcmUoc3RyMilcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHN0ck9yQXJyXG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0Q29tbWl0R3JvdXBzIChncm91cEJ5LCBjb21taXRzLCBncm91cHNTb3J0LCBjb21taXRzU29ydCkge1xuICBjb25zdCBjb21taXRHcm91cHMgPSBbXVxuICBjb25zdCBjb21taXRHcm91cHNPYmogPSBfLmdyb3VwQnkoY29tbWl0cywgZnVuY3Rpb24gKGNvbW1pdCkge1xuICAgIHJldHVybiBjb21taXRbZ3JvdXBCeV0gfHwgJydcbiAgfSlcblxuICBfLmZvckVhY2goY29tbWl0R3JvdXBzT2JqLCBmdW5jdGlvbiAoY29tbWl0cywgdGl0bGUpIHtcbiAgICBpZiAodGl0bGUgPT09ICcnKSB7XG4gICAgICB0aXRsZSA9IGZhbHNlXG4gICAgfVxuXG4gICAgaWYgKGNvbW1pdHNTb3J0KSB7XG4gICAgICBjb21taXRzLnNvcnQoY29tbWl0c1NvcnQpXG4gICAgfVxuXG4gICAgY29tbWl0R3JvdXBzLnB1c2goe1xuICAgICAgdGl0bGU6IHRpdGxlLFxuICAgICAgY29tbWl0czogY29tbWl0c1xuICAgIH0pXG4gIH0pXG5cbiAgaWYgKGdyb3Vwc1NvcnQpIHtcbiAgICBjb21taXRHcm91cHMuc29ydChncm91cHNTb3J0KVxuICB9XG5cbiAgcmV0dXJuIGNvbW1pdEdyb3Vwc1xufVxuXG5mdW5jdGlvbiBnZXROb3RlR3JvdXBzIChub3Rlcywgbm90ZUdyb3Vwc1NvcnQsIG5vdGVzU29ydCkge1xuICBjb25zdCByZXRHcm91cHMgPSBbXVxuXG4gIF8uZm9yRWFjaChub3RlcywgZnVuY3Rpb24gKG5vdGUpIHtcbiAgICBjb25zdCB0aXRsZSA9IG5vdGUudGl0bGVcbiAgICBsZXQgdGl0bGVFeGlzdHMgPSBmYWxzZVxuXG4gICAgXy5mb3JFYWNoKHJldEdyb3VwcywgZnVuY3Rpb24gKGdyb3VwKSB7XG4gICAgICBpZiAoZ3JvdXAudGl0bGUgPT09IHRpdGxlKSB7XG4gICAgICAgIHRpdGxlRXhpc3RzID0gdHJ1ZVxuICAgICAgICBncm91cC5ub3Rlcy5wdXNoKG5vdGUpXG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuICAgIH0pXG5cbiAgICBpZiAoIXRpdGxlRXhpc3RzKSB7XG4gICAgICByZXRHcm91cHMucHVzaCh7XG4gICAgICAgIHRpdGxlOiB0aXRsZSxcbiAgICAgICAgbm90ZXM6IFtub3RlXVxuICAgICAgfSlcbiAgICB9XG4gIH0pXG5cbiAgaWYgKG5vdGVHcm91cHNTb3J0KSB7XG4gICAgcmV0R3JvdXBzLnNvcnQobm90ZUdyb3Vwc1NvcnQpXG4gIH1cblxuICBpZiAobm90ZXNTb3J0KSB7XG4gICAgXy5mb3JFYWNoKHJldEdyb3VwcywgZnVuY3Rpb24gKGdyb3VwKSB7XG4gICAgICBncm91cC5ub3Rlcy5zb3J0KG5vdGVzU29ydClcbiAgICB9KVxuICB9XG5cbiAgcmV0dXJuIHJldEdyb3Vwc1xufVxuXG5mdW5jdGlvbiBwcm9jZXNzQ29tbWl0IChjaHVuaywgdHJhbnNmb3JtLCBjb250ZXh0KSB7XG4gIGxldCBjb21taXRcblxuICB0cnkge1xuICAgIGNodW5rID0gSlNPTi5wYXJzZShjaHVuaylcbiAgfSBjYXRjaCAoZSkge31cblxuICBjb21taXQgPSBfLmNsb25lRGVlcChjaHVuaylcblxuICBpZiAoXy5pc0Z1bmN0aW9uKHRyYW5zZm9ybSkpIHtcbiAgICBjb21taXQgPSB0cmFuc2Zvcm0oY29tbWl0LCBjb250ZXh0KVxuXG4gICAgaWYgKGNvbW1pdCkge1xuICAgICAgY29tbWl0LnJhdyA9IGNodW5rXG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbW1pdFxuICB9XG5cbiAgXy5mb3JFYWNoKHRyYW5zZm9ybSwgZnVuY3Rpb24gKGVsLCBwYXRoKSB7XG4gICAgbGV0IHZhbHVlID0gXy5nZXQoY29tbWl0LCBwYXRoKVxuXG4gICAgaWYgKF8uaXNGdW5jdGlvbihlbCkpIHtcbiAgICAgIHZhbHVlID0gZWwodmFsdWUsIHBhdGgpXG4gICAgfSBlbHNlIHtcbiAgICAgIHZhbHVlID0gZWxcbiAgICB9XG5cbiAgICBfLnNldChjb21taXQsIHBhdGgsIHZhbHVlKVxuICB9KVxuXG4gIGNvbW1pdC5yYXcgPSBjaHVua1xuXG4gIHJldHVybiBjb21taXRcbn1cblxuZnVuY3Rpb24gZ2V0RXh0cmFDb250ZXh0IChjb21taXRzLCBub3Rlcywgb3B0aW9ucykge1xuICBjb25zdCBjb250ZXh0ID0ge31cblxuICAvLyBncm91cCBgY29tbWl0c2AgYnkgYG9wdGlvbnMuZ3JvdXBCeWBcbiAgY29udGV4dC5jb21taXRHcm91cHMgPSBnZXRDb21taXRHcm91cHMob3B0aW9ucy5ncm91cEJ5LCBjb21taXRzLCBvcHRpb25zLmNvbW1pdEdyb3Vwc1NvcnQsIG9wdGlvbnMuY29tbWl0c1NvcnQpXG5cbiAgLy8gZ3JvdXAgYG5vdGVzYCBmb3IgZm9vdGVyXG4gIGNvbnRleHQubm90ZUdyb3VwcyA9IGdldE5vdGVHcm91cHMobm90ZXMsIG9wdGlvbnMubm90ZUdyb3Vwc1NvcnQsIG9wdGlvbnMubm90ZXNTb3J0KVxuXG4gIHJldHVybiBjb250ZXh0XG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlIChvcHRpb25zLCBjb21taXRzLCBjb250ZXh0LCBrZXlDb21taXQpIHtcbiAgbGV0IG5vdGVzID0gW11cbiAgbGV0IGZpbHRlcmVkQ29tbWl0c1xuICBjb25zdCBjb21waWxlZCA9IGNvbXBpbGVUZW1wbGF0ZXMob3B0aW9ucylcblxuICBpZiAob3B0aW9ucy5pZ25vcmVSZXZlcnRlZCkge1xuICAgIGZpbHRlcmVkQ29tbWl0cyA9IGNvbnZlbnRpb25hbENvbW1pdHNGaWx0ZXIoY29tbWl0cylcbiAgfSBlbHNlIHtcbiAgICBmaWx0ZXJlZENvbW1pdHMgPSBfLmNsb25lKGNvbW1pdHMpXG4gIH1cblxuICBfLmZvckVhY2goZmlsdGVyZWRDb21taXRzLCBmdW5jdGlvbiAoY29tbWl0KSB7XG4gICAgXy5tYXAoY29tbWl0Lm5vdGVzLCBmdW5jdGlvbiAobm90ZSkge1xuICAgICAgbm90ZS5jb21taXQgPSBjb21taXRcblxuICAgICAgcmV0dXJuIG5vdGVcbiAgICB9KVxuXG4gICAgbm90ZXMgPSBub3Rlcy5jb25jYXQoY29tbWl0Lm5vdGVzKVxuICB9KVxuXG4gIGNvbnRleHQgPSBfLm1lcmdlKHt9LCBjb250ZXh0LCBrZXlDb21taXQsIGdldEV4dHJhQ29udGV4dChmaWx0ZXJlZENvbW1pdHMsIG5vdGVzLCBvcHRpb25zKSlcblxuICBpZiAoa2V5Q29tbWl0ICYmIGtleUNvbW1pdC5jb21taXR0ZXJEYXRlKSB7XG4gICAgY29udGV4dC5kYXRlID0ga2V5Q29tbWl0LmNvbW1pdHRlckRhdGVcbiAgfVxuXG4gIGlmIChjb250ZXh0LnZlcnNpb24gJiYgc2VtdmVyLnZhbGlkKGNvbnRleHQudmVyc2lvbikpIHtcbiAgICBjb250ZXh0LmlzUGF0Y2ggPSBjb250ZXh0LmlzUGF0Y2ggfHwgc2VtdmVyLnBhdGNoKGNvbnRleHQudmVyc2lvbikgIT09IDBcbiAgfVxuXG4gIGNvbnRleHQgPSBvcHRpb25zLmZpbmFsaXplQ29udGV4dChjb250ZXh0LCBvcHRpb25zLCBmaWx0ZXJlZENvbW1pdHMsIGtleUNvbW1pdCwgY29tbWl0cylcbiAgb3B0aW9ucy5kZWJ1ZygnWW91ciBmaW5hbCBjb250ZXh0IGlzOlxcbicgKyBzdHJpbmdpZnkoY29udGV4dCwgbnVsbCwgMikpXG5cbiAgcmV0dXJuIGNvbXBpbGVkKGNvbnRleHQpXG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBjb21waWxlVGVtcGxhdGVzOiBjb21waWxlVGVtcGxhdGVzLFxuICBmdW5jdGlvbmlmeTogZnVuY3Rpb25pZnksXG4gIGdldENvbW1pdEdyb3VwczogZ2V0Q29tbWl0R3JvdXBzLFxuICBnZXROb3RlR3JvdXBzOiBnZXROb3RlR3JvdXBzLFxuICBwcm9jZXNzQ29tbWl0OiBwcm9jZXNzQ29tbWl0LFxuICBnZXRFeHRyYUNvbnRleHQ6IGdldEV4dHJhQ29udGV4dCxcbiAgZ2VuZXJhdGU6IGdlbmVyYXRlXG59XG4iLCAiJ3VzZSBzdHJpY3QnXG5cbmNvbnN0IGRhdGVGb3JtYXQgPSByZXF1aXJlKCdkYXRlZm9ybWF0JylcbmNvbnN0IGpvaW4gPSByZXF1aXJlKCdwYXRoJykuam9pblxuY29uc3QgcmVhZEZpbGVTeW5jID0gcmVxdWlyZSgnZnMnKS5yZWFkRmlsZVN5bmNcbmNvbnN0IHNlbXZlclZhbGlkID0gcmVxdWlyZSgnc2VtdmVyJykudmFsaWRcbmNvbnN0IHRocm91Z2ggPSByZXF1aXJlKCd0aHJvdWdoMicpXG5jb25zdCB1dGlsID0gcmVxdWlyZSgnLi9saWIvdXRpbCcpXG5jb25zdCBfID0gcmVxdWlyZSgnbG9kYXNoJylcblxuZnVuY3Rpb24gY29udmVudGlvbmFsQ2hhbmdlbG9nV3JpdGVySW5pdCAoY29udGV4dCwgb3B0aW9ucykge1xuICBjb250ZXh0ID0gXy5leHRlbmQoe1xuICAgIGNvbW1pdDogJ2NvbW1pdHMnLFxuICAgIGlzc3VlOiAnaXNzdWVzJyxcbiAgICBkYXRlOiBkYXRlRm9ybWF0KG5ldyBEYXRlKCksICd5eXl5LW1tLWRkJywgdHJ1ZSlcbiAgfSwgY29udGV4dClcblxuICBpZiAoIV8uaXNCb29sZWFuKGNvbnRleHQubGlua1JlZmVyZW5jZXMpICYmIChjb250ZXh0LnJlcG9zaXRvcnkgfHwgY29udGV4dC5yZXBvVXJsKSAmJiBjb250ZXh0LmNvbW1pdCAmJiBjb250ZXh0Lmlzc3VlKSB7XG4gICAgY29udGV4dC5saW5rUmVmZXJlbmNlcyA9IHRydWVcbiAgfVxuXG4gIG9wdGlvbnMgPSBfLmFzc2lnbih7XG4gICAgZ3JvdXBCeTogJ3R5cGUnLFxuICAgIGNvbW1pdHNTb3J0OiAnaGVhZGVyJyxcbiAgICBub3RlR3JvdXBzU29ydDogJ3RpdGxlJyxcbiAgICBub3Rlc1NvcnQ6ICd0ZXh0JyxcbiAgICBnZW5lcmF0ZU9uOiBmdW5jdGlvbiAoY29tbWl0KSB7XG4gICAgICByZXR1cm4gc2VtdmVyVmFsaWQoY29tbWl0LnZlcnNpb24pXG4gICAgfSxcbiAgICBmaW5hbGl6ZUNvbnRleHQ6IGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICByZXR1cm4gY29udGV4dFxuICAgIH0sXG4gICAgZGVidWc6IGZ1bmN0aW9uICgpIHt9LFxuICAgIHJldmVyc2U6IGZhbHNlLFxuICAgIGluY2x1ZGVEZXRhaWxzOiBmYWxzZSxcbiAgICBpZ25vcmVSZXZlcnRlZDogdHJ1ZSxcbiAgICBkb0ZsdXNoOiB0cnVlLFxuICAgIG1haW5UZW1wbGF0ZTogcmVhZEZpbGVTeW5jKGpvaW4oX19kaXJuYW1lLCAndGVtcGxhdGVzL3RlbXBsYXRlLmhicycpLCAndXRmLTgnKSxcbiAgICBoZWFkZXJQYXJ0aWFsOiByZWFkRmlsZVN5bmMoam9pbihfX2Rpcm5hbWUsICd0ZW1wbGF0ZXMvaGVhZGVyLmhicycpLCAndXRmLTgnKSxcbiAgICBjb21taXRQYXJ0aWFsOiByZWFkRmlsZVN5bmMoam9pbihfX2Rpcm5hbWUsICd0ZW1wbGF0ZXMvY29tbWl0LmhicycpLCAndXRmLTgnKSxcbiAgICBmb290ZXJQYXJ0aWFsOiByZWFkRmlsZVN5bmMoam9pbihfX2Rpcm5hbWUsICd0ZW1wbGF0ZXMvZm9vdGVyLmhicycpLCAndXRmLTgnKVxuICB9LCBvcHRpb25zKVxuXG4gIGlmICgoIV8uaXNGdW5jdGlvbihvcHRpb25zLnRyYW5zZm9ybSkgJiYgXy5pc09iamVjdChvcHRpb25zLnRyYW5zZm9ybSkpIHx8IF8uaXNVbmRlZmluZWQob3B0aW9ucy50cmFuc2Zvcm0pKSB7XG4gICAgb3B0aW9ucy50cmFuc2Zvcm0gPSBfLmFzc2lnbih7XG4gICAgICBoYXNoOiBmdW5jdGlvbiAoaGFzaCkge1xuICAgICAgICBpZiAoXy5pc1N0cmluZyhoYXNoKSkge1xuICAgICAgICAgIHJldHVybiBoYXNoLnN1YnN0cmluZygwLCA3KVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgaGVhZGVyOiBmdW5jdGlvbiAoaGVhZGVyKSB7XG4gICAgICAgIHJldHVybiBoZWFkZXIuc3Vic3RyaW5nKDAsIDEwMClcbiAgICAgIH0sXG4gICAgICBjb21taXR0ZXJEYXRlOiBmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgICBpZiAoIWRhdGUpIHtcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBkYXRlRm9ybWF0KGRhdGUsICd5eXl5LW1tLWRkJywgdHJ1ZSlcbiAgICAgIH1cbiAgICB9LCBvcHRpb25zLnRyYW5zZm9ybSlcbiAgfVxuXG4gIGxldCBnZW5lcmF0ZU9uID0gb3B0aW9ucy5nZW5lcmF0ZU9uXG4gIGlmIChfLmlzU3RyaW5nKGdlbmVyYXRlT24pKSB7XG4gICAgZ2VuZXJhdGVPbiA9IGZ1bmN0aW9uIChjb21taXQpIHtcbiAgICAgIHJldHVybiAhXy5pc1VuZGVmaW5lZChjb21taXRbb3B0aW9ucy5nZW5lcmF0ZU9uXSlcbiAgICB9XG4gIH0gZWxzZSBpZiAoIV8uaXNGdW5jdGlvbihnZW5lcmF0ZU9uKSkge1xuICAgIGdlbmVyYXRlT24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gIH1cblxuICBvcHRpb25zLmNvbW1pdEdyb3Vwc1NvcnQgPSB1dGlsLmZ1bmN0aW9uaWZ5KG9wdGlvbnMuY29tbWl0R3JvdXBzU29ydClcbiAgb3B0aW9ucy5jb21taXRzU29ydCA9IHV0aWwuZnVuY3Rpb25pZnkob3B0aW9ucy5jb21taXRzU29ydClcbiAgb3B0aW9ucy5ub3RlR3JvdXBzU29ydCA9IHV0aWwuZnVuY3Rpb25pZnkob3B0aW9ucy5ub3RlR3JvdXBzU29ydClcbiAgb3B0aW9ucy5ub3Rlc1NvcnQgPSB1dGlsLmZ1bmN0aW9uaWZ5KG9wdGlvbnMubm90ZXNTb3J0KVxuXG4gIHJldHVybiB7IGNvbnRleHQsIG9wdGlvbnMsIGdlbmVyYXRlT24gfVxufVxuXG5mdW5jdGlvbiBjb252ZW50aW9uYWxDaGFuZ2Vsb2dXcml0ZXJQYXJzZVN0cmVhbSAoY29udGV4dCwgb3B0aW9ucykge1xuICBsZXQgZ2VuZXJhdGVPblxuICAoeyBjb250ZXh0LCBvcHRpb25zLCBnZW5lcmF0ZU9uIH0gPSBjb252ZW50aW9uYWxDaGFuZ2Vsb2dXcml0ZXJJbml0KGNvbnRleHQsIG9wdGlvbnMpKVxuICBsZXQgY29tbWl0cyA9IFtdXG4gIGxldCBuZXZlckdlbmVyYXRlZCA9IHRydWVcbiAgbGV0IHNhdmVkS2V5Q29tbWl0XG4gIGxldCBmaXJzdFJlbGVhc2UgPSB0cnVlXG4gIHJldHVybiB0aHJvdWdoLm9iaihmdW5jdGlvbiAoY2h1bmssIF9lbmMsIGNiKSB7XG4gICAgdHJ5IHtcbiAgICAgIGxldCByZXN1bHRcbiAgICAgIGNvbnN0IGNvbW1pdCA9IHV0aWwucHJvY2Vzc0NvbW1pdChjaHVuaywgb3B0aW9ucy50cmFuc2Zvcm0sIGNvbnRleHQpXG4gICAgICBjb25zdCBrZXlDb21taXQgPSBjb21taXQgfHwgY2h1bmtcblxuICAgICAgLy8gcHJldmlvdXMgYmxvY2tzIG9mIGxvZ3NcbiAgICAgIGlmIChvcHRpb25zLnJldmVyc2UpIHtcbiAgICAgICAgaWYgKGNvbW1pdCkge1xuICAgICAgICAgIGNvbW1pdHMucHVzaChjb21taXQpXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZ2VuZXJhdGVPbihrZXlDb21taXQsIGNvbW1pdHMsIGNvbnRleHQsIG9wdGlvbnMpKSB7XG4gICAgICAgICAgbmV2ZXJHZW5lcmF0ZWQgPSBmYWxzZVxuICAgICAgICAgIHJlc3VsdCA9IHV0aWwuZ2VuZXJhdGUob3B0aW9ucywgY29tbWl0cywgY29udGV4dCwga2V5Q29tbWl0KVxuICAgICAgICAgIGlmIChvcHRpb25zLmluY2x1ZGVEZXRhaWxzKSB7XG4gICAgICAgICAgICB0aGlzLnB1c2goe1xuICAgICAgICAgICAgICBsb2c6IHJlc3VsdCxcbiAgICAgICAgICAgICAga2V5Q29tbWl0OiBrZXlDb21taXRcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucHVzaChyZXN1bHQpXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29tbWl0cyA9IFtdXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChnZW5lcmF0ZU9uKGtleUNvbW1pdCwgY29tbWl0cywgY29udGV4dCwgb3B0aW9ucykpIHtcbiAgICAgICAgICBuZXZlckdlbmVyYXRlZCA9IGZhbHNlXG4gICAgICAgICAgcmVzdWx0ID0gdXRpbC5nZW5lcmF0ZShvcHRpb25zLCBjb21taXRzLCBjb250ZXh0LCBzYXZlZEtleUNvbW1pdClcblxuICAgICAgICAgIGlmICghZmlyc3RSZWxlYXNlIHx8IG9wdGlvbnMuZG9GbHVzaCkge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMuaW5jbHVkZURldGFpbHMpIHtcbiAgICAgICAgICAgICAgdGhpcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBsb2c6IHJlc3VsdCxcbiAgICAgICAgICAgICAgICBrZXlDb21taXQ6IHNhdmVkS2V5Q29tbWl0XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0aGlzLnB1c2gocmVzdWx0KVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGZpcnN0UmVsZWFzZSA9IGZhbHNlXG4gICAgICAgICAgY29tbWl0cyA9IFtdXG4gICAgICAgICAgc2F2ZWRLZXlDb21taXQgPSBrZXlDb21taXRcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb21taXQpIHtcbiAgICAgICAgICBjb21taXRzLnB1c2goY29tbWl0KVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNiKClcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNiKGVycilcbiAgICB9XG4gIH0sIGZ1bmN0aW9uIChjYikge1xuICAgIGlmICghb3B0aW9ucy5kb0ZsdXNoICYmIChvcHRpb25zLnJldmVyc2UgfHwgbmV2ZXJHZW5lcmF0ZWQpKSB7XG4gICAgICBjYihudWxsKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHV0aWwuZ2VuZXJhdGUob3B0aW9ucywgY29tbWl0cywgY29udGV4dCwgc2F2ZWRLZXlDb21taXQpXG5cbiAgICAgIGlmIChvcHRpb25zLmluY2x1ZGVEZXRhaWxzKSB7XG4gICAgICAgIHRoaXMucHVzaCh7XG4gICAgICAgICAgbG9nOiByZXN1bHQsXG4gICAgICAgICAga2V5Q29tbWl0OiBzYXZlZEtleUNvbW1pdFxuICAgICAgICB9KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5wdXNoKHJlc3VsdClcbiAgICAgIH1cblxuICAgICAgY2IoKVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY2IoZXJyKVxuICAgIH1cbiAgfSlcbn1cblxuLypcbiAqIEdpdmVuIGFuIGFycmF5IG9mIGNvbW1pdHMsIHJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50aW5nIGEgQ0hBTkdFTE9HIGVudHJ5LlxuICovXG5jb252ZW50aW9uYWxDaGFuZ2Vsb2dXcml0ZXJQYXJzZVN0cmVhbS5wYXJzZUFycmF5ID0gKHJhd0NvbW1pdHMsIGNvbnRleHQsIG9wdGlvbnMpID0+IHtcbiAgbGV0IGdlbmVyYXRlT25cbiAgcmF3Q29tbWl0cyA9IFsuLi5yYXdDb21taXRzXTtcbiAgKHsgY29udGV4dCwgb3B0aW9ucywgZ2VuZXJhdGVPbiB9ID0gY29udmVudGlvbmFsQ2hhbmdlbG9nV3JpdGVySW5pdChjb250ZXh0LCBvcHRpb25zKSlcbiAgbGV0IGNvbW1pdHMgPSBbXVxuICBsZXQgc2F2ZWRLZXlDb21taXRcbiAgaWYgKG9wdGlvbnMucmV2ZXJzZSkge1xuICAgIHJhd0NvbW1pdHMucmV2ZXJzZSgpXG4gIH1cbiAgY29uc3QgZW50cmllcyA9IFtdXG4gIGZvciAoY29uc3QgcmF3Q29tbWl0IG9mIHJhd0NvbW1pdHMpIHtcbiAgICBjb25zdCBjb21taXQgPSB1dGlsLnByb2Nlc3NDb21taXQocmF3Q29tbWl0LCBvcHRpb25zLnRyYW5zZm9ybSwgY29udGV4dClcbiAgICBjb25zdCBrZXlDb21taXQgPSBjb21taXQgfHwgcmF3Q29tbWl0XG4gICAgaWYgKGdlbmVyYXRlT24oa2V5Q29tbWl0LCBjb21taXRzLCBjb250ZXh0LCBvcHRpb25zKSkge1xuICAgICAgZW50cmllcy5wdXNoKHV0aWwuZ2VuZXJhdGUob3B0aW9ucywgY29tbWl0cywgY29udGV4dCwgc2F2ZWRLZXlDb21taXQpKVxuICAgICAgc2F2ZWRLZXlDb21taXQgPSBrZXlDb21taXRcbiAgICAgIGNvbW1pdHMgPSBbXVxuICAgIH1cbiAgICBpZiAoY29tbWl0KSB7XG4gICAgICBjb21taXRzLnB1c2goY29tbWl0KVxuICAgIH1cbiAgfVxuICBpZiAob3B0aW9ucy5yZXZlcnNlKSB7XG4gICAgZW50cmllcy5yZXZlcnNlKClcbiAgICByZXR1cm4gdXRpbC5nZW5lcmF0ZShvcHRpb25zLCBjb21taXRzLCBjb250ZXh0LCBzYXZlZEtleUNvbW1pdCkgKyBlbnRyaWVzLmpvaW4oJycpXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGVudHJpZXMuam9pbignJykgKyB1dGlsLmdlbmVyYXRlKG9wdGlvbnMsIGNvbW1pdHMsIGNvbnRleHQsIHNhdmVkS2V5Q29tbWl0KVxuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gY29udmVudGlvbmFsQ2hhbmdlbG9nV3JpdGVyUGFyc2VTdHJlYW1cbiIsICIndXNlIHN0cmljdCdcbmNvbnN0IG1heWJlSm9pbiA9ICguLi5hcmdzKSA9PiBhcmdzLmV2ZXJ5KGFyZyA9PiBhcmcpID8gYXJncy5qb2luKCcnKSA6ICcnXG5jb25zdCBtYXliZUVuY29kZSA9IChhcmcpID0+IGFyZyA/IGVuY29kZVVSSUNvbXBvbmVudChhcmcpIDogJydcblxuY29uc3QgZGVmYXVsdHMgPSB7XG4gIHNzaHRlbXBsYXRlOiAoeyBkb21haW4sIHVzZXIsIHByb2plY3QsIGNvbW1pdHRpc2ggfSkgPT4gYGdpdEAke2RvbWFpbn06JHt1c2VyfS8ke3Byb2plY3R9LmdpdCR7bWF5YmVKb2luKCcjJywgY29tbWl0dGlzaCl9YCxcbiAgc3NodXJsdGVtcGxhdGU6ICh7IGRvbWFpbiwgdXNlciwgcHJvamVjdCwgY29tbWl0dGlzaCB9KSA9PiBgZ2l0K3NzaDovL2dpdEAke2RvbWFpbn0vJHt1c2VyfS8ke3Byb2plY3R9LmdpdCR7bWF5YmVKb2luKCcjJywgY29tbWl0dGlzaCl9YCxcbiAgYnJvd3NldGVtcGxhdGU6ICh7IGRvbWFpbiwgdXNlciwgcHJvamVjdCwgY29tbWl0dGlzaCwgdHJlZXBhdGggfSkgPT4gYGh0dHBzOi8vJHtkb21haW59LyR7dXNlcn0vJHtwcm9qZWN0fSR7bWF5YmVKb2luKCcvJywgdHJlZXBhdGgsICcvJywgbWF5YmVFbmNvZGUoY29tbWl0dGlzaCkpfWAsXG4gIGJyb3dzZWZpbGV0ZW1wbGF0ZTogKHsgZG9tYWluLCB1c2VyLCBwcm9qZWN0LCBjb21taXR0aXNoLCB0cmVlcGF0aCwgcGF0aCwgZnJhZ21lbnQsIGhhc2hmb3JtYXQgfSkgPT4gYGh0dHBzOi8vJHtkb21haW59LyR7dXNlcn0vJHtwcm9qZWN0fS8ke3RyZWVwYXRofS8ke21heWJlRW5jb2RlKGNvbW1pdHRpc2ggfHwgJ21hc3RlcicpfS8ke3BhdGh9JHttYXliZUpvaW4oJyMnLCBoYXNoZm9ybWF0KGZyYWdtZW50IHx8ICcnKSl9YCxcbiAgZG9jc3RlbXBsYXRlOiAoeyBkb21haW4sIHVzZXIsIHByb2plY3QsIHRyZWVwYXRoLCBjb21taXR0aXNoIH0pID0+IGBodHRwczovLyR7ZG9tYWlufS8ke3VzZXJ9LyR7cHJvamVjdH0ke21heWJlSm9pbignLycsIHRyZWVwYXRoLCAnLycsIG1heWJlRW5jb2RlKGNvbW1pdHRpc2gpKX0jcmVhZG1lYCxcbiAgaHR0cHN0ZW1wbGF0ZTogKHsgYXV0aCwgZG9tYWluLCB1c2VyLCBwcm9qZWN0LCBjb21taXR0aXNoIH0pID0+IGBnaXQraHR0cHM6Ly8ke21heWJlSm9pbihhdXRoLCAnQCcpfSR7ZG9tYWlufS8ke3VzZXJ9LyR7cHJvamVjdH0uZ2l0JHttYXliZUpvaW4oJyMnLCBjb21taXR0aXNoKX1gLFxuICBmaWxldGVtcGxhdGU6ICh7IGRvbWFpbiwgdXNlciwgcHJvamVjdCwgY29tbWl0dGlzaCwgcGF0aCB9KSA9PiBgaHR0cHM6Ly8ke2RvbWFpbn0vJHt1c2VyfS8ke3Byb2plY3R9L3Jhdy8ke21heWJlRW5jb2RlKGNvbW1pdHRpc2gpIHx8ICdtYXN0ZXInfS8ke3BhdGh9YCxcbiAgc2hvcnRjdXR0ZW1wbGF0ZTogKHsgdHlwZSwgdXNlciwgcHJvamVjdCwgY29tbWl0dGlzaCB9KSA9PiBgJHt0eXBlfToke3VzZXJ9LyR7cHJvamVjdH0ke21heWJlSm9pbignIycsIGNvbW1pdHRpc2gpfWAsXG4gIHBhdGh0ZW1wbGF0ZTogKHsgdXNlciwgcHJvamVjdCwgY29tbWl0dGlzaCB9KSA9PiBgJHt1c2VyfS8ke3Byb2plY3R9JHttYXliZUpvaW4oJyMnLCBjb21taXR0aXNoKX1gLFxuICBidWdzdGVtcGxhdGU6ICh7IGRvbWFpbiwgdXNlciwgcHJvamVjdCB9KSA9PiBgaHR0cHM6Ly8ke2RvbWFpbn0vJHt1c2VyfS8ke3Byb2plY3R9L2lzc3Vlc2AsXG4gIGhhc2hmb3JtYXQ6IGZvcm1hdEhhc2hGcmFnbWVudFxufVxuXG5jb25zdCBnaXRIb3N0cyA9IHt9XG5naXRIb3N0cy5naXRodWIgPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0cywge1xuICAvLyBGaXJzdCB0d28gYXJlIGluc2VjdXJlIGFuZCBnZW5lcmFsbHkgc2hvdWxkbid0IGJlIHVzZWQgYW55IG1vcmUsIGJ1dFxuICAvLyB0aGV5IGFyZSBzdGlsbCBzdXBwb3J0ZWQuXG4gIHByb3RvY29sczogWydnaXQ6JywgJ2h0dHA6JywgJ2dpdCtzc2g6JywgJ2dpdCtodHRwczonLCAnc3NoOicsICdodHRwczonXSxcbiAgZG9tYWluOiAnZ2l0aHViLmNvbScsXG4gIHRyZWVwYXRoOiAndHJlZScsXG4gIGZpbGV0ZW1wbGF0ZTogKHsgYXV0aCwgdXNlciwgcHJvamVjdCwgY29tbWl0dGlzaCwgcGF0aCB9KSA9PiBgaHR0cHM6Ly8ke21heWJlSm9pbihhdXRoLCAnQCcpfXJhdy5naXRodWJ1c2VyY29udGVudC5jb20vJHt1c2VyfS8ke3Byb2plY3R9LyR7bWF5YmVFbmNvZGUoY29tbWl0dGlzaCkgfHwgJ21hc3Rlcid9LyR7cGF0aH1gLFxuICBnaXR0ZW1wbGF0ZTogKHsgYXV0aCwgZG9tYWluLCB1c2VyLCBwcm9qZWN0LCBjb21taXR0aXNoIH0pID0+IGBnaXQ6Ly8ke21heWJlSm9pbihhdXRoLCAnQCcpfSR7ZG9tYWlufS8ke3VzZXJ9LyR7cHJvamVjdH0uZ2l0JHttYXliZUpvaW4oJyMnLCBjb21taXR0aXNoKX1gLFxuICB0YXJiYWxsdGVtcGxhdGU6ICh7IGRvbWFpbiwgdXNlciwgcHJvamVjdCwgY29tbWl0dGlzaCB9KSA9PiBgaHR0cHM6Ly9jb2RlbG9hZC4ke2RvbWFpbn0vJHt1c2VyfS8ke3Byb2plY3R9L3Rhci5nei8ke21heWJlRW5jb2RlKGNvbW1pdHRpc2gpIHx8ICdtYXN0ZXInfWAsXG4gIGV4dHJhY3Q6ICh1cmwpID0+IHtcbiAgICBsZXQgWywgdXNlciwgcHJvamVjdCwgdHlwZSwgY29tbWl0dGlzaF0gPSB1cmwucGF0aG5hbWUuc3BsaXQoJy8nLCA1KVxuICAgIGlmICh0eXBlICYmIHR5cGUgIT09ICd0cmVlJykge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgaWYgKCF0eXBlKSB7XG4gICAgICBjb21taXR0aXNoID0gdXJsLmhhc2guc2xpY2UoMSlcbiAgICB9XG5cbiAgICBpZiAocHJvamVjdCAmJiBwcm9qZWN0LmVuZHNXaXRoKCcuZ2l0JykpIHtcbiAgICAgIHByb2plY3QgPSBwcm9qZWN0LnNsaWNlKDAsIC00KVxuICAgIH1cblxuICAgIGlmICghdXNlciB8fCAhcHJvamVjdCkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgcmV0dXJuIHsgdXNlciwgcHJvamVjdCwgY29tbWl0dGlzaCB9XG4gIH1cbn0pXG5cbmdpdEhvc3RzLmJpdGJ1Y2tldCA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRzLCB7XG4gIHByb3RvY29sczogWydnaXQrc3NoOicsICdnaXQraHR0cHM6JywgJ3NzaDonLCAnaHR0cHM6J10sXG4gIGRvbWFpbjogJ2JpdGJ1Y2tldC5vcmcnLFxuICB0cmVlcGF0aDogJ3NyYycsXG4gIHRhcmJhbGx0ZW1wbGF0ZTogKHsgZG9tYWluLCB1c2VyLCBwcm9qZWN0LCBjb21taXR0aXNoIH0pID0+IGBodHRwczovLyR7ZG9tYWlufS8ke3VzZXJ9LyR7cHJvamVjdH0vZ2V0LyR7bWF5YmVFbmNvZGUoY29tbWl0dGlzaCkgfHwgJ21hc3Rlcid9LnRhci5nemAsXG4gIGV4dHJhY3Q6ICh1cmwpID0+IHtcbiAgICBsZXQgWywgdXNlciwgcHJvamVjdCwgYXV4XSA9IHVybC5wYXRobmFtZS5zcGxpdCgnLycsIDQpXG4gICAgaWYgKFsnZ2V0J10uaW5jbHVkZXMoYXV4KSkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgaWYgKHByb2plY3QgJiYgcHJvamVjdC5lbmRzV2l0aCgnLmdpdCcpKSB7XG4gICAgICBwcm9qZWN0ID0gcHJvamVjdC5zbGljZSgwLCAtNClcbiAgICB9XG5cbiAgICBpZiAoIXVzZXIgfHwgIXByb2plY3QpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHJldHVybiB7IHVzZXIsIHByb2plY3QsIGNvbW1pdHRpc2g6IHVybC5oYXNoLnNsaWNlKDEpIH1cbiAgfVxufSlcblxuZ2l0SG9zdHMuZ2l0bGFiID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdHMsIHtcbiAgcHJvdG9jb2xzOiBbJ2dpdCtzc2g6JywgJ2dpdCtodHRwczonLCAnc3NoOicsICdodHRwczonXSxcbiAgZG9tYWluOiAnZ2l0bGFiLmNvbScsXG4gIHRyZWVwYXRoOiAndHJlZScsXG4gIGh0dHBzdGVtcGxhdGU6ICh7IGF1dGgsIGRvbWFpbiwgdXNlciwgcHJvamVjdCwgY29tbWl0dGlzaCB9KSA9PiBgZ2l0K2h0dHBzOi8vJHttYXliZUpvaW4oYXV0aCwgJ0AnKX0ke2RvbWFpbn0vJHt1c2VyfS8ke3Byb2plY3R9LmdpdCR7bWF5YmVKb2luKCcjJywgY29tbWl0dGlzaCl9YCxcbiAgdGFyYmFsbHRlbXBsYXRlOiAoeyBkb21haW4sIHVzZXIsIHByb2plY3QsIGNvbW1pdHRpc2ggfSkgPT4gYGh0dHBzOi8vJHtkb21haW59LyR7dXNlcn0vJHtwcm9qZWN0fS9yZXBvc2l0b3J5L2FyY2hpdmUudGFyLmd6P3JlZj0ke21heWJlRW5jb2RlKGNvbW1pdHRpc2gpIHx8ICdtYXN0ZXInfWAsXG4gIGV4dHJhY3Q6ICh1cmwpID0+IHtcbiAgICBjb25zdCBwYXRoID0gdXJsLnBhdGhuYW1lLnNsaWNlKDEpXG4gICAgaWYgKHBhdGguaW5jbHVkZXMoJy8tLycpIHx8IHBhdGguaW5jbHVkZXMoJy9hcmNoaXZlLnRhci5neicpKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBjb25zdCBzZWdtZW50cyA9IHBhdGguc3BsaXQoJy8nKVxuICAgIGxldCBwcm9qZWN0ID0gc2VnbWVudHMucG9wKClcbiAgICBpZiAocHJvamVjdC5lbmRzV2l0aCgnLmdpdCcpKSB7XG4gICAgICBwcm9qZWN0ID0gcHJvamVjdC5zbGljZSgwLCAtNClcbiAgICB9XG5cbiAgICBjb25zdCB1c2VyID0gc2VnbWVudHMuam9pbignLycpXG4gICAgaWYgKCF1c2VyIHx8ICFwcm9qZWN0KSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICByZXR1cm4geyB1c2VyLCBwcm9qZWN0LCBjb21taXR0aXNoOiB1cmwuaGFzaC5zbGljZSgxKSB9XG4gIH1cbn0pXG5cbmdpdEhvc3RzLmdpc3QgPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0cywge1xuICBwcm90b2NvbHM6IFsnZ2l0OicsICdnaXQrc3NoOicsICdnaXQraHR0cHM6JywgJ3NzaDonLCAnaHR0cHM6J10sXG4gIGRvbWFpbjogJ2dpc3QuZ2l0aHViLmNvbScsXG4gIHNzaHRlbXBsYXRlOiAoeyBkb21haW4sIHByb2plY3QsIGNvbW1pdHRpc2ggfSkgPT4gYGdpdEAke2RvbWFpbn06JHtwcm9qZWN0fS5naXQke21heWJlSm9pbignIycsIGNvbW1pdHRpc2gpfWAsXG4gIHNzaHVybHRlbXBsYXRlOiAoeyBkb21haW4sIHByb2plY3QsIGNvbW1pdHRpc2ggfSkgPT4gYGdpdCtzc2g6Ly9naXRAJHtkb21haW59LyR7cHJvamVjdH0uZ2l0JHttYXliZUpvaW4oJyMnLCBjb21taXR0aXNoKX1gLFxuICBicm93c2V0ZW1wbGF0ZTogKHsgZG9tYWluLCBwcm9qZWN0LCBjb21taXR0aXNoIH0pID0+IGBodHRwczovLyR7ZG9tYWlufS8ke3Byb2plY3R9JHttYXliZUpvaW4oJy8nLCBtYXliZUVuY29kZShjb21taXR0aXNoKSl9YCxcbiAgYnJvd3NlZmlsZXRlbXBsYXRlOiAoeyBkb21haW4sIHByb2plY3QsIGNvbW1pdHRpc2gsIHBhdGgsIGhhc2hmb3JtYXQgfSkgPT4gYGh0dHBzOi8vJHtkb21haW59LyR7cHJvamVjdH0ke21heWJlSm9pbignLycsIG1heWJlRW5jb2RlKGNvbW1pdHRpc2gpKX0ke21heWJlSm9pbignIycsIGhhc2hmb3JtYXQocGF0aCkpfWAsXG4gIGRvY3N0ZW1wbGF0ZTogKHsgZG9tYWluLCBwcm9qZWN0LCBjb21taXR0aXNoIH0pID0+IGBodHRwczovLyR7ZG9tYWlufS8ke3Byb2plY3R9JHttYXliZUpvaW4oJy8nLCBtYXliZUVuY29kZShjb21taXR0aXNoKSl9YCxcbiAgaHR0cHN0ZW1wbGF0ZTogKHsgZG9tYWluLCBwcm9qZWN0LCBjb21taXR0aXNoIH0pID0+IGBnaXQraHR0cHM6Ly8ke2RvbWFpbn0vJHtwcm9qZWN0fS5naXQke21heWJlSm9pbignIycsIGNvbW1pdHRpc2gpfWAsXG4gIGZpbGV0ZW1wbGF0ZTogKHsgdXNlciwgcHJvamVjdCwgY29tbWl0dGlzaCwgcGF0aCB9KSA9PiBgaHR0cHM6Ly9naXN0LmdpdGh1YnVzZXJjb250ZW50LmNvbS8ke3VzZXJ9LyR7cHJvamVjdH0vcmF3JHttYXliZUpvaW4oJy8nLCBtYXliZUVuY29kZShjb21taXR0aXNoKSl9LyR7cGF0aH1gLFxuICBzaG9ydGN1dHRlbXBsYXRlOiAoeyB0eXBlLCBwcm9qZWN0LCBjb21taXR0aXNoIH0pID0+IGAke3R5cGV9OiR7cHJvamVjdH0ke21heWJlSm9pbignIycsIGNvbW1pdHRpc2gpfWAsXG4gIHBhdGh0ZW1wbGF0ZTogKHsgcHJvamVjdCwgY29tbWl0dGlzaCB9KSA9PiBgJHtwcm9qZWN0fSR7bWF5YmVKb2luKCcjJywgY29tbWl0dGlzaCl9YCxcbiAgYnVnc3RlbXBsYXRlOiAoeyBkb21haW4sIHByb2plY3QgfSkgPT4gYGh0dHBzOi8vJHtkb21haW59LyR7cHJvamVjdH1gLFxuICBnaXR0ZW1wbGF0ZTogKHsgZG9tYWluLCBwcm9qZWN0LCBjb21taXR0aXNoIH0pID0+IGBnaXQ6Ly8ke2RvbWFpbn0vJHtwcm9qZWN0fS5naXQke21heWJlSm9pbignIycsIGNvbW1pdHRpc2gpfWAsXG4gIHRhcmJhbGx0ZW1wbGF0ZTogKHsgcHJvamVjdCwgY29tbWl0dGlzaCB9KSA9PiBgaHR0cHM6Ly9jb2RlbG9hZC5naXRodWIuY29tL2dpc3QvJHtwcm9qZWN0fS90YXIuZ3ovJHttYXliZUVuY29kZShjb21taXR0aXNoKSB8fCAnbWFzdGVyJ31gLFxuICBleHRyYWN0OiAodXJsKSA9PiB7XG4gICAgbGV0IFssIHVzZXIsIHByb2plY3QsIGF1eF0gPSB1cmwucGF0aG5hbWUuc3BsaXQoJy8nLCA0KVxuICAgIGlmIChhdXggPT09ICdyYXcnKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBpZiAoIXByb2plY3QpIHtcbiAgICAgIGlmICghdXNlcikge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgcHJvamVjdCA9IHVzZXJcbiAgICAgIHVzZXIgPSBudWxsXG4gICAgfVxuXG4gICAgaWYgKHByb2plY3QuZW5kc1dpdGgoJy5naXQnKSkge1xuICAgICAgcHJvamVjdCA9IHByb2plY3Quc2xpY2UoMCwgLTQpXG4gICAgfVxuXG4gICAgcmV0dXJuIHsgdXNlciwgcHJvamVjdCwgY29tbWl0dGlzaDogdXJsLmhhc2guc2xpY2UoMSkgfVxuICB9LFxuICBoYXNoZm9ybWF0OiBmdW5jdGlvbiAoZnJhZ21lbnQpIHtcbiAgICByZXR1cm4gZnJhZ21lbnQgJiYgJ2ZpbGUtJyArIGZvcm1hdEhhc2hGcmFnbWVudChmcmFnbWVudClcbiAgfVxufSlcblxuZ2l0SG9zdHMuc291cmNlaHV0ID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdHMsIHtcbiAgcHJvdG9jb2xzOiBbJ2dpdCtzc2g6JywgJ2h0dHBzOiddLFxuICBkb21haW46ICdnaXQuc3IuaHQnLFxuICB0cmVlcGF0aDogJ3RyZWUnLFxuICBicm93c2VmaWxldGVtcGxhdGU6ICh7IGRvbWFpbiwgdXNlciwgcHJvamVjdCwgY29tbWl0dGlzaCwgdHJlZXBhdGgsIHBhdGgsIGZyYWdtZW50LCBoYXNoZm9ybWF0IH0pID0+IGBodHRwczovLyR7ZG9tYWlufS8ke3VzZXJ9LyR7cHJvamVjdH0vJHt0cmVlcGF0aH0vJHttYXliZUVuY29kZShjb21taXR0aXNoIHx8ICdtYWluJyl9LyR7cGF0aH0ke21heWJlSm9pbignIycsIGhhc2hmb3JtYXQoZnJhZ21lbnQgfHwgJycpKX1gLFxuICBmaWxldGVtcGxhdGU6ICh7IGRvbWFpbiwgdXNlciwgcHJvamVjdCwgY29tbWl0dGlzaCwgcGF0aCB9KSA9PiBgaHR0cHM6Ly8ke2RvbWFpbn0vJHt1c2VyfS8ke3Byb2plY3R9L2Jsb2IvJHttYXliZUVuY29kZShjb21taXR0aXNoKSB8fCAnbWFpbid9LyR7cGF0aH1gLFxuICBodHRwc3RlbXBsYXRlOiAoeyBkb21haW4sIHVzZXIsIHByb2plY3QsIGNvbW1pdHRpc2ggfSkgPT4gYGh0dHBzOi8vJHtkb21haW59LyR7dXNlcn0vJHtwcm9qZWN0fS5naXQke21heWJlSm9pbignIycsIGNvbW1pdHRpc2gpfWAsXG4gIHRhcmJhbGx0ZW1wbGF0ZTogKHsgZG9tYWluLCB1c2VyLCBwcm9qZWN0LCBjb21taXR0aXNoIH0pID0+IGBodHRwczovLyR7ZG9tYWlufS8ke3VzZXJ9LyR7cHJvamVjdH0vYXJjaGl2ZS8ke21heWJlRW5jb2RlKGNvbW1pdHRpc2gpIHx8ICdtYWluJ30udGFyLmd6YCxcbiAgYnVnc3RlbXBsYXRlOiAoeyBkb21haW4sIHVzZXIsIHByb2plY3QgfSkgPT4gYGh0dHBzOi8vdG9kby5zci5odC8ke3VzZXJ9LyR7cHJvamVjdH1gLFxuICBkb2NzdGVtcGxhdGU6ICh7IGRvbWFpbiwgdXNlciwgcHJvamVjdCwgdHJlZXBhdGgsIGNvbW1pdHRpc2ggfSkgPT4gYGh0dHBzOi8vJHtkb21haW59LyR7dXNlcn0vJHtwcm9qZWN0fSR7bWF5YmVKb2luKCcvJywgdHJlZXBhdGgsICcvJywgbWF5YmVFbmNvZGUoY29tbWl0dGlzaCkpfSNyZWFkbWVgLFxuICBleHRyYWN0OiAodXJsKSA9PiB7XG4gICAgbGV0IFssIHVzZXIsIHByb2plY3QsIGF1eF0gPSB1cmwucGF0aG5hbWUuc3BsaXQoJy8nLCA0KVxuXG4gICAgLy8gdGFyYmFsbCB1cmxcbiAgICBpZiAoWydhcmNoaXZlJ10uaW5jbHVkZXMoYXV4KSkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgaWYgKHByb2plY3QgJiYgcHJvamVjdC5lbmRzV2l0aCgnLmdpdCcpKSB7XG4gICAgICBwcm9qZWN0ID0gcHJvamVjdC5zbGljZSgwLCAtNClcbiAgICB9XG5cbiAgICBpZiAoIXVzZXIgfHwgIXByb2plY3QpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHJldHVybiB7IHVzZXIsIHByb2plY3QsIGNvbW1pdHRpc2g6IHVybC5oYXNoLnNsaWNlKDEpIH1cbiAgfVxufSlcblxuY29uc3QgbmFtZXMgPSBPYmplY3Qua2V5cyhnaXRIb3N0cylcbmdpdEhvc3RzLmJ5U2hvcnRjdXQgPSB7fVxuZ2l0SG9zdHMuYnlEb21haW4gPSB7fVxuZm9yIChjb25zdCBuYW1lIG9mIG5hbWVzKSB7XG4gIGdpdEhvc3RzLmJ5U2hvcnRjdXRbYCR7bmFtZX06YF0gPSBuYW1lXG4gIGdpdEhvc3RzLmJ5RG9tYWluW2dpdEhvc3RzW25hbWVdLmRvbWFpbl0gPSBuYW1lXG59XG5cbmZ1bmN0aW9uIGZvcm1hdEhhc2hGcmFnbWVudCAoZnJhZ21lbnQpIHtcbiAgcmV0dXJuIGZyYWdtZW50LnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXlxcVyt8XFwvfFxcVyskL2csICcnKS5yZXBsYWNlKC9cXFcrL2csICctJylcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBnaXRIb3N0c1xuIiwgIid1c2Ugc3RyaWN0J1xuY29uc3QgZ2l0SG9zdHMgPSByZXF1aXJlKCcuL2dpdC1ob3N0LWluZm8uanMnKVxuXG5jbGFzcyBHaXRIb3N0IHtcbiAgY29uc3RydWN0b3IgKHR5cGUsIHVzZXIsIGF1dGgsIHByb2plY3QsIGNvbW1pdHRpc2gsIGRlZmF1bHRSZXByZXNlbnRhdGlvbiwgb3B0cyA9IHt9KSB7XG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCBnaXRIb3N0c1t0eXBlXSlcbiAgICB0aGlzLnR5cGUgPSB0eXBlXG4gICAgdGhpcy51c2VyID0gdXNlclxuICAgIHRoaXMuYXV0aCA9IGF1dGhcbiAgICB0aGlzLnByb2plY3QgPSBwcm9qZWN0XG4gICAgdGhpcy5jb21taXR0aXNoID0gY29tbWl0dGlzaFxuICAgIHRoaXMuZGVmYXVsdCA9IGRlZmF1bHRSZXByZXNlbnRhdGlvblxuICAgIHRoaXMub3B0cyA9IG9wdHNcbiAgfVxuXG4gIGhhc2ggKCkge1xuICAgIHJldHVybiB0aGlzLmNvbW1pdHRpc2ggPyBgIyR7dGhpcy5jb21taXR0aXNofWAgOiAnJ1xuICB9XG5cbiAgc3NoIChvcHRzKSB7XG4gICAgcmV0dXJuIHRoaXMuX2ZpbGwodGhpcy5zc2h0ZW1wbGF0ZSwgb3B0cylcbiAgfVxuXG4gIF9maWxsICh0ZW1wbGF0ZSwgb3B0cykge1xuICAgIGlmICh0eXBlb2YgdGVtcGxhdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNvbnN0IG9wdGlvbnMgPSB7IC4uLnRoaXMsIC4uLnRoaXMub3B0cywgLi4ub3B0cyB9XG5cbiAgICAgIC8vIHRoZSBwYXRoIHNob3VsZCBhbHdheXMgYmUgc2V0IHNvIHdlIGRvbid0IGVuZCB1cCB3aXRoICd1bmRlZmluZWQnIGluIHVybHNcbiAgICAgIGlmICghb3B0aW9ucy5wYXRoKSB7XG4gICAgICAgIG9wdGlvbnMucGF0aCA9ICcnXG4gICAgICB9XG5cbiAgICAgIC8vIHRlbXBsYXRlIGZ1bmN0aW9ucyB3aWxsIGluc2VydCB0aGUgbGVhZGluZyBzbGFzaCB0aGVtc2VsdmVzXG4gICAgICBpZiAob3B0aW9ucy5wYXRoLnN0YXJ0c1dpdGgoJy8nKSkge1xuICAgICAgICBvcHRpb25zLnBhdGggPSBvcHRpb25zLnBhdGguc2xpY2UoMSlcbiAgICAgIH1cblxuICAgICAgaWYgKG9wdGlvbnMubm9Db21taXR0aXNoKSB7XG4gICAgICAgIG9wdGlvbnMuY29tbWl0dGlzaCA9IG51bGxcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmVzdWx0ID0gdGVtcGxhdGUob3B0aW9ucylcbiAgICAgIHJldHVybiBvcHRpb25zLm5vR2l0UGx1cyAmJiByZXN1bHQuc3RhcnRzV2l0aCgnZ2l0KycpID8gcmVzdWx0LnNsaWNlKDQpIDogcmVzdWx0XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIHNzaHVybCAob3B0cykge1xuICAgIHJldHVybiB0aGlzLl9maWxsKHRoaXMuc3NodXJsdGVtcGxhdGUsIG9wdHMpXG4gIH1cblxuICBicm93c2UgKHBhdGgsIGZyYWdtZW50LCBvcHRzKSB7XG4gICAgLy8gbm90IGEgc3RyaW5nLCB0cmVhdCBwYXRoIGFzIG9wdHNcbiAgICBpZiAodHlwZW9mIHBhdGggIT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gdGhpcy5fZmlsbCh0aGlzLmJyb3dzZXRlbXBsYXRlLCBwYXRoKVxuICAgIH1cblxuICAgIGlmICh0eXBlb2YgZnJhZ21lbnQgIT09ICdzdHJpbmcnKSB7XG4gICAgICBvcHRzID0gZnJhZ21lbnRcbiAgICAgIGZyYWdtZW50ID0gbnVsbFxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fZmlsbCh0aGlzLmJyb3dzZWZpbGV0ZW1wbGF0ZSwgeyAuLi5vcHRzLCBmcmFnbWVudCwgcGF0aCB9KVxuICB9XG5cbiAgZG9jcyAob3B0cykge1xuICAgIHJldHVybiB0aGlzLl9maWxsKHRoaXMuZG9jc3RlbXBsYXRlLCBvcHRzKVxuICB9XG5cbiAgYnVncyAob3B0cykge1xuICAgIHJldHVybiB0aGlzLl9maWxsKHRoaXMuYnVnc3RlbXBsYXRlLCBvcHRzKVxuICB9XG5cbiAgaHR0cHMgKG9wdHMpIHtcbiAgICByZXR1cm4gdGhpcy5fZmlsbCh0aGlzLmh0dHBzdGVtcGxhdGUsIG9wdHMpXG4gIH1cblxuICBnaXQgKG9wdHMpIHtcbiAgICByZXR1cm4gdGhpcy5fZmlsbCh0aGlzLmdpdHRlbXBsYXRlLCBvcHRzKVxuICB9XG5cbiAgc2hvcnRjdXQgKG9wdHMpIHtcbiAgICByZXR1cm4gdGhpcy5fZmlsbCh0aGlzLnNob3J0Y3V0dGVtcGxhdGUsIG9wdHMpXG4gIH1cblxuICBwYXRoIChvcHRzKSB7XG4gICAgcmV0dXJuIHRoaXMuX2ZpbGwodGhpcy5wYXRodGVtcGxhdGUsIG9wdHMpXG4gIH1cblxuICB0YXJiYWxsIChvcHRzKSB7XG4gICAgcmV0dXJuIHRoaXMuX2ZpbGwodGhpcy50YXJiYWxsdGVtcGxhdGUsIHsgLi4ub3B0cywgbm9Db21taXR0aXNoOiBmYWxzZSB9KVxuICB9XG5cbiAgZmlsZSAocGF0aCwgb3B0cykge1xuICAgIHJldHVybiB0aGlzLl9maWxsKHRoaXMuZmlsZXRlbXBsYXRlLCB7IC4uLm9wdHMsIHBhdGggfSlcbiAgfVxuXG4gIGdldERlZmF1bHRSZXByZXNlbnRhdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGVmYXVsdFxuICB9XG5cbiAgdG9TdHJpbmcgKG9wdHMpIHtcbiAgICBpZiAodGhpcy5kZWZhdWx0ICYmIHR5cGVvZiB0aGlzW3RoaXMuZGVmYXVsdF0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiB0aGlzW3RoaXMuZGVmYXVsdF0ob3B0cylcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5zc2h1cmwob3B0cylcbiAgfVxufVxubW9kdWxlLmV4cG9ydHMgPSBHaXRIb3N0XG4iLCAiJ3VzZSBzdHJpY3QnXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChZYWxsaXN0KSB7XG4gIFlhbGxpc3QucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiogKCkge1xuICAgIGZvciAobGV0IHdhbGtlciA9IHRoaXMuaGVhZDsgd2Fsa2VyOyB3YWxrZXIgPSB3YWxrZXIubmV4dCkge1xuICAgICAgeWllbGQgd2Fsa2VyLnZhbHVlXG4gICAgfVxuICB9XG59XG4iLCAiJ3VzZSBzdHJpY3QnXG5tb2R1bGUuZXhwb3J0cyA9IFlhbGxpc3RcblxuWWFsbGlzdC5Ob2RlID0gTm9kZVxuWWFsbGlzdC5jcmVhdGUgPSBZYWxsaXN0XG5cbmZ1bmN0aW9uIFlhbGxpc3QgKGxpc3QpIHtcbiAgdmFyIHNlbGYgPSB0aGlzXG4gIGlmICghKHNlbGYgaW5zdGFuY2VvZiBZYWxsaXN0KSkge1xuICAgIHNlbGYgPSBuZXcgWWFsbGlzdCgpXG4gIH1cblxuICBzZWxmLnRhaWwgPSBudWxsXG4gIHNlbGYuaGVhZCA9IG51bGxcbiAgc2VsZi5sZW5ndGggPSAwXG5cbiAgaWYgKGxpc3QgJiYgdHlwZW9mIGxpc3QuZm9yRWFjaCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGxpc3QuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgc2VsZi5wdXNoKGl0ZW0pXG4gICAgfSlcbiAgfSBlbHNlIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMCkge1xuICAgIGZvciAodmFyIGkgPSAwLCBsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgc2VsZi5wdXNoKGFyZ3VtZW50c1tpXSlcbiAgICB9XG4gIH1cblxuICByZXR1cm4gc2VsZlxufVxuXG5ZYWxsaXN0LnByb3RvdHlwZS5yZW1vdmVOb2RlID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgaWYgKG5vZGUubGlzdCAhPT0gdGhpcykge1xuICAgIHRocm93IG5ldyBFcnJvcigncmVtb3Zpbmcgbm9kZSB3aGljaCBkb2VzIG5vdCBiZWxvbmcgdG8gdGhpcyBsaXN0JylcbiAgfVxuXG4gIHZhciBuZXh0ID0gbm9kZS5uZXh0XG4gIHZhciBwcmV2ID0gbm9kZS5wcmV2XG5cbiAgaWYgKG5leHQpIHtcbiAgICBuZXh0LnByZXYgPSBwcmV2XG4gIH1cblxuICBpZiAocHJldikge1xuICAgIHByZXYubmV4dCA9IG5leHRcbiAgfVxuXG4gIGlmIChub2RlID09PSB0aGlzLmhlYWQpIHtcbiAgICB0aGlzLmhlYWQgPSBuZXh0XG4gIH1cbiAgaWYgKG5vZGUgPT09IHRoaXMudGFpbCkge1xuICAgIHRoaXMudGFpbCA9IHByZXZcbiAgfVxuXG4gIG5vZGUubGlzdC5sZW5ndGgtLVxuICBub2RlLm5leHQgPSBudWxsXG4gIG5vZGUucHJldiA9IG51bGxcbiAgbm9kZS5saXN0ID0gbnVsbFxuXG4gIHJldHVybiBuZXh0XG59XG5cbllhbGxpc3QucHJvdG90eXBlLnVuc2hpZnROb2RlID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgaWYgKG5vZGUgPT09IHRoaXMuaGVhZCkge1xuICAgIHJldHVyblxuICB9XG5cbiAgaWYgKG5vZGUubGlzdCkge1xuICAgIG5vZGUubGlzdC5yZW1vdmVOb2RlKG5vZGUpXG4gIH1cblxuICB2YXIgaGVhZCA9IHRoaXMuaGVhZFxuICBub2RlLmxpc3QgPSB0aGlzXG4gIG5vZGUubmV4dCA9IGhlYWRcbiAgaWYgKGhlYWQpIHtcbiAgICBoZWFkLnByZXYgPSBub2RlXG4gIH1cblxuICB0aGlzLmhlYWQgPSBub2RlXG4gIGlmICghdGhpcy50YWlsKSB7XG4gICAgdGhpcy50YWlsID0gbm9kZVxuICB9XG4gIHRoaXMubGVuZ3RoKytcbn1cblxuWWFsbGlzdC5wcm90b3R5cGUucHVzaE5vZGUgPSBmdW5jdGlvbiAobm9kZSkge1xuICBpZiAobm9kZSA9PT0gdGhpcy50YWlsKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICBpZiAobm9kZS5saXN0KSB7XG4gICAgbm9kZS5saXN0LnJlbW92ZU5vZGUobm9kZSlcbiAgfVxuXG4gIHZhciB0YWlsID0gdGhpcy50YWlsXG4gIG5vZGUubGlzdCA9IHRoaXNcbiAgbm9kZS5wcmV2ID0gdGFpbFxuICBpZiAodGFpbCkge1xuICAgIHRhaWwubmV4dCA9IG5vZGVcbiAgfVxuXG4gIHRoaXMudGFpbCA9IG5vZGVcbiAgaWYgKCF0aGlzLmhlYWQpIHtcbiAgICB0aGlzLmhlYWQgPSBub2RlXG4gIH1cbiAgdGhpcy5sZW5ndGgrK1xufVxuXG5ZYWxsaXN0LnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKCkge1xuICBmb3IgKHZhciBpID0gMCwgbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBwdXNoKHRoaXMsIGFyZ3VtZW50c1tpXSlcbiAgfVxuICByZXR1cm4gdGhpcy5sZW5ndGhcbn1cblxuWWFsbGlzdC5wcm90b3R5cGUudW5zaGlmdCA9IGZ1bmN0aW9uICgpIHtcbiAgZm9yICh2YXIgaSA9IDAsIGwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgdW5zaGlmdCh0aGlzLCBhcmd1bWVudHNbaV0pXG4gIH1cbiAgcmV0dXJuIHRoaXMubGVuZ3RoXG59XG5cbllhbGxpc3QucHJvdG90eXBlLnBvcCA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKCF0aGlzLnRhaWwpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkXG4gIH1cblxuICB2YXIgcmVzID0gdGhpcy50YWlsLnZhbHVlXG4gIHRoaXMudGFpbCA9IHRoaXMudGFpbC5wcmV2XG4gIGlmICh0aGlzLnRhaWwpIHtcbiAgICB0aGlzLnRhaWwubmV4dCA9IG51bGxcbiAgfSBlbHNlIHtcbiAgICB0aGlzLmhlYWQgPSBudWxsXG4gIH1cbiAgdGhpcy5sZW5ndGgtLVxuICByZXR1cm4gcmVzXG59XG5cbllhbGxpc3QucHJvdG90eXBlLnNoaWZ0ID0gZnVuY3Rpb24gKCkge1xuICBpZiAoIXRoaXMuaGVhZCkge1xuICAgIHJldHVybiB1bmRlZmluZWRcbiAgfVxuXG4gIHZhciByZXMgPSB0aGlzLmhlYWQudmFsdWVcbiAgdGhpcy5oZWFkID0gdGhpcy5oZWFkLm5leHRcbiAgaWYgKHRoaXMuaGVhZCkge1xuICAgIHRoaXMuaGVhZC5wcmV2ID0gbnVsbFxuICB9IGVsc2Uge1xuICAgIHRoaXMudGFpbCA9IG51bGxcbiAgfVxuICB0aGlzLmxlbmd0aC0tXG4gIHJldHVybiByZXNcbn1cblxuWWFsbGlzdC5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChmbiwgdGhpc3ApIHtcbiAgdGhpc3AgPSB0aGlzcCB8fCB0aGlzXG4gIGZvciAodmFyIHdhbGtlciA9IHRoaXMuaGVhZCwgaSA9IDA7IHdhbGtlciAhPT0gbnVsbDsgaSsrKSB7XG4gICAgZm4uY2FsbCh0aGlzcCwgd2Fsa2VyLnZhbHVlLCBpLCB0aGlzKVxuICAgIHdhbGtlciA9IHdhbGtlci5uZXh0XG4gIH1cbn1cblxuWWFsbGlzdC5wcm90b3R5cGUuZm9yRWFjaFJldmVyc2UgPSBmdW5jdGlvbiAoZm4sIHRoaXNwKSB7XG4gIHRoaXNwID0gdGhpc3AgfHwgdGhpc1xuICBmb3IgKHZhciB3YWxrZXIgPSB0aGlzLnRhaWwsIGkgPSB0aGlzLmxlbmd0aCAtIDE7IHdhbGtlciAhPT0gbnVsbDsgaS0tKSB7XG4gICAgZm4uY2FsbCh0aGlzcCwgd2Fsa2VyLnZhbHVlLCBpLCB0aGlzKVxuICAgIHdhbGtlciA9IHdhbGtlci5wcmV2XG4gIH1cbn1cblxuWWFsbGlzdC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKG4pIHtcbiAgZm9yICh2YXIgaSA9IDAsIHdhbGtlciA9IHRoaXMuaGVhZDsgd2Fsa2VyICE9PSBudWxsICYmIGkgPCBuOyBpKyspIHtcbiAgICAvLyBhYm9ydCBvdXQgb2YgdGhlIGxpc3QgZWFybHkgaWYgd2UgaGl0IGEgY3ljbGVcbiAgICB3YWxrZXIgPSB3YWxrZXIubmV4dFxuICB9XG4gIGlmIChpID09PSBuICYmIHdhbGtlciAhPT0gbnVsbCkge1xuICAgIHJldHVybiB3YWxrZXIudmFsdWVcbiAgfVxufVxuXG5ZYWxsaXN0LnByb3RvdHlwZS5nZXRSZXZlcnNlID0gZnVuY3Rpb24gKG4pIHtcbiAgZm9yICh2YXIgaSA9IDAsIHdhbGtlciA9IHRoaXMudGFpbDsgd2Fsa2VyICE9PSBudWxsICYmIGkgPCBuOyBpKyspIHtcbiAgICAvLyBhYm9ydCBvdXQgb2YgdGhlIGxpc3QgZWFybHkgaWYgd2UgaGl0IGEgY3ljbGVcbiAgICB3YWxrZXIgPSB3YWxrZXIucHJldlxuICB9XG4gIGlmIChpID09PSBuICYmIHdhbGtlciAhPT0gbnVsbCkge1xuICAgIHJldHVybiB3YWxrZXIudmFsdWVcbiAgfVxufVxuXG5ZYWxsaXN0LnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiAoZm4sIHRoaXNwKSB7XG4gIHRoaXNwID0gdGhpc3AgfHwgdGhpc1xuICB2YXIgcmVzID0gbmV3IFlhbGxpc3QoKVxuICBmb3IgKHZhciB3YWxrZXIgPSB0aGlzLmhlYWQ7IHdhbGtlciAhPT0gbnVsbDspIHtcbiAgICByZXMucHVzaChmbi5jYWxsKHRoaXNwLCB3YWxrZXIudmFsdWUsIHRoaXMpKVxuICAgIHdhbGtlciA9IHdhbGtlci5uZXh0XG4gIH1cbiAgcmV0dXJuIHJlc1xufVxuXG5ZYWxsaXN0LnByb3RvdHlwZS5tYXBSZXZlcnNlID0gZnVuY3Rpb24gKGZuLCB0aGlzcCkge1xuICB0aGlzcCA9IHRoaXNwIHx8IHRoaXNcbiAgdmFyIHJlcyA9IG5ldyBZYWxsaXN0KClcbiAgZm9yICh2YXIgd2Fsa2VyID0gdGhpcy50YWlsOyB3YWxrZXIgIT09IG51bGw7KSB7XG4gICAgcmVzLnB1c2goZm4uY2FsbCh0aGlzcCwgd2Fsa2VyLnZhbHVlLCB0aGlzKSlcbiAgICB3YWxrZXIgPSB3YWxrZXIucHJldlxuICB9XG4gIHJldHVybiByZXNcbn1cblxuWWFsbGlzdC5wcm90b3R5cGUucmVkdWNlID0gZnVuY3Rpb24gKGZuLCBpbml0aWFsKSB7XG4gIHZhciBhY2NcbiAgdmFyIHdhbGtlciA9IHRoaXMuaGVhZFxuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICBhY2MgPSBpbml0aWFsXG4gIH0gZWxzZSBpZiAodGhpcy5oZWFkKSB7XG4gICAgd2Fsa2VyID0gdGhpcy5oZWFkLm5leHRcbiAgICBhY2MgPSB0aGlzLmhlYWQudmFsdWVcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdSZWR1Y2Ugb2YgZW1wdHkgbGlzdCB3aXRoIG5vIGluaXRpYWwgdmFsdWUnKVxuICB9XG5cbiAgZm9yICh2YXIgaSA9IDA7IHdhbGtlciAhPT0gbnVsbDsgaSsrKSB7XG4gICAgYWNjID0gZm4oYWNjLCB3YWxrZXIudmFsdWUsIGkpXG4gICAgd2Fsa2VyID0gd2Fsa2VyLm5leHRcbiAgfVxuXG4gIHJldHVybiBhY2Ncbn1cblxuWWFsbGlzdC5wcm90b3R5cGUucmVkdWNlUmV2ZXJzZSA9IGZ1bmN0aW9uIChmbiwgaW5pdGlhbCkge1xuICB2YXIgYWNjXG4gIHZhciB3YWxrZXIgPSB0aGlzLnRhaWxcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgYWNjID0gaW5pdGlhbFxuICB9IGVsc2UgaWYgKHRoaXMudGFpbCkge1xuICAgIHdhbGtlciA9IHRoaXMudGFpbC5wcmV2XG4gICAgYWNjID0gdGhpcy50YWlsLnZhbHVlXG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUmVkdWNlIG9mIGVtcHR5IGxpc3Qgd2l0aCBubyBpbml0aWFsIHZhbHVlJylcbiAgfVxuXG4gIGZvciAodmFyIGkgPSB0aGlzLmxlbmd0aCAtIDE7IHdhbGtlciAhPT0gbnVsbDsgaS0tKSB7XG4gICAgYWNjID0gZm4oYWNjLCB3YWxrZXIudmFsdWUsIGkpXG4gICAgd2Fsa2VyID0gd2Fsa2VyLnByZXZcbiAgfVxuXG4gIHJldHVybiBhY2Ncbn1cblxuWWFsbGlzdC5wcm90b3R5cGUudG9BcnJheSA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGFyciA9IG5ldyBBcnJheSh0aGlzLmxlbmd0aClcbiAgZm9yICh2YXIgaSA9IDAsIHdhbGtlciA9IHRoaXMuaGVhZDsgd2Fsa2VyICE9PSBudWxsOyBpKyspIHtcbiAgICBhcnJbaV0gPSB3YWxrZXIudmFsdWVcbiAgICB3YWxrZXIgPSB3YWxrZXIubmV4dFxuICB9XG4gIHJldHVybiBhcnJcbn1cblxuWWFsbGlzdC5wcm90b3R5cGUudG9BcnJheVJldmVyc2UgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBhcnIgPSBuZXcgQXJyYXkodGhpcy5sZW5ndGgpXG4gIGZvciAodmFyIGkgPSAwLCB3YWxrZXIgPSB0aGlzLnRhaWw7IHdhbGtlciAhPT0gbnVsbDsgaSsrKSB7XG4gICAgYXJyW2ldID0gd2Fsa2VyLnZhbHVlXG4gICAgd2Fsa2VyID0gd2Fsa2VyLnByZXZcbiAgfVxuICByZXR1cm4gYXJyXG59XG5cbllhbGxpc3QucHJvdG90eXBlLnNsaWNlID0gZnVuY3Rpb24gKGZyb20sIHRvKSB7XG4gIHRvID0gdG8gfHwgdGhpcy5sZW5ndGhcbiAgaWYgKHRvIDwgMCkge1xuICAgIHRvICs9IHRoaXMubGVuZ3RoXG4gIH1cbiAgZnJvbSA9IGZyb20gfHwgMFxuICBpZiAoZnJvbSA8IDApIHtcbiAgICBmcm9tICs9IHRoaXMubGVuZ3RoXG4gIH1cbiAgdmFyIHJldCA9IG5ldyBZYWxsaXN0KClcbiAgaWYgKHRvIDwgZnJvbSB8fCB0byA8IDApIHtcbiAgICByZXR1cm4gcmV0XG4gIH1cbiAgaWYgKGZyb20gPCAwKSB7XG4gICAgZnJvbSA9IDBcbiAgfVxuICBpZiAodG8gPiB0aGlzLmxlbmd0aCkge1xuICAgIHRvID0gdGhpcy5sZW5ndGhcbiAgfVxuICBmb3IgKHZhciBpID0gMCwgd2Fsa2VyID0gdGhpcy5oZWFkOyB3YWxrZXIgIT09IG51bGwgJiYgaSA8IGZyb207IGkrKykge1xuICAgIHdhbGtlciA9IHdhbGtlci5uZXh0XG4gIH1cbiAgZm9yICg7IHdhbGtlciAhPT0gbnVsbCAmJiBpIDwgdG87IGkrKywgd2Fsa2VyID0gd2Fsa2VyLm5leHQpIHtcbiAgICByZXQucHVzaCh3YWxrZXIudmFsdWUpXG4gIH1cbiAgcmV0dXJuIHJldFxufVxuXG5ZYWxsaXN0LnByb3RvdHlwZS5zbGljZVJldmVyc2UgPSBmdW5jdGlvbiAoZnJvbSwgdG8pIHtcbiAgdG8gPSB0byB8fCB0aGlzLmxlbmd0aFxuICBpZiAodG8gPCAwKSB7XG4gICAgdG8gKz0gdGhpcy5sZW5ndGhcbiAgfVxuICBmcm9tID0gZnJvbSB8fCAwXG4gIGlmIChmcm9tIDwgMCkge1xuICAgIGZyb20gKz0gdGhpcy5sZW5ndGhcbiAgfVxuICB2YXIgcmV0ID0gbmV3IFlhbGxpc3QoKVxuICBpZiAodG8gPCBmcm9tIHx8IHRvIDwgMCkge1xuICAgIHJldHVybiByZXRcbiAgfVxuICBpZiAoZnJvbSA8IDApIHtcbiAgICBmcm9tID0gMFxuICB9XG4gIGlmICh0byA+IHRoaXMubGVuZ3RoKSB7XG4gICAgdG8gPSB0aGlzLmxlbmd0aFxuICB9XG4gIGZvciAodmFyIGkgPSB0aGlzLmxlbmd0aCwgd2Fsa2VyID0gdGhpcy50YWlsOyB3YWxrZXIgIT09IG51bGwgJiYgaSA+IHRvOyBpLS0pIHtcbiAgICB3YWxrZXIgPSB3YWxrZXIucHJldlxuICB9XG4gIGZvciAoOyB3YWxrZXIgIT09IG51bGwgJiYgaSA+IGZyb207IGktLSwgd2Fsa2VyID0gd2Fsa2VyLnByZXYpIHtcbiAgICByZXQucHVzaCh3YWxrZXIudmFsdWUpXG4gIH1cbiAgcmV0dXJuIHJldFxufVxuXG5ZYWxsaXN0LnByb3RvdHlwZS5zcGxpY2UgPSBmdW5jdGlvbiAoc3RhcnQsIGRlbGV0ZUNvdW50LCAuLi5ub2Rlcykge1xuICBpZiAoc3RhcnQgPiB0aGlzLmxlbmd0aCkge1xuICAgIHN0YXJ0ID0gdGhpcy5sZW5ndGggLSAxXG4gIH1cbiAgaWYgKHN0YXJ0IDwgMCkge1xuICAgIHN0YXJ0ID0gdGhpcy5sZW5ndGggKyBzdGFydDtcbiAgfVxuXG4gIGZvciAodmFyIGkgPSAwLCB3YWxrZXIgPSB0aGlzLmhlYWQ7IHdhbGtlciAhPT0gbnVsbCAmJiBpIDwgc3RhcnQ7IGkrKykge1xuICAgIHdhbGtlciA9IHdhbGtlci5uZXh0XG4gIH1cblxuICB2YXIgcmV0ID0gW11cbiAgZm9yICh2YXIgaSA9IDA7IHdhbGtlciAmJiBpIDwgZGVsZXRlQ291bnQ7IGkrKykge1xuICAgIHJldC5wdXNoKHdhbGtlci52YWx1ZSlcbiAgICB3YWxrZXIgPSB0aGlzLnJlbW92ZU5vZGUod2Fsa2VyKVxuICB9XG4gIGlmICh3YWxrZXIgPT09IG51bGwpIHtcbiAgICB3YWxrZXIgPSB0aGlzLnRhaWxcbiAgfVxuXG4gIGlmICh3YWxrZXIgIT09IHRoaXMuaGVhZCAmJiB3YWxrZXIgIT09IHRoaXMudGFpbCkge1xuICAgIHdhbGtlciA9IHdhbGtlci5wcmV2XG4gIH1cblxuICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgd2Fsa2VyID0gaW5zZXJ0KHRoaXMsIHdhbGtlciwgbm9kZXNbaV0pXG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cblxuWWFsbGlzdC5wcm90b3R5cGUucmV2ZXJzZSA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGhlYWQgPSB0aGlzLmhlYWRcbiAgdmFyIHRhaWwgPSB0aGlzLnRhaWxcbiAgZm9yICh2YXIgd2Fsa2VyID0gaGVhZDsgd2Fsa2VyICE9PSBudWxsOyB3YWxrZXIgPSB3YWxrZXIucHJldikge1xuICAgIHZhciBwID0gd2Fsa2VyLnByZXZcbiAgICB3YWxrZXIucHJldiA9IHdhbGtlci5uZXh0XG4gICAgd2Fsa2VyLm5leHQgPSBwXG4gIH1cbiAgdGhpcy5oZWFkID0gdGFpbFxuICB0aGlzLnRhaWwgPSBoZWFkXG4gIHJldHVybiB0aGlzXG59XG5cbmZ1bmN0aW9uIGluc2VydCAoc2VsZiwgbm9kZSwgdmFsdWUpIHtcbiAgdmFyIGluc2VydGVkID0gbm9kZSA9PT0gc2VsZi5oZWFkID9cbiAgICBuZXcgTm9kZSh2YWx1ZSwgbnVsbCwgbm9kZSwgc2VsZikgOlxuICAgIG5ldyBOb2RlKHZhbHVlLCBub2RlLCBub2RlLm5leHQsIHNlbGYpXG5cbiAgaWYgKGluc2VydGVkLm5leHQgPT09IG51bGwpIHtcbiAgICBzZWxmLnRhaWwgPSBpbnNlcnRlZFxuICB9XG4gIGlmIChpbnNlcnRlZC5wcmV2ID09PSBudWxsKSB7XG4gICAgc2VsZi5oZWFkID0gaW5zZXJ0ZWRcbiAgfVxuXG4gIHNlbGYubGVuZ3RoKytcblxuICByZXR1cm4gaW5zZXJ0ZWRcbn1cblxuZnVuY3Rpb24gcHVzaCAoc2VsZiwgaXRlbSkge1xuICBzZWxmLnRhaWwgPSBuZXcgTm9kZShpdGVtLCBzZWxmLnRhaWwsIG51bGwsIHNlbGYpXG4gIGlmICghc2VsZi5oZWFkKSB7XG4gICAgc2VsZi5oZWFkID0gc2VsZi50YWlsXG4gIH1cbiAgc2VsZi5sZW5ndGgrK1xufVxuXG5mdW5jdGlvbiB1bnNoaWZ0IChzZWxmLCBpdGVtKSB7XG4gIHNlbGYuaGVhZCA9IG5ldyBOb2RlKGl0ZW0sIG51bGwsIHNlbGYuaGVhZCwgc2VsZilcbiAgaWYgKCFzZWxmLnRhaWwpIHtcbiAgICBzZWxmLnRhaWwgPSBzZWxmLmhlYWRcbiAgfVxuICBzZWxmLmxlbmd0aCsrXG59XG5cbmZ1bmN0aW9uIE5vZGUgKHZhbHVlLCBwcmV2LCBuZXh0LCBsaXN0KSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBOb2RlKSkge1xuICAgIHJldHVybiBuZXcgTm9kZSh2YWx1ZSwgcHJldiwgbmV4dCwgbGlzdClcbiAgfVxuXG4gIHRoaXMubGlzdCA9IGxpc3RcbiAgdGhpcy52YWx1ZSA9IHZhbHVlXG5cbiAgaWYgKHByZXYpIHtcbiAgICBwcmV2Lm5leHQgPSB0aGlzXG4gICAgdGhpcy5wcmV2ID0gcHJldlxuICB9IGVsc2Uge1xuICAgIHRoaXMucHJldiA9IG51bGxcbiAgfVxuXG4gIGlmIChuZXh0KSB7XG4gICAgbmV4dC5wcmV2ID0gdGhpc1xuICAgIHRoaXMubmV4dCA9IG5leHRcbiAgfSBlbHNlIHtcbiAgICB0aGlzLm5leHQgPSBudWxsXG4gIH1cbn1cblxudHJ5IHtcbiAgLy8gYWRkIGlmIHN1cHBvcnQgZm9yIFN5bWJvbC5pdGVyYXRvciBpcyBwcmVzZW50XG4gIHJlcXVpcmUoJy4vaXRlcmF0b3IuanMnKShZYWxsaXN0KVxufSBjYXRjaCAoZXIpIHt9XG4iLCAiJ3VzZSBzdHJpY3QnXG5cbi8vIEEgbGlua2VkIGxpc3QgdG8ga2VlcCB0cmFjayBvZiByZWNlbnRseS11c2VkLW5lc3NcbmNvbnN0IFlhbGxpc3QgPSByZXF1aXJlKCd5YWxsaXN0JylcblxuY29uc3QgTUFYID0gU3ltYm9sKCdtYXgnKVxuY29uc3QgTEVOR1RIID0gU3ltYm9sKCdsZW5ndGgnKVxuY29uc3QgTEVOR1RIX0NBTENVTEFUT1IgPSBTeW1ib2woJ2xlbmd0aENhbGN1bGF0b3InKVxuY29uc3QgQUxMT1dfU1RBTEUgPSBTeW1ib2woJ2FsbG93U3RhbGUnKVxuY29uc3QgTUFYX0FHRSA9IFN5bWJvbCgnbWF4QWdlJylcbmNvbnN0IERJU1BPU0UgPSBTeW1ib2woJ2Rpc3Bvc2UnKVxuY29uc3QgTk9fRElTUE9TRV9PTl9TRVQgPSBTeW1ib2woJ25vRGlzcG9zZU9uU2V0JylcbmNvbnN0IExSVV9MSVNUID0gU3ltYm9sKCdscnVMaXN0JylcbmNvbnN0IENBQ0hFID0gU3ltYm9sKCdjYWNoZScpXG5jb25zdCBVUERBVEVfQUdFX09OX0dFVCA9IFN5bWJvbCgndXBkYXRlQWdlT25HZXQnKVxuXG5jb25zdCBuYWl2ZUxlbmd0aCA9ICgpID0+IDFcblxuLy8gbHJ1TGlzdCBpcyBhIHlhbGxpc3Qgd2hlcmUgdGhlIGhlYWQgaXMgdGhlIHlvdW5nZXN0XG4vLyBpdGVtLCBhbmQgdGhlIHRhaWwgaXMgdGhlIG9sZGVzdC4gIHRoZSBsaXN0IGNvbnRhaW5zIHRoZSBIaXRcbi8vIG9iamVjdHMgYXMgdGhlIGVudHJpZXMuXG4vLyBFYWNoIEhpdCBvYmplY3QgaGFzIGEgcmVmZXJlbmNlIHRvIGl0cyBZYWxsaXN0Lk5vZGUuICBUaGlzXG4vLyBuZXZlciBjaGFuZ2VzLlxuLy9cbi8vIGNhY2hlIGlzIGEgTWFwIChvciBQc2V1ZG9NYXApIHRoYXQgbWF0Y2hlcyB0aGUga2V5cyB0b1xuLy8gdGhlIFlhbGxpc3QuTm9kZSBvYmplY3QuXG5jbGFzcyBMUlVDYWNoZSB7XG4gIGNvbnN0cnVjdG9yIChvcHRpb25zKSB7XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnbnVtYmVyJylcbiAgICAgIG9wdGlvbnMgPSB7IG1heDogb3B0aW9ucyB9XG5cbiAgICBpZiAoIW9wdGlvbnMpXG4gICAgICBvcHRpb25zID0ge31cblxuICAgIGlmIChvcHRpb25zLm1heCAmJiAodHlwZW9mIG9wdGlvbnMubWF4ICE9PSAnbnVtYmVyJyB8fCBvcHRpb25zLm1heCA8IDApKVxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignbWF4IG11c3QgYmUgYSBub24tbmVnYXRpdmUgbnVtYmVyJylcbiAgICAvLyBLaW5kIG9mIHdlaXJkIHRvIGhhdmUgYSBkZWZhdWx0IG1heCBvZiBJbmZpbml0eSwgYnV0IG9oIHdlbGwuXG4gICAgY29uc3QgbWF4ID0gdGhpc1tNQVhdID0gb3B0aW9ucy5tYXggfHwgSW5maW5pdHlcblxuICAgIGNvbnN0IGxjID0gb3B0aW9ucy5sZW5ndGggfHwgbmFpdmVMZW5ndGhcbiAgICB0aGlzW0xFTkdUSF9DQUxDVUxBVE9SXSA9ICh0eXBlb2YgbGMgIT09ICdmdW5jdGlvbicpID8gbmFpdmVMZW5ndGggOiBsY1xuICAgIHRoaXNbQUxMT1dfU1RBTEVdID0gb3B0aW9ucy5zdGFsZSB8fCBmYWxzZVxuICAgIGlmIChvcHRpb25zLm1heEFnZSAmJiB0eXBlb2Ygb3B0aW9ucy5tYXhBZ2UgIT09ICdudW1iZXInKVxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignbWF4QWdlIG11c3QgYmUgYSBudW1iZXInKVxuICAgIHRoaXNbTUFYX0FHRV0gPSBvcHRpb25zLm1heEFnZSB8fCAwXG4gICAgdGhpc1tESVNQT1NFXSA9IG9wdGlvbnMuZGlzcG9zZVxuICAgIHRoaXNbTk9fRElTUE9TRV9PTl9TRVRdID0gb3B0aW9ucy5ub0Rpc3Bvc2VPblNldCB8fCBmYWxzZVxuICAgIHRoaXNbVVBEQVRFX0FHRV9PTl9HRVRdID0gb3B0aW9ucy51cGRhdGVBZ2VPbkdldCB8fCBmYWxzZVxuICAgIHRoaXMucmVzZXQoKVxuICB9XG5cbiAgLy8gcmVzaXplIHRoZSBjYWNoZSB3aGVuIHRoZSBtYXggY2hhbmdlcy5cbiAgc2V0IG1heCAobUwpIHtcbiAgICBpZiAodHlwZW9mIG1MICE9PSAnbnVtYmVyJyB8fCBtTCA8IDApXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdtYXggbXVzdCBiZSBhIG5vbi1uZWdhdGl2ZSBudW1iZXInKVxuXG4gICAgdGhpc1tNQVhdID0gbUwgfHwgSW5maW5pdHlcbiAgICB0cmltKHRoaXMpXG4gIH1cbiAgZ2V0IG1heCAoKSB7XG4gICAgcmV0dXJuIHRoaXNbTUFYXVxuICB9XG5cbiAgc2V0IGFsbG93U3RhbGUgKGFsbG93U3RhbGUpIHtcbiAgICB0aGlzW0FMTE9XX1NUQUxFXSA9ICEhYWxsb3dTdGFsZVxuICB9XG4gIGdldCBhbGxvd1N0YWxlICgpIHtcbiAgICByZXR1cm4gdGhpc1tBTExPV19TVEFMRV1cbiAgfVxuXG4gIHNldCBtYXhBZ2UgKG1BKSB7XG4gICAgaWYgKHR5cGVvZiBtQSAhPT0gJ251bWJlcicpXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdtYXhBZ2UgbXVzdCBiZSBhIG5vbi1uZWdhdGl2ZSBudW1iZXInKVxuXG4gICAgdGhpc1tNQVhfQUdFXSA9IG1BXG4gICAgdHJpbSh0aGlzKVxuICB9XG4gIGdldCBtYXhBZ2UgKCkge1xuICAgIHJldHVybiB0aGlzW01BWF9BR0VdXG4gIH1cblxuICAvLyByZXNpemUgdGhlIGNhY2hlIHdoZW4gdGhlIGxlbmd0aENhbGN1bGF0b3IgY2hhbmdlcy5cbiAgc2V0IGxlbmd0aENhbGN1bGF0b3IgKGxDKSB7XG4gICAgaWYgKHR5cGVvZiBsQyAhPT0gJ2Z1bmN0aW9uJylcbiAgICAgIGxDID0gbmFpdmVMZW5ndGhcblxuICAgIGlmIChsQyAhPT0gdGhpc1tMRU5HVEhfQ0FMQ1VMQVRPUl0pIHtcbiAgICAgIHRoaXNbTEVOR1RIX0NBTENVTEFUT1JdID0gbENcbiAgICAgIHRoaXNbTEVOR1RIXSA9IDBcbiAgICAgIHRoaXNbTFJVX0xJU1RdLmZvckVhY2goaGl0ID0+IHtcbiAgICAgICAgaGl0Lmxlbmd0aCA9IHRoaXNbTEVOR1RIX0NBTENVTEFUT1JdKGhpdC52YWx1ZSwgaGl0LmtleSlcbiAgICAgICAgdGhpc1tMRU5HVEhdICs9IGhpdC5sZW5ndGhcbiAgICAgIH0pXG4gICAgfVxuICAgIHRyaW0odGhpcylcbiAgfVxuICBnZXQgbGVuZ3RoQ2FsY3VsYXRvciAoKSB7IHJldHVybiB0aGlzW0xFTkdUSF9DQUxDVUxBVE9SXSB9XG5cbiAgZ2V0IGxlbmd0aCAoKSB7IHJldHVybiB0aGlzW0xFTkdUSF0gfVxuICBnZXQgaXRlbUNvdW50ICgpIHsgcmV0dXJuIHRoaXNbTFJVX0xJU1RdLmxlbmd0aCB9XG5cbiAgcmZvckVhY2ggKGZuLCB0aGlzcCkge1xuICAgIHRoaXNwID0gdGhpc3AgfHwgdGhpc1xuICAgIGZvciAobGV0IHdhbGtlciA9IHRoaXNbTFJVX0xJU1RdLnRhaWw7IHdhbGtlciAhPT0gbnVsbDspIHtcbiAgICAgIGNvbnN0IHByZXYgPSB3YWxrZXIucHJldlxuICAgICAgZm9yRWFjaFN0ZXAodGhpcywgZm4sIHdhbGtlciwgdGhpc3ApXG4gICAgICB3YWxrZXIgPSBwcmV2XG4gICAgfVxuICB9XG5cbiAgZm9yRWFjaCAoZm4sIHRoaXNwKSB7XG4gICAgdGhpc3AgPSB0aGlzcCB8fCB0aGlzXG4gICAgZm9yIChsZXQgd2Fsa2VyID0gdGhpc1tMUlVfTElTVF0uaGVhZDsgd2Fsa2VyICE9PSBudWxsOykge1xuICAgICAgY29uc3QgbmV4dCA9IHdhbGtlci5uZXh0XG4gICAgICBmb3JFYWNoU3RlcCh0aGlzLCBmbiwgd2Fsa2VyLCB0aGlzcClcbiAgICAgIHdhbGtlciA9IG5leHRcbiAgICB9XG4gIH1cblxuICBrZXlzICgpIHtcbiAgICByZXR1cm4gdGhpc1tMUlVfTElTVF0udG9BcnJheSgpLm1hcChrID0+IGsua2V5KVxuICB9XG5cbiAgdmFsdWVzICgpIHtcbiAgICByZXR1cm4gdGhpc1tMUlVfTElTVF0udG9BcnJheSgpLm1hcChrID0+IGsudmFsdWUpXG4gIH1cblxuICByZXNldCAoKSB7XG4gICAgaWYgKHRoaXNbRElTUE9TRV0gJiZcbiAgICAgICAgdGhpc1tMUlVfTElTVF0gJiZcbiAgICAgICAgdGhpc1tMUlVfTElTVF0ubGVuZ3RoKSB7XG4gICAgICB0aGlzW0xSVV9MSVNUXS5mb3JFYWNoKGhpdCA9PiB0aGlzW0RJU1BPU0VdKGhpdC5rZXksIGhpdC52YWx1ZSkpXG4gICAgfVxuXG4gICAgdGhpc1tDQUNIRV0gPSBuZXcgTWFwKCkgLy8gaGFzaCBvZiBpdGVtcyBieSBrZXlcbiAgICB0aGlzW0xSVV9MSVNUXSA9IG5ldyBZYWxsaXN0KCkgLy8gbGlzdCBvZiBpdGVtcyBpbiBvcmRlciBvZiB1c2UgcmVjZW5jeVxuICAgIHRoaXNbTEVOR1RIXSA9IDAgLy8gbGVuZ3RoIG9mIGl0ZW1zIGluIHRoZSBsaXN0XG4gIH1cblxuICBkdW1wICgpIHtcbiAgICByZXR1cm4gdGhpc1tMUlVfTElTVF0ubWFwKGhpdCA9PlxuICAgICAgaXNTdGFsZSh0aGlzLCBoaXQpID8gZmFsc2UgOiB7XG4gICAgICAgIGs6IGhpdC5rZXksXG4gICAgICAgIHY6IGhpdC52YWx1ZSxcbiAgICAgICAgZTogaGl0Lm5vdyArIChoaXQubWF4QWdlIHx8IDApXG4gICAgICB9KS50b0FycmF5KCkuZmlsdGVyKGggPT4gaClcbiAgfVxuXG4gIGR1bXBMcnUgKCkge1xuICAgIHJldHVybiB0aGlzW0xSVV9MSVNUXVxuICB9XG5cbiAgc2V0IChrZXksIHZhbHVlLCBtYXhBZ2UpIHtcbiAgICBtYXhBZ2UgPSBtYXhBZ2UgfHwgdGhpc1tNQVhfQUdFXVxuXG4gICAgaWYgKG1heEFnZSAmJiB0eXBlb2YgbWF4QWdlICE9PSAnbnVtYmVyJylcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ21heEFnZSBtdXN0IGJlIGEgbnVtYmVyJylcblxuICAgIGNvbnN0IG5vdyA9IG1heEFnZSA/IERhdGUubm93KCkgOiAwXG4gICAgY29uc3QgbGVuID0gdGhpc1tMRU5HVEhfQ0FMQ1VMQVRPUl0odmFsdWUsIGtleSlcblxuICAgIGlmICh0aGlzW0NBQ0hFXS5oYXMoa2V5KSkge1xuICAgICAgaWYgKGxlbiA+IHRoaXNbTUFYXSkge1xuICAgICAgICBkZWwodGhpcywgdGhpc1tDQUNIRV0uZ2V0KGtleSkpXG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuXG4gICAgICBjb25zdCBub2RlID0gdGhpc1tDQUNIRV0uZ2V0KGtleSlcbiAgICAgIGNvbnN0IGl0ZW0gPSBub2RlLnZhbHVlXG5cbiAgICAgIC8vIGRpc3Bvc2Ugb2YgdGhlIG9sZCBvbmUgYmVmb3JlIG92ZXJ3cml0aW5nXG4gICAgICAvLyBzcGxpdCBvdXQgaW50byAyIGlmcyBmb3IgYmV0dGVyIGNvdmVyYWdlIHRyYWNraW5nXG4gICAgICBpZiAodGhpc1tESVNQT1NFXSkge1xuICAgICAgICBpZiAoIXRoaXNbTk9fRElTUE9TRV9PTl9TRVRdKVxuICAgICAgICAgIHRoaXNbRElTUE9TRV0oa2V5LCBpdGVtLnZhbHVlKVxuICAgICAgfVxuXG4gICAgICBpdGVtLm5vdyA9IG5vd1xuICAgICAgaXRlbS5tYXhBZ2UgPSBtYXhBZ2VcbiAgICAgIGl0ZW0udmFsdWUgPSB2YWx1ZVxuICAgICAgdGhpc1tMRU5HVEhdICs9IGxlbiAtIGl0ZW0ubGVuZ3RoXG4gICAgICBpdGVtLmxlbmd0aCA9IGxlblxuICAgICAgdGhpcy5nZXQoa2V5KVxuICAgICAgdHJpbSh0aGlzKVxuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG5cbiAgICBjb25zdCBoaXQgPSBuZXcgRW50cnkoa2V5LCB2YWx1ZSwgbGVuLCBub3csIG1heEFnZSlcblxuICAgIC8vIG92ZXJzaXplZCBvYmplY3RzIGZhbGwgb3V0IG9mIGNhY2hlIGF1dG9tYXRpY2FsbHkuXG4gICAgaWYgKGhpdC5sZW5ndGggPiB0aGlzW01BWF0pIHtcbiAgICAgIGlmICh0aGlzW0RJU1BPU0VdKVxuICAgICAgICB0aGlzW0RJU1BPU0VdKGtleSwgdmFsdWUpXG5cbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIHRoaXNbTEVOR1RIXSArPSBoaXQubGVuZ3RoXG4gICAgdGhpc1tMUlVfTElTVF0udW5zaGlmdChoaXQpXG4gICAgdGhpc1tDQUNIRV0uc2V0KGtleSwgdGhpc1tMUlVfTElTVF0uaGVhZClcbiAgICB0cmltKHRoaXMpXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIGhhcyAoa2V5KSB7XG4gICAgaWYgKCF0aGlzW0NBQ0hFXS5oYXMoa2V5KSkgcmV0dXJuIGZhbHNlXG4gICAgY29uc3QgaGl0ID0gdGhpc1tDQUNIRV0uZ2V0KGtleSkudmFsdWVcbiAgICByZXR1cm4gIWlzU3RhbGUodGhpcywgaGl0KVxuICB9XG5cbiAgZ2V0IChrZXkpIHtcbiAgICByZXR1cm4gZ2V0KHRoaXMsIGtleSwgdHJ1ZSlcbiAgfVxuXG4gIHBlZWsgKGtleSkge1xuICAgIHJldHVybiBnZXQodGhpcywga2V5LCBmYWxzZSlcbiAgfVxuXG4gIHBvcCAoKSB7XG4gICAgY29uc3Qgbm9kZSA9IHRoaXNbTFJVX0xJU1RdLnRhaWxcbiAgICBpZiAoIW5vZGUpXG4gICAgICByZXR1cm4gbnVsbFxuXG4gICAgZGVsKHRoaXMsIG5vZGUpXG4gICAgcmV0dXJuIG5vZGUudmFsdWVcbiAgfVxuXG4gIGRlbCAoa2V5KSB7XG4gICAgZGVsKHRoaXMsIHRoaXNbQ0FDSEVdLmdldChrZXkpKVxuICB9XG5cbiAgbG9hZCAoYXJyKSB7XG4gICAgLy8gcmVzZXQgdGhlIGNhY2hlXG4gICAgdGhpcy5yZXNldCgpXG5cbiAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpXG4gICAgLy8gQSBwcmV2aW91cyBzZXJpYWxpemVkIGNhY2hlIGhhcyB0aGUgbW9zdCByZWNlbnQgaXRlbXMgZmlyc3RcbiAgICBmb3IgKGxldCBsID0gYXJyLmxlbmd0aCAtIDE7IGwgPj0gMDsgbC0tKSB7XG4gICAgICBjb25zdCBoaXQgPSBhcnJbbF1cbiAgICAgIGNvbnN0IGV4cGlyZXNBdCA9IGhpdC5lIHx8IDBcbiAgICAgIGlmIChleHBpcmVzQXQgPT09IDApXG4gICAgICAgIC8vIHRoZSBpdGVtIHdhcyBjcmVhdGVkIHdpdGhvdXQgZXhwaXJhdGlvbiBpbiBhIG5vbiBhZ2VkIGNhY2hlXG4gICAgICAgIHRoaXMuc2V0KGhpdC5rLCBoaXQudilcbiAgICAgIGVsc2Uge1xuICAgICAgICBjb25zdCBtYXhBZ2UgPSBleHBpcmVzQXQgLSBub3dcbiAgICAgICAgLy8gZG9udCBhZGQgYWxyZWFkeSBleHBpcmVkIGl0ZW1zXG4gICAgICAgIGlmIChtYXhBZ2UgPiAwKSB7XG4gICAgICAgICAgdGhpcy5zZXQoaGl0LmssIGhpdC52LCBtYXhBZ2UpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcnVuZSAoKSB7XG4gICAgdGhpc1tDQUNIRV0uZm9yRWFjaCgodmFsdWUsIGtleSkgPT4gZ2V0KHRoaXMsIGtleSwgZmFsc2UpKVxuICB9XG59XG5cbmNvbnN0IGdldCA9IChzZWxmLCBrZXksIGRvVXNlKSA9PiB7XG4gIGNvbnN0IG5vZGUgPSBzZWxmW0NBQ0hFXS5nZXQoa2V5KVxuICBpZiAobm9kZSkge1xuICAgIGNvbnN0IGhpdCA9IG5vZGUudmFsdWVcbiAgICBpZiAoaXNTdGFsZShzZWxmLCBoaXQpKSB7XG4gICAgICBkZWwoc2VsZiwgbm9kZSlcbiAgICAgIGlmICghc2VsZltBTExPV19TVEFMRV0pXG4gICAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGRvVXNlKSB7XG4gICAgICAgIGlmIChzZWxmW1VQREFURV9BR0VfT05fR0VUXSlcbiAgICAgICAgICBub2RlLnZhbHVlLm5vdyA9IERhdGUubm93KClcbiAgICAgICAgc2VsZltMUlVfTElTVF0udW5zaGlmdE5vZGUobm9kZSlcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGhpdC52YWx1ZVxuICB9XG59XG5cbmNvbnN0IGlzU3RhbGUgPSAoc2VsZiwgaGl0KSA9PiB7XG4gIGlmICghaGl0IHx8ICghaGl0Lm1heEFnZSAmJiAhc2VsZltNQVhfQUdFXSkpXG4gICAgcmV0dXJuIGZhbHNlXG5cbiAgY29uc3QgZGlmZiA9IERhdGUubm93KCkgLSBoaXQubm93XG4gIHJldHVybiBoaXQubWF4QWdlID8gZGlmZiA+IGhpdC5tYXhBZ2VcbiAgICA6IHNlbGZbTUFYX0FHRV0gJiYgKGRpZmYgPiBzZWxmW01BWF9BR0VdKVxufVxuXG5jb25zdCB0cmltID0gc2VsZiA9PiB7XG4gIGlmIChzZWxmW0xFTkdUSF0gPiBzZWxmW01BWF0pIHtcbiAgICBmb3IgKGxldCB3YWxrZXIgPSBzZWxmW0xSVV9MSVNUXS50YWlsO1xuICAgICAgc2VsZltMRU5HVEhdID4gc2VsZltNQVhdICYmIHdhbGtlciAhPT0gbnVsbDspIHtcbiAgICAgIC8vIFdlIGtub3cgdGhhdCB3ZSdyZSBhYm91dCB0byBkZWxldGUgdGhpcyBvbmUsIGFuZCBhbHNvXG4gICAgICAvLyB3aGF0IHRoZSBuZXh0IGxlYXN0IHJlY2VudGx5IHVzZWQga2V5IHdpbGwgYmUsIHNvIGp1c3RcbiAgICAgIC8vIGdvIGFoZWFkIGFuZCBzZXQgaXQgbm93LlxuICAgICAgY29uc3QgcHJldiA9IHdhbGtlci5wcmV2XG4gICAgICBkZWwoc2VsZiwgd2Fsa2VyKVxuICAgICAgd2Fsa2VyID0gcHJldlxuICAgIH1cbiAgfVxufVxuXG5jb25zdCBkZWwgPSAoc2VsZiwgbm9kZSkgPT4ge1xuICBpZiAobm9kZSkge1xuICAgIGNvbnN0IGhpdCA9IG5vZGUudmFsdWVcbiAgICBpZiAoc2VsZltESVNQT1NFXSlcbiAgICAgIHNlbGZbRElTUE9TRV0oaGl0LmtleSwgaGl0LnZhbHVlKVxuXG4gICAgc2VsZltMRU5HVEhdIC09IGhpdC5sZW5ndGhcbiAgICBzZWxmW0NBQ0hFXS5kZWxldGUoaGl0LmtleSlcbiAgICBzZWxmW0xSVV9MSVNUXS5yZW1vdmVOb2RlKG5vZGUpXG4gIH1cbn1cblxuY2xhc3MgRW50cnkge1xuICBjb25zdHJ1Y3RvciAoa2V5LCB2YWx1ZSwgbGVuZ3RoLCBub3csIG1heEFnZSkge1xuICAgIHRoaXMua2V5ID0ga2V5XG4gICAgdGhpcy52YWx1ZSA9IHZhbHVlXG4gICAgdGhpcy5sZW5ndGggPSBsZW5ndGhcbiAgICB0aGlzLm5vdyA9IG5vd1xuICAgIHRoaXMubWF4QWdlID0gbWF4QWdlIHx8IDBcbiAgfVxufVxuXG5jb25zdCBmb3JFYWNoU3RlcCA9IChzZWxmLCBmbiwgbm9kZSwgdGhpc3ApID0+IHtcbiAgbGV0IGhpdCA9IG5vZGUudmFsdWVcbiAgaWYgKGlzU3RhbGUoc2VsZiwgaGl0KSkge1xuICAgIGRlbChzZWxmLCBub2RlKVxuICAgIGlmICghc2VsZltBTExPV19TVEFMRV0pXG4gICAgICBoaXQgPSB1bmRlZmluZWRcbiAgfVxuICBpZiAoaGl0KVxuICAgIGZuLmNhbGwodGhpc3AsIGhpdC52YWx1ZSwgaGl0LmtleSwgc2VsZilcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBMUlVDYWNoZVxuIiwgIid1c2Ugc3RyaWN0J1xuY29uc3QgdXJsID0gcmVxdWlyZSgndXJsJylcbmNvbnN0IGdpdEhvc3RzID0gcmVxdWlyZSgnLi9naXQtaG9zdC1pbmZvLmpzJylcbmNvbnN0IEdpdEhvc3QgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vZ2l0LWhvc3QuanMnKVxuY29uc3QgTFJVID0gcmVxdWlyZSgnbHJ1LWNhY2hlJylcbmNvbnN0IGNhY2hlID0gbmV3IExSVSh7IG1heDogMTAwMCB9KVxuXG5jb25zdCBwcm90b2NvbFRvUmVwcmVzZW50YXRpb25NYXAgPSB7XG4gICdnaXQrc3NoOic6ICdzc2h1cmwnLFxuICAnZ2l0K2h0dHBzOic6ICdodHRwcycsXG4gICdzc2g6JzogJ3NzaHVybCcsXG4gICdnaXQ6JzogJ2dpdCdcbn1cblxuZnVuY3Rpb24gcHJvdG9jb2xUb1JlcHJlc2VudGF0aW9uIChwcm90b2NvbCkge1xuICByZXR1cm4gcHJvdG9jb2xUb1JlcHJlc2VudGF0aW9uTWFwW3Byb3RvY29sXSB8fCBwcm90b2NvbC5zbGljZSgwLCAtMSlcbn1cblxuY29uc3QgYXV0aFByb3RvY29scyA9IHtcbiAgJ2dpdDonOiB0cnVlLFxuICAnaHR0cHM6JzogdHJ1ZSxcbiAgJ2dpdCtodHRwczonOiB0cnVlLFxuICAnaHR0cDonOiB0cnVlLFxuICAnZ2l0K2h0dHA6JzogdHJ1ZVxufVxuXG5jb25zdCBrbm93blByb3RvY29scyA9IE9iamVjdC5rZXlzKGdpdEhvc3RzLmJ5U2hvcnRjdXQpLmNvbmNhdChbJ2h0dHA6JywgJ2h0dHBzOicsICdnaXQ6JywgJ2dpdCtzc2g6JywgJ2dpdCtodHRwczonLCAnc3NoOiddKVxuXG5tb2R1bGUuZXhwb3J0cy5mcm9tVXJsID0gZnVuY3Rpb24gKGdpdHVybCwgb3B0cykge1xuICBpZiAodHlwZW9mIGdpdHVybCAhPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIGNvbnN0IGtleSA9IGdpdHVybCArIEpTT04uc3RyaW5naWZ5KG9wdHMgfHwge30pXG5cbiAgaWYgKCFjYWNoZS5oYXMoa2V5KSkge1xuICAgIGNhY2hlLnNldChrZXksIGZyb21VcmwoZ2l0dXJsLCBvcHRzKSlcbiAgfVxuXG4gIHJldHVybiBjYWNoZS5nZXQoa2V5KVxufVxuXG5mdW5jdGlvbiBmcm9tVXJsIChnaXR1cmwsIG9wdHMpIHtcbiAgaWYgKCFnaXR1cmwpIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIGNvbnN0IHVybCA9IGlzR2l0SHViU2hvcnRoYW5kKGdpdHVybCkgPyAnZ2l0aHViOicgKyBnaXR1cmwgOiBjb3JyZWN0UHJvdG9jb2woZ2l0dXJsKVxuICBjb25zdCBwYXJzZWQgPSBwYXJzZUdpdFVybCh1cmwpXG4gIGlmICghcGFyc2VkKSB7XG4gICAgcmV0dXJuIHBhcnNlZFxuICB9XG5cbiAgY29uc3QgZ2l0SG9zdFNob3J0Y3V0ID0gZ2l0SG9zdHMuYnlTaG9ydGN1dFtwYXJzZWQucHJvdG9jb2xdXG4gIGNvbnN0IGdpdEhvc3REb21haW4gPSBnaXRIb3N0cy5ieURvbWFpbltwYXJzZWQuaG9zdG5hbWUuc3RhcnRzV2l0aCgnd3d3LicpID8gcGFyc2VkLmhvc3RuYW1lLnNsaWNlKDQpIDogcGFyc2VkLmhvc3RuYW1lXVxuICBjb25zdCBnaXRIb3N0TmFtZSA9IGdpdEhvc3RTaG9ydGN1dCB8fCBnaXRIb3N0RG9tYWluXG4gIGlmICghZ2l0SG9zdE5hbWUpIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIGNvbnN0IGdpdEhvc3RJbmZvID0gZ2l0SG9zdHNbZ2l0SG9zdFNob3J0Y3V0IHx8IGdpdEhvc3REb21haW5dXG4gIGxldCBhdXRoID0gbnVsbFxuICBpZiAoYXV0aFByb3RvY29sc1twYXJzZWQucHJvdG9jb2xdICYmIChwYXJzZWQudXNlcm5hbWUgfHwgcGFyc2VkLnBhc3N3b3JkKSkge1xuICAgIGF1dGggPSBgJHtwYXJzZWQudXNlcm5hbWV9JHtwYXJzZWQucGFzc3dvcmQgPyAnOicgKyBwYXJzZWQucGFzc3dvcmQgOiAnJ31gXG4gIH1cblxuICBsZXQgY29tbWl0dGlzaCA9IG51bGxcbiAgbGV0IHVzZXIgPSBudWxsXG4gIGxldCBwcm9qZWN0ID0gbnVsbFxuICBsZXQgZGVmYXVsdFJlcHJlc2VudGF0aW9uID0gbnVsbFxuXG4gIHRyeSB7XG4gICAgaWYgKGdpdEhvc3RTaG9ydGN1dCkge1xuICAgICAgbGV0IHBhdGhuYW1lID0gcGFyc2VkLnBhdGhuYW1lLnN0YXJ0c1dpdGgoJy8nKSA/IHBhcnNlZC5wYXRobmFtZS5zbGljZSgxKSA6IHBhcnNlZC5wYXRobmFtZVxuICAgICAgY29uc3QgZmlyc3RBdCA9IHBhdGhuYW1lLmluZGV4T2YoJ0AnKVxuICAgICAgLy8gd2UgaWdub3JlIGF1dGggZm9yIHNob3J0Y3V0cywgc28ganVzdCB0cmltIGl0IG91dFxuICAgICAgaWYgKGZpcnN0QXQgPiAtMSkge1xuICAgICAgICBwYXRobmFtZSA9IHBhdGhuYW1lLnNsaWNlKGZpcnN0QXQgKyAxKVxuICAgICAgfVxuXG4gICAgICBjb25zdCBsYXN0U2xhc2ggPSBwYXRobmFtZS5sYXN0SW5kZXhPZignLycpXG4gICAgICBpZiAobGFzdFNsYXNoID4gLTEpIHtcbiAgICAgICAgdXNlciA9IGRlY29kZVVSSUNvbXBvbmVudChwYXRobmFtZS5zbGljZSgwLCBsYXN0U2xhc2gpKVxuICAgICAgICAvLyB3ZSB3YW50IG51bGxzIG9ubHksIG5ldmVyIGVtcHR5IHN0cmluZ3NcbiAgICAgICAgaWYgKCF1c2VyKSB7XG4gICAgICAgICAgdXNlciA9IG51bGxcbiAgICAgICAgfVxuICAgICAgICBwcm9qZWN0ID0gZGVjb2RlVVJJQ29tcG9uZW50KHBhdGhuYW1lLnNsaWNlKGxhc3RTbGFzaCArIDEpKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHJvamVjdCA9IGRlY29kZVVSSUNvbXBvbmVudChwYXRobmFtZSlcbiAgICAgIH1cblxuICAgICAgaWYgKHByb2plY3QuZW5kc1dpdGgoJy5naXQnKSkge1xuICAgICAgICBwcm9qZWN0ID0gcHJvamVjdC5zbGljZSgwLCAtNClcbiAgICAgIH1cblxuICAgICAgaWYgKHBhcnNlZC5oYXNoKSB7XG4gICAgICAgIGNvbW1pdHRpc2ggPSBkZWNvZGVVUklDb21wb25lbnQocGFyc2VkLmhhc2guc2xpY2UoMSkpXG4gICAgICB9XG5cbiAgICAgIGRlZmF1bHRSZXByZXNlbnRhdGlvbiA9ICdzaG9ydGN1dCdcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCFnaXRIb3N0SW5mby5wcm90b2NvbHMuaW5jbHVkZXMocGFyc2VkLnByb3RvY29sKSkge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgY29uc3Qgc2VnbWVudHMgPSBnaXRIb3N0SW5mby5leHRyYWN0KHBhcnNlZClcbiAgICAgIGlmICghc2VnbWVudHMpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIHVzZXIgPSBzZWdtZW50cy51c2VyICYmIGRlY29kZVVSSUNvbXBvbmVudChzZWdtZW50cy51c2VyKVxuICAgICAgcHJvamVjdCA9IGRlY29kZVVSSUNvbXBvbmVudChzZWdtZW50cy5wcm9qZWN0KVxuICAgICAgY29tbWl0dGlzaCA9IGRlY29kZVVSSUNvbXBvbmVudChzZWdtZW50cy5jb21taXR0aXNoKVxuICAgICAgZGVmYXVsdFJlcHJlc2VudGF0aW9uID0gcHJvdG9jb2xUb1JlcHJlc2VudGF0aW9uKHBhcnNlZC5wcm90b2NvbClcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgaWYgKGVyciBpbnN0YW5jZW9mIFVSSUVycm9yKSB7XG4gICAgICByZXR1cm5cbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgZXJyXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5ldyBHaXRIb3N0KGdpdEhvc3ROYW1lLCB1c2VyLCBhdXRoLCBwcm9qZWN0LCBjb21taXR0aXNoLCBkZWZhdWx0UmVwcmVzZW50YXRpb24sIG9wdHMpXG59XG5cbi8vIGFjY2VwdHMgaW5wdXQgbGlrZSBnaXQ6Z2l0aHViLmNvbTp1c2VyL3JlcG8gYW5kIGluc2VydHMgdGhlIC8vIGFmdGVyIHRoZSBmaXJzdCA6XG5jb25zdCBjb3JyZWN0UHJvdG9jb2wgPSAoYXJnKSA9PiB7XG4gIGNvbnN0IGZpcnN0Q29sb24gPSBhcmcuaW5kZXhPZignOicpXG4gIGNvbnN0IHByb3RvID0gYXJnLnNsaWNlKDAsIGZpcnN0Q29sb24gKyAxKVxuICBpZiAoa25vd25Qcm90b2NvbHMuaW5jbHVkZXMocHJvdG8pKSB7XG4gICAgcmV0dXJuIGFyZ1xuICB9XG5cbiAgY29uc3QgZmlyc3RBdCA9IGFyZy5pbmRleE9mKCdAJylcbiAgaWYgKGZpcnN0QXQgPiAtMSkge1xuICAgIGlmIChmaXJzdEF0ID4gZmlyc3RDb2xvbikge1xuICAgICAgcmV0dXJuIGBnaXQrc3NoOi8vJHthcmd9YFxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gYXJnXG4gICAgfVxuICB9XG5cbiAgY29uc3QgZG91YmxlU2xhc2ggPSBhcmcuaW5kZXhPZignLy8nKVxuICBpZiAoZG91YmxlU2xhc2ggPT09IGZpcnN0Q29sb24gKyAxKSB7XG4gICAgcmV0dXJuIGFyZ1xuICB9XG5cbiAgcmV0dXJuIGFyZy5zbGljZSgwLCBmaXJzdENvbG9uICsgMSkgKyAnLy8nICsgYXJnLnNsaWNlKGZpcnN0Q29sb24gKyAxKVxufVxuXG4vLyBsb29rIGZvciBnaXRodWIgc2hvcnRoYW5kIGlucHV0cywgc3VjaCBhcyBucG0vY2xpXG5jb25zdCBpc0dpdEh1YlNob3J0aGFuZCA9IChhcmcpID0+IHtcbiAgLy8gaXQgY2Fubm90IGNvbnRhaW4gd2hpdGVzcGFjZSBiZWZvcmUgdGhlIGZpcnN0ICNcbiAgLy8gaXQgY2Fubm90IHN0YXJ0IHdpdGggYSAvIGJlY2F1c2UgdGhhdCdzIHByb2JhYmx5IGFuIGFic29sdXRlIGZpbGUgcGF0aFxuICAvLyBidXQgaXQgbXVzdCBpbmNsdWRlIGEgc2xhc2ggc2luY2UgcmVwb3MgYXJlIHVzZXJuYW1lL3JlcG9zaXRvcnlcbiAgLy8gaXQgY2Fubm90IHN0YXJ0IHdpdGggYSAuIGJlY2F1c2UgdGhhdCdzIHByb2JhYmx5IGEgcmVsYXRpdmUgZmlsZSBwYXRoXG4gIC8vIGl0IGNhbm5vdCBzdGFydCB3aXRoIGFuIEAgYmVjYXVzZSB0aGF0J3MgYSBzY29wZWQgcGFja2FnZSBpZiBpdCBwYXNzZXMgdGhlIG90aGVyIHRlc3RzXG4gIC8vIGl0IGNhbm5vdCBjb250YWluIGEgOiBiZWZvcmUgYSAjIGJlY2F1c2UgdGhhdCB0ZWxscyB1cyB0aGF0IHRoZXJlJ3MgYSBwcm90b2NvbFxuICAvLyBhIHNlY29uZCAvIG1heSBub3QgZXhpc3QgYmVmb3JlIGEgI1xuICBjb25zdCBmaXJzdEhhc2ggPSBhcmcuaW5kZXhPZignIycpXG4gIGNvbnN0IGZpcnN0U2xhc2ggPSBhcmcuaW5kZXhPZignLycpXG4gIGNvbnN0IHNlY29uZFNsYXNoID0gYXJnLmluZGV4T2YoJy8nLCBmaXJzdFNsYXNoICsgMSlcbiAgY29uc3QgZmlyc3RDb2xvbiA9IGFyZy5pbmRleE9mKCc6JylcbiAgY29uc3QgZmlyc3RTcGFjZSA9IC9cXHMvLmV4ZWMoYXJnKVxuICBjb25zdCBmaXJzdEF0ID0gYXJnLmluZGV4T2YoJ0AnKVxuXG4gIGNvbnN0IHNwYWNlT25seUFmdGVySGFzaCA9ICFmaXJzdFNwYWNlIHx8IChmaXJzdEhhc2ggPiAtMSAmJiBmaXJzdFNwYWNlLmluZGV4ID4gZmlyc3RIYXNoKVxuICBjb25zdCBhdE9ubHlBZnRlckhhc2ggPSBmaXJzdEF0ID09PSAtMSB8fCAoZmlyc3RIYXNoID4gLTEgJiYgZmlyc3RBdCA+IGZpcnN0SGFzaClcbiAgY29uc3QgY29sb25Pbmx5QWZ0ZXJIYXNoID0gZmlyc3RDb2xvbiA9PT0gLTEgfHwgKGZpcnN0SGFzaCA+IC0xICYmIGZpcnN0Q29sb24gPiBmaXJzdEhhc2gpXG4gIGNvbnN0IHNlY29uZFNsYXNoT25seUFmdGVySGFzaCA9IHNlY29uZFNsYXNoID09PSAtMSB8fCAoZmlyc3RIYXNoID4gLTEgJiYgc2Vjb25kU2xhc2ggPiBmaXJzdEhhc2gpXG4gIGNvbnN0IGhhc1NsYXNoID0gZmlyc3RTbGFzaCA+IDBcbiAgLy8gaWYgYSAjIGlzIGZvdW5kLCB3aGF0IHdlIHJlYWxseSB3YW50IHRvIGtub3cgaXMgdGhhdCB0aGUgY2hhcmFjdGVyIGltbWVkaWF0ZWx5IGJlZm9yZSAjIGlzIG5vdCBhIC9cbiAgY29uc3QgZG9lc05vdEVuZFdpdGhTbGFzaCA9IGZpcnN0SGFzaCA+IC0xID8gYXJnW2ZpcnN0SGFzaCAtIDFdICE9PSAnLycgOiAhYXJnLmVuZHNXaXRoKCcvJylcbiAgY29uc3QgZG9lc05vdFN0YXJ0V2l0aERvdCA9ICFhcmcuc3RhcnRzV2l0aCgnLicpXG5cbiAgcmV0dXJuIHNwYWNlT25seUFmdGVySGFzaCAmJiBoYXNTbGFzaCAmJiBkb2VzTm90RW5kV2l0aFNsYXNoICYmIGRvZXNOb3RTdGFydFdpdGhEb3QgJiYgYXRPbmx5QWZ0ZXJIYXNoICYmIGNvbG9uT25seUFmdGVySGFzaCAmJiBzZWNvbmRTbGFzaE9ubHlBZnRlckhhc2hcbn1cblxuLy8gYXR0ZW1wdCB0byBjb3JyZWN0IGFuIHNjcCBzdHlsZSB1cmwgc28gdGhhdCBpdCB3aWxsIHBhcnNlIHdpdGggYG5ldyBVUkwoKWBcbmNvbnN0IGNvcnJlY3RVcmwgPSAoZ2l0dXJsKSA9PiB7XG4gIGNvbnN0IGZpcnN0QXQgPSBnaXR1cmwuaW5kZXhPZignQCcpXG4gIGNvbnN0IGxhc3RIYXNoID0gZ2l0dXJsLmxhc3RJbmRleE9mKCcjJylcbiAgbGV0IGZpcnN0Q29sb24gPSBnaXR1cmwuaW5kZXhPZignOicpXG4gIGxldCBsYXN0Q29sb24gPSBnaXR1cmwubGFzdEluZGV4T2YoJzonLCBsYXN0SGFzaCA+IC0xID8gbGFzdEhhc2ggOiBJbmZpbml0eSlcblxuICBsZXQgY29ycmVjdGVkXG4gIGlmIChsYXN0Q29sb24gPiBmaXJzdEF0KSB7XG4gICAgLy8gdGhlIGxhc3QgOiBjb21lcyBhZnRlciB0aGUgZmlyc3QgQCAob3IgdGhlcmUgaXMgbm8gQClcbiAgICAvLyBsaWtlIGl0IHdvdWxkIGluOlxuICAgIC8vIHByb3RvOi8vaG9zdG5hbWUuY29tOnVzZXIvcmVwb1xuICAgIC8vIHVzZXJuYW1lQGhvc3RuYW1lLmNvbTp1c2VyL3JlcG9cbiAgICAvLyA6cGFzc3dvcmRAaG9zdG5hbWUuY29tOnVzZXIvcmVwb1xuICAgIC8vIHVzZXJuYW1lOnBhc3N3b3JkQGhvc3RuYW1lLmNvbTp1c2VyL3JlcG9cbiAgICAvLyBwcm90bzovL3VzZXJuYW1lQGhvc3RuYW1lLmNvbTp1c2VyL3JlcG9cbiAgICAvLyBwcm90bzovLzpwYXNzd29yZEBob3N0bmFtZS5jb206dXNlci9yZXBvXG4gICAgLy8gcHJvdG86Ly91c2VybmFtZTpwYXNzd29yZEBob3N0bmFtZS5jb206dXNlci9yZXBvXG4gICAgLy8gdGhlbiB3ZSByZXBsYWNlIHRoZSBsYXN0IDogd2l0aCBhIC8gdG8gY3JlYXRlIGEgdmFsaWQgcGF0aFxuICAgIGNvcnJlY3RlZCA9IGdpdHVybC5zbGljZSgwLCBsYXN0Q29sb24pICsgJy8nICsgZ2l0dXJsLnNsaWNlKGxhc3RDb2xvbiArIDEpXG4gICAgLy8gLy8gYW5kIHdlIGZpbmQgb3VyIG5ldyA6IHBvc2l0aW9uc1xuICAgIGZpcnN0Q29sb24gPSBjb3JyZWN0ZWQuaW5kZXhPZignOicpXG4gICAgbGFzdENvbG9uID0gY29ycmVjdGVkLmxhc3RJbmRleE9mKCc6JylcbiAgfVxuXG4gIGlmIChmaXJzdENvbG9uID09PSAtMSAmJiBnaXR1cmwuaW5kZXhPZignLy8nKSA9PT0gLTEpIHtcbiAgICAvLyB3ZSBoYXZlIG5vIDogYXQgYWxsXG4gICAgLy8gYXMgaXQgd291bGQgYmUgaW46XG4gICAgLy8gdXNlcm5hbWVAaG9zdG5hbWUuY29tL3VzZXIvcmVwb1xuICAgIC8vIHRoZW4gd2UgcHJlcGVuZCBhIHByb3RvY29sXG4gICAgY29ycmVjdGVkID0gYGdpdCtzc2g6Ly8ke2NvcnJlY3RlZH1gXG4gIH1cblxuICByZXR1cm4gY29ycmVjdGVkXG59XG5cbi8vIHRyeSB0byBwYXJzZSB0aGUgdXJsIGFzIGl0cyBnaXZlbiB0byB1cywgaWYgdGhhdCB0aHJvd3Ncbi8vIHRoZW4gd2UgdHJ5IHRvIGNsZWFuIHRoZSB1cmwgYW5kIHBhcnNlIHRoYXQgcmVzdWx0IGluc3RlYWRcbi8vIFRISVMgRlVOQ1RJT04gU0hPVUxEIE5FVkVSIFRIUk9XXG5jb25zdCBwYXJzZUdpdFVybCA9IChnaXR1cmwpID0+IHtcbiAgbGV0IHJlc3VsdFxuICB0cnkge1xuICAgIHJlc3VsdCA9IG5ldyB1cmwuVVJMKGdpdHVybClcbiAgfSBjYXRjaCAoZXJyKSB7fVxuXG4gIGlmIChyZXN1bHQpIHtcbiAgICByZXR1cm4gcmVzdWx0XG4gIH1cblxuICBjb25zdCBjb3JyZWN0ZWRVcmwgPSBjb3JyZWN0VXJsKGdpdHVybClcbiAgdHJ5IHtcbiAgICByZXN1bHQgPSBuZXcgdXJsLlVSTChjb3JyZWN0ZWRVcmwpXG4gIH0gY2F0Y2ggKGVycikge31cblxuICByZXR1cm4gcmVzdWx0XG59XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCB7IHBhcnNlIH0gPSByZXF1aXJlKGB1cmxgKTtcblxuY29uc3QgVVJMX1BBVFRFUk5TID0gbmV3IFJlZ0V4cCgvXlxcLz86PyhbL1xcdy0uXSspXFwvKFtcXHctLl0rKVxcLz8kLyk7XG5jb25zdCBHSVRIVUJfQVBJID0gbmV3IFJlZ0V4cCgvXlxcL3JlcG9zXFwvKFtcXHctLl0rKVxcLyhbXFx3LS5dKylcXC8oPzp0YXJiYWxsfHppcGJhbGwpKD86XFwvLispPyQvKTtcbmNvbnN0IEdJVEhVQl9DT0RFTE9BRCA9IG5ldyBSZWdFeHAoL15cXC8oW1xcdy0uXSspXFwvKFtcXHctLl0rKVxcLyg/OmxlZ2FjeVxcLig/OnppcHx0YXJcXC5neikpKD86XFwvLispPyQvKTtcblxubW9kdWxlLmV4cG9ydHMgPSB1cmwgPT4ge1xuICBjb25zdCBtb2RpZmllZFVSTCA9IHVybFxuICAgIC8vIFByZXBlbmQgYGh0dHBzYCB0byB0aGUgVVJMIHNvIHRoYXQgYHVybC5wYXJzZWAgd2lsbCBzZWUgdGhlIHZhbHVlIG9mIGB1cmxgIGFzIGFuIGFjdHVhbCBgdXJsYCwgYW5kIHRoZXJlZm9yZSwgY29ycmVjdGx5IHBhcnNlIGl0LlxuICAgIC5yZXBsYWNlKC9eZ2l0QC8sIGBodHRwczovL2dpdEBgKVxuXG4gICAgLy8gUmVtb3ZlIGAuZ2l0YCBmcm9tIGFueSBVUkwgYmVmb3JlIGFwcGx5aW5nIHJlZ3VsYXIgZXhwcmVzc2lvbnMgdG8gdGhlIHN0cmluZy4gUmVtb3ZpbmcgYC5naXRgIHRocm91Z2ggYSBub24gY2FwdHVyZSBncm91cCBpcyBraW5kIG9mIGRpZmZpY3VsdC5cbiAgICAucmVwbGFjZSgvXFwuZ2l0JC8sIGBgKTtcblxuICBjb25zdCBwYXJzZWRVUkwgPSBwYXJzZShtb2RpZmllZFVSTCk7XG4gIGNvbnN0IGZvcm1hdCA9IG1hdGNoZXMgPT4ge1xuICAgIHJldHVybiB7IGJyb3dzZTogY3JlYXRlQnJvd3NlVVJMKHBhcnNlZFVSTCwgbWF0Y2hlcyksIGRvbWFpbjogcGFyc2VkVVJMLmhvc3QsIHByb2plY3Q6IG1hdGNoZXNbMl0gfHwgbnVsbCwgdHlwZTogZ2V0VHlwZShwYXJzZWRVUkwpLCB1c2VyOiBtYXRjaGVzWzFdIHx8IG51bGwgfTtcbiAgfTtcblxuICBpZiAocGFyc2VkVVJMLmhvc3QpIHtcbiAgICBpZiAocGFyc2VkVVJMLmhvc3QuaW5jbHVkZXMoYGFwaS5naXRodWIuY29tYCkpIHtcbiAgICAgIGNvbnN0IG1hdGNoZXMgPSBHSVRIVUJfQVBJLmV4ZWMocGFyc2VkVVJMLnBhdGhuYW1lKSB8fCBbXTtcbiAgICAgIHJldHVybiBmb3JtYXQobWF0Y2hlcyk7XG4gICAgfVxuXG4gICAgaWYgKHBhcnNlZFVSTC5ob3N0LmluY2x1ZGVzKGBjb2RlbG9hZC5naXRodWIuY29tYCkpIHtcbiAgICAgIGNvbnN0IG1hdGNoZXMgPSBHSVRIVUJfQ09ERUxPQUQuZXhlYyhwYXJzZWRVUkwucGF0aG5hbWUpIHx8IFtdO1xuICAgICAgcmV0dXJuIGZvcm1hdChtYXRjaGVzKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZm9ybWF0KFVSTF9QQVRURVJOUy5leGVjKHBhcnNlZFVSTC5wYXRobmFtZSkgfHwgW10pO1xufTtcblxuZnVuY3Rpb24gZ2V0VHlwZSAocGFyc2VkVVJMKSB7XG4gIGlmICh0eXBlb2YgcGFyc2VkVVJMLmhvc3QgIT09IGBzdHJpbmdgKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBpZiAocGFyc2VkVVJMLmhvc3QuaW5kZXhPZihgZ2l0aHViYCkgIT09IC0xKSB7XG4gICAgcmV0dXJuICdnaXRodWInO1xuICB9XG4gIGlmIChwYXJzZWRVUkwuaG9zdC5pbmRleE9mKGBnaXRsYWJgKSAhPT0gLTEpIHtcbiAgICByZXR1cm4gJ2dpdGxhYic7XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gY3JlYXRlQnJvd3NlVVJMIChwYXJzZWRVUkwsIG1hdGNoZXMpIHtcbiAgY29uc3QgcHJvdG9jb2wgPSBwYXJzZWRVUkwucHJvdG9jb2wgPT09IGBodHRwOmAgPyBgaHR0cDpgIDogYGh0dHBzOmA7XG4gIGNvbnN0IGJyb3dzZVVSTCA9IGAke3Byb3RvY29sfS8vJHtwYXJzZWRVUkwuaG9zdH0vJHttYXRjaGVzWzFdfS8ke21hdGNoZXNbMl19YDtcblxuICByZXR1cm4gKCkgPT4ge1xuICAgIHJldHVybiBicm93c2VVUkw7XG4gIH07XG59XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBob3N0ZWRHaXRJbmZvID0gcmVxdWlyZShgaG9zdGVkLWdpdC1pbmZvYCk7XG5jb25zdCBwYXJzZVJlcG9zaXRvcnlVUkwgPSByZXF1aXJlKGBAaHV0c29uL3BhcnNlLXJlcG9zaXRvcnktdXJsYCk7XG5cbm1vZHVsZS5leHBvcnRzID0gcGFja2FnZURhdGEgPT4ge1xuICBpZiAoIXBhY2thZ2VEYXRhIHx8XG4gICAgIXBhY2thZ2VEYXRhLnJlcG9zaXRvcnkgfHxcbiAgICAodHlwZW9mIHBhY2thZ2VEYXRhLnJlcG9zaXRvcnkgIT09ICdzdHJpbmcnICYmICFwYWNrYWdlRGF0YS5yZXBvc2l0b3J5LnVybCkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIHZhbGlkIFwicmVwb3NpdG9yeVwiIGRhdGEgZm91bmQgaW4gcGFja2FnZSBtZXRhZGF0YS4gUGxlYXNlIHNlZSBodHRwczovL2RvY3MubnBtanMuY29tL2ZpbGVzL3BhY2thZ2UuanNvbiNyZXBvc2l0b3J5IGZvciBwcm9wZXIgc3ludGF4LmApO1xuICB9XG5cbiAgY29uc3QgcmVwb3NpdG9yeVVSTCA9IHR5cGVvZiBwYWNrYWdlRGF0YS5yZXBvc2l0b3J5ID09PSAnc3RyaW5nJyA/IHBhY2thZ2VEYXRhLnJlcG9zaXRvcnkgOiBwYWNrYWdlRGF0YS5yZXBvc2l0b3J5LnVybDtcblxuICByZXR1cm4gaG9zdGVkR2l0SW5mby5mcm9tVXJsKHJlcG9zaXRvcnlVUkwpIHx8IHBhcnNlUmVwb3NpdG9yeVVSTChyZXBvc2l0b3J5VVJMKTtcbn07XG4iLCAiLy8gTm90ZTogdGhpcyBpcyB0aGUgc2VtdmVyLm9yZyB2ZXJzaW9uIG9mIHRoZSBzcGVjIHRoYXQgaXQgaW1wbGVtZW50c1xuLy8gTm90IG5lY2Vzc2FyaWx5IHRoZSBwYWNrYWdlIHZlcnNpb24gb2YgdGhpcyBjb2RlLlxuY29uc3QgU0VNVkVSX1NQRUNfVkVSU0lPTiA9ICcyLjAuMCdcblxuY29uc3QgTUFYX0xFTkdUSCA9IDI1NlxuY29uc3QgTUFYX1NBRkVfSU5URUdFUiA9IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSIHx8XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLyA5MDA3MTk5MjU0NzQwOTkxXG5cbi8vIE1heCBzYWZlIHNlZ21lbnQgbGVuZ3RoIGZvciBjb2VyY2lvbi5cbmNvbnN0IE1BWF9TQUZFX0NPTVBPTkVOVF9MRU5HVEggPSAxNlxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgU0VNVkVSX1NQRUNfVkVSU0lPTixcbiAgTUFYX0xFTkdUSCxcbiAgTUFYX1NBRkVfSU5URUdFUixcbiAgTUFYX1NBRkVfQ09NUE9ORU5UX0xFTkdUSCxcbn1cbiIsICJjb25zdCBkZWJ1ZyA9IChcbiAgdHlwZW9mIHByb2Nlc3MgPT09ICdvYmplY3QnICYmXG4gIHByb2Nlc3MuZW52ICYmXG4gIHByb2Nlc3MuZW52Lk5PREVfREVCVUcgJiZcbiAgL1xcYnNlbXZlclxcYi9pLnRlc3QocHJvY2Vzcy5lbnYuTk9ERV9ERUJVRylcbikgPyAoLi4uYXJncykgPT4gY29uc29sZS5lcnJvcignU0VNVkVSJywgLi4uYXJncylcbiAgOiAoKSA9PiB7fVxuXG5tb2R1bGUuZXhwb3J0cyA9IGRlYnVnXG4iLCAiY29uc3QgeyBNQVhfU0FGRV9DT01QT05FTlRfTEVOR1RIIH0gPSByZXF1aXJlKCcuL2NvbnN0YW50cycpXG5jb25zdCBkZWJ1ZyA9IHJlcXVpcmUoJy4vZGVidWcnKVxuZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0ge31cblxuLy8gVGhlIGFjdHVhbCByZWdleHBzIGdvIG9uIGV4cG9ydHMucmVcbmNvbnN0IHJlID0gZXhwb3J0cy5yZSA9IFtdXG5jb25zdCBzcmMgPSBleHBvcnRzLnNyYyA9IFtdXG5jb25zdCB0ID0gZXhwb3J0cy50ID0ge31cbmxldCBSID0gMFxuXG5jb25zdCBjcmVhdGVUb2tlbiA9IChuYW1lLCB2YWx1ZSwgaXNHbG9iYWwpID0+IHtcbiAgY29uc3QgaW5kZXggPSBSKytcbiAgZGVidWcobmFtZSwgaW5kZXgsIHZhbHVlKVxuICB0W25hbWVdID0gaW5kZXhcbiAgc3JjW2luZGV4XSA9IHZhbHVlXG4gIHJlW2luZGV4XSA9IG5ldyBSZWdFeHAodmFsdWUsIGlzR2xvYmFsID8gJ2cnIDogdW5kZWZpbmVkKVxufVxuXG4vLyBUaGUgZm9sbG93aW5nIFJlZ3VsYXIgRXhwcmVzc2lvbnMgY2FuIGJlIHVzZWQgZm9yIHRva2VuaXppbmcsXG4vLyB2YWxpZGF0aW5nLCBhbmQgcGFyc2luZyBTZW1WZXIgdmVyc2lvbiBzdHJpbmdzLlxuXG4vLyAjIyBOdW1lcmljIElkZW50aWZpZXJcbi8vIEEgc2luZ2xlIGAwYCwgb3IgYSBub24temVybyBkaWdpdCBmb2xsb3dlZCBieSB6ZXJvIG9yIG1vcmUgZGlnaXRzLlxuXG5jcmVhdGVUb2tlbignTlVNRVJJQ0lERU5USUZJRVInLCAnMHxbMS05XVxcXFxkKicpXG5jcmVhdGVUb2tlbignTlVNRVJJQ0lERU5USUZJRVJMT09TRScsICdbMC05XSsnKVxuXG4vLyAjIyBOb24tbnVtZXJpYyBJZGVudGlmaWVyXG4vLyBaZXJvIG9yIG1vcmUgZGlnaXRzLCBmb2xsb3dlZCBieSBhIGxldHRlciBvciBoeXBoZW4sIGFuZCB0aGVuIHplcm8gb3Jcbi8vIG1vcmUgbGV0dGVycywgZGlnaXRzLCBvciBoeXBoZW5zLlxuXG5jcmVhdGVUb2tlbignTk9OTlVNRVJJQ0lERU5USUZJRVInLCAnXFxcXGQqW2EtekEtWi1dW2EtekEtWjAtOS1dKicpXG5cbi8vICMjIE1haW4gVmVyc2lvblxuLy8gVGhyZWUgZG90LXNlcGFyYXRlZCBudW1lcmljIGlkZW50aWZpZXJzLlxuXG5jcmVhdGVUb2tlbignTUFJTlZFUlNJT04nLCBgKCR7c3JjW3QuTlVNRVJJQ0lERU5USUZJRVJdfSlcXFxcLmAgK1xuICAgICAgICAgICAgICAgICAgIGAoJHtzcmNbdC5OVU1FUklDSURFTlRJRklFUl19KVxcXFwuYCArXG4gICAgICAgICAgICAgICAgICAgYCgke3NyY1t0Lk5VTUVSSUNJREVOVElGSUVSXX0pYClcblxuY3JlYXRlVG9rZW4oJ01BSU5WRVJTSU9OTE9PU0UnLCBgKCR7c3JjW3QuTlVNRVJJQ0lERU5USUZJRVJMT09TRV19KVxcXFwuYCArXG4gICAgICAgICAgICAgICAgICAgICAgICBgKCR7c3JjW3QuTlVNRVJJQ0lERU5USUZJRVJMT09TRV19KVxcXFwuYCArXG4gICAgICAgICAgICAgICAgICAgICAgICBgKCR7c3JjW3QuTlVNRVJJQ0lERU5USUZJRVJMT09TRV19KWApXG5cbi8vICMjIFByZS1yZWxlYXNlIFZlcnNpb24gSWRlbnRpZmllclxuLy8gQSBudW1lcmljIGlkZW50aWZpZXIsIG9yIGEgbm9uLW51bWVyaWMgaWRlbnRpZmllci5cblxuY3JlYXRlVG9rZW4oJ1BSRVJFTEVBU0VJREVOVElGSUVSJywgYCg/OiR7c3JjW3QuTlVNRVJJQ0lERU5USUZJRVJdXG59fCR7c3JjW3QuTk9OTlVNRVJJQ0lERU5USUZJRVJdfSlgKVxuXG5jcmVhdGVUb2tlbignUFJFUkVMRUFTRUlERU5USUZJRVJMT09TRScsIGAoPzoke3NyY1t0Lk5VTUVSSUNJREVOVElGSUVSTE9PU0VdXG59fCR7c3JjW3QuTk9OTlVNRVJJQ0lERU5USUZJRVJdfSlgKVxuXG4vLyAjIyBQcmUtcmVsZWFzZSBWZXJzaW9uXG4vLyBIeXBoZW4sIGZvbGxvd2VkIGJ5IG9uZSBvciBtb3JlIGRvdC1zZXBhcmF0ZWQgcHJlLXJlbGVhc2UgdmVyc2lvblxuLy8gaWRlbnRpZmllcnMuXG5cbmNyZWF0ZVRva2VuKCdQUkVSRUxFQVNFJywgYCg/Oi0oJHtzcmNbdC5QUkVSRUxFQVNFSURFTlRJRklFUl1cbn0oPzpcXFxcLiR7c3JjW3QuUFJFUkVMRUFTRUlERU5USUZJRVJdfSkqKSlgKVxuXG5jcmVhdGVUb2tlbignUFJFUkVMRUFTRUxPT1NFJywgYCg/Oi0/KCR7c3JjW3QuUFJFUkVMRUFTRUlERU5USUZJRVJMT09TRV1cbn0oPzpcXFxcLiR7c3JjW3QuUFJFUkVMRUFTRUlERU5USUZJRVJMT09TRV19KSopKWApXG5cbi8vICMjIEJ1aWxkIE1ldGFkYXRhIElkZW50aWZpZXJcbi8vIEFueSBjb21iaW5hdGlvbiBvZiBkaWdpdHMsIGxldHRlcnMsIG9yIGh5cGhlbnMuXG5cbmNyZWF0ZVRva2VuKCdCVUlMRElERU5USUZJRVInLCAnWzAtOUEtWmEtei1dKycpXG5cbi8vICMjIEJ1aWxkIE1ldGFkYXRhXG4vLyBQbHVzIHNpZ24sIGZvbGxvd2VkIGJ5IG9uZSBvciBtb3JlIHBlcmlvZC1zZXBhcmF0ZWQgYnVpbGQgbWV0YWRhdGFcbi8vIGlkZW50aWZpZXJzLlxuXG5jcmVhdGVUb2tlbignQlVJTEQnLCBgKD86XFxcXCsoJHtzcmNbdC5CVUlMRElERU5USUZJRVJdXG59KD86XFxcXC4ke3NyY1t0LkJVSUxESURFTlRJRklFUl19KSopKWApXG5cbi8vICMjIEZ1bGwgVmVyc2lvbiBTdHJpbmdcbi8vIEEgbWFpbiB2ZXJzaW9uLCBmb2xsb3dlZCBvcHRpb25hbGx5IGJ5IGEgcHJlLXJlbGVhc2UgdmVyc2lvbiBhbmRcbi8vIGJ1aWxkIG1ldGFkYXRhLlxuXG4vLyBOb3RlIHRoYXQgdGhlIG9ubHkgbWFqb3IsIG1pbm9yLCBwYXRjaCwgYW5kIHByZS1yZWxlYXNlIHNlY3Rpb25zIG9mXG4vLyB0aGUgdmVyc2lvbiBzdHJpbmcgYXJlIGNhcHR1cmluZyBncm91cHMuICBUaGUgYnVpbGQgbWV0YWRhdGEgaXMgbm90IGFcbi8vIGNhcHR1cmluZyBncm91cCwgYmVjYXVzZSBpdCBzaG91bGQgbm90IGV2ZXIgYmUgdXNlZCBpbiB2ZXJzaW9uXG4vLyBjb21wYXJpc29uLlxuXG5jcmVhdGVUb2tlbignRlVMTFBMQUlOJywgYHY/JHtzcmNbdC5NQUlOVkVSU0lPTl1cbn0ke3NyY1t0LlBSRVJFTEVBU0VdfT8ke1xuICBzcmNbdC5CVUlMRF19P2ApXG5cbmNyZWF0ZVRva2VuKCdGVUxMJywgYF4ke3NyY1t0LkZVTExQTEFJTl19JGApXG5cbi8vIGxpa2UgZnVsbCwgYnV0IGFsbG93cyB2MS4yLjMgYW5kID0xLjIuMywgd2hpY2ggcGVvcGxlIGRvIHNvbWV0aW1lcy5cbi8vIGFsc28sIDEuMC4wYWxwaGExIChwcmVyZWxlYXNlIHdpdGhvdXQgdGhlIGh5cGhlbikgd2hpY2ggaXMgcHJldHR5XG4vLyBjb21tb24gaW4gdGhlIG5wbSByZWdpc3RyeS5cbmNyZWF0ZVRva2VuKCdMT09TRVBMQUlOJywgYFt2PVxcXFxzXSoke3NyY1t0Lk1BSU5WRVJTSU9OTE9PU0VdXG59JHtzcmNbdC5QUkVSRUxFQVNFTE9PU0VdfT8ke1xuICBzcmNbdC5CVUlMRF19P2ApXG5cbmNyZWF0ZVRva2VuKCdMT09TRScsIGBeJHtzcmNbdC5MT09TRVBMQUlOXX0kYClcblxuY3JlYXRlVG9rZW4oJ0dUTFQnLCAnKCg/Ojx8Pik/PT8pJylcblxuLy8gU29tZXRoaW5nIGxpa2UgXCIyLipcIiBvciBcIjEuMi54XCIuXG4vLyBOb3RlIHRoYXQgXCJ4LnhcIiBpcyBhIHZhbGlkIHhSYW5nZSBpZGVudGlmZXIsIG1lYW5pbmcgXCJhbnkgdmVyc2lvblwiXG4vLyBPbmx5IHRoZSBmaXJzdCBpdGVtIGlzIHN0cmljdGx5IHJlcXVpcmVkLlxuY3JlYXRlVG9rZW4oJ1hSQU5HRUlERU5USUZJRVJMT09TRScsIGAke3NyY1t0Lk5VTUVSSUNJREVOVElGSUVSTE9PU0VdfXx4fFh8XFxcXCpgKVxuY3JlYXRlVG9rZW4oJ1hSQU5HRUlERU5USUZJRVInLCBgJHtzcmNbdC5OVU1FUklDSURFTlRJRklFUl19fHh8WHxcXFxcKmApXG5cbmNyZWF0ZVRva2VuKCdYUkFOR0VQTEFJTicsIGBbdj1cXFxcc10qKCR7c3JjW3QuWFJBTkdFSURFTlRJRklFUl19KWAgK1xuICAgICAgICAgICAgICAgICAgIGAoPzpcXFxcLigke3NyY1t0LlhSQU5HRUlERU5USUZJRVJdfSlgICtcbiAgICAgICAgICAgICAgICAgICBgKD86XFxcXC4oJHtzcmNbdC5YUkFOR0VJREVOVElGSUVSXX0pYCArXG4gICAgICAgICAgICAgICAgICAgYCg/OiR7c3JjW3QuUFJFUkVMRUFTRV19KT8ke1xuICAgICAgICAgICAgICAgICAgICAgc3JjW3QuQlVJTERdfT9gICtcbiAgICAgICAgICAgICAgICAgICBgKT8pP2ApXG5cbmNyZWF0ZVRva2VuKCdYUkFOR0VQTEFJTkxPT1NFJywgYFt2PVxcXFxzXSooJHtzcmNbdC5YUkFOR0VJREVOVElGSUVSTE9PU0VdfSlgICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGAoPzpcXFxcLigke3NyY1t0LlhSQU5HRUlERU5USUZJRVJMT09TRV19KWAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgYCg/OlxcXFwuKCR7c3JjW3QuWFJBTkdFSURFTlRJRklFUkxPT1NFXX0pYCArXG4gICAgICAgICAgICAgICAgICAgICAgICBgKD86JHtzcmNbdC5QUkVSRUxFQVNFTE9PU0VdfSk/JHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjW3QuQlVJTERdfT9gICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGApPyk/YClcblxuY3JlYXRlVG9rZW4oJ1hSQU5HRScsIGBeJHtzcmNbdC5HVExUXX1cXFxccyoke3NyY1t0LlhSQU5HRVBMQUlOXX0kYClcbmNyZWF0ZVRva2VuKCdYUkFOR0VMT09TRScsIGBeJHtzcmNbdC5HVExUXX1cXFxccyoke3NyY1t0LlhSQU5HRVBMQUlOTE9PU0VdfSRgKVxuXG4vLyBDb2VyY2lvbi5cbi8vIEV4dHJhY3QgYW55dGhpbmcgdGhhdCBjb3VsZCBjb25jZWl2YWJseSBiZSBhIHBhcnQgb2YgYSB2YWxpZCBzZW12ZXJcbmNyZWF0ZVRva2VuKCdDT0VSQ0UnLCBgJHsnKF58W15cXFxcZF0pJyArXG4gICAgICAgICAgICAgICcoXFxcXGR7MSwnfSR7TUFYX1NBRkVfQ09NUE9ORU5UX0xFTkdUSH19KWAgK1xuICAgICAgICAgICAgICBgKD86XFxcXC4oXFxcXGR7MSwke01BWF9TQUZFX0NPTVBPTkVOVF9MRU5HVEh9fSkpP2AgK1xuICAgICAgICAgICAgICBgKD86XFxcXC4oXFxcXGR7MSwke01BWF9TQUZFX0NPTVBPTkVOVF9MRU5HVEh9fSkpP2AgK1xuICAgICAgICAgICAgICBgKD86JHxbXlxcXFxkXSlgKVxuY3JlYXRlVG9rZW4oJ0NPRVJDRVJUTCcsIHNyY1t0LkNPRVJDRV0sIHRydWUpXG5cbi8vIFRpbGRlIHJhbmdlcy5cbi8vIE1lYW5pbmcgaXMgXCJyZWFzb25hYmx5IGF0IG9yIGdyZWF0ZXIgdGhhblwiXG5jcmVhdGVUb2tlbignTE9ORVRJTERFJywgJyg/On4+PyknKVxuXG5jcmVhdGVUb2tlbignVElMREVUUklNJywgYChcXFxccyopJHtzcmNbdC5MT05FVElMREVdfVxcXFxzK2AsIHRydWUpXG5leHBvcnRzLnRpbGRlVHJpbVJlcGxhY2UgPSAnJDF+J1xuXG5jcmVhdGVUb2tlbignVElMREUnLCBgXiR7c3JjW3QuTE9ORVRJTERFXX0ke3NyY1t0LlhSQU5HRVBMQUlOXX0kYClcbmNyZWF0ZVRva2VuKCdUSUxERUxPT1NFJywgYF4ke3NyY1t0LkxPTkVUSUxERV19JHtzcmNbdC5YUkFOR0VQTEFJTkxPT1NFXX0kYClcblxuLy8gQ2FyZXQgcmFuZ2VzLlxuLy8gTWVhbmluZyBpcyBcImF0IGxlYXN0IGFuZCBiYWNrd2FyZHMgY29tcGF0aWJsZSB3aXRoXCJcbmNyZWF0ZVRva2VuKCdMT05FQ0FSRVQnLCAnKD86XFxcXF4pJylcblxuY3JlYXRlVG9rZW4oJ0NBUkVUVFJJTScsIGAoXFxcXHMqKSR7c3JjW3QuTE9ORUNBUkVUXX1cXFxccytgLCB0cnVlKVxuZXhwb3J0cy5jYXJldFRyaW1SZXBsYWNlID0gJyQxXidcblxuY3JlYXRlVG9rZW4oJ0NBUkVUJywgYF4ke3NyY1t0LkxPTkVDQVJFVF19JHtzcmNbdC5YUkFOR0VQTEFJTl19JGApXG5jcmVhdGVUb2tlbignQ0FSRVRMT09TRScsIGBeJHtzcmNbdC5MT05FQ0FSRVRdfSR7c3JjW3QuWFJBTkdFUExBSU5MT09TRV19JGApXG5cbi8vIEEgc2ltcGxlIGd0L2x0L2VxIHRoaW5nLCBvciBqdXN0IFwiXCIgdG8gaW5kaWNhdGUgXCJhbnkgdmVyc2lvblwiXG5jcmVhdGVUb2tlbignQ09NUEFSQVRPUkxPT1NFJywgYF4ke3NyY1t0LkdUTFRdfVxcXFxzKigke3NyY1t0LkxPT1NFUExBSU5dfSkkfF4kYClcbmNyZWF0ZVRva2VuKCdDT01QQVJBVE9SJywgYF4ke3NyY1t0LkdUTFRdfVxcXFxzKigke3NyY1t0LkZVTExQTEFJTl19KSR8XiRgKVxuXG4vLyBBbiBleHByZXNzaW9uIHRvIHN0cmlwIGFueSB3aGl0ZXNwYWNlIGJldHdlZW4gdGhlIGd0bHQgYW5kIHRoZSB0aGluZ1xuLy8gaXQgbW9kaWZpZXMsIHNvIHRoYXQgYD4gMS4yLjNgID09PiBgPjEuMi4zYFxuY3JlYXRlVG9rZW4oJ0NPTVBBUkFUT1JUUklNJywgYChcXFxccyopJHtzcmNbdC5HVExUXVxufVxcXFxzKigke3NyY1t0LkxPT1NFUExBSU5dfXwke3NyY1t0LlhSQU5HRVBMQUlOXX0pYCwgdHJ1ZSlcbmV4cG9ydHMuY29tcGFyYXRvclRyaW1SZXBsYWNlID0gJyQxJDIkMydcblxuLy8gU29tZXRoaW5nIGxpa2UgYDEuMi4zIC0gMS4yLjRgXG4vLyBOb3RlIHRoYXQgdGhlc2UgYWxsIHVzZSB0aGUgbG9vc2UgZm9ybSwgYmVjYXVzZSB0aGV5J2xsIGJlXG4vLyBjaGVja2VkIGFnYWluc3QgZWl0aGVyIHRoZSBzdHJpY3Qgb3IgbG9vc2UgY29tcGFyYXRvciBmb3JtXG4vLyBsYXRlci5cbmNyZWF0ZVRva2VuKCdIWVBIRU5SQU5HRScsIGBeXFxcXHMqKCR7c3JjW3QuWFJBTkdFUExBSU5dfSlgICtcbiAgICAgICAgICAgICAgICAgICBgXFxcXHMrLVxcXFxzK2AgK1xuICAgICAgICAgICAgICAgICAgIGAoJHtzcmNbdC5YUkFOR0VQTEFJTl19KWAgK1xuICAgICAgICAgICAgICAgICAgIGBcXFxccyokYClcblxuY3JlYXRlVG9rZW4oJ0hZUEhFTlJBTkdFTE9PU0UnLCBgXlxcXFxzKigke3NyY1t0LlhSQU5HRVBMQUlOTE9PU0VdfSlgICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGBcXFxccystXFxcXHMrYCArXG4gICAgICAgICAgICAgICAgICAgICAgICBgKCR7c3JjW3QuWFJBTkdFUExBSU5MT09TRV19KWAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgYFxcXFxzKiRgKVxuXG4vLyBTdGFyIHJhbmdlcyBiYXNpY2FsbHkganVzdCBhbGxvdyBhbnl0aGluZyBhdCBhbGwuXG5jcmVhdGVUb2tlbignU1RBUicsICcoPHw+KT89P1xcXFxzKlxcXFwqJylcbi8vID49MC4wLjAgaXMgbGlrZSBhIHN0YXJcbmNyZWF0ZVRva2VuKCdHVEUwJywgJ15cXFxccyo+PVxcXFxzKjBcXFxcLjBcXFxcLjBcXFxccyokJylcbmNyZWF0ZVRva2VuKCdHVEUwUFJFJywgJ15cXFxccyo+PVxcXFxzKjBcXFxcLjBcXFxcLjAtMFxcXFxzKiQnKVxuIiwgIi8vIHBhcnNlIG91dCBqdXN0IHRoZSBvcHRpb25zIHdlIGNhcmUgYWJvdXQgc28gd2UgYWx3YXlzIGdldCBhIGNvbnNpc3RlbnRcbi8vIG9iaiB3aXRoIGtleXMgaW4gYSBjb25zaXN0ZW50IG9yZGVyLlxuY29uc3Qgb3B0cyA9IFsnaW5jbHVkZVByZXJlbGVhc2UnLCAnbG9vc2UnLCAncnRsJ11cbmNvbnN0IHBhcnNlT3B0aW9ucyA9IG9wdGlvbnMgPT5cbiAgIW9wdGlvbnMgPyB7fVxuICA6IHR5cGVvZiBvcHRpb25zICE9PSAnb2JqZWN0JyA/IHsgbG9vc2U6IHRydWUgfVxuICA6IG9wdHMuZmlsdGVyKGsgPT4gb3B0aW9uc1trXSkucmVkdWNlKChvLCBrKSA9PiB7XG4gICAgb1trXSA9IHRydWVcbiAgICByZXR1cm4gb1xuICB9LCB7fSlcbm1vZHVsZS5leHBvcnRzID0gcGFyc2VPcHRpb25zXG4iLCAiY29uc3QgbnVtZXJpYyA9IC9eWzAtOV0rJC9cbmNvbnN0IGNvbXBhcmVJZGVudGlmaWVycyA9IChhLCBiKSA9PiB7XG4gIGNvbnN0IGFudW0gPSBudW1lcmljLnRlc3QoYSlcbiAgY29uc3QgYm51bSA9IG51bWVyaWMudGVzdChiKVxuXG4gIGlmIChhbnVtICYmIGJudW0pIHtcbiAgICBhID0gK2FcbiAgICBiID0gK2JcbiAgfVxuXG4gIHJldHVybiBhID09PSBiID8gMFxuICAgIDogKGFudW0gJiYgIWJudW0pID8gLTFcbiAgICA6IChibnVtICYmICFhbnVtKSA/IDFcbiAgICA6IGEgPCBiID8gLTFcbiAgICA6IDFcbn1cblxuY29uc3QgcmNvbXBhcmVJZGVudGlmaWVycyA9IChhLCBiKSA9PiBjb21wYXJlSWRlbnRpZmllcnMoYiwgYSlcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGNvbXBhcmVJZGVudGlmaWVycyxcbiAgcmNvbXBhcmVJZGVudGlmaWVycyxcbn1cbiIsICJjb25zdCBkZWJ1ZyA9IHJlcXVpcmUoJy4uL2ludGVybmFsL2RlYnVnJylcbmNvbnN0IHsgTUFYX0xFTkdUSCwgTUFYX1NBRkVfSU5URUdFUiB9ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWwvY29uc3RhbnRzJylcbmNvbnN0IHsgcmUsIHQgfSA9IHJlcXVpcmUoJy4uL2ludGVybmFsL3JlJylcblxuY29uc3QgcGFyc2VPcHRpb25zID0gcmVxdWlyZSgnLi4vaW50ZXJuYWwvcGFyc2Utb3B0aW9ucycpXG5jb25zdCB7IGNvbXBhcmVJZGVudGlmaWVycyB9ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWwvaWRlbnRpZmllcnMnKVxuY2xhc3MgU2VtVmVyIHtcbiAgY29uc3RydWN0b3IgKHZlcnNpb24sIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gcGFyc2VPcHRpb25zKG9wdGlvbnMpXG5cbiAgICBpZiAodmVyc2lvbiBpbnN0YW5jZW9mIFNlbVZlcikge1xuICAgICAgaWYgKHZlcnNpb24ubG9vc2UgPT09ICEhb3B0aW9ucy5sb29zZSAmJlxuICAgICAgICAgIHZlcnNpb24uaW5jbHVkZVByZXJlbGVhc2UgPT09ICEhb3B0aW9ucy5pbmNsdWRlUHJlcmVsZWFzZSkge1xuICAgICAgICByZXR1cm4gdmVyc2lvblxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmVyc2lvbiA9IHZlcnNpb24udmVyc2lvblxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodHlwZW9mIHZlcnNpb24gIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBJbnZhbGlkIFZlcnNpb246ICR7dmVyc2lvbn1gKVxuICAgIH1cblxuICAgIGlmICh2ZXJzaW9uLmxlbmd0aCA+IE1BWF9MRU5HVEgpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgIGB2ZXJzaW9uIGlzIGxvbmdlciB0aGFuICR7TUFYX0xFTkdUSH0gY2hhcmFjdGVyc2BcbiAgICAgIClcbiAgICB9XG5cbiAgICBkZWJ1ZygnU2VtVmVyJywgdmVyc2lvbiwgb3B0aW9ucylcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zXG4gICAgdGhpcy5sb29zZSA9ICEhb3B0aW9ucy5sb29zZVxuICAgIC8vIHRoaXMgaXNuJ3QgYWN0dWFsbHkgcmVsZXZhbnQgZm9yIHZlcnNpb25zLCBidXQga2VlcCBpdCBzbyB0aGF0IHdlXG4gICAgLy8gZG9uJ3QgcnVuIGludG8gdHJvdWJsZSBwYXNzaW5nIHRoaXMub3B0aW9ucyBhcm91bmQuXG4gICAgdGhpcy5pbmNsdWRlUHJlcmVsZWFzZSA9ICEhb3B0aW9ucy5pbmNsdWRlUHJlcmVsZWFzZVxuXG4gICAgY29uc3QgbSA9IHZlcnNpb24udHJpbSgpLm1hdGNoKG9wdGlvbnMubG9vc2UgPyByZVt0LkxPT1NFXSA6IHJlW3QuRlVMTF0pXG5cbiAgICBpZiAoIW0pIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYEludmFsaWQgVmVyc2lvbjogJHt2ZXJzaW9ufWApXG4gICAgfVxuXG4gICAgdGhpcy5yYXcgPSB2ZXJzaW9uXG5cbiAgICAvLyB0aGVzZSBhcmUgYWN0dWFsbHkgbnVtYmVyc1xuICAgIHRoaXMubWFqb3IgPSArbVsxXVxuICAgIHRoaXMubWlub3IgPSArbVsyXVxuICAgIHRoaXMucGF0Y2ggPSArbVszXVxuXG4gICAgaWYgKHRoaXMubWFqb3IgPiBNQVhfU0FGRV9JTlRFR0VSIHx8IHRoaXMubWFqb3IgPCAwKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIG1ham9yIHZlcnNpb24nKVxuICAgIH1cblxuICAgIGlmICh0aGlzLm1pbm9yID4gTUFYX1NBRkVfSU5URUdFUiB8fCB0aGlzLm1pbm9yIDwgMCkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBtaW5vciB2ZXJzaW9uJylcbiAgICB9XG5cbiAgICBpZiAodGhpcy5wYXRjaCA+IE1BWF9TQUZFX0lOVEVHRVIgfHwgdGhpcy5wYXRjaCA8IDApIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgcGF0Y2ggdmVyc2lvbicpXG4gICAgfVxuXG4gICAgLy8gbnVtYmVyaWZ5IGFueSBwcmVyZWxlYXNlIG51bWVyaWMgaWRzXG4gICAgaWYgKCFtWzRdKSB7XG4gICAgICB0aGlzLnByZXJlbGVhc2UgPSBbXVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnByZXJlbGVhc2UgPSBtWzRdLnNwbGl0KCcuJykubWFwKChpZCkgPT4ge1xuICAgICAgICBpZiAoL15bMC05XSskLy50ZXN0KGlkKSkge1xuICAgICAgICAgIGNvbnN0IG51bSA9ICtpZFxuICAgICAgICAgIGlmIChudW0gPj0gMCAmJiBudW0gPCBNQVhfU0FGRV9JTlRFR0VSKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVtXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpZFxuICAgICAgfSlcbiAgICB9XG5cbiAgICB0aGlzLmJ1aWxkID0gbVs1XSA/IG1bNV0uc3BsaXQoJy4nKSA6IFtdXG4gICAgdGhpcy5mb3JtYXQoKVxuICB9XG5cbiAgZm9ybWF0ICgpIHtcbiAgICB0aGlzLnZlcnNpb24gPSBgJHt0aGlzLm1ham9yfS4ke3RoaXMubWlub3J9LiR7dGhpcy5wYXRjaH1gXG4gICAgaWYgKHRoaXMucHJlcmVsZWFzZS5sZW5ndGgpIHtcbiAgICAgIHRoaXMudmVyc2lvbiArPSBgLSR7dGhpcy5wcmVyZWxlYXNlLmpvaW4oJy4nKX1gXG4gICAgfVxuICAgIHJldHVybiB0aGlzLnZlcnNpb25cbiAgfVxuXG4gIHRvU3RyaW5nICgpIHtcbiAgICByZXR1cm4gdGhpcy52ZXJzaW9uXG4gIH1cblxuICBjb21wYXJlIChvdGhlcikge1xuICAgIGRlYnVnKCdTZW1WZXIuY29tcGFyZScsIHRoaXMudmVyc2lvbiwgdGhpcy5vcHRpb25zLCBvdGhlcilcbiAgICBpZiAoIShvdGhlciBpbnN0YW5jZW9mIFNlbVZlcikpIHtcbiAgICAgIGlmICh0eXBlb2Ygb3RoZXIgPT09ICdzdHJpbmcnICYmIG90aGVyID09PSB0aGlzLnZlcnNpb24pIHtcbiAgICAgICAgcmV0dXJuIDBcbiAgICAgIH1cbiAgICAgIG90aGVyID0gbmV3IFNlbVZlcihvdGhlciwgdGhpcy5vcHRpb25zKVxuICAgIH1cblxuICAgIGlmIChvdGhlci52ZXJzaW9uID09PSB0aGlzLnZlcnNpb24pIHtcbiAgICAgIHJldHVybiAwXG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuY29tcGFyZU1haW4ob3RoZXIpIHx8IHRoaXMuY29tcGFyZVByZShvdGhlcilcbiAgfVxuXG4gIGNvbXBhcmVNYWluIChvdGhlcikge1xuICAgIGlmICghKG90aGVyIGluc3RhbmNlb2YgU2VtVmVyKSkge1xuICAgICAgb3RoZXIgPSBuZXcgU2VtVmVyKG90aGVyLCB0aGlzLm9wdGlvbnMpXG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIGNvbXBhcmVJZGVudGlmaWVycyh0aGlzLm1ham9yLCBvdGhlci5tYWpvcikgfHxcbiAgICAgIGNvbXBhcmVJZGVudGlmaWVycyh0aGlzLm1pbm9yLCBvdGhlci5taW5vcikgfHxcbiAgICAgIGNvbXBhcmVJZGVudGlmaWVycyh0aGlzLnBhdGNoLCBvdGhlci5wYXRjaClcbiAgICApXG4gIH1cblxuICBjb21wYXJlUHJlIChvdGhlcikge1xuICAgIGlmICghKG90aGVyIGluc3RhbmNlb2YgU2VtVmVyKSkge1xuICAgICAgb3RoZXIgPSBuZXcgU2VtVmVyKG90aGVyLCB0aGlzLm9wdGlvbnMpXG4gICAgfVxuXG4gICAgLy8gTk9UIGhhdmluZyBhIHByZXJlbGVhc2UgaXMgPiBoYXZpbmcgb25lXG4gICAgaWYgKHRoaXMucHJlcmVsZWFzZS5sZW5ndGggJiYgIW90aGVyLnByZXJlbGVhc2UubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gLTFcbiAgICB9IGVsc2UgaWYgKCF0aGlzLnByZXJlbGVhc2UubGVuZ3RoICYmIG90aGVyLnByZXJlbGVhc2UubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gMVxuICAgIH0gZWxzZSBpZiAoIXRoaXMucHJlcmVsZWFzZS5sZW5ndGggJiYgIW90aGVyLnByZXJlbGVhc2UubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gMFxuICAgIH1cblxuICAgIGxldCBpID0gMFxuICAgIGRvIHtcbiAgICAgIGNvbnN0IGEgPSB0aGlzLnByZXJlbGVhc2VbaV1cbiAgICAgIGNvbnN0IGIgPSBvdGhlci5wcmVyZWxlYXNlW2ldXG4gICAgICBkZWJ1ZygncHJlcmVsZWFzZSBjb21wYXJlJywgaSwgYSwgYilcbiAgICAgIGlmIChhID09PSB1bmRlZmluZWQgJiYgYiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiAwXG4gICAgICB9IGVsc2UgaWYgKGIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gMVxuICAgICAgfSBlbHNlIGlmIChhID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIC0xXG4gICAgICB9IGVsc2UgaWYgKGEgPT09IGIpIHtcbiAgICAgICAgY29udGludWVcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBjb21wYXJlSWRlbnRpZmllcnMoYSwgYilcbiAgICAgIH1cbiAgICB9IHdoaWxlICgrK2kpXG4gIH1cblxuICBjb21wYXJlQnVpbGQgKG90aGVyKSB7XG4gICAgaWYgKCEob3RoZXIgaW5zdGFuY2VvZiBTZW1WZXIpKSB7XG4gICAgICBvdGhlciA9IG5ldyBTZW1WZXIob3RoZXIsIHRoaXMub3B0aW9ucylcbiAgICB9XG5cbiAgICBsZXQgaSA9IDBcbiAgICBkbyB7XG4gICAgICBjb25zdCBhID0gdGhpcy5idWlsZFtpXVxuICAgICAgY29uc3QgYiA9IG90aGVyLmJ1aWxkW2ldXG4gICAgICBkZWJ1ZygncHJlcmVsZWFzZSBjb21wYXJlJywgaSwgYSwgYilcbiAgICAgIGlmIChhID09PSB1bmRlZmluZWQgJiYgYiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiAwXG4gICAgICB9IGVsc2UgaWYgKGIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gMVxuICAgICAgfSBlbHNlIGlmIChhID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIC0xXG4gICAgICB9IGVsc2UgaWYgKGEgPT09IGIpIHtcbiAgICAgICAgY29udGludWVcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBjb21wYXJlSWRlbnRpZmllcnMoYSwgYilcbiAgICAgIH1cbiAgICB9IHdoaWxlICgrK2kpXG4gIH1cblxuICAvLyBwcmVtaW5vciB3aWxsIGJ1bXAgdGhlIHZlcnNpb24gdXAgdG8gdGhlIG5leHQgbWlub3IgcmVsZWFzZSwgYW5kIGltbWVkaWF0ZWx5XG4gIC8vIGRvd24gdG8gcHJlLXJlbGVhc2UuIHByZW1ham9yIGFuZCBwcmVwYXRjaCB3b3JrIHRoZSBzYW1lIHdheS5cbiAgaW5jIChyZWxlYXNlLCBpZGVudGlmaWVyKSB7XG4gICAgc3dpdGNoIChyZWxlYXNlKSB7XG4gICAgICBjYXNlICdwcmVtYWpvcic6XG4gICAgICAgIHRoaXMucHJlcmVsZWFzZS5sZW5ndGggPSAwXG4gICAgICAgIHRoaXMucGF0Y2ggPSAwXG4gICAgICAgIHRoaXMubWlub3IgPSAwXG4gICAgICAgIHRoaXMubWFqb3IrK1xuICAgICAgICB0aGlzLmluYygncHJlJywgaWRlbnRpZmllcilcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ3ByZW1pbm9yJzpcbiAgICAgICAgdGhpcy5wcmVyZWxlYXNlLmxlbmd0aCA9IDBcbiAgICAgICAgdGhpcy5wYXRjaCA9IDBcbiAgICAgICAgdGhpcy5taW5vcisrXG4gICAgICAgIHRoaXMuaW5jKCdwcmUnLCBpZGVudGlmaWVyKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAncHJlcGF0Y2gnOlxuICAgICAgICAvLyBJZiB0aGlzIGlzIGFscmVhZHkgYSBwcmVyZWxlYXNlLCBpdCB3aWxsIGJ1bXAgdG8gdGhlIG5leHQgdmVyc2lvblxuICAgICAgICAvLyBkcm9wIGFueSBwcmVyZWxlYXNlcyB0aGF0IG1pZ2h0IGFscmVhZHkgZXhpc3QsIHNpbmNlIHRoZXkgYXJlIG5vdFxuICAgICAgICAvLyByZWxldmFudCBhdCB0aGlzIHBvaW50LlxuICAgICAgICB0aGlzLnByZXJlbGVhc2UubGVuZ3RoID0gMFxuICAgICAgICB0aGlzLmluYygncGF0Y2gnLCBpZGVudGlmaWVyKVxuICAgICAgICB0aGlzLmluYygncHJlJywgaWRlbnRpZmllcilcbiAgICAgICAgYnJlYWtcbiAgICAgIC8vIElmIHRoZSBpbnB1dCBpcyBhIG5vbi1wcmVyZWxlYXNlIHZlcnNpb24sIHRoaXMgYWN0cyB0aGUgc2FtZSBhc1xuICAgICAgLy8gcHJlcGF0Y2guXG4gICAgICBjYXNlICdwcmVyZWxlYXNlJzpcbiAgICAgICAgaWYgKHRoaXMucHJlcmVsZWFzZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICB0aGlzLmluYygncGF0Y2gnLCBpZGVudGlmaWVyKVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW5jKCdwcmUnLCBpZGVudGlmaWVyKVxuICAgICAgICBicmVha1xuXG4gICAgICBjYXNlICdtYWpvcic6XG4gICAgICAgIC8vIElmIHRoaXMgaXMgYSBwcmUtbWFqb3IgdmVyc2lvbiwgYnVtcCB1cCB0byB0aGUgc2FtZSBtYWpvciB2ZXJzaW9uLlxuICAgICAgICAvLyBPdGhlcndpc2UgaW5jcmVtZW50IG1ham9yLlxuICAgICAgICAvLyAxLjAuMC01IGJ1bXBzIHRvIDEuMC4wXG4gICAgICAgIC8vIDEuMS4wIGJ1bXBzIHRvIDIuMC4wXG4gICAgICAgIGlmIChcbiAgICAgICAgICB0aGlzLm1pbm9yICE9PSAwIHx8XG4gICAgICAgICAgdGhpcy5wYXRjaCAhPT0gMCB8fFxuICAgICAgICAgIHRoaXMucHJlcmVsZWFzZS5sZW5ndGggPT09IDBcbiAgICAgICAgKSB7XG4gICAgICAgICAgdGhpcy5tYWpvcisrXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5taW5vciA9IDBcbiAgICAgICAgdGhpcy5wYXRjaCA9IDBcbiAgICAgICAgdGhpcy5wcmVyZWxlYXNlID0gW11cbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ21pbm9yJzpcbiAgICAgICAgLy8gSWYgdGhpcyBpcyBhIHByZS1taW5vciB2ZXJzaW9uLCBidW1wIHVwIHRvIHRoZSBzYW1lIG1pbm9yIHZlcnNpb24uXG4gICAgICAgIC8vIE90aGVyd2lzZSBpbmNyZW1lbnQgbWlub3IuXG4gICAgICAgIC8vIDEuMi4wLTUgYnVtcHMgdG8gMS4yLjBcbiAgICAgICAgLy8gMS4yLjEgYnVtcHMgdG8gMS4zLjBcbiAgICAgICAgaWYgKHRoaXMucGF0Y2ggIT09IDAgfHwgdGhpcy5wcmVyZWxlYXNlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHRoaXMubWlub3IrK1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucGF0Y2ggPSAwXG4gICAgICAgIHRoaXMucHJlcmVsZWFzZSA9IFtdXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdwYXRjaCc6XG4gICAgICAgIC8vIElmIHRoaXMgaXMgbm90IGEgcHJlLXJlbGVhc2UgdmVyc2lvbiwgaXQgd2lsbCBpbmNyZW1lbnQgdGhlIHBhdGNoLlxuICAgICAgICAvLyBJZiBpdCBpcyBhIHByZS1yZWxlYXNlIGl0IHdpbGwgYnVtcCB1cCB0byB0aGUgc2FtZSBwYXRjaCB2ZXJzaW9uLlxuICAgICAgICAvLyAxLjIuMC01IHBhdGNoZXMgdG8gMS4yLjBcbiAgICAgICAgLy8gMS4yLjAgcGF0Y2hlcyB0byAxLjIuMVxuICAgICAgICBpZiAodGhpcy5wcmVyZWxlYXNlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHRoaXMucGF0Y2grK1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucHJlcmVsZWFzZSA9IFtdXG4gICAgICAgIGJyZWFrXG4gICAgICAvLyBUaGlzIHByb2JhYmx5IHNob3VsZG4ndCBiZSB1c2VkIHB1YmxpY2x5LlxuICAgICAgLy8gMS4wLjAgJ3ByZScgd291bGQgYmVjb21lIDEuMC4wLTAgd2hpY2ggaXMgdGhlIHdyb25nIGRpcmVjdGlvbi5cbiAgICAgIGNhc2UgJ3ByZSc6XG4gICAgICAgIGlmICh0aGlzLnByZXJlbGVhc2UubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgdGhpcy5wcmVyZWxlYXNlID0gWzBdXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbGV0IGkgPSB0aGlzLnByZXJlbGVhc2UubGVuZ3RoXG4gICAgICAgICAgd2hpbGUgKC0taSA+PSAwKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMucHJlcmVsZWFzZVtpXSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgdGhpcy5wcmVyZWxlYXNlW2ldKytcbiAgICAgICAgICAgICAgaSA9IC0yXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpID09PSAtMSkge1xuICAgICAgICAgICAgLy8gZGlkbid0IGluY3JlbWVudCBhbnl0aGluZ1xuICAgICAgICAgICAgdGhpcy5wcmVyZWxlYXNlLnB1c2goMClcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlkZW50aWZpZXIpIHtcbiAgICAgICAgICAvLyAxLjIuMC1iZXRhLjEgYnVtcHMgdG8gMS4yLjAtYmV0YS4yLFxuICAgICAgICAgIC8vIDEuMi4wLWJldGEuZm9vYmx6IG9yIDEuMi4wLWJldGEgYnVtcHMgdG8gMS4yLjAtYmV0YS4wXG4gICAgICAgICAgaWYgKGNvbXBhcmVJZGVudGlmaWVycyh0aGlzLnByZXJlbGVhc2VbMF0sIGlkZW50aWZpZXIpID09PSAwKSB7XG4gICAgICAgICAgICBpZiAoaXNOYU4odGhpcy5wcmVyZWxlYXNlWzFdKSkge1xuICAgICAgICAgICAgICB0aGlzLnByZXJlbGVhc2UgPSBbaWRlbnRpZmllciwgMF1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5wcmVyZWxlYXNlID0gW2lkZW50aWZpZXIsIDBdXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrXG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgaW52YWxpZCBpbmNyZW1lbnQgYXJndW1lbnQ6ICR7cmVsZWFzZX1gKVxuICAgIH1cbiAgICB0aGlzLmZvcm1hdCgpXG4gICAgdGhpcy5yYXcgPSB0aGlzLnZlcnNpb25cbiAgICByZXR1cm4gdGhpc1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gU2VtVmVyXG4iLCAiY29uc3QgeyBNQVhfTEVOR1RIIH0gPSByZXF1aXJlKCcuLi9pbnRlcm5hbC9jb25zdGFudHMnKVxuY29uc3QgeyByZSwgdCB9ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWwvcmUnKVxuY29uc3QgU2VtVmVyID0gcmVxdWlyZSgnLi4vY2xhc3Nlcy9zZW12ZXInKVxuXG5jb25zdCBwYXJzZU9wdGlvbnMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbC9wYXJzZS1vcHRpb25zJylcbmNvbnN0IHBhcnNlID0gKHZlcnNpb24sIG9wdGlvbnMpID0+IHtcbiAgb3B0aW9ucyA9IHBhcnNlT3B0aW9ucyhvcHRpb25zKVxuXG4gIGlmICh2ZXJzaW9uIGluc3RhbmNlb2YgU2VtVmVyKSB7XG4gICAgcmV0dXJuIHZlcnNpb25cbiAgfVxuXG4gIGlmICh0eXBlb2YgdmVyc2lvbiAhPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgaWYgKHZlcnNpb24ubGVuZ3RoID4gTUFYX0xFTkdUSCkge1xuICAgIHJldHVybiBudWxsXG4gIH1cblxuICBjb25zdCByID0gb3B0aW9ucy5sb29zZSA/IHJlW3QuTE9PU0VdIDogcmVbdC5GVUxMXVxuICBpZiAoIXIudGVzdCh2ZXJzaW9uKSkge1xuICAgIHJldHVybiBudWxsXG4gIH1cblxuICB0cnkge1xuICAgIHJldHVybiBuZXcgU2VtVmVyKHZlcnNpb24sIG9wdGlvbnMpXG4gIH0gY2F0Y2ggKGVyKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHBhcnNlXG4iLCAiY29uc3QgcGFyc2UgPSByZXF1aXJlKCcuL3BhcnNlJylcbmNvbnN0IHZhbGlkID0gKHZlcnNpb24sIG9wdGlvbnMpID0+IHtcbiAgY29uc3QgdiA9IHBhcnNlKHZlcnNpb24sIG9wdGlvbnMpXG4gIHJldHVybiB2ID8gdi52ZXJzaW9uIDogbnVsbFxufVxubW9kdWxlLmV4cG9ydHMgPSB2YWxpZFxuIiwgImNvbnN0IHBhcnNlID0gcmVxdWlyZSgnLi9wYXJzZScpXG5jb25zdCBjbGVhbiA9ICh2ZXJzaW9uLCBvcHRpb25zKSA9PiB7XG4gIGNvbnN0IHMgPSBwYXJzZSh2ZXJzaW9uLnRyaW0oKS5yZXBsYWNlKC9eWz12XSsvLCAnJyksIG9wdGlvbnMpXG4gIHJldHVybiBzID8gcy52ZXJzaW9uIDogbnVsbFxufVxubW9kdWxlLmV4cG9ydHMgPSBjbGVhblxuIiwgIid1c2Ugc3RyaWN0J1xuXG52YXIgbGljZW5zZXMgPSBbXVxuICAuY29uY2F0KHJlcXVpcmUoJ3NwZHgtbGljZW5zZS1pZHMnKSlcbiAgLmNvbmNhdChyZXF1aXJlKCdzcGR4LWxpY2Vuc2UtaWRzL2RlcHJlY2F0ZWQnKSlcbnZhciBleGNlcHRpb25zID0gcmVxdWlyZSgnc3BkeC1leGNlcHRpb25zJylcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoc291cmNlKSB7XG4gIHZhciBpbmRleCA9IDBcblxuICBmdW5jdGlvbiBoYXNNb3JlICgpIHtcbiAgICByZXR1cm4gaW5kZXggPCBzb3VyY2UubGVuZ3RoXG4gIH1cblxuICAvLyBgdmFsdWVgIGNhbiBiZSBhIHJlZ2V4cCBvciBhIHN0cmluZy5cbiAgLy8gSWYgaXQgaXMgcmVjb2duaXplZCwgdGhlIG1hdGNoaW5nIHNvdXJjZSBzdHJpbmcgaXMgcmV0dXJuZWQgYW5kXG4gIC8vIHRoZSBpbmRleCBpcyBpbmNyZW1lbnRlZC4gT3RoZXJ3aXNlIGB1bmRlZmluZWRgIGlzIHJldHVybmVkLlxuICBmdW5jdGlvbiByZWFkICh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFJlZ0V4cCkge1xuICAgICAgdmFyIGNoYXJzID0gc291cmNlLnNsaWNlKGluZGV4KVxuICAgICAgdmFyIG1hdGNoID0gY2hhcnMubWF0Y2godmFsdWUpXG4gICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgaW5kZXggKz0gbWF0Y2hbMF0ubGVuZ3RoXG4gICAgICAgIHJldHVybiBtYXRjaFswXVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoc291cmNlLmluZGV4T2YodmFsdWUsIGluZGV4KSA9PT0gaW5kZXgpIHtcbiAgICAgICAgaW5kZXggKz0gdmFsdWUubGVuZ3RoXG4gICAgICAgIHJldHVybiB2YWx1ZVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNraXBXaGl0ZXNwYWNlICgpIHtcbiAgICByZWFkKC9bIF0qLylcbiAgfVxuXG4gIGZ1bmN0aW9uIG9wZXJhdG9yICgpIHtcbiAgICB2YXIgc3RyaW5nXG4gICAgdmFyIHBvc3NpYmlsaXRpZXMgPSBbJ1dJVEgnLCAnQU5EJywgJ09SJywgJygnLCAnKScsICc6JywgJysnXVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcG9zc2liaWxpdGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgc3RyaW5nID0gcmVhZChwb3NzaWJpbGl0aWVzW2ldKVxuICAgICAgaWYgKHN0cmluZykge1xuICAgICAgICBicmVha1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzdHJpbmcgPT09ICcrJyAmJiBpbmRleCA+IDEgJiYgc291cmNlW2luZGV4IC0gMl0gPT09ICcgJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdTcGFjZSBiZWZvcmUgYCtgJylcbiAgICB9XG5cbiAgICByZXR1cm4gc3RyaW5nICYmIHtcbiAgICAgIHR5cGU6ICdPUEVSQVRPUicsXG4gICAgICBzdHJpbmc6IHN0cmluZ1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGlkc3RyaW5nICgpIHtcbiAgICByZXR1cm4gcmVhZCgvW0EtWmEtejAtOS0uXSsvKVxuICB9XG5cbiAgZnVuY3Rpb24gZXhwZWN0SWRzdHJpbmcgKCkge1xuICAgIHZhciBzdHJpbmcgPSBpZHN0cmluZygpXG4gICAgaWYgKCFzdHJpbmcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgaWRzdHJpbmcgYXQgb2Zmc2V0ICcgKyBpbmRleClcbiAgICB9XG4gICAgcmV0dXJuIHN0cmluZ1xuICB9XG5cbiAgZnVuY3Rpb24gZG9jdW1lbnRSZWYgKCkge1xuICAgIGlmIChyZWFkKCdEb2N1bWVudFJlZi0nKSkge1xuICAgICAgdmFyIHN0cmluZyA9IGV4cGVjdElkc3RyaW5nKClcbiAgICAgIHJldHVybiB7IHR5cGU6ICdET0NVTUVOVFJFRicsIHN0cmluZzogc3RyaW5nIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBsaWNlbnNlUmVmICgpIHtcbiAgICBpZiAocmVhZCgnTGljZW5zZVJlZi0nKSkge1xuICAgICAgdmFyIHN0cmluZyA9IGV4cGVjdElkc3RyaW5nKClcbiAgICAgIHJldHVybiB7IHR5cGU6ICdMSUNFTlNFUkVGJywgc3RyaW5nOiBzdHJpbmcgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGlkZW50aWZpZXIgKCkge1xuICAgIHZhciBiZWdpbiA9IGluZGV4XG4gICAgdmFyIHN0cmluZyA9IGlkc3RyaW5nKClcblxuICAgIGlmIChsaWNlbnNlcy5pbmRleE9mKHN0cmluZykgIT09IC0xKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiAnTElDRU5TRScsXG4gICAgICAgIHN0cmluZzogc3RyaW5nXG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChleGNlcHRpb25zLmluZGV4T2Yoc3RyaW5nKSAhPT0gLTEpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6ICdFWENFUFRJT04nLFxuICAgICAgICBzdHJpbmc6IHN0cmluZ1xuICAgICAgfVxuICAgIH1cblxuICAgIGluZGV4ID0gYmVnaW5cbiAgfVxuXG4gIC8vIFRyaWVzIHRvIHJlYWQgdGhlIG5leHQgdG9rZW4uIFJldHVybnMgYHVuZGVmaW5lZGAgaWYgbm8gdG9rZW4gaXNcbiAgLy8gcmVjb2duaXplZC5cbiAgZnVuY3Rpb24gcGFyc2VUb2tlbiAoKSB7XG4gICAgLy8gT3JkZXJpbmcgbWF0dGVyc1xuICAgIHJldHVybiAoXG4gICAgICBvcGVyYXRvcigpIHx8XG4gICAgICBkb2N1bWVudFJlZigpIHx8XG4gICAgICBsaWNlbnNlUmVmKCkgfHxcbiAgICAgIGlkZW50aWZpZXIoKVxuICAgIClcbiAgfVxuXG4gIHZhciB0b2tlbnMgPSBbXVxuICB3aGlsZSAoaGFzTW9yZSgpKSB7XG4gICAgc2tpcFdoaXRlc3BhY2UoKVxuICAgIGlmICghaGFzTW9yZSgpKSB7XG4gICAgICBicmVha1xuICAgIH1cblxuICAgIHZhciB0b2tlbiA9IHBhcnNlVG9rZW4oKVxuICAgIGlmICghdG9rZW4pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVW5leHBlY3RlZCBgJyArIHNvdXJjZVtpbmRleF0gK1xuICAgICAgICAgICAgICAgICAgICAgICdgIGF0IG9mZnNldCAnICsgaW5kZXgpXG4gICAgfVxuXG4gICAgdG9rZW5zLnB1c2godG9rZW4pXG4gIH1cbiAgcmV0dXJuIHRva2Vuc1xufVxuIiwgIid1c2Ugc3RyaWN0J1xuXG4vLyBUaGUgQUJORiBncmFtbWFyIGluIHRoZSBzcGVjIGlzIHRvdGFsbHkgYW1iaWd1b3VzLlxuLy9cbi8vIFRoaXMgcGFyc2VyIGZvbGxvd3MgdGhlIG9wZXJhdG9yIHByZWNlZGVuY2UgZGVmaW5lZCBpbiB0aGVcbi8vIGBPcmRlciBvZiBQcmVjZWRlbmNlIGFuZCBQYXJlbnRoZXNlc2Agc2VjdGlvbi5cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodG9rZW5zKSB7XG4gIHZhciBpbmRleCA9IDBcblxuICBmdW5jdGlvbiBoYXNNb3JlICgpIHtcbiAgICByZXR1cm4gaW5kZXggPCB0b2tlbnMubGVuZ3RoXG4gIH1cblxuICBmdW5jdGlvbiB0b2tlbiAoKSB7XG4gICAgcmV0dXJuIGhhc01vcmUoKSA/IHRva2Vuc1tpbmRleF0gOiBudWxsXG4gIH1cblxuICBmdW5jdGlvbiBuZXh0ICgpIHtcbiAgICBpZiAoIWhhc01vcmUoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKClcbiAgICB9XG4gICAgaW5kZXgrK1xuICB9XG5cbiAgZnVuY3Rpb24gcGFyc2VPcGVyYXRvciAob3BlcmF0b3IpIHtcbiAgICB2YXIgdCA9IHRva2VuKClcbiAgICBpZiAodCAmJiB0LnR5cGUgPT09ICdPUEVSQVRPUicgJiYgb3BlcmF0b3IgPT09IHQuc3RyaW5nKSB7XG4gICAgICBuZXh0KClcbiAgICAgIHJldHVybiB0LnN0cmluZ1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHBhcnNlV2l0aCAoKSB7XG4gICAgaWYgKHBhcnNlT3BlcmF0b3IoJ1dJVEgnKSkge1xuICAgICAgdmFyIHQgPSB0b2tlbigpXG4gICAgICBpZiAodCAmJiB0LnR5cGUgPT09ICdFWENFUFRJT04nKSB7XG4gICAgICAgIG5leHQoKVxuICAgICAgICByZXR1cm4gdC5zdHJpbmdcbiAgICAgIH1cbiAgICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgZXhjZXB0aW9uIGFmdGVyIGBXSVRIYCcpXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcGFyc2VMaWNlbnNlUmVmICgpIHtcbiAgICAvLyBUT0RPOiBBY3R1YWxseSwgZXZlcnl0aGluZyBpcyBjb25jYXRlbmF0ZWQgaW50byBvbmUgc3RyaW5nXG4gICAgLy8gZm9yIGJhY2t3YXJkLWNvbXBhdGliaWxpdHkgYnV0IGl0IGNvdWxkIGJlIGJldHRlciB0byByZXR1cm5cbiAgICAvLyBhIG5pY2Ugc3RydWN0dXJlLlxuICAgIHZhciBiZWdpbiA9IGluZGV4XG4gICAgdmFyIHN0cmluZyA9ICcnXG4gICAgdmFyIHQgPSB0b2tlbigpXG4gICAgaWYgKHQudHlwZSA9PT0gJ0RPQ1VNRU5UUkVGJykge1xuICAgICAgbmV4dCgpXG4gICAgICBzdHJpbmcgKz0gJ0RvY3VtZW50UmVmLScgKyB0LnN0cmluZyArICc6J1xuICAgICAgaWYgKCFwYXJzZU9wZXJhdG9yKCc6JykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCBgOmAgYWZ0ZXIgYERvY3VtZW50UmVmLS4uLmAnKVxuICAgICAgfVxuICAgIH1cbiAgICB0ID0gdG9rZW4oKVxuICAgIGlmICh0LnR5cGUgPT09ICdMSUNFTlNFUkVGJykge1xuICAgICAgbmV4dCgpXG4gICAgICBzdHJpbmcgKz0gJ0xpY2Vuc2VSZWYtJyArIHQuc3RyaW5nXG4gICAgICByZXR1cm4geyBsaWNlbnNlOiBzdHJpbmcgfVxuICAgIH1cbiAgICBpbmRleCA9IGJlZ2luXG4gIH1cblxuICBmdW5jdGlvbiBwYXJzZUxpY2Vuc2UgKCkge1xuICAgIHZhciB0ID0gdG9rZW4oKVxuICAgIGlmICh0ICYmIHQudHlwZSA9PT0gJ0xJQ0VOU0UnKSB7XG4gICAgICBuZXh0KClcbiAgICAgIHZhciBub2RlID0geyBsaWNlbnNlOiB0LnN0cmluZyB9XG4gICAgICBpZiAocGFyc2VPcGVyYXRvcignKycpKSB7XG4gICAgICAgIG5vZGUucGx1cyA9IHRydWVcbiAgICAgIH1cbiAgICAgIHZhciBleGNlcHRpb24gPSBwYXJzZVdpdGgoKVxuICAgICAgaWYgKGV4Y2VwdGlvbikge1xuICAgICAgICBub2RlLmV4Y2VwdGlvbiA9IGV4Y2VwdGlvblxuICAgICAgfVxuICAgICAgcmV0dXJuIG5vZGVcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBwYXJzZVBhcmVudGhlc2l6ZWRFeHByZXNzaW9uICgpIHtcbiAgICB2YXIgbGVmdCA9IHBhcnNlT3BlcmF0b3IoJygnKVxuICAgIGlmICghbGVmdCkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgdmFyIGV4cHIgPSBwYXJzZUV4cHJlc3Npb24oKVxuXG4gICAgaWYgKCFwYXJzZU9wZXJhdG9yKCcpJykpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgYClgJylcbiAgICB9XG5cbiAgICByZXR1cm4gZXhwclxuICB9XG5cbiAgZnVuY3Rpb24gcGFyc2VBdG9tICgpIHtcbiAgICByZXR1cm4gKFxuICAgICAgcGFyc2VQYXJlbnRoZXNpemVkRXhwcmVzc2lvbigpIHx8XG4gICAgICBwYXJzZUxpY2Vuc2VSZWYoKSB8fFxuICAgICAgcGFyc2VMaWNlbnNlKClcbiAgICApXG4gIH1cblxuICBmdW5jdGlvbiBtYWtlQmluYXJ5T3BQYXJzZXIgKG9wZXJhdG9yLCBuZXh0UGFyc2VyKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHBhcnNlQmluYXJ5T3AgKCkge1xuICAgICAgdmFyIGxlZnQgPSBuZXh0UGFyc2VyKClcbiAgICAgIGlmICghbGVmdCkge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgaWYgKCFwYXJzZU9wZXJhdG9yKG9wZXJhdG9yKSkge1xuICAgICAgICByZXR1cm4gbGVmdFxuICAgICAgfVxuXG4gICAgICB2YXIgcmlnaHQgPSBwYXJzZUJpbmFyeU9wKClcbiAgICAgIGlmICghcmlnaHQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCBleHByZXNzaW9uJylcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGxlZnQ6IGxlZnQsXG4gICAgICAgIGNvbmp1bmN0aW9uOiBvcGVyYXRvci50b0xvd2VyQ2FzZSgpLFxuICAgICAgICByaWdodDogcmlnaHRcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB2YXIgcGFyc2VBbmQgPSBtYWtlQmluYXJ5T3BQYXJzZXIoJ0FORCcsIHBhcnNlQXRvbSlcbiAgdmFyIHBhcnNlRXhwcmVzc2lvbiA9IG1ha2VCaW5hcnlPcFBhcnNlcignT1InLCBwYXJzZUFuZClcblxuICB2YXIgbm9kZSA9IHBhcnNlRXhwcmVzc2lvbigpXG4gIGlmICghbm9kZSB8fCBoYXNNb3JlKCkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1N5bnRheCBlcnJvcicpXG4gIH1cbiAgcmV0dXJuIG5vZGVcbn1cbiIsICIndXNlIHN0cmljdCdcblxudmFyIHNjYW4gPSByZXF1aXJlKCcuL3NjYW4nKVxudmFyIHBhcnNlID0gcmVxdWlyZSgnLi9wYXJzZScpXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHNvdXJjZSkge1xuICByZXR1cm4gcGFyc2Uoc2Nhbihzb3VyY2UpKVxufVxuIiwgIi8qXG5Db3B5cmlnaHQgc3BkeC1jb3JyZWN0LmpzIGNvbnRyaWJ1dG9yc1xuXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xueW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG5cbiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuXG5Vbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG5kaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG5XSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cblNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbmxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuKi9cbnZhciBwYXJzZSA9IHJlcXVpcmUoJ3NwZHgtZXhwcmVzc2lvbi1wYXJzZScpXG52YXIgc3BkeExpY2Vuc2VJZHMgPSByZXF1aXJlKCdzcGR4LWxpY2Vuc2UtaWRzJylcblxuZnVuY3Rpb24gdmFsaWQgKHN0cmluZykge1xuICB0cnkge1xuICAgIHBhcnNlKHN0cmluZylcbiAgICByZXR1cm4gdHJ1ZVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG59XG5cbi8vIENvbW1vbiB0cmFuc3Bvc2l0aW9ucyBvZiBsaWNlbnNlIGlkZW50aWZpZXIgYWNyb255bXNcbnZhciB0cmFuc3Bvc2l0aW9ucyA9IFtcbiAgWydBUEdMJywgJ0FHUEwnXSxcbiAgWydHcGwnLCAnR1BMJ10sXG4gIFsnR0xQJywgJ0dQTCddLFxuICBbJ0FQTCcsICdBcGFjaGUnXSxcbiAgWydJU0QnLCAnSVNDJ10sXG4gIFsnR0xQJywgJ0dQTCddLFxuICBbJ0lTVCcsICdJU0MnXSxcbiAgWydDbGF1ZGUnLCAnQ2xhdXNlJ10sXG4gIFsnIG9yIGxhdGVyJywgJysnXSxcbiAgWycgSW50ZXJuYXRpb25hbCcsICcnXSxcbiAgWydHTlUnLCAnR1BMJ10sXG4gIFsnR1VOJywgJ0dQTCddLFxuICBbJysnLCAnJ10sXG4gIFsnR05VIEdQTCcsICdHUEwnXSxcbiAgWydHTlUvR1BMJywgJ0dQTCddLFxuICBbJ0dOVSBHTFAnLCAnR1BMJ10sXG4gIFsnR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UnLCAnR1BMJ10sXG4gIFsnR251IHB1YmxpYyBsaWNlbnNlJywgJ0dQTCddLFxuICBbJ0dOVSBQdWJsaWMgTGljZW5zZScsICdHUEwnXSxcbiAgWydHTlUgR0VORVJBTCBQVUJMSUMgTElDRU5TRScsICdHUEwnXSxcbiAgWydNVEknLCAnTUlUJ10sXG4gIFsnTW96aWxsYSBQdWJsaWMgTGljZW5zZScsICdNUEwnXSxcbiAgWydVbml2ZXJzYWwgUGVybWlzc2l2ZSBMaWNlbnNlJywgJ1VQTCddLFxuICBbJ1dUSCcsICdXVEYnXSxcbiAgWyctTGljZW5zZScsICcnXVxuXVxuXG52YXIgVFJBTlNQT1NFRCA9IDBcbnZhciBDT1JSRUNUID0gMVxuXG4vLyBTaW1wbGUgY29ycmVjdGlvbnMgdG8gbmVhcmx5IHZhbGlkIGlkZW50aWZpZXJzLlxudmFyIHRyYW5zZm9ybXMgPSBbXG4gIC8vIGUuZy4gJ21pdCdcbiAgZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG4gICAgcmV0dXJuIGFyZ3VtZW50LnRvVXBwZXJDYXNlKClcbiAgfSxcbiAgLy8gZS5nLiAnTUlUICdcbiAgZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG4gICAgcmV0dXJuIGFyZ3VtZW50LnRyaW0oKVxuICB9LFxuICAvLyBlLmcuICdNLkkuVC4nXG4gIGZ1bmN0aW9uIChhcmd1bWVudCkge1xuICAgIHJldHVybiBhcmd1bWVudC5yZXBsYWNlKC9cXC4vZywgJycpXG4gIH0sXG4gIC8vIGUuZy4gJ0FwYWNoZS0gMi4wJ1xuICBmdW5jdGlvbiAoYXJndW1lbnQpIHtcbiAgICByZXR1cm4gYXJndW1lbnQucmVwbGFjZSgvXFxzKy9nLCAnJylcbiAgfSxcbiAgLy8gZS5nLiAnQ0MgQlkgNC4wJydcbiAgZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG4gICAgcmV0dXJuIGFyZ3VtZW50LnJlcGxhY2UoL1xccysvZywgJy0nKVxuICB9LFxuICAvLyBlLmcuICdMR1BMdjIuMSdcbiAgZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG4gICAgcmV0dXJuIGFyZ3VtZW50LnJlcGxhY2UoJ3YnLCAnLScpXG4gIH0sXG4gIC8vIGUuZy4gJ0FwYWNoZSAyLjAnXG4gIGZ1bmN0aW9uIChhcmd1bWVudCkge1xuICAgIHJldHVybiBhcmd1bWVudC5yZXBsYWNlKC8sP1xccyooXFxkKS8sICctJDEnKVxuICB9LFxuICAvLyBlLmcuICdHUEwgMidcbiAgZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG4gICAgcmV0dXJuIGFyZ3VtZW50LnJlcGxhY2UoLyw/XFxzKihcXGQpLywgJy0kMS4wJylcbiAgfSxcbiAgLy8gZS5nLiAnQXBhY2hlIFZlcnNpb24gMi4wJ1xuICBmdW5jdGlvbiAoYXJndW1lbnQpIHtcbiAgICByZXR1cm4gYXJndW1lbnRcbiAgICAgIC5yZXBsYWNlKC8sP1xccyooVlxcLnx2XFwufFZ8dnxWZXJzaW9ufHZlcnNpb24pXFxzKihcXGQpLywgJy0kMicpXG4gIH0sXG4gIC8vIGUuZy4gJ0FwYWNoZSBWZXJzaW9uIDInXG4gIGZ1bmN0aW9uIChhcmd1bWVudCkge1xuICAgIHJldHVybiBhcmd1bWVudFxuICAgICAgLnJlcGxhY2UoLyw/XFxzKihWXFwufHZcXC58Vnx2fFZlcnNpb258dmVyc2lvbilcXHMqKFxcZCkvLCAnLSQyLjAnKVxuICB9LFxuICAvLyBlLmcuICdaTElCJ1xuICBmdW5jdGlvbiAoYXJndW1lbnQpIHtcbiAgICByZXR1cm4gYXJndW1lbnRbMF0udG9VcHBlckNhc2UoKSArIGFyZ3VtZW50LnNsaWNlKDEpXG4gIH0sXG4gIC8vIGUuZy4gJ01QTC8yLjAnXG4gIGZ1bmN0aW9uIChhcmd1bWVudCkge1xuICAgIHJldHVybiBhcmd1bWVudC5yZXBsYWNlKCcvJywgJy0nKVxuICB9LFxuICAvLyBlLmcuICdBcGFjaGUgMidcbiAgZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG4gICAgcmV0dXJuIGFyZ3VtZW50XG4gICAgICAucmVwbGFjZSgvXFxzKlZcXHMqKFxcZCkvLCAnLSQxJylcbiAgICAgIC5yZXBsYWNlKC8oXFxkKSQvLCAnJDEuMCcpXG4gIH0sXG4gIC8vIGUuZy4gJ0dQTC0yLjAnLCAnR1BMLTMuMCdcbiAgZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG4gICAgaWYgKGFyZ3VtZW50LmluZGV4T2YoJzMuMCcpICE9PSAtMSkge1xuICAgICAgcmV0dXJuIGFyZ3VtZW50ICsgJy1vci1sYXRlcidcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGFyZ3VtZW50ICsgJy1vbmx5J1xuICAgIH1cbiAgfSxcbiAgLy8gZS5nLiAnR1BMLTIuMC0nXG4gIGZ1bmN0aW9uIChhcmd1bWVudCkge1xuICAgIHJldHVybiBhcmd1bWVudCArICdvbmx5J1xuICB9LFxuICAvLyBlLmcuICdHUEwyJ1xuICBmdW5jdGlvbiAoYXJndW1lbnQpIHtcbiAgICByZXR1cm4gYXJndW1lbnQucmVwbGFjZSgvKFxcZCkkLywgJy0kMS4wJylcbiAgfSxcbiAgLy8gZS5nLiAnQlNEIDMnXG4gIGZ1bmN0aW9uIChhcmd1bWVudCkge1xuICAgIHJldHVybiBhcmd1bWVudC5yZXBsYWNlKC8oLXwgKT8oXFxkKSQvLCAnLSQyLUNsYXVzZScpXG4gIH0sXG4gIC8vIGUuZy4gJ0JTRCBjbGF1c2UgMydcbiAgZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG4gICAgcmV0dXJuIGFyZ3VtZW50LnJlcGxhY2UoLygtfCApY2xhdXNlKC18ICkoXFxkKS8sICctJDMtQ2xhdXNlJylcbiAgfSxcbiAgLy8gZS5nLiAnTmV3IEJTRCBsaWNlbnNlJ1xuICBmdW5jdGlvbiAoYXJndW1lbnQpIHtcbiAgICByZXR1cm4gYXJndW1lbnQucmVwbGFjZSgvXFxiKE1vZGlmaWVkfE5ld3xSZXZpc2VkKSgtfCApP0JTRCgoLXwgKUxpY2Vuc2UpPy9pLCAnQlNELTMtQ2xhdXNlJylcbiAgfSxcbiAgLy8gZS5nLiAnU2ltcGxpZmllZCBCU0QgbGljZW5zZSdcbiAgZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG4gICAgcmV0dXJuIGFyZ3VtZW50LnJlcGxhY2UoL1xcYlNpbXBsaWZpZWQoLXwgKT9CU0QoKC18IClMaWNlbnNlKT8vaSwgJ0JTRC0yLUNsYXVzZScpXG4gIH0sXG4gIC8vIGUuZy4gJ0ZyZWUgQlNEIGxpY2Vuc2UnXG4gIGZ1bmN0aW9uIChhcmd1bWVudCkge1xuICAgIHJldHVybiBhcmd1bWVudC5yZXBsYWNlKC9cXGIoRnJlZXxOZXQpKC18ICk/QlNEKCgtfCApTGljZW5zZSk/L2ksICdCU0QtMi1DbGF1c2UtJDFCU0QnKVxuICB9LFxuICAvLyBlLmcuICdDbGVhciBCU0QgbGljZW5zZSdcbiAgZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG4gICAgcmV0dXJuIGFyZ3VtZW50LnJlcGxhY2UoL1xcYkNsZWFyKC18ICk/QlNEKCgtfCApTGljZW5zZSk/L2ksICdCU0QtMy1DbGF1c2UtQ2xlYXInKVxuICB9LFxuICAvLyBlLmcuICdPbGQgQlNEIExpY2Vuc2UnXG4gIGZ1bmN0aW9uIChhcmd1bWVudCkge1xuICAgIHJldHVybiBhcmd1bWVudC5yZXBsYWNlKC9cXGIoT2xkfE9yaWdpbmFsKSgtfCApP0JTRCgoLXwgKUxpY2Vuc2UpPy9pLCAnQlNELTQtQ2xhdXNlJylcbiAgfSxcbiAgLy8gZS5nLiAnQlktTkMtNC4wJ1xuICBmdW5jdGlvbiAoYXJndW1lbnQpIHtcbiAgICByZXR1cm4gJ0NDLScgKyBhcmd1bWVudFxuICB9LFxuICAvLyBlLmcuICdCWS1OQydcbiAgZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG4gICAgcmV0dXJuICdDQy0nICsgYXJndW1lbnQgKyAnLTQuMCdcbiAgfSxcbiAgLy8gZS5nLiAnQXR0cmlidXRpb24tTm9uQ29tbWVyY2lhbCdcbiAgZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG4gICAgcmV0dXJuIGFyZ3VtZW50XG4gICAgICAucmVwbGFjZSgnQXR0cmlidXRpb24nLCAnQlknKVxuICAgICAgLnJlcGxhY2UoJ05vbkNvbW1lcmNpYWwnLCAnTkMnKVxuICAgICAgLnJlcGxhY2UoJ05vRGVyaXZhdGl2ZXMnLCAnTkQnKVxuICAgICAgLnJlcGxhY2UoLyAoXFxkKS8sICctJDEnKVxuICAgICAgLnJlcGxhY2UoLyA/SW50ZXJuYXRpb25hbC8sICcnKVxuICB9LFxuICAvLyBlLmcuICdBdHRyaWJ1dGlvbi1Ob25Db21tZXJjaWFsJ1xuICBmdW5jdGlvbiAoYXJndW1lbnQpIHtcbiAgICByZXR1cm4gJ0NDLScgK1xuICAgICAgYXJndW1lbnRcbiAgICAgICAgLnJlcGxhY2UoJ0F0dHJpYnV0aW9uJywgJ0JZJylcbiAgICAgICAgLnJlcGxhY2UoJ05vbkNvbW1lcmNpYWwnLCAnTkMnKVxuICAgICAgICAucmVwbGFjZSgnTm9EZXJpdmF0aXZlcycsICdORCcpXG4gICAgICAgIC5yZXBsYWNlKC8gKFxcZCkvLCAnLSQxJylcbiAgICAgICAgLnJlcGxhY2UoLyA/SW50ZXJuYXRpb25hbC8sICcnKSArXG4gICAgICAnLTQuMCdcbiAgfVxuXVxuXG52YXIgbGljZW5zZXNXaXRoVmVyc2lvbnMgPSBzcGR4TGljZW5zZUlkc1xuICAubWFwKGZ1bmN0aW9uIChpZCkge1xuICAgIHZhciBtYXRjaCA9IC9eKC4qKS1cXGQrXFwuXFxkKyQvLmV4ZWMoaWQpXG4gICAgcmV0dXJuIG1hdGNoXG4gICAgICA/IFttYXRjaFswXSwgbWF0Y2hbMV1dXG4gICAgICA6IFtpZCwgbnVsbF1cbiAgfSlcbiAgLnJlZHVjZShmdW5jdGlvbiAob2JqZWN0TWFwLCBpdGVtKSB7XG4gICAgdmFyIGtleSA9IGl0ZW1bMV1cbiAgICBvYmplY3RNYXBba2V5XSA9IG9iamVjdE1hcFtrZXldIHx8IFtdXG4gICAgb2JqZWN0TWFwW2tleV0ucHVzaChpdGVtWzBdKVxuICAgIHJldHVybiBvYmplY3RNYXBcbiAgfSwge30pXG5cbnZhciBsaWNlbnNlc1dpdGhPbmVWZXJzaW9uID0gT2JqZWN0LmtleXMobGljZW5zZXNXaXRoVmVyc2lvbnMpXG4gIC5tYXAoZnVuY3Rpb24gbWFrZUVudHJpZXMgKGtleSkge1xuICAgIHJldHVybiBba2V5LCBsaWNlbnNlc1dpdGhWZXJzaW9uc1trZXldXVxuICB9KVxuICAuZmlsdGVyKGZ1bmN0aW9uIGlkZW50aWZ5U29sZVZlcnNpb25zIChpdGVtKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIC8vIExpY2Vuc2VzIGhhcyBqdXN0IG9uZSB2YWxpZCB2ZXJzaW9uIHN1ZmZpeC5cbiAgICAgIGl0ZW1bMV0ubGVuZ3RoID09PSAxICYmXG4gICAgICBpdGVtWzBdICE9PSBudWxsICYmXG4gICAgICAvLyBBUEwgd2lsbCBiZSBjb25zaWRlcmVkIEFwYWNoZSwgcmF0aGVyIHRoYW4gQVBMLTEuMFxuICAgICAgaXRlbVswXSAhPT0gJ0FQTCdcbiAgICApXG4gIH0pXG4gIC5tYXAoZnVuY3Rpb24gY3JlYXRlTGFzdFJlc29ydHMgKGl0ZW0pIHtcbiAgICByZXR1cm4gW2l0ZW1bMF0sIGl0ZW1bMV1bMF1dXG4gIH0pXG5cbmxpY2Vuc2VzV2l0aFZlcnNpb25zID0gdW5kZWZpbmVkXG5cbi8vIElmIGFsbCBlbHNlIGZhaWxzLCBndWVzcyB0aGF0IHN0cmluZ3MgY29udGFpbmluZyBjZXJ0YWluIHN1YnN0cmluZ3Ncbi8vIG1lYW50IHRvIGlkZW50aWZ5IGNlcnRhaW4gbGljZW5zZXMuXG52YXIgbGFzdFJlc29ydHMgPSBbXG4gIFsnVU5MSScsICdVbmxpY2Vuc2UnXSxcbiAgWydXVEYnLCAnV1RGUEwnXSxcbiAgWycyIENMQVVTRScsICdCU0QtMi1DbGF1c2UnXSxcbiAgWycyLUNMQVVTRScsICdCU0QtMi1DbGF1c2UnXSxcbiAgWyczIENMQVVTRScsICdCU0QtMy1DbGF1c2UnXSxcbiAgWyczLUNMQVVTRScsICdCU0QtMy1DbGF1c2UnXSxcbiAgWydBRkZFUk8nLCAnQUdQTC0zLjAtb3ItbGF0ZXInXSxcbiAgWydBR1BMJywgJ0FHUEwtMy4wLW9yLWxhdGVyJ10sXG4gIFsnQVBBQ0hFJywgJ0FwYWNoZS0yLjAnXSxcbiAgWydBUlRJU1RJQycsICdBcnRpc3RpYy0yLjAnXSxcbiAgWydBZmZlcm8nLCAnQUdQTC0zLjAtb3ItbGF0ZXInXSxcbiAgWydCRUVSJywgJ0JlZXJ3YXJlJ10sXG4gIFsnQk9PU1QnLCAnQlNMLTEuMCddLFxuICBbJ0JTRCcsICdCU0QtMi1DbGF1c2UnXSxcbiAgWydDRERMJywgJ0NEREwtMS4xJ10sXG4gIFsnRUNMSVBTRScsICdFUEwtMS4wJ10sXG4gIFsnRlVDSycsICdXVEZQTCddLFxuICBbJ0dOVScsICdHUEwtMy4wLW9yLWxhdGVyJ10sXG4gIFsnTEdQTCcsICdMR1BMLTMuMC1vci1sYXRlciddLFxuICBbJ0dQTFYxJywgJ0dQTC0xLjAtb25seSddLFxuICBbJ0dQTC0xJywgJ0dQTC0xLjAtb25seSddLFxuICBbJ0dQTFYyJywgJ0dQTC0yLjAtb25seSddLFxuICBbJ0dQTC0yJywgJ0dQTC0yLjAtb25seSddLFxuICBbJ0dQTCcsICdHUEwtMy4wLW9yLWxhdGVyJ10sXG4gIFsnTUlUICtOTy1GQUxTRS1BVFRSSUJTJywgJ01JVE5GQSddLFxuICBbJ01JVCcsICdNSVQnXSxcbiAgWydNUEwnLCAnTVBMLTIuMCddLFxuICBbJ1gxMScsICdYMTEnXSxcbiAgWydaTElCJywgJ1psaWInXVxuXS5jb25jYXQobGljZW5zZXNXaXRoT25lVmVyc2lvbilcblxudmFyIFNVQlNUUklORyA9IDBcbnZhciBJREVOVElGSUVSID0gMVxuXG52YXIgdmFsaWRUcmFuc2Zvcm1hdGlvbiA9IGZ1bmN0aW9uIChpZGVudGlmaWVyKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdHJhbnNmb3Jtcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciB0cmFuc2Zvcm1lZCA9IHRyYW5zZm9ybXNbaV0oaWRlbnRpZmllcikudHJpbSgpXG4gICAgaWYgKHRyYW5zZm9ybWVkICE9PSBpZGVudGlmaWVyICYmIHZhbGlkKHRyYW5zZm9ybWVkKSkge1xuICAgICAgcmV0dXJuIHRyYW5zZm9ybWVkXG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsXG59XG5cbnZhciB2YWxpZExhc3RSZXNvcnQgPSBmdW5jdGlvbiAoaWRlbnRpZmllcikge1xuICB2YXIgdXBwZXJDYXNlZCA9IGlkZW50aWZpZXIudG9VcHBlckNhc2UoKVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxhc3RSZXNvcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGxhc3RSZXNvcnQgPSBsYXN0UmVzb3J0c1tpXVxuICAgIGlmICh1cHBlckNhc2VkLmluZGV4T2YobGFzdFJlc29ydFtTVUJTVFJJTkddKSA+IC0xKSB7XG4gICAgICByZXR1cm4gbGFzdFJlc29ydFtJREVOVElGSUVSXVxuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbFxufVxuXG52YXIgYW55Q29ycmVjdGlvbiA9IGZ1bmN0aW9uIChpZGVudGlmaWVyLCBjaGVjaykge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHRyYW5zcG9zaXRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHRyYW5zcG9zaXRpb24gPSB0cmFuc3Bvc2l0aW9uc1tpXVxuICAgIHZhciB0cmFuc3Bvc2VkID0gdHJhbnNwb3NpdGlvbltUUkFOU1BPU0VEXVxuICAgIGlmIChpZGVudGlmaWVyLmluZGV4T2YodHJhbnNwb3NlZCkgPiAtMSkge1xuICAgICAgdmFyIGNvcnJlY3RlZCA9IGlkZW50aWZpZXIucmVwbGFjZShcbiAgICAgICAgdHJhbnNwb3NlZCxcbiAgICAgICAgdHJhbnNwb3NpdGlvbltDT1JSRUNUXVxuICAgICAgKVxuICAgICAgdmFyIGNoZWNrZWQgPSBjaGVjayhjb3JyZWN0ZWQpXG4gICAgICBpZiAoY2hlY2tlZCAhPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gY2hlY2tlZFxuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbFxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpZGVudGlmaWVyLCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9XG4gIHZhciB1cGdyYWRlID0gb3B0aW9ucy51cGdyYWRlID09PSB1bmRlZmluZWQgPyB0cnVlIDogISFvcHRpb25zLnVwZ3JhZGVcbiAgZnVuY3Rpb24gcG9zdHByb2Nlc3MgKHZhbHVlKSB7XG4gICAgcmV0dXJuIHVwZ3JhZGUgPyB1cGdyYWRlR1BMcyh2YWx1ZSkgOiB2YWx1ZVxuICB9XG4gIHZhciB2YWxpZEFydWdtZW50ID0gKFxuICAgIHR5cGVvZiBpZGVudGlmaWVyID09PSAnc3RyaW5nJyAmJlxuICAgIGlkZW50aWZpZXIudHJpbSgpLmxlbmd0aCAhPT0gMFxuICApXG4gIGlmICghdmFsaWRBcnVnbWVudCkge1xuICAgIHRocm93IEVycm9yKCdJbnZhbGlkIGFyZ3VtZW50LiBFeHBlY3RlZCBub24tZW1wdHkgc3RyaW5nLicpXG4gIH1cbiAgaWRlbnRpZmllciA9IGlkZW50aWZpZXIudHJpbSgpXG4gIGlmICh2YWxpZChpZGVudGlmaWVyKSkge1xuICAgIHJldHVybiBwb3N0cHJvY2VzcyhpZGVudGlmaWVyKVxuICB9XG4gIHZhciBub1BsdXMgPSBpZGVudGlmaWVyLnJlcGxhY2UoL1xcKyQvLCAnJykudHJpbSgpXG4gIGlmICh2YWxpZChub1BsdXMpKSB7XG4gICAgcmV0dXJuIHBvc3Rwcm9jZXNzKG5vUGx1cylcbiAgfVxuICB2YXIgdHJhbnNmb3JtZWQgPSB2YWxpZFRyYW5zZm9ybWF0aW9uKGlkZW50aWZpZXIpXG4gIGlmICh0cmFuc2Zvcm1lZCAhPT0gbnVsbCkge1xuICAgIHJldHVybiBwb3N0cHJvY2Vzcyh0cmFuc2Zvcm1lZClcbiAgfVxuICB0cmFuc2Zvcm1lZCA9IGFueUNvcnJlY3Rpb24oaWRlbnRpZmllciwgZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG4gICAgaWYgKHZhbGlkKGFyZ3VtZW50KSkge1xuICAgICAgcmV0dXJuIGFyZ3VtZW50XG4gICAgfVxuICAgIHJldHVybiB2YWxpZFRyYW5zZm9ybWF0aW9uKGFyZ3VtZW50KVxuICB9KVxuICBpZiAodHJhbnNmb3JtZWQgIT09IG51bGwpIHtcbiAgICByZXR1cm4gcG9zdHByb2Nlc3ModHJhbnNmb3JtZWQpXG4gIH1cbiAgdHJhbnNmb3JtZWQgPSB2YWxpZExhc3RSZXNvcnQoaWRlbnRpZmllcilcbiAgaWYgKHRyYW5zZm9ybWVkICE9PSBudWxsKSB7XG4gICAgcmV0dXJuIHBvc3Rwcm9jZXNzKHRyYW5zZm9ybWVkKVxuICB9XG4gIHRyYW5zZm9ybWVkID0gYW55Q29ycmVjdGlvbihpZGVudGlmaWVyLCB2YWxpZExhc3RSZXNvcnQpXG4gIGlmICh0cmFuc2Zvcm1lZCAhPT0gbnVsbCkge1xuICAgIHJldHVybiBwb3N0cHJvY2Vzcyh0cmFuc2Zvcm1lZClcbiAgfVxuICByZXR1cm4gbnVsbFxufVxuXG5mdW5jdGlvbiB1cGdyYWRlR1BMcyAodmFsdWUpIHtcbiAgaWYgKFtcbiAgICAnR1BMLTEuMCcsICdMR1BMLTEuMCcsICdBR1BMLTEuMCcsXG4gICAgJ0dQTC0yLjAnLCAnTEdQTC0yLjAnLCAnQUdQTC0yLjAnLFxuICAgICdMR1BMLTIuMSdcbiAgXS5pbmRleE9mKHZhbHVlKSAhPT0gLTEpIHtcbiAgICByZXR1cm4gdmFsdWUgKyAnLW9ubHknXG4gIH0gZWxzZSBpZiAoW1xuICAgICdHUEwtMS4wKycsICdHUEwtMi4wKycsICdHUEwtMy4wKycsXG4gICAgJ0xHUEwtMi4wKycsICdMR1BMLTIuMSsnLCAnTEdQTC0zLjArJyxcbiAgICAnQUdQTC0xLjArJywgJ0FHUEwtMy4wKydcbiAgXS5pbmRleE9mKHZhbHVlKSAhPT0gLTEpIHtcbiAgICByZXR1cm4gdmFsdWUucmVwbGFjZSgvXFwrJC8sICctb3ItbGF0ZXInKVxuICB9IGVsc2UgaWYgKFsnR1BMLTMuMCcsICdMR1BMLTMuMCcsICdBR1BMLTMuMCddLmluZGV4T2YodmFsdWUpICE9PSAtMSkge1xuICAgIHJldHVybiB2YWx1ZSArICctb3ItbGF0ZXInXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHZhbHVlXG4gIH1cbn1cbiIsICJ2YXIgcGFyc2UgPSByZXF1aXJlKCdzcGR4LWV4cHJlc3Npb24tcGFyc2UnKTtcbnZhciBjb3JyZWN0ID0gcmVxdWlyZSgnc3BkeC1jb3JyZWN0Jyk7XG5cbnZhciBnZW5lcmljV2FybmluZyA9IChcbiAgJ2xpY2Vuc2Ugc2hvdWxkIGJlICcgK1xuICAnYSB2YWxpZCBTUERYIGxpY2Vuc2UgZXhwcmVzc2lvbiAod2l0aG91dCBcIkxpY2Vuc2VSZWZcIiksICcgK1xuICAnXCJVTkxJQ0VOU0VEXCIsIG9yICcgK1xuICAnXCJTRUUgTElDRU5TRSBJTiA8ZmlsZW5hbWU+XCInXG4pO1xuXG52YXIgZmlsZVJlZmVyZW5jZVJFID0gL15TRUUgTElDRU5bQ1NdRSBJTiAoLispJC87XG5cbmZ1bmN0aW9uIHN0YXJ0c1dpdGgocHJlZml4LCBzdHJpbmcpIHtcbiAgcmV0dXJuIHN0cmluZy5zbGljZSgwLCBwcmVmaXgubGVuZ3RoKSA9PT0gcHJlZml4O1xufVxuXG5mdW5jdGlvbiB1c2VzTGljZW5zZVJlZihhc3QpIHtcbiAgaWYgKGFzdC5oYXNPd25Qcm9wZXJ0eSgnbGljZW5zZScpKSB7XG4gICAgdmFyIGxpY2Vuc2UgPSBhc3QubGljZW5zZTtcbiAgICByZXR1cm4gKFxuICAgICAgc3RhcnRzV2l0aCgnTGljZW5zZVJlZicsIGxpY2Vuc2UpIHx8XG4gICAgICBzdGFydHNXaXRoKCdEb2N1bWVudFJlZicsIGxpY2Vuc2UpXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gKFxuICAgICAgdXNlc0xpY2Vuc2VSZWYoYXN0LmxlZnQpIHx8XG4gICAgICB1c2VzTGljZW5zZVJlZihhc3QucmlnaHQpXG4gICAgKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGFyZ3VtZW50KSB7XG4gIHZhciBhc3Q7XG5cbiAgdHJ5IHtcbiAgICBhc3QgPSBwYXJzZShhcmd1bWVudCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICB2YXIgbWF0Y2hcbiAgICBpZiAoXG4gICAgICBhcmd1bWVudCA9PT0gJ1VOTElDRU5TRUQnIHx8XG4gICAgICBhcmd1bWVudCA9PT0gJ1VOTElDRU5DRUQnXG4gICAgKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB2YWxpZEZvck9sZFBhY2thZ2VzOiB0cnVlLFxuICAgICAgICB2YWxpZEZvck5ld1BhY2thZ2VzOiB0cnVlLFxuICAgICAgICB1bmxpY2Vuc2VkOiB0cnVlXG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAobWF0Y2ggPSBmaWxlUmVmZXJlbmNlUkUuZXhlYyhhcmd1bWVudCkpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHZhbGlkRm9yT2xkUGFja2FnZXM6IHRydWUsXG4gICAgICAgIHZhbGlkRm9yTmV3UGFja2FnZXM6IHRydWUsXG4gICAgICAgIGluRmlsZTogbWF0Y2hbMV1cbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciByZXN1bHQgPSB7XG4gICAgICAgIHZhbGlkRm9yT2xkUGFja2FnZXM6IGZhbHNlLFxuICAgICAgICB2YWxpZEZvck5ld1BhY2thZ2VzOiBmYWxzZSxcbiAgICAgICAgd2FybmluZ3M6IFtnZW5lcmljV2FybmluZ11cbiAgICAgIH07XG4gICAgICBpZiAoYXJndW1lbnQudHJpbSgpLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICB2YXIgY29ycmVjdGVkID0gY29ycmVjdChhcmd1bWVudCk7XG4gICAgICAgIGlmIChjb3JyZWN0ZWQpIHtcbiAgICAgICAgICByZXN1bHQud2FybmluZ3MucHVzaChcbiAgICAgICAgICAgICdsaWNlbnNlIGlzIHNpbWlsYXIgdG8gdGhlIHZhbGlkIGV4cHJlc3Npb24gXCInICsgY29ycmVjdGVkICsgJ1wiJ1xuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICB9XG5cbiAgaWYgKHVzZXNMaWNlbnNlUmVmKGFzdCkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdmFsaWRGb3JOZXdQYWNrYWdlczogZmFsc2UsXG4gICAgICB2YWxpZEZvck9sZFBhY2thZ2VzOiBmYWxzZSxcbiAgICAgIHNwZHg6IHRydWUsXG4gICAgICB3YXJuaW5nczogW2dlbmVyaWNXYXJuaW5nXVxuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHZhbGlkRm9yTmV3UGFja2FnZXM6IHRydWUsXG4gICAgICB2YWxpZEZvck9sZFBhY2thZ2VzOiB0cnVlLFxuICAgICAgc3BkeDogdHJ1ZVxuICAgIH07XG4gIH1cbn07XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG4vKiBlc2xpbnQgbm8taW52YWxpZC10aGlzOiAxICovXG5cbnZhciBFUlJPUl9NRVNTQUdFID0gJ0Z1bmN0aW9uLnByb3RvdHlwZS5iaW5kIGNhbGxlZCBvbiBpbmNvbXBhdGlibGUgJztcbnZhciBzbGljZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZTtcbnZhciB0b1N0ciA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG52YXIgZnVuY1R5cGUgPSAnW29iamVjdCBGdW5jdGlvbl0nO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGJpbmQodGhhdCkge1xuICAgIHZhciB0YXJnZXQgPSB0aGlzO1xuICAgIGlmICh0eXBlb2YgdGFyZ2V0ICE9PSAnZnVuY3Rpb24nIHx8IHRvU3RyLmNhbGwodGFyZ2V0KSAhPT0gZnVuY1R5cGUpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihFUlJPUl9NRVNTQUdFICsgdGFyZ2V0KTtcbiAgICB9XG4gICAgdmFyIGFyZ3MgPSBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG5cbiAgICB2YXIgYm91bmQ7XG4gICAgdmFyIGJpbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMgaW5zdGFuY2VvZiBib3VuZCkge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHRhcmdldC5hcHBseShcbiAgICAgICAgICAgICAgICB0aGlzLFxuICAgICAgICAgICAgICAgIGFyZ3MuY29uY2F0KHNsaWNlLmNhbGwoYXJndW1lbnRzKSlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZiAoT2JqZWN0KHJlc3VsdCkgPT09IHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0YXJnZXQuYXBwbHkoXG4gICAgICAgICAgICAgICAgdGhhdCxcbiAgICAgICAgICAgICAgICBhcmdzLmNvbmNhdChzbGljZS5jYWxsKGFyZ3VtZW50cykpXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHZhciBib3VuZExlbmd0aCA9IE1hdGgubWF4KDAsIHRhcmdldC5sZW5ndGggLSBhcmdzLmxlbmd0aCk7XG4gICAgdmFyIGJvdW5kQXJncyA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYm91bmRMZW5ndGg7IGkrKykge1xuICAgICAgICBib3VuZEFyZ3MucHVzaCgnJCcgKyBpKTtcbiAgICB9XG5cbiAgICBib3VuZCA9IEZ1bmN0aW9uKCdiaW5kZXInLCAncmV0dXJuIGZ1bmN0aW9uICgnICsgYm91bmRBcmdzLmpvaW4oJywnKSArICcpeyByZXR1cm4gYmluZGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKTsgfScpKGJpbmRlcik7XG5cbiAgICBpZiAodGFyZ2V0LnByb3RvdHlwZSkge1xuICAgICAgICB2YXIgRW1wdHkgPSBmdW5jdGlvbiBFbXB0eSgpIHt9O1xuICAgICAgICBFbXB0eS5wcm90b3R5cGUgPSB0YXJnZXQucHJvdG90eXBlO1xuICAgICAgICBib3VuZC5wcm90b3R5cGUgPSBuZXcgRW1wdHkoKTtcbiAgICAgICAgRW1wdHkucHJvdG90eXBlID0gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gYm91bmQ7XG59O1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIGltcGxlbWVudGF0aW9uID0gcmVxdWlyZSgnLi9pbXBsZW1lbnRhdGlvbicpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kIHx8IGltcGxlbWVudGF0aW9uO1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIGJpbmQgPSByZXF1aXJlKCdmdW5jdGlvbi1iaW5kJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gYmluZC5jYWxsKEZ1bmN0aW9uLmNhbGwsIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkpO1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIGhhcyA9IHJlcXVpcmUoJ2hhcycpO1xuXG5mdW5jdGlvbiBzcGVjaWZpZXJJbmNsdWRlZChjdXJyZW50LCBzcGVjaWZpZXIpIHtcblx0dmFyIG5vZGVQYXJ0cyA9IGN1cnJlbnQuc3BsaXQoJy4nKTtcblx0dmFyIHBhcnRzID0gc3BlY2lmaWVyLnNwbGl0KCcgJyk7XG5cdHZhciBvcCA9IHBhcnRzLmxlbmd0aCA+IDEgPyBwYXJ0c1swXSA6ICc9Jztcblx0dmFyIHZlcnNpb25QYXJ0cyA9IChwYXJ0cy5sZW5ndGggPiAxID8gcGFydHNbMV0gOiBwYXJ0c1swXSkuc3BsaXQoJy4nKTtcblxuXHRmb3IgKHZhciBpID0gMDsgaSA8IDM7ICsraSkge1xuXHRcdHZhciBjdXIgPSBwYXJzZUludChub2RlUGFydHNbaV0gfHwgMCwgMTApO1xuXHRcdHZhciB2ZXIgPSBwYXJzZUludCh2ZXJzaW9uUGFydHNbaV0gfHwgMCwgMTApO1xuXHRcdGlmIChjdXIgPT09IHZlcikge1xuXHRcdFx0Y29udGludWU7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcmVzdHJpY3RlZC1zeW50YXgsIG5vLWNvbnRpbnVlXG5cdFx0fVxuXHRcdGlmIChvcCA9PT0gJzwnKSB7XG5cdFx0XHRyZXR1cm4gY3VyIDwgdmVyO1xuXHRcdH1cblx0XHRpZiAob3AgPT09ICc+PScpIHtcblx0XHRcdHJldHVybiBjdXIgPj0gdmVyO1xuXHRcdH1cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblx0cmV0dXJuIG9wID09PSAnPj0nO1xufVxuXG5mdW5jdGlvbiBtYXRjaGVzUmFuZ2UoY3VycmVudCwgcmFuZ2UpIHtcblx0dmFyIHNwZWNpZmllcnMgPSByYW5nZS5zcGxpdCgvID8mJiA/Lyk7XG5cdGlmIChzcGVjaWZpZXJzLmxlbmd0aCA9PT0gMCkge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXHRmb3IgKHZhciBpID0gMDsgaSA8IHNwZWNpZmllcnMubGVuZ3RoOyArK2kpIHtcblx0XHRpZiAoIXNwZWNpZmllckluY2x1ZGVkKGN1cnJlbnQsIHNwZWNpZmllcnNbaV0pKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHR9XG5cdHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiB2ZXJzaW9uSW5jbHVkZWQobm9kZVZlcnNpb24sIHNwZWNpZmllclZhbHVlKSB7XG5cdGlmICh0eXBlb2Ygc3BlY2lmaWVyVmFsdWUgPT09ICdib29sZWFuJykge1xuXHRcdHJldHVybiBzcGVjaWZpZXJWYWx1ZTtcblx0fVxuXG5cdHZhciBjdXJyZW50ID0gdHlwZW9mIG5vZGVWZXJzaW9uID09PSAndW5kZWZpbmVkJ1xuXHRcdD8gcHJvY2Vzcy52ZXJzaW9ucyAmJiBwcm9jZXNzLnZlcnNpb25zLm5vZGVcblx0XHQ6IG5vZGVWZXJzaW9uO1xuXG5cdGlmICh0eXBlb2YgY3VycmVudCAhPT0gJ3N0cmluZycpIHtcblx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKHR5cGVvZiBub2RlVmVyc2lvbiA9PT0gJ3VuZGVmaW5lZCcgPyAnVW5hYmxlIHRvIGRldGVybWluZSBjdXJyZW50IG5vZGUgdmVyc2lvbicgOiAnSWYgcHJvdmlkZWQsIGEgdmFsaWQgbm9kZSB2ZXJzaW9uIGlzIHJlcXVpcmVkJyk7XG5cdH1cblxuXHRpZiAoc3BlY2lmaWVyVmFsdWUgJiYgdHlwZW9mIHNwZWNpZmllclZhbHVlID09PSAnb2JqZWN0Jykge1xuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc3BlY2lmaWVyVmFsdWUubGVuZ3RoOyArK2kpIHtcblx0XHRcdGlmIChtYXRjaGVzUmFuZ2UoY3VycmVudCwgc3BlY2lmaWVyVmFsdWVbaV0pKSB7XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblx0cmV0dXJuIG1hdGNoZXNSYW5nZShjdXJyZW50LCBzcGVjaWZpZXJWYWx1ZSk7XG59XG5cbnZhciBkYXRhID0gcmVxdWlyZSgnLi9jb3JlLmpzb24nKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpc0NvcmUoeCwgbm9kZVZlcnNpb24pIHtcblx0cmV0dXJuIGhhcyhkYXRhLCB4KSAmJiB2ZXJzaW9uSW5jbHVkZWQobm9kZVZlcnNpb24sIGRhdGFbeF0pO1xufTtcbiIsICJtb2R1bGUuZXhwb3J0cyA9IGV4dHJhY3REZXNjcmlwdGlvblxuXG4vLyBFeHRyYWN0cyBkZXNjcmlwdGlvbiBmcm9tIGNvbnRlbnRzIG9mIGEgcmVhZG1lIGZpbGUgaW4gbWFya2Rvd24gZm9ybWF0XG5mdW5jdGlvbiBleHRyYWN0RGVzY3JpcHRpb24gKGQpIHtcbiAgaWYgKCFkKSB7XG4gICAgcmV0dXJuXG4gIH1cbiAgaWYgKGQgPT09ICdFUlJPUjogTm8gUkVBRE1FIGRhdGEgZm91bmQhJykge1xuICAgIHJldHVyblxuICB9XG4gIC8vIHRoZSBmaXJzdCBibG9jayBvZiB0ZXh0IGJlZm9yZSB0aGUgZmlyc3QgaGVhZGluZ1xuICAvLyB0aGF0IGlzbid0IHRoZSBmaXJzdCBsaW5lIGhlYWRpbmdcbiAgZCA9IGQudHJpbSgpLnNwbGl0KCdcXG4nKVxuICBmb3IgKHZhciBzID0gMDsgZFtzXSAmJiBkW3NdLnRyaW0oKS5tYXRjaCgvXigjfCQpLyk7IHMrKykge1xuICAgIDtcbiAgfVxuICB2YXIgbCA9IGQubGVuZ3RoXG4gIGZvciAodmFyIGUgPSBzICsgMTsgZSA8IGwgJiYgZFtlXS50cmltKCk7IGUrKykge1xuICAgIDtcbiAgfVxuICByZXR1cm4gZC5zbGljZShzLCBlKS5qb2luKCcgJykudHJpbSgpXG59XG4iLCAidmFyIGlzVmFsaWRTZW12ZXIgPSByZXF1aXJlKCdzZW12ZXIvZnVuY3Rpb25zL3ZhbGlkJylcbnZhciBjbGVhblNlbXZlciA9IHJlcXVpcmUoJ3NlbXZlci9mdW5jdGlvbnMvY2xlYW4nKVxudmFyIHZhbGlkYXRlTGljZW5zZSA9IHJlcXVpcmUoJ3ZhbGlkYXRlLW5wbS1wYWNrYWdlLWxpY2Vuc2UnKVxudmFyIGhvc3RlZEdpdEluZm8gPSByZXF1aXJlKCdob3N0ZWQtZ2l0LWluZm8nKVxudmFyIGlzQnVpbHRpbk1vZHVsZSA9IHJlcXVpcmUoJ2lzLWNvcmUtbW9kdWxlJylcbnZhciBkZXBUeXBlcyA9IFsnZGVwZW5kZW5jaWVzJywgJ2RldkRlcGVuZGVuY2llcycsICdvcHRpb25hbERlcGVuZGVuY2llcyddXG52YXIgZXh0cmFjdERlc2NyaXB0aW9uID0gcmVxdWlyZSgnLi9leHRyYWN0X2Rlc2NyaXB0aW9uJylcbnZhciB1cmwgPSByZXF1aXJlKCd1cmwnKVxudmFyIHR5cG9zID0gcmVxdWlyZSgnLi90eXBvcy5qc29uJylcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIC8vIGRlZmF1bHQgd2FybmluZyBmdW5jdGlvblxuICB3YXJuOiBmdW5jdGlvbiAoKSB7fSxcblxuICBmaXhSZXBvc2l0b3J5RmllbGQ6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgaWYgKGRhdGEucmVwb3NpdG9yaWVzKSB7XG4gICAgICB0aGlzLndhcm4oJ3JlcG9zaXRvcmllcycpXG4gICAgICBkYXRhLnJlcG9zaXRvcnkgPSBkYXRhLnJlcG9zaXRvcmllc1swXVxuICAgIH1cbiAgICBpZiAoIWRhdGEucmVwb3NpdG9yeSkge1xuICAgICAgcmV0dXJuIHRoaXMud2FybignbWlzc2luZ1JlcG9zaXRvcnknKVxuICAgIH1cbiAgICBpZiAodHlwZW9mIGRhdGEucmVwb3NpdG9yeSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGRhdGEucmVwb3NpdG9yeSA9IHtcbiAgICAgICAgdHlwZTogJ2dpdCcsXG4gICAgICAgIHVybDogZGF0YS5yZXBvc2l0b3J5LFxuICAgICAgfVxuICAgIH1cbiAgICB2YXIgciA9IGRhdGEucmVwb3NpdG9yeS51cmwgfHwgJydcbiAgICBpZiAocikge1xuICAgICAgdmFyIGhvc3RlZCA9IGhvc3RlZEdpdEluZm8uZnJvbVVybChyKVxuICAgICAgaWYgKGhvc3RlZCkge1xuICAgICAgICByID0gZGF0YS5yZXBvc2l0b3J5LnVybFxuICAgICAgICAgID0gaG9zdGVkLmdldERlZmF1bHRSZXByZXNlbnRhdGlvbigpID09PSAnc2hvcnRjdXQnID8gaG9zdGVkLmh0dHBzKCkgOiBob3N0ZWQudG9TdHJpbmcoKVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChyLm1hdGNoKC9naXRodWIuY29tXFwvW14vXStcXC9bXi9dK1xcLmdpdFxcLmdpdCQvKSkge1xuICAgICAgdGhpcy53YXJuKCdicm9rZW5HaXRVcmwnLCByKVxuICAgIH1cbiAgfSxcblxuICBmaXhUeXBvczogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICBPYmplY3Qua2V5cyh0eXBvcy50b3BMZXZlbCkuZm9yRWFjaChmdW5jdGlvbiAoZCkge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBkKSkge1xuICAgICAgICB0aGlzLndhcm4oJ3R5cG8nLCBkLCB0eXBvcy50b3BMZXZlbFtkXSlcbiAgICAgIH1cbiAgICB9LCB0aGlzKVxuICB9LFxuXG4gIGZpeFNjcmlwdHNGaWVsZDogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICBpZiAoIWRhdGEuc2NyaXB0cykge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGlmICh0eXBlb2YgZGF0YS5zY3JpcHRzICE9PSAnb2JqZWN0Jykge1xuICAgICAgdGhpcy53YXJuKCdub25PYmplY3RTY3JpcHRzJylcbiAgICAgIGRlbGV0ZSBkYXRhLnNjcmlwdHNcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBPYmplY3Qua2V5cyhkYXRhLnNjcmlwdHMpLmZvckVhY2goZnVuY3Rpb24gKGspIHtcbiAgICAgIGlmICh0eXBlb2YgZGF0YS5zY3JpcHRzW2tdICE9PSAnc3RyaW5nJykge1xuICAgICAgICB0aGlzLndhcm4oJ25vblN0cmluZ1NjcmlwdCcpXG4gICAgICAgIGRlbGV0ZSBkYXRhLnNjcmlwdHNba11cbiAgICAgIH0gZWxzZSBpZiAodHlwb3Muc2NyaXB0W2tdICYmICFkYXRhLnNjcmlwdHNbdHlwb3Muc2NyaXB0W2tdXSkge1xuICAgICAgICB0aGlzLndhcm4oJ3R5cG8nLCBrLCB0eXBvcy5zY3JpcHRba10sICdzY3JpcHRzJylcbiAgICAgIH1cbiAgICB9LCB0aGlzKVxuICB9LFxuXG4gIGZpeEZpbGVzRmllbGQ6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgdmFyIGZpbGVzID0gZGF0YS5maWxlc1xuICAgIGlmIChmaWxlcyAmJiAhQXJyYXkuaXNBcnJheShmaWxlcykpIHtcbiAgICAgIHRoaXMud2Fybignbm9uQXJyYXlGaWxlcycpXG4gICAgICBkZWxldGUgZGF0YS5maWxlc1xuICAgIH0gZWxzZSBpZiAoZGF0YS5maWxlcykge1xuICAgICAgZGF0YS5maWxlcyA9IGRhdGEuZmlsZXMuZmlsdGVyKGZ1bmN0aW9uIChmaWxlKSB7XG4gICAgICAgIGlmICghZmlsZSB8fCB0eXBlb2YgZmlsZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICB0aGlzLndhcm4oJ2ludmFsaWRGaWxlbmFtZScsIGZpbGUpXG4gICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgfVxuICAgICAgfSwgdGhpcylcbiAgICB9XG4gIH0sXG5cbiAgZml4QmluRmllbGQ6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgaWYgKCFkYXRhLmJpbikge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGlmICh0eXBlb2YgZGF0YS5iaW4gPT09ICdzdHJpbmcnKSB7XG4gICAgICB2YXIgYiA9IHt9XG4gICAgICB2YXIgbWF0Y2hcbiAgICAgIGlmIChtYXRjaCA9IGRhdGEubmFtZS5tYXRjaCgvXkBbXi9dK1svXSguKikkLykpIHtcbiAgICAgICAgYlttYXRjaFsxXV0gPSBkYXRhLmJpblxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYltkYXRhLm5hbWVdID0gZGF0YS5iaW5cbiAgICAgIH1cbiAgICAgIGRhdGEuYmluID0gYlxuICAgIH1cbiAgfSxcblxuICBmaXhNYW5GaWVsZDogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICBpZiAoIWRhdGEubWFuKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgaWYgKHR5cGVvZiBkYXRhLm1hbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGRhdGEubWFuID0gW2RhdGEubWFuXVxuICAgIH1cbiAgfSxcbiAgZml4QnVuZGxlRGVwZW5kZW5jaWVzRmllbGQ6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgdmFyIGJkZCA9ICdidW5kbGVkRGVwZW5kZW5jaWVzJ1xuICAgIHZhciBiZCA9ICdidW5kbGVEZXBlbmRlbmNpZXMnXG4gICAgaWYgKGRhdGFbYmRkXSAmJiAhZGF0YVtiZF0pIHtcbiAgICAgIGRhdGFbYmRdID0gZGF0YVtiZGRdXG4gICAgICBkZWxldGUgZGF0YVtiZGRdXG4gICAgfVxuICAgIGlmIChkYXRhW2JkXSAmJiAhQXJyYXkuaXNBcnJheShkYXRhW2JkXSkpIHtcbiAgICAgIHRoaXMud2Fybignbm9uQXJyYXlCdW5kbGVEZXBlbmRlbmNpZXMnKVxuICAgICAgZGVsZXRlIGRhdGFbYmRdXG4gICAgfSBlbHNlIGlmIChkYXRhW2JkXSkge1xuICAgICAgZGF0YVtiZF0gPSBkYXRhW2JkXS5maWx0ZXIoZnVuY3Rpb24gKGJkKSB7XG4gICAgICAgIGlmICghYmQgfHwgdHlwZW9mIGJkICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgIHRoaXMud2Fybignbm9uU3RyaW5nQnVuZGxlRGVwZW5kZW5jeScsIGJkKVxuICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmICghZGF0YS5kZXBlbmRlbmNpZXMpIHtcbiAgICAgICAgICAgIGRhdGEuZGVwZW5kZW5jaWVzID0ge31cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLmRlcGVuZGVuY2llcywgYmQpKSB7XG4gICAgICAgICAgICB0aGlzLndhcm4oJ25vbkRlcGVuZGVuY3lCdW5kbGVEZXBlbmRlbmN5JywgYmQpXG4gICAgICAgICAgICBkYXRhLmRlcGVuZGVuY2llc1tiZF0gPSAnKidcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgfVxuICAgICAgfSwgdGhpcylcbiAgICB9XG4gIH0sXG5cbiAgZml4RGVwZW5kZW5jaWVzOiBmdW5jdGlvbiAoZGF0YSwgc3RyaWN0KSB7XG4gICAgb2JqZWN0aWZ5RGVwcyhkYXRhLCB0aGlzLndhcm4pXG4gICAgYWRkT3B0aW9uYWxEZXBzVG9EZXBzKGRhdGEsIHRoaXMud2FybilcbiAgICB0aGlzLmZpeEJ1bmRsZURlcGVuZGVuY2llc0ZpZWxkKGRhdGEpXG5cbiAgICA7WydkZXBlbmRlbmNpZXMnLCAnZGV2RGVwZW5kZW5jaWVzJ10uZm9yRWFjaChmdW5jdGlvbiAoZGVwcykge1xuICAgICAgaWYgKCEoZGVwcyBpbiBkYXRhKSkge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIGlmICghZGF0YVtkZXBzXSB8fCB0eXBlb2YgZGF0YVtkZXBzXSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgdGhpcy53YXJuKCdub25PYmplY3REZXBlbmRlbmNpZXMnLCBkZXBzKVxuICAgICAgICBkZWxldGUgZGF0YVtkZXBzXVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIE9iamVjdC5rZXlzKGRhdGFbZGVwc10pLmZvckVhY2goZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgdmFyIHIgPSBkYXRhW2RlcHNdW2RdXG4gICAgICAgIGlmICh0eXBlb2YgciAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICB0aGlzLndhcm4oJ25vblN0cmluZ0RlcGVuZGVuY3knLCBkLCBKU09OLnN0cmluZ2lmeShyKSlcbiAgICAgICAgICBkZWxldGUgZGF0YVtkZXBzXVtkXVxuICAgICAgICB9XG4gICAgICAgIHZhciBob3N0ZWQgPSBob3N0ZWRHaXRJbmZvLmZyb21VcmwoZGF0YVtkZXBzXVtkXSlcbiAgICAgICAgaWYgKGhvc3RlZCkge1xuICAgICAgICAgIGRhdGFbZGVwc11bZF0gPSBob3N0ZWQudG9TdHJpbmcoKVxuICAgICAgICB9XG4gICAgICB9LCB0aGlzKVxuICAgIH0sIHRoaXMpXG4gIH0sXG5cbiAgZml4TW9kdWxlc0ZpZWxkOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgIGlmIChkYXRhLm1vZHVsZXMpIHtcbiAgICAgIHRoaXMud2FybignZGVwcmVjYXRlZE1vZHVsZXMnKVxuICAgICAgZGVsZXRlIGRhdGEubW9kdWxlc1xuICAgIH1cbiAgfSxcblxuICBmaXhLZXl3b3Jkc0ZpZWxkOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgIGlmICh0eXBlb2YgZGF0YS5rZXl3b3JkcyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGRhdGEua2V5d29yZHMgPSBkYXRhLmtleXdvcmRzLnNwbGl0KC8sXFxzKy8pXG4gICAgfVxuICAgIGlmIChkYXRhLmtleXdvcmRzICYmICFBcnJheS5pc0FycmF5KGRhdGEua2V5d29yZHMpKSB7XG4gICAgICBkZWxldGUgZGF0YS5rZXl3b3Jkc1xuICAgICAgdGhpcy53YXJuKCdub25BcnJheUtleXdvcmRzJylcbiAgICB9IGVsc2UgaWYgKGRhdGEua2V5d29yZHMpIHtcbiAgICAgIGRhdGEua2V5d29yZHMgPSBkYXRhLmtleXdvcmRzLmZpbHRlcihmdW5jdGlvbiAoa3cpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBrdyAhPT0gJ3N0cmluZycgfHwgIWt3KSB7XG4gICAgICAgICAgdGhpcy53YXJuKCdub25TdHJpbmdLZXl3b3JkJylcbiAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICB9XG4gICAgICB9LCB0aGlzKVxuICAgIH1cbiAgfSxcblxuICBmaXhWZXJzaW9uRmllbGQ6IGZ1bmN0aW9uIChkYXRhLCBzdHJpY3QpIHtcbiAgICAvLyBhbGxvdyBcImxvb3NlXCIgc2VtdmVyIDEuMCB2ZXJzaW9ucyBpbiBub24tc3RyaWN0IG1vZGVcbiAgICAvLyBlbmZvcmNlIHN0cmljdCBzZW12ZXIgMi4wIGNvbXBsaWFuY2UgaW4gc3RyaWN0IG1vZGVcbiAgICB2YXIgbG9vc2UgPSAhc3RyaWN0XG4gICAgaWYgKCFkYXRhLnZlcnNpb24pIHtcbiAgICAgIGRhdGEudmVyc2lvbiA9ICcnXG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgICBpZiAoIWlzVmFsaWRTZW12ZXIoZGF0YS52ZXJzaW9uLCBsb29zZSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCB2ZXJzaW9uOiBcIicgKyBkYXRhLnZlcnNpb24gKyAnXCInKVxuICAgIH1cbiAgICBkYXRhLnZlcnNpb24gPSBjbGVhblNlbXZlcihkYXRhLnZlcnNpb24sIGxvb3NlKVxuICAgIHJldHVybiB0cnVlXG4gIH0sXG5cbiAgZml4UGVvcGxlOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgIG1vZGlmeVBlb3BsZShkYXRhLCB1blBhcnNlUGVyc29uKVxuICAgIG1vZGlmeVBlb3BsZShkYXRhLCBwYXJzZVBlcnNvbilcbiAgfSxcblxuICBmaXhOYW1lRmllbGQ6IGZ1bmN0aW9uIChkYXRhLCBvcHRpb25zKSB7XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnYm9vbGVhbicpIHtcbiAgICAgIG9wdGlvbnMgPSB7c3RyaWN0OiBvcHRpb25zfVxuICAgIH0gZWxzZSBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBvcHRpb25zID0ge31cbiAgICB9XG4gICAgdmFyIHN0cmljdCA9IG9wdGlvbnMuc3RyaWN0XG4gICAgaWYgKCFkYXRhLm5hbWUgJiYgIXN0cmljdCkge1xuICAgICAgZGF0YS5uYW1lID0gJydcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBpZiAodHlwZW9mIGRhdGEubmFtZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignbmFtZSBmaWVsZCBtdXN0IGJlIGEgc3RyaW5nLicpXG4gICAgfVxuICAgIGlmICghc3RyaWN0KSB7XG4gICAgICBkYXRhLm5hbWUgPSBkYXRhLm5hbWUudHJpbSgpXG4gICAgfVxuICAgIGVuc3VyZVZhbGlkTmFtZShkYXRhLm5hbWUsIHN0cmljdCwgb3B0aW9ucy5hbGxvd0xlZ2FjeUNhc2UpXG4gICAgaWYgKGlzQnVpbHRpbk1vZHVsZShkYXRhLm5hbWUpKSB7XG4gICAgICB0aGlzLndhcm4oJ2NvbmZsaWN0aW5nTmFtZScsIGRhdGEubmFtZSlcbiAgICB9XG4gIH0sXG5cbiAgZml4RGVzY3JpcHRpb25GaWVsZDogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICBpZiAoZGF0YS5kZXNjcmlwdGlvbiAmJiB0eXBlb2YgZGF0YS5kZXNjcmlwdGlvbiAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRoaXMud2Fybignbm9uU3RyaW5nRGVzY3JpcHRpb24nKVxuICAgICAgZGVsZXRlIGRhdGEuZGVzY3JpcHRpb25cbiAgICB9XG4gICAgaWYgKGRhdGEucmVhZG1lICYmICFkYXRhLmRlc2NyaXB0aW9uKSB7XG4gICAgICBkYXRhLmRlc2NyaXB0aW9uID0gZXh0cmFjdERlc2NyaXB0aW9uKGRhdGEucmVhZG1lKVxuICAgIH1cbiAgICBpZiAoZGF0YS5kZXNjcmlwdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBkZWxldGUgZGF0YS5kZXNjcmlwdGlvblxuICAgIH1cbiAgICBpZiAoIWRhdGEuZGVzY3JpcHRpb24pIHtcbiAgICAgIHRoaXMud2FybignbWlzc2luZ0Rlc2NyaXB0aW9uJylcbiAgICB9XG4gIH0sXG5cbiAgZml4UmVhZG1lRmllbGQ6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgaWYgKCFkYXRhLnJlYWRtZSkge1xuICAgICAgdGhpcy53YXJuKCdtaXNzaW5nUmVhZG1lJylcbiAgICAgIGRhdGEucmVhZG1lID0gJ0VSUk9SOiBObyBSRUFETUUgZGF0YSBmb3VuZCEnXG4gICAgfVxuICB9LFxuXG4gIGZpeEJ1Z3NGaWVsZDogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICBpZiAoIWRhdGEuYnVncyAmJiBkYXRhLnJlcG9zaXRvcnkgJiYgZGF0YS5yZXBvc2l0b3J5LnVybCkge1xuICAgICAgdmFyIGhvc3RlZCA9IGhvc3RlZEdpdEluZm8uZnJvbVVybChkYXRhLnJlcG9zaXRvcnkudXJsKVxuICAgICAgaWYgKGhvc3RlZCAmJiBob3N0ZWQuYnVncygpKSB7XG4gICAgICAgIGRhdGEuYnVncyA9IHt1cmw6IGhvc3RlZC5idWdzKCl9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChkYXRhLmJ1Z3MpIHtcbiAgICAgIHZhciBlbWFpbFJlID0gL14uK0AuKlxcLi4rJC9cbiAgICAgIGlmICh0eXBlb2YgZGF0YS5idWdzID09PSAnc3RyaW5nJykge1xuICAgICAgICBpZiAoZW1haWxSZS50ZXN0KGRhdGEuYnVncykpIHtcbiAgICAgICAgICBkYXRhLmJ1Z3MgPSB7ZW1haWw6IGRhdGEuYnVnc31cbiAgICAgICAgLyogZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vZGUvbm8tZGVwcmVjYXRlZC1hcGkgKi9cbiAgICAgICAgfSBlbHNlIGlmICh1cmwucGFyc2UoZGF0YS5idWdzKS5wcm90b2NvbCkge1xuICAgICAgICAgIGRhdGEuYnVncyA9IHt1cmw6IGRhdGEuYnVnc31cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLndhcm4oJ25vbkVtYWlsVXJsQnVnc1N0cmluZycpXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJ1Z3NUeXBvcyhkYXRhLmJ1Z3MsIHRoaXMud2FybilcbiAgICAgICAgdmFyIG9sZEJ1Z3MgPSBkYXRhLmJ1Z3NcbiAgICAgICAgZGF0YS5idWdzID0ge31cbiAgICAgICAgaWYgKG9sZEJ1Z3MudXJsKSB7XG4gICAgICAgICAgLyogZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vZGUvbm8tZGVwcmVjYXRlZC1hcGkgKi9cbiAgICAgICAgICBpZiAodHlwZW9mIChvbGRCdWdzLnVybCkgPT09ICdzdHJpbmcnICYmIHVybC5wYXJzZShvbGRCdWdzLnVybCkucHJvdG9jb2wpIHtcbiAgICAgICAgICAgIGRhdGEuYnVncy51cmwgPSBvbGRCdWdzLnVybFxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLndhcm4oJ25vblVybEJ1Z3NVcmxGaWVsZCcpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChvbGRCdWdzLmVtYWlsKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiAob2xkQnVncy5lbWFpbCkgPT09ICdzdHJpbmcnICYmIGVtYWlsUmUudGVzdChvbGRCdWdzLmVtYWlsKSkge1xuICAgICAgICAgICAgZGF0YS5idWdzLmVtYWlsID0gb2xkQnVncy5lbWFpbFxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLndhcm4oJ25vbkVtYWlsQnVnc0VtYWlsRmllbGQnKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCFkYXRhLmJ1Z3MuZW1haWwgJiYgIWRhdGEuYnVncy51cmwpIHtcbiAgICAgICAgZGVsZXRlIGRhdGEuYnVnc1xuICAgICAgICB0aGlzLndhcm4oJ2VtcHR5Tm9ybWFsaXplZEJ1Z3MnKVxuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICBmaXhIb21lcGFnZUZpZWxkOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgIGlmICghZGF0YS5ob21lcGFnZSAmJiBkYXRhLnJlcG9zaXRvcnkgJiYgZGF0YS5yZXBvc2l0b3J5LnVybCkge1xuICAgICAgdmFyIGhvc3RlZCA9IGhvc3RlZEdpdEluZm8uZnJvbVVybChkYXRhLnJlcG9zaXRvcnkudXJsKVxuICAgICAgaWYgKGhvc3RlZCAmJiBob3N0ZWQuZG9jcygpKSB7XG4gICAgICAgIGRhdGEuaG9tZXBhZ2UgPSBob3N0ZWQuZG9jcygpXG4gICAgICB9XG4gICAgfVxuICAgIGlmICghZGF0YS5ob21lcGFnZSkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBkYXRhLmhvbWVwYWdlICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhpcy53YXJuKCdub25VcmxIb21lcGFnZScpXG4gICAgICByZXR1cm4gZGVsZXRlIGRhdGEuaG9tZXBhZ2VcbiAgICB9XG4gICAgLyogZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vZGUvbm8tZGVwcmVjYXRlZC1hcGkgKi9cbiAgICBpZiAoIXVybC5wYXJzZShkYXRhLmhvbWVwYWdlKS5wcm90b2NvbCkge1xuICAgICAgZGF0YS5ob21lcGFnZSA9ICdodHRwOi8vJyArIGRhdGEuaG9tZXBhZ2VcbiAgICB9XG4gIH0sXG5cbiAgZml4TGljZW5zZUZpZWxkOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgIGNvbnN0IGxpY2Vuc2UgPSBkYXRhLmxpY2Vuc2UgfHwgZGF0YS5saWNlbmNlXG4gICAgaWYgKCFsaWNlbnNlKSB7XG4gICAgICByZXR1cm4gdGhpcy53YXJuKCdtaXNzaW5nTGljZW5zZScpXG4gICAgfVxuICAgIGlmIChcbiAgICAgIHR5cGVvZiAobGljZW5zZSkgIT09ICdzdHJpbmcnIHx8XG4gICAgICBsaWNlbnNlLmxlbmd0aCA8IDEgfHxcbiAgICAgIGxpY2Vuc2UudHJpbSgpID09PSAnJ1xuICAgICkge1xuICAgICAgcmV0dXJuIHRoaXMud2FybignaW52YWxpZExpY2Vuc2UnKVxuICAgIH1cbiAgICBpZiAoIXZhbGlkYXRlTGljZW5zZShsaWNlbnNlKS52YWxpZEZvck5ld1BhY2thZ2VzKSB7XG4gICAgICByZXR1cm4gdGhpcy53YXJuKCdpbnZhbGlkTGljZW5zZScpXG4gICAgfVxuICB9LFxufVxuXG5mdW5jdGlvbiBpc1ZhbGlkU2NvcGVkUGFja2FnZU5hbWUgKHNwZWMpIHtcbiAgaWYgKHNwZWMuY2hhckF0KDApICE9PSAnQCcpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIHZhciByZXN0ID0gc3BlYy5zbGljZSgxKS5zcGxpdCgnLycpXG4gIGlmIChyZXN0Lmxlbmd0aCAhPT0gMikge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgcmV0dXJuIHJlc3RbMF0gJiYgcmVzdFsxXSAmJlxuICAgIHJlc3RbMF0gPT09IGVuY29kZVVSSUNvbXBvbmVudChyZXN0WzBdKSAmJlxuICAgIHJlc3RbMV0gPT09IGVuY29kZVVSSUNvbXBvbmVudChyZXN0WzFdKVxufVxuXG5mdW5jdGlvbiBpc0NvcnJlY3RseUVuY29kZWROYW1lIChzcGVjKSB7XG4gIHJldHVybiAhc3BlYy5tYXRjaCgvWy9AXFxzKyU6XS8pICYmXG4gICAgc3BlYyA9PT0gZW5jb2RlVVJJQ29tcG9uZW50KHNwZWMpXG59XG5cbmZ1bmN0aW9uIGVuc3VyZVZhbGlkTmFtZSAobmFtZSwgc3RyaWN0LCBhbGxvd0xlZ2FjeUNhc2UpIHtcbiAgaWYgKG5hbWUuY2hhckF0KDApID09PSAnLicgfHxcbiAgICAgICEoaXNWYWxpZFNjb3BlZFBhY2thZ2VOYW1lKG5hbWUpIHx8IGlzQ29ycmVjdGx5RW5jb2RlZE5hbWUobmFtZSkpIHx8XG4gICAgICAoc3RyaWN0ICYmICghYWxsb3dMZWdhY3lDYXNlKSAmJiBuYW1lICE9PSBuYW1lLnRvTG93ZXJDYXNlKCkpIHx8XG4gICAgICBuYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdub2RlX21vZHVsZXMnIHx8XG4gICAgICBuYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdmYXZpY29uLmljbycpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgbmFtZTogJyArIEpTT04uc3RyaW5naWZ5KG5hbWUpKVxuICB9XG59XG5cbmZ1bmN0aW9uIG1vZGlmeVBlb3BsZSAoZGF0YSwgZm4pIHtcbiAgaWYgKGRhdGEuYXV0aG9yKSB7XG4gICAgZGF0YS5hdXRob3IgPSBmbihkYXRhLmF1dGhvcilcbiAgfVsnbWFpbnRhaW5lcnMnLCAnY29udHJpYnV0b3JzJ10uZm9yRWFjaChmdW5jdGlvbiAoc2V0KSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGRhdGFbc2V0XSkpIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBkYXRhW3NldF0gPSBkYXRhW3NldF0ubWFwKGZuKVxuICB9KVxuICByZXR1cm4gZGF0YVxufVxuXG5mdW5jdGlvbiB1blBhcnNlUGVyc29uIChwZXJzb24pIHtcbiAgaWYgKHR5cGVvZiBwZXJzb24gPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHBlcnNvblxuICB9XG4gIHZhciBuYW1lID0gcGVyc29uLm5hbWUgfHwgJydcbiAgdmFyIHUgPSBwZXJzb24udXJsIHx8IHBlcnNvbi53ZWJcbiAgdmFyIHVybCA9IHUgPyAoJyAoJyArIHUgKyAnKScpIDogJydcbiAgdmFyIGUgPSBwZXJzb24uZW1haWwgfHwgcGVyc29uLm1haWxcbiAgdmFyIGVtYWlsID0gZSA/ICgnIDwnICsgZSArICc+JykgOiAnJ1xuICByZXR1cm4gbmFtZSArIGVtYWlsICsgdXJsXG59XG5cbmZ1bmN0aW9uIHBhcnNlUGVyc29uIChwZXJzb24pIHtcbiAgaWYgKHR5cGVvZiBwZXJzb24gIT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHBlcnNvblxuICB9XG4gIHZhciBuYW1lID0gcGVyc29uLm1hdGNoKC9eKFteKDxdKykvKVxuICB2YXIgdXJsID0gcGVyc29uLm1hdGNoKC9cXCgoW14pXSspXFwpLylcbiAgdmFyIGVtYWlsID0gcGVyc29uLm1hdGNoKC88KFtePl0rKT4vKVxuICB2YXIgb2JqID0ge31cbiAgaWYgKG5hbWUgJiYgbmFtZVswXS50cmltKCkpIHtcbiAgICBvYmoubmFtZSA9IG5hbWVbMF0udHJpbSgpXG4gIH1cbiAgaWYgKGVtYWlsKSB7XG4gICAgb2JqLmVtYWlsID0gZW1haWxbMV1cbiAgfVxuICBpZiAodXJsKSB7XG4gICAgb2JqLnVybCA9IHVybFsxXVxuICB9XG4gIHJldHVybiBvYmpcbn1cblxuZnVuY3Rpb24gYWRkT3B0aW9uYWxEZXBzVG9EZXBzIChkYXRhLCB3YXJuKSB7XG4gIHZhciBvID0gZGF0YS5vcHRpb25hbERlcGVuZGVuY2llc1xuICBpZiAoIW8pIHtcbiAgICByZXR1cm5cbiAgfVxuICB2YXIgZCA9IGRhdGEuZGVwZW5kZW5jaWVzIHx8IHt9XG4gIE9iamVjdC5rZXlzKG8pLmZvckVhY2goZnVuY3Rpb24gKGspIHtcbiAgICBkW2tdID0gb1trXVxuICB9KVxuICBkYXRhLmRlcGVuZGVuY2llcyA9IGRcbn1cblxuZnVuY3Rpb24gZGVwT2JqZWN0aWZ5IChkZXBzLCB0eXBlLCB3YXJuKSB7XG4gIGlmICghZGVwcykge1xuICAgIHJldHVybiB7fVxuICB9XG4gIGlmICh0eXBlb2YgZGVwcyA9PT0gJ3N0cmluZycpIHtcbiAgICBkZXBzID0gZGVwcy50cmltKCkuc3BsaXQoL1tcXG5cXHJcXHNcXHQgLF0rLylcbiAgfVxuICBpZiAoIUFycmF5LmlzQXJyYXkoZGVwcykpIHtcbiAgICByZXR1cm4gZGVwc1xuICB9XG4gIHdhcm4oJ2RlcHJlY2F0ZWRBcnJheURlcGVuZGVuY2llcycsIHR5cGUpXG4gIHZhciBvID0ge31cbiAgZGVwcy5maWx0ZXIoZnVuY3Rpb24gKGQpIHtcbiAgICByZXR1cm4gdHlwZW9mIGQgPT09ICdzdHJpbmcnXG4gIH0pLmZvckVhY2goZnVuY3Rpb24gKGQpIHtcbiAgICBkID0gZC50cmltKCkuc3BsaXQoLyg6P1tAXFxzPjw9XSkvKVxuICAgIHZhciBkbiA9IGQuc2hpZnQoKVxuICAgIHZhciBkdiA9IGQuam9pbignJylcbiAgICBkdiA9IGR2LnRyaW0oKVxuICAgIGR2ID0gZHYucmVwbGFjZSgvXkAvLCAnJylcbiAgICBvW2RuXSA9IGR2XG4gIH0pXG4gIHJldHVybiBvXG59XG5cbmZ1bmN0aW9uIG9iamVjdGlmeURlcHMgKGRhdGEsIHdhcm4pIHtcbiAgZGVwVHlwZXMuZm9yRWFjaChmdW5jdGlvbiAodHlwZSkge1xuICAgIGlmICghZGF0YVt0eXBlXSkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGRhdGFbdHlwZV0gPSBkZXBPYmplY3RpZnkoZGF0YVt0eXBlXSwgdHlwZSwgd2FybilcbiAgfSlcbn1cblxuZnVuY3Rpb24gYnVnc1R5cG9zIChidWdzLCB3YXJuKSB7XG4gIGlmICghYnVncykge1xuICAgIHJldHVyblxuICB9XG4gIE9iamVjdC5rZXlzKGJ1Z3MpLmZvckVhY2goZnVuY3Rpb24gKGspIHtcbiAgICBpZiAodHlwb3MuYnVnc1trXSkge1xuICAgICAgd2FybigndHlwbycsIGssIHR5cG9zLmJ1Z3Nba10sICdidWdzJylcbiAgICAgIGJ1Z3NbdHlwb3MuYnVnc1trXV0gPSBidWdzW2tdXG4gICAgICBkZWxldGUgYnVnc1trXVxuICAgIH1cbiAgfSlcbn1cbiIsICJ2YXIgdXRpbCA9IHJlcXVpcmUoJ3V0aWwnKVxudmFyIG1lc3NhZ2VzID0gcmVxdWlyZSgnLi93YXJuaW5nX21lc3NhZ2VzLmpzb24nKVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDApXG4gIHZhciB3YXJuaW5nTmFtZSA9IGFyZ3Muc2hpZnQoKVxuICBpZiAod2FybmluZ05hbWUgPT09ICd0eXBvJykge1xuICAgIHJldHVybiBtYWtlVHlwb1dhcm5pbmcuYXBwbHkobnVsbCwgYXJncylcbiAgfSBlbHNlIHtcbiAgICB2YXIgbXNnVGVtcGxhdGUgPSBtZXNzYWdlc1t3YXJuaW5nTmFtZV0gPyBtZXNzYWdlc1t3YXJuaW5nTmFtZV0gOiB3YXJuaW5nTmFtZSArIFwiOiAnJXMnXCJcbiAgICBhcmdzLnVuc2hpZnQobXNnVGVtcGxhdGUpXG4gICAgcmV0dXJuIHV0aWwuZm9ybWF0LmFwcGx5KG51bGwsIGFyZ3MpXG4gIH1cbn1cblxuZnVuY3Rpb24gbWFrZVR5cG9XYXJuaW5nIChwcm92aWRlZE5hbWUsIHByb2JhYmxlTmFtZSwgZmllbGQpIHtcbiAgaWYgKGZpZWxkKSB7XG4gICAgcHJvdmlkZWROYW1lID0gZmllbGQgKyBcIlsnXCIgKyBwcm92aWRlZE5hbWUgKyBcIiddXCJcbiAgICBwcm9iYWJsZU5hbWUgPSBmaWVsZCArIFwiWydcIiArIHByb2JhYmxlTmFtZSArIFwiJ11cIlxuICB9XG4gIHJldHVybiB1dGlsLmZvcm1hdChtZXNzYWdlcy50eXBvLCBwcm92aWRlZE5hbWUsIHByb2JhYmxlTmFtZSlcbn1cbiIsICJtb2R1bGUuZXhwb3J0cyA9IG5vcm1hbGl6ZVxuXG52YXIgZml4ZXIgPSByZXF1aXJlKCcuL2ZpeGVyJylcbm5vcm1hbGl6ZS5maXhlciA9IGZpeGVyXG5cbnZhciBtYWtlV2FybmluZyA9IHJlcXVpcmUoJy4vbWFrZV93YXJuaW5nJylcblxudmFyIGZpZWxkc1RvRml4ID0gWyduYW1lJywgJ3ZlcnNpb24nLCAnZGVzY3JpcHRpb24nLCAncmVwb3NpdG9yeScsICdtb2R1bGVzJywgJ3NjcmlwdHMnLFxuICAnZmlsZXMnLCAnYmluJywgJ21hbicsICdidWdzJywgJ2tleXdvcmRzJywgJ3JlYWRtZScsICdob21lcGFnZScsICdsaWNlbnNlJ11cbnZhciBvdGhlclRoaW5nc1RvRml4ID0gWydkZXBlbmRlbmNpZXMnLCAncGVvcGxlJywgJ3R5cG9zJ11cblxudmFyIHRoaW5nc1RvRml4ID0gZmllbGRzVG9GaXgubWFwKGZ1bmN0aW9uIChmaWVsZE5hbWUpIHtcbiAgcmV0dXJuIHVjRmlyc3QoZmllbGROYW1lKSArICdGaWVsZCdcbn0pXG4vLyB0d28gd2F5cyB0byBkbyB0aGlzIGluIENvZmZlZVNjcmlwdCBvbiBvbmx5IG9uZSBsaW5lLCBzdWItNzAgY2hhcnM6XG4vLyB0aGluZ3NUb0ZpeCA9IGZpZWxkc1RvRml4Lm1hcCAobmFtZSkgLT4gdWNGaXJzdChuYW1lKSArIFwiRmllbGRcIlxuLy8gdGhpbmdzVG9GaXggPSAodWNGaXJzdChuYW1lKSArIFwiRmllbGRcIiBmb3IgbmFtZSBpbiBmaWVsZHNUb0ZpeClcbnRoaW5nc1RvRml4ID0gdGhpbmdzVG9GaXguY29uY2F0KG90aGVyVGhpbmdzVG9GaXgpXG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZSAoZGF0YSwgd2Fybiwgc3RyaWN0KSB7XG4gIGlmICh3YXJuID09PSB0cnVlKSB7XG4gICAgd2FybiA9IG51bGxcbiAgICBzdHJpY3QgPSB0cnVlXG4gIH1cbiAgaWYgKCFzdHJpY3QpIHtcbiAgICBzdHJpY3QgPSBmYWxzZVxuICB9XG4gIGlmICghd2FybiB8fCBkYXRhLnByaXZhdGUpIHtcbiAgICB3YXJuID0gZnVuY3Rpb24gKG1zZykgeyAvKiBub29wICovIH1cbiAgfVxuXG4gIGlmIChkYXRhLnNjcmlwdHMgJiZcbiAgICAgIGRhdGEuc2NyaXB0cy5pbnN0YWxsID09PSAnbm9kZS1neXAgcmVidWlsZCcgJiZcbiAgICAgICFkYXRhLnNjcmlwdHMucHJlaW5zdGFsbCkge1xuICAgIGRhdGEuZ3lwZmlsZSA9IHRydWVcbiAgfVxuICBmaXhlci53YXJuID0gZnVuY3Rpb24gKCkge1xuICAgIHdhcm4obWFrZVdhcm5pbmcuYXBwbHkobnVsbCwgYXJndW1lbnRzKSlcbiAgfVxuICB0aGluZ3NUb0ZpeC5mb3JFYWNoKGZ1bmN0aW9uICh0aGluZ05hbWUpIHtcbiAgICBmaXhlclsnZml4JyArIHVjRmlyc3QodGhpbmdOYW1lKV0oZGF0YSwgc3RyaWN0KVxuICB9KVxuICBkYXRhLl9pZCA9IGRhdGEubmFtZSArICdAJyArIGRhdGEudmVyc2lvblxufVxuXG5mdW5jdGlvbiB1Y0ZpcnN0IChzdHJpbmcpIHtcbiAgcmV0dXJuIHN0cmluZy5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHN0cmluZy5zbGljZSgxKVxufVxuIiwgImV4cG9ydHMucGFyc2UgPSBleHBvcnRzLmRlY29kZSA9IGRlY29kZVxuXG5leHBvcnRzLnN0cmluZ2lmeSA9IGV4cG9ydHMuZW5jb2RlID0gZW5jb2RlXG5cbmV4cG9ydHMuc2FmZSA9IHNhZmVcbmV4cG9ydHMudW5zYWZlID0gdW5zYWZlXG5cbnZhciBlb2wgPSB0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgcHJvY2Vzcy5wbGF0Zm9ybSA9PT0gJ3dpbjMyJyA/ICdcXHJcXG4nIDogJ1xcbidcblxuZnVuY3Rpb24gZW5jb2RlIChvYmosIG9wdCkge1xuICB2YXIgY2hpbGRyZW4gPSBbXVxuICB2YXIgb3V0ID0gJydcblxuICBpZiAodHlwZW9mIG9wdCA9PT0gJ3N0cmluZycpIHtcbiAgICBvcHQgPSB7XG4gICAgICBzZWN0aW9uOiBvcHQsXG4gICAgICB3aGl0ZXNwYWNlOiBmYWxzZSxcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgb3B0ID0gb3B0IHx8IHt9XG4gICAgb3B0LndoaXRlc3BhY2UgPSBvcHQud2hpdGVzcGFjZSA9PT0gdHJ1ZVxuICB9XG5cbiAgdmFyIHNlcGFyYXRvciA9IG9wdC53aGl0ZXNwYWNlID8gJyA9ICcgOiAnPSdcblxuICBPYmplY3Qua2V5cyhvYmopLmZvckVhY2goZnVuY3Rpb24gKGssIF8sIF9fKSB7XG4gICAgdmFyIHZhbCA9IG9ialtrXVxuICAgIGlmICh2YWwgJiYgQXJyYXkuaXNBcnJheSh2YWwpKSB7XG4gICAgICB2YWwuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICBvdXQgKz0gc2FmZShrICsgJ1tdJykgKyBzZXBhcmF0b3IgKyBzYWZlKGl0ZW0pICsgJ1xcbidcbiAgICAgIH0pXG4gICAgfSBlbHNlIGlmICh2YWwgJiYgdHlwZW9mIHZhbCA9PT0gJ29iamVjdCcpXG4gICAgICBjaGlsZHJlbi5wdXNoKGspXG4gICAgZWxzZVxuICAgICAgb3V0ICs9IHNhZmUoaykgKyBzZXBhcmF0b3IgKyBzYWZlKHZhbCkgKyBlb2xcbiAgfSlcblxuICBpZiAob3B0LnNlY3Rpb24gJiYgb3V0Lmxlbmd0aClcbiAgICBvdXQgPSAnWycgKyBzYWZlKG9wdC5zZWN0aW9uKSArICddJyArIGVvbCArIG91dFxuXG4gIGNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKGssIF8sIF9fKSB7XG4gICAgdmFyIG5rID0gZG90U3BsaXQoaykuam9pbignXFxcXC4nKVxuICAgIHZhciBzZWN0aW9uID0gKG9wdC5zZWN0aW9uID8gb3B0LnNlY3Rpb24gKyAnLicgOiAnJykgKyBua1xuICAgIHZhciBjaGlsZCA9IGVuY29kZShvYmpba10sIHtcbiAgICAgIHNlY3Rpb246IHNlY3Rpb24sXG4gICAgICB3aGl0ZXNwYWNlOiBvcHQud2hpdGVzcGFjZSxcbiAgICB9KVxuICAgIGlmIChvdXQubGVuZ3RoICYmIGNoaWxkLmxlbmd0aClcbiAgICAgIG91dCArPSBlb2xcblxuICAgIG91dCArPSBjaGlsZFxuICB9KVxuXG4gIHJldHVybiBvdXRcbn1cblxuZnVuY3Rpb24gZG90U3BsaXQgKHN0cikge1xuICByZXR1cm4gc3RyLnJlcGxhY2UoL1xcMS9nLCAnXFx1MDAwMkxJVEVSQUxcXFxcMUxJVEVSQUxcXHUwMDAyJylcbiAgICAucmVwbGFjZSgvXFxcXFxcLi9nLCAnXFx1MDAwMScpXG4gICAgLnNwbGl0KC9cXC4vKS5tYXAoZnVuY3Rpb24gKHBhcnQpIHtcbiAgICAgIHJldHVybiBwYXJ0LnJlcGxhY2UoL1xcMS9nLCAnXFxcXC4nKVxuICAgICAgICAucmVwbGFjZSgvXFwyTElURVJBTFxcXFwxTElURVJBTFxcMi9nLCAnXFx1MDAwMScpXG4gICAgfSlcbn1cblxuZnVuY3Rpb24gZGVjb2RlIChzdHIpIHtcbiAgdmFyIG91dCA9IHt9XG4gIHZhciBwID0gb3V0XG4gIHZhciBzZWN0aW9uID0gbnVsbFxuICAvLyAgICAgICAgICBzZWN0aW9uICAgICB8a2V5ICAgICAgPSB2YWx1ZVxuICB2YXIgcmUgPSAvXlxcWyhbXlxcXV0qKVxcXSR8XihbXj1dKykoPSguKikpPyQvaVxuICB2YXIgbGluZXMgPSBzdHIuc3BsaXQoL1tcXHJcXG5dKy9nKVxuXG4gIGxpbmVzLmZvckVhY2goZnVuY3Rpb24gKGxpbmUsIF8sIF9fKSB7XG4gICAgaWYgKCFsaW5lIHx8IGxpbmUubWF0Y2goL15cXHMqWzsjXS8pKVxuICAgICAgcmV0dXJuXG4gICAgdmFyIG1hdGNoID0gbGluZS5tYXRjaChyZSlcbiAgICBpZiAoIW1hdGNoKVxuICAgICAgcmV0dXJuXG4gICAgaWYgKG1hdGNoWzFdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHNlY3Rpb24gPSB1bnNhZmUobWF0Y2hbMV0pXG4gICAgICBpZiAoc2VjdGlvbiA9PT0gJ19fcHJvdG9fXycpIHtcbiAgICAgICAgLy8gbm90IGFsbG93ZWRcbiAgICAgICAgLy8ga2VlcCBwYXJzaW5nIHRoZSBzZWN0aW9uLCBidXQgZG9uJ3QgYXR0YWNoIGl0LlxuICAgICAgICBwID0ge31cbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICBwID0gb3V0W3NlY3Rpb25dID0gb3V0W3NlY3Rpb25dIHx8IHt9XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgdmFyIGtleSA9IHVuc2FmZShtYXRjaFsyXSlcbiAgICBpZiAoa2V5ID09PSAnX19wcm90b19fJylcbiAgICAgIHJldHVyblxuICAgIHZhciB2YWx1ZSA9IG1hdGNoWzNdID8gdW5zYWZlKG1hdGNoWzRdKSA6IHRydWVcbiAgICBzd2l0Y2ggKHZhbHVlKSB7XG4gICAgICBjYXNlICd0cnVlJzpcbiAgICAgIGNhc2UgJ2ZhbHNlJzpcbiAgICAgIGNhc2UgJ251bGwnOiB2YWx1ZSA9IEpTT04ucGFyc2UodmFsdWUpXG4gICAgfVxuXG4gICAgLy8gQ29udmVydCBrZXlzIHdpdGggJ1tdJyBzdWZmaXggdG8gYW4gYXJyYXlcbiAgICBpZiAoa2V5Lmxlbmd0aCA+IDIgJiYga2V5LnNsaWNlKC0yKSA9PT0gJ1tdJykge1xuICAgICAga2V5ID0ga2V5LnN1YnN0cmluZygwLCBrZXkubGVuZ3RoIC0gMilcbiAgICAgIGlmIChrZXkgPT09ICdfX3Byb3RvX18nKVxuICAgICAgICByZXR1cm5cbiAgICAgIGlmICghcFtrZXldKVxuICAgICAgICBwW2tleV0gPSBbXVxuICAgICAgZWxzZSBpZiAoIUFycmF5LmlzQXJyYXkocFtrZXldKSlcbiAgICAgICAgcFtrZXldID0gW3Bba2V5XV1cbiAgICB9XG5cbiAgICAvLyBzYWZlZ3VhcmQgYWdhaW5zdCByZXNldHRpbmcgYSBwcmV2aW91c2x5IGRlZmluZWRcbiAgICAvLyBhcnJheSBieSBhY2NpZGVudGFsbHkgZm9yZ2V0dGluZyB0aGUgYnJhY2tldHNcbiAgICBpZiAoQXJyYXkuaXNBcnJheShwW2tleV0pKVxuICAgICAgcFtrZXldLnB1c2godmFsdWUpXG4gICAgZWxzZVxuICAgICAgcFtrZXldID0gdmFsdWVcbiAgfSlcblxuICAvLyB7YTp7eToxfSxcImEuYlwiOnt4OjJ9fSAtLT4ge2E6e3k6MSxiOnt4OjJ9fX1cbiAgLy8gdXNlIGEgZmlsdGVyIHRvIHJldHVybiB0aGUga2V5cyB0aGF0IGhhdmUgdG8gYmUgZGVsZXRlZC5cbiAgT2JqZWN0LmtleXMob3V0KS5maWx0ZXIoZnVuY3Rpb24gKGssIF8sIF9fKSB7XG4gICAgaWYgKCFvdXRba10gfHxcbiAgICAgIHR5cGVvZiBvdXRba10gIT09ICdvYmplY3QnIHx8XG4gICAgICBBcnJheS5pc0FycmF5KG91dFtrXSkpXG4gICAgICByZXR1cm4gZmFsc2VcblxuICAgIC8vIHNlZSBpZiB0aGUgcGFyZW50IHNlY3Rpb24gaXMgYWxzbyBhbiBvYmplY3QuXG4gICAgLy8gaWYgc28sIGFkZCBpdCB0byB0aGF0LCBhbmQgbWFyayB0aGlzIG9uZSBmb3IgZGVsZXRpb25cbiAgICB2YXIgcGFydHMgPSBkb3RTcGxpdChrKVxuICAgIHZhciBwID0gb3V0XG4gICAgdmFyIGwgPSBwYXJ0cy5wb3AoKVxuICAgIHZhciBubCA9IGwucmVwbGFjZSgvXFxcXFxcLi9nLCAnLicpXG4gICAgcGFydHMuZm9yRWFjaChmdW5jdGlvbiAocGFydCwgXywgX18pIHtcbiAgICAgIGlmIChwYXJ0ID09PSAnX19wcm90b19fJylcbiAgICAgICAgcmV0dXJuXG4gICAgICBpZiAoIXBbcGFydF0gfHwgdHlwZW9mIHBbcGFydF0gIT09ICdvYmplY3QnKVxuICAgICAgICBwW3BhcnRdID0ge31cbiAgICAgIHAgPSBwW3BhcnRdXG4gICAgfSlcbiAgICBpZiAocCA9PT0gb3V0ICYmIG5sID09PSBsKVxuICAgICAgcmV0dXJuIGZhbHNlXG5cbiAgICBwW25sXSA9IG91dFtrXVxuICAgIHJldHVybiB0cnVlXG4gIH0pLmZvckVhY2goZnVuY3Rpb24gKGRlbCwgXywgX18pIHtcbiAgICBkZWxldGUgb3V0W2RlbF1cbiAgfSlcblxuICByZXR1cm4gb3V0XG59XG5cbmZ1bmN0aW9uIGlzUXVvdGVkICh2YWwpIHtcbiAgcmV0dXJuICh2YWwuY2hhckF0KDApID09PSAnXCInICYmIHZhbC5zbGljZSgtMSkgPT09ICdcIicpIHx8XG4gICAgKHZhbC5jaGFyQXQoMCkgPT09IFwiJ1wiICYmIHZhbC5zbGljZSgtMSkgPT09IFwiJ1wiKVxufVxuXG5mdW5jdGlvbiBzYWZlICh2YWwpIHtcbiAgcmV0dXJuICh0eXBlb2YgdmFsICE9PSAnc3RyaW5nJyB8fFxuICAgIHZhbC5tYXRjaCgvWz1cXHJcXG5dLykgfHxcbiAgICB2YWwubWF0Y2goL15cXFsvKSB8fFxuICAgICh2YWwubGVuZ3RoID4gMSAmJlxuICAgICBpc1F1b3RlZCh2YWwpKSB8fFxuICAgIHZhbCAhPT0gdmFsLnRyaW0oKSlcbiAgICA/IEpTT04uc3RyaW5naWZ5KHZhbClcbiAgICA6IHZhbC5yZXBsYWNlKC87L2csICdcXFxcOycpLnJlcGxhY2UoLyMvZywgJ1xcXFwjJylcbn1cblxuZnVuY3Rpb24gdW5zYWZlICh2YWwsIGRvVW5lc2MpIHtcbiAgdmFsID0gKHZhbCB8fCAnJykudHJpbSgpXG4gIGlmIChpc1F1b3RlZCh2YWwpKSB7XG4gICAgLy8gcmVtb3ZlIHRoZSBzaW5nbGUgcXVvdGVzIGJlZm9yZSBjYWxsaW5nIEpTT04ucGFyc2VcbiAgICBpZiAodmFsLmNoYXJBdCgwKSA9PT0gXCInXCIpXG4gICAgICB2YWwgPSB2YWwuc3Vic3RyKDEsIHZhbC5sZW5ndGggLSAyKVxuXG4gICAgdHJ5IHtcbiAgICAgIHZhbCA9IEpTT04ucGFyc2UodmFsKVxuICAgIH0gY2F0Y2ggKF8pIHt9XG4gIH0gZWxzZSB7XG4gICAgLy8gd2FsayB0aGUgdmFsIHRvIGZpbmQgdGhlIGZpcnN0IG5vdC1lc2NhcGVkIDsgY2hhcmFjdGVyXG4gICAgdmFyIGVzYyA9IGZhbHNlXG4gICAgdmFyIHVuZXNjID0gJydcbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IHZhbC5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIHZhciBjID0gdmFsLmNoYXJBdChpKVxuICAgICAgaWYgKGVzYykge1xuICAgICAgICBpZiAoJ1xcXFw7IycuaW5kZXhPZihjKSAhPT0gLTEpXG4gICAgICAgICAgdW5lc2MgKz0gY1xuICAgICAgICBlbHNlXG4gICAgICAgICAgdW5lc2MgKz0gJ1xcXFwnICsgY1xuXG4gICAgICAgIGVzYyA9IGZhbHNlXG4gICAgICB9IGVsc2UgaWYgKCc7IycuaW5kZXhPZihjKSAhPT0gLTEpXG4gICAgICAgIGJyZWFrXG4gICAgICBlbHNlIGlmIChjID09PSAnXFxcXCcpXG4gICAgICAgIGVzYyA9IHRydWVcbiAgICAgIGVsc2VcbiAgICAgICAgdW5lc2MgKz0gY1xuICAgIH1cbiAgICBpZiAoZXNjKVxuICAgICAgdW5lc2MgKz0gJ1xcXFwnXG5cbiAgICByZXR1cm4gdW5lc2MudHJpbSgpXG4gIH1cbiAgcmV0dXJuIHZhbFxufVxuIiwgInZhciBmcyA9IHJlcXVpcmUoJ2ZzJyk7XG52YXIgaW5pID0gcmVxdWlyZSgnaW5pJyk7XG52YXIgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcblxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGRpcixjYil7XG4gIGZpbmRHaXQoZGlyLGZ1bmN0aW9uKGNvbmZpZykge1xuICAgIGlmKCFjb25maWcpIHJldHVybiBjYihuZXcgRXJyb3IoJ25vIGdpdGNvbmZpZyB0byBiZSBmb3VuZCBhdCAnK2RpcikpXG4gICAgZnMucmVhZEZpbGUoY29uZmlnLGZ1bmN0aW9uKGVycixkYXRhKXtcbiAgICAgIGlmKGVycikgcmV0dXJuIGNiKGVycik7XG4gICAgICB0cnl7XG4gICAgICAgdmFyIGZvcm1hdHRlZCA9IGZvcm1hdChpbmkucGFyc2UoZGF0YS50b1N0cmluZygpKSk7XG4gICAgICB9IGNhdGNoIChlKXtcbiAgICAgICByZXR1cm4gY2IoZSk7XG4gICAgICB9XG4gICAgICBjYihmYWxzZSxmb3JtYXR0ZWQpO1xuICAgIH0pXG4gIH0pXG59XG5cbmZ1bmN0aW9uIGZvcm1hdChkYXRhKXtcbiAgdmFyIG91dCA9IHt9O1xuICBPYmplY3Qua2V5cyhkYXRhKS5mb3JFYWNoKGZ1bmN0aW9uKGspe1xuICAgIGlmKGsuaW5kZXhPZignXCInKT4gLTEpIHtcbiAgICAgIHZhciBwYXJ0cyA9IGsuc3BsaXQoJ1wiJyk7XG4gICAgICB2YXIgcGFyZW50S2V5ID0gcGFydHMuc2hpZnQoKS50cmltKCk7XG4gICAgICB2YXIgY2hpbGRLZXkgPSBwYXJ0cy5zaGlmdCgpLnRyaW0oKTtcbiAgICAgIGlmKCFvdXRbcGFyZW50S2V5XSkgb3V0W3BhcmVudEtleV0gPSB7fTtcbiAgICAgIG91dFtwYXJlbnRLZXldW2NoaWxkS2V5XSA9IGRhdGFba107XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dFtrXSA9IGRhdGFba107XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIG91dDsgXG59XG5cbmZ1bmN0aW9uIGZpbmRHaXQoZGlyLCBjYikge1xuICB2YXIgZm9sZGVyID0gcGF0aC5qb2luKGRpciwgJy5naXQvY29uZmlnJylcbiAgZnMuZXhpc3RzKGZvbGRlcixmdW5jdGlvbihleGlzdHMpIHtcbiAgICBpZihleGlzdHMpIHJldHVybiBjYihmb2xkZXIpXG4gICAgaWYoZGlyID09PSBwYXRoLnJlc29sdmUoZGlyLCAnLi4nKSkgcmV0dXJuIGNiKGZhbHNlKVxuICAgIGZpbmRHaXQocGF0aC5yZXNvbHZlKGRpciwgJy4uJyksIGNiKVxuICB9KVxufVxuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIHByb2Nlc3NGbiA9IGZ1bmN0aW9uIChmbiwgUCwgb3B0cykge1xuXHRyZXR1cm4gZnVuY3Rpb24gKCkge1xuXHRcdHZhciB0aGF0ID0gdGhpcztcblx0XHR2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoKTtcblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRhcmdzW2ldID0gYXJndW1lbnRzW2ldO1xuXHRcdH1cblxuXHRcdHJldHVybiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdFx0XHRhcmdzLnB1c2goZnVuY3Rpb24gKGVyciwgcmVzdWx0KSB7XG5cdFx0XHRcdGlmIChlcnIpIHtcblx0XHRcdFx0XHRyZWplY3QoZXJyKTtcblx0XHRcdFx0fSBlbHNlIGlmIChvcHRzLm11bHRpQXJncykge1xuXHRcdFx0XHRcdHZhciByZXN1bHRzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcblxuXHRcdFx0XHRcdGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdFx0XHRyZXN1bHRzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXNvbHZlKHJlc3VsdHMpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHJlc29sdmUocmVzdWx0KTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cblx0XHRcdGZuLmFwcGx5KHRoYXQsIGFyZ3MpO1xuXHRcdH0pO1xuXHR9O1xufTtcblxudmFyIHBpZnkgPSBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvYmosIFAsIG9wdHMpIHtcblx0aWYgKHR5cGVvZiBQICE9PSAnZnVuY3Rpb24nKSB7XG5cdFx0b3B0cyA9IFA7XG5cdFx0UCA9IFByb21pc2U7XG5cdH1cblxuXHRvcHRzID0gb3B0cyB8fCB7fTtcblx0b3B0cy5leGNsdWRlID0gb3B0cy5leGNsdWRlIHx8IFsvLitTeW5jJC9dO1xuXG5cdHZhciBmaWx0ZXIgPSBmdW5jdGlvbiAoa2V5KSB7XG5cdFx0dmFyIG1hdGNoID0gZnVuY3Rpb24gKHBhdHRlcm4pIHtcblx0XHRcdHJldHVybiB0eXBlb2YgcGF0dGVybiA9PT0gJ3N0cmluZycgPyBrZXkgPT09IHBhdHRlcm4gOiBwYXR0ZXJuLnRlc3Qoa2V5KTtcblx0XHR9O1xuXG5cdFx0cmV0dXJuIG9wdHMuaW5jbHVkZSA/IG9wdHMuaW5jbHVkZS5zb21lKG1hdGNoKSA6ICFvcHRzLmV4Y2x1ZGUuc29tZShtYXRjaCk7XG5cdH07XG5cblx0dmFyIHJldCA9IHR5cGVvZiBvYmogPT09ICdmdW5jdGlvbicgPyBmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKG9wdHMuZXhjbHVkZU1haW4pIHtcblx0XHRcdHJldHVybiBvYmouYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gcHJvY2Vzc0ZuKG9iaiwgUCwgb3B0cykuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0fSA6IHt9O1xuXG5cdHJldHVybiBPYmplY3Qua2V5cyhvYmopLnJlZHVjZShmdW5jdGlvbiAocmV0LCBrZXkpIHtcblx0XHR2YXIgeCA9IG9ialtrZXldO1xuXG5cdFx0cmV0W2tleV0gPSB0eXBlb2YgeCA9PT0gJ2Z1bmN0aW9uJyAmJiBmaWx0ZXIoa2V5KSA/IHByb2Nlc3NGbih4LCBQLCBvcHRzKSA6IHg7XG5cblx0XHRyZXR1cm4gcmV0O1xuXHR9LCByZXQpO1xufTtcblxucGlmeS5hbGwgPSBwaWZ5O1xuIiwgIid1c2Ugc3RyaWN0JztcbmNvbnN0IGdpdGNvbmZpZyA9IHJlcXVpcmUoJ2dpdGNvbmZpZ2xvY2FsJyk7XG5jb25zdCBwaWZ5ID0gcmVxdWlyZSgncGlmeScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGRpciA9PiB7XG5cdHJldHVybiBwaWZ5KGdpdGNvbmZpZykoZGlyIHx8IHByb2Nlc3MuY3dkKCkpLnRoZW4oY29uZmlnID0+IHtcblx0XHR2YXIgdXJsID0gY29uZmlnLnJlbW90ZSAmJiBjb25maWcucmVtb3RlLm9yaWdpbiAmJiBjb25maWcucmVtb3RlLm9yaWdpbi51cmw7XG5cblx0XHRpZiAoIXVybCkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdDb3VsZG5cXCd0IGZpbmQgb3JpZ2luIHVybCcpO1xuXHRcdH1cblxuXHRcdHJldHVybiB1cmw7XG5cdH0pO1xufTtcbiIsICJ2YXIgY29uc3RhbnRzID0gcmVxdWlyZSgnY29uc3RhbnRzJylcblxudmFyIG9yaWdDd2QgPSBwcm9jZXNzLmN3ZFxudmFyIGN3ZCA9IG51bGxcblxudmFyIHBsYXRmb3JtID0gcHJvY2Vzcy5lbnYuR1JBQ0VGVUxfRlNfUExBVEZPUk0gfHwgcHJvY2Vzcy5wbGF0Zm9ybVxuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uKCkge1xuICBpZiAoIWN3ZClcbiAgICBjd2QgPSBvcmlnQ3dkLmNhbGwocHJvY2VzcylcbiAgcmV0dXJuIGN3ZFxufVxudHJ5IHtcbiAgcHJvY2Vzcy5jd2QoKVxufSBjYXRjaCAoZXIpIHt9XG5cbi8vIFRoaXMgY2hlY2sgaXMgbmVlZGVkIHVudGlsIG5vZGUuanMgMTIgaXMgcmVxdWlyZWRcbmlmICh0eXBlb2YgcHJvY2Vzcy5jaGRpciA9PT0gJ2Z1bmN0aW9uJykge1xuICB2YXIgY2hkaXIgPSBwcm9jZXNzLmNoZGlyXG4gIHByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZCkge1xuICAgIGN3ZCA9IG51bGxcbiAgICBjaGRpci5jYWxsKHByb2Nlc3MsIGQpXG4gIH1cbiAgaWYgKE9iamVjdC5zZXRQcm90b3R5cGVPZikgT2JqZWN0LnNldFByb3RvdHlwZU9mKHByb2Nlc3MuY2hkaXIsIGNoZGlyKVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHBhdGNoXG5cbmZ1bmN0aW9uIHBhdGNoIChmcykge1xuICAvLyAocmUtKWltcGxlbWVudCBzb21lIHRoaW5ncyB0aGF0IGFyZSBrbm93biBidXN0ZWQgb3IgbWlzc2luZy5cblxuICAvLyBsY2htb2QsIGJyb2tlbiBwcmlvciB0byAwLjYuMlxuICAvLyBiYWNrLXBvcnQgdGhlIGZpeCBoZXJlLlxuICBpZiAoY29uc3RhbnRzLmhhc093blByb3BlcnR5KCdPX1NZTUxJTksnKSAmJlxuICAgICAgcHJvY2Vzcy52ZXJzaW9uLm1hdGNoKC9edjBcXC42XFwuWzAtMl18XnYwXFwuNVxcLi8pKSB7XG4gICAgcGF0Y2hMY2htb2QoZnMpXG4gIH1cblxuICAvLyBsdXRpbWVzIGltcGxlbWVudGF0aW9uLCBvciBuby1vcFxuICBpZiAoIWZzLmx1dGltZXMpIHtcbiAgICBwYXRjaEx1dGltZXMoZnMpXG4gIH1cblxuICAvLyBodHRwczovL2dpdGh1Yi5jb20vaXNhYWNzL25vZGUtZ3JhY2VmdWwtZnMvaXNzdWVzLzRcbiAgLy8gQ2hvd24gc2hvdWxkIG5vdCBmYWlsIG9uIGVpbnZhbCBvciBlcGVybSBpZiBub24tcm9vdC5cbiAgLy8gSXQgc2hvdWxkIG5vdCBmYWlsIG9uIGVub3N5cyBldmVyLCBhcyB0aGlzIGp1c3QgaW5kaWNhdGVzXG4gIC8vIHRoYXQgYSBmcyBkb2Vzbid0IHN1cHBvcnQgdGhlIGludGVuZGVkIG9wZXJhdGlvbi5cblxuICBmcy5jaG93biA9IGNob3duRml4KGZzLmNob3duKVxuICBmcy5mY2hvd24gPSBjaG93bkZpeChmcy5mY2hvd24pXG4gIGZzLmxjaG93biA9IGNob3duRml4KGZzLmxjaG93bilcblxuICBmcy5jaG1vZCA9IGNobW9kRml4KGZzLmNobW9kKVxuICBmcy5mY2htb2QgPSBjaG1vZEZpeChmcy5mY2htb2QpXG4gIGZzLmxjaG1vZCA9IGNobW9kRml4KGZzLmxjaG1vZClcblxuICBmcy5jaG93blN5bmMgPSBjaG93bkZpeFN5bmMoZnMuY2hvd25TeW5jKVxuICBmcy5mY2hvd25TeW5jID0gY2hvd25GaXhTeW5jKGZzLmZjaG93blN5bmMpXG4gIGZzLmxjaG93blN5bmMgPSBjaG93bkZpeFN5bmMoZnMubGNob3duU3luYylcblxuICBmcy5jaG1vZFN5bmMgPSBjaG1vZEZpeFN5bmMoZnMuY2htb2RTeW5jKVxuICBmcy5mY2htb2RTeW5jID0gY2htb2RGaXhTeW5jKGZzLmZjaG1vZFN5bmMpXG4gIGZzLmxjaG1vZFN5bmMgPSBjaG1vZEZpeFN5bmMoZnMubGNobW9kU3luYylcblxuICBmcy5zdGF0ID0gc3RhdEZpeChmcy5zdGF0KVxuICBmcy5mc3RhdCA9IHN0YXRGaXgoZnMuZnN0YXQpXG4gIGZzLmxzdGF0ID0gc3RhdEZpeChmcy5sc3RhdClcblxuICBmcy5zdGF0U3luYyA9IHN0YXRGaXhTeW5jKGZzLnN0YXRTeW5jKVxuICBmcy5mc3RhdFN5bmMgPSBzdGF0Rml4U3luYyhmcy5mc3RhdFN5bmMpXG4gIGZzLmxzdGF0U3luYyA9IHN0YXRGaXhTeW5jKGZzLmxzdGF0U3luYylcblxuICAvLyBpZiBsY2htb2QvbGNob3duIGRvIG5vdCBleGlzdCwgdGhlbiBtYWtlIHRoZW0gbm8tb3BzXG4gIGlmIChmcy5jaG1vZCAmJiAhZnMubGNobW9kKSB7XG4gICAgZnMubGNobW9kID0gZnVuY3Rpb24gKHBhdGgsIG1vZGUsIGNiKSB7XG4gICAgICBpZiAoY2IpIHByb2Nlc3MubmV4dFRpY2soY2IpXG4gICAgfVxuICAgIGZzLmxjaG1vZFN5bmMgPSBmdW5jdGlvbiAoKSB7fVxuICB9XG4gIGlmIChmcy5jaG93biAmJiAhZnMubGNob3duKSB7XG4gICAgZnMubGNob3duID0gZnVuY3Rpb24gKHBhdGgsIHVpZCwgZ2lkLCBjYikge1xuICAgICAgaWYgKGNiKSBwcm9jZXNzLm5leHRUaWNrKGNiKVxuICAgIH1cbiAgICBmcy5sY2hvd25TeW5jID0gZnVuY3Rpb24gKCkge31cbiAgfVxuXG4gIC8vIG9uIFdpbmRvd3MsIEEvViBzb2Z0d2FyZSBjYW4gbG9jayB0aGUgZGlyZWN0b3J5LCBjYXVzaW5nIHRoaXNcbiAgLy8gdG8gZmFpbCB3aXRoIGFuIEVBQ0NFUyBvciBFUEVSTSBpZiB0aGUgZGlyZWN0b3J5IGNvbnRhaW5zIG5ld2x5XG4gIC8vIGNyZWF0ZWQgZmlsZXMuICBUcnkgYWdhaW4gb24gZmFpbHVyZSwgZm9yIHVwIHRvIDYwIHNlY29uZHMuXG5cbiAgLy8gU2V0IHRoZSB0aW1lb3V0IHRoaXMgbG9uZyBiZWNhdXNlIHNvbWUgV2luZG93cyBBbnRpLVZpcnVzLCBzdWNoIGFzIFBhcml0eVxuICAvLyBiaXQ5LCBtYXkgbG9jayBmaWxlcyBmb3IgdXAgdG8gYSBtaW51dGUsIGNhdXNpbmcgbnBtIHBhY2thZ2UgaW5zdGFsbFxuICAvLyBmYWlsdXJlcy4gQWxzbywgdGFrZSBjYXJlIHRvIHlpZWxkIHRoZSBzY2hlZHVsZXIuIFdpbmRvd3Mgc2NoZWR1bGluZyBnaXZlc1xuICAvLyBDUFUgdG8gYSBidXN5IGxvb3BpbmcgcHJvY2Vzcywgd2hpY2ggY2FuIGNhdXNlIHRoZSBwcm9ncmFtIGNhdXNpbmcgdGhlIGxvY2tcbiAgLy8gY29udGVudGlvbiB0byBiZSBzdGFydmVkIG9mIENQVSBieSBub2RlLCBzbyB0aGUgY29udGVudGlvbiBkb2Vzbid0IHJlc29sdmUuXG4gIGlmIChwbGF0Zm9ybSA9PT0gXCJ3aW4zMlwiKSB7XG4gICAgZnMucmVuYW1lID0gdHlwZW9mIGZzLnJlbmFtZSAhPT0gJ2Z1bmN0aW9uJyA/IGZzLnJlbmFtZVxuICAgIDogKGZ1bmN0aW9uIChmcyRyZW5hbWUpIHtcbiAgICAgIGZ1bmN0aW9uIHJlbmFtZSAoZnJvbSwgdG8sIGNiKSB7XG4gICAgICAgIHZhciBzdGFydCA9IERhdGUubm93KClcbiAgICAgICAgdmFyIGJhY2tvZmYgPSAwO1xuICAgICAgICBmcyRyZW5hbWUoZnJvbSwgdG8sIGZ1bmN0aW9uIENCIChlcikge1xuICAgICAgICAgIGlmIChlclxuICAgICAgICAgICAgICAmJiAoZXIuY29kZSA9PT0gXCJFQUNDRVNcIiB8fCBlci5jb2RlID09PSBcIkVQRVJNXCIpXG4gICAgICAgICAgICAgICYmIERhdGUubm93KCkgLSBzdGFydCA8IDYwMDAwKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBmcy5zdGF0KHRvLCBmdW5jdGlvbiAoc3RhdGVyLCBzdCkge1xuICAgICAgICAgICAgICAgIGlmIChzdGF0ZXIgJiYgc3RhdGVyLmNvZGUgPT09IFwiRU5PRU5UXCIpXG4gICAgICAgICAgICAgICAgICBmcyRyZW5hbWUoZnJvbSwgdG8sIENCKTtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICBjYihlcilcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0sIGJhY2tvZmYpXG4gICAgICAgICAgICBpZiAoYmFja29mZiA8IDEwMClcbiAgICAgICAgICAgICAgYmFja29mZiArPSAxMDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGNiKSBjYihlcilcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICAgIGlmIChPYmplY3Quc2V0UHJvdG90eXBlT2YpIE9iamVjdC5zZXRQcm90b3R5cGVPZihyZW5hbWUsIGZzJHJlbmFtZSlcbiAgICAgIHJldHVybiByZW5hbWVcbiAgICB9KShmcy5yZW5hbWUpXG4gIH1cblxuICAvLyBpZiByZWFkKCkgcmV0dXJucyBFQUdBSU4sIHRoZW4ganVzdCB0cnkgaXQgYWdhaW4uXG4gIGZzLnJlYWQgPSB0eXBlb2YgZnMucmVhZCAhPT0gJ2Z1bmN0aW9uJyA/IGZzLnJlYWRcbiAgOiAoZnVuY3Rpb24gKGZzJHJlYWQpIHtcbiAgICBmdW5jdGlvbiByZWFkIChmZCwgYnVmZmVyLCBvZmZzZXQsIGxlbmd0aCwgcG9zaXRpb24sIGNhbGxiYWNrXykge1xuICAgICAgdmFyIGNhbGxiYWNrXG4gICAgICBpZiAoY2FsbGJhY2tfICYmIHR5cGVvZiBjYWxsYmFja18gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdmFyIGVhZ0NvdW50ZXIgPSAwXG4gICAgICAgIGNhbGxiYWNrID0gZnVuY3Rpb24gKGVyLCBfLCBfXykge1xuICAgICAgICAgIGlmIChlciAmJiBlci5jb2RlID09PSAnRUFHQUlOJyAmJiBlYWdDb3VudGVyIDwgMTApIHtcbiAgICAgICAgICAgIGVhZ0NvdW50ZXIgKytcbiAgICAgICAgICAgIHJldHVybiBmcyRyZWFkLmNhbGwoZnMsIGZkLCBidWZmZXIsIG9mZnNldCwgbGVuZ3RoLCBwb3NpdGlvbiwgY2FsbGJhY2spXG4gICAgICAgICAgfVxuICAgICAgICAgIGNhbGxiYWNrXy5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBmcyRyZWFkLmNhbGwoZnMsIGZkLCBidWZmZXIsIG9mZnNldCwgbGVuZ3RoLCBwb3NpdGlvbiwgY2FsbGJhY2spXG4gICAgfVxuXG4gICAgLy8gVGhpcyBlbnN1cmVzIGB1dGlsLnByb21pc2lmeWAgd29ya3MgYXMgaXQgZG9lcyBmb3IgbmF0aXZlIGBmcy5yZWFkYC5cbiAgICBpZiAoT2JqZWN0LnNldFByb3RvdHlwZU9mKSBPYmplY3Quc2V0UHJvdG90eXBlT2YocmVhZCwgZnMkcmVhZClcbiAgICByZXR1cm4gcmVhZFxuICB9KShmcy5yZWFkKVxuXG4gIGZzLnJlYWRTeW5jID0gdHlwZW9mIGZzLnJlYWRTeW5jICE9PSAnZnVuY3Rpb24nID8gZnMucmVhZFN5bmNcbiAgOiAoZnVuY3Rpb24gKGZzJHJlYWRTeW5jKSB7IHJldHVybiBmdW5jdGlvbiAoZmQsIGJ1ZmZlciwgb2Zmc2V0LCBsZW5ndGgsIHBvc2l0aW9uKSB7XG4gICAgdmFyIGVhZ0NvdW50ZXIgPSAwXG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBmcyRyZWFkU3luYy5jYWxsKGZzLCBmZCwgYnVmZmVyLCBvZmZzZXQsIGxlbmd0aCwgcG9zaXRpb24pXG4gICAgICB9IGNhdGNoIChlcikge1xuICAgICAgICBpZiAoZXIuY29kZSA9PT0gJ0VBR0FJTicgJiYgZWFnQ291bnRlciA8IDEwKSB7XG4gICAgICAgICAgZWFnQ291bnRlciArK1xuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgZXJcbiAgICAgIH1cbiAgICB9XG4gIH19KShmcy5yZWFkU3luYylcblxuICBmdW5jdGlvbiBwYXRjaExjaG1vZCAoZnMpIHtcbiAgICBmcy5sY2htb2QgPSBmdW5jdGlvbiAocGF0aCwgbW9kZSwgY2FsbGJhY2spIHtcbiAgICAgIGZzLm9wZW4oIHBhdGhcbiAgICAgICAgICAgICAsIGNvbnN0YW50cy5PX1dST05MWSB8IGNvbnN0YW50cy5PX1NZTUxJTktcbiAgICAgICAgICAgICAsIG1vZGVcbiAgICAgICAgICAgICAsIGZ1bmN0aW9uIChlcnIsIGZkKSB7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICBpZiAoY2FsbGJhY2spIGNhbGxiYWNrKGVycilcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICAvLyBwcmVmZXIgdG8gcmV0dXJuIHRoZSBjaG1vZCBlcnJvciwgaWYgb25lIG9jY3VycyxcbiAgICAgICAgLy8gYnV0IHN0aWxsIHRyeSB0byBjbG9zZSwgYW5kIHJlcG9ydCBjbG9zaW5nIGVycm9ycyBpZiB0aGV5IG9jY3VyLlxuICAgICAgICBmcy5mY2htb2QoZmQsIG1vZGUsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICBmcy5jbG9zZShmZCwgZnVuY3Rpb24oZXJyMikge1xuICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSBjYWxsYmFjayhlcnIgfHwgZXJyMilcbiAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgICAgfSlcbiAgICB9XG5cbiAgICBmcy5sY2htb2RTeW5jID0gZnVuY3Rpb24gKHBhdGgsIG1vZGUpIHtcbiAgICAgIHZhciBmZCA9IGZzLm9wZW5TeW5jKHBhdGgsIGNvbnN0YW50cy5PX1dST05MWSB8IGNvbnN0YW50cy5PX1NZTUxJTkssIG1vZGUpXG5cbiAgICAgIC8vIHByZWZlciB0byByZXR1cm4gdGhlIGNobW9kIGVycm9yLCBpZiBvbmUgb2NjdXJzLFxuICAgICAgLy8gYnV0IHN0aWxsIHRyeSB0byBjbG9zZSwgYW5kIHJlcG9ydCBjbG9zaW5nIGVycm9ycyBpZiB0aGV5IG9jY3VyLlxuICAgICAgdmFyIHRocmV3ID0gdHJ1ZVxuICAgICAgdmFyIHJldFxuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0ID0gZnMuZmNobW9kU3luYyhmZCwgbW9kZSlcbiAgICAgICAgdGhyZXcgPSBmYWxzZVxuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKHRocmV3KSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZzLmNsb3NlU3luYyhmZClcbiAgICAgICAgICB9IGNhdGNoIChlcikge31cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBmcy5jbG9zZVN5bmMoZmQpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXRcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBwYXRjaEx1dGltZXMgKGZzKSB7XG4gICAgaWYgKGNvbnN0YW50cy5oYXNPd25Qcm9wZXJ0eShcIk9fU1lNTElOS1wiKSAmJiBmcy5mdXRpbWVzKSB7XG4gICAgICBmcy5sdXRpbWVzID0gZnVuY3Rpb24gKHBhdGgsIGF0LCBtdCwgY2IpIHtcbiAgICAgICAgZnMub3BlbihwYXRoLCBjb25zdGFudHMuT19TWU1MSU5LLCBmdW5jdGlvbiAoZXIsIGZkKSB7XG4gICAgICAgICAgaWYgKGVyKSB7XG4gICAgICAgICAgICBpZiAoY2IpIGNiKGVyKVxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgfVxuICAgICAgICAgIGZzLmZ1dGltZXMoZmQsIGF0LCBtdCwgZnVuY3Rpb24gKGVyKSB7XG4gICAgICAgICAgICBmcy5jbG9zZShmZCwgZnVuY3Rpb24gKGVyMikge1xuICAgICAgICAgICAgICBpZiAoY2IpIGNiKGVyIHx8IGVyMilcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICAgIH1cblxuICAgICAgZnMubHV0aW1lc1N5bmMgPSBmdW5jdGlvbiAocGF0aCwgYXQsIG10KSB7XG4gICAgICAgIHZhciBmZCA9IGZzLm9wZW5TeW5jKHBhdGgsIGNvbnN0YW50cy5PX1NZTUxJTkspXG4gICAgICAgIHZhciByZXRcbiAgICAgICAgdmFyIHRocmV3ID0gdHJ1ZVxuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldCA9IGZzLmZ1dGltZXNTeW5jKGZkLCBhdCwgbXQpXG4gICAgICAgICAgdGhyZXcgPSBmYWxzZVxuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIGlmICh0aHJldykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgZnMuY2xvc2VTeW5jKGZkKVxuICAgICAgICAgICAgfSBjYXRjaCAoZXIpIHt9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZzLmNsb3NlU3luYyhmZClcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJldFxuICAgICAgfVxuXG4gICAgfSBlbHNlIGlmIChmcy5mdXRpbWVzKSB7XG4gICAgICBmcy5sdXRpbWVzID0gZnVuY3Rpb24gKF9hLCBfYiwgX2MsIGNiKSB7IGlmIChjYikgcHJvY2Vzcy5uZXh0VGljayhjYikgfVxuICAgICAgZnMubHV0aW1lc1N5bmMgPSBmdW5jdGlvbiAoKSB7fVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNobW9kRml4IChvcmlnKSB7XG4gICAgaWYgKCFvcmlnKSByZXR1cm4gb3JpZ1xuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBtb2RlLCBjYikge1xuICAgICAgcmV0dXJuIG9yaWcuY2FsbChmcywgdGFyZ2V0LCBtb2RlLCBmdW5jdGlvbiAoZXIpIHtcbiAgICAgICAgaWYgKGNob3duRXJPayhlcikpIGVyID0gbnVsbFxuICAgICAgICBpZiAoY2IpIGNiLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY2htb2RGaXhTeW5jIChvcmlnKSB7XG4gICAgaWYgKCFvcmlnKSByZXR1cm4gb3JpZ1xuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBtb2RlKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gb3JpZy5jYWxsKGZzLCB0YXJnZXQsIG1vZGUpXG4gICAgICB9IGNhdGNoIChlcikge1xuICAgICAgICBpZiAoIWNob3duRXJPayhlcikpIHRocm93IGVyXG4gICAgICB9XG4gICAgfVxuICB9XG5cblxuICBmdW5jdGlvbiBjaG93bkZpeCAob3JpZykge1xuICAgIGlmICghb3JpZykgcmV0dXJuIG9yaWdcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwgdWlkLCBnaWQsIGNiKSB7XG4gICAgICByZXR1cm4gb3JpZy5jYWxsKGZzLCB0YXJnZXQsIHVpZCwgZ2lkLCBmdW5jdGlvbiAoZXIpIHtcbiAgICAgICAgaWYgKGNob3duRXJPayhlcikpIGVyID0gbnVsbFxuICAgICAgICBpZiAoY2IpIGNiLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY2hvd25GaXhTeW5jIChvcmlnKSB7XG4gICAgaWYgKCFvcmlnKSByZXR1cm4gb3JpZ1xuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCB1aWQsIGdpZCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIG9yaWcuY2FsbChmcywgdGFyZ2V0LCB1aWQsIGdpZClcbiAgICAgIH0gY2F0Y2ggKGVyKSB7XG4gICAgICAgIGlmICghY2hvd25Fck9rKGVyKSkgdGhyb3cgZXJcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzdGF0Rml4IChvcmlnKSB7XG4gICAgaWYgKCFvcmlnKSByZXR1cm4gb3JpZ1xuICAgIC8vIE9sZGVyIHZlcnNpb25zIG9mIE5vZGUgZXJyb25lb3VzbHkgcmV0dXJuZWQgc2lnbmVkIGludGVnZXJzIGZvclxuICAgIC8vIHVpZCArIGdpZC5cbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwgb3B0aW9ucywgY2IpIHtcbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBjYiA9IG9wdGlvbnNcbiAgICAgICAgb3B0aW9ucyA9IG51bGxcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIGNhbGxiYWNrIChlciwgc3RhdHMpIHtcbiAgICAgICAgaWYgKHN0YXRzKSB7XG4gICAgICAgICAgaWYgKHN0YXRzLnVpZCA8IDApIHN0YXRzLnVpZCArPSAweDEwMDAwMDAwMFxuICAgICAgICAgIGlmIChzdGF0cy5naWQgPCAwKSBzdGF0cy5naWQgKz0gMHgxMDAwMDAwMDBcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2IpIGNiLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcbiAgICAgIH1cbiAgICAgIHJldHVybiBvcHRpb25zID8gb3JpZy5jYWxsKGZzLCB0YXJnZXQsIG9wdGlvbnMsIGNhbGxiYWNrKVxuICAgICAgICA6IG9yaWcuY2FsbChmcywgdGFyZ2V0LCBjYWxsYmFjaylcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzdGF0Rml4U3luYyAob3JpZykge1xuICAgIGlmICghb3JpZykgcmV0dXJuIG9yaWdcbiAgICAvLyBPbGRlciB2ZXJzaW9ucyBvZiBOb2RlIGVycm9uZW91c2x5IHJldHVybmVkIHNpZ25lZCBpbnRlZ2VycyBmb3JcbiAgICAvLyB1aWQgKyBnaWQuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBzdGF0cyA9IG9wdGlvbnMgPyBvcmlnLmNhbGwoZnMsIHRhcmdldCwgb3B0aW9ucylcbiAgICAgICAgOiBvcmlnLmNhbGwoZnMsIHRhcmdldClcbiAgICAgIGlmIChzdGF0cykge1xuICAgICAgICBpZiAoc3RhdHMudWlkIDwgMCkgc3RhdHMudWlkICs9IDB4MTAwMDAwMDAwXG4gICAgICAgIGlmIChzdGF0cy5naWQgPCAwKSBzdGF0cy5naWQgKz0gMHgxMDAwMDAwMDBcbiAgICAgIH1cbiAgICAgIHJldHVybiBzdGF0cztcbiAgICB9XG4gIH1cblxuICAvLyBFTk9TWVMgbWVhbnMgdGhhdCB0aGUgZnMgZG9lc24ndCBzdXBwb3J0IHRoZSBvcC4gSnVzdCBpZ25vcmVcbiAgLy8gdGhhdCwgYmVjYXVzZSBpdCBkb2Vzbid0IG1hdHRlci5cbiAgLy9cbiAgLy8gaWYgdGhlcmUncyBubyBnZXR1aWQsIG9yIGlmIGdldHVpZCgpIGlzIHNvbWV0aGluZyBvdGhlclxuICAvLyB0aGFuIDAsIGFuZCB0aGUgZXJyb3IgaXMgRUlOVkFMIG9yIEVQRVJNLCB0aGVuIGp1c3QgaWdub3JlXG4gIC8vIGl0LlxuICAvL1xuICAvLyBUaGlzIHNwZWNpZmljIGNhc2UgaXMgYSBzaWxlbnQgZmFpbHVyZSBpbiBjcCwgaW5zdGFsbCwgdGFyLFxuICAvLyBhbmQgbW9zdCBvdGhlciB1bml4IHRvb2xzIHRoYXQgbWFuYWdlIHBlcm1pc3Npb25zLlxuICAvL1xuICAvLyBXaGVuIHJ1bm5pbmcgYXMgcm9vdCwgb3IgaWYgb3RoZXIgdHlwZXMgb2YgZXJyb3JzIGFyZVxuICAvLyBlbmNvdW50ZXJlZCwgdGhlbiBpdCdzIHN0cmljdC5cbiAgZnVuY3Rpb24gY2hvd25Fck9rIChlcikge1xuICAgIGlmICghZXIpXG4gICAgICByZXR1cm4gdHJ1ZVxuXG4gICAgaWYgKGVyLmNvZGUgPT09IFwiRU5PU1lTXCIpXG4gICAgICByZXR1cm4gdHJ1ZVxuXG4gICAgdmFyIG5vbnJvb3QgPSAhcHJvY2Vzcy5nZXR1aWQgfHwgcHJvY2Vzcy5nZXR1aWQoKSAhPT0gMFxuICAgIGlmIChub25yb290KSB7XG4gICAgICBpZiAoZXIuY29kZSA9PT0gXCJFSU5WQUxcIiB8fCBlci5jb2RlID09PSBcIkVQRVJNXCIpXG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cbn1cbiIsICJ2YXIgU3RyZWFtID0gcmVxdWlyZSgnc3RyZWFtJykuU3RyZWFtXG5cbm1vZHVsZS5leHBvcnRzID0gbGVnYWN5XG5cbmZ1bmN0aW9uIGxlZ2FjeSAoZnMpIHtcbiAgcmV0dXJuIHtcbiAgICBSZWFkU3RyZWFtOiBSZWFkU3RyZWFtLFxuICAgIFdyaXRlU3RyZWFtOiBXcml0ZVN0cmVhbVxuICB9XG5cbiAgZnVuY3Rpb24gUmVhZFN0cmVhbSAocGF0aCwgb3B0aW9ucykge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBSZWFkU3RyZWFtKSkgcmV0dXJuIG5ldyBSZWFkU3RyZWFtKHBhdGgsIG9wdGlvbnMpO1xuXG4gICAgU3RyZWFtLmNhbGwodGhpcyk7XG5cbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICB0aGlzLnBhdGggPSBwYXRoO1xuICAgIHRoaXMuZmQgPSBudWxsO1xuICAgIHRoaXMucmVhZGFibGUgPSB0cnVlO1xuICAgIHRoaXMucGF1c2VkID0gZmFsc2U7XG5cbiAgICB0aGlzLmZsYWdzID0gJ3InO1xuICAgIHRoaXMubW9kZSA9IDQzODsgLyo9MDY2NiovXG4gICAgdGhpcy5idWZmZXJTaXplID0gNjQgKiAxMDI0O1xuXG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAvLyBNaXhpbiBvcHRpb25zIGludG8gdGhpc1xuICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMob3B0aW9ucyk7XG4gICAgZm9yICh2YXIgaW5kZXggPSAwLCBsZW5ndGggPSBrZXlzLmxlbmd0aDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICAgIHZhciBrZXkgPSBrZXlzW2luZGV4XTtcbiAgICAgIHRoaXNba2V5XSA9IG9wdGlvbnNba2V5XTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5lbmNvZGluZykgdGhpcy5zZXRFbmNvZGluZyh0aGlzLmVuY29kaW5nKTtcblxuICAgIGlmICh0aGlzLnN0YXJ0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGlmICgnbnVtYmVyJyAhPT0gdHlwZW9mIHRoaXMuc3RhcnQpIHtcbiAgICAgICAgdGhyb3cgVHlwZUVycm9yKCdzdGFydCBtdXN0IGJlIGEgTnVtYmVyJyk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5lbmQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLmVuZCA9IEluZmluaXR5O1xuICAgICAgfSBlbHNlIGlmICgnbnVtYmVyJyAhPT0gdHlwZW9mIHRoaXMuZW5kKSB7XG4gICAgICAgIHRocm93IFR5cGVFcnJvcignZW5kIG11c3QgYmUgYSBOdW1iZXInKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuc3RhcnQgPiB0aGlzLmVuZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3N0YXJ0IG11c3QgYmUgPD0gZW5kJyk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMucG9zID0gdGhpcy5zdGFydDtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5mZCAhPT0gbnVsbCkge1xuICAgICAgcHJvY2Vzcy5uZXh0VGljayhmdW5jdGlvbigpIHtcbiAgICAgICAgc2VsZi5fcmVhZCgpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZnMub3Blbih0aGlzLnBhdGgsIHRoaXMuZmxhZ3MsIHRoaXMubW9kZSwgZnVuY3Rpb24gKGVyciwgZmQpIHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgc2VsZi5lbWl0KCdlcnJvcicsIGVycik7XG4gICAgICAgIHNlbGYucmVhZGFibGUgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBzZWxmLmZkID0gZmQ7XG4gICAgICBzZWxmLmVtaXQoJ29wZW4nLCBmZCk7XG4gICAgICBzZWxmLl9yZWFkKCk7XG4gICAgfSlcbiAgfVxuXG4gIGZ1bmN0aW9uIFdyaXRlU3RyZWFtIChwYXRoLCBvcHRpb25zKSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFdyaXRlU3RyZWFtKSkgcmV0dXJuIG5ldyBXcml0ZVN0cmVhbShwYXRoLCBvcHRpb25zKTtcblxuICAgIFN0cmVhbS5jYWxsKHRoaXMpO1xuXG4gICAgdGhpcy5wYXRoID0gcGF0aDtcbiAgICB0aGlzLmZkID0gbnVsbDtcbiAgICB0aGlzLndyaXRhYmxlID0gdHJ1ZTtcblxuICAgIHRoaXMuZmxhZ3MgPSAndyc7XG4gICAgdGhpcy5lbmNvZGluZyA9ICdiaW5hcnknO1xuICAgIHRoaXMubW9kZSA9IDQzODsgLyo9MDY2NiovXG4gICAgdGhpcy5ieXRlc1dyaXR0ZW4gPSAwO1xuXG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAvLyBNaXhpbiBvcHRpb25zIGludG8gdGhpc1xuICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMob3B0aW9ucyk7XG4gICAgZm9yICh2YXIgaW5kZXggPSAwLCBsZW5ndGggPSBrZXlzLmxlbmd0aDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICAgIHZhciBrZXkgPSBrZXlzW2luZGV4XTtcbiAgICAgIHRoaXNba2V5XSA9IG9wdGlvbnNba2V5XTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5zdGFydCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBpZiAoJ251bWJlcicgIT09IHR5cGVvZiB0aGlzLnN0YXJ0KSB7XG4gICAgICAgIHRocm93IFR5cGVFcnJvcignc3RhcnQgbXVzdCBiZSBhIE51bWJlcicpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuc3RhcnQgPCAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignc3RhcnQgbXVzdCBiZSA+PSB6ZXJvJyk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMucG9zID0gdGhpcy5zdGFydDtcbiAgICB9XG5cbiAgICB0aGlzLmJ1c3kgPSBmYWxzZTtcbiAgICB0aGlzLl9xdWV1ZSA9IFtdO1xuXG4gICAgaWYgKHRoaXMuZmQgPT09IG51bGwpIHtcbiAgICAgIHRoaXMuX29wZW4gPSBmcy5vcGVuO1xuICAgICAgdGhpcy5fcXVldWUucHVzaChbdGhpcy5fb3BlbiwgdGhpcy5wYXRoLCB0aGlzLmZsYWdzLCB0aGlzLm1vZGUsIHVuZGVmaW5lZF0pO1xuICAgICAgdGhpcy5mbHVzaCgpO1xuICAgIH1cbiAgfVxufVxuIiwgIid1c2Ugc3RyaWN0J1xuXG5tb2R1bGUuZXhwb3J0cyA9IGNsb25lXG5cbnZhciBnZXRQcm90b3R5cGVPZiA9IE9iamVjdC5nZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiAob2JqKSB7XG4gIHJldHVybiBvYmouX19wcm90b19fXG59XG5cbmZ1bmN0aW9uIGNsb25lIChvYmopIHtcbiAgaWYgKG9iaiA9PT0gbnVsbCB8fCB0eXBlb2Ygb2JqICE9PSAnb2JqZWN0JylcbiAgICByZXR1cm4gb2JqXG5cbiAgaWYgKG9iaiBpbnN0YW5jZW9mIE9iamVjdClcbiAgICB2YXIgY29weSA9IHsgX19wcm90b19fOiBnZXRQcm90b3R5cGVPZihvYmopIH1cbiAgZWxzZVxuICAgIHZhciBjb3B5ID0gT2JqZWN0LmNyZWF0ZShudWxsKVxuXG4gIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKG9iaikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvcHksIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSkpXG4gIH0pXG5cbiAgcmV0dXJuIGNvcHlcbn1cbiIsICJ2YXIgZnMgPSByZXF1aXJlKCdmcycpXG52YXIgcG9seWZpbGxzID0gcmVxdWlyZSgnLi9wb2x5ZmlsbHMuanMnKVxudmFyIGxlZ2FjeSA9IHJlcXVpcmUoJy4vbGVnYWN5LXN0cmVhbXMuanMnKVxudmFyIGNsb25lID0gcmVxdWlyZSgnLi9jbG9uZS5qcycpXG5cbnZhciB1dGlsID0gcmVxdWlyZSgndXRpbCcpXG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0IC0gbm9kZSAwLnggcG9seWZpbGwgKi9cbnZhciBncmFjZWZ1bFF1ZXVlXG52YXIgcHJldmlvdXNTeW1ib2xcblxuLyogaXN0YW5idWwgaWdub3JlIGVsc2UgLSBub2RlIDAueCBwb2x5ZmlsbCAqL1xuaWYgKHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIFN5bWJvbC5mb3IgPT09ICdmdW5jdGlvbicpIHtcbiAgZ3JhY2VmdWxRdWV1ZSA9IFN5bWJvbC5mb3IoJ2dyYWNlZnVsLWZzLnF1ZXVlJylcbiAgLy8gVGhpcyBpcyB1c2VkIGluIHRlc3RpbmcgYnkgZnV0dXJlIHZlcnNpb25zXG4gIHByZXZpb3VzU3ltYm9sID0gU3ltYm9sLmZvcignZ3JhY2VmdWwtZnMucHJldmlvdXMnKVxufSBlbHNlIHtcbiAgZ3JhY2VmdWxRdWV1ZSA9ICdfX19ncmFjZWZ1bC1mcy5xdWV1ZSdcbiAgcHJldmlvdXNTeW1ib2wgPSAnX19fZ3JhY2VmdWwtZnMucHJldmlvdXMnXG59XG5cbmZ1bmN0aW9uIG5vb3AgKCkge31cblxuZnVuY3Rpb24gcHVibGlzaFF1ZXVlKGNvbnRleHQsIHF1ZXVlKSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb250ZXh0LCBncmFjZWZ1bFF1ZXVlLCB7XG4gICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBxdWV1ZVxuICAgIH1cbiAgfSlcbn1cblxudmFyIGRlYnVnID0gbm9vcFxuaWYgKHV0aWwuZGVidWdsb2cpXG4gIGRlYnVnID0gdXRpbC5kZWJ1Z2xvZygnZ2ZzNCcpXG5lbHNlIGlmICgvXFxiZ2ZzNFxcYi9pLnRlc3QocHJvY2Vzcy5lbnYuTk9ERV9ERUJVRyB8fCAnJykpXG4gIGRlYnVnID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIG0gPSB1dGlsLmZvcm1hdC5hcHBseSh1dGlsLCBhcmd1bWVudHMpXG4gICAgbSA9ICdHRlM0OiAnICsgbS5zcGxpdCgvXFxuLykuam9pbignXFxuR0ZTNDogJylcbiAgICBjb25zb2xlLmVycm9yKG0pXG4gIH1cblxuLy8gT25jZSB0aW1lIGluaXRpYWxpemF0aW9uXG5pZiAoIWZzW2dyYWNlZnVsUXVldWVdKSB7XG4gIC8vIFRoaXMgcXVldWUgY2FuIGJlIHNoYXJlZCBieSBtdWx0aXBsZSBsb2FkZWQgaW5zdGFuY2VzXG4gIHZhciBxdWV1ZSA9IGdsb2JhbFtncmFjZWZ1bFF1ZXVlXSB8fCBbXVxuICBwdWJsaXNoUXVldWUoZnMsIHF1ZXVlKVxuXG4gIC8vIFBhdGNoIGZzLmNsb3NlL2Nsb3NlU3luYyB0byBzaGFyZWQgcXVldWUgdmVyc2lvbiwgYmVjYXVzZSB3ZSBuZWVkXG4gIC8vIHRvIHJldHJ5KCkgd2hlbmV2ZXIgYSBjbG9zZSBoYXBwZW5zICphbnl3aGVyZSogaW4gdGhlIHByb2dyYW0uXG4gIC8vIFRoaXMgaXMgZXNzZW50aWFsIHdoZW4gbXVsdGlwbGUgZ3JhY2VmdWwtZnMgaW5zdGFuY2VzIGFyZVxuICAvLyBpbiBwbGF5IGF0IHRoZSBzYW1lIHRpbWUuXG4gIGZzLmNsb3NlID0gKGZ1bmN0aW9uIChmcyRjbG9zZSkge1xuICAgIGZ1bmN0aW9uIGNsb3NlIChmZCwgY2IpIHtcbiAgICAgIHJldHVybiBmcyRjbG9zZS5jYWxsKGZzLCBmZCwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAvLyBUaGlzIGZ1bmN0aW9uIHVzZXMgdGhlIGdyYWNlZnVsLWZzIHNoYXJlZCBxdWV1ZVxuICAgICAgICBpZiAoIWVycikge1xuICAgICAgICAgIHJlc2V0UXVldWUoKVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiBjYiA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgICBjYi5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG4gICAgICB9KVxuICAgIH1cblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjbG9zZSwgcHJldmlvdXNTeW1ib2wsIHtcbiAgICAgIHZhbHVlOiBmcyRjbG9zZVxuICAgIH0pXG4gICAgcmV0dXJuIGNsb3NlXG4gIH0pKGZzLmNsb3NlKVxuXG4gIGZzLmNsb3NlU3luYyA9IChmdW5jdGlvbiAoZnMkY2xvc2VTeW5jKSB7XG4gICAgZnVuY3Rpb24gY2xvc2VTeW5jIChmZCkge1xuICAgICAgLy8gVGhpcyBmdW5jdGlvbiB1c2VzIHRoZSBncmFjZWZ1bC1mcyBzaGFyZWQgcXVldWVcbiAgICAgIGZzJGNsb3NlU3luYy5hcHBseShmcywgYXJndW1lbnRzKVxuICAgICAgcmVzZXRRdWV1ZSgpXG4gICAgfVxuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNsb3NlU3luYywgcHJldmlvdXNTeW1ib2wsIHtcbiAgICAgIHZhbHVlOiBmcyRjbG9zZVN5bmNcbiAgICB9KVxuICAgIHJldHVybiBjbG9zZVN5bmNcbiAgfSkoZnMuY2xvc2VTeW5jKVxuXG4gIGlmICgvXFxiZ2ZzNFxcYi9pLnRlc3QocHJvY2Vzcy5lbnYuTk9ERV9ERUJVRyB8fCAnJykpIHtcbiAgICBwcm9jZXNzLm9uKCdleGl0JywgZnVuY3Rpb24oKSB7XG4gICAgICBkZWJ1Zyhmc1tncmFjZWZ1bFF1ZXVlXSlcbiAgICAgIHJlcXVpcmUoJ2Fzc2VydCcpLmVxdWFsKGZzW2dyYWNlZnVsUXVldWVdLmxlbmd0aCwgMClcbiAgICB9KVxuICB9XG59XG5cbmlmICghZ2xvYmFsW2dyYWNlZnVsUXVldWVdKSB7XG4gIHB1Ymxpc2hRdWV1ZShnbG9iYWwsIGZzW2dyYWNlZnVsUXVldWVdKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBwYXRjaChjbG9uZShmcykpXG5pZiAocHJvY2Vzcy5lbnYuVEVTVF9HUkFDRUZVTF9GU19HTE9CQUxfUEFUQ0ggJiYgIWZzLl9fcGF0Y2hlZCkge1xuICAgIG1vZHVsZS5leHBvcnRzID0gcGF0Y2goZnMpXG4gICAgZnMuX19wYXRjaGVkID0gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gcGF0Y2ggKGZzKSB7XG4gIC8vIEV2ZXJ5dGhpbmcgdGhhdCByZWZlcmVuY2VzIHRoZSBvcGVuKCkgZnVuY3Rpb24gbmVlZHMgdG8gYmUgaW4gaGVyZVxuICBwb2x5ZmlsbHMoZnMpXG4gIGZzLmdyYWNlZnVsaWZ5ID0gcGF0Y2hcblxuICBmcy5jcmVhdGVSZWFkU3RyZWFtID0gY3JlYXRlUmVhZFN0cmVhbVxuICBmcy5jcmVhdGVXcml0ZVN0cmVhbSA9IGNyZWF0ZVdyaXRlU3RyZWFtXG4gIHZhciBmcyRyZWFkRmlsZSA9IGZzLnJlYWRGaWxlXG4gIGZzLnJlYWRGaWxlID0gcmVhZEZpbGVcbiAgZnVuY3Rpb24gcmVhZEZpbGUgKHBhdGgsIG9wdGlvbnMsIGNiKSB7XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnZnVuY3Rpb24nKVxuICAgICAgY2IgPSBvcHRpb25zLCBvcHRpb25zID0gbnVsbFxuXG4gICAgcmV0dXJuIGdvJHJlYWRGaWxlKHBhdGgsIG9wdGlvbnMsIGNiKVxuXG4gICAgZnVuY3Rpb24gZ28kcmVhZEZpbGUgKHBhdGgsIG9wdGlvbnMsIGNiLCBzdGFydFRpbWUpIHtcbiAgICAgIHJldHVybiBmcyRyZWFkRmlsZShwYXRoLCBvcHRpb25zLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIGlmIChlcnIgJiYgKGVyci5jb2RlID09PSAnRU1GSUxFJyB8fCBlcnIuY29kZSA9PT0gJ0VORklMRScpKVxuICAgICAgICAgIGVucXVldWUoW2dvJHJlYWRGaWxlLCBbcGF0aCwgb3B0aW9ucywgY2JdLCBlcnIsIHN0YXJ0VGltZSB8fCBEYXRlLm5vdygpLCBEYXRlLm5vdygpXSlcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBjYiA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgICAgIGNiLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICB2YXIgZnMkd3JpdGVGaWxlID0gZnMud3JpdGVGaWxlXG4gIGZzLndyaXRlRmlsZSA9IHdyaXRlRmlsZVxuICBmdW5jdGlvbiB3cml0ZUZpbGUgKHBhdGgsIGRhdGEsIG9wdGlvbnMsIGNiKSB7XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnZnVuY3Rpb24nKVxuICAgICAgY2IgPSBvcHRpb25zLCBvcHRpb25zID0gbnVsbFxuXG4gICAgcmV0dXJuIGdvJHdyaXRlRmlsZShwYXRoLCBkYXRhLCBvcHRpb25zLCBjYilcblxuICAgIGZ1bmN0aW9uIGdvJHdyaXRlRmlsZSAocGF0aCwgZGF0YSwgb3B0aW9ucywgY2IsIHN0YXJ0VGltZSkge1xuICAgICAgcmV0dXJuIGZzJHdyaXRlRmlsZShwYXRoLCBkYXRhLCBvcHRpb25zLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIGlmIChlcnIgJiYgKGVyci5jb2RlID09PSAnRU1GSUxFJyB8fCBlcnIuY29kZSA9PT0gJ0VORklMRScpKVxuICAgICAgICAgIGVucXVldWUoW2dvJHdyaXRlRmlsZSwgW3BhdGgsIGRhdGEsIG9wdGlvbnMsIGNiXSwgZXJyLCBzdGFydFRpbWUgfHwgRGF0ZS5ub3coKSwgRGF0ZS5ub3coKV0pXG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGlmICh0eXBlb2YgY2IgPT09ICdmdW5jdGlvbicpXG4gICAgICAgICAgICBjYi5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgdmFyIGZzJGFwcGVuZEZpbGUgPSBmcy5hcHBlbmRGaWxlXG4gIGlmIChmcyRhcHBlbmRGaWxlKVxuICAgIGZzLmFwcGVuZEZpbGUgPSBhcHBlbmRGaWxlXG4gIGZ1bmN0aW9uIGFwcGVuZEZpbGUgKHBhdGgsIGRhdGEsIG9wdGlvbnMsIGNiKSB7XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnZnVuY3Rpb24nKVxuICAgICAgY2IgPSBvcHRpb25zLCBvcHRpb25zID0gbnVsbFxuXG4gICAgcmV0dXJuIGdvJGFwcGVuZEZpbGUocGF0aCwgZGF0YSwgb3B0aW9ucywgY2IpXG5cbiAgICBmdW5jdGlvbiBnbyRhcHBlbmRGaWxlIChwYXRoLCBkYXRhLCBvcHRpb25zLCBjYiwgc3RhcnRUaW1lKSB7XG4gICAgICByZXR1cm4gZnMkYXBwZW5kRmlsZShwYXRoLCBkYXRhLCBvcHRpb25zLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIGlmIChlcnIgJiYgKGVyci5jb2RlID09PSAnRU1GSUxFJyB8fCBlcnIuY29kZSA9PT0gJ0VORklMRScpKVxuICAgICAgICAgIGVucXVldWUoW2dvJGFwcGVuZEZpbGUsIFtwYXRoLCBkYXRhLCBvcHRpb25zLCBjYl0sIGVyciwgc3RhcnRUaW1lIHx8IERhdGUubm93KCksIERhdGUubm93KCldKVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBpZiAodHlwZW9mIGNiID09PSAnZnVuY3Rpb24nKVxuICAgICAgICAgICAgY2IuYXBwbHkodGhpcywgYXJndW1lbnRzKVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIHZhciBmcyRjb3B5RmlsZSA9IGZzLmNvcHlGaWxlXG4gIGlmIChmcyRjb3B5RmlsZSlcbiAgICBmcy5jb3B5RmlsZSA9IGNvcHlGaWxlXG4gIGZ1bmN0aW9uIGNvcHlGaWxlIChzcmMsIGRlc3QsIGZsYWdzLCBjYikge1xuICAgIGlmICh0eXBlb2YgZmxhZ3MgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNiID0gZmxhZ3NcbiAgICAgIGZsYWdzID0gMFxuICAgIH1cbiAgICByZXR1cm4gZ28kY29weUZpbGUoc3JjLCBkZXN0LCBmbGFncywgY2IpXG5cbiAgICBmdW5jdGlvbiBnbyRjb3B5RmlsZSAoc3JjLCBkZXN0LCBmbGFncywgY2IsIHN0YXJ0VGltZSkge1xuICAgICAgcmV0dXJuIGZzJGNvcHlGaWxlKHNyYywgZGVzdCwgZmxhZ3MsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgaWYgKGVyciAmJiAoZXJyLmNvZGUgPT09ICdFTUZJTEUnIHx8IGVyci5jb2RlID09PSAnRU5GSUxFJykpXG4gICAgICAgICAgZW5xdWV1ZShbZ28kY29weUZpbGUsIFtzcmMsIGRlc3QsIGZsYWdzLCBjYl0sIGVyciwgc3RhcnRUaW1lIHx8IERhdGUubm93KCksIERhdGUubm93KCldKVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBpZiAodHlwZW9mIGNiID09PSAnZnVuY3Rpb24nKVxuICAgICAgICAgICAgY2IuYXBwbHkodGhpcywgYXJndW1lbnRzKVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIHZhciBmcyRyZWFkZGlyID0gZnMucmVhZGRpclxuICBmcy5yZWFkZGlyID0gcmVhZGRpclxuICB2YXIgbm9SZWFkZGlyT3B0aW9uVmVyc2lvbnMgPSAvXnZbMC01XVxcLi9cbiAgZnVuY3Rpb24gcmVhZGRpciAocGF0aCwgb3B0aW9ucywgY2IpIHtcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdmdW5jdGlvbicpXG4gICAgICBjYiA9IG9wdGlvbnMsIG9wdGlvbnMgPSBudWxsXG5cbiAgICB2YXIgZ28kcmVhZGRpciA9IG5vUmVhZGRpck9wdGlvblZlcnNpb25zLnRlc3QocHJvY2Vzcy52ZXJzaW9uKVxuICAgICAgPyBmdW5jdGlvbiBnbyRyZWFkZGlyIChwYXRoLCBvcHRpb25zLCBjYiwgc3RhcnRUaW1lKSB7XG4gICAgICAgIHJldHVybiBmcyRyZWFkZGlyKHBhdGgsIGZzJHJlYWRkaXJDYWxsYmFjayhcbiAgICAgICAgICBwYXRoLCBvcHRpb25zLCBjYiwgc3RhcnRUaW1lXG4gICAgICAgICkpXG4gICAgICB9XG4gICAgICA6IGZ1bmN0aW9uIGdvJHJlYWRkaXIgKHBhdGgsIG9wdGlvbnMsIGNiLCBzdGFydFRpbWUpIHtcbiAgICAgICAgcmV0dXJuIGZzJHJlYWRkaXIocGF0aCwgb3B0aW9ucywgZnMkcmVhZGRpckNhbGxiYWNrKFxuICAgICAgICAgIHBhdGgsIG9wdGlvbnMsIGNiLCBzdGFydFRpbWVcbiAgICAgICAgKSlcbiAgICAgIH1cblxuICAgIHJldHVybiBnbyRyZWFkZGlyKHBhdGgsIG9wdGlvbnMsIGNiKVxuXG4gICAgZnVuY3Rpb24gZnMkcmVhZGRpckNhbGxiYWNrIChwYXRoLCBvcHRpb25zLCBjYiwgc3RhcnRUaW1lKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKGVyciwgZmlsZXMpIHtcbiAgICAgICAgaWYgKGVyciAmJiAoZXJyLmNvZGUgPT09ICdFTUZJTEUnIHx8IGVyci5jb2RlID09PSAnRU5GSUxFJykpXG4gICAgICAgICAgZW5xdWV1ZShbXG4gICAgICAgICAgICBnbyRyZWFkZGlyLFxuICAgICAgICAgICAgW3BhdGgsIG9wdGlvbnMsIGNiXSxcbiAgICAgICAgICAgIGVycixcbiAgICAgICAgICAgIHN0YXJ0VGltZSB8fCBEYXRlLm5vdygpLFxuICAgICAgICAgICAgRGF0ZS5ub3coKVxuICAgICAgICAgIF0pXG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGlmIChmaWxlcyAmJiBmaWxlcy5zb3J0KVxuICAgICAgICAgICAgZmlsZXMuc29ydCgpXG5cbiAgICAgICAgICBpZiAodHlwZW9mIGNiID09PSAnZnVuY3Rpb24nKVxuICAgICAgICAgICAgY2IuY2FsbCh0aGlzLCBlcnIsIGZpbGVzKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaWYgKHByb2Nlc3MudmVyc2lvbi5zdWJzdHIoMCwgNCkgPT09ICd2MC44Jykge1xuICAgIHZhciBsZWdTdHJlYW1zID0gbGVnYWN5KGZzKVxuICAgIFJlYWRTdHJlYW0gPSBsZWdTdHJlYW1zLlJlYWRTdHJlYW1cbiAgICBXcml0ZVN0cmVhbSA9IGxlZ1N0cmVhbXMuV3JpdGVTdHJlYW1cbiAgfVxuXG4gIHZhciBmcyRSZWFkU3RyZWFtID0gZnMuUmVhZFN0cmVhbVxuICBpZiAoZnMkUmVhZFN0cmVhbSkge1xuICAgIFJlYWRTdHJlYW0ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShmcyRSZWFkU3RyZWFtLnByb3RvdHlwZSlcbiAgICBSZWFkU3RyZWFtLnByb3RvdHlwZS5vcGVuID0gUmVhZFN0cmVhbSRvcGVuXG4gIH1cblxuICB2YXIgZnMkV3JpdGVTdHJlYW0gPSBmcy5Xcml0ZVN0cmVhbVxuICBpZiAoZnMkV3JpdGVTdHJlYW0pIHtcbiAgICBXcml0ZVN0cmVhbS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKGZzJFdyaXRlU3RyZWFtLnByb3RvdHlwZSlcbiAgICBXcml0ZVN0cmVhbS5wcm90b3R5cGUub3BlbiA9IFdyaXRlU3RyZWFtJG9wZW5cbiAgfVxuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmcywgJ1JlYWRTdHJlYW0nLCB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gUmVhZFN0cmVhbVxuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiAodmFsKSB7XG4gICAgICBSZWFkU3RyZWFtID0gdmFsXG4gICAgfSxcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICB9KVxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZnMsICdXcml0ZVN0cmVhbScsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBXcml0ZVN0cmVhbVxuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiAodmFsKSB7XG4gICAgICBXcml0ZVN0cmVhbSA9IHZhbFxuICAgIH0sXG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBjb25maWd1cmFibGU6IHRydWVcbiAgfSlcblxuICAvLyBsZWdhY3kgbmFtZXNcbiAgdmFyIEZpbGVSZWFkU3RyZWFtID0gUmVhZFN0cmVhbVxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZnMsICdGaWxlUmVhZFN0cmVhbScsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBGaWxlUmVhZFN0cmVhbVxuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiAodmFsKSB7XG4gICAgICBGaWxlUmVhZFN0cmVhbSA9IHZhbFxuICAgIH0sXG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBjb25maWd1cmFibGU6IHRydWVcbiAgfSlcbiAgdmFyIEZpbGVXcml0ZVN0cmVhbSA9IFdyaXRlU3RyZWFtXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmcywgJ0ZpbGVXcml0ZVN0cmVhbScsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBGaWxlV3JpdGVTdHJlYW1cbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gKHZhbCkge1xuICAgICAgRmlsZVdyaXRlU3RyZWFtID0gdmFsXG4gICAgfSxcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICB9KVxuXG4gIGZ1bmN0aW9uIFJlYWRTdHJlYW0gKHBhdGgsIG9wdGlvbnMpIHtcbiAgICBpZiAodGhpcyBpbnN0YW5jZW9mIFJlYWRTdHJlYW0pXG4gICAgICByZXR1cm4gZnMkUmVhZFN0cmVhbS5hcHBseSh0aGlzLCBhcmd1bWVudHMpLCB0aGlzXG4gICAgZWxzZVxuICAgICAgcmV0dXJuIFJlYWRTdHJlYW0uYXBwbHkoT2JqZWN0LmNyZWF0ZShSZWFkU3RyZWFtLnByb3RvdHlwZSksIGFyZ3VtZW50cylcbiAgfVxuXG4gIGZ1bmN0aW9uIFJlYWRTdHJlYW0kb3BlbiAoKSB7XG4gICAgdmFyIHRoYXQgPSB0aGlzXG4gICAgb3Blbih0aGF0LnBhdGgsIHRoYXQuZmxhZ3MsIHRoYXQubW9kZSwgZnVuY3Rpb24gKGVyciwgZmQpIHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgaWYgKHRoYXQuYXV0b0Nsb3NlKVxuICAgICAgICAgIHRoYXQuZGVzdHJveSgpXG5cbiAgICAgICAgdGhhdC5lbWl0KCdlcnJvcicsIGVycilcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoYXQuZmQgPSBmZFxuICAgICAgICB0aGF0LmVtaXQoJ29wZW4nLCBmZClcbiAgICAgICAgdGhhdC5yZWFkKClcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgZnVuY3Rpb24gV3JpdGVTdHJlYW0gKHBhdGgsIG9wdGlvbnMpIHtcbiAgICBpZiAodGhpcyBpbnN0YW5jZW9mIFdyaXRlU3RyZWFtKVxuICAgICAgcmV0dXJuIGZzJFdyaXRlU3RyZWFtLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyksIHRoaXNcbiAgICBlbHNlXG4gICAgICByZXR1cm4gV3JpdGVTdHJlYW0uYXBwbHkoT2JqZWN0LmNyZWF0ZShXcml0ZVN0cmVhbS5wcm90b3R5cGUpLCBhcmd1bWVudHMpXG4gIH1cblxuICBmdW5jdGlvbiBXcml0ZVN0cmVhbSRvcGVuICgpIHtcbiAgICB2YXIgdGhhdCA9IHRoaXNcbiAgICBvcGVuKHRoYXQucGF0aCwgdGhhdC5mbGFncywgdGhhdC5tb2RlLCBmdW5jdGlvbiAoZXJyLCBmZCkge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICB0aGF0LmRlc3Ryb3koKVxuICAgICAgICB0aGF0LmVtaXQoJ2Vycm9yJywgZXJyKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhhdC5mZCA9IGZkXG4gICAgICAgIHRoYXQuZW1pdCgnb3BlbicsIGZkKVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVSZWFkU3RyZWFtIChwYXRoLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIG5ldyBmcy5SZWFkU3RyZWFtKHBhdGgsIG9wdGlvbnMpXG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVXcml0ZVN0cmVhbSAocGF0aCwgb3B0aW9ucykge1xuICAgIHJldHVybiBuZXcgZnMuV3JpdGVTdHJlYW0ocGF0aCwgb3B0aW9ucylcbiAgfVxuXG4gIHZhciBmcyRvcGVuID0gZnMub3BlblxuICBmcy5vcGVuID0gb3BlblxuICBmdW5jdGlvbiBvcGVuIChwYXRoLCBmbGFncywgbW9kZSwgY2IpIHtcbiAgICBpZiAodHlwZW9mIG1vZGUgPT09ICdmdW5jdGlvbicpXG4gICAgICBjYiA9IG1vZGUsIG1vZGUgPSBudWxsXG5cbiAgICByZXR1cm4gZ28kb3BlbihwYXRoLCBmbGFncywgbW9kZSwgY2IpXG5cbiAgICBmdW5jdGlvbiBnbyRvcGVuIChwYXRoLCBmbGFncywgbW9kZSwgY2IsIHN0YXJ0VGltZSkge1xuICAgICAgcmV0dXJuIGZzJG9wZW4ocGF0aCwgZmxhZ3MsIG1vZGUsIGZ1bmN0aW9uIChlcnIsIGZkKSB7XG4gICAgICAgIGlmIChlcnIgJiYgKGVyci5jb2RlID09PSAnRU1GSUxFJyB8fCBlcnIuY29kZSA9PT0gJ0VORklMRScpKVxuICAgICAgICAgIGVucXVldWUoW2dvJG9wZW4sIFtwYXRoLCBmbGFncywgbW9kZSwgY2JdLCBlcnIsIHN0YXJ0VGltZSB8fCBEYXRlLm5vdygpLCBEYXRlLm5vdygpXSlcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBjYiA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgICAgIGNiLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZnNcbn1cblxuZnVuY3Rpb24gZW5xdWV1ZSAoZWxlbSkge1xuICBkZWJ1ZygnRU5RVUVVRScsIGVsZW1bMF0ubmFtZSwgZWxlbVsxXSlcbiAgZnNbZ3JhY2VmdWxRdWV1ZV0ucHVzaChlbGVtKVxuICByZXRyeSgpXG59XG5cbi8vIGtlZXAgdHJhY2sgb2YgdGhlIHRpbWVvdXQgYmV0d2VlbiByZXRyeSgpIGNhbGxzXG52YXIgcmV0cnlUaW1lclxuXG4vLyByZXNldCB0aGUgc3RhcnRUaW1lIGFuZCBsYXN0VGltZSB0byBub3dcbi8vIHRoaXMgcmVzZXRzIHRoZSBzdGFydCBvZiB0aGUgNjAgc2Vjb25kIG92ZXJhbGwgdGltZW91dCBhcyB3ZWxsIGFzIHRoZVxuLy8gZGVsYXkgYmV0d2VlbiBhdHRlbXB0cyBzbyB0aGF0IHdlJ2xsIHJldHJ5IHRoZXNlIGpvYnMgc29vbmVyXG5mdW5jdGlvbiByZXNldFF1ZXVlICgpIHtcbiAgdmFyIG5vdyA9IERhdGUubm93KClcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBmc1tncmFjZWZ1bFF1ZXVlXS5sZW5ndGg7ICsraSkge1xuICAgIC8vIGVudHJpZXMgdGhhdCBhcmUgb25seSBhIGxlbmd0aCBvZiAyIGFyZSBmcm9tIGFuIG9sZGVyIHZlcnNpb24sIGRvbid0XG4gICAgLy8gYm90aGVyIG1vZGlmeWluZyB0aG9zZSBzaW5jZSB0aGV5J2xsIGJlIHJldHJpZWQgYW55d2F5LlxuICAgIGlmIChmc1tncmFjZWZ1bFF1ZXVlXVtpXS5sZW5ndGggPiAyKSB7XG4gICAgICBmc1tncmFjZWZ1bFF1ZXVlXVtpXVszXSA9IG5vdyAvLyBzdGFydFRpbWVcbiAgICAgIGZzW2dyYWNlZnVsUXVldWVdW2ldWzRdID0gbm93IC8vIGxhc3RUaW1lXG4gICAgfVxuICB9XG4gIC8vIGNhbGwgcmV0cnkgdG8gbWFrZSBzdXJlIHdlJ3JlIGFjdGl2ZWx5IHByb2Nlc3NpbmcgdGhlIHF1ZXVlXG4gIHJldHJ5KClcbn1cblxuZnVuY3Rpb24gcmV0cnkgKCkge1xuICAvLyBjbGVhciB0aGUgdGltZXIgYW5kIHJlbW92ZSBpdCB0byBoZWxwIHByZXZlbnQgdW5pbnRlbmRlZCBjb25jdXJyZW5jeVxuICBjbGVhclRpbWVvdXQocmV0cnlUaW1lcilcbiAgcmV0cnlUaW1lciA9IHVuZGVmaW5lZFxuXG4gIGlmIChmc1tncmFjZWZ1bFF1ZXVlXS5sZW5ndGggPT09IDApXG4gICAgcmV0dXJuXG5cbiAgdmFyIGVsZW0gPSBmc1tncmFjZWZ1bFF1ZXVlXS5zaGlmdCgpXG4gIHZhciBmbiA9IGVsZW1bMF1cbiAgdmFyIGFyZ3MgPSBlbGVtWzFdXG4gIC8vIHRoZXNlIGl0ZW1zIG1heSBiZSB1bnNldCBpZiB0aGV5IHdlcmUgYWRkZWQgYnkgYW4gb2xkZXIgZ3JhY2VmdWwtZnNcbiAgdmFyIGVyciA9IGVsZW1bMl1cbiAgdmFyIHN0YXJ0VGltZSA9IGVsZW1bM11cbiAgdmFyIGxhc3RUaW1lID0gZWxlbVs0XVxuXG4gIC8vIGlmIHdlIGRvbid0IGhhdmUgYSBzdGFydFRpbWUgd2UgaGF2ZSBubyB3YXkgb2Yga25vd2luZyBpZiB3ZSd2ZSB3YWl0ZWRcbiAgLy8gbG9uZyBlbm91Z2gsIHNvIGdvIGFoZWFkIGFuZCByZXRyeSB0aGlzIGl0ZW0gbm93XG4gIGlmIChzdGFydFRpbWUgPT09IHVuZGVmaW5lZCkge1xuICAgIGRlYnVnKCdSRVRSWScsIGZuLm5hbWUsIGFyZ3MpXG4gICAgZm4uYXBwbHkobnVsbCwgYXJncylcbiAgfSBlbHNlIGlmIChEYXRlLm5vdygpIC0gc3RhcnRUaW1lID49IDYwMDAwKSB7XG4gICAgLy8gaXQncyBiZWVuIG1vcmUgdGhhbiA2MCBzZWNvbmRzIHRvdGFsLCBiYWlsIG5vd1xuICAgIGRlYnVnKCdUSU1FT1VUJywgZm4ubmFtZSwgYXJncylcbiAgICB2YXIgY2IgPSBhcmdzLnBvcCgpXG4gICAgaWYgKHR5cGVvZiBjYiA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgIGNiLmNhbGwobnVsbCwgZXJyKVxuICB9IGVsc2Uge1xuICAgIC8vIHRoZSBhbW91bnQgb2YgdGltZSBiZXR3ZWVuIHRoZSBsYXN0IGF0dGVtcHQgYW5kIHJpZ2h0IG5vd1xuICAgIHZhciBzaW5jZUF0dGVtcHQgPSBEYXRlLm5vdygpIC0gbGFzdFRpbWVcbiAgICAvLyB0aGUgYW1vdW50IG9mIHRpbWUgYmV0d2VlbiB3aGVuIHdlIGZpcnN0IHRyaWVkLCBhbmQgd2hlbiB3ZSBsYXN0IHRyaWVkXG4gICAgLy8gcm91bmRlZCB1cCB0byBhdCBsZWFzdCAxXG4gICAgdmFyIHNpbmNlU3RhcnQgPSBNYXRoLm1heChsYXN0VGltZSAtIHN0YXJ0VGltZSwgMSlcbiAgICAvLyBiYWNrb2ZmLiB3YWl0IGxvbmdlciB0aGFuIHRoZSB0b3RhbCB0aW1lIHdlJ3ZlIGJlZW4gcmV0cnlpbmcsIGJ1dCBvbmx5XG4gICAgLy8gdXAgdG8gYSBtYXhpbXVtIG9mIDEwMG1zXG4gICAgdmFyIGRlc2lyZWREZWxheSA9IE1hdGgubWluKHNpbmNlU3RhcnQgKiAxLjIsIDEwMClcbiAgICAvLyBpdCdzIGJlZW4gbG9uZyBlbm91Z2ggc2luY2UgdGhlIGxhc3QgcmV0cnksIGRvIGl0IGFnYWluXG4gICAgaWYgKHNpbmNlQXR0ZW1wdCA+PSBkZXNpcmVkRGVsYXkpIHtcbiAgICAgIGRlYnVnKCdSRVRSWScsIGZuLm5hbWUsIGFyZ3MpXG4gICAgICBmbi5hcHBseShudWxsLCBhcmdzLmNvbmNhdChbc3RhcnRUaW1lXSkpXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGlmIHdlIGNhbid0IGRvIHRoaXMgam9iIHlldCwgcHVzaCBpdCB0byB0aGUgZW5kIG9mIHRoZSBxdWV1ZVxuICAgICAgLy8gYW5kIGxldCB0aGUgbmV4dCBpdGVyYXRpb24gY2hlY2sgYWdhaW5cbiAgICAgIGZzW2dyYWNlZnVsUXVldWVdLnB1c2goZWxlbSlcbiAgICB9XG4gIH1cblxuICAvLyBzY2hlZHVsZSBvdXIgbmV4dCBydW4gaWYgb25lIGlzbid0IGFscmVhZHkgc2NoZWR1bGVkXG4gIGlmIChyZXRyeVRpbWVyID09PSB1bmRlZmluZWQpIHtcbiAgICByZXRyeVRpbWVyID0gc2V0VGltZW91dChyZXRyeSwgMClcbiAgfVxufVxuIiwgIid1c2Ugc3RyaWN0Jztcbm1vZHVsZS5leHBvcnRzID0geCA9PiB7XG5cdGlmICh0eXBlb2YgeCAhPT0gJ3N0cmluZycpIHtcblx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdFeHBlY3RlZCBhIHN0cmluZywgZ290ICcgKyB0eXBlb2YgeCk7XG5cdH1cblxuXHQvLyBDYXRjaGVzIEVGQkJCRiAoVVRGLTggQk9NKSBiZWNhdXNlIHRoZSBidWZmZXItdG8tc3RyaW5nXG5cdC8vIGNvbnZlcnNpb24gdHJhbnNsYXRlcyBpdCB0byBGRUZGIChVVEYtMTYgQk9NKVxuXHRpZiAoeC5jaGFyQ29kZUF0KDApID09PSAweEZFRkYpIHtcblx0XHRyZXR1cm4geC5zbGljZSgxKTtcblx0fVxuXG5cdHJldHVybiB4O1xufTtcbiIsICIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaXNBcnJheWlzaChvYmopIHtcblx0aWYgKCFvYmopIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHRyZXR1cm4gb2JqIGluc3RhbmNlb2YgQXJyYXkgfHwgQXJyYXkuaXNBcnJheShvYmopIHx8XG5cdFx0KG9iai5sZW5ndGggPj0gMCAmJiBvYmouc3BsaWNlIGluc3RhbmNlb2YgRnVuY3Rpb24pO1xufTtcbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlsID0gcmVxdWlyZSgndXRpbCcpO1xudmFyIGlzQXJyYXlpc2ggPSByZXF1aXJlKCdpcy1hcnJheWlzaCcpO1xuXG52YXIgZXJyb3JFeCA9IGZ1bmN0aW9uIGVycm9yRXgobmFtZSwgcHJvcGVydGllcykge1xuXHRpZiAoIW5hbWUgfHwgbmFtZS5jb25zdHJ1Y3RvciAhPT0gU3RyaW5nKSB7XG5cdFx0cHJvcGVydGllcyA9IG5hbWUgfHwge307XG5cdFx0bmFtZSA9IEVycm9yLm5hbWU7XG5cdH1cblxuXHR2YXIgZXJyb3JFeEVycm9yID0gZnVuY3Rpb24gRXJyb3JFWEVycm9yKG1lc3NhZ2UpIHtcblx0XHRpZiAoIXRoaXMpIHtcblx0XHRcdHJldHVybiBuZXcgRXJyb3JFWEVycm9yKG1lc3NhZ2UpO1xuXHRcdH1cblxuXHRcdG1lc3NhZ2UgPSBtZXNzYWdlIGluc3RhbmNlb2YgRXJyb3Jcblx0XHRcdD8gbWVzc2FnZS5tZXNzYWdlXG5cdFx0XHQ6IChtZXNzYWdlIHx8IHRoaXMubWVzc2FnZSk7XG5cblx0XHRFcnJvci5jYWxsKHRoaXMsIG1lc3NhZ2UpO1xuXHRcdEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIGVycm9yRXhFcnJvcik7XG5cblx0XHR0aGlzLm5hbWUgPSBuYW1lO1xuXG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdtZXNzYWdlJywge1xuXHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlLFxuXHRcdFx0ZW51bWVyYWJsZTogZmFsc2UsXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0dmFyIG5ld01lc3NhZ2UgPSBtZXNzYWdlLnNwbGl0KC9cXHI/XFxuL2cpO1xuXG5cdFx0XHRcdGZvciAodmFyIGtleSBpbiBwcm9wZXJ0aWVzKSB7XG5cdFx0XHRcdFx0aWYgKCFwcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KGtleSkpIHtcblx0XHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHZhciBtb2RpZmllciA9IHByb3BlcnRpZXNba2V5XTtcblxuXHRcdFx0XHRcdGlmICgnbWVzc2FnZScgaW4gbW9kaWZpZXIpIHtcblx0XHRcdFx0XHRcdG5ld01lc3NhZ2UgPSBtb2RpZmllci5tZXNzYWdlKHRoaXNba2V5XSwgbmV3TWVzc2FnZSkgfHwgbmV3TWVzc2FnZTtcblx0XHRcdFx0XHRcdGlmICghaXNBcnJheWlzaChuZXdNZXNzYWdlKSkge1xuXHRcdFx0XHRcdFx0XHRuZXdNZXNzYWdlID0gW25ld01lc3NhZ2VdO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBuZXdNZXNzYWdlLmpvaW4oJ1xcbicpO1xuXHRcdFx0fSxcblx0XHRcdHNldDogZnVuY3Rpb24gKHYpIHtcblx0XHRcdFx0bWVzc2FnZSA9IHY7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHR2YXIgb3ZlcndyaXR0ZW5TdGFjayA9IG51bGw7XG5cblx0XHR2YXIgc3RhY2tEZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0aGlzLCAnc3RhY2snKTtcblx0XHR2YXIgc3RhY2tHZXR0ZXIgPSBzdGFja0Rlc2NyaXB0b3IuZ2V0O1xuXHRcdHZhciBzdGFja1ZhbHVlID0gc3RhY2tEZXNjcmlwdG9yLnZhbHVlO1xuXHRcdGRlbGV0ZSBzdGFja0Rlc2NyaXB0b3IudmFsdWU7XG5cdFx0ZGVsZXRlIHN0YWNrRGVzY3JpcHRvci53cml0YWJsZTtcblxuXHRcdHN0YWNrRGVzY3JpcHRvci5zZXQgPSBmdW5jdGlvbiAobmV3c3RhY2spIHtcblx0XHRcdG92ZXJ3cml0dGVuU3RhY2sgPSBuZXdzdGFjaztcblx0XHR9O1xuXG5cdFx0c3RhY2tEZXNjcmlwdG9yLmdldCA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHZhciBzdGFjayA9IChvdmVyd3JpdHRlblN0YWNrIHx8ICgoc3RhY2tHZXR0ZXIpXG5cdFx0XHRcdD8gc3RhY2tHZXR0ZXIuY2FsbCh0aGlzKVxuXHRcdFx0XHQ6IHN0YWNrVmFsdWUpKS5zcGxpdCgvXFxyP1xcbisvZyk7XG5cblx0XHRcdC8vIHN0YXJ0aW5nIGluIE5vZGUgNywgdGhlIHN0YWNrIGJ1aWxkZXIgY2FjaGVzIHRoZSBtZXNzYWdlLlxuXHRcdFx0Ly8ganVzdCByZXBsYWNlIGl0LlxuXHRcdFx0aWYgKCFvdmVyd3JpdHRlblN0YWNrKSB7XG5cdFx0XHRcdHN0YWNrWzBdID0gdGhpcy5uYW1lICsgJzogJyArIHRoaXMubWVzc2FnZTtcblx0XHRcdH1cblxuXHRcdFx0dmFyIGxpbmVDb3VudCA9IDE7XG5cdFx0XHRmb3IgKHZhciBrZXkgaW4gcHJvcGVydGllcykge1xuXHRcdFx0XHRpZiAoIXByb3BlcnRpZXMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dmFyIG1vZGlmaWVyID0gcHJvcGVydGllc1trZXldO1xuXG5cdFx0XHRcdGlmICgnbGluZScgaW4gbW9kaWZpZXIpIHtcblx0XHRcdFx0XHR2YXIgbGluZSA9IG1vZGlmaWVyLmxpbmUodGhpc1trZXldKTtcblx0XHRcdFx0XHRpZiAobGluZSkge1xuXHRcdFx0XHRcdFx0c3RhY2suc3BsaWNlKGxpbmVDb3VudCsrLCAwLCAnICAgICcgKyBsaW5lKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoJ3N0YWNrJyBpbiBtb2RpZmllcikge1xuXHRcdFx0XHRcdG1vZGlmaWVyLnN0YWNrKHRoaXNba2V5XSwgc3RhY2spO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBzdGFjay5qb2luKCdcXG4nKTtcblx0XHR9O1xuXG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdzdGFjaycsIHN0YWNrRGVzY3JpcHRvcik7XG5cdH07XG5cblx0aWYgKE9iamVjdC5zZXRQcm90b3R5cGVPZikge1xuXHRcdE9iamVjdC5zZXRQcm90b3R5cGVPZihlcnJvckV4RXJyb3IucHJvdG90eXBlLCBFcnJvci5wcm90b3R5cGUpO1xuXHRcdE9iamVjdC5zZXRQcm90b3R5cGVPZihlcnJvckV4RXJyb3IsIEVycm9yKTtcblx0fSBlbHNlIHtcblx0XHR1dGlsLmluaGVyaXRzKGVycm9yRXhFcnJvciwgRXJyb3IpO1xuXHR9XG5cblx0cmV0dXJuIGVycm9yRXhFcnJvcjtcbn07XG5cbmVycm9yRXguYXBwZW5kID0gZnVuY3Rpb24gKHN0ciwgZGVmKSB7XG5cdHJldHVybiB7XG5cdFx0bWVzc2FnZTogZnVuY3Rpb24gKHYsIG1lc3NhZ2UpIHtcblx0XHRcdHYgPSB2IHx8IGRlZjtcblxuXHRcdFx0aWYgKHYpIHtcblx0XHRcdFx0bWVzc2FnZVswXSArPSAnICcgKyBzdHIucmVwbGFjZSgnJXMnLCB2LnRvU3RyaW5nKCkpO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gbWVzc2FnZTtcblx0XHR9XG5cdH07XG59O1xuXG5lcnJvckV4LmxpbmUgPSBmdW5jdGlvbiAoc3RyLCBkZWYpIHtcblx0cmV0dXJuIHtcblx0XHRsaW5lOiBmdW5jdGlvbiAodikge1xuXHRcdFx0diA9IHYgfHwgZGVmO1xuXG5cdFx0XHRpZiAodikge1xuXHRcdFx0XHRyZXR1cm4gc3RyLnJlcGxhY2UoJyVzJywgdi50b1N0cmluZygpKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0fVxuXHR9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBlcnJvckV4O1xuIiwgIid1c2Ugc3RyaWN0J1xuXG5tb2R1bGUuZXhwb3J0cyA9IHBhcnNlSnNvblxuZnVuY3Rpb24gcGFyc2VKc29uICh0eHQsIHJldml2ZXIsIGNvbnRleHQpIHtcbiAgY29udGV4dCA9IGNvbnRleHQgfHwgMjBcbiAgdHJ5IHtcbiAgICByZXR1cm4gSlNPTi5wYXJzZSh0eHQsIHJldml2ZXIpXG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBpZiAodHlwZW9mIHR4dCAhPT0gJ3N0cmluZycpIHtcbiAgICAgIGNvbnN0IGlzRW1wdHlBcnJheSA9IEFycmF5LmlzQXJyYXkodHh0KSAmJiB0eHQubGVuZ3RoID09PSAwXG4gICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSAnQ2Fubm90IHBhcnNlICcgK1xuICAgICAgKGlzRW1wdHlBcnJheSA/ICdhbiBlbXB0eSBhcnJheScgOiBTdHJpbmcodHh0KSlcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoZXJyb3JNZXNzYWdlKVxuICAgIH1cbiAgICBjb25zdCBzeW50YXhFcnIgPSBlLm1lc3NhZ2UubWF0Y2goL15VbmV4cGVjdGVkIHRva2VuLipwb3NpdGlvblxccysoXFxkKykvaSlcbiAgICBjb25zdCBlcnJJZHggPSBzeW50YXhFcnJcbiAgICA/ICtzeW50YXhFcnJbMV1cbiAgICA6IGUubWVzc2FnZS5tYXRjaCgvXlVuZXhwZWN0ZWQgZW5kIG9mIEpTT04uKi9pKVxuICAgID8gdHh0Lmxlbmd0aCAtIDFcbiAgICA6IG51bGxcbiAgICBpZiAoZXJySWR4ICE9IG51bGwpIHtcbiAgICAgIGNvbnN0IHN0YXJ0ID0gZXJySWR4IDw9IGNvbnRleHRcbiAgICAgID8gMFxuICAgICAgOiBlcnJJZHggLSBjb250ZXh0XG4gICAgICBjb25zdCBlbmQgPSBlcnJJZHggKyBjb250ZXh0ID49IHR4dC5sZW5ndGhcbiAgICAgID8gdHh0Lmxlbmd0aFxuICAgICAgOiBlcnJJZHggKyBjb250ZXh0XG4gICAgICBlLm1lc3NhZ2UgKz0gYCB3aGlsZSBwYXJzaW5nIG5lYXIgJyR7XG4gICAgICAgIHN0YXJ0ID09PSAwID8gJycgOiAnLi4uJ1xuICAgICAgfSR7dHh0LnNsaWNlKHN0YXJ0LCBlbmQpfSR7XG4gICAgICAgIGVuZCA9PT0gdHh0Lmxlbmd0aCA/ICcnIDogJy4uLidcbiAgICAgIH0nYFxuICAgIH0gZWxzZSB7XG4gICAgICBlLm1lc3NhZ2UgKz0gYCB3aGlsZSBwYXJzaW5nICcke3R4dC5zbGljZSgwLCBjb250ZXh0ICogMil9J2BcbiAgICB9XG4gICAgdGhyb3cgZVxuICB9XG59XG4iLCAiJ3VzZSBzdHJpY3QnO1xuY29uc3QgZXJyb3JFeCA9IHJlcXVpcmUoJ2Vycm9yLWV4Jyk7XG5jb25zdCBmYWxsYmFjayA9IHJlcXVpcmUoJ2pzb24tcGFyc2UtYmV0dGVyLWVycm9ycycpO1xuXG5jb25zdCBKU09ORXJyb3IgPSBlcnJvckV4KCdKU09ORXJyb3InLCB7XG5cdGZpbGVOYW1lOiBlcnJvckV4LmFwcGVuZCgnaW4gJXMnKVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gKGlucHV0LCByZXZpdmVyLCBmaWxlbmFtZSkgPT4ge1xuXHRpZiAodHlwZW9mIHJldml2ZXIgPT09ICdzdHJpbmcnKSB7XG5cdFx0ZmlsZW5hbWUgPSByZXZpdmVyO1xuXHRcdHJldml2ZXIgPSBudWxsO1xuXHR9XG5cblx0dHJ5IHtcblx0XHR0cnkge1xuXHRcdFx0cmV0dXJuIEpTT04ucGFyc2UoaW5wdXQsIHJldml2ZXIpO1xuXHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0ZmFsbGJhY2soaW5wdXQsIHJldml2ZXIpO1xuXG5cdFx0XHR0aHJvdyBlcnI7XG5cdFx0fVxuXHR9IGNhdGNoIChlcnIpIHtcblx0XHRlcnIubWVzc2FnZSA9IGVyci5tZXNzYWdlLnJlcGxhY2UoL1xcbi9nLCAnJyk7XG5cblx0XHRjb25zdCBqc29uRXJyID0gbmV3IEpTT05FcnJvcihlcnIpO1xuXHRcdGlmIChmaWxlbmFtZSkge1xuXHRcdFx0anNvbkVyci5maWxlTmFtZSA9IGZpbGVuYW1lO1xuXHRcdH1cblxuXHRcdHRocm93IGpzb25FcnI7XG5cdH1cbn07XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBwcm9jZXNzRm4gPSAoZm4sIG9wdHMpID0+IGZ1bmN0aW9uICgpIHtcblx0Y29uc3QgUCA9IG9wdHMucHJvbWlzZU1vZHVsZTtcblx0Y29uc3QgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoKTtcblxuXHRmb3IgKGxldCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuXHRcdGFyZ3NbaV0gPSBhcmd1bWVudHNbaV07XG5cdH1cblxuXHRyZXR1cm4gbmV3IFAoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdGlmIChvcHRzLmVycm9yRmlyc3QpIHtcblx0XHRcdGFyZ3MucHVzaChmdW5jdGlvbiAoZXJyLCByZXN1bHQpIHtcblx0XHRcdFx0aWYgKG9wdHMubXVsdGlBcmdzKSB7XG5cdFx0XHRcdFx0Y29uc3QgcmVzdWx0cyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG5cblx0XHRcdFx0XHRmb3IgKGxldCBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRcdFx0cmVzdWx0c1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKGVycikge1xuXHRcdFx0XHRcdFx0cmVzdWx0cy51bnNoaWZ0KGVycik7XG5cdFx0XHRcdFx0XHRyZWplY3QocmVzdWx0cyk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHJlc29sdmUocmVzdWx0cyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2UgaWYgKGVycikge1xuXHRcdFx0XHRcdHJlamVjdChlcnIpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHJlc29sdmUocmVzdWx0KTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGFyZ3MucHVzaChmdW5jdGlvbiAocmVzdWx0KSB7XG5cdFx0XHRcdGlmIChvcHRzLm11bHRpQXJncykge1xuXHRcdFx0XHRcdGNvbnN0IHJlc3VsdHMgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuXG5cdFx0XHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHRcdHJlc3VsdHNbaV0gPSBhcmd1bWVudHNbaV07XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmVzb2x2ZShyZXN1bHRzKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRyZXNvbHZlKHJlc3VsdCk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdGZuLmFwcGx5KHRoaXMsIGFyZ3MpO1xuXHR9KTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gKG9iaiwgb3B0cykgPT4ge1xuXHRvcHRzID0gT2JqZWN0LmFzc2lnbih7XG5cdFx0ZXhjbHVkZTogWy8uKyhTeW5jfFN0cmVhbSkkL10sXG5cdFx0ZXJyb3JGaXJzdDogdHJ1ZSxcblx0XHRwcm9taXNlTW9kdWxlOiBQcm9taXNlXG5cdH0sIG9wdHMpO1xuXG5cdGNvbnN0IGZpbHRlciA9IGtleSA9PiB7XG5cdFx0Y29uc3QgbWF0Y2ggPSBwYXR0ZXJuID0+IHR5cGVvZiBwYXR0ZXJuID09PSAnc3RyaW5nJyA/IGtleSA9PT0gcGF0dGVybiA6IHBhdHRlcm4udGVzdChrZXkpO1xuXHRcdHJldHVybiBvcHRzLmluY2x1ZGUgPyBvcHRzLmluY2x1ZGUuc29tZShtYXRjaCkgOiAhb3B0cy5leGNsdWRlLnNvbWUobWF0Y2gpO1xuXHR9O1xuXG5cdGxldCByZXQ7XG5cdGlmICh0eXBlb2Ygb2JqID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0cmV0ID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0aWYgKG9wdHMuZXhjbHVkZU1haW4pIHtcblx0XHRcdFx0cmV0dXJuIG9iai5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gcHJvY2Vzc0ZuKG9iaiwgb3B0cykuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0XHR9O1xuXHR9IGVsc2Uge1xuXHRcdHJldCA9IE9iamVjdC5jcmVhdGUoT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iaikpO1xuXHR9XG5cblx0Zm9yIChjb25zdCBrZXkgaW4gb2JqKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgZ3VhcmQtZm9yLWluXG5cdFx0Y29uc3QgeCA9IG9ialtrZXldO1xuXHRcdHJldFtrZXldID0gdHlwZW9mIHggPT09ICdmdW5jdGlvbicgJiYgZmlsdGVyKGtleSkgPyBwcm9jZXNzRm4oeCwgb3B0cykgOiB4O1xuXHR9XG5cblx0cmV0dXJuIHJldDtcbn07XG4iLCAiJ3VzZSBzdHJpY3QnO1xuY29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcbmNvbnN0IGZzID0gcmVxdWlyZSgnZ3JhY2VmdWwtZnMnKTtcbmNvbnN0IHN0cmlwQm9tID0gcmVxdWlyZSgnc3RyaXAtYm9tJyk7XG5jb25zdCBwYXJzZUpzb24gPSByZXF1aXJlKCdwYXJzZS1qc29uJyk7XG5jb25zdCBwaWZ5ID0gcmVxdWlyZSgncGlmeScpO1xuXG5jb25zdCBwYXJzZSA9IChkYXRhLCBmcCkgPT4gcGFyc2VKc29uKHN0cmlwQm9tKGRhdGEpLCBwYXRoLnJlbGF0aXZlKCcuJywgZnApKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmcCA9PiBwaWZ5KGZzLnJlYWRGaWxlKShmcCwgJ3V0ZjgnKS50aGVuKGRhdGEgPT4gcGFyc2UoZGF0YSwgZnApKTtcbm1vZHVsZS5leHBvcnRzLnN5bmMgPSBmcCA9PiBwYXJzZShmcy5yZWFkRmlsZVN5bmMoZnAsICd1dGY4JyksIGZwKTtcbiIsICIndXNlIHN0cmljdCc7XG5jb25zdCBmcyA9IHJlcXVpcmUoJ2ZzJyk7XG5jb25zdCBwaWZ5ID0gcmVxdWlyZSgncGlmeScpO1xuXG5mdW5jdGlvbiB0eXBlKGZuLCBmbjIsIGZwKSB7XG5cdGlmICh0eXBlb2YgZnAgIT09ICdzdHJpbmcnKSB7XG5cdFx0cmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBUeXBlRXJyb3IoYEV4cGVjdGVkIGEgc3RyaW5nLCBnb3QgJHt0eXBlb2YgZnB9YCkpO1xuXHR9XG5cblx0cmV0dXJuIHBpZnkoZnNbZm5dKShmcClcblx0XHQudGhlbihzdGF0cyA9PiBzdGF0c1tmbjJdKCkpXG5cdFx0LmNhdGNoKGVyciA9PiB7XG5cdFx0XHRpZiAoZXJyLmNvZGUgPT09ICdFTk9FTlQnKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0dGhyb3cgZXJyO1xuXHRcdH0pO1xufVxuXG5mdW5jdGlvbiB0eXBlU3luYyhmbiwgZm4yLCBmcCkge1xuXHRpZiAodHlwZW9mIGZwICE9PSAnc3RyaW5nJykge1xuXHRcdHRocm93IG5ldyBUeXBlRXJyb3IoYEV4cGVjdGVkIGEgc3RyaW5nLCBnb3QgJHt0eXBlb2YgZnB9YCk7XG5cdH1cblxuXHR0cnkge1xuXHRcdHJldHVybiBmc1tmbl0oZnApW2ZuMl0oKTtcblx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0aWYgKGVyci5jb2RlID09PSAnRU5PRU5UJykge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdHRocm93IGVycjtcblx0fVxufVxuXG5leHBvcnRzLmZpbGUgPSB0eXBlLmJpbmQobnVsbCwgJ3N0YXQnLCAnaXNGaWxlJyk7XG5leHBvcnRzLmRpciA9IHR5cGUuYmluZChudWxsLCAnc3RhdCcsICdpc0RpcmVjdG9yeScpO1xuZXhwb3J0cy5zeW1saW5rID0gdHlwZS5iaW5kKG51bGwsICdsc3RhdCcsICdpc1N5bWJvbGljTGluaycpO1xuZXhwb3J0cy5maWxlU3luYyA9IHR5cGVTeW5jLmJpbmQobnVsbCwgJ3N0YXRTeW5jJywgJ2lzRmlsZScpO1xuZXhwb3J0cy5kaXJTeW5jID0gdHlwZVN5bmMuYmluZChudWxsLCAnc3RhdFN5bmMnLCAnaXNEaXJlY3RvcnknKTtcbmV4cG9ydHMuc3ltbGlua1N5bmMgPSB0eXBlU3luYy5iaW5kKG51bGwsICdsc3RhdFN5bmMnLCAnaXNTeW1ib2xpY0xpbmsnKTtcbiIsICIndXNlIHN0cmljdCdcblxudmFyIGdpdEhvc3RzID0gbW9kdWxlLmV4cG9ydHMgPSB7XG4gIGdpdGh1Yjoge1xuICAgIC8vIEZpcnN0IHR3byBhcmUgaW5zZWN1cmUgYW5kIGdlbmVyYWxseSBzaG91bGRuJ3QgYmUgdXNlZCBhbnkgbW9yZSwgYnV0XG4gICAgLy8gdGhleSBhcmUgc3RpbGwgc3VwcG9ydGVkLlxuICAgICdwcm90b2NvbHMnOiBbICdnaXQnLCAnaHR0cCcsICdnaXQrc3NoJywgJ2dpdCtodHRwcycsICdzc2gnLCAnaHR0cHMnIF0sXG4gICAgJ2RvbWFpbic6ICdnaXRodWIuY29tJyxcbiAgICAndHJlZXBhdGgnOiAndHJlZScsXG4gICAgJ2ZpbGV0ZW1wbGF0ZSc6ICdodHRwczovL3thdXRoQH1yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL3t1c2VyfS97cHJvamVjdH0ve2NvbW1pdHRpc2h9L3twYXRofScsXG4gICAgJ2J1Z3N0ZW1wbGF0ZSc6ICdodHRwczovL3tkb21haW59L3t1c2VyfS97cHJvamVjdH0vaXNzdWVzJyxcbiAgICAnZ2l0dGVtcGxhdGUnOiAnZ2l0Oi8ve2F1dGhAfXtkb21haW59L3t1c2VyfS97cHJvamVjdH0uZ2l0eyNjb21taXR0aXNofScsXG4gICAgJ3RhcmJhbGx0ZW1wbGF0ZSc6ICdodHRwczovL2NvZGVsb2FkLntkb21haW59L3t1c2VyfS97cHJvamVjdH0vdGFyLmd6L3tjb21taXR0aXNofSdcbiAgfSxcbiAgYml0YnVja2V0OiB7XG4gICAgJ3Byb3RvY29scyc6IFsgJ2dpdCtzc2gnLCAnZ2l0K2h0dHBzJywgJ3NzaCcsICdodHRwcycgXSxcbiAgICAnZG9tYWluJzogJ2JpdGJ1Y2tldC5vcmcnLFxuICAgICd0cmVlcGF0aCc6ICdzcmMnLFxuICAgICd0YXJiYWxsdGVtcGxhdGUnOiAnaHR0cHM6Ly97ZG9tYWlufS97dXNlcn0ve3Byb2plY3R9L2dldC97Y29tbWl0dGlzaH0udGFyLmd6J1xuICB9LFxuICBnaXRsYWI6IHtcbiAgICAncHJvdG9jb2xzJzogWyAnZ2l0K3NzaCcsICdnaXQraHR0cHMnLCAnc3NoJywgJ2h0dHBzJyBdLFxuICAgICdkb21haW4nOiAnZ2l0bGFiLmNvbScsXG4gICAgJ3RyZWVwYXRoJzogJ3RyZWUnLFxuICAgICdidWdzdGVtcGxhdGUnOiAnaHR0cHM6Ly97ZG9tYWlufS97dXNlcn0ve3Byb2plY3R9L2lzc3VlcycsXG4gICAgJ2h0dHBzdGVtcGxhdGUnOiAnZ2l0K2h0dHBzOi8ve2F1dGhAfXtkb21haW59L3t1c2VyfS97cHJvamVjdFBhdGh9LmdpdHsjY29tbWl0dGlzaH0nLFxuICAgICd0YXJiYWxsdGVtcGxhdGUnOiAnaHR0cHM6Ly97ZG9tYWlufS97dXNlcn0ve3Byb2plY3R9L3JlcG9zaXRvcnkvYXJjaGl2ZS50YXIuZ3o/cmVmPXtjb21taXR0aXNofScsXG4gICAgJ3BhdGhtYXRjaCc6IC9eWy9dKFteL10rKVsvXSgoPyEuKihcXC8tXFwvfFxcL3JlcG9zaXRvcnlcXC9hcmNoaXZlXFwudGFyXFwuZ3pcXD89Lip8XFwvcmVwb3NpdG9yeVxcL1teL10rXFwvYXJjaGl2ZS50YXIuZ3okKSkuKj8pKD86Wy5dZ2l0fFsvXSk/JC9cbiAgfSxcbiAgZ2lzdDoge1xuICAgICdwcm90b2NvbHMnOiBbICdnaXQnLCAnZ2l0K3NzaCcsICdnaXQraHR0cHMnLCAnc3NoJywgJ2h0dHBzJyBdLFxuICAgICdkb21haW4nOiAnZ2lzdC5naXRodWIuY29tJyxcbiAgICAncGF0aG1hdGNoJzogL15bL10oPzooW14vXSspWy9dKT8oW2EtejAtOV17MzIsfSkoPzpbLl1naXQpPyQvLFxuICAgICdmaWxldGVtcGxhdGUnOiAnaHR0cHM6Ly9naXN0LmdpdGh1YnVzZXJjb250ZW50LmNvbS97dXNlcn0ve3Byb2plY3R9L3Jhd3svY29tbWl0dGlzaH0ve3BhdGh9JyxcbiAgICAnYnVnc3RlbXBsYXRlJzogJ2h0dHBzOi8ve2RvbWFpbn0ve3Byb2plY3R9JyxcbiAgICAnZ2l0dGVtcGxhdGUnOiAnZ2l0Oi8ve2RvbWFpbn0ve3Byb2plY3R9LmdpdHsjY29tbWl0dGlzaH0nLFxuICAgICdzc2h0ZW1wbGF0ZSc6ICdnaXRAe2RvbWFpbn06L3twcm9qZWN0fS5naXR7I2NvbW1pdHRpc2h9JyxcbiAgICAnc3NodXJsdGVtcGxhdGUnOiAnZ2l0K3NzaDovL2dpdEB7ZG9tYWlufS97cHJvamVjdH0uZ2l0eyNjb21taXR0aXNofScsXG4gICAgJ2Jyb3dzZXRlbXBsYXRlJzogJ2h0dHBzOi8ve2RvbWFpbn0ve3Byb2plY3R9ey9jb21taXR0aXNofScsXG4gICAgJ2Jyb3dzZWZpbGV0ZW1wbGF0ZSc6ICdodHRwczovL3tkb21haW59L3twcm9qZWN0fXsvY29tbWl0dGlzaH17I3BhdGh9JyxcbiAgICAnZG9jc3RlbXBsYXRlJzogJ2h0dHBzOi8ve2RvbWFpbn0ve3Byb2plY3R9ey9jb21taXR0aXNofScsXG4gICAgJ2h0dHBzdGVtcGxhdGUnOiAnZ2l0K2h0dHBzOi8ve2RvbWFpbn0ve3Byb2plY3R9LmdpdHsjY29tbWl0dGlzaH0nLFxuICAgICdzaG9ydGN1dHRlbXBsYXRlJzogJ3t0eXBlfTp7cHJvamVjdH17I2NvbW1pdHRpc2h9JyxcbiAgICAncGF0aHRlbXBsYXRlJzogJ3twcm9qZWN0fXsjY29tbWl0dGlzaH0nLFxuICAgICd0YXJiYWxsdGVtcGxhdGUnOiAnaHR0cHM6Ly9jb2RlbG9hZC5naXRodWIuY29tL2dpc3Qve3Byb2plY3R9L3Rhci5nei97Y29tbWl0dGlzaH0nLFxuICAgICdoYXNoZm9ybWF0JzogZnVuY3Rpb24gKGZyYWdtZW50KSB7XG4gICAgICByZXR1cm4gJ2ZpbGUtJyArIGZvcm1hdEhhc2hGcmFnbWVudChmcmFnbWVudClcbiAgICB9XG4gIH1cbn1cblxudmFyIGdpdEhvc3REZWZhdWx0cyA9IHtcbiAgJ3NzaHRlbXBsYXRlJzogJ2dpdEB7ZG9tYWlufTp7dXNlcn0ve3Byb2plY3R9LmdpdHsjY29tbWl0dGlzaH0nLFxuICAnc3NodXJsdGVtcGxhdGUnOiAnZ2l0K3NzaDovL2dpdEB7ZG9tYWlufS97dXNlcn0ve3Byb2plY3R9LmdpdHsjY29tbWl0dGlzaH0nLFxuICAnYnJvd3NldGVtcGxhdGUnOiAnaHR0cHM6Ly97ZG9tYWlufS97dXNlcn0ve3Byb2plY3R9ey90cmVlL2NvbW1pdHRpc2h9JyxcbiAgJ2Jyb3dzZWZpbGV0ZW1wbGF0ZSc6ICdodHRwczovL3tkb21haW59L3t1c2VyfS97cHJvamVjdH0ve3RyZWVwYXRofS97Y29tbWl0dGlzaH0ve3BhdGh9eyNmcmFnbWVudH0nLFxuICAnZG9jc3RlbXBsYXRlJzogJ2h0dHBzOi8ve2RvbWFpbn0ve3VzZXJ9L3twcm9qZWN0fXsvdHJlZS9jb21taXR0aXNofSNyZWFkbWUnLFxuICAnaHR0cHN0ZW1wbGF0ZSc6ICdnaXQraHR0cHM6Ly97YXV0aEB9e2RvbWFpbn0ve3VzZXJ9L3twcm9qZWN0fS5naXR7I2NvbW1pdHRpc2h9JyxcbiAgJ2ZpbGV0ZW1wbGF0ZSc6ICdodHRwczovL3tkb21haW59L3t1c2VyfS97cHJvamVjdH0vcmF3L3tjb21taXR0aXNofS97cGF0aH0nLFxuICAnc2hvcnRjdXR0ZW1wbGF0ZSc6ICd7dHlwZX06e3VzZXJ9L3twcm9qZWN0fXsjY29tbWl0dGlzaH0nLFxuICAncGF0aHRlbXBsYXRlJzogJ3t1c2VyfS97cHJvamVjdH17I2NvbW1pdHRpc2h9JyxcbiAgJ3BhdGhtYXRjaCc6IC9eWy9dKFteL10rKVsvXShbXi9dKz8pKD86Wy5dZ2l0fFsvXSk/JC8sXG4gICdoYXNoZm9ybWF0JzogZm9ybWF0SGFzaEZyYWdtZW50XG59XG5cbk9iamVjdC5rZXlzKGdpdEhvc3RzKS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG4gIE9iamVjdC5rZXlzKGdpdEhvc3REZWZhdWx0cykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgaWYgKGdpdEhvc3RzW25hbWVdW2tleV0pIHJldHVyblxuICAgIGdpdEhvc3RzW25hbWVdW2tleV0gPSBnaXRIb3N0RGVmYXVsdHNba2V5XVxuICB9KVxuICBnaXRIb3N0c1tuYW1lXS5wcm90b2NvbHNfcmUgPSBSZWdFeHAoJ14oJyArXG4gICAgZ2l0SG9zdHNbbmFtZV0ucHJvdG9jb2xzLm1hcChmdW5jdGlvbiAocHJvdG9jb2wpIHtcbiAgICAgIHJldHVybiBwcm90b2NvbC5yZXBsYWNlKC8oW1xcXFwrKnt9KClbXFxdJF58XSkvZywgJ1xcXFwkMScpXG4gICAgfSkuam9pbignfCcpICsgJyk6JCcpXG59KVxuXG5mdW5jdGlvbiBmb3JtYXRIYXNoRnJhZ21lbnQgKGZyYWdtZW50KSB7XG4gIHJldHVybiBmcmFnbWVudC50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL15cXFcrfFxcL3xcXFcrJC9nLCAnJykucmVwbGFjZSgvXFxXKy9nLCAnLScpXG59XG4iLCAiJ3VzZSBzdHJpY3QnXG52YXIgZ2l0SG9zdHMgPSByZXF1aXJlKCcuL2dpdC1ob3N0LWluZm8uanMnKVxuLyogZXNsaW50LWRpc2FibGUgbm9kZS9uby1kZXByZWNhdGVkLWFwaSAqL1xuXG4vLyBjb3B5LXBhc3RhIHV0aWwuX2V4dGVuZCBmcm9tIG5vZGUncyBzb3VyY2UsIHRvIGF2b2lkIHB1bGxpbmdcbi8vIHRoZSB3aG9sZSB1dGlsIG1vZHVsZSBpbnRvIHBlb3BsZXMnIHdlYnBhY2sgYnVuZGxlcy5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG52YXIgZXh0ZW5kID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfZXh0ZW5kICh0YXJnZXQsIHNvdXJjZSkge1xuICAvLyBEb24ndCBkbyBhbnl0aGluZyBpZiBzb3VyY2UgaXNuJ3QgYW4gb2JqZWN0XG4gIGlmIChzb3VyY2UgPT09IG51bGwgfHwgdHlwZW9mIHNvdXJjZSAhPT0gJ29iamVjdCcpIHJldHVybiB0YXJnZXRcblxuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSlcbiAgdmFyIGkgPSBrZXlzLmxlbmd0aFxuICB3aGlsZSAoaS0tKSB7XG4gICAgdGFyZ2V0W2tleXNbaV1dID0gc291cmNlW2tleXNbaV1dXG4gIH1cbiAgcmV0dXJuIHRhcmdldFxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IEdpdEhvc3RcbmZ1bmN0aW9uIEdpdEhvc3QgKHR5cGUsIHVzZXIsIGF1dGgsIHByb2plY3QsIGNvbW1pdHRpc2gsIGRlZmF1bHRSZXByZXNlbnRhdGlvbiwgb3B0cykge1xuICB2YXIgZ2l0SG9zdEluZm8gPSB0aGlzXG4gIGdpdEhvc3RJbmZvLnR5cGUgPSB0eXBlXG4gIE9iamVjdC5rZXlzKGdpdEhvc3RzW3R5cGVdKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBnaXRIb3N0SW5mb1trZXldID0gZ2l0SG9zdHNbdHlwZV1ba2V5XVxuICB9KVxuICBnaXRIb3N0SW5mby51c2VyID0gdXNlclxuICBnaXRIb3N0SW5mby5hdXRoID0gYXV0aFxuICBnaXRIb3N0SW5mby5wcm9qZWN0ID0gcHJvamVjdFxuICBnaXRIb3N0SW5mby5jb21taXR0aXNoID0gY29tbWl0dGlzaFxuICBnaXRIb3N0SW5mby5kZWZhdWx0ID0gZGVmYXVsdFJlcHJlc2VudGF0aW9uXG4gIGdpdEhvc3RJbmZvLm9wdHMgPSBvcHRzIHx8IHt9XG59XG5cbkdpdEhvc3QucHJvdG90eXBlLmhhc2ggPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLmNvbW1pdHRpc2ggPyAnIycgKyB0aGlzLmNvbW1pdHRpc2ggOiAnJ1xufVxuXG5HaXRIb3N0LnByb3RvdHlwZS5fZmlsbCA9IGZ1bmN0aW9uICh0ZW1wbGF0ZSwgb3B0cykge1xuICBpZiAoIXRlbXBsYXRlKSByZXR1cm5cbiAgdmFyIHZhcnMgPSBleHRlbmQoe30sIG9wdHMpXG4gIHZhcnMucGF0aCA9IHZhcnMucGF0aCA/IHZhcnMucGF0aC5yZXBsYWNlKC9eWy9dKy9nLCAnJykgOiAnJ1xuICBvcHRzID0gZXh0ZW5kKGV4dGVuZCh7fSwgdGhpcy5vcHRzKSwgb3B0cylcbiAgdmFyIHNlbGYgPSB0aGlzXG4gIE9iamVjdC5rZXlzKHRoaXMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIGlmIChzZWxmW2tleV0gIT0gbnVsbCAmJiB2YXJzW2tleV0gPT0gbnVsbCkgdmFyc1trZXldID0gc2VsZltrZXldXG4gIH0pXG4gIHZhciByYXdBdXRoID0gdmFycy5hdXRoXG4gIHZhciByYXdjb21taXR0aXNoID0gdmFycy5jb21taXR0aXNoXG4gIHZhciByYXdGcmFnbWVudCA9IHZhcnMuZnJhZ21lbnRcbiAgdmFyIHJhd1BhdGggPSB2YXJzLnBhdGhcbiAgdmFyIHJhd1Byb2plY3QgPSB2YXJzLnByb2plY3RcbiAgT2JqZWN0LmtleXModmFycykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgdmFyIHZhbHVlID0gdmFyc1trZXldXG4gICAgaWYgKChrZXkgPT09ICdwYXRoJyB8fCBrZXkgPT09ICdwcm9qZWN0JykgJiYgdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgdmFyc1trZXldID0gdmFsdWUuc3BsaXQoJy8nKS5tYXAoZnVuY3Rpb24gKHBhdGhDb21wb25lbnQpIHtcbiAgICAgICAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChwYXRoQ29tcG9uZW50KVxuICAgICAgfSkuam9pbignLycpXG4gICAgfSBlbHNlIHtcbiAgICAgIHZhcnNba2V5XSA9IGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSlcbiAgICB9XG4gIH0pXG4gIHZhcnNbJ2F1dGhAJ10gPSByYXdBdXRoID8gcmF3QXV0aCArICdAJyA6ICcnXG4gIHZhcnNbJyNmcmFnbWVudCddID0gcmF3RnJhZ21lbnQgPyAnIycgKyB0aGlzLmhhc2hmb3JtYXQocmF3RnJhZ21lbnQpIDogJydcbiAgdmFycy5mcmFnbWVudCA9IHZhcnMuZnJhZ21lbnQgPyB2YXJzLmZyYWdtZW50IDogJydcbiAgdmFyc1snI3BhdGgnXSA9IHJhd1BhdGggPyAnIycgKyB0aGlzLmhhc2hmb3JtYXQocmF3UGF0aCkgOiAnJ1xuICB2YXJzWycvcGF0aCddID0gdmFycy5wYXRoID8gJy8nICsgdmFycy5wYXRoIDogJydcbiAgdmFycy5wcm9qZWN0UGF0aCA9IHJhd1Byb2plY3Quc3BsaXQoJy8nKS5tYXAoZW5jb2RlVVJJQ29tcG9uZW50KS5qb2luKCcvJylcbiAgaWYgKG9wdHMubm9Db21taXR0aXNoKSB7XG4gICAgdmFyc1snI2NvbW1pdHRpc2gnXSA9ICcnXG4gICAgdmFyc1snL3RyZWUvY29tbWl0dGlzaCddID0gJydcbiAgICB2YXJzWycvY29tbWl0dGlzaCddID0gJydcbiAgICB2YXJzLmNvbW1pdHRpc2ggPSAnJ1xuICB9IGVsc2Uge1xuICAgIHZhcnNbJyNjb21taXR0aXNoJ10gPSByYXdjb21taXR0aXNoID8gJyMnICsgcmF3Y29tbWl0dGlzaCA6ICcnXG4gICAgdmFyc1snL3RyZWUvY29tbWl0dGlzaCddID0gdmFycy5jb21taXR0aXNoXG4gICAgICA/ICcvJyArIHZhcnMudHJlZXBhdGggKyAnLycgKyB2YXJzLmNvbW1pdHRpc2hcbiAgICAgIDogJydcbiAgICB2YXJzWycvY29tbWl0dGlzaCddID0gdmFycy5jb21taXR0aXNoID8gJy8nICsgdmFycy5jb21taXR0aXNoIDogJydcbiAgICB2YXJzLmNvbW1pdHRpc2ggPSB2YXJzLmNvbW1pdHRpc2ggfHwgJ21hc3RlcidcbiAgfVxuICB2YXIgcmVzID0gdGVtcGxhdGVcbiAgT2JqZWN0LmtleXModmFycykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgcmVzID0gcmVzLnJlcGxhY2UobmV3IFJlZ0V4cCgnW3tdJyArIGtleSArICdbfV0nLCAnZycpLCB2YXJzW2tleV0pXG4gIH0pXG4gIGlmIChvcHRzLm5vR2l0UGx1cykge1xuICAgIHJldHVybiByZXMucmVwbGFjZSgvXmdpdFsrXS8sICcnKVxuICB9IGVsc2Uge1xuICAgIHJldHVybiByZXNcbiAgfVxufVxuXG5HaXRIb3N0LnByb3RvdHlwZS5zc2ggPSBmdW5jdGlvbiAob3B0cykge1xuICByZXR1cm4gdGhpcy5fZmlsbCh0aGlzLnNzaHRlbXBsYXRlLCBvcHRzKVxufVxuXG5HaXRIb3N0LnByb3RvdHlwZS5zc2h1cmwgPSBmdW5jdGlvbiAob3B0cykge1xuICByZXR1cm4gdGhpcy5fZmlsbCh0aGlzLnNzaHVybHRlbXBsYXRlLCBvcHRzKVxufVxuXG5HaXRIb3N0LnByb3RvdHlwZS5icm93c2UgPSBmdW5jdGlvbiAoUCwgRiwgb3B0cykge1xuICBpZiAodHlwZW9mIFAgPT09ICdzdHJpbmcnKSB7XG4gICAgaWYgKHR5cGVvZiBGICE9PSAnc3RyaW5nJykge1xuICAgICAgb3B0cyA9IEZcbiAgICAgIEYgPSBudWxsXG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9maWxsKHRoaXMuYnJvd3NlZmlsZXRlbXBsYXRlLCBleHRlbmQoe1xuICAgICAgZnJhZ21lbnQ6IEYsXG4gICAgICBwYXRoOiBQXG4gICAgfSwgb3B0cykpXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHRoaXMuX2ZpbGwodGhpcy5icm93c2V0ZW1wbGF0ZSwgUClcbiAgfVxufVxuXG5HaXRIb3N0LnByb3RvdHlwZS5kb2NzID0gZnVuY3Rpb24gKG9wdHMpIHtcbiAgcmV0dXJuIHRoaXMuX2ZpbGwodGhpcy5kb2NzdGVtcGxhdGUsIG9wdHMpXG59XG5cbkdpdEhvc3QucHJvdG90eXBlLmJ1Z3MgPSBmdW5jdGlvbiAob3B0cykge1xuICByZXR1cm4gdGhpcy5fZmlsbCh0aGlzLmJ1Z3N0ZW1wbGF0ZSwgb3B0cylcbn1cblxuR2l0SG9zdC5wcm90b3R5cGUuaHR0cHMgPSBmdW5jdGlvbiAob3B0cykge1xuICByZXR1cm4gdGhpcy5fZmlsbCh0aGlzLmh0dHBzdGVtcGxhdGUsIG9wdHMpXG59XG5cbkdpdEhvc3QucHJvdG90eXBlLmdpdCA9IGZ1bmN0aW9uIChvcHRzKSB7XG4gIHJldHVybiB0aGlzLl9maWxsKHRoaXMuZ2l0dGVtcGxhdGUsIG9wdHMpXG59XG5cbkdpdEhvc3QucHJvdG90eXBlLnNob3J0Y3V0ID0gZnVuY3Rpb24gKG9wdHMpIHtcbiAgcmV0dXJuIHRoaXMuX2ZpbGwodGhpcy5zaG9ydGN1dHRlbXBsYXRlLCBvcHRzKVxufVxuXG5HaXRIb3N0LnByb3RvdHlwZS5wYXRoID0gZnVuY3Rpb24gKG9wdHMpIHtcbiAgcmV0dXJuIHRoaXMuX2ZpbGwodGhpcy5wYXRodGVtcGxhdGUsIG9wdHMpXG59XG5cbkdpdEhvc3QucHJvdG90eXBlLnRhcmJhbGwgPSBmdW5jdGlvbiAob3B0c18pIHtcbiAgdmFyIG9wdHMgPSBleHRlbmQoe30sIG9wdHNfLCB7IG5vQ29tbWl0dGlzaDogZmFsc2UgfSlcbiAgcmV0dXJuIHRoaXMuX2ZpbGwodGhpcy50YXJiYWxsdGVtcGxhdGUsIG9wdHMpXG59XG5cbkdpdEhvc3QucHJvdG90eXBlLmZpbGUgPSBmdW5jdGlvbiAoUCwgb3B0cykge1xuICByZXR1cm4gdGhpcy5fZmlsbCh0aGlzLmZpbGV0ZW1wbGF0ZSwgZXh0ZW5kKHsgcGF0aDogUCB9LCBvcHRzKSlcbn1cblxuR2l0SG9zdC5wcm90b3R5cGUuZ2V0RGVmYXVsdFJlcHJlc2VudGF0aW9uID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5kZWZhdWx0XG59XG5cbkdpdEhvc3QucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKG9wdHMpIHtcbiAgaWYgKHRoaXMuZGVmYXVsdCAmJiB0eXBlb2YgdGhpc1t0aGlzLmRlZmF1bHRdID09PSAnZnVuY3Rpb24nKSByZXR1cm4gdGhpc1t0aGlzLmRlZmF1bHRdKG9wdHMpXG4gIHJldHVybiB0aGlzLnNzaHVybChvcHRzKVxufVxuIiwgIid1c2Ugc3RyaWN0J1xudmFyIHVybCA9IHJlcXVpcmUoJ3VybCcpXG52YXIgZ2l0SG9zdHMgPSByZXF1aXJlKCcuL2dpdC1ob3N0LWluZm8uanMnKVxudmFyIEdpdEhvc3QgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vZ2l0LWhvc3QuanMnKVxuXG52YXIgcHJvdG9jb2xUb1JlcHJlc2VudGF0aW9uTWFwID0ge1xuICAnZ2l0K3NzaDonOiAnc3NodXJsJyxcbiAgJ2dpdCtodHRwczonOiAnaHR0cHMnLFxuICAnc3NoOic6ICdzc2h1cmwnLFxuICAnZ2l0Oic6ICdnaXQnXG59XG5cbmZ1bmN0aW9uIHByb3RvY29sVG9SZXByZXNlbnRhdGlvbiAocHJvdG9jb2wpIHtcbiAgcmV0dXJuIHByb3RvY29sVG9SZXByZXNlbnRhdGlvbk1hcFtwcm90b2NvbF0gfHwgcHJvdG9jb2wuc2xpY2UoMCwgLTEpXG59XG5cbnZhciBhdXRoUHJvdG9jb2xzID0ge1xuICAnZ2l0Oic6IHRydWUsXG4gICdodHRwczonOiB0cnVlLFxuICAnZ2l0K2h0dHBzOic6IHRydWUsXG4gICdodHRwOic6IHRydWUsXG4gICdnaXQraHR0cDonOiB0cnVlXG59XG5cbnZhciBjYWNoZSA9IHt9XG5cbm1vZHVsZS5leHBvcnRzLmZyb21VcmwgPSBmdW5jdGlvbiAoZ2l0dXJsLCBvcHRzKSB7XG4gIGlmICh0eXBlb2YgZ2l0dXJsICE9PSAnc3RyaW5nJykgcmV0dXJuXG4gIHZhciBrZXkgPSBnaXR1cmwgKyBKU09OLnN0cmluZ2lmeShvcHRzIHx8IHt9KVxuXG4gIGlmICghKGtleSBpbiBjYWNoZSkpIHtcbiAgICBjYWNoZVtrZXldID0gZnJvbVVybChnaXR1cmwsIG9wdHMpXG4gIH1cblxuICByZXR1cm4gY2FjaGVba2V5XVxufVxuXG5mdW5jdGlvbiBmcm9tVXJsIChnaXR1cmwsIG9wdHMpIHtcbiAgaWYgKGdpdHVybCA9PSBudWxsIHx8IGdpdHVybCA9PT0gJycpIHJldHVyblxuICB2YXIgdXJsID0gZml4dXBVbnF1YWxpZmllZEdpc3QoXG4gICAgaXNHaXRIdWJTaG9ydGhhbmQoZ2l0dXJsKSA/ICdnaXRodWI6JyArIGdpdHVybCA6IGdpdHVybFxuICApXG4gIHZhciBwYXJzZWQgPSBwYXJzZUdpdFVybCh1cmwpXG4gIHZhciBzaG9ydGN1dE1hdGNoID0gdXJsLm1hdGNoKC9eKFteOl0rKTooPzpbXkBdK0ApPyg/OihbXi9dKilcXC8pPyhbXiNdKykvKVxuICB2YXIgbWF0Y2hlcyA9IE9iamVjdC5rZXlzKGdpdEhvc3RzKS5tYXAoZnVuY3Rpb24gKGdpdEhvc3ROYW1lKSB7XG4gICAgdHJ5IHtcbiAgICAgIHZhciBnaXRIb3N0SW5mbyA9IGdpdEhvc3RzW2dpdEhvc3ROYW1lXVxuICAgICAgdmFyIGF1dGggPSBudWxsXG4gICAgICBpZiAocGFyc2VkLmF1dGggJiYgYXV0aFByb3RvY29sc1twYXJzZWQucHJvdG9jb2xdKSB7XG4gICAgICAgIGF1dGggPSBwYXJzZWQuYXV0aFxuICAgICAgfVxuICAgICAgdmFyIGNvbW1pdHRpc2ggPSBwYXJzZWQuaGFzaCA/IGRlY29kZVVSSUNvbXBvbmVudChwYXJzZWQuaGFzaC5zdWJzdHIoMSkpIDogbnVsbFxuICAgICAgdmFyIHVzZXIgPSBudWxsXG4gICAgICB2YXIgcHJvamVjdCA9IG51bGxcbiAgICAgIHZhciBkZWZhdWx0UmVwcmVzZW50YXRpb24gPSBudWxsXG4gICAgICBpZiAoc2hvcnRjdXRNYXRjaCAmJiBzaG9ydGN1dE1hdGNoWzFdID09PSBnaXRIb3N0TmFtZSkge1xuICAgICAgICB1c2VyID0gc2hvcnRjdXRNYXRjaFsyXSAmJiBkZWNvZGVVUklDb21wb25lbnQoc2hvcnRjdXRNYXRjaFsyXSlcbiAgICAgICAgcHJvamVjdCA9IGRlY29kZVVSSUNvbXBvbmVudChzaG9ydGN1dE1hdGNoWzNdLnJlcGxhY2UoL1xcLmdpdCQvLCAnJykpXG4gICAgICAgIGRlZmF1bHRSZXByZXNlbnRhdGlvbiA9ICdzaG9ydGN1dCdcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChwYXJzZWQuaG9zdCAmJiBwYXJzZWQuaG9zdCAhPT0gZ2l0SG9zdEluZm8uZG9tYWluICYmIHBhcnNlZC5ob3N0LnJlcGxhY2UoL153d3dbLl0vLCAnJykgIT09IGdpdEhvc3RJbmZvLmRvbWFpbikgcmV0dXJuXG4gICAgICAgIGlmICghZ2l0SG9zdEluZm8ucHJvdG9jb2xzX3JlLnRlc3QocGFyc2VkLnByb3RvY29sKSkgcmV0dXJuXG4gICAgICAgIGlmICghcGFyc2VkLnBhdGgpIHJldHVyblxuICAgICAgICB2YXIgcGF0aG1hdGNoID0gZ2l0SG9zdEluZm8ucGF0aG1hdGNoXG4gICAgICAgIHZhciBtYXRjaGVkID0gcGFyc2VkLnBhdGgubWF0Y2gocGF0aG1hdGNoKVxuICAgICAgICBpZiAoIW1hdGNoZWQpIHJldHVyblxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICBpZiAobWF0Y2hlZFsxXSAhPT0gbnVsbCAmJiBtYXRjaGVkWzFdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB1c2VyID0gZGVjb2RlVVJJQ29tcG9uZW50KG1hdGNoZWRbMV0ucmVwbGFjZSgvXjovLCAnJykpXG4gICAgICAgIH1cbiAgICAgICAgcHJvamVjdCA9IGRlY29kZVVSSUNvbXBvbmVudChtYXRjaGVkWzJdKVxuICAgICAgICBkZWZhdWx0UmVwcmVzZW50YXRpb24gPSBwcm90b2NvbFRvUmVwcmVzZW50YXRpb24ocGFyc2VkLnByb3RvY29sKVxuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyBHaXRIb3N0KGdpdEhvc3ROYW1lLCB1c2VyLCBhdXRoLCBwcm9qZWN0LCBjb21taXR0aXNoLCBkZWZhdWx0UmVwcmVzZW50YXRpb24sIG9wdHMpXG4gICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICBpZiAoZXggaW5zdGFuY2VvZiBVUklFcnJvcikge1xuICAgICAgfSBlbHNlIHRocm93IGV4XG4gICAgfVxuICB9KS5maWx0ZXIoZnVuY3Rpb24gKGdpdEhvc3RJbmZvKSB7IHJldHVybiBnaXRIb3N0SW5mbyB9KVxuICBpZiAobWF0Y2hlcy5sZW5ndGggIT09IDEpIHJldHVyblxuICByZXR1cm4gbWF0Y2hlc1swXVxufVxuXG5mdW5jdGlvbiBpc0dpdEh1YlNob3J0aGFuZCAoYXJnKSB7XG4gIC8vIE5vdGU6IFRoaXMgZG9lcyBub3QgZnVsbHkgdGVzdCB0aGUgZ2l0IHJlZiBmb3JtYXQuXG4gIC8vIFNlZSBodHRwczovL3d3dy5rZXJuZWwub3JnL3B1Yi9zb2Z0d2FyZS9zY20vZ2l0L2RvY3MvZ2l0LWNoZWNrLXJlZi1mb3JtYXQuaHRtbFxuICAvL1xuICAvLyBUaGUgb25seSB3YXkgdG8gZG8gdGhpcyBwcm9wZXJseSB3b3VsZCBiZSB0byBzaGVsbCBvdXQgdG9cbiAgLy8gZ2l0LWNoZWNrLXJlZi1mb3JtYXQsIGFuZCBhcyB0aGlzIGlzIGEgZmFzdCBzeW5jIGZ1bmN0aW9uLFxuICAvLyB3ZSBkb24ndCB3YW50IHRvIGRvIHRoYXQuICBKdXN0IGxldCBnaXQgZmFpbCBpZiBpdCB0dXJuc1xuICAvLyBvdXQgdGhhdCB0aGUgY29tbWl0LWlzaCBpcyBpbnZhbGlkLlxuICAvLyBHSCB1c2VybmFtZXMgY2Fubm90IHN0YXJ0IHdpdGggLiBvciAtXG4gIHJldHVybiAvXlteOkAlL1xccy4tXVteOkAlL1xcc10qWy9dW146QFxccy8lXSsoPzojLiopPyQvLnRlc3QoYXJnKVxufVxuXG5mdW5jdGlvbiBmaXh1cFVucXVhbGlmaWVkR2lzdCAoZ2l0dXJsKSB7XG4gIC8vIG5lY2Vzc2FyeSBmb3Igcm91bmQtdHJpcHBpbmcgZ2lzdHNcbiAgdmFyIHBhcnNlZCA9IHVybC5wYXJzZShnaXR1cmwpXG4gIGlmIChwYXJzZWQucHJvdG9jb2wgPT09ICdnaXN0OicgJiYgcGFyc2VkLmhvc3QgJiYgIXBhcnNlZC5wYXRoKSB7XG4gICAgcmV0dXJuIHBhcnNlZC5wcm90b2NvbCArICcvJyArIHBhcnNlZC5ob3N0XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGdpdHVybFxuICB9XG59XG5cbmZ1bmN0aW9uIHBhcnNlR2l0VXJsIChnaXR1cmwpIHtcbiAgdmFyIG1hdGNoZWQgPSBnaXR1cmwubWF0Y2goL14oW15AXSspQChbXjovXSspOlsvXT8oKD86W14vXStbL10pP1teL10rPykoPzpbLl1naXQpPygjLiopPyQvKVxuICBpZiAoIW1hdGNoZWQpIHtcbiAgICB2YXIgbGVnYWN5ID0gdXJsLnBhcnNlKGdpdHVybClcbiAgICAvLyBJZiB3ZSBkb24ndCBoYXZlIHVybC5VUkwsIHRoZW4gc29ycnksIHRoaXMgaXMganVzdCBub3QgZml4YWJsZS5cbiAgICAvLyBUaGlzIGFmZmVjdHMgTm9kZSA8PSA2LjEyLlxuICAgIGlmIChsZWdhY3kuYXV0aCAmJiB0eXBlb2YgdXJsLlVSTCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgLy8gZ2l0IHVybHMgY2FuIGJlIGluIHRoZSBmb3JtIG9mIHNjcC1zdHlsZS9zc2gtY29ubmVjdCBzdHJpbmdzLCBsaWtlXG4gICAgICAvLyBnaXQrc3NoOi8vdXNlckBob3N0LmNvbTpzb21lL3BhdGgsIHdoaWNoIHRoZSBsZWdhY3kgdXJsIHBhcnNlclxuICAgICAgLy8gc3VwcG9ydHMsIGJ1dCBXaGF0V0cgdXJsLlVSTCBjbGFzcyBkb2VzIG5vdC4gIEhvd2V2ZXIsIHRoZSBsZWdhY3lcbiAgICAgIC8vIHBhcnNlciBkZS11cmxlbmNvZGVzIHRoZSB1c2VybmFtZSBhbmQgcGFzc3dvcmQsIHNvIHNvbWV0aGluZyBsaWtlXG4gICAgICAvLyBodHRwczovL3VzZXIlM0FuJTQwbWU6cCU0MHNzJTNBd29yZEB4LmNvbS8gYmVjb21lc1xuICAgICAgLy8gaHR0cHM6Ly91c2VyOm5AbWU6cEBzczp3b3JkQHguY29tLyB3aGljaCBpcyBhbGwga2luZHMgb2Ygd3JvbmcuXG4gICAgICAvLyBQdWxsIG9mZiBqdXN0IHRoZSBhdXRoIGFuZCBob3N0LCBzbyB3ZSBkb250JyBnZXQgdGhlIGNvbmZ1c2luZ1xuICAgICAgLy8gc2NwLXN0eWxlIFVSTCwgdGhlbiBwYXNzIHRoYXQgdG8gdGhlIFdoYXRXRyBwYXJzZXIgdG8gZ2V0IHRoZVxuICAgICAgLy8gYXV0aCBwcm9wZXJseSBlc2NhcGVkLlxuICAgICAgdmFyIGF1dGhtYXRjaCA9IGdpdHVybC5tYXRjaCgvW15AXStAW146L10rLylcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlIC0gdGhpcyBzaG91bGQgYmUgaW1wb3NzaWJsZSAqL1xuICAgICAgaWYgKGF1dGhtYXRjaCkge1xuICAgICAgICB2YXIgd2hhdHdnID0gbmV3IHVybC5VUkwoYXV0aG1hdGNoWzBdKVxuICAgICAgICBsZWdhY3kuYXV0aCA9IHdoYXR3Zy51c2VybmFtZSB8fCAnJ1xuICAgICAgICBpZiAod2hhdHdnLnBhc3N3b3JkKSBsZWdhY3kuYXV0aCArPSAnOicgKyB3aGF0d2cucGFzc3dvcmRcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGxlZ2FjeVxuICB9XG4gIHJldHVybiB7XG4gICAgcHJvdG9jb2w6ICdnaXQrc3NoOicsXG4gICAgc2xhc2hlczogdHJ1ZSxcbiAgICBhdXRoOiBtYXRjaGVkWzFdLFxuICAgIGhvc3Q6IG1hdGNoZWRbMl0sXG4gICAgcG9ydDogbnVsbCxcbiAgICBob3N0bmFtZTogbWF0Y2hlZFsyXSxcbiAgICBoYXNoOiBtYXRjaGVkWzRdLFxuICAgIHNlYXJjaDogbnVsbCxcbiAgICBxdWVyeTogbnVsbCxcbiAgICBwYXRobmFtZTogJy8nICsgbWF0Y2hlZFszXSxcbiAgICBwYXRoOiAnLycgKyBtYXRjaGVkWzNdLFxuICAgIGhyZWY6ICdnaXQrc3NoOi8vJyArIG1hdGNoZWRbMV0gKyAnQCcgKyBtYXRjaGVkWzJdICtcbiAgICAgICAgICAnLycgKyBtYXRjaGVkWzNdICsgKG1hdGNoZWRbNF0gfHwgJycpXG4gIH1cbn1cbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciBvcyA9IHJlcXVpcmUoJ29zJyk7XG5cbi8vIGFkYXB0ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vc2luZHJlc29yaHVzL29zLWhvbWVkaXIvYmxvYi8xMWUwODlmNDc1NGRiMzhiYjUzNWU1YTg0MTYzMjBjNDQ0NmU4Y2ZkL2luZGV4LmpzXG5cbm1vZHVsZS5leHBvcnRzID0gb3MuaG9tZWRpciB8fCBmdW5jdGlvbiBob21lZGlyKCkge1xuICAgIHZhciBob21lID0gcHJvY2Vzcy5lbnYuSE9NRTtcbiAgICB2YXIgdXNlciA9IHByb2Nlc3MuZW52LkxPR05BTUUgfHwgcHJvY2Vzcy5lbnYuVVNFUiB8fCBwcm9jZXNzLmVudi5MTkFNRSB8fCBwcm9jZXNzLmVudi5VU0VSTkFNRTtcblxuICAgIGlmIChwcm9jZXNzLnBsYXRmb3JtID09PSAnd2luMzInKSB7XG4gICAgICAgIHJldHVybiBwcm9jZXNzLmVudi5VU0VSUFJPRklMRSB8fCBwcm9jZXNzLmVudi5IT01FRFJJVkUgKyBwcm9jZXNzLmVudi5IT01FUEFUSCB8fCBob21lIHx8IG51bGw7XG4gICAgfVxuXG4gICAgaWYgKHByb2Nlc3MucGxhdGZvcm0gPT09ICdkYXJ3aW4nKSB7XG4gICAgICAgIHJldHVybiBob21lIHx8ICh1c2VyID8gJy9Vc2Vycy8nICsgdXNlciA6IG51bGwpO1xuICAgIH1cblxuICAgIGlmIChwcm9jZXNzLnBsYXRmb3JtID09PSAnbGludXgnKSB7XG4gICAgICAgIHJldHVybiBob21lIHx8IChwcm9jZXNzLmdldHVpZCgpID09PSAwID8gJy9yb290JyA6ICh1c2VyID8gJy9ob21lLycgKyB1c2VyIDogbnVsbCkpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWV4dHJhLXBhcmVuc1xuICAgIH1cblxuICAgIHJldHVybiBob21lIHx8IG51bGw7XG59O1xuIiwgIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIHNlZSBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL3Y4L3dpa2kvSmF2YVNjcmlwdFN0YWNrVHJhY2VBcGlcbiAgICB2YXIgb3JpZ1ByZXBhcmVTdGFja1RyYWNlID0gRXJyb3IucHJlcGFyZVN0YWNrVHJhY2U7XG4gICAgRXJyb3IucHJlcGFyZVN0YWNrVHJhY2UgPSBmdW5jdGlvbiAoXywgc3RhY2spIHsgcmV0dXJuIHN0YWNrOyB9O1xuICAgIHZhciBzdGFjayA9IChuZXcgRXJyb3IoKSkuc3RhY2s7XG4gICAgRXJyb3IucHJlcGFyZVN0YWNrVHJhY2UgPSBvcmlnUHJlcGFyZVN0YWNrVHJhY2U7XG4gICAgcmV0dXJuIHN0YWNrWzJdLmdldEZpbGVOYW1lKCk7XG59O1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIGlzV2luZG93cyA9IHByb2Nlc3MucGxhdGZvcm0gPT09ICd3aW4zMic7XG5cbi8vIFJlZ2V4IHRvIHNwbGl0IGEgd2luZG93cyBwYXRoIGludG8gaW50byBbZGlyLCByb290LCBiYXNlbmFtZSwgbmFtZSwgZXh0XVxudmFyIHNwbGl0V2luZG93c1JlID1cbiAgICAvXigoKD86W2EtekEtWl06fFtcXFxcXFwvXXsyfVteXFxcXFxcL10rW1xcXFxcXC9dK1teXFxcXFxcL10rKT9bXFxcXFxcL10/KSg/OlteXFxcXFxcL10qW1xcXFxcXC9dKSopKChcXC57MSwyfXxbXlxcXFxcXC9dKz98KShcXC5bXi5cXC9cXFxcXSp8KSlbXFxcXFxcL10qJC87XG5cbnZhciB3aW4zMiA9IHt9O1xuXG5mdW5jdGlvbiB3aW4zMlNwbGl0UGF0aChmaWxlbmFtZSkge1xuICByZXR1cm4gc3BsaXRXaW5kb3dzUmUuZXhlYyhmaWxlbmFtZSkuc2xpY2UoMSk7XG59XG5cbndpbjMyLnBhcnNlID0gZnVuY3Rpb24ocGF0aFN0cmluZykge1xuICBpZiAodHlwZW9mIHBhdGhTdHJpbmcgIT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICAgXCJQYXJhbWV0ZXIgJ3BhdGhTdHJpbmcnIG11c3QgYmUgYSBzdHJpbmcsIG5vdCBcIiArIHR5cGVvZiBwYXRoU3RyaW5nXG4gICAgKTtcbiAgfVxuICB2YXIgYWxsUGFydHMgPSB3aW4zMlNwbGl0UGF0aChwYXRoU3RyaW5nKTtcbiAgaWYgKCFhbGxQYXJ0cyB8fCBhbGxQYXJ0cy5sZW5ndGggIT09IDUpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBwYXRoICdcIiArIHBhdGhTdHJpbmcgKyBcIidcIik7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICByb290OiBhbGxQYXJ0c1sxXSxcbiAgICBkaXI6IGFsbFBhcnRzWzBdID09PSBhbGxQYXJ0c1sxXSA/IGFsbFBhcnRzWzBdIDogYWxsUGFydHNbMF0uc2xpY2UoMCwgLTEpLFxuICAgIGJhc2U6IGFsbFBhcnRzWzJdLFxuICAgIGV4dDogYWxsUGFydHNbNF0sXG4gICAgbmFtZTogYWxsUGFydHNbM11cbiAgfTtcbn07XG5cblxuXG4vLyBTcGxpdCBhIGZpbGVuYW1lIGludG8gW2Rpciwgcm9vdCwgYmFzZW5hbWUsIG5hbWUsIGV4dF0sIHVuaXggdmVyc2lvblxuLy8gJ3Jvb3QnIGlzIGp1c3QgYSBzbGFzaCwgb3Igbm90aGluZy5cbnZhciBzcGxpdFBhdGhSZSA9XG4gICAgL14oKFxcLz8pKD86W15cXC9dKlxcLykqKSgoXFwuezEsMn18W15cXC9dKz98KShcXC5bXi5cXC9dKnwpKVtcXC9dKiQvO1xudmFyIHBvc2l4ID0ge307XG5cblxuZnVuY3Rpb24gcG9zaXhTcGxpdFBhdGgoZmlsZW5hbWUpIHtcbiAgcmV0dXJuIHNwbGl0UGF0aFJlLmV4ZWMoZmlsZW5hbWUpLnNsaWNlKDEpO1xufVxuXG5cbnBvc2l4LnBhcnNlID0gZnVuY3Rpb24ocGF0aFN0cmluZykge1xuICBpZiAodHlwZW9mIHBhdGhTdHJpbmcgIT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICAgXCJQYXJhbWV0ZXIgJ3BhdGhTdHJpbmcnIG11c3QgYmUgYSBzdHJpbmcsIG5vdCBcIiArIHR5cGVvZiBwYXRoU3RyaW5nXG4gICAgKTtcbiAgfVxuICB2YXIgYWxsUGFydHMgPSBwb3NpeFNwbGl0UGF0aChwYXRoU3RyaW5nKTtcbiAgaWYgKCFhbGxQYXJ0cyB8fCBhbGxQYXJ0cy5sZW5ndGggIT09IDUpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBwYXRoICdcIiArIHBhdGhTdHJpbmcgKyBcIidcIik7XG4gIH1cbiAgXG4gIHJldHVybiB7XG4gICAgcm9vdDogYWxsUGFydHNbMV0sXG4gICAgZGlyOiBhbGxQYXJ0c1swXS5zbGljZSgwLCAtMSksXG4gICAgYmFzZTogYWxsUGFydHNbMl0sXG4gICAgZXh0OiBhbGxQYXJ0c1s0XSxcbiAgICBuYW1lOiBhbGxQYXJ0c1szXSxcbiAgfTtcbn07XG5cblxuaWYgKGlzV2luZG93cylcbiAgbW9kdWxlLmV4cG9ydHMgPSB3aW4zMi5wYXJzZTtcbmVsc2UgLyogcG9zaXggKi9cbiAgbW9kdWxlLmV4cG9ydHMgPSBwb3NpeC5wYXJzZTtcblxubW9kdWxlLmV4cG9ydHMucG9zaXggPSBwb3NpeC5wYXJzZTtcbm1vZHVsZS5leHBvcnRzLndpbjMyID0gd2luMzIucGFyc2U7XG4iLCAidmFyIHBhdGggPSByZXF1aXJlKCdwYXRoJyk7XG52YXIgcGFyc2UgPSBwYXRoLnBhcnNlIHx8IHJlcXVpcmUoJ3BhdGgtcGFyc2UnKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBnbG9iYWwtcmVxdWlyZVxuXG52YXIgZ2V0Tm9kZU1vZHVsZXNEaXJzID0gZnVuY3Rpb24gZ2V0Tm9kZU1vZHVsZXNEaXJzKGFic29sdXRlU3RhcnQsIG1vZHVsZXMpIHtcbiAgICB2YXIgcHJlZml4ID0gJy8nO1xuICAgIGlmICgoL14oW0EtWmEtel06KS8pLnRlc3QoYWJzb2x1dGVTdGFydCkpIHtcbiAgICAgICAgcHJlZml4ID0gJyc7XG4gICAgfSBlbHNlIGlmICgoL15cXFxcXFxcXC8pLnRlc3QoYWJzb2x1dGVTdGFydCkpIHtcbiAgICAgICAgcHJlZml4ID0gJ1xcXFxcXFxcJztcbiAgICB9XG5cbiAgICB2YXIgcGF0aHMgPSBbYWJzb2x1dGVTdGFydF07XG4gICAgdmFyIHBhcnNlZCA9IHBhcnNlKGFic29sdXRlU3RhcnQpO1xuICAgIHdoaWxlIChwYXJzZWQuZGlyICE9PSBwYXRoc1twYXRocy5sZW5ndGggLSAxXSkge1xuICAgICAgICBwYXRocy5wdXNoKHBhcnNlZC5kaXIpO1xuICAgICAgICBwYXJzZWQgPSBwYXJzZShwYXJzZWQuZGlyKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGF0aHMucmVkdWNlKGZ1bmN0aW9uIChkaXJzLCBhUGF0aCkge1xuICAgICAgICByZXR1cm4gZGlycy5jb25jYXQobW9kdWxlcy5tYXAoZnVuY3Rpb24gKG1vZHVsZURpcikge1xuICAgICAgICAgICAgcmV0dXJuIHBhdGgucmVzb2x2ZShwcmVmaXgsIGFQYXRoLCBtb2R1bGVEaXIpO1xuICAgICAgICB9KSk7XG4gICAgfSwgW10pO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBub2RlTW9kdWxlc1BhdGhzKHN0YXJ0LCBvcHRzLCByZXF1ZXN0KSB7XG4gICAgdmFyIG1vZHVsZXMgPSBvcHRzICYmIG9wdHMubW9kdWxlRGlyZWN0b3J5XG4gICAgICAgID8gW10uY29uY2F0KG9wdHMubW9kdWxlRGlyZWN0b3J5KVxuICAgICAgICA6IFsnbm9kZV9tb2R1bGVzJ107XG5cbiAgICBpZiAob3B0cyAmJiB0eXBlb2Ygb3B0cy5wYXRocyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gb3B0cy5wYXRocyhcbiAgICAgICAgICAgIHJlcXVlc3QsXG4gICAgICAgICAgICBzdGFydCxcbiAgICAgICAgICAgIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGdldE5vZGVNb2R1bGVzRGlycyhzdGFydCwgbW9kdWxlcyk7IH0sXG4gICAgICAgICAgICBvcHRzXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgdmFyIGRpcnMgPSBnZXROb2RlTW9kdWxlc0RpcnMoc3RhcnQsIG1vZHVsZXMpO1xuICAgIHJldHVybiBvcHRzICYmIG9wdHMucGF0aHMgPyBkaXJzLmNvbmNhdChvcHRzLnBhdGhzKSA6IGRpcnM7XG59O1xuIiwgIi8vIEluZm86IHRoaXMgZmlsZSBoYXMgYmVlbiBnZW5lcmF0ZWQgYnkgWWFybiB3aXRoIHRoZSBhcHByb3ZhbCBvZiB0aGVcbi8vIGByZXNvbHZlYCBtYWludGFpbmVycy4gQnVncyBjYXVzZWQgYnkgYSBjb2RlIGxvY2F0ZWQgaGVyZSBzaG91bGQgYmVcbi8vIG9wZW5lZCBhZ2FpbnN0IHRoZSBZYXJuIHJlcG9zaXRvcnkuXG5cbmNvbnN0IHBhdGggPSByZXF1aXJlKGBwYXRoYCk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKF8sIG9wdHMpIHtcbiAgb3B0cyA9IG9wdHMgfHwge307XG5cbiAgaWYgKG9wdHMuZm9yY2VOb2RlUmVzb2x1dGlvbiB8fCAhcHJvY2Vzcy52ZXJzaW9ucy5wbnApXG4gICAgcmV0dXJuIG9wdHM7XG5cbiAgLy8gSXQgd291bGQgYmUgbmljZSBpZiB3ZSBjb3VsZCB0aHJvdywgYnV0IHRoYXQgd291bGQgYnJlYWsgdGhlIHRyYW5zcGFyZW50XG4gIC8vIGNvbXBhdGliaWxpdHkgd2l0aCBwYWNrYWdlcyB0aGF0IHVzZSBgcmVzb2x2ZWAgdG9kYXkgKHN1Y2ggYXMgR3VscCkuIFNpbmNlXG4gIC8vIGl0J3MgdGhlIHdob2xlIHBvaW50IG9mIHRoaXMgcGF0Y2gsIHdlIGRvbid0LlxuICAvL1xuICAvLyBpZiAob3B0cy5wYWNrYWdlSXRlcmF0b3IgfHwgb3B0cy5wYXRocylcbiAgLy8gICB0aHJvdyBuZXcgRXJyb3IoYFRoZSBcInBhY2thZ2VJdGVyYXRvclwiIGFuZCBcInBhdGhzXCIgb3B0aW9ucyBjYW5ub3QgYmUgdXNlZCBpbiBQblAgZW52aXJvbm1lbnRzLiBTZXQgXCJmb3JjZU5vZGVSZXNvbHV0aW9uOiB0cnVlXCIgaWYgYWJzb2x1dGVseSBuZWVkZWQsIG9yIGJyYW5jaCBvbiBwcm9jZXNzLnZlcnNpb25zLnBucCBvdGhlcndpc2UuYCk7XG5cbiAgY29uc3Qge2ZpbmRQbnBBcGl9ID0gcmVxdWlyZShgbW9kdWxlYCk7XG5cbiAgY29uc3QgcnVuUG5wUmVzb2x1dGlvbiA9IChyZXF1ZXN0LCBiYXNlZGlyKSA9PiB7XG4gICAgLy8gRXh0cmFjdCB0aGUgbmFtZSBvZiB0aGUgcGFja2FnZSBiZWluZyByZXF1ZXN0ZWQgKDE9cGFja2FnZSBuYW1lLCAyPWludGVybmFsIHBhdGgpXG4gICAgY29uc3QgcGFydHMgPSByZXF1ZXN0Lm1hdGNoKC9eKCg/OkBbXi9dK1xcLyk/W14vXSspKFxcLy4qKT8vKTtcbiAgICBpZiAoIXBhcnRzKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBBc3NlcnRpb24gZmFpbGVkOiBFeHBlY3RlZCB0aGUgXCJyZXNvbHZlXCIgcGFja2FnZSB0byBjYWxsIHRoZSBcInBhdGhzXCIgY2FsbGJhY2sgd2l0aCBwYWNrYWdlIG5hbWVzIG9ubHkgKGdvdCBcIiR7cmVxdWVzdH1cIilgKTtcblxuICAgIC8vIE1ha2Ugc3VyZSB0aGF0IGJhc2VkaXIgZW5kcyB3aXRoIGEgc2xhc2hcbiAgICBpZiAoYmFzZWRpci5jaGFyQXQoYmFzZWRpci5sZW5ndGggLSAxKSAhPT0gYC9gKVxuICAgICAgYmFzZWRpciA9IHBhdGguam9pbihiYXNlZGlyLCBgL2ApO1xuXG4gICAgY29uc3QgYXBpID0gZmluZFBucEFwaShiYXNlZGlyKTtcbiAgICBpZiAoYXBpID09PSBudWxsKVxuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcblxuICAgIC8vIFRoaXMgaXMgZ3VhcmFudGVlZCB0byByZXR1cm4gdGhlIHBhdGggdG8gdGhlIFwicGFja2FnZS5qc29uXCIgZmlsZSBmcm9tIHRoZSBnaXZlbiBwYWNrYWdlXG4gICAgbGV0IG1hbmlmZXN0UGF0aDtcbiAgICB0cnkge1xuICAgICAgbWFuaWZlc3RQYXRoID0gYXBpLnJlc29sdmVUb1VucXVhbGlmaWVkKGAke3BhcnRzWzFdfS9wYWNrYWdlLmpzb25gLCBiYXNlZGlyLCB7Y29uc2lkZXJCdWlsdGluczogZmFsc2V9KTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGlmIChtYW5pZmVzdFBhdGggPT09IG51bGwpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEFzc2VydGlvbiBmYWlsZWQ6IFRoZSByZXNvbHV0aW9uIHRoaW5rcyB0aGF0IFwiJHtwYXJ0c1sxXX1cIiBpcyBhIE5vZGUgYnVpbHRpbmApO1xuXG4gICAgLy8gU3RyaXAgdGhlIHBhY2thZ2UuanNvbiB0byBnZXQgdGhlIHBhY2thZ2UgZm9sZGVyXG4gICAgY29uc3QgcGFja2FnZVBhdGggPSBwYXRoLmRpcm5hbWUobWFuaWZlc3RQYXRoKTtcblxuICAgIC8vIEF0dGFjaCB0aGUgaW50ZXJuYWwgcGF0aCB0byB0aGUgcmVzb2x2ZWQgcGFja2FnZSBkaXJlY3RvcnlcbiAgICBjb25zdCB1bnF1YWxpZmllZFBhdGggPSB0eXBlb2YgcGFydHNbMl0gIT09IGB1bmRlZmluZWRgXG4gICAgICA/IHBhdGguam9pbihwYWNrYWdlUGF0aCwgcGFydHNbMl0pXG4gICAgICA6IHBhY2thZ2VQYXRoO1xuXG4gICAgcmV0dXJuIHtwYWNrYWdlUGF0aCwgdW5xdWFsaWZpZWRQYXRofTtcbiAgfTtcblxuICBjb25zdCBydW5QbnBSZXNvbHV0aW9uT25BcnJheSA9IChyZXF1ZXN0LCBwYXRocykgPT4ge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGF0aHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHJlc29sdXRpb24gPSBydW5QbnBSZXNvbHV0aW9uKHJlcXVlc3QsIHBhdGhzW2ldKTtcbiAgICAgIGlmIChyZXNvbHV0aW9uIHx8IGkgPT09IHBhdGhzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgcmV0dXJuIHJlc29sdXRpb247XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgY29uc3Qgb3JpZ2luYWxQYXRocyA9IEFycmF5LmlzQXJyYXkob3B0cy5wYXRocykgPyBvcHRzLnBhdGhzIDogW107XG5cbiAgY29uc3QgcGFja2FnZUl0ZXJhdG9yID0gKHJlcXVlc3QsIGJhc2VkaXIsIGdldENhbmRpZGF0ZXMsIG9wdHMpID0+IHtcbiAgICBjb25zdCBwYXRoc1RvVGVzdCA9IFtiYXNlZGlyXS5jb25jYXQob3JpZ2luYWxQYXRocyk7XG4gICAgY29uc3QgcmVzb2x1dGlvbiA9IHJ1blBucFJlc29sdXRpb25PbkFycmF5KHJlcXVlc3QsIHBhdGhzVG9UZXN0KTtcbiAgICBpZiAocmVzb2x1dGlvbiA9PSBudWxsKVxuICAgICAgcmV0dXJuIGdldENhbmRpZGF0ZXMoKTtcblxuICAgIHJldHVybiBbcmVzb2x1dGlvbi51bnF1YWxpZmllZFBhdGhdO1xuICB9O1xuXG4gIGNvbnN0IHBhdGhzID0gKHJlcXVlc3QsIGJhc2VkaXIsIGdldE5vZGVNb2R1bGVQYXRocywgb3B0cykgPT4ge1xuICAgIGNvbnN0IHBhdGhzVG9UZXN0ID0gW2Jhc2VkaXJdLmNvbmNhdChvcmlnaW5hbFBhdGhzKTtcbiAgICBjb25zdCByZXNvbHV0aW9uID0gcnVuUG5wUmVzb2x1dGlvbk9uQXJyYXkocmVxdWVzdCwgcGF0aHNUb1Rlc3QpO1xuICAgIGlmIChyZXNvbHV0aW9uID09IG51bGwpXG4gICAgICByZXR1cm4gZ2V0Tm9kZU1vZHVsZVBhdGhzKCkuY29uY2F0KG9yaWdpbmFsUGF0aHMpO1xuXG4gICAgLy8gU3RpcCB0aGUgbG9jYWwgbmFtZWQgZm9sZGVyXG4gICAgbGV0IG5vZGVNb2R1bGVzID0gcGF0aC5kaXJuYW1lKHJlc29sdXRpb24ucGFja2FnZVBhdGgpO1xuXG4gICAgLy8gU3RyaXAgdGhlIHNjb3BlIG5hbWVkIGZvbGRlciBpZiBuZWVkZWRcbiAgICBpZiAocmVxdWVzdC5tYXRjaCgvXkBbXi9dK1xcLy8pKVxuICAgICAgbm9kZU1vZHVsZXMgPSBwYXRoLmRpcm5hbWUobm9kZU1vZHVsZXMpO1xuXG4gICAgcmV0dXJuIFtub2RlTW9kdWxlc107XG4gIH07XG5cbiAgLy8gV2UgbmVlZCB0byBrZWVwIHRyYWNrIHdoZXRoZXIgd2UncmUgaW4gYHBhY2thZ2VJdGVyYXRvcmAgb3Igbm90IHNvIHRoYXRcbiAgLy8gdGhlIGNvZGUgaXMgY29tcGF0aWJsZSB3aXRoIGJvdGggYHJlc29sdmVgIDEuOSsgYW5kIGByZXNvbHZlYCAxLjE1K1xuICBsZXQgaXNJbnNpZGVJdGVyYXRvciA9IGZhbHNlO1xuXG4gIGlmICghb3B0cy5fX3NraXBQYWNrYWdlSXRlcmF0b3IpIHtcbiAgICBvcHRzLnBhY2thZ2VJdGVyYXRvciA9IGZ1bmN0aW9uIChyZXF1ZXN0LCBiYXNlZGlyLCBnZXRDYW5kaWRhdGVzLCBvcHRzKSB7XG4gICAgICBpc0luc2lkZUl0ZXJhdG9yID0gdHJ1ZTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBwYWNrYWdlSXRlcmF0b3IocmVxdWVzdCwgYmFzZWRpciwgZ2V0Q2FuZGlkYXRlcywgb3B0cyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpc0luc2lkZUl0ZXJhdG9yID0gZmFsc2U7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIG9wdHMucGF0aHMgPSBmdW5jdGlvbiAocmVxdWVzdCwgYmFzZWRpciwgZ2V0Tm9kZU1vZHVsZVBhdGhzLCBvcHRzKSB7XG4gICAgaWYgKGlzSW5zaWRlSXRlcmF0b3IpXG4gICAgICByZXR1cm4gZ2V0Tm9kZU1vZHVsZVBhdGhzKCkuY29uY2F0KG9yaWdpbmFsUGF0aHMpO1xuXG4gICAgcmV0dXJuIHBhdGhzKHJlcXVlc3QsIGJhc2VkaXIsIGdldE5vZGVNb2R1bGVQYXRocywgb3B0cyk7XG4gIH07XG5cbiAgcmV0dXJuIG9wdHM7XG59O1xuIiwgInZhciBmcyA9IHJlcXVpcmUoJ2ZzJyk7XG52YXIgZ2V0SG9tZWRpciA9IHJlcXVpcmUoJy4vaG9tZWRpcicpO1xudmFyIHBhdGggPSByZXF1aXJlKCdwYXRoJyk7XG52YXIgY2FsbGVyID0gcmVxdWlyZSgnLi9jYWxsZXInKTtcbnZhciBub2RlTW9kdWxlc1BhdGhzID0gcmVxdWlyZSgnLi9ub2RlLW1vZHVsZXMtcGF0aHMnKTtcbnZhciBub3JtYWxpemVPcHRpb25zID0gcmVxdWlyZSgnLi9ub3JtYWxpemUtb3B0aW9ucycpO1xudmFyIGlzQ29yZSA9IHJlcXVpcmUoJ2lzLWNvcmUtbW9kdWxlJyk7XG5cbnZhciByZWFscGF0aEZTID0gcHJvY2Vzcy5wbGF0Zm9ybSAhPT0gJ3dpbjMyJyAmJiBmcy5yZWFscGF0aCAmJiB0eXBlb2YgZnMucmVhbHBhdGgubmF0aXZlID09PSAnZnVuY3Rpb24nID8gZnMucmVhbHBhdGgubmF0aXZlIDogZnMucmVhbHBhdGg7XG5cbnZhciBob21lZGlyID0gZ2V0SG9tZWRpcigpO1xudmFyIGRlZmF1bHRQYXRocyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gW1xuICAgICAgICBwYXRoLmpvaW4oaG9tZWRpciwgJy5ub2RlX21vZHVsZXMnKSxcbiAgICAgICAgcGF0aC5qb2luKGhvbWVkaXIsICcubm9kZV9saWJyYXJpZXMnKVxuICAgIF07XG59O1xuXG52YXIgZGVmYXVsdElzRmlsZSA9IGZ1bmN0aW9uIGlzRmlsZShmaWxlLCBjYikge1xuICAgIGZzLnN0YXQoZmlsZSwgZnVuY3Rpb24gKGVyciwgc3RhdCkge1xuICAgICAgICBpZiAoIWVycikge1xuICAgICAgICAgICAgcmV0dXJuIGNiKG51bGwsIHN0YXQuaXNGaWxlKCkgfHwgc3RhdC5pc0ZJRk8oKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVyci5jb2RlID09PSAnRU5PRU5UJyB8fCBlcnIuY29kZSA9PT0gJ0VOT1RESVInKSByZXR1cm4gY2IobnVsbCwgZmFsc2UpO1xuICAgICAgICByZXR1cm4gY2IoZXJyKTtcbiAgICB9KTtcbn07XG5cbnZhciBkZWZhdWx0SXNEaXIgPSBmdW5jdGlvbiBpc0RpcmVjdG9yeShkaXIsIGNiKSB7XG4gICAgZnMuc3RhdChkaXIsIGZ1bmN0aW9uIChlcnIsIHN0YXQpIHtcbiAgICAgICAgaWYgKCFlcnIpIHtcbiAgICAgICAgICAgIHJldHVybiBjYihudWxsLCBzdGF0LmlzRGlyZWN0b3J5KCkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlcnIuY29kZSA9PT0gJ0VOT0VOVCcgfHwgZXJyLmNvZGUgPT09ICdFTk9URElSJykgcmV0dXJuIGNiKG51bGwsIGZhbHNlKTtcbiAgICAgICAgcmV0dXJuIGNiKGVycik7XG4gICAgfSk7XG59O1xuXG52YXIgZGVmYXVsdFJlYWxwYXRoID0gZnVuY3Rpb24gcmVhbHBhdGgoeCwgY2IpIHtcbiAgICByZWFscGF0aEZTKHgsIGZ1bmN0aW9uIChyZWFscGF0aEVyciwgcmVhbFBhdGgpIHtcbiAgICAgICAgaWYgKHJlYWxwYXRoRXJyICYmIHJlYWxwYXRoRXJyLmNvZGUgIT09ICdFTk9FTlQnKSBjYihyZWFscGF0aEVycik7XG4gICAgICAgIGVsc2UgY2IobnVsbCwgcmVhbHBhdGhFcnIgPyB4IDogcmVhbFBhdGgpO1xuICAgIH0pO1xufTtcblxudmFyIG1heWJlUmVhbHBhdGggPSBmdW5jdGlvbiBtYXliZVJlYWxwYXRoKHJlYWxwYXRoLCB4LCBvcHRzLCBjYikge1xuICAgIGlmIChvcHRzICYmIG9wdHMucHJlc2VydmVTeW1saW5rcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmVhbHBhdGgoeCwgY2IpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGNiKG51bGwsIHgpO1xuICAgIH1cbn07XG5cbnZhciBkZWZhdWx0UmVhZFBhY2thZ2UgPSBmdW5jdGlvbiBkZWZhdWx0UmVhZFBhY2thZ2UocmVhZEZpbGUsIHBrZ2ZpbGUsIGNiKSB7XG4gICAgcmVhZEZpbGUocGtnZmlsZSwgZnVuY3Rpb24gKHJlYWRGaWxlRXJyLCBib2R5KSB7XG4gICAgICAgIGlmIChyZWFkRmlsZUVycikgY2IocmVhZEZpbGVFcnIpO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdmFyIHBrZyA9IEpTT04ucGFyc2UoYm9keSk7XG4gICAgICAgICAgICAgICAgY2IobnVsbCwgcGtnKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGpzb25FcnIpIHtcbiAgICAgICAgICAgICAgICBjYihudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xufTtcblxudmFyIGdldFBhY2thZ2VDYW5kaWRhdGVzID0gZnVuY3Rpb24gZ2V0UGFja2FnZUNhbmRpZGF0ZXMoeCwgc3RhcnQsIG9wdHMpIHtcbiAgICB2YXIgZGlycyA9IG5vZGVNb2R1bGVzUGF0aHMoc3RhcnQsIG9wdHMsIHgpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGlycy5sZW5ndGg7IGkrKykge1xuICAgICAgICBkaXJzW2ldID0gcGF0aC5qb2luKGRpcnNbaV0sIHgpO1xuICAgIH1cbiAgICByZXR1cm4gZGlycztcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gcmVzb2x2ZSh4LCBvcHRpb25zLCBjYWxsYmFjaykge1xuICAgIHZhciBjYiA9IGNhbGxiYWNrO1xuICAgIHZhciBvcHRzID0gb3B0aW9ucztcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgY2IgPSBvcHRzO1xuICAgICAgICBvcHRzID0ge307XG4gICAgfVxuICAgIGlmICh0eXBlb2YgeCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgdmFyIGVyciA9IG5ldyBUeXBlRXJyb3IoJ1BhdGggbXVzdCBiZSBhIHN0cmluZy4nKTtcbiAgICAgICAgcmV0dXJuIHByb2Nlc3MubmV4dFRpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY2IoZXJyKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgb3B0cyA9IG5vcm1hbGl6ZU9wdGlvbnMoeCwgb3B0cyk7XG5cbiAgICB2YXIgaXNGaWxlID0gb3B0cy5pc0ZpbGUgfHwgZGVmYXVsdElzRmlsZTtcbiAgICB2YXIgaXNEaXJlY3RvcnkgPSBvcHRzLmlzRGlyZWN0b3J5IHx8IGRlZmF1bHRJc0RpcjtcbiAgICB2YXIgcmVhZEZpbGUgPSBvcHRzLnJlYWRGaWxlIHx8IGZzLnJlYWRGaWxlO1xuICAgIHZhciByZWFscGF0aCA9IG9wdHMucmVhbHBhdGggfHwgZGVmYXVsdFJlYWxwYXRoO1xuICAgIHZhciByZWFkUGFja2FnZSA9IG9wdHMucmVhZFBhY2thZ2UgfHwgZGVmYXVsdFJlYWRQYWNrYWdlO1xuICAgIGlmIChvcHRzLnJlYWRGaWxlICYmIG9wdHMucmVhZFBhY2thZ2UpIHtcbiAgICAgICAgdmFyIGNvbmZsaWN0RXJyID0gbmV3IFR5cGVFcnJvcignYHJlYWRGaWxlYCBhbmQgYHJlYWRQYWNrYWdlYCBhcmUgbXV0dWFsbHkgZXhjbHVzaXZlLicpO1xuICAgICAgICByZXR1cm4gcHJvY2Vzcy5uZXh0VGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjYihjb25mbGljdEVycik7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICB2YXIgcGFja2FnZUl0ZXJhdG9yID0gb3B0cy5wYWNrYWdlSXRlcmF0b3I7XG5cbiAgICB2YXIgZXh0ZW5zaW9ucyA9IG9wdHMuZXh0ZW5zaW9ucyB8fCBbJy5qcyddO1xuICAgIHZhciBpbmNsdWRlQ29yZU1vZHVsZXMgPSBvcHRzLmluY2x1ZGVDb3JlTW9kdWxlcyAhPT0gZmFsc2U7XG4gICAgdmFyIGJhc2VkaXIgPSBvcHRzLmJhc2VkaXIgfHwgcGF0aC5kaXJuYW1lKGNhbGxlcigpKTtcbiAgICB2YXIgcGFyZW50ID0gb3B0cy5maWxlbmFtZSB8fCBiYXNlZGlyO1xuXG4gICAgb3B0cy5wYXRocyA9IG9wdHMucGF0aHMgfHwgZGVmYXVsdFBhdGhzKCk7XG5cbiAgICAvLyBlbnN1cmUgdGhhdCBgYmFzZWRpcmAgaXMgYW4gYWJzb2x1dGUgcGF0aCBhdCB0aGlzIHBvaW50LCByZXNvbHZpbmcgYWdhaW5zdCB0aGUgcHJvY2VzcycgY3VycmVudCB3b3JraW5nIGRpcmVjdG9yeVxuICAgIHZhciBhYnNvbHV0ZVN0YXJ0ID0gcGF0aC5yZXNvbHZlKGJhc2VkaXIpO1xuXG4gICAgbWF5YmVSZWFscGF0aChcbiAgICAgICAgcmVhbHBhdGgsXG4gICAgICAgIGFic29sdXRlU3RhcnQsXG4gICAgICAgIG9wdHMsXG4gICAgICAgIGZ1bmN0aW9uIChlcnIsIHJlYWxTdGFydCkge1xuICAgICAgICAgICAgaWYgKGVycikgY2IoZXJyKTtcbiAgICAgICAgICAgIGVsc2UgaW5pdChyZWFsU3RhcnQpO1xuICAgICAgICB9XG4gICAgKTtcblxuICAgIHZhciByZXM7XG4gICAgZnVuY3Rpb24gaW5pdChiYXNlZGlyKSB7XG4gICAgICAgIGlmICgoL14oPzpcXC5cXC4/KD86XFwvfCQpfFxcL3woW0EtWmEtel06KT9bL1xcXFxdKS8pLnRlc3QoeCkpIHtcbiAgICAgICAgICAgIHJlcyA9IHBhdGgucmVzb2x2ZShiYXNlZGlyLCB4KTtcbiAgICAgICAgICAgIGlmICh4ID09PSAnLicgfHwgeCA9PT0gJy4uJyB8fCB4LnNsaWNlKC0xKSA9PT0gJy8nKSByZXMgKz0gJy8nO1xuICAgICAgICAgICAgaWYgKCgvXFwvJC8pLnRlc3QoeCkgJiYgcmVzID09PSBiYXNlZGlyKSB7XG4gICAgICAgICAgICAgICAgbG9hZEFzRGlyZWN0b3J5KHJlcywgb3B0cy5wYWNrYWdlLCBvbmZpbGUpO1xuICAgICAgICAgICAgfSBlbHNlIGxvYWRBc0ZpbGUocmVzLCBvcHRzLnBhY2thZ2UsIG9uZmlsZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5jbHVkZUNvcmVNb2R1bGVzICYmIGlzQ29yZSh4KSkge1xuICAgICAgICAgICAgcmV0dXJuIGNiKG51bGwsIHgpO1xuICAgICAgICB9IGVsc2UgbG9hZE5vZGVNb2R1bGVzKHgsIGJhc2VkaXIsIGZ1bmN0aW9uIChlcnIsIG4sIHBrZykge1xuICAgICAgICAgICAgaWYgKGVycikgY2IoZXJyKTtcbiAgICAgICAgICAgIGVsc2UgaWYgKG4pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWF5YmVSZWFscGF0aChyZWFscGF0aCwgbiwgb3B0cywgZnVuY3Rpb24gKGVyciwgcmVhbE4pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2IoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNiKG51bGwsIHJlYWxOLCBwa2cpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBtb2R1bGVFcnJvciA9IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIgKyB4ICsgXCInIGZyb20gJ1wiICsgcGFyZW50ICsgXCInXCIpO1xuICAgICAgICAgICAgICAgIG1vZHVsZUVycm9yLmNvZGUgPSAnTU9EVUxFX05PVF9GT1VORCc7XG4gICAgICAgICAgICAgICAgY2IobW9kdWxlRXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbmZpbGUoZXJyLCBtLCBwa2cpIHtcbiAgICAgICAgaWYgKGVycikgY2IoZXJyKTtcbiAgICAgICAgZWxzZSBpZiAobSkgY2IobnVsbCwgbSwgcGtnKTtcbiAgICAgICAgZWxzZSBsb2FkQXNEaXJlY3RvcnkocmVzLCBmdW5jdGlvbiAoZXJyLCBkLCBwa2cpIHtcbiAgICAgICAgICAgIGlmIChlcnIpIGNiKGVycik7XG4gICAgICAgICAgICBlbHNlIGlmIChkKSB7XG4gICAgICAgICAgICAgICAgbWF5YmVSZWFscGF0aChyZWFscGF0aCwgZCwgb3B0cywgZnVuY3Rpb24gKGVyciwgcmVhbEQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2IoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNiKG51bGwsIHJlYWxELCBwa2cpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBtb2R1bGVFcnJvciA9IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIgKyB4ICsgXCInIGZyb20gJ1wiICsgcGFyZW50ICsgXCInXCIpO1xuICAgICAgICAgICAgICAgIG1vZHVsZUVycm9yLmNvZGUgPSAnTU9EVUxFX05PVF9GT1VORCc7XG4gICAgICAgICAgICAgICAgY2IobW9kdWxlRXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsb2FkQXNGaWxlKHgsIHRoZVBhY2thZ2UsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBsb2FkQXNGaWxlUGFja2FnZSA9IHRoZVBhY2thZ2U7XG4gICAgICAgIHZhciBjYiA9IGNhbGxiYWNrO1xuICAgICAgICBpZiAodHlwZW9mIGxvYWRBc0ZpbGVQYWNrYWdlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYiA9IGxvYWRBc0ZpbGVQYWNrYWdlO1xuICAgICAgICAgICAgbG9hZEFzRmlsZVBhY2thZ2UgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZXh0cyA9IFsnJ10uY29uY2F0KGV4dGVuc2lvbnMpO1xuICAgICAgICBsb2FkKGV4dHMsIHgsIGxvYWRBc0ZpbGVQYWNrYWdlKTtcblxuICAgICAgICBmdW5jdGlvbiBsb2FkKGV4dHMsIHgsIGxvYWRQYWNrYWdlKSB7XG4gICAgICAgICAgICBpZiAoZXh0cy5sZW5ndGggPT09IDApIHJldHVybiBjYihudWxsLCB1bmRlZmluZWQsIGxvYWRQYWNrYWdlKTtcbiAgICAgICAgICAgIHZhciBmaWxlID0geCArIGV4dHNbMF07XG5cbiAgICAgICAgICAgIHZhciBwa2cgPSBsb2FkUGFja2FnZTtcbiAgICAgICAgICAgIGlmIChwa2cpIG9ucGtnKG51bGwsIHBrZyk7XG4gICAgICAgICAgICBlbHNlIGxvYWRwa2cocGF0aC5kaXJuYW1lKGZpbGUpLCBvbnBrZyk7XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIG9ucGtnKGVyciwgcGtnXywgZGlyKSB7XG4gICAgICAgICAgICAgICAgcGtnID0gcGtnXztcbiAgICAgICAgICAgICAgICBpZiAoZXJyKSByZXR1cm4gY2IoZXJyKTtcbiAgICAgICAgICAgICAgICBpZiAoZGlyICYmIHBrZyAmJiBvcHRzLnBhdGhGaWx0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJmaWxlID0gcGF0aC5yZWxhdGl2ZShkaXIsIGZpbGUpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVsID0gcmZpbGUuc2xpY2UoMCwgcmZpbGUubGVuZ3RoIC0gZXh0c1swXS5sZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgciA9IG9wdHMucGF0aEZpbHRlcihwa2csIHgsIHJlbCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyKSByZXR1cm4gbG9hZChcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnJ10uY29uY2F0KGV4dGVuc2lvbnMuc2xpY2UoKSksXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoLnJlc29sdmUoZGlyLCByKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBrZ1xuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpc0ZpbGUoZmlsZSwgb25leCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBvbmV4KGVyciwgZXgpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyKSByZXR1cm4gY2IoZXJyKTtcbiAgICAgICAgICAgICAgICBpZiAoZXgpIHJldHVybiBjYihudWxsLCBmaWxlLCBwa2cpO1xuICAgICAgICAgICAgICAgIGxvYWQoZXh0cy5zbGljZSgxKSwgeCwgcGtnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxvYWRwa2coZGlyLCBjYikge1xuICAgICAgICBpZiAoZGlyID09PSAnJyB8fCBkaXIgPT09ICcvJykgcmV0dXJuIGNiKG51bGwpO1xuICAgICAgICBpZiAocHJvY2Vzcy5wbGF0Zm9ybSA9PT0gJ3dpbjMyJyAmJiAoL15cXHc6Wy9cXFxcXSokLykudGVzdChkaXIpKSB7XG4gICAgICAgICAgICByZXR1cm4gY2IobnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCgvWy9cXFxcXW5vZGVfbW9kdWxlc1svXFxcXF0qJC8pLnRlc3QoZGlyKSkgcmV0dXJuIGNiKG51bGwpO1xuXG4gICAgICAgIG1heWJlUmVhbHBhdGgocmVhbHBhdGgsIGRpciwgb3B0cywgZnVuY3Rpb24gKHVud3JhcEVyciwgcGtnZGlyKSB7XG4gICAgICAgICAgICBpZiAodW53cmFwRXJyKSByZXR1cm4gbG9hZHBrZyhwYXRoLmRpcm5hbWUoZGlyKSwgY2IpO1xuICAgICAgICAgICAgdmFyIHBrZ2ZpbGUgPSBwYXRoLmpvaW4ocGtnZGlyLCAncGFja2FnZS5qc29uJyk7XG4gICAgICAgICAgICBpc0ZpbGUocGtnZmlsZSwgZnVuY3Rpb24gKGVyciwgZXgpIHtcbiAgICAgICAgICAgICAgICAvLyBvbiBlcnIsIGV4IGlzIGZhbHNlXG4gICAgICAgICAgICAgICAgaWYgKCFleCkgcmV0dXJuIGxvYWRwa2cocGF0aC5kaXJuYW1lKGRpciksIGNiKTtcblxuICAgICAgICAgICAgICAgIHJlYWRQYWNrYWdlKHJlYWRGaWxlLCBwa2dmaWxlLCBmdW5jdGlvbiAoZXJyLCBwa2dQYXJhbSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyKSBjYihlcnIpO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBwa2cgPSBwa2dQYXJhbTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAocGtnICYmIG9wdHMucGFja2FnZUZpbHRlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGtnID0gb3B0cy5wYWNrYWdlRmlsdGVyKHBrZywgcGtnZmlsZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2IobnVsbCwgcGtnLCBkaXIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxvYWRBc0RpcmVjdG9yeSh4LCBsb2FkQXNEaXJlY3RvcnlQYWNrYWdlLCBjYWxsYmFjaykge1xuICAgICAgICB2YXIgY2IgPSBjYWxsYmFjaztcbiAgICAgICAgdmFyIGZwa2cgPSBsb2FkQXNEaXJlY3RvcnlQYWNrYWdlO1xuICAgICAgICBpZiAodHlwZW9mIGZwa2cgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNiID0gZnBrZztcbiAgICAgICAgICAgIGZwa2cgPSBvcHRzLnBhY2thZ2U7XG4gICAgICAgIH1cblxuICAgICAgICBtYXliZVJlYWxwYXRoKHJlYWxwYXRoLCB4LCBvcHRzLCBmdW5jdGlvbiAodW53cmFwRXJyLCBwa2dkaXIpIHtcbiAgICAgICAgICAgIGlmICh1bndyYXBFcnIpIHJldHVybiBjYih1bndyYXBFcnIpO1xuICAgICAgICAgICAgdmFyIHBrZ2ZpbGUgPSBwYXRoLmpvaW4ocGtnZGlyLCAncGFja2FnZS5qc29uJyk7XG4gICAgICAgICAgICBpc0ZpbGUocGtnZmlsZSwgZnVuY3Rpb24gKGVyciwgZXgpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyKSByZXR1cm4gY2IoZXJyKTtcbiAgICAgICAgICAgICAgICBpZiAoIWV4KSByZXR1cm4gbG9hZEFzRmlsZShwYXRoLmpvaW4oeCwgJ2luZGV4JyksIGZwa2csIGNiKTtcblxuICAgICAgICAgICAgICAgIHJlYWRQYWNrYWdlKHJlYWRGaWxlLCBwa2dmaWxlLCBmdW5jdGlvbiAoZXJyLCBwa2dQYXJhbSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyKSByZXR1cm4gY2IoZXJyKTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgcGtnID0gcGtnUGFyYW07XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHBrZyAmJiBvcHRzLnBhY2thZ2VGaWx0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBrZyA9IG9wdHMucGFja2FnZUZpbHRlcihwa2csIHBrZ2ZpbGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHBrZyAmJiBwa2cubWFpbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBwa2cubWFpbiAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWFpbkVycm9yID0gbmV3IFR5cGVFcnJvcigncGFja2FnZSBcdTIwMUMnICsgcGtnLm5hbWUgKyAnXHUyMDFEIGBtYWluYCBtdXN0IGJlIGEgc3RyaW5nJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFpbkVycm9yLmNvZGUgPSAnSU5WQUxJRF9QQUNLQUdFX01BSU4nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjYihtYWluRXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBrZy5tYWluID09PSAnLicgfHwgcGtnLm1haW4gPT09ICcuLycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwa2cubWFpbiA9ICdpbmRleCc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2FkQXNGaWxlKHBhdGgucmVzb2x2ZSh4LCBwa2cubWFpbiksIHBrZywgZnVuY3Rpb24gKGVyciwgbSwgcGtnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycikgcmV0dXJuIGNiKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG0pIHJldHVybiBjYihudWxsLCBtLCBwa2cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcGtnKSByZXR1cm4gbG9hZEFzRmlsZShwYXRoLmpvaW4oeCwgJ2luZGV4JyksIHBrZywgY2IpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRpciA9IHBhdGgucmVzb2x2ZSh4LCBwa2cubWFpbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9hZEFzRGlyZWN0b3J5KGRpciwgcGtnLCBmdW5jdGlvbiAoZXJyLCBuLCBwa2cpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycikgcmV0dXJuIGNiKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuKSByZXR1cm4gY2IobnVsbCwgbiwgcGtnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9hZEFzRmlsZShwYXRoLmpvaW4oeCwgJ2luZGV4JyksIHBrZywgY2IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBsb2FkQXNGaWxlKHBhdGguam9pbih4LCAnL2luZGV4JyksIHBrZywgY2IpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHByb2Nlc3NEaXJzKGNiLCBkaXJzKSB7XG4gICAgICAgIGlmIChkaXJzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIGNiKG51bGwsIHVuZGVmaW5lZCk7XG4gICAgICAgIHZhciBkaXIgPSBkaXJzWzBdO1xuXG4gICAgICAgIGlzRGlyZWN0b3J5KHBhdGguZGlybmFtZShkaXIpLCBpc2Rpcik7XG5cbiAgICAgICAgZnVuY3Rpb24gaXNkaXIoZXJyLCBpc2Rpcikge1xuICAgICAgICAgICAgaWYgKGVycikgcmV0dXJuIGNiKGVycik7XG4gICAgICAgICAgICBpZiAoIWlzZGlyKSByZXR1cm4gcHJvY2Vzc0RpcnMoY2IsIGRpcnMuc2xpY2UoMSkpO1xuICAgICAgICAgICAgbG9hZEFzRmlsZShkaXIsIG9wdHMucGFja2FnZSwgb25maWxlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIG9uZmlsZShlcnIsIG0sIHBrZykge1xuICAgICAgICAgICAgaWYgKGVycikgcmV0dXJuIGNiKGVycik7XG4gICAgICAgICAgICBpZiAobSkgcmV0dXJuIGNiKG51bGwsIG0sIHBrZyk7XG4gICAgICAgICAgICBsb2FkQXNEaXJlY3RvcnkoZGlyLCBvcHRzLnBhY2thZ2UsIG9uZGlyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIG9uZGlyKGVyciwgbiwgcGtnKSB7XG4gICAgICAgICAgICBpZiAoZXJyKSByZXR1cm4gY2IoZXJyKTtcbiAgICAgICAgICAgIGlmIChuKSByZXR1cm4gY2IobnVsbCwgbiwgcGtnKTtcbiAgICAgICAgICAgIHByb2Nlc3NEaXJzKGNiLCBkaXJzLnNsaWNlKDEpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBsb2FkTm9kZU1vZHVsZXMoeCwgc3RhcnQsIGNiKSB7XG4gICAgICAgIHZhciB0aHVuayA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGdldFBhY2thZ2VDYW5kaWRhdGVzKHgsIHN0YXJ0LCBvcHRzKTsgfTtcbiAgICAgICAgcHJvY2Vzc0RpcnMoXG4gICAgICAgICAgICBjYixcbiAgICAgICAgICAgIHBhY2thZ2VJdGVyYXRvciA/IHBhY2thZ2VJdGVyYXRvcih4LCBzdGFydCwgdGh1bmssIG9wdHMpIDogdGh1bmsoKVxuICAgICAgICApO1xuICAgIH1cbn07XG4iLCAidmFyIGN1cnJlbnQgPSAocHJvY2Vzcy52ZXJzaW9ucyAmJiBwcm9jZXNzLnZlcnNpb25zLm5vZGUgJiYgcHJvY2Vzcy52ZXJzaW9ucy5ub2RlLnNwbGl0KCcuJykpIHx8IFtdO1xuXG5mdW5jdGlvbiBzcGVjaWZpZXJJbmNsdWRlZChzcGVjaWZpZXIpIHtcbiAgICB2YXIgcGFydHMgPSBzcGVjaWZpZXIuc3BsaXQoJyAnKTtcbiAgICB2YXIgb3AgPSBwYXJ0cy5sZW5ndGggPiAxID8gcGFydHNbMF0gOiAnPSc7XG4gICAgdmFyIHZlcnNpb25QYXJ0cyA9IChwYXJ0cy5sZW5ndGggPiAxID8gcGFydHNbMV0gOiBwYXJ0c1swXSkuc3BsaXQoJy4nKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMzsgKytpKSB7XG4gICAgICAgIHZhciBjdXIgPSBwYXJzZUludChjdXJyZW50W2ldIHx8IDAsIDEwKTtcbiAgICAgICAgdmFyIHZlciA9IHBhcnNlSW50KHZlcnNpb25QYXJ0c1tpXSB8fCAwLCAxMCk7XG4gICAgICAgIGlmIChjdXIgPT09IHZlcikge1xuICAgICAgICAgICAgY29udGludWU7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcmVzdHJpY3RlZC1zeW50YXgsIG5vLWNvbnRpbnVlXG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wID09PSAnPCcpIHtcbiAgICAgICAgICAgIHJldHVybiBjdXIgPCB2ZXI7XG4gICAgICAgIH0gZWxzZSBpZiAob3AgPT09ICc+PScpIHtcbiAgICAgICAgICAgIHJldHVybiBjdXIgPj0gdmVyO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIG9wID09PSAnPj0nO1xufVxuXG5mdW5jdGlvbiBtYXRjaGVzUmFuZ2UocmFuZ2UpIHtcbiAgICB2YXIgc3BlY2lmaWVycyA9IHJhbmdlLnNwbGl0KC8gPyYmID8vKTtcbiAgICBpZiAoc3BlY2lmaWVycy5sZW5ndGggPT09IDApIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzcGVjaWZpZXJzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGlmICghc3BlY2lmaWVySW5jbHVkZWQoc3BlY2lmaWVyc1tpXSkpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiB2ZXJzaW9uSW5jbHVkZWQoc3BlY2lmaWVyVmFsdWUpIHtcbiAgICBpZiAodHlwZW9mIHNwZWNpZmllclZhbHVlID09PSAnYm9vbGVhbicpIHsgcmV0dXJuIHNwZWNpZmllclZhbHVlOyB9XG4gICAgaWYgKHNwZWNpZmllclZhbHVlICYmIHR5cGVvZiBzcGVjaWZpZXJWYWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzcGVjaWZpZXJWYWx1ZS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgaWYgKG1hdGNoZXNSYW5nZShzcGVjaWZpZXJWYWx1ZVtpXSkpIHsgcmV0dXJuIHRydWU7IH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBtYXRjaGVzUmFuZ2Uoc3BlY2lmaWVyVmFsdWUpO1xufVxuXG52YXIgZGF0YSA9IHJlcXVpcmUoJy4vY29yZS5qc29uJyk7XG5cbnZhciBjb3JlID0ge307XG5mb3IgKHZhciBtb2QgaW4gZGF0YSkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXJlc3RyaWN0ZWQtc3ludGF4XG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBtb2QpKSB7XG4gICAgICAgIGNvcmVbbW9kXSA9IHZlcnNpb25JbmNsdWRlZChkYXRhW21vZF0pO1xuICAgIH1cbn1cbm1vZHVsZS5leHBvcnRzID0gY29yZTtcbiIsICJ2YXIgaXNDb3JlTW9kdWxlID0gcmVxdWlyZSgnaXMtY29yZS1tb2R1bGUnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpc0NvcmUoeCkge1xuICAgIHJldHVybiBpc0NvcmVNb2R1bGUoeCk7XG59O1xuIiwgInZhciBpc0NvcmUgPSByZXF1aXJlKCdpcy1jb3JlLW1vZHVsZScpO1xudmFyIGZzID0gcmVxdWlyZSgnZnMnKTtcbnZhciBwYXRoID0gcmVxdWlyZSgncGF0aCcpO1xudmFyIGdldEhvbWVkaXIgPSByZXF1aXJlKCcuL2hvbWVkaXInKTtcbnZhciBjYWxsZXIgPSByZXF1aXJlKCcuL2NhbGxlcicpO1xudmFyIG5vZGVNb2R1bGVzUGF0aHMgPSByZXF1aXJlKCcuL25vZGUtbW9kdWxlcy1wYXRocycpO1xudmFyIG5vcm1hbGl6ZU9wdGlvbnMgPSByZXF1aXJlKCcuL25vcm1hbGl6ZS1vcHRpb25zJyk7XG5cbnZhciByZWFscGF0aEZTID0gcHJvY2Vzcy5wbGF0Zm9ybSAhPT0gJ3dpbjMyJyAmJiBmcy5yZWFscGF0aFN5bmMgJiYgdHlwZW9mIGZzLnJlYWxwYXRoU3luYy5uYXRpdmUgPT09ICdmdW5jdGlvbicgPyBmcy5yZWFscGF0aFN5bmMubmF0aXZlIDogZnMucmVhbHBhdGhTeW5jO1xuXG52YXIgaG9tZWRpciA9IGdldEhvbWVkaXIoKTtcbnZhciBkZWZhdWx0UGF0aHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgICAgcGF0aC5qb2luKGhvbWVkaXIsICcubm9kZV9tb2R1bGVzJyksXG4gICAgICAgIHBhdGguam9pbihob21lZGlyLCAnLm5vZGVfbGlicmFyaWVzJylcbiAgICBdO1xufTtcblxudmFyIGRlZmF1bHRJc0ZpbGUgPSBmdW5jdGlvbiBpc0ZpbGUoZmlsZSkge1xuICAgIHRyeSB7XG4gICAgICAgIHZhciBzdGF0ID0gZnMuc3RhdFN5bmMoZmlsZSwgeyB0aHJvd0lmTm9FbnRyeTogZmFsc2UgfSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBpZiAoZSAmJiAoZS5jb2RlID09PSAnRU5PRU5UJyB8fCBlLmNvZGUgPT09ICdFTk9URElSJykpIHJldHVybiBmYWxzZTtcbiAgICAgICAgdGhyb3cgZTtcbiAgICB9XG4gICAgcmV0dXJuICEhc3RhdCAmJiAoc3RhdC5pc0ZpbGUoKSB8fCBzdGF0LmlzRklGTygpKTtcbn07XG5cbnZhciBkZWZhdWx0SXNEaXIgPSBmdW5jdGlvbiBpc0RpcmVjdG9yeShkaXIpIHtcbiAgICB0cnkge1xuICAgICAgICB2YXIgc3RhdCA9IGZzLnN0YXRTeW5jKGRpciwgeyB0aHJvd0lmTm9FbnRyeTogZmFsc2UgfSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBpZiAoZSAmJiAoZS5jb2RlID09PSAnRU5PRU5UJyB8fCBlLmNvZGUgPT09ICdFTk9URElSJykpIHJldHVybiBmYWxzZTtcbiAgICAgICAgdGhyb3cgZTtcbiAgICB9XG4gICAgcmV0dXJuICEhc3RhdCAmJiBzdGF0LmlzRGlyZWN0b3J5KCk7XG59O1xuXG52YXIgZGVmYXVsdFJlYWxwYXRoU3luYyA9IGZ1bmN0aW9uIHJlYWxwYXRoU3luYyh4KSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIHJlYWxwYXRoRlMoeCk7XG4gICAgfSBjYXRjaCAocmVhbHBhdGhFcnIpIHtcbiAgICAgICAgaWYgKHJlYWxwYXRoRXJyLmNvZGUgIT09ICdFTk9FTlQnKSB7XG4gICAgICAgICAgICB0aHJvdyByZWFscGF0aEVycjtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4geDtcbn07XG5cbnZhciBtYXliZVJlYWxwYXRoU3luYyA9IGZ1bmN0aW9uIG1heWJlUmVhbHBhdGhTeW5jKHJlYWxwYXRoU3luYywgeCwgb3B0cykge1xuICAgIGlmIChvcHRzICYmIG9wdHMucHJlc2VydmVTeW1saW5rcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuIHJlYWxwYXRoU3luYyh4KTtcbiAgICB9XG4gICAgcmV0dXJuIHg7XG59O1xuXG52YXIgZGVmYXVsdFJlYWRQYWNrYWdlU3luYyA9IGZ1bmN0aW9uIGRlZmF1bHRSZWFkUGFja2FnZVN5bmMocmVhZEZpbGVTeW5jLCBwa2dmaWxlKSB7XG4gICAgdmFyIGJvZHkgPSByZWFkRmlsZVN5bmMocGtnZmlsZSk7XG4gICAgdHJ5IHtcbiAgICAgICAgdmFyIHBrZyA9IEpTT04ucGFyc2UoYm9keSk7XG4gICAgICAgIHJldHVybiBwa2c7XG4gICAgfSBjYXRjaCAoanNvbkVycikge31cbn07XG5cbnZhciBnZXRQYWNrYWdlQ2FuZGlkYXRlcyA9IGZ1bmN0aW9uIGdldFBhY2thZ2VDYW5kaWRhdGVzKHgsIHN0YXJ0LCBvcHRzKSB7XG4gICAgdmFyIGRpcnMgPSBub2RlTW9kdWxlc1BhdGhzKHN0YXJ0LCBvcHRzLCB4KTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRpcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZGlyc1tpXSA9IHBhdGguam9pbihkaXJzW2ldLCB4KTtcbiAgICB9XG4gICAgcmV0dXJuIGRpcnM7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHJlc29sdmVTeW5jKHgsIG9wdGlvbnMpIHtcbiAgICBpZiAodHlwZW9mIHggIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1BhdGggbXVzdCBiZSBhIHN0cmluZy4nKTtcbiAgICB9XG4gICAgdmFyIG9wdHMgPSBub3JtYWxpemVPcHRpb25zKHgsIG9wdGlvbnMpO1xuXG4gICAgdmFyIGlzRmlsZSA9IG9wdHMuaXNGaWxlIHx8IGRlZmF1bHRJc0ZpbGU7XG4gICAgdmFyIHJlYWRGaWxlU3luYyA9IG9wdHMucmVhZEZpbGVTeW5jIHx8IGZzLnJlYWRGaWxlU3luYztcbiAgICB2YXIgaXNEaXJlY3RvcnkgPSBvcHRzLmlzRGlyZWN0b3J5IHx8IGRlZmF1bHRJc0RpcjtcbiAgICB2YXIgcmVhbHBhdGhTeW5jID0gb3B0cy5yZWFscGF0aFN5bmMgfHwgZGVmYXVsdFJlYWxwYXRoU3luYztcbiAgICB2YXIgcmVhZFBhY2thZ2VTeW5jID0gb3B0cy5yZWFkUGFja2FnZVN5bmMgfHwgZGVmYXVsdFJlYWRQYWNrYWdlU3luYztcbiAgICBpZiAob3B0cy5yZWFkRmlsZVN5bmMgJiYgb3B0cy5yZWFkUGFja2FnZVN5bmMpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignYHJlYWRGaWxlU3luY2AgYW5kIGByZWFkUGFja2FnZVN5bmNgIGFyZSBtdXR1YWxseSBleGNsdXNpdmUuJyk7XG4gICAgfVxuICAgIHZhciBwYWNrYWdlSXRlcmF0b3IgPSBvcHRzLnBhY2thZ2VJdGVyYXRvcjtcblxuICAgIHZhciBleHRlbnNpb25zID0gb3B0cy5leHRlbnNpb25zIHx8IFsnLmpzJ107XG4gICAgdmFyIGluY2x1ZGVDb3JlTW9kdWxlcyA9IG9wdHMuaW5jbHVkZUNvcmVNb2R1bGVzICE9PSBmYWxzZTtcbiAgICB2YXIgYmFzZWRpciA9IG9wdHMuYmFzZWRpciB8fCBwYXRoLmRpcm5hbWUoY2FsbGVyKCkpO1xuICAgIHZhciBwYXJlbnQgPSBvcHRzLmZpbGVuYW1lIHx8IGJhc2VkaXI7XG5cbiAgICBvcHRzLnBhdGhzID0gb3B0cy5wYXRocyB8fCBkZWZhdWx0UGF0aHMoKTtcblxuICAgIC8vIGVuc3VyZSB0aGF0IGBiYXNlZGlyYCBpcyBhbiBhYnNvbHV0ZSBwYXRoIGF0IHRoaXMgcG9pbnQsIHJlc29sdmluZyBhZ2FpbnN0IHRoZSBwcm9jZXNzJyBjdXJyZW50IHdvcmtpbmcgZGlyZWN0b3J5XG4gICAgdmFyIGFic29sdXRlU3RhcnQgPSBtYXliZVJlYWxwYXRoU3luYyhyZWFscGF0aFN5bmMsIHBhdGgucmVzb2x2ZShiYXNlZGlyKSwgb3B0cyk7XG5cbiAgICBpZiAoKC9eKD86XFwuXFwuPyg/OlxcL3wkKXxcXC98KFtBLVphLXpdOik/Wy9cXFxcXSkvKS50ZXN0KHgpKSB7XG4gICAgICAgIHZhciByZXMgPSBwYXRoLnJlc29sdmUoYWJzb2x1dGVTdGFydCwgeCk7XG4gICAgICAgIGlmICh4ID09PSAnLicgfHwgeCA9PT0gJy4uJyB8fCB4LnNsaWNlKC0xKSA9PT0gJy8nKSByZXMgKz0gJy8nO1xuICAgICAgICB2YXIgbSA9IGxvYWRBc0ZpbGVTeW5jKHJlcykgfHwgbG9hZEFzRGlyZWN0b3J5U3luYyhyZXMpO1xuICAgICAgICBpZiAobSkgcmV0dXJuIG1heWJlUmVhbHBhdGhTeW5jKHJlYWxwYXRoU3luYywgbSwgb3B0cyk7XG4gICAgfSBlbHNlIGlmIChpbmNsdWRlQ29yZU1vZHVsZXMgJiYgaXNDb3JlKHgpKSB7XG4gICAgICAgIHJldHVybiB4O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBuID0gbG9hZE5vZGVNb2R1bGVzU3luYyh4LCBhYnNvbHV0ZVN0YXJ0KTtcbiAgICAgICAgaWYgKG4pIHJldHVybiBtYXliZVJlYWxwYXRoU3luYyhyZWFscGF0aFN5bmMsIG4sIG9wdHMpO1xuICAgIH1cblxuICAgIHZhciBlcnIgPSBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiICsgeCArIFwiJyBmcm9tICdcIiArIHBhcmVudCArIFwiJ1wiKTtcbiAgICBlcnIuY29kZSA9ICdNT0RVTEVfTk9UX0ZPVU5EJztcbiAgICB0aHJvdyBlcnI7XG5cbiAgICBmdW5jdGlvbiBsb2FkQXNGaWxlU3luYyh4KSB7XG4gICAgICAgIHZhciBwa2cgPSBsb2FkcGtnKHBhdGguZGlybmFtZSh4KSk7XG5cbiAgICAgICAgaWYgKHBrZyAmJiBwa2cuZGlyICYmIHBrZy5wa2cgJiYgb3B0cy5wYXRoRmlsdGVyKSB7XG4gICAgICAgICAgICB2YXIgcmZpbGUgPSBwYXRoLnJlbGF0aXZlKHBrZy5kaXIsIHgpO1xuICAgICAgICAgICAgdmFyIHIgPSBvcHRzLnBhdGhGaWx0ZXIocGtnLnBrZywgeCwgcmZpbGUpO1xuICAgICAgICAgICAgaWYgKHIpIHtcbiAgICAgICAgICAgICAgICB4ID0gcGF0aC5yZXNvbHZlKHBrZy5kaXIsIHIpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNGaWxlKHgpKSB7XG4gICAgICAgICAgICByZXR1cm4geDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXh0ZW5zaW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGZpbGUgPSB4ICsgZXh0ZW5zaW9uc1tpXTtcbiAgICAgICAgICAgIGlmIChpc0ZpbGUoZmlsZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmlsZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxvYWRwa2coZGlyKSB7XG4gICAgICAgIGlmIChkaXIgPT09ICcnIHx8IGRpciA9PT0gJy8nKSByZXR1cm47XG4gICAgICAgIGlmIChwcm9jZXNzLnBsYXRmb3JtID09PSAnd2luMzInICYmICgvXlxcdzpbL1xcXFxdKiQvKS50ZXN0KGRpcikpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKC9bL1xcXFxdbm9kZV9tb2R1bGVzWy9cXFxcXSokLykudGVzdChkaXIpKSByZXR1cm47XG5cbiAgICAgICAgdmFyIHBrZ2ZpbGUgPSBwYXRoLmpvaW4obWF5YmVSZWFscGF0aFN5bmMocmVhbHBhdGhTeW5jLCBkaXIsIG9wdHMpLCAncGFja2FnZS5qc29uJyk7XG5cbiAgICAgICAgaWYgKCFpc0ZpbGUocGtnZmlsZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBsb2FkcGtnKHBhdGguZGlybmFtZShkaXIpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBwa2cgPSByZWFkUGFja2FnZVN5bmMocmVhZEZpbGVTeW5jLCBwa2dmaWxlKTtcblxuICAgICAgICBpZiAocGtnICYmIG9wdHMucGFja2FnZUZpbHRlcikge1xuICAgICAgICAgICAgLy8gdjIgd2lsbCBwYXNzIHBrZ2ZpbGVcbiAgICAgICAgICAgIHBrZyA9IG9wdHMucGFja2FnZUZpbHRlcihwa2csIC8qcGtnZmlsZSwqLyBkaXIpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHNwYWNlZC1jb21tZW50XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4geyBwa2c6IHBrZywgZGlyOiBkaXIgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsb2FkQXNEaXJlY3RvcnlTeW5jKHgpIHtcbiAgICAgICAgdmFyIHBrZ2ZpbGUgPSBwYXRoLmpvaW4obWF5YmVSZWFscGF0aFN5bmMocmVhbHBhdGhTeW5jLCB4LCBvcHRzKSwgJy9wYWNrYWdlLmpzb24nKTtcbiAgICAgICAgaWYgKGlzRmlsZShwa2dmaWxlKSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB2YXIgcGtnID0gcmVhZFBhY2thZ2VTeW5jKHJlYWRGaWxlU3luYywgcGtnZmlsZSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7fVxuXG4gICAgICAgICAgICBpZiAocGtnICYmIG9wdHMucGFja2FnZUZpbHRlcikge1xuICAgICAgICAgICAgICAgIC8vIHYyIHdpbGwgcGFzcyBwa2dmaWxlXG4gICAgICAgICAgICAgICAgcGtnID0gb3B0cy5wYWNrYWdlRmlsdGVyKHBrZywgLypwa2dmaWxlLCovIHgpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHNwYWNlZC1jb21tZW50XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChwa2cgJiYgcGtnLm1haW4pIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHBrZy5tYWluICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWFpbkVycm9yID0gbmV3IFR5cGVFcnJvcigncGFja2FnZSBcdTIwMUMnICsgcGtnLm5hbWUgKyAnXHUyMDFEIGBtYWluYCBtdXN0IGJlIGEgc3RyaW5nJyk7XG4gICAgICAgICAgICAgICAgICAgIG1haW5FcnJvci5jb2RlID0gJ0lOVkFMSURfUEFDS0FHRV9NQUlOJztcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbWFpbkVycm9yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocGtnLm1haW4gPT09ICcuJyB8fCBwa2cubWFpbiA9PT0gJy4vJykge1xuICAgICAgICAgICAgICAgICAgICBwa2cubWFpbiA9ICdpbmRleCc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtID0gbG9hZEFzRmlsZVN5bmMocGF0aC5yZXNvbHZlKHgsIHBrZy5tYWluKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtKSByZXR1cm4gbTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG4gPSBsb2FkQXNEaXJlY3RvcnlTeW5jKHBhdGgucmVzb2x2ZSh4LCBwa2cubWFpbikpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobikgcmV0dXJuIG47XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBsb2FkQXNGaWxlU3luYyhwYXRoLmpvaW4oeCwgJy9pbmRleCcpKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsb2FkTm9kZU1vZHVsZXNTeW5jKHgsIHN0YXJ0KSB7XG4gICAgICAgIHZhciB0aHVuayA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGdldFBhY2thZ2VDYW5kaWRhdGVzKHgsIHN0YXJ0LCBvcHRzKTsgfTtcbiAgICAgICAgdmFyIGRpcnMgPSBwYWNrYWdlSXRlcmF0b3IgPyBwYWNrYWdlSXRlcmF0b3IoeCwgc3RhcnQsIHRodW5rLCBvcHRzKSA6IHRodW5rKCk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkaXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgZGlyID0gZGlyc1tpXTtcbiAgICAgICAgICAgIGlmIChpc0RpcmVjdG9yeShwYXRoLmRpcm5hbWUoZGlyKSkpIHtcbiAgICAgICAgICAgICAgICB2YXIgbSA9IGxvYWRBc0ZpbGVTeW5jKGRpcik7XG4gICAgICAgICAgICAgICAgaWYgKG0pIHJldHVybiBtO1xuICAgICAgICAgICAgICAgIHZhciBuID0gbG9hZEFzRGlyZWN0b3J5U3luYyhkaXIpO1xuICAgICAgICAgICAgICAgIGlmIChuKSByZXR1cm4gbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn07XG4iLCAidmFyIGFzeW5jID0gcmVxdWlyZSgnLi9saWIvYXN5bmMnKTtcbmFzeW5jLmNvcmUgPSByZXF1aXJlKCcuL2xpYi9jb3JlJyk7XG5hc3luYy5pc0NvcmUgPSByZXF1aXJlKCcuL2xpYi9pcy1jb3JlJyk7XG5hc3luYy5zeW5jID0gcmVxdWlyZSgnLi9saWIvc3luYycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGFzeW5jO1xuIiwgIm1vZHVsZS5leHBvcnRzID0gZXh0cmFjdERlc2NyaXB0aW9uXG5cbi8vIEV4dHJhY3RzIGRlc2NyaXB0aW9uIGZyb20gY29udGVudHMgb2YgYSByZWFkbWUgZmlsZSBpbiBtYXJrZG93biBmb3JtYXRcbmZ1bmN0aW9uIGV4dHJhY3REZXNjcmlwdGlvbiAoZCkge1xuICBpZiAoIWQpIHJldHVybjtcbiAgaWYgKGQgPT09IFwiRVJST1I6IE5vIFJFQURNRSBkYXRhIGZvdW5kIVwiKSByZXR1cm47XG4gIC8vIHRoZSBmaXJzdCBibG9jayBvZiB0ZXh0IGJlZm9yZSB0aGUgZmlyc3QgaGVhZGluZ1xuICAvLyB0aGF0IGlzbid0IHRoZSBmaXJzdCBsaW5lIGhlYWRpbmdcbiAgZCA9IGQudHJpbSgpLnNwbGl0KCdcXG4nKVxuICBmb3IgKHZhciBzID0gMDsgZFtzXSAmJiBkW3NdLnRyaW0oKS5tYXRjaCgvXigjfCQpLyk7IHMgKyspO1xuICB2YXIgbCA9IGQubGVuZ3RoXG4gIGZvciAodmFyIGUgPSBzICsgMTsgZSA8IGwgJiYgZFtlXS50cmltKCk7IGUgKyspO1xuICByZXR1cm4gZC5zbGljZShzLCBlKS5qb2luKCcgJykudHJpbSgpXG59XG4iLCAidmFyIHNlbXZlciA9IHJlcXVpcmUoXCJzZW12ZXJcIilcbnZhciB2YWxpZGF0ZUxpY2Vuc2UgPSByZXF1aXJlKCd2YWxpZGF0ZS1ucG0tcGFja2FnZS1saWNlbnNlJyk7XG52YXIgaG9zdGVkR2l0SW5mbyA9IHJlcXVpcmUoXCJob3N0ZWQtZ2l0LWluZm9cIilcbnZhciBpc0J1aWx0aW5Nb2R1bGUgPSByZXF1aXJlKFwicmVzb2x2ZVwiKS5pc0NvcmVcbnZhciBkZXBUeXBlcyA9IFtcImRlcGVuZGVuY2llc1wiLFwiZGV2RGVwZW5kZW5jaWVzXCIsXCJvcHRpb25hbERlcGVuZGVuY2llc1wiXVxudmFyIGV4dHJhY3REZXNjcmlwdGlvbiA9IHJlcXVpcmUoXCIuL2V4dHJhY3RfZGVzY3JpcHRpb25cIilcbnZhciB1cmwgPSByZXF1aXJlKFwidXJsXCIpXG52YXIgdHlwb3MgPSByZXF1aXJlKFwiLi90eXBvcy5qc29uXCIpXG5cbnZhciBmaXhlciA9IG1vZHVsZS5leHBvcnRzID0ge1xuICAvLyBkZWZhdWx0IHdhcm5pbmcgZnVuY3Rpb25cbiAgd2FybjogZnVuY3Rpb24oKSB7fSxcblxuICBmaXhSZXBvc2l0b3J5RmllbGQ6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICBpZiAoZGF0YS5yZXBvc2l0b3JpZXMpIHtcbiAgICAgIHRoaXMud2FybihcInJlcG9zaXRvcmllc1wiKTtcbiAgICAgIGRhdGEucmVwb3NpdG9yeSA9IGRhdGEucmVwb3NpdG9yaWVzWzBdXG4gICAgfVxuICAgIGlmICghZGF0YS5yZXBvc2l0b3J5KSByZXR1cm4gdGhpcy53YXJuKFwibWlzc2luZ1JlcG9zaXRvcnlcIilcbiAgICBpZiAodHlwZW9mIGRhdGEucmVwb3NpdG9yeSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgZGF0YS5yZXBvc2l0b3J5ID0ge1xuICAgICAgICB0eXBlOiBcImdpdFwiLFxuICAgICAgICB1cmw6IGRhdGEucmVwb3NpdG9yeVxuICAgICAgfVxuICAgIH1cbiAgICB2YXIgciA9IGRhdGEucmVwb3NpdG9yeS51cmwgfHwgXCJcIlxuICAgIGlmIChyKSB7XG4gICAgICB2YXIgaG9zdGVkID0gaG9zdGVkR2l0SW5mby5mcm9tVXJsKHIpXG4gICAgICBpZiAoaG9zdGVkKSB7XG4gICAgICAgIHIgPSBkYXRhLnJlcG9zaXRvcnkudXJsXG4gICAgICAgICAgPSBob3N0ZWQuZ2V0RGVmYXVsdFJlcHJlc2VudGF0aW9uKCkgPT0gXCJzaG9ydGN1dFwiID8gaG9zdGVkLmh0dHBzKCkgOiBob3N0ZWQudG9TdHJpbmcoKVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChyLm1hdGNoKC9naXRodWIuY29tXFwvW15cXC9dK1xcL1teXFwvXStcXC5naXRcXC5naXQkLykpIHtcbiAgICAgIHRoaXMud2FybihcImJyb2tlbkdpdFVybFwiLCByKVxuICAgIH1cbiAgfVxuXG4sIGZpeFR5cG9zOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgT2JqZWN0LmtleXModHlwb3MudG9wTGV2ZWwpLmZvckVhY2goZnVuY3Rpb24gKGQpIHtcbiAgICAgIGlmIChkYXRhLmhhc093blByb3BlcnR5KGQpKSB7XG4gICAgICAgIHRoaXMud2FybihcInR5cG9cIiwgZCwgdHlwb3MudG9wTGV2ZWxbZF0pXG4gICAgICB9XG4gICAgfSwgdGhpcylcbiAgfVxuXG4sIGZpeFNjcmlwdHNGaWVsZDogZnVuY3Rpb24oZGF0YSkge1xuICAgIGlmICghZGF0YS5zY3JpcHRzKSByZXR1cm5cbiAgICBpZiAodHlwZW9mIGRhdGEuc2NyaXB0cyAhPT0gXCJvYmplY3RcIikge1xuICAgICAgdGhpcy53YXJuKFwibm9uT2JqZWN0U2NyaXB0c1wiKVxuICAgICAgZGVsZXRlIGRhdGEuc2NyaXB0c1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIE9iamVjdC5rZXlzKGRhdGEuc2NyaXB0cykuZm9yRWFjaChmdW5jdGlvbiAoaykge1xuICAgICAgaWYgKHR5cGVvZiBkYXRhLnNjcmlwdHNba10gIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgdGhpcy53YXJuKFwibm9uU3RyaW5nU2NyaXB0XCIpXG4gICAgICAgIGRlbGV0ZSBkYXRhLnNjcmlwdHNba11cbiAgICAgIH0gZWxzZSBpZiAodHlwb3Muc2NyaXB0W2tdICYmICFkYXRhLnNjcmlwdHNbdHlwb3Muc2NyaXB0W2tdXSkge1xuICAgICAgICB0aGlzLndhcm4oXCJ0eXBvXCIsIGssIHR5cG9zLnNjcmlwdFtrXSwgXCJzY3JpcHRzXCIpXG4gICAgICB9XG4gICAgfSwgdGhpcylcbiAgfVxuXG4sIGZpeEZpbGVzRmllbGQ6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICB2YXIgZmlsZXMgPSBkYXRhLmZpbGVzXG4gICAgaWYgKGZpbGVzICYmICFBcnJheS5pc0FycmF5KGZpbGVzKSkge1xuICAgICAgdGhpcy53YXJuKFwibm9uQXJyYXlGaWxlc1wiKVxuICAgICAgZGVsZXRlIGRhdGEuZmlsZXNcbiAgICB9IGVsc2UgaWYgKGRhdGEuZmlsZXMpIHtcbiAgICAgIGRhdGEuZmlsZXMgPSBkYXRhLmZpbGVzLmZpbHRlcihmdW5jdGlvbihmaWxlKSB7XG4gICAgICAgIGlmICghZmlsZSB8fCB0eXBlb2YgZmlsZSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgIHRoaXMud2FybihcImludmFsaWRGaWxlbmFtZVwiLCBmaWxlKVxuICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0sIHRoaXMpXG4gICAgfVxuICB9XG5cbiwgZml4QmluRmllbGQ6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICBpZiAoIWRhdGEuYmluKSByZXR1cm47XG4gICAgaWYgKHR5cGVvZiBkYXRhLmJpbiA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgdmFyIGIgPSB7fVxuICAgICAgdmFyIG1hdGNoXG4gICAgICBpZiAobWF0Y2ggPSBkYXRhLm5hbWUubWF0Y2goL15AW14vXStbL10oLiopJC8pKSB7XG4gICAgICAgIGJbbWF0Y2hbMV1dID0gZGF0YS5iaW5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJbZGF0YS5uYW1lXSA9IGRhdGEuYmluXG4gICAgICB9XG4gICAgICBkYXRhLmJpbiA9IGJcbiAgICB9XG4gIH1cblxuLCBmaXhNYW5GaWVsZDogZnVuY3Rpb24oZGF0YSkge1xuICAgIGlmICghZGF0YS5tYW4pIHJldHVybjtcbiAgICBpZiAodHlwZW9mIGRhdGEubWFuID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBkYXRhLm1hbiA9IFsgZGF0YS5tYW4gXVxuICAgIH1cbiAgfVxuLCBmaXhCdW5kbGVEZXBlbmRlbmNpZXNGaWVsZDogZnVuY3Rpb24oZGF0YSkge1xuICAgIHZhciBiZGQgPSBcImJ1bmRsZWREZXBlbmRlbmNpZXNcIlxuICAgIHZhciBiZCA9IFwiYnVuZGxlRGVwZW5kZW5jaWVzXCJcbiAgICBpZiAoZGF0YVtiZGRdICYmICFkYXRhW2JkXSkge1xuICAgICAgZGF0YVtiZF0gPSBkYXRhW2JkZF1cbiAgICAgIGRlbGV0ZSBkYXRhW2JkZF1cbiAgICB9XG4gICAgaWYgKGRhdGFbYmRdICYmICFBcnJheS5pc0FycmF5KGRhdGFbYmRdKSkge1xuICAgICAgdGhpcy53YXJuKFwibm9uQXJyYXlCdW5kbGVEZXBlbmRlbmNpZXNcIilcbiAgICAgIGRlbGV0ZSBkYXRhW2JkXVxuICAgIH0gZWxzZSBpZiAoZGF0YVtiZF0pIHtcbiAgICAgIGRhdGFbYmRdID0gZGF0YVtiZF0uZmlsdGVyKGZ1bmN0aW9uKGJkKSB7XG4gICAgICAgIGlmICghYmQgfHwgdHlwZW9mIGJkICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgIHRoaXMud2FybihcIm5vblN0cmluZ0J1bmRsZURlcGVuZGVuY3lcIiwgYmQpXG4gICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKCFkYXRhLmRlcGVuZGVuY2llcykge1xuICAgICAgICAgICAgZGF0YS5kZXBlbmRlbmNpZXMgPSB7fVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIWRhdGEuZGVwZW5kZW5jaWVzLmhhc093blByb3BlcnR5KGJkKSkge1xuICAgICAgICAgICAgdGhpcy53YXJuKFwibm9uRGVwZW5kZW5jeUJ1bmRsZURlcGVuZGVuY3lcIiwgYmQpXG4gICAgICAgICAgICBkYXRhLmRlcGVuZGVuY2llc1tiZF0gPSBcIipcIlxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICB9XG4gICAgICB9LCB0aGlzKVxuICAgIH1cbiAgfVxuXG4sIGZpeERlcGVuZGVuY2llczogZnVuY3Rpb24oZGF0YSwgc3RyaWN0KSB7XG4gICAgdmFyIGxvb3NlID0gIXN0cmljdFxuICAgIG9iamVjdGlmeURlcHMoZGF0YSwgdGhpcy53YXJuKVxuICAgIGFkZE9wdGlvbmFsRGVwc1RvRGVwcyhkYXRhLCB0aGlzLndhcm4pXG4gICAgdGhpcy5maXhCdW5kbGVEZXBlbmRlbmNpZXNGaWVsZChkYXRhKVxuXG4gICAgO1snZGVwZW5kZW5jaWVzJywnZGV2RGVwZW5kZW5jaWVzJ10uZm9yRWFjaChmdW5jdGlvbihkZXBzKSB7XG4gICAgICBpZiAoIShkZXBzIGluIGRhdGEpKSByZXR1cm5cbiAgICAgIGlmICghZGF0YVtkZXBzXSB8fCB0eXBlb2YgZGF0YVtkZXBzXSAhPT0gXCJvYmplY3RcIikge1xuICAgICAgICB0aGlzLndhcm4oXCJub25PYmplY3REZXBlbmRlbmNpZXNcIiwgZGVwcylcbiAgICAgICAgZGVsZXRlIGRhdGFbZGVwc11cbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICBPYmplY3Qua2V5cyhkYXRhW2RlcHNdKS5mb3JFYWNoKGZ1bmN0aW9uIChkKSB7XG4gICAgICAgIHZhciByID0gZGF0YVtkZXBzXVtkXVxuICAgICAgICBpZiAodHlwZW9mIHIgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgdGhpcy53YXJuKFwibm9uU3RyaW5nRGVwZW5kZW5jeVwiLCBkLCBKU09OLnN0cmluZ2lmeShyKSlcbiAgICAgICAgICBkZWxldGUgZGF0YVtkZXBzXVtkXVxuICAgICAgICB9XG4gICAgICAgIHZhciBob3N0ZWQgPSBob3N0ZWRHaXRJbmZvLmZyb21VcmwoZGF0YVtkZXBzXVtkXSlcbiAgICAgICAgaWYgKGhvc3RlZCkgZGF0YVtkZXBzXVtkXSA9IGhvc3RlZC50b1N0cmluZygpXG4gICAgICB9LCB0aGlzKVxuICAgIH0sIHRoaXMpXG4gIH1cblxuLCBmaXhNb2R1bGVzRmllbGQ6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgaWYgKGRhdGEubW9kdWxlcykge1xuICAgICAgdGhpcy53YXJuKFwiZGVwcmVjYXRlZE1vZHVsZXNcIilcbiAgICAgIGRlbGV0ZSBkYXRhLm1vZHVsZXNcbiAgICB9XG4gIH1cblxuLCBmaXhLZXl3b3Jkc0ZpZWxkOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgIGlmICh0eXBlb2YgZGF0YS5rZXl3b3JkcyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgZGF0YS5rZXl3b3JkcyA9IGRhdGEua2V5d29yZHMuc3BsaXQoLyxcXHMrLylcbiAgICB9XG4gICAgaWYgKGRhdGEua2V5d29yZHMgJiYgIUFycmF5LmlzQXJyYXkoZGF0YS5rZXl3b3JkcykpIHtcbiAgICAgIGRlbGV0ZSBkYXRhLmtleXdvcmRzXG4gICAgICB0aGlzLndhcm4oXCJub25BcnJheUtleXdvcmRzXCIpXG4gICAgfSBlbHNlIGlmIChkYXRhLmtleXdvcmRzKSB7XG4gICAgICBkYXRhLmtleXdvcmRzID0gZGF0YS5rZXl3b3Jkcy5maWx0ZXIoZnVuY3Rpb24oa3cpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBrdyAhPT0gXCJzdHJpbmdcIiB8fCAha3cpIHtcbiAgICAgICAgICB0aGlzLndhcm4oXCJub25TdHJpbmdLZXl3b3JkXCIpO1xuICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0sIHRoaXMpXG4gICAgfVxuICB9XG5cbiwgZml4VmVyc2lvbkZpZWxkOiBmdW5jdGlvbihkYXRhLCBzdHJpY3QpIHtcbiAgICAvLyBhbGxvdyBcImxvb3NlXCIgc2VtdmVyIDEuMCB2ZXJzaW9ucyBpbiBub24tc3RyaWN0IG1vZGVcbiAgICAvLyBlbmZvcmNlIHN0cmljdCBzZW12ZXIgMi4wIGNvbXBsaWFuY2UgaW4gc3RyaWN0IG1vZGVcbiAgICB2YXIgbG9vc2UgPSAhc3RyaWN0XG4gICAgaWYgKCFkYXRhLnZlcnNpb24pIHtcbiAgICAgIGRhdGEudmVyc2lvbiA9IFwiXCJcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICAgIGlmICghc2VtdmVyLnZhbGlkKGRhdGEudmVyc2lvbiwgbG9vc2UpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgdmVyc2lvbjogXCInKyBkYXRhLnZlcnNpb24gKyAnXCInKVxuICAgIH1cbiAgICBkYXRhLnZlcnNpb24gPSBzZW12ZXIuY2xlYW4oZGF0YS52ZXJzaW9uLCBsb29zZSlcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiwgZml4UGVvcGxlOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgbW9kaWZ5UGVvcGxlKGRhdGEsIHVuUGFyc2VQZXJzb24pXG4gICAgbW9kaWZ5UGVvcGxlKGRhdGEsIHBhcnNlUGVyc29uKVxuICB9XG5cbiwgZml4TmFtZUZpZWxkOiBmdW5jdGlvbihkYXRhLCBvcHRpb25zKSB7XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSBcImJvb2xlYW5cIikgb3B0aW9ucyA9IHtzdHJpY3Q6IG9wdGlvbnN9XG4gICAgZWxzZSBpZiAodHlwZW9mIG9wdGlvbnMgPT09IFwidW5kZWZpbmVkXCIpIG9wdGlvbnMgPSB7fVxuICAgIHZhciBzdHJpY3QgPSBvcHRpb25zLnN0cmljdFxuICAgIGlmICghZGF0YS5uYW1lICYmICFzdHJpY3QpIHtcbiAgICAgIGRhdGEubmFtZSA9IFwiXCJcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBpZiAodHlwZW9mIGRhdGEubmFtZSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwibmFtZSBmaWVsZCBtdXN0IGJlIGEgc3RyaW5nLlwiKVxuICAgIH1cbiAgICBpZiAoIXN0cmljdClcbiAgICAgIGRhdGEubmFtZSA9IGRhdGEubmFtZS50cmltKClcbiAgICBlbnN1cmVWYWxpZE5hbWUoZGF0YS5uYW1lLCBzdHJpY3QsIG9wdGlvbnMuYWxsb3dMZWdhY3lDYXNlKVxuICAgIGlmIChpc0J1aWx0aW5Nb2R1bGUoZGF0YS5uYW1lKSlcbiAgICAgIHRoaXMud2FybihcImNvbmZsaWN0aW5nTmFtZVwiLCBkYXRhLm5hbWUpXG4gIH1cblxuXG4sIGZpeERlc2NyaXB0aW9uRmllbGQ6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgaWYgKGRhdGEuZGVzY3JpcHRpb24gJiYgdHlwZW9mIGRhdGEuZGVzY3JpcHRpb24gIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aGlzLndhcm4oXCJub25TdHJpbmdEZXNjcmlwdGlvblwiKVxuICAgICAgZGVsZXRlIGRhdGEuZGVzY3JpcHRpb25cbiAgICB9XG4gICAgaWYgKGRhdGEucmVhZG1lICYmICFkYXRhLmRlc2NyaXB0aW9uKVxuICAgICAgZGF0YS5kZXNjcmlwdGlvbiA9IGV4dHJhY3REZXNjcmlwdGlvbihkYXRhLnJlYWRtZSlcbiAgICAgIGlmKGRhdGEuZGVzY3JpcHRpb24gPT09IHVuZGVmaW5lZCkgZGVsZXRlIGRhdGEuZGVzY3JpcHRpb247XG4gICAgaWYgKCFkYXRhLmRlc2NyaXB0aW9uKSB0aGlzLndhcm4oXCJtaXNzaW5nRGVzY3JpcHRpb25cIilcbiAgfVxuXG4sIGZpeFJlYWRtZUZpZWxkOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgIGlmICghZGF0YS5yZWFkbWUpIHtcbiAgICAgIHRoaXMud2FybihcIm1pc3NpbmdSZWFkbWVcIilcbiAgICAgIGRhdGEucmVhZG1lID0gXCJFUlJPUjogTm8gUkVBRE1FIGRhdGEgZm91bmQhXCJcbiAgICB9XG4gIH1cblxuLCBmaXhCdWdzRmllbGQ6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICBpZiAoIWRhdGEuYnVncyAmJiBkYXRhLnJlcG9zaXRvcnkgJiYgZGF0YS5yZXBvc2l0b3J5LnVybCkge1xuICAgICAgdmFyIGhvc3RlZCA9IGhvc3RlZEdpdEluZm8uZnJvbVVybChkYXRhLnJlcG9zaXRvcnkudXJsKVxuICAgICAgaWYoaG9zdGVkICYmIGhvc3RlZC5idWdzKCkpIHtcbiAgICAgICAgZGF0YS5idWdzID0ge3VybDogaG9zdGVkLmJ1Z3MoKX1cbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZihkYXRhLmJ1Z3MpIHtcbiAgICAgIHZhciBlbWFpbFJlID0gL14uK0AuKlxcLi4rJC9cbiAgICAgIGlmKHR5cGVvZiBkYXRhLmJ1Z3MgPT0gXCJzdHJpbmdcIikge1xuICAgICAgICBpZihlbWFpbFJlLnRlc3QoZGF0YS5idWdzKSlcbiAgICAgICAgICBkYXRhLmJ1Z3MgPSB7ZW1haWw6ZGF0YS5idWdzfVxuICAgICAgICBlbHNlIGlmKHVybC5wYXJzZShkYXRhLmJ1Z3MpLnByb3RvY29sKVxuICAgICAgICAgIGRhdGEuYnVncyA9IHt1cmw6IGRhdGEuYnVnc31cbiAgICAgICAgZWxzZVxuICAgICAgICAgIHRoaXMud2FybihcIm5vbkVtYWlsVXJsQnVnc1N0cmluZ1wiKVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGJ1Z3NUeXBvcyhkYXRhLmJ1Z3MsIHRoaXMud2FybilcbiAgICAgICAgdmFyIG9sZEJ1Z3MgPSBkYXRhLmJ1Z3NcbiAgICAgICAgZGF0YS5idWdzID0ge31cbiAgICAgICAgaWYob2xkQnVncy51cmwpIHtcbiAgICAgICAgICBpZih0eXBlb2Yob2xkQnVncy51cmwpID09IFwic3RyaW5nXCIgJiYgdXJsLnBhcnNlKG9sZEJ1Z3MudXJsKS5wcm90b2NvbClcbiAgICAgICAgICAgIGRhdGEuYnVncy51cmwgPSBvbGRCdWdzLnVybFxuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMud2FybihcIm5vblVybEJ1Z3NVcmxGaWVsZFwiKVxuICAgICAgICB9XG4gICAgICAgIGlmKG9sZEJ1Z3MuZW1haWwpIHtcbiAgICAgICAgICBpZih0eXBlb2Yob2xkQnVncy5lbWFpbCkgPT0gXCJzdHJpbmdcIiAmJiBlbWFpbFJlLnRlc3Qob2xkQnVncy5lbWFpbCkpXG4gICAgICAgICAgICBkYXRhLmJ1Z3MuZW1haWwgPSBvbGRCdWdzLmVtYWlsXG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhpcy53YXJuKFwibm9uRW1haWxCdWdzRW1haWxGaWVsZFwiKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZighZGF0YS5idWdzLmVtYWlsICYmICFkYXRhLmJ1Z3MudXJsKSB7XG4gICAgICAgIGRlbGV0ZSBkYXRhLmJ1Z3NcbiAgICAgICAgdGhpcy53YXJuKFwiZW1wdHlOb3JtYWxpemVkQnVnc1wiKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4sIGZpeEhvbWVwYWdlRmllbGQ6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICBpZiAoIWRhdGEuaG9tZXBhZ2UgJiYgZGF0YS5yZXBvc2l0b3J5ICYmIGRhdGEucmVwb3NpdG9yeS51cmwpIHtcbiAgICAgIHZhciBob3N0ZWQgPSBob3N0ZWRHaXRJbmZvLmZyb21VcmwoZGF0YS5yZXBvc2l0b3J5LnVybClcbiAgICAgIGlmIChob3N0ZWQgJiYgaG9zdGVkLmRvY3MoKSkgZGF0YS5ob21lcGFnZSA9IGhvc3RlZC5kb2NzKClcbiAgICB9XG4gICAgaWYgKCFkYXRhLmhvbWVwYWdlKSByZXR1cm5cblxuICAgIGlmKHR5cGVvZiBkYXRhLmhvbWVwYWdlICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICB0aGlzLndhcm4oXCJub25VcmxIb21lcGFnZVwiKVxuICAgICAgcmV0dXJuIGRlbGV0ZSBkYXRhLmhvbWVwYWdlXG4gICAgfVxuICAgIGlmKCF1cmwucGFyc2UoZGF0YS5ob21lcGFnZSkucHJvdG9jb2wpIHtcbiAgICAgIGRhdGEuaG9tZXBhZ2UgPSBcImh0dHA6Ly9cIiArIGRhdGEuaG9tZXBhZ2VcbiAgICB9XG4gIH1cblxuLCBmaXhMaWNlbnNlRmllbGQ6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICBpZiAoIWRhdGEubGljZW5zZSkge1xuICAgICAgcmV0dXJuIHRoaXMud2FybihcIm1pc3NpbmdMaWNlbnNlXCIpXG4gICAgfSBlbHNle1xuICAgICAgaWYgKFxuICAgICAgICB0eXBlb2YoZGF0YS5saWNlbnNlKSAhPT0gJ3N0cmluZycgfHxcbiAgICAgICAgZGF0YS5saWNlbnNlLmxlbmd0aCA8IDEgfHxcbiAgICAgICAgZGF0YS5saWNlbnNlLnRyaW0oKSA9PT0gJydcbiAgICAgICkge1xuICAgICAgICB0aGlzLndhcm4oXCJpbnZhbGlkTGljZW5zZVwiKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCF2YWxpZGF0ZUxpY2Vuc2UoZGF0YS5saWNlbnNlKS52YWxpZEZvck5ld1BhY2thZ2VzKVxuICAgICAgICAgIHRoaXMud2FybihcImludmFsaWRMaWNlbnNlXCIpXG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGlzVmFsaWRTY29wZWRQYWNrYWdlTmFtZShzcGVjKSB7XG4gIGlmIChzcGVjLmNoYXJBdCgwKSAhPT0gJ0AnKSByZXR1cm4gZmFsc2VcblxuICB2YXIgcmVzdCA9IHNwZWMuc2xpY2UoMSkuc3BsaXQoJy8nKVxuICBpZiAocmVzdC5sZW5ndGggIT09IDIpIHJldHVybiBmYWxzZVxuXG4gIHJldHVybiByZXN0WzBdICYmIHJlc3RbMV0gJiZcbiAgICByZXN0WzBdID09PSBlbmNvZGVVUklDb21wb25lbnQocmVzdFswXSkgJiZcbiAgICByZXN0WzFdID09PSBlbmNvZGVVUklDb21wb25lbnQocmVzdFsxXSlcbn1cblxuZnVuY3Rpb24gaXNDb3JyZWN0bHlFbmNvZGVkTmFtZShzcGVjKSB7XG4gIHJldHVybiAhc3BlYy5tYXRjaCgvW1xcL0BcXHNcXCslOl0vKSAmJlxuICAgIHNwZWMgPT09IGVuY29kZVVSSUNvbXBvbmVudChzcGVjKVxufVxuXG5mdW5jdGlvbiBlbnN1cmVWYWxpZE5hbWUgKG5hbWUsIHN0cmljdCwgYWxsb3dMZWdhY3lDYXNlKSB7XG4gIGlmIChuYW1lLmNoYXJBdCgwKSA9PT0gXCIuXCIgfHxcbiAgICAgICEoaXNWYWxpZFNjb3BlZFBhY2thZ2VOYW1lKG5hbWUpIHx8IGlzQ29ycmVjdGx5RW5jb2RlZE5hbWUobmFtZSkpIHx8XG4gICAgICAoc3RyaWN0ICYmICghYWxsb3dMZWdhY3lDYXNlKSAmJiBuYW1lICE9PSBuYW1lLnRvTG93ZXJDYXNlKCkpIHx8XG4gICAgICBuYW1lLnRvTG93ZXJDYXNlKCkgPT09IFwibm9kZV9tb2R1bGVzXCIgfHxcbiAgICAgIG5hbWUudG9Mb3dlckNhc2UoKSA9PT0gXCJmYXZpY29uLmljb1wiKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgbmFtZTogXCIgKyBKU09OLnN0cmluZ2lmeShuYW1lKSlcbiAgfVxufVxuXG5mdW5jdGlvbiBtb2RpZnlQZW9wbGUgKGRhdGEsIGZuKSB7XG4gIGlmIChkYXRhLmF1dGhvcikgZGF0YS5hdXRob3IgPSBmbihkYXRhLmF1dGhvcilcbiAgO1tcIm1haW50YWluZXJzXCIsIFwiY29udHJpYnV0b3JzXCJdLmZvckVhY2goZnVuY3Rpb24gKHNldCkge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShkYXRhW3NldF0pKSByZXR1cm47XG4gICAgZGF0YVtzZXRdID0gZGF0YVtzZXRdLm1hcChmbilcbiAgfSlcbiAgcmV0dXJuIGRhdGFcbn1cblxuZnVuY3Rpb24gdW5QYXJzZVBlcnNvbiAocGVyc29uKSB7XG4gIGlmICh0eXBlb2YgcGVyc29uID09PSBcInN0cmluZ1wiKSByZXR1cm4gcGVyc29uXG4gIHZhciBuYW1lID0gcGVyc29uLm5hbWUgfHwgXCJcIlxuICB2YXIgdSA9IHBlcnNvbi51cmwgfHwgcGVyc29uLndlYlxuICB2YXIgdXJsID0gdSA/IChcIiAoXCIrdStcIilcIikgOiBcIlwiXG4gIHZhciBlID0gcGVyc29uLmVtYWlsIHx8IHBlcnNvbi5tYWlsXG4gIHZhciBlbWFpbCA9IGUgPyAoXCIgPFwiK2UrXCI+XCIpIDogXCJcIlxuICByZXR1cm4gbmFtZStlbWFpbCt1cmxcbn1cblxuZnVuY3Rpb24gcGFyc2VQZXJzb24gKHBlcnNvbikge1xuICBpZiAodHlwZW9mIHBlcnNvbiAhPT0gXCJzdHJpbmdcIikgcmV0dXJuIHBlcnNvblxuICB2YXIgbmFtZSA9IHBlcnNvbi5tYXRjaCgvXihbXlxcKDxdKykvKVxuICB2YXIgdXJsID0gcGVyc29uLm1hdGNoKC9cXCgoW15cXCldKylcXCkvKVxuICB2YXIgZW1haWwgPSBwZXJzb24ubWF0Y2goLzwoW14+XSspPi8pXG4gIHZhciBvYmogPSB7fVxuICBpZiAobmFtZSAmJiBuYW1lWzBdLnRyaW0oKSkgb2JqLm5hbWUgPSBuYW1lWzBdLnRyaW0oKVxuICBpZiAoZW1haWwpIG9iai5lbWFpbCA9IGVtYWlsWzFdO1xuICBpZiAodXJsKSBvYmoudXJsID0gdXJsWzFdO1xuICByZXR1cm4gb2JqXG59XG5cbmZ1bmN0aW9uIGFkZE9wdGlvbmFsRGVwc1RvRGVwcyAoZGF0YSwgd2Fybikge1xuICB2YXIgbyA9IGRhdGEub3B0aW9uYWxEZXBlbmRlbmNpZXNcbiAgaWYgKCFvKSByZXR1cm47XG4gIHZhciBkID0gZGF0YS5kZXBlbmRlbmNpZXMgfHwge31cbiAgT2JqZWN0LmtleXMobykuZm9yRWFjaChmdW5jdGlvbiAoaykge1xuICAgIGRba10gPSBvW2tdXG4gIH0pXG4gIGRhdGEuZGVwZW5kZW5jaWVzID0gZFxufVxuXG5mdW5jdGlvbiBkZXBPYmplY3RpZnkgKGRlcHMsIHR5cGUsIHdhcm4pIHtcbiAgaWYgKCFkZXBzKSByZXR1cm4ge31cbiAgaWYgKHR5cGVvZiBkZXBzID09PSBcInN0cmluZ1wiKSB7XG4gICAgZGVwcyA9IGRlcHMudHJpbSgpLnNwbGl0KC9bXFxuXFxyXFxzXFx0ICxdKy8pXG4gIH1cbiAgaWYgKCFBcnJheS5pc0FycmF5KGRlcHMpKSByZXR1cm4gZGVwc1xuICB3YXJuKFwiZGVwcmVjYXRlZEFycmF5RGVwZW5kZW5jaWVzXCIsIHR5cGUpXG4gIHZhciBvID0ge31cbiAgZGVwcy5maWx0ZXIoZnVuY3Rpb24gKGQpIHtcbiAgICByZXR1cm4gdHlwZW9mIGQgPT09IFwic3RyaW5nXCJcbiAgfSkuZm9yRWFjaChmdW5jdGlvbihkKSB7XG4gICAgZCA9IGQudHJpbSgpLnNwbGl0KC8oOj9bQFxccz48PV0pLylcbiAgICB2YXIgZG4gPSBkLnNoaWZ0KClcbiAgICB2YXIgZHYgPSBkLmpvaW4oXCJcIilcbiAgICBkdiA9IGR2LnRyaW0oKVxuICAgIGR2ID0gZHYucmVwbGFjZSgvXkAvLCBcIlwiKVxuICAgIG9bZG5dID0gZHZcbiAgfSlcbiAgcmV0dXJuIG9cbn1cblxuZnVuY3Rpb24gb2JqZWN0aWZ5RGVwcyAoZGF0YSwgd2Fybikge1xuICBkZXBUeXBlcy5mb3JFYWNoKGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgaWYgKCFkYXRhW3R5cGVdKSByZXR1cm47XG4gICAgZGF0YVt0eXBlXSA9IGRlcE9iamVjdGlmeShkYXRhW3R5cGVdLCB0eXBlLCB3YXJuKVxuICB9KVxufVxuXG5mdW5jdGlvbiBidWdzVHlwb3MoYnVncywgd2Fybikge1xuICBpZiAoIWJ1Z3MpIHJldHVyblxuICBPYmplY3Qua2V5cyhidWdzKS5mb3JFYWNoKGZ1bmN0aW9uIChrKSB7XG4gICAgaWYgKHR5cG9zLmJ1Z3Nba10pIHtcbiAgICAgIHdhcm4oXCJ0eXBvXCIsIGssIHR5cG9zLmJ1Z3Nba10sIFwiYnVnc1wiKVxuICAgICAgYnVnc1t0eXBvcy5idWdzW2tdXSA9IGJ1Z3Nba11cbiAgICAgIGRlbGV0ZSBidWdzW2tdXG4gICAgfVxuICB9KVxufVxuIiwgInZhciB1dGlsID0gcmVxdWlyZShcInV0aWxcIilcbnZhciBtZXNzYWdlcyA9IHJlcXVpcmUoXCIuL3dhcm5pbmdfbWVzc2FnZXMuanNvblwiKVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMClcbiAgdmFyIHdhcm5pbmdOYW1lID0gYXJncy5zaGlmdCgpXG4gIGlmICh3YXJuaW5nTmFtZSA9PSBcInR5cG9cIikge1xuICAgIHJldHVybiBtYWtlVHlwb1dhcm5pbmcuYXBwbHkobnVsbCxhcmdzKVxuICB9XG4gIGVsc2Uge1xuICAgIHZhciBtc2dUZW1wbGF0ZSA9IG1lc3NhZ2VzW3dhcm5pbmdOYW1lXSA/IG1lc3NhZ2VzW3dhcm5pbmdOYW1lXSA6IHdhcm5pbmdOYW1lICsgXCI6ICclcydcIlxuICAgIGFyZ3MudW5zaGlmdChtc2dUZW1wbGF0ZSlcbiAgICByZXR1cm4gdXRpbC5mb3JtYXQuYXBwbHkobnVsbCwgYXJncylcbiAgfVxufVxuXG5mdW5jdGlvbiBtYWtlVHlwb1dhcm5pbmcgKHByb3ZpZGVkTmFtZSwgcHJvYmFibGVOYW1lLCBmaWVsZCkge1xuICBpZiAoZmllbGQpIHtcbiAgICBwcm92aWRlZE5hbWUgPSBmaWVsZCArIFwiWydcIiArIHByb3ZpZGVkTmFtZSArIFwiJ11cIlxuICAgIHByb2JhYmxlTmFtZSA9IGZpZWxkICsgXCJbJ1wiICsgcHJvYmFibGVOYW1lICsgXCInXVwiXG4gIH1cbiAgcmV0dXJuIHV0aWwuZm9ybWF0KG1lc3NhZ2VzLnR5cG8sIHByb3ZpZGVkTmFtZSwgcHJvYmFibGVOYW1lKVxufVxuIiwgIm1vZHVsZS5leHBvcnRzID0gbm9ybWFsaXplXG5cbnZhciBmaXhlciA9IHJlcXVpcmUoXCIuL2ZpeGVyXCIpXG5ub3JtYWxpemUuZml4ZXIgPSBmaXhlclxuXG52YXIgbWFrZVdhcm5pbmcgPSByZXF1aXJlKFwiLi9tYWtlX3dhcm5pbmdcIilcblxudmFyIGZpZWxkc1RvRml4ID0gWyduYW1lJywndmVyc2lvbicsJ2Rlc2NyaXB0aW9uJywncmVwb3NpdG9yeScsJ21vZHVsZXMnLCdzY3JpcHRzJ1xuICAgICAgICAgICAgICAgICAgLCdmaWxlcycsJ2JpbicsJ21hbicsJ2J1Z3MnLCdrZXl3b3JkcycsJ3JlYWRtZScsJ2hvbWVwYWdlJywnbGljZW5zZSddXG52YXIgb3RoZXJUaGluZ3NUb0ZpeCA9IFsnZGVwZW5kZW5jaWVzJywncGVvcGxlJywgJ3R5cG9zJ11cblxudmFyIHRoaW5nc1RvRml4ID0gZmllbGRzVG9GaXgubWFwKGZ1bmN0aW9uKGZpZWxkTmFtZSkge1xuICByZXR1cm4gdWNGaXJzdChmaWVsZE5hbWUpICsgXCJGaWVsZFwiXG59KVxuLy8gdHdvIHdheXMgdG8gZG8gdGhpcyBpbiBDb2ZmZWVTY3JpcHQgb24gb25seSBvbmUgbGluZSwgc3ViLTcwIGNoYXJzOlxuLy8gdGhpbmdzVG9GaXggPSBmaWVsZHNUb0ZpeC5tYXAgKG5hbWUpIC0+IHVjRmlyc3QobmFtZSkgKyBcIkZpZWxkXCJcbi8vIHRoaW5nc1RvRml4ID0gKHVjRmlyc3QobmFtZSkgKyBcIkZpZWxkXCIgZm9yIG5hbWUgaW4gZmllbGRzVG9GaXgpXG50aGluZ3NUb0ZpeCA9IHRoaW5nc1RvRml4LmNvbmNhdChvdGhlclRoaW5nc1RvRml4KVxuXG5mdW5jdGlvbiBub3JtYWxpemUgKGRhdGEsIHdhcm4sIHN0cmljdCkge1xuICBpZih3YXJuID09PSB0cnVlKSB3YXJuID0gbnVsbCwgc3RyaWN0ID0gdHJ1ZVxuICBpZighc3RyaWN0KSBzdHJpY3QgPSBmYWxzZVxuICBpZighd2FybiB8fCBkYXRhLnByaXZhdGUpIHdhcm4gPSBmdW5jdGlvbihtc2cpIHsgLyogbm9vcCAqLyB9XG5cbiAgaWYgKGRhdGEuc2NyaXB0cyAmJlxuICAgICAgZGF0YS5zY3JpcHRzLmluc3RhbGwgPT09IFwibm9kZS1neXAgcmVidWlsZFwiICYmXG4gICAgICAhZGF0YS5zY3JpcHRzLnByZWluc3RhbGwpIHtcbiAgICBkYXRhLmd5cGZpbGUgPSB0cnVlXG4gIH1cbiAgZml4ZXIud2FybiA9IGZ1bmN0aW9uKCkgeyB3YXJuKG1ha2VXYXJuaW5nLmFwcGx5KG51bGwsIGFyZ3VtZW50cykpIH1cbiAgdGhpbmdzVG9GaXguZm9yRWFjaChmdW5jdGlvbih0aGluZ05hbWUpIHtcbiAgICBmaXhlcltcImZpeFwiICsgdWNGaXJzdCh0aGluZ05hbWUpXShkYXRhLCBzdHJpY3QpXG4gIH0pXG4gIGRhdGEuX2lkID0gZGF0YS5uYW1lICsgXCJAXCIgKyBkYXRhLnZlcnNpb25cbn1cblxuZnVuY3Rpb24gdWNGaXJzdCAoc3RyaW5nKSB7XG4gIHJldHVybiBzdHJpbmcuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzdHJpbmcuc2xpY2UoMSk7XG59XG4iLCAiJ3VzZSBzdHJpY3QnO1xuY29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcbmNvbnN0IGxvYWRKc29uRmlsZSA9IHJlcXVpcmUoJ2xvYWQtanNvbi1maWxlJyk7XG5jb25zdCBwYXRoVHlwZSA9IHJlcXVpcmUoJ3BhdGgtdHlwZScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IChmcCwgb3B0cykgPT4ge1xuXHRpZiAodHlwZW9mIGZwICE9PSAnc3RyaW5nJykge1xuXHRcdG9wdHMgPSBmcDtcblx0XHRmcCA9ICcuJztcblx0fVxuXG5cdG9wdHMgPSBvcHRzIHx8IHt9O1xuXG5cdHJldHVybiBwYXRoVHlwZS5kaXIoZnApXG5cdFx0LnRoZW4oaXNEaXIgPT4ge1xuXHRcdFx0aWYgKGlzRGlyKSB7XG5cdFx0XHRcdGZwID0gcGF0aC5qb2luKGZwLCAncGFja2FnZS5qc29uJyk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBsb2FkSnNvbkZpbGUoZnApO1xuXHRcdH0pXG5cdFx0LnRoZW4oeCA9PiB7XG5cdFx0XHRpZiAob3B0cy5ub3JtYWxpemUgIT09IGZhbHNlKSB7XG5cdFx0XHRcdHJlcXVpcmUoJ25vcm1hbGl6ZS1wYWNrYWdlLWRhdGEnKSh4KTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHg7XG5cdFx0fSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cy5zeW5jID0gKGZwLCBvcHRzKSA9PiB7XG5cdGlmICh0eXBlb2YgZnAgIT09ICdzdHJpbmcnKSB7XG5cdFx0b3B0cyA9IGZwO1xuXHRcdGZwID0gJy4nO1xuXHR9XG5cblx0b3B0cyA9IG9wdHMgfHwge307XG5cdGZwID0gcGF0aFR5cGUuZGlyU3luYyhmcCkgPyBwYXRoLmpvaW4oZnAsICdwYWNrYWdlLmpzb24nKSA6IGZwO1xuXG5cdGNvbnN0IHggPSBsb2FkSnNvbkZpbGUuc3luYyhmcCk7XG5cblx0aWYgKG9wdHMubm9ybWFsaXplICE9PSBmYWxzZSkge1xuXHRcdHJlcXVpcmUoJ25vcm1hbGl6ZS1wYWNrYWdlLWRhdGEnKSh4KTtcblx0fVxuXG5cdHJldHVybiB4O1xufTtcbiIsICIndXNlIHN0cmljdCc7XG5jb25zdCBmcyA9IHJlcXVpcmUoJ2ZzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnAgPT4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG5cdGZzLmFjY2VzcyhmcCwgZXJyID0+IHtcblx0XHRyZXNvbHZlKCFlcnIpO1xuXHR9KTtcbn0pO1xuXG5tb2R1bGUuZXhwb3J0cy5zeW5jID0gZnAgPT4ge1xuXHR0cnkge1xuXHRcdGZzLmFjY2Vzc1N5bmMoZnApO1xuXHRcdHJldHVybiB0cnVlO1xuXHR9IGNhdGNoIChlcnIpIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cbn07XG4iLCAiJ3VzZSBzdHJpY3QnO1xubW9kdWxlLmV4cG9ydHMgPSBjYiA9PiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcblx0cmVzb2x2ZShjYigpKTtcbn0pO1xuIiwgIid1c2Ugc3RyaWN0JztcbmNvbnN0IHBUcnkgPSByZXF1aXJlKCdwLXRyeScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGNvbmN1cnJlbmN5ID0+IHtcblx0aWYgKGNvbmN1cnJlbmN5IDwgMSkge1xuXHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ0V4cGVjdGVkIGBjb25jdXJyZW5jeWAgdG8gYmUgYSBudW1iZXIgZnJvbSAxIGFuZCB1cCcpO1xuXHR9XG5cblx0Y29uc3QgcXVldWUgPSBbXTtcblx0bGV0IGFjdGl2ZUNvdW50ID0gMDtcblxuXHRjb25zdCBuZXh0ID0gKCkgPT4ge1xuXHRcdGFjdGl2ZUNvdW50LS07XG5cblx0XHRpZiAocXVldWUubGVuZ3RoID4gMCkge1xuXHRcdFx0cXVldWUuc2hpZnQoKSgpO1xuXHRcdH1cblx0fTtcblxuXHRyZXR1cm4gZm4gPT4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdGNvbnN0IHJ1biA9ICgpID0+IHtcblx0XHRcdGFjdGl2ZUNvdW50Kys7XG5cblx0XHRcdHBUcnkoZm4pLnRoZW4oXG5cdFx0XHRcdHZhbCA9PiB7XG5cdFx0XHRcdFx0cmVzb2x2ZSh2YWwpO1xuXHRcdFx0XHRcdG5leHQoKTtcblx0XHRcdFx0fSxcblx0XHRcdFx0ZXJyID0+IHtcblx0XHRcdFx0XHRyZWplY3QoZXJyKTtcblx0XHRcdFx0XHRuZXh0KCk7XG5cdFx0XHRcdH1cblx0XHRcdCk7XG5cdFx0fTtcblxuXHRcdGlmIChhY3RpdmVDb3VudCA8IGNvbmN1cnJlbmN5KSB7XG5cdFx0XHRydW4oKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cXVldWUucHVzaChydW4pO1xuXHRcdH1cblx0fSk7XG59O1xuIiwgIid1c2Ugc3RyaWN0JztcbmNvbnN0IHBMaW1pdCA9IHJlcXVpcmUoJ3AtbGltaXQnKTtcblxuY2xhc3MgRW5kRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG5cdGNvbnN0cnVjdG9yKHZhbHVlKSB7XG5cdFx0c3VwZXIoKTtcblx0XHR0aGlzLnZhbHVlID0gdmFsdWU7XG5cdH1cbn1cblxuLy8gdGhlIGlucHV0IGNhbiBhbHNvIGJlIGEgcHJvbWlzZSwgc28gd2UgYFByb21pc2UuYWxsKClgIHRoZW0gYm90aFxuY29uc3QgZmluZGVyID0gZWwgPT4gUHJvbWlzZS5hbGwoZWwpLnRoZW4odmFsID0+IHZhbFsxXSA9PT0gdHJ1ZSAmJiBQcm9taXNlLnJlamVjdChuZXcgRW5kRXJyb3IodmFsWzBdKSkpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IChpdGVyYWJsZSwgdGVzdGVyLCBvcHRzKSA9PiB7XG5cdG9wdHMgPSBPYmplY3QuYXNzaWduKHtcblx0XHRjb25jdXJyZW5jeTogSW5maW5pdHksXG5cdFx0cHJlc2VydmVPcmRlcjogdHJ1ZVxuXHR9LCBvcHRzKTtcblxuXHRjb25zdCBsaW1pdCA9IHBMaW1pdChvcHRzLmNvbmN1cnJlbmN5KTtcblxuXHQvLyBzdGFydCBhbGwgdGhlIHByb21pc2VzIGNvbmN1cnJlbnRseSB3aXRoIG9wdGlvbmFsIGxpbWl0XG5cdGNvbnN0IGl0ZW1zID0gQXJyYXkuZnJvbShpdGVyYWJsZSkubWFwKGVsID0+IFtlbCwgbGltaXQoKCkgPT4gUHJvbWlzZS5yZXNvbHZlKGVsKS50aGVuKHRlc3RlcikpXSk7XG5cblx0Ly8gY2hlY2sgdGhlIHByb21pc2VzIGVpdGhlciBzZXJpYWxseSBvciBjb25jdXJyZW50bHlcblx0Y29uc3QgY2hlY2tMaW1pdCA9IHBMaW1pdChvcHRzLnByZXNlcnZlT3JkZXIgPyAxIDogSW5maW5pdHkpO1xuXG5cdHJldHVybiBQcm9taXNlLmFsbChpdGVtcy5tYXAoZWwgPT4gY2hlY2tMaW1pdCgoKSA9PiBmaW5kZXIoZWwpKSkpXG5cdFx0LnRoZW4oKCkgPT4ge30pXG5cdFx0LmNhdGNoKGVyciA9PiBlcnIgaW5zdGFuY2VvZiBFbmRFcnJvciA/IGVyci52YWx1ZSA6IFByb21pc2UucmVqZWN0KGVycikpO1xufTtcbiIsICIndXNlIHN0cmljdCc7XG5jb25zdCBwYXRoID0gcmVxdWlyZSgncGF0aCcpO1xuY29uc3QgcGF0aEV4aXN0cyA9IHJlcXVpcmUoJ3BhdGgtZXhpc3RzJyk7XG5jb25zdCBwTG9jYXRlID0gcmVxdWlyZSgncC1sb2NhdGUnKTtcblxubW9kdWxlLmV4cG9ydHMgPSAoaXRlcmFibGUsIG9wdHMpID0+IHtcblx0b3B0cyA9IE9iamVjdC5hc3NpZ24oe1xuXHRcdGN3ZDogcHJvY2Vzcy5jd2QoKVxuXHR9LCBvcHRzKTtcblxuXHRyZXR1cm4gcExvY2F0ZShpdGVyYWJsZSwgZWwgPT4gcGF0aEV4aXN0cyhwYXRoLnJlc29sdmUob3B0cy5jd2QsIGVsKSksIG9wdHMpO1xufTtcblxubW9kdWxlLmV4cG9ydHMuc3luYyA9IChpdGVyYWJsZSwgb3B0cykgPT4ge1xuXHRvcHRzID0gT2JqZWN0LmFzc2lnbih7XG5cdFx0Y3dkOiBwcm9jZXNzLmN3ZCgpXG5cdH0sIG9wdHMpO1xuXG5cdGZvciAoY29uc3QgZWwgb2YgaXRlcmFibGUpIHtcblx0XHRpZiAocGF0aEV4aXN0cy5zeW5jKHBhdGgucmVzb2x2ZShvcHRzLmN3ZCwgZWwpKSkge1xuXHRcdFx0cmV0dXJuIGVsO1xuXHRcdH1cblx0fVxufTtcbiIsICIndXNlIHN0cmljdCc7XG5jb25zdCBwYXRoID0gcmVxdWlyZSgncGF0aCcpO1xuY29uc3QgbG9jYXRlUGF0aCA9IHJlcXVpcmUoJ2xvY2F0ZS1wYXRoJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gKGZpbGVuYW1lLCBvcHRzKSA9PiB7XG5cdG9wdHMgPSBvcHRzIHx8IHt9O1xuXG5cdGNvbnN0IHN0YXJ0RGlyID0gcGF0aC5yZXNvbHZlKG9wdHMuY3dkIHx8ICcnKTtcblx0Y29uc3Qgcm9vdCA9IHBhdGgucGFyc2Uoc3RhcnREaXIpLnJvb3Q7XG5cblx0Y29uc3QgZmlsZW5hbWVzID0gW10uY29uY2F0KGZpbGVuYW1lKTtcblxuXHRyZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG5cdFx0KGZ1bmN0aW9uIGZpbmQoZGlyKSB7XG5cdFx0XHRsb2NhdGVQYXRoKGZpbGVuYW1lcywge2N3ZDogZGlyfSkudGhlbihmaWxlID0+IHtcblx0XHRcdFx0aWYgKGZpbGUpIHtcblx0XHRcdFx0XHRyZXNvbHZlKHBhdGguam9pbihkaXIsIGZpbGUpKTtcblx0XHRcdFx0fSBlbHNlIGlmIChkaXIgPT09IHJvb3QpIHtcblx0XHRcdFx0XHRyZXNvbHZlKG51bGwpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGZpbmQocGF0aC5kaXJuYW1lKGRpcikpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9KShzdGFydERpcik7XG5cdH0pO1xufTtcblxubW9kdWxlLmV4cG9ydHMuc3luYyA9IChmaWxlbmFtZSwgb3B0cykgPT4ge1xuXHRvcHRzID0gb3B0cyB8fCB7fTtcblxuXHRsZXQgZGlyID0gcGF0aC5yZXNvbHZlKG9wdHMuY3dkIHx8ICcnKTtcblx0Y29uc3Qgcm9vdCA9IHBhdGgucGFyc2UoZGlyKS5yb290O1xuXG5cdGNvbnN0IGZpbGVuYW1lcyA9IFtdLmNvbmNhdChmaWxlbmFtZSk7XG5cblx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnN0YW50LWNvbmRpdGlvblxuXHR3aGlsZSAodHJ1ZSkge1xuXHRcdGNvbnN0IGZpbGUgPSBsb2NhdGVQYXRoLnN5bmMoZmlsZW5hbWVzLCB7Y3dkOiBkaXJ9KTtcblxuXHRcdGlmIChmaWxlKSB7XG5cdFx0XHRyZXR1cm4gcGF0aC5qb2luKGRpciwgZmlsZSk7XG5cdFx0fSBlbHNlIGlmIChkaXIgPT09IHJvb3QpIHtcblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH1cblxuXHRcdGRpciA9IHBhdGguZGlybmFtZShkaXIpO1xuXHR9XG59O1xuIiwgIid1c2Ugc3RyaWN0JztcbmNvbnN0IGZpbmRVcCA9IHJlcXVpcmUoJ2ZpbmQtdXAnKTtcbmNvbnN0IHJlYWRQa2cgPSByZXF1aXJlKCdyZWFkLXBrZycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IG9wdHMgPT4ge1xuXHRyZXR1cm4gZmluZFVwKCdwYWNrYWdlLmpzb24nLCBvcHRzKS50aGVuKGZwID0+IHtcblx0XHRpZiAoIWZwKSB7XG5cdFx0XHRyZXR1cm4ge307XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHJlYWRQa2coZnAsIG9wdHMpLnRoZW4ocGtnID0+ICh7cGtnLCBwYXRoOiBmcH0pKTtcblx0fSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cy5zeW5jID0gb3B0cyA9PiB7XG5cdGNvbnN0IGZwID0gZmluZFVwLnN5bmMoJ3BhY2thZ2UuanNvbicsIG9wdHMpO1xuXG5cdGlmICghZnApIHtcblx0XHRyZXR1cm4ge307XG5cdH1cblxuXHRyZXR1cm4ge1xuXHRcdHBrZzogcmVhZFBrZy5zeW5jKGZwLCBvcHRzKSxcblx0XHRwYXRoOiBmcFxuXHR9O1xufTtcbiIsICIndXNlIHN0cmljdCdcbmNvbnN0IGRhdGVGb3JtYXQgPSByZXF1aXJlKCdkYXRlZm9ybWF0JylcbmNvbnN0IGdldFBrZ1JlcG8gPSByZXF1aXJlKCdnZXQtcGtnLXJlcG8nKVxuY29uc3QgZ2l0U2VtdmVyVGFncyA9IHJlcXVpcmUoJ2dpdC1zZW12ZXItdGFncycpXG5jb25zdCBub3JtYWxpemVQYWNrYWdlRGF0YSA9IHJlcXVpcmUoJ25vcm1hbGl6ZS1wYWNrYWdlLWRhdGEnKVxuY29uc3QgUSA9IHJlcXVpcmUoJ3EnKVxubGV0IGdpdFJlbW90ZU9yaWdpblVybFxudHJ5IHtcbiAgZ2l0UmVtb3RlT3JpZ2luVXJsID0gcmVxdWlyZSgnZ2l0LXJlbW90ZS1vcmlnaW4tdXJsJylcbn0gY2F0Y2ggKGVycikge1xuICBnaXRSZW1vdGVPcmlnaW5VcmwgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIFEucmVqZWN0KGVycilcbiAgfVxufVxuY29uc3QgcmVhZFBrZyA9IHJlcXVpcmUoJ3JlYWQtcGtnJylcbmNvbnN0IHJlYWRQa2dVcCA9IHJlcXVpcmUoJ3JlYWQtcGtnLXVwJylcbmNvbnN0IFVSTCA9IHJlcXVpcmUoJ3VybCcpLlVSTFxuY29uc3QgXyA9IHJlcXVpcmUoJ2xvZGFzaCcpXG5cbmNvbnN0IHJob3N0cyA9IC9naXRodWJ8Yml0YnVja2V0fGdpdGxhYi9pXG5cbmZ1bmN0aW9uIHNlbXZlclRhZ3NQcm9taXNlIChvcHRpb25zKSB7XG4gIHJldHVybiBRLlByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIGdpdFNlbXZlclRhZ3MoeyBsZXJuYVRhZ3M6ICEhb3B0aW9ucy5sZXJuYVBhY2thZ2UsIHBhY2thZ2U6IG9wdGlvbnMubGVybmFQYWNrYWdlLCB0YWdQcmVmaXg6IG9wdGlvbnMudGFnUHJlZml4LCBza2lwVW5zdGFibGU6IG9wdGlvbnMuc2tpcFVuc3RhYmxlIH0sIGZ1bmN0aW9uIChlcnIsIHJlc3VsdCkge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICByZWplY3QoZXJyKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzb2x2ZShyZXN1bHQpXG4gICAgICB9XG4gICAgfSlcbiAgfSlcbn1cblxuZnVuY3Rpb24gZ3Vlc3NOZXh0VGFnIChwcmV2aW91c1RhZywgdmVyc2lvbikge1xuICBpZiAocHJldmlvdXNUYWcpIHtcbiAgICBpZiAocHJldmlvdXNUYWdbMF0gPT09ICd2JyAmJiB2ZXJzaW9uWzBdICE9PSAndicpIHtcbiAgICAgIHJldHVybiAndicgKyB2ZXJzaW9uXG4gICAgfVxuXG4gICAgaWYgKHByZXZpb3VzVGFnWzBdICE9PSAndicgJiYgdmVyc2lvblswXSA9PT0gJ3YnKSB7XG4gICAgICByZXR1cm4gdmVyc2lvbi5yZXBsYWNlKC9edi8sICcnKVxuICAgIH1cblxuICAgIHJldHVybiB2ZXJzaW9uXG4gIH1cblxuICBpZiAodmVyc2lvblswXSAhPT0gJ3YnKSB7XG4gICAgcmV0dXJuICd2JyArIHZlcnNpb25cbiAgfVxuXG4gIHJldHVybiB2ZXJzaW9uXG59XG5cbmZ1bmN0aW9uIG1lcmdlQ29uZmlnIChvcHRpb25zLCBjb250ZXh0LCBnaXRSYXdDb21taXRzT3B0cywgcGFyc2VyT3B0cywgd3JpdGVyT3B0cywgZ2l0UmF3RXhlY09wdHMpIHtcbiAgbGV0IGNvbmZpZ1Byb21pc2VcbiAgbGV0IHBrZ1Byb21pc2VcblxuICBjb250ZXh0ID0gY29udGV4dCB8fCB7fVxuICBnaXRSYXdDb21taXRzT3B0cyA9IGdpdFJhd0NvbW1pdHNPcHRzIHx8IHt9XG4gIGdpdFJhd0V4ZWNPcHRzID0gZ2l0UmF3RXhlY09wdHMgfHwge31cblxuICBjb25zdCBydGFnID0gb3B0aW9ucyAmJiBvcHRpb25zLnRhZ1ByZWZpeCA/IG5ldyBSZWdFeHAoYHRhZzpcXFxccypbPV0/JHtvcHRpb25zLnRhZ1ByZWZpeH0oLis/KVssKV1gLCAnZ2knKSA6IC90YWc6XFxzKlt2PV0/KC4rPylbLCldL2dpXG5cbiAgb3B0aW9ucyA9IF8ubWVyZ2Uoe1xuICAgIHBrZzoge1xuICAgICAgdHJhbnNmb3JtOiBmdW5jdGlvbiAocGtnKSB7XG4gICAgICAgIHJldHVybiBwa2dcbiAgICAgIH1cbiAgICB9LFxuICAgIGFwcGVuZDogZmFsc2UsXG4gICAgcmVsZWFzZUNvdW50OiAxLFxuICAgIHNraXBVbnN0YWJsZTogZmFsc2UsXG4gICAgZGVidWc6IGZ1bmN0aW9uICgpIHt9LFxuICAgIHRyYW5zZm9ybTogZnVuY3Rpb24gKGNvbW1pdCwgY2IpIHtcbiAgICAgIGlmIChfLmlzU3RyaW5nKGNvbW1pdC5naXRUYWdzKSkge1xuICAgICAgICBjb25zdCBtYXRjaCA9IHJ0YWcuZXhlYyhjb21taXQuZ2l0VGFncylcbiAgICAgICAgcnRhZy5sYXN0SW5kZXggPSAwXG5cbiAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgY29tbWl0LnZlcnNpb24gPSBtYXRjaFsxXVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChjb21taXQuY29tbWl0dGVyRGF0ZSkge1xuICAgICAgICBjb21taXQuY29tbWl0dGVyRGF0ZSA9IGRhdGVGb3JtYXQoY29tbWl0LmNvbW1pdHRlckRhdGUsICd5eXl5LW1tLWRkJywgdHJ1ZSlcbiAgICAgIH1cblxuICAgICAgY2IobnVsbCwgY29tbWl0KVxuICAgIH0sXG4gICAgbGVybmFQYWNrYWdlOiBudWxsXG4gIH0sIG9wdGlvbnMpXG5cbiAgb3B0aW9ucy53YXJuID0gb3B0aW9ucy53YXJuIHx8IG9wdGlvbnMuZGVidWdcblxuICBpZiAob3B0aW9ucy5jb25maWcpIHtcbiAgICBpZiAoXy5pc0Z1bmN0aW9uKG9wdGlvbnMuY29uZmlnKSkge1xuICAgICAgY29uZmlnUHJvbWlzZSA9IFEubmZjYWxsKG9wdGlvbnMuY29uZmlnKVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25maWdQcm9taXNlID0gUShvcHRpb25zLmNvbmZpZylcbiAgICB9XG4gIH1cblxuICBpZiAob3B0aW9ucy5wa2cpIHtcbiAgICBpZiAob3B0aW9ucy5wa2cucGF0aCkge1xuICAgICAgcGtnUHJvbWlzZSA9IFEocmVhZFBrZyhvcHRpb25zLnBrZy5wYXRoKSlcbiAgICB9IGVsc2Uge1xuICAgICAgcGtnUHJvbWlzZSA9IFEocmVhZFBrZ1VwKCkpXG4gICAgfVxuICB9XG5cbiAgY29uc3QgZ2l0UmVtb3RlT3JpZ2luVXJsUHJvbWlzZSA9IFEoZ2l0UmVtb3RlT3JpZ2luVXJsKCkpXG5cbiAgcmV0dXJuIFEuYWxsU2V0dGxlZChbY29uZmlnUHJvbWlzZSwgcGtnUHJvbWlzZSwgc2VtdmVyVGFnc1Byb21pc2Uob3B0aW9ucyksIGdpdFJlbW90ZU9yaWdpblVybFByb21pc2VdKVxuICAgIC5zcHJlYWQoZnVuY3Rpb24gKGNvbmZpZ09iaiwgcGtnT2JqLCB0YWdzT2JqLCBnaXRSZW1vdGVPcmlnaW5VcmxPYmopIHtcbiAgICAgIGxldCBjb25maWdcbiAgICAgIGxldCBwa2dcbiAgICAgIGxldCBmcm9tVGFnXG4gICAgICBsZXQgcmVwb1xuXG4gICAgICBsZXQgaG9zdE9wdHNcblxuICAgICAgbGV0IGdpdFNlbXZlclRhZ3MgPSBbXVxuXG4gICAgICBpZiAoY29uZmlnUHJvbWlzZSkge1xuICAgICAgICBpZiAoY29uZmlnT2JqLnN0YXRlID09PSAnZnVsZmlsbGVkJykge1xuICAgICAgICAgIGNvbmZpZyA9IGNvbmZpZ09iai52YWx1ZVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9wdGlvbnMud2FybignRXJyb3IgaW4gY29uZmlnJyArIGNvbmZpZ09iai5yZWFzb24udG9TdHJpbmcoKSlcbiAgICAgICAgICBjb25maWcgPSB7fVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25maWcgPSB7fVxuICAgICAgfVxuXG4gICAgICBjb250ZXh0ID0gXy5hc3NpZ24oY29udGV4dCwgY29uZmlnLmNvbnRleHQpXG5cbiAgICAgIGlmIChvcHRpb25zLnBrZykge1xuICAgICAgICBpZiAocGtnT2JqLnN0YXRlID09PSAnZnVsZmlsbGVkJykge1xuICAgICAgICAgIGlmIChvcHRpb25zLnBrZy5wYXRoKSB7XG4gICAgICAgICAgICBwa2cgPSBwa2dPYmoudmFsdWVcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGtnID0gcGtnT2JqLnZhbHVlLnBrZyB8fCB7fVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHBrZyA9IG9wdGlvbnMucGtnLnRyYW5zZm9ybShwa2cpXG4gICAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy5wa2cucGF0aCkge1xuICAgICAgICAgIG9wdGlvbnMud2Fybihwa2dPYmoucmVhc29uLnRvU3RyaW5nKCkpXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCghcGtnIHx8ICFwa2cucmVwb3NpdG9yeSB8fCAhcGtnLnJlcG9zaXRvcnkudXJsKSAmJiBnaXRSZW1vdGVPcmlnaW5VcmxPYmouc3RhdGUgPT09ICdmdWxmaWxsZWQnKSB7XG4gICAgICAgIHBrZyA9IHBrZyB8fCB7fVxuICAgICAgICBwa2cucmVwb3NpdG9yeSA9IHBrZy5yZXBvc2l0b3J5IHx8IHt9XG4gICAgICAgIHBrZy5yZXBvc2l0b3J5LnVybCA9IGdpdFJlbW90ZU9yaWdpblVybE9iai52YWx1ZVxuICAgICAgICBub3JtYWxpemVQYWNrYWdlRGF0YShwa2cpXG4gICAgICB9XG5cbiAgICAgIGlmIChwa2cpIHtcbiAgICAgICAgY29udGV4dC52ZXJzaW9uID0gY29udGV4dC52ZXJzaW9uIHx8IHBrZy52ZXJzaW9uXG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXBvID0gZ2V0UGtnUmVwbyhwa2cpXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIHJlcG8gPSB7fVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJlcG8uYnJvd3NlKSB7XG4gICAgICAgICAgY29uc3QgYnJvd3NlID0gcmVwby5icm93c2UoKVxuICAgICAgICAgIGlmICghY29udGV4dC5ob3N0KSB7XG4gICAgICAgICAgICBpZiAocmVwby5kb21haW4pIHtcbiAgICAgICAgICAgICAgY29uc3QgcGFyc2VkQnJvd3NlID0gbmV3IFVSTChicm93c2UpXG4gICAgICAgICAgICAgIGlmIChwYXJzZWRCcm93c2Uub3JpZ2luLmluZGV4T2YoJy8vJykgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5ob3N0ID0gcGFyc2VkQnJvd3NlLnByb3RvY29sICsgJy8vJyArIHJlcG8uZG9tYWluXG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5ob3N0ID0gcGFyc2VkQnJvd3NlLnByb3RvY29sICsgcmVwby5kb21haW5cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29udGV4dC5ob3N0ID0gbnVsbFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBjb250ZXh0Lm93bmVyID0gY29udGV4dC5vd25lciB8fCByZXBvLnVzZXIgfHwgJydcbiAgICAgICAgICBjb250ZXh0LnJlcG9zaXRvcnkgPSBjb250ZXh0LnJlcG9zaXRvcnkgfHwgcmVwby5wcm9qZWN0XG4gICAgICAgICAgaWYgKHJlcG8uaG9zdCAmJiByZXBvLnByb2plY3QgJiYgcmVwby51c2VyKSB7XG4gICAgICAgICAgICBjb250ZXh0LnJlcG9VcmwgPSBicm93c2VcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29udGV4dC5yZXBvVXJsID0gY29udGV4dC5ob3N0XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29udGV4dC5wYWNrYWdlRGF0YSA9IHBrZ1xuICAgICAgfVxuXG4gICAgICBjb250ZXh0LnZlcnNpb24gPSBjb250ZXh0LnZlcnNpb24gfHwgJydcblxuICAgICAgaWYgKHRhZ3NPYmouc3RhdGUgPT09ICdmdWxmaWxsZWQnKSB7XG4gICAgICAgIGdpdFNlbXZlclRhZ3MgPSBjb250ZXh0LmdpdFNlbXZlclRhZ3MgPSB0YWdzT2JqLnZhbHVlXG4gICAgICAgIGZyb21UYWcgPSBnaXRTZW12ZXJUYWdzW29wdGlvbnMucmVsZWFzZUNvdW50IC0gMV1cbiAgICAgICAgY29uc3QgbGFzdFRhZyA9IGdpdFNlbXZlclRhZ3NbMF1cblxuICAgICAgICBpZiAobGFzdFRhZyA9PT0gY29udGV4dC52ZXJzaW9uIHx8IGxhc3RUYWcgPT09ICd2JyArIGNvbnRleHQudmVyc2lvbikge1xuICAgICAgICAgIGlmIChvcHRpb25zLm91dHB1dFVucmVsZWFzZWQpIHtcbiAgICAgICAgICAgIGNvbnRleHQudmVyc2lvbiA9ICdVbnJlbGVhc2VkJ1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvcHRpb25zLm91dHB1dFVucmVsZWFzZWQgPSBmYWxzZVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoIV8uaXNCb29sZWFuKG9wdGlvbnMub3V0cHV0VW5yZWxlYXNlZCkpIHtcbiAgICAgICAgb3B0aW9ucy5vdXRwdXRVbnJlbGVhc2VkID0gdHJ1ZVxuICAgICAgfVxuXG4gICAgICBpZiAoY29udGV4dC5ob3N0ICYmICghY29udGV4dC5pc3N1ZSB8fCAhY29udGV4dC5jb21taXQgfHwgIXBhcnNlck9wdHMgfHwgIXBhcnNlck9wdHMucmVmZXJlbmNlQWN0aW9ucykpIHtcbiAgICAgICAgbGV0IHR5cGVcblxuICAgICAgICBpZiAoY29udGV4dC5ob3N0KSB7XG4gICAgICAgICAgY29uc3QgbWF0Y2ggPSBjb250ZXh0Lmhvc3QubWF0Y2gocmhvc3RzKVxuICAgICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgICAgdHlwZSA9IG1hdGNoWzBdXG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHJlcG8gJiYgcmVwby50eXBlKSB7XG4gICAgICAgICAgdHlwZSA9IHJlcG8udHlwZVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGUpIHtcbiAgICAgICAgICBob3N0T3B0cyA9IHJlcXVpcmUoJy4uL2hvc3RzLycgKyB0eXBlKVxuXG4gICAgICAgICAgY29udGV4dCA9IF8uYXNzaWduKHtcbiAgICAgICAgICAgIGlzc3VlOiBob3N0T3B0cy5pc3N1ZSxcbiAgICAgICAgICAgIGNvbW1pdDogaG9zdE9wdHMuY29tbWl0XG4gICAgICAgICAgfSwgY29udGV4dClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvcHRpb25zLndhcm4oJ0hvc3Q6IFwiJyArIGNvbnRleHQuaG9zdCArICdcIiBkb2VzIG5vdCBleGlzdCcpXG4gICAgICAgICAgaG9zdE9wdHMgPSB7fVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBob3N0T3B0cyA9IHt9XG4gICAgICB9XG5cbiAgICAgIGlmIChjb250ZXh0LnJlc2V0Q2hhbmdlbG9nKSB7XG4gICAgICAgIGZyb21UYWcgPSBudWxsXG4gICAgICB9XG5cbiAgICAgIGdpdFJhd0NvbW1pdHNPcHRzID0gXy5hc3NpZ24oe1xuICAgICAgICBmb3JtYXQ6ICclQiVuLWhhc2gtJW4lSCVuLWdpdFRhZ3MtJW4lZCVuLWNvbW1pdHRlckRhdGUtJW4lY2knLFxuICAgICAgICBmcm9tOiBmcm9tVGFnLFxuICAgICAgICBtZXJnZXM6IGZhbHNlLFxuICAgICAgICBkZWJ1Zzogb3B0aW9ucy5kZWJ1Z1xuICAgICAgfSxcbiAgICAgIGNvbmZpZy5naXRSYXdDb21taXRzT3B0cyxcbiAgICAgIGdpdFJhd0NvbW1pdHNPcHRzXG4gICAgICApXG5cbiAgICAgIGlmIChvcHRpb25zLmFwcGVuZCkge1xuICAgICAgICBnaXRSYXdDb21taXRzT3B0cy5yZXZlcnNlID0gZ2l0UmF3Q29tbWl0c09wdHMucmV2ZXJzZSB8fCB0cnVlXG4gICAgICB9XG5cbiAgICAgIHBhcnNlck9wdHMgPSBfLmFzc2lnbihcbiAgICAgICAge30sIGNvbmZpZy5wYXJzZXJPcHRzLCB7XG4gICAgICAgICAgd2Fybjogb3B0aW9ucy53YXJuXG4gICAgICAgIH0sXG4gICAgICAgIHBhcnNlck9wdHMpXG5cbiAgICAgIGlmIChob3N0T3B0cy5yZWZlcmVuY2VBY3Rpb25zICYmIHBhcnNlck9wdHMpIHtcbiAgICAgICAgcGFyc2VyT3B0cy5yZWZlcmVuY2VBY3Rpb25zID0gaG9zdE9wdHMucmVmZXJlbmNlQWN0aW9uc1xuICAgICAgfVxuXG4gICAgICBpZiAoXy5pc0VtcHR5KHBhcnNlck9wdHMuaXNzdWVQcmVmaXhlcykgJiYgaG9zdE9wdHMuaXNzdWVQcmVmaXhlcykge1xuICAgICAgICBwYXJzZXJPcHRzLmlzc3VlUHJlZml4ZXMgPSBob3N0T3B0cy5pc3N1ZVByZWZpeGVzXG4gICAgICB9XG5cbiAgICAgIHdyaXRlck9wdHMgPSBfLmFzc2lnbih7XG4gICAgICAgIGZpbmFsaXplQ29udGV4dDogZnVuY3Rpb24gKGNvbnRleHQsIHdyaXRlck9wdHMsIGZpbHRlcmVkQ29tbWl0cywga2V5Q29tbWl0LCBvcmlnaW5hbENvbW1pdHMpIHtcbiAgICAgICAgICBjb25zdCBmaXJzdENvbW1pdCA9IG9yaWdpbmFsQ29tbWl0c1swXVxuICAgICAgICAgIGNvbnN0IGxhc3RDb21taXQgPSBvcmlnaW5hbENvbW1pdHNbb3JpZ2luYWxDb21taXRzLmxlbmd0aCAtIDFdXG4gICAgICAgICAgY29uc3QgZmlyc3RDb21taXRIYXNoID0gZmlyc3RDb21taXQgPyBmaXJzdENvbW1pdC5oYXNoIDogbnVsbFxuICAgICAgICAgIGNvbnN0IGxhc3RDb21taXRIYXNoID0gbGFzdENvbW1pdCA/IGxhc3RDb21taXQuaGFzaCA6IG51bGxcblxuICAgICAgICAgIGlmICgoIWNvbnRleHQuY3VycmVudFRhZyB8fCAhY29udGV4dC5wcmV2aW91c1RhZykgJiYga2V5Q29tbWl0KSB7XG4gICAgICAgICAgICBjb25zdCBtYXRjaCA9IC90YWc6XFxzKiguKz8pWywpXS9naS5leGVjKGtleUNvbW1pdC5naXRUYWdzKVxuICAgICAgICAgICAgY29uc3QgY3VycmVudFRhZyA9IGNvbnRleHQuY3VycmVudFRhZ1xuICAgICAgICAgICAgY29udGV4dC5jdXJyZW50VGFnID0gY3VycmVudFRhZyB8fCBtYXRjaCA/IG1hdGNoWzFdIDogbnVsbFxuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBnaXRTZW12ZXJUYWdzLmluZGV4T2YoY29udGV4dC5jdXJyZW50VGFnKVxuXG4gICAgICAgICAgICAvLyBpZiBga2V5Q29tbWl0LmdpdFRhZ3NgIGlzIG5vdCBhIHNlbXZlclxuICAgICAgICAgICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgICBjb250ZXh0LmN1cnJlbnRUYWcgPSBjdXJyZW50VGFnIHx8IG51bGxcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNvbnN0IHByZXZpb3VzVGFnID0gY29udGV4dC5wcmV2aW91c1RhZyA9IGdpdFNlbXZlclRhZ3NbaW5kZXggKyAxXVxuXG4gICAgICAgICAgICAgIGlmICghcHJldmlvdXNUYWcpIHtcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5hcHBlbmQpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnRleHQucHJldmlvdXNUYWcgPSBjb250ZXh0LnByZXZpb3VzVGFnIHx8IGZpcnN0Q29tbWl0SGFzaFxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBjb250ZXh0LnByZXZpb3VzVGFnID0gY29udGV4dC5wcmV2aW91c1RhZyB8fCBsYXN0Q29tbWl0SGFzaFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb250ZXh0LnByZXZpb3VzVGFnID0gY29udGV4dC5wcmV2aW91c1RhZyB8fCBnaXRTZW12ZXJUYWdzWzBdXG5cbiAgICAgICAgICAgIGlmIChjb250ZXh0LnZlcnNpb24gPT09ICdVbnJlbGVhc2VkJykge1xuICAgICAgICAgICAgICBpZiAob3B0aW9ucy5hcHBlbmQpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmN1cnJlbnRUYWcgPSBjb250ZXh0LmN1cnJlbnRUYWcgfHwgbGFzdENvbW1pdEhhc2hcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmN1cnJlbnRUYWcgPSBjb250ZXh0LmN1cnJlbnRUYWcgfHwgZmlyc3RDb21taXRIYXNoXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIWNvbnRleHQuY3VycmVudFRhZykge1xuICAgICAgICAgICAgICBpZiAob3B0aW9ucy5sZXJuYVBhY2thZ2UpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmN1cnJlbnRUYWcgPSBvcHRpb25zLmxlcm5hUGFja2FnZSArICdAJyArIGNvbnRleHQudmVyc2lvblxuICAgICAgICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbnMudGFnUHJlZml4KSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5jdXJyZW50VGFnID0gb3B0aW9ucy50YWdQcmVmaXggKyBjb250ZXh0LnZlcnNpb25cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmN1cnJlbnRUYWcgPSBndWVzc05leHRUYWcoZ2l0U2VtdmVyVGFnc1swXSwgY29udGV4dC52ZXJzaW9uKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKCFfLmlzQm9vbGVhbihjb250ZXh0LmxpbmtDb21wYXJlKSAmJiBjb250ZXh0LnByZXZpb3VzVGFnICYmIGNvbnRleHQuY3VycmVudFRhZykge1xuICAgICAgICAgICAgY29udGV4dC5saW5rQ29tcGFyZSA9IHRydWVcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gY29udGV4dFxuICAgICAgICB9LFxuICAgICAgICBkZWJ1Zzogb3B0aW9ucy5kZWJ1Z1xuICAgICAgfSxcbiAgICAgIGNvbmZpZy53cml0ZXJPcHRzLCB7XG4gICAgICAgIHJldmVyc2U6IG9wdGlvbnMuYXBwZW5kLFxuICAgICAgICBkb0ZsdXNoOiBvcHRpb25zLm91dHB1dFVucmVsZWFzZWRcbiAgICAgIH0sXG4gICAgICB3cml0ZXJPcHRzXG4gICAgICApXG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIG9wdGlvbnM6IG9wdGlvbnMsXG4gICAgICAgIGNvbnRleHQ6IGNvbnRleHQsXG4gICAgICAgIGdpdFJhd0NvbW1pdHNPcHRzOiBnaXRSYXdDb21taXRzT3B0cyxcbiAgICAgICAgcGFyc2VyT3B0czogcGFyc2VyT3B0cyxcbiAgICAgICAgd3JpdGVyT3B0czogd3JpdGVyT3B0cyxcbiAgICAgICAgZ2l0UmF3RXhlY09wdHM6IGdpdFJhd0V4ZWNPcHRzXG4gICAgICB9XG4gICAgfSlcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBtZXJnZUNvbmZpZ1xuIiwgIid1c2Ugc3RyaWN0J1xuXG5jb25zdCBhZGRTdHJlYW0gPSByZXF1aXJlKCdhZGQtc3RyZWFtJylcbmNvbnN0IGdpdFJhd0NvbW1pdHMgPSByZXF1aXJlKCdnaXQtcmF3LWNvbW1pdHMnKVxuY29uc3QgY29udmVudGlvbmFsQ29tbWl0c1BhcnNlciA9IHJlcXVpcmUoJ2NvbnZlbnRpb25hbC1jb21taXRzLXBhcnNlcicpXG5jb25zdCBjb252ZW50aW9uYWxDaGFuZ2Vsb2dXcml0ZXIgPSByZXF1aXJlKCdjb252ZW50aW9uYWwtY2hhbmdlbG9nLXdyaXRlcicpXG5jb25zdCBfID0gcmVxdWlyZSgnbG9kYXNoJylcbmNvbnN0IHN0cmVhbSA9IHJlcXVpcmUoJ3N0cmVhbScpXG5jb25zdCB0aHJvdWdoID0gcmVxdWlyZSgndGhyb3VnaDInKVxuY29uc3QgZXhlY0ZpbGVTeW5jID0gcmVxdWlyZSgnY2hpbGRfcHJvY2VzcycpLmV4ZWNGaWxlU3luY1xuXG5jb25zdCBtZXJnZUNvbmZpZyA9IHJlcXVpcmUoJy4vbGliL21lcmdlLWNvbmZpZycpXG5mdW5jdGlvbiBjb252ZW50aW9uYWxDaGFuZ2Vsb2cgKG9wdGlvbnMsIGNvbnRleHQsIGdpdFJhd0NvbW1pdHNPcHRzLCBwYXJzZXJPcHRzLCB3cml0ZXJPcHRzLCBnaXRSYXdFeGVjT3B0cykge1xuICB3cml0ZXJPcHRzID0gd3JpdGVyT3B0cyB8fCB7fVxuXG4gIGNvbnN0IHJlYWRhYmxlID0gbmV3IHN0cmVhbS5SZWFkYWJsZSh7XG4gICAgb2JqZWN0TW9kZTogd3JpdGVyT3B0cy5pbmNsdWRlRGV0YWlsc1xuICB9KVxuICByZWFkYWJsZS5fcmVhZCA9IGZ1bmN0aW9uICgpIHsgfVxuXG4gIGxldCBjb21taXRzRXJyb3JUaHJvd24gPSBmYWxzZVxuXG4gIGxldCBjb21taXRzU3RyZWFtID0gbmV3IHN0cmVhbS5SZWFkYWJsZSh7XG4gICAgb2JqZWN0TW9kZTogdHJ1ZVxuICB9KVxuICBjb21taXRzU3RyZWFtLl9yZWFkID0gZnVuY3Rpb24gKCkgeyB9XG5cbiAgZnVuY3Rpb24gY29tbWl0c1JhbmdlIChmcm9tLCB0bykge1xuICAgIHJldHVybiBnaXRSYXdDb21taXRzKF8ubWVyZ2Uoe30sIGdpdFJhd0NvbW1pdHNPcHRzLCB7XG4gICAgICBmcm9tOiBmcm9tLFxuICAgICAgdG86IHRvXG4gICAgfSkpXG4gICAgICAub24oJ2Vycm9yJywgZnVuY3Rpb24gKGVycikge1xuICAgICAgICBpZiAoIWNvbW1pdHNFcnJvclRocm93bikge1xuICAgICAgICAgIHNldEltbWVkaWF0ZShjb21taXRzU3RyZWFtLmVtaXQuYmluZChjb21taXRzU3RyZWFtKSwgJ2Vycm9yJywgZXJyKVxuICAgICAgICAgIGNvbW1pdHNFcnJvclRocm93biA9IHRydWVcbiAgICAgICAgfVxuICAgICAgfSlcbiAgfVxuXG4gIG1lcmdlQ29uZmlnKG9wdGlvbnMsIGNvbnRleHQsIGdpdFJhd0NvbW1pdHNPcHRzLCBwYXJzZXJPcHRzLCB3cml0ZXJPcHRzLCBnaXRSYXdFeGVjT3B0cylcbiAgICAudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgb3B0aW9ucyA9IGRhdGEub3B0aW9uc1xuICAgICAgY29udGV4dCA9IGRhdGEuY29udGV4dFxuICAgICAgZ2l0UmF3Q29tbWl0c09wdHMgPSBkYXRhLmdpdFJhd0NvbW1pdHNPcHRzXG4gICAgICBwYXJzZXJPcHRzID0gZGF0YS5wYXJzZXJPcHRzXG4gICAgICB3cml0ZXJPcHRzID0gZGF0YS53cml0ZXJPcHRzXG4gICAgICBnaXRSYXdFeGVjT3B0cyA9IGRhdGEuZ2l0UmF3RXhlY09wdHNcblxuICAgICAgdHJ5IHtcbiAgICAgICAgZXhlY0ZpbGVTeW5jKCdnaXQnLCBbJ3Jldi1wYXJzZScsICctLXZlcmlmeScsICdIRUFEJ10sIHtcbiAgICAgICAgICBzdGRpbzogJ2lnbm9yZSdcbiAgICAgICAgfSlcbiAgICAgICAgbGV0IHJldmVyc2VUYWdzID0gY29udGV4dC5naXRTZW12ZXJUYWdzLnNsaWNlKDApLnJldmVyc2UoKVxuICAgICAgICByZXZlcnNlVGFncy5wdXNoKCdIRUFEJylcblxuICAgICAgICBpZiAoZ2l0UmF3Q29tbWl0c09wdHMuZnJvbSkge1xuICAgICAgICAgIGlmIChyZXZlcnNlVGFncy5pbmRleE9mKGdpdFJhd0NvbW1pdHNPcHRzLmZyb20pICE9PSAtMSkge1xuICAgICAgICAgICAgcmV2ZXJzZVRhZ3MgPSByZXZlcnNlVGFncy5zbGljZShyZXZlcnNlVGFncy5pbmRleE9mKGdpdFJhd0NvbW1pdHNPcHRzLmZyb20pKVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXZlcnNlVGFncyA9IFtnaXRSYXdDb21taXRzT3B0cy5mcm9tLCAnSEVBRCddXG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHN0cmVhbXMgPSByZXZlcnNlVGFncy5tYXAoKHRvLCBpKSA9PiB7XG4gICAgICAgICAgY29uc3QgZnJvbSA9IGkgPiAwXG4gICAgICAgICAgICA/IHJldmVyc2VUYWdzW2kgLSAxXVxuICAgICAgICAgICAgOiAnJ1xuICAgICAgICAgIHJldHVybiBjb21taXRzUmFuZ2UoZnJvbSwgdG8pXG4gICAgICAgIH0pXG5cbiAgICAgICAgaWYgKGdpdFJhd0NvbW1pdHNPcHRzLmZyb20pIHtcbiAgICAgICAgICBzdHJlYW1zID0gc3RyZWFtcy5zcGxpY2UoMSlcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChnaXRSYXdDb21taXRzT3B0cy5yZXZlcnNlKSB7XG4gICAgICAgICAgc3RyZWFtcy5yZXZlcnNlKClcbiAgICAgICAgfVxuXG4gICAgICAgIHN0cmVhbXMucmVkdWNlKChwcmV2LCBuZXh0KSA9PiBuZXh0LnBpcGUoYWRkU3RyZWFtKHByZXYpKSlcbiAgICAgICAgICAub24oJ2RhdGEnLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgc2V0SW1tZWRpYXRlKGNvbW1pdHNTdHJlYW0uZW1pdC5iaW5kKGNvbW1pdHNTdHJlYW0pLCAnZGF0YScsIGRhdGEpXG4gICAgICAgICAgfSlcbiAgICAgICAgICAub24oJ2VuZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHNldEltbWVkaWF0ZShjb21taXRzU3RyZWFtLmVtaXQuYmluZChjb21taXRzU3RyZWFtKSwgJ2VuZCcpXG4gICAgICAgICAgfSlcbiAgICAgIH0gY2F0Y2ggKF9lKSB7XG4gICAgICAgIGNvbW1pdHNTdHJlYW0gPSBnaXRSYXdDb21taXRzKGdpdFJhd0NvbW1pdHNPcHRzLCBnaXRSYXdFeGVjT3B0cylcbiAgICAgIH1cblxuICAgICAgY29tbWl0c1N0cmVhbVxuICAgICAgICAub24oJ2Vycm9yJywgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgIGVyci5tZXNzYWdlID0gJ0Vycm9yIGluIGdpdC1yYXctY29tbWl0czogJyArIGVyci5tZXNzYWdlXG4gICAgICAgICAgc2V0SW1tZWRpYXRlKHJlYWRhYmxlLmVtaXQuYmluZChyZWFkYWJsZSksICdlcnJvcicsIGVycilcbiAgICAgICAgfSlcbiAgICAgICAgLnBpcGUoY29udmVudGlvbmFsQ29tbWl0c1BhcnNlcihwYXJzZXJPcHRzKSlcbiAgICAgICAgLm9uKCdlcnJvcicsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICBlcnIubWVzc2FnZSA9ICdFcnJvciBpbiBjb252ZW50aW9uYWwtY29tbWl0cy1wYXJzZXI6ICcgKyBlcnIubWVzc2FnZVxuICAgICAgICAgIHNldEltbWVkaWF0ZShyZWFkYWJsZS5lbWl0LmJpbmQocmVhZGFibGUpLCAnZXJyb3InLCBlcnIpXG4gICAgICAgIH0pXG4gICAgICAgIC8vIGl0IHdvdWxkIGJlIGJldHRlciBpZiBgZ2l0UmF3Q29tbWl0c2AgY291bGQgc3BpdCBvdXQgYmV0dGVyIGZvcm1hdHRlZCBkYXRhXG4gICAgICAgIC8vIHNvIHdlIGRvbid0IG5lZWQgdG8gdHJhbnNmb3JtIGhlcmVcbiAgICAgICAgLnBpcGUodGhyb3VnaC5vYmooZnVuY3Rpb24gKGNodW5rLCBlbmMsIGNiKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIG9wdGlvbnMudHJhbnNmb3JtLmNhbGwodGhpcywgY2h1bmssIGNiKVxuICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgY2IoZXJyKVxuICAgICAgICAgIH1cbiAgICAgICAgfSkpXG4gICAgICAgIC5vbignZXJyb3InLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgZXJyLm1lc3NhZ2UgPSAnRXJyb3IgaW4gb3B0aW9ucy50cmFuc2Zvcm06ICcgKyBlcnIubWVzc2FnZVxuICAgICAgICAgIHNldEltbWVkaWF0ZShyZWFkYWJsZS5lbWl0LmJpbmQocmVhZGFibGUpLCAnZXJyb3InLCBlcnIpXG4gICAgICAgIH0pXG4gICAgICAgIC5waXBlKGNvbnZlbnRpb25hbENoYW5nZWxvZ1dyaXRlcihjb250ZXh0LCB3cml0ZXJPcHRzKSlcbiAgICAgICAgLm9uKCdlcnJvcicsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICBlcnIubWVzc2FnZSA9ICdFcnJvciBpbiBjb252ZW50aW9uYWwtY2hhbmdlbG9nLXdyaXRlcjogJyArIGVyci5tZXNzYWdlXG4gICAgICAgICAgc2V0SW1tZWRpYXRlKHJlYWRhYmxlLmVtaXQuYmluZChyZWFkYWJsZSksICdlcnJvcicsIGVycilcbiAgICAgICAgfSlcbiAgICAgICAgLnBpcGUodGhyb3VnaCh7XG4gICAgICAgICAgb2JqZWN0TW9kZTogd3JpdGVyT3B0cy5pbmNsdWRlRGV0YWlsc1xuICAgICAgICB9LCBmdW5jdGlvbiAoY2h1bmssIGVuYywgY2IpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmVhZGFibGUucHVzaChjaHVuaylcbiAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHNldEltbWVkaWF0ZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHRocm93IGVyclxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjYigpXG4gICAgICAgIH0sIGZ1bmN0aW9uIChjYikge1xuICAgICAgICAgIHJlYWRhYmxlLnB1c2gobnVsbClcblxuICAgICAgICAgIGNiKClcbiAgICAgICAgfSkpXG4gICAgfSlcbiAgICAuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgc2V0SW1tZWRpYXRlKHJlYWRhYmxlLmVtaXQuYmluZChyZWFkYWJsZSksICdlcnJvcicsIGVycilcbiAgICB9KVxuXG4gIHJldHVybiByZWFkYWJsZVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNvbnZlbnRpb25hbENoYW5nZWxvZ1xuIiwgIid1c2Ugc3RyaWN0J1xuXG5jb25zdCBjb252ZW50aW9uYWxDaGFuZ2Vsb2dDb3JlID0gcmVxdWlyZSgnY29udmVudGlvbmFsLWNoYW5nZWxvZy1jb3JlJylcbmNvbnN0IGNvbnZlbnRpb25hbENoYW5nZWxvZ1ByZXNldExvYWRlciA9IHJlcXVpcmUoJ2NvbnZlbnRpb25hbC1jaGFuZ2Vsb2ctcHJlc2V0LWxvYWRlcicpXG5cbmZ1bmN0aW9uIGNvbnZlbnRpb25hbENoYW5nZWxvZyAob3B0aW9ucywgY29udGV4dCwgZ2l0UmF3Q29tbWl0c09wdHMsIHBhcnNlck9wdHMsIHdyaXRlck9wdHMpIHtcbiAgb3B0aW9ucy53YXJuID0gb3B0aW9ucy53YXJuIHx8IGZ1bmN0aW9uICgpIHt9XG5cbiAgaWYgKG9wdGlvbnMucHJlc2V0KSB7XG4gICAgdHJ5IHtcbiAgICAgIG9wdGlvbnMuY29uZmlnID0gY29udmVudGlvbmFsQ2hhbmdlbG9nUHJlc2V0TG9hZGVyKG9wdGlvbnMucHJlc2V0KVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLnByZXNldCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgb3B0aW9ucy53YXJuKGBQcmVzZXQ6IFwiJHtvcHRpb25zLnByZXNldC5uYW1lfVwiICR7ZXJyLm1lc3NhZ2V9YClcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG9wdGlvbnMucHJlc2V0ID09PSAnc3RyaW5nJykge1xuICAgICAgICBvcHRpb25zLndhcm4oYFByZXNldDogXCIke29wdGlvbnMucHJlc2V0fVwiICR7ZXJyLm1lc3NhZ2V9YClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9wdGlvbnMud2FybihgUHJlc2V0OiAke2Vyci5tZXNzYWdlfWApXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGNvbnZlbnRpb25hbENoYW5nZWxvZ0NvcmUob3B0aW9ucywgY29udGV4dCwgZ2l0UmF3Q29tbWl0c09wdHMsIHBhcnNlck9wdHMsIHdyaXRlck9wdHMpXG59XG5cbm1vZHVsZS5leHBvcnRzID0gY29udmVudGlvbmFsQ2hhbmdlbG9nXG4iLCAiKGZ1bmN0aW9uKCkge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgZnMgPSByZXF1aXJlKCdmcycpLFxuICAgICAgU3RyaW5nRGVjb2RlciA9IHJlcXVpcmUoJ3N0cmluZ19kZWNvZGVyJykuU3RyaW5nRGVjb2RlcjtcblxuICBmdW5jdGlvbiBMaW5lUmVhZGVyKGZkLCBjYiwgc2VwYXJhdG9yLCBlbmNvZGluZywgYnVmZmVyU2l6ZSkge1xuICAgIHZhciBmaWxlUG9zaXRpb24gICA9IDAsXG4gICAgICAgIGVuY29kaW5nICAgICAgID0gZW5jb2RpbmcgfHwgJ3V0ZjgnLFxuICAgICAgICBzZXBhcmF0b3IgICAgICA9IHNlcGFyYXRvciB8fCAnXFxuJyxcbiAgICAgICAgYnVmZmVyU2l6ZSAgICAgPSBidWZmZXJTaXplIHx8IDEwMjQsXG4gICAgICAgIGJ1ZmZlciAgICAgICAgID0gbmV3IEJ1ZmZlcihidWZmZXJTaXplKSxcbiAgICAgICAgYnVmZmVyU3RyICAgICAgPSAnJyxcbiAgICAgICAgZGVjb2RlciAgICAgICAgPSBuZXcgU3RyaW5nRGVjb2RlcihlbmNvZGluZyksXG4gICAgICAgIGNsb3NlZCAgICAgICAgID0gZmFsc2UsXG4gICAgICAgIGVvZiAgICAgICAgICAgID0gZmFsc2UsXG4gICAgICAgIHNlcGFyYXRvckluZGV4ID0gLTE7XG5cbiAgICBmdW5jdGlvbiBjbG9zZSgpIHtcbiAgICAgIGlmICghY2xvc2VkKSB7XG4gICAgICAgIGZzLmNsb3NlKGZkLCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgY2xvc2VkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZWFkVG9TZXBhcmF0b3IoY2IpIHtcbiAgICAgIGZ1bmN0aW9uIHJlYWRDaHVuaygpIHtcbiAgICAgICAgZnMucmVhZChmZCwgYnVmZmVyLCAwLCBidWZmZXJTaXplLCBmaWxlUG9zaXRpb24sIGZ1bmN0aW9uKGVyciwgYnl0ZXNSZWFkKSB7XG4gICAgICAgICAgdmFyIHNlcGFyYXRvckF0RW5kO1xuXG4gICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChieXRlc1JlYWQgPCBidWZmZXJTaXplKSB7XG4gICAgICAgICAgICBlb2YgPSB0cnVlO1xuICAgICAgICAgICAgY2xvc2UoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBmaWxlUG9zaXRpb24gKz0gYnl0ZXNSZWFkO1xuXG4gICAgICAgICAgYnVmZmVyU3RyICs9IGRlY29kZXIud3JpdGUoYnVmZmVyLnNsaWNlKDAsIGJ5dGVzUmVhZCkpO1xuXG4gICAgICAgICAgaWYgKHNlcGFyYXRvckluZGV4IDwgMCkge1xuICAgICAgICAgICAgc2VwYXJhdG9ySW5kZXggPSBidWZmZXJTdHIuaW5kZXhPZihzZXBhcmF0b3IpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHNlcGFyYXRvckF0RW5kID0gc2VwYXJhdG9ySW5kZXggPT09IGJ1ZmZlclN0ci5sZW5ndGggLSAxO1xuICAgICAgICAgIGlmIChieXRlc1JlYWQgJiYgKHNlcGFyYXRvckluZGV4ID09PSAtMSB8fCBzZXBhcmF0b3JBdEVuZCkgJiYgIWVvZikge1xuICAgICAgICAgICAgcmVhZENodW5rKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNiKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmVhZENodW5rKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFzTmV4dExpbmUoKSB7XG4gICAgICByZXR1cm4gYnVmZmVyU3RyLmxlbmd0aCA+IDAgfHwgIWVvZjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBuZXh0TGluZShjYikge1xuICAgICAgZnVuY3Rpb24gZ2V0TGluZSgpIHtcbiAgICAgICAgdmFyIHJldCA9IGJ1ZmZlclN0ci5zdWJzdHJpbmcoMCwgc2VwYXJhdG9ySW5kZXgpO1xuXG4gICAgICAgIGJ1ZmZlclN0ciA9IGJ1ZmZlclN0ci5zdWJzdHJpbmcoc2VwYXJhdG9ySW5kZXggKyBzZXBhcmF0b3IubGVuZ3RoKTtcbiAgICAgICAgc2VwYXJhdG9ySW5kZXggPSAtMTtcbiAgICAgICAgY2IocmV0KTtcbiAgICAgIH1cblxuICAgICAgaWYgKHNlcGFyYXRvckluZGV4IDwgMCkge1xuICAgICAgICBzZXBhcmF0b3JJbmRleCA9IGJ1ZmZlclN0ci5pbmRleE9mKHNlcGFyYXRvcik7XG4gICAgICB9XG5cbiAgICAgIGlmIChzZXBhcmF0b3JJbmRleCA8IDApIHtcbiAgICAgICAgaWYgKGVvZikge1xuICAgICAgICAgIGlmIChoYXNOZXh0TGluZSgpKSB7XG4gICAgICAgICAgICBzZXBhcmF0b3JJbmRleCA9IGJ1ZmZlclN0ci5sZW5ndGg7XG4gICAgICAgICAgICBnZXRMaW5lKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gbW9yZSBsaW5lcyB0byByZWFkLicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZWFkVG9TZXBhcmF0b3IoZ2V0TGluZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGdldExpbmUoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmhhc05leHRMaW5lID0gaGFzTmV4dExpbmU7XG4gICAgdGhpcy5uZXh0TGluZSA9IG5leHRMaW5lO1xuICAgIHRoaXMuY2xvc2UgPSBjbG9zZTtcblxuICAgIHJlYWRUb1NlcGFyYXRvcihjYik7XG4gIH1cblxuICBmdW5jdGlvbiBvcGVuKGZpbGVuYW1lLCBjYiwgc2VwYXJhdG9yLCBlbmNvZGluZywgYnVmZmVyU2l6ZSkge1xuICAgIGZzLm9wZW4oZmlsZW5hbWUsICdyJywgcGFyc2VJbnQoJzY2NicsIDgpLCBmdW5jdGlvbihlcnIsIGZkKSB7XG4gICAgICB2YXIgcmVhZGVyO1xuICAgICAgaWYgKGVycikge1xuICAgICAgICB0aHJvdyBlcnI7XG4gICAgICB9XG5cbiAgICAgIHJlYWRlciA9IG5ldyBMaW5lUmVhZGVyKGZkLCBmdW5jdGlvbigpIHtcbiAgICAgICAgY2IocmVhZGVyKTtcbiAgICAgIH0sIHNlcGFyYXRvciwgZW5jb2RpbmcsIGJ1ZmZlclNpemUpO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZWFjaExpbmUoZmlsZW5hbWUsIGNiLCBzZXBhcmF0b3IsIGVuY29kaW5nLCBidWZmZXJTaXplKSB7XG4gICAgdmFyIGZpbmFsRm4sXG4gICAgICAgIGFzeW5jQ2IgPSBjYi5sZW5ndGggPT0gMztcblxuICAgIGZ1bmN0aW9uIGZpbmlzaCgpIHtcbiAgICAgIGlmIChmaW5hbEZuICYmIHR5cGVvZiBmaW5hbEZuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGZpbmFsRm4oKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBvcGVuKGZpbGVuYW1lLCBmdW5jdGlvbihyZWFkZXIpIHtcbiAgICAgIGZ1bmN0aW9uIG5ld1JlYWQoKSB7XG4gICAgICAgIGlmIChyZWFkZXIuaGFzTmV4dExpbmUoKSkge1xuICAgICAgICAgIHNldEltbWVkaWF0ZShyZWFkTmV4dCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZmluaXNoKCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gY29udGludWVDYihjb250aW51ZVJlYWRpbmcpIHtcbiAgICAgICAgaWYgKGNvbnRpbnVlUmVhZGluZyAhPT0gZmFsc2UpIHtcbiAgICAgICAgICBuZXdSZWFkKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZmluaXNoKCk7XG4gICAgICAgICAgcmVhZGVyLmNsb3NlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gcmVhZE5leHQoKSB7XG4gICAgICAgIHJlYWRlci5uZXh0TGluZShmdW5jdGlvbihsaW5lKSB7XG4gICAgICAgICAgdmFyIGxhc3QgPSAhcmVhZGVyLmhhc05leHRMaW5lKCk7XG5cbiAgICAgICAgICBpZiAoYXN5bmNDYikge1xuICAgICAgICAgICAgY2IobGluZSwgbGFzdCwgY29udGludWVDYik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChjYihsaW5lLCBsYXN0KSAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgbmV3UmVhZCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZmluaXNoKCk7XG4gICAgICAgICAgICAgIHJlYWRlci5jbG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIG5ld1JlYWQoKTtcbiAgICB9LCBzZXBhcmF0b3IsIGVuY29kaW5nLCBidWZmZXJTaXplKTtcblxuICAgIHJldHVybiB7XG4gICAgICB0aGVuOiBmdW5jdGlvbihjYikge1xuICAgICAgICBmaW5hbEZuID0gY2I7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIG1vZHVsZS5leHBvcnRzLm9wZW4gPSBvcGVuO1xuICBtb2R1bGUuZXhwb3J0cy5lYWNoTGluZSA9IGVhY2hMaW5lO1xufSgpKTtcbiIsICJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG1kLCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICBvcHRpb25zLmxpc3RVbmljb2RlQ2hhciA9IG9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ2xpc3RVbmljb2RlQ2hhcicpID8gb3B0aW9ucy5saXN0VW5pY29kZUNoYXIgOiBmYWxzZTtcbiAgb3B0aW9ucy5zdHJpcExpc3RMZWFkZXJzID0gb3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnc3RyaXBMaXN0TGVhZGVycycpID8gb3B0aW9ucy5zdHJpcExpc3RMZWFkZXJzIDogdHJ1ZTtcbiAgb3B0aW9ucy5nZm0gPSBvcHRpb25zLmhhc093blByb3BlcnR5KCdnZm0nKSA/IG9wdGlvbnMuZ2ZtIDogdHJ1ZTtcblxuICB2YXIgb3V0cHV0ID0gbWQgfHwgJyc7XG5cbiAgLy8gUmVtb3ZlIGhvcml6b250YWwgcnVsZXMgKHN0cmlwTGlzdEhlYWRlcnMgY29uZmxpY3Qgd2l0aCB0aGlzIHJ1bGUsIHdoaWNoIGlzIHdoeSBpdCBoYXMgYmVlbiBtb3ZlZCB0byB0aGUgdG9wKVxuICBvdXRwdXQgPSBvdXRwdXQucmVwbGFjZSgvXigtXFxzKj98XFwqXFxzKj98X1xccyo/KXszLH1cXHMqJC9nbSwgJycpO1xuXG4gIHRyeSB7XG4gICAgaWYgKG9wdGlvbnMuc3RyaXBMaXN0TGVhZGVycykge1xuICAgICAgaWYgKG9wdGlvbnMubGlzdFVuaWNvZGVDaGFyKVxuICAgICAgICBvdXRwdXQgPSBvdXRwdXQucmVwbGFjZSgvXihbXFxzXFx0XSopKFtcXCpcXC1cXCtdfFxcZCtcXC4pXFxzKy9nbSwgb3B0aW9ucy5saXN0VW5pY29kZUNoYXIgKyAnICQxJyk7XG4gICAgICBlbHNlXG4gICAgICAgIG91dHB1dCA9IG91dHB1dC5yZXBsYWNlKC9eKFtcXHNcXHRdKikoW1xcKlxcLVxcK118XFxkK1xcLilcXHMrL2dtLCAnJDEnKTtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMuZ2ZtKSB7XG4gICAgICBvdXRwdXQgPSBvdXRwdXRcbiAgICAgICAgLy8gSGVhZGVyXG4gICAgICAgIC5yZXBsYWNlKC9cXG49ezIsfS9nLCAnXFxuJylcbiAgICAgICAgLy8gU3RyaWtldGhyb3VnaFxuICAgICAgICAucmVwbGFjZSgvfn4vZywgJycpXG4gICAgICAgIC8vIEZlbmNlZCBjb2RlYmxvY2tzXG4gICAgICAgIC5yZXBsYWNlKC9gezN9LipcXG4vZywgJycpO1xuICAgIH1cbiAgICBvdXRwdXQgPSBvdXRwdXRcbiAgICAgIC8vIFJlbW92ZSBIVE1MIHRhZ3NcbiAgICAgIC5yZXBsYWNlKC88W14+XSo+L2csICcnKVxuICAgICAgLy8gUmVtb3ZlIHNldGV4dC1zdHlsZSBoZWFkZXJzXG4gICAgICAucmVwbGFjZSgvXls9XFwtXXsyLH1cXHMqJC9nLCAnJylcbiAgICAgIC8vIFJlbW92ZSBmb290bm90ZXM/XG4gICAgICAucmVwbGFjZSgvXFxbXFxeLis/XFxdKFxcOiAuKj8kKT8vZywgJycpXG4gICAgICAucmVwbGFjZSgvXFxzezAsMn1cXFsuKj9cXF06IC4qPyQvZywgJycpXG4gICAgICAvLyBSZW1vdmUgaW1hZ2VzXG4gICAgICAucmVwbGFjZSgvXFwhXFxbLio/XFxdW1xcW1xcKF0uKj9bXFxdXFwpXS9nLCAnJylcbiAgICAgIC8vIFJlbW92ZSBpbmxpbmUgbGlua3NcbiAgICAgIC5yZXBsYWNlKC9cXFsoLio/KVxcXVtcXFtcXChdLio/W1xcXVxcKV0vZywgJyQxJylcbiAgICAgIC8vIFJlbW92ZSBibG9ja3F1b3Rlc1xuICAgICAgLnJlcGxhY2UoL15cXHN7MCwzfT5cXHM/L2csICcnKVxuICAgICAgLy8gUmVtb3ZlIHJlZmVyZW5jZS1zdHlsZSBsaW5rcz9cbiAgICAgIC5yZXBsYWNlKC9eXFxzezEsMn1cXFsoLio/KVxcXTogKFxcUyspKCBcIi4qP1wiKT9cXHMqJC9nLCAnJylcbiAgICAgIC8vIFJlbW92ZSBhdHgtc3R5bGUgaGVhZGVyc1xuICAgICAgLnJlcGxhY2UoL14oXFxuKT9cXHN7MCx9I3sxLDZ9XFxzK3wgezAsfShcXG4pP1xcc3swLH0jezAsfSB7MCx9KFxcbik/XFxzezAsfSQvZ20sICckMSQyJDMnKVxuICAgICAgLy8gUmVtb3ZlIGVtcGhhc2lzIChyZXBlYXQgdGhlIGxpbmUgdG8gcmVtb3ZlIGRvdWJsZSBlbXBoYXNpcylcbiAgICAgIC5yZXBsYWNlKC8oW1xcKl9dezEsM30pKFxcUy4qP1xcU3swLDF9KVxcMS9nLCAnJDInKVxuICAgICAgLnJlcGxhY2UoLyhbXFwqX117MSwzfSkoXFxTLio/XFxTezAsMX0pXFwxL2csICckMicpXG4gICAgICAvLyBSZW1vdmUgY29kZSBibG9ja3NcbiAgICAgIC5yZXBsYWNlKC8oYHszLH0pKC4qPylcXDEvZ20sICckMicpXG4gICAgICAvLyBSZW1vdmUgaW5saW5lIGNvZGVcbiAgICAgIC5yZXBsYWNlKC9gKC4rPylgL2csICckMScpXG4gICAgICAvLyBSZXBsYWNlIHR3byBvciBtb3JlIG5ld2xpbmVzIHdpdGggZXhhY3RseSB0d28/IE5vdCBlbnRpcmVseSBzdXJlIHRoaXMgYmVsb25ncyBoZXJlLi4uXG4gICAgICAucmVwbGFjZSgvXFxuezIsfS9nLCAnXFxuXFxuJyk7XG4gIH0gY2F0Y2goZSkge1xuICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgcmV0dXJuIG1kO1xuICB9XG4gIHJldHVybiBvdXRwdXQ7XG59O1xuIiwgImNvbnN0IEVPTCA9IHJlcXVpcmUoJ29zJykuRU9MXG5jb25zdCBsaW5lUmVhZGVyID0gcmVxdWlyZSgnbGluZS1yZWFkZXInKVxuY29uc3QgcmVtb3ZlTWFya2Rvd24gPSByZXF1aXJlKCdyZW1vdmUtbWFya2Rvd24nKVxuXG4vLyBwYXR0ZXJuc1xuY29uc3Qgc2VtdmVyID0gL1xcWz92PyhbXFx3XFxkLi1dK1xcLltcXHdcXGQuLV0rW2EtekEtWjAtOV0pXFxdPy9cbmNvbnN0IGRhdGUgPSAvLipbIF0oXFxkXFxkP1xcZD9cXGQ/Wy0vLl1cXGRcXGQ/Wy0vLl1cXGRcXGQ/XFxkP1xcZD8pLiovXG5jb25zdCBzdWJoZWFkID0gL14jIyMvXG5jb25zdCBsaXN0aXRlbSA9IC9eWyotXS9cblxuY29uc3QgZGVmYXVsdE9wdGlvbnMgPSB7IHJlbW92ZU1hcmtkb3duOiB0cnVlIH1cblxuLyoqXG4gKiBDaGFuZ2Vsb2cgcGFyc2VyLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfG9iamVjdH0gb3B0aW9ucyAtIGNoYW5nZWxvZyBmaWxlIHN0cmluZyBvciBvcHRpb25zIG9iamVjdCBjb250YWluaW5nIGZpbGUgc3RyaW5nXG4gKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMuZmlsZVBhdGhdIC0gcGF0aCB0byBjaGFuZ2Vsb2cgZmlsZVxuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnRleHRdIC0gY2hhbmdlbG9nIHRleHQgKGZpbGVQYXRoIGFsdGVybmF0aXZlKVxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5yZW1vdmVNYXJrZG93bj10cnVlXSAtIGNoYW5nZWxvZyBmaWxlIHN0cmluZyB0byBwYXJzZVxuICogQHBhcmFtIHtmdW5jdGlvbn0gW2NhbGxiYWNrXSAtIG9wdGlvbmFsIGNhbGxiYWNrXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxvYmplY3Q+fSAtIHBhcnNlZCBjaGFuZ2Vsb2cgb2JqZWN0XG4gKi9cbmZ1bmN0aW9uIHBhcnNlQ2hhbmdlbG9nIChvcHRpb25zLCBjYWxsYmFjaykge1xuICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICd1bmRlZmluZWQnKSB0aHJvdyBuZXcgRXJyb3IoJ21pc3Npbmcgb3B0aW9ucyBhcmd1bWVudCcpXG4gIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ3N0cmluZycpIG9wdGlvbnMgPSB7IGZpbGVQYXRoOiBvcHRpb25zIH1cbiAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnb2JqZWN0Jykge1xuICAgIGNvbnN0IGhhc0ZpbGVQYXRoID0gdHlwZW9mIG9wdGlvbnMuZmlsZVBhdGggIT09ICd1bmRlZmluZWQnXG4gICAgY29uc3QgaGFzVGV4dCA9IHR5cGVvZiBvcHRpb25zLnRleHQgIT09ICd1bmRlZmluZWQnXG4gICAgY29uc3QgaW52YWxpZEZpbGVQYXRoID0gdHlwZW9mIG9wdGlvbnMuZmlsZVBhdGggIT09ICdzdHJpbmcnXG4gICAgY29uc3QgaW52YWxpZFRleHQgPSB0eXBlb2Ygb3B0aW9ucy50ZXh0ICE9PSAnc3RyaW5nJ1xuXG4gICAgaWYgKCFoYXNGaWxlUGF0aCAmJiAhaGFzVGV4dCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdtdXN0IHByb3ZpZGUgZmlsZVBhdGggb3IgdGV4dCcpXG4gICAgfVxuXG4gICAgaWYgKGhhc0ZpbGVQYXRoICYmIGludmFsaWRGaWxlUGF0aCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIGZpbGVQYXRoLCBleHBlY3RlZCBzdHJpbmcnKVxuICAgIH1cblxuICAgIGlmIChoYXNUZXh0ICYmIGludmFsaWRUZXh0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgdGV4dCwgZXhwZWN0ZWQgc3RyaW5nJylcbiAgICB9XG4gIH1cblxuICBjb25zdCBvcHRzID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdE9wdGlvbnMsIG9wdGlvbnMpXG4gIGNvbnN0IGNoYW5nZWxvZyA9IHBhcnNlKG9wdHMpXG5cbiAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNoYW5nZWxvZ1xuICAgICAgLnRoZW4oZnVuY3Rpb24gKGxvZykgeyBjYWxsYmFjayhudWxsLCBsb2cpIH0pXG4gICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycikgeyBjYWxsYmFjayhlcnIpIH0pXG4gIH1cblxuICAvLyBvdGhlcndpc2UsIGludm9rZSBjYWxsYmFja1xuICByZXR1cm4gY2hhbmdlbG9nXG59XG5cbi8qKlxuICogSW50ZXJuYWwgcGFyc2luZyBsb2dpYy5cbiAqXG4gKiBAcGFyYW0ge29wdGlvbnN9IG9wdGlvbnMgLSBvcHRpb25zIG9iamVjdFxuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmZpbGVQYXRoXSAtIHBhdGggdG8gY2hhbmdlbG9nIGZpbGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy50ZXh0XSAtIGNoYW5nZWxvZyB0ZXh0IChmaWxlUGF0aCBhbHRlcm5hdGl2ZSlcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMucmVtb3ZlTWFya2Rvd25dIC0gcmVtb3ZlIG1hcmtkb3duXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxvYmplY3Q+fSAtIHBhcnNlZCBjaGFuZ2Vsb2cgb2JqZWN0XG4gKi9cbmZ1bmN0aW9uIHBhcnNlIChvcHRpb25zKSB7XG4gIGNvbnN0IGZpbGVQYXRoID0gb3B0aW9ucy5maWxlUGF0aFxuICBjb25zdCB0ZXh0ID0gb3B0aW9ucy50ZXh0XG4gIGNvbnN0IGRhdGEgPSB7XG4gICAgbG9nOiB7IHZlcnNpb25zOiBbXSB9LFxuICAgIGN1cnJlbnQ6IG51bGxcbiAgfVxuXG4gIC8vIGFsbG93IGBoYW5kbGVMaW5lYCB0byBtdXRhdGUgbG9nL2N1cnJlbnQgZGF0YSBhcyBgdGhpc2AuXG4gIGNvbnN0IGNiID0gaGFuZGxlTGluZS5iaW5kKGRhdGEsIG9wdGlvbnMpXG5cbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBmdW5jdGlvbiBkb25lICgpIHtcbiAgICAgIC8vIHB1c2ggbGFzdCB2ZXJzaW9uIGludG8gbG9nXG4gICAgICBpZiAoZGF0YS5jdXJyZW50KSB7XG4gICAgICAgIHB1c2hDdXJyZW50KGRhdGEpXG4gICAgICB9XG5cbiAgICAgIC8vIGNsZWFuIHVwIGRlc2NyaXB0aW9uXG4gICAgICBkYXRhLmxvZy5kZXNjcmlwdGlvbiA9IGNsZWFuKGRhdGEubG9nLmRlc2NyaXB0aW9uKVxuICAgICAgaWYgKGRhdGEubG9nLmRlc2NyaXB0aW9uID09PSAnJykgZGVsZXRlIGRhdGEubG9nLmRlc2NyaXB0aW9uXG5cbiAgICAgIHJlc29sdmUoZGF0YS5sb2cpXG4gICAgfVxuXG4gICAgaWYgKHRleHQpIHtcbiAgICAgIHRleHQuc3BsaXQoL1xcclxcbj98XFxuL21nKS5mb3JFYWNoKGNiKVxuICAgICAgZG9uZSgpXG4gICAgfSBlbHNlIHtcbiAgICAgIGxpbmVSZWFkZXIuZWFjaExpbmUoZmlsZVBhdGgsIGNiLCBFT0wpLnRoZW4oZG9uZSlcbiAgICB9XG4gIH0pXG59XG5cbi8qKlxuICogSGFuZGxlcyBlYWNoIGxpbmUgYW5kIG11dGF0ZXMgZGF0YSBvYmplY3QgKGJvdW5kIHRvIGB0aGlzYCkgYXMgbmVlZGVkLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIC0gb3B0aW9ucyBvYmplY3RcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gb3B0aW9ucy5yZW1vdmVNYXJrZG93biAtIHdoZXRoZXIgb3Igbm90IHRvIHJlbW92ZSBtYXJrZG93blxuICogQHBhcmFtIHtzdHJpbmd9IGxpbmUgLSBsaW5lIGZyb20gY2hhbmdlbG9nIGZpbGVcbiAqL1xuZnVuY3Rpb24gaGFuZGxlTGluZSAob3B0aW9ucywgbGluZSkge1xuICAvLyBza2lwIGxpbmUgaWYgaXQncyBhIGxpbmsgbGFiZWxcbiAgaWYgKGxpbmUubWF0Y2goL15cXFtbXltcXF1dKlxcXSAqPzovKSkgcmV0dXJuXG5cbiAgLy8gc2V0IHRpdGxlIGlmIGl0J3MgdGhlcmVcbiAgaWYgKCF0aGlzLmxvZy50aXRsZSAmJiBsaW5lLm1hdGNoKC9eIyA/W14jXS8pKSB7XG4gICAgdGhpcy5sb2cudGl0bGUgPSBsaW5lLnN1YnN0cmluZygxKS50cmltKClcbiAgICByZXR1cm5cbiAgfVxuXG4gIC8vIG5ldyB2ZXJzaW9uIGZvdW5kIVxuICBpZiAobGluZS5tYXRjaCgvXiMjPyA/W14jXS8pKSB7XG4gICAgaWYgKHRoaXMuY3VycmVudCAmJiB0aGlzLmN1cnJlbnQudGl0bGUpIHB1c2hDdXJyZW50KHRoaXMpXG5cbiAgICB0aGlzLmN1cnJlbnQgPSB2ZXJzaW9uRmFjdG9yeSgpXG5cbiAgICBpZiAoc2VtdmVyLmV4ZWMobGluZSkpIHRoaXMuY3VycmVudC52ZXJzaW9uID0gc2VtdmVyLmV4ZWMobGluZSlbMV1cblxuICAgIHRoaXMuY3VycmVudC50aXRsZSA9IGxpbmUuc3Vic3RyaW5nKDIpLnRyaW0oKVxuXG4gICAgaWYgKHRoaXMuY3VycmVudC50aXRsZSAmJiBkYXRlLmV4ZWModGhpcy5jdXJyZW50LnRpdGxlKSkgdGhpcy5jdXJyZW50LmRhdGUgPSBkYXRlLmV4ZWModGhpcy5jdXJyZW50LnRpdGxlKVsxXVxuXG4gICAgcmV0dXJuXG4gIH1cblxuICAvLyBkZWFsIHdpdGggYm9keSBvciBkZXNjcmlwdGlvbiBjb250ZW50XG4gIGlmICh0aGlzLmN1cnJlbnQpIHtcbiAgICB0aGlzLmN1cnJlbnQuYm9keSArPSBsaW5lICsgRU9MXG5cbiAgICAvLyBoYW5kbGUgY2FzZSB3aGVyZSBjdXJyZW50IGxpbmUgaXMgYSAnc3ViaGVhZCc6XG4gICAgLy8gLSAnaGFuZGxlaXplJyBzdWJoZWFkLlxuICAgIC8vIC0gYWRkIHN1YmhlYWQgdG8gJ3BhcnNlZCcgZGF0YSBpZiBub3QgYWxyZWFkeSBwcmVzZW50LlxuICAgIGlmIChzdWJoZWFkLmV4ZWMobGluZSkpIHtcbiAgICAgIGNvbnN0IGtleSA9IGxpbmUucmVwbGFjZSgnIyMjJywgJycpLnRyaW0oKVxuXG4gICAgICBpZiAoIXRoaXMuY3VycmVudC5wYXJzZWRba2V5XSkge1xuICAgICAgICB0aGlzLmN1cnJlbnQucGFyc2VkW2tleV0gPSBbXVxuICAgICAgICB0aGlzLmN1cnJlbnQuX3ByaXZhdGUuYWN0aXZlU3ViaGVhZCA9IGtleVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGhhbmRsZSBjYXNlIHdoZXJlIGN1cnJlbnQgbGluZSBpcyBhICdsaXN0IGl0ZW0nOlxuICAgIGlmIChsaXN0aXRlbS5leGVjKGxpbmUpKSB7XG4gICAgICBjb25zdCBsb2cgPSBvcHRpb25zLnJlbW92ZU1hcmtkb3duID8gcmVtb3ZlTWFya2Rvd24obGluZSkgOiBsaW5lXG4gICAgICAvLyBhZGQgbGluZSB0byAnY2F0Y2ggYWxsJyBhcnJheVxuICAgICAgdGhpcy5jdXJyZW50LnBhcnNlZC5fLnB1c2gobG9nKVxuXG4gICAgICAvLyBhZGQgbGluZSB0byAnYWN0aXZlIHN1YmhlYWQnIGlmIGFwcGxpY2FibGUgKGVnLiAnQWRkZWQnLCAnQ2hhbmdlZCcsIGV0Yy4pXG4gICAgICBpZiAodGhpcy5jdXJyZW50Ll9wcml2YXRlLmFjdGl2ZVN1YmhlYWQpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50LnBhcnNlZFt0aGlzLmN1cnJlbnQuX3ByaXZhdGUuYWN0aXZlU3ViaGVhZF0ucHVzaChsb2cpXG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHRoaXMubG9nLmRlc2NyaXB0aW9uID0gKHRoaXMubG9nLmRlc2NyaXB0aW9uIHx8ICcnKSArIGxpbmUgKyBFT0xcbiAgfVxufVxuXG5mdW5jdGlvbiB2ZXJzaW9uRmFjdG9yeSAoKSB7XG4gIHJldHVybiB7XG4gICAgdmVyc2lvbjogbnVsbCxcbiAgICB0aXRsZTogbnVsbCxcbiAgICBkYXRlOiBudWxsLFxuICAgIGJvZHk6ICcnLFxuICAgIHBhcnNlZDoge1xuICAgICAgXzogW11cbiAgICB9LFxuICAgIF9wcml2YXRlOiB7XG4gICAgICBhY3RpdmVTdWJoZWFkOiBudWxsXG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHB1c2hDdXJyZW50IChkYXRhKSB7XG4gIC8vIHJlbW92ZSBwcml2YXRlIHByb3BlcnRpZXNcbiAgZGVsZXRlIGRhdGEuY3VycmVudC5fcHJpdmF0ZVxuXG4gIGRhdGEuY3VycmVudC5ib2R5ID0gY2xlYW4oZGF0YS5jdXJyZW50LmJvZHkpXG4gIGRhdGEubG9nLnZlcnNpb25zLnB1c2goZGF0YS5jdXJyZW50KVxufVxuXG5mdW5jdGlvbiBjbGVhbiAoc3RyKSB7XG4gIGlmICghc3RyKSByZXR1cm4gJydcblxuICAvLyB0cmltXG4gIHN0ciA9IHN0ci50cmltKClcbiAgLy8gcmVtb3ZlIGxlYWRpbmcgbmV3bGluZXNcbiAgc3RyID0gc3RyLnJlcGxhY2UobmV3IFJlZ0V4cCgnWycgKyBFT0wgKyAnXSonKSwgJycpXG4gIC8vIHJlbW92ZSB0cmFpbGluZyBuZXdsaW5lc1xuICBzdHIgPSBzdHIucmVwbGFjZShuZXcgUmVnRXhwKCdbJyArIEVPTCArICddKiQnKSwgJycpXG5cbiAgcmV0dXJuIHN0clxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHBhcnNlQ2hhbmdlbG9nXG4iLCAiaW1wb3J0IHsgcGx1Z2luIH0gZnJvbSAnLi9wbHVnaW4nO1xuXG5leHBvcnQgZGVmYXVsdCBwbHVnaW47XG5cbmV4cG9ydCAqIGZyb20gJy4vdHlwZXMnO1xuZXhwb3J0ICogZnJvbSAnLi9jb21tYW5kcyc7XG5leHBvcnQgKiBmcm9tICcuL3V0aWxzJzsiLCAiaW1wb3J0IHsgQ29tbWFuZENvbnRleHQsIENvbmZpZ3VyYXRpb24sIENvbmZpZ3VyYXRpb25EZWZpbml0aW9uTWFwLCBMb2NhdG9yLCBNZXNzYWdlTmFtZSwgUHJvamVjdCwgUmVwb3J0LCBTZXR0aW5nc1R5cGUsIFN0cmVhbVJlcG9ydCwgV29ya3NwYWNlIH0gZnJvbSBcIkB5YXJucGtnL2NvcmVcIjtcbmltcG9ydCB7IFVzYWdlRXJyb3IgfSBmcm9tIFwiY2xpcGFuaW9uXCI7XG5pbXBvcnQgeyBCcmFuY2hUeXBlLCBHaXRWZXJzaW9uQnJhbmNoIH0gZnJvbSBcIi4uL3R5cGVzXCI7XG5pbXBvcnQgeyBjdXJyZW50QnJhbmNoIH0gZnJvbSBcIi4vZ2l0XCI7XG5cbmV4cG9ydCBjb25zdCBERUZBVUxUX1JFUE9fVkVSU0lPTiA9ICcwLjAuMCc7XG5cblxuZXhwb3J0IGNsYXNzIEdpdFZlcnNpb25Db25maWd1cmF0aW9uIHtcblxuICBzdGF0aWMgZGVmaW5pdGlvbiA6IFBhcnRpYWw8Q29uZmlndXJhdGlvbkRlZmluaXRpb25NYXA+ID0ge1xuICAgIGZlYXR1cmVCcmFuY2hQYXR0ZXJuczoge1xuICAgICAgZGVzY3JpcHRpb246IGBGZWF0dXJlIGJyYW5jaGVzLiBUaGlzIHdpbGwgYXBwbHkgdGhlIGZvbGxvd2luZyBydWxlcyB0byBidW1wczpcbiAgLSB2ZXJzaW9uIHBhdHRlcm46ICd4LngueC08PGZlYXR1cmU+Pi48PGluY3JlbWVudD4+J1xuICAtIGFsd2F5cyBpbmNyZW1lbnQgb24gZWFjaCBjb21taXRcbiAgLSBubyBjaGVja2luZyBmb3IgY29udmVudGlvbmFsIGNvbW1pdHMgaW4gZ2l0IGhpc3RvcnlcbiAgLSBwdWJsaXNoIG9uIG5wbSBjaGFubmVsICc8PGZlYXR1cmU+PidgLFxuICAgICAgaXNBcnJheTogdHJ1ZSxcbiAgICAgIHR5cGU6IFNldHRpbmdzVHlwZS5TVFJJTkcsXG4gICAgICBkZWZhdWx0OiBbXG4gICAgICAgICdeZmVhdHVyZS8oLiopJCdcbiAgICAgIF1cbiAgICB9LFxuICAgIHJlbGVhc2VCcmFuY2hQYXR0ZXJuczoge1xuICAgICAgZGVzY3JpcHRpb246IGBSZWxlYXNlIGJyYW5jaGVzLiBUaGlzIHdpbGwgYXBwbHkgdGhlIGZvbGxvd2luZyBydWxlcyB0byBidW1wczpcbiAgLSBPZmZpY2lhbCByZWxlYXNlIGNoYW5uZWxzXG4gIC0gQ29udmVudGlvbmFsIGNvbW1pdHMgZW5hYmxlZFxuICAtIHB1Ymxpc2ggb24gbnBtIGNoYW5uZWwgJzw8cmVsZWFzZT4+J2AsXG4gICAgICBpc0FycmF5OiB0cnVlLFxuICAgICAgdHlwZTogU2V0dGluZ3NUeXBlLlNUUklORyxcbiAgICAgIGRlZmF1bHQ6IFtcbiAgICAgICAgJ15yZWxlYXNlLyguKikkJ1xuICAgICAgXVxuICAgIH0sXG4gICAgbWFpbkJyYW5jaDoge1xuICAgICAgZGVzY3JpcHRpb246IGBUaGUgbWFpbiBicmFuY2guIFRoaXMgaXMgdGhlIG9mZmljaWFsIGNoYW5uZWwgYW5kIHdpbGwgcHJvZHVjZSBucG0gcGFja2FnZXMgd2l0aCB0aGUgbGF0ZXMgbnBtIGRpc3R0YWdgLFxuICAgICAgdHlwZTogU2V0dGluZ3NUeXBlLlNUUklORyxcbiAgICAgIGRlZmF1bHQ6ICdtYWluJ1xuICAgIH0sXG4gICAgaW5kZXBlbmRlbnRWZXJzaW9uaW5nOiB7XG4gICAgICBkZXNjcmlwdGlvbjogJ1doZW4gaW5kZXBlbmRlbnQgdmVyc2lvbmluZyBpcyBlbmFibGVkIGVhY2ggcGFja2FnZSB3aWxsIGhhdmUgYSBkaWZmZXJlbnQgdmVyc2lvbiBiYXNlZCBvbiB0aGUgY29tbWl0cyBpbiB0aGUgcGFja2FnZSBmb2xkZXInLFxuICAgICAgdHlwZTogU2V0dGluZ3NUeXBlLkJPT0xFQU4sXG4gICAgICBkZWZhdWx0OiBmYWxzZVxuICAgIH0sXG4gICAgdmVyc2lvblRhZ1ByZWZpeDoge1xuICAgICAgZGVzY3JpcHRpb246ICdUaGUgcHJlZml4IHVzZWQgZm9yIGdpdCB0YWdzLiBEZWZhdWx0cyB0byBcInZcIicsXG4gICAgICB0eXBlOiBTZXR0aW5nc1R5cGUuU1RSSU5HLFxuICAgICAgZGVmYXVsdDogJ3YnXG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIGZyb21Db250ZXh0KHlhcm5Db25maWc6IENvbmZpZ3VyYXRpb24sIHJlcG9ydDogUmVwb3J0KSAge1xuICAgIGNvbnN0IGJyYW5jaCA9IGF3YWl0IGN1cnJlbnRCcmFuY2goKTtcblxuICAgIHJldHVybiBuZXcgR2l0VmVyc2lvbkNvbmZpZ3VyYXRpb24oYnJhbmNoLCB5YXJuQ29uZmlnLCByZXBvcnQpO1xuICB9XG5cbiAgcHVibGljIHJlYWRvbmx5IGZlYXR1cmVCcmFuY2hQYXR0ZXJuczogUmVnRXhwW107XG4gIHB1YmxpYyByZWFkb25seSByZWxlYXNlQnJhbmNoUGF0dGVybnM6IFJlZ0V4cFtdO1xuICBwdWJsaWMgcmVhZG9ubHkgbWFpbkJyYW5jaDogc3RyaW5nO1xuICBwdWJsaWMgcmVhZG9ubHkgaW5kZXBlbmRlbnRWZXJzaW9uaW5nOiBib29sZWFuO1xuICBwdWJsaWMgcmVhZG9ubHkgdmVyc2lvblRhZ1ByZWZpeDogc3RyaW5nO1xuXG4gIHB1YmxpYyByZWFkb25seSB2ZXJzaW9uQnJhbmNoOiBHaXRWZXJzaW9uQnJhbmNoO1xuICBwdWJsaWMgcmVhZG9ubHkgeWFybkNvbmZpZzogQ29uZmlndXJhdGlvbjtcblxuICBjb25zdHJ1Y3RvcihicmFuY2hOYW1lOiBzdHJpbmcsIHlhcm5Db25maWc6IENvbmZpZ3VyYXRpb24sIHJlcG9ydDogUmVwb3J0KSB7XG4gICAgdGhpcy55YXJuQ29uZmlnID0geWFybkNvbmZpZztcbiAgICBjb25zdCBmZWF0dXJlUGF0dGVuU3RyaW5ncyA9IHlhcm5Db25maWcuZ2V0KCdmZWF0dXJlQnJhbmNoUGF0dGVybnMnKTtcbiAgICBjb25zdCByZWxlYXNlQnJhbmNoUGF0dGVybnNTdHJpbmdzID0geWFybkNvbmZpZy5nZXQoJ3JlbGVhc2VCcmFuY2hQYXR0ZXJucycpO1xuXG4gICAgdGhpcy5mZWF0dXJlQnJhbmNoUGF0dGVybnMgPSBmZWF0dXJlUGF0dGVuU3RyaW5ncy5tYXAoKHBhdHRlcm4pID0+IG5ldyBSZWdFeHAocGF0dGVybikpO1xuICAgIHRoaXMucmVsZWFzZUJyYW5jaFBhdHRlcm5zID0gcmVsZWFzZUJyYW5jaFBhdHRlcm5zU3RyaW5ncy5tYXAoKHBhdHRlcm4pID0+IG5ldyBSZWdFeHAocGF0dGVybikpO1xuXG4gICAgdGhpcy5tYWluQnJhbmNoID0geWFybkNvbmZpZy5nZXQoJ21haW5CcmFuY2gnKTtcbiAgICB0aGlzLmluZGVwZW5kZW50VmVyc2lvbmluZyA9IHlhcm5Db25maWcuZ2V0KCdpbmRlcGVuZGVudFZlcnNpb25pbmcnKTtcbiAgICB0aGlzLnZlcnNpb25UYWdQcmVmaXggPSB5YXJuQ29uZmlnLmdldCgndmVyc2lvblRhZ1ByZWZpeCcpO1xuICAgIHRoaXMudmVyc2lvbkJyYW5jaCA9IHRoaXMucGFyc2UoYnJhbmNoTmFtZSk7XG5cbiAgICByZXBvcnQucmVwb3J0SW5mb09uY2UoTWVzc2FnZU5hbWUuVU5OQU1FRCwgYFJ1bm5pbmcgb24gYnJhbmNoOiAnJHticmFuY2hOYW1lfSdgKTtcbiAgICByZXBvcnQucmVwb3J0SW5mb09uY2UoTWVzc2FnZU5hbWUuVU5OQU1FRCwgYERldGVjdGVkIGJyYW5jaCB0eXBlOiAnJHt0aGlzLnZlcnNpb25CcmFuY2guYnJhbmNoVHlwZX0nYCk7XG4gIH1cblxuICBwYXJzZShicmFuY2hOYW1lOiBzdHJpbmcpIDogR2l0VmVyc2lvbkJyYW5jaCB7XG4gICAgaWYgKHRoaXMubWFpbkJyYW5jaCA9PT0gYnJhbmNoTmFtZSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgYnJhbmNoVHlwZTogQnJhbmNoVHlwZS5NQUlOLFxuICAgICAgICBuYW1lOiBicmFuY2hOYW1lXG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yIChsZXQgYnJhbmNoUGF0dGVybiBvZiB0aGlzLmZlYXR1cmVCcmFuY2hQYXR0ZXJucykge1xuICAgICAgaWYgKGJyYW5jaFBhdHRlcm4udGVzdChicmFuY2hOYW1lKSkge1xuICAgICAgICBjb25zdCBtYXRjaGVzID0gYnJhbmNoUGF0dGVybi5leGVjKGJyYW5jaE5hbWUpO1xuXG4gICAgICAgIGlmIChtYXRjaGVzICYmIG1hdGNoZXMubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5hbWU6IG1hdGNoZXNbMV0sXG4gICAgICAgICAgICBicmFuY2hUeXBlOiBCcmFuY2hUeXBlLkZFQVRVUkVcbiAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IG5ldyBVc2FnZUVycm9yKGBUaGUgZmVhdHVyZSBwYXR0ZXJuICcke2JyYW5jaFBhdHRlcm4uc291cmNlfScgbWF0Y2hlZCB0aGUgY3VycmVudCBicmFuY2ggYnV0IGl0IHNob3VsZCByZXN1bHQgaW4gZXhhY3QgMSBncm91cCBtYXRjaGApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSAgICBcblxuICAgIGZvciAobGV0IGJyYW5jaFBhdHRlcm4gb2YgdGhpcy5yZWxlYXNlQnJhbmNoUGF0dGVybnMpIHtcbiAgICAgIGlmIChicmFuY2hQYXR0ZXJuLnRlc3QoYnJhbmNoTmFtZSkpIHtcbiAgICAgICAgY29uc3QgbWF0Y2hlcyA9IGJyYW5jaFBhdHRlcm4uZXhlYyhicmFuY2hOYW1lKTtcblxuICAgICAgICBpZiAobWF0Y2hlcyAmJiBtYXRjaGVzLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuYW1lOiBtYXRjaGVzWzFdLFxuICAgICAgICAgICAgYnJhbmNoVHlwZTogQnJhbmNoVHlwZS5SRUxFQVNFXG4gICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVXNhZ2VFcnJvcihgVGhlIHJlbGVhc2UgcGF0dGVybiAnJHticmFuY2hQYXR0ZXJuLnNvdXJjZX0nIG1hdGNoZWQgdGhlIGN1cnJlbnQgYnJhbmNoIGJ1dCBpdCBzaG91bGQgcmVzdWx0IGluIGV4YWN0IDEgZ3JvdXAgbWF0Y2hgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gICAgXG5cbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogJ3Vua25vd24nLFxuICAgICAgYnJhbmNoVHlwZTogQnJhbmNoVHlwZS5VTktOT1dOXG4gICAgfTtcbiAgfVxufSIsICJpbXBvcnQgeyBQcm9qZWN0LCBXb3Jrc3BhY2UgfSBmcm9tIFwiQHlhcm5wa2cvY29yZVwiO1xuXG5leHBvcnQgZW51bSBCcmFuY2hUeXBlIHtcbiAgTUFJTiA9ICdtYWluJyxcbiAgUFJFUkVMRUFTRSA9ICdwcmVyZWxlYXNlJyxcbiAgUkVMRUFTRSA9ICdyZWxlYXNlJyxcbiAgRkVBVFVSRSA9ICdmZWF0dXJlJyxcbiAgVU5LTk9XTiA9ICd1bmtub3duJ1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEdpdFZlcnNpb25CcmFuY2gge1xuICByZWFkb25seSBuYW1lOiBzdHJpbmc7XG4gIHJlYWRvbmx5IGJyYW5jaFR5cGUgOiBCcmFuY2hUeXBlO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFB1Ymxpc2hlZFBhY2thZ2Uge1xuICByZWFkb25seSB2ZXJzaW9uOiBzdHJpbmc7XG4gIHJlYWRvbmx5IHBhY2thZ2VOYW1lOiBzdHJpbmc7XG4gIHJlYWRvbmx5IGNoYW5nZWxvZzogc3RyaW5nIHwgdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFB1Ymxpc2hlZFZlcnNpb24gZXh0ZW5kcyBQdWJsaXNoZWRQYWNrYWdlIHtcbiAgcmVhZG9ubHkgcGFja2FnZXM6IFB1Ymxpc2hlZFBhY2thZ2VbXTtcbn1cblxuZGVjbGFyZSBtb2R1bGUgJ0B5YXJucGtnL2NvcmUnIHtcbiAgaW50ZXJmYWNlIENvbmZpZ3VyYXRpb25WYWx1ZU1hcCB7XG4gICAgXG4gICAgZmVhdHVyZUJyYW5jaFBhdHRlcm5zOiBzdHJpbmdbXTtcbiAgICByZWxlYXNlQnJhbmNoUGF0dGVybnM6IHN0cmluZ1tdO1xuICAgIHByZVJlbGVhc2VCcmFuY2hQYXR0ZXJuczogc3RyaW5nW107XG4gICAgbWFpbkJyYW5jaDogc3RyaW5nO1xuICAgIGluZGVwZW5kZW50VmVyc2lvbmluZzogYm9vbGVhbjtcbiAgICB2ZXJzaW9uVGFnUHJlZml4OiBzdHJpbmc7XG4gIH1cbn1cblxuZGVjbGFyZSBtb2R1bGUgJ0B5YXJucGtnL2NvcmUnIHtcbiAgaW50ZXJmYWNlIEhvb2tzIHtcbiAgICBhZnRlclB1Ymxpc2gocHJvamVjdDogUHJvamVjdCwgYnJhbmNoOiBHaXRWZXJzaW9uQnJhbmNoLCBwdWJsaXNoZWRWZXJzaW9uOiBQdWJsaXNoZWRWZXJzaW9uKSA6IFByb21pc2U8dm9pZD47XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBzcGF3biB9IGZyb20gJ2NoaWxkX3Byb2Nlc3MnO1xuaW1wb3J0IHsgUG9ydGFibGVQYXRoIH0gZnJvbSBcIkB5YXJucGtnL2ZzbGliXCI7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBleGVjQ2FwdHVyZShjb21tYW5kOiBzdHJpbmcsIGFyZ3M6IHN0cmluZ1tdLCBjd2Q/OiBQb3J0YWJsZVBhdGgpIDogUHJvbWlzZTx7Y29kZTogbnVtYmVyIHwgbnVsbCwgcmVzdWx0OiBzdHJpbmd9PiB7XG5cbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBjb25zdCBjaGlsZCA9IHNwYXduKGNvbW1hbmQsIGFyZ3MsIHtcbiAgICAgIGN3ZDogY3dkLFxuICAgIH0pO1xuICBcbiAgICBsZXQgc3RkT3V0ID0gJyc7XG4gICAgbGV0IHN0ZEVyciA9ICcnO1xuICBcbiAgICBjaGlsZC5zdGRvdXQub24oJ2RhdGEnLCAoZGF0YSkgPT4ge1xuICAgICAgc3RkT3V0ICs9IGRhdGEudG9TdHJpbmcoKTtcbiAgICB9KTtcbiAgXG4gICAgY2hpbGQuc3RkZXJyLm9uKCdkYXRhJywgKGRhdGEpID0+IHtcbiAgICAgIHN0ZEVyciArPSBkYXRhLnRvU3RyaW5nKCk7XG4gICAgfSk7XG4gIFxuICAgIGNoaWxkLm9uKCdjbG9zZScsIChjb2RlKSA9PiB7XG4gICAgICBpZiAoY29kZSA9PT0gMCkge1xuICAgICAgICByZXNvbHZlKHtjb2RlLCByZXN1bHQ6IHN0ZE91dH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihzdGRPdXQgKyBzdGRFcnIpKTtcbiAgICAgIH1cbiAgICB9KTsgIFxuICB9KVxufVxuIiwgImltcG9ydCB7IGV4ZWNDYXB0dXJlIH0gZnJvbSBcIi4vZXhlY1wiO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2hlY2tHaXQoKSB7XG4gIHJldHVybiBleGVjQ2FwdHVyZSgnZ2l0JywgWyctLXZlcnNpb24nXSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjdXJyZW50QnJhbmNoKCkge1xuICAvLyBhenVyZSBkZXZvcHMgbG9va3VwXG4gIGlmIChwcm9jZXNzLmVudi5CVUlMRF9TT1VSQ0VCUkFOQ0hOQU1FKSB7XG4gICAgcmV0dXJuIHByb2Nlc3MuZW52LkJVSUxEX1NPVVJDRUJSQU5DSE5BTUVcbiAgfVxuICAvLyBnZXQgZnJvbSBnaXRcbiAgcmV0dXJuIChhd2FpdCBleGVjQ2FwdHVyZSgnZ2l0JywgWydyZXYtcGFyc2UnLCAnLS1hYmJyZXYtcmVmJywgJ0hFQUQnXSkpLnJlc3VsdC5yZXBsYWNlKC9cXG4qJC8sICcnKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHRhZyh0YWdOYW1lOiBzdHJpbmcsIHB1c2g6IGJvb2xlYW4pIHtcbiAgYXdhaXQgZXhlY0NhcHR1cmUoJ2dpdCcsIFsndGFnJywgdGFnTmFtZV0pO1xuXG4gIGlmIChwdXNoKSB7XG4gICAgcmV0dXJuIGV4ZWNDYXB0dXJlKCdnaXQnLCBbJ3B1c2gnLCAnLS1uby12ZXJpZnknLCAnb3JpZ2luJywgdGFnTmFtZV0pO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhZGRBbmRDb21taXQoZmlsZXM6IHN0cmluZ1tdLCBtZXNzYWdlOiBzdHJpbmcpIHtcbiAgY29uc3QgYWRkUmVzcG9uc2UgPSBhd2FpdCBleGVjQ2FwdHVyZSgnZ2l0JywgWydhZGQnLCAuLi5maWxlc10pO1xuICBjb25zb2xlLmxvZyhhZGRSZXNwb25zZS5yZXN1bHQpO1xuICBcbiAgY29uc3QgY29tbWl0UmVzcG9uc2UgPSBhd2FpdCBleGVjQ2FwdHVyZSgnZ2l0JywgWydjb21taXQnLCAuLi5maWxlcywgJy1tJywgbWVzc2FnZV0pO1xuICBjb25zb2xlLmxvZyhjb21taXRSZXNwb25zZS5yZXN1bHQpOyAgXG59IiwgImltcG9ydCB7IEJhc2VDb21tYW5kIH0gZnJvbSBcIkB5YXJucGtnL2NsaVwiO1xuaW1wb3J0IHsgQ29uZmlndXJhdGlvbiwgTG9jYXRvciwgTWVzc2FnZU5hbWUsIFByb2plY3QsIFJlcG9ydCwgU3RyZWFtUmVwb3J0LCBXb3Jrc3BhY2UgfSBmcm9tIFwiQHlhcm5wa2cvY29yZVwiO1xuaW1wb3J0IHsgR2l0VmVyc2lvbkNvbmZpZ3VyYXRpb24gfSBmcm9tIFwiLi4vdXRpbHMvY29uZmlndXJhdGlvblwiO1xuaW1wb3J0IHsgQnJhbmNoVHlwZSwgR2l0VmVyc2lvbkJyYW5jaCB9IGZyb20gXCIuLi90eXBlc1wiO1xuaW1wb3J0IHsgZXhlY0NhcHR1cmUgfSBmcm9tIFwiLi4vdXRpbHMvZXhlY1wiO1xuaW1wb3J0IHsgY3VycmVudEJyYW5jaCB9IGZyb20gXCIuLi91dGlscy9naXRcIjtcbmltcG9ydCB7IHRhZ1ByZWZpeCB9IGZyb20gXCIuLi91dGlscy90YWdzXCI7XG5pbXBvcnQgeyB1cGRhdGVXb3Jrc3BhY2VzV2l0aFZlcnNpb24sIHVwZGF0ZVdvcmtzcGFjZVdpdGhWZXJzaW9uIH0gZnJvbSBcIi4uL3V0aWxzL3dvcmtzcGFjZVwiO1xuaW1wb3J0IHsgcnVuU3RlcCB9IGZyb20gXCIuLi91dGlscy9yZXBvcnRcIjtcbmNvbnN0IGNvbXBhcmVWZXJzaW9ucyA9IHJlcXVpcmUoJ2NvbXBhcmUtdmVyc2lvbnMnKTtcblxuZXhwb3J0IGNsYXNzIEdpdFZlcnNpb25SZXN0b3JlQ29tbWFuZCBleHRlbmRzIEJhc2VDb21tYW5kIHtcbiAgc3RhdGljIHBhdGhzID0gW1xuICAgIFtgZ2l0dmVyc2lvbmAsIGByZXN0b3JlYF0sXG4gIF07XG5cbiAgYXN5bmMgZXhlY3V0ZSgpIHtcbiAgICBhd2FpdCBydW5TdGVwKCdSZXN0b3JlIHZlcnNpb25zIGZyb20gZ2l0IHRhZ3MnLCB0aGlzLmNvbnRleHQsIGFzeW5jIChyZXBvcnQsIGNvbmZpZ3VyYXRpb24pID0+IHtcbiAgICAgIGlmIChjb25maWd1cmF0aW9uLnZlcnNpb25CcmFuY2guYnJhbmNoVHlwZSA9PT0gQnJhbmNoVHlwZS5VTktOT1dOKSB7XG4gICAgICAgIHJlcG9ydC5yZXBvcnRFcnJvcihNZXNzYWdlTmFtZS5VTk5BTUVELCAnUnVubmluZyBvbiB1bmtub3duIGJyYW5jaCB0eXBlLiBCcmVha2luZyBvZmYnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIFxuICAgICAgY29uc3QgeyBwcm9qZWN0IH0gPSBhd2FpdCBQcm9qZWN0LmZpbmQoY29uZmlndXJhdGlvbi55YXJuQ29uZmlnLCB0aGlzLmNvbnRleHQuY3dkKTtcblxuICAgICAgaWYgKGNvbmZpZ3VyYXRpb24uaW5kZXBlbmRlbnRWZXJzaW9uaW5nKSB7XG4gICAgICAgIGNvbnN0IHByb21pc2VzID0gcHJvamVjdC53b3Jrc3BhY2VzLm1hcCgod29ya3NwYWNlKSA9PiB0aGlzLnVwZGF0ZVdvcmtzcGFjZUZyb21HaXQoY29uZmlndXJhdGlvbi52ZXJzaW9uVGFnUHJlZml4LCBjb25maWd1cmF0aW9uLnZlcnNpb25CcmFuY2gsIHdvcmtzcGFjZSwgcmVwb3J0KSlcbiAgICAgICAgUHJvbWlzZS5hbGwocHJvbWlzZXMpOyAgXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCB2ZXJzaW9uUHJvbWlzZXMgPSBbXG4gICAgICAgICAgdGhpcy5kZXRlcm1pbmVDdXJyZW50R2l0VmVyc2lvbihjb25maWd1cmF0aW9uLnZlcnNpb25UYWdQcmVmaXgsIGNvbmZpZ3VyYXRpb24udmVyc2lvbkJyYW5jaCksXG4gICAgICAgICAgLi4ucHJvamVjdC53b3Jrc3BhY2VzLm1hcCgod29ya3NwYWNlKSA9PiB0aGlzLmRldGVybWluZUN1cnJlbnRHaXRWZXJzaW9uKGNvbmZpZ3VyYXRpb24udmVyc2lvblRhZ1ByZWZpeCwgY29uZmlndXJhdGlvbi52ZXJzaW9uQnJhbmNoLCB3b3Jrc3BhY2UubG9jYXRvcikpXG4gICAgICAgIF07XG4gICAgICAgIGNvbnN0IHZlcnNpb25zID0gKGF3YWl0IFByb21pc2UuYWxsKHZlcnNpb25Qcm9taXNlcykpLnNvcnQoY29tcGFyZVZlcnNpb25zKS5yZXZlcnNlKCk7XG4gICAgICAgIFxuICAgICAgICBhd2FpdCB1cGRhdGVXb3Jrc3BhY2VzV2l0aFZlcnNpb24ocHJvamVjdC53b3Jrc3BhY2VzLCB2ZXJzaW9uc1swXSwgcmVwb3J0KVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgdXBkYXRlV29ya3NwYWNlRnJvbUdpdCh0YWdQcmVmaXg6IHN0cmluZywgdmVyc2lvbkJyYW5jaDogR2l0VmVyc2lvbkJyYW5jaCwgd29ya3NwYWNlOiBXb3Jrc3BhY2UsIHJlcG9ydDogUmVwb3J0KSB7XG4gICAgY29uc3QgY3VycmVudEdpdFZlcnNpb24gPSBhd2FpdCB0aGlzLmRldGVybWluZUN1cnJlbnRHaXRWZXJzaW9uKHRhZ1ByZWZpeCwgdmVyc2lvbkJyYW5jaCwgd29ya3NwYWNlLmxvY2F0b3IpXG4gICAgcmV0dXJuIHVwZGF0ZVdvcmtzcGFjZVdpdGhWZXJzaW9uKHdvcmtzcGFjZSwgY3VycmVudEdpdFZlcnNpb24sIHJlcG9ydCk7XG4gIH1cblxuICAvKipcbiAgICogRGV0ZXJtaW5lcyB0aGUgbGF0ZXN0IHJlbGVhc2UgdGFnLlxuICAgKiBAcGFyYW0gcHJlcmVsZWFzZSAob3B0aW9uYWwpIEEgcHJlLXJlbGVhc2Ugc3VmZml4LlxuICAgKiBAcmV0dXJucyB0aGUgbGF0ZXN0IHJlbGVhc2UgZm91bmQgaW4gdGhlIHRhZyBoaXN0b3J5XG4gICAqL1xuICBhc3luYyBkZXRlcm1pbmVDdXJyZW50R2l0VmVyc2lvbihkZWZhdWx0VGFnUHJlZml4OiBzdHJpbmcsIHZlcnNpb25CcmFuY2g6IEdpdFZlcnNpb25CcmFuY2gsIGNoaWxkTG9jYXRvcj86IExvY2F0b3IpOiBQcm9taXNlPHN0cmluZz4ge1xuXG4gICAgLy8gZmlsdGVyIG9ubHkgdGFncyBmb3IgdGhpcyBwcmVmaXggYW5kIG1ham9yIHZlcnNpb24gaWYgc3BlY2lmaWVkIChzdGFydCB3aXRoIFwidk5OLlwiKS5cblxuICAgIGNvbnN0IGZ1bGxUYWdQcmVmaXggPSAgdGFnUHJlZml4KGRlZmF1bHRUYWdQcmVmaXgsIGNoaWxkTG9jYXRvcik7XG5cbiAgICBjb25zdCBwcmVmaXhGaWx0ZXIgPSBgJHtmdWxsVGFnUHJlZml4fSpgO1xuXG4gICAgY29uc3QgbGlzdEdpdFRhZ3MgPSBbXG4gICAgICAnLWMnLCBcbiAgICAgICd2ZXJzaW9uc29ydC5zdWZmaXg9LScsIC8vIG1ha2VzIHN1cmUgcHJlLXJlbGVhc2UgdmVyc2lvbnMgYXJlIGxpc3RlZCBhZnRlciB0aGUgcHJpbWFyeSB2ZXJzaW9uXG4gICAgICAndGFnJyxcbiAgICAgICctLXNvcnQ9LXZlcnNpb246cmVmbmFtZScsIC8vIHNvcnQgYXMgdmVyc2lvbnMgYW5kIG5vdCBsZXhpY29ncmFwaGljYWxseVxuICAgICAgJy0tbGlzdCcsXG4gICAgICBwcmVmaXhGaWx0ZXIsXG4gICAgXTtcblxuICAgIGNvbnN0IHN0ZG91dCA9IChhd2FpdCBleGVjQ2FwdHVyZSgnZ2l0JywgbGlzdEdpdFRhZ3MpKS5yZXN1bHQ7XG5cbiAgICBsZXQgdGFncyA9IHN0ZG91dC5zcGxpdCgnXFxuJyk7XG4gICAgY29uc3Qgb2ZmaWNpYWxUYWdzID0gdGFncy5maWx0ZXIoeCA9PiBuZXcgUmVnRXhwKGBeJHt0aGlzLmVzY2FwZVJlZ0V4cChmdWxsVGFnUHJlZml4KX1bMC05XStcXC5bMC05XStcXC5bMC05XSskYCkudGVzdCh4KSk7XG5cbiAgICAvLyBpZiBcInByZVwiIGlzIHNldCwgZmlsdGVyIHZlcnNpb25zIHRoYXQgZW5kIHdpdGggXCItUFJFLmRkZFwiLlxuICAgIGlmICh2ZXJzaW9uQnJhbmNoLmJyYW5jaFR5cGUgIT09IEJyYW5jaFR5cGUuTUFJTikge1xuICAgICAgY29uc3QgcHJlUmVsZWFzZVRhZ3MgPSB0YWdzLmZpbHRlcih4ID0+IG5ldyBSZWdFeHAoYCR7ZnVsbFRhZ1ByZWZpeH1bMC05XStcXC5bMC05XStcXC5bMC05XSstJHt0aGlzLmVzY2FwZVJlZ0V4cCh2ZXJzaW9uQnJhbmNoLm5hbWUpfVxcLlswLTldKyRgKS50ZXN0KHgpKTtcbiAgICAgIGlmIChwcmVSZWxlYXNlVGFncy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHRhZ3MgPSBwcmVSZWxlYXNlVGFncztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRhZ3MgPSBvZmZpY2lhbFRhZ3M7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRhZ3MgPSBvZmZpY2lhbFRhZ3M7XG4gICAgfVxuXG4gICAgdGFncyA9IHRhZ3MuZmlsdGVyKHggPT4geCk7XG5cbiAgICAvLyBpZiBhIHByZS1yZWxlYXNlIHRhZyBpcyB1c2VkLCB0aGVuIGFkZCBpdCB0byB0aGUgaW5pdGlhbCB2ZXJzaW9uXG4gICAgbGV0IGxhdGVzdFRhZztcblxuICAgIGlmICh0YWdzLmxlbmd0aCA+IDApIHtcbiAgICAgIGxhdGVzdFRhZyA9IHRhZ3NbMF07XG4gICAgfSBlbHNlIHtcbiAgICAgIGxhdGVzdFRhZyA9ICcwLjAuMCc7XG4gICAgfVxuXG4gICAgLy8gcmVtb3ZlIHRhZyBwcmVmaXggKGlmIGV4aXN0cylcbiAgICBsZXQgbGF0ZXN0VmVyc2lvbiA9IGxhdGVzdFRhZztcblxuICAgIGNvbnN0IHJlZ2V4UmVwbGFjZSA9IG5ldyBSZWdFeHAoYF4ke3RoaXMuZXNjYXBlUmVnRXhwKGZ1bGxUYWdQcmVmaXgpfWApO1xuICAgIGxhdGVzdFZlcnNpb24gPSBsYXRlc3RWZXJzaW9uLnJlcGxhY2UocmVnZXhSZXBsYWNlLCAnJyk7XG4gICAgcmV0dXJuIGxhdGVzdFZlcnNpb247XG4gIH1cblxuICBlc2NhcGVSZWdFeHAodGV4dDogc3RyaW5nKSB7XG4gICAgcmV0dXJuIHRleHQucmVwbGFjZSgvWy4qKz9eJHt9KCl8W1xcXVxcXFxdL2csICdcXFxcJCYnKTsgLy8gJCYgbWVhbnMgdGhlIHdob2xlIG1hdGNoZWQgc3RyaW5nXG4gIH0gIFxufSIsICJpbXBvcnQgeyBMb2NhdG9yIH0gZnJvbSBcIkB5YXJucGtnL2NvcmVcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIHRhZ1ByZWZpeChnbG9iYWxUYWdQcmVmaXg6IHN0cmluZywgbG9jYXRvcj86IExvY2F0b3IpIHtcbiAgbGV0IHJlc3VsdCA9IGdsb2JhbFRhZ1ByZWZpeDtcbiAgaWYgKGxvY2F0b3IpIHtcbiAgICBpZiAobG9jYXRvci5zY29wZSkge1xuICAgICAgcmVzdWx0ICs9IGBAJHtsb2NhdG9yLnNjb3BlfS9gXG4gICAgfVxuICAgIHJlc3VsdCArPSBsb2NhdG9yLm5hbWVcbiAgICByZXN1bHQgKz0gJy0nO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59IiwgImltcG9ydCB7IE1lc3NhZ2VOYW1lLCBSZXBvcnQsIHN0cnVjdFV0aWxzLCBXb3Jrc3BhY2UgfSBmcm9tIFwiQHlhcm5wa2cvY29yZVwiXG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVXb3Jrc3BhY2VzV2l0aFZlcnNpb24od29ya3NwYWNlczogV29ya3NwYWNlW10sIHZlcnNpb246IHN0cmluZywgcmVwb3J0OiBSZXBvcnQpIHtcbiAgcmV0dXJuIFByb21pc2UuYWxsKHdvcmtzcGFjZXMubWFwKCh3b3Jrc3BhY2UpID0+IHVwZGF0ZVdvcmtzcGFjZVdpdGhWZXJzaW9uKHdvcmtzcGFjZSwgdmVyc2lvbiwgcmVwb3J0KSkpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlV29ya3NwYWNlV2l0aFZlcnNpb24od29ya3NwYWNlOiBXb3Jrc3BhY2UsIHZlcnNpb246IHN0cmluZywgcmVwb3J0OiBSZXBvcnQpIHtcbiAgaWYgKHdvcmtzcGFjZS5tYW5pZmVzdC52ZXJzaW9uICE9PSB2ZXJzaW9uKSB7XG4gICAgcmVwb3J0LnJlcG9ydEluZm8oTWVzc2FnZU5hbWUuVU5OQU1FRCxgJHtzdHJ1Y3RVdGlscy5zdHJpbmdpZnlMb2NhdG9yKHdvcmtzcGFjZS5sb2NhdG9yKX0gPT4gJHt2ZXJzaW9ufWApO1xuICAgIHdvcmtzcGFjZS5tYW5pZmVzdC52ZXJzaW9uID0gdmVyc2lvblxuICAgIHJldHVybiB3b3Jrc3BhY2UucGVyc2lzdE1hbmlmZXN0KClcbiAgfVxufSIsICJpbXBvcnQgeyBDb21tYW5kQ29udGV4dCwgQ29uZmlndXJhdGlvbiwgUmVwb3J0LCBTdHJlYW1SZXBvcnQgfSBmcm9tIFwiQHlhcm5wa2cvY29yZVwiO1xuaW1wb3J0IHsgcmVwb3J0IH0gZnJvbSBcInByb2Nlc3NcIjtcbmltcG9ydCB7IEdpdFZlcnNpb25Db25maWd1cmF0aW9uIH0gZnJvbSBcIi4vY29uZmlndXJhdGlvblwiO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcnVuU3RlcChuYW1lOiBzdHJpbmcsIGNvbnRleHQ6IENvbW1hbmRDb250ZXh0LCBjYjogKHJlcG9ydDogUmVwb3J0LCBjb25maWd1cmF0aW9uOiBHaXRWZXJzaW9uQ29uZmlndXJhdGlvbikgPT4gdm9pZCkge1xuICBjb25zdCB5YXJuQ29uZmlnID0gYXdhaXQgQ29uZmlndXJhdGlvbi5maW5kKGNvbnRleHQuY3dkLCBjb250ZXh0LnBsdWdpbnMpO1xuXG4gIGNvbnN0IHJlc3BvcnRlciA9IGF3YWl0IFN0cmVhbVJlcG9ydC5zdGFydCh7XG4gICAgY29uZmlndXJhdGlvbjogeWFybkNvbmZpZyxcbiAgICBzdGRvdXQ6IGNvbnRleHQuc3Rkb3V0LFxuICB9LCBhc3luYyAocmVwb3J0OiBTdHJlYW1SZXBvcnQpID0+IHtcbiAgICBhd2FpdCByZXBvcnQuc3RhcnRUaW1lclByb21pc2UobmFtZSwgYXN5bmMgKCkgPT4ge1xuXG4gICAgICBjb25zdCBjb25maWd1cmF0aW9uID0gYXdhaXQgR2l0VmVyc2lvbkNvbmZpZ3VyYXRpb24uZnJvbUNvbnRleHQoeWFybkNvbmZpZywgcmVwb3J0KTtcblxuICAgICAgYXdhaXQgY2IocmVwb3J0LCBjb25maWd1cmF0aW9uKTtcbiAgICB9KTtcbiAgfSk7XG4gIHJlc3BvcnRlci5leGl0Q29kZSgpO1xufTsiLCAiaW1wb3J0IHsgQmFzZUNvbW1hbmQgfSBmcm9tIFwiQHlhcm5wa2cvY2xpXCI7XG5pbXBvcnQgeyBDb25maWd1cmF0aW9uLCBNZXNzYWdlTmFtZSwgUHJvamVjdCwgU3RyZWFtUmVwb3J0IH0gZnJvbSBcIkB5YXJucGtnL2NvcmVcIjtcbmltcG9ydCB7IERFRkFVTFRfUkVQT19WRVJTSU9OLCBHaXRWZXJzaW9uQ29uZmlndXJhdGlvbiB9IGZyb20gXCIuLi91dGlscy9jb25maWd1cmF0aW9uXCI7XG5pbXBvcnQgeyBydW5TdGVwIH0gZnJvbSBcIi4uL3V0aWxzL3JlcG9ydFwiO1xuaW1wb3J0IHsgdXBkYXRlV29ya3NwYWNlc1dpdGhWZXJzaW9uIH0gZnJvbSBcIi4uL3V0aWxzL3dvcmtzcGFjZVwiO1xuXG5leHBvcnQgY2xhc3MgR2l0VmVyc2lvblJlc2V0Q29tbWFuZCBleHRlbmRzIEJhc2VDb21tYW5kIHtcbiAgc3RhdGljIHBhdGhzID0gW1xuICAgIFtgZ2l0dmVyc2lvbmAsIGByZXNldGBdLFxuICBdO1xuXG4gIGFzeW5jIGV4ZWN1dGUoKSB7XG4gICAgYXdhaXQgcnVuU3RlcCgnUmVzZXR0aW5nIGZpbGUgdmVyc2lvbnMnLCB0aGlzLmNvbnRleHQsIGFzeW5jIChyZXBvcnQsIGNvbmZpZ3VyYXRpb24pID0+IHtcbiAgICAgIGNvbnN0IHtwcm9qZWN0fSA9IGF3YWl0IFByb2plY3QuZmluZChjb25maWd1cmF0aW9uLnlhcm5Db25maWcsIHRoaXMuY29udGV4dC5jd2QpO1xuXG4gICAgICBhd2FpdCB1cGRhdGVXb3Jrc3BhY2VzV2l0aFZlcnNpb24ocHJvamVjdC53b3Jrc3BhY2VzLCBERUZBVUxUX1JFUE9fVkVSU0lPTiwgcmVwb3J0KTtcbiAgICB9KTtcbiAgfVxufSIsICJpbXBvcnQgeyBCYXNlQ29tbWFuZCB9IGZyb20gXCJAeWFybnBrZy9jbGlcIjtcbmltcG9ydCB7IENvbmZpZ3VyYXRpb24sIE1lc3NhZ2VOYW1lLCBQcm9qZWN0LCBTdHJlYW1SZXBvcnQgfSBmcm9tIFwiQHlhcm5wa2cvY29yZVwiO1xuaW1wb3J0IHsgQnJhbmNoVHlwZSB9IGZyb20gXCIuLi90eXBlc1wiO1xuaW1wb3J0IHsgdXBkYXRlV29ya3NwYWNlc1dpdGhWZXJzaW9uLCB1cGRhdGVXb3Jrc3BhY2VXaXRoVmVyc2lvbiB9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IHsgYnVtcCB9IGZyb20gXCIuLi91dGlscy9idW1wXCI7XG5pbXBvcnQgeyBjaGFuZ2Vsb2cgfSBmcm9tIFwiLi4vdXRpbHMvY2hhbmdlbG9nXCI7XG5pbXBvcnQgeyBHaXRWZXJzaW9uQ29uZmlndXJhdGlvbiB9IGZyb20gXCIuLi91dGlscy9jb25maWd1cmF0aW9uXCI7XG5pbXBvcnQgeyBydW5TdGVwIH0gZnJvbSBcIi4uL3V0aWxzL3JlcG9ydFwiO1xuaW1wb3J0IHsgdGFnUHJlZml4IH0gZnJvbSBcIi4uL3V0aWxzL3RhZ3NcIjtcbmltcG9ydCB7IEdpdFZlcnNpb25SZXN0b3JlQ29tbWFuZCB9IGZyb20gXCIuL3Jlc3RvcmVcIjtcblxuZXhwb3J0IGNsYXNzIEdpdFZlcnNpb25CdW1wQ29tbWFuZCBleHRlbmRzIEJhc2VDb21tYW5kIHtcbiAgc3RhdGljIHBhdGhzID0gW1xuICAgIFtgZ2l0dmVyc2lvbmAsIGBidW1wYF0sXG4gIF07XG5cbiAgYXN5bmMgZXhlY3V0ZSgpIHtcblxuICAgIC8vIGZpcnN0IGV4ZWN1dGUgcmVzdG9yZVxuICAgIGNvbnN0IHJlc3RvcmVDb21tYW5kID0gbmV3IEdpdFZlcnNpb25SZXN0b3JlQ29tbWFuZCgpO1xuICAgIHJlc3RvcmVDb21tYW5kLmNvbnRleHQgPSB0aGlzLmNvbnRleHQ7XG4gICAgcmVzdG9yZUNvbW1hbmQuY2xpID0gdGhpcy5jbGk7XG4gICAgYXdhaXQgcmVzdG9yZUNvbW1hbmQuZXhlY3V0ZSgpO1xuXG4gICAgYXdhaXQgcnVuU3RlcCgnQnVtcCB2ZXJzaW9ucycsIHRoaXMuY29udGV4dCwgYXN5bmMgKHJlcG9ydCwgY29uZmlndXJhdGlvbikgPT4ge1xuXG4gICAgICBpZiAoY29uZmlndXJhdGlvbi52ZXJzaW9uQnJhbmNoLmJyYW5jaFR5cGUgPT09IEJyYW5jaFR5cGUuVU5LTk9XTikge1xuICAgICAgICByZXBvcnQucmVwb3J0RXJyb3IoTWVzc2FnZU5hbWUuVU5OQU1FRCwgJ1J1bm5pbmcgb24gdW5rbm93biBicmFuY2ggdHlwZS4gQnJlYWtpbmcgb2ZmJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICBcbiAgICAgIGNvbnN0IHsgcHJvamVjdCB9ID0gYXdhaXQgUHJvamVjdC5maW5kKGNvbmZpZ3VyYXRpb24ueWFybkNvbmZpZywgdGhpcy5jb250ZXh0LmN3ZCk7XG5cbiAgICAgIGlmIChjb25maWd1cmF0aW9uLmluZGVwZW5kZW50VmVyc2lvbmluZykge1xuICAgICAgICByZXBvcnQucmVwb3J0RXJyb3IoTWVzc2FnZU5hbWUuVU5OQU1FRCwgJ0luZGVwZW5kZW50VmVyc2lvbmluZyBpcyBub3QgaW1wbGVtZW50ZWQnKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgdmVyc2lvbiA9IGF3YWl0IGJ1bXAoY29uZmlndXJhdGlvbi52ZXJzaW9uQnJhbmNoLCB0YWdQcmVmaXgoY29uZmlndXJhdGlvbi52ZXJzaW9uVGFnUHJlZml4KSwgcHJvamVjdCwgcHJvamVjdC50b3BMZXZlbFdvcmtzcGFjZSwgcmVwb3J0KTtcbiAgICAgICAgXG4gICAgICAgIGlmICh2ZXJzaW9uKSB7XG4gICAgICAgICAgYXdhaXQgdXBkYXRlV29ya3NwYWNlV2l0aFZlcnNpb24ocHJvamVjdC50b3BMZXZlbFdvcmtzcGFjZSwgdmVyc2lvbiwgcmVwb3J0KTtcbiAgICAgICAgICBhd2FpdCB1cGRhdGVXb3Jrc3BhY2VzV2l0aFZlcnNpb24ocHJvamVjdC50b3BMZXZlbFdvcmtzcGFjZS5nZXRSZWN1cnNpdmVXb3Jrc3BhY2VDaGlsZHJlbigpLCB2ZXJzaW9uLCByZXBvcnQpO1xuXG4gICAgICAgICAgYXdhaXQgY2hhbmdlbG9nKGNvbmZpZ3VyYXRpb24udmVyc2lvbkJyYW5jaCwgdmVyc2lvbiwgdGFnUHJlZml4KGNvbmZpZ3VyYXRpb24udmVyc2lvblRhZ1ByZWZpeCksIHByb2plY3QsIHByb2plY3QudG9wTGV2ZWxXb3Jrc3BhY2UsIHJlcG9ydClcblxuICAgICAgICAgIC8vIGNvbnN0IGNoaWxkVXBkYXRlcyA9IHByb2plY3QudG9wTGV2ZWxXb3Jrc3BhY2UuZ2V0UmVjdXJzaXZlV29ya3NwYWNlQ2hpbGRyZW4oKS5tYXAoKHdvcmtzcGFjZSkgPT4ge1xuICAgICAgICAgIC8vICAgcmV0dXJuIGNoYW5nZWxvZyhjb25maWd1cmF0aW9uLnZlcnNpb25CcmFuY2gsIHRhZ1ByZWZpeChjb25maWd1cmF0aW9uLnZlcnNpb25UYWdQcmVmaXgpLCBwcm9qZWN0LHdvcmtzcGFjZSwgY29uZmlndXJhdGlvbi5yZXBvcnQpXG4gICAgICAgICAgLy8gfSlcblxuICAgICAgICAgIC8vIFByb21pc2UuYWxsKGNoaWxkVXBkYXRlcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSIsICJpbXBvcnQgeyBQb3J0YWJsZVBhdGggfSBmcm9tIFwiQHlhcm5wa2cvZnNsaWJcIjtcbmltcG9ydCB7IEJyYW5jaFR5cGUsIEdpdFZlcnNpb25CcmFuY2ggfSBmcm9tIFwiLi4vdHlwZXNcIjtcbmltcG9ydCB7IGV4ZWNDYXB0dXJlIH0gZnJvbSBcIi4vZXhlY1wiO1xuXG5jb25zdCBERUZBVUxUX0ZMQUdTID0gW1xuICAnLS1uby1zaWduJywgXG4gICctLXNraXAuY29tbWl0JywgXG4gICctLXNraXAudGFnJ1xuXVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYnVtcCh2ZXJzaW9uQnJhbmNoOiBHaXRWZXJzaW9uQnJhbmNoLCB0YWdQcmVmaXg6IHN0cmluZywgY3dkOiBQb3J0YWJsZVBhdGgsIGV4ZWNDd2Q6IFBvcnRhYmxlUGF0aCwgZXhwbGljaXRWZXJzaW9uPzogc3RyaW5nKSB7XG5cbiAgY29uc3QgZmxhZ3MgOiBzdHJpbmcgW10gPSBbLi4uREVGQVVMVF9GTEFHU107XG4gIGZsYWdzLnB1c2goYC0tcGF0aD0nJHtjd2R9J2ApLCBcbiAgZmxhZ3MucHVzaChgLS10YWctcHJlZml4PScke3RhZ1ByZWZpeH0nYCk7XG4gIGZsYWdzLnB1c2goYC0taW5maWxlPScke2N3ZH0vQ0hBTkdFTE9HLm1kJ2ApXG5cbiAgaWYgKGV4cGxpY2l0VmVyc2lvbikge1xuICAgIGZsYWdzLnB1c2goYC0tcmVsZWFzZS1hcz0nJHtleHBsaWNpdFZlcnNpb259J2ApO1xuICAgIGZsYWdzLnB1c2goYC0tc2tpcC5idW1wYCk7XG4gIH1cblxuICBpZiAodmVyc2lvbkJyYW5jaC5icmFuY2hUeXBlID09PSBCcmFuY2hUeXBlLkZFQVRVUkUpIHtcbiAgICBmbGFncy5wdXNoKFxuICAgICAgYC0tcHJlcmVsZWFzZT0ke3ZlcnNpb25CcmFuY2gubmFtZX1gLCBcbiAgICAgICctLXNraXAuY2hhbmdlbG9nJ1xuICAgICk7XG5cbiAgICBpZiAoIWV4cGxpY2l0VmVyc2lvbikge1xuICAgICAgZmxhZ3MucHVzaCgnLS1yZWxlYXNlLWFzPXBhdGNoJylcbiAgICB9XG5cbiAgfSBlbHNlIGlmICh2ZXJzaW9uQnJhbmNoLmJyYW5jaFR5cGUgPT09IEJyYW5jaFR5cGUuUFJFUkVMRUFTRSB8fCB2ZXJzaW9uQnJhbmNoLmJyYW5jaFR5cGUgPT09IEJyYW5jaFR5cGUuUkVMRUFTRSkge1xuICAgIGZsYWdzLnB1c2goXG4gICAgICBgLS1wcmVyZWxlYXNlPSR7dmVyc2lvbkJyYW5jaC5uYW1lfWAsIFxuICAgICk7ICAgIFxuICB9IGVsc2UgaWYgKHZlcnNpb25CcmFuY2guYnJhbmNoVHlwZSA9PT0gQnJhbmNoVHlwZS5VTktOT1dOKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZXhlY0NhcHR1cmUoJ3lhcm4nLCBbJ3N0YW5kYXJkLXZlcnNpb24nLCAuLi5mbGFnc10sIGV4ZWNDd2QpO1xuICBjb25zb2xlLmxvZyhyZXN1bHQucmVzdWx0KTtcbiAgcmV0dXJuO1xufVxuIiwgIlxuaW1wb3J0IGNvbnZlbnRpb25hbFJlY29tbWVuZGVkQnVtcCBmcm9tIFwiY29udmVudGlvbmFsLXJlY29tbWVuZGVkLWJ1bXBcIjtcbmltcG9ydCB7IEJyYW5jaFR5cGUsIEdpdFZlcnNpb25CcmFuY2ggfSBmcm9tIFwiLi4vdHlwZXNcIjtcbmltcG9ydCB7IE1lc3NhZ2VOYW1lLCBQcm9qZWN0LCBSZXBvcnQsIFdvcmtzcGFjZSB9IGZyb20gXCJAeWFybnBrZy9jb3JlXCI7XG5pbXBvcnQgc2VtdmVyIGZyb20gJ3NlbXZlcic7XG5pbXBvcnQgeyBsb2FkQ29uZmlnIH0gZnJvbSBcIi4vY29udmVudGlvbmFsY29tbWl0XCI7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBidW1wKHZlcnNpb25CcmFuY2g6IEdpdFZlcnNpb25CcmFuY2gsIHRhZ1ByZWZpeDogc3RyaW5nLCBwcm9qZWN0OiBQcm9qZWN0LCB3b3Jrc3BhY2U6IFdvcmtzcGFjZSwgcmVwb3J0OiBSZXBvcnQpIDogUHJvbWlzZTxzdHJpbmcgfCB1bmRlZmluZWQ+IHtcblxuICBjb25zdCBjdXJyZW50VmVyc2lvbiA9IHdvcmtzcGFjZS5tYW5pZmVzdC52ZXJzaW9uO1xuICBpZiAoIWN1cnJlbnRWZXJzaW9uKSB7XG4gICAgcmVwb3J0LnJlcG9ydFdhcm5pbmcoTWVzc2FnZU5hbWUuVU5OQU1FRCwgJ05vIHZlcnNpb24gaW4gbWFuaWZlc3QuIEJyZWFraW5nIG9mZicpXG4gICAgcmV0dXJuO1xuICB9XG5cbiAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY29uZmlnID0gYXdhaXQgbG9hZENvbmZpZyhwcm9qZWN0KTtcbiAgXG4gICAgICBjb252ZW50aW9uYWxSZWNvbW1lbmRlZEJ1bXAoe1xuICAgICAgICBjb25maWc6IGNvbmZpZyxcbiAgICAgICAgdGFnUHJlZml4OiB0YWdQcmVmaXgsXG4gICAgICAgIHBhdGg6IHdvcmtzcGFjZS5yZWxhdGl2ZUN3ZCxcbiAgICAgIH0sIHtcbiAgICAgICAgICBoZWFkZXJQYXR0ZXJuOiAvXig/Ok1lcmdlZCBQUiBcXGQrOiApPyhcXHcqKSg/OlxcKCguKilcXCkpPyE/OiAoLiopJC8sXG4gICAgICAgICAgYnJlYWtpbmdIZWFkZXJQYXR0ZXJuOiAvXig/Ok1lcmdlZCBQUiBcXGQrOiApPyhcXHcqKSg/OlxcKCguKilcXCkpPyE6ICguKikkLyxcbiAgICAgICAgICByZXZlcnRQYXR0ZXJuOiAvXig/Ok1lcmdlZCBQUiBcXGQrOiApPyg/OlJldmVydHxyZXZlcnQ6KVxcc1wiPyhbXFxzXFxTXSs/KVwiP1xccypUaGlzIHJldmVydHMgY29tbWl0IChcXHcqKVxcLi9pLFxuICAgICAgICAgIHdhcm46IChtc2c6IHN0cmluZykgPT4gcmVwb3J0LnJlcG9ydFdhcm5pbmcoTWVzc2FnZU5hbWUuVU5OQU1FRCwgbXNnKVxuICAgICAgfSBhcyBhbnksIChlcnJvciwgcmVjb21tZW5kYXRpb24pID0+IHtcbiAgICAgICAgaWYgKHJlY29tbWVuZGF0aW9uLnJlbGVhc2VUeXBlKSB7ICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICBpZiAocmVjb21tZW5kYXRpb24ucmVhc29uKSB7XG4gICAgICAgICAgICByZXBvcnQucmVwb3J0SW5mbyhNZXNzYWdlTmFtZS5VTk5BTUVELCBgJHtyZWNvbW1lbmRhdGlvbi5yZWFzb259ID0+ICR7cmVjb21tZW5kYXRpb24ucmVsZWFzZVR5cGV9YCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHZlcnNpb25CcmFuY2guYnJhbmNoVHlwZSA9PSBCcmFuY2hUeXBlLk1BSU4pIHtcbiAgICAgICAgICAgIHJlcG9ydC5yZXBvcnRJbmZvKE1lc3NhZ2VOYW1lLlVOTkFNRUQsICdCdW1waW5nIG9mZmljaWFsIHJlbGVhc2UnKVxuICAgICAgICAgICAgcmVzb2x2ZShzZW12ZXIuaW5jKGN1cnJlbnRWZXJzaW9uLCByZWNvbW1lbmRhdGlvbi5yZWxlYXNlVHlwZSkgPz8gdW5kZWZpbmVkKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVwb3J0LnJlcG9ydEluZm8oTWVzc2FnZU5hbWUuVU5OQU1FRCwgYEJ1bXBpbmcgb24gcHJlcmVsZWFzZSAke3ZlcnNpb25CcmFuY2gubmFtZX1gKVxuICAgICAgICAgICAgaWYgKHNlbXZlci5wcmVyZWxlYXNlKGN1cnJlbnRWZXJzaW9uKSkge1xuICAgICAgICAgICAgICAvLyBydW4gc2ltcGxlIHByZXJlbGVhc2UgaW5jcmVtZW50IHdoZW4gYWxyZWFkeSBpbiBwcmVyZWxlYXNlXG4gICAgICAgICAgICAgIHJlc29sdmUoc2VtdmVyLmluYyhjdXJyZW50VmVyc2lvbiwgYHByZXJlbGVhc2VgKSA/PyB1bmRlZmluZWQpOyAgXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXNvbHZlKHNlbXZlci5pbmMoY3VycmVudFZlcnNpb24sIGBwcmUke3JlY29tbWVuZGF0aW9uLnJlbGVhc2VUeXBlfWAsIHZlcnNpb25CcmFuY2gubmFtZSkgPz8gdW5kZWZpbmVkKTsgIFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXBvcnQucmVwb3J0SW5mbyhNZXNzYWdlTmFtZS5VTk5BTUVELCAnTm8gcmVjb21tZW5kYXRpb24gZm91bmQnKVxuICAgICAgICAgIGlmICh2ZXJzaW9uQnJhbmNoLmJyYW5jaFR5cGUgIT0gQnJhbmNoVHlwZS5NQUlOKSB7XG4gICAgICAgICAgICByZXBvcnQucmVwb3J0SW5mbyhNZXNzYWdlTmFtZS5VTk5BTUVELCBgQnVtcGluZyBvbiBwcmVyZWxlYXNlICR7dmVyc2lvbkJyYW5jaC5uYW1lfWApXG4gICAgICAgICAgICBpZiAoc2VtdmVyLnByZXJlbGVhc2UoY3VycmVudFZlcnNpb24pKSB7XG4gICAgICAgICAgICAgIC8vIHJ1biBzaW1wbGUgcHJlcmVsZWFzZSBpbmNyZW1lbnQgd2hlbiBhbHJlYWR5IGluIHByZXJlbGVhc2VcbiAgICAgICAgICAgICAgcmVzb2x2ZShzZW12ZXIuaW5jKGN1cnJlbnRWZXJzaW9uLCBgcHJlcmVsZWFzZWApID8/IHVuZGVmaW5lZCk7ICBcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJlc29sdmUoc2VtdmVyLmluYyhjdXJyZW50VmVyc2lvbiwgYHByZXBhdGNoYCwgdmVyc2lvbkJyYW5jaC5uYW1lKSA/PyB1bmRlZmluZWQpOyAgXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gY2F0Y2goZXJyb3IpIHtcbiAgICAgIHJlamVjdChlcnJvcilcbiAgICB9ICBcbiAgfSlcbiAgICBcblxufVxuIiwgImltcG9ydCB7IFByb2plY3QgfSBmcm9tIFwiQHlhcm5wa2cvY29yZVwiO1xuaW1wb3J0IGNvbnZlbnRpb25hbENvbW1pdHMgZnJvbSAnY29udmVudGlvbmFsLWNoYW5nZWxvZy1jb252ZW50aW9uYWxjb21taXRzJztcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxvYWRDb25maWcocHJvamVjdDogUHJvamVjdCkgOiBQcm9taXNlPGFueT4ge1xuICByZXR1cm4gY29udmVudGlvbmFsQ29tbWl0cztcbn0iLCAiaW1wb3J0IHsgTWVzc2FnZU5hbWUsIFByb2plY3QsIFJlcG9ydCwgc3RydWN0VXRpbHMsIFdvcmtzcGFjZSB9IGZyb20gXCJAeWFybnBrZy9jb3JlXCI7XG5pbXBvcnQgeyBCcmFuY2hUeXBlLCBHaXRWZXJzaW9uQnJhbmNoIH0gZnJvbSBcIi4uL3R5cGVzXCI7XG5pbXBvcnQgY29udmVudGlvbmFsQ2hhbmdlbG9nIGZyb20gJ2NvbnZlbnRpb25hbC1jaGFuZ2Vsb2cnO1xuaW1wb3J0IHsgbG9hZENvbmZpZyB9IGZyb20gXCIuL2NvbnZlbnRpb25hbGNvbW1pdFwiO1xuaW1wb3J0ICogYXMgZnMgZnJvbSAnZnMnO1xuaW1wb3J0IHsgam9pbiB9IGZyb20gXCJwYXRoXCI7XG5cbmNvbnN0IFNUQVJUX09GX0xBU1RfUkVMRUFTRV9QQVRURVJOID0gLyheIysgXFxbP1swLTldK1xcLlswLTldK1xcLlswLTldK3w8YSBuYW1lPSkvbTtcbmNvbnN0IENIQU5HRUxPR19GSUxFID0gJ0NIQU5HRUxPRy5tZCc7XG5jb25zdCBMQVNUX1JFTEVBU0VfUEFUVEVSTiA9IC9eIysgXFxbKC4qKVxcXS9tO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2hhbmdlbG9nKHZlcnNpb25CcmFuY2g6IEdpdFZlcnNpb25CcmFuY2gsIG5ld1ZlcnNpb246IHN0cmluZywgdGFnUHJlZml4OiBzdHJpbmcsIHByb2plY3Q6IFByb2plY3QsIHdvcmtzcGFjZTogV29ya3NwYWNlLCByZXBvcnQ6IFJlcG9ydCkge1xuXG4gIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgIGlmICh2ZXJzaW9uQnJhbmNoLmJyYW5jaFR5cGUgPT09IEJyYW5jaFR5cGUuRkVBVFVSRSkge1xuICAgICAgcmVwb3J0LnJlcG9ydEluZm8oTWVzc2FnZU5hbWUuVU5OQU1FRCwgJ1tDSEFOR0VMT0ddIFNraXBwaW5nIGNoYW5nZWxvZyBkdWUgdG8gZmVhdHVyZSBicmFuY2gnKTtcbiAgICAgIHJldHVybiByZXNvbHZlKG51bGwpO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBjb25maWcgPSBhd2FpdCBsb2FkQ29uZmlnKHByb2plY3QpO1xuXG4gICAgICBjb25zdCBmaWxlbmFtZSA9IGpvaW4od29ya3NwYWNlLmN3ZCwgQ0hBTkdFTE9HX0ZJTEUpO1xuXG4gICAgICBjb25zdCBoZWFkZXIgPSAnIyBDaGFuZ2Vsb2dcXG5cXG5BbGwgbm90YWJsZSBjaGFuZ2VzIHRvIHRoaXMgcHJvamVjdCB3aWxsIGJlIGRvY3VtZW50ZWQgaW4gdGhpcyBmaWxlXFxuJztcblxuICAgICAgbGV0IG9sZENvbnRlbnQgPSBmcy5yZWFkRmlsZVN5bmMoZmlsZW5hbWUsICd1dGYtOCcpO1xuXG4gICAgICBjb25zdCBsYXN0UmVsZWFzZU1hdGNoID0gb2xkQ29udGVudC5tYXRjaChMQVNUX1JFTEVBU0VfUEFUVEVSTik7XG4gICAgICBcbiAgICAgIGlmIChsYXN0UmVsZWFzZU1hdGNoICYmIGxhc3RSZWxlYXNlTWF0Y2gubGVuZ3RoID4gMSkge1xuICAgICAgICBpZiAobGFzdFJlbGVhc2VNYXRjaFsxXSA9PT0gbmV3VmVyc2lvbikge1xuICAgICAgICAgIHJlcG9ydC5yZXBvcnRJbmZvKE1lc3NhZ2VOYW1lLlVOTkFNRUQsICdSZWxlYXNlIGFscmVhZHkgaW4gQ0hBTkdFTE9HLm1kLiBTa2lwcGluZyBuZXcgdXBkYXRlJyk7XG4gICAgICAgICAgcmV0dXJuIHJlc29sdmUobnVsbCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY29uc3Qgb2xkQ29udGVudFN0YXJ0ID0gb2xkQ29udGVudC5zZWFyY2goU1RBUlRfT0ZfTEFTVF9SRUxFQVNFX1BBVFRFUk4pO1xuICAgICAgLy8gZmluZCB0aGUgcG9zaXRpb24gb2YgdGhlIGxhc3QgcmVsZWFzZSBhbmQgcmVtb3ZlIGhlYWRlcjpcbiAgICAgIGlmIChvbGRDb250ZW50U3RhcnQgIT09IC0xKSB7XG4gICAgICAgIG9sZENvbnRlbnQgPSBvbGRDb250ZW50LnN1YnN0cmluZyhvbGRDb250ZW50U3RhcnQpXG4gICAgICB9XG4gICAgICBsZXQgY29udGVudCA9ICcnXG5cbiAgICAgIGNvbnN0IGNoYW5nZWxvZ1N0cmVhbSA9IGNvbnZlbnRpb25hbENoYW5nZWxvZyh7XG4gICAgICAgIGNvbmZpZzogY29uZmlnLFxuICAgICAgICB0YWdQcmVmaXg6IHRhZ1ByZWZpeCxcbiAgICAgICAgcGF0aDogd29ya3NwYWNlLmN3ZCxcbiAgICAgIH0gYXMgYW55LCB7XG4gICAgICAgIHZlcnNpb246IG5ld1ZlcnNpb24sXG4gICAgICAgIGhvc3Q6ICd1bmtub3duJ1xuICAgICAgfSwgeyBcbiAgICAgICAgbWVyZ2VzOiBudWxsLCBcbiAgICAgICAgcGF0aDogd29ya3NwYWNlLnJlbGF0aXZlQ3dkIFxuICAgICAgfSwge1xuICAgICAgICBoZWFkZXJQYXR0ZXJuOiAvXig/Ok1lcmdlZCBQUiBcXGQrOiApPyhcXHcqKSg/OlxcKCguKilcXCkpPyE/OiAoLiopJC8sXG4gICAgICAgIGJyZWFraW5nSGVhZGVyUGF0dGVybjogL14oPzpNZXJnZWQgUFIgXFxkKzogKT8oXFx3KikoPzpcXCgoLiopXFwpKT8hOiAoLiopJC8sXG4gICAgICAgIHJldmVydFBhdHRlcm46IC9eKD86TWVyZ2VkIFBSIFxcZCs6ICk/KD86UmV2ZXJ0fHJldmVydDopXFxzXCI/KFtcXHNcXFNdKz8pXCI/XFxzKlRoaXMgcmV2ZXJ0cyBjb21taXQgKFxcdyopXFwuL2ksXG4gICAgICB9IGFzIGFueSk7XG4gICAgICBcbiAgICAgIGNoYW5nZWxvZ1N0cmVhbS5vbignZGF0YScsIGZ1bmN0aW9uIChidWZmZXIpIHtcbiAgICAgICAgY29udGVudCArPSBidWZmZXIudG9TdHJpbmcoKVxuICAgICAgfSlcblxuICAgICAgY2hhbmdlbG9nU3RyZWFtLm9uKCdlbmQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJlcG9ydC5yZXBvcnRJbmZvKE1lc3NhZ2VOYW1lLlVOTkFNRUQsIGBbQ0hBTkdFTE9HXSBPdXRwdXR0aW5nIGNoYW5nZXMgdG8gJHtzdHJ1Y3RVdGlscy5zdHJpbmdpZnlMb2NhdG9yKHdvcmtzcGFjZS5sb2NhdG9yKX0vJHtDSEFOR0VMT0dfRklMRX1gKVxuICAgICAgICBmcy53cml0ZUZpbGVTeW5jKGZpbGVuYW1lLCBoZWFkZXIgKyAnXFxuJyArIChjb250ZW50ICsgb2xkQ29udGVudCkucmVwbGFjZSgvXFxuKyQvLCAnXFxuJyksICd1dGYtOCcpXG4gICAgICB9KVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXR1cm4gcmVqZWN0KGVycm9yKVxuICAgIH1cblxuICAgIHJlc29sdmUobnVsbCk7XG4gIH0pXG59XG5cbmZ1bmN0aW9uIHZlcmlmeUV4aXN0ZW5jZSAoZmlsZW5hbWU6IHN0cmluZykge1xuICBpZiAoIWZzLmV4aXN0c1N5bmMoZmlsZW5hbWUpKSB7XG4gICAgZnMud3JpdGVGaWxlU3luYyhmaWxlbmFtZSwgJ1xcbicsICd1dGYtOCcpO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgQmFzZUNvbW1hbmQgfSBmcm9tIFwiQHlhcm5wa2cvY2xpXCI7XG5pbXBvcnQgeyBDb25maWd1cmF0aW9uLCBMaWdodFJlcG9ydCwgTWVzc2FnZU5hbWUsIFByb2plY3QsIHN0cnVjdFV0aWxzLCBXb3Jrc3BhY2UgfSBmcm9tIFwiQHlhcm5wa2cvY29yZVwiO1xuaW1wb3J0IHsgR2l0VmVyc2lvbkNvbmZpZ3VyYXRpb24gfSBmcm9tIFwiLi4vdXRpbHMvY29uZmlndXJhdGlvblwiO1xuaW1wb3J0IHsgQnJhbmNoVHlwZSwgUHVibGlzaGVkUGFja2FnZSwgUHVibGlzaGVkVmVyc2lvbiB9IGZyb20gXCIuLi90eXBlc1wiO1xuXG5pbXBvcnQgeyBqb2luIGFzIHBqb2luIH0gZnJvbSAncGF0aCc7XG5pbXBvcnQgeyBHaXRWZXJzaW9uVGFnQ29tbWFuZCB9IGZyb20gXCIuL3RhZ1wiO1xuaW1wb3J0IHsgZXhlY0NhcHR1cmUgfSBmcm9tIFwiLi4vdXRpbHMvZXhlY1wiO1xuaW1wb3J0IHsgR2l0VmVyc2lvbkNvbW1pdENvbW1hbmQgfSBmcm9tIFwiLi9jb21taXRcIjtcbmltcG9ydCB7IGNvbnZlcnRMb2NhdG9yVG9EZXNjcmlwdG9yLCBtYWtlSWRlbnQgfSBmcm9tIFwiQHlhcm5wa2cvY29yZS9saWIvc3RydWN0VXRpbHNcIjtcbmltcG9ydCB7IGV4aXN0c1N5bmMgfSBmcm9tIFwiZnNcIjtcbmltcG9ydCB7IE9wdGlvbiB9IGZyb20gXCJjbGlwYW5pb25cIjtcbmltcG9ydCB7IHJ1blN0ZXAgfSBmcm9tIFwiLi4vdXRpbHMvcmVwb3J0XCI7XG5jb25zdCBwYXJzZUNoYW5nZWxvZyA9IHJlcXVpcmUoXCJjaGFuZ2Vsb2ctcGFyc2VyXCIpO1xuXG5leHBvcnQgY2xhc3MgR2l0VmVyc2lvblB1Ymxpc2hDb21tYW5kIGV4dGVuZHMgQmFzZUNvbW1hbmQge1xuICBzdGF0aWMgcGF0aHMgPSBbXG4gICAgW2BnaXR2ZXJzaW9uYCwgYHB1Ymxpc2hgXSxcbiAgXTtcblxuICBkcnlSdW4gPSBPcHRpb24uQm9vbGVhbignLS1kcnlSdW4nLCBmYWxzZSk7XG4gIHNraXBUYWcgPSBPcHRpb24uQm9vbGVhbignLS1za2lwVGFnJywgZmFsc2UpO1xuICBza2lwQ29tbWl0ID0gT3B0aW9uLkJvb2xlYW4oJy0tc2tpcENvbW1pdCcsIGZhbHNlKTtcblxuICBhc3luYyBleGVjdXRlKCkge1xuXG4gICAgLy8gZmlyc3QgZXhlY3V0ZSB0YWdcblxuICAgIGNvbnN0IGRvU2tpcFRhZyA9IHRoaXMuZHJ5UnVuIHx8IHRoaXMuc2tpcFRhZztcbiAgICBpZiAoIWRvU2tpcFRhZykge1xuICAgICAgY29uc3QgdGFnQ29tbWFuZCA9IG5ldyBHaXRWZXJzaW9uVGFnQ29tbWFuZCgpO1xuICAgICAgdGFnQ29tbWFuZC5jb250ZXh0ID0gdGhpcy5jb250ZXh0O1xuICAgICAgdGFnQ29tbWFuZC5jbGkgPSB0aGlzLmNsaTtcbiAgICAgIGF3YWl0IHRhZ0NvbW1hbmQuZXhlY3V0ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmxvZyhcIlNraXBwaW5nIHRhZ1wiKVxuICAgIH1cblxuICAgIGNvbnN0IGRvU2tpcENvbW1pdCA9IHRoaXMuZHJ5UnVuIHx8IHRoaXMuc2tpcENvbW1pdDtcbiAgICBpZiAoIWRvU2tpcENvbW1pdCkge1xuICAgICAgY29uc3QgY29tbWl0Q29tbWFuZCA9IG5ldyBHaXRWZXJzaW9uQ29tbWl0Q29tbWFuZCgpO1xuICAgICAgY29tbWl0Q29tbWFuZC5jb250ZXh0ID0gdGhpcy5jb250ZXh0O1xuICAgICAgY29tbWl0Q29tbWFuZC5jbGkgPSB0aGlzLmNsaTtcbiAgICAgIGF3YWl0IGNvbW1pdENvbW1hbmQuZXhlY3V0ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmxvZyhcIlNraXBwaW5nIGNvbW1pdFwiKVxuICAgIH1cbiAgICBcbiAgICBhd2FpdCBydW5TdGVwKCdQdWJpc2hpbmcgcGFja2FnZXMnLCB0aGlzLmNvbnRleHQsIGFzeW5jIChyZXBvcnQsIGNvbmZpZ3VyYXRpb24pID0+IHtcbiAgICAgIGlmIChjb25maWd1cmF0aW9uLnZlcnNpb25CcmFuY2guYnJhbmNoVHlwZSA9PT0gQnJhbmNoVHlwZS5VTktOT1dOKSB7XG4gICAgICAgIHJlcG9ydC5yZXBvcnRFcnJvcihNZXNzYWdlTmFtZS5VTk5BTUVELCAnUnVubmluZyBvbiB1bmtub3duIGJyYW5jaCB0eXBlLiBCcmVha2luZyBvZmYnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSAgIFxuXG4gICAgICBjb25zdCB7IHByb2plY3QgfSA9IGF3YWl0IFByb2plY3QuZmluZChjb25maWd1cmF0aW9uLnlhcm5Db25maWcsIHRoaXMuY29udGV4dC5jd2QpO1xuXG4gICAgICBpZiAoY29uZmlndXJhdGlvbi5pbmRlcGVuZGVudFZlcnNpb25pbmcpIHtcbiAgICAgICAgcmVwb3J0LnJlcG9ydEVycm9yKE1lc3NhZ2VOYW1lLlVOTkFNRUQsICdJbmRlcGVuZGVudFZlcnNpb25pbmcgaXMgbm90IGltcGxlbWVudGVkJylcbiAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgY29uc3QgcHVibGljV29ya3NwYWNlcyA9IHByb2plY3Qud29ya3NwYWNlcy5maWx0ZXIodGhpcy5maWx0ZXJQdWJsaWNXb3Jrc3BhY2UpO1xuXG4gICAgICAgIGZvciAoY29uc3Qgd29ya3NwYWNlIG9mIHB1YmxpY1dvcmtzcGFjZXMpIHtcbiAgICAgICAgICBsZXQgcmVsZWFzZVRhZ1Bvc3RmaXggOiBzdHJpbmdbXSA9IFtdO1xuICAgICAgICAgIGlmIChjb25maWd1cmF0aW9uLnZlcnNpb25CcmFuY2guYnJhbmNoVHlwZSA9PT0gQnJhbmNoVHlwZS5GRUFUVVJFIHx8IGNvbmZpZ3VyYXRpb24udmVyc2lvbkJyYW5jaC5icmFuY2hUeXBlID09PSBCcmFuY2hUeXBlLlBSRVJFTEVBU0UpIHtcbiAgICAgICAgICAgIHJlbGVhc2VUYWdQb3N0Zml4ID0gWyctLXRhZycsIGNvbmZpZ3VyYXRpb24udmVyc2lvbkJyYW5jaC5uYW1lXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVwb3J0LnJlcG9ydEluZm8oTWVzc2FnZU5hbWUuVU5OQU1FRCwgYFB1Ymxpc2hpbmcgJHtzdHJ1Y3RVdGlscy5zdHJpbmdpZnlJZGVudCh3b3Jrc3BhY2UubG9jYXRvcil9YClcblxuICAgICAgICAgIGlmICghdGhpcy5kcnlSdW4pIHtcbiAgICAgICAgICAgIGF3YWl0IGV4ZWNDYXB0dXJlKCd5YXJuJywgWyducG0nLCAncHVibGlzaCcsIC4uLnJlbGVhc2VUYWdQb3N0Zml4XSwgd29ya3NwYWNlLmN3ZCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlcG9ydC5yZXBvcnRJbmZvKE1lc3NhZ2VOYW1lLlVOTkFNRUQsICdza2lwcGluZyBwdWJsaXNoIGR1ZSB0byBkcnlSdW4uIFdvdWxkIHJ1biBjb21tYW5kOicpXG4gICAgICAgICAgICByZXBvcnQucmVwb3J0SW5mbyhNZXNzYWdlTmFtZS5VTk5BTUVELCBbJ3lhcm4nLCAnbnBtJywgJ3B1Ymxpc2gnLCAuLi5yZWxlYXNlVGFnUG9zdGZpeF0uam9pbignICcpKTtcbiAgICAgICAgICAgIHJlcG9ydC5yZXBvcnRJbmZvKE1lc3NhZ2VOYW1lLlVOTkFNRUQsIGBJbiBmb2xkZXI6ICR7d29ya3NwYWNlLmN3ZH1gKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHB1Ymxpc2hlZFZlcnNpb24gOiBQdWJsaXNoZWRWZXJzaW9uID0ge1xuICAgICAgICAgIC4uLiBhd2FpdCB0aGlzLnJlYWRDaGFuZ2VMb2cocHJvamVjdC50b3BMZXZlbFdvcmtzcGFjZSksXG4gICAgICAgICAgcGFja2FnZXM6IGF3YWl0IFByb21pc2UuYWxsKHB1YmxpY1dvcmtzcGFjZXMubWFwKHdvcmtzcGFjZSA9PiB0aGlzLnJlYWRDaGFuZ2VMb2cod29ya3NwYWNlKSkpXG4gICAgICAgIH1cblxuICAgICAgICBhd2FpdCBwcm9qZWN0LmNvbmZpZ3VyYXRpb24udHJpZ2dlckhvb2soaG9va3MgPT4ge1xuICAgICAgICAgIHJldHVybiBob29rcy5hZnRlclB1Ymxpc2g7XG4gICAgICAgIH0sIHByb2plY3QsIGNvbmZpZ3VyYXRpb24udmVyc2lvbkJyYW5jaCwgcHVibGlzaGVkVmVyc2lvbik7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBhc3luYyByZWFkQ2hhbmdlTG9nKHdvcmtzcGFjZTogV29ya3NwYWNlKSA6IFByb21pc2U8UHVibGlzaGVkUGFja2FnZT4ge1xuICAgIGNvbnN0IGZpbGVQYXRoID0gcGpvaW4od29ya3NwYWNlLmN3ZCwgJ0NIQU5HRUxPRy5tZCcpO1xuXG4gICAgY29uc3QgcmVsZWFzZWRWZXJzaW9uID0gd29ya3NwYWNlLm1hbmlmZXN0LnZlcnNpb247XG5cbiAgICBsZXQgY3VycmVudFJlbGVhc2VDaGFuZ2Vsb2cgOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gICAgXG4gICAgaWYgKGV4aXN0c1N5bmMoZmlsZVBhdGgpKSB7XG4gICAgICBjb25zdCBjaGFuZ2VMb2cgPSBhd2FpdCBwYXJzZUNoYW5nZWxvZyh7XG4gICAgICAgIGZpbGVQYXRoOiBwam9pbih3b3Jrc3BhY2UuY3dkLCAnQ0hBTkdFTE9HLm1kJyksXG4gICAgICAgIHJlbW92ZU1hcmtkb3duOiBmYWxzZVxuICAgICAgfSlcblxuICAgICAgY3VycmVudFJlbGVhc2VDaGFuZ2Vsb2cgPSBjaGFuZ2VMb2cudmVyc2lvbnMuZmluZCgodmVyc2lvbkVudHJ5IDogYW55KSA9PiB2ZXJzaW9uRW50cnkudmVyc2lvbiA9PT0gcmVsZWFzZWRWZXJzaW9uKT8uYm9keTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHZlcnNpb246IHJlbGVhc2VkVmVyc2lvbiB8fCAnMC4wLjAnLFxuICAgICAgY2hhbmdlbG9nOiBjdXJyZW50UmVsZWFzZUNoYW5nZWxvZyxcbiAgICAgIHBhY2thZ2VOYW1lOiBzdHJ1Y3RVdGlscy5zdHJpbmdpZnlJZGVudCh3b3Jrc3BhY2UubG9jYXRvcilcbiAgICB9XG59XG4gIFxuICBmaWx0ZXJQdWJsaWNXb3Jrc3BhY2Uod29ya3NwYWNlOiBXb3Jrc3BhY2UpIDogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHdvcmtzcGFjZS5tYW5pZmVzdC5wcml2YXRlID09PSBmYWxzZVxuICB9XG59IiwgImltcG9ydCB7IEJhc2VDb21tYW5kIH0gZnJvbSBcIkB5YXJucGtnL2NsaVwiO1xuaW1wb3J0IHsgUHJvamVjdCwgTWFuaWZlc3QsIENvbmZpZ3VyYXRpb24sIE1lc3NhZ2VOYW1lIH0gZnJvbSBcIkB5YXJucGtnL2NvcmVcIjtcbmltcG9ydCB7IENvbW1hbmQsIE9wdGlvbiB9IGZyb20gXCJjbGlwYW5pb25cIjtcbmltcG9ydCB7IEJyYW5jaFR5cGUgfSBmcm9tIFwiLi4vdHlwZXNcIjtcbmltcG9ydCB7IERFRkFVTFRfUkVQT19WRVJTSU9OLCBHaXRWZXJzaW9uQ29uZmlndXJhdGlvbiB9IGZyb20gXCIuLi91dGlscy9jb25maWd1cmF0aW9uXCI7XG5pbXBvcnQgeyB0YWcgfSBmcm9tIFwiLi4vdXRpbHMvZ2l0XCI7XG5pbXBvcnQgeyBydW5TdGVwIH0gZnJvbSBcIi4uL3V0aWxzL3JlcG9ydFwiO1xuXG5leHBvcnQgY2xhc3MgR2l0VmVyc2lvblRhZ0NvbW1hbmQgZXh0ZW5kcyBCYXNlQ29tbWFuZCB7XG4gIHN0YXRpYyBwYXRocyA9IFtcbiAgICBbYGdpdHZlcnNpb25gLCBgdGFnYF0sXG4gIF07XG5cbiAgcHVzaCA9IE9wdGlvbi5Cb29sZWFuKCdQdXNoIHRoZSB0YWdzIHRvIGdpdCcsIHRydWUpO1xuXG4gIGFzeW5jIGV4ZWN1dGUoKSB7XG4gICAgYXdhaXQgcnVuU3RlcCgnUmVzZXR0aW5nIGZpbGUgdmVyc2lvbnMnLCB0aGlzLmNvbnRleHQsIGFzeW5jIChyZXBvcnQsIGNvbmZpZ3VyYXRpb24pID0+IHtcbiAgICAgIGlmIChjb25maWd1cmF0aW9uLnZlcnNpb25CcmFuY2guYnJhbmNoVHlwZSA9PT0gQnJhbmNoVHlwZS5VTktOT1dOKSB7XG4gICAgICAgIHJlcG9ydC5yZXBvcnRFcnJvcihNZXNzYWdlTmFtZS5VTk5BTUVELCAnUnVubmluZyBvbiB1bmtub3duIGJyYW5jaCB0eXBlLiBCcmVha2luZyBvZmYnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSAgICBcblxuICAgICAgY29uc3QgeyBwcm9qZWN0IH0gPSBhd2FpdCBQcm9qZWN0LmZpbmQoY29uZmlndXJhdGlvbi55YXJuQ29uZmlnLCB0aGlzLmNvbnRleHQuY3dkKTtcblxuICAgICAgaWYgKGNvbmZpZ3VyYXRpb24uaW5kZXBlbmRlbnRWZXJzaW9uaW5nKSB7XG4gICAgICAgIHJlcG9ydC5yZXBvcnRFcnJvcihNZXNzYWdlTmFtZS5VTk5BTUVELCAnSW5kZXBlbmRlbnRWZXJzaW9uaW5nIGlzIG5vdCBpbXBsZW1lbnRlZCcpXG4gICAgICB9IGVsc2Uge1xuXG4gICAgICAgIGNvbnN0IHRvcFZlcnNpb24gPSBwcm9qZWN0LnRvcExldmVsV29ya3NwYWNlLm1hbmlmZXN0LnZlcnNpb247XG5cbiAgICAgICAgaWYgKCF0b3BWZXJzaW9uIHx8IHRvcFZlcnNpb24gPT09IERFRkFVTFRfUkVQT19WRVJTSU9OKSB7XG4gICAgICAgICAgcmVwb3J0LnJlcG9ydEluZm8oTWVzc2FnZU5hbWUuVU5OQU1FRCwgYE5vIGFjdGl2ZSBidW1wIGRldGVjdGVkLiBTa2lwcGluZyB0YWcgc3RlcGApO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgYXdhaXQgdGFnKGAke2NvbmZpZ3VyYXRpb24udmVyc2lvblRhZ1ByZWZpeH0ke3RvcFZlcnNpb259YCwgdGhpcy5wdXNoKSAgICAgICAgXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0iLCAiaW1wb3J0IHsgQmFzZUNvbW1hbmQgfSBmcm9tIFwiQHlhcm5wa2cvY2xpXCI7XG5pbXBvcnQgeyBQcm9qZWN0LCBNYW5pZmVzdCwgQ29uZmlndXJhdGlvbiwgTWVzc2FnZU5hbWUgfSBmcm9tIFwiQHlhcm5wa2cvY29yZVwiO1xuaW1wb3J0IHsgZXhpc3RzU3luYyB9IGZyb20gXCJmc1wiO1xuaW1wb3J0IHsgQnJhbmNoVHlwZSB9IGZyb20gXCIuLi90eXBlc1wiO1xuaW1wb3J0IHsgREVGQVVMVF9SRVBPX1ZFUlNJT04sIEdpdFZlcnNpb25Db25maWd1cmF0aW9uIH0gZnJvbSBcIi4uL3V0aWxzL2NvbmZpZ3VyYXRpb25cIjtcbmltcG9ydCB7IGFkZEFuZENvbW1pdCwgdGFnIH0gZnJvbSBcIi4uL3V0aWxzL2dpdFwiO1xuaW1wb3J0IHsgcnVuU3RlcCB9IGZyb20gXCIuLi91dGlscy9yZXBvcnRcIjtcblxuZXhwb3J0IGNsYXNzIEdpdFZlcnNpb25Db21taXRDb21tYW5kIGV4dGVuZHMgQmFzZUNvbW1hbmQge1xuICBzdGF0aWMgcGF0aHMgPSBbXG4gICAgW2BnaXR2ZXJzaW9uYCwgYGNvbW1pdGBdLFxuICBdO1xuXG4gIGFzeW5jIGV4ZWN1dGUoKSB7XG4gICAgYXdhaXQgcnVuU3RlcCgnQ29tbWl0IGNoYW5nZWxvZ3MnLCB0aGlzLmNvbnRleHQsIGFzeW5jIChyZXBvcnQsIGNvbmZpZ3VyYXRpb24pID0+IHtcbiAgICAgIGlmIChjb25maWd1cmF0aW9uLnZlcnNpb25CcmFuY2guYnJhbmNoVHlwZSA9PT0gQnJhbmNoVHlwZS5VTktOT1dOKSB7XG4gICAgICAgIHJlcG9ydC5yZXBvcnRFcnJvcihNZXNzYWdlTmFtZS5VTk5BTUVELCAnUnVubmluZyBvbiB1bmtub3duIGJyYW5jaCB0eXBlLiBCcmVha2luZyBvZmYnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIFxuICAgICAgY29uc3QgeyBwcm9qZWN0IH0gPSBhd2FpdCBQcm9qZWN0LmZpbmQoY29uZmlndXJhdGlvbi55YXJuQ29uZmlnLCB0aGlzLmNvbnRleHQuY3dkKTtcblxuICAgICAgaWYgKGNvbmZpZ3VyYXRpb24uaW5kZXBlbmRlbnRWZXJzaW9uaW5nKSB7XG4gICAgICAgIHJlcG9ydC5yZXBvcnRFcnJvcihNZXNzYWdlTmFtZS5VTk5BTUVELCAnSW5kZXBlbmRlbnRWZXJzaW9uaW5nIGlzIG5vdCBpbXBsZW1lbnRlZCcpXG4gICAgICB9IGVsc2Uge1xuXG4gICAgICAgIGNvbnN0IHRvcFZlcnNpb24gPSBwcm9qZWN0LnRvcExldmVsV29ya3NwYWNlLm1hbmlmZXN0LnZlcnNpb247XG5cbiAgICAgICAgY29uc3QgY2hhbmdlbG9nRmlsZXMgPSBwcm9qZWN0LndvcmtzcGFjZXNcbiAgICAgICAgICAubWFwKCh3b3Jrc3BhY2UpID0+IGAke3dvcmtzcGFjZS5jd2R9L0NIQU5HRUxPRy5tZGApXG4gICAgICAgICAgLmZpbHRlcigoZmlsZSkgPT4gZXhpc3RzU3luYyhmaWxlKSlcblxuICAgICAgICBpZiAoY2hhbmdlbG9nRmlsZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgcmVwb3J0LnJlcG9ydEluZm8oTWVzc2FnZU5hbWUuVU5OQU1FRCwgJ05vIGNoYW5nZWxvZyBmaWxlcyB0byBjb21taXQuIFNraXBwaW5nIGNvbW1pdCBzdGVwJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0b3BWZXJzaW9uIHx8IHRvcFZlcnNpb24gPT09IERFRkFVTFRfUkVQT19WRVJTSU9OKSB7XG4gICAgICAgICAgcmVwb3J0LnJlcG9ydEluZm8oTWVzc2FnZU5hbWUuVU5OQU1FRCwgYE5vIGFjdGl2ZSBidW1wIGRldGVjdGVkLiBTa2lwcGluZyBjb21taXQgc3RlcGApO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGF3YWl0IGFkZEFuZENvbW1pdChjaGFuZ2Vsb2dGaWxlcyAsIGBjaG9yZShyZWxlYXNlKTogJHt0b3BWZXJzaW9ufWApXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0iLCAiaW1wb3J0IHsgQmFzZUNvbW1hbmQgfSBmcm9tIFwiQHlhcm5wa2cvY2xpXCI7XG5pbXBvcnQgeyBDb25maWd1cmF0aW9uLCBNZXNzYWdlTmFtZSwgUHJvamVjdCwgc3RydWN0VXRpbHMgfSBmcm9tIFwiQHlhcm5wa2cvY29yZVwiO1xuaW1wb3J0IHsgR2l0VmVyc2lvbkNvbmZpZ3VyYXRpb24gfSBmcm9tIFwiLi4vdXRpbHMvY29uZmlndXJhdGlvblwiO1xuaW1wb3J0IHsgcnVuU3RlcCB9IGZyb20gXCIuLi91dGlscy9yZXBvcnRcIjtcblxuZXhwb3J0IGNsYXNzIEdpdFZlcnNpb25DaGVja0NvbW1hbmQgZXh0ZW5kcyBCYXNlQ29tbWFuZCB7XG4gIHN0YXRpYyBwYXRocyA9IFtcbiAgICBbYGdpdHZlcnNpb25gLCBgY2hlY2tgXSxcbiAgXTtcblxuICBhc3luYyBleGVjdXRlKCkge1xuICAgIGF3YWl0IHJ1blN0ZXAoJ0NoZWNrIGdpdHZlcnNpb24gcGx1Z2luJywgdGhpcy5jb250ZXh0LCBhc3luYyAocmVwb3J0LCBjb25maWd1cmF0aW9uKSA9PiB7XG5cbiAgICAgIHJlcG9ydC5yZXBvcnRJbmZvKE1lc3NhZ2VOYW1lLlVOTkFNRUQsIGBCcmFuY2ggdHlwZTogJHtjb25maWd1cmF0aW9uLnZlcnNpb25CcmFuY2guYnJhbmNoVHlwZX1gKTtcbiAgICAgIHJlcG9ydC5yZXBvcnRJbmZvKE1lc3NhZ2VOYW1lLlVOTkFNRUQsIGBCcmFuY2ggbmFtZTogJHtjb25maWd1cmF0aW9uLnZlcnNpb25CcmFuY2gubmFtZX1gKTtcblxuICAgICAgY29uc3QgeyBwcm9qZWN0IH0gPSBhd2FpdCBQcm9qZWN0LmZpbmQoY29uZmlndXJhdGlvbi55YXJuQ29uZmlnLCB0aGlzLmNvbnRleHQuY3dkKTtcblxuICAgICAgcHJvamVjdC53b3Jrc3BhY2VzLmZvckVhY2goKGNoaWxkKSA9PiB7XG4gICAgICAgIHJlcG9ydC5yZXBvcnRJbmZvKE1lc3NhZ2VOYW1lLlVOTkFNRUQsIGAke3N0cnVjdFV0aWxzLnN0cmluZ2lmeUxvY2F0b3IoY2hpbGQubG9jYXRvcil9IFByaXZhdGU6ICR7Y2hpbGQubWFuaWZlc3QucHJpdmF0ZX1gKVxuICAgICAgfSlcbiAgICB9KTtcbiAgfVxufVxuIiwgImltcG9ydCB7IEJhc2VDb21tYW5kIH0gZnJvbSBcIkB5YXJucGtnL2NsaVwiO1xuaW1wb3J0IHsgTWVzc2FnZU5hbWUsIFByb2plY3QsIHN0cnVjdFV0aWxzLCBXb3Jrc3BhY2UgfSBmcm9tIFwiQHlhcm5wa2cvY29yZVwiO1xuaW1wb3J0IHsgQnJhbmNoVHlwZSwgUHVibGlzaGVkUGFja2FnZSwgUHVibGlzaGVkVmVyc2lvbiB9IGZyb20gXCIuLi90eXBlc1wiO1xuXG5pbXBvcnQgeyBqb2luLCBqb2luIGFzIHBqb2luIH0gZnJvbSAncGF0aCc7XG5pbXBvcnQgeyBleGVjQ2FwdHVyZSB9IGZyb20gXCIuLi91dGlscy9leGVjXCI7XG5pbXBvcnQgeyBleGlzdHNTeW5jIH0gZnJvbSBcImZzXCI7XG5pbXBvcnQgeyBPcHRpb24gfSBmcm9tIFwiY2xpcGFuaW9uXCI7XG5pbXBvcnQgeyBydW5TdGVwIH0gZnJvbSBcIi4uL3V0aWxzL3JlcG9ydFwiO1xuaW1wb3J0IHsgbWtkaXIsIHdyaXRlRmlsZSB9IGZyb20gXCJmcy9wcm9taXNlc1wiO1xuY29uc3QgcGFyc2VDaGFuZ2Vsb2cgPSByZXF1aXJlKFwiY2hhbmdlbG9nLXBhcnNlclwiKTtcblxuZXhwb3J0IGNsYXNzIEdpdFZlcnNpb25QYWNrQ29tbWFuZCBleHRlbmRzIEJhc2VDb21tYW5kIHtcbiAgc3RhdGljIHBhdGhzID0gW1xuICAgIFtgZ2l0dmVyc2lvbmAsIGBwYWNrYF0sXG4gIF07XG5cbiAgb3V0cHV0Rm9sZGVyID0gT3B0aW9uLlN0cmluZygnT3V0cHV0IGZvbGRlcicsICdnaXR2ZXJzaW9uLXBhY2thZ2UnKTtcblxuICBhc3luYyBleGVjdXRlKCkge1xuXG4gICAgXG4gICAgYXdhaXQgcnVuU3RlcCgnUGFja2FnaW5nIHBhY2thZ2VzJywgdGhpcy5jb250ZXh0LCBhc3luYyAocmVwb3J0LCBjb25maWd1cmF0aW9uKSA9PiB7XG4gICAgICBpZiAoY29uZmlndXJhdGlvbi52ZXJzaW9uQnJhbmNoLmJyYW5jaFR5cGUgPT09IEJyYW5jaFR5cGUuVU5LTk9XTikge1xuICAgICAgICByZXBvcnQucmVwb3J0RXJyb3IoTWVzc2FnZU5hbWUuVU5OQU1FRCwgJ1J1bm5pbmcgb24gdW5rbm93biBicmFuY2ggdHlwZS4gQnJlYWtpbmcgb2ZmJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gICBcblxuICAgICAgY29uc3QgeyBwcm9qZWN0IH0gPSBhd2FpdCBQcm9qZWN0LmZpbmQoY29uZmlndXJhdGlvbi55YXJuQ29uZmlnLCB0aGlzLmNvbnRleHQuY3dkKTtcblxuICAgICAgaWYgKGNvbmZpZ3VyYXRpb24uaW5kZXBlbmRlbnRWZXJzaW9uaW5nKSB7XG4gICAgICAgIHJlcG9ydC5yZXBvcnRFcnJvcihNZXNzYWdlTmFtZS5VTk5BTUVELCAnSW5kZXBlbmRlbnRWZXJzaW9uaW5nIGlzIG5vdCBpbXBsZW1lbnRlZCcpXG4gICAgICB9IGVsc2Uge1xuXG4gICAgICAgIGNvbnN0IHB1YmxpY1dvcmtzcGFjZXMgPSBwcm9qZWN0LndvcmtzcGFjZXMuZmlsdGVyKHRoaXMuZmlsdGVyUHVibGljV29ya3NwYWNlKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHBhY2tGb2xkZXIgPSBqb2luKHByb2plY3QuY3dkLCB0aGlzLm91dHB1dEZvbGRlcilcbiAgICAgICAgYXdhaXQgbWtkaXIocGFja0ZvbGRlciwge1xuICAgICAgICAgIHJlY3Vyc2l2ZTogdHJ1ZVxuICAgICAgICB9KVxuXG4gICAgICAgIGZvciAoY29uc3Qgd29ya3NwYWNlIG9mIHB1YmxpY1dvcmtzcGFjZXMpIHtcbiAgICAgICAgICBsZXQgcmVsZWFzZVRhZ1Bvc3RmaXggOiBzdHJpbmdbXSA9IFtdO1xuICAgICAgICAgIGlmIChjb25maWd1cmF0aW9uLnZlcnNpb25CcmFuY2guYnJhbmNoVHlwZSA9PT0gQnJhbmNoVHlwZS5GRUFUVVJFIHx8IGNvbmZpZ3VyYXRpb24udmVyc2lvbkJyYW5jaC5icmFuY2hUeXBlID09PSBCcmFuY2hUeXBlLlBSRVJFTEVBU0UpIHtcbiAgICAgICAgICAgIHJlbGVhc2VUYWdQb3N0Zml4ID0gWyctLXRhZycsIGNvbmZpZ3VyYXRpb24udmVyc2lvbkJyYW5jaC5uYW1lXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVwb3J0LnJlcG9ydEluZm8oTWVzc2FnZU5hbWUuVU5OQU1FRCwgYFBhY2tpbmcgJHtzdHJ1Y3RVdGlscy5zdHJpbmdpZnlJZGVudCh3b3Jrc3BhY2UubG9jYXRvcil9YClcblxuICAgICAgICAgIGF3YWl0IGV4ZWNDYXB0dXJlKCd5YXJuJywgWydwYWNrJywgJy1vJywgam9pbihwYWNrRm9sZGVyLCBgJHt3b3Jrc3BhY2UubG9jYXRvci5zY29wZSA/IHdvcmtzcGFjZS5sb2NhdG9yLnNjb3BlICsgJy0nIDogJyd9JHt3b3Jrc3BhY2UubG9jYXRvci5uYW1lfS0ke3dvcmtzcGFjZS5tYW5pZmVzdC52ZXJzaW9ufS50Z3pgKV0sIHdvcmtzcGFjZS5jd2QpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZGlmZiA9IGF3YWl0IGV4ZWNDYXB0dXJlKCdnaXQnLCBbJ2RpZmYnLCAnLS0nLCAnKkNIQU5HRUxPRy5tZCddLCBwcm9qZWN0LmN3ZCk7XG5cbiAgICAgICAgYXdhaXQgd3JpdGVGaWxlKGpvaW4ocGFja0ZvbGRlciwgJ2NoYW5nZWxvZy5kaWZmLnBhdGNoJyksIGRpZmYucmVzdWx0KTtcblxuICAgICAgICBjb25zdCBjb25maWdDb250ZW50ID0gSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIHZlcnNpb25UYWc6IGNvbmZpZ3VyYXRpb24udmVyc2lvbkJyYW5jaC5uYW1lLFxuICAgICAgICAgIHZlcnNpb246IHByb2plY3QudG9wTGV2ZWxXb3Jrc3BhY2UubWFuaWZlc3QudmVyc2lvblxuICAgICAgICB9KVxuICAgICAgICBhd2FpdCB3cml0ZUZpbGUoam9pbihwYWNrRm9sZGVyLCAnZ2l0dmVyc2lvbi5jb25maWcuanNvbicpLCBjb25maWdDb250ZW50LCAndXRmLTgnKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGFzeW5jIHJlYWRDaGFuZ2VMb2cod29ya3NwYWNlOiBXb3Jrc3BhY2UpIDogUHJvbWlzZTxQdWJsaXNoZWRQYWNrYWdlPiB7XG4gICAgY29uc3QgZmlsZVBhdGggPSBwam9pbih3b3Jrc3BhY2UuY3dkLCAnQ0hBTkdFTE9HLm1kJyk7XG5cbiAgICBjb25zdCByZWxlYXNlZFZlcnNpb24gPSB3b3Jrc3BhY2UubWFuaWZlc3QudmVyc2lvbjtcblxuICAgIGxldCBjdXJyZW50UmVsZWFzZUNoYW5nZWxvZyA6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgICBcbiAgICBpZiAoZXhpc3RzU3luYyhmaWxlUGF0aCkpIHtcbiAgICAgIGNvbnN0IGNoYW5nZUxvZyA9IGF3YWl0IHBhcnNlQ2hhbmdlbG9nKHtcbiAgICAgICAgZmlsZVBhdGg6IHBqb2luKHdvcmtzcGFjZS5jd2QsICdDSEFOR0VMT0cubWQnKSxcbiAgICAgICAgcmVtb3ZlTWFya2Rvd246IGZhbHNlXG4gICAgICB9KVxuXG4gICAgICBjdXJyZW50UmVsZWFzZUNoYW5nZWxvZyA9IGNoYW5nZUxvZy52ZXJzaW9ucy5maW5kKCh2ZXJzaW9uRW50cnkgOiBhbnkpID0+IHZlcnNpb25FbnRyeS52ZXJzaW9uID09PSByZWxlYXNlZFZlcnNpb24pPy5ib2R5O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgdmVyc2lvbjogcmVsZWFzZWRWZXJzaW9uIHx8ICcwLjAuMCcsXG4gICAgICBjaGFuZ2Vsb2c6IGN1cnJlbnRSZWxlYXNlQ2hhbmdlbG9nLFxuICAgICAgcGFja2FnZU5hbWU6IHN0cnVjdFV0aWxzLnN0cmluZ2lmeUlkZW50KHdvcmtzcGFjZS5sb2NhdG9yKVxuICAgIH1cbn1cbiAgXG4gIGZpbHRlclB1YmxpY1dvcmtzcGFjZSh3b3Jrc3BhY2U6IFdvcmtzcGFjZSkgOiBib29sZWFuIHtcbiAgICByZXR1cm4gd29ya3NwYWNlLm1hbmlmZXN0LnByaXZhdGUgPT09IGZhbHNlXG4gIH1cbn0iLCAiaW1wb3J0IHsgUGx1Z2luLCBXcmFwTmV0d29ya1JlcXVlc3RJbmZvIH0gZnJvbSAnQHlhcm5wa2cvY29yZSc7XG5pbXBvcnQgeyBHaXRWZXJzaW9uQ29uZmlndXJhdGlvbiB9IGZyb20gJy4vdXRpbHMvY29uZmlndXJhdGlvbic7XG5pbXBvcnQgeyBHaXRWZXJzaW9uUmVzdG9yZUNvbW1hbmQgfSBmcm9tICcuL2NvbW1hbmRzL3Jlc3RvcmUnO1xuaW1wb3J0IHsgR2l0VmVyc2lvblJlc2V0Q29tbWFuZCB9IGZyb20gJy4vY29tbWFuZHMvcmVzZXQnO1xuaW1wb3J0IHsgR2l0VmVyc2lvbkJ1bXBDb21tYW5kIH0gZnJvbSAnLi9jb21tYW5kcy9idW1wJztcbmltcG9ydCB7IEdpdFZlcnNpb25QdWJsaXNoQ29tbWFuZCB9IGZyb20gJy4vY29tbWFuZHMvcHVibGlzaCc7XG5pbXBvcnQgeyBHaXRWZXJzaW9uQ2hlY2tDb21tYW5kIH0gZnJvbSAnLi9jb21tYW5kcy9jaGVjayc7XG5pbXBvcnQgeyBHaXRWZXJzaW9uVGFnQ29tbWFuZCB9IGZyb20gJy4vY29tbWFuZHMvdGFnJztcbmltcG9ydCB7IEdpdFZlcnNpb25Db21taXRDb21tYW5kIH0gZnJvbSAnLi9jb21tYW5kcy9jb21taXQnO1xuaW1wb3J0IHsgR2l0VmVyc2lvblBhY2tDb21tYW5kIH0gZnJvbSAnLi9jb21tYW5kcy9wYWNrJztcblxuXG5leHBvcnQgY29uc3QgcGx1Z2luOiBQbHVnaW4gPSB7XG4gIGNvbmZpZ3VyYXRpb246IEdpdFZlcnNpb25Db25maWd1cmF0aW9uLmRlZmluaXRpb24sXG4gIGNvbW1hbmRzOiBbXG4gICAgR2l0VmVyc2lvbkNoZWNrQ29tbWFuZCxcbiAgICBHaXRWZXJzaW9uUmVzdG9yZUNvbW1hbmQsXG4gICAgR2l0VmVyc2lvblJlc2V0Q29tbWFuZCxcbiAgICBHaXRWZXJzaW9uQnVtcENvbW1hbmQsXG4gICAgR2l0VmVyc2lvblRhZ0NvbW1hbmQsXG4gICAgR2l0VmVyc2lvbkNvbW1pdENvbW1hbmQsXG4gICAgR2l0VmVyc2lvblB1Ymxpc2hDb21tYW5kLFxuICAgIEdpdFZlcnNpb25QYWNrQ29tbWFuZCxcbiAgXSxcbiAgaG9va3M6IHtcbiAgICBhc3luYyB3cmFwTmV0d29ya1JlcXVlc3QoX2V4ZWN1dG9yOiAoKSA9PiBQcm9taXNlPGFueT4sIGV4dHJhOiBXcmFwTmV0d29ya1JlcXVlc3RJbmZvKSB7XG5cbiAgICAgIC8qKlxuICAgICAgICogVE9ETzpSZXBsYWNlIHRhZyBvbiBwdWJsaXNoIHdoZW4gaW4gcHJlcmVsZWFzZSFcbiAgICAgICAqL1xuXG4gICAgICAvLyBjb25zb2xlLmxvZyhleHRyYSk7XG4gICAgICByZXR1cm4gX2V4ZWN1dG9yO1xuICAgICAgLy8gaWYgKHR5cGVvZiBleHRyYS5ib2R5ID09PSAnb2JqZWN0Jykge1xuICAgICAgLy8gICAoZXh0cmEuYm9keSBhcyBhbnkpWyduYW1lJ10gPSAnam9vc3R2ZHdzZCc7XG4gICAgICAvLyB9XG4gICAgICAvLyBjb25zb2xlLmxvZyhleHRyYS5ib2R5KTtcbiAgICAgIC8vIGNvbnN0IG5ld0V4ZWN1dG9yID0gaHR0cFV0aWxzLnJlcXVlc3QoZXh0cmEudGFyZ2V0LCBleHRyYS5ib2R5LCB7IC4uLmV4dHJhIH0pO1xuXG4gICAgICAvLyByZXR1cm4gbmV3RXhlY3V0b3I7XG4gICAgfVxuICB9XG59O1xuIl0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7d29DQUFBLG1CQUNBLEFBQUMsVUFBVSxFQUFNLEVBQVMsQ0FFeEIsQUFBSSxNQUFPLFNBQVcsWUFBYyxPQUFPLElBQ3pDLE9BQU8sR0FBSSxHQUNOLEFBQUksTUFBTyxLQUFZLFNBQzVCLEdBQU8sUUFBVSxJQUVqQixFQUFLLGdCQUFrQixNQUV4QixHQUFNLFVBQVksQ0FDbkIsR0FBSSxHQUNGLDZJQUVGLFdBQW9CLEVBQUssRUFBRyxDQUMxQixNQUFPLEdBQUksUUFBUSxLQUFPLEdBQUssRUFBSSxPQUFTLEVBQUksUUFBUSxHQUcxRCxXQUFlLEVBQUcsQ0FDaEIsR0FBSSxHQUFJLEVBQUUsUUFBUSxLQUFNLElBQUksUUFBUSxRQUFTLElBQ3pDLEVBQWEsRUFBVyxFQUFHLEtBQzNCLEVBQU0sRUFBRSxVQUFVLEVBQUcsR0FBWSxNQUFNLEtBQzNDLFNBQUksS0FBSyxFQUFFLFVBQVUsRUFBYSxJQUMzQixFQUdULFdBQWtCLEVBQUcsQ0FDbkIsR0FBSSxHQUFJLFNBQVMsRUFBRyxJQUNwQixNQUFPLE9BQU0sR0FBSyxFQUFJLEVBR3hCLFdBQTBCLEVBQUcsQ0FDM0IsR0FBSSxNQUFPLElBQU0sU0FDZixLQUFNLElBQUksV0FBVSxvQ0FFdEIsR0FBSSxHQUFRLEVBQUUsTUFBTSxHQUNwQixHQUFJLENBQUMsRUFDSCxLQUFNLElBQUksT0FDUix1Q0FBeUMsRUFBSSxlQUdqRCxTQUFNLFFBQ0MsRUFHVCxXQUFtQixFQUFHLEVBQUcsQ0FDdkIsTUFBTyxPQUFPLElBQU0sTUFBTyxHQUFJLENBQUMsT0FBTyxHQUFJLE9BQU8sSUFBTSxDQUFDLEVBQUcsR0FHOUQsV0FBd0IsRUFBRyxFQUFHLENBQzVCLEdBQUksQ0FBQyxFQUFJLEdBQU0sRUFBVSxFQUFTLEdBQUksRUFBUyxJQUMvQyxNQUFJLEdBQUssRUFBVyxFQUNoQixFQUFLLEVBQVcsR0FDYixFQUdULFdBQXlCLEVBQUcsRUFBRyxDQUM3QixPQUFTLEdBQUksRUFBRyxFQUFJLEtBQUssSUFBSSxFQUFFLE9BQVEsRUFBRSxRQUFTLElBQUssQ0FDckQsR0FBSSxHQUFJLEVBQWUsRUFBRSxJQUFNLEVBQUcsRUFBRSxJQUFNLEdBQzFDLEdBQUksSUFBTSxFQUFHLE1BQU8sR0FFdEIsTUFBTyxHQUdULFdBQXlCLEVBQUksRUFBSSxDQUMvQixDQUFDLEVBQUksR0FBSSxRQUFRLEdBS2pCLE9BSEksR0FBSyxFQUFNLEdBQ1gsRUFBSyxFQUFNLEdBRU4sRUFBSSxFQUFHLEVBQUksS0FBSyxJQUFJLEVBQUcsT0FBUyxFQUFHLEVBQUcsT0FBUyxHQUFJLElBQUssQ0FDL0QsR0FBSSxHQUFLLFNBQVMsRUFBRyxJQUFNLEVBQUcsSUFDMUIsRUFBSyxTQUFTLEVBQUcsSUFBTSxFQUFHLElBRTlCLEdBQUksRUFBSyxFQUFJLE1BQU8sR0FDcEIsR0FBSSxFQUFLLEVBQUksTUFBTyxHQUd0QixHQUFJLEdBQU0sRUFBRyxFQUFHLE9BQVMsR0FDckIsRUFBTSxFQUFHLEVBQUcsT0FBUyxHQUV6QixHQUFJLEdBQU8sRUFBSyxDQUNkLEdBQUksR0FBSyxFQUFJLE1BQU0sS0FBSyxJQUFJLEdBQ3hCLEVBQUssRUFBSSxNQUFNLEtBQUssSUFBSSxHQUU1QixJQUFLLEVBQUksRUFBRyxFQUFJLEtBQUssSUFBSSxFQUFHLE9BQVEsRUFBRyxRQUFTLElBQUssQ0FDbkQsR0FDRSxFQUFHLEtBQU8sUUFDVCxNQUFPLEdBQUcsSUFBTyxVQUFZLE1BQU8sR0FBRyxJQUFPLFNBRS9DLE1BQU8sR0FPVCxHQUxFLEVBQUcsS0FBTyxRQUNULE1BQU8sR0FBRyxJQUFPLFVBQVksTUFBTyxHQUFHLElBQU8sVUFJN0MsRUFBRyxHQUFLLEVBQUcsR0FBSSxNQUFPLEdBQzFCLEdBQUksRUFBRyxHQUFLLEVBQUcsR0FBSSxNQUFPLFlBRW5CLEdBQU8sRUFDaEIsTUFBTyxHQUFNLEdBQUssRUFHcEIsTUFBTyxHQUdULEdBQUksR0FBbUIsQ0FBQyxJQUFLLEtBQU0sSUFBSyxJQUFLLE1BRXpDLEVBQWlCLENBQ25CLElBQUssQ0FBQyxHQUNOLEtBQU0sQ0FBQyxFQUFHLEdBQ1YsSUFBSyxDQUFDLEdBQ04sS0FBTSxDQUFDLEdBQUksR0FDWCxJQUFLLENBQUMsS0FHUixXQUEwQixFQUFJLENBQzVCLEdBQUksTUFBTyxJQUFPLFNBQ2hCLEtBQU0sSUFBSSxXQUNSLGtEQUFvRCxNQUFPLElBRy9ELEdBQUksRUFBaUIsUUFBUSxLQUFRLEdBQ25DLEtBQU0sSUFBSSxXQUNSLHFDQUF1QyxFQUFpQixLQUFLLE1BS25FLFNBQWdCLFNBQVcsU0FBVSxFQUFTLENBQzVDLE1BQU8sT0FBTyxJQUFZLFVBQVksRUFBTyxLQUFLLElBR3BELEVBQWdCLFFBQVUsU0FBVSxFQUFJLEVBQUksRUFBVSxDQUVwRCxFQUFpQixHQUlqQixHQUFJLEdBQU0sRUFBZ0IsRUFBSSxHQUM5QixNQUFPLEdBQWUsR0FBVSxRQUFRLEdBQU8sSUFHakQsRUFBZ0IsVUFBWSxTQUFVLEVBQUcsRUFBRyxDQUUxQyxHQUFJLEdBQVEsRUFBRSxNQUFNLGVBQ2hCLEVBQUssRUFBUSxFQUFNLEdBQUssSUFHNUIsR0FBSSxJQUFPLEtBQU8sSUFBTyxJQUFLLE1BQU8sR0FBZ0IsUUFBUSxFQUFHLEVBQUcsR0FHbkUsR0FBSSxDQUFDLEVBQUksRUFBSSxHQUFNLEVBQWlCLEdBQ2hDLENBQUMsRUFBSSxFQUFJLEdBQU0sRUFBaUIsR0FDcEMsTUFBSSxHQUFlLEVBQUksS0FBUSxFQUFVLEdBQ3JDLElBQU8sSUFDRixFQUFnQixDQUFDLEVBQUksR0FBSyxDQUFDLEVBQUksS0FBUSxFQUU1QyxFQUFlLEVBQUksS0FBUSxFQUFVLEdBQ2xDLEVBQWUsRUFBSSxJQUFPLEdBRzVCLE1DbktULHNCQUFPLFFBQVUsRUFBUSxZQ0F6QixnQ0FFQSxZQUFpQixFQUFRLEVBQWdCLENBQUUsR0FBSSxHQUFPLE9BQU8sS0FBSyxHQUFTLEdBQUksT0FBTyxzQkFBdUIsQ0FBRSxHQUFJLEdBQVUsT0FBTyxzQkFBc0IsR0FBUyxBQUFJLEdBQWdCLEdBQVUsRUFBUSxPQUFPLFNBQVUsRUFBSyxDQUFFLE1BQU8sUUFBTyx5QkFBeUIsRUFBUSxHQUFLLGNBQWdCLEVBQUssS0FBSyxNQUFNLEVBQU0sR0FBWSxNQUFPLEdBRTlVLFlBQXVCLEVBQVEsQ0FBRSxPQUFTLEdBQUksRUFBRyxFQUFJLFVBQVUsT0FBUSxJQUFLLENBQUUsR0FBSSxHQUFTLFVBQVUsSUFBTSxLQUFPLFVBQVUsR0FBSyxHQUFJLEFBQUksRUFBSSxFQUFLLEdBQVEsT0FBTyxHQUFTLElBQU0sUUFBUSxTQUFVLEVBQUssQ0FBRSxHQUFnQixFQUFRLEVBQUssRUFBTyxNQUFrQixBQUFJLE9BQU8sMEJBQTZCLE9BQU8saUJBQWlCLEVBQVEsT0FBTywwQkFBMEIsSUFBbUIsR0FBUSxPQUFPLElBQVMsUUFBUSxTQUFVLEVBQUssQ0FBRSxPQUFPLGVBQWUsRUFBUSxFQUFLLE9BQU8seUJBQXlCLEVBQVEsTUFBZSxNQUFPLEdBRTdnQixZQUF5QixFQUFLLEVBQUssRUFBTyxDQUFFLE1BQUksS0FBTyxHQUFPLE9BQU8sZUFBZSxFQUFLLEVBQUssQ0FBRSxNQUFPLEVBQU8sV0FBWSxHQUFNLGFBQWMsR0FBTSxTQUFVLEtBQWtCLEVBQUksR0FBTyxFQUFnQixFQUUzTSxZQUF5QixFQUFVLEVBQWEsQ0FBRSxHQUFJLENBQUUsYUFBb0IsSUFBZ0IsS0FBTSxJQUFJLFdBQVUscUNBRWhILFlBQTJCLEVBQVEsRUFBTyxDQUFFLE9BQVMsR0FBSSxFQUFHLEVBQUksRUFBTSxPQUFRLElBQUssQ0FBRSxHQUFJLEdBQWEsRUFBTSxHQUFJLEVBQVcsV0FBYSxFQUFXLFlBQWMsR0FBTyxFQUFXLGFBQWUsR0FBVSxTQUFXLElBQVksR0FBVyxTQUFXLElBQU0sT0FBTyxlQUFlLEVBQVEsRUFBVyxJQUFLLElBRTdTLFlBQXNCLEVBQWEsRUFBWSxFQUFhLENBQUUsTUFBSSxJQUFZLEdBQWtCLEVBQVksVUFBVyxHQUFpQixHQUFhLEdBQWtCLEVBQWEsR0FBcUIsRUFFek0sR0FBSSxJQUFXLEVBQVEsVUFDbkIsR0FBUyxHQUFTLE9BRWxCLEdBQVksRUFBUSxRQUNwQixHQUFVLEdBQVUsUUFFcEIsR0FBUyxJQUFXLEdBQVEsUUFBVSxVQUUxQyxZQUFvQixFQUFLLEVBQVEsRUFBUSxDQUN2QyxHQUFPLFVBQVUsS0FBSyxLQUFLLEVBQUssRUFBUSxHQUcxQyxHQUFPLFFBRVAsVUFBWSxDQUNWLFlBQXNCLENBQ3BCLEdBQWdCLEtBQU0sR0FFdEIsS0FBSyxLQUFPLEtBQ1osS0FBSyxLQUFPLEtBQ1osS0FBSyxPQUFTLEVBR2hCLFVBQWEsRUFBWSxDQUFDLENBQ3hCLElBQUssT0FDTCxNQUFPLFNBQWMsRUFBRyxDQUN0QixHQUFJLEdBQVEsQ0FDVixLQUFNLEVBQ04sS0FBTSxNQUVSLEFBQUksS0FBSyxPQUFTLEVBQUcsS0FBSyxLQUFLLEtBQU8sRUFBVyxLQUFLLEtBQU8sRUFDN0QsS0FBSyxLQUFPLEVBQ1osRUFBRSxLQUFLLFNBRVIsQ0FDRCxJQUFLLFVBQ0wsTUFBTyxTQUFpQixFQUFHLENBQ3pCLEdBQUksR0FBUSxDQUNWLEtBQU0sRUFDTixLQUFNLEtBQUssTUFFYixBQUFJLEtBQUssU0FBVyxHQUFHLE1BQUssS0FBTyxHQUNuQyxLQUFLLEtBQU8sRUFDWixFQUFFLEtBQUssU0FFUixDQUNELElBQUssUUFDTCxNQUFPLFVBQWlCLENBQ3RCLEdBQUksS0FBSyxTQUFXLEVBQ3BCLElBQUksR0FBTSxLQUFLLEtBQUssS0FDcEIsTUFBSSxNQUFLLFNBQVcsRUFBRyxLQUFLLEtBQU8sS0FBSyxLQUFPLEtBQVUsS0FBSyxLQUFPLEtBQUssS0FBSyxLQUMvRSxFQUFFLEtBQUssT0FDQSxLQUVSLENBQ0QsSUFBSyxRQUNMLE1BQU8sVUFBaUIsQ0FDdEIsS0FBSyxLQUFPLEtBQUssS0FBTyxLQUN4QixLQUFLLE9BQVMsSUFFZixDQUNELElBQUssT0FDTCxNQUFPLFNBQWMsRUFBRyxDQUN0QixHQUFJLEtBQUssU0FBVyxFQUFHLE1BQU8sR0FJOUIsT0FISSxHQUFJLEtBQUssS0FDVCxFQUFNLEdBQUssRUFBRSxLQUVWLEVBQUksRUFBRSxNQUNYLEdBQU8sRUFBSSxFQUFFLEtBR2YsTUFBTyxLQUVSLENBQ0QsSUFBSyxTQUNMLE1BQU8sU0FBZ0IsRUFBRyxDQUN4QixHQUFJLEtBQUssU0FBVyxFQUFHLE1BQU8sSUFBTyxNQUFNLEdBSzNDLE9BSkksR0FBTSxHQUFPLFlBQVksSUFBTSxHQUMvQixFQUFJLEtBQUssS0FDVCxFQUFJLEVBRUQsR0FDTCxHQUFXLEVBQUUsS0FBTSxFQUFLLEdBQ3hCLEdBQUssRUFBRSxLQUFLLE9BQ1osRUFBSSxFQUFFLEtBR1IsTUFBTyxLQUdSLENBQ0QsSUFBSyxVQUNMLE1BQU8sU0FBaUIsRUFBRyxFQUFZLENBQ3JDLEdBQUksR0FFSixNQUFJLEdBQUksS0FBSyxLQUFLLEtBQUssT0FFckIsR0FBTSxLQUFLLEtBQUssS0FBSyxNQUFNLEVBQUcsR0FDOUIsS0FBSyxLQUFLLEtBQU8sS0FBSyxLQUFLLEtBQUssTUFBTSxJQUNqQyxBQUFJLElBQU0sS0FBSyxLQUFLLEtBQUssT0FFOUIsRUFBTSxLQUFLLFFBR1gsRUFBTSxFQUFhLEtBQUssV0FBVyxHQUFLLEtBQUssV0FBVyxHQUduRCxJQUVSLENBQ0QsSUFBSyxRQUNMLE1BQU8sVUFBaUIsQ0FDdEIsTUFBTyxNQUFLLEtBQUssT0FHbEIsQ0FDRCxJQUFLLGFBQ0wsTUFBTyxTQUFvQixFQUFHLENBQzVCLEdBQUksR0FBSSxLQUFLLEtBQ1QsRUFBSSxFQUNKLEVBQU0sRUFBRSxLQUdaLElBRkEsR0FBSyxFQUFJLE9BRUYsRUFBSSxFQUFFLE1BQU0sQ0FDakIsR0FBSSxHQUFNLEVBQUUsS0FDUixFQUFLLEVBQUksRUFBSSxPQUFTLEVBQUksT0FBUyxFQUl2QyxHQUhBLEFBQUksSUFBTyxFQUFJLE9BQVEsR0FBTyxFQUFTLEdBQU8sRUFBSSxNQUFNLEVBQUcsR0FDM0QsR0FBSyxFQUVELElBQU0sRUFBRyxDQUNYLEFBQUksSUFBTyxFQUFJLE9BQ2IsR0FBRSxFQUNGLEFBQUksRUFBRSxLQUFNLEtBQUssS0FBTyxFQUFFLEtBQVUsS0FBSyxLQUFPLEtBQUssS0FBTyxNQUU1RCxNQUFLLEtBQU8sRUFDWixFQUFFLEtBQU8sRUFBSSxNQUFNLElBR3JCLE1BR0YsRUFBRSxFQUdKLFlBQUssUUFBVSxFQUNSLElBR1IsQ0FDRCxJQUFLLGFBQ0wsTUFBTyxTQUFvQixFQUFHLENBQzVCLEdBQUksR0FBTSxHQUFPLFlBQVksR0FDekIsRUFBSSxLQUFLLEtBQ1QsRUFBSSxFQUlSLElBSEEsRUFBRSxLQUFLLEtBQUssR0FDWixHQUFLLEVBQUUsS0FBSyxPQUVMLEVBQUksRUFBRSxNQUFNLENBQ2pCLEdBQUksR0FBTSxFQUFFLEtBQ1IsRUFBSyxFQUFJLEVBQUksT0FBUyxFQUFJLE9BQVMsRUFJdkMsR0FIQSxFQUFJLEtBQUssRUFBSyxFQUFJLE9BQVMsRUFBRyxFQUFHLEdBQ2pDLEdBQUssRUFFRCxJQUFNLEVBQUcsQ0FDWCxBQUFJLElBQU8sRUFBSSxPQUNiLEdBQUUsRUFDRixBQUFJLEVBQUUsS0FBTSxLQUFLLEtBQU8sRUFBRSxLQUFVLEtBQUssS0FBTyxLQUFLLEtBQU8sTUFFNUQsTUFBSyxLQUFPLEVBQ1osRUFBRSxLQUFPLEVBQUksTUFBTSxJQUdyQixNQUdGLEVBQUUsRUFHSixZQUFLLFFBQVUsRUFDUixJQUdSLENBQ0QsSUFBSyxHQUNMLE1BQU8sU0FBZSxFQUFHLEVBQVMsQ0FDaEMsTUFBTyxJQUFRLEtBQU0sR0FBYyxHQUFJLEVBQVMsQ0FFOUMsTUFBTyxFQUVQLGNBQWUsVUFLZCxPQ2hOVCxnQ0FFQSxZQUFpQixFQUFLLEVBQUksQ0FDeEIsR0FBSSxHQUFRLEtBRVIsRUFBb0IsS0FBSyxnQkFBa0IsS0FBSyxlQUFlLFVBQy9ELEVBQW9CLEtBQUssZ0JBQWtCLEtBQUssZUFBZSxVQUVuRSxNQUFJLElBQXFCLEVBQ3ZCLENBQUksRUFDRixFQUFHLEdBQ00sR0FDVCxDQUFLLEtBQUssZUFFRSxLQUFLLGVBQWUsY0FDOUIsTUFBSyxlQUFlLGFBQWUsR0FDbkMsUUFBUSxTQUFTLEdBQWEsS0FBTSxJQUhwQyxRQUFRLFNBQVMsR0FBYSxLQUFNLElBT2pDLE1BS0wsTUFBSyxnQkFDUCxNQUFLLGVBQWUsVUFBWSxJQUk5QixLQUFLLGdCQUNQLE1BQUssZUFBZSxVQUFZLElBR2xDLEtBQUssU0FBUyxHQUFPLEtBQU0sU0FBVSxFQUFLLENBQ3hDLEFBQUksQ0FBQyxHQUFNLEVBQ1QsQUFBSyxFQUFNLGVBRUosQUFBSyxFQUFNLGVBQWUsYUFJL0IsUUFBUSxTQUFTLEdBQWEsR0FIOUIsR0FBTSxlQUFlLGFBQWUsR0FDcEMsUUFBUSxTQUFTLEdBQXFCLEVBQU8sSUFIN0MsUUFBUSxTQUFTLEdBQXFCLEVBQU8sR0FPMUMsQUFBSSxFQUNULFNBQVEsU0FBUyxHQUFhLEdBQzlCLEVBQUcsSUFFSCxRQUFRLFNBQVMsR0FBYSxLQUkzQixNQUdULFlBQTZCLEVBQU0sRUFBSyxDQUN0QyxHQUFZLEVBQU0sR0FDbEIsR0FBWSxHQUdkLFlBQXFCLEVBQU0sQ0FDekIsQUFBSSxFQUFLLGdCQUFrQixDQUFDLEVBQUssZUFBZSxXQUM1QyxFQUFLLGdCQUFrQixDQUFDLEVBQUssZUFBZSxXQUNoRCxFQUFLLEtBQUssU0FHWixhQUFxQixDQUNuQixBQUFJLEtBQUssZ0JBQ1AsTUFBSyxlQUFlLFVBQVksR0FDaEMsS0FBSyxlQUFlLFFBQVUsR0FDOUIsS0FBSyxlQUFlLE1BQVEsR0FDNUIsS0FBSyxlQUFlLFdBQWEsSUFHL0IsS0FBSyxnQkFDUCxNQUFLLGVBQWUsVUFBWSxHQUNoQyxLQUFLLGVBQWUsTUFBUSxHQUM1QixLQUFLLGVBQWUsT0FBUyxHQUM3QixLQUFLLGVBQWUsWUFBYyxHQUNsQyxLQUFLLGVBQWUsWUFBYyxHQUNsQyxLQUFLLGVBQWUsU0FBVyxHQUMvQixLQUFLLGVBQWUsYUFBZSxJQUl2QyxZQUFxQixFQUFNLEVBQUssQ0FDOUIsRUFBSyxLQUFLLFFBQVMsR0FHckIsWUFBd0IsRUFBUSxFQUFLLENBTW5DLEdBQUksR0FBUyxFQUFPLGVBQ2hCLEVBQVMsRUFBTyxlQUNwQixBQUFJLEdBQVUsRUFBTyxhQUFlLEdBQVUsRUFBTyxZQUFhLEVBQU8sUUFBUSxHQUFVLEVBQU8sS0FBSyxRQUFTLEdBR2xILEdBQU8sUUFBVSxDQUNmLFFBQVMsR0FDVCxVQUFXLEdBQ1gsZUFBZ0IsTUN2R2xCLGdDQUVBLEdBQU0sSUFBUSxHQUVkLFlBQXlCLEVBQU0sRUFBUyxFQUFNLENBQzVDLEFBQUssR0FDSCxHQUFPLE9BR1QsV0FBcUIsRUFBTSxFQUFNLEVBQU0sQ0FDckMsTUFBSSxPQUFPLElBQVksU0FDZCxFQUVBLEVBQVEsRUFBTSxFQUFNLEdBSS9CLGVBQXdCLEVBQUssQ0FDM0IsWUFBYSxFQUFNLEVBQU0sRUFBTSxDQUM3QixNQUFNLEVBQVcsRUFBTSxFQUFNLEtBSWpDLEVBQVUsVUFBVSxLQUFPLEVBQUssS0FDaEMsRUFBVSxVQUFVLEtBQU8sRUFFM0IsR0FBTSxHQUFRLEVBSWhCLFlBQWUsRUFBVSxFQUFPLENBQzlCLEdBQUksTUFBTSxRQUFRLEdBQVcsQ0FDM0IsR0FBTSxHQUFNLEVBQVMsT0FFckIsTUFEQSxHQUFXLEVBQVMsSUFBSSxBQUFDLEdBQU0sT0FBTyxJQUNsQyxFQUFNLEVBQ0QsVUFBVSxLQUFTLEVBQVMsTUFBTSxFQUFHLEVBQU0sR0FBRyxLQUFLLGFBQ25ELEVBQVMsRUFBTSxHQUNiLElBQVEsRUFDVixVQUFVLEtBQVMsRUFBUyxTQUFTLEVBQVMsS0FFOUMsTUFBTSxLQUFTLEVBQVMsU0FHakMsT0FBTyxNQUFNLEtBQVMsT0FBTyxLQUtqQyxZQUFvQixFQUFLLEVBQVEsRUFBSyxDQUNyQyxNQUFPLEdBQUksT0FBTyxDQUFDLEdBQU8sRUFBTSxFQUFJLEVBQUksQ0FBQyxFQUFLLEVBQU8sVUFBWSxFQUlsRSxZQUFrQixFQUFLLEVBQVEsRUFBVSxDQUN4QyxNQUFJLEtBQWEsUUFBYSxFQUFXLEVBQUksU0FDNUMsR0FBVyxFQUFJLFFBRVQsRUFBSSxVQUFVLEVBQVcsRUFBTyxPQUFRLEtBQWMsRUFJOUQsWUFBa0IsRUFBSyxFQUFRLEVBQU8sQ0FLcEMsTUFKSSxPQUFPLElBQVUsVUFDbkIsR0FBUSxHQUdOLEVBQVEsRUFBTyxPQUFTLEVBQUksT0FDdkIsR0FFQSxFQUFJLFFBQVEsRUFBUSxLQUFXLEdBSTFDLEdBQWdCLHdCQUF5QixTQUFVLEVBQU0sRUFBTyxDQUM5RCxNQUFPLGNBQWdCLEVBQVEsNEJBQThCLEVBQU8sS0FDbkUsV0FDSCxHQUFnQix1QkFBd0IsU0FBVSxFQUFNLEVBQVUsRUFBUSxDQUV4RSxHQUFJLEdBQ0osQUFBSSxNQUFPLElBQWEsVUFBWSxHQUFXLEVBQVUsUUFDdkQsR0FBYSxjQUNiLEVBQVcsRUFBUyxRQUFRLFFBQVMsS0FFckMsRUFBYSxVQUdmLEdBQUksR0FDSixHQUFJLEdBQVMsRUFBTSxhQUVqQixFQUFNLE9BQU8sS0FBUSxLQUFjLEdBQU0sRUFBVSxjQUM5QyxDQUNMLEdBQU0sR0FBTyxHQUFTLEVBQU0sS0FBTyxXQUFhLFdBQ2hELEVBQU0sUUFBUSxNQUFTLEtBQVEsS0FBYyxHQUFNLEVBQVUsVUFHL0QsVUFBTyxtQkFBbUIsTUFBTyxLQUMxQixHQUNOLFdBQ0gsR0FBZ0IsNEJBQTZCLDJCQUM3QyxHQUFnQiw2QkFBOEIsU0FBVSxFQUFNLENBQzVELE1BQU8sT0FBUyxFQUFPLCtCQUV6QixHQUFnQiw2QkFBOEIsbUJBQzlDLEdBQWdCLHVCQUF3QixTQUFVLEVBQU0sQ0FDdEQsTUFBTyxlQUFpQixFQUFPLGtDQUVqQyxHQUFnQix3QkFBeUIsa0NBQ3pDLEdBQWdCLHlCQUEwQiw2QkFDMUMsR0FBZ0IsNkJBQThCLG1CQUM5QyxHQUFnQix5QkFBMEIsc0NBQXVDLFdBQ2pGLEdBQWdCLHVCQUF3QixTQUFVLEVBQUssQ0FDckQsTUFBTyxxQkFBdUIsR0FDN0IsV0FDSCxHQUFnQixxQ0FBc0Msb0NBRXRELEdBQU8sUUFBUSxNQUFRLEtDbkh2QixnQ0FFQSxHQUFJLElBQXdCLEtBQTJCLE1BQU0sc0JBRTdELFlBQTJCLEVBQVMsRUFBVSxFQUFXLENBQ3ZELE1BQU8sR0FBUSxlQUFpQixLQUFPLEVBQVEsY0FBZ0IsRUFBVyxFQUFRLEdBQWEsS0FHakcsWUFBMEIsRUFBTyxFQUFTLEVBQVcsRUFBVSxDQUM3RCxHQUFJLEdBQU0sR0FBa0IsRUFBUyxFQUFVLEdBRS9DLEdBQUksR0FBTyxLQUFNLENBQ2YsR0FBSSxDQUFFLFVBQVMsSUFBUSxLQUFLLE1BQU0sS0FBUyxJQUFRLEVBQU0sRUFBRyxDQUMxRCxHQUFJLEdBQU8sRUFBVyxFQUFZLGdCQUNsQyxLQUFNLElBQUksSUFBc0IsRUFBTSxHQUd4QyxNQUFPLE1BQUssTUFBTSxHQUlwQixNQUFPLEdBQU0sV0FBYSxHQUFLLEdBQUssS0FHdEMsR0FBTyxRQUFVLENBQ2YsaUJBQWtCLE1DekJwQixtQkFBSSxNQUFPLFFBQU8sUUFBVyxXQUUzQixHQUFPLFFBQVUsU0FBa0IsRUFBTSxFQUFXLENBQ2xELEFBQUksR0FDRixHQUFLLE9BQVMsRUFDZCxFQUFLLFVBQVksT0FBTyxPQUFPLEVBQVUsVUFBVyxDQUNsRCxZQUFhLENBQ1gsTUFBTyxFQUNQLFdBQVksR0FDWixTQUFVLEdBQ1YsYUFBYyxRQU90QixHQUFPLFFBQVUsU0FBa0IsRUFBTSxFQUFXLENBQ2xELEdBQUksRUFBVyxDQUNiLEVBQUssT0FBUyxFQUNkLEdBQUksR0FBVyxVQUFZLEdBQzNCLEVBQVMsVUFBWSxFQUFVLFVBQy9CLEVBQUssVUFBWSxHQUFJLEdBQ3JCLEVBQUssVUFBVSxZQUFjLE1DdkJuQyxzQkFBSSxDQUdGLEdBRkksR0FBTyxFQUFRLFFBRWYsTUFBTyxJQUFLLFVBQWEsV0FBWSxLQUFNLEdBQy9DLEdBQU8sUUFBVSxHQUFLLGVBQ2YsRUFBUCxDQUVBLEdBQU8sUUFBVSxLQU5iLFNDRE4sbUJBS0EsR0FBTyxRQUFVLEVBQVEsUUFBUSxZQ0xqQyxtQkF1QkEsYUFFQSxHQUFPLFFBQVUsR0FZakIsWUFBdUIsRUFBTyxDQUM1QixHQUFJLEdBQVEsS0FFWixLQUFLLEtBQU8sS0FDWixLQUFLLE1BQVEsS0FFYixLQUFLLE9BQVMsVUFBWSxDQUN4QixHQUFlLEVBQU8sSUFRMUIsR0FBSSxJQUdKLEdBQVMsY0FBZ0IsR0FHekIsR0FBSSxJQUFlLENBQ2pCLFVBQVcsTUFNVCxHQUFTLEtBSVQsR0FBUyxFQUFRLFVBQVUsT0FFM0IsR0FBZ0IsT0FBTyxZQUFjLFVBQVksR0FFckQsWUFBNkIsRUFBTyxDQUNsQyxNQUFPLElBQU8sS0FBSyxHQUdyQixZQUF1QixFQUFLLENBQzFCLE1BQU8sSUFBTyxTQUFTLElBQVEsWUFBZSxJQUdoRCxHQUFJLElBQWMsS0FFZCxHQUFXLEtBQ1gsR0FBbUIsR0FBUyxpQkFFNUIsR0FBaUIsS0FBcUIsTUFDdEMsR0FBdUIsR0FBZSxxQkFDdEMsR0FBNkIsR0FBZSwyQkFDNUMsR0FBd0IsR0FBZSxzQkFDdkMsR0FBeUIsR0FBZSx1QkFDeEMsR0FBdUIsR0FBZSxxQkFDdEMsR0FBeUIsR0FBZSx1QkFDeEMsR0FBNkIsR0FBZSwyQkFDNUMsR0FBdUIsR0FBZSxxQkFFdEMsR0FBaUIsR0FBWSxlQUVqQyxLQUFvQixHQUFVLElBRTlCLGFBQWUsRUFFZixZQUF1QixFQUFTLEVBQVEsRUFBVSxDQUNoRCxHQUFTLElBQVUsS0FDbkIsRUFBVSxHQUFXLEdBTWpCLE1BQU8sSUFBYSxXQUFXLEdBQVcsWUFBa0IsS0FHaEUsS0FBSyxXQUFhLENBQUMsQ0FBQyxFQUFRLFdBQ3hCLEdBQVUsTUFBSyxXQUFhLEtBQUssWUFBYyxDQUFDLENBQUMsRUFBUSxvQkFJN0QsS0FBSyxjQUFnQixHQUFpQixLQUFNLEVBQVMsd0JBQXlCLEdBRTlFLEtBQUssWUFBYyxHQUVuQixLQUFLLFVBQVksR0FFakIsS0FBSyxPQUFTLEdBRWQsS0FBSyxNQUFRLEdBRWIsS0FBSyxTQUFXLEdBRWhCLEtBQUssVUFBWSxHQUlqQixHQUFJLEdBQVcsRUFBUSxnQkFBa0IsR0FDekMsS0FBSyxjQUFnQixDQUFDLEVBSXRCLEtBQUssZ0JBQWtCLEVBQVEsaUJBQW1CLE9BSWxELEtBQUssT0FBUyxFQUVkLEtBQUssUUFBVSxHQUVmLEtBQUssT0FBUyxFQUtkLEtBQUssS0FBTyxHQUlaLEtBQUssaUJBQW1CLEdBRXhCLEtBQUssUUFBVSxTQUFVLEVBQUksQ0FDM0IsR0FBUSxFQUFRLElBSWxCLEtBQUssUUFBVSxLQUVmLEtBQUssU0FBVyxFQUNoQixLQUFLLGdCQUFrQixLQUN2QixLQUFLLG9CQUFzQixLQUczQixLQUFLLFVBQVksRUFHakIsS0FBSyxZQUFjLEdBRW5CLEtBQUssYUFBZSxHQUVwQixLQUFLLFVBQVksRUFBUSxZQUFjLEdBRXZDLEtBQUssWUFBYyxDQUFDLENBQUMsRUFBUSxZQUU3QixLQUFLLHFCQUF1QixFQUc1QixLQUFLLG1CQUFxQixHQUFJLElBQWMsTUFHOUMsR0FBYyxVQUFVLFVBQVksVUFBcUIsQ0FJdkQsT0FISSxHQUFVLEtBQUssZ0JBQ2YsRUFBTSxHQUVILEdBQ0wsRUFBSSxLQUFLLEdBQ1QsRUFBVSxFQUFRLEtBR3BCLE1BQU8sSUFHVCxBQUFDLFdBQVksQ0FDWCxHQUFJLENBQ0YsT0FBTyxlQUFlLEdBQWMsVUFBVyxTQUFVLENBQ3ZELElBQUssR0FBYSxVQUFVLFVBQXFDLENBQy9ELE1BQU8sTUFBSyxhQUNYLDZFQUFtRixtQkFFakYsRUFBUCxPQUtKLEdBQUksSUFFSixBQUFJLE1BQU8sU0FBVyxZQUFjLE9BQU8sYUFBZSxNQUFPLFVBQVMsVUFBVSxPQUFPLGNBQWlCLFdBQzFHLElBQWtCLFNBQVMsVUFBVSxPQUFPLGFBQzVDLE9BQU8sZUFBZSxHQUFVLE9BQU8sWUFBYSxDQUNsRCxNQUFPLFNBQWUsRUFBUSxDQUM1QixNQUFJLElBQWdCLEtBQUssS0FBTSxHQUFnQixHQUMzQyxPQUFTLEdBQWlCLEdBQ3ZCLEdBQVUsRUFBTyx5QkFBMEIsUUFJdEQsR0FBa0IsU0FBeUIsRUFBUSxDQUNqRCxNQUFPLGFBQWtCLE9BSTdCLFlBQWtCLEVBQVMsQ0FDekIsR0FBUyxJQUFVLEtBU25CLEdBQUksR0FBVyxlQUFnQixJQUMvQixHQUFJLENBQUMsR0FBWSxDQUFDLEdBQWdCLEtBQUssR0FBVSxNQUFPLE1BQU8sSUFBSSxJQUFTLEdBQzVFLEtBQUssZUFBaUIsR0FBSSxJQUFjLEVBQVMsS0FBTSxHQUV2RCxLQUFLLFNBQVcsR0FFWixHQUNFLE9BQU8sR0FBUSxPQUFVLFlBQVksTUFBSyxPQUFTLEVBQVEsT0FDM0QsTUFBTyxHQUFRLFFBQVcsWUFBWSxNQUFLLFFBQVUsRUFBUSxRQUM3RCxNQUFPLEdBQVEsU0FBWSxZQUFZLE1BQUssU0FBVyxFQUFRLFNBQy9ELE1BQU8sR0FBUSxPQUFVLFlBQVksTUFBSyxPQUFTLEVBQVEsUUFHakUsR0FBTyxLQUFLLE1BSWQsR0FBUyxVQUFVLEtBQU8sVUFBWSxDQUNwQyxHQUFlLEtBQU0sR0FBSSxNQUczQixZQUF1QixFQUFRLEVBQUksQ0FDakMsR0FBSSxHQUFLLEdBQUksSUFFYixHQUFlLEVBQVEsR0FDdkIsUUFBUSxTQUFTLEVBQUksR0FNdkIsWUFBb0IsRUFBUSxFQUFPLEVBQU8sRUFBSSxDQUM1QyxHQUFJLEdBUUosTUFOQSxBQUFJLEtBQVUsS0FDWixFQUFLLEdBQUksSUFDQSxNQUFPLElBQVUsVUFBWSxDQUFDLEVBQU0sWUFDN0MsR0FBSyxHQUFJLElBQXFCLFFBQVMsQ0FBQyxTQUFVLFVBQVcsSUFHM0QsRUFDRixJQUFlLEVBQVEsR0FDdkIsUUFBUSxTQUFTLEVBQUksR0FDZCxJQUdGLEdBR1QsR0FBUyxVQUFVLE1BQVEsU0FBVSxFQUFPLEVBQVUsRUFBSSxDQUN4RCxHQUFJLEdBQVEsS0FBSyxlQUNiLEVBQU0sR0FFTixFQUFRLENBQUMsRUFBTSxZQUFjLEdBQWMsR0FFL0MsTUFBSSxJQUFTLENBQUMsR0FBTyxTQUFTLElBQzVCLEdBQVEsR0FBb0IsSUFHMUIsTUFBTyxJQUFhLFlBQ3RCLEdBQUssRUFDTCxFQUFXLE1BR2IsQUFBSSxFQUFPLEVBQVcsU0FBbUIsR0FBVSxHQUFXLEVBQU0saUJBQ2hFLE1BQU8sSUFBTyxZQUFZLEdBQUssSUFDbkMsQUFBSSxFQUFNLE9BQVEsR0FBYyxLQUFNLEdBQWEsSUFBUyxHQUFXLEtBQU0sRUFBTyxFQUFPLEtBQ3pGLEdBQU0sWUFDTixFQUFNLEdBQWMsS0FBTSxFQUFPLEVBQU8sRUFBTyxFQUFVLElBRXBELEdBR1QsR0FBUyxVQUFVLEtBQU8sVUFBWSxDQUNwQyxLQUFLLGVBQWUsVUFHdEIsR0FBUyxVQUFVLE9BQVMsVUFBWSxDQUN0QyxHQUFJLEdBQVEsS0FBSyxlQUVqQixBQUFJLEVBQU0sUUFDUixHQUFNLFNBQ0YsQ0FBQyxFQUFNLFNBQVcsQ0FBQyxFQUFNLFFBQVUsQ0FBQyxFQUFNLGtCQUFvQixFQUFNLGlCQUFpQixHQUFZLEtBQU0sS0FJL0csR0FBUyxVQUFVLG1CQUFxQixTQUE0QixFQUFVLENBRzVFLEdBREksTUFBTyxJQUFhLFVBQVUsR0FBVyxFQUFTLGVBQ2xELENBQUUsRUFBQyxNQUFPLE9BQVEsUUFBUyxRQUFTLFNBQVUsU0FBVSxPQUFRLFFBQVMsVUFBVyxXQUFZLE9BQU8sUUFBUyxHQUFXLElBQUksZUFBaUIsSUFBSyxLQUFNLElBQUksSUFBcUIsR0FDeEwsWUFBSyxlQUFlLGdCQUFrQixFQUMvQixNQUdULE9BQU8sZUFBZSxHQUFTLFVBQVcsaUJBQWtCLENBSTFELFdBQVksR0FDWixJQUFLLFVBQWUsQ0FDbEIsTUFBTyxNQUFLLGdCQUFrQixLQUFLLGVBQWUsZUFJdEQsWUFBcUIsRUFBTyxFQUFPLEVBQVUsQ0FDM0MsTUFBSSxDQUFDLEVBQU0sWUFBYyxFQUFNLGdCQUFrQixJQUFTLE1BQU8sSUFBVSxVQUN6RSxHQUFRLEdBQU8sS0FBSyxFQUFPLElBR3RCLEVBR1QsT0FBTyxlQUFlLEdBQVMsVUFBVyx3QkFBeUIsQ0FJakUsV0FBWSxHQUNaLElBQUssVUFBZSxDQUNsQixNQUFPLE1BQUssZUFBZSxpQkFNL0IsWUFBdUIsRUFBUSxFQUFPLEVBQU8sRUFBTyxFQUFVLEVBQUksQ0FDaEUsR0FBSSxDQUFDLEVBQU8sQ0FDVixHQUFJLEdBQVcsR0FBWSxFQUFPLEVBQU8sR0FFekMsQUFBSSxJQUFVLEdBQ1osR0FBUSxHQUNSLEVBQVcsU0FDWCxFQUFRLEdBSVosR0FBSSxHQUFNLEVBQU0sV0FBYSxFQUFJLEVBQU0sT0FDdkMsRUFBTSxRQUFVLEVBQ2hCLEdBQUksR0FBTSxFQUFNLE9BQVMsRUFBTSxjQUkvQixHQUZLLEdBQUssR0FBTSxVQUFZLElBRXhCLEVBQU0sU0FBVyxFQUFNLE9BQVEsQ0FDakMsR0FBSSxHQUFPLEVBQU0sb0JBQ2pCLEVBQU0sb0JBQXNCLENBQzFCLE1BQU8sRUFDUCxTQUFVLEVBQ1YsTUFBTyxFQUNQLFNBQVUsRUFDVixLQUFNLE1BR1IsQUFBSSxFQUNGLEVBQUssS0FBTyxFQUFNLG9CQUVsQixFQUFNLGdCQUFrQixFQUFNLG9CQUdoQyxFQUFNLHNCQUF3QixNQUU5QixJQUFRLEVBQVEsRUFBTyxHQUFPLEVBQUssRUFBTyxFQUFVLEdBR3RELE1BQU8sR0FHVCxZQUFpQixFQUFRLEVBQU8sRUFBUSxFQUFLLEVBQU8sRUFBVSxFQUFJLENBQ2hFLEVBQU0sU0FBVyxFQUNqQixFQUFNLFFBQVUsRUFDaEIsRUFBTSxRQUFVLEdBQ2hCLEVBQU0sS0FBTyxHQUNiLEFBQUksRUFBTSxVQUFXLEVBQU0sUUFBUSxHQUFJLElBQXFCLFVBQWUsQUFBSSxFQUFRLEVBQU8sUUFBUSxFQUFPLEVBQU0sU0FBYyxFQUFPLE9BQU8sRUFBTyxFQUFVLEVBQU0sU0FDdEssRUFBTSxLQUFPLEdBR2YsWUFBc0IsRUFBUSxFQUFPLEVBQU0sRUFBSSxFQUFJLENBQ2pELEVBQUUsRUFBTSxVQUVSLEFBQUksRUFHRixTQUFRLFNBQVMsRUFBSSxHQUdyQixRQUFRLFNBQVMsR0FBYSxFQUFRLEdBQ3RDLEVBQU8sZUFBZSxhQUFlLEdBQ3JDLEdBQWUsRUFBUSxJQUl2QixHQUFHLEdBQ0gsRUFBTyxlQUFlLGFBQWUsR0FDckMsR0FBZSxFQUFRLEdBR3ZCLEdBQVksRUFBUSxJQUl4QixZQUE0QixFQUFPLENBQ2pDLEVBQU0sUUFBVSxHQUNoQixFQUFNLFFBQVUsS0FDaEIsRUFBTSxRQUFVLEVBQU0sU0FDdEIsRUFBTSxTQUFXLEVBR25CLFlBQWlCLEVBQVEsRUFBSSxDQUMzQixHQUFJLEdBQVEsRUFBTyxlQUNmLEVBQU8sRUFBTSxLQUNiLEVBQUssRUFBTSxRQUNmLEdBQUksTUFBTyxJQUFPLFdBQVksS0FBTSxJQUFJLElBRXhDLEdBREEsR0FBbUIsR0FDZixFQUFJLEdBQWEsRUFBUSxFQUFPLEVBQU0sRUFBSSxPQUFTLENBRXJELEdBQUksR0FBVyxHQUFXLElBQVUsRUFBTyxVQUUzQyxBQUFJLENBQUMsR0FBWSxDQUFDLEVBQU0sUUFBVSxDQUFDLEVBQU0sa0JBQW9CLEVBQU0saUJBQ2pFLEdBQVksRUFBUSxHQUd0QixBQUFJLEVBQ0YsUUFBUSxTQUFTLEdBQVksRUFBUSxFQUFPLEVBQVUsR0FFdEQsR0FBVyxFQUFRLEVBQU8sRUFBVSxJQUsxQyxZQUFvQixFQUFRLEVBQU8sRUFBVSxFQUFJLENBQy9DLEFBQUssR0FBVSxHQUFhLEVBQVEsR0FDcEMsRUFBTSxZQUNOLElBQ0EsR0FBWSxFQUFRLEdBTXRCLFlBQXNCLEVBQVEsRUFBTyxDQUNuQyxBQUFJLEVBQU0sU0FBVyxHQUFLLEVBQU0sV0FDOUIsR0FBTSxVQUFZLEdBQ2xCLEVBQU8sS0FBSyxVQUtoQixZQUFxQixFQUFRLEVBQU8sQ0FDbEMsRUFBTSxpQkFBbUIsR0FDekIsR0FBSSxHQUFRLEVBQU0sZ0JBRWxCLEdBQUksRUFBTyxTQUFXLEdBQVMsRUFBTSxLQUFNLENBRXpDLEdBQUksR0FBSSxFQUFNLHFCQUNWLEVBQVMsR0FBSSxPQUFNLEdBQ25CLEVBQVMsRUFBTSxtQkFDbkIsRUFBTyxNQUFRLEVBSWYsT0FISSxHQUFRLEVBQ1IsRUFBYSxHQUVWLEdBQ0wsRUFBTyxHQUFTLEVBQ1gsRUFBTSxPQUFPLEdBQWEsSUFDL0IsRUFBUSxFQUFNLEtBQ2QsR0FBUyxFQUdYLEVBQU8sV0FBYSxFQUNwQixHQUFRLEVBQVEsRUFBTyxHQUFNLEVBQU0sT0FBUSxFQUFRLEdBQUksRUFBTyxRQUc5RCxFQUFNLFlBQ04sRUFBTSxvQkFBc0IsS0FFNUIsQUFBSSxFQUFPLEtBQ1QsR0FBTSxtQkFBcUIsRUFBTyxLQUNsQyxFQUFPLEtBQU8sTUFFZCxFQUFNLG1CQUFxQixHQUFJLElBQWMsR0FHL0MsRUFBTSxxQkFBdUIsTUFDeEIsQ0FFTCxLQUFPLEdBQU8sQ0FDWixHQUFJLEdBQVEsRUFBTSxNQUNkLEVBQVcsRUFBTSxTQUNqQixFQUFLLEVBQU0sU0FDWCxFQUFNLEVBQU0sV0FBYSxFQUFJLEVBQU0sT0FRdkMsR0FQQSxHQUFRLEVBQVEsRUFBTyxHQUFPLEVBQUssRUFBTyxFQUFVLEdBQ3BELEVBQVEsRUFBTSxLQUNkLEVBQU0sdUJBS0YsRUFBTSxRQUNSLE1BSUosQUFBSSxJQUFVLE1BQU0sR0FBTSxvQkFBc0IsTUFHbEQsRUFBTSxnQkFBa0IsRUFDeEIsRUFBTSxpQkFBbUIsR0FHM0IsR0FBUyxVQUFVLE9BQVMsU0FBVSxFQUFPLEVBQVUsRUFBSSxDQUN6RCxFQUFHLEdBQUksSUFBMkIsY0FHcEMsR0FBUyxVQUFVLFFBQVUsS0FFN0IsR0FBUyxVQUFVLElBQU0sU0FBVSxFQUFPLEVBQVUsRUFBSSxDQUN0RCxHQUFJLEdBQVEsS0FBSyxlQUVqQixNQUFJLE9BQU8sSUFBVSxXQUNuQixHQUFLLEVBQ0wsRUFBUSxLQUNSLEVBQVcsTUFDRixNQUFPLElBQWEsWUFDN0IsR0FBSyxFQUNMLEVBQVcsTUFHVCxHQUFVLE1BQTZCLEtBQUssTUFBTSxFQUFPLEdBRXpELEVBQU0sUUFDUixHQUFNLE9BQVMsRUFDZixLQUFLLFVBSUYsRUFBTSxRQUFRLEdBQVksS0FBTSxFQUFPLEdBQ3JDLE1BR1QsT0FBTyxlQUFlLEdBQVMsVUFBVyxpQkFBa0IsQ0FJMUQsV0FBWSxHQUNaLElBQUssVUFBZSxDQUNsQixNQUFPLE1BQUssZUFBZSxVQUkvQixZQUFvQixFQUFPLENBQ3pCLE1BQU8sR0FBTSxRQUFVLEVBQU0sU0FBVyxHQUFLLEVBQU0sa0JBQW9CLE1BQVEsQ0FBQyxFQUFNLFVBQVksQ0FBQyxFQUFNLFFBRzNHLFlBQW1CLEVBQVEsRUFBTyxDQUNoQyxFQUFPLE9BQU8sU0FBVSxFQUFLLENBQzNCLEVBQU0sWUFFRixHQUNGLEdBQWUsRUFBUSxHQUd6QixFQUFNLFlBQWMsR0FDcEIsRUFBTyxLQUFLLGFBQ1osR0FBWSxFQUFRLEtBSXhCLFlBQW1CLEVBQVEsRUFBTyxDQUNoQyxBQUFJLENBQUMsRUFBTSxhQUFlLENBQUMsRUFBTSxhQUMvQixDQUFJLE1BQU8sR0FBTyxRQUFXLFlBQWMsQ0FBQyxFQUFNLFVBQ2hELEdBQU0sWUFDTixFQUFNLFlBQWMsR0FDcEIsUUFBUSxTQUFTLEdBQVcsRUFBUSxJQUVwQyxHQUFNLFlBQWMsR0FDcEIsRUFBTyxLQUFLLGVBS2xCLFlBQXFCLEVBQVEsRUFBTyxDQUNsQyxHQUFJLEdBQU8sR0FBVyxHQUV0QixHQUFJLEdBQ0YsSUFBVSxFQUFRLEdBRWQsRUFBTSxZQUFjLEdBQ3RCLEdBQU0sU0FBVyxHQUNqQixFQUFPLEtBQUssVUFFUixFQUFNLGNBQWEsQ0FHckIsR0FBSSxHQUFTLEVBQU8sZUFFcEIsQUFBSSxFQUFDLEdBQVUsRUFBTyxhQUFlLEVBQU8sYUFDMUMsRUFBTyxVQU1mLE1BQU8sR0FHVCxZQUFxQixFQUFRLEVBQU8sRUFBSSxDQUN0QyxFQUFNLE9BQVMsR0FDZixHQUFZLEVBQVEsR0FFaEIsR0FDRixDQUFJLEVBQU0sU0FBVSxRQUFRLFNBQVMsR0FBUyxFQUFPLEtBQUssU0FBVSxJQUd0RSxFQUFNLE1BQVEsR0FDZCxFQUFPLFNBQVcsR0FHcEIsWUFBd0IsRUFBUyxFQUFPLEVBQUssQ0FDM0MsR0FBSSxHQUFRLEVBQVEsTUFHcEIsSUFGQSxFQUFRLE1BQVEsS0FFVCxHQUFPLENBQ1osR0FBSSxHQUFLLEVBQU0sU0FDZixFQUFNLFlBQ04sRUFBRyxHQUNILEVBQVEsRUFBTSxLQUloQixFQUFNLG1CQUFtQixLQUFPLEVBR2xDLE9BQU8sZUFBZSxHQUFTLFVBQVcsWUFBYSxDQUlyRCxXQUFZLEdBQ1osSUFBSyxVQUFlLENBQ2xCLE1BQUksTUFBSyxpQkFBbUIsT0FDbkIsR0FHRixLQUFLLGVBQWUsV0FFN0IsSUFBSyxTQUFhLEVBQU8sQ0FHdkIsQUFBSSxDQUFDLEtBQUssZ0JBTVYsTUFBSyxlQUFlLFVBQVksTUFHcEMsR0FBUyxVQUFVLFFBQVUsR0FBWSxRQUN6QyxHQUFTLFVBQVUsV0FBYSxHQUFZLFVBRTVDLEdBQVMsVUFBVSxTQUFXLFNBQVUsRUFBSyxFQUFJLENBQy9DLEVBQUcsTUN2ckJMLG1CQXdCQSxhQUdBLEdBQUksSUFBYSxPQUFPLE1BQVEsU0FBVSxFQUFLLENBQzdDLEdBQUksR0FBTyxHQUVYLE9BQVMsS0FBTyxHQUNkLEVBQUssS0FBSyxHQUdaLE1BQU8sSUFLVCxHQUFPLFFBQVUsR0FFakIsR0FBSSxJQUFXLEtBRVgsR0FBVyxLQUVmLEtBQW9CLEdBQVEsSUFNMUIsSUFGSSxHQUFPLEdBQVcsR0FBUyxXQUV0QixHQUFJLEVBQUcsR0FBSSxHQUFLLE9BQVEsS0FDM0IsR0FBUyxHQUFLLElBQ2IsR0FBTyxVQUFVLEtBQVMsSUFBTyxVQUFVLElBQVUsR0FBUyxVQUFVLEtBSjNFLE9BR0UsR0FERyxHQU1YLFlBQWdCLEVBQVMsQ0FDdkIsR0FBSSxDQUFFLGdCQUFnQixLQUFTLE1BQU8sSUFBSSxJQUFPLEdBQ2pELEdBQVMsS0FBSyxLQUFNLEdBQ3BCLEdBQVMsS0FBSyxLQUFNLEdBQ3BCLEtBQUssY0FBZ0IsR0FFakIsR0FDRSxHQUFRLFdBQWEsSUFBTyxNQUFLLFNBQVcsSUFDNUMsRUFBUSxXQUFhLElBQU8sTUFBSyxTQUFXLElBRTVDLEVBQVEsZ0JBQWtCLElBQzVCLE1BQUssY0FBZ0IsR0FDckIsS0FBSyxLQUFLLE1BQU8sTUFLdkIsT0FBTyxlQUFlLEdBQU8sVUFBVyx3QkFBeUIsQ0FJL0QsV0FBWSxHQUNaLElBQUssVUFBZSxDQUNsQixNQUFPLE1BQUssZUFBZSxpQkFHL0IsT0FBTyxlQUFlLEdBQU8sVUFBVyxpQkFBa0IsQ0FJeEQsV0FBWSxHQUNaLElBQUssVUFBZSxDQUNsQixNQUFPLE1BQUssZ0JBQWtCLEtBQUssZUFBZSxlQUd0RCxPQUFPLGVBQWUsR0FBTyxVQUFXLGlCQUFrQixDQUl4RCxXQUFZLEdBQ1osSUFBSyxVQUFlLENBQ2xCLE1BQU8sTUFBSyxlQUFlLFVBSS9CLGFBQWlCLENBRWYsQUFBSSxLQUFLLGVBQWUsT0FHeEIsUUFBUSxTQUFTLEdBQVMsTUFHNUIsWUFBaUIsRUFBTSxDQUNyQixFQUFLLE1BR1AsT0FBTyxlQUFlLEdBQU8sVUFBVyxZQUFhLENBSW5ELFdBQVksR0FDWixJQUFLLFVBQWUsQ0FDbEIsTUFBSSxNQUFLLGlCQUFtQixRQUFhLEtBQUssaUJBQW1CLE9BQ3hELEdBR0YsS0FBSyxlQUFlLFdBQWEsS0FBSyxlQUFlLFdBRTlELElBQUssU0FBYSxFQUFPLENBR3ZCLEFBQUksS0FBSyxpQkFBbUIsUUFBYSxLQUFLLGlCQUFtQixRQU1qRSxNQUFLLGVBQWUsVUFBWSxFQUNoQyxLQUFLLGVBQWUsVUFBWSxRQ3hJcEMsbUJBRUEsR0FBSSxJQUFTLEVBQVEsVUFDakIsR0FBUyxHQUFPLE9BR3BCLFlBQW9CLEVBQUssRUFBSyxDQUM1QixPQUFTLEtBQU8sR0FDZCxFQUFJLEdBQU8sRUFBSSxHQUduQixBQUFJLEdBQU8sTUFBUSxHQUFPLE9BQVMsR0FBTyxhQUFlLEdBQU8sZ0JBQzlELEdBQU8sUUFBVSxHQUdqQixJQUFVLEdBQVEsSUFDbEIsR0FBUSxPQUFTLElBR25CLFlBQXFCLEVBQUssRUFBa0IsRUFBUSxDQUNsRCxNQUFPLElBQU8sRUFBSyxFQUFrQixHQUd2QyxHQUFXLFVBQVksT0FBTyxPQUFPLEdBQU8sV0FHNUMsR0FBVSxHQUFRLElBRWxCLEdBQVcsS0FBTyxTQUFVLEVBQUssRUFBa0IsRUFBUSxDQUN6RCxHQUFJLE1BQU8sSUFBUSxTQUNqQixLQUFNLElBQUksV0FBVSxpQ0FFdEIsTUFBTyxJQUFPLEVBQUssRUFBa0IsSUFHdkMsR0FBVyxNQUFRLFNBQVUsRUFBTSxFQUFNLEVBQVUsQ0FDakQsR0FBSSxNQUFPLElBQVMsU0FDbEIsS0FBTSxJQUFJLFdBQVUsNkJBRXRCLEdBQUksR0FBTSxHQUFPLEdBQ2pCLE1BQUksS0FBUyxPQUNYLEFBQUksTUFBTyxJQUFhLFNBQ3RCLEVBQUksS0FBSyxFQUFNLEdBRWYsRUFBSSxLQUFLLEdBR1gsRUFBSSxLQUFLLEdBRUosR0FHVCxHQUFXLFlBQWMsU0FBVSxFQUFNLENBQ3ZDLEdBQUksTUFBTyxJQUFTLFNBQ2xCLEtBQU0sSUFBSSxXQUFVLDZCQUV0QixNQUFPLElBQU8sSUFHaEIsR0FBVyxnQkFBa0IsU0FBVSxFQUFNLENBQzNDLEdBQUksTUFBTyxJQUFTLFNBQ2xCLEtBQU0sSUFBSSxXQUFVLDZCQUV0QixNQUFPLElBQU8sV0FBVyxNQy9EM0IsY0FxQkEsYUFJQSxHQUFJLElBQVMsS0FBdUIsT0FHaEMsR0FBYSxHQUFPLFlBQWMsU0FBVSxFQUFVLENBRXhELE9BREEsRUFBVyxHQUFLLEVBQ1IsR0FBWSxFQUFTLG1CQUN0QixVQUFXLFdBQVksWUFBYSxZQUFhLGFBQWMsYUFBYyxXQUFZLFlBQWEsY0FBZSxlQUFnQixNQUN4SSxNQUFPLFdBRVAsTUFBTyxLQUliLFlBQTRCLEVBQUssQ0FDL0IsR0FBSSxDQUFDLEVBQUssTUFBTyxPQUVqQixPQURJLEtBRUYsT0FBUSxPQUNELFdBQ0EsUUFDSCxNQUFPLFdBQ0osV0FDQSxZQUNBLGNBQ0EsV0FDSCxNQUFPLGNBQ0osYUFDQSxTQUNILE1BQU8sYUFDSixhQUNBLFlBQ0EsTUFDSCxNQUFPLFdBRVAsR0FBSSxFQUFTLE9BQ2IsRUFBTyxJQUFLLEdBQUssY0FDakIsRUFBVSxJQU9sQixZQUEyQixFQUFLLENBQzlCLEdBQUksR0FBTyxHQUFtQixHQUM5QixHQUFJLE1BQU8sSUFBUyxVQUFhLElBQU8sYUFBZSxJQUFjLENBQUMsR0FBVyxJQUFPLEtBQU0sSUFBSSxPQUFNLHFCQUF1QixHQUMvSCxNQUFPLElBQVEsRUFNakIsR0FBUSxjQUFnQixHQUN4QixZQUF1QixFQUFVLENBQy9CLEtBQUssU0FBVyxHQUFrQixHQUNsQyxHQUFJLEdBQ0osT0FBUSxLQUFLLGNBQ04sVUFDSCxLQUFLLEtBQU8sR0FDWixLQUFLLElBQU0sR0FDWCxFQUFLLEVBQ0wsVUFDRyxPQUNILEtBQUssU0FBVyxHQUNoQixFQUFLLEVBQ0wsVUFDRyxTQUNILEtBQUssS0FBTyxHQUNaLEtBQUssSUFBTSxHQUNYLEVBQUssRUFDTCxjQUVBLEtBQUssTUFBUSxHQUNiLEtBQUssSUFBTSxHQUNYLE9BRUosS0FBSyxTQUFXLEVBQ2hCLEtBQUssVUFBWSxFQUNqQixLQUFLLFNBQVcsR0FBTyxZQUFZLEdBR3JDLEdBQWMsVUFBVSxNQUFRLFNBQVUsRUFBSyxDQUM3QyxHQUFJLEVBQUksU0FBVyxFQUFHLE1BQU8sR0FDN0IsR0FBSSxHQUNBLEVBQ0osR0FBSSxLQUFLLFNBQVUsQ0FFakIsR0FEQSxFQUFJLEtBQUssU0FBUyxHQUNkLElBQU0sT0FBVyxNQUFPLEdBQzVCLEVBQUksS0FBSyxTQUNULEtBQUssU0FBVyxNQUVoQixHQUFJLEVBRU4sTUFBSSxHQUFJLEVBQUksT0FBZSxFQUFJLEVBQUksS0FBSyxLQUFLLEVBQUssR0FBSyxLQUFLLEtBQUssRUFBSyxHQUMvRCxHQUFLLElBR2QsR0FBYyxVQUFVLElBQU0sR0FHOUIsR0FBYyxVQUFVLEtBQU8sR0FHL0IsR0FBYyxVQUFVLFNBQVcsU0FBVSxFQUFLLENBQ2hELEdBQUksS0FBSyxVQUFZLEVBQUksT0FDdkIsU0FBSSxLQUFLLEtBQUssU0FBVSxLQUFLLFVBQVksS0FBSyxTQUFVLEVBQUcsS0FBSyxVQUN6RCxLQUFLLFNBQVMsU0FBUyxLQUFLLFNBQVUsRUFBRyxLQUFLLFdBRXZELEVBQUksS0FBSyxLQUFLLFNBQVUsS0FBSyxVQUFZLEtBQUssU0FBVSxFQUFHLEVBQUksUUFDL0QsS0FBSyxVQUFZLEVBQUksUUFLdkIsWUFBdUIsRUFBTSxDQUMzQixNQUFJLElBQVEsSUFBYSxFQUFXLEdBQVEsR0FBTSxFQUFhLEVBQVcsR0FBUSxHQUFNLEdBQWEsRUFBVyxHQUFRLEdBQU0sR0FBYSxFQUNwSSxHQUFRLEdBQU0sRUFBTyxHQUFLLEdBTW5DLFlBQTZCLEVBQU0sRUFBSyxFQUFHLENBQ3pDLEdBQUksR0FBSSxFQUFJLE9BQVMsRUFDckIsR0FBSSxFQUFJLEVBQUcsTUFBTyxHQUNsQixHQUFJLEdBQUssR0FBYyxFQUFJLElBQzNCLE1BQUksSUFBTSxFQUNKLEdBQUssR0FBRyxHQUFLLFNBQVcsRUFBSyxHQUMxQixHQUVMLEVBQUUsRUFBSSxHQUFLLElBQU8sR0FBVyxFQUNqQyxHQUFLLEdBQWMsRUFBSSxJQUNuQixHQUFNLEVBQ0osR0FBSyxHQUFHLEdBQUssU0FBVyxFQUFLLEdBQzFCLEdBRUwsRUFBRSxFQUFJLEdBQUssSUFBTyxHQUFXLEVBQ2pDLEdBQUssR0FBYyxFQUFJLElBQ25CLEdBQU0sRUFDSixHQUFLLEdBQ1AsQ0FBSSxJQUFPLEVBQUcsRUFBSyxFQUFPLEVBQUssU0FBVyxFQUFLLEdBRTFDLEdBRUYsSUFXVCxZQUE2QixFQUFNLEVBQUssRUFBRyxDQUN6QyxHQUFLLEdBQUksR0FBSyxNQUFVLElBQ3RCLFNBQUssU0FBVyxFQUNULFNBRVQsR0FBSSxFQUFLLFNBQVcsR0FBSyxFQUFJLE9BQVMsRUFBRyxDQUN2QyxHQUFLLEdBQUksR0FBSyxNQUFVLElBQ3RCLFNBQUssU0FBVyxFQUNULFNBRVQsR0FBSSxFQUFLLFNBQVcsR0FBSyxFQUFJLE9BQVMsR0FDL0IsR0FBSSxHQUFLLE1BQVUsSUFDdEIsU0FBSyxTQUFXLEVBQ1QsVUFPZixZQUFzQixFQUFLLENBQ3pCLEdBQUksR0FBSSxLQUFLLFVBQVksS0FBSyxTQUMxQixFQUFJLEdBQW9CLEtBQU0sRUFBSyxHQUN2QyxHQUFJLElBQU0sT0FBVyxNQUFPLEdBQzVCLEdBQUksS0FBSyxVQUFZLEVBQUksT0FDdkIsU0FBSSxLQUFLLEtBQUssU0FBVSxFQUFHLEVBQUcsS0FBSyxVQUM1QixLQUFLLFNBQVMsU0FBUyxLQUFLLFNBQVUsRUFBRyxLQUFLLFdBRXZELEVBQUksS0FBSyxLQUFLLFNBQVUsRUFBRyxFQUFHLEVBQUksUUFDbEMsS0FBSyxVQUFZLEVBQUksT0FNdkIsWUFBa0IsRUFBSyxFQUFHLENBQ3hCLEdBQUksR0FBUSxHQUFvQixLQUFNLEVBQUssR0FDM0MsR0FBSSxDQUFDLEtBQUssU0FBVSxNQUFPLEdBQUksU0FBUyxPQUFRLEdBQ2hELEtBQUssVUFBWSxFQUNqQixHQUFJLEdBQU0sRUFBSSxPQUFVLEdBQVEsS0FBSyxVQUNyQyxTQUFJLEtBQUssS0FBSyxTQUFVLEVBQUcsR0FDcEIsRUFBSSxTQUFTLE9BQVEsRUFBRyxHQUtqQyxZQUFpQixFQUFLLENBQ3BCLEdBQUksR0FBSSxHQUFPLEVBQUksT0FBUyxLQUFLLE1BQU0sR0FBTyxHQUM5QyxNQUFJLE1BQUssU0FBaUIsRUFBSSxTQUN2QixFQU9ULFlBQW1CLEVBQUssRUFBRyxDQUN6QixHQUFLLEdBQUksT0FBUyxHQUFLLEdBQU0sRUFBRyxDQUM5QixHQUFJLEdBQUksRUFBSSxTQUFTLFVBQVcsR0FDaEMsR0FBSSxFQUFHLENBQ0wsR0FBSSxHQUFJLEVBQUUsV0FBVyxFQUFFLE9BQVMsR0FDaEMsR0FBSSxHQUFLLE9BQVUsR0FBSyxNQUN0QixZQUFLLFNBQVcsRUFDaEIsS0FBSyxVQUFZLEVBQ2pCLEtBQUssU0FBUyxHQUFLLEVBQUksRUFBSSxPQUFTLEdBQ3BDLEtBQUssU0FBUyxHQUFLLEVBQUksRUFBSSxPQUFTLEdBQzdCLEVBQUUsTUFBTSxFQUFHLElBR3RCLE1BQU8sR0FFVCxZQUFLLFNBQVcsRUFDaEIsS0FBSyxVQUFZLEVBQ2pCLEtBQUssU0FBUyxHQUFLLEVBQUksRUFBSSxPQUFTLEdBQzdCLEVBQUksU0FBUyxVQUFXLEVBQUcsRUFBSSxPQUFTLEdBS2pELFlBQWtCLEVBQUssQ0FDckIsR0FBSSxHQUFJLEdBQU8sRUFBSSxPQUFTLEtBQUssTUFBTSxHQUFPLEdBQzlDLEdBQUksS0FBSyxTQUFVLENBQ2pCLEdBQUksR0FBTSxLQUFLLFVBQVksS0FBSyxTQUNoQyxNQUFPLEdBQUksS0FBSyxTQUFTLFNBQVMsVUFBVyxFQUFHLEdBRWxELE1BQU8sR0FHVCxZQUFvQixFQUFLLEVBQUcsQ0FDMUIsR0FBSSxHQUFLLEdBQUksT0FBUyxHQUFLLEVBQzNCLE1BQUksS0FBTSxFQUFVLEVBQUksU0FBUyxTQUFVLEdBQzNDLE1BQUssU0FBVyxFQUFJLEVBQ3BCLEtBQUssVUFBWSxFQUNqQixBQUFJLElBQU0sRUFDUixLQUFLLFNBQVMsR0FBSyxFQUFJLEVBQUksT0FBUyxHQUVwQyxNQUFLLFNBQVMsR0FBSyxFQUFJLEVBQUksT0FBUyxHQUNwQyxLQUFLLFNBQVMsR0FBSyxFQUFJLEVBQUksT0FBUyxJQUUvQixFQUFJLFNBQVMsU0FBVSxFQUFHLEVBQUksT0FBUyxJQUdoRCxZQUFtQixFQUFLLENBQ3RCLEdBQUksR0FBSSxHQUFPLEVBQUksT0FBUyxLQUFLLE1BQU0sR0FBTyxHQUM5QyxNQUFJLE1BQUssU0FBaUIsRUFBSSxLQUFLLFNBQVMsU0FBUyxTQUFVLEVBQUcsRUFBSSxLQUFLLFVBQ3BFLEVBSVQsWUFBcUIsRUFBSyxDQUN4QixNQUFPLEdBQUksU0FBUyxLQUFLLFVBRzNCLFlBQW1CLEVBQUssQ0FDdEIsTUFBTyxJQUFPLEVBQUksT0FBUyxLQUFLLE1BQU0sR0FBTyxNQ3RTL0MsbUJBRUEsYUFFQSxHQUFJLElBQTZCLEtBQTJCLE1BQU0sMkJBRWxFLFlBQWMsRUFBVSxDQUN0QixHQUFJLEdBQVMsR0FDYixNQUFPLFdBQVksQ0FDakIsR0FBSSxHQUNKLEdBQVMsR0FFVCxPQUFTLEdBQU8sVUFBVSxPQUFRLEVBQU8sR0FBSSxPQUFNLEdBQU8sRUFBTyxFQUFHLEVBQU8sRUFBTSxJQUMvRSxFQUFLLEdBQVEsVUFBVSxHQUd6QixFQUFTLE1BQU0sS0FBTSxLQUl6QixhQUFnQixFQUVoQixZQUFtQixFQUFRLENBQ3pCLE1BQU8sR0FBTyxXQUFhLE1BQU8sR0FBTyxPQUFVLFdBR3JELFlBQWEsRUFBUSxFQUFNLEVBQVUsQ0FDbkMsR0FBSSxNQUFPLElBQVMsV0FBWSxNQUFPLElBQUksRUFBUSxLQUFNLEdBQ3pELEFBQUssR0FBTSxHQUFPLElBQ2xCLEVBQVcsR0FBSyxHQUFZLElBQzVCLEdBQUksR0FBVyxFQUFLLFVBQVksRUFBSyxXQUFhLElBQVMsRUFBTyxTQUM5RCxFQUFXLEVBQUssVUFBWSxFQUFLLFdBQWEsSUFBUyxFQUFPLFNBRTlELEVBQWlCLFVBQTBCLENBQzdDLEFBQUssRUFBTyxVQUFVLEtBR3BCLEVBQWdCLEVBQU8sZ0JBQWtCLEVBQU8sZUFBZSxTQUUvRCxFQUFXLFVBQW9CLENBQ2pDLEVBQVcsR0FDWCxFQUFnQixHQUNYLEdBQVUsRUFBUyxLQUFLLElBRzNCLEVBQWdCLEVBQU8sZ0JBQWtCLEVBQU8sZUFBZSxXQUUvRCxFQUFRLFVBQWlCLENBQzNCLEVBQVcsR0FDWCxFQUFnQixHQUNYLEdBQVUsRUFBUyxLQUFLLElBRzNCLEVBQVUsU0FBaUIsRUFBSyxDQUNsQyxFQUFTLEtBQUssRUFBUSxJQUdwQixFQUFVLFVBQW1CLENBQy9CLEdBQUksR0FFSixHQUFJLEdBQVksQ0FBQyxFQUNmLE1BQUksRUFBQyxFQUFPLGdCQUFrQixDQUFDLEVBQU8sZUFBZSxRQUFPLEdBQU0sR0FBSSxLQUMvRCxFQUFTLEtBQUssRUFBUSxHQUcvQixHQUFJLEdBQVksQ0FBQyxFQUNmLE1BQUksRUFBQyxFQUFPLGdCQUFrQixDQUFDLEVBQU8sZUFBZSxRQUFPLEdBQU0sR0FBSSxLQUMvRCxFQUFTLEtBQUssRUFBUSxJQUk3QixFQUFZLFVBQXFCLENBQ25DLEVBQU8sSUFBSSxHQUFHLFNBQVUsSUFHMUIsTUFBSSxJQUFVLEdBQ1osR0FBTyxHQUFHLFdBQVksR0FDdEIsRUFBTyxHQUFHLFFBQVMsR0FDbkIsQUFBSSxFQUFPLElBQUssSUFBaUIsRUFBTyxHQUFHLFVBQVcsSUFDN0MsR0FBWSxDQUFDLEVBQU8sZ0JBRTdCLEdBQU8sR0FBRyxNQUFPLEdBQ2pCLEVBQU8sR0FBRyxRQUFTLElBR3JCLEVBQU8sR0FBRyxNQUFPLEdBQ2pCLEVBQU8sR0FBRyxTQUFVLEdBQ2hCLEVBQUssUUFBVSxJQUFPLEVBQU8sR0FBRyxRQUFTLEdBQzdDLEVBQU8sR0FBRyxRQUFTLEdBQ1osVUFBWSxDQUNqQixFQUFPLGVBQWUsV0FBWSxHQUNsQyxFQUFPLGVBQWUsUUFBUyxHQUMvQixFQUFPLGVBQWUsVUFBVyxHQUM3QixFQUFPLEtBQUssRUFBTyxJQUFJLGVBQWUsU0FBVSxHQUNwRCxFQUFPLGVBQWUsTUFBTyxHQUM3QixFQUFPLGVBQWUsUUFBUyxHQUMvQixFQUFPLGVBQWUsU0FBVSxHQUNoQyxFQUFPLGVBQWUsTUFBTyxHQUM3QixFQUFPLGVBQWUsUUFBUyxHQUMvQixFQUFPLGVBQWUsUUFBUyxJQUluQyxHQUFPLFFBQVUsS0N2R2pCLGdDQUVBLEdBQUksSUFFSixZQUF5QixFQUFLLEVBQUssRUFBTyxDQUFFLE1BQUksS0FBTyxHQUFPLE9BQU8sZUFBZSxFQUFLLEVBQUssQ0FBRSxNQUFPLEVBQU8sV0FBWSxHQUFNLGFBQWMsR0FBTSxTQUFVLEtBQWtCLEVBQUksR0FBTyxFQUFnQixFQUUzTSxHQUFJLElBQVcsS0FFWCxHQUFlLE9BQU8sZUFDdEIsR0FBYyxPQUFPLGNBQ3JCLEdBQVMsT0FBTyxTQUNoQixHQUFTLE9BQU8sU0FDaEIsR0FBZSxPQUFPLGVBQ3RCLEdBQWlCLE9BQU8saUJBQ3hCLEdBQVUsT0FBTyxVQUVyQixZQUEwQixFQUFPLEVBQU0sQ0FDckMsTUFBTyxDQUNMLE1BQU8sRUFDUCxLQUFNLEdBSVYsWUFBd0IsRUFBTSxDQUM1QixHQUFJLEdBQVUsRUFBSyxJQUVuQixHQUFJLElBQVksS0FBTSxDQUNwQixHQUFJLEdBQU8sRUFBSyxJQUFTLE9BSXpCLEFBQUksSUFBUyxNQUNYLEdBQUssSUFBZ0IsS0FDckIsRUFBSyxJQUFnQixLQUNyQixFQUFLLElBQWUsS0FDcEIsRUFBUSxHQUFpQixFQUFNLE9BS3JDLFlBQW9CLEVBQU0sQ0FHeEIsUUFBUSxTQUFTLEdBQWdCLEdBR25DLFlBQXFCLEVBQWEsRUFBTSxDQUN0QyxNQUFPLFVBQVUsRUFBUyxFQUFRLENBQ2hDLEVBQVksS0FBSyxVQUFZLENBQzNCLEdBQUksRUFBSyxJQUFTLENBQ2hCLEVBQVEsR0FBaUIsT0FBVyxLQUNwQyxPQUdGLEVBQUssSUFBZ0IsRUFBUyxJQUM3QixJQUlQLEdBQUksSUFBeUIsT0FBTyxlQUFlLFVBQVksSUFDM0QsR0FBdUMsT0FBTyxlQUFnQixJQUF3QixJQUNwRixTQUFTLENBQ1gsTUFBTyxNQUFLLEtBR2QsS0FBTSxVQUFnQixDQUNwQixHQUFJLEdBQVEsS0FJUixFQUFRLEtBQUssSUFFakIsR0FBSSxJQUFVLEtBQ1osTUFBTyxTQUFRLE9BQU8sR0FHeEIsR0FBSSxLQUFLLElBQ1AsTUFBTyxTQUFRLFFBQVEsR0FBaUIsT0FBVyxLQUdyRCxHQUFJLEtBQUssSUFBUyxVQUtoQixNQUFPLElBQUksU0FBUSxTQUFVLEVBQVMsRUFBUSxDQUM1QyxRQUFRLFNBQVMsVUFBWSxDQUMzQixBQUFJLEVBQU0sSUFDUixFQUFPLEVBQU0sS0FFYixFQUFRLEdBQWlCLE9BQVcsU0FVNUMsR0FBSSxHQUFjLEtBQUssSUFDbkIsRUFFSixHQUFJLEVBQ0YsRUFBVSxHQUFJLFNBQVEsR0FBWSxFQUFhLFdBQzFDLENBR0wsR0FBSSxHQUFPLEtBQUssSUFBUyxPQUV6QixHQUFJLElBQVMsS0FDWCxNQUFPLFNBQVEsUUFBUSxHQUFpQixFQUFNLEtBR2hELEVBQVUsR0FBSSxTQUFRLEtBQUssS0FHN0IsWUFBSyxJQUFnQixFQUNkLElBRVIsR0FBZ0IsR0FBdUIsT0FBTyxjQUFlLFVBQVksQ0FDMUUsTUFBTyxRQUNMLEdBQWdCLEdBQXVCLFNBQVUsVUFBbUIsQ0FDdEUsR0FBSSxHQUFTLEtBS2IsTUFBTyxJQUFJLFNBQVEsU0FBVSxFQUFTLEVBQVEsQ0FDNUMsRUFBTyxJQUFTLFFBQVEsS0FBTSxTQUFVLEVBQUssQ0FDM0MsR0FBSSxFQUFLLENBQ1AsRUFBTyxHQUNQLE9BR0YsRUFBUSxHQUFpQixPQUFXLFdBR3RDLElBQXdCLElBRXhCLEdBQW9DLFNBQTJDLEVBQVEsQ0FDekYsR0FBSSxHQUVBLEVBQVcsT0FBTyxPQUFPLEdBQXVDLEdBQWlCLEdBQUksR0FBZ0IsRUFBZ0IsR0FBUyxDQUNoSSxNQUFPLEVBQ1AsU0FBVSxLQUNSLEdBQWdCLEVBQWdCLEdBQWMsQ0FDaEQsTUFBTyxLQUNQLFNBQVUsS0FDUixHQUFnQixFQUFnQixHQUFhLENBQy9DLE1BQU8sS0FDUCxTQUFVLEtBQ1IsR0FBZ0IsRUFBZ0IsR0FBUSxDQUMxQyxNQUFPLEtBQ1AsU0FBVSxLQUNSLEdBQWdCLEVBQWdCLEdBQVEsQ0FDMUMsTUFBTyxFQUFPLGVBQWUsV0FDN0IsU0FBVSxLQUNSLEdBQWdCLEVBQWdCLEdBQWdCLENBQ2xELE1BQU8sU0FBZSxFQUFTLEVBQVEsQ0FDckMsR0FBSSxHQUFPLEVBQVMsSUFBUyxPQUU3QixBQUFJLEVBQ0YsR0FBUyxJQUFnQixLQUN6QixFQUFTLElBQWdCLEtBQ3pCLEVBQVMsSUFBZSxLQUN4QixFQUFRLEdBQWlCLEVBQU0sTUFFL0IsR0FBUyxJQUFnQixFQUN6QixFQUFTLElBQWUsSUFHNUIsU0FBVSxLQUNSLElBQ0osU0FBUyxJQUFnQixLQUN6QixHQUFTLEVBQVEsU0FBVSxFQUFLLENBQzlCLEdBQUksR0FBTyxFQUFJLE9BQVMsNkJBQThCLENBQ3BELEdBQUksR0FBUyxFQUFTLElBR3RCLEFBQUksSUFBVyxNQUNiLEdBQVMsSUFBZ0IsS0FDekIsRUFBUyxJQUFnQixLQUN6QixFQUFTLElBQWUsS0FDeEIsRUFBTyxJQUdULEVBQVMsSUFBVSxFQUNuQixPQUdGLEdBQUksR0FBVSxFQUFTLElBRXZCLEFBQUksSUFBWSxNQUNkLEdBQVMsSUFBZ0IsS0FDekIsRUFBUyxJQUFnQixLQUN6QixFQUFTLElBQWUsS0FDeEIsRUFBUSxHQUFpQixPQUFXLE1BR3RDLEVBQVMsSUFBVSxLQUVyQixFQUFPLEdBQUcsV0FBWSxHQUFXLEtBQUssS0FBTSxJQUNyQyxHQUdULEdBQU8sUUFBVSxLQzlNakIsZ0NBRUEsWUFBNEIsRUFBSyxFQUFTLEVBQVEsRUFBTyxFQUFRLEVBQUssRUFBSyxDQUFFLEdBQUksQ0FBRSxHQUFJLEdBQU8sRUFBSSxHQUFLLEdBQVUsRUFBUSxFQUFLLFlBQWdCLEVBQVAsQ0FBZ0IsRUFBTyxHQUFRLE9BQVUsQUFBSSxFQUFLLEtBQVEsRUFBUSxHQUFpQixRQUFRLFFBQVEsR0FBTyxLQUFLLEVBQU8sR0FFN1AsWUFBMkIsRUFBSSxDQUFFLE1BQU8sV0FBWSxDQUFFLEdBQUksR0FBTyxLQUFNLEVBQU8sVUFBVyxNQUFPLElBQUksU0FBUSxTQUFVLEVBQVMsRUFBUSxDQUFFLEdBQUksR0FBTSxFQUFHLE1BQU0sRUFBTSxHQUFPLFdBQWUsRUFBTyxDQUFFLEdBQW1CLEVBQUssRUFBUyxFQUFRLEVBQU8sRUFBUSxPQUFRLEdBQVUsV0FBZ0IsRUFBSyxDQUFFLEdBQW1CLEVBQUssRUFBUyxFQUFRLEVBQU8sRUFBUSxRQUFTLEdBQVEsRUFBTSxXQUVqWCxZQUFpQixFQUFRLEVBQWdCLENBQUUsR0FBSSxHQUFPLE9BQU8sS0FBSyxHQUFTLEdBQUksT0FBTyxzQkFBdUIsQ0FBRSxHQUFJLEdBQVUsT0FBTyxzQkFBc0IsR0FBUyxBQUFJLEdBQWdCLEdBQVUsRUFBUSxPQUFPLFNBQVUsRUFBSyxDQUFFLE1BQU8sUUFBTyx5QkFBeUIsRUFBUSxHQUFLLGNBQWdCLEVBQUssS0FBSyxNQUFNLEVBQU0sR0FBWSxNQUFPLEdBRTlVLFlBQXVCLEVBQVEsQ0FBRSxPQUFTLEdBQUksRUFBRyxFQUFJLFVBQVUsT0FBUSxJQUFLLENBQUUsR0FBSSxHQUFTLFVBQVUsSUFBTSxLQUFPLFVBQVUsR0FBSyxHQUFJLEFBQUksRUFBSSxFQUFLLEdBQVEsT0FBTyxHQUFTLElBQU0sUUFBUSxTQUFVLEVBQUssQ0FBRSxHQUFnQixFQUFRLEVBQUssRUFBTyxNQUFrQixBQUFJLE9BQU8sMEJBQTZCLE9BQU8saUJBQWlCLEVBQVEsT0FBTywwQkFBMEIsSUFBbUIsR0FBUSxPQUFPLElBQVMsUUFBUSxTQUFVLEVBQUssQ0FBRSxPQUFPLGVBQWUsRUFBUSxFQUFLLE9BQU8seUJBQXlCLEVBQVEsTUFBZSxNQUFPLEdBRTdnQixZQUF5QixFQUFLLEVBQUssRUFBTyxDQUFFLE1BQUksS0FBTyxHQUFPLE9BQU8sZUFBZSxFQUFLLEVBQUssQ0FBRSxNQUFPLEVBQU8sV0FBWSxHQUFNLGFBQWMsR0FBTSxTQUFVLEtBQWtCLEVBQUksR0FBTyxFQUFnQixFQUUzTSxHQUFJLElBQXVCLEtBQTJCLE1BQU0scUJBRTVELFlBQWMsRUFBVSxFQUFVLEVBQU0sQ0FDdEMsR0FBSSxHQUVKLEdBQUksR0FBWSxNQUFPLEdBQVMsTUFBUyxXQUN2QyxFQUFXLFVBQ0YsR0FBWSxFQUFTLE9BQU8sZUFBZ0IsRUFBVyxFQUFTLE9BQU8seUJBQTBCLEdBQVksRUFBUyxPQUFPLFVBQVcsRUFBVyxFQUFTLE9BQU8sZ0JBQWlCLE1BQU0sSUFBSSxJQUFxQixXQUFZLENBQUMsWUFBYSxHQUV4UCxHQUFJLEdBQVcsR0FBSSxHQUFTLEdBQWMsQ0FDeEMsV0FBWSxJQUNYLElBR0MsRUFBVSxHQUVkLEVBQVMsTUFBUSxVQUFZLENBQzNCLEFBQUssR0FDSCxHQUFVLEdBQ1YsTUFJSixZQUFnQixDQUNkLE1BQU8sR0FBTyxNQUFNLEtBQU0sV0FHNUIsWUFBa0IsQ0FDaEIsU0FBUyxHQUFrQixXQUFhLENBQ3RDLEdBQUksQ0FDRixHQUFJLEdBQU8sS0FBTSxHQUFTLE9BQ3RCLEVBQVEsRUFBSyxNQUNiLEVBQU8sRUFBSyxLQUVoQixBQUFJLEVBQ0YsRUFBUyxLQUFLLE1BQ1QsQUFBSSxFQUFTLEtBQU0sS0FBTSxJQUM5QixJQUVBLEVBQVUsU0FFTCxFQUFQLENBQ0EsRUFBUyxRQUFRLE1BR2QsRUFBTyxNQUFNLEtBQU0sV0FHNUIsTUFBTyxHQUdULEdBQU8sUUFBVSxLQy9EakIsbUJBb0JBLGFBRUEsR0FBTyxRQUFVLEdBR2pCLEdBQUksSUFHSixHQUFTLGNBQWdCLEdBR3pCLEdBQUksSUFBSyxFQUFRLFVBQVUsYUFFdkIsR0FBa0IsU0FBeUIsRUFBUyxFQUFNLENBQzVELE1BQU8sR0FBUSxVQUFVLEdBQU0sUUFPN0IsR0FBUyxLQUlULEdBQVMsRUFBUSxVQUFVLE9BRTNCLEdBQWdCLE9BQU8sWUFBYyxVQUFZLEdBRXJELFlBQTZCLEVBQU8sQ0FDbEMsTUFBTyxJQUFPLEtBQUssR0FHckIsWUFBdUIsRUFBSyxDQUMxQixNQUFPLElBQU8sU0FBUyxJQUFRLFlBQWUsSUFLaEQsR0FBSSxJQUFZLEVBQVEsUUFFcEIsR0FFSixBQUFJLElBQWEsR0FBVSxTQUN6QixHQUFRLEdBQVUsU0FBUyxVQUUzQixHQUFRLFVBQWlCLEdBSzNCLEdBQUksSUFBYSxLQUViLEdBQWMsS0FFZCxHQUFXLEtBQ1gsR0FBbUIsR0FBUyxpQkFFNUIsR0FBaUIsS0FBcUIsTUFDdEMsR0FBdUIsR0FBZSxxQkFDdEMsR0FBNEIsR0FBZSwwQkFDM0MsR0FBNkIsR0FBZSwyQkFDNUMsR0FBcUMsR0FBZSxtQ0FHcEQsR0FDQSxHQUNBLEdBRUosS0FBb0IsR0FBVSxJQUU5QixHQUFJLElBQWlCLEdBQVksZUFDN0IsR0FBZSxDQUFDLFFBQVMsUUFBUyxVQUFXLFFBQVMsVUFFMUQsWUFBeUIsRUFBUyxFQUFPLEVBQUksQ0FHM0MsR0FBSSxNQUFPLEdBQVEsaUJBQW9CLFdBQVksTUFBTyxHQUFRLGdCQUFnQixFQUFPLEdBS3pGLEFBQUksQ0FBQyxFQUFRLFNBQVcsQ0FBQyxFQUFRLFFBQVEsR0FBUSxFQUFRLEdBQUcsRUFBTyxHQUFTLEFBQUksTUFBTSxRQUFRLEVBQVEsUUFBUSxJQUFTLEVBQVEsUUFBUSxHQUFPLFFBQVEsR0FBUyxFQUFRLFFBQVEsR0FBUyxDQUFDLEVBQUksRUFBUSxRQUFRLElBRy9NLFlBQXVCLEVBQVMsRUFBUSxFQUFVLENBQ2hELEdBQVMsSUFBVSxLQUNuQixFQUFVLEdBQVcsR0FNakIsTUFBTyxJQUFhLFdBQVcsR0FBVyxZQUFrQixLQUdoRSxLQUFLLFdBQWEsQ0FBQyxDQUFDLEVBQVEsV0FDeEIsR0FBVSxNQUFLLFdBQWEsS0FBSyxZQUFjLENBQUMsQ0FBQyxFQUFRLG9CQUc3RCxLQUFLLGNBQWdCLEdBQWlCLEtBQU0sRUFBUyx3QkFBeUIsR0FJOUUsS0FBSyxPQUFTLEdBQUksSUFDbEIsS0FBSyxPQUFTLEVBQ2QsS0FBSyxNQUFRLEtBQ2IsS0FBSyxXQUFhLEVBQ2xCLEtBQUssUUFBVSxLQUNmLEtBQUssTUFBUSxHQUNiLEtBQUssV0FBYSxHQUNsQixLQUFLLFFBQVUsR0FLZixLQUFLLEtBQU8sR0FHWixLQUFLLGFBQWUsR0FDcEIsS0FBSyxnQkFBa0IsR0FDdkIsS0FBSyxrQkFBb0IsR0FDekIsS0FBSyxnQkFBa0IsR0FDdkIsS0FBSyxPQUFTLEdBRWQsS0FBSyxVQUFZLEVBQVEsWUFBYyxHQUV2QyxLQUFLLFlBQWMsQ0FBQyxDQUFDLEVBQVEsWUFFN0IsS0FBSyxVQUFZLEdBSWpCLEtBQUssZ0JBQWtCLEVBQVEsaUJBQW1CLE9BRWxELEtBQUssV0FBYSxFQUVsQixLQUFLLFlBQWMsR0FDbkIsS0FBSyxRQUFVLEtBQ2YsS0FBSyxTQUFXLEtBRVosRUFBUSxVQUNMLEtBQWUsSUFBZ0IsS0FBMkIsZUFDL0QsS0FBSyxRQUFVLEdBQUksSUFBYyxFQUFRLFVBQ3pDLEtBQUssU0FBVyxFQUFRLFVBSTVCLFlBQWtCLEVBQVMsQ0FFekIsR0FEQSxHQUFTLElBQVUsS0FDZixDQUFFLGdCQUFnQixLQUFXLE1BQU8sSUFBSSxJQUFTLEdBR3JELEdBQUksR0FBVyxlQUFnQixJQUMvQixLQUFLLGVBQWlCLEdBQUksSUFBYyxFQUFTLEtBQU0sR0FFdkQsS0FBSyxTQUFXLEdBRVosR0FDRSxPQUFPLEdBQVEsTUFBUyxZQUFZLE1BQUssTUFBUSxFQUFRLE1BQ3pELE1BQU8sR0FBUSxTQUFZLFlBQVksTUFBSyxTQUFXLEVBQVEsVUFHckUsR0FBTyxLQUFLLE1BR2QsT0FBTyxlQUFlLEdBQVMsVUFBVyxZQUFhLENBSXJELFdBQVksR0FDWixJQUFLLFVBQWUsQ0FDbEIsTUFBSSxNQUFLLGlCQUFtQixPQUNuQixHQUdGLEtBQUssZUFBZSxXQUU3QixJQUFLLFNBQWEsRUFBTyxDQUd2QixBQUFJLENBQUMsS0FBSyxnQkFNVixNQUFLLGVBQWUsVUFBWSxNQUdwQyxHQUFTLFVBQVUsUUFBVSxHQUFZLFFBQ3pDLEdBQVMsVUFBVSxXQUFhLEdBQVksVUFFNUMsR0FBUyxVQUFVLFNBQVcsU0FBVSxFQUFLLEVBQUksQ0FDL0MsRUFBRyxJQU9MLEdBQVMsVUFBVSxLQUFPLFNBQVUsRUFBTyxFQUFVLENBQ25ELEdBQUksR0FBUSxLQUFLLGVBQ2IsRUFFSixNQUFLLEdBQU0sV0FZVCxFQUFpQixHQVhiLE1BQU8sSUFBVSxVQUNuQixHQUFXLEdBQVksRUFBTSxnQkFFekIsSUFBYSxFQUFNLFVBQ3JCLEdBQVEsR0FBTyxLQUFLLEVBQU8sR0FDM0IsRUFBVyxJQUdiLEVBQWlCLElBTWQsR0FBaUIsS0FBTSxFQUFPLEVBQVUsR0FBTyxJQUl4RCxHQUFTLFVBQVUsUUFBVSxTQUFVLEVBQU8sQ0FDNUMsTUFBTyxJQUFpQixLQUFNLEVBQU8sS0FBTSxHQUFNLEtBR25ELFlBQTBCLEVBQVEsRUFBTyxFQUFVLEVBQVksRUFBZ0IsQ0FDN0UsR0FBTSxtQkFBb0IsR0FDMUIsR0FBSSxHQUFRLEVBQU8sZUFFbkIsR0FBSSxJQUFVLEtBQ1osRUFBTSxRQUFVLEdBQ2hCLEdBQVcsRUFBUSxPQUNkLENBQ0wsR0FBSSxHQUdKLEdBRkssR0FBZ0IsR0FBSyxHQUFhLEVBQU8sSUFFMUMsRUFDRixHQUFlLEVBQVEsV0FDZCxFQUFNLFlBQWMsR0FBUyxFQUFNLE9BQVMsRUFLckQsR0FKSSxNQUFPLElBQVUsVUFBWSxDQUFDLEVBQU0sWUFBYyxPQUFPLGVBQWUsS0FBVyxHQUFPLFdBQzVGLEdBQVEsR0FBb0IsSUFHMUIsRUFDRixBQUFJLEVBQU0sV0FBWSxHQUFlLEVBQVEsR0FBSSxLQUEyQyxHQUFTLEVBQVEsRUFBTyxFQUFPLFlBQ2xILEVBQU0sTUFDZixHQUFlLEVBQVEsR0FBSSxTQUN0QixJQUFJLEVBQU0sVUFDZixNQUFPLEdBRVAsRUFBTSxRQUFVLEdBRWhCLEFBQUksRUFBTSxTQUFXLENBQUMsRUFDcEIsR0FBUSxFQUFNLFFBQVEsTUFBTSxHQUM1QixBQUFJLEVBQU0sWUFBYyxFQUFNLFNBQVcsRUFBRyxHQUFTLEVBQVEsRUFBTyxFQUFPLElBQVksR0FBYyxFQUFRLElBRTdHLEdBQVMsRUFBUSxFQUFPLEVBQU8sUUFHOUIsQUFBSyxJQUNWLEdBQU0sUUFBVSxHQUNoQixHQUFjLEVBQVEsSUFPMUIsTUFBTyxDQUFDLEVBQU0sT0FBVSxHQUFNLE9BQVMsRUFBTSxlQUFpQixFQUFNLFNBQVcsR0FHakYsWUFBa0IsRUFBUSxFQUFPLEVBQU8sRUFBWSxDQUNsRCxBQUFJLEVBQU0sU0FBVyxFQUFNLFNBQVcsR0FBSyxDQUFDLEVBQU0sS0FDaEQsR0FBTSxXQUFhLEVBQ25CLEVBQU8sS0FBSyxPQUFRLElBR3BCLEdBQU0sUUFBVSxFQUFNLFdBQWEsRUFBSSxFQUFNLE9BQzdDLEFBQUksRUFBWSxFQUFNLE9BQU8sUUFBUSxHQUFZLEVBQU0sT0FBTyxLQUFLLEdBQy9ELEVBQU0sY0FBYyxHQUFhLElBR3ZDLEdBQWMsRUFBUSxHQUd4QixZQUFzQixFQUFPLEVBQU8sQ0FDbEMsR0FBSSxHQUVKLE1BQUksQ0FBQyxHQUFjLElBQVUsTUFBTyxJQUFVLFVBQVksSUFBVSxRQUFhLENBQUMsRUFBTSxZQUN0RixHQUFLLEdBQUksSUFBcUIsUUFBUyxDQUFDLFNBQVUsU0FBVSxjQUFlLElBR3RFLEVBR1QsR0FBUyxVQUFVLFNBQVcsVUFBWSxDQUN4QyxNQUFPLE1BQUssZUFBZSxVQUFZLElBSXpDLEdBQVMsVUFBVSxZQUFjLFNBQVUsRUFBSyxDQUM5QyxBQUFLLElBQWUsSUFBZ0IsS0FBMkIsZUFDL0QsR0FBSSxHQUFVLEdBQUksSUFBYyxHQUNoQyxLQUFLLGVBQWUsUUFBVSxFQUU5QixLQUFLLGVBQWUsU0FBVyxLQUFLLGVBQWUsUUFBUSxTQUszRCxPQUhJLEdBQUksS0FBSyxlQUFlLE9BQU8sS0FDL0IsRUFBVSxHQUVQLElBQU0sTUFDWCxHQUFXLEVBQVEsTUFBTSxFQUFFLE1BQzNCLEVBQUksRUFBRSxLQUdSLFlBQUssZUFBZSxPQUFPLFFBRXZCLElBQVksSUFBSSxLQUFLLGVBQWUsT0FBTyxLQUFLLEdBQ3BELEtBQUssZUFBZSxPQUFTLEVBQVEsT0FDOUIsTUFJVCxHQUFJLElBQVUsV0FFZCxZQUFpQyxFQUFHLENBQ2xDLE1BQUksSUFBSyxHQUVQLEVBQUksR0FJSixLQUNBLEdBQUssSUFBTSxFQUNYLEdBQUssSUFBTSxFQUNYLEdBQUssSUFBTSxFQUNYLEdBQUssSUFBTSxFQUNYLEdBQUssSUFBTSxHQUNYLEtBR0ssRUFLVCxZQUF1QixFQUFHLEVBQU8sQ0FDL0IsTUFBSSxJQUFLLEdBQUssRUFBTSxTQUFXLEdBQUssRUFBTSxNQUFjLEVBQ3BELEVBQU0sV0FBbUIsRUFFekIsSUFBTSxFQUVKLEVBQU0sU0FBVyxFQUFNLE9BQWUsRUFBTSxPQUFPLEtBQUssS0FBSyxPQUFtQixFQUFNLE9BSXhGLEdBQUksRUFBTSxlQUFlLEdBQU0sY0FBZ0IsR0FBd0IsSUFDdkUsR0FBSyxFQUFNLE9BQWUsRUFFekIsRUFBTSxNQUtKLEVBQU0sT0FKWCxHQUFNLGFBQWUsR0FDZCxJQU9YLEdBQVMsVUFBVSxLQUFPLFNBQVUsRUFBRyxDQUNyQyxHQUFNLE9BQVEsR0FDZCxFQUFJLFNBQVMsRUFBRyxJQUNoQixHQUFJLEdBQVEsS0FBSyxlQUNiLEVBQVEsRUFLWixHQUpJLElBQU0sR0FBRyxHQUFNLGdCQUFrQixJQUlqQyxJQUFNLEdBQUssRUFBTSxjQUFrQixJQUFNLGdCQUFrQixFQUFJLEVBQU0sUUFBVSxFQUFNLGNBQWdCLEVBQU0sT0FBUyxJQUFNLEVBQU0sT0FDbEksVUFBTSxxQkFBc0IsRUFBTSxPQUFRLEVBQU0sT0FDaEQsQUFBSSxFQUFNLFNBQVcsR0FBSyxFQUFNLE1BQU8sR0FBWSxNQUFXLEdBQWEsTUFDcEUsS0FLVCxHQUZBLEVBQUksR0FBYyxFQUFHLEdBRWpCLElBQU0sR0FBSyxFQUFNLE1BQ25CLE1BQUksR0FBTSxTQUFXLEdBQUcsR0FBWSxNQUM3QixLQXlCVCxHQUFJLEdBQVMsRUFBTSxhQUNuQixHQUFNLGdCQUFpQixHQUVuQixHQUFNLFNBQVcsR0FBSyxFQUFNLE9BQVMsRUFBSSxFQUFNLGdCQUNqRCxHQUFTLEdBQ1QsR0FBTSw2QkFBOEIsSUFLdEMsQUFBSSxFQUFNLE9BQVMsRUFBTSxRQUN2QixHQUFTLEdBQ1QsR0FBTSxtQkFBb0IsSUFDakIsR0FDVCxJQUFNLFdBQ04sRUFBTSxRQUFVLEdBQ2hCLEVBQU0sS0FBTyxHQUVULEVBQU0sU0FBVyxHQUFHLEdBQU0sYUFBZSxJQUU3QyxLQUFLLE1BQU0sRUFBTSxlQUVqQixFQUFNLEtBQU8sR0FHUixFQUFNLFNBQVMsR0FBSSxHQUFjLEVBQU8sS0FHL0MsR0FBSSxHQUNKLE1BQUksR0FBSSxFQUFHLEVBQU0sR0FBUyxFQUFHLEdBQVksRUFBTSxLQUUvQyxBQUFJLElBQVEsS0FDVixHQUFNLGFBQWUsRUFBTSxRQUFVLEVBQU0sY0FDM0MsRUFBSSxHQUVKLEdBQU0sUUFBVSxFQUNoQixFQUFNLFdBQWEsR0FHakIsRUFBTSxTQUFXLEdBR2QsR0FBTSxPQUFPLEdBQU0sYUFBZSxJQUVuQyxJQUFVLEdBQUssRUFBTSxPQUFPLEdBQVksT0FHMUMsSUFBUSxNQUFNLEtBQUssS0FBSyxPQUFRLEdBQzdCLEdBR1QsWUFBb0IsRUFBUSxFQUFPLENBRWpDLEdBREEsR0FBTSxjQUNGLEdBQU0sTUFFVixJQUFJLEVBQU0sUUFBUyxDQUNqQixHQUFJLEdBQVEsRUFBTSxRQUFRLE1BRTFCLEFBQUksR0FBUyxFQUFNLFFBQ2pCLEdBQU0sT0FBTyxLQUFLLEdBQ2xCLEVBQU0sUUFBVSxFQUFNLFdBQWEsRUFBSSxFQUFNLFFBSWpELEVBQU0sTUFBUSxHQUVkLEFBQUksRUFBTSxLQUlSLEdBQWEsR0FHYixHQUFNLGFBQWUsR0FFaEIsRUFBTSxpQkFDVCxHQUFNLGdCQUFrQixHQUN4QixHQUFjLE1BUXBCLFlBQXNCLEVBQVEsQ0FDNUIsR0FBSSxHQUFRLEVBQU8sZUFDbkIsR0FBTSxlQUFnQixFQUFNLGFBQWMsRUFBTSxpQkFDaEQsRUFBTSxhQUFlLEdBRWhCLEVBQU0saUJBQ1QsSUFBTSxlQUFnQixFQUFNLFNBQzVCLEVBQU0sZ0JBQWtCLEdBQ3hCLFFBQVEsU0FBUyxHQUFlLElBSXBDLFlBQXVCLEVBQVEsQ0FDN0IsR0FBSSxHQUFRLEVBQU8sZUFDbkIsR0FBTSxnQkFBaUIsRUFBTSxVQUFXLEVBQU0sT0FBUSxFQUFNLE9BRXhELENBQUMsRUFBTSxXQUFjLEdBQU0sUUFBVSxFQUFNLFFBQzdDLEdBQU8sS0FBSyxZQUNaLEVBQU0sZ0JBQWtCLElBUzFCLEVBQU0sYUFBZSxDQUFDLEVBQU0sU0FBVyxDQUFDLEVBQU0sT0FBUyxFQUFNLFFBQVUsRUFBTSxjQUM3RSxHQUFLLEdBU1AsWUFBdUIsRUFBUSxFQUFPLENBQ3BDLEFBQUssRUFBTSxhQUNULEdBQU0sWUFBYyxHQUNwQixRQUFRLFNBQVMsR0FBZ0IsRUFBUSxJQUk3QyxZQUF3QixFQUFRLEVBQU8sQ0F3QnJDLEtBQU8sQ0FBQyxFQUFNLFNBQVcsQ0FBQyxFQUFNLE9BQVUsR0FBTSxPQUFTLEVBQU0sZUFBaUIsRUFBTSxTQUFXLEVBQU0sU0FBVyxJQUFJLENBQ3BILEdBQUksR0FBTSxFQUFNLE9BR2hCLEdBRkEsR0FBTSx3QkFDTixFQUFPLEtBQUssR0FDUixJQUFRLEVBQU0sT0FDaEIsTUFHSixFQUFNLFlBQWMsR0FPdEIsR0FBUyxVQUFVLE1BQVEsU0FBVSxFQUFHLENBQ3RDLEdBQWUsS0FBTSxHQUFJLElBQTJCLGFBR3RELEdBQVMsVUFBVSxLQUFPLFNBQVUsRUFBTSxFQUFVLENBQ2xELEdBQUksR0FBTSxLQUNOLEVBQVEsS0FBSyxlQUVqQixPQUFRLEVBQU0sZ0JBQ1AsR0FDSCxFQUFNLE1BQVEsRUFDZCxVQUVHLEdBQ0gsRUFBTSxNQUFRLENBQUMsRUFBTSxNQUFPLEdBQzVCLGNBR0EsRUFBTSxNQUFNLEtBQUssR0FDakIsTUFHSixFQUFNLFlBQWMsRUFDcEIsR0FBTSx3QkFBeUIsRUFBTSxXQUFZLEdBQ2pELEdBQUksR0FBUyxFQUFDLEdBQVksRUFBUyxNQUFRLEtBQVUsSUFBUyxRQUFRLFFBQVUsSUFBUyxRQUFRLE9BQzdGLEVBQVEsRUFBUSxFQUFRLEVBQzVCLEFBQUksRUFBTSxXQUFZLFFBQVEsU0FBUyxHQUFZLEVBQUksS0FBSyxNQUFPLEdBQ25FLEVBQUssR0FBRyxTQUFVLEdBRWxCLFdBQWtCLEVBQVUsRUFBWSxDQUN0QyxHQUFNLFlBRUYsSUFBYSxHQUNYLEdBQWMsRUFBVyxhQUFlLElBQzFDLEdBQVcsV0FBYSxHQUN4QixLQUtOLFlBQWlCLENBQ2YsR0FBTSxTQUNOLEVBQUssTUFPUCxHQUFJLEdBQVUsR0FBWSxHQUMxQixFQUFLLEdBQUcsUUFBUyxHQUNqQixHQUFJLEdBQVksR0FFaEIsWUFBbUIsQ0FDakIsR0FBTSxXQUVOLEVBQUssZUFBZSxRQUFTLEdBQzdCLEVBQUssZUFBZSxTQUFVLEdBQzlCLEVBQUssZUFBZSxRQUFTLEdBQzdCLEVBQUssZUFBZSxRQUFTLEdBQzdCLEVBQUssZUFBZSxTQUFVLEdBQzlCLEVBQUksZUFBZSxNQUFPLEdBQzFCLEVBQUksZUFBZSxNQUFPLEdBQzFCLEVBQUksZUFBZSxPQUFRLEdBQzNCLEVBQVksR0FNUixFQUFNLFlBQWUsRUFBQyxFQUFLLGdCQUFrQixFQUFLLGVBQWUsWUFBWSxJQUduRixFQUFJLEdBQUcsT0FBUSxHQUVmLFdBQWdCLEVBQU8sQ0FDckIsR0FBTSxVQUNOLEdBQUksR0FBTSxFQUFLLE1BQU0sR0FDckIsR0FBTSxhQUFjLEdBRWhCLElBQVEsSUFLTCxJQUFNLGFBQWUsR0FBSyxFQUFNLFFBQVUsR0FBUSxFQUFNLFdBQWEsR0FBSyxHQUFRLEVBQU0sTUFBTyxLQUFVLEtBQU8sQ0FBQyxHQUNwSCxJQUFNLDhCQUErQixFQUFNLFlBQzNDLEVBQU0sY0FHUixFQUFJLFNBTVIsV0FBaUIsRUFBSSxDQUNuQixHQUFNLFVBQVcsR0FDakIsSUFDQSxFQUFLLGVBQWUsUUFBUyxHQUN6QixHQUFnQixFQUFNLFdBQWEsR0FBRyxHQUFlLEVBQU0sR0FJakUsR0FBZ0IsRUFBTSxRQUFTLEdBRS9CLFlBQW1CLENBQ2pCLEVBQUssZUFBZSxTQUFVLEdBQzlCLElBR0YsRUFBSyxLQUFLLFFBQVMsR0FFbkIsWUFBb0IsQ0FDbEIsR0FBTSxZQUNOLEVBQUssZUFBZSxRQUFTLEdBQzdCLElBR0YsRUFBSyxLQUFLLFNBQVUsR0FFcEIsWUFBa0IsQ0FDaEIsR0FBTSxVQUNOLEVBQUksT0FBTyxHQUliLFNBQUssS0FBSyxPQUFRLEdBRWIsRUFBTSxTQUNULElBQU0sZUFDTixFQUFJLFVBR0MsR0FHVCxZQUFxQixFQUFLLENBQ3hCLE1BQU8sV0FBcUMsQ0FDMUMsR0FBSSxHQUFRLEVBQUksZUFDaEIsR0FBTSxjQUFlLEVBQU0sWUFDdkIsRUFBTSxZQUFZLEVBQU0sYUFFeEIsRUFBTSxhQUFlLEdBQUssR0FBZ0IsRUFBSyxTQUNqRCxHQUFNLFFBQVUsR0FDaEIsR0FBSyxLQUtYLEdBQVMsVUFBVSxPQUFTLFNBQVUsRUFBTSxDQUMxQyxHQUFJLEdBQVEsS0FBSyxlQUNiLEVBQWEsQ0FDZixXQUFZLElBR2QsR0FBSSxFQUFNLGFBQWUsRUFBRyxNQUFPLE1BRW5DLEdBQUksRUFBTSxhQUFlLEVBRXZCLE1BQUksSUFBUSxJQUFTLEVBQU0sTUFBYyxLQUNwQyxJQUFNLEdBQU8sRUFBTSxPQUV4QixFQUFNLE1BQVEsS0FDZCxFQUFNLFdBQWEsRUFDbkIsRUFBTSxRQUFVLEdBQ1osR0FBTSxFQUFLLEtBQUssU0FBVSxLQUFNLEdBQzdCLE1BSVQsR0FBSSxDQUFDLEVBQU0sQ0FFVCxHQUFJLEdBQVEsRUFBTSxNQUNkLEVBQU0sRUFBTSxXQUNoQixFQUFNLE1BQVEsS0FDZCxFQUFNLFdBQWEsRUFDbkIsRUFBTSxRQUFVLEdBRWhCLE9BQVMsR0FBSSxFQUFHLEVBQUksRUFBSyxJQUN2QixFQUFNLEdBQUcsS0FBSyxTQUFVLEtBQU0sQ0FDNUIsV0FBWSxLQUloQixNQUFPLE1BSVQsR0FBSSxHQUFRLEdBQVEsRUFBTSxNQUFPLEdBQ2pDLE1BQUksS0FBVSxHQUFXLEtBQ3pCLEdBQU0sTUFBTSxPQUFPLEVBQU8sR0FDMUIsRUFBTSxZQUFjLEVBQ2hCLEVBQU0sYUFBZSxHQUFHLEdBQU0sTUFBUSxFQUFNLE1BQU0sSUFDdEQsRUFBSyxLQUFLLFNBQVUsS0FBTSxHQUNuQixPQUtULEdBQVMsVUFBVSxHQUFLLFNBQVUsRUFBSSxFQUFJLENBQ3hDLEdBQUksR0FBTSxHQUFPLFVBQVUsR0FBRyxLQUFLLEtBQU0sRUFBSSxHQUN6QyxFQUFRLEtBQUssZUFFakIsTUFBSSxLQUFPLE9BR1QsR0FBTSxrQkFBb0IsS0FBSyxjQUFjLFlBQWMsRUFFdkQsRUFBTSxVQUFZLElBQU8sS0FBSyxVQUN6QixJQUFPLFlBQ1osQ0FBQyxFQUFNLFlBQWMsQ0FBQyxFQUFNLG1CQUM5QixHQUFNLGtCQUFvQixFQUFNLGFBQWUsR0FDL0MsRUFBTSxRQUFVLEdBQ2hCLEVBQU0sZ0JBQWtCLEdBQ3hCLEdBQU0sY0FBZSxFQUFNLE9BQVEsRUFBTSxTQUV6QyxBQUFJLEVBQU0sT0FDUixHQUFhLE1BQ0gsRUFBTSxTQUNoQixRQUFRLFNBQVMsR0FBa0IsT0FLbEMsR0FHVCxHQUFTLFVBQVUsWUFBYyxHQUFTLFVBQVUsR0FFcEQsR0FBUyxVQUFVLGVBQWlCLFNBQVUsRUFBSSxFQUFJLENBQ3BELEdBQUksR0FBTSxHQUFPLFVBQVUsZUFBZSxLQUFLLEtBQU0sRUFBSSxHQUV6RCxNQUFJLEtBQU8sWUFPVCxRQUFRLFNBQVMsR0FBeUIsTUFHckMsR0FHVCxHQUFTLFVBQVUsbUJBQXFCLFNBQVUsRUFBSSxDQUNwRCxHQUFJLEdBQU0sR0FBTyxVQUFVLG1CQUFtQixNQUFNLEtBQU0sV0FFMUQsTUFBSSxLQUFPLFlBQWMsSUFBTyxTQU85QixRQUFRLFNBQVMsR0FBeUIsTUFHckMsR0FHVCxZQUFpQyxFQUFNLENBQ3JDLEdBQUksR0FBUSxFQUFLLGVBQ2pCLEVBQU0sa0JBQW9CLEVBQUssY0FBYyxZQUFjLEVBRTNELEFBQUksRUFBTSxpQkFBbUIsQ0FBQyxFQUFNLE9BR2xDLEVBQU0sUUFBVSxHQUNQLEVBQUssY0FBYyxRQUFVLEdBQ3RDLEVBQUssU0FJVCxZQUEwQixFQUFNLENBQzlCLEdBQU0sNEJBQ04sRUFBSyxLQUFLLEdBS1osR0FBUyxVQUFVLE9BQVMsVUFBWSxDQUN0QyxHQUFJLEdBQVEsS0FBSyxlQUVqQixNQUFLLEdBQU0sU0FDVCxJQUFNLFVBSU4sRUFBTSxRQUFVLENBQUMsRUFBTSxrQkFDdkIsR0FBTyxLQUFNLElBR2YsRUFBTSxPQUFTLEdBQ1IsTUFHVCxZQUFnQixFQUFRLEVBQU8sQ0FDN0IsQUFBSyxFQUFNLGlCQUNULEdBQU0sZ0JBQWtCLEdBQ3hCLFFBQVEsU0FBUyxHQUFTLEVBQVEsSUFJdEMsWUFBaUIsRUFBUSxFQUFPLENBQzlCLEdBQU0sU0FBVSxFQUFNLFNBRWpCLEVBQU0sU0FDVCxFQUFPLEtBQUssR0FHZCxFQUFNLGdCQUFrQixHQUN4QixFQUFPLEtBQUssVUFDWixHQUFLLEdBQ0QsRUFBTSxTQUFXLENBQUMsRUFBTSxTQUFTLEVBQU8sS0FBSyxHQUduRCxHQUFTLFVBQVUsTUFBUSxVQUFZLENBQ3JDLFVBQU0sd0JBQXlCLEtBQUssZUFBZSxTQUUvQyxLQUFLLGVBQWUsVUFBWSxJQUNsQyxJQUFNLFNBQ04sS0FBSyxlQUFlLFFBQVUsR0FDOUIsS0FBSyxLQUFLLFVBR1osS0FBSyxlQUFlLE9BQVMsR0FDdEIsTUFHVCxZQUFjLEVBQVEsQ0FDcEIsR0FBSSxHQUFRLEVBQU8sZUFHbkIsSUFGQSxHQUFNLE9BQVEsRUFBTSxTQUViLEVBQU0sU0FBVyxFQUFPLFNBQVcsTUFBTSxFQVFsRCxHQUFTLFVBQVUsS0FBTyxTQUFVLEVBQVEsQ0FDMUMsR0FBSSxHQUFRLEtBRVIsRUFBUSxLQUFLLGVBQ2IsRUFBUyxHQUNiLEVBQU8sR0FBRyxNQUFPLFVBQVksQ0FHM0IsR0FGQSxHQUFNLGVBRUYsRUFBTSxTQUFXLENBQUMsRUFBTSxNQUFPLENBQ2pDLEdBQUksR0FBUSxFQUFNLFFBQVEsTUFDMUIsQUFBSSxHQUFTLEVBQU0sUUFBUSxFQUFNLEtBQUssR0FHeEMsRUFBTSxLQUFLLFFBRWIsRUFBTyxHQUFHLE9BQVEsU0FBVSxFQUFPLENBSWpDLEdBSEEsR0FBTSxnQkFDRixFQUFNLFNBQVMsR0FBUSxFQUFNLFFBQVEsTUFBTSxJQUUzQyxJQUFNLFlBQWUsR0FBVSxPQUE4QyxHQUFDLEVBQU0sWUFBZSxFQUFDLEdBQVMsQ0FBQyxFQUFNLFNBRXhILElBQUksR0FBTSxFQUFNLEtBQUssR0FFckIsQUFBSyxHQUNILEdBQVMsR0FDVCxFQUFPLFlBS1gsT0FBUyxLQUFLLEdBQ1osQUFBSSxLQUFLLEtBQU8sUUFBYSxNQUFPLEdBQU8sSUFBTyxZQUNoRCxNQUFLLEdBQUssU0FBb0IsRUFBUSxDQUNwQyxNQUFPLFdBQW9DLENBQ3pDLE1BQU8sR0FBTyxHQUFRLE1BQU0sRUFBUSxhQUV0QyxJQUtOLE9BQVMsR0FBSSxFQUFHLEVBQUksR0FBYSxPQUFRLElBQ3ZDLEVBQU8sR0FBRyxHQUFhLEdBQUksS0FBSyxLQUFLLEtBQUssS0FBTSxHQUFhLEtBSy9ELFlBQUssTUFBUSxTQUFVLEVBQUcsQ0FDeEIsR0FBTSxnQkFBaUIsR0FFbkIsR0FDRixHQUFTLEdBQ1QsRUFBTyxXQUlKLE1BR1QsQUFBSSxNQUFPLFNBQVcsWUFDcEIsSUFBUyxVQUFVLE9BQU8sZUFBaUIsVUFBWSxDQUNyRCxNQUFJLE1BQXNDLFFBQ3hDLElBQW9DLE1BRy9CLEdBQWtDLFFBSTdDLE9BQU8sZUFBZSxHQUFTLFVBQVcsd0JBQXlCLENBSWpFLFdBQVksR0FDWixJQUFLLFVBQWUsQ0FDbEIsTUFBTyxNQUFLLGVBQWUsaUJBRy9CLE9BQU8sZUFBZSxHQUFTLFVBQVcsaUJBQWtCLENBSTFELFdBQVksR0FDWixJQUFLLFVBQWUsQ0FDbEIsTUFBTyxNQUFLLGdCQUFrQixLQUFLLGVBQWUsVUFHdEQsT0FBTyxlQUFlLEdBQVMsVUFBVyxrQkFBbUIsQ0FJM0QsV0FBWSxHQUNaLElBQUssVUFBZSxDQUNsQixNQUFPLE1BQUssZUFBZSxTQUU3QixJQUFLLFNBQWEsRUFBTyxDQUN2QixBQUFJLEtBQUssZ0JBQ1AsTUFBSyxlQUFlLFFBQVUsTUFLcEMsR0FBUyxVQUFZLEdBQ3JCLE9BQU8sZUFBZSxHQUFTLFVBQVcsaUJBQWtCLENBSTFELFdBQVksR0FDWixJQUFLLFVBQWUsQ0FDbEIsTUFBTyxNQUFLLGVBQWUsVUFPL0IsWUFBa0IsRUFBRyxFQUFPLENBRTFCLEdBQUksRUFBTSxTQUFXLEVBQUcsTUFBTyxNQUMvQixHQUFJLEdBQ0osTUFBSSxHQUFNLFdBQVksRUFBTSxFQUFNLE9BQU8sUUFBYSxBQUFJLENBQUMsR0FBSyxHQUFLLEVBQU0sT0FFekUsQ0FBSSxFQUFNLFFBQVMsRUFBTSxFQUFNLE9BQU8sS0FBSyxJQUFTLEFBQUksRUFBTSxPQUFPLFNBQVcsRUFBRyxFQUFNLEVBQU0sT0FBTyxRQUFhLEVBQU0sRUFBTSxPQUFPLE9BQU8sRUFBTSxRQUNuSixFQUFNLE9BQU8sU0FHYixFQUFNLEVBQU0sT0FBTyxRQUFRLEVBQUcsRUFBTSxTQUUvQixFQUdULFlBQXFCLEVBQVEsQ0FDM0IsR0FBSSxHQUFRLEVBQU8sZUFDbkIsR0FBTSxjQUFlLEVBQU0sWUFFdEIsRUFBTSxZQUNULEdBQU0sTUFBUSxHQUNkLFFBQVEsU0FBUyxHQUFlLEVBQU8sSUFJM0MsWUFBdUIsRUFBTyxFQUFRLENBR3BDLEdBRkEsR0FBTSxnQkFBaUIsRUFBTSxXQUFZLEVBQU0sUUFFM0MsQ0FBQyxFQUFNLFlBQWMsRUFBTSxTQUFXLEdBQ3hDLEdBQU0sV0FBYSxHQUNuQixFQUFPLFNBQVcsR0FDbEIsRUFBTyxLQUFLLE9BRVIsRUFBTSxhQUFhLENBR3JCLEdBQUksR0FBUyxFQUFPLGVBRXBCLEFBQUksRUFBQyxHQUFVLEVBQU8sYUFBZSxFQUFPLFdBQzFDLEVBQU8sV0FNZixBQUFJLE1BQU8sU0FBVyxZQUNwQixJQUFTLEtBQU8sU0FBVSxFQUFVLEVBQU0sQ0FDeEMsTUFBSSxNQUFTLFFBQ1gsSUFBTyxNQUdGLEdBQUssR0FBVSxFQUFVLEtBSXBDLFlBQWlCLEVBQUksRUFBRyxDQUN0QixPQUFTLEdBQUksRUFBRyxFQUFJLEVBQUcsT0FBUSxFQUFJLEVBQUcsSUFDcEMsR0FBSSxFQUFHLEtBQU8sRUFBRyxNQUFPLEdBRzFCLE1BQU8sTUNsbUNULG1CQTZEQSxhQUVBLEdBQU8sUUFBVSxHQUVqQixHQUFJLElBQWlCLEtBQXFCLE1BQ3RDLEdBQTZCLEdBQWUsMkJBQzVDLEdBQXdCLEdBQWUsc0JBQ3ZDLEdBQXFDLEdBQWUsbUNBQ3BELEdBQThCLEdBQWUsNEJBRTdDLEdBQVMsS0FFYixLQUFvQixHQUFXLElBRS9CLFlBQXdCLEVBQUksRUFBTSxDQUNoQyxHQUFJLEdBQUssS0FBSyxnQkFDZCxFQUFHLGFBQWUsR0FDbEIsR0FBSSxHQUFLLEVBQUcsUUFFWixHQUFJLElBQU8sS0FDVCxNQUFPLE1BQUssS0FBSyxRQUFTLEdBQUksS0FHaEMsRUFBRyxXQUFhLEtBQ2hCLEVBQUcsUUFBVSxLQUNULEdBQVEsTUFDVixLQUFLLEtBQUssR0FDWixFQUFHLEdBQ0gsR0FBSSxHQUFLLEtBQUssZUFDZCxFQUFHLFFBQVUsR0FFVCxHQUFHLGNBQWdCLEVBQUcsT0FBUyxFQUFHLGdCQUNwQyxLQUFLLE1BQU0sRUFBRyxlQUlsQixZQUFtQixFQUFTLENBQzFCLEdBQUksQ0FBRSxnQkFBZ0IsS0FBWSxNQUFPLElBQUksSUFBVSxHQUN2RCxHQUFPLEtBQUssS0FBTSxHQUNsQixLQUFLLGdCQUFrQixDQUNyQixlQUFnQixHQUFlLEtBQUssTUFDcEMsY0FBZSxHQUNmLGFBQWMsR0FDZCxRQUFTLEtBQ1QsV0FBWSxLQUNaLGNBQWUsTUFHakIsS0FBSyxlQUFlLGFBQWUsR0FJbkMsS0FBSyxlQUFlLEtBQU8sR0FFdkIsR0FDRSxPQUFPLEdBQVEsV0FBYyxZQUFZLE1BQUssV0FBYSxFQUFRLFdBQ25FLE1BQU8sR0FBUSxPQUFVLFlBQVksTUFBSyxPQUFTLEVBQVEsUUFJakUsS0FBSyxHQUFHLFlBQWEsSUFHdkIsYUFBcUIsQ0FDbkIsR0FBSSxHQUFRLEtBRVosQUFBSSxNQUFPLE1BQUssUUFBVyxZQUFjLENBQUMsS0FBSyxlQUFlLFVBQzVELEtBQUssT0FBTyxTQUFVLEVBQUksRUFBTSxDQUM5QixHQUFLLEVBQU8sRUFBSSxLQUdsQixHQUFLLEtBQU0sS0FBTSxNQUlyQixHQUFVLFVBQVUsS0FBTyxTQUFVLEVBQU8sRUFBVSxDQUNwRCxZQUFLLGdCQUFnQixjQUFnQixHQUM5QixHQUFPLFVBQVUsS0FBSyxLQUFLLEtBQU0sRUFBTyxJQWFqRCxHQUFVLFVBQVUsV0FBYSxTQUFVLEVBQU8sRUFBVSxFQUFJLENBQzlELEVBQUcsR0FBSSxJQUEyQixrQkFHcEMsR0FBVSxVQUFVLE9BQVMsU0FBVSxFQUFPLEVBQVUsRUFBSSxDQUMxRCxHQUFJLEdBQUssS0FBSyxnQkFLZCxHQUpBLEVBQUcsUUFBVSxFQUNiLEVBQUcsV0FBYSxFQUNoQixFQUFHLGNBQWdCLEVBRWYsQ0FBQyxFQUFHLGFBQWMsQ0FDcEIsR0FBSSxHQUFLLEtBQUssZUFDZCxBQUFJLEdBQUcsZUFBaUIsRUFBRyxjQUFnQixFQUFHLE9BQVMsRUFBRyxnQkFBZSxLQUFLLE1BQU0sRUFBRyxpQkFPM0YsR0FBVSxVQUFVLE1BQVEsU0FBVSxFQUFHLENBQ3ZDLEdBQUksR0FBSyxLQUFLLGdCQUVkLEFBQUksRUFBRyxhQUFlLE1BQVEsQ0FBQyxFQUFHLGFBQ2hDLEdBQUcsYUFBZSxHQUVsQixLQUFLLFdBQVcsRUFBRyxXQUFZLEVBQUcsY0FBZSxFQUFHLGlCQUlwRCxFQUFHLGNBQWdCLElBSXZCLEdBQVUsVUFBVSxTQUFXLFNBQVUsRUFBSyxFQUFJLENBQ2hELEdBQU8sVUFBVSxTQUFTLEtBQUssS0FBTSxFQUFLLFNBQVUsRUFBTSxDQUN4RCxFQUFHLE1BSVAsWUFBYyxFQUFRLEVBQUksRUFBTSxDQUM5QixHQUFJLEVBQUksTUFBTyxHQUFPLEtBQUssUUFBUyxHQU1wQyxHQUxJLEdBQVEsTUFDVixFQUFPLEtBQUssR0FJVixFQUFPLGVBQWUsT0FBUSxLQUFNLElBQUksSUFDNUMsR0FBSSxFQUFPLGdCQUFnQixhQUFjLEtBQU0sSUFBSSxJQUNuRCxNQUFPLEdBQU8sS0FBSyxTQ3ZNckIsbUJBdUJBLGFBRUEsR0FBTyxRQUFVLEdBRWpCLEdBQUksSUFBWSxLQUVoQixLQUFvQixHQUFhLElBRWpDLFlBQXFCLEVBQVMsQ0FDNUIsR0FBSSxDQUFFLGdCQUFnQixLQUFjLE1BQU8sSUFBSSxJQUFZLEdBQzNELEdBQVUsS0FBSyxLQUFNLEdBR3ZCLEdBQVksVUFBVSxXQUFhLFNBQVUsRUFBTyxFQUFVLEVBQUksQ0FDaEUsRUFBRyxLQUFNLE1DckNYLG1CQUVBLGFBRUEsR0FBSSxJQUVKLFlBQWMsRUFBVSxDQUN0QixHQUFJLEdBQVMsR0FDYixNQUFPLFdBQVksQ0FDakIsQUFBSSxHQUNKLEdBQVMsR0FDVCxFQUFTLE1BQU0sT0FBUSxhQUkzQixHQUFJLElBQWlCLEtBQTJCLE1BQzVDLEdBQW1CLEdBQWUsaUJBQ2xDLEdBQXVCLEdBQWUscUJBRTFDLFlBQWMsRUFBSyxDQUVqQixHQUFJLEVBQUssS0FBTSxHQUdqQixZQUFtQixFQUFRLENBQ3pCLE1BQU8sR0FBTyxXQUFhLE1BQU8sR0FBTyxPQUFVLFdBR3JELFlBQW1CLEVBQVEsRUFBUyxFQUFTLEVBQVUsQ0FDckQsRUFBVyxHQUFLLEdBQ2hCLEdBQUksR0FBUyxHQUNiLEVBQU8sR0FBRyxRQUFTLFVBQVksQ0FDN0IsRUFBUyxLQUVQLEtBQVEsUUFBVyxJQUFNLE1BQzdCLEdBQUksRUFBUSxDQUNWLFNBQVUsRUFDVixTQUFVLEdBQ1QsU0FBVSxFQUFLLENBQ2hCLEdBQUksRUFBSyxNQUFPLEdBQVMsR0FDekIsRUFBUyxHQUNULE1BRUYsR0FBSSxHQUFZLEdBQ2hCLE1BQU8sVUFBVSxFQUFLLENBQ3BCLEdBQUksSUFDQSxHQUdKLElBRkEsRUFBWSxHQUVSLEdBQVUsR0FBUyxNQUFPLEdBQU8sUUFDckMsR0FBSSxNQUFPLEdBQU8sU0FBWSxXQUFZLE1BQU8sR0FBTyxVQUN4RCxFQUFTLEdBQU8sR0FBSSxJQUFxQixXQUk3QyxZQUFjLEVBQUksQ0FDaEIsSUFHRixZQUFjLEVBQU0sRUFBSSxDQUN0QixNQUFPLEdBQUssS0FBSyxHQUduQixZQUFxQixFQUFTLENBRTVCLE1BREksQ0FBQyxFQUFRLFFBQ1QsTUFBTyxHQUFRLEVBQVEsT0FBUyxJQUFPLFdBQW1CLEdBQ3ZELEVBQVEsTUFHakIsYUFBb0IsQ0FDbEIsT0FBUyxHQUFPLFVBQVUsT0FBUSxFQUFVLEdBQUksT0FBTSxHQUFPLEVBQU8sRUFBRyxFQUFPLEVBQU0sSUFDbEYsRUFBUSxHQUFRLFVBQVUsR0FHNUIsR0FBSSxHQUFXLEdBQVksR0FHM0IsR0FGSSxNQUFNLFFBQVEsRUFBUSxLQUFLLEdBQVUsRUFBUSxJQUU3QyxFQUFRLE9BQVMsRUFDbkIsS0FBTSxJQUFJLElBQWlCLFdBRzdCLEdBQUksR0FDQSxFQUFXLEVBQVEsSUFBSSxTQUFVLEVBQVEsRUFBRyxDQUM5QyxHQUFJLEdBQVUsRUFBSSxFQUFRLE9BQVMsRUFDL0IsRUFBVSxFQUFJLEVBQ2xCLE1BQU8sSUFBVSxFQUFRLEVBQVMsRUFBUyxTQUFVLEVBQUssQ0FHeEQsQUFGSyxHQUFPLEdBQVEsR0FDaEIsR0FBSyxFQUFTLFFBQVEsSUFDdEIsSUFDSixHQUFTLFFBQVEsSUFDakIsRUFBUyxRQUdiLE1BQU8sR0FBUSxPQUFPLElBR3hCLEdBQU8sUUFBVSxLQ2hHakIsc0JBQUksSUFBUyxFQUFRLFVBQ3JCLEFBQUksUUFBUSxJQUFJLGtCQUFvQixXQUFhLEdBQy9DLElBQU8sUUFBVSxHQUFPLFNBQ3hCLE9BQU8sT0FBTyxHQUFPLFFBQVMsSUFDOUIsR0FBTyxRQUFRLE9BQVMsSUFFeEIsSUFBVSxHQUFPLFFBQVUsS0FDM0IsR0FBUSxPQUFTLElBQVUsR0FDM0IsR0FBUSxTQUFXLEdBQ25CLEdBQVEsU0FBVyxLQUNuQixHQUFRLE9BQVMsS0FDakIsR0FBUSxVQUFZLEtBQ3BCLEdBQVEsWUFBYyxLQUN0QixHQUFRLFNBQVcsS0FDbkIsR0FBUSxTQUFXLFFDZHJCLG1CQUVBLEdBQUksSUFBVyxPQUFPLFVBQVUsU0FFNUIsR0FDRixNQUFPLFNBQVcsYUFDbEIsTUFBTyxRQUFPLE9BQVUsWUFDeEIsTUFBTyxRQUFPLGFBQWdCLFlBQzlCLE1BQU8sUUFBTyxNQUFTLFdBR3pCLFlBQXdCLEVBQU8sQ0FDN0IsTUFBTyxJQUFTLEtBQUssR0FBTyxNQUFNLEVBQUcsTUFBUSxjQUcvQyxZQUEwQixFQUFLLEVBQVksRUFBUSxDQUNqRCxLQUFnQixFQUVoQixHQUFJLEdBQVksRUFBSSxXQUFhLEVBRWpDLEdBQUksRUFBWSxFQUNkLEtBQU0sSUFBSSxZQUFXLDZCQUd2QixHQUFJLElBQVcsT0FDYixFQUFTLFVBRVQsS0FBWSxFQUVSLEVBQVMsRUFDWCxLQUFNLElBQUksWUFBVyw2QkFJekIsTUFBTyxJQUNILE9BQU8sS0FBSyxFQUFJLE1BQU0sRUFBWSxFQUFhLElBQy9DLEdBQUksUUFBTyxHQUFJLFlBQVcsRUFBSSxNQUFNLEVBQVksRUFBYSxLQUduRSxZQUFxQixFQUFRLEVBQVUsQ0FLckMsR0FKSSxPQUFPLElBQWEsVUFBWSxJQUFhLEtBQy9DLEdBQVcsUUFHVCxDQUFDLE9BQU8sV0FBVyxHQUNyQixLQUFNLElBQUksV0FBVSw4Q0FHdEIsTUFBTyxJQUNILE9BQU8sS0FBSyxFQUFRLEdBQ3BCLEdBQUksUUFBTyxFQUFRLEdBR3pCLFlBQXFCLEVBQU8sRUFBa0IsRUFBUSxDQUNwRCxHQUFJLE1BQU8sSUFBVSxTQUNuQixLQUFNLElBQUksV0FBVSx5Q0FHdEIsTUFBSSxJQUFjLEdBQ1QsR0FBZ0IsRUFBTyxFQUFrQixHQUc5QyxNQUFPLElBQVUsU0FDWixHQUFXLEVBQU8sR0FHcEIsR0FDSCxPQUFPLEtBQUssR0FDWixHQUFJLFFBQU8sR0FHakIsR0FBTyxRQUFVLEtDdkVqQixpQkFBSSxJQUFhLE9BSWIsR0FBbUIsSUFHbkIsR0FBYyxVQUFXLENBRTNCLEdBQUksR0FBTyxPQUFPLFVBQVUsU0FDeEIsRUFBUSxPQUFPLFVBQVUsZUFFN0IsTUFBTyxDQUVMLE1BQU8sU0FBUyxFQUFHLENBQUUsTUFBTyxHQUFLLEtBQUssR0FBRyxRQUFRLG1CQUFvQixLQUNyRSxZQUFhLFNBQVMsRUFBRyxFQUFHLENBQUUsTUFBTyxLQUFLLElBQzFDLGVBQWdCLFNBQVMsRUFBRyxFQUFHLENBQUUsTUFBTyxHQUFNLEtBQUssRUFBRyxJQUN0RCxXQUFZLFNBQVMsRUFBRyxDQUFFLE1BQU8sT0FBTyxJQUFNLFlBQzlDLFFBQVMsU0FBUyxFQUFHLENBQUUsTUFBTyxJQUFLLEdBQ25DLFNBQVUsU0FBUyxFQUFHLENBQUUsTUFBTyxLQUFNLE9BS3JDLEdBQU0sS0FBSyxJQUNYLEdBQU0sS0FBSyxJQUNYLEdBQVEsS0FBSyxNQUNiLEdBQU0sS0FBSyxJQUNYLEdBQU0sS0FBSyxJQUNYLEdBQU0sS0FBSyxJQUNYLEdBQVEsS0FBSyxNQUdqQixZQUE2QixFQUFLLENBQ2hDLEdBQUksSUFBbUIsR0FBWSxDQUNqQyxHQUFJLEdBQVEsR0FBZ0IsR0FBTSxFQUNsQyxJQUFLLEVBQUksRUFBRyxFQUFJLEVBQU0sT0FBUSxHQUFLLEVBQ2pDLEdBQVcsRUFBSyxFQUFNLEdBQUksQ0FDeEIsTUFBTyxFQUFJLEVBQU0sSUFDakIsU0FBVSxHQUNWLFdBQVksR0FDWixhQUFjLE1BVXRCLEdBQUksSUFDSixBQUFJLE9BQU8sZ0JBQW1CLFVBQVcsQ0FDbkMsR0FBSSxDQUNGLGNBQU8sZUFBZSxHQUFJLElBQUssSUFDeEIsU0FDQSxFQUFQLENBQ0EsTUFBTyxPQUdiLEdBQWEsT0FBTyxlQUVwQixHQUFhLFNBQVMsRUFBRyxFQUFHLEVBQU0sQ0FDaEMsR0FBSSxDQUFDLElBQU0sT0FBTyxHQUFJLEtBQU0sSUFBSSxXQUFVLDhDQUMxQyxNQUFJLElBQVcsWUFBWSxFQUFNLFFBQVUsT0FBTyxVQUFVLGtCQUFvQixPQUFPLFVBQVUsaUJBQWlCLEtBQUssRUFBRyxFQUFHLEVBQUssS0FDOUgsR0FBVyxZQUFZLEVBQU0sUUFBVSxPQUFPLFVBQVUsa0JBQW9CLE9BQU8sVUFBVSxpQkFBaUIsS0FBSyxFQUFHLEVBQUcsRUFBSyxLQUM5SCxHQUFXLFlBQVksRUFBTSxVQUFZLEdBQUUsR0FBSyxFQUFLLE9BQ2xELEdBSVgsR0FBSSxJQUFrQixPQUFPLHFCQUF1QixTQUFVLEVBQUcsQ0FDL0QsR0FBSSxJQUFNLE9BQU8sR0FBSSxLQUFNLElBQUksV0FBVSxtREFDekMsR0FBSSxHQUFRLEdBQUksRUFDaEIsSUFBSyxJQUFLLEdBQ1IsQUFBSSxHQUFXLGVBQWUsRUFBRyxJQUMvQixFQUFNLEtBQUssR0FHZixNQUFPLElBS1QsWUFBNEIsRUFBSyxDQUMvQixHQUFJLENBQUMsR0FBYyxPQUVuQixHQUFJLEVBQUksT0FBUyxHQUFrQixLQUFNLElBQUksWUFBVyxnQ0FFeEQsV0FBMkIsRUFBTyxDQUNoQyxHQUFXLEVBQUssRUFBTyxDQUNyQixJQUFPLFVBQVcsQ0FBRSxNQUFPLEdBQUksUUFBUSxJQUN2QyxJQUFPLFNBQVMsRUFBRyxDQUFFLEVBQUksUUFBUSxFQUFPLElBQ3hDLFdBQVksR0FDWixhQUFjLEtBSWxCLEdBQUksR0FDSixJQUFLLEVBQUksRUFBRyxFQUFJLEVBQUksT0FBUSxHQUFLLEVBQy9CLEVBQWtCLEdBUXRCLFlBQW1CLEVBQU8sRUFBTSxDQUFFLEdBQUksR0FBSSxHQUFLLEVBQU0sTUFBUSxJQUFTLEdBQU0sRUFDNUUsWUFBcUIsRUFBTyxFQUFNLENBQUUsR0FBSSxHQUFJLEdBQUssRUFBTSxNQUFRLElBQVMsSUFBTyxFQUUvRSxZQUFnQixFQUFHLENBQUUsTUFBTyxDQUFDLEVBQUksS0FDakMsWUFBa0IsRUFBTyxDQUFFLE1BQU8sSUFBVSxFQUFNLEdBQUksR0FFdEQsWUFBZ0IsRUFBRyxDQUFFLE1BQU8sQ0FBQyxFQUFJLEtBQ2pDLFlBQWtCLEVBQU8sQ0FBRSxNQUFPLElBQVksRUFBTSxHQUFJLEdBRXhELFlBQXVCLEVBQUcsQ0FBRSxTQUFJLEdBQU0sT0FBTyxJQUFZLENBQUMsRUFBSSxFQUFJLEVBQUksRUFBSSxJQUFPLElBQU8sRUFBSSxLQUU1RixZQUFpQixFQUFHLENBQUUsTUFBTyxDQUFFLEdBQUssRUFBSyxJQUFNLEVBQUksS0FDbkQsWUFBbUIsRUFBTyxDQUFFLE1BQU8sSUFBVSxFQUFNLElBQU0sRUFBSSxFQUFNLEdBQUksSUFFdkUsWUFBaUIsRUFBRyxDQUFFLE1BQU8sQ0FBRSxHQUFLLEVBQUssSUFBTSxFQUFJLEtBQ25ELFlBQW1CLEVBQU8sQ0FBRSxNQUFPLElBQVksRUFBTSxJQUFNLEVBQUksRUFBTSxHQUFJLElBRXpFLFlBQWlCLEVBQUcsQ0FBRSxNQUFPLENBQUUsR0FBSyxHQUFNLElBQU8sR0FBSyxHQUFNLElBQU8sR0FBSyxFQUFLLElBQU0sRUFBSSxLQUN2RixZQUFtQixFQUFPLENBQUUsTUFBTyxJQUFVLEVBQU0sSUFBTSxHQUFLLEVBQU0sSUFBTSxHQUFLLEVBQU0sSUFBTSxFQUFJLEVBQU0sR0FBSSxJQUV6RyxZQUFpQixFQUFHLENBQUUsTUFBTyxDQUFFLEdBQUssR0FBTSxJQUFPLEdBQUssR0FBTSxJQUFPLEdBQUssRUFBSyxJQUFNLEVBQUksS0FDdkYsWUFBbUIsRUFBTyxDQUFFLE1BQU8sSUFBWSxFQUFNLElBQU0sR0FBSyxFQUFNLElBQU0sR0FBSyxFQUFNLElBQU0sRUFBSSxFQUFNLEdBQUksSUFFM0csWUFBcUIsRUFBRyxFQUFPLEVBQU8sQ0FFcEMsR0FBSSxHQUFRLElBQU0sRUFBUSxHQUFNLEVBQzVCLEVBQUcsRUFBRyxFQUFHLEVBQ1QsRUFBRyxFQUFNLEVBQUssRUFFbEIsV0FBcUIsRUFBRyxDQUN0QixHQUFJLEdBQUksR0FBTSxHQUFJLEVBQUksRUFBSSxFQUMxQixNQUFJLEdBQUksR0FDQyxFQUNMLEVBQUksSUFFRCxFQUFJLEVBREYsRUFBSSxFQUNVLEVBeUN6QixJQXJDQSxBQUFJLElBQU0sRUFHUixHQUFLLElBQUssR0FBUyxFQUFHLEVBQUksR0FBSSxFQUFHLEVBQVEsR0FBSSxFQUFJLEdBQzVDLEFBQUksSUFBTSxVQUFZLElBQU0sVUFDakMsR0FBSyxJQUFLLEdBQVMsRUFBRyxFQUFJLEVBQUcsRUFBSyxFQUFJLEVBQUssRUFBSSxHQUMxQyxBQUFJLElBQU0sRUFDZixHQUFJLEVBQUcsRUFBSSxFQUFHLEVBQUssRUFBSSxHQUFNLFVBQWEsRUFBSSxHQUU5QyxHQUFJLEVBQUksRUFDUixFQUFJLEdBQUksR0FFUixBQUFJLEdBQUssR0FBSSxFQUFHLEVBQUksR0FDbEIsR0FBSSxHQUFJLEdBQU0sR0FBSSxHQUFLLElBQU0sTUFDN0IsRUFBSSxFQUFZLEVBQUksR0FBSSxFQUFHLEdBQUssR0FBSSxFQUFHLElBQ25DLEVBQUksR0FBSSxFQUFHLElBQVUsR0FDdkIsR0FBSSxFQUFJLEVBQ1IsRUFBSSxHQUVOLEFBQUksRUFBSSxFQUVOLEdBQUssSUFBSyxHQUFTLEVBQ25CLEVBQUksR0FHSixHQUFJLEVBQUksRUFDUixFQUFJLEVBQUksR0FBSSxFQUFHLEtBSWpCLEdBQUksRUFDSixFQUFJLEVBQVksRUFBSSxHQUFJLEVBQUcsRUFBSSxFQUFPLE1BSzFDLEVBQU8sR0FDRixFQUFJLEVBQU8sRUFBRyxHQUFLLEVBQUssRUFBSyxLQUFLLEVBQUksRUFBSSxFQUFJLEdBQUksRUFBSSxHQUFNLEVBQUksR0FDckUsSUFBSyxFQUFJLEVBQU8sRUFBRyxHQUFLLEVBQUssRUFBSyxLQUFLLEVBQUksRUFBSSxFQUFJLEdBQUksRUFBSSxHQUFNLEVBQUksR0FPckUsSUFOQSxFQUFLLEtBQUssRUFBSSxFQUFJLEdBQ2xCLEVBQUssVUFDTCxFQUFNLEVBQUssS0FBSyxJQUdoQixFQUFRLEdBQ0QsRUFBSSxRQUNULEVBQU0sS0FBSyxTQUFTLEVBQUksVUFBVSxFQUFHLEdBQUksSUFDekMsRUFBTSxFQUFJLFVBQVUsR0FFdEIsTUFBTyxHQUdULFlBQXVCLEVBQU8sRUFBTyxFQUFPLENBRzFDLEdBQUksR0FBTyxHQUFJLEVBQUcsRUFBRyxFQUFHLEVBQ3BCLEVBQU0sRUFBRyxFQUFHLEVBRWhCLElBQUssRUFBSSxFQUFNLE9BQVEsRUFBRyxHQUFLLEVBRTdCLElBREEsRUFBSSxFQUFNLEVBQUksR0FDVCxFQUFJLEVBQUcsRUFBRyxHQUFLLEVBQ2xCLEVBQUssS0FBSyxFQUFJLEVBQUksRUFBSSxHQUFJLEVBQUksR0FBSyxFQWF2QyxNQVZBLEdBQUssVUFDTCxFQUFNLEVBQUssS0FBSyxJQUdoQixFQUFRLElBQU0sRUFBUSxHQUFNLEVBQzVCLEVBQUksU0FBUyxFQUFJLFVBQVUsRUFBRyxHQUFJLEdBQUssR0FBSyxFQUM1QyxFQUFJLFNBQVMsRUFBSSxVQUFVLEVBQUcsRUFBSSxHQUFRLEdBQzFDLEVBQUksU0FBUyxFQUFJLFVBQVUsRUFBSSxHQUFRLEdBR25DLElBQU8sSUFBSyxHQUFTLEVBQ2hCLElBQU0sRUFBSSxJQUFNLEVBQUksU0FDbEIsRUFBSSxFQUVOLEVBQUksR0FBSSxFQUFHLEVBQUksR0FBUyxHQUFJLEVBQUksR0FBSSxFQUFHLElBQ3JDLElBQU0sRUFFUixFQUFJLEdBQUksRUFBRyxDQUFFLEdBQU8sSUFBTyxHQUFJLEdBQUksRUFBRyxJQUV0QyxFQUFJLEVBQUksR0FBSyxFQUl4QixZQUFtQixFQUFHLENBQUUsTUFBTyxJQUFjLEVBQUcsR0FBSSxJQUNwRCxZQUFpQixFQUFHLENBQUUsTUFBTyxJQUFZLEVBQUcsR0FBSSxJQUNoRCxZQUFtQixFQUFHLENBQUUsTUFBTyxJQUFjLEVBQUcsRUFBRyxJQUNuRCxZQUFpQixFQUFHLENBQUUsTUFBTyxJQUFZLEVBQUcsRUFBRyxJQU8vQyxBQUFDLFdBQVcsQ0FHVixHQUFJLEdBQWMsU0FBcUIsRUFBUSxDQUU3QyxHQURBLEVBQVMsR0FBVyxRQUFRLEdBQ3hCLEVBQVMsRUFBRyxLQUFNLElBQUksWUFBVywyREFFckMsS0FBSyxXQUFhLEVBQ2xCLEtBQUssT0FBUyxHQUNkLEtBQUssT0FBTyxPQUFTLEVBRXJCLEdBQUksR0FDSixJQUFLLEVBQUksRUFBRyxFQUFJLEtBQUssV0FBWSxHQUFLLEVBQ3BDLEtBQUssT0FBTyxHQUFLLEVBR25CLEdBQW9CLE9BR3RCLEdBQVEsWUFBYyxHQUFRLGFBQWUsRUFRN0MsR0FBSSxHQUFrQixVQUEyQixHQVVqRCxXQUF5QixFQUFpQixFQUFNLEVBQVEsQ0FJdEQsR0FBSSxHQUNKLFNBQU8sU0FBUyxFQUFRLEVBQVksRUFBUSxDQUMxQyxHQUFJLEdBQU8sRUFBVSxFQUFHLEVBRXhCLEdBQUksQ0FBQyxVQUFVLFFBQVUsTUFBTyxXQUFVLElBQU8sU0FBVSxDQUd6RCxHQURBLEtBQUssT0FBUyxHQUFXLFFBQVEsVUFBVSxJQUN2QyxFQUFTLEVBQUcsS0FBTSxJQUFJLFlBQVcsK0RBRXJDLEtBQUssV0FBYSxLQUFLLE9BQVMsS0FBSyxrQkFDckMsS0FBSyxPQUFTLEdBQUksR0FBWSxLQUFLLFlBQ25DLEtBQUssV0FBYSxVQUNULE1BQU8sV0FBVSxJQUFPLFVBQVksVUFBVSxHQUFHLGNBQWdCLEVBUzFFLElBUEEsRUFBUSxVQUFVLEdBRWxCLEtBQUssT0FBUyxFQUFNLE9BQ3BCLEtBQUssV0FBYSxLQUFLLE9BQVMsS0FBSyxrQkFDckMsS0FBSyxPQUFTLEdBQUksR0FBWSxLQUFLLFlBQ25DLEtBQUssV0FBYSxFQUViLEVBQUksRUFBRyxFQUFJLEtBQUssT0FBUSxHQUFLLEVBQ2hDLEtBQUssUUFBUSxFQUFHLEVBQU0sUUFBUSxZQUV2QixNQUFPLFdBQVUsSUFBTyxVQUN4QixDQUFFLFdBQVUsWUFBYyxJQUFlLEdBQVcsTUFBTSxVQUFVLE1BQVEsZUFTckYsSUFQQSxFQUFXLFVBQVUsR0FFckIsS0FBSyxPQUFTLEdBQVcsU0FBUyxFQUFTLFFBQzNDLEtBQUssV0FBYSxLQUFLLE9BQVMsS0FBSyxrQkFDckMsS0FBSyxPQUFTLEdBQUksR0FBWSxLQUFLLFlBQ25DLEtBQUssV0FBYSxFQUViLEVBQUksRUFBRyxFQUFJLEtBQUssT0FBUSxHQUFLLEVBQ2hDLEVBQUksRUFBUyxHQUNiLEtBQUssUUFBUSxFQUFHLE9BQU8sWUFFaEIsTUFBTyxXQUFVLElBQU8sVUFDdkIsV0FBVSxZQUFjLElBQWUsR0FBVyxNQUFNLFVBQVUsTUFBUSxlQUFnQixDQU1wRyxHQUhBLEtBQUssT0FBUyxFQUVkLEtBQUssV0FBYSxHQUFXLFNBQVMsR0FDbEMsS0FBSyxXQUFhLEtBQUssT0FBTyxXQUNoQyxLQUFNLElBQUksWUFBVywyQkFHdkIsR0FBSSxLQUFLLFdBQWEsS0FBSyxrQkFHekIsS0FBTSxJQUFJLFlBQVcsa0ZBR3ZCLEdBQUksVUFBVSxPQUFTLEVBQUcsQ0FHeEIsR0FGQSxLQUFLLFdBQWEsS0FBSyxPQUFPLFdBQWEsS0FBSyxXQUU1QyxLQUFLLFdBQWEsS0FBSyxrQkFDekIsS0FBTSxJQUFJLFlBQVcsd0VBRXZCLEtBQUssT0FBUyxLQUFLLFdBQWEsS0FBSyxzQkFFckMsTUFBSyxPQUFTLEdBQVcsU0FBUyxHQUNsQyxLQUFLLFdBQWEsS0FBSyxPQUFTLEtBQUssa0JBR3ZDLEdBQUssS0FBSyxXQUFhLEtBQUssV0FBYyxLQUFLLE9BQU8sV0FDcEQsS0FBTSxJQUFJLFlBQVcsNEVBR3ZCLE1BQU0sSUFBSSxXQUFVLCtCQUd0QixLQUFLLFlBQWMsRUFFbkIsR0FBb0IsTUFDcEIsR0FBbUIsT0FHckIsRUFBSyxVQUFZLEdBQUksR0FDckIsRUFBSyxVQUFVLGtCQUFvQixFQUNuQyxFQUFLLFVBQVUsTUFBUSxFQUN2QixFQUFLLFVBQVUsUUFBVSxFQUN6QixFQUFLLGtCQUFvQixFQUd6QixFQUFLLFVBQVUsUUFBVSxTQUFTLEVBQU8sQ0FDdkMsR0FBSSxVQUFVLE9BQVMsRUFBRyxLQUFNLElBQUksYUFBWSx3QkFHaEQsR0FEQSxFQUFRLEdBQVcsU0FBUyxHQUN4QixHQUFTLEtBQUssT0FDaEIsTUFBTyxJQUdULEdBQUksR0FBUSxHQUFJLEVBQUcsRUFDbkIsSUFBSyxFQUFJLEVBQUcsRUFBSSxLQUFLLFdBQWEsRUFBUSxLQUFLLGtCQUMxQyxFQUFJLEtBQUssa0JBQ1QsR0FBSyxFQUFHLEdBQUssRUFDaEIsRUFBTSxLQUFLLEtBQUssT0FBTyxPQUFPLElBRWhDLE1BQU8sTUFBSyxRQUFRLElBSXRCLEVBQUssVUFBVSxJQUFNLEVBQUssVUFBVSxRQUdwQyxFQUFLLFVBQVUsUUFBVSxTQUFTLEVBQU8sRUFBTyxDQUM5QyxHQUFJLFVBQVUsT0FBUyxFQUFHLEtBQU0sSUFBSSxhQUFZLHdCQUdoRCxHQURBLEVBQVEsR0FBVyxTQUFTLEdBQ3hCLEdBQVMsS0FBSyxPQUNoQixNQUFPLElBR1QsR0FBSSxHQUFRLEtBQUssTUFBTSxHQUFRLEVBQUcsRUFDbEMsSUFBSyxFQUFJLEVBQUcsRUFBSSxLQUFLLFdBQWEsRUFBUSxLQUFLLGtCQUMxQyxFQUFJLEtBQUssa0JBQ1QsR0FBSyxFQUFHLEdBQUssRUFDaEIsS0FBSyxPQUFPLE9BQU8sR0FBSyxFQUFNLElBTWxDLEVBQUssVUFBVSxJQUFNLFNBQVMsRUFBTyxFQUFPLENBQzFDLEdBQUksVUFBVSxPQUFTLEVBQUcsS0FBTSxJQUFJLGFBQVksd0JBQ2hELEdBQUksR0FBTyxFQUFVLEVBQVEsRUFDekIsRUFBRyxFQUFHLEdBQ04sRUFBWSxHQUFZLEVBRTVCLEdBQUksTUFBTyxXQUFVLElBQU8sVUFBWSxVQUFVLEdBQUcsY0FBZ0IsS0FBSyxZQUFhLENBS3JGLEdBSEEsRUFBUSxVQUFVLEdBQ2xCLEVBQVMsR0FBVyxTQUFTLFVBQVUsSUFFbkMsRUFBUyxFQUFNLE9BQVMsS0FBSyxPQUMvQixLQUFNLElBQUksWUFBVywrQ0FNdkIsR0FIQSxFQUFhLEtBQUssV0FBYSxFQUFTLEtBQUssa0JBQzdDLEdBQWEsRUFBTSxPQUFTLEtBQUssa0JBRTdCLEVBQU0sU0FBVyxLQUFLLE9BQVEsQ0FFaEMsSUFEQSxFQUFNLEdBQ0QsRUFBSSxFQUFHLEVBQUksRUFBTSxXQUFZLEVBQUksR0FBWSxHQUFLLEVBQUcsR0FBSyxFQUM3RCxFQUFJLEdBQUssRUFBTSxPQUFPLE9BQU8sR0FFL0IsSUFBSyxFQUFJLEVBQUcsR0FBSSxFQUFZLEVBQUksR0FBWSxHQUFLLEVBQUcsSUFBSyxFQUN2RCxLQUFLLE9BQU8sT0FBTyxJQUFLLEVBQUksT0FHOUIsS0FBSyxFQUFJLEVBQUcsRUFBSSxFQUFNLFdBQVksR0FBSSxFQUNqQyxFQUFJLEdBQVksR0FBSyxFQUFHLEdBQUssRUFBRyxJQUFLLEVBQ3hDLEtBQUssT0FBTyxPQUFPLElBQUssRUFBTSxPQUFPLE9BQU8sV0FHdkMsTUFBTyxXQUFVLElBQU8sVUFBWSxNQUFPLFdBQVUsR0FBRyxRQUFXLFlBQWEsQ0FNekYsR0FKQSxFQUFXLFVBQVUsR0FDckIsRUFBTSxHQUFXLFNBQVMsRUFBUyxRQUNuQyxFQUFTLEdBQVcsU0FBUyxVQUFVLElBRW5DLEVBQVMsRUFBTSxLQUFLLE9BQ3RCLEtBQU0sSUFBSSxZQUFXLCtDQUd2QixJQUFLLEVBQUksRUFBRyxFQUFJLEVBQUssR0FBSyxFQUN4QixFQUFJLEVBQVMsR0FDYixLQUFLLFFBQVEsRUFBUyxFQUFHLE9BQU8sUUFHbEMsTUFBTSxJQUFJLFdBQVUsZ0NBS3hCLEVBQUssVUFBVSxTQUFXLFNBQVMsRUFBTyxFQUFLLENBQzdDLFdBQWUsRUFBRyxFQUFLLEVBQUssQ0FBRSxNQUFPLEdBQUksRUFBTSxFQUFNLEVBQUksRUFBTSxFQUFNLEVBRXJFLEVBQVEsR0FBVyxRQUFRLEdBQzNCLEVBQU0sR0FBVyxRQUFRLEdBRXJCLFVBQVUsT0FBUyxHQUFLLEdBQVEsR0FDaEMsVUFBVSxPQUFTLEdBQUssR0FBTSxLQUFLLFFBRW5DLEVBQVEsR0FBSyxHQUFRLEtBQUssT0FBUyxHQUNuQyxFQUFNLEdBQUssR0FBTSxLQUFLLE9BQVMsR0FFbkMsRUFBUSxFQUFNLEVBQU8sRUFBRyxLQUFLLFFBQzdCLEVBQU0sRUFBTSxFQUFLLEVBQUcsS0FBSyxRQUV6QixHQUFJLEdBQU0sRUFBTSxFQUNoQixNQUFJLEdBQU0sR0FDUixHQUFNLEdBR0QsR0FBSSxNQUFLLFlBQ2QsS0FBSyxPQUFRLEtBQUssV0FBYSxFQUFRLEtBQUssa0JBQW1CLElBRzVELEVBR1QsR0FBSSxHQUFZLEVBQWdCLEVBQUcsR0FBUSxJQUN2QyxFQUFhLEVBQWdCLEVBQUcsR0FBUSxJQUN4QyxFQUFvQixFQUFnQixFQUFHLEdBQWUsSUFDdEQsRUFBYSxFQUFnQixFQUFHLEdBQVMsSUFDekMsRUFBYyxFQUFnQixFQUFHLEdBQVMsSUFDMUMsRUFBYSxFQUFnQixFQUFHLEdBQVMsSUFDekMsRUFBYyxFQUFnQixFQUFHLEdBQVMsSUFDMUMsRUFBZSxFQUFnQixFQUFHLEdBQVMsSUFDM0MsRUFBZSxFQUFnQixFQUFHLEdBQVMsSUFFL0MsR0FBUSxVQUFZLEdBQVEsV0FBYSxFQUN6QyxHQUFRLFdBQWEsR0FBUSxZQUFjLEVBQzNDLEdBQVEsa0JBQW9CLEdBQVEsbUJBQXFCLEVBQ3pELEdBQVEsV0FBYSxHQUFRLFlBQWMsRUFDM0MsR0FBUSxZQUFjLEdBQVEsYUFBZSxFQUM3QyxHQUFRLFdBQWEsR0FBUSxZQUFjLEVBQzNDLEdBQVEsWUFBYyxHQUFRLGFBQWUsRUFDN0MsR0FBUSxhQUFlLEdBQVEsY0FBZ0IsRUFDL0MsR0FBUSxhQUFlLEdBQVEsY0FBZ0IsTUFPakQsQUFBQyxXQUFXLENBQ1YsV0FBVyxFQUFPLEVBQU8sQ0FDdkIsTUFBTyxJQUFXLFdBQVcsRUFBTSxLQUFPLEVBQU0sSUFBSSxHQUFTLEVBQU0sR0FHckUsR0FBSSxHQUFpQixVQUFXLENBQzlCLEdBQUksR0FBVyxHQUFJLElBQVEsWUFBYSxDQUFDLE9BQ3JDLEVBQVUsR0FBSSxJQUFRLFdBQVksRUFBUyxRQUMvQyxNQUFPLEdBQUUsRUFBUyxLQUFPLE1BT3ZCLEVBQVcsU0FBa0IsRUFBUSxFQUFZLEVBQVksQ0FDL0QsR0FBSSxVQUFVLFNBQVcsRUFDdkIsRUFBUyxHQUFJLElBQVEsWUFBWSxXQUN4QixDQUFFLGFBQWtCLElBQVEsYUFBZSxHQUFXLE1BQU0sS0FBWSxlQUNqRixLQUFNLElBQUksV0FBVSxhQU10QixHQUhBLEtBQUssT0FBUyxHQUFVLEdBQUksSUFBUSxZQUFZLEdBRWhELEtBQUssV0FBYSxHQUFXLFNBQVMsR0FDbEMsS0FBSyxXQUFhLEtBQUssT0FBTyxXQUNoQyxLQUFNLElBQUksWUFBVywyQkFTdkIsR0FOQSxBQUFJLFVBQVUsT0FBUyxFQUNyQixLQUFLLFdBQWEsS0FBSyxPQUFPLFdBQWEsS0FBSyxXQUVoRCxLQUFLLFdBQWEsR0FBVyxTQUFTLEdBR25DLEtBQUssV0FBYSxLQUFLLFdBQWMsS0FBSyxPQUFPLFdBQ3BELEtBQU0sSUFBSSxZQUFXLHdFQUd2QixHQUFvQixPQUd0QixXQUFvQixFQUFXLENBQzdCLE1BQU8sVUFBUyxFQUFZLEVBQWMsQ0FJeEMsR0FGQSxFQUFhLEdBQVcsU0FBUyxHQUU3QixFQUFhLEVBQVUsa0JBQW9CLEtBQUssV0FDbEQsS0FBTSxJQUFJLFlBQVcsNEJBRXZCLEdBQWMsS0FBSyxXQUVuQixHQUFJLEdBQWEsR0FBSSxJQUFRLFdBQVcsS0FBSyxPQUFRLEVBQVksRUFBVSxtQkFDdkUsRUFBUSxHQUFJLEVBQ2hCLElBQUssRUFBSSxFQUFHLEVBQUksRUFBVSxrQkFBbUIsR0FBSyxFQUNoRCxFQUFNLEtBQUssRUFBRSxFQUFZLElBRzNCLE1BQUksU0FBUSxLQUFrQixRQUFRLElBQ3BDLEVBQU0sVUFHRCxFQUFFLEdBQUksR0FBVSxHQUFJLElBQVEsV0FBVyxHQUFPLFFBQVMsSUFJbEUsRUFBUyxVQUFVLFNBQVcsRUFBVyxHQUFRLFlBQ2pELEVBQVMsVUFBVSxRQUFVLEVBQVcsR0FBUSxXQUNoRCxFQUFTLFVBQVUsVUFBWSxFQUFXLEdBQVEsYUFDbEQsRUFBUyxVQUFVLFNBQVcsRUFBVyxHQUFRLFlBQ2pELEVBQVMsVUFBVSxVQUFZLEVBQVcsR0FBUSxhQUNsRCxFQUFTLFVBQVUsU0FBVyxFQUFXLEdBQVEsWUFDakQsRUFBUyxVQUFVLFdBQWEsRUFBVyxHQUFRLGNBQ25ELEVBQVMsVUFBVSxXQUFhLEVBQVcsR0FBUSxjQUVuRCxXQUFvQixFQUFXLENBQzdCLE1BQU8sVUFBUyxFQUFZLEVBQU8sRUFBYyxDQUcvQyxHQURBLEVBQWEsR0FBVyxTQUFTLEdBQzdCLEVBQWEsRUFBVSxrQkFBb0IsS0FBSyxXQUNsRCxLQUFNLElBQUksWUFBVyw0QkFJdkIsR0FBSSxHQUFZLEdBQUksR0FBVSxDQUFDLElBQzNCLEVBQVksR0FBSSxJQUFRLFdBQVcsRUFBVSxRQUM3QyxFQUFRLEdBQUksRUFBRyxFQUVuQixJQUFLLEVBQUksRUFBRyxFQUFJLEVBQVUsa0JBQW1CLEdBQUssRUFDaEQsRUFBTSxLQUFLLEVBQUUsRUFBVyxJQUkxQixBQUFJLFFBQVEsS0FBa0IsUUFBUSxJQUNwQyxFQUFNLFVBSVIsRUFBVyxHQUFJLElBQVEsV0FBVyxLQUFLLE9BQVEsRUFBWSxFQUFVLG1CQUNyRSxFQUFTLElBQUksSUFJakIsRUFBUyxVQUFVLFNBQVcsRUFBVyxHQUFRLFlBQ2pELEVBQVMsVUFBVSxRQUFVLEVBQVcsR0FBUSxXQUNoRCxFQUFTLFVBQVUsVUFBWSxFQUFXLEdBQVEsYUFDbEQsRUFBUyxVQUFVLFNBQVcsRUFBVyxHQUFRLFlBQ2pELEVBQVMsVUFBVSxVQUFZLEVBQVcsR0FBUSxhQUNsRCxFQUFTLFVBQVUsU0FBVyxFQUFXLEdBQVEsWUFDakQsRUFBUyxVQUFVLFdBQWEsRUFBVyxHQUFRLGNBQ25ELEVBQVMsVUFBVSxXQUFhLEVBQVcsR0FBUSxjQUVuRCxHQUFRLFNBQVcsR0FBUSxVQUFZLFFDbm5CekMsc0JBQUksSUFBVyxLQUEyQixTQUN0QyxHQUFXLEtBQ1gsR0FBYSxLQUVqQixBQUFJLE1BQU8sYUFBZSxZQUNwQixHQUFLLEtBQXNCLFdBRTNCLEdBQUssV0FGTCxPQUtOLFlBQXNCLEVBQU0sRUFBSSxDQUM5QixHQUFJLENBQUUsZ0JBQWdCLEtBQWUsTUFBTyxJQUFJLElBQWEsRUFBTSxHQUVuRSxBQUFJLE1BQU8sSUFBUyxZQUNsQixHQUFLLEVBQ0wsRUFBTyxJQUVKLEdBQU0sR0FBTyxJQUVsQixHQUFJLEdBQVcsRUFBSyxTQUNoQixFQUFzQixHQUUxQixBQUFLLEVBR0gsR0FBWSxPQUFPLEdBQVUsY0FDekIsS0FBYSxNQUFRLElBQWEsVUFDcEMsR0FBVyxlQUpiLEVBQXNCLEdBUXhCLEdBQVMsS0FBSyxLQUFNLENBQUUsV0FBWSxLQUVsQyxLQUFLLFNBQVcsRUFDaEIsS0FBSyxvQkFBc0IsRUFFdkIsR0FBSSxLQUFLLEdBQUcsU0FBVSxVQUFZLENBQUUsRUFBRyxLQUFLLGFBQ2hELEtBQUssS0FBTyxHQUdkLEdBQU8sUUFBVSxHQUNqQixHQUFTLEdBQWMsSUFFdkIsR0FBYSxVQUFVLE9BQVMsU0FBUyxFQUFPLEVBQUssRUFBTSxDQUN6RCxLQUFLLEtBQUssS0FBSyxHQUNmLEtBR0YsR0FBYSxVQUFVLGNBQWdCLFNBQVUsRUFBTSxDQUNyRCxHQUFJLEdBQWMsSUFBUyxPQUFZLEtBQUssS0FBSyxHQUFLLEVBQ3RELE1BQUksUUFBTyxTQUFTLEdBQXFCLFNBQ3JDLE1BQU8sYUFBZSxhQUFlLFlBQXVCLFlBQW1CLGFBQy9FLE1BQU0sUUFBUSxHQUFxQixRQUNuQyxNQUFPLElBQWdCLFNBQWlCLFNBQ3hDLE9BQU8sVUFBVSxTQUFTLEtBQUssS0FBaUIsa0JBQTBCLFNBQ3ZFLFVBR1QsR0FBYSxVQUFVLFFBQVUsVUFBWSxDQUMzQyxNQUFJLENBQUMsS0FBSyxVQUFZLEtBQUssS0FBSyxTQUFXLEVBQVUsR0FDakQsTUFBSyxxQkFBcUIsTUFBSyxTQUFXLEtBQUssaUJBQy9DLEtBQUssV0FBYSxRQUFnQixHQUFZLEtBQUssTUFDbkQsS0FBSyxXQUFhLFNBQWlCLEdBQWEsS0FBSyxNQUNyRCxLQUFLLFdBQWEsU0FBaUIsR0FBYSxLQUFLLE1BQ3JELEtBQUssV0FBYSxhQUFxQixHQUFTLEtBQUssTUFDbEQsS0FBSyxPQUdkLEdBQUksSUFBVSxNQUFNLFNBQVcsU0FBVSxFQUFLLENBQzVDLE1BQU8sUUFBTyxVQUFVLFNBQVMsS0FBSyxJQUFRLGtCQUdoRCxZQUFxQixFQUFLLENBQ3hCLE1BQU8sV0FBVyxLQUFLLE9BQU8sVUFBVSxTQUFTLEtBQUssSUFHeEQsWUFBc0IsRUFBRyxDQUN2QixNQUFPLE9BQU8sSUFBTSxVQUFZLEdBQVcsSUFBTyxHQUFLLE1BQU8sR0FBRSxVQUFhLFdBRy9FLFlBQXVCLEVBQU8sQ0FHNUIsT0FGSSxHQUFVLEdBQ1YsRUFBZ0IsR0FDWCxFQUFJLEVBQUcsRUFBSSxFQUFNLE9BQVEsSUFBSyxDQUNyQyxHQUFJLEdBQUksRUFBTSxHQUNkLEFBQUksTUFBTyxJQUFNLFVBRU4sT0FBTyxTQUFTLEdBRHpCLEVBQVEsS0FBSyxHQUdSLEFBQUksR0FBWSxHQUNyQixFQUFRLEtBQUssR0FBVyxJQUV4QixFQUFRLEtBQUssR0FBVyxPQUFPLEtBR25DLE1BQUksUUFBTyxTQUFTLEVBQU0sSUFDeEIsR0FBVSxPQUFPLE9BQU8sR0FDeEIsRUFBVSxFQUFRLFNBQVMsU0FFM0IsRUFBVSxFQUFRLEtBQUssSUFFbEIsRUFHVCxZQUF1QixFQUFPLENBRTVCLE9BREksR0FBTyxHQUNGLEVBQUksRUFBRyxFQUFJLEVBQU0sT0FBUSxJQUFLLENBQ3JDLEdBQUksR0FBSSxFQUFNLEdBQ2QsQUFBSSxPQUFPLFNBQVMsR0FDbEIsRUFBSyxLQUFLLEdBQ0wsQUFBSSxHQUFZLEdBQ3JCLEVBQUssS0FBSyxHQUFXLElBRXJCLEVBQUssS0FBSyxHQUFXLE9BQU8sS0FHaEMsTUFBTyxRQUFPLE9BQU8sR0FHdkIsWUFBc0IsRUFBTyxDQUUzQixPQURJLEdBQU0sR0FDRCxFQUFJLEVBQUcsRUFBSSxFQUFNLE9BQVEsSUFDaEMsRUFBSSxLQUFLLE1BQU0sRUFBSyxFQUFNLElBRTVCLE1BQU8sR0FHVCxZQUFtQixFQUFPLENBRXhCLE9BREksR0FBTSxFQUNELEVBQUksRUFBRyxFQUFJLEVBQU0sT0FBUSxJQUNoQyxBQUFJLE1BQU8sR0FBTSxJQUFPLFVBQ3RCLEdBQU0sR0FBSyxHQUFXLEVBQU0sS0FFOUIsR0FBTyxFQUFNLEdBQUcsT0FHbEIsT0FESSxHQUFLLEdBQUksSUFBRyxHQUNQLEVBQUksRUFBRyxFQUFTLEVBQUcsRUFBSSxFQUFNLE9BQVEsSUFFNUMsT0FESSxHQUFPLEVBQU0sR0FDUixFQUFJLEVBQUcsRUFBSSxFQUFLLE9BQVEsSUFDL0IsRUFBRyxLQUFZLEVBQUssR0FHeEIsTUFBTyxNQzlJVCxtQkFVQSxHQUFJLElBQW1CLElBR25CLEdBQWlCLDRCQUdqQixHQUF5QixFQUN6QixHQUF1QixFQUd2QixHQUFtQixpQkFHbkIsR0FBVSxxQkFDVixHQUFXLGlCQUNYLEdBQVUsbUJBQ1YsR0FBVSxnQkFDVixHQUFXLGlCQUNYLEdBQVUsb0JBQ1YsR0FBUyw2QkFDVCxHQUFTLGVBQ1QsR0FBWSxrQkFDWixHQUFZLGtCQUNaLEdBQWEsbUJBQ2IsR0FBWSxrQkFDWixHQUFTLGVBQ1QsR0FBWSxrQkFDWixHQUFZLGtCQUNaLEdBQWEsbUJBRWIsR0FBaUIsdUJBQ2pCLEdBQWMsb0JBQ2QsR0FBYSx3QkFDYixHQUFhLHdCQUNiLEdBQVUscUJBQ1YsR0FBVyxzQkFDWCxHQUFXLHNCQUNYLEdBQVcsc0JBQ1gsR0FBa0IsNkJBQ2xCLEdBQVksdUJBQ1osR0FBWSx1QkFNWixHQUFlLHNCQUdmLEdBQWUsOEJBR2YsR0FBVyxtQkFHWCxHQUFpQixHQUNyQixHQUFlLElBQWMsR0FBZSxJQUM1QyxHQUFlLElBQVcsR0FBZSxJQUN6QyxHQUFlLElBQVksR0FBZSxJQUMxQyxHQUFlLElBQW1CLEdBQWUsSUFDakQsR0FBZSxJQUFhLEdBQzVCLEdBQWUsSUFBVyxHQUFlLElBQ3pDLEdBQWUsSUFBa0IsR0FBZSxJQUNoRCxHQUFlLElBQWUsR0FBZSxJQUM3QyxHQUFlLElBQVksR0FBZSxJQUMxQyxHQUFlLElBQVUsR0FBZSxJQUN4QyxHQUFlLElBQWEsR0FBZSxJQUMzQyxHQUFlLElBQVUsR0FBZSxJQUN4QyxHQUFlLElBQWMsR0FHN0IsR0FBSSxJQUFhLE1BQU8sU0FBVSxVQUFZLFFBQVUsT0FBTyxTQUFXLFFBQVUsT0FHaEYsR0FBVyxNQUFPLE9BQVEsVUFBWSxNQUFRLEtBQUssU0FBVyxRQUFVLEtBR3hFLEdBQU8sSUFBYyxJQUFZLFNBQVMsaUJBRzFDLEdBQWMsTUFBTyxLQUFXLFVBQVksSUFBVyxDQUFDLEdBQVEsVUFBWSxHQUc1RSxHQUFhLElBQWUsTUFBTyxLQUFVLFVBQVksSUFBVSxDQUFDLEdBQU8sVUFBWSxHQUd2RixHQUFnQixJQUFjLEdBQVcsVUFBWSxHQUdyRCxHQUFjLElBQWlCLEdBQVcsUUFHMUMsR0FBWSxVQUFXLENBQ3pCLEdBQUksQ0FDRixNQUFPLEtBQWUsR0FBWSxRQUFRLGNBQ25DLEVBQVAsTUFJQSxHQUFtQixJQUFZLEdBQVMsYUFZNUMsWUFBbUIsRUFBTyxFQUFXLENBSW5DLE9BSEksR0FBUSxHQUNSLEVBQVMsRUFBUSxFQUFNLE9BQVMsRUFFN0IsRUFBRSxFQUFRLEdBQ2YsR0FBSSxFQUFVLEVBQU0sR0FBUSxFQUFPLEdBQ2pDLE1BQU8sR0FHWCxNQUFPLEdBWVQsWUFBbUIsRUFBRyxFQUFVLENBSTlCLE9BSEksR0FBUSxHQUNSLEVBQVMsTUFBTSxHQUVaLEVBQUUsRUFBUSxHQUNmLEVBQU8sR0FBUyxFQUFTLEdBRTNCLE1BQU8sR0FVVCxZQUFtQixFQUFNLENBQ3ZCLE1BQU8sVUFBUyxFQUFPLENBQ3JCLE1BQU8sR0FBSyxJQVloQixZQUFrQixFQUFRLEVBQUssQ0FDN0IsTUFBTyxJQUFVLEtBQU8sT0FBWSxFQUFPLEdBVTdDLFlBQXNCLEVBQU8sQ0FHM0IsR0FBSSxHQUFTLEdBQ2IsR0FBSSxHQUFTLE1BQVEsTUFBTyxHQUFNLFVBQVksV0FDNUMsR0FBSSxDQUNGLEVBQVMsQ0FBQyxDQUFFLEdBQVEsVUFDYixFQUFQLEVBRUosTUFBTyxHQVVULFlBQW9CLEVBQUssQ0FDdkIsR0FBSSxHQUFRLEdBQ1IsRUFBUyxNQUFNLEVBQUksTUFFdkIsU0FBSSxRQUFRLFNBQVMsRUFBTyxFQUFLLENBQy9CLEVBQU8sRUFBRSxHQUFTLENBQUMsRUFBSyxLQUVuQixFQVdULFlBQWlCLEVBQU0sRUFBVyxDQUNoQyxNQUFPLFVBQVMsRUFBSyxDQUNuQixNQUFPLEdBQUssRUFBVSxLQVcxQixZQUFvQixFQUFLLENBQ3ZCLEdBQUksR0FBUSxHQUNSLEVBQVMsTUFBTSxFQUFJLE1BRXZCLFNBQUksUUFBUSxTQUFTLEVBQU8sQ0FDMUIsRUFBTyxFQUFFLEdBQVMsSUFFYixFQUlULEdBQUksSUFBYSxNQUFNLFVBQ25CLEdBQVksU0FBUyxVQUNyQixHQUFjLE9BQU8sVUFHckIsR0FBYSxHQUFLLHNCQUdsQixHQUFjLFVBQVcsQ0FDM0IsR0FBSSxHQUFNLFNBQVMsS0FBSyxJQUFjLEdBQVcsTUFBUSxHQUFXLEtBQUssVUFBWSxJQUNyRixNQUFPLEdBQU8saUJBQW1CLEVBQU8sTUFJdEMsR0FBZSxHQUFVLFNBR3pCLEdBQWlCLEdBQVksZUFPN0IsR0FBaUIsR0FBWSxTQUc3QixHQUFhLE9BQU8sSUFDdEIsR0FBYSxLQUFLLElBQWdCLFFBQVEsR0FBYyxRQUN2RCxRQUFRLHlEQUEwRCxTQUFXLEtBSTVFLEdBQVMsR0FBSyxPQUNkLEdBQWEsR0FBSyxXQUNsQixHQUF1QixHQUFZLHFCQUNuQyxHQUFTLEdBQVcsT0FHcEIsR0FBYSxHQUFRLE9BQU8sS0FBTSxRQUdsQyxHQUFXLEdBQVUsR0FBTSxZQUMzQixHQUFNLEdBQVUsR0FBTSxPQUN0QixHQUFVLEdBQVUsR0FBTSxXQUMxQixHQUFNLEdBQVUsR0FBTSxPQUN0QixHQUFVLEdBQVUsR0FBTSxXQUMxQixHQUFlLEdBQVUsT0FBUSxVQUdqQyxHQUFxQixHQUFTLElBQzlCLEdBQWdCLEdBQVMsSUFDekIsR0FBb0IsR0FBUyxJQUM3QixHQUFnQixHQUFTLElBQ3pCLEdBQW9CLEdBQVMsSUFHN0IsR0FBYyxHQUFTLEdBQU8sVUFBWSxPQUMxQyxHQUFnQixHQUFjLEdBQVksUUFBVSxPQVN4RCxZQUFjLEVBQVMsQ0FDckIsR0FBSSxHQUFRLEdBQ1IsRUFBUyxFQUFVLEVBQVEsT0FBUyxFQUd4QyxJQURBLEtBQUssUUFDRSxFQUFFLEVBQVEsR0FBUSxDQUN2QixHQUFJLEdBQVEsRUFBUSxHQUNwQixLQUFLLElBQUksRUFBTSxHQUFJLEVBQU0sS0FXN0IsYUFBcUIsQ0FDbkIsS0FBSyxTQUFXLEdBQWUsR0FBYSxNQUFRLEdBYXRELFlBQW9CLEVBQUssQ0FDdkIsTUFBTyxNQUFLLElBQUksSUFBUSxNQUFPLE1BQUssU0FBUyxHQVkvQyxZQUFpQixFQUFLLENBQ3BCLEdBQUksR0FBTyxLQUFLLFNBQ2hCLEdBQUksR0FBYyxDQUNoQixHQUFJLEdBQVMsRUFBSyxHQUNsQixNQUFPLEtBQVcsR0FBaUIsT0FBWSxFQUVqRCxNQUFPLElBQWUsS0FBSyxFQUFNLEdBQU8sRUFBSyxHQUFPLE9BWXRELFlBQWlCLEVBQUssQ0FDcEIsR0FBSSxHQUFPLEtBQUssU0FDaEIsTUFBTyxJQUFlLEVBQUssS0FBUyxPQUFZLEdBQWUsS0FBSyxFQUFNLEdBYTVFLFlBQWlCLEVBQUssRUFBTyxDQUMzQixHQUFJLEdBQU8sS0FBSyxTQUNoQixTQUFLLEdBQVEsSUFBZ0IsSUFBVSxPQUFhLEdBQWlCLEVBQzlELEtBSVQsR0FBSyxVQUFVLE1BQVEsR0FDdkIsR0FBSyxVQUFVLE9BQVksR0FDM0IsR0FBSyxVQUFVLElBQU0sR0FDckIsR0FBSyxVQUFVLElBQU0sR0FDckIsR0FBSyxVQUFVLElBQU0sR0FTckIsWUFBbUIsRUFBUyxDQUMxQixHQUFJLEdBQVEsR0FDUixFQUFTLEVBQVUsRUFBUSxPQUFTLEVBR3hDLElBREEsS0FBSyxRQUNFLEVBQUUsRUFBUSxHQUFRLENBQ3ZCLEdBQUksR0FBUSxFQUFRLEdBQ3BCLEtBQUssSUFBSSxFQUFNLEdBQUksRUFBTSxLQVc3QixhQUEwQixDQUN4QixLQUFLLFNBQVcsR0FZbEIsWUFBeUIsRUFBSyxDQUM1QixHQUFJLEdBQU8sS0FBSyxTQUNaLEVBQVEsR0FBYSxFQUFNLEdBRS9CLEdBQUksRUFBUSxFQUNWLE1BQU8sR0FFVCxHQUFJLEdBQVksRUFBSyxPQUFTLEVBQzlCLE1BQUksSUFBUyxFQUNYLEVBQUssTUFFTCxHQUFPLEtBQUssRUFBTSxFQUFPLEdBRXBCLEdBWVQsWUFBc0IsRUFBSyxDQUN6QixHQUFJLEdBQU8sS0FBSyxTQUNaLEVBQVEsR0FBYSxFQUFNLEdBRS9CLE1BQU8sR0FBUSxFQUFJLE9BQVksRUFBSyxHQUFPLEdBWTdDLFlBQXNCLEVBQUssQ0FDekIsTUFBTyxJQUFhLEtBQUssU0FBVSxHQUFPLEdBYTVDLFlBQXNCLEVBQUssRUFBTyxDQUNoQyxHQUFJLEdBQU8sS0FBSyxTQUNaLEVBQVEsR0FBYSxFQUFNLEdBRS9CLE1BQUksR0FBUSxFQUNWLEVBQUssS0FBSyxDQUFDLEVBQUssSUFFaEIsRUFBSyxHQUFPLEdBQUssRUFFWixLQUlULEdBQVUsVUFBVSxNQUFRLEdBQzVCLEdBQVUsVUFBVSxPQUFZLEdBQ2hDLEdBQVUsVUFBVSxJQUFNLEdBQzFCLEdBQVUsVUFBVSxJQUFNLEdBQzFCLEdBQVUsVUFBVSxJQUFNLEdBUzFCLFlBQWtCLEVBQVMsQ0FDekIsR0FBSSxHQUFRLEdBQ1IsRUFBUyxFQUFVLEVBQVEsT0FBUyxFQUd4QyxJQURBLEtBQUssUUFDRSxFQUFFLEVBQVEsR0FBUSxDQUN2QixHQUFJLEdBQVEsRUFBUSxHQUNwQixLQUFLLElBQUksRUFBTSxHQUFJLEVBQU0sS0FXN0IsYUFBeUIsQ0FDdkIsS0FBSyxTQUFXLENBQ2QsS0FBUSxHQUFJLElBQ1osSUFBTyxHQUFLLEtBQU8sSUFDbkIsT0FBVSxHQUFJLEtBYWxCLFlBQXdCLEVBQUssQ0FDM0IsTUFBTyxJQUFXLEtBQU0sR0FBSyxPQUFVLEdBWXpDLFlBQXFCLEVBQUssQ0FDeEIsTUFBTyxJQUFXLEtBQU0sR0FBSyxJQUFJLEdBWW5DLFlBQXFCLEVBQUssQ0FDeEIsTUFBTyxJQUFXLEtBQU0sR0FBSyxJQUFJLEdBYW5DLFlBQXFCLEVBQUssRUFBTyxDQUMvQixVQUFXLEtBQU0sR0FBSyxJQUFJLEVBQUssR0FDeEIsS0FJVCxHQUFTLFVBQVUsTUFBUSxHQUMzQixHQUFTLFVBQVUsT0FBWSxHQUMvQixHQUFTLFVBQVUsSUFBTSxHQUN6QixHQUFTLFVBQVUsSUFBTSxHQUN6QixHQUFTLFVBQVUsSUFBTSxHQVV6QixZQUFrQixFQUFRLENBQ3hCLEdBQUksR0FBUSxHQUNSLEVBQVMsRUFBUyxFQUFPLE9BQVMsRUFHdEMsSUFEQSxLQUFLLFNBQVcsR0FBSSxJQUNiLEVBQUUsRUFBUSxHQUNmLEtBQUssSUFBSSxFQUFPLElBY3BCLFlBQXFCLEVBQU8sQ0FDMUIsWUFBSyxTQUFTLElBQUksRUFBTyxJQUNsQixLQVlULFlBQXFCLEVBQU8sQ0FDMUIsTUFBTyxNQUFLLFNBQVMsSUFBSSxHQUkzQixHQUFTLFVBQVUsSUFBTSxHQUFTLFVBQVUsS0FBTyxHQUNuRCxHQUFTLFVBQVUsSUFBTSxHQVN6QixZQUFlLEVBQVMsQ0FDdEIsS0FBSyxTQUFXLEdBQUksSUFBVSxHQVVoQyxhQUFzQixDQUNwQixLQUFLLFNBQVcsR0FBSSxJQVl0QixZQUFxQixFQUFLLENBQ3hCLE1BQU8sTUFBSyxTQUFTLE9BQVUsR0FZakMsWUFBa0IsRUFBSyxDQUNyQixNQUFPLE1BQUssU0FBUyxJQUFJLEdBWTNCLFlBQWtCLEVBQUssQ0FDckIsTUFBTyxNQUFLLFNBQVMsSUFBSSxHQWEzQixZQUFrQixFQUFLLEVBQU8sQ0FDNUIsR0FBSSxHQUFRLEtBQUssU0FDakIsR0FBSSxZQUFpQixJQUFXLENBQzlCLEdBQUksR0FBUSxFQUFNLFNBQ2xCLEdBQUksQ0FBQyxJQUFRLEVBQU0sT0FBUyxHQUFtQixFQUM3QyxTQUFNLEtBQUssQ0FBQyxFQUFLLElBQ1YsS0FFVCxFQUFRLEtBQUssU0FBVyxHQUFJLElBQVMsR0FFdkMsU0FBTSxJQUFJLEVBQUssR0FDUixLQUlULEdBQU0sVUFBVSxNQUFRLEdBQ3hCLEdBQU0sVUFBVSxPQUFZLEdBQzVCLEdBQU0sVUFBVSxJQUFNLEdBQ3RCLEdBQU0sVUFBVSxJQUFNLEdBQ3RCLEdBQU0sVUFBVSxJQUFNLEdBVXRCLFlBQXVCLEVBQU8sRUFBVyxDQUd2QyxHQUFJLEdBQVUsR0FBUSxJQUFVLEdBQVksR0FDeEMsR0FBVSxFQUFNLE9BQVEsUUFDeEIsR0FFQSxFQUFTLEVBQU8sT0FDaEIsRUFBYyxDQUFDLENBQUMsRUFFcEIsT0FBUyxLQUFPLEdBQ2QsQUFBSyxJQUFhLEdBQWUsS0FBSyxFQUFPLEtBQ3pDLENBQUUsSUFBZ0IsSUFBTyxVQUFZLEdBQVEsRUFBSyxNQUNwRCxFQUFPLEtBQUssR0FHaEIsTUFBTyxHQVdULFlBQXNCLEVBQU8sRUFBSyxDQUVoQyxPQURJLEdBQVMsRUFBTSxPQUNaLEtBQ0wsR0FBSSxHQUFHLEVBQU0sR0FBUSxHQUFJLEdBQ3ZCLE1BQU8sR0FHWCxNQUFPLEdBVVQsWUFBb0IsRUFBTyxDQUN6QixNQUFPLElBQWUsS0FBSyxHQWtCN0IsWUFBcUIsRUFBTyxFQUFPLEVBQVksRUFBUyxFQUFPLENBQzdELE1BQUksS0FBVSxFQUNMLEdBRUwsR0FBUyxNQUFRLEdBQVMsTUFBUyxDQUFDLEdBQVMsSUFBVSxDQUFDLEdBQWEsR0FDaEUsSUFBVSxHQUFTLElBQVUsRUFFL0IsR0FBZ0IsRUFBTyxFQUFPLEdBQWEsRUFBWSxFQUFTLEdBa0J6RSxZQUF5QixFQUFRLEVBQU8sRUFBVyxFQUFZLEVBQVMsRUFBTyxDQUM3RSxHQUFJLEdBQVcsR0FBUSxHQUNuQixFQUFXLEdBQVEsR0FDbkIsRUFBUyxHQUNULEVBQVMsR0FFYixBQUFLLEdBQ0gsR0FBUyxHQUFPLEdBQ2hCLEVBQVMsR0FBVSxHQUFVLEdBQVksR0FFdEMsR0FDSCxHQUFTLEdBQU8sR0FDaEIsRUFBUyxHQUFVLEdBQVUsR0FBWSxHQUUzQyxHQUFJLEdBQVcsR0FBVSxJQUFhLENBQUMsR0FBYSxHQUNoRCxFQUFXLEdBQVUsSUFBYSxDQUFDLEdBQWEsR0FDaEQsRUFBWSxHQUFVLEVBRTFCLEdBQUksR0FBYSxDQUFDLEVBQ2hCLFVBQVUsR0FBUSxHQUFJLEtBQ2QsR0FBWSxHQUFhLEdBQzdCLEdBQVksRUFBUSxFQUFPLEVBQVcsRUFBWSxFQUFTLEdBQzNELEdBQVcsRUFBUSxFQUFPLEVBQVEsRUFBVyxFQUFZLEVBQVMsR0FFeEUsR0FBSSxDQUFFLEdBQVUsSUFBdUIsQ0FDckMsR0FBSSxHQUFlLEdBQVksR0FBZSxLQUFLLEVBQVEsZUFDdkQsRUFBZSxHQUFZLEdBQWUsS0FBSyxFQUFPLGVBRTFELEdBQUksR0FBZ0IsRUFBYyxDQUNoQyxHQUFJLEdBQWUsRUFBZSxFQUFPLFFBQVUsRUFDL0MsRUFBZSxFQUFlLEVBQU0sUUFBVSxFQUVsRCxVQUFVLEdBQVEsR0FBSSxLQUNmLEVBQVUsRUFBYyxFQUFjLEVBQVksRUFBUyxJQUd0RSxNQUFLLEdBR0wsSUFBVSxHQUFRLEdBQUksS0FDZixHQUFhLEVBQVEsRUFBTyxFQUFXLEVBQVksRUFBUyxJQUgxRCxHQWdCWCxZQUFxQixFQUFRLEVBQVEsRUFBVyxFQUFZLENBQzFELEdBQUksR0FBUSxFQUFVLE9BQ2xCLEVBQVMsRUFDVCxFQUFlLENBQUMsRUFFcEIsR0FBSSxHQUFVLEtBQ1osTUFBTyxDQUFDLEVBR1YsSUFEQSxFQUFTLE9BQU8sR0FDVCxLQUFTLENBQ2QsR0FBSSxHQUFPLEVBQVUsR0FDckIsR0FBSyxHQUFnQixFQUFLLEdBQ2xCLEVBQUssS0FBTyxFQUFPLEVBQUssSUFDeEIsQ0FBRSxHQUFLLElBQU0sSUFFbkIsTUFBTyxHQUdYLEtBQU8sRUFBRSxFQUFRLEdBQVEsQ0FDdkIsRUFBTyxFQUFVLEdBQ2pCLEdBQUksR0FBTSxFQUFLLEdBQ1gsRUFBVyxFQUFPLEdBQ2xCLEVBQVcsRUFBSyxHQUVwQixHQUFJLEdBQWdCLEVBQUssSUFDdkIsR0FBSSxJQUFhLFFBQWEsQ0FBRSxLQUFPLElBQ3JDLE1BQU8sT0FFSixDQUNMLEdBQUksR0FBUSxHQUFJLElBQ2hCLEdBQUksRUFDRixHQUFJLEdBQVMsRUFBVyxFQUFVLEVBQVUsRUFBSyxFQUFRLEVBQVEsR0FFbkUsR0FBSSxDQUFFLEtBQVcsT0FDVCxHQUFZLEVBQVUsRUFBVSxFQUFZLEdBQXlCLEdBQXNCLEdBQzNGLEdBRU4sTUFBTyxJQUliLE1BQU8sR0FXVCxZQUFzQixFQUFPLENBQzNCLEdBQUksQ0FBQyxHQUFTLElBQVUsR0FBUyxHQUMvQixNQUFPLEdBRVQsR0FBSSxHQUFXLEdBQVcsSUFBVSxHQUFhLEdBQVUsR0FBYSxHQUN4RSxNQUFPLEdBQVEsS0FBSyxHQUFTLElBVS9CLFlBQTBCLEVBQU8sQ0FDL0IsTUFBTyxJQUFhLElBQ2xCLEdBQVMsRUFBTSxTQUFXLENBQUMsQ0FBQyxHQUFlLEdBQWUsS0FBSyxJQVVuRSxZQUFrQixFQUFRLENBQ3hCLEdBQUksQ0FBQyxHQUFZLEdBQ2YsTUFBTyxJQUFXLEdBRXBCLEdBQUksR0FBUyxHQUNiLE9BQVMsS0FBTyxRQUFPLEdBQ3JCLEFBQUksR0FBZSxLQUFLLEVBQVEsSUFBUSxHQUFPLGVBQzdDLEVBQU8sS0FBSyxHQUdoQixNQUFPLEdBaUJULFlBQXFCLEVBQU8sRUFBTyxFQUFXLEVBQVksRUFBUyxFQUFPLENBQ3hFLEdBQUksR0FBWSxFQUFVLEdBQ3RCLEVBQVksRUFBTSxPQUNsQixFQUFZLEVBQU0sT0FFdEIsR0FBSSxHQUFhLEdBQWEsQ0FBRSxJQUFhLEVBQVksR0FDdkQsTUFBTyxHQUdULEdBQUksR0FBVSxFQUFNLElBQUksR0FDeEIsR0FBSSxHQUFXLEVBQU0sSUFBSSxHQUN2QixNQUFPLElBQVcsRUFFcEIsR0FBSSxHQUFRLEdBQ1IsRUFBUyxHQUNULEVBQVEsRUFBVSxHQUEwQixHQUFJLElBQVcsT0FNL0QsSUFKQSxFQUFNLElBQUksRUFBTyxHQUNqQixFQUFNLElBQUksRUFBTyxHQUdWLEVBQUUsRUFBUSxHQUFXLENBQzFCLEdBQUksR0FBVyxFQUFNLEdBQ2pCLEVBQVcsRUFBTSxHQUVyQixHQUFJLEVBQ0YsR0FBSSxHQUFXLEVBQ1gsRUFBVyxFQUFVLEVBQVUsRUFBTyxFQUFPLEVBQU8sR0FDcEQsRUFBVyxFQUFVLEVBQVUsRUFBTyxFQUFPLEVBQU8sR0FFMUQsR0FBSSxJQUFhLE9BQVcsQ0FDMUIsR0FBSSxFQUNGLFNBRUYsRUFBUyxHQUNULE1BR0YsR0FBSSxHQUNGLEdBQUksQ0FBQyxHQUFVLEVBQU8sU0FBUyxFQUFVLEVBQVUsQ0FDN0MsR0FBSSxDQUFDLEVBQUssSUFBSSxJQUNULEtBQWEsR0FBWSxFQUFVLEVBQVUsRUFBVSxFQUFZLEVBQVMsSUFDL0UsTUFBTyxHQUFLLElBQUksS0FFaEIsQ0FDTixFQUFTLEdBQ1QsZUFFTyxDQUNMLEtBQWEsR0FDWCxFQUFVLEVBQVUsRUFBVSxFQUFZLEVBQVMsSUFDcEQsQ0FDTCxFQUFTLEdBQ1QsT0FHSixTQUFNLE9BQVUsR0FDaEIsRUFBTSxPQUFVLEdBQ1QsRUFxQlQsWUFBb0IsRUFBUSxFQUFPLEVBQUssRUFBVyxFQUFZLEVBQVMsRUFBTyxDQUM3RSxPQUFRLE9BQ0QsSUFDSCxHQUFLLEVBQU8sWUFBYyxFQUFNLFlBQzNCLEVBQU8sWUFBYyxFQUFNLFdBQzlCLE1BQU8sR0FFVCxFQUFTLEVBQU8sT0FDaEIsRUFBUSxFQUFNLFdBRVgsSUFDSCxNQUFLLElBQU8sWUFBYyxFQUFNLFlBQzVCLENBQUMsRUFBVSxHQUFJLElBQVcsR0FBUyxHQUFJLElBQVcsU0FLbkQsUUFDQSxRQUNBLElBR0gsTUFBTyxJQUFHLENBQUMsRUFBUSxDQUFDLE9BRWpCLElBQ0gsTUFBTyxHQUFPLE1BQVEsRUFBTSxNQUFRLEVBQU8sU0FBVyxFQUFNLFlBRXpELFFBQ0EsSUFJSCxNQUFPLElBQVcsRUFBUSxPQUV2QixJQUNILEdBQUksR0FBVSxPQUVYLElBQ0gsR0FBSSxHQUFZLEVBQVUsR0FHMUIsR0FGQSxHQUFZLEdBQVUsSUFFbEIsRUFBTyxNQUFRLEVBQU0sTUFBUSxDQUFDLEVBQ2hDLE1BQU8sR0FHVCxHQUFJLEdBQVUsRUFBTSxJQUFJLEdBQ3hCLEdBQUksRUFDRixNQUFPLElBQVcsRUFFcEIsR0FBVyxHQUdYLEVBQU0sSUFBSSxFQUFRLEdBQ2xCLEdBQUksR0FBUyxHQUFZLEVBQVEsR0FBUyxFQUFRLEdBQVEsRUFBVyxFQUFZLEVBQVMsR0FDMUYsU0FBTSxPQUFVLEdBQ1QsTUFFSixJQUNILEdBQUksR0FDRixNQUFPLElBQWMsS0FBSyxJQUFXLEdBQWMsS0FBSyxHQUc5RCxNQUFPLEdBaUJULFlBQXNCLEVBQVEsRUFBTyxFQUFXLEVBQVksRUFBUyxFQUFPLENBQzFFLEdBQUksR0FBWSxFQUFVLEdBQ3RCLEVBQVcsR0FBSyxHQUNoQixFQUFZLEVBQVMsT0FDckIsRUFBVyxHQUFLLEdBQ2hCLEVBQVksRUFBUyxPQUV6QixHQUFJLEdBQWEsR0FBYSxDQUFDLEVBQzdCLE1BQU8sR0FHVCxPQURJLEdBQVEsRUFDTCxLQUFTLENBQ2QsR0FBSSxHQUFNLEVBQVMsR0FDbkIsR0FBSSxDQUFFLEdBQVksSUFBTyxHQUFRLEdBQWUsS0FBSyxFQUFPLElBQzFELE1BQU8sR0FJWCxHQUFJLEdBQVUsRUFBTSxJQUFJLEdBQ3hCLEdBQUksR0FBVyxFQUFNLElBQUksR0FDdkIsTUFBTyxJQUFXLEVBRXBCLEdBQUksR0FBUyxHQUNiLEVBQU0sSUFBSSxFQUFRLEdBQ2xCLEVBQU0sSUFBSSxFQUFPLEdBR2pCLE9BREksR0FBVyxFQUNSLEVBQUUsRUFBUSxHQUFXLENBQzFCLEVBQU0sRUFBUyxHQUNmLEdBQUksR0FBVyxFQUFPLEdBQ2xCLEVBQVcsRUFBTSxHQUVyQixHQUFJLEVBQ0YsR0FBSSxHQUFXLEVBQ1gsRUFBVyxFQUFVLEVBQVUsRUFBSyxFQUFPLEVBQVEsR0FDbkQsRUFBVyxFQUFVLEVBQVUsRUFBSyxFQUFRLEVBQU8sR0FHekQsR0FBSSxDQUFFLEtBQWEsT0FDVixJQUFhLEdBQVksRUFBVSxFQUFVLEVBQVUsRUFBWSxFQUFTLEdBQzdFLEdBQ0QsQ0FDTCxFQUFTLEdBQ1QsTUFFRixHQUFhLEdBQVcsR0FBTyxlQUVqQyxHQUFJLEdBQVUsQ0FBQyxFQUFVLENBQ3ZCLEdBQUksR0FBVSxFQUFPLFlBQ2pCLEVBQVUsRUFBTSxZQUdwQixBQUFJLEdBQVcsR0FDVixlQUFpQixJQUFVLGVBQWlCLElBQzdDLENBQUUsT0FBTyxJQUFXLFlBQWMsWUFBbUIsSUFDbkQsTUFBTyxJQUFXLFlBQWMsWUFBbUIsS0FDdkQsR0FBUyxJQUdiLFNBQU0sT0FBVSxHQUNoQixFQUFNLE9BQVUsR0FDVCxFQVdULFlBQW9CLEVBQUssRUFBSyxDQUM1QixHQUFJLEdBQU8sRUFBSSxTQUNmLE1BQU8sSUFBVSxHQUNiLEVBQUssTUFBTyxJQUFPLFNBQVcsU0FBVyxRQUN6QyxFQUFLLElBVVgsWUFBc0IsRUFBUSxDQUk1QixPQUhJLEdBQVMsR0FBSyxHQUNkLEVBQVMsRUFBTyxPQUViLEtBQVUsQ0FDZixHQUFJLEdBQU0sRUFBTyxHQUNiLEVBQVEsRUFBTyxHQUVuQixFQUFPLEdBQVUsQ0FBQyxFQUFLLEVBQU8sR0FBbUIsSUFFbkQsTUFBTyxHQVdULFlBQW1CLEVBQVEsRUFBSyxDQUM5QixHQUFJLEdBQVEsR0FBUyxFQUFRLEdBQzdCLE1BQU8sSUFBYSxHQUFTLEVBQVEsT0FVdkMsR0FBSSxJQUFTLEdBSWIsQUFBSyxLQUFZLEdBQU8sR0FBSSxJQUFTLEdBQUksYUFBWSxNQUFRLElBQ3hELElBQU8sR0FBTyxHQUFJLE1BQVEsSUFDMUIsSUFBVyxHQUFPLEdBQVEsWUFBYyxJQUN4QyxJQUFPLEdBQU8sR0FBSSxNQUFRLElBQzFCLElBQVcsR0FBTyxHQUFJLE1BQVksS0FDckMsSUFBUyxTQUFTLEVBQU8sQ0FDdkIsR0FBSSxHQUFTLEdBQWUsS0FBSyxHQUM3QixFQUFPLEdBQVUsR0FBWSxFQUFNLFlBQWMsT0FDakQsRUFBYSxFQUFPLEdBQVMsR0FBUSxPQUV6QyxHQUFJLEVBQ0YsT0FBUSxPQUNELElBQW9CLE1BQU8sUUFDM0IsSUFBZSxNQUFPLFFBQ3RCLElBQW1CLE1BQU8sUUFDMUIsSUFBZSxNQUFPLFFBQ3RCLElBQW1CLE1BQU8sSUFHbkMsTUFBTyxLQVlYLFlBQWlCLEVBQU8sRUFBUSxDQUM5QixTQUFTLEdBQVUsS0FBTyxHQUFtQixFQUN0QyxDQUFDLENBQUMsR0FDTixPQUFPLElBQVMsVUFBWSxHQUFTLEtBQUssS0FDMUMsRUFBUSxJQUFNLEVBQVEsR0FBSyxHQUFLLEVBQVEsRUFVN0MsWUFBbUIsRUFBTyxDQUN4QixHQUFJLEdBQU8sTUFBTyxHQUNsQixNQUFRLElBQVEsVUFBWSxHQUFRLFVBQVksR0FBUSxVQUFZLEdBQVEsVUFDdkUsSUFBVSxZQUNWLElBQVUsS0FVakIsWUFBa0IsRUFBTSxDQUN0QixNQUFPLENBQUMsQ0FBQyxJQUFlLEtBQWMsR0FVeEMsWUFBcUIsRUFBTyxDQUMxQixHQUFJLEdBQU8sR0FBUyxFQUFNLFlBQ3RCLEVBQVMsTUFBTyxJQUFRLFlBQWMsRUFBSyxXQUFjLEdBRTdELE1BQU8sS0FBVSxFQVduQixZQUE0QixFQUFPLENBQ2pDLE1BQU8sS0FBVSxHQUFTLENBQUMsR0FBUyxHQVV0QyxZQUFrQixFQUFNLENBQ3RCLEdBQUksR0FBUSxLQUFNLENBQ2hCLEdBQUksQ0FDRixNQUFPLElBQWEsS0FBSyxTQUNsQixFQUFQLEVBQ0YsR0FBSSxDQUNGLE1BQVEsR0FBTyxTQUNSLEVBQVAsR0FFSixNQUFPLEdBbUNULFlBQVksRUFBTyxFQUFPLENBQ3hCLE1BQU8sS0FBVSxHQUFVLElBQVUsR0FBUyxJQUFVLEVBcUIxRCxZQUFxQixFQUFPLENBRTFCLE1BQU8sSUFBa0IsSUFBVSxHQUFlLEtBQUssRUFBTyxXQUMzRCxFQUFDLEdBQXFCLEtBQUssRUFBTyxXQUFhLEdBQWUsS0FBSyxJQUFVLElBMEJsRixHQUFJLElBQVUsTUFBTSxRQTJCcEIsWUFBcUIsRUFBTyxDQUMxQixNQUFPLElBQVMsTUFBUSxHQUFTLEVBQU0sU0FBVyxDQUFDLEdBQVcsR0E0QmhFLFlBQTJCLEVBQU8sQ0FDaEMsTUFBTyxJQUFhLElBQVUsR0FBWSxHQW9CNUMsWUFBb0IsRUFBTyxDQUd6QixHQUFJLEdBQU0sR0FBUyxHQUFTLEdBQWUsS0FBSyxHQUFTLEdBQ3pELE1BQU8sSUFBTyxJQUFXLEdBQU8sR0E2QmxDLFlBQWtCLEVBQU8sQ0FDdkIsTUFBTyxPQUFPLElBQVMsVUFDckIsRUFBUSxJQUFNLEVBQVEsR0FBSyxHQUFLLEdBQVMsR0E0QjdDLFlBQWtCLEVBQU8sQ0FDdkIsR0FBSSxHQUFPLE1BQU8sR0FDbEIsTUFBTyxDQUFDLENBQUMsR0FBVSxJQUFRLFVBQVksR0FBUSxZQTJCakQsWUFBc0IsRUFBTyxDQUMzQixNQUFPLENBQUMsQ0FBQyxHQUFTLE1BQU8sSUFBUyxTQStCcEMsWUFBaUIsRUFBUSxFQUFRLENBQy9CLE1BQU8sS0FBVyxHQUFVLEdBQVksRUFBUSxFQUFRLEdBQWEsSUFvQnZFLEdBQUksSUFBZSxHQUFtQixHQUFVLElBQW9CLEdBOEJwRSxZQUFjLEVBQVEsQ0FDcEIsTUFBTyxJQUFZLEdBQVUsR0FBYyxHQUFVLEdBQVMsR0FHaEUsR0FBTyxRQUFVLEtDdHNEakIsZ0NBQ0EsR0FBTyxRQUFVLFNBQVUsRUFBSyxFQUFVLENBTXpDLE9BTEksR0FDQSxFQUNBLEVBQU0sR0FDTixFQUFPLE9BQU8sS0FBSyxPQUFPLElBRXJCLEVBQUksRUFBRyxFQUFJLEVBQUssT0FBUSxJQUNoQyxFQUFNLEVBQUssR0FDWCxFQUFNLEVBQUksR0FDVixFQUFJLEdBQU8sRUFBUyxFQUFLLEdBRzFCLE1BQU8sTUNiUixnQ0FFQSxHQUFNLElBQVUsS0FDVixHQUFlLEtBRXJCLFlBQXNCLEVBQUssQ0FDekIsTUFBSSxPQUFPLElBQVEsU0FDVixFQUFJLE9BR04sRUFHVCxZQUFvQyxFQUFTLENBQzNDLEdBQUksQ0FBQyxNQUFNLFFBQVEsR0FDakIsS0FBTSxJQUFJLFdBQVUscUJBR3RCLEdBQUksR0FBTSxHQUNKLEVBQVUsR0FDVixFQUFTLEdBQ2YsU0FBUSxRQUFRLFNBQVUsRUFBUSxDQUNoQyxBQUFJLEVBQU8sUUFDVCxFQUFRLEtBQUssR0FHZixFQUFJLEtBQUssS0FJWCxFQUFNLEVBQUksT0FBTyxTQUFVLEVBQVEsQ0FDakMsR0FBSSxHQUFhLEdBRWpCLFNBQVMsRUFBTyxJQUFNLEdBQWEsRUFBTyxJQUFLLElBQWUsR0FBYSxFQUFRLElBRW5GLEVBQVEsS0FBSyxTQUFVLEVBQWMsQ0FDbkMsR0FBTSxHQUFTLEdBQWEsRUFBYSxPQUFRLElBRWpELFNBQWEsR0FBUSxFQUFRLEdBRXpCLEdBQ0YsRUFBTyxLQUFLLEVBQWEsTUFHcEIsSUFHRixDQUFDLElBSVYsRUFBTSxFQUFJLE9BQU8sU0FBVSxFQUFRLENBQ2pDLE1BQU8sR0FBTyxRQUFRLEVBQU8sUUFBVSxJQUdsQyxFQUdULEdBQU8sUUFBVSxLQzFEakIsbUJBUUMsQUFBQyxXQUFXLENBR1gsR0FBSSxHQUdBLEVBQVUsVUFHVixFQUFtQixJQUduQixFQUFrQixrRUFDbEIsRUFBa0Isc0JBQ2xCLEVBQStCLHFEQUcvQixFQUFpQiw0QkFHakIsRUFBbUIsSUFHbkIsRUFBYyx5QkFHZCxFQUFrQixFQUNsQixFQUFrQixFQUNsQixFQUFxQixFQUdyQixFQUF1QixFQUN2QixFQUF5QixFQUd6QixFQUFpQixFQUNqQixFQUFxQixFQUNyQixFQUF3QixFQUN4QixFQUFrQixFQUNsQixFQUF3QixHQUN4QixFQUFvQixHQUNwQixFQUEwQixHQUMxQixFQUFnQixJQUNoQixFQUFrQixJQUNsQixFQUFpQixJQUdqQixHQUF1QixHQUN2QixFQUF5QixNQUd6QixHQUFZLElBQ1osRUFBVyxHQUdYLEVBQW1CLEVBQ25CLEVBQWdCLEVBQ2hCLEVBQWtCLEVBR2xCLEVBQVcsRUFBSSxFQUNmLEVBQW1CLGlCQUNuQixHQUFjLHNCQUNkLEdBQU0sRUFBSSxFQUdWLEdBQW1CLFdBQ25CLEdBQWtCLEdBQW1CLEVBQ3JDLEdBQXdCLEtBQXFCLEVBRzdDLEdBQVksQ0FDZCxDQUFDLE1BQU8sR0FDUixDQUFDLE9BQVEsR0FDVCxDQUFDLFVBQVcsR0FDWixDQUFDLFFBQVMsR0FDVixDQUFDLGFBQWMsR0FDZixDQUFDLE9BQVEsR0FDVCxDQUFDLFVBQVcsR0FDWixDQUFDLGVBQWdCLEdBQ2pCLENBQUMsUUFBUyxJQUlSLEdBQVUscUJBQ1YsR0FBVyxpQkFDWCxHQUFXLHlCQUNYLEdBQVUsbUJBQ1YsR0FBVSxnQkFDVixHQUFZLHdCQUNaLEdBQVcsaUJBQ1gsR0FBVSxvQkFDVixHQUFTLDZCQUNULEdBQVMsZUFDVCxHQUFZLGtCQUNaLEdBQVUsZ0JBQ1YsR0FBWSxrQkFDWixHQUFhLG1CQUNiLEdBQVcsaUJBQ1gsR0FBWSxrQkFDWixHQUFTLGVBQ1QsR0FBWSxrQkFDWixHQUFZLGtCQUNaLEdBQWUscUJBQ2YsR0FBYSxtQkFDYixHQUFhLG1CQUViLEdBQWlCLHVCQUNqQixHQUFjLG9CQUNkLEdBQWEsd0JBQ2IsRUFBYSx3QkFDYixFQUFVLHFCQUNWLEVBQVcsc0JBQ1gsRUFBVyxzQkFDWCxHQUFXLHNCQUNYLEdBQWtCLDZCQUNsQixHQUFZLHVCQUNaLEdBQVksdUJBR1osR0FBdUIsaUJBQ3ZCLEdBQXNCLHFCQUN0QixHQUF3QixnQ0FHeEIsR0FBZ0IsNEJBQ2hCLEdBQWtCLFdBQ2xCLEdBQW1CLE9BQU8sR0FBYyxRQUN4QyxHQUFxQixPQUFPLEdBQWdCLFFBRzVDLEdBQVcsbUJBQ1gsR0FBYSxrQkFDYixHQUFnQixtQkFHaEIsR0FBZSxtREFDZixHQUFnQixRQUNoQixHQUFhLG1HQU1iLEdBQWUsc0JBQ2YsR0FBa0IsT0FBTyxHQUFhLFFBR3RDLEdBQWMsT0FHZCxHQUFlLEtBR2YsR0FBZ0IsNENBQ2hCLEdBQWdCLG9DQUNoQixHQUFpQixRQUdqQixHQUFjLDRDQVlkLEdBQTZCLG1CQUc3QixHQUFlLFdBTWYsR0FBZSxrQ0FHZixHQUFVLE9BR1YsR0FBYSxxQkFHYixHQUFhLGFBR2IsR0FBZSw4QkFHZixHQUFZLGNBR1osR0FBVyxtQkFHWCxHQUFVLDhDQUdWLEdBQVksT0FHWixHQUFvQix5QkFHcEIsR0FBZ0Isa0JBQ2hCLEdBQW9CLGtCQUNwQixHQUF3QixrQkFDeEIsR0FBc0Isa0JBQ3RCLEdBQWUsR0FBb0IsR0FBd0IsR0FDM0QsR0FBaUIsa0JBQ2pCLEdBQWUsNEJBQ2YsR0FBZ0IsdUJBQ2hCLEdBQWlCLCtDQUNqQixHQUFxQixrQkFDckIsR0FBZSwrSkFDZixHQUFlLDRCQUNmLEdBQWEsaUJBQ2IsR0FBZSxHQUFnQixHQUFpQixHQUFxQixHQUdyRSxHQUFTLFlBQ1QsR0FBVyxJQUFNLEdBQWdCLElBQ2pDLEdBQVUsSUFBTSxHQUFlLElBQy9CLEdBQVUsSUFBTSxHQUFlLElBQy9CLEdBQVcsT0FDWCxHQUFZLElBQU0sR0FBaUIsSUFDbkMsR0FBVSxJQUFNLEdBQWUsSUFDL0IsR0FBUyxLQUFPLEdBQWdCLEdBQWUsR0FBVyxHQUFpQixHQUFlLEdBQWUsSUFDekcsR0FBUywyQkFDVCxHQUFhLE1BQVEsR0FBVSxJQUFNLEdBQVMsSUFDOUMsR0FBYyxLQUFPLEdBQWdCLElBQ3JDLEdBQWEsa0NBQ2IsR0FBYSxxQ0FDYixHQUFVLElBQU0sR0FBZSxJQUMvQixHQUFRLFVBR1IsR0FBYyxNQUFRLEdBQVUsSUFBTSxHQUFTLElBQy9DLEdBQWMsTUFBUSxHQUFVLElBQU0sR0FBUyxJQUMvQyxHQUFrQixNQUFRLEdBQVMseUJBQ25DLEdBQWtCLE1BQVEsR0FBUyx5QkFDbkMsR0FBVyxHQUFhLElBQ3hCLEdBQVcsSUFBTSxHQUFhLEtBQzlCLEdBQVksTUFBUSxHQUFRLE1BQVEsQ0FBQyxHQUFhLEdBQVksSUFBWSxLQUFLLEtBQU8sSUFBTSxHQUFXLEdBQVcsS0FDbEgsR0FBYSxtREFDYixHQUFhLG1EQUNiLEdBQVEsR0FBVyxHQUFXLEdBQzlCLEdBQVUsTUFBUSxDQUFDLEdBQVcsR0FBWSxJQUFZLEtBQUssS0FBTyxJQUFNLEdBQ3hFLEdBQVcsTUFBUSxDQUFDLEdBQWMsR0FBVSxJQUFLLEdBQVMsR0FBWSxHQUFZLElBQVUsS0FBSyxLQUFPLElBR3hHLEdBQVMsT0FBTyxHQUFRLEtBTXhCLEdBQWMsT0FBTyxHQUFTLEtBRzlCLEdBQVksT0FBTyxHQUFTLE1BQVEsR0FBUyxLQUFPLEdBQVcsR0FBTyxLQUd0RSxHQUFnQixPQUFPLENBQ3pCLEdBQVUsSUFBTSxHQUFVLElBQU0sR0FBa0IsTUFBUSxDQUFDLEdBQVMsR0FBUyxLQUFLLEtBQUssS0FBTyxJQUM5RixHQUFjLElBQU0sR0FBa0IsTUFBUSxDQUFDLEdBQVMsR0FBVSxHQUFhLEtBQUssS0FBSyxLQUFPLElBQ2hHLEdBQVUsSUFBTSxHQUFjLElBQU0sR0FDcEMsR0FBVSxJQUFNLEdBQ2hCLEdBQ0EsR0FDQSxHQUNBLElBQ0EsS0FBSyxLQUFNLEtBR1QsR0FBZSxPQUFPLElBQU0sR0FBUSxHQUFpQixHQUFlLEdBQWEsS0FHakYsR0FBbUIscUVBR25CLEdBQWUsQ0FDakIsUUFBUyxTQUFVLFdBQVksT0FBUSxRQUFTLGVBQWdCLGVBQ2hFLFdBQVksWUFBYSxhQUFjLGFBQWMsTUFBTyxPQUFRLFNBQ3BFLFVBQVcsU0FBVSxNQUFPLFNBQVUsU0FBVSxZQUFhLGFBQzdELG9CQUFxQixjQUFlLGNBQWUsVUFDbkQsSUFBSyxlQUFnQixXQUFZLFdBQVksY0FJM0MsR0FBa0IsR0FHbEIsR0FBaUIsR0FDckIsR0FBZSxJQUFjLEdBQWUsR0FDNUMsR0FBZSxHQUFXLEdBQWUsR0FDekMsR0FBZSxHQUFZLEdBQWUsSUFDMUMsR0FBZSxJQUFtQixHQUFlLElBQ2pELEdBQWUsSUFBYSxHQUM1QixHQUFlLElBQVcsR0FBZSxJQUN6QyxHQUFlLElBQWtCLEdBQWUsSUFDaEQsR0FBZSxJQUFlLEdBQWUsSUFDN0MsR0FBZSxJQUFZLEdBQWUsSUFDMUMsR0FBZSxJQUFVLEdBQWUsSUFDeEMsR0FBZSxJQUFhLEdBQWUsSUFDM0MsR0FBZSxJQUFVLEdBQWUsSUFDeEMsR0FBZSxJQUFjLEdBRzdCLEdBQUksSUFBZ0IsR0FDcEIsR0FBYyxJQUFXLEdBQWMsSUFDdkMsR0FBYyxJQUFrQixHQUFjLElBQzlDLEdBQWMsSUFBVyxHQUFjLElBQ3ZDLEdBQWMsSUFBYyxHQUFjLEdBQzFDLEdBQWMsR0FBVyxHQUFjLEdBQ3ZDLEdBQWMsR0FBWSxHQUFjLElBQ3hDLEdBQWMsSUFBYSxHQUFjLElBQ3pDLEdBQWMsSUFBYSxHQUFjLElBQ3pDLEdBQWMsSUFBYSxHQUFjLElBQ3pDLEdBQWMsSUFBWSxHQUFjLElBQ3hDLEdBQWMsSUFBYSxHQUFjLElBQWEsR0FDdEQsR0FBYyxJQUFZLEdBQWMsSUFDeEMsR0FBYyxJQUFjLEdBRzVCLEdBQUksSUFBa0IsQ0FFcEIsT0FBUSxJQUFNLE9BQVEsSUFBSyxPQUFRLElBQUssT0FBUSxJQUFLLE9BQVEsSUFBSyxPQUFRLElBQzFFLE9BQVEsSUFBTSxPQUFRLElBQUssT0FBUSxJQUFLLE9BQVEsSUFBSyxPQUFRLElBQUssT0FBUSxJQUMxRSxPQUFRLElBQU0sT0FBUSxJQUN0QixPQUFRLElBQU0sT0FBUSxJQUN0QixPQUFRLElBQU0sT0FBUSxJQUFLLE9BQVEsSUFBSyxPQUFRLElBQ2hELE9BQVEsSUFBTSxPQUFRLElBQUssT0FBUSxJQUFLLE9BQVEsSUFDaEQsT0FBUSxJQUFNLE9BQVEsSUFBSyxPQUFRLElBQUssT0FBUSxJQUNoRCxPQUFRLElBQU0sT0FBUSxJQUFLLE9BQVEsSUFBSyxPQUFRLElBQ2hELE9BQVEsSUFBTSxPQUFRLElBQ3RCLE9BQVEsSUFBTSxPQUFRLElBQUssT0FBUSxJQUFLLE9BQVEsSUFBSyxPQUFRLElBQUssT0FBUSxJQUMxRSxPQUFRLElBQU0sT0FBUSxJQUFLLE9BQVEsSUFBSyxPQUFRLElBQUssT0FBUSxJQUFLLE9BQVEsSUFDMUUsT0FBUSxJQUFNLE9BQVEsSUFBSyxPQUFRLElBQUssT0FBUSxJQUNoRCxPQUFRLElBQU0sT0FBUSxJQUFLLE9BQVEsSUFBSyxPQUFRLElBQ2hELE9BQVEsSUFBTSxPQUFRLElBQUssT0FBUSxJQUNuQyxPQUFRLEtBQU0sT0FBUSxLQUN0QixPQUFRLEtBQU0sT0FBUSxLQUN0QixPQUFRLEtBRVIsT0FBVSxJQUFNLE9BQVUsSUFBSyxPQUFVLElBQ3pDLE9BQVUsSUFBTSxPQUFVLElBQUssT0FBVSxJQUN6QyxPQUFVLElBQU0sT0FBVSxJQUFLLE9BQVUsSUFBSyxPQUFVLElBQ3hELE9BQVUsSUFBTSxPQUFVLElBQUssT0FBVSxJQUFLLE9BQVUsSUFDeEQsT0FBVSxJQUFNLE9BQVUsSUFBSyxPQUFVLElBQUssT0FBVSxJQUN4RCxPQUFVLElBQU0sT0FBVSxJQUFLLE9BQVUsSUFBSyxPQUFVLElBQUssT0FBVSxJQUN2RSxPQUFVLElBQU0sT0FBVSxJQUFLLE9BQVUsSUFBSyxPQUFVLElBQUssT0FBVSxJQUN2RSxPQUFVLElBQU0sT0FBVSxJQUFLLE9BQVUsSUFBSyxPQUFVLElBQ3hELE9BQVUsSUFBTSxPQUFVLElBQUssT0FBVSxJQUFLLE9BQVUsSUFDeEQsT0FBVSxJQUFNLE9BQVUsSUFBSyxPQUFVLElBQUssT0FBVSxJQUN4RCxPQUFVLElBQU0sT0FBVSxJQUFLLE9BQVUsSUFBSyxPQUFVLElBQUssT0FBVSxJQUN2RSxPQUFVLElBQU0sT0FBVSxJQUFLLE9BQVUsSUFBSyxPQUFVLElBQUssT0FBVSxJQUN2RSxPQUFVLElBQU0sT0FBVSxJQUMxQixPQUFVLElBQU0sT0FBVSxJQUFLLE9BQVUsSUFDekMsT0FBVSxJQUFNLE9BQVUsSUFBSyxPQUFVLElBQUssT0FBVSxJQUFLLE9BQVUsSUFDdkUsT0FBVSxJQUFNLE9BQVUsSUFBSyxPQUFVLElBQUssT0FBVSxJQUFLLE9BQVUsSUFDdkUsT0FBVSxJQUFNLE9BQVUsSUFBSyxP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QUFHLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsRUFBRSxHQUFHLENBQUMsRUFBRSxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxH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QUFJLEVBQUcsR0FDcEIsVUFDSyxJQUFHLEtBQUssRUFBSSxFQUFHLEdBQ3BCLFVBQ0ssSUFBRyxLQUFLLEVBQUksRUFBRyxZQUFZLEdBQU0sRUFBRyxHQUFLLEtBQUssSUFDbkQsVUFDSyxJQUFHLEtBQUssRUFBSSxFQUFHLFlBQVksR0FBTyxFQUFHLEdBQUssS0FBSyxJQUNwRCxVQUNLLElBQUksRUFBRyxFQUFHLEdBQUcsS0FBSyxDQUFDLEtBQU0sRUFBRyxHQUFHLEVBQUcsSUFBTSxTQUFVLEVBQUcsR0FBSyxVQUFXLEVBQUcsRUFBRyxLQUFNLEtBQUssRUFBSSxFQUFHLEVBQUcsR0FDckcsVUFDSyxJQUFHLEtBQUssRUFBSSxDQUFDLENBQUMsS0FBTSxFQUFHLEdBQUcsRUFBRyxJQUFNLFNBQVUsRUFBRyxLQUNyRCxVQUNLLElBQUcsS0FBSyxFQUFJLEdBQ2pCLFVBQ0ssSUFBRyxFQUFHLEVBQUcsR0FBRyxLQUFLLEVBQUcsSUFDekIsVUFDSyxJQUFHLEtBQUssRUFBSSxHQUNqQixVQUNLLElBQUcsRUFBRyxFQUFHLEdBQUcsS0FBSyxFQUFHLElBQ3pCLFVBQ0ssSUFBRyxLQUFLLEVBQUksR0FDakIsVUFDSyxJQUFHLEVBQUcsRUFBRyxHQUFHLEtBQUssRUFBRyxJQUN6QixVQUNLLElBQUcsS0FBSyxFQUFJLEdBQ2pCLFVBQ0ssSUFBRyxFQUFHLEVBQUcsR0FBRyxLQUFLLEVBQUcsSUFDekIsVUFDSyxJQUFHLEtBQUssRUFBSSxHQUNqQixVQUNLLElBQUcsRUFBRyxFQUFHLEdBQUcsS0FBSyxFQUFHLElBQ3pCLFVBQ0ssSUFBRyxLQUFLLEVBQUksR0FDakIsVUFDSyxJQUFHLEVBQUcsRUFBRyxHQUFHLEtBQUssRUFBRyxJQUN6QixVQUNLLElBQUcsS0FBSyxFQUFJLEdBQ2pCLFVBQ0ssSUFBRyxFQUFHLEVBQUcsR0FBRyxLQUFLLEVBQUcsSUFDekIsVUFDSyxJQUFHLEtBQUssRUFBSSxHQUNqQixVQUNLLElBQUcsRUFBRyxFQUFHLEdBQUcsS0FBSyxFQUFHLElBQ3pCLFVBQ0ssSUFBRyxLQUFLLEVBQUksR0FDakIsVUFDSyxJQUFHLEVBQUcsRUFBRyxHQUFHLEtBQUssRUFBRyxJQUN6QixVQUNLLElBQUcsS0FBSyxFQUFJLEdBQ2pCLFVBQ0ssSUFBRyxFQUFHLEVBQUcsR0FBRyxLQUFLLEVBQUcsSUFDekIsVUFDSyxJQUFHLEtBQUssRUFBSSxHQUNqQixVQUNLLElBQUcsRUFBRyxFQUFHLEdBQUcsS0FBSyxFQUFHLElBQ3pCLFVBQ0ssSUFBRyxLQUFLLEVBQUksQ0FBQyxFQUFHLElBQ3JCLFVBQ0ssSUFBRyxFQUFHLEVBQUcsR0FBRyxLQUFLLEVBQUcsSUFDekIsVUFDSyxLQUFJLEtBQUssRUFBSSxDQUFDLEVBQUcsSUFDdEIsVUFDSyxLQUFJLEVBQUcsRUFBRyxHQUFHLEtBQUssRUFBRyxJQUMxQixRQUdBLE1BQU8sQ0FBQyxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsSUFBSSxFQUFFLEVBQUUsR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLEtBQUssQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxHQUFHLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsR0FBRyxHQUFHLENBQUMsRUFBRSxHQUFHLEdBQUcsQ0FBQyxFQUFFLEdBQUcsR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxHQUFHLEdBQUcsQ0FBQyxFQUFFLEtBQUssQ0FBQyxFQUFFLENBQUMsRUFBRSxJQUFJLENBQUMsRUFBRSxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsS0FBSyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEdBQUcsR0FBRyxDQUFDLEVBQUUsR0FBRyxHQUFHLENBQUMsRUFBRSxHQUFHLEdBQUcsQ0FBQyxFQUFFLEdBQUcsR0FBRyxDQUFDLEVBQUUsR0FBRyxHQUFHLENBQUMsRUFBRSxHQUFHLEdBQUcsQ0FBQyxFQUFFLEdBQUcsR0FBRyxDQUFDLEVBQUUsR0FBRyxHQUFHLENBQUMsRUFBRSxHQUFHLEdBQUcsQ0FBQyxFQUFFLEdBQUcsR0FBRyxDQUFDLEVBQUUsR0FBRyxHQUFHLENBQUMsRUFBRSxHQUFHLEdBQUcsQ0FBQyxFQUFFLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRSxHQUFHLEdBQUcsQ0FBQyxFQUFFLEdBQUcsR0FBRyxDQUFDLEVBQUUsR0FBRyxHQUFHLENBQUMsRUFBRSxHQUFHLEdBQUcsQ0FBQyxFQUFFLEdBQUcsR0FBRyxDQUFDLEVBQUUsR0FBRyxHQUFHLENBQUMsRUFBRSxHQUFHLEdBQUcsQ0FBQyxFQUFFLEdBQUcsR0FBRyxDQUFDLEVBQUUsR0FBRyxHQUFHLENBQUMsRUFBRSxHQUFHLEdBQUcsQ0FBQyxFQUFFLEdBQUcsR0FBRyxDQUFDLEVBQUUsR0FBRyxHQUFHLENBQUMsRUFBRSxJQUFJLENBQUMsRUFBRSxDQUFDLEVBQUUsR0FBRyxHQUFHLENBQUMsRUFBRSxHQUFHLEdBQUcsQ0FBQyxFQUFFLEdBQUcsR0FBRyxDQUFDLEVBQUUsR0FBRyxHQUFHLENBQUMsRUFBRSxHQUFHLEdBQUcsQ0FBQyxFQUFFLEdBQUcsR0FBRyxDQUFDLEVBQUUsR0FBRyxHQUFHLENBQUMsRUFBRSxHQUFHLEdBQUcsQ0FBQyxFQUFFLEdBQUcsR0FBRyxDQUFDLEVBQUUsR0FBRyxHQUFHLENBQUMsRUFBRSxHQUFHLEdBQUcsQ0FBQyxFQUFFLEdBQUcsR0FBRyxDQUFDLEVBQUUsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEdBQUcsR0FBRyxDQUFDLEVBQUUsR0FBRyxHQUFHLENBQUMsRUFBRSxHQUFHLEdBQUcsQ0FBQyxFQUFFLEdBQUcsR0FBRyxDQUFDLEVBQUUsR0FBRyxHQUFHLENBQUMsRUFBRSxHQUFHLEdBQUcsQ0FBQyxFQUFFLEdBQUcsR0FBRyxDQUFDLEVBQUUsR0FBRyxHQUFHLENBQUMsRUFBRSxHQUFHLEdBQUcsQ0FBQyxFQUFFLEdBQUcsR0FBRyxDQUFDLEVBQUUsR0FBRyxHQUFHLENBQUMsRUFBRSxHQUFHLEdBQUcsQ0FBQyxFQUFFLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRSxHQUFHLEdBQUcsQ0FBQyxFQUFFLEdBQUcsR0FBRyxDQUFDLEVBQUUsR0FBRyxHQUFHLENBQUMsRUFBRSxHQUFHLEdBQUcsQ0FBQyxFQUFFLEdBQUcsR0FBRyxDQUFDLEVBQUUsR0FBRyxHQUFHLENBQUMsRUFBRSxHQUFHLEdBQUcsQ0FBQyxFQUFFLEdBQUcsR0FBRyxDQUFDLEVBQUUsR0FBRyxHQUFHLENBQUMsRUFBRSxHQUFHLEdBQUcsQ0FBQyxFQUFFLEdBQUcsR0FBRyxDQUFDLEVBQUUsR0FBRyxHQUFHLENBQUMsRUFBRSxJQUFJLENBQUMsRUFBRSxDQUFDLEVBQUUsR0FBRyxHQUFHLENBQUMsRUFBRSxHQUFHLEdBQUcsQ0FBQyxFQUFFLEdBQUcsR0FBRyxDQUFDLEVBQUUsR0FBRyxHQUFHLENBQUMsRUFBRSxHQUFHLEdBQUcsQ0FBQyxFQUFFLEdBQUcsR0FBRyxDQUFDLEVBQUUsR0FBRyxHQUFHLENBQUMsRUFBRSxHQUFHLEdBQUcsQ0FBQyxFQUFFLEdBQUcsR0FBRyxDQUFDLEVBQUUsR0FBRyxHQUFHLENBQUMsRUFBRSxHQUFHLEdBQUcsQ0FBQyxFQUFFLEdBQUcsR0FBRyxDQUFDLEVBQUUsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEdBQUcsR0FBRyxDQUFDLEVBQUUsR0FBRyxHQUFHLENBQUMsRUFBRSxHQUFHLEdBQUcsQ0FBQyxFQUFFLEdBQUcsR0FBRyxDQUFDLEVBQUUsR0FBRyxHQUFHLENBQUMsRUFBRSxHQUFHLEdBQUcsQ0FBQyxFQUFFLEdBQUcsR0FBRyxDQUFDLEVBQUUsR0FBRyxHQUFHLENBQUMsRUFBRSxHQUFHLEdBQUcsQ0FBQyxFQUFFLEdBQUcsR0FBRyxDQUFDLEVBQUUsR0FBRyxHQUFHLENBQUMsRUFBRSxHQUFHLEdBQUcsQ0FBQyxFQUFFLElBQUksQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsSUFBSSxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxJQUFJLENBQUMsRUFBRSxHQUFHLEVBQUUsRUFBRSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsS0FBSyxDQUFDLEVBQUUsR0FBRyxFQUFFLEVBQUUsR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLEdBQUcsR0FBRyxDQUFDLEVBQUUsS0FBSyxDQUFDLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsSUFBSSxDQUFDLEVBQUUsR0FBRyxFQUFFLEVBQUUsR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsS0FBSyxDQUFDLEVBQUUsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsS0FBSyxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxJQUFJLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLElBQUksQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsSUFBSSxDQUFDLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxHQUFHLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsS0FBSyxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsS0FBSyxDQUFDLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLEdBQUcsR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLEdBQUcsR0FBRyxDQUFDLEVBQUUsS0FBSyxDQUFDLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxLQUFLLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxHQUFHLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLEtBQUssQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsSUFBSSxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsRUFBRSxLQUFLLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsR0FBRyxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsS0FBSyxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxHQUFHLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsS0FBSyxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLEtBQUssQ0FBQyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLElBQUksQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLEVBQUUsS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFLEtBQUssQ0FBQyxFQUFFLEdBQUcsRUFBRSxFQUFFLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUUsS0FBSyxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxJQUFJLENBQUMsRUFBRSxHQUFHLEVBQUUsRUFBRSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxLQUFLLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxFQUFFLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxLQUFLLENBQUMsRUFBRSxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsS0FBSyxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxHQUFHLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsS0FBSyxDQUFDLEVBQUUsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLEtBQUssQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsSUFBSSxDQUFDLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxJQUFJLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLElBQUksQ0FBQyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxJQUFJLEdBQUcsR0FBRyxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsSUFBSSxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLElBQUksQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLElBQUksR0FBRyxJQUFJLEdBQUcsR0FBRyxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsSUFBSSxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxNQUFNLENBQUMsR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsSUFBSSxHQUFHLENBQUMsRUFBRSxLQUFLLEdBQUcsQ0FBQyxFQUFFLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLEtBQUssR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUUsTUFBTSxDQUFDLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUUsS0FBSyxDQUFDLEVBQUUsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLEtBQUssQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLEdBQUcsR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLElBQUksR0FBRyxJQUFJLEdBQUcsQ0FBQyxFQUFFLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFLEtBQUssQ0FBQyxFQUFFLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUUsTUFBTSxDQUFDLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUUsS0FBSyxDQUFDLEdBQUcsR0FBRyxHQUFHLElBQUksR0FBRyxHQUFHLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxJQUFJLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxHQUFHLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLElBQUksR0FBRyxDQUFDLEVBQUUsTUFBTSxDQUFDLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsSUFBSSxHQUFHLElBQUksR0FBRyxDQUFDLEVBQUUsTUFBTSxDQUFDLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxNQUFNLENBQUMsR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUUsTUFBTSxDQUFDLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUUsS0FBSyxDQUFDLEVBQUUsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxHQUFHLEdBQUcsR0FBRyxJQUFJLEdBQUcsR0FBRyxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUUsS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFLEtBQUssQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLElBQUksR0FBRyxJQUFJLEdBQUcsR0FBRyxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsSUFBSSxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxNQUFNLENBQUMsR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxLQUFLLENBQUMsRUFBRSxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxHQUFHLENBQUMsRUFBRSxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUUsS0FBSyxHQUFHLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxNQUFNLENBQUMsR0FBRyxDQUFDLEVBQUUsS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxJQUFJLEdBQUcsSUFBSSxHQUFHLENBQUMsRUFBRSxNQUFNLENBQUMsR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFLEtBQUssR0FBRyxDQUFDLEVBQUUsTUFBTSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEtBQUssR0FBRyxDQUFDLEVBQUUsTUFBTSxDQUFDLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxHQUFHLENBQUMsRUFBRSxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUUsS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFLEtBQUssR0FBRyxDQUFDLEVBQUUsTUFBTSxDQUFDLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxNQUMxL1YsZUFBZ0IsQ0FBQyxFQUFFLENBQUMsRUFBRSxHQUFHLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksSUFBSSxDQUFDLEVBQUUsSUFBSSxJQUFJLENBQUMsRUFBRSxJQUFJLElBQUksQ0FBQyxFQUFFLElBQUksSUFBSSxDQUFDLEVBQUUsSUFBSSxJQUFJLENBQUMsRUFBRSxJQUFJLElBQUksQ0FBQyxFQUFFLElBQUksSUFBSSxDQUFDLEVBQUUsSUFBSSxJQUFJLENBQUMsRUFBRSxJQUFJLElBQUksQ0FBQyxFQUFFLEtBQzlMLFdBQVksU0FBcUIsRUFBSyxFQUFNLENBQ3hDLEtBQU0sSUFBSSxPQUFNLElBRXBCLE1BQU8sU0FBZSxFQUFPLENBQ3pCLEdBQUksR0FBTyxLQUFNLEVBQVEsQ0FBQyxHQUFJLEVBQVMsQ0FBQyxNQUFPLEVBQVMsR0FBSSxFQUFRLEtBQUssTUFBTyxFQUFTLEdBQUksRUFBVyxFQUFHLEVBQVMsRUFBRyxFQUFhLEVBQUcsRUFBUyxFQUFHLEVBQU0sRUFDekosS0FBSyxNQUFNLFNBQVMsR0FDcEIsS0FBSyxNQUFN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
